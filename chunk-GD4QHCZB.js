import{a as cr}from"./chunk-E2IGJCUJ.js";import{a as vo,b as pr}from"./chunk-RVWR7NO3.js";import{a as dr}from"./chunk-2JTWFKVB.js";import{a as fi}from"./chunk-AFBRSKFL.js";import{a as Eo}from"./chunk-WBY26EFE.js";import{a as nr,b as or,c as ar,d as rr,e as lr,f as sr,g as So,h as yo,i as Mo}from"./chunk-NJHE727P.js";import{a as wi}from"./chunk-SAVYCYMJ.js";import{a as Ai}from"./chunk-AXPWVDZN.js";import{a as xi}from"./chunk-KAKXUO64.js";import{a as ir}from"./chunk-J3B2CJCZ.js";import{a as tr}from"./chunk-CLFVUVK4.js";import{a as rn}from"./chunk-EEIJQEQ3.js";import{a as er}from"./chunk-2UBVCYDX.js";import{a as $a}from"./chunk-ZRJDZEMA.js";import{a as Xa}from"./chunk-EGBMIRON.js";import{a as sn}from"./chunk-3IDV2HIZ.js";import{a as an}from"./chunk-6OOUIFP7.js";import{a as ln}from"./chunk-5PGIHI7G.js";import{a as go,b as Co,c as ci,d as di,e as pi,f as Za,g as mi,h as ui}from"./chunk-35JUN3LB.js";import{a as Ti}from"./chunk-7HF25NU4.js";import{a as si}from"./chunk-E5FIWGWV.js";import{j as vi,k as Ei,l as Ii}from"./chunk-K6R5KLLV.js";import{a as ne,b as Mi,d as fo}from"./chunk-QQASZTWY.js";import{a as Yt}from"./chunk-Q2QA4ZTY.js";import{a as on}from"./chunk-JHUBPGKZ.js";import{a as ho}from"./chunk-HTLJNZF6.js";import{a as bi}from"./chunk-IXPEP4O3.js";import{a as _o}from"./chunk-ABPLGNRY.js";import{a as li}from"./chunk-IPNZEP47.js";import{a as De}from"./chunk-WFUYKU73.js";import{a as G,d as Le}from"./chunk-5K55RFP4.js";import{a as ht,b as yi,e as Qt,f as W}from"./chunk-EF7DKNFT.js";import{$ as ut,$a as ee,$b as Ja,A as tt,Ab as Et,Ba as ka,Bb as It,Ca as La,Cb as bt,Da,Db as Tt,Eb as wt,Fb as At,Gb as xt,Hb as Pt,Ib as Rt,J as ae,K as it,Ka as Re,Kb as nn,L as nt,La as je,Lc as z,Ma as re,Ob as qa,Oc as K,Pb as ja,Q as mt,Qb as Qa,Qc as F,Rb as Ya,Sa as Va,Sb as za,Sc as Ft,Ta as Oa,Tb as Ka,Ua as Ba,Ub as uo,V as po,Va as Fa,W as ot,Wa,Wb as B,X as Ta,Xa as Ha,Xb as N,Y as Bt,Z as jt,Za as ke,_ as mo,a as ei,aa as ft,ba as _t,db as Na,eb as ti,fb as ii,hc as kt,ib as ni,m as Ot,n as ie,nb as oi,pb as ai,q as $,qb as ri,r as Xe,sa as wa,t as $e,tb as $i,u as qe,ua as Aa,ub as en,v as Te,va as xa,vb as tn,w as et,wb as Ga,x as co,xa as Pa,xb as Ua,ya as Ra,za as Xi,zb as vt}from"./chunk-4ZDW4SNU.js";import{$d as Ue,Ab as d,An as oo,Bb as Mt,Ca as q,Cb as Je,Cn as Sa,Dd as Ze,Dn as Gt,Eb as He,Ee as ea,F as ct,Fa as o,Fb as Ne,Gb as Ge,Gd as Ci,Ha as xe,Hd as j,Hn as lt,I as yt,In as ta,Jn as Si,Kb as k,Lb as Qe,Lc as fe,Ld as D,Ln as ao,Mb as J,Md as he,Mn as Zn,Nb as Ni,Oa as v,P as dt,Pb as c,Pd as Y,Q as pt,Qb as b,Rb as S,Rc as be,Sa as O,Sb as ue,Sn as Xt,Tc as _e,Ud as Q,Un as ro,Vb as T,Wa as ge,Wb as w,Wn as Ut,Xb as A,Xc as ua,Ya as L,Yb as x,Yd as Ae,Yn as zi,Zb as we,_n as ya,ac as Me,ag as eo,bc as ve,bd as fa,bo as Ma,co as Ki,da as u,db as Pe,dn as io,ea as f,en as Ht,eo as lo,fb as y,fc as g,fn as Nt,gb as M,gc as C,gn as zt,go as va,hc as ma,ho as $t,ib as Ce,jb as Se,jn as ga,kb as ye,kg as Vt,kn as Qi,ko as Ea,lb as p,mb as l,mo as so,mr as X,nb as r,ob as h,oo as Ia,p as St,pn as Ca,po as ba,q as st,re as te,rn as Jn,sb as P,sn as Yi,so as Ji,tb as R,to as qt,u as pa,ub as Wt,ud as gi,ue as ha,un as no,uo as Zi,vb as I,vg as to,wd as Zt,xd as _a,yb as E,yc as H}from"./chunk-GC7IBVIU.js";import{f as $n,i as Z}from"./chunk-SEDBTTTN.js";var Gr=["*"];function Ur(n,a){if(n&1&&(l(0,"label",3),c(1),r()),n&2){let e=d();p("for",we("app-cms-site-selector-",e.id)),o(),b(e.optionLabel)}}function qr(n,a){if(n&1&&(h(0,"img",5),g(1,"cmsthumbnail")),n&2){let e=d();p("src",x(C(1,2,e.dataModelSelect==null?null:e.dataModelSelect.linkMainImageIdSrc)),q)}}function jr(n,a){if(n&1&&(h(0,"img",5),g(1,"cmsthumbnail")),n&2){let e=d().$implicit;p("src",x(C(1,2,e.linkMainImageIdSrc)),q)}}function Qr(n,a){if(n&1&&(l(0,"mat-option",8),y(1,jr,2,4,"img",5),l(2,"span"),c(3),r()()),n&2){let e=a.$implicit,i=d();p("value",e)("disabled",i.optionDisabled),o(),M(e.linkMainImageIdSrc?1:-1),o(2),b(i.displayOption(e))}}function Yr(n,a){n&1&&h(0,"i",9)}function zr(n,a){n&1&&h(0,"i",10)}function Kr(n,a){if(n&1){let e=I();l(0,"i",13),E("click",function(){u(e);let t=d();return f(t.onActionSelectClear())}),r()}}function Jr(n,a){n&1&&(l(0,"em"),c(1),g(2,"translate"),r()),n&2&&(o(),S("(",C(2,1,"TITLE.Necessary"),")"))}var Pi=class Pi{constructor(a,e,i,t,s,_,m,U){this.coreEnumService=a;this.cmsToastrService=e;this.cdr=i;this.publicHelper=t;this.tokenHelper=s;this.cmsStoreService=_;this.translate=m;this.categoryService=U;this.id=++Pi.nextId;this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new j;this.dataModelSelect=new Gt;this.formControl=new qe;this.optionDisabled=!1;this.optionRequired=!1;this.optionSelectFirstItem=!1;this.optionPlaceholder="";this.optionLabel="";this.optionChange=new xe;this.optionReload=()=>this.onActionButtonReload();this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(a){this.onActionSelectForce(a)}ngOnInit(){this.loadOptions(),this.unsubscribe.push(this.cmsStoreService.getState(a=>a.tokenInfoStore).subscribe(()=>Z(this,null,function*(){this.loadOptions()}))),(!this.optionLabel||this.optionLabel.length==0&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder)}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(a=>a.unsubscribe())}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(dt(""),ct(1500),yt(),pt(a=>typeof a=="string"||typeof a=="number"?this.DataGetAll(a||""):[]))}displayFn(a){return a?a.title+" # "+a.caseCode:void 0}displayOption(a){return a?a.title+" # "+a.caseCode:void 0}DataGetAll(a){return Z(this,null,function*(){let e=new Qi;e.rowPerPage=20,e.accessLoad=!0;let i=new D;i.propertyName="Name",i.value=a,i.searchType=Q.Contains,e.filters.push(i),i=new D,i.propertyName="id",i.value=a,i.searchType=Q.Equal,i.clauseType=Y.Or,e.filters.push(i),i=new D,i.propertyName="CaseCode",i.value=a,i.searchType=Q.Equal,i.clauseType=Y.Or,e.filters.push(i),i=new D,i.propertyName="title",i.value=a,i.searchType=Q.Contains,i.clauseType=Y.Or,e.filters.push(i),a?.length>0&&(i=new D,i.propertyName="LinkCmsUserId",i.value=a,i.searchType=Q.Equal,i.clauseType=Y.Or,e.filters.push(i),i=new D,i.propertyName="aboutCustomerTel",i.value=a,i.searchType=Q.Contains,i.clauseType=Y.Or,e.filters.push(i),i=new D,i.propertyName="aboutCustomerMobile",i.value=a,i.searchType=Q.Contains,i.clauseType=Y.Or,e.filters.push(i));let t=this.constructor.name+"main";return this.translate.get("MESSAGE.Receiving_information").subscribe(s=>{this.publicHelper.processService.processStart(t,s,this.constructorInfoAreaId)}),yield St(this.categoryService.ServiceGetAll(e)).then(s=>(this.dataModelResult=s,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||this.dataModelSelect.id.length===0)&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0])},1e3),this.onActionSelect(this.dataModelResult.listItems[0])),this.publicHelper.processService.processStop(t),s.listItems))})}onActionSelect(a){this.optionDisabled||(this.dataModelSelect=a,this.optionChange.emit(this.dataModelSelect))}onActionSelectClear(){this.optionDisabled||(this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null))}push(a){return this.filteredOptions.pipe(st(e=>(e.find(i=>i.id===a.id)||e.push(a),e)))}onActionSelectForce(a){if(typeof a=="string"&&a.length>0){if(this.dataModelSelect&&this.dataModelSelect.id===a)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(e=>e.id===a)){let e=this.dataModelResult.listItems.find(i=>i.id===a);this.dataModelSelect=e,this.formControl.setValue(e);return}this.categoryService.ServiceGetOneById(a).subscribe({next:e=>{e.isSuccess?(this.filteredOptions=this.push(e.item),this.dataModelSelect=e.item,this.formControl.setValue(e.item),this.optionChange.emit(e.item)):this.cmsToastrService.typeErrorMessage(e.errorMessage)}});return}if(typeof a==typeof Gt){this.filteredOptions=this.push(a),this.dataModelSelect=a,this.formControl.setValue(a);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new Gt,this.loadOptions()}};Pi.nextId=0,Pi.\u0275fac=function(e){return new(e||Pi)(v(te),v(F),v(H),v(W),v(K),v(z),v(B),v($t))},Pi.\u0275cmp=O({type:Pi,selectors:[["app-estate-property-selector"]],inputs:{optionDisabled:"optionDisabled",optionRequired:"optionRequired",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionLabel:"optionLabel",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange"},standalone:!1,ngContentSelectors:Gr,decls:18,vars:24,consts:[["matauto","matAutocomplete"],[1,"input-style","has-borders","has-icon","input-style-always-active","validate-field","mb-4","loader-container"],[3,"optionsInfoAreaId"],[1,"color-highlight",3,"for"],["matPrefix",""],["aria-hidden","","height","25","width","25",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["type","text","aria-label","Assignee","matInput","",3,"placeholder","formControl","matAutocomplete","required","id"],[3,"optionSelected","displayWith"],[3,"value","disabled"],[1,"fa","fa-info","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"fa","fa-times","action","color-red-dark"],[1,"fa","fa-rotate-right","action","color-green-dark",2,"margin-left","20px",3,"click","title"],[1,"fa","fa-times","action","color-red-dark",3,"click"]],template:function(e,i){if(e&1){let t=I();Mt(),l(0,"div",1),h(1,"app-progress-spinner",2),y(2,Ur,2,3,"label",3),l(3,"span",4),y(4,qr,2,4,"img",5),r(),h(5,"input",6),l(6,"mat-autocomplete",7,0),E("optionSelected",function(_){return u(t),f(i.onActionSelect(_.option.value))}),Se(8,Qr,4,4,"mat-option",8,Ce),g(10,"async"),r(),y(11,Yr,1,0,"i",9),y(12,zr,1,0,"i",10),y(13,Kr,1,0,"i",11),l(14,"i",12),g(15,"translate"),E("click",function(){return u(t),f(i.onActionButtonReload())}),r(),y(16,Jr,3,3,"em"),Je(17),r()}if(e&2){let t=k(7);o(),p("optionsInfoAreaId",i.constructorInfoAreaId),o(),M((i.optionLabel==null?null:i.optionLabel.length)>0?2:-1),o(2),M(i.dataModelSelect&&(i.dataModelSelect!=null&&i.dataModelSelect.linkMainImageIdSrc)?4:-1),o(),p("placeholder",x(i.optionPlaceholder))("id",we("app-cms-site-selector-",i.id))("formControl",i.formControl)("matAutocomplete",t)("required",i.optionRequired),Pe("disabled",i.optionDisabled?!0:null),o(),p("displayWith",i.displayFn),o(2),ye(C(10,20,i.filteredOptions)),o(3),M(i.formControl.valid?-1:11),o(),M(i.optionRequired&&i.formControl.valid?12:-1),o(),M((i.dataModelSelect==null||i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0?13:-1),o(),J("rotation360",i.publicHelper.processService.process.inRunArea[i.constructorInfoAreaId]),p("title",x(C(15,22,"ACTION.RELOAD"))),o(2),M(i.optionRequired&&(!i.dataModelSelect||!i.dataModelSelect.id||(i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)===0)?16:-1)}},dependencies:[ie,$,ae,tt,ut,mt,ft,Bt,ee,G,_e,N,ne],encapsulation:2});var Io=Pi;var Xr=["*"];function $r(n,a){if(n&1&&(l(0,"label",3),c(1),r()),n&2){let e=d();p("for",we("app-cms-site-selector-",e.id)),o(),b(e.optionLabel)}}function el(n,a){if(n&1&&(l(0,"mat-option",6)(1,"span"),c(2),r()()),n&2){let e=a.$implicit,i=d();p("value",e)("disabled",i.optionDisabled),o(2),b(i.displayOption(e))}}function tl(n,a){n&1&&h(0,"i",7)}function il(n,a){n&1&&h(0,"i",8)}function nl(n,a){if(n&1){let e=I();l(0,"i",11),E("click",function(){u(e);let t=d();return f(t.onActionSelectClear())}),r()}}function ol(n,a){n&1&&(l(0,"em"),c(1),g(2,"translate"),r()),n&2&&(o(),S("(",C(2,1,"TITLE.Necessary"),")"))}var ki=class ki{constructor(a,e,i,t,s,_){this.coreEnumService=a;this.cmsToastrService=e;this.translate=i;this.cdr=t;this.publicHelper=s;this.categoryService=_;this.id=++ki.nextId;this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new j;this.dataModelSelect=new no;this.formControl=new qe;this.optionDisabled=!1;this.optionRequired=!1;this.optionSelectFirstItem=!1;this.optionPlaceholder="";this.optionLabel="";this.optionChange=new xe;this.optionReload=()=>this.onActionButtonReload();this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(a){this.onActionSelectForce(a)}ngOnInit(){this.loadOptions(),(!this.optionLabel||this.optionLabel.length==0&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder)}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(dt(""),ct(1500),yt(),pt(a=>typeof a=="string"||typeof a=="number"?this.DataGetAll(a||""):[]))}displayFn(a){return a?a.title:void 0}displayOption(a){return a?a.title:void 0}DataGetAll(a){return Z(this,null,function*(){let e=new ga;e.rowPerPage=20,e.accessLoad=!0;let i=new D;a&&a.length>0&&(i.propertyName="title",i.value=a,i.searchType=Q.Contains,i.clauseType=Y.Or,e.filters.push(i),i=new D,i.propertyName="id",i.value=a,i.searchType=Q.Equal,i.clauseType=Y.Or,e.filters.push(i),i=new D,i.propertyName="description",i.value=a,i.searchType=Q.Contains,i.clauseType=Y.Or,e.filters.push(i),i=new D,i.propertyName="descriptionHidden",i.value=a,i.searchType=Q.Contains,i.clauseType=Y.Or,e.filters.push(i),i=new D,i.propertyName="LinkCmsUserId",i.value=a,i.searchType=Q.Equal,i.clauseType=Y.Or,e.filters.push(i),i=new D,i.propertyName="contactMobiles",i.value=a,i.searchType=Q.Contains,i.clauseType=Y.Or,e.filters.push(i));let t=this.constructor.name+"main";return this.translate.get("MESSAGE.Receiving_information").subscribe(s=>{this.publicHelper.processService.processStart(t,s,this.constructorInfoAreaId)}),yield St(this.categoryService.ServiceGetAll(e)).then(s=>(this.dataModelResult=s,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||this.dataModelSelect.id.length===0)&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0])},1e3),this.onActionSelect(this.dataModelResult.listItems[0])),this.publicHelper.processService.processStop(t),s.listItems))})}onActionSelect(a){this.optionDisabled||(this.dataModelSelect=a,this.optionChange.emit(this.dataModelSelect))}onActionSelectClear(){this.optionDisabled||(this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null))}push(a){return this.filteredOptions.pipe(st(e=>(e.find(i=>i.id===a.id)||e.push(a),e)))}onActionSelectForce(a){if(typeof a=="string"&&a.length>0){if(this.dataModelSelect&&this.dataModelSelect.id===a)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(e=>e.id===a)){let e=this.dataModelResult.listItems.find(i=>i.id===a);this.dataModelSelect=e,this.formControl.setValue(e);return}this.categoryService.ServiceGetOneById(a).subscribe({next:e=>{e.isSuccess?(this.filteredOptions=this.push(e.item),this.dataModelSelect=e.item,this.formControl.setValue(e.item),this.optionChange.emit(e.item)):this.cmsToastrService.typeErrorMessage(e.errorMessage)}});return}if(typeof a==typeof no){this.filteredOptions=this.push(a),this.dataModelSelect=a,this.formControl.setValue(a);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new no,this.loadOptions()}};ki.nextId=0,ki.\u0275fac=function(e){return new(e||ki)(v(te),v(F),v(B),v(H),v(W),v(lo))},ki.\u0275cmp=O({type:ki,selectors:[["app-estate-customer-order-selector"]],inputs:{optionDisabled:"optionDisabled",optionRequired:"optionRequired",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionLabel:"optionLabel",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange"},standalone:!1,ngContentSelectors:Xr,decls:16,vars:23,consts:[["matauto","matAutocomplete"],[1,"input-style","has-borders","has-icon","input-style-always-active","validate-field","mb-4","loader-container"],[3,"optionsInfoAreaId"],[1,"color-highlight",3,"for"],["type","text","aria-label","Assignee","matInput","",3,"placeholder","formControl","matAutocomplete","required","id"],[3,"optionSelected","displayWith"],[3,"value","disabled"],[1,"fa","fa-info","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"fa","fa-times","action","color-red-dark"],[1,"fa","fa-rotate-right","action","color-green-dark",2,"margin-left","20px",3,"click","title"],[1,"fa","fa-times","action","color-red-dark",3,"click"]],template:function(e,i){if(e&1){let t=I();Mt(),l(0,"div",1),h(1,"app-progress-spinner",2),y(2,$r,2,3,"label",3),h(3,"input",4),l(4,"mat-autocomplete",5,0),E("optionSelected",function(_){return u(t),f(i.onActionSelect(_.option.value))}),Se(6,el,3,3,"mat-option",6,Ce),g(8,"async"),r(),y(9,tl,1,0,"i",7),y(10,il,1,0,"i",8),y(11,nl,1,0,"i",9),l(12,"i",10),g(13,"translate"),E("click",function(){return u(t),f(i.onActionButtonReload())}),r(),y(14,ol,3,3,"em"),Je(15),r()}if(e&2){let t=k(5);o(),p("optionsInfoAreaId",i.constructorInfoAreaId),o(),M((i.optionLabel==null?null:i.optionLabel.length)>0?2:-1),o(),p("placeholder",x(i.optionPlaceholder))("id",we("app-cms-site-selector-",i.id))("formControl",i.formControl)("matAutocomplete",t)("required",i.optionRequired),Pe("disabled",i.optionDisabled?!0:null),o(),p("displayWith",i.displayFn),o(2),ye(C(8,19,i.filteredOptions)),o(3),M(i.formControl.valid?-1:9),o(),M(i.optionRequired&&i.formControl.valid?10:-1),o(),M((i.dataModelSelect==null||i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0?11:-1),o(),J("rotation360",i.publicHelper.processService.process.inRunArea[i.constructorInfoAreaId]),p("title",x(C(13,21,"ACTION.RELOAD"))),o(2),M(i.optionRequired&&(!i.dataModelSelect||!i.dataModelSelect.id||(i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)===0)?14:-1)}},dependencies:[ie,$,ae,tt,ut,mt,ft,ee,G,_e,N],encapsulation:2});var bo=ki;var rl=["*"];function ll(n,a){if(n&1&&(h(0,"img",4),g(1,"cmsthumbnail")),n&2){let e=d();p("src",x(C(1,2,e.dataModelSelect==null?null:e.dataModelSelect.linkMainImageIdSrc)),q)}}function sl(n,a){if(n&1&&(h(0,"img",4),g(1,"cmsthumbnail")),n&2){let e=d().$implicit;p("src",x(C(1,2,e.linkMainImageIdSrc)),q)}}function cl(n,a){if(n&1&&(l(0,"mat-option",8),y(1,sl,2,4,"img",4),l(2,"span"),c(3),r()()),n&2){let e=a.$implicit,i=d();p("value",e)("disabled",i.optionDisabled),o(),M(e.linkMainImageIdSrc?1:-1),o(2),b(i.displayOption(e))}}function dl(n,a){n&1&&h(0,"i",9)}function pl(n,a){n&1&&h(0,"i",10)}function ml(n,a){if(n&1){let e=I();l(0,"i",13),E("click",function(){u(e);let t=d();return f(t.onActionSelectClear())}),r()}}function ul(n,a){n&1&&(l(0,"em"),c(1),g(2,"translate"),r()),n&2&&(o(),S("(",C(2,1,"TITLE.Necessary"),")"))}var cn=class cn{constructor(a,e,i,t,s,_){this.coreEnumService=a;this.cmsToastrService=e;this.cdr=i;this.publicHelper=t;this.translate=s;this.categoryService=_;this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new j;this.dataModelSelect=new Ht;this.formControl=new qe;this.optionDisabled=!1;this.optionSelectFirstItem=!1;this.optionPlaceholder="";this.optionLabel="";this.optionRequired=!1;this.optionChange=new xe;this.optionReload=()=>this.onActionButtonReload();this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(a){this.forceSelect=a,this.onActionSelectForce(a)}set optionSelectUserId(a){(!this.forceSelect||this.forceSelect!==null)&&this.DataGetAll(a)}ngOnInit(){this.loadOptions(),(!this.optionLabel||this.optionLabel.length==0&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder)}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(dt(""),ct(1500),yt(),pt(a=>typeof a=="string"||typeof a=="number"?this.DataGetAll(a||""):[]))}displayFn(a){return a?a.title:void 0}displayOption(a){return a?a.title:void 0}DataGetAll(a){return Z(this,null,function*(){let e=new ao;e.rowPerPage=20,e.accessLoad=!0;let i=new D;typeof a=="string"&&a.length>0&&(i.propertyName="title",i.value=a,i.searchType=Q.Contains,e.filters.push(i),i=new D,i.propertyName="id",i.value=a,i.searchType=Q.Equal,i.clauseType=Y.Or,e.filters.push(i)),a?.length>0&&(i=new D,i.propertyName="LinkCmsUserId",i.value=a,i.searchType=Q.Equal,i.clauseType=Y.Or,e.filters.push(i),i=new D,i.propertyName="mobileNumber",i.value=a,i.searchType=Q.Contains,i.clauseType=Y.Or,e.filters.push(i),i=new D,i.propertyName="phoneNumber",i.value=a,i.searchType=Q.Contains,i.clauseType=Y.Or,e.filters.push(i));let t=this.constructor.name+"main";return this.translate.get("MESSAGE.Receiving_information").subscribe(s=>{this.publicHelper.processService.processStart(t,s,this.constructorInfoAreaId)}),yield St(this.categoryService.ServiceGetAll(e)).then(s=>(this.dataModelResult=s,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||this.dataModelSelect.id.length===0)&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0])},1e3),this.onActionSelect(this.dataModelResult.listItems[0])),this.publicHelper.processService.processStop(t),s.listItems))})}onActionSelect(a){this.optionDisabled||(this.dataModelSelect=a,this.optionChange.emit(this.dataModelSelect))}onActionSelectClear(){this.optionDisabled||(this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null))}push(a){return this.filteredOptions.pipe(st(e=>(e.find(i=>i.id===a.id)||e.push(a),e)))}onActionSelectForce(a){if(typeof a=="string"&&a.length>0){if(this.dataModelSelect&&this.dataModelSelect.id===a)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(e=>e.id===a)){let e=this.dataModelResult.listItems.find(i=>i.id===a);this.dataModelSelect=e,this.formControl.setValue(e);return}this.categoryService.ServiceGetOneById(a).subscribe({next:e=>{e.isSuccess?(this.filteredOptions=this.push(e.item),this.dataModelSelect=e.item,this.formControl.setValue(e.item),this.optionChange.emit(e.item)):this.cmsToastrService.typeErrorMessage(e.errorMessage)}});return}if(typeof a==typeof Ht){this.filteredOptions=this.push(a),this.dataModelSelect=a,this.formControl.setValue(a);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new Ht,this.loadOptions()}};cn.\u0275fac=function(e){return new(e||cn)(v(te),v(F),v(H),v(W),v(B),v(Xt))},cn.\u0275cmp=O({type:cn,selectors:[["app-estate-account-agency-selector"]],inputs:{optionDisabled:"optionDisabled",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionLabel:"optionLabel",optionRequired:"optionRequired",optionReload:"optionReload",optionSelectForce:"optionSelectForce",optionSelectUserId:"optionSelectUserId"},outputs:{optionChange:"optionChange"},standalone:!1,ngContentSelectors:rl,decls:19,vars:22,consts:[["matauto","matAutocomplete"],[1,"input-style","has-borders","has-icon","input-style-always-active","validate-field","mb-4","loader-container"],[3,"optionsInfoAreaId"],["matPrefix",""],["aria-hidden","","height","25","width","25",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["type","text","aria-label","Assignee","matInput","",3,"placeholder","formControl","matAutocomplete","required"],["for","forminput",1,"color-highlight"],[3,"optionSelected","displayWith"],[3,"value","disabled"],[1,"fa","fa-info","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"fa","fa-times","action","color-red-dark"],[1,"fa","fa-rotate-right","action","color-green-dark",2,"margin-left","20px",3,"click","title"],[1,"fa","fa-times","action","color-red-dark",3,"click"]],template:function(e,i){if(e&1){let t=I();Mt(),l(0,"div",1),h(1,"app-progress-spinner",2),l(2,"span",3),y(3,ll,2,4,"img",4),r(),h(4,"input",5),l(5,"label",6),c(6),r(),l(7,"mat-autocomplete",7,0),E("optionSelected",function(_){return u(t),f(i.onActionSelect(_.option.value))}),Se(9,cl,4,4,"mat-option",8,Ce),g(11,"async"),r(),y(12,dl,1,0,"i",9),y(13,pl,1,0,"i",10),y(14,ml,1,0,"i",11),l(15,"i",12),g(16,"translate"),E("click",function(){return u(t),f(i.onActionButtonReload())}),r(),y(17,ul,3,3,"em"),Je(18),r()}if(e&2){let t=k(8);o(),p("optionsInfoAreaId",i.constructorInfoAreaId),o(2),M(i.dataModelSelect&&(i.dataModelSelect!=null&&i.dataModelSelect.linkMainImageIdSrc)?3:-1),o(),p("placeholder",x(i.optionPlaceholder))("formControl",i.formControl)("matAutocomplete",t)("required",i.optionRequired),Pe("disabled",i.optionDisabled?!0:null),o(2),b(i.optionLabel),o(),p("displayWith",i.displayFn),o(2),ye(C(11,18,i.filteredOptions)),o(3),M(i.formControl.valid?-1:12),o(),M(i.optionRequired&&i.formControl.valid?13:-1),o(),M((i.dataModelSelect==null||i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0?14:-1),o(),J("rotation360",i.publicHelper.processService.process.inRunArea[i.constructorInfoAreaId]),p("title",x(C(16,20,"ACTION.RELOAD"))),o(2),M(i.optionRequired&&(!i.dataModelSelect||!i.dataModelSelect.id||i.dataModelSelect.id.length<=0)?17:-1)}},dependencies:[ie,$,ae,tt,ut,mt,ft,Bt,ee,G,_e,N,ne],encapsulation:2});var To=cn;var _l=["*"];function hl(n,a){if(n&1&&(h(0,"img",4),g(1,"cmsthumbnail")),n&2){let e=d();p("src",x(C(1,2,e.dataModelSelect==null?null:e.dataModelSelect.linkMainImageIdSrc)),q)}}function gl(n,a){if(n&1&&(h(0,"img",4),g(1,"cmsthumbnail")),n&2){let e=d().$implicit;p("src",x(C(1,2,e.linkMainImageIdSrc)),q)}}function Cl(n,a){if(n&1&&(l(0,"mat-option",8),y(1,gl,2,4,"img",4),l(2,"span"),c(3),r()()),n&2){let e=a.$implicit,i=d();p("value",e)("disabled",i.optionDisabled),o(),M(e.linkMainImageIdSrc?1:-1),o(2),b(i.displayOption(e))}}function Sl(n,a){n&1&&h(0,"i",9)}function yl(n,a){n&1&&h(0,"i",10)}function Ml(n,a){if(n&1){let e=I();l(0,"i",13),E("click",function(){u(e);let t=d();return f(t.onActionSelectClear())}),r()}}function vl(n,a){n&1&&(l(0,"em"),c(1),g(2,"translate"),r()),n&2&&(o(),S("(",C(2,1,"TITLE.Necessary"),")"))}var dn=class dn{constructor(a,e,i,t,s,_){this.coreEnumService=a;this.cmsToastrService=e;this.translate=i;this.cdr=t;this.publicHelper=s;this.categoryService=_;this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new j;this.dataModelSelect=new Nt;this.formControl=new qe;this.optionDisabled=!1;this.optionSelectFirstItem=!1;this.optionPlaceholder="";this.optionLabel="";this.optionRequired=!1;this.optionChange=new xe;this.optionReload=()=>this.onActionButtonReload();this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(a){this.onActionSelectForce(a)}ngOnInit(){this.loadOptions(),(!this.optionLabel||this.optionLabel.length==0&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder)}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(dt(""),ct(1500),yt(),pt(a=>typeof a=="string"||typeof a=="number"?this.DataGetAll(a||""):[]))}displayFn(a){return a?a.title:void 0}displayOption(a){return a?a.title:void 0}DataGetAll(a){return Z(this,null,function*(){let e=new Zn;e.rowPerPage=20,e.accessLoad=!0;let i=new D;typeof a=="string"&&a.length>0&&(i.propertyName="title",i.value=a,i.searchType=Q.Contains,i.clauseType=Y.Or,e.filters.push(i),i=new D,i.propertyName="id",i.value=a,i.searchType=Q.Equal,i.clauseType=Y.Or,e.filters.push(i)),a?.length>0&&(i=new D,i.propertyName="LinkCmsUserId",i.value=a,i.searchType=Q.Equal,i.clauseType=Y.Or,e.filters.push(i),i=new D,i.propertyName="mobileNumber",i.value=a,i.searchType=Q.Contains,i.clauseType=Y.Or,e.filters.push(i),i=new D,i.propertyName="phoneNumber",i.value=a,i.searchType=Q.Contains,i.clauseType=Y.Or,e.filters.push(i));let t=this.constructor.name+"main";return this.translate.get("MESSAGE.Receiving_information").subscribe(s=>{this.publicHelper.processService.processStart(t,s,this.constructorInfoAreaId)}),yield St(this.categoryService.ServiceGetAll(e)).then(s=>(this.dataModelResult=s,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||this.dataModelSelect.id.length===0)&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0])},1e3),this.onActionSelect(this.dataModelResult.listItems[0])),this.publicHelper.processService.processStop(t),s.listItems))})}onActionSelect(a){this.optionDisabled||(this.dataModelSelect=a,this.optionChange.emit(this.dataModelSelect))}onActionSelectClear(){this.optionDisabled||(this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null))}push(a){return this.filteredOptions.pipe(st(e=>(e.find(i=>i.id===a.id)||e.push(a),e)))}onActionSelectForce(a){if(typeof a=="number"&&a>0){if(this.dataModelSelect&&this.dataModelSelect.linkCmsUserId===a)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(t=>t.linkCmsUserId===a)){let t=this.dataModelResult.listItems.find(s=>s.linkCmsUserId===a);this.dataModelSelect=t,this.formControl.setValue(t);return}let e=new Zn,i=new D;i.propertyName="LinkCmsUserId",i.value=a,i.searchType=Q.Equal,e.filters.push(i),this.categoryService.ServiceGetAll(e).subscribe({next:t=>{t.isSuccess&&(t.listItems.length>0?(this.filteredOptions=this.push(t.listItems[0]),this.dataModelSelect=t.listItems[0],this.formControl.setValue(t.listItems[0]),this.optionChange.emit(t.listItems[0])):this.cmsToastrService.typeErrorMessage(t.errorMessage))}});return}else if(typeof a=="string"&&a.length>0){if(this.dataModelSelect&&this.dataModelSelect.id===a)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(e=>e.id===a)){let e=this.dataModelResult.listItems.find(i=>i.id===a);this.dataModelSelect=e,this.formControl.setValue(e);return}this.categoryService.ServiceGetOneById(a).subscribe({next:e=>{e.isSuccess?(this.filteredOptions=this.push(e.item),this.dataModelSelect=e.item,this.formControl.setValue(e.item),this.optionChange.emit(e.item)):this.cmsToastrService.typeErrorMessage(e.errorMessage)}});return}if(typeof a==typeof Nt){this.filteredOptions=this.push(a),this.dataModelSelect=a,this.formControl.setValue(a);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new Nt,this.loadOptions()}};dn.\u0275fac=function(e){return new(e||dn)(v(te),v(F),v(B),v(H),v(W),v(Ut))},dn.\u0275cmp=O({type:dn,selectors:[["app-estate-account-expert-selector"]],inputs:{optionDisabled:"optionDisabled",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionLabel:"optionLabel",optionRequired:"optionRequired",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange"},standalone:!1,ngContentSelectors:_l,decls:19,vars:22,consts:[["matauto","matAutocomplete"],[1,"input-style","has-borders","has-icon","input-style-always-active","validate-field","mb-4","loader-container"],[3,"optionsInfoAreaId"],["matPrefix",""],["aria-hidden","","height","25","width","25",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["type","text","aria-label","Assignee","matInput","",3,"placeholder","formControl","matAutocomplete","required"],["for","forminput",1,"color-highlight"],[3,"optionSelected","displayWith"],[3,"value","disabled"],[1,"fa","fa-info","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"fa","fa-times","action","color-red-dark"],[1,"fa","fa-rotate-right","action","color-green-dark",2,"margin-left","20px",3,"click","title"],[1,"fa","fa-times","action","color-red-dark",3,"click"]],template:function(e,i){if(e&1){let t=I();Mt(),l(0,"div",1),h(1,"app-progress-spinner",2),l(2,"span",3),y(3,hl,2,4,"img",4),r(),h(4,"input",5),l(5,"label",6),c(6),r(),l(7,"mat-autocomplete",7,0),E("optionSelected",function(_){return u(t),f(i.onActionSelect(_.option.value))}),Se(9,Cl,4,4,"mat-option",8,Ce),g(11,"async"),r(),y(12,Sl,1,0,"i",9),y(13,yl,1,0,"i",10),y(14,Ml,1,0,"i",11),l(15,"i",12),g(16,"translate"),E("click",function(){return u(t),f(i.onActionButtonReload())}),r(),y(17,vl,3,3,"em"),Je(18),r()}if(e&2){let t=k(8);o(),p("optionsInfoAreaId",i.constructorInfoAreaId),o(2),M(i.dataModelSelect&&(i.dataModelSelect!=null&&i.dataModelSelect.linkMainImageIdSrc)?3:-1),o(),p("placeholder",x(i.optionPlaceholder))("formControl",i.formControl)("matAutocomplete",t)("required",i.optionRequired),Pe("disabled",i.optionDisabled?!0:null),o(2),b(i.optionLabel),o(),p("displayWith",i.displayFn),o(2),ye(C(11,18,i.filteredOptions)),o(3),M(i.formControl.valid?-1:12),o(),M(i.optionRequired&&i.formControl.valid?13:-1),o(),M((i.dataModelSelect==null||i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0?14:-1),o(),J("rotation360",i.publicHelper.processService.process.inRunArea[i.constructorInfoAreaId]),p("title",x(C(16,20,"ACTION.RELOAD"))),o(2),M(i.optionRequired&&(!i.dataModelSelect||!i.dataModelSelect.id||i.dataModelSelect.id.length<=0)?17:-1)}},dependencies:[ie,$,ae,tt,ut,mt,ft,Bt,ee,G,_e,N,ne],encapsulation:2});var Li=dn;var mr=["*","*"];function El(n,a){if(n&1&&(l(0,"label",4),c(1),r()),n&2){let e=d(2);p("for",we("app-cms-site-selector-",e.id)),o(),b(e.optionLabel)}}function Il(n,a){if(n&1&&(h(0,"img",6),g(1,"cmsthumbnail")),n&2){let e=d(2);p("src",x(C(1,2,e.dataModelSelect==null?null:e.dataModelSelect.linkMainImageIdSrc)),q)}}function bl(n,a){if(n&1&&(h(0,"img",6),g(1,"cmsthumbnail")),n&2){let e=d().$implicit;p("src",x(C(1,2,e.linkMainImageIdSrc)),q)}}function Tl(n,a){if(n&1&&(l(0,"mat-option",9),y(1,bl,2,4,"img",6),l(2,"span"),c(3),r()()),n&2){let e=a.$implicit,i=d(2);p("value",e)("disabled",i.optionDisabled),o(),M(e.linkMainImageIdSrc?1:-1),o(2),b(i.displayOption(e))}}function wl(n,a){n&1&&h(0,"i",10)}function Al(n,a){n&1&&h(0,"i",11)}function xl(n,a){if(n&1){let e=I();l(0,"i",14),E("click",function(){u(e);let t=d(2);return f(t.onActionSelectClear())}),r()}}function Pl(n,a){n&1&&(l(0,"em"),c(1),g(2,"translate"),r()),n&2&&(o(),S("(",C(2,1,"TITLE.Necessary"),")"))}function Rl(n,a){if(n&1){let e=I();l(0,"div",1),h(1,"app-progress-spinner",3),y(2,El,2,3,"label",4),l(3,"span",5),y(4,Il,2,4,"img",6),r(),h(5,"input",7),l(6,"mat-autocomplete",8,0),E("optionSelected",function(t){u(e);let s=d();return f(s.onActionSelect(t.option.value))}),Se(8,Tl,4,4,"mat-option",9,Ce),g(10,"async"),r(),y(11,wl,1,0,"i",10),y(12,Al,1,0,"i",11),y(13,xl,1,0,"i",12),l(14,"i",13),g(15,"translate"),E("click",function(){u(e);let t=d();return f(t.onActionButtonReload())}),r(),y(16,Pl,3,3,"em"),Je(17),r()}if(n&2){let e=k(7),i=d();o(),p("optionsInfoAreaId",i.constructorInfoAreaId),o(),M((i.optionLabel==null?null:i.optionLabel.length)>0?2:-1),o(2),M(i.dataModelSelect&&(i.dataModelSelect!=null&&i.dataModelSelect.linkMainImageIdSrc)?4:-1),o(),p("placeholder",x(i.optionPlaceholder))("id",we("app-cms-site-selector-",i.id))("formControl",i.formControl)("matAutocomplete",e)("required",i.optionRequired),Pe("disabled",i.optionDisabled?!0:null),o(),p("displayWith",i.displayFn),o(2),ye(C(10,20,i.filteredOptions)),o(3),M(i.formControl.valid?-1:11),o(),M(i.optionRequired&&i.formControl.valid?12:-1),o(),M((i.dataModelSelect==null||i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0?13:-1),o(),J("rotation360",i.publicHelper.processService.process.inRunArea[i.constructorInfoAreaId]),p("title",x(C(15,22,"ACTION.RELOAD"))),o(2),M(i.optionRequired&&(!i.dataModelSelect||!i.dataModelSelect.id||(i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)==0)?16:-1)}}function kl(n,a){if(n&1){let e=I();l(0,"div",15)(1,"a",16),E("click",function(){let t=u(e).$implicit,s=d(2);return f(s.onActionSelect(t))}),c(2),r()()}if(n&2){let e=a.$implicit,i=d(2);o(),p("ngClass",e.id===(i.dataModelSelect==null?null:i.dataModelSelect.id)?"btn font-13 font-600 btn-s m-1 rounded-xl shadow-xl border-0 gradient-highlight btn-full":"btn font-13 font-600 btn-s m-1 rounded-xl shadow-xl border-blue-dark color-blue-dark bg-theme btn-border btn-full"),Pe("disabled",i.optionDisabled?!0:null),o(),b(i.displayOption(e))}}function Ll(n,a){if(n&1&&(l(0,"div",2),Se(1,kl,3,3,"div",15,Ce),g(3,"async"),Je(4,1),r()),n&2){let e=d();o(),ye(C(3,0,e.filteredOptions))}}var Di=class Di{constructor(a,e,i,t,s,_,m,U){this.coreEnumService=a;this.cmsToastrService=e;this.cdr=i;this.publicHelper=t;this.translate=s;this.tokenHelper=_;this.cmsStoreService=m;this.categoryService=U;this.id=++Di.nextId;this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new j;this.dataModelSelect=new zt;this.formControl=new qe;this.optionDisabled=!1;this.optionRequired=!1;this.optionSelectFirstItem=!1;this.optionPlaceholder="";this.optionLabel="";this.optionChange=new xe;this.optionTypeView=1;this.typeUsageId="";this.optionReload=()=>this.onActionButtonReload();this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(a){this.onActionSelectForce(a)}set optionTypeUsageId(a){this.typeUsageId=a,this.loadOptions()}ngOnInit(){this.loadOptions(),this.unsubscribe.push(this.cmsStoreService.getState(a=>a.tokenInfoStore).subscribe(()=>Z(this,null,function*(){this.loadOptions()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(a=>a.unsubscribe())}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(dt(""),ct(1500),yt(),pt(a=>typeof a=="string"||typeof a=="number"?this.DataGetAll(a||""):[]))}displayFn(a){return a?a.titleML:void 0}displayOption(a){return a?a.titleML:void 0}DataGetAll(a){return Z(this,null,function*(){let e=new he;e.rowPerPage=20,e.accessLoad=!0;let i=new D,t=new D;a&&a.length>0&&(i.propertyName="title",i.value=a,i.searchType=Q.Contains,i.clauseType=Y.Or,t.filters.push(i),i=new D,i.propertyName="id",i.value=a,i.searchType=Q.Equal,i.clauseType=Y.Or,t.filters.push(i),e.filters.push(t)),this.typeUsageId&&this.typeUsageId.length>0&&(i=new D,i.propertyName="PropertyTypes",i.propertyAnyName="LinkPropertyTypeUsageId",i.value=this.typeUsageId,i.searchType=Q.Equal,i.clauseType=Y.And,e.filters.push(i));let s=this.constructor.name+"main";return this.translate.get("MESSAGE.Receiving_information").subscribe(_=>{this.publicHelper.processService.processStart(s,_,this.constructorInfoAreaId)}),yield St(this.categoryService.ServiceGetAll(e)).then(_=>(this.dataModelResult=_,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||this.dataModelSelect.id.length===0)&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0])},1e3),this.onActionSelect(this.dataModelResult.listItems[0])),this.publicHelper.processService.processStop(s),_.listItems))})}onActionSelect(a){this.optionDisabled||(this.dataModelSelect=a,this.optionChange.emit(this.dataModelSelect))}onActionSelectClear(){this.optionDisabled||(this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null))}push(a){return this.filteredOptions.pipe(st(e=>(e.find(i=>i.id===a.id)||e.push(a),e)))}onActionSelectForce(a){if((!a||typeof a=="string"&&a.length===0)&&(this.dataModelSelect=new zt),typeof a=="string"&&a.length>0){if(this.dataModelSelect&&this.dataModelSelect.id===a)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(e=>e.id===a)){let e=this.dataModelResult.listItems.find(i=>i.id===a);this.dataModelSelect=e,this.formControl.setValue(e);return}this.categoryService.ServiceGetOneById(a).subscribe({next:e=>{e.isSuccess?(this.filteredOptions=this.push(e.item),this.dataModelSelect=e.item,this.formControl.setValue(e.item),this.optionChange.emit(e.item)):this.cmsToastrService.typeErrorMessage(e.errorMessage)}});return}if(typeof a==typeof zt){this.filteredOptions=this.push(a),this.dataModelSelect=a,this.formControl.setValue(a);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new zt,this.loadOptions()}};Di.nextId=0,Di.\u0275fac=function(e){return new(e||Di)(v(te),v(F),v(H),v(W),v(B),v(K),v(z),v(zi))},Di.\u0275cmp=O({type:Di,selectors:[["app-estate-activity-type-selector"]],inputs:{optionSelectForce:"optionSelectForce",optionTypeUsageId:"optionTypeUsageId",optionDisabled:"optionDisabled",optionRequired:"optionRequired",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionLabel:"optionLabel",optionTypeView:"optionTypeView",optionReload:"optionReload"},outputs:{optionChange:"optionChange"},standalone:!1,ngContentSelectors:mr,decls:2,vars:2,consts:[["matauto","matAutocomplete"],[1,"input-style","has-borders","has-icon","input-style-always-active","validate-field","mb-4","loader-container"],[1,"row","mb-0"],[3,"optionsInfoAreaId"],[1,"color-highlight",3,"for"],["matPrefix",""],["aria-hidden","","height","25","width","25",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["type","text","aria-label","Assignee","matInput","",3,"placeholder","formControl","matAutocomplete","required","id"],[3,"optionSelected","displayWith"],[3,"value","disabled"],[1,"fa","fa-info","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"fa","fa-times","action","color-red-dark"],[1,"fa","fa-rotate-right","action","color-green-dark",2,"margin-left","20px",3,"click","title"],[1,"fa","fa-times","action","color-red-dark",3,"click"],[1,"col-xl-2","col-lg-3","col-md-4","col-sm-12","pe-1"],[3,"click","ngClass"]],template:function(e,i){e&1&&(Mt(mr),y(0,Rl,18,24,"div",1),y(1,Ll,5,2,"div",2)),e&2&&(M(i.optionTypeView===1?0:-1),o(),M(i.optionTypeView===2?1:-1))},dependencies:[fe,ie,$,ae,tt,ut,mt,ft,Bt,ee,G,_e,N,ne],encapsulation:2});var wo=Di;var Vl=["vform"],Ol=n=>({direction:n});function Bl(n,a){n&1&&h(0,"i",15)}function Fl(n,a){n&1&&h(0,"i",16)}function Wl(n,a){n&1&&(l(0,"mat-error"),c(1," Title is "),l(2,"strong"),c(3),g(4,"translate"),r()()),n&2&&(o(3),b(C(4,1,"MESSAGE.required")))}function Hl(n,a){n&1&&(l(0,"mat-error"),c(1," Description is "),l(2,"strong"),c(3),g(4,"translate"),r()()),n&2&&(o(3),b(C(4,1,"MESSAGE.required")))}function Nl(n,a){n&1&&(l(0,"mat-error"),c(1," DescriptionHidden is "),l(2,"strong"),c(3),g(4,"translate"),r()()),n&2&&(o(3),b(C(4,1,"MESSAGE.required")))}function Gl(n,a){if(n&1){let e=I();l(0,"div",12)(1,"label",26),c(2),r(),l(3,"textarea",27,3),A("ngModelChange",function(t){u(e);let s=d();return w(s.dataModel.descriptionHidden,t)||(s.dataModel.descriptionHidden=t),f(t)}),r(),l(5,"em"),c(6),r(),y(7,Nl,5,3,"mat-error"),r()}if(n&2){let e=k(4),i=d();o(2),b(i.fieldsInfo.descriptionHidden==null?null:i.fieldsInfo.descriptionHidden.fieldTitle),o(),p("placeholder",x(i.fieldsInfo.descriptionHidden==null?null:i.fieldsInfo.descriptionHidden.fieldTitle)),T("ngModel",i.dataModel.descriptionHidden),o(3),S("",e.value.length," / 500"),o(),M(e.errors!=null&&e.errors.required?7:-1)}}function Ul(n,a){if(n&1){let e=I();l(0,"app-cms-enum-x-selector",28),A("modelChange",function(t){u(e);let s=d();return w(s.dataModel.activityStatus,t)||(s.dataModel.activityStatus=t),f(t)}),r()}if(n&2){let e=d();p("optionDataListResult",e.dataModelEstateActivityStatusEnumResult),T("model",e.dataModel.activityStatus),p("optionDisabled",!1)("optionLabel",e.fieldsInfo.activityStatus==null?null:e.fieldsInfo.activityStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function ql(n,a){if(n&1){let e=I();l(0,"app-estate-account-expert-selector",20),g(1,"translate"),E("optionChange",function(t){u(e);let s=d();return f(s.onActionSelectorEstateUser(t))}),r()}if(n&2){let e=d();p("optionSelectForce",e.dataModel.linkEstateExpertId)("optionPlaceholder",C(1,2,"TITLE.USER"))}}function jl(n,a){if(n&1){let e=I();l(0,"app-estate-account-agency-selector",29),g(1,"translate"),E("optionChange",function(t){u(e);let s=d();return f(s.onActionSelectorEstateAgency(t))}),r()}if(n&2){let e=d();p("optionSelectForce",e.dataModel.linkEstateAgencyId)("optionSelectUserId",e.tokenInfo.access.userId)("optionPlaceholder",C(1,3,"TITLE.Property_agency"))}}function Ql(n,a){if(n&1){let e=I();l(0,"app-estate-property-selector",20),g(1,"translate"),E("optionChange",function(t){u(e);let s=d();return f(s.onActionSelectorProperty(t))}),r()}if(n&2){let e=d();p("optionSelectForce",e.dataModel.linkPropertyId)("optionPlaceholder",C(1,2,"TITLE.Property"))}}function Yl(n,a){if(n&1){let e=I();l(0,"app-estate-customer-order-selector",20),g(1,"translate"),E("optionChange",function(t){u(e);let s=d();return f(s.onActionSelectorCustomerOrderId(t))}),r()}if(n&2){let e=d();p("optionSelectForce",e.dataModel.linkCustomerOrderId)("optionPlaceholder",C(1,2,"TITLE.Customer"))}}function zl(n,a){if(n&1){let e=I();l(0,"div",23)(1,"label",30),c(2),r(),l(3,"input",31),A("ngModelChange",function(t){u(e);let s=d();return w(s.dataModel.appointmentDateFrom,t)||(s.dataModel.appointmentDateFrom=t),f(t)}),r(),h(4,"mat-datepicker-toggle",32)(5,"mat-datepicker",33,4),r()}if(n&2){let e=k(6),i=d();o(2),b(i.fieldsInfo.appointmentDateFrom==null?null:i.fieldsInfo.appointmentDateFrom.fieldTitle),o(),p("matDatepicker",e),T("ngModel",i.dataModel.appointmentDateFrom),p("formControl",i.date),o(),p("for",e)}}function Kl(n,a){if(n&1){let e=I();l(0,"div",23)(1,"label",34),c(2),r(),l(3,"input",35),A("ngModelChange",function(t){u(e);let s=d();return w(s.dataModel.appointmentDateTo,t)||(s.dataModel.appointmentDateTo=t),f(t)}),r(),h(4,"mat-datepicker-toggle",32)(5,"mat-datepicker",33,5),r()}if(n&2){let e=k(6),i=d();o(2),b(i.fieldsInfo.appointmentDateTo==null?null:i.fieldsInfo.appointmentDateTo.fieldTitle),o(),p("matDatepicker",e),T("ngModel",i.dataModel.appointmentDateTo),p("formControl",i.date),o(),p("for",e)}}function Jl(n,a){if(n&1){let e=I();l(0,"div",25)(1,"button",36),E("click",function(){u(e);let t=d();return f(t.onFormCancel())}),h(2,"i",37),c(3),g(4,"translate"),r(),l(5,"button",38),h(6,"i",39),c(7),g(8,"translate"),r()()}if(n&2){d();let e=k(10);o(3),S(" ",C(4,3,"ACTION.CANCEL")," "),o(2),p("disabled",!e.form.valid),o(2),S(" ",C(8,5,"ACTION.SAVE")," ")}}var pn=class pn extends Yt{constructor(e,i,t,s,_,m,U,oe,Ie,ze,We,Ke,_i){super(s,new Sa,Ke,Ie);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.estatePropertyHistoryService=s;this.cmsToastrService=_;this.estateEnumService=m;this.cdr=U;this.tokenHelper=oe;this.translate=Ie;this.cmsStoreService=ze;this.pageInfo=We;this.publicHelper=Ke;this.dialog=_i;this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.tokenInfo=new Vt;this.dataFileModelFiles=new Map;this.formInfo=new Le;this.fileManagerOpenForm=!1;this.date=new qe(new Date);this.dataModelEstateActivityStatusEnumResult=new j;this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,e&&(this.dataModel.linkActivityTypeId=e.linkActivityTypeId,this.dataModel.linkPropertyId=e.linkPropertyId,this.dataModel.linkEstateExpertId=e.linkEstateExpertId,this.dataModel.linkCustomerOrderId=e.linkCustomerOrderId,this.dataModel.linkEstateAgencyId=e.linkEstateAgencyId)}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(e=>{this.formInfo.formTitle=e}),this.getEstateActivityStatusEnum()}getEstateActivityStatusEnum(){this.estateEnumService.ServiceEstateActivityStatusEnum().subscribe({next:e=>{this.dataModelEstateActivityStatusEnumResult=e}})}DataAddContent(){if(this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="",this.dataFileModelFiles){let i=Array.from(this.dataFileModelFiles.keys());i&&i.length>0&&(this.dataModel.linkFileIds=i.join(","))}let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estatePropertyHistoryService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e),this.formInfo.submitButtonEnabled=!0},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorSelect(e){if(!e||e.id.length<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkActivityTypeId=e.id}onActionSelectorEstateUser(e){this.dataModel.linkEstateExpertId=null,e&&e.id?.length>0&&(this.dataModel.linkEstateExpertId=e.id)}onActionSelectorEstateAgency(e){this.dataModel.linkEstateAgencyId=null,!(!e||!e.id||e.id.length<=0)&&(this.dataModel.linkEstateAgencyId=e.id)}onActionSelectorProperty(e){this.dataModel.linkPropertyId=null,e&&e.id?.length>0&&(this.dataModel.linkPropertyId=e.id)}onActionSelectorCustomerOrderId(e){this.dataModel.linkCustomerOrderId=null,e&&e.id?.length>0&&(this.dataModel.linkCustomerOrderId=e.id)}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};pn.\u0275fac=function(i){return new(i||pn)(v(je),v(Re),v(te),v(Ia),v(F),v(va),v(H),v(K),v(B),v(z),v(Qt),v(W),v(re))},pn.\u0275cmp=O({type:pn,selectors:[["app-estate-property-history-add"]],viewQuery:function(i,t){if(i&1&&He(Vl,5),i&2){let s;Ne(s=Ge())&&(t.formGroup=s.first)}},standalone:!1,features:[ge],decls:45,vars:41,consts:[["vform","ngForm"],["Title",""],["Description",""],["DescriptionHidden",""],["AppointmentDateFrom",""],["AppointmentDateTo",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit","ngStyle"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["type","text","name","dataModel.title","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[3,"optionDataListResult","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"optionChange","optionSelectForce","optionPlaceholder"],[3,"optionSelectForce","optionPlaceholder"],[3,"optionSelectForce","optionSelectUserId","optionPlaceholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],[3,"dataFileModelChange","dataFileModel","openDirectUploadView"],[1,"form-actions"],["for","dataModel.descriptionHidden",1,"color-highlight"],["matInput","","name","dataModel.descriptionHidden","type","text","minlength","0","maxlength","1000","rows","5","id","dataModel.descriptionHidden",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[3,"modelChange","optionDataListResult","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"optionChange","optionSelectForce","optionSelectUserId","optionPlaceholder"],["for","dataModel.appointmentDateFrom",1,"color-highlight"],["matInput","","name","dataModel.appointmentDateFrom","id","dataModel.appointmentDateFrom",1,"form-control","validate-name",3,"ngModelChange","matDatepicker","ngModel","formControl"],["matSuffix","",3,"for"],["touchUi",""],["for","dataModel.appointmentDateTo",1,"color-highlight"],["matInput","","name","dataModel.appointmentDateTo","id","dataModel.appointmentDateTo",1,"form-control","validate-name",3,"ngModelChange","matDatepicker","ngModel","formControl"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=I();l(0,"div",6),h(1,"app-progress-spinner",7),l(2,"div",8)(3,"p",9),c(4),r(),l(5,"p"),c(6),g(7,"translate"),r(),h(8,"app-cms-form-result-message",10),l(9,"form",11,0),E("ngSubmit",function(){return u(s),f(t.onFormSubmit())}),l(11,"div",12)(12,"label",13),c(13),r(),l(14,"input",14,1),A("ngModelChange",function(m){return u(s),w(t.dataModel.title,m)||(t.dataModel.title=m),f(m)}),r(),y(16,Bl,1,0,"i",15),y(17,Fl,1,0,"i",16),l(18,"em"),c(19),r(),y(20,Wl,5,3,"mat-error"),r(),l(21,"div",12)(22,"label",17),c(23),r(),l(24,"textarea",18,2),A("ngModelChange",function(m){return u(s),w(t.dataModel.description,m)||(t.dataModel.description=m),f(m)}),c(26,"          "),r(),l(27,"em"),c(28),r(),y(29,Hl,5,3,"mat-error"),r(),y(30,Gl,8,6,"div",12),y(31,Ul,1,6,"app-cms-enum-x-selector",19),l(32,"app-estate-activity-type-selector",20),g(33,"translate"),E("optionChange",function(m){return u(s),f(t.onActionSelectorSelect(m))}),r(),y(34,ql,2,4,"app-estate-account-expert-selector",21),y(35,jl,2,5,"app-estate-account-agency-selector",22),y(36,Ql,2,4,"app-estate-property-selector",21),y(37,Yl,2,4,"app-estate-customer-order-selector",21),y(38,zl,7,5,"div",23),y(39,Kl,7,5,"div",23),l(40,"p"),c(41),g(42,"translate"),r(),l(43,"app-cms-files-selector",24),A("dataFileModelChange",function(m){return u(s),w(t.dataFileModelFiles,m)||(t.dataFileModelFiles=m),f(m)}),r(),y(44,Jl,9,7,"div",25),r()()()}if(i&2){let s=k(15),_=k(25);o(),p("optionsInfoAreaId",t.constructorInfoAreaId),o(3),S(" ",t.formInfo.formTitle," "),o(2),S(" ",C(7,33,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),p("formInfo",t.formInfo),o(),p("ngStyle",ve(39,Ol,t.tokenInfo.access.direction)),o(4),b(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),p("placeholder",x(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),T("ngModel",t.dataModel.title),o(2),M(s.value?-1:16),o(),M(s.value?17:-1),o(2),S("",s.value.length," / 100"),o(),M(s.errors!=null&&s.errors.required?20:-1),o(3),b(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),p("placeholder",x(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),T("ngModel",t.dataModel.description),o(4),S("",_.value.length," / 500"),o(),M(_.errors!=null&&_.errors.required?29:-1),o(),M(t.fieldsInfo.descriptionHidden!=null&&t.fieldsInfo.descriptionHidden.accessAddField?30:-1),o(),M(t.fieldsInfo.activityStatus!=null&&t.fieldsInfo.activityStatus.accessWatchField?31:-1),o(),p("optionSelectForce",t.dataModel.linkActivityTypeId)("optionPlaceholder",C(33,35,"TITLE.Category")),o(2),M(t.fieldsInfo.linkEstateExpertId!=null&&t.fieldsInfo.linkEstateExpertId.accessAddField?34:-1),o(),M(t.fieldsInfo.linkEstateAgencyId!=null&&t.fieldsInfo.linkEstateAgencyId.accessWatchField?35:-1),o(),M(t.fieldsInfo.linkPropertyId!=null&&t.fieldsInfo.linkPropertyId.accessAddField?36:-1),o(),M(t.fieldsInfo.linkCustomerOrderId!=null&&t.fieldsInfo.linkCustomerOrderId.accessAddField?37:-1),o(),M(t.fieldsInfo.appointmentDateFrom!=null&&t.fieldsInfo.appointmentDateFrom.accessWatchField?38:-1),o(),M(t.fieldsInfo.appointmentDateTo!=null&&t.fieldsInfo.appointmentDateTo.accessWatchField?39:-1),o(2),b(C(42,37,"TITLE.List_of_attached_files")),o(2),T("dataFileModel",t.dataFileModelFiles),p("openDirectUploadView",!0),o(),M(t.formInfo.submitButtonEnabled?44:-1)}},dependencies:[be,et,ie,$,Xe,ae,it,nt,Te,$e,tt,ka,La,Da,ot,jt,ee,ir,G,De,cr,Io,bo,To,Li,wo,N],encapsulation:2});var Ao=pn;function Zl(n,a){n&1&&h(0,"div",8)}function Xl(n,a){if(n&1){let e=I();l(0,"button",15),E("click",function(){u(e);let t=d();return f(t.onActionButtonLinkTo())}),l(1,"mat-icon"),c(2,"\u2197 "),r()()}}var mn=class mn{constructor(a,e,i,t,s,_,m){this.headerService=a;this.publicHelper=e;this.cdr=i;this.translate=t;this.themeService=s;this.cmsToastrService=_;this.dialog=m;this.constructorInfoAreaId=this.constructor.name;this.optionId="";this.dataModelResult=new j;this.fieldsInfo=new Map;this.publicHelper.processService.cdr=this.cdr}ngOnInit(){this.optionId?.length>0&&this.DataGetOneContent()}DataGetOneContent(){let a=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(a,e,this.constructorInfoAreaId)}),this.headerService.setAccessLoad(),this.headerService.ServiceGetOneById(this.optionId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),e.isSuccess?this.dataModelResult=e:this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(a)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(a,!1)}})}onActionButtonLinkTo(a=this.dataModelResult.item){if(!a||!a.id||a.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(a.recordStatus!=Ze.Available){this.cmsToastrService.typeWarningRecordStatusNoAvailable();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(Ai,{height:"90%",panelClass:e,enterAnimationDuration:X.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:X.cmsViewConfig.exitAnimationDuration,data:{title:a.title,urlViewContentQRCodeBase64:a.urlViewContentQRCodeBase64,urlViewContent:a.urlViewContent}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate})}};mn.\u0275fac=function(e){return new(e||mn)(v(lo),v(W),v(H),v(B),v(Ft),v(F),v(re))},mn.\u0275cmp=O({type:mn,selectors:[["app-estate-customer-order-header"]],inputs:{optionId:"optionId"},standalone:!1,decls:34,vars:11,consts:[[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content"],[1,"table"],[1,"tr"],[1,"td","small-width"],[1,"svg-icon","svg-icon-3x","svg-icon-primary",3,"inlineSVG"],[1,"td","large-width",2,"color","darkblue"],[1,"td"],[1,"td","large-width"],[2,"clear","both"],[1,"td",2,"text-align","left"],["title","link to"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[1,"divider","divider-margins"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"]],template:function(e,i){e&1&&(l(0,"div",0),h(1,"app-progress-spinner",1),l(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),h(6,"span",6),r(),l(7,"div",7)(8,"h5")(9,"b"),c(10),g(11,"translate"),r()()(),y(12,Zl,1,0,"div",8),r(),l(13,"div",4)(14,"div",5)(15,"b"),c(16),r(),c(17,": "),r(),l(18,"div",9),c(19),r(),h(20,"div",8)(21,"div",10),r(),l(22,"div",4)(23,"div",5)(24,"b"),c(25),r(),c(26," : "),r(),l(27,"div",9),c(28),r(),l(29,"div",11)(30,"abbr",12),y(31,Xl,3,0,"button",13),r()(),h(32,"div",10),r()()()(),h(33,"div",14)),e&2&&(o(),p("optionsInfoAreaId",i.constructorInfoAreaId),o(5),p("inlineSVG","./assets/media/svg/icons/Communication/Flag.svg"),o(4),b(C(11,9,"TITLE.Selected_Customer")),o(2),M(!(i.dataModelResult==null||i.dataModelResult.item==null)&&i.dataModelResult.item.id?12:-1),o(4),S("",i.fieldsInfo.id==null?null:i.fieldsInfo.id.fieldTitle," "),o(3),b(i.dataModelResult==null||i.dataModelResult.item==null?null:i.dataModelResult.item.id),o(6),b(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(3),b(i.dataModelResult==null||i.dataModelResult.item==null?null:i.dataModelResult.item.title),o(3),M(!(i.dataModelResult==null||i.dataModelResult.item==null)&&i.dataModelResult.item.id?31:-1))},dependencies:[ke,G,ht,N],styles:[".table[_ngcontent-%COMP%]{display:table;border:1px solid #40a1f5;padding:2px;background:#fff;border-radius:5px}.table[_ngcontent-%COMP%]   .th[_ngcontent-%COMP%]{display:table-row;background-color:#40a1f577;color:#fff;font-weight:700}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f9f9f9}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]{display:table-row;border-bottom:1px solid #000}.table[_ngcontent-%COMP%]   .td[_ngcontent-%COMP%]{display:table-cell;padding:15px;border-bottom:1px solid #40a1f5}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:last-child   .td[_ngcontent-%COMP%]{border:0}.small-width[_ngcontent-%COMP%]{width:90px}.large-width[_ngcontent-%COMP%]{width:400px}.clear[_ngcontent-%COMP%]{clear:both}"]});var un=mn;function $l(n,a){n&1&&h(0,"div",8)}function es(n,a){if(n&1){let e=I();l(0,"button",15),E("click",function(){u(e);let t=d();return f(t.onActionButtonLinkTo())}),l(1,"mat-icon"),c(2,"\u2197 "),r()()}}var _n=class _n{constructor(a,e,i,t,s,_,m,U,oe){this.headerService=a;this.publicHelper=e;this.cdr=i;this.cmsToastrService=t;this.themeService=s;this.dialog=_;this.translate=m;this.cmsStoreService=U;this.tokenHelper=oe;this.constructorInfoAreaId=this.constructor.name;this.optionId="";this.dataModelResult=new j;this.fieldsInfo=new Map;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr}ngOnInit(){this.optionId?.length>0&&this.DataGetOneContent(),this.unsubscribe.push(this.cmsStoreService.getState(a=>a.tokenInfoStore).subscribe(()=>Z(this,null,function*(){this.DataGetOneContent()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(a=>a.unsubscribe())}DataGetOneContent(){let a=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(a,e,this.constructorInfoAreaId)}),this.headerService.setAccessLoad(),this.headerService.ServiceGetOneById(this.optionId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),e.isSuccess?this.dataModelResult=e:this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(a)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(a,!1)}})}onActionButtonLinkTo(a=this.dataModelResult.item){if(!a||!a.id||a.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(a.recordStatus!=Ze.Available){this.cmsToastrService.typeWarningRecordStatusNoAvailable();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(Ai,{height:"90%",panelClass:e,enterAnimationDuration:X.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:X.cmsViewConfig.exitAnimationDuration,data:{title:a.title,urlViewContentQRCodeBase64:a.urlViewContentQRCodeBase64,urlViewContent:a.urlViewContent}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate})}};_n.\u0275fac=function(e){return new(e||_n)(v(ya),v(W),v(H),v(F),v(Ft),v(re),v(B),v(z),v(K))},_n.\u0275cmp=O({type:_n,selectors:[["app-estate-billboard-header"]],inputs:{optionId:"optionId"},standalone:!1,decls:34,vars:11,consts:[[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content"],[1,"table"],[1,"tr"],[1,"td","small-width"],[1,"svg-icon","svg-icon-3x","svg-icon-primary",3,"inlineSVG"],[1,"td","large-width",2,"color","darkblue"],[1,"td"],[1,"td","large-width"],[2,"clear","both"],[1,"td",2,"text-align","left"],["title","link to"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[1,"divider","divider-margins"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"]],template:function(e,i){e&1&&(l(0,"div",0),h(1,"app-progress-spinner",1),l(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),h(6,"span",6),r(),l(7,"div",7)(8,"h5")(9,"b"),c(10),g(11,"translate"),r()()(),y(12,$l,1,0,"div",8),r(),l(13,"div",4)(14,"div",5)(15,"b"),c(16),r(),c(17,": "),r(),l(18,"div",9),c(19),r(),h(20,"div",8)(21,"div",10),r(),l(22,"div",4)(23,"div",5)(24,"b"),c(25),r(),c(26," : "),r(),l(27,"div",9),c(28),r(),l(29,"div",11)(30,"abbr",12),y(31,es,3,0,"button",13),r()(),h(32,"div",10),r()()()(),h(33,"div",14)),e&2&&(o(),p("optionsInfoAreaId",i.constructorInfoAreaId),o(5),p("inlineSVG","./assets/media/svg/icons/Communication/Flag.svg"),o(4),b(C(11,9,"TITLE.Selected_Billboard")),o(2),M(!(i.dataModelResult==null||i.dataModelResult.item==null)&&i.dataModelResult.item.id?12:-1),o(4),S("",i.fieldsInfo.id==null?null:i.fieldsInfo.id.fieldTitle," "),o(3),b(i.dataModelResult==null||i.dataModelResult.item==null?null:i.dataModelResult.item.id),o(6),b(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(3),b(i.dataModelResult==null||i.dataModelResult.item==null?null:i.dataModelResult.item.title),o(3),M(!(i.dataModelResult==null||i.dataModelResult.item==null)&&i.dataModelResult.item.id?31:-1))},dependencies:[ke,G,ht,N],styles:[".table[_ngcontent-%COMP%]{display:table;border:1px solid #40a1f5;padding:2px;background:#fff;border-radius:5px}.table[_ngcontent-%COMP%]   .th[_ngcontent-%COMP%]{display:table-row;background-color:#40a1f577;color:#fff;font-weight:700}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f9f9f9}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]{display:table-row;border-bottom:1px solid #000}.table[_ngcontent-%COMP%]   .td[_ngcontent-%COMP%]{display:table-cell;padding:15px;border-bottom:1px solid #40a1f5}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:last-child   .td[_ngcontent-%COMP%]{border:0}.small-width[_ngcontent-%COMP%]{width:90px}.large-width[_ngcontent-%COMP%]{width:400px}.clear[_ngcontent-%COMP%]{clear:both}"]});var hn=_n;function ts(n,a){n&1&&h(0,"div",8)}var gn=class gn{constructor(a,e,i,t,s,_){this.headerService=a;this.publicHelper=e;this.cdr=i;this.cmsToastrService=t;this.translate=s;this.dialog=_;this.constructorInfoAreaId=this.constructor.name;this.optionId="";this.dataModelResult=new j;this.fieldsInfo=new Map;this.publicHelper.processService.cdr=this.cdr}ngOnInit(){this.optionId?.length>0&&this.DataGetOneContent()}DataGetOneContent(){let a=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(a,e,this.constructorInfoAreaId)}),this.headerService.setAccessLoad(),this.headerService.ServiceGetOneById(this.optionId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),e.isSuccess?this.dataModelResult=e:this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(a)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(a,!1)}})}};gn.\u0275fac=function(e){return new(e||gn)(v(Ki),v(W),v(H),v(F),v(B),v(re))},gn.\u0275cmp=O({type:gn,selectors:[["app-estate-contract-type-header"]],inputs:{optionId:"optionId"},standalone:!1,decls:27,vars:10,consts:[[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content"],[1,"table"],[1,"tr"],[1,"td","small-width"],[1,"svg-icon","svg-icon-3x","svg-icon-primary",3,"inlineSVG"],[1,"td","large-width"],[1,"td"],[2,"clear","both"],[1,"divider","divider-margins"]],template:function(e,i){e&1&&(l(0,"div",0),h(1,"app-progress-spinner",1),l(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),h(6,"span",6),r(),l(7,"div",7)(8,"h5"),c(9),g(10,"translate"),r()(),y(11,ts,1,0,"div",8),r(),l(12,"div",4)(13,"div",5),c(14),r(),l(15,"div",7),c(16),r(),h(17,"div",8)(18,"div",9),r(),l(19,"div",4)(20,"div",5),c(21),r(),l(22,"div",7),c(23),r(),h(24,"div",8)(25,"div",9),r()()()(),h(26,"div",10)),e&2&&(o(),p("optionsInfoAreaId",i.constructorInfoAreaId),o(5),p("inlineSVG","./assets/media/svg/icons/Communication/Flag.svg"),o(3),b(C(10,8,"TITLE.The_type_of_contract_selected")),o(2),M(!(i.dataModelResult==null||i.dataModelResult.item==null)&&i.dataModelResult.item.id?11:-1),o(3),S("",i.fieldsInfo.id==null?null:i.fieldsInfo.id.fieldTitle," :"),o(2),b(i.dataModelResult==null||i.dataModelResult.item==null?null:i.dataModelResult.item.id),o(5),S(" ",i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle," : "),o(2),b(i.dataModelResult==null||i.dataModelResult.item==null?null:i.dataModelResult.item.title))},dependencies:[G,ht,N],styles:[".table[_ngcontent-%COMP%]{display:table;border:1px solid #40a1f5;padding:2px;background:#fff;border-radius:5px}.table[_ngcontent-%COMP%]   .th[_ngcontent-%COMP%]{display:table-row;background-color:#40a1f577;color:#fff;font-weight:700}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f9f9f9}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]{display:table-row;border-bottom:1px solid #000}.table[_ngcontent-%COMP%]   .td[_ngcontent-%COMP%]{display:table-cell;padding:15px;border-bottom:1px solid #40a1f5}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:last-child   .td[_ngcontent-%COMP%]{border:0}.small-width[_ngcontent-%COMP%]{width:90px}.large-width[_ngcontent-%COMP%]{width:400px}.clear[_ngcontent-%COMP%]{clear:both}"]});var Cn=gn;function is(n,a){n&1&&h(0,"div",8)}var Sn=class Sn{constructor(a,e,i,t,s,_){this.headerService=a;this.publicHelper=e;this.cdr=i;this.cmsToastrService=t;this.translate=s;this.dialog=_;this.constructorInfoAreaId=this.constructor.name;this.optionId="";this.dataModelResult=new j;this.fieldsInfo=new Map;this.publicHelper.processService.cdr=this.cdr}ngOnInit(){this.optionId?.length>0&&this.DataGetOneContent()}DataGetOneContent(){let a=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(a,e,this.constructorInfoAreaId)}),this.headerService.setAccessLoad(),this.headerService.ServiceGetOneById(this.optionId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),e.isSuccess?this.dataModelResult=e:this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(a)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(a,!1)}})}};Sn.\u0275fac=function(e){return new(e||Sn)(v(qt),v(W),v(H),v(F),v(B),v(re))},Sn.\u0275cmp=O({type:Sn,selectors:[["app-estate-property-type-landuse-header"]],inputs:{optionId:"optionId"},standalone:!1,decls:30,vars:10,consts:[[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content"],[1,"table"],[1,"tr"],[1,"td","small-width"],[1,"svg-icon","svg-icon-3x","svg-icon-primary",3,"inlineSVG"],[1,"td","large-width",2,"color","darkblue"],[1,"td"],[1,"td","large-width"],[2,"clear","both"],[1,"divider","divider-margins"]],template:function(e,i){e&1&&(l(0,"div",0),h(1,"app-progress-spinner",1),l(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),h(6,"span",6),r(),l(7,"div",7)(8,"h5")(9,"b"),c(10),g(11,"translate"),r()()(),y(12,is,1,0,"div",8),r(),l(13,"div",4)(14,"div",5)(15,"b"),c(16),r()(),l(17,"div",9),c(18),r(),h(19,"div",8)(20,"div",10),r(),l(21,"div",4)(22,"div",5)(23,"b"),c(24),r()(),l(25,"div",9),c(26),r(),h(27,"div",8)(28,"div",10),r()()()(),h(29,"div",11)),e&2&&(o(),p("optionsInfoAreaId",i.constructorInfoAreaId),o(5),p("inlineSVG","./assets/media/svg/icons/Communication/Flag.svg"),o(4),b(C(11,8,"TITLE.Property_Type_Selected")),o(2),M(!(i.dataModelResult==null||i.dataModelResult.item==null)&&i.dataModelResult.item.id?12:-1),o(4),S("",i.fieldsInfo.id==null?null:i.fieldsInfo.id.fieldTitle," : "),o(2),b(i.dataModelResult==null||i.dataModelResult.item==null?null:i.dataModelResult.item.id),o(6),S("",i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle," : "),o(2),b(i.dataModelResult==null||i.dataModelResult.item==null?null:i.dataModelResult.item.title))},dependencies:[G,ht,N],styles:[".table[_ngcontent-%COMP%]{display:table;border:1px solid #40a1f5;padding:2px;background:#fff;border-radius:5px}.table[_ngcontent-%COMP%]   .th[_ngcontent-%COMP%]{display:table-row;background-color:#40a1f577;color:#fff;font-weight:700}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f9f9f9}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]{display:table-row;border-bottom:1px solid #000}.table[_ngcontent-%COMP%]   .td[_ngcontent-%COMP%]{display:table-cell;padding:15px;border-bottom:1px solid #40a1f5;color:#3d7c7a}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:last-child   .td[_ngcontent-%COMP%]{border:0}.small-width[_ngcontent-%COMP%]{width:90px}.large-width[_ngcontent-%COMP%]{width:400px}.clear[_ngcontent-%COMP%]{clear:both}"]});var yn=Sn;function ns(n,a){n&1&&h(0,"div",8)}var Mn=class Mn{constructor(a,e,i,t,s,_,m,U){this.headerService=a;this.publicHelper=e;this.cdr=i;this.cmsToastrService=t;this.dialog=s;this.translate=_;this.cmsStoreService=m;this.tokenHelper=U;this.constructorInfoAreaId=this.constructor.name;this.optionId="";this.dataModelResult=new j;this.fieldsInfo=new Map;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr}ngOnInit(){this.optionId?.length>0&&this.DataGetOneContent(),this.unsubscribe.push(this.cmsStoreService.getState(a=>a.tokenInfoStore).subscribe(()=>Z(this,null,function*(){this.DataGetOneContent()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(a=>a.unsubscribe())}DataGetOneContent(){let a=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(a,e,this.constructorInfoAreaId)}),this.headerService.setAccessLoad(),this.headerService.ServiceGetOneById(this.optionId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),e.isSuccess?this.dataModelResult=e:this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(a)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(a,!1)}})}};Mn.\u0275fac=function(e){return new(e||Mn)(v(Zi),v(W),v(H),v(F),v(re),v(B),v(z),v(K))},Mn.\u0275cmp=O({type:Mn,selectors:[["app-estate-property-type-usage-header"]],inputs:{optionId:"optionId"},standalone:!1,decls:30,vars:10,consts:[[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content"],[1,"table"],[1,"tr"],[1,"td","small-width"],[1,"svg-icon","svg-icon-3x","svg-icon-primary",3,"inlineSVG"],[1,"td","large-width",2,"color","darkblue"],[1,"td"],[1,"td","large-width"],[2,"clear","both"],[1,"divider","divider-margins"]],template:function(e,i){e&1&&(l(0,"div",0),h(1,"app-progress-spinner",1),l(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),h(6,"span",6),r(),l(7,"div",7)(8,"h5")(9,"b"),c(10),g(11,"translate"),r()()(),y(12,ns,1,0,"div",8),r(),l(13,"div",4)(14,"div",5)(15,"b"),c(16),r()(),l(17,"div",9),c(18),r(),h(19,"div",8)(20,"div",10),r(),l(21,"div",4)(22,"div",5)(23,"b"),c(24),r()(),l(25,"div",9),c(26),r(),h(27,"div",8)(28,"div",10),r()()()(),h(29,"div",11)),e&2&&(o(),p("optionsInfoAreaId",i.constructorInfoAreaId),o(5),p("inlineSVG","./assets/media/svg/icons/Communication/Flag.svg"),o(4),S("",C(11,8,"TITLE.Selected_User_Type")," "),o(2),M(!(i.dataModelResult==null||i.dataModelResult.item==null)&&i.dataModelResult.item.id?12:-1),o(4),S("",i.fieldsInfo.id==null?null:i.fieldsInfo.id.fieldTitle," : "),o(2),b(i.dataModelResult==null||i.dataModelResult.item==null?null:i.dataModelResult.item.id),o(6),S("",i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle," : "),o(2),b(i.dataModelResult==null||i.dataModelResult.item==null?null:i.dataModelResult.item.title))},dependencies:[G,ht,N],styles:[".table[_ngcontent-%COMP%]{display:table;border:1px solid #40a1f5;padding:2px;background:#fff;border-radius:5px}.table[_ngcontent-%COMP%]   .th[_ngcontent-%COMP%]{display:table-row;background-color:#40a1f577;color:#fff;font-weight:700}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f9f9f9}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]{display:table-row;border-bottom:1px solid #000}.table[_ngcontent-%COMP%]   .td[_ngcontent-%COMP%]{display:table-cell;padding:15px;border-bottom:1px solid #40a1f5;color:#3d7c7a}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:last-child   .td[_ngcontent-%COMP%]{border:0}.small-width[_ngcontent-%COMP%]{width:90px}.large-width[_ngcontent-%COMP%]{width:400px}.clear[_ngcontent-%COMP%]{clear:both}"]});var vn=Mn;var En=class En{constructor(a,e,i,t,s,_,m,U){this.headerService=a;this.publicHelper=e;this.cdr=i;this.tokenHelper=t;this.cmsStoreService=s;this.cmsToastrService=_;this.dialog=m;this.translate=U;this.constructorInfoAreaId=this.constructor.name;this.optionId="";this.dataModelResult=new j;this.fieldsInfo=new Map;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr}ngOnInit(){this.optionId.length>0&&(this.DataGetOneContent(),this.unsubscribe.push(this.cmsStoreService.getState(a=>a.tokenInfoStore).subscribe(()=>Z(this,null,function*(){this.DataGetOneContent()}))))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(a=>a.unsubscribe())}DataGetOneContent(){let a=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(a,e,this.constructorInfoAreaId)}),this.headerService.setAccessLoad(),this.headerService.ServiceGetOneById(this.optionId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),e.isSuccess?this.dataModelResult=e:this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(a)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(a,!1)}})}};En.\u0275fac=function(e){return new(e||En)(v(ba),v(W),v(H),v(K),v(z),v(F),v(re),v(B))},En.\u0275cmp=O({type:En,selectors:[["app-estate-property-project-header"]],inputs:{optionId:"optionId"},standalone:!1,decls:27,vars:9,consts:[[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content"],[1,"table"],[1,"tr"],[1,"td","small-width"],[1,"svg-icon","svg-icon-3x","svg-icon-primary",3,"inlineSVG"],[1,"td","large-width",2,"color","darkblue"],[1,"td",2,"text-align","left"],[1,"td","large-width"],[1,"td"],[2,"clear","both"],[1,"divider","divider-margins"]],template:function(e,i){e&1&&(l(0,"div",0),h(1,"app-progress-spinner",1),l(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),h(6,"span",6),r(),l(7,"div",7)(8,"h5")(9,"b"),c(10),g(11,"translate"),r()()(),h(12,"div",8),r(),l(13,"div",4)(14,"div",5),c(15),r(),l(16,"div",9),c(17),r(),h(18,"div",10)(19,"div",11),r(),l(20,"div",4)(21,"div",5),c(22),r(),l(23,"div",9),c(24),r(),h(25,"div",11),r()()()(),h(26,"div",12)),e&2&&(o(),p("optionsInfoAreaId",i.constructorInfoAreaId),o(5),p("inlineSVG","./assets/media/svg/icons/Communication/Flag.svg"),o(4),b(C(11,7,"TITLE.Selected_Project")),o(5),S("",i.fieldsInfo.id==null?null:i.fieldsInfo.id.fieldTitle," :"),o(2),b(i.dataModelResult==null||i.dataModelResult.item==null?null:i.dataModelResult.item.id),o(5),S(" ",i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle," : "),o(2),b(i.dataModelResult==null||i.dataModelResult.item==null?null:i.dataModelResult.item.title))},dependencies:[G,ht,N],styles:[".table[_ngcontent-%COMP%]{display:table;border:1px solid #40a1f5;padding:2px;background:#fff;border-radius:5px}.table[_ngcontent-%COMP%]   .th[_ngcontent-%COMP%]{display:table-row;background-color:#40a1f577;color:#fff;font-weight:700}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f9f9f9}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]{display:table-row;border-bottom:1px solid #000}.table[_ngcontent-%COMP%]   .td[_ngcontent-%COMP%]{display:table-cell;padding:15px;border-bottom:1px solid #40a1f5;color:#3d7c7a}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:last-child   .td[_ngcontent-%COMP%]{border:0}.small-width[_ngcontent-%COMP%]{width:90px}.large-width[_ngcontent-%COMP%]{width:400px}.clear[_ngcontent-%COMP%]{clear:both}"]});var In=En;var os=["vform"],as=n=>({direction:n}),rs=()=>["fa"];function ls(n,a){n&1&&h(0,"i",22)}function ss(n,a){n&1&&h(0,"i",23)}function cs(n,a){n&1&&(l(0,"mat-error"),c(1," Title is "),l(2,"strong"),c(3),g(4,"translate"),r()()),n&2&&(o(3),b(C(4,1,"MESSAGE.required")))}function ds(n,a){n&1&&h(0,"i",22)}function ps(n,a){n&1&&h(0,"i",23)}function ms(n,a){n&1&&(l(0,"mat-error"),c(1," TitleResourceLanguage is "),l(2,"strong"),c(3),g(4,"translate"),r()()),n&2&&(o(3),b(C(4,1,"MESSAGE.required")))}function us(n,a){if(n&1){let e=I();l(0,"div",19)(1,"label",35),c(2),r(),l(3,"input",36,4),A("ngModelChange",function(t){u(e);let s=d();return w(s.dataModel.titleResourceLanguage,t)||(s.dataModel.titleResourceLanguage=t),f(t)}),r(),y(5,ds,1,0,"i",22),y(6,ps,1,0,"i",23),l(7,"em"),c(8),r(),y(9,ms,5,3,"mat-error"),r()}if(n&2){let e=k(4),i=d();o(2),b(i.fieldsInfo.titleResourceLanguage==null?null:i.fieldsInfo.titleResourceLanguage.fieldTitle),o(),p("placeholder",x(i.fieldsInfo.titleResourceLanguage==null?null:i.fieldsInfo.titleResourceLanguage.fieldTitle)),T("ngModel",i.dataModel.titleResourceLanguage),p("disabled",!(i.fieldsInfo.titleResourceLanguage!=null&&i.fieldsInfo.titleResourceLanguage.accessEditField)),o(2),M(e.value?-1:5),o(),M(e.value?6:-1),o(2),S("",e.value.length," / 100"),o(),M(e.errors!=null&&e.errors.required?9:-1)}}function fs(n,a){if(n&1){let e=I();l(0,"div",24)(1,"div",37)(2,"h5",38),c(3),r()(),l(4,"div",39)(5,"div",40)(6,"input",41),A("ngModelChange",function(t){u(e);let s=d();return w(s.dataModel.createdYearActive,t)||(s.dataModel.createdYearActive=t),f(t)}),r(),h(7,"label",42),r()()()}if(n&2){let e=d();o(3),S(" ",e.fieldsInfo.createdYearActive==null?null:e.fieldsInfo.createdYearActive.fieldTitle," "),o(3),T("ngModel",e.dataModel.createdYearActive)}}function _s(n,a){n&1&&h(0,"i",22)}function hs(n,a){n&1&&h(0,"i",23)}function gs(n,a){n&1&&(l(0,"mat-error"),c(1," TitleCreatedYaer is "),l(2,"strong"),c(3),g(4,"translate"),r()()),n&2&&(o(3),b(C(4,1,"MESSAGE.required")))}function Cs(n,a){if(n&1){let e=I();l(0,"div",19)(1,"label",43),c(2),r(),l(3,"input",44,5),A("ngModelChange",function(t){u(e);let s=d();return w(s.dataModel.titleCreatedYaer,t)||(s.dataModel.titleCreatedYaer=t),f(t)}),r(),y(5,_s,1,0,"i",22),y(6,hs,1,0,"i",23),l(7,"em"),c(8),r(),y(9,gs,5,3,"mat-error"),r()}if(n&2){let e=k(4),i=d();o(2),b(i.fieldsInfo.titleCreatedYaer==null?null:i.fieldsInfo.titleCreatedYaer.fieldTitle),o(),p("placeholder",x(i.fieldsInfo.titleCreatedYaer==null?null:i.fieldsInfo.titleCreatedYaer.fieldTitle)),T("ngModel",i.dataModel.titleCreatedYaer),o(2),M(e.value?-1:5),o(),M(e.value?6:-1),o(2),S("",e.value.length," / 100"),o(),M(e.errors!=null&&e.errors.required?9:-1)}}function Ss(n,a){if(n&1){let e=I();l(0,"div",19)(1,"label",45),c(2,"TitleCreatedYaerML"),r(),l(3,"input",46,6),A("ngModelChange",function(t){u(e);let s=d();return w(s.dataModel.titleCreatedYaerML,t)||(s.dataModel.titleCreatedYaerML=t),f(t)}),r()()}if(n&2){let e=d();o(3),p("placeholder",x(e.fieldsInfo.titleCreatedYaerML==null?null:e.fieldsInfo.titleCreatedYaerML.fieldTitle)),T("ngModel",e.dataModel.titleCreatedYaerML),p("disabled",!0)}}function ys(n,a){n&1&&h(0,"i",22)}function Ms(n,a){n&1&&h(0,"i",23)}function vs(n,a){n&1&&(l(0,"mat-error"),c(1," TitleCreatedYaerResourceLanguage is "),l(2,"strong"),c(3),g(4,"translate"),r()()),n&2&&(o(3),b(C(4,1,"MESSAGE.required")))}function Es(n,a){if(n&1){let e=I();l(0,"div",19)(1,"label",47),c(2),r(),l(3,"input",48,7),A("ngModelChange",function(t){u(e);let s=d();return w(s.dataModel.titleCreatedYaerResourceLanguage,t)||(s.dataModel.titleCreatedYaerResourceLanguage=t),f(t)}),r(),y(5,ys,1,0,"i",22),y(6,Ms,1,0,"i",23),l(7,"em"),c(8),r(),y(9,vs,5,3,"mat-error"),r()}if(n&2){let e=k(4),i=d();o(2),b(i.fieldsInfo.titleCreatedYaerResourceLanguage==null?null:i.fieldsInfo.titleCreatedYaerResourceLanguage.fieldTitle),o(),p("placeholder",x(i.fieldsInfo.titleCreatedYaerResourceLanguage==null?null:i.fieldsInfo.titleCreatedYaerResourceLanguage.fieldTitle)),T("ngModel",i.dataModel.titleCreatedYaerResourceLanguage),p("disabled",!(i.fieldsInfo.titleCreatedYaerResourceLanguage!=null&&i.fieldsInfo.titleCreatedYaerResourceLanguage.accessEditField)),o(2),M(e.value?-1:5),o(),M(e.value?6:-1),o(2),S("",e.value.length," / 100"),o(),M(e.errors!=null&&e.errors.required?9:-1)}}function Is(n,a){if(n&1){let e=I();l(0,"div",24)(1,"div",37)(2,"h5",49),c(3),r()(),l(4,"div",39)(5,"div",40)(6,"input",50),A("ngModelChange",function(t){u(e);let s=d();return w(s.dataModel.partitionActive,t)||(s.dataModel.partitionActive=t),f(t)}),r(),h(7,"label",51),r()()()}if(n&2){let e=d();o(3),S(" ",e.fieldsInfo.partitionActive==null?null:e.fieldsInfo.partitionActive.fieldTitle," "),o(3),T("ngModel",e.dataModel.partitionActive)}}function bs(n,a){n&1&&h(0,"i",22)}function Ts(n,a){n&1&&h(0,"i",23)}function ws(n,a){n&1&&(l(0,"mat-error"),c(1," TitlePartition is "),l(2,"strong"),c(3),g(4,"translate"),r()()),n&2&&(o(3),b(C(4,1,"MESSAGE.required")))}function As(n,a){if(n&1){let e=I();l(0,"div",19)(1,"label",52),c(2),r(),l(3,"input",53,8),A("ngModelChange",function(t){u(e);let s=d();return w(s.dataModel.titlePartition,t)||(s.dataModel.titlePartition=t),f(t)}),r(),y(5,bs,1,0,"i",22),y(6,Ts,1,0,"i",23),l(7,"em"),c(8),r(),y(9,ws,5,3,"mat-error"),r()}if(n&2){let e=k(4),i=d();o(2),b(i.fieldsInfo.titlePartition==null?null:i.fieldsInfo.titlePartition.fieldTitle),o(),p("placeholder",x(i.fieldsInfo.titlePartition==null?null:i.fieldsInfo.titlePartition.fieldTitle)),T("ngModel",i.dataModel.titlePartition),o(2),M(e.value?-1:5),o(),M(e.value?6:-1),o(2),S("",e.value.length," / 100"),o(),M(e.errors!=null&&e.errors.required?9:-1)}}function xs(n,a){if(n&1){let e=I();l(0,"div",19)(1,"label",54),c(2,"TitlePartitionML"),r(),l(3,"input",55),A("ngModelChange",function(t){u(e);let s=d();return w(s.dataModel.titlePartitionML,t)||(s.dataModel.titlePartitionML=t),f(t)}),r()()}if(n&2){let e=d();o(3),T("ngModel",e.dataModel.titlePartitionML),p("disabled",!0)}}function Ps(n,a){n&1&&h(0,"i",22)}function Rs(n,a){n&1&&h(0,"i",23)}function ks(n,a){n&1&&(l(0,"mat-error"),c(1," TitlePartitionResourceLanguage is "),l(2,"strong"),c(3),g(4,"translate"),r()()),n&2&&(o(3),b(C(4,1,"MESSAGE.required")))}function Ls(n,a){if(n&1){let e=I();l(0,"div",19)(1,"label",56),c(2),r(),l(3,"input",57,9),A("ngModelChange",function(t){u(e);let s=d();return w(s.dataModel.titlePartitionResourceLanguage,t)||(s.dataModel.titlePartitionResourceLanguage=t),f(t)}),r(),y(5,Ps,1,0,"i",22),y(6,Rs,1,0,"i",23),l(7,"em"),c(8),r(),y(9,ks,5,3,"mat-error"),r()}if(n&2){let e=k(4),i=d();o(2),b(i.fieldsInfo.titlePartitionResourceLanguage==null?null:i.fieldsInfo.titlePartitionResourceLanguage.fieldTitle),o(),p("placeholder",x(i.fieldsInfo.titlePartitionResourceLanguage==null?null:i.fieldsInfo.titlePartitionResourceLanguage.fieldTitle)),T("ngModel",i.dataModel.titlePartitionResourceLanguage),p("disabled",!(i.fieldsInfo.titlePartitionResourceLanguage!=null&&i.fieldsInfo.titlePartitionResourceLanguage.accessEditField)),o(2),M(e.value?-1:5),o(),M(e.value?6:-1),o(2),S("",e.value.length," / 100"),o(),M(e.errors!=null&&e.errors.required?9:-1)}}function Ds(n,a){n&1&&(l(0,"mat-error"),c(1," Description is "),l(2,"strong"),c(3),g(4,"translate"),r()()),n&2&&(o(3),b(C(4,1,"MESSAGE.required")))}function Vs(n,a){if(n&1){let e=I();l(0,"div",19)(1,"label",58),c(2),r(),l(3,"input",59,10),A("ngModelChange",function(t){u(e);let s=d();return w(s.dataModel.iconFont,t)||(s.dataModel.iconFont=t),f(t)}),E("iconPickerSelect",function(t){u(e);let s=d();return f(s.onIconPickerSelect(t))}),r(),l(5,"span",60),h(6,"i",61),r()()}if(n&2){let e=d();o(2),b(e.fieldsInfo.iconFont==null?null:e.fieldsInfo.iconFont.fieldTitle),o(),p("placeholder",x(e.fieldsInfo.iconFont==null?null:e.fieldsInfo.iconFont.fieldTitle)),T("ngModel",e.dataModel.iconFont),p("iconPicker",e.dataModel.iconFont)("ipIconPack",Me(9,rs))("ipPosition","top")("disabled",!(e.fieldsInfo.iconFont!=null&&e.fieldsInfo.iconFont.accessAddField)),o(3),p("ngClass",e.dataModel.iconFont)}}function Os(n,a){if(n&1){let e=I();l(0,"div",27)(1,"label",62),c(2),r(),l(3,"div",63)(4,"div",64)(5,"input",65,11),A("ngModelChange",function(t){u(e);let s=d();return w(s.dataModel.iconColor,t)||(s.dataModel.iconColor=t),f(t)}),r()(),l(7,"div",66),h(8,"ngx-mat-color-toggle",67)(9,"ngx-mat-color-picker",68,12),r()()()}if(n&2){let e=k(10),i=d();o(2),b(i.fieldsInfo.iconColor==null?null:i.fieldsInfo.iconColor.fieldTitle),o(3),Qe("background",i.dataModel.iconColor),p("placeholder",x(i.fieldsInfo.iconColor==null?null:i.fieldsInfo.iconColor.fieldTitle)),T("ngModel",i.dataModel.iconColor),p("ngxMatColorPicker",e)("disabled",!(i.fieldsInfo.iconColor!=null&&i.fieldsInfo.iconColor.accessAddField)),o(3),p("for",e),o(),p("touchUi",!0)("color","primary")}}function Bs(n,a){if(n&1&&(h(0,"img",30),g(1,"cmsthumbnail")),n&2){let e=d();p("src",x(C(1,2,e.dataModel.linkMainImageIdSrc)),q)}}function Fs(n,a){if(n&1){let e=I();l(0,"div",34)(1,"button",69),E("click",function(){u(e);let t=d();return f(t.onFormCancel())}),h(2,"i",70),c(3),g(4,"translate"),r(),l(5,"button",71),h(6,"i",72),c(7),g(8,"translate"),r()()}if(n&2){d();let e=k(10);o(3),S(" ",C(4,3,"ACTION.CANCEL")," "),o(2),p("disabled",!e.form.valid),o(2),S(" ",C(8,5,"ACTION.SAVE")," ")}}var bn=class bn extends Yt{constructor(e,i,t,s,_,m,U,oe,Ie,ze){super(s,new lt,U,ze);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.estatePropertyTypeLanduseService=s;this.cmsToastrService=_;this.cmsStoreService=m;this.publicHelper=U;this.cdr=oe;this.tokenHelper=Ie;this.translate=ze;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.tokenInfo=new Vt;this.dataModelResult=new j;this.dataModel=new lt;this.formInfo=new Le;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess()}onActionFileSelected(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}DataAddContent(){this.dataModel.iconColor=this.dataModel.iconColor?.toString(),this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estatePropertyTypeLanduseService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e),this.formInfo.submitButtonEnabled=!0},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onIconPickerSelect(e){this.dataModel.iconFont=e}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};bn.\u0275fac=function(i){return new(i||bn)(v(je),v(Re),v(te),v(qt),v(F),v(z),v(W),v(H),v(K),v(B))},bn.\u0275cmp=O({type:bn,selectors:[["app-estate-property-type-landuse-add"]],viewQuery:function(i,t){if(i&1&&He(os,5),i&2){let s;Ne(s=Ge())&&(t.formGroup=s.first)}},standalone:!1,features:[ge],decls:54,vars:56,consts:[["vform","ngForm"],["Title",""],["Description",""],["LinkMainImageId",""],["TitleResourceLanguage",""],["TitleCreatedYaer",""],["TitleCreatedYaerML",""],["TitleCreatedYaerResourceLanguage",""],["TitlePartition",""],["TitlePartitionResourceLanguage",""],["IconFont",""],["iconColor",""],["iconColorPicker",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit","ngStyle"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["type","text","name","dataModel.title","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"d-flex","mb-3"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],[1,"mb-3"],["target","_blank",3,"href"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openDirectUploadView","openForm","tree","openFilemanagerButtonLabelKey","selectFileType","openFilemanagerButtonView"],[1,"form-actions"],["for","dataModel.titleResourceLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleResourceLanguage","type","text","minlength","3","maxlength","100","required","","id","dataModel.titleResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"pt-1"],["data-trigger-switch","dataModel.createdYearActive",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.createdYearActive","name","dataModel.createdYearActive",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.createdYearActive",1,"custom-control-label"],["for","dataModel.titleCreatedYaer",1,"color-highlight"],["type","text","name","dataModel.titleCreatedYaer","minlength","3","maxlength","100","required","","id","dataModel.titleCreatedYaer",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.titleCreatedYaerML",1,"color-highlight"],["type","text","name","dataModel.titleCreatedYaerML","id","dataModel.titleCreatedYaerML",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.titleCreatedYaerResourceLanguage",1,"color-highlight"],["type","text","name","dataModel.titleCreatedYaerResourceLanguage","minlength","3","maxlength","100","required","","id","dataModel.titleCreatedYaerResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["data-trigger-switch","dataModel.partitionActive",1,"font-600","font-14"],["type","checkbox","id","dataModel.partitionActive","name","dataModel.partitionActive",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.partitionActive",1,"custom-control-label"],["for","dataModel.titlePartition",1,"color-highlight"],["type","text","name","dataModel.titlePartition","minlength","3","maxlength","100","required","","id","dataModel.titlePartition",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.titlePartitionML",1,"color-highlight"],["type","text","name","dataModel.titlePartitionML","id","dataModel.titlePartitionML",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.titlePartitionResourceLanguage",1,"color-highlight"],["type","text","name","dataModel.titlePartitionResourceLanguage","minlength","3","maxlength","100","required","","id","dataModel.titlePartitionResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.iconFont",1,"color-highlight"],["matInput","","type","text","name","dataModel.iconFont","type","text","id","dataModel.iconFont",1,"form-control","validate-name",3,"ngModelChange","iconPickerSelect","ngModel","iconPicker","ipIconPack","ipPosition","placeholder","disabled"],[1,"input-group-addon"],[3,"ngClass"],["for","dataModel.iconColor",1,"color-highlight"],[1,"row","mb-0"],[1,"col-11","pe-0"],["matInput","","type","text","name","dataModel.iconColor","type","text","id","dataModel.iconColor",1,"form-control","validate-name",3,"ngModelChange","ngModel","ngxMatColorPicker","placeholder","disabled"],[1,"col-1","ps-0"],["matSuffix","",3,"for"],[3,"touchUi","color"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=I();l(0,"div",13),h(1,"app-progress-spinner",14),l(2,"div",15)(3,"p",16),c(4),r(),l(5,"p"),c(6),g(7,"translate"),r(),h(8,"app-cms-form-result-message",17),l(9,"form",18,0),E("ngSubmit",function(){return u(s),f(t.onFormSubmit())}),l(11,"div",19)(12,"label",20),c(13),r(),l(14,"input",21,1),A("ngModelChange",function(m){return u(s),w(t.dataModel.title,m)||(t.dataModel.title=m),f(m)}),r(),y(16,ls,1,0,"i",22),y(17,ss,1,0,"i",23),l(18,"em"),c(19),r(),y(20,cs,5,3,"mat-error"),r(),y(21,us,10,9,"div",19),y(22,fs,8,2,"div",24),y(23,Cs,10,8,"div",19),y(24,Ss,5,4,"div",19),y(25,Es,10,9,"div",19),y(26,Is,8,2,"div",24),y(27,As,10,8,"div",19),y(28,xs,4,2,"div",19),y(29,Ls,10,9,"div",19),l(30,"div",19)(31,"label",25),c(32),r(),l(33,"textarea",26,2),A("ngModelChange",function(m){return u(s),w(t.dataModel.description,m)||(t.dataModel.description=m),f(m)}),c(35,"                                    "),r(),l(36,"em"),c(37),r(),y(38,Ds,5,3,"mat-error"),r(),y(39,Vs,7,10,"div",19),y(40,Os,11,11,"div",27),l(41,"div",28)(42,"a",29),g(43,"cmsthumbnail"),y(44,Bs,2,4,"img",30),r()(),l(45,"div",19)(46,"label",31),E("click",function(){return u(s),f(t.fileManagerOpenForm=!0)}),c(47),g(48,"translate"),r(),l(49,"input",32,3),g(51,"translate"),A("ngModelChange",function(m){return u(s),w(t.dataModel.linkMainImageId,m)||(t.dataModel.linkMainImageId=m),f(m)}),E("click",function(){return u(s),f(t.fileManagerOpenForm=!0)}),r(),l(52,"cms-file-manager",33),E("itemSelected",function(m){return u(s),f(t.onActionFileSelected(m))}),A("openFormChange",function(m){return u(s),w(t.fileManagerOpenForm,m)||(t.fileManagerOpenForm=m),f(m)}),r()(),y(53,Fs,9,7,"div",34),r()()()}if(i&2){let s=k(15),_=k(34);o(),p("optionsInfoAreaId",t.constructorInfoAreaId),o(3),S(" ",t.formInfo.formTitle," "),o(2),S(" ",C(7,46,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),p("formInfo",t.formInfo),o(),p("ngStyle",ve(54,as,t.tokenInfo.access.direction)),o(4),b(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),p("placeholder",x(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),T("ngModel",t.dataModel.title),o(2),M(s.value?-1:16),o(),M(s.value?17:-1),o(2),S("",s.value.length," / 100"),o(),M(s.errors!=null&&s.errors.required?20:-1),o(),M(t.fieldsInfo.titleResourceLanguage!=null&&t.fieldsInfo.titleResourceLanguage.accessWatchField?21:-1),o(),M(t.tokenHelper.isAdminSite||t.tokenHelper.isSupportSite?22:-1),o(),M(t.dataModel.createdYearActive?23:-1),o(),M(t.dataModel.createdYearActive?24:-1),o(),M(t.fieldsInfo.titleCreatedYaerResourceLanguage!=null&&t.fieldsInfo.titleCreatedYaerResourceLanguage.accessWatchField&&t.dataModel.createdYearActive?25:-1),o(),M(t.tokenHelper.isAdminSite||t.tokenHelper.isSupportSite?26:-1),o(),M(t.dataModel.partitionActive?27:-1),o(),M(t.dataModel.partitionActive?28:-1),o(),M(t.fieldsInfo.titlePartitionResourceLanguage!=null&&t.fieldsInfo.titlePartitionResourceLanguage.accessWatchField&&t.dataModel.partitionActive?29:-1),o(3),b(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),p("placeholder",x(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),T("ngModel",t.dataModel.description),o(4),S("",_.value.length," / 500"),o(),M(_.errors!=null&&_.errors.required?38:-1),o(),M(t.fieldsInfo.iconFont!=null&&t.fieldsInfo.iconFont.accessWatchField?39:-1),o(),M(t.fieldsInfo.iconColor!=null&&t.fieldsInfo.iconColor.accessWatchField?40:-1),o(2),p("href",x(C(43,48,t.dataModel.linkMainImageIdSrc)),q),o(2),M((t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0?44:-1),o(3),b(C(48,50,"TITLE.PICTURE")),o(2),p("placeholder",x(C(51,52,"TITLE.Original_File_ID"))),T("ngModel",t.dataModel.linkMainImageId),o(3),p("language",t.appLanguage)("isPopup",!0)("openDirectUploadView",!0),T("openForm",t.fileManagerOpenForm),p("tree",t.fileManagerTree)("openFilemanagerButtonLabelKey","select")("selectFileType",t.selectFileTypeMainImage)("openFilemanagerButtonView",!1),o(),M(t.formInfo.submitButtonEnabled?53:-1)}},dependencies:[fe,be,et,ie,Ot,$,Xe,ae,it,nt,Te,$e,ot,jt,ee,G,De,xi,Ii,Ei,vi,kt,N,ne],encapsulation:2});var xo=bn;function Ws(n,a){if(n&1){let e=I();l(0,"li")(1,"mat-checkbox",0),E("change",function(){let t=u(e).$implicit,s=d();return f(s.onActionSelect(t))}),c(2),r()()}if(n&2){let e=a.$implicit,i=d();o(),p("checked",i.fieldsStatus.get(e.id))("disabled",i.optionDisabled),o(),S(" ",e.titleML," ")}}var Tn=class Tn{constructor(a,e,i,t,s,_,m,U){this.coreEnumService=a;this.categoryService=e;this.cdr=i;this.publicHelper=t;this.translate=s;this.tokenHelper=_;this.cmsStoreService=m;this.cmsToastrService=U;this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new j;this.dataModelSelect=[];this.dataIdsSelect=[];this.formControl=new qe;this.fieldsStatus=new Map;this.optionDisabled=!1;this.optionSelectFirstItem=!1;this.optionPlaceholder="";this.optionChange=new xe;this.optionSelectAdded=new xe;this.optionSelectRemoved=new xe;this.optionReload=()=>this.onActionButtonReload();this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(a){this.onActionSelectForce(a)}ngOnInit(){this.unsubscribe.push(this.cmsStoreService.getState(a=>a.tokenInfoStore).subscribe(()=>Z(this,null,function*(){this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(a=>a.unsubscribe())}DataGetAll(){let a=new he;a.rowPerPage=50,a.accessLoad=!0;let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.categoryService.ServiceGetAll(a).subscribe({next:i=>{i.isSuccess?(this.dataModelResult=i,this.dataModelResult.listItems.forEach(t=>this.fieldsStatus.set(t.id,!1)),this.dataIdsSelect.forEach(t=>this.fieldsStatus.set(t,!0)),this.dataModelResult.listItems.forEach(t=>{this.fieldsStatus.get(t.id)&&this.dataModelSelect.push(t)})):this.cmsToastrService.typeErrorMessage(i.errorMessage),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelect(a){this.fieldsStatus.get(a.id)?(this.fieldsStatus.set(a.id,!1),this.optionSelectRemoved.emit(a),this.dataModelSelect.splice(this.dataModelSelect.indexOf(a),1)):(this.fieldsStatus.set(a.id,!0),this.optionSelectAdded.emit(a),this.dataModelSelect.push(a)),this.optionChange.emit(this.dataModelSelect)}onActionSelectForce(a){typeof a==typeof Array(String)?a.forEach(e=>{this.dataIdsSelect.push(e)}):typeof a==typeof Array(Si)&&a.forEach(e=>{this.dataIdsSelect.push(e.id)}),this.dataIdsSelect.forEach(e=>this.fieldsStatus.set(e,!0))}onActionButtonReload(){this.DataGetAll()}};Tn.\u0275fac=function(e){return new(e||Tn)(v(te),v(Zi),v(H),v(W),v(B),v(K),v(z),v(F))},Tn.\u0275cmp=O({type:Tn,selectors:[["app-estate-property-type-usage-selectionlist"]],inputs:{optionDisabled:"optionDisabled",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange",optionSelectAdded:"optionSelectAdded",optionSelectRemoved:"optionSelectRemoved"},standalone:!1,decls:3,vars:0,consts:[[3,"change","checked","disabled"]],template:function(e,i){e&1&&(l(0,"ul"),Se(1,Ws,3,3,"li",null,Ce),r()),e&2&&(o(),ye(i.dataModelResult.listItems))},dependencies:[wa],encapsulation:2});var Po=Tn;var Gs=["vform"],Us=n=>({direction:n}),qs=()=>["fa"];function js(n,a){n&1&&h(0,"i",23)}function Qs(n,a){n&1&&h(0,"i",24)}function Ys(n,a){if(n&1&&(l(0,"mat-error"),c(1),l(2,"strong"),c(3),g(4,"translate"),r()()),n&2){let e=d();o(),S(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," is "),o(2),b(C(4,2,"MESSAGE.required"))}}function zs(n,a){n&1&&h(0,"i",23)}function Ks(n,a){n&1&&h(0,"i",24)}function Js(n,a){n&1&&(l(0,"mat-error"),c(1," TitleResourceLanguage is "),l(2,"strong"),c(3),g(4,"translate"),r()()),n&2&&(o(3),b(C(4,1,"MESSAGE.required")))}function Zs(n,a){if(n&1){let e=I();l(0,"div",20)(1,"label",39),c(2),r(),l(3,"input",40,5),A("ngModelChange",function(t){u(e);let s=d();return w(s.dataModel.titleResourceLanguage,t)||(s.dataModel.titleResourceLanguage=t),f(t)}),r(),y(5,zs,1,0,"i",23),y(6,Ks,1,0,"i",24),l(7,"em"),c(8),r(),y(9,Js,5,3,"mat-error"),r()}if(n&2){let e=k(4),i=d();o(2),b(i.fieldsInfo.titleResourceLanguage==null?null:i.fieldsInfo.titleResourceLanguage.fieldTitle),o(),p("placeholder",x(i.fieldsInfo.titleResourceLanguage==null?null:i.fieldsInfo.titleResourceLanguage.fieldTitle)),T("ngModel",i.dataModel.titleResourceLanguage),p("disabled",!(i.fieldsInfo.titleResourceLanguage!=null&&i.fieldsInfo.titleResourceLanguage.accessEditField)),o(2),M(e.value?-1:5),o(),M(e.value?6:-1),o(2),S("",e.value.length," / 100"),o(),M(e.errors!=null&&e.errors.required?9:-1)}}function Xs(n,a){if(n&1){let e=I();l(0,"div",27)(1,"div",41)(2,"h5",42),c(3),r()(),l(4,"div",43)(5,"div",44)(6,"input",45),A("ngModelChange",function(t){u(e);let s=d();return w(s.dataModel.createdYearActive,t)||(s.dataModel.createdYearActive=t),f(t)}),r(),h(7,"label",46),r()()()}if(n&2){let e=d();o(3),S(" ",e.fieldsInfo.createdYearActive==null?null:e.fieldsInfo.createdYearActive.fieldTitle," "),o(3),T("ngModel",e.dataModel.createdYearActive)}}function $s(n,a){n&1&&h(0,"i",23)}function ec(n,a){n&1&&h(0,"i",24)}function tc(n,a){n&1&&(l(0,"mat-error"),c(1," TitleCreatedYaer is "),l(2,"strong"),c(3),g(4,"translate"),r()()),n&2&&(o(3),b(C(4,1,"MESSAGE.required")))}function ic(n,a){if(n&1){let e=I();l(0,"div",20)(1,"label",47),c(2),r(),l(3,"input",48,6),A("ngModelChange",function(t){u(e);let s=d();return w(s.dataModel.titleCreatedYaer,t)||(s.dataModel.titleCreatedYaer=t),f(t)}),r(),y(5,$s,1,0,"i",23),y(6,ec,1,0,"i",24),l(7,"em"),c(8),r(),y(9,tc,5,3,"mat-error"),r()}if(n&2){let e=k(4),i=d();o(2),b(i.fieldsInfo.titleCreatedYaer==null?null:i.fieldsInfo.titleCreatedYaer.fieldTitle),o(),p("placeholder",x(i.fieldsInfo.titleCreatedYaer==null?null:i.fieldsInfo.titleCreatedYaer.fieldTitle)),T("ngModel",i.dataModel.titleCreatedYaer),o(2),M(e.value?-1:5),o(),M(e.value?6:-1),o(2),S("",e.value.length," / 100"),o(),M(e.errors!=null&&e.errors.required?9:-1)}}function nc(n,a){if(n&1){let e=I();l(0,"div",20)(1,"label",49),c(2,"TitleCreatedYaerML"),r(),l(3,"input",50,7),A("ngModelChange",function(t){u(e);let s=d();return w(s.dataModel.titleCreatedYaerML,t)||(s.dataModel.titleCreatedYaerML=t),f(t)}),r()()}if(n&2){let e=d();o(3),p("placeholder",x(e.fieldsInfo.titleCreatedYaerML==null?null:e.fieldsInfo.titleCreatedYaerML.fieldTitle)),T("ngModel",e.dataModel.titleCreatedYaerML),p("disabled",!0)}}function oc(n,a){n&1&&h(0,"i",23)}function ac(n,a){n&1&&h(0,"i",24)}function rc(n,a){n&1&&(l(0,"mat-error"),c(1," TitleCreatedYaerResourceLanguage is "),l(2,"strong"),c(3),g(4,"translate"),r()()),n&2&&(o(3),b(C(4,1,"MESSAGE.required")))}function lc(n,a){if(n&1){let e=I();l(0,"div",20)(1,"label",51),c(2),r(),l(3,"input",52,8),A("ngModelChange",function(t){u(e);let s=d();return w(s.dataModel.titleCreatedYaerResourceLanguage,t)||(s.dataModel.titleCreatedYaerResourceLanguage=t),f(t)}),r(),y(5,oc,1,0,"i",23),y(6,ac,1,0,"i",24),l(7,"em"),c(8),r(),y(9,rc,5,3,"mat-error"),r()}if(n&2){let e=k(4),i=d();o(2),b(i.fieldsInfo.titleCreatedYaerResourceLanguage==null?null:i.fieldsInfo.titleCreatedYaerResourceLanguage.fieldTitle),o(),p("placeholder",x(i.fieldsInfo.titleCreatedYaerResourceLanguage==null?null:i.fieldsInfo.titleCreatedYaerResourceLanguage.fieldTitle)),T("ngModel",i.dataModel.titleCreatedYaerResourceLanguage),p("disabled",!(i.fieldsInfo.titleCreatedYaerResourceLanguage!=null&&i.fieldsInfo.titleCreatedYaerResourceLanguage.accessEditField)),o(2),M(e.value?-1:5),o(),M(e.value?6:-1),o(2),S("",e.value.length," / 100"),o(),M(e.errors!=null&&e.errors.required?9:-1)}}function sc(n,a){if(n&1){let e=I();l(0,"div",27)(1,"div",41)(2,"h5",53),c(3),r()(),l(4,"div",43)(5,"div",44)(6,"input",54),A("ngModelChange",function(t){u(e);let s=d();return w(s.dataModel.partitionActive,t)||(s.dataModel.partitionActive=t),f(t)}),r(),h(7,"label",55),r()()()}if(n&2){let e=d();o(3),S(" ",e.fieldsInfo.partitionActive==null?null:e.fieldsInfo.partitionActive.fieldTitle," "),o(3),T("ngModel",e.dataModel.partitionActive)}}function cc(n,a){n&1&&h(0,"i",23)}function dc(n,a){n&1&&h(0,"i",24)}function pc(n,a){n&1&&(l(0,"mat-error"),c(1," TitlePartition is "),l(2,"strong"),c(3),g(4,"translate"),r()()),n&2&&(o(3),b(C(4,1,"MESSAGE.required")))}function mc(n,a){if(n&1){let e=I();l(0,"div",20)(1,"label",56),c(2),r(),l(3,"input",57,9),A("ngModelChange",function(t){u(e);let s=d();return w(s.dataModel.titlePartition,t)||(s.dataModel.titlePartition=t),f(t)}),r(),y(5,cc,1,0,"i",23),y(6,dc,1,0,"i",24),l(7,"em"),c(8),r(),y(9,pc,5,3,"mat-error"),r()}if(n&2){let e=k(4),i=d();o(2),b(i.fieldsInfo.titlePartition==null?null:i.fieldsInfo.titlePartition.fieldTitle),o(),p("placeholder",x(i.fieldsInfo.titlePartition==null?null:i.fieldsInfo.titlePartition.fieldTitle)),T("ngModel",i.dataModel.titlePartition),o(2),M(e.value?-1:5),o(),M(e.value?6:-1),o(2),S("",e.value.length," / 100"),o(),M(e.errors!=null&&e.errors.required?9:-1)}}function uc(n,a){if(n&1){let e=I();l(0,"div",20)(1,"label",58),c(2,"TitlePartitionML"),r(),l(3,"input",59),A("ngModelChange",function(t){u(e);let s=d();return w(s.dataModel.titlePartitionML,t)||(s.dataModel.titlePartitionML=t),f(t)}),r()()}if(n&2){let e=d();o(3),T("ngModel",e.dataModel.titlePartitionML),p("disabled",!0)}}function fc(n,a){n&1&&h(0,"i",23)}function _c(n,a){n&1&&h(0,"i",24)}function hc(n,a){n&1&&(l(0,"mat-error"),c(1," TitlePartitionResourceLanguage is "),l(2,"strong"),c(3),g(4,"translate"),r()()),n&2&&(o(3),b(C(4,1,"MESSAGE.required")))}function gc(n,a){if(n&1){let e=I();l(0,"div",20)(1,"label",60),c(2),r(),l(3,"input",61,10),A("ngModelChange",function(t){u(e);let s=d();return w(s.dataModel.titlePartitionResourceLanguage,t)||(s.dataModel.titlePartitionResourceLanguage=t),f(t)}),r(),y(5,fc,1,0,"i",23),y(6,_c,1,0,"i",24),l(7,"em"),c(8),r(),y(9,hc,5,3,"mat-error"),r()}if(n&2){let e=k(4),i=d();o(2),b(i.fieldsInfo.titlePartitionResourceLanguage==null?null:i.fieldsInfo.titlePartitionResourceLanguage.fieldTitle),o(),p("placeholder",x(i.fieldsInfo.titlePartitionResourceLanguage==null?null:i.fieldsInfo.titlePartitionResourceLanguage.fieldTitle)),T("ngModel",i.dataModel.titlePartitionResourceLanguage),p("disabled",!(i.fieldsInfo.titlePartitionResourceLanguage!=null&&i.fieldsInfo.titlePartitionResourceLanguage.accessEditField)),o(2),M(e.value?-1:5),o(),M(e.value?6:-1),o(2),S("",e.value.length," / 100"),o(),M(e.errors!=null&&e.errors.required?9:-1)}}function Cc(n,a){n&1&&(l(0,"mat-error"),c(1," Description is "),l(2,"strong"),c(3),g(4,"translate"),r()()),n&2&&(o(3),b(C(4,1,"MESSAGE.required")))}function Sc(n,a){if(n&1){let e=I();l(0,"div",20)(1,"label",62),c(2),r(),l(3,"input",63,11),A("ngModelChange",function(t){u(e);let s=d();return w(s.dataModel.iconFont,t)||(s.dataModel.iconFont=t),f(t)}),E("iconPickerSelect",function(t){u(e);let s=d();return f(s.onIconPickerSelect(t))}),r(),l(5,"span",64),h(6,"i",65),r()()}if(n&2){let e=d();o(2),b(e.fieldsInfo.iconFont==null?null:e.fieldsInfo.iconFont.fieldTitle),o(),p("placeholder",x(e.fieldsInfo.iconFont==null?null:e.fieldsInfo.iconFont.fieldTitle)),T("ngModel",e.dataModel.iconFont),p("iconPicker",e.dataModel.iconFont)("ipIconPack",Me(9,qs))("ipPosition","top")("disabled",!(e.fieldsInfo.iconFont!=null&&e.fieldsInfo.iconFont.accessAddField)),o(3),p("ngClass",e.dataModel.iconFont)}}function yc(n,a){if(n&1){let e=I();l(0,"div",30)(1,"label",66),c(2),r(),l(3,"div",67)(4,"div",68)(5,"input",69,12),A("ngModelChange",function(t){u(e);let s=d();return w(s.dataModel.iconColor,t)||(s.dataModel.iconColor=t),f(t)}),r()(),l(7,"div",70),h(8,"ngx-mat-color-toggle",71)(9,"ngx-mat-color-picker",72,13),r()()()}if(n&2){let e=k(10),i=d();o(2),b(i.fieldsInfo.iconColor==null?null:i.fieldsInfo.iconColor.fieldTitle),o(3),Qe("background",i.dataModel.iconColor),p("placeholder",x(i.fieldsInfo.iconColor==null?null:i.fieldsInfo.iconColor.fieldTitle)),T("ngModel",i.dataModel.iconColor),p("ngxMatColorPicker",e)("disabled",!(i.fieldsInfo.iconColor!=null&&i.fieldsInfo.iconColor.accessAddField)),o(3),p("for",e),o(),p("touchUi",!0)("color","primary")}}function Mc(n,a){if(n&1&&(h(0,"img",33),g(1,"cmsthumbnail")),n&2){let e=d();p("src",x(C(1,2,e.dataModel.linkMainImageIdSrc)),q)}}function vc(n,a){if(n&1){let e=I();l(0,"div",38)(1,"button",73),E("click",function(){u(e);let t=d();return f(t.onFormCancel())}),h(2,"i",74),c(3),g(4,"translate"),r(),l(5,"button",75),h(6,"i",76),c(7),g(8,"translate"),r()()}if(n&2){d();let e=k(10);o(3),S(" ",C(4,3,"ACTION.CANCEL")," "),o(2),p("disabled",!e.form.valid),o(2),S(" ",C(8,5,"ACTION.SAVE")," ")}}var wn=class wn extends Ti{constructor(e,i,t,s,_,m,U,oe,Ie,ze,We){super(s,new lt,oe,We);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.estatePropertyTypeLanduseService=s;this.estatePropertyTypeService=_;this.cmsToastrService=m;this.cmsStoreService=U;this.publicHelper=oe;this.cdr=Ie;this.tokenHelper=ze;this.translate=We;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new Ci;this.dataModel=new lt;this.formInfo=new Le;this.fileManagerOpenForm=!1;this.dataEstatePropertyTypeUsageIds=[];this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore}ngOnInit(){if(this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.DataGetAllEstatePropertyUsage()}onActionFileSelected(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estatePropertyTypeLanduseService.setAccessLoad(),this.estatePropertyTypeLanduseService.setAccessDataType(Ue.Editor),this.estatePropertyTypeLanduseService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataGetAllEstatePropertyUsage(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(s=>{this.formInfo.submitResultMessage=s}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(s=>{this.publicHelper.processService.processStart(e,s,this.constructorInfoAreaId)});let i=new he,t=new D;t.propertyName="LinkPropertyTypeLanduseId",t.value=this.requestId,i.filters.push(t),this.estatePropertyTypeService.ServiceGetAll(i).subscribe({next:s=>{this.dataEstatePropertyTypeModel=s.listItems;let _=[];this.dataEstatePropertyTypeModel.forEach(m=>{_.push(m.linkPropertyTypeUsageId)}),this.dataEstatePropertyTypeUsageIds=_,s.isSuccess?(this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(m=>{this.formInfo.submitResultMessage=m}),this.formInfo.submitResultMessage=s.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(s.errorMessage)),this.publicHelper.processService.processStop(e)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.dataModel.iconColor=this.dataModel.iconColor?.toString(),this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estatePropertyTypeLanduseService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e),this.formInfo.submitButtonEnabled=!0},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorUserCategorySelect(e){this.dataEstatePropertyTypeUsageModel=e}onActionSelectorUserCategorySelectAdded(e){let i=new ta;i.linkPropertyTypeUsageId=e.id,i.linkPropertyTypeLanduseId=this.dataModel.id,this.estatePropertyTypeService.ServiceAdd(i).subscribe({next:t=>{t.isSuccess?(this.translate.get("MESSAGE.registration_in_this_group_was_successful").subscribe(s=>{this.formInfo.submitResultMessage=s}),this.cmsToastrService.typeSuccessEdit()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(s=>{this.formInfo.submitResultMessage=s}),this.formInfo.submitResultMessage=t.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(t.errorMessage))},error:t=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(t)}})}onActionSelectorUserCategorySelectRemoved(e){let i=new ta;i.linkPropertyTypeUsageId=e.id,i.linkPropertyTypeLanduseId=this.dataModel.id,this.estatePropertyTypeService.ServiceDeleteEntity(i).subscribe({next:t=>{t.isSuccess?(this.translate.get("MESSAGE.Deletion_from_this_group_Was_Successful").subscribe(s=>{this.formInfo.submitResultMessage=s}),this.cmsToastrService.typeSuccessEdit()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(s=>{this.formInfo.submitResultMessage=s}),this.formInfo.submitResultMessage=t.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(t.errorMessage))},error:t=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(t)}})}onIconPickerSelect(e){this.dataModel.iconFont=e}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};wn.\u0275fac=function(i){return new(i||wn)(v(je),v(Re),v(te),v(qt),v(Ji),v(F),v(z),v(W),v(H),v(K),v(B))},wn.\u0275cmp=O({type:wn,selectors:[["app-estate-property-type-landuse-edit"]],viewQuery:function(i,t){if(i&1&&He(Gs,5),i&2){let s;Ne(s=Ge())&&(t.formGroup=s.first)}},standalone:!1,features:[ge],decls:60,vars:62,consts:[["vform","ngForm"],["Title",""],["TitleML",""],["Description",""],["LinkMainImageId",""],["TitleResourceLanguage",""],["TitleCreatedYaer",""],["TitleCreatedYaerML",""],["TitleCreatedYaerResourceLanguage",""],["TitlePartition",""],["TitlePartitionResourceLanguage",""],["IconFont",""],["iconColor",""],["iconColorPicker",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit","ngStyle"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["type","text","name","dataModel.title","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.titleML",1,"color-highlight"],["type","text","cmsKeyboardForce","en","name","dataModel.titleML","minlength","3","maxlength","100","required","","id","dataModel.titleML",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"d-flex","mb-3"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],[1,"mb-3"],["target","_blank",3,"href"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openDirectUploadView","openForm","tree","openFilemanagerButtonLabelKey","selectFileType","openFilemanagerButtonView"],[3,"optionChange","optionSelectAdded","optionSelectRemoved","optionSelectForce","optionDisabled"],[1,"form-actions"],["for","dataModel.titleResourceLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleResourceLanguage","type","text","minlength","3","maxlength","100","required","","id","dataModel.titleResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"pt-1"],["data-trigger-switch","dataModel.createdYearActive",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.createdYearActive","name","dataModel.createdYearActive",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.createdYearActive",1,"custom-control-label"],["for","dataModel.titleCreatedYaer",1,"color-highlight"],["type","text","name","dataModel.titleCreatedYaer","minlength","3","maxlength","100","required","","id","dataModel.titleCreatedYaer",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.titleCreatedYaerML",1,"color-highlight"],["type","text","name","dataModel.titleCreatedYaerML","id","dataModel.titleCreatedYaerML",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.titleCreatedYaerResourceLanguage",1,"color-highlight"],["type","text","name","dataModel.titleCreatedYaerResourceLanguage","minlength","3","maxlength","100","required","","id","dataModel.titleCreatedYaerResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["data-trigger-switch","dataModel.partitionActive",1,"font-600","font-14"],["type","checkbox","id","dataModel.partitionActive","name","dataModel.partitionActive",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.partitionActive",1,"custom-control-label"],["for","dataModel.titlePartition",1,"color-highlight"],["type","text","name","dataModel.titlePartition","minlength","3","maxlength","100","required","","id","dataModel.titlePartition",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.titlePartitionML",1,"color-highlight"],["type","text","name","dataModel.titlePartitionML","id","dataModel.titlePartitionML",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.titlePartitionResourceLanguage",1,"color-highlight"],["type","text","name","dataModel.titlePartitionResourceLanguage","minlength","3","maxlength","100","required","","id","dataModel.titlePartitionResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.iconFont",1,"color-highlight"],["matInput","","type","text","name","dataModel.iconFont","type","text","id","dataModel.iconFont",1,"form-control","validate-name",3,"ngModelChange","iconPickerSelect","ngModel","iconPicker","ipIconPack","ipPosition","placeholder","disabled"],[1,"input-group-addon"],[3,"ngClass"],["for","dataModel.iconColor",1,"color-highlight"],[1,"row","mb-0"],[1,"col-11","pe-0"],["matInput","","type","text","name","dataModel.iconColor","type","text","id","dataModel.iconColor",1,"form-control","validate-name",3,"ngModelChange","ngModel","ngxMatColorPicker","placeholder","disabled"],[1,"col-1","ps-0"],["matSuffix","",3,"for"],[3,"touchUi","color"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=I();l(0,"div",14),h(1,"app-progress-spinner",15),l(2,"div",16)(3,"p",17),c(4),r(),l(5,"p"),c(6),g(7,"translate"),r(),h(8,"app-cms-form-result-message",18),l(9,"form",19,0),E("ngSubmit",function(){return u(s),f(t.onFormSubmit())}),l(11,"div",20)(12,"label",21),c(13),r(),l(14,"input",22,1),A("ngModelChange",function(m){return u(s),w(t.dataModel.title,m)||(t.dataModel.title=m),f(m)}),r(),y(16,js,1,0,"i",23),y(17,Qs,1,0,"i",24),l(18,"em"),c(19),r(),y(20,Ys,5,4,"mat-error"),r(),l(21,"div",20)(22,"label",25),c(23,"TitleML"),r(),l(24,"input",26,2),A("ngModelChange",function(m){return u(s),w(t.dataModel.titleML,m)||(t.dataModel.titleML=m),f(m)}),r()(),y(26,Zs,10,9,"div",20),y(27,Xs,8,2,"div",27),y(28,ic,10,8,"div",20),y(29,nc,5,4,"div",20),y(30,lc,10,9,"div",20),y(31,sc,8,2,"div",27),y(32,mc,10,8,"div",20),y(33,uc,4,2,"div",20),y(34,gc,10,9,"div",20),l(35,"div",20)(36,"label",28),c(37),r(),l(38,"textarea",29,3),A("ngModelChange",function(m){return u(s),w(t.dataModel.description,m)||(t.dataModel.description=m),f(m)}),c(40,"                                      "),r(),l(41,"em"),c(42),r(),y(43,Cc,5,3,"mat-error"),r(),y(44,Sc,7,10,"div",20),y(45,yc,11,11,"div",30),l(46,"div",31)(47,"a",32),g(48,"cmsthumbnail"),y(49,Mc,2,4,"img",33),r()(),l(50,"div",20)(51,"label",34),E("click",function(){return u(s),f(t.fileManagerOpenForm=!0)}),c(52),g(53,"translate"),r(),l(54,"input",35,4),g(56,"translate"),A("ngModelChange",function(m){return u(s),w(t.dataModel.linkMainImageId,m)||(t.dataModel.linkMainImageId=m),f(m)}),E("click",function(){return u(s),f(t.fileManagerOpenForm=!0)}),r(),l(57,"cms-file-manager",36),E("itemSelected",function(m){return u(s),f(t.onActionFileSelected(m))}),A("openFormChange",function(m){return u(s),w(t.fileManagerOpenForm,m)||(t.fileManagerOpenForm=m),f(m)}),r()(),l(58,"app-estate-property-type-usage-selectionlist",37),E("optionChange",function(m){return u(s),f(t.onActionSelectorUserCategorySelect(m))})("optionSelectAdded",function(m){return u(s),f(t.onActionSelectorUserCategorySelectAdded(m))})("optionSelectRemoved",function(m){return u(s),f(t.onActionSelectorUserCategorySelectRemoved(m))}),r(),y(59,vc,9,7,"div",38),r()()()}if(i&2){let s=k(15),_=k(39);o(),p("optionsInfoAreaId",t.constructorInfoAreaId),o(3),S(" ",t.formInfo.formTitle," "),o(2),S(" ",C(7,52,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),p("formInfo",t.formInfo),o(),p("ngStyle",ve(60,Us,t.tokenInfo.access.direction)),o(4),b(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),p("placeholder",x(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),T("ngModel",t.dataModel.title),o(2),M(s.value?-1:16),o(),M(s.value?17:-1),o(2),S("",s.value.length," / 100"),o(),M(s.errors!=null&&s.errors.required?20:-1),o(4),p("placeholder",x(t.fieldsInfo.titleML==null?null:t.fieldsInfo.titleML.fieldTitle)),T("ngModel",t.dataModel.titleML),p("disabled",!0),o(2),M(t.fieldsInfo.titleResourceLanguage!=null&&t.fieldsInfo.titleResourceLanguage.accessWatchField?26:-1),o(),M(t.tokenHelper.isAdminSite||t.tokenHelper.isSupportSite?27:-1),o(),M(t.dataModel.createdYearActive?28:-1),o(),M(t.dataModel.createdYearActive?29:-1),o(),M(t.fieldsInfo.titleCreatedYaerResourceLanguage!=null&&t.fieldsInfo.titleCreatedYaerResourceLanguage.accessWatchField&&t.dataModel.createdYearActive?30:-1),o(),M(t.tokenHelper.isAdminSite||t.tokenHelper.isSupportSite?31:-1),o(),M(t.dataModel.partitionActive?32:-1),o(),M(t.dataModel.partitionActive?33:-1),o(),M(t.fieldsInfo.titlePartitionResourceLanguage!=null&&t.fieldsInfo.titlePartitionResourceLanguage.accessWatchField&&t.dataModel.partitionActive?34:-1),o(3),b(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),p("placeholder",x(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),T("ngModel",t.dataModel.description),o(4),S("",_.value.length," / 500"),o(),M(_.errors!=null&&_.errors.required?43:-1),o(),M(t.fieldsInfo.iconFont!=null&&t.fieldsInfo.iconFont.accessWatchField?44:-1),o(),M(t.fieldsInfo.iconColor!=null&&t.fieldsInfo.iconColor.accessWatchField?45:-1),o(2),p("href",x(C(48,54,t.dataModel.linkMainImageIdSrc)),q),o(2),M((t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0?49:-1),o(3),b(C(53,56,"TITLE.PICTURE")),o(2),p("placeholder",x(C(56,58,"TITLE.Original_File_ID"))),T("ngModel",t.dataModel.linkMainImageId),o(3),p("language",t.appLanguage)("isPopup",!0)("openDirectUploadView",!0),T("openForm",t.fileManagerOpenForm),p("tree",t.fileManagerTree)("openFilemanagerButtonLabelKey","select")("selectFileType",t.selectFileTypeMainImage)("openFilemanagerButtonView",!1),o(),p("optionSelectForce",t.dataEstatePropertyTypeUsageIds)("optionDisabled",!1),o(),M(t.formInfo.submitButtonEnabled?59:-1)}},dependencies:[fe,be,et,ie,Ot,$,Xe,ae,it,nt,Te,$e,ot,jt,ee,G,De,_o,xi,Ii,Ei,vi,kt,Po,N,ne],encapsulation:2});var Ro=wn;function Ec(n,a){if(n&1){let e=I();l(0,"button",14),E("click",function(){u(e);let t=d();return f(t.onActionAdd())}),c(1),g(2,"translate"),r()}n&2&&(o(),S(" ",C(2,1,"ACTION.ADD")," "))}function Ic(n,a){if(n&1){let e=I();l(0,"button",15),E("click",function(){u(e);let t=d();return f(t.onActionEdit())}),c(1),g(2,"translate"),r()}n&2&&(o(),S(" ",C(2,1,"ACTION.EDIT")," "))}function bc(n,a){if(n&1){let e=I();l(0,"button",16),E("click",function(){u(e);let t=d();return f(t.onActionDelete())}),c(1),g(2,"translate"),r()}n&2&&(o(),S(" ",C(2,1,"ACTION.DELETE")," "))}function Tc(n,a){if(n&1){let e=I();l(0,"button",17),E("click",function(){u(e);let t=d();return f(t.onActionButtonReload())}),l(1,"mat-icon",18),g(2,"translate"),c(3,"refresh"),r()()}if(n&2){let e=d();o(),J("rotation360",e.publicHelper.processService.process.inRunArea[e.constructorInfoAreaId]),p("title",x(C(2,4,"ACTION.RELOAD")))}}function wc(n,a){if(n&1){let e=I();l(0,"mat-tree-node",19),h(1,"button",20),l(2,"span",21),E("click",function(){let t=u(e).$implicit,s=d();return f(s.onActionSelect(t))}),h(3,"img",22)(4,"i",23),c(5),r()()}if(n&2){let e=a.$implicit,i=d();J("ntk-tree-selected",(i.dataModelSelect==null||i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0&&(i.dataModelSelect==null?null:i.dataModelSelect.id)===e.id),o(3),p("src",x(e.linkMainImageIdSrc),q),o(),Qe("color",e.IconColor),p("ngClass",e.IconFont),o(),S("\xA0",e.title)}}function Ac(n,a){if(n&1){let e=I();l(0,"mat-tree-node",24)(1,"button",25)(2,"mat-icon",26),c(3),r()(),l(4,"span",21),E("click",function(){let t=u(e).$implicit,s=d();return f(s.onActionSelect(t))}),h(5,"img",22)(6,"i",23),c(7),r()()}if(n&2){let e=a.$implicit,i=d(),t=k(12);J("ntk-tree-selected",(i.dataModelSelect==null||i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0&&(i.dataModelSelect==null?null:i.dataModelSelect.id)===e.id),p("cdkTreeNodeTypeaheadLabel",e.title)("isExpanded",e.isExpanded??!1),o(),Pe("type","button")("aria-label","Toggle "+e.title),o(2),S(" ",t.isExpanded(e)?"expand_more":"chevron_right"," "),o(2),p("src",x(e.linkMainImageIdSrc),q),o(),Qe("color",e.IconColor),p("ngClass",e.IconFont),o(),S("\xA0",e.title)}}var An=class An{constructor(a,e,i,t,s,_,m,U,oe,Ie){this.cmsToastrService=a;this.coreEnumService=e;this.categoryService=i;this.cmsConfirmationDialogService=t;this.dialog=s;this.cdr=_;this.publicHelper=m;this.translate=U;this.tokenHelper=oe;this.cmsStoreService=Ie;this.constructorInfoAreaId=this.constructor.name;this.dataModelSelect=new lt;this.dataModelResult=new j;this.filterModel=new he;this.dataSource=new Ka;this.optionChange=new xe;this.unsubscribe=[];this.optionReload=()=>this.onActionButtonReload();this.hasChild=(a,e)=>!1;this.childrenAccessor=a=>[];this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(a){this.onActionSelectForce(a)}ngOnInit(){this.unsubscribe.push(this.cmsStoreService.getState(a=>a.tokenInfoStore).subscribe(()=>Z(this,null,function*(){this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(a=>a.unsubscribe())}DataGetAll(){this.filterModel.rowPerPage=200,this.filterModel.accessLoad=!0;let a=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(a,e,this.constructorInfoAreaId)}),this.categoryService.ServiceGetAll(this.filterModel).subscribe({next:e=>{e.isSuccess?(this.dataModelResult=e,this.dataSource.data=this.dataModelResult.listItems):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(a)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(a,!1)}})}onActionSelect(a){a&&this.dataModelSelect&&a.id==this.dataModelSelect.id?(this.dataModelSelect=null,this.optionChange.emit(null)):(this.dataModelSelect=a,this.optionChange.emit(this.dataModelSelect))}onActionButtonReload(){this.onActionSelect(null),this.dataModelSelect=new lt,this.DataGetAll()}onActionSelectForce(a){}onActionAdd(){var a="";this.publicHelper.isMobile?a="dialog-fullscreen":a="dialog-min",this.dialog.open(xo,{height:"90%",panelClass:a,enterAnimationDuration:X.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:X.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(i=>{i&&i.dialogChangedDate&&this.DataGetAll()})}onActionEdit(){let a="";if(this.dataModelSelect&&this.dataModelSelect.id&&this.dataModelSelect.id.length>0&&(a=this.dataModelSelect.id),a===""){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorCategoryNotSelected").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(Ro,{height:"90%",panelClass:e,enterAnimationDuration:X.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:X.cmsViewConfig.exitAnimationDuration,data:{id:a}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionDelete(){let a="";if(this.dataModelSelect&&this.dataModelSelect.id&&this.dataModelSelect.id.length>0&&(a=this.dataModelSelect.id),a===""){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorCategoryNotSelected").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}var e="",i="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(t=>{e=t["MESSAGE.Please_Confirm"],i=t["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.dataModelSelect.title+" ) ",this.cmsConfirmationDialogService.confirm(e,i).then(s=>{if(s){let _=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(m=>{this.publicHelper.processService.processStart(_,m,this.constructorInfoAreaId)}),this.categoryService.ServiceDelete(this.dataModelSelect.id).subscribe({next:m=>{m.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(_)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(_,!1)}})}}).catch(()=>{})})}};An.\u0275fac=function(e){return new(e||An)(v(F),v(te),v(qt),v(li),v(re),v(H),v(W),v(B),v(K),v(z))},An.\u0275cmp=O({type:An,selectors:[["app-estate-property-type-landuse-tree"]],inputs:{optionSelectForce:"optionSelectForce",optionReload:"optionReload"},outputs:{optionChange:"optionChange"},standalone:!1,decls:16,vars:14,consts:[["treeTagControl",""],[3,"optionHeaderDisplay","optionActionMainDisplay","optionFooterDisplay"],["cms-tree-header",""],["cms-tree-action",""],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],["cms-tree-body","",1,"loader-container"],[3,"optionsInfoAreaId"],[3,"dataSource","childrenAccessor"],["matTreeNodePadding","",3,"ntk-tree-selected",4,"matTreeNodeDef"],["matTreeNodePadding","","matTreeNodeToggle","","isExpandable","",3,"cdkTreeNodeTypeaheadLabel","isExpanded","ntk-tree-selected",4,"matTreeNodeDef","matTreeNodeDefWhen"],["cms-tree-footer",""],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[2,"font-size","20px","margin","-6px",3,"title"],["matTreeNodePadding",""],["matIconButton","","disabled",""],[3,"click"],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["aria-hidden","true",3,"ngClass"],["matTreeNodePadding","","matTreeNodeToggle","","isExpandable","",3,"cdkTreeNodeTypeaheadLabel","isExpanded"],["matIconButton","","matTreeNodeToggle",""],[1,"mat-icon-rtl-mirror"]],template:function(e,i){e&1&&(l(0,"app-cms-html-tree",1),P(1,2),c(2),g(3,"translate"),R(),P(4,3),y(5,Ec,3,3,"button",4),y(6,Ic,3,3,"button",5),y(7,bc,3,3,"button",6),y(8,Tc,4,6,"button",7),R(),P(9,8),h(10,"app-progress-spinner",9),l(11,"mat-tree",10,0),L(13,wc,6,8,"mat-tree-node",11)(14,Ac,8,13,"mat-tree-node",12),r(),R(),Wt(15,13),r()),e&2&&(p("optionHeaderDisplay",!0)("optionActionMainDisplay",!0)("optionFooterDisplay",!1),o(2),S(" ",C(3,12,"TABLE."+(i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.moduleEntityName))," "),o(3),M(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessAddRow?5:-1),o(),M(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessEditRow&&(i.dataModelSelect==null?null:i.dataModelSelect.id)>0?6:-1),o(),M(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessDeleteRow&&i.dataModelSelect.id&&(i.dataModelSelect==null||i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0?7:-1),o(),M(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessWatchRow?8:-1),o(2),p("optionsInfoAreaId",i.constructorInfoAreaId),o(),p("dataSource",i.dataSource)("childrenAccessor",i.childrenAccessor),o(3),p("matTreeNodeDefWhen",i.hasChild))},dependencies:[fe,_t,ke,ja,Qa,za,Ya,qa,G,$a,N],encapsulation:2});var xn=An;var Rc=()=>["expandedTitle"],kc=()=>["expandedDetail"],Lc=()=>[5,10,20,100],Ir=n=>({display:n});function Dc(n,a){if(n&1&&h(0,"app-estate-billboard-header",7),n&2){let e=d();p("optionId",e.requestLinkBillboardId)}}function Vc(n,a){if(n&1&&h(0,"app-estate-contract-type-header",7),n&2){let e=d();p("optionId",e.requestLinkContractTypeId)}}function Oc(n,a){if(n&1&&h(0,"app-estate-customer-order-header",7),n&2){let e=d();p("optionId",e.requestLinkCustomerOrderId)}}function Bc(n,a){if(n&1&&h(0,"app-estate-property-type-landuse-header",7),n&2){let e=d();p("optionId",e.requestLinkPropertyTypeLanduseId)}}function Fc(n,a){if(n&1&&h(0,"app-estate-property-type-usage-header",7),n&2){let e=d();p("optionId",e.requestLinkPropertyTypeUsageId)}}function Wc(n,a){if(n&1&&h(0,"app-estate-property-project-header",7),n&2){let e=d();p("optionId",e.requestLinkProjectId)}}function Hc(n,a){if(n&1){let e=I();l(0,"a",71),E("click",function(){u(e);let t=d();return f(t.onActionBackToParent())}),h(1,"i",72),r()}}function Nc(n,a){if(n&1){let e=I();l(0,"div",27)(1,"a",73),E("click",function(){u(e);let t=d();return f(t.onActionButtonNewRow())}),h(2,"i",74)(3,"br"),r(),l(4,"p",31),c(5),g(6,"translate"),r()()}n&2&&(o(5),S(" ",C(6,1,"ACTION.ADD")," "))}function Gc(n,a){if(n&1){let e=I();l(0,"div",27)(1,"a",75),E("click",function(){u(e);let t=d();return f(t.onActionButtonActionSendSmsToCustomerOrder())}),h(2,"i",74)(3,"br"),r(),l(4,"p",31),c(5),g(6,"translate"),r()()}n&2&&(o(5),S(" ",C(6,1,"ACTION.ActionSendSmsToCustomerOrder")," "))}function Uc(n,a){if(n&1){let e=I();l(0,"div",27)(1,"a",29),E("click",function(t){u(e);let s=d();return f(s.onActionButtonAdsRow(s.tableRowSelected,t))}),h(2,"i",76)(3,"br"),r(),l(4,"p",31),c(5),g(6,"translate"),r()()}n&2&&(o(5),S(" ",C(6,1,"ACTION.ADS")," "))}function qc(n,a){if(n&1){let e=I();l(0,"div",27)(1,"a",77),E("click",function(t){u(e);let s=d();return f(s.onActionButtonEditRow(s.tableRowSelected,t))}),h(2,"i",78)(3,"br"),r(),l(4,"p",31),c(5),g(6,"translate"),r()()}n&2&&(o(5),S(" ",C(6,1,"ACTION.EDIT")," "))}function jc(n,a){if(n&1){let e=I();l(0,"div",27)(1,"a",79),E("click",function(){u(e);let t=d();return f(t.onActionButtonDeleteRow(t.tableRowSelected))}),h(2,"i",80)(3,"br"),r(),l(4,"p",31),c(5),g(6,"translate"),r()()}n&2&&(o(5),S(" ",C(6,1,"ACTION.DELETE")," "))}function Qc(n,a){n&1&&(l(0,"mat-header-cell"),c(1),g(2,"translate"),r()),n&2&&(o(),S(" ",C(2,1,"TITLE.MENU")," "))}function Yc(n,a){if(n&1){let e=I();l(0,"mat-cell")(1,"button",81),E("click",function(){let t=u(e).$implicit,s=d();return f(s.onActionTableRowSelectActionMenu(t))}),h(2,"i",82),r()()}}function zc(n,a){n&1&&(l(0,"mat-header-cell",83),c(1),g(2,"translate"),r()),n&2&&(o(),S(" ",C(2,1,"TITLE.PICTURE")," "))}function Kc(n,a){if(n&1&&(h(0,"img",84),g(1,"cmsthumbnail")),n&2){let e=d().$implicit;p("src",x(C(1,2,e.linkMainImageIdSrc)),q)}}function Jc(n,a){if(n&1&&(l(0,"mat-cell"),y(1,Kc,2,4,"img",84),r()),n&2){let e=a.$implicit;o(),M((e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0?1:-1)}}function Zc(n,a){if(n&1&&(l(0,"mat-header-cell",83),c(1),r()),n&2){let e=d();o(),S(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function Xc(n,a){if(n&1&&(l(0,"mat-cell"),c(1),r()),n&2){let e=a.$implicit;o(),S(" ",e.id," ")}}function $c(n,a){if(n&1&&(l(0,"mat-header-cell",83),c(1),r()),n&2){let e=d();o(),S(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function ed(n,a){if(n&1&&(l(0,"mat-cell"),c(1),g(2,"cmssiteinfo"),g(3,"async"),r()),n&2){let e=a.$implicit;o(),S(" ",C(3,3,C(2,1,e.linkSiteId))," ")}}function td(n,a){if(n&1&&(l(0,"mat-header-cell",83),c(1),r()),n&2){let e=d();o(),S(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function id(n,a){if(n&1&&h(0,"select",86),n&2){let e=d().$implicit,i=d();p("contentService",i.contentService)("row",e)("ngStyle",ve(3,Ir,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function nd(n,a){if(n&1&&(l(0,"mat-cell",85),g(1,"statusCellClass"),h(2,"i",85),g(3,"statusIconClass"),y(4,id,1,5,"select",86),r()),n&2){let e=a.$implicit,i=d();p("ngClass",C(1,3,e.recordStatus)),o(2),p("ngClass",C(3,5,e.recordStatus)),o(2),M(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessEditRow?4:-1)}}function od(n,a){if(n&1&&(l(0,"mat-header-cell",83),c(1),r()),n&2){let e=d();o(),S(" ",e.fieldsInfo.mainAdminRecordStatus==null?null:e.fieldsInfo.mainAdminRecordStatus.fieldTitle," ")}}function ad(n,a){if(n&1&&(l(0,"mat-cell"),h(1,"i",85),g(2,"adminStatusIconClass"),r()),n&2){let e=a.$implicit;o(),p("ngClass",C(2,1,e.mainAdminRecordStatus))}}function rd(n,a){if(n&1&&(l(0,"mat-header-cell",83),c(1),r()),n&2){let e=d();o(),S(" ",e.fieldsInfo.isSoldIt==null?null:e.fieldsInfo.isSoldIt.fieldTitle," ")}}function ld(n,a){if(n&1&&(l(0,"mat-cell"),h(1,"i",85),g(2,"boolclass"),r()),n&2){let e=a.$implicit;o(),p("ngClass",C(2,1,e.isSoldIt))}}function sd(n,a){if(n&1&&(l(0,"mat-header-cell",83),c(1),r()),n&2){let e=d();o(),S(" ",e.fieldsInfo.viewConfigHiddenInList==null?null:e.fieldsInfo.viewConfigHiddenInList.fieldTitle," ")}}function cd(n,a){if(n&1&&(l(0,"mat-cell"),h(1,"i",85),g(2,"boolclass"),r()),n&2){let e=a.$implicit;o(),p("ngClass",C(2,1,e.viewConfigHiddenInList))}}function dd(n,a){if(n&1&&(l(0,"mat-header-cell",83),c(1),r()),n&2){let e=d();o(),S(" ",e.fieldsInfo.viewCount==null?null:e.fieldsInfo.viewCount.fieldTitle," ")}}function pd(n,a){if(n&1&&(l(0,"mat-cell"),c(1),r()),n&2){let e=a.$implicit;o(),S(" ",e.viewCount," ")}}function md(n,a){n&1&&(l(0,"mat-header-cell",83),c(1),g(2,"translate"),r()),n&2&&(o(),S(" ",C(2,1,"TITLE.Is_Special")," "))}function ud(n,a){if(n&1&&(l(0,"mat-cell"),h(1,"i",85),g(2,"boolclass"),r()),n&2){let e=a.$implicit;o(),Qe("color",e.adsActive?"#f7db25":"#ff0000"),p("ngClass",C(2,3,e.adsActive))}}function fd(n,a){if(n&1&&(l(0,"mat-header-cell",83),c(1),r()),n&2){let e=d();o(),S(" ",e.fieldsInfo.caseCode==null?null:e.fieldsInfo.caseCode.fieldTitle," ")}}function _d(n,a){if(n&1&&(l(0,"mat-cell"),c(1),r()),n&2){let e=a.$implicit;o(),S(" ",e.caseCode," ")}}function hd(n,a){if(n&1&&(l(0,"mat-header-cell",83),c(1),r()),n&2){let e=d();o(),S(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function gd(n,a){if(n&1&&(l(0,"mat-cell",87),c(1),g(2,"localeDateTime"),r()),n&2){let e=a.$implicit;o(),S(" ",C(2,1,e.createdDate)," ")}}function Cd(n,a){if(n&1&&(l(0,"mat-header-cell",83),c(1),r()),n&2){let e=d();o(),S(" ",e.fieldsInfo.updatedDate==null?null:e.fieldsInfo.updatedDate.fieldTitle," ")}}function Sd(n,a){if(n&1&&(l(0,"mat-cell",87),c(1),g(2,"localeDateTime"),r()),n&2){let e=a.$implicit;o(),S(" ",C(2,1,e.updatedDate)," ")}}function yd(n,a){n&1&&(l(0,"mat-header-cell"),c(1),g(2,"translate"),r()),n&2&&(o(),S(" ",C(2,1,"TITLE.OPTION")," "))}function Md(n,a){if(n&1&&(l(0,"mat-cell",88)(1,"button",89)(2,"mat-icon"),c(3,"more_vert"),r()(),h(4,"mat-menu",null,2),r()),n&2){let e=k(5);o(),p("matMenuTriggerFor",e)}}function vd(n,a){n&1&&(l(0,"mat-header-cell",83),c(1),g(2,"translate"),r()),n&2&&(o(),S(" ",C(2,1,"TITLE.LINKTO")," "))}function Ed(n,a){if(n&1){let e=I();l(0,"mat-cell")(1,"button",90),E("click",function(){let t=u(e).$implicit,s=d();return f(s.onActionButtonLinkTo(t))}),l(2,"mat-icon",91),c(3,"\u2197"),r()()()}}function Id(n,a){n&1&&(l(0,"mat-header-cell",83),c(1),g(2,"translate"),r()),n&2&&(o(),S(" ",C(2,1,"TITLE.QUICK_VIEW")," "))}function bd(n,a){if(n&1){let e=I();l(0,"mat-cell")(1,"button",90),E("click",function(){let t=u(e).$implicit,s=d();return f(s.onActionButtonQuickViewRow(t))}),l(2,"mat-icon",91),c(3,"visibility"),r()()()}}function Td(n,a){if(n&1&&(l(0,"mat-cell"),c(1),r()),n&2){let e=a.$implicit;o(),S(" ",e.title," ")}}function wd(n,a){if(n&1&&(h(0,"img",92),g(1,"cmsthumbnail")),n&2){let e=d().$implicit;p("src",x(C(1,2,e.linkMainImageIdSrc)),q)}}function Ad(n,a){if(n&1&&(l(0,"tr")(1,"td"),c(2),g(3,"translate"),r(),l(4,"td"),c(5),r()()),n&2){let e=d().$implicit;o(2),b(C(3,2,"TITLE.SquareMeters")),o(3),b(e.area)}}function xd(n,a){if(n&1&&(l(0,"tr")(1,"td"),c(2),g(3,"translate"),r(),l(4,"td"),c(5),r()()),n&2){let e=d().$implicit;o(2),b(C(3,2,"TITLE.CreatedYaer")),o(3),b(e.createdYaer)}}function Pd(n,a){if(n&1){let e=I();l(0,"mat-cell")(1,"div")(2,"table")(3,"tr")(4,"th"),y(5,wd,2,4,"img",92),r(),l(6,"th"),c(7),l(8,"span",93),E("click",function(){u(e);let t=d();return f(t.onActionCopied())}),h(9,"i",94),r()()(),l(10,"tr"),h(11,"td"),l(12,"td"),c(13),r()(),y(14,Ad,6,4,"tr"),y(15,xd,6,4,"tr"),l(16,"tr"),h(17,"td"),l(18,"td"),c(19),r()(),l(20,"tr"),h(21,"td"),l(22,"td"),c(23),r()(),l(24,"tr")(25,"td"),c(26),g(27,"translate"),r(),l(28,"td"),c(29),r()(),l(30,"tr"),h(31,"td"),l(32,"td"),c(33),g(34,"cmsuserinfo"),g(35,"async"),r()(),l(36,"tr"),h(37,"td")(38,"td"),r()()()()}if(n&2){let e=a.$implicit;o(5),M((e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0?5:-1),o(2),S(" ",e.id," "),o(),p("cdkCopyToClipboard",e.id),o(5),b(e.title),o(),M(e.area&&e.area>0?14:-1),o(),M(e.createdYaer&&e.createdYaer>0?15:-1),o(4),b(e.linkLocationIdParentTitle),o(4),b(e.linkLocationIdTitle),o(3),S("",C(27,11,"TITLE.Address"),":"),o(3),b(e.address),o(4),b(C(35,15,C(34,13,e.createdBy)))}}function Rd(n,a){n&1&&h(0,"mat-header-row")}function kd(n,a){if(n&1){let e=I();l(0,"mat-row",95),E("click",function(t){let s=u(e).$implicit,_=d();return f(_.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=u(e).$implicit,_=d();return f(_.onActionTableRowSelect(s,t))})("mouseenter",function(){let t=u(e).$implicit,s=d();return f(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=u(e).$implicit,s=d();return f(s.onActionTableRowMouseLeave(t))}),r()}if(n&2){let e=a.$implicit,i=a.dataIndex,t=d();J("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",e.id===(t.tableRowSelected==null?null:t.tableRowSelected.id))}}function Ld(n,a){if(n&1){let e=I();l(0,"mat-row",96),E("click",function(t){let s=u(e).$implicit,_=d();return f(_.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=u(e).$implicit,_=d();return f(_.onActionTableRowSelect(s,t))})("mouseenter",function(){let t=u(e).$implicit,s=d();return f(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=u(e).$implicit,s=d();return f(s.onActionTableRowMouseLeave(t))}),r()}if(n&2){let e=a.$implicit,i=a.dataIndex,t=d();J("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",e.id===(t.tableRowSelected==null?null:t.tableRowSelected.id))}}function Dd(n,a){if(n&1){let e=I();l(0,"mat-row",97),E("click",function(t){let s=u(e).$implicit,_=d();return f(_.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=u(e).$implicit,_=d();return f(_.onActionTableRowSelect(s,t))})("mouseenter",function(){let t=u(e).$implicit,s=d();return f(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=u(e).$implicit,s=d();return f(s.onActionTableRowMouseLeave(t))}),r()}if(n&2){let e=a.$implicit,i=a.dataIndex,t=d();J("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",e.id===(t.tableRowSelected==null?null:t.tableRowSelected.id)),p("ngStyle",ve(7,Ir,e.expanded===!0?"":"none"))}}function Vd(n,a){if(n&1){let e=I();l(0,"div",70)(1,"button",98),E("click",function(){u(e);let t=d();return f(t.onFormCancel())}),h(2,"i",99),c(3),g(4,"translate"),r()()}n&2&&(o(3),S(" ",C(4,1,"ACTION.CANCEL")," "))}var Pn=class Pn extends ci{constructor(e,i,t,s,_,m,U,oe,Ie,ze,We,Ke,_i,Dt,rt){super(t,new Gt,Dt,U,Ke);this.data=e;this.dialogRef=i;this.contentService=t;this.activatedRoute=s;this.cmsToastrService=_;this.cmsConfirmationDialogService=m;this.tokenHelper=U;this.cmsStoreService=oe;this.themeService=Ie;this.router=ze;this.cdr=We;this.translate=Ke;this.pageInfo=_i;this.publicHelper=Dt;this.dialog=rt;this.requestSearchTitle="";this.requestSearchCustomerTel="";this.requestSearchCaseCode="";this.requestLinkPropertyTypeLanduseId="";this.requestLinkPropertyTypeUsageId="";this.requestLinkContractTypeId="";this.requestLinkBillboardId="";this.requestLinkCustomerOrderId="";this.requestLinkProjectId="";this.requestLinkUserId=0;this.requestInChecking=!1;this.constructorInfoAreaId=this.constructor.name;this.optionloadComponent=!0;this.optionloadByRoute=!0;this.flag=!1;this.tablePropertySelected=[];this.searchInCheckingChecked=!1;this.filteModelContent=new he;this.filterDataModelQueryBuilder=[];this.formInfo=new Le;this.optionsSearch=new go;this.optionsStatist=new Co;this.tokenInfo=new Vt;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["linkMainImageIdSrc","id","recordStatus","mainAdminRecordStatus","IsSoldIt","ViewConfigHiddenInList","linkSiteId","AdsActive","ViewCount","CaseCode","createdDate","updatedDate","LinkTo","QuickView","action_menu"];this.tabledisplayedColumnsMobileSource=["linkMainImageIdSrc","IsSoldIt","CaseCode","LinkTo","QuickView","action_menu"];this.fieldsInfo=new Map;this.unsubscribe=[];if(this.publicHelper.processService.cdr=this.cdr,e&&(e.searchTitle&&(this.requestSearchTitle=e.searchTitle+""),e.searchCustomerTel&&(this.requestSearchCustomerTel=e.searchCustomerTel+""),e.searchCaseCode&&(this.requestSearchCaseCode=e.searchCaseCode+"")),this.requestLinkPropertyTypeLanduseId=this.activatedRoute.snapshot.paramMap.get("LinkPropertyTypeLanduseId"),this.requestLinkPropertyTypeUsageId=this.activatedRoute.snapshot.paramMap.get("LinkPropertyTypeUsageId"),this.requestLinkContractTypeId=this.activatedRoute.snapshot.paramMap.get("LinkContractTypeId"),this.requestLinkBillboardId=this.activatedRoute.snapshot.paramMap.get("LinkBillboardId"),this.requestLinkCustomerOrderId=this.activatedRoute.snapshot.paramMap.get("LinkCustomerOrderId"),this.requestLinkProjectId=this.activatedRoute.snapshot.paramMap.get("LinkProjectId"),this.requestLinkUserId=+this.activatedRoute.snapshot.paramMap.get("LinkUserId")|0,this.activatedRoute.snapshot.paramMap.get("InChecking")&&(this.searchInCheckingChecked=this.activatedRoute.snapshot.paramMap.get("InChecking")==="true"),this.optionsSearch.parentMethods={onSubmit:V=>this.onSubmitOptionsSearch(V)},this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=Ae.Descending,this.requestLinkPropertyTypeLanduseId&&this.requestLinkPropertyTypeLanduseId.length>0){let V=new D;V.propertyName="LinkPropertyTypeLanduseId",V.value=this.requestLinkPropertyTypeLanduseId,this.filteModelContent.filters.push(V)}if(this.requestLinkPropertyTypeUsageId&&this.requestLinkPropertyTypeUsageId.length>0){let V=new D;V.propertyName="LinkPropertyTypeUsageId",V.value=this.requestLinkPropertyTypeUsageId,this.filteModelContent.filters.push(V)}if(this.requestLinkContractTypeId&&this.requestLinkContractTypeId.length>0){let V=new D;V.propertyName="Contracts",V.propertyAnyName="LinkEstateContractTypeId",V.value=this.requestLinkContractTypeId,this.filteModelContent.filters.push(V)}if(this.requestLinkUserId&&this.requestLinkUserId>0){let V=new D;V.propertyName="linkCmsUserId",V.value=this.requestLinkUserId,this.filteModelContent.filters.push(V)}if(this.requestLinkProjectId&&this.requestLinkProjectId.length>0){let V=new D;V.propertyName="linkPropertyProjectId",V.value=this.requestLinkProjectId,this.filteModelContent.filters.push(V)}if(this.requestSearchTitle&&this.requestSearchTitle.length>0){let V=new D;V.propertyName="title",V.value=this.requestSearchTitle,V.searchType=Q.Contains,this.filteModelContent.filters.push(V)}if(this.requestSearchCaseCode&&this.requestSearchCaseCode.length>0){let V=new D;V.propertyName="caseCode",V.value=this.requestSearchCaseCode,this.filteModelContent.filters.push(V)}if(this.requestSearchCustomerTel&&this.requestSearchCustomerTel.length>0){let V=new D,zn=new D;zn.propertyName="aboutCustomerTel",zn.value=this.requestSearchCustomerTel,zn.searchType=Q.Contains,zn.clauseType=Y.Or,V.filters.push(zn);let Kn=new D;Kn.propertyName="aboutCustomerMobile",Kn.value=this.requestSearchCustomerTel,Kn.searchType=Q.Contains,Kn.clauseType=Y.Or,V.filters.push(Kn),this.filteModelContent.filters.push(V)}}set optionLinkCustomerOrderId(e){e&&e.length>0&&(this.requestLinkCustomerOrderId=e)}set optionLinkBillboardId(e){e&&e.length>0&&(this.requestLinkBillboardId=e)}ngOnInit(){this.translate.get("TITLE.QUICK_VIEW").subscribe(e=>{this.formInfo.formTitle=e}),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>Z(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){if(this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),!this.optionloadComponent)return;this.tableRowsSelected=[],this.onActionTableRowSelect(new Gt);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));if(this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.categoryModelSelected&&this.categoryModelSelected.id&&this.categoryModelSelected.id.length>0){let t=new D;t.propertyName="LinkPropertyTypeLanduseId",t.value=this.categoryModelSelected.id,i.filters.push(t)}if(this.searchInCheckingChecked){let t=new D;t.propertyName="recordStatus",t.value=Ze.Available,t.searchType=Q.NotEqual,i.filters.push(t);let s=new D;s.propertyName="recordStatus",s.value=Ze.DeniedConfirmed,s.searchType=Q.NotEqual,i.filters.push(s)}this.requestLinkBillboardId&&this.requestLinkBillboardId.length>0?this.contentService.ServiceGetAllWithCoverBillboardId(this.requestLinkBillboardId,i).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),t.isSuccess?(this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorGetAll(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e)}}):this.requestLinkCustomerOrderId?.length>0?this.contentService.ServiceGetAllWithCoverCustomerOrderId(this.requestLinkCustomerOrderId,i).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),t.isSuccess?(this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorGetAll(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e)}}):this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),t.isSuccess?(this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorGetAll(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=Ae.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=Ae.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=Ae.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.categoryModelSelected==null&&this.categoryModelSelected&&this.categoryModelSelected.id&&this.categoryModelSelected.id.length===0&&(this.requestLinkPropertyTypeLanduseId==null||this.requestLinkPropertyTypeLanduseId.length===0)){this.translate.get("MESSAGE.Content_not_selected").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}let e=this.requestLinkPropertyTypeLanduseId;this.categoryModelSelected&&this.categoryModelSelected.id.length>0&&(e=this.categoryModelSelected.id),e&&e.length>0?this.router.navigate(["/estate/property/add/LinkPropertyTypeLanduseId",e]):this.router.navigate(["/estate/property/add"])}onActionSelectorSelect(e){var i=this.filteModelContent.sortColumn,t=this.filteModelContent.sortType;this.filteModelContent=new he,this.filteModelContent.sortColumn=i,this.filteModelContent.sortType=t,this.categoryModelSelected=e,this.DataGetAll()}onActionButtonEditRow(e=this.tableRowSelected,i){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.tableRowSelected=e,this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}i?.ctrlKey?(this.link="/#/estate/property/edit/"+this.tableRowSelected.id,window.open(this.link,"_blank")):this.router.navigate(["/estate/property/edit",this.tableRowSelected.id])}onActionButtonQuickViewRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(So,{height:"90%",panelClass:i,enterAnimationDuration:X.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:X.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate})}onActionButtonAdsRow(e=this.tableRowSelected,i){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.tableRowSelected=e,this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}i?.ctrlKey?(this.link="/#/estate/property-ads/LinkPropertyId/"+this.tableRowSelected.id,window.open(this.link,"_blank")):this.router.navigate(["/estate/property-ads/LinkPropertyId",this.tableRowSelected.id])}onActionButtonHistoryRow(e=this.tableRowSelected,i){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.tableRowSelected=e,this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}i?.ctrlKey?(this.link="/#/estate/property-history/LinkPropertyId/"+this.tableRowSelected.id,window.open(this.link,"_blank")):this.router.navigate(["/estate/property-history/LinkPropertyId",this.tableRowSelected.id])}onActionButtonDeleteRow(e=this.tableRowSelected){if(e==null||!e.id||e.id.length===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}if(this.tableRowSelected=e,this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(s=>{i=s["MESSAGE.Please_Confirm"],t=s["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(s=>{if(s){let _=this.constructor.name+"main";this.translate.get("MESSAGE.Deleting_information").subscribe(m=>{this.publicHelper.processService.processStart(_,m,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:m=>{m.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(_)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(_)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;i.set("Active",0),i.set("All",0),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:_=>{_.isSuccess?(i.set("All",_.totalRowCount),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(_.errorMessage)},error:_=>{this.cmsToastrService.typeError(_)}});let t=JSON.parse(JSON.stringify(this.filteModelContent)),s=new D;s.propertyName="recordStatus",s.value=Ze.Available,t.filters.push(s),this.contentService.ServiceGetCount(t).subscribe({next:_=>{_.isSuccess?(i.set("Active",_.totalRowCount),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(_.errorMessage)},error:_=>{this.cmsToastrService.typeError(_)}})}onActionButtonActionSendSmsToCustomerOrder(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}let i=this.constructor.name+"main";this.translate.get("ACTION.ActionSendSmsToCustomerOrder").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructorInfoAreaId)}),this.contentService.ServiceActionSendSmsToCustomerOrder(e.id).subscribe({next:t=>{t.isSuccess?this.cmsToastrService.typeSuccessMessage(t.errorMessage):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(i)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(i,!1)}})}onActionButtonViewOtherUserAdvertise(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.requestLinkUserId=e.linkCmsUserId,this.requestLinkUserId&&this.requestLinkUserId>0){let i=new D;i.propertyName="linkCmsUserId",i.value=this.requestLinkUserId,this.filteModelContent.filters.push(i)}this.DataGetAll()}onActionButtonInChecking(e){this.searchInCheckingChecked=e,this.DataGetAll()}onActionButtonReload(){this.optionloadComponent=!0,this.DataGetAll()}onActionCopied(){this.cmsToastrService.typeSuccessCopedToClipboard()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/ticketing/departemen/"])}onActionButtonLinkTo(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(e.recordStatus!=Ze.Available){this.cmsToastrService.typeWarningRecordStatusNoAvailable();return}this.onActionTableRowSelect(e);let i=this.constructor.name+"ServiceGetOneById";this.translate.get("MESSAGE.get_state_information").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructorInfoAreaId)}),this.contentService.setAccessDataType(Ue.Editor),this.contentService.ServiceGetOneById(e.id).subscribe({next:t=>{if(t.isSuccess){var s="";this.publicHelper.isMobile?s="dialog-fullscreen":s="dialog-min",this.dialog.open(Ai,{height:"90%",panelClass:s,enterAnimationDuration:X.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:X.cmsViewConfig.exitAnimationDuration,data:{title:t.item.title,urlViewContentQRCodeBase64:t.item.urlViewContentQRCodeBase64,urlViewContent:t.item.urlViewContent}}).afterClosed().subscribe(m=>{m&&m.dialogChangedDate&&this.DataGetAll()})}else this.cmsToastrService.typeErrorMessage(t.errorMessage);this.publicHelper.processService.processStop(i)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(i,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Pn.\u0275fac=function(i){return new(i||Pn)(v(je),v(Re),v($t),v(gi),v(F),v(li),v(K),v(z),v(Ft),v(Zt),v(H),v(B),v(Qt),v(W),v(re))},Pn.\u0275cmp=O({type:Pn,selectors:[["app-estate-property-quick-list"]],inputs:{optionloadComponent:"optionloadComponent",optionloadByRoute:"optionloadByRoute",optionLinkCustomerOrderId:"optionLinkCustomerOrderId",optionLinkBillboardId:"optionLinkBillboardId"},standalone:!1,features:[ge],decls:129,vars:56,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection","loader-container"],[3,"optionId"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionActionRowDisplayMenuAct","optionSelectRowItemTitle"],["cms-tree",""],[3,"optionChange"],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-maximize","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-minimize","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[1,"custom-slide-toggle",3,"ngModelChange","ngModel"],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],["mat-menu-item","","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-clock-rotate-left","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-share","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","","multiTemplateDataRows","",3,"matSortChange","dataSource"],["matColumnDef","action_menu"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","linkMainImageIdSrc"],["mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","id"],["matColumnDef","linkSiteId"],["matColumnDef","recordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","mainAdminRecordStatus"],["matColumnDef","IsSoldIt"],["matColumnDef","ViewConfigHiddenInList"],["matColumnDef","ViewCount"],["matColumnDef","AdsActive"],["matColumnDef","CaseCode"],["matColumnDef","createdDate"],["style","direction: ltr",4,"matCellDef"],["matColumnDef","updatedDate"],["matColumnDef","Action"],["class","Action",4,"matCellDef"],["matColumnDef","LinkTo"],["matColumnDef","QuickView"],["matColumnDef","expandedTitle"],["matColumnDef","expandedDetail"],[4,"matHeaderRowDef"],["class","ntk-row-expandedTitle",3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["class","ntk-row-expandedDetail",3,"ntk-row-odd","ntk-row-even","ntk-row-selected","ngStyle","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],[1,"ntk-cms-html-card-message"],[3,"formInfo"],[1,"ntk-cms-html-card-footer"],[1,"form-actions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],["type","button",1,"btn","btn-outline-danger","BTN-text","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-bullseye-pointer","font-18",2,"color","#ffffff"],["mat-menu-item","","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["mat-menu-item","","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"click"],[1,"fa","fa-bars","font-18"],["mat-sort-header",""],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[2,"direction","ltr"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],["type","button","mat-icon-button","",3,"click"],[2,"color","#ff671f"],["aria-hidden","","height","80","width","80",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"navi-icon","pointer",3,"click","cdkCopyToClipboard"],[1,"flaticon2-copy"],[1,"ntk-row-expandedTitle",3,"click","rtclick","mouseenter","mouseleave"],[3,"click","rtclick","mouseenter","mouseleave"],[1,"ntk-row-expandedDetail",3,"click","rtclick","mouseenter","mouseleave","ngStyle"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(i,t){if(i&1){let s=I();l(0,"div",3),h(1,"app-progress-spinner",4),l(2,"div",5),c(3),r(),l(4,"div",6),y(5,Dc,1,1,"app-estate-billboard-header",7),y(6,Vc,1,1,"app-estate-contract-type-header",7),y(7,Oc,1,1,"app-estate-customer-order-header",7),y(8,Bc,1,1,"app-estate-property-type-landuse-header",7),y(9,Fc,1,1,"app-estate-property-type-usage-header",7),y(10,Wc,1,1,"app-estate-property-project-header",7),l(11,"app-cms-html-list",8),A("optionActionGuideNoticeDisplayChange",function(m){return u(s),w(t.viewGuideNotice,m)||(t.viewGuideNotice=m),f(m)}),E("optionOnActionButtonMemoRow",function(){return u(s),f(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return u(s),f(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return u(s),f(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return u(s),f(t.onActionButtonPrintRow())}),P(12,9),l(13,"app-estate-property-type-landuse-tree",10),E("optionChange",function(m){return u(s),f(t.onActionSelectorSelect(m))}),r(),R(),Wt(14,11)(15,12),P(16,13),y(17,Hc,2,0,"a",14),l(18,"a",15),E("click",function(){return u(s),f(t.viewGuideNotice=!t.viewGuideNotice)}),h(19,"i",16),r(),l(20,"a",15),E("click",function(){return u(s),f(t.onActionButtonReload())}),h(21,"i",17),r(),l(22,"a",18),E("click",function(){return u(s),f(t.onActionGridExpandRows(!0))}),h(23,"i",19),r(),l(24,"a",18),E("click",function(){return u(s),f(t.onActionGridExpandRows(!1))}),h(25,"i",20),r(),R(),P(26,21),l(27,"a",22)(28,"mat-slide-toggle",23),A("ngModelChange",function(m){return u(s),w(t.optionsSearch.data.show,m)||(t.optionsSearch.data.show=m),f(m)}),r(),c(29),g(30,"translate"),r(),l(31,"a",24),E("click",function(){return u(s),f(t.onActionButtonStatist())}),h(32,"mat-slide-toggle",25),c(33),g(34,"translate"),r(),l(35,"a",22),h(36,"mat-slide-toggle",25),c(37),g(38,"translate"),r(),R(),P(39,26),y(40,Nc,7,3,"div",27),y(41,Gc,7,3,"div",27),R(),P(42,28),y(43,Uc,7,3,"div",27),y(44,qc,7,3,"div",27),y(45,jc,7,3,"div",27),l(46,"div",27)(47,"a",29),E("click",function(m){return u(s),f(t.onActionButtonHistoryRow(t.tableRowSelected,m))}),h(48,"i",30)(49,"br"),r(),l(50,"p",31),c(51),g(52,"translate"),r()(),l(53,"div",27)(54,"a",15),E("click",function(){return u(s),f(t.onActionButtonLinkTo(t.tableRowSelected))}),h(55,"i",32)(56,"br"),r(),l(57,"p",31),c(58),g(59,"translate"),r()(),R(),P(60,33),l(61,"app-cms-search-list",34),A("optionsChange",function(m){return u(s),w(t.optionsSearch,m)||(t.optionsSearch=m),f(m)}),r(),l(62,"app-cms-statist-list",34),A("optionsChange",function(m){return u(s),w(t.optionsStatist,m)||(t.optionsStatist=m),f(m)}),r(),R(),P(63,35),l(64,"mat-table",36,0),E("matSortChange",function(){u(s);let m=k(65);return f(t.onTableSortData(m))}),P(66,37),L(67,Qc,3,3,"mat-header-cell",38)(68,Yc,3,0,"mat-cell",39),R(),P(69,40),L(70,zc,3,3,"mat-header-cell",41)(71,Jc,2,1,"mat-cell",39),R(),P(72,42),L(73,Zc,2,1,"mat-header-cell",41)(74,Xc,2,1,"mat-cell",39),R(),P(75,43),L(76,$c,2,1,"mat-header-cell",41)(77,ed,4,5,"mat-cell",39),R(),P(78,44),L(79,td,2,1,"mat-header-cell",41)(80,nd,5,7,"mat-cell",45),R(),P(81,46),L(82,od,2,1,"mat-header-cell",41)(83,ad,3,3,"mat-cell",39),R(),P(84,47),L(85,rd,2,1,"mat-header-cell",41)(86,ld,3,3,"mat-cell",39),R(),P(87,48),L(88,sd,2,1,"mat-header-cell",41)(89,cd,3,3,"mat-cell",39),R(),P(90,49),L(91,dd,2,1,"mat-header-cell",41)(92,pd,2,1,"mat-cell",39),R(),P(93,50),L(94,md,3,3,"mat-header-cell",41)(95,ud,3,5,"mat-cell",39),R(),P(96,51),L(97,fd,2,1,"mat-header-cell",41)(98,_d,2,1,"mat-cell",39),R(),P(99,52),L(100,hd,2,1,"mat-header-cell",41)(101,gd,3,3,"mat-cell",53),R(),P(102,54),L(103,Cd,2,1,"mat-header-cell",41)(104,Sd,3,3,"mat-cell",53),R(),P(105,55),L(106,yd,3,3,"mat-header-cell",38)(107,Md,6,1,"mat-cell",56),R(),P(108,57),L(109,vd,3,3,"mat-header-cell",41)(110,Ed,4,0,"mat-cell",39),R(),P(111,58),L(112,Id,3,3,"mat-header-cell",41)(113,bd,4,0,"mat-cell",39),R(),P(114,59),L(115,Td,2,1,"mat-cell",39),R(),P(116,60),L(117,Pd,39,17,"mat-cell",39),R(),L(118,Rd,1,0,"mat-header-row",61)(119,kd,1,6,"mat-row",62)(120,Ld,1,6,"mat-row",63)(121,Dd,1,9,"mat-row",64),r(),R(),P(122,65),l(123,"mat-paginator",66,1),E("page",function(m){return u(s),f(t.onTablePageingData(m))}),r(),R(),r()(),l(125,"div",67),h(126,"app-cms-form-result-message",68),r(),l(127,"div",69),y(128,Vd,5,3,"div",70),r()()}i&2&&(o(),p("optionsInfoAreaId",t.constructorInfoAreaId),o(2),S(" ",t.formInfo.formTitle," "),o(2),M((t.requestLinkBillboardId==null?null:t.requestLinkBillboardId.length)>0?5:-1),o(),M((t.requestLinkContractTypeId==null?null:t.requestLinkContractTypeId.length)>0?6:-1),o(),M((t.requestLinkCustomerOrderId==null?null:t.requestLinkCustomerOrderId.length)>0?7:-1),o(),M((t.requestLinkPropertyTypeLanduseId==null?null:t.requestLinkPropertyTypeLanduseId.length)>0?8:-1),o(),M((t.requestLinkPropertyTypeUsageId==null?null:t.requestLinkPropertyTypeUsageId.length)>0?9:-1),o(),M((t.requestLinkProjectId==null?null:t.requestLinkProjectId.length)>0?10:-1),o(),p("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),T("optionActionGuideNoticeDisplay",t.viewGuideNotice),p("optionTreeDisplay",(t.requestLinkPropertyTypeLanduseId==null?null:t.requestLinkPropertyTypeLanduseId.length)===0)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionActionRowDisplayMenuAct",t.tableRowSelectActionMenuClick)("optionSelectRowItemTitle",(t.tableRowSelected==null||t.tableRowSelected.title==null?null:t.tableRowSelected.title.length)>0?t.tableRowSelected==null?null:t.tableRowSelected.title:t.tableRowSelected==null?null:t.tableRowSelected.id),o(6),M((t.requestLinkPropertyTypeLanduseId==null?null:t.requestLinkPropertyTypeLanduseId.length)>0?17:-1),o(11),T("ngModel",t.optionsSearch.data.show),o(),S("",C(30,43,"ACTION.SEARCH")," "),o(3),p("checked",t.optionsStatist.data.show),o(),S("",C(34,45,"ACTION.STATIST")," "),o(3),p("checked",t.searchInCheckingChecked),o(),S(" ",C(38,47,"ACTION.INCHECKING")," "),o(3),M(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessAddRow&&t.optionloadByRoute?40:-1),o(),M(t.tokenHelper.isAdminSite&&t.optionloadByRoute&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0?41:-1),o(2),M(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?43:-1),o(),M(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?44:-1),o(),M(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?45:-1),o(6),S(" ",C(52,49,"ACTION.HISTORY")," "),o(7),S(" ",C(59,51,"TITLE.LINKTO")," "),o(3),T("options",t.optionsSearch),o(),T("options",t.optionsStatist),o(2),p("dataSource",t.tableSource),o(54),p("matHeaderRowDef",t.tabledisplayedColumns),o(),p("matRowDefColumns",Me(53,Rc)),o(),p("matRowDefColumns",t.tabledisplayedColumns),o(),p("matRowDefColumns",Me(54,kc)),o(2),p("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",Me(55,Lc)),o(3),p("formInfo",t.formInfo),o(2),M(t.formInfo.submitButtonEnabled?128:-1))},dependencies:[fe,be,$,Te,_t,ke,ee,ti,Na,ii,ni,oi,ai,ri,vt,It,At,bt,Et,xt,Tt,wt,Pt,Rt,ei,di,pi,G,De,mi,ui,an,un,hn,Cn,yn,vn,In,xn,_e,N,Mi,rn,ne,fo,ln,vo,sn,yi],encapsulation:2});var Ui=Pn;var br=["*","*"];function Od(n,a){if(n&1&&(l(0,"label",4),c(1),r()),n&2){let e=d(2);p("for",we("app-cms-site-selector-",e.id)),o(),b(e.optionLabel)}}function Bd(n,a){if(n&1&&(h(0,"img",6),g(1,"cmsthumbnail")),n&2){let e=d(2);p("src",x(C(1,2,e.dataModelSelect==null?null:e.dataModelSelect.linkMainImageIdSrc)),q)}}function Fd(n,a){if(n&1&&(h(0,"img",6),g(1,"cmsthumbnail")),n&2){let e=d().$implicit;p("src",x(C(1,2,e.linkMainImageIdSrc)),q)}}function Wd(n,a){if(n&1&&(l(0,"mat-option",9),y(1,Fd,2,4,"img",6),l(2,"span"),c(3),r()()),n&2){let e=a.$implicit,i=d(2);p("value",e)("disabled",i.optionDisabled),o(),M(e.linkMainImageIdSrc?1:-1),o(2),b(i.displayOption(e))}}function Hd(n,a){n&1&&h(0,"i",10)}function Nd(n,a){n&1&&h(0,"i",11)}function Gd(n,a){if(n&1){let e=I();l(0,"i",13),E("click",function(){u(e);let t=d(2);return f(t.onActionSelectClear())}),r()}}function Ud(n,a){n&1&&(l(0,"em"),c(1),g(2,"translate"),r()),n&2&&(o(),S("(",C(2,1,"TITLE.Necessary"),")"))}function qd(n,a){if(n&1){let e=I();l(0,"div",1),h(1,"app-progress-spinner",3),y(2,Od,2,3,"label",4),l(3,"span",5),y(4,Bd,2,4,"img",6),r(),h(5,"input",7),l(6,"mat-autocomplete",8,0),E("optionSelected",function(t){u(e);let s=d();return f(s.onActionSelect(t.option.value))}),Se(8,Wd,4,4,"mat-option",9,Ce),g(10,"async"),r(),y(11,Hd,1,0,"i",10),y(12,Nd,1,0,"i",11),y(13,Gd,1,0,"i",12),y(14,Ud,3,3,"em"),Je(15),r()}if(n&2){let e=k(7),i=d();o(),p("optionsInfoAreaId",i.constructorInfoAreaId),o(),M((i.optionLabel==null?null:i.optionLabel.length)>0?2:-1),o(2),M(i.dataModelSelect&&(i.dataModelSelect!=null&&i.dataModelSelect.linkMainImageIdSrc)?4:-1),o(),p("placeholder",x(i.optionPlaceholder))("id",we("app-cms-site-selector-",i.id))("formControl",i.formControl)("matAutocomplete",e)("required",i.optionRequired),Pe("disabled",i.optionDisabled?!0:null),o(),p("displayWith",i.displayFn),o(2),ye(C(10,16,i.filteredOptions)),o(3),M(i.formControl.valid?-1:11),o(),M(i.optionRequired&&i.formControl.valid?12:-1),o(),M(i.optionAllowUnSelect&&(i.dataModelSelect==null||i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0?13:-1),o(),M(i.optionRequired&&(!i.dataModelSelect||!i.dataModelSelect.id||(i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)==0)?14:-1)}}function jd(n,a){if(n&1){let e=I();l(0,"div",14)(1,"a",15),E("click",function(){let t=u(e).$implicit,s=d(2);return f(s.onActionSelect(t))}),c(2),r()()}if(n&2){let e=a.$implicit,i=d(2);o(),p("ngClass",e.id===(i.dataModelSelect==null?null:i.dataModelSelect.id)?"btn font-13 font-600 btn-s m-1 rounded-xl shadow-xl border-0 gradient-highlight btn-full":"btn font-13 font-600 btn-s m-1 rounded-xl shadow-xl border-blue-dark color-blue-dark bg-theme btn-border btn-full"),Pe("disabled",i.optionDisabled?!0:null),o(),b(i.displayOption(e))}}function Qd(n,a){if(n&1){let e=I();l(0,"i",13),E("click",function(){u(e);let t=d(2);return f(t.onActionSelectClear())}),r()}}function Yd(n,a){if(n&1&&(l(0,"div",2),Se(1,jd,3,3,"div",14,Ce),g(3,"async"),y(4,Qd,1,0,"i",12),Je(5,1),r()),n&2){let e=d();o(),ye(C(3,1,e.filteredOptions)),o(3),M(e.optionAllowUnSelect&&(e.dataModelSelect==null||e.dataModelSelect.id==null?null:e.dataModelSelect.id.length)>0?4:-1)}}var Bi=class Bi{constructor(a,e,i,t,s,_,m,U){this.coreEnumService=a;this.cmsToastrService=e;this.cdr=i;this.publicHelper=t;this.translate=s;this.tokenHelper=_;this.cmsStoreService=m;this.categoryService=U;this.id=++Bi.nextId;this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new j;this.dataModelSelect=new Si;this.formControl=new qe;this.optionTypeView=1;this.optionAllowUnSelect=!1;this.optionDisabled=!1;this.optionRequired=!1;this.optionSelectFirstItem=!1;this.optionPlaceholder="";this.optionLabel="";this.optionChange=new xe;this.optionReload=()=>this.onActionButtonReload();this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(a){a&&(typeof a=="string"&&a.length>0||typeof a==typeof Si)&&this.onActionSelectForce(a)}ngOnInit(){this.loadOptions(),(!this.optionLabel||this.optionLabel.length==0&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder),this.unsubscribe.push(this.cmsStoreService.getState(a=>a.tokenInfoStore).subscribe(()=>Z(this,null,function*(){this.loadOptions()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(a=>a.unsubscribe())}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(dt(""),ct(1500),yt(),pt(a=>typeof a=="string"||typeof a=="number"?this.DataGetAll(a||""):[]))}displayFn(a){return a?a.titleML:void 0}displayOption(a){return a?a.titleML:void 0}DataGetAll(a){return Z(this,null,function*(){let e=new he;if(e.rowPerPage=20,e.accessLoad=!0,typeof a=="string"&&a.length>0){let t=new D;t.propertyName="Name",t.value=a,t.searchType=Q.Contains,e.filters.push(t),t=new D,t.propertyName="id",t.value=a,t.searchType=Q.Equal,t.clauseType=Y.Or,e.filters.push(t)}let i=this.constructor.name+"main";return this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructorInfoAreaId)}),yield St(this.categoryService.ServiceGetAll(e)).then(t=>(this.dataModelResult=t,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||this.dataModelSelect.id.length===0)&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0])},1e3),this.onActionSelect(this.dataModelResult.listItems[0])),this.publicHelper.processService.processStop(i),t.listItems))})}onActionSelect(a){if(!this.optionDisabled){if(this.optionAllowUnSelect&&this.dataModelSelect&&this.dataModelSelect.id==a.id){this.onActionSelectClear();return}this.dataModelSelect=a,this.optionChange.emit(this.dataModelSelect)}}onActionSelectClear(){this.optionDisabled||(this.dataModelSelect=null,this.formControl.patchValue(""),this.optionChange.emit(null),Promise.resolve().then(()=>this.cdr.detectChanges()))}push(a){return this.filteredOptions.pipe(st(e=>(e.find(i=>i.id===a.id)||e.push(a),e)))}onActionSelectForce(a){if((!a||typeof a=="string"&&a.length===0)&&(this.dataModelSelect=new Si),typeof a=="string"&&a.length>0){if(this.dataModelSelect&&this.dataModelSelect.id===a)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(e=>e.id===a)){let e=this.dataModelResult.listItems.find(i=>i.id===a);this.dataModelSelect=e,this.formControl.setValue(e);return}this.categoryService.ServiceGetOneById(a).subscribe({next:e=>{e.isSuccess?(this.filteredOptions=this.push(e.item),this.dataModelSelect=e.item,this.formControl.setValue(e.item),this.optionChange.emit(e.item)):this.cmsToastrService.typeErrorMessage(e.errorMessage)}});return}if(typeof a==typeof Si){this.filteredOptions=this.push(a),this.dataModelSelect=a,this.formControl.setValue(a);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new Si,this.loadOptions()}};Bi.nextId=0,Bi.\u0275fac=function(e){return new(e||Bi)(v(te),v(F),v(H),v(W),v(B),v(K),v(z),v(Zi))},Bi.\u0275cmp=O({type:Bi,selectors:[["app-estate-property-type-usage-selector"]],inputs:{optionTypeView:"optionTypeView",optionAllowUnSelect:"optionAllowUnSelect",optionDisabled:"optionDisabled",optionRequired:"optionRequired",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionLabel:"optionLabel",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange"},standalone:!1,ngContentSelectors:br,decls:2,vars:2,consts:[["matauto","matAutocomplete"],[1,"input-style","has-borders","has-icon","input-style-always-active","validate-field","mb-4","loader-container"],[1,"row","mb-0"],[3,"optionsInfoAreaId"],[1,"color-highlight",3,"for"],["matPrefix",""],["aria-hidden","","height","25","width","25",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["type","text","aria-label","Assignee","matInput","",3,"placeholder","formControl","matAutocomplete","required","id"],[3,"optionSelected","displayWith"],[3,"value","disabled"],[1,"fa","fa-info","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"fa","fa-times","action","color-red-dark"],[1,"fa","fa-times","action","color-red-dark",3,"click"],[1,"col-xl-2","col-lg-3","col-md-4","col-sm-12","pe-1"],[3,"click","ngClass"]],template:function(e,i){e&1&&(Mt(br),y(0,qd,16,18,"div",1),y(1,Yd,6,3,"div",2)),e&2&&(M(i.optionTypeView===1?0:-1),o(),M(i.optionTypeView===2?1:-1))},dependencies:[fe,ie,$,ae,tt,ut,mt,ft,Bt,ee,G,_e,N,ne],encapsulation:2});var Rn=Bi;var wr=["*","*"];function zd(n,a){if(n&1&&(l(0,"label",4),c(1),r()),n&2){let e=d(2);p("for",we("app-cms-site-selector-",e.id)),o(),b(e.optionLabel)}}function Kd(n,a){if(n&1&&(h(0,"img",6),g(1,"cmsthumbnail")),n&2){let e=d(2);p("src",x(C(1,2,e.dataModelSelect==null?null:e.dataModelSelect.linkMainImageIdSrc)),q)}}function Jd(n,a){if(n&1&&(h(0,"img",6),g(1,"cmsthumbnail")),n&2){let e=d().$implicit;p("src",x(C(1,2,e.linkMainImageIdSrc)),q)}}function Zd(n,a){if(n&1&&(l(0,"mat-option",9),y(1,Jd,2,4,"img",6),l(2,"span"),c(3),r()()),n&2){let e=a.$implicit,i=d(2);p("value",e)("disabled",i.optionDisabled),o(),M(e.linkMainImageIdSrc?1:-1),o(2),b(i.displayOption(e))}}function Xd(n,a){n&1&&h(0,"i",10)}function $d(n,a){n&1&&h(0,"i",11)}function ep(n,a){if(n&1){let e=I();l(0,"i",13),E("click",function(){u(e);let t=d(2);return f(t.onActionSelectClear())}),r()}}function tp(n,a){n&1&&(l(0,"em"),c(1),g(2,"translate"),r()),n&2&&(o(),S("(",C(2,1,"TITLE.Necessary"),")"))}function ip(n,a){if(n&1){let e=I();l(0,"div",1),h(1,"app-progress-spinner",3),y(2,zd,2,3,"label",4),l(3,"span",5),y(4,Kd,2,4,"img",6),r(),h(5,"input",7),l(6,"mat-autocomplete",8,0),E("optionSelected",function(t){u(e);let s=d();return f(s.onActionSelect(t.option.value))}),Se(8,Zd,4,4,"mat-option",9,Ce),g(10,"async"),r(),y(11,Xd,1,0,"i",10),y(12,$d,1,0,"i",11),y(13,ep,1,0,"i",12),y(14,tp,3,3,"em"),Je(15),r()}if(n&2){let e=k(7),i=d();o(),p("optionsInfoAreaId",i.constructorInfoAreaId),o(),M((i.optionLabel==null?null:i.optionLabel.length)>0?2:-1),o(2),M(i.dataModelSelect&&(i.dataModelSelect!=null&&i.dataModelSelect.linkMainImageIdSrc)?4:-1),o(),p("placeholder",x(i.optionPlaceholder))("id",we("app-cms-site-selector-",i.id))("formControl",i.formControl)("matAutocomplete",e)("required",i.optionRequired),Pe("disabled",i.optionDisabled?!0:null),o(),p("displayWith",i.displayFn),o(2),ye(C(10,16,i.filteredOptions)),o(3),M(i.formControl.valid?-1:11),o(),M(i.optionRequired&&i.formControl.valid?12:-1),o(),M(i.optionAllowUnSelect&&(i.dataModelSelect==null||i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0?13:-1),o(),M(i.optionRequired&&(!i.dataModelSelect||!i.dataModelSelect.id||(i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)===0)?14:-1)}}function np(n,a){if(n&1){let e=I();l(0,"div",14)(1,"a",15),E("click",function(){let t=u(e).$implicit,s=d(2);return f(s.onActionSelect(t))}),c(2),r()()}if(n&2){let e=a.$implicit,i=d(2);o(),p("ngClass",e.id===(i.dataModelSelect==null?null:i.dataModelSelect.id)?"btn font-13 font-600 btn-s m-1 rounded-xl shadow-xl border-0 gradient-highlight btn-full":"btn font-13 font-600 btn-s m-1 rounded-xl shadow-xl border-blue-dark color-blue-dark bg-theme btn-border btn-full"),Pe("disabled",i.optionDisabled?!0:null),o(),b(i.displayOption(e))}}function op(n,a){if(n&1){let e=I();l(0,"i",13),E("click",function(){u(e);let t=d(2);return f(t.onActionSelectClear())}),r()}}function ap(n,a){if(n&1&&(l(0,"div",2),Se(1,np,3,3,"div",14,Ce),g(3,"async"),y(4,op,1,0,"i",12),Je(5,1),r()),n&2){let e=d();o(),ye(C(3,1,e.filteredOptions)),o(3),M(e.optionAllowUnSelect&&(e.dataModelSelect==null||e.dataModelSelect.id==null?null:e.dataModelSelect.id.length)>0?4:-1)}}var Fi=class Fi{constructor(a,e,i,t,s,_,m,U){this.coreEnumService=a;this.cmsToastrService=e;this.cdr=i;this.publicHelper=t;this.translate=s;this.tokenHelper=_;this.cmsStoreService=m;this.categoryService=U;this.id=++Fi.nextId;this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new j;this.dataModelSelect=new lt;this.formControl=new qe;this.optionDisabled=!1;this.optionRequired=!1;this.optionSelectFirstItem=!1;this.optionPlaceholder="";this.optionLabel="";this.optionChange=new xe;this.optionTypeView=1;this.optionAllowUnSelect=!1;this.typeUsageId="";this.optionReload=()=>this.onActionButtonReload();this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(a){a&&(typeof a=="string"&&a.length>0||typeof a==typeof lt)&&this.onActionSelectForce(a)}set optionTypeUsageId(a){this.typeUsageId=a,this.loadOptions()}ngOnInit(){this.loadOptions(),(!this.optionLabel||this.optionLabel.length==0&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder),this.unsubscribe.push(this.cmsStoreService.getState(a=>a.tokenInfoStore).subscribe(()=>Z(this,null,function*(){this.loadOptions()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(a=>a.unsubscribe())}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(dt(""),ct(1500),yt(),pt(a=>typeof a=="string"||typeof a=="number"?this.DataGetAll(a||""):[]))}displayFn(a){return a?a.titleML:void 0}displayOption(a){return a?a.titleML:void 0}DataGetAll(a){return Z(this,null,function*(){let e=new he;e.rowPerPage=20,e.accessLoad=!0;let i=new D,t=new D;a&&a.length>0&&(i.propertyName="title",i.value=a,i.searchType=Q.Contains,i.clauseType=Y.Or,t.filters.push(i),i=new D,i.propertyName="id",i.value=a,i.searchType=Q.Equal,i.clauseType=Y.Or,t.filters.push(i),e.filters.push(t)),this.typeUsageId&&this.typeUsageId.length>0&&(i=new D,i.propertyName="PropertyTypes",i.propertyAnyName="LinkPropertyTypeUsageId",i.value=this.typeUsageId,i.searchType=Q.Equal,i.clauseType=Y.And,e.filters.push(i));let s=this.constructor.name+"main";return this.translate.get("MESSAGE.Receiving_information").subscribe(_=>{this.publicHelper.processService.processStart(s,_,this.constructorInfoAreaId)}),yield St(this.categoryService.ServiceGetAll(e)).then(_=>(this.dataModelResult=_,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||this.dataModelSelect.id.length===0)&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0])},1e3),this.onActionSelect(this.dataModelResult.listItems[0])),this.publicHelper.processService.processStop(s),_.listItems))})}onActionSelect(a){if(!this.optionDisabled){if(this.optionAllowUnSelect&&this.dataModelSelect&&this.dataModelSelect.id==a.id){this.onActionSelectClear();return}this.dataModelSelect=a,this.optionChange.emit(this.dataModelSelect)}}onActionSelectClear(){this.optionDisabled||(this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null))}push(a){return this.filteredOptions.pipe(st(e=>(e.find(i=>i.id===a.id)||e.push(a),e)))}onActionSelectForce(a){if((!a||typeof a=="string"&&a.length===0)&&(this.dataModelSelect=new lt),typeof a=="string"&&a.length>0){if(this.dataModelSelect&&this.dataModelSelect.id===a)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(e=>e.id===a)){let e=this.dataModelResult.listItems.find(i=>i.id===a);this.dataModelSelect=e,this.formControl.setValue(e);return}this.categoryService.ServiceGetOneById(a).subscribe({next:e=>{e.isSuccess?(this.filteredOptions=this.push(e.item),this.dataModelSelect=e.item,this.formControl.setValue(e.item),this.optionChange.emit(e.item)):this.cmsToastrService.typeErrorMessage(e.errorMessage)}});return}if(typeof a==typeof lt){this.filteredOptions=this.push(a),this.dataModelSelect=a,this.formControl.setValue(a);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new lt,this.loadOptions()}};Fi.nextId=0,Fi.\u0275fac=function(e){return new(e||Fi)(v(te),v(F),v(H),v(W),v(B),v(K),v(z),v(qt))},Fi.\u0275cmp=O({type:Fi,selectors:[["app-estate-property-type-landuse-selector"]],inputs:{optionSelectForce:"optionSelectForce",optionTypeUsageId:"optionTypeUsageId",optionDisabled:"optionDisabled",optionRequired:"optionRequired",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionLabel:"optionLabel",optionTypeView:"optionTypeView",optionAllowUnSelect:"optionAllowUnSelect",optionReload:"optionReload"},outputs:{optionChange:"optionChange"},standalone:!1,ngContentSelectors:wr,decls:2,vars:2,consts:[["matauto","matAutocomplete"],[1,"input-style","has-borders","has-icon","input-style-always-active","validate-field","mb-4","loader-container"],[1,"row","mb-0"],[3,"optionsInfoAreaId"],[1,"color-highlight",3,"for"],["matPrefix",""],["aria-hidden","","height","25","width","25",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["type","text","aria-label","Assignee","matInput","",3,"placeholder","formControl","matAutocomplete","required","id"],[3,"optionSelected","displayWith"],[3,"value","disabled"],[1,"fa","fa-info","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"fa","fa-times","action","color-red-dark"],[1,"fa","fa-times","action","color-red-dark",3,"click"],[1,"col-xl-2","col-lg-3","col-md-4","col-sm-12","pe-1"],[3,"click","ngClass"]],template:function(e,i){e&1&&(Mt(wr),y(0,ip,16,18,"div",1),y(1,ap,6,3,"div",2)),e&2&&(M(i.optionTypeView===1?0:-1),o(),M(i.optionTypeView===2?1:-1))},dependencies:[fe,ie,$,ae,tt,ut,mt,ft,Bt,ee,G,_e,N,ne],encapsulation:2});var kn=Fi;var xr=["*","*"];function rp(n,a){if(n&1&&(l(0,"label",4),c(1),r()),n&2){let e=d(2);p("for",we("app-cms-site-selector-",e.id)),o(),b(e.optionLabel)}}function lp(n,a){if(n&1&&(l(0,"mat-option",7)(1,"span"),c(2),r()()),n&2){let e=a.$implicit,i=d(2);p("value",e)("disabled",i.optionDisabled),o(2),b(i.displayOption(e))}}function sp(n,a){n&1&&h(0,"i",8)}function cp(n,a){n&1&&h(0,"i",9)}function dp(n,a){if(n&1){let e=I();l(0,"i",11),E("click",function(){u(e);let t=d(2);return f(t.onActionSelectClear())}),r()}}function pp(n,a){n&1&&(l(0,"em"),c(1),g(2,"translate"),r()),n&2&&(o(),S("(",C(2,1,"TITLE.Necessary"),")"))}function mp(n,a){if(n&1){let e=I();l(0,"div",1),h(1,"app-progress-spinner",3),y(2,rp,2,3,"label",4),h(3,"input",5),l(4,"mat-autocomplete",6,0),E("optionSelected",function(t){u(e);let s=d();return f(s.onActionSelect(t.option.value))}),Se(6,lp,3,3,"mat-option",7,Ce),g(8,"async"),r(),y(9,sp,1,0,"i",8),y(10,cp,1,0,"i",9),y(11,dp,1,0,"i",10),y(12,pp,3,3,"em"),Je(13),r()}if(n&2){let e=k(5),i=d();o(),p("optionsInfoAreaId",i.constructorInfoAreaId),o(),M((i.optionLabel==null?null:i.optionLabel.length)>0?2:-1),o(),p("placeholder",x(i.optionPlaceholder))("id",we("app-cms-site-selector-",i.id))("formControl",i.formControl)("matAutocomplete",e)("required",i.optionRequired),Pe("disabled",i.optionDisabled?!0:null),o(),p("displayWith",i.displayFn),o(2),ye(C(8,15,i.filteredOptions)),o(3),M(i.formControl.valid?-1:9),o(),M(i.optionRequired&&i.formControl.valid?10:-1),o(),M(i.optionAllowUnSelect&&(i.dataModelSelect==null||i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0?11:-1),o(),M(i.optionRequired&&(!i.dataModelSelect||!i.dataModelSelect.id||(i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)==0)?12:-1)}}function up(n,a){if(n&1){let e=I();l(0,"div",12)(1,"a",14),E("click",function(){let t=u(e).$implicit,s=d(2);return f(s.onActionSelect(t))}),c(2),r()()}if(n&2){let e=a.$implicit,i=d(2);o(),p("ngClass",e.id===(i.dataModelSelect==null?null:i.dataModelSelect.id)?"btn font-13 font-600 btn-s m-1 rounded-xl shadow-xl border-0 gradient-highlight btn-full":"btn font-13 font-600 btn-s m-1 rounded-xl shadow-xl border-blue-dark color-blue-dark bg-theme btn-border btn-full"),Pe("disabled",i.optionDisabled?!0:null),o(),b(i.displayOption(e))}}function fp(n,a){if(n&1){let e=I();l(0,"i",11),E("click",function(){u(e);let t=d(2);return f(t.onActionSelectClear())}),r()}}function _p(n,a){if(n&1){let e=I();l(0,"div",2),Se(1,up,3,3,"div",12,Ce),g(3,"async"),y(4,fp,1,0,"i",10),l(5,"i",13),g(6,"translate"),E("click",function(){u(e);let t=d();return f(t.onActionButtonReload())}),r(),Je(7,1),r()}if(n&2){let e=d();o(),ye(C(3,5,e.filteredOptions)),o(3),M((e.dataModelSelect==null||e.dataModelSelect.id==null?null:e.dataModelSelect.id.length)>0?4:-1),o(),J("rotation360",e.publicHelper.processService.process.inRunArea[e.constructorInfoAreaId]),p("title",x(C(6,7,"ACTION.RELOAD")))}}var Wi=class Wi{constructor(a,e,i,t,s,_,m,U){this.coreEnumService=a;this.cmsToastrService=e;this.tokenHelper=i;this.cmsStoreService=t;this.translate=s;this.cdr=_;this.publicHelper=m;this.categoryService=U;this.id=++Wi.nextId;this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new j;this.dataModelSelect=new Yi;this.formControl=new qe;this.optionDisabled=!1;this.optionRequired=!1;this.optionSelectFirstItem=!1;this.optionPlaceholder="";this.optionLabel="";this.optionChange=new xe;this.optionAllowUnSelect=!1;this.optionTypeView=1;this.typeUsageId="";this.optionReload=()=>this.onActionButtonReload();this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(a){a&&(typeof a=="string"&&a.length>0||typeof a==typeof Yi)&&this.onActionSelectForce(a)}set optionTypeUsageId(a){this.typeUsageId=a,this.loadOptions()}ngOnInit(){this.loadOptions(),(!this.optionLabel||this.optionLabel.length==0&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder),this.unsubscribe.push(this.cmsStoreService.getState(a=>a.tokenInfoStore).subscribe(()=>Z(this,null,function*(){this.loadOptions()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(a=>a.unsubscribe())}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(dt(""),ct(1500),yt(),pt(a=>typeof a=="string"||typeof a=="number"?this.DataGetAll(a||""):[]))}displayFn(a){return a?a.titleML:void 0}displayOption(a){return a?a.titleML:void 0}DataGetAll(a){return Z(this,null,function*(){let e=new he;e.rowPerPage=20,e.accessLoad=!0;let i=new D,t=new D;a&&a.length>0&&(i.propertyName="title",i.value=a,i.searchType=Q.Contains,i.clauseType=Y.Or,t.filters.push(i),i=new D,i.propertyName="id",i.value=a,i.searchType=Q.Equal,i.clauseType=Y.Or,t.filters.push(i),e.filters.push(t)),this.typeUsageId&&this.typeUsageId.length>0&&(i=new D,i.propertyName="PropertyTypes",i.propertyAnyName="LinkPropertyTypeUsageId",i.value=this.typeUsageId,i.searchType=Q.Equal,i.clauseType=Y.And,e.filters.push(i));let s=this.constructor.name+"main";return this.translate.get("MESSAGE.Receiving_information").subscribe(_=>{this.publicHelper.processService.processStart(s,_,this.constructorInfoAreaId)}),yield St(this.categoryService.ServiceGetAll(e)).then(_=>(this.dataModelResult=_,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||this.dataModelSelect.id.length===0)&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0])},1e3),this.onActionSelect(this.dataModelResult.listItems[0])),this.publicHelper.processService.processStop(s),_.listItems))})}onActionSelect(a){if(!this.optionDisabled){if(this.optionAllowUnSelect&&this.dataModelSelect&&this.dataModelSelect.id==a.id){this.onActionSelectClear();return}this.dataModelSelect=a,this.optionChange.emit(this.dataModelSelect)}}onActionSelectClear(){this.optionDisabled||(this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null))}push(a){return this.filteredOptions.pipe(st(e=>(e.find(i=>i.id===a.id)||e.push(a),e)))}onActionSelectForce(a){if((!a||typeof a=="string"&&a.length===0)&&(this.dataModelSelect=new Yi),typeof a=="string"&&a.length>0){if(this.dataModelSelect&&this.dataModelSelect.id===a)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(e=>e.id===a)){let e=this.dataModelResult.listItems.find(i=>i.id===a);this.dataModelSelect=e,this.formControl.setValue(e);return}this.categoryService.ServiceGetOneById(a).subscribe({next:e=>{e.isSuccess?(this.filteredOptions=this.push(e.item),this.dataModelSelect=e.item,this.formControl.setValue(e.item),this.optionChange.emit(e.item)):this.cmsToastrService.typeErrorMessage(e.errorMessage)}});return}if(typeof a==typeof Yi){this.filteredOptions=this.push(a),this.dataModelSelect=a,this.formControl.setValue(a);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new Yi,this.loadOptions()}};Wi.nextId=0,Wi.\u0275fac=function(e){return new(e||Wi)(v(te),v(F),v(K),v(z),v(B),v(H),v(W),v(Ki))},Wi.\u0275cmp=O({type:Wi,selectors:[["app-estate-contract-type-selector"]],inputs:{optionSelectForce:"optionSelectForce",optionTypeUsageId:"optionTypeUsageId",optionDisabled:"optionDisabled",optionRequired:"optionRequired",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionLabel:"optionLabel",optionAllowUnSelect:"optionAllowUnSelect",optionTypeView:"optionTypeView",optionReload:"optionReload"},outputs:{optionChange:"optionChange"},standalone:!1,ngContentSelectors:xr,decls:2,vars:2,consts:[["matauto","matAutocomplete"],[1,"input-style","has-borders","has-icon","input-style-always-active","validate-field","mb-4","loader-container"],[1,"row","mb-0"],[3,"optionsInfoAreaId"],[1,"color-highlight",3,"for"],["type","text","aria-label","Assignee","matInput","",3,"placeholder","formControl","matAutocomplete","required","id"],[3,"optionSelected","displayWith"],[3,"value","disabled"],[1,"fa","fa-info","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"fa","fa-times","action","color-red-dark"],[1,"fa","fa-times","action","color-red-dark",3,"click"],[1,"col-xl-2","col-lg-3","col-md-4","col-sm-12","pe-1"],[1,"fa","fa-rotate-right","action","color-green-dark",2,"margin-left","20px",3,"click","title"],[3,"click","ngClass"]],template:function(e,i){e&1&&(Mt(xr),y(0,mp,14,17,"div",1),y(1,_p,8,9,"div",2)),e&2&&(M(i.optionTypeView===1?0:-1),o(),M(i.optionTypeView===2?1:-1))},dependencies:[fe,ie,$,ae,tt,ut,mt,ft,ee,G,_e,N],encapsulation:2});var Ln=Wi;var Cp=["vform"],Sp=n=>({direction:n}),yp=()=>["descriptionDetail"];function Mp(n,a){n&1&&(l(0,"p"),c(1),g(2,"translate"),r()),n&2&&(o(),S(" ",C(2,1,"TITLE.Property_Type")," "))}function vp(n,a){if(n&1){let e=I();l(0,"div",38)(1,"a",39),E("click",function(){let t=u(e).$implicit,s=d(2);return f(s.onActionSelectorSelectLanduse(t))}),c(2),r()()}if(n&2){let e=a.$implicit,i=d(2);o(),p("ngClass",e.id===i.dataModel.linkPropertyTypeLanduseId?"btn font-13 font-600 btn-s m-1 rounded-xl shadow-xl border-0 gradient-highlight btn-full":"btn font-13 font-600 btn-s m-1 rounded-xl shadow-xl border-blue-dark color-blue-dark bg-theme btn-border btn-full"),Pe("disabled",i.fieldsInfo.linkPropertyTypeLanduseId!=null&&i.fieldsInfo.linkPropertyTypeLanduseId.accessAddField?null:!0),o(),b(e.titleML)}}function Ep(n,a){if(n&1&&(l(0,"div",25),Se(1,vp,3,3,"div",38,Ce),r()),n&2){let e=d();o(),ye(e.listTypeLanduse)}}function Ip(n,a){if(n&1){let e=I();l(0,"app-estate-property-type-landuse-selector",40),g(1,"translate"),E("optionChange",function(t){u(e);let s=d();return f(s.onActionSelectorSelectLanduse(t))}),r()}if(n&2){let e=d();p("optionDisabled",!(e.fieldsInfo.linkPropertyTypeLanduseId!=null&&e.fieldsInfo.linkPropertyTypeLanduseId.accessAddField))("optionTypeView",2)("optionSelectForce",e.dataModel.linkPropertyTypeLanduseId)("optionPlaceholder",C(1,5,"TITLE.Property_Type"))("optionTypeUsageId",e.dataModel.linkPropertyTypeUsageId)}}function bp(n,a){if(n&1&&(l(0,"mat-error"),c(1),l(2,"strong"),c(3),g(4,"translate"),r()()),n&2){let e=d(3);o(),S(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," "),o(2),b(C(4,2,"MESSAGE.required"))}}function Tp(n,a){if(n&1){let e=I();l(0,"div",28)(1,"label",51),c(2),r(),l(3,"input",52,3),A("ngModelChange",function(t){u(e);let s=d(2);return w(s.dataModel.title,t)||(s.dataModel.title=t),f(t)}),r(),l(5,"em"),c(6),r(),y(7,bp,5,4,"mat-error"),r()}if(n&2){let e=k(4),i=d(2);o(2),b(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(),p("disabled",x(!(i.fieldsInfo.title!=null&&i.fieldsInfo.title.accessAddField)))("placeholder",x(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle)),T("ngModel",i.dataModel.title),o(3),S("",e.value.length," / 100"),o(),M(e.errors!=null&&e.errors.required?7:-1)}}function wp(n,a){if(n&1&&(l(0,"mat-error"),c(1),l(2,"strong"),c(3),g(4,"translate"),r()()),n&2){let e=d(3);o(),S(" ",e.fieldsInfo.caseCode==null?null:e.fieldsInfo.caseCode.fieldTitle," "),o(2),b(C(4,2,"MESSAGE.required"))}}function Ap(n,a){if(n&1){let e=I();l(0,"div",28)(1,"label",53),c(2),r(),l(3,"input",54,4),A("ngModelChange",function(t){u(e);let s=d(2);return w(s.dataModel.caseCode,t)||(s.dataModel.caseCode=t),f(t)}),r(),l(5,"em"),c(6),r(),y(7,wp,5,4,"mat-error"),r()}if(n&2){let e=k(4),i=d(2);o(2),b(i.fieldsInfo.caseCode==null?null:i.fieldsInfo.caseCode.fieldTitle),o(),p("disabled",x(!(i.fieldsInfo.caseCode!=null&&i.fieldsInfo.caseCode.accessAddField)))("placeholder",x(i.fieldsInfo.caseCode==null?null:i.fieldsInfo.caseCode.fieldTitle)),T("ngModel",i.dataModel.caseCode),o(3),S("",e.value.length," / 100"),o(),M(e.errors!=null&&e.errors.required?7:-1)}}function xp(n,a){if(n&1){let e=I();l(0,"div",28)(1,"label",55),c(2),r(),l(3,"input",56,5),A("ngModelChange",function(t){u(e);let s=d(2);return w(s.dataModel.createdYaer,t)||(s.dataModel.createdYaer=t),f(t)}),r()()}if(n&2){let e=d(2);o(2),b(e.PropertyTypeSelected.titleCreatedYaer),o(),p("placeholder",x(e.fieldsInfo.createdYaer==null?null:e.fieldsInfo.createdYaer.fieldTitle)),T("ngModel",e.dataModel.createdYaer)}}function Pp(n,a){if(n&1){let e=I();l(0,"div",28)(1,"label",57),c(2),r(),l(3,"input",58,6),A("ngModelChange",function(t){u(e);let s=d(2);return w(s.dataModel.partition,t)||(s.dataModel.partition=t),f(t)}),r()()}if(n&2){let e=d(2);o(2),b(e.PropertyTypeSelected.titlePartition),o(),p("placeholder",x(e.PropertyTypeSelected.titlePartition)),T("ngModel",e.dataModel.partition)}}function Rp(n,a){if(n&1){let e=I();l(0,"div",28)(1,"label",59),c(2),r(),l(3,"input",60,7),A("ngModelChange",function(t){u(e);let s=d(2);return w(s.dataModel.area,t)||(s.dataModel.area=t),f(t)}),r()()}if(n&2){let e=d(2);o(2),b(e.fieldsInfo.area==null?null:e.fieldsInfo.area.fieldTitle),o(),p("disabled",x(!(e.fieldsInfo.area!=null&&e.fieldsInfo.area.accessAddField)))("placeholder",x(e.fieldsInfo.area==null?null:e.fieldsInfo.area.fieldTitle)),T("ngModel",e.dataModel.area)}}function kp(n,a){if(n&1){let e=I();l(0,"div",28)(1,"label",61),c(2),r(),l(3,"textarea",62,8),A("ngModelChange",function(t){u(e);let s=d(2);return w(s.dataModel.address,t)||(s.dataModel.address=t),f(t)}),r(),l(5,"em"),c(6),r()()}if(n&2){let e=k(4),i=d(2);o(2),b(i.fieldsInfo.address==null?null:i.fieldsInfo.address.fieldTitle),o(),p("placeholder",x(i.fieldsInfo.address==null?null:i.fieldsInfo.address.fieldTitle)),T("ngModel",i.dataModel.address),p("disabled",!(i.fieldsInfo.address!=null&&i.fieldsInfo.address.accessAddField)),o(3),S("",e.value.length," / 500")}}function Lp(n,a){if(n&1&&(l(0,"mat-error"),c(1),l(2,"strong"),c(3),g(4,"translate"),r()()),n&2){let e=d(2);o(),S(" ",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle," "),o(2),b(C(4,2,"MESSAGE.required"))}}function Dp(n,a){if(n&1){let e=I();l(0,"div"),y(1,Tp,8,8,"div",28),y(2,Ap,8,8,"div",28),l(3,"div",41)(4,"div",42)(5,"h5",43),c(6),r()(),l(7,"div",44)(8,"div",45)(9,"input",46),A("ngModelChange",function(t){u(e);let s=d();return w(s.dataModel.viewConfigHiddenInList,t)||(s.dataModel.viewConfigHiddenInList=t),f(t)}),r(),h(10,"label",47),r()()(),y(11,xp,5,4,"div",28),y(12,Pp,5,4,"div",28),y(13,Rp,5,6,"div",28),l(14,"app-cms-location-selector",48),g(15,"translate"),E("optionChange",function(t){u(e);let s=d();return f(s.onActionSelectorLocation(t))}),r(),y(16,kp,7,6,"div",28),l(17,"div",28)(18,"label",49),c(19),g(20,"translate"),r(),l(21,"textarea",50,2),A("ngModelChange",function(t){u(e);let s=d();return w(s.dataModel.description,t)||(s.dataModel.description=t),f(t)}),r(),l(23,"em"),c(24),r(),y(25,Lp,5,4,"mat-error"),r()()}if(n&2){let e=k(22),i=d();o(),M(i.fieldsInfo.title!=null&&i.fieldsInfo.title.accessWatchField?1:-1),o(),M(i.fieldsInfo.caseCode!=null&&i.fieldsInfo.caseCode.accessWatchField?2:-1),o(4),S(" ",i.fieldsInfo.viewConfigHiddenInList==null?null:i.fieldsInfo.viewConfigHiddenInList.fieldTitle," "),o(3),T("ngModel",i.dataModel.viewConfigHiddenInList),o(2),M(i.dataModel.linkPropertyTypeLanduseId&&i.PropertyTypeSelected.titleCreatedYaer.length>1&&i.PropertyTypeSelected.titleCreatedYaer!=="---"?11:-1),o(),M(i.dataModel.linkPropertyTypeLanduseId&&i.PropertyTypeSelected.titlePartition.length>1&&i.PropertyTypeSelected.titleCreatedYaer!=="---"?12:-1),o(),M(i.fieldsInfo.area!=null&&i.fieldsInfo.area.accessWatchField?13:-1),o(),p("optionDisabled",!(i.fieldsInfo.linkLocationId!=null&&i.fieldsInfo.linkLocationId.accessAddField))("optionSelectForce",i.dataModel.linkLocationId)("optionPlaceholder",C(15,19,"TITLE.Region")),o(2),M(i.fieldsInfo.address!=null&&i.fieldsInfo.address.accessWatchField?16:-1),o(3),b(C(20,21,"TITLE.General_Description")),o(2),p("disabled",x(!(i.fieldsInfo.description!=null&&i.fieldsInfo.description.accessAddField)))("placeholder",x(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle)),T("ngModel",i.dataModel.description),o(3),S("",e.value.length," / 2000"),o(),M(e.errors!=null&&e.errors.required?25:-1)}}function Vp(n,a){if(n&1&&(l(0,"button",64),c(1),g(2,"translate"),r()),n&2){d(2);let e=k(12);p("disabled",!e.form.valid),o(),S(" ",C(2,2,"ACTION.NEXT")," ")}}function Op(n,a){if(n&1){let e=I();l(0,"div",27)(1,"button",63),E("click",function(){u(e);let t=d();return f(t.onActionBackToParent())}),c(2),g(3,"translate"),r(),y(4,Vp,3,4,"button",64),r()}if(n&2){let e=d();o(2),S(" ",C(3,2,"ACTION.CANCEL")," "),o(2),M(e.dataModel.linkPropertyTypeUsageId&&e.dataModel.linkPropertyTypeUsageId.length>0?4:-1)}}function Bp(n,a){if(n&1&&(l(0,"mat-error"),c(1),l(2,"strong"),c(3),g(4,"translate"),r()()),n&2){let e=d(3);o(),S(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," "),o(2),b(C(4,2,"MESSAGE.required"))}}function Fp(n,a){if(n&1){let e=I();l(0,"div",28)(1,"label",72),c(2),r(),l(3,"input",73,9),A("ngModelChange",function(t){u(e);let s=d(2);return w(s.dataModel.linkSiteId,t)||(s.dataModel.linkSiteId=t),f(t)}),r(),l(5,"em"),c(6),r(),y(7,Bp,5,4,"mat-error"),r()}if(n&2){let e=k(4),i=d(2);o(2),b(i.fieldsInfo.linkSiteId==null?null:i.fieldsInfo.linkSiteId.fieldTitle),o(),p("disabled",x(!(i.fieldsInfo.linkSiteId!=null&&i.fieldsInfo.linkSiteId.accessAddField)))("placeholder",x(i.fieldsInfo.linkSiteId==null?null:i.fieldsInfo.linkSiteId.fieldTitle)),T("ngModel",i.dataModel.linkSiteId),o(3),S("",e.value.length," / 100"),o(),M(e.errors!=null&&e.errors.required?7:-1)}}function Wp(n,a){if(n&1){let e=I();l(0,"app-cms-enum-record-admin-status-selector",74),A("modelChange",function(t){u(e);let s=d(2);return w(s.dataModel.mainAdminRecordStatus,t)||(s.dataModel.mainAdminRecordStatus=t),f(t)}),r()}if(n&2){let e=d(2);T("model",e.dataModel.mainAdminRecordStatus),p("optionDisabled",!1)("optionLabel",e.fieldsInfo.mainAdminRecordStatus==null?null:e.fieldsInfo.mainAdminRecordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Hp(n,a){if(n&1&&(l(0,"button",64),c(1),g(2,"translate"),r()),n&2){d(3);let e=k(12);p("disabled",!e.form.valid),o(),S(" ",C(2,2,"ACTION.NEXT")," ")}}function Np(n,a){if(n&1&&(l(0,"div",27)(1,"button",75),c(2),g(3,"translate"),r(),y(4,Hp,3,4,"button",64),r()),n&2){let e=d(2);o(2),S(" ",C(3,2,"ACTION.BEFOR")," "),o(2),M(e.dataModel.linkPropertyTypeUsageId&&e.dataModel.linkPropertyTypeUsageId.length>0?4:-1)}}function Gp(n,a){if(n&1){let e=I();l(0,"mat-step",23),g(1,"translate"),y(2,Fp,8,8,"div",28),l(3,"div",41)(4,"div",42)(5,"h5",65),c(6),r()(),l(7,"div",44)(8,"div",45)(9,"input",66),A("ngModelChange",function(t){u(e);let s=d();return w(s.dataModel.viewContentHidden,t)||(s.dataModel.viewContentHidden=t),f(t)}),r(),h(10,"label",67),r()()(),l(11,"div",41)(12,"div",42)(13,"h5",68),c(14),r()(),l(15,"div",44)(16,"div",45)(17,"input",69),A("ngModelChange",function(t){u(e);let s=d();return w(s.dataModel.siteAdminViewContentHidden,t)||(s.dataModel.siteAdminViewContentHidden=t),f(t)}),r(),h(18,"label",70),r()()(),y(19,Wp,1,5,"app-cms-enum-record-admin-status-selector",71),y(20,Np,5,4,"div",27),r()}if(n&2){let e=d();p("label",x(C(1,9,"TITLE.Admin_Config"))),o(2),M(e.fieldsInfo.linkSiteId!=null&&e.fieldsInfo.linkSiteId.accessWatchField&&e.tokenHelper.isAdminSite?2:-1),o(4),S(" ",e.fieldsInfo.viewContentHidden==null?null:e.fieldsInfo.viewContentHidden.fieldTitle," "),o(3),T("ngModel",e.dataModel.viewContentHidden),o(5),S(" ",e.fieldsInfo.siteAdminViewContentHidden==null?null:e.fieldsInfo.siteAdminViewContentHidden.fieldTitle," "),o(3),T("ngModel",e.dataModel.siteAdminViewContentHidden),o(2),M(e.fieldsInfo.mainAdminRecordStatus!=null&&e.fieldsInfo.mainAdminRecordStatus.accessWatchField?19:-1),o(),M(e.formInfo.submitButtonEnabled?20:-1)}}function Up(n,a){if(n&1){let e=I();l(0,"div",28)(1,"label",76),c(2),r(),l(3,"input",77,10),A("ngModelChange",function(t){u(e);let s=d();return w(s.dataModel.aboutCustomerMobile,t)||(s.dataModel.aboutCustomerMobile=t),f(t)}),r(),l(5,"em"),c(6),r()()}if(n&2){let e=k(4),i=d();o(2),b(i.fieldsInfo.aboutCustomerMobile==null?null:i.fieldsInfo.aboutCustomerMobile.fieldTitle),o(),p("disabled",x(!(i.fieldsInfo.aboutCustomerMobile!=null&&i.fieldsInfo.aboutCustomerMobile.accessAddField)))("placeholder",x(i.fieldsInfo.aboutCustomerMobile==null?null:i.fieldsInfo.aboutCustomerMobile.fieldTitle)),T("ngModel",i.dataModel.aboutCustomerMobile),o(3),S("",e.value.length," / 100")}}function qp(n,a){if(n&1){let e=I();l(0,"div",28)(1,"label",78),c(2),r(),l(3,"input",79,11),A("ngModelChange",function(t){u(e);let s=d();return w(s.dataModel.aboutCustomerTel,t)||(s.dataModel.aboutCustomerTel=t),f(t)}),r(),l(5,"em"),c(6),r()()}if(n&2){let e=k(4),i=d();o(2),b(i.fieldsInfo.aboutCustomerTel==null?null:i.fieldsInfo.aboutCustomerTel.fieldTitle),o(),p("disabled",x(!(i.fieldsInfo.aboutCustomerTel!=null&&i.fieldsInfo.aboutCustomerTel.accessAddField)))("placeholder",x(i.fieldsInfo.aboutCustomerTel==null?null:i.fieldsInfo.aboutCustomerTel.fieldTitle)),T("ngModel",i.dataModel.aboutCustomerTel),o(3),S("",e.value.length," / 100")}}function jp(n,a){if(n&1&&(l(0,"mat-error"),c(1),l(2,"strong"),c(3),g(4,"translate"),r()()),n&2){let e=d(2);o(),S(" ",e.fieldsInfo.descriptionHidden==null?null:e.fieldsInfo.descriptionHidden.fieldTitle," "),o(2),b(C(4,2,"MESSAGE.required"))}}function Qp(n,a){if(n&1){let e=I();l(0,"div",28)(1,"label",80),c(2),g(3,"translate"),r(),l(4,"textarea",81,12),A("ngModelChange",function(t){u(e);let s=d();return w(s.dataModel.descriptionHidden,t)||(s.dataModel.descriptionHidden=t),f(t)}),r(),l(6,"em"),c(7),r(),y(8,jp,5,4,"mat-error"),r()}if(n&2){let e=k(5),i=d();o(2),b(C(3,6,"TITLE.Description_Hidden")),o(2),p("placeholder",x(i.fieldsInfo.descriptionHidden==null?null:i.fieldsInfo.descriptionHidden.fieldTitle)),T("ngModel",i.dataModel.descriptionHidden),o(3),S("",e.value.length," / 2000"),o(),M(e.errors!=null&&e.errors.required?8:-1)}}function Yp(n,a){if(n&1&&(l(0,"mat-error"),c(1),l(2,"strong"),c(3),g(4,"translate"),r()()),n&2){let e=d(2);o(),S(" ",e.fieldsInfo.addressHidden==null?null:e.fieldsInfo.addressHidden.fieldTitle," "),o(2),b(C(4,2,"MESSAGE.required"))}}function zp(n,a){if(n&1){let e=I();l(0,"div",28)(1,"label",82),c(2),g(3,"translate"),r(),l(4,"textarea",83,13),A("ngModelChange",function(t){u(e);let s=d();return w(s.dataModel.addressHidden,t)||(s.dataModel.addressHidden=t),f(t)}),r(),l(6,"em"),c(7),r(),y(8,Yp,5,4,"mat-error"),r()}if(n&2){let e=k(5),i=d();o(2),b(C(3,6,"TITLE.Address_Hidden")),o(2),p("placeholder",x(i.fieldsInfo.addressHidden==null?null:i.fieldsInfo.addressHidden.fieldTitle)),T("ngModel",i.dataModel.addressHidden),o(3),S("",e.value.length," / 2000"),o(),M(e.errors!=null&&e.errors.required?8:-1)}}function Kp(n,a){if(n&1&&(l(0,"button",64),c(1),g(2,"translate"),r()),n&2){d(2);let e=k(12);p("disabled",!e.form.valid),o(),S(" ",C(2,2,"ACTION.NEXT")," ")}}function Jp(n,a){if(n&1&&(l(0,"div",27)(1,"button",75),c(2),g(3,"translate"),r(),y(4,Kp,3,4,"button",64),r()),n&2){let e=d();o(2),S(" ",C(3,2,"ACTION.BEFOR")," "),o(2),M(e.dataModel.linkPropertyTypeUsageId&&e.dataModel.linkPropertyTypeUsageId.length>0?4:-1)}}function Zp(n,a){if(n&1){let e=I();l(0,"div",91)(1,"div",41)(2,"div",42)(3,"h5",92),c(4),g(5,"translate"),r()(),l(6,"div",44)(7,"div",45)(8,"input",93),A("ngModelChange",function(t){u(e);let s=d(4);return w(s.contractDataModel.salePriceByAgreement,t)||(s.contractDataModel.salePriceByAgreement=t),f(t)}),r(),h(9,"label",94),r()()()()}if(n&2){let e=d(4);o(4),S(" ",C(5,2,"TITLE.Agreement")," "),o(4),T("ngModel",e.contractDataModel.salePriceByAgreement)}}function Xp(n,a){if(n&1){let e=I();l(0,"div",85)(1,"div",88)(2,"div",28)(3,"label",89),c(4),r(),l(5,"input",90),A("ngModelChange",function(t){u(e);let s=d(3);return w(s.contractDataModel.salePrice,t)||(s.contractDataModel.salePrice=t),f(t)}),r(),l(6,"label"),c(7),r()()(),y(8,Zp,10,4,"div",91),r()}if(n&2){let e=d(3);o(4),b(e.contractTypeSelected.titleSalePriceML),o(),T("ngModel",e.contractDataModel.salePrice),p("disabled",e.contractDataModel.salePriceByAgreement),o(2),ue(" (",e.dataModelCorCurrencySelector.titleML," ",e.dataModelCorCurrencySelector.symbol," ) "),o(),M(e.contractTypeSelected.salePriceAllowAgreement?8:-1)}}function $p(n,a){if(n&1){let e=I();l(0,"div",91)(1,"div",41)(2,"div",42)(3,"h5",97),c(4),g(5,"translate"),r()(),l(6,"div",44)(7,"div",45)(8,"input",98),A("ngModelChange",function(t){u(e);let s=d(4);return w(s.contractDataModel.depositPriceByAgreement,t)||(s.contractDataModel.depositPriceByAgreement=t),f(t)}),r(),h(9,"label",99),r()()()()}if(n&2){let e=d(4);o(4),S(" ",C(5,2,"TITLE.Agreement")," "),o(4),T("ngModel",e.contractDataModel.depositPriceByAgreement)}}function em(n,a){if(n&1){let e=I();l(0,"div",85)(1,"div",88)(2,"div",28)(3,"label",95),c(4),r(),l(5,"input",96),A("ngModelChange",function(t){u(e);let s=d(3);return w(s.contractDataModel.depositPrice,t)||(s.contractDataModel.depositPrice=t),f(t)}),r(),l(6,"label"),c(7),r()()(),y(8,$p,10,4,"div",91),r()}if(n&2){let e=d(3);o(4),b(e.contractTypeSelected.titleDepositPriceML),o(),T("ngModel",e.contractDataModel.depositPrice),p("disabled",e.contractDataModel.depositPriceByAgreement),o(2),ue(" (",e.dataModelCorCurrencySelector.titleML," ",e.dataModelCorCurrencySelector.symbol," ) "),o(),M(e.contractTypeSelected.depositPriceAllowAgreement?8:-1)}}function tm(n,a){if(n&1){let e=I();l(0,"div",91)(1,"div",41)(2,"div",42)(3,"h5",102),c(4),g(5,"translate"),r()(),l(6,"div",44)(7,"div",45)(8,"input",103),A("ngModelChange",function(t){u(e);let s=d(4);return w(s.contractDataModel.rentPriceByAgreement,t)||(s.contractDataModel.rentPriceByAgreement=t),f(t)}),r(),h(9,"label",104),r()()()()}if(n&2){let e=d(4);o(4),S(" ",C(5,2,"TITLE.Agreement")," "),o(4),T("ngModel",e.contractDataModel.rentPriceByAgreement)}}function im(n,a){if(n&1){let e=I();l(0,"div",85)(1,"div",88)(2,"div",28)(3,"label",100),c(4),r(),l(5,"input",101),A("ngModelChange",function(t){u(e);let s=d(3);return w(s.contractDataModel.rentPrice,t)||(s.contractDataModel.rentPrice=t),f(t)}),r(),l(6,"label"),c(7),r()()(),y(8,tm,10,4,"div",91),r()}if(n&2){let e=d(3);o(4),b(e.contractTypeSelected.titleRentPriceML),o(),T("ngModel",e.contractDataModel.rentPrice),p("disabled",e.contractDataModel.rentPriceByAgreement),o(2),ue(" (",e.dataModelCorCurrencySelector.titleML," ",e.dataModelCorCurrencySelector.symbol," ) "),o(),M(e.contractTypeSelected.rentPriceAllowAgreement?8:-1)}}function nm(n,a){if(n&1){let e=I();l(0,"div",91)(1,"div",41)(2,"div",42)(3,"h5",107),c(4),g(5,"translate"),r()(),l(6,"div",44)(7,"div",45)(8,"input",108),A("ngModelChange",function(t){u(e);let s=d(4);return w(s.contractDataModel.periodPriceByAgreement,t)||(s.contractDataModel.periodPriceByAgreement=t),f(t)}),r(),h(9,"label",109),r()()()()}if(n&2){let e=d(4);o(4),S(" ",C(5,2,"TITLE.Agreement")," "),o(4),T("ngModel",e.contractDataModel.periodPriceByAgreement)}}function om(n,a){if(n&1){let e=I();l(0,"div",85)(1,"div",88)(2,"div",28)(3,"label",105),c(4),r(),l(5,"input",106),A("ngModelChange",function(t){u(e);let s=d(3);return w(s.contractDataModel.periodPrice,t)||(s.contractDataModel.periodPrice=t),f(t)}),r(),l(6,"label"),c(7),r()()(),y(8,nm,10,4,"div",91),r()}if(n&2){let e=d(3);o(4),b(e.contractTypeSelected.titlePeriodPriceML),o(),T("ngModel",e.contractDataModel.periodPrice),p("disabled",e.contractDataModel.periodPriceByAgreement),o(2),ue(" (",e.dataModelCorCurrencySelector.titleML," ",e.dataModelCorCurrencySelector.symbol," ) "),o(),M(e.contractTypeSelected.hasPeriodPrice&&e.contractTypeSelected.periodPriceAllowAgreement?8:-1)}}function am(n,a){if(n&1){let e=I();l(0,"div"),y(1,Xp,9,6,"div",85),y(2,em,9,6,"div",85),y(3,im,9,6,"div",85),y(4,om,9,6,"div",85),h(5,"hr"),l(6,"div",28)(7,"label",86),c(8),r(),l(9,"textarea",87,14),A("ngModelChange",function(t){u(e);let s=d(2);return w(s.contractDataModel.description,t)||(s.contractDataModel.description=t),f(t)}),r(),l(11,"em"),c(12),r()()()}if(n&2){let e=k(10),i=d(2);o(),M(i.contractTypeSelected.hasSalePrice?1:-1),o(),M(i.contractTypeSelected.hasDepositPrice?2:-1),o(),M(i.contractTypeSelected.hasRentPrice?3:-1),o(),M(i.contractTypeSelected.hasPeriodPrice?4:-1),o(4),b(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle),o(),p("placeholder",x(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle)),T("ngModel",i.contractDataModel.description),o(3),S("",e.value.length," / 500")}}function rm(n,a){if(n&1){let e=I();l(0,"div",31),h(1,"br")(2,"br"),l(3,"app-cms-currency-selector",84),g(4,"translate"),E("optionChange",function(t){u(e);let s=d();return f(s.onActionSelectCurrency(t))}),r(),y(5,am,13,9,"div"),h(6,"br")(7,"br"),r()}if(n&2){let e=d();o(3),p("optionSelectFirstItem",e.currencyOptionSelectFirstItem)("optionSelectForce",e.contractDataModel.linkCoreCurrencyId)("optionPlaceholder",C(4,4,"TITLE.Specify_the_transaction_currency")),o(2),M(e.contractDataModel.linkCoreCurrencyId>0?5:-1)}}function lm(n,a){if(n&1){let e=I();l(0,"button",110),E("click",function(){u(e);let t=d();return f(t.onActionOptionAddToList())}),c(1),g(2,"translate"),r()}n&2&&(o(),S(" ",C(2,1,"ACTION.Add_To_List")," ... "))}function sm(n,a){n&1&&(l(0,"mat-header-cell"),c(1),g(2,"translate"),r()),n&2&&(o(),S(" ",C(2,1,"TITLE.Contract")," "))}function cm(n,a){if(n&1&&(l(0,"mat-cell"),c(1),g(2,"cmstitle"),r()),n&2){let e=a.$implicit,i=d(2);o(),S(" ",ma(2,1,e.linkEstateContractTypeId,i.dataModelEstateContractTypeResult.listItems)," ")}}function dm(n,a){n&1&&(l(0,"mat-header-cell"),c(1),g(2,"translate"),r()),n&2&&(o(),S(" ",C(2,1,"TITLE.SalePrice")," "))}function pm(n,a){if(n&1&&(c(0),g(1,"number"),h(2,"br"),c(3)),n&2){let e=d().$implicit;S(" ",C(1,3,e.salePrice)," "),o(3),ue(" ( ",e.currencyTitle," ",e.currencySymbol,") ")}}function mm(n,a){n&1&&(c(0),g(1,"translate")),n&2&&S(" ",C(1,1,"TITLE.PriceByAgreement")," ")}function um(n,a){if(n&1&&(l(0,"mat-cell"),y(1,pm,4,5),y(2,mm,2,3),r()),n&2){let e=a.$implicit;o(),M(e.salePrice>0?1:-1),o(),M(e.salePriceByAgreement?2:-1)}}function fm(n,a){n&1&&(l(0,"mat-header-cell"),c(1),g(2,"translate"),r()),n&2&&(o(),S(" ",C(2,1,"TITLE.DepositPrice")," "))}function _m(n,a){if(n&1&&(c(0),g(1,"number"),h(2,"br"),c(3)),n&2){let e=d().$implicit;S(" ",C(1,3,e.depositPrice)," "),o(3),ue(" ( ",e.currencyTitle," ",e.currencySymbol,") ")}}function hm(n,a){n&1&&(c(0),g(1,"translate")),n&2&&S(" ",C(1,1,"TITLE.PriceByAgreement")," ")}function gm(n,a){if(n&1&&(l(0,"mat-cell"),y(1,_m,4,5),y(2,hm,2,3),r()),n&2){let e=a.$implicit;o(),M(e.depositPrice>0?1:-1),o(),M(e.depositPriceByAgreement?2:-1)}}function Cm(n,a){n&1&&(l(0,"mat-header-cell"),c(1),g(2,"translate"),r()),n&2&&(o(),S(" ",C(2,1,"TITLE.RentPrice")," "))}function Sm(n,a){if(n&1&&(c(0),g(1,"number"),h(2,"br"),c(3)),n&2){let e=d().$implicit;S(" ",C(1,3,e.rentPrice)," "),o(3),ue(" ( ",e.currencyTitle," ",e.currencySymbol,") ")}}function ym(n,a){n&1&&(c(0),g(1,"translate")),n&2&&S(" ",C(1,1,"TITLE.PriceByAgreement")," ")}function Mm(n,a){if(n&1&&(l(0,"mat-cell"),y(1,Sm,4,5),y(2,ym,2,3),r()),n&2){let e=a.$implicit;o(),M(e.rentPrice>0?1:-1),o(),M(e.rentPriceByAgreement?2:-1)}}function vm(n,a){n&1&&(l(0,"mat-header-cell"),c(1),g(2,"translate"),r()),n&2&&(o(),S(" ",C(2,1,"TITLE.PeriodPrice")," "))}function Em(n,a){if(n&1&&(c(0),g(1,"number"),h(2,"br"),c(3)),n&2){let e=d().$implicit;S(" ",C(1,3,e.periodPrice)," "),o(3),ue(" ( ",e.currencyTitle," ",e.currencySymbol,") ")}}function Im(n,a){n&1&&(c(0),g(1,"translate")),n&2&&S(" ",C(1,1,"TITLE.PriceByAgreement")," ")}function bm(n,a){if(n&1&&(l(0,"mat-cell"),y(1,Em,4,5),y(2,Im,2,3),r()),n&2){let e=a.$implicit;o(),M(e.periodPrice>0?1:-1),o(),M(e.periodPriceByAgreement?2:-1)}}function Tm(n,a){n&1&&(l(0,"mat-header-cell"),c(1),g(2,"translate"),r()),n&2&&(o(),S(" ",C(2,1,"TITLE.OPTION")," "))}function wm(n,a){if(n&1){let e=I();l(0,"mat-cell",125)(1,"button",126),E("click",function(){let t=u(e).index,s=d(2);return f(s.onActionOptionRemoveFromList(t))}),l(2,"small")(3,"mat-icon",127),g(4,"translate"),c(5,"delete"),r()()()()}n&2&&(o(3),p("matTooltip",x(C(4,2,"ACTION.DELETE"))))}function Am(n,a){if(n&1&&c(0),n&2){let e=d().$implicit;S(" ",e.description," ")}}function xm(n,a){if(n&1&&(l(0,"mat-cell",128),c(1),g(2,"translate"),y(3,Am,1,1),r()),n&2){let e=a.$implicit;o(),S(" ",C(2,2,"TITLE.DESCRIPTION")," : "),o(2),M(e.description?3:-1)}}function Pm(n,a){n&1&&h(0,"mat-header-row")}function Rm(n,a){if(n&1&&h(0,"mat-row"),n&2){let e=a.dataIndex;J("ntk-row-odd",e%2)("ntk-row-even",!(e%2))}}function km(n,a){if(n&1&&h(0,"mat-row"),n&2){let e=a.dataIndex;J("ntk-row-odd",e%2)("ntk-row-even",!(e%2))}}function Lm(n,a){if(n&1&&(l(0,"div",33)(1,"mat-table",111),P(2,112),L(3,sm,3,3,"mat-header-cell",113)(4,cm,3,4,"mat-cell",114),R(),P(5,115),L(6,dm,3,3,"mat-header-cell",113)(7,um,3,2,"mat-cell",114),R(),P(8,116),L(9,fm,3,3,"mat-header-cell",113)(10,gm,3,2,"mat-cell",114),R(),P(11,117),L(12,Cm,3,3,"mat-header-cell",113)(13,Mm,3,2,"mat-cell",114),R(),P(14,118),L(15,vm,3,3,"mat-header-cell",113)(16,bm,3,2,"mat-cell",114),R(),P(17,119),L(18,Tm,3,3,"mat-header-cell",113)(19,wm,6,4,"mat-cell",120),R(),P(20,121),L(21,xm,4,4,"mat-cell",122),R(),L(22,Pm,1,0,"mat-header-row",123)(23,Rm,1,4,"mat-row",124)(24,km,1,4,"mat-row",124),r()()),n&2){let e=d();o(),p("dataSource",e.optionTabledataSource),o(21),p("matHeaderRowDef",e.optionTabledisplayedColumns),o(),p("matRowDefColumns",e.optionTabledisplayedColumns),o(),p("matRowDefColumns",Me(4,yp))}}function Dm(n,a){if(n&1&&(l(0,"button",129),c(1),g(2,"translate"),r()),n&2){d(2);let e=k(12);p("disabled",!e.form.valid),o(),S(" ",C(2,2,"ACTION.SAVE")," ")}}function Vm(n,a){if(n&1&&(l(0,"div",27)(1,"button",75),c(2),g(3,"translate"),r(),y(4,Dm,3,4,"button",129),r()),n&2){let e=d();o(2),S(" ",C(3,2,"ACTION.BEFOR")," "),o(2),M(e.dataModel.contracts&&e.dataModel.contracts.length>0?4:-1)}}function Om(n,a){n&1&&(l(0,"mat-icon"),c(1,"call_end"),r())}function Bm(n,a){n&1&&(l(0,"mat-icon"),c(1,"call_end"),r())}function Fm(n,a){n&1&&(l(0,"mat-icon"),c(1,"forum"),r())}function Wm(n,a){n&1&&(l(0,"mat-icon"),c(1,"forum"),r())}var Dn=class Dn extends Yt{constructor(e,i,t,s,_,m,U,oe,Ie,ze,We,Ke,_i,Dt,rt){super(s,new Gt,We,rt);this.dialogRef=e;this.coreEnumService=i;this.estateContractTypeService=t;this.estatePropertyService=s;this.estatePropertyDetailGroupService=_;this.estatePropertyTypeService=m;this.estatePropertyTypeLanduseService=U;this.cmsToastrService=oe;this.cmsStoreService=Ie;this.themeService=ze;this.publicHelper=We;this.cdr=Ke;this.dialog=_i;this.tokenHelper=Dt;this.translate=rt;this.constructorInfoAreaId=this.constructor.name;this.currencyOptionSelectFirstItem=!0;this.enumInputDataType=to;this.tokenInfo=new Vt;this.appLanguage="fa";this.formMatcher=new dr;this.dataModelResult=new j;this.dataModelEstateContractTypeResult=new j;this.dataModelEstatePropertyTypeResult=new j;this.dataModelEstatePropertyTypeLanduseResult=new j;this.dataModel=new Gt;this.formInfo=new Le;this.dataModelCorCurrencySelector=new eo;this.PropertyTypeSelected=new lt;this.contractDataModel=new Jn;this.optionActionTitle="";this.optionTabledataSource=new nn;this.optionTabledisplayedColumns=["LinkEstateContractTypeId","SalePrice","RentPrice","DepositPrice","PeriodPrice","Action"];this.propertyDetails=new Map;this.step=0;this.listTypeLanduse=[];this.hidden=!0;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore}ngOnInit(){this.translate.get("TITLE.Submit_New_Content").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess(),this.getEstateContractType(),this.getEstatePropertyType(),this.getEstatePropertyTypeLanduse(),this.dataModel.caseCode=this.publicHelper.StringRandomGenerator(5,!0),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>Z(this,null,function*(){this.DataGetAccess(),this.getEstateContractType(),this.getEstatePropertyType(),this.getEstatePropertyTypeLanduse(),this.translate.get("ACTION.Add_To_List").subscribe(i=>{this.optionActionTitle=i}),this.tokenInfo=e})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}getEstateContractType(){let e=this.constructor.name+"getEstateContractType";this.translate.get("TITLE.Get_Estate_Contract_Type").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estateContractTypeService.ServiceGetAll(null).subscribe({next:i=>{this.dataModelEstateContractTypeResult=i,this.publicHelper.processService.processStop(e)},error:i=>{this.publicHelper.processService.processStop(e)}})}getEstatePropertyType(){let e=this.constructor.name+"getEstatePropertyType";this.translate.get("TITLE.Get_Estate_property_Type").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estatePropertyTypeService.ServiceGetAll(null).subscribe({next:i=>{this.dataModelEstatePropertyTypeResult=i,this.publicHelper.processService.processStop(e)},error:i=>{this.publicHelper.processService.processStop(e)}})}getEstatePropertyTypeLanduse(){let e=this.constructor.name+"getEstatePropertyType";this.translate.get("TITLE.Get_Estate_user_Type").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estatePropertyTypeLanduseService.ServiceGetAll(null).subscribe({next:i=>{this.dataModelEstatePropertyTypeLanduseResult=i,this.publicHelper.processService.processStop(e)},error:i=>{this.publicHelper.processService.processStop(e)}})}DataGetPropertyDetailGroup(e){let i=new he,t=new D;t.propertyName="LinkPropertyTypeLanduseId",t.value=e,i.filters.push(t),this.dataModel.propertyDetailGroups=[];let s=this.constructor.name+"DataGetPropertyDetailGroup";this.translate.get("TITLE.Get_Details").subscribe(_=>{this.publicHelper.processService.processStart(s,_,this.constructorInfoAreaId)}),this.estatePropertyDetailGroupService.ServiceGetAll(i).subscribe({next:_=>{_.isSuccess?this.dataModel.propertyDetailGroups=_.listItems:this.cmsToastrService.typeErrorGetAccess(_.errorMessage),this.publicHelper.processService.processStop(s)},error:_=>{this.cmsToastrService.typeErrorGetAccess(_),this.publicHelper.processService.processStop(s,!1)}})}DataAdd(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"ServiceAdd";this.translate.get("TITLE.Property_registration").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estatePropertyService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1}),this.formInfo.submitResultMessageType=1,this.cmsToastrService.typeSuccessAdd(),setTimeout(()=>this.dialogRef.close({dialogChangedDate:!0}),1e3)):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorSelectUsage(e){if(!e||!e.id||e.id.length<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkPropertyTypeUsageId=e.id,this.dataModelEstatePropertyTypeResult.isSuccess&&this.dataModelEstatePropertyTypeLanduseResult.isSuccess&&(this.listTypeLanduse=[],this.dataModelEstatePropertyTypeResult.listItems.forEach(i=>{i.linkPropertyTypeUsageId===e.id&&this.dataModelEstatePropertyTypeLanduseResult.listItems.forEach(t=>{t.id===i.linkPropertyTypeLanduseId&&this.listTypeLanduse.push(t)})}))}onActionSelectorSelectLanduse(e){if(!e||!e.id||e.id.length<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.PropertyTypeSelected=e,this.dataModel.linkPropertyTypeLanduseId=e.id,this.DataGetPropertyDetailGroup(e.id)}onActionSelectorCmsUser(e){if(!e||!e.id||e.id<=0){this.dataModel.linkCmsUserId=null;return}this.dataModel.linkCmsUserId=e.id}onActionSelectorLocation(e){if(!e||!e.id||e.id<=0){this.translate.get("MESSAGE.information_area_is_not_clear").subscribe(i=>{this.cmsToastrService.typeWarningSelected(i)}),this.dataModel.linkLocationId=null;return}this.dataModel.linkLocationId=e.id}onActionSelectorProject(e){if(!e||!e.id||e.id.length<=0){this.dataModel.linkPropertyProjectId=null;return}this.dataModel.linkPropertyProjectId=e.id}onActionSelectorCompany(e){if(!e||!e.id||e.id.length<=0){this.dataModel.linkPropertyCompanyId=null;return}this.dataModel.linkPropertyCompanyId=e.id}onActionSelectorEstateUser(e){this.dataModel.linkEstateExpertId=null,!(!e||!e.id||e.id.length<=0)&&(this.dataModel.linkEstateExpertId=e.id)}onActionSelectorEstateAgency(e){this.dataModel.linkEstateAgencyId=null,!(!e||!e.id||e.id.length<=0)&&(this.dataModel.linkEstateAgencyId=e.id)}onActionSelectorContractType(e){if(this.contractTypeSelected=null,!e||!e.id||e.id.length<=0){this.translate.get("MESSAGE.Type_of_property_transaction_is_not_known").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.currencyOptionSelectFirstItem=!0,this.contractTypeSelected=e,this.contractDataModel=new Jn,this.contractDataModel.contractType=this.contractTypeSelected,this.contractDataModel.linkEstateContractTypeId=this.contractTypeSelected.id}onFormSubmit(){if(this.formGroup.valid){if(this.formInfo.submitButtonEnabled=!1,this.dataModel.propertyDetailValues=[],this.dataModel.propertyDetailGroups&&this.dataModel.propertyDetailGroups.forEach(e=>{e.propertyDetails.forEach(i=>{let t=new oo;t.linkPropertyDetailId=i.id,t.value=this.propertyDetails[i.id],this.dataModel.propertyDetailValues.push(t)})}),(!this.dataModel.contracts||this.dataModel.contracts.length===0)&&this.onActionOptionAddToList(!1),!this.dataModel.contracts||this.dataModel.contracts.length===0){this.translate.get("MESSAGE.Type_of_property_transaction_is_not_known").subscribe(e=>{this.cmsToastrService.typeErrorSelected(e)}),this.formInfo.submitButtonEnabled=!0;return}this.DataAdd()}}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}onActionOptionAddToList(e=!0){if(!this.contractTypeSelected||this.contractTypeSelected.id.length===0){this.translate.get("MESSAGE.Type_of_property_transaction_is_not_known").subscribe(t=>{e&&this.cmsToastrService.typeErrorSelected(t)});return}this.dataModel.contracts||(this.dataModel.contracts=[]);var i=!1;if(this.contractTypeSelected.hasSalePrice&&(this.contractDataModel.salePrice&&this.contractDataModel.salePrice>0&&(i=!0),this.contractTypeSelected.salePriceAllowAgreement&&this.contractDataModel.salePriceByAgreement&&(i=!0),!i)){this.translate.get("MESSAGE.Sales_amount_is_not_entered_correctly").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(i=!1,this.contractTypeSelected.hasRentPrice&&(this.contractDataModel.rentPrice&&this.contractDataModel.rentPrice>0&&(i=!0),this.contractTypeSelected.rentPriceAllowAgreement&&this.contractDataModel.rentPriceByAgreement&&(i=!0),!i)){this.translate.get("MESSAGE.Rent_amount_is_not_entered_correctly").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(i=!1,this.contractTypeSelected.hasPeriodPrice&&(this.contractDataModel.periodPrice&&this.contractDataModel.periodPrice>0&&(i=!0),this.contractTypeSelected.periodPriceAllowAgreement&&this.contractDataModel.periodPriceByAgreement&&(i=!0),!i)){this.translate.get("MESSAGE.Period_amount_is_not_entered_correctly").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(i=!1,this.contractTypeSelected.hasDepositPrice&&(this.contractDataModel.depositPrice&&this.contractDataModel.depositPrice>0&&(i=!0),this.contractTypeSelected.depositPriceAllowAgreement&&this.contractDataModel.depositPriceByAgreement&&(i=!0),!i)){this.translate.get("MESSAGE.Deposit_amount_is_not_entered_correctly").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}this.dataModel.contracts.push(this.contractDataModel),this.contractDataModel=new Jn,this.optionTabledataSource.data=this.dataModel.contracts,this.contractTypeSelected=null}onActionOptionRemoveFromList(e){e<0||!this.dataModel.contracts||this.dataModel.contracts.length===0||(this.contractDataModel=this.dataModel.contracts[e],this.dataModel.contracts.splice(e,1),this.contractDataModel=new Jn,this.optionTabledataSource.data=this.dataModel.contracts)}onStepClick(e,i){e.previouslySelectedIndex<e.selectedIndex&&((!this.dataModel.linkPropertyTypeUsageId||this.dataModel.linkPropertyTypeUsageId.length===0)&&(this.translate.get("TITLE.Select_the_Property_Type_Usage").subscribe(t=>{this.cmsToastrService.typeErrorFormInvalid(t)}),setTimeout(()=>{i.selectedIndex=e.previouslySelectedIndex},10)),(!this.dataModel.linkPropertyTypeLanduseId||this.dataModel.linkPropertyTypeLanduseId.length===0)&&(this.translate.get("TITLE.Select_the_Property_Type_Landuse").subscribe(t=>{this.cmsToastrService.typeErrorFormInvalid(t)}),setTimeout(()=>{i.selectedIndex=e.previouslySelectedIndex},10)),this.formGroup.valid||(this.cmsToastrService.typeErrorFormInvalid(),setTimeout(()=>{i.selectedIndex=e.previouslySelectedIndex},10))),(!this.dataModel.contracts||this.dataModel.contracts.length==0)&&e.previouslySelectedStep.state=="contract"&&e.previouslySelectedIndex<e.selectedIndex&&(this.translate.get("TITLE.Select_the_transaction_type").subscribe(t=>{this.cmsToastrService.typeErrorFormInvalid(t)}),setTimeout(()=>{i.selectedIndex=e.previouslySelectedIndex},10))}onActionBackToParent(){this.dialogRef.close({dialogChangedDate:!1})}setStep(e){this.step=e}nextStep(){this.step++}prevStep(){this.step--}onActionClickSalePriceAllowAgreement(){this.contractDataModel.salePriceByAgreement&&(this.contractDataModel.salePrice=0)}onActionClickRentPriceAllowAgreement(){this.contractDataModel.rentPriceByAgreement&&(this.contractDataModel.rentPrice=0)}onActionClickPeriodPriceAllowAgreement(){this.contractDataModel.periodPriceByAgreement&&(this.contractDataModel.periodPrice=0)}onActionClickDepositPriceByAgreement(){this.contractDataModel.depositPriceByAgreement&&(this.contractDataModel.depositPrice=0)}onActionSelectCurrency(e){if(!e||e.id<=0){this.cmsToastrService.typeErrorSelected(),this.dataModelCorCurrencySelector=null,this.contractDataModel.linkCoreCurrencyId=null;return}this.dataModelCorCurrencySelector=e,this.contractDataModel.linkCoreCurrencyId=e.id}onActionButtonQuickListSearchTitle(){if(!this.dataModel||!this.dataModel.title||this.dataModel.title.length===0){this.cmsToastrService.typeErrorSelectedRow();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(Ui,{height:"90%",panelClass:e,enterAnimationDuration:X.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:X.cmsViewConfig.exitAnimationDuration,data:{searchTitle:this.dataModel.title}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate})}onActionButtonQuickListSearchCustomerTel(){if(!this.dataModel||!this.dataModel.aboutCustomerTel||this.dataModel.aboutCustomerTel.length===0){this.cmsToastrService.typeErrorSelectedRow();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(Ui,{height:"90%",panelClass:e,enterAnimationDuration:X.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:X.cmsViewConfig.exitAnimationDuration,data:{searchCustomerTel:this.dataModel.aboutCustomerTel}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate})}onActionButtonQuickListSearchCustomerMobile(){if(!this.dataModel||!this.dataModel.aboutCustomerMobile||this.dataModel.aboutCustomerMobile.length===0){this.cmsToastrService.typeErrorSelectedRow();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(Ui,{height:"90%",panelClass:e,enterAnimationDuration:X.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:X.cmsViewConfig.exitAnimationDuration,data:{searchCustomerTel:this.dataModel.aboutCustomerMobile}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate})}onActionButtonQuickListSearchCaseCode(){if(!this.dataModel||!this.dataModel.caseCode||this.dataModel.caseCode.length===0){this.cmsToastrService.typeErrorSelectedRow();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(Ui,{height:"90%",panelClass:e,enterAnimationDuration:X.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:X.cmsViewConfig.exitAnimationDuration,data:{searchCaseCode:this.dataModel.caseCode}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate})}};Dn.\u0275fac=function(i){return new(i||Dn)(v(Re),v(te),v(Ki),v($t),v(so),v(Ji),v(qt),v(F),v(z),v(Ft),v(W),v(H),v(re),v(K),v(B))},Dn.\u0275cmp=O({type:Dn,selectors:[["app-estate-property-quick-add"]],viewQuery:function(i,t){if(i&1&&He(Cp,5),i&2){let s;Ne(s=Ge())&&(t.formGroup=s.first)}},standalone:!1,features:[ge],decls:53,vars:58,consts:[["vform","ngForm"],["stepper",""],["Description",""],["Title",""],["CaseCode",""],["CreatedYaer",""],["Partition",""],["Area",""],["Address",""],["LinkSiteId",""],["AboutCustomerMobile",""],["AboutCustomerTel",""],["DescriptionHidden",""],["AddressHidden",""],["contractDataModel_Description",""],[3,"Key","svg","ngStyle"],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"selectionChange"],["state","main",3,"label"],[3,"optionChange","optionDisabled","optionTypeView","optionSelectForce","optionPlaceholder"],[1,"row","mb-0"],[3,"optionDisabled","optionTypeView","optionSelectForce","optionPlaceholder","optionTypeUsageId"],[1,"form-actions"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["state","contract",3,"label"],[3,"optionChange","optionTypeView","optionDisabled","optionPlaceholder","optionSelectForce"],[1,"container"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[1,"example-container","mat-elevation-z8"],["matStepperIcon","main"],["matStepperIcon","seo"],["matStepperIcon","file"],["matStepperIcon","loaction"],[1,"col-xl-2","col-lg-3","col-md-4","col-sm-12","pe-1"],[3,"click","ngClass"],[3,"optionChange","optionDisabled","optionTypeView","optionSelectForce","optionPlaceholder","optionTypeUsageId"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.viewConfigHiddenInList",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.viewConfigHiddenInList","name","dataModel.viewConfigHiddenInList",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.viewConfigHiddenInList",1,"custom-control-label"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","2000","rows","5","id","dataModel.description","required","",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled","placeholder"],["for","dataModel.title",1,"color-highlight"],["matInput","","name","dataModel.title","type","text","minlength","3","maxlength","100","id","dataModel.title","required","",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled","placeholder"],["for","dataModel.caseCode",1,"color-highlight"],["matInput","","name","dataModel.caseCode","type","text","minlength","3","maxlength","100","id","dataModel.caseCode",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled","placeholder"],["for","dataModel.createdYaer",1,"color-highlight"],["matInput","","name","dataModel.createdYaer","type","number","id","dataModel.createdYaer",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.partition",1,"color-highlight"],["matInput","","name","dataModel.partition","type","number","id","dataModel.partition",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.area",1,"color-highlight"],["matInput","","name","dataModel.area","type","text","currencyMask","","id","dataModel.area",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel","disabled","placeholder"],["for","dataModel.address",1,"color-highlight"],["matInput","","name","dataModel.address","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.address",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],["type","button","matStepperNext","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue",3,"disabled"],["data-trigger-switch","dataModel.viewContentHidden",1,"font-600","font-14"],["type","checkbox","id","dataModel.viewContentHidden","name","dataModel.viewContentHidden",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.viewContentHidden",1,"custom-control-label"],["data-trigger-switch","dataModel.siteAdminViewContentHidden",1,"font-600","font-14"],["type","checkbox","id","dataModel.siteAdminViewContentHidden","name","dataModel.siteAdminViewContentHidden",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.siteAdminViewContentHidden",1,"custom-control-label"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.linkSiteId",1,"color-highlight"],["matInput","","name","dataModel.linkSiteId","type","text","minlength","3","maxlength","100","id","dataModel.linkSiteId",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled","placeholder"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["type","button","matStepperPrevious","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue"],["for","dataModel.aboutCustomerMobile",1,"color-highlight"],["matInput","","name","dataModel.aboutCustomerMobile","type","text","minlength","0","maxlength","100","id","dataModel.aboutCustomerMobile",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled","placeholder"],["for","dataModel.aboutCustomerTel",1,"color-highlight"],["matInput","","name","dataModel.aboutCustomerTel","type","text","minlength","0","maxlength","100","id","dataModel.aboutCustomerTel",1,"input-Mobile",3,"ngModelChange","ngModel","disabled","placeholder"],["for","dataModel.descriptionHidden",1,"color-highlight"],["matInput","","name","dataModel.descriptionHidden","type","text","minlength","1","maxlength","2000","rows","5","id","dataModel.descriptionHidden",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.addressHidden",1,"color-highlight"],["matInput","","name","dataModel.addressHidden","type","text","minlength","1","maxlength","2000","rows","5","id","dataModel.addressHidden",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[3,"optionChange","optionSelectFirstItem","optionSelectForce","optionPlaceholder"],[1,"row"],["for","contractDataModel.description",1,"color-highlight"],["matInput","","name","contractDataModel.description","type","text","minlength","0","maxlength","500","rows","5","id","contractDataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"col-6"],["for","contractDataModel.salePrice",1,"color-highlight"],["matInput","","name","contractDataModel.salePrice","type","text","currencyMask","","placeholder","0","id","contractDataModel.salePrice",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel","disabled"],[1,"col-3"],["data-trigger-switch","contractDataModel.salePriceByAgreement",1,"font-600","font-14"],["type","checkbox","id","contractDataModel.salePriceByAgreement","name","contractDataModel.salePriceByAgreement",1,"ios-input",3,"ngModelChange","ngModel"],["for","contractDataModel.salePriceByAgreement",1,"custom-control-label"],["for","contractDataModel.depositPrice",1,"color-highlight"],["matInput","","name","contractDataModel.depositPrice","type","text","currencyMask","","placeholder","0","id","contractDataModel.depositPrice",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel","disabled"],["data-trigger-switch","contractDataModel.depositPriceByAgreement",1,"font-600","font-14"],["type","checkbox","id","contractDataModel.depositPriceByAgreement","name","contractDataModel.depositPriceByAgreement",1,"ios-input",3,"ngModelChange","ngModel"],["for","contractDataModel.depositPriceByAgreement",1,"custom-control-label"],["for","contractDataModel.rentPrice",1,"color-highlight"],["matInput","","name","contractDataModel.rentPrice","type","text","currencyMask","","placeholder","0","id","contractDataModel.rentPrice",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel","disabled"],["data-trigger-switch","contractDataModel.rentPriceAllowAgreement",1,"font-600","font-14"],["type","checkbox","id","contractDataModel.rentPriceAllowAgreement","name","contractDataModel.rentPriceAllowAgreement",1,"ios-input",3,"ngModelChange","ngModel"],["for","contractDataModel.rentPriceAllowAgreement",1,"custom-control-label"],["for","contractDataModel.periodPrice",1,"color-highlight"],["matInput","","name","contractDataModel.periodPrice","type","text","currencyMask","","placeholder","0","id","contractDataModel.periodPriceByAgreement",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel","disabled"],["data-trigger-switch","contractDataModel.periodPriceByAgreement",1,"font-600","font-14"],["type","checkbox","id","contractDataModel.periodPriceByAgreement","name","contractDataModel.periodPriceByAgreement",1,"ios-input",3,"ngModelChange","ngModel"],["for","contractDataModel.periodPriceByAgreement",1,"custom-control-label"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],["multiTemplateDataRows","",3,"dataSource"],["matColumnDef","LinkEstateContractTypeId"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","SalePrice"],["matColumnDef","DepositPrice"],["matColumnDef","RentPrice"],["matColumnDef","PeriodPrice"],["matColumnDef","Action"],["class","Action",4,"matCellDef"],["matColumnDef","descriptionDetail"],["colspan","6",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even",4,"matRowDef","matRowDefColumns"],[1,"Action"],["type","button","mat-icon-button","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],["matTooltipPosition","before","aria-hidden","false",2,"color","red",3,"matTooltip"],["colspan","6"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"]],template:function(i,t){if(i&1){let s=I();h(0,"app-cms-guide-notice",15),l(1,"div",16),h(2,"app-progress-spinner",17),l(3,"div",18)(4,"p",19),c(5),g(6,"translate"),r(),l(7,"p"),c(8),g(9,"translate"),r(),h(10,"app-cms-form-result-message",20),l(11,"form",21,0),E("ngSubmit",function(){return u(s),f(t.onFormSubmit())}),l(13,"mat-vertical-stepper",22,1),E("selectionChange",function(m){u(s);let U=k(14);return f(t.onStepClick(m,U))}),l(15,"mat-step",23),g(16,"translate"),l(17,"app-estate-property-type-usage-selector",24),g(18,"translate"),E("optionChange",function(m){return u(s),f(t.onActionSelectorSelectUsage(m))}),r(),y(19,Mp,3,3,"p"),y(20,Ep,3,0,"div",25),y(21,Ip,2,7,"app-estate-property-type-landuse-selector",26),h(22,"br")(23,"br"),y(24,Dp,26,23,"div"),y(25,Op,5,4,"div",27),r(),y(26,Gp,21,11,"mat-step",23),l(27,"mat-step",23),g(28,"translate"),y(29,Up,7,7,"div",28),y(30,qp,7,7,"div",28),y(31,Qp,9,8,"div",28),y(32,zp,9,8,"div",28),y(33,Jp,5,4,"div",27),r(),l(34,"mat-step",29),g(35,"translate"),l(36,"p"),c(37),g(38,"translate"),r(),l(39,"app-estate-contract-type-selector",30),g(40,"translate"),E("optionChange",function(m){return u(s),f(t.onActionSelectorContractType(m))}),r(),y(41,rm,8,6,"div",31),y(42,lm,3,3,"button",32),h(43,"hr"),l(44,"p"),c(45),g(46,"translate"),r(),y(47,Lm,25,5,"div",33),y(48,Vm,5,4,"div",27),r(),L(49,Om,2,0,"ng-template",34)(50,Bm,2,0,"ng-template",35)(51,Fm,2,0,"ng-template",36)(52,Wm,2,0,"ng-template",37),r()()()()}i&2&&(p("Key","estate.property.list.add")("svg","assets/media/svg/icons/General/Notifications1.svg")("ngStyle",ve(56,Sp,t.tokenInfo.access.direction)),o(2),p("optionsInfoAreaId",t.constructorInfoAreaId),o(3),S(" ",C(6,38,"TITLE.EDIT_USER_ACCOUNT")," "),o(3),S(" ",C(9,40,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),p("formInfo",t.formInfo),o(5),p("label",x(C(16,42,"TITLE.REQUIRED_INFORMATION"))),o(2),p("optionDisabled",!(t.fieldsInfo.linkPropertyTypeUsageId!=null&&t.fieldsInfo.linkPropertyTypeUsageId.accessAddField))("optionTypeView",2)("optionSelectForce",t.dataModel.linkPropertyTypeUsageId)("optionPlaceholder",C(18,44,"TITLE.Type_Usage")),o(2),M(t.dataModel.linkPropertyTypeUsageId&&t.dataModel.linkPropertyTypeUsageId.length>0&&t.listTypeLanduse&&t.listTypeLanduse.length>0?19:-1),o(),M(t.dataModel.linkPropertyTypeUsageId&&t.dataModel.linkPropertyTypeUsageId.length>0&&t.listTypeLanduse&&t.listTypeLanduse.length>0?20:-1),o(),M((!t.listTypeLanduse||t.listTypeLanduse.length===0)&&t.dataModel.linkPropertyTypeUsageId&&t.dataModel.linkPropertyTypeUsageId.length>0?21:-1),o(3),M(t.dataModel.linkPropertyTypeLanduseId&&t.dataModel.linkPropertyTypeLanduseId.length>0?24:-1),o(),M(t.formInfo.submitButtonEnabled?25:-1),o(),M(t.tokenHelper.isAdminSite?26:-1),o(),p("label",x(C(28,46,"TITLE.SECRET_INFORMATION"))),o(2),M(t.fieldsInfo.aboutCustomerMobile!=null&&t.fieldsInfo.aboutCustomerMobile.accessWatchField?29:-1),o(),M(t.fieldsInfo.aboutCustomerTel!=null&&t.fieldsInfo.aboutCustomerTel.accessWatchField?30:-1),o(),M(t.fieldsInfo.descriptionHidden!=null&&t.fieldsInfo.descriptionHidden.accessWatchField?31:-1),o(),M(t.fieldsInfo.addressHidden!=null&&t.fieldsInfo.addressHidden.accessWatchField?32:-1),o(),M(t.formInfo.submitButtonEnabled?33:-1),o(),p("label",x(C(35,48,"TITLE.Transaction"))),o(3),S(" ",C(38,50,"TITLE.Specify_the_type_of_transaction_for_this_property")," "),o(2),p("optionTypeView",2)("optionDisabled",!1)("optionPlaceholder",C(40,52,"TITLE.Type_Of_Transaction"))("optionSelectForce",t.contractDataModel.linkEstateContractTypeId),o(2),M(t.contractTypeSelected&&t.contractTypeSelected.id.length>0?41:-1),o(),M(t.contractTypeSelected&&t.contractTypeSelected.id.length>0?42:-1),o(3),S(" ",C(46,54,"TITLE.List_Of_Transaction_Details_Of_This_Property")," "),o(2),M(t.publicHelper.processService.process.inRunAll?-1:47),o(),M(t.formInfo.submitButtonEnabled?48:-1))},dependencies:[fe,be,et,ie,co,Ot,$,Xe,ae,it,nt,Te,$e,_t,ot,ke,ee,en,tn,Ga,Ua,$i,vt,It,At,bt,Et,xt,Tt,wt,Pt,Rt,Xi,Eo,pr,fi,G,Za,De,on,ho,Rn,kn,Ln,Ja,ua,N,er],encapsulation:2});var Uo=Dn;var Hm=()=>["expandedTitle"],Nm=()=>["expandedDetail"],Gm=()=>[5,10,20,100],Dr=n=>({display:n});function Um(n,a){n&1&&(l(0,"mat-header-cell"),c(1),g(2,"translate"),r()),n&2&&(o(),S(" ",C(2,1,"TITLE.MENU")," "))}function qm(n,a){if(n&1){let e=I();l(0,"mat-cell")(1,"button",56),E("click",function(){let t=u(e).$implicit,s=d();return f(s.onActionTableRowSelectActionMenu(t))}),h(2,"i",57),r()()}}function jm(n,a){n&1&&(l(0,"mat-header-cell",58),c(1),g(2,"translate"),r()),n&2&&(o(),S(" ",C(2,1,"TITLE.PICTURE")," "))}function Qm(n,a){if(n&1&&(h(0,"img",59),g(1,"cmsthumbnail")),n&2){let e=d().$implicit;p("src",x(C(1,2,e.linkMainImageIdSrc)),q)}}function Ym(n,a){if(n&1&&(l(0,"mat-cell"),y(1,Qm,2,4,"img",59),r()),n&2){let e=a.$implicit;o(),M((e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0?1:-1)}}function zm(n,a){if(n&1&&(l(0,"mat-header-cell",58),c(1),r()),n&2){let e=d();o(),S(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function Km(n,a){if(n&1&&(l(0,"mat-cell"),c(1),r()),n&2){let e=a.$implicit;o(),S(" ",e.id," ")}}function Jm(n,a){if(n&1&&(l(0,"mat-header-cell",58),c(1),r()),n&2){let e=d();o(),S(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function Zm(n,a){if(n&1&&(l(0,"mat-cell"),c(1),g(2,"cmssiteinfo"),g(3,"async"),r()),n&2){let e=a.$implicit;o(),S(" ",C(3,3,C(2,1,e.linkSiteId))," ")}}function Xm(n,a){if(n&1&&(l(0,"mat-header-cell",58),c(1),r()),n&2){let e=d();o(),S(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function $m(n,a){if(n&1&&h(0,"select",61),n&2){let e=d().$implicit,i=d();p("contentService",i.contentService)("row",e)("ngStyle",ve(3,Dr,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function e0(n,a){if(n&1&&(l(0,"mat-cell",60),g(1,"statusCellClass"),h(2,"i",60),g(3,"statusIconClass"),y(4,$m,1,5,"select",61),r()),n&2){let e=a.$implicit,i=d();p("ngClass",C(1,3,e.recordStatus)),o(2),p("ngClass",C(3,5,e.recordStatus)),o(2),M(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessEditRow?4:-1)}}function t0(n,a){if(n&1&&(l(0,"mat-header-cell",58),c(1),r()),n&2){let e=d();o(),S(" ",e.fieldsInfo.name==null?null:e.fieldsInfo.name.fieldTitle," ")}}function i0(n,a){if(n&1&&(l(0,"mat-cell"),c(1),r()),n&2){let e=a.$implicit;o(),S(" ",e.name," ")}}function n0(n,a){if(n&1&&(l(0,"mat-header-cell",58),c(1),r()),n&2){let e=d();o(),S(" ",e.fieldsInfo.lastName==null?null:e.fieldsInfo.lastName.fieldTitle," ")}}function o0(n,a){if(n&1&&(l(0,"mat-cell"),c(1),r()),n&2){let e=a.$implicit;o(),S(" ",e.lastName," ")}}function a0(n,a){if(n&1&&(l(0,"mat-header-cell",58),c(1),r()),n&2){let e=d();o(),S(" ",e.fieldsInfo.companyName==null?null:e.fieldsInfo.companyName.fieldTitle," ")}}function r0(n,a){if(n&1&&(l(0,"mat-cell"),c(1),r()),n&2){let e=a.$implicit;o(),S(" ",e.companyName," ")}}function l0(n,a){if(n&1&&(l(0,"mat-header-cell",58),c(1),r()),n&2){let e=d();o(),S(" ",e.fieldsInfo.email==null?null:e.fieldsInfo.email.fieldTitle," ")}}function s0(n,a){if(n&1&&(l(0,"mat-cell"),c(1),r()),n&2){let e=a.$implicit;o(),S(" ",e.email," ")}}function c0(n,a){if(n&1&&(l(0,"mat-header-cell",58),c(1),r()),n&2){let e=d();o(),S(" ",e.fieldsInfo.mobile==null?null:e.fieldsInfo.mobile.fieldTitle," ")}}function d0(n,a){if(n&1&&(l(0,"mat-cell"),c(1),r()),n&2){let e=a.$implicit;o(),S(" ",e.mobile," ")}}function p0(n,a){if(n&1&&(l(0,"mat-header-cell",58),c(1),r()),n&2){let e=d();o(),S(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function m0(n,a){if(n&1&&(l(0,"mat-cell"),c(1),g(2,"localeDate"),r()),n&2){let e=a.$implicit;o(),S(" ",C(2,1,e.createdDate)," ")}}function u0(n,a){if(n&1&&(l(0,"mat-header-cell",58),c(1),r()),n&2){let e=d();o(),S(" ",e.fieldsInfo.updatedDate==null?null:e.fieldsInfo.updatedDate.fieldTitle," ")}}function f0(n,a){if(n&1&&(l(0,"mat-cell"),c(1),g(2,"localeDate"),r()),n&2){let e=a.$implicit;o(),S(" ",C(2,1,e.updatedDate)," ")}}function _0(n,a){n&1&&(l(0,"mat-header-cell"),c(1),g(2,"translate"),r()),n&2&&(o(),S(" ",C(2,1,"TITLE.OPTION")," "))}function h0(n,a){if(n&1&&(l(0,"mat-cell",62)(1,"button",63)(2,"mat-icon"),c(3,"more_vert"),r()(),h(4,"mat-menu",null,2),r()),n&2){let e=k(5);o(),p("matMenuTriggerFor",e)}}function g0(n,a){if(n&1&&(l(0,"mat-cell"),c(1),g(2,"translate"),g(3,"localeDate"),r()),n&2){let e=a.$implicit;o(),ue(" ",C(2,2,"TITLE.CreationDate")," : ",C(3,4,e.createdDate)," ")}}function C0(n,a){if(n&1&&(h(0,"img",64),g(1,"cmsthumbnail")),n&2){let e=d().$implicit;p("src",x(C(1,2,e.linkMainImageIdSrc)),q)}}function S0(n,a){if(n&1){let e=I();l(0,"mat-cell")(1,"div")(2,"table")(3,"tr")(4,"th"),y(5,C0,2,4,"img",64),r(),l(6,"th")(7,"span",65),E("click",function(){u(e);let t=d();return f(t.onActionCopied())}),h(8,"i",66),r(),c(9),r()(),l(10,"tr"),h(11,"td"),l(12,"td"),c(13),r()(),l(14,"tr"),h(15,"td"),l(16,"td"),c(17),r()(),l(18,"tr"),h(19,"td"),l(20,"td"),c(21),r()(),l(22,"tr"),h(23,"td"),l(24,"td"),c(25),r()(),l(26,"tr"),h(27,"td"),l(28,"td"),c(29),r()(),l(30,"tr"),h(31,"td"),l(32,"td"),c(33),r()(),l(34,"tr"),h(35,"td")(36,"td"),r()()()()}if(n&2){let e=a.$implicit,i=d();o(5),M((e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0?5:-1),o(2),p("cdkCopyToClipboard",e.id),o(2),S(" ",e.id," "),o(4),ue(" ",i.fieldsInfo.username==null?null:i.fieldsInfo.username.fieldTitle," : ",e.username," "),o(4),ue(" ",i.fieldsInfo.name==null?null:i.fieldsInfo.name.fieldTitle," : ",e.name," "),o(4),ue(" ",i.fieldsInfo.lastName==null?null:i.fieldsInfo.lastName.fieldTitle," : ",e.lastName," "),o(4),ue(" ",i.fieldsInfo.mobile==null?null:i.fieldsInfo.mobile.fieldTitle," : ",e.mobile," "),o(4),ue(" ",i.fieldsInfo.email==null?null:i.fieldsInfo.email.fieldTitle," : ",e.email," "),o(4),ue(" ",i.fieldsInfo.companyName==null?null:i.fieldsInfo.companyName.fieldTitle," : ",e.companyName," ")}}function y0(n,a){n&1&&h(0,"mat-header-row")}function M0(n,a){if(n&1){let e=I();l(0,"mat-row",67),E("click",function(t){let s=u(e).$implicit,_=d();return f(_.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=u(e).$implicit,_=d();return f(_.onActionTableRowSelect(s,t))})("mouseenter",function(){let t=u(e).$implicit,s=d();return f(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=u(e).$implicit,s=d();return f(s.onActionTableRowMouseLeave(t))}),r()}if(n&2){let e=a.$implicit,i=a.dataIndex,t=d();J("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",e.id===(t.tableRowSelected==null?null:t.tableRowSelected.id))}}function v0(n,a){if(n&1){let e=I();l(0,"mat-row",68),E("click",function(t){let s=u(e).$implicit,_=d();return f(_.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=u(e).$implicit,_=d();return f(_.onActionTableRowSelect(s,t))})("mouseenter",function(){let t=u(e).$implicit,s=d();return f(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=u(e).$implicit,s=d();return f(s.onActionTableRowMouseLeave(t))}),r()}if(n&2){let e=a.$implicit,i=a.dataIndex,t=d();J("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",e.id===(t.tableRowSelected==null?null:t.tableRowSelected.id))}}function E0(n,a){if(n&1){let e=I();l(0,"mat-row",69),E("click",function(t){let s=u(e).$implicit,_=d();return f(_.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=u(e).$implicit,_=d();return f(_.onActionTableRowSelect(s,t))})("mouseenter",function(){let t=u(e).$implicit,s=d();return f(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=u(e).$implicit,s=d();return f(s.onActionTableRowMouseLeave(t))}),r()}if(n&2){let e=a.$implicit,i=a.dataIndex,t=d();J("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",e.id===(t.tableRowSelected==null?null:t.tableRowSelected.id)),p("ngStyle",ve(7,Dr,e.expanded===!0?"":"none"))}}function I0(n,a){if(n&1){let e=I();l(0,"div",55)(1,"button",70),E("click",function(){u(e);let t=d();return f(t.onFormCancel())}),h(2,"i",71),c(3),g(4,"translate"),r()()}n&2&&(o(3),S(" ",C(4,1,"ACTION.CANCEL")," "))}var Vn=class Vn extends ci{constructor(e,i,t,s,_,m,U,oe,Ie,ze,We,Ke){super(t,new ea,We,m,Ie);this.data=e;this.dialogRef=i;this.contentService=t;this.cmsToastrService=s;this.cmsStoreService=_;this.tokenHelper=m;this.router=U;this.cdr=oe;this.translate=Ie;this.pageInfo=ze;this.publicHelper=We;this.dialog=Ke;this.requestTitle="";this.requestPropertyId="";this.constructorInfoAreaId=this.constructor.name;this.tablePropertySelected=[];this.filteModelContent=new he;this.filterDataModelQueryBuilder=[];this.formInfo=new Le;this.optionsSearch=new go;this.optionsStatist=new Co;this.tokenInfo=new Vt;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["linkMainImageIdSrc","id","recordStatus","Name","LastName","CompanyName","email","mobile","action_menu"];this.tabledisplayedColumnsMobileSource=["id","recordStatus","Name","LastName","action_menu"];this.fieldsInfo=new Map;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,e&&(e.title&&(this.requestTitle=e.title+""),e.id&&(this.requestPropertyId=e.id+"")),this.optionsSearch.parentMethods={onSubmit:_i=>this.onSubmitOptionsSearch(_i)}}ngOnInit(){this.translate.get("TITLE.QUICK_VIEW").subscribe(e=>{this.formInfo.formTitle=e}),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>Z(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new ea);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.contentService.ServiceGetAllResponsibleUserId(this.requestPropertyId,i).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),t.isSuccess?(this.dataModelResult=t,this.tableSource.data=t.listItems):this.cmsToastrService.typeErrorGetAll(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=Ae.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=Ae.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=Ae.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonReload(){this.DataGetAll()}onActionCopied(){this.cmsToastrService.typeSuccessCopedToClipboard()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/ticketing/departemen/"])}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Vn.\u0275fac=function(i){return new(i||Vn)(v(je),v(Re),v($t),v(F),v(z),v(K),v(Zt),v(H),v(B),v(Qt),v(W),v(re))},Vn.\u0275cmp=O({type:Vn,selectors:[["app-estate-property-responsible-user-list"]],standalone:!1,features:[ge],decls:83,vars:30,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection","loader-container"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionActionRowDisplayMenuAct","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-maximize","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-minimize","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[1,"custom-slide-toggle",3,"ngModelChange","ngModel"],["cms-action-main",""],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","","multiTemplateDataRows","",3,"matSortChange","dataSource"],["matColumnDef","action_menu"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","linkMainImageIdSrc"],["mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","id"],["matColumnDef","linkSiteId"],["matColumnDef","recordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","Name"],["matColumnDef","LastName"],["matColumnDef","CompanyName"],["matColumnDef","email"],["matColumnDef","mobile"],["matColumnDef","createdDate"],["matColumnDef","updatedDate"],["matColumnDef","Action"],["class","Action",4,"matCellDef"],["matColumnDef","expandedTitle"],["matColumnDef","expandedDetail"],[4,"matHeaderRowDef"],["class","ntk-row-expandedTitle",3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["class","ntk-row-expandedDetail",3,"ntk-row-odd","ntk-row-even","ntk-row-selected","ngStyle","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],[1,"ntk-cms-html-card-message"],[3,"formInfo"],[1,"ntk-cms-html-card-footer"],[1,"form-actions"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"click"],[1,"fa","fa-bars","font-18"],["mat-sort-header",""],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],["aria-hidden","","height","80","width","80",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"navi-icon","pointer",3,"click","cdkCopyToClipboard"],[1,"flaticon2-copy"],[1,"ntk-row-expandedTitle",3,"click","rtclick","mouseenter","mouseleave"],[3,"click","rtclick","mouseenter","mouseleave"],[1,"ntk-row-expandedDetail",3,"click","rtclick","mouseenter","mouseleave","ngStyle"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(i,t){if(i&1){let s=I();l(0,"div",3),h(1,"app-progress-spinner",4),l(2,"div",5),c(3),r(),l(4,"div",6)(5,"app-cms-html-list",7),A("optionActionGuideNoticeDisplayChange",function(m){return u(s),w(t.viewGuideNotice,m)||(t.viewGuideNotice=m),f(m)}),E("optionOnActionButtonMemoRow",function(){return u(s),f(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return u(s),f(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return u(s),f(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return u(s),f(t.onActionButtonPrintRow())}),Wt(6,8)(7,9)(8,10),P(9,11),l(10,"a",12),E("click",function(){return u(s),f(t.onActionButtonReload())}),h(11,"i",13),r(),l(12,"a",14),E("click",function(){return u(s),f(t.onActionGridExpandRows(!0))}),h(13,"i",15),r(),l(14,"a",14),E("click",function(){return u(s),f(t.onActionGridExpandRows(!1))}),h(15,"i",16),r(),R(),P(16,17),l(17,"a",18)(18,"mat-slide-toggle",19),A("ngModelChange",function(m){return u(s),w(t.optionsSearch.data.show,m)||(t.optionsSearch.data.show=m),f(m)}),r(),c(19),g(20,"translate"),r(),R(),Wt(21,20)(22,21),P(23,22),l(24,"app-cms-search-list",23),A("optionsChange",function(m){return u(s),w(t.optionsSearch,m)||(t.optionsSearch=m),f(m)}),r(),l(25,"app-cms-statist-list",23),A("optionsChange",function(m){return u(s),w(t.optionsStatist,m)||(t.optionsStatist=m),f(m)}),r(),R(),P(26,24),l(27,"mat-table",25,0),E("matSortChange",function(){u(s);let m=k(28);return f(t.onTableSortData(m))}),P(29,26),L(30,Um,3,3,"mat-header-cell",27)(31,qm,3,0,"mat-cell",28),R(),P(32,29),L(33,jm,3,3,"mat-header-cell",30)(34,Ym,2,1,"mat-cell",28),R(),P(35,31),L(36,zm,2,1,"mat-header-cell",30)(37,Km,2,1,"mat-cell",28),R(),P(38,32),L(39,Jm,2,1,"mat-header-cell",30)(40,Zm,4,5,"mat-cell",28),R(),P(41,33),L(42,Xm,2,1,"mat-header-cell",30)(43,e0,5,7,"mat-cell",34),R(),P(44,35),L(45,t0,2,1,"mat-header-cell",30)(46,i0,2,1,"mat-cell",28),R(),P(47,36),L(48,n0,2,1,"mat-header-cell",30)(49,o0,2,1,"mat-cell",28),R(),P(50,37),L(51,a0,2,1,"mat-header-cell",30)(52,r0,2,1,"mat-cell",28),R(),P(53,38),L(54,l0,2,1,"mat-header-cell",30)(55,s0,2,1,"mat-cell",28),R(),P(56,39),L(57,c0,2,1,"mat-header-cell",30)(58,d0,2,1,"mat-cell",28),R(),P(59,40),L(60,p0,2,1,"mat-header-cell",30)(61,m0,3,3,"mat-cell",28),R(),P(62,41),L(63,u0,2,1,"mat-header-cell",30)(64,f0,3,3,"mat-cell",28),R(),P(65,42),L(66,_0,3,3,"mat-header-cell",27)(67,h0,6,1,"mat-cell",43),R(),P(68,44),L(69,g0,4,6,"mat-cell",28),R(),P(70,45),L(71,S0,37,15,"mat-cell",28),R(),L(72,y0,1,0,"mat-header-row",46)(73,M0,1,6,"mat-row",47)(74,v0,1,6,"mat-row",48)(75,E0,1,9,"mat-row",49),r(),R(),P(76,50),l(77,"mat-paginator",51,1),E("page",function(m){return u(s),f(t.onTablePageingData(m))}),r(),R(),r()(),l(79,"div",52),h(80,"app-cms-form-result-message",53),r(),l(81,"div",54),y(82,I0,5,3,"div",55),r()()}i&2&&(o(),p("optionsInfoAreaId",t.constructorInfoAreaId),o(2),S(" ",t.formInfo.formTitle," "),o(2),p("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),T("optionActionGuideNoticeDisplay",t.viewGuideNotice),p("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionActionRowDisplayMenuAct",t.tableRowSelectActionMenuClick)("optionSelectRowItemTitle",(t.tableRowSelected==null||t.tableRowSelected.username==null?null:t.tableRowSelected.username.length)>0?t.tableRowSelected==null?null:t.tableRowSelected.username:t.tableRowSelected==null?null:t.tableRowSelected.id),o(13),T("ngModel",t.optionsSearch.data.show),o(),S("",C(20,25,"ACTION.SEARCH")," "),o(5),T("options",t.optionsSearch),o(),T("options",t.optionsStatist),o(2),p("dataSource",t.tableSource),o(45),p("matHeaderRowDef",t.tabledisplayedColumns),o(),p("matRowDefColumns",Me(27,Hm)),o(),p("matRowDefColumns",t.tabledisplayedColumns),o(),p("matRowDefColumns",Me(28,Nm)),o(2),p("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",Me(29,Gm)),o(3),p("formInfo",t.formInfo),o(2),M(t.formInfo.submitButtonEnabled?82:-1))},dependencies:[fe,be,$,Te,_t,ke,ee,ti,ii,ni,oi,ai,ri,vt,It,At,bt,Et,xt,Tt,wt,Pt,Rt,ei,di,pi,G,De,mi,ui,an,_e,N,rn,ne,Xa,ln,sn],encapsulation:2});var jo=Vn;var b0=["tagInput"];function T0(n,a){if(n&1){let e=I();l(0,"mat-chip",8),E("removed",function(){let t=u(e).$implicit,s=d();return f(s.remove(t))}),c(1),l(2,"button",9)(3,"mat-icon"),c(4,"cancel"),r()()()}if(n&2){let e=a.$implicit;o(),S(" ",e.display," ")}}function w0(n,a){if(n&1&&(l(0,"mat-option",7),c(1),r()),n&2){let e=a.$implicit,i=d();p("value",e)("ngClass",i.optionCssClassSelectOption),o(),S(" ",e.display," ")}}var Hi=class Hi{constructor(a,e,i,t){this.service=a;this.cmsToastrService=e;this.publicHelper=i;this.translate=t;this.id=++Hi.nextId;this.constructorInfoAreaId=this.constructor.name;this.optionDisabled=!1;this.optionPlaceholder="+ Tag";this.optionLabel="";this.optionCssClassInputText="";this.optionCssClassSelectOption="";this.optionChange=new xe;this.tagDataModel=[];this.tagLastDataModel=[];this.selectForceStatus=!0;this.separatorKeysCodes=[13];this.tagCtrl=new qe("");this.addOnBlur=!0;this.filteredOptions=this.tagCtrl.valueChanges.pipe(dt(null),ct(400),pt(s=>this.filter(s||"")))}set optionSelectForce(a){this.onActionSelectForce(a)}ngOnInit(){(!this.optionLabel||this.optionLabel.length==0&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder)}displayOption(a){return a&&a.virtual_Parent&&a.virtual_Parent.title.length>0&&a.virtual_Parent.virtual_Parent&&a.virtual_Parent.virtual_Parent.title.length>0&&a.virtual_Parent.virtual_Parent.virtual_Parent&&a.virtual_Parent.virtual_Parent.virtual_Parent.title.length>0?a.virtual_Parent.virtual_Parent.virtual_Parent.titleML+" > "+a.virtual_Parent.virtual_Parent.titleML+" > "+a.virtual_Parent.titleML+" > "+a.titleML:a&&a.virtual_Parent&&a.virtual_Parent.title.length>0&&a.virtual_Parent.virtual_Parent&&a.virtual_Parent.virtual_Parent.title.length>0?a.virtual_Parent.virtual_Parent.titleML+" > "+a.virtual_Parent.titleML+" > "+a.titleML:a&&a.virtual_Parent&&a.virtual_Parent.title.length>0?a.virtual_Parent.titleML+" > "+a.titleML:a?a.titleML:void 0}filter(a){let e=new he;e.rowPerPage=20,e.accessLoad=!0;let i=new D;i.propertyName="title",i.value=a,i.searchType=Q.Contains,i.clauseType=Y.Or,e.filters.push(i),i=new D,i.propertyName="TitleResourceLanguage",i.value=a,i.searchType=Q.Contains,i.clauseType=Y.Or,e.filters.push(i),i=new D,i.propertyName="id",i.value=a,i.searchType=Q.Equal,i.clauseType=Y.Or,e.filters.push(i);let t=this.constructor.name+"main";return this.translate.get("MESSAGE.Receiving_information").subscribe(s=>{this.publicHelper.processService.processStart(t,s,this.constructorInfoAreaId)}),this.service.ServiceGetAll(e).pipe(st(s=>(this.tagLastDataModel=s.listItems.map(_=>({display:this.displayOption(_),value:_.id})),this.publicHelper.processService.processStop(t),this.tagLastDataModel)))}checkIndex(a){var e=0,i=-1;return this.tagDataModel.forEach(t=>{t.value==a&&(i=e),e++}),i}add(a){var e;a.value&&this.tagLastDataModel.forEach(i=>{(i.display==a.value||i.value+""==a.value)&&(e=i)}),e&&this.checkIndex(e.value)<0&&(this.tagDataModel.push(e),this.onActionChange()),a.chipInput.clear(),this.tagCtrl.setValue(null)}remove(a){let e=this.checkIndex(a.value);e>=0&&(this.tagDataModel.splice(e,1),this.onActionChange())}selected(a){let e=a.option.value;this.checkIndex(e.value)<0&&this.tagDataModel.push(e),this.tagInput.nativeElement.value="",this.tagCtrl.setValue(null),this.onActionChange()}onActionChange(){let a=[];this.tagDataModel.forEach(e=>{a.findIndex(i=>i==e.value)<0&&a.push(e.value)}),this.selectForceStatus=!1,this.optionChange.emit(a)}onActionSelectForce(a){if(!this.selectForceStatus||!a||a.length===0)return;let e=new he;a.forEach(i=>{if(i>0){let t=new D;t.propertyName="id",t.value=i,t.clauseType=Y.Or,e.filters.push(t)}}),this.service.ServiceGetAll(e).subscribe({next:i=>{i.isSuccess?i.listItems.forEach(t=>{this.tagDataModel.findIndex(s=>s.value==t.id)<0&&this.tagDataModel.push({value:t.id,display:this.displayOption(t)})}):this.cmsToastrService.typeErrorGetAll(i.errorMessage)},error:i=>{this.cmsToastrService.typeErrorGetAll(i)}})}};Hi.nextId=0,Hi.\u0275fac=function(e){return new(e||Hi)(v(ha),v(F),v(W),v(B))},Hi.\u0275cmp=O({type:Hi,selectors:[["app-cms-location-autocomplete"]],viewQuery:function(e,i){if(e&1&&He(b0,5),e&2){let t;Ne(t=Ge())&&(i.tagInput=t.first)}},inputs:{optionDisabled:"optionDisabled",optionPlaceholder:"optionPlaceholder",optionLabel:"optionLabel",optionCssClassInputText:"optionCssClassInputText",optionCssClassSelectOption:"optionCssClassSelectOption",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange"},standalone:!1,decls:14,vars:11,consts:[["chipList",""],["tagInput",""],["auto","matAutocomplete"],["appearance","fill",2,"width","100%"],["aria-label","tag selection",3,"disabled"],[3,"matChipInputTokenEnd","placeholder","matChipInputAddOnBlur","formControl","ngClass","matAutocomplete","matChipInputFor","matChipInputSeparatorKeyCodes"],[3,"optionSelected"],[3,"value","ngClass"],[3,"removed"],["type","button","matChipRemove",""]],template:function(e,i){if(e&1){let t=I();l(0,"mat-form-field",3)(1,"mat-label"),c(2),r(),l(3,"mat-chip-grid",4,0),Se(5,T0,5,1,"mat-chip",null,Ce),l(7,"input",5,1),E("matChipInputTokenEnd",function(_){return u(t),f(i.add(_))}),r()(),l(9,"mat-autocomplete",6,2),E("optionSelected",function(_){return u(t),f(i.selected(_))}),Se(11,w0,2,3,"mat-option",7,Ce),g(13,"async"),r()()}if(e&2){let t=k(4),s=k(10);o(2),b(i.optionLabel),o(),p("disabled",i.optionDisabled),o(2),ye(i.tagDataModel),o(2),p("placeholder"," + "+i.optionPlaceholder)("matChipInputAddOnBlur",i.addOnBlur)("formControl",i.tagCtrl)("ngClass",i.optionCssClassInputText)("matAutocomplete",s)("matChipInputFor",t)("matChipInputSeparatorKeyCodes",i.separatorKeysCodes),o(4),ye(C(13,9,i.filteredOptions))}},dependencies:[fe,ie,$,tt,ut,mt,ft,xa,Pa,Ra,Aa,mo,po,ke,_e],encapsulation:2});var Lt=Hi;var On=class On{constructor(a,e,i,t,s,_,m,U){this.headerService=a;this.publicHelper=e;this.cdr=i;this.tokenHelper=t;this.cmsStoreService=s;this.cmsToastrService=_;this.dialog=m;this.translate=U;this.constructorInfoAreaId=this.constructor.name;this.optionId="";this.dataModelResult=new j;this.fieldsInfo=new Map;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr}ngOnInit(){this.optionId.length>0&&(this.DataGetOneContent(),this.unsubscribe.push(this.cmsStoreService.getState(a=>a.tokenInfoStore).subscribe(()=>Z(this,null,function*(){this.DataGetOneContent()}))))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(a=>a.unsubscribe())}DataGetOneContent(){let a=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(a,e,this.constructorInfoAreaId)}),this.headerService.setAccessLoad(),this.headerService.ServiceGetOneById(this.optionId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),e.isSuccess?this.dataModelResult=e:this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(a)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(a,!1)}})}};On.\u0275fac=function(e){return new(e||On)(v(Ea),v(W),v(H),v(K),v(z),v(F),v(re),v(B))},On.\u0275cmp=O({type:On,selectors:[["app-estate-property-company-header"]],inputs:{optionId:"optionId"},standalone:!1,decls:27,vars:9,consts:[[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content"],[1,"table"],[1,"tr"],[1,"td","small-width"],[1,"svg-icon","svg-icon-3x","svg-icon-primary",3,"inlineSVG"],[1,"td","large-width",2,"color","darkblue"],[1,"td",2,"text-align","left"],[1,"td","large-width"],[1,"td"],[2,"clear","both"],[1,"divider","divider-margins"]],template:function(e,i){e&1&&(l(0,"div",0),h(1,"app-progress-spinner",1),l(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),h(6,"span",6),r(),l(7,"div",7)(8,"h5")(9,"b"),c(10),g(11,"translate"),r()()(),h(12,"div",8),r(),l(13,"div",4)(14,"div",5),c(15),r(),l(16,"div",9),c(17),r(),h(18,"div",10)(19,"div",11),r(),l(20,"div",4)(21,"div",5),c(22),r(),l(23,"div",9),c(24),r(),h(25,"div",11),r()()()(),h(26,"div",12)),e&2&&(o(),p("optionsInfoAreaId",i.constructorInfoAreaId),o(5),p("inlineSVG","./assets/media/svg/icons/Communication/Flag.svg"),o(4),b(C(11,7,"TITLE.Selected_Company")),o(5),S("",i.fieldsInfo.id==null?null:i.fieldsInfo.id.fieldTitle," :"),o(2),b(i.dataModelResult==null||i.dataModelResult.item==null?null:i.dataModelResult.item.id),o(5),S(" ",i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle," : "),o(2),b(i.dataModelResult==null||i.dataModelResult.item==null?null:i.dataModelResult.item.title))},dependencies:[G,ht,N],styles:[".table[_ngcontent-%COMP%]{display:table;border:1px solid #40a1f5;padding:2px;background:#fff;border-radius:5px}.table[_ngcontent-%COMP%]   .th[_ngcontent-%COMP%]{display:table-row;background-color:#40a1f577;color:#fff;font-weight:700}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f9f9f9}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]{display:table-row;border-bottom:1px solid #000}.table[_ngcontent-%COMP%]   .td[_ngcontent-%COMP%]{display:table-cell;padding:15px;border-bottom:1px solid #40a1f5;color:#3d7c7a}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:last-child   .td[_ngcontent-%COMP%]{border:0}.small-width[_ngcontent-%COMP%]{width:90px}.large-width[_ngcontent-%COMP%]{width:400px}.clear[_ngcontent-%COMP%]{clear:both}"]});var Qo=On;var x0=()=>["expandedTitle"],P0=()=>["expandedDetail"],R0=()=>[5,10,20,100],Or=n=>({display:n}),k0=n=>({background:n});function L0(n,a){if(n&1&&h(0,"app-core-user-header",15),n&2){let e=d();p("optionId",e.requestLinkUserId)}}function D0(n,a){if(n&1&&h(0,"app-estate-billboard-header",15),n&2){let e=d();p("optionId",e.requestLinkBillboardId)}}function V0(n,a){if(n&1&&h(0,"app-estate-contract-type-header",15),n&2){let e=d();p("optionId",e.requestLinkContractTypeId)}}function O0(n,a){if(n&1&&h(0,"app-estate-customer-order-header",15),n&2){let e=d();p("optionId",e.requestLinkCustomerOrderId)}}function B0(n,a){if(n&1&&h(0,"app-estate-property-type-landuse-header",15),n&2){let e=d();p("optionId",e.requestLinkPropertyTypeLanduseId)}}function F0(n,a){if(n&1&&h(0,"app-estate-property-type-usage-header",15),n&2){let e=d();p("optionId",e.requestLinkPropertyTypeUsageId)}}function W0(n,a){if(n&1&&h(0,"app-estate-property-project-header",15),n&2){let e=d();p("optionId",e.requestLinkProjectId)}}function H0(n,a){if(n&1&&h(0,"app-estate-property-company-header",15),n&2){let e=d();p("optionId",e.requestLinkCompanyId)}}function N0(n,a){if(n&1){let e=I();l(0,"a",87),E("click",function(){u(e);let t=d();return f(t.onActionBackToParent())}),h(1,"i",88),r()}}function G0(n,a){if(n&1){let e=I();l(0,"div",33)(1,"a",89),E("click",function(t){u(e);let s=d();return f(s.onActionButtonNewRow(t))}),h(2,"i",90)(3,"br"),r(),l(4,"p",36),c(5),g(6,"translate"),r()()}n&2&&(o(5),S(" ",C(6,1,"ACTION.ADD")," "))}function U0(n,a){if(n&1){let e=I();l(0,"div",33)(1,"a",91),E("click",function(t){u(e);let s=d();return f(s.onActionButtonQuickAddRow(t))}),h(2,"i",90)(3,"br"),r(),l(4,"p",36),c(5),g(6,"translate"),r()()}n&2&&(o(5),S(" ",C(6,1,"ACTION.QUICK_ADD")," "))}function q0(n,a){if(n&1){let e=I();l(0,"div",33)(1,"a",92),E("click",function(t){u(e);let s=d();return f(s.onActionButtonEditRow(s.tableRowSelected,t))}),h(2,"i",93)(3,"br"),r(),l(4,"p",36),c(5),g(6,"translate"),r()()}n&2&&(o(5),S(" ",C(6,1,"ACTION.EDIT")," "))}function j0(n,a){if(n&1){let e=I();l(0,"div",33)(1,"a",94),E("click",function(){u(e);let t=d();return f(t.onActionButtonDeleteRow(t.tableRowSelected))}),h(2,"i",95)(3,"br"),r(),l(4,"p",36),c(5),g(6,"translate"),r()()}n&2&&(o(5),S(" ",C(6,1,"ACTION.DELETE")," "))}function Q0(n,a){if(n&1){let e=I();l(0,"div",33)(1,"a",23),E("click",function(){u(e);let t=d();return f(t.onActionButtonActionSendSmsToCustomerOrder())}),h(2,"i",96)(3,"br"),r(),l(4,"p",36),c(5),g(6,"translate"),r()()}n&2&&(o(5),S(" ",C(6,1,"ACTION.ActionSendSmsToCustomerOrder")," "))}function Y0(n,a){if(n&1){let e=I();l(0,"div",33)(1,"a",23),E("click",function(t){u(e);let s=d();return f(s.onActionButtonAdsRow(s.tableRowSelected,t))}),h(2,"i",97)(3,"br"),r(),l(4,"p",36),c(5),g(6,"translate"),r()()}n&2&&(o(5),S(" ",C(6,1,"ACTION.ADS")," "))}function z0(n,a){if(n&1&&(l(0,"button",39),c(1),g(2,"translate"),r()),n&2){let e=d();p("routerLink",x("/core/site/edit/"+(e.tableRowSelected==null?null:e.tableRowSelected.linkSiteId))),o(),S(" ",C(2,3,"ACTION.VIEW_SITE")," ")}}function K0(n,a){if(n&1){let e=I();l(0,"mat-icon",98),E("click",function(){u(e);let t=d();return f(t.filteModelContent.caseCode="")}),c(1," close"),r()}}function J0(n,a){if(n&1){let e=I();l(0,"app-cms-user-selector",100),g(1,"translate"),E("optionChange",function(t){u(e);let s=d(2);return f(s.filteModelContent.linkResponsibleUserId=t==null?null:t.id)}),r()}n&2&&p("optionPlaceholder",C(1,1,"TITLE.InResponsibleTo"))}function Z0(n,a){if(n&1){let e=I();l(0,"div",102)(1,"label",108),c(2),r(),l(3,"input",109,3),A("ngModelChange",function(t){u(e);let s=d(2);return w(s.filteModelContent.createdYaer,t)||(s.filteModelContent.createdYaer=t),f(t)}),r()()}if(n&2){let e=d(2);o(2),b(e.PropertyTypeSelected.titleCreatedYaer),o(),p("placeholder",x(e.fieldsInfo.createdYaer==null?null:e.fieldsInfo.createdYaer.fieldTitle)),T("ngModel",e.filteModelContent.createdYaer)}}function X0(n,a){if(n&1){let e=I();l(0,"div",102)(1,"label",110),c(2),r(),l(3,"input",111,4),A("ngModelChange",function(t){u(e);let s=d(2);return w(s.filteModelContent.partition,t)||(s.filteModelContent.partition=t),f(t)}),r()()}if(n&2){let e=d(2);o(2),b(e.PropertyTypeSelected.titlePartition),o(),p("placeholder",x(e.PropertyTypeSelected.titlePartition)),T("ngModel",e.filteModelContent.partition)}}function $0(n,a){if(n&1){let e=I();l(0,"div",102)(1,"label",112),c(2),r(),l(3,"input",113,5),A("ngModelChange",function(t){u(e);let s=d(2);return w(s.filteModelContent.area,t)||(s.filteModelContent.area=t),f(t)}),r(),l(5,"em"),c(6),r()()}if(n&2){let e=d(2);o(2),b(e.fieldsInfo.area==null?null:e.fieldsInfo.area.fieldTitle),o(),p("placeholder",x(e.fieldsInfo.area==null?null:e.fieldsInfo.area.fieldTitle)),T("ngModel",e.filteModelContent.area),o(3),b(e.fieldsInfo.area==null?null:e.fieldsInfo.area.fieldDescription)}}function eu(n,a){if(n&1){let e=I();l(0,"div",102)(1,"label",114),c(2),g(3,"translate"),r(),l(4,"input",115,6),A("ngModelChange",function(t){u(e);let s=d(2);return w(s.filteModelContent.salePriceMin,t)||(s.filteModelContent.salePriceMin=t),f(t)}),r()()}if(n&2){let e=d(2);o(2),b(C(3,2,"TITLE.SalePriceMin")),o(2),T("ngModel",e.filteModelContent.salePriceMin)}}function tu(n,a){if(n&1){let e=I();l(0,"div",102)(1,"label",116),c(2),g(3,"translate"),r(),l(4,"input",117,7),A("ngModelChange",function(t){u(e);let s=d(2);return w(s.filteModelContent.rentPriceMin,t)||(s.filteModelContent.rentPriceMin=t),f(t)}),r()()}if(n&2){let e=d(2);o(2),b(C(3,2,"TITLE.RentPriceMin")),o(2),T("ngModel",e.filteModelContent.rentPriceMin)}}function iu(n,a){if(n&1){let e=I();l(0,"div",102)(1,"label",118),c(2),g(3,"translate"),r(),l(4,"input",119,8),A("ngModelChange",function(t){u(e);let s=d(2);return w(s.filteModelContent.depositPriceMin,t)||(s.filteModelContent.depositPriceMin=t),f(t)}),r()()}if(n&2){let e=d(2);o(2),b(C(3,2,"TITLE.DepositPriceMin")),o(2),T("ngModel",e.filteModelContent.depositPriceMin)}}function nu(n,a){if(n&1){let e=I();l(0,"div",102)(1,"label",120),c(2),g(3,"translate"),r(),l(4,"input",121,9),A("ngModelChange",function(t){u(e);let s=d(2);return w(s.filteModelContent.periodPriceMin,t)||(s.filteModelContent.periodPriceMin=t),f(t)}),r()()}if(n&2){let e=d(2);o(2),b(C(3,2,"TITLE.PeriodPriceMin")),o(2),T("ngModel",e.filteModelContent.periodPriceMin)}}function ou(n,a){if(n&1){let e=I();l(0,"div",102)(1,"label",122),c(2),g(3,"translate"),r(),l(4,"input",123,10),A("ngModelChange",function(t){u(e);let s=d(2);return w(s.filteModelContent.salePriceMax,t)||(s.filteModelContent.salePriceMax=t),f(t)}),r()()}if(n&2){let e=d(2);o(2),b(C(3,2,"TITLE.SalePriceMax")),o(2),T("ngModel",e.filteModelContent.salePriceMax)}}function au(n,a){if(n&1){let e=I();l(0,"div",102)(1,"label",124),c(2),g(3,"translate"),r(),l(4,"input",125,11),A("ngModelChange",function(t){u(e);let s=d(2);return w(s.filteModelContent.rentPriceMax,t)||(s.filteModelContent.rentPriceMax=t),f(t)}),r()()}if(n&2){let e=d(2);o(2),S("",C(3,2,"TITLE.RentPriceMax")," "),o(2),T("ngModel",e.filteModelContent.rentPriceMax)}}function ru(n,a){if(n&1){let e=I();l(0,"div",102)(1,"label",126),c(2),g(3,"translate"),r(),l(4,"input",127,12),A("ngModelChange",function(t){u(e);let s=d(2);return w(s.filteModelContent.depositPriceMax,t)||(s.filteModelContent.depositPriceMax=t),f(t)}),r()()}if(n&2){let e=d(2);o(2),b(C(3,2,"TITLE.DepositPriceMax")),o(2),T("ngModel",e.filteModelContent.depositPriceMax)}}function lu(n,a){if(n&1){let e=I();l(0,"div",102)(1,"label",128),c(2),g(3,"translate"),r(),l(4,"input",129,13),A("ngModelChange",function(t){u(e);let s=d(2);return w(s.filteModelContent.periodPriceMax,t)||(s.filteModelContent.periodPriceMax=t),f(t)}),r()()}if(n&2){let e=d(2);o(2),b(C(3,2,"TITLE.PeriodPriceMax")),o(2),T("ngModel",e.filteModelContent.periodPriceMax)}}function su(n,a){if(n&1){let e=I();l(0,"div",43),h(1,"i",134),c(2,"\xA0 "),l(3,"app-input-string",135),A("modelChange",function(t){u(e);let s=d().$implicit,_=d(3);return w(_.propertyDetails[s.id],t)||(_.propertyDetails[s.id]=t),f(t)}),r()()}if(n&2){let e=d().$implicit,i=d(3);o(),Qe("color",e.iconColor),p("ngClass",e.iconFont),o(2),Ni(we("color:'",e.iconColor,"';")),T("model",i.propertyDetails[e.id]),p("optionForceUseDefaultValue",e.configValueForceUseDefaultValue)("optionMultipleChoice",e.configValueMultipleChoice)("optionDefaultValue",e.configValueDefaultValues)("optionRequired",e.required)("optionLabel",e.title)}}function cu(n,a){if(n&1){let e=I();l(0,"div",43),h(1,"i",134),c(2,"\xA0 "),l(3,"app-input-int",136),A("modelChange",function(t){u(e);let s=d().$implicit,_=d(3);return w(_.propertyDetails[s.id],t)||(_.propertyDetails[s.id]=t),f(t)}),r()()}if(n&2){let e=d().$implicit,i=d(3);o(),Qe("color",e.iconColor),p("ngClass",e.iconFont),o(2),Ni(we("color:'",e.iconColor,"';")),T("model",i.propertyDetails[e.id]),p("optionRequired",e.required)("optionLabel",e.title)}}function du(n,a){if(n&1){let e=I();l(0,"div",43),h(1,"i",134),c(2,"\xA0 "),l(3,"app-input-boolean",137),A("modelChange",function(t){u(e);let s=d().$implicit,_=d(3);return w(_.propertyDetails[s.id],t)||(_.propertyDetails[s.id]=t),f(t)}),c(4),r()()}if(n&2){let e=d().$implicit,i=d(3);o(),Qe("color",e.iconColor),p("ngClass",e.iconFont),o(2),T("model",i.propertyDetails[e.id]),o(),S("",e.title," ")}}function pu(n,a){if(n&1){let e=I();l(0,"div",43),h(1,"i",134),c(2,"\xA0 "),l(3,"app-input-float",136),A("modelChange",function(t){u(e);let s=d().$implicit,_=d(3);return w(_.propertyDetails[s.id],t)||(_.propertyDetails[s.id]=t),f(t)}),r()()}if(n&2){let e=d().$implicit,i=d(3);o(),Qe("color",e.iconColor),p("ngClass",e.iconFont),o(2),Ni(we("color:'",e.iconColor,"';")),T("model",i.propertyDetails[e.id]),p("optionRequired",e.required)("optionLabel",e.title)}}function mu(n,a){if(n&1){let e=I();l(0,"div",43),h(1,"i",134),c(2,"\xA0 "),l(3,"label"),c(4),r(),l(5,"app-input-date",138),A("modelChange",function(t){u(e);let s=d().$implicit,_=d(3);return w(_.propertyDetails[s.id],t)||(_.propertyDetails[s.id]=t),f(t)}),r()()}if(n&2){let e=d().$implicit,i=d(3);o(),Qe("color",e.iconColor),p("ngClass",e.iconFont),o(2),Ni(we("color:'",e.iconColor,"';")),o(),b(e.title),o(),T("model",i.propertyDetails[e.id]),p("optionRequired",e.required)}}function uu(n,a){if(n&1){let e=I();l(0,"div",43),h(1,"i",134),c(2,"\xA0 "),l(3,"app-input-textarea",136),A("modelChange",function(t){u(e);let s=d().$implicit,_=d(3);return w(_.propertyDetails[s.id],t)||(_.propertyDetails[s.id]=t),f(t)}),r()()}if(n&2){let e=d().$implicit,i=d(3);o(),Qe("color",e.iconColor),p("ngClass",e.iconFont),o(2),Ni(we("color:'",e.iconColor,"';")),T("model",i.propertyDetails[e.id]),p("optionRequired",e.required)("optionLabel",e.title)}}function fu(n,a){if(n&1){let e=I();l(0,"div",43),h(1,"i",134),c(2,"\xA0 "),l(3,"app-input-string",135),A("modelChange",function(t){u(e);let s=d().$implicit,_=d(3);return w(_.propertyDetails[s.id],t)||(_.propertyDetails[s.id]=t),f(t)}),r()()}if(n&2){let e=d().$implicit,i=d(3);o(),Qe("color",e.iconColor),p("ngClass",e.iconFont),o(2),Ni(we("color:'",e.iconColor,"';")),T("model",i.propertyDetails[e.id]),p("optionForceUseDefaultValue",e.configValueForceUseDefaultValue)("optionMultipleChoice",e.configValueMultipleChoice)("optionDefaultValue",e.configValueDefaultValues)("optionRequired",e.required)("optionLabel",e.title)}}function _u(n,a){if(n&1&&y(0,su,4,12,"div",43)(1,cu,4,9,"div",43)(2,du,5,5,"div",43)(3,pu,4,9,"div",43)(4,mu,6,9,"div",43)(5,uu,4,9,"div",43)(6,fu,4,12,"div",43),n&2){let e,i=a.$implicit,t=d(3);M((e=i.inputDataType)===t.enumInputDataType.String?0:e===t.enumInputDataType.Int?1:e===t.enumInputDataType.Boolean?2:e===t.enumInputDataType.Float?3:e===t.enumInputDataType.Date?4:e===t.enumInputDataType.TextArea?5:6)}}function hu(n,a){if(n&1){let e=I();l(0,"button",139),E("click",function(){u(e);let t=d(3);return f(t.prevStep())}),c(1),g(2,"translate"),r()}n&2&&(o(),S(" ",C(2,1,"ACTION.PREVIOUS")," "))}function gu(n,a){if(n&1){let e=I();l(0,"button",140),E("click",function(){u(e);let t=d(3);return f(t.nextStep())}),c(1),g(2,"translate"),r()}n&2&&(o(),S(" ",C(2,1,"ACTION.NEXT")," "))}function Cu(n,a){if(n&1){let e=I();l(0,"button",140),E("click",function(){u(e);let t=d(3);return f(t.nextStep())}),c(1),g(2,"translate"),r()}n&2&&(o(),S(" ",C(2,1,"ACTION.END")," "))}function Su(n,a){if(n&1){let e=I();l(0,"mat-expansion-panel",130),E("opened",function(){let t=u(e).$index,s=d(2);return f(s.setStep(t))}),l(1,"mat-expansion-panel-header")(2,"mat-panel-title"),c(3),r(),l(4,"mat-panel-description"),c(5),l(6,"mat-icon",131),c(7),r()()(),Se(8,_u,7,1,null,null,Ce),l(10,"mat-action-row"),y(11,hu,3,3,"button",132),y(12,gu,3,3,"button",133),y(13,Cu,3,3,"button",133),r()()}if(n&2){let e=a.$implicit,i=a.$index,t=d(2);p("expanded",t.step===i),o(3),S(" ",e.title," "),o(2),S(" ",e.description," "),o(2),b(e.iconFont),o(),ye(e.propertyDetails),o(3),M(i>0?11:-1),o(),M(i+1<t.dataModelPropertyDetailGroups.length?12:-1),o(),M(i+1===t.dataModelPropertyDetailGroups.length?13:-1)}}function yu(n,a){if(n&1){let e=I();l(0,"div")(1,"P"),c(2),g(3,"translate"),r(),y(4,J0,2,3,"app-cms-user-selector",99),l(5,"app-cms-location-autocomplete",100),g(6,"translate"),E("optionChange",function(t){u(e);let s=d();return f(s.onActionSelectorLocation(t))}),r(),h(7,"hr"),l(8,"app-estate-property-type-usage-selector",101),g(9,"translate"),E("optionChange",function(t){u(e);let s=d();return f(s.onActionSelectorSelectUsage(t))}),r(),h(10,"br")(11,"br")(12,"br"),l(13,"app-estate-property-type-landuse-selector",101),g(14,"translate"),E("optionChange",function(t){u(e);let s=d();return f(s.onActionSelectorSelectLanduse(t))}),r(),h(15,"br")(16,"br")(17,"br"),l(18,"app-estate-contract-type-selector",101),g(19,"translate"),E("optionChange",function(t){u(e);let s=d();return f(s.onActionSelectorContarctType(t))}),r(),h(20,"br")(21,"br")(22,"br"),y(23,Z0,5,4,"div",102),y(24,X0,5,4,"div",102),y(25,$0,7,5,"div",102),h(26,"hr"),l(27,"app-cms-currency-selector",103),g(28,"translate"),E("optionChange",function(t){u(e);let s=d();return f(s.onActionSelectCurrency(t))}),r(),l(29,"div",104)(30,"div",105),y(31,eu,6,4,"div",102),y(32,tu,6,4,"div",102),y(33,iu,6,4,"div",102),y(34,nu,6,4,"div",102),r(),l(35,"div",105),y(36,ou,6,4,"div",102),y(37,au,6,4,"div",102),y(38,ru,6,4,"div",102),y(39,lu,6,4,"div",102),r(),l(40,"mat-accordion",106),Se(41,Su,14,7,"mat-expansion-panel",107,Ce),h(43,"br"),r()()()}if(n&2){let e=d();o(2),S("",C(3,23,"MESSAGE.Selecting_any_of_the_following_will_make_the_search_results_range_smaller")," "),o(2),M(e.tokenHelper.isAdminSite?4:-1),o(),p("optionPlaceholder",C(6,25,"TITLE.Region")),o(3),p("optionTypeView",2)("optionPlaceholder",C(9,27,"TITLE.Type_Usage")),o(5),p("optionTypeView",2)("optionPlaceholder",C(14,29,"TITLE.Property_Type")),o(5),p("optionTypeView",2)("optionPlaceholder",C(19,31,"TITLE.Transaction_type")),o(5),M(e.filteModelContent.linkPropertyTypeLanduseId&&(e.PropertyTypeSelected==null||e.PropertyTypeSelected.titleCreatedYaer==null?null:e.PropertyTypeSelected.titleCreatedYaer.length)>1?23:-1),o(),M(e.filteModelContent.linkPropertyTypeLanduseId&&(e.PropertyTypeSelected==null||e.PropertyTypeSelected.titlePartition==null?null:e.PropertyTypeSelected.titlePartition.length)>1?24:-1),o(),M(e.fieldsInfo.area!=null&&e.fieldsInfo.area.accessWatchField?25:-1),o(2),p("optionSelectFirstItem",!1)("optionSelectForce",e.filteModelContent.linkCoreCurrencyId)("optionPlaceholder",C(28,33,"TITLE.Specify_the_transaction_currency")),o(4),M(e.contractTypeSelected!=null&&e.contractTypeSelected.hasSalePrice?31:-1),o(),M(e.contractTypeSelected!=null&&e.contractTypeSelected.hasRentPrice?32:-1),o(),M(e.contractTypeSelected!=null&&e.contractTypeSelected.hasDepositPrice?33:-1),o(),M(e.contractTypeSelected!=null&&e.contractTypeSelected.hasDepositPrice?34:-1),o(2),M(e.contractTypeSelected!=null&&e.contractTypeSelected.hasSalePrice?36:-1),o(),M(e.contractTypeSelected!=null&&e.contractTypeSelected.hasRentPrice?37:-1),o(),M(e.contractTypeSelected!=null&&e.contractTypeSelected.hasDepositPrice?38:-1),o(),M(e.contractTypeSelected!=null&&e.contractTypeSelected.hasDepositPrice?39:-1),o(2),ye(e.dataModelPropertyDetailGroups)}}function Mu(n,a){n&1&&h(0,"mat-header-row")}function vu(n,a){if(n&1){let e=I();l(0,"mat-row",141),E("click",function(t){let s=u(e).$implicit,_=d();return f(_.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=u(e).$implicit,_=d();return f(_.onActionTableRowSelect(s,t))})("mouseenter",function(){let t=u(e).$implicit,s=d();return f(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=u(e).$implicit,s=d();return f(s.onActionTableRowMouseLeave(t))}),r()}if(n&2){let e=a.$implicit,i=d();J("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}function Eu(n,a){if(n&1){let e=I();l(0,"mat-row",142),E("click",function(t){let s=u(e).$implicit,_=d();return f(_.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=u(e).$implicit,_=d();return f(_.onActionTableRowSelect(s,t))})("mouseenter",function(){let t=u(e).$implicit,s=d();return f(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=u(e).$implicit,s=d();return f(s.onActionTableRowMouseLeave(t))}),r()}if(n&2){let e=a.$implicit,i=d();J("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}function Iu(n,a){if(n&1){let e=I();l(0,"mat-row",143),E("click",function(t){let s=u(e).$implicit,_=d();return f(_.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=u(e).$implicit,_=d();return f(_.onActionTableRowSelect(s,t))})("mouseenter",function(){let t=u(e).$implicit,s=d();return f(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=u(e).$implicit,s=d();return f(s.onActionTableRowMouseLeave(t))}),r()}if(n&2){let e=a.$implicit,i=d();J("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)),p("ngStyle",ve(3,Or,e.expanded===!0?"":"none"))}}function bu(n,a){n&1&&(l(0,"mat-header-cell"),c(1),g(2,"translate"),r()),n&2&&(o(),S(" ",C(2,1,"TITLE.MENU")," "))}function Tu(n,a){if(n&1){let e=I();l(0,"mat-cell")(1,"button",144),E("click",function(){let t=u(e).$implicit,s=d();return f(s.onActionTableRowSelectActionMenu(t))}),h(2,"i",145),r()()}}function wu(n,a){n&1&&(l(0,"mat-header-cell",146),c(1),g(2,"translate"),r()),n&2&&(o(),S(" ",C(2,1,"TITLE.PICTURE")," "))}function Au(n,a){if(n&1&&(h(0,"img",147),g(1,"cmsthumbnail")),n&2){let e=d().$implicit;p("ngSrc",x(C(1,2,e.linkMainImageIdSrc)))}}function xu(n,a){if(n&1&&(l(0,"mat-cell"),y(1,Au,2,4,"img",147),r()),n&2){let e=a.$implicit;o(),M((e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0?1:-1)}}function Pu(n,a){if(n&1&&(l(0,"mat-header-cell",146),c(1),r()),n&2){let e=d();o(),S(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function Ru(n,a){if(n&1&&(l(0,"mat-cell"),c(1),r()),n&2){let e=a.$implicit;o(),S(" ",e.id," ")}}function ku(n,a){if(n&1&&(l(0,"mat-header-cell",146),c(1),r()),n&2){let e=d();o(),S(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function Lu(n,a){if(n&1&&(l(0,"mat-cell",148),c(1),g(2,"cmssiteinfo"),g(3,"async"),r()),n&2){let e=a.$implicit;o(),S(" ",C(3,3,C(2,1,e.linkSiteId))," ")}}function Du(n,a){if(n&1&&(l(0,"mat-header-cell",146),c(1),r()),n&2){let e=d();o(),S(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function Vu(n,a){if(n&1&&h(0,"select",150),n&2){let e=d().$implicit,i=d();p("contentService",i.contentService)("row",e)("ngStyle",ve(3,Or,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function Ou(n,a){if(n&1&&(l(0,"mat-cell",149),g(1,"statusCellClass"),h(2,"i",149),g(3,"statusIconClass"),y(4,Vu,1,5,"select",150),r()),n&2){let e=a.$implicit,i=d();p("ngClass",C(1,3,e.recordStatus)),o(2),p("ngClass",C(3,5,e.recordStatus)),o(2),M(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessEditRow?4:-1)}}function Bu(n,a){if(n&1&&(l(0,"mat-header-cell",146),c(1),r()),n&2){let e=d();o(),S(" ",e.fieldsInfo.mainAdminRecordStatus==null?null:e.fieldsInfo.mainAdminRecordStatus.fieldTitle," ")}}function Fu(n,a){if(n&1&&(l(0,"mat-cell"),h(1,"i",149),g(2,"adminStatusIconClass"),r()),n&2){let e=a.$implicit;o(),p("ngClass",C(2,1,e.mainAdminRecordStatus))}}function Wu(n,a){if(n&1&&(l(0,"mat-header-cell",146),c(1),r()),n&2){let e=d();o(),S(" ",e.fieldsInfo.isSoldIt==null?null:e.fieldsInfo.isSoldIt.fieldTitle," ")}}function Hu(n,a){if(n&1&&(l(0,"mat-cell"),h(1,"i",149),g(2,"boolclass"),r()),n&2){let e=a.$implicit;o(),p("ngClass",C(2,1,e.isSoldIt))}}function Nu(n,a){if(n&1&&(l(0,"mat-header-cell",146),c(1),r()),n&2){let e=d();o(),S(" ",e.fieldsInfo.viewConfigHiddenInList==null?null:e.fieldsInfo.viewConfigHiddenInList.fieldTitle," ")}}function Gu(n,a){if(n&1&&(l(0,"mat-cell"),h(1,"i",149),g(2,"boolclass"),r()),n&2){let e=a.$implicit;o(),p("ngClass",C(2,1,e.viewConfigHiddenInList))}}function Uu(n,a){if(n&1&&(l(0,"mat-header-cell",146),c(1),r()),n&2){let e=d();o(),S(" ",e.fieldsInfo.viewCount==null?null:e.fieldsInfo.viewCount.fieldTitle," ")}}function qu(n,a){if(n&1&&(l(0,"mat-cell",148),c(1),r()),n&2){let e=a.$implicit;o(),S(" ",e.viewCount," ")}}function ju(n,a){n&1&&(l(0,"mat-header-cell",146),c(1),g(2,"translate"),r()),n&2&&(o(),S(" ",C(2,1,"TITLE.Is_Special")," "))}function Qu(n,a){if(n&1&&(l(0,"mat-cell"),h(1,"i",149),g(2,"boolclass"),r()),n&2){let e=a.$implicit;o(),p("ngClass",C(2,1,e.adsActive))}}function Yu(n,a){if(n&1&&(l(0,"mat-header-cell",146),c(1),r()),n&2){let e=d();o(),S(" ",e.fieldsInfo.caseCode==null?null:e.fieldsInfo.caseCode.fieldTitle," ")}}function zu(n,a){if(n&1&&(l(0,"mat-cell",151),c(1),r()),n&2){let e=a.$implicit;p("ngStyle",ve(3,k0,e.ActiveDataStyle)),o(),ue(" ",e.caseCode," ",e.ActiveDataText)}}function Ku(n,a){if(n&1&&(l(0,"mat-header-cell",146),c(1),r()),n&2){let e=d();o(),S(" ",e.fieldsInfo.scoreEstateLocation==null?null:e.fieldsInfo.scoreEstateLocation.fieldTitle," ")}}function Ju(n,a){if(n&1&&(l(0,"mat-cell",149),c(1),r()),n&2){let e=a.$implicit;p("ngClass","cms-cell-score-"+e.scoreEstateLocation),o(),S(" ",e.scoreEstateLocation," ")}}function Zu(n,a){if(n&1&&(l(0,"mat-header-cell",146),c(1),r()),n&2){let e=d();o(),S(" ",e.fieldsInfo.scoreEstateBuild==null?null:e.fieldsInfo.scoreEstateBuild.fieldTitle," ")}}function Xu(n,a){if(n&1&&(l(0,"mat-cell",149),c(1),r()),n&2){let e=a.$implicit;p("ngClass","cms-cell-score-"+e.scoreEstateBuild),o(),S(" ",e.scoreEstateBuild," ")}}function $u(n,a){if(n&1&&(l(0,"mat-header-cell",146),c(1),r()),n&2){let e=d();o(),S(" ",e.fieldsInfo.scoreEstatePrice==null?null:e.fieldsInfo.scoreEstatePrice.fieldTitle," ")}}function ef(n,a){if(n&1&&(l(0,"mat-cell",149),c(1),r()),n&2){let e=a.$implicit;p("ngClass","cms-cell-score-"+e.scoreEstatePrice),o(),S(" ",e.scoreEstatePrice," ")}}function tf(n,a){if(n&1&&(l(0,"mat-header-cell",146),c(1),r()),n&2){let e=d();o(),S(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function nf(n,a){if(n&1&&(l(0,"mat-cell",152),c(1),g(2,"localeDateTime"),r()),n&2){let e=a.$implicit;o(),S(" ",C(2,1,e.createdDate)," ")}}function of(n,a){if(n&1&&(l(0,"mat-header-cell",146),c(1),r()),n&2){let e=d();o(),S(" ",e.fieldsInfo.updatedDate==null?null:e.fieldsInfo.updatedDate.fieldTitle," ")}}function af(n,a){if(n&1&&(l(0,"mat-cell",152),c(1),g(2,"localeDateTime"),r()),n&2){let e=a.$implicit;o(),S(" ",C(2,1,e.updatedDate)," ")}}function rf(n,a){n&1&&(l(0,"mat-header-cell",153),c(1),g(2,"translate"),r()),n&2&&(o(),S(" ",C(2,1,"TITLE.OPTION")," "))}function lf(n,a){if(n&1&&(l(0,"mat-cell",154)(1,"button",155)(2,"mat-icon"),c(3,"more_vert"),r()(),h(4,"mat-menu",null,14),r()),n&2){let e=k(5);o(),p("matMenuTriggerFor",e)}}function sf(n,a){n&1&&(l(0,"mat-header-cell",146),c(1),g(2,"translate"),r()),n&2&&(o(),S(" ",C(2,1,"TITLE.LINKTO")," "))}function cf(n,a){if(n&1){let e=I();l(0,"mat-cell")(1,"button",156),E("click",function(){let t=u(e).$implicit,s=d();return f(s.onActionButtonLinkTo(t))}),l(2,"mat-icon",157),c(3,"\u2197"),r()()()}}function df(n,a){n&1&&(l(0,"mat-header-cell",146),c(1),g(2,"translate"),r()),n&2&&(o(),S(" ",C(2,1,"TITLE.QUICK_VIEW")," "))}function pf(n,a){if(n&1){let e=I();l(0,"mat-cell")(1,"button",156),E("click",function(){let t=u(e).$implicit,s=d();return f(s.onActionButtonQuickViewRow(t))}),l(2,"mat-icon",157),c(3,"visibility"),r()()()}}function mf(n,a){if(n&1&&(l(0,"mat-cell"),c(1),r()),n&2){let e=a.$implicit;o(),S(" ",e.title," ")}}function uf(n,a){if(n&1&&(h(0,"img",158),g(1,"cmsthumbnail")),n&2){let e=d().$implicit;p("ngSrc",x(C(1,2,e.linkMainImageIdSrc)))}}function ff(n,a){if(n&1&&(l(0,"tr")(1,"td",148),c(2),g(3,"translate"),r(),l(4,"td",148),c(5),r()()),n&2){let e=d().$implicit;o(2),S(" ",C(3,2,"TITLE.SquareMeters")," "),o(3),b(e.area)}}function _f(n,a){if(n&1&&(l(0,"tr")(1,"td",148),c(2),g(3,"translate"),r(),l(4,"td",148),c(5),r()()),n&2){let e=d().$implicit;o(2),S(" ",C(3,2,"TITLE.CreatedYaer")," "),o(3),b(e.createdYaer)}}function hf(n,a){if(n&1){let e=I();l(0,"mat-cell")(1,"div")(2,"table")(3,"tr")(4,"th"),y(5,uf,2,4,"img",158),r(),l(6,"th",148)(7,"span",159),E("click",function(){u(e);let t=d();return f(t.onActionCopied())}),h(8,"i",160),r(),c(9),r()(),l(10,"tr"),h(11,"td"),l(12,"td",148),c(13),r()(),l(14,"tr")(15,"td"),c(16),r(),l(17,"td",148),c(18),r()(),y(19,ff,6,4,"tr"),y(20,_f,6,4,"tr"),l(21,"tr"),h(22,"td"),l(23,"td",148),c(24),r()(),l(25,"tr"),h(26,"td"),l(27,"td",148),c(28),r()(),l(29,"tr")(30,"td",148),c(31),g(32,"translate"),r(),l(33,"td",148),c(34),r()(),l(35,"tr"),h(36,"td"),l(37,"td",148),c(38),g(39,"cmsuserinfo"),g(40,"async"),r()(),l(41,"tr")(42,"td",148),c(43),g(44,"translate"),r(),l(45,"td",148),c(46),r()(),l(47,"tr"),h(48,"td")(49,"td"),r()()()()}if(n&2){let e=a.$implicit,i=d();o(5),M((e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0?5:-1),o(2),p("cdkCopyToClipboard",e.id),o(2),S(" ",e.id," "),o(4),b(e.title),o(3),b(i.fieldsInfo.caseCode==null?null:i.fieldsInfo.caseCode.fieldTitle),o(2),b(e.caseCode),o(),M(e.area&&e.area>0?19:-1),o(),M(e.createdYaer&&e.createdYaer>0?20:-1),o(4),S(" ",e.linkLocationIdParentTitle," "),o(4),b(e.linkLocationIdTitle),o(3),S(" ",C(32,15,"TITLE.ADDRESS")," : "),o(3),b(e.address),o(4),S(" ",C(40,19,C(39,17,e.createdBy))," "),o(5),S(" ",C(44,21,"TITLE.HISTORY")," : "),o(3),b(e.historyTotalCount)}}var Bn=class Bn extends ci{constructor(e,i,t,s,_,m,U,oe,Ie,ze,We,Ke,_i,Dt,rt){super(e,new Gt,_,Ie,Dt);this.contentService=e;this.configService=i;this.themeService=t;this.activatedRoute=s;this.publicHelper=_;this.cmsToastrService=m;this.cmsConfirmationDialogService=U;this.estatePropertyDetailGroupService=oe;this.tokenHelper=Ie;this.cmsStoreService=ze;this.router=We;this.cdr=Ke;this.dialog=_i;this.translate=Dt;this.pageInfo=rt;this.requestLinkPropertyTypeLanduseId="";this.requestLinkPropertyTypeUsageId="";this.requestLinkContractTypeId="";this.requestLinkBillboardId="";this.requestLinkCustomerOrderId="";this.requestLinkCustomerOrderIdHaveHistory="";this.requestLinkProjectId="";this.requestLinkCompanyId="";this.requestLinkEstateExpertId="";this.requestLinkEstateAgencyId="";this.requestLinkUserId=0;this.requestInChecking=!1;this.requestAction="";this.constructorInfoAreaId=this.constructor.name;this.optionloadComponent=!0;this.optionloadByRoute=!0;this.optionsortType=Ae.Descending;this.responsibleUserId=0;this.flag=!1;this.tablePropertySelected=[];this.searchInCheckingChecked=!1;this.searchInResponsibleChecked=!1;this.filteModelContent=new Qi;this.dataModelPropertyDetailGroups=[];this.dataConfigSiteValuesModel=new Ca;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["linkMainImageIdSrc","id","recordStatus","mainAdminRecordStatus","IsSoldIt","ViewConfigHiddenInList","linkSiteId","AdsActive","ViewCount","caseCode","scoreEstateLocation","scoreEstateBuild","scoreEstatePrice","createdDate","updatedDate","LinkTo","QuickView","action_menu"];this.tabledisplayedColumnsMobileSource=["linkMainImageIdSrc","IsSoldIt","caseCode","LinkTo","QuickView","action_menu"];this.propertyDetails=new Map;this.enumInputDataType=to;this.step=0;this.unsubscribe=[];this.actionbuttonExportOn=!1;this.PropertyTypeSelected=new lt;this.dataModelCorCurrencySelector=new eo;if(this.publicHelper.processService.cdr=this.cdr,this.requestLinkPropertyTypeLanduseId=this.activatedRoute.snapshot.paramMap.get("LinkPropertyTypeLanduseId"),this.requestLinkPropertyTypeUsageId=this.activatedRoute.snapshot.paramMap.get("LinkPropertyTypeUsageId"),this.requestLinkContractTypeId=this.activatedRoute.snapshot.paramMap.get("LinkContractTypeId"),this.requestLinkBillboardId=this.activatedRoute.snapshot.paramMap.get("LinkBillboardId"),this.requestLinkCustomerOrderId=this.activatedRoute.snapshot.paramMap.get("LinkCustomerOrderId"),this.requestLinkProjectId=this.activatedRoute.snapshot.paramMap.get("LinkProjectId"),this.requestLinkCompanyId=this.activatedRoute.snapshot.paramMap.get("LinkCompanyId"),this.requestLinkEstateExpertId=this.activatedRoute.snapshot.paramMap.get("LinkEstateExpertId"),this.requestLinkEstateAgencyId=this.activatedRoute.snapshot.paramMap.get("LinkEstateAgencyId"),this.requestLinkUserId=+this.activatedRoute.snapshot.paramMap.get("LinkUserId")|0,this.requestAction=this.activatedRoute.snapshot.paramMap.get("Action"),this.activatedRoute.snapshot.paramMap.get("InChecking")&&(this.searchInCheckingChecked=this.activatedRoute.snapshot.paramMap.get("InChecking")==="true"),this.optionsSearch.parentMethods={onSubmit:V=>this.onSubmitOptionsSearch(V)},this.responsibleUserId=+this.activatedRoute.snapshot.paramMap.get("ResponsibleUserId"),this.requestRecordStatus=Ze[this.activatedRoute.snapshot.paramMap.get("recordStatus")+""],this.requestRecordStatus&&(this.optionsSearch.data.show=!0,this.optionsSearch.data.defaultQuery='{"condition":"and","rules":[{"field":"recordStatus","type":"select","operator":"equal","value":"'+this.requestRecordStatus+'"}]}',this.requestRecordStatus=null),this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=Ae.Descending,this.requestLinkPropertyTypeLanduseId&&this.requestLinkPropertyTypeLanduseId.length>0){let V=new D;V.propertyName="LinkPropertyTypeLanduseId",V.value=this.requestLinkPropertyTypeLanduseId,this.filteModelContent.filters.push(V)}if(this.requestLinkPropertyTypeUsageId&&this.requestLinkPropertyTypeUsageId.length>0){let V=new D;V.propertyName="LinkPropertyTypeUsageId",V.value=this.requestLinkPropertyTypeUsageId,this.filteModelContent.filters.push(V)}if(this.requestLinkContractTypeId&&this.requestLinkContractTypeId.length>0){let V=new D;V.propertyName="Contracts",V.propertyAnyName="LinkEstateContractTypeId",V.value=this.requestLinkContractTypeId,this.filteModelContent.filters.push(V)}if(this.requestLinkUserId&&this.requestLinkUserId>0){let V=new D;V.propertyName="linkCmsUserId",V.value=this.requestLinkUserId,this.filteModelContent.filters.push(V)}if(this.requestLinkProjectId&&this.requestLinkProjectId.length>0){let V=new D;V.propertyName="linkPropertyProjectId",V.value=this.requestLinkProjectId,this.filteModelContent.filters.push(V)}if(this.requestLinkCompanyId&&this.requestLinkCompanyId.length>0){let V=new D;V.propertyName="linkPropertyCompanyId",V.value=this.requestLinkCompanyId,this.filteModelContent.filters.push(V)}if(this.requestLinkEstateExpertId&&this.requestLinkEstateExpertId.length>0){let V=new D;V.propertyName="linkEstateExpertId",V.value=this.requestLinkEstateExpertId,this.filteModelContent.filters.push(V)}if(this.requestLinkEstateAgencyId&&this.requestLinkEstateAgencyId.length>0){let V=new D;V.propertyName="linkEstateAgencyId",V.value=this.requestLinkEstateAgencyId,this.filteModelContent.filters.push(V)}}set optionLinkCustomerOrderId(e){e&&e.length>0&&(this.requestLinkCustomerOrderId=e)}set optionLinkCustomerOrderIdHaveHistory(e){e&&e.length>0&&(this.requestLinkCustomerOrderIdHaveHistory=e)}set optionLinkBillboardId(e){e&&e.length>0&&(this.requestLinkBillboardId=e)}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&(this.tokenInfo?.access?.siteId>0&&this.GetServiceSiteConfig(this.tokenInfo.access.siteId),this.DataGetAll(),!this.tokenHelper.isAdminSite&&!this.tokenHelper.isSupportSite&&(this.tabledisplayedColumnsSource=this.publicHelper.listRemoveIfExist(this.tabledisplayedColumnsSource,"scoreEstateLocation"),this.tabledisplayedColumnsSource=this.publicHelper.listRemoveIfExist(this.tabledisplayedColumnsSource,"scoreEstateBuild"),this.tabledisplayedColumnsSource=this.publicHelper.listRemoveIfExist(this.tabledisplayedColumnsSource,"scoreEstatePrice"))),this.tokenInfo.access.direction,this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>Z(this,null,function*(){this.tokenInfo=e,this.tokenInfo?.access?.siteId>0&&this.GetServiceSiteConfig(this.tokenInfo.access.siteId),this.DataGetAll(),!this.tokenHelper.isAdminSite&&!this.tokenHelper.isSupportSite&&(this.tabledisplayedColumnsSource=this.publicHelper.listRemoveIfExist(this.tabledisplayedColumnsSource,"scoreEstateLocation"),this.tabledisplayedColumnsSource=this.publicHelper.listRemoveIfExist(this.tabledisplayedColumnsSource,"scoreEstateBuild"),this.tabledisplayedColumnsSource=this.publicHelper.listRemoveIfExist(this.tabledisplayedColumnsSource,"scoreEstatePrice"))})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}GetServiceSiteConfig(e){let i=this.constructor.name+"ServiceSiteConfig";this.translate.get("MESSAGE.get_module_setting").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructorInfoAreaId)}),this.configService.ServiceSiteConfig(e).subscribe({next:t=>{t.isSuccess?(this.dataConfigSiteValuesModel=t.item,this.RowStyleActiveData()):this.cmsToastrService.typeErrorGetOne(t.errorMessage),this.publicHelper.processService.processStop(i)},error:t=>{this.cmsToastrService.typeErrorGetOne(t),this.publicHelper.processService.processStop(i,!1)}})}DataGetAll(){if(this.themeService.onActionScrollTopList(!0,1e4),this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),!this.optionloadComponent)return;var e=0;this.searchInResponsibleChecked?e=this.tokenInfo.access.userId:this.responsibleUserId>0&&(e=this.responsibleUserId),this.optionsortType&&(this.filteModelContent.sortType=this.optionsortType),this.tableRowsSelected=[],this.onActionTableRowSelect(new Gt);let i=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(_=>{this.publicHelper.processService.processStart(i,_,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let t=JSON.parse(JSON.stringify(this.filteModelContent));if(this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(t.filters=[...this.filterDataModelQueryBuilder]),this.categoryModelSelected&&this.categoryModelSelected.id&&this.categoryModelSelected.id.length>0){let _=new D;_.propertyName="LinkPropertyTypeLanduseId",_.value=this.categoryModelSelected.id,t.filters.push(_)}if(this.searchInCheckingChecked){let _=new D;_.propertyName="recordStatus",_.value=Ze.Pending,t.filters.push(_)}if(e>0)this.contentService.ServiceGetAllWithResponsibleUserId(e,t).subscribe({next:_=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(_.access),_.isSuccess?(this.dataModelResult=_,this.RowStyleActiveData(),this.tableSource.data=_.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(_.access)},1e3)):this.cmsToastrService.typeErrorMessage(_.errorMessage),this.publicHelper.processService.processStop(i)},error:_=>{this.cmsToastrService.typeError(_),this.publicHelper.processService.processStop(i,!1)}});else if(this.requestLinkBillboardId&&this.requestLinkBillboardId.length>0)this.actionbuttonExportOn=!1,this.contentService.setAccessDataType(Ue.Editor),this.contentService.ServiceGetAllWithCoverBillboardId(this.requestLinkBillboardId,t).subscribe({next:_=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(_.access),_.isSuccess?(this.dataModelResult=_,this.RowStyleActiveData(),this.tableSource.data=_.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(_.access)},1e3)):this.cmsToastrService.typeErrorGetAll(_.errorMessage),this.publicHelper.processService.processStop(i)},error:_=>{this.cmsToastrService.typeError(_),this.publicHelper.processService.processStop(i)}});else if(this.requestLinkCustomerOrderId?.length>0)this.actionbuttonExportOn=!1,this.contentService.setAccessDataType(Ue.Editor),this.contentService.ServiceGetAllWithCoverCustomerOrderId(this.requestLinkCustomerOrderId,t).subscribe({next:_=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(_.access),_.isSuccess?(this.dataModelResult=_,this.RowStyleActiveData(),this.tableSource.data=_.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(_.access)},1e3)):this.cmsToastrService.typeErrorGetAll(_.errorMessage),this.publicHelper.processService.processStop(i)},error:_=>{this.cmsToastrService.typeError(_),this.publicHelper.processService.processStop(i)}});else if(this.requestLinkCustomerOrderIdHaveHistory&&this.requestLinkCustomerOrderIdHaveHistory.length>0)this.actionbuttonExportOn=!1,this.contentService.setAccessDataType(Ue.Editor),this.contentService.ServiceGetAllWithCoverCustomerOrderIdHaveHistory(this.requestLinkCustomerOrderIdHaveHistory,t).subscribe({next:_=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(_.access),_.isSuccess?(this.dataModelResult=_,this.RowStyleActiveData(),this.tableSource.data=_.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(_.access)},1e3)):this.cmsToastrService.typeErrorGetAll(_.errorMessage),this.publicHelper.processService.processStop(i)},error:_=>{this.cmsToastrService.typeError(_),this.publicHelper.processService.processStop(i)}});else{var s=[];this.dataModelPropertyDetailGroups&&this.dataModelPropertyDetailGroups.forEach(_=>{_.propertyDetails.forEach(m=>{let U=new oo;U.linkPropertyDetailId=m.id,U.value=this.propertyDetails[m.id],s.push(U)})}),t.propertyDetailValues=s,this.contentService.setAccessDataType(Ue.Editor),this.contentService.ServiceGetAll(t).subscribe({next:_=>{this.actionbuttonExportOn=!0,this.fieldsInfo=this.publicHelper.fieldInfoConvertor(_.access),_.isSuccess?(this.dataModelResult=_,this.RowStyleActiveData(),this.tableSource.data=_.listItems,this.requestAction?.length>0&&this.requestAction==="quick-add"&&(this.requestAction="",this.onActionButtonQuickAddRow()),this.optionsSearch.data.show&&this.optionsStatist.data.show&&(this.optionsStatist.data.show=!this.optionsStatist.data.show,this.onActionButtonStatist()),this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(_.access)},1e3)):this.cmsToastrService.typeErrorGetAll(_.errorMessage),this.publicHelper.processService.processStop(i)},error:_=>{this.cmsToastrService.typeError(_),this.publicHelper.processService.processStop(i,!1)}})}}DataGetPropertyDetailGroup(e){let i=new he,t=new D;t.propertyName="LinkPropertyTypeLanduseId",t.value=e,i.filters.push(t),this.dataModelPropertyDetailGroups=[];let s=this.constructor.name+"DataGetPropertyDetailGroup";this.translate.get("MESSAGE.Get_detailed_information").subscribe(_=>{this.publicHelper.processService.processStart(s,_,this.constructorInfoAreaId)}),this.estatePropertyDetailGroupService.ServiceGetAllFastSearch(i).subscribe({next:_=>{_.isSuccess?(this.dataModelPropertyDetailGroups=_.listItems,this.dataModelPropertyDetailGroups&&this.dataModelPropertyDetailGroups.forEach(m=>{m.propertyDetails.forEach(U=>{this.propertyDetails[U.id]=0})})):this.cmsToastrService.typeErrorGetAccess(_.errorMessage),this.publicHelper.processService.processStop(s)},error:_=>{this.cmsToastrService.typeErrorGetAccess(_),this.publicHelper.processService.processStop(s,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=Ae.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=Ae.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=Ae.Descending),this.filteModelContent.sortColumn=="AdsActive"&&(this.filteModelContent.sortColumn="AdsExpireDate"),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(e){if(this.categoryModelSelected==null&&this.categoryModelSelected&&this.categoryModelSelected.id&&this.categoryModelSelected.id.length===0&&(this.requestLinkPropertyTypeLanduseId==null||this.requestLinkPropertyTypeLanduseId.length===0)){this.translate.get("MESSAGE.Content_not_selected").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}let i=this.requestLinkPropertyTypeLanduseId;this.categoryModelSelected&&this.categoryModelSelected.id.length>0&&(i=this.categoryModelSelected.id),i&&i.length>0?e?.ctrlKey?(this.link="/#/estate/property/add/LinkPropertyTypeLanduseId/"+i,window.open(this.link,"_blank")):this.router.navigate(["/estate/property/add/LinkPropertyTypeLanduseId",i]):e?.ctrlKey?(this.link="/#/estate/property/add/",window.open(this.link,"_blank")):this.router.navigate(["/estate/property/add"])}onActionSelectorSelect(e){var i=this.filteModelContent.sortColumn,t=this.filteModelContent.sortType;this.filteModelContent=new Qi,this.filteModelContent.sortColumn=i,this.filteModelContent.sortType=t,this.categoryModelSelected=e,this.DataGetAll()}onActionButtonEditRow(e=this.tableRowSelected,i){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.tableRowSelected=e,this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}i?.ctrlKey?(this.link="/#/estate/property/edit/"+this.tableRowSelected.id,window.open(this.link,"_blank")):this.router.navigate(["/estate/property/edit",this.tableRowSelected.id])}onActionButtonQuickViewRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.tableRowSelected=e,this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var i=this.publicHelper.InfoNextRowInList(this.dataModelResult.listItems,this.tableRowSelected),t=this.publicHelper.InfoPerviousRowInList(this.dataModelResult.listItems,this.tableRowSelected),s="";this.publicHelper.isMobile?s="dialog-fullscreen":s="dialog-min",this.dialog.open(So,{height:"90%",panelClass:s,data:{id:this.tableRowSelected.id,perviousItem:t,nextItem:i}}).afterClosed().subscribe(m=>{m&&m.dialogChangedDate&&m.onActionOpenItem&&m.onActionOpenItem.id.length>0&&this.onActionButtonQuickViewRow(m.onActionOpenItem)})}onActionButtonQuickAddRow(e){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}e?.ctrlKey&&(this.link="/#/estate/property/add/",window.open(this.link,"_blank"));var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Uo,{height:"90%",enterAnimationDuration:X.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:X.cmsViewConfig.exitAnimationDuration,panelClass:i,data:{}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate&&this.DataGetAll()})}onActionButtonQuickHistoryAddRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}this.tableRowSelected=e,this.onActionTableRowSelect(e);var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Ao,{height:"90%",panelClass:i,enterAnimationDuration:X.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:X.cmsViewConfig.exitAnimationDuration,data:{linkActivityTypeId:null,linkPropertyId:e.id,linkEstateExpertId:null,linkCustomerOrderId:null,linkEstateAgencyId:null}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate})}onActionButtonAdsRow(e=this.tableRowSelected,i){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.tableRowSelected=e,this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}i?.ctrlKey?(this.link="/#/estate/property-ads/LinkPropertyId/"+this.tableRowSelected.id,window.open(this.link,"_blank")):this.router.navigate(["/estate/property-ads/LinkPropertyId",this.tableRowSelected.id])}onActionButtonHistoryRow(e=this.tableRowSelected,i){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.tableRowSelected=e,this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}i?.ctrlKey?(this.link="/#/estate/property-history/LinkPropertyId/"+this.tableRowSelected.id,window.open(this.link,"_blank")):this.router.navigate(["/estate/property-history/LinkPropertyId",this.tableRowSelected.id])}onActionButtonDeleteRow(e=this.tableRowSelected){if(e==null||!e.id||e.id.length===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}if(this.tableRowSelected=e,this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(s=>{i=s["MESSAGE.Please_Confirm"],t=s["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(s=>{if(s){let _=this.constructor.name+"main";this.translate.get("MESSAGE.Deleting_information").subscribe(m=>{this.publicHelper.processService.processStart(_,m,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:m=>{m.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(_)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(_)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.property_list").subscribe(Dt=>{this.publicHelper.processService.processStart(this.constructor.name+"All",Dt,this.constructorInfoAreaId)}),this.contentService.setAccessDataType(Ue.Editor);let t=JSON.parse(JSON.stringify(this.filteModelContent)),s=this.contentService.ServiceGetCount(t),_=JSON.parse(JSON.stringify(this.filteModelContent)),m=new D;m.propertyName="recordStatus",m.value=Ze.Available,_.filters.push(m);let U=this.contentService.ServiceGetCount(_),oe=JSON.parse(JSON.stringify(this.filteModelContent)),Ie=new D;Ie.propertyName="recordStatus",Ie.value=Ze.Disable,oe.filters.push(Ie);let ze=this.contentService.ServiceGetCount(oe),We=JSON.parse(JSON.stringify(this.filteModelContent)),Ke=new D;Ke.propertyName="recordStatus",Ke.value=Ze.Pending,We.filters.push(Ke);let _i=this.contentService.ServiceGetCount(We);pa([s,U,ze,_i]).subscribe(Dt=>{var rt=Dt[0];rt.isSuccess?this.translate.get("TITLE.All").subscribe(V=>{i.set(V,rt.totalRowCount)}):this.cmsToastrService.typeErrorMessage(rt.errorMessage);var rt=Dt[1];rt.isSuccess?this.translate.get("TITLE.Number_of_rows_in_the_recordstatus_available").subscribe(V=>{i.set(V,rt.totalRowCount)}):this.cmsToastrService.typeErrorMessage(rt.errorMessage),rt=Dt[2],rt.isSuccess?this.translate.get("TITLE.Number_of_rows_in_the_recordstatus_disable").subscribe(V=>{i.set(V,rt.totalRowCount)}):this.cmsToastrService.typeErrorMessage(rt.errorMessage),rt=Dt[3],rt.isSuccess?this.translate.get("TITLE.Number_of_rows_in_the_recordstatus_pending").subscribe(V=>{i.set(V,rt.totalRowCount)}):this.cmsToastrService.typeErrorMessage(rt.errorMessage),this.optionsStatist.childMethods.setStatistValue(i),this.publicHelper.processService.processStop(this.constructor.name+"All")})}onActionButtonActionSendSmsToCustomerOrder(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}this.tableRowSelected=e;let i=this.constructor.name+"main";this.translate.get("ACTION.ActionSendSmsToCustomerOrder").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructorInfoAreaId)}),this.contentService.setAccessDataType(Ue.Editor),this.contentService.ServiceActionSendSmsToCustomerOrder(e.id).subscribe({next:t=>{t.isSuccess?this.cmsToastrService.typeSuccessMessage(t.errorMessage):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(i)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(i,!1)}})}onActionButtonViewOtherUserAdvertise(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.tableRowSelected=e,e.linkCmsUserId&&e.linkCmsUserId>0?this.requestLinkUserId=e.linkCmsUserId:this.requestLinkUserId=e.createdBy,e.linkCmsUserId&&e.linkCmsUserId>0){let i=new D;i.propertyName="linkCmsUserId",i.value=e.linkCmsUserId,i.clauseType=Y.Or,this.filteModelContent.filters.push(i);let t=new D;t.propertyName="createdBy",t.value=e.linkCmsUserId,t.clauseType=Y.Or,this.filteModelContent.filters.push(i)}if(e.createdBy&&e.createdBy>0){let i=new D;i.propertyName="linkCmsUserId",i.value=e.createdBy,i.clauseType=Y.Or,this.filteModelContent.filters.push(i);let t=new D;t.propertyName="createdBy",t.value=e.createdBy,t.clauseType=Y.Or,this.filteModelContent.filters.push(i)}this.DataGetAll()}onActionButtonInChecking(e=this.searchInCheckingChecked){this.searchInCheckingChecked=e,this.DataGetAll()}onActionButtonInResponsible(e=this.searchInResponsibleChecked){this.searchInResponsibleChecked=e,this.DataGetAll()}onActionButtonReload(){this.optionloadComponent=!0,this.DataGetAll()}onActionCopied(){this.cmsToastrService.typeSuccessCopedToClipboard()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/ticketing/departemen/"])}onActionButtonLinkTo(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(e.recordStatus!=Ze.Available){this.cmsToastrService.typeWarningRecordStatusNoAvailable();return}this.onActionTableRowSelect(e);let i=this.constructor.name+"ServiceGetOneById";this.translate.get("MESSAGE.get_state_information").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructorInfoAreaId)}),this.contentService.setAccessDataType(Ue.Editor),this.contentService.ServiceGetOneById(e.id).subscribe({next:t=>{if(t.isSuccess){var s="";this.publicHelper.isMobile?s="dialog-fullscreen":s="dialog-min",this.dialog.open(Ai,{height:"90%",panelClass:s,enterAnimationDuration:X.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:X.cmsViewConfig.exitAnimationDuration,data:{title:t.item.title,urlViewContentQRCodeBase64:t.item.urlViewContentQRCodeBase64,urlViewContent:t.item.urlViewContent}}).afterClosed().subscribe(m=>{m&&m.dialogChangedDate&&this.DataGetAll()})}else this.cmsToastrService.typeErrorMessage(t.errorMessage);this.publicHelper.processService.processStop(i)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(i,!1)}})}onActionSelectorLocation(e){this.filteModelContent.linkLocationIds=e}onActionSelectorSelectUsage(e){if(!e||!e.id||e.id.length<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(i=>{this.cmsToastrService.typeWarningSelected(i)});return}this.filteModelContent.linkPropertyTypeUsageId=e.id}onActionSelectorSelectLanduse(e){if(this.dataModelPropertyDetailGroups=[],this.PropertyTypeSelected=null,this.filteModelContent.linkPropertyTypeLanduseId=null,!e||!e.id||e.id.length<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(i=>{this.cmsToastrService.typeWarningSelected(i)});return}this.DataGetPropertyDetailGroup(e.id),this.PropertyTypeSelected=e,this.filteModelContent.linkPropertyTypeLanduseId=e.id}onActionSelectorContarctType(e){if(this.contractTypeSelected=null,this.filteModelContent.linkContractTypeId=null,!e||!e.id||e.id.length<=0){this.translate.get("MESSAGE.Type_of_property_transaction_is_not_known").subscribe(i=>{this.cmsToastrService.typeWarningSelected(i)});return}this.contractTypeSelected=e,this.filteModelContent.linkContractTypeId=e.id}onActionSelectCurrency(e){if(!e||e.id<=0){this.dataModelCorCurrencySelector=null,this.filteModelContent.linkCoreCurrencyId=null;return}this.dataModelCorCurrencySelector=e,this.filteModelContent.linkCoreCurrencyId=e.id}onActionButtonResponsibleUserlistView(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}this.tableRowSelected=e;var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(jo,{height:"90%",panelClass:i,enterAnimationDuration:X.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:X.cmsViewConfig.exitAnimationDuration,data:{title:this.tableRowSelected.title,id:this.tableRowSelected.id}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate})}setStep(e){this.step=e}nextStep(){this.step++}prevStep(){this.step--}onSearchCaseCodeChange(e){e&&e.length>0&&(this.filteModelContent=new Qi,this.filteModelContent.caseCode=e,this.dataModelPropertyDetailGroups=[])}RowStyleActiveData(){if(!(!this.dataModelResult.listItems||this.dataModelResult.listItems.length===0||!this.dataConfigSiteValuesModel||this.dataConfigSiteValuesModel.autoArchiveDataDay<=0)){var e=new Date;e.setDate(e.getDate()-this.dataConfigSiteValuesModel.autoArchiveDataDay);for(let i=0;i<this.dataModelResult.listItems.length;i++){let t=this.dataModelResult.listItems[i];this.dataModelResult.listItems[i].ActiveDataStyle="",this.dataModelResult.listItems[i].ActiveDataText="",t.updatedDate?new Date(t.updatedDate)<e&&(this.dataModelResult.listItems[i].ActiveDataStyle="#ff9c91",this.dataModelResult.listItems[i].ActiveDataText="\u0622\u0631\u0634\u06CC\u0648 \u062E\u0648\u062F\u06A9\u0627\u0631  \u0633\u06CC\u0633\u062A\u0645\u06CC"):new Date(t.createdDate)<e&&(this.dataModelResult.listItems[i].ActiveDataStyle="#ff9c01",this.dataModelResult.listItems[i].ActiveDataText="\u0622\u0631\u0634\u06CC\u0648 \u062E\u0648\u062F\u06A9\u0627\u0631  \u0633\u06CC\u0633\u062A\u0645\u06CC")}}}};Bn.\u0275fac=function(i){return new(i||Bn)(v($t),v(Ma),v(Ft),v(gi),v(W),v(F),v(li),v(so),v(K),v(z),v(Zt),v(H),v(re),v(B),v(Qt))},Bn.\u0275cmp=O({type:Bn,selectors:[["app-estate-property-list"]],inputs:{optionloadComponent:"optionloadComponent",optionloadByRoute:"optionloadByRoute",optionsortType:"optionsortType",optionLinkCustomerOrderId:"optionLinkCustomerOrderId",optionLinkCustomerOrderIdHaveHistory:"optionLinkCustomerOrderIdHaveHistory",optionLinkBillboardId:"optionLinkBillboardId"},standalone:!1,features:[ge],decls:191,vars:92,consts:[["caseCode",""],["tableSort","matSort"],["paginator",""],["CreatedYaer",""],["Partition",""],["Area",""],["SalePriceMin",""],["RentPriceMin",""],["DepositPriceMin",""],["PeriodPriceMin",""],["SalePriceMax",""],["RentPriceMax",""],["DepositPriceMax",""],["PeriodPriceMax",""],["actionMenu","matMenu"],[3,"optionId"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionActionRowDisplayMenuAct","optionSelectRowItemTitle"],["cms-tree",""],[3,"optionChange"],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-maximize","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-minimize","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-clock-rotate-left","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"routerLink"],[1,"fa-solid","fa-share","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],[1,"ntk-full-width"],["matInput","","name","filteModelContent.caseCode","type","text","step","1",3,"input","ngModelChange","ngModel","placeholder"],["matPrefix","","matPrefix","","mat-icon-button","","aria-label","Clear"],["matPrefix",""],["matSuffix","",1,"info-field-icon"],[1,"info-field-text"],["cms-body",""],["matSort","","multiTemplateDataRows","",1,"ntk-cms-html-table",3,"matSortChange","dataSource"],[4,"matHeaderRowDef"],["class","ntk-row-expandedTitle",3,"ntk-row-selected","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["class","ntk-row-expandedDetail",3,"ntk-row-selected","ngStyle","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["matColumnDef","action_menu"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","linkMainImageIdSrc"],["mat-sort-header","","class","form-label",4,"matHeaderCellDef"],["matColumnDef","id"],["matColumnDef","linkSiteId"],["class","col-form-label",4,"matCellDef"],["matColumnDef","recordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","mainAdminRecordStatus"],["matColumnDef","IsSoldIt"],["matColumnDef","ViewConfigHiddenInList"],["matColumnDef","ViewCount"],["matColumnDef","AdsActive"],["matColumnDef","caseCode"],["class","col-form-label",3,"ngStyle",4,"matCellDef"],["matColumnDef","scoreEstateLocation"],["matColumnDef","scoreEstateBuild"],["matColumnDef","scoreEstatePrice"],["matColumnDef","createdDate"],["class","col-form-label","style","direction: ltr; justify-content: center; text-align: center",4,"matCellDef"],["matColumnDef","updatedDate"],["matColumnDef","Action"],["class","form-label",4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],["matColumnDef","LinkTo"],["matColumnDef","QuickView"],["matColumnDef","expandedTitle"],["matColumnDef","expandedDetail"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],["type","button","target","_blank","id","openModalButton","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],[1,"fa-light","fa-message-lines","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-bullseye-pointer","font-18",2,"color","#ffffff"],["matPrefix","","matPrefix","","mat-icon-button","","aria-label","Clear",3,"click"],[3,"optionPlaceholder"],[3,"optionChange","optionPlaceholder"],[3,"optionChange","optionTypeView","optionPlaceholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],[3,"optionChange","optionSelectFirstItem","optionSelectForce","optionPlaceholder"],[1,"row",2,"direction","rtl"],[1,"col-md-6","col-sm-6","col-xs-9"],[1,"example-headers-align"],[3,"expanded"],["for","filteModelContent.createdYaer",1,"color-highlight"],["matInput","","name","filteModelContent.createdYaer","type","number","id","filteModelContent.createdYaer",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","filteModelContent.partition",1,"color-highlight"],["matInput","","name","filteModelContent.partition","type","number","id","filteModelContent.partition",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","filteModelContent.area",1,"color-highlight"],["matInput","","name","filteModelContent.area","type","text","currencyMask","","step","10","id","filteModelContent.area",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel","placeholder"],["for","filteModelContent.salePriceMin",1,"color-highlight"],["matInput","","name","filteModelContent.salePriceMin","type","text","currencyMask","","step","1000000","id","filteModelContent.salePriceMin",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel"],["for","filteModelContent.rentPriceMin",1,"color-highlight"],["matInput","","name","filteModelContent.rentPriceMin","type","text","currencyMask","","step","1000000","id","filteModelContent.rentPriceMin",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel"],["for","filteModelContent.depositPriceMin",1,"color-highlight"],["matInput","","name","filteModelContent.depositPriceMin","type","text","currencyMask","","step","1000000","id","filteModelContent.depositPriceMin",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel"],["for","filteModelContent.periodPriceMin",1,"color-highlight"],["matInput","","name","filteModelContent.periodPriceMin","type","text","currencyMask","","step","1000000","id","filteModelContent.periodPriceMin",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel"],["for","filteModelContent.salePriceMax",1,"color-highlight"],["matInput","","name","filteModelContent.salePriceMax","type","text","currencyMask","","step","1000000","id","filteModelContent.salePriceMax",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel"],["for","filteModelContent.rentPriceMax",1,"color-highlight"],["matInput","","name","filteModelContent.rentPriceMax","type","text","currencyMask","","step","1000000","id","filteModelContent.rentPriceMax",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel"],["for","filteModelContent.depositPriceMax",1,"color-highlight"],["matInput","","name","filteModelContent.depositPriceMax","type","text","currencyMask","","step","1000000","id","filteModelContent.depositPriceMax",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel"],["for","filteModelContent.periodPriceMax",1,"color-highlight"],["matInput","","name","filteModelContent.periodPriceMax","type","text","currencyMask","","step","1000000","id","filteModelContent.periodPriceMax",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel"],[3,"opened","expanded"],[2,"width","100px"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue"],["aria-hidden","true",3,"ngClass"],[3,"modelChange","model","optionForceUseDefaultValue","optionMultipleChoice","optionDefaultValue","optionRequired","optionLabel"],[3,"modelChange","model","optionRequired","optionLabel"],[3,"modelChange","model"],[3,"modelChange","model","optionRequired"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue",3,"click"],[1,"ntk-row-expandedTitle",3,"click","rtclick","mouseenter","mouseleave"],[1,"ntk-row-mainfild",3,"click","rtclick","mouseenter","mouseleave"],[1,"ntk-row-expandedDetail",3,"click","rtclick","mouseenter","mouseleave","ngStyle"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"click"],[1,"fa","fa-bars","font-18"],["mat-sort-header","",1,"form-label"],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"ngSrc"],[1,"col-form-label"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"col-form-label",3,"ngStyle"],[1,"col-form-label",2,"direction","ltr","justify-content","center","text-align","center"],[1,"form-label"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",1,"text-dark",3,"matMenuTriggerFor"],["type","button","mat-icon-button","",1,"text-dark",3,"click"],[2,"color","#ff671f"],["aria-hidden","","height","80","width","80",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"ngSrc"],[1,"navi-icon","pointer",3,"click","cdkCopyToClipboard"],[1,"flaticon2-copy"]],template:function(i,t){if(i&1){let s=I();y(0,L0,1,1,"app-core-user-header",15),y(1,D0,1,1,"app-estate-billboard-header",15),y(2,V0,1,1,"app-estate-contract-type-header",15),y(3,O0,1,1,"app-estate-customer-order-header",15),y(4,B0,1,1,"app-estate-property-type-landuse-header",15),y(5,F0,1,1,"app-estate-property-type-usage-header",15),y(6,W0,1,1,"app-estate-property-project-header",15),y(7,H0,1,1,"app-estate-property-company-header",15),l(8,"app-cms-html-list",16),A("optionActionGuideNoticeDisplayChange",function(m){return u(s),w(t.viewGuideNotice,m)||(t.viewGuideNotice=m),f(m)}),E("optionOnActionButtonMemoRow",function(){return u(s),f(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return u(s),f(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return u(s),f(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return u(s),f(t.onActionButtonPrintRow())}),P(9,17),l(10,"app-estate-property-type-landuse-tree",18),E("optionChange",function(m){return u(s),f(t.onActionSelectorSelect(m))}),r(),R(),Wt(11,19)(12,20),P(13,21),y(14,N0,2,0,"a",22),l(15,"a",23),E("click",function(){return u(s),f(t.viewGuideNotice=!t.viewGuideNotice)}),h(16,"i",24),r(),l(17,"a",23),E("click",function(){return u(s),f(t.onActionButtonReload())}),h(18,"i",25),r(),l(19,"a",26),E("click",function(){return u(s),f(t.onActionGridExpandRows(!0))}),h(20,"i",27),r(),l(21,"a",26),E("click",function(){return u(s),f(t.onActionGridExpandRows(!1))}),h(22,"i",28),r(),R(),P(23,29),l(24,"a",30),E("click",function(){return u(s),f(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),h(25,"mat-slide-toggle",31),c(26),g(27,"translate"),r(),l(28,"a",30),E("click",function(){return u(s),f(t.onActionButtonStatist())}),h(29,"mat-slide-toggle",31),c(30),g(31,"translate"),r(),l(32,"a",30),E("click",function(){return u(s),f(t.onActionButtonInChecking(!t.searchInCheckingChecked))}),h(33,"mat-slide-toggle",31),c(34),g(35,"translate"),r(),l(36,"a",30),E("click",function(){return u(s),f(t.onActionButtonInResponsible(!t.searchInResponsibleChecked))}),h(37,"mat-slide-toggle",31),c(38),g(39,"translate"),r(),R(),P(40,32),y(41,G0,7,3,"div",33),y(42,U0,7,3,"div",33),R(),P(43,34),l(44,"div",33)(45,"a",23),E("click",function(){return u(s),f(t.onActionButtonQuickViewRow(t.tableRowSelected))}),h(46,"i",35)(47,"br"),r(),l(48,"p",36),c(49),g(50,"translate"),r()(),y(51,q0,7,3,"div",33),y(52,j0,7,3,"div",33),y(53,Q0,7,3,"div",33),y(54,Y0,7,3,"div",33),l(55,"div",33)(56,"a",23),E("click",function(){return u(s),f(t.onActionButtonQuickHistoryAddRow(t.tableRowSelected))}),h(57,"i",37)(58,"br"),r(),l(59,"p",36),c(60),g(61,"translate"),r()(),l(62,"div",33)(63,"a",23),E("click",function(m){return u(s),f(t.onActionButtonHistoryRow(t.tableRowSelected,m))}),h(64,"i",37)(65,"br"),r(),l(66,"p",36),c(67),g(68,"translate"),r()(),l(69,"div",33)(70,"a",23),E("click",function(){return u(s),f(t.onActionButtonViewOtherUserAdvertise(t.tableRowSelected))}),h(71,"i",38)(72,"br"),r(),l(73,"p",36),c(74),g(75,"translate"),r()(),l(76,"div",33)(77,"a",39),h(78,"i",38)(79,"br"),r(),l(80,"p",36),c(81),g(82,"translate"),r()(),l(83,"div",33)(84,"a",23),E("click",function(){return u(s),f(t.onActionButtonLinkTo(t.tableRowSelected))}),h(85,"i",40)(86,"br"),r(),l(87,"p",36),c(88),g(89,"translate"),r()(),l(90,"div",33)(91,"a",23),E("click",function(){return u(s),f(t.onActionButtonResponsibleUserlistView(t.tableRowSelected))}),h(92,"i",40)(93,"br"),r(),l(94,"p",36),c(95),g(96,"translate"),r()(),y(97,z0,3,5,"button",39),R(),P(98,41),l(99,"app-cms-search-list",42),A("optionsChange",function(m){return u(s),w(t.optionsSearch,m)||(t.optionsSearch=m),f(m)}),h(100,"hr"),l(101,"p"),c(102),g(103,"translate"),r(),l(104,"mat-form-field",43)(105,"mat-label"),c(106),r(),l(107,"input",44,0),E("input",function(m){return u(s),f(t.onSearchCaseCodeChange(m.target.value))}),A("ngModelChange",function(m){return u(s),w(t.filteModelContent.caseCode,m)||(t.filteModelContent.caseCode=m),f(m)}),r(),y(109,K0,2,0,"mat-icon",45),l(110,"mat-icon",46),c(111," mode_edit"),r(),l(112,"mat-hint")(113,"mat-icon",47),c(114),g(115,"translate"),r(),l(116,"strong",48),c(117),r()()(),y(118,yu,44,35,"div"),r(),l(119,"app-cms-statist-list",42),A("optionsChange",function(m){return u(s),w(t.optionsStatist,m)||(t.optionsStatist=m),f(m)}),r(),R(),P(120,49),l(121,"mat-table",50,1),E("matSortChange",function(){u(s);let m=k(122);return f(t.onTableSortData(m))}),L(123,Mu,1,0,"mat-header-row",51)(124,vu,1,2,"mat-row",52)(125,Eu,1,2,"mat-row",53)(126,Iu,1,5,"mat-row",54),P(127,55),L(128,bu,3,3,"mat-header-cell",56)(129,Tu,3,0,"mat-cell",57),R(),P(130,58),L(131,wu,3,3,"mat-header-cell",59)(132,xu,2,1,"mat-cell",57),R(),P(133,60),L(134,Pu,2,1,"mat-header-cell",59)(135,Ru,2,1,"mat-cell",57),R(),P(136,61),L(137,ku,2,1,"mat-header-cell",59)(138,Lu,4,5,"mat-cell",62),R(),P(139,63),L(140,Du,2,1,"mat-header-cell",59)(141,Ou,5,7,"mat-cell",64),R(),P(142,65),L(143,Bu,2,1,"mat-header-cell",59)(144,Fu,3,3,"mat-cell",57),R(),P(145,66),L(146,Wu,2,1,"mat-header-cell",59)(147,Hu,3,3,"mat-cell",57),R(),P(148,67),L(149,Nu,2,1,"mat-header-cell",59)(150,Gu,3,3,"mat-cell",57),R(),P(151,68),L(152,Uu,2,1,"mat-header-cell",59)(153,qu,2,1,"mat-cell",62),R(),P(154,69),L(155,ju,3,3,"mat-header-cell",59)(156,Qu,3,3,"mat-cell",57),R(),P(157,70),L(158,Yu,2,1,"mat-header-cell",59)(159,zu,2,5,"mat-cell",71),R(),P(160,72),L(161,Ku,2,1,"mat-header-cell",59)(162,Ju,2,2,"mat-cell",64),R(),P(163,73),L(164,Zu,2,1,"mat-header-cell",59)(165,Xu,2,2,"mat-cell",64),R(),P(166,74),L(167,$u,2,1,"mat-header-cell",59)(168,ef,2,2,"mat-cell",64),R(),P(169,75),L(170,tf,2,1,"mat-header-cell",59)(171,nf,3,3,"mat-cell",76),R(),P(172,77),L(173,of,2,1,"mat-header-cell",59)(174,af,3,3,"mat-cell",76),R(),P(175,78),L(176,rf,3,3,"mat-header-cell",79)(177,lf,6,1,"mat-cell",80),R(),P(178,81),L(179,sf,3,3,"mat-header-cell",59)(180,cf,4,0,"mat-cell",57),R(),P(181,82),L(182,df,3,3,"mat-header-cell",59)(183,pf,4,0,"mat-cell",57),R(),P(184,83),L(185,mf,2,1,"mat-cell",57),R(),P(186,84),L(187,hf,50,23,"mat-cell",57),R(),r(),R(),P(188,85),l(189,"mat-paginator",86,2),E("page",function(m){return u(s),f(t.onTablePageingData(m))}),r(),R(),r()}i&2&&(M(t.requestLinkUserId>0?0:-1),o(),M((t.requestLinkBillboardId==null?null:t.requestLinkBillboardId.length)>0?1:-1),o(),M((t.requestLinkContractTypeId==null?null:t.requestLinkContractTypeId.length)>0?2:-1),o(),M((t.requestLinkCustomerOrderId==null?null:t.requestLinkCustomerOrderId.length)>0?3:-1),o(),M((t.requestLinkPropertyTypeLanduseId==null?null:t.requestLinkPropertyTypeLanduseId.length)>0?4:-1),o(),M((t.requestLinkPropertyTypeUsageId==null?null:t.requestLinkPropertyTypeUsageId.length)>0?5:-1),o(),M((t.requestLinkProjectId==null?null:t.requestLinkProjectId.length)>0?6:-1),o(),M((t.requestLinkCompanyId==null?null:t.requestLinkCompanyId.length)>0?7:-1),o(),p("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey","estate.property.list"),T("optionActionGuideNoticeDisplay",t.viewGuideNotice),p("optionTreeDisplay",(t.requestLinkPropertyTypeLanduseId==null?null:t.requestLinkPropertyTypeLanduseId.length)===0)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionActionRowDisplayMenuAct",t.tableRowSelectActionMenuClick)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.title),o(6),M((t.requestLinkPropertyTypeLanduseId==null?null:t.requestLinkPropertyTypeLanduseId.length)>0?14:-1),o(4),J("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(7),p("checked",t.optionsSearch.data.show),o(),S("",C(27,63,"ACTION.SEARCH")," "),o(3),p("checked",t.optionsStatist.data.show),o(),S("",C(31,65,"ACTION.STATIST")," "),o(3),p("checked",t.searchInCheckingChecked),o(),S(" ",C(35,67,"ACTION.INCHECKING")," "),o(3),p("checked",t.searchInResponsibleChecked),o(),S(" ",C(39,69,"ACTION.InResponsible")," "),o(3),M(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessAddRow&&t.optionloadByRoute?41:-1),o(),M(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessAddRow&&t.optionloadByRoute?42:-1),o(7),S(" ",C(50,71,"ACTION.QUICK_VIEW")," "),o(2),M(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow&&((t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0||(t.requestLinkPropertyTypeLanduseId==null?null:t.requestLinkPropertyTypeLanduseId.length)>0)?51:-1),o(),M(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow&&t.optionloadByRoute&&((t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0||(t.requestLinkPropertyTypeLanduseId==null?null:t.requestLinkPropertyTypeLanduseId.length)>0)?52:-1),o(),M(t.tokenHelper.isAdminSite&&t.optionloadByRoute&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0?53:-1),o(),M(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?54:-1),o(6),S(" ",C(61,73,"ACTION.HISTORY_ADD")," "),o(7),S(" ",C(68,75,"ACTION.HISTORY_LIST")," "),o(7),S(" ",C(75,77,"ACTION.VIEW_OTHER_USER_ADVERTISE")," "),o(3),p("routerLink",x("/core/user/edit/"+(t.tableRowSelected==null?null:t.tableRowSelected.createdBy))),o(4),S(" ",C(82,79,"ACTION.VIEW_USER")," "),o(7),S(" ",C(89,81,"TITLE.LINKTO")," "),o(7),S(" ",C(96,83,"TITLE.ResponsibleUsers")," "),o(2),M(t.tableRowSelected&&(t.tokenInfo==null||t.tokenInfo.access==null?null:t.tokenInfo.access.siteId)>0&&(t.tableRowSelected==null?null:t.tableRowSelected.linkSiteId)!==t.tokenInfo.access.siteId?97:-1),o(2),T("options",t.optionsSearch),o(3),b(C(103,85,"MESSAGE.Content_of_your_choice_to_display")),o(4),b(t.fieldsInfo.caseCode==null?null:t.fieldsInfo.caseCode.fieldTitle),o(),p("placeholder",x(t.fieldsInfo.caseCode==null?null:t.fieldsInfo.caseCode.fieldTitle)),T("ngModel",t.filteModelContent.caseCode),o(2),M(t.filteModelContent.caseCode?109:-1),o(5),b(C(115,87,"TITLE.info")),o(3),b(t.fieldsInfo.caseCode==null?null:t.fieldsInfo.caseCode.fieldDescription),o(),M(!t.filteModelContent.caseCode||t.filteModelContent.caseCode.length===0?118:-1),o(),T("options",t.optionsStatist),o(2),p("dataSource",t.tableSource),o(2),p("matHeaderRowDef",t.tabledisplayedColumns),o(),p("matRowDefColumns",Me(89,x0)),o(),p("matRowDefColumns",t.tabledisplayedColumns),o(),p("matRowDefColumns",Me(90,P0)),o(63),p("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",Me(91,R0)))},dependencies:[fe,be,fa,ie,co,$,Te,_a,_t,Ha,Va,Oa,Ba,Wa,Fa,mo,po,Ta,Bt,jt,ke,ee,ti,ii,ni,oi,ai,ri,vt,It,At,bt,Et,xt,Tt,wt,Pt,Rt,ei,di,pi,Eo,Lt,si,mi,nr,or,ar,rr,lr,sr,ui,an,ho,tr,un,hn,Cn,yn,vn,In,Qo,xn,Rn,kn,Ln,_e,N,Mi,rn,ne,fo,ln,vo,sn,yi],encapsulation:2});var Vr=Bn;var Br=$n(uo());var gf=["vform"],Cf=n=>({direction:n});function Sf(n,a){if(n&1&&(h(0,"img",16),g(1,"cmsthumbnail")),n&2){let e=d();p("src",x(C(1,2,e.dataModel.linkMainImageIdSrc)),q)}}function yf(n,a){n&1&&h(0,"i",23)}function Mf(n,a){n&1&&h(0,"i",24)}function vf(n,a){n&1&&(l(0,"mat-error"),c(1," Title is "),l(2,"strong"),c(3),g(4,"translate"),r()()),n&2&&(o(3),b(C(4,1,"MESSAGE.required")))}function Ef(n,a){n&1&&(l(0,"mat-error"),c(1," Description is "),l(2,"strong"),c(3),g(4,"translate"),r()()),n&2&&(o(3),b(C(4,1,"MESSAGE.required")))}function If(n,a){if(n&1){let e=I();l(0,"div",17)(1,"label",39),c(2),g(3,"translate"),r(),l(4,"textarea",40,7),A("ngModelChange",function(t){u(e);let s=d();return w(s.dataModel.descriptionHidden,t)||(s.dataModel.descriptionHidden=t),f(t)}),c(6,"              "),r(),l(7,"em"),c(8),r()()}if(n&2){let e=k(5),i=d();o(2),b(C(3,5,"TITLE.Description_Hidden")),o(2),p("placeholder",x(i.fieldsInfo.descriptionHidden==null?null:i.fieldsInfo.descriptionHidden.fieldTitle)),T("ngModel",i.dataModel.descriptionHidden),o(4),S("",e.value.length," / 500")}}function bf(n,a){if(n&1){let e=I();l(0,"app-cms-user-selector",41),g(1,"translate"),E("optionChange",function(t){u(e);let s=d();return f(s.onActionSelectorUser(t))}),r()}if(n&2){let e=d();p("optionDisabled",!(e.fieldsInfo.linkCmsUserId!=null&&e.fieldsInfo.linkCmsUserId.accessAddField))("optionSelectForce",e.dataModel.linkCmsUserId)("optionPlaceholder",C(1,3,"TITLE.USER"))}}function Tf(n,a){n&1&&(l(0,"mat-error"),c(1," Address is "),l(2,"strong"),c(3),g(4,"translate"),r()()),n&2&&(o(3),b(C(4,1,"MESSAGE.required")))}function wf(n,a){if(n&1){let e=I();l(0,"div",36)(1,"div",42)(2,"h5",43),c(3),r()(),l(4,"div",44)(5,"div",45)(6,"input",46),A("ngModelChange",function(t){u(e);let s=d();return w(s.dataModel.accessWatchRowSite,t)||(s.dataModel.accessWatchRowSite=t),f(t)}),r(),h(7,"label",47),r()()()}if(n&2){let e=d();o(3),S(" ",e.fieldsInfo.accessWatchRowSite==null?null:e.fieldsInfo.accessWatchRowSite.fieldTitle," "),o(3),T("ngModel",e.dataModel.accessWatchRowSite)}}function Af(n,a){if(n&1){let e=I();l(0,"div",36)(1,"div",42)(2,"h5",48),c(3),r()(),l(4,"div",44)(5,"div",45)(6,"input",49),A("ngModelChange",function(t){u(e);let s=d();return w(s.dataModel.accessWatchRowOtherAgency,t)||(s.dataModel.accessWatchRowOtherAgency=t),f(t)}),r(),h(7,"label",50),r()()()}if(n&2){let e=d();o(3),S(" ",e.fieldsInfo.accessWatchRowOtherAgency==null?null:e.fieldsInfo.accessWatchRowOtherAgency.fieldTitle," "),o(3),T("ngModel",e.dataModel.accessWatchRowOtherAgency)}}function xf(n,a){if(n&1){let e=I();l(0,"div",36)(1,"div",42)(2,"h5",51),c(3),r()(),l(4,"div",44)(5,"div",45)(6,"input",52),A("ngModelChange",function(t){u(e);let s=d();return w(s.dataModel.accessWatchRowOtherAgent,t)||(s.dataModel.accessWatchRowOtherAgent=t),f(t)}),r(),h(7,"label",53),r()()()}if(n&2){let e=d();o(3),S(" ",e.fieldsInfo.accessWatchRowOtherAgent==null?null:e.fieldsInfo.accessWatchRowOtherAgent.fieldTitle," "),o(3),T("ngModel",e.dataModel.accessWatchRowOtherAgent)}}function Pf(n,a){if(n&1){let e=I();l(0,"div",36)(1,"div",42)(2,"h5",54),c(3),r()(),l(4,"div",44)(5,"div",45)(6,"input",55),A("ngModelChange",function(t){u(e);let s=d();return w(s.dataModel.accessAllowShareRowWatchOtherAgency,t)||(s.dataModel.accessAllowShareRowWatchOtherAgency=t),f(t)}),r(),h(7,"label",56),r()()()}if(n&2){let e=d();o(3),S(" ",e.fieldsInfo.accessAllowShareRowWatchOtherAgency==null?null:e.fieldsInfo.accessAllowShareRowWatchOtherAgency.fieldTitle," "),o(3),T("ngModel",e.dataModel.accessAllowShareRowWatchOtherAgency)}}function Rf(n,a){if(n&1){let e=I();l(0,"div",36)(1,"div",42)(2,"h5",57),c(3),r()(),l(4,"div",44)(5,"div",45)(6,"input",58),A("ngModelChange",function(t){u(e);let s=d();return w(s.dataModel.accessAllowShareRowWatchOtherAgent,t)||(s.dataModel.accessAllowShareRowWatchOtherAgent=t),f(t)}),r(),h(7,"label",59),r()()()}if(n&2){let e=d();o(3),S(" ",e.fieldsInfo.accessAllowShareRowWatchOtherAgent==null?null:e.fieldsInfo.accessAllowShareRowWatchOtherAgent.fieldTitle," "),o(3),T("ngModel",e.dataModel.accessAllowShareRowWatchOtherAgent)}}function kf(n,a){if(n&1){let e=I();l(0,"div",36)(1,"div",42)(2,"h5",60),c(3),r()(),l(4,"div",44)(5,"div",45)(6,"input",61),A("ngModelChange",function(t){u(e);let s=d();return w(s.dataModel.notificationWorkAreaEstate,t)||(s.dataModel.notificationWorkAreaEstate=t),f(t)}),r(),h(7,"label",62),r()()()}if(n&2){let e=d();o(3),S(" ",e.fieldsInfo.notificationWorkAreaEstate==null?null:e.fieldsInfo.notificationWorkAreaEstate.fieldTitle," "),o(3),T("ngModel",e.dataModel.notificationWorkAreaEstate)}}function Lf(n,a){if(n&1){let e=I();l(0,"div",36)(1,"div",42)(2,"h5",63),c(3),r()(),l(4,"div",44)(5,"div",45)(6,"input",64),A("ngModelChange",function(t){u(e);let s=d();return w(s.dataModel.notificationWorkAreaCustomerOrder,t)||(s.dataModel.notificationWorkAreaCustomerOrder=t),f(t)}),r(),h(7,"label",65),r()()()}if(n&2){let e=d();o(3),S(" ",e.fieldsInfo.notificationWorkAreaCustomerOrder==null?null:e.fieldsInfo.notificationWorkAreaCustomerOrder.fieldTitle," "),o(3),T("ngModel",e.dataModel.notificationWorkAreaCustomerOrder)}}function Df(n,a){if(n&1){let e=I();l(0,"div",38)(1,"button",66),E("click",function(){u(e);let t=d();return f(t.onFormCancel())}),h(2,"i",67),c(3),g(4,"translate"),r(),l(5,"button",68),h(6,"i",69),c(7),g(8,"translate"),r()()}if(n&2){d();let e=k(10);o(3),S(" ",C(4,3,"ACTION.CANCEL")," "),o(2),p("disabled",!e.form.valid),o(2),S(" ",C(8,5,"ACTION.SAVE")," ")}}var Fn=class Fn extends Yt{constructor(e,i,t,s,_,m,U,oe,Ie,ze){super(s,new Ht,m,ze);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.estateAccountAgencyService=s;this.cmsToastrService=_;this.publicHelper=m;this.cdr=U;this.cmsStoreService=oe;this.tokenHelper=Ie;this.translate=ze;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.mapOptonCenter=new bi;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.tokenInfo=new Vt;this.dataModelResult=new j;this.dataModel=new Ht;this.formInfo=new Le;this.fileManagerOpenForm=!1;this.viewMap=!1;this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess()}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.publicHelper.processService.processStart(e,"",this.constructorInfoAreaId),this.estateAccountAgencyService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e),this.formInfo.submitButtonEnabled=!0},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}receiveMap(e=this.mapModel){e&&(this.mapModel=e,this.mapModel.on("click",i=>{let t=i.latlng.lat,s=i.latlng.lng;if(this.mapMarker!==void 0&&this.mapModel.removeLayer(this.mapMarker),t===this.dataModel.geolocationlatitude&&s===this.dataModel.geolocationlongitude){this.dataModel.geolocationlatitude=null,this.dataModel.geolocationlongitude=null;return}this.mapMarker=Br.marker([t,s]).addTo(this.mapModel),this.dataModel.geolocationlatitude=t,this.dataModel.geolocationlongitude=s}))}receiveZoom(e){}onActionFileSelected(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}onActionSelectorUser(e){this.dataModel.linkCmsUserId=null,e&&e.id>0&&(this.dataModel.linkCmsUserId=e.id)}onActionSelectorLocation(e){this.dataModel.linkLocationId=null,e&&e.id>0&&(this.dataModel.linkLocationId=e.id)}onActionSelectorLocationWorkArea(e){this.dataModel.linkLocationWorkAreaIds=e}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Fn.\u0275fac=function(i){return new(i||Fn)(v(je),v(Re),v(te),v(Xt),v(F),v(W),v(H),v(z),v(K),v(B))},Fn.\u0275cmp=O({type:Fn,selectors:[["app-estate-account-agency-add"]],viewQuery:function(i,t){if(i&1&&He(gf,5),i&2){let s;Ne(s=Ge())&&(t.formGroup=s.first)}},standalone:!1,features:[ge],decls:89,vars:93,consts:[["vform","ngForm"],["LinkMainImageId",""],["Title",""],["Description",""],["PhoneNumber",""],["mobileNumber",""],["Address",""],["DescriptionHidden",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit","ngStyle"],[1,"mb-3"],["target","_blank",3,"href"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.linkMainImageId",1,"color-highlight"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openSelectFileDescription","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],["for","dataModel.phoneNumber",1,"color-highlight"],["matInput","","name","dataModel.phoneNumber","type","text","minlength","0","maxlength","64","id","dataModel.phoneNumber",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.mobileNumber",1,"color-highlight"],["matInput","","name","dataModel.mobileNumber","type","text","minlength","0","maxlength","64","id","dataModel.mobileNumber",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.address",1,"color-highlight"],["matInput","","name","dataModel.address","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.address",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[3,"optionChange","optionSelectForce","optionPlaceholder","optionDisabled"],[3,"optionChange","optionSelectForce","optionPlaceholder"],[1,"d-flex","mb-3"],["id","main-map",3,"map$","zoom$","optonCenter"],[1,"form-actions"],["for","dataModel.descriptionHidden",1,"color-highlight"],["matInput","","name","dataModel.descriptionHidden","type","text","minlength","0","maxlength","500","rows","5","id","dataModel.descriptionHidden",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],[1,"pt-1"],["data-trigger-switch","dataModel.accessWatchRowSite",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.accessWatchRowSite","name","dataModel.accessWatchRowSite",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.accessWatchRowSite",1,"custom-control-label"],["data-trigger-switch","dataModel.accessWatchRowOtherAgency",1,"font-600","font-14"],["type","checkbox","id","dataModel.accessWatchRowOtherAgency","name","dataModel.accessWatchRowOtherAgency",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.accessWatchRowOtherAgency",1,"custom-control-label"],["data-trigger-switch","dataModel.accessWatchRowOtherAgent",1,"font-600","font-14"],["type","checkbox","id","dataModel.accessWatchRowOtherAgent","name","dataModel.accessWatchRowOtherAgent",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.accessWatchRowOtherAgent",1,"custom-control-label"],["data-trigger-switch","dataModel.accessAllowShareRowWatchOtherAgency",1,"font-600","font-14"],["type","checkbox","id","dataModel.accessAllowShareRowWatchOtherAgency","name","dataModel.accessAllowShareRowWatchOtherAgency",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.accessAllowShareRowWatchOtherAgency",1,"custom-control-label"],["data-trigger-switch","dataModel.accessAllowShareRowWatchOtherAgent",1,"font-600","font-14"],["type","checkbox","id","dataModel.accessAllowShareRowWatchOtherAgent","name","dataModel.accessAllowShareRowWatchOtherAgent",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.accessAllowShareRowWatchOtherAgent",1,"custom-control-label"],["data-trigger-switch","dataModel.notificationWorkAreaEstate",1,"font-600","font-14"],["type","checkbox","id","dataModel.notificationWorkAreaEstate","name","dataModel.notificationWorkAreaEstate",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.notificationWorkAreaEstate",1,"custom-control-label"],["data-trigger-switch","dataModel.notificationWorkAreaCustomerOrder",1,"font-600","font-14"],["type","checkbox","id","dataModel.notificationWorkAreaCustomerOrder","name","dataModel.notificationWorkAreaCustomerOrder",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.notificationWorkAreaCustomerOrder",1,"custom-control-label"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=I();l(0,"div",8),h(1,"app-progress-spinner",9),l(2,"div",10)(3,"p",11),c(4),r(),l(5,"p"),c(6),g(7,"translate"),r(),h(8,"app-cms-form-result-message",12),l(9,"form",13,0),E("ngSubmit",function(){return u(s),f(t.onFormSubmit())}),l(11,"div",14)(12,"a",15),g(13,"cmsthumbnail"),y(14,Sf,2,4,"img",16),r()(),l(15,"div",17)(16,"label",18),c(17),g(18,"translate"),r(),l(19,"input",19,1),g(21,"translate"),A("ngModelChange",function(m){return u(s),w(t.dataModel.linkMainImageId,m)||(t.dataModel.linkMainImageId=m),f(m)}),E("click",function(){return u(s),f(t.fileManagerOpenForm=!0)}),r(),l(22,"cms-file-manager",20),g(23,"translate"),E("itemSelected",function(m){return u(s),f(t.onActionFileSelected(m))}),A("openFormChange",function(m){return u(s),w(t.fileManagerOpenForm,m)||(t.fileManagerOpenForm=m),f(m)}),r()(),l(24,"div",17)(25,"label",21),c(26),r(),l(27,"input",22,2),A("ngModelChange",function(m){return u(s),w(t.dataModel.title,m)||(t.dataModel.title=m),f(m)}),r(),y(29,yf,1,0,"i",23),y(30,Mf,1,0,"i",24),h(31,"em"),y(32,vf,5,3,"mat-error"),r(),l(33,"div",17)(34,"label",25),c(35),r(),l(36,"textarea",26,3),A("ngModelChange",function(m){return u(s),w(t.dataModel.description,m)||(t.dataModel.description=m),f(m)}),c(38,"            "),r(),l(39,"em"),c(40),r(),y(41,Ef,5,3,"mat-error"),r(),y(42,If,9,7,"div",17),y(43,bf,2,5,"app-cms-user-selector",27),l(44,"div",17)(45,"label",28),c(46),r(),l(47,"input",29,4),A("ngModelChange",function(m){return u(s),w(t.dataModel.phoneNumber,m)||(t.dataModel.phoneNumber=m),f(m)}),r(),l(49,"em"),c(50),r()(),l(51,"div",17)(52,"label",30),c(53),r(),l(54,"input",31,5),A("ngModelChange",function(m){return u(s),w(t.dataModel.mobileNumber,m)||(t.dataModel.mobileNumber=m),f(m)}),r(),l(56,"em"),c(57),r()(),l(58,"div",17)(59,"label",32),c(60),r(),l(61,"textarea",33,6),A("ngModelChange",function(m){return u(s),w(t.dataModel.address,m)||(t.dataModel.address=m),f(m)}),c(63,"                "),r(),l(64,"em"),c(65),r(),y(66,Tf,5,3,"mat-error"),r(),l(67,"app-cms-location-selector",34),g(68,"translate"),E("optionChange",function(m){return u(s),f(t.onActionSelectorLocation(m))}),r(),h(69,"br"),c(70),g(71,"translate"),l(72,"app-cms-location-autocomplete",35),g(73,"translate"),E("optionChange",function(m){return u(s),f(t.onActionSelectorLocationWorkArea(m))}),r(),h(74,"hr"),y(75,wf,8,2,"div",36),y(76,Af,8,2,"div",36),y(77,xf,8,2,"div",36),y(78,Pf,8,2,"div",36),y(79,Rf,8,2,"div",36),h(80,"hr"),y(81,kf,8,2,"div",36),y(82,Lf,8,2,"div",36),h(83,"hr"),l(84,"p"),c(85),g(86,"translate"),r(),l(87,"app-cms-map",37),E("map$",function(m){return u(s),f(t.receiveMap(m))})("zoom$",function(m){return u(s),f(t.receiveZoom(m))}),r(),y(88,Df,9,7,"div",38),r()()()}if(i&2){let s=k(28),_=k(37),m=k(48),U=k(55),oe=k(62);o(),p("optionsInfoAreaId",t.constructorInfoAreaId),o(3),S(" ",t.formInfo.formTitle," "),o(2),S(" ",C(7,73,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),p("formInfo",t.formInfo),o(),p("ngStyle",ve(91,Cf,t.tokenInfo.access.direction)),o(3),p("href",x(C(13,75,t.dataModel.linkMainImageIdSrc)),q),o(2),M((t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0?14:-1),o(3),b(C(18,77,"MESSAGE.Photo_of_estate_agency")),o(2),p("placeholder",x(C(21,79,"TITLE.Original_File_ID"))),T("ngModel",t.dataModel.linkMainImageId),o(3),p("language",t.appLanguage)("isPopup",!0)("openSelectFileDescription",C(23,81,"TITLE.The_dimensions_of_the_photo_should_be_600_x_600")),T("openForm",t.fileManagerOpenForm),p("tree",t.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",t.selectFileTypeMainImage)("openFilemanagerButtonView",!1),o(4),b(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),p("placeholder",x(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),T("ngModel",t.dataModel.title),p("disabled",!(t.fieldsInfo.title!=null&&t.fieldsInfo.title.accessAddField)),o(2),M(s.value?-1:29),o(),M(s.value?30:-1),o(2),M(s.errors!=null&&s.errors.required?32:-1),o(3),b(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),p("placeholder",x(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),T("ngModel",t.dataModel.description),p("disabled",!(t.fieldsInfo.description!=null&&t.fieldsInfo.description.accessAddField)),o(4),S("",_.value.length," / 500"),o(),M(_.errors!=null&&_.errors.required?41:-1),o(),M(t.fieldsInfo.descriptionHidden!=null&&t.fieldsInfo.descriptionHidden.accessWatchField?42:-1),o(),M(t.tokenHelper.isAdminSite?43:-1),o(3),b(t.fieldsInfo.phoneNumber==null?null:t.fieldsInfo.phoneNumber.fieldTitle),o(),p("placeholder",x(t.fieldsInfo.phoneNumber==null?null:t.fieldsInfo.phoneNumber.fieldTitle)),T("ngModel",t.dataModel.phoneNumber),p("disabled",!(t.fieldsInfo.phoneNumber!=null&&t.fieldsInfo.phoneNumber.accessAddField)),o(3),S("",m.value.length," / 64"),o(3),b(t.fieldsInfo.mobileNumber==null?null:t.fieldsInfo.mobileNumber.fieldTitle),o(),p("placeholder",x(t.fieldsInfo.mobileNumber==null?null:t.fieldsInfo.mobileNumber.fieldTitle)),T("ngModel",t.dataModel.mobileNumber),p("disabled",!(t.fieldsInfo.mobileNumber!=null&&t.fieldsInfo.mobileNumber.accessAddField)),o(3),S("",U.value.length," / 64"),o(3),b(t.fieldsInfo.address==null?null:t.fieldsInfo.address.fieldTitle),o(),p("placeholder",x(t.fieldsInfo.address==null?null:t.fieldsInfo.address.fieldTitle)),T("ngModel",t.dataModel.address),p("disabled",!(t.fieldsInfo.address!=null&&t.fieldsInfo.address.accessAddField)),o(4),S("",oe.value.length," / 500"),o(),M(oe.errors!=null&&oe.errors.required?66:-1),o(),p("optionSelectForce",t.dataModel.linkLocationId)("optionPlaceholder",C(68,83,"TITLE.Geographical_Region"))("optionDisabled",!(t.fieldsInfo.linkLocationId!=null&&t.fieldsInfo.linkLocationId.accessAddField)),o(3),S(" ",C(71,85,"TITLE.COVERED_AREAS")," "),o(2),p("optionSelectForce",t.dataModel.linkLocationWorkAreaIds)("optionPlaceholder",C(73,87,"TITLE.Region")),o(3),M(t.tokenHelper.isAdminSite||t.tokenHelper.isSupportSite?75:-1),o(),M(t.tokenHelper.isAdminSite||t.tokenHelper.isSupportSite?76:-1),o(),M(t.tokenHelper.isAdminSite||t.tokenHelper.isSupportSite?77:-1),o(),M(t.tokenHelper.isAdminSite||t.tokenHelper.isSupportSite?78:-1),o(),M(t.tokenHelper.isAdminSite||t.tokenHelper.isSupportSite?79:-1),o(2),M(t.tokenHelper.isAdminSite||t.tokenHelper.isSupportSite?81:-1),o(),M(t.tokenHelper.isAdminSite||t.tokenHelper.isSupportSite?82:-1),o(3),b(C(86,89,"TITLE.Click_on_the_map_to_specify_the_location")),o(2),p("optonCenter",t.mapOptonCenter),o(),M(t.formInfo.submitButtonEnabled?88:-1)}},dependencies:[be,et,ie,Ot,$,Xe,ae,it,nt,Te,$e,ot,ee,fi,Lt,si,wi,G,De,kt,N,ne],encapsulation:2});var zo=Fn;var sa=$n(uo());var Bf=["vform"],Ff=n=>({direction:n});function Wf(n,a){if(n&1&&(h(0,"img",19),g(1,"cmsthumbnail")),n&2){let e=d();p("src",x(C(1,2,e.dataModel.linkMainImageIdSrc)),q)}}function Hf(n,a){n&1&&h(0,"i",26)}function Nf(n,a){n&1&&h(0,"i",27)}function Gf(n,a){n&1&&(l(0,"mat-error"),c(1," Title is "),l(2,"strong"),c(3),g(4,"translate"),r()()),n&2&&(o(3),b(C(4,1,"MESSAGE.required")))}function Uf(n,a){n&1&&(l(0,"mat-error"),c(1," Description is "),l(2,"strong"),c(3),g(4,"translate"),r()()),n&2&&(o(3),b(C(4,1,"MESSAGE.required")))}function qf(n,a){if(n&1){let e=I();l(0,"div",20)(1,"label",48),c(2),g(3,"translate"),r(),l(4,"textarea",49,8),A("ngModelChange",function(t){u(e);let s=d();return w(s.dataModel.descriptionHidden,t)||(s.dataModel.descriptionHidden=t),f(t)}),c(6,"                    "),r(),l(7,"em"),c(8),r()()}if(n&2){let e=k(5),i=d();o(2),b(C(3,7,"TITLE.Description_Hidden")),o(2),p("placeholder",x(i.fieldsInfo.descriptionHidden==null?null:i.fieldsInfo.descriptionHidden.fieldTitle))("disabled",x(!(i.fieldsInfo.descriptionHidden!=null&&i.fieldsInfo.descriptionHidden.accessEditField))),T("ngModel",i.dataModel.descriptionHidden),o(4),S("",e.value.length," / 500")}}function jf(n,a){if(n&1){let e=I();l(0,"app-cms-user-selector",50),g(1,"translate"),E("optionChange",function(t){u(e);let s=d();return f(s.onActionSelectorUser(t))}),r()}if(n&2){let e=d();p("optionDisabled",!(e.fieldsInfo.linkCmsUserId!=null&&e.fieldsInfo.linkCmsUserId.accessEditField))("optionSelectForce",e.dataModel.linkCmsUserId)("optionPlaceholder",C(1,3,"TITLE.USER"))}}function Qf(n,a){n&1&&h(0,"i",26)}function Yf(n,a){n&1&&h(0,"i",27)}function zf(n,a){n&1&&(l(0,"mat-error"),c(1," Address is "),l(2,"strong"),c(3),g(4,"translate"),r()()),n&2&&(o(3),b(C(4,1,"MESSAGE.required")))}function Kf(n,a){if(n&1){let e=I();l(0,"div",39)(1,"div",51)(2,"h5",52),c(3),r()(),l(4,"div",53)(5,"div",54)(6,"input",55),A("ngModelChange",function(t){u(e);let s=d();return w(s.dataModel.accessWatchRowSite,t)||(s.dataModel.accessWatchRowSite=t),f(t)}),r(),h(7,"label",56),r()()()}if(n&2){let e=d();o(3),S(" ",e.fieldsInfo.accessWatchRowSite==null?null:e.fieldsInfo.accessWatchRowSite.fieldTitle," "),o(3),T("ngModel",e.dataModel.accessWatchRowSite)}}function Jf(n,a){if(n&1){let e=I();l(0,"div",39)(1,"div",51)(2,"h5",57),c(3),r()(),l(4,"div",53)(5,"div",54)(6,"input",58),A("ngModelChange",function(t){u(e);let s=d();return w(s.dataModel.accessWatchRowOtherAgency,t)||(s.dataModel.accessWatchRowOtherAgency=t),f(t)}),r(),h(7,"label",59),r()()()}if(n&2){let e=d();o(3),S(" ",e.fieldsInfo.accessWatchRowOtherAgency==null?null:e.fieldsInfo.accessWatchRowOtherAgency.fieldTitle," "),o(3),T("ngModel",e.dataModel.accessWatchRowOtherAgency)}}function Zf(n,a){if(n&1){let e=I();l(0,"div",39)(1,"div",51)(2,"h5",60),c(3),r()(),l(4,"div",53)(5,"div",54)(6,"input",61),A("ngModelChange",function(t){u(e);let s=d();return w(s.dataModel.accessWatchRowOtherAgent,t)||(s.dataModel.accessWatchRowOtherAgent=t),f(t)}),r(),h(7,"label",62),r()()()}if(n&2){let e=d();o(3),S(" ",e.fieldsInfo.accessWatchRowOtherAgent==null?null:e.fieldsInfo.accessWatchRowOtherAgent.fieldTitle," "),o(3),T("ngModel",e.dataModel.accessWatchRowOtherAgent)}}function Xf(n,a){if(n&1){let e=I();l(0,"div",39)(1,"div",51)(2,"h5",63),c(3),r()(),l(4,"div",53)(5,"div",54)(6,"input",64),A("ngModelChange",function(t){u(e);let s=d();return w(s.dataModel.accessAllowShareRowWatchOtherAgency,t)||(s.dataModel.accessAllowShareRowWatchOtherAgency=t),f(t)}),r(),h(7,"label",65),r()()()}if(n&2){let e=d();o(3),S(" ",e.fieldsInfo.accessAllowShareRowWatchOtherAgency==null?null:e.fieldsInfo.accessAllowShareRowWatchOtherAgency.fieldTitle," "),o(3),T("ngModel",e.dataModel.accessAllowShareRowWatchOtherAgency)}}function $f(n,a){if(n&1){let e=I();l(0,"div",39)(1,"div",51)(2,"h5",66),c(3),r()(),l(4,"div",53)(5,"div",54)(6,"input",67),A("ngModelChange",function(t){u(e);let s=d();return w(s.dataModel.accessAllowShareRowWatchOtherAgent,t)||(s.dataModel.accessAllowShareRowWatchOtherAgent=t),f(t)}),r(),h(7,"label",68),r()()()}if(n&2){let e=d();o(3),S(" ",e.fieldsInfo.accessAllowShareRowWatchOtherAgent==null?null:e.fieldsInfo.accessAllowShareRowWatchOtherAgent.fieldTitle," "),o(3),T("ngModel",e.dataModel.accessAllowShareRowWatchOtherAgent)}}function e_(n,a){if(n&1){let e=I();l(0,"div",39)(1,"div",51)(2,"h5",69),c(3),r()(),l(4,"div",53)(5,"div",54)(6,"input",70),A("ngModelChange",function(t){u(e);let s=d();return w(s.dataModel.notificationWorkAreaEstate,t)||(s.dataModel.notificationWorkAreaEstate=t),f(t)}),r(),h(7,"label",71),r()()()}if(n&2){let e=d();o(3),S(" ",e.fieldsInfo.notificationWorkAreaEstate==null?null:e.fieldsInfo.notificationWorkAreaEstate.fieldTitle," "),o(3),T("ngModel",e.dataModel.notificationWorkAreaEstate)}}function t_(n,a){if(n&1){let e=I();l(0,"div",39)(1,"div",51)(2,"h5",72),c(3),r()(),l(4,"div",53)(5,"div",54)(6,"input",73),A("ngModelChange",function(t){u(e);let s=d();return w(s.dataModel.notificationWorkAreaCustomerOrder,t)||(s.dataModel.notificationWorkAreaCustomerOrder=t),f(t)}),r(),h(7,"label",74),r()()()}if(n&2){let e=d();o(3),S(" ",e.fieldsInfo.notificationWorkAreaCustomerOrder==null?null:e.fieldsInfo.notificationWorkAreaCustomerOrder.fieldTitle," "),o(3),T("ngModel",e.dataModel.notificationWorkAreaCustomerOrder)}}function i_(n,a){if(n&1){let e=I();l(0,"div",39)(1,"div",51)(2,"h5",63),c(3," accessShareAgencyToUser "),r()(),l(4,"div",53)(5,"div",54)(6,"input",75),A("ngModelChange",function(t){u(e);let s=d();return w(s.dataEstateAccountAgencyExpertModel.accessShareAgencyToUser,t)||(s.dataEstateAccountAgencyExpertModel.accessShareAgencyToUser=t),f(t)}),r(),h(7,"label",76),r()()()}if(n&2){let e=d();o(6),T("ngModel",e.dataEstateAccountAgencyExpertModel.accessShareAgencyToUser)}}function n_(n,a){if(n&1){let e=I();l(0,"div",39)(1,"div",51)(2,"h5",77),c(3," accessShareUserToAgency "),r()(),l(4,"div",53)(5,"div",54)(6,"input",78),A("ngModelChange",function(t){u(e);let s=d();return w(s.dataEstateAccountAgencyExpertModel.accessShareUserToAgency,t)||(s.dataEstateAccountAgencyExpertModel.accessShareUserToAgency=t),f(t)}),r(),h(7,"label",79),r()()()}if(n&2){let e=d();o(6),T("ngModel",e.dataEstateAccountAgencyExpertModel.accessShareUserToAgency)}}function o_(n,a){if(n&1){let e=I();l(0,"button",80),E("click",function(){u(e);let t=d();return f(t.onActionDataGetAddGroup())}),c(1," + "),r()}}function a_(n,a){if(n&1&&(l(0,"mat-header-cell"),c(1),r()),n&2){let e=d(2);o(),S(" ",e.fieldsInfoAgencyUser.linkEstateExpertId==null?null:e.fieldsInfoAgencyUser.linkEstateExpertId.fieldTitle," ")}}function r_(n,a){if(n&1&&(c(0),g(1,"estateAccountExpertInfo"),g(2,"async")),n&2){let e=d().$implicit;S(" ",C(2,3,C(1,1,e.linkEstateExpertId))," ")}}function l_(n,a){if(n&1&&(l(0,"mat-cell"),y(1,r_,3,5),r()),n&2){let e=a.$implicit;o(),M(e.linkEstateExpertId?1:-1)}}function s_(n,a){if(n&1&&(l(0,"mat-header-cell"),c(1),r()),n&2){let e=d(2);o(),S(" ",e.fieldsInfoAgencyUser.linkEstateAccountAgencyId==null?null:e.fieldsInfoAgencyUser.linkEstateAccountAgencyId.fieldTitle," ")}}function c_(n,a){if(n&1&&(c(0),g(1,"estateAccountAgencyInfo"),g(2,"async")),n&2){let e=d().$implicit;S(" ",C(2,3,C(1,1,e.linkEstateAccountAgencyId))," ")}}function d_(n,a){if(n&1&&(l(0,"mat-cell"),y(1,c_,3,5),r()),n&2){let e=a.$implicit;o(),M(e.linkEstateAccountAgencyId?1:-1)}}function p_(n,a){if(n&1&&(l(0,"mat-header-cell"),c(1),r()),n&2){let e=d(2);o(),S(" ",e.fieldsInfoAgencyUser.accessShareUserToAgency==null?null:e.fieldsInfoAgencyUser.accessShareUserToAgency.fieldTitle," ")}}function m_(n,a){if(n&1&&(h(0,"i",92),g(1,"boolclass")),n&2){let e=d().$implicit;p("ngClass",C(1,1,e.accessShareUserToAgency))}}function u_(n,a){if(n&1&&(l(0,"mat-cell"),y(1,m_,2,3,"i",92),r()),n&2){let e=a.$implicit;o(),M(e.accessShareUserToAgency?1:-1)}}function f_(n,a){if(n&1&&(l(0,"mat-header-cell"),c(1),r()),n&2){let e=d(2);o(),S(" ",e.fieldsInfoAgencyUser.accessShareAgencyToUser==null?null:e.fieldsInfoAgencyUser.accessShareAgencyToUser.fieldTitle," ")}}function __(n,a){if(n&1&&(h(0,"i",92),g(1,"boolclass")),n&2){let e=d().$implicit;p("ngClass",C(1,1,e.accessShareAgencyToUser))}}function h_(n,a){if(n&1&&(l(0,"mat-cell"),y(1,__,2,3,"i",92),r()),n&2){let e=a.$implicit;o(),M(e.accessShareAgencyToUser?1:-1)}}function g_(n,a){n&1&&(l(0,"mat-header-cell"),c(1),g(2,"translate"),r()),n&2&&(o(),S(" ",C(2,1,"TITLE.OPTION")," "))}function C_(n,a){if(n&1){let e=I();l(0,"mat-cell",93)(1,"button",94)(2,"small",95),E("click",function(){let t=u(e).$implicit,s=d(2);return f(s.onActionDataGetDeleteGroup(t))}),l(3,"mat-icon",96),g(4,"translate"),c(5,"delete"),r()()()()}n&2&&(o(3),p("matTooltip",x(C(4,2,"ACTION.DELETE"))))}function S_(n,a){n&1&&h(0,"mat-header-row")}function y_(n,a){if(n&1&&h(0,"mat-row"),n&2){let e=a.dataIndex;J("ntk-row-odd",e%2)("ntk-row-even",!(e%2))}}function M_(n,a){if(n&1&&(l(0,"div",44)(1,"mat-table",81),P(2,82),L(3,a_,2,1,"mat-header-cell",83)(4,l_,2,1,"mat-cell",84),R(),P(5,85),L(6,s_,2,1,"mat-header-cell",83)(7,d_,2,1,"mat-cell",84),R(),P(8,86),L(9,p_,2,1,"mat-header-cell",83)(10,u_,2,1,"mat-cell",84),R(),P(11,87),L(12,f_,2,1,"mat-header-cell",83)(13,h_,2,1,"mat-cell",84),R(),P(14,88),L(15,g_,3,3,"mat-header-cell",83)(16,C_,6,4,"mat-cell",89),R(),L(17,S_,1,0,"mat-header-row",90)(18,y_,1,4,"mat-row",91),r()()),n&2){let e=d();o(),p("dataSource",e.optionTabledataSource),o(16),p("matHeaderRowDef",e.optionTabledisplayedColumns),o(),p("matRowDefColumns",e.optionTabledisplayedColumns)}}function v_(n,a){n&1&&(l(0,"mat-icon"),c(1,"call_end"),r())}function E_(n,a){n&1&&(l(0,"mat-icon"),c(1,"forum"),r())}function I_(n,a){if(n&1){let e=I();l(0,"div",47)(1,"button",97),E("click",function(){u(e);let t=d();return f(t.onFormCancel())}),h(2,"i",98),c(3),g(4,"translate"),r(),l(5,"button",99),h(6,"i",100),c(7),g(8,"translate"),r()()}if(n&2){d();let e=k(10);o(3),S(" ",C(4,3,"ACTION.CANCEL")," "),o(2),p("disabled",!e.form.valid),o(2),S(" ",C(8,5,"ACTION.SAVE")," ")}}var Wn=class Wn extends Ti{constructor(e,i,t,s,_,m,U,oe,Ie,ze,We,Ke){super(s,new Ht,Ie,Ke);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.estateAccountAgencyService=s;this.estateAccountExpertService=_;this.cmsToastrService=m;this.cmsStoreService=U;this.estateAccountAgencyExpertService=oe;this.publicHelper=Ie;this.tokenHelper=ze;this.cdr=We;this.translate=Ke;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.fieldsInfoAgencyUser=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new Ci;this.dataModel=new Ht;this.dataEstateAccountAgencyExpertModel=new io;this.formInfo=new Le;this.fileManagerOpenForm=!1;this.optionTabledataSource=new nn;this.optionTabledisplayedColumns=["LinkEstateExpertId","LinkEstateAccountAgencyId","AccessShareUserToAgency","AccessShareAgencyToUser","Action"];this.viewMap=!1;this.mapMarkerPoints=[];this.mapOptonCenter=new bi;this.dataEstateAccountExpertModel=[];this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),this.DataGetAccess(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore}ngOnInit(){if(this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.DataGetAllGroup()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estateAccountAgencyService.setAccessLoad(),this.estateAccountAgencyService.setAccessDataType(Ue.Editor),this.estateAccountAgencyService.ServiceGetOneById(this.requestId).subscribe({next:i=>{if(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess){this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1;let t=this.dataModel.geolocationlatitude,s=this.dataModel.geolocationlongitude;t>0&&s>0&&(this.mapMarkerPoints=[],this.mapMarkerPoints.push({lat:t,lon:s}),this.receiveMap())}else this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage);this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estateAccountAgencyService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e),this.formInfo.submitButtonEnabled=!0},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}receiveMap(e=this.mapModel){e&&(this.mapModel=e,this.mapMarkerPoints&&this.mapMarkerPoints.length>0&&(this.mapMarkerPoints.forEach(i=>{this.mapMarker=sa.marker([i.lat,i.lon]).addTo(this.mapModel)}),this.mapOptonCenter=this.mapMarkerPoints[0],this.mapMarkerPoints=[]),this.mapModel.on("click",i=>{let t=i.latlng.lat,s=i.latlng.lng;if(this.mapMarker!==void 0&&this.mapModel.removeLayer(this.mapMarker),t===this.dataModel.geolocationlatitude&&s===this.dataModel.geolocationlongitude){this.dataModel.geolocationlatitude=null,this.dataModel.geolocationlongitude=null;return}this.mapMarker=sa.marker([t,s]).addTo(this.mapModel),this.dataModel.geolocationlatitude=t,this.dataModel.geolocationlongitude=s}))}receiveZoom(e){}onActionFileSelected(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}onActionSelectorUser(e){this.dataModel.linkCmsUserId=null,e&&e.id>0&&(this.dataModel.linkCmsUserId=e.id)}onStepClick(e,i){e.previouslySelectedIndex<e.selectedIndex}DataGetAllGroup(){if(this.requestId.length<=0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Getting_access_category_from_the_server").subscribe(s=>{this.formInfo.submitResultMessage=s}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(s=>{this.publicHelper.processService.processStart(e,s,this.constructorInfoAreaId)});let i=new he,t=new D;t.propertyName="linkEstateAccountAgencyId",t.value=this.requestId,i.filters.push(t),this.estateAccountAgencyExpertService.ServiceGetAll(i).subscribe({next:s=>{this.dataEstateAccountExpertModel=s.listItems,this.optionTabledataSource.data=this.dataEstateAccountExpertModel,s.isSuccess?this.formInfo.submitResultMessage="":(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(_=>{this.formInfo.submitResultMessage=_}),this.formInfo.submitResultMessage=s.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(s.errorMessage)),this.publicHelper.processService.processStop(e)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(e,!1)}})}onActionDataGetAddGroup(){let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estateAccountAgencyExpertService.ServiceAdd(this.dataEstateAccountAgencyExpertModel).subscribe({next:i=>{i.isSuccess?(this.formInfo.submitResultMessage="",this.optionTabledataSource.data=i.listItems,this.DataGetAllGroup()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionDataGetDeleteGroup(e){let i=this.constructor.name+"onActionDataGetDeleteGroup";this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructorInfoAreaId)}),this.estateAccountAgencyExpertService.ServiceDeleteEntity(e).subscribe({next:t=>{t.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAllGroup()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(i)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(i,!1)}})}onActionSelectorAccountUser(e){this.dataEstateAccountAgencyExpertModel.linkEstateExpertId=null,this.dataEstateAccountAgencyExpertModel.linkEstateAccountAgencyId=this.requestId,e&&e.id?.length>0&&(this.dataEstateAccountAgencyExpertModel.linkEstateExpertId=e.id)}onActionSelectorLocation(e){this.dataModel.linkLocationId=null,e&&e.id>0&&(this.dataModel.linkLocationId=e.id)}onActionSelectorLocationWorkArea(e){this.dataModel.linkLocationWorkAreaIds=e}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Wn.\u0275fac=function(i){return new(i||Wn)(v(je),v(Re),v(te),v(Xt),v(Ut),v(F),v(z),v(ro),v(W),v(K),v(H),v(B))},Wn.\u0275cmp=O({type:Wn,selectors:[["app-estate-account-agency-edit"]],viewQuery:function(i,t){if(i&1&&He(Bf,5),i&2){let s;Ne(s=Ge())&&(t.formGroup=s.first)}},standalone:!1,features:[ge],decls:105,vars:108,consts:[["vform","ngForm"],["stepper",""],["LinkMainImageId",""],["Title",""],["Description",""],["PhoneNumber",""],["mobileNumber",""],["Address",""],["DescriptionHidden",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit","ngStyle"],[3,"selectionChange"],["state","main",3,"label"],[1,"mb-3"],["target","_blank",3,"href"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],["for","dataModel.phoneNumber",1,"color-highlight"],["matInput","","name","dataModel.phoneNumber","type","text","minlength","0","maxlength","64","id","dataModel.phoneNumber",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.mobileNumber",1,"color-highlight"],["matInput","","name","dataModel.mobileNumber","type","text","minlength","0","maxlength","64","id","dataModel.mobileNumber",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.address",1,"color-highlight"],["matInput","","name","dataModel.address","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.address","required","",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[3,"optionChange","optionSelectForce","optionPlaceholder","optionDisabled"],[3,"optionChange","optionSelectForce","optionPlaceholder"],[1,"d-flex","mb-3"],["id","main-map",3,"map$","zoom$","optonCenter"],["state","file",3,"label"],[3,"optionChange","optionDisabled","optionPlaceholder"],["type","button","type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[1,"example-container","mat-elevation-z8"],["matStepperIcon","main"],["matStepperIcon","file"],[1,"form-actions"],["for","dataModel.descriptionHidden",1,"color-highlight"],["matInput","","name","dataModel.descriptionHidden","type","text","minlength","0","maxlength","500","rows","5","id","dataModel.descriptionHidden",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],[1,"pt-1"],["data-trigger-switch","dataModel.accessWatchRowSite",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.accessWatchRowSite","name","dataModel.accessWatchRowSite",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.accessWatchRowSite",1,"custom-control-label"],["data-trigger-switch","dataModel.accessWatchRowOtherAgency",1,"font-600","font-14"],["type","checkbox","id","dataModel.accessWatchRowOtherAgency","name","dataModel.accessWatchRowOtherAgency",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.accessWatchRowOtherAgency",1,"custom-control-label"],["data-trigger-switch","dataModel.accessWatchRowOtherAgent",1,"font-600","font-14"],["type","checkbox","id","dataModel.accessWatchRowOtherAgent","name","dataModel.accessWatchRowOtherAgent",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.accessWatchRowOtherAgent",1,"custom-control-label"],["data-trigger-switch","dataModel.accessAllowShareRowWatchOtherAgency",1,"font-600","font-14"],["type","checkbox","id","dataModel.accessAllowShareRowWatchOtherAgency","name","dataModel.accessAllowShareRowWatchOtherAgency",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.accessAllowShareRowWatchOtherAgency",1,"custom-control-label"],["data-trigger-switch","dataModel.accessAllowShareRowWatchOtherAgent",1,"font-600","font-14"],["type","checkbox","id","dataModel.accessAllowShareRowWatchOtherAgent","name","dataModel.accessAllowShareRowWatchOtherAgent",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.accessAllowShareRowWatchOtherAgent",1,"custom-control-label"],["data-trigger-switch","dataModel.notificationWorkAreaEstate",1,"font-600","font-14"],["type","checkbox","id","dataModel.notificationWorkAreaEstate","name","dataModel.notificationWorkAreaEstate",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.notificationWorkAreaEstate",1,"custom-control-label"],["data-trigger-switch","dataModel.notificationWorkAreaCustomerOrder",1,"font-600","font-14"],["type","checkbox","id","dataModel.notificationWorkAreaCustomerOrder","name","dataModel.notificationWorkAreaCustomerOrder",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.notificationWorkAreaCustomerOrder",1,"custom-control-label"],["type","checkbox","id","dataEstateAccountAgencyExpertModel.accessShareAgencyToUser","name","dataEstateAccountAgencyExpertModel.accessShareAgencyToUser",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataEstateAccountAgencyExpertModel.accessShareAgencyToUser",1,"custom-control-label"],["data-trigger-switch","dataEstateAccountAgencyExpertModel.accessShareUserToAgency",1,"font-600","font-14"],["type","checkbox","id","dataEstateAccountAgencyExpertModel.accessShareUserToAgency","name","dataEstateAccountAgencyExpertModel.accessShareUserToAgency",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataEstateAccountAgencyExpertModel.accessShareUserToAgency",1,"custom-control-label"],["type","button","type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],["multiTemplateDataRows","",3,"dataSource"],["matColumnDef","LinkEstateExpertId"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkEstateAccountAgencyId"],["matColumnDef","AccessShareUserToAgency"],["matColumnDef","AccessShareAgencyToUser"],["matColumnDef","Action"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even",4,"matRowDef","matRowDefColumns"],[3,"ngClass"],[1,"Action"],["type","button","mat-icon-button","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red"],[3,"click"],["matTooltipPosition","before","aria-hidden","false",2,"color","red",3,"matTooltip"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=I();l(0,"div",9),h(1,"app-progress-spinner",10),l(2,"div",11)(3,"p",12),c(4),r(),l(5,"p"),c(6),g(7,"translate"),r(),h(8,"app-cms-form-result-message",13),l(9,"form",14,0),E("ngSubmit",function(){return u(s),f(t.onFormSubmit())}),l(11,"mat-vertical-stepper",15,1),E("selectionChange",function(m){u(s);let U=k(12);return f(t.onStepClick(m,U))}),l(13,"mat-step",16),g(14,"translate"),l(15,"div",17)(16,"a",18),g(17,"cmsthumbnail"),y(18,Wf,2,4,"img",19),r()(),l(19,"div",20)(20,"label",21),E("click",function(){return u(s),f(t.fileManagerOpenForm=!0)}),c(21),g(22,"translate"),r(),l(23,"input",22,2),g(25,"translate"),A("ngModelChange",function(m){return u(s),w(t.dataModel.linkMainImageId,m)||(t.dataModel.linkMainImageId=m),f(m)}),E("click",function(){return u(s),f(t.fileManagerOpenForm=!0)}),r(),l(26,"cms-file-manager",23),E("itemSelected",function(m){return u(s),f(t.onActionFileSelected(m))}),A("openFormChange",function(m){return u(s),w(t.fileManagerOpenForm,m)||(t.fileManagerOpenForm=m),f(m)}),r()(),l(27,"div",20)(28,"label",24),c(29),r(),l(30,"input",25,3),A("ngModelChange",function(m){return u(s),w(t.dataModel.title,m)||(t.dataModel.title=m),f(m)}),r(),y(32,Hf,1,0,"i",26),y(33,Nf,1,0,"i",27),h(34,"em"),y(35,Gf,5,3,"mat-error"),r(),l(36,"div",20)(37,"label",28),c(38),r(),l(39,"textarea",29,4),A("ngModelChange",function(m){return u(s),w(t.dataModel.description,m)||(t.dataModel.description=m),f(m)}),c(41,"                  "),r(),l(42,"em"),c(43),r(),y(44,Uf,5,3,"mat-error"),r(),y(45,qf,9,9,"div",20),y(46,jf,2,5,"app-cms-user-selector",30),l(47,"div",20)(48,"label",31),c(49),r(),l(50,"input",32,5),A("ngModelChange",function(m){return u(s),w(t.dataModel.phoneNumber,m)||(t.dataModel.phoneNumber=m),f(m)}),r(),l(52,"em"),c(53),r()(),l(54,"div",20)(55,"label",33),c(56),r(),l(57,"input",34,6),A("ngModelChange",function(m){return u(s),w(t.dataModel.mobileNumber,m)||(t.dataModel.mobileNumber=m),f(m)}),r(),l(59,"em"),c(60),r()(),l(61,"div",20)(62,"label",35),c(63),r(),l(64,"textarea",36,7),A("ngModelChange",function(m){return u(s),w(t.dataModel.address,m)||(t.dataModel.address=m),f(m)}),c(66,"                      "),r(),y(67,Qf,1,0,"i",26),y(68,Yf,1,0,"i",27),l(69,"em"),c(70),r(),y(71,zf,5,3,"mat-error"),r(),l(72,"app-cms-location-selector",37),g(73,"translate"),E("optionChange",function(m){return u(s),f(t.onActionSelectorLocation(m))}),r(),h(74,"br"),c(75),g(76,"translate"),l(77,"app-cms-location-autocomplete",38),g(78,"translate"),E("optionChange",function(m){return u(s),f(t.onActionSelectorLocationWorkArea(m))}),r(),h(79,"hr"),y(80,Kf,8,2,"div",39),y(81,Jf,8,2,"div",39),y(82,Zf,8,2,"div",39),y(83,Xf,8,2,"div",39),y(84,$f,8,2,"div",39),h(85,"hr"),y(86,e_,8,2,"div",39),y(87,t_,8,2,"div",39),h(88,"hr"),l(89,"p"),c(90),g(91,"translate"),r(),l(92,"app-cms-map",40),E("map$",function(m){return u(s),f(t.receiveMap(m))})("zoom$",function(m){return u(s),f(t.receiveZoom(m))}),r()(),l(93,"mat-step",41),g(94,"translate"),h(95,"br"),l(96,"app-estate-account-expert-selector",42),g(97,"translate"),E("optionChange",function(m){return u(s),f(t.onActionSelectorAccountUser(m))}),r(),y(98,i_,8,1,"div",39),y(99,n_,8,1,"div",39),y(100,o_,2,0,"button",43),y(101,M_,19,3,"div",44),r(),L(102,v_,2,0,"ng-template",45)(103,E_,2,0,"ng-template",46),r(),y(104,I_,9,7,"div",47),r()()()}if(i&2){let s=k(31),_=k(40),m=k(51),U=k(58),oe=k(65);o(),p("optionsInfoAreaId",t.constructorInfoAreaId),o(3),S(" ",t.formInfo.formTitle," "),o(2),S(" ",C(7,84,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),p("formInfo",t.formInfo),o(),p("ngStyle",ve(106,Ff,t.tokenInfo.access.direction)),o(4),p("label",x(C(14,86,"TITLE.REQUIRED_INFORMATION"))),o(3),p("href",x(C(17,88,t.dataModel.linkMainImageIdSrc)),q),o(2),M((t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0?18:-1),o(3),b(C(22,90,"MESSAGE. Photo_of_estate_agency")),o(2),p("placeholder",x(C(25,92,"TITLE.Original_File_ID"))),T("ngModel",t.dataModel.linkMainImageId),o(3),p("language",t.appLanguage)("isPopup",!0),T("openForm",t.fileManagerOpenForm),p("tree",t.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",t.selectFileTypeMainImage)("openFilemanagerButtonView",!1),o(3),b(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),p("placeholder",x(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),T("ngModel",t.dataModel.title),p("disabled",!(t.fieldsInfo.title!=null&&t.fieldsInfo.title.accessEditField)),o(2),M(s.value?-1:32),o(),M(s.value?33:-1),o(2),M(s.errors!=null&&s.errors.required?35:-1),o(3),b(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),p("placeholder",x(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),T("ngModel",t.dataModel.description),p("disabled",!(t.fieldsInfo.description!=null&&t.fieldsInfo.description.accessEditField)),o(4),S("",_.value.length," / 500"),o(),M(_.errors!=null&&_.errors.required?44:-1),o(),M(t.fieldsInfo.descriptionHidden!=null&&t.fieldsInfo.descriptionHidden.accessWatchField?45:-1),o(),M(t.tokenHelper.isAdminSite?46:-1),o(3),b(t.fieldsInfo.phoneNumber==null?null:t.fieldsInfo.phoneNumber.fieldTitle),o(),p("placeholder",x(t.fieldsInfo.phoneNumber==null?null:t.fieldsInfo.phoneNumber.fieldTitle)),T("ngModel",t.dataModel.phoneNumber),p("disabled",!(t.fieldsInfo.phoneNumber!=null&&t.fieldsInfo.phoneNumber.accessEditField)),o(3),S("",m.value.length," / 64"),o(3),b(t.fieldsInfo.mobileNumber==null?null:t.fieldsInfo.mobileNumber.fieldTitle),o(),p("placeholder",x(t.fieldsInfo.mobileNumber==null?null:t.fieldsInfo.mobileNumber.fieldTitle)),T("ngModel",t.dataModel.mobileNumber),p("disabled",!(t.fieldsInfo.mobileNumber!=null&&t.fieldsInfo.mobileNumber.accessAddField)),o(3),S("",U.value.length," / 64"),o(3),b(t.fieldsInfo.address==null?null:t.fieldsInfo.address.fieldTitle),o(),p("placeholder",x(t.fieldsInfo.address==null?null:t.fieldsInfo.address.fieldTitle)),T("ngModel",t.dataModel.address),p("disabled",!(t.fieldsInfo.address!=null&&t.fieldsInfo.address.accessEditField)),o(3),M(oe.value?-1:67),o(),M(oe.value?68:-1),o(2),S("",oe.value.length," / 500"),o(),M(oe.errors!=null&&oe.errors.required?71:-1),o(),p("optionSelectForce",t.dataModel.linkLocationId)("optionPlaceholder",C(73,94,"TITLE.Geographical_Region"))("optionDisabled",!(t.fieldsInfo.linkLocationId!=null&&t.fieldsInfo.linkLocationId.accessEditField)),o(3),S(" ",C(76,96,"TITLE.COVERED_AREAS")," "),o(2),p("optionSelectForce",t.dataModel.linkLocationWorkAreaIds)("optionPlaceholder",C(78,98,"TITLE.Region")),o(3),M(t.tokenHelper.isAdminSite||t.tokenHelper.isSupportSite?80:-1),o(),M(t.tokenHelper.isAdminSite||t.tokenHelper.isSupportSite?81:-1),o(),M(t.tokenHelper.isAdminSite||t.tokenHelper.isSupportSite?82:-1),o(),M(t.tokenHelper.isAdminSite||t.tokenHelper.isSupportSite?83:-1),o(),M(t.tokenHelper.isAdminSite||t.tokenHelper.isSupportSite?84:-1),o(2),M(t.tokenHelper.isAdminSite||t.tokenHelper.isSupportSite?86:-1),o(),M(t.tokenHelper.isAdminSite||t.tokenHelper.isSupportSite?87:-1),o(3),S(" ",C(91,100,"TITLE.Click_on_the_map_to_specify_the_location")," "),o(2),p("optonCenter",t.mapOptonCenter),o(),p("label",x(C(94,102,"TITLE.Property_personnel"))),o(3),p("optionDisabled",!t.tokenHelper.isAdminSite)("optionPlaceholder",C(97,104,"TITLE.Property_personnel")),o(2),M(t.tokenHelper.isAdminSite||t.tokenHelper.isSupportSite?98:-1),o(),M(t.tokenHelper.isAdminSite||t.tokenHelper.isSupportSite?99:-1),o(),M(t.dataEstateAccountAgencyExpertModel.linkEstateExpertId&&t.dataEstateAccountAgencyExpertModel.linkEstateExpertId.length>0?100:-1),o(),M(t.publicHelper.processService.process.inRunAll?-1:101),o(3),M(t.formInfo.submitButtonEnabled?104:-1)}},dependencies:[fe,be,et,ie,Ot,$,Xe,ae,it,nt,Te,$e,_t,ot,ke,ee,en,tn,$i,vt,It,At,bt,Et,xt,Tt,wt,Pt,Rt,Xi,fi,Lt,si,wi,G,De,on,Li,kt,_e,N,ne,yi,yo,Mo],encapsulation:2});var Ko=Wn;function b_(n,a){n&1&&h(0,"div",8)}var Hn=class Hn{constructor(a,e,i,t,s,_){this.headerService=a;this.publicHelper=e;this.cdr=i;this.translate=t;this.cmsToastrService=s;this.dialog=_;this.constructorInfoAreaId=this.constructor.name;this.optionId="";this.dataModelResult=new j;this.fieldsInfo=new Map;this.publicHelper.processService.cdr=this.cdr}ngOnInit(){this.optionId?.length>0&&this.DataGetOneContent()}DataGetOneContent(){let a=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(a,e,this.constructorInfoAreaId)}),this.headerService.setAccessLoad(),this.headerService.ServiceGetOneById(this.optionId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),e.isSuccess?this.dataModelResult=e:this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(a)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(a,!1)}})}};Hn.\u0275fac=function(e){return new(e||Hn)(v(Ut),v(W),v(H),v(B),v(F),v(re))},Hn.\u0275cmp=O({type:Hn,selectors:[["app-estate-account-expert-header"]],inputs:{optionId:"optionId"},standalone:!1,decls:32,vars:10,consts:[[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content"],[1,"table"],[1,"tr"],[1,"td","small-width"],[1,"svg-icon","svg-icon-3x","svg-icon-primary",3,"inlineSVG"],[1,"td","large-width",2,"color","darkblue"],[1,"td"],[1,"td","large-width"],[2,"clear","both"],[1,"td",2,"text-align","left"],[1,"divider","divider-margins"]],template:function(e,i){e&1&&(l(0,"div",0),h(1,"app-progress-spinner",1),l(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),h(6,"span",6),r(),l(7,"div",7)(8,"h5")(9,"b"),c(10),g(11,"translate"),r()()(),y(12,b_,1,0,"div",8),r(),l(13,"div",4)(14,"div",5)(15,"b"),c(16),r(),c(17,": "),r(),l(18,"div",9),c(19),r(),h(20,"div",8)(21,"div",10),r(),l(22,"div",4)(23,"div",5)(24,"b"),c(25),r(),c(26," : "),r(),l(27,"div",9),c(28),r(),h(29,"div",11)(30,"div",10),r()()()(),h(31,"div",12)),e&2&&(o(),p("optionsInfoAreaId",i.constructorInfoAreaId),o(5),p("inlineSVG","./assets/media/svg/icons/Communication/Flag.svg"),o(4),b(C(11,8,"TITLE.Selected_Personnel")),o(2),M(!(i.dataModelResult==null||i.dataModelResult.item==null)&&i.dataModelResult.item.id?12:-1),o(4),S("",i.fieldsInfo.id==null?null:i.fieldsInfo.id.fieldTitle," "),o(3),b(i.dataModelResult==null||i.dataModelResult.item==null?null:i.dataModelResult.item.id),o(6),b(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(3),b(i.dataModelResult==null||i.dataModelResult.item==null?null:i.dataModelResult.item.title))},dependencies:[G,ht,N],styles:[".table[_ngcontent-%COMP%]{display:table;border:1px solid #40a1f5;padding:2px;background:#fff;border-radius:5px}.table[_ngcontent-%COMP%]   .th[_ngcontent-%COMP%]{display:table-row;background-color:#40a1f577;color:#fff;font-weight:700}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f9f9f9}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]{display:table-row;border-bottom:1px solid #000}.table[_ngcontent-%COMP%]   .td[_ngcontent-%COMP%]{display:table-cell;padding:15px;border-bottom:1px solid #40a1f5}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:last-child   .td[_ngcontent-%COMP%]{border:0}.small-width[_ngcontent-%COMP%]{width:90px}.large-width[_ngcontent-%COMP%]{width:400px}.clear[_ngcontent-%COMP%]{clear:both}"]});var Jo=Hn;var w_=()=>["expandedTitle"],A_=()=>["expandedDetail"],x_=()=>[5,10,20,100],P_=n=>({display:n});function R_(n,a){if(n&1&&h(0,"app-estate-account-expert-header",3),n&2){let e=d();p("optionId",e.requestLinkAccountUserId)}}function k_(n,a){if(n&1){let e=I();l(0,"div",16)(1,"a",47),E("click",function(){u(e);let t=d();return f(t.onActionButtonNewRow())}),h(2,"i",48)(3,"br"),r(),l(4,"p",20),c(5),g(6,"translate"),r()()}n&2&&(o(5),S(" ",C(6,1,"ACTION.ADD")," "))}function L_(n,a){if(n&1){let e=I();l(0,"div",16)(1,"a",49),E("click",function(){u(e);let t=d();return f(t.onActionButtonEditRow(t.tableRowSelected))}),h(2,"i",50)(3,"br"),r(),l(4,"p",20),c(5),g(6,"translate"),r()()}n&2&&(o(5),S(" ",C(6,1,"ACTION.EDIT")," "))}function D_(n,a){if(n&1){let e=I();l(0,"div",16)(1,"a",51),E("click",function(){u(e);let t=d();return f(t.onActionButtonDeleteRow(t.tableRowSelected))}),h(2,"i",52)(3,"br"),r(),l(4,"p",20),c(5),g(6,"translate"),r()()}n&2&&(o(5),S(" ",C(6,1,"ACTION.DELETE")," "))}function V_(n,a){n&1&&(l(0,"mat-header-cell"),c(1),g(2,"translate"),r()),n&2&&(o(),S(" ",C(2,1,"TITLE.MENU")," "))}function O_(n,a){if(n&1){let e=I();l(0,"mat-cell")(1,"button",53),E("click",function(){let t=u(e).$implicit,s=d();return f(s.onActionTableRowSelectActionMenu(t))}),h(2,"i",54),r()()}}function B_(n,a){n&1&&(l(0,"mat-header-cell",55),c(1),g(2,"translate"),r()),n&2&&(o(),S(" ",C(2,1,"TITLE.PICTURE")," "))}function F_(n,a){if(n&1&&(h(0,"img",56),g(1,"cmsthumbnail")),n&2){let e=d().$implicit;p("src",x(C(1,2,e.linkMainImageIdSrc)),q)}}function W_(n,a){if(n&1&&(l(0,"mat-cell"),y(1,F_,2,4,"img",56),r()),n&2){let e=a.$implicit;o(),M((e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0?1:-1)}}function H_(n,a){if(n&1&&(l(0,"mat-header-cell",55),c(1),r()),n&2){let e=d();o(),S(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function N_(n,a){if(n&1&&(l(0,"mat-cell"),c(1),r()),n&2){let e=a.$implicit;o(),S(" ",e.id," ")}}function G_(n,a){if(n&1&&(l(0,"mat-header-cell",55),c(1),r()),n&2){let e=d();o(),S(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," ")}}function U_(n,a){if(n&1&&(l(0,"mat-cell"),c(1),r()),n&2){let e=a.$implicit;o(),S(" ",e.title," ")}}function q_(n,a){if(n&1&&(l(0,"mat-header-cell",55),c(1),r()),n&2){let e=d();o(),S(" ",e.fieldsInfo.linkCmsUserId==null?null:e.fieldsInfo.linkCmsUserId.fieldTitle," ")}}function j_(n,a){if(n&1&&(l(0,"mat-cell"),c(1),g(2,"cmsuserinfo"),g(3,"async"),r()),n&2){let e=a.$implicit;o(),S(" ",C(3,3,C(2,1,e.linkCmsUserId))," ")}}function Q_(n,a){if(n&1&&(l(0,"mat-header-cell",55),c(1),r()),n&2){let e=d();o(),S(" ",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle," ")}}function Y_(n,a){if(n&1&&(l(0,"mat-cell"),c(1),r()),n&2){let e=a.$implicit;o(),S(" ",e.description," ")}}function z_(n,a){n&1&&(l(0,"mat-header-cell"),c(1),g(2,"translate"),r()),n&2&&(o(),S(" ",C(2,1,"TITLE.OPTION")," "))}function K_(n,a){if(n&1&&(l(0,"mat-cell",57)(1,"button",58)(2,"mat-icon"),c(3,"more_vert"),r()(),h(4,"mat-menu",null,2),r()),n&2){let e=k(5);o(),p("matMenuTriggerFor",e)}}function J_(n,a){if(n&1&&(l(0,"mat-cell"),c(1),g(2,"translate"),g(3,"cmsuserinfo"),g(4,"async"),r()),n&2){let e=a.$implicit;o(),ue(" ",C(2,2,"TITLE.User-Id-Cms"),": ",C(4,6,C(3,4,e.linkCmsUserId))," ")}}function Z_(n,a){if(n&1&&(h(0,"img",59),g(1,"cmsthumbnail")),n&2){let e=d().$implicit;p("src",x(C(1,2,e.linkMainImageIdSrc)),q)}}function X_(n,a){if(n&1&&(l(0,"tr"),h(1,"td"),l(2,"td"),c(3),r()()),n&2){let e=d().$implicit,i=d();o(3),ue(" ",i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle," : ",e.description," ")}}function $_(n,a){if(n&1&&(l(0,"tr"),h(1,"td"),l(2,"td"),c(3),g(4,"translate"),r()()),n&2){let e=d().$implicit;o(3),ue("",C(4,2,"TITLE.Address")," : ",e.address)}}function e1(n,a){if(n&1&&(l(0,"tr"),h(1,"td"),l(2,"td"),c(3),r()()),n&2){let e=d().$implicit,i=d();o(3),ue(" ",i.fieldsInfo.phoneNumber==null?null:i.fieldsInfo.phoneNumber.fieldTitle," : ",e.phoneNumber," ")}}function t1(n,a){if(n&1&&(l(0,"tr"),h(1,"td"),l(2,"td"),c(3),r()()),n&2){let e=d().$implicit,i=d();o(3),ue(" ",i.fieldsInfo.mobileNumber==null?null:i.fieldsInfo.mobileNumber.fieldTitle," : ",e.mobileNumber," ")}}function i1(n,a){if(n&1){let e=I();l(0,"mat-cell")(1,"div")(2,"table")(3,"tr")(4,"th"),y(5,Z_,2,4,"img",59),r(),l(6,"th")(7,"span",60),E("click",function(){u(e);let t=d();return f(t.onActionCopied())}),h(8,"i",61),r(),c(9),r()(),l(10,"tr"),h(11,"td"),l(12,"td"),c(13),r()(),y(14,X_,4,2,"tr"),y(15,$_,5,4,"tr"),y(16,e1,4,2,"tr"),y(17,t1,4,2,"tr"),l(18,"tr"),h(19,"td")(20,"td"),r()()()()}if(n&2){let e=a.$implicit,i=d();o(5),M((e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0?5:-1),o(2),p("cdkCopyToClipboard",e.id),o(2),S(" ",e.id," "),o(4),ue("",i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle," : ",e.title),o(),M(e.description?14:-1),o(),M(e.address?15:-1),o(),M(e.phoneNumber?16:-1),o(),M(e.mobileNumber?17:-1)}}function n1(n,a){n&1&&h(0,"mat-header-row")}function o1(n,a){if(n&1){let e=I();l(0,"mat-row",62),E("click",function(t){let s=u(e).$implicit,_=d();return f(_.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=u(e).$implicit,_=d();return f(_.onActionTableRowSelect(s,t))})("mouseenter",function(){let t=u(e).$implicit,s=d();return f(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=u(e).$implicit,s=d();return f(s.onActionTableRowMouseLeave(t))}),r()}if(n&2){let e=a.$implicit,i=d();J("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}function a1(n,a){if(n&1){let e=I();l(0,"mat-row",63),E("click",function(t){let s=u(e).$implicit,_=d();return f(_.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=u(e).$implicit,_=d();return f(_.onActionTableRowSelect(s,t))})("mouseenter",function(){let t=u(e).$implicit,s=d();return f(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=u(e).$implicit,s=d();return f(s.onActionTableRowMouseLeave(t))}),r()}if(n&2){let e=a.$implicit,i=d();J("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}function r1(n,a){if(n&1){let e=I();l(0,"mat-row",64),E("click",function(t){let s=u(e).$implicit,_=d();return f(_.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=u(e).$implicit,_=d();return f(_.onActionTableRowSelect(s,t))})("mouseenter",function(){let t=u(e).$implicit,s=d();return f(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=u(e).$implicit,s=d();return f(s.onActionTableRowMouseLeave(t))}),r()}if(n&2){let e=a.$implicit,i=d();J("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)),p("ngStyle",ve(3,P_,e.expanded===!0?"":"none"))}}var Nn=class Nn extends ci{constructor(e,i,t,s,_,m,U,oe,Ie,ze,We,Ke,_i){super(e,new Ht,Ke,_,oe);this.contentService=e;this.cmsConfirmationDialogService=i;this.cmsToastrService=t;this.router=s;this.tokenHelper=_;this.cdr=m;this.cmsStoreService=U;this.translate=oe;this.themeService=Ie;this.activatedRoute=ze;this.pageInfo=We;this.publicHelper=Ke;this.dialog=_i;this.requestLinkAccountUserId="";this.constructorInfoAreaId=this.constructor.name;this.optionloadComponent=!0;this.optionloadByRoute=!0;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new ao;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["linkMainImageIdSrc","title","Description","action_menu"];this.tabledisplayedColumnsMobileSource=["linkMainImageIdSrc","title","Description","action_menu"];this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:Dt=>this.onSubmitOptionsSearch(Dt)},this.requestLinkAccountUserId=this.activatedRoute.snapshot.paramMap.get("LinkAccountUserId"),this.filteModelContent.sortColumn="id",this.filteModelContent.sortType=Ae.Descending}set optionLinkLocationWorkAreaIds(e){this.requestLinkLocationWorkAreaIds=[],e&&e.length>0&&(this.requestLinkLocationWorkAreaIds=e),this.requestLinkLocationWorkAreaIds&&this.requestLinkLocationWorkAreaIds.length>0&&(this.filteModelContent.linkLocationWorkAreaIds=this.requestLinkLocationWorkAreaIds)}set optionLinkLocationWorkAreaId(e){this.requestLinkLocationWorkAreaIds=[],e&&e>0&&this.requestLinkLocationWorkAreaIds.push(e),this.requestLinkLocationWorkAreaIds&&this.requestLinkLocationWorkAreaIds.length>0&&(this.filteModelContent.linkLocationWorkAreaIds=this.requestLinkLocationWorkAreaIds)}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>Z(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){if(this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),!this.optionloadComponent)return;if(this.tableRowsSelected=[],this.onActionTableRowSelect(new Ht),this.requestLinkAccountUserId&&this.requestLinkAccountUserId.length>0){let t=new D;t.propertyAnyName="AccountAgencyUser",t.propertyName="linkEstateExpertId",t.value=this.requestLinkAccountUserId,this.filteModelContent.filters.push(t)}let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.contentService.setAccessDataType(Ue.Editor),this.contentService.ServiceGetAll(i).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),t.isSuccess&&(this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=Ae.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=Ae.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=Ae.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionSelectorLocation(e){this.filteModelContent.linkLocationIds=e}onActionSelectorLocationWorkArea(e){this.filteModelContent.linkLocationWorkAreaIds=e}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(zo,{height:"90%",panelClass:e,enterAnimationDuration:X.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:X.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Ko,{height:"90%",panelClass:i,enterAnimationDuration:X.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:X.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(s=>{this.cmsToastrService.typeErrorSelected(s)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(s=>{i=s["MESSAGE.Please_Confirm"],t=s["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(s=>{if(s){let _=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(m=>{this.publicHelper.processService.processStart(_,m,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:m=>{m.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(_)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(_,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(m=>{i.set(m,0)}),this.translate.get("MESSAGE.All").subscribe(m=>{i.set(m,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(m=>{this.publicHelper.processService.processStart(t,m,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:m=>{m.isSuccess?(this.translate.get("MESSAGE.All").subscribe(U=>{i.set(U,m.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(m.errorMessage),this.publicHelper.processService.processStop(t)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(t,!1)}});let s=JSON.parse(JSON.stringify(this.filteModelContent)),_=new D;_.propertyName="recordStatus",_.value=Ze.Available,s.filters.push(_),this.contentService.ServiceGetCount(s).subscribe({next:m=>{m.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(U=>{i.set(U,m.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(m.errorMessage),this.publicHelper.processService.processStop(t)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonAgentRow(e=this.tableRowSelected,i){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.tableRowSelected=e,this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}i?.ctrlKey?(this.link="/#/estate/account-user/LinkAccountAgencyId/"+this.tableRowSelected.id,window.open(this.link,"_blank")):this.router.navigate(["/estate/account-user/LinkAccountAgencyId",this.tableRowSelected.id])}onActionButtonHistoryRow(e=this.tableRowSelected,i){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.tableRowSelected=e,this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}i?.ctrlKey?(this.link="/#/estate/property-history/LinkEstateAgencyId/"+this.tableRowSelected.id,window.open(this.link,"_blank")):this.router.navigate(["/estate/property-history/LinkEstateAgencyId",this.tableRowSelected.id])}onActionButtonPropertyRow(e=this.tableRowSelected,i){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.tableRowSelected=e,this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}i?.ctrlKey?(this.link="/#/estate/property/LinkEstateAgencyId/"+this.tableRowSelected.id,window.open(this.link,"_blank")):this.router.navigate(["/estate/property/LinkEstateAgencyId",this.tableRowSelected.id])}onActionCopied(){this.cmsToastrService.typeSuccessCopedToClipboard()}onActionButtonReload(){this.optionloadComponent=!0,this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}};Nn.\u0275fac=function(i){return new(i||Nn)(v(Xt),v(li),v(F),v(Zt),v(K),v(H),v(z),v(B),v(Ft),v(gi),v(Qt),v(W),v(re))},Nn.\u0275cmp=O({type:Nn,selectors:[["app-estate-account-agency-list"]],inputs:{optionloadComponent:"optionloadComponent",optionloadByRoute:"optionloadByRoute",optionLinkLocationWorkAreaIds:"optionLinkLocationWorkAreaIds",optionLinkLocationWorkAreaId:"optionLinkLocationWorkAreaId"},standalone:!1,features:[ge],decls:94,vars:59,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionId"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionActionRowDisplayMenuAct","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-user-tie","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-clock-rotate-left","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-house","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],[3,"optionChange","optionSelectForce","optionPlaceholder"],["cms-body",""],["matSort","","multiTemplateDataRows","",3,"matSortChange","dataSource"],["matColumnDef","action_menu"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","linkMainImageIdSrc"],["mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","id"],["matColumnDef","title"],["matColumnDef","LinkCmsUserId"],["matColumnDef","Description"],["matColumnDef","Action"],["class","Action",4,"matCellDef"],["matColumnDef","expandedTitle"],["matColumnDef","expandedDetail"],[4,"matHeaderRowDef"],["class","ntk-row-expandedTitle",3,"ntk-row-selected","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["class","ntk-row-expandedDetail",3,"ntk-row-selected","ngStyle","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"click"],[1,"fa","fa-bars","font-18"],["mat-sort-header",""],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],["aria-hidden","","height","80","width","80",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"navi-icon","pointer",3,"click","cdkCopyToClipboard"],[1,"flaticon2-copy"],[1,"ntk-row-expandedTitle",3,"click","rtclick","mouseenter","mouseleave"],[1,"ntk-row-mainfild",3,"click","rtclick","mouseenter","mouseleave"],[1,"ntk-row-expandedDetail",3,"click","rtclick","mouseenter","mouseleave","ngStyle"]],template:function(i,t){if(i&1){let s=I();y(0,R_,1,1,"app-estate-account-expert-header",3),l(1,"app-cms-html-list",4),A("optionActionGuideNoticeDisplayChange",function(m){return u(s),w(t.viewGuideNotice,m)||(t.viewGuideNotice=m),f(m)}),E("optionOnActionButtonMemoRow",function(){return u(s),f(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return u(s),f(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return u(s),f(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return u(s),f(t.onActionButtonPrintRow())}),P(2,5),c(3," -------------------------------------- "),R(),Wt(4,6)(5,7),P(6,8),l(7,"a",9),E("click",function(){return u(s),f(t.viewGuideNotice=!t.viewGuideNotice)}),h(8,"i",10),r(),l(9,"a",9),E("click",function(){return u(s),f(t.onActionButtonReload())}),h(10,"i",11),r(),R(),P(11,12),l(12,"a",13),E("click",function(){return u(s),f(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),h(13,"mat-slide-toggle",14),c(14),g(15,"translate"),r(),l(16,"a",13),E("click",function(){return u(s),f(t.onActionButtonStatist())}),h(17,"mat-slide-toggle",14),c(18),g(19,"translate"),r(),R(),P(20,15),y(21,k_,7,3,"div",16),R(),P(22,17),y(23,L_,7,3,"div",16),y(24,D_,7,3,"div",16),l(25,"div",16)(26,"a",18),E("click",function(m){return u(s),f(t.onActionButtonAgentRow(t.tableRowSelected,m))}),h(27,"i",19)(28,"br"),r(),l(29,"p",20),c(30),g(31,"translate"),r()(),l(32,"div",16)(33,"a",18),E("click",function(m){return u(s),f(t.onActionButtonHistoryRow(t.tableRowSelected,m))}),h(34,"i",21)(35,"br"),r(),l(36,"p",20),c(37),g(38,"translate"),r()(),l(39,"div",16)(40,"a",18),E("click",function(m){return u(s),f(t.onActionButtonPropertyRow(t.tableRowSelected,m))}),h(41,"i",22)(42,"br"),r(),l(43,"p",20),c(44),g(45,"translate"),r()(),R(),P(46,23),l(47,"app-cms-search-list",24),A("optionsChange",function(m){return u(s),w(t.optionsSearch,m)||(t.optionsSearch=m),f(m)}),c(48),g(49,"translate"),l(50,"app-cms-location-autocomplete",25),g(51,"translate"),E("optionChange",function(m){return u(s),f(t.onActionSelectorLocation(m))}),r(),h(52,"br"),c(53),g(54,"translate"),l(55,"app-cms-location-autocomplete",25),g(56,"translate"),E("optionChange",function(m){return u(s),f(t.onActionSelectorLocationWorkArea(m))}),r(),h(57,"hr"),r(),l(58,"app-cms-statist-list",24),A("optionsChange",function(m){return u(s),w(t.optionsStatist,m)||(t.optionsStatist=m),f(m)}),r(),R(),P(59,26),l(60,"mat-table",27,0),E("matSortChange",function(){u(s);let m=k(61);return f(t.onTableSortData(m))}),P(62,28),L(63,V_,3,3,"mat-header-cell",29)(64,O_,3,0,"mat-cell",30),R(),P(65,31),L(66,B_,3,3,"mat-header-cell",32)(67,W_,2,1,"mat-cell",30),R(),P(68,33),L(69,H_,2,1,"mat-header-cell",32)(70,N_,2,1,"mat-cell",30),R(),P(71,34),L(72,G_,2,1,"mat-header-cell",32)(73,U_,2,1,"mat-cell",30),R(),P(74,35),L(75,q_,2,1,"mat-header-cell",32)(76,j_,4,5,"mat-cell",30),R(),P(77,36),L(78,Q_,2,1,"mat-header-cell",32)(79,Y_,2,1,"mat-cell",30),R(),P(80,37),L(81,z_,3,3,"mat-header-cell",29)(82,K_,6,1,"mat-cell",38),R(),P(83,39),L(84,J_,5,8,"mat-cell",30),R(),P(85,40),L(86,i1,21,9,"mat-cell",30),R(),L(87,n1,1,0,"mat-header-row",41)(88,o1,1,2,"mat-row",42)(89,a1,1,2,"mat-row",43)(90,r1,1,5,"mat-row",44),r(),R(),P(91,45),l(92,"mat-paginator",46,1),E("page",function(m){return u(s),f(t.onTablePageingData(m))}),r(),R(),r()}i&2&&(M((t.requestLinkAccountUserId==null?null:t.requestLinkAccountUserId.length)>0?0:-1),o(),p("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey","accountagency.content.list"),T("optionActionGuideNoticeDisplay",t.viewGuideNotice),p("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionActionRowDisplayMenuAct",t.tableRowSelectActionMenuClick)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.title),o(9),J("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(3),p("checked",t.optionsSearch.data.show),o(),S("",C(15,38,"ACTION.SEARCH")," "),o(3),p("checked",t.optionsStatist.data.show),o(),S("",C(19,40,"ACTION.STATIST")," "),o(3),M(t.optionloadByRoute&&t.dataModelResult.access.accessAddRow?21:-1),o(2),M(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?23:-1),o(),M(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?24:-1),o(6),S(" ",C(31,42,"ACTION.PERSONNEL")," "),o(7),S(" ",C(38,44,"ACTION.HISTORY")," "),o(7),S(" ",C(45,46,"ACTION.CONNECT_TO_PROPERTY")," "),o(3),T("options",t.optionsSearch),o(),S(" ",C(49,48,"ACTION.LOCATION")," "),o(2),p("optionSelectForce",t.filteModelContent.linkLocationIds)("optionPlaceholder",C(51,50,"TITLE.Region")),o(3),S(" ",C(54,52,"ACTION.LOCATION_WORK_ACTIVITY")," "),o(2),p("optionSelectForce",t.filteModelContent.linkLocationWorkAreaIds)("optionPlaceholder",C(56,54,"TITLE.Region")),o(3),T("options",t.optionsStatist),o(2),p("dataSource",t.tableSource),o(27),p("matHeaderRowDef",t.tabledisplayedColumns),o(),p("matRowDefColumns",Me(56,w_)),o(),p("matRowDefColumns",t.tabledisplayedColumns),o(),p("matRowDefColumns",Me(57,A_)),o(2),p("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",Me(58,x_)))},dependencies:[be,_t,ke,ti,ii,ni,oi,ai,ri,vt,It,At,bt,Et,xt,Tt,wt,Pt,Rt,ei,di,pi,Lt,mi,ui,Jo,_e,N,Mi,ne],encapsulation:2});var Fr=Nn;var ca=$n(uo());var l1=["vform"],s1=n=>({direction:n});function c1(n,a){if(n&1&&(h(0,"img",20),g(1,"cmsthumbnail")),n&2){let e=d();p("src",x(C(1,2,e.dataModel.linkMainImageIdSrc)),q)}}function d1(n,a){n&1&&h(0,"i",27)}function p1(n,a){n&1&&h(0,"i",28)}function m1(n,a){n&1&&(l(0,"mat-error"),c(1," Title is "),l(2,"strong"),c(3),g(4,"translate"),r()()),n&2&&(o(3),b(C(4,1,"MESSAGE.required")))}function u1(n,a){n&1&&(l(0,"mat-error"),c(1," Description is "),l(2,"strong"),c(3),g(4,"translate"),r()()),n&2&&(o(3),b(C(4,1,"MESSAGE.required")))}function f1(n,a){if(n&1){let e=I();l(0,"div",21)(1,"label",51),c(2),g(3,"translate"),r(),l(4,"textarea",52,11),A("ngModelChange",function(t){u(e);let s=d();return w(s.dataModel.descriptionHidden,t)||(s.dataModel.descriptionHidden=t),f(t)}),c(6,"                "),r(),l(7,"em"),c(8),r()()}if(n&2){let e=k(5),i=d();o(2),b(C(3,5,"TITLE.Description_Hidden")),o(2),p("placeholder",x(i.fieldsInfo.descriptionHidden==null?null:i.fieldsInfo.descriptionHidden.fieldTitle)),T("ngModel",i.dataModel.descriptionHidden),o(4),S("",e.value.length," / 500")}}function _1(n,a){if(n&1){let e=I();l(0,"app-cms-user-selector",53),g(1,"translate"),E("optionChange",function(t){u(e);let s=d();return f(s.onActionSelectorUser(t))}),r()}if(n&2){let e=d();p("optionDisabled",!(e.fieldsInfo.linkCmsUserId!=null&&e.fieldsInfo.linkCmsUserId.accessAddField))("optionSelectForce",e.dataModel.linkCmsUserId)("optionPlaceholder",C(1,3,"TITLE.USER"))}}function h1(n,a){n&1&&h(0,"i",27)}function g1(n,a){n&1&&h(0,"i",28)}function C1(n,a){n&1&&(l(0,"mat-error"),c(1," Address is "),l(2,"strong"),c(3),g(4,"translate"),r()()),n&2&&(o(3),b(C(4,1,"MESSAGE.required")))}function S1(n,a){if(n&1){let e=I();l(0,"div",48)(1,"div",54)(2,"h5",55),c(3),r()(),l(4,"div",56)(5,"div",57)(6,"input",58),A("ngModelChange",function(t){u(e);let s=d();return w(s.dataModel.accessWatchRowSite,t)||(s.dataModel.accessWatchRowSite=t),f(t)}),r(),h(7,"label",59),r()()()}if(n&2){let e=d();o(3),S(" ",e.fieldsInfo.accessWatchRowSite==null?null:e.fieldsInfo.accessWatchRowSite.fieldTitle," "),o(3),T("ngModel",e.dataModel.accessWatchRowSite)}}function y1(n,a){if(n&1){let e=I();l(0,"div",48)(1,"div",54)(2,"h5",60),c(3),r()(),l(4,"div",56)(5,"div",57)(6,"input",61),A("ngModelChange",function(t){u(e);let s=d();return w(s.dataModel.accessWatchRowOtherAgency,t)||(s.dataModel.accessWatchRowOtherAgency=t),f(t)}),r(),h(7,"label",62),r()()()}if(n&2){let e=d();o(3),S(" ",e.fieldsInfo.accessWatchRowOtherAgency==null?null:e.fieldsInfo.accessWatchRowOtherAgency.fieldTitle," "),o(3),T("ngModel",e.dataModel.accessWatchRowOtherAgency)}}function M1(n,a){if(n&1){let e=I();l(0,"div",48)(1,"div",54)(2,"h5",63),c(3),r()(),l(4,"div",56)(5,"div",57)(6,"input",64),A("ngModelChange",function(t){u(e);let s=d();return w(s.dataModel.accessWatchRowOtherAgent,t)||(s.dataModel.accessWatchRowOtherAgent=t),f(t)}),r(),h(7,"label",65),r()()()}if(n&2){let e=d();o(3),S(" ",e.fieldsInfo.accessWatchRowOtherAgent==null?null:e.fieldsInfo.accessWatchRowOtherAgent.fieldTitle," "),o(3),T("ngModel",e.dataModel.accessWatchRowOtherAgent)}}function v1(n,a){if(n&1){let e=I();l(0,"div",48)(1,"div",54)(2,"h5",66),c(3),r()(),l(4,"div",56)(5,"div",57)(6,"input",67),A("ngModelChange",function(t){u(e);let s=d();return w(s.dataModel.accessAllowShareRowWatchOtherAgency,t)||(s.dataModel.accessAllowShareRowWatchOtherAgency=t),f(t)}),r(),h(7,"label",68),r()()()}if(n&2){let e=d();o(3),S(" ",e.fieldsInfo.accessAllowShareRowWatchOtherAgency==null?null:e.fieldsInfo.accessAllowShareRowWatchOtherAgency.fieldTitle," "),o(3),T("ngModel",e.dataModel.accessAllowShareRowWatchOtherAgency)}}function E1(n,a){if(n&1){let e=I();l(0,"div",48)(1,"div",54)(2,"h5",69),c(3),r()(),l(4,"div",56)(5,"div",57)(6,"input",70),A("ngModelChange",function(t){u(e);let s=d();return w(s.dataModel.accessAllowShareRowWatchOtherAgent,t)||(s.dataModel.accessAllowShareRowWatchOtherAgent=t),f(t)}),r(),h(7,"label",71),r()()()}if(n&2){let e=d();o(3),S(" ",e.fieldsInfo.accessAllowShareRowWatchOtherAgent==null?null:e.fieldsInfo.accessAllowShareRowWatchOtherAgent.fieldTitle," "),o(3),T("ngModel",e.dataModel.accessAllowShareRowWatchOtherAgent)}}function I1(n,a){if(n&1){let e=I();l(0,"div",48)(1,"div",54)(2,"h5",72),c(3),r()(),l(4,"div",56)(5,"div",57)(6,"input",73),A("ngModelChange",function(t){u(e);let s=d();return w(s.dataModel.notificationWorkAreaEstate,t)||(s.dataModel.notificationWorkAreaEstate=t),f(t)}),r(),h(7,"label",74),r()()()}if(n&2){let e=d();o(3),S(" ",e.fieldsInfo.notificationWorkAreaEstate==null?null:e.fieldsInfo.notificationWorkAreaEstate.fieldTitle," "),o(3),T("ngModel",e.dataModel.notificationWorkAreaEstate)}}function b1(n,a){if(n&1){let e=I();l(0,"div",48)(1,"div",54)(2,"h5",75),c(3),r()(),l(4,"div",56)(5,"div",57)(6,"input",76),A("ngModelChange",function(t){u(e);let s=d();return w(s.dataModel.notificationWorkAreaCustomerOrder,t)||(s.dataModel.notificationWorkAreaCustomerOrder=t),f(t)}),r(),h(7,"label",77),r()()()}if(n&2){let e=d();o(3),S(" ",e.fieldsInfo.notificationWorkAreaCustomerOrder==null?null:e.fieldsInfo.notificationWorkAreaCustomerOrder.fieldTitle," "),o(3),T("ngModel",e.dataModel.notificationWorkAreaCustomerOrder)}}function T1(n,a){if(n&1){let e=I();l(0,"div",50)(1,"button",78),E("click",function(){u(e);let t=d();return f(t.onFormCancel())}),h(2,"i",79),c(3),g(4,"translate"),r(),l(5,"button",80),h(6,"i",81),c(7),g(8,"translate"),r()()}if(n&2){d();let e=k(10);o(3),S(" ",C(4,3,"ACTION.CANCEL")," "),o(2),p("disabled",!e.form.valid),o(2),S(" ",C(8,5,"ACTION.SAVE")," ")}}var Gn=class Gn extends Yt{constructor(e,i,t,s,_,m,U,oe,Ie,ze){super(s,new Nt,m,Ie);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.estateAccountExpertService=s;this.cmsToastrService=_;this.publicHelper=m;this.cmsStoreService=U;this.cdr=oe;this.translate=Ie;this.tokenHelper=ze;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.tokenInfo=new Vt;this.dataModelResult=new j;this.dataModel=new Nt;this.formInfo=new Le;this.fileManagerOpenForm=!1;this.viewMap=!1;this.mapMarkerPoints=[];this.mapOptonCenter=new bi;this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess()}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estateAccountExpertService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e),this.formInfo.submitButtonEnabled=!0},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}receiveMap(e=this.mapModel){e&&(this.mapModel=e,this.mapMarkerPoints&&this.mapMarkerPoints.length>0&&(this.mapMarkerPoints.forEach(i=>{this.mapMarker=ca.marker([i.lat,i.lon]).addTo(this.mapModel)}),this.mapOptonCenter=this.mapMarkerPoints[0],this.mapMarkerPoints=[]),this.mapModel.on("click",i=>{let t=i.latlng.lat,s=i.latlng.lng;if(this.mapMarker!==void 0&&this.mapModel.removeLayer(this.mapMarker),t===this.dataModel.geolocationlatitude&&s===this.dataModel.geolocationlongitude){this.dataModel.geolocationlatitude=null,this.dataModel.geolocationlongitude=null;return}this.mapMarker=ca.marker([t,s]).addTo(this.mapModel),this.dataModel.geolocationlatitude=t,this.dataModel.geolocationlongitude=s}))}receiveZoom(e){}onActionSelectorUser(e){this.dataModel.linkCmsUserId=null,e&&e.id>0&&(this.dataModel.linkCmsUserId=e.id)}onActionSelectorLocation(e){this.dataModel.linkLocationId=null,e&&e.id>0&&(this.dataModel.linkLocationId=e.id)}onActionSelectorLocationWorkArea(e){this.dataModel.linkLocationWorkAreaIds=e}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}onActionFileSelected(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}};Gn.\u0275fac=function(i){return new(i||Gn)(v(je),v(Re),v(te),v(Ut),v(F),v(W),v(z),v(H),v(B),v(K))},Gn.\u0275cmp=O({type:Gn,selectors:[["app-estate-account-expert-add"]],viewQuery:function(i,t){if(i&1&&He(l1,5),i&2){let s;Ne(s=Ge())&&(t.formGroup=s.first)}},standalone:!1,features:[ge],decls:117,vars:118,consts:[["vform","ngForm"],["LinkMainImageId",""],["Title",""],["Description",""],["JoinId",""],["SerialRfId",""],["SerialNumber",""],["PlaceProduction",""],["PhoneNumber",""],["mobileNumber",""],["Address",""],["DescriptionHidden",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit","ngStyle"],[1,"mb-3"],["target","_blank",3,"href"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openSelectFileDescription","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],["for","dataModel.joinId",1,"color-highlight"],["matInput","","name","dataModel.joinId","type","text","minlength","0","maxlength","64","id","dataModel.joinId",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.serialRfId",1,"color-highlight"],["matInput","","name","dataModel.serialRfId","type","text","minlength","0","maxlength","64","id","dataModel.serialRfId",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.serialNumber",1,"color-highlight"],["matInput","","name","dataModel.serialNumber","type","text","minlength","0","maxlength","64","id","dataModel.serialNumber",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.placeProduction",1,"color-highlight"],["matInput","","name","dataModel.placeProduction","type","text","minlength","0","maxlength","64","id","dataModel.placeProduction",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.phoneNumber",1,"color-highlight"],["matInput","","name","dataModel.phoneNumber","type","text","minlength","0","maxlength","64","id","dataModel.phoneNumber",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.mobileNumber",1,"color-highlight"],["matInput","","name","dataModel.mobileNumber","type","text","minlength","0","maxlength","64","id","dataModel.mobileNumber",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.address",1,"color-highlight"],["matInput","","name","dataModel.address","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.address","required","",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[3,"optionChange","optionSelectForce","optionPlaceholder","optionDisabled"],[3,"optionChange","optionSelectForce","optionPlaceholder"],[1,"d-flex","mb-3"],["id","main-map",3,"map$","zoom$","optonCenter"],[1,"form-actions"],["for","dataModel.descriptionHidden",1,"color-highlight"],["matInput","","name","dataModel.descriptionHidden","type","text","minlength","0","maxlength","500","rows","5","id","dataModel.descriptionHidden",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],[1,"pt-1"],["data-trigger-switch","dataModel.accessWatchRowSite",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.accessWatchRowSite","name","dataModel.accessWatchRowSite",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.accessWatchRowSite",1,"custom-control-label"],["data-trigger-switch","dataModel.accessWatchRowOtherAgency",1,"font-600","font-14"],["type","checkbox","id","dataModel.accessWatchRowOtherAgency","name","dataModel.accessWatchRowOtherAgency",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.accessWatchRowOtherAgency",1,"custom-control-label"],["data-trigger-switch","dataModel.accessWatchRowOtherAgent",1,"font-600","font-14"],["type","checkbox","id","dataModel.accessWatchRowOtherAgent","name","dataModel.accessWatchRowOtherAgent",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.accessWatchRowOtherAgent",1,"custom-control-label"],["data-trigger-switch","dataModel.accessAllowShareRowWatchOtherAgency",1,"font-600","font-14"],["type","checkbox","id","dataModel.accessAllowShareRowWatchOtherAgency","name","dataModel.accessAllowShareRowWatchOtherAgency",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.accessAllowShareRowWatchOtherAgency",1,"custom-control-label"],["data-trigger-switch","dataModel.accessAllowShareRowWatchOtherAgent",1,"font-600","font-14"],["type","checkbox","id","dataModel.accessAllowShareRowWatchOtherAgent","name","dataModel.accessAllowShareRowWatchOtherAgent",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.accessAllowShareRowWatchOtherAgent",1,"custom-control-label"],["data-trigger-switch","dataModel.notificationWorkAreaEstate",1,"font-600","font-14"],["type","checkbox","id","dataModel.notificationWorkAreaEstate","name","dataModel.notificationWorkAreaEstate",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.notificationWorkAreaEstate",1,"custom-control-label"],["data-trigger-switch","dataModel.notificationWorkAreaCustomerOrder",1,"font-600","font-14"],["type","checkbox","id","dataModel.notificationWorkAreaCustomerOrder","name","dataModel.notificationWorkAreaCustomerOrder",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.notificationWorkAreaCustomerOrder",1,"custom-control-label"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=I();l(0,"div",12),h(1,"app-progress-spinner",13),l(2,"div",14)(3,"p",15),c(4),r(),l(5,"p"),c(6),g(7,"translate"),r(),h(8,"app-cms-form-result-message",16),l(9,"form",17,0),E("ngSubmit",function(){return u(s),f(t.onFormSubmit())}),l(11,"div",18)(12,"a",19),g(13,"cmsthumbnail"),y(14,c1,2,4,"img",20),r()(),l(15,"div",21)(16,"label",22),E("click",function(){return u(s),f(t.fileManagerOpenForm=!0)}),c(17),g(18,"translate"),r(),l(19,"input",23,1),g(21,"translate"),A("ngModelChange",function(m){return u(s),w(t.dataModel.linkMainImageId,m)||(t.dataModel.linkMainImageId=m),f(m)}),E("click",function(){return u(s),f(t.fileManagerOpenForm=!0)}),r(),l(22,"cms-file-manager",24),g(23,"translate"),E("itemSelected",function(m){return u(s),f(t.onActionFileSelected(m))}),A("openFormChange",function(m){return u(s),w(t.fileManagerOpenForm,m)||(t.fileManagerOpenForm=m),f(m)}),r()(),l(24,"div",21)(25,"label",25),c(26),r(),l(27,"input",26,2),A("ngModelChange",function(m){return u(s),w(t.dataModel.title,m)||(t.dataModel.title=m),f(m)}),r(),y(29,d1,1,0,"i",27),y(30,p1,1,0,"i",28),h(31,"em"),y(32,m1,5,3,"mat-error"),r(),l(33,"div",21)(34,"label",29),c(35),r(),l(36,"textarea",30,3),A("ngModelChange",function(m){return u(s),w(t.dataModel.description,m)||(t.dataModel.description=m),f(m)}),c(38,"              "),r(),l(39,"em"),c(40),r(),y(41,u1,5,3,"mat-error"),r(),y(42,f1,9,7,"div",21),y(43,_1,2,5,"app-cms-user-selector",31),l(44,"div",21)(45,"label",32),c(46),r(),l(47,"input",33,4),A("ngModelChange",function(m){return u(s),w(t.dataModel.joinId,m)||(t.dataModel.joinId=m),f(m)}),r(),l(49,"em"),c(50),r()(),l(51,"div",21)(52,"label",34),c(53),r(),l(54,"input",35,5),A("ngModelChange",function(m){return u(s),w(t.dataModel.serialRfId,m)||(t.dataModel.serialRfId=m),f(m)}),r(),l(56,"em"),c(57),r()(),l(58,"div",21)(59,"label",36),c(60),r(),l(61,"input",37,6),A("ngModelChange",function(m){return u(s),w(t.dataModel.serialNumber,m)||(t.dataModel.serialNumber=m),f(m)}),r(),l(63,"em"),c(64),r()(),l(65,"div",21)(66,"label",38),c(67),r(),l(68,"input",39,7),A("ngModelChange",function(m){return u(s),w(t.dataModel.placeProduction,m)||(t.dataModel.placeProduction=m),f(m)}),r()(),l(70,"div",21)(71,"label",40),c(72),r(),l(73,"input",41,8),A("ngModelChange",function(m){return u(s),w(t.dataModel.phoneNumber,m)||(t.dataModel.phoneNumber=m),f(m)}),r(),l(75,"em"),c(76),r()(),l(77,"div",21)(78,"label",42),c(79),r(),l(80,"input",43,9),A("ngModelChange",function(m){return u(s),w(t.dataModel.mobileNumber,m)||(t.dataModel.mobileNumber=m),f(m)}),r(),l(82,"em"),c(83),r()(),l(84,"div",21)(85,"label",44),c(86),r(),l(87,"textarea",45,10),A("ngModelChange",function(m){return u(s),w(t.dataModel.address,m)||(t.dataModel.address=m),f(m)}),c(89,"                          "),r(),y(90,h1,1,0,"i",27),y(91,g1,1,0,"i",28),l(92,"em"),c(93),r(),y(94,C1,5,3,"mat-error"),r(),l(95,"app-cms-location-selector",46),g(96,"translate"),E("optionChange",function(m){return u(s),f(t.onActionSelectorLocation(m))}),r(),h(97,"br"),c(98),g(99,"translate"),l(100,"app-cms-location-autocomplete",47),g(101,"translate"),E("optionChange",function(m){return u(s),f(t.onActionSelectorLocationWorkArea(m))}),r(),h(102,"hr"),y(103,S1,8,2,"div",48),y(104,y1,8,2,"div",48),y(105,M1,8,2,"div",48),y(106,v1,8,2,"div",48),y(107,E1,8,2,"div",48),h(108,"hr"),y(109,I1,8,2,"div",48),y(110,b1,8,2,"div",48),h(111,"hr"),l(112,"p"),c(113),g(114,"translate"),r(),l(115,"app-cms-map",49),E("map$",function(m){return u(s),f(t.receiveMap(m))})("zoom$",function(m){return u(s),f(t.receiveZoom(m))}),r(),y(116,T1,9,7,"div",50),r()()()}if(i&2){let s=k(28),_=k(37),m=k(48),U=k(55),oe=k(62),Ie=k(74),ze=k(81),We=k(88);o(),p("optionsInfoAreaId",t.constructorInfoAreaId),o(3),S(" ",t.formInfo.formTitle," "),o(2),S(" ",C(7,98,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),p("formInfo",t.formInfo),o(),p("ngStyle",ve(116,s1,t.tokenInfo.access.direction)),o(3),p("href",x(C(13,100,t.dataModel.linkMainImageIdSrc)),q),o(2),M((t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0?14:-1),o(3),b(C(18,102,"TITLE.Profile_Picture")),o(2),p("placeholder",x(C(21,104,"TITLE.Profile_Photo_File_ID"))),T("ngModel",t.dataModel.linkMainImageId),o(3),p("language",t.appLanguage)("isPopup",!0)("openSelectFileDescription",C(23,106,"TITLE.The_dimensions_of_the_photo_should_be_600_x_600")),T("openForm",t.fileManagerOpenForm),p("tree",t.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",t.selectFileTypeMainImage)("openFilemanagerButtonView",!1),o(4),b(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),p("placeholder",x(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),T("ngModel",t.dataModel.title),p("disabled",!(t.fieldsInfo.title!=null&&t.fieldsInfo.title.accessAddField)),o(2),M(s.value?-1:29),o(),M(s.value?30:-1),o(2),M(s.errors!=null&&s.errors.required?32:-1),o(3),b(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),p("placeholder",x(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),T("ngModel",t.dataModel.description),p("disabled",!(t.fieldsInfo.description!=null&&t.fieldsInfo.description.accessAddField)),o(4),S("",_.value.length," / 500"),o(),M(_.errors!=null&&_.errors.required?41:-1),o(),M(t.fieldsInfo.descriptionHidden!=null&&t.fieldsInfo.descriptionHidden.accessWatchField?42:-1),o(),M(t.tokenHelper.isAdminSite?43:-1),o(3),b(t.fieldsInfo.joinId==null?null:t.fieldsInfo.joinId.fieldTitle),o(),p("placeholder",x(t.fieldsInfo.joinId==null?null:t.fieldsInfo.joinId.fieldTitle)),T("ngModel",t.dataModel.joinId),p("disabled",!(t.fieldsInfo.joinId!=null&&t.fieldsInfo.joinId.accessAddField)),o(3),S("",m.value.length," / 64"),o(3),b(t.fieldsInfo.serialRfId==null?null:t.fieldsInfo.serialRfId.fieldTitle),o(),p("placeholder",x(t.fieldsInfo.serialRfId==null?null:t.fieldsInfo.serialRfId.fieldTitle)),T("ngModel",t.dataModel.serialRfId),p("disabled",!(t.fieldsInfo.serialRfId!=null&&t.fieldsInfo.serialRfId.accessAddField)),o(3),S("",U.value.length," / 64"),o(3),b(t.fieldsInfo.serialNumber==null?null:t.fieldsInfo.serialNumber.fieldTitle),o(),p("placeholder",x(t.fieldsInfo.serialNumber==null?null:t.fieldsInfo.serialNumber.fieldTitle)),T("ngModel",t.dataModel.serialNumber),p("disabled",!(t.fieldsInfo.serialNumber!=null&&t.fieldsInfo.serialNumber.accessAddField)),o(3),S("",oe.value.length," / 64"),o(3),b(t.fieldsInfo.placeProduction==null?null:t.fieldsInfo.placeProduction.fieldTitle),o(),p("placeholder",x(t.fieldsInfo.placeProduction==null?null:t.fieldsInfo.placeProduction.fieldTitle)),T("ngModel",t.dataModel.placeProduction),p("disabled",!(t.fieldsInfo.placeProduction!=null&&t.fieldsInfo.placeProduction.accessAddField)),o(4),b(t.fieldsInfo.phoneNumber==null?null:t.fieldsInfo.phoneNumber.fieldTitle),o(),p("placeholder",x(t.fieldsInfo.phoneNumber==null?null:t.fieldsInfo.phoneNumber.fieldTitle)),T("ngModel",t.dataModel.phoneNumber),p("disabled",!(t.fieldsInfo.phoneNumber!=null&&t.fieldsInfo.phoneNumber.accessAddField)),o(3),S("",Ie.value.length," / 64"),o(3),b(t.fieldsInfo.mobileNumber==null?null:t.fieldsInfo.mobileNumber.fieldTitle),o(),p("placeholder",x(t.fieldsInfo.mobileNumber==null?null:t.fieldsInfo.mobileNumber.fieldTitle)),T("ngModel",t.dataModel.mobileNumber),p("disabled",!(t.fieldsInfo.mobileNumber!=null&&t.fieldsInfo.mobileNumber.accessAddField)),o(3),S("",ze.value.length," / 64"),o(3),b(t.fieldsInfo.address==null?null:t.fieldsInfo.address.fieldTitle),o(),p("placeholder",x(t.fieldsInfo.address==null?null:t.fieldsInfo.address.fieldTitle)),T("ngModel",t.dataModel.address),p("disabled",!(t.fieldsInfo.address!=null&&t.fieldsInfo.address.accessAddField)),o(3),M(s.value?-1:90),o(),M(s.value?91:-1),o(2),S("",We.value.length," / 500"),o(),M(We.errors!=null&&We.errors.required?94:-1),o(),p("optionSelectForce",t.dataModel.linkLocationId)("optionPlaceholder",C(96,108,"TITLE.Geographical_Region"))("optionDisabled",!(t.fieldsInfo.linkLocationId!=null&&t.fieldsInfo.linkLocationId.accessAddField)),o(3),S(" ",C(99,110,"TITLE.COVERED_AREAS")," "),o(2),p("optionSelectForce",t.dataModel.linkLocationWorkAreaIds)("optionPlaceholder",C(101,112,"TITLE.Region")),o(3),M(t.tokenHelper.isAdminSite||t.tokenHelper.isSupportSite?103:-1),o(),M(t.tokenHelper.isAdminSite||t.tokenHelper.isSupportSite?104:-1),o(),M(t.tokenHelper.isAdminSite||t.tokenHelper.isSupportSite?105:-1),o(),M(t.tokenHelper.isAdminSite||t.tokenHelper.isSupportSite?106:-1),o(),M(t.tokenHelper.isAdminSite||t.tokenHelper.isSupportSite?107:-1),o(2),M(t.tokenHelper.isAdminSite||t.tokenHelper.isSupportSite?109:-1),o(),M(t.tokenHelper.isAdminSite||t.tokenHelper.isSupportSite?110:-1),o(3),b(C(114,114,"TITLE.Click_on_the_map_to_specify_the_location")),o(2),p("optonCenter",t.mapOptonCenter),o(),M(t.formInfo.submitButtonEnabled?116:-1)}},dependencies:[be,et,ie,Ot,$,Xe,ae,it,nt,Te,$e,ot,ee,fi,Lt,si,wi,G,De,kt,N,ne],encapsulation:2});var Zo=Gn;var da=$n(uo());var w1=["vform"],A1=n=>({direction:n});function x1(n,a){if(n&1&&(h(0,"img",23),g(1,"cmsthumbnail")),n&2){let e=d();p("src",x(C(1,2,e.dataModel.linkMainImageIdSrc)),q)}}function P1(n,a){n&1&&h(0,"i",30)}function R1(n,a){n&1&&h(0,"i",31)}function k1(n,a){n&1&&(l(0,"mat-error"),c(1," Title is "),l(2,"strong"),c(3),g(4,"translate"),r()()),n&2&&(o(3),b(C(4,1,"MESSAGE.required")))}function L1(n,a){n&1&&(l(0,"mat-error"),c(1," Description is "),l(2,"strong"),c(3),g(4,"translate"),r()()),n&2&&(o(3),b(C(4,1,"MESSAGE.required")))}function D1(n,a){if(n&1){let e=I();l(0,"div",24)(1,"label",60),c(2),g(3,"translate"),r(),l(4,"textarea",61,12),A("ngModelChange",function(t){u(e);let s=d();return w(s.dataModel.descriptionHidden,t)||(s.dataModel.descriptionHidden=t),f(t)}),c(6,"                    "),r(),l(7,"em"),c(8),r()()}if(n&2){let e=k(5),i=d();o(2),b(C(3,7,"TITLE.Description_Hidden")),o(2),p("placeholder",x(i.fieldsInfo.descriptionHidden==null?null:i.fieldsInfo.descriptionHidden.fieldTitle))("disabled",x(!(i.fieldsInfo.descriptionHidden!=null&&i.fieldsInfo.descriptionHidden.accessEditField))),T("ngModel",i.dataModel.descriptionHidden),o(4),S("",e.value.length," / 500")}}function V1(n,a){if(n&1){let e=I();l(0,"app-cms-user-selector",62),g(1,"translate"),E("optionChange",function(t){u(e);let s=d();return f(s.onActionSelectorUser(t))}),r()}if(n&2){let e=d();p("optionDisabled",!(e.fieldsInfo.linkCmsUserId!=null&&e.fieldsInfo.linkCmsUserId.accessEditField))("optionSelectForce",e.dataModel.linkCmsUserId)("optionPlaceholder",C(1,3,"TITLE.USER"))}}function O1(n,a){n&1&&h(0,"i",30)}function B1(n,a){n&1&&h(0,"i",31)}function F1(n,a){n&1&&(l(0,"mat-error"),c(1," Address is "),l(2,"strong"),c(3),g(4,"translate"),r()()),n&2&&(o(3),b(C(4,1,"MESSAGE.required")))}function W1(n,a){if(n&1){let e=I();l(0,"div",51)(1,"div",63)(2,"h5",64),c(3),r()(),l(4,"div",65)(5,"div",66)(6,"input",67),A("ngModelChange",function(t){u(e);let s=d();return w(s.dataModel.accessWatchRowSite,t)||(s.dataModel.accessWatchRowSite=t),f(t)}),r(),h(7,"label",68),r()()()}if(n&2){let e=d();o(3),S(" ",e.fieldsInfo.accessWatchRowSite==null?null:e.fieldsInfo.accessWatchRowSite.fieldTitle," "),o(3),T("ngModel",e.dataModel.accessWatchRowSite)}}function H1(n,a){if(n&1){let e=I();l(0,"div",51)(1,"div",63)(2,"h5",69),c(3),r()(),l(4,"div",65)(5,"div",66)(6,"input",70),A("ngModelChange",function(t){u(e);let s=d();return w(s.dataModel.accessWatchRowOtherAgency,t)||(s.dataModel.accessWatchRowOtherAgency=t),f(t)}),r(),h(7,"label",71),r()()()}if(n&2){let e=d();o(3),S(" ",e.fieldsInfo.accessWatchRowOtherAgency==null?null:e.fieldsInfo.accessWatchRowOtherAgency.fieldTitle," "),o(3),T("ngModel",e.dataModel.accessWatchRowOtherAgency)}}function N1(n,a){if(n&1){let e=I();l(0,"div",51)(1,"div",63)(2,"h5",72),c(3),r()(),l(4,"div",65)(5,"div",66)(6,"input",73),A("ngModelChange",function(t){u(e);let s=d();return w(s.dataModel.accessWatchRowOtherAgent,t)||(s.dataModel.accessWatchRowOtherAgent=t),f(t)}),r(),h(7,"label",74),r()()()}if(n&2){let e=d();o(3),S(" ",e.fieldsInfo.accessWatchRowOtherAgent==null?null:e.fieldsInfo.accessWatchRowOtherAgent.fieldTitle," "),o(3),T("ngModel",e.dataModel.accessWatchRowOtherAgent)}}function G1(n,a){if(n&1){let e=I();l(0,"div",51)(1,"div",63)(2,"h5",75),c(3),r()(),l(4,"div",65)(5,"div",66)(6,"input",76),A("ngModelChange",function(t){u(e);let s=d();return w(s.dataModel.accessAllowShareRowWatchOtherAgency,t)||(s.dataModel.accessAllowShareRowWatchOtherAgency=t),f(t)}),r(),h(7,"label",77),r()()()}if(n&2){let e=d();o(3),S(" ",e.fieldsInfo.accessAllowShareRowWatchOtherAgency==null?null:e.fieldsInfo.accessAllowShareRowWatchOtherAgency.fieldTitle," "),o(3),T("ngModel",e.dataModel.accessAllowShareRowWatchOtherAgency)}}function U1(n,a){if(n&1){let e=I();l(0,"div",51)(1,"div",63)(2,"h5",78),c(3),r()(),l(4,"div",65)(5,"div",66)(6,"input",79),A("ngModelChange",function(t){u(e);let s=d();return w(s.dataModel.accessAllowShareRowWatchOtherAgent,t)||(s.dataModel.accessAllowShareRowWatchOtherAgent=t),f(t)}),r(),h(7,"label",80),r()()()}if(n&2){let e=d();o(3),S(" ",e.fieldsInfo.accessAllowShareRowWatchOtherAgent==null?null:e.fieldsInfo.accessAllowShareRowWatchOtherAgent.fieldTitle," "),o(3),T("ngModel",e.dataModel.accessAllowShareRowWatchOtherAgent)}}function q1(n,a){if(n&1){let e=I();l(0,"div",51)(1,"div",63)(2,"h5",81),c(3),r()(),l(4,"div",65)(5,"div",66)(6,"input",82),A("ngModelChange",function(t){u(e);let s=d();return w(s.dataModel.notificationWorkAreaEstate,t)||(s.dataModel.notificationWorkAreaEstate=t),f(t)}),r(),h(7,"label",83),r()()()}if(n&2){let e=d();o(3),S(" ",e.fieldsInfo.notificationWorkAreaEstate==null?null:e.fieldsInfo.notificationWorkAreaEstate.fieldTitle," "),o(3),T("ngModel",e.dataModel.notificationWorkAreaEstate)}}function j1(n,a){if(n&1){let e=I();l(0,"div",51)(1,"div",63)(2,"h5",84),c(3),r()(),l(4,"div",65)(5,"div",66)(6,"input",85),A("ngModelChange",function(t){u(e);let s=d();return w(s.dataModel.notificationWorkAreaCustomerOrder,t)||(s.dataModel.notificationWorkAreaCustomerOrder=t),f(t)}),r(),h(7,"label",86),r()()()}if(n&2){let e=d();o(3),S(" ",e.fieldsInfo.notificationWorkAreaCustomerOrder==null?null:e.fieldsInfo.notificationWorkAreaCustomerOrder.fieldTitle," "),o(3),T("ngModel",e.dataModel.notificationWorkAreaCustomerOrder)}}function Q1(n,a){if(n&1){let e=I();l(0,"div",51)(1,"div",63)(2,"h5",75),c(3," accessShareAgencyToUser "),r()(),l(4,"div",65)(5,"div",66)(6,"input",87),A("ngModelChange",function(t){u(e);let s=d();return w(s.dataEstateAccountAgencyExpertModel.accessShareAgencyToUser,t)||(s.dataEstateAccountAgencyExpertModel.accessShareAgencyToUser=t),f(t)}),r(),h(7,"label",88),r()()()}if(n&2){let e=d();o(6),T("ngModel",e.dataEstateAccountAgencyExpertModel.accessShareAgencyToUser)}}function Y1(n,a){if(n&1){let e=I();l(0,"div",51)(1,"div",63)(2,"h5",89),c(3," accessShareUserToAgency "),r()(),l(4,"div",65)(5,"div",66)(6,"input",90),A("ngModelChange",function(t){u(e);let s=d();return w(s.dataEstateAccountAgencyExpertModel.accessShareUserToAgency,t)||(s.dataEstateAccountAgencyExpertModel.accessShareUserToAgency=t),f(t)}),r(),h(7,"label",91),r()()()}if(n&2){let e=d();o(6),T("ngModel",e.dataEstateAccountAgencyExpertModel.accessShareUserToAgency)}}function z1(n,a){if(n&1){let e=I();l(0,"button",92),E("click",function(){u(e);let t=d();return f(t.onActionDataGetAddGroup())}),c(1," + "),r()}}function K1(n,a){if(n&1&&(l(0,"mat-header-cell"),c(1),r()),n&2){let e=d(2);o(),S(" ",e.fieldsInfoAgencyUser.linkEstateExpertId==null?null:e.fieldsInfoAgencyUser.linkEstateExpertId.fieldTitle," ")}}function J1(n,a){if(n&1&&(c(0),g(1,"estateAccountExpertInfo"),g(2,"async")),n&2){let e=d().$implicit;S(" ",C(2,3,C(1,1,e.linkEstateExpertId))," ")}}function Z1(n,a){if(n&1&&(l(0,"mat-cell"),y(1,J1,3,5),r()),n&2){let e=a.$implicit;o(),M(e.linkEstateExpertId?1:-1)}}function X1(n,a){if(n&1&&(l(0,"mat-header-cell"),c(1),r()),n&2){let e=d(2);o(),S(" ",e.fieldsInfoAgencyUser.linkEstateAccountAgencyId==null?null:e.fieldsInfoAgencyUser.linkEstateAccountAgencyId.fieldTitle," ")}}function $1(n,a){if(n&1&&(c(0),g(1,"estateAccountAgencyInfo"),g(2,"async")),n&2){let e=d().$implicit;S(" ",C(2,3,C(1,1,e.linkEstateAccountAgencyId))," ")}}function eh(n,a){if(n&1&&(l(0,"mat-cell"),y(1,$1,3,5),r()),n&2){let e=a.$implicit;o(),M(e.linkEstateAccountAgencyId?1:-1)}}function th(n,a){if(n&1&&(l(0,"mat-header-cell"),c(1),r()),n&2){let e=d(2);o(),S(" ",e.fieldsInfoAgencyUser.accessShareUserToAgency==null?null:e.fieldsInfoAgencyUser.accessShareUserToAgency.fieldTitle," ")}}function ih(n,a){if(n&1&&(h(0,"i",104),g(1,"boolclass")),n&2){let e=d().$implicit;p("ngClass",C(1,1,e.accessShareUserToAgency))}}function nh(n,a){if(n&1&&(l(0,"mat-cell"),y(1,ih,2,3,"i",104),r()),n&2){let e=a.$implicit;o(),M(e.accessShareUserToAgency?1:-1)}}function oh(n,a){if(n&1&&(l(0,"mat-header-cell"),c(1),r()),n&2){let e=d(2);o(),S(" ",e.fieldsInfoAgencyUser.accessShareAgencyToUser==null?null:e.fieldsInfoAgencyUser.accessShareAgencyToUser.fieldTitle," ")}}function ah(n,a){if(n&1&&(h(0,"i",104),g(1,"boolclass")),n&2){let e=d().$implicit;p("ngClass",C(1,1,e.accessShareAgencyToUser))}}function rh(n,a){if(n&1&&(l(0,"mat-cell"),y(1,ah,2,3,"i",104),r()),n&2){let e=a.$implicit;o(),M(e.accessShareAgencyToUser?1:-1)}}function lh(n,a){n&1&&(l(0,"mat-header-cell"),c(1),g(2,"translate"),r()),n&2&&(o(),S(" ",C(2,1,"TITLE.OPTION")," "))}function sh(n,a){if(n&1){let e=I();l(0,"mat-cell",105)(1,"button",106)(2,"small",107),E("click",function(){let t=u(e).$implicit,s=d(2);return f(s.onActionDataGetDeleteGroup(t))}),l(3,"mat-icon",108),g(4,"translate"),c(5,"delete"),r()()()()}n&2&&(o(3),p("matTooltip",x(C(4,2,"ACTION.DELETE"))))}function ch(n,a){n&1&&h(0,"mat-header-row")}function dh(n,a){if(n&1&&h(0,"mat-row"),n&2){let e=a.dataIndex;J("ntk-row-odd",e%2)("ntk-row-even",!(e%2))}}function ph(n,a){if(n&1&&(l(0,"div",56)(1,"mat-table",93),P(2,94),L(3,K1,2,1,"mat-header-cell",95)(4,Z1,2,1,"mat-cell",96),R(),P(5,97),L(6,X1,2,1,"mat-header-cell",95)(7,eh,2,1,"mat-cell",96),R(),P(8,98),L(9,th,2,1,"mat-header-cell",95)(10,nh,2,1,"mat-cell",96),R(),P(11,99),L(12,oh,2,1,"mat-header-cell",95)(13,rh,2,1,"mat-cell",96),R(),P(14,100),L(15,lh,3,3,"mat-header-cell",95)(16,sh,6,4,"mat-cell",101),R(),L(17,ch,1,0,"mat-header-row",102)(18,dh,1,4,"mat-row",103),r()()),n&2){let e=d();o(),p("dataSource",e.optionTabledataSource),o(16),p("matHeaderRowDef",e.optionTabledisplayedColumns),o(),p("matRowDefColumns",e.optionTabledisplayedColumns)}}function mh(n,a){n&1&&(l(0,"mat-icon"),c(1,"call_end"),r())}function uh(n,a){n&1&&(l(0,"mat-icon"),c(1,"forum"),r())}function fh(n,a){if(n&1){let e=I();l(0,"div",59)(1,"button",109),E("click",function(){u(e);let t=d();return f(t.onFormCancel())}),h(2,"i",110),c(3),g(4,"translate"),r(),l(5,"button",111),h(6,"i",112),c(7),g(8,"translate"),r()()}if(n&2){d();let e=k(10);o(3),S(" ",C(4,3,"ACTION.CANCEL")," "),o(2),p("disabled",!e.form.valid),o(2),S(" ",C(8,5,"ACTION.SAVE")," ")}}var Un=class Un extends Ti{constructor(e,i,t,s,_,m,U,oe,Ie,ze,We){super(s,new Nt,oe,We);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.estateAccountExpertService=s;this.estateAccountAgencyExpertService=_;this.cmsToastrService=m;this.cmsStoreService=U;this.publicHelper=oe;this.tokenHelper=Ie;this.cdr=ze;this.translate=We;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.fieldsInfoAgencyUser=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new Ci;this.dataModel=new Nt;this.dataEstateAccountAgencyExpertModel=new io;this.formInfo=new Le;this.fileManagerOpenForm=!1;this.optionTabledataSource=new nn;this.optionTabledisplayedColumns=["LinkEstateExpertId","LinkEstateAccountAgencyId","AccessShareUserToAgency","AccessShareAgencyToUser","Action"];this.viewMap=!1;this.mapMarkerPoints=[];this.mapOptonCenter=new bi;this.dataEstateAccountAgencyModel=[];this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),this.DataGetAccess(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore}ngOnInit(){if(this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.DataGetAllGroup()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estateAccountExpertService.setAccessLoad(),this.estateAccountExpertService.setAccessDataType(Ue.Editor),this.estateAccountExpertService.ServiceGetOneById(this.requestId).subscribe({next:i=>{if(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess){let t=this.dataModel.geolocationlatitude,s=this.dataModel.geolocationlongitude;t>0&&s>0&&(this.mapMarkerPoints=[],this.mapMarkerPoints.push({lat:t,lon:s}),this.receiveMap()),this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.submitResultMessage=""}else this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage);this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estateAccountExpertService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e),this.formInfo.submitButtonEnabled=!0},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}receiveMap(e=this.mapModel){e&&(this.mapModel=e,this.mapMarkerPoints&&this.mapMarkerPoints.length>0&&(this.mapMarkerPoints.forEach(i=>{this.mapMarker=da.marker([i.lat,i.lon]).addTo(this.mapModel)}),this.mapOptonCenter=this.mapMarkerPoints[0],this.mapMarkerPoints=[]),this.mapModel.on("click",i=>{let t=i.latlng.lat,s=i.latlng.lng;if(this.mapMarker!==void 0&&this.mapModel.removeLayer(this.mapMarker),t===this.dataModel.geolocationlatitude&&s===this.dataModel.geolocationlongitude){this.dataModel.geolocationlatitude=null,this.dataModel.geolocationlongitude=null;return}this.mapMarker=da.marker([t,s]).addTo(this.mapModel),this.dataModel.geolocationlatitude=t,this.dataModel.geolocationlongitude=s}))}receiveZoom(e){}onActionSelectorUser(e){this.dataModel.linkCmsUserId=null,e&&e.id>0&&(this.dataModel.linkCmsUserId=e.id)}onActionSelectorLocation(e){this.dataModel.linkLocationId=null,e&&e.id>0&&(this.dataModel.linkLocationId=e.id)}onStepClick(e,i){e.previouslySelectedIndex<e.selectedIndex}DataGetAllGroup(){if(this.requestId.length<=0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Getting_access_category_from_the_server").subscribe(s=>{this.formInfo.submitResultMessage=s}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(s=>{this.publicHelper.processService.processStart(e,s,this.constructorInfoAreaId)});let i=new he,t=new D;t.propertyName="linkEstateExpertId",t.value=this.requestId,i.filters.push(t),this.estateAccountAgencyExpertService.ServiceGetAll(i).subscribe({next:s=>{this.dataEstateAccountAgencyModel=s.listItems,this.optionTabledataSource.data=this.dataEstateAccountAgencyModel,s.isSuccess?(this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(_=>{this.formInfo.submitResultMessage=_}),this.formInfo.submitResultMessage=s.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(s.errorMessage)),this.publicHelper.processService.processStop(e)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(e,!1)}})}onActionDataGetAddGroup(){let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estateAccountAgencyExpertService.ServiceAdd(this.dataEstateAccountAgencyExpertModel).subscribe({next:i=>{i.isSuccess?(this.formInfo.submitResultMessage="",this.optionTabledataSource.data=i.listItems,this.DataGetAllGroup()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionDataGetDeleteGroup(e){let i=this.constructor.name+"onActionDataGetDeleteGroup";this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructorInfoAreaId)}),this.estateAccountAgencyExpertService.ServiceDeleteEntity(e).subscribe({next:t=>{t.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAllGroup()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(i)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(i,!1)}})}onActionSelectorEstateAgency(e){this.dataEstateAccountAgencyExpertModel.linkEstateAccountAgencyId=null,this.dataEstateAccountAgencyExpertModel.linkEstateExpertId=this.requestId,e&&e.id?.length>0&&(this.dataEstateAccountAgencyExpertModel.linkEstateAccountAgencyId=e.id)}onActionSelectorLocationWorkArea(e){this.dataModel.linkLocationWorkAreaIds=e}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}onActionFileSelected(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}};Un.\u0275fac=function(i){return new(i||Un)(v(je),v(Re),v(te),v(Ut),v(ro),v(F),v(z),v(W),v(K),v(H),v(B))},Un.\u0275cmp=O({type:Un,selectors:[["app-estate-account-expert-edit"]],viewQuery:function(i,t){if(i&1&&He(w1,5),i&2){let s;Ne(s=Ge())&&(t.formGroup=s.first)}},standalone:!1,features:[ge],decls:133,vars:132,consts:[["vform","ngForm"],["stepper",""],["LinkMainImageId",""],["Title",""],["Description",""],["JoinId",""],["SerialRfId",""],["SerialNumber",""],["PlaceProduction",""],["PhoneNumber",""],["mobileNumber",""],["Address",""],["DescriptionHidden",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit","ngStyle"],[3,"selectionChange"],["state","main",3,"label"],[1,"mb-3"],["target","_blank",3,"href"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],["for","dataModel.joinId",1,"color-highlight"],["matInput","","name","dataModel.joinId","type","text","minlength","0","maxlength","64","id","dataModel.joinId",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.serialRfId",1,"color-highlight"],["matInput","","name","dataModel.serialRfId","type","text","minlength","0","maxlength","64","id","dataModel.serialRfId",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.serialNumber",1,"color-highlight"],["matInput","","name","dataModel.serialNumber","type","text","minlength","0","maxlength","64","id","dataModel.serialNumber",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.placeProduction",1,"color-highlight"],["matInput","","name","dataModel.placeProduction","type","text","minlength","0","maxlength","64","id","dataModel.placeProduction",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.phoneNumber",1,"color-highlight"],["matInput","","name","dataModel.phoneNumber","type","text","minlength","0","maxlength","64","id","dataModel.phoneNumber",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.mobileNumber",1,"color-highlight"],["matInput","","name","dataModel.mobileNumber","type","text","minlength","0","maxlength","64","id","dataModel.mobileNumber",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.address",1,"color-highlight"],["matInput","","name","dataModel.address","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.address","required","",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[3,"optionChange","optionSelectForce","optionPlaceholder","optionDisabled"],[3,"optionChange","optionSelectForce","optionPlaceholder"],[1,"d-flex","mb-3"],["id","main-map",3,"map$","zoom$","optonCenter"],["state","file",3,"label"],[3,"optionChange","optionDisabled","optionPlaceholder"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[1,"example-container","mat-elevation-z8"],["matStepperIcon","main"],["matStepperIcon","file"],[1,"form-actions"],["for","dataModel.descriptionHidden",1,"color-highlight"],["matInput","","name","dataModel.descriptionHidden","type","text","minlength","0","maxlength","500","rows","5","id","dataModel.descriptionHidden",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],[1,"pt-1"],["data-trigger-switch","dataModel.accessWatchRowSite",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.accessWatchRowSite","name","dataModel.accessWatchRowSite",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.accessWatchRowSite",1,"custom-control-label"],["data-trigger-switch","dataModel.accessWatchRowOtherAgency",1,"font-600","font-14"],["type","checkbox","id","dataModel.accessWatchRowOtherAgency","name","dataModel.accessWatchRowOtherAgency",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.accessWatchRowOtherAgency",1,"custom-control-label"],["data-trigger-switch","dataModel.accessWatchRowOtherAgent",1,"font-600","font-14"],["type","checkbox","id","dataModel.accessWatchRowOtherAgent","name","dataModel.accessWatchRowOtherAgent",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.accessWatchRowOtherAgent",1,"custom-control-label"],["data-trigger-switch","dataModel.accessAllowShareRowWatchOtherAgency",1,"font-600","font-14"],["type","checkbox","id","dataModel.accessAllowShareRowWatchOtherAgency","name","dataModel.accessAllowShareRowWatchOtherAgency",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.accessAllowShareRowWatchOtherAgency",1,"custom-control-label"],["data-trigger-switch","dataModel.accessAllowShareRowWatchOtherAgent",1,"font-600","font-14"],["type","checkbox","id","dataModel.accessAllowShareRowWatchOtherAgent","name","dataModel.accessAllowShareRowWatchOtherAgent",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.accessAllowShareRowWatchOtherAgent",1,"custom-control-label"],["data-trigger-switch","dataModel.notificationWorkAreaEstate",1,"font-600","font-14"],["type","checkbox","id","dataModel.notificationWorkAreaEstate","name","dataModel.notificationWorkAreaEstate",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.notificationWorkAreaEstate",1,"custom-control-label"],["data-trigger-switch","dataModel.notificationWorkAreaCustomerOrder",1,"font-600","font-14"],["type","checkbox","id","dataModel.notificationWorkAreaCustomerOrder","name","dataModel.notificationWorkAreaCustomerOrder",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.notificationWorkAreaCustomerOrder",1,"custom-control-label"],["type","checkbox","id","dataEstateAccountAgencyExpertModel.accessShareAgencyToUser","name","dataEstateAccountAgencyExpertModel.accessShareAgencyToUser",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataEstateAccountAgencyExpertModel.accessShareAgencyToUser",1,"custom-control-label"],["data-trigger-switch","dataEstateAccountAgencyExpertModel.accessShareUserToAgency",1,"font-600","font-14"],["type","checkbox","id","dataEstateAccountAgencyExpertModel.accessShareUserToAgency","name","dataEstateAccountAgencyExpertModel.accessShareUserToAgency",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataEstateAccountAgencyExpertModel.accessShareUserToAgency",1,"custom-control-label"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],["multiTemplateDataRows","",3,"dataSource"],["matColumnDef","LinkEstateExpertId"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkEstateAccountAgencyId"],["matColumnDef","AccessShareUserToAgency"],["matColumnDef","AccessShareAgencyToUser"],["matColumnDef","Action"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even",4,"matRowDef","matRowDefColumns"],[3,"ngClass"],[1,"Action"],["type","button","mat-icon-button","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red"],[3,"click"],["matTooltipPosition","before","aria-hidden","false",2,"color","red",3,"matTooltip"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=I();l(0,"div",13),h(1,"app-progress-spinner",14),l(2,"div",15)(3,"p",16),c(4),r(),l(5,"p"),c(6),g(7,"translate"),r(),h(8,"app-cms-form-result-message",17),l(9,"form",18,0),E("ngSubmit",function(){return u(s),f(t.onFormSubmit())}),l(11,"mat-vertical-stepper",19,1),E("selectionChange",function(m){u(s);let U=k(12);return f(t.onStepClick(m,U))}),l(13,"mat-step",20),g(14,"translate"),l(15,"div",21)(16,"a",22),g(17,"cmsthumbnail"),y(18,x1,2,4,"img",23),r()(),l(19,"div",24)(20,"label",25),E("click",function(){return u(s),f(t.fileManagerOpenForm=!0)}),c(21),g(22,"translate"),r(),l(23,"input",26,2),g(25,"translate"),A("ngModelChange",function(m){return u(s),w(t.dataModel.linkMainImageId,m)||(t.dataModel.linkMainImageId=m),f(m)}),E("click",function(){return u(s),f(t.fileManagerOpenForm=!0)}),r(),l(26,"cms-file-manager",27),E("itemSelected",function(m){return u(s),f(t.onActionFileSelected(m))}),A("openFormChange",function(m){return u(s),w(t.fileManagerOpenForm,m)||(t.fileManagerOpenForm=m),f(m)}),r()(),l(27,"div",24)(28,"label",28),c(29),r(),l(30,"input",29,3),A("ngModelChange",function(m){return u(s),w(t.dataModel.title,m)||(t.dataModel.title=m),f(m)}),r(),y(32,P1,1,0,"i",30),y(33,R1,1,0,"i",31),h(34,"em"),y(35,k1,5,3,"mat-error"),r(),l(36,"div",24)(37,"label",32),c(38),r(),l(39,"textarea",33,4),A("ngModelChange",function(m){return u(s),w(t.dataModel.description,m)||(t.dataModel.description=m),f(m)}),c(41,"                  "),r(),l(42,"em"),c(43),r(),y(44,L1,5,3,"mat-error"),r(),y(45,D1,9,9,"div",24),y(46,V1,2,5,"app-cms-user-selector",34),l(47,"div",24)(48,"label",35),c(49),r(),l(50,"input",36,5),A("ngModelChange",function(m){return u(s),w(t.dataModel.joinId,m)||(t.dataModel.joinId=m),f(m)}),r(),l(52,"em"),c(53),r()(),l(54,"div",24)(55,"label",37),c(56),r(),l(57,"input",38,6),A("ngModelChange",function(m){return u(s),w(t.dataModel.serialRfId,m)||(t.dataModel.serialRfId=m),f(m)}),r(),l(59,"em"),c(60),r()(),l(61,"div",24)(62,"label",39),c(63),r(),l(64,"input",40,7),A("ngModelChange",function(m){return u(s),w(t.dataModel.serialNumber,m)||(t.dataModel.serialNumber=m),f(m)}),r(),l(66,"em"),c(67),r()(),l(68,"div",24)(69,"label",41),c(70),r(),l(71,"input",42,8),A("ngModelChange",function(m){return u(s),w(t.dataModel.placeProduction,m)||(t.dataModel.placeProduction=m),f(m)}),r(),l(73,"em"),c(74),r()(),l(75,"div",24)(76,"label",43),c(77),r(),l(78,"input",44,9),A("ngModelChange",function(m){return u(s),w(t.dataModel.phoneNumber,m)||(t.dataModel.phoneNumber=m),f(m)}),r(),l(80,"em"),c(81),r()(),l(82,"div",24)(83,"label",45),c(84),r(),l(85,"input",46,10),A("ngModelChange",function(m){return u(s),w(t.dataModel.mobileNumber,m)||(t.dataModel.mobileNumber=m),f(m)}),r(),l(87,"em"),c(88),r()(),l(89,"div",24)(90,"label",47),c(91),r(),l(92,"textarea",48,11),A("ngModelChange",function(m){return u(s),w(t.dataModel.address,m)||(t.dataModel.address=m),f(m)}),c(94,"                              "),r(),y(95,O1,1,0,"i",30),y(96,B1,1,0,"i",31),l(97,"em"),c(98),r(),y(99,F1,5,3,"mat-error"),r(),l(100,"app-cms-location-selector",49),g(101,"translate"),E("optionChange",function(m){return u(s),f(t.onActionSelectorLocation(m))}),r(),h(102,"br"),c(103),g(104,"translate"),l(105,"app-cms-location-autocomplete",50),g(106,"translate"),E("optionChange",function(m){return u(s),f(t.onActionSelectorLocationWorkArea(m))}),r(),h(107,"hr"),y(108,W1,8,2,"div",51),y(109,H1,8,2,"div",51),y(110,N1,8,2,"div",51),y(111,G1,8,2,"div",51),y(112,U1,8,2,"div",51),h(113,"hr"),y(114,q1,8,2,"div",51),y(115,j1,8,2,"div",51),h(116,"hr"),l(117,"p"),c(118),g(119,"translate"),r(),l(120,"app-cms-map",52),E("map$",function(m){return u(s),f(t.receiveMap(m))})("zoom$",function(m){return u(s),f(t.receiveZoom(m))}),r()(),l(121,"mat-step",53),g(122,"translate"),h(123,"br"),l(124,"app-estate-account-expert-selector",54),g(125,"translate"),E("optionChange",function(m){return u(s),f(t.onActionSelectorEstateAgency(m))}),r(),y(126,Q1,8,1,"div",51),y(127,Y1,8,1,"div",51),y(128,z1,2,0,"button",55),y(129,ph,19,3,"div",56),r(),L(130,mh,2,0,"ng-template",57)(131,uh,2,0,"ng-template",58),r(),y(132,fh,9,7,"div",59),r()()()}if(i&2){let s=k(31),_=k(40),m=k(51),U=k(58),oe=k(65),Ie=k(72),ze=k(79),We=k(86),Ke=k(93);o(),p("optionsInfoAreaId",t.constructorInfoAreaId),o(3),S(" ",t.formInfo.formTitle," "),o(2),S(" ",C(7,108,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),p("formInfo",t.formInfo),o(),p("ngStyle",ve(130,A1,t.tokenInfo.access.direction)),o(4),p("label",x(C(14,110,"TITLE.REQUIRED_INFORMATION"))),o(3),p("href",x(C(17,112,t.dataModel.linkMainImageIdSrc)),q),o(2),M((t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0?18:-1),o(3),b(C(22,114,"TITLE.Profile_Picture")),o(2),p("placeholder",x(C(25,116,"TITLE.ID_OF_PROFILE_PHOTO_FILE"))),T("ngModel",t.dataModel.linkMainImageId),o(3),p("language",t.appLanguage)("isPopup",!0),T("openForm",t.fileManagerOpenForm),p("tree",t.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",t.selectFileTypeMainImage)("openFilemanagerButtonView",!1),o(3),b(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),p("placeholder",x(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),T("ngModel",t.dataModel.title),p("disabled",!(t.fieldsInfo.title!=null&&t.fieldsInfo.title.accessEditField)),o(2),M(s.value?-1:32),o(),M(s.value?33:-1),o(2),M(s.errors!=null&&s.errors.required?35:-1),o(3),b(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),p("placeholder",x(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),T("ngModel",t.dataModel.description),p("disabled",!(t.fieldsInfo.description!=null&&t.fieldsInfo.description.accessEditField)),o(4),S("",_.value.length," / 500"),o(),M(_.errors!=null&&_.errors.required?44:-1),o(),M(t.fieldsInfo.descriptionHidden!=null&&t.fieldsInfo.descriptionHidden.accessWatchField?45:-1),o(),M(t.tokenHelper.isAdminSite?46:-1),o(3),b(t.fieldsInfo.joinId==null?null:t.fieldsInfo.joinId.fieldTitle),o(),p("placeholder",x(t.fieldsInfo.joinId==null?null:t.fieldsInfo.joinId.fieldTitle)),T("ngModel",t.dataModel.joinId),p("disabled",!(t.fieldsInfo.joinId!=null&&t.fieldsInfo.joinId.accessEditField)),o(3),S("",m.value.length," / 64"),o(3),b(t.fieldsInfo.serialRfId==null?null:t.fieldsInfo.serialRfId.fieldTitle),o(),p("placeholder",x(t.fieldsInfo.serialRfId==null?null:t.fieldsInfo.serialRfId.fieldTitle)),T("ngModel",t.dataModel.serialRfId),p("disabled",!(t.fieldsInfo.serialRfId!=null&&t.fieldsInfo.serialRfId.accessEditField)),o(3),S("",U.value.length," / 64"),o(3),b(t.fieldsInfo.serialNumber==null?null:t.fieldsInfo.serialNumber.fieldTitle),o(),p("placeholder",x(t.fieldsInfo.serialNumber==null?null:t.fieldsInfo.serialNumber.fieldTitle)),T("ngModel",t.dataModel.serialNumber),p("disabled",!(t.fieldsInfo.serialNumber!=null&&t.fieldsInfo.serialNumber.accessEditField)),o(3),S("",oe.value.length," / 64"),o(3),b(t.fieldsInfo.placeProduction==null?null:t.fieldsInfo.placeProduction.fieldTitle),o(),p("placeholder",x(t.fieldsInfo.placeProduction==null?null:t.fieldsInfo.placeProduction.fieldTitle)),T("ngModel",t.dataModel.placeProduction),p("disabled",!(t.fieldsInfo.placeProduction!=null&&t.fieldsInfo.placeProduction.accessEditField)),o(3),S("",Ie.value.length," / 64"),o(3),b(t.fieldsInfo.phoneNumber==null?null:t.fieldsInfo.phoneNumber.fieldTitle),o(),p("placeholder",x(t.fieldsInfo.phoneNumber==null?null:t.fieldsInfo.phoneNumber.fieldTitle)),T("ngModel",t.dataModel.phoneNumber),p("disabled",!(t.fieldsInfo.phoneNumber!=null&&t.fieldsInfo.phoneNumber.accessEditField)),o(3),S("",ze.value.length," / 64"),o(3),b(t.fieldsInfo.mobileNumber==null?null:t.fieldsInfo.mobileNumber.fieldTitle),o(),p("placeholder",x(t.fieldsInfo.mobileNumber==null?null:t.fieldsInfo.mobileNumber.fieldTitle)),T("ngModel",t.dataModel.mobileNumber),p("disabled",!(t.fieldsInfo.mobileNumber!=null&&t.fieldsInfo.mobileNumber.accessAddField)),o(3),S("",We.value.length," / 64"),o(3),b(t.fieldsInfo.address==null?null:t.fieldsInfo.address.fieldTitle),o(),p("placeholder",x(t.fieldsInfo.address==null?null:t.fieldsInfo.address.fieldTitle)),T("ngModel",t.dataModel.address),p("disabled",!(t.fieldsInfo.address!=null&&t.fieldsInfo.address.accessAddField)),o(3),M(s.value?-1:95),o(),M(s.value?96:-1),o(2),S("",Ke.value.length," / 500"),o(),M(Ke.errors!=null&&Ke.errors.required?99:-1),o(),p("optionSelectForce",t.dataModel.linkLocationId)("optionPlaceholder",C(101,118,"TITLE.Geographical_Region"))("optionDisabled",!(t.fieldsInfo.linkLocationId!=null&&t.fieldsInfo.linkLocationId.accessAddField)),o(3),S(" ",C(104,120,"TITLE.COVERED_AREAS")," "),o(2),p("optionSelectForce",t.dataModel.linkLocationWorkAreaIds)("optionPlaceholder",C(106,122,"TITLE.Region")),o(3),M(t.tokenHelper.isAdminSite||t.tokenHelper.isSupportSite?108:-1),o(),M(t.tokenHelper.isAdminSite||t.tokenHelper.isSupportSite?109:-1),o(),M(t.tokenHelper.isAdminSite||t.tokenHelper.isSupportSite?110:-1),o(),M(t.tokenHelper.isAdminSite||t.tokenHelper.isSupportSite?111:-1),o(),M(t.tokenHelper.isAdminSite||t.tokenHelper.isSupportSite?112:-1),o(2),M(t.tokenHelper.isAdminSite||t.tokenHelper.isSupportSite?114:-1),o(),M(t.tokenHelper.isAdminSite||t.tokenHelper.isSupportSite?115:-1),o(3),S(" ",C(119,124,"TITLE.Click_on_the_map_to_specify_the_location")," "),o(2),p("optonCenter",t.mapOptonCenter),o(),p("label",x(C(122,126,"TITLE.Property_personnel"))),o(3),p("optionDisabled",!t.tokenHelper.isAdminSite)("optionPlaceholder",C(125,128,"TITLE.Property_agency")),o(2),M(t.tokenHelper.isAdminSite||t.tokenHelper.isSupportSite?126:-1),o(),M(t.tokenHelper.isAdminSite||t.tokenHelper.isSupportSite?127:-1),o(),M(t.dataEstateAccountAgencyExpertModel.linkEstateExpertId&&t.dataEstateAccountAgencyExpertModel.linkEstateExpertId.length>0?128:-1),o(),M(t.publicHelper.processService.process.inRunAll?-1:129),o(3),M(t.formInfo.submitButtonEnabled?132:-1)}},dependencies:[fe,be,et,ie,Ot,$,Xe,ae,it,nt,Te,$e,_t,ot,ke,ee,en,tn,$i,vt,It,At,bt,Et,xt,Tt,wt,Pt,Rt,Xi,fi,Lt,si,wi,G,De,on,Li,kt,_e,N,ne,yi,yo,Mo],encapsulation:2});var Xo=Un;function _h(n,a){n&1&&h(0,"div",8)}var qn=class qn{constructor(a,e,i,t,s,_){this.headerService=a;this.publicHelper=e;this.cdr=i;this.translate=t;this.cmsToastrService=s;this.dialog=_;this.constructorInfoAreaId=this.constructor.name;this.optionId="";this.dataModelResult=new j;this.fieldsInfo=new Map;this.publicHelper.processService.cdr=this.cdr}ngOnInit(){this.optionId?.length>0&&this.DataGetOneContent()}DataGetOneContent(){let a=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(a,e,this.constructorInfoAreaId)}),this.headerService.setAccessLoad(),this.headerService.ServiceGetOneById(this.optionId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),e.isSuccess?this.dataModelResult=e:this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(a)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(a,!1)}})}};qn.\u0275fac=function(e){return new(e||qn)(v(Xt),v(W),v(H),v(B),v(F),v(re))},qn.\u0275cmp=O({type:qn,selectors:[["app-estate-account-agency-header"]],inputs:{optionId:"optionId"},standalone:!1,decls:32,vars:10,consts:[[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content"],[1,"table"],[1,"tr"],[1,"td","small-width"],[1,"svg-icon","svg-icon-3x","svg-icon-primary",3,"inlineSVG"],[1,"td","large-width",2,"color","darkblue"],[1,"td"],[1,"td","large-width"],[2,"clear","both"],[1,"td",2,"text-align","left"],[1,"divider","divider-margins"]],template:function(e,i){e&1&&(l(0,"div",0),h(1,"app-progress-spinner",1),l(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),h(6,"span",6),r(),l(7,"div",7)(8,"h5")(9,"b"),c(10),g(11,"translate"),r()()(),y(12,_h,1,0,"div",8),r(),l(13,"div",4)(14,"div",5)(15,"b"),c(16),r(),c(17,": "),r(),l(18,"div",9),c(19),r(),h(20,"div",8)(21,"div",10),r(),l(22,"div",4)(23,"div",5)(24,"b"),c(25),r(),c(26," : "),r(),l(27,"div",9),c(28),r(),h(29,"div",11)(30,"div",10),r()()()(),h(31,"div",12)),e&2&&(o(),p("optionsInfoAreaId",i.constructorInfoAreaId),o(5),p("inlineSVG","./assets/media/svg/icons/Communication/Flag.svg"),o(4),b(C(11,8,"TITLE.Selected_Agency")),o(2),M(!(i.dataModelResult==null||i.dataModelResult.item==null)&&i.dataModelResult.item.id?12:-1),o(4),S("",i.fieldsInfo.id==null?null:i.fieldsInfo.id.fieldTitle," "),o(3),b(i.dataModelResult==null||i.dataModelResult.item==null?null:i.dataModelResult.item.id),o(6),b(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(3),b(i.dataModelResult==null||i.dataModelResult.item==null?null:i.dataModelResult.item.title))},dependencies:[G,ht,N],styles:[".table[_ngcontent-%COMP%]{display:table;border:1px solid #40a1f5;padding:2px;background:#fff;border-radius:5px}.table[_ngcontent-%COMP%]   .th[_ngcontent-%COMP%]{display:table-row;background-color:#40a1f577;color:#fff;font-weight:700}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f9f9f9}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]{display:table-row;border-bottom:1px solid #000}.table[_ngcontent-%COMP%]   .td[_ngcontent-%COMP%]{display:table-cell;padding:15px;border-bottom:1px solid #40a1f5}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:last-child   .td[_ngcontent-%COMP%]{border:0}.small-width[_ngcontent-%COMP%]{width:90px}.large-width[_ngcontent-%COMP%]{width:400px}.clear[_ngcontent-%COMP%]{clear:both}"]});var $o=qn;var gh=()=>["expandedTitle"],Ch=()=>["expandedDetail"],Sh=()=>[5,10,20,100],yh=n=>({display:n});function Mh(n,a){if(n&1&&h(0,"app-estate-account-agency-header",3),n&2){let e=d();p("optionId",e.requestLinkAccountAgencyId)}}function vh(n,a){if(n&1){let e=I();l(0,"div",16)(1,"a",46),E("click",function(){u(e);let t=d();return f(t.onActionButtonNewRow())}),h(2,"i",47)(3,"br"),r(),l(4,"p",20),c(5),g(6,"translate"),r()()}n&2&&(o(5),S(" ",C(6,1,"ACTION.ADD")," "))}function Eh(n,a){if(n&1){let e=I();l(0,"div",16)(1,"a",48),E("click",function(){u(e);let t=d();return f(t.onActionButtonEditRow(t.tableRowSelected))}),h(2,"i",49)(3,"br"),r(),l(4,"p",20),c(5),g(6,"translate"),r()()}n&2&&(o(5),S(" ",C(6,1,"ACTION.EDIT")," "))}function Ih(n,a){if(n&1){let e=I();l(0,"div",16)(1,"a",50),E("click",function(){u(e);let t=d();return f(t.onActionButtonDeleteRow(t.tableRowSelected))}),h(2,"i",51)(3,"br"),r(),l(4,"p",20),c(5),g(6,"translate"),r()()}n&2&&(o(5),S(" ",C(6,1,"ACTION.DELETE")," "))}function bh(n,a){n&1&&(l(0,"mat-header-cell"),c(1),g(2,"translate"),r()),n&2&&(o(),S(" ",C(2,1,"TITLE.MENU")," "))}function Th(n,a){if(n&1){let e=I();l(0,"mat-cell")(1,"button",52),E("click",function(){let t=u(e).$implicit,s=d();return f(s.onActionTableRowSelectActionMenu(t))}),h(2,"i",53),r()()}}function wh(n,a){n&1&&(l(0,"mat-header-cell",54),c(1),g(2,"translate"),r()),n&2&&(o(),S(" ",C(2,1,"TITLE.PICTURE")," "))}function Ah(n,a){if(n&1&&(h(0,"img",55),g(1,"cmsthumbnail")),n&2){let e=d().$implicit;p("src",x(C(1,2,e.linkMainImageIdSrc)),q)}}function xh(n,a){if(n&1&&(l(0,"mat-cell"),y(1,Ah,2,4,"img",55),r()),n&2){let e=a.$implicit;o(),M((e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0?1:-1)}}function Ph(n,a){if(n&1&&(l(0,"mat-header-cell",54),c(1),r()),n&2){let e=d();o(),S(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function Rh(n,a){if(n&1&&(l(0,"mat-cell"),c(1),r()),n&2){let e=a.$implicit;o(),S(" ",e.id," ")}}function kh(n,a){if(n&1&&(l(0,"mat-header-cell",54),c(1),r()),n&2){let e=d();o(),S(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," ")}}function Lh(n,a){if(n&1&&(l(0,"mat-cell"),c(1),r()),n&2){let e=a.$implicit;o(),S(" ",e.title," ")}}function Dh(n,a){if(n&1&&(l(0,"mat-header-cell",54),c(1),r()),n&2){let e=d();o(),S(" ",e.fieldsInfo.linkCmsUserId==null?null:e.fieldsInfo.linkCmsUserId.fieldTitle," ")}}function Vh(n,a){if(n&1&&(l(0,"mat-cell"),c(1),g(2,"cmsuserinfo"),g(3,"async"),r()),n&2){let e=a.$implicit;o(),S(" ",C(3,3,C(2,1,e.linkCmsUserId))," ")}}function Oh(n,a){if(n&1&&(l(0,"mat-header-cell",54),c(1),r()),n&2){let e=d();o(),S(" ",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle," ")}}function Bh(n,a){if(n&1&&(l(0,"mat-cell"),c(1),r()),n&2){let e=a.$implicit;o(),S(" ",e.description," ")}}function Fh(n,a){n&1&&(l(0,"mat-header-cell"),c(1),g(2,"translate"),r()),n&2&&(o(),S(" ",C(2,1,"TITLE.OPTION")," "))}function Wh(n,a){if(n&1&&(l(0,"mat-cell",56)(1,"button",57)(2,"mat-icon"),c(3,"more_vert"),r()(),h(4,"mat-menu",null,2),r()),n&2){let e=k(5);o(),p("matMenuTriggerFor",e)}}function Hh(n,a){if(n&1&&(l(0,"mat-cell"),c(1),g(2,"translate"),g(3,"cmsuserinfo"),g(4,"async"),r()),n&2){let e=a.$implicit;o(),ue(" ",C(2,2,"TITLE.User-Id-Cms"),": ",C(4,6,C(3,4,e.linkCmsUserId))," ")}}function Nh(n,a){if(n&1&&(h(0,"img",58),g(1,"cmsthumbnail")),n&2){let e=d().$implicit;p("src",x(C(1,2,e.linkMainImageIdSrc)),q)}}function Gh(n,a){if(n&1&&(l(0,"tr"),h(1,"td"),l(2,"td"),c(3),r()()),n&2){let e=d().$implicit,i=d();o(3),ue(" ",i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle," : ",e.description," ")}}function Uh(n,a){if(n&1&&(l(0,"tr"),h(1,"td"),l(2,"td"),c(3),g(4,"translate"),r()()),n&2){let e=d().$implicit;o(3),ue("",C(4,2,"TITLE.Address")," : ",e.address)}}function qh(n,a){if(n&1&&(l(0,"tr"),h(1,"td"),l(2,"td"),c(3),r()()),n&2){let e=d().$implicit,i=d();o(3),ue(" ",i.fieldsInfo.phoneNumber==null?null:i.fieldsInfo.phoneNumber.fieldTitle," : ",e.phoneNumber," ")}}function jh(n,a){if(n&1&&(l(0,"tr"),h(1,"td"),l(2,"td"),c(3),r()()),n&2){let e=d().$implicit,i=d();o(3),ue(" ",i.fieldsInfo.mobileNumber==null?null:i.fieldsInfo.mobileNumber.fieldTitle," : ",e.mobileNumber," ")}}function Qh(n,a){if(n&1){let e=I();l(0,"mat-cell")(1,"div")(2,"table")(3,"tr")(4,"th"),y(5,Nh,2,4,"img",58),r(),l(6,"th")(7,"span",59),E("click",function(){u(e);let t=d();return f(t.onActionCopied())}),h(8,"i",60),r(),c(9),r()(),l(10,"tr"),h(11,"td"),l(12,"td"),c(13),r()(),y(14,Gh,4,2,"tr"),y(15,Uh,5,4,"tr"),y(16,qh,4,2,"tr"),y(17,jh,4,2,"tr"),l(18,"tr"),h(19,"td")(20,"td"),r()()()()}if(n&2){let e=a.$implicit,i=d();o(5),M((e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0?5:-1),o(2),p("cdkCopyToClipboard",e.id),o(2),S(" ",e.id," "),o(4),ue("",i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle," : ",e.title),o(),M(e.description?14:-1),o(),M(e.address?15:-1),o(),M(e.phoneNumber?16:-1),o(),M(e.mobileNumber?17:-1)}}function Yh(n,a){n&1&&h(0,"mat-header-row")}function zh(n,a){if(n&1){let e=I();l(0,"mat-row",61),E("click",function(t){let s=u(e).$implicit,_=d();return f(_.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=u(e).$implicit,_=d();return f(_.onActionTableRowSelect(s,t))})("mouseenter",function(){let t=u(e).$implicit,s=d();return f(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=u(e).$implicit,s=d();return f(s.onActionTableRowMouseLeave(t))}),r()}if(n&2){let e=a.$implicit,i=d();J("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}function Kh(n,a){if(n&1){let e=I();l(0,"mat-row",62),E("click",function(t){let s=u(e).$implicit,_=d();return f(_.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=u(e).$implicit,_=d();return f(_.onActionTableRowSelect(s,t))})("mouseenter",function(){let t=u(e).$implicit,s=d();return f(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=u(e).$implicit,s=d();return f(s.onActionTableRowMouseLeave(t))}),r()}if(n&2){let e=a.$implicit,i=d();J("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}function Jh(n,a){if(n&1){let e=I();l(0,"mat-row",63),E("click",function(t){let s=u(e).$implicit,_=d();return f(_.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=u(e).$implicit,_=d();return f(_.onActionTableRowSelect(s,t))})("mouseenter",function(){let t=u(e).$implicit,s=d();return f(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=u(e).$implicit,s=d();return f(s.onActionTableRowMouseLeave(t))}),r()}if(n&2){let e=a.$implicit,i=d();J("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)),p("ngStyle",ve(3,yh,e.expanded===!0?"":"none"))}}var jn=class jn extends ci{constructor(e,i,t,s,_,m,U,oe,Ie,ze,We,Ke,_i){super(e,new Nt,Ke,_,U);this.contentService=e;this.cmsConfirmationDialogService=i;this.cmsToastrService=t;this.router=s;this.tokenHelper=_;this.cdr=m;this.translate=U;this.activatedRoute=oe;this.cmsStoreService=Ie;this.themeService=ze;this.pageInfo=We;this.publicHelper=Ke;this.dialog=_i;this.requestLinkAccountAgencyId="";this.constructorInfoAreaId=this.constructor.name;this.optionloadComponent=!0;this.optionloadByRoute=!0;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new Zn;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["linkMainImageIdSrc","title","Description","action_menu"];this.tabledisplayedColumnsMobileSource=["linkMainImageIdSrc","title","Description","action_menu"];this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:Dt=>this.onSubmitOptionsSearch(Dt)},this.requestLinkAccountAgencyId=this.activatedRoute.snapshot.paramMap.get("LinkAccountAgencyId"),this.filteModelContent.sortColumn="id",this.filteModelContent.sortType=Ae.Descending}set optionLinkLocationWorkAreaIds(e){this.requestLinkLocationWorkAreaIds=[],e&&e.length>0&&(this.requestLinkLocationWorkAreaIds=e),this.requestLinkLocationWorkAreaIds&&this.requestLinkLocationWorkAreaIds.length>0&&(this.filteModelContent.linkLocationWorkAreaIds=this.requestLinkLocationWorkAreaIds)}set optionLinkLocationWorkAreaId(e){this.requestLinkLocationWorkAreaIds=[],e&&e>0&&this.requestLinkLocationWorkAreaIds.push(e),this.requestLinkLocationWorkAreaIds&&this.requestLinkLocationWorkAreaIds.length>0&&(this.filteModelContent.linkLocationWorkAreaIds=this.requestLinkLocationWorkAreaIds)}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>Z(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){if(this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),!this.optionloadComponent)return;this.tableRowsSelected=[],this.onActionTableRowSelect(new Nt);let e=this.constructor.name+"main";if(this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0,this.requestLinkAccountAgencyId&&this.requestLinkAccountAgencyId.length>0){let t=new D;t.propertyAnyName="AccountAgencyUser",t.propertyName="linkEstateAccountAgencyId",t.value=this.requestLinkAccountAgencyId,this.filteModelContent.filters.push(t)}let i=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.contentService.setAccessDataType(Ue.Editor),this.contentService.ServiceGetAll(i).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),t.isSuccess?(this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=Ae.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=Ae.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=Ae.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionSelectorLocation(e){this.filteModelContent.linkLocationIds=e}onActionSelectorLocationWorkArea(e){this.filteModelContent.linkLocationWorkAreaIds=e}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(Zo,{height:"90%",panelClass:e,enterAnimationDuration:X.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:X.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Xo,{height:"90%",panelClass:i,enterAnimationDuration:X.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:X.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(s=>{this.cmsToastrService.typeErrorSelected(s)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(s=>{i=s["MESSAGE.Please_Confirm"],t=s["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(s=>{if(s){let _=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(m=>{this.publicHelper.processService.processStart(_,m,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:m=>{m.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(_)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(_,!1)}})}}).catch(()=>{})}onActionButtonAgencyRow(e=this.tableRowSelected,i){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.tableRowSelected=e,this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}i?.ctrlKey?(this.link="/#/estate/account-agency/LinkAccountUserId/"+this.tableRowSelected.id,window.open(this.link,"_blank")):this.router.navigate(["/estate/account-agency/LinkAccountUserId",this.tableRowSelected.id])}onActionButtonHistoryRow(e=this.tableRowSelected,i){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.tableRowSelected=e,this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}i?.ctrlKey?(this.link="/#/estate/property-history/LinkEstateExpertId/"+this.tableRowSelected.id,window.open(this.link,"_blank")):this.router.navigate(["/estate/property-history/LinkEstateExpertId",this.tableRowSelected.id])}onActionButtonPropertyRow(e=this.tableRowSelected,i){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.tableRowSelected=e,this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}i?.ctrlKey?(this.link="/#/estate/property/LinkEstateExpertId/"+this.tableRowSelected.id,window.open(this.link,"_blank")):this.router.navigate(["/estate/property/LinkEstateExpertId",this.tableRowSelected.id])}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(m=>{i.set(m,0)}),this.translate.get("MESSAGE.All").subscribe(m=>{i.set(m,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(m=>{this.publicHelper.processService.processStart(t,m,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:m=>{m.isSuccess?(this.translate.get("MESSAGE.All").subscribe(U=>{i.set(U,m.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(m.errorMessage),this.publicHelper.processService.processStop(t)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(t,!1)}});let s=JSON.parse(JSON.stringify(this.filteModelContent)),_=new D;_.propertyName="recordStatus",_.value=Ze.Available,s.filters.push(_),this.contentService.ServiceGetCount(s).subscribe({next:m=>{m.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(U=>{i.set(U,m.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(m.errorMessage),this.publicHelper.processService.processStop(t)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(t,!1)}})}onActionCopied(){this.cmsToastrService.typeSuccessCopedToClipboard()}onActionButtonReload(){this.optionloadComponent=!0,this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}};jn.\u0275fac=function(i){return new(i||jn)(v(Ut),v(li),v(F),v(Zt),v(K),v(H),v(B),v(gi),v(z),v(Ft),v(Qt),v(W),v(re))},jn.\u0275cmp=O({type:jn,selectors:[["app-estate-account-expert-list"]],inputs:{optionloadComponent:"optionloadComponent",optionloadByRoute:"optionloadByRoute",optionLinkLocationWorkAreaIds:"optionLinkLocationWorkAreaIds",optionLinkLocationWorkAreaId:"optionLinkLocationWorkAreaId"},standalone:!1,features:[ge],decls:94,vars:59,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionId"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionActionRowDisplayMenuAct","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-home","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-clock-rotate-left","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],[3,"optionChange","optionSelectForce","optionPlaceholder"],["cms-body",""],["matSort","","multiTemplateDataRows","",3,"matSortChange","dataSource"],["matColumnDef","action_menu"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","linkMainImageIdSrc"],["mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","id"],["matColumnDef","title"],["matColumnDef","LinkCmsUserId"],["matColumnDef","Description"],["matColumnDef","Action"],["class","Action",4,"matCellDef"],["matColumnDef","expandedTitle"],["matColumnDef","expandedDetail"],[4,"matHeaderRowDef"],["class","ntk-row-expandedTitle",3,"ntk-row-selected","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["class","ntk-row-expandedDetail",3,"ntk-row-selected","ngStyle","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"click"],[1,"fa","fa-bars","font-18"],["mat-sort-header",""],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],["aria-hidden","","height","80","width","80",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"navi-icon","pointer",3,"click","cdkCopyToClipboard"],[1,"flaticon2-copy"],[1,"ntk-row-expandedTitle",3,"click","rtclick","mouseenter","mouseleave"],[1,"ntk-row-mainfild",3,"click","rtclick","mouseenter","mouseleave"],[1,"ntk-row-expandedDetail",3,"click","rtclick","mouseenter","mouseleave","ngStyle"]],template:function(i,t){if(i&1){let s=I();y(0,Mh,1,1,"app-estate-account-agency-header",3),l(1,"app-cms-html-list",4),A("optionActionGuideNoticeDisplayChange",function(m){return u(s),w(t.viewGuideNotice,m)||(t.viewGuideNotice=m),f(m)}),E("optionOnActionButtonMemoRow",function(){return u(s),f(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return u(s),f(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return u(s),f(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return u(s),f(t.onActionButtonPrintRow())}),P(2,5),c(3," -------------------------------------- "),R(),Wt(4,6)(5,7),P(6,8),l(7,"a",9),E("click",function(){return u(s),f(t.viewGuideNotice=!t.viewGuideNotice)}),h(8,"i",10),r(),l(9,"a",9),E("click",function(){return u(s),f(t.onActionButtonReload())}),h(10,"i",11),r(),R(),P(11,12),l(12,"a",13),E("click",function(){return u(s),f(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),h(13,"mat-slide-toggle",14),c(14),g(15,"translate"),r(),l(16,"a",13),E("click",function(){return u(s),f(t.onActionButtonStatist())}),h(17,"mat-slide-toggle",14),c(18),g(19,"translate"),r(),R(),P(20,15),y(21,vh,7,3,"div",16),R(),P(22,17),y(23,Eh,7,3,"div",16),y(24,Ih,7,3,"div",16),l(25,"div",16)(26,"a",18),E("click",function(m){return u(s),f(t.onActionButtonAgencyRow(t.tableRowSelected,m))}),h(27,"i",19)(28,"br"),r(),l(29,"p",20),c(30),g(31,"translate"),r()(),l(32,"div",16)(33,"a",18),E("click",function(m){return u(s),f(t.onActionButtonHistoryRow(t.tableRowSelected,m))}),h(34,"i",21)(35,"br"),r(),l(36,"p",20),c(37),g(38,"translate"),r()(),l(39,"div",16)(40,"a",18),E("click",function(m){return u(s),f(t.onActionButtonPropertyRow(t.tableRowSelected,m))}),h(41,"i",19)(42,"br"),r(),l(43,"p",20),c(44),g(45,"translate"),r()(),R(),P(46,22),l(47,"app-cms-search-list",23),A("optionsChange",function(m){return u(s),w(t.optionsSearch,m)||(t.optionsSearch=m),f(m)}),c(48),g(49,"translate"),l(50,"app-cms-location-autocomplete",24),g(51,"translate"),E("optionChange",function(m){return u(s),f(t.onActionSelectorLocation(m))}),r(),h(52,"br"),c(53),g(54,"translate"),l(55,"app-cms-location-autocomplete",24),g(56,"translate"),E("optionChange",function(m){return u(s),f(t.onActionSelectorLocationWorkArea(m))}),r(),h(57,"hr"),r(),l(58,"app-cms-statist-list",23),A("optionsChange",function(m){return u(s),w(t.optionsStatist,m)||(t.optionsStatist=m),f(m)}),r(),R(),P(59,25),l(60,"mat-table",26,0),E("matSortChange",function(){u(s);let m=k(61);return f(t.onTableSortData(m))}),P(62,27),L(63,bh,3,3,"mat-header-cell",28)(64,Th,3,0,"mat-cell",29),R(),P(65,30),L(66,wh,3,3,"mat-header-cell",31)(67,xh,2,1,"mat-cell",29),R(),P(68,32),L(69,Ph,2,1,"mat-header-cell",31)(70,Rh,2,1,"mat-cell",29),R(),P(71,33),L(72,kh,2,1,"mat-header-cell",31)(73,Lh,2,1,"mat-cell",29),R(),P(74,34),L(75,Dh,2,1,"mat-header-cell",31)(76,Vh,4,5,"mat-cell",29),R(),P(77,35),L(78,Oh,2,1,"mat-header-cell",31)(79,Bh,2,1,"mat-cell",29),R(),P(80,36),L(81,Fh,3,3,"mat-header-cell",28)(82,Wh,6,1,"mat-cell",37),R(),P(83,38),L(84,Hh,5,8,"mat-cell",29),R(),P(85,39),L(86,Qh,21,9,"mat-cell",29),R(),L(87,Yh,1,0,"mat-header-row",40)(88,zh,1,2,"mat-row",41)(89,Kh,1,2,"mat-row",42)(90,Jh,1,5,"mat-row",43),r(),R(),P(91,44),l(92,"mat-paginator",45,1),E("page",function(m){return u(s),f(t.onTablePageingData(m))}),r(),R(),r()}i&2&&(M((t.requestLinkAccountAgencyId==null?null:t.requestLinkAccountAgencyId.length)>0?0:-1),o(),p("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey","accountuser.content.list"),T("optionActionGuideNoticeDisplay",t.viewGuideNotice),p("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionActionRowDisplayMenuAct",t.tableRowSelectActionMenuClick)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.title),o(9),J("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(3),p("checked",t.optionsSearch.data.show),o(),S("",C(15,38,"ACTION.SEARCH")," "),o(3),p("checked",t.optionsStatist.data.show),o(),S("",C(19,40,"ACTION.STATIST")," "),o(3),M(t.optionloadByRoute&&t.dataModelResult.access.accessAddRow?21:-1),o(2),M(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?23:-1),o(),M(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?24:-1),o(6),S(" ",C(31,42,"ACTION.AGENCY")," "),o(7),S(" ",C(38,44,"ACTION.HISTORY")," "),o(7),S(" ",C(45,46,"ACTION.CONNECT_TO_PROPERTY")," "),o(3),T("options",t.optionsSearch),o(),S(" ",C(49,48,"ACTION.LOCATION")," "),o(2),p("optionSelectForce",t.filteModelContent.linkLocationIds)("optionPlaceholder",C(51,50,"TITLE.Region")),o(3),S(" ",C(54,52,"ACTION.LOCATION_WORK_ACTIVITY")," "),o(2),p("optionSelectForce",t.filteModelContent.linkLocationWorkAreaIds)("optionPlaceholder",C(56,54,"TITLE.Region")),o(3),T("options",t.optionsStatist),o(2),p("dataSource",t.tableSource),o(27),p("matHeaderRowDef",t.tabledisplayedColumns),o(),p("matRowDefColumns",Me(56,gh)),o(),p("matRowDefColumns",t.tabledisplayedColumns),o(),p("matRowDefColumns",Me(57,Ch)),o(2),p("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",Me(58,Sh)))},dependencies:[be,_t,ke,ti,ii,ni,oi,ai,ri,vt,It,At,bt,Et,xt,Tt,wt,Pt,Rt,ei,di,pi,Lt,mi,ui,$o,_e,N,Mi,ne],encapsulation:2});var Wr=jn;var Zh=["vform"],Xh=()=>["fa"];function $h(n,a){n&1&&h(0,"i",17)}function eg(n,a){n&1&&h(0,"i",18)}function tg(n,a){n&1&&(l(0,"mat-error"),c(1," Title is "),l(2,"strong"),c(3),g(4,"translate"),r()()),n&2&&(o(3),b(C(4,1,"MESSAGE.required")))}function ig(n,a){n&1&&h(0,"i",17)}function ng(n,a){n&1&&h(0,"i",18)}function og(n,a){n&1&&(l(0,"mat-error"),c(1," TitleResourceLanguage is "),l(2,"strong"),c(3),g(4,"translate"),r()()),n&2&&(o(3),b(C(4,1,"MESSAGE.required")))}function ag(n,a){if(n&1){let e=I();l(0,"div",14)(1,"label",29),c(2),r(),l(3,"input",30,4),A("ngModelChange",function(t){u(e);let s=d();return w(s.dataModel.titleResourceLanguage,t)||(s.dataModel.titleResourceLanguage=t),f(t)}),r(),y(5,ig,1,0,"i",17),y(6,ng,1,0,"i",18),l(7,"em"),c(8),r(),y(9,og,5,3,"mat-error"),r()}if(n&2){let e=k(4),i=d(),t=k(15);o(2),b(i.fieldsInfo.titleResourceLanguage==null?null:i.fieldsInfo.titleResourceLanguage.fieldTitle),o(),p("placeholder",x(i.fieldsInfo.titleResourceLanguage==null?null:i.fieldsInfo.titleResourceLanguage.fieldTitle)),T("ngModel",i.dataModel.titleResourceLanguage),p("disabled",!(i.fieldsInfo.titleResourceLanguage!=null&&i.fieldsInfo.titleResourceLanguage.accessEditField)),o(2),M(t.value?-1:5),o(),M(t.value?6:-1),o(2),S("",e.value.length," / 100"),o(),M(e.errors!=null&&e.errors.required?9:-1)}}function rg(n,a){if(n&1){let e=I();l(0,"div",14)(1,"label",31),c(2),r(),l(3,"input",32,5),A("ngModelChange",function(t){u(e);let s=d();return w(s.dataModel.iconFont,t)||(s.dataModel.iconFont=t),f(t)}),E("iconPickerSelect",function(t){u(e);let s=d();return f(s.onIconPickerSelect(t))}),r(),l(5,"span",33),h(6,"i",34),r()()}if(n&2){let e=d();o(2),b(e.fieldsInfo.iconFont==null?null:e.fieldsInfo.iconFont.fieldTitle),o(),p("placeholder",x(e.fieldsInfo.iconFont==null?null:e.fieldsInfo.iconFont.fieldTitle)),T("ngModel",e.dataModel.iconFont),p("iconPicker",e.dataModel.iconFont)("ipIconPack",Me(9,Xh))("ipPosition","top")("disabled",!(e.fieldsInfo.iconFont!=null&&e.fieldsInfo.iconFont.accessAddField)),o(3),p("ngClass",e.dataModel.iconFont)}}function lg(n,a){if(n&1){let e=I();l(0,"div",19)(1,"label",35),c(2),r(),l(3,"div",36)(4,"div",37)(5,"input",38,6),A("ngModelChange",function(t){u(e);let s=d();return w(s.dataModel.iconColor,t)||(s.dataModel.iconColor=t),f(t)}),r()(),l(7,"div",39),h(8,"ngx-mat-color-toggle",40)(9,"ngx-mat-color-picker",41,7),r()()()}if(n&2){let e=k(10),i=d();o(2),b(i.fieldsInfo.iconColor==null?null:i.fieldsInfo.iconColor.fieldTitle),o(3),Qe("background",i.dataModel.iconColor),p("placeholder",x(i.fieldsInfo.iconColor==null?null:i.fieldsInfo.iconColor.fieldTitle)),T("ngModel",i.dataModel.iconColor),p("ngxMatColorPicker",e)("disabled",!(i.fieldsInfo.iconColor!=null&&i.fieldsInfo.iconColor.accessAddField)),o(3),p("for",e),o(),p("touchUi",!0)("color","primary")}}function sg(n,a){n&1&&(l(0,"mat-error"),c(1," Description is "),l(2,"strong"),c(3),g(4,"translate"),r()()),n&2&&(o(3),b(C(4,1,"MESSAGE.required")))}function cg(n,a){if(n&1&&(h(0,"img",24),g(1,"cmsthumbnail")),n&2){let e=d();p("src",x(C(1,2,e.dataModel.linkMainImageIdSrc)),q)}}function dg(n,a){if(n&1){let e=I();l(0,"div",28)(1,"button",42),E("click",function(){u(e);let t=d();return f(t.onFormCancel())}),h(2,"i",43),c(3),g(4,"translate"),r(),l(5,"button",44),h(6,"i",45),c(7),g(8,"translate"),r()()}if(n&2){d();let e=k(10);o(3),S(" ",C(4,3,"ACTION.CANCEL")," "),o(2),p("disabled",!e.form.valid),o(2),S(" ",C(8,5,"ACTION.SAVE")," ")}}var Qn=class Qn extends Yt{constructor(e,i,t,s,_,m,U,oe){super(s,new zt,m,oe);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.estateActivityTypeService=s;this.cmsToastrService=_;this.publicHelper=m;this.cdr=U;this.translate=oe;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new j;this.dataModel=new zt;this.formInfo=new Le;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess()}onActionFileSelected(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}DataAddContent(){this.dataModel.iconColor=this.dataModel.iconColor?.toString(),this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estateActivityTypeService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e),this.formInfo.submitButtonEnabled=!0},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onIconPickerSelect(e){this.dataModel.iconFont=e}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Qn.\u0275fac=function(i){return new(i||Qn)(v(je),v(Re),v(te),v(zi),v(F),v(W),v(H),v(B))},Qn.\u0275cmp=O({type:Qn,selectors:[["app-estate-activity-type-add"]],viewQuery:function(i,t){if(i&1&&He(Zh,5),i&2){let s;Ne(s=Ge())&&(t.formGroup=s.first)}},standalone:!1,features:[ge],decls:46,vars:45,consts:[["vform","ngForm"],["Title",""],["Description",""],["LinkMainImageId",""],["TitleResourceLanguage",""],["IconFont",""],["iconColor",""],["iconColorPicker",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"mb-3"],["target","_blank",3,"href"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["for","dataModel.linkMainImageId",1,"color-highlight"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],[1,"form-actions"],["for","dataModel.titleResourceLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleResourceLanguage","type","text","minlength","3","maxlength","100","required","","id","dataModel.titleResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.iconFont",1,"color-highlight"],["matInput","","type","text","name","dataModel.iconFont","type","text","id","dataModel.iconFont",1,"form-control","validate-name",3,"ngModelChange","iconPickerSelect","ngModel","iconPicker","ipIconPack","ipPosition","placeholder","disabled"],[1,"input-group-addon"],[3,"ngClass"],["for","dataModel.iconColor",1,"color-highlight"],[1,"row","mb-0"],[1,"col-11","pe-0"],["matInput","","type","text","name","dataModel.iconColor","type","text","id","dataModel.iconColor",1,"form-control","validate-name",3,"ngModelChange","ngModel","ngxMatColorPicker","placeholder","disabled"],[1,"col-1","ps-0"],["matSuffix","",3,"for"],[3,"touchUi","color"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=I();l(0,"div",8),h(1,"app-progress-spinner",9),l(2,"div",10)(3,"p",11),c(4),r(),l(5,"p"),c(6),g(7,"translate"),r(),h(8,"app-cms-form-result-message",12),l(9,"form",13,0),E("ngSubmit",function(){return u(s),f(t.onFormSubmit())}),l(11,"div",14)(12,"label",15),c(13),r(),l(14,"input",16,1),A("ngModelChange",function(m){return u(s),w(t.dataModel.title,m)||(t.dataModel.title=m),f(m)}),r(),y(16,$h,1,0,"i",17),y(17,eg,1,0,"i",18),l(18,"em"),c(19),r(),y(20,tg,5,3,"mat-error"),r(),y(21,ag,10,9,"div",14),y(22,rg,7,10,"div",14),y(23,lg,11,11,"div",19),l(24,"div",14)(25,"label",20),c(26),r(),l(27,"textarea",21,2),A("ngModelChange",function(m){return u(s),w(t.dataModel.description,m)||(t.dataModel.description=m),f(m)}),c(29,"                "),r(),l(30,"em"),c(31),r(),y(32,sg,5,3,"mat-error"),r(),l(33,"div",22)(34,"a",23),g(35,"cmsthumbnail"),y(36,cg,2,4,"img",24),r()(),l(37,"div",14)(38,"label",25),c(39),g(40,"translate"),r(),l(41,"input",26,3),g(43,"translate"),A("ngModelChange",function(m){return u(s),w(t.dataModel.linkMainImageId,m)||(t.dataModel.linkMainImageId=m),f(m)}),E("click",function(){return u(s),f(t.fileManagerOpenForm=!0)}),r(),l(44,"cms-file-manager",27),E("itemSelected",function(m){return u(s),f(t.onActionFileSelected(m))}),A("openFormChange",function(m){return u(s),w(t.fileManagerOpenForm,m)||(t.fileManagerOpenForm=m),f(m)}),r()(),y(45,dg,9,7,"div",28),r()()()}if(i&2){let s=k(15),_=k(28);o(),p("optionsInfoAreaId",t.constructorInfoAreaId),o(3),S(" ",t.formInfo.formTitle," "),o(2),S(" ",C(7,37,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),p("formInfo",t.formInfo),o(5),b(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),p("placeholder",x(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),T("ngModel",t.dataModel.title),o(2),M(s.value?-1:16),o(),M(s.value?17:-1),o(2),S("",s.value.length," / 100"),o(),M(s.errors!=null&&s.errors.required?20:-1),o(),M(t.fieldsInfo.titleResourceLanguage!=null&&t.fieldsInfo.titleResourceLanguage.accessWatchField?21:-1),o(),M(t.fieldsInfo.iconFont!=null&&t.fieldsInfo.iconFont.accessWatchField?22:-1),o(),M(t.fieldsInfo.iconColor!=null&&t.fieldsInfo.iconColor.accessWatchField?23:-1),o(3),b(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),p("placeholder",x(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),T("ngModel",t.dataModel.description),o(4),S("",_.value.length," / 500"),o(),M(_.errors!=null&&_.errors.required?32:-1),o(2),p("href",x(C(35,39,t.dataModel.linkMainImageIdSrc)),q),o(2),M((t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0?36:-1),o(3),b(C(40,41,"TITLE.PICTURE")),o(2),p("placeholder",x(C(43,43,"TITLE.Original_File_ID"))),T("ngModel",t.dataModel.linkMainImageId),o(3),p("language",t.appLanguage)("isPopup",!0),T("openForm",t.fileManagerOpenForm),p("tree",t.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",t.selectFileTypeMainImage)("openFilemanagerButtonView",!1),o(),M(t.formInfo.submitButtonEnabled?45:-1)}},dependencies:[fe,et,ie,$,Xe,ae,it,nt,Te,$e,ot,jt,ee,G,De,xi,Ii,Ei,vi,kt,N,ne],encapsulation:2});var Hr=Qn;var pg=["vform"],mg=()=>["fa"];function ug(n,a){n&1&&h(0,"i",17)}function fg(n,a){n&1&&h(0,"i",18)}function _g(n,a){if(n&1&&(l(0,"mat-error"),c(1),l(2,"strong"),c(3),g(4,"translate"),r()()),n&2){let e=d();o(),S(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," is "),o(2),b(C(4,2,"MESSAGE.required"))}}function hg(n,a){n&1&&h(0,"i",17)}function gg(n,a){n&1&&h(0,"i",18)}function Cg(n,a){n&1&&(l(0,"mat-error"),c(1," TitleResourceLanguage is "),l(2,"strong"),c(3),g(4,"translate"),r()()),n&2&&(o(3),b(C(4,1,"MESSAGE.required")))}function Sg(n,a){if(n&1){let e=I();l(0,"div",14)(1,"label",33),c(2),r(),l(3,"input",34,5),A("ngModelChange",function(t){u(e);let s=d();return w(s.dataModel.iconFont,t)||(s.dataModel.iconFont=t),f(t)}),E("iconPickerSelect",function(t){u(e);let s=d();return f(s.onIconPickerSelect(t))}),r(),l(5,"span",35),h(6,"i",36),r()()}if(n&2){let e=d();o(2),b(e.fieldsInfo.iconFont==null?null:e.fieldsInfo.iconFont.fieldTitle),o(),p("placeholder",x(e.fieldsInfo.iconFont==null?null:e.fieldsInfo.iconFont.fieldTitle)),T("ngModel",e.dataModel.iconFont),p("iconPicker",e.dataModel.iconFont)("ipIconPack",Me(9,mg))("ipPosition","top")("disabled",!(e.fieldsInfo.iconFont!=null&&e.fieldsInfo.iconFont.accessEditField)),o(3),p("ngClass",e.dataModel.iconFont)}}function yg(n,a){if(n&1){let e=I();l(0,"div",23)(1,"label",37),c(2),r(),l(3,"div",38)(4,"div",39)(5,"input",40,6),A("ngModelChange",function(t){u(e);let s=d();return w(s.dataModel.iconColor,t)||(s.dataModel.iconColor=t),f(t)}),r()(),l(7,"div",41),h(8,"ngx-mat-color-toggle",42)(9,"ngx-mat-color-picker",43,7),r()()()}if(n&2){let e=k(10),i=d();o(2),b(i.fieldsInfo.iconColor==null?null:i.fieldsInfo.iconColor.fieldTitle),o(3),Qe("background",i.dataModel.iconColor),p("placeholder",x(i.fieldsInfo.iconColor==null?null:i.fieldsInfo.iconColor.fieldTitle)),T("ngModel",i.dataModel.iconColor),p("ngxMatColorPicker",e)("disabled",!(i.fieldsInfo.iconColor!=null&&i.fieldsInfo.iconColor.accessEditField)),o(3),p("for",e),o(),p("touchUi",!0)("color","primary")}}function Mg(n,a){n&1&&(l(0,"mat-error"),c(1," Description is "),l(2,"strong"),c(3),g(4,"translate"),r()()),n&2&&(o(3),b(C(4,1,"MESSAGE.required")))}function vg(n,a){if(n&1&&(h(0,"img",28),g(1,"cmsthumbnail")),n&2){let e=d();p("src",x(C(1,2,e.dataModel.linkMainImageIdSrc)),q)}}function Eg(n,a){if(n&1){let e=I();l(0,"div",32)(1,"button",44),E("click",function(){u(e);let t=d();return f(t.onFormCancel())}),h(2,"i",45),c(3),g(4,"translate"),r(),l(5,"button",46),h(6,"i",47),c(7),g(8,"translate"),r()()}if(n&2){d();let e=k(10);o(3),S(" ",C(4,3,"ACTION.CANCEL")," "),o(2),p("disabled",!e.form.valid),o(2),S(" ",C(8,5,"ACTION.SAVE")," ")}}var Yn=class Yn extends Ti{constructor(e,i,t,s,_,m,U,oe,Ie){super(s,new zt,U,Ie);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.estateActivityTypeService=s;this.estatePropertyTypeService=_;this.cmsToastrService=m;this.publicHelper=U;this.cdr=oe;this.translate=Ie;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new Ci;this.dataModel=new zt;this.formInfo=new Le;this.fileManagerOpenForm=!1;this.dataEstatePropertyTypeUsageIds=[];this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.DataGetAllEstatePropertyUsage()}onActionFileSelected(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estateActivityTypeService.setAccessLoad(),this.estateActivityTypeService.setAccessDataType(Ue.Editor),this.estateActivityTypeService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataGetAllEstatePropertyUsage(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(s=>{this.formInfo.submitResultMessage=s}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(s=>{this.publicHelper.processService.processStart(e,s,this.constructorInfoAreaId)});let i=new he,t=new D;t.propertyName="LinkActivityTypeId",t.value=this.requestId,i.filters.push(t),this.estatePropertyTypeService.ServiceGetAll(i).subscribe({next:s=>{this.dataEstatePropertyTypeModel=s.listItems;let _=[];this.dataEstatePropertyTypeModel.forEach(m=>{_.push(m.linkPropertyTypeUsageId)}),this.dataEstatePropertyTypeUsageIds=_,s.isSuccess?(this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(m=>{this.formInfo.submitResultMessage=m}),this.formInfo.submitResultMessage=s.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(s.errorMessage)),this.publicHelper.processService.processStop(e)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.dataModel.iconColor=this.dataModel.iconColor?.toString(),this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estateActivityTypeService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e),this.formInfo.submitButtonEnabled=!0},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorUserCategorySelect(e){this.dataEstatePropertyTypeUsageModel=e}onIconPickerSelect(e){this.dataModel.iconFont=e}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Yn.\u0275fac=function(i){return new(i||Yn)(v(je),v(Re),v(te),v(zi),v(Ji),v(F),v(W),v(H),v(B))},Yn.\u0275cmp=O({type:Yn,selectors:[["app-estate-activity-type-edit"]],viewQuery:function(i,t){if(i&1&&He(pg,5),i&2){let s;Ne(s=Ge())&&(t.formGroup=s.first)}},standalone:!1,features:[ge],decls:59,vars:55,consts:[["vform","ngForm"],["Title",""],["TitleResourceLanguage",""],["Description",""],["LinkMainImageId",""],["IconFont",""],["iconColor",""],["iconColorPicker",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.titleML",1,"color-highlight"],["matInput","","type","text","cmsKeyboardForce","en","name","dataModel.titleML","type","text","id","dataModel.titleML",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.titleResourceLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleResourceLanguage","type","text","minlength","3","maxlength","100","required","","id","dataModel.titleResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"mb-3"],["target","_blank",3,"href"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],[1,"form-actions"],["for","dataModel.iconFont",1,"color-highlight"],["matInput","","type","text","name","dataModel.iconFont","type","text","id","dataModel.iconFont",1,"form-control","validate-name",3,"ngModelChange","iconPickerSelect","ngModel","iconPicker","ipIconPack","ipPosition","placeholder","disabled"],[1,"input-group-addon"],[3,"ngClass"],["for","dataModel.iconColor",1,"color-highlight"],[1,"row","mb-0"],[1,"col-11","pe-0"],["matInput","","type","text","name","dataModel.iconColor","type","text","id","dataModel.iconColor",1,"form-control","validate-name",3,"ngModelChange","ngModel","ngxMatColorPicker","placeholder","disabled"],[1,"col-1","ps-0"],["matSuffix","",3,"for"],[3,"touchUi","color"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=I();l(0,"div",8),h(1,"app-progress-spinner",9),l(2,"div",10)(3,"p",11),c(4),r(),l(5,"p"),c(6),g(7,"translate"),r(),h(8,"app-cms-form-result-message",12),l(9,"form",13,0),E("ngSubmit",function(){return u(s),f(t.onFormSubmit())}),l(11,"div",14)(12,"label",15),c(13),r(),l(14,"input",16,1),A("ngModelChange",function(m){return u(s),w(t.dataModel.title,m)||(t.dataModel.title=m),f(m)}),r(),y(16,ug,1,0,"i",17),y(17,fg,1,0,"i",18),l(18,"em"),c(19),r(),y(20,_g,5,4,"mat-error"),r(),l(21,"div",14)(22,"label",19),c(23,"TitleML"),r(),l(24,"input",20),A("ngModelChange",function(m){return u(s),w(t.dataModel.titleML,m)||(t.dataModel.titleML=m),f(m)}),r()(),l(25,"div",14)(26,"label",21),c(27),r(),l(28,"input",22,2),A("ngModelChange",function(m){return u(s),w(t.dataModel.titleResourceLanguage,m)||(t.dataModel.titleResourceLanguage=m),f(m)}),r(),y(30,hg,1,0,"i",17),y(31,gg,1,0,"i",18),l(32,"em"),c(33),r(),y(34,Cg,5,3,"mat-error"),r(),y(35,Sg,7,10,"div",14),y(36,yg,11,11,"div",23),l(37,"div",14)(38,"label",24),c(39),r(),l(40,"textarea",25,3),A("ngModelChange",function(m){return u(s),w(t.dataModel.description,m)||(t.dataModel.description=m),f(m)}),c(42,"                  "),r(),l(43,"em"),c(44),r(),y(45,Mg,5,3,"mat-error"),r(),l(46,"div",26)(47,"a",27),g(48,"cmsthumbnail"),y(49,vg,2,4,"img",28),r()(),l(50,"div",14)(51,"label",29),E("click",function(){return u(s),f(t.fileManagerOpenForm=!0)}),c(52),g(53,"translate"),r(),l(54,"input",30,4),g(56,"translate"),A("ngModelChange",function(m){return u(s),w(t.dataModel.linkMainImageId,m)||(t.dataModel.linkMainImageId=m),f(m)}),E("click",function(){return u(s),f(t.fileManagerOpenForm=!0)}),r(),l(57,"cms-file-manager",31),E("itemSelected",function(m){return u(s),f(t.onActionFileSelected(m))}),A("openFormChange",function(m){return u(s),w(t.fileManagerOpenForm,m)||(t.fileManagerOpenForm=m),f(m)}),r()(),y(58,Eg,9,7,"div",32),r()()()}if(i&2){let s=k(15),_=k(29),m=k(41);o(),p("optionsInfoAreaId",t.constructorInfoAreaId),o(3),S(" ",t.formInfo.formTitle," "),o(2),S(" ",C(7,47,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),p("formInfo",t.formInfo),o(5),b(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),p("placeholder",x(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),T("ngModel",t.dataModel.title),o(2),M(s.value?-1:16),o(),M(s.value?17:-1),o(2),S("",s.value.length," / 100"),o(),M(s.errors!=null&&s.errors.required?20:-1),o(4),T("ngModel",t.dataModel.titleML),p("disabled",!0),o(3),b(t.fieldsInfo.titleResourceLanguage==null?null:t.fieldsInfo.titleResourceLanguage.fieldTitle),o(),p("placeholder",x(t.fieldsInfo.titleResourceLanguage==null?null:t.fieldsInfo.titleResourceLanguage.fieldTitle)),T("ngModel",t.dataModel.titleResourceLanguage),p("disabled",!(t.fieldsInfo.titleResourceLanguage!=null&&t.fieldsInfo.titleResourceLanguage.accessEditField)),o(2),M(s.value?-1:30),o(),M(s.value?31:-1),o(2),S("",_.value.length," / 100"),o(),M(_.errors!=null&&_.errors.required?34:-1),o(),M(t.fieldsInfo.iconFont!=null&&t.fieldsInfo.iconFont.accessWatchField?35:-1),o(),M(t.fieldsInfo.iconColor!=null&&t.fieldsInfo.iconColor.accessWatchField?36:-1),o(3),b(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),p("placeholder",x(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),T("ngModel",t.dataModel.description),o(4),S("",m.value.length," / 500"),o(),M(m.errors!=null&&m.errors.required?45:-1),o(2),p("href",x(C(48,49,t.dataModel.linkMainImageIdSrc)),q),o(2),M((t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0?49:-1),o(3),b(C(53,51,"TITLE.PICTURE")),o(2),p("placeholder",x(C(56,53,"TITLE.Original_File_ID"))),T("ngModel",t.dataModel.linkMainImageId),o(3),p("language",t.appLanguage)("isPopup",!0),T("openForm",t.fileManagerOpenForm),p("tree",t.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",t.selectFileTypeMainImage)("openFilemanagerButtonView",!1),o(),M(t.formInfo.submitButtonEnabled?58:-1)}},dependencies:[fe,et,ie,$,Xe,ae,it,nt,Te,$e,ot,jt,ee,G,De,_o,xi,Ii,Ei,vi,kt,N,ne],encapsulation:2});var Nr=Yn;export{Io as a,bo as b,To as c,Li as d,wo as e,Ao as f,un as g,In as h,xo as i,Ro as j,Ui as k,Rn as l,kn as m,Ln as n,Lt as o,Vr as p,Jo as q,Fr as r,Wr as s,Hr as t,Nr as u};
