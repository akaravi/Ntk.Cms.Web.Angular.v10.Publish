import{a as Mi}from"./chunk-JPT7AWMU.js";import{a as ot}from"./chunk-W2ZNLTZP.js";import{a as Mt}from"./chunk-XT3PJUMJ.js";import{a as pt}from"./chunk-CAEBDIYS.js";import{a as dt}from"./chunk-KXYVMCGE.js";import{a as it}from"./chunk-3GSD5XYN.js";import{a as vt}from"./chunk-6H4DKLMS.js";import{a as _t}from"./chunk-YTKE6365.js";import{a as Ct}from"./chunk-4RH5NKY3.js";import{a as ht}from"./chunk-4TYUJXME.js";import{c as Xe,d as Ye,e as Ze,g as et,h as tt}from"./chunk-HPEAEJYC.js";import{a as mt}from"./chunk-W54UGSQY.js";import{a as ct}from"./chunk-O3W643XR.js";import{b as Ke,d as $e}from"./chunk-BVVYDD3J.js";import{a as St}from"./chunk-FIFLGOFO.js";import{a as Te}from"./chunk-BIIXSZHA.js";import{a as te}from"./chunk-Y22MW2BL.js";import{b as lt,e as Je,f as j}from"./chunk-3OKIF6AS.js";import{Ab as We,Bb as qe,C as vi,Ca as lo,Cb as Qe,D as Ti,Da as co,Db as ze,Ea as mo,F as bi,Gc as F,Jc as qo,La as Z,M as jo,Ma as ee,N as Wo,Na as Re,Qb as P,Rb as G,_ as Ii,_a as De,ab as ve,ba as so,fa as ye,fb as xe,gb as Le,jb as Ue,l as ao,lb as Be,m as hi,mb as Ve,nb as Oe,p as _i,q as No,qc as N,s as Ho,tc as H,u as gi,ub as Pe,v as Fo,vb as Ge,wb as Ne,xb as He,yb as Fe,zb as je}from"./chunk-VPWYZYVO.js";import{Ad as at,Ba as bt,Bb as K,Cb as $,Db as X,Dd as At,De as yt,Ed as R,Ee as Rt,Fa as a,Fe as Dt,Hb as Q,Hc as rt,Ic as Ci,Id as W,Jb as be,Jc as O,Jd as Ee,Jf as Vt,Ka as S,Kd as Y,Kf as Ot,Le as xt,Lf as Pt,Mb as m,Me as Lt,Mf as Gt,Nb as x,Nc as ft,Ne as Ut,Nf as Tt,Ob as p,Oe as Bt,Of as Nt,Pa as U,Pb as Si,Pc as Me,Pf as Ht,Qa as ro,Qe as It,Qf as Ft,Rd as z,Rf as st,Sb as k,Ta as J,Tb as A,Ub as y,Va as T,Vc as Vo,Vd as Oo,Y as no,Zb as Ie,_b as ge,bc as _,cc as v,da as C,db as ce,dc as ae,de as Po,ea as h,eb as me,ib as u,iq as ke,jb as n,jq as Go,kb as s,kq as Ae,lb as g,pb as b,qb as I,qq as Bo,rb as ne,rq as q,sb as w,uc as V,ud as we,vb as M,wd as L,xb as d}from"./chunk-P7V72WIT.js";import{i as B}from"./chunk-SEDBTTTN.js";var $o=["vform"];function Xo(i,r){if(i&1){let e=w();n(0,"app-cms-enum-record-status-selector",7),y("modelChange",function(t){C(e);let l=d();return A(l.dataModel.recordStatus,t)||(l.dataModel.recordStatus=t),h(t)}),s()}if(i&2){let e=d();k("model",e.dataModel.recordStatus),u("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Yo(i,r){if(i&1){let e=w();n(0,"div",8)(1,"button",9),M("click",function(){C(e);let t=d();return h(t.onFormCancel())}),g(2,"i",10),m(3),_(4,"translate"),s()()}i&2&&(a(3),p(" ",v(4,1,"ACTION.CANCEL")," "))}var wi=class wi extends mt{constructor(e,o,t,l,f,c,D,oe,ie,le){super(l,new Ht,le,ie);this.data=e;this.dialogRef=o;this.coreEnumService=t;this.coreTokenActivationService=l;this.cmsToastrService=f;this.tokenHelper=c;this.cmsStoreService=D;this.cdr=oe;this.translate=ie;this.publicHelper=le;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new R;this.dataModel=new Ht;this.formInfo=new Y;this.dataModelEnumManageUserAccessAreaTypesResult=new R;this.dataModelEnumManageUserAccessUserTypesResult=new R;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id)}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>B(this,null,function*(){this.tokenInfo=e}))),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){this.coreEnumService.ServiceManageUserAccessAreaTypesEnum().subscribe({next:e=>{this.dataModelEnumManageUserAccessAreaTypesResult=e}})}getEnumManageUserAccessUserTypes(){this.coreEnumService.ServiceManageUserAccessUserTypesEnum().subscribe({next:e=>{this.dataModelEnumManageUserAccessUserTypesResult=e}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(o=>{this.formInfo.submitResultMessage=o}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(o=>{this.publicHelper.processService.processStart(e,o,this.constructorInfoAreaId)}),this.coreTokenActivationService.setAccessLoad(),this.coreTokenActivationService.setAccessDataType(at.Editor),this.coreTokenActivationService.ServiceGetOneById(this.requestId).subscribe({next:o=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModel=o.item,o.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+o.item.id,this.formInfo.submitResultMessage=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=o.errorMessage,this.cmsToastrService.typeErrorMessage(o.errorMessage)),this.publicHelper.processService.processStop(e)},error:o=>{this.cmsToastrService.typeError(o),this.publicHelper.processService.processStop(e,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};wi.\u0275fac=function(o){return new(o||wi)(S(ee),S(Z),S(z),S(xt),S(F),S(H),S(N),S(V),S(P),S(j))},wi.\u0275cmp=U({type:wi,selectors:[["app-core-site-domainalias-edit"]],viewQuery:function(o,t){if(o&1&&K($o,5),o&2){let l;$(l=X())&&(t.formGroup=l.first)}},standalone:!1,features:[J],decls:14,vars:17,consts:[[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(o,t){o&1&&(n(0,"div",0),g(1,"app-progress-spinner",1),n(2,"div",2)(3,"p",3),m(4),s(),n(5,"p"),m(6),_(7,"translate"),s(),T(8,Xo,1,5,"app-cms-enum-record-status-selector",4),g(9,"app-cms-site-selector",5),_(10,"translate"),g(11,"app-cms-user-selector",5),_(12,"translate"),T(13,Yo,5,3,"div",6),s()()),o&2&&(a(),u("optionsInfoAreaId",t.constructorInfoAreaId),a(3),p(" ",t.formInfo.formTitle," "),a(2),p(" ",v(7,11,"TITLE.Be_Careful_When_Entering_Information")," "),a(2),u("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),a(),u("optionDisabled",!0)("optionSelectForce",t.dataModel.linkSiteId)("optionPlaceholder",v(10,13,"TITLE.WEBSITE")),a(2),u("optionDisabled",!0)("optionSelectForce",t.dataModel.linkUserId)("optionPlaceholder",v(12,15,"TITLE.USER")),a(2),u("ngIf",t.formInfo.submitButtonEnabled))},dependencies:[O,ct,St,dt,te,G],encapsulation:2});var po=wi;var Zo=["vform"];function en(i,r){if(i&1&&(n(0,"div",7),g(1,"i",11),n(2,"span",12),m(3),s()()),i&2){let e=d(2);a(3),x(e.formInfo.submitResultMessage)}}function tn(i,r){if(i&1&&(n(0,"div",8),g(1,"i",13),n(2,"span",12),m(3),s()()),i&2){let e=d(2);a(3),x(e.formInfo.submitResultMessage)}}function on(i,r){if(i&1&&(n(0,"div",9),g(1,"i",14),n(2,"span",12),m(3),s()()),i&2){let e=d(2);a(3),x(e.formInfo.submitResultMessage)}}function nn(i,r){if(i&1&&(n(0,"div",10),g(1,"i",15),n(2,"span",12),m(3),s()()),i&2){let e=d(2);a(3),x(e.formInfo.submitResultMessage)}}function rn(i,r){if(i&1&&ce(0,en,4,1,"div",7)(1,tn,4,1,"div",8)(2,on,4,1,"div",9)(3,nn,4,1,"div",10),i&2){let e,o=d();me((e=o.formInfo.submitResult)==="success"?0:e==="error"?1:e==="warning"?2:3)}}function an(i,r){if(i&1){let e=w();n(0,"div",16)(1,"button",17),M("click",function(){C(e);let t=d();return h(t.onFormCancel())}),g(2,"i",18),m(3),_(4,"translate"),s()()}i&2&&(a(3),p(" ",v(4,1,"ACTION.CANCEL")," "))}var ki=class ki{constructor(r,e,o,t,l,f,c,D,oe,ie){this.data=r;this.dialogRef=e;this.coreEnumService=o;this.coreTokenActivationService=t;this.cmsToastrService=l;this.tokenHelper=f;this.cmsStoreService=c;this.cdr=D;this.publicHelper=oe;this.translate=ie;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.tokenInfo=new st;this.dataModelResult=new R;this.dataModel=new Ht;this.formInfo=new Y;this.dataModelEnumSendSmsStatusTypeResult=new R;this.fieldsInfo=new Map;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,r&&(this.requestId=r.id+"")}ngOnInit(){if(this.translate.get("aaaaaaaaaTITLE.VIEWaaaaa").subscribe(r=>{this.formInfo.formTitle=r}),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(r=>r.tokenInfoStore).subscribe(r=>B(this,null,function*(){this.tokenInfo=r}))),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:r=>{this.dataModelEnumSendSmsStatusTypeResult=r}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(r=>r.unsubscribe())}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage="";let r=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(r,e,this.constructorInfoAreaId)}),this.coreTokenActivationService.setAccessLoad(),this.coreTokenActivationService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModel=e.item,e.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+e.item.id,this.formInfo.submitResultMessage=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(o=>{this.formInfo.submitResultMessage=o}),this.formInfo.submitResultMessage=e.errorMessage,this.cmsToastrService.typeErrorMessage(e.errorMessage)),this.publicHelper.processService.processStop(r)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(r,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};ki.\u0275fac=function(e){return new(e||ki)(S(ee),S(Z),S(z),S(xt),S(F),S(H),S(N),S(V),S(j),S(P))},ki.\u0275cmp=U({type:ki,selectors:[["app-bankpayment-transactionlog-view"]],viewQuery:function(e,o){if(e&1&&K(Zo,5),e&2){let t;$(t=X())&&(o.formGroup=t.first)}},standalone:!1,decls:9,vars:6,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection","loader-container"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],[1,"chip","chip-s","bg-green-dark"],[1,"chip","chip-s","bg-red-dark"],[1,"chip","chip-s","bg-yellow-dark"],[1,"chip","chip-s","bg-gray-dark"],[1,"fa","fa-check","color-white","bg-green-light"],[1,"color-white"],[1,"fa","fa-check","color-white","bg-red-light"],[1,"fa","fa-check","color-white","bg-yellow-light"],[1,"fa","fa-check","color-white","bg-gray-light"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,o){e&1&&(n(0,"div",0),m(1),s(),n(2,"div",1),g(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),s(),n(5,"div",4),ce(6,rn,4,1),s(),n(7,"div",5),T(8,an,5,3,"div",6),s()),e&2&&(a(),p(" ",o.formInfo.formTitle," "),a(2),u("optionsInfoAreaId",o.constructorInfoAreaId),a(),u("dataModel",o.dataModel)("optionMethod",1),a(2),me((o.formInfo==null||o.formInfo.submitResultMessage==null?null:o.formInfo.submitResultMessage.length)>0?6:-1),a(2),u("ngIf",o.formInfo.submitButtonEnabled))},dependencies:[O,te,pt,G],encapsulation:2});var uo=ki;var sn=()=>[5,10,20,100],ln=i=>({display:i}),cn=i=>({background:i});function mn(i,r){if(i&1){let e=w();n(0,"a",51),M("click",function(){C(e);let t=d();return h(t.onActionBackToParent())}),g(1,"i",52),s()}}function dn(i,r){if(i&1){let e=w();n(0,"div",18)(1,"a",53),M("click",function(){C(e);let t=d();return h(t.onActionButtonEditRow(t.tableRowSelected))}),g(2,"i",54)(3,"br"),s(),n(4,"p",21),m(5),_(6,"translate"),s()()}i&2&&(a(5),p(" ",v(6,1,"ACTION.EDIT")," "))}function pn(i,r){if(i&1){let e=w();n(0,"div",18)(1,"a",55),M("click",function(){C(e);let t=d();return h(t.onActionButtonDeleteRow(t.tableRowSelected))}),g(2,"i",56)(3,"br"),s(),n(4,"p",21),m(5),_(6,"translate"),s()()}i&2&&(a(5),p(" ",v(6,1,"ACTION.DELETE")," "))}function un(i,r){if(i&1){let e=w();n(0,"div",18)(1,"a",57),M("click",function(){C(e);let t=d();return h(t.onActionButtonViewRow(t.tableRowSelected))}),g(2,"i",58)(3,"br"),s(),n(4,"p",21),m(5),_(6,"translate"),s()()}i&2&&(a(5),p(" ",v(6,1,"ACTION.VIEW")," "))}function fn(i,r){if(i&1&&(n(0,"mat-header-cell",59),m(1),s()),i&2){let e=d();a(),p(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function Sn(i,r){if(i&1&&(n(0,"mat-cell"),m(1),s()),i&2){let e=r.$implicit;a(),p(" ",e.id," ")}}function Cn(i,r){if(i&1&&(n(0,"mat-header-cell",59),m(1),s()),i&2){let e=d();a(),p(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function hn(i,r){if(i&1&&(n(0,"mat-cell"),m(1),_(2,"cmssiteinfo"),_(3,"async"),s()),i&2){let e=r.$implicit;a(),p(" ",v(3,3,v(2,1,e.linkSiteId))," ")}}function _n(i,r){if(i&1&&(n(0,"mat-header-cell",59),m(1),s()),i&2){let e=d();a(),p(" ",e.fieldsInfo.linkUserId==null?null:e.fieldsInfo.linkUserId.fieldTitle," ")}}function gn(i,r){if(i&1&&(n(0,"mat-cell"),m(1),_(2,"cmsuserinfo"),_(3,"async"),s()),i&2){let e=r.$implicit;a(),p(" ",v(3,3,v(2,1,e.linkUserId))," ")}}function vn(i,r){if(i&1&&(n(0,"mat-header-cell",59),m(1),s()),i&2){let e=d();a(),p(" ",e.fieldsInfo.linkMemberUserId==null?null:e.fieldsInfo.linkMemberUserId.fieldTitle," ")}}function Tn(i,r){if(i&1&&(n(0,"mat-cell"),m(1),s()),i&2){let e=r.$implicit;a(),p(" ",e.linkMemberUserId," ")}}function bn(i,r){if(i&1&&(n(0,"mat-header-cell",59),m(1),s()),i&2){let e=d();a(),p(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function In(i,r){if(i&1&&g(0,"select",62),i&2){let e=d().$implicit,o=d();u("contentService",o.contentService)("row",e)("ngStyle",ge(3,ln,e.id===(o.tableRowSelected==null?null:o.tableRowSelected.id)?"":"none"))}}function Mn(i,r){if(i&1&&(n(0,"mat-cell",60),_(1,"statusCellClass"),g(2,"i",60),_(3,"statusIconClass"),T(4,In,1,5,"select",61),s()),i&2){let e=r.$implicit,o=d();u("ngClass",v(1,3,e.recordStatus)),a(2),u("ngClass",v(3,5,e.recordStatus)),a(2),u("ngIf",o.dataModelResult==null||o.dataModelResult.access==null?null:o.dataModelResult.access.accessEditRow)}}function wn(i,r){if(i&1&&(n(0,"mat-header-cell",59),m(1),s()),i&2){let e=d();a(),p(" ",e.fieldsInfo.userAccessAreaType==null?null:e.fieldsInfo.userAccessAreaType.fieldTitle," ")}}function En(i,r){if(i&1&&(n(0,"mat-cell"),m(1),_(2,"enums"),s()),i&2){let e=r.$implicit,o=d();a(),p(" ",ae(2,1,e.userAccessAreaType,o.dataModelEnumManageUserAccessAreaTypesResult.listItems)," ")}}function kn(i,r){if(i&1&&(n(0,"mat-header-cell",59),m(1),s()),i&2){let e=d();a(),p(" ",e.fieldsInfo.userType==null?null:e.fieldsInfo.userType.fieldTitle," ")}}function An(i,r){if(i&1&&(n(0,"mat-cell"),m(1),_(2,"enums"),s()),i&2){let e=r.$implicit,o=d();a(),p(" ",ae(2,1,e.userType,o.dataModelEnumManageUserAccessUserTypesResult.listItems)," ")}}function yn(i,r){if(i&1&&(n(0,"mat-header-cell",59),m(1),s()),i&2){let e=d();a(),p(" ",e.fieldsInfo.userAccessAdminAllowToAllData==null?null:e.fieldsInfo.userAccessAdminAllowToAllData.fieldTitle," ")}}function Rn(i,r){if(i&1&&(n(0,"mat-cell"),g(1,"i",60),_(2,"boolclass"),s()),i&2){let e=r.$implicit;a(),u("ngClass",v(2,1,e.userAccessAdminAllowToAllData))}}function Dn(i,r){if(i&1&&(n(0,"mat-header-cell",59),m(1),s()),i&2){let e=d();a(),p(" ",e.fieldsInfo.userAccessAdminAllowToProfessionalData==null?null:e.fieldsInfo.userAccessAdminAllowToProfessionalData.fieldTitle," ")}}function xn(i,r){if(i&1&&(n(0,"mat-cell"),g(1,"i",60),_(2,"boolclass"),s()),i&2){let e=r.$implicit;a(),u("ngClass",v(2,1,e.userAccessAdminAllowToProfessionalData))}}function Ln(i,r){if(i&1&&(n(0,"mat-header-cell",59),m(1),s()),i&2){let e=d();a(),p(" ",e.fieldsInfo.rememberOnDevice==null?null:e.fieldsInfo.rememberOnDevice.fieldTitle," ")}}function Un(i,r){if(i&1&&(n(0,"mat-cell"),g(1,"i",60),_(2,"boolclass"),s()),i&2){let e=r.$implicit;a(),u("ngClass",v(2,1,e.rememberOnDevice))}}function Bn(i,r){if(i&1&&(n(0,"mat-header-cell",59),m(1),s()),i&2){let e=d();a(),p(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function Vn(i,r){if(i&1&&(n(0,"mat-cell",63),m(1),_(2,"localeDateTime"),s()),i&2){let e=r.$implicit;a(),p(" ",v(2,1,e.createdDate)," ")}}function On(i,r){if(i&1&&(n(0,"mat-header-cell",59),m(1),s()),i&2){let e=d();a(),p(" ",e.fieldsInfo.expireDate==null?null:e.fieldsInfo.expireDate.fieldTitle," ")}}function Pn(i,r){if(i&1&&(n(0,"mat-cell",64),m(1),_(2,"persianDate"),s()),i&2){let e=r.$implicit,o=d();u("ngStyle",ge(4,cn,o.publicHelper.RowStyleExpireDate(e.expireDate))),a(),p(" ",v(2,2,e.expireDate)," ")}}function Gn(i,r){i&1&&(n(0,"mat-header-cell"),m(1),_(2,"translate"),s()),i&2&&(a(),p(" ",v(2,1,"TITLE.OPTION")," "))}function Nn(i,r){if(i&1&&(n(0,"mat-cell",65)(1,"button",66)(2,"mat-icon"),m(3,"more_vert"),s()(),g(4,"mat-menu",null,2),s()),i&2){let e=Q(5);a(),u("matMenuTriggerFor",e)}}function Hn(i,r){i&1&&g(0,"mat-header-row")}function Fn(i,r){if(i&1){let e=w();n(0,"mat-row",67),M("click",function(t){let l=C(e).$implicit,f=d();return h(f.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=C(e).$implicit,f=d();return h(f.onActionTableRowSelect(l,t))}),s()}if(i&2){let e=r.$implicit,o=d();be("ntk-row-selected",e.id===(o.tableRowSelected==null?null:o.tableRowSelected.id))}}var Ai=class Ai extends Xe{constructor(e,o,t,l,f,c,D,oe,ie,le,nt,wt){super(e,new Ht,nt,f,D);this.contentService=e;this.cmsToastrService=o;this.cmsConfirmationDialogService=t;this.activatedRoute=l;this.tokenHelper=f;this.cdr=c;this.translate=D;this.cmsStoreService=oe;this.router=ie;this.pageInfo=le;this.publicHelper=nt;this.dialog=wt;this.requestLinkSiteId=0;this.requestLinkUserId=0;this.requestLinkDeviceId=0;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new Ee;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["Id","LinkSiteId","LinkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","CreatedDate","ExpireDate"];this.tabledisplayedColumnsMobileSource=["Id","LinkSiteId","LinkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","CreatedDate","ExpireDate"];this.dataModelEnumManageUserAccessAreaTypesResult=new R;this.dataModelEnumManageUserAccessUserTypesResult=new R;this.unsubscribe=[];if(this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkDeviceId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkDeviceId")),this.requestLinkSiteId>0){let E=new W;E.propertyName="LinkCmsSiteId",E.value=this.requestLinkSiteId,this.filteModelContent.filters.push(E)}if(this.requestLinkUserId>0){let E=new W;E.propertyName="LinkUserId",E.value=this.requestLinkUserId,this.filteModelContent.filters.push(E)}if(this.requestLinkDeviceId>0){let E=new W;E.propertyName="LinkDeviceId",E.value=this.requestLinkDeviceId,this.filteModelContent.filters.push(E)}this.optionsSearch.parentMethods={onSubmit:E=>this.onSubmitOptionsSearch(E)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=L.Descending}ngOnInit(){this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=L.Descending,this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>B(this,null,function*(){this.tokenInfo=e,this.DataGetAll()}))),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){}getEnumManageUserAccessUserTypes(){}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Ht);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let o=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(o.filters=[...this.filterDataModelQueryBuilder]),this.contentService.ServiceGetAllEditor(o).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=L.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=L.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=L.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonViewRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var o="";this.publicHelper.isMobile?o="dialog-fullscreen":o="dialog-min",this.dialog.open(uo,{height:"90%",panelClass:o,enterAnimationDuration:q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var o="";this.publicHelper.isMobile?o="dialog-fullscreen":o="dialog-min",this.dialog.open(po,{height:"90%",panelClass:o,enterAnimationDuration:q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(l=>{this.cmsToastrService.typeErrorSelected(l)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var o="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(l=>{o=l["MESSAGE.Please_Confirm"],t=l["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(o,t).then(l=>{if(l){let f=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(f,c,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(f)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(f,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let o=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{o.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{o.set(c,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(D=>{o.set(D,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}});let l=JSON.parse(JSON.stringify(this.filteModelContent)),f=new W;f.propertyName="RecordStatus",f.value=we.Available,l.filters.push(f),this.contentService.ServiceGetCount(l).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(D=>{o.set(D,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonViewUserRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkUserId||this.tableRowSelected.linkUserId===0){this.translate.get("MESSAGE.content_does_not_contain_user_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId])}onActionButtonViewSiteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkSiteId||this.tableRowSelected.linkSiteId===0){this.translate.get("MESSAGE.content_does_not_include_site_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};Ai.\u0275fac=function(o){return new(o||Ai)(S(xt),S(F),S(Te),S(ke),S(H),S(V),S(P),S(N),S(Ae),S(Je),S(j),S(Re))},Ai.\u0275cmp=U({type:Ai,selectors:[["app-coretoken-user-list"]],standalone:!1,features:[J],decls:88,vars:35,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-globe","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","LinkUserId"],["matColumnDef","LinkMemberUserId"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","UserAccessAreaType"],["matColumnDef","UserType"],["matColumnDef","UserAccessAdminAllowToAllData"],["matColumnDef","UserAccessAdminAllowToProfessionalData"],["matColumnDef","RememberOnDevice"],["matColumnDef","CreatedDate"],["style","direction: ltr",4,"matCellDef"],["matColumnDef","ExpireDate"],[3,"ngStyle",4,"matCellDef"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","target","_blank","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[2,"direction","ltr"],[3,"ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(o,t){if(o&1){let l=w();n(0,"app-cms-html-list",3),y("optionActionGuideNoticeDisplayChange",function(c){return C(l),A(t.viewGuideNotice,c)||(t.viewGuideNotice=c),h(c)}),M("optionOnActionButtonMemoRow",function(){return C(l),h(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return C(l),h(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return C(l),h(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return C(l),h(t.onActionButtonPrintRow())}),b(1,4),m(2," -------------------------------------- "),I(),ne(3,5)(4,6),b(5,7),T(6,mn,2,0,"a",8),n(7,"a",9),M("click",function(){return C(l),h(t.viewGuideNotice=!t.viewGuideNotice)}),g(8,"i",10),s(),n(9,"a",9),M("click",function(){return C(l),h(t.onActionButtonReload())}),g(10,"i",11),s(),I(),b(11,12),n(12,"a",13),M("click",function(){return C(l),h(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),g(13,"mat-slide-toggle",14),m(14),_(15,"translate"),s(),n(16,"a",13),M("click",function(){return C(l),h(t.onActionButtonStatist())}),g(17,"mat-slide-toggle",14),m(18),_(19,"translate"),s(),I(),ne(20,15),b(21,16),T(22,dn,7,3,"div",17)(23,pn,7,3,"div",17),n(24,"div",18)(25,"a",19),M("click",function(){return C(l),h(t.onActionButtonViewSiteRow(t.tableRowSelected))}),g(26,"i",20),s(),n(27,"p",21),m(28),_(29,"translate"),s()(),n(30,"div",18)(31,"a",19),M("click",function(){return C(l),h(t.onActionButtonViewUserRow(t.tableRowSelected))}),g(32,"i",22)(33,"br"),s(),n(34,"p",21),m(35),_(36,"translate"),s()(),T(37,un,7,3,"div",17),I(),b(38,23),n(39,"app-cms-search-list",24),y("optionsChange",function(c){return C(l),A(t.optionsSearch,c)||(t.optionsSearch=c),h(c)}),s(),n(40,"app-cms-statist-list",24),y("optionsChange",function(c){return C(l),A(t.optionsStatist,c)||(t.optionsStatist=c),h(c)}),s(),I(),b(41,25),n(42,"mat-table",26,0),M("matSortChange",function(){C(l);let c=Q(43);return h(t.onTableSortData(c))}),b(44,27),T(45,fn,2,1,"mat-header-cell",28)(46,Sn,2,1,"mat-cell",29),I(),b(47,30),T(48,Cn,2,1,"mat-header-cell",28)(49,hn,4,5,"mat-cell",29),I(),b(50,31),T(51,_n,2,1,"mat-header-cell",28)(52,gn,4,5,"mat-cell",29),I(),b(53,32),T(54,vn,2,1,"mat-header-cell",28)(55,Tn,2,1,"mat-cell",29),I(),b(56,33),T(57,bn,2,1,"mat-header-cell",28)(58,Mn,5,7,"mat-cell",34),I(),b(59,35),T(60,wn,2,1,"mat-header-cell",28)(61,En,3,4,"mat-cell",29),I(),b(62,36),T(63,kn,2,1,"mat-header-cell",28)(64,An,3,4,"mat-cell",29),I(),b(65,37),T(66,yn,2,1,"mat-header-cell",28)(67,Rn,3,3,"mat-cell",29),I(),b(68,38),T(69,Dn,2,1,"mat-header-cell",28)(70,xn,3,3,"mat-cell",29),I(),b(71,39),T(72,Ln,2,1,"mat-header-cell",28)(73,Un,3,3,"mat-cell",29),I(),b(74,40),T(75,Bn,2,1,"mat-header-cell",28)(76,Vn,3,3,"mat-cell",41),I(),b(77,42),T(78,On,2,1,"mat-header-cell",28)(79,Pn,3,6,"mat-cell",43),I(),b(80,44),T(81,Gn,3,3,"mat-header-cell",45)(82,Nn,6,1,"mat-cell",46),I(),T(83,Hn,1,0,"mat-header-row",47)(84,Fn,1,2,"mat-row",48),s(),I(),b(85,49),n(86,"mat-paginator",50,1),M("page",function(c){return C(l),h(t.onTablePageingData(c))}),s(),I(),s()}o&2&&(u("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),k("optionActionGuideNoticeDisplay",t.viewGuideNotice),u("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),a(6),u("ngIf",t.requestLinkSiteId>0),a(7),u("checked",t.optionsSearch.data.show),a(),p("",v(15,26,"ACTION.SEARCH")," "),a(3),u("checked",t.optionsStatist.data.show),a(),p("",v(19,28,"ACTION.STATIST")," "),a(4),u("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),a(),u("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),a(5),p(" ",v(29,30,"ACTION.SITE")," "),a(7),p(" ",v(36,32,"ACTION.USER")," "),a(2),u("ngIf",(t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessWatchRow)&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0),a(2),k("options",t.optionsSearch),a(),k("options",t.optionsStatist),a(2),u("dataSource",t.tableSource),a(41),u("matHeaderRowDef",t.tabledisplayedColumns),a(),u("matRowDefColumns",t.tabledisplayedColumns),a(2),u("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",Ie(34,sn)))},dependencies:[rt,O,ft,ye,De,ve,xe,Le,Ue,Be,Ve,Oe,Pe,Ne,We,He,Ge,qe,Fe,je,Qe,ze,Ye,Ze,et,tt,Ct,Me,G,vt,ot,Ke,it,$e,ht,_t,lt],encapsulation:2});var fo=Ai;var xi=class xi{constructor(){this.constructorInfoAreaId=this.constructor.name}ngOnInit(){}};xi.\u0275fac=function(e){return new(e||xi)},xi.\u0275cmp=U({type:xi,selectors:[["app-core-token"]],standalone:!1,decls:1,vars:0,template:function(e,o){e&1&&g(0,"router-outlet")},dependencies:[Go],encapsulation:2});var So=xi;var jn=["vform"];function Wn(i,r){if(i&1){let e=w();n(0,"app-cms-enum-record-status-selector",7),y("modelChange",function(t){C(e);let l=d();return A(l.dataModel.recordStatus,t)||(l.dataModel.recordStatus=t),h(t)}),s()}if(i&2){let e=d();k("model",e.dataModel.recordStatus),u("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function qn(i,r){if(i&1){let e=w();n(0,"div",8)(1,"button",9),M("click",function(){C(e);let t=d();return h(t.onFormCancel())}),g(2,"i",10),m(3),_(4,"translate"),s()()}i&2&&(a(3),p(" ",v(4,1,"ACTION.CANCEL")," "))}var Li=class Li extends mt{constructor(e,o,t,l,f,c,D,oe,ie,le){super(l,new Gt,c,le);this.data=e;this.dialogRef=o;this.coreEnumService=t;this.coreLogTokenMicroServiceService=l;this.cmsToastrService=f;this.publicHelper=c;this.cdr=D;this.tokenHelper=oe;this.cmsStoreService=ie;this.translate=le;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new R;this.dataModel=new Gt;this.formInfo=new Y;this.dataModelEnumManageUserAccessAreaTypesResult=new R;this.dataModelEnumManageUserAccessUserTypesResult=new R;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id)}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>B(this,null,function*(){this.tokenInfo=e}))),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){this.coreEnumService.ServiceManageUserAccessAreaTypesEnum().subscribe({next:e=>{this.dataModelEnumManageUserAccessAreaTypesResult=e}})}getEnumManageUserAccessUserTypes(){this.coreEnumService.ServiceManageUserAccessUserTypesEnum().subscribe({next:e=>{this.dataModelEnumManageUserAccessUserTypesResult=e}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(o=>{this.formInfo.submitResultMessage=o}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(o=>{this.publicHelper.processService.processStart(e,o,this.constructorInfoAreaId)}),this.coreLogTokenMicroServiceService.setAccessLoad(),this.coreLogTokenMicroServiceService.setAccessDataType(at.Editor),this.coreLogTokenMicroServiceService.ServiceGetOneById(this.requestId).subscribe({next:o=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModel=o.item,o.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+o.item.id,this.formInfo.submitResultMessage=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=o.errorMessage,this.cmsToastrService.typeErrorMessage(o.errorMessage)),this.publicHelper.processService.processStop(e)},error:o=>{this.cmsToastrService.typeError(o),this.publicHelper.processService.processStop(e,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Li.\u0275fac=function(o){return new(o||Li)(S(ee),S(Z),S(z),S(Rt),S(F),S(j),S(V),S(H),S(N),S(P))},Li.\u0275cmp=U({type:Li,selectors:[["app-coretoken-microservicelog-edit"]],viewQuery:function(o,t){if(o&1&&K(jn,5),o&2){let l;$(l=X())&&(t.formGroup=l.first)}},standalone:!1,features:[J],decls:14,vars:17,consts:[[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(o,t){o&1&&(n(0,"div",0),g(1,"app-progress-spinner",1),n(2,"div",2)(3,"p",3),m(4),s(),n(5,"p"),m(6),_(7,"translate"),s(),T(8,Wn,1,5,"app-cms-enum-record-status-selector",4),g(9,"app-cms-site-selector",5),_(10,"translate"),g(11,"app-cms-user-selector",5),_(12,"translate"),T(13,qn,5,3,"div",6),s()()),o&2&&(a(),u("optionsInfoAreaId",t.constructorInfoAreaId),a(3),p(" ",t.formInfo.formTitle," "),a(2),p(" ",v(7,11,"TITLE.Be_Careful_When_Entering_Information")," "),a(2),u("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),a(),u("optionDisabled",!0)("optionSelectForce",t.dataModel.linkSiteId)("optionPlaceholder",v(10,13,"TITLE.WEBSITE")),a(2),u("optionDisabled",!0)("optionSelectForce",t.dataModel.linkUserId)("optionPlaceholder",v(12,15,"TITLE.USER")),a(2),u("ngIf",t.formInfo.submitButtonEnabled))},dependencies:[O,ct,St,dt,te,G],encapsulation:2});var Co=Li;var Qn=["vform"];function zn(i,r){if(i&1&&(n(0,"div",7),g(1,"i",11),n(2,"span",12),m(3),s()()),i&2){let e=d(2);a(3),x(e.formInfo.submitResultMessage)}}function Jn(i,r){if(i&1&&(n(0,"div",8),g(1,"i",13),n(2,"span",12),m(3),s()()),i&2){let e=d(2);a(3),x(e.formInfo.submitResultMessage)}}function Kn(i,r){if(i&1&&(n(0,"div",9),g(1,"i",14),n(2,"span",12),m(3),s()()),i&2){let e=d(2);a(3),x(e.formInfo.submitResultMessage)}}function $n(i,r){if(i&1&&(n(0,"div",10),g(1,"i",15),n(2,"span",12),m(3),s()()),i&2){let e=d(2);a(3),x(e.formInfo.submitResultMessage)}}function Xn(i,r){if(i&1&&ce(0,zn,4,1,"div",7)(1,Jn,4,1,"div",8)(2,Kn,4,1,"div",9)(3,$n,4,1,"div",10),i&2){let e,o=d();me((e=o.formInfo.submitResult)==="success"?0:e==="error"?1:e==="warning"?2:3)}}function Yn(i,r){if(i&1){let e=w();n(0,"div",16)(1,"button",17),M("click",function(){C(e);let t=d();return h(t.onFormCancel())}),g(2,"i",18),m(3),_(4,"translate"),s()()}i&2&&(a(3),p(" ",v(4,1,"ACTION.CANCEL")," "))}var Ui=class Ui{constructor(r,e,o,t,l,f,c,D,oe,ie){this.data=r;this.dialogRef=e;this.coreEnumService=o;this.coreLogTokenMicroServiceService=t;this.cmsToastrService=l;this.tokenHelper=f;this.cmsStoreService=c;this.cdr=D;this.publicHelper=oe;this.translate=ie;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.tokenInfo=new st;this.dataModelResult=new R;this.dataModel=new Gt;this.formInfo=new Y;this.dataModelEnumSendSmsStatusTypeResult=new R;this.fieldsInfo=new Map;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,r&&(this.requestId=r.id+"")}ngOnInit(){if(this.translate.get("TITLE.VIEW").subscribe(r=>{this.formInfo.formTitle=r}),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(r=>r.tokenInfoStore).subscribe(r=>B(this,null,function*(){this.tokenInfo=r}))),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:r=>{this.dataModelEnumSendSmsStatusTypeResult=r}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(r=>r.unsubscribe())}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage="";let r=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(r,e,this.constructorInfoAreaId)}),this.coreLogTokenMicroServiceService.setAccessLoad(),this.coreLogTokenMicroServiceService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModel=e.item,e.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+e.item.id,this.formInfo.submitResultMessage=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(o=>{this.formInfo.submitResultMessage=o}),this.formInfo.submitResultMessage=e.errorMessage,this.cmsToastrService.typeErrorMessage(e.errorMessage)),this.publicHelper.processService.processStop(r)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(r,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Ui.\u0275fac=function(e){return new(e||Ui)(S(ee),S(Z),S(z),S(Rt),S(F),S(H),S(N),S(V),S(j),S(P))},Ui.\u0275cmp=U({type:Ui,selectors:[["app-core-token-microservicelog-view"]],viewQuery:function(e,o){if(e&1&&K(Qn,5),e&2){let t;$(t=X())&&(o.formGroup=t.first)}},standalone:!1,decls:9,vars:6,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection","loader-container"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],[1,"chip","chip-s","bg-green-dark"],[1,"chip","chip-s","bg-red-dark"],[1,"chip","chip-s","bg-yellow-dark"],[1,"chip","chip-s","bg-gray-dark"],[1,"fa","fa-check","color-white","bg-green-light"],[1,"color-white"],[1,"fa","fa-check","color-white","bg-red-light"],[1,"fa","fa-check","color-white","bg-yellow-light"],[1,"fa","fa-check","color-white","bg-gray-light"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,o){e&1&&(n(0,"div",0),m(1),s(),n(2,"div",1),g(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),s(),n(5,"div",4),ce(6,Xn,4,1),s(),n(7,"div",5),T(8,Yn,5,3,"div",6),s()),e&2&&(a(),p(" ",o.formInfo.formTitle," "),a(2),u("optionsInfoAreaId",o.constructorInfoAreaId),a(),u("dataModel",o.dataModel)("optionMethod",1),a(2),me((o.formInfo==null||o.formInfo.submitResultMessage==null?null:o.formInfo.submitResultMessage.length)>0?6:-1),a(2),u("ngIf",o.formInfo.submitButtonEnabled))},dependencies:[O,te,pt,G],encapsulation:2});var ho=Ui;var Zn=()=>[5,10,20,100],er=i=>({display:i}),tr=i=>({background:i});function ir(i,r){if(i&1){let e=w();n(0,"a",51),M("click",function(){C(e);let t=d();return h(t.onActionBackToParent())}),g(1,"i",52),s()}}function or(i,r){if(i&1){let e=w();n(0,"div",18)(1,"a",53),M("click",function(){C(e);let t=d();return h(t.onActionButtonEditRow(t.tableRowSelected))}),g(2,"i",54)(3,"br"),s(),n(4,"p",21),m(5),_(6,"translate"),s()()}i&2&&(a(5),p(" ",v(6,1,"ACTION.EDIT")," "))}function nr(i,r){if(i&1){let e=w();n(0,"div",18)(1,"a",55),M("click",function(){C(e);let t=d();return h(t.onActionButtonDeleteRow(t.tableRowSelected))}),g(2,"i",56)(3,"br"),s(),n(4,"p",21),m(5),_(6,"translate"),s()()}i&2&&(a(5),p(" ",v(6,1,"ACTION.DELETE")," "))}function rr(i,r){if(i&1){let e=w();n(0,"div",18)(1,"a",57),M("click",function(){C(e);let t=d();return h(t.onActionButtonViewRow(t.tableRowSelected))}),g(2,"i",58)(3,"br"),s(),n(4,"p",21),m(5),_(6,"translate"),s()()}i&2&&(a(5),p(" ",v(6,1,"ACTION.VIEW")," "))}function ar(i,r){if(i&1&&(n(0,"mat-header-cell",59),m(1),s()),i&2){let e=d();a(),p(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function sr(i,r){if(i&1&&(n(0,"mat-cell"),m(1),s()),i&2){let e=r.$implicit;a(),p(" ",e.id," ")}}function lr(i,r){if(i&1&&(n(0,"mat-header-cell",59),m(1),s()),i&2){let e=d();a(),p(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function cr(i,r){if(i&1&&(n(0,"mat-cell"),m(1),_(2,"cmssiteinfo"),_(3,"async"),s()),i&2){let e=r.$implicit;a(),p(" ",v(3,3,v(2,1,e.linkSiteId))," ")}}function mr(i,r){if(i&1&&(n(0,"mat-header-cell",59),m(1),s()),i&2){let e=d();a(),p(" ",e.fieldsInfo.linkUserId==null?null:e.fieldsInfo.linkUserId.fieldTitle," ")}}function dr(i,r){if(i&1&&(n(0,"mat-cell"),m(1),_(2,"cmsuserinfo"),_(3,"async"),s()),i&2){let e=r.$implicit;a(),p(" ",v(3,3,v(2,1,e.linkUserId))," ")}}function pr(i,r){if(i&1&&(n(0,"mat-header-cell",59),m(1),s()),i&2){let e=d();a(),p(" ",e.fieldsInfo.linkMemberUserId==null?null:e.fieldsInfo.linkMemberUserId.fieldTitle," ")}}function ur(i,r){if(i&1&&(n(0,"mat-cell"),m(1),s()),i&2){let e=r.$implicit;a(),p(" ",e.linkMemberUserId," ")}}function fr(i,r){if(i&1&&(n(0,"mat-header-cell",59),m(1),s()),i&2){let e=d();a(),p(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function Sr(i,r){if(i&1&&g(0,"select",62),i&2){let e=d().$implicit,o=d();u("contentService",o.contentService)("row",e)("ngStyle",ge(3,er,e.id===(o.tableRowSelected==null?null:o.tableRowSelected.id)?"":"none"))}}function Cr(i,r){if(i&1&&(n(0,"mat-cell",60),_(1,"statusCellClass"),g(2,"i",60),_(3,"statusIconClass"),T(4,Sr,1,5,"select",61),s()),i&2){let e=r.$implicit,o=d();u("ngClass",v(1,3,e.recordStatus)),a(2),u("ngClass",v(3,5,e.recordStatus)),a(2),u("ngIf",o.dataModelResult==null||o.dataModelResult.access==null?null:o.dataModelResult.access.accessEditRow)}}function hr(i,r){if(i&1&&(n(0,"mat-header-cell",59),m(1),s()),i&2){let e=d();a(),p(" ",e.fieldsInfo.userAccessAreaType==null?null:e.fieldsInfo.userAccessAreaType.fieldTitle," ")}}function _r(i,r){if(i&1&&(n(0,"mat-cell"),m(1),_(2,"enums"),s()),i&2){let e=r.$implicit,o=d();a(),p(" ",ae(2,1,e.userAccessAreaType,o.dataModelEnumManageUserAccessAreaTypesResult.listItems)," ")}}function gr(i,r){if(i&1&&(n(0,"mat-header-cell",59),m(1),s()),i&2){let e=d();a(),p(" ",e.fieldsInfo.userType==null?null:e.fieldsInfo.userType.fieldTitle," ")}}function vr(i,r){if(i&1&&(n(0,"mat-cell"),m(1),_(2,"enums"),s()),i&2){let e=r.$implicit,o=d();a(),p(" ",ae(2,1,e.userType,o.dataModelEnumManageUserAccessUserTypesResult.listItems)," ")}}function Tr(i,r){if(i&1&&(n(0,"mat-header-cell",59),m(1),s()),i&2){let e=d();a(),p(" ",e.fieldsInfo.userAccessAdminAllowToAllData==null?null:e.fieldsInfo.userAccessAdminAllowToAllData.fieldTitle," ")}}function br(i,r){if(i&1&&(n(0,"mat-cell"),g(1,"i",60),_(2,"boolclass"),s()),i&2){let e=r.$implicit;a(),u("ngClass",v(2,1,e.userAccessAdminAllowToAllData))}}function Ir(i,r){if(i&1&&(n(0,"mat-header-cell",59),m(1),s()),i&2){let e=d();a(),p(" ",e.fieldsInfo.userAccessAdminAllowToProfessionalData==null?null:e.fieldsInfo.userAccessAdminAllowToProfessionalData.fieldTitle," ")}}function Mr(i,r){if(i&1&&(n(0,"mat-cell"),g(1,"i",60),_(2,"boolclass"),s()),i&2){let e=r.$implicit;a(),u("ngClass",v(2,1,e.userAccessAdminAllowToProfessionalData))}}function wr(i,r){if(i&1&&(n(0,"mat-header-cell",59),m(1),s()),i&2){let e=d();a(),p(" ",e.fieldsInfo.rememberOnDevice==null?null:e.fieldsInfo.rememberOnDevice.fieldTitle," ")}}function Er(i,r){if(i&1&&(n(0,"mat-cell"),g(1,"i",60),_(2,"boolclass"),s()),i&2){let e=r.$implicit;a(),u("ngClass",v(2,1,e.rememberOnDevice))}}function kr(i,r){if(i&1&&(n(0,"mat-header-cell",59),m(1),s()),i&2){let e=d();a(),p(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function Ar(i,r){if(i&1&&(n(0,"mat-cell",63),m(1),_(2,"localeDateTime"),s()),i&2){let e=r.$implicit;a(),p(" ",v(2,1,e.createdDate)," ")}}function yr(i,r){if(i&1&&(n(0,"mat-header-cell",59),m(1),s()),i&2){let e=d();a(),p(" ",e.fieldsInfo.expireDate==null?null:e.fieldsInfo.expireDate.fieldTitle," ")}}function Rr(i,r){if(i&1&&(n(0,"mat-cell",64),m(1),_(2,"persianDate"),s()),i&2){let e=r.$implicit,o=d();u("ngStyle",ge(4,tr,o.publicHelper.RowStyleExpireDate(e.expireDate))),a(),p(" ",v(2,2,e.expireDate)," ")}}function Dr(i,r){i&1&&(n(0,"mat-header-cell"),m(1),_(2,"translate"),s()),i&2&&(a(),p(" ",v(2,1,"TITLE.OPTION")," "))}function xr(i,r){if(i&1&&(n(0,"mat-cell",65)(1,"button",66)(2,"mat-icon"),m(3,"more_vert"),s()(),g(4,"mat-menu",null,2),s()),i&2){let e=Q(5);a(),u("matMenuTriggerFor",e)}}function Lr(i,r){i&1&&g(0,"mat-header-row")}function Ur(i,r){if(i&1){let e=w();n(0,"mat-row",67),M("click",function(t){let l=C(e).$implicit,f=d();return h(f.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=C(e).$implicit,f=d();return h(f.onActionTableRowSelect(l,t))}),s()}if(i&2){let e=r.$implicit,o=d();be("ntk-row-selected",e.id===(o.tableRowSelected==null?null:o.tableRowSelected.id))}}var Bi=class Bi extends Xe{constructor(e,o,t,l,f,c,D,oe,ie,le,nt,wt){super(e,new Gt,nt,f,D);this.contentService=e;this.cmsToastrService=o;this.cmsConfirmationDialogService=t;this.activatedRoute=l;this.tokenHelper=f;this.cdr=c;this.translate=D;this.cmsStoreService=oe;this.router=ie;this.pageInfo=le;this.publicHelper=nt;this.dialog=wt;this.requestLinkSiteId=0;this.requestLinkUserId=0;this.requestLinkDeviceId=0;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new Ee;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["Id","LinkSiteId","LinkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","CreatedDate","ExpireDate"];this.tabledisplayedColumnsMobileSource=["Id","LinkSiteId","LinkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","CreatedDate","ExpireDate"];this.dataModelEnumManageUserAccessAreaTypesResult=new R;this.dataModelEnumManageUserAccessUserTypesResult=new R;this.unsubscribe=[];if(this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkDeviceId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkDeviceId")),this.requestLinkSiteId>0){let E=new W;E.propertyName="LinkCmsSiteId",E.value=this.requestLinkSiteId,this.filteModelContent.filters.push(E)}if(this.requestLinkUserId>0){let E=new W;E.propertyName="LinkUserId",E.value=this.requestLinkUserId,this.filteModelContent.filters.push(E)}if(this.requestLinkDeviceId>0){let E=new W;E.propertyName="LinkDeviceId",E.value=this.requestLinkDeviceId,this.filteModelContent.filters.push(E)}this.optionsSearch.parentMethods={onSubmit:E=>this.onSubmitOptionsSearch(E)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=L.Descending}ngOnInit(){this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=L.Descending,this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>B(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Gt);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let o=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(o.filters=[...this.filterDataModelQueryBuilder]),this.contentService.ServiceGetAllEditor(o).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=L.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=L.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=L.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonViewRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var o="";this.publicHelper.isMobile?o="dialog-fullscreen":o="dialog-min",this.dialog.open(ho,{height:"90%",panelClass:o,enterAnimationDuration:q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var o="";this.publicHelper.isMobile?o="dialog-fullscreen":o="dialog-min",this.dialog.open(Co,{height:"90%",panelClass:o,enterAnimationDuration:q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(l=>{this.cmsToastrService.typeErrorSelected(l)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var o="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(l=>{o=l["MESSAGE.Please_Confirm"],t=l["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(o,t).then(l=>{if(l){let f=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(f,c,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(f)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(f,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let o=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{o.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{o.set(c,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(D=>{o.set(D,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}});let l=JSON.parse(JSON.stringify(this.filteModelContent)),f=new W;f.propertyName="RecordStatus",f.value=we.Available,l.filters.push(f),this.contentService.ServiceGetCount(l).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(D=>{o.set(D,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonViewUserRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkUserId||this.tableRowSelected.linkUserId===0){this.translate.get("MESSAGE.content_does_not_contain_user_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId])}onActionButtonViewSiteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkSiteId||this.tableRowSelected.linkSiteId===0){this.translate.get("MESSAGE.content_does_not_include_site_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};Bi.\u0275fac=function(o){return new(o||Bi)(S(Rt),S(F),S(Te),S(ke),S(H),S(V),S(P),S(N),S(Ae),S(Je),S(j),S(Re))},Bi.\u0275cmp=U({type:Bi,selectors:[["app-coretoken-microservicelog-list"]],standalone:!1,features:[J],decls:85,vars:31,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-globe","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","LinkUserId"],["matColumnDef","LinkMemberUserId"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","UserAccessAreaType"],["matColumnDef","UserType"],["matColumnDef","UserAccessAdminAllowToAllData"],["matColumnDef","UserAccessAdminAllowToProfessionalData"],["matColumnDef","RememberOnDevice"],["matColumnDef","CreatedDate"],["style","direction: ltr",4,"matCellDef"],["matColumnDef","ExpireDate"],[3,"ngStyle",4,"matCellDef"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","target","_blank","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[2,"direction","ltr"],[3,"ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(o,t){if(o&1){let l=w();n(0,"app-cms-html-list",3),y("optionActionGuideNoticeDisplayChange",function(c){return C(l),A(t.viewGuideNotice,c)||(t.viewGuideNotice=c),h(c)}),M("optionOnActionButtonMemoRow",function(){return C(l),h(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return C(l),h(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return C(l),h(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return C(l),h(t.onActionButtonPrintRow())}),b(1,4),m(2," -------------------------------------- "),I(),ne(3,5)(4,6),b(5,7),T(6,ir,2,0,"a",8),n(7,"a",9),M("click",function(){return C(l),h(t.viewGuideNotice=!t.viewGuideNotice)}),g(8,"i",10),s(),n(9,"a",9),M("click",function(){return C(l),h(t.onActionButtonReload())}),g(10,"i",11),s(),I(),b(11,12),n(12,"a",13),M("click",function(){return C(l),h(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),g(13,"mat-slide-toggle",14),m(14),_(15,"translate"),s(),I(),ne(16,15),b(17,16),T(18,or,7,3,"div",17)(19,nr,7,3,"div",17),n(20,"div",18)(21,"a",19),M("click",function(){return C(l),h(t.onActionButtonViewSiteRow(t.tableRowSelected))}),g(22,"i",20)(23,"br"),s(),n(24,"p",21),m(25),_(26,"translate"),s()(),n(27,"div",18)(28,"a",19),M("click",function(){return C(l),h(t.onActionButtonViewUserRow(t.tableRowSelected))}),g(29,"i",22)(30,"br"),s(),n(31,"p",21),m(32),_(33,"translate"),s()(),T(34,rr,7,3,"div",17),I(),b(35,23),n(36,"app-cms-search-list",24),y("optionsChange",function(c){return C(l),A(t.optionsSearch,c)||(t.optionsSearch=c),h(c)}),s(),n(37,"app-cms-statist-list",24),y("optionsChange",function(c){return C(l),A(t.optionsStatist,c)||(t.optionsStatist=c),h(c)}),s(),I(),b(38,25),n(39,"mat-table",26,0),M("matSortChange",function(){C(l);let c=Q(40);return h(t.onTableSortData(c))}),b(41,27),T(42,ar,2,1,"mat-header-cell",28)(43,sr,2,1,"mat-cell",29),I(),b(44,30),T(45,lr,2,1,"mat-header-cell",28)(46,cr,4,5,"mat-cell",29),I(),b(47,31),T(48,mr,2,1,"mat-header-cell",28)(49,dr,4,5,"mat-cell",29),I(),b(50,32),T(51,pr,2,1,"mat-header-cell",28)(52,ur,2,1,"mat-cell",29),I(),b(53,33),T(54,fr,2,1,"mat-header-cell",28)(55,Cr,5,7,"mat-cell",34),I(),b(56,35),T(57,hr,2,1,"mat-header-cell",28)(58,_r,3,4,"mat-cell",29),I(),b(59,36),T(60,gr,2,1,"mat-header-cell",28)(61,vr,3,4,"mat-cell",29),I(),b(62,37),T(63,Tr,2,1,"mat-header-cell",28)(64,br,3,3,"mat-cell",29),I(),b(65,38),T(66,Ir,2,1,"mat-header-cell",28)(67,Mr,3,3,"mat-cell",29),I(),b(68,39),T(69,wr,2,1,"mat-header-cell",28)(70,Er,3,3,"mat-cell",29),I(),b(71,40),T(72,kr,2,1,"mat-header-cell",28)(73,Ar,3,3,"mat-cell",41),I(),b(74,42),T(75,yr,2,1,"mat-header-cell",28)(76,Rr,3,6,"mat-cell",43),I(),b(77,44),T(78,Dr,3,3,"mat-header-cell",45)(79,xr,6,1,"mat-cell",46),I(),T(80,Lr,1,0,"mat-header-row",47)(81,Ur,1,2,"mat-row",48),s(),I(),b(82,49),n(83,"mat-paginator",50,1),M("page",function(c){return C(l),h(t.onTablePageingData(c))}),s(),I(),s()}o&2&&(u("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),k("optionActionGuideNoticeDisplay",t.viewGuideNotice),u("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),a(6),u("ngIf",t.requestLinkSiteId>0),a(7),u("checked",t.optionsSearch.data.show),a(),p("",v(15,24,"ACTION.SEARCH")," "),a(4),u("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),a(),u("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),a(6),p(" ",v(26,26,"ACTION.SITE")," "),a(7),p(" ",v(33,28,"ACTION.USER")," "),a(2),u("ngIf",(t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessWatchRow)&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0),a(2),k("options",t.optionsSearch),a(),k("options",t.optionsStatist),a(2),u("dataSource",t.tableSource),a(41),u("matHeaderRowDef",t.tabledisplayedColumns),a(),u("matRowDefColumns",t.tabledisplayedColumns),a(2),u("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",Ie(30,Zn)))},dependencies:[rt,O,ft,ye,De,ve,xe,Le,Ue,Be,Ve,Oe,Pe,Ne,We,He,Ge,qe,Fe,je,Qe,ze,Ye,Ze,et,tt,Ct,Me,G,vt,ot,Ke,it,$e,ht,_t,lt],encapsulation:2});var _o=Bi;var Br=["vform"];function Vr(i,r){if(i&1){let e=w();n(0,"app-cms-enum-record-status-selector",8),y("modelChange",function(t){C(e);let l=d();return A(l.dataModel.recordStatus,t)||(l.dataModel.recordStatus=t),h(t)}),s()}if(i&2){let e=d();k("model",e.dataModel.recordStatus),u("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Or(i,r){if(i&1&&(n(0,"div"),g(1,"div",9),_(2,"prettyjson"),s()),i&2){let e=d();a(),u("innerHTML",v(2,1,e.dataModel),bt)}}function Pr(i,r){if(i&1){let e=w();n(0,"div",10)(1,"button",11),M("click",function(){C(e);let t=d();return h(t.onFormCancel())}),g(2,"i",12),m(3),_(4,"translate"),s()()}i&2&&(a(3),p(" ",v(4,1,"ACTION.CANCEL")," "))}var Vi=class Vi extends mt{constructor(e,o,t,l,f,c,D,oe,ie,le){super(l,new Pt,ie,le);this.data=e;this.dialogRef=o;this.coreEnumService=t;this.coreTokenMicroServiceService=l;this.cmsToastrService=f;this.tokenHelper=c;this.cmsStoreService=D;this.cdr=oe;this.publicHelper=ie;this.translate=le;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new At;this.dataModel=new Pt;this.formInfo=new Y;this.dataModelEnumManageUserAccessAreaTypesResult=new R;this.dataModelEnumManageUserAccessUserTypesResult=new R;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id)}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>B(this,null,function*(){this.tokenInfo=e}))),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){this.coreEnumService.ServiceManageUserAccessAreaTypesEnum().subscribe({next:e=>{this.dataModelEnumManageUserAccessAreaTypesResult=e}})}getEnumManageUserAccessUserTypes(){this.coreEnumService.ServiceManageUserAccessUserTypesEnum().subscribe({next:e=>{this.dataModelEnumManageUserAccessUserTypesResult=e}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(o=>{this.formInfo.submitResultMessage=o}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(o=>{this.publicHelper.processService.processStart(e,o,this.constructorInfoAreaId)}),this.coreTokenMicroServiceService.setAccessLoad(),this.coreTokenMicroServiceService.setAccessDataType(at.Editor),this.coreTokenMicroServiceService.ServiceGetOneById(this.requestId).subscribe({next:o=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModel=o.item,o.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+o.item.id,this.formInfo.submitResultMessage=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=o.errorMessage,this.cmsToastrService.typeErrorMessage(o.errorMessage)),this.publicHelper.processService.processStop(e)},error:o=>{this.cmsToastrService.typeError(o),this.publicHelper.processService.processStop(e,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Vi.\u0275fac=function(o){return new(o||Vi)(S(ee),S(Z),S(z),S(Bt),S(F),S(H),S(N),S(V),S(j),S(P))},Vi.\u0275cmp=U({type:Vi,selectors:[["app-coretoken-microservice-edit"]],viewQuery:function(o,t){if(o&1&&K(Br,5),o&2){let l;$(l=X())&&(t.formGroup=l.first)}},standalone:!1,features:[J],decls:15,vars:18,consts:[[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],[4,"ngIf"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"innerHTML"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(o,t){o&1&&(n(0,"div",0),g(1,"app-progress-spinner",1),n(2,"div",2)(3,"p",3),m(4),s(),n(5,"p"),m(6),_(7,"translate"),s(),T(8,Vr,1,5,"app-cms-enum-record-status-selector",4),g(9,"app-cms-site-selector",5),_(10,"translate"),g(11,"app-cms-user-selector",5),_(12,"translate"),T(13,Or,3,3,"div",6)(14,Pr,5,3,"div",7),s()()),o&2&&(a(),u("optionsInfoAreaId",t.constructorInfoAreaId),a(3),p(" ",t.formInfo.formTitle," "),a(2),p(" ",v(7,12,"TITLE.Be_Careful_When_Entering_Information")," "),a(2),u("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),a(),u("optionDisabled",!0)("optionSelectForce",t.dataModel.linkSiteId)("optionPlaceholder",v(10,14,"TITLE.WEBSITE")),a(2),u("optionDisabled",!0)("optionSelectForce",t.dataModel.linkUserId)("optionPlaceholder",v(12,16,"TITLE.USER")),a(2),u("ngIf",t.tokenInfo.access.userAccessAdminAllowToProfessionalData),a(),u("ngIf",t.formInfo.submitButtonEnabled))},dependencies:[O,ct,St,dt,te,G,Mt],encapsulation:2});var go=Vi;var Gr=["vform"];function Nr(i,r){if(i&1&&(n(0,"div",7),g(1,"i",11),n(2,"span",12),m(3),s()()),i&2){let e=d(2);a(3),x(e.formInfo.submitResultMessage)}}function Hr(i,r){if(i&1&&(n(0,"div",8),g(1,"i",13),n(2,"span",12),m(3),s()()),i&2){let e=d(2);a(3),x(e.formInfo.submitResultMessage)}}function Fr(i,r){if(i&1&&(n(0,"div",9),g(1,"i",14),n(2,"span",12),m(3),s()()),i&2){let e=d(2);a(3),x(e.formInfo.submitResultMessage)}}function jr(i,r){if(i&1&&(n(0,"div",10),g(1,"i",15),n(2,"span",12),m(3),s()()),i&2){let e=d(2);a(3),x(e.formInfo.submitResultMessage)}}function Wr(i,r){if(i&1&&ce(0,Nr,4,1,"div",7)(1,Hr,4,1,"div",8)(2,Fr,4,1,"div",9)(3,jr,4,1,"div",10),i&2){let e,o=d();me((e=o.formInfo.submitResult)==="success"?0:e==="error"?1:e==="warning"?2:3)}}function qr(i,r){if(i&1){let e=w();n(0,"div",16)(1,"button",17),M("click",function(){C(e);let t=d();return h(t.onFormCancel())}),g(2,"i",18),m(3),_(4,"translate"),s()()}i&2&&(a(3),p(" ",v(4,1,"ACTION.CANCEL")," "))}var Oi=class Oi{constructor(r,e,o,t,l,f,c,D,oe,ie){this.data=r;this.dialogRef=e;this.coreEnumService=o;this.coreTokenMicroServiceService=t;this.cmsToastrService=l;this.tokenHelper=f;this.cmsStoreService=c;this.cdr=D;this.publicHelper=oe;this.translate=ie;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.tokenInfo=new st;this.dataModelResult=new R;this.dataModel=new Pt;this.formInfo=new Y;this.dataModelEnumSendSmsStatusTypeResult=new R;this.fieldsInfo=new Map;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,r&&(this.requestId=r.id+"")}ngOnInit(){if(this.translate.get("TITLE.VIEW").subscribe(r=>{this.formInfo.formTitle=r}),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(r=>r.tokenInfoStore).subscribe(r=>B(this,null,function*(){this.tokenInfo=r}))),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:r=>{this.dataModelEnumSendSmsStatusTypeResult=r}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(r=>r.unsubscribe())}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage="";let r=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(r,e,this.constructorInfoAreaId)}),this.coreTokenMicroServiceService.setAccessLoad(),this.coreTokenMicroServiceService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModel=e.item,e.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+e.item.id,this.formInfo.submitResultMessage=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(o=>{this.formInfo.submitResultMessage=o}),this.formInfo.submitResultMessage=e.errorMessage,this.cmsToastrService.typeErrorMessage(e.errorMessage)),this.publicHelper.processService.processStop(r)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(r,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Oi.\u0275fac=function(e){return new(e||Oi)(S(ee),S(Z),S(z),S(Bt),S(F),S(H),S(N),S(V),S(j),S(P))},Oi.\u0275cmp=U({type:Oi,selectors:[["app-coretoken-microservice-view"]],viewQuery:function(e,o){if(e&1&&K(Gr,5),e&2){let t;$(t=X())&&(o.formGroup=t.first)}},standalone:!1,decls:9,vars:6,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection","loader-container"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],[1,"chip","chip-s","bg-green-dark"],[1,"chip","chip-s","bg-red-dark"],[1,"chip","chip-s","bg-yellow-dark"],[1,"chip","chip-s","bg-gray-dark"],[1,"fa","fa-check","color-white","bg-green-light"],[1,"color-white"],[1,"fa","fa-check","color-white","bg-red-light"],[1,"fa","fa-check","color-white","bg-yellow-light"],[1,"fa","fa-check","color-white","bg-gray-light"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,o){e&1&&(n(0,"div",0),m(1),s(),n(2,"div",1),g(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),s(),n(5,"div",4),ce(6,Wr,4,1),s(),n(7,"div",5),T(8,qr,5,3,"div",6),s()),e&2&&(a(),p(" ",o.formInfo.formTitle," "),a(2),u("optionsInfoAreaId",o.constructorInfoAreaId),a(),u("dataModel",o.dataModel)("optionMethod",1),a(2),me((o.formInfo==null||o.formInfo.submitResultMessage==null?null:o.formInfo.submitResultMessage.length)>0?6:-1),a(2),u("ngIf",o.formInfo.submitButtonEnabled))},dependencies:[O,te,pt,G],encapsulation:2});var To=Oi;var Qr=()=>[5,10,20,100],zr=i=>({display:i}),Jr=i=>({background:i});function Kr(i,r){if(i&1){let e=w();n(0,"a",51),M("click",function(){C(e);let t=d();return h(t.onActionBackToParent())}),g(1,"i",52),s()}}function $r(i,r){if(i&1){let e=w();n(0,"div",18)(1,"a",53),M("click",function(){C(e);let t=d();return h(t.onActionButtonEditRow(t.tableRowSelected))}),g(2,"i",54)(3,"br"),s(),n(4,"p",21),m(5),_(6,"translate"),s()()}i&2&&(a(5),p(" ",v(6,1,"ACTION.EDIT")," "))}function Xr(i,r){if(i&1){let e=w();n(0,"div",18)(1,"a",55),M("click",function(){C(e);let t=d();return h(t.onActionButtonDeleteRow(t.tableRowSelected))}),g(2,"i",56)(3,"br"),s(),n(4,"p",21),m(5),_(6,"translate"),s()()}i&2&&(a(5),p(" ",v(6,1,"ACTION.DELETE")," "))}function Yr(i,r){if(i&1){let e=w();n(0,"div",18)(1,"a",57),M("click",function(){C(e);let t=d();return h(t.onActionButtonViewRow(t.tableRowSelected))}),g(2,"i",58)(3,"br"),s(),n(4,"p",21),m(5),_(6,"translate"),s()()}i&2&&(a(5),p(" ",v(6,1,"ACTION.VIEW")," "))}function Zr(i,r){if(i&1&&(n(0,"mat-header-cell",59),m(1),s()),i&2){let e=d();a(),p(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function ea(i,r){if(i&1&&(n(0,"mat-cell"),m(1),s()),i&2){let e=r.$implicit;a(),p(" ",e.id," ")}}function ta(i,r){if(i&1&&(n(0,"mat-header-cell",59),m(1),s()),i&2){let e=d();a(),p(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function ia(i,r){if(i&1&&(n(0,"mat-cell"),m(1),_(2,"cmssiteinfo"),_(3,"async"),s()),i&2){let e=r.$implicit;a(),p(" ",v(3,3,v(2,1,e.linkSiteId))," ")}}function oa(i,r){if(i&1&&(n(0,"mat-header-cell",59),m(1),s()),i&2){let e=d();a(),p(" ",e.fieldsInfo.linkUserId==null?null:e.fieldsInfo.linkUserId.fieldTitle," ")}}function na(i,r){if(i&1&&(n(0,"mat-cell"),m(1),_(2,"cmsuserinfo"),_(3,"async"),s()),i&2){let e=r.$implicit;a(),p(" ",v(3,3,v(2,1,e.linkUserId))," ")}}function ra(i,r){if(i&1&&(n(0,"mat-header-cell",59),m(1),s()),i&2){let e=d();a(),p(" ",e.fieldsInfo.linkMemberUserId==null?null:e.fieldsInfo.linkMemberUserId.fieldTitle," ")}}function aa(i,r){if(i&1&&(n(0,"mat-cell"),m(1),s()),i&2){let e=r.$implicit;a(),p(" ",e.linkMemberUserId," ")}}function sa(i,r){if(i&1&&(n(0,"mat-header-cell",59),m(1),s()),i&2){let e=d();a(),p(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function la(i,r){if(i&1&&g(0,"select",62),i&2){let e=d().$implicit,o=d();u("contentService",o.contentService)("row",e)("ngStyle",ge(3,zr,e.id===(o.tableRowSelected==null?null:o.tableRowSelected.id)?"":"none"))}}function ca(i,r){if(i&1&&(n(0,"mat-cell",60),_(1,"statusCellClass"),g(2,"i",60),_(3,"statusIconClass"),T(4,la,1,5,"select",61),s()),i&2){let e=r.$implicit,o=d();u("ngClass",v(1,3,e.recordStatus)),a(2),u("ngClass",v(3,5,e.recordStatus)),a(2),u("ngIf",o.dataModelResult==null||o.dataModelResult.access==null?null:o.dataModelResult.access.accessEditRow)}}function ma(i,r){if(i&1&&(n(0,"mat-header-cell",59),m(1),s()),i&2){let e=d();a(),p(" ",e.fieldsInfo.userAccessAreaType==null?null:e.fieldsInfo.userAccessAreaType.fieldTitle," ")}}function da(i,r){if(i&1&&(n(0,"mat-cell"),m(1),_(2,"enums"),s()),i&2){let e=r.$implicit,o=d();a(),p(" ",ae(2,1,e.userAccessAreaType,o.dataModelEnumManageUserAccessAreaTypesResult.listItems)," ")}}function pa(i,r){if(i&1&&(n(0,"mat-header-cell",59),m(1),s()),i&2){let e=d();a(),p(" ",e.fieldsInfo.userType==null?null:e.fieldsInfo.userType.fieldTitle," ")}}function ua(i,r){if(i&1&&(n(0,"mat-cell"),m(1),_(2,"enums"),s()),i&2){let e=r.$implicit,o=d();a(),p(" ",ae(2,1,e.userType,o.dataModelEnumManageUserAccessUserTypesResult.listItems)," ")}}function fa(i,r){if(i&1&&(n(0,"mat-header-cell",59),m(1),s()),i&2){let e=d();a(),p(" ",e.fieldsInfo.userAccessAdminAllowToAllData==null?null:e.fieldsInfo.userAccessAdminAllowToAllData.fieldTitle," ")}}function Sa(i,r){if(i&1&&(n(0,"mat-cell"),g(1,"i",60),_(2,"boolclass"),s()),i&2){let e=r.$implicit;a(),u("ngClass",v(2,1,e.userAccessAdminAllowToAllData))}}function Ca(i,r){if(i&1&&(n(0,"mat-header-cell",59),m(1),s()),i&2){let e=d();a(),p(" ",e.fieldsInfo.userAccessAdminAllowToProfessionalData==null?null:e.fieldsInfo.userAccessAdminAllowToProfessionalData.fieldTitle," ")}}function ha(i,r){if(i&1&&(n(0,"mat-cell"),g(1,"i",60),_(2,"boolclass"),s()),i&2){let e=r.$implicit;a(),u("ngClass",v(2,1,e.userAccessAdminAllowToProfessionalData))}}function _a(i,r){if(i&1&&(n(0,"mat-header-cell",59),m(1),s()),i&2){let e=d();a(),p(" ",e.fieldsInfo.rememberOnDevice==null?null:e.fieldsInfo.rememberOnDevice.fieldTitle," ")}}function ga(i,r){if(i&1&&(n(0,"mat-cell"),g(1,"i",60),_(2,"boolclass"),s()),i&2){let e=r.$implicit;a(),u("ngClass",v(2,1,e.rememberOnDevice))}}function va(i,r){if(i&1&&(n(0,"mat-header-cell",59),m(1),s()),i&2){let e=d();a(),p(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function Ta(i,r){if(i&1&&(n(0,"mat-cell",63),m(1),_(2,"localeDateTime"),s()),i&2){let e=r.$implicit;a(),p(" ",v(2,1,e.createdDate)," ")}}function ba(i,r){if(i&1&&(n(0,"mat-header-cell",59),m(1),s()),i&2){let e=d();a(),p(" ",e.fieldsInfo.expireDate==null?null:e.fieldsInfo.expireDate.fieldTitle," ")}}function Ia(i,r){if(i&1&&(n(0,"mat-cell",64),m(1),_(2,"persianDate"),s()),i&2){let e=r.$implicit,o=d();u("ngStyle",ge(4,Jr,o.publicHelper.RowStyleExpireDate(e.expireDate))),a(),p(" ",v(2,2,e.expireDate)," ")}}function Ma(i,r){i&1&&(n(0,"mat-header-cell"),m(1),_(2,"translate"),s()),i&2&&(a(),p(" ",v(2,1,"TITLE.OPTION")," "))}function wa(i,r){if(i&1&&(n(0,"mat-cell",65)(1,"button",66)(2,"mat-icon"),m(3,"more_vert"),s()(),g(4,"mat-menu",null,2),s()),i&2){let e=Q(5);a(),u("matMenuTriggerFor",e)}}function Ea(i,r){i&1&&g(0,"mat-header-row")}function ka(i,r){if(i&1){let e=w();n(0,"mat-row",67),M("click",function(t){let l=C(e).$implicit,f=d();return h(f.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=C(e).$implicit,f=d();return h(f.onActionTableRowSelect(l,t))}),s()}if(i&2){let e=r.$implicit,o=d();be("ntk-row-selected",e.id===(o.tableRowSelected==null?null:o.tableRowSelected.id))}}var Pi=class Pi extends Xe{constructor(e,o,t,l,f,c,D,oe,ie,le,nt,wt){super(e,new Pt,nt,f,D);this.contentService=e;this.cmsToastrService=o;this.cmsConfirmationDialogService=t;this.activatedRoute=l;this.tokenHelper=f;this.cdr=c;this.translate=D;this.cmsStoreService=oe;this.router=ie;this.pageInfo=le;this.publicHelper=nt;this.dialog=wt;this.requestLinkSiteId=0;this.requestLinkUserId=0;this.requestLinkDeviceId=0;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new Ee;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["Id","LinkSiteId","LinkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","CreatedDate","ExpireDate"];this.tabledisplayedColumnsMobileSource=["Id","LinkSiteId","LinkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","CreatedDate","ExpireDate"];this.dataModelEnumManageUserAccessAreaTypesResult=new R;this.dataModelEnumManageUserAccessUserTypesResult=new R;this.unsubscribe=[];if(this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkDeviceId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkDeviceId")),this.requestLinkSiteId>0){let E=new W;E.propertyName="LinkCmsSiteId",E.value=this.requestLinkSiteId,this.filteModelContent.filters.push(E)}if(this.requestLinkUserId>0){let E=new W;E.propertyName="LinkUserId",E.value=this.requestLinkUserId,this.filteModelContent.filters.push(E)}if(this.requestLinkDeviceId>0){let E=new W;E.propertyName="LinkDeviceId",E.value=this.requestLinkDeviceId,this.filteModelContent.filters.push(E)}this.optionsSearch.parentMethods={onSubmit:E=>this.onSubmitOptionsSearch(E)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=L.Descending}ngOnInit(){this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=L.Descending,this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>B(this,null,function*(){this.tokenInfo=e,this.DataGetAll()}))),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){}getEnumManageUserAccessUserTypes(){}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Pt);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let o=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(o.filters=[...this.filterDataModelQueryBuilder]),this.contentService.ServiceGetAllEditor(o).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=L.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=L.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=L.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonViewRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var o="";this.publicHelper.isMobile?o="dialog-fullscreen":o="dialog-min",this.dialog.open(To,{height:"90%",panelClass:o,enterAnimationDuration:q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var o="";this.publicHelper.isMobile?o="dialog-fullscreen":o="dialog-min",this.dialog.open(go,{height:"90%",panelClass:o,enterAnimationDuration:q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(l=>{this.cmsToastrService.typeErrorSelected(l)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var o="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(l=>{o=l["MESSAGE.Please_Confirm"],t=l["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(o,t).then(l=>{if(l){let f=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(f,c,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(f)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(f,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let o=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{o.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{o.set(c,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(D=>{o.set(D,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}});let l=JSON.parse(JSON.stringify(this.filteModelContent)),f=new W;f.propertyName="RecordStatus",f.value=we.Available,l.filters.push(f),this.contentService.ServiceGetCount(l).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(D=>{o.set(D,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonViewUserRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkUserId||this.tableRowSelected.linkUserId===0){this.translate.get("MESSAGE.content_does_not_contain_user_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId])}onActionButtonViewSiteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkSiteId||this.tableRowSelected.linkSiteId===0){this.translate.get("MESSAGE.content_does_not_include_site_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};Pi.\u0275fac=function(o){return new(o||Pi)(S(Bt),S(F),S(Te),S(ke),S(H),S(V),S(P),S(N),S(Ae),S(Je),S(j),S(Re))},Pi.\u0275cmp=U({type:Pi,selectors:[["app-coretoken-microservice-list"]],standalone:!1,features:[J],decls:89,vars:35,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-globe","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","LinkUserId"],["matColumnDef","LinkMemberUserId"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","UserAccessAreaType"],["matColumnDef","UserType"],["matColumnDef","UserAccessAdminAllowToAllData"],["matColumnDef","UserAccessAdminAllowToProfessionalData"],["matColumnDef","RememberOnDevice"],["matColumnDef","CreatedDate"],["style","direction: ltr",4,"matCellDef"],["matColumnDef","ExpireDate"],[3,"ngStyle",4,"matCellDef"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","target","_blank","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[2,"direction","ltr"],[3,"ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(o,t){if(o&1){let l=w();n(0,"app-cms-html-list",3),y("optionActionGuideNoticeDisplayChange",function(c){return C(l),A(t.viewGuideNotice,c)||(t.viewGuideNotice=c),h(c)}),M("optionOnActionButtonMemoRow",function(){return C(l),h(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return C(l),h(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return C(l),h(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return C(l),h(t.onActionButtonPrintRow())}),b(1,4),m(2," -------------------------------------- "),I(),ne(3,5)(4,6),b(5,7),T(6,Kr,2,0,"a",8),n(7,"a",9),M("click",function(){return C(l),h(t.viewGuideNotice=!t.viewGuideNotice)}),g(8,"i",10),s(),n(9,"a",9),M("click",function(){return C(l),h(t.onActionButtonReload())}),g(10,"i",11),s(),I(),b(11,12),n(12,"a",13),M("click",function(){return C(l),h(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),g(13,"mat-slide-toggle",14),m(14),_(15,"translate"),s(),n(16,"a",13),M("click",function(){return C(l),h(t.onActionButtonStatist())}),g(17,"mat-slide-toggle",14),m(18),_(19,"translate"),s(),I(),ne(20,15),b(21,16),T(22,$r,7,3,"div",17)(23,Xr,7,3,"div",17),n(24,"div",18)(25,"a",19),M("click",function(){return C(l),h(t.onActionButtonViewSiteRow(t.tableRowSelected))}),g(26,"i",20)(27,"br"),s(),n(28,"p",21),m(29),_(30,"translate"),s()(),n(31,"div",18)(32,"a",19),M("click",function(){return C(l),h(t.onActionButtonViewUserRow(t.tableRowSelected))}),g(33,"i",22)(34,"br"),s(),n(35,"p",21),m(36),_(37,"translate"),s()(),T(38,Yr,7,3,"div",17),I(),b(39,23),n(40,"app-cms-search-list",24),y("optionsChange",function(c){return C(l),A(t.optionsSearch,c)||(t.optionsSearch=c),h(c)}),s(),n(41,"app-cms-statist-list",24),y("optionsChange",function(c){return C(l),A(t.optionsStatist,c)||(t.optionsStatist=c),h(c)}),s(),I(),b(42,25),n(43,"mat-table",26,0),M("matSortChange",function(){C(l);let c=Q(44);return h(t.onTableSortData(c))}),b(45,27),T(46,Zr,2,1,"mat-header-cell",28)(47,ea,2,1,"mat-cell",29),I(),b(48,30),T(49,ta,2,1,"mat-header-cell",28)(50,ia,4,5,"mat-cell",29),I(),b(51,31),T(52,oa,2,1,"mat-header-cell",28)(53,na,4,5,"mat-cell",29),I(),b(54,32),T(55,ra,2,1,"mat-header-cell",28)(56,aa,2,1,"mat-cell",29),I(),b(57,33),T(58,sa,2,1,"mat-header-cell",28)(59,ca,5,7,"mat-cell",34),I(),b(60,35),T(61,ma,2,1,"mat-header-cell",28)(62,da,3,4,"mat-cell",29),I(),b(63,36),T(64,pa,2,1,"mat-header-cell",28)(65,ua,3,4,"mat-cell",29),I(),b(66,37),T(67,fa,2,1,"mat-header-cell",28)(68,Sa,3,3,"mat-cell",29),I(),b(69,38),T(70,Ca,2,1,"mat-header-cell",28)(71,ha,3,3,"mat-cell",29),I(),b(72,39),T(73,_a,2,1,"mat-header-cell",28)(74,ga,3,3,"mat-cell",29),I(),b(75,40),T(76,va,2,1,"mat-header-cell",28)(77,Ta,3,3,"mat-cell",41),I(),b(78,42),T(79,ba,2,1,"mat-header-cell",28)(80,Ia,3,6,"mat-cell",43),I(),b(81,44),T(82,Ma,3,3,"mat-header-cell",45)(83,wa,6,1,"mat-cell",46),I(),T(84,Ea,1,0,"mat-header-row",47)(85,ka,1,2,"mat-row",48),s(),I(),b(86,49),n(87,"mat-paginator",50,1),M("page",function(c){return C(l),h(t.onTablePageingData(c))}),s(),I(),s()}o&2&&(u("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),k("optionActionGuideNoticeDisplay",t.viewGuideNotice),u("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),a(6),u("ngIf",t.requestLinkSiteId>0),a(7),u("checked",t.optionsSearch.data.show),a(),p("",v(15,26,"ACTION.SEARCH")," "),a(3),u("checked",t.optionsStatist.data.show),a(),p("",v(19,28,"ACTION.STATIST")," "),a(4),u("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),a(),u("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),a(6),p(" ",v(30,30,"ACTION.SITE")," "),a(7),p(" ",v(37,32,"ACTION.USER")," "),a(2),u("ngIf",(t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessWatchRow)&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0),a(2),k("options",t.optionsSearch),a(),k("options",t.optionsStatist),a(2),u("dataSource",t.tableSource),a(41),u("matHeaderRowDef",t.tabledisplayedColumns),a(),u("matRowDefColumns",t.tabledisplayedColumns),a(2),u("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",Ie(34,Qr)))},dependencies:[rt,O,ft,ye,De,ve,xe,Le,Ue,Be,Ve,Oe,Pe,Ne,We,He,Ge,qe,Fe,je,Qe,ze,Ye,Ze,et,tt,Ct,Me,G,vt,ot,Ke,it,$e,ht,_t,lt],encapsulation:2});var bo=Pi;var Aa=["vform"];function ya(i,r){if(i&1){let e=w();n(0,"app-cms-enum-record-status-selector",7),y("modelChange",function(t){C(e);let l=d();return A(l.dataModel.recordStatus,t)||(l.dataModel.recordStatus=t),h(t)}),s()}if(i&2){let e=d();k("model",e.dataModel.recordStatus),u("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Ra(i,r){if(i&1){let e=w();n(0,"div",8)(1,"button",9),M("click",function(){C(e);let t=d();return h(t.onFormCancel())}),g(2,"i",10),m(3),_(4,"translate"),s()()}i&2&&(a(3),p(" ",v(4,1,"ACTION.CANCEL")," "))}var Gi=class Gi extends mt{constructor(e,o,t,l,f,c,D,oe,ie,le){super(l,new Nt,c,le);this.data=e;this.dialogRef=o;this.coreEnumService=t;this.coreLogTokenConnectionService=l;this.cmsToastrService=f;this.publicHelper=c;this.cdr=D;this.tokenHelper=oe;this.cmsStoreService=ie;this.translate=le;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new R;this.dataModel=new Nt;this.formInfo=new Y;this.dataModelEnumManageUserAccessAreaTypesResult=new R;this.dataModelEnumManageUserAccessUserTypesResult=new R;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id)}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>B(this,null,function*(){this.tokenInfo=e}))),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){this.coreEnumService.ServiceManageUserAccessAreaTypesEnum().subscribe({next:e=>{this.dataModelEnumManageUserAccessAreaTypesResult=e}})}getEnumManageUserAccessUserTypes(){this.coreEnumService.ServiceManageUserAccessUserTypesEnum().subscribe({next:e=>{this.dataModelEnumManageUserAccessUserTypesResult=e}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(o=>{this.formInfo.submitResultMessage=o}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(o=>{this.publicHelper.processService.processStart(e,o,this.constructorInfoAreaId)}),this.coreLogTokenConnectionService.setAccessLoad(),this.coreLogTokenConnectionService.setAccessDataType(at.Editor),this.coreLogTokenConnectionService.ServiceGetOneById(this.requestId).subscribe({next:o=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModel=o.item,o.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+o.item.id,this.formInfo.submitResultMessage=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=o.errorMessage,this.cmsToastrService.typeErrorMessage(o.errorMessage)),this.publicHelper.processService.processStop(e)},error:o=>{this.cmsToastrService.typeError(o),this.publicHelper.processService.processStop(e,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Gi.\u0275fac=function(o){return new(o||Gi)(S(ee),S(Z),S(z),S(Dt),S(F),S(j),S(V),S(H),S(N),S(P))},Gi.\u0275cmp=U({type:Gi,selectors:[["app-coretoken-notificationlog-edit"]],viewQuery:function(o,t){if(o&1&&K(Aa,5),o&2){let l;$(l=X())&&(t.formGroup=l.first)}},standalone:!1,features:[J],decls:14,vars:17,consts:[[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(o,t){o&1&&(n(0,"div",0),g(1,"app-progress-spinner",1),n(2,"div",2)(3,"p",3),m(4),s(),n(5,"p"),m(6),_(7,"translate"),s(),T(8,ya,1,5,"app-cms-enum-record-status-selector",4),g(9,"app-cms-site-selector",5),_(10,"translate"),g(11,"app-cms-user-selector",5),_(12,"translate"),T(13,Ra,5,3,"div",6),s()()),o&2&&(a(),u("optionsInfoAreaId",t.constructorInfoAreaId),a(3),p(" ",t.formInfo.formTitle," "),a(2),p(" ",v(7,11,"TITLE.Be_Careful_When_Entering_Information")," "),a(2),u("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),a(),u("optionDisabled",!0)("optionSelectForce",t.dataModel.linkSiteId)("optionPlaceholder",v(10,13,"TITLE.WEBSITE")),a(2),u("optionDisabled",!0)("optionSelectForce",t.dataModel.linkUserId)("optionPlaceholder",v(12,15,"TITLE.USER")),a(2),u("ngIf",t.formInfo.submitButtonEnabled))},dependencies:[O,ct,St,dt,te,G],encapsulation:2});var Io=Gi;var Da=["vform"];function xa(i,r){if(i&1&&(n(0,"div",7),g(1,"i",11),n(2,"span",12),m(3),s()()),i&2){let e=d(2);a(3),x(e.formInfo.submitResultMessage)}}function La(i,r){if(i&1&&(n(0,"div",8),g(1,"i",13),n(2,"span",12),m(3),s()()),i&2){let e=d(2);a(3),x(e.formInfo.submitResultMessage)}}function Ua(i,r){if(i&1&&(n(0,"div",9),g(1,"i",14),n(2,"span",12),m(3),s()()),i&2){let e=d(2);a(3),x(e.formInfo.submitResultMessage)}}function Ba(i,r){if(i&1&&(n(0,"div",10),g(1,"i",15),n(2,"span",12),m(3),s()()),i&2){let e=d(2);a(3),x(e.formInfo.submitResultMessage)}}function Va(i,r){if(i&1&&ce(0,xa,4,1,"div",7)(1,La,4,1,"div",8)(2,Ua,4,1,"div",9)(3,Ba,4,1,"div",10),i&2){let e,o=d();me((e=o.formInfo.submitResult)==="success"?0:e==="error"?1:e==="warning"?2:3)}}function Oa(i,r){if(i&1){let e=w();n(0,"div",16)(1,"button",17),M("click",function(){C(e);let t=d();return h(t.onFormCancel())}),g(2,"i",18),m(3),_(4,"translate"),s()()}i&2&&(a(3),p(" ",v(4,1,"ACTION.CANCEL")," "))}var Ni=class Ni{constructor(r,e,o,t,l,f,c,D,oe,ie){this.data=r;this.dialogRef=e;this.coreEnumService=o;this.coreLogTokenConnectionService=t;this.cmsToastrService=l;this.tokenHelper=f;this.cmsStoreService=c;this.cdr=D;this.publicHelper=oe;this.translate=ie;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.tokenInfo=new st;this.dataModelResult=new R;this.dataModel=new Nt;this.formInfo=new Y;this.dataModelEnumSendSmsStatusTypeResult=new R;this.fieldsInfo=new Map;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,r&&(this.requestId=r.id+"")}ngOnInit(){if(this.translate.get("TITLE.VIEW").subscribe(r=>{this.formInfo.formTitle=r}),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(r=>r.tokenInfoStore).subscribe(r=>B(this,null,function*(){this.tokenInfo=r}))),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:r=>{this.dataModelEnumSendSmsStatusTypeResult=r}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(r=>r.unsubscribe())}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage="";let r=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(r,e,this.constructorInfoAreaId)}),this.coreLogTokenConnectionService.setAccessLoad(),this.coreLogTokenConnectionService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModel=e.item,e.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+e.item.id,this.formInfo.submitResultMessage=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(o=>{this.formInfo.submitResultMessage=o}),this.formInfo.submitResultMessage=e.errorMessage,this.cmsToastrService.typeErrorMessage(e.errorMessage)),this.publicHelper.processService.processStop(r)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(r,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Ni.\u0275fac=function(e){return new(e||Ni)(S(ee),S(Z),S(z),S(Dt),S(F),S(H),S(N),S(V),S(j),S(P))},Ni.\u0275cmp=U({type:Ni,selectors:[["app-core-token-notificationlog-view"]],viewQuery:function(e,o){if(e&1&&K(Da,5),e&2){let t;$(t=X())&&(o.formGroup=t.first)}},standalone:!1,decls:9,vars:6,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection","loader-container"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],[1,"chip","chip-s","bg-green-dark"],[1,"chip","chip-s","bg-red-dark"],[1,"chip","chip-s","bg-yellow-dark"],[1,"chip","chip-s","bg-gray-dark"],[1,"fa","fa-check","color-white","bg-green-light"],[1,"color-white"],[1,"fa","fa-check","color-white","bg-red-light"],[1,"fa","fa-check","color-white","bg-yellow-light"],[1,"fa","fa-check","color-white","bg-gray-light"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,o){e&1&&(n(0,"div",0),m(1),s(),n(2,"div",1),g(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),s(),n(5,"div",4),ce(6,Va,4,1),s(),n(7,"div",5),T(8,Oa,5,3,"div",6),s()),e&2&&(a(),p(" ",o.formInfo.formTitle," "),a(2),u("optionsInfoAreaId",o.constructorInfoAreaId),a(),u("dataModel",o.dataModel)("optionMethod",1),a(2),me((o.formInfo==null||o.formInfo.submitResultMessage==null?null:o.formInfo.submitResultMessage.length)>0?6:-1),a(2),u("ngIf",o.formInfo.submitButtonEnabled))},dependencies:[O,te,pt,G],encapsulation:2});var Mo=Ni;var Pa=()=>[5,10,20,100],Ga=i=>({display:i}),Na=i=>({background:i});function Ha(i,r){if(i&1){let e=w();n(0,"a",51),M("click",function(){C(e);let t=d();return h(t.onActionBackToParent())}),g(1,"i",52),s()}}function Fa(i,r){if(i&1){let e=w();n(0,"div",18)(1,"a",53),M("click",function(){C(e);let t=d();return h(t.onActionButtonEditRow(t.tableRowSelected))}),g(2,"i",54)(3,"br"),s(),n(4,"p",21),m(5),_(6,"translate"),s()()}i&2&&(a(5),p(" ",v(6,1,"ACTION.EDIT")," "))}function ja(i,r){if(i&1){let e=w();n(0,"div",18)(1,"a",55),M("click",function(){C(e);let t=d();return h(t.onActionButtonDeleteRow(t.tableRowSelected))}),g(2,"i",56)(3,"br"),s(),n(4,"p",21),m(5),_(6,"translate"),s()()}i&2&&(a(5),p(" ",v(6,1,"ACTION.DELETE")," "))}function Wa(i,r){if(i&1){let e=w();n(0,"div",18)(1,"a",57),M("click",function(){C(e);let t=d();return h(t.onActionButtonViewRow(t.tableRowSelected))}),g(2,"i",58)(3,"br"),s(),n(4,"p",21),m(5),_(6,"translate"),s()()}i&2&&(a(5),p(" ",v(6,1,"ACTION.VIEW")," "))}function qa(i,r){if(i&1&&(n(0,"mat-header-cell",59),m(1),s()),i&2){let e=d();a(),p(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function Qa(i,r){if(i&1&&(n(0,"mat-cell"),m(1),s()),i&2){let e=r.$implicit;a(),p(" ",e.id," ")}}function za(i,r){if(i&1&&(n(0,"mat-header-cell",59),m(1),s()),i&2){let e=d();a(),p(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function Ja(i,r){if(i&1&&(n(0,"mat-cell"),m(1),_(2,"cmssiteinfo"),_(3,"async"),s()),i&2){let e=r.$implicit;a(),p(" ",v(3,3,v(2,1,e.linkSiteId))," ")}}function Ka(i,r){if(i&1&&(n(0,"mat-header-cell",59),m(1),s()),i&2){let e=d();a(),p(" ",e.fieldsInfo.linkUserId==null?null:e.fieldsInfo.linkUserId.fieldTitle," ")}}function $a(i,r){if(i&1&&(n(0,"mat-cell"),m(1),_(2,"cmsuserinfo"),_(3,"async"),s()),i&2){let e=r.$implicit;a(),p(" ",v(3,3,v(2,1,e.linkUserId))," ")}}function Xa(i,r){if(i&1&&(n(0,"mat-header-cell",59),m(1),s()),i&2){let e=d();a(),p(" ",e.fieldsInfo.linkMemberUserId==null?null:e.fieldsInfo.linkMemberUserId.fieldTitle," ")}}function Ya(i,r){if(i&1&&(n(0,"mat-cell"),m(1),s()),i&2){let e=r.$implicit;a(),p(" ",e.linkMemberUserId," ")}}function Za(i,r){if(i&1&&(n(0,"mat-header-cell",59),m(1),s()),i&2){let e=d();a(),p(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function es(i,r){if(i&1&&g(0,"select",62),i&2){let e=d().$implicit,o=d();u("contentService",o.contentService)("row",e)("ngStyle",ge(3,Ga,e.id===(o.tableRowSelected==null?null:o.tableRowSelected.id)?"":"none"))}}function ts(i,r){if(i&1&&(n(0,"mat-cell",60),_(1,"statusCellClass"),g(2,"i",60),_(3,"statusIconClass"),T(4,es,1,5,"select",61),s()),i&2){let e=r.$implicit,o=d();u("ngClass",v(1,3,e.recordStatus)),a(2),u("ngClass",v(3,5,e.recordStatus)),a(2),u("ngIf",o.dataModelResult==null||o.dataModelResult.access==null?null:o.dataModelResult.access.accessEditRow)}}function is(i,r){if(i&1&&(n(0,"mat-header-cell",59),m(1),s()),i&2){let e=d();a(),p(" ",e.fieldsInfo.userAccessAreaType==null?null:e.fieldsInfo.userAccessAreaType.fieldTitle," ")}}function os(i,r){if(i&1&&(n(0,"mat-cell"),m(1),_(2,"enums"),s()),i&2){let e=r.$implicit,o=d();a(),p(" ",ae(2,1,e.userAccessAreaType,o.dataModelEnumManageUserAccessAreaTypesResult.listItems)," ")}}function ns(i,r){if(i&1&&(n(0,"mat-header-cell",59),m(1),s()),i&2){let e=d();a(),p(" ",e.fieldsInfo.userType==null?null:e.fieldsInfo.userType.fieldTitle," ")}}function rs(i,r){if(i&1&&(n(0,"mat-cell"),m(1),_(2,"enums"),s()),i&2){let e=r.$implicit,o=d();a(),p(" ",ae(2,1,e.userType,o.dataModelEnumManageUserAccessUserTypesResult.listItems)," ")}}function as(i,r){if(i&1&&(n(0,"mat-header-cell",59),m(1),s()),i&2){let e=d();a(),p(" ",e.fieldsInfo.userAccessAdminAllowToAllData==null?null:e.fieldsInfo.userAccessAdminAllowToAllData.fieldTitle," ")}}function ss(i,r){if(i&1&&(n(0,"mat-cell"),g(1,"i",60),_(2,"boolclass"),s()),i&2){let e=r.$implicit;a(),u("ngClass",v(2,1,e.userAccessAdminAllowToAllData))}}function ls(i,r){if(i&1&&(n(0,"mat-header-cell",59),m(1),s()),i&2){let e=d();a(),p(" ",e.fieldsInfo.userAccessAdminAllowToProfessionalData==null?null:e.fieldsInfo.userAccessAdminAllowToProfessionalData.fieldTitle," ")}}function cs(i,r){if(i&1&&(n(0,"mat-cell"),g(1,"i",60),_(2,"boolclass"),s()),i&2){let e=r.$implicit;a(),u("ngClass",v(2,1,e.userAccessAdminAllowToProfessionalData))}}function ms(i,r){if(i&1&&(n(0,"mat-header-cell",59),m(1),s()),i&2){let e=d();a(),p(" ",e.fieldsInfo.rememberOnDevice==null?null:e.fieldsInfo.rememberOnDevice.fieldTitle," ")}}function ds(i,r){if(i&1&&(n(0,"mat-cell"),g(1,"i",60),_(2,"boolclass"),s()),i&2){let e=r.$implicit;a(),u("ngClass",v(2,1,e.rememberOnDevice))}}function ps(i,r){if(i&1&&(n(0,"mat-header-cell",59),m(1),s()),i&2){let e=d();a(),p(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function us(i,r){if(i&1&&(n(0,"mat-cell",63),m(1),_(2,"localeDateTime"),s()),i&2){let e=r.$implicit;a(),p(" ",v(2,1,e.createdDate)," ")}}function fs(i,r){if(i&1&&(n(0,"mat-header-cell",59),m(1),s()),i&2){let e=d();a(),p(" ",e.fieldsInfo.expireDate==null?null:e.fieldsInfo.expireDate.fieldTitle," ")}}function Ss(i,r){if(i&1&&(n(0,"mat-cell",64),m(1),_(2,"persianDate"),s()),i&2){let e=r.$implicit,o=d();u("ngStyle",ge(4,Na,o.publicHelper.RowStyleExpireDate(e.expireDate))),a(),p(" ",v(2,2,e.expireDate)," ")}}function Cs(i,r){i&1&&(n(0,"mat-header-cell"),m(1),_(2,"translate"),s()),i&2&&(a(),p(" ",v(2,1,"TITLE.OPTION")," "))}function hs(i,r){if(i&1&&(n(0,"mat-cell",65)(1,"button",66)(2,"mat-icon"),m(3,"more_vert"),s()(),g(4,"mat-menu",null,2),s()),i&2){let e=Q(5);a(),u("matMenuTriggerFor",e)}}function _s(i,r){i&1&&g(0,"mat-header-row")}function gs(i,r){if(i&1){let e=w();n(0,"mat-row",67),M("click",function(t){let l=C(e).$implicit,f=d();return h(f.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=C(e).$implicit,f=d();return h(f.onActionTableRowSelect(l,t))}),s()}if(i&2){let e=r.$implicit,o=d();be("ntk-row-selected",e.id===(o.tableRowSelected==null?null:o.tableRowSelected.id))}}var Hi=class Hi extends Xe{constructor(e,o,t,l,f,c,D,oe,ie,le,nt,wt){super(e,new Nt,nt,f,D);this.contentService=e;this.cmsToastrService=o;this.cmsConfirmationDialogService=t;this.activatedRoute=l;this.tokenHelper=f;this.cdr=c;this.translate=D;this.cmsStoreService=oe;this.router=ie;this.pageInfo=le;this.publicHelper=nt;this.dialog=wt;this.requestLinkSiteId=0;this.requestLinkUserId=0;this.requestLinkDeviceId=0;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new Ee;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["Id","LinkSiteId","LinkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","CreatedDate","ExpireDate"];this.tabledisplayedColumnsMobileSource=["Id","LinkSiteId","LinkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","CreatedDate","ExpireDate"];this.dataModelEnumManageUserAccessAreaTypesResult=new R;this.dataModelEnumManageUserAccessUserTypesResult=new R;this.unsubscribe=[];if(this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkDeviceId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkDeviceId")),this.requestLinkSiteId>0){let E=new W;E.propertyName="LinkCmsSiteId",E.value=this.requestLinkSiteId,this.filteModelContent.filters.push(E)}if(this.requestLinkUserId>0){let E=new W;E.propertyName="LinkUserId",E.value=this.requestLinkUserId,this.filteModelContent.filters.push(E)}if(this.requestLinkDeviceId>0){let E=new W;E.propertyName="LinkDeviceId",E.value=this.requestLinkDeviceId,this.filteModelContent.filters.push(E)}this.optionsSearch.parentMethods={onSubmit:E=>this.onSubmitOptionsSearch(E)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=L.Descending}ngOnInit(){this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=L.Descending,this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>B(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Nt);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let o=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(o.filters=[...this.filterDataModelQueryBuilder]),this.contentService.ServiceGetAllEditor(o).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=L.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=L.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=L.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonViewRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var o="";this.publicHelper.isMobile?o="dialog-fullscreen":o="dialog-min",this.dialog.open(Mo,{height:"90%",panelClass:o,enterAnimationDuration:q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var o="";this.publicHelper.isMobile?o="dialog-fullscreen":o="dialog-min",this.dialog.open(Io,{height:"90%",panelClass:o,enterAnimationDuration:q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(l=>{this.cmsToastrService.typeErrorSelected(l)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var o="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(l=>{o=l["MESSAGE.Please_Confirm"],t=l["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(o,t).then(l=>{if(l){let f=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(f,c,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(f)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(f,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let o=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{o.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{o.set(c,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(D=>{o.set(D,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}});let l=JSON.parse(JSON.stringify(this.filteModelContent)),f=new W;f.propertyName="RecordStatus",f.value=we.Available,l.filters.push(f),this.contentService.ServiceGetCount(l).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(D=>{o.set(D,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonViewUserRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkUserId||this.tableRowSelected.linkUserId===0){this.translate.get("MESSAGE.content_does_not_contain_user_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId])}onActionButtonViewSiteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkSiteId||this.tableRowSelected.linkSiteId===0){this.translate.get("MESSAGE.content_does_not_include_site_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};Hi.\u0275fac=function(o){return new(o||Hi)(S(Dt),S(F),S(Te),S(ke),S(H),S(V),S(P),S(N),S(Ae),S(Je),S(j),S(Re))},Hi.\u0275cmp=U({type:Hi,selectors:[["app-coretoken-notificationlog-list"]],standalone:!1,features:[J],decls:89,vars:35,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-globe","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","LinkUserId"],["matColumnDef","LinkMemberUserId"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","UserAccessAreaType"],["matColumnDef","UserType"],["matColumnDef","UserAccessAdminAllowToAllData"],["matColumnDef","UserAccessAdminAllowToProfessionalData"],["matColumnDef","RememberOnDevice"],["matColumnDef","CreatedDate"],["style","direction: ltr",4,"matCellDef"],["matColumnDef","ExpireDate"],[3,"ngStyle",4,"matCellDef"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","target","_blank","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[2,"direction","ltr"],[3,"ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(o,t){if(o&1){let l=w();n(0,"app-cms-html-list",3),y("optionActionGuideNoticeDisplayChange",function(c){return C(l),A(t.viewGuideNotice,c)||(t.viewGuideNotice=c),h(c)}),M("optionOnActionButtonMemoRow",function(){return C(l),h(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return C(l),h(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return C(l),h(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return C(l),h(t.onActionButtonPrintRow())}),b(1,4),m(2," -------------------------------------- "),I(),ne(3,5)(4,6),b(5,7),T(6,Ha,2,0,"a",8),n(7,"a",9),M("click",function(){return C(l),h(t.viewGuideNotice=!t.viewGuideNotice)}),g(8,"i",10),s(),n(9,"a",9),M("click",function(){return C(l),h(t.onActionButtonReload())}),g(10,"i",11),s(),I(),b(11,12),n(12,"a",13),M("click",function(){return C(l),h(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),g(13,"mat-slide-toggle",14),m(14),_(15,"translate"),s(),n(16,"a",13),M("click",function(){return C(l),h(t.onActionButtonStatist())}),g(17,"mat-slide-toggle",14),m(18),_(19,"translate"),s(),I(),ne(20,15),b(21,16),T(22,Fa,7,3,"div",17)(23,ja,7,3,"div",17),n(24,"div",18)(25,"a",19),M("click",function(){return C(l),h(t.onActionButtonViewSiteRow(t.tableRowSelected))}),g(26,"i",20)(27,"br"),s(),n(28,"p",21),m(29),_(30,"translate"),s()(),n(31,"div",18)(32,"a",19),M("click",function(){return C(l),h(t.onActionButtonViewUserRow(t.tableRowSelected))}),g(33,"i",22)(34,"br"),s(),n(35,"p",21),m(36),_(37,"translate"),s()(),T(38,Wa,7,3,"div",17),I(),b(39,23),n(40,"app-cms-search-list",24),y("optionsChange",function(c){return C(l),A(t.optionsSearch,c)||(t.optionsSearch=c),h(c)}),s(),n(41,"app-cms-statist-list",24),y("optionsChange",function(c){return C(l),A(t.optionsStatist,c)||(t.optionsStatist=c),h(c)}),s(),I(),b(42,25),n(43,"mat-table",26,0),M("matSortChange",function(){C(l);let c=Q(44);return h(t.onTableSortData(c))}),b(45,27),T(46,qa,2,1,"mat-header-cell",28)(47,Qa,2,1,"mat-cell",29),I(),b(48,30),T(49,za,2,1,"mat-header-cell",28)(50,Ja,4,5,"mat-cell",29),I(),b(51,31),T(52,Ka,2,1,"mat-header-cell",28)(53,$a,4,5,"mat-cell",29),I(),b(54,32),T(55,Xa,2,1,"mat-header-cell",28)(56,Ya,2,1,"mat-cell",29),I(),b(57,33),T(58,Za,2,1,"mat-header-cell",28)(59,ts,5,7,"mat-cell",34),I(),b(60,35),T(61,is,2,1,"mat-header-cell",28)(62,os,3,4,"mat-cell",29),I(),b(63,36),T(64,ns,2,1,"mat-header-cell",28)(65,rs,3,4,"mat-cell",29),I(),b(66,37),T(67,as,2,1,"mat-header-cell",28)(68,ss,3,3,"mat-cell",29),I(),b(69,38),T(70,ls,2,1,"mat-header-cell",28)(71,cs,3,3,"mat-cell",29),I(),b(72,39),T(73,ms,2,1,"mat-header-cell",28)(74,ds,3,3,"mat-cell",29),I(),b(75,40),T(76,ps,2,1,"mat-header-cell",28)(77,us,3,3,"mat-cell",41),I(),b(78,42),T(79,fs,2,1,"mat-header-cell",28)(80,Ss,3,6,"mat-cell",43),I(),b(81,44),T(82,Cs,3,3,"mat-header-cell",45)(83,hs,6,1,"mat-cell",46),I(),T(84,_s,1,0,"mat-header-row",47)(85,gs,1,2,"mat-row",48),s(),I(),b(86,49),n(87,"mat-paginator",50,1),M("page",function(c){return C(l),h(t.onTablePageingData(c))}),s(),I(),s()}o&2&&(u("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),k("optionActionGuideNoticeDisplay",t.viewGuideNotice),u("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),a(6),u("ngIf",t.requestLinkSiteId>0),a(7),u("checked",t.optionsSearch.data.show),a(),p("",v(15,26,"ACTION.SEARCH")," "),a(3),u("checked",t.optionsStatist.data.show),a(),p("",v(19,28,"ACTION.STATIST")," "),a(4),u("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),a(),u("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),a(6),p(" ",v(30,30,"ACTION.SITE")," "),a(7),p(" ",v(37,32,"ACTION.USER")," "),a(2),u("ngIf",(t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessWatchRow)&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0),a(2),k("options",t.optionsSearch),a(),k("options",t.optionsStatist),a(2),u("dataSource",t.tableSource),a(41),u("matHeaderRowDef",t.tabledisplayedColumns),a(),u("matRowDefColumns",t.tabledisplayedColumns),a(2),u("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",Ie(34,Pa)))},dependencies:[rt,O,ft,ye,De,ve,xe,Le,Ue,Be,Ve,Oe,Pe,Ne,We,He,Ge,qe,Fe,je,Qe,ze,Ye,Ze,et,tt,Ct,Me,G,vt,ot,Ke,it,$e,ht,_t,lt],encapsulation:2});var wo=Hi;var vs=["vform"];function Ts(i,r){if(i&1){let e=w();n(0,"app-cms-enum-record-status-selector",8),y("modelChange",function(t){C(e);let l=d();return A(l.dataModel.recordStatus,t)||(l.dataModel.recordStatus=t),h(t)}),s()}if(i&2){let e=d();k("model",e.dataModel.recordStatus),u("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function bs(i,r){if(i&1&&(n(0,"div"),g(1,"div",9),_(2,"prettyjson"),s()),i&2){let e=d();a(),u("innerHTML",v(2,1,e.dataModel),bt)}}function Is(i,r){if(i&1){let e=w();n(0,"div",10)(1,"button",11),M("click",function(){C(e);let t=d();return h(t.onFormCancel())}),g(2,"i",12),m(3),_(4,"translate"),s()()}i&2&&(a(3),p(" ",v(4,1,"ACTION.CANCEL")," "))}var Fi=class Fi extends mt{constructor(e,o,t,l,f,c,D,oe,ie,le){super(l,new Tt,ie,le);this.data=e;this.dialogRef=o;this.coreEnumService=t;this.coreTokenConnectionService=l;this.cmsToastrService=f;this.tokenHelper=c;this.cmsStoreService=D;this.cdr=oe;this.publicHelper=ie;this.translate=le;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new At;this.dataModel=new Tt;this.formInfo=new Y;this.dataModelEnumManageUserAccessAreaTypesResult=new R;this.dataModelEnumManageUserAccessUserTypesResult=new R;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id)}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>B(this,null,function*(){this.tokenInfo=e}))),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){this.coreEnumService.ServiceManageUserAccessAreaTypesEnum().subscribe({next:e=>{this.dataModelEnumManageUserAccessAreaTypesResult=e}})}getEnumManageUserAccessUserTypes(){this.coreEnumService.ServiceManageUserAccessUserTypesEnum().subscribe({next:e=>{this.dataModelEnumManageUserAccessUserTypesResult=e}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(o=>{this.formInfo.submitResultMessage=o}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(o=>{this.publicHelper.processService.processStart(e,o,this.constructorInfoAreaId)}),this.coreTokenConnectionService.setAccessLoad(),this.coreTokenConnectionService.setAccessDataType(at.Editor),this.coreTokenConnectionService.ServiceGetOneById(this.requestId).subscribe({next:o=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModel=o.item,o.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+o.item.id,this.formInfo.submitResultMessage=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=o.errorMessage,this.cmsToastrService.typeErrorMessage(o.errorMessage)),this.publicHelper.processService.processStop(e)},error:o=>{this.cmsToastrService.typeError(o),this.publicHelper.processService.processStop(e,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Fi.\u0275fac=function(o){return new(o||Fi)(S(ee),S(Z),S(z),S(It),S(F),S(H),S(N),S(V),S(j),S(P))},Fi.\u0275cmp=U({type:Fi,selectors:[["app-coretoken-notification-edit"]],viewQuery:function(o,t){if(o&1&&K(vs,5),o&2){let l;$(l=X())&&(t.formGroup=l.first)}},standalone:!1,features:[J],decls:15,vars:18,consts:[[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],[4,"ngIf"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"innerHTML"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(o,t){o&1&&(n(0,"div",0),g(1,"app-progress-spinner",1),n(2,"div",2)(3,"p",3),m(4),s(),n(5,"p"),m(6),_(7,"translate"),s(),T(8,Ts,1,5,"app-cms-enum-record-status-selector",4),g(9,"app-cms-site-selector",5),_(10,"translate"),g(11,"app-cms-user-selector",5),_(12,"translate"),T(13,bs,3,3,"div",6)(14,Is,5,3,"div",7),s()()),o&2&&(a(),u("optionsInfoAreaId",t.constructorInfoAreaId),a(3),p(" ",t.formInfo.formTitle," "),a(2),p(" ",v(7,12,"TITLE.Be_Careful_When_Entering_Information")," "),a(2),u("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),a(),u("optionDisabled",!0)("optionSelectForce",t.dataModel.linkSiteId)("optionPlaceholder",v(10,14,"TITLE.WEBSITE")),a(2),u("optionDisabled",!0)("optionSelectForce",t.dataModel.linkUserId)("optionPlaceholder",v(12,16,"TITLE.USER")),a(2),u("ngIf",t.tokenInfo.access.userAccessAdminAllowToProfessionalData),a(),u("ngIf",t.formInfo.submitButtonEnabled))},dependencies:[O,ct,St,dt,te,G,Mt],encapsulation:2});var ji=Fi;var Ms=["vform"];function ws(i,r){if(i&1&&(n(0,"div",7),g(1,"i",11),n(2,"span",12),m(3),s()()),i&2){let e=d(2);a(3),x(e.formInfo.submitResultMessage)}}function Es(i,r){if(i&1&&(n(0,"div",8),g(1,"i",13),n(2,"span",12),m(3),s()()),i&2){let e=d(2);a(3),x(e.formInfo.submitResultMessage)}}function ks(i,r){if(i&1&&(n(0,"div",9),g(1,"i",14),n(2,"span",12),m(3),s()()),i&2){let e=d(2);a(3),x(e.formInfo.submitResultMessage)}}function As(i,r){if(i&1&&(n(0,"div",10),g(1,"i",15),n(2,"span",12),m(3),s()()),i&2){let e=d(2);a(3),x(e.formInfo.submitResultMessage)}}function ys(i,r){if(i&1&&ce(0,ws,4,1,"div",7)(1,Es,4,1,"div",8)(2,ks,4,1,"div",9)(3,As,4,1,"div",10),i&2){let e,o=d();me((e=o.formInfo.submitResult)==="success"?0:e==="error"?1:e==="warning"?2:3)}}function Rs(i,r){if(i&1){let e=w();n(0,"div",16)(1,"button",17),M("click",function(){C(e);let t=d();return h(t.onFormCancel())}),g(2,"i",18),m(3),_(4,"translate"),s()()}i&2&&(a(3),p(" ",v(4,1,"ACTION.CANCEL")," "))}var Wi=class Wi{constructor(r,e,o,t,l,f,c,D,oe,ie){this.data=r;this.dialogRef=e;this.coreEnumService=o;this.coreTokenConnectionService=t;this.cmsToastrService=l;this.tokenHelper=f;this.cmsStoreService=c;this.cdr=D;this.publicHelper=oe;this.translate=ie;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.tokenInfo=new st;this.dataModelResult=new R;this.dataModel=new Tt;this.formInfo=new Y;this.dataModelEnumSendSmsStatusTypeResult=new R;this.fieldsInfo=new Map;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,r&&(this.requestId=r.id+"")}ngOnInit(){if(this.translate.get("TITLE.VIEW").subscribe(r=>{this.formInfo.formTitle=r}),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(r=>r.tokenInfoStore).subscribe(r=>B(this,null,function*(){this.tokenInfo=r}))),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:r=>{this.dataModelEnumSendSmsStatusTypeResult=r}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(r=>r.unsubscribe())}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage="";let r=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(r,e,this.constructorInfoAreaId)}),this.coreTokenConnectionService.setAccessLoad(),this.coreTokenConnectionService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModel=e.item,e.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+e.item.id,this.formInfo.submitResultMessage=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(o=>{this.formInfo.submitResultMessage=o}),this.formInfo.submitResultMessage=e.errorMessage,this.cmsToastrService.typeErrorMessage(e.errorMessage)),this.publicHelper.processService.processStop(r)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(r,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Wi.\u0275fac=function(e){return new(e||Wi)(S(ee),S(Z),S(z),S(It),S(F),S(H),S(N),S(V),S(j),S(P))},Wi.\u0275cmp=U({type:Wi,selectors:[["app-coretoken-notification-view"]],viewQuery:function(e,o){if(e&1&&K(Ms,5),e&2){let t;$(t=X())&&(o.formGroup=t.first)}},standalone:!1,decls:9,vars:6,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection","loader-container"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],[1,"chip","chip-s","bg-green-dark"],[1,"chip","chip-s","bg-red-dark"],[1,"chip","chip-s","bg-yellow-dark"],[1,"chip","chip-s","bg-gray-dark"],[1,"fa","fa-check","color-white","bg-green-light"],[1,"color-white"],[1,"fa","fa-check","color-white","bg-red-light"],[1,"fa","fa-check","color-white","bg-yellow-light"],[1,"fa","fa-check","color-white","bg-gray-light"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,o){e&1&&(n(0,"div",0),m(1),s(),n(2,"div",1),g(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),s(),n(5,"div",4),ce(6,ys,4,1),s(),n(7,"div",5),T(8,Rs,5,3,"div",6),s()),e&2&&(a(),p(" ",o.formInfo.formTitle," "),a(2),u("optionsInfoAreaId",o.constructorInfoAreaId),a(),u("dataModel",o.dataModel)("optionMethod",1),a(2),me((o.formInfo==null||o.formInfo.submitResultMessage==null?null:o.formInfo.submitResultMessage.length)>0?6:-1),a(2),u("ngIf",o.formInfo.submitButtonEnabled))},dependencies:[O,te,pt,G],encapsulation:2});var qi=Wi;var Ds=()=>[5,10,20,100],xs=i=>({display:i}),Ls=i=>({background:i});function Us(i,r){if(i&1){let e=w();n(0,"a",51),M("click",function(){C(e);let t=d();return h(t.onActionBackToParent())}),g(1,"i",52),s()}}function Bs(i,r){if(i&1){let e=w();n(0,"div",18)(1,"a",53),M("click",function(){C(e);let t=d();return h(t.onActionButtonEditRow(t.tableRowSelected))}),g(2,"i",54)(3,"br"),s(),n(4,"p",21),m(5),_(6,"translate"),s()()}i&2&&(a(5),p(" ",v(6,1,"ACTION.EDIT")," "))}function Vs(i,r){if(i&1){let e=w();n(0,"div",18)(1,"a",55),M("click",function(){C(e);let t=d();return h(t.onActionButtonDeleteRow(t.tableRowSelected))}),g(2,"i",56)(3,"br"),s(),n(4,"p",21),m(5),_(6,"translate"),s()()}i&2&&(a(5),p(" ",v(6,1,"ACTION.DELETE")," "))}function Os(i,r){if(i&1){let e=w();n(0,"div",18)(1,"a",57),M("click",function(){C(e);let t=d();return h(t.onActionButtonViewRow(t.tableRowSelected))}),g(2,"i",58)(3,"br"),s(),n(4,"p",21),m(5),_(6,"translate"),s()()}i&2&&(a(5),p(" ",v(6,1,"ACTION.VIEW")," "))}function Ps(i,r){if(i&1&&(n(0,"mat-header-cell",59),m(1),s()),i&2){let e=d();a(),p(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function Gs(i,r){if(i&1&&(n(0,"mat-cell"),m(1),s()),i&2){let e=r.$implicit;a(),p(" ",e.id," ")}}function Ns(i,r){if(i&1&&(n(0,"mat-header-cell",59),m(1),s()),i&2){let e=d();a(),p(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function Hs(i,r){if(i&1&&(n(0,"mat-cell"),m(1),_(2,"cmssiteinfo"),_(3,"async"),s()),i&2){let e=r.$implicit;a(),p(" ",v(3,3,v(2,1,e.linkSiteId))," ")}}function Fs(i,r){if(i&1&&(n(0,"mat-header-cell",59),m(1),s()),i&2){let e=d();a(),p(" ",e.fieldsInfo.linkUserId==null?null:e.fieldsInfo.linkUserId.fieldTitle," ")}}function js(i,r){if(i&1&&(n(0,"mat-cell"),m(1),_(2,"cmsuserinfo"),_(3,"async"),s()),i&2){let e=r.$implicit;a(),p(" ",v(3,3,v(2,1,e.linkUserId))," ")}}function Ws(i,r){if(i&1&&(n(0,"mat-header-cell",59),m(1),s()),i&2){let e=d();a(),p(" ",e.fieldsInfo.linkMemberUserId==null?null:e.fieldsInfo.linkMemberUserId.fieldTitle," ")}}function qs(i,r){if(i&1&&(n(0,"mat-cell"),m(1),s()),i&2){let e=r.$implicit;a(),p(" ",e.linkMemberUserId," ")}}function Qs(i,r){if(i&1&&(n(0,"mat-header-cell",59),m(1),s()),i&2){let e=d();a(),p(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function zs(i,r){if(i&1&&g(0,"select",62),i&2){let e=d().$implicit,o=d();u("contentService",o.contentService)("row",e)("ngStyle",ge(3,xs,e.id===(o.tableRowSelected==null?null:o.tableRowSelected.id)?"":"none"))}}function Js(i,r){if(i&1&&(n(0,"mat-cell",60),_(1,"statusCellClass"),g(2,"i",60),_(3,"statusIconClass"),T(4,zs,1,5,"select",61),s()),i&2){let e=r.$implicit,o=d();u("ngClass",v(1,3,e.recordStatus)),a(2),u("ngClass",v(3,5,e.recordStatus)),a(2),u("ngIf",o.dataModelResult==null||o.dataModelResult.access==null?null:o.dataModelResult.access.accessEditRow)}}function Ks(i,r){if(i&1&&(n(0,"mat-header-cell",59),m(1),s()),i&2){let e=d();a(),p(" ",e.fieldsInfo.userAccessAreaType==null?null:e.fieldsInfo.userAccessAreaType.fieldTitle," ")}}function $s(i,r){if(i&1&&(n(0,"mat-cell"),m(1),_(2,"enums"),s()),i&2){let e=r.$implicit,o=d();a(),p(" ",ae(2,1,e.userAccessAreaType,o.dataModelEnumManageUserAccessAreaTypesResult.listItems)," ")}}function Xs(i,r){if(i&1&&(n(0,"mat-header-cell",59),m(1),s()),i&2){let e=d();a(),p(" ",e.fieldsInfo.userType==null?null:e.fieldsInfo.userType.fieldTitle," ")}}function Ys(i,r){if(i&1&&(n(0,"mat-cell"),m(1),_(2,"enums"),s()),i&2){let e=r.$implicit,o=d();a(),p(" ",ae(2,1,e.userType,o.dataModelEnumManageUserAccessUserTypesResult.listItems)," ")}}function Zs(i,r){if(i&1&&(n(0,"mat-header-cell",59),m(1),s()),i&2){let e=d();a(),p(" ",e.fieldsInfo.userAccessAdminAllowToAllData==null?null:e.fieldsInfo.userAccessAdminAllowToAllData.fieldTitle," ")}}function el(i,r){if(i&1&&(n(0,"mat-cell"),g(1,"i",60),_(2,"boolclass"),s()),i&2){let e=r.$implicit;a(),u("ngClass",v(2,1,e.userAccessAdminAllowToAllData))}}function tl(i,r){if(i&1&&(n(0,"mat-header-cell",59),m(1),s()),i&2){let e=d();a(),p(" ",e.fieldsInfo.userAccessAdminAllowToProfessionalData==null?null:e.fieldsInfo.userAccessAdminAllowToProfessionalData.fieldTitle," ")}}function il(i,r){if(i&1&&(n(0,"mat-cell"),g(1,"i",60),_(2,"boolclass"),s()),i&2){let e=r.$implicit;a(),u("ngClass",v(2,1,e.userAccessAdminAllowToProfessionalData))}}function ol(i,r){if(i&1&&(n(0,"mat-header-cell",59),m(1),s()),i&2){let e=d();a(),p(" ",e.fieldsInfo.rememberOnDevice==null?null:e.fieldsInfo.rememberOnDevice.fieldTitle," ")}}function nl(i,r){if(i&1&&(n(0,"mat-cell"),g(1,"i",60),_(2,"boolclass"),s()),i&2){let e=r.$implicit;a(),u("ngClass",v(2,1,e.rememberOnDevice))}}function rl(i,r){if(i&1&&(n(0,"mat-header-cell",59),m(1),s()),i&2){let e=d();a(),p(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function al(i,r){if(i&1&&(n(0,"mat-cell",63),m(1),_(2,"localeDateTime"),s()),i&2){let e=r.$implicit;a(),p(" ",v(2,1,e.createdDate)," ")}}function sl(i,r){if(i&1&&(n(0,"mat-header-cell",59),m(1),s()),i&2){let e=d();a(),p(" ",e.fieldsInfo.expireDate==null?null:e.fieldsInfo.expireDate.fieldTitle," ")}}function ll(i,r){if(i&1&&(n(0,"mat-cell",64),m(1),_(2,"persianDate"),s()),i&2){let e=r.$implicit,o=d();u("ngStyle",ge(4,Ls,o.publicHelper.RowStyleExpireDate(e.expireDate))),a(),p(" ",v(2,2,e.expireDate)," ")}}function cl(i,r){i&1&&(n(0,"mat-header-cell"),m(1),_(2,"translate"),s()),i&2&&(a(),p(" ",v(2,1,"TITLE.OPTION")," "))}function ml(i,r){if(i&1&&(n(0,"mat-cell",65)(1,"button",66)(2,"mat-icon"),m(3,"more_vert"),s()(),g(4,"mat-menu",null,2),s()),i&2){let e=Q(5);a(),u("matMenuTriggerFor",e)}}function dl(i,r){i&1&&g(0,"mat-header-row")}function pl(i,r){if(i&1){let e=w();n(0,"mat-row",67),M("click",function(t){let l=C(e).$implicit,f=d();return h(f.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=C(e).$implicit,f=d();return h(f.onActionTableRowSelect(l,t))}),s()}if(i&2){let e=r.$implicit,o=d();be("ntk-row-selected",e.id===(o.tableRowSelected==null?null:o.tableRowSelected.id))}}var Qi=class Qi extends Xe{constructor(e,o,t,l,f,c,D,oe,ie,le,nt,wt){super(e,new Tt,nt,f,D);this.contentService=e;this.cmsToastrService=o;this.cmsConfirmationDialogService=t;this.activatedRoute=l;this.tokenHelper=f;this.cdr=c;this.translate=D;this.cmsStoreService=oe;this.router=ie;this.pageInfo=le;this.publicHelper=nt;this.dialog=wt;this.requestLinkSiteId=0;this.requestLinkUserId=0;this.requestLinkDeviceId=0;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new Ee;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["Id","LinkSiteId","LinkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","CreatedDate","ExpireDate"];this.tabledisplayedColumnsMobileSource=["Id","LinkSiteId","LinkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","CreatedDate","ExpireDate"];this.dataModelEnumManageUserAccessAreaTypesResult=new R;this.dataModelEnumManageUserAccessUserTypesResult=new R;this.unsubscribe=[];if(this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkDeviceId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkDeviceId")),this.requestLinkSiteId>0){let E=new W;E.propertyName="LinkCmsSiteId",E.value=this.requestLinkSiteId,this.filteModelContent.filters.push(E)}if(this.requestLinkUserId>0){let E=new W;E.propertyName="LinkUserId",E.value=this.requestLinkUserId,this.filteModelContent.filters.push(E)}if(this.requestLinkDeviceId>0){let E=new W;E.propertyName="LinkDeviceId",E.value=this.requestLinkDeviceId,this.filteModelContent.filters.push(E)}this.optionsSearch.parentMethods={onSubmit:E=>this.onSubmitOptionsSearch(E)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=L.Descending}ngOnInit(){this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=L.Descending,this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>B(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Tt);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let o=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(o.filters=[...this.filterDataModelQueryBuilder]),this.contentService.ServiceGetAllEditor(o).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=L.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=L.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=L.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonViewRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var o="";this.publicHelper.isMobile?o="dialog-fullscreen":o="dialog-min",this.dialog.open(qi,{height:"90%",panelClass:o,enterAnimationDuration:q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var o="";this.publicHelper.isMobile?o="dialog-fullscreen":o="dialog-min",this.dialog.open(ji,{height:"90%",panelClass:o,enterAnimationDuration:q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(l=>{this.cmsToastrService.typeErrorSelected(l)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var o="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(l=>{o=l["MESSAGE.Please_Confirm"],t=l["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(o,t).then(l=>{if(l){let f=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(f,c,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(f)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(f,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let o=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{o.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{o.set(c,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(D=>{o.set(D,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}});let l=JSON.parse(JSON.stringify(this.filteModelContent)),f=new W;f.propertyName="RecordStatus",f.value=we.Available,l.filters.push(f),this.contentService.ServiceGetCount(l).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(D=>{o.set(D,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonViewUserRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkUserId||this.tableRowSelected.linkUserId===0){this.translate.get("MESSAGE.content_does_not_contain_user_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId])}onActionButtonViewSiteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkSiteId||this.tableRowSelected.linkSiteId===0){this.translate.get("MESSAGE.content_does_not_include_site_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};Qi.\u0275fac=function(o){return new(o||Qi)(S(It),S(F),S(Te),S(ke),S(H),S(V),S(P),S(N),S(Ae),S(Je),S(j),S(Re))},Qi.\u0275cmp=U({type:Qi,selectors:[["app-coretoken-notification-list"]],standalone:!1,features:[J],decls:89,vars:35,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-globe","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","LinkUserId"],["matColumnDef","LinkMemberUserId"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","UserAccessAreaType"],["matColumnDef","UserType"],["matColumnDef","UserAccessAdminAllowToAllData"],["matColumnDef","UserAccessAdminAllowToProfessionalData"],["matColumnDef","RememberOnDevice"],["matColumnDef","CreatedDate"],["style","direction: ltr",4,"matCellDef"],["matColumnDef","ExpireDate"],[3,"ngStyle",4,"matCellDef"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","target","_blank","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[2,"direction","ltr"],[3,"ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(o,t){if(o&1){let l=w();n(0,"app-cms-html-list",3),y("optionActionGuideNoticeDisplayChange",function(c){return C(l),A(t.viewGuideNotice,c)||(t.viewGuideNotice=c),h(c)}),M("optionOnActionButtonMemoRow",function(){return C(l),h(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return C(l),h(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return C(l),h(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return C(l),h(t.onActionButtonPrintRow())}),b(1,4),m(2," -------------------------------------- "),I(),ne(3,5)(4,6),b(5,7),T(6,Us,2,0,"a",8),n(7,"a",9),M("click",function(){return C(l),h(t.viewGuideNotice=!t.viewGuideNotice)}),g(8,"i",10),s(),n(9,"a",9),M("click",function(){return C(l),h(t.onActionButtonReload())}),g(10,"i",11),s(),I(),b(11,12),n(12,"a",13),M("click",function(){return C(l),h(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),g(13,"mat-slide-toggle",14),m(14),_(15,"translate"),s(),n(16,"a",13),M("click",function(){return C(l),h(t.onActionButtonStatist())}),g(17,"mat-slide-toggle",14),m(18),_(19,"translate"),s(),I(),ne(20,15),b(21,16),T(22,Bs,7,3,"div",17)(23,Vs,7,3,"div",17),n(24,"div",18)(25,"a",19),M("click",function(){return C(l),h(t.onActionButtonViewSiteRow(t.tableRowSelected))}),g(26,"i",20)(27,"br"),s(),n(28,"p",21),m(29),_(30,"translate"),s()(),n(31,"div",18)(32,"a",19),M("click",function(){return C(l),h(t.onActionButtonViewUserRow(t.tableRowSelected))}),g(33,"i",22)(34,"br"),s(),n(35,"p",21),m(36),_(37,"translate"),s()(),T(38,Os,7,3,"div",17),I(),b(39,23),n(40,"app-cms-search-list",24),y("optionsChange",function(c){return C(l),A(t.optionsSearch,c)||(t.optionsSearch=c),h(c)}),s(),n(41,"app-cms-statist-list",24),y("optionsChange",function(c){return C(l),A(t.optionsStatist,c)||(t.optionsStatist=c),h(c)}),s(),I(),b(42,25),n(43,"mat-table",26,0),M("matSortChange",function(){C(l);let c=Q(44);return h(t.onTableSortData(c))}),b(45,27),T(46,Ps,2,1,"mat-header-cell",28)(47,Gs,2,1,"mat-cell",29),I(),b(48,30),T(49,Ns,2,1,"mat-header-cell",28)(50,Hs,4,5,"mat-cell",29),I(),b(51,31),T(52,Fs,2,1,"mat-header-cell",28)(53,js,4,5,"mat-cell",29),I(),b(54,32),T(55,Ws,2,1,"mat-header-cell",28)(56,qs,2,1,"mat-cell",29),I(),b(57,33),T(58,Qs,2,1,"mat-header-cell",28)(59,Js,5,7,"mat-cell",34),I(),b(60,35),T(61,Ks,2,1,"mat-header-cell",28)(62,$s,3,4,"mat-cell",29),I(),b(63,36),T(64,Xs,2,1,"mat-header-cell",28)(65,Ys,3,4,"mat-cell",29),I(),b(66,37),T(67,Zs,2,1,"mat-header-cell",28)(68,el,3,3,"mat-cell",29),I(),b(69,38),T(70,tl,2,1,"mat-header-cell",28)(71,il,3,3,"mat-cell",29),I(),b(72,39),T(73,ol,2,1,"mat-header-cell",28)(74,nl,3,3,"mat-cell",29),I(),b(75,40),T(76,rl,2,1,"mat-header-cell",28)(77,al,3,3,"mat-cell",41),I(),b(78,42),T(79,sl,2,1,"mat-header-cell",28)(80,ll,3,6,"mat-cell",43),I(),b(81,44),T(82,cl,3,3,"mat-header-cell",45)(83,ml,6,1,"mat-cell",46),I(),T(84,dl,1,0,"mat-header-row",47)(85,pl,1,2,"mat-row",48),s(),I(),b(86,49),n(87,"mat-paginator",50,1),M("page",function(c){return C(l),h(t.onTablePageingData(c))}),s(),I(),s()}o&2&&(u("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),k("optionActionGuideNoticeDisplay",t.viewGuideNotice),u("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),a(6),u("ngIf",t.requestLinkSiteId>0),a(7),u("checked",t.optionsSearch.data.show),a(),p("",v(15,26,"ACTION.SEARCH")," "),a(3),u("checked",t.optionsStatist.data.show),a(),p("",v(19,28,"ACTION.STATIST")," "),a(4),u("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),a(),u("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),a(6),p(" ",v(30,30,"ACTION.SITE")," "),a(7),p(" ",v(37,32,"ACTION.USER")," "),a(2),u("ngIf",(t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessWatchRow)&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0),a(2),k("options",t.optionsSearch),a(),k("options",t.optionsStatist),a(2),u("dataSource",t.tableSource),a(41),u("matHeaderRowDef",t.tabledisplayedColumns),a(),u("matRowDefColumns",t.tabledisplayedColumns),a(2),u("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",Ie(34,Ds)))},dependencies:[rt,O,ft,ye,De,ve,xe,Le,Ue,Be,Ve,Oe,Pe,Ne,We,He,Ge,qe,Fe,je,Qe,ze,Ye,Ze,et,tt,Ct,Me,G,vt,ot,Ke,it,$e,ht,_t,lt],encapsulation:2});var Eo=Qi;var fl=["vform"];function Sl(i,r){if(i&1){let e=w();n(0,"app-cms-enum-record-status-selector",38),y("modelChange",function(t){C(e);let l=d();return A(l.dataModel.recordStatus,t)||(l.dataModel.recordStatus=t),h(t)}),s()}if(i&2){let e=d();k("model",e.dataModel.recordStatus),u("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Cl(i,r){if(i&1&&(n(0,"option",39),m(1),s()),i&2){let e=r.$implicit;u("value",e.value),a(),p(" ",e.description," ")}}function hl(i,r){i&1&&(n(0,"mat-error"),m(1," LinkMemberId is "),n(2,"strong"),m(3),_(4,"translate"),s()()),i&2&&(a(3),x(v(4,1,"MESSAGE.required")))}function _l(i,r){if(i&1&&(n(0,"option",39),m(1),s()),i&2){let e=r.$implicit;u("value",e.value),a(),p(" ",e.description," ")}}function gl(i,r){i&1&&(n(0,"mat-error"),m(1," UserAccessAreaType is "),n(2,"strong"),m(3),_(4,"translate"),s()()),i&2&&(a(3),x(v(4,1,"MESSAGE.required")))}function vl(i,r){if(i&1){let e=w();n(0,"div",40)(1,"div",41)(2,"h5",42),m(3),s()(),n(4,"div",43)(5,"div",44)(6,"input",45),y("ngModelChange",function(t){C(e);let l=d();return A(l.dataModel.userAccessAdminAllowToAllData,t)||(l.dataModel.userAccessAdminAllowToAllData=t),h(t)}),s(),g(7,"label",46),s()()()}if(i&2){let e=d();a(3),p(" ",e.fieldsInfo.userAccessAdminAllowToAllData==null?null:e.fieldsInfo.userAccessAdminAllowToAllData.fieldTitle," "),a(3),k("ngModel",e.dataModel.userAccessAdminAllowToAllData)}}function Tl(i,r){if(i&1){let e=w();n(0,"div",40)(1,"div",41)(2,"h5",47),m(3),s()(),n(4,"div",43)(5,"div",44)(6,"input",48),y("ngModelChange",function(t){C(e);let l=d();return A(l.dataModel.userAccessAdminAllowToProfessionalData,t)||(l.dataModel.userAccessAdminAllowToProfessionalData=t),h(t)}),s(),g(7,"label",49),s()()()}if(i&2){let e=d();a(3),p(" ",e.fieldsInfo.userAccessAdminAllowToProfessionalData==null?null:e.fieldsInfo.userAccessAdminAllowToProfessionalData.fieldTitle," "),a(3),k("ngModel",e.dataModel.userAccessAdminAllowToProfessionalData)}}function bl(i,r){if(i&1){let e=w();n(0,"div",40)(1,"div",41)(2,"h5",50),m(3),s()(),n(4,"div",43)(5,"div",44)(6,"input",51),y("ngModelChange",function(t){C(e);let l=d();return A(l.dataModel.rememberOnDevice,t)||(l.dataModel.rememberOnDevice=t),h(t)}),s(),g(7,"label",52),s()()()}if(i&2){let e=d();a(3),p(" ",e.fieldsInfo.rememberOnDevice==null?null:e.fieldsInfo.rememberOnDevice.fieldTitle," "),a(3),k("ngModel",e.dataModel.rememberOnDevice)}}function Il(i,r){if(i&1){let e=w();n(0,"div",53)(1,"label",54),m(2),s(),n(3,"input",55),y("ngModelChange",function(t){C(e);let l=d();return A(l.dataModel.tokenExpireDate,t)||(l.dataModel.tokenExpireDate=t),h(t)}),s(),g(4,"mat-datepicker-toggle",56)(5,"mat-datepicker",57,9),s()}if(i&2){let e=Q(6),o=d();a(2),x(o.fieldsInfo.tokenExpireDate==null?null:o.fieldsInfo.tokenExpireDate.fieldTitle),a(),u("matDatepicker",e),k("ngModel",o.dataModel.tokenExpireDate),a(),u("for",e)}}function Ml(i,r){if(i&1&&(n(0,"div"),g(1,"div",58),_(2,"prettyjson"),s()),i&2){let e=d();a(),u("innerHTML",v(2,1,e.dataModel),bt)}}function wl(i,r){if(i&1){let e=w();n(0,"div",59)(1,"button",60),M("click",function(){C(e);let t=d();return h(t.onFormCancel())}),g(2,"i",61),m(3),_(4,"translate"),s(),n(5,"button",62),g(6,"i",63),m(7),_(8,"translate"),s()()}if(i&2){d();let e=Q(9);a(3),p(" ",v(4,3,"ACTION.CANCEL")," "),a(2),u("disabled",!e.form.valid),a(2),p(" ",v(8,5,"ACTION.SAVE")," ")}}var zi=class zi extends mt{constructor(e,o,t,l,f,c,D,oe,ie,le){super(l,new Vt,oe,le);this.data=e;this.dialogRef=o;this.coreEnumService=t;this.coreTokenUserService=l;this.cmsToastrService=f;this.tokenHelper=c;this.cmsStoreService=D;this.publicHelper=oe;this.cdr=ie;this.translate=le;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new At;this.dataModel=new Vt;this.formInfo=new Y;this.dataModelEnumManageUserAccessAreaTypesResult=new R;this.dataModelEnumManageUserAccessUserTypesResult=new R;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id)}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>B(this,null,function*(){this.tokenInfo=e}))),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){this.coreEnumService.ServiceManageUserAccessAreaTypesEnum().subscribe({next:e=>{this.dataModelEnumManageUserAccessAreaTypesResult=e}})}getEnumManageUserAccessUserTypes(){this.coreEnumService.ServiceManageUserAccessUserTypesEnum().subscribe({next:e=>{this.dataModelEnumManageUserAccessUserTypesResult=e}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(o=>{this.formInfo.submitResultMessage=o}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(o=>{this.publicHelper.processService.processStart(e,o,this.constructorInfoAreaId)}),this.coreTokenUserService.setAccessLoad(),this.coreTokenUserService.setAccessDataType(at.Editor),this.coreTokenUserService.ServiceGetOneById(this.requestId).subscribe({next:o=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModel=o.item,o.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+o.item.id,this.formInfo.submitResultMessage=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=o.errorMessage,this.cmsToastrService.typeErrorMessage(o.errorMessage)),this.publicHelper.processService.processStop(e)},error:o=>{this.cmsToastrService.typeError(o),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(o=>{this.formInfo.submitResultMessage=o}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(o=>{this.publicHelper.processService.processStart(e,o,this.constructorInfoAreaId)}),this.coreTokenUserService.ServiceEdit(this.dataModel).subscribe({next:o=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=o,o.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=o.errorMessage,this.cmsToastrService.typeErrorEdit(o.errorMessage)),this.publicHelper.processService.processStop(e)},error:o=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(o),this.publicHelper.processService.processStop(e,!1)}})}onActionSiteSelect(e){e&&e.id>0&&(this.dataModel.linkSiteId=e.id)}onActionUserSelect(e){e&&e.id>0&&(this.dataModel.linkUserId=e.id)}onActionMemberSelect(e){e&&e.id?.length>0&&(this.dataModel.linkMemberId=e.id)}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};zi.\u0275fac=function(o){return new(o||zi)(S(ee),S(Z),S(z),S(Lt),S(F),S(H),S(N),S(j),S(V),S(P))},zi.\u0275cmp=U({type:zi,selectors:[["app-core-site-domainalias-edit"]],viewQuery:function(o,t){if(o&1&&K(fl,5),o&2){let l;$(l=X())&&(t.formGroup=l.first)}},standalone:!1,features:[J],decls:69,vars:45,consts:[["vform","ngForm"],["LinkMemberId","ngModel"],["UserAccessAreaType","ngModel"],["BrowserLanguage",""],["UserLanguage",""],["DeviceClientMAC",""],["Token",""],["LinkDeviceId",""],["LinkApplicationId",""],["tokenExpireDate",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[1,"input-style","has-borders","input-style-always-active","validate-field","no-icon","mb-4"],["id","dataModel.linkMemberId","name","dataModel.linkMemberId",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["id","dataModel.userAccessAreaType","name","dataModel.userAccessAreaType",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],["class","d-flex mb-3",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.browserLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.browserLanguage","placeholder","BrowserLanguage","id","dataModel.browserLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.userLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.userLanguage","placeholder","UserLanguage","id","dataModel.userLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.deviceClientMAC",1,"color-highlight"],["matInput","","type","text","name","dataModel.deviceClientMAC","placeholder","DeviceClientMAC","id","dataModel.deviceClientMAC",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.token",1,"color-highlight"],["matInput","","type","text","name","dataModel.token","placeholder","Token","id","dataModel.token",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.linkDeviceId",1,"color-highlight"],["matInput","","type","text","name","dataModel.linkDeviceId","placeholder","LinkDeviceId","id","dataModel.linkDeviceId",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.linkApplicationId",1,"color-highlight"],["matInput","","type","text","name","dataModel.linkApplicationId","placeholder","LinkApplicationId","id","dataModel.linkApplicationId",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4 cms-input-group",4,"ngIf"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"value"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.userAccessAdminAllowToAllData",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.userAccessAdminAllowToAllData","name","dataModel.userAccessAdminAllowToAllData",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.userAccessAdminAllowToAllData",1,"custom-control-label"],["data-trigger-switch","dataModel.userAccessAdminAllowToProfessionalData",1,"font-600","font-14"],["type","checkbox","id","dataModel.userAccessAdminAllowToProfessionalData","name","dataModel.userAccessAdminAllowToProfessionalData",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.userAccessAdminAllowToProfessionalData",1,"custom-control-label"],["data-trigger-switch","dataModel.rememberOnDevice",1,"font-600","font-14"],["type","checkbox","id","dataModel.rememberOnDevice","name","dataModel.rememberOnDevice",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.rememberOnDevice",1,"custom-control-label"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],["for","dataModel.tokenExpireDate",1,"color-highlight"],["matInput","","type","text","name","dataModel.tokenExpireDate","id","dataModel.tokenExpireDate",1,"form-control","validate-name",3,"ngModelChange","matDatepicker","ngModel"],["matSuffix","",3,"for"],["touchUi",""],[3,"innerHTML"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(o,t){if(o&1){let l=w();n(0,"div",10),g(1,"app-progress-spinner",11),n(2,"div",12)(3,"p",13),m(4),s(),n(5,"p"),m(6),_(7,"translate"),s(),n(8,"form",14,0),M("ngSubmit",function(){return C(l),h(t.onFormSubmit())}),T(10,Sl,1,5,"app-cms-enum-record-status-selector",15),n(11,"div",16)(12,"select",17,1),y("ngModelChange",function(c){return C(l),A(t.dataModel.linkMemberId,c)||(t.dataModel.linkMemberId=c),h(c)}),T(14,Cl,2,2,"option",18),s(),n(15,"em"),m(16),_(17,"translate"),s(),T(18,hl,5,3,"mat-error",19),s(),n(19,"div",16)(20,"select",20,2),y("ngModelChange",function(c){return C(l),A(t.dataModel.userAccessAreaType,c)||(t.dataModel.userAccessAreaType=c),h(c)}),T(22,_l,2,2,"option",18),s(),n(23,"em"),m(24),_(25,"translate"),s(),T(26,gl,5,3,"mat-error",19),s(),n(27,"app-cms-site-selector",21),_(28,"translate"),M("optionChange",function(c){return C(l),h(t.onActionSiteSelect(c))}),s(),n(29,"app-cms-user-selector",21),_(30,"translate"),M("optionChange",function(c){return C(l),h(t.onActionUserSelect(c))}),s(),n(31,"app-cms-member-selector",21),_(32,"translate"),M("optionChange",function(c){return C(l),h(t.onActionMemberSelect(c))}),s(),T(33,vl,8,2,"div",22)(34,Tl,8,2,"div",22)(35,bl,8,2,"div",22),n(36,"div",23)(37,"label",24),m(38,"BrowserLanguage"),s(),n(39,"input",25,3),y("ngModelChange",function(c){return C(l),A(t.dataModel.browserLanguage,c)||(t.dataModel.browserLanguage=c),h(c)}),s()(),n(41,"div",23)(42,"label",26),m(43,"UserLanguage"),s(),n(44,"input",27,4),y("ngModelChange",function(c){return C(l),A(t.dataModel.userLanguage,c)||(t.dataModel.userLanguage=c),h(c)}),s()(),n(46,"div",23)(47,"label",28),m(48,"DeviceClientMAC"),s(),n(49,"input",29,5),y("ngModelChange",function(c){return C(l),A(t.dataModel.deviceClientMAC,c)||(t.dataModel.deviceClientMAC=c),h(c)}),s()(),n(51,"div",23)(52,"label",30),m(53,"Token"),s(),n(54,"input",31,6),y("ngModelChange",function(c){return C(l),A(t.dataModel.token,c)||(t.dataModel.token=c),h(c)}),s()(),n(56,"div",23)(57,"label",32),m(58,"LinkDeviceId"),s(),n(59,"input",33,7),y("ngModelChange",function(c){return C(l),A(t.dataModel.linkDeviceId,c)||(t.dataModel.linkDeviceId=c),h(c)}),s()(),n(61,"div",23)(62,"label",34),m(63,"LinkApplicationId"),s(),n(64,"input",35,8),y("ngModelChange",function(c){return C(l),A(t.dataModel.linkApplicationId,c)||(t.dataModel.linkApplicationId=c),h(c)}),s()(),T(66,Il,7,4,"div",36)(67,Ml,3,3,"div",19)(68,wl,9,7,"div",37),s()()()}if(o&2){let l=Q(13),f=Q(21);a(),u("optionsInfoAreaId",t.constructorInfoAreaId),a(3),p(" ",t.formInfo.formTitle," "),a(2),p(" ",v(7,33,"TITLE.Be_Careful_When_Entering_Information")," "),a(4),u("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),a(2),k("ngModel",t.dataModel.linkMemberId),a(2),u("ngForOf",t.dataModelEnumManageUserAccessUserTypesResult.listItems),a(2),x(v(17,35,"TITLE.SELECT_STATUS")),a(2),u("ngIf",l.errors==null?null:l.errors.required),a(2),k("ngModel",t.dataModel.userAccessAreaType),a(2),u("ngForOf",t.dataModelEnumManageUserAccessAreaTypesResult.listItems),a(2),x(v(25,37,"TITLE.SELECT_STATUS")),a(2),u("ngIf",f.errors==null?null:f.errors.required),a(),u("optionDisabled",!1)("optionSelectForce",t.dataModel.linkSiteId)("optionPlaceholder",v(28,39,"TITLE.WEBSITE")),a(2),u("optionDisabled",!1)("optionSelectForce",t.dataModel.linkUserId)("optionPlaceholder",v(30,41,"TITLE.USER")),a(2),u("optionDisabled",!1)("optionSelectForce",t.dataModel.linkMemberId)("optionPlaceholder",v(32,43,"TITLE.Member")),a(2),u("ngIf",t.fieldsInfo.userAccessAdminAllowToAllData==null?null:t.fieldsInfo.userAccessAdminAllowToAllData.accessWatchField),a(),u("ngIf",t.fieldsInfo.userAccessAdminAllowToProfessionalData==null?null:t.fieldsInfo.userAccessAdminAllowToProfessionalData.accessWatchField),a(),u("ngIf",t.fieldsInfo.rememberOnDevice==null?null:t.fieldsInfo.rememberOnDevice.accessWatchField),a(4),k("ngModel",t.dataModel.browserLanguage),a(5),k("ngModel",t.dataModel.userLanguage),a(5),k("ngModel",t.dataModel.deviceClientMAC),a(5),k("ngModel",t.dataModel.token),a(5),k("ngModel",t.dataModel.linkDeviceId),a(5),k("ngModel",t.dataModel.linkApplicationId),a(2),u("ngIf",t.fieldsInfo.tokenExpireDate==null?null:t.fieldsInfo.tokenExpireDate.accessWatchField),a(),u("ngIf",t.tokenInfo.access.userAccessAdminAllowToProfessionalData),a(),u("ngIf",t.formInfo.submitButtonEnabled)}},dependencies:[Ci,O,Fo,Ti,bi,hi,ao,vi,_i,No,gi,Ho,lo,co,mo,Ii,so,ve,ct,St,dt,Mi,te,G,Mt],encapsulation:2});var ko=zi;var El=["vform"];function kl(i,r){if(i&1&&(n(0,"div",7),g(1,"i",11),n(2,"span",12),m(3),s()()),i&2){let e=d(2);a(3),x(e.formInfo.submitResultMessage)}}function Al(i,r){if(i&1&&(n(0,"div",8),g(1,"i",13),n(2,"span",12),m(3),s()()),i&2){let e=d(2);a(3),x(e.formInfo.submitResultMessage)}}function yl(i,r){if(i&1&&(n(0,"div",9),g(1,"i",14),n(2,"span",12),m(3),s()()),i&2){let e=d(2);a(3),x(e.formInfo.submitResultMessage)}}function Rl(i,r){if(i&1&&(n(0,"div",10),g(1,"i",15),n(2,"span",12),m(3),s()()),i&2){let e=d(2);a(3),x(e.formInfo.submitResultMessage)}}function Dl(i,r){if(i&1&&ce(0,kl,4,1,"div",7)(1,Al,4,1,"div",8)(2,yl,4,1,"div",9)(3,Rl,4,1,"div",10),i&2){let e,o=d();me((e=o.formInfo.submitResult)==="success"?0:e==="error"?1:e==="warning"?2:3)}}function xl(i,r){if(i&1){let e=w();n(0,"div",16)(1,"button",17),M("click",function(){C(e);let t=d();return h(t.onFormCancel())}),g(2,"i",18),m(3),_(4,"translate"),s()()}i&2&&(a(3),p(" ",v(4,1,"ACTION.CANCEL")," "))}var Ji=class Ji{constructor(r,e,o,t,l,f,c,D,oe,ie){this.data=r;this.dialogRef=e;this.coreEnumService=o;this.coreTokenUserService=t;this.cmsToastrService=l;this.tokenHelper=f;this.cmsStoreService=c;this.cdr=D;this.publicHelper=oe;this.translate=ie;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.tokenInfo=new st;this.dataModelResult=new R;this.dataModel=new Vt;this.formInfo=new Y;this.dataModelEnumSendSmsStatusTypeResult=new R;this.fieldsInfo=new Map;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,r&&(this.requestId=r.id+"")}ngOnInit(){if(this.translate.get("TITLE.VIEW").subscribe(r=>{this.formInfo.formTitle=r}),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(r=>r.tokenInfoStore).subscribe(r=>B(this,null,function*(){this.tokenInfo=r}))),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:r=>{this.dataModelEnumSendSmsStatusTypeResult=r}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(r=>r.unsubscribe())}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage="";let r=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(r,e,this.constructorInfoAreaId)}),this.coreTokenUserService.setAccessLoad(),this.coreTokenUserService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModel=e.item,e.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+e.item.id,this.formInfo.submitResultMessage=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(o=>{this.formInfo.submitResultMessage=o}),this.formInfo.submitResultMessage=e.errorMessage,this.cmsToastrService.typeErrorMessage(e.errorMessage)),this.publicHelper.processService.processStop(r)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(r,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Ji.\u0275fac=function(e){return new(e||Ji)(S(ee),S(Z),S(z),S(Lt),S(F),S(H),S(N),S(V),S(j),S(P))},Ji.\u0275cmp=U({type:Ji,selectors:[["app-bankpayment-transactionlog-view"]],viewQuery:function(e,o){if(e&1&&K(El,5),e&2){let t;$(t=X())&&(o.formGroup=t.first)}},standalone:!1,decls:9,vars:6,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection","loader-container"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],[1,"chip","chip-s","bg-green-dark"],[1,"chip","chip-s","bg-red-dark"],[1,"chip","chip-s","bg-yellow-dark"],[1,"chip","chip-s","bg-gray-dark"],[1,"fa","fa-check","color-white","bg-green-light"],[1,"color-white"],[1,"fa","fa-check","color-white","bg-red-light"],[1,"fa","fa-check","color-white","bg-yellow-light"],[1,"fa","fa-check","color-white","bg-gray-light"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,o){e&1&&(n(0,"div",0),m(1),s(),n(2,"div",1),g(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),s(),n(5,"div",4),ce(6,Dl,4,1),s(),n(7,"div",5),T(8,xl,5,3,"div",6),s()),e&2&&(a(),p(" ",o.formInfo.formTitle," "),a(2),u("optionsInfoAreaId",o.constructorInfoAreaId),a(),u("dataModel",o.dataModel)("optionMethod",1),a(2),me((o.formInfo==null||o.formInfo.submitResultMessage==null?null:o.formInfo.submitResultMessage.length)>0?6:-1),a(2),u("ngIf",o.formInfo.submitButtonEnabled))},dependencies:[O,te,pt,G],encapsulation:2});var Ao=Ji;var Ll=()=>[5,10,20,100],Ul=i=>({display:i});function Bl(i,r){if(i&1){let e=w();n(0,"a",52),M("click",function(){C(e);let t=d();return h(t.onActionBackToParent())}),g(1,"i",53),s()}}function Vl(i,r){if(i&1){let e=w();n(0,"div",18)(1,"a",54),M("click",function(){C(e);let t=d();return h(t.onActionButtonEditRow(t.tableRowSelected))}),g(2,"i",55)(3,"br"),s(),n(4,"p",21),m(5),_(6,"translate"),s()()}i&2&&(a(5),p(" ",v(6,1,"ACTION.EDIT")," "))}function Ol(i,r){if(i&1){let e=w();n(0,"div",18)(1,"a",56),M("click",function(){C(e);let t=d();return h(t.onActionButtonDeleteRow(t.tableRowSelected))}),g(2,"i",57)(3,"br"),s(),n(4,"p",21),m(5),_(6,"translate"),s()()}i&2&&(a(5),p(" ",v(6,1,"ACTION.DELETE")," "))}function Pl(i,r){if(i&1){let e=w();n(0,"div",18)(1,"a",58),M("click",function(){C(e);let t=d();return h(t.onActionButtonViewRow(t.tableRowSelected))}),g(2,"i",59)(3,"br"),s(),n(4,"p",21),m(5),_(6,"translate"),s()()}i&2&&(a(5),p(" ",v(6,1,"ACTION.VIEW")," "))}function Gl(i,r){if(i&1&&(n(0,"mat-header-cell",60),m(1),s()),i&2){let e=d();a(),p(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function Nl(i,r){if(i&1&&(n(0,"mat-cell"),m(1),s()),i&2){let e=r.$implicit;a(),p(" ",e.id," ")}}function Hl(i,r){if(i&1&&(n(0,"mat-header-cell",60),m(1),s()),i&2){let e=d();a(),p(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function Fl(i,r){if(i&1&&(n(0,"mat-cell"),m(1),_(2,"cmssiteinfo"),_(3,"async"),s()),i&2){let e=r.$implicit;a(),p(" ",v(3,3,v(2,1,e.linkSiteId))," ")}}function jl(i,r){if(i&1&&(n(0,"mat-header-cell",60),m(1),s()),i&2){let e=d();a(),p(" ",e.fieldsInfo.linkUserId==null?null:e.fieldsInfo.linkUserId.fieldTitle," ")}}function Wl(i,r){if(i&1&&(n(0,"mat-cell"),m(1),_(2,"cmsuserinfo"),_(3,"async"),s()),i&2){let e=r.$implicit;a(),p(" ",v(3,3,v(2,1,e.linkUserId))," ")}}function ql(i,r){if(i&1&&(n(0,"mat-header-cell",60),m(1),s()),i&2){let e=d();a(),p(" ",e.fieldsInfo.linkMemberId==null?null:e.fieldsInfo.linkMemberId.fieldTitle," ")}}function Ql(i,r){if(i&1&&(n(0,"mat-cell"),m(1),s()),i&2){let e=r.$implicit;a(),p(" ",e.linkMemberId," ")}}function zl(i,r){if(i&1&&(n(0,"mat-header-cell",60),m(1),s()),i&2){let e=d();a(),p(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function Jl(i,r){if(i&1&&g(0,"select",63),i&2){let e=d().$implicit,o=d();u("contentService",o.contentService)("row",e)("ngStyle",ge(3,Ul,e.id===(o.tableRowSelected==null?null:o.tableRowSelected.id)?"":"none"))}}function Kl(i,r){if(i&1&&(n(0,"mat-cell",61),_(1,"statusCellClass"),g(2,"i",61),_(3,"statusIconClass"),T(4,Jl,1,5,"select",62),s()),i&2){let e=r.$implicit,o=d();u("ngClass",v(1,3,e.recordStatus)),a(2),u("ngClass",v(3,5,e.recordStatus)),a(2),u("ngIf",o.dataModelResult==null||o.dataModelResult.access==null?null:o.dataModelResult.access.accessEditRow)}}function $l(i,r){if(i&1&&(n(0,"mat-header-cell",60),m(1),s()),i&2){let e=d();a(),p(" ",e.fieldsInfo.userAccessAreaType==null?null:e.fieldsInfo.userAccessAreaType.fieldTitle," ")}}function Xl(i,r){if(i&1&&(n(0,"mat-cell"),m(1),_(2,"enums"),s()),i&2){let e=r.$implicit,o=d();a(),p(" ",ae(2,1,e.userAccessAreaType,o.dataModelEnumManageUserAccessAreaTypesResult.listItems)," ")}}function Yl(i,r){if(i&1&&(n(0,"mat-header-cell",60),m(1),s()),i&2){let e=d();a(),p(" ",e.fieldsInfo.userType==null?null:e.fieldsInfo.userType.fieldTitle," ")}}function Zl(i,r){if(i&1&&(n(0,"mat-cell"),m(1),_(2,"enums"),s()),i&2){let e=r.$implicit,o=d();a(),p(" ",ae(2,1,e.userType,o.dataModelEnumManageUserAccessUserTypesResult.listItems)," ")}}function ec(i,r){if(i&1&&(n(0,"mat-header-cell",60),m(1),s()),i&2){let e=d();a(),p(" ",e.fieldsInfo.userAccessAdminAllowToAllData==null?null:e.fieldsInfo.userAccessAdminAllowToAllData.fieldTitle," ")}}function tc(i,r){if(i&1&&(n(0,"mat-cell"),g(1,"i",61),_(2,"boolclass"),s()),i&2){let e=r.$implicit;a(),u("ngClass",v(2,1,e.userAccessAdminAllowToAllData))}}function ic(i,r){if(i&1&&(n(0,"mat-header-cell",60),m(1),s()),i&2){let e=d();a(),p(" ",e.fieldsInfo.userAccessAdminAllowToProfessionalData==null?null:e.fieldsInfo.userAccessAdminAllowToProfessionalData.fieldTitle," ")}}function oc(i,r){if(i&1&&(n(0,"mat-cell"),g(1,"i",61),_(2,"boolclass"),s()),i&2){let e=r.$implicit;a(),u("ngClass",v(2,1,e.userAccessAdminAllowToProfessionalData))}}function nc(i,r){if(i&1&&(n(0,"mat-header-cell",60),m(1),s()),i&2){let e=d();a(),p(" ",e.fieldsInfo.rememberOnDevice==null?null:e.fieldsInfo.rememberOnDevice.fieldTitle," ")}}function rc(i,r){if(i&1&&(n(0,"mat-cell"),g(1,"i",61),_(2,"boolclass"),s()),i&2){let e=r.$implicit;a(),u("ngClass",v(2,1,e.rememberOnDevice))}}function ac(i,r){if(i&1&&(n(0,"mat-header-cell",60),m(1),s()),i&2){let e=d();a(),p(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function sc(i,r){if(i&1&&(n(0,"mat-cell",64),m(1),_(2,"localeDateTime"),s()),i&2){let e=r.$implicit;a(),p(" ",v(2,1,e.createdDate)," ")}}function lc(i,r){if(i&1&&(n(0,"mat-header-cell",60),m(1),s()),i&2){let e=d();a(),p(" ",e.fieldsInfo.tokenExpireDate==null?null:e.fieldsInfo.tokenExpireDate.fieldTitle," ")}}function cc(i,r){if(i&1&&(n(0,"mat-cell",64),m(1),_(2,"localeDateTime"),s()),i&2){let e=r.$implicit;a(),p(" ",v(2,1,e.tokenExpireDate)," ")}}function mc(i,r){i&1&&(n(0,"mat-header-cell"),m(1),_(2,"translate"),s()),i&2&&(a(),p(" ",v(2,1,"TITLE.OPTION")," "))}function dc(i,r){if(i&1&&(n(0,"mat-cell",65)(1,"button",66)(2,"mat-icon"),m(3,"more_vert"),s()(),g(4,"mat-menu",null,2),s()),i&2){let e=Q(5);a(),u("matMenuTriggerFor",e)}}function pc(i,r){i&1&&g(0,"mat-header-row")}function uc(i,r){if(i&1){let e=w();n(0,"mat-row",67),M("click",function(t){let l=C(e).$implicit,f=d();return h(f.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=C(e).$implicit,f=d();return h(f.onActionTableRowSelect(l,t))}),s()}if(i&2){let e=r.$implicit,o=d();be("ntk-row-selected",e.id===(o.tableRowSelected==null?null:o.tableRowSelected.id))}}var Ki=class Ki extends Xe{constructor(e,o,t,l,f,c,D,oe,ie,le,nt,wt){super(e,new Vt,nt,f,D);this.contentService=e;this.cmsToastrService=o;this.cmsConfirmationDialogService=t;this.activatedRoute=l;this.tokenHelper=f;this.cdr=c;this.translate=D;this.cmsStoreService=oe;this.router=ie;this.pageInfo=le;this.publicHelper=nt;this.dialog=wt;this.requestLinkSiteId=0;this.requestLinkUserId=0;this.requestLinkDeviceId=0;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new Ee;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["Id","LinkSiteId","LinkUserId","LinkMemberId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","CreatedDate","tokenExpireDate"];this.tabledisplayedColumnsMobileSource=["Id","LinkSiteId","LinkUserId","LinkMemberId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","CreatedDate","tokenExpireDate"];this.dataModelEnumManageUserAccessAreaTypesResult=new R;this.dataModelEnumManageUserAccessUserTypesResult=new R;this.unsubscribe=[];if(this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkDeviceId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkDeviceId")),this.requestLinkSiteId>0){let E=new W;E.propertyName="LinkCmsSiteId",E.value=this.requestLinkSiteId,this.filteModelContent.filters.push(E)}if(this.requestLinkUserId>0){let E=new W;E.propertyName="LinkUserId",E.value=this.requestLinkUserId,this.filteModelContent.filters.push(E)}if(this.requestLinkDeviceId>0){let E=new W;E.propertyName="LinkDeviceId",E.value=this.requestLinkDeviceId,this.filteModelContent.filters.push(E)}this.optionsSearch.parentMethods={onSubmit:E=>this.onSubmitOptionsSearch(E)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=L.Descending}ngOnInit(){this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=L.Descending,this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>B(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Vt);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let o=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(o.filters=[...this.filterDataModelQueryBuilder]),this.contentService.ServiceGetAllEditor(o).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=L.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=L.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=L.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonViewRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var o="";this.publicHelper.isMobile?o="dialog-fullscreen":o="dialog-min",this.dialog.open(Ao,{height:"90%",panelClass:o,enterAnimationDuration:q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var o="";this.publicHelper.isMobile?o="dialog-fullscreen":o="dialog-min",this.dialog.open(ko,{height:"90%",panelClass:o,enterAnimationDuration:q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(l=>{this.cmsToastrService.typeErrorSelected(l)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var o="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(l=>{o=l["MESSAGE.Please_Confirm"],t=l["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(o,t).then(l=>{if(l){let f=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(f,c,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(f)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(f,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let o=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{o.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{o.set(c,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(D=>{o.set(D,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}});let l=JSON.parse(JSON.stringify(this.filteModelContent)),f=new W;f.propertyName="RecordStatus",f.value=we.Available,l.filters.push(f),this.contentService.ServiceGetCount(l).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(D=>{o.set(D,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonViewUserRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkUserId||this.tableRowSelected.linkUserId===0){this.translate.get("MESSAGE.content_does_not_contain_user_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId])}onActionButtonViewMemberRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkMemberId||this.tableRowSelected.linkMemberId===""){this.translate.get("MESSAGE.Content_does_not_include_device_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/member/user/edit",this.tableRowSelected.linkMemberId])}onActionButtonViewSiteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkSiteId||this.tableRowSelected.linkSiteId===0){this.translate.get("MESSAGE.content_does_not_include_site_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId])}onActionButtonViewDeviceRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkDeviceId||this.tableRowSelected.linkDeviceId===0){this.translate.get("MESSAGE.Content_does_not_include_device_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkDeviceId])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};Ki.\u0275fac=function(o){return new(o||Ki)(S(Lt),S(F),S(Te),S(ke),S(H),S(V),S(P),S(N),S(Ae),S(Je),S(j),S(Re))},Ki.\u0275cmp=U({type:Ki,selectors:[["app-coretoken-user-list"]],standalone:!1,features:[J],decls:103,vars:41,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-globe","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-id-card-clip","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-mobile","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","LinkUserId"],["matColumnDef","LinkMemberId"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","UserAccessAreaType"],["matColumnDef","UserType"],["matColumnDef","UserAccessAdminAllowToAllData"],["matColumnDef","UserAccessAdminAllowToProfessionalData"],["matColumnDef","RememberOnDevice"],["matColumnDef","CreatedDate"],["style","direction: ltr",4,"matCellDef"],["matColumnDef","tokenExpireDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","target","_blank","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[2,"direction","ltr"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(o,t){if(o&1){let l=w();n(0,"app-cms-html-list",3),y("optionActionGuideNoticeDisplayChange",function(c){return C(l),A(t.viewGuideNotice,c)||(t.viewGuideNotice=c),h(c)}),M("optionOnActionButtonMemoRow",function(){return C(l),h(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return C(l),h(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return C(l),h(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return C(l),h(t.onActionButtonPrintRow())}),b(1,4),m(2," -------------------------------------- "),I(),ne(3,5)(4,6),b(5,7),T(6,Bl,2,0,"a",8),n(7,"a",9),M("click",function(){return C(l),h(t.viewGuideNotice=!t.viewGuideNotice)}),g(8,"i",10),s(),n(9,"a",9),M("click",function(){return C(l),h(t.onActionButtonReload())}),g(10,"i",11),s(),I(),b(11,12),n(12,"a",13),M("click",function(){return C(l),h(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),g(13,"mat-slide-toggle",14),m(14),_(15,"translate"),s(),n(16,"a",13),M("click",function(){return C(l),h(t.onActionButtonStatist())}),g(17,"mat-slide-toggle",14),m(18),_(19,"translate"),s(),I(),ne(20,15),b(21,16),T(22,Vl,7,3,"div",17)(23,Ol,7,3,"div",17),n(24,"div",18)(25,"a",19),M("click",function(){return C(l),h(t.onActionButtonViewSiteRow(t.tableRowSelected))}),g(26,"i",20)(27,"br"),s(),n(28,"p",21),m(29),_(30,"translate"),s()(),n(31,"div",18)(32,"a",19),M("click",function(){return C(l),h(t.onActionButtonViewUserRow(t.tableRowSelected))}),g(33,"i",22)(34,"br"),s(),n(35,"p",21),m(36),_(37,"translate"),s()(),n(38,"div",18)(39,"a",19),M("click",function(){return C(l),h(t.onActionButtonViewMemberRow(t.tableRowSelected))}),g(40,"i",23)(41,"br"),s(),n(42,"p",21),m(43),_(44,"translate"),s()(),n(45,"div",18)(46,"a",19),M("click",function(){return C(l),h(t.onActionButtonViewDeviceRow(t.tableRowSelected))}),g(47,"i",24)(48,"br"),s(),n(49,"p",21),m(50),_(51,"translate"),s()(),T(52,Pl,7,3,"div",17),I(),b(53,25),n(54,"app-cms-search-list",26),y("optionsChange",function(c){return C(l),A(t.optionsSearch,c)||(t.optionsSearch=c),h(c)}),s(),n(55,"app-cms-statist-list",26),y("optionsChange",function(c){return C(l),A(t.optionsStatist,c)||(t.optionsStatist=c),h(c)}),s(),I(),b(56,27),n(57,"mat-table",28,0),M("matSortChange",function(){C(l);let c=Q(58);return h(t.onTableSortData(c))}),b(59,29),T(60,Gl,2,1,"mat-header-cell",30)(61,Nl,2,1,"mat-cell",31),I(),b(62,32),T(63,Hl,2,1,"mat-header-cell",30)(64,Fl,4,5,"mat-cell",31),I(),b(65,33),T(66,jl,2,1,"mat-header-cell",30)(67,Wl,4,5,"mat-cell",31),I(),b(68,34),T(69,ql,2,1,"mat-header-cell",30)(70,Ql,2,1,"mat-cell",31),I(),b(71,35),T(72,zl,2,1,"mat-header-cell",30)(73,Kl,5,7,"mat-cell",36),I(),b(74,37),T(75,$l,2,1,"mat-header-cell",30)(76,Xl,3,4,"mat-cell",31),I(),b(77,38),T(78,Yl,2,1,"mat-header-cell",30)(79,Zl,3,4,"mat-cell",31),I(),b(80,39),T(81,ec,2,1,"mat-header-cell",30)(82,tc,3,3,"mat-cell",31),I(),b(83,40),T(84,ic,2,1,"mat-header-cell",30)(85,oc,3,3,"mat-cell",31),I(),b(86,41),T(87,nc,2,1,"mat-header-cell",30)(88,rc,3,3,"mat-cell",31),I(),b(89,42),T(90,ac,2,1,"mat-header-cell",30)(91,sc,3,3,"mat-cell",43),I(),b(92,44),T(93,lc,2,1,"mat-header-cell",30)(94,cc,3,3,"mat-cell",43),I(),b(95,45),T(96,mc,3,3,"mat-header-cell",46)(97,dc,6,1,"mat-cell",47),I(),T(98,pc,1,0,"mat-header-row",48)(99,uc,1,2,"mat-row",49),s(),I(),b(100,50),n(101,"mat-paginator",51,1),M("page",function(c){return C(l),h(t.onTablePageingData(c))}),s(),I(),s()}o&2&&(u("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey","report.user.list"),k("optionActionGuideNoticeDisplay",t.viewGuideNotice),u("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),a(6),u("ngIf",t.requestLinkSiteId>0),a(7),u("checked",t.optionsSearch.data.show),a(),p("",v(15,28,"ACTION.SEARCH")," "),a(3),u("checked",t.optionsStatist.data.show),a(),p("",v(19,30,"ACTION.STATIST")," "),a(4),u("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),a(),u("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),a(6),p(" ",v(30,32,"ACTION.SITE")," "),a(7),p(" ",v(37,34,"ACTION.USER")," "),a(7),p(" ",v(44,36,"ACTION.MEMBER")," "),a(7),p(" ",v(51,38,"ACTION.DEVICE")," "),a(2),u("ngIf",(t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessWatchRow)&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0),a(2),k("options",t.optionsSearch),a(),k("options",t.optionsStatist),a(2),u("dataSource",t.tableSource),a(41),u("matHeaderRowDef",t.tabledisplayedColumns),a(),u("matRowDefColumns",t.tabledisplayedColumns),a(2),u("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",Ie(40,Ll)))},dependencies:[rt,O,ft,ye,De,ve,xe,Le,Ue,Be,Ve,Oe,Pe,Ne,We,He,Ge,qe,Fe,je,Qe,ze,Ye,Ze,et,tt,Ct,Me,G,ot,Ke,it,$e,ht,_t,lt],encapsulation:2});var mi=Ki;var fc=["vform"];function Sc(i,r){if(i&1&&(n(0,"option",27),m(1),s()),i&2){let e=r.$implicit;u("value",e.value),a(),p(" ",e.description," ")}}function Cc(i,r){i&1&&(n(0,"mat-error"),m(1," UserAccessAreaType is "),n(2,"strong"),m(3),_(4,"translate"),s()()),i&2&&(a(3),x(v(4,1,"MESSAGE.required")))}function hc(i,r){if(i&1&&(n(0,"div"),g(1,"div",28),_(2,"prettyjson"),s()),i&2){let e=d();a(),u("innerHTML",v(2,1,e.dataModel),bt)}}function _c(i,r){if(i&1){let e=w();n(0,"div",29)(1,"button",30),M("click",function(){C(e);let t=d();return h(t.onFormCancel())}),g(2,"i",31),m(3),_(4,"translate"),s()()}i&2&&(a(3),p(" ",v(4,1,"ACTION.CANCEL")," "))}var $i=class $i extends mt{constructor(e,o,t,l,f,c,D,oe,ie,le){super(l,new Ft,ie,le);this.data=e;this.dialogRef=o;this.coreEnumService=t;this.coreTokenUserBadLoginService=l;this.cmsToastrService=f;this.tokenHelper=c;this.cmsStoreService=D;this.cdr=oe;this.publicHelper=ie;this.translate=le;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new R;this.dataModel=new Ft;this.formInfo=new Y;this.dataModelEnumManageUserAccessAreaTypesResult=new R;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id)}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>B(this,null,function*(){this.tokenInfo=e}))),this.getEnumManageUserAccessAreaTypes()}getEnumManageUserAccessAreaTypes(){this.coreEnumService.ServiceManageUserAccessAreaTypesEnum().subscribe({next:e=>{this.dataModelEnumManageUserAccessAreaTypesResult=e}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(o=>{this.formInfo.submitResultMessage=o}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(o=>{this.publicHelper.processService.processStart(e,o,this.constructorInfoAreaId)}),this.coreTokenUserBadLoginService.setAccessLoad(),this.coreTokenUserBadLoginService.setAccessDataType(at.Editor),this.coreTokenUserBadLoginService.ServiceGetOneById(this.requestId).subscribe({next:o=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModel=o.item,o.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+o.item.id,this.formInfo.submitResultMessage=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=o.errorMessage,this.cmsToastrService.typeErrorMessage(o.errorMessage)),this.publicHelper.processService.processStop(e)},error:o=>{this.cmsToastrService.typeError(o),this.publicHelper.processService.processStop(e,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};$i.\u0275fac=function(o){return new(o||$i)(S(ee),S(Z),S(z),S(Ut),S(F),S(H),S(N),S(V),S(j),S(P))},$i.\u0275cmp=U({type:$i,selectors:[["app-core-site-domainalias-edit"]],viewQuery:function(o,t){if(o&1&&K(fc,5),o&2){let l;$(l=X())&&(t.formGroup=l.first)}},standalone:!1,features:[J],decls:49,vars:33,consts:[["UsedUsername",""],["UsedPwd",""],["UserAccessAreaType","ngModel"],["LinkDeviceId",""],["LinkApplicationId",""],["DeviceClientMAC",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.usedUsername",1,"color-highlight"],["matInput","","type","text","name","dataModel.usedUsername","placeholder","UsedUsername","id","dataModel.usedUsername",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.usedPwd",1,"color-highlight"],["matInput","","type","text","name","dataModel.usedPwd","placeholder","UsedPwd","id","dataModel.usedPwd",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[1,"input-style","has-borders","input-style-always-active","validate-field","no-icon","mb-4"],["id","dataModel.userAccessAreaType","name","dataModel.userAccessAreaType",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],["for","dataModel.linkDeviceId",1,"color-highlight"],["matInput","","type","text","name","dataModel.linkDeviceId","placeholder","LinkDeviceId","id","dataModel.linkDeviceId",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.linkApplicationId",1,"color-highlight"],["matInput","","type","text","name","dataModel.linkApplicationId","placeholder","LinkApplicationId","id","dataModel.linkApplicationId",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.deviceClientMAC",1,"color-highlight"],["matInput","","type","text","name","dataModel.deviceClientMAC","placeholder","DeviceClientMAC","id","dataModel.deviceClientMAC",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["class","form-actions",4,"ngIf"],[3,"value"],[3,"innerHTML"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(o,t){if(o&1){let l=w();n(0,"div",6),g(1,"app-progress-spinner",7),n(2,"div",8)(3,"p",9),m(4),s(),n(5,"p"),m(6),_(7,"translate"),s(),n(8,"div",10)(9,"label",11),m(10,"UsedUsername"),s(),n(11,"input",12,0),y("ngModelChange",function(c){return C(l),A(t.dataModel.usedUsername,c)||(t.dataModel.usedUsername=c),h(c)}),s()(),n(13,"div",10)(14,"label",13),m(15,"UsedPwd"),s(),n(16,"input",14,1),y("ngModelChange",function(c){return C(l),A(t.dataModel.usedPwd,c)||(t.dataModel.usedPwd=c),h(c)}),s()(),n(18,"div",15)(19,"select",16,2),y("ngModelChange",function(c){return C(l),A(t.dataModel.userAccessAreaType,c)||(t.dataModel.userAccessAreaType=c),h(c)}),T(21,Sc,2,2,"option",17),s(),n(22,"em"),m(23),_(24,"translate"),s(),T(25,Cc,5,3,"mat-error",18),s(),g(26,"app-cms-site-selector",19),_(27,"translate"),g(28,"app-cms-user-selector",19),_(29,"translate"),g(30,"app-cms-member-selector",19),_(31,"translate"),n(32,"div",10)(33,"label",20),m(34,"LinkDeviceId"),s(),n(35,"input",21,3),y("ngModelChange",function(c){return C(l),A(t.dataModel.linkDeviceId,c)||(t.dataModel.linkDeviceId=c),h(c)}),s()(),n(37,"div",10)(38,"label",22),m(39,"LinkApplicationId"),s(),n(40,"input",23,4),y("ngModelChange",function(c){return C(l),A(t.dataModel.linkApplicationId,c)||(t.dataModel.linkApplicationId=c),h(c)}),s()(),n(42,"div",10)(43,"label",24),m(44,"DeviceClientMAC"),s(),n(45,"input",25,5),y("ngModelChange",function(c){return C(l),A(t.dataModel.deviceClientMAC,c)||(t.dataModel.deviceClientMAC=c),h(c)}),s()(),T(47,hc,3,3,"div",18)(48,_c,5,3,"div",26),s()()}if(o&2){let l=Q(20);a(),u("optionsInfoAreaId",t.constructorInfoAreaId),a(3),p(" ",t.formInfo.formTitle," "),a(2),p(" ",v(7,23,"TITLE.Be_Careful_When_Entering_Information")," "),a(5),k("ngModel",t.dataModel.usedUsername),a(5),k("ngModel",t.dataModel.usedPwd),a(3),k("ngModel",t.dataModel.userAccessAreaType),a(2),u("ngForOf",t.dataModelEnumManageUserAccessAreaTypesResult.listItems),a(2),x(v(24,25,"TITLE.SELECT_STATUS")),a(2),u("ngIf",l.errors==null?null:l.errors.required),a(),u("optionDisabled",!0)("optionSelectForce",t.dataModel.linkSiteId)("optionPlaceholder",v(27,27,"TITLE.WEBSITE")),a(2),u("optionDisabled",!0)("optionSelectForce",t.dataModel.linkUserId)("optionPlaceholder",v(29,29,"TITLE.USER")),a(2),u("optionDisabled",!0)("optionSelectForce",t.dataModel.linkMemberId)("optionPlaceholder",v(31,31,"TITLE.Member")),a(5),k("ngModel",t.dataModel.linkDeviceId),a(5),k("ngModel",t.dataModel.linkApplicationId),a(5),k("ngModel",t.dataModel.deviceClientMAC),a(2),u("ngIf",t.tokenInfo.access.userAccessAdminAllowToProfessionalData),a(),u("ngIf",t.formInfo.submitButtonEnabled)}},dependencies:[Ci,O,Ti,bi,hi,vi,_i,gi,Ii,ve,ct,dt,Mi,te,G,Mt],encapsulation:2});var yo=$i;var gc=["vform"];function vc(i,r){if(i&1&&(n(0,"div",7),g(1,"i",11),n(2,"span",12),m(3),s()()),i&2){let e=d(2);a(3),x(e.formInfo.submitResultMessage)}}function Tc(i,r){if(i&1&&(n(0,"div",8),g(1,"i",13),n(2,"span",12),m(3),s()()),i&2){let e=d(2);a(3),x(e.formInfo.submitResultMessage)}}function bc(i,r){if(i&1&&(n(0,"div",9),g(1,"i",14),n(2,"span",12),m(3),s()()),i&2){let e=d(2);a(3),x(e.formInfo.submitResultMessage)}}function Ic(i,r){if(i&1&&(n(0,"div",10),g(1,"i",15),n(2,"span",12),m(3),s()()),i&2){let e=d(2);a(3),x(e.formInfo.submitResultMessage)}}function Mc(i,r){if(i&1&&ce(0,vc,4,1,"div",7)(1,Tc,4,1,"div",8)(2,bc,4,1,"div",9)(3,Ic,4,1,"div",10),i&2){let e,o=d();me((e=o.formInfo.submitResult)==="success"?0:e==="error"?1:e==="warning"?2:3)}}function wc(i,r){if(i&1){let e=w();n(0,"div",16)(1,"button",17),M("click",function(){C(e);let t=d();return h(t.onFormCancel())}),g(2,"i",18),m(3),_(4,"translate"),s()()}i&2&&(a(3),p(" ",v(4,1,"ACTION.CANCEL")," "))}var Xi=class Xi{constructor(r,e,o,t,l,f,c,D,oe,ie){this.data=r;this.dialogRef=e;this.coreEnumService=o;this.coreTokenUserBadLoginService=t;this.cmsToastrService=l;this.tokenHelper=f;this.cmsStoreService=c;this.cdr=D;this.publicHelper=oe;this.translate=ie;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.tokenInfo=new st;this.dataModelResult=new R;this.dataModel=new Ft;this.formInfo=new Y;this.dataModelEnumSendSmsStatusTypeResult=new R;this.fieldsInfo=new Map;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,r&&(this.requestId=r.id+"")}ngOnInit(){if(this.translate.get("TITLE.VIEW").subscribe(r=>{this.formInfo.formTitle=r}),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(r=>r.tokenInfoStore).subscribe(r=>B(this,null,function*(){this.tokenInfo=r}))),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:r=>{this.dataModelEnumSendSmsStatusTypeResult=r}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(r=>r.unsubscribe())}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage="";let r=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(r,e,this.constructorInfoAreaId)}),this.coreTokenUserBadLoginService.setAccessLoad(),this.coreTokenUserBadLoginService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModel=e.item,e.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+e.item.id,this.formInfo.submitResultMessage=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(o=>{this.formInfo.submitResultMessage=o}),this.formInfo.submitResultMessage=e.errorMessage,this.cmsToastrService.typeErrorMessage(e.errorMessage)),this.publicHelper.processService.processStop(r)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(r,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Xi.\u0275fac=function(e){return new(e||Xi)(S(ee),S(Z),S(z),S(Ut),S(F),S(H),S(N),S(V),S(j),S(P))},Xi.\u0275cmp=U({type:Xi,selectors:[["app-bankpayment-transactionlog-view"]],viewQuery:function(e,o){if(e&1&&K(gc,5),e&2){let t;$(t=X())&&(o.formGroup=t.first)}},standalone:!1,decls:9,vars:6,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection","loader-container"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],[1,"chip","chip-s","bg-green-dark"],[1,"chip","chip-s","bg-red-dark"],[1,"chip","chip-s","bg-yellow-dark"],[1,"chip","chip-s","bg-gray-dark"],[1,"fa","fa-check","color-white","bg-green-light"],[1,"color-white"],[1,"fa","fa-check","color-white","bg-red-light"],[1,"fa","fa-check","color-white","bg-yellow-light"],[1,"fa","fa-check","color-white","bg-gray-light"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,o){e&1&&(n(0,"div",0),m(1),s(),n(2,"div",1),g(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),s(),n(5,"div",4),ce(6,Mc,4,1),s(),n(7,"div",5),T(8,wc,5,3,"div",6),s()),e&2&&(a(),p(" ",o.formInfo.formTitle," "),a(2),u("optionsInfoAreaId",o.constructorInfoAreaId),a(),u("dataModel",o.dataModel)("optionMethod",1),a(2),me((o.formInfo==null||o.formInfo.submitResultMessage==null?null:o.formInfo.submitResultMessage.length)>0?6:-1),a(2),u("ngIf",o.formInfo.submitButtonEnabled))},dependencies:[O,te,pt,G],encapsulation:2});var Ro=Xi;var Ec=()=>[5,10,20,100];function kc(i,r){if(i&1){let e=w();n(0,"a",46),M("click",function(){C(e);let t=d();return h(t.onActionBackToParent())}),g(1,"i",47),s()}}function Ac(i,r){if(i&1){let e=w();n(0,"div",18)(1,"a",48),M("click",function(){C(e);let t=d();return h(t.onActionButtonEditRow(t.tableRowSelected))}),g(2,"i",49)(3,"br"),s(),n(4,"p",21),m(5),_(6,"translate"),s()()}i&2&&(a(5),p(" ",v(6,1,"ACTION.EDIT")," "))}function yc(i,r){if(i&1){let e=w();n(0,"div",18)(1,"a",50),M("click",function(){C(e);let t=d();return h(t.onActionButtonDeleteRow(t.tableRowSelected))}),g(2,"i",51)(3,"br"),s(),n(4,"p",21),m(5),_(6,"translate"),s()()}i&2&&(a(5),p(" ",v(6,1,"ACTION.DELETE")," "))}function Rc(i,r){if(i&1){let e=w();n(0,"div",18)(1,"a",52),M("click",function(){C(e);let t=d();return h(t.onActionButtonViewRow(t.tableRowSelected))}),g(2,"i",53)(3,"br"),s(),n(4,"p",21),m(5),_(6,"translate"),s()()}i&2&&(a(5),p(" ",v(6,1,"ACTION.VIEW")," "))}function Dc(i,r){if(i&1&&(n(0,"mat-header-cell",54),m(1),s()),i&2){let e=d();a(),p(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function xc(i,r){if(i&1&&(n(0,"mat-cell"),m(1),s()),i&2){let e=r.$implicit;a(),p(" ",e.id," ")}}function Lc(i,r){if(i&1&&(n(0,"mat-header-cell",54),m(1),s()),i&2){let e=d();a(),p(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function Uc(i,r){if(i&1&&(n(0,"mat-cell"),m(1),_(2,"cmssiteinfo"),_(3,"async"),s()),i&2){let e=r.$implicit;a(),p(" ",v(3,3,v(2,1,e.linkSiteId))," ")}}function Bc(i,r){if(i&1&&(n(0,"mat-header-cell",54),m(1),s()),i&2){let e=d();a(),p(" ",e.fieldsInfo.linkUserId==null?null:e.fieldsInfo.linkUserId.fieldTitle," ")}}function Vc(i,r){if(i&1&&(n(0,"mat-cell"),m(1),_(2,"cmsuserinfo"),_(3,"async"),s()),i&2){let e=r.$implicit;a(),p(" ",v(3,3,v(2,1,e.linkUserId))," ")}}function Oc(i,r){if(i&1&&(n(0,"mat-header-cell",54),m(1),s()),i&2){let e=d();a(),p(" ",e.fieldsInfo.linkMemberId==null?null:e.fieldsInfo.linkMemberId.fieldTitle," ")}}function Pc(i,r){if(i&1&&(n(0,"mat-cell"),m(1),s()),i&2){let e=r.$implicit;a(),p(" ",e.linkMemberId," ")}}function Gc(i,r){if(i&1&&(n(0,"mat-header-cell",54),m(1),s()),i&2){let e=d();a(),p(" ",e.fieldsInfo.userAccessAreaType==null?null:e.fieldsInfo.userAccessAreaType.fieldTitle," ")}}function Nc(i,r){if(i&1&&(n(0,"mat-cell"),m(1),_(2,"enums"),s()),i&2){let e=r.$implicit,o=d();a(),p(" ",ae(2,1,e.userAccessAreaType,o.dataModelEnumManageUserAccessAreaTypesResult.listItems)," ")}}function Hc(i,r){if(i&1&&(n(0,"mat-header-cell",54),m(1),s()),i&2){let e=d();a(),p(" ",e.fieldsInfo.usedUsername==null?null:e.fieldsInfo.usedUsername.fieldTitle," ")}}function Fc(i,r){if(i&1&&(n(0,"mat-cell"),m(1),s()),i&2){let e=r.$implicit;a(),p(" ",e.usedUsername," ")}}function jc(i,r){if(i&1&&(n(0,"mat-header-cell",54),m(1),s()),i&2){let e=d();a(),p(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function Wc(i,r){if(i&1&&(n(0,"mat-cell",55),m(1),_(2,"localeDateTime"),s()),i&2){let e=r.$implicit;a(),p(" ",v(2,1,e.createdDate)," ")}}function qc(i,r){i&1&&(n(0,"mat-header-cell"),m(1),_(2,"translate"),s()),i&2&&(a(),p(" ",v(2,1,"TITLE.OPTION")," "))}function Qc(i,r){if(i&1&&(n(0,"mat-cell",56)(1,"button",57)(2,"mat-icon"),m(3,"more_vert"),s()(),g(4,"mat-menu",null,2),s()),i&2){let e=Q(5);a(),u("matMenuTriggerFor",e)}}function zc(i,r){i&1&&g(0,"mat-header-row")}function Jc(i,r){if(i&1){let e=w();n(0,"mat-row",58),M("click",function(t){let l=C(e).$implicit,f=d();return h(f.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=C(e).$implicit,f=d();return h(f.onActionTableRowSelect(l,t))}),s()}if(i&2){let e=r.$implicit,o=d();be("ntk-row-selected",e.id===(o.tableRowSelected==null?null:o.tableRowSelected.id))}}var Yi=class Yi extends Xe{constructor(e,o,t,l,f,c,D,oe,ie,le,nt,wt,E){super(o,new Ft,wt,c,oe);this.coreEnumService=e;this.contentService=o;this.cmsToastrService=t;this.cmsConfirmationDialogService=l;this.activatedRoute=f;this.tokenHelper=c;this.cdr=D;this.translate=oe;this.cmsStoreService=ie;this.router=le;this.pageInfo=nt;this.publicHelper=wt;this.dialog=E;this.requestLinkSiteId=0;this.requestLinkUserId=0;this.requestLinkDeviceId=0;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new Ee;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["Id","LinkSiteId","LinkUserId","LinkMemberId","UserAccessAreaType","UsedUsername","CreatedDate"];this.tabledisplayedColumnsMobileSource=["Id","LinkSiteId","LinkUserId","LinkMemberId","UserAccessAreaType","UsedUsername","CreatedDate"];this.dataModelEnumManageUserAccessAreaTypesResult=new R;this.unsubscribe=[];if(this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkDeviceId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkDeviceId")),this.requestLinkSiteId>0){let gt=new W;gt.propertyName="LinkCmsSiteId",gt.value=this.requestLinkSiteId,this.filteModelContent.filters.push(gt)}if(this.requestLinkUserId>0){let gt=new W;gt.propertyName="LinkUserId",gt.value=this.requestLinkUserId,this.filteModelContent.filters.push(gt)}if(this.requestLinkDeviceId>0){let gt=new W;gt.propertyName="LinkDeviceId",gt.value=this.requestLinkDeviceId,this.filteModelContent.filters.push(gt)}this.optionsSearch.parentMethods={onSubmit:gt=>this.onSubmitOptionsSearch(gt)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=L.Descending}ngOnInit(){this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=L.Descending,this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>B(this,null,function*(){this.tokenInfo=e,this.DataGetAll()}))),this.getEnumManageUserAccessAreaTypes()}getEnumManageUserAccessAreaTypes(){this.coreEnumService.ServiceManageUserAccessAreaTypesEnum().subscribe({next:e=>{this.dataModelEnumManageUserAccessAreaTypesResult=e}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Ft);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let o=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(o.filters=[...this.filterDataModelQueryBuilder]),this.contentService.ServiceGetAllEditor(o).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=L.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=L.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=L.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonViewRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var o="";this.publicHelper.isMobile?o="dialog-fullscreen":o="dialog-min",this.dialog.open(Ro,{height:"90%",panelClass:o,enterAnimationDuration:q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var o="";this.publicHelper.isMobile?o="dialog-fullscreen":o="dialog-min",this.dialog.open(yo,{height:"90%",panelClass:o,enterAnimationDuration:q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(l=>{this.cmsToastrService.typeErrorSelected(l)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var o="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(l=>{o=l["MESSAGE.Please_Confirm"],t=l["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(o,t).then(l=>{if(l){let f=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(f,c,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(f)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(f,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let o=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{o.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{o.set(c,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(D=>{o.set(D,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}});let l=JSON.parse(JSON.stringify(this.filteModelContent)),f=new W;f.propertyName="RecordStatus",f.value=we.Available,l.filters.push(f),this.contentService.ServiceGetCount(l).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(D=>{o.set(D,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonViewUserRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkUserId||this.tableRowSelected.linkUserId===0){this.translate.get("MESSAGE.content_does_not_contain_user_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId])}onActionButtonViewMemberRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkDeviceId||this.tableRowSelected.linkDeviceId===0){this.translate.get("MESSAGE.Content_does_not_include_device_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/member/user/edit",this.tableRowSelected.linkMemberId])}onActionButtonViewSiteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkSiteId||this.tableRowSelected.linkSiteId===0){this.translate.get("MESSAGE.content_does_not_include_site_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId])}onActionButtonViewDeviceRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkDeviceId||this.tableRowSelected.linkDeviceId===0){this.translate.get("MESSAGE.Content_does_not_include_device_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkDeviceId])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};Yi.\u0275fac=function(o){return new(o||Yi)(S(z),S(Ut),S(F),S(Te),S(ke),S(H),S(V),S(P),S(N),S(Ae),S(Je),S(j),S(Re))},Yi.\u0275cmp=U({type:Yi,selectors:[["app-coretoken-user-list"]],standalone:!1,features:[J],decls:88,vars:41,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-globe","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-id-card-clip","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-mobile","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","LinkUserId"],["matColumnDef","LinkMemberId"],["matColumnDef","UserAccessAreaType"],["matColumnDef","UsedUsername"],["matColumnDef","CreatedDate"],["style","direction: ltr",4,"matCellDef"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","target","_blank","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],["mat-sort-header",""],[2,"direction","ltr"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(o,t){if(o&1){let l=w();n(0,"app-cms-html-list",3),y("optionActionGuideNoticeDisplayChange",function(c){return C(l),A(t.viewGuideNotice,c)||(t.viewGuideNotice=c),h(c)}),M("optionOnActionButtonMemoRow",function(){return C(l),h(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return C(l),h(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return C(l),h(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return C(l),h(t.onActionButtonPrintRow())}),b(1,4),m(2," -------------------------------------- "),I(),ne(3,5)(4,6),b(5,7),T(6,kc,2,0,"a",8),n(7,"a",9),M("click",function(){return C(l),h(t.viewGuideNotice=!t.viewGuideNotice)}),g(8,"i",10),s(),n(9,"a",9),M("click",function(){return C(l),h(t.onActionButtonReload())}),g(10,"i",11),s(),I(),b(11,12),n(12,"a",13),M("click",function(){return C(l),h(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),g(13,"mat-slide-toggle",14),m(14),_(15,"translate"),s(),n(16,"a",13),M("click",function(){return C(l),h(t.onActionButtonStatist())}),g(17,"mat-slide-toggle",14),m(18),_(19,"translate"),s(),I(),ne(20,15),b(21,16),T(22,Ac,7,3,"div",17)(23,yc,7,3,"div",17),n(24,"div",18)(25,"a",19),M("click",function(){return C(l),h(t.onActionButtonViewSiteRow(t.tableRowSelected))}),g(26,"i",20)(27,"br"),s(),n(28,"p",21),m(29),_(30,"translate"),s()(),n(31,"div",18)(32,"a",19),M("click",function(){return C(l),h(t.onActionButtonViewUserRow(t.tableRowSelected))}),g(33,"i",22)(34,"br"),s(),n(35,"p",21),m(36),_(37,"translate"),s()(),n(38,"div",18)(39,"a",19),M("click",function(){return C(l),h(t.onActionButtonViewMemberRow(t.tableRowSelected))}),g(40,"i",23)(41,"br"),s(),n(42,"p",21),m(43),_(44,"translate"),s()(),n(45,"div",18)(46,"a",19),M("click",function(){return C(l),h(t.onActionButtonViewDeviceRow(t.tableRowSelected))}),g(47,"i",24)(48,"br"),s(),n(49,"p",21),m(50),_(51,"translate"),s()(),T(52,Rc,7,3,"div",17),I(),b(53,25),n(54,"app-cms-search-list",26),y("optionsChange",function(c){return C(l),A(t.optionsSearch,c)||(t.optionsSearch=c),h(c)}),s(),n(55,"app-cms-statist-list",26),y("optionsChange",function(c){return C(l),A(t.optionsStatist,c)||(t.optionsStatist=c),h(c)}),s(),I(),b(56,27),n(57,"mat-table",28,0),M("matSortChange",function(){C(l);let c=Q(58);return h(t.onTableSortData(c))}),b(59,29),T(60,Dc,2,1,"mat-header-cell",30)(61,xc,2,1,"mat-cell",31),I(),b(62,32),T(63,Lc,2,1,"mat-header-cell",30)(64,Uc,4,5,"mat-cell",31),I(),b(65,33),T(66,Bc,2,1,"mat-header-cell",30)(67,Vc,4,5,"mat-cell",31),I(),b(68,34),T(69,Oc,2,1,"mat-header-cell",30)(70,Pc,2,1,"mat-cell",31),I(),b(71,35),T(72,Gc,2,1,"mat-header-cell",30)(73,Nc,3,4,"mat-cell",31),I(),b(74,36),T(75,Hc,2,1,"mat-header-cell",30)(76,Fc,2,1,"mat-cell",31),I(),b(77,37),T(78,jc,2,1,"mat-header-cell",30)(79,Wc,3,3,"mat-cell",38),I(),b(80,39),T(81,qc,3,3,"mat-header-cell",40)(82,Qc,6,1,"mat-cell",41),I(),T(83,zc,1,0,"mat-header-row",42)(84,Jc,1,2,"mat-row",43),s(),I(),b(85,44),n(86,"mat-paginator",45,1),M("page",function(c){return C(l),h(t.onTablePageingData(c))}),s(),I(),s()}o&2&&(u("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),k("optionActionGuideNoticeDisplay",t.viewGuideNotice),u("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),a(6),u("ngIf",t.requestLinkSiteId>0),a(7),u("checked",t.optionsSearch.data.show),a(),p("",v(15,28,"ACTION.SEARCH")," "),a(3),u("checked",t.optionsStatist.data.show),a(),p("",v(19,30,"ACTION.STATIST")," "),a(4),u("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),a(),u("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),a(6),p(" ",v(30,32,"ACTION.SITE")," "),a(7),p(" ",v(37,34,"ACTION.USER")," "),a(7),p(" ",v(44,36,"ACTION.MEMBER")," "),a(7),p(" ",v(51,38,"ACTION.DEVICE")," "),a(2),u("ngIf",(t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessWatchRow)&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0),a(2),k("options",t.optionsSearch),a(),k("options",t.optionsStatist),a(2),u("dataSource",t.tableSource),a(26),u("matHeaderRowDef",t.tabledisplayedColumns),a(),u("matRowDefColumns",t.tabledisplayedColumns),a(2),u("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",Ie(40,Ec)))},dependencies:[O,ye,De,xe,Le,Ue,Be,Ve,Oe,Pe,Ne,We,He,Ge,qe,Fe,je,Qe,ze,Ye,Ze,et,tt,Me,G,ot,Ke,it,$e],encapsulation:2});var di=Yi;var Kc=["vform"];function $c(i,r){if(i&1){let e=w();n(0,"app-cms-enum-record-status-selector",36),y("modelChange",function(t){C(e);let l=d();return A(l.dataModel.recordStatus,t)||(l.dataModel.recordStatus=t),h(t)}),s()}if(i&2){let e=d();k("model",e.dataModel.recordStatus),u("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Xc(i,r){if(i&1&&(n(0,"option",37),m(1),s()),i&2){let e=r.$implicit;u("value",e.value),a(),p(" ",e.description," ")}}function Yc(i,r){i&1&&(n(0,"mat-error"),m(1," LinkMemberId is "),n(2,"strong"),m(3),_(4,"translate"),s()()),i&2&&(a(3),x(v(4,1,"MESSAGE.required")))}function Zc(i,r){if(i&1&&(n(0,"option",37),m(1),s()),i&2){let e=r.$implicit;u("value",e.value),a(),p(" ",e.description," ")}}function em(i,r){i&1&&(n(0,"mat-error"),m(1," UserAccessAreaType is "),n(2,"strong"),m(3),_(4,"translate"),s()()),i&2&&(a(3),x(v(4,1,"MESSAGE.required")))}function tm(i,r){if(i&1){let e=w();n(0,"div",38)(1,"div",39)(2,"h5",40),m(3),s()(),n(4,"div",41)(5,"div",42)(6,"input",43),y("ngModelChange",function(t){C(e);let l=d();return A(l.dataModel.userAccessAdminAllowToAllData,t)||(l.dataModel.userAccessAdminAllowToAllData=t),h(t)}),s(),g(7,"label",44),s()()()}if(i&2){let e=d();a(3),p(" ",e.fieldsInfo.userAccessAdminAllowToAllData==null?null:e.fieldsInfo.userAccessAdminAllowToAllData.fieldTitle," "),a(3),k("ngModel",e.dataModel.userAccessAdminAllowToAllData)}}function im(i,r){if(i&1){let e=w();n(0,"div",38)(1,"div",39)(2,"h5",45),m(3),s()(),n(4,"div",41)(5,"div",42)(6,"input",46),y("ngModelChange",function(t){C(e);let l=d();return A(l.dataModel.userAccessAdminAllowToProfessionalData,t)||(l.dataModel.userAccessAdminAllowToProfessionalData=t),h(t)}),s(),g(7,"label",47),s()()()}if(i&2){let e=d();a(3),p(" ",e.fieldsInfo.userAccessAdminAllowToProfessionalData==null?null:e.fieldsInfo.userAccessAdminAllowToProfessionalData.fieldTitle," "),a(3),k("ngModel",e.dataModel.userAccessAdminAllowToProfessionalData)}}function om(i,r){if(i&1){let e=w();n(0,"div",38)(1,"div",39)(2,"h5",48),m(3),s()(),n(4,"div",41)(5,"div",42)(6,"input",49),y("ngModelChange",function(t){C(e);let l=d();return A(l.dataModel.rememberOnDevice,t)||(l.dataModel.rememberOnDevice=t),h(t)}),s(),g(7,"label",50),s()()()}if(i&2){let e=d();a(3),p(" ",e.fieldsInfo.rememberOnDevice==null?null:e.fieldsInfo.rememberOnDevice.fieldTitle," "),a(3),k("ngModel",e.dataModel.rememberOnDevice)}}function nm(i,r){if(i&1){let e=w();n(0,"div",51)(1,"label",52),m(2),s(),n(3,"input",53),y("ngModelChange",function(t){C(e);let l=d();return A(l.dataModel.tokenExpireDate,t)||(l.dataModel.tokenExpireDate=t),h(t)}),s(),g(4,"mat-datepicker-toggle",54)(5,"mat-datepicker",55,8),s()}if(i&2){let e=Q(6),o=d();a(2),x(o.fieldsInfo.tokenExpireDate==null?null:o.fieldsInfo.tokenExpireDate.fieldTitle),a(),u("matDatepicker",e),k("ngModel",o.dataModel.tokenExpireDate),a(),u("for",e)}}function rm(i,r){if(i&1&&(n(0,"div"),g(1,"div",56),_(2,"prettyjson"),s()),i&2){let e=d();a(),u("innerHTML",v(2,1,e.dataModel),bt)}}function am(i,r){if(i&1){let e=w();n(0,"div",57)(1,"button",58),M("click",function(){C(e);let t=d();return h(t.onFormCancel())}),g(2,"i",59),m(3),_(4,"translate"),s()()}i&2&&(a(3),p(" ",v(4,1,"ACTION.CANCEL")," "))}var Zi=class Zi extends mt{constructor(e,o,t,l,f,c,D,oe,ie,le){super(l,new Ot,ie,le);this.data=e;this.dialogRef=o;this.coreEnumService=t;this.coreLogTokenUserService=l;this.cmsToastrService=f;this.tokenHelper=c;this.cmsStoreService=D;this.cdr=oe;this.publicHelper=ie;this.translate=le;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new At;this.dataModel=new Ot;this.formInfo=new Y;this.dataModelEnumManageUserAccessAreaTypesResult=new R;this.dataModelEnumManageUserAccessUserTypesResult=new R;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id)}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>B(this,null,function*(){this.tokenInfo=e}))),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){this.coreEnumService.ServiceManageUserAccessAreaTypesEnum().subscribe({next:e=>{this.dataModelEnumManageUserAccessAreaTypesResult=e}})}getEnumManageUserAccessUserTypes(){this.coreEnumService.ServiceManageUserAccessUserTypesEnum().subscribe({next:e=>{this.dataModelEnumManageUserAccessUserTypesResult=e}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(o=>{this.formInfo.submitResultMessage=o}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(o=>{this.publicHelper.processService.processStart(e,o,this.constructorInfoAreaId)}),this.coreLogTokenUserService.setAccessLoad(),this.coreLogTokenUserService.setAccessDataType(at.Editor),this.coreLogTokenUserService.ServiceGetOneById(this.requestId).subscribe({next:o=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModel=o.item,o.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+o.item.id,this.formInfo.submitResultMessage=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=o.errorMessage,this.cmsToastrService.typeErrorMessage(o.errorMessage)),this.publicHelper.processService.processStop(e)},error:o=>{this.cmsToastrService.typeError(o),this.publicHelper.processService.processStop(e,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Zi.\u0275fac=function(o){return new(o||Zi)(S(ee),S(Z),S(z),S(yt),S(F),S(H),S(N),S(V),S(j),S(P))},Zi.\u0275cmp=U({type:Zi,selectors:[["app-core-site-domainalias-edit"]],viewQuery:function(o,t){if(o&1&&K(Kc,5),o&2){let l;$(l=X())&&(t.formGroup=l.first)}},standalone:!1,features:[J],decls:67,vars:45,consts:[["LinkMemberId","ngModel"],["UserAccessAreaType","ngModel"],["BrowserLanguage",""],["UserLanguage",""],["LinkDeviceId",""],["LinkApplicationId",""],["DeviceClientMAC",""],["Token",""],["tokenExpireDate",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[1,"input-style","has-borders","input-style-always-active","validate-field","no-icon","mb-4"],["id","dataModel.linkMemberId","name","dataModel.linkMemberId",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["id","dataModel.userAccessAreaType","name","dataModel.userAccessAreaType",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],["class","d-flex mb-3",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.browserLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.browserLanguage","placeholder","BrowserLanguage","id","dataModel.browserLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.userLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.userLanguage","placeholder","UserLanguage","id","dataModel.userLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.linkDeviceId",1,"color-highlight"],["matInput","","type","text","name","dataModel.linkDeviceId","placeholder","LinkDeviceId","id","dataModel.linkDeviceId",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.linkApplicationId",1,"color-highlight"],["matInput","","type","text","name","dataModel.linkApplicationId","placeholder","LinkApplicationId","id","dataModel.linkApplicationId",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.deviceClientMAC",1,"color-highlight"],["matInput","","type","text","name","dataModel.deviceClientMAC","placeholder","DeviceClientMAC","id","dataModel.deviceClientMAC",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.token",1,"color-highlight"],["matInput","","type","text","name","dataModel.token","placeholder","Token","id","dataModel.token",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4 cms-input-group",4,"ngIf"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"value"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.userAccessAdminAllowToAllData",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.userAccessAdminAllowToAllData","name","dataModel.userAccessAdminAllowToAllData",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.userAccessAdminAllowToAllData",1,"custom-control-label"],["data-trigger-switch","dataModel.userAccessAdminAllowToProfessionalData",1,"font-600","font-14"],["type","checkbox","id","dataModel.userAccessAdminAllowToProfessionalData","name","dataModel.userAccessAdminAllowToProfessionalData",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.userAccessAdminAllowToProfessionalData",1,"custom-control-label"],["data-trigger-switch","dataModel.rememberOnDevice",1,"font-600","font-14"],["type","checkbox","id","dataModel.rememberOnDevice","name","dataModel.rememberOnDevice",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.rememberOnDevice",1,"custom-control-label"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],["for","dataModel.tokenExpireDate",1,"color-highlight"],["matInput","","type","text","name","dataModel.tokenExpireDate","id","dataModel.tokenExpireDate",1,"form-control","validate-name",3,"ngModelChange","matDatepicker","ngModel"],["matSuffix","",3,"for"],["touchUi",""],[3,"innerHTML"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(o,t){if(o&1){let l=w();n(0,"div",9),g(1,"app-progress-spinner",10),n(2,"div",11)(3,"p",12),m(4),s(),n(5,"p"),m(6),_(7,"translate"),s(),T(8,$c,1,5,"app-cms-enum-record-status-selector",13),n(9,"div",14)(10,"select",15,0),y("ngModelChange",function(c){return C(l),A(t.dataModel.linkMemberId,c)||(t.dataModel.linkMemberId=c),h(c)}),T(12,Xc,2,2,"option",16),s(),n(13,"em"),m(14),_(15,"translate"),s(),T(16,Yc,5,3,"mat-error",17),s(),n(17,"div",14)(18,"select",18,1),y("ngModelChange",function(c){return C(l),A(t.dataModel.userAccessAreaType,c)||(t.dataModel.userAccessAreaType=c),h(c)}),T(20,Zc,2,2,"option",16),s(),n(21,"em"),m(22),_(23,"translate"),s(),T(24,em,5,3,"mat-error",17),s(),g(25,"app-cms-site-selector",19),_(26,"translate"),g(27,"app-cms-user-selector",19),_(28,"translate"),g(29,"app-cms-member-selector",19),_(30,"translate"),T(31,tm,8,2,"div",20)(32,im,8,2,"div",20)(33,om,8,2,"div",20),n(34,"div",21)(35,"label",22),m(36,"BrowserLanguage"),s(),n(37,"input",23,2),y("ngModelChange",function(c){return C(l),A(t.dataModel.browserLanguage,c)||(t.dataModel.browserLanguage=c),h(c)}),s()(),n(39,"div",21)(40,"label",24),m(41,"UserLanguage"),s(),n(42,"input",25,3),y("ngModelChange",function(c){return C(l),A(t.dataModel.userLanguage,c)||(t.dataModel.userLanguage=c),h(c)}),s()(),n(44,"div",21)(45,"label",26),m(46,"LinkDeviceId"),s(),n(47,"input",27,4),y("ngModelChange",function(c){return C(l),A(t.dataModel.linkDeviceId,c)||(t.dataModel.linkDeviceId=c),h(c)}),s()(),n(49,"div",21)(50,"label",28),m(51,"LinkApplicationId"),s(),n(52,"input",29,5),y("ngModelChange",function(c){return C(l),A(t.dataModel.linkApplicationId,c)||(t.dataModel.linkApplicationId=c),h(c)}),s()(),n(54,"div",21)(55,"label",30),m(56,"DeviceClientMAC"),s(),n(57,"input",31,6),y("ngModelChange",function(c){return C(l),A(t.dataModel.deviceClientMAC,c)||(t.dataModel.deviceClientMAC=c),h(c)}),s()(),n(59,"div",21)(60,"label",32),m(61,"Token"),s(),n(62,"input",33,7),y("ngModelChange",function(c){return C(l),A(t.dataModel.token,c)||(t.dataModel.token=c),h(c)}),s()(),T(64,nm,7,4,"div",34)(65,rm,3,3,"div",17)(66,am,5,3,"div",35),s()()}if(o&2){let l=Q(11),f=Q(19);a(),u("optionsInfoAreaId",t.constructorInfoAreaId),a(3),p(" ",t.formInfo.formTitle," "),a(2),p(" ",v(7,33,"TITLE.Be_Careful_When_Entering_Information")," "),a(2),u("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),a(2),k("ngModel",t.dataModel.linkMemberId),a(2),u("ngForOf",t.dataModelEnumManageUserAccessUserTypesResult.listItems),a(2),x(v(15,35,"TITLE.SELECT_STATUS")),a(2),u("ngIf",l.errors==null?null:l.errors.required),a(2),k("ngModel",t.dataModel.userAccessAreaType),a(2),u("ngForOf",t.dataModelEnumManageUserAccessAreaTypesResult.listItems),a(2),x(v(23,37,"TITLE.SELECT_STATUS")),a(2),u("ngIf",f.errors==null?null:f.errors.required),a(),u("optionDisabled",!0)("optionSelectForce",t.dataModel.linkSiteId)("optionPlaceholder",v(26,39,"TITLE.WEBSITE")),a(2),u("optionDisabled",!0)("optionSelectForce",t.dataModel.linkUserId)("optionPlaceholder",v(28,41,"TITLE.USER")),a(2),u("optionDisabled",!0)("optionSelectForce",t.dataModel.linkMemberId)("optionPlaceholder",v(30,43,"TITLE.Member")),a(2),u("ngIf",t.fieldsInfo.userAccessAdminAllowToAllData==null?null:t.fieldsInfo.userAccessAdminAllowToAllData.accessWatchField),a(),u("ngIf",t.fieldsInfo.userAccessAdminAllowToProfessionalData==null?null:t.fieldsInfo.userAccessAdminAllowToProfessionalData.accessWatchField),a(),u("ngIf",t.fieldsInfo.rememberOnDevice==null?null:t.fieldsInfo.rememberOnDevice.accessWatchField),a(4),k("ngModel",t.dataModel.browserLanguage),a(5),k("ngModel",t.dataModel.userLanguage),a(5),k("ngModel",t.dataModel.linkDeviceId),a(5),k("ngModel",t.dataModel.linkApplicationId),a(5),k("ngModel",t.dataModel.deviceClientMAC),a(5),k("ngModel",t.dataModel.token),a(2),u("ngIf",t.fieldsInfo.tokenExpireDate==null?null:t.fieldsInfo.tokenExpireDate.accessWatchField),a(),u("ngIf",t.tokenInfo.access.userAccessAdminAllowToProfessionalData),a(),u("ngIf",t.formInfo.submitButtonEnabled)}},dependencies:[Ci,O,Ti,bi,hi,ao,vi,_i,gi,lo,co,mo,Ii,so,ve,ct,St,dt,Mi,te,G,Mt],encapsulation:2});var Do=Zi;var sm=["vform"];function lm(i,r){if(i&1&&(n(0,"div",7),g(1,"i",11),n(2,"span",12),m(3),s()()),i&2){let e=d(2);a(3),x(e.formInfo.submitResultMessage)}}function cm(i,r){if(i&1&&(n(0,"div",8),g(1,"i",13),n(2,"span",12),m(3),s()()),i&2){let e=d(2);a(3),x(e.formInfo.submitResultMessage)}}function mm(i,r){if(i&1&&(n(0,"div",9),g(1,"i",14),n(2,"span",12),m(3),s()()),i&2){let e=d(2);a(3),x(e.formInfo.submitResultMessage)}}function dm(i,r){if(i&1&&(n(0,"div",10),g(1,"i",15),n(2,"span",12),m(3),s()()),i&2){let e=d(2);a(3),x(e.formInfo.submitResultMessage)}}function pm(i,r){if(i&1&&ce(0,lm,4,1,"div",7)(1,cm,4,1,"div",8)(2,mm,4,1,"div",9)(3,dm,4,1,"div",10),i&2){let e,o=d();me((e=o.formInfo.submitResult)==="success"?0:e==="error"?1:e==="warning"?2:3)}}function um(i,r){if(i&1){let e=w();n(0,"div",16)(1,"button",17),M("click",function(){C(e);let t=d();return h(t.onFormCancel())}),g(2,"i",18),m(3),_(4,"translate"),s()()}i&2&&(a(3),p(" ",v(4,1,"ACTION.CANCEL")," "))}var eo=class eo{constructor(r,e,o,t,l,f,c,D,oe,ie){this.data=r;this.dialogRef=e;this.coreEnumService=o;this.coreLogTokenUserService=t;this.cmsToastrService=l;this.tokenHelper=f;this.cmsStoreService=c;this.cdr=D;this.publicHelper=oe;this.translate=ie;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.tokenInfo=new st;this.dataModelResult=new R;this.dataModel=new Ot;this.formInfo=new Y;this.dataModelEnumSendSmsStatusTypeResult=new R;this.fieldsInfo=new Map;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,r&&(this.requestId=r.id+"")}ngOnInit(){if(this.translate.get("TITLE.VIEW").subscribe(r=>{this.formInfo.formTitle=r}),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(r=>r.tokenInfoStore).subscribe(r=>B(this,null,function*(){this.tokenInfo=r}))),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:r=>{this.dataModelEnumSendSmsStatusTypeResult=r}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(r=>r.unsubscribe())}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage="";let r=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(r,e,this.constructorInfoAreaId)}),this.coreLogTokenUserService.setAccessLoad(),this.coreLogTokenUserService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModel=e.item,e.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+e.item.id,this.formInfo.submitResultMessage=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(o=>{this.formInfo.submitResultMessage=o}),this.formInfo.submitResultMessage=e.errorMessage,this.cmsToastrService.typeErrorMessage(e.errorMessage)),this.publicHelper.processService.processStop(r)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(r,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};eo.\u0275fac=function(e){return new(e||eo)(S(ee),S(Z),S(z),S(yt),S(F),S(H),S(N),S(V),S(j),S(P))},eo.\u0275cmp=U({type:eo,selectors:[["app-bankpayment-transactionlog-view"]],viewQuery:function(e,o){if(e&1&&K(sm,5),e&2){let t;$(t=X())&&(o.formGroup=t.first)}},standalone:!1,decls:9,vars:6,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection","loader-container"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],[1,"chip","chip-s","bg-green-dark"],[1,"chip","chip-s","bg-red-dark"],[1,"chip","chip-s","bg-yellow-dark"],[1,"chip","chip-s","bg-gray-dark"],[1,"fa","fa-check","color-white","bg-green-light"],[1,"color-white"],[1,"fa","fa-check","color-white","bg-red-light"],[1,"fa","fa-check","color-white","bg-yellow-light"],[1,"fa","fa-check","color-white","bg-gray-light"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,o){e&1&&(n(0,"div",0),m(1),s(),n(2,"div",1),g(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),s(),n(5,"div",4),ce(6,pm,4,1),s(),n(7,"div",5),T(8,um,5,3,"div",6),s()),e&2&&(a(),p(" ",o.formInfo.formTitle," "),a(2),u("optionsInfoAreaId",o.constructorInfoAreaId),a(),u("dataModel",o.dataModel)("optionMethod",1),a(2),me((o.formInfo==null||o.formInfo.submitResultMessage==null?null:o.formInfo.submitResultMessage.length)>0?6:-1),a(2),u("ngIf",o.formInfo.submitButtonEnabled))},dependencies:[O,te,pt,G],encapsulation:2});var xo=eo;var fm=()=>["expandedTitle"],Sm=()=>[5,10,20,100];function Cm(i,r){if(i&1){let e=w();n(0,"a",45),M("click",function(){C(e);let t=d();return h(t.onActionBackToParent())}),g(1,"i",46),s()}}function hm(i,r){if(i&1){let e=w();n(0,"div",47)(1,"a",48),M("click",function(){C(e);let t=d();return h(t.onActionButtonEditRow(t.tableRowSelected))}),g(2,"i",49)(3,"br"),s(),n(4,"p",50),m(5),_(6,"translate"),s()()}i&2&&(a(5),p(" ",v(6,1,"ACTION.EDIT")," "))}function _m(i,r){if(i&1){let e=w();n(0,"div",47)(1,"a",51),M("click",function(){C(e);let t=d();return h(t.onActionButtonDeleteRow(t.tableRowSelected))}),g(2,"i",52)(3,"br"),s(),n(4,"p",50),m(5),_(6,"translate"),s()()}i&2&&(a(5),p(" ",v(6,1,"ACTION.DELETE")," "))}function gm(i,r){if(i&1){let e=w();n(0,"div",47)(1,"a",53),M("click",function(){C(e);let t=d();return h(t.onActionButtonViewSiteRow(t.tableRowSelected))}),g(2,"i",54)(3,"br"),s(),n(4,"p",50),m(5),_(6,"translate"),s()()}i&2&&(a(5),p(" ",v(6,1,"ACTION.SITE")," "))}function vm(i,r){if(i&1){let e=w();n(0,"div",47)(1,"a",53),M("click",function(){C(e);let t=d();return h(t.onActionButtonViewUserRow(t.tableRowSelected))}),g(2,"i",55)(3,"br"),s(),n(4,"p",50),m(5),_(6,"translate"),s()()}i&2&&(a(5),p(" ",v(6,1,"ACTION.USER")," "))}function Tm(i,r){if(i&1){let e=w();n(0,"div",47)(1,"a",53),M("click",function(){C(e);let t=d();return h(t.onActionButtonViewDeviceRow(t.tableRowSelected))}),g(2,"i",56)(3,"br"),s(),n(4,"p",50),m(5),_(6,"translate"),s()()}i&2&&(a(5),p(" ",v(6,1,"ACTION.DEVICE")," "))}function bm(i,r){if(i&1){let e=w();n(0,"div",47)(1,"a",57),M("click",function(){C(e);let t=d();return h(t.onActionButtonViewRow(t.tableRowSelected))}),g(2,"i",58)(3,"br"),s(),n(4,"p",50),m(5),_(6,"translate"),s()()}i&2&&(a(5),p(" ",v(6,1,"ACTION.VIEW")," "))}function Im(i,r){if(i&1){let e=w();n(0,"mat-row",59),M("click",function(t){let l=C(e).$implicit,f=d();return h(f.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=C(e).$implicit,f=d();return h(f.onActionTableRowSelect(l,t))})("mouseenter",function(){let t=C(e).$implicit,l=d();return h(l.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=C(e).$implicit,l=d();return h(l.onActionTableRowMouseLeave(t))}),s()}if(i&2){let e=r.$implicit,o=d();be("ntk-row-selected",e.id===(o.tableRowSelected==null?null:o.tableRowSelected.id))}}function Mm(i,r){if(i&1&&(n(0,"mat-header-cell",60),m(1),s()),i&2){let e=d();a(),p(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function wm(i,r){if(i&1&&(n(0,"mat-cell"),m(1),s()),i&2){let e=r.$implicit;a(),p(" ",e.id," ")}}function Em(i,r){if(i&1&&(n(0,"mat-header-cell",60),m(1),s()),i&2){let e=d();a(),p(" ",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle," ")}}function km(i,r){if(i&1&&(n(0,"mat-cell"),m(1),s()),i&2){let e=r.$implicit;a(),p(" ",e.description," ")}}function Am(i,r){if(i&1&&(n(0,"mat-header-cell",60),m(1),s()),i&2){let e=d();a(),p(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function ym(i,r){if(i&1&&(n(0,"mat-cell"),m(1),_(2,"cmssiteinfo"),_(3,"async"),s()),i&2){let e=r.$implicit;a(),p(" ",v(3,3,v(2,1,e.linkSiteId))," ")}}function Rm(i,r){if(i&1&&(n(0,"mat-header-cell",60),m(1),s()),i&2){let e=d();a(),p(" ",e.fieldsInfo.linkUserId==null?null:e.fieldsInfo.linkUserId.fieldTitle," ")}}function Dm(i,r){if(i&1&&(n(0,"mat-cell"),m(1),_(2,"cmsuserinfo"),_(3,"async"),s()),i&2){let e=r.$implicit;a(),p(" ",v(3,3,v(2,1,e.linkUserId))," ")}}function xm(i,r){if(i&1&&(n(0,"mat-header-cell",60),m(1),s()),i&2){let e=d();a(),p(" ",e.fieldsInfo.linkMemberUserId==null?null:e.fieldsInfo.linkMemberUserId.fieldTitle," ")}}function Lm(i,r){if(i&1&&(n(0,"mat-cell"),m(1),s()),i&2){let e=r.$implicit;a(),p(" ",e.linkMemberUserId," ")}}function Um(i,r){if(i&1&&(n(0,"mat-header-cell",60),m(1),s()),i&2){let e=d();a(),p(" ",e.fieldsInfo.userAccessAreaType==null?null:e.fieldsInfo.userAccessAreaType.fieldTitle," ")}}function Bm(i,r){if(i&1&&(n(0,"mat-cell"),m(1),_(2,"enums"),s()),i&2){let e=r.$implicit,o=d();a(),p(" ",ae(2,1,e.userAccessAreaType,o.dataModelEnumManageUserAccessAreaTypesResult.listItems)," ")}}function Vm(i,r){if(i&1&&(n(0,"mat-header-cell",60),m(1),s()),i&2){let e=d();a(),p(" ",e.fieldsInfo.userType==null?null:e.fieldsInfo.userType.fieldTitle," ")}}function Om(i,r){if(i&1&&(n(0,"mat-cell"),m(1),_(2,"enums"),s()),i&2){let e=r.$implicit,o=d();a(),p(" ",ae(2,1,e.userType,o.dataModelEnumManageUserAccessUserTypesResult.listItems)," ")}}function Pm(i,r){if(i&1&&(n(0,"mat-header-cell",60),m(1),s()),i&2){let e=d();a(),p(" ",e.fieldsInfo.userAccessAdminAllowToAllData==null?null:e.fieldsInfo.userAccessAdminAllowToAllData.fieldTitle," ")}}function Gm(i,r){if(i&1&&(n(0,"mat-cell"),g(1,"i",61),_(2,"boolclass"),s()),i&2){let e=r.$implicit;a(),u("ngClass",v(2,1,e.userAccessAdminAllowToAllData))}}function Nm(i,r){if(i&1&&(n(0,"mat-header-cell",60),m(1),s()),i&2){let e=d();a(),p(" ",e.fieldsInfo.userAccessAdminAllowToProfessionalData==null?null:e.fieldsInfo.userAccessAdminAllowToProfessionalData.fieldTitle," ")}}function Hm(i,r){if(i&1&&(n(0,"mat-cell"),g(1,"i",61),_(2,"boolclass"),s()),i&2){let e=r.$implicit;a(),u("ngClass",v(2,1,e.userAccessAdminAllowToProfessionalData))}}function Fm(i,r){if(i&1&&(n(0,"mat-header-cell",60),m(1),s()),i&2){let e=d();a(),p(" ",e.fieldsInfo.rememberOnDevice==null?null:e.fieldsInfo.rememberOnDevice.fieldTitle," ")}}function jm(i,r){if(i&1&&(n(0,"mat-cell"),g(1,"i",61),_(2,"boolclass"),s()),i&2){let e=r.$implicit;a(),u("ngClass",v(2,1,e.rememberOnDevice))}}function Wm(i,r){if(i&1&&(n(0,"mat-header-cell",60),m(1),s()),i&2){let e=d();a(),p(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function qm(i,r){if(i&1&&(n(0,"mat-cell",62),m(1),_(2,"localeDateTime"),s()),i&2){let e=r.$implicit;a(),p(" ",v(2,1,e.createdDate)," ")}}function Qm(i,r){i&1&&(n(0,"mat-header-cell"),m(1),_(2,"translate"),s()),i&2&&(a(),p(" ",v(2,1,"TITLE.OPTION")," "))}function zm(i,r){if(i&1&&(n(0,"mat-cell",63)(1,"button",64)(2,"mat-icon"),m(3,"more_vert"),s()(),g(4,"mat-menu",null,2),s()),i&2){let e=Q(5);a(),u("matMenuTriggerFor",e)}}function Jm(i,r){i&1&&g(0,"mat-header-row")}function Km(i,r){if(i&1){let e=w();n(0,"mat-row",65),M("click",function(t){let l=C(e).$implicit,f=d();return h(f.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=C(e).$implicit,f=d();return h(f.onActionTableRowSelect(l,t))}),s()}if(i&2){let e=r.$implicit,o=d();be("ntk-row-selected",e.id===(o.tableRowSelected==null?null:o.tableRowSelected.id))}}function $m(i,r){if(i&1&&(n(0,"mat-cell"),m(1),_(2,"translate"),g(3,"br"),m(4),_(5,"translate"),g(6,"br"),m(7),_(8,"translate"),_(9,"cmssiteinfo"),_(10,"async"),g(11,"br"),m(12),_(13,"translate"),_(14,"cmsuserinfo"),_(15,"async"),g(16,"br"),m(17),_(18,"translate"),_(19,"localeDateTime"),s()),i&2){let e=r.$implicit;a(),Si(" ",v(2,10,"TITLE.Id")," : ",e.id," "),a(3),Si(" ",v(5,12,"TITLE.Description")," : ",e.description," "),a(3),Si(" ",v(8,14,"TITLE.Site_Id")," : ",v(10,18,v(9,16,e.linkSiteId))," "),a(5),Si(" ",v(13,20,"TITLE.User_Id")," : ",v(15,24,v(14,22,e.linkUserId))," "),a(5),Si(" ",v(18,26,"TITLE.CreationDate")," : ",v(19,28,e.createdDate)," ")}}var to=class to extends Xe{constructor(e,o,t,l,f,c,D,oe,ie,le,nt,wt){super(e,new Ot,nt,f,oe);this.contentService=e;this.cmsToastrService=o;this.cmsConfirmationDialogService=t;this.activatedRoute=l;this.tokenHelper=f;this.cdr=c;this.cmsStoreService=D;this.translate=oe;this.router=ie;this.pageInfo=le;this.publicHelper=nt;this.dialog=wt;this.requestLinkSiteId=0;this.requestLinkUserId=0;this.requestLinkDeviceId=0;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new Ee;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["UserAccessAreaType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice"];this.tabledisplayedColumnsMobileSource=["UserAccessAreaType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice"];this.dataModelEnumManageUserAccessAreaTypesResult=new R;this.dataModelEnumManageUserAccessUserTypesResult=new R;this.unsubscribe=[];if(this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkDeviceId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkDeviceId")),this.requestLinkSiteId>0){let E=new W;E.propertyName="LinkCmsSiteId",E.value=this.requestLinkSiteId,this.filteModelContent.filters.push(E)}if(this.requestLinkUserId>0){let E=new W;E.propertyName="LinkUserId",E.value=this.requestLinkUserId,this.filteModelContent.filters.push(E)}if(this.requestLinkDeviceId>0){let E=new W;E.propertyName="LinkDeviceId",E.value=this.requestLinkDeviceId,this.filteModelContent.filters.push(E)}this.optionsSearch.parentMethods={onSubmit:E=>this.onSubmitOptionsSearch(E)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=L.Descending}ngOnInit(){this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=L.Descending,this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>B(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Ot);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let o=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(o.filters=[...this.filterDataModelQueryBuilder]),this.contentService.ServiceGetAllEditor(o).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=L.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=L.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=L.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonViewRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var o="";this.publicHelper.isMobile?o="dialog-fullscreen":o="dialog-min",this.dialog.open(xo,{height:"90%",panelClass:o,enterAnimationDuration:q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var o="";this.publicHelper.isMobile?o="dialog-fullscreen":o="dialog-min",this.dialog.open(Do,{height:"90%",panelClass:o,enterAnimationDuration:q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(l=>{this.cmsToastrService.typeErrorSelected(l)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var o="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(l=>{o=l["MESSAGE.Please_Confirm"],t=l["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(o,t).then(l=>{if(l){let f=this.constructor.name+"ServiceDelete";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(f,c,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(f)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(f,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let o=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{o.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{o.set(c,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(D=>{o.set(D,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}});let l=JSON.parse(JSON.stringify(this.filteModelContent)),f=new W;f.propertyName="RecordStatus",f.value=we.Available,l.filters.push(f),this.contentService.ServiceGetCount(l).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(D=>{o.set(D,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonViewUserRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkUserId||this.tableRowSelected.linkUserId===0){this.translate.get("MESSAGE.content_does_not_contain_user_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId])}onActionButtonViewMemberRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkDeviceId||this.tableRowSelected.linkDeviceId===0){this.translate.get("MESSAGE.Content_does_not_include_device_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/member/user/edit",this.tableRowSelected.linkMemberId])}onActionButtonViewSiteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkSiteId||this.tableRowSelected.linkSiteId===0){this.translate.get("MESSAGE.content_does_not_include_site_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId])}onActionButtonViewDeviceRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkDeviceId||this.tableRowSelected.linkDeviceId===0){this.translate.get("MESSAGE.Content_does_not_include_device_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkDeviceId])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};to.\u0275fac=function(o){return new(o||to)(S(yt),S(F),S(Te),S(ke),S(H),S(V),S(N),S(P),S(Ae),S(Je),S(j),S(Re))},to.\u0275cmp=U({type:to,selectors:[["app-coretoken-user-list"]],standalone:!1,features:[J],decls:78,vars:34,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","","multiTemplateDataRows","",3,"matSortChange","dataSource"],["class","ntk-row-expandedTitle",3,"ntk-row-selected","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","Description"],["matColumnDef","LinkSiteId"],["matColumnDef","LinkUserId"],["matColumnDef","LinkMemberUserId"],["matColumnDef","UserAccessAreaType"],["matColumnDef","UserType"],["matColumnDef","UserAccessAdminAllowToAllData"],["matColumnDef","UserAccessAdminAllowToProfessionalData"],["matColumnDef","RememberOnDevice"],["matColumnDef","CreatedDate"],["style","direction: ltr",4,"matCellDef"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["matColumnDef","expandedTitle"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-globe","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-mobile","font-18",2,"color","#ffffff"],["type","button","target","_blank","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],[1,"ntk-row-expandedTitle",3,"click","rtclick","mouseenter","mouseleave"],["mat-sort-header",""],[3,"ngClass"],[2,"direction","ltr"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(o,t){if(o&1){let l=w();n(0,"app-cms-html-list",3),y("optionActionGuideNoticeDisplayChange",function(c){return C(l),A(t.viewGuideNotice,c)||(t.viewGuideNotice=c),h(c)}),M("optionOnActionButtonMemoRow",function(){return C(l),h(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return C(l),h(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return C(l),h(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return C(l),h(t.onActionButtonPrintRow())}),b(1,4),m(2," -------------------------------------- "),I(),ne(3,5)(4,6),b(5,7),T(6,Cm,2,0,"a",8),n(7,"a",9),M("click",function(){return C(l),h(t.viewGuideNotice=!t.viewGuideNotice)}),g(8,"i",10),s(),n(9,"a",9),M("click",function(){return C(l),h(t.onActionButtonReload())}),g(10,"i",11),s(),I(),b(11,12),n(12,"a",13),M("click",function(){return C(l),h(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),g(13,"mat-slide-toggle",14),m(14),_(15,"translate"),s(),n(16,"a",13),M("click",function(){return C(l),h(t.onActionButtonStatist())}),g(17,"mat-slide-toggle",14),m(18),_(19,"translate"),s(),I(),ne(20,15),b(21,16),T(22,hm,7,3,"div",17)(23,_m,7,3,"div",17)(24,gm,7,3,"div",17)(25,vm,7,3,"div",17)(26,Tm,7,3,"div",17)(27,bm,7,3,"div",17),I(),b(28,18),n(29,"app-cms-search-list",19),y("optionsChange",function(c){return C(l),A(t.optionsSearch,c)||(t.optionsSearch=c),h(c)}),s(),n(30,"app-cms-statist-list",19),y("optionsChange",function(c){return C(l),A(t.optionsStatist,c)||(t.optionsStatist=c),h(c)}),s(),I(),b(31,20),n(32,"mat-table",21,0),M("matSortChange",function(){C(l);let c=Q(33);return h(t.onTableSortData(c))}),T(34,Im,1,2,"mat-row",22),b(35,23),T(36,Mm,2,1,"mat-header-cell",24)(37,wm,2,1,"mat-cell",25),I(),b(38,26),T(39,Em,2,1,"mat-header-cell",24)(40,km,2,1,"mat-cell",25),I(),b(41,27),T(42,Am,2,1,"mat-header-cell",24)(43,ym,4,5,"mat-cell",25),I(),b(44,28),T(45,Rm,2,1,"mat-header-cell",24)(46,Dm,4,5,"mat-cell",25),I(),b(47,29),T(48,xm,2,1,"mat-header-cell",24)(49,Lm,2,1,"mat-cell",25),I(),b(50,30),T(51,Um,2,1,"mat-header-cell",24)(52,Bm,3,4,"mat-cell",25),I(),b(53,31),T(54,Vm,2,1,"mat-header-cell",24)(55,Om,3,4,"mat-cell",25),I(),b(56,32),T(57,Pm,2,1,"mat-header-cell",24)(58,Gm,3,3,"mat-cell",25),I(),b(59,33),T(60,Nm,2,1,"mat-header-cell",24)(61,Hm,3,3,"mat-cell",25),I(),b(62,34),T(63,Fm,2,1,"mat-header-cell",24)(64,jm,3,3,"mat-cell",25),I(),b(65,35),T(66,Wm,2,1,"mat-header-cell",24)(67,qm,3,3,"mat-cell",36),I(),b(68,37),T(69,Qm,3,3,"mat-header-cell",38)(70,zm,6,1,"mat-cell",39),I(),T(71,Jm,1,0,"mat-header-row",40)(72,Km,1,2,"mat-row",41),b(73,42),T(74,$m,20,30,"mat-cell",25),I(),s(),I(),b(75,43),n(76,"mat-paginator",44,1),M("page",function(c){return C(l),h(t.onTablePageingData(c))}),s(),I(),s()}o&2&&(u("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),k("optionActionGuideNoticeDisplay",t.viewGuideNotice),u("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),a(6),u("ngIf",t.requestLinkSiteId>0),a(7),u("checked",t.optionsSearch.data.show),a(),p("",v(15,28,"ACTION.SEARCH")," "),a(3),u("checked",t.optionsStatist.data.show),a(),p("",v(19,30,"ACTION.STATIST")," "),a(4),u("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),a(),u("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),a(),u("ngIf",(t.tableRowSelected==null?null:t.tableRowSelected.linkSiteId)>0),a(),u("ngIf",(t.tableRowSelected==null?null:t.tableRowSelected.linkUserId)>0),a(),u("ngIf",(t.tableRowSelected==null||t.tableRowSelected.deviceClientMAC==null?null:t.tableRowSelected.deviceClientMAC.length)>0),a(),u("ngIf",(t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessWatchRow)&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0),a(2),k("options",t.optionsSearch),a(),k("options",t.optionsStatist),a(2),u("dataSource",t.tableSource),a(2),u("matRowDefColumns",Ie(32,fm)),a(37),u("matHeaderRowDef",t.tabledisplayedColumns),a(),u("matRowDefColumns",t.tabledisplayedColumns),a(4),u("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",Ie(33,Sm)))},dependencies:[rt,O,ye,De,xe,Le,Ue,Be,Ve,Oe,Pe,Ne,We,He,Ge,qe,Fe,je,Qe,ze,Ye,Ze,et,tt,Me,G,ot,Ke,it,$e,lt],encapsulation:2});var pi=to;var Xm=()=>[5,10,20,100],Ym=i=>({display:i}),Zm=i=>({background:i});function ed(i,r){if(i&1){let e=w();n(0,"a",51),M("click",function(){C(e);let t=d();return h(t.onActionBackToParent())}),g(1,"i",52),s()}}function td(i,r){if(i&1){let e=w();n(0,"div",18)(1,"a",53),M("click",function(){C(e);let t=d();return h(t.onActionButtonEditRow(t.tableRowSelected))}),g(2,"i",54)(3,"br"),s(),n(4,"p",21),m(5),_(6,"translate"),s()()}i&2&&(a(5),p(" ",v(6,1,"ACTION.EDIT")," "))}function id(i,r){if(i&1){let e=w();n(0,"div",18)(1,"a",55),M("click",function(){C(e);let t=d();return h(t.onActionButtonDeleteRow(t.tableRowSelected))}),g(2,"i",56)(3,"br"),s(),n(4,"p",21),m(5),_(6,"translate"),s()()}i&2&&(a(5),p(" ",v(6,1,"ACTION.DELETE")," "))}function od(i,r){if(i&1){let e=w();n(0,"div",18)(1,"a",57),M("click",function(){C(e);let t=d();return h(t.onActionButtonViewRow(t.tableRowSelected))}),g(2,"i",58)(3,"br"),s(),n(4,"p",21),m(5),_(6,"translate"),s()()}i&2&&(a(5),p(" ",v(6,1,"ACTION.VIEW")," "))}function nd(i,r){if(i&1&&(n(0,"mat-header-cell",59),m(1),s()),i&2){let e=d();a(),p(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function rd(i,r){if(i&1&&(n(0,"mat-cell"),m(1),s()),i&2){let e=r.$implicit;a(),p(" ",e.id," ")}}function ad(i,r){if(i&1&&(n(0,"mat-header-cell",59),m(1),s()),i&2){let e=d();a(),p(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function sd(i,r){if(i&1&&(n(0,"mat-cell"),m(1),_(2,"cmssiteinfo"),_(3,"async"),s()),i&2){let e=r.$implicit;a(),p(" ",v(3,3,v(2,1,e.linkSiteId))," ")}}function ld(i,r){if(i&1&&(n(0,"mat-header-cell",59),m(1),s()),i&2){let e=d();a(),p(" ",e.fieldsInfo.linkUserId==null?null:e.fieldsInfo.linkUserId.fieldTitle," ")}}function cd(i,r){if(i&1&&(n(0,"mat-cell"),m(1),_(2,"cmsuserinfo"),_(3,"async"),s()),i&2){let e=r.$implicit;a(),p(" ",v(3,3,v(2,1,e.linkUserId))," ")}}function md(i,r){if(i&1&&(n(0,"mat-header-cell",59),m(1),s()),i&2){let e=d();a(),p(" ",e.fieldsInfo.linkMemberUserId==null?null:e.fieldsInfo.linkMemberUserId.fieldTitle," ")}}function dd(i,r){if(i&1&&(n(0,"mat-cell"),m(1),s()),i&2){let e=r.$implicit;a(),p(" ",e.linkMemberUserId," ")}}function pd(i,r){if(i&1&&(n(0,"mat-header-cell",59),m(1),s()),i&2){let e=d();a(),p(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function ud(i,r){if(i&1&&g(0,"select",62),i&2){let e=d().$implicit,o=d();u("contentService",o.contentService)("row",e)("ngStyle",ge(3,Ym,e.id===(o.tableRowSelected==null?null:o.tableRowSelected.id)?"":"none"))}}function fd(i,r){if(i&1&&(n(0,"mat-cell",60),_(1,"statusCellClass"),g(2,"i",60),_(3,"statusIconClass"),T(4,ud,1,5,"select",61),s()),i&2){let e=r.$implicit,o=d();u("ngClass",v(1,3,e.recordStatus)),a(2),u("ngClass",v(3,5,e.recordStatus)),a(2),u("ngIf",o.dataModelResult==null||o.dataModelResult.access==null?null:o.dataModelResult.access.accessEditRow)}}function Sd(i,r){if(i&1&&(n(0,"mat-header-cell",59),m(1),s()),i&2){let e=d();a(),p(" ",e.fieldsInfo.userAccessAreaType==null?null:e.fieldsInfo.userAccessAreaType.fieldTitle," ")}}function Cd(i,r){if(i&1&&(n(0,"mat-cell"),m(1),_(2,"enums"),s()),i&2){let e=r.$implicit,o=d();a(),p(" ",ae(2,1,e.userAccessAreaType,o.dataModelEnumManageUserAccessAreaTypesResult.listItems)," ")}}function hd(i,r){if(i&1&&(n(0,"mat-header-cell",59),m(1),s()),i&2){let e=d();a(),p(" ",e.fieldsInfo.userType==null?null:e.fieldsInfo.userType.fieldTitle," ")}}function _d(i,r){if(i&1&&(n(0,"mat-cell"),m(1),_(2,"enums"),s()),i&2){let e=r.$implicit,o=d();a(),p(" ",ae(2,1,e.userType,o.dataModelEnumManageUserAccessUserTypesResult.listItems)," ")}}function gd(i,r){if(i&1&&(n(0,"mat-header-cell",59),m(1),s()),i&2){let e=d();a(),p(" ",e.fieldsInfo.userAccessAdminAllowToAllData==null?null:e.fieldsInfo.userAccessAdminAllowToAllData.fieldTitle," ")}}function vd(i,r){if(i&1&&(n(0,"mat-cell"),g(1,"i",60),_(2,"boolclass"),s()),i&2){let e=r.$implicit;a(),u("ngClass",v(2,1,e.userAccessAdminAllowToAllData))}}function Td(i,r){if(i&1&&(n(0,"mat-header-cell",59),m(1),s()),i&2){let e=d();a(),p(" ",e.fieldsInfo.userAccessAdminAllowToProfessionalData==null?null:e.fieldsInfo.userAccessAdminAllowToProfessionalData.fieldTitle," ")}}function bd(i,r){if(i&1&&(n(0,"mat-cell"),g(1,"i",60),_(2,"boolclass"),s()),i&2){let e=r.$implicit;a(),u("ngClass",v(2,1,e.userAccessAdminAllowToProfessionalData))}}function Id(i,r){if(i&1&&(n(0,"mat-header-cell",59),m(1),s()),i&2){let e=d();a(),p(" ",e.fieldsInfo.rememberOnDevice==null?null:e.fieldsInfo.rememberOnDevice.fieldTitle," ")}}function Md(i,r){if(i&1&&(n(0,"mat-cell"),g(1,"i",60),_(2,"boolclass"),s()),i&2){let e=r.$implicit;a(),u("ngClass",v(2,1,e.rememberOnDevice))}}function wd(i,r){if(i&1&&(n(0,"mat-header-cell",59),m(1),s()),i&2){let e=d();a(),p(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function Ed(i,r){if(i&1&&(n(0,"mat-cell",63),m(1),_(2,"localeDateTime"),s()),i&2){let e=r.$implicit;a(),p(" ",v(2,1,e.createdDate)," ")}}function kd(i,r){if(i&1&&(n(0,"mat-header-cell",59),m(1),s()),i&2){let e=d();a(),p(" ",e.fieldsInfo.expireDate==null?null:e.fieldsInfo.expireDate.fieldTitle," ")}}function Ad(i,r){if(i&1&&(n(0,"mat-cell",64),m(1),_(2,"persianDate"),s()),i&2){let e=r.$implicit,o=d();u("ngStyle",ge(4,Zm,o.publicHelper.RowStyleExpireDate(e.expireDate))),a(),p(" ",v(2,2,e.expireDate)," ")}}function yd(i,r){i&1&&(n(0,"mat-header-cell"),m(1),_(2,"translate"),s()),i&2&&(a(),p(" ",v(2,1,"TITLE.OPTION")," "))}function Rd(i,r){if(i&1&&(n(0,"mat-cell",65)(1,"button",66)(2,"mat-icon"),m(3,"more_vert"),s()(),g(4,"mat-menu",null,2),s()),i&2){let e=Q(5);a(),u("matMenuTriggerFor",e)}}function Dd(i,r){i&1&&g(0,"mat-header-row")}function xd(i,r){if(i&1){let e=w();n(0,"mat-row",67),M("click",function(t){let l=C(e).$implicit,f=d();return h(f.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=C(e).$implicit,f=d();return h(f.onActionTableRowSelect(l,t))}),s()}if(i&2){let e=r.$implicit,o=d();be("ntk-row-selected",e.id===(o.tableRowSelected==null?null:o.tableRowSelected.id))}}var io=class io extends Xe{constructor(e,o,t,l,f,c,D,oe,ie,le,nt,wt){super(e,new Tt,nt,f,D);this.contentService=e;this.cmsToastrService=o;this.cmsConfirmationDialogService=t;this.activatedRoute=l;this.tokenHelper=f;this.cdr=c;this.translate=D;this.cmsStoreService=oe;this.router=ie;this.pageInfo=le;this.publicHelper=nt;this.dialog=wt;this.requestLinkSiteId=0;this.requestLinkUserId=0;this.requestLinkDeviceId=0;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new Ee;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["Id","LinkSiteId","LinkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","CreatedDate","ExpireDate"];this.tabledisplayedColumnsMobileSource=["Id","LinkSiteId","LinkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","CreatedDate","ExpireDate"];this.dataModelEnumManageUserAccessAreaTypesResult=new R;this.dataModelEnumManageUserAccessUserTypesResult=new R;this.unsubscribe=[];if(this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkDeviceId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkDeviceId")),this.requestLinkSiteId>0){let E=new W;E.propertyName="LinkCmsSiteId",E.value=this.requestLinkSiteId,this.filteModelContent.filters.push(E)}if(this.requestLinkUserId>0){let E=new W;E.propertyName="LinkUserId",E.value=this.requestLinkUserId,this.filteModelContent.filters.push(E)}if(this.requestLinkDeviceId>0){let E=new W;E.propertyName="LinkDeviceId",E.value=this.requestLinkDeviceId,this.filteModelContent.filters.push(E)}this.optionsSearch.parentMethods={onSubmit:E=>this.onSubmitOptionsSearch(E)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=L.Descending}ngOnInit(){this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=L.Descending,this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>B(this,null,function*(){this.tokenInfo=e,this.DataGetAll()}))),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.processOrderStore).subscribe(e=>B(this,null,function*(){var o=e.find(t=>t.contentAction=="core_token_online_update_list"&&!t.isRun);o&&o?.id?.length>0&&(o.isRun=!0,this.publicHelper.setProcessOrder(o),this.DataGetAll(t=>{o.isComplate=!0,o.isSuccess=t,this.publicHelper.setProcessOrder(o)}))})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(e=()=>{}){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Tt);let o=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(l=>{this.publicHelper.processService.processStart(o,l,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let t=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(t.filters=[...this.filterDataModelQueryBuilder]),this.contentService.ServiceGetAllLiveConnection(t).subscribe({next:l=>{l.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(l.access),this.dataModelResult=l,this.tableSource.data=l.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(l.access)},1e3)):this.cmsToastrService.typeErrorMessage(l.errorMessage),this.publicHelper.processService.processStop(o),e&&e(!0)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(o,!1),e&&e(!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=L.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=L.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=L.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonViewRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var o="";this.publicHelper.isMobile?o="dialog-fullscreen":o="dialog-min",this.dialog.open(qi,{height:"90%",panelClass:o,enterAnimationDuration:q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var o="";this.publicHelper.isMobile?o="dialog-fullscreen":o="dialog-min",this.dialog.open(ji,{height:"90%",panelClass:o,enterAnimationDuration:q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(l=>{this.cmsToastrService.typeErrorSelected(l)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var o="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(l=>{o=l["MESSAGE.Please_Confirm"],t=l["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(o,t).then(l=>{if(l){let f=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(f,c,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(f)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(f,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let o=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{o.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{o.set(c,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(D=>{o.set(D,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}});let l=JSON.parse(JSON.stringify(this.filteModelContent)),f=new W;f.propertyName="RecordStatus",f.value=we.Available,l.filters.push(f),this.contentService.ServiceGetCount(l).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(D=>{o.set(D,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonViewUserRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkUserId||this.tableRowSelected.linkUserId===0){this.translate.get("MESSAGE.content_does_not_contain_user_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId])}onActionButtonViewSiteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkSiteId||this.tableRowSelected.linkSiteId===0){this.translate.get("MESSAGE.content_does_not_include_site_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};io.\u0275fac=function(o){return new(o||io)(S(It),S(F),S(Te),S(ke),S(H),S(V),S(P),S(N),S(Ae),S(Je),S(j),S(Re))},io.\u0275cmp=U({type:io,selectors:[["app-coretoken-notification-list-online"]],standalone:!1,features:[J],decls:89,vars:35,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-globe","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","LinkUserId"],["matColumnDef","LinkMemberUserId"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","UserAccessAreaType"],["matColumnDef","UserType"],["matColumnDef","UserAccessAdminAllowToAllData"],["matColumnDef","UserAccessAdminAllowToProfessionalData"],["matColumnDef","RememberOnDevice"],["matColumnDef","CreatedDate"],["style","direction: ltr",4,"matCellDef"],["matColumnDef","ExpireDate"],[3,"ngStyle",4,"matCellDef"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","target","_blank","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[2,"direction","ltr"],[3,"ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(o,t){if(o&1){let l=w();n(0,"app-cms-html-list",3),y("optionActionGuideNoticeDisplayChange",function(c){return C(l),A(t.viewGuideNotice,c)||(t.viewGuideNotice=c),h(c)}),M("optionOnActionButtonMemoRow",function(){return C(l),h(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return C(l),h(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return C(l),h(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return C(l),h(t.onActionButtonPrintRow())}),b(1,4),m(2," -------------------------------------- "),I(),ne(3,5)(4,6),b(5,7),T(6,ed,2,0,"a",8),n(7,"a",9),M("click",function(){return C(l),h(t.viewGuideNotice=!t.viewGuideNotice)}),g(8,"i",10),s(),n(9,"a",9),M("click",function(){return C(l),h(t.onActionButtonReload())}),g(10,"i",11),s(),I(),b(11,12),n(12,"a",13),M("click",function(){return C(l),h(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),g(13,"mat-slide-toggle",14),m(14),_(15,"translate"),s(),n(16,"a",13),M("click",function(){return C(l),h(t.onActionButtonStatist())}),g(17,"mat-slide-toggle",14),m(18),_(19,"translate"),s(),I(),ne(20,15),b(21,16),T(22,td,7,3,"div",17)(23,id,7,3,"div",17),n(24,"div",18)(25,"a",19),M("click",function(){return C(l),h(t.onActionButtonViewSiteRow(t.tableRowSelected))}),g(26,"i",20)(27,"br"),s(),n(28,"p",21),m(29),_(30,"translate"),s()(),n(31,"div",18)(32,"a",19),M("click",function(){return C(l),h(t.onActionButtonViewUserRow(t.tableRowSelected))}),g(33,"i",22)(34,"br"),s(),n(35,"p",21),m(36),_(37,"translate"),s()(),T(38,od,7,3,"div",17),I(),b(39,23),n(40,"app-cms-search-list",24),y("optionsChange",function(c){return C(l),A(t.optionsSearch,c)||(t.optionsSearch=c),h(c)}),s(),n(41,"app-cms-statist-list",24),y("optionsChange",function(c){return C(l),A(t.optionsStatist,c)||(t.optionsStatist=c),h(c)}),s(),I(),b(42,25),n(43,"mat-table",26,0),M("matSortChange",function(){C(l);let c=Q(44);return h(t.onTableSortData(c))}),b(45,27),T(46,nd,2,1,"mat-header-cell",28)(47,rd,2,1,"mat-cell",29),I(),b(48,30),T(49,ad,2,1,"mat-header-cell",28)(50,sd,4,5,"mat-cell",29),I(),b(51,31),T(52,ld,2,1,"mat-header-cell",28)(53,cd,4,5,"mat-cell",29),I(),b(54,32),T(55,md,2,1,"mat-header-cell",28)(56,dd,2,1,"mat-cell",29),I(),b(57,33),T(58,pd,2,1,"mat-header-cell",28)(59,fd,5,7,"mat-cell",34),I(),b(60,35),T(61,Sd,2,1,"mat-header-cell",28)(62,Cd,3,4,"mat-cell",29),I(),b(63,36),T(64,hd,2,1,"mat-header-cell",28)(65,_d,3,4,"mat-cell",29),I(),b(66,37),T(67,gd,2,1,"mat-header-cell",28)(68,vd,3,3,"mat-cell",29),I(),b(69,38),T(70,Td,2,1,"mat-header-cell",28)(71,bd,3,3,"mat-cell",29),I(),b(72,39),T(73,Id,2,1,"mat-header-cell",28)(74,Md,3,3,"mat-cell",29),I(),b(75,40),T(76,wd,2,1,"mat-header-cell",28)(77,Ed,3,3,"mat-cell",41),I(),b(78,42),T(79,kd,2,1,"mat-header-cell",28)(80,Ad,3,6,"mat-cell",43),I(),b(81,44),T(82,yd,3,3,"mat-header-cell",45)(83,Rd,6,1,"mat-cell",46),I(),T(84,Dd,1,0,"mat-header-row",47)(85,xd,1,2,"mat-row",48),s(),I(),b(86,49),n(87,"mat-paginator",50,1),M("page",function(c){return C(l),h(t.onTablePageingData(c))}),s(),I(),s()}o&2&&(u("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),k("optionActionGuideNoticeDisplay",t.viewGuideNotice),u("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),a(6),u("ngIf",t.requestLinkSiteId>0),a(7),u("checked",t.optionsSearch.data.show),a(),p("",v(15,26,"ACTION.SEARCH")," "),a(3),u("checked",t.optionsStatist.data.show),a(),p("",v(19,28,"ACTION.STATIST")," "),a(4),u("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),a(),u("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),a(6),p(" ",v(30,30,"ACTION.SITE")," "),a(7),p(" ",v(37,32,"ACTION.USER")," "),a(2),u("ngIf",(t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessWatchRow)&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0),a(2),k("options",t.optionsSearch),a(),k("options",t.optionsStatist),a(2),u("dataSource",t.tableSource),a(41),u("matHeaderRowDef",t.tabledisplayedColumns),a(),u("matRowDefColumns",t.tabledisplayedColumns),a(2),u("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",Ie(34,Xm)))},dependencies:[rt,O,ft,ye,De,ve,xe,Le,Ue,Be,Ve,Oe,Pe,Ne,We,He,Ge,qe,Fe,je,Qe,ze,Ye,Ze,et,tt,Ct,Me,G,vt,ot,Ke,it,$e,ht,_t,lt],encapsulation:2});var Lo=io;var Ld=[{path:"",component:So,data:{title:"ROUTE.CORETOKEN"},children:[{path:"user",component:mi,data:{title:"ROUTE.CORETOKEN.USER"}},{path:"user/LinkSiteId/:LinkSiteId",component:mi,data:{title:"ROUTE.CORETOKEN.USER"}},{path:"user/LinkUserId/:LinkUserId",component:mi,data:{title:"ROUTE.CORETOKEN.USER"}},{path:"user/LinkDeviceId/:LinkDeviceId",component:mi,data:{title:"ROUTE.CORETOKEN.USER"}},{path:"userlog",component:pi,data:{title:"ROUTE.CORETOKEN.USERLOG"}},{path:"userlog/LinkSiteId/:LinkSiteId",component:pi,data:{title:"ROUTE.CORETOKEN.USERLOG"}},{path:"userlog/LinkUserId/:LinkUserId",component:pi,data:{title:"ROUTE.CORETOKEN.USERLOG"}},{path:"userlog/LinkDeviceId/:LinkDeviceId",component:pi,data:{title:"ROUTE.CORETOKEN.USERLOG"}},{path:"userbadlogin",component:di,data:{title:"ROUTE.CORETOKEN.USERBADLOGIN"}},{path:"userbadlogin/LinkSiteId/:LinkSiteId",component:di,data:{title:"ROUTE.CORETOKEN.USERBADLOGIN"}},{path:"userbadlogin/LinkUserId/:LinkUserId",component:di,data:{title:"ROUTE.CORETOKEN.USERBADLOGIN"}},{path:"userbadlogin/LinkDeviceId/:LinkDeviceId",component:di,data:{title:"ROUTE.CORETOKEN.USERBADLOGIN"}},{path:"activation",component:fo,data:{title:"ROUTE.CORETOKEN.ACTIVATION"}},{path:"microservice",component:bo,data:{title:"ROUTE.CORETOKEN.MICROSERVICE"}},{path:"microservicelog",component:_o,data:{title:"ROUTE.CORETOKEN.MICROSERVICELOG"}},{path:"notification",component:Eo,data:{title:"ROUTE.CORETOKEN.NOTIFICATION"}},{path:"online",component:Lo,data:{title:"ROUTE.CORETOKEN.NOTIFICATION"}},{path:"notificationlog",component:wo,data:{title:"ROUTE.CORETOKEN.NOTIFICATIONLOG"}}]}],ui=class ui{};ui.\u0275fac=function(e){return new(e||ui)},ui.\u0275mod=ro({type:ui}),ui.\u0275inj=no({imports:[Bo.forChild(Ld),Bo]});var Uo=ui;var fi=class fi{};fi.\u0275fac=function(e){return new(e||fi)},fi.\u0275mod=ro({type:fi}),fi.\u0275inj=no({providers:[Oo,z,Lt,yt,Ut,xt,Bt,Rt,It,Dt,Po,Te],imports:[Uo,Vo,jo,Wo.withConfig({warnOnNgModelWithFormControl:"never"}),qo]});var Ko=fi;export{Ko as CoreTokenModule};
