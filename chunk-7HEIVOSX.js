import{a as fi}from"./chunk-2JTWFKVB.js";import{a as mo}from"./chunk-PQTOJKGA.js";import{a as Nt}from"./chunk-E5BH276Y.js";import{a as oi}from"./chunk-XWFZ3L2H.js";import{a as ia}from"./chunk-ICJ7MIO2.js";import{a as wt}from"./chunk-CX4ABWPF.js";import{a as na}from"./chunk-BO6LOMMS.js";import{a as Ue}from"./chunk-4E6U4HE6.js";import{a as ni}from"./chunk-K33TURJC.js";import{a as Bt}from"./chunk-YYSRF5EW.js";import{a as he}from"./chunk-JEF4OJ24.js";import{a as ii}from"./chunk-7DEHQSB7.js";import{b as so,c as co,d as bt,e as Se,f as Ce,i as vt}from"./chunk-FMZK63QH.js";import{a as Le}from"./chunk-4WAMJFSW.js";import"./chunk-QXNCAA7F.js";import{a as ti}from"./chunk-BNK7WLOJ.js";import{a as Lt}from"./chunk-Z2W2TVLQ.js";import"./chunk-NQXRH7AD.js";import{a as ui}from"./chunk-XZCPJE47.js";import{a as Vt}from"./chunk-XPUQI67V.js";import{a as Fe}from"./chunk-LSZD76DU.js";import{a as lo,b as ta}from"./chunk-3RHHJRHJ.js";import"./chunk-7DUNEHBM.js";import"./chunk-T2SWGMVG.js";import{a as ei}from"./chunk-IXPEP4O3.js";import"./chunk-5DHIOXLL.js";import{a as ge}from"./chunk-PH5IBDIY.js";import{a as Hi}from"./chunk-HGNWVODT.js";import{a as U,d as Pi}from"./chunk-5CUEEOJ3.js";import{a as ea,e as Tt,f as O}from"./chunk-NSI52VTG.js";import{$a as io,A as it,Ba as nt,Cb as F,Da as j,Db as B,Ja as jo,Ka as rt,La as lt,Oa as pe,Pb as ro,Qb as Zo,Ua as ue,Wa as st,Xa as ct,a as qe,ab as no,bb as oo,c as Po,cb as ao,da as $n,ea as eo,eb as dt,fa as to,fb as mt,gb as pt,hb as ut,ib as ft,jb as _t,kb as gt,lb as St,m as Jn,ma as me,mb as Ct,na as we,nb as ht,oa as je,pb as Uo,rc as fe,s as We,tb as Qo,u as Wo,ub as Ko,uc as _e,v as Yn,vb as zo,wb as Jo,wc as H,x as Xn,xb as Yo,y as Zn,zb as Xo,zc as $o}from"./chunk-WIVKQDM4.js";import{A as Re,B as De,C as xe,F as Ho,G as qo,c as se,h as ce,i as Ee,k as ye,l as Kn,m as ve,n as Ae,r as zn}from"./chunk-QRBNL5ZA.js";import{$h as Xt,Cc as No,D as Gi,H as W,K as Dt,La as Bo,Ln as q,Nh as Ze,Oh as Fo,Th as Kt,Uh as yo,Vh as $e,Wb as mi,Wh as xt,Xh as Mt,_h as Oo,ai as et,ba as K,bi as Qn,ci as Go,d as Me,di as Zt,e as xo,ei as tt,f as de,fa as Vo,fi as $t,gi as pi,l as Eo,m as at,o as Lo,p as Rt,q as Q,u as Y,v as Z,y as li}from"./chunk-2ZWWK4AL.js";import{Ab as w,Ad as Do,Cb as vi,Db as Oe,Dc as C,Eb as Ge,Ec as h,Fb as g,Fc as Yt,Ga as At,Gb as r,Hb as a,Ib as _,K as On,Mb as k,Nb as M,O as Gn,Ob as ie,Pb as I,Qa as Xe,Ra as Qt,Sb as T,Ua as Jt,Ub as d,Va as o,Vb as jn,Wb as Un,Xa as bi,Xc as N,Yb as oe,Z as Pn,Zb as ae,_ as Hn,_b as re,cb as b,cc as D,ec as G,ga as qn,hc as c,ib as V,ic as R,jb as Wn,jc as S,kc as le,ld as ke,mb as P,nc as E,ob as x,oc as y,pa as m,pc as A,qa as p,rd as Pe,s as Nn,t as Fn,tc as L,td as He,uc as ri,xb as Ve,xc as ne,yc as Ne,zb as v}from"./chunk-2AL2II5Z.js";import{i as te}from"./chunk-SEDBTTTN.js";var qi=class qi{constructor(){this.constructorInfoAreaId=this.constructor.name}ngOnInit(){}};qi.\u0275fac=function(e){return new(e||qi)},qi.\u0275cmp=V({type:qi,selectors:[["app-ticketing"]],standalone:!1,decls:1,vars:0,template:function(e,i){e&1&&_(0,"router-outlet")},dependencies:[xo],encapsulation:2});var Wi=qi;var da=["*"];function ma(n,s){if(n&1&&(r(0,"label",3),c(1),a()),n&2){let e=d();g("for",ri("app-cms-site-selector-",e.id)),o(),R(e.optionLabel)}}function pa(n,s){if(n&1&&(_(0,"img",5),C(1,"cmsthumbnail")),n&2){let e=d();g("src",L(h(1,2,e.dataModelSelect==null?null:e.dataModelSelect.linkMainImageIdSrc)),Qt)}}function ua(n,s){if(n&1&&(_(0,"img",5),C(1,"cmsthumbnail")),n&2){let e=d().$implicit;g("src",L(h(1,2,e.linkMainImageIdSrc)),Qt)}}function fa(n,s){if(n&1&&(r(0,"mat-option",8),v(1,ua,2,4,"img",5),r(2,"span"),c(3),a()()),n&2){let e=s.$implicit,i=d();g("value",e)("disabled",i.optionDisabled),o(),w(e.linkMainImageIdSrc?1:-1),o(2),R(i.displayOption(e))}}function _a(n,s){n&1&&_(0,"i",9)}function ga(n,s){n&1&&_(0,"i",10)}function Sa(n,s){if(n&1){let e=I();r(0,"i",13),T("click",function(){m(e);let t=d();return p(t.onActionSelectClear())}),a()}}function Ca(n,s){n&1&&(r(0,"em"),c(1),C(2,"translate"),a()),n&2&&(o(),S("(",h(2,1,"TITLE.Necessary"),")"))}var _i=class _i{constructor(s,e,i,t,l){this.coreEnumService=s;this.cdr=e;this.publicHelper=i;this.translate=t;this.categoryService=l;this.id=++_i.nextId;this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new Q;this.dataModelSelect=new $e;this.formControl=new Kn;this.optionDisabled=!1;this.optionSelectFirstItem=!1;this.optionPlaceholder="";this.optionRequired=!1;this.optionLabel="";this.optionChange=new bi;this.optionReload=()=>this.onActionButtonReload();this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(s){this.onActionSelectForce(s)}ngOnInit(){this.loadOptions()}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(Pn(""),On(1500),Gn(),Hn(s=>typeof s=="string"||typeof s=="number"?this.DataGetAll(s||""):[]))}displayFn(s){return s?s.title:void 0}displayOption(s){return s?s.title:void 0}DataGetAll(s){return te(this,null,function*(){let e=new Z;e.rowPerPage=20,e.accessLoad=!0;let i=new Y;i.propertyName="title",i.value=s,i.searchType=Gi.Contains,i.clauseType=li.Or,e.filters.push(i),s&&typeof+s=="number"&&+s>0&&(i=new Y,i.propertyName="id",i.value=s,i.searchType=Gi.Equal,i.clauseType=li.Or,e.filters.push(i));let t=this.constructor.name+"main";return this.translate.get("MESSAGE.Receiving_information").subscribe(l=>{this.publicHelper.processService.processStart(t,l,this.constructorInfoAreaId)}),yield Nn(this.categoryService.ServiceGetAll(e)).then(l=>(this.dataModelResult=l,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||this.dataModelSelect.id<=0)&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0])},1e3),this.onActionSelect(this.dataModelResult.listItems[0])),this.publicHelper.processService.processStop(t),l.listItems))})}onActionSelect(s){this.dataModelSelect=s,this.optionChange.emit(this.dataModelSelect)}onActionSelectClear(){this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null)}push(s){return this.filteredOptions.pipe(Fn(e=>(e.find(i=>i.id===s.id)||e.push(s),e)))}onActionSelectForce(s){if(typeof s=="number"&&s>0){if(this.dataModelSelect&&this.dataModelSelect.id===s)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(e=>e.id===s)){let e=this.dataModelResult.listItems.find(i=>i.id===s);this.dataModelSelect=e,this.formControl.setValue(e);return}this.categoryService.ServiceGetOneById(s).subscribe({next:e=>{e.isSuccess&&(this.filteredOptions=this.push(e.item),this.dataModelSelect=e.item,this.formControl.setValue(e.item),this.optionChange.emit(e.item))}});return}if(typeof s==typeof $e){this.filteredOptions=this.push(s),this.dataModelSelect=s,this.formControl.setValue(s);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new $e,this.loadOptions()}};_i.nextId=0,_i.\u0275fac=function(e){return new(e||_i)(b(K),b(N),b(O),b(F),b(et))},_i.\u0275cmp=V({type:_i,selectors:[["app-ticketing-departemen-selector"]],inputs:{optionDisabled:"optionDisabled",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionRequired:"optionRequired",optionLabel:"optionLabel",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange"},standalone:!1,ngContentSelectors:da,decls:18,vars:24,consts:[["matauto","matAutocomplete"],[1,"input-style","has-borders","has-icon","input-style-always-active","validate-field","mb-4","loader-container"],[3,"optionsInfoAreaId"],[1,"color-highlight",3,"for"],["matPrefix",""],["aria-hidden","","height","25","width","25",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["type","text","aria-label","Assignee","matInput","",3,"placeholder","formControl","matAutocomplete","required","id"],[3,"optionSelected","displayWith"],[3,"value","disabled"],[1,"fa","fa-info","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"fa","fa-times","action","color-red-dark"],[1,"fa","fa-rotate-right","action","color-green-dark",2,"margin-left","20px",3,"click","title"],[1,"fa","fa-times","action","color-red-dark",3,"click"]],template:function(e,i){if(e&1){let t=I();jn(),r(0,"div",1),_(1,"app-progress-spinner",2),v(2,ma,2,3,"label",3),r(3,"span",4),v(4,pa,2,4,"img",5),a(),_(5,"input",6),r(6,"mat-autocomplete",7,0),T("optionSelected",function(f){return m(t),p(i.onActionSelect(f.option.value))}),Oe(8,fa,4,4,"mat-option",8,vi),C(10,"async"),a(),v(11,_a,1,0,"i",9),v(12,ga,1,0,"i",10),v(13,Sa,1,0,"i",11),r(14,"i",12),C(15,"translate"),T("click",function(){return m(t),p(i.onActionButtonReload())}),a(),v(16,Ca,3,3,"em"),Un(17),a()}if(e&2){let t=D(7);o(),g("optionsInfoAreaId",i.constructorInfoAreaId),o(),w((i.optionLabel==null?null:i.optionLabel.length)>0?2:-1),o(2),w(i.dataModelSelect&&(i.dataModelSelect!=null&&i.dataModelSelect.linkMainImageIdSrc)?4:-1),o(),g("placeholder",L(i.optionPlaceholder))("id",ri("app-cms-site-selector-",i.id))("formControl",i.formControl)("matAutocomplete",t)("required",i.optionRequired),Ve("disabled",i.optionDisabled?!0:null),o(),g("displayWith",i.displayFn),o(2),Ge(h(10,20,i.filteredOptions)),o(3),w(i.formControl.valid?-1:11),o(),w(i.optionRequired&&i.formControl.valid?12:-1),o(),w((i.dataModelSelect==null?null:i.dataModelSelect.id)>0?13:-1),o(),G("rotation360",i.publicHelper.processService.process.inRunArea[i.constructorInfoAreaId]),g("title",L(h(15,22,"ACTION.RELOAD"))),o(2),w(i.optionRequired&&!((i.dataModelSelect==null?null:i.dataModelSelect.id)>0)?16:-1)}},dependencies:[se,ce,Re,zn,Xn,Jn,Zn,Wo,j,U,He,B,ui],encapsulation:2});var Qe=_i;var ha=["vform"];function Ta(n,s){if(n&1){let e=I();r(0,"app-cms-enum-record-status-selector",12),A("modelChange",function(t){m(e);let l=d();return y(l.dataModel.recordStatus,t)||(l.dataModel.recordStatus=t),p(t)}),a()}if(n&2){let e=d();E("model",e.dataModel.recordStatus),g("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function ba(n,s){if(n&1){let e=I();r(0,"div",10)(1,"label",13),c(2),C(3,"translate"),a(),r(4,"textarea",14,1),C(6,"translate"),A("ngModelChange",function(t){m(e);let l=d();return y(l.dataModel.htmlBody,t)||(l.dataModel.htmlBody=t),p(t)}),c(7,"          "),a(),r(8,"em"),c(9),a()()}if(n&2){let e=D(5),i=d();o(2),R(h(3,6,"TITLE.Answer_Text")),o(2),g("placeholder",L(h(6,8,"TITLE.Answer_Text"))),E("ngModel",i.dataModel.htmlBody),g("disabled",!(i.fieldsInfo.htmlBody!=null&&i.fieldsInfo.htmlBody.accessAddField)),o(5),S("",e.value.length," / 1000")}}function va(n,s){if(n&1){let e=I();r(0,"div",11)(1,"button",15),T("click",function(){m(e);let t=d();return p(t.onActionBackToParent())}),c(2),C(3,"translate"),a(),r(4,"button",16),c(5),C(6,"translate"),a()()}if(n&2){d();let e=D(10);o(2),S(" ",h(3,3,"ACTION.BACK")," "),o(2),g("disabled",!e.form.valid),o(),S(" ",h(6,5,"ACTION.SAVE")," ")}}var ji=class ji extends Vt{constructor(e,i,t,l,f,u,J,ee,Je,Ye){super(u,new Kt,l,Ye);this.data=e;this.dialogRef=i;this.activatedRoute=t;this.publicHelper=l;this.coreEnumService=f;this.ticketingAnswerService=u;this.cmsToastrService=J;this.router=ee;this.cdr=Je;this.translate=Ye;this.requestLinkTaskId=0;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.dataModel=new Kt;this.dataModelResult=new Q;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.fileManagerOpenForm=!1;this.appLanguage="fa";this.mapOptonCenter=new ei;this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),e&&(this.requestLinkTaskId=+e.linkTaskId||0)}ngOnInit(){if(this.requestLinkTaskId===0){this.cmsToastrService.typeErrorAddRowParentIsNull();return}this.dataModel.linkTaskId=this.requestLinkTaskId,this.DataGetAccess()}onFormSubmit(){if(!this.formGroup.valid){this.cmsToastrService.typeErrorFormInvalid();return}this.DataAddContent()}DataAddContent(){this.formInfo.submitButtonEnabled=!1,this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.ticketingAnswerService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!i.isSuccess,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.cmsToastrService.typeSuccessAdd(),setTimeout(()=>{this.dialogRef.close({dialogChangedDate:!0})},1e3)):this.cmsToastrService.typeErrorAdd(i.errorMessage),this.publicHelper.processService.processStop(e)},error:i=>{this.publicHelper.processService.processStop(e),this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeErrorAdd(i)}})}onStepClick(e,i){e.previouslySelectedIndex<e.selectedIndex}onActionBackToParent(){this.dialogRef.close({dialogChangedDate:!1})}onActionFileSelectedLinkMainImageId(){}onActionSelectSource(e){if(!e||e.id<=0){this.translate.get(["MESSAGE.Specify_the_source","MESSAGE.The_source_of_the_information_application_is_not_known"]).subscribe(i=>{this.cmsToastrService.typeErrorMessage(i["MESSAGE.Specify_the_source"],i["MESSAGE.The_source_of_the_information_application_is_not_known"])});return}this.dataModel.linkTicketingDepartemenId=e.id}};ji.\u0275fac=function(i){return new(i||ji)(b(we),b(me),b(Me),b(O),b(K),b(Xt),b(H),b(de),b(N),b(F))},ji.\u0275cmp=V({type:ji,selectors:[["app-ticketing-answer-add"]],viewQuery:function(i,t){if(i&1&&oe(ha,5),i&2){let l;ae(l=re())&&(t.formGroup=l.first)}},standalone:!1,features:[P],decls:16,vars:14,consts:[["vform","ngForm"],["HtmlBody",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"optionChange","optionSelectForce","optionPlaceholder","optionDisabled"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],[1,"form-actions"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.htmlBody",1,"color-highlight"],["matInput","","name","dataModel.htmlBody","type","text","minlength","0","maxlength","1000","rows","5","id","dataModel.htmlBody",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"]],template:function(i,t){if(i&1){let l=I();r(0,"div",2),_(1,"app-progress-spinner",3),r(2,"div",4)(3,"p",5),c(4),a(),r(5,"p"),c(6),C(7,"translate"),a(),_(8,"app-cms-form-result-message",6),r(9,"form",7,0),T("ngSubmit",function(){return m(l),p(t.onFormSubmit())}),v(11,Ta,1,5,"app-cms-enum-record-status-selector",8),r(12,"app-ticketing-departemen-selector",9),C(13,"translate"),T("optionChange",function(u){return m(l),p(t.onActionSelectSource(u))}),a(),v(14,ba,10,10,"div",10),v(15,va,7,7,"div",11),a()()()}i&2&&(o(),g("optionsInfoAreaId",t.constructorInfoAreaId),o(3),S(" ",t.formInfo.formTitle," "),o(2),S(" ",h(7,10,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),g("formInfo",t.formInfo),o(3),w(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?11:-1),o(),g("optionSelectForce",t.dataModel.linkTicketingDepartemenId)("optionPlaceholder",h(13,12,"TITLE.Department"))("optionDisabled",!(t.fieldsInfo.linkTicketingDepartemenId!=null&&t.fieldsInfo.linkTicketingDepartemenId.accessAddField)),o(2),w(t.fieldsInfo.htmlBody!=null&&t.fieldsInfo.htmlBody.accessWatchField?14:-1),o(),w(t.formInfo.submitButtonEnabled?15:-1))},dependencies:[Ae,se,ce,Ee,De,xe,ve,ye,j,Fe,U,ge,Qe,B],encapsulation:2});var po=ji;var wa=["vform"];function Ia(n,s){if(n&1){let e=I();r(0,"app-cms-enum-record-status-selector",12),A("modelChange",function(t){m(e);let l=d();return y(l.dataModel.recordStatus,t)||(l.dataModel.recordStatus=t),p(t)}),a()}if(n&2){let e=d();E("model",e.dataModel.recordStatus),g("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function ka(n,s){if(n&1){let e=I();r(0,"div",10)(1,"label",13),c(2),C(3,"translate"),a(),r(4,"textarea",14,1),C(6,"translate"),A("ngModelChange",function(t){m(e);let l=d();return y(l.dataModel.htmlBody,t)||(l.dataModel.htmlBody=t),p(t)}),c(7,"          "),a(),r(8,"em"),c(9),a()()}if(n&2){let e=D(5),i=d();o(2),R(h(3,6,"TITLE.Answer_Text")),o(2),g("placeholder",L(h(6,8,"TITLE.Answer_Text"))),E("ngModel",i.dataModel.htmlBody),g("disabled",!(i.fieldsInfo.htmlBody!=null&&i.fieldsInfo.htmlBody.accessEditField)),o(5),S("",e.value.length," / 1000")}}function Ma(n,s){if(n&1){let e=I();r(0,"div",11)(1,"button",15),T("click",function(){m(e);let t=d();return p(t.onActionBackToParent())}),c(2),C(3,"translate"),a(),r(4,"button",16),c(5),C(6,"translate"),a()()}if(n&2){d();let e=D(10);o(2),S(" ",h(3,3,"ACTION.BACK")," "),o(2),g("disabled",!e.form.valid),o(),S(" ",h(6,5,"ACTION.SAVE")," ")}}var Ui=class Ui extends ii{constructor(e,i,t,l,f,u,J,ee,Je,Ye){super(u,new Kt,l,Ye);this.data=e;this.dialogRef=i;this.activatedRoute=t;this.publicHelper=l;this.coreEnumService=f;this.ticketingAnswerService=u;this.cmsToastrService=J;this.router=ee;this.cdr=Je;this.translate=Ye;this.requestId=0;this.constructorInfoAreaId=this.constructor.name;this.dataModel=new Kt;this.dataModelResult=new Rt;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.fileManagerOpenForm=!1;this.appLanguage="fa";this.mapOptonCenter=new ei;this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),e&&(this.requestId=+e.id||0)}ngOnInit(){if(this.requestId===0){this.cmsToastrService.typeErrorAddRowParentIsNull();return}this.DataGetOne(this.requestId)}onFormSubmit(){if(!this.formGroup.valid){this.cmsToastrService.typeErrorFormInvalid();return}this.DataEditContent()}DataGetOne(e){this.formInfo.submitButtonEnabled=!1,this.translate.get("MESSAGE.get_information_from_the_server").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage="";let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructorInfoAreaId)}),this.ticketingAnswerService.setAccessLoad(),this.ticketingAnswerService.setAccessDataType(Dt.Editor),this.ticketingAnswerService.ServiceGetOneById(e).subscribe({next:t=>{this.dataAccessModel=t.access,this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.publicHelper.processService.processStop(i),this.dataModelResult=t,this.formInfo.submitButtonEnabled=!0,t.isSuccess?this.dataModel=t.item:this.cmsToastrService.typeErrorGetOne(t.errorMessage)},error:t=>{this.publicHelper.processService.processStop(i),this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeErrorGetOne(t)}})}DataEditContent(){this.formInfo.submitButtonEnabled=!1,this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.ticketingAnswerService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!i.isSuccess,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.cmsToastrService.typeSuccessEdit(),setTimeout(()=>{this.dialogRef.close({dialogChangedDate:!1})},1e3)):this.cmsToastrService.typeErrorEdit(i.errorMessage),this.publicHelper.processService.processStop(e)},error:i=>{this.publicHelper.processService.processStop(e),this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeErrorEdit(i)}})}onStepClick(e,i){e.previouslySelectedIndex<e.selectedIndex}onActionBackToParent(){this.dialogRef.close({dialogChangedDate:!1})}onActionFileSelectedLinkMainImageId(){}onActionSelectSource(e){if(!e||e.id<=0){this.translate.get(["MESSAGE.Specify_the_source","MESSAGE.The_source_of_the_information_application_is_not_known"]).subscribe(i=>{this.cmsToastrService.typeErrorMessage(i["MESSAGE.Specify_the_source"],i["MESSAGE.The_source_of_the_information_application_is_not_known"])});return}}};Ui.\u0275fac=function(i){return new(i||Ui)(b(we),b(me),b(Me),b(O),b(K),b(Xt),b(H),b(de),b(N),b(F))},Ui.\u0275cmp=V({type:Ui,selectors:[["app-ticketing-answer-edit"]],viewQuery:function(i,t){if(i&1&&oe(wa,5),i&2){let l;ae(l=re())&&(t.formGroup=l.first)}},standalone:!1,features:[P],decls:16,vars:14,consts:[["vform","ngForm"],["HtmlBody",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"optionChange","optionSelectForce","optionPlaceholder","optionDisabled"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],[1,"form-actions"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.htmlBody",1,"color-highlight"],["matInput","","name","dataModel.htmlBody","type","text","minlength","0","maxlength","1000","rows","5","id","dataModel.htmlBody",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"]],template:function(i,t){if(i&1){let l=I();r(0,"div",2),_(1,"app-progress-spinner",3),r(2,"div",4)(3,"p",5),c(4),a(),r(5,"p"),c(6),C(7,"translate"),a(),_(8,"app-cms-form-result-message",6),r(9,"form",7,0),T("ngSubmit",function(){return m(l),p(t.onFormSubmit())}),v(11,Ia,1,5,"app-cms-enum-record-status-selector",8),r(12,"app-ticketing-departemen-selector",9),C(13,"translate"),T("optionChange",function(u){return m(l),p(t.onActionSelectSource(u))}),a(),v(14,ka,10,10,"div",10),v(15,Ma,7,7,"div",11),a()()()}i&2&&(o(),g("optionsInfoAreaId",t.constructorInfoAreaId),o(3),S(" ",t.formInfo.formTitle," "),o(2),S(" ",h(7,10,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),g("formInfo",t.formInfo),o(3),w(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?11:-1),o(),g("optionSelectForce",t.dataModel.linkTicketingDepartemenId)("optionPlaceholder",h(13,12,"TITLE.Department"))("optionDisabled",!(t.fieldsInfo.linkTicketingDepartemenId!=null&&t.fieldsInfo.linkTicketingDepartemenId.accessEditField)),o(2),w(t.fieldsInfo.htmlBody!=null&&t.fieldsInfo.htmlBody.accessWatchField?14:-1),o(),w(t.formInfo.submitButtonEnabled?15:-1))},dependencies:[Ae,se,ce,Ee,De,xe,ve,ye,j,Fe,U,ge,Qe,B],encapsulation:2});var uo=Ui;var ya=["vform"];function Aa(n,s){if(n&1){let e=I();r(0,"div",7)(1,"button",8),T("click",function(){m(e);let t=d();return p(t.onFormCancel())}),_(2,"i",9),c(3),C(4,"translate"),a()()}n&2&&(o(3),S(" ",h(4,1,"ACTION.CANCEL")," "))}var Qi=class Qi{constructor(s,e,i,t,l,f,u,J,ee,Je){this.data=s;this.dialogRef=e;this.coreEnumService=i;this.ticketingAnswerService=t;this.cmsToastrService=l;this.tokenHelper=f;this.cmsStoreService=u;this.cdr=J;this.publicHelper=ee;this.translate=Je;this.requestId=0;this.constructorInfoAreaId=this.constructor.name;this.tokenInfo=new mi;this.dataModelResult=new Q;this.dataModel=new Kt;this.formInfo=new Pi;this.dataModelEnumSendSmsStatusTypeResult=new Q;this.fieldsInfo=new Map;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,s&&(this.requestId=+s.id||0)}ngOnInit(){if(this.translate.get("TITLE.VIEW").subscribe(s=>{this.formInfo.formTitle=s}),this.requestId===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(s=>s.tokenInfoStore).subscribe(s=>te(this,null,function*(){this.tokenInfo=s}))),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:s=>{this.dataModelEnumSendSmsStatusTypeResult=s}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(s=>s.unsubscribe())}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage="";let s=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(s,e,this.constructorInfoAreaId)}),this.ticketingAnswerService.setAccessLoad(),this.ticketingAnswerService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModel=e.item,console.log(this.dataModel),e.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+e.item.id,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(e.errorMessage)),this.publicHelper.processService.processStop(s)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(s,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Qi.\u0275fac=function(e){return new(e||Qi)(b(we),b(me),b(K),b(Xt),b(H),b(_e),b(fe),b(N),b(O),b(F))},Qi.\u0275cmp=V({type:Qi,selectors:[["app-ticketing-answer-view"]],viewQuery:function(e,i){if(e&1&&oe(ya,5),e&2){let t;ae(t=re())&&(i.formGroup=t.first)}},standalone:!1,decls:9,vars:6,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection","loader-container"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[3,"formInfo"],[1,"ntk-cms-html-card-footer"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,i){e&1&&(r(0,"div",0),c(1),a(),r(2,"div",1),_(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),a(),r(5,"div",4),_(6,"app-cms-form-result-message",5),a(),r(7,"div",6),v(8,Aa,5,3,"div",7),a()),e&2&&(o(),S(" ",i.formInfo.formTitle," "),o(2),g("optionsInfoAreaId",i.constructorInfoAreaId),o(),g("dataModel",i.dataModel)("optionMethod",1),o(2),g("formInfo",i.formInfo),o(2),w(i.formInfo.submitButtonEnabled?8:-1))},dependencies:[U,ia,ge,B],encapsulation:2});var fo=Qi;function Ra(n,s){n&1&&_(0,"div",8)}function Da(n,s){if(n&1&&(r(0,"div",4)(1,"div",5)(2,"b"),c(3),C(4,"translate"),a(),c(5,": "),a(),_(6,"div",13)(7,"div",11)(8,"div",10),a()),n&2){let e=d();o(3),S("",h(4,2,"TITLE.Description")," "),o(3),g("innerText",e.dataModelResult.item.htmlBody)}}var Ki=class Ki{constructor(s,e,i,t,l,f,u,J){this.headerService=s;this.publicHelper=e;this.cdr=i;this.cmsToastrService=t;this.dialog=l;this.translate=f;this.cmsStoreService=u;this.tokenHelper=J;this.constructorInfoAreaId=this.constructor.name;this.optionId=0;this.dataModelResult=new Q;this.fieldsInfo=new Map;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr}ngOnInit(){this.optionId>0&&this.DataGetOneContent(),this.unsubscribe.push(this.cmsStoreService.getState(s=>s.tokenInfoStore).subscribe(s=>te(this,null,function*(){this.DataGetOneContent()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(s=>s.unsubscribe())}DataGetOneContent(){let s=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(s,e,this.constructorInfoAreaId)}),this.headerService.setAccessLoad(),this.headerService.ServiceGetOneById(this.optionId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),e.isSuccess?this.dataModelResult=e:this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(s)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(s)}})}};Ki.\u0275fac=function(e){return new(e||Ki)(b(tt),b(O),b(N),b(H),b(je),b(F),b(fe),b(_e))},Ki.\u0275cmp=V({type:Ki,selectors:[["app-ticketing-task-header"]],inputs:{optionId:"optionId"},standalone:!1,decls:33,vars:11,consts:[[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content"],[1,"table"],[1,"tr"],[1,"td","small-width"],[1,"svg-icon","svg-icon-3x","svg-icon-primary",3,"inlineSVG"],[1,"td","large-width",2,"color","darkblue"],[1,"td"],[1,"td","large-width"],[2,"clear","both"],[1,"td",2,"text-align","left"],[1,"divider","divider-margins"],[1,"td","large-width",3,"innerText"]],template:function(e,i){e&1&&(r(0,"div",0),_(1,"app-progress-spinner",1),r(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),_(6,"span",6),a(),r(7,"div",7)(8,"h5")(9,"b"),c(10),C(11,"translate"),a()()(),v(12,Ra,1,0,"div",8),a(),r(13,"div",4)(14,"div",5)(15,"b"),c(16),a(),c(17,": "),a(),r(18,"div",9),c(19),a(),_(20,"div",8)(21,"div",10),a(),r(22,"div",4)(23,"div",5)(24,"b"),c(25),a(),c(26,": "),a(),r(27,"div",9),c(28),a(),_(29,"div",11)(30,"div",10),a(),v(31,Da,9,4,"div",4),a()()(),_(32,"div",12)),e&2&&(o(),g("optionsInfoAreaId",i.constructorInfoAreaId),o(5),g("inlineSVG","./assets/media/svg/icons/Communication/Flag.svg"),o(4),S(" ",h(11,9,"TITLE.Selected_Ticket")," "),o(2),w(!(i.dataModelResult==null||i.dataModelResult.item==null)&&i.dataModelResult.item.id?12:-1),o(4),S("",i.fieldsInfo.id==null?null:i.fieldsInfo.id.fieldTitle," "),o(3),R(i.dataModelResult==null||i.dataModelResult.item==null?null:i.dataModelResult.item.id),o(6),S("",i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle," "),o(3),R(i.dataModelResult==null||i.dataModelResult.item==null?null:i.dataModelResult.item.title),o(3),w((i.dataModelResult==null||i.dataModelResult.item==null||i.dataModelResult.item.htmlBody==null?null:i.dataModelResult.item.htmlBody.length)>0?31:-1))},dependencies:[U,ea,B],styles:[".table[_ngcontent-%COMP%]{display:table;border:1px solid #40a1f5;padding:2px;background:#fff;border-radius:5px}.table[_ngcontent-%COMP%]   .th[_ngcontent-%COMP%]{display:table-row;background-color:#40a1f577;color:#fff;font-weight:700}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f9f9f9}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]{display:table-row;border-bottom:1px solid #000}.table[_ngcontent-%COMP%]   .td[_ngcontent-%COMP%]{display:table-cell;padding:15px;border-bottom:1px solid #40a1f5;color:#3d7c7a}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:last-child   .td[_ngcontent-%COMP%]{border:0}.small-width[_ngcontent-%COMP%]{width:90px}.large-width[_ngcontent-%COMP%]{width:400px}.clear[_ngcontent-%COMP%]{clear:both}"]});var zi=Ki;var xa=()=>["expandedDetail"],La=()=>[5,10,20,100],Va=n=>({background:n}),Ba=n=>({display:n});function Na(n,s){if(n&1&&_(0,"app-ticketing-task-header",3),n&2){let e=d();g("optionId",e.requestLinkTaskId)}}function Fa(n,s){if(n&1){let e=I();r(0,"a",44),T("click",function(){m(e);let t=d();return p(t.onActionBackToParent())}),_(1,"i",45),a()}}function Oa(n,s){if(n&1){let e=I();r(0,"div",20)(1,"a",46),T("click",function(){m(e);let t=d();return p(t.onActionButtonNewRow())}),_(2,"i",47)(3,"br"),a(),r(4,"p",48),c(5),C(6,"translate"),a()()}n&2&&(o(5),S(" ",h(6,1,"ACTION.ADD")," "))}function Ga(n,s){if(n&1){let e=I();r(0,"div",20)(1,"a",49),T("click",function(){m(e);let t=d();return p(t.onActionButtonEditRow(t.tableRowSelected))}),_(2,"i",50)(3,"br"),a(),r(4,"p",48),c(5),C(6,"translate"),a()()}n&2&&(o(5),S(" ",h(6,1,"ACTION.EDIT")," "))}function Pa(n,s){if(n&1){let e=I();r(0,"div",20)(1,"a",51),T("click",function(){m(e);let t=d();return p(t.onActionButtonDeleteRow(t.tableRowSelected))}),_(2,"i",52)(3,"br"),a(),r(4,"p",48),c(5),C(6,"translate"),a()()}n&2&&(o(5),S(" ",h(6,1,"ACTION.DELETE")," "))}function Ha(n,s){if(n&1){let e=I();r(0,"div",20)(1,"a",53),T("click",function(){m(e);let t=d();return p(t.onActionButtonViewRow(t.tableRowSelected))}),_(2,"i",54)(3,"br"),a(),r(4,"p",48),c(5),C(6,"translate"),a()()}n&2&&(o(5),S(" ",h(6,1,"ACTION.VIEW")," "))}function qa(n,s){if(n&1&&(r(0,"mat-header-cell",55),c(1),a()),n&2){let e=d();o(),S(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function Wa(n,s){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=s.$implicit;o(),S(" ",e.id," ")}}function ja(n,s){if(n&1&&(r(0,"mat-header-cell",55),c(1),a()),n&2){let e=d();o(),S(" ",e.fieldsInfo.linkTaskId==null?null:e.fieldsInfo.linkTaskId.fieldTitle," ")}}function Ua(n,s){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=s.$implicit;o(),S(" ",e.linkTaskId," ")}}function Qa(n,s){if(n&1&&(r(0,"mat-header-cell",55),c(1),a()),n&2){let e=d();o(),S(" ",e.fieldsInfo.linkMemberId==null?null:e.fieldsInfo.linkMemberId.fieldTitle," ")}}function Ka(n,s){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=s.$implicit;o(),S(" ",e.linkMemberId," ")}}function za(n,s){if(n&1&&(r(0,"mat-header-cell",55),c(1),a()),n&2){let e=d();o(),S(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function Ja(n,s){if(n&1&&(r(0,"mat-cell"),c(1),C(2,"localeDate"),a()),n&2){let e=s.$implicit;o(),S(" ",h(2,1,e.createdDate)," ")}}function Ya(n,s){if(n&1&&(r(0,"mat-header-cell",55),c(1),a()),n&2){let e=d();o(),S(" ",e.fieldsInfo.updatedDate==null?null:e.fieldsInfo.updatedDate.fieldTitle," ")}}function Xa(n,s){if(n&1&&(r(0,"mat-cell"),c(1),C(2,"localeDate"),a()),n&2){let e=s.$implicit;o(),S(" ",h(2,1,e.updatedDate)," ")}}function Za(n,s){if(n&1&&(r(0,"mat-header-cell",55),c(1),a()),n&2){let e=d();o(),S(" ",e.fieldsInfo.answerStatus==null?null:e.fieldsInfo.answerStatus.fieldTitle," ")}}function $a(n,s){if(n&1&&(r(0,"mat-cell",56),c(1),C(2,"enums"),a()),n&2){let e=s.$implicit,i=d();g("ngStyle",Ne(5,Va,i.publicHelper.RowStyleAnswerStatus(e.answerStatus))),o(),S(" ",Yt(2,2,e.answerStatus,i.dataModelEnumAnswerStatusResult.listItems)," ")}}function er(n,s){n&1&&(r(0,"mat-header-cell"),c(1),C(2,"translate"),a()),n&2&&(o(),S(" ",h(2,1,"TITLE.OPTION")," "))}function tr(n,s){if(n&1&&(r(0,"mat-cell",57)(1,"button",58)(2,"mat-icon"),c(3,"more_vert"),a()(),_(4,"mat-menu",null,2),a()),n&2){let e=D(5),i=d();o(),g("matMenuTriggerFor",e)("disabled",!i.dataModelResult.access.accessEditRow&&!i.dataModelResult.access.accessDeleteRow)}}function ir(n,s){if(n&1&&(r(0,"tr")(1,"td")(2,"strong"),c(3),C(4,"translate"),a(),_(5,"div",61),C(6,"safeHtml"),a()()),n&2){let e=d().$implicit,i=d();o(3),S("",(i.fieldsInfo.htmlBody==null?null:i.fieldsInfo.htmlBody.fieldTitle)||h(4,2,"TICKETING.ANSWER_BODY"),":"),o(2),g("innerHTML",h(6,4,e.htmlBody),Xe)}}function nr(n,s){if(n&1){let e=I();r(0,"mat-cell")(1,"div")(2,"table")(3,"tr")(4,"td")(5,"span",59),T("click",function(t){return m(e),d().onActionCopied(),p(t.stopPropagation())}),_(6,"i",60),a(),c(7),a()(),v(8,ir,7,6,"tr"),a()()()}if(n&2){let e=s.$implicit,i=d();o(5),g("cdkCopyToClipboard",(e.id==null?null:e.id.toString())||""),o(2),le(" ",i.fieldsInfo.id==null?null:i.fieldsInfo.id.fieldTitle,": ",e.id," "),o(),w(e.htmlBody?8:-1)}}function or(n,s){n&1&&_(0,"mat-header-row")}function ar(n,s){if(n&1){let e=I();r(0,"mat-row",62),T("click",function(t){let l=m(e).$implicit,f=d();return p(f.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=m(e).$implicit,f=d();return p(f.onActionTableRowSelect(l,t))})("mouseenter",function(){let t=m(e).$implicit,l=d();return p(l.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=m(e).$implicit,l=d();return p(l.onActionTableRowMouseLeave(t))}),a()}if(n&2){let e=s.$implicit,i=d();G("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}function rr(n,s){if(n&1){let e=I();r(0,"mat-row",63),T("click",function(t){let l=m(e).$implicit,f=d();return p(f.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=m(e).$implicit,f=d();return p(f.onActionTableRowSelect(l,t))})("mouseenter",function(){let t=m(e).$implicit,l=d();return p(l.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=m(e).$implicit,l=d();return p(l.onActionTableRowMouseLeave(t))}),a()}if(n&2){let e=s.$implicit,i=d();G("ntk-row-expanded",e.expanded===!0)("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)),g("ngStyle",Ne(5,Ba,e.expanded===!0?"":"none"))}}var Ji=class Ji extends bt{constructor(e,i,t,l,f,u,J,ee,Je,Ye,zt,kt,yn){super(e,new Kt,kt,u,Je);this.contentService=e;this.activatedRoute=i;this.cmsToastrService=t;this.cmsConfirmationDialogService=l;this.router=f;this.tokenHelper=u;this.cdr=J;this.cmsStoreService=ee;this.translate=Je;this.ticketingEnumService=Ye;this.pageInfo=zt;this.publicHelper=kt;this.dialog=yn;this.requestLinkTaskId=0;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new Z;this.filterDataModelQueryBuilder=[];this.dataModelEnumAnswerStatusResult=new Q;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["id","LinkTaskId","linkMemberId","createdDate","updatedDate","AnswerStatus"];this.tabledisplayedColumnsMobileSource=["id","LinkTaskId","linkMemberId","createdDate","updatedDate","AnswerStatus"];this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:Mo=>this.onSubmitOptionsSearch(Mo)},this.filteModelContent.sortColumn="id",this.filteModelContent.sortType=W.Ascending}ngOnInit(){this.requestLinkTaskId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkTaskId")),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>te(this,null,function*(){this.getEnumAnswerStatus(),this.tokenInfo=e,this.DataGetAll()}))),this.getEnumAnswerStatus()}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}getEnumAnswerStatus(){this.ticketingEnumService.ServiceTicketStatusEnum().subscribe({next:e=>{this.dataModelEnumAnswerStatusResult=e}})}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Kt);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(l=>{this.publicHelper.processService.processStart(e,l,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]);let t=new Y;this.requestLinkTaskId>0&&(t.propertyName="LinkTaskId",t.value=this.requestLinkTaskId,i.filters.push(t)),this.categoryModelSelected&&this.categoryModelSelected.id>0&&(t.propertyName="LinkTaskId",t.value=this.categoryModelSelected.id,i.filters.push(t)),this.contentService.setAccessLoad(),this.contentService.ServiceGetAllEditor(i).subscribe({next:l=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(l.access),l.isSuccess?(this.applyDataGetAllResult(l),this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(l.access)},1e3)):this.cmsToastrService.typeErrorGetAll(l.errorMessage),this.publicHelper.processService.processStop(e)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(e)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=W.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=W.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=W.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.categoryModelSelected==null&&this.categoryModelSelected&&this.categoryModelSelected.id===0&&(this.requestLinkTaskId==null||this.requestLinkTaskId===0)){this.translate.get("MESSAGE.Content_not_selected").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(po,{height:"90%",panelClass:e,enterAnimationDuration:q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:q.cmsViewConfig.exitAnimationDuration,data:{linkTaskId:this.requestLinkTaskId>0?this.requestLinkTaskId:this.categoryModelSelected.id}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionButtonViewRow(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.cmsToastrService.typeErrorSelectedRow();return}this.tableRowSelected=e;var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(fo,{height:"90%",panelClass:i,enterAnimationDuration:q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate})}onActionSelectorSelect(e){var i=this.filteModelContent.sortColumn,t=this.filteModelContent.sortType;this.filteModelContent=new Z,this.filteModelContent.sortColumn=i,this.filteModelContent.sortType=t,this.categoryModelSelected=e,this.DataGetAll()}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.tableRowSelected=e,this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(uo,{height:"90%",panelClass:i,enterAnimationDuration:q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(e==null||!e.id||e.id===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(l=>{this.cmsToastrService.typeErrorSelected(l)});return}if(this.tableRowSelected=e,this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(l=>{i=l["MESSAGE.Please_Confirm"],t=l["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(l=>{if(l){let f=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(u=>{this.publicHelper.processService.processStart(f,u,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:u=>{u.isSuccess?this.cmsToastrService.typeSuccessRemove():this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(f)},error:u=>{this.cmsToastrService.typeError(u),this.publicHelper.processService.processStop(f)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(u=>{i.set(u,0)}),this.translate.get("MESSAGE.All").subscribe(u=>{i.set(u,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(u=>{this.publicHelper.processService.processStart(t,u,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:u=>{u.isSuccess&&(i.set("All",u.totalRowCount),this.optionsStatist.childMethods.setStatistValue(i)),this.publicHelper.processService.processStop(t)},error:u=>{this.cmsToastrService.typeError(u),this.publicHelper.processService.processStop(t)}});let l=JSON.parse(JSON.stringify(this.filteModelContent)),f=new Y;f.propertyName="recordStatus",f.value=at.Available,l.filters.push(f),this.contentService.ServiceGetCount(l).subscribe({next:u=>{u.isSuccess&&(i.set("Active",u.totalRowCount),this.optionsStatist.childMethods.setStatistValue(i)),this.publicHelper.processService.processStop(t)},error:u=>{this.cmsToastrService.typeError(u),this.publicHelper.processService.processStop(t)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/ticketing/task/"])}};Ji.\u0275fac=function(i){return new(i||Ji)(b(Xt),b(Me),b(H),b(ti),b(de),b(_e),b(N),b(fe),b(F),b(pi),b(Tt),b(O),b(je))},Ji.\u0275cmp=V({type:Ji,selectors:[["app-ticketing-answer-list"]],standalone:!1,features:[P],decls:66,vars:35,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionId"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-maximize","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-minimize","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","","multiTemplateDataRows","",3,"matSortChange","dataSource"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkTaskId"],["matColumnDef","linkMemberId"],["matColumnDef","createdDate"],["matColumnDef","updatedDate"],["matColumnDef","AnswerStatus"],[3,"ngStyle",4,"matCellDef"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],["matColumnDef","expandedDetail"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["class","ntk-row-expandedDetail",3,"ntk-row-expanded","ntk-row-selected","ngStyle","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","target","_blank","data-toggle","modal","data-target","#categoryModal",1,"btn","box-shadow-button","btn-outline-secondary",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor","disabled"],[1,"navi-icon","pointer",3,"click","cdkCopyToClipboard"],[1,"flaticon2-copy"],[1,"ntk-html-content",3,"innerHTML"],[1,"ntk-row-mainfild",3,"click","rtclick","mouseenter","mouseleave"],[1,"ntk-row-expandedDetail",3,"click","rtclick","mouseenter","mouseleave","ngStyle"]],template:function(i,t){if(i&1){let l=I();v(0,Na,1,1,"app-ticketing-task-header",3),r(1,"app-cms-html-list",4),A("optionActionGuideNoticeDisplayChange",function(u){return m(l),y(t.viewGuideNotice,u)||(t.viewGuideNotice=u),p(u)}),T("optionOnActionButtonMemoRow",function(){return m(l),p(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return m(l),p(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return m(l),p(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return m(l),p(t.onActionButtonPrintRow())}),k(2,5),c(3," -------------------------------------- "),M(),ie(4,6)(5,7),k(6,8),v(7,Fa,2,0,"a",9),r(8,"a",10),T("click",function(){return m(l),p(t.viewGuideNotice=!t.viewGuideNotice)}),_(9,"i",11),a(),r(10,"a",10),T("click",function(){return m(l),p(t.onActionButtonReload())}),_(11,"i",12),a(),r(12,"a",13),T("click",function(){return m(l),p(t.onActionGridExpandRows(!0))}),_(13,"i",14),a(),r(14,"a",13),T("click",function(){return m(l),p(t.onActionGridExpandRows(!1))}),_(15,"i",15),a(),M(),k(16,16),r(17,"a",17),T("click",function(){return m(l),p(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),_(18,"mat-slide-toggle",18),c(19),C(20,"translate"),a(),r(21,"a",17),T("click",function(){return m(l),p(t.onActionButtonStatist())}),_(22,"mat-slide-toggle",18),c(23),C(24,"translate"),a(),M(),k(25,19),v(26,Oa,7,3,"div",20),M(),k(27,21),v(28,Ga,7,3,"div",20),v(29,Pa,7,3,"div",20),v(30,Ha,7,3,"div",20),M(),k(31,22),r(32,"app-cms-search-list",23),A("optionsChange",function(u){return m(l),y(t.optionsSearch,u)||(t.optionsSearch=u),p(u)}),a(),r(33,"app-cms-statist-list",23),A("optionsChange",function(u){return m(l),y(t.optionsStatist,u)||(t.optionsStatist=u),p(u)}),a(),M(),k(34,24),r(35,"mat-table",25,0),T("matSortChange",function(){m(l);let u=D(36);return p(t.onTableSortData(u))}),k(37,26),x(38,qa,2,1,"mat-header-cell",27)(39,Wa,2,1,"mat-cell",28),M(),k(40,29),x(41,ja,2,1,"mat-header-cell",27)(42,Ua,2,1,"mat-cell",28),M(),k(43,30),x(44,Qa,2,1,"mat-header-cell",27)(45,Ka,2,1,"mat-cell",28),M(),k(46,31),x(47,za,2,1,"mat-header-cell",27)(48,Ja,3,3,"mat-cell",28),M(),k(49,32),x(50,Ya,2,1,"mat-header-cell",27)(51,Xa,3,3,"mat-cell",28),M(),k(52,33),x(53,Za,2,1,"mat-header-cell",27)(54,$a,3,7,"mat-cell",34),M(),k(55,35),x(56,er,3,3,"mat-header-cell",36)(57,tr,6,2,"mat-cell",37),M(),k(58,38),x(59,nr,9,4,"mat-cell",28),M(),x(60,or,1,0,"mat-header-row",39)(61,ar,1,2,"mat-row",40)(62,rr,1,7,"mat-row",41),a(),M(),k(63,42),r(64,"mat-paginator",43,1),T("page",function(u){return m(l),p(t.onTablePageingData(u))}),a(),M(),a()}i&2&&(w(t.requestLinkTaskId>0?0:-1),o(),g("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),E("optionActionGuideNoticeDisplay",t.viewGuideNotice),g("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),o(6),w(t.requestLinkTaskId>0?7:-1),o(4),G("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(7),g("checked",t.optionsSearch.data.show),o(),S("",h(20,29,"ACTION.SEARCH")," "),o(3),g("checked",t.optionsStatist.data.show),o(),S("",h(24,31,"ACTION.STATIST")," "),o(3),w(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessAddRow?26:-1),o(2),w(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?28:-1),o(),w(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?29:-1),o(),w(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessWatchRow&&(t.tableRowSelected==null?null:t.tableRowSelected.id)>0?30:-1),o(2),E("options",t.optionsSearch),o(),E("options",t.optionsStatist),o(2),g("dataSource",t.tableSource),o(25),g("matHeaderRowDef",t.tabledisplayedColumns),o(),g("matRowDefColumns",t.tabledisplayedColumns),o(),g("matRowDefColumns",ne(33,xa)),o(2),g("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",ne(34,La)))},dependencies:[Pe,it,nt,rt,lt,pe,ue,st,ct,dt,pt,gt,ut,mt,St,ft,_t,Ct,ht,qe,Se,Ce,vt,he,zi,B,Lt,oi,Ue],encapsulation:2});var wi=Ji;var lr=()=>[5,10,20,100],sr=n=>({background:n}),cr=(n,s)=>s.id;function dr(n,s){if(n&1&&_(0,"app-ticketing-task-header",1),n&2){let e=d();g("optionId",e.requestLinkTaskId)}}function mr(n,s){if(n&1){let e=I();r(0,"a",27),T("click",function(){m(e);let t=d();return p(t.onActionBackToParent())}),_(1,"i",28),a()}}function pr(n,s){if(n&1){let e=I();r(0,"div",18)(1,"a",29),T("click",function(){m(e);let t=d();return p(t.onActionButtonNewRow())}),_(2,"i",30)(3,"br"),a(),r(4,"p",31),c(5),C(6,"translate"),a()()}n&2&&(o(5),S(" ",h(6,1,"ACTION.ADD")," "))}function ur(n,s){if(n&1){let e=I();r(0,"div",18)(1,"a",32),T("click",function(){m(e);let t=d();return p(t.onActionButtonEditRow(t.tableRowSelected))}),_(2,"i",33)(3,"br"),a(),r(4,"p",31),c(5),C(6,"translate"),a()()}n&2&&(o(5),S(" ",h(6,1,"ACTION.EDIT")," "))}function fr(n,s){if(n&1){let e=I();r(0,"div",18)(1,"a",34),T("click",function(){m(e);let t=d();return p(t.onActionButtonDeleteRow(t.tableRowSelected))}),_(2,"i",35)(3,"br"),a(),r(4,"p",31),c(5),C(6,"translate"),a()()}n&2&&(o(5),S(" ",h(6,1,"ACTION.DELETE")," "))}function _r(n,s){if(n&1){let e=I();r(0,"div",18)(1,"a",36),T("click",function(){m(e);let t=d();return p(t.onActionButtonViewRow(t.tableRowSelected))}),_(2,"i",37)(3,"br"),a(),r(4,"p",31),c(5),C(6,"translate"),a()()}n&2&&(o(5),S(" ",h(6,1,"ACTION.VIEW")," "))}function gr(n,s){if(n&1&&(r(0,"div",44),_(1,"i",47),c(2),a()),n&2){let e=d().$implicit,i=d(2);o(2),le(" ",i.fieldsInfo.linkTaskId==null?null:i.fieldsInfo.linkTaskId.fieldTitle,": ",e.linkTaskId," ")}}function Sr(n,s){if(n&1&&(r(0,"div",44),_(1,"i",48),c(2),a()),n&2){let e=d().$implicit,i=d(2);o(2),le(" ",i.fieldsInfo.linkMemberId==null?null:i.fieldsInfo.linkMemberId.fieldTitle,": ",e.linkMemberId," ")}}function Cr(n,s){if(n&1&&(r(0,"div",45),_(1,"i",49),c(2),C(3,"enums"),a()),n&2){let e=d().$implicit,i=d(2);g("ngStyle",Ne(6,sr,i.publicHelper.RowStyleAnswerStatus(e.answerStatus))),o(2),le(" ",i.fieldsInfo.answerStatus==null?null:i.fieldsInfo.answerStatus.fieldTitle,": ",Yt(3,3,e.answerStatus,i.dataModelEnumAnswerStatusResult.listItems)," ")}}function hr(n,s){if(n&1&&(r(0,"div",44),_(1,"i",50),c(2),C(3,"localeDate"),a()),n&2){let e=d().$implicit,i=d(2);o(2),le(" ",i.fieldsInfo.createdDate==null?null:i.fieldsInfo.createdDate.fieldTitle,": ",h(3,2,e.createdDate)," ")}}function Tr(n,s){if(n&1&&(r(0,"div",44),_(1,"i",51),c(2),C(3,"localeDate"),a()),n&2){let e=d().$implicit,i=d(2);o(2),le(" ",i.fieldsInfo.updatedDate==null?null:i.fieldsInfo.updatedDate.fieldTitle,": ",h(3,2,e.updatedDate)," ")}}function br(n,s){if(n&1&&(r(0,"div",44)(1,"strong"),c(2),C(3,"translate"),a(),_(4,"div",54),C(5,"safeHtml"),a()),n&2){let e=d(2).$implicit,i=d(2);o(2),S("",(i.fieldsInfo.htmlBody==null?null:i.fieldsInfo.htmlBody.fieldTitle)||h(3,2,"TICKETING.ANSWER_BODY"),":"),o(2),g("innerHTML",h(5,4,e.htmlBody),Xe)}}function vr(n,s){if(n&1){let e=I();r(0,"div",46)(1,"div",44)(2,"span",52),T("click",function(t){return m(e),d(3).onActionCopied(),p(t.stopPropagation())}),_(3,"i",53),a(),c(4),a(),v(5,br,6,6,"div",44),a()}if(n&2){let e=d().$implicit;o(2),g("cdkCopyToClipboard",(e.id==null?null:e.id.toString())||""),o(2),S(" ID: ",e.id," "),o(),w(e.htmlBody?5:-1)}}function wr(n,s){if(n&1){let e=I();r(0,"div",39),T("click",function(t){let l=m(e).$implicit,f=d(2);return p(f.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=m(e).$implicit,f=d(2);return p(f.onActionTableRowSelect(l,t))})("mouseenter",function(){let t=m(e).$implicit,l=d(2);return p(l.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=m(e).$implicit,l=d(2);return p(l.onActionTableRowMouseLeave(t))}),r(1,"div",40),_(2,"i",41),C(3,"statusIconClass"),a(),r(4,"div",42)(5,"div",43),c(6),a(),v(7,gr,3,2,"div",44),v(8,Sr,3,2,"div",44),v(9,Cr,4,8,"div",45),v(10,hr,4,4,"div",44),v(11,Tr,4,4,"div",44),v(12,vr,6,3,"div",46),a()()}if(n&2){let e=s.$implicit,i=d(2);G("selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)),Ve("aria-label",e.id||""),o(2),g("ngClass",h(3,11,e.recordStatus)),o(4),S(" ID: ",e.id," "),o(),w(e.linkTaskId?7:-1),o(),w(e.linkMemberId?8:-1),o(),w(e.answerStatus!==void 0?9:-1),o(),w(e.createdDate?10:-1),o(),w(e.updatedDate?11:-1),o(),w(i.getRowExpanded(e)?12:-1)}}function Ir(n,s){if(n&1&&(r(0,"div",23),Oe(1,wr,13,13,"div",38,cr),a()),n&2){let e=d();o(),Ge(e.dataModelResult.listItems)}}function kr(n,s){n&1&&(r(0,"div",24),c(1),C(2,"translate"),a()),n&2&&(o(),S(" ",h(2,1,"MESSAGE.NoRecord")," "))}var Mi=class Mi extends wi{constructor(){super(...arguments);this.actionMenuOpen=null}toggleActionMenu(e){let i=String(e);this.actionMenuOpen===i?this.actionMenuOpen=null:this.actionMenuOpen=i}closeActionMenu(){this.actionMenuOpen=null}toString(e){return String(e)}onDocumentClick(e){let i=e.target;!i.closest(".cms-m-action-menu")&&!i.closest(".cms-m-action-menu-dropdown")&&this.closeActionMenu()}};Mi.\u0275fac=(()=>{let e;return function(t){return(e||(e=At(Mi)))(t||Mi)}})(),Mi.\u0275cmp=V({type:Mi,selectors:[["app-ticketing-answer-list-mobile"]],hostBindings:function(i,t){i&1&&T("click",function(f){return t.onDocumentClick(f)},Jt)},standalone:!1,features:[P],decls:39,vars:33,consts:[["paginator",""],[3,"optionId"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionOnScrollNearBottom","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplay","optionActionRowDisplayMenu","optionActionRowDisplayMenuAct","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-maximize","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-minimize","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],[1,"cms-m-list"],[1,"cms-m-empty"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],["role","button","tabindex","0",1,"cms-m-list-item",3,"selected"],["role","button","tabindex","0",1,"cms-m-list-item",3,"click","rtclick","mouseenter","mouseleave"],[1,"cms-m-list-item-image-placeholder"],["aria-hidden","true",3,"ngClass"],[1,"cms-m-list-item-content"],[1,"cms-m-list-item-title"],[1,"cms-m-list-item-subtitle"],[1,"cms-m-list-item-subtitle",3,"ngStyle"],[1,"cms-m-list-item-expanded"],["aria-hidden","true",1,"fa-solid","fa-ticket-alt"],["aria-hidden","true",1,"fa-solid","fa-user"],["aria-hidden","true",1,"fa-solid","fa-info-circle"],["aria-hidden","true",1,"fa-solid","fa-calendar-plus"],["aria-hidden","true",1,"fa-solid","fa-calendar-check"],[1,"navi-icon","pointer",3,"click","cdkCopyToClipboard"],[1,"flaticon2-copy"],[1,"ntk-html-content","cms-m-list-item-answer",3,"innerHTML"]],template:function(i,t){if(i&1){let l=I();v(0,dr,1,1,"app-ticketing-task-header",1),r(1,"app-cms-html-list-mobile",2),A("optionActionGuideNoticeDisplayChange",function(u){return m(l),y(t.viewGuideNotice,u)||(t.viewGuideNotice=u),p(u)}),T("optionOnActionButtonMemoRow",function(){return m(l),p(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return m(l),p(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return m(l),p(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return m(l),p(t.onActionButtonPrintRow())})("optionOnScrollNearBottom",function(){return m(l),p(t.onActionLoadNextPage())}),ie(2,3)(3,4)(4,5),k(5,6),v(6,mr,2,0,"a",7),r(7,"a",8),T("click",function(){return m(l),p(t.viewGuideNotice=!t.viewGuideNotice)}),_(8,"i",9),a(),r(9,"a",8),T("click",function(){return m(l),p(t.onActionButtonReload())}),_(10,"i",10),a(),r(11,"a",11),T("click",function(){return m(l),p(t.onActionGridExpandRows(!0))}),_(12,"i",12),a(),r(13,"a",11),T("click",function(){return m(l),p(t.onActionGridExpandRows(!1))}),_(14,"i",13),a(),M(),k(15,14),r(16,"a",15),T("click",function(){return m(l),p(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),_(17,"mat-slide-toggle",16),c(18),C(19,"translate"),a(),r(20,"a",15),T("click",function(){return m(l),p(t.onActionButtonStatist())}),_(21,"mat-slide-toggle",16),c(22),C(23,"translate"),a(),M(),k(24,17),v(25,pr,7,3,"div",18),M(),k(26,19),v(27,ur,7,3,"div",18),v(28,fr,7,3,"div",18),v(29,_r,7,3,"div",18),M(),k(30,20),r(31,"app-cms-search-list",21),A("optionsChange",function(u){return m(l),y(t.optionsSearch,u)||(t.optionsSearch=u),p(u)}),a(),r(32,"app-cms-statist-list",21),A("optionsChange",function(u){return m(l),y(t.optionsStatist,u)||(t.optionsStatist=u),p(u)}),a(),M(),k(33,22),v(34,Ir,3,0,"div",23)(35,kr,3,3,"div",24),M(),k(36,25),r(37,"mat-paginator",26,0),T("page",function(u){return m(l),p(t.onTablePageingData(u))}),a(),M(),a()}i&2&&(w(t.requestLinkTaskId>0?0:-1),o(),g("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),E("optionActionGuideNoticeDisplay",t.viewGuideNotice),g("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplay",(t.tableRowSelected==null?null:t.tableRowSelected.id)>0)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionActionRowDisplayMenuAct",t.tableRowSelectActionMenuClick)("optionSelectRowItemTitle",(t.tableRowSelected==null?null:t.tableRowSelected.id)||""),o(5),w(t.requestLinkTaskId>0?6:-1),o(4),G("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(7),g("checked",t.optionsSearch.data.show),o(),S("",h(19,28,"ACTION.SEARCH")," "),o(3),g("checked",t.optionsStatist.data.show),o(),S("",h(23,30,"ACTION.STATIST")," "),o(3),w(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessAddRow?25:-1),o(2),w(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow&&(t.tableRowSelected==null?null:t.tableRowSelected.id)>0?27:-1),o(),w(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow&&(t.tableRowSelected==null?null:t.tableRowSelected.id)>0?28:-1),o(),w(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessWatchRow&&(t.tableRowSelected==null?null:t.tableRowSelected.id)>0?29:-1),o(2),E("options",t.optionsSearch),o(),E("options",t.optionsStatist),o(2),w(!(t.dataModelResult==null||t.dataModelResult.listItems==null)&&t.dataModelResult.listItems.length?34:35),o(3),g("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",ne(32,lr)))},dependencies:[ke,Pe,pe,ue,qe,Se,Ce,Nt,he,zi,B,Lt,oi,Ue,Le],encapsulation:2});var Rn=Mi;var Er=["vform"];function yr(n,s){if(n&1){let e=I();r(0,"app-cms-enum-record-status-selector",15),A("modelChange",function(t){m(e);let l=d();return y(l.dataModel.recordStatus,t)||(l.dataModel.recordStatus=t),p(t)}),a()}if(n&2){let e=d();E("model",e.dataModel.recordStatus),g("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Ar(n,s){n&1&&_(0,"i",18)}function Rr(n,s){n&1&&_(0,"i",19)}function Dr(n,s){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),C(4,"translate"),a()()),n&2){let e=d(2);o(),S(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," is "),o(2),R(h(4,2,"MESSAGE.required"))}}function xr(n,s){if(n&1){let e=I();r(0,"div",10)(1,"label",16),c(2),a(),r(3,"input",17,1),A("ngModelChange",function(t){m(e);let l=d();return y(l.dataModel.title,t)||(l.dataModel.title=t),p(t)}),a(),v(5,Ar,1,0,"i",18),v(6,Rr,1,0,"i",19),r(7,"em"),c(8),a(),v(9,Dr,5,4,"mat-error"),a()}if(n&2){let e=D(4),i=d();o(2),R(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(),g("placeholder",L(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle)),E("ngModel",i.dataModel.title),g("disabled",!(i.fieldsInfo.title!=null&&i.fieldsInfo.title.accessAddField)),o(2),w(e.value?-1:5),o(),w(e.value?6:-1),o(2),S("",e.value.length," / 100"),o(),w(e.errors!=null&&e.errors.required?9:-1)}}function Lr(n,s){if(n&1&&(_(0,"img",13),C(1,"cmsthumbnail")),n&2){let e=d();g("src",L(h(1,2,e.dataModel.linkMainImageIdSrc)),Qt)}}function Vr(n,s){if(n&1){let e=I();r(0,"div",10)(1,"label",20),T("click",function(){m(e);let t=d();return p(t.fileManagerOpenForm=!0)}),c(2),C(3,"translate"),a(),r(4,"input",21,2),C(6,"translate"),A("ngModelChange",function(t){m(e);let l=d();return y(l.dataModel.linkMainImageId,t)||(l.dataModel.linkMainImageId=t),p(t)}),T("click",function(){m(e);let t=d();return p(t.fileManagerOpenForm=!0)}),a(),r(7,"cms-file-manager",22),T("itemSelected",function(t){m(e);let l=d();return p(l.onActionFileSelected(t))}),A("openFormChange",function(t){m(e);let l=d();return y(l.fileManagerOpenForm,t)||(l.fileManagerOpenForm=t),p(t)}),a()()}if(n&2){let e=d();o(2),R(h(3,12,"TITLE.Icon_File")),o(2),g("placeholder",L(h(6,14,"TITLE.Original_File_ID"))),E("ngModel",e.dataModel.linkMainImageId),o(3),g("language",e.appLanguage)("isPopup",!0),E("openForm",e.fileManagerOpenForm),g("tree",e.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",e.selectFileTypeMainImage)("openFilemanagerButtonView",!1)}}function Br(n,s){if(n&1){let e=I();r(0,"div",14)(1,"button",23),T("click",function(){m(e);let t=d();return p(t.onFormCancel())}),_(2,"i",24),c(3),C(4,"translate"),a(),r(5,"button",25),_(6,"i",26),c(7),C(8,"translate"),a()()}if(n&2){d();let e=D(10);o(3),S(" ",h(4,3,"ACTION.CANCEL")," "),o(2),g("disabled",!e.form.valid),o(2),S(" ",h(8,5,"ACTION.SAVE")," ")}}var tn=class tn extends ii{constructor(e,i,t,l,f,u,J,ee){super(l,new $e,u,ee);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.ticketingDepartemenService=l;this.cmsToastrService=f;this.publicHelper=u;this.cdr=J;this.translate=ee;this.requestId=0;this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new Rt;this.dataModel=new $e;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=+e.id||0),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),this.requestId<=0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent()}onActionFileSelected(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}DataGetOneContent(){if(this.requestId<=0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.ticketingDepartemenService.setAccessLoad(),this.ticketingDepartemenService.setAccessDataType(Dt.Editor),this.ticketingDepartemenService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.ticketingDepartemenService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e),this.formInfo.submitButtonEnabled=!0},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};tn.\u0275fac=function(i){return new(i||tn)(b(we),b(me),b(K),b(et),b(H),b(O),b(N),b(F))},tn.\u0275cmp=V({type:tn,selectors:[["app-ticketing-departemen-edit"]],viewQuery:function(i,t){if(i&1&&oe(Er,5),i&2){let l;ae(l=re())&&(t.formGroup=l.first)}},standalone:!1,features:[P],decls:19,vars:15,consts:[["vform","ngForm"],["Title",""],["LinkMainImageId",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],[1,"mb-3"],["target","_blank",3,"href"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"form-actions"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let l=I();r(0,"div",3),_(1,"app-progress-spinner",4),r(2,"div",5)(3,"p",6),c(4),a(),r(5,"p"),c(6),C(7,"translate"),a(),_(8,"app-cms-form-result-message",7),r(9,"form",8,0),T("ngSubmit",function(){return m(l),p(t.onFormSubmit())}),v(11,yr,1,5,"app-cms-enum-record-status-selector",9),v(12,xr,10,9,"div",10),r(13,"div",11)(14,"a",12),C(15,"cmsthumbnail"),v(16,Lr,2,4,"img",13),a()(),v(17,Vr,8,16,"div",10),v(18,Br,9,7,"div",14),a()()()}i&2&&(o(),g("optionsInfoAreaId",t.constructorInfoAreaId),o(3),S(" ",t.formInfo.formTitle," "),o(2),S(" ",h(7,11,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),g("formInfo",t.formInfo),o(3),w(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?11:-1),o(),w(t.fieldsInfo.title!=null&&t.fieldsInfo.title.accessWatchField?12:-1),o(2),g("href",L(h(15,13,t.dataModel.linkMainImageIdSrc)),Qt),o(2),w((t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0?16:-1),o(),w(t.fieldsInfo.linkMainImageId!=null&&t.fieldsInfo.linkMainImageId.accessWatchField?17:-1),o(),w(t.formInfo.submitButtonEnabled?18:-1))},dependencies:[Ae,se,ce,Ee,Re,De,xe,ve,ye,We,j,Fe,U,ge,ro,B,ui],encapsulation:2});var Ut=tn;var Nr=["vform"];function Fr(n,s){if(n&1){let e=I();r(0,"app-cms-enum-record-status-selector",15),A("modelChange",function(t){m(e);let l=d();return y(l.dataModel.recordStatus,t)||(l.dataModel.recordStatus=t),p(t)}),a()}if(n&2){let e=d();E("model",e.dataModel.recordStatus),g("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Or(n,s){n&1&&_(0,"i",18)}function Gr(n,s){n&1&&_(0,"i",19)}function Pr(n,s){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),C(4,"translate"),a()()),n&2){let e=d(2);o(),S(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," is "),o(2),R(h(4,2,"MESSAGE.required"))}}function Hr(n,s){if(n&1){let e=I();r(0,"div",10)(1,"label",16),c(2),a(),r(3,"input",17,1),A("ngModelChange",function(t){m(e);let l=d();return y(l.dataModel.title,t)||(l.dataModel.title=t),p(t)}),a(),v(5,Or,1,0,"i",18),v(6,Gr,1,0,"i",19),r(7,"em"),c(8),a(),v(9,Pr,5,4,"mat-error"),a()}if(n&2){let e=D(4),i=d();o(2),R(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(),g("placeholder",L(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle)),E("ngModel",i.dataModel.title),g("disabled",!(i.fieldsInfo.title!=null&&i.fieldsInfo.title.accessAddField)),o(2),w(e.value?-1:5),o(),w(e.value?6:-1),o(2),S("",e.value.length," / 100"),o(),w(e.errors!=null&&e.errors.required?9:-1)}}function qr(n,s){if(n&1&&(_(0,"img",13),C(1,"cmsthumbnail")),n&2){let e=d();g("src",L(h(1,2,e.dataModel.linkMainImageIdSrc)),Qt)}}function Wr(n,s){if(n&1){let e=I();r(0,"div",10)(1,"label",20),T("click",function(){m(e);let t=d();return p(t.fileManagerOpenForm=!0)}),c(2),C(3,"translate"),a(),r(4,"input",21,2),C(6,"translate"),A("ngModelChange",function(t){m(e);let l=d();return y(l.dataModel.linkMainImageId,t)||(l.dataModel.linkMainImageId=t),p(t)}),T("click",function(){m(e);let t=d();return p(t.fileManagerOpenForm=!0)}),a(),r(7,"cms-file-manager",22),T("itemSelected",function(t){m(e);let l=d();return p(l.onActionFileSelected(t))}),A("openFormChange",function(t){m(e);let l=d();return y(l.fileManagerOpenForm,t)||(l.fileManagerOpenForm=t),p(t)}),a()()}if(n&2){let e=d();o(2),R(h(3,12,"TITLE.Icon_File")),o(2),g("placeholder",L(h(6,14,"TITLE.Original_File_ID"))),E("ngModel",e.dataModel.linkMainImageId),o(3),g("language",e.appLanguage)("isPopup",!0),E("openForm",e.fileManagerOpenForm),g("tree",e.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",e.selectFileTypeMainImage)("openFilemanagerButtonView",!1)}}function jr(n,s){if(n&1){let e=I();r(0,"div",14)(1,"button",23),T("click",function(){m(e);let t=d();return p(t.onFormCancel())}),_(2,"i",24),c(3),C(4,"translate"),a(),r(5,"button",25),_(6,"i",26),c(7),C(8,"translate"),a()()}if(n&2){d();let e=D(10);o(3),S(" ",h(4,3,"ACTION.CANCEL")," "),o(2),g("disabled",!e.form.valid),o(2),S(" ",h(8,5,"ACTION.SAVE")," ")}}var nn=class nn extends Vt{constructor(e,i,t,l,f,u,J,ee){super(l,new $e,u,ee);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.ticketingDepartemenService=l;this.cmsToastrService=f;this.publicHelper=u;this.cdr=J;this.translate=ee;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new Q;this.dataModel=new $e;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess()}onActionFileSelected(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.ticketingDepartemenService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e),this.formInfo.submitButtonEnabled=!0},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};nn.\u0275fac=function(i){return new(i||nn)(b(we),b(me),b(K),b(et),b(H),b(O),b(N),b(F))},nn.\u0275cmp=V({type:nn,selectors:[["app-ticketing-departemen-add"]],viewQuery:function(i,t){if(i&1&&oe(Nr,5),i&2){let l;ae(l=re())&&(t.formGroup=l.first)}},standalone:!1,features:[P],decls:19,vars:15,consts:[["vform","ngForm"],["Title",""],["LinkMainImageId",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],[1,"mb-3"],["target","_blank",3,"href"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"form-actions"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let l=I();r(0,"div",3),_(1,"app-progress-spinner",4),r(2,"div",5)(3,"p",6),c(4),a(),r(5,"p"),c(6),C(7,"translate"),a(),_(8,"app-cms-form-result-message",7),r(9,"form",8,0),T("ngSubmit",function(){return m(l),p(t.onFormSubmit())}),v(11,Fr,1,5,"app-cms-enum-record-status-selector",9),v(12,Hr,10,9,"div",10),r(13,"div",11)(14,"a",12),C(15,"cmsthumbnail"),v(16,qr,2,4,"img",13),a()(),v(17,Wr,8,16,"div",10),v(18,jr,9,7,"div",14),a()()()}i&2&&(o(),g("optionsInfoAreaId",t.constructorInfoAreaId),o(3),S(" ",t.formInfo.formTitle," "),o(2),S(" ",h(7,11,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),g("formInfo",t.formInfo),o(3),w(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?11:-1),o(),w(t.fieldsInfo.title!=null&&t.fieldsInfo.title.accessWatchField?12:-1),o(2),g("href",L(h(15,13,t.dataModel.linkMainImageIdSrc)),Qt),o(2),w((t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0?16:-1),o(),w(t.fieldsInfo.linkMainImageId!=null&&t.fieldsInfo.linkMainImageId.accessWatchField?17:-1),o(),w(t.formInfo.submitButtonEnabled?18:-1))},dependencies:[Ae,se,ce,Ee,Re,De,xe,ve,ye,We,j,Fe,U,ge,ro,B,ui],encapsulation:2});var on=nn;var Ur=["vform"];function Qr(n,s){if(n&1){let e=I();r(0,"div",5)(1,"label",7),c(2),a(),r(3,"input",8,0),A("ngModelChange",function(t){m(e);let l=d();return y(l.dataModelResultCategory.item.title,t)||(l.dataModelResultCategory.item.title=t),p(t)}),a()()}if(n&2){let e=d();o(2),R(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),o(),g("placeholder",L(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle)),E("ngModel",e.dataModelResultCategory.item.title)}}function Kr(n,s){if(n&1){let e=I();r(0,"div",6)(1,"button",9),T("click",function(){m(e);let t=d();return p(t.onFormCancel())}),_(2,"i",10),c(3),C(4,"translate"),a(),r(5,"button",11),T("click",function(){m(e);let t=d();return p(t.onFormDelete())}),_(6,"i",12),c(7),C(8,"translate"),a()()}if(n&2){let e=d();o(3),S(" ",h(4,3,"ACTION.CANCEL")," "),o(2),g("disabled",!e.formInfo.submitButtonEnabled),o(2),S(" ",h(8,5,"ACTION.DELETE")," ")}}var an=class an{constructor(s,e,i,t,l,f,u){this.data=s;this.dialogRef=e;this.publicHelper=i;this.ticketingDepartemenService=t;this.cdr=l;this.translate=f;this.cmsToastrService=u;this.requestId=0;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.dataModelResultCategory=new Q;this.dataModelResultCategoryAllData=new Q;this.dataModel={};this.formInfo=new Pi;this.publicHelper.processService.cdr=this.cdr,s&&(this.requestId=+s.id||0)}ngOnInit(){if(this.requestId<=0){this.cmsToastrService.typeErrorDeleteRowIsNull(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOne(),this.DataGetAll()}DataGetOne(){if(this.requestId===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.translate.get("TITLE.Loading_Information").subscribe(e=>{this.formInfo.submitResultMessage=e});let s=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(s,e,this.constructorInfoAreaId)}),this.ticketingDepartemenService.setAccessLoad(),this.ticketingDepartemenService.setAccessDataType(Dt.Editor),this.ticketingDepartemenService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModelResultCategory=e,e.isSuccess?this.formInfo.submitResultMessage="":(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.cmsToastrService.typeErrorGetOne()),this.formInfo.submitResultMessageType=FormSubmitedStatusEnum.Success,this.publicHelper.processService.processStop(s)},error:e=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessageType=FormSubmitedStatusEnum.Success,this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(s)}})}DataGetAll(){this.translate.get("TITLE.Loading_Information").subscribe(i=>{this.formInfo.submitResultMessage=i});let s=new Z;s.rowPerPage=100;let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.ticketingDepartemenService.ServiceGetAll(s).subscribe({next:i=>{this.dataModelResultCategoryAllData=i,i.isSuccess?this.formInfo.submitResultMessage="":(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=FormSubmitedStatusEnum.Success,this.cmsToastrService.typeErrorGetAll()),this.publicHelper.processService.processStop(e)},error:i=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessageType=FormSubmitedStatusEnum.Success,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e)}})}onFormDelete(){if(this.requestId===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.formInfo.submitButtonEnabled=!1,this.formInfo.submitButtonEnabled=!1;let s=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(s,e,this.constructorInfoAreaId)}),this.ticketingDepartemenService.ServiceDelete(this.requestId).subscribe({next:e=>{this.formInfo.submitButtonEnabled=!e.isSuccess,e.isSuccess?(this.translate.get("MESSAGE.Deletion_Was_Successful").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.cmsToastrService.typeSuccessRemove(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.cmsToastrService.typeErrorRemove()),this.formInfo.submitButtonEnabled=!0,this.publicHelper.processService.processStop(s)},error:e=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(e),this.formInfo.submitButtonEnabled=!0,this.publicHelper.processService.processStop(s)}})}onFormChangeNewCatId(s){if(this.formInfo.submitResultMessage="",this.requestId===0||!s||s.id<=0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.dataModel.newCatId=s.id,this.dataModel.newCatId===this.requestId?(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.translate.get("ERRORMESSAGE.MESSAGE.The_delete_category_ID_is_the_same_as_the_alternate_category").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitButtonEnabled=!1):(this.formInfo.submitButtonEnabled=!0,this.formInfo.submitResultMessage="")}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};an.\u0275fac=function(e){return new(e||an)(b(we),b(me),b(O),b(et),b(N),b(F),b(H))},an.\u0275cmp=V({type:an,selectors:[["app-ticketing-departemen-delete"]],viewQuery:function(e,i){if(e&1&&oe(Ur,5),e&2){let t;ae(t=re())&&(i.formGroup=t.first)}},standalone:!1,decls:10,vars:7,consts:[["Title",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],[1,"form-actions"],["for","dataModelResultCategory.item.title",1,"color-highlight"],["matInput","","type","text","name","dataModelResultCategory.item.title","id","dataModelResultCategory.item.title","minlength","3","maxlength","50","readonly","",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click","disabled"],[1,"fa","fa-check-square-o"]],template:function(e,i){e&1&&(r(0,"div",1),_(1,"app-progress-spinner",2),r(2,"div",3)(3,"p",4),c(4),a(),r(5,"p"),c(6),C(7,"translate"),a(),v(8,Qr,5,4,"div",5),v(9,Kr,9,7,"div",6),a()()),e&2&&(o(),g("optionsInfoAreaId",i.constructorInfoAreaId),o(3),S(" ",i.formInfo.formTitle," "),o(2),S(" ",h(7,5,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),w(i.dataModelResultCategory!=null&&i.dataModelResultCategory.item?8:-1),o(),w(i.formInfo.submitButtonEnabled?9:-1))},dependencies:[se,ce,De,xe,ve,j,U,B],encapsulation:2});var rn=an;var zr=()=>[5,10,20,100],Jr=n=>({display:n});function Yr(n,s){if(n&1){let e=I();r(0,"div",15)(1,"a",43),T("click",function(){m(e);let t=d();return p(t.onActionButtonNewRow())}),_(2,"i",44)(3,"br"),a(),r(4,"p",19),c(5),C(6,"translate"),a()()}n&2&&(o(5),S(" ",h(6,1,"ACTION.ADD")," "))}function Xr(n,s){if(n&1){let e=I();r(0,"div",15)(1,"a",45),T("click",function(){m(e);let t=d();return p(t.onActionButtonEditRow(t.tableRowSelected))}),_(2,"i",46)(3,"br"),a(),r(4,"p",19),c(5),C(6,"translate"),a()()}n&2&&(o(5),S(" ",h(6,1,"ACTION.EDIT")," "))}function Zr(n,s){if(n&1){let e=I();r(0,"div",15)(1,"a",47),T("click",function(){m(e);let t=d();return p(t.onActionButtonDeleteRow(t.tableRowSelected))}),_(2,"i",48)(3,"br"),a(),r(4,"p",19),c(5),C(6,"translate"),a()()}n&2&&(o(5),S(" ",h(6,1,"ACTION.DELETE")," "))}function $r(n,s){n&1&&(r(0,"mat-header-cell",49),c(1),C(2,"translate"),a()),n&2&&(o(),S(" ",h(2,1,"TITLE.PICTURE")," "))}function el(n,s){if(n&1&&(_(0,"img",50),C(1,"cmsthumbnail")),n&2){let e=d().$implicit;g("src",L(h(1,2,e.linkMainImageIdSrc)),Qt)}}function tl(n,s){if(n&1&&(r(0,"mat-cell"),v(1,el,2,4,"img",50),a()),n&2){let e=s.$implicit;o(),w((e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0?1:-1)}}function il(n,s){if(n&1&&(r(0,"mat-header-cell",49),c(1),a()),n&2){let e=d();o(),S(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function nl(n,s){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=s.$implicit;o(),S(" ",e.id," ")}}function ol(n,s){if(n&1&&(r(0,"mat-header-cell",49),c(1),a()),n&2){let e=d();o(),S(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function al(n,s){if(n&1&&(r(0,"mat-cell"),c(1),C(2,"cmssiteinfo"),C(3,"async"),a()),n&2){let e=s.$implicit;o(),S(" ",h(3,3,h(2,1,e.linkSiteId))," ")}}function rl(n,s){if(n&1&&(r(0,"mat-header-cell",49),c(1),a()),n&2){let e=d();o(),S(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function ll(n,s){if(n&1&&_(0,"select",52),n&2){let e=d().$implicit,i=d();g("contentService",i.contentService)("row",e)("ngStyle",Ne(3,Jr,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function sl(n,s){if(n&1&&(r(0,"mat-cell",51),C(1,"statusCellClass"),_(2,"i",51),C(3,"statusIconClass"),v(4,ll,1,5,"select",52),a()),n&2){let e=s.$implicit,i=d();g("ngClass",h(1,3,e.recordStatus)),o(2),g("ngClass",h(3,5,e.recordStatus)),o(2),w(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessEditRow?4:-1)}}function cl(n,s){if(n&1&&(r(0,"mat-header-cell",49),c(1),a()),n&2){let e=d();o(),S(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," ")}}function dl(n,s){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=s.$implicit;o(),S(" ",e.title," ")}}function ml(n,s){if(n&1&&(r(0,"mat-header-cell",49),c(1),a()),n&2){let e=d();o(),S(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function pl(n,s){if(n&1&&(r(0,"mat-cell"),c(1),C(2,"localeDate"),a()),n&2){let e=s.$implicit;o(),S(" ",h(2,1,e.createdDate)," ")}}function ul(n,s){if(n&1&&(r(0,"mat-header-cell",49),c(1),a()),n&2){let e=d();o(),S(" ",e.fieldsInfo.updatedDate==null?null:e.fieldsInfo.updatedDate.fieldTitle," ")}}function fl(n,s){if(n&1&&(r(0,"mat-cell"),c(1),C(2,"localeDate"),a()),n&2){let e=s.$implicit;o(),S(" ",h(2,1,e.updatedDate)," ")}}function _l(n,s){n&1&&(r(0,"mat-header-cell"),c(1),C(2,"translate"),a()),n&2&&(o(),S(" ",h(2,1,"TITLE.OPTION")," "))}function gl(n,s){if(n&1&&(r(0,"mat-cell",53)(1,"button",54)(2,"mat-icon"),c(3,"more_vert"),a()(),_(4,"mat-menu",null,2),a()),n&2){let e=D(5);o(),g("matMenuTriggerFor",e)}}function Sl(n,s){n&1&&_(0,"mat-header-row")}function Cl(n,s){if(n&1){let e=I();r(0,"mat-row",55),T("click",function(t){let l=m(e).$implicit,f=d();return p(f.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=m(e).$implicit,f=d();return p(f.onActionTableRowSelect(l,t))}),a()}if(n&2){let e=s.$implicit,i=d();G("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var ln=class ln extends bt{constructor(e,i,t,l,f,u,J,ee,Je,Ye){super(e,new $e,Je,l,u);this.contentService=e;this.cmsToastrService=i;this.router=t;this.tokenHelper=l;this.cdr=f;this.translate=u;this.cmsStoreService=J;this.pageInfo=ee;this.publicHelper=Je;this.dialog=Ye;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new Z;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["linkMainImageIdSrc","id","recordStatus"];this.tabledisplayedColumnsMobileSource=["linkMainImageIdSrc","id","recordStatus"];this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:zt=>this.onSubmitOptionsSearch(zt)},this.filteModelContent.sortColumn="id",this.filteModelContent.sortType=W.Descending}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>te(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new $e);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.contentService.setAccessLoad(),this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),t.isSuccess&&(this.applyDataGetAllResult(t),this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=W.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=W.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=W.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(on,{height:"90%",panelClass:e,enterAnimationDuration:q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:q.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(!(e?.id>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Ut,{height:"90%",panelClass:i,enterAnimationDuration:q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!(e?.id>0)){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(l=>{this.cmsToastrService.typeErrorSelected(l)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(rn,{height:"90%",panelClass:i,enterAnimationDuration:q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()})}onActionButtonFaqList(e=this.tableRowSelected,i){if(!(e?.id>0)){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(this.onActionTableRowSelect(e),i?.ctrlKey){let t="/#/ticketing/faq/"+this.tableRowSelected.id;window.open(t,"_blank")}else this.router.navigate(["/ticketing/faq/",this.tableRowSelected.id])}onActionButtonTemplateList(e=this.tableRowSelected,i){if(!(e?.id>0)){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(this.onActionTableRowSelect(e),i?.ctrlKey){let t="/#/ticketing/template/"+this.tableRowSelected.id;window.open(t,"_blank")}else this.router.navigate(["/ticketing/template/",this.tableRowSelected.id])}onActionButtonLogList(e=this.tableRowSelected,i){if(!(e?.id>0)){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(this.onActionTableRowSelect(e),i?.ctrlKey){let t="/#/ticketing/departemenlog/DepartemenId/"+this.tableRowSelected.id;window.open(t,"_blank")}else this.router.navigate(["/ticketing/departemenlog/DepartemenId/",this.tableRowSelected.id])}onActionButtonTaskList(e=this.tableRowSelected,i){if(!(e?.id>0)){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(this.onActionTableRowSelect(e),i?.ctrlKey){let t="/#/ticketing/task/"+this.tableRowSelected.id;window.open(t,"_blank")}else this.router.navigate(["/ticketing/task/",this.tableRowSelected.id])}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(u=>{i.set(u,0)}),this.translate.get("MESSAGE.All").subscribe(u=>{i.set(u,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(u=>{this.publicHelper.processService.processStart(t,u,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:u=>{u.isSuccess&&(i.set("All",u.totalRowCount),this.optionsStatist.childMethods.setStatistValue(i)),this.publicHelper.processService.processStop(t)},error:u=>{this.cmsToastrService.typeError(u),this.publicHelper.processService.processStop(t)}});let l=JSON.parse(JSON.stringify(this.filteModelContent)),f=new Y;f.propertyName="recordStatus",f.value=at.Available,l.filters.push(f),this.contentService.ServiceGetCount(l).subscribe({next:u=>{u.isSuccess&&(i.set("Active",u.totalRowCount),this.optionsStatist.childMethods.setStatistValue(i)),this.publicHelper.processService.processStop(t)},error:u=>{this.cmsToastrService.typeError(u),this.publicHelper.processService.processStop(t)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}};ln.\u0275fac=function(i){return new(i||ln)(b(et),b(H),b(de),b(_e),b(N),b(F),b(fe),b(Tt),b(O),b(je))},ln.\u0275cmp=V({type:ln,selectors:[["app-ticketing-departemen-list"]],standalone:!1,features:[P],decls:87,vars:42,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-ticket","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-question","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-memo","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","linkMainImageIdSrc"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","id"],["matColumnDef","linkSiteId"],["matColumnDef","recordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","title"],["matColumnDef","createdDate"],["matColumnDef","updatedDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(i,t){if(i&1){let l=I();r(0,"app-cms-html-list",3),A("optionActionGuideNoticeDisplayChange",function(u){return m(l),y(t.viewGuideNotice,u)||(t.viewGuideNotice=u),p(u)}),T("optionOnActionButtonMemoRow",function(){return m(l),p(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return m(l),p(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return m(l),p(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return m(l),p(t.onActionButtonPrintRow())}),k(1,4),c(2," -------------------------------------- "),M(),ie(3,5)(4,6),k(5,7),r(6,"a",8),T("click",function(){return m(l),p(t.viewGuideNotice=!t.viewGuideNotice)}),_(7,"i",9),a(),r(8,"a",8),T("click",function(){return m(l),p(t.onActionButtonReload())}),_(9,"i",10),a(),M(),k(10,11),r(11,"a",12),T("click",function(){return m(l),p(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),_(12,"mat-slide-toggle",13),c(13),C(14,"translate"),a(),r(15,"a",12),T("click",function(){return m(l),p(t.onActionButtonStatist())}),_(16,"mat-slide-toggle",13),c(17),C(18,"translate"),a(),M(),k(19,14),v(20,Yr,7,3,"div",15),M(),k(21,16),v(22,Xr,7,3,"div",15),v(23,Zr,7,3,"div",15),r(24,"div",15)(25,"a",17),T("click",function(u){return m(l),p(t.onActionButtonTaskList(t.tableRowSelected,u))}),_(26,"i",18)(27,"br"),a(),r(28,"p",19),c(29),C(30,"translate"),a()(),r(31,"div",15)(32,"a",17),T("click",function(u){return m(l),p(t.onActionButtonFaqList(t.tableRowSelected,u))}),_(33,"i",20)(34,"br"),a(),r(35,"p",19),c(36),C(37,"translate"),a()(),r(38,"div",15)(39,"a",17),T("click",function(u){return m(l),p(t.onActionButtonTemplateList(t.tableRowSelected,u))}),_(40,"i",21)(41,"br"),a(),r(42,"p",19),c(43),C(44,"translate"),a()(),r(45,"div",15)(46,"a",17),T("click",function(u){return m(l),p(t.onActionButtonLogList(t.tableRowSelected,u))}),_(47,"i",21)(48,"br"),a(),r(49,"p",19),c(50),C(51,"translate"),a()(),M(),k(52,22),r(53,"app-cms-search-list",23),A("optionsChange",function(u){return m(l),y(t.optionsSearch,u)||(t.optionsSearch=u),p(u)}),a(),r(54,"app-cms-statist-list",23),A("optionsChange",function(u){return m(l),y(t.optionsStatist,u)||(t.optionsStatist=u),p(u)}),a(),M(),k(55,24),r(56,"mat-table",25,0),T("matSortChange",function(){m(l);let u=D(57);return p(t.onTableSortData(u))}),k(58,26),x(59,$r,3,3,"mat-header-cell",27)(60,tl,2,1,"mat-cell",28),M(),k(61,29),x(62,il,2,1,"mat-header-cell",27)(63,nl,2,1,"mat-cell",28),M(),k(64,30),x(65,ol,2,1,"mat-header-cell",27)(66,al,4,5,"mat-cell",28),M(),k(67,31),x(68,rl,2,1,"mat-header-cell",27)(69,sl,5,7,"mat-cell",32),M(),k(70,33),x(71,cl,2,1,"mat-header-cell",27)(72,dl,2,1,"mat-cell",28),M(),k(73,34),x(74,ml,2,1,"mat-header-cell",27)(75,pl,3,3,"mat-cell",28),M(),k(76,35),x(77,ul,2,1,"mat-header-cell",27)(78,fl,3,3,"mat-cell",28),M(),k(79,36),x(80,_l,3,3,"mat-header-cell",37)(81,gl,6,1,"mat-cell",38),M(),x(82,Sl,1,0,"mat-header-row",39)(83,Cl,1,2,"mat-row",40),a(),M(),k(84,41),r(85,"mat-paginator",42,1),T("page",function(u){return m(l),p(t.onTablePageingData(u))}),a(),M(),a()}i&2&&(g("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey","ticketing.departemen.list"),E("optionActionGuideNoticeDisplay",t.viewGuideNotice),g("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",(t.tableRowSelected==null||t.tableRowSelected.title==null?null:t.tableRowSelected.title.length)>0?t.tableRowSelected==null?null:t.tableRowSelected.title:t.tableRowSelected==null?null:t.tableRowSelected.id),o(9),G("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(3),g("checked",t.optionsSearch.data.show),o(),S("",h(14,29,"ACTION.SEARCH")," "),o(3),g("checked",t.optionsStatist.data.show),o(),S("",h(18,31,"ACTION.STATIST")," "),o(3),w(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessAddRow?20:-1),o(2),w(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?22:-1),o(),w(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?23:-1),o(6),S(" ",h(30,33,"ACTION.TICKETS")," "),o(7),S(" ",h(37,35,"ACTION.QUESTIONS")," "),o(7),S(" ",h(44,37,"ACTION.TEMPLATES")," "),o(7),S(" ",h(51,39,"ACTION.LOGS")," "),o(3),E("options",t.optionsSearch),o(),E("options",t.optionsStatist),o(2),g("dataSource",t.tableSource),o(26),g("matHeaderRowDef",t.tabledisplayedColumns),o(),g("matRowDefColumns",t.tabledisplayedColumns),o(2),g("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",ne(41,zr)))},dependencies:[ke,Pe,it,nt,j,rt,lt,pe,ue,st,ct,dt,pt,gt,ut,mt,St,ft,_t,Ct,ht,Se,Ce,vt,he,Bt,He,B,wt,ui,Ue,Le,ni],encapsulation:2});var sn=ln;var hl=()=>[5,10,20,100],Tl=(n,s)=>s.id;function bl(n,s){if(n&1){let e=I();r(0,"div",16)(1,"a",25),T("click",function(){m(e);let t=d();return p(t.onActionButtonNewRow())}),_(2,"i",26)(3,"br"),a(),r(4,"p",27),c(5),C(6,"translate"),a()()}n&2&&(o(5),S(" ",h(6,1,"ACTION.ADD")," "))}function vl(n,s){if(n&1){let e=I();r(0,"div",16)(1,"a",28),T("click",function(){m(e);let t=d();return p(t.onActionButtonEditRow(t.tableRowSelected))}),_(2,"i",29)(3,"br"),a(),r(4,"p",27),c(5),C(6,"translate"),a()()}n&2&&(o(5),S(" ",h(6,1,"ACTION.EDIT")," "))}function wl(n,s){if(n&1){let e=I();r(0,"div",16)(1,"a",30),T("click",function(){m(e);let t=d();return p(t.onActionButtonDeleteRow(t.tableRowSelected))}),_(2,"i",31)(3,"br"),a(),r(4,"p",27),c(5),C(6,"translate"),a()()}n&2&&(o(5),S(" ",h(6,1,"ACTION.DELETE")," "))}function Il(n,s){if(n&1){let e=I();r(0,"div",16)(1,"a",32),T("click",function(){m(e);let t=d();return p(t.onActionButtonViewRow(t.tableRowSelected))}),_(2,"i",33)(3,"br"),a(),r(4,"p",27),c(5),C(6,"translate"),a()()}n&2&&(o(5),S(" ",h(6,1,"ACTION.VIEW")," "))}function kl(n,s){if(n&1&&_(0,"select",43),n&2){let e=d(2).$implicit,i=d(2);g("contentService",i.contentService)("row",e)}}function Ml(n,s){if(n&1&&(r(0,"div",40),_(1,"i",42),C(2,"statusIconClass"),v(3,kl,1,2,"select",43),a()),n&2){let e=d().$implicit,i=d(2);o(),g("ngClass",h(2,2,e.recordStatus)),o(2),w(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessEditRow&&e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?3:-1)}}function El(n,s){if(n&1){let e=I();r(0,"div",41)(1,"div",40)(2,"span",44),T("click",function(t){return m(e),d(3).onActionCopied(),p(t.stopPropagation())}),_(3,"i",45),a(),c(4),a()()}if(n&2){let e=d().$implicit;o(2),g("cdkCopyToClipboard",e.id.toString()),o(2),S(" ID: ",e.id," ")}}function yl(n,s){if(n&1){let e=I();r(0,"div",35),T("click",function(t){let l=m(e).$implicit,f=d(2);return p(f.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=m(e).$implicit,f=d(2);return p(f.onActionTableRowSelect(l,t))})("mouseenter",function(){let t=m(e).$implicit,l=d(2);return p(l.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=m(e).$implicit,l=d(2);return p(l.onActionTableRowMouseLeave(t))}),r(1,"div",36),_(2,"i",37),C(3,"statusIconClass"),a(),r(4,"div",38)(5,"div",39),c(6),a(),v(7,Ml,4,4,"div",40),v(8,El,5,2,"div",41),a()()}if(n&2){let e=s.$implicit,i=d(2);G("selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)),Ve("aria-label",e.title||e.id),o(2),g("ngClass",h(3,7,e.recordStatus)),o(4),S(" ",e.title||"ID: "+e.id," "),o(),w(e.recordStatus!==void 0?7:-1),o(),w(i.getRowExpanded(e)?8:-1)}}function Al(n,s){if(n&1&&(r(0,"div",21),Oe(1,yl,9,9,"div",34,Tl),a()),n&2){let e=d();o(),Ge(e.dataModelResult.listItems)}}function Rl(n,s){n&1&&(r(0,"div",22),c(1),C(2,"translate"),a()),n&2&&(o(),R(h(2,1,"MESSAGE.NoRecord")))}var Ei=class Ei extends sn{};Ei.\u0275fac=(()=>{let s;return function(i){return(s||(s=At(Ei)))(i||Ei)}})(),Ei.\u0275cmp=V({type:Ei,selectors:[["app-ticketing-departemen-list-mobile"]],standalone:!1,features:[P],decls:37,vars:31,consts:[["paginator",""],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionOnScrollNearBottom","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplay","optionActionRowDisplayMenu","optionActionRowDisplayMenuAct","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-maximize","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-minimize","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],[1,"cms-m-list"],[1,"cms-m-empty"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],["role","button","tabindex","0",1,"cms-m-list-item",3,"selected"],["role","button","tabindex","0",1,"cms-m-list-item",3,"click","rtclick","mouseenter","mouseleave"],[1,"cms-m-list-item-image-placeholder"],["aria-hidden","true",3,"ngClass"],[1,"cms-m-list-item-content"],[1,"cms-m-list-item-title"],[1,"cms-m-list-item-subtitle"],[1,"cms-m-list-item-expanded"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none","margin-left","8px",3,"contentService","row"],[1,"navi-icon","pointer",3,"click","cdkCopyToClipboard"],[1,"flaticon2-copy"]],template:function(e,i){if(e&1){let t=I();r(0,"app-cms-html-list-mobile",1),A("optionActionGuideNoticeDisplayChange",function(f){return m(t),y(i.viewGuideNotice,f)||(i.viewGuideNotice=f),p(f)}),T("optionOnActionButtonMemoRow",function(){return m(t),p(i.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return m(t),p(i.onActionButtonMemo())})("optionOnActionButtonExport",function(){return m(t),p(i.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return m(t),p(i.onActionButtonPrintRow())})("optionOnScrollNearBottom",function(){return m(t),p(i.onActionLoadNextPage())}),ie(1,2)(2,3)(3,4),k(4,5),r(5,"a",6),T("click",function(){return m(t),p(i.viewGuideNotice=!i.viewGuideNotice)}),_(6,"i",7),a(),r(7,"a",6),T("click",function(){return m(t),p(i.onActionButtonReload())}),_(8,"i",8),a(),r(9,"a",9),T("click",function(){return m(t),p(i.onActionGridExpandRows(!0))}),_(10,"i",10),a(),r(11,"a",9),T("click",function(){return m(t),p(i.onActionGridExpandRows(!1))}),_(12,"i",11),a(),M(),k(13,12),r(14,"a",13),T("click",function(){return m(t),p(i.optionsSearch.data.show=!i.optionsSearch.data.show)}),_(15,"mat-slide-toggle",14),c(16),C(17,"translate"),a(),r(18,"a",13),T("click",function(){return m(t),p(i.onActionButtonStatist())}),_(19,"mat-slide-toggle",14),c(20),C(21,"translate"),a(),M(),k(22,15),v(23,bl,7,3,"div",16),M(),k(24,17),v(25,vl,7,3,"div",16),v(26,wl,7,3,"div",16),v(27,Il,7,3,"div",16),M(),k(28,18),r(29,"app-cms-search-list",19),A("optionsChange",function(f){return m(t),y(i.optionsSearch,f)||(i.optionsSearch=f),p(f)}),a(),r(30,"app-cms-statist-list",19),A("optionsChange",function(f){return m(t),y(i.optionsStatist,f)||(i.optionsStatist=f),p(f)}),a(),M(),k(31,20),v(32,Al,3,0,"div",21)(33,Rl,3,3,"div",22),M(),k(34,23),r(35,"mat-paginator",24,0),T("page",function(){return m(t),p(i.onTablePageingData())}),a(),M(),a()}e&2&&(g("optionsListInfoAreaId",i.constructorInfoAreaId)("optionGuideNoticeKey",""),E("optionActionGuideNoticeDisplay",i.viewGuideNotice),g("optionTreeDisplay",!1)("optionActionRowId",i.tableRowSelected==null?null:i.tableRowSelected.id)("optionActionRowDisplay",(i.tableRowSelected==null||i.tableRowSelected.id==null?null:i.tableRowSelected.id.length)>0)("optionActionRowDisplayMenu",i.tableRowSelect2Click)("optionActionRowDisplayMenuAct",i.tableRowSelectActionMenuClick)("optionSelectRowItemTitle",(i.tableRowSelected==null?null:i.tableRowSelected.title)||(i.tableRowSelected==null?null:i.tableRowSelected.id)),o(8),G("rotation360",i.publicHelper.processService.process.inRunArea[i.constructorInfoAreaId]),o(7),g("checked",i.optionsSearch.data.show),o(),S(" ",h(17,26,"ACTION.SEARCH")),o(3),g("checked",i.optionsStatist.data.show),o(),S(" ",h(21,28,"ACTION.STATIST")),o(3),w(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessAddRow?23:-1),o(2),w(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessEditRow&&(i.tableRowSelected==null||i.tableRowSelected.id==null?null:i.tableRowSelected.id.length)>0?25:-1),o(),w(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessDeleteRow&&(i.tableRowSelected==null||i.tableRowSelected.id==null?null:i.tableRowSelected.id.length)>0?26:-1),o(),w(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessWatchRow&&(i.tableRowSelected==null||i.tableRowSelected.id==null?null:i.tableRowSelected.id.length)>0?27:-1),o(2),E("options",i.optionsSearch),o(),E("options",i.optionsStatist),o(2),w(!(i.dataModelResult==null||i.dataModelResult.listItems==null)&&i.dataModelResult.listItems.length?32:33),o(3),g("length",i.dataModelResult.totalRowCount)("pageIndex",i.dataModelResult.currentPageNumber-1)("pageSize",i.dataModelResult.rowPerPage)("pageSizeOptions",ne(30,hl)))},dependencies:[ke,j,pe,ue,qe,Se,Ce,Nt,he,Bt,B,Le],encapsulation:2});var So=Ei;function Dl(n,s){if(n&1){let e=I();r(0,"button",13),T("click",function(){m(e);let t=d();return p(t.onActionAdd())}),c(1),C(2,"translate"),a()}n&2&&(o(),S(" ",h(2,1,"ACTION.ADD")," "))}function xl(n,s){if(n&1){let e=I();r(0,"button",14),T("click",function(){m(e);let t=d();return p(t.onActionEdit())}),c(1),C(2,"translate"),a()}n&2&&(o(),S(" ",h(2,1,"ACTION.EDIT")," "))}function Ll(n,s){if(n&1){let e=I();r(0,"button",15),T("click",function(){m(e);let t=d();return p(t.onActionDelete())}),c(1),C(2,"translate"),a()}n&2&&(o(),S(" ",h(2,1,"ACTION.DELETE")," "))}function Vl(n,s){if(n&1){let e=I();r(0,"button",16),T("click",function(){m(e);let t=d();return p(t.onActionButtonReload())}),r(1,"mat-icon",17),C(2,"translate"),c(3,"refresh"),a()()}if(n&2){let e=d();o(),G("rotation360",e.publicHelper.processService.process.inRunArea[e.constructorInfoAreaId]),g("title",L(h(2,4,"ACTION.RELOAD")))}}function Bl(n,s){if(n&1){let e=I();r(0,"mat-tree-node",18),_(1,"button",19),r(2,"span",20),T("click",function(){let t=m(e).$implicit,l=d();return p(l.onActionSelect(t))}),c(3),a()()}if(n&2){let e=s.$implicit,i=d();G("ntk-tree-selected",(i.dataModelSelect==null?null:i.dataModelSelect.id)>0&&(i.dataModelSelect==null?null:i.dataModelSelect.id)===e.id),o(3),R(e.title)}}function Nl(n,s){if(n&1){let e=I();r(0,"mat-tree-node",21)(1,"button",22)(2,"mat-icon",23),c(3),a()(),r(4,"span",20),T("click",function(){let t=m(e).$implicit,l=d();return p(l.onActionSelect(t))}),c(5),a()()}if(n&2){let e=s.$implicit,i=d(),t=D(10);G("ntk-tree-selected",(i.dataModelSelect==null?null:i.dataModelSelect.id)>0&&(i.dataModelSelect==null?null:i.dataModelSelect.id)===e.id),g("cdkTreeNodeTypeaheadLabel",e.title)("isExpanded",e.isExpanded??!1),o(),Ve("type","button")("aria-label","Toggle "+e.title),o(2),S(" ",t.isExpanded(e)?"expand_more":"chevron_right"," "),o(2),R(e.title)}}var dn=class dn{constructor(s,e,i,t,l,f,u,J,ee){this.cmsToastrService=s;this.coreEnumService=e;this.categoryService=i;this.dialog=t;this.cdr=l;this.publicHelper=f;this.tokenHelper=u;this.cmsStoreService=J;this.translate=ee;this.constructorInfoAreaId=this.constructor.name;this.dataModelSelect=new $e;this.dataModelResult=new Q;this.filterModel=new Z;this.dataSource=new Xo;this.optionChange=new bi;this.unsubscribe=[];this.optionReload=()=>this.onActionButtonReload();this.hasChild=(s,e)=>!1;this.childrenAccessor=s=>[];this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(s){this.onActionSelectForce(s)}ngOnInit(){this.unsubscribe.push(this.cmsStoreService.getState(s=>s.tokenInfoStore).subscribe(()=>te(this,null,function*(){this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(s=>s.unsubscribe())}DataGetAll(){this.filterModel.rowPerPage=200,this.filterModel.accessLoad=!0;let s=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(s,e,this.constructorInfoAreaId)}),this.categoryService.ServiceGetAll(this.filterModel).subscribe({next:e=>{e.isSuccess&&(this.dataModelResult=e,this.dataSource.data=this.dataModelResult.listItems),this.publicHelper.processService.processStop(s)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(s,!1)}})}onActionSelect(s){s&&this.dataModelSelect&&s.id==this.dataModelSelect.id?(this.dataModelSelect=null,this.optionChange.emit(null)):(this.dataModelSelect=s,this.optionChange.emit(this.dataModelSelect))}onActionButtonReload(){this.onActionSelect(null),this.dataModelSelect=new $e,this.DataGetAll()}onActionSelectForce(s){}onActionAdd(){var s="";this.publicHelper.isMobile?s="dialog-fullscreen":s="dialog-min",this.dialog.open(on,{height:"90%",panelClass:s,enterAnimationDuration:q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:q.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(i=>{i&&i.dialogChangedDate&&this.DataGetAll()})}onActionEdit(){let s=0;if(this.dataModelSelect&&this.dataModelSelect.id>0&&(s=this.dataModelSelect.id),s===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorCategoryNotSelected").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(Ut,{height:"90%",panelClass:e,enterAnimationDuration:q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:q.cmsViewConfig.exitAnimationDuration,data:{id:s}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionDelete(){let s=0;if(this.dataModelSelect&&this.dataModelSelect.id>0&&(s=this.dataModelSelect.id),s===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorCategoryNotSelected").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(rn,{height:"90%",panelClass:e,enterAnimationDuration:q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:q.cmsViewConfig.exitAnimationDuration,data:{id:s}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}};dn.\u0275fac=function(e){return new(e||dn)(b(H),b(K),b(et),b(je),b(N),b(O),b(_e),b(fe),b(F))},dn.\u0275cmp=V({type:dn,selectors:[["app-ticketing-departemen-tree"]],inputs:{optionSelectForce:"optionSelectForce",optionReload:"optionReload"},outputs:{optionChange:"optionChange"},standalone:!1,decls:14,vars:14,consts:[["treeTagControl",""],[3,"optionListTitle","optionHeaderDisplay","optionActionMainDisplay","optionFooterDisplay"],["cms-tree-action",""],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],["cms-tree-body","",1,"loader-container"],[3,"optionsInfoAreaId"],[3,"dataSource","childrenAccessor"],["matTreeNodePadding","",3,"ntk-tree-selected",4,"matTreeNodeDef"],["matTreeNodePadding","","matTreeNodeToggle","","isExpandable","",3,"cdkTreeNodeTypeaheadLabel","isExpanded","ntk-tree-selected",4,"matTreeNodeDef","matTreeNodeDefWhen"],["cms-tree-footer",""],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[2,"font-size","20px","margin","-6px",3,"title"],["matTreeNodePadding",""],["matIconButton","","disabled",""],[3,"click"],["matTreeNodePadding","","matTreeNodeToggle","","isExpandable","",3,"cdkTreeNodeTypeaheadLabel","isExpanded"],["matIconButton","","matTreeNodeToggle",""],[1,"mat-icon-rtl-mirror"]],template:function(e,i){e&1&&(r(0,"app-cms-html-tree",1),C(1,"translate"),k(2,2),v(3,Dl,3,3,"button",3),v(4,xl,3,3,"button",4),v(5,Ll,3,3,"button",5),v(6,Vl,4,6,"button",6),M(),k(7,7),_(8,"app-progress-spinner",8),r(9,"mat-tree",9,0),x(11,Bl,4,3,"mat-tree-node",10)(12,Nl,6,8,"mat-tree-node",11),a(),M(),ie(13,12),a()),e&2&&(g("optionListTitle",h(1,12,"TABLE."+(i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.moduleEntityName)))("optionHeaderDisplay",!0)("optionActionMainDisplay",!0)("optionFooterDisplay",!1),o(3),w(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessAddRow?3:-1),o(),w(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessEditRow&&(i.dataModelSelect==null?null:i.dataModelSelect.id)>0?4:-1),o(),w(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessDeleteRow&&(i.dataModelSelect==null?null:i.dataModelSelect.id)>0?5:-1),o(),w(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessWatchRow?6:-1),o(2),g("optionsInfoAreaId",i.constructorInfoAreaId),o(),g("dataSource",i.dataSource)("childrenAccessor",i.childrenAccessor),o(3),g("matTreeNodeDefWhen",i.hasChild))},dependencies:[it,nt,Ko,zo,Yo,Jo,Qo,U,na,B],encapsulation:2});var ot=dn;var Fl=()=>[5,10,20,100],Ol=n=>({display:n});function Gl(n,s){if(n&1){let e=I();r(0,"a",39),T("click",function(){m(e);let t=d();return p(t.onActionBackToParent())}),_(1,"i",40),a()}}function Pl(n,s){if(n&1){let e=I();r(0,"div",18)(1,"a",41),T("click",function(t){m(e);let l=d();return p(l.onActionButtonEditRow(l.tableRowSelected,t))}),_(2,"i",42)(3,"br"),a(),r(4,"p",43),c(5),C(6,"translate"),a()()}n&2&&(o(5),S(" ",h(6,1,"ACTION.EDIT")," "))}function Hl(n,s){if(n&1&&(r(0,"mat-header-cell",44),c(1),a()),n&2){let e=d();o(),S(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function ql(n,s){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=s.$implicit;o(),S(" ",e.id," ")}}function Wl(n,s){if(n&1&&(r(0,"mat-header-cell",44),c(1),a()),n&2){let e=d();o(),S(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function jl(n,s){if(n&1&&(r(0,"mat-cell"),c(1),C(2,"cmssiteinfo"),C(3,"async"),a()),n&2){let e=s.$implicit;o(),S(" ",h(3,3,h(2,1,e.linkSiteId))," ")}}function Ul(n,s){if(n&1&&(r(0,"mat-header-cell",44),c(1),a()),n&2){let e=d();o(),S(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function Ql(n,s){if(n&1&&_(0,"select",46),n&2){let e=d().$implicit,i=d();g("contentService",i.contentService)("row",e)("ngStyle",Ne(3,Ol,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function Kl(n,s){if(n&1&&(r(0,"mat-cell",45),C(1,"statusCellClass"),_(2,"i",45),C(3,"statusIconClass"),v(4,Ql,1,5,"select",46),a()),n&2){let e=s.$implicit,i=d();g("ngClass",h(1,3,e.recordStatus)),o(2),g("ngClass",h(3,5,e.recordStatus)),o(2),w(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessEditRow?4:-1)}}function zl(n,s){if(n&1&&(r(0,"mat-header-cell",44),c(1),a()),n&2){let e=d();o(),S(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," ")}}function Jl(n,s){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=s.$implicit;o(),S(" ",e.title," ")}}function Yl(n,s){if(n&1&&(r(0,"mat-header-cell",44),c(1),a()),n&2){let e=d();o(),S(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function Xl(n,s){if(n&1&&(r(0,"mat-cell"),c(1),C(2,"localeDate"),a()),n&2){let e=s.$implicit;o(),S(" ",h(2,1,e.createdDate)," ")}}function Zl(n,s){if(n&1&&(r(0,"mat-header-cell",44),c(1),a()),n&2){let e=d();o(),S(" ",e.fieldsInfo.updatedDate==null?null:e.fieldsInfo.updatedDate.fieldTitle," ")}}function $l(n,s){if(n&1&&(r(0,"mat-cell"),c(1),C(2,"localeDate"),a()),n&2){let e=s.$implicit;o(),S(" ",h(2,1,e.updatedDate)," ")}}function es(n,s){n&1&&(r(0,"mat-header-cell"),c(1),C(2,"translate"),a()),n&2&&(o(),S(" ",h(2,1,"TITLE.OPTION")," "))}function ts(n,s){if(n&1&&(r(0,"mat-cell",47)(1,"button",48)(2,"mat-icon"),c(3,"more_vert"),a()(),_(4,"mat-menu",null,2),a()),n&2){let e=D(5);o(),g("matMenuTriggerFor",e)}}function is(n,s){n&1&&_(0,"mat-header-row")}function ns(n,s){if(n&1){let e=I();r(0,"mat-row",49),T("click",function(t){let l=m(e).$implicit,f=d();return p(f.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=m(e).$implicit,f=d();return p(f.onActionTableRowSelect(l,t))}),a()}if(n&2){let e=s.$implicit,i=d();G("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var mn=class mn extends bt{constructor(e,i,t,l,f,u,J,ee,Je,Ye,zt){super(e,new yo,Ye,f,ee);this.contentService=e;this.activatedRoute=i;this.cmsToastrService=t;this.router=l;this.tokenHelper=f;this.cmsStoreService=u;this.cdr=J;this.translate=ee;this.pageInfo=Je;this.publicHelper=Ye;this.dialog=zt;this.requestDepartemenId=0;this.requestOperatorId=0;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new Z;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["id","recordStatus","LinkSourceId","createdDate","updatedDate"];this.tabledisplayedColumnsMobileSource=["id","recordStatus","LinkSourceId","createdDate","updatedDate"];this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.requestDepartemenId=+Number(this.activatedRoute.snapshot.paramMap.get("DepartemenId")),this.requestOperatorId=+Number(this.activatedRoute.snapshot.paramMap.get("OperatorId")),this.optionsSearch.parentMethods={onSubmit:kt=>this.onSubmitOptionsSearch(kt)},this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=W.Descending}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(i=>i.tokenInfoStore).subscribe(i=>te(this,null,function*(){this.tokenInfo=i,this.DataGetAll()})));let e=new Y;this.requestOperatorId>0&&(e.propertyName="LinkFromOperatorId",e.value=this.requestOperatorId,this.filteModelContent.filters.push(e)),this.requestDepartemenId>0&&(e=new Y,e.propertyName="LinkFromTicketingDepartemenId",e.value=this.requestDepartemenId,e.clauseType=li.Or,this.filteModelContent.filters.push(e),e=new Y,e.propertyName="LinkToTicketingDepartemenId",e.value=this.requestDepartemenId,e.clauseType=li.Or,this.filteModelContent.filters.push(e))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new yo);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));if(this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.categoryModelSelected&&this.categoryModelSelected.id>0){let t=new Y;t.propertyName="LinkFromTicketingDepartemenId",t.value=this.categoryModelSelected.id,i.filters.push(t)}this.contentService.setAccessLoad(),this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),t.isSuccess?(this.applyDataGetAllResult(t),this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorGetAll(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=W.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=W.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=W.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionSelectorSelect(e){var i=this.filteModelContent.sortColumn,t=this.filteModelContent.sortType;this.filteModelContent=new Z,this.filteModelContent.sortColumn=i,this.filteModelContent.sortType=t,this.categoryModelSelected=e,this.DataGetAll()}onActionButtonEditRow(e=this.tableRowSelected,i){if(!e||!e.id||e.id===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.tableRowSelected=e,this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}if(i?.ctrlKey){let t="/#/application/app/edit/"+this.tableRowSelected.id;window.open(t,"_blank")}else this.router.navigate(["/application/app/edit/",this.tableRowSelected.id])}onActionButtonDeleteRow(e=this.tableRowSelected,i){if(e==null||!e.id||e.id===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.tableRowSelected=e,this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}if(i?.ctrlKey){let t="/#/application/app/delete/"+this.tableRowSelected.id;window.open(t,"_blank")}else this.router.navigate(["/application/app/delete/",this.tableRowSelected.id])}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(u=>{i.set(u,0)}),this.translate.get("MESSAGE.All").subscribe(u=>{i.set(u,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(u=>{this.publicHelper.processService.processStart(t,u,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:u=>{u.isSuccess&&(i.set("All",u.totalRowCount),this.optionsStatist.childMethods.setStatistValue(i)),this.publicHelper.processService.processStop(t)},error:u=>{this.cmsToastrService.typeError(u),this.publicHelper.processService.processStop(t)}});let l=JSON.parse(JSON.stringify(this.filteModelContent)),f=new Y;f.propertyName="recordStatus",f.value=at.Available,l.filters.push(f),this.contentService.ServiceGetCount(l).subscribe({next:u=>{u.isSuccess&&(i.set("Active",u.totalRowCount),this.optionsStatist.childMethods.setStatistValue(i)),this.publicHelper.processService.processStop(t)},error:u=>{this.cmsToastrService.typeError(u),this.publicHelper.processService.processStop(t)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.requestOperatorId>0&&this.router.navigate(["/application/app/"]),this.requestDepartemenId>0&&this.router.navigate(["/ticketing/departemen/"])}};mn.\u0275fac=function(i){return new(i||mn)(b(Qn),b(Me),b(H),b(de),b(_e),b(fe),b(N),b(F),b(Tt),b(O),b(je))},mn.\u0275cmp=V({type:mn,selectors:[["app-application-app-list"]],standalone:!1,features:[P],decls:55,vars:29,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],[3,"optionChange"],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],[1,"col-4"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","linkSiteId"],["matColumnDef","recordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","title"],["matColumnDef","createdDate"],["matColumnDef","updatedDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(i,t){if(i&1){let l=I();r(0,"app-cms-html-list",3),A("optionActionGuideNoticeDisplayChange",function(u){return m(l),y(t.viewGuideNotice,u)||(t.viewGuideNotice=u),p(u)}),T("optionOnActionButtonMemoRow",function(){return m(l),p(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return m(l),p(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return m(l),p(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return m(l),p(t.onActionButtonPrintRow())}),k(1,4),r(2,"app-ticketing-departemen-tree",5),T("optionChange",function(u){return m(l),p(t.onActionSelectorSelect(u))}),a(),M(),ie(3,6)(4,7),k(5,8),v(6,Gl,2,0,"a",9),r(7,"a",10),T("click",function(){return m(l),p(t.viewGuideNotice=!t.viewGuideNotice)}),_(8,"i",11),a(),r(9,"a",10),T("click",function(){return m(l),p(t.onActionButtonReload())}),_(10,"i",12),a(),M(),k(11,13),r(12,"a",14),T("click",function(){return m(l),p(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),_(13,"mat-slide-toggle",15),c(14),C(15,"translate"),a(),r(16,"a",14),T("click",function(){return m(l),p(t.onActionButtonStatist())}),_(17,"mat-slide-toggle",15),c(18),C(19,"translate"),a(),M(),ie(20,16),k(21,17),v(22,Pl,7,3,"div",18),M(),k(23,19),r(24,"app-cms-search-list",20),A("optionsChange",function(u){return m(l),y(t.optionsSearch,u)||(t.optionsSearch=u),p(u)}),a(),r(25,"app-cms-statist-list",20),A("optionsChange",function(u){return m(l),y(t.optionsStatist,u)||(t.optionsStatist=u),p(u)}),a(),M(),k(26,21),r(27,"mat-table",22,0),T("matSortChange",function(){m(l);let u=D(28);return p(t.onTableSortData(u))}),k(29,23),x(30,Hl,2,1,"mat-header-cell",24)(31,ql,2,1,"mat-cell",25),M(),k(32,26),x(33,Wl,2,1,"mat-header-cell",24)(34,jl,4,5,"mat-cell",25),M(),k(35,27),x(36,Ul,2,1,"mat-header-cell",24)(37,Kl,5,7,"mat-cell",28),M(),k(38,29),x(39,zl,2,1,"mat-header-cell",24)(40,Jl,2,1,"mat-cell",25),M(),k(41,30),x(42,Yl,2,1,"mat-header-cell",24)(43,Xl,3,3,"mat-cell",25),M(),k(44,31),x(45,Zl,2,1,"mat-header-cell",24)(46,$l,3,3,"mat-cell",25),M(),k(47,32),x(48,es,3,3,"mat-header-cell",33)(49,ts,6,1,"mat-cell",34),M(),x(50,is,1,0,"mat-header-row",35)(51,ns,1,2,"mat-row",36),a(),M(),k(52,37),r(53,"mat-paginator",38,1),T("page",function(u){return m(l),p(t.onTablePageingData(u))}),a(),M(),a()}i&2&&(g("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),E("optionActionGuideNoticeDisplay",t.viewGuideNotice),g("optionTreeDisplay",t.requestDepartemenId===0)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),o(6),w(t.requestDepartemenId>0?6:-1),o(4),G("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(3),g("checked",t.optionsSearch.data.show),o(),S("",h(15,24,"ACTION.SEARCH")," "),o(3),g("checked",t.optionsStatist.data.show),o(),S("",h(19,26,"ACTION.STATIST")," "),o(4),w(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?22:-1),o(2),E("options",t.optionsSearch),o(),E("options",t.optionsStatist),o(2),g("dataSource",t.tableSource),o(23),g("matHeaderRowDef",t.tabledisplayedColumns),o(),g("matRowDefColumns",t.tabledisplayedColumns),o(2),g("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",ne(28,Fl)))},dependencies:[ke,Pe,it,nt,j,rt,lt,pe,ue,st,ct,dt,pt,gt,ut,mt,St,ft,_t,Ct,ht,Se,Ce,vt,he,Bt,ot,He,B,wt,Ue,Le,ni],encapsulation:2});var Ai=mn;var os=()=>[5,10,20,100],as=(n,s)=>s.id;function rs(n,s){if(n&1){let e=I();r(0,"a",25),T("click",function(){m(e);let t=d();return p(t.onActionBackToParent())}),_(1,"i",26),a()}}function ls(n,s){if(n&1&&(r(0,"div",33),_(1,"i",35),c(2),C(3,"localeDate"),a()),n&2){let e=d().$implicit,i=d(2);o(2),le(" ",i.fieldsInfo.createdDate==null?null:i.fieldsInfo.createdDate.fieldTitle,": ",h(3,2,e.createdDate)," ")}}function ss(n,s){if(n&1&&(r(0,"div",33),_(1,"i",36),c(2),C(3,"localeDate"),a()),n&2){let e=d().$implicit,i=d(2);o(2),le(" ",i.fieldsInfo.updatedDate==null?null:i.fieldsInfo.updatedDate.fieldTitle,": ",h(3,2,e.updatedDate)," ")}}function cs(n,s){if(n&1&&(r(0,"div",33),_(1,"i",37),C(2,"statusIconClass"),a()),n&2){let e=d().$implicit;o(),g("ngClass",h(2,1,e.recordStatus))}}function ds(n,s){if(n&1){let e=I();r(0,"div",34)(1,"div",33)(2,"span",38),T("click",function(t){return m(e),d(3).onActionCopied(),p(t.stopPropagation())}),_(3,"i",39),a(),c(4),a()()}if(n&2){let e=d().$implicit;o(2),g("cdkCopyToClipboard",(e.id==null?null:e.id.toString())||""),o(2),S(" ID: ",e.id," ")}}function ms(n,s){if(n&1){let e=I();r(0,"div",28),T("click",function(t){let l=m(e).$implicit,f=d(2);return p(f.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=m(e).$implicit,f=d(2);return p(f.onActionTableRowSelect(l,t))})("mouseenter",function(){let t=m(e).$implicit,l=d(2);return p(l.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=m(e).$implicit,l=d(2);return p(l.onActionTableRowMouseLeave(t))}),r(1,"div",29),_(2,"i",30),C(3,"statusIconClass"),a(),r(4,"div",31)(5,"div",32),c(6),a(),v(7,ls,4,4,"div",33),v(8,ss,4,4,"div",33),v(9,cs,3,3,"div",33),v(10,ds,5,2,"div",34),a()()}if(n&2){let e=s.$implicit,i=d(2);G("selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)),Ve("aria-label",e.id||""),o(2),g("ngClass",h(3,9,e.recordStatus)),o(4),S("ID: ",e.id),o(),w(e.createdDate?7:-1),o(),w(e.updatedDate?8:-1),o(),w(e.recordStatus!==void 0?9:-1),o(),w(i.getRowExpanded(e)?10:-1)}}function ps(n,s){if(n&1&&(r(0,"div",21),Oe(1,ms,11,11,"div",27,as),a()),n&2){let e=d();o(),Ge(e.dataModelResult.listItems)}}function us(n,s){n&1&&(r(0,"div",22),c(1),C(2,"translate"),a()),n&2&&(o(),S(" ",h(2,1,"MESSAGE.NoRecord")," "))}var Ri=class Ri extends Ai{constructor(){super(...arguments);this.actionMenuOpen=null}toggleActionMenu(e){let i=String(e);this.actionMenuOpen===i?this.actionMenuOpen=null:this.actionMenuOpen=i}closeActionMenu(){this.actionMenuOpen=null}toString(e){return String(e)}onDocumentClick(e){let i=e.target;!i.closest(".cms-m-action-menu")&&!i.closest(".cms-m-action-menu-dropdown")&&this.closeActionMenu()}};Ri.\u0275fac=(()=>{let e;return function(t){return(e||(e=At(Ri)))(t||Ri)}})(),Ri.\u0275cmp=V({type:Ri,selectors:[["app-application-app-list-mobile"]],hostBindings:function(i,t){i&1&&T("click",function(f){return t.onDocumentClick(f)},Jt)},standalone:!1,features:[P],decls:34,vars:28,consts:[["paginator",""],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionOnScrollNearBottom","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplay","optionActionRowDisplayMenu","optionActionRowDisplayMenuAct","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-maximize","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-minimize","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],[1,"cms-m-list"],[1,"cms-m-empty"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["role","button","tabindex","0",1,"cms-m-list-item",3,"selected"],["role","button","tabindex","0",1,"cms-m-list-item",3,"click","rtclick","mouseenter","mouseleave"],[1,"cms-m-list-item-image-placeholder"],["aria-hidden","true",3,"ngClass"],[1,"cms-m-list-item-content"],[1,"cms-m-list-item-title"],[1,"cms-m-list-item-subtitle"],[1,"cms-m-list-item-expanded"],["aria-hidden","true",1,"fa-solid","fa-calendar-plus"],["aria-hidden","true",1,"fa-solid","fa-calendar-check"],[3,"ngClass"],[1,"navi-icon","pointer",3,"click","cdkCopyToClipboard"],[1,"flaticon2-copy"]],template:function(i,t){if(i&1){let l=I();r(0,"app-cms-html-list-mobile",1),A("optionActionGuideNoticeDisplayChange",function(u){return m(l),y(t.viewGuideNotice,u)||(t.viewGuideNotice=u),p(u)}),T("optionOnActionButtonMemoRow",function(){return m(l),p(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return m(l),p(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return m(l),p(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return m(l),p(t.onActionButtonPrintRow())})("optionOnScrollNearBottom",function(){return m(l),p(t.onActionLoadNextPage())}),ie(1,2)(2,3)(3,4),k(4,5),v(5,rs,2,0,"a",6),r(6,"a",7),T("click",function(){return m(l),p(t.viewGuideNotice=!t.viewGuideNotice)}),_(7,"i",8),a(),r(8,"a",7),T("click",function(){return m(l),p(t.onActionButtonReload())}),_(9,"i",9),a(),r(10,"a",10),T("click",function(){return m(l),p(t.onActionGridExpandRows(!0))}),_(11,"i",11),a(),r(12,"a",10),T("click",function(){return m(l),p(t.onActionGridExpandRows(!1))}),_(13,"i",12),a(),M(),k(14,13),r(15,"a",14),T("click",function(){return m(l),p(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),_(16,"mat-slide-toggle",15),c(17),C(18,"translate"),a(),r(19,"a",14),T("click",function(){return m(l),p(t.onActionButtonStatist())}),_(20,"mat-slide-toggle",15),c(21),C(22,"translate"),a(),M(),ie(23,16)(24,17),k(25,18),r(26,"app-cms-search-list",19),A("optionsChange",function(u){return m(l),y(t.optionsSearch,u)||(t.optionsSearch=u),p(u)}),a(),r(27,"app-cms-statist-list",19),A("optionsChange",function(u){return m(l),y(t.optionsStatist,u)||(t.optionsStatist=u),p(u)}),a(),M(),k(28,20),v(29,ps,3,0,"div",21)(30,us,3,3,"div",22),M(),k(31,23),r(32,"mat-paginator",24,0),T("page",function(u){return m(l),p(t.onTablePageingData(u))}),a(),M(),a()}i&2&&(g("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),E("optionActionGuideNoticeDisplay",t.viewGuideNotice),g("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplay",(t.tableRowSelected==null?null:t.tableRowSelected.id)>0)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionActionRowDisplayMenuAct",t.tableRowSelectActionMenuClick)("optionSelectRowItemTitle",(t.tableRowSelected==null?null:t.tableRowSelected.id)||""),o(5),w(t.requestDepartemenId>0?5:-1),o(4),G("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(7),g("checked",t.optionsSearch.data.show),o(),S("",h(18,23,"ACTION.SEARCH")," "),o(3),g("checked",t.optionsStatist.data.show),o(),S("",h(22,25,"ACTION.STATIST")," "),o(5),E("options",t.optionsSearch),o(),E("options",t.optionsStatist),o(2),w(!(t.dataModelResult==null||t.dataModelResult.listItems==null)&&t.dataModelResult.listItems.length?29:30),o(3),g("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",ne(27,os)))},dependencies:[ke,pe,ue,qe,Se,Ce,Nt,he,B,Ue,Le],encapsulation:2});var Ln=Ri;var gs=["vform"];function Ss(n,s){if(n&1){let e=I();r(0,"app-cms-enum-record-status-selector",18),A("modelChange",function(t){m(e);let l=d();return y(l.dataModel.recordStatus,t)||(l.dataModel.recordStatus=t),p(t)}),a()}if(n&2){let e=d();E("model",e.dataModel.recordStatus),g("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Cs(n,s){n&1&&_(0,"i",13)}function hs(n,s){n&1&&_(0,"i",14)}function Ts(n,s){n&1&&(r(0,"mat-error"),c(1," Question is "),r(2,"strong"),c(3),C(4,"translate"),a()()),n&2&&(o(3),R(h(4,1,"MESSAGE.required")))}function bs(n,s){if(n&1){let e=I();r(0,"div",17)(1,"button",19),T("click",function(){m(e);let t=d();return p(t.onFormCancel())}),_(2,"i",20),c(3),C(4,"translate"),a(),r(5,"button",21),_(6,"i",22),c(7),C(8,"translate"),a()()}if(n&2){d();let e=D(10);o(3),S(" ",h(4,3,"ACTION.CANCEL")," "),o(2),g("disabled",!e.form.valid),o(2),S(" ",h(8,5,"ACTION.SAVE")," ")}}var pn=class pn extends Vt{constructor(e,i,t,l,f,u,J,ee){super(l,new xt,u,ee);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.ticketingFaqService=l;this.cmsToastrService=f;this.publicHelper=u;this.cdr=J;this.translate=ee;this.requestParentId=0;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.formMatcher=new fi;this.dataModelResult=new Q;this.dataModel=new xt;this.dataFileModel=new Map;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,e&&(this.requestParentId=+e.parentId||0),this.requestParentId>0&&(this.dataModel.linkTicketingDepartemenId=this.requestParentId),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.translate.get("TITLE.Submit_New_Content").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess()}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";if(this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.dataModel.linkFileIds="",this.dataFileModel){let i=Array.from(this.dataFileModel.keys());i&&i.length>0&&(this.dataModel.linkFileIds=i.join(","))}this.ticketingFaqService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e)}})}onActionSelectorSelect(e){if(!e||e.id<=0){this.translate.get("MESSAGE.Information_department_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkTicketingDepartemenId=e.id}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};pn.\u0275fac=function(i){return new(i||pn)(b(we),b(me),b(K),b(Zt),b(H),b(O),b(N),b(F))},pn.\u0275cmp=V({type:pn,selectors:[["app-ticketing-faq-add"]],viewQuery:function(i,t){if(i&1&&oe(gs,5),i&2){let l;ae(l=re())&&(t.formGroup=l.first)}},standalone:!1,features:[P],decls:34,vars:34,consts:[["vform","ngForm"],["Question",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"optionChange","optionSelectForce","optionPlaceholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.question",1,"color-highlight"],["matInput","","type","text","name","dataModel.question","minlength","3","maxlength","1000","required","","id","dataModel.question",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["id","Answer","name","dataModel.answer",3,"ngModelChange","placeholder","config","ngModel"],[3,"dataFileModelChange","dataFileModel","openDirectUploadView"],[1,"form-actions"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let l=I();r(0,"div",2),_(1,"app-progress-spinner",3),r(2,"div",4)(3,"p",5),c(4),a(),r(5,"p"),c(6),C(7,"translate"),a(),_(8,"app-cms-form-result-message",6),r(9,"form",7,0),T("ngSubmit",function(){return m(l),p(t.onFormSubmit())}),v(11,Ss,1,5,"app-cms-enum-record-status-selector",8),r(12,"app-ticketing-departemen-selector",9),C(13,"translate"),T("optionChange",function(u){return m(l),p(t.onActionSelectorSelect(u))}),a(),r(14,"div",10)(15,"label",11),c(16),C(17,"translate"),a(),r(18,"input",12,1),C(20,"translate"),A("ngModelChange",function(u){return m(l),y(t.dataModel.question,u)||(t.dataModel.question=u),p(u)}),a(),v(21,Cs,1,0,"i",13),v(22,hs,1,0,"i",14),r(23,"em"),c(24),a(),v(25,Ts,5,3,"mat-error"),a(),r(26,"p"),c(27),C(28,"translate"),a(),r(29,"angular-editor",15),C(30,"translate"),A("ngModelChange",function(u){return m(l),y(t.dataModel.answer,u)||(t.dataModel.answer=u),p(u)}),a(),_(31,"br"),r(32,"app-cms-files-selector",16),A("dataFileModelChange",function(u){return m(l),y(t.dataFileModel,u)||(t.dataFileModel=u),p(u)}),a(),v(33,bs,9,7,"div",17),a()()()}if(i&2){let l=D(19);o(),g("optionsInfoAreaId",t.constructorInfoAreaId),o(3),S(" ",t.formInfo.formTitle," "),o(2),S(" ",h(7,22,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),g("formInfo",t.formInfo),o(3),w(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?11:-1),o(),g("optionSelectForce",t.dataModel.linkTicketingDepartemenId)("optionPlaceholder",h(13,24,"TITLE.Department")),o(4),R(h(17,26,"TITLE.Question")),o(2),g("placeholder",L(h(20,28,"TITLE.Question"))),E("ngModel",t.dataModel.question),o(3),w(l.value?-1:21),o(),w(l.value?22:-1),o(2),S("",l.value.length," / 100"),o(),w(l.errors!=null&&l.errors.required?25:-1),o(2),R(h(28,30,"TITLE.Answer")),o(2),g("placeholder",h(30,32,"TITLE.Enter_Text"))("config",t.publicHelper.editorConfig),E("ngModel",t.dataModel.answer),o(3),E("dataFileModel",t.dataFileModel),g("openDirectUploadView",!0),o(),w(t.formInfo.submitButtonEnabled?33:-1)}},dependencies:[Ae,se,ce,Ee,Re,De,xe,ve,ye,We,j,Fe,U,ge,mo,lo,Qe,B],encapsulation:2});var Co=pn;var vs=["vform"];function ws(n,s){if(n&1){let e=I();r(0,"app-cms-enum-record-status-selector",18),A("modelChange",function(t){m(e);let l=d();return y(l.dataModel.recordStatus,t)||(l.dataModel.recordStatus=t),p(t)}),a()}if(n&2){let e=d();E("model",e.dataModel.recordStatus),g("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Is(n,s){n&1&&_(0,"i",13)}function ks(n,s){n&1&&_(0,"i",14)}function Ms(n,s){n&1&&(r(0,"mat-error"),c(1," Question is "),r(2,"strong"),c(3),C(4,"translate"),a()()),n&2&&(o(3),R(h(4,1,"MESSAGE.required")))}function Es(n,s){if(n&1){let e=I();r(0,"div",17)(1,"button",19),T("click",function(){m(e);let t=d();return p(t.onFormCancel())}),_(2,"i",20),c(3),C(4,"translate"),a(),r(5,"button",21),_(6,"i",22),c(7),C(8,"translate"),a()()}if(n&2){d();let e=D(10);o(3),S(" ",h(4,3,"ACTION.CANCEL")," "),o(2),g("disabled",!e.form.valid),o(2),S(" ",h(8,5,"ACTION.SAVE")," ")}}var un=class un extends ii{constructor(e,i,t,l,f,u,J,ee){super(l,new xt,u,ee);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.ticketingFaqService=l;this.cmsToastrService=f;this.publicHelper=u;this.cdr=J;this.translate=ee;this.requestId=0;this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.formMatcher=new fi;this.dataModelResult=new Rt;this.dataModel=new xt;this.dataFileModel=new Map;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=+e.id||0),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),this.requestId<=0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent()}DataGetOneContent(){if(this.requestId<=0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.ticketingFaqService.setAccessLoad(),this.ticketingFaqService.setAccessDataType(Dt.Editor),this.ticketingFaqService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.question,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.dataModel.linkFileIds&&this.dataModel.linkFileIds.length>0&&this.dataModel.linkFileIds.split(",").forEach((t,l)=>{let f="";this.dataModel.linkFileIdsSrc.length>=this.dataModel.linkFileIds.length&&(f=this.dataModel.linkFileIdsSrc[l]),this.dataFileModel.set(+t,f)})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";if(this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.dataModel.linkFileIds="",this.dataFileModel){let i=Array.from(this.dataFileModel.keys());i&&i.length>0&&(this.dataModel.linkFileIds=i.join(","))}this.ticketingFaqService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e)}})}onActionSelectorSelect(e){if(!e||e.id<=0){this.translate.get("MESSAGE.Information_department_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkTicketingDepartemenId=e.id}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};un.\u0275fac=function(i){return new(i||un)(b(we),b(me),b(K),b(Zt),b(H),b(O),b(N),b(F))},un.\u0275cmp=V({type:un,selectors:[["app-ticketing-faq-add"]],viewQuery:function(i,t){if(i&1&&oe(vs,5),i&2){let l;ae(l=re())&&(t.formGroup=l.first)}},standalone:!1,features:[P],decls:34,vars:34,consts:[["vform","ngForm"],["Question",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"optionChange","optionSelectForce","optionPlaceholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.question",1,"color-highlight"],["matInput","","type","text","name","dataModel.question","minlength","3","maxlength","1000","required","","id","dataModel.question",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["id","Answer","name","dataModel.answer",3,"ngModelChange","placeholder","config","ngModel"],[3,"dataFileModelChange","dataFileModel","openDirectUploadView"],[1,"form-actions"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let l=I();r(0,"div",2),_(1,"app-progress-spinner",3),r(2,"div",4)(3,"p",5),c(4),a(),r(5,"p"),c(6),C(7,"translate"),a(),_(8,"app-cms-form-result-message",6),r(9,"form",7,0),T("ngSubmit",function(){return m(l),p(t.onFormSubmit())}),v(11,ws,1,5,"app-cms-enum-record-status-selector",8),r(12,"app-ticketing-departemen-selector",9),C(13,"translate"),T("optionChange",function(u){return m(l),p(t.onActionSelectorSelect(u))}),a(),r(14,"div",10)(15,"label",11),c(16),C(17,"translate"),a(),r(18,"input",12,1),C(20,"translate"),A("ngModelChange",function(u){return m(l),y(t.dataModel.question,u)||(t.dataModel.question=u),p(u)}),a(),v(21,Is,1,0,"i",13),v(22,ks,1,0,"i",14),r(23,"em"),c(24),a(),v(25,Ms,5,3,"mat-error"),a(),r(26,"p"),c(27),C(28,"translate"),a(),r(29,"angular-editor",15),C(30,"translate"),A("ngModelChange",function(u){return m(l),y(t.dataModel.answer,u)||(t.dataModel.answer=u),p(u)}),a(),_(31,"br"),r(32,"app-cms-files-selector",16),A("dataFileModelChange",function(u){return m(l),y(t.dataFileModel,u)||(t.dataFileModel=u),p(u)}),a(),v(33,Es,9,7,"div",17),a()()()}if(i&2){let l=D(19);o(),g("optionsInfoAreaId",t.constructorInfoAreaId),o(3),S(" ",t.formInfo.formTitle," "),o(2),S(" ",h(7,22,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),g("formInfo",t.formInfo),o(3),w(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?11:-1),o(),g("optionSelectForce",t.dataModel.linkTicketingDepartemenId)("optionPlaceholder",h(13,24,"TITLE.Department")),o(4),R(h(17,26,"TITLE.Question")),o(2),g("placeholder",L(h(20,28,"TITLE.Question"))),E("ngModel",t.dataModel.question),o(3),w(l.value?-1:21),o(),w(l.value?22:-1),o(2),S("",l.value.length," / 100"),o(),w(l.errors!=null&&l.errors.required?25:-1),o(2),R(h(28,30,"TITLE.Answer")),o(2),g("placeholder",h(30,32,"TITLE.Enter_Text"))("config",t.publicHelper.editorConfig),E("ngModel",t.dataModel.answer),o(3),E("dataFileModel",t.dataFileModel),g("openDirectUploadView",!0),o(),w(t.formInfo.submitButtonEnabled?33:-1)}},dependencies:[Ae,se,ce,Ee,Re,De,xe,ve,ye,We,j,Fe,U,ge,mo,lo,Qe,B],encapsulation:2});var ho=un;var ys=()=>["expandedDetail"],As=()=>[5,10,20,100],Rs=n=>({display:n});function Ds(n,s){if(n&1){let e=I();r(0,"a",42),T("click",function(){m(e);let t=d();return p(t.onActionBackToParent())}),_(1,"i",43),a()}}function xs(n,s){if(n&1){let e=I();r(0,"div",20)(1,"a",44),T("click",function(){m(e);let t=d();return p(t.onActionButtonNewRow())}),_(2,"i",45)(3,"br"),a(),r(4,"p",46),c(5),C(6,"translate"),a()()}n&2&&(o(5),S(" ",h(6,1,"ACTION.ADD")," "))}function Ls(n,s){if(n&1){let e=I();r(0,"div",20)(1,"a",47),T("click",function(){m(e);let t=d();return p(t.onActionButtonEditRow(t.tableRowSelected))}),_(2,"i",48)(3,"br"),a(),r(4,"p",46),c(5),C(6,"translate"),a()()}n&2&&(o(5),S(" ",h(6,1,"ACTION.EDIT")," "))}function Vs(n,s){if(n&1){let e=I();r(0,"div",20)(1,"a",49),T("click",function(){m(e);let t=d();return p(t.onActionButtonDeleteRow(t.tableRowSelected))}),_(2,"i",50)(3,"br"),a(),r(4,"p",46),c(5),C(6,"translate"),a()()}n&2&&(o(5),S(" ",h(6,1,"ACTION.DELETE")," "))}function Bs(n,s){if(n&1&&(r(0,"mat-header-cell",51),c(1),a()),n&2){let e=d();o(),S(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function Ns(n,s){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=s.$implicit;o(),S(" ",e.id," ")}}function Fs(n,s){if(n&1&&(r(0,"mat-header-cell",51),c(1),a()),n&2){let e=d();o(),S(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function Os(n,s){if(n&1&&(r(0,"mat-cell"),c(1),C(2,"cmssiteinfo"),C(3,"async"),a()),n&2){let e=s.$implicit;o(),S(" ",h(3,3,h(2,1,e.linkSiteId))," ")}}function Gs(n,s){if(n&1&&(r(0,"mat-header-cell",51),c(1),a()),n&2){let e=d();o(),S(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function Ps(n,s){if(n&1&&(r(0,"mat-cell",52),C(1,"statusCellClass"),_(2,"i",52),C(3,"statusIconClass"),a()),n&2){let e=s.$implicit;g("ngClass",h(1,2,e.recordStatus)),o(2),g("ngClass",h(3,4,e.recordStatus))}}function Hs(n,s){if(n&1&&(r(0,"mat-header-cell",51),c(1),a()),n&2){let e=d();o(),S(" ",e.fieldsInfo.question==null?null:e.fieldsInfo.question.fieldTitle," ")}}function qs(n,s){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=s.$implicit;o(),S(" ",e.question," ")}}function Ws(n,s){n&1&&(r(0,"mat-header-cell"),c(1),C(2,"translate"),a()),n&2&&(o(),S(" ",h(2,1,"TITLE.OPTION")," "))}function js(n,s){if(n&1&&(r(0,"mat-cell",53)(1,"button",54)(2,"mat-icon"),c(3,"more_vert"),a()(),_(4,"mat-menu",null,2),a()),n&2){let e=D(5);o(),g("matMenuTriggerFor",e)}}function Us(n,s){if(n&1&&(r(0,"tr")(1,"td")(2,"strong"),c(3),C(4,"translate"),a(),_(5,"div",57),C(6,"safeHtml"),a()()),n&2){let e=d().$implicit,i=d();o(3),S("",(i.fieldsInfo.answer==null?null:i.fieldsInfo.answer.fieldTitle)||h(4,2,"ROUTE.TICKETING.ANSWER"),":"),o(2),g("innerHTML",h(6,4,e.answer),Xe)}}function Qs(n,s){if(n&1){let e=I();r(0,"mat-cell")(1,"div")(2,"table")(3,"tr")(4,"td")(5,"span",55),T("click",function(t){return m(e),d().onActionCopied(),p(t.stopPropagation())}),_(6,"i",56),a(),c(7),a()(),v(8,Us,7,6,"tr"),a()()()}if(n&2){let e=s.$implicit,i=d();o(5),g("cdkCopyToClipboard",(e.id==null?null:e.id.toString())||""),o(2),le(" ",i.fieldsInfo.id==null?null:i.fieldsInfo.id.fieldTitle,": ",e.id," "),o(),w(e.answer?8:-1)}}function Ks(n,s){n&1&&_(0,"mat-header-row")}function zs(n,s){if(n&1){let e=I();r(0,"mat-row",58),T("click",function(t){let l=m(e).$implicit,f=d();return p(f.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=m(e).$implicit,f=d();return p(f.onActionTableRowSelect(l,t))})("mouseenter",function(){let t=m(e).$implicit,l=d();return p(l.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=m(e).$implicit,l=d();return p(l.onActionTableRowMouseLeave(t))}),a()}if(n&2){let e=s.$implicit,i=d();G("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}function Js(n,s){if(n&1){let e=I();r(0,"mat-row",59),T("click",function(t){let l=m(e).$implicit,f=d();return p(f.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=m(e).$implicit,f=d();return p(f.onActionTableRowSelect(l,t))})("mouseenter",function(){let t=m(e).$implicit,l=d();return p(l.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=m(e).$implicit,l=d();return p(l.onActionTableRowMouseLeave(t))}),a()}if(n&2){let e=s.$implicit,i=d();G("ntk-row-expanded",e.expanded===!0)("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)),g("ngStyle",Ne(5,Rs,e.expanded===!0?"":"none"))}}var fn=class fn extends bt{constructor(e,i,t,l,f,u,J,ee,Je,Ye,zt,kt){super(e,new xt,zt,u,ee);this.contentService=e;this.activatedRoute=i;this.cmsToastrService=t;this.cmsConfirmationDialogService=l;this.router=f;this.tokenHelper=u;this.cdr=J;this.translate=ee;this.pageInfo=Je;this.cmsStoreService=Ye;this.publicHelper=zt;this.dialog=kt;this.requestDepartemenId=0;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new Z;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["id","Question"];this.tabledisplayedColumnsMobileSource=["id","Question"];this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:yn=>this.onSubmitOptionsSearch(yn)},this.filteModelContent.sortColumn="id",this.filteModelContent.sortType=W.Ascending}ngOnInit(){if(this.requestDepartemenId=+Number(this.activatedRoute.snapshot.paramMap.get("DepartemenId")),this.requestDepartemenId>0){let e=new Y;e.propertyName="LinkTicketingDepartemenId",e.value=this.requestDepartemenId,this.filteModelContent.filters.push(e)}this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>te(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new xt);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));if(this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.categoryModelSelected&&this.categoryModelSelected.id>0){let t=new Y;t.propertyName="LinkTicketingDepartemenId",t.value=this.categoryModelSelected.id,i.filters.push(t)}this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),t.isSuccess?(this.applyDataGetAllResult(t),this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorGetAll(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=W.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=W.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=W.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.categoryModelSelected==null&&this.categoryModelSelected&&this.categoryModelSelected.id===0&&(this.requestDepartemenId==null||this.requestDepartemenId===0)){this.translate.get("MESSAGE.Content_not_selected").subscribe(l=>{this.cmsToastrService.typeErrorSelected(l)});return}if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}let e=this.requestDepartemenId;this.categoryModelSelected&&this.categoryModelSelected.id>0&&(e=this.categoryModelSelected.id);var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Co,{height:"90%",panelClass:i,enterAnimationDuration:q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:q.cmsViewConfig.exitAnimationDuration,data:{parentId:e}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()})}onActionSelectorSelect(e){var i=this.filteModelContent.sortColumn,t=this.filteModelContent.sortType;this.filteModelContent=new Z,this.filteModelContent.sortColumn=i,this.filteModelContent.sortType=t,this.categoryModelSelected=e,this.DataGetAll()}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.tableRowSelected=e,this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(ho,{height:"90%",panelClass:i,enterAnimationDuration:q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(e==null||!e.id||e.id===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}if(this.tableRowSelected=e,this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(l=>{i=l["MESSAGE.Please_Confirm"],t=l["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.question+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(l=>{if(l){let f=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(u=>{this.publicHelper.processService.processStart(f,u,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:u=>{u.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(f)},error:u=>{this.cmsToastrService.typeError(u),this.publicHelper.processService.processStop(f)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(u=>{i.set(u,0)}),this.translate.get("MESSAGE.All").subscribe(u=>{i.set(u,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(u=>{this.publicHelper.processService.processStart(t,u,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:u=>{u.isSuccess&&(i.set("All",u.totalRowCount),this.optionsStatist.childMethods.setStatistValue(i)),this.publicHelper.processService.processStop(t)},error:u=>{this.cmsToastrService.typeError(u),this.publicHelper.processService.processStop(t)}});let l=JSON.parse(JSON.stringify(this.filteModelContent)),f=new Y;f.propertyName="recordStatus",f.value=at.Available,l.filters.push(f),this.contentService.ServiceGetCount(l).subscribe({next:u=>{u.isSuccess&&(i.set("Active",u.totalRowCount),this.optionsStatist.childMethods.setStatistValue(i)),this.publicHelper.processService.processStop(t)},error:u=>{this.cmsToastrService.typeError(u),this.publicHelper.processService.processStop(t)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/ticketing/departemen/"])}};fn.\u0275fac=function(i){return new(i||fn)(b(Zt),b(Me),b(H),b(ti),b(de),b(_e),b(N),b(F),b(Tt),b(fe),b(O),b(je))},fn.\u0275cmp=V({type:fn,selectors:[["app-application-app-list"]],standalone:!1,features:[P],decls:58,vars:33,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],[3,"optionChange"],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-maximize","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-minimize","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","","multiTemplateDataRows","",3,"matSortChange","dataSource"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","linkSiteId"],["matColumnDef","recordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","Question"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],["matColumnDef","expandedDetail"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["class","ntk-row-expandedDetail",3,"ntk-row-expanded","ntk-row-selected","ngStyle","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"navi-icon","pointer",3,"click","cdkCopyToClipboard"],[1,"flaticon2-copy"],[1,"ntk-html-content",3,"innerHTML"],[1,"ntk-row-mainfild",3,"click","rtclick","mouseenter","mouseleave"],[1,"ntk-row-expandedDetail",3,"click","rtclick","mouseenter","mouseleave","ngStyle"]],template:function(i,t){if(i&1){let l=I();r(0,"app-cms-html-list",3),A("optionActionGuideNoticeDisplayChange",function(u){return m(l),y(t.viewGuideNotice,u)||(t.viewGuideNotice=u),p(u)}),T("optionOnActionButtonMemoRow",function(){return m(l),p(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return m(l),p(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return m(l),p(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return m(l),p(t.onActionButtonPrintRow())}),k(1,4),r(2,"app-ticketing-departemen-tree",5),T("optionChange",function(u){return m(l),p(t.onActionSelectorSelect(u))}),a(),M(),ie(3,6)(4,7),k(5,8),v(6,Ds,2,0,"a",9),r(7,"a",10),T("click",function(){return m(l),p(t.viewGuideNotice=!t.viewGuideNotice)}),_(8,"i",11),a(),r(9,"a",10),T("click",function(){return m(l),p(t.onActionButtonReload())}),_(10,"i",12),a(),r(11,"a",13),T("click",function(){return m(l),p(t.onActionGridExpandRows(!0))}),_(12,"i",14),a(),r(13,"a",13),T("click",function(){return m(l),p(t.onActionGridExpandRows(!1))}),_(14,"i",15),a(),M(),k(15,16),r(16,"a",17),T("click",function(){return m(l),p(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),_(17,"mat-slide-toggle",18),c(18),C(19,"translate"),a(),r(20,"a",17),T("click",function(){return m(l),p(t.onActionButtonStatist())}),_(21,"mat-slide-toggle",18),c(22),C(23,"translate"),a(),M(),k(24,19),v(25,xs,7,3,"div",20),M(),k(26,21),v(27,Ls,7,3,"div",20),v(28,Vs,7,3,"div",20),M(),k(29,22),r(30,"app-cms-search-list",23),A("optionsChange",function(u){return m(l),y(t.optionsSearch,u)||(t.optionsSearch=u),p(u)}),a(),r(31,"app-cms-statist-list",23),A("optionsChange",function(u){return m(l),y(t.optionsStatist,u)||(t.optionsStatist=u),p(u)}),a(),M(),k(32,24),r(33,"mat-table",25,0),T("matSortChange",function(){m(l);let u=D(34);return p(t.onTableSortData(u))}),k(35,26),x(36,Bs,2,1,"mat-header-cell",27)(37,Ns,2,1,"mat-cell",28),M(),k(38,29),x(39,Fs,2,1,"mat-header-cell",27)(40,Os,4,5,"mat-cell",28),M(),k(41,30),x(42,Gs,2,1,"mat-header-cell",27)(43,Ps,4,6,"mat-cell",31),M(),k(44,32),x(45,Hs,2,1,"mat-header-cell",27)(46,qs,2,1,"mat-cell",28),M(),k(47,33),x(48,Ws,3,3,"mat-header-cell",34)(49,js,6,1,"mat-cell",35),M(),k(50,36),x(51,Qs,9,4,"mat-cell",28),M(),x(52,Ks,1,0,"mat-header-row",37)(53,zs,1,2,"mat-row",38)(54,Js,1,7,"mat-row",39),a(),M(),k(55,40),r(56,"mat-paginator",41,1),T("page",function(u){return m(l),p(t.onTablePageingData(u))}),a(),M(),a()}i&2&&(g("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey","ticketing.faq.list"),E("optionActionGuideNoticeDisplay",t.viewGuideNotice),g("optionTreeDisplay",t.requestDepartemenId===0)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),o(6),w(t.requestDepartemenId>0?6:-1),o(4),G("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(7),g("checked",t.optionsSearch.data.show),o(),S("",h(19,27,"ACTION.SEARCH")," "),o(3),g("checked",t.optionsStatist.data.show),o(),S("",h(23,29,"ACTION.STATIST")," "),o(3),w(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessAddRow?25:-1),o(2),w(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?27:-1),o(),w(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?28:-1),o(2),E("options",t.optionsSearch),o(),E("options",t.optionsStatist),o(2),g("dataSource",t.tableSource),o(19),g("matHeaderRowDef",t.tabledisplayedColumns),o(),g("matRowDefColumns",t.tabledisplayedColumns),o(),g("matRowDefColumns",ne(31,ys)),o(2),g("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",ne(32,As)))},dependencies:[ke,Pe,it,nt,rt,lt,pe,ue,st,ct,dt,pt,gt,ut,mt,St,ft,_t,Ct,ht,qe,Se,Ce,vt,he,ot,He,B,Lt,wt,Le,ni],encapsulation:2});var Di=fn;var Ys=()=>[5,10,20,100],Xs=(n,s)=>s.id;function Zs(n,s){if(n&1){let e=I();r(0,"a",27),T("click",function(){m(e);let t=d();return p(t.onActionBackToParent())}),_(1,"i",28),a()}}function $s(n,s){if(n&1){let e=I();r(0,"div",18)(1,"a",29),T("click",function(){m(e);let t=d();return p(t.onActionButtonNewRow())}),_(2,"i",30)(3,"br"),a(),r(4,"p",31),c(5),C(6,"translate"),a()()}n&2&&(o(5),S(" ",h(6,1,"ACTION.ADD")," "))}function ec(n,s){if(n&1){let e=I();r(0,"div",18)(1,"a",32),T("click",function(){m(e);let t=d();return p(t.onActionButtonEditRow(t.tableRowSelected))}),_(2,"i",33)(3,"br"),a(),r(4,"p",31),c(5),C(6,"translate"),a()()}n&2&&(o(5),S(" ",h(6,1,"ACTION.EDIT")," "))}function tc(n,s){if(n&1){let e=I();r(0,"div",18)(1,"a",34),T("click",function(){m(e);let t=d();return p(t.onActionButtonDeleteRow(t.tableRowSelected))}),_(2,"i",35)(3,"br"),a(),r(4,"p",31),c(5),C(6,"translate"),a()()}n&2&&(o(5),S(" ",h(6,1,"ACTION.DELETE")," "))}function ic(n,s){if(n&1&&(r(0,"div",42),_(1,"i",44),c(2),a()),n&2){let e=d().$implicit,i=d(2);o(2),le(" ",i.fieldsInfo.linkSiteId==null?null:i.fieldsInfo.linkSiteId.fieldTitle,": ",e.linkSiteId," ")}}function nc(n,s){if(n&1&&(r(0,"div",42),_(1,"i",45),C(2,"statusIconClass"),a()),n&2){let e=d().$implicit;o(),g("ngClass",h(2,1,e.recordStatus))}}function oc(n,s){if(n&1&&(r(0,"div",42)(1,"strong"),c(2),C(3,"translate"),a(),_(4,"div",48),C(5,"safeHtml"),a()),n&2){let e=d(2).$implicit,i=d(2);o(2),S("",(i.fieldsInfo.answer==null?null:i.fieldsInfo.answer.fieldTitle)||h(3,2,"ROUTE.TICKETING.ANSWER"),":"),o(2),g("innerHTML",h(5,4,e.answer),Xe)}}function ac(n,s){if(n&1){let e=I();r(0,"div",43)(1,"div",42)(2,"span",46),T("click",function(t){return m(e),d(3).onActionCopied(),p(t.stopPropagation())}),_(3,"i",47),a(),c(4),a(),v(5,oc,6,6,"div",42),a()}if(n&2){let e=d().$implicit;o(2),g("cdkCopyToClipboard",(e.id==null?null:e.id.toString())||""),o(2),S(" ID: ",e.id," "),o(),w(e.answer?5:-1)}}function rc(n,s){if(n&1){let e=I();r(0,"div",37),T("click",function(t){let l=m(e).$implicit,f=d(2);return p(f.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=m(e).$implicit,f=d(2);return p(f.onActionTableRowSelect(l,t))})("mouseenter",function(){let t=m(e).$implicit,l=d(2);return p(l.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=m(e).$implicit,l=d(2);return p(l.onActionTableRowMouseLeave(t))}),r(1,"div",38),_(2,"i",39),C(3,"statusIconClass"),a(),r(4,"div",40)(5,"div",41),c(6),a(),v(7,ic,3,2,"div",42),v(8,nc,3,3,"div",42),v(9,ac,6,3,"div",43),a()()}if(n&2){let e=s.$implicit,i=d(2);G("selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)),Ve("aria-label",e.question||e.id),o(2),g("ngClass",h(3,8,e.recordStatus)),o(4),S(" ",e.question||"ID: "+e.id," "),o(),w(e.linkSiteId?7:-1),o(),w(e.recordStatus!==void 0?8:-1),o(),w(i.getRowExpanded(e)?9:-1)}}function lc(n,s){if(n&1&&(r(0,"div",23),Oe(1,rc,10,10,"div",36,Xs),a()),n&2){let e=d();o(),Ge(e.dataModelResult.listItems)}}function sc(n,s){n&1&&(r(0,"div",24),c(1),C(2,"translate"),a()),n&2&&(o(),S(" ",h(2,1,"MESSAGE.NoRecord")," "))}var xi=class xi extends Di{constructor(){super(...arguments);this.actionMenuOpen=null}toggleActionMenu(e){let i=String(e);this.actionMenuOpen===i?this.actionMenuOpen=null:this.actionMenuOpen=i}closeActionMenu(){this.actionMenuOpen=null}toString(e){return String(e)}onDocumentClick(e){let i=e.target;!i.closest(".cms-m-action-menu")&&!i.closest(".cms-m-action-menu-dropdown")&&this.closeActionMenu()}};xi.\u0275fac=(()=>{let e;return function(t){return(e||(e=At(xi)))(t||xi)}})(),xi.\u0275cmp=V({type:xi,selectors:[["app-application-app-list-mobile"]],hostBindings:function(i,t){i&1&&T("click",function(f){return t.onDocumentClick(f)},Jt)},standalone:!1,features:[P],decls:38,vars:31,consts:[["paginator",""],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionOnScrollNearBottom","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplay","optionActionRowDisplayMenu","optionActionRowDisplayMenuAct","optionSelectRowItemTitle"],["cms-tree",""],[3,"optionChange"],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-maximize","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-minimize","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],[1,"cms-m-list"],[1,"cms-m-empty"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["role","button","tabindex","0",1,"cms-m-list-item",3,"selected"],["role","button","tabindex","0",1,"cms-m-list-item",3,"click","rtclick","mouseenter","mouseleave"],[1,"cms-m-list-item-image-placeholder"],["aria-hidden","true",3,"ngClass"],[1,"cms-m-list-item-content"],[1,"cms-m-list-item-title"],[1,"cms-m-list-item-subtitle"],[1,"cms-m-list-item-expanded"],["aria-hidden","true",1,"fa-solid","fa-globe"],[3,"ngClass"],[1,"navi-icon","pointer",3,"click","cdkCopyToClipboard"],[1,"flaticon2-copy"],[1,"ntk-html-content","cms-m-list-item-answer",3,"innerHTML"]],template:function(i,t){if(i&1){let l=I();r(0,"app-cms-html-list-mobile",1),A("optionActionGuideNoticeDisplayChange",function(u){return m(l),y(t.viewGuideNotice,u)||(t.viewGuideNotice=u),p(u)}),T("optionOnActionButtonMemoRow",function(){return m(l),p(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return m(l),p(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return m(l),p(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return m(l),p(t.onActionButtonPrintRow())})("optionOnScrollNearBottom",function(){return m(l),p(t.onActionLoadNextPage())}),k(1,2),r(2,"app-ticketing-departemen-tree",3),T("optionChange",function(u){return m(l),p(t.onActionSelectorSelect(u))}),a(),M(),ie(3,4)(4,5),k(5,6),v(6,Zs,2,0,"a",7),r(7,"a",8),T("click",function(){return m(l),p(t.viewGuideNotice=!t.viewGuideNotice)}),_(8,"i",9),a(),r(9,"a",8),T("click",function(){return m(l),p(t.onActionButtonReload())}),_(10,"i",10),a(),r(11,"a",11),T("click",function(){return m(l),p(t.onActionGridExpandRows(!0))}),_(12,"i",12),a(),r(13,"a",11),T("click",function(){return m(l),p(t.onActionGridExpandRows(!1))}),_(14,"i",13),a(),M(),k(15,14),r(16,"a",15),T("click",function(){return m(l),p(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),_(17,"mat-slide-toggle",16),c(18),C(19,"translate"),a(),r(20,"a",15),T("click",function(){return m(l),p(t.onActionButtonStatist())}),_(21,"mat-slide-toggle",16),c(22),C(23,"translate"),a(),M(),k(24,17),v(25,$s,7,3,"div",18),M(),k(26,19),v(27,ec,7,3,"div",18),v(28,tc,7,3,"div",18),M(),k(29,20),r(30,"app-cms-search-list",21),A("optionsChange",function(u){return m(l),y(t.optionsSearch,u)||(t.optionsSearch=u),p(u)}),a(),r(31,"app-cms-statist-list",21),A("optionsChange",function(u){return m(l),y(t.optionsStatist,u)||(t.optionsStatist=u),p(u)}),a(),M(),k(32,22),v(33,lc,3,0,"div",23)(34,sc,3,3,"div",24),M(),k(35,25),r(36,"mat-paginator",26,0),T("page",function(u){return m(l),p(t.onTablePageingData(u))}),a(),M(),a()}i&2&&(g("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey","ticketing.faq.list"),E("optionActionGuideNoticeDisplay",t.viewGuideNotice),g("optionTreeDisplay",t.requestDepartemenId===0)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplay",(t.tableRowSelected==null?null:t.tableRowSelected.id)>0)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionActionRowDisplayMenuAct",t.tableRowSelectActionMenuClick)("optionSelectRowItemTitle",(t.tableRowSelected==null?null:t.tableRowSelected.id)||""),o(6),w(t.requestDepartemenId>0?6:-1),o(4),G("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(7),g("checked",t.optionsSearch.data.show),o(),S("",h(19,26,"ACTION.SEARCH")," "),o(3),g("checked",t.optionsStatist.data.show),o(),S("",h(23,28,"ACTION.STATIST")," "),o(3),w(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessAddRow?25:-1),o(2),w(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow&&(t.tableRowSelected==null?null:t.tableRowSelected.id)>0?27:-1),o(),w(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow&&(t.tableRowSelected==null?null:t.tableRowSelected.id)>0?28:-1),o(2),E("options",t.optionsSearch),o(),E("options",t.optionsStatist),o(2),w(!(t.dataModelResult==null||t.dataModelResult.listItems==null)&&t.dataModelResult.listItems.length?33:34),o(3),g("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",ne(30,Ys)))},dependencies:[ke,pe,ue,qe,Se,Ce,Nt,he,ot,B,Lt,Le],encapsulation:2});var Vn=xi;function cc(n,s){if(n&1&&(r(0,"div",4)(1,"button",5),_(2,"i",6),c(3),_(4,"i",7),a(),r(5,"div",8)(6,"div",9),_(7,"p",10),a()()()),n&2){let e=d().$implicit,i=d().$implicit;o(),Ve("data-bs-target","#collapse"+e.id),o(2),S(" ",e.question," "),o(2),g("id",ri("collapse",e.id)),Ve("data-bs-parent","#accordion-"+i.id),o(2),g("innerHTML",e.answer,Xe)}}function dc(n,s){if(n&1&&v(0,cc,8,6,"div",4),n&2){let e=s.$implicit,i=d().$implicit;w(e.linkTicketingDepartemenId===i.id?0:-1)}}function mc(n,s){if(n&1&&(r(0,"div",1)(1,"div",2)(2,"h4"),c(3),a()(),r(4,"div",3),Oe(5,dc,1,1,null,null,vi),a()()),n&2){let e=s.$implicit,i=d();o(3),R(e.title),o(),g("id",ri("accordion-",e.id)),o(),Ge(i.dataModelResult.listItems)}}var _n=class _n{constructor(s,e,i,t,l,f,u,J,ee){this.ticketingFaqService=s;this.ticketingDepartemenService=e;this.publicHelper=i;this.cmsToastrService=t;this.cmsStoreService=l;this.router=f;this.cdr=u;this.translate=J;this.tokenHelper=ee;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new Z;this.filterDataModelQueryBuilder=[];this.dataModelResult=new Q;this.dataDepartemenModelResult=new Q;this.optionsSearch=new so;this.optionsStatist=new co;this.tokenInfo=new mi;this.tableRowsSelected=[];this.tableRowSelected=new xt;this.tableSource=new Uo;this.unsubscribe=[];this.DataDepartemanLinkSelect=0;this.DataFaqLinkSelect=0;this.publicHelper.processService.cdr=this.cdr,this.filteModelContent.sortColumn="id",this.filteModelContent.sortType=W.Ascending}ngOnInit(){this.DataDepartemenGetAll(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(s=>s.tokenInfoStore).subscribe(s=>te(this,null,function*(){this.DataDepartemenGetAll(),this.tokenInfo=s,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(s=>s.unsubscribe())}DataGetAll(){this.tableRowsSelected=[],this.onActionTableRowSelect(new xt);let s=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(s,i,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let e=JSON.parse(JSON.stringify(this.filteModelContent));if(this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(e.filters=[...this.filterDataModelQueryBuilder]),this.categoryModelSelected&&this.categoryModelSelected.id>0){let i=new Y;i.propertyName="LinkTicketingDepartemenId",i.value=this.categoryModelSelected.id,e.filters.push(i)}this.ticketingFaqService.ServiceGetAllOrigin(e).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),i.isSuccess?(this.dataModelResult=i,this.tableSource.data=i.listItems):this.cmsToastrService.typeErrorGetAll(i.errorMessage),this.publicHelper.processService.processStop(s)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(s)}})}DataDepartemenGetAll(){this.ticketingDepartemenService.ServiceGetAllOrigin(null).subscribe({next:s=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(s.access),s.isSuccess?this.dataDepartemenModelResult=s:this.cmsToastrService.typeErrorGetAll(s.errorMessage),Promise.resolve().then(()=>this.cdr.detectChanges())},error:s=>{this.cmsToastrService.typeError(s)}})}onTableSortData(s){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===s.active?this.tableSource.sort.start==="asc"?(s.start="desc",this.filteModelContent.sortColumn=s.active,this.filteModelContent.sortType=W.Descending):this.tableSource.sort.start==="desc"?(s.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=W.Ascending):s.start="desc":(this.filteModelContent.sortColumn=s.active,this.filteModelContent.sortType=W.Descending),this.tableSource.sort=s,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(s){this.filteModelContent.currentPageNumber=s.pageIndex+1,this.filteModelContent.rowPerPage=s.pageSize,this.DataGetAll()}onActionSelectorSelect(s){var e=this.filteModelContent.sortColumn,i=this.filteModelContent.sortType;this.filteModelContent=new Z,this.filteModelContent.sortColumn=e,this.filteModelContent.sortType=i,this.categoryModelSelected=s,this.DataGetAll()}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(s){s&&s.length>0?this.filterDataModelQueryBuilder=[...s]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionTableRowSelect(s){this.tableRowSelected=s,s.expanded||(s.expanded=!1),s.expanded=!s.expanded}onActionBackToParent(){this.router.navigate(["/ticketing/departemen/"])}onActionButtonDeparteman(s){this.DataDepartemanLinkSelect=s,this.DataFaqLinkSelect=0}onActionButtonFaqTitle(s){this.DataFaqLinkSelect=s}};_n.\u0275fac=function(e){return new(e||_n)(b(Zt),b(et),b(O),b(H),b(fe),b(de),b(N),b(F),b(_e))},_n.\u0275cmp=V({type:_n,selectors:[["app-ticketing-faq-originlist"]],standalone:!1,decls:3,vars:1,consts:[[3,"optionsInfoAreaId"],[1,"card","card-style"],[1,"content"],[1,"accordion",3,"id"],[1,"mb-0"],["type","button","data-bs-toggle","collapse",1,"btn","accordion-btn","no-effect","color-theme"],[1,"fa","fa-cloud","color-yellow-dark","me-2"],[1,"fa","fa-chevron-down","font-10","accordion-icon"],[1,"collapse",3,"id"],[1,"pt-1","pb-2","ps-3","pe-3"],[3,"innerHTML"]],template:function(e,i){e&1&&(_(0,"app-progress-spinner",0),Oe(1,mc,7,3,"div",1,vi)),e&2&&(g("optionsInfoAreaId",i.constructorInfoAreaId),o(),Ge(i.dataDepartemenModelResult.listItems))},dependencies:[U],encapsulation:2});var gn=_n;var pc=["*"];function uc(n,s){if(n&1&&(r(0,"label",3),c(1),a()),n&2){let e=d();g("for",ri("app-cms-site-selector-",e.id)),o(),R(e.optionLabel)}}function fc(n,s){if(n&1&&(r(0,"mat-option",6)(1,"span"),c(2),a()()),n&2){let e=s.$implicit,i=d();g("value",e)("disabled",i.optionDisabled),o(2),R(i.displayOption(e))}}function _c(n,s){n&1&&_(0,"i",7)}function gc(n,s){n&1&&_(0,"i",8)}function Sc(n,s){if(n&1){let e=I();r(0,"i",11),T("click",function(){m(e);let t=d();return p(t.onActionSelectClear())}),a()}}function Cc(n,s){n&1&&(r(0,"em"),c(1),C(2,"translate"),a()),n&2&&(o(),S("(",h(2,1,"TITLE.Necessary"),")"))}var hi=class hi{constructor(s,e,i,t,l){this.coreEnumService=s;this.cdr=e;this.publicHelper=i;this.translate=t;this.categoryService=l;this.id=++hi.nextId;this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new Q;this.dataModelSelect=new Mt;this.formControl=new Kn;this.optionDisabled=!1;this.optionRequired=!1;this.optionSelectFirstItem=!1;this.optionPlaceholder="";this.optionLabel="";this.optionChange=new bi;this.optionReload=()=>this.onActionButtonReload();this.optionItemCount=new bi;this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(s){this.onActionSelectForce(s)}ngOnInit(){this.loadOptions(),(!this.optionLabel||this.optionLabel.length==0&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder)}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(Pn(""),On(1500),Gn(),Hn(s=>typeof s=="string"||typeof s=="number"?this.DataGetAll(s||""):[]))}displayFn(s){return s?s.title:void 0}displayOption(s){return s?s.title:void 0}DataGetAll(s){return te(this,null,function*(){let e=new Z;e.rowPerPage=20,e.accessLoad=!0;let i=new Y;i.propertyName="title",i.value=s,i.searchType=Gi.Contains,i.clauseType=li.Or,e.filters.push(i),s&&typeof+s=="number"&&+s>0&&(i=new Y,i.propertyName="id",i.value=s,i.searchType=Gi.Equal,i.clauseType=li.Or,e.filters.push(i));let t=this.constructor.name+"main";return this.translate.get("MESSAGE.Receiving_information").subscribe(l=>{this.publicHelper.processService.processStart(t,l,this.constructorInfoAreaId)}),yield Nn(this.categoryService.ServiceGetAll(e)).then(l=>(this.dataModelResult=l,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||this.dataModelSelect.id<=0)&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0])},1e3),this.onActionSelect(this.dataModelResult.listItems[0])),this.publicHelper.processService.processStop(t),l.listItems?.length>0?this.optionItemCount.emit(l.listItems?.length):this.optionItemCount.emit(0),l.listItems))})}onActionSelect(s){this.dataModelSelect=s,this.optionChange.emit(this.dataModelSelect)}onActionSelectClear(){this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null)}push(s){return this.filteredOptions.pipe(Fn(e=>(e.find(i=>i.id===s.id)||e.push(s),e)))}onActionSelectForce(s){if(typeof s=="number"&&s>0){if(this.dataModelSelect&&this.dataModelSelect.id===s)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(e=>e.id===s)){let e=this.dataModelResult.listItems.find(i=>i.id===s);this.dataModelSelect=e,this.formControl.setValue(e);return}this.categoryService.ServiceGetOneById(s).subscribe({next:e=>{e.isSuccess&&(this.filteredOptions=this.push(e.item),this.dataModelSelect=e.item,this.formControl.setValue(e.item),this.optionChange.emit(e.item))}});return}if(typeof s==typeof Mt){this.filteredOptions=this.push(s),this.dataModelSelect=s,this.formControl.setValue(s);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new Mt,this.loadOptions()}};hi.nextId=0,hi.\u0275fac=function(e){return new(e||hi)(b(K),b(N),b(O),b(F),b($t))},hi.\u0275cmp=V({type:hi,selectors:[["app-ticketing-template-selector"]],inputs:{optionDisabled:"optionDisabled",optionRequired:"optionRequired",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionLabel:"optionLabel",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange",optionItemCount:"optionItemCount"},standalone:!1,ngContentSelectors:pc,decls:16,vars:23,consts:[["matauto","matAutocomplete"],[1,"input-style","has-borders","has-icon","input-style-always-active","validate-field","mb-4","loader-container"],[3,"optionsInfoAreaId"],[1,"color-highlight",3,"for"],["type","text","aria-label","Assignee","matInput","",3,"placeholder","formControl","matAutocomplete","required","id"],[3,"optionSelected","displayWith"],[3,"value","disabled"],[1,"fa","fa-info","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"fa","fa-times","action","color-red-dark"],[1,"fa","fa-rotate-right","action","color-green-dark",2,"margin-left","20px",3,"click","title"],[1,"fa","fa-times","action","color-red-dark",3,"click"]],template:function(e,i){if(e&1){let t=I();jn(),r(0,"div",1),_(1,"app-progress-spinner",2),v(2,uc,2,3,"label",3),_(3,"input",4),r(4,"mat-autocomplete",5,0),T("optionSelected",function(f){return m(t),p(i.onActionSelect(f.option.value))}),Oe(6,fc,3,3,"mat-option",6,vi),C(8,"async"),a(),v(9,_c,1,0,"i",7),v(10,gc,1,0,"i",8),v(11,Sc,1,0,"i",9),r(12,"i",10),C(13,"translate"),T("click",function(){return m(t),p(i.onActionButtonReload())}),a(),v(14,Cc,3,3,"em"),Un(15),a()}if(e&2){let t=D(5);o(),g("optionsInfoAreaId",i.constructorInfoAreaId),o(),w((i.optionLabel==null?null:i.optionLabel.length)>0?2:-1),o(),g("placeholder",L(i.optionPlaceholder))("id",ri("app-cms-site-selector-",i.id))("formControl",i.formControl)("matAutocomplete",t)("required",i.optionRequired),Ve("disabled",i.optionDisabled?!0:null),o(),g("displayWith",i.displayFn),o(2),Ge(h(8,19,i.filteredOptions)),o(3),w(i.formControl.valid?-1:9),o(),w(i.optionRequired&&i.formControl.valid?10:-1),o(),w((i.dataModelSelect==null?null:i.dataModelSelect.id)>0?11:-1),o(),G("rotation360",i.publicHelper.processService.process.inRunArea[i.constructorInfoAreaId]),g("title",L(h(13,21,"ACTION.RELOAD"))),o(2),w(i.optionRequired&&!((i.dataModelSelect==null?null:i.dataModelSelect.id)>0)?14:-1)}},dependencies:[se,ce,Re,zn,Xn,Jn,Zn,j,U,He,B],encapsulation:2});var To=hi;var Tc=["vform"];function bc(n,s){n&1&&(r(0,"mat-error"),c(1),C(2,"translate"),r(3,"strong"),c(4),C(5,"translate"),a()()),n&2&&(o(),S(" ",h(2,2,"AUTH.INPUT.FULLNAME")," "),o(3),R(h(5,4,"MESSAGE.required")))}function vc(n,s){n&1&&(r(0,"mat-error"),c(1),C(2,"translate"),r(3,"strong"),c(4),C(5,"translate"),a()()),n&2&&(o(),S(" ",h(2,2,"AUTH.INPUT.MOBILE")," "),o(3),R(h(5,4,"MESSAGE.required")))}function wc(n,s){n&1&&(r(0,"mat-error"),c(1),C(2,"translate"),r(3,"strong"),c(4),C(5,"translate"),a()()),n&2&&(o(),S(" ",h(2,2,"AUTH.INPUT.EMAIL")," "),o(3),R(h(5,4,"MESSAGE.required")))}function Ic(n,s){if(n&1){let e=I();r(0,"div",35)(1,"label"),c(2),C(3,"translate"),a(),r(4,"app-ticketing-template-selector",43),T("optionItemCount",function(){m(e);let t=d(2);return p(t.templateItemCount)})("optionChange",function(t){m(e);let l=d(2);return p(l.onActionSelectorSelect(t))}),a()()}n&2&&(o(2),R(h(3,1,"TITLE.Categories")))}function kc(n,s){n&1&&(r(0,"mat-error"),c(1),C(2,"translate"),r(3,"strong"),c(4),C(5,"translate"),a()()),n&2&&(o(),S(" ",h(2,2,"AUTH.INPUT.YOURMEESAGE")," "),o(3),R(h(5,4,"MESSAGE.required")))}function Mc(n,s){if(n&1){let e=I();r(0,"div",8),_(1,"app-cms-form-result-message",28),r(2,"form",29,0),T("ngSubmit",function(){m(e);let t=d();return p(t.onFormSubmit())}),r(4,"fieldset")(5,"div",30)(6,"label",31),c(7),C(8,"translate"),r(9,"span"),c(10),C(11,"translate"),a()(),r(12,"input",32,1),C(14,"translate"),A("ngModelChange",function(t){m(e);let l=d();return y(l.dataModel.fullName,t)||(l.dataModel.fullName=t),p(t)}),a(),v(15,bc,6,6,"mat-error"),a(),r(16,"div",30)(17,"label",33),c(18),C(19,"translate"),r(20,"span"),c(21),C(22,"translate"),a()(),r(23,"input",34,2),C(25,"translate"),A("ngModelChange",function(t){m(e);let l=d();return y(l.dataModel.phoneNo,t)||(l.dataModel.phoneNo=t),p(t)}),a(),v(26,vc,6,6,"mat-error"),a(),r(27,"div",35)(28,"label",36),c(29),C(30,"translate"),r(31,"span"),c(32),C(33,"translate"),a()(),r(34,"input",37,3),C(36,"translate"),A("ngModelChange",function(t){m(e);let l=d();return y(l.dataModel.email,t)||(l.dataModel.email=t),p(t)}),a(),v(37,wc,6,6,"mat-error"),a(),v(38,Ic,5,3,"div",35),r(39,"div",38)(40,"label",39),c(41),C(42,"translate"),r(43,"span"),c(44),C(45,"translate"),a()(),r(46,"textarea",40,4),A("ngModelChange",function(t){m(e);let l=d();return y(l.dataModel.htmlBody,t)||(l.dataModel.htmlBody=t),p(t)}),a(),v(48,kc,6,6,"mat-error"),a(),r(49,"div",41),_(50,"input",42),C(51,"translate"),a()()()()}if(n&2){let e=D(13),i=D(24),t=D(35),l=D(47),f=d();o(),g("formInfo",f.formInfo),o(6),S("",h(8,26,"AUTH.INPUT.FULLNAME"),":"),o(3),S("( ",h(11,28,"TITLE.Necessary")," )"),o(2),g("placeholder",L(h(14,30,"TITLE.Enter_your_first_and_last_name"))),E("ngModel",f.dataModel.fullName),o(3),w(e.errors!=null&&e.errors.required?15:-1),o(3),S("",h(19,32,"AUTH.INPUT.MOBILE"),":"),o(3),S("( ",h(22,34,"TITLE.Necessary")," )"),o(2),g("placeholder",L(h(25,36,"TITLE.Enter_your_first_and_last_name"))),E("ngModel",f.dataModel.phoneNo),o(3),w(i.errors!=null&&i.errors.required?26:-1),o(3),S("",h(30,38,"AUTH.INPUT.EMAIL"),":"),o(3),S("( ",h(33,40,"TITLE.Necessary")," )"),o(2),g("placeholder",L(h(36,42,"TITLE.Enter_email"))),E("ngModel",f.dataModel.email),o(3),w(t.errors!=null&&t.errors.required?37:-1),o(),w(f.templateItemCount>0?38:-1),o(3),S("",h(42,44,"AUTH.INPUT.YOURMEESAGE"),":"),o(3),S("( ",h(45,46,"TITLE.Necessary")," )"),o(2),E("ngModel",f.dataModel.htmlBody),o(2),w(l.errors!=null&&l.errors.required?48:-1),o(2),g("value",L(h(51,48,"ACTION.SEND")))}}function Ec(n,s){if(n&1&&(r(0,"div",27)(1,"div",11)(2,"div",12)(3,"h1",13),_(4,"i",14),a(),r(5,"h2",15),c(6),C(7,"translate"),a(),r(8,"p",16),c(9),C(10,"translate"),a(),r(11,"p",15),c(12),C(13,"translate"),a(),_(14,"div",44),a()()()),n&2){let e=d();o(6),S(" ",h(7,5,"TITLE.Your_message_has_been_registered_in_the_system")," "),o(3),S(" ",h(10,7,"TITLE.Note_the_tracking_code_for_further_tracking")," "),o(3),le(" ",h(13,9,"TITLE.Tracking_Code")," : ",e.dataModelResult.item.id," "),o(2),g("innerHTML",e.dataModelResult.item==null||e.dataModelResult.item.virtual_Departemen==null?null:e.dataModelResult.item.virtual_Departemen.DefaultAnswerBody,Xe)}}var Sn=class Sn extends Vt{constructor(e,i,t,l,f,u,J,ee,Je,Ye,zt){super(J,new Ze,f,Ye);this.tokenHelper=e;this.cmsStoreService=i;this.activatedRoute=t;this.coreAuthService=l;this.publicHelper=f;this.coreEnumService=u;this.ticketingTaskService=J;this.cmsToastrService=ee;this.router=Je;this.translate=Ye;this.cdr=zt;this.requestLinkDepartemenId=0;this.constructorInfoAreaId=this.constructor.name;this.unsubscribe=[];this.fieldsInfo=new Map;this.dataModel=new Fo;this.dataModelResult=new Q;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.fileManagerOpenForm=!1;this.appLanguage="fa";this.templateItemCount=0;this.mapOptonCenter=new ei;this.captchaModel=new Lo;this.countAutoCaptchaOrder=1;this.enumFormSubmitedStatus=FormSubmitedStatusEnum;this.onCaptchaOrderInProcess=!1;this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&(this.dataModel.fullName=this.tokenInfo.user.lastName,this.dataModel.email=this.tokenInfo.user.email,this.dataModel.phoneNo=this.tokenInfo.user.mobile),this.unsubscribe.push(this.cmsStoreService.getState(kt=>kt.tokenInfoStore).subscribe(kt=>te(this,null,function*(){this.tokenInfo=kt,this.dataModel.fullName=this.tokenInfo.user.lastName,this.dataModel.email=this.tokenInfo.user.email,this.dataModel.phoneNo=this.tokenInfo.user.mobile})))}ngOnInit(){this.requestLinkDepartemenId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkDepartemenId")),this.onCaptchaOrder(),this.dataModel.linkTicketingDepartemenId=this.requestLinkDepartemenId,this.DataGetAccess()}onFormSubmit(){if(!this.formGroup.valid){this.cmsToastrService.typeErrorFormInvalid();return}this.DataAddContent()}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataAddContent(){this.formInfo.submitButtonEnabled=!1,this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.dataModel.captchaKey=this.captchaModel.key,this.ticketingTaskService.ServiceContactUS(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!i.isSuccess,this.dataModelResult=i,i.isSuccess?(this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.cmsToastrService.typeSuccessAdd()):(this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorAdd(i.errorMessage)),this.publicHelper.processService.processStop(e),this.cdr.markForCheck()},error:i=>{this.publicHelper.processService.processStop(e),this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeErrorAdd(i),this.cdr.markForCheck()}})}onActionSelectorSelect(e){if(!e||e.id<=0){this.translate.get("MESSAGE.Information_template_is_not_clear").subscribe(i=>{this.cmsToastrService.typeWarningSelected(i)});return}this.dataModel.htmlBody=e.htmlBody}onActionBackToParent(){this.router.navigate(["/application/app/"])}onActionSelectSource(e){if(!e||e.id<=0){this.translate.get(["MESSAGE.Specify_the_source","MESSAGE.The_source_of_the_information_application_is_not_known"]).subscribe(i=>{this.cmsToastrService.typeErrorMessage(i["MESSAGE.Specify_the_source"],i["MESSAGE.The_source_of_the_information_application_is_not_known"])});return}this.dataModel.linkTicketingDepartemenId=e.id}onCaptchaOrder(){this.onCaptchaOrderInProcess||(this.countAutoCaptchaOrder=this.countAutoCaptchaOrder+1,this.dataModel.captchaText="",this.coreAuthService.ServiceCaptcha().subscribe({next:e=>{if(e.isSuccess){this.captchaModel=e.item,this.expireDate=e.item.expire;let i=new Date,l=new Date(e.item.expire).getTime()-i.getTime();this.countAutoCaptchaOrder<10&&(this.countAutoCaptchaOrder=this.countAutoCaptchaOrder+1,setTimeout(()=>{this.onCaptchaOrder()},l))}else this.cmsToastrService.typeErrorGetCpatcha(e.errorMessage);this.onCaptchaOrderInProcess=!1},error:e=>{this.onCaptchaOrderInProcess=!1}}))}};Sn.\u0275fac=function(i){return new(i||Sn)(b(_e),b(fe),b(Me),b(Bo),b(O),b(K),b(tt),b(H),b(de),b(F),b(N))},Sn.\u0275cmp=V({type:Sn,selectors:[["app-ticketing-task-contactus"]],viewQuery:function(i,t){if(i&1&&oe(Tc,5),i&2){let l;ae(l=re())&&(t.formGroup=l.first)}},standalone:!1,features:[P],decls:39,vars:21,consts:[["vform","ngForm"],["FullName",""],["phoneNo",""],["Email",""],["HtmlBody",""],[1,"page-content","pb-3"],[1,"card","card-full","rounded-m","pb-4"],[1,"drag-line"],[1,"content"],[1,"font-600","mb-0","color-highlight"],[1,"form-sent","disabled"],[1,"card","card-style"],[1,"shadow-l","rounded-m","gradient-green","ms-n1","mb-0"],[1,"color-white","text-center","pt-4"],[1,"fa","fa-check-circle","fa-3x","shadow-s","scale-box","rounded-circle"],[1,"color-white","bold","text-center","pt-3"],[1,"color-white","pb-4","text-center","mt-n2","mb-0"],[1,"content","text-center"],[1,"boxed-text-xl"],["href","#",1,"icon","icon-xl","shadow-xl","rounded-xl","bg-facebook"],[1,"fab","fa-facebook-f"],["href","#",1,"icon","icon-xl","shadow-xl","rounded-xl","bg-instagram","ms-3","me-3"],[1,"fab","fa-instagram"],["href","#",1,"icon","icon-xl","shadow-xl","rounded-xl","bg-twitter"],[1,"fab","fa-twitter"],[3,"optionsInfoAreaId"],[1,"card","contact-form"],[1,"form-sent"],[3,"formInfo"],[3,"ngSubmit"],[1,"form-field","form-name"],["for","contactNameField",1,"contactNameField","color-theme"],["type","text","name","dataModel.fullName","id","contactNameField","required","",1,"round-small",2,"text-align","center !important",3,"ngModelChange","ngModel","placeholder"],["for","contactPhoneField",1,"contactNameField","color-theme"],["type","text","name","dataModel.phoneNo","id","contactPhoneField","required","",1,"round-small","input-ltr-center",3,"ngModelChange","ngModel","placeholder"],[1,"form-field","form-email"],["for","contactEmailField",1,"contactEmailField","color-theme"],["type","email","cmsKeyboardForce","en","name","dataModel.email","id","contactEmailField",1,"round-small","input-ltr-center",3,"ngModelChange","ngModel","placeholder"],[1,"form-field","form-text"],["for","contactMessageTextarea",1,"contactMessageTextarea","color-theme"],["name","dataModel.htmlBody","id","contactMessageTextarea","rows","3","required","",1,"round-small",3,"ngModelChange","ngModel"],[1,"form-button"],["type","submit","data-formId","contactForm",1,"btn","bg-highlight","font-700","btn-m","btn-full","rounded-sm","shadow-xl","contactSubmitButton",3,"value"],[3,"optionItemCount","optionChange"],[3,"innerHTML"]],template:function(i,t){i&1&&(r(0,"div",5)(1,"div",6),_(2,"div",7),r(3,"div",8)(4,"p",9),c(5),C(6,"translate"),a(),r(7,"p"),c(8),C(9,"translate"),a()(),r(10,"div",10)(11,"div",11)(12,"div",12)(13,"h1",13),_(14,"i",14),a(),r(15,"h2",15),c(16),C(17,"translate"),a(),r(18,"p",16),c(19),C(20,"translate"),a()()(),r(21,"div",11)(22,"div",17)(23,"h2"),c(24),C(25,"translate"),a(),r(26,"p",18),c(27),C(28,"translate"),a(),r(29,"a",19),_(30,"i",20),a(),r(31,"a",21),_(32,"i",22),a(),r(33,"a",23),_(34,"i",24),a()()()(),_(35,"app-progress-spinner",25),r(36,"div",26),v(37,Mc,52,50,"div",8),a(),v(38,Ec,15,11,"div",27),a()()),i&2&&(o(5),S(" ",h(6,9,"TITLE.Send_us_your_questions")," "),o(3),S(" ",h(9,11,"TITLE.GetInTouchWithUs")," "),o(8),S(" ",h(17,13,"TITLE.MESSAGE_SENT")," "),o(3),S(" ",h(20,15,"TITLE.WE_WILL_CONTACT_YOU_SOON")," "),o(5),R(h(25,17,"TITLE.LETS_BE_SOCIAL")),o(3),S(" ",h(28,19,"TITLE.SOCIAL_MEDIA_PLATFORMS")," "),o(8),g("optionsInfoAreaId",t.constructorInfoAreaId),o(2),w((t.formInfo==null?null:t.formInfo.submitResultMessageType)!==t.enumFormSubmitedStatus.Success?37:-1),o(),w((t.formInfo==null?null:t.formInfo.submitResultMessageType)===t.enumFormSubmitedStatus.Success?38:-1))},dependencies:[Ae,se,ce,Ee,Re,ve,ye,We,U,ge,Hi,To,B],encapsulation:2});var Cn=Sn;var yc=["vform"];function Ac(n,s){if(n&1){let e=I();r(0,"div",15)(1,"button",16),T("click",function(){m(e);let t=d(2);return p(t.onFormCancel())}),_(2,"i",17),c(3),C(4,"translate"),a()()}n&2&&(o(3),S(" ",h(4,1,"ACTION.CANCEL")," "))}function Rc(n,s){if(n&1&&(r(0,"div",8)(1,"table",9)(2,"thead",10)(3,"tr"),_(4,"th")(5,"th"),a()(),r(6,"tbody")(7,"tr")(8,"td"),c(9),a(),r(10,"td"),c(11),a()(),r(12,"tr")(13,"td"),c(14),a(),r(15,"td"),c(16),a()(),r(17,"tr")(18,"td"),c(19),a(),r(20,"td"),c(21),C(22,"enums"),a()(),r(23,"tr")(24,"td"),c(25),a(),r(26,"td"),c(27),a()(),r(28,"tr")(29,"td"),c(30),C(31,"translate"),a(),r(32,"td"),c(33),a()(),r(34,"tr")(35,"td"),c(36),a(),r(37,"td"),c(38),a()(),r(39,"tr")(40,"td"),c(41),a(),r(42,"td"),c(43),a()(),r(44,"tr")(45,"td"),c(46),a(),r(47,"td"),c(48),C(49,"localeDate"),a()(),r(50,"tr")(51,"td"),c(52),a(),r(53,"td"),c(54),C(55,"localeDate"),a()(),r(56,"tr")(57,"td"),c(58),a(),r(59,"td"),c(60),a()(),r(61,"tr")(62,"td"),c(63),a(),r(64,"td"),c(65),a()(),r(66,"tr")(67,"td"),c(68),a(),r(69,"td"),c(70),a()(),r(71,"tr")(72,"td"),c(73),a(),r(74,"td"),c(75),a()(),r(76,"tr")(77,"td"),c(78),a(),r(79,"td"),c(80),a()()()(),_(81,"hr"),a(),_(82,"div",11),r(83,"div",12),_(84,"app-cms-form-result-message",13),a(),r(85,"div",14),v(86,Ac,5,3,"div",15),a()),n&2){let e=d();o(9),R(e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle),o(2),R(e.dataModel.id),o(3),R(e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle),o(2),R(e.dataModel.linkSiteId),o(3),R(e.fieldsInfo.ticketStatus==null?null:e.fieldsInfo.ticketStatus.fieldTitle),o(2),S(" ",Yt(22,30,e.dataModel.ticketStatus,e.dataModelEnumTicketStatusResult.listItems)," "),o(4),R(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),o(2),R(e.dataModel.title),o(3),R(h(31,33,"TITLE.Message_Text")),o(3),R(e.dataModel.htmlBody),o(3),R(e.fieldsInfo.fullName==null?null:e.fieldsInfo.fullName.fieldTitle),o(2),R(e.dataModel.fullName),o(3),R(e.fieldsInfo.phoneNo==null?null:e.fieldsInfo.phoneNo.fieldTitle),o(2),R(e.dataModel.phoneNo),o(3),R(e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle),o(2),R(h(49,35,e.dataModel.createdDate)),o(4),R(e.fieldsInfo.updatedDate==null?null:e.fieldsInfo.updatedDate.fieldTitle),o(2),R(h(55,37,e.dataModel.updatedDate)),o(4),R(e.fieldsInfo.email==null?null:e.fieldsInfo.email.fieldTitle),o(2),R(e.dataModel.email),o(3),R(e.fieldsInfo.linkCmsUserId==null?null:e.fieldsInfo.linkCmsUserId.fieldTitle),o(2),R(e.dataModel.linkCmsUserId),o(3),R(e.fieldsInfo.linkMemberId==null?null:e.fieldsInfo.linkMemberId.fieldTitle),o(2),R(e.dataModel.linkMemberId),o(3),S(" ",e.fieldsInfo.linkTicketingDepartemenId==null?null:e.fieldsInfo.linkTicketingDepartemenId.fieldTitle," "),o(2),R(e.dataModel.linkTicketingDepartemenId),o(3),S(" ",e.fieldsInfo.ticketingDepartemenDefaultAnswerBody==null?null:e.fieldsInfo.ticketingDepartemenDefaultAnswerBody.fieldTitle," "),o(2),R(e.dataModel.ticketingDepartemenDefaultAnswerBody),o(4),g("formInfo",e.formInfo),o(2),w(e.formInfo.submitButtonEnabled&&!e.publicHelper.processService.process.inRunAll?86:-1)}}var hn=class hn{constructor(s,e,i,t,l,f,u,J,ee,Je,Ye){this.data=s;this.dialogRef=e;this.coreEnumService=i;this.ticketingTaskService=t;this.cmsToastrService=l;this.tokenHelper=f;this.cmsStoreService=u;this.cdr=J;this.ticketingEnumService=ee;this.publicHelper=Je;this.translate=Ye;this.requestId=0;this.constructorInfoAreaId=this.constructor.name;this.tokenInfo=new mi;this.dataModelResult=new Q;this.dataModel=new Ze;this.formInfo=new Pi;this.dataModelEnumTicketStatusResult=new Q;this.fieldsInfo=new Map;this.dataTaskReadedResult=new Rt;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,s&&(this.requestId=+s.id||0)}ngOnInit(){if(this.translate.get("TITLE.VIEW").subscribe(s=>{this.formInfo.formTitle=s}),this.requestId===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(s=>s.tokenInfoStore).subscribe(s=>te(this,null,function*(){this.tokenInfo=s}))),this.getEnumTicketStatus()}getEnumTicketStatus(){this.ticketingEnumService.ServiceTicketStatusEnum().subscribe({next:s=>{this.dataModelEnumTicketStatusResult=s}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(s=>s.unsubscribe())}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage="";let s=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(s,e,this.constructorInfoAreaId)}),this.ticketingTaskService.setAccessLoad(),this.ticketingTaskService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModel=e.item,e.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+e.item.title+" ( "+e.item.id+" ) ",this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.dataTaskReaded(this.requestId)):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(e.errorMessage)),this.publicHelper.processService.processStop(s)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(s,!1)}})}dataTaskReaded(s){this.ticketingTaskService.ServiceTaskReaded(s).subscribe({next:e=>{e.isSuccess&&(this.dataTaskReadedResult=e)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};hn.\u0275fac=function(e){return new(e||hn)(b(we),b(me),b(K),b(tt),b(H),b(_e),b(fe),b(N),b(pi),b(O),b(F))},hn.\u0275cmp=V({type:hn,selectors:[["app-ticketing-task-view"]],viewQuery:function(e,i){if(e&1&&oe(yc,5),e&2){let t;ae(t=re())&&(i.formGroup=t.first)}},standalone:!1,decls:12,vars:4,consts:[[1,"card","card-style","loader-container",2,"height","100vh","overflow-y","auto"],[3,"optionsInfoAreaId"],[1,"menu-title"],[1,"color-highlight"],[1,"close-menu",3,"click"],[1,"fa","fa-times-circle"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[1,"ntk-cms-html-card-header"],[1,"table","table-striped","center"],[2,"background-color","#81d4fa"],["dir","rtl",1,"ntk-cms-html-card-body","ntk-allow-text-selection"],[1,"ntk-cms-html-card-message"],[3,"formInfo"],[1,"ntk-cms-html-card-footer"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,i){e&1&&(r(0,"div",0),_(1,"app-progress-spinner",1),r(2,"div",2)(3,"p",3),c(4),a(),r(5,"a",4),T("click",function(){return i.onFormCancel()}),_(6,"i",5),a(),_(7,"hr"),a(),r(8,"div",6)(9,"p",7),c(10),a(),v(11,Rc,87,39),a()()),e&2&&(o(),g("optionsInfoAreaId",i.constructorInfoAreaId),o(3),R(i.formInfo.formTitle),o(6),S(" ",i.formInfo.formDescription," "),o(),w(i.publicHelper.processService.process.inRunAll?-1:11))},dependencies:[Po,U,ge,B,oi,Ue],encapsulation:2});var Tn=hn;var Dc=()=>[5,10,20,100],xc=n=>({display:n});function Lc(n,s){if(n&1){let e=I();r(0,"a",38),T("click",function(){m(e);let t=d();return p(t.onActionBackToParent())}),_(1,"i",39),a()}}function Vc(n,s){if(n&1){let e=I();r(0,"div",16)(1,"a",40),T("click",function(){m(e);let t=d();return p(t.onActionButtonNewRow())}),_(2,"i",41)(3,"br"),a(),r(4,"p",42),c(5),C(6,"translate"),a()()}n&2&&(o(5),S(" ",h(6,1,"ACTION.ADD")," "))}function Bc(n,s){if(n&1){let e=I();r(0,"div",16)(1,"a",9),T("click",function(){m(e);let t=d();return p(t.onActionButtonAnswerList())}),_(2,"i",43)(3,"br"),a(),r(4,"p",42),c(5),C(6,"translate"),a()()}n&2&&(o(5),S(" ",h(6,1,"ACTION.ANSWERS")," "))}function Nc(n,s){if(n&1){let e=I();r(0,"div",16)(1,"a",44),T("click",function(){m(e);let t=d();return p(t.onActionButtonAnswerList(t.tableRowSelected))}),_(2,"i",43),a(),r(3,"p",42),c(4),C(5,"translate"),a()()}n&2&&(o(4),S(" ",h(5,1,"ACTION.ANSWERS")," "))}function Fc(n,s){if(n&1){let e=I();r(0,"div",16)(1,"a",45),T("click",function(){m(e);let t=d();return p(t.onActionButtonViewRow(t.tableRowSelected))}),_(2,"i",46),a(),r(3,"p",42),c(4),C(5,"translate"),a()()}n&2&&(o(4),S(" ",h(5,1,"ACTION.VIEW")," "))}function Oc(n,s){if(n&1&&(r(0,"mat-header-cell",47),c(1),a()),n&2){let e=d();o(),S(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function Gc(n,s){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=s.$implicit;o(),S(" ",e.id," ")}}function Pc(n,s){if(n&1&&(r(0,"mat-header-cell",47),c(1),a()),n&2){let e=d();o(),S(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function Hc(n,s){if(n&1&&(r(0,"mat-cell"),c(1),C(2,"cmssiteinfo"),C(3,"async"),a()),n&2){let e=s.$implicit;o(),S(" ",h(3,3,h(2,1,e.linkSiteId))," ")}}function qc(n,s){if(n&1&&(r(0,"mat-header-cell",47),c(1),a()),n&2){let e=d();o(),S(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function Wc(n,s){if(n&1&&_(0,"select",49),n&2){let e=d().$implicit,i=d();g("contentService",i.contentService)("row",e)("ngStyle",Ne(3,xc,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function jc(n,s){if(n&1&&(r(0,"mat-cell",48),C(1,"statusCellClass"),_(2,"i",48),C(3,"statusIconClass"),v(4,Wc,1,5,"select",49),a()),n&2){let e=s.$implicit,i=d();g("ngClass",h(1,3,e.recordStatus)),o(2),g("ngClass",h(3,5,e.recordStatus)),o(2),w(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessEditRow?4:-1)}}function Uc(n,s){if(n&1&&(r(0,"mat-header-cell",47),c(1),a()),n&2){let e=d();o(),S(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," ")}}function Qc(n,s){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=s.$implicit;o(),S(" ",e.title," ")}}function Kc(n,s){if(n&1&&(r(0,"mat-header-cell",47),c(1),a()),n&2){let e=d();o(),S(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function zc(n,s){if(n&1&&(r(0,"mat-cell"),c(1),C(2,"localeDate"),a()),n&2){let e=s.$implicit;o(),S(" ",h(2,1,e.createdDate)," ")}}function Jc(n,s){if(n&1&&(r(0,"mat-header-cell",47),c(1),a()),n&2){let e=d();o(),S(" ",e.fieldsInfo.updatedDate==null?null:e.fieldsInfo.updatedDate.fieldTitle," ")}}function Yc(n,s){if(n&1&&(r(0,"mat-cell"),c(1),C(2,"localeDate"),a()),n&2){let e=s.$implicit;o(),S(" ",h(2,1,e.updatedDate)," ")}}function Xc(n,s){n&1&&(r(0,"mat-header-cell"),c(1),C(2,"translate"),a()),n&2&&(o(),S(" ",h(2,1,"TITLE.OPTION")," "))}function Zc(n,s){if(n&1&&(r(0,"mat-cell",50)(1,"button",51)(2,"mat-icon"),c(3,"more_vert"),a()(),_(4,"mat-menu",null,2),a()),n&2){let e=D(5);o(),g("matMenuTriggerFor",e)}}function $c(n,s){n&1&&_(0,"mat-header-row")}function ed(n,s){if(n&1){let e=I();r(0,"mat-row",52),T("click",function(t){let l=m(e).$implicit,f=d();return p(f.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=m(e).$implicit,f=d();return p(f.onActionTableRowSelect(l,t))}),a()}if(n&2){let e=s.$implicit,i=d();G("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var bn=class bn extends bt{constructor(e,i,t,l,f,u,J,ee,Je,Ye,zt){super(e,new Ze,Ye,f,J);this.contentService=e;this.activatedRoute=i;this.cmsToastrService=t;this.router=l;this.tokenHelper=f;this.cdr=u;this.translate=J;this.pageInfo=ee;this.cmsStoreService=Je;this.publicHelper=Ye;this.dialog=zt;this.requestDepartemenId=0;this.requestLinkCmsUserId=0;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new Z;this.filterDataModelQueryBuilder=[];this.optionsSearch=new so;this.optionsStatist=new co;this.tokenInfo=new mi;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["id","recordStatus","createdDate","updatedDate"];this.tabledisplayedColumnsMobileSource=["id","recordStatus","createdDate","updatedDate"];this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:kt=>this.onSubmitOptionsSearch(kt)},this.filteModelContent.sortColumn="id",this.filteModelContent.sortType=W.Descending}ngOnInit(){this.requestDepartemenId=+Number(this.activatedRoute.snapshot.paramMap.get("DepartemenId")),this.requestLinkCmsUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkCmsUserId")),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>te(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Ze);let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(l=>{this.publicHelper.processService.processStart(e,l,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]);let t=new Y;this.requestDepartemenId>0&&(t.propertyName="LinkTicketingDepartemenId",t.value=this.requestDepartemenId,i.filters.push(t)),this.categoryModelSelected&&this.categoryModelSelected.id>0&&(t.propertyName="LinkTicketingDepartemenId",t.value=this.categoryModelSelected.id,i.filters.push(t)),this.requestLinkCmsUserId>0&&(t.propertyName="LinkCmsUserId",t.value=this.requestLinkCmsUserId,i.filters.push(t)),this.contentService.ServiceGetAllEditor(i).subscribe({next:l=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(l.access),l.isSuccess?(this.dataModelResult=l,this.tableSource.data=l.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(l.access)},1e3)):this.cmsToastrService.typeErrorGetAll(l.errorMessage),this.publicHelper.processService.processStop(e)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(e)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=W.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=W.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=W.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(){this.router.navigate(["/ticketing/contactus/"])}onActionSelectorSelect(e){var i=this.filteModelContent.sortColumn,t=this.filteModelContent.sortType;this.filteModelContent=new Z,this.filteModelContent.sortColumn=i,this.filteModelContent.sortType=t,this.categoryModelSelected=e,this.DataGetAll()}onActionButtonViewRow(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.cmsToastrService.typeErrorSelectedRow();return}this.tableRowSelected=e;var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Tn,{height:"90%",panelClass:i,enterAnimationDuration:q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate})}onActionButtonAnswerList(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.tableRowSelected=e,this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}this.router.navigate(["/ticketing/answer/LinkTaskId/",this.tableRowSelected.id])}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(u=>{i.set(u,0)}),this.translate.get("MESSAGE.All").subscribe(u=>{i.set(u,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(u=>{this.publicHelper.processService.processStart(t,u,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:u=>{u.isSuccess&&(i.set("All",u.totalRowCount),this.optionsStatist.childMethods.setStatistValue(i)),this.publicHelper.processService.processStop(t)},error:u=>{this.cmsToastrService.typeError(u),this.publicHelper.processService.processStop(t)}});let l=JSON.parse(JSON.stringify(this.filteModelContent)),f=new Y;f.propertyName="recordStatus",f.value=at.Available,l.filters.push(f),this.contentService.ServiceGetCount(l).subscribe({next:u=>{u.isSuccess&&(i.set("Active",u.totalRowCount),this.optionsStatist.childMethods.setStatistValue(i)),this.publicHelper.processService.processStop(t)},error:u=>{this.cmsToastrService.typeError(u),this.publicHelper.processService.processStop(t)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/ticketing/departemen/"])}};bn.\u0275fac=function(i){return new(i||bn)(b(tt),b(Me),b(H),b(de),b(_e),b(N),b(F),b(Tt),b(fe),b(O),b(je))},bn.\u0275cmp=V({type:bn,selectors:[["app-ticketing-task-contact-us-list"]],standalone:!1,features:[P],decls:57,vars:32,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","linkSiteId"],["matColumnDef","recordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","title"],["matColumnDef","createdDate"],["matColumnDef","updatedDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-phone-arrow-right","font-18",2,"color","#ffffff"],["mat-menu-item","","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],["type","button","target","_blank","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-m","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(i,t){if(i&1){let l=I();r(0,"app-cms-html-list",3),A("optionActionGuideNoticeDisplayChange",function(u){return m(l),y(t.viewGuideNotice,u)||(t.viewGuideNotice=u),p(u)}),T("optionOnActionButtonMemoRow",function(){return m(l),p(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return m(l),p(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return m(l),p(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return m(l),p(t.onActionButtonPrintRow())}),ie(1,4)(2,5)(3,6),k(4,7),v(5,Lc,2,0,"a",8),r(6,"a",9),T("click",function(){return m(l),p(t.viewGuideNotice=!t.viewGuideNotice)}),_(7,"i",10),a(),r(8,"a",9),T("click",function(){return m(l),p(t.onActionButtonReload())}),_(9,"i",11),a(),M(),k(10,12),r(11,"a",13),T("click",function(){return m(l),p(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),_(12,"mat-slide-toggle",14),c(13),C(14,"translate"),a(),r(15,"a",13),T("click",function(){return m(l),p(t.onActionButtonStatist())}),_(16,"mat-slide-toggle",14),c(17),C(18,"translate"),a(),M(),k(19,15),v(20,Vc,7,3,"div",16),v(21,Bc,7,3,"div",16),M(),k(22,17),v(23,Nc,6,3,"div",16),v(24,Fc,6,3,"div",16),M(),k(25,18),r(26,"app-cms-search-list",19),A("optionsChange",function(u){return m(l),y(t.optionsSearch,u)||(t.optionsSearch=u),p(u)}),a(),r(27,"app-cms-statist-list",19),A("optionsChange",function(u){return m(l),y(t.optionsStatist,u)||(t.optionsStatist=u),p(u)}),a(),M(),k(28,20),r(29,"mat-table",21,0),T("matSortChange",function(){m(l);let u=D(30);return p(t.onTableSortData(u))}),k(31,22),x(32,Oc,2,1,"mat-header-cell",23)(33,Gc,2,1,"mat-cell",24),M(),k(34,25),x(35,Pc,2,1,"mat-header-cell",23)(36,Hc,4,5,"mat-cell",24),M(),k(37,26),x(38,qc,2,1,"mat-header-cell",23)(39,jc,5,7,"mat-cell",27),M(),k(40,28),x(41,Uc,2,1,"mat-header-cell",23)(42,Qc,2,1,"mat-cell",24),M(),k(43,29),x(44,Kc,2,1,"mat-header-cell",23)(45,zc,3,3,"mat-cell",24),M(),k(46,30),x(47,Jc,2,1,"mat-header-cell",23)(48,Yc,3,3,"mat-cell",24),M(),k(49,31),x(50,Xc,3,3,"mat-header-cell",32)(51,Zc,6,1,"mat-cell",33),M(),x(52,$c,1,0,"mat-header-row",34)(53,ed,1,2,"mat-row",35),a(),M(),k(54,36),r(55,"mat-paginator",37,1),T("page",function(u){return m(l),p(t.onTablePageingData(u))}),a(),M(),a()}i&2&&(g("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey","ticketing.task.contactus-list"),E("optionActionGuideNoticeDisplay",t.viewGuideNotice),g("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",(t.tableRowSelected==null||t.tableRowSelected.title==null?null:t.tableRowSelected.title.length)>0?t.tableRowSelected==null?null:t.tableRowSelected.title:t.tableRowSelected==null?null:t.tableRowSelected.id),o(5),w(t.requestDepartemenId>0?5:-1),o(4),G("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(3),g("checked",t.optionsSearch.data.show),o(),S("",h(14,27,"ACTION.SEARCH")," "),o(3),g("checked",t.optionsStatist.data.show),o(),S("",h(18,29,"ACTION.STATIST")," "),o(3),w(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessAddRow?20:-1),o(),w(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessWatchRow&&(t.tableRowSelected==null?null:t.tableRowSelected.id)>0?21:-1),o(2),w(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessWatchRow?23:-1),o(),w(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessWatchRow&&(t.tableRowSelected==null?null:t.tableRowSelected.id)>0?24:-1),o(2),E("options",t.optionsSearch),o(),E("options",t.optionsStatist),o(2),g("dataSource",t.tableSource),o(23),g("matHeaderRowDef",t.tabledisplayedColumns),o(),g("matRowDefColumns",t.tabledisplayedColumns),o(2),g("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",ne(31,Dc)))},dependencies:[ke,Pe,it,nt,j,rt,jo,lt,pe,ue,st,ct,dt,pt,gt,ut,mt,St,ft,_t,Ct,ht,Se,Ce,vt,he,Bt,He,B,wt,Ue,Le,ni],encapsulation:2});var Ti=bn;var nd=["vform"];function od(n,s){if(n&1){let e=I();r(0,"app-cms-enum-record-status-selector",24),A("modelChange",function(t){m(e);let l=d();return y(l.dataModel.recordStatus,t)||(l.dataModel.recordStatus=t),p(t)}),a()}if(n&2){let e=d();E("model",e.dataModel.recordStatus),g("optionDisabled",!((e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.accessAddField)??!1))("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function ad(n,s){n&1&&_(0,"i",27)}function rd(n,s){n&1&&_(0,"i",28)}function ld(n,s){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),C(4,"translate"),a()()),n&2){let e=d(2);o(),S(" ",e.fieldsInfo.fullName==null?null:e.fieldsInfo.fullName.fieldTitle," is "),o(2),R(h(4,2,"MESSAGE.required"))}}function sd(n,s){if(n&1){let e=I();r(0,"div",20)(1,"label",25),c(2),a(),r(3,"input",26,2),A("ngModelChange",function(t){m(e);let l=d();return y(l.dataModel.fullName,t)||(l.dataModel.fullName=t),p(t)}),a(),v(5,ad,1,0,"i",27),v(6,rd,1,0,"i",28),r(7,"em"),c(8),a(),v(9,ld,5,4,"mat-error"),a()}if(n&2){let e=D(4),i=d();o(2),R(i.fieldsInfo.fullName==null?null:i.fieldsInfo.fullName.fieldTitle),o(),g("placeholder",L(i.fieldsInfo.fullName==null?null:i.fieldsInfo.fullName.fieldTitle)),E("ngModel",i.dataModel.fullName),g("disabled",!(i.fieldsInfo.fullName!=null&&i.fieldsInfo.fullName.accessAddField)),o(2),w(e.value?-1:5),o(),w(e.value?6:-1),o(2),S("",e.value.length," / 100"),o(),w(e.errors!=null&&e.errors.required?9:-1)}}function cd(n,s){n&1&&_(0,"i",27)}function dd(n,s){n&1&&_(0,"i",28)}function md(n,s){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),C(4,"translate"),a()()),n&2){let e=d(2);o(),S(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," is "),o(2),R(h(4,2,"MESSAGE.required"))}}function pd(n,s){if(n&1){let e=I();r(0,"div",20)(1,"label",29),c(2),a(),r(3,"input",30,3),A("ngModelChange",function(t){m(e);let l=d();return y(l.dataModel.title,t)||(l.dataModel.title=t),p(t)}),a(),v(5,cd,1,0,"i",27),v(6,dd,1,0,"i",28),r(7,"em"),c(8),a(),v(9,md,5,4,"mat-error"),a()}if(n&2){let e=D(4),i=d();o(2),R(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(),g("placeholder",L(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle)),E("ngModel",i.dataModel.title),g("disabled",!(i.fieldsInfo.title!=null&&i.fieldsInfo.title.accessAddField)),o(2),w(e.value?-1:5),o(),w(e.value?6:-1),o(2),S("",e.value.length," / 100"),o(),w(e.errors!=null&&e.errors.required?9:-1)}}function ud(n,s){n&1&&_(0,"i",27)}function fd(n,s){n&1&&_(0,"i",28)}function _d(n,s){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),C(4,"translate"),a()()),n&2){let e=d(2);o(),S(" ",e.fieldsInfo.phoneNo==null?null:e.fieldsInfo.phoneNo.fieldTitle," is "),o(2),R(h(4,2,"MESSAGE.required"))}}function gd(n,s){if(n&1){let e=I();r(0,"div",20)(1,"label",31),c(2),a(),r(3,"input",32,4),A("ngModelChange",function(t){m(e);let l=d();return y(l.dataModel.phoneNo,t)||(l.dataModel.phoneNo=t),p(t)}),a(),v(5,ud,1,0,"i",27),v(6,fd,1,0,"i",28),r(7,"em"),c(8),a(),v(9,_d,5,4,"mat-error"),a()}if(n&2){let e=D(4),i=d();o(2),R(i.fieldsInfo.phoneNo==null?null:i.fieldsInfo.phoneNo.fieldTitle),o(),g("placeholder",L(i.fieldsInfo.phoneNo==null?null:i.fieldsInfo.phoneNo.fieldTitle)),E("ngModel",i.dataModel.phoneNo),g("disabled",!(i.fieldsInfo.phoneNo!=null&&i.fieldsInfo.phoneNo.accessAddField)),o(2),w(e.value?-1:5),o(),w(e.value?6:-1),o(2),S("",e.value.length," / 100"),o(),w(e.errors!=null&&e.errors.required?9:-1)}}function Sd(n,s){n&1&&_(0,"i",27)}function Cd(n,s){n&1&&_(0,"i",28)}function hd(n,s){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),C(4,"translate"),a()()),n&2){let e=d(2);o(),S(" ",e.fieldsInfo.email==null?null:e.fieldsInfo.email.fieldTitle," is "),o(2),R(h(4,2,"MESSAGE.required"))}}function Td(n,s){if(n&1){let e=I();r(0,"div",20)(1,"label",33),c(2),a(),r(3,"input",34,5),A("ngModelChange",function(t){m(e);let l=d();return y(l.dataModel.email,t)||(l.dataModel.email=t),p(t)}),a(),v(5,Sd,1,0,"i",27),v(6,Cd,1,0,"i",28),r(7,"em"),c(8),a(),v(9,hd,5,4,"mat-error"),a()}if(n&2){let e=D(4),i=d();o(2),R(i.fieldsInfo.email==null?null:i.fieldsInfo.email.fieldTitle),o(),g("placeholder",L(i.fieldsInfo.email==null?null:i.fieldsInfo.email.fieldTitle)),E("ngModel",i.dataModel.email),g("disabled",!(i.fieldsInfo.email!=null&&i.fieldsInfo.email.accessAddField)),o(2),w(e.value?-1:5),o(),w(e.value?6:-1),o(2),S("",e.value.length," / 100"),o(),w(e.errors!=null&&e.errors.required?9:-1)}}function bd(n,s){if(n&1){let e=I();r(0,"div",20)(1,"label",35),c(2),C(3,"translate"),a(),r(4,"textarea",36,6),C(6,"translate"),A("ngModelChange",function(t){m(e);let l=d();return y(l.dataModel.htmlBody,t)||(l.dataModel.htmlBody=t),p(t)}),c(7,"              "),a(),r(8,"em"),c(9),a()()}if(n&2){let e=D(5),i=d();o(2),R(h(3,6,"TITLE.Description")),o(2),g("placeholder",L(h(6,8,"TITLE.Answer_Text"))),E("ngModel",i.dataModel.htmlBody),g("disabled",!(i.fieldsInfo.htmlBody!=null&&i.fieldsInfo.htmlBody.accessAddField)),o(5),S("",e.value.length," / 1000")}}function vd(n,s){if(n&1){let e=I();r(0,"div",21)(1,"label",37),c(2),a(),r(3,"input",38),A("ngModelChange",function(t){m(e);let l=d();return y(l.dataModel.expireDate,t)||(l.dataModel.expireDate=t),p(t)}),a(),_(4,"mat-datepicker-toggle",39)(5,"mat-datepicker",40,7),a()}if(n&2){let e=D(6),i=d();o(2),R(i.fieldsInfo.expireDate==null?null:i.fieldsInfo.expireDate.fieldTitle),o(),g("placeholder",L(i.fieldsInfo.expireDate==null?null:i.fieldsInfo.expireDate.fieldTitle))("matDatepicker",e),E("ngModel",i.dataModel.expireDate),g("disabled",!((i.fieldsInfo.expireDate==null?null:i.fieldsInfo.expireDate.accessAddField)??!1)),o(),g("for",e),o(),g("calendarHeaderComponent",i.datapickerHeader)}}function wd(n,s){if(n&1){let e=I();r(0,"div",22)(1,"button",41),T("click",function(){m(e);let t=d();return p(t.onActionBackToParent())}),c(2),C(3,"translate"),a(),r(4,"button",42),c(5),C(6,"translate"),a()()}if(n&2){d();let e=D(10);o(2),S(" ",h(3,3,"ACTION.BACK")," "),o(2),g("disabled",!e.form.valid),o(),S(" ",h(6,5,"ACTION.NEXT")," ")}}function Id(n,s){if(n&1){let e=I();r(0,"div",20)(1,"label",43),c(2),a(),r(3,"input",44,8),A("ngModelChange",function(t){m(e);let l=d();return y(l.dataModel.userIpAddress,t)||(l.dataModel.userIpAddress=t),p(t)}),a(),r(5,"em"),c(6),a()()}if(n&2){let e=D(4),i=d();o(2),R(i.fieldsInfo.userIpAddress==null?null:i.fieldsInfo.userIpAddress.fieldTitle),o(),g("placeholder",L(i.fieldsInfo.userIpAddress==null?null:i.fieldsInfo.userIpAddress.fieldTitle)),E("ngModel",i.dataModel.userIpAddress),g("disabled",!(i.fieldsInfo.userIpAddress!=null&&i.fieldsInfo.userIpAddress.accessAddField)),o(3),S("",e.value.length," / 100")}}function kd(n,s){if(n&1){let e=I();r(0,"div",20)(1,"label",45),c(2),a(),r(3,"input",46,9),A("ngModelChange",function(t){m(e);let l=d();return y(l.dataModel.deviceInformation,t)||(l.dataModel.deviceInformation=t),p(t)}),a(),r(5,"em"),c(6),a()()}if(n&2){let e=D(4),i=d();o(2),R(i.fieldsInfo.userIpAddress==null?null:i.fieldsInfo.userIpAddress.fieldTitle),o(),g("placeholder",L(i.fieldsInfo.deviceInformation==null?null:i.fieldsInfo.deviceInformation.fieldTitle)),E("ngModel",i.dataModel.deviceInformation),g("disabled",!(i.fieldsInfo.deviceInformation!=null&&i.fieldsInfo.deviceInformation.accessAddField)),o(3),S("",e.value.length," / 100")}}function Md(n,s){if(n&1&&(r(0,"div",22)(1,"button",47),c(2),C(3,"translate"),a(),r(4,"button",48),c(5),C(6,"translate"),a()()),n&2){d();let e=D(10);o(2),S(" ",h(3,3,"ACTION.BEFOR")," "),o(2),g("disabled",!e.form.valid),o(),S(" ",h(6,5,"ACTION.SAVE")," ")}}var vn=class vn extends Vt{constructor(e,i,t,l,f,u,J,ee,Je){super(l,new Ze,i,Je);this.activatedRoute=e;this.publicHelper=i;this.coreEnumService=t;this.ticketingTaskService=l;this.cmsToastrService=f;this.dialogRef=u;this.router=J;this.cdr=ee;this.translate=Je;this.requestLinkDepartemenId=0;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.dataModel=new Ze;this.dataModelResult=new Q;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.fileManagerOpenForm=!1;this.appLanguage="fa";this.mapOptonCenter=new ei;this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.requestLinkDepartemenId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkDepartemenId")),this.dataModel.linkTicketingDepartemenId=this.requestLinkDepartemenId,this.DataGetAccess()}onFormSubmit(){if(!this.formGroup.valid){this.cmsToastrService.typeErrorFormInvalid();return}this.DataAddContent()}DataAddContent(){this.formInfo.submitButtonEnabled=!1,this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.ticketingTaskService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!i.isSuccess,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.cmsToastrService.typeSuccessEdit(),setTimeout(()=>this.router.navigate(["/ticketing/task/"]),1e3)):this.cmsToastrService.typeErrorEdit(i.errorMessage),this.publicHelper.processService.processStop(e)},error:i=>{this.publicHelper.processService.processStop(e),this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeErrorEdit(i)}})}onStepClick(e,i){e.previouslySelectedIndex<e.selectedIndex}onActionBackToParent(){this.dialogRef.close({dialogChangedDate:!1})}onActionFileSelectedLinkMainImageId(){}onActionSelectSource(e){if(!e||e.id<=0){this.translate.get(["MESSAGE.Specify_the_source","MESSAGE.The_source_of_the_information_application_is_not_known"]).subscribe(i=>{this.cmsToastrService.typeErrorMessage(i["MESSAGE.Specify_the_source"],i["MESSAGE.The_source_of_the_information_application_is_not_known"])});return}this.dataModel.linkTicketingDepartemenId=e.id}};vn.\u0275fac=function(i){return new(i||vn)(b(Me),b(O),b(K),b(tt),b(H),b(me),b(de),b(N),b(F))},vn.\u0275cmp=V({type:vn,selectors:[["app-ticketing-task-add"]],viewQuery:function(i,t){if(i&1&&oe(nd,5),i&2){let l;ae(l=re())&&(t.formGroup=l.first)}},standalone:!1,features:[P],decls:33,vars:33,consts:[["vform","ngForm"],["stepper",""],["FullName",""],["Title",""],["PhoneNo",""],["Email",""],["HtmlBody",""],["ExpireDate",""],["UserIpAddress",""],["DeviceInformation",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"selectionChange"],["state","main",3,"label"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"optionChange","optionSelectForce","optionPlaceholder","optionDisabled"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],[1,"form-actions"],["state","seo",3,"label"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.fullName",1,"color-highlight"],["matInput","","type","text","name","dataModel.fullName","minlength","3","maxlength","1000","required","","id","dataModel.fullName",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.phoneNo",1,"color-highlight"],["matInput","","type","text","name","dataModel.phoneNo","type","text","minlength","3","maxlength","100","required","","id","dataModel.phoneNo",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.email",1,"color-highlight"],["matInput","","type","text","cmsKeyboardForce","en","name","dataModel.email","type","text","minlength","3","maxlength","100","required","","id","dataModel.email",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.htmlBody",1,"color-highlight"],["matInput","","name","dataModel.htmlBody","type","text","minlength","0","maxlength","1000","rows","5","id","dataModel.htmlBody",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","expireDate",1,"color-highlight"],["matInput","","type","text","name","dataModel.expireDate","id","expireDate",1,"form-control","validate-name",3,"ngModelChange","matDatepicker","ngModel","placeholder","disabled"],["matSuffix","",3,"for"],["touchUi","",3,"calendarHeaderComponent"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],["type","button","matStepperNext","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue",3,"disabled"],["for","dataModel.userIpAddress",1,"color-highlight"],["matInput","","type","text","name","dataModel.userIpAddress","type","text","minlength","0","maxlength","100","id","dataModel.userIpAddress",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.deviceInformation",1,"color-highlight"],["matInput","","type","text","name","dataModel.deviceInformation","type","text","minlength","0","maxlength","100","id","dataModel.deviceInformation",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["type","button","matStepperPrevious","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"]],template:function(i,t){if(i&1){let l=I();r(0,"div",10),_(1,"app-progress-spinner",11),r(2,"div",12)(3,"p",13),c(4),a(),r(5,"p"),c(6),C(7,"translate"),a(),_(8,"app-cms-form-result-message",14),r(9,"form",15,0),T("ngSubmit",function(){return m(l),p(t.onFormSubmit())}),r(11,"mat-horizontal-stepper",16,1),T("selectionChange",function(u){m(l);let J=D(12);return p(t.onStepClick(u,J))}),r(13,"mat-step",17),C(14,"translate"),v(15,od,1,5,"app-cms-enum-record-status-selector",18),r(16,"app-ticketing-departemen-selector",19),C(17,"translate"),T("optionChange",function(u){return m(l),p(t.onActionSelectSource(u))}),a(),v(18,sd,10,9,"div",20),v(19,pd,10,9,"div",20),v(20,gd,10,9,"div",20),v(21,Td,10,9,"div",20),v(22,bd,10,10,"div",20),v(23,vd,7,8,"div",21),v(24,wd,7,7,"div",22),a(),r(25,"mat-step",23),C(26,"translate"),r(27,"p"),c(28),C(29,"translate"),a(),v(30,Id,7,6,"div",20),v(31,kd,7,6,"div",20),v(32,Md,7,7,"div",22),a()()()()()}i&2&&(o(),g("optionsInfoAreaId",t.constructorInfoAreaId),o(3),S(" ",t.formInfo.formTitle," "),o(2),S(" ",h(7,23,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),g("formInfo",t.formInfo),o(5),g("label",L(h(14,25,"TITLE.REQUIRED_INFORMATION"))),o(2),w(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?15:-1),o(),g("optionSelectForce",t.dataModel.linkTicketingDepartemenId)("optionPlaceholder",h(17,27,"TITLE.Department"))("optionDisabled",!(t.fieldsInfo.linkTicketingDepartemenId!=null&&t.fieldsInfo.linkTicketingDepartemenId.accessAddField)),o(2),w(t.fieldsInfo.fullName!=null&&t.fieldsInfo.fullName.accessWatchField?18:-1),o(),w(t.fieldsInfo.title!=null&&t.fieldsInfo.title.accessWatchField?19:-1),o(),w(t.fieldsInfo.phoneNo!=null&&t.fieldsInfo.phoneNo.accessWatchField?20:-1),o(),w(t.fieldsInfo.email!=null&&t.fieldsInfo.email.accessWatchField?21:-1),o(),w(t.fieldsInfo.htmlBody!=null&&t.fieldsInfo.htmlBody.accessWatchField?22:-1),o(),w(t.fieldsInfo.expireDate!=null&&t.fieldsInfo.expireDate.accessWatchField?23:-1),o(),w(t.formInfo.submitButtonEnabled?24:-1),o(),g("label",L(h(26,29,"TITLE.REST_OF_THE_INFORMATION"))),o(3),R(h(29,31,"TITLE.Rest_of_Information")),o(2),w(t.fieldsInfo.userIpAddress!=null&&t.fieldsInfo.userIpAddress.accessWatchField?30:-1),o(),w(t.fieldsInfo.deviceInformation!=null&&t.fieldsInfo.deviceInformation.accessWatchField?31:-1),o(),w(t.formInfo.submitButtonEnabled?32:-1))},dependencies:[Ae,se,ce,Ee,Re,De,xe,ve,ye,$n,eo,to,We,Yn,j,io,no,oo,ao,Fe,U,ge,Hi,Qe,B],encapsulation:2});var bo=vn;var Ed=["vform"];function yd(n,s){if(n&1){let e=I();r(0,"app-cms-enum-record-status-selector",24),A("modelChange",function(t){m(e);let l=d();return y(l.dataModel.recordStatus,t)||(l.dataModel.recordStatus=t),p(t)}),a()}if(n&2){let e=d();E("model",e.dataModel.recordStatus),g("optionDisabled",!((e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.accessEditField)??!1))("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Ad(n,s){n&1&&_(0,"i",27)}function Rd(n,s){n&1&&_(0,"i",28)}function Dd(n,s){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),C(4,"translate"),a()()),n&2){let e=d(2);o(),S(" ",e.fieldsInfo.fullName==null?null:e.fieldsInfo.fullName.fieldTitle," is "),o(2),R(h(4,2,"MESSAGE.required"))}}function xd(n,s){if(n&1){let e=I();r(0,"div",20)(1,"label",25),c(2),a(),r(3,"input",26,2),A("ngModelChange",function(t){m(e);let l=d();return y(l.dataModel.fullName,t)||(l.dataModel.fullName=t),p(t)}),a(),v(5,Ad,1,0,"i",27),v(6,Rd,1,0,"i",28),r(7,"em"),c(8),a(),v(9,Dd,5,4,"mat-error"),a()}if(n&2){let e=D(4),i=d();o(2),R(i.fieldsInfo.fullName==null?null:i.fieldsInfo.fullName.fieldTitle),o(),g("placeholder",L(i.fieldsInfo.fullName==null?null:i.fieldsInfo.fullName.fieldTitle)),E("ngModel",i.dataModel.fullName),g("disabled",!(i.fieldsInfo.fullName!=null&&i.fieldsInfo.fullName.accessEditField)),o(2),w(e.value?-1:5),o(),w(e.value?6:-1),o(2),S("",e.value.length," / 100"),o(),w(e.errors!=null&&e.errors.required?9:-1)}}function Ld(n,s){n&1&&_(0,"i",27)}function Vd(n,s){n&1&&_(0,"i",28)}function Bd(n,s){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),C(4,"translate"),a()()),n&2){let e=d(2);o(),S(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," is "),o(2),R(h(4,2,"MESSAGE.required"))}}function Nd(n,s){if(n&1){let e=I();r(0,"div",20)(1,"label",29),c(2),a(),r(3,"input",30,3),A("ngModelChange",function(t){m(e);let l=d();return y(l.dataModel.title,t)||(l.dataModel.title=t),p(t)}),a(),v(5,Ld,1,0,"i",27),v(6,Vd,1,0,"i",28),r(7,"em"),c(8),a(),v(9,Bd,5,4,"mat-error"),a()}if(n&2){let e=D(4),i=d();o(2),R(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(),g("placeholder",L(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle)),E("ngModel",i.dataModel.title),g("disabled",!(i.fieldsInfo.title!=null&&i.fieldsInfo.title.accessEditField)),o(2),w(e.value?-1:5),o(),w(e.value?6:-1),o(2),S("",e.value.length," / 100"),o(),w(e.errors!=null&&e.errors.required?9:-1)}}function Fd(n,s){n&1&&_(0,"i",27)}function Od(n,s){n&1&&_(0,"i",28)}function Gd(n,s){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),C(4,"translate"),a()()),n&2){let e=d(2);o(),S(" ",e.fieldsInfo.phoneNo==null?null:e.fieldsInfo.phoneNo.fieldTitle," is "),o(2),R(h(4,2,"MESSAGE.required"))}}function Pd(n,s){if(n&1){let e=I();r(0,"div",20)(1,"label",31),c(2),a(),r(3,"input",32,4),A("ngModelChange",function(t){m(e);let l=d();return y(l.dataModel.phoneNo,t)||(l.dataModel.phoneNo=t),p(t)}),a(),v(5,Fd,1,0,"i",27),v(6,Od,1,0,"i",28),r(7,"em"),c(8),a(),v(9,Gd,5,4,"mat-error"),a()}if(n&2){let e=D(4),i=d();o(2),R(i.fieldsInfo.phoneNo==null?null:i.fieldsInfo.phoneNo.fieldTitle),o(),g("placeholder",L(i.fieldsInfo.phoneNo==null?null:i.fieldsInfo.phoneNo.fieldTitle)),E("ngModel",i.dataModel.phoneNo),g("disabled",!(i.fieldsInfo.phoneNo!=null&&i.fieldsInfo.phoneNo.accessEditField)),o(2),w(e.value?-1:5),o(),w(e.value?6:-1),o(2),S("",e.value.length," / 100"),o(),w(e.errors!=null&&e.errors.required?9:-1)}}function Hd(n,s){n&1&&_(0,"i",27)}function qd(n,s){n&1&&_(0,"i",28)}function Wd(n,s){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),C(4,"translate"),a()()),n&2){let e=d(2);o(),S(" ",e.fieldsInfo.email==null?null:e.fieldsInfo.email.fieldTitle," is "),o(2),R(h(4,2,"MESSAGE.required"))}}function jd(n,s){if(n&1){let e=I();r(0,"div",20)(1,"label",33),c(2),a(),r(3,"input",34,5),A("ngModelChange",function(t){m(e);let l=d();return y(l.dataModel.email,t)||(l.dataModel.email=t),p(t)}),a(),v(5,Hd,1,0,"i",27),v(6,qd,1,0,"i",28),r(7,"em"),c(8),a(),v(9,Wd,5,4,"mat-error"),a()}if(n&2){let e=D(4),i=d();o(2),R(i.fieldsInfo.email==null?null:i.fieldsInfo.email.fieldTitle),o(),g("placeholder",L(i.fieldsInfo.email==null?null:i.fieldsInfo.email.fieldTitle)),E("ngModel",i.dataModel.email),g("disabled",!(i.fieldsInfo.email!=null&&i.fieldsInfo.email.accessEditField)),o(2),w(e.value?-1:5),o(),w(e.value?6:-1),o(2),S("",e.value.length," / 100"),o(),w(e.errors!=null&&e.errors.required?9:-1)}}function Ud(n,s){if(n&1){let e=I();r(0,"div",20)(1,"label",35),c(2),C(3,"translate"),a(),r(4,"textarea",36,6),C(6,"translate"),A("ngModelChange",function(t){m(e);let l=d();return y(l.dataModel.htmlBody,t)||(l.dataModel.htmlBody=t),p(t)}),c(7,"              "),a(),r(8,"em"),c(9),a()()}if(n&2){let e=D(5),i=d();o(2),R(h(3,6,"TITLE.Description")),o(2),g("placeholder",L(h(6,8,"TITLE.Description"))),E("ngModel",i.dataModel.htmlBody),g("disabled",!(i.fieldsInfo.htmlBody!=null&&i.fieldsInfo.htmlBody.accessEditField)),o(5),S("",e.value.length," / 1000")}}function Qd(n,s){if(n&1){let e=I();r(0,"div",21)(1,"label",37),c(2),a(),r(3,"input",38),A("ngModelChange",function(t){m(e);let l=d();return y(l.dataModel.expireDate,t)||(l.dataModel.expireDate=t),p(t)}),a(),_(4,"mat-datepicker-toggle",39)(5,"mat-datepicker",40,7),a()}if(n&2){let e=D(6),i=d();o(2),R(i.fieldsInfo.expireDate==null?null:i.fieldsInfo.expireDate.fieldTitle),o(),g("placeholder",L(i.fieldsInfo.expireDate==null?null:i.fieldsInfo.expireDate.fieldTitle))("matDatepicker",e),E("ngModel",i.dataModel.expireDate),g("disabled",!((i.fieldsInfo.expireDate==null?null:i.fieldsInfo.expireDate.accessEditField)??!1)),o(),g("for",e),o(),g("calendarHeaderComponent",i.datapickerHeader)}}function Kd(n,s){if(n&1){let e=I();r(0,"div",22)(1,"button",41),T("click",function(){m(e);let t=d();return p(t.onActionBackToParent())}),c(2),C(3,"translate"),a(),r(4,"button",42),c(5),C(6,"translate"),a()()}if(n&2){d();let e=D(10);o(2),S(" ",h(3,3,"ACTION.BACK")," "),o(2),g("disabled",!e.form.valid),o(),S(" ",h(6,5,"ACTION.NEXT")," ")}}function zd(n,s){if(n&1){let e=I();r(0,"div",20)(1,"label",43),c(2),a(),r(3,"input",44,8),A("ngModelChange",function(t){m(e);let l=d();return y(l.dataModel.userIpAddress,t)||(l.dataModel.userIpAddress=t),p(t)}),a(),r(5,"em"),c(6),a()()}if(n&2){let e=D(4),i=d();o(2),R(i.fieldsInfo.userIpAddress==null?null:i.fieldsInfo.userIpAddress.fieldTitle),o(),g("placeholder",L(i.fieldsInfo.userIpAddress==null?null:i.fieldsInfo.userIpAddress.fieldTitle)),E("ngModel",i.dataModel.userIpAddress),g("disabled",!(i.fieldsInfo.userIpAddress!=null&&i.fieldsInfo.userIpAddress.accessEditField)),o(3),S("",e.value.length," / 100")}}function Jd(n,s){if(n&1){let e=I();r(0,"div",20)(1,"label",45),c(2),a(),r(3,"input",46,9),A("ngModelChange",function(t){m(e);let l=d();return y(l.dataModel.deviceInformation,t)||(l.dataModel.deviceInformation=t),p(t)}),a(),r(5,"em"),c(6),a()()}if(n&2){let e=D(4),i=d();o(2),R(i.fieldsInfo.userIpAddress==null?null:i.fieldsInfo.userIpAddress.fieldTitle),o(),g("placeholder",L(i.fieldsInfo.deviceInformation==null?null:i.fieldsInfo.deviceInformation.fieldTitle)),E("ngModel",i.dataModel.deviceInformation),g("disabled",!(i.fieldsInfo.deviceInformation!=null&&i.fieldsInfo.deviceInformation.accessEditField)),o(3),S("",e.value.length," / 100")}}function Yd(n,s){if(n&1&&(r(0,"div",22)(1,"button",47),c(2),C(3,"translate"),a(),r(4,"button",48),c(5),C(6,"translate"),a()()),n&2){d();let e=D(10);o(2),S(" ",h(3,3,"ACTION.BEFOR")," "),o(2),g("disabled",!e.form.valid),o(),S(" ",h(6,5,"ACTION.SAVE")," ")}}var wn=class wn extends ii{constructor(e,i,t,l,f,u,J,ee,Je,Ye){super(u,new Ze,l,Ye);this.data=e;this.activatedRoute=i;this.dialogRef=t;this.publicHelper=l;this.coreEnumService=f;this.ticketingTaskService=u;this.cmsToastrService=J;this.router=ee;this.cdr=Je;this.translate=Ye;this.requestId=0;this.constructorInfoAreaId=this.constructor.name;this.dataModel=new Ze;this.dataModelResult=new Rt;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.fileManagerOpenForm=!1;this.appLanguage="fa";this.mapOptonCenter=new ei;this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),e&&(this.requestId=+e.id||0)}ngOnInit(){if(this.requestId===0){this.cmsToastrService.typeErrorAddRowParentIsNull(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOne(this.requestId)}onFormSubmit(){if(!this.formGroup.valid){this.cmsToastrService.typeErrorFormInvalid();return}this.DataEditContent()}DataGetOne(e){this.formInfo.submitButtonEnabled=!1,this.translate.get("MESSAGE.get_information_from_the_server").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage="";let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructorInfoAreaId)}),this.ticketingTaskService.setAccessLoad(),this.ticketingTaskService.setAccessDataType(Dt.Editor),this.ticketingTaskService.ServiceGetOneById(e).subscribe({next:t=>{this.dataAccessModel=t.access,this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.publicHelper.processService.processStop(i),this.dataModelResult=t,this.formInfo.submitButtonEnabled=!0,t.isSuccess?(this.dataModel=t.item,this.ticketingTaskService.ServiceTaskReaded(e).subscribe({next:l=>{},error:l=>{this.cmsToastrService.typeErrorGetOne(l)}})):this.cmsToastrService.typeErrorGetOne(t.errorMessage)},error:t=>{this.publicHelper.processService.processStop(i),this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeErrorGetOne(t)}})}DataEditContent(){this.formInfo.submitButtonEnabled=!1,this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.ticketingTaskService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!i.isSuccess,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.cmsToastrService.typeSuccessEdit(),setTimeout(()=>{this.dialogRef.close({dialogChangedDate:!0})},1e3)):this.cmsToastrService.typeErrorEdit(i.errorMessage),this.publicHelper.processService.processStop(e)},error:i=>{this.publicHelper.processService.processStop(e),this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeErrorEdit(i)}})}onStepClick(e,i){e.previouslySelectedIndex<e.selectedIndex}onActionBackToParent(){this.dialogRef.close({dialogChangedDate:!1})}onActionFileSelectedLinkMainImageId(){}onActionSelectSource(e){if(!e||e.id<=0){this.translate.get(["MESSAGE.Specify_the_source","MESSAGE.The_source_of_the_information_application_is_not_known"]).subscribe(i=>{this.cmsToastrService.typeErrorMessage(i["MESSAGE.Specify_the_source"],i["MESSAGE.The_source_of_the_information_application_is_not_known"])});return}}};wn.\u0275fac=function(i){return new(i||wn)(b(we),b(Me),b(me),b(O),b(K),b(tt),b(H),b(de),b(N),b(F))},wn.\u0275cmp=V({type:wn,selectors:[["app-ticketing-task-edit"]],viewQuery:function(i,t){if(i&1&&oe(Ed,5),i&2){let l;ae(l=re())&&(t.formGroup=l.first)}},standalone:!1,features:[P],decls:33,vars:33,consts:[["vform","ngForm"],["stepper",""],["FullName",""],["Title",""],["PhoneNo",""],["Email",""],["HtmlBody",""],["ExpireDate",""],["UserIpAddress",""],["DeviceInformation",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"selectionChange"],["state","main",3,"label"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"optionChange","optionSelectForce","optionPlaceholder","optionDisabled"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],[1,"form-actions"],["state","seo",3,"label"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.fullName",1,"color-highlight"],["matInput","","type","text","name","dataModel.fullName","minlength","3","maxlength","1000","required","","id","dataModel.fullName",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.phoneNo",1,"color-highlight"],["matInput","","type","text","name","dataModel.phoneNo","type","text","minlength","3","maxlength","100","required","","id","dataModel.phoneNo",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.email",1,"color-highlight"],["matInput","","type","text","cmsKeyboardForce","en","name","dataModel.email","type","text","minlength","3","maxlength","100","required","","id","dataModel.email",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.htmlBody",1,"color-highlight"],["matInput","","name","dataModel.htmlBody","type","text","minlength","0","maxlength","1000","rows","5","id","dataModel.htmlBody",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","expireDate",1,"color-highlight"],["matInput","","type","text","name","dataModel.expireDate","id","expireDate",1,"form-control","validate-name",3,"ngModelChange","matDatepicker","ngModel","placeholder","disabled"],["matSuffix","",3,"for"],["touchUi","",3,"calendarHeaderComponent"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],["type","button","matStepperNext","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue",3,"disabled"],["for","dataModel.userIpAddress",1,"color-highlight"],["matInput","","type","text","name","dataModel.userIpAddress","type","text","minlength","0","maxlength","100","id","dataModel.userIpAddress",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.deviceInformation",1,"color-highlight"],["matInput","","type","text","name","dataModel.deviceInformation","type","text","minlength","0","maxlength","100","id","dataModel.deviceInformation",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["type","button","matStepperPrevious","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"]],template:function(i,t){if(i&1){let l=I();r(0,"div",10),_(1,"app-progress-spinner",11),r(2,"div",12)(3,"p",13),c(4),a(),r(5,"p"),c(6),C(7,"translate"),a(),_(8,"app-cms-form-result-message",14),r(9,"form",15,0),T("ngSubmit",function(){return m(l),p(t.onFormSubmit())}),r(11,"mat-horizontal-stepper",16,1),T("selectionChange",function(u){m(l);let J=D(12);return p(t.onStepClick(u,J))}),r(13,"mat-step",17),C(14,"translate"),v(15,yd,1,5,"app-cms-enum-record-status-selector",18),r(16,"app-ticketing-departemen-selector",19),C(17,"translate"),T("optionChange",function(u){return m(l),p(t.onActionSelectSource(u))}),a(),v(18,xd,10,9,"div",20),v(19,Nd,10,9,"div",20),v(20,Pd,10,9,"div",20),v(21,jd,10,9,"div",20),v(22,Ud,10,10,"div",20),v(23,Qd,7,8,"div",21),v(24,Kd,7,7,"div",22),a(),r(25,"mat-step",23),C(26,"translate"),r(27,"p"),c(28),C(29,"translate"),a(),v(30,zd,7,6,"div",20),v(31,Jd,7,6,"div",20),v(32,Yd,7,7,"div",22),a()()()()()}i&2&&(o(),g("optionsInfoAreaId",t.constructorInfoAreaId),o(3),S(" ",t.formInfo.formTitle," "),o(2),S(" ",h(7,23,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),g("formInfo",t.formInfo),o(5),g("label",L(h(14,25,"TITLE.REQUIRED_INFORMATION"))),o(2),w(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?15:-1),o(),g("optionSelectForce",t.dataModel.linkTicketingDepartemenId)("optionPlaceholder",h(17,27,"TITLE.Department"))("optionDisabled",!(t.fieldsInfo.linkTicketingDepartemenId!=null&&t.fieldsInfo.linkTicketingDepartemenId.accessEditField)),o(2),w(t.fieldsInfo.fullName!=null&&t.fieldsInfo.fullName.accessWatchField?18:-1),o(),w(t.fieldsInfo.title!=null&&t.fieldsInfo.title.accessWatchField?19:-1),o(),w(t.fieldsInfo.phoneNo!=null&&t.fieldsInfo.phoneNo.accessWatchField?20:-1),o(),w(t.fieldsInfo.email!=null&&t.fieldsInfo.email.accessWatchField?21:-1),o(),w(t.fieldsInfo.htmlBody!=null&&t.fieldsInfo.htmlBody.accessWatchField?22:-1),o(),w(t.fieldsInfo.expireDate!=null&&t.fieldsInfo.expireDate.accessWatchField?23:-1),o(),w(t.formInfo.submitButtonEnabled?24:-1),o(),g("label",L(h(26,29,"TITLE.REST_OF_THE_INFORMATION"))),o(3),R(h(29,31,"TITLE.Rest_of_Information")),o(2),w(t.fieldsInfo.userIpAddress!=null&&t.fieldsInfo.userIpAddress.accessWatchField?30:-1),o(),w(t.fieldsInfo.deviceInformation!=null&&t.fieldsInfo.deviceInformation.accessWatchField?31:-1),o(),w(t.formInfo.submitButtonEnabled?32:-1))},dependencies:[Ae,se,ce,Ee,Re,De,xe,ve,ye,$n,eo,to,We,Yn,j,io,no,oo,ao,Fe,U,ge,Hi,Qe,B],encapsulation:2});var vo=wn;var Xd=()=>["expandedDetail"],Zd=()=>[5,10,20,100],$d=n=>({background:n}),em=n=>({display:n});function tm(n,s){if(n&1){let e=I();r(0,"a",46),T("click",function(){m(e);let t=d();return p(t.onActionBackToParent())}),_(1,"i",47),a()}}function im(n,s){if(n&1){let e=I();r(0,"div",20)(1,"a",48),T("click",function(){m(e);let t=d();return p(t.onActionButtonNewRow())}),_(2,"i",49)(3,"br"),a(),r(4,"p",50),c(5),C(6,"translate"),a()()}n&2&&(o(5),S(" ",h(6,1,"ACTION.ADD")," "))}function nm(n,s){if(n&1){let e=I();r(0,"div",20)(1,"a",10),T("click",function(){m(e);let t=d();return p(t.onActionButtonAnswerList())}),_(2,"i",51)(3,"br"),a(),r(4,"p",50),c(5),C(6,"translate"),a()()}n&2&&(o(5),S(" ",h(6,1,"ACTION.ANSWERS")," "))}function om(n,s){if(n&1){let e=I();r(0,"div",20)(1,"a",52),T("click",function(){m(e);let t=d();return p(t.onActionButtonEditRow(t.tableRowSelected))}),_(2,"i",53)(3,"br"),a(),r(4,"p",50),c(5),C(6,"translate"),a()()}n&2&&(o(5),S(" ",h(6,1,"ACTION.EDIT")," "))}function am(n,s){if(n&1){let e=I();r(0,"div",20)(1,"a",54),T("click",function(){m(e);let t=d();return p(t.onActionButtonDeleteRow(t.tableRowSelected))}),_(2,"i",55)(3,"br"),a(),r(4,"p",50),c(5),C(6,"translate"),a()()}n&2&&(o(5),S(" ",h(6,1,"ACTION.DELETE")," "))}function rm(n,s){if(n&1){let e=I();r(0,"div",20)(1,"a",13),T("click",function(t){m(e);let l=d();return p(l.onActionButtonAnswerList(l.tableRowSelected,t))}),_(2,"i",51)(3,"br"),a(),r(4,"p",50),c(5),C(6,"translate"),a()()}n&2&&(o(5),S(" ",h(6,1,"ACTION.ANSWERS")," "))}function lm(n,s){if(n&1){let e=I();r(0,"div",20)(1,"a",56),T("click",function(){m(e);let t=d();return p(t.onActionButtonViewRow(t.tableRowSelected))}),_(2,"i",57)(3,"br"),a(),r(4,"p",50),c(5),C(6,"translate"),a()()}n&2&&(o(5),S(" ",h(6,1,"ACTION.VIEW")," "))}function sm(n,s){if(n&1&&(r(0,"mat-header-cell",58),c(1),a()),n&2){let e=d();o(),S(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function cm(n,s){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=s.$implicit;o(),S(" ",e.id," ")}}function dm(n,s){if(n&1&&(r(0,"mat-header-cell",58),c(1),a()),n&2){let e=d();o(),S(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function mm(n,s){if(n&1&&(r(0,"mat-cell"),c(1),C(2,"cmssiteinfo"),C(3,"async"),a()),n&2){let e=s.$implicit;o(),S(" ",h(3,3,h(2,1,e.linkSiteId))," ")}}function pm(n,s){if(n&1&&(r(0,"mat-header-cell",58),c(1),a()),n&2){let e=d();o(),S(" ",e.fieldsInfo.linkMemberId==null?null:e.fieldsInfo.linkMemberId.fieldTitle," ")}}function um(n,s){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=s.$implicit;o(),S(" ",e.linkMemberId," ")}}function fm(n,s){if(n&1&&(r(0,"mat-header-cell",58),c(1),a()),n&2){let e=d();o(),S(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," ")}}function _m(n,s){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=s.$implicit;o(),S(" ",e.title," ")}}function gm(n,s){if(n&1&&(r(0,"mat-header-cell",58),c(1),a()),n&2){let e=d();o(),S(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function Sm(n,s){if(n&1&&(r(0,"mat-cell"),c(1),C(2,"localeDate"),a()),n&2){let e=s.$implicit;o(),S(" ",h(2,1,e.createdDate)," ")}}function Cm(n,s){if(n&1&&(r(0,"mat-header-cell",58),c(1),a()),n&2){let e=d();o(),S(" ",e.fieldsInfo.updatedDate==null?null:e.fieldsInfo.updatedDate.fieldTitle," ")}}function hm(n,s){if(n&1&&(r(0,"mat-cell"),c(1),C(2,"localeDate"),a()),n&2){let e=s.$implicit;o(),S(" ",h(2,1,e.updatedDate)," ")}}function Tm(n,s){if(n&1&&(r(0,"mat-header-cell",58),c(1),a()),n&2){let e=d();o(),S(" ",e.fieldsInfo.expireDate==null?null:e.fieldsInfo.expireDate.fieldTitle," ")}}function bm(n,s){if(n&1&&(r(0,"mat-cell"),c(1),C(2,"localeDate"),a()),n&2){let e=s.$implicit;o(),S(" ",h(2,1,e.expireDate)," ")}}function vm(n,s){if(n&1&&(r(0,"mat-header-cell",58),c(1),a()),n&2){let e=d();o(),S(" ",e.fieldsInfo.ticketStatus==null?null:e.fieldsInfo.ticketStatus.fieldTitle," ")}}function wm(n,s){if(n&1&&(r(0,"mat-cell",59),c(1),C(2,"enums"),a()),n&2){let e=s.$implicit,i=d();g("ngStyle",Ne(5,$d,i.publicHelper.RowStyleTicketStatus(e.ticketStatus))),o(),S(" ",Yt(2,2,e.ticketStatus,i.dataModelEnumTicketStatusResult.listItems)," ")}}function Im(n,s){n&1&&(r(0,"mat-header-cell"),c(1),C(2,"translate"),a()),n&2&&(o(),S(" ",h(2,1,"TITLE.OPTION")," "))}function km(n,s){if(n&1&&(r(0,"mat-cell",60)(1,"button",61)(2,"mat-icon"),c(3,"more_vert"),a()(),_(4,"mat-menu",null,2),a()),n&2){let e=D(5);o(),g("matMenuTriggerFor",e)}}function Mm(n,s){if(n&1&&(r(0,"tr")(1,"td")(2,"strong"),c(3),a(),c(4),a()()),n&2){let e=d().$implicit,i=d();o(3),S("",i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle,":"),o(),S(" ",e.title," ")}}function Em(n,s){if(n&1&&(r(0,"tr")(1,"td")(2,"strong"),c(3),C(4,"translate"),a(),_(5,"div",64),C(6,"safeHtml"),a()()),n&2){let e=d().$implicit,i=d();o(3),S("",(i.fieldsInfo.htmlBody==null?null:i.fieldsInfo.htmlBody.fieldTitle)||h(4,2,"TICKETING.TASK_MESSAGE"),":"),o(2),g("innerHTML",h(6,4,e.htmlBody),Xe)}}function ym(n,s){if(n&1){let e=I();r(0,"mat-cell")(1,"div")(2,"table")(3,"tr")(4,"td")(5,"span",62),T("click",function(t){return m(e),d().onActionCopied(),p(t.stopPropagation())}),_(6,"i",63),a(),c(7),a()(),v(8,Mm,5,2,"tr"),v(9,Em,7,6,"tr"),a()()()}if(n&2){let e=s.$implicit,i=d();o(5),g("cdkCopyToClipboard",(e.id==null?null:e.id.toString())||""),o(2),le(" ",i.fieldsInfo.id==null?null:i.fieldsInfo.id.fieldTitle,": ",e.id," "),o(),w(e.title?8:-1),o(),w(e.htmlBody?9:-1)}}function Am(n,s){n&1&&_(0,"mat-header-row")}function Rm(n,s){if(n&1){let e=I();r(0,"mat-row",65),T("click",function(t){let l=m(e).$implicit,f=d();return p(f.onActionTableRowSelect(l,t))})("dblclick",function(t){let l=m(e).$implicit,f=d();return p(f.onActionTaskRowClick(l,t))})("rtclick",function(t){let l=m(e).$implicit,f=d();return p(f.onActionTableRowSelect(l,t))})("mouseenter",function(){let t=m(e).$implicit,l=d();return p(l.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=m(e).$implicit,l=d();return p(l.onActionTableRowMouseLeave(t))}),a()}if(n&2){let e=s.$implicit,i=d();G("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}function Dm(n,s){if(n&1){let e=I();r(0,"mat-row",66),T("click",function(t){let l=m(e).$implicit,f=d();return p(f.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=m(e).$implicit,f=d();return p(f.onActionTableRowSelect(l,t))})("mouseenter",function(){let t=m(e).$implicit,l=d();return p(l.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=m(e).$implicit,l=d();return p(l.onActionTableRowMouseLeave(t))}),a()}if(n&2){let e=s.$implicit,i=d();G("ntk-row-expanded",e.expanded===!0)("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)),g("ngStyle",Ne(5,em,e.expanded===!0?"":"none"))}}var In=class In extends bt{constructor(e,i,t,l,f,u,J,ee,Je,Ye,zt,kt,yn){super(e,new Ze,kt,u,Je);this.contentService=e;this.activatedRoute=i;this.cmsToastrService=t;this.cmsConfirmationDialogService=l;this.router=f;this.tokenHelper=u;this.cmsStoreService=J;this.cdr=ee;this.translate=Je;this.ticketingEnumService=Ye;this.pageInfo=zt;this.publicHelper=kt;this.dialog=yn;this.requestDepartemenId=0;this.requestLinkCmsUserId=0;this.requestTicketStatus=-1;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new Z;this.filterDataModelQueryBuilder=[];this.dataModelEnumTicketStatusResult=new Q;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["title","linkMemberId","createdDate","updatedDate","expireDate","TicketStatus"];this.tabledisplayedColumnsMobileSource=["title","linkMemberId","createdDate","updatedDate","expireDate","TicketStatus"];this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:Mo=>this.onSubmitOptionsSearch(Mo)},this.filteModelContent.sortColumn="id",this.filteModelContent.sortType=W.Descending}ngOnInit(){this.requestDepartemenId=+Number(this.activatedRoute.snapshot.paramMap.get("DepartemenId")),this.requestLinkCmsUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkCmsUserId")),this.activatedRoute.snapshot.paramMap.get("TicketStatus")&&(this.requestTicketStatus=+Number(this.activatedRoute.snapshot.paramMap.get("TicketStatus"))),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>te(this,null,function*(){this.getEnumTicketStatus(),this.tokenInfo=e,this.DataGetAll()}))),this.getEnumTicketStatus()}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}getEnumTicketStatus(){this.ticketingEnumService.ServiceTicketStatusEnum().subscribe({next:e=>{this.dataModelEnumTicketStatusResult=e}})}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Ze);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(l=>{this.publicHelper.processService.processStart(e,l,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]);let t=new Y;this.requestDepartemenId>0&&(t.propertyName="LinkTicketingDepartemenId",t.value=this.requestDepartemenId,i.filters.push(t)),this.categoryModelSelected&&this.categoryModelSelected.id>0&&(t.propertyName="LinkTicketingDepartemenId",t.value=this.categoryModelSelected.id,i.filters.push(t)),this.requestLinkCmsUserId>0&&(t.propertyName="LinkCmsUserId",t.value=this.requestLinkCmsUserId,i.filters.push(t)),this.requestTicketStatus>=0&&(t.propertyName="TicketStatus",t.value=this.requestTicketStatus,i.filters.push(t)),this.contentService.ServiceGetAll(i).subscribe({next:l=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(l.access),l.isSuccess?(this.applyDataGetAllResult(l),this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(l.access)},1e3)):this.cmsToastrService.typeErrorGetAll(l.errorMessage),this.publicHelper.processService.processStop(e)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=W.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=W.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=W.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.categoryModelSelected==null&&this.categoryModelSelected&&this.categoryModelSelected.id===0&&(this.requestDepartemenId==null||this.requestDepartemenId===0)){this.translate.get("MESSAGE.Content_not_selected").subscribe(l=>{this.cmsToastrService.typeErrorSelected(l)});return}let e=this.requestDepartemenId;this.categoryModelSelected&&this.categoryModelSelected.id>0&&(e=this.categoryModelSelected.id);var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(bo,{height:"90%",panelClass:i,enterAnimationDuration:q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:q.cmsViewConfig.exitAnimationDuration,data:{linkDepartemenId:e}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()})}onActionButtonViewRow(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.cmsToastrService.typeErrorSelectedRow();return}this.tableRowSelected=e;var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Tn,{height:"90%",panelClass:i,enterAnimationDuration:q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate})}onActionSelectorSelect(e){var i=this.filteModelContent.sortColumn,t=this.filteModelContent.sortType;this.filteModelContent=new Z,this.filteModelContent.sortColumn=i,this.filteModelContent.sortType=t,this.categoryModelSelected=e,this.DataGetAll()}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.tableRowSelected=e,this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(vo,{height:"90%",panelClass:i,enterAnimationDuration:q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()})}onActionTaskRowClick(e,i){if(i&&i.preventDefault(),e?.id>0&&this.dataModelResult?.access?.accessWatchRow){if(this.tableRowSelected=e,i?.ctrlKey){let t="/#/ticketing/answer/LinkTaskId/"+e.id;window.open(t,"_blank")}else this.router.navigate(["/ticketing/answer/LinkTaskId/",e.id]);return}this.onActionTableRowSelect(e,i)}onActionButtonAnswerList(e=this.tableRowSelected,i){if(!e||!e.id||e.id===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.tableRowSelected=e,this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}if(i?.ctrlKey){let t="/#/ticketing/answer/LinkTaskId/"+this.tableRowSelected.id;window.open(t,"_blank")}else this.router.navigate(["/ticketing/answer/LinkTaskId/",this.tableRowSelected.id])}onActionButtonDeleteRow(e=this.tableRowSelected){if(e==null||!e.id||e.id===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(l=>{this.cmsToastrService.typeErrorSelected(l)});return}if(this.tableRowSelected=e,this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(l=>{i=l["MESSAGE.Please_Confirm"],t=l["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(l=>{if(l){let f=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(u=>{this.publicHelper.processService.processStart(f,u,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:u=>{u.isSuccess?this.cmsToastrService.typeSuccessRemove():this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(f)},error:u=>{this.cmsToastrService.typeError(u),this.publicHelper.processService.processStop(f,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(u=>{i.set(u,0)}),this.translate.get("MESSAGE.All").subscribe(u=>{i.set(u,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(u=>{this.publicHelper.processService.processStart(t,u,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:u=>{u.isSuccess&&(this.translate.get("MESSAGE.All").subscribe(J=>{i.set(J,u.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)),this.publicHelper.processService.processStop(t)},error:u=>{this.cmsToastrService.typeError(u),this.publicHelper.processService.processStop(t,!1)}});let l=JSON.parse(JSON.stringify(this.filteModelContent)),f=new Y;f.propertyName="recordStatus",f.value=at.Available,l.filters.push(f),this.contentService.ServiceGetCount(l).subscribe({next:u=>{u.isSuccess&&(this.translate.get("MESSAGE.Active").subscribe(J=>{i.set(J,u.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)),this.publicHelper.processService.processStop(t)},error:u=>{this.cmsToastrService.typeError(u),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonReload(){this.requestTicketStatus=-1,this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/ticketing/departemen/"])}};In.\u0275fac=function(i){return new(i||In)(b(tt),b(Me),b(H),b(ti),b(de),b(_e),b(fe),b(N),b(F),b(pi),b(Tt),b(O),b(je))},In.\u0275cmp=V({type:In,selectors:[["app-ticketing-task-list"]],standalone:!1,features:[P],decls:73,vars:36,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],[3,"optionChange"],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-maximize","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-minimize","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","","multiTemplateDataRows","",3,"matSortChange","dataSource"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","linkSiteId"],["matColumnDef","linkMemberId"],["matColumnDef","title"],["matColumnDef","createdDate"],["matColumnDef","updatedDate"],["matColumnDef","expireDate"],["matColumnDef","TicketStatus"],[3,"ngStyle",4,"matCellDef"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],["matColumnDef","expandedDetail"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","dblclick","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["class","ntk-row-expandedDetail",3,"ntk-row-expanded","ntk-row-selected","ngStyle","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-phone-arrow-right","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","target","_blank","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"navi-icon","pointer",3,"click","cdkCopyToClipboard"],[1,"flaticon2-copy"],[1,"ntk-html-content",3,"innerHTML"],[1,"ntk-row-mainfild",3,"click","dblclick","rtclick","mouseenter","mouseleave"],[1,"ntk-row-expandedDetail",3,"click","rtclick","mouseenter","mouseleave","ngStyle"]],template:function(i,t){if(i&1){let l=I();r(0,"app-cms-html-list",3),A("optionActionGuideNoticeDisplayChange",function(u){return m(l),y(t.viewGuideNotice,u)||(t.viewGuideNotice=u),p(u)}),T("optionOnActionButtonMemoRow",function(){return m(l),p(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return m(l),p(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return m(l),p(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return m(l),p(t.onActionButtonPrintRow())}),k(1,4),r(2,"app-ticketing-departemen-tree",5),T("optionChange",function(u){return m(l),p(t.onActionSelectorSelect(u))}),a(),M(),ie(3,6)(4,7),k(5,8),v(6,tm,2,0,"a",9),r(7,"a",10),T("click",function(){return m(l),p(t.viewGuideNotice=!t.viewGuideNotice)}),_(8,"i",11),a(),r(9,"a",10),T("click",function(){return m(l),p(t.onActionButtonReload())}),_(10,"i",12),a(),r(11,"a",13),T("click",function(){return m(l),p(t.onActionGridExpandRows(!0))}),_(12,"i",14),a(),r(13,"a",13),T("click",function(){return m(l),p(t.onActionGridExpandRows(!1))}),_(14,"i",15),a(),M(),k(15,16),r(16,"a",17),T("click",function(){return m(l),p(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),_(17,"mat-slide-toggle",18),c(18),C(19,"translate"),a(),r(20,"a",17),T("click",function(){return m(l),p(t.onActionButtonStatist())}),_(21,"mat-slide-toggle",18),c(22),C(23,"translate"),a(),M(),k(24,19),v(25,im,7,3,"div",20),v(26,nm,7,3,"div",20),M(),k(27,21),v(28,om,7,3,"div",20),v(29,am,7,3,"div",20),v(30,rm,7,3,"div",20),v(31,lm,7,3,"div",20),M(),k(32,22),r(33,"app-cms-search-list",23),A("optionsChange",function(u){return m(l),y(t.optionsSearch,u)||(t.optionsSearch=u),p(u)}),a(),r(34,"app-cms-statist-list",23),A("optionsChange",function(u){return m(l),y(t.optionsStatist,u)||(t.optionsStatist=u),p(u)}),a(),M(),k(35,24),r(36,"mat-table",25,0),T("matSortChange",function(){m(l);let u=D(37);return p(t.onTableSortData(u))}),k(38,26),x(39,sm,2,1,"mat-header-cell",27)(40,cm,2,1,"mat-cell",28),M(),k(41,29),x(42,dm,2,1,"mat-header-cell",27)(43,mm,4,5,"mat-cell",28),M(),k(44,30),x(45,pm,2,1,"mat-header-cell",27)(46,um,2,1,"mat-cell",28),M(),k(47,31),x(48,fm,2,1,"mat-header-cell",27)(49,_m,2,1,"mat-cell",28),M(),k(50,32),x(51,gm,2,1,"mat-header-cell",27)(52,Sm,3,3,"mat-cell",28),M(),k(53,33),x(54,Cm,2,1,"mat-header-cell",27)(55,hm,3,3,"mat-cell",28),M(),k(56,34),x(57,Tm,2,1,"mat-header-cell",27)(58,bm,3,3,"mat-cell",28),M(),k(59,35),x(60,vm,2,1,"mat-header-cell",27)(61,wm,3,7,"mat-cell",36),M(),k(62,37),x(63,Im,3,3,"mat-header-cell",38)(64,km,6,1,"mat-cell",39),M(),k(65,40),x(66,ym,10,5,"mat-cell",28),M(),x(67,Am,1,0,"mat-header-row",41)(68,Rm,1,2,"mat-row",42)(69,Dm,1,7,"mat-row",43),a(),M(),k(70,44),r(71,"mat-paginator",45,1),T("page",function(u){return m(l),p(t.onTablePageingData(u))}),a(),M(),a()}i&2&&(g("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey","ticketing.task.list"),E("optionActionGuideNoticeDisplay",t.viewGuideNotice),g("optionTreeDisplay",t.requestDepartemenId===0)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",(t.tableRowSelected==null||t.tableRowSelected.title==null?null:t.tableRowSelected.title.length)>0?t.tableRowSelected==null?null:t.tableRowSelected.title:t.tableRowSelected==null?null:t.tableRowSelected.id),o(6),w(t.requestDepartemenId>0?6:-1),o(4),G("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(7),g("checked",t.optionsSearch.data.show),o(),S("",h(19,30,"ACTION.SEARCH")," "),o(3),g("checked",t.optionsStatist.data.show),o(),S("",h(23,32,"ACTION.STATIST")," "),o(3),w(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessAddRow?25:-1),o(),w(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessWatchRow&&(t.tableRowSelected==null?null:t.tableRowSelected.id)>0?26:-1),o(2),w(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?28:-1),o(),w(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?29:-1),o(),w(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessWatchRow?30:-1),o(),w(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessWatchRow&&(t.tableRowSelected==null?null:t.tableRowSelected.id)>0?31:-1),o(2),E("options",t.optionsSearch),o(),E("options",t.optionsStatist),o(2),g("dataSource",t.tableSource),o(31),g("matHeaderRowDef",t.tabledisplayedColumns),o(),g("matRowDefColumns",t.tabledisplayedColumns),o(),g("matRowDefColumns",ne(34,Xd)),o(2),g("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",ne(35,Zd)))},dependencies:[Pe,it,nt,rt,lt,pe,ue,st,ct,dt,pt,gt,ut,mt,St,ft,_t,Ct,ht,qe,Se,Ce,vt,he,ot,He,B,Lt,oi,wt,Ue],encapsulation:2});var di=In;var xm=()=>[5,10,20,100],Lm=n=>({background:n}),Vm=(n,s)=>s.id;function Bm(n,s){if(n&1){let e=I();r(0,"a",27),T("click",function(){m(e);let t=d();return p(t.onActionBackToParent())}),_(1,"i",28),a()}}function Nm(n,s){if(n&1){let e=I();r(0,"div",18)(1,"a",29),T("click",function(){m(e);let t=d();return p(t.onActionButtonNewRow())}),_(2,"i",30)(3,"br"),a(),r(4,"p",31),c(5),C(6,"translate"),a()()}n&2&&(o(5),S(" ",h(6,1,"ACTION.ADD")," "))}function Fm(n,s){if(n&1){let e=I();r(0,"div",18)(1,"a",8),T("click",function(){m(e);let t=d();return p(t.onActionButtonAnswerList())}),_(2,"i",32)(3,"br"),a(),r(4,"p",31),c(5),C(6,"translate"),a()()}n&2&&(o(5),S(" ",h(6,1,"ACTION.ANSWERS")," "))}function Om(n,s){if(n&1){let e=I();r(0,"div",18)(1,"a",33),T("click",function(){m(e);let t=d();return p(t.onActionButtonEditRow(t.tableRowSelected))}),_(2,"i",34)(3,"br"),a(),r(4,"p",31),c(5),C(6,"translate"),a()()}n&2&&(o(5),S(" ",h(6,1,"ACTION.EDIT")," "))}function Gm(n,s){if(n&1){let e=I();r(0,"div",18)(1,"a",35),T("click",function(){m(e);let t=d();return p(t.onActionButtonDeleteRow(t.tableRowSelected))}),_(2,"i",36)(3,"br"),a(),r(4,"p",31),c(5),C(6,"translate"),a()()}n&2&&(o(5),S(" ",h(6,1,"ACTION.DELETE")," "))}function Pm(n,s){if(n&1){let e=I();r(0,"div",18)(1,"a",11),T("click",function(t){m(e);let l=d();return p(l.onActionButtonAnswerList(l.tableRowSelected,t))}),_(2,"i",32)(3,"br"),a(),r(4,"p",31),c(5),C(6,"translate"),a()()}n&2&&(o(5),S(" ",h(6,1,"ACTION.ANSWERS")," "))}function Hm(n,s){if(n&1){let e=I();r(0,"div",18)(1,"a",37),T("click",function(){m(e);let t=d();return p(t.onActionButtonViewRow(t.tableRowSelected))}),_(2,"i",38)(3,"br"),a(),r(4,"p",31),c(5),C(6,"translate"),a()()}n&2&&(o(5),S(" ",h(6,1,"ACTION.VIEW")," "))}function qm(n,s){if(n&1&&(r(0,"div",45),_(1,"i",48),c(2),a()),n&2){let e=d().$implicit,i=d(2);o(2),le(" ",i.fieldsInfo.linkMemberId==null?null:i.fieldsInfo.linkMemberId.fieldTitle,": ",e.linkMemberId," ")}}function Wm(n,s){if(n&1&&(r(0,"div",45),_(1,"i",49),c(2),C(3,"cmssiteinfo"),C(4,"async"),a()),n&2){let e=d().$implicit,i=d(2);o(2),le(" ",i.fieldsInfo.linkSiteId==null?null:i.fieldsInfo.linkSiteId.fieldTitle,": ",h(4,4,h(3,2,e.linkSiteId))," ")}}function jm(n,s){if(n&1&&(r(0,"div",46),_(1,"i",50),c(2),C(3,"enums"),a()),n&2){let e=d().$implicit,i=d(2);g("ngStyle",Ne(6,Lm,i.publicHelper.RowStyleTicketStatus(e.ticketStatus))),o(2),le(" ",i.fieldsInfo.ticketStatus==null?null:i.fieldsInfo.ticketStatus.fieldTitle,": ",Yt(3,3,e.ticketStatus,i.dataModelEnumTicketStatusResult.listItems)," ")}}function Um(n,s){if(n&1&&(r(0,"div",45),_(1,"i",51),c(2),C(3,"localeDate"),a()),n&2){let e=d().$implicit,i=d(2);o(2),le(" ",i.fieldsInfo.createdDate==null?null:i.fieldsInfo.createdDate.fieldTitle,": ",h(3,2,e.createdDate)," ")}}function Qm(n,s){if(n&1&&(r(0,"div",45),_(1,"i",52),c(2),C(3,"localeDate"),a()),n&2){let e=d().$implicit,i=d(2);o(2),le(" ",i.fieldsInfo.updatedDate==null?null:i.fieldsInfo.updatedDate.fieldTitle,": ",h(3,2,e.updatedDate)," ")}}function Km(n,s){if(n&1&&(r(0,"div",45),_(1,"i",53),c(2),C(3,"localeDate"),a()),n&2){let e=d().$implicit,i=d(2);o(2),le(" ",i.fieldsInfo.expireDate==null?null:i.fieldsInfo.expireDate.fieldTitle,": ",h(3,2,e.expireDate)," ")}}function zm(n,s){if(n&1&&(r(0,"div",45)(1,"strong"),c(2),a(),c(3),a()),n&2){let e=d(2).$implicit,i=d(2);o(2),S("",i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle,":"),o(),S(" ",e.title," ")}}function Jm(n,s){if(n&1&&(r(0,"div",45)(1,"strong"),c(2),C(3,"translate"),a(),_(4,"div",56),C(5,"safeHtml"),a()),n&2){let e=d(2).$implicit,i=d(2);o(2),S("",(i.fieldsInfo.htmlBody==null?null:i.fieldsInfo.htmlBody.fieldTitle)||h(3,2,"TICKETING.TASK_MESSAGE"),":"),o(2),g("innerHTML",h(5,4,e.htmlBody),Xe)}}function Ym(n,s){if(n&1){let e=I();r(0,"div",47)(1,"div",45)(2,"span",54),T("click",function(t){return m(e),d(3).onActionCopied(),p(t.stopPropagation())}),_(3,"i",55),a(),c(4),a(),v(5,zm,4,2,"div",45),v(6,Jm,6,6,"div",45),a()}if(n&2){let e=d().$implicit;o(2),g("cdkCopyToClipboard",(e.id==null?null:e.id.toString())||""),o(2),S(" ID: ",e.id," "),o(),w(e.title?5:-1),o(),w(e.htmlBody?6:-1)}}function Xm(n,s){if(n&1){let e=I();r(0,"div",40),T("click",function(t){let l=m(e).$implicit,f=d(2);return p(f.onActionTableRowSelect(l,t))})("dblclick",function(t){let l=m(e).$implicit,f=d(2);return p(f.onActionTaskRowClick(l,t))})("rtclick",function(t){let l=m(e).$implicit,f=d(2);return p(f.onActionTableRowSelect(l,t))})("mouseenter",function(){let t=m(e).$implicit,l=d(2);return p(l.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=m(e).$implicit,l=d(2);return p(l.onActionTableRowMouseLeave(t))}),r(1,"div",41),_(2,"i",42),C(3,"statusIconClass"),a(),r(4,"div",43)(5,"div",44),c(6),a(),v(7,qm,3,2,"div",45),v(8,Wm,5,6,"div",45),v(9,jm,4,8,"div",46),v(10,Um,4,4,"div",45),v(11,Qm,4,4,"div",45),v(12,Km,4,4,"div",45),v(13,Ym,7,4,"div",47),a()()}if(n&2){let e=s.$implicit,i=d(2);G("selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)),Ve("aria-label",e.title||e.id),o(2),g("ngClass",h(3,12,e.recordStatus)),o(4),S(" ",e.title||"ID: "+e.id," "),o(),w(e.linkMemberId?7:-1),o(),w(e.linkSiteId?8:-1),o(),w(e.ticketStatus!==void 0?9:-1),o(),w(e.createdDate?10:-1),o(),w(e.updatedDate?11:-1),o(),w(e.expireDate?12:-1),o(),w(i.getRowExpanded(e)?13:-1)}}function Zm(n,s){if(n&1&&(r(0,"div",23),Oe(1,Xm,14,14,"div",39,Vm),a()),n&2){let e=d();o(),Ge(e.dataModelResult.listItems)}}function $m(n,s){n&1&&(r(0,"div",24),c(1),C(2,"translate"),a()),n&2&&(o(),S(" ",h(2,1,"MESSAGE.NoRecord")," "))}var Li=class Li extends di{constructor(){super(...arguments);this.actionMenuOpen=null}toggleActionMenu(e){let i=String(e);this.actionMenuOpen===i?this.actionMenuOpen=null:this.actionMenuOpen=i}closeActionMenu(){this.actionMenuOpen=null}toString(e){return String(e)}onDocumentClick(e){let i=e.target;!i.closest(".cms-m-action-menu")&&!i.closest(".cms-m-action-menu-dropdown")&&this.closeActionMenu()}};Li.\u0275fac=(()=>{let e;return function(t){return(e||(e=At(Li)))(t||Li)}})(),Li.\u0275cmp=V({type:Li,selectors:[["app-ticketing-task-list-mobile"]],hostBindings:function(i,t){i&1&&T("click",function(f){return t.onDocumentClick(f)},Jt)},standalone:!1,features:[P],decls:41,vars:34,consts:[["paginator",""],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionOnScrollNearBottom","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplay","optionActionRowDisplayMenu","optionActionRowDisplayMenuAct","optionSelectRowItemTitle"],["cms-tree",""],[3,"optionChange"],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-maximize","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-minimize","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],[1,"cms-m-list"],[1,"cms-m-empty"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-phone-arrow-right","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],["role","button","tabindex","0",1,"cms-m-list-item",3,"selected"],["role","button","tabindex","0",1,"cms-m-list-item",3,"click","dblclick","rtclick","mouseenter","mouseleave"],[1,"cms-m-list-item-image-placeholder"],["aria-hidden","true",3,"ngClass"],[1,"cms-m-list-item-content"],[1,"cms-m-list-item-title"],[1,"cms-m-list-item-subtitle"],[1,"cms-m-list-item-subtitle",3,"ngStyle"],[1,"cms-m-list-item-expanded"],["aria-hidden","true",1,"fa-solid","fa-user"],["aria-hidden","true",1,"fa-solid","fa-globe"],["aria-hidden","true",1,"fa-solid","fa-info-circle"],["aria-hidden","true",1,"fa-solid","fa-calendar-plus"],["aria-hidden","true",1,"fa-solid","fa-calendar-check"],["aria-hidden","true",1,"fa-solid","fa-calendar-xmark"],[1,"navi-icon","pointer",3,"click","cdkCopyToClipboard"],[1,"flaticon2-copy"],[1,"ntk-html-content","cms-m-list-item-answer",3,"innerHTML"]],template:function(i,t){if(i&1){let l=I();r(0,"app-cms-html-list-mobile",1),A("optionActionGuideNoticeDisplayChange",function(u){return m(l),y(t.viewGuideNotice,u)||(t.viewGuideNotice=u),p(u)}),T("optionOnActionButtonMemoRow",function(){return m(l),p(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return m(l),p(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return m(l),p(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return m(l),p(t.onActionButtonPrintRow())})("optionOnScrollNearBottom",function(){return m(l),p(t.onActionLoadNextPage())}),k(1,2),r(2,"app-ticketing-departemen-tree",3),T("optionChange",function(u){return m(l),p(t.onActionSelectorSelect(u))}),a(),M(),ie(3,4)(4,5),k(5,6),v(6,Bm,2,0,"a",7),r(7,"a",8),T("click",function(){return m(l),p(t.viewGuideNotice=!t.viewGuideNotice)}),_(8,"i",9),a(),r(9,"a",8),T("click",function(){return m(l),p(t.onActionButtonReload())}),_(10,"i",10),a(),r(11,"a",11),T("click",function(){return m(l),p(t.onActionGridExpandRows(!0))}),_(12,"i",12),a(),r(13,"a",11),T("click",function(){return m(l),p(t.onActionGridExpandRows(!1))}),_(14,"i",13),a(),M(),k(15,14),r(16,"a",15),T("click",function(){return m(l),p(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),_(17,"mat-slide-toggle",16),c(18),C(19,"translate"),a(),r(20,"a",15),T("click",function(){return m(l),p(t.onActionButtonStatist())}),_(21,"mat-slide-toggle",16),c(22),C(23,"translate"),a(),M(),k(24,17),v(25,Nm,7,3,"div",18),v(26,Fm,7,3,"div",18),M(),k(27,19),v(28,Om,7,3,"div",18),v(29,Gm,7,3,"div",18),v(30,Pm,7,3,"div",18),v(31,Hm,7,3,"div",18),M(),k(32,20),r(33,"app-cms-search-list",21),A("optionsChange",function(u){return m(l),y(t.optionsSearch,u)||(t.optionsSearch=u),p(u)}),a(),r(34,"app-cms-statist-list",21),A("optionsChange",function(u){return m(l),y(t.optionsStatist,u)||(t.optionsStatist=u),p(u)}),a(),M(),k(35,22),v(36,Zm,3,0,"div",23)(37,$m,3,3,"div",24),M(),k(38,25),r(39,"mat-paginator",26,0),T("page",function(u){return m(l),p(t.onTablePageingData(u))}),a(),M(),a()}i&2&&(g("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey","ticketing.task.list"),E("optionActionGuideNoticeDisplay",t.viewGuideNotice),g("optionTreeDisplay",t.requestDepartemenId===0)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplay",(t.tableRowSelected==null?null:t.tableRowSelected.id)>0)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionActionRowDisplayMenuAct",t.tableRowSelectActionMenuClick)("optionSelectRowItemTitle",(t.tableRowSelected==null||t.tableRowSelected.title==null?null:t.tableRowSelected.title.length)>0?t.tableRowSelected==null?null:t.tableRowSelected.title:t.tableRowSelected==null?null:t.tableRowSelected.id),o(6),w(t.requestDepartemenId>0?6:-1),o(4),G("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(7),g("checked",t.optionsSearch.data.show),o(),S("",h(19,29,"ACTION.SEARCH")," "),o(3),g("checked",t.optionsStatist.data.show),o(),S("",h(23,31,"ACTION.STATIST")," "),o(3),w(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessAddRow?25:-1),o(),w(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessWatchRow&&(t.tableRowSelected==null?null:t.tableRowSelected.id)>0?26:-1),o(2),w(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow&&(t.tableRowSelected==null?null:t.tableRowSelected.id)>0?28:-1),o(),w(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow&&(t.tableRowSelected==null?null:t.tableRowSelected.id)>0?29:-1),o(),w(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessWatchRow&&(t.tableRowSelected==null?null:t.tableRowSelected.id)>0?30:-1),o(),w(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessWatchRow&&(t.tableRowSelected==null?null:t.tableRowSelected.id)>0?31:-1),o(2),E("options",t.optionsSearch),o(),E("options",t.optionsStatist),o(2),w(!(t.dataModelResult==null||t.dataModelResult.listItems==null)&&t.dataModelResult.listItems.length?36:37),o(3),g("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",ne(33,xm)))},dependencies:[ke,Pe,pe,ue,qe,Se,Ce,Nt,he,ot,He,B,Lt,oi,wt,Ue,Le],encapsulation:2});var Vi=Li;var ep=["vform"];function tp(n,s){if(n&1){let e=I();r(0,"app-cms-enum-record-status-selector",13),A("modelChange",function(t){m(e);let l=d();return y(l.dataModel.recordStatus,t)||(l.dataModel.recordStatus=t),p(t)}),a()}if(n&2){let e=d();E("model",e.dataModel.recordStatus),g("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function ip(n,s){n&1&&_(0,"i",16)}function np(n,s){n&1&&_(0,"i",17)}function op(n,s){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),C(4,"translate"),a()()),n&2){let e=d(2);o(),S(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," is "),o(2),R(h(4,2,"MESSAGE.required"))}}function ap(n,s){if(n&1){let e=I();r(0,"div",11)(1,"label",14),c(2),a(),r(3,"input",15,1),A("ngModelChange",function(t){m(e);let l=d();return y(l.dataModel.title,t)||(l.dataModel.title=t),p(t)}),a(),v(5,ip,1,0,"i",16),v(6,np,1,0,"i",17),r(7,"em"),c(8),a(),v(9,op,5,4,"mat-error"),a()}if(n&2){let e=D(4),i=d();o(2),R(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(),g("placeholder",L(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle)),E("ngModel",i.dataModel.title),o(2),w(e.value?-1:5),o(),w(e.value?6:-1),o(2),S("",e.value.length," / 100"),o(),w(e.errors!=null&&e.errors.required?9:-1)}}function rp(n,s){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),C(4,"translate"),a()()),n&2){let e=d(2);o(),S(" ",e.fieldsInfo.htmlBody==null?null:e.fieldsInfo.htmlBody.fieldTitle," "),o(2),R(h(4,2,"MESSAGE.required"))}}function lp(n,s){if(n&1){let e=I();r(0,"div",11)(1,"label",18),c(2),C(3,"translate"),a(),r(4,"textarea",19,2),C(6,"translate"),A("ngModelChange",function(t){m(e);let l=d();return y(l.dataModel.htmlBody,t)||(l.dataModel.htmlBody=t),p(t)}),c(7,"            "),a(),r(8,"em"),c(9),a(),v(10,rp,5,4,"mat-error"),a()}if(n&2){let e=D(5),i=d();o(2),R(h(3,8,"TITLE.Description")),o(2),g("disabled",L(!(i.fieldsInfo.htmlBody!=null&&i.fieldsInfo.htmlBody.accessAddField)))("placeholder",L(h(6,10,"TITLE.Answer_Text"))),E("ngModel",i.dataModel.htmlBody),o(5),S("",e.value.length," / 2000"),o(),w(e.errors!=null&&e.errors.required?10:-1)}}function sp(n,s){if(n&1){let e=I();r(0,"div",12)(1,"button",20),T("click",function(){m(e);let t=d();return p(t.onFormCancel())}),_(2,"i",21),c(3),C(4,"translate"),a(),r(5,"button",22),_(6,"i",23),c(7),C(8,"translate"),a()()}if(n&2){d();let e=D(10);o(3),S(" ",h(4,3,"ACTION.CANCEL")," "),o(2),g("disabled",!e.form.valid),o(2),S(" ",h(8,5,"ACTION.SAVE")," ")}}var kn=class kn extends Vt{constructor(e,i,t,l,f,u,J,ee){super(l,new Mt,u,ee);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.ticketingTemplateService=l;this.cmsToastrService=f;this.publicHelper=u;this.cdr=J;this.translate=ee;this.requestParentId=0;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.formMatcher=new fi;this.dataModelResult=new Q;this.dataModel=new Mt;this.publicHelper.processService.cdr=this.cdr,e&&(this.requestParentId=+e.parentId||0),this.requestParentId>0&&(this.dataModel.linkTicketingDepartemenId=this.requestParentId)}ngOnInit(){this.translate.get("TITLE.Submit_New_Content").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess()}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.ticketingTemplateService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e)}})}onActionSelectorSelect(e){if(!e||e.id<=0){this.translate.get("MESSAGE.Information_department_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkTicketingDepartemenId=e.id}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};kn.\u0275fac=function(i){return new(i||kn)(b(we),b(me),b(K),b($t),b(H),b(O),b(N),b(F))},kn.\u0275cmp=V({type:kn,selectors:[["app-ticketing-template-add"]],viewQuery:function(i,t){if(i&1&&oe(ep,5),i&2){let l;ae(l=re())&&(t.formGroup=l.first)}},standalone:!1,features:[P],decls:17,vars:14,consts:[["vform","ngForm"],["Title",""],["HtmlBody",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"optionChange","optionSelectForce","optionPlaceholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],[1,"form-actions"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.htmlBody",1,"color-highlight"],["matInput","","name","dataModel.htmlBody","type","text","minlength","1","maxlength","2000","rows","7","id","dataModel.htmlBody",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled","placeholder"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let l=I();r(0,"div",3),_(1,"app-progress-spinner",4),r(2,"div",5)(3,"p",6),c(4),a(),r(5,"p"),c(6),C(7,"translate"),a(),_(8,"app-cms-form-result-message",7),r(9,"form",8,0),T("ngSubmit",function(){return m(l),p(t.onFormSubmit())}),v(11,tp,1,5,"app-cms-enum-record-status-selector",9),r(12,"app-ticketing-departemen-selector",10),C(13,"translate"),T("optionChange",function(u){return m(l),p(t.onActionSelectorSelect(u))}),a(),v(14,ap,10,8,"div",11),v(15,lp,11,12,"div",11),v(16,sp,9,7,"div",12),a()()()}i&2&&(o(),g("optionsInfoAreaId",t.constructorInfoAreaId),o(3),S(" ",t.formInfo.formTitle," "),o(2),S(" ",h(7,10,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),g("formInfo",t.formInfo),o(3),w(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?11:-1),o(),g("optionSelectForce",t.dataModel.linkTicketingDepartemenId)("optionPlaceholder",h(13,12,"TITLE.Department")),o(2),w(t.fieldsInfo.title!=null&&t.fieldsInfo.title.accessWatchField?14:-1),o(),w(t.fieldsInfo.htmlBody!=null&&t.fieldsInfo.htmlBody.accessWatchField?15:-1),o(),w(t.formInfo.submitButtonEnabled?16:-1))},dependencies:[Ae,se,ce,Ee,Re,De,xe,ve,ye,We,j,Fe,U,ge,Qe,B],encapsulation:2});var wo=kn;var cp=["vform"];function dp(n,s){if(n&1){let e=I();r(0,"app-cms-enum-record-status-selector",13),A("modelChange",function(t){m(e);let l=d();return y(l.dataModel.recordStatus,t)||(l.dataModel.recordStatus=t),p(t)}),a()}if(n&2){let e=d();E("model",e.dataModel.recordStatus),g("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function mp(n,s){n&1&&_(0,"i",16)}function pp(n,s){n&1&&_(0,"i",17)}function up(n,s){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),C(4,"translate"),a()()),n&2){let e=d(2);o(),S(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," is "),o(2),R(h(4,2,"MESSAGE.required"))}}function fp(n,s){if(n&1){let e=I();r(0,"div",11)(1,"label",14),c(2),a(),r(3,"input",15,1),A("ngModelChange",function(t){m(e);let l=d();return y(l.dataModel.title,t)||(l.dataModel.title=t),p(t)}),a(),v(5,mp,1,0,"i",16),v(6,pp,1,0,"i",17),r(7,"em"),c(8),a(),v(9,up,5,4,"mat-error"),a()}if(n&2){let e=D(4),i=d();o(2),R(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(),g("placeholder",L(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle)),E("ngModel",i.dataModel.title),o(2),w(e.value?-1:5),o(),w(e.value?6:-1),o(2),S("",e.value.length," / 100"),o(),w(e.errors!=null&&e.errors.required?9:-1)}}function _p(n,s){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),C(4,"translate"),a()()),n&2){let e=d(2);o(),S(" ",e.fieldsInfo.htmlBody==null?null:e.fieldsInfo.htmlBody.fieldTitle," "),o(2),R(h(4,2,"MESSAGE.required"))}}function gp(n,s){if(n&1){let e=I();r(0,"div",11)(1,"label",18),c(2),C(3,"translate"),a(),r(4,"textarea",19,2),C(6,"translate"),A("ngModelChange",function(t){m(e);let l=d();return y(l.dataModel.htmlBody,t)||(l.dataModel.htmlBody=t),p(t)}),c(7,"            "),a(),r(8,"em"),c(9),a(),v(10,_p,5,4,"mat-error"),a()}if(n&2){let e=D(5),i=d();o(2),R(h(3,8,"TITLE.Description")),o(2),g("disabled",L(!(i.fieldsInfo.htmlBody!=null&&i.fieldsInfo.htmlBody.accessAddField)))("placeholder",L(h(6,10,"TITLE.Answer_Text"))),E("ngModel",i.dataModel.htmlBody),o(5),S("",e.value.length," / 2000"),o(),w(e.errors!=null&&e.errors.required?10:-1)}}function Sp(n,s){if(n&1){let e=I();r(0,"div",12)(1,"button",20),T("click",function(){m(e);let t=d();return p(t.onFormCancel())}),_(2,"i",21),c(3),C(4,"translate"),a(),r(5,"button",22),_(6,"i",23),c(7),C(8,"translate"),a()()}if(n&2){d();let e=D(10);o(3),S(" ",h(4,3,"ACTION.CANCEL")," "),o(2),g("disabled",!e.form.valid),o(2),S(" ",h(8,5,"ACTION.SAVE")," ")}}var Mn=class Mn extends ii{constructor(e,i,t,l,f,u,J,ee){super(l,new Mt,u,ee);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.ticketingTemplateService=l;this.cmsToastrService=f;this.publicHelper=u;this.cdr=J;this.translate=ee;this.requestId=0;this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.formMatcher=new fi;this.dataModelResult=new Rt;this.dataModel=new Mt;this.dataFileModel=new Map;this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=+e.id||0),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.requestId>0)this.translate.get("TITLE.Edit_Categories").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}}DataGetOneContent(){if(this.requestId<=0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.ticketingTemplateService.setAccessLoad(),this.ticketingTemplateService.setAccessDataType(Dt.Editor),this.ticketingTemplateService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.ticketingTemplateService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e)}})}onActionSelectorSelect(e){if(!e||e.id<=0){this.translate.get("MESSAGE.Information_department_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkTicketingDepartemenId=e.id}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Mn.\u0275fac=function(i){return new(i||Mn)(b(we),b(me),b(K),b($t),b(H),b(O),b(N),b(F))},Mn.\u0275cmp=V({type:Mn,selectors:[["app-ticketing-template-add"]],viewQuery:function(i,t){if(i&1&&oe(cp,5),i&2){let l;ae(l=re())&&(t.formGroup=l.first)}},standalone:!1,features:[P],decls:17,vars:14,consts:[["vform","ngForm"],["Title",""],["HtmlBody",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"optionChange","optionSelectForce","optionPlaceholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],[1,"form-actions"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.htmlBody",1,"color-highlight"],["matInput","","name","dataModel.htmlBody","type","text","minlength","1","maxlength","2000","rows","7","id","dataModel.htmlBody",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled","placeholder"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let l=I();r(0,"div",3),_(1,"app-progress-spinner",4),r(2,"div",5)(3,"p",6),c(4),a(),r(5,"p"),c(6),C(7,"translate"),a(),_(8,"app-cms-form-result-message",7),r(9,"form",8,0),T("ngSubmit",function(){return m(l),p(t.onFormSubmit())}),v(11,dp,1,5,"app-cms-enum-record-status-selector",9),r(12,"app-ticketing-departemen-selector",10),C(13,"translate"),T("optionChange",function(u){return m(l),p(t.onActionSelectorSelect(u))}),a(),v(14,fp,10,8,"div",11),v(15,gp,11,12,"div",11),v(16,Sp,9,7,"div",12),a()()()}i&2&&(o(),g("optionsInfoAreaId",t.constructorInfoAreaId),o(3),S(" ",t.formInfo.formTitle," "),o(2),S(" ",h(7,10,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),g("formInfo",t.formInfo),o(3),w(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?11:-1),o(),g("optionSelectForce",t.dataModel.linkTicketingDepartemenId)("optionPlaceholder",h(13,12,"TITLE.Department")),o(2),w(t.fieldsInfo.title!=null&&t.fieldsInfo.title.accessWatchField?14:-1),o(),w(t.fieldsInfo.htmlBody!=null&&t.fieldsInfo.htmlBody.accessWatchField?15:-1),o(),w(t.formInfo.submitButtonEnabled?16:-1))},dependencies:[Ae,se,ce,Ee,Re,De,xe,ve,ye,We,j,Fe,U,ge,Qe,B],encapsulation:2});var Io=Mn;var Cp=()=>[5,10,20,100],hp=n=>({display:n});function Tp(n,s){if(n&1){let e=I();r(0,"a",37),T("click",function(){m(e);let t=d();return p(t.onActionBackToParent())}),_(1,"i",38),a()}}function bp(n,s){if(n&1){let e=I();r(0,"div",17)(1,"a",39),T("click",function(){m(e);let t=d();return p(t.onActionButtonNewRow())}),_(2,"i",40)(3,"br"),a(),r(4,"p",41),c(5),C(6,"translate"),a()()}n&2&&(o(5),S(" ",h(6,1,"ACTION.ADD")," "))}function vp(n,s){if(n&1){let e=I();r(0,"div",17)(1,"a",42),T("click",function(){m(e);let t=d();return p(t.onActionButtonEditRow(t.tableRowSelected))}),_(2,"i",43)(3,"br"),a(),r(4,"p",41),c(5),C(6,"translate"),a()()}n&2&&(o(5),S(" ",h(6,1,"ACTION.EDIT")," "))}function wp(n,s){if(n&1){let e=I();r(0,"div",17)(1,"a",44),T("click",function(){m(e);let t=d();return p(t.onActionButtonDeleteRow(t.tableRowSelected))}),_(2,"i",45)(3,"br"),a(),r(4,"p",41),c(5),C(6,"translate"),a()()}n&2&&(o(5),S(" ",h(6,1,"ACTION.DELETE")," "))}function Ip(n,s){if(n&1&&(r(0,"mat-header-cell",46),c(1),a()),n&2){let e=d();o(),S(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function kp(n,s){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=s.$implicit;o(),S(" ",e.id," ")}}function Mp(n,s){if(n&1&&(r(0,"mat-header-cell",46),c(1),a()),n&2){let e=d();o(),S(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function Ep(n,s){if(n&1&&(r(0,"mat-cell"),c(1),C(2,"cmssiteinfo"),C(3,"async"),a()),n&2){let e=s.$implicit;o(),S(" ",h(3,3,h(2,1,e.linkSiteId))," ")}}function yp(n,s){if(n&1&&(r(0,"mat-header-cell",46),c(1),a()),n&2){let e=d();o(),S(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function Ap(n,s){if(n&1&&_(0,"select",48),n&2){let e=d().$implicit,i=d();g("contentService",i.contentService)("row",e)("ngStyle",Ne(3,hp,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function Rp(n,s){if(n&1&&(r(0,"mat-cell",47),C(1,"statusCellClass"),_(2,"i",47),C(3,"statusIconClass"),v(4,Ap,1,5,"select",48),a()),n&2){let e=s.$implicit,i=d();g("ngClass",h(1,3,e.recordStatus)),o(2),g("ngClass",h(3,5,e.recordStatus)),o(2),w(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessEditRow?4:-1)}}function Dp(n,s){if(n&1&&(r(0,"mat-header-cell",46),c(1),a()),n&2){let e=d();o(),S(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," ")}}function xp(n,s){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=s.$implicit;o(),S(" ",e.title," ")}}function Lp(n,s){n&1&&(r(0,"mat-header-cell"),c(1),C(2,"translate"),a()),n&2&&(o(),S(" ",h(2,1,"TITLE.OPTION")," "))}function Vp(n,s){if(n&1&&(r(0,"mat-cell",49)(1,"button",50)(2,"mat-icon"),c(3,"more_vert"),a()(),_(4,"mat-menu",null,2),a()),n&2){let e=D(5);o(),g("matMenuTriggerFor",e)}}function Bp(n,s){n&1&&_(0,"mat-header-row")}function Np(n,s){if(n&1){let e=I();r(0,"mat-row",51),T("click",function(t){let l=m(e).$implicit,f=d();return p(f.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=m(e).$implicit,f=d();return p(f.onActionTableRowSelect(l,t))}),a()}if(n&2){let e=s.$implicit,i=d();G("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var En=class En extends bt{constructor(e,i,t,l,f,u,J,ee,Je,Ye,zt,kt){super(e,new Mt,zt,u,ee);this.contentService=e;this.activatedRoute=i;this.cmsToastrService=t;this.cmsConfirmationDialogService=l;this.router=f;this.tokenHelper=u;this.cdr=J;this.translate=ee;this.cmsStoreService=Je;this.pageInfo=Ye;this.publicHelper=zt;this.dialog=kt;this.requestDepartemenId=0;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new Z;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["id","recordStatus"];this.tabledisplayedColumnsMobileSource=["id","recordStatus"];this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:yn=>this.onSubmitOptionsSearch(yn)},this.filteModelContent.sortColumn="id",this.filteModelContent.sortType=W.Descending}ngOnInit(){this.requestDepartemenId=+Number(this.activatedRoute.snapshot.paramMap.get("DepartemenId")),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>te(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Mt);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(l=>{this.publicHelper.processService.processStart(e,l,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]);let t=new Y;this.requestDepartemenId>0&&(t.propertyName="LinkTicketingDepartemenId",t.value=this.requestDepartemenId,i.filters.push(t)),this.categoryModelSelected&&this.categoryModelSelected.id>0&&(t.propertyName="LinkTicketingDepartemenId",t.value=this.categoryModelSelected.id,i.filters.push(t)),this.contentService.ServiceGetAllEditor(i).subscribe({next:l=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(l.access),l.isSuccess?(this.applyDataGetAllResult(l),this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(l.access)},1e3)):this.cmsToastrService.typeErrorGetAll(l.errorMessage),this.publicHelper.processService.processStop(e)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(e)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=W.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=W.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=W.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.categoryModelSelected==null&&this.categoryModelSelected&&this.categoryModelSelected.id===0&&(this.requestDepartemenId==null||this.requestDepartemenId===0)){this.translate.get("MESSAGE.Content_not_selected").subscribe(l=>{this.cmsToastrService.typeErrorSelected(l)});return}if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}let e=this.requestDepartemenId;this.categoryModelSelected&&this.categoryModelSelected.id>0&&(e=this.categoryModelSelected.id);var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(wo,{height:"90%",panelClass:i,enterAnimationDuration:q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:q.cmsViewConfig.exitAnimationDuration,data:{parentId:e}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()})}onActionSelectorSelect(e){var i=this.filteModelContent.sortColumn,t=this.filteModelContent.sortType;this.filteModelContent=new Z,this.filteModelContent.sortColumn=i,this.filteModelContent.sortType=t,this.categoryModelSelected=e,this.DataGetAll()}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.tableRowSelected=e,this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Io,{height:"90%",panelClass:i,enterAnimationDuration:q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(e==null||!e.id||e.id===0){this.translate.get("MESSAGE.No_row_selected_for_editing").subscribe(l=>{this.cmsToastrService.typeErrorSelected(l)});return}if(this.tableRowSelected=e,this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(l=>{i=l["MESSAGE.Please_Confirm"],t=l["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(l=>{if(l){let f=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(u=>{this.publicHelper.processService.processStart(f,u,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:u=>{u.isSuccess?this.cmsToastrService.typeSuccessRemove():this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(f)},error:u=>{this.cmsToastrService.typeError(u),this.publicHelper.processService.processStop(f)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(u=>{i.set(u,0)}),this.translate.get("MESSAGE.All").subscribe(u=>{i.set(u,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(u=>{this.publicHelper.processService.processStart(t,u,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:u=>{u.isSuccess&&(i.set("All",u.totalRowCount),this.optionsStatist.childMethods.setStatistValue(i)),this.publicHelper.processService.processStop(t)},error:u=>{this.cmsToastrService.typeError(u),this.publicHelper.processService.processStop(t)}});let l=JSON.parse(JSON.stringify(this.filteModelContent)),f=new Y;f.propertyName="recordStatus",f.value=at.Available,l.filters.push(f),this.contentService.ServiceGetCount(l).subscribe({next:u=>{u.isSuccess&&(i.set("Active",u.totalRowCount),this.optionsStatist.childMethods.setStatistValue(i)),this.publicHelper.processService.processStop(t)},error:u=>{this.cmsToastrService.typeError(u),this.publicHelper.processService.processStop(t)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/ticketing/departemen/"])}};En.\u0275fac=function(i){return new(i||En)(b($t),b(Me),b(H),b(ti),b(de),b(_e),b(N),b(F),b(fe),b(Tt),b(O),b(je))},En.\u0275cmp=V({type:En,selectors:[["app-application-app-list"]],standalone:!1,features:[P],decls:51,vars:31,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],[3,"optionChange"],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","linkSiteId"],["matColumnDef","recordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","title"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(i,t){if(i&1){let l=I();r(0,"app-cms-html-list",3),A("optionActionGuideNoticeDisplayChange",function(u){return m(l),y(t.viewGuideNotice,u)||(t.viewGuideNotice=u),p(u)}),T("optionOnActionButtonMemoRow",function(){return m(l),p(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return m(l),p(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return m(l),p(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return m(l),p(t.onActionButtonPrintRow())}),k(1,4),r(2,"app-ticketing-departemen-tree",5),T("optionChange",function(u){return m(l),p(t.onActionSelectorSelect(u))}),a(),M(),ie(3,6)(4,7),k(5,8),v(6,Tp,2,0,"a",9),r(7,"a",10),T("click",function(){return m(l),p(t.viewGuideNotice=!t.viewGuideNotice)}),_(8,"i",11),a(),r(9,"a",10),T("click",function(){return m(l),p(t.onActionButtonReload())}),_(10,"i",12),a(),M(),k(11,13),r(12,"a",14),T("click",function(){return m(l),p(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),_(13,"mat-slide-toggle",15),c(14),C(15,"translate"),a(),r(16,"a",14),T("click",function(){return m(l),p(t.onActionButtonStatist())}),_(17,"mat-slide-toggle",15),c(18),C(19,"translate"),a(),M(),k(20,16),v(21,bp,7,3,"div",17),M(),k(22,18),v(23,vp,7,3,"div",17),v(24,wp,7,3,"div",17),M(),k(25,19),r(26,"app-cms-search-list",20),A("optionsChange",function(u){return m(l),y(t.optionsSearch,u)||(t.optionsSearch=u),p(u)}),a(),r(27,"app-cms-statist-list",20),A("optionsChange",function(u){return m(l),y(t.optionsStatist,u)||(t.optionsStatist=u),p(u)}),a(),M(),k(28,21),r(29,"mat-table",22,0),T("matSortChange",function(){m(l);let u=D(30);return p(t.onTableSortData(u))}),k(31,23),x(32,Ip,2,1,"mat-header-cell",24)(33,kp,2,1,"mat-cell",25),M(),k(34,26),x(35,Mp,2,1,"mat-header-cell",24)(36,Ep,4,5,"mat-cell",25),M(),k(37,27),x(38,yp,2,1,"mat-header-cell",24)(39,Rp,5,7,"mat-cell",28),M(),k(40,29),x(41,Dp,2,1,"mat-header-cell",24)(42,xp,2,1,"mat-cell",25),M(),k(43,30),x(44,Lp,3,3,"mat-header-cell",31)(45,Vp,6,1,"mat-cell",32),M(),x(46,Bp,1,0,"mat-header-row",33)(47,Np,1,2,"mat-row",34),a(),M(),k(48,35),r(49,"mat-paginator",36,1),T("page",function(u){return m(l),p(t.onTablePageingData(u))}),a(),M(),a()}i&2&&(g("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),E("optionActionGuideNoticeDisplay",t.viewGuideNotice),g("optionTreeDisplay",t.requestDepartemenId===0)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",(t.tableRowSelected==null||t.tableRowSelected.title==null?null:t.tableRowSelected.title.length)>0?t.tableRowSelected==null?null:t.tableRowSelected.title:t.tableRowSelected==null?null:t.tableRowSelected.id),o(6),w(t.requestDepartemenId>0?6:-1),o(4),G("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(3),g("checked",t.optionsSearch.data.show),o(),S("",h(15,26,"ACTION.SEARCH")," "),o(3),g("checked",t.optionsStatist.data.show),o(),S("",h(19,28,"ACTION.STATIST")," "),o(3),w(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessAddRow?21:-1),o(2),w(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?23:-1),o(),w(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?24:-1),o(2),E("options",t.optionsSearch),o(),E("options",t.optionsStatist),o(2),g("dataSource",t.tableSource),o(17),g("matHeaderRowDef",t.tabledisplayedColumns),o(),g("matRowDefColumns",t.tabledisplayedColumns),o(2),g("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",ne(30,Cp)))},dependencies:[ke,Pe,it,nt,j,rt,lt,pe,ue,st,ct,dt,pt,gt,ut,mt,St,ft,_t,Ct,ht,Se,Ce,vt,he,Bt,ot,He,B,wt,Le,ni],encapsulation:2});var Bi=En;var Fp=()=>[5,10,20,100],Op=(n,s)=>s.id;function Gp(n,s){if(n&1){let e=I();r(0,"a",27),T("click",function(){m(e);let t=d();return p(t.onActionBackToParent())}),_(1,"i",28),a()}}function Pp(n,s){if(n&1){let e=I();r(0,"div",18)(1,"a",29),T("click",function(){m(e);let t=d();return p(t.onActionButtonNewRow())}),_(2,"i",30)(3,"br"),a(),r(4,"p",31),c(5),C(6,"translate"),a()()}n&2&&(o(5),S(" ",h(6,1,"ACTION.ADD")," "))}function Hp(n,s){if(n&1){let e=I();r(0,"div",18)(1,"a",32),T("click",function(){m(e);let t=d();return p(t.onActionButtonEditRow(t.tableRowSelected))}),_(2,"i",33)(3,"br"),a(),r(4,"p",31),c(5),C(6,"translate"),a()()}n&2&&(o(5),S(" ",h(6,1,"ACTION.EDIT")," "))}function qp(n,s){if(n&1){let e=I();r(0,"div",18)(1,"a",34),T("click",function(){m(e);let t=d();return p(t.onActionButtonDeleteRow(t.tableRowSelected))}),_(2,"i",35)(3,"br"),a(),r(4,"p",31),c(5),C(6,"translate"),a()()}n&2&&(o(5),S(" ",h(6,1,"ACTION.DELETE")," "))}function Wp(n,s){if(n&1&&(r(0,"div",42),_(1,"i",44),c(2),a()),n&2){let e=d().$implicit,i=d(2);o(2),le(" ",i.fieldsInfo.linkSiteId==null?null:i.fieldsInfo.linkSiteId.fieldTitle,": ",e.linkSiteId," ")}}function jp(n,s){if(n&1&&_(0,"select",46),n&2){let e=d(2).$implicit,i=d(2);g("contentService",i.contentService)("row",e)}}function Up(n,s){if(n&1&&(r(0,"div",42),_(1,"i",45),C(2,"statusIconClass"),v(3,jp,1,2,"select",46),a()),n&2){let e=d().$implicit,i=d(2);o(),g("ngClass",h(2,2,e.recordStatus)),o(2),w(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessEditRow&&e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?3:-1)}}function Qp(n,s){if(n&1){let e=I();r(0,"div",43)(1,"div",42)(2,"span",47),T("click",function(t){return m(e),d(3).onActionCopied(),p(t.stopPropagation())}),_(3,"i",48),a(),c(4),a()()}if(n&2){let e=d().$implicit;o(2),g("cdkCopyToClipboard",(e.id==null?null:e.id.toString())||""),o(2),S(" ID: ",e.id," ")}}function Kp(n,s){if(n&1){let e=I();r(0,"div",37),T("click",function(t){let l=m(e).$implicit,f=d(2);return p(f.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=m(e).$implicit,f=d(2);return p(f.onActionTableRowSelect(l,t))})("mouseenter",function(){let t=m(e).$implicit,l=d(2);return p(l.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=m(e).$implicit,l=d(2);return p(l.onActionTableRowMouseLeave(t))}),r(1,"div",38),_(2,"i",39),C(3,"statusIconClass"),a(),r(4,"div",40)(5,"div",41),c(6),a(),v(7,Wp,3,2,"div",42),v(8,Up,4,4,"div",42),v(9,Qp,5,2,"div",43),a()()}if(n&2){let e=s.$implicit,i=d(2);G("selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)),Ve("aria-label",e.title||e.id),o(2),g("ngClass",h(3,8,e.recordStatus)),o(4),S(" ",e.title||"ID: "+e.id," "),o(),w(e.linkSiteId?7:-1),o(),w(e.recordStatus!==void 0?8:-1),o(),w(i.getRowExpanded(e)?9:-1)}}function zp(n,s){if(n&1&&(r(0,"div",23),Oe(1,Kp,10,10,"div",36,Op),a()),n&2){let e=d();o(),Ge(e.dataModelResult.listItems)}}function Jp(n,s){n&1&&(r(0,"div",24),c(1),C(2,"translate"),a()),n&2&&(o(),S(" ",h(2,1,"MESSAGE.NoRecord")," "))}var Ni=class Ni extends Bi{constructor(){super(...arguments);this.actionMenuOpen=null}toggleActionMenu(e){let i=String(e);this.actionMenuOpen===i?this.actionMenuOpen=null:this.actionMenuOpen=i}closeActionMenu(){this.actionMenuOpen=null}toString(e){return String(e)}onDocumentClick(e){let i=e.target;!i.closest(".cms-m-action-menu")&&!i.closest(".cms-m-action-menu-dropdown")&&this.closeActionMenu()}};Ni.\u0275fac=(()=>{let e;return function(t){return(e||(e=At(Ni)))(t||Ni)}})(),Ni.\u0275cmp=V({type:Ni,selectors:[["app-application-app-list-mobile"]],hostBindings:function(i,t){i&1&&T("click",function(f){return t.onDocumentClick(f)},Jt)},standalone:!1,features:[P],decls:38,vars:31,consts:[["paginator",""],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionOnScrollNearBottom","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplay","optionActionRowDisplayMenu","optionActionRowDisplayMenuAct","optionSelectRowItemTitle"],["cms-tree",""],[3,"optionChange"],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-maximize","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-minimize","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],[1,"cms-m-list"],[1,"cms-m-empty"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["role","button","tabindex","0",1,"cms-m-list-item",3,"selected"],["role","button","tabindex","0",1,"cms-m-list-item",3,"click","rtclick","mouseenter","mouseleave"],[1,"cms-m-list-item-image-placeholder"],["aria-hidden","true",3,"ngClass"],[1,"cms-m-list-item-content"],[1,"cms-m-list-item-title"],[1,"cms-m-list-item-subtitle"],[1,"cms-m-list-item-expanded"],["aria-hidden","true",1,"fa-solid","fa-globe"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none","margin-left","8px",3,"contentService","row"],[1,"navi-icon","pointer",3,"click","cdkCopyToClipboard"],[1,"flaticon2-copy"]],template:function(i,t){if(i&1){let l=I();r(0,"app-cms-html-list-mobile",1),A("optionActionGuideNoticeDisplayChange",function(u){return m(l),y(t.viewGuideNotice,u)||(t.viewGuideNotice=u),p(u)}),T("optionOnActionButtonMemoRow",function(){return m(l),p(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return m(l),p(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return m(l),p(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return m(l),p(t.onActionButtonPrintRow())})("optionOnScrollNearBottom",function(){return m(l),p(t.onActionLoadNextPage())}),k(1,2),r(2,"app-ticketing-departemen-tree",3),T("optionChange",function(u){return m(l),p(t.onActionSelectorSelect(u))}),a(),M(),ie(3,4)(4,5),k(5,6),v(6,Gp,2,0,"a",7),r(7,"a",8),T("click",function(){return m(l),p(t.viewGuideNotice=!t.viewGuideNotice)}),_(8,"i",9),a(),r(9,"a",8),T("click",function(){return m(l),p(t.onActionButtonReload())}),_(10,"i",10),a(),r(11,"a",11),T("click",function(){return m(l),p(t.onActionGridExpandRows(!0))}),_(12,"i",12),a(),r(13,"a",11),T("click",function(){return m(l),p(t.onActionGridExpandRows(!1))}),_(14,"i",13),a(),M(),k(15,14),r(16,"a",15),T("click",function(){return m(l),p(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),_(17,"mat-slide-toggle",16),c(18),C(19,"translate"),a(),r(20,"a",15),T("click",function(){return m(l),p(t.onActionButtonStatist())}),_(21,"mat-slide-toggle",16),c(22),C(23,"translate"),a(),M(),k(24,17),v(25,Pp,7,3,"div",18),M(),k(26,19),v(27,Hp,7,3,"div",18),v(28,qp,7,3,"div",18),M(),k(29,20),r(30,"app-cms-search-list",21),A("optionsChange",function(u){return m(l),y(t.optionsSearch,u)||(t.optionsSearch=u),p(u)}),a(),r(31,"app-cms-statist-list",21),A("optionsChange",function(u){return m(l),y(t.optionsStatist,u)||(t.optionsStatist=u),p(u)}),a(),M(),k(32,22),v(33,zp,3,0,"div",23)(34,Jp,3,3,"div",24),M(),k(35,25),r(36,"mat-paginator",26,0),T("page",function(u){return m(l),p(t.onTablePageingData(u))}),a(),M(),a()}i&2&&(g("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),E("optionActionGuideNoticeDisplay",t.viewGuideNotice),g("optionTreeDisplay",t.requestDepartemenId===0)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplay",(t.tableRowSelected==null?null:t.tableRowSelected.id)>0)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionActionRowDisplayMenuAct",t.tableRowSelectActionMenuClick)("optionSelectRowItemTitle",(t.tableRowSelected==null||t.tableRowSelected.title==null?null:t.tableRowSelected.title.length)>0?t.tableRowSelected==null?null:t.tableRowSelected.title:t.tableRowSelected==null?null:t.tableRowSelected.id),o(6),w(t.requestDepartemenId>0?6:-1),o(4),G("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(7),g("checked",t.optionsSearch.data.show),o(),S("",h(19,26,"ACTION.SEARCH")," "),o(3),g("checked",t.optionsStatist.data.show),o(),S("",h(23,28,"ACTION.STATIST")," "),o(3),w(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessAddRow?25:-1),o(2),w(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow&&(t.tableRowSelected==null?null:t.tableRowSelected.id)>0?27:-1),o(),w(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow&&(t.tableRowSelected==null?null:t.tableRowSelected.id)>0?28:-1),o(2),E("options",t.optionsSearch),o(),E("options",t.optionsStatist),o(2),w(!(t.dataModelResult==null||t.dataModelResult.listItems==null)&&t.dataModelResult.listItems.length?33:34),o(3),g("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",ne(30,Fp)))},dependencies:[ke,j,pe,ue,qe,Se,Ce,Nt,he,Bt,ot,B,Le],encapsulation:2});var Bn=Ni;var ra=[{path:"",component:Wi,data:{title:"ROUTE.TICKETING"},children:[{path:"config",loadChildren:()=>import("./chunk-2C3RVFCJ.js").then(n=>n.TicketingConfigModule),data:{title:"ROUTE.TICKETING"}},{path:"departemen",component:So,data:{title:"ROUTE.TICKETING.DEPARTMENT"}},{path:"departemen/add/",component:Ut,data:{title:"ROUTE.TICKETING.DEPARTMENT"}},{path:"departemen/edit/:id",component:Ut,data:{title:"ROUTE.TICKETING.DEPARTMENT"}},{path:"departemenlog/DepartemenId/:DepartemenId",component:Ln,data:{title:"ROUTE.TICKETING.DEPARTMENTLOG"}},{path:"departemenlog/OperatorId/:OperatorId",component:Ln,data:{title:"ROUTE.TICKETING.DEPARTMENTLOG"}},{path:"faq",component:gn,data:{title:"ROUTE.TICKETING.FAQ"}},{path:"faq/:DepartemenId",component:Vn,data:{title:"ROUTE.TICKETING.FAQ"}},{path:"faq/list",component:Vn,data:{title:"ROUTE.TICKETING.LIST"}},{path:"template",component:Bn,data:{title:"ROUTE.TICKETING.TEMPLATE"}},{path:"template/:DepartemenId",component:Bn,data:{title:"ROUTE.TICKETING.TEMPLATE"}},{path:"contactus",component:Cn,data:{title:"ROUTE.TICKETING.CONTACTUS"}},{path:"task",component:Vi,data:{title:"ROUTE.TICKETING.TASK"}},{path:"task/listTicketStatus/:TicketStatus",component:Vi,data:{title:"ROUTE.TICKETING.TASK"}},{path:"task/contactus-list",component:Ti,data:{title:"ROUTE.TICKETING.TASK"}},{path:"task/contactus-list/LinkCmsUserId/:LinkCmsUserId",component:Ti,data:{title:"ROUTE.TICKETING.TASK"}},{path:"task/:DepartemenId",component:Vi,data:{title:"ROUTE.TICKETING.TASK"}},{path:"task/LinkCmsUserId/:LinkCmsUserId",component:Vi,data:{title:"ROUTE.TICKETING.TASK"}},{path:"answer",component:Rn,data:{title:"ROUTE.TICKETING.ANSWER"}},{path:"answer/LinkTaskId/:LinkTaskId",component:Rn,data:{title:"ROUTE.TICKETING.ANSWER"}}]}];var la=[{path:"",component:Wi,data:{title:"ROUTE.TICKETING"},children:[{path:"config",loadChildren:()=>import("./chunk-2C3RVFCJ.js").then(n=>n.TicketingConfigModule),data:{title:"ROUTE.TICKETING"}},{path:"departemen",component:sn,data:{title:"ROUTE.TICKETING.DEPARTMENT"}},{path:"departemen/add/",component:Ut,data:{title:"ROUTE.TICKETING.DEPARTMENT"}},{path:"departemen/edit/:id",component:Ut,data:{title:"ROUTE.TICKETING.DEPARTMENT"}},{path:"departemenlog/DepartemenId/:DepartemenId",component:Ai,data:{title:"ROUTE.TICKETING.DEPARTMENTLOG"}},{path:"departemenlog/OperatorId/:OperatorId",component:Ai,data:{title:"ROUTE.TICKETING.DEPARTMENTLOG"}},{path:"faq",component:gn,data:{title:"ROUTE.TICKETING.FAQ"}},{path:"faq/:DepartemenId",component:Di,data:{title:"ROUTE.TICKETING.FAQ"}},{path:"faq/list",component:Di,data:{title:"ROUTE.TICKETING.LIST"}},{path:"template",component:Bi,data:{title:"ROUTE.TICKETING.TEMPLATE"}},{path:"template/:DepartemenId",component:Bi,data:{title:"ROUTE.TICKETING.TEMPLATE"}},{path:"contactus",component:Cn,data:{title:"ROUTE.TICKETING.CONTACTUS"}},{path:"task",component:di,data:{title:"ROUTE.TICKETING.TASK"}},{path:"task/listTicketStatus/:TicketStatus",component:di,data:{title:"ROUTE.TICKETING.TASK"}},{path:"task/contactus-list",component:Ti,data:{title:"ROUTE.TICKETING.TASK"}},{path:"task/contactus-list/LinkCmsUserId/:LinkCmsUserId",component:Ti,data:{title:"ROUTE.TICKETING.TASK"}},{path:"task/:DepartemenId",component:di,data:{title:"ROUTE.TICKETING.TASK"}},{path:"task/LinkCmsUserId/:LinkCmsUserId",component:di,data:{title:"ROUTE.TICKETING.TASK"}},{path:"answer",component:wi,data:{title:"ROUTE.TICKETING.ANSWER"}},{path:"answer/LinkTaskId/:LinkTaskId",component:wi,data:{title:"ROUTE.TICKETING.ANSWER"}}]}];var Fi=class Fi{};Fi.\u0275fac=function(e){return new(e||Fi)},Fi.\u0275mod=Wn({type:Fi}),Fi.\u0275inj=qn({imports:[Eo.forChild(window.innerWidth<1e3?ra:la),Eo]});var ko=Fi;var Oi=class Oi{};Oi.\u0275fac=function(e){return new(e||Oi)},Oi.\u0275mod=Wn({type:Oi}),Oi.\u0275inj=qn({providers:[Vo,K,Oo,No,pi,et,Qn,Go,tt,Zt,Xt,$t,ti],imports:[Do,ko,Ho,qo.withConfig({warnOnNgModelWithFormControl:"never"}),$o,ta,Zo]});var sa=Oi;export{sa as TicketingModule};
