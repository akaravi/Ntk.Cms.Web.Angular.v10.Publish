import{a as lo,b as Ii,c as so}from"./chunk-ZVAFYFW6.js";import{a as ao}from"./chunk-EAPP5H3O.js";import{a as no}from"./chunk-J2N23YTE.js";import{a as ro}from"./chunk-QBEIQB67.js";import{a as ur}from"./chunk-2PHWEC3Q.js";import{a as oo}from"./chunk-RBK24NGW.js";import{a as mr}from"./chunk-AONVQ5ZN.js";import{a as Kt}from"./chunk-MZ236XRP.js";import{a as dr}from"./chunk-OTC2NIBS.js";import"./chunk-JEBWLRXD.js";import{a as sr}from"./chunk-O56TRNNW.js";import{a as pr}from"./chunk-CGLLWQ56.js";import{a as cr}from"./chunk-HHPEFBK5.js";import{a as Dt}from"./chunk-PWWS7UUU.js";import{a as At}from"./chunk-WED3VZ4O.js";import{a as Rt}from"./chunk-F3NCWWAA.js";import{a as ar,b as lr,c as It,d as yt,e as Tt,g as Et,h as wt}from"./chunk-WEDV3JR7.js";import{a as zt}from"./chunk-67YUI5PV.js";import"./chunk-CVWBRP6R.js";import{a as bt,b as rr}from"./chunk-5B75MAYV.js";import{a as Qt}from"./chunk-VKN7Y33Z.js";import{a as io}from"./chunk-KOUUBE7K.js";import{a as Be}from"./chunk-MPSBYOIE.js";import{b as nr}from"./chunk-WZLQGI4U.js";import{a as Pe}from"./chunk-OX2SHXWY.js";import{a as Q}from"./chunk-D6GM2L3Q.js";import{b as Wt,e as Mt,f as F}from"./chunk-WZEBKIFK.js";import{Ab as ht,Bb as gt,C as et,Cb as _t,D as tt,Db as vt,Eb as tr,F as it,Gc as N,I as Ge,Ib as Ji,J as ot,Jb as Yi,Jc as or,K as rt,Kb as Xi,La as ke,Lb as Zi,M as jo,Ma as Le,Mb as $i,N as Wo,Na as Ce,Nb as eo,Qb as O,Rb as q,U as qi,_ as nt,_a as Se,aa as Qo,ab as Y,bc as to,cc as ir,da as ji,ea as Wi,fa as xe,fb as at,gb as lt,jb as st,l as Pi,la as zo,lb as Ve,m as we,ma as Ko,mb as ct,na as Jo,nb as pt,oa as Yo,p as le,pa as Xo,pb as zi,q as Ae,qa as Zo,qb as Ki,qc as he,ra as $o,s as Re,t as $e,ta as er,tc as ge,u as De,ub as dt,v as Ue,va as Qi,vb as mt,wb as ut,xb as ft,yb as Ct,z as Hi,zb as St}from"./chunk-KY7FF745.js";import{$d as No,Ad as Pt,Bb as Me,Ca as ue,Cb as be,Db as Ie,Dd as Ht,Ed as x,F as Ui,Fa as r,Gk as qo,Hb as D,Hc as Fe,I as Gi,Ic as Z,Id as P,Jb as W,Jc as H,Jd as L,Ka as S,Kb as Oo,Kd as Te,Mb as d,Nb as E,Nc as Je,Ob as g,P as xi,Pa as V,Pb as Ft,Pc as Nt,Q as ki,Qa as Vi,Rk as Ni,Sb as w,Sd as j,Sf as Ho,Ta as z,Tb as A,Ub as R,Va as M,Vb as U,Vc as Fo,Wb as Ke,Wd as Fi,Xa as re,Y as Li,Zb as je,_b as We,_f as bo,bc as h,cb as ze,cc as _,da as u,db as Bt,dc as ye,ea as f,eb as Ot,hq as jt,ib as p,jb as a,jq as Ne,kb as l,lb as b,md as Ye,of as ae,p as Ri,pb as y,pf as J,pq as Io,q as Di,qb as T,qf as Mo,qq as k,rb as ve,rd as Xe,re as Po,rf as ee,sb as I,se as qt,te as ne,uc as B,ud as Ze,ue as Ee,vb as v,ve as $,wd as K,xb as C,yb as Bi,zb as Oi}from"./chunk-ETSZ5SHE.js";import{i as X}from"./chunk-SEDBTTTN.js";function _r(o,n){if(o&1){let e=I();a(0,"button",10),v("click",function(){u(e);let t=C();return f(t.onActionButtonEditRow())}),d(1),h(2,"translate"),l()}o&2&&(r(),g(" ",_(2,1,"ACTION.EDIT")," "))}function vr(o,n){if(o&1){let e=I();a(0,"button",4),v("click",function(){u(e);let t=C();return f(t.onActionBackToParent())}),d(1),h(2,"translate"),l()}o&2&&(r(),g(" ",_(2,1,"ACTION.BACK")," "))}function Mr(o,n){if(o&1&&(a(0,"p"),d(1),l()),o&2){let e=C().$implicit;r(),g(" ",e.approvedExpireDate," ")}}function br(o,n){if(o&1&&(a(0,"p"),d(1),l()),o&2){let e=C().$implicit;r(),g(" ",e.typeDescription," ")}}function Ir(o,n){if(o&1&&(a(0,"p"),d(1),l()),o&2){let e=C().$implicit;r(),g(" ",e.approvedResult," ")}}function yr(o,n){if(o&1){let e=I();a(0,"button",4),v("click",function(){u(e);let t=C().$implicit,s=C();return f(s.onActionButtonEditRow(t))}),d(1),h(2,"translate"),l()}o&2&&(r(),g(" ",_(2,1,"ACTION.SEND_DOCUMENTS")," "))}function Tr(o,n){if(o&1&&(a(0,"div",11)(1,"mat-card",12)(2,"mat-card-header"),b(3,"div",13),a(4,"mat-card-title"),b(5,"i",1),h(6,"boolclass"),d(7),h(8,"translate"),l(),a(9,"mat-card-subtitle"),d(10),l()(),b(11,"img",14),a(12,"mat-card-content"),M(13,Mr,2,1,"p",15)(14,br,2,1,"p",15)(15,Ir,2,1,"p",15),l(),a(16,"mat-card-actions"),M(17,yr,3,3,"button",6),l()()()),o&2){let e=n.$implicit;r(3),Oo(Ke("background-image: url('",e.typeLinkMainImageIdSrc,"'); background-size: cover;")),r(2),p("ngClass",_(6,14,e.isApproved)),r(2),g(" ",_(8,16,"ACTION.STATUS")),r(3),E(e.typeTitle),r(),p("src",U(e.linkFileContentIdSrc),ue)("alt",U(e.typeTitle)),r(2),p("ngIf",e.isApproved&&e.approvedExpireDate),r(),p("ngIf",!e.isApproved),r(),p("ngIf",e.approvedResult&&e.approvedResult.length>0),r(2),p("ngIf",!e.isApproved)}}var Jt=class Jt{constructor(n,e,i,t,s,m,c,G,ie,_e,Ai){this.coreUserClaimContentService=n;this.publicHelper=e;this.cmsToastrService=i;this.coreUserClaimTypeService=t;this.router=s;this.cmsStoreService=m;this.activatedRoute=c;this.tokenHelper=G;this.cdr=ie;this.translate=_e;this.dialog=Ai;this.requestLinkUserId=0;this.requestLinkSiteId=0;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.dataModelResult=new x;this.optionsSearch=new ar;this.optionsStatist=new lr;this.tokenInfo=new Ho;this.tableRowSelected=new bo;this.tableSource=new tr;this.fieldsInfo=new Map;this.categoryModelSelected=new ee;this.dataModelCoreUserClaimTypeResult=new x;this.tabledisplayedColumns=["TypeTitle","IsApproved","ApprovedResult","ApproveCheckDate","ApprovedExpireDate","Action"];this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId"))}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(n=>n.tokenInfoStore).subscribe(n=>X(this,null,function*(){this.tokenInfo=n,this.DataGetAll()}))),this.getUserClaimType()}getUserClaimType(){let n=new L;n.rowPerPage=100,this.coreUserClaimTypeService.ServiceGetAll(n).subscribe({next:e=>{this.dataModelCoreUserClaimTypeResult=e}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(n=>n.unsubscribe())}DataGetAll(){this.onActionTableRowSelect(new bo);let n=this.constructor.name+"main";if(this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(n,e,this.constructorInfoAreaId)}),this.requestLinkUserId>0&&this.requestLinkSiteId>0){let e=new Po;e.userId=this.requestLinkUserId,e.siteId=this.requestLinkSiteId,this.coreUserClaimContentService.setAccessLoad(),this.coreUserClaimContentService.ServiceClaimCheck(e).subscribe({next:i=>{i.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModelResult=i,this.tableSource.data=i.listItems,setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(i.access)},1e3)):this.cmsToastrService.typeErrorMessage(i.errorMessage),this.publicHelper.processService.processStop(n)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(n,!1)}})}else this.coreUserClaimContentService.setAccessLoad(),this.coreUserClaimContentService.ServiceClaimCheckCurrent().subscribe({next:e=>{e.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModelResult=e,this.tableSource.data=e.listItems,setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(e.access)},1e3)):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(n)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(n,!1)}})}onActionButtonNewRow(){var n="";this.publicHelper.isMobile?n="dialog-fullscreen":n="dialog-min",this.dialog.open(Ii,{height:"90%",panelClass:n,enterAnimationDuration:k.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:k.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(i=>{i&&i.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(n=this.tableRowSelected){if(!n||!n.linkTypeId||n.linkTypeId===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(n),n.linkContentId&&n.linkContentId>0){var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(so,{height:"90%",panelClass:e,enterAnimationDuration:k.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:k.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.linkContentId}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}else{var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(Ii,{height:"90%",panelClass:e,enterAnimationDuration:k.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:k.cmsViewConfig.exitAnimationDuration,data:{linkUserClaimTypeId:this.tableRowSelected.linkTypeId}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate&&this.DataGetAll()})}}onActionButtonReload(){this.DataGetAll()}onActionTableRowSelect(n){this.tableRowSelected=n,n.expanded||(n.expanded=!1),n.expanded=!n.expanded}onActionBackToParent(){this.router.navigate(["/core/user/"])}};Jt.\u0275fac=function(e){return new(e||Jt)(S(qt),S(F),S(N),S($),S(Ne),S(he),S(jt),S(ge),S(B),S(O),S(Ce))},Jt.\u0275cmp=V({type:Jt,selectors:[["app-core-userclaimcontent-checklist"]],standalone:!1,decls:13,vars:9,consts:[[1,"row"],[3,"ngClass"],[1,"ntk-cms-html-list-header"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-magenta",3,"click",4,"ngIf"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"title"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-highlight",3,"click",4,"ngIf"],[1,"row","loader-container"],[3,"optionsInfoAreaId"],["class","col-4",4,"ngFor","ngForOf"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"col-4"],[1,"example-card"],["mat-card-avatar",""],["mat-card-image","",3,"src","alt"],[4,"ngIf"]],template:function(e,i){e&1&&(a(0,"div",0)(1,"div",1)(2,"div",2),M(3,_r,3,3,"button",3),a(4,"button",4),v("click",function(){return i.onActionButtonReload()}),a(5,"mat-icon",5),h(6,"translate"),d(7,"refresh"),l()(),M(8,vr,3,3,"button",6),l(),a(9,"div")(10,"div",7),b(11,"app-progress-spinner",8),M(12,Tr,18,18,"div",9),l()()()()),e&2&&(r(),p("ngClass","col-xl-12"),r(2),p("ngIf",(i.tableRowSelected==null?null:i.tableRowSelected.linkTypeId)>0),r(2),p("title",U(_(6,7,"ACTION.RELOAD"))),r(3),p("ngIf",i.requestLinkUserId>0),r(3),p("optionsInfoAreaId",i.constructorInfoAreaId),r(),p("ngForOf",i.dataModelResult.listItems))},dependencies:[Fe,Z,H,zo,Xo,er,Jo,Zo,$o,Yo,Ko,Se,Q,q,Wt],styles:[".width[_ngcontent-%COMP%]{width:100%}"]});var yi=Jt;var wr=["vform"];function Ar(o,n){if(o&1){let e=I();a(0,"app-cms-enum-record-status-selector",38),R("modelChange",function(t){u(e);let s=C();return A(s.dataModel.recordStatus,t)||(s.dataModel.recordStatus=t),f(t)}),l()}if(o&2){let e=C();w("model",e.dataModel.recordStatus),p("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Rr(o,n){if(o&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),h(4,"translate"),l()()),o&2){let e=C();r(),g(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," is "),r(2),E(_(4,2,"MESSAGE.required"))}}function Dr(o,n){if(o&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),h(4,"translate"),l()()),o&2){let e=C();r(),g(" ",e.fieldsInfo.titleResourceLanguage==null?null:e.fieldsInfo.titleResourceLanguage.fieldTitle," is "),r(2),E(_(4,2,"MESSAGE.required"))}}function Ur(o,n){if(o&1&&(a(0,"option",39),d(1),l()),o&2){let e=n.$implicit;p("ngValue",e.value),r(),g(" ",e.description," ")}}function Gr(o,n){o&1&&(a(0,"mat-error"),d(1," Kind is "),a(2,"strong"),d(3),h(4,"translate"),l()()),o&2&&(r(3),E(_(4,1,"MESSAGE.required")))}function xr(o,n){if(o&1&&(b(0,"img",40),h(1,"cmsthumbnail")),o&2){let e=C();p("src",U(_(1,2,e.dataModel.linkMainImageIdSrc)),ue)}}function kr(o,n){if(o&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),h(4,"translate"),l()()),o&2){let e=C();r(),g(" ",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle," is "),r(2),E(_(4,2,"MESSAGE.required"))}}function Lr(o,n){if(o&1){let e=I();a(0,"div",41)(1,"button",42),v("click",function(){u(e);let t=C();return f(t.onFormCancel())}),b(2,"i",43),d(3),h(4,"translate"),l(),a(5,"button",44),b(6,"i",45),d(7),h(8,"translate"),l()()}if(o&2){C();let e=D(9);r(3),g(" ",_(4,3,"ACTION.CANCEL")," "),r(2),p("disabled",!e.form.valid),r(2),g(" ",_(8,5,"ACTION.SAVE")," ")}}var $t=class $t extends Qt{constructor(e,i,t,s,m,c,G,ie){super(s,new ee,m,ie);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.coreUserClaimTypeService=s;this.publicHelper=m;this.cmsToastrService=c;this.cdr=G;this.translate=ie;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new x;this.dataModel=new ee;this.formInfo=new Te;this.dataModelEnumUserClaimKindsResult=new x;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess(),this.getEnumUserClaimKinds()}getEnumUserClaimKinds(){this.coreEnumService.ServiceUserClaimKindsEnum().subscribe({next:e=>{this.dataModelEnumUserClaimKindsResult=e}})}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.coreUserClaimTypeService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionFileSelected(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};$t.\u0275fac=function(i){return new(i||$t)(S(Le),S(ke),S(j),S($),S(F),S(N),S(B),S(O))},$t.\u0275cmp=V({type:$t,selectors:[["app-core-userclaimtype-add"]],viewQuery:function(i,t){if(i&1&&Me(wr,5),i&2){let s;be(s=Ie())&&(t.formGroup=s.first)}},standalone:!1,features:[z],decls:65,vars:55,consts:[["vform","ngForm"],["Title",""],["TitleResourceLanguage",""],["Kind","ngModel"],["LinkMainImageId",""],["Description",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","name","dataModel.title","type","text","minlength","3","maxlength","100","id","dataModel.title","required","",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[4,"ngIf"],["for","dataModel.titleResourceLanguage",1,"color-highlight"],["matInput","","name","dataModel.titleResourceLanguage","type","text","minlength","3","maxlength","100","required","","id","dataModel.titleResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"input-style","has-borders","input-style-always-active","validate-field","no-icon","mb-4"],["id","dataModel.kind","name","dataModel.kind",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.dismissOnEdit",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.dismissOnEdit","name","dataModel.dismissOnEdit",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.dismissOnEdit",1,"custom-control-label"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align: middle","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],[1,"mb-9"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","name","dataModel.linkMainImageId","type","text","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"ngValue"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=I();a(0,"div",6),b(1,"app-progress-spinner",7),a(2,"div",8)(3,"p",9),d(4),l(),a(5,"p"),d(6),h(7,"translate"),l(),a(8,"form",10,0),v("ngSubmit",function(){return u(s),f(t.onFormSubmit())}),M(10,Ar,1,5,"app-cms-enum-record-status-selector",11),a(11,"div",12)(12,"label",13),d(13),l(),a(14,"input",14,1),R("ngModelChange",function(c){return u(s),A(t.dataModel.title,c)||(t.dataModel.title=c),f(c)}),l(),a(16,"em"),d(17),l(),M(18,Rr,5,4,"mat-error",15),l(),a(19,"div",12)(20,"label",16),d(21),l(),a(22,"input",17,2),R("ngModelChange",function(c){return u(s),A(t.dataModel.titleResourceLanguage,c)||(t.dataModel.titleResourceLanguage=c),f(c)}),l(),a(24,"em"),d(25),l(),M(26,Dr,5,4,"mat-error",15),l(),a(27,"div",18)(28,"select",19,3),R("ngModelChange",function(c){return u(s),A(t.dataModel.kind,c)||(t.dataModel.kind=c),f(c)}),M(30,Ur,2,2,"option",20),l(),a(31,"em"),d(32),h(33,"translate"),l(),M(34,Gr,5,3,"mat-error",15),l(),a(35,"div",21)(36,"div",22)(37,"h5",23),d(38),l()(),a(39,"div",24)(40,"div",25)(41,"input",26),R("ngModelChange",function(c){return u(s),A(t.dataModel.dismissOnEdit,c)||(t.dataModel.dismissOnEdit=c),f(c)}),l(),b(42,"label",27),l()()(),a(43,"div",28)(44,"a",29),h(45,"cmsthumbnail"),M(46,xr,2,4,"img",30),l()(),a(47,"div",31)(48,"div",12)(49,"label",32),v("click",function(){return u(s),f(t.fileManagerOpenForm=!0)}),d(50),h(51,"translate"),l(),a(52,"input",33,4),h(54,"translate"),R("ngModelChange",function(c){return u(s),A(t.dataModel.linkMainImageId,c)||(t.dataModel.linkMainImageId=c),f(c)}),v("click",function(){return u(s),f(t.fileManagerOpenForm=!0)}),l()(),a(55,"cms-file-manager",34),v("itemSelected",function(c){return u(s),f(t.onActionFileSelected(c))}),R("openFormChange",function(c){return u(s),A(t.fileManagerOpenForm,c)||(t.fileManagerOpenForm=c),f(c)}),l()(),a(56,"div",12)(57,"label",35),d(58),l(),a(59,"textarea",36,5),R("ngModelChange",function(c){return u(s),A(t.dataModel.description,c)||(t.dataModel.description=c),f(c)}),l(),a(61,"em"),d(62),l(),M(63,kr,5,4,"mat-error",15),l(),M(64,Lr,9,7,"div",37),l()()()}if(i&2){let s=D(15),m=D(23),c=D(29),G=D(60);r(),p("optionsInfoAreaId",t.constructorInfoAreaId),r(3),g(" ",t.formInfo.formTitle," "),r(2),g(" ",_(7,45,"TITLE.Be_Careful_When_Entering_Information")," "),r(4),p("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),r(3),E(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),r(),p("placeholder",U(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),w("ngModel",t.dataModel.title),r(3),g("",s.value.length," / 100"),r(),p("ngIf",s.errors==null?null:s.errors.required),r(3),E(t.fieldsInfo.titleResourceLanguage==null?null:t.fieldsInfo.titleResourceLanguage.fieldTitle),r(),p("placeholder",U(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),w("ngModel",t.dataModel.titleResourceLanguage),p("disabled",!(t.fieldsInfo.titleResourceLanguage!=null&&t.fieldsInfo.titleResourceLanguage.accessAddField)),r(3),g("",m.value.length," / 100"),r(),p("ngIf",m.errors==null?null:m.errors.required),r(2),w("ngModel",t.dataModel.kind),r(2),p("ngForOf",t.dataModelEnumUserClaimKindsResult.listItems),r(2),E(_(33,47,"TITLE.Select_type_of_content")),r(2),p("ngIf",c.errors==null?null:c.errors.required),r(4),g(" ",t.fieldsInfo.dismissOnEdit==null?null:t.fieldsInfo.dismissOnEdit.fieldTitle," "),r(3),w("ngModel",t.dataModel.dismissOnEdit),r(3),p("href",U(_(45,49,t.dataModel.linkMainImageIdSrc)),ue),r(2),p("ngIf",(t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0),r(4),g("",_(51,51,"TITLE.Sample_File")," "),r(2),p("placeholder",U(_(54,53,"TITLE.Original_File_ID"))),w("ngModel",t.dataModel.linkMainImageId),r(3),p("language",t.appLanguage)("isPopup",!0),w("openForm",t.fileManagerOpenForm),p("tree",t.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",t.selectFileTypeMainImage)("openFilemanagerButtonView",!1),r(3),E(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),r(),p("placeholder",U(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),w("ngModel",t.dataModel.description),r(3),g("",G.value.length," / 500"),r(),p("ngIf",G.errors==null?null:G.errors.required),r(),p("ngIf",t.formInfo.submitButtonEnabled)}},dependencies:[Z,H,Ue,tt,it,we,Pi,et,le,Ae,Ge,ot,rt,De,Re,nt,Y,Be,Q,to,q,bt],encapsulation:2});var ei=$t;function Br(o,n){if(o&1){let e=I();a(0,"li")(1,"mat-checkbox",1),v("change",function(){let t=u(e).$implicit,s=C();return f(s.onActionSelect(t))}),d(2),l()()}if(o&2){let e=n.$implicit,i=C();r(),p("checked",i.fieldsStatus.get(e.id))("disabled",i.optionDisabled),r(),g(" ",e.titleML," ")}}var ti=class ti{constructor(n,e,i,t,s,m){this.coreEnumService=n;this.categoryService=e;this.cdr=i;this.publicHelper=t;this.translate=s;this.cmsToastrService=m;this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new x;this.dataModelSelect=[];this.dataIdsSelect=[];this.formControl=new $e;this.fieldsStatus=new Map;this.optionDisabled=!1;this.optionSelectFirstItem=!1;this.optionPlaceholder="";this.optionChange=new re;this.optionSelectAdded=new re;this.optionSelectRemoved=new re;this.optionReload=()=>this.onActionButtonReload();this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(n){this.onActionSelectForce(n)}ngOnInit(){this.DataGetAll()}DataGetAll(){let n=new L;n.rowPerPage=50,n.accessLoad=!0;let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.categoryService.ServiceGetAll(n).subscribe({next:i=>{i.isSuccess?(this.dataModelResult=i,this.dataModelResult.listItems.forEach(t=>this.fieldsStatus.set(t.id,!1)),this.dataIdsSelect.forEach(t=>this.fieldsStatus.set(t,!0)),this.dataModelResult.listItems.forEach(t=>{this.fieldsStatus.get(t.id)&&this.dataModelSelect.push(t)})):this.cmsToastrService.typeErrorMessage(i.errorMessage),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelect(n){this.fieldsStatus.get(n.id)?(this.fieldsStatus.set(n.id,!1),this.optionSelectRemoved.emit(n),this.dataModelSelect.splice(this.dataModelSelect.indexOf(n),1)):(this.fieldsStatus.set(n.id,!0),this.optionSelectAdded.emit(n),this.dataModelSelect.push(n)),this.optionChange.emit(this.dataModelSelect)}onActionSelectForce(n){typeof n==typeof Array(Number)?n.forEach(e=>{this.dataIdsSelect.push(e)}):typeof n==typeof Array(J)&&n.forEach(e=>{this.dataIdsSelect.push(e.id)}),this.dataIdsSelect.forEach(e=>this.fieldsStatus.set(e,!0))}onActionButtonReload(){this.DataGetAll()}};ti.\u0275fac=function(e){return new(e||ti)(S(j),S(ne),S(B),S(F),S(O),S(N))},ti.\u0275cmp=V({type:ti,selectors:[["app-core-userclaimgroup-selectionlist"]],inputs:{optionDisabled:"optionDisabled",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange",optionSelectAdded:"optionSelectAdded",optionSelectRemoved:"optionSelectRemoved"},standalone:!1,decls:2,vars:1,consts:[[4,"ngFor","ngForOf"],[3,"change","checked","disabled"]],template:function(e,i){e&1&&(a(0,"ul"),M(1,Br,3,3,"li",0),l()),e&2&&(r(),p("ngForOf",i.dataModelResult.listItems))},dependencies:[Z,Qi],encapsulation:2});var mo=ti;var Pr=["vform"];function Hr(o,n){if(o&1){let e=I();a(0,"app-cms-enum-record-status-selector",38),R("modelChange",function(t){u(e);let s=C();return A(s.dataModel.recordStatus,t)||(s.dataModel.recordStatus=t),f(t)}),l()}if(o&2){let e=C();w("model",e.dataModel.recordStatus),p("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function qr(o,n){if(o&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),h(4,"translate"),l()()),o&2){let e=C();r(),g(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," is "),r(2),E(_(4,2,"MESSAGE.required"))}}function jr(o,n){if(o&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),h(4,"translate"),l()()),o&2){let e=C();r(),g(" ",e.fieldsInfo.titleResourceLanguage==null?null:e.fieldsInfo.titleResourceLanguage.fieldTitle," is "),r(2),E(_(4,2,"MESSAGE.required"))}}function Wr(o,n){if(o&1&&(a(0,"option",39),d(1),l()),o&2){let e=n.$implicit;p("ngValue",e.value),r(),g(" ",e.description," ")}}function Qr(o,n){if(o&1){let e=I();a(0,"div",40)(1,"div",41)(2,"h5",42),d(3),l()(),a(4,"div",43)(5,"div",44)(6,"input",45),R("ngModelChange",function(t){u(e);let s=C();return A(s.dataModel.dismissOnEdit,t)||(s.dataModel.dismissOnEdit=t),f(t)}),l(),b(7,"label",46),l()()()}if(o&2){let e=C();r(3),g(" ",e.fieldsInfo.dismissOnEdit==null?null:e.fieldsInfo.dismissOnEdit.fieldTitle," "),r(3),w("ngModel",e.dataModel.dismissOnEdit)}}function zr(o,n){if(o&1&&(b(0,"img",47),h(1,"cmsthumbnail")),o&2){let e=C();p("src",U(_(1,2,e.dataModel.linkMainImageIdSrc)),ue)}}function Kr(o,n){if(o&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),h(4,"translate"),l()()),o&2){let e=C();r(),g(" ",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle," is "),r(2),E(_(4,2,"MESSAGE.required"))}}function Jr(o,n){if(o&1){let e=I();a(0,"div",48)(1,"button",49),v("click",function(){u(e);let t=C();return f(t.onFormCancel())}),b(2,"i",50),d(3),h(4,"translate"),l(),a(5,"button",51),b(6,"i",52),d(7),h(8,"translate"),l()()}if(o&2){C();let e=D(9);r(3),g(" ",_(4,3,"ACTION.CANCEL")," "),r(2),p("disabled",!e.form.valid),r(2),g(" ",_(8,5,"ACTION.SAVE")," ")}}var ii=class ii extends zt{constructor(e,i,t,s,m,c,G,ie,_e){super(s,new ee,c,_e);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.coreUserClaimTypeService=s;this.coreUserClaimGroupDetailService=m;this.publicHelper=c;this.cmsToastrService=G;this.cdr=ie;this.translate=_e;this.requestId=0;this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new Ht;this.dataModel=new ee;this.formInfo=new Te;this.dataModelEnumUserClaimKindsResult=new x;this.fileManagerOpenForm=!1;this.dataCoreClaimGroupIds=[];this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=+e.id||0),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.requestId>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetAllCoreUserClaimType(),this.getEnumUserClaimKinds()}getEnumUserClaimKinds(){this.coreEnumService.ServiceUserClaimKindsEnum().subscribe({next:e=>{this.dataModelEnumUserClaimKindsResult=e}})}DataGetOneContent(){if(this.requestId<=0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.coreUserClaimTypeService.setAccessLoad(),this.coreUserClaimTypeService.setAccessDataType(Pt.Editor),this.coreUserClaimTypeService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.submitResultMessage=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataGetAllCoreUserClaimType(){if(this.requestId<=0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(s=>{this.formInfo.submitResultMessage=s}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"DataGetAllCoreUserClaimType";this.translate.get("MESSAGE.Get_the_list_of_documents").subscribe(s=>{this.publicHelper.processService.processStart(e,s,this.constructorInfoAreaId)});let i=new L,t=new P;t.propertyName="LinkUserClaimTypeId",t.value=this.requestId,i.filters.push(t),this.coreUserClaimGroupDetailService.ServiceGetAll(i).subscribe({next:s=>{this.dataCoreUserClaimGroupDetailModels=s.listItems;let m=[];this.dataCoreUserClaimGroupDetailModels.forEach(c=>{m.push(c.linkUserClaimGroupId)}),this.dataCoreClaimGroupIds=m,s.isSuccess?this.formInfo.submitResultMessage="":(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(c=>{this.formInfo.submitResultMessage=c}),this.formInfo.submitResultMessage=s.errorMessage,this.cmsToastrService.typeErrorMessage(s.errorMessage)),this.publicHelper.processService.processStop(e)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.coreUserClaimTypeService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionFileSelected(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}onStepClick(e,i){e.previouslySelectedIndex<e.selectedIndex&&(this.formGroup.valid||(this.cmsToastrService.typeErrorFormInvalid(),setTimeout(()=>{i.selectedIndex=e.previouslySelectedIndex},10)))}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}onActionSelectorUserCategorySelect(e){this.dataCoreUserClaimTypeModels=e}onActionSelectorUserCategorySelectAdded(e){let i=new ae;i.linkUserClaimTypeId=e.id,i.linkUserClaimGroupId=this.dataModel.id,i.isRequired=!0,this.coreUserClaimGroupDetailService.ServiceAdd(i).subscribe({next:t=>{t.isSuccess?(this.translate.get("MESSAGE.registration_in_this_group_was_successful").subscribe(s=>{this.formInfo.submitResultMessage=s}),this.cmsToastrService.typeSuccessEdit()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(s=>{this.formInfo.submitResultMessage=s}),this.formInfo.submitResultMessage=t.errorMessage,this.cmsToastrService.typeErrorMessage(t.errorMessage))},error:t=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(t)}})}onActionSelectorUserCategorySelectRemoved(e){let i=new ae;i.linkUserClaimTypeId=e.id,i.linkUserClaimGroupId=this.dataModel.id,this.coreUserClaimGroupDetailService.ServiceDeleteEntity(i).subscribe({next:t=>{t.isSuccess?(this.translate.get("MESSAGE.Deletion_from_this_group_Was_Successful").subscribe(s=>{this.formInfo.submitResultMessage=s}),this.cmsToastrService.typeSuccessEdit()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(s=>{this.formInfo.submitResultMessage=s}),this.formInfo.submitResultMessage=t.errorMessage,this.cmsToastrService.typeErrorMessage(t.errorMessage))},error:t=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(t)}})}};ii.\u0275fac=function(i){return new(i||ii)(S(Le),S(ke),S(j),S($),S(Ee),S(F),S(N),S(B),S(O))},ii.\u0275cmp=V({type:ii,selectors:[["app-core-userclaimtype-edit"]],viewQuery:function(i,t){if(i&1&&Me(Pr,5),i&2){let s;be(s=Ie())&&(t.formGroup=s.first)}},standalone:!1,features:[z],decls:66,vars:65,consts:[["vform","ngForm"],["stepper",""],["Title",""],["TitleResourceLanguage",""],["Kind","ngModel"],["LinkMainImageId",""],["Description",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"selectionChange"],["state","main",3,"label"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","name","dataModel.title","type","text","minlength","3","maxlength","100","id","dataModel.title","required","",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[4,"ngIf"],["for","dataModel.titleML",1,"color-highlight"],["matInput","","name","dataModel.titleML","type","text","id","dataModel.titleML",3,"ngModelChange","ngModel","disabled"],["for","dataModel.titleResourceLanguage",1,"color-highlight"],["matInput","","name","dataModel.titleResourceLanguage","type","text","minlength","3","maxlength","100","id","dataModel.titleResourceLanguage","required","",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"input-style","has-borders","input-style-always-active","validate-field","no-icon","mb-4"],["id","dataModel.kind","name","dataModel.kind",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[3,"ngValue",4,"ngFor","ngForOf"],["class","d-flex mb-3",4,"ngIf"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align: middle","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],[1,"mb-9"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","name","dataModel.linkMainImageId","type","text","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[3,"optionChange","optionSelectAdded","optionSelectRemoved","optionSelectForce","optionDisabled"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"ngValue"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.dismissOnEdit",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.dismissOnEdit","name","dataModel.dismissOnEdit",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.dismissOnEdit",1,"custom-control-label"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=I();a(0,"div",7),b(1,"app-progress-spinner",8),a(2,"div",9)(3,"p",10),d(4),l(),a(5,"p"),d(6),h(7,"translate"),l(),a(8,"form",11,0),v("ngSubmit",function(){return u(s),f(t.onFormSubmit())}),a(10,"mat-vertical-stepper",12,1),v("selectionChange",function(c){u(s);let G=D(11);return f(t.onStepClick(c,G))}),a(12,"mat-step",13),h(13,"translate"),M(14,Hr,1,5,"app-cms-enum-record-status-selector",14),a(15,"div",15)(16,"label",16),d(17),l(),a(18,"input",17,2),R("ngModelChange",function(c){return u(s),A(t.dataModel.title,c)||(t.dataModel.title=c),f(c)}),l(),a(20,"em"),d(21),l(),M(22,qr,5,4,"mat-error",18),l(),a(23,"div",15)(24,"label",19),d(25),h(26,"translate"),l(),a(27,"input",20),R("ngModelChange",function(c){return u(s),A(t.dataModel.titleML,c)||(t.dataModel.titleML=c),f(c)}),l()(),a(28,"div",15)(29,"label",21),d(30),l(),a(31,"input",22,3),R("ngModelChange",function(c){return u(s),A(t.dataModel.titleResourceLanguage,c)||(t.dataModel.titleResourceLanguage=c),f(c)}),l(),a(33,"em"),d(34),l(),M(35,jr,5,4,"mat-error",18),l(),a(36,"div",23)(37,"select",24,4),R("ngModelChange",function(c){return u(s),A(t.dataModel.kind,c)||(t.dataModel.kind=c),f(c)}),M(39,Wr,2,2,"option",25),l()(),M(40,Qr,8,2,"div",26),a(41,"div",27)(42,"a",28),h(43,"cmsthumbnail"),M(44,zr,2,4,"img",29),l()(),a(45,"div",30)(46,"div",15)(47,"label",31),v("click",function(){return u(s),f(t.fileManagerOpenForm=!0)}),d(48),h(49,"translate"),l(),a(50,"input",32,5),h(52,"translate"),R("ngModelChange",function(c){return u(s),A(t.dataModel.linkMainImageId,c)||(t.dataModel.linkMainImageId=c),f(c)}),v("click",function(){return u(s),f(t.fileManagerOpenForm=!0)}),l()(),a(53,"cms-file-manager",33),v("itemSelected",function(c){return u(s),f(t.onActionFileSelected(c))}),R("openFormChange",function(c){return u(s),A(t.fileManagerOpenForm,c)||(t.fileManagerOpenForm=c),f(c)}),l()(),a(54,"div",15)(55,"label",34),d(56),l(),a(57,"textarea",35,6),R("ngModelChange",function(c){return u(s),A(t.dataModel.description,c)||(t.dataModel.description=c),f(c)}),l(),a(59,"em"),d(60),l(),M(61,Kr,5,4,"mat-error",18),l()(),a(62,"mat-step",13),h(63,"translate"),a(64,"app-core-userclaimgroup-selectionlist",36),v("optionChange",function(c){return u(s),f(t.onActionSelectorUserCategorySelect(c))})("optionSelectAdded",function(c){return u(s),f(t.onActionSelectorUserCategorySelectAdded(c))})("optionSelectRemoved",function(c){return u(s),f(t.onActionSelectorUserCategorySelectRemoved(c))}),l()()(),M(65,Jr,9,7,"div",37),l()()()}if(i&2){let s=D(19),m=D(32),c=D(58);r(),p("optionsInfoAreaId",t.constructorInfoAreaId),r(3),g(" ",t.formInfo.formTitle," "),r(2),g(" ",_(7,51,"TITLE.Be_Careful_When_Entering_Information")," "),r(6),p("label",U(_(13,53,"TITLE.Details_Claim"))),r(2),p("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),r(3),E(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),r(),p("placeholder",U(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),w("ngModel",t.dataModel.title),r(3),g("",s.value.length," / 100"),r(),p("ngIf",s.errors==null?null:s.errors.required),r(3),g(" ",_(26,55,"TITLE.TitleML")),r(2),w("ngModel",t.dataModel.titleML),p("disabled",!0),r(3),E(t.fieldsInfo.titleResourceLanguage==null?null:t.fieldsInfo.titleResourceLanguage.fieldTitle),r(),p("placeholder",U(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),w("ngModel",t.dataModel.titleResourceLanguage),p("disabled",!(t.fieldsInfo.titleResourceLanguage!=null&&t.fieldsInfo.titleResourceLanguage.accessEditField)),r(3),g("",m.value.length," / 100"),r(),p("ngIf",m.errors==null?null:m.errors.required),r(2),w("ngModel",t.dataModel.kind),r(2),p("ngForOf",t.dataModelEnumUserClaimKindsResult.listItems),r(),p("ngIf",t.fieldsInfo.dismissOnEdit==null?null:t.fieldsInfo.dismissOnEdit.accessWatchField),r(2),p("href",U(_(43,57,t.dataModel.linkMainImageIdSrc)),ue),r(2),p("ngIf",(t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0),r(4),g("",_(49,59,"TITLE.Sample_File")," "),r(2),p("placeholder",U(_(52,61,"TITLE.Original_File_ID"))),w("ngModel",t.dataModel.linkMainImageId),r(3),p("language",t.appLanguage)("isPopup",!0),w("openForm",t.fileManagerOpenForm),p("tree",t.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",t.selectFileTypeMainImage)("openFilemanagerButtonView",!1),r(3),E(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),r(),p("placeholder",U(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),w("ngModel",t.dataModel.description),r(3),g("",c.value.length," / 500"),r(),p("ngIf",c.errors==null?null:c.errors.required),r(),p("label",U(_(63,63,"TITLE.Get_Used"))),r(2),p("optionSelectForce",t.dataCoreClaimGroupIds)("optionDisabled",!1),r(),p("ngIf",t.formInfo.submitButtonEnabled)}},dependencies:[Z,H,Ue,tt,it,we,Pi,et,le,Ae,Ge,ot,rt,De,Re,nt,Y,zi,Ki,Be,Q,io,to,mo,q,bt],encapsulation:2});var oi=ii;function Zr(o,n){if(o&1){let e=I();a(0,"button",13),v("click",function(){u(e);let t=C();return f(t.onActionAdd())}),d(1),h(2,"translate"),l()}o&2&&(r(),g(" ",_(2,1,"ACTION.ADD")," "))}function $r(o,n){if(o&1){let e=I();a(0,"button",14),v("click",function(){u(e);let t=C();return f(t.onActionEdit())}),d(1),h(2,"translate"),l()}o&2&&(r(),g(" ",_(2,1,"ACTION.EDIT")," "))}function en(o,n){if(o&1){let e=I();a(0,"button",15),v("click",function(){u(e);let t=C();return f(t.onActionButtonReload())}),a(1,"mat-icon",16),h(2,"translate"),d(3,"refresh"),l()()}if(o&2){let e=C();r(),W("rotation360",e.publicHelper.processService.process.inRunArea[e.constructorInfoAreaId]),p("title",U(_(2,4,"ACTION.RELOAD")))}}function tn(o,n){if(o&1){let e=I();a(0,"mat-tree-node",17),b(1,"button",18),a(2,"span",19),v("click",function(){let t=u(e).$implicit,s=C();return f(s.onActionSelect(t))}),d(3),l()()}if(o&2){let e=n.$implicit,i=C();W("ntk-tree-selected",i.dataModelSelect.id>0&&i.dataModelSelect.id===e.id),r(3),E(e.titleML)}}function on(o,n){if(o&1){let e=I();a(0,"mat-tree-node",20)(1,"button",21)(2,"mat-icon",22),d(3),l()(),a(4,"span",19),v("click",function(){let t=u(e).$implicit,s=C();return f(s.onActionSelect(t))}),d(5),l()()}if(o&2){let e=n.$implicit,i=C(),t=D(11);W("ntk-tree-selected",i.dataModelSelect.id>0&&i.dataModelSelect.id===e.id),p("cdkTreeNodeTypeaheadLabel",e.titleML),r(),ze("type","button")("aria-label","Toggle "+e.titleML),r(2),g(" ",t.isExpanded(e)?"expand_more":"chevron_right"," "),r(2),E(e.titleML)}}var ri=class ri{constructor(n,e,i,t,s,m,c,G,ie){this.cmsToastrService=n;this.coreEnumService=e;this.categoryService=i;this.dialog=t;this.cdr=s;this.publicHelper=m;this.tokenHelper=c;this.cmsStoreService=G;this.translate=ie;this.constructorInfoAreaId=this.constructor.name;this.dataModelSelect=new ee;this.dataModelResult=new x;this.filterModel=new L;this.dataSource=new eo;this.optionChange=new re;this.unsubscribe=[];this.optionReload=()=>this.onActionButtonReload();this.hasChild=(n,e)=>!1;this.childrenAccessor=n=>[];this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(n){this.onActionSelectForce(n)}ngOnInit(){setTimeout(()=>{this.DataGetAll()},500),this.unsubscribe.push(this.cmsStoreService.getState(n=>n.tokenInfoStore).subscribe(n=>X(this,null,function*(){this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(n=>n.unsubscribe())}DataGetAll(){this.filterModel.rowPerPage=200,this.filterModel.accessLoad=!0;let n=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(n,e,this.constructorInfoAreaId)}),this.categoryService.ServiceGetAll(this.filterModel).subscribe({next:e=>{e.isSuccess?(this.dataModelResult=e,this.dataSource.data=this.dataModelResult.listItems):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(n)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(n,!1)}})}onActionSelect(n){this.dataModelSelect=n,this.optionChange.emit(this.dataModelSelect)}onActionButtonReload(){this.onActionSelect(null),this.dataModelSelect=new ee,this.DataGetAll()}onActionSelectForce(n){}onActionAdd(){var n="";this.publicHelper.isMobile?n="dialog-fullscreen":n="dialog-min",this.dialog.open(ei,{height:"90%",panelClass:n,enterAnimationDuration:k.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:k.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(i=>{i&&i.dialogChangedDate&&this.DataGetAll()})}onActionEdit(){let n=0;if(this.dataModelSelect&&this.dataModelSelect.id>0&&(n=this.dataModelSelect.id),n===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorCategoryNotSelected").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(oi,{height:"90%",panelClass:e,enterAnimationDuration:k.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:k.cmsViewConfig.exitAnimationDuration,data:{id:n}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}};ri.\u0275fac=function(e){return new(e||ri)(S(N),S(j),S($),S(Ce),S(B),S(F),S(ge),S(he),S(O))},ri.\u0275cmp=V({type:ri,selectors:[["app-core-userclaimtype-tree"]],inputs:{optionSelectForce:"optionSelectForce",optionReload:"optionReload"},outputs:{optionChange:"optionChange"},standalone:!1,decls:15,vars:13,consts:[["treeTagControl",""],[3,"optionHeaderDisplay","optionActionMainDisplay","optionFooterDisplay"],["cms-tree-header",""],["cms-tree-action",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-teal",3,"click",4,"ngIf"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-magenta",3,"click",4,"ngIf"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-highlight",3,"click",4,"ngIf"],["cms-tree-body","",1,"loader-container"],[3,"optionsInfoAreaId"],[3,"dataSource","childrenAccessor"],["matTreeNodePadding","",3,"ntk-tree-selected",4,"matTreeNodeDef"],["matTreeNodePadding","","matTreeNodeToggle","",3,"cdkTreeNodeTypeaheadLabel","ntk-tree-selected",4,"matTreeNodeDef","matTreeNodeDefWhen"],["cms-tree-footer",""],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[2,"font-size","20px","margin","-6px",3,"title"],["matTreeNodePadding",""],["matIconButton","","disabled",""],[3,"click"],["matTreeNodePadding","","matTreeNodeToggle","",3,"cdkTreeNodeTypeaheadLabel"],["matIconButton","","matTreeNodeToggle",""],[1,"mat-icon-rtl-mirror"]],template:function(e,i){e&1&&(a(0,"app-cms-html-tree",1),y(1,2),d(2),h(3,"translate"),T(),y(4,3),M(5,Zr,3,3,"button",4)(6,$r,3,3,"button",5)(7,en,4,6,"button",6),T(),y(8,7),b(9,"app-progress-spinner",8),a(10,"mat-tree",9,0),M(12,tn,4,3,"mat-tree-node",10)(13,on,6,7,"mat-tree-node",11),l(),T(),ve(14,12),l()),e&2&&(p("optionHeaderDisplay",!0)("optionActionMainDisplay",!0)("optionFooterDisplay",!1),r(2),g(" ",_(3,11,"TABLE."+(i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.moduleEntityName))," "),r(3),p("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessAddRow),r(),p("ngIf",(i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessEditRow)&&(i.dataModelSelect==null?null:i.dataModelSelect.id)>0),r(),p("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessWatchRow),r(2),p("optionsInfoAreaId",i.constructorInfoAreaId),r(),p("dataSource",i.dataSource)("childrenAccessor",i.childrenAccessor),r(3),p("matTreeNodeDefWhen",i.hasChild))},dependencies:[H,xe,Se,Yi,Xi,$i,Zi,Ji,Q,oo,q],encapsulation:2});var uo=ri;var nn=()=>["expandedTitle"],an=()=>[5,10,20,100],ln=o=>({display:o}),sn=o=>({background:o});function cn(o,n){if(o&1&&b(0,"app-core-user-header",52),o&2){let e=C();p("optionId",e.requestLinkUserId)}}function pn(o,n){if(o&1){let e=I();a(0,"a",53),v("click",function(){u(e);let t=C();return f(t.onActionBackToParent())}),b(1,"i",54),l()}}function dn(o,n){if(o&1){let e=I();a(0,"div",20)(1,"a",55),v("click",function(){u(e);let t=C();return f(t.onActionButtonNewRow())}),b(2,"i",56)(3,"br"),l(),a(4,"p",22),d(5),h(6,"translate"),l()()}o&2&&(r(5),g(" ",_(6,1,"ACTION.ADD")," "))}function mn(o,n){if(o&1){let e=I();a(0,"div",20)(1,"a",57),v("click",function(){u(e);let t=C();return f(t.onActionButtonEditRow(t.tableRowSelected))}),b(2,"i",58)(3,"br"),l(),a(4,"p",22),d(5),h(6,"translate"),l()()}o&2&&(r(5),g(" ",_(6,1,"ACTION.EDIT")," "))}function un(o,n){if(o&1){let e=I();a(0,"div",20)(1,"a",59),v("click",function(){u(e);let t=C();return f(t.onActionButtonDeleteRow(t.tableRowSelected))}),b(2,"i",60)(3,"br"),l(),a(4,"p",22),d(5),h(6,"translate"),l()()}o&2&&(r(5),g(" ",_(6,1,"ACTION.DELETE")," "))}function fn(o,n){if(o&1){let e=I();a(0,"mat-row",61),v("click",function(t){let s=u(e).$implicit,m=C();return f(m.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=u(e).$implicit,m=C();return f(m.onActionTableRowSelect(s,t))})("mouseenter",function(){let t=u(e).$implicit,s=C();return f(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=u(e).$implicit,s=C();return f(s.onActionTableRowMouseLeave(t))}),l()}if(o&2){let e=n.$implicit,i=C();W("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}function Cn(o,n){o&1&&(a(0,"mat-header-cell",62),d(1),h(2,"translate"),l()),o&2&&(r(),g(" ",_(2,1,"TITLE.PICTURE")," "))}function Sn(o,n){if(o&1&&b(0,"img",64),o&2){let e=C().$implicit;p("src",U(e.linkFileContentId),ue)}}function hn(o,n){if(o&1&&(a(0,"mat-cell"),M(1,Sn,1,2,"img",63),l()),o&2){let e=n.$implicit;r(),p("ngIf",(e==null||e.linkFileContentId==null?null:e.linkFileContentId.length)>0)}}function gn(o,n){if(o&1&&(a(0,"mat-header-cell",62),d(1),l()),o&2){let e=C();r(),g(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function _n(o,n){if(o&1&&(a(0,"mat-cell"),d(1),l()),o&2){let e=n.$implicit;r(),g(" ",e.id," ")}}function vn(o,n){if(o&1&&(a(0,"mat-header-cell",62),d(1),l()),o&2){let e=C();r(),g(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," ")}}function Mn(o,n){if(o&1&&(a(0,"mat-cell"),d(1),l()),o&2){let e=n.$implicit;r(),g(" ",e.title," ")}}function bn(o,n){if(o&1&&(a(0,"mat-header-cell",62),d(1),l()),o&2){let e=C();r(),g(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function In(o,n){if(o&1&&(a(0,"mat-cell"),d(1),h(2,"cmssiteinfo"),h(3,"async"),l()),o&2){let e=n.$implicit;r(),g(" ",_(3,3,_(2,1,e.linkSiteId))," ")}}function yn(o,n){if(o&1&&(a(0,"mat-header-cell",62),d(1),l()),o&2){let e=C();r(),g(" ",e.fieldsInfo.linkUserId==null?null:e.fieldsInfo.linkUserId.fieldTitle," ")}}function Tn(o,n){if(o&1&&(a(0,"mat-cell"),d(1),h(2,"cmsuserinfo"),h(3,"async"),l()),o&2){let e=n.$implicit;r(),g(" ",_(3,3,_(2,1,e.linkUserId))," ")}}function En(o,n){if(o&1&&(a(0,"mat-header-cell",62),d(1),l()),o&2){let e=C();r(),g(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function wn(o,n){if(o&1&&b(0,"select",67),o&2){let e=C().$implicit,i=C();p("contentService",i.contentService)("row",e)("ngStyle",We(3,ln,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function An(o,n){if(o&1&&(a(0,"mat-cell",65),h(1,"statusCellClass"),b(2,"i",65),h(3,"statusIconClass"),M(4,wn,1,5,"select",66),l()),o&2){let e=n.$implicit,i=C();p("ngClass",_(1,3,e.recordStatus)),r(2),p("ngClass",_(3,5,e.recordStatus)),r(2),p("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessEditRow)}}function Rn(o,n){if(o&1&&(a(0,"mat-header-cell",62),d(1),l()),o&2){let e=C();r(),g(" ",e.fieldsInfo.linkUserClaimTypeId==null?null:e.fieldsInfo.linkUserClaimTypeId.fieldTitle," ")}}function Dn(o,n){if(o&1&&(a(0,"mat-cell"),d(1),h(2,"cmstitle"),l()),o&2){let e=n.$implicit,i=C();r(),E(ye(2,1,e.linkUserClaimTypeId,i.dataModelCoreUserClaimTypeResult.listItems))}}function Un(o,n){if(o&1&&(a(0,"mat-header-cell",62),d(1),l()),o&2){let e=C();r(),g(" ",e.fieldsInfo.isApproved==null?null:e.fieldsInfo.isApproved.fieldTitle," ")}}function Gn(o,n){if(o&1&&(a(0,"mat-cell"),b(1,"i",65),h(2,"boolclass"),l()),o&2){let e=n.$implicit;r(),p("ngClass",_(2,1,e.isApproved))}}function xn(o,n){if(o&1&&(a(0,"mat-header-cell",62),d(1),l()),o&2){let e=C();r(),g(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function kn(o,n){if(o&1&&(a(0,"mat-cell"),d(1),h(2,"localeDate"),l()),o&2){let e=n.$implicit;r(),g(" ",_(2,1,e.createdDate)," ")}}function Ln(o,n){if(o&1&&(a(0,"mat-header-cell",62),d(1),l()),o&2){let e=C();r(),g(" ",e.fieldsInfo.updatedDate==null?null:e.fieldsInfo.updatedDate.fieldTitle," ")}}function Vn(o,n){if(o&1&&(a(0,"mat-cell"),d(1),h(2,"localeDate"),l()),o&2){let e=n.$implicit;r(),g(" ",_(2,1,e.updatedDate)," ")}}function Bn(o,n){if(o&1&&(a(0,"mat-header-cell",62),d(1),l()),o&2){let e=C();r(),g(" ",e.fieldsInfo.expireDate==null?null:e.fieldsInfo.expireDate.fieldTitle," ")}}function On(o,n){if(o&1&&(a(0,"mat-cell",68),d(1),h(2,"persianDate"),l()),o&2){let e=n.$implicit,i=C();p("ngStyle",We(4,sn,i.publicHelper.RowStyleExpireDate(e.expireDate))),r(),g(" ",_(2,2,e.expireDate)," ")}}function Fn(o,n){o&1&&(a(0,"mat-header-cell"),d(1),h(2,"translate"),l()),o&2&&(r(),g(" ",_(2,1,"TITLE.OPTION")," "))}function Nn(o,n){if(o&1&&(a(0,"mat-cell",69)(1,"button",70)(2,"mat-icon"),d(3,"more_vert"),l()(),b(4,"mat-menu",null,2),l()),o&2){let e=D(5);r(),p("matMenuTriggerFor",e)}}function Pn(o,n){o&1&&b(0,"mat-header-row")}function Hn(o,n){if(o&1){let e=I();a(0,"mat-row",71),v("click",function(t){let s=u(e).$implicit,m=C();return f(m.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=u(e).$implicit,m=C();return f(m.onActionTableRowSelect(s,t))}),l()}if(o&2){let e=n.$implicit,i=C();W("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}function qn(o,n){if(o&1&&(a(0,"mat-cell"),d(1),h(2,"translate"),h(3,"cmsuserinfo"),h(4,"async"),b(5,"br"),d(6),h(7,"translate"),h(8,"cmssiteinfo"),h(9,"async"),b(10,"br"),d(11),h(12,"translate"),h(13,"localeDate"),b(14,"br"),d(15),h(16,"translate"),h(17,"localeDate"),b(18,"br"),d(19),h(20,"translate"),h(21,"localeDate"),l()),o&2){let e=n.$implicit;r(),Ft(" ",_(2,10,"TITLE.User_Id")," : ",_(4,14,_(3,12,e.linkUserId))," "),r(5),Ft(" ",_(7,16,"TITLE.Site_Id")," : ",_(9,20,_(8,18,e.linkSiteId))," "),r(5),Ft(" ",_(12,22,"TITLE.CreationDate")," : ",_(13,24,e.createdDate)," "),r(4),Ft(" ",_(16,26,"TITLE.DateOfUpdate")," : ",_(17,28,e.updatedDate)," "),r(4),Ft(" ",_(20,30,"TITLE.Expire_Date")," : ",_(21,32,e.expireDate)," ")}}var ni=class ni extends It{constructor(e,i,t,s,m,c,G,ie,_e,Ai,vi,Mi,bi){super(e,new Mo,Mi,c,_e);this.contentService=e;this.cmsToastrService=i;this.cmsConfirmationDialogService=t;this.coreUserClaimTypeService=s;this.router=m;this.tokenHelper=c;this.activatedRoute=G;this.cdr=ie;this.translate=_e;this.pageInfo=Ai;this.cmsStoreService=vi;this.publicHelper=Mi;this.dialog=bi;this.requestLinkUserClaimTypeId=0;this.requestLinkSiteId=0;this.requestLinkUserId=0;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new L;this.filterDataModelQueryBuilder=[];this.categoryModelSelected=new ee;this.dataModelCoreUserClaimTypeResult=new x;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["LinkFileContentId","Id","RecordStatus","LinkUserClaimTypeId","IsApproved"];this.tabledisplayedColumnsMobileSource=["LinkFileContentId","Id","RecordStatus","LinkUserClaimTypeId","IsApproved"];this.unsubscribe=[];if(this.publicHelper.processService.cdr=this.cdr,this.requestLinkUserClaimTypeId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserClaimTypeId")),this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.optionsSearch.parentMethods={onSubmit:oe=>this.onSubmitOptionsSearch(oe)},this.filteModelContent.sortColumn="Id",this.filteModelContent.sortType=K.Descending,this.requestLinkUserClaimTypeId>0){let oe=new P;oe.propertyName="LinkUserClaimTypeId",oe.value=this.requestLinkUserClaimTypeId,this.filteModelContent.filters.push(oe)}if(this.requestLinkSiteId>0){let oe=new P;oe.propertyName="LinkSiteId",oe.value=this.requestLinkSiteId,this.filteModelContent.filters.push(oe)}if(this.requestLinkUserId>0){let oe=new P;oe.propertyName="LinkUserId",oe.value=this.requestLinkUserId,this.filteModelContent.filters.push(oe)}}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>X(this,null,function*(){this.tokenInfo=e,this.DataGetAll()}))),this.getUserClaimType()}getUserClaimType(){let e=new L;e.rowPerPage=100,this.coreUserClaimTypeService.ServiceGetAll(e).subscribe({next:i=>{this.dataModelCoreUserClaimTypeResult=i}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Mo);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));if(this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.categoryModelSelected&&this.categoryModelSelected.id>0){let t=new P;t.propertyName="LinkUserClaimTypeId",t.value=this.categoryModelSelected.id,i.filters.push(t)}this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=K.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=K.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=K.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(Ii,{height:"90%",panelClass:e,enterAnimationDuration:k.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:k.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(so,{height:"90%",panelClass:i,enterAnimationDuration:k.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:k.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate&&this.DataGetAll()})}onActionSelectorSelect(e){var i=this.filteModelContent.sortColumn,t=this.filteModelContent.sortType;this.filteModelContent=new L,this.filteModelContent.sortColumn=i,this.filteModelContent.sortType=t,this.categoryModelSelected=e,this.DataGetAll()}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(s=>{this.cmsToastrService.typeErrorSelected(s)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(s=>{i=s["MESSAGE.Please_Confirm"],t=s["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(s=>{if(s){let m=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(m,c,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(m)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(m,!1)}})}}).catch(()=>{})}onActionButtonGoToUserClaimList(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.onActionTableRowSelect(e),this.router.navigate(["/core/siteUserClaim/",this.tableRowSelected.id])}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{i.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{i.set(c,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(G=>{i.set(G,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}});let s=JSON.parse(JSON.stringify(this.filteModelContent)),m=new P;m.propertyName="RecordStatus",m.value=Ze.Available,s.filters.push(m),this.contentService.ServiceGetCount(s).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(G=>{i.set(G,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonModuleList(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null){this.cmsToastrService.typeErrorSelected();return}this.router.navigate(["/core/sitecategorymodule/LinkCmsModuleId",this.tableRowSelected.id])}onActionButtonSiteList(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null){this.cmsToastrService.typeErrorSelected();return}this.router.navigate(["/core/site/list/LinkSiteCategoryId",this.tableRowSelected.id])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/userclaim/type/"])}};ni.\u0275fac=function(i){return new(i||ni)(S(qt),S(N),S(Pe),S($),S(Ne),S(ge),S(jt),S(B),S(O),S(Mt),S(he),S(F),S(Ce))},ni.\u0275cmp=V({type:ni,selectors:[["app-core-userclaimcontent-list"]],standalone:!1,features:[z],decls:89,vars:40,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionId",4,"ngIf"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],[3,"optionChange"],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-globe","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","","multiTemplateDataRows","",3,"matSortChange","dataSource"],["class","ntk-row-expandedTitle",3,"ntk-row-selected","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["matColumnDef","LinkFileContentId"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","Id"],["matColumnDef","Title"],["matColumnDef","LinkSiteId"],["matColumnDef","LinkUserId"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","LinkUserClaimTypeId"],["matColumnDef","IsApproved"],["matColumnDef","CreatedDate"],["matColumnDef","UpdatedDate"],["matColumnDef","ExpireDate"],[3,"ngStyle",4,"matCellDef"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["matColumnDef","expandedTitle"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],[3,"optionId"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],[1,"ntk-row-expandedTitle",3,"click","rtclick","mouseenter","mouseleave"],["mat-sort-header",""],["style","vertical-align: middle","class","ntk-hover-zoom","aria-hidden","","height","40","width","40",3,"src",4,"ngIf"],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[3,"ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(i,t){if(i&1){let s=I();M(0,cn,1,1,"app-core-user-header",3),a(1,"app-cms-html-list",4),R("optionActionGuideNoticeDisplayChange",function(c){return u(s),A(t.viewGuideNotice,c)||(t.viewGuideNotice=c),f(c)}),v("optionOnActionButtonMemoRow",function(){return u(s),f(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return u(s),f(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return u(s),f(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return u(s),f(t.onActionButtonPrintRow())}),y(2,5),a(3,"app-core-userclaimtype-tree",6),v("optionChange",function(c){return u(s),f(t.onActionSelectorSelect(c))}),l(),T(),ve(4,7)(5,8),y(6,9),M(7,pn,2,0,"a",10),a(8,"a",11),v("click",function(){return u(s),f(t.viewGuideNotice=!t.viewGuideNotice)}),b(9,"i",12),l(),a(10,"a",11),v("click",function(){return u(s),f(t.onActionButtonReload())}),b(11,"i",13),l(),T(),y(12,14),a(13,"a",15),v("click",function(){return u(s),f(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),b(14,"mat-slide-toggle",16),d(15),h(16,"translate"),l(),a(17,"a",15),v("click",function(){return u(s),f(t.onActionButtonStatist())}),b(18,"mat-slide-toggle",16),d(19),h(20,"translate"),l(),T(),y(21,17),M(22,dn,7,3,"div",18),T(),y(23,19),M(24,mn,7,3,"div",18)(25,un,7,3,"div",18),a(26,"div",20)(27,"a",21),v("click",function(){return u(s),f(t.onActionButtonModuleList(t.tableRowSelected))}),a(28,"mat-icon"),d(29,"view_module"),l()(),a(30,"p",22),d(31),h(32,"translate"),l()(),a(33,"div",20)(34,"a",21),v("click",function(){return u(s),f(t.onActionButtonSiteList(t.tableRowSelected))}),b(35,"i",23),l(),a(36,"p",22),d(37),h(38,"translate"),l()(),T(),y(39,24),a(40,"app-cms-search-list",25),R("optionsChange",function(c){return u(s),A(t.optionsSearch,c)||(t.optionsSearch=c),f(c)}),l(),a(41,"app-cms-statist-list",25),R("optionsChange",function(c){return u(s),A(t.optionsStatist,c)||(t.optionsStatist=c),f(c)}),l(),T(),y(42,26),a(43,"mat-table",27,0),v("matSortChange",function(){u(s);let c=D(44);return f(t.onTableSortData(c))}),M(45,fn,1,2,"mat-row",28),y(46,29),M(47,Cn,3,3,"mat-header-cell",30)(48,hn,2,1,"mat-cell",31),T(),y(49,32),M(50,gn,2,1,"mat-header-cell",30)(51,_n,2,1,"mat-cell",31),T(),y(52,33),M(53,vn,2,1,"mat-header-cell",30)(54,Mn,2,1,"mat-cell",31),T(),y(55,34),M(56,bn,2,1,"mat-header-cell",30)(57,In,4,5,"mat-cell",31),T(),y(58,35),M(59,yn,2,1,"mat-header-cell",30)(60,Tn,4,5,"mat-cell",31),T(),y(61,36),M(62,En,2,1,"mat-header-cell",30)(63,An,5,7,"mat-cell",37),T(),y(64,38),M(65,Rn,2,1,"mat-header-cell",30)(66,Dn,3,4,"mat-cell",31),T(),y(67,39),M(68,Un,2,1,"mat-header-cell",30)(69,Gn,3,3,"mat-cell",31),T(),y(70,40),M(71,xn,2,1,"mat-header-cell",30)(72,kn,3,3,"mat-cell",31),T(),y(73,41),M(74,Ln,2,1,"mat-header-cell",30)(75,Vn,3,3,"mat-cell",31),T(),y(76,42),M(77,Bn,2,1,"mat-header-cell",30)(78,On,3,6,"mat-cell",43),T(),y(79,44),M(80,Fn,3,3,"mat-header-cell",45)(81,Nn,6,1,"mat-cell",46),T(),M(82,Pn,1,0,"mat-header-row",47)(83,Hn,1,2,"mat-row",48),y(84,49),M(85,qn,22,34,"mat-cell",31),T(),l(),T(),y(86,50),a(87,"mat-paginator",51,1),v("page",function(c){return u(s),f(t.onTablePageingData(c))}),l(),T(),l()}i&2&&(p("ngIf",t.requestLinkUserId>0),r(),p("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey","userclaim.content.list"),w("optionActionGuideNoticeDisplay",t.viewGuideNotice),p("optionTreeDisplay",t.requestLinkUserClaimTypeId===0)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",(t.tableRowSelected==null||t.tableRowSelected.title==null?null:t.tableRowSelected.title.length)>0?t.tableRowSelected==null?null:t.tableRowSelected.title:t.tableRowSelected==null?null:t.tableRowSelected.id),r(6),p("ngIf",t.requestLinkUserClaimTypeId>0),r(4),W("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),r(3),p("checked",t.optionsSearch.data.show),r(),g("",_(16,30,"ACTION.SEARCH")," "),r(3),p("checked",t.optionsStatist.data.show),r(),g("",_(20,32,"ACTION.STATIST")," "),r(3),p("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessAddRow),r(2),p("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),r(),p("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),r(6),g(" ",_(32,34,"ACTION.MODULES")," "),r(6),g(" ",_(38,36,"ACTION.SITES")," "),r(3),w("options",t.optionsSearch),r(),w("options",t.optionsStatist),r(2),p("dataSource",t.tableSource),r(2),p("matRowDefColumns",je(38,nn)),r(37),p("matHeaderRowDef",t.tabledisplayedColumns),r(),p("matRowDefColumns",t.tabledisplayedColumns),r(4),p("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",je(39,an)))},dependencies:[Fe,H,Je,xe,Se,Y,at,lt,st,Ve,ct,pt,dt,ut,ht,ft,mt,gt,Ct,St,_t,vt,yt,Tt,Et,wt,At,mr,uo,Nt,q,pr,Kt,rr,sr,cr,Rt,Dt,Wt],encapsulation:2});var kt=ni;var Wn=["*"];function Qn(o,n){if(o&1&&(a(0,"label",12),d(1),l()),o&2){let e=C();p("for",Ke("app-cms-site-selector-",e.id)),r(),E(e.optionLabel)}}function zn(o,n){if(o&1&&(a(0,"mat-option",13)(1,"span"),d(2),l()()),o&2){let e=n.$implicit,i=C();p("value",e)("disabled",i.optionDisabled),r(2),E(i.displayOption(e))}}function Kn(o,n){o&1&&b(0,"i",14)}function Jn(o,n){o&1&&b(0,"i",15)}function Yn(o,n){if(o&1){let e=I();a(0,"i",16),v("click",function(){u(e);let t=C();return f(t.onActionSelectClear())}),l()}}function Xn(o,n){o&1&&(a(0,"em"),d(1),h(2,"translate"),l()),o&2&&(r(),g("(",_(2,1,"TITLE.Necessary"),")"))}var Ut=class Ut{constructor(n,e,i,t,s,m){this.coreEnumService=n;this.cmsToastrService=e;this.cdr=i;this.publicHelper=t;this.translate=s;this.categoryService=m;this.id=++Ut.nextId;this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new x;this.dataModelSelect=new J;this.formControl=new $e;this.optionDisabled=!1;this.optionRequired=!1;this.optionSelectFirstItem=!1;this.optionPlaceholder="";this.optionLabel="";this.optionChange=new re;this.optionReload=()=>this.onActionButtonReload();this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(n){this.onActionSelectForce(n)}ngOnInit(){this.loadOptions(),(!this.optionLabel||this.optionLabel.length==0&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder)}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(xi(""),Ui(1500),Gi(),ki(n=>typeof n=="string"||typeof n=="number"?this.DataGetAll(n||""):[]))}displayFn(n){return n?n.titleML:void 0}displayOption(n){return n?n.titleML:void 0}DataGetAll(n){return X(this,null,function*(){let e=new L;e.rowPerPage=20,e.accessLoad=!0;let i=new P;i.propertyName="Title",i.value=n,i.searchType=Xe.Contains,i.clauseType=Ye.Or,e.filters.push(i),n&&typeof+n=="number"&&+n>0&&(i=new P,i.propertyName="Id",i.value=n,i.searchType=Xe.Equal,i.clauseType=Ye.Or,e.filters.push(i));let t=this.constructor.name+"main";return this.translate.get("MESSAGE.Receiving_information").subscribe(s=>{this.publicHelper.processService.processStart(t,s,this.constructorInfoAreaId)}),yield Ri(this.categoryService.ServiceGetAll(e)).then(s=>(this.dataModelResult=s,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||this.dataModelSelect.id<=0)&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0])},1e3),this.onActionSelect(this.dataModelResult.listItems[0])),this.publicHelper.processService.processStop(t),s.listItems))})}onActionSelect(n){this.optionDisabled||(this.dataModelSelect=n,this.optionChange.emit(this.dataModelSelect))}onActionSelectClear(){this.optionDisabled||(this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null))}push(n){return this.filteredOptions.pipe(Di(e=>(e.find(i=>i.id===n.id)||e.push(n),e)))}onActionSelectForce(n){if(typeof n=="number"&&n>0){if(this.dataModelSelect&&this.dataModelSelect.id===n)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(e=>e.id===n)){let e=this.dataModelResult.listItems.find(i=>i.id===n);this.dataModelSelect=e,this.formControl.setValue(e);return}this.categoryService.ServiceGetOneById(n).subscribe({next:e=>{e.isSuccess?(this.filteredOptions=this.push(e.item),this.dataModelSelect=e.item,this.formControl.setValue(e.item),this.optionChange.emit(e.item)):this.cmsToastrService.typeErrorMessage(e.errorMessage)}});return}if(typeof n==typeof J){this.filteredOptions=this.push(n),this.dataModelSelect=n,this.formControl.setValue(n);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new J,this.loadOptions()}};Ut.nextId=0,Ut.\u0275fac=function(e){return new(e||Ut)(S(j),S(N),S(B),S(F),S(O),S(ne))},Ut.\u0275cmp=V({type:Ut,selectors:[["app-core-userclaimgroup-selector"]],inputs:{optionDisabled:"optionDisabled",optionRequired:"optionRequired",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionLabel:"optionLabel",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange"},standalone:!1,ngContentSelectors:Wn,decls:15,vars:24,consts:[["matauto","matAutocomplete"],[1,"input-style","has-borders","has-icon","input-style-always-active","validate-field","mb-4","loader-container"],[3,"optionsInfoAreaId"],["class","color-highlight",3,"for",4,"ngIf"],["type","text","aria-label","Assignee","matInput","",3,"placeholder","formControl","matAutocomplete","required","id"],[3,"optionSelected","displayWith"],[3,"value","disabled",4,"ngFor","ngForOf"],["class","fa fa-info invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],["class","fa fa-times action color-red-dark",3,"click",4,"ngIf"],[1,"fa","fa-rotate-right","action","color-green-dark",2,"margin-left","20px",3,"click","title"],[4,"ngIf"],[1,"color-highlight",3,"for"],[3,"value","disabled"],[1,"fa","fa-info","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"fa","fa-times","action","color-red-dark",3,"click"]],template:function(e,i){if(e&1){let t=I();Bi(),a(0,"div",1),b(1,"app-progress-spinner",2),M(2,Qn,2,3,"label",3),b(3,"input",4),a(4,"mat-autocomplete",5,0),v("optionSelected",function(m){return u(t),f(i.onActionSelect(m.option.value))}),M(6,zn,3,3,"mat-option",6),h(7,"async"),l(),M(8,Kn,1,0,"i",7)(9,Jn,1,0,"i",8)(10,Yn,1,0,"i",9),a(11,"i",10),h(12,"translate"),v("click",function(){return u(t),f(i.onActionButtonReload())}),l(),M(13,Xn,3,3,"em",11),Oi(14),l()}if(e&2){let t=D(5);r(),p("optionsInfoAreaId",i.constructorInfoAreaId),r(),p("ngIf",(i.optionLabel==null?null:i.optionLabel.length)>0),r(),p("placeholder",U(i.optionPlaceholder))("id",Ke("app-cms-site-selector-",i.id))("formControl",i.formControl)("matAutocomplete",t)("required",i.optionRequired),ze("disabled",i.optionDisabled?!0:null),r(),p("displayWith",i.displayFn),r(2),p("ngForOf",_(7,20,i.filteredOptions)),r(2),p("ngIf",!i.formControl.valid),r(),p("ngIf",i.optionRequired&&i.formControl.valid),r(),p("ngIf",(i.dataModelSelect==null?null:i.dataModelSelect.id)>0),r(),W("rotation360",i.publicHelper.processService.process.inRunArea[i.constructorInfoAreaId]),p("title",U(_(12,22,"ACTION.RELOAD"))),r(2),p("ngIf",i.optionRequired&&(!i.dataModelSelect||!i.dataModelSelect.id||i.dataModelSelect.id<=0))}},dependencies:[Z,H,we,le,Ge,Hi,ji,qi,Wi,Y,Q,Nt,q],encapsulation:2});var ai=Ut;var $n=["vform"];function ea(o,n){if(o&1){let e=I();a(0,"app-cms-enum-record-status-selector",15),R("modelChange",function(t){u(e);let s=C();return A(s.dataModel.recordStatus,t)||(s.dataModel.recordStatus=t),f(t)}),l()}if(o&2){let e=C();w("model",e.dataModel.recordStatus),p("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function ta(o,n){if(o&1){let e=I();a(0,"mat-slide-toggle",16),R("ngModelChange",function(t){u(e);let s=C();return A(s.dataModel.isRequired,t)||(s.dataModel.isRequired=t),f(t)}),d(1),l()}if(o&2){let e=C();w("ngModel",e.dataModel.isRequired),p("disabled",!(e.fieldsInfo.isRequired!=null&&e.fieldsInfo.isRequired.accessEditField)),r(),g(" ",e.fieldsInfo.isRequired==null?null:e.fieldsInfo.isRequired.fieldTitle," ")}}function ia(o,n){if(o&1&&(a(0,"div",17),b(1,"i",21),a(2,"span",22),d(3),l()()),o&2){let e=C(2);r(3),E(e.formInfo.submitResultMessage)}}function oa(o,n){if(o&1&&(a(0,"div",18),b(1,"i",23),a(2,"span",22),d(3),l()()),o&2){let e=C(2);r(3),E(e.formInfo.submitResultMessage)}}function ra(o,n){if(o&1&&(a(0,"div",19),b(1,"i",24),a(2,"span",22),d(3),l()()),o&2){let e=C(2);r(3),E(e.formInfo.submitResultMessage)}}function na(o,n){if(o&1&&(a(0,"div",20),b(1,"i",25),a(2,"span",22),d(3),l()()),o&2){let e=C(2);r(3),E(e.formInfo.submitResultMessage)}}function aa(o,n){if(o&1&&Bt(0,ia,4,1,"div",17)(1,oa,4,1,"div",18)(2,ra,4,1,"div",19)(3,na,4,1,"div",20),o&2){let e,i=C();Ot((e=i.formInfo.submitResult)==="success"?0:e==="error"?1:e==="warning"?2:3)}}function la(o,n){if(o&1){let e=I();a(0,"div",26)(1,"button",27),v("click",function(){u(e);let t=C();return f(t.onFormCancel())}),b(2,"i",28),d(3),h(4,"translate"),l(),a(5,"button",29),b(6,"i",30),d(7),h(8,"translate"),l()()}if(o&2){C();let e=D(9);r(3),g(" ",_(4,3,"ACTION.CANCEL")," "),r(2),p("disabled",!e.form.valid),r(2),g(" ",_(8,5,"ACTION.SAVE")," ")}}var li=class li extends Qt{constructor(e,i,t,s,m,c,G,ie){super(s,new ae,m,ie);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.coreUserClaimGroupDetailService=s;this.publicHelper=m;this.cmsToastrService=c;this.cdr=G;this.translate=ie;this.requestLinkUserClaimGroupId=0;this.requestLinkUserClaimTypeId=0;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new x;this.dataModel=new ae;this.formInfo=new Te;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,e&&(this.requestLinkUserClaimGroupId=+e.linkUserClaimGroupId||0,this.requestLinkUserClaimTypeId=+e.linkUserClaimTypeId||0),this.requestLinkUserClaimGroupId>0&&(this.dataModel.linkUserClaimGroupId=this.requestLinkUserClaimGroupId),this.requestLinkUserClaimTypeId>0&&(this.dataModel.linkUserClaimTypeId=this.requestLinkUserClaimTypeId),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess()}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.coreUserClaimGroupDetailService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectClaimGroup(e){if(!e||e.id<=0){this.translate.get(["MESSAGE.Specify_the_category","MESSAGE.group_of_information_documents_is_not_clear"]).subscribe(i=>{this.cmsToastrService.typeErrorMessage(i["MESSAGE.Specify_the_category"],i["MESSAGE.group_of_information_documents_is_not_clear"])});return}this.dataModel.linkUserClaimGroupId=e.id}onActionSelectClaimType(e){if(!e||e.id<=0){this.translate.get(["MESSAGE.Specify_the_category","MESSAGE.type_of_information_documents_is_not_clear"]).subscribe(i=>{this.cmsToastrService.typeErrorMessage(i["MESSAGE.Specify_the_category"],i["MESSAGE.type_of_information_documents_is_not_clear"])});return}this.dataModel.linkUserClaimTypeId=e.id}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};li.\u0275fac=function(i){return new(i||li)(S(Le),S(ke),S(j),S(Ee),S(F),S(N),S(B),S(O))},li.\u0275cmp=V({type:li,selectors:[["app-core-userclaimgroupdetail-add"]],viewQuery:function(i,t){if(i&1&&Me($n,5),i&2){let s;be(s=Ie())&&(t.formGroup=s.first)}},standalone:!1,features:[z],decls:23,vars:19,consts:[["vform","ngForm"],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionChange","optionSelectForce","optionPlaceholder","optionDisabled"],[1,"ntk-full-width"],["name","dataModel.isRequired",3,"ngModel","disabled","ngModelChange",4,"ngIf"],[1,"ntk-cms-html-card-message"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["name","dataModel.isRequired",3,"ngModelChange","ngModel","disabled"],[1,"chip","chip-s","bg-green-dark"],[1,"chip","chip-s","bg-red-dark"],[1,"chip","chip-s","bg-yellow-dark"],[1,"chip","chip-s","bg-gray-dark"],[1,"fa","fa-check","color-white","bg-green-light"],[1,"color-white"],[1,"fa","fa-check","color-white","bg-red-light"],[1,"fa","fa-check","color-white","bg-yellow-light"],[1,"fa","fa-check","color-white","bg-gray-light"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=I();a(0,"div",1),b(1,"app-progress-spinner",2),a(2,"div",3)(3,"p",4),d(4),l(),a(5,"p"),d(6),h(7,"translate"),l(),a(8,"form",5,0),v("ngSubmit",function(){return u(s),f(t.onFormSubmit())}),b(10,"div",6),a(11,"div",7),M(12,ea,1,5,"app-cms-enum-record-status-selector",8),a(13,"app-core-userclaimgroup-selector",9),h(14,"translate"),v("optionChange",function(c){return u(s),f(t.onActionSelectClaimGroup(c))}),l(),a(15,"app-core-userclaimtype-selector",9),h(16,"translate"),v("optionChange",function(c){return u(s),f(t.onActionSelectClaimType(c))}),l(),a(17,"div",10),M(18,ta,2,3,"mat-slide-toggle",11),l()(),a(19,"div",12),Bt(20,aa,4,1),l(),a(21,"div",13),M(22,la,9,7,"div",14),l()()()()}i&2&&(r(),p("optionsInfoAreaId",t.constructorInfoAreaId),r(3),g(" ",t.formInfo.formTitle," "),r(2),g(" ",_(7,13,"TITLE.Be_Careful_When_Entering_Information")," "),r(6),p("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),r(),p("optionSelectForce",t.dataModel.linkUserClaimGroupId)("optionPlaceholder",_(14,15,"TITLE.DOCUMENT_GROUP"))("optionDisabled",!(t.fieldsInfo.linkUserClaimGroupId!=null&&t.fieldsInfo.linkUserClaimGroupId.accessEditField)),r(2),p("optionSelectForce",t.dataModel.linkUserClaimTypeId)("optionPlaceholder",_(16,17,"TITLE.DOCUMENT_CATEGORY"))("optionDisabled",!(t.fieldsInfo.linkUserClaimTypeId!=null&&t.fieldsInfo.linkUserClaimTypeId.accessEditField)),r(3),p("ngIf",t.fieldsInfo.isRequired==null?null:t.fieldsInfo.isRequired.accessWatchField),r(2),Ot((t.formInfo==null||t.formInfo.submitResultMessage==null?null:t.formInfo.submitResultMessage.length)>0?20:-1),r(2),p("ngIf",t.formInfo.submitButtonEnabled))},dependencies:[H,Ue,le,Ae,De,Re,Ve,Be,Q,ai,lo,q],encapsulation:2});var fo=li;var sa=["vform"];function ca(o,n){if(o&1){let e=I();a(0,"app-cms-enum-record-status-selector",15),R("modelChange",function(t){u(e);let s=C();return A(s.dataModel.recordStatus,t)||(s.dataModel.recordStatus=t),f(t)}),l()}if(o&2){let e=C();w("model",e.dataModel.recordStatus),p("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function pa(o,n){if(o&1){let e=I();a(0,"mat-slide-toggle",16),R("ngModelChange",function(t){u(e);let s=C();return A(s.dataModel.isRequired,t)||(s.dataModel.isRequired=t),f(t)}),d(1),l()}if(o&2){let e=C();w("ngModel",e.dataModel.isRequired),p("disabled",!(e.fieldsInfo.isRequired!=null&&e.fieldsInfo.isRequired.accessEditField)),r(),g(" ",e.fieldsInfo.isRequired==null?null:e.fieldsInfo.isRequired.fieldTitle," ")}}function da(o,n){if(o&1&&(a(0,"div",17),b(1,"i",21),a(2,"span",22),d(3),l()()),o&2){let e=C(2);r(3),E(e.formInfo.submitResultMessage)}}function ma(o,n){if(o&1&&(a(0,"div",18),b(1,"i",23),a(2,"span",22),d(3),l()()),o&2){let e=C(2);r(3),E(e.formInfo.submitResultMessage)}}function ua(o,n){if(o&1&&(a(0,"div",19),b(1,"i",24),a(2,"span",22),d(3),l()()),o&2){let e=C(2);r(3),E(e.formInfo.submitResultMessage)}}function fa(o,n){if(o&1&&(a(0,"div",20),b(1,"i",25),a(2,"span",22),d(3),l()()),o&2){let e=C(2);r(3),E(e.formInfo.submitResultMessage)}}function Ca(o,n){if(o&1&&Bt(0,da,4,1,"div",17)(1,ma,4,1,"div",18)(2,ua,4,1,"div",19)(3,fa,4,1,"div",20),o&2){let e,i=C();Ot((e=i.formInfo.submitResult)==="success"?0:e==="error"?1:e==="warning"?2:3)}}function Sa(o,n){if(o&1){let e=I();a(0,"div",26)(1,"button",27),v("click",function(){u(e);let t=C();return f(t.onFormCancel())}),b(2,"i",28),d(3),h(4,"translate"),l(),a(5,"button",29),b(6,"i",30),d(7),h(8,"translate"),l()()}if(o&2){C();let e=D(9);r(3),g(" ",_(4,3,"ACTION.CANCEL")," "),r(2),p("disabled",!e.form.valid),r(2),g(" ",_(8,5,"ACTION.SAVE")," ")}}var si=class si extends zt{constructor(e,i,t,s,m,c,G,ie){super(s,new ae,m,ie);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.coreUserClaimGroupDetailService=s;this.publicHelper=m;this.cmsToastrService=c;this.cdr=G;this.translate=ie;this.requestModel=new ae;this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new Ht;this.dataModel=new ae;this.formInfo=new Te;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,e&&(this.requestModel=e.model),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.requestModel&&this.requestModel.linkUserClaimTypeId>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(s=>{this.formInfo.submitResultMessage=s}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(s=>{this.publicHelper.processService.processStart(e,s,this.constructorInfoAreaId)});let i=new L,t=new P;t.propertyName="LinkUserClaimGroupId",t.value=this.requestModel.linkUserClaimGroupId,i.filters.push(t),t=new P,t.propertyName="LinkUserClaimTypeId",t.value=this.requestModel.linkUserClaimTypeId,i.filters.push(t),this.coreUserClaimGroupDetailService.setAccessLoad(),this.coreUserClaimGroupDetailService.setAccessDataType(Pt.Editor),this.coreUserClaimGroupDetailService.ServiceGetAll(i).subscribe({next:s=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(s.access),s.isSuccess&&s.listItems.length>0?(this.dataModel=s.listItems[0],this.formInfo.formTitle=this.formInfo.formTitle+" "+this.dataModel.linkUserClaimGroupId+"<-->"+this.dataModel.linkUserClaimTypeId,this.formInfo.submitResultMessage=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(m=>{this.formInfo.submitResultMessage=m}),this.formInfo.submitResultMessage=s.errorMessage,this.cmsToastrService.typeErrorMessage(s.errorMessage)),this.publicHelper.processService.processStop(e)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.coreUserClaimGroupDetailService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectClaimGroup(e){if(!e||e.id<=0){this.translate.get(["MESSAGE.Specify_the_category","MESSAGE.group_of_information_documents_is_not_clear"]).subscribe(i=>{this.cmsToastrService.typeErrorMessage(i["MESSAGE.Specify_the_category"],i["MESSAGE.group_of_information_documents_is_not_clear"])});return}this.dataModel.linkUserClaimGroupId=e.id}onActionSelectClaimType(e){if(!e||e.id<=0){this.translate.get(["MESSAGE.Specify_the_category","MESSAGE.type_of_information_documents_is_not_clear"]).subscribe(i=>{this.cmsToastrService.typeErrorMessage(i["MESSAGE.Specify_the_category"],i["MESSAGE.type_of_information_documents_is_not_clear"])});return}this.dataModel.linkUserClaimTypeId=e.id}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};si.\u0275fac=function(i){return new(i||si)(S(Le),S(ke),S(j),S(Ee),S(F),S(N),S(B),S(O))},si.\u0275cmp=V({type:si,selectors:[["app-core-userclaimgroupdetail-edit"]],viewQuery:function(i,t){if(i&1&&Me(sa,5),i&2){let s;be(s=Ie())&&(t.formGroup=s.first)}},standalone:!1,features:[z],decls:23,vars:19,consts:[["vform","ngForm"],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionChange","optionSelectForce","optionPlaceholder","optionDisabled"],[1,"ntk-full-width"],["name","dataModel.isRequired",3,"ngModel","disabled","ngModelChange",4,"ngIf"],[1,"ntk-cms-html-card-message"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["name","dataModel.isRequired",3,"ngModelChange","ngModel","disabled"],[1,"chip","chip-s","bg-green-dark"],[1,"chip","chip-s","bg-red-dark"],[1,"chip","chip-s","bg-yellow-dark"],[1,"chip","chip-s","bg-gray-dark"],[1,"fa","fa-check","color-white","bg-green-light"],[1,"color-white"],[1,"fa","fa-check","color-white","bg-red-light"],[1,"fa","fa-check","color-white","bg-yellow-light"],[1,"fa","fa-check","color-white","bg-gray-light"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=I();a(0,"div",1),b(1,"app-progress-spinner",2),a(2,"div",3)(3,"p",4),d(4),l(),a(5,"p"),d(6),h(7,"translate"),l(),a(8,"form",5,0),v("ngSubmit",function(){return u(s),f(t.onFormSubmit())}),b(10,"div",6),a(11,"div",7),M(12,ca,1,5,"app-cms-enum-record-status-selector",8),a(13,"app-core-userclaimgroup-selector",9),h(14,"translate"),v("optionChange",function(c){return u(s),f(t.onActionSelectClaimGroup(c))}),l(),a(15,"app-core-userclaimtype-selector",9),h(16,"translate"),v("optionChange",function(c){return u(s),f(t.onActionSelectClaimType(c))}),l(),a(17,"div",10),M(18,pa,2,3,"mat-slide-toggle",11),l()(),a(19,"div",12),Bt(20,Ca,4,1),l(),a(21,"div",13),M(22,Sa,9,7,"div",14),l()()()()}i&2&&(r(),p("optionsInfoAreaId",t.constructorInfoAreaId),r(3),g(" ",t.formInfo.formTitle," "),r(2),g(" ",_(7,13,"TITLE.Be_Careful_When_Entering_Information")," "),r(6),p("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),r(),p("optionSelectForce",t.dataModel.linkUserClaimGroupId)("optionPlaceholder",_(14,15,"TITLE.DOCUMENT_GROUP"))("optionDisabled",!(t.fieldsInfo.linkUserClaimGroupId!=null&&t.fieldsInfo.linkUserClaimGroupId.accessEditField)),r(2),p("optionSelectForce",t.dataModel.linkUserClaimTypeId)("optionPlaceholder",_(16,17,"TITLE.DOCUMENT_CATEGORY"))("optionDisabled",!(t.fieldsInfo.linkUserClaimTypeId!=null&&t.fieldsInfo.linkUserClaimTypeId.accessEditField)),r(3),p("ngIf",t.fieldsInfo.isRequired==null?null:t.fieldsInfo.isRequired.accessWatchField),r(2),Ot((t.formInfo==null||t.formInfo.submitResultMessage==null?null:t.formInfo.submitResultMessage.length)>0?20:-1),r(2),p("ngIf",t.formInfo.submitButtonEnabled))},dependencies:[H,Ue,le,Ae,De,Re,Ve,Be,Q,ai,lo,q],encapsulation:2});var Co=si;var ha=["*"];function ga(o,n){if(o&1&&(a(0,"label",14),d(1),l()),o&2){let e=C();p("for",Ke("app-cms-site-selector-",e.id)),r(),E(e.optionLabel)}}function _a(o,n){if(o&1&&(b(0,"img",15),h(1,"cmsthumbnail")),o&2){let e=C();p("src",U(_(1,2,e.dataModelSelect==null?null:e.dataModelSelect.linkMainImageIdSrc)),ue)}}function va(o,n){if(o&1&&(b(0,"img",15),h(1,"cmsthumbnail")),o&2){let e=C().$implicit;p("src",U(_(1,2,e.linkMainImageIdSrc)),ue)}}function Ma(o,n){if(o&1&&(a(0,"mat-option",16),M(1,va,2,4,"img",5),a(2,"span"),d(3),l()()),o&2){let e=n.$implicit,i=C();p("value",e)("disabled",i.optionDisabled),r(),p("ngIf",e.linkMainImageIdSrc),r(2),E(i.displayOption(e))}}function ba(o,n){o&1&&b(0,"i",17)}function Ia(o,n){o&1&&b(0,"i",18)}function ya(o,n){if(o&1){let e=I();a(0,"i",19),v("click",function(){u(e);let t=C();return f(t.onActionSelectClear())}),l()}}function Ta(o,n){o&1&&(a(0,"em"),d(1),h(2,"translate"),l()),o&2&&(r(),g("(",_(2,1,"TITLE.Necessary"),")"))}var Gt=class Gt{constructor(n,e,i,t,s){this.coreEnumService=n;this.translate=e;this.cdr=i;this.publicHelper=t;this.categoryService=s;this.id=++Gt.nextId;this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new x;this.dataModelSelect=new Ni;this.formControl=new $e;this.optionDisabled=!1;this.optionSelectFirstItem=!1;this.optionRequired=!1;this.optionPlaceholder="";this.optionLabel="";this.optionChange=new re;this.optionReload=()=>this.onActionButtonReload();this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(n){this.onActionSelectForce(n)}ngOnInit(){this.loadOptions()}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(xi(""),Ui(1500),Gi(),ki(n=>typeof n=="string"||typeof n=="number"?this.DataGetAll(n):this.DataGetAll("")))}displayFn(n){return n?n.title:void 0}displayOption(n){return n?n.title:void 0}DataGetAll(n){return X(this,null,function*(){let e=new L;if(e.rowPerPage=20,e.accessLoad=!0,n&&n.length>0){let t=new P;t=new P,t.propertyName="SubDomain",t.value=n,t.searchType=Xe.Contains,t.clauseType=Ye.Or,e.filters.push(t),t=new P,t.propertyName="Domain",t.value=n,t.searchType=Xe.Contains,t.clauseType=Ye.Or,e.filters.push(t),t=new P,t.propertyName="Title",t.value=n,t.searchType=Xe.Contains,t.clauseType=Ye.Or,e.filters.push(t),n&&typeof+n=="number"&&+n>0&&(t=new P,t.propertyName="Id",t.value=n,t.searchType=Xe.Equal,t.clauseType=Ye.Or,e.filters.push(t))}let i=this.constructor.name+"main";return this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructorInfoAreaId)}),yield Ri(this.categoryService.ServiceGetAll(e)).then(t=>(this.dataModelResult=t,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||this.dataModelSelect.id<=0)&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0])},1e3),this.onActionSelect(this.dataModelResult.listItems[0])),this.publicHelper.processService.processStop(i),t.listItems))})}onActionSelect(n){this.optionDisabled||(this.dataModelSelect=n,this.optionChange.emit(this.dataModelSelect))}onActionSelectClear(){this.optionDisabled||(this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null))}push(n){return this.filteredOptions.pipe(Di(e=>(e.find(i=>i.id===n.id)||e.push(n),e)))}onActionSelectForce(n){if(typeof n=="number"&&n>0){if(this.dataModelSelect&&this.dataModelSelect.id===n)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(e=>e.id===n)){let e=this.dataModelResult.listItems.find(i=>i.id===n);this.dataModelSelect=e,this.formControl.setValue(e);return}this.categoryService.ServiceGetOneById(n).subscribe({next:e=>{e.isSuccess&&(this.filteredOptions=this.push(e.item),this.dataModelSelect=e.item,this.formControl.setValue(e.item),this.optionChange.emit(e.item))}});return}if(typeof n==typeof Ni){this.filteredOptions=this.push(n),this.dataModelSelect=n,this.formControl.setValue(n);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new Ni,this.loadOptions()}};Gt.nextId=0,Gt.\u0275fac=function(e){return new(e||Gt)(S(j),S(O),S(B),S(F),S(qo))},Gt.\u0275cmp=V({type:Gt,selectors:[["app-cms-application-selector"]],inputs:{optionDisabled:"optionDisabled",optionSelectFirstItem:"optionSelectFirstItem",optionRequired:"optionRequired",optionPlaceholder:"optionPlaceholder",optionLabel:"optionLabel",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange"},standalone:!1,ngContentSelectors:ha,decls:18,vars:25,consts:[["matauto","matAutocomplete"],[1,"input-style","has-borders","has-icon","input-style-always-active","validate-field","mb-4","loader-container"],[3,"optionsInfoAreaId"],["class","color-highlight",3,"for",4,"ngIf"],["matPrefix",""],["style","vertical-align: middle","class","ntk-hover-zoom","aria-hidden","","height","25","width","25",3,"src",4,"ngIf"],["type","text","aria-label","Assignee","matInput","",3,"placeholder","formControl","matAutocomplete","required","id"],[3,"optionSelected","displayWith"],[3,"value","disabled",4,"ngFor","ngForOf"],["class","fa fa-info invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],["class","fa fa-times action color-red-dark",3,"click",4,"ngIf"],[1,"fa","fa-rotate-right","action","color-green-dark",2,"margin-left","20px",3,"click","title"],[4,"ngIf"],[1,"color-highlight",3,"for"],["aria-hidden","","height","25","width","25",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"value","disabled"],[1,"fa","fa-info","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"fa","fa-times","action","color-red-dark",3,"click"]],template:function(e,i){if(e&1){let t=I();Bi(),a(0,"div",1),b(1,"app-progress-spinner",2),M(2,ga,2,3,"label",3),a(3,"span",4),M(4,_a,2,4,"img",5),d(5," \xA0"),l(),b(6,"input",6),a(7,"mat-autocomplete",7,0),v("optionSelected",function(m){return u(t),f(i.onActionSelect(m.option.value))}),M(9,Ma,4,4,"mat-option",8),h(10,"async"),l(),M(11,ba,1,0,"i",9)(12,Ia,1,0,"i",10)(13,ya,1,0,"i",11),a(14,"i",12),h(15,"translate"),v("click",function(){return u(t),f(i.onActionButtonReload())}),l(),M(16,Ta,3,3,"em",13),Oi(17),l()}if(e&2){let t=D(8);r(),p("optionsInfoAreaId",i.constructor.name),r(),p("ngIf",(i.optionLabel==null?null:i.optionLabel.length)>0),r(2),p("ngIf",i.dataModelSelect&&(i.dataModelSelect==null?null:i.dataModelSelect.linkMainImageIdSrc)),r(2),p("placeholder",U(i.optionPlaceholder))("id",Ke("app-cms-site-selector-",i.id))("formControl",i.formControl)("matAutocomplete",t)("required",i.optionRequired),ze("disabled",i.optionDisabled?!0:null),r(),p("displayWith",i.displayFn),r(2),p("ngForOf",_(10,21,i.filteredOptions)),r(2),p("ngIf",!i.formControl.valid),r(),p("ngIf",i.optionRequired&&i.formControl.valid),r(),p("ngIf",(i.dataModelSelect==null?null:i.dataModelSelect.id)>0),r(),W("rotation360",i.publicHelper.processService.process.inRunArea[i.constructorInfoAreaId]),p("title",U(_(15,23,"ACTION.RELOAD"))),r(2),p("ngIf",i.optionRequired&&(!i.dataModelSelect||!i.dataModelSelect.id||i.dataModelSelect.id<=0))}},dependencies:[Z,H,we,le,Ge,Hi,ji,qi,Wi,Qo,Y,Q,Nt,q,bt],encapsulation:2});var ci=Gt;var Ra=["vform"];function Da(o,n){if(o&1){let e=I();a(0,"app-cms-enum-record-status-selector",23),R("modelChange",function(t){u(e);let s=C();return A(s.dataModel.recordStatus,t)||(s.dataModel.recordStatus=t),f(t)}),l()}if(o&2){let e=C();w("model",e.dataModel.recordStatus),p("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Ua(o,n){if(o&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),h(4,"translate"),l()()),o&2){let e=C();r(),g(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," is "),r(2),E(_(4,2,"MESSAGE.required"))}}function Ga(o,n){if(o&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),h(4,"translate"),l()()),o&2){let e=C();r(),g(" ",e.fieldsInfo.titleResourceLanguage==null?null:e.fieldsInfo.titleResourceLanguage.fieldTitle," is "),r(2),E(_(4,2,"MESSAGE.required"))}}function xa(o,n){if(o&1&&(a(0,"option",24),d(1),l()),o&2){let e=n.$implicit;p("value",e.value),r(),g(" ",e.description," ")}}function ka(o,n){o&1&&(a(0,"mat-error"),d(1," ActionType is "),a(2,"strong"),d(3),h(4,"translate"),l()()),o&2&&(r(3),E(_(4,1,"MESSAGE.required")))}function La(o,n){if(o&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),h(4,"translate"),l()()),o&2){let e=C();r(),g(" ",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle," is "),r(2),E(_(4,2,"MESSAGE.required"))}}function Va(o,n){if(o&1){let e=I();a(0,"div",25)(1,"button",26),v("click",function(){u(e);let t=C();return f(t.onFormCancel())}),b(2,"i",27),d(3),h(4,"translate"),l(),a(5,"button",28),b(6,"i",29),d(7),h(8,"translate"),l()()}if(o&2){C();let e=D(9);r(3),g(" ",_(4,3,"ACTION.CANCEL")," "),r(2),p("disabled",!e.form.valid),r(2),g(" ",_(8,5,"ACTION.SAVE")," ")}}var pi=class pi extends Qt{constructor(e,i,t,s,m,c,G,ie){super(s,new J,m,ie);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.coreUserClaimGroupService=s;this.publicHelper=m;this.cmsToastrService=c;this.cdr=G;this.translate=ie;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new x;this.dataModel=new J;this.formInfo=new Te;this.dataModelEnumUserClaimGroupActionTypeResult=new x;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess(),this.getEnumUserClaimGroupActionType()}getEnumUserClaimGroupActionType(){this.coreEnumService.ServiceUserClaimGroupActionTypeEnum().subscribe({next:e=>{this.dataModelEnumUserClaimGroupActionTypeResult=e}})}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.coreUserClaimGroupService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectApplication(e){if(!e||e.id<=0){this.dataModel.linkApplicationId=null;return}this.dataModel.linkApplicationId=e.id}onActionSelectApplicationSource(e){if(!e||e.id<=0){this.dataModel.linkApplicationSourceId=null;return}this.dataModel.linkApplicationSourceId=e.id}onActionSelectUserGroup(e){if(!e||e.id<=0){this.dataModel.linkUserGroupId=null;return}this.dataModel.linkUserGroupId=e.id}onActionSelectSiteCategory(e){if(this.dataModel.linkSiteCategoryId=null,!e||e.id<=0){this.dataModel.linkSiteCategoryId=null;return}this.dataModel.linkSiteCategoryId=e.id}onActionSelectModuleId(e){this.dataModel.linkModuleId=null,!(!e||e.id<=0)&&(this.dataModel.linkModuleId=e.id)}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};pi.\u0275fac=function(i){return new(i||pi)(S(Le),S(ke),S(j),S(ne),S(F),S(N),S(B),S(O))},pi.\u0275cmp=V({type:pi,selectors:[["app-core-userclaimgroup-add"]],viewQuery:function(i,t){if(i&1&&Me(Ra,5),i&2){let s;be(s=Ie())&&(t.formGroup=s.first)}},standalone:!1,features:[z],decls:55,vars:57,consts:[["vform","ngForm"],["Title",""],["TitleResourceLanguage",""],["ActionType","ngModel"],["Description",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","name","dataModel.title","type","text","minlength","3","maxlength","100","id","dataModel.title","required","",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[4,"ngIf"],["for","dataModel.titleResourceLanguage",1,"color-highlight"],["matInput","","name","dataModel.titleResourceLanguage","type","text","minlength","3","maxlength","100","required","","id","dataModel.titleResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["id","dataModel.actionType","name","dataModel.actionType","required","",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[3,"optionChange","optionSelectForce","optionPlaceholder","optionDisabled"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"value"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=I();a(0,"div",5),b(1,"app-progress-spinner",6),a(2,"div",7)(3,"p",8),d(4),l(),a(5,"p"),d(6),h(7,"translate"),l(),a(8,"form",9,0),v("ngSubmit",function(){return u(s),f(t.onFormSubmit())}),M(10,Da,1,5,"app-cms-enum-record-status-selector",10),a(11,"div",11)(12,"label",12),d(13),l(),a(14,"input",13,1),R("ngModelChange",function(c){return u(s),A(t.dataModel.title,c)||(t.dataModel.title=c),f(c)}),l(),a(16,"em"),d(17),l(),M(18,Ua,5,4,"mat-error",14),l(),a(19,"div",11)(20,"label",15),d(21),l(),a(22,"input",16,2),R("ngModelChange",function(c){return u(s),A(t.dataModel.titleResourceLanguage,c)||(t.dataModel.titleResourceLanguage=c),f(c)}),l(),a(24,"em"),d(25),l(),M(26,Ga,5,4,"mat-error",14),l(),a(27,"div",11)(28,"select",17,3),R("ngModelChange",function(c){return u(s),A(t.dataModel.actionType,c)||(t.dataModel.actionType=c),f(c)}),M(30,xa,2,2,"option",18),l(),a(31,"em"),d(32),h(33,"translate"),l(),M(34,ka,5,3,"mat-error",14),l(),b(35,"hr"),a(36,"app-cms-module-selector",19),h(37,"translate"),v("optionChange",function(c){return u(s),f(t.onActionSelectModuleId(c))}),l(),a(38,"app-cms-sitecategory-selector",19),h(39,"translate"),v("optionChange",function(c){return u(s),f(t.onActionSelectSiteCategory(c))}),l(),a(40,"app-cms-usergroup-selector",19),h(41,"translate"),v("optionChange",function(c){return u(s),f(t.onActionSelectUserGroup(c))}),l(),a(42,"app-cms-application-selector",19),h(43,"translate"),v("optionChange",function(c){return u(s),f(t.onActionSelectApplication(c))}),l(),a(44,"app-cms-application-selector",19),h(45,"translate"),v("optionChange",function(c){return u(s),f(t.onActionSelectApplicationSource(c))}),l(),a(46,"div",11)(47,"label",20),d(48),l(),a(49,"textarea",21,4),R("ngModelChange",function(c){return u(s),A(t.dataModel.description,c)||(t.dataModel.description=c),f(c)}),l(),a(51,"em"),d(52),l(),M(53,La,5,4,"mat-error",14),l(),M(54,Va,9,7,"div",22),l()()()}if(i&2){let s=D(15),m=D(23),c=D(29),G=D(50);r(),p("optionsInfoAreaId",t.constructorInfoAreaId),r(3),g(" ",t.formInfo.formTitle," "),r(2),g(" ",_(7,43,"TITLE.Be_Careful_When_Entering_Information")," "),r(4),p("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),r(3),E(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),r(),p("placeholder",U(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),w("ngModel",t.dataModel.title),r(3),g("",s.value.length," / 100"),r(),p("ngIf",s.errors==null?null:s.errors.required),r(3),E(t.fieldsInfo.titleResourceLanguage==null?null:t.fieldsInfo.titleResourceLanguage.fieldTitle),r(),p("placeholder",U(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),w("ngModel",t.dataModel.titleResourceLanguage),p("disabled",!(t.fieldsInfo.titleResourceLanguage!=null&&t.fieldsInfo.titleResourceLanguage.accessAddField)),r(3),g("",m.value.length," / 100"),r(),p("ngIf",m.errors==null?null:m.errors.required),r(2),w("ngModel",t.dataModel.actionType),r(2),p("ngForOf",t.dataModelEnumUserClaimGroupActionTypeResult.listItems),r(2),E(_(33,45,"TITLE.Select_type_of_content")),r(2),p("ngIf",c.errors==null?null:c.errors.required),r(2),p("optionSelectForce",t.dataModel.linkModuleId)("optionPlaceholder",_(37,47,"TITLE.MODULE"))("optionDisabled",!(t.fieldsInfo.linkModuleId!=null&&t.fieldsInfo.linkModuleId.accessEditField)),r(2),p("optionSelectForce",t.dataModel.linkSiteCategoryId)("optionPlaceholder",_(39,49,"TITLE.SITE_CATEGORY"))("optionDisabled",!(t.fieldsInfo.linkSiteCategoryId!=null&&t.fieldsInfo.linkSiteCategoryId.accessEditField)),r(2),p("optionSelectForce",t.dataModel.linkUserGroupId)("optionPlaceholder",_(41,51,"TITLE.User_Group"))("optionDisabled",!(t.fieldsInfo.linkUserGroupId!=null&&t.fieldsInfo.linkUserGroupId.accessEditField)),r(2),p("optionSelectForce",t.dataModel.linkApplicationId)("optionPlaceholder",_(43,53,"TITLE.Application"))("optionDisabled",!(t.fieldsInfo.linkApplicationId!=null&&t.fieldsInfo.linkApplicationId.accessEditField)),r(2),p("optionSelectForce",t.dataModel.linkApplicationSourceId)("optionPlaceholder",_(45,55,"TITLE.Application_Source"))("optionDisabled",!(t.fieldsInfo.linkApplicationSourceId!=null&&t.fieldsInfo.linkApplicationSourceId.accessEditField)),r(4),E(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),r(),p("placeholder",U(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),w("ngModel",t.dataModel.description),r(3),g("",G.value.length," / 500"),r(),p("ngIf",G.errors==null?null:G.errors.required),r(),p("ngIf",t.formInfo.submitButtonEnabled)}},dependencies:[Z,H,Ue,tt,it,we,et,le,Ae,Ge,ot,rt,De,Re,nt,Y,Be,ci,no,ao,ro,Q,q],encapsulation:2});var di=pi;function Ba(o,n){if(o&1){let e=I();a(0,"li")(1,"mat-checkbox",1),v("change",function(){let t=u(e).$implicit,s=C();return f(s.onActionSelect(t))}),d(2),l()()}if(o&2){let e=n.$implicit,i=C();r(),p("checked",i.fieldsStatus.get(e.id))("disabled",i.optionDisabled),r(),g(" ",e.titleML," ")}}var mi=class mi{constructor(n,e,i,t,s,m){this.coreEnumService=n;this.categoryService=e;this.cdr=i;this.publicHelper=t;this.translate=s;this.cmsToastrService=m;this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new x;this.dataModelSelect=[];this.dataIdsSelect=[];this.formControl=new $e;this.fieldsStatus=new Map;this.optionDisabled=!1;this.optionSelectFirstItem=!1;this.optionPlaceholder="";this.optionChange=new re;this.optionSelectAdded=new re;this.optionSelectRemoved=new re;this.optionReload=()=>this.onActionButtonReload();this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(n){this.onActionSelectForce(n)}ngOnInit(){this.DataGetAll()}DataGetAll(){let n=new L;n.rowPerPage=50,n.accessLoad=!0;let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.categoryService.ServiceGetAll(n).subscribe({next:i=>{i.isSuccess?(this.dataModelResult=i,this.dataModelResult.listItems.forEach(t=>this.fieldsStatus.set(t.id,!1)),this.dataIdsSelect.forEach(t=>this.fieldsStatus.set(t,!0)),this.dataModelResult.listItems.forEach(t=>{this.fieldsStatus.get(t.id)&&this.dataModelSelect.push(t)})):this.cmsToastrService.typeErrorMessage(i.errorMessage),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelect(n){this.fieldsStatus.get(n.id)?(this.fieldsStatus.set(n.id,!1),this.optionSelectRemoved.emit(n),this.dataModelSelect.splice(this.dataModelSelect.indexOf(n),1)):(this.fieldsStatus.set(n.id,!0),this.optionSelectAdded.emit(n),this.dataModelSelect.push(n)),this.optionChange.emit(this.dataModelSelect)}onActionSelectForce(n){typeof n==typeof Array(Number)?n.forEach(e=>{this.dataIdsSelect.push(e)}):typeof n==typeof Array(ee)&&n.forEach(e=>{this.dataIdsSelect.push(e.id)}),this.dataIdsSelect.forEach(e=>this.fieldsStatus.set(e,!0))}onActionButtonReload(){this.DataGetAll()}};mi.\u0275fac=function(e){return new(e||mi)(S(j),S($),S(B),S(F),S(O),S(N))},mi.\u0275cmp=V({type:mi,selectors:[["app-core-userclaimtype-selectionlist"]],inputs:{optionDisabled:"optionDisabled",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange",optionSelectAdded:"optionSelectAdded",optionSelectRemoved:"optionSelectRemoved"},standalone:!1,decls:2,vars:1,consts:[[4,"ngFor","ngForOf"],[3,"change","checked","disabled"]],template:function(e,i){e&1&&(a(0,"ul"),M(1,Ba,3,3,"li",0),l()),e&2&&(r(),p("ngForOf",i.dataModelResult.listItems))},dependencies:[Z,Qi],encapsulation:2});var So=mi;var Fa=["vform"];function Na(o,n){if(o&1){let e=I();a(0,"app-cms-enum-record-status-selector",30),R("modelChange",function(t){u(e);let s=C();return A(s.dataModel.recordStatus,t)||(s.dataModel.recordStatus=t),f(t)}),l()}if(o&2){let e=C();w("model",e.dataModel.recordStatus),p("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Pa(o,n){if(o&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),h(4,"translate"),l()()),o&2){let e=C();r(),g(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," is "),r(2),E(_(4,2,"MESSAGE.required"))}}function Ha(o,n){if(o&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),h(4,"translate"),l()()),o&2){let e=C();r(),g(" ",e.fieldsInfo.titleResourceLanguage==null?null:e.fieldsInfo.titleResourceLanguage.fieldTitle," is "),r(2),E(_(4,2,"MESSAGE.required"))}}function qa(o,n){if(o&1&&(a(0,"option",31),d(1),l()),o&2){let e=n.$implicit;p("ngValue",e.value),r(),g(" ",e.description," ")}}function ja(o,n){o&1&&(a(0,"mat-error"),d(1," ActionType is "),a(2,"strong"),d(3),h(4,"translate"),l()()),o&2&&(r(3),E(_(4,1,"MESSAGE.required")))}function Wa(o,n){if(o&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),h(4,"translate"),l()()),o&2){let e=C();r(),g(" ",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle," is "),r(2),E(_(4,2,"MESSAGE.required"))}}function Qa(o,n){if(o&1){let e=I();a(0,"div",32)(1,"button",33),v("click",function(){u(e);let t=C();return f(t.onFormCancel())}),b(2,"i",34),d(3),h(4,"translate"),l(),a(5,"button",35),b(6,"i",36),d(7),h(8,"translate"),l()()}if(o&2){C();let e=D(9);r(3),g(" ",_(4,3,"ACTION.CANCEL")," "),r(2),p("disabled",!e.form.valid),r(2),g(" ",_(8,5,"ACTION.SAVE")," ")}}var ui=class ui extends zt{constructor(e,i,t,s,m,c,G,ie,_e){super(s,new J,c,_e);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.coreUserClaimGroupService=s;this.coreUserClaimGroupDetailService=m;this.publicHelper=c;this.cmsToastrService=G;this.cdr=ie;this.translate=_e;this.requestId=0;this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new Ht;this.dataModel=new J;this.formInfo=new Te;this.dataModelEnumUserClaimGroupActionTypeResult=new x;this.fileManagerOpenForm=!1;this.dataCoreClaimTypeIds=[];this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=+e.id||0),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.requestId>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.getEnumUserClaimGroupActionType(),this.DataGetAllCoreUserClaimType()}getEnumUserClaimGroupActionType(){this.coreEnumService.ServiceUserClaimGroupActionTypeEnum().subscribe({next:e=>{this.dataModelEnumUserClaimGroupActionTypeResult=e}})}DataGetOneContent(){if(this.requestId<=0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"DataGetOneContent";this.translate.get("MESSAGE.Receive_categories_of_documents").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.coreUserClaimGroupService.setAccessLoad(),this.coreUserClaimGroupService.setAccessDataType(Pt.Editor),this.coreUserClaimGroupService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.submitResultMessage=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Registration_of categories_of_documents").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.coreUserClaimGroupService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectApplication(e){if(!e||e.id<=0){this.dataModel.linkApplicationId=null;return}this.dataModel.linkApplicationId=e.id}onActionSelectApplicationSource(e){if(!e||e.id<=0){this.dataModel.linkApplicationSourceId=null;return}this.dataModel.linkApplicationSourceId=e.id}onActionSelectUserGroup(e){if(!e||e.id<=0){this.dataModel.linkUserGroupId=null;return}this.dataModel.linkUserGroupId=e.id}onActionSelectSiteCategory(e){if(this.dataModel.linkSiteCategoryId=null,!e||e.id<=0){this.dataModel.linkSiteCategoryId=null;return}this.dataModel.linkSiteCategoryId=e.id}onActionSelectModuleId(e){this.dataModel.linkModuleId=null,!(!e||e.id<=0)&&(this.dataModel.linkModuleId=e.id)}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}onStepClick(e,i){e.previouslySelectedIndex<e.selectedIndex&&(this.formGroup.valid||(this.cmsToastrService.typeErrorFormInvalid(),setTimeout(()=>{i.selectedIndex=e.previouslySelectedIndex},10)))}DataGetAllCoreUserClaimType(){if(this.requestId<=0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(s=>{this.formInfo.submitResultMessage=s}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"DataGetAllCoreUserClaimType";this.translate.get("MESSAGE.Receive_categories_of_documents").subscribe(s=>{this.publicHelper.processService.processStart(e,s,this.constructorInfoAreaId)});let i=new L,t=new P;t.propertyName="LinkUserClaimGroupId",t.value=this.requestId,i.filters.push(t),this.coreUserClaimGroupDetailService.ServiceGetAll(i).subscribe({next:s=>{this.dataCoreUserClaimGroupDetailModels=s.listItems;let m=[];this.dataCoreUserClaimGroupDetailModels.forEach(c=>{m.push(c.linkUserClaimTypeId)}),this.dataCoreClaimTypeIds=m,s.isSuccess?this.formInfo.submitResultMessage="":(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(c=>{this.formInfo.submitResultMessage=c}),this.formInfo.submitResultMessage=s.errorMessage,this.cmsToastrService.typeErrorMessage(s.errorMessage)),this.publicHelper.processService.processStop(e)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorUserCategorySelect(e){this.dataCoreUserClaimTypeModels=e}onActionSelectorUserCategorySelectAdded(e){let i=new ae;i.linkUserClaimTypeId=e.id,i.linkUserClaimGroupId=this.dataModel.id,i.isRequired=!0,this.coreUserClaimGroupDetailService.ServiceAdd(i).subscribe({next:t=>{t.isSuccess?(this.translate.get("MESSAGE.registration_in_this_group_was_successful").subscribe(s=>{this.formInfo.submitResultMessage=s}),this.cmsToastrService.typeSuccessEdit()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(s=>{this.formInfo.submitResultMessage=s}),this.formInfo.submitResultMessage=t.errorMessage,this.cmsToastrService.typeErrorMessage(t.errorMessage))},error:t=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(t)}})}onActionSelectorUserCategorySelectRemoved(e){let i=new ae;i.linkUserClaimTypeId=e.id,i.linkUserClaimGroupId=this.dataModel.id,this.coreUserClaimGroupDetailService.ServiceDeleteEntity(i).subscribe({next:t=>{t.isSuccess?(this.translate.get("MESSAGE.Deletion_from_this_group_Was_Successful").subscribe(s=>{this.formInfo.submitResultMessage=s}),this.cmsToastrService.typeSuccessEdit()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(s=>{this.formInfo.submitResultMessage=s}),this.formInfo.submitResultMessage=t.errorMessage,this.cmsToastrService.typeErrorMessage(t.errorMessage))},error:t=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(t)}})}};ui.\u0275fac=function(i){return new(i||ui)(S(Le),S(ke),S(j),S(ne),S(Ee),S(F),S(N),S(B),S(O))},ui.\u0275cmp=V({type:ui,selectors:[["app-core-userclaimgroup-edit"]],viewQuery:function(i,t){if(i&1&&Me(Fa,5),i&2){let s;be(s=Ie())&&(t.formGroup=s.first)}},standalone:!1,features:[z],decls:67,vars:72,consts:[["vform","ngForm"],["stepper",""],["Title",""],["TitleResourceLanguage",""],["ActionType","ngModel"],["Description",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"selectionChange"],["state","main",3,"label"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","name","dataModel.title","type","text","minlength","3","maxlength","100","id","dataModel.title","required","",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[4,"ngIf"],["for","dataModel.titleML",1,"color-highlight"],["matInput","","name","dataModel.titleML","type","text","id","dataModel.titleML",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.titleResourceLanguage",1,"color-highlight"],["matInput","","name","dataModel.titleResourceLanguage","type","text","minlength","3","maxlength","100","required","","id","dataModel.titleResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"input-style","has-borders","input-style-always-active","validate-field","no-icon","mb-4"],["id","dataModel.actionType","name","dataModel.actionType",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[3,"ngValue",4,"ngFor","ngForOf"],[3,"optionChange","optionSelectForce","optionPlaceholder","optionDisabled"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[3,"optionChange","optionSelectAdded","optionSelectRemoved","optionSelectForce","optionDisabled"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"ngValue"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=I();a(0,"div",6),b(1,"app-progress-spinner",7),a(2,"div",8)(3,"p",9),d(4),l(),a(5,"p"),d(6),h(7,"translate"),l(),a(8,"form",10,0),v("ngSubmit",function(){return u(s),f(t.onFormSubmit())}),a(10,"mat-vertical-stepper",11,1),v("selectionChange",function(c){u(s);let G=D(11);return f(t.onStepClick(c,G))}),a(12,"mat-step",12),h(13,"translate"),M(14,Na,1,5,"app-cms-enum-record-status-selector",13),a(15,"div",14)(16,"label",15),d(17),l(),a(18,"input",16,2),R("ngModelChange",function(c){return u(s),A(t.dataModel.title,c)||(t.dataModel.title=c),f(c)}),l(),a(20,"em"),d(21),l(),M(22,Pa,5,4,"mat-error",17),l(),a(23,"div",14)(24,"label",18),d(25),h(26,"translate"),l(),a(27,"input",19),R("ngModelChange",function(c){return u(s),A(t.dataModel.titleML,c)||(t.dataModel.titleML=c),f(c)}),l()(),a(28,"div",14)(29,"label",20),d(30),l(),a(31,"input",21,3),R("ngModelChange",function(c){return u(s),A(t.dataModel.titleResourceLanguage,c)||(t.dataModel.titleResourceLanguage=c),f(c)}),l(),a(33,"em"),d(34),l(),M(35,Ha,5,4,"mat-error",17),l(),a(36,"div",22)(37,"select",23,4),R("ngModelChange",function(c){return u(s),A(t.dataModel.actionType,c)||(t.dataModel.actionType=c),f(c)}),M(39,qa,2,2,"option",24),l(),a(40,"em"),d(41),h(42,"translate"),l(),M(43,ja,5,3,"mat-error",17),l(),b(44,"hr"),a(45,"app-cms-module-selector",25),h(46,"translate"),v("optionChange",function(c){return u(s),f(t.onActionSelectModuleId(c))}),l(),a(47,"app-cms-sitecategory-selector",25),h(48,"translate"),v("optionChange",function(c){return u(s),f(t.onActionSelectSiteCategory(c))}),l(),a(49,"app-cms-usergroup-selector",25),h(50,"translate"),v("optionChange",function(c){return u(s),f(t.onActionSelectUserGroup(c))}),l(),a(51,"app-cms-application-selector",25),h(52,"translate"),v("optionChange",function(c){return u(s),f(t.onActionSelectApplication(c))}),l(),a(53,"app-cms-application-selector",25),h(54,"translate"),v("optionChange",function(c){return u(s),f(t.onActionSelectApplicationSource(c))}),l(),a(55,"div",14)(56,"label",26),d(57),l(),a(58,"textarea",27,5),R("ngModelChange",function(c){return u(s),A(t.dataModel.description,c)||(t.dataModel.description=c),f(c)}),l(),a(60,"em"),d(61),l(),M(62,Wa,5,4,"mat-error",17),l()(),a(63,"mat-step",12),h(64,"translate"),a(65,"app-core-userclaimtype-selectionlist",28),v("optionChange",function(c){return u(s),f(t.onActionSelectorUserCategorySelect(c))})("optionSelectAdded",function(c){return u(s),f(t.onActionSelectorUserCategorySelectAdded(c))})("optionSelectRemoved",function(c){return u(s),f(t.onActionSelectorUserCategorySelectRemoved(c))}),l()()(),M(66,Qa,9,7,"div",29),l()()()}if(i&2){let s=D(19),m=D(32),c=D(38),G=D(59);r(),p("optionsInfoAreaId",t.constructorInfoAreaId),r(3),g(" ",t.formInfo.formTitle," "),r(2),g(" ",_(7,52,"TITLE.Be_Careful_When_Entering_Information")," "),r(6),p("label",U(_(13,54,"TITLE.Details_Claim"))),r(2),p("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),r(3),E(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),r(),p("placeholder",U(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),w("ngModel",t.dataModel.title),r(3),g("",s.value.length," / 100"),r(),p("ngIf",s.errors==null?null:s.errors.required),r(3),g(" ",_(26,56,"TITLE.TitleML")),r(2),w("ngModel",t.dataModel.titleML),p("disabled",!0),r(3),E(t.fieldsInfo.titleResourceLanguage==null?null:t.fieldsInfo.titleResourceLanguage.fieldTitle),r(),p("placeholder",U(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),w("ngModel",t.dataModel.titleResourceLanguage),p("disabled",!(t.fieldsInfo.titleResourceLanguage!=null&&t.fieldsInfo.titleResourceLanguage.accessEditField)),r(3),g("",m.value.length," / 100"),r(),p("ngIf",m.errors==null?null:m.errors.required),r(2),w("ngModel",t.dataModel.actionType),r(2),p("ngForOf",t.dataModelEnumUserClaimGroupActionTypeResult.listItems),r(2),E(_(42,58,"TITLE.Select_type_of_content")),r(2),p("ngIf",c.errors==null?null:c.errors.required),r(2),p("optionSelectForce",t.dataModel.linkModuleId)("optionPlaceholder",_(46,60,"TITLE.MODULE"))("optionDisabled",!(t.fieldsInfo.linkModuleId!=null&&t.fieldsInfo.linkModuleId.accessEditField)),r(2),p("optionSelectForce",t.dataModel.linkSiteCategoryId)("optionPlaceholder",_(48,62,"TITLE.SITE_CATEGORY"))("optionDisabled",!(t.fieldsInfo.linkSiteCategoryId!=null&&t.fieldsInfo.linkSiteCategoryId.accessEditField)),r(2),p("optionSelectForce",t.dataModel.linkUserGroupId)("optionPlaceholder",_(50,64,"TITLE.User_Group"))("optionDisabled",!(t.fieldsInfo.linkUserGroupId!=null&&t.fieldsInfo.linkUserGroupId.accessEditField)),r(2),p("optionSelectForce",t.dataModel.linkApplicationId)("optionPlaceholder",_(52,66,"TITLE.Application"))("optionDisabled",!(t.fieldsInfo.linkApplicationId!=null&&t.fieldsInfo.linkApplicationId.accessEditField)),r(2),p("optionSelectForce",t.dataModel.linkApplicationSourceId)("optionPlaceholder",_(54,68,"TITLE.Application_Source"))("optionDisabled",!(t.fieldsInfo.linkApplicationSourceId!=null&&t.fieldsInfo.linkApplicationSourceId.accessEditField)),r(4),E(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),r(),p("placeholder",U(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),w("ngModel",t.dataModel.description),r(3),g("",G.value.length," / 500"),r(),p("ngIf",G.errors==null?null:G.errors.required),r(),p("label",U(_(64,70,"TITLE.Required_Documents"))),r(2),p("optionSelectForce",t.dataCoreClaimTypeIds)("optionDisabled",!1),r(),p("ngIf",t.formInfo.submitButtonEnabled)}},dependencies:[Z,H,Ue,tt,it,we,et,le,Ae,Ge,ot,rt,De,Re,nt,Y,zi,Ki,Be,ci,no,ao,ro,Q,io,So,q],encapsulation:2});var fi=ui;function za(o,n){if(o&1){let e=I();a(0,"button",13),v("click",function(){u(e);let t=C();return f(t.onActionAdd())}),d(1),h(2,"translate"),l()}o&2&&(r(),g(" ",_(2,1,"ACTION.ADD")," "))}function Ka(o,n){if(o&1){let e=I();a(0,"button",14),v("click",function(){u(e);let t=C();return f(t.onActionEdit())}),d(1),h(2,"translate"),l()}o&2&&(r(),g(" ",_(2,1,"ACTION.EDIT")," "))}function Ja(o,n){if(o&1){let e=I();a(0,"button",15),v("click",function(){u(e);let t=C();return f(t.onActionButtonReload())}),a(1,"mat-icon",16),h(2,"translate"),d(3,"refresh"),l()()}if(o&2){let e=C();r(),W("rotation360",e.publicHelper.processService.process.inRunArea[e.constructorInfoAreaId]),p("title",U(_(2,4,"ACTION.RELOAD")))}}function Ya(o,n){if(o&1){let e=I();a(0,"mat-tree-node",17),b(1,"button",18),a(2,"span",19),v("click",function(){let t=u(e).$implicit,s=C();return f(s.onActionSelect(t))}),d(3),l()()}if(o&2){let e=n.$implicit,i=C();W("ntk-tree-selected",i.dataModelSelect.id>0&&i.dataModelSelect.id===e.id),r(3),E(e.title)}}function Xa(o,n){if(o&1){let e=I();a(0,"mat-tree-node",20)(1,"button",21)(2,"mat-icon",22),d(3),l()(),a(4,"span",19),v("click",function(){let t=u(e).$implicit,s=C();return f(s.onActionSelect(t))}),d(5),l()()}if(o&2){let e=n.$implicit,i=C(),t=D(11);W("ntk-tree-selected",i.dataModelSelect.id>0&&i.dataModelSelect.id===e.id),p("cdkTreeNodeTypeaheadLabel",e.titleML),r(),ze("type","button")("aria-label","Toggle "+e.titleML),r(2),g(" ",t.isExpanded(e)?"expand_more":"chevron_right"," "),r(2),E(e.titleML)}}var Ci=class Ci{constructor(n,e,i,t,s,m,c,G,ie){this.cmsToastrService=n;this.coreEnumService=e;this.categoryService=i;this.dialog=t;this.cdr=s;this.publicHelper=m;this.tokenHelper=c;this.cmsStoreService=G;this.translate=ie;this.constructorInfoAreaId=this.constructor.name;this.dataModelSelect=new J;this.dataModelResult=new x;this.filterModel=new L;this.dataSource=new eo;this.optionChange=new re;this.unsubscribe=[];this.optionReload=()=>this.onActionButtonReload();this.hasChild=(n,e)=>!1;this.childrenAccessor=n=>[];this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(n){this.onActionSelectForce(n)}ngOnInit(){setTimeout(()=>{this.DataGetAll()},500),this.unsubscribe.push(this.cmsStoreService.getState(n=>n.tokenInfoStore).subscribe(n=>X(this,null,function*(){this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(n=>n.unsubscribe())}DataGetAll(){this.filterModel.rowPerPage=200,this.filterModel.accessLoad=!0;let n=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(n,e,this.constructorInfoAreaId)}),this.categoryService.ServiceGetAll(this.filterModel).subscribe({next:e=>{e.isSuccess?(this.dataModelResult=e,this.dataSource.data=this.dataModelResult.listItems):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(n)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(n,!1)}})}onActionSelect(n){this.dataModelSelect=n,this.optionChange.emit(this.dataModelSelect)}onActionButtonReload(){this.onActionSelect(null),this.dataModelSelect=new J,this.DataGetAll()}onActionSelectForce(n){}onActionAdd(){var n="";this.publicHelper.isMobile?n="dialog-fullscreen":n="dialog-min",this.dialog.open(di,{height:"90%",panelClass:n,enterAnimationDuration:k.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:k.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(i=>{i&&i.dialogChangedDate&&this.DataGetAll()})}onActionEdit(){let n=0;if(this.dataModelSelect&&this.dataModelSelect.id>0&&(n=this.dataModelSelect.id),n===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorCategoryNotSelected").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(fi,{height:"90%",panelClass:e,enterAnimationDuration:k.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:k.cmsViewConfig.exitAnimationDuration,data:{id:n}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}};Ci.\u0275fac=function(e){return new(e||Ci)(S(N),S(j),S(ne),S(Ce),S(B),S(F),S(ge),S(he),S(O))},Ci.\u0275cmp=V({type:Ci,selectors:[["app-core-userclaimgroup-tree"]],inputs:{optionSelectForce:"optionSelectForce",optionReload:"optionReload"},outputs:{optionChange:"optionChange"},standalone:!1,decls:15,vars:13,consts:[["treeTagControl",""],[3,"optionHeaderDisplay","optionActionMainDisplay","optionFooterDisplay"],["cms-tree-header",""],["cms-tree-action",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-teal",3,"click",4,"ngIf"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-magenta",3,"click",4,"ngIf"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-highlight",3,"click",4,"ngIf"],["cms-tree-body","",1,"loader-container"],[3,"optionsInfoAreaId"],[3,"dataSource","childrenAccessor"],["matTreeNodePadding","",3,"ntk-tree-selected",4,"matTreeNodeDef"],["matTreeNodePadding","","matTreeNodeToggle","",3,"cdkTreeNodeTypeaheadLabel","ntk-tree-selected",4,"matTreeNodeDef","matTreeNodeDefWhen"],["cms-tree-footer",""],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[2,"font-size","20px","margin","-6px",3,"title"],["matTreeNodePadding",""],["matIconButton","","disabled",""],[3,"click"],["matTreeNodePadding","","matTreeNodeToggle","",3,"cdkTreeNodeTypeaheadLabel"],["matIconButton","","matTreeNodeToggle",""],[1,"mat-icon-rtl-mirror"]],template:function(e,i){e&1&&(a(0,"app-cms-html-tree",1),y(1,2),d(2),h(3,"translate"),T(),y(4,3),M(5,za,3,3,"button",4)(6,Ka,3,3,"button",5)(7,Ja,4,6,"button",6),T(),y(8,7),b(9,"app-progress-spinner",8),a(10,"mat-tree",9,0),M(12,Ya,4,3,"mat-tree-node",10)(13,Xa,6,7,"mat-tree-node",11),l(),T(),ve(14,12),l()),e&2&&(p("optionHeaderDisplay",!0)("optionActionMainDisplay",!0)("optionFooterDisplay",!1),r(2),g(" ",_(3,11,"TABLE."+(i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.moduleEntityName))," "),r(3),p("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessAddRow),r(),p("ngIf",(i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessEditRow)&&(i.dataModelSelect==null?null:i.dataModelSelect.id)>0),r(),p("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessWatchRow),r(2),p("optionsInfoAreaId",i.constructorInfoAreaId),r(),p("dataSource",i.dataSource)("childrenAccessor",i.childrenAccessor),r(3),p("matTreeNodeDefWhen",i.hasChild))},dependencies:[H,xe,Se,Yi,Xi,$i,Zi,Ji,Q,oo,q],encapsulation:2});var ho=Ci;var $a=()=>[5,10,20,100],el=o=>({display:o});function tl(o,n){if(o&1){let e=I();a(0,"a",37),v("click",function(){u(e);let t=C();return f(t.onActionBackToParentGroup())}),b(1,"i",38),l()}}function il(o,n){if(o&1){let e=I();a(0,"a",37),v("click",function(){u(e);let t=C();return f(t.onActionBackToParentType())}),b(1,"i",38),l()}}function ol(o,n){if(o&1){let e=I();a(0,"div",39)(1,"a",40),v("click",function(){u(e);let t=C();return f(t.onActionButtonNewRow())}),b(2,"i",41)(3,"br"),l(),a(4,"p",42),d(5),h(6,"translate"),l()()}o&2&&(r(5),g(" ",_(6,1,"ACTION.ADD")," "))}function rl(o,n){if(o&1){let e=I();a(0,"div",39)(1,"a",43),v("click",function(){u(e);let t=C();return f(t.onActionButtonEditRow(t.tableRowSelected))}),b(2,"i",44)(3,"br"),l(),a(4,"p",42),d(5),h(6,"translate"),l()()}o&2&&(r(5),g(" ",_(6,1,"ACTION.EDIT")," "))}function nl(o,n){if(o&1){let e=I();a(0,"div",39)(1,"a",45),v("click",function(){u(e);let t=C();return f(t.onActionButtonDeleteRow(t.tableRowSelected))}),b(2,"i",46)(3,"br"),l(),a(4,"p",42),d(5),h(6,"translate"),l()()}o&2&&(r(5),g(" ",_(6,1,"ACTION.DELETE")," "))}function al(o,n){if(o&1&&(a(0,"mat-header-cell",47),d(1),l()),o&2){let e=C();r(),g(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function ll(o,n){if(o&1&&b(0,"select",50),o&2){let e=C().$implicit,i=C();p("contentService",i.contentService)("row",e)("ngStyle",We(3,el,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function sl(o,n){if(o&1&&(a(0,"mat-cell",48),h(1,"statusCellClass"),b(2,"i",48),h(3,"statusIconClass"),M(4,ll,1,5,"select",49),l()),o&2){let e=n.$implicit,i=C();p("ngClass",_(1,3,e.recordStatus)),r(2),p("ngClass",_(3,5,e.recordStatus)),r(2),p("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessEditRow)}}function cl(o,n){if(o&1&&(a(0,"mat-header-cell",47),d(1),l()),o&2){let e=C();r(),g(" ",e.fieldsInfo.linkUserClaimGroupId==null?null:e.fieldsInfo.linkUserClaimGroupId.fieldTitle," ")}}function pl(o,n){if(o&1&&(a(0,"mat-cell"),d(1),h(2,"cmstitle"),l()),o&2){let e=n.$implicit,i=C();r(),g(" ",ye(2,1,e.linkUserClaimGroupId,i.dataModelCoreUserClaimGroupResult.listItems)," ")}}function dl(o,n){if(o&1&&(a(0,"mat-header-cell",47),d(1),l()),o&2){let e=C();r(),g(" ",e.fieldsInfo.linkUserClaimTypeId==null?null:e.fieldsInfo.linkUserClaimTypeId.fieldTitle," ")}}function ml(o,n){if(o&1&&(a(0,"mat-cell"),d(1),h(2,"cmstitle"),l()),o&2){let e=n.$implicit,i=C();r(),g(" ",ye(2,1,e.linkUserClaimTypeId,i.dataModelCoreUserClaimTypeResult.listItems)," ")}}function ul(o,n){if(o&1&&(a(0,"mat-header-cell",47),d(1),l()),o&2){let e=C();r(),g(" ",e.fieldsInfo.isRequired==null?null:e.fieldsInfo.isRequired.fieldTitle," ")}}function fl(o,n){if(o&1&&(a(0,"mat-cell"),b(1,"i",48),h(2,"boolclass"),l()),o&2){let e=n.$implicit;r(),p("ngClass",_(2,1,e.isRequired))}}function Cl(o,n){o&1&&(a(0,"mat-header-cell"),d(1),h(2,"translate"),l()),o&2&&(r(),g(" ",_(2,1,"TITLE.OPTION")," "))}function Sl(o,n){if(o&1&&(a(0,"mat-cell",51)(1,"button",52)(2,"mat-icon"),d(3,"more_vert"),l()(),b(4,"mat-menu",null,2),l()),o&2){let e=D(5);r(),p("matMenuTriggerFor",e)}}function hl(o,n){o&1&&b(0,"mat-header-row")}function gl(o,n){if(o&1){let e=I();a(0,"mat-row",53),v("click",function(t){let s=u(e).$implicit,m=C();return f(m.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=u(e).$implicit,m=C();return f(m.onActionTableRowSelect(s,t))}),l()}if(o&2){let e=n.$implicit,i=C();W("ntk-row-selected",e.linkUserClaimGroupId===(i.tableRowSelected==null?null:i.tableRowSelected.linkUserClaimGroupId)&&e.linkUserClaimTypeId===(i.tableRowSelected==null?null:i.tableRowSelected.linkUserClaimTypeId))}}var Si=class Si extends It{constructor(e,i,t,s,m,c,G,ie,_e,Ai,vi,Mi,bi,oe){super(e,new ae,bi,_e,vi);this.contentService=e;this.cmsToastrService=i;this.cmsConfirmationDialogService=t;this.activatedRoute=s;this.coreUserClaimTypeService=m;this.coreUserClaimGroupService=c;this.router=G;this.cmsStoreService=ie;this.tokenHelper=_e;this.cdr=Ai;this.translate=vi;this.pageInfo=Mi;this.publicHelper=bi;this.dialog=oe;this.requestLinkUserClaimGroupId=0;this.requestLinkUserClaimTypeId=0;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new L;this.filterDataModelQueryBuilder=[];this.categoryModelSelected=new J;this.dataModelCoreUserClaimTypeResult=new x;this.dataModelCoreUserClaimGroupResult=new x;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["RecordStatus","LinkUserClaimGroupId","LinkUserClaimTypeId","IsRequired"];this.tabledisplayedColumnsMobileSource=["RecordStatus","LinkUserClaimGroupId","LinkUserClaimTypeId","IsRequired"];this.unsubscribe=[];if(this.publicHelper.processService.cdr=this.cdr,this.requestLinkUserClaimTypeId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserClaimTypeId")),this.requestLinkUserClaimGroupId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserClaimGroupId")),this.optionsSearch.parentMethods={onSubmit:qe=>this.onSubmitOptionsSearch(qe)},this.filteModelContent.sortColumn="Id",this.filteModelContent.sortType=K.Descending,this.requestLinkUserClaimTypeId>0){let qe=new P;qe.propertyName="LinkUserClaimTypeId",qe.value=this.requestLinkUserClaimTypeId,this.filteModelContent.filters.push(qe)}if(this.requestLinkUserClaimGroupId>0){let qe=new P;qe.propertyName="LinkUserClaimGroupId",qe.value=this.requestLinkUserClaimGroupId,this.filteModelContent.filters.push(qe)}}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>X(this,null,function*(){this.tokenInfo=e,this.DataGetAll()}))),this.getUserClaimType(),this.getUserClaimGroup()}getUserClaimType(){let e=new L;e.rowPerPage=100,this.coreUserClaimTypeService.ServiceGetAll(e).subscribe({next:i=>{this.dataModelCoreUserClaimTypeResult=i}})}getUserClaimGroup(){let e=new L;e.rowPerPage=100,this.coreUserClaimGroupService.ServiceGetAll(e).subscribe({next:i=>{this.dataModelCoreUserClaimGroupResult=i}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new ae);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));if(this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.categoryModelSelected&&this.categoryModelSelected.id>0){let t=new P;t.propertyName="LinkUserClaimHeaderId",t.value=this.categoryModelSelected.id,i.filters.push(t)}this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=K.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=K.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=K.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(fo,{height:"90%",panelClass:e,enterAnimationDuration:k.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:k.cmsViewConfig.exitAnimationDuration,data:{linkUserClaimGroupId:this.requestLinkUserClaimGroupId,linkUserClaimTypeId:this.requestLinkUserClaimTypeId}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.linkUserClaimGroupId||e.linkUserClaimGroupId===0||!e.linkUserClaimTypeId||e.linkUserClaimTypeId===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Co,{height:"90%",panelClass:i,enterAnimationDuration:k.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:k.cmsViewConfig.exitAnimationDuration,data:{model:this.tableRowSelected}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate&&this.DataGetAll()})}onActionSelectorSelect(e){var i=this.filteModelContent.sortColumn,t=this.filteModelContent.sortType;this.filteModelContent=new L,this.filteModelContent.sortColumn=i,this.filteModelContent.sortType=t,this.categoryModelSelected=e,this.DataGetAll()}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(s=>{this.cmsToastrService.typeErrorSelected(s)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(s=>{i=s["MESSAGE.Please_Confirm"],t=s["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(s=>{if(s){let m=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(m,c,this.constructorInfoAreaId)}),this.contentService.ServiceDeleteEntity(this.tableRowSelected).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(m)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(m,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{i.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{i.set(c,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(G=>{i.set(G,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}});let s=JSON.parse(JSON.stringify(this.filteModelContent)),m=new P;m.propertyName="RecordStatus",m.value=Ze.Available,s.filters.push(m),this.contentService.ServiceGetCount(s).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(G=>{i.set(G,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParentType(){this.router.navigate(["/core/userclaim/type/"])}onActionBackToParentGroup(){this.router.navigate(["/core/userclaim/group/"])}};Si.\u0275fac=function(i){return new(i||Si)(S(Ee),S(N),S(Pe),S(jt),S($),S(ne),S(Ne),S(he),S(ge),S(B),S(O),S(Mt),S(F),S(Ce))},Si.\u0275cmp=V({type:Si,selectors:[["app-core-userclaimgroupdetail-list"]],standalone:!1,features:[z],decls:54,vars:38,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],[3,"optionChange"],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","RecordStatus"],["mat-sort-header","",4,"matHeaderCellDef"],[3,"ngClass",4,"matCellDef"],["matColumnDef","LinkUserClaimGroupId"],[4,"matCellDef"],["matColumnDef","LinkUserClaimTypeId"],["matColumnDef","IsRequired"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],[1,"col-4"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(i,t){if(i&1){let s=I();a(0,"app-cms-html-list",3),h(1,"cmstitle"),h(2,"cmstitle"),R("optionActionGuideNoticeDisplayChange",function(c){return u(s),A(t.viewGuideNotice,c)||(t.viewGuideNotice=c),f(c)}),v("optionOnActionButtonMemoRow",function(){return u(s),f(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return u(s),f(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return u(s),f(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return u(s),f(t.onActionButtonPrintRow())}),y(3,4),a(4,"app-core-userclaimgroup-tree",5),v("optionChange",function(c){return u(s),f(t.onActionSelectorSelect(c))}),l(),T(),ve(5,6)(6,7),y(7,8),M(8,tl,2,0,"a",9)(9,il,2,0,"a",9),a(10,"a",10),v("click",function(){return u(s),f(t.viewGuideNotice=!t.viewGuideNotice)}),b(11,"i",11),l(),a(12,"a",10),v("click",function(){return u(s),f(t.onActionButtonReload())}),b(13,"i",12),l(),T(),y(14,13),a(15,"a",14),v("click",function(){return u(s),f(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),b(16,"mat-slide-toggle",15),d(17),h(18,"translate"),l(),a(19,"a",14),v("click",function(){return u(s),f(t.onActionButtonStatist())}),b(20,"mat-slide-toggle",15),d(21),h(22,"translate"),l(),T(),y(23,16),M(24,ol,7,3,"div",17),T(),y(25,18),M(26,rl,7,3,"div",17)(27,nl,7,3,"div",17),T(),y(28,19),a(29,"app-cms-search-list",20),R("optionsChange",function(c){return u(s),A(t.optionsSearch,c)||(t.optionsSearch=c),f(c)}),l(),a(30,"app-cms-statist-list",20),R("optionsChange",function(c){return u(s),A(t.optionsStatist,c)||(t.optionsStatist=c),f(c)}),l(),T(),y(31,21),a(32,"mat-table",22,0),v("matSortChange",function(){u(s);let c=D(33);return f(t.onTableSortData(c))}),y(34,23),M(35,al,2,1,"mat-header-cell",24)(36,sl,5,7,"mat-cell",25),T(),y(37,26),M(38,cl,2,1,"mat-header-cell",24)(39,pl,3,4,"mat-cell",27),T(),y(40,28),M(41,dl,2,1,"mat-header-cell",24)(42,ml,3,4,"mat-cell",27),T(),y(43,29),M(44,ul,2,1,"mat-header-cell",24)(45,fl,3,3,"mat-cell",27),T(),y(46,30),M(47,Cl,3,3,"mat-header-cell",31)(48,Sl,6,1,"mat-cell",32),T(),M(49,hl,1,0,"mat-header-row",33)(50,gl,1,2,"mat-row",34),l(),T(),y(51,35),a(52,"mat-paginator",36,1),v("page",function(c){return u(s),f(t.onTablePageingData(c))}),l(),T(),l()}i&2&&(p("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),w("optionActionGuideNoticeDisplay",t.viewGuideNotice),p("optionTreeDisplay",t.requestLinkUserClaimGroupId===0)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.linkUserClaimGroupId)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",ye(1,27,t.tableRowSelected==null?null:t.tableRowSelected.linkUserClaimTypeId,t.dataModelCoreUserClaimTypeResult.listItems)+"-"+ye(2,30,t.tableRowSelected==null?null:t.tableRowSelected.linkUserClaimGroupId,t.dataModelCoreUserClaimGroupResult.listItems)),r(8),p("ngIf",t.requestLinkUserClaimGroupId>0),r(),p("ngIf",t.requestLinkUserClaimTypeId>0),r(4),W("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),r(3),p("checked",t.optionsSearch.data.show),r(),g("",_(18,33,"ACTION.SEARCH")," "),r(3),p("checked",t.optionsStatist.data.show),r(),g("",_(22,35,"ACTION.STATIST")," "),r(3),p("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessAddRow),r(2),p("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),r(),p("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),r(2),w("options",t.optionsSearch),r(),w("options",t.optionsStatist),r(2),p("dataSource",t.tableSource),r(17),p("matHeaderRowDef",t.tabledisplayedColumns),r(),p("matRowDefColumns",t.tabledisplayedColumns),r(2),p("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",je(37,$a)))},dependencies:[Fe,H,Je,xe,Se,Y,at,lt,st,Ve,ct,pt,dt,ut,ht,ft,mt,gt,Ct,St,_t,vt,yt,Tt,Et,wt,At,ho,q,Kt,Rt,Dt,Wt],encapsulation:2});var hi=Si;var _l=()=>[5,10,20,100],vl=o=>({display:o});function Ml(o,n){if(o&1){let e=I();a(0,"div",17)(1,"a",39),v("click",function(){u(e);let t=C();return f(t.onActionButtonNewRow())}),b(2,"i",40)(3,"br"),l(),a(4,"p",19),d(5),h(6,"translate"),l()()}o&2&&(r(5),g(" ",_(6,1,"ACTION.ADD")," "))}function bl(o,n){if(o&1){let e=I();a(0,"div",17)(1,"a",41),v("click",function(){u(e);let t=C();return f(t.onActionButtonEditRow(t.tableRowSelected))}),b(2,"i",42)(3,"br"),l(),a(4,"p",19),d(5),h(6,"translate"),l()()}o&2&&(r(5),g(" ",_(6,1,"ACTION.EDIT")," "))}function Il(o,n){if(o&1){let e=I();a(0,"div",17)(1,"a",43),v("click",function(){u(e);let t=C();return f(t.onActionButtonDeleteRow(t.tableRowSelected))}),b(2,"i",44)(3,"br"),l(),a(4,"p",19),d(5),h(6,"translate"),l()()}o&2&&(r(5),g(" ",_(6,1,"ACTION.DELETE")," "))}function yl(o,n){if(o&1&&(a(0,"mat-header-cell",45),d(1),l()),o&2){let e=C();r(),g(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function Tl(o,n){if(o&1&&(a(0,"mat-cell"),d(1),l()),o&2){let e=n.$implicit;r(),g(" ",e.id," ")}}function El(o,n){if(o&1&&(a(0,"mat-header-cell",45),d(1),l()),o&2){let e=C();r(),g(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function wl(o,n){if(o&1&&b(0,"select",48),o&2){let e=C().$implicit,i=C();p("contentService",i.contentService)("row",e)("ngStyle",We(3,vl,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function Al(o,n){if(o&1&&(a(0,"mat-cell",46),h(1,"statusCellClass"),b(2,"i",46),h(3,"statusIconClass"),M(4,wl,1,5,"select",47),l()),o&2){let e=n.$implicit,i=C();p("ngClass",_(1,3,e.recordStatus)),r(2),p("ngClass",_(3,5,e.recordStatus)),r(2),p("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessEditRow)}}function Rl(o,n){if(o&1&&(a(0,"mat-header-cell",45),d(1),l()),o&2){let e=C();r(),g(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," ")}}function Dl(o,n){if(o&1&&(a(0,"mat-cell"),d(1),l()),o&2){let e=n.$implicit;r(),g(" ",e.titleML," ")}}function Ul(o,n){if(o&1&&(a(0,"mat-header-cell",45),d(1),l()),o&2){let e=C();r(),g(" ",e.fieldsInfo.linkSiteCategoryId==null?null:e.fieldsInfo.linkSiteCategoryId.fieldTitle," ")}}function Gl(o,n){if(o&1&&(a(0,"mat-cell"),d(1),h(2,"cmstitle"),l()),o&2){let e=n.$implicit,i=C();r(),g(" ",ye(2,1,e.linkSiteCategoryId,i.dataModelCoreSiteCategoryResult.listItems)," ")}}function xl(o,n){if(o&1&&(a(0,"mat-header-cell",45),d(1),l()),o&2){let e=C();r(),g(" ",e.fieldsInfo.linkModuleId==null?null:e.fieldsInfo.linkModuleId.fieldTitle," ")}}function kl(o,n){if(o&1&&(a(0,"mat-cell"),d(1),h(2,"cmstitle"),l()),o&2){let e=n.$implicit,i=C();r(),g(" ",ye(2,1,e.linkModuleId,i.dataModelCoreModuleResult.listItems)," ")}}function Ll(o,n){o&1&&(a(0,"mat-header-cell"),d(1),h(2,"translate"),l()),o&2&&(r(),g(" ",_(2,1,"TITLE.OPTION")," "))}function Vl(o,n){if(o&1&&(a(0,"mat-cell",49)(1,"button",50)(2,"mat-icon"),d(3,"more_vert"),l()(),b(4,"mat-menu",null,2),l()),o&2){let e=D(5);r(),p("matMenuTriggerFor",e)}}function Bl(o,n){o&1&&b(0,"mat-header-row")}function Ol(o,n){if(o&1){let e=I();a(0,"mat-row",51),v("click",function(t){let s=u(e).$implicit,m=C();return f(m.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=u(e).$implicit,m=C();return f(m.onActionTableRowSelect(s,t))}),l()}if(o&2){let e=n.$implicit,i=C();W("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var gi=class gi extends It{constructor(e,i,t,s,m,c,G,ie,_e,Ai,vi,Mi,bi){super(e,new J,Mi,G,_e);this.contentService=e;this.cmsToastrService=i;this.cmsConfirmationDialogService=t;this.coreModuleService=s;this.coreSiteCategoryService=m;this.router=c;this.tokenHelper=G;this.cdr=ie;this.translate=_e;this.cmsStoreService=Ai;this.pageInfo=vi;this.publicHelper=Mi;this.dialog=bi;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new L;this.filterDataModelQueryBuilder=[];this.dataModelCoreModuleResult=new x;this.dataModelCoreSiteCategoryResult=new x;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["Id","RecordStatus","Title","LinkModuleId","LinkSiteCategoryId"];this.tabledisplayedColumnsMobileSource=["Id","RecordStatus","Title","LinkModuleId","LinkSiteCategoryId"];this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:oe=>this.onSubmitOptionsSearch(oe)},this.filteModelContent.sortColumn="Id",this.filteModelContent.sortType=K.Ascending}ngOnInit(){this.filteModelContent.sortColumn="Id",this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>X(this,null,function*(){this.tokenInfo=e,this.DataGetAll()}))),this.getModule(),this.getSiteCategory()}getModule(){let e=new L;e.rowPerPage=100,this.coreModuleService.ServiceGetAllModuleName(e).subscribe({next:i=>{this.dataModelCoreModuleResult=i}})}getSiteCategory(){let e=new L;e.rowPerPage=100,this.coreSiteCategoryService.ServiceGetAll(e).subscribe({next:i=>{this.dataModelCoreSiteCategoryResult=i}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new J);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=K.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=K.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=K.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(di,{height:"90%",panelClass:e,enterAnimationDuration:k.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:k.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(fi,{height:"90%",panelClass:i,enterAnimationDuration:k.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:k.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(s=>{this.cmsToastrService.typeErrorSelected(s)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(s=>{i=s["MESSAGE.Please_Confirm"],t=s["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(s=>{if(s){let m=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(m,c,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(m)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(m,!1)}})}}).catch(()=>{})}onActionButtonDetailList(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.onActionTableRowSelect(e),this.router.navigate(["/core/userclaim/groupdetail/LinkUserClaimGroupId",this.tableRowSelected.id])}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{i.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{i.set(c,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(G=>{i.set(G,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}});let s=JSON.parse(JSON.stringify(this.filteModelContent)),m=new P;m.propertyName="RecordStatus",m.value=Ze.Available,s.filters.push(m),this.contentService.ServiceGetCount(s).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(G=>{i.set(G,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonSiteList(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null){this.cmsToastrService.typeErrorSelected();return}this.router.navigate(["/core/site/list/LinkUserClaimGroupId",this.tableRowSelected.id])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}};gi.\u0275fac=function(i){return new(i||gi)(S(ne),S(N),S(Pe),S(Fi),S(No),S(Ne),S(ge),S(B),S(O),S(he),S(Mt),S(F),S(Ce))},gi.\u0275cmp=V({type:gi,selectors:[["app-core-userclaimgroup-list"]],standalone:!1,features:[z],decls:60,vars:33,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"font-11","text-center","opacity-70"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","Title"],["matColumnDef","LinkSiteCategoryId"],["matColumnDef","LinkModuleId"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(i,t){if(i&1){let s=I();a(0,"app-cms-html-list",3),R("optionActionGuideNoticeDisplayChange",function(c){return u(s),A(t.viewGuideNotice,c)||(t.viewGuideNotice=c),f(c)}),v("optionOnActionButtonMemoRow",function(){return u(s),f(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return u(s),f(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return u(s),f(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return u(s),f(t.onActionButtonPrintRow())}),y(1,4),d(2," -------------------------------------- "),T(),ve(3,5)(4,6),y(5,7),a(6,"a",8),v("click",function(){return u(s),f(t.viewGuideNotice=!t.viewGuideNotice)}),b(7,"i",9),l(),a(8,"a",8),v("click",function(){return u(s),f(t.onActionButtonReload())}),b(9,"i",10),l(),T(),y(10,11),a(11,"a",12),v("click",function(){return u(s),f(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),b(12,"mat-slide-toggle",13),d(13),h(14,"translate"),l(),a(15,"a",12),v("click",function(){return u(s),f(t.onActionButtonStatist())}),b(16,"mat-slide-toggle",13),d(17),h(18,"translate"),l(),T(),y(19,14),M(20,Ml,7,3,"div",15),T(),y(21,16),M(22,bl,7,3,"div",15)(23,Il,7,3,"div",15),a(24,"div",17)(25,"a",18),v("click",function(){return u(s),f(t.onActionButtonDetailList(t.tableRowSelected))}),a(26,"mat-icon"),d(27,"view_module"),l()(),a(28,"p",19),d(29),h(30,"translate"),l()(),T(),y(31,20),a(32,"app-cms-search-list",21),R("optionsChange",function(c){return u(s),A(t.optionsSearch,c)||(t.optionsSearch=c),f(c)}),l(),a(33,"app-cms-statist-list",21),R("optionsChange",function(c){return u(s),A(t.optionsStatist,c)||(t.optionsStatist=c),f(c)}),l(),T(),y(34,22),a(35,"mat-table",23,0),v("matSortChange",function(){u(s);let c=D(36);return f(t.onTableSortData(c))}),y(37,24),M(38,yl,2,1,"mat-header-cell",25)(39,Tl,2,1,"mat-cell",26),T(),y(40,27),M(41,El,2,1,"mat-header-cell",25)(42,Al,5,7,"mat-cell",28),T(),y(43,29),M(44,Rl,2,1,"mat-header-cell",25)(45,Dl,2,1,"mat-cell",26),T(),y(46,30),M(47,Ul,2,1,"mat-header-cell",25)(48,Gl,3,4,"mat-cell",26),T(),y(49,31),M(50,xl,2,1,"mat-header-cell",25)(51,kl,3,4,"mat-cell",26),T(),y(52,32),M(53,Ll,3,3,"mat-header-cell",33)(54,Vl,6,1,"mat-cell",34),T(),M(55,Bl,1,0,"mat-header-row",35)(56,Ol,1,2,"mat-row",36),l(),T(),y(57,37),a(58,"mat-paginator",38,1),v("page",function(c){return u(s),f(t.onTablePageingData(c))}),l(),T(),l()}i&2&&(p("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),w("optionActionGuideNoticeDisplay",t.viewGuideNotice),p("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",(t.tableRowSelected==null||t.tableRowSelected.title==null?null:t.tableRowSelected.title.length)>0?t.tableRowSelected==null?null:t.tableRowSelected.title:t.tableRowSelected==null?null:t.tableRowSelected.id),r(9),W("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),r(3),p("checked",t.optionsSearch.data.show),r(),g("",_(14,26,"ACTION.SEARCH")," "),r(3),p("checked",t.optionsStatist.data.show),r(),g("",_(18,28,"ACTION.STATIST")," "),r(3),p("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessAddRow),r(2),p("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),r(),p("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),r(6),g(" ",_(30,30,"ACTION.Components")," "),r(3),w("options",t.optionsSearch),r(),w("options",t.optionsStatist),r(2),p("dataSource",t.tableSource),r(20),p("matHeaderRowDef",t.tabledisplayedColumns),r(),p("matRowDefColumns",t.tabledisplayedColumns),r(2),p("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",je(32,_l)))},dependencies:[Fe,H,Je,xe,Se,Y,at,lt,st,Ve,ct,pt,dt,ut,ht,ft,mt,gt,Ct,St,_t,vt,yt,Tt,Et,wt,At,q,Kt,Rt,Dt],encapsulation:2});var go=gi;var Fl=()=>[5,10,20,100],Nl=o=>({display:o});function Pl(o,n){if(o&1){let e=I();a(0,"div",17)(1,"a",39),v("click",function(){u(e);let t=C();return f(t.onActionButtonNewRow())}),b(2,"i",40)(3,"br"),l(),a(4,"p",19),d(5),h(6,"translate"),l()()}o&2&&(r(5),g(" ",_(6,1,"ACTION.ADD")," "))}function Hl(o,n){if(o&1){let e=I();a(0,"div",17)(1,"a",41),v("click",function(){u(e);let t=C();return f(t.onActionButtonEditRow(t.tableRowSelected))}),b(2,"i",42)(3,"br"),l(),a(4,"p",19),d(5),h(6,"translate"),l()()}o&2&&(r(5),g(" ",_(6,1,"ACTION.EDIT")," "))}function ql(o,n){if(o&1){let e=I();a(0,"div",17)(1,"a",43),v("click",function(){u(e);let t=C();return f(t.onActionButtonDeleteRow(t.tableRowSelected))}),b(2,"i",44)(3,"br"),l(),a(4,"p",19),d(5),h(6,"translate"),l()()}o&2&&(r(5),g(" ",_(6,1,"ACTION.DELETE")," "))}function jl(o,n){o&1&&(a(0,"mat-header-cell",45),d(1),h(2,"translate"),l()),o&2&&(r(),g(" ",_(2,1,"TITLE.PICTURE")," "))}function Wl(o,n){if(o&1&&(b(0,"img",47),h(1,"cmsthumbnail")),o&2){let e=C().$implicit;p("src",U(_(1,2,e.linkMainImageIdSrc)),ue)}}function Ql(o,n){if(o&1&&(a(0,"mat-cell"),M(1,Wl,2,4,"img",46),l()),o&2){let e=n.$implicit;r(),p("ngIf",(e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0)}}function zl(o,n){if(o&1&&(a(0,"mat-header-cell",45),d(1),l()),o&2){let e=C();r(),g(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function Kl(o,n){if(o&1&&(a(0,"mat-cell"),d(1),l()),o&2){let e=n.$implicit;r(),g(" ",e.id," ")}}function Jl(o,n){if(o&1&&(a(0,"mat-header-cell",45),d(1),l()),o&2){let e=C();r(),g(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function Yl(o,n){if(o&1&&b(0,"select",50),o&2){let e=C().$implicit,i=C();p("contentService",i.contentService)("row",e)("ngStyle",We(3,Nl,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function Xl(o,n){if(o&1&&(a(0,"mat-cell",48),h(1,"statusCellClass"),b(2,"i",48),h(3,"statusIconClass"),M(4,Yl,1,5,"select",49),l()),o&2){let e=n.$implicit,i=C();p("ngClass",_(1,3,e.recordStatus)),r(2),p("ngClass",_(3,5,e.recordStatus)),r(2),p("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessEditRow)}}function Zl(o,n){if(o&1&&(a(0,"mat-header-cell",45),d(1),l()),o&2){let e=C();r(),g(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," ")}}function $l(o,n){if(o&1&&(a(0,"mat-cell"),d(1),l()),o&2){let e=n.$implicit;r(),g(" ",e.titleML," ")}}function es(o,n){if(o&1&&(a(0,"mat-header-cell",45),d(1),l()),o&2){let e=C();r(),g(" ",e.fieldsInfo.kind==null?null:e.fieldsInfo.kind.fieldTitle," ")}}function ts(o,n){if(o&1&&(a(0,"mat-cell"),d(1),h(2,"enums"),l()),o&2){let e=n.$implicit,i=C();r(),g(" ",ye(2,1,e.kind,i.dataModelEnumUserClaimKindsResult.listItems)," ")}}function is(o,n){o&1&&(a(0,"mat-header-cell"),d(1),h(2,"translate"),l()),o&2&&(r(),g(" ",_(2,1,"TITLE.OPTION")," "))}function os(o,n){if(o&1&&(a(0,"mat-cell",51)(1,"button",52)(2,"mat-icon"),d(3,"more_vert"),l()(),b(4,"mat-menu",null,2),l()),o&2){let e=D(5);r(),p("matMenuTriggerFor",e)}}function rs(o,n){o&1&&b(0,"mat-header-row")}function ns(o,n){if(o&1){let e=I();a(0,"mat-row",53),v("click",function(t){let s=u(e).$implicit,m=C();return f(m.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=u(e).$implicit,m=C();return f(m.onActionTableRowSelect(s,t))}),l()}if(o&2){let e=n.$implicit,i=C();W("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var _i=class _i extends It{constructor(e,i,t,s,m,c,G,ie,_e,Ai,vi,Mi){super(e,new ee,vi,c,_e);this.contentService=e;this.cmsToastrService=i;this.cmsConfirmationDialogService=t;this.coreEnumService=s;this.router=m;this.tokenHelper=c;this.cdr=G;this.cmsStoreService=ie;this.translate=_e;this.pageInfo=Ai;this.publicHelper=vi;this.dialog=Mi;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new L;this.filterDataModelQueryBuilder=[];this.dataModelCoreUserGroupResult=new x;this.dataModelCoreSiteCategoryResult=new x;this.dataModelEnumUserClaimKindsResult=new x;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["LinkMainImageIdSrc","Id","RecordStatus","Kind"];this.tabledisplayedColumnsMobileSource=["LinkMainImageIdSrc","Id","RecordStatus","Kind"];this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:bi=>this.onSubmitOptionsSearch(bi)},this.filteModelContent.sortColumn="Id",this.filteModelContent.sortType=K.Descending}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>X(this,null,function*(){this.tokenInfo=e,this.DataGetAll()}))),this.getEnumUserClaimKinds()}getEnumUserClaimKinds(){this.coreEnumService.ServiceUserClaimKindsEnum().subscribe({next:e=>{this.dataModelEnumUserClaimKindsResult=e}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new ee);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=K.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=K.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=K.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(ei,{height:"90%",panelClass:e,enterAnimationDuration:k.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:k.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(oi,{height:"90%",panelClass:i,enterAnimationDuration:k.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:k.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(s=>{this.cmsToastrService.typeErrorSelected(s)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(s=>{i=s["MESSAGE.Please_Confirm"],t=s["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(s=>{if(s){let m=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(m,c,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(m)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(m,!1)}})}}).catch(()=>{})}onActionButtonDetailList(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.onActionTableRowSelect(e),this.router.navigate(["/core/userclaim/groupdetail/LinkUserClaimTypeId",this.tableRowSelected.id])}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{i.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{i.set(c,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(G=>{i.set(G,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}});let s=JSON.parse(JSON.stringify(this.filteModelContent)),m=new P;m.propertyName="RecordStatus",m.value=Ze.Available,s.filters.push(m),this.contentService.ServiceGetCount(s).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(G=>{i.set(G,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonModuleList(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null){this.cmsToastrService.typeErrorSelected();return}this.router.navigate(["/core/sitecategorymodule/LinkCmsUserClaimTypeId",this.tableRowSelected.id])}onActionButtonSiteList(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null){this.cmsToastrService.typeErrorSelected();return}this.router.navigate(["/core/site/list/LinkUserClaimTypeId",this.tableRowSelected.id])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}};_i.\u0275fac=function(i){return new(i||_i)(S($),S(N),S(Pe),S(j),S(Ne),S(ge),S(B),S(he),S(O),S(Mt),S(F),S(Ce))},_i.\u0275cmp=V({type:_i,selectors:[["app-core-userclaimtype-list"]],standalone:!1,features:[z],decls:60,vars:33,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"font-11","text-center","opacity-70"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","LinkMainImageIdSrc"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","Id"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","Title"],["matColumnDef","Kind"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],["style","vertical-align: middle","class","ntk-hover-zoom","aria-hidden","","height","40","width","40",3,"src",4,"ngIf"],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(i,t){if(i&1){let s=I();a(0,"app-cms-html-list",3),R("optionActionGuideNoticeDisplayChange",function(c){return u(s),A(t.viewGuideNotice,c)||(t.viewGuideNotice=c),f(c)}),v("optionOnActionButtonMemoRow",function(){return u(s),f(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return u(s),f(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return u(s),f(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return u(s),f(t.onActionButtonPrintRow())}),y(1,4),d(2," -------------------------------------- "),T(),ve(3,5)(4,6),y(5,7),a(6,"a",8),v("click",function(){return u(s),f(t.viewGuideNotice=!t.viewGuideNotice)}),b(7,"i",9),l(),a(8,"a",8),v("click",function(){return u(s),f(t.onActionButtonReload())}),b(9,"i",10),l(),T(),y(10,11),a(11,"a",12),v("click",function(){return u(s),f(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),b(12,"mat-slide-toggle",13),d(13),h(14,"translate"),l(),a(15,"a",12),v("click",function(){return u(s),f(t.onActionButtonStatist())}),b(16,"mat-slide-toggle",13),d(17),h(18,"translate"),l(),T(),y(19,14),M(20,Pl,7,3,"div",15),T(),y(21,16),M(22,Hl,7,3,"div",15)(23,ql,7,3,"div",15),a(24,"div",17)(25,"a",18),v("click",function(){return u(s),f(t.onActionButtonDetailList(t.tableRowSelected))}),a(26,"mat-icon"),d(27,"view_module"),l()(),a(28,"p",19),d(29),h(30,"translate"),l()(),T(),y(31,20),a(32,"app-cms-search-list",21),R("optionsChange",function(c){return u(s),A(t.optionsSearch,c)||(t.optionsSearch=c),f(c)}),l(),a(33,"app-cms-statist-list",21),R("optionsChange",function(c){return u(s),A(t.optionsStatist,c)||(t.optionsStatist=c),f(c)}),l(),T(),y(34,22),a(35,"mat-table",23,0),v("matSortChange",function(){u(s);let c=D(36);return f(t.onTableSortData(c))}),y(37,24),M(38,jl,3,3,"mat-header-cell",25)(39,Ql,2,1,"mat-cell",26),T(),y(40,27),M(41,zl,2,1,"mat-header-cell",25)(42,Kl,2,1,"mat-cell",26),T(),y(43,28),M(44,Jl,2,1,"mat-header-cell",25)(45,Xl,5,7,"mat-cell",29),T(),y(46,30),M(47,Zl,2,1,"mat-header-cell",25)(48,$l,2,1,"mat-cell",26),T(),y(49,31),M(50,es,2,1,"mat-header-cell",25)(51,ts,3,4,"mat-cell",26),T(),y(52,32),M(53,is,3,3,"mat-header-cell",33)(54,os,6,1,"mat-cell",34),T(),M(55,rs,1,0,"mat-header-row",35)(56,ns,1,2,"mat-row",36),l(),T(),y(57,37),a(58,"mat-paginator",38,1),v("page",function(c){return u(s),f(t.onTablePageingData(c))}),l(),T(),l()}i&2&&(p("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),w("optionActionGuideNoticeDisplay",t.viewGuideNotice),p("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",(t.tableRowSelected==null||t.tableRowSelected.title==null?null:t.tableRowSelected.title.length)>0?t.tableRowSelected==null?null:t.tableRowSelected.title:t.tableRowSelected==null?null:t.tableRowSelected.id),r(9),W("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),r(3),p("checked",t.optionsSearch.data.show),r(),g("",_(14,26,"ACTION.SEARCH")," "),r(3),p("checked",t.optionsStatist.data.show),r(),g("",_(18,28,"ACTION.STATIST")," "),r(3),p("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessAddRow),r(2),p("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),r(),p("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),r(6),g(" ",_(30,30,"ACTION.USED_ITEMS")," "),r(3),w("options",t.optionsSearch),r(),w("options",t.optionsStatist),r(2),p("dataSource",t.tableSource),r(20),p("matHeaderRowDef",t.tabledisplayedColumns),r(),p("matRowDefColumns",t.tabledisplayedColumns),r(2),p("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",je(32,Fl)))},dependencies:[Fe,H,Je,xe,Se,Y,at,lt,st,Ve,ct,pt,dt,ut,ht,ft,mt,gt,Ct,St,_t,vt,yt,Tt,Et,wt,At,q,ur,bt,Rt,Dt],encapsulation:2});var _o=_i;var as=[{path:"",data:{title:"ROUTE.CORE.USERCLAIM"},children:[{path:"group",component:go,data:{title:"ROUTE.CORE.USERCLAIM"}},{path:"groupdetail",component:hi,data:{title:"ROUTE.CORE.USERCLAIM"}},{path:"groupdetail/LinkUserClaimTypeId/:LinkUserClaimTypeId",component:hi,data:{title:"ROUTE.CORE.USERCLAIM"}},{path:"groupdetail/LinkUserClaimGroupId/:LinkUserClaimGroupId",component:hi,data:{title:"ROUTE.CORE.USERCLAIM"}},{path:"type",component:_o,data:{title:"ROUTE.CORE.USERCLAIM"}},{path:"content",component:kt,data:{title:"ROUTE.CORE.USERCLAIM"}},{path:"content/LinkUserClaimTypeId/:LinkUserClaimTypeId",component:kt,data:{title:"ROUTE.CORE.USERCLAIM"}},{path:"content/LinkSiteId/:LinkSiteId",component:kt,data:{title:"ROUTE.CORE.USERCLAIM"}},{path:"content/LinkUserId/:LinkUserId",component:kt,data:{title:"ROUTE.CORE.USERCLAIM"}},{path:"checklist",component:yi,data:{title:"ROUTE.CORE.USERCLAIM"}},{path:"checklist/:LinkSiteId/:LinkUserId",component:yi,data:{title:"ROUTE.CORE.USERCLAIM"}}]}],Lt=class Lt{};Lt.\u0275fac=function(e){return new(e||Lt)},Lt.\u0275mod=Vi({type:Lt}),Lt.\u0275inj=Li({imports:[Io.forChild(as),Io]});var vo=Lt;var Vt=class Vt{};Vt.\u0275fac=function(e){return new(e||Vt)},Vt.\u0275mod=Vi({type:Vt}),Vt.\u0275inj=Li({providers:[Fi,j,qt,$,ne,Ee,Pe],imports:[Fo,jo,vo,Wo.withConfig({warnOnNgModelWithFormControl:"never"}),or,dr,nr,ir]});var gr=Vt;export{gr as CoreUserClaimModule};
