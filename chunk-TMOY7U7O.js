import{a as Ua}from"./chunk-EFEJWIYI.js";import{a as Wt}from"./chunk-HC32IMH6.js";import{a as qa}from"./chunk-DEOOK2FM.js";import{a as Ha}from"./chunk-PULSAQN6.js";import{a as ja}from"./chunk-XWFZ3L2H.js";import{a as Ft}from"./chunk-ZBCNDTQU.js";import{a as Ln}from"./chunk-BO6LOMMS.js";import{a as Gt}from"./chunk-677NQ7D7.js";import{a as Qe}from"./chunk-NMFX3PJE.js";import{a as He}from"./chunk-JEF4OJ24.js";import{a as pt}from"./chunk-QGWAMGAE.js";import{d as Nt,e as Ge,f as We,i as Ot}from"./chunk-SY5ASTU2.js";import{a as qe}from"./chunk-7RXKLOGL.js";import{a as Ko}from"./chunk-AY4XP33B.js";import{a as zo}from"./chunk-CI46G5RR.js";import{j as jo,k as Uo,l as Qo}from"./chunk-5OKUYNJK.js";import"./chunk-57KTCDM3.js";import{a as be,d as qo}from"./chunk-5A7PFONV.js";import{a as Pt}from"./chunk-ZEL2SWMK.js";import{a as Zi}from"./chunk-MIPGQZHB.js";import{a as Ae}from"./chunk-VA5IWJ7T.js";import{b as Wa}from"./chunk-3RHHJRHJ.js";import{a as Je}from"./chunk-7DUNEHBM.js";import"./chunk-T2SWGMVG.js";import{a as Yi}from"./chunk-IXPEP4O3.js";import"./chunk-2UR3ITVJ.js";import{a as Le}from"./chunk-JM7AUYWU.js";import"./chunk-HGNWVODT.js";import{a as Q,d as Vt}from"./chunk-XBBMWE56.js";import{b as Ho,e as Bt,f as W}from"./chunk-LID2Z6NB.js";import{$a as zi,A as it,Aa as Va,Ba as Ne,Ca as Pa,Cb as F,Da as N,Db as P,E as Da,Ka as ht,La as bt,Oa as Oe,Pb as mt,Qb as Fa,R as Ba,Ua as Fe,Wa as vt,Xa as It,_a as Qi,a as $e,ab as Ki,bb as Ji,cb as Xi,da as qi,db as Na,ea as ji,eb as wt,fa as Ui,fb as Tt,gb as Et,hb as kt,ib as yt,jb as Lt,kb as At,la as ci,lb as Rt,m as Fi,ma as ue,mb as xt,na as fe,nb as Dt,oa as nt,rc as et,s as ye,sb as Oa,tb as In,u as Wo,ub as wn,uc as tt,v as Gi,vb as Tn,wb as En,wc as G,x as Wi,xb as kn,y as Hi,zb as yn,zc as Ga}from"./chunk-TSM5A4DZ.js";import{A as Y,B as Ce,C as he,F as Ra,G as xa,b as ai,c as J,h as X,i as Te,k as Ee,l as Ni,m as oe,n as ke,o as Ke,r as Oi,u as ri,v as li,x as si}from"./chunk-QRBNL5ZA.js";import{Ad as St,Bd as bn,Cd as oi,D as ii,Dd as Vi,Ed as Pi,Fd as Ct,Gd as vn,H as ge,K as we,La,Mn as le,ba as ne,d as st,e as ka,f as Ze,fa as ya,jd as vi,kd as jt,l as Ma,ld as Ii,m as gt,md as dt,nd as Sn,od as Ut,p as ct,pd as Cn,q as j,qd as Qt,rd as wi,sd as hn,td as Fo,u as z,ud as Go,v as Ie,vd as Aa,wd as ot,xd as ni,y as Mt,yd as gi,zd as _i}from"./chunk-VH4FEZX5.js";import{Ab as b,Ad as Ea,Cb as Xe,Db as me,Dc as f,Eb as pe,Ec as g,Fb as _,Fc as Ta,Ga as _t,Gb as a,Hb as r,Ib as S,K as Li,Mb as L,Nb as A,O as Ai,Ob as de,Pb as w,Ra as Z,Sb as v,Ub as p,Va as o,Vb as Di,Wb as Bi,Xa as lt,Xc as O,Yb as ee,Z as Ri,Zb as te,_ as xi,_b as ie,cb as I,cc as D,dc as Oo,ec as H,ga as Po,hc as c,ib as V,ic as T,jb as No,jc as C,kc as Ve,ld as Pe,mb as U,nc as E,ob as B,oc as k,pa as d,pc as y,qa as m,rd as ti,s as ki,t as yi,tc as R,td as Ye,uc as ei,xb as Be,xc as se,yc as at,zb as h}from"./chunk-2AL2II5Z.js";import{i as De}from"./chunk-SEDBTTTN.js";var An=class An{constructor(){this.constructorInfoAreaId=this.constructor.name}ngOnInit(){}};An.\u0275fac=function(e){return new(e||An)},An.\u0275cmp=V({type:An,selectors:[["app-linkmanagement"]],standalone:!1,decls:1,vars:0,template:function(e,i){e&1&&S(0,"router-outlet")},dependencies:[ka],encapsulation:2});var Rn=An;var ar=["*"];function rr(n,l){if(n&1&&(a(0,"label",3),c(1),r()),n&2){let e=p();_("for",ei("app-cms-site-selector-",e.id)),o(),T(e.optionLabel)}}function lr(n,l){if(n&1&&(a(0,"mat-option",6)(1,"span"),c(2),r()()),n&2){let e=l.$implicit,i=p();_("value",e)("disabled",i.optionDisabled),o(2),T(i.displayOption(e))}}function sr(n,l){n&1&&S(0,"i",7)}function cr(n,l){n&1&&S(0,"i",8)}function dr(n,l){if(n&1){let e=w();a(0,"i",11),v("click",function(){d(e);let t=p();return m(t.onActionSelectClear())}),r()}}function mr(n,l){n&1&&(a(0,"em"),c(1),f(2,"translate"),r()),n&2&&(o(),C("(",g(2,1,"TITLE.Necessary"),")"))}var $i=class $i{constructor(l,e,i,t,s,M){this.coreEnumService=l;this.cmsToastrService=e;this.translate=i;this.cdr=t;this.publicHelper=s;this.categoryService=M;this.id=++$i.nextId;this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new j;this.dataModelSelect=new jt;this.formControl=new Ni;this.optionDisabled=!1;this.optionRequired=!1;this.optionPlaceholder="";this.optionLabel="";this.optionSelectFirstItem=!1;this.optionChange=new lt;this.optionReload=()=>this.onActionButtonReload();this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(l){this.onActionSelectForce(l)}ngOnInit(){this.loadOptions(),(!this.optionLabel||this.optionLabel.length==0&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder)}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(Ri(""),Li(1500),Ai(),xi(l=>typeof l=="string"||typeof l=="number"?this.DataGetAll(l||""):[]))}displayFn(l){return l?l.id+"":void 0}displayOption(l){return l?l.id+"":void 0}DataGetAll(l){return De(this,null,function*(){let e=new Ie;e.rowPerPage=20,e.accessLoad=!0;let i=new z;i.propertyName="title",i.value=l,i.searchType=ii.Contains,i.clauseType=Mt.Or,e.filters.push(i),l&&typeof+l=="number"&&+l>0&&(i=new z,i.propertyName="id",i.value=l,i.searchType=ii.Equal,i.clauseType=Mt.Or,e.filters.push(i));let t=this.constructor.name+"main";return this.translate.get("MESSAGE.Receiving_information").subscribe(s=>{this.publicHelper.processService.processStart(t,s,this.constructorInfoAreaId)}),yield ki(this.categoryService.ServiceGetAll(e)).then(s=>(this.dataModelResult=s,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||this.dataModelSelect.id<=0)&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0])},1e3),this.onActionSelect(this.dataModelResult.listItems[0])),this.publicHelper.processService.processStop(t),s.listItems))})}onActionSelect(l){this.dataModelSelect=l,this.optionChange.emit(this.dataModelSelect)}onActionSelectClear(){this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null)}push(l){return this.filteredOptions.pipe(yi(e=>(e.find(i=>i.id===l.id)||e.push(l),e)))}onActionSelectForce(l){if(typeof l=="number"&&l>0){if(this.dataModelSelect&&this.dataModelSelect.id===l)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(e=>e.id===l)){let e=this.dataModelResult.listItems.find(i=>i.id===l);this.dataModelSelect=e,this.formControl.setValue(e);return}this.categoryService.ServiceGetOneById(l).subscribe({next:e=>{e.isSuccess?(this.filteredOptions=this.push(e.item),this.dataModelSelect=e.item,this.formControl.setValue(e.item),this.optionChange.emit(e.item)):this.cmsToastrService.typeErrorMessage(e.errorMessage)}});return}if(typeof l==typeof jt){this.filteredOptions=this.push(l),this.dataModelSelect=l,this.formControl.setValue(l);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new jt,this.loadOptions()}};$i.nextId=0,$i.\u0275fac=function(e){return new(e||$i)(I(ne),I(G),I(F),I(O),I(W),I(ni))},$i.\u0275cmp=V({type:$i,selectors:[["app-linkmanagement-accounting-selector"]],inputs:{optionDisabled:"optionDisabled",optionRequired:"optionRequired",optionPlaceholder:"optionPlaceholder",optionLabel:"optionLabel",optionSelectFirstItem:"optionSelectFirstItem",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange"},standalone:!1,ngContentSelectors:ar,decls:16,vars:23,consts:[["matauto","matAutocomplete"],[1,"input-style","has-borders","has-icon","input-style-always-active","validate-field","mb-4","loader-container"],[3,"optionsInfoAreaId"],[1,"color-highlight",3,"for"],["type","text","aria-label","Assignee","matInput","",3,"placeholder","formControl","matAutocomplete","required","id"],[3,"optionSelected","displayWith"],[3,"value","disabled"],[1,"fa","fa-info","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"fa","fa-times","action","color-red-dark"],[1,"fa","fa-rotate-right","action","color-green-dark",2,"margin-left","20px",3,"click","title"],[1,"fa","fa-times","action","color-red-dark",3,"click"]],template:function(e,i){if(e&1){let t=w();Di(),a(0,"div",1),S(1,"app-progress-spinner",2),h(2,rr,2,3,"label",3),S(3,"input",4),a(4,"mat-autocomplete",5,0),v("optionSelected",function(M){return d(t),m(i.onActionSelect(M.option.value))}),me(6,lr,3,3,"mat-option",6,Xe),f(8,"async"),r(),h(9,sr,1,0,"i",7),h(10,cr,1,0,"i",8),h(11,dr,1,0,"i",9),a(12,"i",10),f(13,"translate"),v("click",function(){return d(t),m(i.onActionButtonReload())}),r(),h(14,mr,3,3,"em"),Bi(15),r()}if(e&2){let t=D(5);o(),_("optionsInfoAreaId",i.constructorInfoAreaId),o(),b((i.optionLabel==null?null:i.optionLabel.length)>0?2:-1),o(),_("placeholder",R(i.optionPlaceholder))("id",ei("app-cms-site-selector-",i.id))("formControl",i.formControl)("matAutocomplete",t)("required",i.optionRequired),Be("disabled",i.optionDisabled?!0:null),o(),_("displayWith",i.displayFn),o(2),pe(g(8,19,i.filteredOptions)),o(3),b(i.formControl.valid?-1:9),o(),b(i.optionRequired&&i.formControl.valid?10:-1),o(),b((i.dataModelSelect==null?null:i.dataModelSelect.id)>0?11:-1),o(),H("rotation360",i.publicHelper.processService.process.inRunArea[i.constructorInfoAreaId]),_("title",R(g(13,21,"ACTION.RELOAD"))),o(2),b(i.optionRequired&&!((i.dataModelSelect==null?null:i.dataModelSelect.id)>0)?14:-1)}},dependencies:[J,X,Y,Oi,Wi,Fi,Hi,N,Q,Ye,P],encapsulation:2});var xn=$i;var pr=["vform"];function ur(n,l){if(n&1){let e=w();a(0,"app-cms-enum-record-status-selector",38),y("modelChange",function(t){d(e);let s=p();return k(s.dataModel.recordStatus,t)||(s.dataModel.recordStatus=t),m(t)}),r()}if(n&2){let e=p();E("model",e.dataModel.recordStatus),_("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function fr(n,l){if(n&1&&(a(0,"option",20),c(1),r()),n&2){let e=l.$implicit;_("value",e.value),o(),C(" ",e.description," ")}}function gr(n,l){n&1&&(a(0,"mat-error"),c(1," AccountingType is "),a(2,"strong"),c(3),f(4,"translate"),r()()),n&2&&(o(3),T(g(4,1,"MESSAGE.required")))}function _r(n,l){if(n&1&&(a(0,"mat-error"),c(1),a(2,"strong"),c(3),f(4,"translate"),r()()),n&2){let e=p(2);o(),C(" ",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle," is "),o(2),T(g(4,2,"MESSAGE.required"))}}function Mr(n,l){if(n&1){let e=w();a(0,"div",18)(1,"label",39),c(2),r(),a(3,"textarea",40,9),y("ngModelChange",function(t){d(e);let s=p();return k(s.dataModel.description,t)||(s.dataModel.description=t),m(t)}),c(5,"          "),r(),a(6,"em"),c(7),r(),h(8,_r,5,4,"mat-error"),r()}if(n&2){let e=D(4),i=p();o(2),T(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle),o(),_("placeholder",R(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle)),E("ngModel",i.dataModel.description),o(4),C("",e.value.length," / 500"),o(),b(e.errors!=null&&e.errors.required?8:-1)}}function Sr(n,l){n&1&&S(0,"i",23)}function Cr(n,l){n&1&&S(0,"i",24)}function hr(n,l){n&1&&(a(0,"mat-error"),c(1," Debtor is "),a(2,"strong"),c(3),f(4,"translate"),r()()),n&2&&(o(3),T(g(4,1,"MESSAGE.required")))}function br(n,l){n&1&&S(0,"i",23)}function vr(n,l){n&1&&S(0,"i",24)}function Ir(n,l){n&1&&(a(0,"mat-error"),c(1," Creditor is "),a(2,"strong"),c(3),f(4,"translate"),r()()),n&2&&(o(3),T(g(4,1,"MESSAGE.required")))}function wr(n,l){n&1&&(a(0,"mat-error"),c(1," FishNumber is "),a(2,"strong"),c(3),f(4,"translate"),r()()),n&2&&(o(3),T(g(4,1,"MESSAGE.required")))}function Tr(n,l){n&1&&(a(0,"mat-error"),c(1," TokenNumber is "),a(2,"strong"),c(3),f(4,"translate"),r()()),n&2&&(o(3),T(g(4,1,"MESSAGE.required")))}function Er(n,l){n&1&&(a(0,"mat-error"),c(1," ReceiptCode is "),a(2,"strong"),c(3),f(4,"translate"),r()()),n&2&&(o(3),T(g(4,1,"MESSAGE.required")))}function kr(n,l){if(n&1){let e=w();a(0,"div",37)(1,"button",41),v("click",function(){d(e);let t=p();return m(t.onFormCancel())}),S(2,"i",42),c(3),f(4,"translate"),r(),a(5,"button",43),S(6,"i",44),c(7),f(8,"translate"),r()()}if(n&2){p();let e=D(10);o(3),C(" ",g(4,3,"ACTION.CANCEL")," "),o(2),_("disabled",!e.form.valid),o(2),C(" ",g(8,5,"ACTION.SAVE")," ")}}var Dn=class Dn extends Pt{constructor(e,i,t,s,M,u,x,q,K){super(s,new vi,x,K);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.categoryService=s;this.linkManagementEnumService=M;this.cmsToastrService=u;this.publicHelper=x;this.cdr=q;this.translate=K;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new j;this.dataModel=new vi;this.dataModelEnumSharingAccountingTypeResult=new j;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.translate.get("TITLE.Register_New_Categories").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess(),this.getEnumSharingAccountingType()}getEnumSharingAccountingType(){this.linkManagementEnumService.ServiceSharingAccountingTypeEnum().subscribe(e=>{this.dataModelEnumSharingAccountingTypeResult=e})}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.categoryService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorAccount(e){if(!e||!e.id||e.id<=0){this.translate.get("MESSAGE.Account_information_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkManagementAccountingId=e.id}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Dn.\u0275fac=function(i){return new(i||Dn)(I(fe),I(ue),I(ne),I(gi),I(ot),I(G),I(W),I(O),I(F))},Dn.\u0275cmp=V({type:Dn,selectors:[["app-linkmanagement-accounting-detail-add"]],viewQuery:function(i,t){if(i&1&&ee(pr,5),i&2){let s;te(s=ie())&&(t.formGroup=s.first)}},standalone:!1,features:[U],decls:77,vars:63,consts:[["vform","ngForm"],["AccountingType","ngModel"],["Debtor",""],["Creditor",""],["LinkExternalShopInvoiceSaleDetailId",""],["RowNumber",""],["FishNumber",""],["TokenNumber",""],["ReceiptCode",""],["Description",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["id","dataModel.accountingType","name","dataModel.accountingType",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[3,"value"],["for","dataModel.debtor",1,"color-highlight"],["matInput","","type","number","name","dataModel.debtor","minlength","0","required","","id","dataModel.debtor",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.creditor",1,"color-highlight"],["matInput","","type","number","name","dataModel.creditor","minlength","0","required","","id","dataModel.creditor",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.linkExternalShopInvoiceSaleDetailId",1,"color-highlight"],["matInput","","type","number","name","dataModel.linkExternalShopInvoiceSaleDetailId","id","dataModel.linkExternalShopInvoiceSaleDetailId",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.rowNumber",1,"color-highlight"],["matInput","","type","number","name","dataModel.rowNumber","id","dataModel.rowNumber",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.fishNumber",1,"color-highlight"],["matInput","","type","text","name","dataModel.fishNumber","minlength","3","maxlength","100","required","","id","dataModel.fishNumber",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.tokenNumber",1,"color-highlight"],["matInput","","type","text","name","dataModel.tokenNumber","minlength","3","maxlength","100","required","","id","dataModel.tokenNumber",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.receiptCode",1,"color-highlight"],["matInput","","type","text","name","dataModel.receiptCode","minlength","3","maxlength","100","required","","id","dataModel.receiptCode",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"form-actions"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=w();a(0,"div",10),S(1,"app-progress-spinner",11),a(2,"div",12)(3,"p",13),c(4),r(),a(5,"p"),c(6),f(7,"translate"),r(),S(8,"app-cms-form-result-message",14),a(9,"form",15,0),v("ngSubmit",function(){return d(s),m(t.onFormSubmit())}),h(11,ur,1,5,"app-cms-enum-record-status-selector",16),a(12,"app-linkmanagement-accounting-selector",17),f(13,"translate"),v("optionChange",function(u){return d(s),m(t.onActionSelectorAccount(u))}),r(),a(14,"div",18)(15,"select",19,1),y("ngModelChange",function(u){return d(s),k(t.dataModel.accountingType,u)||(t.dataModel.accountingType=u),m(u)}),me(17,fr,2,2,"option",20,Xe),r(),a(19,"em"),c(20),f(21,"translate"),r(),h(22,gr,5,3,"mat-error"),r(),h(23,Mr,9,6,"div",18),a(24,"div",18)(25,"label",21),c(26),r(),a(27,"input",22,2),f(29,"translate"),y("ngModelChange",function(u){return d(s),k(t.dataModel.debtor,u)||(t.dataModel.debtor=u),m(u)}),r(),h(30,Sr,1,0,"i",23),h(31,Cr,1,0,"i",24),h(32,hr,5,3,"mat-error"),r(),a(33,"div",18)(34,"label",25),c(35),r(),a(36,"input",26,3),f(38,"translate"),y("ngModelChange",function(u){return d(s),k(t.dataModel.creditor,u)||(t.dataModel.creditor=u),m(u)}),r(),h(39,br,1,0,"i",23),h(40,vr,1,0,"i",24),h(41,Ir,5,3,"mat-error"),r(),a(42,"div",18)(43,"label",27),c(44),r(),a(45,"input",28,4),y("ngModelChange",function(u){return d(s),k(t.dataModel.linkExternalShopInvoiceSaleDetailId,u)||(t.dataModel.linkExternalShopInvoiceSaleDetailId=u),m(u)}),r()(),a(47,"div",18)(48,"label",29),c(49),r(),a(50,"input",30,5),y("ngModelChange",function(u){return d(s),k(t.dataModel.rowNumber,u)||(t.dataModel.rowNumber=u),m(u)}),r()(),a(52,"div",18)(53,"label",31),c(54),r(),a(55,"input",32,6),y("ngModelChange",function(u){return d(s),k(t.dataModel.fishNumber,u)||(t.dataModel.fishNumber=u),m(u)}),r(),a(57,"em"),c(58),r(),h(59,wr,5,3,"mat-error"),r(),a(60,"div",18)(61,"label",33),c(62),r(),a(63,"input",34,7),y("ngModelChange",function(u){return d(s),k(t.dataModel.tokenNumber,u)||(t.dataModel.tokenNumber=u),m(u)}),r(),a(65,"em"),c(66),r(),h(67,Tr,5,3,"mat-error"),r(),a(68,"div",18)(69,"label",35),c(70),r(),a(71,"input",36,8),y("ngModelChange",function(u){return d(s),k(t.dataModel.receiptCode,u)||(t.dataModel.receiptCode=u),m(u)}),r(),a(73,"em"),c(74),r(),h(75,Er,5,3,"mat-error"),r(),h(76,kr,9,7,"div",37),r()()()}if(i&2){let s=D(16),M=D(28),u=D(37),x=D(56),q=D(64),K=D(72);o(),_("optionsInfoAreaId",t.constructorInfoAreaId),o(3),C(" ",t.formInfo.formTitle," "),o(2),C(" ",g(7,53,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),_("formInfo",t.formInfo),o(3),b(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?11:-1),o(),_("optionDisabled",!(t.fieldsInfo.linkManagementAccountingId!=null&&t.fieldsInfo.linkManagementAccountingId.accessAddField))("optionSelectForce",t.dataModel.linkManagementAccountingId)("optionPlaceholder",g(13,55,"TITLE.Account")),o(3),E("ngModel",t.dataModel.accountingType),o(2),pe(t.dataModelEnumSharingAccountingTypeResult.listItems),o(3),T(g(21,57,"TITLE.Select_type_of_content")),o(2),b(s.errors!=null&&s.errors.required?22:-1),o(),b(t.fieldsInfo.description!=null&&t.fieldsInfo.description.accessWatchField?23:-1),o(3),T(t.fieldsInfo.debtor==null?null:t.fieldsInfo.debtor.fieldTitle),o(),_("placeholder",R(g(29,59,"TITLE.Debtor_Credit"))),E("ngModel",t.dataModel.debtor),o(3),b(M.value?-1:30),o(),b(M.value?31:-1),o(),b(M.errors!=null&&M.errors.required?32:-1),o(3),T(t.fieldsInfo.creditor==null?null:t.fieldsInfo.creditor.fieldTitle),o(),_("placeholder",R(g(38,61,"TITLE.Creditor_Credit"))),E("ngModel",t.dataModel.creditor),o(3),b(u.value?-1:39),o(),b(u.value?40:-1),o(),b(u.errors!=null&&u.errors.required?41:-1),o(3),T(t.fieldsInfo.linkExternalShopInvoiceSaleDetailId==null?null:t.fieldsInfo.linkExternalShopInvoiceSaleDetailId.fieldTitle),o(),_("placeholder",R(t.fieldsInfo.linkExternalShopInvoiceSaleDetailId==null?null:t.fieldsInfo.linkExternalShopInvoiceSaleDetailId.fieldTitle)),E("ngModel",t.dataModel.linkExternalShopInvoiceSaleDetailId),o(4),T(t.fieldsInfo.rowNumber==null?null:t.fieldsInfo.rowNumber.fieldTitle),o(),_("placeholder",R(t.fieldsInfo.rowNumber==null?null:t.fieldsInfo.rowNumber.fieldTitle)),E("ngModel",t.dataModel.rowNumber),o(4),T(t.fieldsInfo.fishNumber==null?null:t.fieldsInfo.fishNumber.fieldTitle),o(),_("placeholder",R(t.fieldsInfo.fishNumber==null?null:t.fieldsInfo.fishNumber.fieldTitle)),E("ngModel",t.dataModel.fishNumber),o(3),C("",x.value.length," / 100"),o(),b(x.errors!=null&&x.errors.required?59:-1),o(3),T(t.fieldsInfo.tokenNumber==null?null:t.fieldsInfo.tokenNumber.fieldTitle),o(),_("placeholder",R(t.fieldsInfo.tokenNumber==null?null:t.fieldsInfo.tokenNumber.fieldTitle)),E("ngModel",t.dataModel.tokenNumber),o(3),C("",q.value.length," / 100"),o(),b(q.errors!=null&&q.errors.required?67:-1),o(3),T(t.fieldsInfo.receiptCode==null?null:t.fieldsInfo.receiptCode.fieldTitle),o(),_("placeholder",R(t.fieldsInfo.receiptCode==null?null:t.fieldsInfo.receiptCode.fieldTitle)),E("ngModel",t.dataModel.receiptCode),o(3),C("",K.value.length," / 100"),o(),b(K.errors!=null&&K.errors.required?75:-1),o(),b(t.formInfo.submitButtonEnabled?76:-1)}},dependencies:[ke,li,si,J,Ke,ri,X,Te,Y,Ce,he,oe,Ee,ye,N,Ae,Q,Le,Je,xn,P],encapsulation:2});var Jo=Dn;var yr=["vform"];function Lr(n,l){if(n&1){let e=w();a(0,"div",5)(1,"label",7),c(2),r(),a(3,"input",8,0),y("ngModelChange",function(t){d(e);let s=p();return k(s.dataModelResultContent.item.id,t)||(s.dataModelResultContent.item.id=t),m(t)}),r()()}if(n&2){let e=p();o(2),T(e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle),o(),_("placeholder",R(e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle)),E("ngModel",e.dataModelResultContent.item.id)}}function Ar(n,l){if(n&1){let e=w();a(0,"div",6)(1,"button",9),v("click",function(){d(e);let t=p();return m(t.onFormDelete())}),S(2,"i",10),c(3),f(4,"translate"),r(),a(5,"button",11),v("click",function(){d(e);let t=p();return m(t.onFormCancel())}),S(6,"i",12),c(7),f(8,"translate"),r()()}if(n&2){let e=p();o(),_("disabled",!e.formInfo.submitButtonEnabled),o(2),C(" ",g(4,3,"ACTION.DELETE")," "),o(4),C(" ",g(8,5,"ACTION.CANCEL")," ")}}var Bn=class Bn{constructor(l,e,i,t,s,M,u){this.data=l;this.dialogRef=e;this.publicHelper=i;this.linkManagementAccountingDetailService=t;this.cdr=s;this.translate=M;this.cmsToastrService=u;this.requestId=0;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.dataModelResultContent=new j;this.formInfo=new Vt;this.publicHelper.processService.cdr=this.cdr,l&&(this.requestId=+l.id||0)}ngOnInit(){if(this.requestId<=0){this.cmsToastrService.typeErrorDeleteRowIsNull(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOne()}DataGetOne(){if(this.requestId===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.translate.get("TITLE.Loading_Information").subscribe(e=>{this.formInfo.submitResultMessage=e});let l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(l,e,this.constructorInfoAreaId)}),this.linkManagementAccountingDetailService.setAccessLoad(),this.linkManagementAccountingDetailService.setAccessDataType(we.Editor),this.linkManagementAccountingDetailService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModelResultContent=e,e.isSuccess?this.formInfo.submitResultMessage="":(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.formInfo.submitResultMessageType=FormSubmitedStatusEnum.Success,this.cmsToastrService.typeErrorGetOne()),this.publicHelper.processService.processStop(l)},error:e=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessageType=FormSubmitedStatusEnum.Success,this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(l,!1)}})}onFormDelete(){if(this.requestId===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.formInfo.submitButtonEnabled=!1,this.formInfo.submitButtonEnabled=!1;let l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(l,e,this.constructorInfoAreaId)}),this.linkManagementAccountingDetailService.ServiceDelete(this.requestId).subscribe({next:e=>{this.formInfo.submitButtonEnabled=!e.isSuccess,e.isSuccess?(this.translate.get("MESSAGE.Deletion_Was_Successful").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.cmsToastrService.typeSuccessRemove(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.cmsToastrService.typeErrorRemove()),this.formInfo.submitButtonEnabled=!0,this.publicHelper.processService.processStop(l)},error:e=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(e),this.formInfo.submitButtonEnabled=!0,this.publicHelper.processService.processStop(l)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Bn.\u0275fac=function(e){return new(e||Bn)(I(fe),I(ue),I(W),I(gi),I(O),I(F),I(G))},Bn.\u0275cmp=V({type:Bn,selectors:[["app-linkmanagement-accounting-detail-delete"]],viewQuery:function(e,i){if(e&1&&ee(yr,5),e&2){let t;te(t=ie())&&(i.formGroup=t.first)}},standalone:!1,decls:12,vars:10,consts:[["Writer",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],[1,"form-actions"],["for","dataModelResultContent.item.id",1,"color-highlight"],["matInput","","name","dataModelResultContent.item.id","type","text","required","","id","dataModelResultContent.item.id","readonly","",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click","disabled"],[1,"fa","fa-check-square-o"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,i){e&1&&(a(0,"div",1),S(1,"app-progress-spinner",2),a(2,"div",3)(3,"p",4),c(4),f(5,"translate"),r(),a(6,"p"),c(7),f(8,"translate"),r(),c(9),h(10,Lr,5,4,"div",5),h(11,Ar,9,7,"div",6),r()()),e&2&&(o(),_("optionsInfoAreaId",i.constructorInfoAreaId),o(3),C(" ",g(5,6,"TITLE.EDIT_USER_ACCOUNT")," "),o(3),C(" ",g(8,8,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),C(" ",i.formInfo.formTitle," "),o(),b(i.dataModelResultContent!=null&&i.dataModelResultContent.item?10:-1),o(),b(i.formInfo.submitButtonEnabled?11:-1))},dependencies:[J,X,Y,oe,N,Q,P],encapsulation:2});var Xo=Bn;var Rr=["vform"];function xr(n,l){if(n&1){let e=w();a(0,"app-cms-enum-record-status-selector",38),y("modelChange",function(t){d(e);let s=p();return k(s.dataModel.recordStatus,t)||(s.dataModel.recordStatus=t),m(t)}),r()}if(n&2){let e=p();E("model",e.dataModel.recordStatus),_("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Dr(n,l){if(n&1&&(a(0,"option",20),c(1),r()),n&2){let e=l.$implicit;_("value",e.value),o(),C(" ",e.description," ")}}function Br(n,l){n&1&&(a(0,"mat-error"),c(1," AccountingType is "),a(2,"strong"),c(3),f(4,"translate"),r()()),n&2&&(o(3),T(g(4,1,"MESSAGE.required")))}function Vr(n,l){if(n&1&&(a(0,"mat-error"),c(1),a(2,"strong"),c(3),f(4,"translate"),r()()),n&2){let e=p(2);o(),C(" ",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle," is "),o(2),T(g(4,2,"MESSAGE.required"))}}function Pr(n,l){if(n&1){let e=w();a(0,"div",18)(1,"label",39),c(2),r(),a(3,"textarea",40,9),y("ngModelChange",function(t){d(e);let s=p();return k(s.dataModel.description,t)||(s.dataModel.description=t),m(t)}),c(5,"          "),r(),a(6,"em"),c(7),r(),h(8,Vr,5,4,"mat-error"),r()}if(n&2){let e=D(4),i=p();o(2),T(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle),o(),_("placeholder",R(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle)),E("ngModel",i.dataModel.description),o(4),C("",e.value.length," / 500"),o(),b(e.errors!=null&&e.errors.required?8:-1)}}function Nr(n,l){n&1&&S(0,"i",23)}function Or(n,l){n&1&&S(0,"i",24)}function Fr(n,l){n&1&&(a(0,"mat-error"),c(1," Debtor is "),a(2,"strong"),c(3),f(4,"translate"),r()()),n&2&&(o(3),T(g(4,1,"MESSAGE.required")))}function Gr(n,l){n&1&&S(0,"i",23)}function Wr(n,l){n&1&&S(0,"i",24)}function Hr(n,l){n&1&&(a(0,"mat-error"),c(1," Creditor is "),a(2,"strong"),c(3),f(4,"translate"),r()()),n&2&&(o(3),T(g(4,1,"MESSAGE.required")))}function qr(n,l){n&1&&(a(0,"mat-error"),c(1," FishNumber is "),a(2,"strong"),c(3),f(4,"translate"),r()()),n&2&&(o(3),T(g(4,1,"MESSAGE.required")))}function jr(n,l){n&1&&(a(0,"mat-error"),c(1," TokenNumber is "),a(2,"strong"),c(3),f(4,"translate"),r()()),n&2&&(o(3),T(g(4,1,"MESSAGE.required")))}function Ur(n,l){n&1&&(a(0,"mat-error"),c(1," ReceiptCode is "),a(2,"strong"),c(3),f(4,"translate"),r()()),n&2&&(o(3),T(g(4,1,"MESSAGE.required")))}function Qr(n,l){if(n&1){let e=w();a(0,"div",37)(1,"button",41),v("click",function(){d(e);let t=p();return m(t.onFormCancel())}),S(2,"i",42),c(3),f(4,"translate"),r(),a(5,"button",43),S(6,"i",44),c(7),f(8,"translate"),r()()}if(n&2){p();let e=D(10);o(3),C(" ",g(4,3,"ACTION.CANCEL")," "),o(2),_("disabled",!e.form.valid),o(2),C(" ",g(8,5,"ACTION.SAVE")," ")}}var Vn=class Vn extends pt{constructor(e,i,t,s,M,u,x,q,K){super(s,new vi,x,K);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.categoryService=s;this.cmsToastrService=M;this.linkManagementEnumService=u;this.publicHelper=x;this.cdr=q;this.translate=K;this.requestId=0;this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new ct;this.dataModel=new vi;this.dataModelEnumSharingAccountingTypeResult=new j;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=+e.id||0),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.requestId>0)this.translate.get("TITLE.Edit_Categories").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.getEnumSharingAccountingType()}getEnumSharingAccountingType(){this.linkManagementEnumService.ServiceSharingAccountingTypeEnum().subscribe(e=>{this.dataModelEnumSharingAccountingTypeResult=e})}DataGetOneContent(){if(this.requestId<=0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.categoryService.setAccessLoad(),this.categoryService.setAccessDataType(we.Editor),this.categoryService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.categoryService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorAccount(e){if(!e||!e.id||e.id<=0){this.translate.get("MESSAGE.Account_information_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkManagementAccountingId=e.id}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Vn.\u0275fac=function(i){return new(i||Vn)(I(fe),I(ue),I(ne),I(gi),I(G),I(ot),I(W),I(O),I(F))},Vn.\u0275cmp=V({type:Vn,selectors:[["app-linkmanagement-accounting-detail-edit"]],viewQuery:function(i,t){if(i&1&&ee(Rr,5),i&2){let s;te(s=ie())&&(t.formGroup=s.first)}},standalone:!1,features:[U],decls:77,vars:63,consts:[["vform","ngForm"],["AccountingType","ngModel"],["Debtor",""],["Creditor",""],["LinkExternalShopInvoiceSaleDetailId",""],["RowNumber",""],["FishNumber",""],["TokenNumber",""],["ReceiptCode",""],["Description",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["id","dataModel.accountingType","name","dataModel.accountingType",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[3,"value"],["for","dataModel.debtor",1,"color-highlight"],["matInput","","type","number","name","dataModel.debtor","minlength","0","required","","id","dataModel.debtor",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.creditor",1,"color-highlight"],["matInput","","type","number","name","dataModel.creditor","minlength","0","required","","id","dataModel.creditor",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.linkExternalShopInvoiceSaleDetailId",1,"color-highlight"],["matInput","","type","number","name","dataModel.linkExternalShopInvoiceSaleDetailId","id","dataModel.linkExternalShopInvoiceSaleDetailId",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.rowNumber",1,"color-highlight"],["matInput","","type","number","name","dataModel.rowNumber","id","dataModel.rowNumber",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.fishNumber",1,"color-highlight"],["matInput","","type","text","name","dataModel.fishNumber","minlength","3","maxlength","100","required","","id","dataModel.fishNumber",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.tokenNumber",1,"color-highlight"],["matInput","","type","text","name","dataModel.tokenNumber","minlength","3","maxlength","100","required","","id","dataModel.tokenNumber",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.receiptCode",1,"color-highlight"],["matInput","","type","text","name","dataModel.receiptCode","minlength","3","maxlength","100","required","","id","dataModel.receiptCode",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"form-actions"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=w();a(0,"div",10),S(1,"app-progress-spinner",11),a(2,"div",12)(3,"p",13),c(4),r(),a(5,"p"),c(6),f(7,"translate"),r(),S(8,"app-cms-form-result-message",14),a(9,"form",15,0),v("ngSubmit",function(){return d(s),m(t.onFormSubmit())}),h(11,xr,1,5,"app-cms-enum-record-status-selector",16),a(12,"app-linkmanagement-accounting-selector",17),f(13,"translate"),v("optionChange",function(u){return d(s),m(t.onActionSelectorAccount(u))}),r(),a(14,"div",18)(15,"select",19,1),y("ngModelChange",function(u){return d(s),k(t.dataModel.accountingType,u)||(t.dataModel.accountingType=u),m(u)}),me(17,Dr,2,2,"option",20,Xe),r(),a(19,"em"),c(20),f(21,"translate"),r(),h(22,Br,5,3,"mat-error"),r(),h(23,Pr,9,6,"div",18),a(24,"div",18)(25,"label",21),c(26),r(),a(27,"input",22,2),f(29,"translate"),y("ngModelChange",function(u){return d(s),k(t.dataModel.debtor,u)||(t.dataModel.debtor=u),m(u)}),r(),h(30,Nr,1,0,"i",23),h(31,Or,1,0,"i",24),h(32,Fr,5,3,"mat-error"),r(),a(33,"div",18)(34,"label",25),c(35),r(),a(36,"input",26,3),f(38,"translate"),y("ngModelChange",function(u){return d(s),k(t.dataModel.creditor,u)||(t.dataModel.creditor=u),m(u)}),r(),h(39,Gr,1,0,"i",23),h(40,Wr,1,0,"i",24),h(41,Hr,5,3,"mat-error"),r(),a(42,"div",18)(43,"label",27),c(44),r(),a(45,"input",28,4),y("ngModelChange",function(u){return d(s),k(t.dataModel.linkExternalShopInvoiceSaleDetailId,u)||(t.dataModel.linkExternalShopInvoiceSaleDetailId=u),m(u)}),r()(),a(47,"div",18)(48,"label",29),c(49),r(),a(50,"input",30,5),y("ngModelChange",function(u){return d(s),k(t.dataModel.rowNumber,u)||(t.dataModel.rowNumber=u),m(u)}),r()(),a(52,"div",18)(53,"label",31),c(54),r(),a(55,"input",32,6),y("ngModelChange",function(u){return d(s),k(t.dataModel.fishNumber,u)||(t.dataModel.fishNumber=u),m(u)}),r(),a(57,"em"),c(58),r(),h(59,qr,5,3,"mat-error"),r(),a(60,"div",18)(61,"label",33),c(62),r(),a(63,"input",34,7),y("ngModelChange",function(u){return d(s),k(t.dataModel.tokenNumber,u)||(t.dataModel.tokenNumber=u),m(u)}),r(),a(65,"em"),c(66),r(),h(67,jr,5,3,"mat-error"),r(),a(68,"div",18)(69,"label",35),c(70),r(),a(71,"input",36,8),y("ngModelChange",function(u){return d(s),k(t.dataModel.receiptCode,u)||(t.dataModel.receiptCode=u),m(u)}),r(),a(73,"em"),c(74),r(),h(75,Ur,5,3,"mat-error"),r(),h(76,Qr,9,7,"div",37),r()()()}if(i&2){let s=D(16),M=D(28),u=D(37),x=D(56),q=D(64),K=D(72);o(),_("optionsInfoAreaId",t.constructorInfoAreaId),o(3),C(" ",t.formInfo.formTitle," "),o(2),C(" ",g(7,53,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),_("formInfo",t.formInfo),o(3),b(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?11:-1),o(),_("optionDisabled",!(t.fieldsInfo.linkManagementAccountingId!=null&&t.fieldsInfo.linkManagementAccountingId.accessAddField))("optionSelectForce",t.dataModel.linkManagementAccountingId)("optionPlaceholder",g(13,55,"TITLE.Account")),o(3),E("ngModel",t.dataModel.accountingType),o(2),pe(t.dataModelEnumSharingAccountingTypeResult.listItems),o(3),T(g(21,57,"TITLE.Select_type_of_content")),o(2),b(s.errors!=null&&s.errors.required?22:-1),o(),b(t.fieldsInfo.description!=null&&t.fieldsInfo.description.accessWatchField?23:-1),o(3),T(t.fieldsInfo.debtor==null?null:t.fieldsInfo.debtor.fieldTitle),o(),_("placeholder",R(g(29,59,"TITLE.Debtor_Credit"))),E("ngModel",t.dataModel.debtor),o(3),b(M.value?-1:30),o(),b(M.value?31:-1),o(),b(M.errors!=null&&M.errors.required?32:-1),o(3),T(t.fieldsInfo.creditor==null?null:t.fieldsInfo.creditor.fieldTitle),o(),_("placeholder",R(g(38,61,"TITLE.Creditor_Credit"))),E("ngModel",t.dataModel.creditor),o(3),b(u.value?-1:39),o(),b(u.value?40:-1),o(),b(u.errors!=null&&u.errors.required?41:-1),o(3),T(t.fieldsInfo.linkExternalShopInvoiceSaleDetailId==null?null:t.fieldsInfo.linkExternalShopInvoiceSaleDetailId.fieldTitle),o(),_("placeholder",R(t.fieldsInfo.linkExternalShopInvoiceSaleDetailId==null?null:t.fieldsInfo.linkExternalShopInvoiceSaleDetailId.fieldTitle)),E("ngModel",t.dataModel.linkExternalShopInvoiceSaleDetailId),o(4),T(t.fieldsInfo.rowNumber==null?null:t.fieldsInfo.rowNumber.fieldTitle),o(),_("placeholder",R(t.fieldsInfo.rowNumber==null?null:t.fieldsInfo.rowNumber.fieldTitle)),E("ngModel",t.dataModel.rowNumber),o(4),T(t.fieldsInfo.fishNumber==null?null:t.fieldsInfo.fishNumber.fieldTitle),o(),_("placeholder",R(t.fieldsInfo.fishNumber==null?null:t.fieldsInfo.fishNumber.fieldTitle)),E("ngModel",t.dataModel.fishNumber),o(3),C("",x.value.length," / 100"),o(),b(x.errors!=null&&x.errors.required?59:-1),o(3),T(t.fieldsInfo.tokenNumber==null?null:t.fieldsInfo.tokenNumber.fieldTitle),o(),_("placeholder",R(t.fieldsInfo.tokenNumber==null?null:t.fieldsInfo.tokenNumber.fieldTitle)),E("ngModel",t.dataModel.tokenNumber),o(3),C("",q.value.length," / 100"),o(),b(q.errors!=null&&q.errors.required?67:-1),o(3),T(t.fieldsInfo.receiptCode==null?null:t.fieldsInfo.receiptCode.fieldTitle),o(),_("placeholder",R(t.fieldsInfo.receiptCode==null?null:t.fieldsInfo.receiptCode.fieldTitle)),E("ngModel",t.dataModel.receiptCode),o(3),C("",K.value.length," / 100"),o(),b(K.errors!=null&&K.errors.required?75:-1),o(),b(t.formInfo.submitButtonEnabled?76:-1)}},dependencies:[ke,li,si,J,Ke,ri,X,Te,Y,Ce,he,oe,Ee,ye,N,Ae,Q,Le,Je,xn,P],encapsulation:2});var Yo=Vn;var zr=()=>["expandedTitle"],Kr=()=>["expandedDetail"],Jr=()=>[5,10,20,100],za=n=>({display:n});function Xr(n,l){if(n&1){let e=w();a(0,"div",15)(1,"a",42),v("click",function(){d(e);let t=p();return m(t.onActionButtonNewRow())}),S(2,"i",43)(3,"br"),r(),a(4,"p",44),c(5),f(6,"translate"),r()()}n&2&&(o(5),C(" ",g(6,1,"ACTION.ADD")," "))}function Yr(n,l){if(n&1){let e=w();a(0,"div",15)(1,"a",45),v("click",function(){d(e);let t=p();return m(t.onActionButtonEditRow(t.tableRowSelected))}),S(2,"i",46)(3,"br"),r(),a(4,"p",44),c(5),f(6,"translate"),r()()}n&2&&(o(5),C(" ",g(6,1,"ACTION.EDIT")," "))}function Zr(n,l){if(n&1){let e=w();a(0,"div",15)(1,"a",47),v("click",function(){d(e);let t=p();return m(t.onActionButtonDeleteRow(t.tableRowSelected))}),S(2,"i",48)(3,"br"),r(),a(4,"p",44),c(5),f(6,"translate"),r()()}n&2&&(o(5),C(" ",g(6,1,"ACTION.DELETE")," "))}function $r(n,l){n&1&&(a(0,"mat-header-cell"),c(1),f(2,"translate"),r()),n&2&&(o(),C(" ",g(2,1,"TITLE.MENU")," "))}function el(n,l){if(n&1){let e=w();a(0,"mat-cell")(1,"button",49),v("click",function(){let t=d(e).$implicit,s=p();return m(s.onActionTableRowSelectActionMenu(t))}),S(2,"i",50),r()()}}function tl(n,l){if(n&1&&(a(0,"mat-header-cell",51),c(1),r()),n&2){let e=p();o(),C(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function il(n,l){if(n&1&&(a(0,"mat-cell"),c(1),r()),n&2){let e=l.$implicit;o(),C(" ",e.id," ")}}function nl(n,l){if(n&1&&(a(0,"mat-header-cell",51),c(1),r()),n&2){let e=p();o(),C(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function ol(n,l){if(n&1&&(a(0,"mat-cell"),c(1),f(2,"cmssiteinfo"),f(3,"async"),r()),n&2){let e=l.$implicit;o(),C(" ",g(3,3,g(2,1,e.linkSiteId))," ")}}function al(n,l){if(n&1&&(a(0,"mat-header-cell",51),c(1),r()),n&2){let e=p();o(),C(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function rl(n,l){if(n&1&&S(0,"select",53),n&2){let e=p().$implicit,i=p();_("contentService",i.contentService)("row",e)("ngStyle",at(3,za,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function ll(n,l){if(n&1&&(a(0,"mat-cell"),S(1,"i",52),f(2,"statusIconClass"),h(3,rl,1,5,"select",53),r()),n&2){let e=l.$implicit,i=p();o(),_("ngClass",g(2,2,e.recordStatus)),o(2),b(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessEditRow?3:-1)}}function sl(n,l){if(n&1&&(a(0,"mat-header-cell",51),c(1),r()),n&2){let e=p();o(),C(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function cl(n,l){if(n&1&&(a(0,"mat-cell"),c(1),f(2,"localeDate"),r()),n&2){let e=l.$implicit;o(),C(" ",g(2,1,e.createdDate)," ")}}function dl(n,l){if(n&1&&(a(0,"mat-header-cell",51),c(1),r()),n&2){let e=p();o(),C(" ",e.fieldsInfo.updatedDate==null?null:e.fieldsInfo.updatedDate.fieldTitle," ")}}function ml(n,l){if(n&1&&(a(0,"mat-cell"),c(1),f(2,"localeDate"),r()),n&2){let e=l.$implicit;o(),C(" ",g(2,1,e.updatedDate)," ")}}function pl(n,l){if(n&1&&(a(0,"mat-header-cell",51),c(1),r()),n&2){let e=p();o(),C(" ",e.fieldsInfo.debtor==null?null:e.fieldsInfo.debtor.fieldTitle," ")}}function ul(n,l){if(n&1&&(a(0,"mat-cell"),c(1),r()),n&2){let e=l.$implicit;o(),C(" ",e.debtor," ")}}function fl(n,l){if(n&1&&(a(0,"mat-header-cell",51),c(1),r()),n&2){let e=p();o(),C(" ",e.fieldsInfo.creditor==null?null:e.fieldsInfo.creditor.fieldTitle," ")}}function gl(n,l){if(n&1&&(a(0,"mat-cell"),c(1),r()),n&2){let e=l.$implicit;o(),C(" ",e.creditor," ")}}function _l(n,l){n&1&&(a(0,"mat-header-cell"),c(1),f(2,"translate"),r()),n&2&&(o(),C(" ",g(2,1,"TITLE.OPTION")," "))}function Ml(n,l){if(n&1&&(a(0,"mat-cell",54)(1,"button",55)(2,"mat-icon"),c(3,"more_vert"),r()(),S(4,"mat-menu",null,2),r()),n&2){let e=D(5);o(),_("matMenuTriggerFor",e)}}function Sl(n,l){if(n&1&&(a(0,"mat-cell"),c(1),r()),n&2){let e=l.$implicit;o(),C(" ",e.title," ")}}function Cl(n,l){if(n&1&&(S(0,"img",56),f(1,"cmsthumbnail")),n&2){let e=p().$implicit;_("src",R(g(1,2,e.linkMainImageIdSrc)),Z)}}function hl(n,l){if(n&1&&(a(0,"tr"),S(1,"td"),a(2,"td"),c(3),r()()),n&2){let e=p().$implicit,i=p();o(3),Ve(" ",i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle," : ",e.description," ")}}function bl(n,l){if(n&1){let e=w();a(0,"mat-cell")(1,"div")(2,"table")(3,"tr")(4,"th"),h(5,Cl,2,4,"img",56),r(),a(6,"th"),c(7),a(8,"span",57),v("click",function(){d(e);let t=p();return m(t.onActionCopied())}),S(9,"i",58),r()()(),h(10,hl,4,2,"tr"),a(11,"tr"),S(12,"td")(13,"td"),r()()()()}if(n&2){let e=l.$implicit;o(5),b((e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0?5:-1),o(2),C(" ",e.id," "),o(),_("cdkCopyToClipboard",e.id),o(2),b(e.description?10:-1)}}function vl(n,l){n&1&&S(0,"mat-header-row")}function Il(n,l){if(n&1){let e=w();a(0,"mat-row",59),v("click",function(t){let s=d(e).$implicit,M=p();return m(M.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=d(e).$implicit,M=p();return m(M.onActionTableRowSelect(s,t))})("mouseenter",function(){let t=d(e).$implicit,s=p();return m(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=d(e).$implicit,s=p();return m(s.onActionTableRowMouseLeave(t))}),r()}if(n&2){let e=l.$implicit,i=p();H("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}function wl(n,l){if(n&1){let e=w();a(0,"mat-row",60),v("click",function(t){let s=d(e).$implicit,M=p();return m(M.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=d(e).$implicit,M=p();return m(M.onActionTableRowSelect(s,t))})("mouseenter",function(){let t=d(e).$implicit,s=p();return m(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=d(e).$implicit,s=p();return m(s.onActionTableRowMouseLeave(t))}),r()}if(n&2){let e=l.$implicit,i=p();H("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}function Tl(n,l){if(n&1){let e=w();a(0,"mat-row",61),v("click",function(t){let s=d(e).$implicit,M=p();return m(M.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=d(e).$implicit,M=p();return m(M.onActionTableRowSelect(s,t))})("mouseenter",function(){let t=d(e).$implicit,s=p();return m(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=d(e).$implicit,s=p();return m(s.onActionTableRowMouseLeave(t))}),r()}if(n&2){let e=l.$implicit,i=p();H("ntk-row-expanded",e.expanded===!0)("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)),_("ngStyle",at(5,za,e.expanded===!0?"":"none"))}}var Pn=class Pn extends Nt{constructor(e,i,t,s,M,u,x,q,K,ve,Re){super(e,new vi,ve,M,u);this.contentService=e;this.cmsToastrService=i;this.activatedRoute=t;this.router=s;this.tokenHelper=M;this.translate=u;this.cmsStoreService=x;this.cdr=q;this.pageInfo=K;this.publicHelper=ve;this.dialog=Re;this.requestLinkManagementAccountingId=0;this.constructorInfoAreaId=this.constructor.name;this.filteModelContent=new Ie;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["id","recordStatus","createdDate","updatedDate","action_menu"];this.tabledisplayedColumnsMobileSource=["id","recordStatus","createdDate","updatedDate","action_menu"];this.unsubscribe=[];if(this.publicHelper.processService.cdr=this.cdr,this.requestLinkManagementAccountingId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkManagementAccountingId")),this.optionsSearch.parentMethods={onSubmit:xe=>this.onSubmitOptionsSearch(xe)},this.filteModelContent.sortColumn="id",this.filteModelContent.sortType=ge.Descending,this.requestLinkManagementAccountingId>0){let xe=new z;xe.propertyName="LinkManagementAccountingId",xe.value=this.requestLinkManagementAccountingId,this.filteModelContent.filters.push(xe)}}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>De(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new vi);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.contentService.setAccessLoad(),this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),t.isSuccess?(this.applyDataGetAllResult(t),this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=ge.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=ge.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=ge.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(){let e=new ci;e.height="90%",e.disableClose=!0,e.autoFocus=!0,e.data={},this.dialog.open(Jo,e).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(!(e?.id>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Yo,{height:"90%",panelClass:i,enterAnimationDuration:le.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:le.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!(e?.id>0)){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(s=>{this.cmsToastrService.typeErrorSelected(s)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Xo,{height:"90%",panelClass:i,enterAnimationDuration:le.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:le.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate&&this.DataGetAll()})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(u=>{i.set(u,0)}),this.translate.get("MESSAGE.All").subscribe(u=>{i.set(u,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(u=>{this.publicHelper.processService.processStart(t,u,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:u=>{u.isSuccess?(this.translate.get("MESSAGE.All").subscribe(x=>{i.set(x,u.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(u.errorMessage),this.publicHelper.processService.processStop(t)},error:u=>{this.cmsToastrService.typeError(u),this.publicHelper.processService.processStop(t,!1)}});let s=JSON.parse(JSON.stringify(this.filteModelContent)),M=new z;M.propertyName="recordStatus",M.value=gt.Available,s.filters.push(M),this.contentService.ServiceGetCount(s).subscribe({next:u=>{u.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(x=>{i.set(x,u.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(u.errorMessage),this.publicHelper.processService.processStop(t)},error:u=>{this.cmsToastrService.typeError(u),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonReload(){this.DataGetAll()}onActionCopied(){this.cmsToastrService.typeSuccessCopedToClipboard()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}};Pn.\u0275fac=function(i){return new(i||Pn)(I(gi),I(G),I(st),I(Ze),I(tt),I(F),I(et),I(O),I(Bt),I(W),I(nt))},Pn.\u0275cmp=V({type:Pn,selectors:[["app-linkmanagement-accountingdetail-list"]],standalone:!1,features:[U],decls:68,vars:35,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionActionRowDisplayMenuAct","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","","multiTemplateDataRows","",3,"matSortChange","dataSource"],["matColumnDef","action_menu"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","linkSiteId"],["matColumnDef","recordStatus"],["matColumnDef","createdDate"],["matColumnDef","updatedDate"],["matColumnDef","Debtor"],["matColumnDef","Creditor"],["matColumnDef","Action"],["class","Action",4,"matCellDef"],["matColumnDef","expandedTitle"],["matColumnDef","expandedDetail"],[4,"matHeaderRowDef"],["class","ntk-row-expandedTitle",3,"ntk-row-selected","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["class","ntk-row-expandedDetail",3,"ntk-row-expanded","ntk-row-selected","ngStyle","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"click"],[1,"fa","fa-bars","font-18"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],["aria-hidden","","height","80","width","80",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"navi-icon","pointer",3,"click","cdkCopyToClipboard"],[1,"flaticon2-copy"],[1,"ntk-row-expandedTitle",3,"click","rtclick","mouseenter","mouseleave"],[1,"ntk-row-mainfild",3,"click","rtclick","mouseenter","mouseleave"],[1,"ntk-row-expandedDetail",3,"click","rtclick","mouseenter","mouseleave","ngStyle"]],template:function(i,t){if(i&1){let s=w();a(0,"app-cms-html-list",3),y("optionActionGuideNoticeDisplayChange",function(u){return d(s),k(t.viewGuideNotice,u)||(t.viewGuideNotice=u),m(u)}),v("optionOnActionButtonMemoRow",function(){return d(s),m(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return d(s),m(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return d(s),m(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return d(s),m(t.onActionButtonPrintRow())}),L(1,4),c(2," ---------------------- "),A(),de(3,5)(4,6),L(5,7),a(6,"a",8),v("click",function(){return d(s),m(t.viewGuideNotice=!t.viewGuideNotice)}),S(7,"i",9),r(),a(8,"a",8),v("click",function(){return d(s),m(t.onActionButtonReload())}),S(9,"i",10),r(),A(),L(10,11),a(11,"a",12),v("click",function(){return d(s),m(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),S(12,"mat-slide-toggle",13),c(13),f(14,"translate"),r(),a(15,"a",12),v("click",function(){return d(s),m(t.onActionButtonStatist())}),S(16,"mat-slide-toggle",13),c(17),f(18,"translate"),r(),A(),L(19,14),h(20,Xr,7,3,"div",15),A(),L(21,16),h(22,Yr,7,3,"div",15),h(23,Zr,7,3,"div",15),A(),L(24,17),a(25,"app-cms-search-list",18),y("optionsChange",function(u){return d(s),k(t.optionsSearch,u)||(t.optionsSearch=u),m(u)}),r(),a(26,"app-cms-statist-list",18),y("optionsChange",function(u){return d(s),k(t.optionsStatist,u)||(t.optionsStatist=u),m(u)}),r(),A(),L(27,19),a(28,"mat-table",20,0),v("matSortChange",function(){d(s);let u=D(29);return m(t.onTableSortData(u))}),L(30,21),B(31,$r,3,3,"mat-header-cell",22)(32,el,3,0,"mat-cell",23),A(),L(33,24),B(34,tl,2,1,"mat-header-cell",25)(35,il,2,1,"mat-cell",23),A(),L(36,26),B(37,nl,2,1,"mat-header-cell",25)(38,ol,4,5,"mat-cell",23),A(),L(39,27),B(40,al,2,1,"mat-header-cell",25)(41,ll,4,4,"mat-cell",23),A(),L(42,28),B(43,sl,2,1,"mat-header-cell",25)(44,cl,3,3,"mat-cell",23),A(),L(45,29),B(46,dl,2,1,"mat-header-cell",25)(47,ml,3,3,"mat-cell",23),A(),L(48,30),B(49,pl,2,1,"mat-header-cell",25)(50,ul,2,1,"mat-cell",23),A(),L(51,31),B(52,fl,2,1,"mat-header-cell",25)(53,gl,2,1,"mat-cell",23),A(),L(54,32),B(55,_l,3,3,"mat-header-cell",22)(56,Ml,6,1,"mat-cell",33),A(),L(57,34),B(58,Sl,2,1,"mat-cell",23),A(),L(59,35),B(60,bl,14,4,"mat-cell",23),A(),B(61,vl,1,0,"mat-header-row",36)(62,Il,1,2,"mat-row",37)(63,wl,1,2,"mat-row",38)(64,Tl,1,7,"mat-row",39),r(),A(),L(65,40),a(66,"mat-paginator",41,1),v("page",function(u){return d(s),m(t.onTablePageingData(u))}),r(),A(),r()}i&2&&(_("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),E("optionActionGuideNoticeDisplay",t.viewGuideNotice),_("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionActionRowDisplayMenuAct",t.tableRowSelectActionMenuClick)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),o(9),H("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(3),_("checked",t.optionsSearch.data.show),o(),C("",g(14,28,"ACTION.SEARCH")," "),o(3),_("checked",t.optionsStatist.data.show),o(),C("",g(18,30,"ACTION.STATIST")," "),o(3),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessAddRow?20:-1),o(2),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?22:-1),o(),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?23:-1),o(2),E("options",t.optionsSearch),o(),E("options",t.optionsStatist),o(2),_("dataSource",t.tableSource),o(33),_("matHeaderRowDef",t.tabledisplayedColumns),o(),_("matRowDefColumns",se(32,zr)),o(),_("matRowDefColumns",t.tabledisplayedColumns),o(),_("matRowDefColumns",se(33,Kr)),o(2),_("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",se(34,Jr)))},dependencies:[Pe,ti,it,Ne,N,ht,bt,Oe,Fe,vt,It,wt,Et,At,kt,Tt,Rt,yt,Lt,xt,Dt,$e,Ge,We,Ot,He,Qe,Ye,P,Ft,be,Gt,qe],encapsulation:2});var on=Pn;var El=()=>[5,10,20,100],kl=(n,l)=>l.id;function yl(n,l){if(n&1){let e=w();a(0,"div",16)(1,"a",25),v("click",function(){d(e);let t=p();return m(t.onActionButtonNewRow())}),S(2,"i",26)(3,"br"),r(),a(4,"p",27),c(5),f(6,"translate"),r()()}n&2&&(o(5),C(" ",g(6,1,"ACTION.ADD")," "))}function Ll(n,l){if(n&1){let e=w();a(0,"div",16)(1,"a",28),v("click",function(){d(e);let t=p();return m(t.onActionButtonEditRow(t.tableRowSelected))}),S(2,"i",29)(3,"br"),r(),a(4,"p",27),c(5),f(6,"translate"),r()()}n&2&&(o(5),C(" ",g(6,1,"ACTION.EDIT")," "))}function Al(n,l){if(n&1){let e=w();a(0,"div",16)(1,"a",30),v("click",function(){d(e);let t=p();return m(t.onActionButtonDeleteRow(t.tableRowSelected))}),S(2,"i",31)(3,"br"),r(),a(4,"p",27),c(5),f(6,"translate"),r()()}n&2&&(o(5),C(" ",g(6,1,"ACTION.DELETE")," "))}function Rl(n,l){if(n&1){let e=w();a(0,"div",16)(1,"a",32),v("click",function(){d(e);let t=p();return m(t.onActionButtonViewRow(t.tableRowSelected))}),S(2,"i",33)(3,"br"),r(),a(4,"p",27),c(5),f(6,"translate"),r()()}n&2&&(o(5),C(" ",g(6,1,"ACTION.VIEW")," "))}function xl(n,l){if(n&1&&S(0,"select",43),n&2){let e=p(2).$implicit,i=p(2);_("contentService",i.contentService)("row",e)}}function Dl(n,l){if(n&1&&(a(0,"div",40),S(1,"i",42),f(2,"statusIconClass"),h(3,xl,1,2,"select",43),r()),n&2){let e=p().$implicit,i=p(2);o(),_("ngClass",g(2,2,e.recordStatus)),o(2),b(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessEditRow&&e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?3:-1)}}function Bl(n,l){if(n&1){let e=w();a(0,"div",41)(1,"div",40)(2,"span",44),v("click",function(t){return d(e),p(3).onActionCopied(),m(t.stopPropagation())}),S(3,"i",45),r(),c(4),r()()}if(n&2){let e=p().$implicit;o(2),_("cdkCopyToClipboard",e.id.toString()),o(2),C(" ID: ",e.id," ")}}function Vl(n,l){if(n&1){let e=w();a(0,"div",35),v("click",function(t){let s=d(e).$implicit,M=p(2);return m(M.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=d(e).$implicit,M=p(2);return m(M.onActionTableRowSelect(s,t))})("mouseenter",function(){let t=d(e).$implicit,s=p(2);return m(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=d(e).$implicit,s=p(2);return m(s.onActionTableRowMouseLeave(t))}),a(1,"div",36),S(2,"i",37),f(3,"statusIconClass"),r(),a(4,"div",38)(5,"div",39),c(6),r(),h(7,Dl,4,4,"div",40),h(8,Bl,5,2,"div",41),r()()}if(n&2){let e=l.$implicit,i=p(2);H("selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))("bg-fade-highlight-light",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)),Be("aria-label",e.id),o(2),_("ngClass",g(3,9,e.recordStatus)),o(4),C(" ","ID: "+e.id," "),o(),b(e.recordStatus!==void 0?7:-1),o(),b(i.getRowExpanded(e)?8:-1)}}function Pl(n,l){if(n&1&&(a(0,"div",21),me(1,Vl,9,11,"div",34,kl),r()),n&2){let e=p();o(),pe(e.dataModelResult.listItems)}}function Nl(n,l){n&1&&(a(0,"div",22),c(1),f(2,"translate"),r()),n&2&&(o(),T(g(2,1,"MESSAGE.NoRecord")))}var an=class an extends on{};an.\u0275fac=(()=>{let l;return function(i){return(l||(l=_t(an)))(i||an)}})(),an.\u0275cmp=V({type:an,selectors:[["app-linkmanagement-accountingdetail-list-mobile"]],standalone:!1,features:[U],decls:37,vars:31,consts:[["paginator",""],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionOnScrollNearBottom","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplay","optionActionRowDisplayMenu","optionActionRowDisplayMenuAct","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-maximize","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-minimize","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],[1,"cms-m-list"],[1,"cms-m-empty"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],["role","button","tabindex","0",1,"cms-m-list-item","border-highlight",3,"selected","bg-fade-highlight-light"],["role","button","tabindex","0",1,"cms-m-list-item","border-highlight",3,"click","rtclick","mouseenter","mouseleave"],[1,"cms-m-list-item-image-placeholder"],["aria-hidden","true",3,"ngClass"],[1,"cms-m-list-item-content"],[1,"cms-m-list-item-title"],[1,"cms-m-list-item-subtitle"],[1,"cms-m-list-item-expanded"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none","margin-left","8px",3,"contentService","row"],[1,"navi-icon","pointer",3,"click","cdkCopyToClipboard"],[1,"flaticon2-copy"]],template:function(e,i){if(e&1){let t=w();a(0,"app-cms-html-list-mobile",1),y("optionActionGuideNoticeDisplayChange",function(M){return d(t),k(i.viewGuideNotice,M)||(i.viewGuideNotice=M),m(M)}),v("optionOnActionButtonMemoRow",function(){return d(t),m(i.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return d(t),m(i.onActionButtonMemo())})("optionOnActionButtonExport",function(){return d(t),m(i.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return d(t),m(i.onActionButtonPrintRow())})("optionOnScrollNearBottom",function(){return d(t),m(i.onActionLoadNextPage())}),de(1,2)(2,3)(3,4),L(4,5),a(5,"a",6),v("click",function(){return d(t),m(i.viewGuideNotice=!i.viewGuideNotice)}),S(6,"i",7),r(),a(7,"a",6),v("click",function(){return d(t),m(i.onActionButtonReload())}),S(8,"i",8),r(),a(9,"a",9),v("click",function(){return d(t),m(i.onActionGridExpandRows(!0))}),S(10,"i",10),r(),a(11,"a",9),v("click",function(){return d(t),m(i.onActionGridExpandRows(!1))}),S(12,"i",11),r(),A(),L(13,12),a(14,"a",13),v("click",function(){return d(t),m(i.optionsSearch.data.show=!i.optionsSearch.data.show)}),S(15,"mat-slide-toggle",14),c(16),f(17,"translate"),r(),a(18,"a",13),v("click",function(){return d(t),m(i.onActionButtonStatist())}),S(19,"mat-slide-toggle",14),c(20),f(21,"translate"),r(),A(),L(22,15),h(23,yl,7,3,"div",16),A(),L(24,17),h(25,Ll,7,3,"div",16),h(26,Al,7,3,"div",16),h(27,Rl,7,3,"div",16),A(),L(28,18),a(29,"app-cms-search-list",19),y("optionsChange",function(M){return d(t),k(i.optionsSearch,M)||(i.optionsSearch=M),m(M)}),r(),a(30,"app-cms-statist-list",19),y("optionsChange",function(M){return d(t),k(i.optionsStatist,M)||(i.optionsStatist=M),m(M)}),r(),A(),L(31,20),h(32,Pl,3,0,"div",21)(33,Nl,3,3,"div",22),A(),L(34,23),a(35,"mat-paginator",24,0),v("page",function(){return d(t),m(i.onTablePageingData())}),r(),A(),r()}e&2&&(_("optionsListInfoAreaId",i.constructorInfoAreaId)("optionGuideNoticeKey","link-management.accounting-detail.list"),E("optionActionGuideNoticeDisplay",i.viewGuideNotice),_("optionTreeDisplay",!1)("optionActionRowId",i.tableRowSelected==null?null:i.tableRowSelected.id)("optionActionRowDisplay",(i.tableRowSelected==null||i.tableRowSelected.id==null?null:i.tableRowSelected.id.length)>0)("optionActionRowDisplayMenu",i.tableRowSelect2Click)("optionActionRowDisplayMenuAct",i.tableRowSelectActionMenuClick)("optionSelectRowItemTitle",i.tableRowSelected==null?null:i.tableRowSelected.id),o(8),H("rotation360",i.publicHelper.processService.process.inRunArea[i.constructorInfoAreaId]),o(7),_("checked",i.optionsSearch.data.show),o(),C(" ",g(17,26,"ACTION.SEARCH")),o(3),_("checked",i.optionsStatist.data.show),o(),C(" ",g(21,28,"ACTION.STATIST")),o(3),b(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessAddRow?23:-1),o(2),b(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessEditRow&&(i.tableRowSelected==null||i.tableRowSelected.id==null?null:i.tableRowSelected.id.length)>0?25:-1),o(),b(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessDeleteRow&&(i.tableRowSelected==null||i.tableRowSelected.id==null?null:i.tableRowSelected.id.length)>0?26:-1),o(),b(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessWatchRow&&(i.tableRowSelected==null||i.tableRowSelected.id==null?null:i.tableRowSelected.id.length)>0?27:-1),o(2),E("options",i.optionsSearch),o(),E("options",i.optionsStatist),o(2),b(!(i.dataModelResult==null||i.dataModelResult.listItems==null)&&i.dataModelResult.listItems.length?32:33),o(3),_("length",i.dataModelResult.totalRowCount)("pageIndex",i.dataModelResult.currentPageNumber-1)("pageSize",i.dataModelResult.rowPerPage)("pageSizeOptions",se(30,El)))},dependencies:[Pe,N,Oe,Fe,$e,Ge,We,Wt,He,Qe,P,qe],encapsulation:2});var xo=an;var Ol=["*"];function Fl(n,l){if(n&1&&(a(0,"label",3),c(1),r()),n&2){let e=p();_("for",ei("app-cms-site-selector-",e.id)),o(),T(e.optionLabel)}}function Gl(n,l){if(n&1&&(a(0,"mat-option",6)(1,"span"),c(2),r()()),n&2){let e=l.$implicit,i=p();_("value",e)("disabled",i.optionDisabled),o(2),T(i.displayOption(e))}}function Wl(n,l){n&1&&S(0,"i",7)}function Hl(n,l){n&1&&S(0,"i",8)}function ql(n,l){if(n&1){let e=w();a(0,"i",11),v("click",function(){d(e);let t=p();return m(t.onActionSelectClear())}),r()}}function jl(n,l){n&1&&(a(0,"em"),c(1),f(2,"translate"),r()),n&2&&(o(),C("(",g(2,1,"TITLE.Necessary"),")"))}var en=class en{constructor(l,e,i,t,s,M){this.coreEnumService=l;this.cmsToastrService=e;this.cdr=i;this.publicHelper=t;this.translate=s;this.categoryService=M;this.id=++en.nextId;this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new j;this.dataModelSelect=new Ut;this.formControl=new Ni;this.optionPlaceholder="";this.optionLabel="";this.optionSelectFirstItem=!1;this.optionDisabled=!1;this.optionRequired=!1;this.optionChange=new lt;this.optionReload=()=>this.onActionButtonReload();this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(l){this.onActionSelectForce(l)}ngOnInit(){this.loadOptions(),(!this.optionLabel||this.optionLabel.length==0&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder)}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(Ri(""),Li(1500),Ai(),xi(l=>typeof l=="string"||typeof l=="number"?this.DataGetAll(l||""):[]))}displayFn(l){return l?l.id+"":void 0}displayOption(l){return l?l.id+"":void 0}DataGetAll(l){return De(this,null,function*(){let e=new Ie;e.rowPerPage=20,e.accessLoad=!0;let i=new z;i.propertyName="title",i.value=l,i.searchType=ii.Contains,i.clauseType=Mt.Or,e.filters.push(i),l&&typeof+l=="number"&&+l>0&&(i=new z,i.propertyName="id",i.value=l,i.searchType=ii.Equal,i.clauseType=Mt.Or,e.filters.push(i));let t=this.constructor.name+"main";return this.translate.get("MESSAGE.Receiving_information").subscribe(s=>{this.publicHelper.processService.processStart(t,s,this.constructorInfoAreaId)}),yield ki(this.categoryService.ServiceGetAll(e)).then(s=>(this.dataModelResult=s,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||this.dataModelSelect.id<=0)&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0])},1e3),this.onActionSelect(this.dataModelResult.listItems[0])),this.publicHelper.processService.processStop(t),s.listItems))})}onActionSelect(l){this.dataModelSelect=l,this.optionChange.emit(this.dataModelSelect)}onActionSelectClear(){this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null)}push(l){return this.filteredOptions.pipe(yi(e=>(e.find(i=>i.id===l.id)||e.push(l),e)))}onActionSelectForce(l){if(typeof l=="number"&&l>0){if(this.dataModelSelect&&this.dataModelSelect.id===l)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(e=>e.id===l)){let e=this.dataModelResult.listItems.find(i=>i.id===l);this.dataModelSelect=e,this.formControl.setValue(e);return}this.categoryService.ServiceGetOneById(l).subscribe({next:e=>{e.isSuccess?(this.filteredOptions=this.push(e.item),this.dataModelSelect=e.item,this.formControl.setValue(e.item),this.optionChange.emit(e.item)):this.cmsToastrService.typeErrorMessage(e.errorMessage)}});return}if(typeof l==typeof Ut){this.filteredOptions=this.push(l),this.dataModelSelect=l,this.formControl.setValue(l);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new Ut,this.loadOptions()}};en.nextId=0,en.\u0275fac=function(e){return new(e||en)(I(ne),I(G),I(O),I(W),I(F),I(oi))},en.\u0275cmp=V({type:en,selectors:[["app-linkmanagement-member-selector"]],inputs:{optionPlaceholder:"optionPlaceholder",optionLabel:"optionLabel",optionSelectFirstItem:"optionSelectFirstItem",optionDisabled:"optionDisabled",optionRequired:"optionRequired",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange"},standalone:!1,ngContentSelectors:Ol,decls:16,vars:23,consts:[["matauto","matAutocomplete"],[1,"input-style","has-borders","has-icon","input-style-always-active","validate-field","mb-4","loader-container"],[3,"optionsInfoAreaId"],[1,"color-highlight",3,"for"],["type","text","aria-label","Assignee","matInput","",3,"placeholder","formControl","matAutocomplete","required","id"],[3,"optionSelected","displayWith"],[3,"value","disabled"],[1,"fa","fa-info","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"fa","fa-times","action","color-red-dark"],[1,"fa","fa-rotate-right","action","color-green-dark",2,"margin-left","20px",3,"click","title"],[1,"fa","fa-times","action","color-red-dark",3,"click"]],template:function(e,i){if(e&1){let t=w();Di(),a(0,"div",1),S(1,"app-progress-spinner",2),h(2,Fl,2,3,"label",3),S(3,"input",4),a(4,"mat-autocomplete",5,0),v("optionSelected",function(M){return d(t),m(i.onActionSelect(M.option.value))}),me(6,Gl,3,3,"mat-option",6,Xe),f(8,"async"),r(),h(9,Wl,1,0,"i",7),h(10,Hl,1,0,"i",8),h(11,ql,1,0,"i",9),a(12,"i",10),f(13,"translate"),v("click",function(){return d(t),m(i.onActionButtonReload())}),r(),h(14,jl,3,3,"em"),Bi(15),r()}if(e&2){let t=D(5);o(),_("optionsInfoAreaId",i.constructorInfoAreaId),o(),b((i.optionLabel==null?null:i.optionLabel.length)>0?2:-1),o(),_("placeholder",R(i.optionPlaceholder))("id",ei("app-cms-site-selector-",i.id))("formControl",i.formControl)("matAutocomplete",t)("required",i.optionRequired),Be("disabled",i.optionDisabled?!0:null),o(),_("displayWith",i.displayFn),o(2),pe(g(8,19,i.filteredOptions)),o(3),b(i.formControl.valid?-1:9),o(),b(i.optionRequired&&i.formControl.valid?10:-1),o(),b((i.dataModelSelect==null?null:i.dataModelSelect.id)>0?11:-1),o(),H("rotation360",i.publicHelper.processService.process.inRunArea[i.constructorInfoAreaId]),_("title",R(g(13,21,"ACTION.RELOAD"))),o(2),b(i.optionRequired&&!((i.dataModelSelect==null?null:i.dataModelSelect.id)>0)?14:-1)}},dependencies:[J,X,Y,Oi,Wi,Fi,Hi,N,Q,Ye,P],encapsulation:2});var hi=en;var Ul=["vform"];function Ql(n,l){if(n&1){let e=w();a(0,"app-cms-enum-record-status-selector",28),y("modelChange",function(t){d(e);let s=p();return k(s.dataModel.recordStatus,t)||(s.dataModel.recordStatus=t),m(t)}),r()}if(n&2){let e=p();E("model",e.dataModel.recordStatus),_("optionDisabled",!((e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.accessAddField)??!1))("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function zl(n,l){if(n&1){let e=w();a(0,"div",14)(1,"div",29)(2,"h5",30),c(3),r()(),a(4,"div",31)(5,"div",32)(6,"input",33),y("ngModelChange",function(t){d(e);let s=p();return k(s.dataModel.isCertainDocument,t)||(s.dataModel.isCertainDocument=t),m(t)}),r(),S(7,"label",34),r()()()}if(n&2){let e=p();o(3),C(" ",e.fieldsInfo.isCertainDocument==null?null:e.fieldsInfo.isCertainDocument.fieldTitle," "),o(3),E("ngModel",e.dataModel.isCertainDocument)}}function Kl(n,l){if(n&1&&(a(0,"mat-error"),c(1),a(2,"strong"),c(3),f(4,"translate"),r()()),n&2){let e=p(2);o(),C(" ",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle," is "),o(2),T(g(4,2,"MESSAGE.required"))}}function Jl(n,l){if(n&1){let e=w();a(0,"div",15)(1,"label",35),c(2),r(),a(3,"textarea",36,4),y("ngModelChange",function(t){d(e);let s=p();return k(s.dataModel.description,t)||(s.dataModel.description=t),m(t)}),c(5,"            "),r(),a(6,"em"),c(7),r(),h(8,Kl,5,4,"mat-error"),r()}if(n&2){let e=D(4),i=p();o(2),T(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle),o(),_("placeholder",R(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle)),E("ngModel",i.dataModel.description),o(4),C("",e.value.length," / 500"),o(),b(e.errors!=null&&e.errors.required?8:-1)}}function Xl(n,l){n&1&&S(0,"i",18)}function Yl(n,l){n&1&&S(0,"i",19)}function Zl(n,l){n&1&&(a(0,"mat-error"),c(1," Debtor is "),a(2,"strong"),c(3),f(4,"translate"),r()()),n&2&&(o(3),T(g(4,1,"MESSAGE.required")))}function $l(n,l){n&1&&S(0,"i",18)}function es(n,l){n&1&&S(0,"i",19)}function ts(n,l){n&1&&(a(0,"mat-error"),c(1," Creditor is "),a(2,"strong"),c(3),f(4,"translate"),r()()),n&2&&(o(3),T(g(4,1,"MESSAGE.required")))}function is(n,l){if(n&1){let e=w();a(0,"div",22)(1,"label",37),c(2),r(),a(3,"input",38),y("ngModelChange",function(t){d(e);let s=p();return k(s.dataModel.endDate,t)||(s.dataModel.endDate=t),m(t)}),r(),S(4,"mat-datepicker-toggle",25)(5,"mat-datepicker",26,5),r()}if(n&2){let e=D(6),i=p();o(2),T(i.fieldsInfo.endDate==null?null:i.fieldsInfo.endDate.fieldTitle),o(),_("matDatepicker",e),E("ngModel",i.dataModel.endDate),o(),_("for",e),o(),_("calendarHeaderComponent",i.datapickerHeader)}}function ns(n,l){if(n&1){let e=w();a(0,"div",27)(1,"button",39),v("click",function(){d(e);let t=p();return m(t.onFormCancel())}),S(2,"i",40),c(3),f(4,"translate"),r(),a(5,"button",41),S(6,"i",42),c(7),f(8,"translate"),r()()}if(n&2){p();let e=D(10);o(3),C(" ",g(4,3,"ACTION.CANCEL")," "),o(2),_("disabled",!e.form.valid),o(2),C(" ",g(8,5,"ACTION.SAVE")," ")}}var Un=class Un extends Pt{constructor(e,i,t,s,M,u,x,q){super(s,new jt,u,q);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.categoryService=s;this.cmsToastrService=M;this.publicHelper=u;this.cdr=x;this.translate=q;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new j;this.dataModel=new jt;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.translate.get("TITLE.Register_New_Categories").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess()}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.categoryService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorSelectLinkManagementMemberId(e){if(!e||e.id<=0){this.translate.get("MESSAGE.Type_of_User_account_is_not_known").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkManagementMemberId=e.id}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Un.\u0275fac=function(i){return new(i||Un)(I(fe),I(ue),I(ne),I(ni),I(G),I(W),I(O),I(F))},Un.\u0275cmp=V({type:Un,selectors:[["app-linkmanagement-accounting-add"]],viewQuery:function(i,t){if(i&1&&ee(Ul,5),i&2){let s;te(s=ie())&&(t.formGroup=s.first)}},standalone:!1,features:[U],decls:43,vars:38,consts:[["vform","ngForm"],["Debtor",""],["Creditor",""],["BeginDate",""],["Description",""],["EndDate",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"optionChange","optionSelectForce","optionPlaceholder"],[1,"d-flex","mb-3"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.debtor",1,"color-highlight"],["matInput","","type","number","name","dataModel.debtor","minlength","0","required","","id","dataModel.debtor",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.creditor",1,"color-highlight"],["matInput","","type","number","name","dataModel.creditor","minlength","0","required","","id","dataModel.creditor",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],["for","dataModel.beginDate",1,"color-highlight"],["matInput","","name","dataModel.beginDate","id","dataModel.beginDate",1,"form-control","validate-name",3,"ngModelChange","matDatepicker","ngModel"],["matSuffix","",3,"for"],["touchUi","",3,"calendarHeaderComponent"],[1,"form-actions"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"pt-1"],["data-trigger-switch","dataModel.isCertainDocument",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.isCertainDocument","name","dataModel.isCertainDocument",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.isCertainDocument",1,"custom-control-label"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.endDate",1,"color-highlight"],["matInput","","name","dataModel.endDate","id","dataModel.endDate",1,"form-control","validate-name",3,"ngModelChange","matDatepicker","ngModel"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=w();a(0,"div",6),S(1,"app-progress-spinner",7),a(2,"div",8)(3,"p",9),c(4),r(),a(5,"p"),c(6),f(7,"translate"),r(),S(8,"app-cms-form-result-message",10),a(9,"form",11,0),v("ngSubmit",function(){return d(s),m(t.onFormSubmit())}),h(11,Ql,1,5,"app-cms-enum-record-status-selector",12),a(12,"app-linkmanagement-member-selector",13),f(13,"translate"),v("optionChange",function(u){return d(s),m(t.onActionSelectorSelectLinkManagementMemberId(u))}),r(),h(14,zl,8,2,"div",14),h(15,Jl,9,6,"div",15),a(16,"div",15)(17,"label",16),c(18),r(),a(19,"input",17,1),f(21,"translate"),y("ngModelChange",function(u){return d(s),k(t.dataModel.debtor,u)||(t.dataModel.debtor=u),m(u)}),r(),h(22,Xl,1,0,"i",18),h(23,Yl,1,0,"i",19),h(24,Zl,5,3,"mat-error"),r(),a(25,"div",15)(26,"label",20),c(27),r(),a(28,"input",21,2),f(30,"translate"),y("ngModelChange",function(u){return d(s),k(t.dataModel.creditor,u)||(t.dataModel.creditor=u),m(u)}),r(),h(31,$l,1,0,"i",18),h(32,es,1,0,"i",19),h(33,ts,5,3,"mat-error"),r(),a(34,"div",22)(35,"label",23),c(36),r(),a(37,"input",24),y("ngModelChange",function(u){return d(s),k(t.dataModel.beginDate,u)||(t.dataModel.beginDate=u),m(u)}),r(),S(38,"mat-datepicker-toggle",25)(39,"mat-datepicker",26,3),r(),h(41,is,7,5,"div",22),h(42,ns,9,7,"div",27),r()()()}if(i&2){let s=D(20),M=D(29),u=D(40);o(),_("optionsInfoAreaId",t.constructorInfoAreaId),o(3),C(" ",t.formInfo.formTitle," "),o(2),C(" ",g(7,30,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),_("formInfo",t.formInfo),o(3),b(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?11:-1),o(),_("optionSelectForce",t.dataModel.linkManagementMemberId)("optionPlaceholder",g(13,32,"TITLE.User_Account")),o(2),b(t.fieldsInfo.isCertainDocument!=null&&t.fieldsInfo.isCertainDocument.accessWatchField?14:-1),o(),b(t.fieldsInfo.description!=null&&t.fieldsInfo.description.accessWatchField?15:-1),o(3),T(t.fieldsInfo.debtor==null?null:t.fieldsInfo.debtor.fieldTitle),o(),_("placeholder",R(g(21,34,"TITLE.Debtor_Credit"))),E("ngModel",t.dataModel.debtor),o(3),b(s.value?-1:22),o(),b(s.value?23:-1),o(),b(s.errors!=null&&s.errors.required?24:-1),o(3),T(t.fieldsInfo.creditor==null?null:t.fieldsInfo.creditor.fieldTitle),o(),_("placeholder",R(g(30,36,"TITLE.Creditor_Credit"))),E("ngModel",t.dataModel.creditor),o(3),b(M.value?-1:31),o(),b(M.value?32:-1),o(),b(M.errors!=null&&M.errors.required?33:-1),o(3),T(t.fieldsInfo.beginDate==null?null:t.fieldsInfo.beginDate.fieldTitle),o(),_("matDatepicker",u),E("ngModel",t.dataModel.beginDate),o(),_("for",u),o(),_("calendarHeaderComponent",t.datapickerHeader),o(2),b(t.fieldsInfo.endDate!=null&&t.fieldsInfo.endDate.accessWatchField?41:-1),o(),b(t.formInfo.submitButtonEnabled?42:-1)}},dependencies:[ke,J,Ke,ai,X,Te,Y,Ce,he,oe,Ee,qi,ji,Ui,ye,Gi,N,Ae,Q,Le,Je,hi,P],encapsulation:2});var $o=Un;var os=["vform"];function as(n,l){if(n&1){let e=w();a(0,"div",5)(1,"label",7),c(2),r(),a(3,"input",8,0),y("ngModelChange",function(t){d(e);let s=p();return k(s.dataModelResultContent.item.id,t)||(s.dataModelResultContent.item.id=t),m(t)}),r()()}if(n&2){let e=p();o(2),T(e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle),o(),_("placeholder",R(e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle)),E("ngModel",e.dataModelResultContent.item.id)}}function rs(n,l){if(n&1){let e=w();a(0,"div",6)(1,"button",9),v("click",function(){d(e);let t=p();return m(t.onFormDelete())}),S(2,"i",10),c(3),f(4,"translate"),r(),a(5,"button",11),v("click",function(){d(e);let t=p();return m(t.onFormCancel())}),S(6,"i",12),c(7),f(8,"translate"),r()()}if(n&2){let e=p();o(),_("disabled",!e.formInfo.submitButtonEnabled),o(2),C(" ",g(4,3,"ACTION.DELETE")," "),o(4),C(" ",g(8,5,"ACTION.CANCEL")," ")}}var Qn=class Qn{constructor(l,e,i,t,s,M,u){this.data=l;this.dialogRef=e;this.publicHelper=i;this.linkManagementAccountingService=t;this.cdr=s;this.cmsToastrService=M;this.translate=u;this.requestId=0;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.dataModelResultContent=new j;this.formInfo=new Vt;this.publicHelper.processService.cdr=this.cdr,l&&(this.requestId=+l.id||0)}ngOnInit(){if(this.requestId<=0){this.cmsToastrService.typeErrorDeleteRowIsNull(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOne()}DataGetOne(){if(this.requestId===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.translate.get("TITLE.Loading_Information").subscribe(e=>{this.formInfo.submitResultMessage=e});let l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(l,e,this.constructorInfoAreaId)}),this.linkManagementAccountingService.setAccessLoad(),this.linkManagementAccountingService.setAccessDataType(we.Editor),this.linkManagementAccountingService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModelResultContent=e,e.isSuccess?this.formInfo.submitResultMessage="":(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.formInfo.submitResultMessageType=FormSubmitedStatusEnum.Success,this.cmsToastrService.typeErrorGetOne()),this.publicHelper.processService.processStop(l)},error:e=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessageType=FormSubmitedStatusEnum.Success,this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(l,!1)}})}onFormDelete(){if(this.requestId===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.formInfo.submitButtonEnabled=!1,this.formInfo.submitButtonEnabled=!1;let l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(l,e,this.constructorInfoAreaId)}),this.linkManagementAccountingService.ServiceDelete(this.requestId).subscribe({next:e=>{this.formInfo.submitButtonEnabled=!e.isSuccess,e.isSuccess?(this.translate.get("MESSAGE.Deletion_Was_Successful").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.cmsToastrService.typeSuccessRemove(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.cmsToastrService.typeErrorRemove()),this.formInfo.submitButtonEnabled=!0,this.publicHelper.processService.processStop(l)},error:e=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(e),this.formInfo.submitButtonEnabled=!0,this.publicHelper.processService.processStop(l)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Qn.\u0275fac=function(e){return new(e||Qn)(I(fe),I(ue),I(W),I(ni),I(O),I(G),I(F))},Qn.\u0275cmp=V({type:Qn,selectors:[["app-linkmanagement-accounting-delete"]],viewQuery:function(e,i){if(e&1&&ee(os,5),e&2){let t;te(t=ie())&&(i.formGroup=t.first)}},standalone:!1,decls:12,vars:10,consts:[["Writer",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],[1,"form-actions"],["for","dataModelResultContent.item.id",1,"color-highlight"],["matInput","","name","dataModelResultContent.item.id","type","text","required","","id","dataModelResultContent.item.id","readonly","",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click","disabled"],[1,"fa","fa-check-square-o"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,i){e&1&&(a(0,"div",1),S(1,"app-progress-spinner",2),a(2,"div",3)(3,"p",4),c(4),f(5,"translate"),r(),a(6,"p"),c(7),f(8,"translate"),r(),c(9),h(10,as,5,4,"div",5),h(11,rs,9,7,"div",6),r()()),e&2&&(o(),_("optionsInfoAreaId",i.constructorInfoAreaId),o(3),C(" ",g(5,6,"TITLE.EDIT_USER_ACCOUNT")," "),o(3),C(" ",g(8,8,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),C(" ",i.formInfo.formTitle," "),o(),b(i.dataModelResultContent!=null&&i.dataModelResultContent.item?10:-1),o(),b(i.formInfo.submitButtonEnabled?11:-1))},dependencies:[J,X,Y,oe,N,Q,P],encapsulation:2});var ea=Qn;var ls=["vform"];function ss(n,l){if(n&1){let e=w();a(0,"app-cms-enum-record-status-selector",28),y("modelChange",function(t){d(e);let s=p();return k(s.dataModel.recordStatus,t)||(s.dataModel.recordStatus=t),m(t)}),r()}if(n&2){let e=p();E("model",e.dataModel.recordStatus),_("optionDisabled",!((e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.accessEditField)??!1))("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function cs(n,l){if(n&1){let e=w();a(0,"div",14)(1,"div",29)(2,"h5",30),c(3),r()(),a(4,"div",31)(5,"div",32)(6,"input",33),y("ngModelChange",function(t){d(e);let s=p();return k(s.dataModel.isCertainDocument,t)||(s.dataModel.isCertainDocument=t),m(t)}),r(),S(7,"label",34),r()()()}if(n&2){let e=p();o(3),C(" ",e.fieldsInfo.isCertainDocument==null?null:e.fieldsInfo.isCertainDocument.fieldTitle," "),o(3),E("ngModel",e.dataModel.isCertainDocument)}}function ds(n,l){if(n&1&&(a(0,"mat-error"),c(1),a(2,"strong"),c(3),f(4,"translate"),r()()),n&2){let e=p(2);o(),C(" ",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle," is "),o(2),T(g(4,2,"MESSAGE.required"))}}function ms(n,l){if(n&1){let e=w();a(0,"div",15)(1,"label",35),c(2),r(),a(3,"textarea",36,4),y("ngModelChange",function(t){d(e);let s=p();return k(s.dataModel.description,t)||(s.dataModel.description=t),m(t)}),c(5,"            "),r(),a(6,"em"),c(7),r(),h(8,ds,5,4,"mat-error"),r()}if(n&2){let e=D(4),i=p();o(2),T(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle),o(),_("placeholder",R(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle)),E("ngModel",i.dataModel.description),o(4),C("",e.value.length," / 500"),o(),b(e.errors!=null&&e.errors.required?8:-1)}}function ps(n,l){n&1&&S(0,"i",18)}function us(n,l){n&1&&S(0,"i",19)}function fs(n,l){n&1&&(a(0,"mat-error"),c(1," Debtor is "),a(2,"strong"),c(3),f(4,"translate"),r()()),n&2&&(o(3),T(g(4,1,"MESSAGE.required")))}function gs(n,l){n&1&&S(0,"i",18)}function _s(n,l){n&1&&S(0,"i",19)}function Ms(n,l){n&1&&(a(0,"mat-error"),c(1," Creditor is "),a(2,"strong"),c(3),f(4,"translate"),r()()),n&2&&(o(3),T(g(4,1,"MESSAGE.required")))}function Ss(n,l){if(n&1){let e=w();a(0,"div",22)(1,"label",37),c(2),r(),a(3,"input",38),y("ngModelChange",function(t){d(e);let s=p();return k(s.dataModel.endDate,t)||(s.dataModel.endDate=t),m(t)}),r(),S(4,"mat-datepicker-toggle",25)(5,"mat-datepicker",26,5),r()}if(n&2){let e=D(6),i=p();o(2),T(i.fieldsInfo.endDate==null?null:i.fieldsInfo.endDate.fieldTitle),o(),_("matDatepicker",e),E("ngModel",i.dataModel.endDate),o(),_("for",e),o(),_("calendarHeaderComponent",i.datapickerHeader)}}function Cs(n,l){if(n&1){let e=w();a(0,"div",27)(1,"button",39),v("click",function(){d(e);let t=p();return m(t.onFormCancel())}),S(2,"i",40),c(3),f(4,"translate"),r(),a(5,"button",41),S(6,"i",42),c(7),f(8,"translate"),r()()}if(n&2){p();let e=D(10);o(3),C(" ",g(4,3,"ACTION.CANCEL")," "),o(2),_("disabled",!e.form.valid),o(2),C(" ",g(8,5,"ACTION.SAVE")," ")}}var zn=class zn extends pt{constructor(e,i,t,s,M,u,x,q){super(s,new jt,u,q);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.categoryService=s;this.cmsToastrService=M;this.publicHelper=u;this.cdr=x;this.translate=q;this.requestId=0;this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new ct;this.dataModel=new jt;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=+e.id||0),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.requestId>0)this.translate.get("TITLE.Edit_Categories").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}}DataGetOneContent(){if(this.requestId<=0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.categoryService.setAccessLoad(),this.categoryService.setAccessDataType(we.Editor),this.categoryService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.categoryService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorSelectLinkManagementMemberId(e){if(!e||e.id<=0){this.translate.get("MESSAGE.Type_of_User_account_is_not_known").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkManagementMemberId=e.id}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};zn.\u0275fac=function(i){return new(i||zn)(I(fe),I(ue),I(ne),I(ni),I(G),I(W),I(O),I(F))},zn.\u0275cmp=V({type:zn,selectors:[["app-linkmanagement-accounting-edit"]],viewQuery:function(i,t){if(i&1&&ee(ls,5),i&2){let s;te(s=ie())&&(t.formGroup=s.first)}},standalone:!1,features:[U],decls:43,vars:38,consts:[["vform","ngForm"],["Debtor",""],["Creditor",""],["BeginDate",""],["Description",""],["EndDate",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"optionChange","optionSelectForce","optionPlaceholder"],[1,"d-flex","mb-3"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.debtor",1,"color-highlight"],["matInput","","type","number","name","dataModel.debtor","minlength","0","required","","id","dataModel.debtor",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.creditor",1,"color-highlight"],["matInput","","type","number","name","dataModel.creditor","minlength","0","required","","id","dataModel.creditor",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],["for","dataModel.beginDate",1,"color-highlight"],["matInput","","name","dataModel.beginDate","id","dataModel.beginDate",1,"form-control","validate-name",3,"ngModelChange","matDatepicker","ngModel"],["matSuffix","",3,"for"],["touchUi","",3,"calendarHeaderComponent"],[1,"form-actions"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"pt-1"],["data-trigger-switch","dataModel.isCertainDocument",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.isCertainDocument","name","dataModel.isCertainDocument",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.isCertainDocument",1,"custom-control-label"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.endDate",1,"color-highlight"],["matInput","","name","dataModel.endDate","id","dataModel.endDate",1,"form-control","validate-name",3,"ngModelChange","matDatepicker","ngModel"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=w();a(0,"div",6),S(1,"app-progress-spinner",7),a(2,"div",8)(3,"p",9),c(4),r(),a(5,"p"),c(6),f(7,"translate"),r(),S(8,"app-cms-form-result-message",10),a(9,"form",11,0),v("ngSubmit",function(){return d(s),m(t.onFormSubmit())}),h(11,ss,1,5,"app-cms-enum-record-status-selector",12),a(12,"app-linkmanagement-member-selector",13),f(13,"translate"),v("optionChange",function(u){return d(s),m(t.onActionSelectorSelectLinkManagementMemberId(u))}),r(),h(14,cs,8,2,"div",14),h(15,ms,9,6,"div",15),a(16,"div",15)(17,"label",16),c(18),r(),a(19,"input",17,1),f(21,"translate"),y("ngModelChange",function(u){return d(s),k(t.dataModel.debtor,u)||(t.dataModel.debtor=u),m(u)}),r(),h(22,ps,1,0,"i",18),h(23,us,1,0,"i",19),h(24,fs,5,3,"mat-error"),r(),a(25,"div",15)(26,"label",20),c(27),r(),a(28,"input",21,2),f(30,"translate"),y("ngModelChange",function(u){return d(s),k(t.dataModel.creditor,u)||(t.dataModel.creditor=u),m(u)}),r(),h(31,gs,1,0,"i",18),h(32,_s,1,0,"i",19),h(33,Ms,5,3,"mat-error"),r(),a(34,"div",22)(35,"label",23),c(36),r(),a(37,"input",24),y("ngModelChange",function(u){return d(s),k(t.dataModel.beginDate,u)||(t.dataModel.beginDate=u),m(u)}),r(),S(38,"mat-datepicker-toggle",25)(39,"mat-datepicker",26,3),r(),h(41,Ss,7,5,"div",22),h(42,Cs,9,7,"div",27),r()()()}if(i&2){let s=D(20),M=D(29),u=D(40);o(),_("optionsInfoAreaId",t.constructorInfoAreaId),o(3),C(" ",t.formInfo.formTitle," "),o(2),C(" ",g(7,30,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),_("formInfo",t.formInfo),o(3),b(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?11:-1),o(),_("optionSelectForce",t.dataModel.linkManagementMemberId)("optionPlaceholder",g(13,32,"TITLE.User_Account")),o(2),b(t.fieldsInfo.isCertainDocument!=null&&t.fieldsInfo.isCertainDocument.accessWatchField?14:-1),o(),b(t.fieldsInfo.description!=null&&t.fieldsInfo.description.accessWatchField?15:-1),o(3),T(t.fieldsInfo.debtor==null?null:t.fieldsInfo.debtor.fieldTitle),o(),_("placeholder",R(g(21,34,"TITLE.Debtor_Credit"))),E("ngModel",t.dataModel.debtor),o(3),b(s.value?-1:22),o(),b(s.value?23:-1),o(),b(s.errors!=null&&s.errors.required?24:-1),o(3),T(t.fieldsInfo.creditor==null?null:t.fieldsInfo.creditor.fieldTitle),o(),_("placeholder",R(g(30,36,"TITLE.Creditor_Credit"))),E("ngModel",t.dataModel.creditor),o(3),b(M.value?-1:31),o(),b(M.value?32:-1),o(),b(M.errors!=null&&M.errors.required?33:-1),o(3),T(t.fieldsInfo.beginDate==null?null:t.fieldsInfo.beginDate.fieldTitle),o(),_("matDatepicker",u),E("ngModel",t.dataModel.beginDate),o(),_("for",u),o(),_("calendarHeaderComponent",t.datapickerHeader),o(2),b(t.fieldsInfo.endDate!=null&&t.fieldsInfo.endDate.accessWatchField?41:-1),o(),b(t.formInfo.submitButtonEnabled?42:-1)}},dependencies:[ke,J,Ke,ai,X,Te,Y,Ce,he,oe,Ee,qi,ji,Ui,ye,Gi,N,Ae,Q,Le,Je,hi,P],encapsulation:2});var ta=zn;var hs=()=>["expandedTitle"],bs=()=>["expandedDetail"],vs=()=>[5,10,20,100],Ka=n=>({display:n});function Is(n,l){if(n&1){let e=w();a(0,"div",15)(1,"a",47),v("click",function(){d(e);let t=p();return m(t.onActionButtonNewRow())}),S(2,"i",48)(3,"br"),r(),a(4,"p",19),c(5),f(6,"translate"),r()()}n&2&&(o(5),C(" ",g(6,1,"ACTION.ADD")," "))}function ws(n,l){if(n&1){let e=w();a(0,"div",15)(1,"a",8),v("click",function(){d(e);let t=p();return m(t.onActionButtonAccountingDetail())}),S(2,"i",20)(3,"br"),r(),a(4,"p",19),c(5),f(6,"translate"),r()()}n&2&&(o(5),C(" ",g(6,1,"ACTION.DETAILS")," "))}function Ts(n,l){if(n&1){let e=w();a(0,"div",15)(1,"a",49),v("click",function(){d(e);let t=p();return m(t.onActionButtonEditRow(t.tableRowSelected))}),S(2,"i",50)(3,"br"),r(),a(4,"p",19),c(5),f(6,"translate"),r()()}n&2&&(o(5),C(" ",g(6,1,"ACTION.EDIT")," "))}function Es(n,l){if(n&1){let e=w();a(0,"div",15)(1,"a",51),v("click",function(){d(e);let t=p();return m(t.onActionButtonDeleteRow(t.tableRowSelected))}),S(2,"i",52)(3,"br"),r(),a(4,"p",19),c(5),f(6,"translate"),r()()}n&2&&(o(5),C(" ",g(6,1,"ACTION.DELETE")," "))}function ks(n,l){n&1&&(a(0,"mat-header-cell"),c(1),f(2,"translate"),r()),n&2&&(o(),C(" ",g(2,1,"TITLE.MENU")," "))}function ys(n,l){if(n&1){let e=w();a(0,"mat-cell")(1,"button",53),v("click",function(){let t=d(e).$implicit,s=p();return m(s.onActionTableRowSelectActionMenu(t))}),S(2,"i",54),r()()}}function Ls(n,l){if(n&1&&(a(0,"mat-header-cell",55),c(1),r()),n&2){let e=p();o(),C(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function As(n,l){if(n&1&&(a(0,"mat-cell"),c(1),r()),n&2){let e=l.$implicit;o(),C(" ",e.id," ")}}function Rs(n,l){if(n&1&&(a(0,"mat-header-cell",55),c(1),r()),n&2){let e=p();o(),C(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function xs(n,l){if(n&1&&(a(0,"mat-cell"),c(1),f(2,"cmssiteinfo"),f(3,"async"),r()),n&2){let e=l.$implicit;o(),C(" ",g(3,3,g(2,1,e.linkSiteId))," ")}}function Ds(n,l){if(n&1&&(a(0,"mat-header-cell",55),c(1),r()),n&2){let e=p();o(),C(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function Bs(n,l){if(n&1&&S(0,"select",57),n&2){let e=p().$implicit,i=p();_("contentService",i.contentService)("row",e)("ngStyle",at(3,Ka,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function Vs(n,l){if(n&1&&(a(0,"mat-cell"),S(1,"i",56),f(2,"statusIconClass"),h(3,Bs,1,5,"select",57),r()),n&2){let e=l.$implicit,i=p();o(),_("ngClass",g(2,2,e.recordStatus)),o(2),b(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessEditRow?3:-1)}}function Ps(n,l){if(n&1&&(a(0,"mat-header-cell",55),c(1),r()),n&2){let e=p();o(),C(" ",e.fieldsInfo.linkManagementMemberId==null?null:e.fieldsInfo.linkManagementMemberId.fieldTitle," ")}}function Ns(n,l){if(n&1&&(a(0,"mat-cell"),c(1),r()),n&2){let e=l.$implicit;o(),C(" ",e.linkManagementMemberId," ")}}function Os(n,l){if(n&1&&(a(0,"mat-header-cell",55),c(1),r()),n&2){let e=p();o(),C(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function Fs(n,l){if(n&1&&(a(0,"mat-cell"),c(1),f(2,"localeDate"),r()),n&2){let e=l.$implicit;o(),C(" ",g(2,1,e.createdDate)," ")}}function Gs(n,l){if(n&1&&(a(0,"mat-header-cell",55),c(1),r()),n&2){let e=p();o(),C(" ",e.fieldsInfo.updatedDate==null?null:e.fieldsInfo.updatedDate.fieldTitle," ")}}function Ws(n,l){if(n&1&&(a(0,"mat-cell"),c(1),f(2,"localeDate"),r()),n&2){let e=l.$implicit;o(),C(" ",g(2,1,e.updatedDate)," ")}}function Hs(n,l){if(n&1&&(a(0,"mat-header-cell",55),c(1),r()),n&2){let e=p();o(),C(" ",e.fieldsInfo.debtor==null?null:e.fieldsInfo.debtor.fieldTitle," ")}}function qs(n,l){if(n&1&&(a(0,"mat-cell"),c(1),r()),n&2){let e=l.$implicit;o(),C(" ",e.debtor," ")}}function js(n,l){if(n&1&&(a(0,"mat-header-cell",55),c(1),r()),n&2){let e=p();o(),C(" ",e.fieldsInfo.creditor==null?null:e.fieldsInfo.creditor.fieldTitle," ")}}function Us(n,l){if(n&1&&(a(0,"mat-cell"),c(1),r()),n&2){let e=l.$implicit;o(),C(" ",e.creditor," ")}}function Qs(n,l){n&1&&(a(0,"mat-header-cell"),c(1),f(2,"translate"),r()),n&2&&(o(),C(" ",g(2,1,"TITLE.OPTION")," "))}function zs(n,l){if(n&1&&(a(0,"mat-cell",58)(1,"button",59)(2,"mat-icon"),c(3,"more_vert"),r()(),S(4,"mat-menu",null,2),r()),n&2){let e=D(5);o(),_("matMenuTriggerFor",e)}}function Ks(n,l){if(n&1&&(a(0,"mat-cell"),c(1),f(2,"translate"),f(3,"localeDate"),S(4,"br"),c(5),f(6,"translate"),f(7,"localeDate"),r()),n&2){let e=l.$implicit;o(),Ve(" ",g(2,4,"TITLE.CreationDate")," : ",g(3,6,e.createdDate)," "),o(4),Ve(" ",g(6,8,"TITLE.DateOfUpdate")," : ",g(7,10,e.updatedDate)," ")}}function Js(n,l){if(n&1&&(S(0,"img",60),f(1,"cmsthumbnail")),n&2){let e=p().$implicit;_("src",R(g(1,2,e.linkMainImageIdSrc)),Z)}}function Xs(n,l){if(n&1&&(a(0,"tr"),S(1,"td"),a(2,"td"),c(3),r()()),n&2){let e=p().$implicit,i=p();o(3),Ve(" ",i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle," : ",e.description," ")}}function Ys(n,l){if(n&1&&(a(0,"tr"),S(1,"td"),a(2,"td"),c(3),f(4,"localeDate"),r()()),n&2){let e=p().$implicit,i=p();o(3),Ve(" ",i.fieldsInfo.beginDate==null?null:i.fieldsInfo.beginDate.fieldTitle," : ",g(4,2,e.beginDate)," ")}}function Zs(n,l){if(n&1&&(a(0,"tr"),S(1,"td"),a(2,"td"),c(3),f(4,"localeDate"),r()()),n&2){let e=p().$implicit,i=p();o(3),Ve(" ",i.fieldsInfo.endDate==null?null:i.fieldsInfo.endDate.fieldTitle," : ",g(4,2,e.endDate)," ")}}function $s(n,l){if(n&1){let e=w();a(0,"mat-cell")(1,"div")(2,"table")(3,"tr")(4,"th"),h(5,Js,2,4,"img",60),r(),a(6,"th")(7,"span",61),v("click",function(){d(e);let t=p();return m(t.onActionCopied())}),S(8,"i",62),r(),c(9),r()(),h(10,Xs,4,2,"tr"),h(11,Ys,5,4,"tr"),h(12,Zs,5,4,"tr"),a(13,"tr"),S(14,"td")(15,"td"),r()()()()}if(n&2){let e=l.$implicit;o(5),b((e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0?5:-1),o(2),_("cdkCopyToClipboard",e.id),o(2),C(" ",e.id," "),o(),b(e.description?10:-1),o(),b(e.beginDate?11:-1),o(),b(e.endDate?12:-1)}}function ec(n,l){n&1&&S(0,"mat-header-row")}function tc(n,l){if(n&1){let e=w();a(0,"mat-row",63),v("click",function(t){let s=d(e).$implicit,M=p();return m(M.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=d(e).$implicit,M=p();return m(M.onActionTableRowSelect(s,t))})("mouseenter",function(){let t=d(e).$implicit,s=p();return m(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=d(e).$implicit,s=p();return m(s.onActionTableRowMouseLeave(t))}),r()}if(n&2){let e=l.$implicit,i=p();H("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}function ic(n,l){if(n&1){let e=w();a(0,"mat-row",64),v("click",function(t){let s=d(e).$implicit,M=p();return m(M.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=d(e).$implicit,M=p();return m(M.onActionTableRowSelect(s,t))})("mouseenter",function(){let t=d(e).$implicit,s=p();return m(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=d(e).$implicit,s=p();return m(s.onActionTableRowMouseLeave(t))}),r()}if(n&2){let e=l.$implicit,i=p();H("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}function nc(n,l){if(n&1){let e=w();a(0,"mat-row",65),v("click",function(t){let s=d(e).$implicit,M=p();return m(M.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=d(e).$implicit,M=p();return m(M.onActionTableRowSelect(s,t))})("mouseenter",function(){let t=d(e).$implicit,s=p();return m(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=d(e).$implicit,s=p();return m(s.onActionTableRowMouseLeave(t))}),r()}if(n&2){let e=l.$implicit,i=p();H("ntk-row-expanded",e.expanded===!0)("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)),_("ngStyle",at(5,Ka,e.expanded===!0?"":"none"))}}var Kn=class Kn extends Nt{constructor(e,i,t,s,M,u,x,q,K,ve){super(e,new jt,K,s,u);this.contentService=e;this.cmsToastrService=i;this.router=t;this.tokenHelper=s;this.cdr=M;this.translate=u;this.cmsStoreService=x;this.pageInfo=q;this.publicHelper=K;this.dialog=ve;this.constructorInfoAreaId=this.constructor.name;this.filteModelContent=new Ie;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["id","recordStatus","LinkManagementMemberId","Debtor","Creditor","action_menu"];this.tabledisplayedColumnsMobileSource=["id","recordStatus","LinkManagementMemberId","Debtor","Creditor","action_menu"];this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:Re=>this.onSubmitOptionsSearch(Re)},this.filteModelContent.sortColumn="id",this.filteModelContent.sortType=ge.Descending}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>De(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new jt);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.contentService.setAccessLoad(),this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),t.isSuccess?(this.applyDataGetAllResult(t),this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=ge.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=ge.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=ge.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(){let e=new ci;e.height="90%",e.disableClose=!0,e.autoFocus=!0,e.data={},this.dialog.open($o,e).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(!(e?.id>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(ta,{height:"90%",panelClass:i,enterAnimationDuration:le.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:le.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!(e?.id>0)){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(s=>{this.cmsToastrService.typeErrorSelected(s)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(ea,{height:"90%",panelClass:i,enterAnimationDuration:le.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:le.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate&&this.DataGetAll()})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(u=>{i.set(u,0)}),this.translate.get("MESSAGE.All").subscribe(u=>{i.set(u,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(u=>{this.publicHelper.processService.processStart(t,u,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:u=>{u.isSuccess?(this.translate.get("MESSAGE.All").subscribe(x=>{i.set(x,u.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(u.errorMessage),this.publicHelper.processService.processStop(t)},error:u=>{this.cmsToastrService.typeError(u),this.publicHelper.processService.processStop(t,!1)}});let s=JSON.parse(JSON.stringify(this.filteModelContent)),M=new z;M.propertyName="recordStatus",M.value=gt.Available,s.filters.push(M),this.contentService.ServiceGetCount(s).subscribe({next:u=>{u.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(x=>{i.set(x,u.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(u.errorMessage),this.publicHelper.processService.processStop(t)},error:u=>{this.cmsToastrService.typeError(u),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonReload(){this.DataGetAll()}onActionCopied(){this.cmsToastrService.typeSuccessCopedToClipboard()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionButtonAccountingDetail(e=this.tableRowSelected){if(!(e?.id>0)){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.onActionTableRowSelect(e),this.router.navigate(["/linkmanagement/accountingdetail/LinkManagementAccountingId",this.tableRowSelected.id])}};Kn.\u0275fac=function(i){return new(i||Kn)(I(ni),I(G),I(Ze),I(tt),I(O),I(F),I(et),I(Bt),I(W),I(nt))},Kn.\u0275cmp=V({type:Kn,selectors:[["app-linkmanagement-accounting-list"]],standalone:!1,features:[U],decls:86,vars:42,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionActionRowDisplayMenuAct","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-chart-simple","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-memo-circle-info","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","","multiTemplateDataRows","",3,"matSortChange","dataSource"],["matColumnDef","action_menu"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","linkSiteId"],["matColumnDef","recordStatus"],["matColumnDef","LinkManagementMemberId"],["matColumnDef","createdDate"],["matColumnDef","updatedDate"],["matColumnDef","Debtor"],["matColumnDef","Creditor"],["matColumnDef","Action"],["class","Action",4,"matCellDef"],["matColumnDef","expandedTitle"],["matColumnDef","expandedDetail"],[4,"matHeaderRowDef"],["class","ntk-row-expandedTitle",3,"ntk-row-selected","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["class","ntk-row-expandedDetail",3,"ntk-row-expanded","ntk-row-selected","ngStyle","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"click"],[1,"fa","fa-bars","font-18"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],["aria-hidden","","height","80","width","80",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"navi-icon","pointer",3,"click","cdkCopyToClipboard"],[1,"flaticon2-copy"],[1,"ntk-row-expandedTitle",3,"click","rtclick","mouseenter","mouseleave"],[1,"ntk-row-mainfild",3,"click","rtclick","mouseenter","mouseleave"],[1,"ntk-row-expandedDetail",3,"click","rtclick","mouseenter","mouseleave","ngStyle"]],template:function(i,t){if(i&1){let s=w();a(0,"app-cms-html-list",3),y("optionActionGuideNoticeDisplayChange",function(u){return d(s),k(t.viewGuideNotice,u)||(t.viewGuideNotice=u),m(u)}),v("optionOnActionButtonMemoRow",function(){return d(s),m(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return d(s),m(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return d(s),m(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return d(s),m(t.onActionButtonPrintRow())}),L(1,4),c(2," ---------------------- "),A(),de(3,5)(4,6),L(5,7),a(6,"a",8),v("click",function(){return d(s),m(t.viewGuideNotice=!t.viewGuideNotice)}),S(7,"i",9),r(),a(8,"a",8),v("click",function(){return d(s),m(t.onActionButtonReload())}),S(9,"i",10),r(),A(),L(10,11),a(11,"a",12),v("click",function(){return d(s),m(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),S(12,"mat-slide-toggle",13),c(13),f(14,"translate"),r(),a(15,"a",12),v("click",function(){return d(s),m(t.onActionButtonStatist())}),S(16,"mat-slide-toggle",13),c(17),f(18,"translate"),r(),A(),L(19,14),h(20,Is,7,3,"div",15),h(21,ws,7,3,"div",15),A(),L(22,16),h(23,Ts,7,3,"div",15),h(24,Es,7,3,"div",15),a(25,"div",15)(26,"a",17),v("click",function(){return d(s),m(t.onActionButtonComment(t.tableRowSelected))}),S(27,"i",18)(28,"br"),r(),a(29,"p",19),c(30),f(31,"translate"),r()(),a(32,"div",15)(33,"a",17),v("click",function(){return d(s),m(t.onActionButtonAccountingDetail(t.tableRowSelected))}),S(34,"i",20)(35,"br"),r(),a(36,"p",19),c(37),f(38,"translate"),r()(),A(),L(39,21),a(40,"app-cms-search-list",22),y("optionsChange",function(u){return d(s),k(t.optionsSearch,u)||(t.optionsSearch=u),m(u)}),r(),a(41,"app-cms-statist-list",22),y("optionsChange",function(u){return d(s),k(t.optionsStatist,u)||(t.optionsStatist=u),m(u)}),r(),A(),L(42,23),a(43,"mat-table",24,0),v("matSortChange",function(){d(s);let u=D(44);return m(t.onTableSortData(u))}),L(45,25),B(46,ks,3,3,"mat-header-cell",26)(47,ys,3,0,"mat-cell",27),A(),L(48,28),B(49,Ls,2,1,"mat-header-cell",29)(50,As,2,1,"mat-cell",27),A(),L(51,30),B(52,Rs,2,1,"mat-header-cell",29)(53,xs,4,5,"mat-cell",27),A(),L(54,31),B(55,Ds,2,1,"mat-header-cell",29)(56,Vs,4,4,"mat-cell",27),A(),L(57,32),B(58,Ps,2,1,"mat-header-cell",29)(59,Ns,2,1,"mat-cell",27),A(),L(60,33),B(61,Os,2,1,"mat-header-cell",29)(62,Fs,3,3,"mat-cell",27),A(),L(63,34),B(64,Gs,2,1,"mat-header-cell",29)(65,Ws,3,3,"mat-cell",27),A(),L(66,35),B(67,Hs,2,1,"mat-header-cell",29)(68,qs,2,1,"mat-cell",27),A(),L(69,36),B(70,js,2,1,"mat-header-cell",29)(71,Us,2,1,"mat-cell",27),A(),L(72,37),B(73,Qs,3,3,"mat-header-cell",26)(74,zs,6,1,"mat-cell",38),A(),L(75,39),B(76,Ks,8,12,"mat-cell",27),A(),L(77,40),B(78,$s,16,6,"mat-cell",27),A(),B(79,ec,1,0,"mat-header-row",41)(80,tc,1,2,"mat-row",42)(81,ic,1,2,"mat-row",43)(82,nc,1,7,"mat-row",44),r(),A(),L(83,45),a(84,"mat-paginator",46,1),v("page",function(u){return d(s),m(t.onTablePageingData(u))}),r(),A(),r()}i&2&&(_("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),E("optionActionGuideNoticeDisplay",t.viewGuideNotice),_("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionActionRowDisplayMenuAct",t.tableRowSelectActionMenuClick)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),o(9),H("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(3),_("checked",t.optionsSearch.data.show),o(),C("",g(14,31,"ACTION.SEARCH")," "),o(3),_("checked",t.optionsStatist.data.show),o(),C("",g(18,33,"ACTION.STATIST")," "),o(3),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessAddRow?20:-1),o(),b((t.tableRowSelected==null?null:t.tableRowSelected.id)>0?21:-1),o(2),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?23:-1),o(),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?24:-1),o(6),C(" ",g(31,35,"ACTION.STATIST")," "),o(7),C(" ",g(38,37,"ACTION.DETAILS")," "),o(3),E("options",t.optionsSearch),o(),E("options",t.optionsStatist),o(2),_("dataSource",t.tableSource),o(36),_("matHeaderRowDef",t.tabledisplayedColumns),o(),_("matRowDefColumns",se(39,hs)),o(),_("matRowDefColumns",t.tabledisplayedColumns),o(),_("matRowDefColumns",se(40,bs)),o(2),_("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",se(41,vs)))},dependencies:[Pe,ti,it,Ne,N,ht,bt,Oe,Fe,vt,It,wt,Et,At,kt,Tt,Rt,yt,Lt,xt,Dt,$e,Ge,We,Ot,He,Qe,Ye,P,Ft,be,Gt,qe],encapsulation:2});var Jn=Kn;var oc=()=>[5,10,20,100],ac=(n,l)=>l.id;function rc(n,l){if(n&1){let e=w();a(0,"div",16)(1,"a",25),v("click",function(){d(e);let t=p();return m(t.onActionButtonNewRow())}),S(2,"i",26)(3,"br"),r(),a(4,"p",27),c(5),f(6,"translate"),r()()}n&2&&(o(5),C(" ",g(6,1,"ACTION.ADD")," "))}function lc(n,l){if(n&1){let e=w();a(0,"div",16)(1,"a",28),v("click",function(){d(e);let t=p();return m(t.onActionButtonEditRow(t.tableRowSelected))}),S(2,"i",29)(3,"br"),r(),a(4,"p",27),c(5),f(6,"translate"),r()()}n&2&&(o(5),C(" ",g(6,1,"ACTION.EDIT")," "))}function sc(n,l){if(n&1){let e=w();a(0,"div",16)(1,"a",30),v("click",function(){d(e);let t=p();return m(t.onActionButtonDeleteRow(t.tableRowSelected))}),S(2,"i",31)(3,"br"),r(),a(4,"p",27),c(5),f(6,"translate"),r()()}n&2&&(o(5),C(" ",g(6,1,"ACTION.DELETE")," "))}function cc(n,l){if(n&1){let e=w();a(0,"div",16)(1,"a",32),v("click",function(){d(e);let t=p();return m(t.onActionButtonViewRow(t.tableRowSelected))}),S(2,"i",33)(3,"br"),r(),a(4,"p",27),c(5),f(6,"translate"),r()()}n&2&&(o(5),C(" ",g(6,1,"ACTION.VIEW")," "))}function dc(n,l){if(n&1&&S(0,"select",43),n&2){let e=p(2).$implicit,i=p(2);_("contentService",i.contentService)("row",e)}}function mc(n,l){if(n&1&&(a(0,"div",40),S(1,"i",42),f(2,"statusIconClass"),h(3,dc,1,2,"select",43),r()),n&2){let e=p().$implicit,i=p(2);o(),_("ngClass",g(2,2,e.recordStatus)),o(2),b(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessEditRow&&e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?3:-1)}}function pc(n,l){if(n&1){let e=w();a(0,"div",41)(1,"div",40)(2,"span",44),v("click",function(t){return d(e),p(3).onActionCopied(),m(t.stopPropagation())}),S(3,"i",45),r(),c(4),r()()}if(n&2){let e=p().$implicit;o(2),_("cdkCopyToClipboard",e.id.toString()),o(2),C(" ID: ",e.id," ")}}function uc(n,l){if(n&1){let e=w();a(0,"div",35),v("click",function(t){let s=d(e).$implicit,M=p(2);return m(M.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=d(e).$implicit,M=p(2);return m(M.onActionTableRowSelect(s,t))})("mouseenter",function(){let t=d(e).$implicit,s=p(2);return m(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=d(e).$implicit,s=p(2);return m(s.onActionTableRowMouseLeave(t))}),a(1,"div",36),S(2,"i",37),f(3,"statusIconClass"),r(),a(4,"div",38)(5,"div",39),c(6),r(),h(7,mc,4,4,"div",40),h(8,pc,5,2,"div",41),r()()}if(n&2){let e=l.$implicit,i=p(2);H("selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))("bg-fade-highlight-light",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)),Be("aria-label",e.id),o(2),_("ngClass",g(3,9,e.recordStatus)),o(4),C(" ","ID: "+e.id," "),o(),b(e.recordStatus!==void 0?7:-1),o(),b(i.getRowExpanded(e)?8:-1)}}function fc(n,l){if(n&1&&(a(0,"div",21),me(1,uc,9,11,"div",34,ac),r()),n&2){let e=p();o(),pe(e.dataModelResult.listItems)}}function gc(n,l){n&1&&(a(0,"div",22),c(1),f(2,"translate"),r()),n&2&&(o(),T(g(2,1,"MESSAGE.NoRecord")))}var rn=class rn extends Jn{};rn.\u0275fac=(()=>{let l;return function(i){return(l||(l=_t(rn)))(i||rn)}})(),rn.\u0275cmp=V({type:rn,selectors:[["app-linkmanagement-accounting-list-mobile"]],standalone:!1,features:[U],decls:37,vars:31,consts:[["paginator",""],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionOnScrollNearBottom","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplay","optionActionRowDisplayMenu","optionActionRowDisplayMenuAct","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-maximize","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-minimize","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],[1,"cms-m-list"],[1,"cms-m-empty"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],["role","button","tabindex","0",1,"cms-m-list-item","border-highlight",3,"selected","bg-fade-highlight-light"],["role","button","tabindex","0",1,"cms-m-list-item","border-highlight",3,"click","rtclick","mouseenter","mouseleave"],[1,"cms-m-list-item-image-placeholder"],["aria-hidden","true",3,"ngClass"],[1,"cms-m-list-item-content"],[1,"cms-m-list-item-title"],[1,"cms-m-list-item-subtitle"],[1,"cms-m-list-item-expanded"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none","margin-left","8px",3,"contentService","row"],[1,"navi-icon","pointer",3,"click","cdkCopyToClipboard"],[1,"flaticon2-copy"]],template:function(e,i){if(e&1){let t=w();a(0,"app-cms-html-list-mobile",1),y("optionActionGuideNoticeDisplayChange",function(M){return d(t),k(i.viewGuideNotice,M)||(i.viewGuideNotice=M),m(M)}),v("optionOnActionButtonMemoRow",function(){return d(t),m(i.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return d(t),m(i.onActionButtonMemo())})("optionOnActionButtonExport",function(){return d(t),m(i.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return d(t),m(i.onActionButtonPrintRow())})("optionOnScrollNearBottom",function(){return d(t),m(i.onActionLoadNextPage())}),de(1,2)(2,3)(3,4),L(4,5),a(5,"a",6),v("click",function(){return d(t),m(i.viewGuideNotice=!i.viewGuideNotice)}),S(6,"i",7),r(),a(7,"a",6),v("click",function(){return d(t),m(i.onActionButtonReload())}),S(8,"i",8),r(),a(9,"a",9),v("click",function(){return d(t),m(i.onActionGridExpandRows(!0))}),S(10,"i",10),r(),a(11,"a",9),v("click",function(){return d(t),m(i.onActionGridExpandRows(!1))}),S(12,"i",11),r(),A(),L(13,12),a(14,"a",13),v("click",function(){return d(t),m(i.optionsSearch.data.show=!i.optionsSearch.data.show)}),S(15,"mat-slide-toggle",14),c(16),f(17,"translate"),r(),a(18,"a",13),v("click",function(){return d(t),m(i.onActionButtonStatist())}),S(19,"mat-slide-toggle",14),c(20),f(21,"translate"),r(),A(),L(22,15),h(23,rc,7,3,"div",16),A(),L(24,17),h(25,lc,7,3,"div",16),h(26,sc,7,3,"div",16),h(27,cc,7,3,"div",16),A(),L(28,18),a(29,"app-cms-search-list",19),y("optionsChange",function(M){return d(t),k(i.optionsSearch,M)||(i.optionsSearch=M),m(M)}),r(),a(30,"app-cms-statist-list",19),y("optionsChange",function(M){return d(t),k(i.optionsStatist,M)||(i.optionsStatist=M),m(M)}),r(),A(),L(31,20),h(32,fc,3,0,"div",21)(33,gc,3,3,"div",22),A(),L(34,23),a(35,"mat-paginator",24,0),v("page",function(){return d(t),m(i.onTablePageingData())}),r(),A(),r()}e&2&&(_("optionsListInfoAreaId",i.constructorInfoAreaId)("optionGuideNoticeKey","link-management.accounting.list"),E("optionActionGuideNoticeDisplay",i.viewGuideNotice),_("optionTreeDisplay",!1)("optionActionRowId",i.tableRowSelected==null?null:i.tableRowSelected.id)("optionActionRowDisplay",(i.tableRowSelected==null||i.tableRowSelected.id==null?null:i.tableRowSelected.id.length)>0)("optionActionRowDisplayMenu",i.tableRowSelect2Click)("optionActionRowDisplayMenuAct",i.tableRowSelectActionMenuClick)("optionSelectRowItemTitle",i.tableRowSelected==null?null:i.tableRowSelected.id),o(8),H("rotation360",i.publicHelper.processService.process.inRunArea[i.constructorInfoAreaId]),o(7),_("checked",i.optionsSearch.data.show),o(),C(" ",g(17,26,"ACTION.SEARCH")),o(3),_("checked",i.optionsStatist.data.show),o(),C(" ",g(21,28,"ACTION.STATIST")),o(3),b(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessAddRow?23:-1),o(2),b(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessEditRow&&(i.tableRowSelected==null||i.tableRowSelected.id==null?null:i.tableRowSelected.id.length)>0?25:-1),o(),b(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessDeleteRow&&(i.tableRowSelected==null||i.tableRowSelected.id==null?null:i.tableRowSelected.id.length)>0?26:-1),o(),b(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessWatchRow&&(i.tableRowSelected==null||i.tableRowSelected.id==null?null:i.tableRowSelected.id.length)>0?27:-1),o(2),E("options",i.optionsSearch),o(),E("options",i.optionsStatist),o(2),b(!(i.dataModelResult==null||i.dataModelResult.listItems==null)&&i.dataModelResult.listItems.length?32:33),o(3),_("length",i.dataModelResult.totalRowCount)("pageIndex",i.dataModelResult.currentPageNumber-1)("pageSize",i.dataModelResult.rowPerPage)("pageSizeOptions",se(30,oc)))},dependencies:[Pe,N,Oe,Fe,$e,Ge,We,Wt,He,Qe,P,qe],encapsulation:2});var ia=rn;var _c=["vform"];function Mc(n,l){if(n&1){let e=w();a(0,"app-cms-enum-record-status-selector",40),y("modelChange",function(t){d(e);let s=p();return k(s.dataModel.recordStatus,t)||(s.dataModel.recordStatus=t),m(t)}),r()}if(n&2){let e=p();E("model",e.dataModel.recordStatus),_("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Sc(n,l){n&1&&S(0,"i",21)}function Cc(n,l){n&1&&S(0,"i",22)}function hc(n,l){if(n&1&&(a(0,"mat-error"),c(1),a(2,"strong"),c(3),f(4,"translate"),r()()),n&2){let e=p();o(),C(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," is "),o(2),T(g(4,2,"MESSAGE.required"))}}function bc(n,l){if(n&1&&(a(0,"option",24),c(1),r()),n&2){let e=l.$implicit;_("value",e.value),o(),C(" ",e.description," ")}}function vc(n,l){n&1&&(a(0,"mat-error"),c(1," SettingType is "),a(2,"strong"),c(3),f(4,"translate"),r()()),n&2&&(o(3),T(g(4,1,"MESSAGE.required")))}function Ic(n,l){if(n&1&&(a(0,"option",24),c(1),r()),n&2){let e=l.$implicit;_("value",e.value),o(),C(" ",e.description," ")}}function wc(n,l){n&1&&(a(0,"mat-error"),c(1," SharingLinkType is "),a(2,"strong"),c(3),f(4,"translate"),r()()),n&2&&(o(3),T(g(4,1,"MESSAGE.required")))}function Tc(n,l){n&1&&S(0,"i",21)}function Ec(n,l){n&1&&S(0,"i",22)}function kc(n,l){n&1&&(a(0,"mat-error"),c(1," ClickPrice is "),a(2,"strong"),c(3),f(4,"translate"),r()()),n&2&&(o(3),T(g(4,1,"MESSAGE.required")))}function yc(n,l){n&1&&S(0,"i",21)}function Lc(n,l){n&1&&S(0,"i",22)}function Ac(n,l){n&1&&(a(0,"mat-error"),c(1," ViewPrice is "),a(2,"strong"),c(3),f(4,"translate"),r()()),n&2&&(o(3),T(g(4,1,"MESSAGE.required")))}function Rc(n,l){n&1&&S(0,"i",21)}function xc(n,l){n&1&&S(0,"i",22)}function Dc(n,l){n&1&&(a(0,"mat-error"),c(1," Width is "),a(2,"strong"),c(3),f(4,"translate"),r()()),n&2&&(o(3),T(g(4,1,"MESSAGE.required")))}function Bc(n,l){n&1&&S(0,"i",21)}function Vc(n,l){n&1&&S(0,"i",22)}function Pc(n,l){n&1&&(a(0,"mat-error"),c(1," Height is "),a(2,"strong"),c(3),f(4,"translate"),r()()),n&2&&(o(3),T(g(4,1,"MESSAGE.required")))}function Nc(n,l){n&1&&(a(0,"mat-error"),c(1," PatternScript is "),a(2,"strong"),c(3),f(4,"translate"),r()()),n&2&&(o(3),T(g(4,1,"MESSAGE.required")))}function Oc(n,l){if(n&1&&(S(0,"img",38),f(1,"cmsthumbnail")),n&2){let e=p();_("src",R(g(1,2,e.dataModel.linkMainImageIdSrc)),Z)}}function Fc(n,l){if(n&1){let e=w();a(0,"div",18)(1,"label",41),v("click",function(){d(e);let t=p();return m(t.fileManagerOpenForm=!0)}),c(2),f(3,"translate"),r(),a(4,"input",42,9),f(6,"translate"),y("ngModelChange",function(t){d(e);let s=p();return k(s.dataModel.linkMainImageId,t)||(s.dataModel.linkMainImageId=t),m(t)}),v("click",function(){d(e);let t=p();return m(t.fileManagerOpenForm=!0)}),r(),a(7,"cms-file-manager",43),v("itemSelected",function(t){d(e);let s=p();return m(s.onActionFileSelected(t))}),y("openFormChange",function(t){d(e);let s=p();return k(s.fileManagerOpenForm,t)||(s.fileManagerOpenForm=t),m(t)}),r()()}if(n&2){let e=p();o(2),T(g(3,12,"TITLE.EXAMPLE_OF_BANNER_PHOTO")),o(2),_("placeholder",R(g(6,14,"TITLE.ID_OF_BANNER_PHOTO_FILE"))),E("ngModel",e.dataModel.linkMainImageId),o(3),_("language",e.appLanguage)("isPopup",!0)("openDirectUploadView",!0),E("openForm",e.fileManagerOpenForm),_("tree",e.fileManagerTree)("openFilemanagerButtonLabelKey","select")("selectFileType",e.selectFileTypeMainImage)("openFilemanagerButtonView",!1)}}function Gc(n,l){if(n&1&&(S(0,"img",38),f(1,"cmsthumbnail")),n&2){let e=p();_("src",R(g(1,2,e.dataModel.linkBackgroundIdSrc)),Z)}}function Wc(n,l){if(n&1){let e=w();a(0,"div",18)(1,"label",44),v("click",function(){d(e);let t=p();return m(t.fileManagerOpenForm=!0)}),c(2),f(3,"translate"),r(),a(4,"input",45,10),f(6,"translate"),y("ngModelChange",function(t){d(e);let s=p();return k(s.dataModel.linkBackgroundId,t)||(s.dataModel.linkBackgroundId=t),m(t)}),v("click",function(){d(e);let t=p();return m(t.fileManagerOpenForm=!0)}),r(),a(7,"cms-file-manager",43),v("itemSelected",function(t){d(e);let s=p();return m(s.onActionFileSelectedLinkBackgroundId(t))}),y("openFormChange",function(t){d(e);let s=p();return k(s.fileManagerOpenForm,t)||(s.fileManagerOpenForm=t),m(t)}),r()()}if(n&2){let e=p();o(2),T(g(3,12,"TITLE.BANNER_BACKGROUND")),o(2),_("placeholder",R(g(6,14,"TITLE.ID_OF_BANNER_BACKGROUND_FILE"))),E("ngModel",e.dataModel.linkBackgroundId),o(3),_("language",e.appLanguage)("isPopup",!0)("openDirectUploadView",!0),E("openForm",e.fileManagerOpenForm),_("tree",e.fileManagerTree)("openFilemanagerButtonLabelKey","select")("selectFileType",e.selectFileTypeMainImage)("openFilemanagerButtonView",!1)}}function Hc(n,l){if(n&1){let e=w();a(0,"div",39)(1,"button",46),v("click",function(){d(e);let t=p();return m(t.onFormCancel())}),S(2,"i",47),c(3),f(4,"translate"),r(),a(5,"button",48),S(6,"i",49),c(7),f(8,"translate"),r()()}if(n&2){p();let e=D(10);o(3),C(" ",g(4,3,"ACTION.CANCEL")," "),o(2),_("disabled",!e.form.valid),o(2),C(" ",g(8,5,"ACTION.SAVE")," ")}}var Xn=class Xn extends Pt{constructor(e,i,t,s,M,u,x,q,K){super(s,new dt,x,K);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.categoryService=s;this.linkManagementEnumService=M;this.cmsToastrService=u;this.publicHelper=x;this.cdr=q;this.translate=K;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new j;this.dataModel=new dt;this.dataModelEnumManagementContentSettingTypeResult=new j;this.dataModelEnumSharingPriceTypeResult=new j;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}onActionFileSelected(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}onActionFileSelectedLinkBackgroundId(e){this.dataModel.linkBackgroundId=e.id,this.dataModel.linkBackgroundIdSrc=e.downloadLinksrc}ngOnInit(){this.translate.get("TITLE.Register_New_Categories").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess(),this.getEnumSharingPriceType(),this.getEnumManagementContentSettingType()}getEnumManagementContentSettingType(){this.linkManagementEnumService.ServiceManagementContentSettingTypeEnum().subscribe(e=>{this.dataModelEnumManagementContentSettingTypeResult=e})}getEnumSharingPriceType(){this.linkManagementEnumService.ServiceSharingPriceTypeEnum().subscribe(e=>{this.dataModelEnumSharingPriceTypeResult=e})}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.categoryService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Xn.\u0275fac=function(i){return new(i||Xn)(I(fe),I(ue),I(ne),I(St),I(ot),I(G),I(W),I(O),I(F))},Xn.\u0275cmp=V({type:Xn,selectors:[["app-linkmanagement-billboard-pattern-add"]],viewQuery:function(i,t){if(i&1&&ee(_c,5),i&2){let s;te(s=ie())&&(t.formGroup=s.first)}},standalone:!1,features:[U],decls:94,vars:76,consts:[["vform","ngForm"],["Title",""],["SettingType","ngModel"],["SharingLinkType","ngModel"],["ClickPrice",""],["ViewPrice",""],["Width",""],["Height",""],["PatternScript",""],["LinkMainImageId",""],["LinkBackgroundId",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["id","dataModel.settingType","name","dataModel.settingType",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[3,"value"],["id","dataModel.sharingLinkType","name","dataModel.sharingLinkType",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.clickPrice",1,"color-highlight"],["matInput","","type","number","name","dataModel.clickPrice","minlength","0","required","","id","dataModel.clickPrice",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.viewPrice",1,"color-highlight"],["matInput","","type","number","name","dataModel.viewPrice","minlength","0","required","","id","dataModel.viewPrice",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.width",1,"color-highlight"],["matInput","","type","number","name","dataModel.width","minlength","0","required","","id","dataModel.width",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.height",1,"color-highlight"],["matInput","","type","number","name","dataModel.height","minlength","0","required","","id","dataModel.height",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.patternScript",1,"color-highlight"],["matInput","","name","dataModel.patternScript","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.patternScript",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"mb-3"],["target","_blank",3,"href"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"form-actions"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openDirectUploadView","openForm","tree","openFilemanagerButtonLabelKey","selectFileType","openFilemanagerButtonView"],["for","dataModel.linkBackgroundId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkBackgroundId","autocomplete","off","id","dataModel.linkBackgroundId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=w();a(0,"div",11),S(1,"app-progress-spinner",12),a(2,"div",13)(3,"p",14),c(4),r(),a(5,"p"),c(6),f(7,"translate"),r(),S(8,"app-cms-form-result-message",15),a(9,"form",16,0),v("ngSubmit",function(){return d(s),m(t.onFormSubmit())}),h(11,Mc,1,5,"app-cms-enum-record-status-selector",17),a(12,"div",18)(13,"label",19),c(14),r(),a(15,"input",20,1),y("ngModelChange",function(u){return d(s),k(t.dataModel.title,u)||(t.dataModel.title=u),m(u)}),r(),h(17,Sc,1,0,"i",21),h(18,Cc,1,0,"i",22),a(19,"em"),c(20),r(),h(21,hc,5,4,"mat-error"),r(),a(22,"div",18)(23,"select",23,2),y("ngModelChange",function(u){return d(s),k(t.dataModel.settingType,u)||(t.dataModel.settingType=u),m(u)}),me(25,bc,2,2,"option",24,Xe),r(),a(27,"em"),c(28),f(29,"translate"),r(),h(30,vc,5,3,"mat-error"),r(),a(31,"div",18)(32,"select",25,3),y("ngModelChange",function(u){return d(s),k(t.dataModel.sharingLinkType,u)||(t.dataModel.sharingLinkType=u),m(u)}),me(34,Ic,2,2,"option",24,Xe),r(),a(36,"em"),c(37),f(38,"translate"),r(),h(39,wc,5,3,"mat-error"),r(),a(40,"div",18)(41,"label",26),c(42),r(),a(43,"input",27,4),f(45,"translate"),y("ngModelChange",function(u){return d(s),k(t.dataModel.clickPrice,u)||(t.dataModel.clickPrice=u),m(u)}),r(),h(46,Tc,1,0,"i",21),h(47,Ec,1,0,"i",22),h(48,kc,5,3,"mat-error"),r(),a(49,"div",18)(50,"label",28),c(51),r(),a(52,"input",29,5),f(54,"translate"),y("ngModelChange",function(u){return d(s),k(t.dataModel.viewPrice,u)||(t.dataModel.viewPrice=u),m(u)}),r(),h(55,yc,1,0,"i",21),h(56,Lc,1,0,"i",22),h(57,Ac,5,3,"mat-error"),r(),a(58,"div",18)(59,"label",30),c(60),r(),a(61,"input",31,6),f(63,"translate"),y("ngModelChange",function(u){return d(s),k(t.dataModel.width,u)||(t.dataModel.width=u),m(u)}),r(),h(64,Rc,1,0,"i",21),h(65,xc,1,0,"i",22),h(66,Dc,5,3,"mat-error"),r(),a(67,"div",18)(68,"label",32),c(69),r(),a(70,"input",33,7),f(72,"translate"),y("ngModelChange",function(u){return d(s),k(t.dataModel.height,u)||(t.dataModel.height=u),m(u)}),r(),h(73,Bc,1,0,"i",21),h(74,Vc,1,0,"i",22),h(75,Pc,5,3,"mat-error"),r(),a(76,"div",18)(77,"label",34),c(78),r(),a(79,"textarea",35,8),y("ngModelChange",function(u){return d(s),k(t.dataModel.patternScript,u)||(t.dataModel.patternScript=u),m(u)}),c(81,"                  "),r(),a(82,"em"),c(83),r(),h(84,Nc,5,3,"mat-error"),r(),a(85,"div",36)(86,"a",37),f(87,"cmsthumbnail"),h(88,Oc,2,4,"img",38),r()(),h(89,Fc,8,16,"div",18),a(90,"div",36),h(91,Gc,2,4,"img",38),r(),h(92,Wc,8,16,"div",18),h(93,Hc,9,7,"div",39),r()()()}if(i&2){let s=D(16),M=D(24),u=D(33),x=D(44),q=D(53),K=D(62),ve=D(71),Re=D(80);o(),_("optionsInfoAreaId",t.constructorInfoAreaId),o(3),C(" ",t.formInfo.formTitle," "),o(2),C(" ",g(7,60,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),_("formInfo",t.formInfo),o(3),b(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?11:-1),o(3),T(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),_("placeholder",R(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),E("ngModel",t.dataModel.title),o(2),b(s.value?-1:17),o(),b(s.value?18:-1),o(2),C("",s.value.length," / 100"),o(),b(s.errors!=null&&s.errors.required?21:-1),o(2),E("ngModel",t.dataModel.settingType),o(2),pe(t.dataModelEnumManagementContentSettingTypeResult.listItems),o(3),T(g(29,62,"TITLE.Select_type_of_content")),o(2),b(M.errors!=null&&M.errors.required?30:-1),o(2),E("ngModel",t.dataModel.sharingLinkType),o(2),pe(t.dataModelEnumSharingPriceTypeResult.listItems),o(3),T(g(38,64,"TITLE.Select_type_of_content")),o(2),b(u.errors!=null&&u.errors.required?39:-1),o(3),T(t.fieldsInfo.clickPrice==null?null:t.fieldsInfo.clickPrice.fieldTitle),o(),_("placeholder",R(g(45,66,"TITLE.Amount_Per_Click"))),E("ngModel",t.dataModel.clickPrice),o(3),b(x.value?-1:46),o(),b(x.value?47:-1),o(),b(x.errors!=null&&x.errors.required?48:-1),o(3),T(t.fieldsInfo.viewPrice==null?null:t.fieldsInfo.viewPrice.fieldTitle),o(),_("placeholder",R(g(54,68,"TITLE.Amount_Per_Show"))),E("ngModel",t.dataModel.viewPrice),o(3),b(q.value?-1:55),o(),b(q.value?56:-1),o(),b(q.errors!=null&&q.errors.required?57:-1),o(3),T(t.fieldsInfo.width==null?null:t.fieldsInfo.width.fieldTitle),o(),_("placeholder",R(g(63,70,"TITLE.Width"))),E("ngModel",t.dataModel.width),o(3),b(K.value?-1:64),o(),b(K.value?65:-1),o(),b(K.errors!=null&&K.errors.required?66:-1),o(3),T(t.fieldsInfo.height==null?null:t.fieldsInfo.height.fieldTitle),o(),_("placeholder",R(g(72,72,"TITLE.length"))),E("ngModel",t.dataModel.height),o(3),b(ve.value?-1:73),o(),b(ve.value?74:-1),o(),b(ve.errors!=null&&ve.errors.required?75:-1),o(3),T(t.fieldsInfo.patternScript==null?null:t.fieldsInfo.patternScript.fieldTitle),o(),_("placeholder",R(t.fieldsInfo.patternScript==null?null:t.fieldsInfo.patternScript.fieldTitle)),E("ngModel",t.dataModel.patternScript),o(4),C("",Re.value.length," / 500"),o(),b(Re.errors!=null&&Re.errors.required?84:-1),o(2),_("href",R(g(87,74,t.dataModel.linkMainImageIdSrc)),Z),o(2),b((t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0?88:-1),o(),b(t.fieldsInfo.linkMainImageId!=null&&t.fieldsInfo.linkMainImageId.accessWatchField?89:-1),o(2),b((t.dataModel==null||t.dataModel.linkBackgroundIdSrc==null?null:t.dataModel.linkBackgroundIdSrc.length)>0?91:-1),o(),b(t.fieldsInfo.linkMainImageId!=null&&t.fieldsInfo.linkMainImageId.accessWatchField?92:-1),o(),b(t.formInfo.submitButtonEnabled?93:-1)}},dependencies:[ke,li,si,J,Ke,ri,X,Te,Y,Ce,he,oe,Ee,ye,N,Ae,Q,Le,Je,mt,P,be],encapsulation:2});var Yn=Xn;var qc=["*"];function jc(n,l){if(n&1&&(a(0,"label",3),c(1),r()),n&2){let e=p();_("for",ei("app-cms-site-selector-",e.id)),o(),T(e.optionLabel)}}function Uc(n,l){if(n&1&&(S(0,"img",5),f(1,"cmsthumbnail")),n&2){let e=p();_("src",R(g(1,2,e.dataModelSelect==null?null:e.dataModelSelect.linkMainImageIdSrc)),Z)}}function Qc(n,l){if(n&1&&(S(0,"img",5),f(1,"cmsthumbnail")),n&2){let e=p().$implicit;_("src",R(g(1,2,e.linkMainImageIdSrc)),Z)}}function zc(n,l){if(n&1&&(a(0,"mat-option",8),h(1,Qc,2,4,"img",5),a(2,"span"),c(3),r()()),n&2){let e=l.$implicit,i=p();_("value",e)("disabled",i.optionDisabled),o(),b(e.linkMainImageIdSrc?1:-1),o(2),T(i.displayOption(e))}}function Kc(n,l){n&1&&S(0,"i",9)}function Jc(n,l){n&1&&S(0,"i",10)}function Xc(n,l){if(n&1){let e=w();a(0,"i",13),v("click",function(){d(e);let t=p();return m(t.onActionSelectClear())}),r()}}function Yc(n,l){n&1&&(a(0,"em"),c(1),f(2,"translate"),r()),n&2&&(o(),C("(",g(2,1,"TITLE.Necessary"),")"))}var tn=class tn{constructor(l,e,i,t,s,M,u){this.coreEnumService=l;this.cmsToastrService=e;this.cdr=i;this.publicHelper=t;this.translate=s;this.linkManagementEnumService=M;this.categoryService=u;this.id=++tn.nextId;this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new j;this.dataModelSelect=new dt;this.formControl=new Ni;this.dataModelManagementContentSettingTypeEnumResult=new j;this.optionPlaceholder="";this.optionSelectFirstItem=!1;this.optionDisabled=!1;this.optionRequired=!1;this.optionLabel="";this.optionChange=new lt;this.optionReload=()=>this.onActionButtonReload();this.publicHelper.processService.cdr=this.cdr,this.getManagementContentSettingTypeEnum()}getManagementContentSettingTypeEnum(){this.linkManagementEnumService.ServiceManagementContentSettingTypeEnum().subscribe({next:l=>{this.dataModelManagementContentSettingTypeEnumResult=l}})}set optionSelectForce(l){this.onActionSelectForce(l)}ngOnInit(){this.loadOptions(),(!this.optionLabel||this.optionLabel.length==0&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder)}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(Ri(""),Li(1500),Ai(),xi(l=>typeof l=="string"||typeof l=="number"?this.DataGetAll(l||""):[]))}displayFn(l){if(this.dataModelManagementContentSettingTypeEnumResult?.listItems&&this.dataModelManagementContentSettingTypeEnumResult.listItems.length>0){let e=this.dataModelManagementContentSettingTypeEnumResult.listItems.find(i=>i.key===l.settingType.toString()||i.value===l.settingType);if(e)return l?l.title+"-"+e.description:void 0}return l?l.title:void 0}displayOption(l){if(this.dataModelManagementContentSettingTypeEnumResult?.listItems&&this.dataModelManagementContentSettingTypeEnumResult.listItems.length>0){let e=this.dataModelManagementContentSettingTypeEnumResult.listItems.find(i=>i.key===l.settingType.toString()||i.value===l.settingType);if(e)return l?l.title+"-"+e.description:void 0}return l?l.title:void 0}DataGetAll(l){return De(this,null,function*(){let e=new Ie;e.rowPerPage=20,e.accessLoad=!0;let i=new z;i.propertyName="title",i.value=l,i.searchType=ii.Contains,i.clauseType=Mt.Or,e.filters.push(i),l&&typeof+l=="number"&&+l>0&&(i=new z,i.propertyName="id",i.value=l,i.searchType=ii.Equal,i.clauseType=Mt.Or,e.filters.push(i));let t=this.constructor.name+"main";return this.translate.get("MESSAGE.Receiving_information").subscribe(s=>{this.publicHelper.processService.processStart(t,s,this.constructorInfoAreaId)}),yield ki(this.categoryService.ServiceGetAll(e)).then(s=>(this.dataModelResult=s,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||this.dataModelSelect.id<=0)&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0])},1e3),this.onActionSelect(this.dataModelResult.listItems[0])),this.publicHelper.processService.processStop(t),s.listItems))})}onActionSelect(l){this.dataModelSelect=l,this.optionChange.emit(this.dataModelSelect)}onActionSelectClear(){this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null)}push(l){return this.filteredOptions.pipe(yi(e=>(e.find(i=>i.id===l.id)||e.push(l),e)))}onActionSelectForce(l){if(typeof l=="number"&&l>0){if(this.dataModelSelect&&this.dataModelSelect.id===l)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(e=>e.id===l)){let e=this.dataModelResult.listItems.find(i=>i.id===l);this.dataModelSelect=e,this.formControl.setValue(e);return}this.categoryService.ServiceGetOneById(l).subscribe({next:e=>{e.isSuccess?(this.filteredOptions=this.push(e.item),this.dataModelSelect=e.item,this.formControl.setValue(e.item),this.optionChange.emit(e.item)):this.cmsToastrService.typeErrorMessage(e.errorMessage)}});return}if(typeof l==typeof dt){this.filteredOptions=this.push(l),this.dataModelSelect=l,this.formControl.setValue(l);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new dt,this.loadOptions()}};tn.nextId=0,tn.\u0275fac=function(e){return new(e||tn)(I(ne),I(G),I(O),I(W),I(F),I(ot),I(St))},tn.\u0275cmp=V({type:tn,selectors:[["app-linkmanagement-billboard-pattern-selector"]],inputs:{optionPlaceholder:"optionPlaceholder",optionSelectFirstItem:"optionSelectFirstItem",optionDisabled:"optionDisabled",optionRequired:"optionRequired",optionLabel:"optionLabel",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange"},standalone:!1,ngContentSelectors:qc,decls:18,vars:24,consts:[["matauto","matAutocomplete"],[1,"input-style","has-borders","has-icon","input-style-always-active","validate-field","mb-4","loader-container"],[3,"optionsInfoAreaId"],[1,"color-highlight",3,"for"],["matPrefix",""],["aria-hidden","","height","25","width","25",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["type","text","aria-label","Assignee","matInput","",3,"placeholder","formControl","matAutocomplete","required","id"],[3,"optionSelected","displayWith"],[3,"value","disabled"],[1,"fa","fa-info","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"fa","fa-times","action","color-red-dark"],[1,"fa","fa-rotate-right","action","color-green-dark",2,"margin-left","20px",3,"click","title"],[1,"fa","fa-times","action","color-red-dark",3,"click"]],template:function(e,i){if(e&1){let t=w();Di(),a(0,"div",1),S(1,"app-progress-spinner",2),h(2,jc,2,3,"label",3),a(3,"span",4),h(4,Uc,2,4,"img",5),r(),S(5,"input",6),a(6,"mat-autocomplete",7,0),v("optionSelected",function(M){return d(t),m(i.onActionSelect(M.option.value))}),me(8,zc,4,4,"mat-option",8,Xe),f(10,"async"),r(),h(11,Kc,1,0,"i",9),h(12,Jc,1,0,"i",10),h(13,Xc,1,0,"i",11),a(14,"i",12),f(15,"translate"),v("click",function(){return d(t),m(i.onActionButtonReload())}),r(),h(16,Yc,3,3,"em"),Bi(17),r()}if(e&2){let t=D(7);o(),_("optionsInfoAreaId",i.constructorInfoAreaId),o(),b((i.optionLabel==null?null:i.optionLabel.length)>0?2:-1),o(2),b(i.dataModelSelect&&(i.dataModelSelect!=null&&i.dataModelSelect.linkMainImageIdSrc)?4:-1),o(),_("placeholder",R(i.optionPlaceholder))("id",ei("app-cms-site-selector-",i.id))("formControl",i.formControl)("matAutocomplete",t)("required",i.optionRequired),Be("disabled",i.optionDisabled?!0:null),o(),_("displayWith",i.displayFn),o(2),pe(g(10,20,i.filteredOptions)),o(3),b(i.formControl.valid?-1:11),o(),b(i.optionRequired&&i.formControl.valid?12:-1),o(),b((i.dataModelSelect==null?null:i.dataModelSelect.id)>0?13:-1),o(),H("rotation360",i.publicHelper.processService.process.inRunArea[i.constructorInfoAreaId]),_("title",R(g(15,22,"ACTION.RELOAD"))),o(2),b(i.optionRequired&&!((i.dataModelSelect==null?null:i.dataModelSelect.id)>0)?16:-1)}},dependencies:[J,X,Y,Oi,Wi,Fi,Hi,Wo,N,Q,Ye,P,be],encapsulation:2});var mi=tn;var Zc=["vform"];function $c(n,l){if(n&1){let e=w();a(0,"div",6)(1,"label",7),c(2),r(),a(3,"input",8,0),y("ngModelChange",function(t){d(e);let s=p();return k(s.dataModelResultCategory.item.title,t)||(s.dataModelResultCategory.item.title=t),m(t)}),r()(),S(5,"app-linkmanagement-billboard-pattern-selector",9),f(6,"translate")}if(n&2){let e=p();o(2),T(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),o(),_("placeholder",R(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle)),E("ngModel",e.dataModelResultCategory.item.title),o(2),_("optionPlaceholder",g(6,5,"TITLE.Alternative_classification_to_move_information_to_this_branch"))}}function ed(n,l){if(n&1){let e=w();a(0,"div",5)(1,"button",10),v("click",function(){d(e);let t=p();return m(t.onFormCancel())}),S(2,"i",11),c(3),f(4,"translate"),r(),a(5,"button",12),v("click",function(){d(e);let t=p();return m(t.onFormDelete())}),S(6,"i",13),c(7),f(8,"translate"),r(),a(9,"button",14),v("click",function(){d(e);let t=p();return m(t.onFormMove())}),S(10,"i",11),c(11),f(12,"translate"),r()()}if(n&2){let e=p();o(3),C(" ",g(4,5,"ACTION.CANCEL")," "),o(2),_("disabled",!e.formInfo.submitButtonEnabled),o(2),C(" ",g(8,7,"ACTION.DELETE")," "),o(2),_("disabled",!e.formInfo.submitButtonEnabled),o(2),C(" ",g(12,9,"TITLE.MOVE_DATA")," ")}}var Zn=class Zn{constructor(l,e,i,t,s,M,u){this.data=l;this.dialogRef=e;this.publicHelper=i;this.categoryService=t;this.cdr=s;this.translate=M;this.cmsToastrService=u;this.requestId=0;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.dataModelResultCategory=new j;this.dataModelResultCategoryAllData=new j;this.dataModel={};this.formInfo=new Vt;this.publicHelper.processService.cdr=this.cdr,l&&(this.requestId=+l.id||0)}ngOnInit(){if(this.requestId<=0){this.cmsToastrService.typeErrorDeleteRowIsNull(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOne(),this.DataGetAll()}DataGetOne(){if(this.requestId===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.translate.get("TITLE.Loading_Information").subscribe(e=>{this.formInfo.submitResultMessage=e});let l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(l,e,this.constructorInfoAreaId)}),this.categoryService.setAccessLoad(),this.categoryService.setAccessDataType(we.Editor),this.categoryService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModelResultCategory=e,e.isSuccess?this.formInfo.submitResultMessage="":(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.formInfo.submitResultMessageType=FormSubmitedStatusEnum.Success,this.cmsToastrService.typeErrorGetOne()),this.publicHelper.processService.processStop(l)},error:e=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessageType=FormSubmitedStatusEnum.Success,this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(l,!1)}})}DataGetAll(){this.translate.get("TITLE.Loading_Information").subscribe(i=>{this.formInfo.submitResultMessage=i});let l=new Ie;l.rowPerPage=100;let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.categoryService.ServiceGetAll(l).subscribe({next:i=>{this.dataModelResultCategoryAllData=i,i.isSuccess?this.formInfo.submitResultMessage="":(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=FormSubmitedStatusEnum.Success,this.cmsToastrService.typeErrorGetAll()),this.publicHelper.processService.processStop(e)},error:i=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessageType=FormSubmitedStatusEnum.Success,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormMove(){if(this.requestId===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}if(!this.formGroup.valid)return;this.formInfo.submitButtonEnabled=!0,this.dataModel.newCatId===this.requestId&&(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.translate.get("ERRORMESSAGE.MESSAGE.The_delete_category_ID_is_the_same_as_the_alternate_category").subscribe(e=>{this.formInfo.submitResultMessage=e,this.formInfo.submitButtonEnabled=!0})),this.formInfo.submitButtonEnabled=!1;let l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(l,e,this.constructorInfoAreaId)})}onFormDelete(){if(this.requestId===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.formInfo.submitButtonEnabled=!1,this.formInfo.submitButtonEnabled=!1;let l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(l,e,this.constructorInfoAreaId)}),this.categoryService.ServiceDelete(this.requestId).subscribe({next:e=>{this.formInfo.submitButtonEnabled=!e.isSuccess,e.isSuccess?(this.translate.get("MESSAGE.Deletion_Was_Successful").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.cmsToastrService.typeSuccessRemove(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.cmsToastrService.typeErrorRemove()),this.formInfo.submitButtonEnabled=!0,this.publicHelper.processService.processStop(l)},error:e=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(e),this.formInfo.submitButtonEnabled=!0,this.publicHelper.processService.processStop(l)}})}onFormChangeNewCatId(l){if(this.formInfo.submitResultMessage="",this.requestId===0||!l||l.id<=0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.dataModel.newCatId=l.id,this.dataModel.newCatId===this.requestId?(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.translate.get("ERRORMESSAGE.MESSAGE.The_delete_category_ID_is_the_same_as_the_alternate_category").subscribe(e=>{this.formInfo.submitResultMessage=e,this.formInfo.submitButtonEnabled=!1})):(this.formInfo.submitButtonEnabled=!0,this.formInfo.submitResultMessage="")}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Zn.\u0275fac=function(e){return new(e||Zn)(I(fe),I(ue),I(W),I(St),I(O),I(F),I(G))},Zn.\u0275cmp=V({type:Zn,selectors:[["app-linkmanagement-billboard-pattern-delete"]],viewQuery:function(e,i){if(e&1&&ee(Zc,5),e&2){let t;te(t=ie())&&(i.formGroup=t.first)}},standalone:!1,decls:12,vars:10,consts:[["Title",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[1,"form-actions"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModelResultCategory.item.title",1,"color-highlight"],["matInput","","name","dataModelResultCategory.item.title","type","text","minlength","3","maxlength","50","required","","id","dataModelResultCategory.item.title","readonly","",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[3,"optionPlaceholder"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click","disabled"],[1,"fa","fa-check-square-o"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click","disabled"]],template:function(e,i){e&1&&(a(0,"div",1),S(1,"app-progress-spinner",2),a(2,"div",3)(3,"p",4),c(4),f(5,"translate"),r(),a(6,"p"),c(7),f(8,"translate"),r(),c(9),h(10,$c,7,7),h(11,ed,13,11,"div",5),r()()),e&2&&(o(),_("optionsInfoAreaId",i.constructorInfoAreaId),o(3),C(" ",g(5,6,"TITLE.EDIT_USER_ACCOUNT")," "),o(3),C(" ",g(8,8,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),C(" ",i.formInfo.formTitle," "),o(),b(i.dataModelResultCategory!=null&&i.dataModelResultCategory.item?10:-1),o(),b(i.formInfo.submitButtonEnabled?11:-1))},dependencies:[J,X,Y,Ce,he,oe,N,Q,mi,P],encapsulation:2});var $n=Zn;var td=["vform"];function id(n,l){if(n&1){let e=w();a(0,"app-cms-enum-record-status-selector",40),y("modelChange",function(t){d(e);let s=p();return k(s.dataModel.recordStatus,t)||(s.dataModel.recordStatus=t),m(t)}),r()}if(n&2){let e=p();E("model",e.dataModel.recordStatus),_("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function nd(n,l){n&1&&S(0,"i",21)}function od(n,l){n&1&&S(0,"i",22)}function ad(n,l){if(n&1&&(a(0,"mat-error"),c(1),a(2,"strong"),c(3),f(4,"translate"),r()()),n&2){let e=p();o(),C(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," is "),o(2),T(g(4,2,"MESSAGE.required"))}}function rd(n,l){if(n&1&&(a(0,"option",24),c(1),r()),n&2){let e=l.$implicit;_("value",e.value),o(),C(" ",e.description," ")}}function ld(n,l){n&1&&(a(0,"mat-error"),c(1," SettingType is "),a(2,"strong"),c(3),f(4,"translate"),r()()),n&2&&(o(3),T(g(4,1,"MESSAGE.required")))}function sd(n,l){if(n&1&&(a(0,"option",24),c(1),r()),n&2){let e=l.$implicit;_("value",e.value),o(),C(" ",e.description," ")}}function cd(n,l){n&1&&(a(0,"mat-error"),c(1," SharingLinkType is "),a(2,"strong"),c(3),f(4,"translate"),r()()),n&2&&(o(3),T(g(4,1,"MESSAGE.required")))}function dd(n,l){n&1&&S(0,"i",21)}function md(n,l){n&1&&S(0,"i",22)}function pd(n,l){n&1&&(a(0,"mat-error"),c(1," ClickPrice is "),a(2,"strong"),c(3),f(4,"translate"),r()()),n&2&&(o(3),T(g(4,1,"MESSAGE.required")))}function ud(n,l){n&1&&S(0,"i",21)}function fd(n,l){n&1&&S(0,"i",22)}function gd(n,l){n&1&&(a(0,"mat-error"),c(1," ViewPrice is "),a(2,"strong"),c(3),f(4,"translate"),r()()),n&2&&(o(3),T(g(4,1,"MESSAGE.required")))}function _d(n,l){n&1&&S(0,"i",21)}function Md(n,l){n&1&&S(0,"i",22)}function Sd(n,l){n&1&&(a(0,"mat-error"),c(1," Width is "),a(2,"strong"),c(3),f(4,"translate"),r()()),n&2&&(o(3),T(g(4,1,"MESSAGE.required")))}function Cd(n,l){n&1&&S(0,"i",21)}function hd(n,l){n&1&&S(0,"i",22)}function bd(n,l){n&1&&(a(0,"mat-error"),c(1," Height is "),a(2,"strong"),c(3),f(4,"translate"),r()()),n&2&&(o(3),T(g(4,1,"MESSAGE.required")))}function vd(n,l){n&1&&(a(0,"mat-error"),c(1," PatternScript is "),a(2,"strong"),c(3),f(4,"translate"),r()()),n&2&&(o(3),T(g(4,1,"MESSAGE.required")))}function Id(n,l){if(n&1&&(S(0,"img",38),f(1,"cmsthumbnail")),n&2){let e=p();_("src",R(g(1,2,e.dataModel.linkMainImageIdSrc)),Z)}}function wd(n,l){if(n&1){let e=w();a(0,"div",18)(1,"label",41),v("click",function(){d(e);let t=p();return m(t.fileManagerOpenForm=!0)}),c(2),f(3,"translate"),r(),a(4,"input",42,9),f(6,"translate"),y("ngModelChange",function(t){d(e);let s=p();return k(s.dataModel.linkMainImageId,t)||(s.dataModel.linkMainImageId=t),m(t)}),v("click",function(){d(e);let t=p();return m(t.fileManagerOpenForm=!0)}),r(),a(7,"cms-file-manager",43),v("itemSelected",function(t){d(e);let s=p();return m(s.onActionFileSelected(t))}),y("openFormChange",function(t){d(e);let s=p();return k(s.fileManagerOpenForm,t)||(s.fileManagerOpenForm=t),m(t)}),r()()}if(n&2){let e=p();o(2),T(g(3,12,"TITLE.EXAMPLE_OF_BANNER_PHOTO")),o(2),_("placeholder",R(g(6,14,"TITLE.ID_OF_BANNER_PHOTO_FILE"))),E("ngModel",e.dataModel.linkMainImageId),o(3),_("language",e.appLanguage)("isPopup",!0)("openDirectUploadView",!0),E("openForm",e.fileManagerOpenForm),_("tree",e.fileManagerTree)("openFilemanagerButtonLabelKey","select")("selectFileType",e.selectFileTypeMainImage)("openFilemanagerButtonView",!1)}}function Td(n,l){if(n&1&&(S(0,"img",38),f(1,"cmsthumbnail")),n&2){let e=p();_("src",R(g(1,2,e.dataModel.linkBackgroundIdSrc)),Z)}}function Ed(n,l){if(n&1){let e=w();a(0,"div",18)(1,"label",44),v("click",function(){d(e);let t=p();return m(t.fileManagerOpenForm=!0)}),c(2),f(3,"translate"),r(),a(4,"input",45,10),f(6,"translate"),y("ngModelChange",function(t){d(e);let s=p();return k(s.dataModel.linkBackgroundId,t)||(s.dataModel.linkBackgroundId=t),m(t)}),v("click",function(){d(e);let t=p();return m(t.fileManagerOpenForm=!0)}),r(),a(7,"cms-file-manager",43),v("itemSelected",function(t){d(e);let s=p();return m(s.onActionFileSelectedLinkBackgroundId(t))}),y("openFormChange",function(t){d(e);let s=p();return k(s.fileManagerOpenForm,t)||(s.fileManagerOpenForm=t),m(t)}),r()()}if(n&2){let e=p();o(2),T(g(3,12,"TITLE.BANNER_BACKGROUND")),o(2),_("placeholder",R(g(6,14,"TITLE.ID_OF_BANNER_BACKGROUND_FILE"))),E("ngModel",e.dataModel.linkBackgroundId),o(3),_("language",e.appLanguage)("isPopup",!0)("openDirectUploadView",!0),E("openForm",e.fileManagerOpenForm),_("tree",e.fileManagerTree)("openFilemanagerButtonLabelKey","select")("selectFileType",e.selectFileTypeMainImage)("openFilemanagerButtonView",!1)}}function kd(n,l){if(n&1){let e=w();a(0,"div",39)(1,"button",46),v("click",function(){d(e);let t=p();return m(t.onFormCancel())}),S(2,"i",47),c(3),f(4,"translate"),r(),a(5,"button",48),S(6,"i",49),c(7),f(8,"translate"),r()()}if(n&2){p();let e=D(10);o(3),C(" ",g(4,3,"ACTION.CANCEL")," "),o(2),_("disabled",!e.form.valid),o(2),C(" ",g(8,5,"ACTION.SAVE")," ")}}var eo=class eo extends pt{constructor(e,i,t,s,M,u,x,q,K){super(s,new dt,x,K);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.categoryService=s;this.linkManagementEnumService=M;this.cmsToastrService=u;this.publicHelper=x;this.cdr=q;this.translate=K;this.requestId=0;this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new ct;this.dataModel=new dt;this.dataModelEnumManagementContentSettingTypeResult=new j;this.dataModelEnumSharingPriceTypeResult=new j;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=+e.id||0),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}onActionFileSelected(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}onActionFileSelectedLinkBackgroundId(e){this.dataModel.linkBackgroundId=e.id,this.dataModel.linkBackgroundIdSrc=e.downloadLinksrc}ngOnInit(){if(this.requestId>0)this.translate.get("TITLE.Edit_Categories").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.getEnumSharingPriceType(),this.getEnumManagementContentSettingType()}getEnumManagementContentSettingType(){this.linkManagementEnumService.ServiceManagementContentSettingTypeEnum().subscribe(e=>{this.dataModelEnumManagementContentSettingTypeResult=e})}getEnumSharingPriceType(){this.linkManagementEnumService.ServiceSharingPriceTypeEnum().subscribe(e=>{this.dataModelEnumSharingPriceTypeResult=e})}DataGetOneContent(){if(this.requestId<=0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.categoryService.setAccessLoad(),this.categoryService.setAccessDataType(we.Editor),this.categoryService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.categoryService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};eo.\u0275fac=function(i){return new(i||eo)(I(fe),I(ue),I(ne),I(St),I(ot),I(G),I(W),I(O),I(F))},eo.\u0275cmp=V({type:eo,selectors:[["app-linkmanagement-billboard-pattern-edit"]],viewQuery:function(i,t){if(i&1&&ee(td,5),i&2){let s;te(s=ie())&&(t.formGroup=s.first)}},standalone:!1,features:[U],decls:94,vars:76,consts:[["vform","ngForm"],["Title",""],["SettingType","ngModel"],["SharingLinkType","ngModel"],["ClickPrice",""],["ViewPrice",""],["Width",""],["Height",""],["PatternScript",""],["LinkMainImageId",""],["LinkBackgroundId",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["id","dataModel.settingType","name","dataModel.settingType",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[3,"value"],["id","dataModel.sharingLinkType","name","dataModel.sharingLinkType",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.clickPrice",1,"color-highlight"],["matInput","","type","number","name","dataModel.clickPrice","minlength","0","required","","id","dataModel.clickPrice",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.viewPrice",1,"color-highlight"],["matInput","","type","number","name","dataModel.viewPrice","minlength","0","required","","id","dataModel.viewPrice",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.width",1,"color-highlight"],["matInput","","type","number","name","dataModel.width","minlength","0","required","","id","dataModel.width",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.height",1,"color-highlight"],["matInput","","type","number","name","dataModel.height","minlength","0","required","","id","dataModel.height",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.patternScript",1,"color-highlight"],["matInput","","name","dataModel.patternScript","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.patternScript",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"mb-3"],["target","_blank",3,"href"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"form-actions"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openDirectUploadView","openForm","tree","openFilemanagerButtonLabelKey","selectFileType","openFilemanagerButtonView"],["for","dataModel.linkBackgroundId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkBackgroundId","autocomplete","off","id","dataModel.linkBackgroundId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=w();a(0,"div",11),S(1,"app-progress-spinner",12),a(2,"div",13)(3,"p",14),c(4),r(),a(5,"p"),c(6),f(7,"translate"),r(),S(8,"app-cms-form-result-message",15),a(9,"form",16,0),v("ngSubmit",function(){return d(s),m(t.onFormSubmit())}),h(11,id,1,5,"app-cms-enum-record-status-selector",17),a(12,"div",18)(13,"label",19),c(14),r(),a(15,"input",20,1),y("ngModelChange",function(u){return d(s),k(t.dataModel.title,u)||(t.dataModel.title=u),m(u)}),r(),h(17,nd,1,0,"i",21),h(18,od,1,0,"i",22),a(19,"em"),c(20),r(),h(21,ad,5,4,"mat-error"),r(),a(22,"div",18)(23,"select",23,2),y("ngModelChange",function(u){return d(s),k(t.dataModel.settingType,u)||(t.dataModel.settingType=u),m(u)}),me(25,rd,2,2,"option",24,Xe),r(),a(27,"em"),c(28),f(29,"translate"),r(),h(30,ld,5,3,"mat-error"),r(),a(31,"div",18)(32,"select",25,3),y("ngModelChange",function(u){return d(s),k(t.dataModel.sharingLinkType,u)||(t.dataModel.sharingLinkType=u),m(u)}),me(34,sd,2,2,"option",24,Xe),r(),a(36,"em"),c(37),f(38,"translate"),r(),h(39,cd,5,3,"mat-error"),r(),a(40,"div",18)(41,"label",26),c(42),r(),a(43,"input",27,4),f(45,"translate"),y("ngModelChange",function(u){return d(s),k(t.dataModel.clickPrice,u)||(t.dataModel.clickPrice=u),m(u)}),r(),h(46,dd,1,0,"i",21),h(47,md,1,0,"i",22),h(48,pd,5,3,"mat-error"),r(),a(49,"div",18)(50,"label",28),c(51),r(),a(52,"input",29,5),f(54,"translate"),y("ngModelChange",function(u){return d(s),k(t.dataModel.viewPrice,u)||(t.dataModel.viewPrice=u),m(u)}),r(),h(55,ud,1,0,"i",21),h(56,fd,1,0,"i",22),h(57,gd,5,3,"mat-error"),r(),a(58,"div",18)(59,"label",30),c(60),r(),a(61,"input",31,6),f(63,"translate"),y("ngModelChange",function(u){return d(s),k(t.dataModel.width,u)||(t.dataModel.width=u),m(u)}),r(),h(64,_d,1,0,"i",21),h(65,Md,1,0,"i",22),h(66,Sd,5,3,"mat-error"),r(),a(67,"div",18)(68,"label",32),c(69),r(),a(70,"input",33,7),f(72,"translate"),y("ngModelChange",function(u){return d(s),k(t.dataModel.height,u)||(t.dataModel.height=u),m(u)}),r(),h(73,Cd,1,0,"i",21),h(74,hd,1,0,"i",22),h(75,bd,5,3,"mat-error"),r(),a(76,"div",18)(77,"label",34),c(78),r(),a(79,"textarea",35,8),y("ngModelChange",function(u){return d(s),k(t.dataModel.patternScript,u)||(t.dataModel.patternScript=u),m(u)}),c(81,"                  "),r(),a(82,"em"),c(83),r(),h(84,vd,5,3,"mat-error"),r(),a(85,"div",36)(86,"a",37),f(87,"cmsthumbnail"),h(88,Id,2,4,"img",38),r()(),h(89,wd,8,16,"div",18),a(90,"div",36),h(91,Td,2,4,"img",38),r(),h(92,Ed,8,16,"div",18),h(93,kd,9,7,"div",39),r()()()}if(i&2){let s=D(16),M=D(24),u=D(33),x=D(44),q=D(53),K=D(62),ve=D(71),Re=D(80);o(),_("optionsInfoAreaId",t.constructorInfoAreaId),o(3),C(" ",t.formInfo.formTitle," "),o(2),C(" ",g(7,60,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),_("formInfo",t.formInfo),o(3),b(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?11:-1),o(3),T(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),_("placeholder",R(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),E("ngModel",t.dataModel.title),o(2),b(s.value?-1:17),o(),b(s.value?18:-1),o(2),C("",s.value.length," / 100"),o(),b(s.errors!=null&&s.errors.required?21:-1),o(2),E("ngModel",t.dataModel.settingType),o(2),pe(t.dataModelEnumManagementContentSettingTypeResult.listItems),o(3),T(g(29,62,"TITLE.Select_type_of_content")),o(2),b(M.errors!=null&&M.errors.required?30:-1),o(2),E("ngModel",t.dataModel.sharingLinkType),o(2),pe(t.dataModelEnumSharingPriceTypeResult.listItems),o(3),T(g(38,64,"TITLE.Select_type_of_content")),o(2),b(u.errors!=null&&u.errors.required?39:-1),o(3),T(t.fieldsInfo.clickPrice==null?null:t.fieldsInfo.clickPrice.fieldTitle),o(),_("placeholder",R(g(45,66,"TITLE.Amount_Per_Click"))),E("ngModel",t.dataModel.clickPrice),o(3),b(x.value?-1:46),o(),b(x.value?47:-1),o(),b(x.errors!=null&&x.errors.required?48:-1),o(3),T(t.fieldsInfo.viewPrice==null?null:t.fieldsInfo.viewPrice.fieldTitle),o(),_("placeholder",R(g(54,68,"TITLE.Amount_Per_Show"))),E("ngModel",t.dataModel.viewPrice),o(3),b(q.value?-1:55),o(),b(q.value?56:-1),o(),b(q.errors!=null&&q.errors.required?57:-1),o(3),T(t.fieldsInfo.width==null?null:t.fieldsInfo.width.fieldTitle),o(),_("placeholder",R(g(63,70,"TITLE.Width"))),E("ngModel",t.dataModel.width),o(3),b(K.value?-1:64),o(),b(K.value?65:-1),o(),b(K.errors!=null&&K.errors.required?66:-1),o(3),T(t.fieldsInfo.height==null?null:t.fieldsInfo.height.fieldTitle),o(),_("placeholder",R(g(72,72,"TITLE.length"))),E("ngModel",t.dataModel.height),o(3),b(ve.value?-1:73),o(),b(ve.value?74:-1),o(),b(ve.errors!=null&&ve.errors.required?75:-1),o(3),T(t.fieldsInfo.patternScript==null?null:t.fieldsInfo.patternScript.fieldTitle),o(),_("placeholder",R(t.fieldsInfo.patternScript==null?null:t.fieldsInfo.patternScript.fieldTitle)),E("ngModel",t.dataModel.patternScript),o(4),C("",Re.value.length," / 500"),o(),b(Re.errors!=null&&Re.errors.required?84:-1),o(2),_("href",R(g(87,74,t.dataModel.linkMainImageIdSrc)),Z),o(2),b((t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0?88:-1),o(),b(t.fieldsInfo.linkMainImageId!=null&&t.fieldsInfo.linkMainImageId.accessWatchField?89:-1),o(2),b((t.dataModel==null||t.dataModel.linkBackgroundIdSrc==null?null:t.dataModel.linkBackgroundIdSrc.length)>0?91:-1),o(),b(t.fieldsInfo.linkMainImageId!=null&&t.fieldsInfo.linkMainImageId.accessWatchField?92:-1),o(),b(t.formInfo.submitButtonEnabled?93:-1)}},dependencies:[ke,li,si,J,Ke,ri,X,Te,Y,Ce,he,oe,Ee,ye,N,Ae,Q,Le,Je,mt,P,be],encapsulation:2});var to=eo;var yd=()=>[5,10,20,100];function Ld(n,l){if(n&1){let e=w();a(0,"div",15)(1,"a",38),v("click",function(){d(e);let t=p();return m(t.onActionButtonNewRow())}),S(2,"i",39)(3,"br"),r(),a(4,"p",40),c(5),f(6,"translate"),r()()}n&2&&(o(5),C(" ",g(6,1,"ACTION.ADD")," "))}function Ad(n,l){if(n&1){let e=w();a(0,"div",15)(1,"a",41),v("click",function(t){d(e);let s=p();return m(s.onActionButtonRowBillboard(s.tableRowSelected,t))}),S(2,"i",42)(3,"br"),r(),a(4,"p",40),c(5),f(6,"translate"),r()()}n&2&&(o(5),C(" ",g(6,1,"ACTION.BILLBOARD")," "))}function Rd(n,l){if(n&1){let e=w();a(0,"div",15)(1,"a",41),v("click",function(t){d(e);let s=p();return m(s.onActionButtonRowTarget(s.tableRowSelected,t))}),S(2,"i",43)(3,"br"),r(),a(4,"p",40),c(5),f(6,"translate"),r()()}n&2&&(o(5),C(" ",g(6,1,"ACTION.ADS")," "))}function xd(n,l){if(n&1){let e=w();a(0,"div",15)(1,"a",44),v("click",function(){d(e);let t=p();return m(t.onActionButtonEditRow(t.tableRowSelected))}),S(2,"i",45)(3,"br"),r(),a(4,"p",40),c(5),f(6,"translate"),r()()}n&2&&(o(5),C(" ",g(6,1,"ACTION.EDIT")," "))}function Dd(n,l){if(n&1){let e=w();a(0,"div",15)(1,"a",46),v("click",function(){d(e);let t=p();return m(t.onActionButtonDeleteRow(t.tableRowSelected))}),S(2,"i",47)(3,"br"),r(),a(4,"p",40),c(5),f(6,"translate"),r()()}n&2&&(o(5),C(" ",g(6,1,"ACTION.DELETE")," "))}function Bd(n,l){n&1&&(a(0,"mat-header-cell",48),c(1),f(2,"translate"),r()),n&2&&(o(),C(" ",g(2,1,"TITLE.PICTURE")," "))}function Vd(n,l){if(n&1&&(S(0,"img",49),f(1,"cmsthumbnail")),n&2){let e=p().$implicit;_("src",R(g(1,2,e.linkMainImageIdSrc)),Z)}}function Pd(n,l){if(n&1&&(a(0,"mat-cell"),h(1,Vd,2,4,"img",49),r()),n&2){let e=l.$implicit;o(),b((e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0?1:-1)}}function Nd(n,l){if(n&1&&(a(0,"mat-header-cell",48),c(1),r()),n&2){let e=p();o(),C(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function Od(n,l){if(n&1&&(a(0,"mat-cell"),c(1),r()),n&2){let e=l.$implicit;o(),C(" ",e.id," ")}}function Fd(n,l){if(n&1&&(a(0,"mat-header-cell",48),c(1),r()),n&2){let e=p();o(),C(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function Gd(n,l){if(n&1&&(a(0,"mat-cell"),c(1),f(2,"cmssiteinfo"),f(3,"async"),r()),n&2){let e=l.$implicit;o(),C(" ",g(3,3,g(2,1,e.linkSiteId))," ")}}function Wd(n,l){if(n&1&&(a(0,"mat-header-cell",48),c(1),r()),n&2){let e=p();o(),C(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function Hd(n,l){if(n&1&&(a(0,"mat-cell"),S(1,"i",50),f(2,"statusIconClass"),r()),n&2){let e=l.$implicit;o(),_("ngClass",g(2,1,e.recordStatus))}}function qd(n,l){if(n&1&&(a(0,"mat-header-cell",48),c(1),r()),n&2){let e=p();o(),C(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," ")}}function jd(n,l){if(n&1&&(a(0,"mat-cell"),c(1),r()),n&2){let e=l.$implicit;o(),C(" ",e.title," ")}}function Ud(n,l){if(n&1&&(a(0,"mat-header-cell",48),c(1),r()),n&2){let e=p();o(),C(" ",e.fieldsInfo.settingType==null?null:e.fieldsInfo.settingType.fieldTitle," ")}}function Qd(n,l){if(n&1&&(a(0,"mat-cell"),c(1),f(2,"enums"),r()),n&2){let e=l.$implicit,i=p();o(),C(" ",Ta(2,1,e.settingType,i.dataModelManagementContentSettingTypeEnumResult.listItems)," ")}}function zd(n,l){if(n&1&&(a(0,"mat-header-cell",48),c(1),r()),n&2){let e=p();o(),C(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function Kd(n,l){if(n&1&&(a(0,"mat-cell"),c(1),f(2,"localeDate"),r()),n&2){let e=l.$implicit;o(),C(" ",g(2,1,e.createdDate)," ")}}function Jd(n,l){if(n&1&&(a(0,"mat-header-cell",48),c(1),r()),n&2){let e=p();o(),C(" ",e.fieldsInfo.updatedDate==null?null:e.fieldsInfo.updatedDate.fieldTitle," ")}}function Xd(n,l){if(n&1&&(a(0,"mat-cell"),c(1),f(2,"localeDate"),r()),n&2){let e=l.$implicit;o(),C(" ",g(2,1,e.updatedDate)," ")}}function Yd(n,l){n&1&&(a(0,"mat-header-cell"),c(1),f(2,"translate"),r()),n&2&&(o(),C(" ",g(2,1,"TITLE.OPTION")," "))}function Zd(n,l){if(n&1&&(a(0,"mat-cell",51)(1,"button",52)(2,"mat-icon"),c(3,"more_vert"),r()(),S(4,"mat-menu",null,2),r()),n&2){let e=D(5);o(),_("matMenuTriggerFor",e)}}function $d(n,l){n&1&&S(0,"mat-header-row")}function em(n,l){if(n&1){let e=w();a(0,"mat-row",53),v("click",function(t){let s=d(e).$implicit,M=p();return m(M.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=d(e).$implicit,M=p();return m(M.onActionTableRowSelect(s,t))}),r()}if(n&2){let e=l.$implicit,i=p();H("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var io=class io extends Nt{constructor(e,i,t,s,M,u,x,q,K,ve,Re){super(e,new dt,ve,M,u);this.contentService=e;this.cmsToastrService=i;this.linkManagementEnumService=t;this.router=s;this.tokenHelper=M;this.translate=u;this.cmsStoreService=x;this.cdr=q;this.pageInfo=K;this.publicHelper=ve;this.dialog=Re;this.constructorInfoAreaId=this.constructor.name;this.filteModelContent=new Ie;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["linkMainImageIdSrc","id","recordStatus","settingType","createdDate","updatedDate"];this.tabledisplayedColumnsMobileSource=["linkMainImageIdSrc","id","recordStatus","settingType","createdDate","updatedDate"];this.dataModelManagementContentSettingTypeEnumResult=new j;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:xe=>this.onSubmitOptionsSearch(xe)},this.filteModelContent.sortColumn="id",this.filteModelContent.sortType=ge.Descending,this.getManagementContentSettingTypeEnum()}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>De(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}getManagementContentSettingTypeEnum(){this.linkManagementEnumService.ServiceManagementContentSettingTypeEnum().subscribe({next:e=>{this.dataModelManagementContentSettingTypeEnumResult=e}})}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new dt);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.contentService.setAccessLoad(),this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),t.isSuccess?(this.applyDataGetAllResult(t),this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=ge.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=ge.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=ge.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}let e=new ci;e.disableClose=!0,e.autoFocus=!0,e.height="90%",e.data={},this.dialog.open(Yn,e).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(!(e?.id>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(to,{height:"90%",panelClass:i,enterAnimationDuration:le.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:le.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!(e?.id>0)){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(s=>{this.cmsToastrService.typeErrorSelected(s)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open($n,{height:"90%",panelClass:i,enterAnimationDuration:le.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:le.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate&&this.DataGetAll()})}onActionButtonRowTarget(e=this.tableRowSelected,i){if(!(e?.id>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),i?.ctrlKey){var t="/#/linkmanagement/target/list/LinkBillboardPatternId/"+e.id;window.open(t,"_blank")}else this.router.navigate(["/linkmanagement/target/list/LinkBillboardPatternId/",e.id])}onActionButtonRowBillboard(e=this.tableRowSelected,i){if(!(e?.id>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),i?.ctrlKey){var t="/#/linkmanagement/billboard/list/LinkBillboardPatternId/"+e.id;window.open(t,"_blank")}else this.router.navigate(["/linkmanagement/billboard/list/LinkBillboardPatternId/",e.id])}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(u=>{i.set(u,0)}),this.translate.get("MESSAGE.All").subscribe(u=>{i.set(u,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(u=>{this.publicHelper.processService.processStart(t,u,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:u=>{u.isSuccess?(this.translate.get("MESSAGE.All").subscribe(x=>{i.set(x,u.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(u.errorMessage),this.publicHelper.processService.processStop(t)},error:u=>{this.cmsToastrService.typeError(u),this.publicHelper.processService.processStop(t,!1)}});let s=JSON.parse(JSON.stringify(this.filteModelContent)),M=new z;M.propertyName="recordStatus",M.value=gt.Available,s.filters.push(M),this.contentService.ServiceGetCount(s).subscribe({next:u=>{u.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(x=>{i.set(x,u.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(u.errorMessage),this.publicHelper.processService.processStop(t)},error:u=>{this.cmsToastrService.typeError(u),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}};io.\u0275fac=function(i){return new(i||io)(I(St),I(G),I(ot),I(Ze),I(tt),I(F),I(et),I(O),I(Bt),I(W),I(nt))},io.\u0275cmp=V({type:io,selectors:[["app-linkmanagement-billboard-pattern-list"]],standalone:!1,features:[U],decls:63,vars:32,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","linkMainImageIdSrc"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","id"],["matColumnDef","linkSiteId"],["matColumnDef","recordStatus"],["matColumnDef","title"],["matColumnDef","settingType"],["matColumnDef","createdDate"],["matColumnDef","updatedDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-billboard","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-bullseye-pointer","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"ngClass"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(i,t){if(i&1){let s=w();a(0,"app-cms-html-list",3),y("optionActionGuideNoticeDisplayChange",function(u){return d(s),k(t.viewGuideNotice,u)||(t.viewGuideNotice=u),m(u)}),v("optionOnActionButtonMemoRow",function(){return d(s),m(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return d(s),m(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return d(s),m(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return d(s),m(t.onActionButtonPrintRow())}),de(1,4)(2,5)(3,6),L(4,7),a(5,"a",8),v("click",function(){return d(s),m(t.viewGuideNotice=!t.viewGuideNotice)}),S(6,"i",9),r(),a(7,"a",8),v("click",function(){return d(s),m(t.onActionButtonReload())}),S(8,"i",10),r(),A(),L(9,11),a(10,"a",12),v("click",function(){return d(s),m(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),S(11,"mat-slide-toggle",13),c(12),f(13,"translate"),r(),a(14,"a",12),v("click",function(){return d(s),m(t.onActionButtonStatist())}),S(15,"mat-slide-toggle",13),c(16),f(17,"translate"),r(),A(),L(18,14),h(19,Ld,7,3,"div",15),A(),L(20,16),h(21,Ad,7,3,"div",15),h(22,Rd,7,3,"div",15),h(23,xd,7,3,"div",15),h(24,Dd,7,3,"div",15),A(),L(25,17),a(26,"app-cms-search-list",18),y("optionsChange",function(u){return d(s),k(t.optionsSearch,u)||(t.optionsSearch=u),m(u)}),r(),a(27,"app-cms-statist-list",18),y("optionsChange",function(u){return d(s),k(t.optionsStatist,u)||(t.optionsStatist=u),m(u)}),r(),A(),L(28,19),a(29,"mat-table",20,0),v("matSortChange",function(){d(s);let u=D(30);return m(t.onTableSortData(u))}),L(31,21),B(32,Bd,3,3,"mat-header-cell",22)(33,Pd,2,1,"mat-cell",23),A(),L(34,24),B(35,Nd,2,1,"mat-header-cell",22)(36,Od,2,1,"mat-cell",23),A(),L(37,25),B(38,Fd,2,1,"mat-header-cell",22)(39,Gd,4,5,"mat-cell",23),A(),L(40,26),B(41,Wd,2,1,"mat-header-cell",22)(42,Hd,3,3,"mat-cell",23),A(),L(43,27),B(44,qd,2,1,"mat-header-cell",22)(45,jd,2,1,"mat-cell",23),A(),L(46,28),B(47,Ud,2,1,"mat-header-cell",22)(48,Qd,3,4,"mat-cell",23),A(),L(49,29),B(50,zd,2,1,"mat-header-cell",22)(51,Kd,3,3,"mat-cell",23),A(),L(52,30),B(53,Jd,2,1,"mat-header-cell",22)(54,Xd,3,3,"mat-cell",23),A(),L(55,31),B(56,Yd,3,3,"mat-header-cell",32)(57,Zd,6,1,"mat-cell",33),A(),B(58,$d,1,0,"mat-header-row",34)(59,em,1,2,"mat-row",35),r(),A(),L(60,36),a(61,"mat-paginator",37,1),v("page",function(u){return d(s),m(t.onTablePageingData(u))}),r(),A(),r()}i&2&&(_("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),E("optionActionGuideNoticeDisplay",t.viewGuideNotice),_("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",(t.tableRowSelected==null||t.tableRowSelected.title==null?null:t.tableRowSelected.title.length)>0?t.tableRowSelected==null?null:t.tableRowSelected.title:t.tableRowSelected==null?null:t.tableRowSelected.id),o(8),H("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(3),_("checked",t.optionsSearch.data.show),o(),C("",g(13,27,"ACTION.SEARCH")," "),o(3),_("checked",t.optionsStatist.data.show),o(),C("",g(17,29,"ACTION.STATIST")," "),o(3),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessAddRow?19:-1),o(2),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?21:-1),o(),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?22:-1),o(),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?23:-1),o(),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?24:-1),o(2),E("options",t.optionsSearch),o(),E("options",t.optionsStatist),o(2),_("dataSource",t.tableSource),o(29),_("matHeaderRowDef",t.tabledisplayedColumns),o(),_("matRowDefColumns",t.tabledisplayedColumns),o(2),_("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",se(31,yd)))},dependencies:[Pe,it,Ne,ht,bt,Oe,Fe,vt,It,wt,Et,At,kt,Tt,Rt,yt,Lt,xt,Dt,Ge,We,Ot,He,Ye,P,ja,Ft,be,Gt,qe],encapsulation:2});var no=io;var tm=()=>[5,10,20,100],im=(n,l)=>l.id;function nm(n,l){if(n&1){let e=w();a(0,"div",16)(1,"a",25),v("click",function(){d(e);let t=p();return m(t.onActionButtonNewRow())}),S(2,"i",26)(3,"br"),r(),a(4,"p",27),c(5),f(6,"translate"),r()()}n&2&&(o(5),T(g(6,1,"ACTION.ADD")))}function om(n,l){if(n&1){let e=w();a(0,"div",16)(1,"a",28),v("click",function(){d(e);let t=p();return m(t.onActionButtonEditRow(t.tableRowSelected))}),S(2,"i",29)(3,"br"),r(),a(4,"p",27),c(5),f(6,"translate"),r()()}n&2&&(o(5),T(g(6,1,"ACTION.EDIT")))}function am(n,l){if(n&1){let e=w();a(0,"div",16)(1,"a",30),v("click",function(){d(e);let t=p();return m(t.onActionButtonDeleteRow(t.tableRowSelected))}),S(2,"i",31)(3,"br"),r(),a(4,"p",27),c(5),f(6,"translate"),r()()}n&2&&(o(5),T(g(6,1,"ACTION.DELETE")))}function rm(n,l){if(n&1){let e=w();a(0,"div",16)(1,"a",32),v("click",function(){d(e);let t=p();return m(t.onActionButtonViewRow(t.tableRowSelected))}),S(2,"i",33)(3,"br"),r(),a(4,"p",27),c(5),f(6,"translate"),r()()}n&2&&(o(5),T(g(6,1,"ACTION.VIEW")))}function lm(n,l){if(n&1&&S(0,"select",43),n&2){let e=p(2).$implicit,i=p(2);_("contentService",i.contentService)("row",e)}}function sm(n,l){if(n&1&&(a(0,"div",40),S(1,"i",42),f(2,"statusIconClass"),h(3,lm,1,2,"select",43),r()),n&2){let e=p().$implicit,i=p(2);o(),_("ngClass",g(2,2,e.recordStatus)),o(2),b(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessEditRow&&e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?3:-1)}}function cm(n,l){if(n&1){let e=w();a(0,"div",41)(1,"div",40)(2,"span",44),v("click",function(t){return d(e),p(3).onActionCopied(),m(t.stopPropagation())}),S(3,"i",45),r(),c(4),r()()}if(n&2){let e=p().$implicit;o(2),_("cdkCopyToClipboard",e.id.toString()),o(2),C(" ID: ",e.id," ")}}function dm(n,l){if(n&1){let e=w();a(0,"div",35),v("click",function(t){let s=d(e).$implicit,M=p(2);return m(M.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=d(e).$implicit,M=p(2);return m(M.onActionTableRowSelect(s,t))})("mouseenter",function(){let t=d(e).$implicit,s=p(2);return m(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=d(e).$implicit,s=p(2);return m(s.onActionTableRowMouseLeave(t))}),a(1,"div",36),S(2,"i",37),f(3,"statusIconClass"),r(),a(4,"div",38)(5,"div",39),c(6),r(),h(7,sm,4,4,"div",40),h(8,cm,5,2,"div",41),r()()}if(n&2){let e=l.$implicit,i=p(2);H("selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)),Be("aria-label",e.title||e.id),o(2),_("ngClass",g(3,7,e.recordStatus)),o(4),T(e.title||"ID: "+e.id),o(),b(e.recordStatus!==void 0?7:-1),o(),b(i.getRowExpanded(e)?8:-1)}}function mm(n,l){if(n&1&&(a(0,"div",21),me(1,dm,9,9,"div",34,im),r()),n&2){let e=p();o(),pe(e.dataModelResult.listItems)}}function pm(n,l){n&1&&(a(0,"div",22),c(1),f(2,"translate"),r()),n&2&&(o(),T(g(2,1,"MESSAGE.NoRecord")))}var sn=class sn extends no{};sn.\u0275fac=(()=>{let l;return function(i){return(l||(l=_t(sn)))(i||sn)}})(),sn.\u0275cmp=V({type:sn,selectors:[["app-linkmanagement-billboard-pattern-list-mobile"]],standalone:!1,features:[U],decls:37,vars:31,consts:[["paginator",""],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionOnScrollNearBottom","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplay","optionActionRowDisplayMenu","optionActionRowDisplayMenuAct","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-maximize","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-minimize","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],[1,"cms-m-list"],[1,"cms-m-empty"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],["role","button","tabindex","0",1,"cms-m-list-item",3,"selected"],["role","button","tabindex","0",1,"cms-m-list-item",3,"click","rtclick","mouseenter","mouseleave"],[1,"cms-m-list-item-image-placeholder"],["aria-hidden","true",3,"ngClass"],[1,"cms-m-list-item-content"],[1,"cms-m-list-item-title"],[1,"cms-m-list-item-subtitle"],[1,"cms-m-list-item-expanded"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none","margin-left","8px",3,"contentService","row"],[1,"navi-icon","pointer",3,"click","cdkCopyToClipboard"],[1,"flaticon2-copy"]],template:function(e,i){if(e&1){let t=w();a(0,"app-cms-html-list-mobile",1),y("optionActionGuideNoticeDisplayChange",function(M){return d(t),k(i.viewGuideNotice,M)||(i.viewGuideNotice=M),m(M)}),v("optionOnActionButtonMemoRow",function(){return d(t),m(i.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return d(t),m(i.onActionButtonMemo())})("optionOnActionButtonExport",function(){return d(t),m(i.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return d(t),m(i.onActionButtonPrintRow())})("optionOnScrollNearBottom",function(){return d(t),m(i.onActionLoadNextPage())}),de(1,2)(2,3)(3,4),L(4,5),a(5,"a",6),v("click",function(){return d(t),m(i.viewGuideNotice=!i.viewGuideNotice)}),S(6,"i",7),r(),a(7,"a",6),v("click",function(){return d(t),m(i.onActionButtonReload())}),S(8,"i",8),r(),a(9,"a",9),v("click",function(){return d(t),m(i.onActionGridExpandRows(!0))}),S(10,"i",10),r(),a(11,"a",9),v("click",function(){return d(t),m(i.onActionGridExpandRows(!1))}),S(12,"i",11),r(),A(),L(13,12),a(14,"a",13),v("click",function(){return d(t),m(i.optionsSearch.data.show=!i.optionsSearch.data.show)}),S(15,"mat-slide-toggle",14),c(16),f(17,"translate"),r(),a(18,"a",13),v("click",function(){return d(t),m(i.onActionButtonStatist())}),S(19,"mat-slide-toggle",14),c(20),f(21,"translate"),r(),A(),L(22,15),h(23,nm,7,3,"div",16),A(),L(24,17),h(25,om,7,3,"div",16),h(26,am,7,3,"div",16),h(27,rm,7,3,"div",16),A(),L(28,18),a(29,"app-cms-search-list",19),y("optionsChange",function(M){return d(t),k(i.optionsSearch,M)||(i.optionsSearch=M),m(M)}),r(),a(30,"app-cms-statist-list",19),y("optionsChange",function(M){return d(t),k(i.optionsStatist,M)||(i.optionsStatist=M),m(M)}),r(),A(),L(31,20),h(32,mm,3,0,"div",21)(33,pm,3,3,"div",22),A(),L(34,23),a(35,"mat-paginator",24,0),v("page",function(){return d(t),m(i.onTablePageingData())}),r(),A(),r()}e&2&&(_("optionsListInfoAreaId",i.constructorInfoAreaId)("optionGuideNoticeKey","link-management.billboard-pattern.list"),E("optionActionGuideNoticeDisplay",i.viewGuideNotice),_("optionTreeDisplay",!1)("optionActionRowId",i.tableRowSelected==null?null:i.tableRowSelected.id)("optionActionRowDisplay",(i.tableRowSelected==null||i.tableRowSelected.id==null?null:i.tableRowSelected.id.length)>0)("optionActionRowDisplayMenu",i.tableRowSelect2Click)("optionActionRowDisplayMenuAct",i.tableRowSelectActionMenuClick)("optionSelectRowItemTitle",(i.tableRowSelected==null?null:i.tableRowSelected.title)||(i.tableRowSelected==null?null:i.tableRowSelected.id)),o(8),H("rotation360",i.publicHelper.processService.process.inRunArea[i.constructorInfoAreaId]),o(7),_("checked",i.optionsSearch.data.show),o(),C(" ",g(17,26,"ACTION.SEARCH")),o(3),_("checked",i.optionsStatist.data.show),o(),C(" ",g(21,28,"ACTION.STATIST")),o(3),b(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessAddRow?23:-1),o(2),b(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessEditRow&&(i.tableRowSelected==null||i.tableRowSelected.id==null?null:i.tableRowSelected.id.length)>0?25:-1),o(),b(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessDeleteRow&&(i.tableRowSelected==null||i.tableRowSelected.id==null?null:i.tableRowSelected.id.length)>0?26:-1),o(),b(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessWatchRow&&(i.tableRowSelected==null||i.tableRowSelected.id==null?null:i.tableRowSelected.id.length)>0?27:-1),o(2),E("options",i.optionsSearch),o(),E("options",i.optionsStatist),o(2),b(!(i.dataModelResult==null||i.dataModelResult.listItems==null)&&i.dataModelResult.listItems.length?32:33),o(3),_("length",i.dataModelResult.totalRowCount)("pageIndex",i.dataModelResult.currentPageNumber-1)("pageSize",i.dataModelResult.rowPerPage)("pageSizeOptions",se(30,tm)))},dependencies:[Pe,N,Oe,Fe,$e,Ge,We,Wt,He,Qe,P,qe],encapsulation:2});var na=sn;function um(n,l){if(n&1){let e=w();a(0,"mat-tree-node",9),S(1,"button",10),a(2,"mat-checkbox",11),v("change",function(){let t=d(e).$implicit,s=p();return m(s.todoItemSelectionToggle(t))}),c(3),r()()}if(n&2){let e=l.$implicit,i=p();o(2),_("checked",i.checklistSelection.isSelected(e))("indeterminate",i.descendantsPartiallySelected(e)),o(),T(e.title)}}function fm(n,l){if(n&1){let e=w();a(0,"mat-tree-node",12)(1,"button",13)(2,"mat-icon",14),c(3),r()(),a(4,"mat-checkbox",15),v("change",function(){let t=d(e).$implicit,s=p();return m(s.checklistSelection.toggle(t))}),c(5),r()()}if(n&2){let e=l.$implicit,i=p(),t=D(6);_("cdkTreeNodeTypeaheadLabel",e.title)("isExpanded",e.isExpanded??!1),o(),Be("type","button")("aria-label","Toggle "+e.title),o(2),C(" ",t.isExpanded(e)?"expand_more":"chevron_right"," "),o(),_("checked",i.checklistSelection.isSelected(e)),o(),T(e.title)}}var oo=class oo{constructor(l,e,i,t,s,M,u,x,q){this.cmsToastrService=l;this.coreEnumService=e;this.categoryService=i;this.cdr=t;this.publicHelper=s;this.tokenHelper=M;this.cmsStoreService=u;this.translate=x;this.dialog=q;this.constructorInfoAreaId=this.constructor.name;this.dataModelSelect=[];this.dataModelResult=new j;this.filterModel=new Ie;this.dataSource=new yn;this.runComplate=!1;this.optionSelectChecked=new lt;this.optionSelectDisChecked=new lt;this.optionModelChange=new lt;this.unsubscribe=[];this.checklistSelection=new Da(!0);this.hasChild=(l,e)=>!!e.children&&e.children.length>0;this.childrenAccessor=l=>l.children??[];this.hasNoContent=(l,e)=>e.children;this.treeControl=new Oa(l=>l.children);this.publicHelper.processService.cdr=this.cdr,this.checklistSelection.changed.subscribe(K=>{if(!this.runComplate)return;let ve=[];this.checklistSelection.selected.forEach(Re=>{ve.push(Re.id)}),this.optionModelChange.emit(ve),K.added&&K.added.length>0&&K.added.forEach(Re=>{this.optionSelectChecked.emit(Re.id)}),K.removed&&K.removed.length>0&&K.removed.forEach(Re=>{this.optionSelectDisChecked.emit(Re.id)})})}set optionModel(l){this.dataModelSelect=l,this.loadCheked()}ngOnInit(){this.unsubscribe.push(this.cmsStoreService.getState(l=>l.tokenInfoStore).subscribe(l=>De(this,null,function*(){this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(l=>l.unsubscribe())}loadCheked(){this.runComplate=!1,this.CompileDataByCheked(this.dataModelResult.listItems,this.dataModelSelect),this.runComplate=!0}CompileDataByCheked(l,e){if(!(l?.length>0))return!1;let i=!1;for(let t of l){let s=!1;e?.includes(t.id)?(this.checklistSelection.select(t),i=!0):this.checklistSelection.deselect(t),t.children?.length>0&&(s=this.CompileDataByCheked(t.children,e),s&&(i=!0,t.isExpanded=!0))}return i}DataGetAll(){this.filterModel.rowPerPage=200,this.filterModel.accessLoad=!0;let l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(l,e,this.constructorInfoAreaId)}),this.categoryService.ServiceGetAll(this.filterModel).subscribe({next:e=>{e.isSuccess?(this.dataModelResult=e,this.dataSource.data=this.dataModelResult.listItems,this.loadCheked()):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(l)},error:e=>{this.publicHelper.processService.processStop(l),this.cmsToastrService.typeError(e)}})}descendantsAllSelected(l){return this.treeControl.getDescendants(l).every(i=>this.checklistSelection.isSelected(i))}descendantsPartiallySelected(l){return this.treeControl.getDescendants(l).some(t=>this.checklistSelection.isSelected(t))&&!this.descendantsAllSelected(l)}todoItemSelectionToggle(l){this.checklistSelection.toggle(l);let e=this.treeControl.getDescendants(l);this.checklistSelection.isSelected(l)?this.checklistSelection.select(...e):this.checklistSelection.deselect(...e)}};oo.\u0275fac=function(e){return new(e||oo)(I(G),I(ne),I(Ct),I(O),I(W),I(tt),I(et),I(F),I(nt))},oo.\u0275cmp=V({type:oo,selectors:[["app-linkmanagement-category-treeselector"]],inputs:{optionModel:"optionModel"},outputs:{optionSelectChecked:"optionSelectChecked",optionSelectDisChecked:"optionSelectDisChecked",optionModelChange:"optionModelChange"},standalone:!1,decls:10,vars:10,consts:[["treeTagControl",""],[3,"optionListTitle","optionHeaderDisplay","optionActionMainDisplay","optionFooterDisplay"],["cms-tree-action",""],["cms-tree-body","",1,"loader-container"],[3,"optionsInfoAreaId"],[3,"dataSource","childrenAccessor"],["matTreeNodePadding","",4,"matTreeNodeDef"],["matTreeNodePadding","","matTreeNodeToggle","","isExpandable","",3,"cdkTreeNodeTypeaheadLabel","isExpanded",4,"matTreeNodeDef","matTreeNodeDefWhen"],["cms-tree-footer",""],["matTreeNodePadding",""],["matIconButton","","disabled",""],[3,"change","checked","indeterminate"],["matTreeNodePadding","","matTreeNodeToggle","","isExpandable","",3,"cdkTreeNodeTypeaheadLabel","isExpanded"],["matIconButton","","matTreeNodeToggle",""],[1,"mat-icon-rtl-mirror"],[1,"checklist-leaf-node",3,"change","checked"]],template:function(e,i){e&1&&(a(0,"app-cms-html-tree",1),f(1,"translate"),de(2,2),L(3,3),S(4,"app-progress-spinner",4),a(5,"mat-tree",5,0),B(7,um,4,3,"mat-tree-node",6)(8,fm,6,7,"mat-tree-node",7),r(),A(),de(9,8),r()),e&2&&(_("optionListTitle",g(1,8,"TABLE."+(i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.moduleEntityName)))("optionHeaderDisplay",!0)("optionActionMainDisplay",!0)("optionFooterDisplay",!1),o(4),_("optionsInfoAreaId",i.constructorInfoAreaId),o(),_("dataSource",i.dataSource)("childrenAccessor",i.childrenAccessor),o(3),_("matTreeNodeDefWhen",i.hasChild))},dependencies:[it,Ba,Ne,wn,Tn,kn,En,In,Q,Ln,P],encapsulation:2});var bi=oo;var _m=["vform"];function Mm(n,l){if(n&1){let e=w();a(0,"app-cms-enum-record-status-selector",38),y("modelChange",function(t){d(e);let s=p();return k(s.dataModel.recordStatus,t)||(s.dataModel.recordStatus=t),m(t)}),r()}if(n&2){let e=p();E("model",e.dataModel.recordStatus),_("optionDisabled",!((e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.accessAddField)??!1))("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Sm(n,l){n&1&&S(0,"i",19)}function Cm(n,l){n&1&&S(0,"i",20)}function hm(n,l){if(n&1&&(a(0,"mat-error"),c(1),a(2,"strong"),c(3),f(4,"translate"),r()()),n&2){let e=p();o(),C(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," is "),o(2),T(g(4,2,"MESSAGE.required"))}}function bm(n,l){if(n&1){let e=w();a(0,"div",22)(1,"label",39),c(2),r(),a(3,"input",40,4),y("ngModelChange",function(t){d(e);let s=p();return k(s.dataModel.bgColor,t)||(s.dataModel.bgColor=t),m(t)}),r(),S(5,"ngx-mat-color-toggle",25)(6,"ngx-mat-color-picker",41,5),r()}if(n&2){let e=D(7),i=p();o(2),T(i.fieldsInfo.bgColor==null?null:i.fieldsInfo.bgColor.fieldTitle),o(),Oo("background",i.dataModel.bgColor),_("placeholder",R(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle)),E("ngModel",i.dataModel.bgColor),_("ngxMatColorPicker",e)("disabled",!(i.fieldsInfo.bgColor!=null&&i.fieldsInfo.bgColor.accessAddField)),o(2),_("for",e),o(),_("touchUi",!0)("color","primary")}}function vm(n,l){if(n&1){let e=w();a(0,"div",27)(1,"button",42),v("click",function(){d(e);let t=p();return m(t.onActionBackToParent())}),c(2),f(3,"translate"),r(),a(4,"button",43),c(5),f(6,"translate"),r()()}if(n&2){p();let e=D(10);o(2),C(" ",g(3,3,"ACTION.BACK")," "),o(2),_("disabled",!e.form.valid),o(),C(" ",g(6,5,"ACTION.NEXT")," ")}}function Im(n,l){if(n&1&&(a(0,"div",27)(1,"button",44),c(2),f(3,"translate"),r(),a(4,"button",43),c(5),f(6,"translate"),r()()),n&2){p();let e=D(10);o(2),C(" ",g(3,3,"ACTION.BEFOR")," "),o(2),_("disabled",!e.form.valid),o(),C(" ",g(6,5,"ACTION.NEXT")," ")}}function wm(n,l){if(n&1&&(S(0,"img",33),f(1,"cmsthumbnail")),n&2){let e=p();_("src",R(g(1,2,e.dataModel.linkMainImageIdSrc)),Z)}}function Tm(n,l){if(n&1){let e=w();a(0,"div",16)(1,"label",45),v("click",function(){d(e);let t=p();return m(t.fileManagerOpenForm=!0)}),c(2),f(3,"translate"),r(),a(4,"input",46,6),f(6,"translate"),y("ngModelChange",function(t){d(e);let s=p();return k(s.dataModel.linkMainImageId,t)||(s.dataModel.linkMainImageId=t),m(t)}),v("click",function(){d(e);let t=p();return m(t.fileManagerOpenForm=!0)}),r(),a(7,"cms-file-manager",47),v("itemSelected",function(t){d(e);let s=p();return m(s.onActionFileSelectedLinkMainImageId(t))}),y("openFormChange",function(t){d(e);let s=p();return k(s.fileManagerOpenForm,t)||(s.fileManagerOpenForm=t),m(t)}),r()()}if(n&2){let e=p();o(2),T(g(3,12,"TITLE.Original_Photo")),o(2),_("placeholder",R(g(6,14,"TITLE.Original_File_ID"))),E("ngModel",e.dataModel.linkMainImageId),o(3),_("language",e.appLanguage)("isPopup",!0),E("openForm",e.fileManagerOpenForm),_("tree",e.fileManagerTree)("openDirectUploadView",!0)("openFilemanagerButtonLabelKey","select")("selectFileType",e.selectFileTypeMainImage)("openFilemanagerButtonView",!1)}}function Em(n,l){if(n&1&&(a(0,"div",27)(1,"button",44),c(2),f(3,"translate"),r(),a(4,"button",48),S(5,"i",49),c(6),f(7,"translate"),r()()),n&2){p();let e=D(10);o(2),C(" ",g(3,3,"ACTION.BEFOR")," "),o(2),_("disabled",!e.form.valid),o(2),C(" ",g(7,5,"ACTION.SAVE")," ")}}function km(n,l){n&1&&(a(0,"mat-icon"),c(1,"call_end"),r())}function ym(n,l){n&1&&(a(0,"mat-icon"),c(1,"call_end"),r())}function Lm(n,l){n&1&&(a(0,"mat-icon"),c(1,"forum"),r())}function Am(n,l){n&1&&(a(0,"mat-icon"),c(1,"forum"),r())}var ao=class ao extends Pt{constructor(e,i,t,s,M,u,x,q,K){super(M,new Ii,s,K);this.activatedRoute=e;this.coreEnumService=i;this.contentCategoryService=t;this.publicHelper=s;this.linkManagementBillboardService=M;this.cmsToastrService=u;this.router=x;this.cdr=q;this.translate=K;this.requestLinkBillboardPatternId=0;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.dataModel=new Ii;this.dataModelResult=new j;this.optionActionTitle="";this.optionActionButtomEnable=!0;this.optionTabledisplayedColumns=["id","Option","OptionAnswer","IsCorrectAnswer","NumberOfVotes","ScoreOfVotes","Action"];this.dataContentCategoryModel=[];this.selectFileTypeMainImage=["jpg","jpeg","png"];this.selectFileTypePodcast=["mp3"];this.selectFileTypeMovie=["mp4","webm"];this.fileManagerOpenForm=!1;this.fileManagerOpenFormPodcast=!1;this.fileManagerOpenFormMovie=!1;this.appLanguage="fa";this.viewMap=!1;this.mapMarkerPoints=[];this.mapOptonCenter=new Yi;this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),this.translate.get("ACTION.Add_To_List").subscribe(ve=>{this.optionActionTitle=ve})}ngOnInit(){if(this.requestLinkBillboardPatternId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkBillboardPatternId")),this.requestLinkBillboardPatternId===0){this.cmsToastrService.typeErrorAddRowParentIsNull();return}this.dataModel.linkBillboardPatternId=this.requestLinkBillboardPatternId,this.DataGetAccess()}onActionFileSelectedLinkMainImageId(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}onFormSubmit(){if(this.requestLinkBillboardPatternId<=0){this.cmsToastrService.typeErrorAddRowParentIsNull();return}if(!this.formGroup.valid){this.cmsToastrService.typeErrorFormInvalid();return}this.DataEditContent()}DataGetOne(){this.formInfo.submitButtonEnabled=!1,this.translate.get("MESSAGE.get_information_from_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.linkManagementBillboardService.ServiceGetOneById(this.dataModelResult.item.id).subscribe({next:i=>{this.publicHelper.processService.processStop(e),this.dataModelResult=i,this.formInfo.submitButtonEnabled=!0,i.isSuccess?(this.dataModel=i.item,this.publicHelper.processService.processStop(e)):this.cmsToastrService.typeErrorGetOne(i.errorMessage)},error:i=>{this.publicHelper.processService.processStop(e),this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeErrorGetOne(i)}})}DataAddContent(){this.dataModel.bgColor=this.dataModel.bgColor?.toString(),this.formInfo.submitButtonEnabled=!1,this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.linkManagementBillboardService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.publicHelper.processService.processStop(e),this.dataModelResult=i,i.isSuccess?(this.cmsToastrService.typeSuccessAdd(),this.dataModel=i.item):this.cmsToastrService.typeErrorAdd(i.errorMessage),this.formInfo.submitResultMessage="",this.formInfo.submitButtonEnabled=!0},error:i=>{this.publicHelper.processService.processStop(e),this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeErrorAdd(i)}})}DataEditContent(){this.formInfo.submitButtonEnabled=!1,this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.linkManagementBillboardService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.publicHelper.processService.processStop(e),this.formInfo.submitButtonEnabled=!0,i.isSuccess?(this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.linkManagementBillboardService.ServiceGetOneById(this.dataModelResult.item.id).subscribe({next:t=>{this.publicHelper.processService.processStop(e),this.formInfo.submitButtonEnabled=!0,this.dataModelResult=t,t.isSuccess?this.dataModel=t.item:this.cmsToastrService.typeErrorEdit(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.publicHelper.processService.processStop(e),this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(t)}}),this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.cmsToastrService.typeSuccessEdit(),setTimeout(()=>this.router.navigate(["/linkmanagement/billboard"]),1e3)):this.cmsToastrService.typeErrorEdit(i.errorMessage),this.publicHelper.processService.processStop(e)},error:i=>{this.publicHelper.processService.processStop(e),this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i)}})}onActionSelectorSelectLinkManagementMemberId(e){if(!e||e.id<=0){this.translate.get("MESSAGE.Type_of_User_account_is_not_known").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkBillboardPatternId=e.id}onActionSelectorSelectLinkBillboardPatternId(e){if(!e||e.id<=0){this.translate.get("MESSAGE.Category_of_billboard_information_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkBillboardPatternId=e.id}onActionCategorySelectChecked(e){if(!e||e<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}if(this.dataModel.id>0){let i=new Sn;i.linkCategoryId=e,i.linkManagementBillboardId=this.dataModel.id,this.contentCategoryService.ServiceAdd(i).subscribe({next:t=>{t.isSuccess?(this.translate.get("MESSAGE.registration_in_this_group_was_successful").subscribe(s=>{this.formInfo.submitResultMessage=s,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success}),this.cmsToastrService.typeSuccessEdit()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(s=>{this.formInfo.submitResultMessage=s}),this.formInfo.submitResultMessage=t.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(t.errorMessage))},error:t=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(t)}})}}onActionCategorySelectDisChecked(e){if(!e||e<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}let i=new Sn;i.linkCategoryId=e,i.linkManagementBillboardId=this.dataModel.id,this.contentCategoryService.ServiceDeleteEntity(i).subscribe({next:t=>{t.isSuccess?(this.translate.get("MESSAGE.registration_in_this_group_was_successful").subscribe(s=>{this.formInfo.submitResultMessage=s,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success}),this.cmsToastrService.typeSuccessEdit()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(s=>{this.formInfo.submitResultMessage=s}),this.formInfo.submitResultMessage=t.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(t.errorMessage))},error:t=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(t)}})}onStepClick(e,i){e.previouslySelectedIndex<e.selectedIndex&&(this.formGroup.valid||(this.cmsToastrService.typeErrorFormInvalid(),setTimeout(()=>{i.selectedIndex=e.previouslySelectedIndex},10))),(!this.dataModelResult||!this.dataModelResult.item||this.dataModelResult.item.id<=0)&&this.DataAddContent()}onActionBackToParent(){this.router.navigate(["/linkmanagement/billboard/"])}};ao.\u0275fac=function(i){return new(i||ao)(I(st),I(ne),I(bn),I(W),I(_i),I(G),I(Ze),I(O),I(F))},ao.\u0275cmp=V({type:ao,selectors:[["app-linkmanagement-billboard-add"]],viewQuery:function(i,t){if(i&1&&ee(_m,5),i&2){let s;te(s=ie())&&(t.formGroup=s.first)}},standalone:!1,features:[U],decls:66,vars:58,consts:[["vform","ngForm"],["stepper",""],["Title",""],["FromDate",""],["bgColor",""],["bgColorPicker",""],["LinkMainImageId",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"selectionChange"],["state","main",3,"label"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[3,"optionChange","optionSelectForce","optionPlaceholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],["for","fromDate",1,"color-highlight"],["matInput","","type","text","name","dataModel.bgColor","id","fromDate",1,"form-control","validate-name",3,"ngModelChange","ngModel","matDatepicker"],["matSuffix","",3,"for"],["touchUi","",3,"calendarHeaderComponent"],[1,"form-actions"],["state","seo",3,"label"],[3,"optionModelChange","optionSelectChecked","optionSelectDisChecked","optionModel"],["state","file",3,"label"],[1,"mb-3"],["target","_blank",3,"href"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["matStepperIcon","main"],["matStepperIcon","seo"],["matStepperIcon","file"],["matStepperIcon","loaction"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.bgColor",1,"color-highlight"],["matInput","","type","text","name","dataModel.bgColor","minlength","3","maxlength","100","required","","id","dataModel.bgColor",1,"form-control","validate-name",3,"ngModelChange","ngModel","ngxMatColorPicker","placeholder","disabled"],[3,"touchUi","color"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],["type","button","matStepperNext","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue",3,"disabled"],["type","button","matStepperPrevious","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openDirectUploadView","openFilemanagerButtonLabelKey","selectFileType","openFilemanagerButtonView"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=w();a(0,"div",7),S(1,"app-progress-spinner",8),a(2,"div",9)(3,"p",10),c(4),r(),a(5,"p"),c(6),f(7,"translate"),r(),S(8,"app-cms-form-result-message",11),a(9,"form",12,0),v("ngSubmit",function(){return d(s),m(t.onFormSubmit())}),a(11,"mat-vertical-stepper",13,1),v("selectionChange",function(u){d(s);let x=D(12);return m(t.onStepClick(u,x))}),a(13,"mat-step",14),f(14,"translate"),h(15,Mm,1,5,"app-cms-enum-record-status-selector",15),a(16,"div",16)(17,"label",17),c(18),r(),a(19,"input",18,2),y("ngModelChange",function(u){return d(s),k(t.dataModel.title,u)||(t.dataModel.title=u),m(u)}),r(),h(21,Sm,1,0,"i",19),h(22,Cm,1,0,"i",20),a(23,"em"),c(24),r(),h(25,hm,5,4,"mat-error"),r(),a(26,"app-linkmanagement-member-selector",21),f(27,"translate"),v("optionChange",function(u){return d(s),m(t.onActionSelectorSelectLinkManagementMemberId(u))}),r(),a(28,"app-linkmanagement-billboard-pattern-selector",21),f(29,"translate"),v("optionChange",function(u){return d(s),m(t.onActionSelectorSelectLinkBillboardPatternId(u))}),r(),h(30,bm,8,11,"div",22),a(31,"div",22)(32,"label",23),c(33),r(),a(34,"input",24),y("ngModelChange",function(u){return d(s),k(t.dataModel.fromDate,u)||(t.dataModel.fromDate=u),m(u)}),r(),S(35,"mat-datepicker-toggle",25)(36,"mat-datepicker",26,3),r(),h(38,vm,7,7,"div",27),r(),a(39,"mat-step",28),f(40,"translate"),a(41,"app-linkmanagement-category-treeselector",29),y("optionModelChange",function(u){return d(s),k(t.dataContentCategoryModel,u)||(t.dataContentCategoryModel=u),m(u)}),v("optionSelectChecked",function(u){return d(s),m(t.onActionCategorySelectChecked(u))})("optionSelectDisChecked",function(u){return d(s),m(t.onActionCategorySelectDisChecked(u))}),r(),S(42,"br"),h(43,Im,7,7,"div",27),r(),a(44,"mat-step",30),f(45,"translate"),a(46,"p"),c(47),f(48,"translate"),r(),a(49,"div",31)(50,"a",32),f(51,"cmsthumbnail"),h(52,wm,2,4,"img",33),r()(),h(53,Tm,8,16,"div",16),h(54,Em,8,7,"div",27),r(),B(55,km,2,0,"ng-template",34)(56,ym,2,0,"ng-template",35)(57,Lm,2,0,"ng-template",36)(58,Am,2,0,"ng-template",37),r(),S(59,"hr"),c(60),f(61,"translate"),S(62,"br"),a(63,"div")(64,"pre"),c(65),r()()()()()}if(i&2){let s=D(20),M=D(37);o(),_("optionsInfoAreaId",t.constructorInfoAreaId),o(3),C(" ",t.formInfo.formTitle," "),o(2),C(" ",g(7,40,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),_("formInfo",t.formInfo),o(5),_("label",R(g(14,42,"TITLE.REQUIRED_INFORMATION"))),o(2),b(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?15:-1),o(3),T(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),_("placeholder",R(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),E("ngModel",t.dataModel.title),o(2),b(s.value?-1:21),o(),b(s.value?22:-1),o(2),C("",s.value.length," / 100"),o(),b(s.errors!=null&&s.errors.required?25:-1),o(),_("optionSelectForce",t.dataModel.linkManagementMemberId)("optionPlaceholder",g(27,44,"TITLE.User_Account")),o(2),_("optionSelectForce",t.dataModel.linkBillboardPatternId)("optionPlaceholder",g(29,46,"TITLE.Billboard_Pattern")),o(2),b(t.fieldsInfo.bgColor!=null&&t.fieldsInfo.bgColor.accessWatchField?30:-1),o(3),T(t.fieldsInfo.fromDate==null?null:t.fieldsInfo.fromDate.fieldTitle),o(),E("ngModel",t.dataModel.fromDate),_("matDatepicker",M),o(),_("for",M),o(),_("calendarHeaderComponent",t.datapickerHeader),o(2),b(t.formInfo.submitButtonEnabled?38:-1),o(),_("label",R(g(40,48,"TITLE.TARGET_SELECTION"))),o(2),E("optionModel",t.dataContentCategoryModel),o(2),b(t.formInfo.submitButtonEnabled?43:-1),o(),_("label",R(g(45,50,"TITLE.ATTACH_FILES"))),o(3),T(g(48,52,"TITLE.CONTENT_ATTACH_FILES")),o(3),_("href",R(g(51,54,t.dataModel.linkMainImageIdSrc)),Z),o(2),b((t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0?52:-1),o(),b(t.fieldsInfo.linkMainImageId!=null&&t.fieldsInfo.linkMainImageId.accessWatchField?53:-1),o(),b(t.formInfo.submitButtonEnabled?54:-1),o(6),C(" ",g(61,56,"TITLE.HTML_CODE")," "),o(5),C("      ",t.dataModel.billboardScript)}},dependencies:[ke,J,X,Te,Y,Ce,he,oe,Ee,qi,ji,Ui,ye,Gi,Ne,N,zi,Ki,Ji,Xi,Qi,Ae,Q,Le,Zi,Qo,Uo,jo,mt,bi,mi,hi,P,be],encapsulation:2});var ro=ao;var Rm=["vform"];function xm(n,l){if(n&1){let e=w();a(0,"app-cms-enum-record-status-selector",44),y("modelChange",function(t){d(e);let s=p();return k(s.dataModel.recordStatus,t)||(s.dataModel.recordStatus=t),m(t)}),r()}if(n&2){let e=p();E("model",e.dataModel.recordStatus),_("optionDisabled",!((e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.accessEditField)??!1))("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Dm(n,l){n&1&&S(0,"i",21)}function Bm(n,l){n&1&&S(0,"i",22)}function Vm(n,l){if(n&1&&(a(0,"mat-error"),c(1),a(2,"strong"),c(3),f(4,"translate"),r()()),n&2){let e=p();o(),C(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," is "),o(2),T(g(4,2,"MESSAGE.required"))}}function Pm(n,l){if(n&1){let e=w();a(0,"div",24)(1,"label",45),c(2),r(),a(3,"input",46,6),y("ngModelChange",function(t){d(e);let s=p();return k(s.dataModel.bgColor,t)||(s.dataModel.bgColor=t),m(t)}),r(),S(5,"ngx-mat-color-toggle",31)(6,"ngx-mat-color-picker",47,7),r()}if(n&2){let e=D(7),i=p();o(2),T(i.fieldsInfo.bgColor==null?null:i.fieldsInfo.bgColor.fieldTitle),o(),Oo("background",i.dataModel.bgColor),_("placeholder",R(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle)),E("ngModel",i.dataModel.bgColor),_("ngxMatColorPicker",e)("disabled",!(i.fieldsInfo.bgColor!=null&&i.fieldsInfo.bgColor.accessEditField)),o(2),_("for",e),o(),_("touchUi",!0)("color","primary")}}function Nm(n,l){n&1&&S(0,"i",21)}function Om(n,l){n&1&&S(0,"i",22)}function Fm(n,l){n&1&&(a(0,"mat-error"),c(1," CurrentClickCount is "),a(2,"strong"),c(3),f(4,"translate"),r()()),n&2&&(o(3),T(g(4,1,"MESSAGE.required")))}function Gm(n,l){n&1&&S(0,"i",21)}function Wm(n,l){n&1&&S(0,"i",22)}function Hm(n,l){n&1&&(a(0,"mat-error"),c(1," CurrentViewCount is "),a(2,"strong"),c(3),f(4,"translate"),r()()),n&2&&(o(3),T(g(4,1,"MESSAGE.required")))}function qm(n,l){if(n&1){let e=w();a(0,"div",33)(1,"button",48),v("click",function(){d(e);let t=p();return m(t.onActionBackToParent())}),c(2),f(3,"translate"),r(),a(4,"button",49),S(5,"i",50),c(6),f(7,"translate"),r(),a(8,"button",51),c(9),f(10,"translate"),r()()}if(n&2){p();let e=D(10);o(2),C(" ",g(3,5,"ACTION.BACK")," "),o(2),_("disabled",!e.form.valid),o(2),C(" ",g(7,7,"ACTION.SAVE")," "),o(2),_("disabled",!e.form.valid),o(),C(" ",g(10,9,"ACTION.NEXT")," ")}}function jm(n,l){if(n&1){let e=w();a(0,"div",33)(1,"button",48),v("click",function(){d(e);let t=p();return m(t.onActionBackToParent())}),c(2),f(3,"translate"),r(),a(4,"button",52),c(5),f(6,"translate"),r(),a(7,"button",49),S(8,"i",50),c(9),f(10,"translate"),r(),a(11,"button",51),c(12),f(13,"translate"),r()()}if(n&2){p();let e=D(10);o(2),C(" ",g(3,6,"ACTION.BACK")," "),o(3),C(" ",g(6,8,"ACTION.BEFOR")," "),o(2),_("disabled",!e.form.valid),o(2),C(" ",g(10,10,"ACTION.SAVE")," "),o(2),_("disabled",!e.form.valid),o(),C(" ",g(13,12,"ACTION.NEXT")," ")}}function Um(n,l){if(n&1&&(S(0,"img",39),f(1,"cmsthumbnail")),n&2){let e=p();_("src",R(g(1,2,e.dataModel.linkMainImageIdSrc)),Z)}}function Qm(n,l){if(n&1){let e=w();a(0,"div",18)(1,"label",53),v("click",function(){d(e);let t=p();return m(t.fileManagerOpenForm=!0)}),c(2),f(3,"translate"),r(),a(4,"input",54,8),f(6,"translate"),y("ngModelChange",function(t){d(e);let s=p();return k(s.dataModel.linkMainImageId,t)||(s.dataModel.linkMainImageId=t),m(t)}),v("click",function(){d(e);let t=p();return m(t.fileManagerOpenForm=!0)}),r(),a(7,"cms-file-manager",55),v("itemSelected",function(t){d(e);let s=p();return m(s.onActionFileSelectedLinkMainImageId(t))}),y("openFormChange",function(t){d(e);let s=p();return k(s.fileManagerOpenForm,t)||(s.fileManagerOpenForm=t),m(t)}),r()()}if(n&2){let e=p();o(2),T(g(3,12,"TITLE.Original_Photo")),o(2),_("placeholder",R(g(6,14,"TITLE.Original_File_ID"))),E("ngModel",e.dataModel.linkMainImageId),o(3),_("language",e.appLanguage)("isPopup",!0),E("openForm",e.fileManagerOpenForm),_("tree",e.fileManagerTree)("openDirectUploadView",!0)("openFilemanagerButtonLabelKey","select")("selectFileType",e.selectFileTypeMainImage)("openFilemanagerButtonView",!1)}}function zm(n,l){if(n&1){let e=w();a(0,"div",33)(1,"button",48),v("click",function(){d(e);let t=p();return m(t.onActionBackToParent())}),c(2),f(3,"translate"),r(),a(4,"button",52),c(5),f(6,"translate"),r(),a(7,"button",49),S(8,"i",50),c(9),f(10,"translate"),r()()}if(n&2){p();let e=D(10);o(2),C(" ",g(3,4,"ACTION.BACK")," "),o(3),C(" ",g(6,6,"ACTION.BEFOR")," "),o(2),_("disabled",!e.form.valid),o(2),C(" ",g(10,8,"ACTION.SAVE")," ")}}function Km(n,l){n&1&&(a(0,"mat-icon"),c(1,"call_end"),r())}function Jm(n,l){n&1&&(a(0,"mat-icon"),c(1,"call_end"),r())}function Xm(n,l){n&1&&(a(0,"mat-icon"),c(1,"forum"),r())}function Ym(n,l){n&1&&(a(0,"mat-icon"),c(1,"forum"),r())}var lo=class lo extends pt{constructor(e,i,t,s,M,u,x,q){super(s,new Ii,i,q);this.activatedRoute=e;this.publicHelper=i;this.contentCategoryService=t;this.linkManagementBillboardService=s;this.cmsToastrService=M;this.router=u;this.cdr=x;this.translate=q;this.requestId=0;this.constructorInfoAreaId=this.constructor.name;this.dataModel=new Ii;this.dataModelResult=new ct;this.dataModelEnumManagementContentSettingTypeResult=new j;this.dataModelEnumSharingPriceTypeResult=new j;this.optionActionTitle="";this.optionActionButtomEnable=!0;this.optionTabledisplayedColumns=["id","Option","OptionAnswer","IsCorrectAnswer","NumberOfVotes","ScoreOfVotes","Action"];this.dataContentCategoryModel=[];this.selectFileTypeMainImage=["jpg","jpeg","png"];this.selectFileTypePodcast=["mp3"];this.selectFileTypeMovie=["mp4","webm"];this.fileManagerOpenForm=!1;this.fileManagerOpenFormPodcast=!1;this.fileManagerOpenFormMovie=!1;this.appLanguage="fa";this.viewMap=!1;this.mapMarkerPoints=[];this.mapOptonCenter=new Yi;this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),this.translate.get("ACTION.Add_To_List").subscribe(K=>{this.optionActionTitle=K})}ngOnInit(){if(this.requestId=+Number(this.activatedRoute.snapshot.paramMap.get("id")),this.requestId===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.DataGetOne(),this.DataCategoryGetAll()}onActionFileSelectedLinkMainImageId(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}onFormSubmit(){if(this.requestId<=0){this.cmsToastrService.typeErrorEditRowIsNull();return}if(!this.formGroup.valid){this.cmsToastrService.typeErrorFormInvalid();return}this.DataEditContent()}DataGetOne(){this.formInfo.submitButtonEnabled=!1,this.translate.get("MESSAGE.get_information_from_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.linkManagementBillboardService.setAccessLoad(),this.linkManagementBillboardService.setAccessDataType(we.Editor),this.linkManagementBillboardService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.dataAccessModel=i.access,this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModelResult=i,this.formInfo.submitButtonEnabled=!0,i.isSuccess?this.dataModel=i.item:this.cmsToastrService.typeErrorGetOne(i.errorMessage),this.publicHelper.processService.processStop(e)},error:i=>{this.publicHelper.processService.processStop(e),this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeErrorGetOne(i)}})}DataEditContent(){this.dataModel.bgColor=this.dataModel.bgColor?.toString(),this.formInfo.submitButtonEnabled=!1,this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.linkManagementBillboardService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.publicHelper.processService.processStop(e),this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success}),this.cmsToastrService.typeSuccessEdit()):this.cmsToastrService.typeErrorEdit(i.errorMessage),this.publicHelper.processService.processStop(e)},error:i=>{this.publicHelper.processService.processStop(e),this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i)}})}onActionSelectorSelectLinkManagementMemberId(e){if(!e||e.id<=0){this.translate.get("MESSAGE.Type_of_User_account_is_not_known").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkBillboardPatternId=e.id}onActionSelectorSelectLinkBillboardPatternId(e){if(!e||e.id<=0){this.translate.get("MESSAGE.Category_of_billboard_information_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkBillboardPatternId=e.id}DataCategoryGetAll(){this.formInfo.submitButtonEnabled=!1,this.translate.get("MESSAGE.get_category_information_from_the_server").subscribe(s=>{this.formInfo.submitResultMessage=s}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(s=>{this.publicHelper.processService.processStart(e,s,this.constructorInfoAreaId)});let i=new Ie,t=new z;t.propertyName="LinkManagementBillboardId",t.value=this.requestId,t.clauseType=Mt.And,i.filters.push(t),this.tagIdsData=[],this.contentCategoryService.ServiceGetAll(i).subscribe({next:s=>{let M=[];s.listItems.forEach(u=>{M.push(u.linkCategoryId)}),this.dataContentCategoryModel=M,this.formInfo.submitButtonEnabled=!0,this.publicHelper.processService.processStop(e)},error:s=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeErrorGetAll(s),this.publicHelper.processService.processStop(e)}})}onActionCategorySelectChecked(e){if(!e||e<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}let i=new Sn;i.linkCategoryId=e,i.linkManagementBillboardId=this.dataModel.id,this.contentCategoryService.ServiceAdd(i).subscribe({next:t=>{t.isSuccess?(this.translate.get("MESSAGE.registration_in_this_group_was_successful").subscribe(s=>{this.formInfo.submitResultMessage=s,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success}),this.cmsToastrService.typeSuccessEdit()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(s=>{this.formInfo.submitResultMessage=s}),this.formInfo.submitResultMessage=t.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(t.errorMessage))},error:t=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(t)}})}onActionCategorySelectDisChecked(e){if(!e||e<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}let i=new Sn;i.linkCategoryId=e,i.linkManagementBillboardId=this.dataModel.id,this.contentCategoryService.ServiceDeleteEntity(i).subscribe({next:t=>{t.isSuccess?(this.translate.get("MESSAGE.registration_in_this_group_was_successful").subscribe(s=>{this.formInfo.submitResultMessage=s,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success}),this.cmsToastrService.typeSuccessEdit()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(s=>{this.formInfo.submitResultMessage=s}),this.formInfo.submitResultMessage=t.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(t.errorMessage))},error:t=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(t)}})}onStepClick(e,i){e.previouslySelectedIndex<e.selectedIndex&&(this.formGroup.valid||(this.cmsToastrService.typeErrorFormInvalid(),setTimeout(()=>{i.selectedIndex=e.previouslySelectedIndex},10)))}onActionBackToParent(){this.router.navigate(["/linkmanagement/billboard/"])}};lo.\u0275fac=function(i){return new(i||lo)(I(st),I(W),I(bn),I(_i),I(G),I(Ze),I(O),I(F))},lo.\u0275cmp=V({type:lo,selectors:[["app-linkmanagement-billboard-edit"]],viewQuery:function(i,t){if(i&1&&ee(Rm,5),i&2){let s;te(s=ie())&&(t.formGroup=s.first)}},standalone:!1,features:[U],decls:84,vars:76,consts:[["vform","ngForm"],["stepper",""],["Title",""],["CurrentClickCount",""],["CurrentViewCount",""],["FromDate",""],["bgColor",""],["bgColorPicker",""],["LinkMainImageId",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"selectionChange"],["state","main",3,"label"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[3,"optionChange","optionSelectForce","optionPlaceholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],["for","dataModel.currentClickCount",1,"color-highlight"],["matInput","","type","number","name","dataModel.currentClickCount","minlength","0","required","","id","dataModel.currentClickCount",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.currentViewCount",1,"color-highlight"],["matInput","","type","number","name","dataModel.currentViewCount","minlength","0","required","","id","dataModel.currentViewCount",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","fromDate",1,"color-highlight"],["matInput","","type","text","name","dataModel.bgColor","id","fromDate",1,"form-control","validate-name",3,"ngModelChange","ngModel","matDatepicker"],["matSuffix","",3,"for"],["touchUi","",3,"calendarHeaderComponent"],[1,"form-actions"],["state","seo",3,"label"],[3,"optionModelChange","optionSelectChecked","optionSelectDisChecked","optionModel"],["state","file",3,"label"],[1,"mb-3"],["target","_blank",3,"href"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["matStepperIcon","main"],["matStepperIcon","seo"],["matStepperIcon","file"],["matStepperIcon","loaction"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.bgColor",1,"color-highlight"],["matInput","","type","text","name","dataModel.bgColor","minlength","3","maxlength","100","required","","id","dataModel.bgColor",1,"form-control","validate-name",3,"ngModelChange","ngModel","ngxMatColorPicker","placeholder","disabled"],[3,"touchUi","color"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"],["type","button","matStepperNext","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue",3,"disabled"],["type","button","matStepperPrevious","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openDirectUploadView","openFilemanagerButtonLabelKey","selectFileType","openFilemanagerButtonView"]],template:function(i,t){if(i&1){let s=w();a(0,"div",9),S(1,"app-progress-spinner",10),a(2,"div",11)(3,"p",12),c(4),r(),a(5,"p"),c(6),f(7,"translate"),r(),S(8,"app-cms-form-result-message",13),a(9,"form",14,0),v("ngSubmit",function(){return d(s),m(t.onFormSubmit())}),a(11,"mat-vertical-stepper",15,1),v("selectionChange",function(u){d(s);let x=D(12);return m(t.onStepClick(u,x))}),a(13,"mat-step",16),f(14,"translate"),h(15,xm,1,5,"app-cms-enum-record-status-selector",17),a(16,"div",18)(17,"label",19),c(18),r(),a(19,"input",20,2),y("ngModelChange",function(u){return d(s),k(t.dataModel.title,u)||(t.dataModel.title=u),m(u)}),r(),h(21,Dm,1,0,"i",21),h(22,Bm,1,0,"i",22),a(23,"em"),c(24),r(),h(25,Vm,5,4,"mat-error"),r(),a(26,"app-linkmanagement-member-selector",23),f(27,"translate"),v("optionChange",function(u){return d(s),m(t.onActionSelectorSelectLinkManagementMemberId(u))}),r(),a(28,"app-linkmanagement-billboard-pattern-selector",23),f(29,"translate"),v("optionChange",function(u){return d(s),m(t.onActionSelectorSelectLinkBillboardPatternId(u))}),r(),h(30,Pm,8,11,"div",24),a(31,"div",18)(32,"label",25),c(33),r(),a(34,"input",26,3),f(36,"translate"),y("ngModelChange",function(u){return d(s),k(t.dataModel.currentClickCount,u)||(t.dataModel.currentClickCount=u),m(u)}),r(),h(37,Nm,1,0,"i",21),h(38,Om,1,0,"i",22),h(39,Fm,5,3,"mat-error"),r(),a(40,"div",18)(41,"label",27),c(42),r(),a(43,"input",28,4),f(45,"translate"),y("ngModelChange",function(u){return d(s),k(t.dataModel.currentViewCount,u)||(t.dataModel.currentViewCount=u),m(u)}),r(),h(46,Gm,1,0,"i",21),h(47,Wm,1,0,"i",22),h(48,Hm,5,3,"mat-error"),r(),a(49,"div",24)(50,"label",29),c(51),r(),a(52,"input",30),y("ngModelChange",function(u){return d(s),k(t.dataModel.fromDate,u)||(t.dataModel.fromDate=u),m(u)}),r(),S(53,"mat-datepicker-toggle",31)(54,"mat-datepicker",32,5),r(),h(56,qm,11,11,"div",33),r(),a(57,"mat-step",34),f(58,"translate"),a(59,"app-linkmanagement-category-treeselector",35),y("optionModelChange",function(u){return d(s),k(t.dataContentCategoryModel,u)||(t.dataContentCategoryModel=u),m(u)}),v("optionSelectChecked",function(u){return d(s),m(t.onActionCategorySelectChecked(u))})("optionSelectDisChecked",function(u){return d(s),m(t.onActionCategorySelectDisChecked(u))}),r(),S(60,"br"),h(61,jm,14,14,"div",33),r(),a(62,"mat-step",36),f(63,"translate"),a(64,"p"),c(65),f(66,"translate"),r(),a(67,"div",37)(68,"a",38),f(69,"cmsthumbnail"),h(70,Um,2,4,"img",39),r()(),h(71,Qm,8,16,"div",18),h(72,zm,11,10,"div",33),r(),B(73,Km,2,0,"ng-template",40)(74,Jm,2,0,"ng-template",41)(75,Xm,2,0,"ng-template",42)(76,Ym,2,0,"ng-template",43),r(),S(77,"hr"),c(78),f(79,"translate"),S(80,"br"),a(81,"div")(82,"pre"),c(83),r()()()()()}if(i&2){let s=D(20),M=D(35),u=D(44),x=D(55);o(),_("optionsInfoAreaId",t.constructorInfoAreaId),o(3),C(" ",t.formInfo.formTitle," "),o(2),C(" ",g(7,54,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),_("formInfo",t.formInfo),o(5),_("label",R(g(14,56,"TITLE.REQUIRED_INFORMATION"))),o(2),b(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?15:-1),o(3),T(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),_("placeholder",R(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),E("ngModel",t.dataModel.title),o(2),b(s.value?-1:21),o(),b(s.value?22:-1),o(2),C("",s.value.length," / 100"),o(),b(s.errors!=null&&s.errors.required?25:-1),o(),_("optionSelectForce",t.dataModel.linkManagementMemberId)("optionPlaceholder",g(27,58,"TITLE.User_Account")),o(2),_("optionSelectForce",t.dataModel.linkBillboardPatternId)("optionPlaceholder",g(29,60,"TITLE.Billboard_Pattern")),o(2),b(t.fieldsInfo.bgColor!=null&&t.fieldsInfo.bgColor.accessWatchField?30:-1),o(3),T(t.fieldsInfo.currentClickCount==null?null:t.fieldsInfo.currentClickCount.fieldTitle),o(),_("placeholder",R(g(36,62,"TITLE.Number_of_click_so_far"))),E("ngModel",t.dataModel.currentClickCount),o(3),b(M.value?-1:37),o(),b(M.value?38:-1),o(),b(M.errors!=null&&M.errors.required?39:-1),o(3),T(t.fieldsInfo.currentViewCount==null?null:t.fieldsInfo.currentViewCount.fieldTitle),o(),_("placeholder",R(g(45,64,"TITLE.Number_of_views_so_far"))),E("ngModel",t.dataModel.currentViewCount),o(3),b(u.value?-1:46),o(),b(u.value?47:-1),o(),b(u.errors!=null&&u.errors.required?48:-1),o(3),T(t.fieldsInfo.fromDate==null?null:t.fieldsInfo.fromDate.fieldTitle),o(),E("ngModel",t.dataModel.fromDate),_("matDatepicker",x),o(),_("for",x),o(),_("calendarHeaderComponent",t.datapickerHeader),o(2),b(t.formInfo.submitButtonEnabled?56:-1),o(),_("label",R(g(58,66,"TITLE.TARGET_SELECTION"))),o(2),E("optionModel",t.dataContentCategoryModel),o(2),b(t.formInfo.submitButtonEnabled?61:-1),o(),_("label",R(g(63,68,"TITLE.ATTACH_FILES"))),o(3),T(g(66,70,"TITLE.CONTENT_ATTACH_FILES")),o(3),_("href",R(g(69,72,t.dataModel.linkMainImageIdSrc)),Z),o(2),b((t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0?70:-1),o(),b(t.fieldsInfo.linkMainImageId!=null&&t.fieldsInfo.linkMainImageId.accessWatchField?71:-1),o(),b(t.formInfo.submitButtonEnabled?72:-1),o(6),C(" ",g(79,74,"TITLE.HTML_CODE")," "),o(5),C("      ",t.dataModel.billboardScript)}},dependencies:[ke,J,Ke,X,Te,Y,Ce,he,oe,Ee,qi,ji,Ui,ye,Gi,Ne,N,zi,Ki,Ji,Xi,Qi,Ae,Q,Le,Zi,Je,Qo,Uo,jo,mt,bi,mi,hi,P,be],encapsulation:2});var so=lo;var Zm=["vform"];function $m(n,l){if(n&1){let e=w();a(0,"div",5)(1,"label",7),c(2),r(),a(3,"input",8,0),y("ngModelChange",function(t){d(e);let s=p();return k(s.dataModelResultContent.item.title,t)||(s.dataModelResultContent.item.title=t),m(t)}),r()()}if(n&2){let e=p();o(2),T(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),o(),_("placeholder",R(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle)),E("ngModel",e.dataModelResultContent.item.title)}}function ep(n,l){if(n&1){let e=w();a(0,"div",6)(1,"button",9),v("click",function(){d(e);let t=p();return m(t.onFormDelete())}),S(2,"i",10),c(3),f(4,"translate"),r(),a(5,"button",11),v("click",function(){d(e);let t=p();return m(t.onFormCancel())}),S(6,"i",12),c(7),f(8,"translate"),r()()}if(n&2){let e=p();o(),_("disabled",!e.formInfo.submitButtonEnabled),o(2),C(" ",g(4,3,"ACTION.DELETE")," "),o(4),C(" ",g(8,5,"ACTION.CANCEL")," ")}}var co=class co{constructor(l,e,i,t,s,M,u){this.data=l;this.dialogRef=e;this.publicHelper=i;this.linkManagementBillboardService=t;this.cdr=s;this.translate=M;this.cmsToastrService=u;this.requestId=0;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.dataModelResultContent=new j;this.formInfo=new Vt;this.publicHelper.processService.cdr=this.cdr,l&&(this.requestId=+l.id||0)}ngOnInit(){if(this.requestId<=0){this.cmsToastrService.typeErrorDeleteRowIsNull(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOne()}DataGetOne(){if(this.requestId===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.translate.get("TITLE.Loading_Information").subscribe(e=>{this.formInfo.submitResultMessage=e});let l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(l,e,this.constructorInfoAreaId)}),this.linkManagementBillboardService.setAccessLoad(),this.linkManagementBillboardService.setAccessDataType(we.Editor),this.linkManagementBillboardService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModelResultContent=e,e.isSuccess?this.formInfo.submitResultMessage="":(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.formInfo.submitResultMessageType=FormSubmitedStatusEnum.Success,this.cmsToastrService.typeErrorGetOne()),this.publicHelper.processService.processStop(l)},error:e=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessageType=FormSubmitedStatusEnum.Success,this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(l,!1)}})}onFormDelete(){if(this.requestId===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.formInfo.submitButtonEnabled=!1,this.formInfo.submitButtonEnabled=!1;let l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(l,e,this.constructorInfoAreaId)}),this.linkManagementBillboardService.ServiceDelete(this.requestId).subscribe({next:e=>{this.formInfo.submitButtonEnabled=!e.isSuccess,e.isSuccess?(this.translate.get("MESSAGE.Deletion_Was_Successful").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.cmsToastrService.typeSuccessRemove(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.cmsToastrService.typeErrorRemove()),this.formInfo.submitButtonEnabled=!0,this.publicHelper.processService.processStop(l)},error:e=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(e),this.formInfo.submitButtonEnabled=!0,this.publicHelper.processService.processStop(l)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};co.\u0275fac=function(e){return new(e||co)(I(fe),I(ue),I(W),I(_i),I(O),I(F),I(G))},co.\u0275cmp=V({type:co,selectors:[["app-linkmanagement-billboard-delete"]],viewQuery:function(e,i){if(e&1&&ee(Zm,5),e&2){let t;te(t=ie())&&(i.formGroup=t.first)}},standalone:!1,decls:12,vars:10,consts:[["Writer",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],[1,"form-actions"],["for","dataModelResultContent.item.title",1,"color-highlight"],["matInput","","name","dataModelResultContent.item.title","type","text","required","","id","dataModelResultContent.item.title","readonly","",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click","disabled"],[1,"fa","fa-check-square-o"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,i){e&1&&(a(0,"div",1),S(1,"app-progress-spinner",2),a(2,"div",3)(3,"p",4),c(4),f(5,"translate"),r(),a(6,"p"),c(7),f(8,"translate"),r(),c(9),h(10,$m,5,4,"div",5),h(11,ep,9,7,"div",6),r()()),e&2&&(o(),_("optionsInfoAreaId",i.constructorInfoAreaId),o(3),C(" ",g(5,6,"TITLE.EDIT_USER_ACCOUNT")," "),o(3),C(" ",g(8,8,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),C(" ",i.formInfo.formTitle," "),o(),b(i.dataModelResultContent!=null&&i.dataModelResultContent.item?10:-1),o(),b(i.formInfo.submitButtonEnabled?11:-1))},dependencies:[J,X,Y,oe,N,Q,P],encapsulation:2});var aa=co;var tp=["vform"];function ip(n,l){if(n&1){let e=w();a(0,"app-cms-enum-record-status-selector",20),y("modelChange",function(t){d(e);let s=p();return k(s.dataModel.recordStatus,t)||(s.dataModel.recordStatus=t),m(t)}),r()}if(n&2){let e=p();E("model",e.dataModel.recordStatus),_("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function np(n,l){n&1&&S(0,"i",14)}function op(n,l){n&1&&S(0,"i",15)}function ap(n,l){if(n&1&&(a(0,"mat-error"),c(1),a(2,"strong"),c(3),f(4,"translate"),r()()),n&2){let e=p();o(),C(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," is "),o(2),T(g(4,2,"MESSAGE.required"))}}function rp(n,l){if(n&1&&(a(0,"mat-error"),c(1),a(2,"strong"),c(3),f(4,"translate"),r()()),n&2){let e=p(2);o(),C(" ",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle," is "),o(2),T(g(4,2,"MESSAGE.required"))}}function lp(n,l){if(n&1){let e=w();a(0,"div",11)(1,"label",21),c(2),r(),a(3,"textarea",22,2),y("ngModelChange",function(t){d(e);let s=p();return k(s.dataModel.description,t)||(s.dataModel.description=t),m(t)}),c(5,"            "),r(),a(6,"em"),c(7),r(),h(8,rp,5,4,"mat-error"),r()}if(n&2){let e=D(4),i=p();o(2),T(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle),o(),_("placeholder",R(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle)),E("ngModel",i.dataModel.description),o(4),C("",e.value.length," / 500"),o(),b(e.errors!=null&&e.errors.required?8:-1)}}function sp(n,l){if(n&1&&(S(0,"img",18),f(1,"cmsthumbnail")),n&2){let e=p();_("src",R(g(1,2,e.dataModel.linkMainImageIdSrc)),Z)}}function cp(n,l){if(n&1){let e=w();a(0,"div",11)(1,"label",23),v("click",function(){d(e);let t=p();return m(t.fileManagerOpenForm=!0)}),c(2),f(3,"translate"),r(),a(4,"input",24,3),f(6,"translate"),y("ngModelChange",function(t){d(e);let s=p();return k(s.dataModel.linkMainImageId,t)||(s.dataModel.linkMainImageId=t),m(t)}),v("click",function(){d(e);let t=p();return m(t.fileManagerOpenForm=!0)}),r(),a(7,"cms-file-manager",25),v("itemSelected",function(t){d(e);let s=p();return m(s.onActionFileSelected(t))}),y("openFormChange",function(t){d(e);let s=p();return k(s.fileManagerOpenForm,t)||(s.fileManagerOpenForm=t),m(t)}),r()()}if(n&2){let e=p();o(2),T(g(3,12,"TITLE.Icon_File")),o(2),_("placeholder",R(g(6,14,"TITLE.Original_File_ID"))),E("ngModel",e.dataModel.linkMainImageId),o(3),_("language",e.appLanguage)("isPopup",!0)("openDirectUploadView",!0),E("openForm",e.fileManagerOpenForm),_("tree",e.fileManagerTree)("openFilemanagerButtonLabelKey","select")("selectFileType",e.selectFileTypeMainImage)("openFilemanagerButtonView",!1)}}function dp(n,l){if(n&1){let e=w();a(0,"div",19)(1,"button",26),v("click",function(){d(e);let t=p();return m(t.onFormCancel())}),S(2,"i",27),c(3),f(4,"translate"),r(),a(5,"button",28),S(6,"i",29),c(7),f(8,"translate"),r()()}if(n&2){p();let e=D(10);o(3),C(" ",g(4,3,"ACTION.CANCEL")," "),o(2),_("disabled",!e.form.valid),o(2),C(" ",g(8,5,"ACTION.SAVE")," ")}}var mo=class mo extends Pt{constructor(e,i,t,s,M,u,x,q){super(s,new Qt,u,q);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.categoryService=s;this.cmsToastrService=M;this.publicHelper=u;this.cdr=x;this.translate=q;this.requestParentId=0;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new j;this.dataModel=new Qt;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,e&&(this.requestParentId=+e.parentId||0),this.requestParentId>0&&(this.dataModel.linkParentId=this.requestParentId),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}onActionFileSelected(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}ngOnInit(){this.translate.get("TITLE.Register_New_Categories").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess()}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.categoryService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};mo.\u0275fac=function(i){return new(i||mo)(I(fe),I(ue),I(ne),I(Ct),I(G),I(W),I(O),I(F))},mo.\u0275cmp=V({type:mo,selectors:[["app-linkmanagement-category-add"]],viewQuery:function(i,t){if(i&1&&ee(tp,5),i&2){let s;te(s=ie())&&(t.formGroup=s.first)}},standalone:!1,features:[U],decls:29,vars:23,consts:[["vform","ngForm"],["Title",""],["Description",""],["LinkMainImageId",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"mb-3"],["target","_blank",3,"href"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"form-actions"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openDirectUploadView","openForm","tree","openFilemanagerButtonLabelKey","selectFileType","openFilemanagerButtonView"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=w();a(0,"div",4),S(1,"app-progress-spinner",5),a(2,"div",6)(3,"p",7),c(4),r(),a(5,"p"),c(6),f(7,"translate"),r(),S(8,"app-cms-form-result-message",8),a(9,"form",9,0),v("ngSubmit",function(){return d(s),m(t.onFormSubmit())}),h(11,ip,1,5,"app-cms-enum-record-status-selector",10),a(12,"div",11)(13,"label",12),c(14),r(),a(15,"input",13,1),y("ngModelChange",function(u){return d(s),k(t.dataModel.title,u)||(t.dataModel.title=u),m(u)}),r(),h(17,np,1,0,"i",14),h(18,op,1,0,"i",15),a(19,"em"),c(20),r(),h(21,ap,5,4,"mat-error"),r(),h(22,lp,9,6,"div",11),a(23,"div",16)(24,"a",17),f(25,"cmsthumbnail"),h(26,sp,2,4,"img",18),r()(),h(27,cp,8,16,"div",11),h(28,dp,9,7,"div",19),r()()()}if(i&2){let s=D(16);o(),_("optionsInfoAreaId",t.constructorInfoAreaId),o(3),C(" ",t.formInfo.formTitle," "),o(2),C(" ",g(7,19,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),_("formInfo",t.formInfo),o(3),b(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?11:-1),o(3),T(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),_("placeholder",R(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),E("ngModel",t.dataModel.title),o(2),b(s.value?-1:17),o(),b(s.value?18:-1),o(2),C("",s.value.length," / 100"),o(),b(s.errors!=null&&s.errors.required?21:-1),o(),b(t.fieldsInfo.description!=null&&t.fieldsInfo.description.accessWatchField?22:-1),o(2),_("href",R(g(25,21,t.dataModel.linkMainImageIdSrc)),Z),o(2),b((t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0?26:-1),o(),b(t.fieldsInfo.linkMainImageId!=null&&t.fieldsInfo.linkMainImageId.accessWatchField?27:-1),o(),b(t.formInfo.submitButtonEnabled?28:-1)}},dependencies:[ke,J,X,Te,Y,Ce,he,oe,Ee,ye,N,Ae,Q,Le,mt,P,be],encapsulation:2});var ra=mo;var mp=["*"];function pp(n,l){if(n&1&&(a(0,"label",3),c(1),r()),n&2){let e=p();_("for",ei("app-cms-site-selector-",e.id)),o(),T(e.optionLabel)}}function up(n,l){if(n&1&&(S(0,"img",5),f(1,"cmsthumbnail")),n&2){let e=p();_("src",R(g(1,2,e.dataModelSelect==null?null:e.dataModelSelect.linkMainImageIdSrc)),Z)}}function fp(n,l){if(n&1&&(S(0,"img",5),f(1,"cmsthumbnail")),n&2){let e=p().$implicit;_("src",R(g(1,2,e.linkMainImageIdSrc)),Z)}}function gp(n,l){if(n&1&&(a(0,"mat-option",8),h(1,fp,2,4,"img",5),a(2,"span"),c(3),r()()),n&2){let e=l.$implicit,i=p();_("value",e)("disabled",i.optionDisabled),o(),b(e.linkMainImageIdSrc?1:-1),o(2),T(i.displayOption(e))}}function _p(n,l){n&1&&S(0,"i",9)}function Mp(n,l){n&1&&S(0,"i",10)}function Sp(n,l){if(n&1){let e=w();a(0,"i",13),v("click",function(){d(e);let t=p();return m(t.onActionSelectClear())}),r()}}function Cp(n,l){n&1&&(a(0,"em"),c(1),f(2,"translate"),r()),n&2&&(o(),C("(",g(2,1,"TITLE.Necessary"),")"))}var nn=class nn{constructor(l,e,i,t,s,M){this.coreEnumService=l;this.cmsToastrService=e;this.cdr=i;this.publicHelper=t;this.translate=s;this.categoryService=M;this.id=++nn.nextId;this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new j;this.dataModelSelect=new Qt;this.formControl=new Ni;this.optionPlaceholder="";this.optionSelectFirstItem=!1;this.optionDisabled=!1;this.optionRequired=!1;this.optionLabel="";this.optionChange=new lt;this.optionReload=()=>this.onActionButtonReload();this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(l){this.onActionSelectForce(l)}ngOnInit(){this.loadOptions(),(!this.optionLabel||this.optionLabel.length==0&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder)}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(Ri(""),Li(1500),Ai(),xi(l=>typeof l=="string"||typeof l=="number"?this.DataGetAll(l||""):[]))}displayFn(l){return l?l.title:void 0}displayOption(l){return l?l.title:void 0}DataGetAll(l){return De(this,null,function*(){let e=new Ie;e.rowPerPage=20,e.accessLoad=!0;let i=new z;i.propertyName="title",i.value=l,i.searchType=ii.Contains,i.clauseType=Mt.Or,e.filters.push(i),l&&typeof+l=="number"&&+l>0&&(i=new z,i.propertyName="id",i.value=l,i.searchType=ii.Equal,i.clauseType=Mt.Or,e.filters.push(i));let t=this.constructor.name+"main";return this.translate.get("MESSAGE.Receiving_information").subscribe(s=>{this.publicHelper.processService.processStart(t,s,this.constructorInfoAreaId)}),yield ki(this.categoryService.ServiceGetAll(e)).then(s=>(this.dataModelResult=s,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||this.dataModelSelect.id<=0)&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0])},1e3),this.onActionSelect(this.dataModelResult.listItems[0])),this.publicHelper.processService.processStop(t),s.listItems))})}onActionSelect(l){this.dataModelSelect=l,this.optionChange.emit(this.dataModelSelect)}onActionSelectClear(){this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null)}push(l){return this.filteredOptions.pipe(yi(e=>(e.find(i=>i.id===l.id)||e.push(l),e)))}onActionSelectForce(l){if(typeof l=="number"&&l>0){if(this.dataModelSelect&&this.dataModelSelect.id===l)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(e=>e.id===l)){let e=this.dataModelResult.listItems.find(i=>i.id===l);this.dataModelSelect=e,this.formControl.setValue(e);return}this.categoryService.ServiceGetOneById(l).subscribe({next:e=>{e.isSuccess?(this.filteredOptions=this.push(e.item),this.dataModelSelect=e.item,this.formControl.setValue(e.item),this.optionChange.emit(e.item)):this.cmsToastrService.typeErrorMessage(e.errorMessage)}});return}if(typeof l==typeof Qt){this.filteredOptions=this.push(l),this.dataModelSelect=l,this.formControl.setValue(l);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new Qt,this.loadOptions()}};nn.nextId=0,nn.\u0275fac=function(e){return new(e||nn)(I(ne),I(G),I(O),I(W),I(F),I(Ct))},nn.\u0275cmp=V({type:nn,selectors:[["app-linkmanagement-category-selector"]],inputs:{optionPlaceholder:"optionPlaceholder",optionSelectFirstItem:"optionSelectFirstItem",optionDisabled:"optionDisabled",optionRequired:"optionRequired",optionLabel:"optionLabel",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange"},standalone:!1,ngContentSelectors:mp,decls:18,vars:24,consts:[["matauto","matAutocomplete"],[1,"input-style","has-borders","has-icon","input-style-always-active","validate-field","mb-4","loader-container"],[3,"optionsInfoAreaId"],[1,"color-highlight",3,"for"],["matPrefix",""],["aria-hidden","","height","25","width","25",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["type","text","aria-label","Assignee","matInput","",3,"placeholder","formControl","matAutocomplete","required","id"],[3,"optionSelected","displayWith"],[3,"value","disabled"],[1,"fa","fa-info","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"fa","fa-times","action","color-red-dark"],[1,"fa","fa-rotate-right","action","color-green-dark",2,"margin-left","20px",3,"click","title"],[1,"fa","fa-times","action","color-red-dark",3,"click"]],template:function(e,i){if(e&1){let t=w();Di(),a(0,"div",1),S(1,"app-progress-spinner",2),h(2,pp,2,3,"label",3),a(3,"span",4),h(4,up,2,4,"img",5),r(),S(5,"input",6),a(6,"mat-autocomplete",7,0),v("optionSelected",function(M){return d(t),m(i.onActionSelect(M.option.value))}),me(8,gp,4,4,"mat-option",8,Xe),f(10,"async"),r(),h(11,_p,1,0,"i",9),h(12,Mp,1,0,"i",10),h(13,Sp,1,0,"i",11),a(14,"i",12),f(15,"translate"),v("click",function(){return d(t),m(i.onActionButtonReload())}),r(),h(16,Cp,3,3,"em"),Bi(17),r()}if(e&2){let t=D(7);o(),_("optionsInfoAreaId",i.constructorInfoAreaId),o(),b((i.optionLabel==null?null:i.optionLabel.length)>0?2:-1),o(2),b(i.dataModelSelect&&(i.dataModelSelect!=null&&i.dataModelSelect.linkMainImageIdSrc)?4:-1),o(),_("placeholder",R(i.optionPlaceholder))("id",ei("app-cms-site-selector-",i.id))("formControl",i.formControl)("matAutocomplete",t)("required",i.optionRequired),Be("disabled",i.optionDisabled?!0:null),o(),_("displayWith",i.displayFn),o(2),pe(g(10,20,i.filteredOptions)),o(3),b(i.formControl.valid?-1:11),o(),b(i.optionRequired&&i.formControl.valid?12:-1),o(),b((i.dataModelSelect==null?null:i.dataModelSelect.id)>0?13:-1),o(),H("rotation360",i.publicHelper.processService.process.inRunArea[i.constructorInfoAreaId]),_("title",R(g(15,22,"ACTION.RELOAD"))),o(2),b(i.optionRequired&&!((i.dataModelSelect==null?null:i.dataModelSelect.id)>0)?16:-1)}},dependencies:[J,X,Y,Oi,Wi,Fi,Hi,Wo,N,Q,Ye,P,be],encapsulation:2});var la=nn;var bp=["vform"];function vp(n,l){if(n&1){let e=w();a(0,"div",7)(1,"label",8),c(2),r(),a(3,"input",9,0),y("ngModelChange",function(t){d(e);let s=p();return k(s.dataModelResultCategory.item.title,t)||(s.dataModelResultCategory.item.title=t),m(t)}),r()(),a(5,"div",7)(6,"label",10),c(7),r(),a(8,"textarea",11,1),y("ngModelChange",function(t){d(e);let s=p();return k(s.dataModelResultCategory.item.description,t)||(s.dataModelResultCategory.item.description=t),m(t)}),r()(),S(10,"app-linkmanagement-category-selector",12),f(11,"translate")}if(n&2){let e=p();o(2),T(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),o(),_("placeholder",R(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle)),E("ngModel",e.dataModelResultCategory.item.title),o(4),T(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),o(),_("placeholder",R(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle)),E("ngModel",e.dataModelResultCategory.item.description),o(2),_("optionPlaceholder",g(11,9,"TITLE.Alternative_classification_to_move_information_to_this_branch"))}}function Ip(n,l){if(n&1){let e=w();a(0,"div",6)(1,"button",13),v("click",function(){d(e);let t=p();return m(t.onFormCancel())}),S(2,"i",14),c(3),f(4,"translate"),r(),a(5,"button",15),v("click",function(){d(e);let t=p();return m(t.onFormDelete())}),S(6,"i",16),c(7),f(8,"translate"),r(),a(9,"button",17),v("click",function(){d(e);let t=p();return m(t.onFormMove())}),S(10,"i",14),c(11),f(12,"translate"),r()()}if(n&2){let e=p();o(3),C(" ",g(4,5,"ACTION.CANCEL")," "),o(2),_("disabled",!e.formInfo.submitButtonEnabled),o(2),C(" ",g(8,7,"ACTION.DELETE")," "),o(2),_("disabled",!e.formInfo.submitButtonEnabled),o(2),C(" ",g(12,9,"TITLE.MOVE_DATA")," ")}}var po=class po{constructor(l,e,i,t,s,M,u){this.data=l;this.dialogRef=e;this.publicHelper=i;this.categoryService=t;this.cdr=s;this.translate=M;this.cmsToastrService=u;this.requestId=0;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.dataModelResultCategory=new j;this.dataModelResultCategoryAllData=new j;this.dataModel={};this.formInfo=new Vt;this.publicHelper.processService.cdr=this.cdr,l&&(this.requestId=+l.id||0)}ngOnInit(){if(this.requestId<=0){this.cmsToastrService.typeErrorDeleteRowIsNull(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOne(),this.DataGetAll()}DataGetOne(){if(this.requestId===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.translate.get("TITLE.Loading_Information").subscribe(e=>{this.formInfo.submitResultMessage=e});let l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(l,e,this.constructorInfoAreaId)}),this.categoryService.setAccessLoad(),this.categoryService.setAccessDataType(we.Editor),this.categoryService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModelResultCategory=e,e.isSuccess?this.formInfo.submitResultMessage="":(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.formInfo.submitResultMessageType=FormSubmitedStatusEnum.Success,this.cmsToastrService.typeErrorGetOne()),this.publicHelper.processService.processStop(l)},error:e=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessageType=FormSubmitedStatusEnum.Success,this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(l,!1)}})}DataGetAll(){this.translate.get("TITLE.Loading_Information").subscribe(i=>{this.formInfo.submitResultMessage=i});let l=new Ie;l.rowPerPage=100;let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.categoryService.ServiceGetAll(l).subscribe({next:i=>{this.dataModelResultCategoryAllData=i,i.isSuccess?this.formInfo.submitResultMessage="":(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=FormSubmitedStatusEnum.Success,this.cmsToastrService.typeErrorGetAll()),this.publicHelper.processService.processStop(e)},error:i=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessageType=FormSubmitedStatusEnum.Success,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormMove(){if(this.requestId===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}if(!this.formGroup.valid)return;this.formInfo.submitButtonEnabled=!0,this.dataModel.newCatId===this.requestId&&(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.translate.get("ERRORMESSAGE.MESSAGE.The_delete_category_ID_is_the_same_as_the_alternate_category").subscribe(e=>{this.formInfo.submitResultMessage=e,this.formInfo.submitButtonEnabled=!0})),this.formInfo.submitButtonEnabled=!1;let l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(l,e,this.constructorInfoAreaId)})}onFormDelete(){if(this.requestId===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.formInfo.submitButtonEnabled=!1,this.formInfo.submitButtonEnabled=!1;let l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(l,e,this.constructorInfoAreaId)}),this.categoryService.ServiceDelete(this.requestId).subscribe({next:e=>{this.formInfo.submitButtonEnabled=!e.isSuccess,e.isSuccess?(this.translate.get("MESSAGE.Deletion_Was_Successful").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.cmsToastrService.typeSuccessRemove(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.cmsToastrService.typeErrorRemove()),this.formInfo.submitButtonEnabled=!0,this.publicHelper.processService.processStop(l)},error:e=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(e),this.formInfo.submitButtonEnabled=!0,this.publicHelper.processService.processStop(l)}})}onFormChangeNewCatId(l){if(this.formInfo.submitResultMessage="",this.requestId===0||!l||l.id<=0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.dataModel.newCatId=l.id,this.dataModel.newCatId===this.requestId?(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.translate.get("ERRORMESSAGE.MESSAGE.The_delete_category_ID_is_the_same_as_the_alternate_category").subscribe(e=>{this.formInfo.submitResultMessage=e,this.formInfo.submitButtonEnabled=!1})):(this.formInfo.submitButtonEnabled=!0,this.formInfo.submitResultMessage="")}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};po.\u0275fac=function(e){return new(e||po)(I(fe),I(ue),I(W),I(Ct),I(O),I(F),I(G))},po.\u0275cmp=V({type:po,selectors:[["app-linkmanagement-category-delete"]],viewQuery:function(e,i){if(e&1&&ee(bp,5),e&2){let t;te(t=ie())&&(i.formGroup=t.first)}},standalone:!1,decls:10,vars:7,consts:[["Title",""],["Description",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[1,"form-actions"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModelResultCategory.item.title",1,"color-highlight"],["matInput","","name","dataModelResultCategory.item.title","type","text","minlength","3","maxlength","50","required","","readonly","","id","dataModelResultCategory.item.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModelResultCategory.item.description",1,"color-highlight"],["matInput","","name","dataModelResultCategory.item.description","type","text","minlength","1","maxlength","100","readonly","","required","","rows","5","id","dataModelResultCategory.item.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[3,"optionPlaceholder"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click","disabled"],[1,"fa","fa-check-square-o"],["type","button","c","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click","disabled"]],template:function(e,i){e&1&&(a(0,"div",2),S(1,"app-progress-spinner",3),a(2,"div",4)(3,"p",5),c(4),r(),a(5,"p"),c(6),f(7,"translate"),r(),h(8,vp,12,11),h(9,Ip,13,11,"div",6),r()()),e&2&&(o(),_("optionsInfoAreaId",i.constructorInfoAreaId),o(3),C(" ",i.formInfo.formTitle," "),o(2),C(" ",g(7,5,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),b(i.dataModelResultCategory!=null&&i.dataModelResultCategory.item?8:-1),o(),b(i.formInfo.submitButtonEnabled?9:-1))},dependencies:[J,X,Y,Ce,he,oe,N,Q,la,P],encapsulation:2});var sa=po;var wp=["vform"];function Tp(n,l){if(n&1){let e=w();a(0,"app-cms-enum-record-status-selector",20),y("modelChange",function(t){d(e);let s=p();return k(s.dataModel.recordStatus,t)||(s.dataModel.recordStatus=t),m(t)}),r()}if(n&2){let e=p();E("model",e.dataModel.recordStatus),_("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Ep(n,l){n&1&&S(0,"i",14)}function kp(n,l){n&1&&S(0,"i",15)}function yp(n,l){if(n&1&&(a(0,"mat-error"),c(1),a(2,"strong"),c(3),f(4,"translate"),r()()),n&2){let e=p();o(),C(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," is "),o(2),T(g(4,2,"MESSAGE.required"))}}function Lp(n,l){if(n&1&&(a(0,"mat-error"),c(1),a(2,"strong"),c(3),f(4,"translate"),r()()),n&2){let e=p(2);o(),C(" ",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle," is "),o(2),T(g(4,2,"MESSAGE.required"))}}function Ap(n,l){if(n&1){let e=w();a(0,"div",11)(1,"label",21),c(2),r(),a(3,"textarea",22,2),y("ngModelChange",function(t){d(e);let s=p();return k(s.dataModel.description,t)||(s.dataModel.description=t),m(t)}),c(5,"            "),r(),a(6,"em"),c(7),r(),h(8,Lp,5,4,"mat-error"),r()}if(n&2){let e=D(4),i=p();o(2),T(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle),o(),_("placeholder",R(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle)),E("ngModel",i.dataModel.description),o(4),C("",e.value.length," / 500"),o(),b(e.errors!=null&&e.errors.required?8:-1)}}function Rp(n,l){if(n&1&&(S(0,"img",18),f(1,"cmsthumbnail")),n&2){let e=p();_("src",R(g(1,2,e.dataModel.linkMainImageIdSrc)),Z)}}function xp(n,l){if(n&1){let e=w();a(0,"div",11)(1,"label",23),v("click",function(){d(e);let t=p();return m(t.fileManagerOpenForm=!0)}),c(2),f(3,"translate"),r(),a(4,"input",24,3),f(6,"translate"),y("ngModelChange",function(t){d(e);let s=p();return k(s.dataModel.linkMainImageId,t)||(s.dataModel.linkMainImageId=t),m(t)}),v("click",function(){d(e);let t=p();return m(t.fileManagerOpenForm=!0)}),r(),a(7,"cms-file-manager",25),v("itemSelected",function(t){d(e);let s=p();return m(s.onActionFileSelected(t))}),y("openFormChange",function(t){d(e);let s=p();return k(s.fileManagerOpenForm,t)||(s.fileManagerOpenForm=t),m(t)}),r()()}if(n&2){let e=p();o(2),T(g(3,12,"TITLE.Icon_File")),o(2),_("placeholder",R(g(6,14,"TITLE.Original_File_ID"))),E("ngModel",e.dataModel.linkMainImageId),o(3),_("language",e.appLanguage)("isPopup",!0)("openDirectUploadView",!0),E("openForm",e.fileManagerOpenForm),_("tree",e.fileManagerTree)("openFilemanagerButtonLabelKey","select")("selectFileType",e.selectFileTypeMainImage)("openFilemanagerButtonView",!1)}}function Dp(n,l){if(n&1){let e=w();a(0,"div",19)(1,"button",26),v("click",function(){d(e);let t=p();return m(t.onFormCancel())}),S(2,"i",27),c(3),f(4,"translate"),r(),a(5,"button",28),S(6,"i",29),c(7),f(8,"translate"),r()()}if(n&2){p();let e=D(10);o(3),C(" ",g(4,3,"ACTION.CANCEL")," "),o(2),_("disabled",!e.form.valid),o(2),C(" ",g(8,5,"ACTION.SAVE")," ")}}var uo=class uo extends pt{constructor(e,i,t,s,M,u,x,q){super(s,new Qt,u,q);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.categoryService=s;this.cmsToastrService=M;this.publicHelper=u;this.cdr=x;this.translate=q;this.requestId=0;this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new ct;this.dataModel=new Qt;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=+e.id||0),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}onActionFileSelected(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}ngOnInit(){if(this.requestId>0)this.translate.get("TITLE.Edit_Categories").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}}DataGetOneContent(){if(this.requestId<=0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.categoryService.setAccessLoad(),this.categoryService.setAccessDataType(we.Editor),this.categoryService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.categoryService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};uo.\u0275fac=function(i){return new(i||uo)(I(fe),I(ue),I(ne),I(Ct),I(G),I(W),I(O),I(F))},uo.\u0275cmp=V({type:uo,selectors:[["app-linkmanagement-category-edit"]],viewQuery:function(i,t){if(i&1&&ee(wp,5),i&2){let s;te(s=ie())&&(t.formGroup=s.first)}},standalone:!1,features:[U],decls:29,vars:23,consts:[["vform","ngForm"],["Title",""],["Description",""],["LinkMainImageId",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"mb-3"],["target","_blank",3,"href"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"form-actions"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openDirectUploadView","openForm","tree","openFilemanagerButtonLabelKey","selectFileType","openFilemanagerButtonView"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=w();a(0,"div",4),S(1,"app-progress-spinner",5),a(2,"div",6)(3,"p",7),c(4),r(),a(5,"p"),c(6),f(7,"translate"),r(),S(8,"app-cms-form-result-message",8),a(9,"form",9,0),v("ngSubmit",function(){return d(s),m(t.onFormSubmit())}),h(11,Tp,1,5,"app-cms-enum-record-status-selector",10),a(12,"div",11)(13,"label",12),c(14),r(),a(15,"input",13,1),y("ngModelChange",function(u){return d(s),k(t.dataModel.title,u)||(t.dataModel.title=u),m(u)}),r(),h(17,Ep,1,0,"i",14),h(18,kp,1,0,"i",15),a(19,"em"),c(20),r(),h(21,yp,5,4,"mat-error"),r(),h(22,Ap,9,6,"div",11),a(23,"div",16)(24,"a",17),f(25,"cmsthumbnail"),h(26,Rp,2,4,"img",18),r()(),h(27,xp,8,16,"div",11),h(28,Dp,9,7,"div",19),r()()()}if(i&2){let s=D(16);o(),_("optionsInfoAreaId",t.constructorInfoAreaId),o(3),C(" ",t.formInfo.formTitle," "),o(2),C(" ",g(7,19,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),_("formInfo",t.formInfo),o(3),b(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?11:-1),o(3),T(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),_("placeholder",R(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),E("ngModel",t.dataModel.title),o(2),b(s.value?-1:17),o(),b(s.value?18:-1),o(2),C("",s.value.length," / 100"),o(),b(s.errors!=null&&s.errors.required?21:-1),o(),b(t.fieldsInfo.description!=null&&t.fieldsInfo.description.accessWatchField?22:-1),o(2),_("href",R(g(25,21,t.dataModel.linkMainImageIdSrc)),Z),o(2),b((t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0?26:-1),o(),b(t.fieldsInfo.linkMainImageId!=null&&t.fieldsInfo.linkMainImageId.accessWatchField?27:-1),o(),b(t.formInfo.submitButtonEnabled?28:-1)}},dependencies:[ke,J,X,Te,Y,Ce,he,oe,Ee,ye,N,Ae,Q,Le,mt,P,be],encapsulation:2});var ca=uo;function Bp(n,l){if(n&1){let e=w();a(0,"button",13),v("click",function(){d(e);let t=p();return m(t.onActionAdd())}),c(1),f(2,"translate"),r()}n&2&&(o(),C(" ",g(2,1,"ACTION.ADD")," "))}function Vp(n,l){if(n&1){let e=w();a(0,"button",14),v("click",function(){d(e);let t=p();return m(t.onActionEdit())}),c(1),f(2,"translate"),r()}n&2&&(o(),C(" ",g(2,1,"ACTION.EDIT")," "))}function Pp(n,l){if(n&1){let e=w();a(0,"button",15),v("click",function(){d(e);let t=p();return m(t.onActionDelete())}),c(1),f(2,"translate"),r()}n&2&&(o(),C(" ",g(2,1,"ACTION.DELETE")," "))}function Np(n,l){if(n&1){let e=w();a(0,"button",16),v("click",function(){d(e);let t=p();return m(t.onActionButtonReload())}),a(1,"mat-icon",17),f(2,"translate"),c(3,"refresh"),r()()}if(n&2){let e=p();o(),H("rotation360",e.publicHelper.processService.process.inRunArea[e.constructorInfoAreaId]),_("title",R(g(2,4,"ACTION.RELOAD")))}}function Op(n,l){if(n&1){let e=w();a(0,"mat-tree-node",18),S(1,"button",19),a(2,"span",20),v("click",function(){let t=d(e).$implicit,s=p();return m(s.onActionSelect(t))}),c(3),r()()}if(n&2){let e=l.$implicit,i=p();H("ntk-tree-selected",(i.dataModelSelect==null?null:i.dataModelSelect.id)>0&&(i.dataModelSelect==null?null:i.dataModelSelect.id)===e.id),o(3),T(e.title)}}function Fp(n,l){if(n&1){let e=w();a(0,"mat-tree-node",21)(1,"button",22)(2,"mat-icon",23),c(3),r()(),a(4,"span",20),v("click",function(){let t=d(e).$implicit,s=p();return m(s.onActionSelect(t))}),c(5),r()()}if(n&2){let e=l.$implicit,i=p(),t=D(10);H("ntk-tree-selected",(i.dataModelSelect==null?null:i.dataModelSelect.id)>0&&(i.dataModelSelect==null?null:i.dataModelSelect.id)===e.id),_("cdkTreeNodeTypeaheadLabel",e.title)("isExpanded",e.isExpanded??!1),o(),Be("type","button")("aria-label","Toggle "+e.title),o(2),C(" ",t.isExpanded(e)?"expand_more":"chevron_right"," "),o(2),T(e.title)}}var fo=class fo{constructor(l,e,i,t,s,M,u,x,q){this.cmsToastrService=l;this.coreEnumService=e;this.categoryService=i;this.dialog=t;this.tokenHelper=s;this.cmsStoreService=M;this.translate=u;this.cdr=x;this.publicHelper=q;this.constructorInfoAreaId=this.constructor.name;this.dataModelSelect=new Qt;this.dataModelResult=new j;this.filterModel=new Ie;this.dataSource=new yn;this.optionChange=new lt;this.unsubscribe=[];this.optionReload=()=>this.onActionButtonReload();this.hasChild=(l,e)=>!!e.children&&e.children.length>0;this.childrenAccessor=l=>l.children??[];this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(l){this.onActionSelectForce(l)}ngOnInit(){this.unsubscribe.push(this.cmsStoreService.getState(l=>l.tokenInfoStore).subscribe(l=>De(this,null,function*(){this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(l=>l.unsubscribe())}DataGetAll(){this.filterModel.rowPerPage=200,this.filterModel.accessLoad=!0;let l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(l,e,this.constructorInfoAreaId)}),this.categoryService.ServiceGetAll(this.filterModel).subscribe({next:e=>{e.isSuccess?(this.dataModelResult=e,this.dataSource.data=this.dataModelResult.listItems):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(l)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(l,!1)}})}onActionSelect(l){l&&this.dataModelSelect&&l.id==this.dataModelSelect.id?(this.dataModelSelect=null,this.optionChange.emit(null)):(this.dataModelSelect=l,this.optionChange.emit(this.dataModelSelect))}onActionButtonReload(){this.onActionSelect(null),this.dataModelSelect=new Qt,this.DataGetAll()}onActionSelectForce(l){}onActionAdd(){let l=0;this.dataModelSelect&&this.dataModelSelect.id>0&&(l=this.dataModelSelect.id);let e=new ci;e.disableClose=!0,e.autoFocus=!0,e.data={parentId:l},this.dialog.open(ra,e).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionEdit(){let l=0;if(this.dataModelSelect&&this.dataModelSelect.id>0&&(l=this.dataModelSelect.id),l===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorCategoryNotSelected").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(ca,{height:"90%",panelClass:e,enterAnimationDuration:le.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:le.cmsViewConfig.exitAnimationDuration,data:{id:l}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionDelete(){let l=0;if(this.dataModelSelect&&this.dataModelSelect.id>0&&(l=this.dataModelSelect.id),l===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorCategoryNotSelected").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(sa,{height:"90%",panelClass:e,enterAnimationDuration:le.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:le.cmsViewConfig.exitAnimationDuration,data:{id:l}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}};fo.\u0275fac=function(e){return new(e||fo)(I(G),I(ne),I(Ct),I(nt),I(tt),I(et),I(F),I(O),I(W))},fo.\u0275cmp=V({type:fo,selectors:[["app-linkmanagement-category-tree"]],inputs:{optionSelectForce:"optionSelectForce",optionReload:"optionReload"},outputs:{optionChange:"optionChange"},standalone:!1,decls:14,vars:14,consts:[["treeTagControl",""],[3,"optionListTitle","optionHeaderDisplay","optionActionMainDisplay","optionFooterDisplay"],["cms-tree-action",""],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],["cms-tree-body","",1,"loader-container"],[3,"optionsInfoAreaId"],[3,"dataSource","childrenAccessor"],["matTreeNodePadding","",3,"ntk-tree-selected",4,"matTreeNodeDef"],["matTreeNodePadding","","matTreeNodeToggle","","isExpandable","",3,"cdkTreeNodeTypeaheadLabel","isExpanded","ntk-tree-selected",4,"matTreeNodeDef","matTreeNodeDefWhen"],["cms-tree-footer",""],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[2,"font-size","20px","margin","-6px",3,"title"],["matTreeNodePadding",""],["matIconButton","","disabled",""],[3,"click"],["matTreeNodePadding","","matTreeNodeToggle","","isExpandable","",3,"cdkTreeNodeTypeaheadLabel","isExpanded"],["matIconButton","","matTreeNodeToggle",""],[1,"mat-icon-rtl-mirror"]],template:function(e,i){e&1&&(a(0,"app-cms-html-tree",1),f(1,"translate"),L(2,2),h(3,Bp,3,3,"button",3),h(4,Vp,3,3,"button",4),h(5,Pp,3,3,"button",5),h(6,Np,4,6,"button",6),A(),L(7,7),S(8,"app-progress-spinner",8),a(9,"mat-tree",9,0),B(11,Op,4,3,"mat-tree-node",10)(12,Fp,6,8,"mat-tree-node",11),r(),A(),de(13,12),r()),e&2&&(_("optionListTitle",g(1,12,"TABLE."+(i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.moduleEntityName)))("optionHeaderDisplay",!0)("optionActionMainDisplay",!0)("optionFooterDisplay",!1),o(3),b(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessAddRow?3:-1),o(),b(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessEditRow&&(i.dataModelSelect==null?null:i.dataModelSelect.id)>0?4:-1),o(),b(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessDeleteRow&&(i.dataModelSelect==null?null:i.dataModelSelect.id)>0?5:-1),o(),b(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessWatchRow?6:-1),o(2),_("optionsInfoAreaId",i.constructorInfoAreaId),o(),_("dataSource",i.dataSource)("childrenAccessor",i.childrenAccessor),o(3),_("matTreeNodeDefWhen",i.hasChild))},dependencies:[it,Ne,wn,Tn,kn,En,In,Q,Ln,P],encapsulation:2});var go=fo;function Gp(n,l){if(n&1){let e=w();a(0,"button",13),v("click",function(){d(e);let t=p();return m(t.onActionAdd())}),c(1),f(2,"translate"),r()}n&2&&(o(),C(" ",g(2,1,"ACTION.ADD")," "))}function Wp(n,l){if(n&1){let e=w();a(0,"button",14),v("click",function(){d(e);let t=p();return m(t.onActionEdit())}),c(1),f(2,"translate"),r()}n&2&&(o(),C(" ",g(2,1,"ACTION.EDIT")," "))}function Hp(n,l){if(n&1){let e=w();a(0,"button",15),v("click",function(){d(e);let t=p();return m(t.onActionDelete())}),c(1),f(2,"translate"),r()}n&2&&(o(),C(" ",g(2,1,"ACTION.DELETE")," "))}function qp(n,l){if(n&1){let e=w();a(0,"button",16),v("click",function(){d(e);let t=p();return m(t.onActionButtonReload())}),a(1,"mat-icon",17),f(2,"translate"),c(3,"refresh"),r()()}if(n&2){let e=p();o(),H("rotation360",e.publicHelper.processService.process.inRunArea[e.constructorInfoAreaId]),_("title",R(g(2,4,"ACTION.RELOAD")))}}function jp(n,l){if(n&1){let e=w();a(0,"mat-tree-node",18),S(1,"button",19),a(2,"span",20),v("click",function(){let t=d(e).$implicit,s=p();return m(s.onActionSelect(t))}),c(3),r()()}if(n&2){let e=l.$implicit,i=p();H("ntk-tree-selected",(i.dataModelSelect==null?null:i.dataModelSelect.id)>0&&(i.dataModelSelect==null?null:i.dataModelSelect.id)===e.id),o(3),T(e.title)}}function Up(n,l){if(n&1){let e=w();a(0,"mat-tree-node",21)(1,"button",22)(2,"mat-icon",23),c(3),r()(),a(4,"span",20),v("click",function(){let t=d(e).$implicit,s=p();return m(s.onActionSelect(t))}),c(5),r()()}if(n&2){let e=l.$implicit,i=p(),t=D(10);H("ntk-tree-selected",(i.dataModelSelect==null?null:i.dataModelSelect.id)>0&&(i.dataModelSelect==null?null:i.dataModelSelect.id)===e.id),_("cdkTreeNodeTypeaheadLabel",e.title)("isExpanded",e.isExpanded??!1),o(),Be("type","button")("aria-label","Toggle "+e.title),o(2),C(" ",t.isExpanded(e)?"expand_more":"chevron_right"," "),o(2),T(e.title)}}var _o=class _o{constructor(l,e,i,t,s,M,u,x,q){this.cmsToastrService=l;this.coreEnumService=e;this.categoryService=i;this.dialog=t;this.tokenHelper=s;this.cmsStoreService=M;this.translate=u;this.cdr=x;this.publicHelper=q;this.constructorInfoAreaId=this.constructor.name;this.dataModelSelect=new dt;this.dataModelResult=new j;this.filterModel=new Ie;this.dataSource=new yn;this.optionChange=new lt;this.unsubscribe=[];this.optionReload=()=>this.onActionButtonReload();this.hasChild=(l,e)=>!1;this.childrenAccessor=l=>[];this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(l){this.onActionSelectForce(l)}ngOnInit(){this.unsubscribe.push(this.cmsStoreService.getState(l=>l.tokenInfoStore).subscribe(l=>De(this,null,function*(){this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(l=>l.unsubscribe())}DataGetAll(){this.filterModel.rowPerPage=200,this.filterModel.accessLoad=!0;let l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(l,e,this.constructorInfoAreaId)}),this.categoryService.ServiceGetAll(this.filterModel).subscribe({next:e=>{e.isSuccess?(this.dataModelResult=e,this.dataSource.data=this.dataModelResult.listItems):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(l)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(l,!1)}})}onActionSelect(l){l&&this.dataModelSelect&&l.id==this.dataModelSelect.id?(this.dataModelSelect=null,this.optionChange.emit(null)):(this.dataModelSelect=l,this.optionChange.emit(this.dataModelSelect))}onActionButtonReload(){this.onActionSelect(null),this.dataModelSelect=new dt,this.DataGetAll()}onActionSelectForce(l){}onActionAdd(){let l=0;this.dataModelSelect&&this.dataModelSelect.id>0&&(l=this.dataModelSelect.id);let e=new ci;e.height="90%",e.disableClose=!0,e.autoFocus=!0,e.data={parentId:l},this.dialog.open(Yn,e).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionEdit(){let l=0;if(this.dataModelSelect&&this.dataModelSelect.id>0&&(l=this.dataModelSelect.id),l===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorCategoryNotSelected").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(to,{height:"90%",panelClass:e,enterAnimationDuration:le.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:le.cmsViewConfig.exitAnimationDuration,data:{id:l}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionDelete(){let l=0;if(this.dataModelSelect&&this.dataModelSelect.id>0&&(l=this.dataModelSelect.id),l===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorCategoryNotSelected").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open($n,{height:"90%",panelClass:e,enterAnimationDuration:le.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:le.cmsViewConfig.exitAnimationDuration,data:{id:l}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}};_o.\u0275fac=function(e){return new(e||_o)(I(G),I(ne),I(St),I(nt),I(tt),I(et),I(F),I(O),I(W))},_o.\u0275cmp=V({type:_o,selectors:[["app-linkmanagement-billboard-pattern-tree"]],inputs:{optionSelectForce:"optionSelectForce",optionReload:"optionReload"},outputs:{optionChange:"optionChange"},standalone:!1,decls:14,vars:14,consts:[["treeTagControl",""],[3,"optionListTitle","optionHeaderDisplay","optionActionMainDisplay","optionFooterDisplay"],["cms-tree-action",""],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],["cms-tree-body","",1,"loader-container"],[3,"optionsInfoAreaId"],[3,"dataSource","childrenAccessor"],["matTreeNodePadding","",3,"ntk-tree-selected",4,"matTreeNodeDef"],["matTreeNodePadding","","matTreeNodeToggle","","isExpandable","",3,"cdkTreeNodeTypeaheadLabel","isExpanded","ntk-tree-selected",4,"matTreeNodeDef","matTreeNodeDefWhen"],["cms-tree-footer",""],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[2,"font-size","20px","margin","-6px",3,"title"],["matTreeNodePadding",""],["matIconButton","","disabled",""],[3,"click"],["matTreeNodePadding","","matTreeNodeToggle","","isExpandable","",3,"cdkTreeNodeTypeaheadLabel","isExpanded"],["matIconButton","","matTreeNodeToggle",""],[1,"mat-icon-rtl-mirror"]],template:function(e,i){e&1&&(a(0,"app-cms-html-tree",1),f(1,"translate"),L(2,2),h(3,Gp,3,3,"button",3),h(4,Wp,3,3,"button",4),h(5,Hp,3,3,"button",5),h(6,qp,4,6,"button",6),A(),L(7,7),S(8,"app-progress-spinner",8),a(9,"mat-tree",9,0),B(11,jp,4,3,"mat-tree-node",10)(12,Up,6,8,"mat-tree-node",11),r(),A(),de(13,12),r()),e&2&&(_("optionListTitle",g(1,12,"TABLE."+(i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.moduleEntityName)))("optionHeaderDisplay",!0)("optionActionMainDisplay",!0)("optionFooterDisplay",!1),o(3),b(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessAddRow?3:-1),o(),b(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessEditRow&&(i.dataModelSelect==null?null:i.dataModelSelect.id)>0?4:-1),o(),b(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessDeleteRow&&(i.dataModelSelect==null?null:i.dataModelSelect.id)>0?5:-1),o(),b(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessWatchRow?6:-1),o(2),_("optionsInfoAreaId",i.constructorInfoAreaId),o(),_("dataSource",i.dataSource)("childrenAccessor",i.childrenAccessor),o(3),_("matTreeNodeDefWhen",i.hasChild))},dependencies:[it,Ne,wn,Tn,kn,En,In,Q,Ln,P],encapsulation:2});var Mo=_o;var Qp=()=>[5,10,20,100],zp=n=>({display:n});function Kp(n,l){if(n&1){let e=w();a(0,"div",16)(1,"a",41),v("click",function(){d(e);let t=p();return m(t.onActionButtonNewRow())}),S(2,"i",42)(3,"br"),r(),a(4,"p",20),c(5),f(6,"translate"),r()()}n&2&&(o(5),C(" ",g(6,1,"ACTION.ADD")," "))}function Jp(n,l){if(n&1){let e=w();a(0,"div",16)(1,"a",9),v("click",function(){d(e);let t=p();return m(t.onActionButtonLog())}),S(2,"i",43)(3,"br"),r(),a(4,"p",20),c(5),f(6,"translate"),r()()}n&2&&(o(5),C(" ",g(6,1,"ACTION.REPORTS")," "))}function Xp(n,l){if(n&1){let e=w();a(0,"div",16)(1,"a",44),v("click",function(){d(e);let t=p();return m(t.onActionButtonEditRow(t.tableRowSelected))}),S(2,"i",45)(3,"br"),r(),a(4,"p",20),c(5),f(6,"translate"),r()()}n&2&&(o(5),C(" ",g(6,1,"ACTION.EDIT")," "))}function Yp(n,l){if(n&1){let e=w();a(0,"div",16)(1,"a",46),v("click",function(){d(e);let t=p();return m(t.onActionButtonDeleteRow(t.tableRowSelected))}),S(2,"i",47)(3,"br"),r(),a(4,"p",20),c(5),f(6,"translate"),r()()}n&2&&(o(5),C(" ",g(6,1,"ACTION.DELETE")," "))}function Zp(n,l){n&1&&(a(0,"mat-header-cell",48),c(1),f(2,"translate"),r()),n&2&&(o(),C(" ",g(2,1,"TITLE.PICTURE")," "))}function $p(n,l){if(n&1&&(S(0,"img",49),f(1,"cmsthumbnail")),n&2){let e=p().$implicit;_("src",R(g(1,2,e.linkMainImageIdSrc)),Z)}}function e0(n,l){if(n&1&&(a(0,"mat-cell"),h(1,$p,2,4,"img",49),r()),n&2){let e=l.$implicit;o(),b((e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0?1:-1)}}function t0(n,l){if(n&1&&(a(0,"mat-header-cell",48),c(1),r()),n&2){let e=p();o(),C(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function i0(n,l){if(n&1&&(a(0,"mat-cell"),c(1),r()),n&2){let e=l.$implicit;o(),C(" ",e.id," ")}}function n0(n,l){if(n&1&&(a(0,"mat-header-cell",48),c(1),r()),n&2){let e=p();o(),C(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function o0(n,l){if(n&1&&(a(0,"mat-cell"),c(1),f(2,"cmssiteinfo"),f(3,"async"),r()),n&2){let e=l.$implicit;o(),C(" ",g(3,3,g(2,1,e.linkSiteId))," ")}}function a0(n,l){if(n&1&&(a(0,"mat-header-cell",48),c(1),r()),n&2){let e=p();o(),C(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function r0(n,l){if(n&1&&S(0,"select",51),n&2){let e=p().$implicit,i=p();_("contentService",i.contentService)("row",e)("ngStyle",at(3,zp,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function l0(n,l){if(n&1&&(a(0,"mat-cell"),S(1,"i",50),f(2,"statusIconClass"),h(3,r0,1,5,"select",51),r()),n&2){let e=l.$implicit,i=p();o(),_("ngClass",g(2,2,e.recordStatus)),o(2),b(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessEditRow?3:-1)}}function s0(n,l){if(n&1&&(a(0,"mat-header-cell",48),c(1),r()),n&2){let e=p();o(),C(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," ")}}function c0(n,l){if(n&1&&(a(0,"mat-cell"),c(1),r()),n&2){let e=l.$implicit;o(),C(" ",e.title," ")}}function d0(n,l){if(n&1&&(a(0,"mat-header-cell",48),c(1),r()),n&2){let e=p();o(),C(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function m0(n,l){if(n&1&&(a(0,"mat-cell"),c(1),f(2,"localeDate"),r()),n&2){let e=l.$implicit;o(),C(" ",g(2,1,e.createdDate)," ")}}function p0(n,l){if(n&1&&(a(0,"mat-header-cell",48),c(1),r()),n&2){let e=p();o(),C(" ",e.fieldsInfo.updatedDate==null?null:e.fieldsInfo.updatedDate.fieldTitle," ")}}function u0(n,l){if(n&1&&(a(0,"mat-cell"),c(1),f(2,"localeDate"),r()),n&2){let e=l.$implicit;o(),C(" ",g(2,1,e.updatedDate)," ")}}function f0(n,l){n&1&&(a(0,"mat-header-cell"),c(1),f(2,"translate"),r()),n&2&&(o(),C(" ",g(2,1,"TITLE.OPTION")," "))}function g0(n,l){if(n&1&&(a(0,"mat-cell",52)(1,"button",53)(2,"mat-icon"),c(3,"more_vert"),r()(),S(4,"mat-menu",null,2),r()),n&2){let e=D(5);o(),_("matMenuTriggerFor",e)}}function _0(n,l){n&1&&S(0,"mat-header-row")}function M0(n,l){if(n&1){let e=w();a(0,"mat-row",54),v("click",function(t){let s=d(e).$implicit,M=p();return m(M.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=d(e).$implicit,M=p();return m(M.onActionTableRowSelect(s,t))}),r()}if(n&2){let e=l.$implicit,i=p();H("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var So=class So extends Nt{constructor(e,i,t,s,M,u,x,q,K,ve,Re){super(e,new Ii,ve,u,q);this.contentService=e;this.cmsToastrService=i;this.router=t;this.activatedRoute=s;this.cmsStoreService=M;this.tokenHelper=u;this.cdr=x;this.translate=q;this.pageInfo=K;this.publicHelper=ve;this.dialog=Re;this.requestLinkBillboardPatternId=0;this.constructorInfoAreaId=this.constructor.name;this.filteModelContent=new Go;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["linkMainImageIdSrc","id","recordStatus","createdDate","updatedDate"];this.tabledisplayedColumnsMobileSource=["linkMainImageIdSrc","id","recordStatus","createdDate","updatedDate"];this.unsubscribe=[];if(this.publicHelper.processService.cdr=this.cdr,this.requestLinkBillboardPatternId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkBillboardPatternId")),this.optionsSearch.parentMethods={onSubmit:xe=>this.onSubmitOptionsSearch(xe)},this.filteModelContent.sortColumn="id",this.filteModelContent.sortType=ge.Descending,this.requestLinkBillboardPatternId>0){let xe=new z;xe.propertyName="LinkBillboardPatternId",xe.value=this.requestLinkBillboardPatternId,this.filteModelContent.filters.push(xe)}this.optionsSearch.data.filterModelContent=this.filteModelContent,this.optionsSearch.data.filterActionSearchRecordStatusShow=!0,this.tokenHelper.isAdminSite?(this.optionsSearch.data.filterActionSearchLinkUserIdShow=!0,this.optionsSearch.data.filterActionSearchLinkSiteIdShow=!0):(this.optionsSearch.data.filterActionSearchLinkSiteIdShow=!1,this.optionsSearch.data.filterActionSearchLinkUserIdShow=!1)}filterModelCompiler(e){let i=JSON.parse(JSON.stringify(e));return this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),i}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>De(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Ii);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=this.filterModelCompiler(this.filteModelContent);if(this.filteModelContent.filterActionSearchRecordStatus>0){let t=new z;t.propertyName="recordStatus",t.value=this.filteModelContent.filterActionSearchRecordStatus,i.filters.push(t)}if(this.filteModelContent.filterActionSearchLinkSiteId>0){let t=new z;t.propertyName="linkSiteId",t.value=this.filteModelContent.filterActionSearchLinkSiteId,i.filters.push(t)}if(this.filteModelContent.filterActionSearchLinkUserId>0){let t=new z;t.propertyName="linkUserId",t.value=this.filteModelContent.filterActionSearchLinkUserId,i.filters.push(t)}if(this.categoryModelSelected&&this.categoryModelSelected.id>0){let t=new z;t.propertyName="linkBillboardPatternId",t.value=this.categoryModelSelected.id,i.filters.push(t)}if(this.categoryPatternModelSelected&&this.categoryPatternModelSelected.id>0){let t=new z;t.propertyName="billboardCategories",t.propertyAnyName="linkCategoryId",t.value=this.categoryPatternModelSelected.id,i.filters.push(t)}this.contentService.setAccessLoad(),this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),t.isSuccess?(this.applyDataGetAllResult(t),this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=ge.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=ge.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=ge.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionSelectorSelectPattern(e){var i=this.filteModelContent.sortColumn,t=this.filteModelContent.sortType;this.filteModelContent=new Go,this.filteModelContent.sortColumn=i,this.filteModelContent.sortType=t,this.categoryPatternModelSelected=e,this.DataGetAll()}onActionSelectorSelectCategory(e){var i=this.filteModelContent.sortColumn,t=this.filteModelContent.sortType;this.filteModelContent=new Go,this.filteModelContent.sortColumn=i,this.filteModelContent.sortType=t,this.categoryModelSelected=e,this.DataGetAll()}onActionButtonNewRow(){if(this.categoryPatternModelSelected==null||this.categoryPatternModelSelected.id===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorCategoryNotSelected").subscribe(e=>{this.cmsToastrService.typeErrorSelected(e)});return}if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}this.router.navigate(["/linkmanagement/billboard/add",this.categoryPatternModelSelected.id])}onActionButtonEditRow(e=this.tableRowSelected){if(!(e?.id>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}this.router.navigate(["/linkmanagement/billboard/edit",this.tableRowSelected.id])}onActionButtonDeleteRow(e=this.tableRowSelected){if(!(e?.id>0)){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(s=>{this.cmsToastrService.typeErrorSelected(s)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(aa,{height:"90%",panelClass:i,enterAnimationDuration:le.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:le.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate&&this.DataGetAll()})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(x=>{i.set(x,0)}),this.translate.get("MESSAGE.All").subscribe(x=>{i.set(x,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(x=>{this.publicHelper.processService.processStart(t,x,this.constructorInfoAreaId)});let s=this.filterModelCompiler(this.filteModelContent);if(this.filteModelContent.filterActionSearchRecordStatus>0){let x=new z;x.propertyName="recordStatus",x.value=this.filteModelContent.filterActionSearchRecordStatus,s.filters.push(x)}if(this.filteModelContent.filterActionSearchLinkSiteId>0){let x=new z;x.propertyName="linkSiteId",x.value=this.filteModelContent.filterActionSearchLinkSiteId,s.filters.push(x)}if(this.filteModelContent.filterActionSearchLinkUserId>0){let x=new z;x.propertyName="linkUserId",x.value=this.filteModelContent.filterActionSearchLinkUserId,s.filters.push(x)}this.contentService.ServiceGetCount(s).subscribe({next:x=>{x.isSuccess?(this.translate.get("MESSAGE.All").subscribe(q=>{i.set(q,x.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(x.errorMessage),this.publicHelper.processService.processStop(t)},error:x=>{this.cmsToastrService.typeError(x),this.publicHelper.processService.processStop(t,!1)}});let M=this.filterModelCompiler(this.filteModelContent);if(this.filteModelContent.filterActionSearchRecordStatus>0){let x=new z;x.propertyName="recordStatus",x.value=this.filteModelContent.filterActionSearchRecordStatus,M.filters.push(x)}if(this.filteModelContent.filterActionSearchLinkSiteId>0){let x=new z;x.propertyName="linkSiteId",x.value=this.filteModelContent.filterActionSearchLinkSiteId,M.filters.push(x)}if(this.filteModelContent.filterActionSearchLinkUserId>0){let x=new z;x.propertyName="linkUserId",x.value=this.filteModelContent.filterActionSearchLinkUserId,M.filters.push(x)}let u=new z;u.propertyName="recordStatus",u.value=gt.Available,M.filters.push(u),this.contentService.ServiceGetCount(M).subscribe({next:x=>{x.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(q=>{i.set(q,x.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(x.errorMessage),this.publicHelper.processService.processStop(t)},error:x=>{this.cmsToastrService.typeError(x),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionButtonLog(e=this.tableRowSelected){if(!(e?.id>0)){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.router.navigate(["/linkmanagement/target-billboard-log/LinkManagementBillboardId",e.id])}};So.\u0275fac=function(i){return new(i||So)(I(_i),I(G),I(Ze),I(st),I(et),I(tt),I(O),I(F),I(Bt),I(W),I(nt))},So.\u0275cmp=V({type:So,selectors:[["app-linkmanagement-billboard-list"]],standalone:!1,features:[U],decls:68,vars:34,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],[3,"optionChange"],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-memo","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","linkMainImageIdSrc"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","id"],["matColumnDef","linkSiteId"],["matColumnDef","recordStatus"],["matColumnDef","title"],["matColumnDef","createdDate"],["matColumnDef","updatedDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-file-chart-column","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(i,t){if(i&1){let s=w();a(0,"app-cms-html-list",3),y("optionActionGuideNoticeDisplayChange",function(u){return d(s),k(t.viewGuideNotice,u)||(t.viewGuideNotice=u),m(u)}),v("optionOnActionButtonMemoRow",function(){return d(s),m(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return d(s),m(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return d(s),m(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return d(s),m(t.onActionButtonPrintRow())}),L(1,4),a(2,"app-linkmanagement-billboard-pattern-tree",5),v("optionChange",function(u){return d(s),m(t.onActionSelectorSelectPattern(u))}),r(),a(3,"app-linkmanagement-category-tree",5),v("optionChange",function(u){return d(s),m(t.onActionSelectorSelectCategory(u))}),r(),A(),de(4,6)(5,7),L(6,8),a(7,"a",9),v("click",function(){return d(s),m(t.viewGuideNotice=!t.viewGuideNotice)}),S(8,"i",10),r(),a(9,"a",9),v("click",function(){return d(s),m(t.onActionButtonReload())}),S(10,"i",11),r(),A(),L(11,12),a(12,"a",13),v("click",function(){return d(s),m(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),S(13,"mat-slide-toggle",14),c(14),f(15,"translate"),r(),a(16,"a",13),v("click",function(){return d(s),m(t.onActionButtonStatist())}),S(17,"mat-slide-toggle",14),c(18),f(19,"translate"),r(),A(),L(20,15),h(21,Kp,7,3,"div",16),h(22,Jp,7,3,"div",16),A(),L(23,17),h(24,Xp,7,3,"div",16),h(25,Yp,7,3,"div",16),a(26,"div",16)(27,"a",18),v("click",function(){return d(s),m(t.onActionButtonLog(t.tableRowSelected))}),S(28,"i",19)(29,"br"),r(),a(30,"p",20),c(31),f(32,"translate"),r()(),A(),L(33,21),a(34,"app-cms-search-list",22),y("optionsChange",function(u){return d(s),k(t.optionsSearch,u)||(t.optionsSearch=u),m(u)}),r(),a(35,"app-cms-statist-list",22),y("optionsChange",function(u){return d(s),k(t.optionsStatist,u)||(t.optionsStatist=u),m(u)}),r(),A(),L(36,23),a(37,"mat-table",24,0),v("matSortChange",function(){d(s);let u=D(38);return m(t.onTableSortData(u))}),L(39,25),B(40,Zp,3,3,"mat-header-cell",26)(41,e0,2,1,"mat-cell",27),A(),L(42,28),B(43,t0,2,1,"mat-header-cell",26)(44,i0,2,1,"mat-cell",27),A(),L(45,29),B(46,n0,2,1,"mat-header-cell",26)(47,o0,4,5,"mat-cell",27),A(),L(48,30),B(49,a0,2,1,"mat-header-cell",26)(50,l0,4,4,"mat-cell",27),A(),L(51,31),B(52,s0,2,1,"mat-header-cell",26)(53,c0,2,1,"mat-cell",27),A(),L(54,32),B(55,d0,2,1,"mat-header-cell",26)(56,m0,3,3,"mat-cell",27),A(),L(57,33),B(58,p0,2,1,"mat-header-cell",26)(59,u0,3,3,"mat-cell",27),A(),L(60,34),B(61,f0,3,3,"mat-header-cell",35)(62,g0,6,1,"mat-cell",36),A(),B(63,_0,1,0,"mat-header-row",37)(64,M0,1,2,"mat-row",38),r(),A(),L(65,39),a(66,"mat-paginator",40,1),v("page",function(u){return d(s),m(t.onTablePageingData(u))}),r(),A(),r()}i&2&&(_("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),E("optionActionGuideNoticeDisplay",t.viewGuideNotice),_("optionTreeDisplay",!0)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",(t.tableRowSelected==null||t.tableRowSelected.title==null?null:t.tableRowSelected.title.length)>0?t.tableRowSelected==null?null:t.tableRowSelected.title:t.tableRowSelected==null?null:t.tableRowSelected.id),o(10),H("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(3),_("checked",t.optionsSearch.data.show),o(),C("",g(15,27,"ACTION.SEARCH")," "),o(3),_("checked",t.optionsStatist.data.show),o(),C("",g(19,29,"ACTION.STATIST")," "),o(3),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessAddRow?21:-1),o(),b((t.tableRowSelected==null?null:t.tableRowSelected.id)>0?22:-1),o(2),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?24:-1),o(),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?25:-1),o(6),C(" ",g(32,31,"ACTION.LOG")," "),o(3),E("options",t.optionsSearch),o(),E("options",t.optionsStatist),o(2),_("dataSource",t.tableSource),o(26),_("matHeaderRowDef",t.tabledisplayedColumns),o(),_("matRowDefColumns",t.tabledisplayedColumns),o(2),_("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",se(33,Qp)))},dependencies:[Pe,ti,it,Ne,N,ht,bt,Oe,Fe,vt,It,wt,Et,At,kt,Tt,Rt,yt,Lt,xt,Dt,Ge,We,Ot,He,Qe,go,Mo,Ye,P,Ft,be,Gt,qe],encapsulation:2});var cn=So;var S0=()=>[5,10,20,100],C0=(n,l)=>l.id;function h0(n,l){if(n&1){let e=w();a(0,"div",16)(1,"a",25),v("click",function(){d(e);let t=p();return m(t.onActionButtonNewRow())}),S(2,"i",26)(3,"br"),r(),a(4,"p",27),c(5),f(6,"translate"),r()()}n&2&&(o(5),T(g(6,1,"ACTION.ADD")))}function b0(n,l){if(n&1){let e=w();a(0,"div",16)(1,"a",28),v("click",function(){d(e);let t=p();return m(t.onActionButtonEditRow(t.tableRowSelected))}),S(2,"i",29)(3,"br"),r(),a(4,"p",27),c(5),f(6,"translate"),r()()}n&2&&(o(5),T(g(6,1,"ACTION.EDIT")))}function v0(n,l){if(n&1){let e=w();a(0,"div",16)(1,"a",30),v("click",function(){d(e);let t=p();return m(t.onActionButtonDeleteRow(t.tableRowSelected))}),S(2,"i",31)(3,"br"),r(),a(4,"p",27),c(5),f(6,"translate"),r()()}n&2&&(o(5),T(g(6,1,"ACTION.DELETE")))}function I0(n,l){if(n&1){let e=w();a(0,"div",16)(1,"a",32),v("click",function(){d(e);let t=p();return m(t.onActionButtonViewRow(t.tableRowSelected))}),S(2,"i",33)(3,"br"),r(),a(4,"p",27),c(5),f(6,"translate"),r()()}n&2&&(o(5),T(g(6,1,"ACTION.VIEW")))}function w0(n,l){if(n&1&&S(0,"select",43),n&2){let e=p(2).$implicit,i=p(2);_("contentService",i.contentService)("row",e)}}function T0(n,l){if(n&1&&(a(0,"div",40),S(1,"i",42),f(2,"statusIconClass"),h(3,w0,1,2,"select",43),r()),n&2){let e=p().$implicit,i=p(2);o(),_("ngClass",g(2,2,e.recordStatus)),o(2),b(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessEditRow&&e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?3:-1)}}function E0(n,l){if(n&1){let e=w();a(0,"div",41)(1,"div",40)(2,"span",44),v("click",function(t){return d(e),p(3).onActionCopied(),m(t.stopPropagation())}),S(3,"i",45),r(),c(4),r()()}if(n&2){let e=p().$implicit;o(2),_("cdkCopyToClipboard",e.id.toString()),o(2),C(" ID: ",e.id," ")}}function k0(n,l){if(n&1){let e=w();a(0,"div",35),v("click",function(t){let s=d(e).$implicit,M=p(2);return m(M.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=d(e).$implicit,M=p(2);return m(M.onActionTableRowSelect(s,t))})("mouseenter",function(){let t=d(e).$implicit,s=p(2);return m(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=d(e).$implicit,s=p(2);return m(s.onActionTableRowMouseLeave(t))}),a(1,"div",36),S(2,"i",37),f(3,"statusIconClass"),r(),a(4,"div",38)(5,"div",39),c(6),r(),h(7,T0,4,4,"div",40),h(8,E0,5,2,"div",41),r()()}if(n&2){let e=l.$implicit,i=p(2);H("selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)),Be("aria-label",e.title||e.id),o(2),_("ngClass",g(3,7,e.recordStatus)),o(4),T(e.title||"ID: "+e.id),o(),b(e.recordStatus!==void 0?7:-1),o(),b(i.getRowExpanded(e)?8:-1)}}function y0(n,l){if(n&1&&(a(0,"div",21),me(1,k0,9,9,"div",34,C0),r()),n&2){let e=p();o(),pe(e.dataModelResult.listItems)}}function L0(n,l){n&1&&(a(0,"div",22),c(1),f(2,"translate"),r()),n&2&&(o(),T(g(2,1,"MESSAGE.NoRecord")))}var dn=class dn extends cn{};dn.\u0275fac=(()=>{let l;return function(i){return(l||(l=_t(dn)))(i||dn)}})(),dn.\u0275cmp=V({type:dn,selectors:[["app-linkmanagement-billboard-list-mobile"]],standalone:!1,features:[U],decls:37,vars:31,consts:[["paginator",""],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionOnScrollNearBottom","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplay","optionActionRowDisplayMenu","optionActionRowDisplayMenuAct","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-maximize","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-minimize","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],[1,"cms-m-list"],[1,"cms-m-empty"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],["role","button","tabindex","0",1,"cms-m-list-item",3,"selected"],["role","button","tabindex","0",1,"cms-m-list-item",3,"click","rtclick","mouseenter","mouseleave"],[1,"cms-m-list-item-image-placeholder"],["aria-hidden","true",3,"ngClass"],[1,"cms-m-list-item-content"],[1,"cms-m-list-item-title"],[1,"cms-m-list-item-subtitle"],[1,"cms-m-list-item-expanded"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none","margin-left","8px",3,"contentService","row"],[1,"navi-icon","pointer",3,"click","cdkCopyToClipboard"],[1,"flaticon2-copy"]],template:function(e,i){if(e&1){let t=w();a(0,"app-cms-html-list-mobile",1),y("optionActionGuideNoticeDisplayChange",function(M){return d(t),k(i.viewGuideNotice,M)||(i.viewGuideNotice=M),m(M)}),v("optionOnActionButtonMemoRow",function(){return d(t),m(i.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return d(t),m(i.onActionButtonMemo())})("optionOnActionButtonExport",function(){return d(t),m(i.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return d(t),m(i.onActionButtonPrintRow())})("optionOnScrollNearBottom",function(){return d(t),m(i.onActionLoadNextPage())}),de(1,2)(2,3)(3,4),L(4,5),a(5,"a",6),v("click",function(){return d(t),m(i.viewGuideNotice=!i.viewGuideNotice)}),S(6,"i",7),r(),a(7,"a",6),v("click",function(){return d(t),m(i.onActionButtonReload())}),S(8,"i",8),r(),a(9,"a",9),v("click",function(){return d(t),m(i.onActionGridExpandRows(!0))}),S(10,"i",10),r(),a(11,"a",9),v("click",function(){return d(t),m(i.onActionGridExpandRows(!1))}),S(12,"i",11),r(),A(),L(13,12),a(14,"a",13),v("click",function(){return d(t),m(i.optionsSearch.data.show=!i.optionsSearch.data.show)}),S(15,"mat-slide-toggle",14),c(16),f(17,"translate"),r(),a(18,"a",13),v("click",function(){return d(t),m(i.onActionButtonStatist())}),S(19,"mat-slide-toggle",14),c(20),f(21,"translate"),r(),A(),L(22,15),h(23,h0,7,3,"div",16),A(),L(24,17),h(25,b0,7,3,"div",16),h(26,v0,7,3,"div",16),h(27,I0,7,3,"div",16),A(),L(28,18),a(29,"app-cms-search-list",19),y("optionsChange",function(M){return d(t),k(i.optionsSearch,M)||(i.optionsSearch=M),m(M)}),r(),a(30,"app-cms-statist-list",19),y("optionsChange",function(M){return d(t),k(i.optionsStatist,M)||(i.optionsStatist=M),m(M)}),r(),A(),L(31,20),h(32,y0,3,0,"div",21)(33,L0,3,3,"div",22),A(),L(34,23),a(35,"mat-paginator",24,0),v("page",function(){return d(t),m(i.onTablePageingData())}),r(),A(),r()}e&2&&(_("optionsListInfoAreaId",i.constructorInfoAreaId)("optionGuideNoticeKey","link-management.billboard.list"),E("optionActionGuideNoticeDisplay",i.viewGuideNotice),_("optionTreeDisplay",!1)("optionActionRowId",i.tableRowSelected==null?null:i.tableRowSelected.id)("optionActionRowDisplay",(i.tableRowSelected==null||i.tableRowSelected.id==null?null:i.tableRowSelected.id.length)>0)("optionActionRowDisplayMenu",i.tableRowSelect2Click)("optionActionRowDisplayMenuAct",i.tableRowSelectActionMenuClick)("optionSelectRowItemTitle",(i.tableRowSelected==null?null:i.tableRowSelected.title)||(i.tableRowSelected==null?null:i.tableRowSelected.id)),o(8),H("rotation360",i.publicHelper.processService.process.inRunArea[i.constructorInfoAreaId]),o(7),_("checked",i.optionsSearch.data.show),o(),C(" ",g(17,26,"ACTION.SEARCH")),o(3),_("checked",i.optionsStatist.data.show),o(),C(" ",g(21,28,"ACTION.STATIST")),o(3),b(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessAddRow?23:-1),o(2),b(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessEditRow&&(i.tableRowSelected==null||i.tableRowSelected.id==null?null:i.tableRowSelected.id.length)>0?25:-1),o(),b(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessDeleteRow&&(i.tableRowSelected==null||i.tableRowSelected.id==null?null:i.tableRowSelected.id.length)>0?26:-1),o(),b(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessWatchRow&&(i.tableRowSelected==null||i.tableRowSelected.id==null?null:i.tableRowSelected.id.length)>0?27:-1),o(2),E("options",i.optionsSearch),o(),E("options",i.optionsStatist),o(2),b(!(i.dataModelResult==null||i.dataModelResult.listItems==null)&&i.dataModelResult.listItems.length?32:33),o(3),_("length",i.dataModelResult.totalRowCount)("pageIndex",i.dataModelResult.currentPageNumber-1)("pageSize",i.dataModelResult.rowPerPage)("pageSizeOptions",se(30,S0)))},dependencies:[Pe,N,Oe,Fe,$e,Ge,We,Wt,He,Qe,P,qe],encapsulation:2});var Bo=dn;var R0=["vform"];function x0(n,l){if(n&1){let e=w();a(0,"app-cms-enum-record-status-selector",21),y("modelChange",function(t){d(e);let s=p();return k(s.dataModel.recordStatus,t)||(s.dataModel.recordStatus=t),m(t)}),r()}if(n&2){let e=p();E("model",e.dataModel.recordStatus),_("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function D0(n,l){if(n&1){let e=w();a(0,"div",12)(1,"div",22)(2,"h5",23),c(3),r()(),a(4,"div",24)(5,"div",25)(6,"input",26),y("ngModelChange",function(t){d(e);let s=p();return k(s.dataModel.isInBlackList,t)||(s.dataModel.isInBlackList=t),m(t)}),r(),S(7,"label",27),r()()()}if(n&2){let e=p();o(3),C(" ",e.fieldsInfo.isInBlackList==null?null:e.fieldsInfo.isInBlackList.fieldTitle," "),o(3),E("ngModel",e.dataModel.isInBlackList)}}function B0(n,l){if(n&1&&(a(0,"mat-error"),c(1),a(2,"strong"),c(3),f(4,"translate"),r()()),n&2){let e=p(2);o(),C(" ",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle," is "),o(2),T(g(4,2,"MESSAGE.required"))}}function V0(n,l){if(n&1){let e=w();a(0,"div",13)(1,"label",28),c(2),r(),a(3,"textarea",29,3),y("ngModelChange",function(t){d(e);let s=p();return k(s.dataModel.description,t)||(s.dataModel.description=t),m(t)}),c(5,"            "),r(),a(6,"em"),c(7),r(),h(8,B0,5,4,"mat-error"),r()}if(n&2){let e=D(4),i=p();o(2),T(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle),o(),_("placeholder",R(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle)),E("ngModel",i.dataModel.description),o(4),C("",e.value.length," / 500"),o(),b(e.errors!=null&&e.errors.required?8:-1)}}function P0(n,l){n&1&&S(0,"i",16)}function N0(n,l){n&1&&S(0,"i",17)}function O0(n,l){n&1&&(a(0,"mat-error"),c(1," CurrentDebtor is "),a(2,"strong"),c(3),f(4,"translate"),r()()),n&2&&(o(3),T(g(4,1,"MESSAGE.required")))}function F0(n,l){n&1&&S(0,"i",16)}function G0(n,l){n&1&&S(0,"i",17)}function W0(n,l){n&1&&(a(0,"mat-error"),c(1," CurrentCreditor is "),a(2,"strong"),c(3),f(4,"translate"),r()()),n&2&&(o(3),T(g(4,1,"MESSAGE.required")))}function H0(n,l){if(n&1){let e=w();a(0,"div",20)(1,"button",30),v("click",function(){d(e);let t=p();return m(t.onFormCancel())}),S(2,"i",31),c(3),f(4,"translate"),r(),a(5,"button",32),S(6,"i",33),c(7),f(8,"translate"),r()()}if(n&2){p();let e=D(10);o(3),C(" ",g(4,3,"ACTION.CANCEL")," "),o(2),_("disabled",!e.form.valid),o(2),C(" ",g(8,5,"ACTION.SAVE")," ")}}var Co=class Co extends Pt{constructor(e,i,t,s,M,u,x,q){super(s,new Ut,u,q);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.categoryService=s;this.cmsToastrService=M;this.publicHelper=u;this.cdr=x;this.translate=q;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new j;this.dataModel=new Ut;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.translate.get("TITLE.Register_New_Categories").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess()}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.categoryService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorCmsUser(e){if(!e||!e.id||e.id<=0){this.translate.get("MESSAGE.Information_user_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkExternalCmsUserId=e.id}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Co.\u0275fac=function(i){return new(i||Co)(I(fe),I(ue),I(ne),I(oi),I(G),I(W),I(O),I(F))},Co.\u0275cmp=V({type:Co,selectors:[["app-linkmanagement-member-add"]],viewQuery:function(i,t){if(i&1&&ee(R0,5),i&2){let s;te(s=ie())&&(t.formGroup=s.first)}},standalone:!1,features:[U],decls:35,vars:33,consts:[["vform","ngForm"],["CurrentDebtor",""],["CurrentCreditor",""],["Description",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],[1,"d-flex","mb-3"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.currentDebtor",1,"color-highlight"],["matInput","","type","number","name","dataModel.currentDebtor","minlength","0","required","","id","dataModel.currentDebtor",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.currentCreditor",1,"color-highlight"],["matInput","","type","number","name","dataModel.currentCreditor","minlength","0","required","","id","dataModel.currentCreditor",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"form-actions"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"pt-1"],["data-trigger-switch","dataModel.isInBlackList",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.isInBlackList","name","dataModel.isInBlackList",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.isInBlackList",1,"custom-control-label"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=w();a(0,"div",4),S(1,"app-progress-spinner",5),a(2,"div",6)(3,"p",7),c(4),r(),a(5,"p"),c(6),f(7,"translate"),r(),S(8,"app-cms-form-result-message",8),a(9,"form",9,0),v("ngSubmit",function(){return d(s),m(t.onFormSubmit())}),h(11,x0,1,5,"app-cms-enum-record-status-selector",10),a(12,"app-cms-user-selector",11),f(13,"translate"),v("optionChange",function(u){return d(s),m(t.onActionSelectorCmsUser(u))}),r(),h(14,D0,8,2,"div",12),h(15,V0,9,6,"div",13),a(16,"div",13)(17,"label",14),c(18),r(),a(19,"input",15,1),f(21,"translate"),y("ngModelChange",function(u){return d(s),k(t.dataModel.currentDebtor,u)||(t.dataModel.currentDebtor=u),m(u)}),r(),h(22,P0,1,0,"i",16),h(23,N0,1,0,"i",17),h(24,O0,5,3,"mat-error"),r(),a(25,"div",13)(26,"label",18),c(27),r(),a(28,"input",19,2),f(30,"translate"),y("ngModelChange",function(u){return d(s),k(t.dataModel.currentCreditor,u)||(t.dataModel.currentCreditor=u),m(u)}),r(),h(31,F0,1,0,"i",16),h(32,G0,1,0,"i",17),h(33,W0,5,3,"mat-error"),r(),h(34,H0,9,7,"div",20),r()()()}if(i&2){let s=D(20),M=D(29);o(),_("optionsInfoAreaId",t.constructorInfoAreaId),o(3),C(" ",t.formInfo.formTitle," "),o(2),C(" ",g(7,25,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),_("formInfo",t.formInfo),o(3),b(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?11:-1),o(),_("optionDisabled",!(t.fieldsInfo.linkExternalCmsUserId!=null&&t.fieldsInfo.linkExternalCmsUserId.accessAddField))("optionSelectForce",t.dataModel.linkExternalCmsUserId)("optionPlaceholder",g(13,27,"TITLE.Account")),o(2),b(t.fieldsInfo.isInBlackList!=null&&t.fieldsInfo.isInBlackList.accessWatchField?14:-1),o(),b(t.fieldsInfo.description!=null&&t.fieldsInfo.description.accessWatchField?15:-1),o(3),T(t.fieldsInfo.currentDebtor==null?null:t.fieldsInfo.currentDebtor.fieldTitle),o(),_("placeholder",R(g(21,29,"TITLE.Current_Credit_Of_Debtor"))),E("ngModel",t.dataModel.currentDebtor),o(3),b(s.value?-1:22),o(),b(s.value?23:-1),o(),b(s.errors!=null&&s.errors.required?24:-1),o(3),T(t.fieldsInfo.currentCreditor==null?null:t.fieldsInfo.currentCreditor.fieldTitle),o(),_("placeholder",R(g(30,31,"TITLE.Current_Credit_Of_Creditor"))),E("ngModel",t.dataModel.currentCreditor),o(3),b(M.value?-1:31),o(),b(M.value?32:-1),o(),b(M.errors!=null&&M.errors.required?33:-1),o(),b(t.formInfo.submitButtonEnabled?34:-1)}},dependencies:[ke,J,Ke,ai,X,Te,Y,Ce,he,oe,Ee,ye,N,Ae,Ko,Q,Le,Je,P],encapsulation:2});var da=Co;var q0=["vform"];function j0(n,l){if(n&1){let e=w();a(0,"div",5)(1,"label",7),c(2),r(),a(3,"input",8,0),y("ngModelChange",function(t){d(e);let s=p();return k(s.dataModelResultContent.item.id,t)||(s.dataModelResultContent.item.id=t),m(t)}),r()()}if(n&2){let e=p();o(2),T(e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle),o(),_("placeholder",R(e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle)),E("ngModel",e.dataModelResultContent.item.id)}}function U0(n,l){if(n&1){let e=w();a(0,"div",6)(1,"button",9),v("click",function(){d(e);let t=p();return m(t.onFormCancel())}),S(2,"i",10),c(3),f(4,"translate"),r(),a(5,"button",11),v("click",function(){d(e);let t=p();return m(t.onFormDelete())}),S(6,"i",12),c(7),f(8,"translate"),r()()}if(n&2){let e=p();o(3),C(" ",g(4,3,"ACTION.CANCEL")," "),o(2),_("disabled",!e.formInfo.submitButtonEnabled),o(2),C(" ",g(8,5,"ACTION.DELETE")," ")}}var ho=class ho{constructor(l,e,i,t,s,M,u){this.data=l;this.dialogRef=e;this.publicHelper=i;this.linkManagementMemberService=t;this.cdr=s;this.translate=M;this.cmsToastrService=u;this.requestId=0;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.dataModelResultContent=new j;this.formInfo=new Vt;this.publicHelper.processService.cdr=this.cdr,l&&(this.requestId=+l.id||0)}ngOnInit(){if(this.requestId<=0){this.cmsToastrService.typeErrorDeleteRowIsNull(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOne()}DataGetOne(){if(this.requestId===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.translate.get("TITLE.Loading_Information").subscribe(e=>{this.formInfo.submitResultMessage=e});let l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(l,e,this.constructorInfoAreaId)}),this.linkManagementMemberService.setAccessLoad(),this.linkManagementMemberService.setAccessDataType(we.Editor),this.linkManagementMemberService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModelResultContent=e,e.isSuccess?this.formInfo.submitResultMessage="":(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.formInfo.submitResultMessageType=FormSubmitedStatusEnum.Success,this.cmsToastrService.typeErrorGetOne()),this.publicHelper.processService.processStop(l)},error:e=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessageType=FormSubmitedStatusEnum.Success,this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(l,!1)}})}onFormDelete(){if(this.requestId===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.formInfo.submitButtonEnabled=!1,this.formInfo.submitButtonEnabled=!1;let l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(l,e,this.constructorInfoAreaId)}),this.linkManagementMemberService.ServiceDelete(this.requestId).subscribe({next:e=>{this.formInfo.submitButtonEnabled=!e.isSuccess,e.isSuccess?(this.translate.get("MESSAGE.Deletion_Was_Successful").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.cmsToastrService.typeSuccessRemove(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.cmsToastrService.typeErrorRemove()),this.formInfo.submitButtonEnabled=!0,this.publicHelper.processService.processStop(l)},error:e=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(e),this.formInfo.submitButtonEnabled=!0,this.publicHelper.processService.processStop(l)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};ho.\u0275fac=function(e){return new(e||ho)(I(fe),I(ue),I(W),I(oi),I(O),I(F),I(G))},ho.\u0275cmp=V({type:ho,selectors:[["app-linkmanagement-member-delete"]],viewQuery:function(e,i){if(e&1&&ee(q0,5),e&2){let t;te(t=ie())&&(i.formGroup=t.first)}},standalone:!1,decls:11,vars:7,consts:[["Writer",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],[1,"form-actions"],["for","dataModelResultContent.item.id",1,"color-highlight"],["matInput","","name","dataModelResultContent.item.id","type","text","required","","id","dataModelResultContent.item.id","readonly","",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click","disabled"],[1,"fa","fa-check-square-o"]],template:function(e,i){e&1&&(a(0,"div",1),S(1,"app-progress-spinner",2),a(2,"div",3)(3,"p",4),c(4," \u062D\u0633\u0627\u0628 \u06A9\u0627\u0631\u0628\u0631\u06CC \u062E\u0648\u062F \u0631\u0627 \u0648\u06CC\u0631\u0627\u06CC\u0634 \u06A9\u0646\u06CC\u062F "),r(),a(5,"p"),c(6),f(7,"translate"),r(),c(8),h(9,j0,5,4,"div",5),h(10,U0,9,7,"div",6),r()()),e&2&&(o(),_("optionsInfoAreaId",i.constructorInfoAreaId),o(5),C(" ",g(7,5,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),C(" ",i.formInfo.formTitle," "),o(),b(i.dataModelResultContent!=null&&i.dataModelResultContent.item?9:-1),o(),b(i.formInfo.submitButtonEnabled?10:-1))},dependencies:[J,X,Y,oe,N,Q,P],encapsulation:2});var ma=ho;var Q0=["vform"];function z0(n,l){if(n&1){let e=w();a(0,"app-cms-enum-record-status-selector",21),y("modelChange",function(t){d(e);let s=p();return k(s.dataModel.recordStatus,t)||(s.dataModel.recordStatus=t),m(t)}),r()}if(n&2){let e=p();E("model",e.dataModel.recordStatus),_("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function K0(n,l){if(n&1){let e=w();a(0,"div",12)(1,"div",22)(2,"h5",23),c(3),r()(),a(4,"div",24)(5,"div",25)(6,"input",26),y("ngModelChange",function(t){d(e);let s=p();return k(s.dataModel.isInBlackList,t)||(s.dataModel.isInBlackList=t),m(t)}),r(),S(7,"label",27),r()()()}if(n&2){let e=p();o(3),C(" ",e.fieldsInfo.isInBlackList==null?null:e.fieldsInfo.isInBlackList.fieldTitle," "),o(3),E("ngModel",e.dataModel.isInBlackList)}}function J0(n,l){if(n&1&&(a(0,"mat-error"),c(1),a(2,"strong"),c(3),f(4,"translate"),r()()),n&2){let e=p(2);o(),C(" ",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle," is "),o(2),T(g(4,2,"MESSAGE.required"))}}function X0(n,l){if(n&1){let e=w();a(0,"div",13)(1,"label",28),c(2),r(),a(3,"textarea",29,3),y("ngModelChange",function(t){d(e);let s=p();return k(s.dataModel.description,t)||(s.dataModel.description=t),m(t)}),c(5,"            "),r(),a(6,"em"),c(7),r(),h(8,J0,5,4,"mat-error"),r()}if(n&2){let e=D(4),i=p();o(2),T(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle),o(),_("placeholder",R(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle)),E("ngModel",i.dataModel.description),o(4),C("",e.value.length," / 500"),o(),b(e.errors!=null&&e.errors.required?8:-1)}}function Y0(n,l){n&1&&S(0,"i",16)}function Z0(n,l){n&1&&S(0,"i",17)}function $0(n,l){n&1&&(a(0,"mat-error"),c(1," CurrentDebtor is "),a(2,"strong"),c(3),f(4,"translate"),r()()),n&2&&(o(3),T(g(4,1,"MESSAGE.required")))}function eu(n,l){n&1&&S(0,"i",16)}function tu(n,l){n&1&&S(0,"i",17)}function iu(n,l){n&1&&(a(0,"mat-error"),c(1," CurrentCreditor is "),a(2,"strong"),c(3),f(4,"translate"),r()()),n&2&&(o(3),T(g(4,1,"MESSAGE.required")))}function nu(n,l){if(n&1){let e=w();a(0,"div",20)(1,"button",30),v("click",function(){d(e);let t=p();return m(t.onFormCancel())}),S(2,"i",31),c(3),f(4,"translate"),r(),a(5,"button",32),S(6,"i",33),c(7),f(8,"translate"),r()()}if(n&2){p();let e=D(10);o(3),C(" ",g(4,3,"ACTION.CANCEL")," "),o(2),_("disabled",!e.form.valid),o(2),C(" ",g(8,5,"ACTION.SAVE")," ")}}var bo=class bo extends pt{constructor(e,i,t,s,M,u,x,q){super(s,new Ut,u,q);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.categoryService=s;this.cmsToastrService=M;this.publicHelper=u;this.cdr=x;this.translate=q;this.requestId=0;this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new ct;this.dataModel=new Ut;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=+e.id||0),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.requestId>0)this.translate.get("TITLE.Edit_Categories").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}}DataGetOneContent(){if(this.requestId<=0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.categoryService.setAccessLoad(),this.categoryService.setAccessDataType(we.Editor),this.categoryService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.categoryService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorCmsUser(e){if(!e||!e.id||e.id<=0){this.translate.get("MESSAGE.Information_user_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkExternalCmsUserId=e.id}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};bo.\u0275fac=function(i){return new(i||bo)(I(fe),I(ue),I(ne),I(oi),I(G),I(W),I(O),I(F))},bo.\u0275cmp=V({type:bo,selectors:[["app-linkmanagement-member-edit"]],viewQuery:function(i,t){if(i&1&&ee(Q0,5),i&2){let s;te(s=ie())&&(t.formGroup=s.first)}},standalone:!1,features:[U],decls:35,vars:33,consts:[["vform","ngForm"],["CurrentDebtor",""],["CurrentCreditor",""],["Description",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],[1,"d-flex","mb-3"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.currentDebtor",1,"color-highlight"],["matInput","","type","number","name","dataModel.currentDebtor","minlength","0","required","","id","dataModel.currentDebtor",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.currentCreditor",1,"color-highlight"],["matInput","","type","number","name","dataModel.currentCreditor","minlength","0","required","","id","dataModel.currentCreditor",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"form-actions"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"pt-1"],["data-trigger-switch","dataModel.isInBlackList",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.isInBlackList","name","dataModel.isInBlackList",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.isInBlackList",1,"custom-control-label"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=w();a(0,"div",4),S(1,"app-progress-spinner",5),a(2,"div",6)(3,"p",7),c(4),r(),a(5,"p"),c(6),f(7,"translate"),r(),S(8,"app-cms-form-result-message",8),a(9,"form",9,0),v("ngSubmit",function(){return d(s),m(t.onFormSubmit())}),h(11,z0,1,5,"app-cms-enum-record-status-selector",10),a(12,"app-cms-user-selector",11),f(13,"translate"),v("optionChange",function(u){return d(s),m(t.onActionSelectorCmsUser(u))}),r(),h(14,K0,8,2,"div",12),h(15,X0,9,6,"div",13),a(16,"div",13)(17,"label",14),c(18),r(),a(19,"input",15,1),f(21,"translate"),y("ngModelChange",function(u){return d(s),k(t.dataModel.currentDebtor,u)||(t.dataModel.currentDebtor=u),m(u)}),r(),h(22,Y0,1,0,"i",16),h(23,Z0,1,0,"i",17),h(24,$0,5,3,"mat-error"),r(),a(25,"div",13)(26,"label",18),c(27),r(),a(28,"input",19,2),f(30,"translate"),y("ngModelChange",function(u){return d(s),k(t.dataModel.currentCreditor,u)||(t.dataModel.currentCreditor=u),m(u)}),r(),h(31,eu,1,0,"i",16),h(32,tu,1,0,"i",17),h(33,iu,5,3,"mat-error"),r(),h(34,nu,9,7,"div",20),r()()()}if(i&2){let s=D(20),M=D(29);o(),_("optionsInfoAreaId",t.constructorInfoAreaId),o(3),C(" ",t.formInfo.formTitle," "),o(2),C(" ",g(7,25,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),_("formInfo",t.formInfo),o(3),b(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?11:-1),o(),_("optionDisabled",!(t.fieldsInfo.linkExternalCmsUserId!=null&&t.fieldsInfo.linkExternalCmsUserId.accessAddField))("optionSelectForce",t.dataModel.linkExternalCmsUserId)("optionPlaceholder",g(13,27,"TITLE.Account")),o(2),b(t.fieldsInfo.isInBlackList!=null&&t.fieldsInfo.isInBlackList.accessWatchField?14:-1),o(),b(t.fieldsInfo.description!=null&&t.fieldsInfo.description.accessWatchField?15:-1),o(3),T(t.fieldsInfo.currentDebtor==null?null:t.fieldsInfo.currentDebtor.fieldTitle),o(),_("placeholder",R(g(21,29,"TITLE.Current_Credit_Of_Debtor"))),E("ngModel",t.dataModel.currentDebtor),o(3),b(s.value?-1:22),o(),b(s.value?23:-1),o(),b(s.errors!=null&&s.errors.required?24:-1),o(3),T(t.fieldsInfo.currentCreditor==null?null:t.fieldsInfo.currentCreditor.fieldTitle),o(),_("placeholder",R(g(30,31,"TITLE.Current_Credit_Of_Creditor"))),E("ngModel",t.dataModel.currentCreditor),o(3),b(M.value?-1:31),o(),b(M.value?32:-1),o(),b(M.errors!=null&&M.errors.required?33:-1),o(),b(t.formInfo.submitButtonEnabled?34:-1)}},dependencies:[ke,J,Ke,ai,X,Te,Y,Ce,he,oe,Ee,ye,N,Ae,Ko,Q,Le,Je,P],encapsulation:2});var pa=bo;var au=()=>["expandedTitle"],ru=()=>["expandedDetail"],lu=()=>[5,10,20,100],$a=n=>({display:n});function su(n,l){if(n&1){let e=w();a(0,"div",15)(1,"a",43),v("click",function(){d(e);let t=p();return m(t.onActionButtonNewRow())}),S(2,"i",44)(3,"br"),r(),a(4,"p",45),c(5),f(6,"translate"),r()()}n&2&&(o(5),C(" ",g(6,1,"ACTION.ADD")," "))}function cu(n,l){if(n&1){let e=w();a(0,"div",15)(1,"a",46),v("click",function(){d(e);let t=p();return m(t.onActionButtonEditRow(t.tableRowSelected))}),S(2,"i",47)(3,"br"),r(),a(4,"p",45),c(5),f(6,"translate"),r()()}n&2&&(o(5),C(" ",g(6,1,"ACTION.EDIT")," "))}function du(n,l){if(n&1){let e=w();a(0,"div",15)(1,"a",48),v("click",function(){d(e);let t=p();return m(t.onActionButtonDeleteRow(t.tableRowSelected))}),S(2,"i",49)(3,"br"),r(),a(4,"p",45),c(5),f(6,"translate"),r()()}n&2&&(o(5),C(" ",g(6,1,"ACTION.DELETE")," "))}function mu(n,l){n&1&&(a(0,"mat-header-cell"),c(1),f(2,"translate"),r()),n&2&&(o(),C(" ",g(2,1,"TITLE.MENU")," "))}function pu(n,l){if(n&1){let e=w();a(0,"mat-cell")(1,"button",50),v("click",function(){let t=d(e).$implicit,s=p();return m(s.onActionTableRowSelectActionMenu(t))}),S(2,"i",51),r()()}}function uu(n,l){if(n&1&&(a(0,"mat-header-cell",52),c(1),r()),n&2){let e=p();o(),C(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function fu(n,l){if(n&1&&(a(0,"mat-cell"),c(1),r()),n&2){let e=l.$implicit;o(),C(" ",e.id," ")}}function gu(n,l){if(n&1&&(a(0,"mat-header-cell",52),c(1),r()),n&2){let e=p();o(),C(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function _u(n,l){if(n&1&&(a(0,"mat-cell"),c(1),f(2,"cmssiteinfo"),f(3,"async"),r()),n&2){let e=l.$implicit;o(),C(" ",g(3,3,g(2,1,e.linkSiteId))," ")}}function Mu(n,l){if(n&1&&(a(0,"mat-header-cell",52),c(1),r()),n&2){let e=p();o(),C(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function Su(n,l){if(n&1&&S(0,"select",54),n&2){let e=p().$implicit,i=p();_("contentService",i.contentService)("row",e)("ngStyle",at(3,$a,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function Cu(n,l){if(n&1&&(a(0,"mat-cell"),S(1,"i",53),f(2,"statusIconClass"),h(3,Su,1,5,"select",54),r()),n&2){let e=l.$implicit,i=p();o(),_("ngClass",g(2,2,e.recordStatus)),o(2),b(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessEditRow?3:-1)}}function hu(n,l){if(n&1&&(a(0,"mat-header-cell",52),c(1),r()),n&2){let e=p();o(),C(" ",e.fieldsInfo.isInBlackList==null?null:e.fieldsInfo.isInBlackList.fieldTitle," ")}}function bu(n,l){if(n&1&&(a(0,"mat-cell"),S(1,"i",53),f(2,"boolclass"),r()),n&2){let e=l.$implicit;o(),_("ngClass",g(2,1,e.isInBlackList))}}function vu(n,l){if(n&1&&(a(0,"mat-header-cell",52),c(1),r()),n&2){let e=p();o(),C(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function Iu(n,l){if(n&1&&(a(0,"mat-cell"),c(1),f(2,"localeDate"),r()),n&2){let e=l.$implicit;o(),C(" ",g(2,1,e.createdDate)," ")}}function wu(n,l){if(n&1&&(a(0,"mat-header-cell",52),c(1),r()),n&2){let e=p();o(),C(" ",e.fieldsInfo.updatedDate==null?null:e.fieldsInfo.updatedDate.fieldTitle," ")}}function Tu(n,l){if(n&1&&(a(0,"mat-cell"),c(1),f(2,"localeDate"),r()),n&2){let e=l.$implicit;o(),C(" ",g(2,1,e.updatedDate)," ")}}function Eu(n,l){if(n&1&&(a(0,"mat-header-cell",52),c(1),r()),n&2){let e=p();o(),C(" ",e.fieldsInfo.currentDebtor==null?null:e.fieldsInfo.currentDebtor.fieldTitle," ")}}function ku(n,l){if(n&1&&(a(0,"mat-cell"),c(1),r()),n&2){let e=l.$implicit;o(),C(" ",e.currentDebtor," ")}}function yu(n,l){if(n&1&&(a(0,"mat-header-cell",52),c(1),r()),n&2){let e=p();o(),C(" ",e.fieldsInfo.currentCreditor==null?null:e.fieldsInfo.currentCreditor.fieldTitle," ")}}function Lu(n,l){if(n&1&&(a(0,"mat-cell"),c(1),r()),n&2){let e=l.$implicit;o(),C(" ",e.currentCreditor," ")}}function Au(n,l){n&1&&(a(0,"mat-header-cell"),c(1),f(2,"translate"),r()),n&2&&(o(),C(" ",g(2,1,"TITLE.OPTION")," "))}function Ru(n,l){if(n&1&&(a(0,"mat-cell",55)(1,"button",56)(2,"mat-icon"),c(3,"more_vert"),r()(),S(4,"mat-menu",null,2),r()),n&2){let e=D(5);o(),_("matMenuTriggerFor",e)}}function xu(n,l){if(n&1&&(a(0,"mat-cell"),c(1),f(2,"translate"),f(3,"localeDate"),S(4,"br"),c(5),f(6,"translate"),f(7,"localeDate"),r()),n&2){let e=l.$implicit;o(),Ve(" ",g(2,4,"TITLE.CreationDate")," : ",g(3,6,e.createdDate)," "),o(4),Ve(" ",g(6,8,"TITLE.DateOfUpdate")," : ",g(7,10,e.updatedDate)," ")}}function Du(n,l){if(n&1&&(S(0,"img",57),f(1,"cmsthumbnail")),n&2){let e=p().$implicit;_("src",R(g(1,2,e.linkMainImageIdSrc)),Z)}}function Bu(n,l){if(n&1&&(a(0,"tr"),S(1,"td"),a(2,"td"),c(3),r()()),n&2){let e=p().$implicit,i=p();o(3),Ve(" ",i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle," : ",e.description," ")}}function Vu(n,l){if(n&1){let e=w();a(0,"mat-cell")(1,"div")(2,"table")(3,"tr")(4,"th"),h(5,Du,2,4,"img",57),r(),a(6,"th")(7,"span",58),v("click",function(){d(e);let t=p();return m(t.onActionCopied())}),S(8,"i",59),r(),c(9),r()(),h(10,Bu,4,2,"tr"),a(11,"tr"),S(12,"td")(13,"td"),r()()()()}if(n&2){let e=l.$implicit;o(5),b((e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0?5:-1),o(2),_("cdkCopyToClipboard",e.id),o(2),C(" ",e.id," "),o(),b(e.description?10:-1)}}function Pu(n,l){n&1&&S(0,"mat-header-row")}function Nu(n,l){if(n&1){let e=w();a(0,"mat-row",60),v("click",function(t){let s=d(e).$implicit,M=p();return m(M.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=d(e).$implicit,M=p();return m(M.onActionTableRowSelect(s,t))})("mouseenter",function(){let t=d(e).$implicit,s=p();return m(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=d(e).$implicit,s=p();return m(s.onActionTableRowMouseLeave(t))}),r()}if(n&2){let e=l.$implicit,i=p();H("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}function Ou(n,l){if(n&1){let e=w();a(0,"mat-row",61),v("click",function(t){let s=d(e).$implicit,M=p();return m(M.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=d(e).$implicit,M=p();return m(M.onActionTableRowSelect(s,t))})("mouseenter",function(){let t=d(e).$implicit,s=p();return m(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=d(e).$implicit,s=p();return m(s.onActionTableRowMouseLeave(t))}),r()}if(n&2){let e=l.$implicit,i=p();H("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}function Fu(n,l){if(n&1){let e=w();a(0,"mat-row",62),v("click",function(t){let s=d(e).$implicit,M=p();return m(M.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=d(e).$implicit,M=p();return m(M.onActionTableRowSelect(s,t))})("mouseenter",function(){let t=d(e).$implicit,s=p();return m(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=d(e).$implicit,s=p();return m(s.onActionTableRowMouseLeave(t))}),r()}if(n&2){let e=l.$implicit,i=p();H("ntk-row-expanded",e.expanded===!0)("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)),_("ngStyle",at(5,$a,e.expanded===!0?"":"none"))}}var vo=class vo extends Nt{constructor(e,i,t,s,M,u,x,q,K,ve){super(e,new Ut,K,s,M);this.contentService=e;this.cmsToastrService=i;this.router=t;this.tokenHelper=s;this.translate=M;this.cmsStoreService=u;this.cdr=x;this.pageInfo=q;this.publicHelper=K;this.dialog=ve;this.constructorInfoAreaId=this.constructor.name;this.filteModelContent=new Ie;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["id","recordStatus","CurrentDebtor","CurrentCreditor","action_menu"];this.tabledisplayedColumnsMobileSource=["id","recordStatus","CurrentDebtor","CurrentCreditor","action_menu"];this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:Re=>this.onSubmitOptionsSearch(Re)},this.filteModelContent.sortColumn="id",this.filteModelContent.sortType=ge.Descending}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>De(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Ut);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.contentService.setAccessLoad(),this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),t.isSuccess?(this.applyDataGetAllResult(t),this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=ge.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=ge.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=ge.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(){let e=new ci;e.disableClose=!0,e.autoFocus=!0,e.data={},this.dialog.open(da,e).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(!(e?.id>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(pa,{height:"90%",panelClass:i,enterAnimationDuration:le.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:le.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!(e?.id>0)){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(s=>{this.cmsToastrService.typeErrorSelected(s)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(ma,{height:"90%",panelClass:i,enterAnimationDuration:le.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:le.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate&&this.DataGetAll()})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(u=>{i.set(u,0)}),this.translate.get("MESSAGE.All").subscribe(u=>{i.set(u,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(u=>{this.publicHelper.processService.processStart(t,u,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:u=>{u.isSuccess&&(this.translate.get("MESSAGE.All").subscribe(x=>{i.set(x,u.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)),this.publicHelper.processService.processStop(t)},error:u=>{this.cmsToastrService.typeError(u),this.publicHelper.processService.processStop(t,!1)}});let s=JSON.parse(JSON.stringify(this.filteModelContent)),M=new z;M.propertyName="recordStatus",M.value=gt.Available,s.filters.push(M),this.contentService.ServiceGetCount(s).subscribe({next:u=>{u.isSuccess&&(this.translate.get("MESSAGE.Active").subscribe(x=>{i.set(x,u.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)),this.publicHelper.processService.processStop(t)},error:u=>{this.cmsToastrService.typeError(u),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonReload(){this.DataGetAll()}onActionCopied(){this.cmsToastrService.typeSuccessCopedToClipboard()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}};vo.\u0275fac=function(i){return new(i||vo)(I(oi),I(G),I(Ze),I(tt),I(F),I(et),I(O),I(Bt),I(W),I(nt))},vo.\u0275cmp=V({type:vo,selectors:[["app-linkmanagement-member-list"]],standalone:!1,features:[U],decls:71,vars:35,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionActionRowDisplayMenuAct","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","","multiTemplateDataRows","",3,"matSortChange","dataSource"],["matColumnDef","action_menu"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","linkSiteId"],["matColumnDef","recordStatus"],["matColumnDef","IsInBlackList"],["matColumnDef","createdDate"],["matColumnDef","updatedDate"],["matColumnDef","CurrentDebtor"],["matColumnDef","CurrentCreditor"],["matColumnDef","Action"],["class","Action",4,"matCellDef"],["matColumnDef","expandedTitle"],["matColumnDef","expandedDetail"],[4,"matHeaderRowDef"],["class","ntk-row-expandedTitle",3,"ntk-row-selected","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["class","ntk-row-expandedDetail",3,"ntk-row-expanded","ntk-row-selected","ngStyle","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"click"],[1,"fa","fa-bars","font-18"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],["aria-hidden","","height","80","width","80",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"navi-icon","pointer",3,"click","cdkCopyToClipboard"],[1,"flaticon2-copy"],[1,"ntk-row-expandedTitle",3,"click","rtclick","mouseenter","mouseleave"],[1,"ntk-row-mainfild",3,"click","rtclick","mouseenter","mouseleave"],[1,"ntk-row-expandedDetail",3,"click","rtclick","mouseenter","mouseleave","ngStyle"]],template:function(i,t){if(i&1){let s=w();a(0,"app-cms-html-list",3),y("optionActionGuideNoticeDisplayChange",function(u){return d(s),k(t.viewGuideNotice,u)||(t.viewGuideNotice=u),m(u)}),v("optionOnActionButtonMemoRow",function(){return d(s),m(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return d(s),m(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return d(s),m(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return d(s),m(t.onActionButtonPrintRow())}),L(1,4),c(2," ---------------------- "),A(),de(3,5)(4,6),L(5,7),a(6,"a",8),v("click",function(){return d(s),m(t.viewGuideNotice=!t.viewGuideNotice)}),S(7,"i",9),r(),a(8,"a",8),v("click",function(){return d(s),m(t.onActionButtonReload())}),S(9,"i",10),r(),A(),L(10,11),a(11,"a",12),v("click",function(){return d(s),m(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),S(12,"mat-slide-toggle",13),c(13),f(14,"translate"),r(),a(15,"a",12),v("click",function(){return d(s),m(t.onActionButtonStatist())}),S(16,"mat-slide-toggle",13),c(17),f(18,"translate"),r(),A(),L(19,14),h(20,su,7,3,"div",15),A(),L(21,16),h(22,cu,7,3,"div",15),h(23,du,7,3,"div",15),A(),L(24,17),a(25,"app-cms-search-list",18),y("optionsChange",function(u){return d(s),k(t.optionsSearch,u)||(t.optionsSearch=u),m(u)}),r(),a(26,"app-cms-statist-list",18),y("optionsChange",function(u){return d(s),k(t.optionsStatist,u)||(t.optionsStatist=u),m(u)}),r(),A(),L(27,19),a(28,"mat-table",20,0),v("matSortChange",function(){d(s);let u=D(29);return m(t.onTableSortData(u))}),L(30,21),B(31,mu,3,3,"mat-header-cell",22)(32,pu,3,0,"mat-cell",23),A(),L(33,24),B(34,uu,2,1,"mat-header-cell",25)(35,fu,2,1,"mat-cell",23),A(),L(36,26),B(37,gu,2,1,"mat-header-cell",25)(38,_u,4,5,"mat-cell",23),A(),L(39,27),B(40,Mu,2,1,"mat-header-cell",25)(41,Cu,4,4,"mat-cell",23),A(),L(42,28),B(43,hu,2,1,"mat-header-cell",25)(44,bu,3,3,"mat-cell",23),A(),L(45,29),B(46,vu,2,1,"mat-header-cell",25)(47,Iu,3,3,"mat-cell",23),A(),L(48,30),B(49,wu,2,1,"mat-header-cell",25)(50,Tu,3,3,"mat-cell",23),A(),L(51,31),B(52,Eu,2,1,"mat-header-cell",25)(53,ku,2,1,"mat-cell",23),A(),L(54,32),B(55,yu,2,1,"mat-header-cell",25)(56,Lu,2,1,"mat-cell",23),A(),L(57,33),B(58,Au,3,3,"mat-header-cell",22)(59,Ru,6,1,"mat-cell",34),A(),L(60,35),B(61,xu,8,12,"mat-cell",23),A(),L(62,36),B(63,Vu,14,4,"mat-cell",23),A(),B(64,Pu,1,0,"mat-header-row",37)(65,Nu,1,2,"mat-row",38)(66,Ou,1,2,"mat-row",39)(67,Fu,1,7,"mat-row",40),r(),A(),L(68,41),a(69,"mat-paginator",42,1),v("page",function(u){return d(s),m(t.onTablePageingData(u))}),r(),A(),r()}i&2&&(_("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),E("optionActionGuideNoticeDisplay",t.viewGuideNotice),_("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionActionRowDisplayMenuAct",t.tableRowSelectActionMenuClick)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),o(9),H("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(3),_("checked",t.optionsSearch.data.show),o(),C("",g(14,28,"ACTION.SEARCH")," "),o(3),_("checked",t.optionsStatist.data.show),o(),C("",g(18,30,"ACTION.STATIST")," "),o(3),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessAddRow?20:-1),o(2),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?22:-1),o(),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?23:-1),o(2),E("options",t.optionsSearch),o(),E("options",t.optionsStatist),o(2),_("dataSource",t.tableSource),o(36),_("matHeaderRowDef",t.tabledisplayedColumns),o(),_("matRowDefColumns",se(32,au)),o(),_("matRowDefColumns",t.tabledisplayedColumns),o(),_("matRowDefColumns",se(33,ru)),o(2),_("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",se(34,lu)))},dependencies:[Pe,ti,it,Ne,N,ht,bt,Oe,Fe,vt,It,wt,Et,At,kt,Tt,Rt,yt,Lt,xt,Dt,$e,Ge,We,Ot,He,Qe,Ye,P,Ft,be,Gt,qe,Ho],encapsulation:2});var Io=vo;var Gu=()=>[5,10,20,100],Wu=(n,l)=>l.id;function Hu(n,l){if(n&1){let e=w();a(0,"div",16)(1,"a",25),v("click",function(){d(e);let t=p();return m(t.onActionButtonNewRow())}),S(2,"i",26)(3,"br"),r(),a(4,"p",27),c(5),f(6,"translate"),r()()}n&2&&(o(5),C(" ",g(6,1,"ACTION.ADD")," "))}function qu(n,l){if(n&1){let e=w();a(0,"div",16)(1,"a",28),v("click",function(){d(e);let t=p();return m(t.onActionButtonEditRow(t.tableRowSelected))}),S(2,"i",29)(3,"br"),r(),a(4,"p",27),c(5),f(6,"translate"),r()()}n&2&&(o(5),C(" ",g(6,1,"ACTION.EDIT")," "))}function ju(n,l){if(n&1){let e=w();a(0,"div",16)(1,"a",30),v("click",function(){d(e);let t=p();return m(t.onActionButtonDeleteRow(t.tableRowSelected))}),S(2,"i",31)(3,"br"),r(),a(4,"p",27),c(5),f(6,"translate"),r()()}n&2&&(o(5),C(" ",g(6,1,"ACTION.DELETE")," "))}function Uu(n,l){if(n&1){let e=w();a(0,"div",16)(1,"a",32),v("click",function(){d(e);let t=p();return m(t.onActionButtonViewRow(t.tableRowSelected))}),S(2,"i",33)(3,"br"),r(),a(4,"p",27),c(5),f(6,"translate"),r()()}n&2&&(o(5),C(" ",g(6,1,"ACTION.VIEW")," "))}function Qu(n,l){if(n&1&&S(0,"select",43),n&2){let e=p(2).$implicit,i=p(2);_("contentService",i.contentService)("row",e)}}function zu(n,l){if(n&1&&(a(0,"div",40),S(1,"i",42),f(2,"statusIconClass"),h(3,Qu,1,2,"select",43),r()),n&2){let e=p().$implicit,i=p(2);o(),_("ngClass",g(2,2,e.recordStatus)),o(2),b(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessEditRow&&e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?3:-1)}}function Ku(n,l){if(n&1){let e=w();a(0,"div",41)(1,"div",40)(2,"span",44),v("click",function(t){return d(e),p(3).onActionCopied(),m(t.stopPropagation())}),S(3,"i",45),r(),c(4),r()()}if(n&2){let e=p().$implicit;o(2),_("cdkCopyToClipboard",e.id.toString()),o(2),C(" ID: ",e.id," ")}}function Ju(n,l){if(n&1){let e=w();a(0,"div",35),v("click",function(t){let s=d(e).$implicit,M=p(2);return m(M.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=d(e).$implicit,M=p(2);return m(M.onActionTableRowSelect(s,t))})("mouseenter",function(){let t=d(e).$implicit,s=p(2);return m(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=d(e).$implicit,s=p(2);return m(s.onActionTableRowMouseLeave(t))}),a(1,"div",36),S(2,"i",37),f(3,"statusIconClass"),r(),a(4,"div",38)(5,"div",39),c(6),r(),h(7,zu,4,4,"div",40),h(8,Ku,5,2,"div",41),r()()}if(n&2){let e=l.$implicit,i=p(2);H("selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))("bg-fade-highlight-light",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)),Be("aria-label",e.id),o(2),_("ngClass",g(3,9,e.recordStatus)),o(4),C(" ","ID: "+e.id," "),o(),b(e.recordStatus!==void 0?7:-1),o(),b(i.getRowExpanded(e)?8:-1)}}function Xu(n,l){if(n&1&&(a(0,"div",21),me(1,Ju,9,11,"div",34,Wu),r()),n&2){let e=p();o(),pe(e.dataModelResult.listItems)}}function Yu(n,l){n&1&&(a(0,"div",22),c(1),f(2,"translate"),r()),n&2&&(o(),T(g(2,1,"MESSAGE.NoRecord")))}var mn=class mn extends Io{};mn.\u0275fac=(()=>{let l;return function(i){return(l||(l=_t(mn)))(i||mn)}})(),mn.\u0275cmp=V({type:mn,selectors:[["app-linkmanagement-member-list-mobile"]],standalone:!1,features:[U],decls:37,vars:31,consts:[["paginator",""],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionOnScrollNearBottom","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplay","optionActionRowDisplayMenu","optionActionRowDisplayMenuAct","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-maximize","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-minimize","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],[1,"cms-m-list"],[1,"cms-m-empty"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],["role","button","tabindex","0",1,"cms-m-list-item","border-highlight",3,"selected","bg-fade-highlight-light"],["role","button","tabindex","0",1,"cms-m-list-item","border-highlight",3,"click","rtclick","mouseenter","mouseleave"],[1,"cms-m-list-item-image-placeholder"],["aria-hidden","true",3,"ngClass"],[1,"cms-m-list-item-content"],[1,"cms-m-list-item-title"],[1,"cms-m-list-item-subtitle"],[1,"cms-m-list-item-expanded"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none","margin-left","8px",3,"contentService","row"],[1,"navi-icon","pointer",3,"click","cdkCopyToClipboard"],[1,"flaticon2-copy"]],template:function(e,i){if(e&1){let t=w();a(0,"app-cms-html-list-mobile",1),y("optionActionGuideNoticeDisplayChange",function(M){return d(t),k(i.viewGuideNotice,M)||(i.viewGuideNotice=M),m(M)}),v("optionOnActionButtonMemoRow",function(){return d(t),m(i.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return d(t),m(i.onActionButtonMemo())})("optionOnActionButtonExport",function(){return d(t),m(i.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return d(t),m(i.onActionButtonPrintRow())})("optionOnScrollNearBottom",function(){return d(t),m(i.onActionLoadNextPage())}),de(1,2)(2,3)(3,4),L(4,5),a(5,"a",6),v("click",function(){return d(t),m(i.viewGuideNotice=!i.viewGuideNotice)}),S(6,"i",7),r(),a(7,"a",6),v("click",function(){return d(t),m(i.onActionButtonReload())}),S(8,"i",8),r(),a(9,"a",9),v("click",function(){return d(t),m(i.onActionGridExpandRows(!0))}),S(10,"i",10),r(),a(11,"a",9),v("click",function(){return d(t),m(i.onActionGridExpandRows(!1))}),S(12,"i",11),r(),A(),L(13,12),a(14,"a",13),v("click",function(){return d(t),m(i.optionsSearch.data.show=!i.optionsSearch.data.show)}),S(15,"mat-slide-toggle",14),c(16),f(17,"translate"),r(),a(18,"a",13),v("click",function(){return d(t),m(i.onActionButtonStatist())}),S(19,"mat-slide-toggle",14),c(20),f(21,"translate"),r(),A(),L(22,15),h(23,Hu,7,3,"div",16),A(),L(24,17),h(25,qu,7,3,"div",16),h(26,ju,7,3,"div",16),h(27,Uu,7,3,"div",16),A(),L(28,18),a(29,"app-cms-search-list",19),y("optionsChange",function(M){return d(t),k(i.optionsSearch,M)||(i.optionsSearch=M),m(M)}),r(),a(30,"app-cms-statist-list",19),y("optionsChange",function(M){return d(t),k(i.optionsStatist,M)||(i.optionsStatist=M),m(M)}),r(),A(),L(31,20),h(32,Xu,3,0,"div",21)(33,Yu,3,3,"div",22),A(),L(34,23),a(35,"mat-paginator",24,0),v("page",function(){return d(t),m(i.onTablePageingData())}),r(),A(),r()}e&2&&(_("optionsListInfoAreaId",i.constructorInfoAreaId)("optionGuideNoticeKey","link-management.member.list"),E("optionActionGuideNoticeDisplay",i.viewGuideNotice),_("optionTreeDisplay",!1)("optionActionRowId",i.tableRowSelected==null?null:i.tableRowSelected.id)("optionActionRowDisplay",(i.tableRowSelected==null||i.tableRowSelected.id==null?null:i.tableRowSelected.id.length)>0)("optionActionRowDisplayMenu",i.tableRowSelect2Click)("optionActionRowDisplayMenuAct",i.tableRowSelectActionMenuClick)("optionSelectRowItemTitle",i.tableRowSelected==null?null:i.tableRowSelected.id),o(8),H("rotation360",i.publicHelper.processService.process.inRunArea[i.constructorInfoAreaId]),o(7),_("checked",i.optionsSearch.data.show),o(),C(" ",g(17,26,"ACTION.SEARCH")),o(3),_("checked",i.optionsStatist.data.show),o(),C(" ",g(21,28,"ACTION.STATIST")),o(3),b(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessAddRow?23:-1),o(2),b(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessEditRow&&(i.tableRowSelected==null||i.tableRowSelected.id==null?null:i.tableRowSelected.id.length)>0?25:-1),o(),b(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessDeleteRow&&(i.tableRowSelected==null||i.tableRowSelected.id==null?null:i.tableRowSelected.id.length)>0?26:-1),o(),b(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessWatchRow&&(i.tableRowSelected==null||i.tableRowSelected.id==null?null:i.tableRowSelected.id.length)>0?27:-1),o(2),E("options",i.optionsSearch),o(),E("options",i.optionsStatist),o(2),b(!(i.dataModelResult==null||i.dataModelResult.listItems==null)&&i.dataModelResult.listItems.length?32:33),o(3),_("length",i.dataModelResult.totalRowCount)("pageIndex",i.dataModelResult.currentPageNumber-1)("pageSize",i.dataModelResult.rowPerPage)("pageSizeOptions",se(30,Gu)))},dependencies:[Pe,N,Oe,Fe,$e,Ge,We,Wt,He,Qe,P,qe],encapsulation:2});var ua=mn;var Zu=["vform"];function $u(n,l){if(n&1){let e=w();a(0,"div",5)(1,"label",7),c(2),r(),a(3,"input",8,0),y("ngModelChange",function(t){d(e);let s=p();return k(s.dataModelResultContent.item.id,t)||(s.dataModelResultContent.item.id=t),m(t)}),r()()}if(n&2){let e=p();o(2),T(e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle),o(),_("placeholder",R(e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle)),E("ngModel",e.dataModelResultContent.item.id)}}function ef(n,l){if(n&1){let e=w();a(0,"div",6)(1,"button",9),v("click",function(){d(e);let t=p();return m(t.onFormCancel())}),S(2,"i",10),c(3),f(4,"translate"),r(),a(5,"button",11),v("click",function(){d(e);let t=p();return m(t.onFormDelete())}),S(6,"i",12),c(7),f(8,"translate"),r()()}if(n&2){let e=p();o(3),C(" ",g(4,3,"ACTION.CANCEL")," "),o(2),_("disabled",!e.formInfo.submitButtonEnabled),o(2),C(" ",g(8,5,"ACTION.DELETE")," ")}}var wo=class wo{constructor(l,e,i,t,s,M,u){this.data=l;this.dialogRef=e;this.publicHelper=i;this.linkManagementTargetBillboardLogService=t;this.cdr=s;this.translate=M;this.cmsToastrService=u;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.dataModelResultContent=new j;this.formInfo=new Vt;this.publicHelper.processService.cdr=this.cdr,l&&l.id&&(this.requestId=l.id)}ngOnInit(){if(this.requestId.length<=0){this.cmsToastrService.typeErrorDeleteRowIsNull(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOne()}DataGetOne(){if(this.requestId.length===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.translate.get("TITLE.Loading_Information").subscribe(e=>{this.formInfo.submitResultMessage=e});let l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(l,e,this.constructorInfoAreaId)}),this.linkManagementTargetBillboardLogService.setAccessLoad(),this.linkManagementTargetBillboardLogService.setAccessDataType(we.Editor),this.linkManagementTargetBillboardLogService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModelResultContent=e,e.isSuccess?this.formInfo.submitResultMessage="":(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.formInfo.submitResultMessageType=FormSubmitedStatusEnum.Success,this.cmsToastrService.typeErrorGetOne()),this.publicHelper.processService.processStop(l)},error:e=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessageType=FormSubmitedStatusEnum.Success,this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(l,!1)}})}onFormDelete(){if(this.requestId.length===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.formInfo.submitButtonEnabled=!1,this.formInfo.submitButtonEnabled=!1;let l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(l,e,this.constructorInfoAreaId)}),this.linkManagementTargetBillboardLogService.ServiceDelete(this.requestId).subscribe({next:e=>{this.formInfo.submitButtonEnabled=!e.isSuccess,e.isSuccess?(this.translate.get("MESSAGE.Deletion_Was_Successful").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.cmsToastrService.typeSuccessRemove(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.cmsToastrService.typeErrorRemove()),this.formInfo.submitButtonEnabled=!0,this.publicHelper.processService.processStop(l)},error:e=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(e),this.formInfo.submitButtonEnabled=!0,this.publicHelper.processService.processStop(l)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};wo.\u0275fac=function(e){return new(e||wo)(I(fe),I(ue),I(W),I(Pi),I(O),I(F),I(G))},wo.\u0275cmp=V({type:wo,selectors:[["app-linkmanagement-target-billboard-log-delete"]],viewQuery:function(e,i){if(e&1&&ee(Zu,5),e&2){let t;te(t=ie())&&(i.formGroup=t.first)}},standalone:!1,decls:11,vars:7,consts:[["Writer",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],[1,"form-actions"],["for","dataModelResultContent.item.id",1,"color-highlight"],["matInput","","name","dataModelResultContent.item.id","type","text","required","","id","dataModelResultContent.item.id","readonly","",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click","disabled"],[1,"fa","fa-check-square-o"]],template:function(e,i){e&1&&(a(0,"div",1),S(1,"app-progress-spinner",2),a(2,"div",3)(3,"p",4),c(4," \u062D\u0633\u0627\u0628 \u06A9\u0627\u0631\u0628\u0631\u06CC \u062E\u0648\u062F \u0631\u0627 \u0648\u06CC\u0631\u0627\u06CC\u0634 \u06A9\u0646\u06CC\u062F "),r(),a(5,"p"),c(6),f(7,"translate"),r(),c(8),h(9,$u,5,4,"div",5),h(10,ef,9,7,"div",6),r()()),e&2&&(o(),_("optionsInfoAreaId",i.constructorInfoAreaId),o(5),C(" ",g(7,5,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),C(" ",i.formInfo.formTitle," "),o(),b(i.dataModelResultContent!=null&&i.dataModelResultContent.item?9:-1),o(),b(i.formInfo.submitButtonEnabled?10:-1))},dependencies:[J,X,Y,oe,N,Q,P],encapsulation:2});var fa=wo;var tf=["vform"];function nf(n,l){if(n&1){let e=w();a(0,"app-cms-enum-record-status-selector",31),y("modelChange",function(t){d(e);let s=p();return k(s.dataModel.recordStatus,t)||(s.dataModel.recordStatus=t),m(t)}),r()}if(n&2){let e=p();E("model",e.dataModel.recordStatus),_("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function of(n,l){n&1&&(a(0,"mat-error"),c(1," ClickPrice is "),a(2,"strong"),c(3),f(4,"translate"),r()()),n&2&&(o(3),T(g(4,1,"MESSAGE.required")))}function af(n,l){n&1&&(a(0,"mat-error"),c(1," ViewPrice is "),a(2,"strong"),c(3),f(4,"translate"),r()()),n&2&&(o(3),T(g(4,1,"MESSAGE.required")))}function rf(n,l){n&1&&(a(0,"mat-error"),c(1," DeviceId is "),a(2,"strong"),c(3),f(4,"translate"),r()()),n&2&&(o(3),T(g(4,1,"MESSAGE.required")))}function lf(n,l){n&1&&(a(0,"mat-error"),c(1," IpAddress is "),a(2,"strong"),c(3),f(4,"translate"),r()()),n&2&&(o(3),T(g(4,1,"MESSAGE.required")))}function sf(n,l){n&1&&(a(0,"mat-error"),c(1," BrowserName is "),a(2,"strong"),c(3),f(4,"translate"),r()()),n&2&&(o(3),T(g(4,1,"MESSAGE.required")))}function cf(n,l){if(n&1){let e=w();a(0,"div",30)(1,"button",32),v("click",function(){d(e);let t=p();return m(t.onFormCancel())}),S(2,"i",33),c(3),f(4,"translate"),r(),a(5,"button",34),S(6,"i",35),c(7),f(8,"translate"),r()()}if(n&2){p();let e=D(10);o(3),C(" ",g(4,3,"ACTION.CANCEL")," "),o(2),_("disabled",!e.form.valid),o(2),C(" ",g(8,5,"ACTION.SAVE")," ")}}var To=class To extends pt{constructor(e,i,t,s,M,u,x,q){super(s,new Cn,u,q);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.categoryService=s;this.cmsToastrService=M;this.publicHelper=u;this.cdr=x;this.translate=q;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new ct;this.dataModel=new Cn;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,e&&e.id&&(this.requestId=e.id+""),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.requestId.length>0)this.translate.get("TITLE.Edit_Categories").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}}DataGetOneContent(){if(this.requestId.length<=0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.categoryService.setAccessLoad(),this.categoryService.setAccessDataType(we.Editor),this.categoryService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.categoryService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorLinkManagementBillboardId(e){if(!e||!e.id||e.id<=0){this.translate.get("MESSAGE.Information_billboard_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkManagementBillboardId=e.id}onActionSelectorLinkManagementTargetId(e){if(!e||!e.id||e.id<=0){this.translate.get("MESSAGE.Information_target_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkManagementTargetId=e.id}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};To.\u0275fac=function(i){return new(i||To)(I(fe),I(ue),I(ne),I(Pi),I(G),I(W),I(O),I(F))},To.\u0275cmp=V({type:To,selectors:[["app-linkmanagement-target-billboard-log-edit"]],viewQuery:function(i,t){if(i&1&&ee(tf,5),i&2){let s;te(s=ie())&&(t.formGroup=s.first)}},standalone:!1,features:[U],decls:61,vars:48,consts:[["vform","ngForm"],["LinkManagementBillboardId",""],["LinkManagementTargetId",""],["ClickPrice",""],["ViewPrice",""],["DeviceId",""],["IpAddress",""],["BrowserName",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.linkManagementBillboardId",1,"color-highlight"],["matInput","","type","number","name","dataModel.linkManagementBillboardId","id","dataModel.linkManagementBillboardId",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.linkManagementTargetId",1,"color-highlight"],["matInput","","type","number","name","dataModel.linkManagementTargetId","id","dataModel.linkManagementTargetId",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.clickPrice",1,"color-highlight"],["matInput","","type","number","name","dataModel.clickPrice","minlength","0","id","dataModel.clickPrice",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.viewPrice",1,"color-highlight"],["matInput","","type","number","name","dataModel.viewPrice","minlength","0","id","dataModel.viewPrice",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.deviceId",1,"color-highlight"],["matInput","","type","number","name","dataModel.deviceId","minlength","3","maxlength","100","required","","id","dataModel.deviceId",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.ipAddress",1,"color-highlight"],["matInput","","type","text","name","dataModel.ipAddress","minlength","3","maxlength","100","required","","id","dataModel.ipAddress",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.browserName",1,"color-highlight"],["matInput","","type","text","name","dataModel.browserName","minlength","3","maxlength","100","required","","id","dataModel.browserName",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"form-actions"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=w();a(0,"div",8),S(1,"app-progress-spinner",9),a(2,"div",10)(3,"p",11),c(4),r(),a(5,"p"),c(6),f(7,"translate"),r(),S(8,"app-cms-form-result-message",12),a(9,"form",13,0),v("ngSubmit",function(){return d(s),m(t.onFormSubmit())}),h(11,nf,1,5,"app-cms-enum-record-status-selector",14),a(12,"div",15)(13,"label",16),c(14),r(),a(15,"input",17,1),y("ngModelChange",function(u){return d(s),k(t.dataModel.linkManagementBillboardId,u)||(t.dataModel.linkManagementBillboardId=u),m(u)}),r()(),a(17,"div",15)(18,"label",18),c(19),r(),a(20,"input",19,2),y("ngModelChange",function(u){return d(s),k(t.dataModel.linkManagementTargetId,u)||(t.dataModel.linkManagementTargetId=u),m(u)}),r()(),a(22,"div",15)(23,"label",20),c(24),r(),a(25,"input",21,3),f(27,"translate"),y("ngModelChange",function(u){return d(s),k(t.dataModel.clickPrice,u)||(t.dataModel.clickPrice=u),m(u)}),r(),h(28,of,5,3,"mat-error"),r(),a(29,"div",15)(30,"label",22),c(31),r(),a(32,"input",23,4),f(34,"translate"),y("ngModelChange",function(u){return d(s),k(t.dataModel.viewPrice,u)||(t.dataModel.viewPrice=u),m(u)}),r(),h(35,af,5,3,"mat-error"),r(),a(36,"div",15)(37,"label",24),c(38),r(),a(39,"input",25,5),y("ngModelChange",function(u){return d(s),k(t.dataModel.deviceId,u)||(t.dataModel.deviceId=u),m(u)}),r(),a(41,"em"),c(42),r(),h(43,rf,5,3,"mat-error"),r(),a(44,"div",15)(45,"label",26),c(46),r(),a(47,"input",27,6),y("ngModelChange",function(u){return d(s),k(t.dataModel.ipAddress,u)||(t.dataModel.ipAddress=u),m(u)}),r(),a(49,"em"),c(50),r(),h(51,lf,5,3,"mat-error"),r(),a(52,"div",15)(53,"label",28),c(54),r(),a(55,"input",29,7),y("ngModelChange",function(u){return d(s),k(t.dataModel.browserName,u)||(t.dataModel.browserName=u),m(u)}),r(),a(57,"em"),c(58),r(),h(59,sf,5,3,"mat-error"),r(),h(60,cf,9,7,"div",30),r()()()}if(i&2){let s=D(26),M=D(33),u=D(40),x=D(48),q=D(56);o(),_("optionsInfoAreaId",t.constructorInfoAreaId),o(3),C(" ",t.formInfo.formTitle," "),o(2),C(" ",g(7,42,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),_("formInfo",t.formInfo),o(3),b(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?11:-1),o(3),T(t.fieldsInfo.linkManagementBillboardId==null?null:t.fieldsInfo.linkManagementBillboardId.fieldTitle),o(),_("placeholder",R(t.fieldsInfo.linkManagementBillboardId==null?null:t.fieldsInfo.linkManagementBillboardId.fieldTitle)),E("ngModel",t.dataModel.linkManagementBillboardId),o(4),T(t.fieldsInfo.linkManagementTargetId==null?null:t.fieldsInfo.linkManagementTargetId.fieldTitle),o(),_("placeholder",R(t.fieldsInfo.linkManagementTargetId==null?null:t.fieldsInfo.linkManagementTargetId.fieldTitle)),E("ngModel",t.dataModel.linkManagementTargetId),o(4),T(t.fieldsInfo.clickPrice==null?null:t.fieldsInfo.clickPrice.fieldTitle),o(),_("placeholder",R(g(27,44,"TITLE.Amount_Per_Click"))),E("ngModel",t.dataModel.clickPrice),o(3),b(s.errors!=null&&s.errors.required?28:-1),o(3),T(t.fieldsInfo.viewPrice==null?null:t.fieldsInfo.viewPrice.fieldTitle),o(),_("placeholder",R(g(34,46,"TITLE.Amount_Per_Show"))),E("ngModel",t.dataModel.viewPrice),o(3),b(M.errors!=null&&M.errors.required?35:-1),o(3),T(t.fieldsInfo.deviceId==null?null:t.fieldsInfo.deviceId.fieldTitle),o(),_("placeholder",R(t.fieldsInfo.deviceId==null?null:t.fieldsInfo.deviceId.fieldTitle)),E("ngModel",t.dataModel.deviceId),o(3),C("",u.value.length," / 100"),o(),b(u.errors!=null&&u.errors.required?43:-1),o(3),T(t.fieldsInfo.ipAddress==null?null:t.fieldsInfo.ipAddress.fieldTitle),o(),_("placeholder",R(t.fieldsInfo.ipAddress==null?null:t.fieldsInfo.ipAddress.fieldTitle)),E("ngModel",t.dataModel.ipAddress),o(3),C("",x.value.length," / 100"),o(),b(x.errors!=null&&x.errors.required?51:-1),o(3),T(t.fieldsInfo.browserName==null?null:t.fieldsInfo.browserName.fieldTitle),o(),_("placeholder",R(t.fieldsInfo.browserName==null?null:t.fieldsInfo.browserName.fieldTitle)),E("ngModel",t.dataModel.browserName),o(3),C("",q.value.length," / 100"),o(),b(q.errors!=null&&q.errors.required?59:-1),o(),b(t.formInfo.submitButtonEnabled?60:-1)}},dependencies:[ke,J,Ke,X,Te,Y,Ce,he,oe,Ee,ye,N,Ae,Q,Le,Je,P],encapsulation:2});var ga=To;var mf=()=>["expandedTitle"],pf=()=>["expandedDetail"],uf=()=>[5,10,20,100],er=n=>({display:n});function ff(n,l){if(n&1){let e=w();a(0,"a",45),v("click",function(){d(e);let t=p();return m(t.onActionBackToParent())}),S(1,"i",46),r()}}function gf(n,l){if(n&1){let e=w();a(0,"div",17)(1,"a",47),v("click",function(){d(e);let t=p();return m(t.onActionButtonEditRow(t.tableRowSelected))}),S(2,"i",48)(3,"br"),r(),a(4,"p",49),c(5),f(6,"translate"),r()()}n&2&&(o(5),C(" ",g(6,1,"ACTION.EDIT")," "))}function _f(n,l){if(n&1){let e=w();a(0,"div",17)(1,"a",50),v("click",function(){d(e);let t=p();return m(t.onActionButtonDeleteRow(t.tableRowSelected))}),S(2,"i",51)(3,"br"),r(),a(4,"p",49),c(5),f(6,"translate"),r()()}n&2&&(o(5),C(" ",g(6,1,"ACTION.DELETE")," "))}function Mf(n,l){if(n&1){let e=w();a(0,"div",17)(1,"a",52),v("click",function(){d(e);let t=p();return m(t.onActionButtonViewRowLinkTargetId(t.tableRowSelected))}),S(2,"i",53)(3,"br"),r(),a(4,"p",49),c(5),f(6,"translate"),r()()}n&2&&(o(5),C(" ",g(6,1,"ACTION.BANNER")," "))}function Sf(n,l){if(n&1){let e=w();a(0,"div",17)(1,"a",52),v("click",function(){d(e);let t=p();return m(t.onActionButtonViewRowLinkbillboardId(t.tableRowSelected))}),S(2,"i",54)(3,"br"),r(),a(4,"p",49),c(5),f(6,"translate"),r()()}n&2&&(o(5),C(" ",g(6,1,"ACTION.BILLBOARD")," "))}function Cf(n,l){n&1&&(a(0,"mat-header-cell"),c(1),f(2,"translate"),r()),n&2&&(o(),C(" ",g(2,1,"TITLE.MENU")," "))}function hf(n,l){if(n&1){let e=w();a(0,"mat-cell")(1,"button",55),v("click",function(){let t=d(e).$implicit,s=p();return m(s.onActionTableRowSelectActionMenu(t))}),S(2,"i",56),r()()}}function bf(n,l){if(n&1&&(a(0,"mat-header-cell",57),c(1),r()),n&2){let e=p();o(),C(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function vf(n,l){if(n&1&&(a(0,"mat-cell"),c(1),r()),n&2){let e=l.$implicit;o(),C(" ",e.id," ")}}function If(n,l){if(n&1&&(a(0,"mat-header-cell",57),c(1),r()),n&2){let e=p();o(),C(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function wf(n,l){if(n&1&&(a(0,"mat-cell"),c(1),f(2,"cmssiteinfo"),f(3,"async"),r()),n&2){let e=l.$implicit;o(),C(" ",g(3,3,g(2,1,e.linkSiteId))," ")}}function Tf(n,l){if(n&1&&(a(0,"mat-header-cell",57),c(1),r()),n&2){let e=p();o(),C(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function Ef(n,l){if(n&1&&S(0,"select",59),n&2){let e=p().$implicit,i=p();_("contentService",i.contentService)("row",e)("ngStyle",at(3,er,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function kf(n,l){if(n&1&&(a(0,"mat-cell"),S(1,"i",58),f(2,"statusIconClass"),h(3,Ef,1,5,"select",59),r()),n&2){let e=l.$implicit,i=p();o(),_("ngClass",g(2,2,e.recordStatus)),o(2),b(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessEditRow?3:-1)}}function yf(n,l){if(n&1&&(a(0,"mat-header-cell",57),c(1),r()),n&2){let e=p();o(),C(" ",e.fieldsInfo.clickPrice==null?null:e.fieldsInfo.clickPrice.fieldTitle," ")}}function Lf(n,l){if(n&1&&(a(0,"mat-cell"),c(1),r()),n&2){let e=l.$implicit;o(),C(" ",e.clickPrice," ")}}function Af(n,l){if(n&1&&(a(0,"mat-header-cell",57),c(1),r()),n&2){let e=p();o(),C(" ",e.fieldsInfo.viewPrice==null?null:e.fieldsInfo.viewPrice.fieldTitle," ")}}function Rf(n,l){if(n&1&&(a(0,"mat-cell"),c(1),r()),n&2){let e=l.$implicit;o(),C(" ",e.viewPrice," ")}}function xf(n,l){if(n&1&&(a(0,"mat-header-cell",57),c(1),r()),n&2){let e=p();o(),C(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function Df(n,l){if(n&1&&(a(0,"mat-cell",60),c(1),f(2,"localeDateTime"),r()),n&2){let e=l.$implicit;o(),C(" ",g(2,1,e.createdDate)," ")}}function Bf(n,l){if(n&1&&(a(0,"mat-header-cell",57),c(1),r()),n&2){let e=p();o(),C(" ",e.fieldsInfo.linkManagementBillboardId==null?null:e.fieldsInfo.linkManagementBillboardId.fieldTitle," ")}}function Vf(n,l){if(n&1&&(a(0,"mat-cell"),c(1),r()),n&2){let e=l.$implicit;o(),C(" ",e.linkManagementBillboardId," ")}}function Pf(n,l){if(n&1&&(a(0,"mat-header-cell",57),c(1),r()),n&2){let e=p();o(),C(" ",e.fieldsInfo.linkManagementTargetId==null?null:e.fieldsInfo.linkManagementTargetId.fieldTitle," ")}}function Nf(n,l){if(n&1&&(a(0,"mat-cell"),c(1),r()),n&2){let e=l.$implicit;o(),C(" ",e.linkManagementTargetId," ")}}function Of(n,l){n&1&&(a(0,"mat-header-cell"),c(1),f(2,"translate"),r()),n&2&&(o(),C(" ",g(2,1,"TITLE.OPTION")," "))}function Ff(n,l){if(n&1&&(a(0,"mat-cell",61)(1,"button",62)(2,"mat-icon"),c(3,"more_vert"),r()(),S(4,"mat-menu",null,2),r()),n&2){let e=D(5);o(),_("matMenuTriggerFor",e)}}function Gf(n,l){if(n&1&&(a(0,"mat-cell"),c(1),f(2,"translate"),f(3,"localeDate"),S(4,"br"),c(5),f(6,"translate"),r()),n&2){let e=l.$implicit;o(),Ve(" ",g(2,4,"TITLE.CreationDate")," : ",g(3,6,e.createdDate)," "),o(4),Ve(" ",g(6,8,"TITLE.Id")," : ",e.id," ")}}function Wf(n,l){if(n&1&&(S(0,"img",63),f(1,"cmsthumbnail")),n&2){let e=p().$implicit;_("src",R(g(1,2,e.linkMainImageIdSrc)),Z)}}function Hf(n,l){if(n&1&&(a(0,"mat-cell")(1,"div")(2,"table")(3,"tr")(4,"th"),h(5,Wf,2,4,"img",63),r(),a(6,"th"),c(7),r()(),a(8,"tr"),S(9,"td"),a(10,"td"),c(11),r()(),a(12,"tr"),S(13,"td"),a(14,"td"),c(15),r()(),a(16,"tr"),S(17,"td"),a(18,"td"),c(19),r()(),a(20,"tr"),S(21,"td")(22,"td"),r()()()()),n&2){let e=l.$implicit,i=p();o(5),b((e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0?5:-1),o(2),Ve("",i.fieldsInfo.id==null?null:i.fieldsInfo.id.fieldTitle," : ",e.id),o(4),Ve(" ",i.fieldsInfo.ipAddress==null?null:i.fieldsInfo.ipAddress.fieldTitle," : ",e.ipAddress," "),o(4),Ve(" ",i.fieldsInfo.deviceId==null?null:i.fieldsInfo.deviceId.fieldTitle," : ",e.deviceId," "),o(4),Ve(" ",i.fieldsInfo.browserName==null?null:i.fieldsInfo.browserName.fieldTitle," : ",e.browserName," ")}}function qf(n,l){n&1&&S(0,"mat-header-row")}function jf(n,l){if(n&1){let e=w();a(0,"mat-row",64),v("click",function(t){let s=d(e).$implicit,M=p();return m(M.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=d(e).$implicit,M=p();return m(M.onActionTableRowSelect(s,t))})("mouseenter",function(){let t=d(e).$implicit,s=p();return m(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=d(e).$implicit,s=p();return m(s.onActionTableRowMouseLeave(t))}),r()}if(n&2){let e=l.$implicit,i=p();H("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}function Uf(n,l){if(n&1){let e=w();a(0,"mat-row",65),v("click",function(t){let s=d(e).$implicit,M=p();return m(M.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=d(e).$implicit,M=p();return m(M.onActionTableRowSelect(s,t))})("mouseenter",function(){let t=d(e).$implicit,s=p();return m(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=d(e).$implicit,s=p();return m(s.onActionTableRowMouseLeave(t))}),r()}if(n&2){let e=l.$implicit,i=p();H("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}function Qf(n,l){if(n&1){let e=w();a(0,"mat-row",66),v("click",function(t){let s=d(e).$implicit,M=p();return m(M.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=d(e).$implicit,M=p();return m(M.onActionTableRowSelect(s,t))})("mouseenter",function(){let t=d(e).$implicit,s=p();return m(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=d(e).$implicit,s=p();return m(s.onActionTableRowMouseLeave(t))}),r()}if(n&2){let e=l.$implicit,i=p();H("ntk-row-expanded",e.expanded===!0)("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)),_("ngStyle",at(5,er,e.expanded===!0?"":"none"))}}var Eo=class Eo extends Nt{constructor(e,i,t,s,M,u,x,q,K,ve,Re){super(e,new Cn,ve,M,x);this.contentService=e;this.cmsToastrService=i;this.activatedRoute=t;this.router=s;this.tokenHelper=M;this.cdr=u;this.translate=x;this.cmsStoreService=q;this.pageInfo=K;this.publicHelper=ve;this.dialog=Re;this.requestLinkManagementBillboardId=0;this.requestLinkManagementTargetId=0;this.requestKey="";this.constructorInfoAreaId=this.constructor.name;this.filteModelContent=new Ie;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["ClickPrice","ViewPrice","LinkManagementBillboardId","LinkManagementTargetId","action_menu"];this.tabledisplayedColumnsMobileSource=["ClickPrice","ViewPrice","LinkManagementBillboardId","LinkManagementTargetId","action_menu"];this.unsubscribe=[];if(this.publicHelper.processService.cdr=this.cdr,this.requestLinkManagementBillboardId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkManagementBillboardId")),this.requestLinkManagementTargetId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkManagementTargetId")),this.activatedRoute.snapshot.paramMap.get("Key")&&(this.requestKey=this.activatedRoute.snapshot.paramMap.get("Key")),this.requestLinkManagementBillboardId>0){let xe=new z;xe.propertyName="LinkManagementBillboardId",xe.value=this.requestLinkManagementBillboardId,this.filteModelContent.filters.push(xe)}if(this.requestLinkManagementTargetId>0){let xe=new z;xe.propertyName="LinkManagementTargetId",xe.value=this.requestLinkManagementTargetId,this.filteModelContent.filters.push(xe)}this.optionsSearch.parentMethods={onSubmit:xe=>this.onSubmitOptionsSearch(xe)},this.filteModelContent.sortColumn="id",this.filteModelContent.sortType=ge.Descending,this.optionsSearch.data.filterModelContent=this.filteModelContent,this.optionsSearch.data.filterActionSearchRecordStatusShow=!0,this.tokenHelper.isAdminSite?(this.optionsSearch.data.filterActionSearchLinkUserIdShow=!0,this.optionsSearch.data.filterActionSearchLinkSiteIdShow=!0):(this.optionsSearch.data.filterActionSearchLinkSiteIdShow=!1,this.optionsSearch.data.filterActionSearchLinkUserIdShow=!1)}filterModelCompiler(e){let i=JSON.parse(JSON.stringify(e));return this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),i}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>De(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Cn);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=this.filterModelCompiler(this.filteModelContent);if(this.filteModelContent.filterActionSearchRecordStatus>0){let t=new z;t.propertyName="recordStatus",t.value=this.filteModelContent.filterActionSearchRecordStatus,i.filters.push(t)}if(this.filteModelContent.filterActionSearchLinkSiteId>0){let t=new z;t.propertyName="linkSiteId",t.value=this.filteModelContent.filterActionSearchLinkSiteId,i.filters.push(t)}if(this.filteModelContent.filterActionSearchLinkUserId>0){let t=new z;t.propertyName="linkUserId",t.value=this.filteModelContent.filterActionSearchLinkUserId,i.filters.push(t)}this.contentService.setAccessLoad(),this.requestKey&&this.requestKey.length>0?this.contentService.ServiceGetAllByKey(this.requestKey,i).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),t.isSuccess&&(this.applyDataGetAllResult(t),this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}}):this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),t.isSuccess&&(this.applyDataGetAllResult(t),this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=ge.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=ge.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=ge.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonEditRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(ga,{height:"90%",panelClass:i,enterAnimationDuration:le.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:le.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(s=>{this.cmsToastrService.typeErrorSelected(s)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(fa,{height:"90%",panelClass:i,enterAnimationDuration:le.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:le.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate&&this.DataGetAll()})}onActionButtonViewRowLinkbillboardId(e=this.tableRowSelected,i){if(!(e?.id?.length>0)){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}this.onActionTableRowSelect(e),i?.ctrlKey?(this.link="/#/linkmanagement/billboard/edit/"+this.tableRowSelected.linkManagementBillboardId,window.open(this.link,"_blank")):this.router.navigate(["/linkmanagement/billboard/edit",this.tableRowSelected.linkManagementBillboardId])}onActionButtonViewRowLinkTargetId(e=this.tableRowSelected,i){if(!(e?.id?.length>0)){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}this.onActionTableRowSelect(e),i?.ctrlKey?(this.link="/#/linkmanagement/target/edit/"+this.tableRowSelected.linkManagementTargetId,window.open(this.link,"_blank")):this.router.navigate(["/linkmanagement/target/edit",this.tableRowSelected.linkManagementTargetId])}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(x=>{i.set(x,0)}),this.translate.get("MESSAGE.All").subscribe(x=>{i.set(x,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(x=>{this.publicHelper.processService.processStart(t,x,this.constructorInfoAreaId)});let s=this.filterModelCompiler(this.filteModelContent);if(this.filteModelContent.filterActionSearchRecordStatus>0){let x=new z;x.propertyName="recordStatus",x.value=this.filteModelContent.filterActionSearchRecordStatus,s.filters.push(x)}if(this.filteModelContent.filterActionSearchLinkSiteId>0){let x=new z;x.propertyName="linkSiteId",x.value=this.filteModelContent.filterActionSearchLinkSiteId,s.filters.push(x)}if(this.filteModelContent.filterActionSearchLinkUserId>0){let x=new z;x.propertyName="linkUserId",x.value=this.filteModelContent.filterActionSearchLinkUserId,s.filters.push(x)}this.contentService.ServiceGetCount(s).subscribe({next:x=>{x.isSuccess?(this.translate.get("MESSAGE.All").subscribe(q=>{i.set(q,x.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(x.errorMessage),this.publicHelper.processService.processStop(t)},error:x=>{this.cmsToastrService.typeError(x),this.publicHelper.processService.processStop(t,!1)}});let M=this.filterModelCompiler(this.filteModelContent);if(this.filteModelContent.filterActionSearchRecordStatus>0){let x=new z;x.propertyName="recordStatus",x.value=this.filteModelContent.filterActionSearchRecordStatus,M.filters.push(x)}if(this.filteModelContent.filterActionSearchLinkSiteId>0){let x=new z;x.propertyName="linkSiteId",x.value=this.filteModelContent.filterActionSearchLinkSiteId,M.filters.push(x)}if(this.filteModelContent.filterActionSearchLinkUserId>0){let x=new z;x.propertyName="linkUserId",x.value=this.filteModelContent.filterActionSearchLinkUserId,M.filters.push(x)}let u=new z;u.propertyName="recordStatus",u.value=gt.Available,M.filters.push(u),this.contentService.ServiceGetCount(M).subscribe({next:x=>{x.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(q=>{i.set(q,x.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(x.errorMessage),this.publicHelper.processService.processStop(t)},error:x=>{this.cmsToastrService.typeError(x),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.requestLinkManagementBillboardId>0&&this.router.navigate(["/linkmanagement/billboard/"]),this.requestLinkManagementTargetId>0&&this.router.navigate(["/linkmanagement/target/"])}};Eo.\u0275fac=function(i){return new(i||Eo)(I(Pi),I(G),I(st),I(Ze),I(tt),I(O),I(F),I(et),I(Bt),I(W),I(nt))},Eo.\u0275cmp=V({type:Eo,selectors:[["app-linkmanagement-target-billboard-log-list"]],standalone:!1,features:[U],decls:73,vars:37,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionActionRowDisplayMenuAct","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],[1,"col-4"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","","multiTemplateDataRows","",3,"matSortChange","dataSource"],["matColumnDef","action_menu"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","linkSiteId"],["matColumnDef","recordStatus"],["matColumnDef","ClickPrice"],["matColumnDef","ViewPrice"],["matColumnDef","createdDate"],["style","direction: ltr",4,"matCellDef"],["matColumnDef","LinkManagementBillboardId"],["matColumnDef","LinkManagementTargetId"],["matColumnDef","Action"],["class","Action",4,"matCellDef"],["matColumnDef","expandedTitle"],["matColumnDef","expandedDetail"],[4,"matHeaderRowDef"],["class","ntk-row-expandedTitle",3,"ntk-row-selected","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["class","ntk-row-expandedDetail",3,"ntk-row-expanded","ntk-row-selected","ngStyle","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-flag","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-billboard","font-18",2,"color","#ffffff"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"click"],[1,"fa","fa-bars","font-18"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[2,"direction","ltr"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],["aria-hidden","","height","80","width","80",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"ntk-row-expandedTitle",3,"click","rtclick","mouseenter","mouseleave"],[1,"ntk-row-mainfild",3,"click","rtclick","mouseenter","mouseleave"],[1,"ntk-row-expandedDetail",3,"click","rtclick","mouseenter","mouseleave","ngStyle"]],template:function(i,t){if(i&1){let s=w();a(0,"app-cms-html-list",3),y("optionActionGuideNoticeDisplayChange",function(u){return d(s),k(t.viewGuideNotice,u)||(t.viewGuideNotice=u),m(u)}),v("optionOnActionButtonMemoRow",function(){return d(s),m(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return d(s),m(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return d(s),m(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return d(s),m(t.onActionButtonPrintRow())}),L(1,4),c(2," ---------------------- "),A(),de(3,5)(4,6),L(5,7),a(6,"a",8),v("click",function(){return d(s),m(t.viewGuideNotice=!t.viewGuideNotice)}),S(7,"i",9),r(),a(8,"a",8),v("click",function(){return d(s),m(t.onActionButtonReload())}),S(9,"i",10),r(),h(10,ff,2,0,"a",11),A(),L(11,12),a(12,"a",13),v("click",function(){return d(s),m(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),S(13,"mat-slide-toggle",14),c(14),f(15,"translate"),r(),a(16,"a",13),v("click",function(){return d(s),m(t.onActionButtonStatist())}),S(17,"mat-slide-toggle",14),c(18),f(19,"translate"),r(),A(),de(20,15),L(21,16),h(22,gf,7,3,"div",17),h(23,_f,7,3,"div",17),h(24,Mf,7,3,"div",17),h(25,Sf,7,3,"div",17),A(),L(26,18),a(27,"app-cms-search-list",19),y("optionsChange",function(u){return d(s),k(t.optionsSearch,u)||(t.optionsSearch=u),m(u)}),r(),a(28,"app-cms-statist-list",19),y("optionsChange",function(u){return d(s),k(t.optionsStatist,u)||(t.optionsStatist=u),m(u)}),r(),A(),L(29,20),a(30,"mat-table",21,0),v("matSortChange",function(){d(s);let u=D(31);return m(t.onTableSortData(u))}),L(32,22),B(33,Cf,3,3,"mat-header-cell",23)(34,hf,3,0,"mat-cell",24),A(),L(35,25),B(36,bf,2,1,"mat-header-cell",26)(37,vf,2,1,"mat-cell",24),A(),L(38,27),B(39,If,2,1,"mat-header-cell",26)(40,wf,4,5,"mat-cell",24),A(),L(41,28),B(42,Tf,2,1,"mat-header-cell",26)(43,kf,4,4,"mat-cell",24),A(),L(44,29),B(45,yf,2,1,"mat-header-cell",26)(46,Lf,2,1,"mat-cell",24),A(),L(47,30),B(48,Af,2,1,"mat-header-cell",26)(49,Rf,2,1,"mat-cell",24),A(),L(50,31),B(51,xf,2,1,"mat-header-cell",26)(52,Df,3,3,"mat-cell",32),A(),L(53,33),B(54,Bf,2,1,"mat-header-cell",26)(55,Vf,2,1,"mat-cell",24),A(),L(56,34),B(57,Pf,2,1,"mat-header-cell",26)(58,Nf,2,1,"mat-cell",24),A(),L(59,35),B(60,Of,3,3,"mat-header-cell",23)(61,Ff,6,1,"mat-cell",36),A(),L(62,37),B(63,Gf,7,10,"mat-cell",24),A(),L(64,38),B(65,Hf,23,9,"mat-cell",24),A(),B(66,qf,1,0,"mat-header-row",39)(67,jf,1,2,"mat-row",40)(68,Uf,1,2,"mat-row",41)(69,Qf,1,7,"mat-row",42),r(),A(),L(70,43),a(71,"mat-paginator",44,1),v("page",function(u){return d(s),m(t.onTablePageingData(u))}),r(),A(),r()}i&2&&(_("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),E("optionActionGuideNoticeDisplay",t.viewGuideNotice),_("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionActionRowDisplayMenuAct",t.tableRowSelectActionMenuClick)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),o(9),H("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(),b(t.requestLinkManagementBillboardId>0||t.requestLinkManagementTargetId>0?10:-1),o(3),_("checked",t.optionsSearch.data.show),o(),C("",g(15,30,"ACTION.SEARCH")," "),o(3),_("checked",t.optionsStatist.data.show),o(),C("",g(19,32,"ACTION.STATIST")," "),o(4),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?22:-1),o(),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?23:-1),o(),b((t.tableRowSelected==null?null:t.tableRowSelected.linkManagementTargetId)>0?24:-1),o(),b((t.tableRowSelected==null?null:t.tableRowSelected.linkManagementBillboardId)>0?25:-1),o(2),E("options",t.optionsSearch),o(),E("options",t.optionsStatist),o(2),_("dataSource",t.tableSource),o(36),_("matHeaderRowDef",t.tabledisplayedColumns),o(),_("matRowDefColumns",se(34,mf)),o(),_("matRowDefColumns",t.tabledisplayedColumns),o(),_("matRowDefColumns",se(35,pf)),o(2),_("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",se(36,uf)))},dependencies:[Pe,ti,it,Ne,N,ht,bt,Oe,Fe,vt,It,wt,Et,At,kt,Tt,Rt,yt,Lt,xt,Dt,Ge,We,Ot,He,Qe,Ye,P,Ft,be,Gt,qo,qe],encapsulation:2});var Ei=Eo;var zf=()=>[5,10,20,100],Kf=(n,l)=>l.id;function Jf(n,l){if(n&1){let e=w();a(0,"div",17)(1,"a",25),v("click",function(){d(e);let t=p();return m(t.onActionButtonEditRow(t.tableRowSelected))}),S(2,"i",26)(3,"br"),r(),a(4,"p",27),c(5),f(6,"translate"),r()()}n&2&&(o(5),C(" ",g(6,1,"ACTION.EDIT")," "))}function Xf(n,l){if(n&1){let e=w();a(0,"div",17)(1,"a",28),v("click",function(){d(e);let t=p();return m(t.onActionButtonDeleteRow(t.tableRowSelected))}),S(2,"i",29)(3,"br"),r(),a(4,"p",27),c(5),f(6,"translate"),r()()}n&2&&(o(5),C(" ",g(6,1,"ACTION.DELETE")," "))}function Yf(n,l){if(n&1){let e=w();a(0,"div",17)(1,"a",30),v("click",function(){d(e);let t=p();return m(t.onActionButtonViewRow(t.tableRowSelected))}),S(2,"i",31)(3,"br"),r(),a(4,"p",27),c(5),f(6,"translate"),r()()}n&2&&(o(5),C(" ",g(6,1,"ACTION.VIEW")," "))}function Zf(n,l){if(n&1&&S(0,"select",41),n&2){let e=p(2).$implicit,i=p(2);_("contentService",i.contentService)("row",e)}}function $f(n,l){if(n&1&&(a(0,"div",38),S(1,"i",40),f(2,"statusIconClass"),h(3,Zf,1,2,"select",41),r()),n&2){let e=p().$implicit,i=p(2);o(),_("ngClass",g(2,2,e.recordStatus)),o(2),b(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessEditRow&&e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?3:-1)}}function eg(n,l){if(n&1){let e=w();a(0,"div",39)(1,"div",38)(2,"span",42),v("click",function(t){return d(e),p(3).onActionCopied(),m(t.stopPropagation())}),S(3,"i",43),r(),c(4),r()()}if(n&2){let e=p().$implicit;o(2),_("cdkCopyToClipboard",e.id.toString()),o(2),C(" ID: ",e.id," ")}}function tg(n,l){if(n&1){let e=w();a(0,"div",33),v("click",function(t){let s=d(e).$implicit,M=p(2);return m(M.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=d(e).$implicit,M=p(2);return m(M.onActionTableRowSelect(s,t))})("mouseenter",function(){let t=d(e).$implicit,s=p(2);return m(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=d(e).$implicit,s=p(2);return m(s.onActionTableRowMouseLeave(t))}),a(1,"div",34),S(2,"i",35),f(3,"statusIconClass"),r(),a(4,"div",36)(5,"div",37),c(6),r(),h(7,$f,4,4,"div",38),h(8,eg,5,2,"div",39),r()()}if(n&2){let e=l.$implicit,i=p(2);H("selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))("bg-fade-highlight-light",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)),Be("aria-label",e.id),o(2),_("ngClass",g(3,9,e.recordStatus)),o(4),C(" ","ID: "+e.id," "),o(),b(e.recordStatus!==void 0?7:-1),o(),b(i.getRowExpanded(e)?8:-1)}}function ig(n,l){if(n&1&&(a(0,"div",21),me(1,tg,9,11,"div",32,Kf),r()),n&2){let e=p();o(),pe(e.dataModelResult.listItems)}}function ng(n,l){n&1&&(a(0,"div",22),c(1),f(2,"translate"),r()),n&2&&(o(),T(g(2,1,"MESSAGE.NoRecord")))}var pn=class pn extends Ei{};pn.\u0275fac=(()=>{let l;return function(i){return(l||(l=_t(pn)))(i||pn)}})(),pn.\u0275cmp=V({type:pn,selectors:[["app-linkmanagement-target-billboard-log-list-mobile"]],standalone:!1,features:[U],decls:36,vars:30,consts:[["paginator",""],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionOnScrollNearBottom","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplay","optionActionRowDisplayMenu","optionActionRowDisplayMenuAct","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-maximize","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-minimize","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],[1,"col-4"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],[1,"cms-m-list"],[1,"cms-m-empty"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],["role","button","tabindex","0",1,"cms-m-list-item","border-highlight",3,"selected","bg-fade-highlight-light"],["role","button","tabindex","0",1,"cms-m-list-item","border-highlight",3,"click","rtclick","mouseenter","mouseleave"],[1,"cms-m-list-item-image-placeholder"],["aria-hidden","true",3,"ngClass"],[1,"cms-m-list-item-content"],[1,"cms-m-list-item-title"],[1,"cms-m-list-item-subtitle"],[1,"cms-m-list-item-expanded"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none","margin-left","8px",3,"contentService","row"],[1,"navi-icon","pointer",3,"click","cdkCopyToClipboard"],[1,"flaticon2-copy"]],template:function(e,i){if(e&1){let t=w();a(0,"app-cms-html-list-mobile",1),y("optionActionGuideNoticeDisplayChange",function(M){return d(t),k(i.viewGuideNotice,M)||(i.viewGuideNotice=M),m(M)}),v("optionOnActionButtonMemoRow",function(){return d(t),m(i.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return d(t),m(i.onActionButtonMemo())})("optionOnActionButtonExport",function(){return d(t),m(i.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return d(t),m(i.onActionButtonPrintRow())})("optionOnScrollNearBottom",function(){return d(t),m(i.onActionLoadNextPage())}),de(1,2)(2,3)(3,4),L(4,5),a(5,"a",6),v("click",function(){return d(t),m(i.viewGuideNotice=!i.viewGuideNotice)}),S(6,"i",7),r(),a(7,"a",6),v("click",function(){return d(t),m(i.onActionButtonReload())}),S(8,"i",8),r(),a(9,"a",9),v("click",function(){return d(t),m(i.onActionGridExpandRows(!0))}),S(10,"i",10),r(),a(11,"a",9),v("click",function(){return d(t),m(i.onActionGridExpandRows(!1))}),S(12,"i",11),r(),A(),L(13,12),a(14,"a",13),v("click",function(){return d(t),m(i.optionsSearch.data.show=!i.optionsSearch.data.show)}),S(15,"mat-slide-toggle",14),c(16),f(17,"translate"),r(),a(18,"a",13),v("click",function(){return d(t),m(i.onActionButtonStatist())}),S(19,"mat-slide-toggle",14),c(20),f(21,"translate"),r(),A(),de(22,15),L(23,16),h(24,Jf,7,3,"div",17),h(25,Xf,7,3,"div",17),h(26,Yf,7,3,"div",17),A(),L(27,18),a(28,"app-cms-search-list",19),y("optionsChange",function(M){return d(t),k(i.optionsSearch,M)||(i.optionsSearch=M),m(M)}),r(),a(29,"app-cms-statist-list",19),y("optionsChange",function(M){return d(t),k(i.optionsStatist,M)||(i.optionsStatist=M),m(M)}),r(),A(),L(30,20),h(31,ig,3,0,"div",21)(32,ng,3,3,"div",22),A(),L(33,23),a(34,"mat-paginator",24,0),v("page",function(){return d(t),m(i.onTablePageingData())}),r(),A(),r()}e&2&&(_("optionsListInfoAreaId",i.constructorInfoAreaId)("optionGuideNoticeKey","link-management.target-billboard-log.list"),E("optionActionGuideNoticeDisplay",i.viewGuideNotice),_("optionTreeDisplay",!1)("optionActionRowId",i.tableRowSelected==null?null:i.tableRowSelected.id)("optionActionRowDisplay",(i.tableRowSelected==null||i.tableRowSelected.id==null?null:i.tableRowSelected.id.length)>0)("optionActionRowDisplayMenu",i.tableRowSelect2Click)("optionActionRowDisplayMenuAct",i.tableRowSelectActionMenuClick)("optionSelectRowItemTitle",i.tableRowSelected==null?null:i.tableRowSelected.id),o(8),H("rotation360",i.publicHelper.processService.process.inRunArea[i.constructorInfoAreaId]),o(7),_("checked",i.optionsSearch.data.show),o(),C(" ",g(17,25,"ACTION.SEARCH")),o(3),_("checked",i.optionsStatist.data.show),o(),C(" ",g(21,27,"ACTION.STATIST")),o(4),b(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessEditRow&&(i.tableRowSelected==null||i.tableRowSelected.id==null?null:i.tableRowSelected.id.length)>0?24:-1),o(),b(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessDeleteRow&&(i.tableRowSelected==null||i.tableRowSelected.id==null?null:i.tableRowSelected.id.length)>0?25:-1),o(),b(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessWatchRow&&(i.tableRowSelected==null||i.tableRowSelected.id==null?null:i.tableRowSelected.id.length)>0?26:-1),o(2),E("options",i.optionsSearch),o(),E("options",i.optionsStatist),o(2),b(!(i.dataModelResult==null||i.dataModelResult.listItems==null)&&i.dataModelResult.listItems.length?31:32),o(3),_("length",i.dataModelResult.totalRowCount)("pageIndex",i.dataModelResult.currentPageNumber-1)("pageSize",i.dataModelResult.rowPerPage)("pageSizeOptions",se(29,zf)))},dependencies:[Pe,N,Oe,Fe,$e,Ge,We,Wt,He,Qe,P,qe],encapsulation:2});var un=pn;var og=["vform"];function ag(n,l){if(n&1){let e=w();a(0,"app-cms-enum-record-status-selector",47),y("modelChange",function(t){d(e);let s=p();return k(s.dataModel.recordStatus,t)||(s.dataModel.recordStatus=t),m(t)}),r()}if(n&2){let e=p();E("model",e.dataModel.recordStatus),_("optionDisabled",!((e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.accessAddField)??!1))("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function rg(n,l){n&1&&S(0,"i",32)}function lg(n,l){n&1&&S(0,"i",33)}function sg(n,l){if(n&1&&(a(0,"mat-error"),c(1),a(2,"strong"),c(3),f(4,"translate"),r()()),n&2){let e=p();o(),C(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," is "),o(2),T(g(4,2,"MESSAGE.required"))}}function cg(n,l){if(n&1){let e=w();a(0,"app-linkmanagement-billboard-pattern-selector",48),f(1,"translate"),v("optionChange",function(t){d(e);let s=p();return m(s.onActionSelectorSelectLinkBillboardPatternId(t))}),r()}if(n&2){let e=p();_("optionSelectForce",e.dataModel.linkBillboardPatternId)("optionPlaceholder",g(1,2,"TITLE.Billboard_Pattern"))}}function dg(n,l){if(n&1&&(a(0,"option",50),c(1),r()),n&2){let e=l.$implicit;_("value",e.value),o(),C(" ",e.description," ")}}function mg(n,l){n&1&&(a(0,"mat-error"),c(1," SharingLinkType is "),a(2,"strong"),c(3),f(4,"translate"),r()()),n&2&&(o(3),T(g(4,1,"MESSAGE.required")))}function pg(n,l){if(n&1){let e=w();a(0,"div",29)(1,"select",49,3),y("ngModelChange",function(t){d(e);let s=p();return k(s.dataModel.sharingLinkType,t)||(s.dataModel.sharingLinkType=t),m(t)}),me(3,dg,2,2,"option",50,Xe),r(),a(5,"em"),c(6),f(7,"translate"),r(),h(8,mg,5,3,"mat-error"),r()}if(n&2){let e=D(2),i=p();o(),E("ngModel",i.dataModel.sharingLinkType),o(2),pe(i.dataModelEnumSharingPriceTypeResult.listItems),o(3),T(g(7,3,"TITLE.Select_type_of_content")),o(2),b(e.errors!=null&&e.errors.required?8:-1)}}function ug(n,l){if(n&1){let e=w();a(0,"div",35)(1,"div",22)(2,"h5",51),c(3),r()(),a(4,"div",24)(5,"div",25)(6,"input",52),y("ngModelChange",function(t){d(e);let s=p();return k(s.dataModel.isPublic,t)||(s.dataModel.isPublic=t),m(t)}),r(),S(7,"label",53),r()()()}if(n&2){let e=p();o(3),C(" ",e.fieldsInfo.isPublic==null?null:e.fieldsInfo.isPublic.fieldTitle," "),o(3),E("ngModel",e.dataModel.isPublic)}}function fg(n,l){n&1&&(a(0,"mat-error"),c(1," ToWebAddress is "),a(2,"strong"),c(3),f(4,"translate"),r()()),n&2&&(o(3),T(g(4,1,"MESSAGE.required")))}function gg(n,l){if(n&1){let e=w();a(0,"div",29)(1,"label",54),c(2),r(),a(3,"input",55,4),y("ngModelChange",function(t){d(e);let s=p();return k(s.dataModel.toWebAddress,t)||(s.dataModel.toWebAddress=t),m(t)}),r(),a(5,"em"),c(6),r(),h(7,fg,5,3,"mat-error"),r()}if(n&2){let e=D(4),i=p();o(2),T(i.fieldsInfo.toWebAddress==null?null:i.fieldsInfo.toWebAddress.fieldTitle),o(),_("placeholder",R(i.fieldsInfo.toWebAddress==null?null:i.fieldsInfo.toWebAddress.fieldTitle)),E("ngModel",i.dataModel.toWebAddress),o(3),C("",e.value.length," / 100"),o(),b(e.errors!=null&&e.errors.required?7:-1)}}function _g(n,l){n&1&&(a(0,"mat-error"),c(1," WebAddress is "),a(2,"strong"),c(3),f(4,"translate"),r()()),n&2&&(o(3),T(g(4,1,"MESSAGE.required")))}function Mg(n,l){if(n&1){let e=w();a(0,"div",29)(1,"label",56),c(2),r(),a(3,"input",57,5),y("ngModelChange",function(t){d(e);let s=p();return k(s.dataModel.webAddress,t)||(s.dataModel.webAddress=t),m(t)}),r(),a(5,"em"),c(6),r(),h(7,_g,5,3,"mat-error"),r()}if(n&2){let e=D(4),i=p();o(2),T(i.fieldsInfo.webAddress==null?null:i.fieldsInfo.webAddress.fieldTitle),o(),_("placeholder",R(i.fieldsInfo.webAddress==null?null:i.fieldsInfo.webAddress.fieldTitle)),E("ngModel",i.dataModel.webAddress),o(3),C("",e.value.length," / 100"),o(),b(e.errors!=null&&e.errors.required?7:-1)}}function Sg(n,l){n&1&&(a(0,"mat-error"),c(1," SmallPreview is "),a(2,"strong"),c(3),f(4,"translate"),r()()),n&2&&(o(3),T(g(4,1,"MESSAGE.required")))}function Cg(n,l){if(n&1){let e=w();a(0,"div",29)(1,"label",58),c(2),r(),a(3,"input",59,6),y("ngModelChange",function(t){d(e);let s=p();return k(s.dataModel.smallPreview,t)||(s.dataModel.smallPreview=t),m(t)}),r(),a(5,"em"),c(6),r(),h(7,Sg,5,3,"mat-error"),r()}if(n&2){let e=D(4),i=p();o(2),T(i.fieldsInfo.smallPreview==null?null:i.fieldsInfo.smallPreview.fieldTitle),o(),_("placeholder",R(i.fieldsInfo.smallPreview==null?null:i.fieldsInfo.smallPreview.fieldTitle)),E("ngModel",i.dataModel.smallPreview),o(3),C("",e.value.length," / 100"),o(),b(e.errors!=null&&e.errors.required?7:-1)}}function hg(n,l){n&1&&(a(0,"mat-error"),c(1," ClickPrice is "),a(2,"strong"),c(3),f(4,"translate"),r()()),n&2&&(o(3),T(g(4,1,"MESSAGE.required")))}function bg(n,l){if(n&1){let e=w();a(0,"div",29)(1,"label",60),c(2),r(),a(3,"input",61,7),f(5,"translate"),y("ngModelChange",function(t){d(e);let s=p();return k(s.dataModel.clickPrice,t)||(s.dataModel.clickPrice=t),m(t)}),r(),h(6,hg,5,3,"mat-error"),r()}if(n&2){let e=D(4),i=p();o(2),T(i.fieldsInfo.clickPrice==null?null:i.fieldsInfo.clickPrice.fieldTitle),o(),_("placeholder",R(g(5,5,"TITLE.Amount_Per_Click"))),E("ngModel",i.dataModel.clickPrice),o(3),b(e.errors!=null&&e.errors.required?6:-1)}}function vg(n,l){n&1&&(a(0,"mat-error"),c(1," ViewPrice is "),a(2,"strong"),c(3),f(4,"translate"),r()()),n&2&&(o(3),T(g(4,1,"MESSAGE.required")))}function Ig(n,l){if(n&1){let e=w();a(0,"div",29)(1,"label",62),c(2),r(),a(3,"input",63,8),f(5,"translate"),y("ngModelChange",function(t){d(e);let s=p();return k(s.dataModel.viewPrice,t)||(s.dataModel.viewPrice=t),m(t)}),r(),h(6,vg,5,3,"mat-error"),r()}if(n&2){let e=D(4),i=p();o(2),T(i.fieldsInfo.viewPrice==null?null:i.fieldsInfo.viewPrice.fieldTitle),o(),_("placeholder",R(g(5,5,"TITLE.Amount_Per_Show"))),E("ngModel",i.dataModel.viewPrice),o(3),b(e.errors!=null&&e.errors.required?6:-1)}}function wg(n,l){n&1&&(a(0,"mat-error"),c(1," MaxPriceOfSharePerDay is "),a(2,"strong"),c(3),f(4,"translate"),r()()),n&2&&(o(3),T(g(4,1,"MESSAGE.required")))}function Tg(n,l){if(n&1){let e=w();a(0,"div",29)(1,"label",64),c(2),r(),a(3,"input",65,9),f(5,"translate"),y("ngModelChange",function(t){d(e);let s=p();return k(s.dataModel.maxPriceOfSharePerDay,t)||(s.dataModel.maxPriceOfSharePerDay=t),m(t)}),r(),h(6,wg,5,3,"mat-error"),r()}if(n&2){let e=D(4),i=p();o(2),T(i.fieldsInfo.maxPriceOfSharePerDay==null?null:i.fieldsInfo.maxPriceOfSharePerDay.fieldTitle),o(),_("placeholder",R(g(5,5,"TITLE.Number_of_views_so_far"))),E("ngModel",i.dataModel.maxPriceOfSharePerDay),o(3),b(e.errors!=null&&e.errors.required?6:-1)}}function Eg(n,l){n&1&&(a(0,"mat-error"),c(1," MaxPriceOfShareTotal is "),a(2,"strong"),c(3),f(4,"translate"),r()()),n&2&&(o(3),T(g(4,1,"MESSAGE.required")))}function kg(n,l){if(n&1){let e=w();a(0,"div",29)(1,"label",66),c(2),r(),a(3,"input",67,10),f(5,"translate"),y("ngModelChange",function(t){d(e);let s=p();return k(s.dataModel.maxPriceOfShareTotal,t)||(s.dataModel.maxPriceOfShareTotal=t),m(t)}),r(),h(6,Eg,5,3,"mat-error"),r()}if(n&2){let e=D(4),i=p();o(2),T(i.fieldsInfo.maxPriceOfShareTotal==null?null:i.fieldsInfo.maxPriceOfShareTotal.fieldTitle),o(),_("placeholder",R(g(5,5,"TITLE.Number_of_click_so_far"))),E("ngModel",i.dataModel.maxPriceOfShareTotal),o(3),b(e.errors!=null&&e.errors.required?6:-1)}}function yg(n,l){n&1&&(a(0,"mat-error"),c(1," FormulaPercent is "),a(2,"strong"),c(3),f(4,"translate"),r()()),n&2&&(o(3),T(g(4,1,"MESSAGE.required")))}function Lg(n,l){if(n&1){let e=w();a(0,"div",29)(1,"label",68),c(2),r(),a(3,"input",69,11),f(5,"translate"),y("ngModelChange",function(t){d(e);let s=p();return k(s.dataModel.formulaPercent,t)||(s.dataModel.formulaPercent=t),m(t)}),r(),h(6,yg,5,3,"mat-error"),r()}if(n&2){let e=D(4),i=p();o(2),T(i.fieldsInfo.formulaPercent==null?null:i.fieldsInfo.formulaPercent.fieldTitle),o(),_("placeholder",R(g(5,5,"TITLE.Number_of_views_so_far"))),E("ngModel",i.dataModel.formulaPercent),o(3),b(e.errors!=null&&e.errors.required?6:-1)}}function Ag(n,l){if(n&1){let e=w();a(0,"div",36)(1,"button",70),v("click",function(){d(e);let t=p();return m(t.onActionBackToParent())}),c(2),f(3,"translate"),r(),a(4,"button",71),c(5),f(6,"translate"),r()()}if(n&2){p();let e=D(10);o(2),C(" ",g(3,3,"ACTION.BACK")," "),o(2),_("disabled",!e.form.valid),o(),C(" ",g(6,5,"ACTION.NEXT")," ")}}function Rg(n,l){if(n&1&&(a(0,"div",36)(1,"button",72),c(2),f(3,"translate"),r(),a(4,"button",71),c(5),f(6,"translate"),r()()),n&2){p();let e=D(10);o(2),C(" ",g(3,3,"ACTION.BEFOR")," "),o(2),_("disabled",!e.form.valid),o(),C(" ",g(6,5,"ACTION.NEXT")," ")}}function xg(n,l){if(n&1&&(S(0,"img",42),f(1,"cmsthumbnail")),n&2){let e=p();_("src",R(g(1,2,e.dataModel.linkMainImageIdSrc)),Z)}}function Dg(n,l){if(n&1){let e=w();a(0,"div",29)(1,"label",73),v("click",function(){d(e);let t=p();return m(t.fileManagerOpenForm=!0)}),c(2),f(3,"translate"),r(),a(4,"input",74,12),f(6,"translate"),y("ngModelChange",function(t){d(e);let s=p();return k(s.dataModel.linkMainImageId,t)||(s.dataModel.linkMainImageId=t),m(t)}),v("click",function(){d(e);let t=p();return m(t.fileManagerOpenForm=!0)}),r(),a(7,"cms-file-manager",75),v("itemSelected",function(t){d(e);let s=p();return m(s.onActionFileSelectedLinkMainImageId(t))}),y("openFormChange",function(t){d(e);let s=p();return k(s.fileManagerOpenForm,t)||(s.fileManagerOpenForm=t),m(t)}),r()()}if(n&2){let e=p();o(2),T(g(3,12,"TITLE.Original_Photo")),o(2),_("placeholder",R(g(6,14,"TITLE.Original_File_ID"))),E("ngModel",e.dataModel.linkMainImageId),o(3),_("language",e.appLanguage)("isPopup",!0),E("openForm",e.fileManagerOpenForm),_("tree",e.fileManagerTree)("openDirectUploadView",!0)("openFilemanagerButtonLabelKey","select")("selectFileType",e.selectFileTypeMainImage)("openFilemanagerButtonView",!1)}}function Bg(n,l){if(n&1&&(a(0,"div",36)(1,"button",72),c(2),f(3,"translate"),r(),a(4,"button",76),c(5),f(6,"translate"),r()()),n&2){p();let e=D(10);o(2),C(" ",g(3,3,"ACTION.BEFOR")," "),o(2),_("disabled",!e.form.valid),o(),C(" ",g(6,5,"ACTION.SAVE")," ")}}function Vg(n,l){n&1&&(a(0,"mat-icon"),c(1,"call_end"),r())}function Pg(n,l){n&1&&(a(0,"mat-icon"),c(1,"call_end"),r())}function Ng(n,l){n&1&&(a(0,"mat-icon"),c(1,"forum"),r())}function Og(n,l){n&1&&(a(0,"mat-icon"),c(1,"forum"),r())}var ko=class ko extends Pt{constructor(e,i,t,s,M,u,x,q,K,ve){super(M,new wi,s,ve);this.activatedRoute=e;this.coreEnumService=i;this.linkManagementEnumService=t;this.publicHelper=s;this.linkManagementTargetService=M;this.contentCategoryService=u;this.cmsToastrService=x;this.router=q;this.cdr=K;this.translate=ve;this.requestLinkBillboardPatternId=0;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.dataModel=new wi;this.dataModelResult=new j;this.dataModelEnumManagementContentSettingTypeResult=new j;this.dataModelEnumSharingPriceTypeResult=new j;this.optionActionTitle="";this.optionActionButtomEnable=!0;this.dataProfessional=!0;this.optionTabledisplayedColumns=["id","Option","OptionAnswer","IsCorrectAnswer","NumberOfVotes","ScoreOfVotes","Action"];this.dataContentCategoryModel=[];this.selectFileTypeMainImage=["jpg","jpeg","png"];this.selectFileTypePodcast=["mp3"];this.selectFileTypeMovie=["mp4","webm"];this.dataFileModel=new Map;this.fileManagerOpenForm=!1;this.fileManagerOpenFormPodcast=!1;this.fileManagerOpenFormMovie=!1;this.appLanguage="fa";this.viewMap=!1;this.mapMarkerPoints=[];this.mapOptonCenter=new Yi;this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),this.translate.get("ACTION.Add_To_List").subscribe(Re=>{this.optionActionTitle=Re})}ngOnInit(){if(this.requestLinkBillboardPatternId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkBillboardPatternId")),this.requestLinkBillboardPatternId===0){this.cmsToastrService.typeErrorAddRowParentIsNull();return}this.dataModel.linkBillboardPatternId=this.requestLinkBillboardPatternId,this.DataGetAccess(),this.getEnumSharingPriceType(),this.getEnumManagementContentSettingType()}getEnumManagementContentSettingType(){this.linkManagementEnumService.ServiceManagementContentSettingTypeEnum().subscribe(e=>{this.dataModelEnumManagementContentSettingTypeResult=e})}getEnumSharingPriceType(){this.linkManagementEnumService.ServiceSharingPriceTypeEnum().subscribe(e=>{this.dataModelEnumSharingPriceTypeResult=e})}onActionFileSelectedLinkMainImageId(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}onFormSubmit(){if(this.requestLinkBillboardPatternId<=0){this.cmsToastrService.typeErrorAddRowParentIsNull();return}if(!this.formGroup.valid){this.cmsToastrService.typeErrorFormInvalid();return}this.DataEditContent()}DataGetOne(){this.formInfo.submitButtonEnabled=!1,this.translate.get("MESSAGE.get_information_from_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.linkManagementTargetService.ServiceGetOneById(this.dataModelResult.item.id).subscribe({next:i=>{this.publicHelper.processService.processStop(e),this.dataModelResult=i,this.formInfo.submitButtonEnabled=!0,i.isSuccess?(this.dataModel=i.item,this.publicHelper.processService.processStop(e)):this.cmsToastrService.typeErrorGetOne(i.errorMessage)},error:i=>{this.publicHelper.processService.processStop(e),this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeErrorGetOne(i)}})}DataAddContent(){this.formInfo.submitButtonEnabled=!1,this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.linkManagementTargetService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.publicHelper.processService.processStop(e),this.dataModelResult=i,i.isSuccess?(this.cmsToastrService.typeSuccessAdd(),this.dataModel=i.item):this.cmsToastrService.typeErrorAdd(i.errorMessage),this.formInfo.submitResultMessage="",this.formInfo.submitButtonEnabled=!0},error:i=>{this.publicHelper.processService.processStop(e),this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeErrorAdd(i)}})}DataEditContent(){this.formInfo.submitButtonEnabled=!1,this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";if(this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.dataModel.linkFileIds="",this.dataFileModel){let i=Array.from(this.dataFileModel.keys());i&&i.length>0&&(this.dataModel.linkFileIds=i.join(","))}this.linkManagementTargetService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.publicHelper.processService.processStop(e),this.formInfo.submitButtonEnabled=!0,i.isSuccess?(this.linkManagementTargetService.ServiceGetOneById(this.dataModel.id).subscribe({next:t=>{this.publicHelper.processService.processStop(e),this.formInfo.submitButtonEnabled=!0,this.dataModelResult=t,t.isSuccess?this.dataModel=t.item:this.cmsToastrService.typeErrorEdit(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.publicHelper.processService.processStop(e),this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(t)}}),this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.cmsToastrService.typeSuccessEdit(),setTimeout(()=>this.router.navigate(["/linkmanagement/target"]),1e3)):this.cmsToastrService.typeErrorEdit(i.errorMessage),this.publicHelper.processService.processStop(e)},error:i=>{this.publicHelper.processService.processStop(e),this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i)}})}onActionSelectorSelectLinkBillboardPatternId(e){if(!e||e.id<=0){this.translate.get("MESSAGE.Category_of_billboard_information_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkBillboardPatternId=e.id}onActionCategorySelectChecked(e){if(!e||e<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}let i=new hn;i.linkCategoryId=e,i.linkManagementTargetId=this.dataModel.id,this.contentCategoryService.ServiceAdd(i).subscribe({next:t=>{t.isSuccess?(this.translate.get("MESSAGE.registration_in_this_group_was_successful").subscribe(s=>{this.formInfo.submitResultMessage=s,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success}),this.cmsToastrService.typeSuccessEdit()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(s=>{this.formInfo.submitResultMessage=s}),this.formInfo.submitResultMessage=t.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(t.errorMessage))},error:t=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(t)}})}onActionCategorySelectDisChecked(e){if(!e||e<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}let i=new hn;i.linkCategoryId=e,i.linkManagementTargetId=this.dataModel.id,this.contentCategoryService.ServiceDeleteEntity(i).subscribe({next:t=>{t.isSuccess?(this.translate.get("MESSAGE.registration_in_this_group_was_successful").subscribe(s=>{this.formInfo.submitResultMessage=s,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success}),this.cmsToastrService.typeSuccessEdit()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(s=>{this.formInfo.submitResultMessage=s}),this.formInfo.submitResultMessage=t.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(t.errorMessage))},error:t=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(t)}})}onStepClick(e,i){e.previouslySelectedIndex<e.selectedIndex&&(this.formGroup.valid||(this.cmsToastrService.typeErrorFormInvalid(),setTimeout(()=>{i.selectedIndex=e.previouslySelectedIndex},10))),(!this.dataModelResult||!this.dataModelResult.item||this.dataModelResult.item.id<=0)&&this.DataAddContent()}onActionBackToParent(){this.router.navigate(["/linkmanagement/target/"])}};ko.\u0275fac=function(i){return new(i||ko)(I(st),I(ne),I(ot),I(W),I(Vi),I(vn),I(G),I(Ze),I(O),I(F))},ko.\u0275cmp=V({type:ko,selectors:[["app-linkmanagement-target-add"]],viewQuery:function(i,t){if(i&1&&ee(og,5),i&2){let s;te(s=ie())&&(t.formGroup=s.first)}},standalone:!1,features:[U],decls:69,vars:55,consts:[["vform","ngForm"],["stepper",""],["Title",""],["SharingLinkType","ngModel"],["ToWebAddress",""],["WebAddress",""],["SmallPreview",""],["ClickPrice",""],["ViewPrice",""],["MaxPriceOfSharePerDay",""],["MaxPriceOfShareTotal",""],["FormulaPercent",""],["LinkMainImageId",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"selectionChange"],["state","main",3,"label"],[1,"d-flex","mb-3",2,"position","inherit"],[1,"pt-1"],["data-trigger-switch","dataProfessional",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataProfessional","name","dataProfessionalt",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataProfessional",1,"custom-control-label"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[3,"optionSelectForce","optionPlaceholder"],[1,"d-flex","mb-3"],[1,"form-actions"],["state","seo",3,"label"],[3,"optionModelChange","optionSelectChecked","optionSelectDisChecked","optionModel"],["state","file",3,"label"],[1,"mb-3"],["target","_blank",3,"href"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["matStepperIcon","main"],["matStepperIcon","seo"],["matStepperIcon","file"],["matStepperIcon","loaction"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"optionChange","optionSelectForce","optionPlaceholder"],["id","dataModel.sharingLinkType","name","dataModel.sharingLinkType",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[3,"value"],["data-trigger-switch","dataModel.isPublic",1,"font-600","font-14"],["type","checkbox","id","dataModel.isPublic","name","dataModel.isPublic",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.isPublic",1,"custom-control-label"],["for","dataModel.toWebAddress",1,"color-highlight"],["matInput","","type","text","name","dataModel.toWebAddress","minlength","3","maxlength","2000","id","dataModel.toWebAddress",1,"form-control","validate-name",2,"direction","ltr","text-align","left !important",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.webAddress",1,"color-highlight"],["matInput","","type","text","name","dataModel.webAddress","minlength","3","maxlength","100","id","dataModel.webAddress",1,"form-control","validate-name",2,"direction","ltr","text-align","left !important",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.smallPreview",1,"color-highlight"],["matInput","","type","text","name","dataModel.smallPreview","minlength","3","maxlength","100","id","dataModel.smallPreview",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.clickPrice",1,"color-highlight"],["matInput","","type","number","name","dataModel.clickPrice","minlength","0","id","dataModel.clickPrice",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.viewPrice",1,"color-highlight"],["matInput","","type","number","name","dataModel.viewPrice","minlength","0","id","dataModel.viewPrice",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.maxPriceOfSharePerDay",1,"color-highlight"],["matInput","","type","number","name","dataModel.maxPriceOfSharePerDay","minlength","0","id","dataModel.maxPriceOfSharePerDay",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.maxPriceOfShareTotal",1,"color-highlight"],["matInput","","type","number","name","dataModel.maxPriceOfShareTotal","minlength","0","id","dataModel.maxPriceOfShareTotal",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.formulaPercent",1,"color-highlight"],["matInput","","type","number","name","dataModel.formulaPercent","minlength","1","id","dataModel.formulaPercent",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],["type","button","matStepperNext","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue",3,"disabled"],["type","button","matStepperPrevious","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openDirectUploadView","openFilemanagerButtonLabelKey","selectFileType","openFilemanagerButtonView"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"]],template:function(i,t){if(i&1){let s=w();a(0,"div",13),S(1,"app-progress-spinner",14),a(2,"div",15)(3,"p",16),c(4),r(),a(5,"p"),c(6),f(7,"translate"),r(),S(8,"app-cms-form-result-message",17),a(9,"form",18,0),v("ngSubmit",function(){return d(s),m(t.onFormSubmit())}),a(11,"mat-vertical-stepper",19,1),v("selectionChange",function(u){d(s);let x=D(12);return m(t.onStepClick(u,x))}),a(13,"mat-step",20),f(14,"translate"),S(15,"br"),a(16,"div",21)(17,"div",22)(18,"h5",23),c(19),f(20,"translate"),r()(),a(21,"div",24)(22,"div",25)(23,"input",26),y("ngModelChange",function(u){return d(s),k(t.dataProfessional,u)||(t.dataProfessional=u),m(u)}),r(),S(24,"label",27),r()()(),S(25,"br"),h(26,ag,1,5,"app-cms-enum-record-status-selector",28),a(27,"div",29)(28,"label",30),c(29),r(),a(30,"input",31,2),y("ngModelChange",function(u){return d(s),k(t.dataModel.title,u)||(t.dataModel.title=u),m(u)}),r(),h(32,rg,1,0,"i",32),h(33,lg,1,0,"i",33),a(34,"em"),c(35),r(),h(36,sg,5,4,"mat-error"),r(),h(37,cg,2,4,"app-linkmanagement-billboard-pattern-selector",34),h(38,pg,9,5,"div",29),h(39,ug,8,2,"div",35),h(40,gg,8,6,"div",29),h(41,Mg,8,6,"div",29),h(42,Cg,8,6,"div",29),h(43,bg,7,7,"div",29),h(44,Ig,7,7,"div",29),h(45,Tg,7,7,"div",29),h(46,kg,7,7,"div",29),h(47,Lg,7,7,"div",29),h(48,Ag,7,7,"div",36),r(),a(49,"mat-step",37),f(50,"translate"),a(51,"app-linkmanagement-category-treeselector",38),y("optionModelChange",function(u){return d(s),k(t.dataContentCategoryModel,u)||(t.dataContentCategoryModel=u),m(u)}),v("optionSelectChecked",function(u){return d(s),m(t.onActionCategorySelectChecked(u))})("optionSelectDisChecked",function(u){return d(s),m(t.onActionCategorySelectDisChecked(u))}),r(),S(52,"br"),h(53,Rg,7,7,"div",36),r(),a(54,"mat-step",39),f(55,"translate"),a(56,"p"),c(57),f(58,"translate"),r(),a(59,"div",40)(60,"a",41),f(61,"cmsthumbnail"),h(62,xg,2,4,"img",42),r()(),h(63,Dg,8,16,"div",29),h(64,Bg,7,7,"div",36),r(),B(65,Vg,2,0,"ng-template",43)(66,Pg,2,0,"ng-template",44)(67,Ng,2,0,"ng-template",45)(68,Og,2,0,"ng-template",46),r()()()()}if(i&2){let s=D(31);o(),_("optionsInfoAreaId",t.constructorInfoAreaId),o(3),C(" ",t.formInfo.formTitle," "),o(2),C(" ",g(7,41,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),_("formInfo",t.formInfo),o(5),_("label",R(g(14,43,"TITLE.REQUIRED_INFORMATION"))),o(6),C(" ",g(20,45,"TITLE.Would_you_like_to_complete_your_information")," "),o(4),E("ngModel",t.dataProfessional),o(3),b(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?26:-1),o(3),T(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),_("placeholder",R(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),E("ngModel",t.dataModel.title),o(2),b(s.value?-1:32),o(),b(s.value?33:-1),o(2),C("",s.value.length," / 100"),o(),b(s.errors!=null&&s.errors.required?36:-1),o(),b(t.dataProfessional?37:-1),o(),b(t.dataProfessional?38:-1),o(),b(t.fieldsInfo.isPublic!=null&&t.fieldsInfo.isPublic.accessWatchField?39:-1),o(),b(t.dataProfessional?40:-1),o(),b(t.dataProfessional?41:-1),o(),b(t.dataProfessional?42:-1),o(),b(t.dataProfessional?43:-1),o(),b(t.dataProfessional?44:-1),o(),b(t.dataProfessional?45:-1),o(),b(t.dataProfessional?46:-1),o(),b(t.dataProfessional?47:-1),o(),b(t.formInfo.submitButtonEnabled?48:-1),o(),_("label",R(g(50,47,"TITLE.TARGET_SELECTION"))),o(2),E("optionModel",t.dataContentCategoryModel),o(2),b(t.formInfo.submitButtonEnabled?53:-1),o(),_("label",R(g(55,49,"TITLE.ATTACH_FILES"))),o(3),T(g(58,51,"TITLE.CONTENT_ATTACH_FILES")),o(3),_("href",R(g(61,53,t.dataModel.linkMainImageIdSrc)),Z),o(2),b((t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0?62:-1),o(),b(t.fieldsInfo.linkMainImageId!=null&&t.fieldsInfo.linkMainImageId.accessWatchField?63:-1),o(),b(t.formInfo.submitButtonEnabled?64:-1)}},dependencies:[ke,li,si,J,Ke,ai,ri,X,Te,Y,Ce,he,oe,Ee,ye,Ne,N,zi,Ki,Ji,Xi,Qi,Ae,Q,Le,Zi,Je,mt,bi,mi,P,be],encapsulation:2});var yo=ko;var Fg=["vform"];function Gg(n,l){if(n&1){let e=w();a(0,"app-cms-enum-record-status-selector",68),y("modelChange",function(t){d(e);let s=p();return k(s.dataModel.recordStatus,t)||(s.dataModel.recordStatus=t),m(t)}),r()}if(n&2){let e=p();E("model",e.dataModel.recordStatus),_("optionDisabled",!((e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.accessEditField)??!1))("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Wg(n,l){n&1&&S(0,"i",28)}function Hg(n,l){n&1&&S(0,"i",29)}function qg(n,l){if(n&1&&(a(0,"mat-error"),c(1),a(2,"strong"),c(3),f(4,"translate"),r()()),n&2){let e=p();o(),C(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," is "),o(2),T(g(4,2,"MESSAGE.required"))}}function jg(n,l){if(n&1&&(a(0,"option",32),c(1),r()),n&2){let e=l.$implicit;_("value",e.value),o(),C(" ",e.description," ")}}function Ug(n,l){n&1&&(a(0,"mat-error"),c(1," SharingLinkType is "),a(2,"strong"),c(3),f(4,"translate"),r()()),n&2&&(o(3),T(g(4,1,"MESSAGE.required")))}function Qg(n,l){if(n&1){let e=w();a(0,"div",33)(1,"div",69)(2,"h5",70),c(3),r()(),a(4,"div",71)(5,"div",72)(6,"input",73),y("ngModelChange",function(t){d(e);let s=p();return k(s.dataModel.isPublic,t)||(s.dataModel.isPublic=t),m(t)}),r(),S(7,"label",74),r()()()}if(n&2){let e=p();o(3),C(" ",e.fieldsInfo.isPublic==null?null:e.fieldsInfo.isPublic.fieldTitle," "),o(3),E("ngModel",e.dataModel.isPublic)}}function zg(n,l){n&1&&(a(0,"mat-error"),c(1," ToWebAddress is "),a(2,"strong"),c(3),f(4,"translate"),r()()),n&2&&(o(3),T(g(4,1,"MESSAGE.required")))}function Kg(n,l){n&1&&(a(0,"mat-error"),c(1," WebAddress is "),a(2,"strong"),c(3),f(4,"translate"),r()()),n&2&&(o(3),T(g(4,1,"MESSAGE.required")))}function Jg(n,l){n&1&&(a(0,"mat-error"),c(1," CarryToWebAddress is "),a(2,"strong"),c(3),f(4,"translate"),r()()),n&2&&(o(3),T(g(4,1,"MESSAGE.required")))}function Xg(n,l){n&1&&(a(0,"mat-error"),c(1," SmallPreview is "),a(2,"strong"),c(3),f(4,"translate"),r()()),n&2&&(o(3),T(g(4,1,"MESSAGE.required")))}function Yg(n,l){n&1&&(a(0,"mat-error"),c(1," ClickPrice is "),a(2,"strong"),c(3),f(4,"translate"),r()()),n&2&&(o(3),T(g(4,1,"MESSAGE.required")))}function Zg(n,l){n&1&&(a(0,"mat-error"),c(1," ViewPrice is "),a(2,"strong"),c(3),f(4,"translate"),r()()),n&2&&(o(3),T(g(4,1,"MESSAGE.required")))}function $g(n,l){n&1&&(a(0,"mat-error"),c(1," MaxPriceOfSharePerDay is "),a(2,"strong"),c(3),f(4,"translate"),r()()),n&2&&(o(3),T(g(4,1,"MESSAGE.required")))}function e_(n,l){n&1&&(a(0,"mat-error"),c(1," MaxPriceOfShareTotal is "),a(2,"strong"),c(3),f(4,"translate"),r()()),n&2&&(o(3),T(g(4,1,"MESSAGE.required")))}function t_(n,l){n&1&&(a(0,"mat-error"),c(1," FormulaPercent is "),a(2,"strong"),c(3),f(4,"translate"),r()()),n&2&&(o(3),T(g(4,1,"MESSAGE.required")))}function i_(n,l){n&1&&(a(0,"mat-error"),c(1," CurrentClickCount is "),a(2,"strong"),c(3),f(4,"translate"),r()()),n&2&&(o(3),T(g(4,1,"MESSAGE.required")))}function n_(n,l){n&1&&(a(0,"mat-error"),c(1," CurrentViewCount is "),a(2,"strong"),c(3),f(4,"translate"),r()()),n&2&&(o(3),T(g(4,1,"MESSAGE.required")))}function o_(n,l){if(n&1){let e=w();a(0,"div",56)(1,"button",75),v("click",function(){d(e);let t=p();return m(t.onActionBackToParent())}),c(2),f(3,"translate"),r(),a(4,"button",76),c(5),f(6,"translate"),r()()}if(n&2){p();let e=D(10);o(2),C(" ",g(3,3,"ACTION.BACK")," "),o(2),_("disabled",!e.form.valid),o(),C(" ",g(6,5,"ACTION.NEXT")," ")}}function a_(n,l){if(n&1&&(a(0,"div",56)(1,"button",77),c(2),f(3,"translate"),r(),a(4,"button",76),c(5),f(6,"translate"),r()()),n&2){p();let e=D(10);o(2),C(" ",g(3,3,"ACTION.BEFOR")," "),o(2),_("disabled",!e.form.valid),o(),C(" ",g(6,5,"ACTION.NEXT")," ")}}function r_(n,l){if(n&1&&(S(0,"img",62),f(1,"cmsthumbnail")),n&2){let e=p();_("src",R(g(1,2,e.dataModel.linkMainImageIdSrc)),Z)}}function l_(n,l){if(n&1){let e=w();a(0,"div",25)(1,"label",78),v("click",function(){d(e);let t=p();return m(t.fileManagerOpenForm=!0)}),c(2),f(3,"translate"),r(),a(4,"input",79,15),f(6,"translate"),y("ngModelChange",function(t){d(e);let s=p();return k(s.dataModel.linkMainImageId,t)||(s.dataModel.linkMainImageId=t),m(t)}),v("click",function(){d(e);let t=p();return m(t.fileManagerOpenForm=!0)}),r(),a(7,"cms-file-manager",80),v("itemSelected",function(t){d(e);let s=p();return m(s.onActionFileSelectedLinkMainImageId(t))}),y("openFormChange",function(t){d(e);let s=p();return k(s.fileManagerOpenForm,t)||(s.fileManagerOpenForm=t),m(t)}),r()()}if(n&2){let e=p();o(2),T(g(3,12,"TITLE.Original_Photo")),o(2),_("placeholder",R(g(6,14,"TITLE.Original_File_ID"))),E("ngModel",e.dataModel.linkMainImageId),o(3),_("language",e.appLanguage)("isPopup",!0),E("openForm",e.fileManagerOpenForm),_("tree",e.fileManagerTree)("openDirectUploadView",!0)("openFilemanagerButtonLabelKey","select")("selectFileType",e.selectFileTypeMainImage)("openFilemanagerButtonView",!1)}}function s_(n,l){if(n&1){let e=w();a(0,"app-cms-files-selector",81),y("dataFileModelChange",function(t){d(e);let s=p();return k(s.dataFileModel,t)||(s.dataFileModel=t),m(t)}),r()}if(n&2){let e=p();E("dataFileModel",e.dataFileModel),_("openDirectUploadView",!0)}}function c_(n,l){if(n&1&&(a(0,"div",56)(1,"button",77),c(2),f(3,"translate"),r(),a(4,"button",82),c(5),f(6,"translate"),r()()),n&2){p();let e=D(10);o(2),C(" ",g(3,3,"ACTION.BEFOR")," "),o(2),_("disabled",!e.form.valid),o(),C(" ",g(6,5,"ACTION.SAVE")," ")}}function d_(n,l){n&1&&(a(0,"mat-icon"),c(1,"call_end"),r())}function m_(n,l){n&1&&(a(0,"mat-icon"),c(1,"call_end"),r())}function p_(n,l){n&1&&(a(0,"mat-icon"),c(1,"forum"),r())}function u_(n,l){n&1&&(a(0,"mat-icon"),c(1,"forum"),r())}var Lo=class Lo extends pt{constructor(e,i,t,s,M,u,x,q,K,ve,Re,xe){super(M,new wi,t,xe);this.activatedRoute=e;this.coreEnumService=i;this.publicHelper=t;this.linkManagementEnumService=s;this.linkManagementTargetService=M;this.contentCategoryService=u;this.cmsToastrService=x;this.tokenHelper=q;this.cmsStoreService=K;this.router=ve;this.cdr=Re;this.translate=xe;this.requestId=0;this.constructorInfoAreaId=this.constructor.name;this.dataModel=new wi;this.dataModelResult=new ct;this.dataModelEnumManagementContentSettingTypeResult=new j;this.dataModelEnumSharingPriceTypeResult=new j;this.optionActionTitle="";this.optionActionButtomEnable=!0;this.optionTabledisplayedColumns=["id","Option","OptionAnswer","IsCorrectAnswer","NumberOfVotes","ScoreOfVotes","Action"];this.dataContentCategoryModel=[];this.selectFileTypeMainImage=["jpg","jpeg","png"];this.selectFileTypePodcast=["mp3"];this.selectFileTypeMovie=["mp4","webm"];this.dataFileModel=new Map;this.fileManagerOpenForm=!1;this.fileManagerOpenFormPodcast=!1;this.fileManagerOpenFormMovie=!1;this.appLanguage="fa";this.viewMap=!1;this.mapMarkerPoints=[];this.mapOptonCenter=new Yi;this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),this.translate.get("ACTION.Add_To_List").subscribe(fi=>{this.optionActionTitle=fi})}ngOnInit(){if(this.requestId=+Number(this.activatedRoute.snapshot.paramMap.get("id")),this.requestId===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetOne(),this.getEnumSharingPriceType(),this.getEnumManagementContentSettingType()}getEnumManagementContentSettingType(){this.linkManagementEnumService.ServiceManagementContentSettingTypeEnum().subscribe(e=>{this.dataModelEnumManagementContentSettingTypeResult=e})}getEnumSharingPriceType(){this.linkManagementEnumService.ServiceSharingPriceTypeEnum().subscribe(e=>{this.dataModelEnumSharingPriceTypeResult=e})}onActionFileSelectedLinkMainImageId(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}onFormSubmit(){if(this.requestId<=0){this.cmsToastrService.typeErrorEditRowIsNull();return}if(!this.formGroup.valid){this.cmsToastrService.typeErrorFormInvalid();return}this.DataEditContent()}DataGetOne(){this.formInfo.submitButtonEnabled=!1,this.translate.get("MESSAGE.get_information_from_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.linkManagementTargetService.setAccessLoad(),this.linkManagementTargetService.setAccessDataType(we.Editor),this.linkManagementTargetService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.dataAccessModel=i.access,this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModelResult=i,this.formInfo.submitButtonEnabled=!0,i.isSuccess?(this.dataModel=i.item,this.dataModel.linkFileIds&&this.dataModel.linkFileIds.length>0&&this.dataModel.linkFileIds.split(",").forEach((t,s)=>{let M="";this.dataModel.linkFileIdsSrc.length>=this.dataModel.linkFileIds.length&&(M=this.dataModel.linkFileIdsSrc[s]),this.dataFileModel.set(+t,M)})):this.cmsToastrService.typeErrorGetOne(i.errorMessage),this.publicHelper.processService.processStop(e)},error:i=>{this.publicHelper.processService.processStop(e),this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeErrorGetOne(i)}})}DataEditContent(){this.formInfo.submitButtonEnabled=!1,this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";if(this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.dataModel.linkFileIds="",this.dataFileModel){let i=Array.from(this.dataFileModel.keys());i&&i.length>0&&(this.dataModel.linkFileIds=i.join(","))}this.linkManagementTargetService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.publicHelper.processService.processStop(e),this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success}),this.cmsToastrService.typeSuccessEdit(),setTimeout(()=>this.router.navigate(["/linkmanagement/target"]),1e3)):this.cmsToastrService.typeErrorEdit(i.errorMessage),this.publicHelper.processService.processStop(e)},error:i=>{this.publicHelper.processService.processStop(e),this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i)}})}onActionSelectorSelectLinkBillboardPatternId(e){if(!e||e.id<=0){this.translate.get("MESSAGE.Category_of_billboard_information_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkBillboardPatternId=e.id}onActionCategorySelectChecked(e){if(!e||e<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}let i=new hn;i.linkCategoryId=e,i.linkManagementTargetId=this.dataModel.id,this.contentCategoryService.ServiceAdd(i).subscribe({next:t=>{t.isSuccess?(this.translate.get("MESSAGE.registration_in_this_group_was_successful").subscribe(s=>{this.formInfo.submitResultMessage=s,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success}),this.cmsToastrService.typeSuccessEdit()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(s=>{this.formInfo.submitResultMessage=s}),this.formInfo.submitResultMessage=t.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(t.errorMessage))},error:t=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(t)}})}onActionCategorySelectDisChecked(e){if(!e||e<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}let i=new hn;i.linkCategoryId=e,i.linkManagementTargetId=this.dataModel.id,this.contentCategoryService.ServiceDeleteEntity(i).subscribe({next:t=>{t.isSuccess?(this.translate.get("MESSAGE.registration_in_this_group_was_successful").subscribe(s=>{this.formInfo.submitResultMessage=s,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success}),this.cmsToastrService.typeSuccessEdit()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(s=>{this.formInfo.submitResultMessage=s}),this.formInfo.submitResultMessage=t.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(t.errorMessage))},error:t=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(t)}})}onStepClick(e,i){e.previouslySelectedIndex<e.selectedIndex&&(this.formGroup.valid||(this.cmsToastrService.typeErrorFormInvalid(),setTimeout(()=>{i.selectedIndex=e.previouslySelectedIndex},10)))}onActionBackToParent(){this.router.navigate(["/linkmanagement/target/"])}onActionSelectSite(e){if(!e||e.id<=0){this.translate.get(["MESSAGE.Specify_the_site","MESSAGE.Information_site_is_not_clear"]).subscribe(i=>{this.cmsToastrService.typeErrorMessage(i["MESSAGE.Information_site_is_not_clear"],i["MESSAGE.Specify_the_site"])});return}this.dataModel.linkSiteId=e.id}};Lo.\u0275fac=function(i){return new(i||Lo)(I(st),I(ne),I(W),I(ot),I(Vi),I(vn),I(G),I(tt),I(et),I(Ze),I(O),I(F))},Lo.\u0275cmp=V({type:Lo,selectors:[["app-linkmanagement-target-edit"]],viewQuery:function(i,t){if(i&1&&ee(Fg,5),i&2){let s;te(s=ie())&&(t.formGroup=s.first)}},standalone:!1,features:[U],decls:141,vars:124,consts:[["vform","ngForm"],["stepper",""],["Title",""],["SharingLinkType","ngModel"],["ToWebAddress",""],["WebAddress",""],["CarryToWebAddress",""],["SmallPreview",""],["ClickPrice",""],["ViewPrice",""],["MaxPriceOfSharePerDay",""],["MaxPriceOfShareTotal",""],["FormulaPercent",""],["CurrentClickCount",""],["CurrentViewCount",""],["LinkMainImageId",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"selectionChange"],["state","main",3,"label"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[3,"optionChange","optionSelectForce","optionPlaceholder"],["id","dataModel.sharingLinkType","name","dataModel.sharingLinkType",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[3,"value"],[1,"d-flex","mb-3"],["for","dataModel.toWebAddress",1,"color-highlight"],["matInput","","type","text","name","dataModel.toWebAddress","minlength","3","maxlength","2000","id","dataModel.toWebAddress",1,"form-control","validate-name",2,"direction","ltr","text-align","left !important",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.webAddress",1,"color-highlight"],["matInput","","type","text","name","dataModel.webAddress","minlength","3","maxlength","100","id","dataModel.webAddress",1,"form-control","validate-name",2,"direction","ltr","text-align","left !important",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.carryToWebAddress",1,"color-highlight"],["matInput","","type","text","name","dataModel.carryToWebAddress","minlength","3","maxlength","100","id","dataModel.carryToWebAddress",1,"form-control","validate-name",2,"direction","ltr","text-align","left !important",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.smallPreview",1,"color-highlight"],["matInput","","type","text","name","dataModel.smallPreview","minlength","3","maxlength","100","id","dataModel.smallPreview",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.clickPrice",1,"color-highlight"],["matInput","","type","number","name","dataModel.clickPrice","minlength","0","id","dataModel.clickPrice",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.viewPrice",1,"color-highlight"],["matInput","","type","number","name","dataModel.viewPrice","minlength","0","id","dataModel.viewPrice",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.maxPriceOfSharePerDay",1,"color-highlight"],["matInput","","type","number","name","dataModel.maxPriceOfSharePerDay","minlength","0","id","dataModel.maxPriceOfSharePerDay",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.maxPriceOfShareTotal",1,"color-highlight"],["matInput","","type","number","name","dataModel.maxPriceOfShareTotal","minlength","0","id","dataModel.maxPriceOfShareTotal",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.formulaPercent",1,"color-highlight"],["matInput","","type","number","name","dataModel.formulaPercent","minlength","1","id","dataModel.formulaPercent",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.currentClickCount",1,"color-highlight"],["matInput","","type","number","name","dataModel.currentClickCount","minlength","1","disabled","","id","dataModel.currentClickCount",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.currentViewCount",1,"color-highlight"],["matInput","","type","number","name","dataModel.currentViewCount","minlength","0","disabled","","id","dataModel.currentViewCount",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"form-actions"],["state","seo",3,"label"],[3,"optionModelChange","optionSelectChecked","optionSelectDisChecked","optionModel"],["state","file",3,"label"],[1,"mb-3"],["target","_blank",3,"href"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"dataFileModel","openDirectUploadView"],["matStepperIcon","main"],["matStepperIcon","seo"],["matStepperIcon","file"],["matStepperIcon","loaction"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"pt-1"],["data-trigger-switch","dataModel.isPublic",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.isPublic","name","dataModel.isPublic",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.isPublic",1,"custom-control-label"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],["type","button","matStepperNext","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue",3,"disabled"],["type","button","matStepperPrevious","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openDirectUploadView","openFilemanagerButtonLabelKey","selectFileType","openFilemanagerButtonView"],[3,"dataFileModelChange","dataFileModel","openDirectUploadView"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"]],template:function(i,t){if(i&1){let s=w();a(0,"div",16),S(1,"app-progress-spinner",17),a(2,"div",18)(3,"p",19),c(4),r(),a(5,"p"),c(6),f(7,"translate"),r(),S(8,"app-cms-form-result-message",20),a(9,"form",21,0),v("ngSubmit",function(){return d(s),m(t.onFormSubmit())}),a(11,"mat-vertical-stepper",22,1),v("selectionChange",function(u){d(s);let x=D(12);return m(t.onStepClick(u,x))}),a(13,"mat-step",23),f(14,"translate"),h(15,Gg,1,5,"app-cms-enum-record-status-selector",24),a(16,"div",25)(17,"label",26),c(18),r(),a(19,"input",27,2),y("ngModelChange",function(u){return d(s),k(t.dataModel.title,u)||(t.dataModel.title=u),m(u)}),r(),h(21,Wg,1,0,"i",28),h(22,Hg,1,0,"i",29),a(23,"em"),c(24),r(),h(25,qg,5,4,"mat-error"),r(),a(26,"app-linkmanagement-billboard-pattern-selector",30),f(27,"translate"),v("optionChange",function(u){return d(s),m(t.onActionSelectorSelectLinkBillboardPatternId(u))}),r(),a(28,"div",25)(29,"select",31,3),y("ngModelChange",function(u){return d(s),k(t.dataModel.sharingLinkType,u)||(t.dataModel.sharingLinkType=u),m(u)}),me(31,jg,2,2,"option",32,Xe),r(),a(33,"em"),c(34),f(35,"translate"),r(),h(36,Ug,5,3,"mat-error"),r(),h(37,Qg,8,2,"div",33),a(38,"div",25)(39,"label",34),c(40),r(),a(41,"input",35,4),y("ngModelChange",function(u){return d(s),k(t.dataModel.toWebAddress,u)||(t.dataModel.toWebAddress=u),m(u)}),r(),a(43,"em"),c(44),r(),h(45,zg,5,3,"mat-error"),r(),a(46,"div",25)(47,"label",36),c(48),r(),a(49,"input",37,5),y("ngModelChange",function(u){return d(s),k(t.dataModel.webAddress,u)||(t.dataModel.webAddress=u),m(u)}),r(),a(51,"em"),c(52),r(),h(53,Kg,5,3,"mat-error"),r(),a(54,"div",25)(55,"label",38),c(56),r(),a(57,"input",39,6),y("ngModelChange",function(u){return d(s),k(t.dataModel.carryToWebAddress,u)||(t.dataModel.carryToWebAddress=u),m(u)}),r(),a(59,"em"),c(60),r(),h(61,Jg,5,3,"mat-error"),r(),a(62,"div",25)(63,"label",40),c(64),r(),a(65,"input",41,7),y("ngModelChange",function(u){return d(s),k(t.dataModel.smallPreview,u)||(t.dataModel.smallPreview=u),m(u)}),r(),a(67,"em"),c(68),r(),h(69,Xg,5,3,"mat-error"),r(),a(70,"div",25)(71,"label",42),c(72),r(),a(73,"input",43,8),f(75,"translate"),y("ngModelChange",function(u){return d(s),k(t.dataModel.clickPrice,u)||(t.dataModel.clickPrice=u),m(u)}),r(),h(76,Yg,5,3,"mat-error"),r(),a(77,"div",25)(78,"label",44),c(79),r(),a(80,"input",45,9),f(82,"translate"),y("ngModelChange",function(u){return d(s),k(t.dataModel.viewPrice,u)||(t.dataModel.viewPrice=u),m(u)}),r(),h(83,Zg,5,3,"mat-error"),r(),a(84,"div",25)(85,"label",46),c(86),r(),a(87,"input",47,10),f(89,"translate"),y("ngModelChange",function(u){return d(s),k(t.dataModel.maxPriceOfSharePerDay,u)||(t.dataModel.maxPriceOfSharePerDay=u),m(u)}),r(),h(90,$g,5,3,"mat-error"),r(),a(91,"div",25)(92,"label",48),c(93),r(),a(94,"input",49,11),f(96,"translate"),y("ngModelChange",function(u){return d(s),k(t.dataModel.maxPriceOfShareTotal,u)||(t.dataModel.maxPriceOfShareTotal=u),m(u)}),r(),h(97,e_,5,3,"mat-error"),r(),a(98,"div",25)(99,"label",50),c(100),r(),a(101,"input",51,12),f(103,"translate"),y("ngModelChange",function(u){return d(s),k(t.dataModel.formulaPercent,u)||(t.dataModel.formulaPercent=u),m(u)}),r(),h(104,t_,5,3,"mat-error"),r(),a(105,"div",25)(106,"label",52),c(107),r(),a(108,"input",53,13),f(110,"translate"),y("ngModelChange",function(u){return d(s),k(t.dataModel.currentClickCount,u)||(t.dataModel.currentClickCount=u),m(u)}),r(),h(111,i_,5,3,"mat-error"),r(),a(112,"div",25)(113,"label",54),c(114),r(),a(115,"input",55,14),f(117,"translate"),y("ngModelChange",function(u){return d(s),k(t.dataModel.currentViewCount,u)||(t.dataModel.currentViewCount=u),m(u)}),r(),h(118,n_,5,3,"mat-error"),r(),h(119,o_,7,7,"div",56),r(),a(120,"mat-step",57),f(121,"translate"),a(122,"app-linkmanagement-category-treeselector",58),y("optionModelChange",function(u){return d(s),k(t.dataContentCategoryModel,u)||(t.dataContentCategoryModel=u),m(u)}),v("optionSelectChecked",function(u){return d(s),m(t.onActionCategorySelectChecked(u))})("optionSelectDisChecked",function(u){return d(s),m(t.onActionCategorySelectDisChecked(u))}),r(),S(123,"br"),h(124,a_,7,7,"div",56),r(),a(125,"mat-step",59),f(126,"translate"),a(127,"p"),c(128),f(129,"translate"),r(),a(130,"div",60)(131,"a",61),f(132,"cmsthumbnail"),h(133,r_,2,4,"img",62),r()(),h(134,l_,8,16,"div",25),h(135,s_,1,2,"app-cms-files-selector",63),h(136,c_,7,7,"div",56),r(),B(137,d_,2,0,"ng-template",64)(138,m_,2,0,"ng-template",65)(139,p_,2,0,"ng-template",66)(140,u_,2,0,"ng-template",67),r()()()()}if(i&2){let s=D(20),M=D(30),u=D(42),x=D(50),q=D(58),K=D(66),ve=D(74),Re=D(81),xe=D(88),fi=D(95),va=D(102),Ia=D(109),wa=D(116);o(),_("optionsInfoAreaId",t.constructorInfoAreaId),o(3),C(" ",t.formInfo.formTitle," "),o(2),C(" ",g(7,94,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),_("formInfo",t.formInfo),o(5),_("label",R(g(14,96,"TITLE.REQUIRED_INFORMATION"))),o(2),b(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?15:-1),o(3),T(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),_("placeholder",R(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),E("ngModel",t.dataModel.title),o(2),b(s.value?-1:21),o(),b(s.value?22:-1),o(2),C("",s.value.length," / 100"),o(),b(s.errors!=null&&s.errors.required?25:-1),o(),_("optionSelectForce",t.dataModel.linkBillboardPatternId)("optionPlaceholder",g(27,98,"TITLE.Billboard_Pattern")),o(3),E("ngModel",t.dataModel.sharingLinkType),o(2),pe(t.dataModelEnumSharingPriceTypeResult.listItems),o(3),T(g(35,100,"TITLE.Select_type_of_content")),o(2),b(M.errors!=null&&M.errors.required?36:-1),o(),b(t.fieldsInfo.isPublic!=null&&t.fieldsInfo.isPublic.accessWatchField?37:-1),o(3),T(t.fieldsInfo.toWebAddress==null?null:t.fieldsInfo.toWebAddress.fieldTitle),o(),_("placeholder",R(t.fieldsInfo.toWebAddress==null?null:t.fieldsInfo.toWebAddress.fieldTitle)),E("ngModel",t.dataModel.toWebAddress),o(3),C("",u.value.length," / 100"),o(),b(u.errors!=null&&u.errors.required?45:-1),o(3),T(t.fieldsInfo.webAddress==null?null:t.fieldsInfo.webAddress.fieldTitle),o(),_("placeholder",R(t.fieldsInfo.webAddress==null?null:t.fieldsInfo.webAddress.fieldTitle)),E("ngModel",t.dataModel.webAddress),o(3),C("",x.value.length," / 100"),o(),b(x.errors!=null&&x.errors.required?53:-1),o(3),T(t.fieldsInfo.carryToWebAddress==null?null:t.fieldsInfo.carryToWebAddress.fieldTitle),o(),_("placeholder",R(t.fieldsInfo.carryToWebAddress==null?null:t.fieldsInfo.carryToWebAddress.fieldTitle)),E("ngModel",t.dataModel.carryToWebAddress),o(3),C("",q.value.length," / 100"),o(),b(q.errors!=null&&q.errors.required?61:-1),o(3),T(t.fieldsInfo.smallPreview==null?null:t.fieldsInfo.smallPreview.fieldTitle),o(),_("placeholder",R(t.fieldsInfo.smallPreview==null?null:t.fieldsInfo.smallPreview.fieldTitle)),E("ngModel",t.dataModel.smallPreview),o(3),C("",K.value.length," / 100"),o(),b(K.errors!=null&&K.errors.required?69:-1),o(3),T(t.fieldsInfo.clickPrice==null?null:t.fieldsInfo.clickPrice.fieldTitle),o(),_("placeholder",R(g(75,102,"TITLE.Amount_Per_Click"))),E("ngModel",t.dataModel.clickPrice),o(3),b(ve.errors!=null&&ve.errors.required?76:-1),o(3),T(t.fieldsInfo.viewPrice==null?null:t.fieldsInfo.viewPrice.fieldTitle),o(),_("placeholder",R(g(82,104,"TITLE.Amount_Per_Show"))),E("ngModel",t.dataModel.viewPrice),o(3),b(Re.errors!=null&&Re.errors.required?83:-1),o(3),T(t.fieldsInfo.maxPriceOfSharePerDay==null?null:t.fieldsInfo.maxPriceOfSharePerDay.fieldTitle),o(),_("placeholder",R(g(89,106,"TITLE.Number_of_views_so_far"))),E("ngModel",t.dataModel.maxPriceOfSharePerDay),o(3),b(xe.errors!=null&&xe.errors.required?90:-1),o(3),T(t.fieldsInfo.maxPriceOfShareTotal==null?null:t.fieldsInfo.maxPriceOfShareTotal.fieldTitle),o(),_("placeholder",R(g(96,108,"TITLE.Number_of_click_so_far"))),E("ngModel",t.dataModel.maxPriceOfShareTotal),o(3),b(fi.errors!=null&&fi.errors.required?97:-1),o(3),T(t.fieldsInfo.formulaPercent==null?null:t.fieldsInfo.formulaPercent.fieldTitle),o(),_("placeholder",R(g(103,110,"TITLE.Number_of_views_so_far"))),E("ngModel",t.dataModel.formulaPercent),o(3),b(va.errors!=null&&va.errors.required?104:-1),o(3),T(t.fieldsInfo.currentClickCount==null?null:t.fieldsInfo.currentClickCount.fieldTitle),o(),_("placeholder",R(g(110,112,"TITLE.Number_of_click_so_far"))),E("ngModel",t.dataModel.currentClickCount),o(3),b(Ia.errors!=null&&Ia.errors.required?111:-1),o(3),T(t.fieldsInfo.currentViewCount==null?null:t.fieldsInfo.currentViewCount.fieldTitle),o(),_("placeholder",R(g(117,114,"TITLE.Number_of_views_so_far"))),E("ngModel",t.dataModel.currentViewCount),o(3),b(wa.errors!=null&&wa.errors.required?118:-1),o(),b(t.formInfo.submitButtonEnabled?119:-1),o(),_("label",R(g(121,116,"TITLE.TARGET_SELECTION"))),o(2),E("optionModel",t.dataContentCategoryModel),o(2),b(t.formInfo.submitButtonEnabled?124:-1),o(),_("label",R(g(126,118,"TITLE.ATTACH_FILES"))),o(3),T(g(129,120,"TITLE.CONTENT_ATTACH_FILES")),o(3),_("href",R(g(132,122,t.dataModel.linkMainImageIdSrc)),Z),o(2),b((t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0?133:-1),o(),b(t.fieldsInfo.linkMainImageId!=null&&t.fieldsInfo.linkMainImageId.accessWatchField?134:-1),o(),b(t.fieldsInfo.linkFileIds!=null&&t.fieldsInfo.linkFileIds.accessWatchField?135:-1),o(),b(t.formInfo.submitButtonEnabled?136:-1)}},dependencies:[ke,li,si,J,Ke,ai,ri,X,Te,Ce,he,oe,Ee,ye,Ne,N,zi,Ki,Ji,Xi,Qi,Ae,Q,Le,Ua,Zi,Je,mt,bi,mi,P,be],encapsulation:2});var Ao=Lo;var f_=()=>["expandedTitle"],g_=()=>["expandedDetail"],__=()=>[5,10,20,100],tr=n=>({display:n});function M_(n,l){if(n&1){let e=w();a(0,"div",16)(1,"a",51),v("click",function(){d(e);let t=p();return m(t.onActionButtonNewRow())}),S(2,"i",52)(3,"br"),r(),a(4,"p",20),c(5),f(6,"translate"),r()()}n&2&&(o(5),C(" ",g(6,1,"ACTION.ADD")," "))}function S_(n,l){if(n&1){let e=w();a(0,"div",16)(1,"a",9),v("click",function(){d(e);let t=p();return m(t.onActionButtonLog())}),S(2,"i",53)(3,"br"),r(),a(4,"p",20),c(5),f(6,"translate"),r()()}n&2&&(o(5),C(" ",g(6,1,"ACTION.REPORTS")," "))}function C_(n,l){if(n&1){let e=w();a(0,"div",16)(1,"a",54),v("click",function(){d(e);let t=p();return m(t.onActionButtonEditRow(t.tableRowSelected))}),S(2,"i",55)(3,"br"),r(),a(4,"p",20),c(5),f(6,"translate"),r()()}n&2&&(o(5),C(" ",g(6,1,"ACTION.EDIT")," "))}function h_(n,l){if(n&1){let e=w();a(0,"div",16)(1,"a",56),v("click",function(){d(e);let t=p();return m(t.onActionButtonDeleteRow(t.tableRowSelected))}),S(2,"i",57)(3,"br"),r(),a(4,"p",20),c(5),f(6,"translate"),r()()}n&2&&(o(5),C(" ",g(6,1,"ACTION.DELETE")," "))}function b_(n,l){n&1&&(a(0,"mat-header-cell"),c(1),f(2,"translate"),r()),n&2&&(o(),C(" ",g(2,1,"TITLE.MENU")," "))}function v_(n,l){if(n&1){let e=w();a(0,"mat-cell")(1,"button",58),v("click",function(){let t=d(e).$implicit,s=p();return m(s.onActionTableRowSelectActionMenu(t))}),S(2,"i",59),r()()}}function I_(n,l){n&1&&(a(0,"mat-header-cell",60),c(1),f(2,"translate"),r()),n&2&&(o(),C(" ",g(2,1,"TITLE.PICTURE")," "))}function w_(n,l){if(n&1&&(S(0,"img",61),f(1,"cmsthumbnail")),n&2){let e=p().$implicit;_("src",R(g(1,2,e.linkMainImageIdSrc)),Z)}}function T_(n,l){if(n&1&&(a(0,"mat-cell"),h(1,w_,2,4,"img",61),r()),n&2){let e=l.$implicit;o(),b((e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0?1:-1)}}function E_(n,l){if(n&1&&(a(0,"mat-header-cell",60),c(1),r()),n&2){let e=p();o(),C(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function k_(n,l){if(n&1&&(a(0,"mat-cell"),c(1),r()),n&2){let e=l.$implicit;o(),C(" ",e.id," ")}}function y_(n,l){if(n&1&&(a(0,"mat-header-cell",60),c(1),r()),n&2){let e=p();o(),C(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function L_(n,l){if(n&1&&(a(0,"mat-cell"),c(1),f(2,"cmssiteinfo"),f(3,"async"),r()),n&2){let e=l.$implicit;o(),C(" ",g(3,3,g(2,1,e.linkSiteId))," ")}}function A_(n,l){if(n&1&&(a(0,"mat-header-cell",60),c(1),r()),n&2){let e=p();o(),C(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function R_(n,l){if(n&1&&S(0,"select",63),n&2){let e=p().$implicit,i=p();_("contentService",i.contentService)("row",e)("ngStyle",at(3,tr,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function x_(n,l){if(n&1&&(a(0,"mat-cell"),S(1,"i",62),f(2,"statusIconClass"),h(3,R_,1,5,"select",63),r()),n&2){let e=l.$implicit,i=p();o(),_("ngClass",g(2,2,e.recordStatus)),o(2),b(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessEditRow?3:-1)}}function D_(n,l){if(n&1&&(a(0,"mat-header-cell",60),c(1),r()),n&2){let e=p();o(),C(" ",e.fieldsInfo.isPublic==null?null:e.fieldsInfo.isPublic.fieldTitle," ")}}function B_(n,l){if(n&1&&(a(0,"mat-cell"),S(1,"i",62),f(2,"boolclass"),r()),n&2){let e=l.$implicit;o(),_("ngClass",g(2,1,e.isPublic))}}function V_(n,l){if(n&1&&(a(0,"mat-header-cell",60),c(1),r()),n&2){let e=p();o(),C(" ",e.fieldsInfo.currentViewCount==null?null:e.fieldsInfo.currentViewCount.fieldTitle," ")}}function P_(n,l){if(n&1&&(a(0,"mat-cell"),c(1),r()),n&2){let e=l.$implicit;o(),C(" ",e.currentViewCount," ")}}function N_(n,l){if(n&1&&(a(0,"mat-header-cell",60),c(1),r()),n&2){let e=p();o(),C(" ",e.fieldsInfo.currentClickCount==null?null:e.fieldsInfo.currentClickCount.fieldTitle," ")}}function O_(n,l){if(n&1&&(a(0,"mat-cell"),c(1),r()),n&2){let e=l.$implicit;o(),C(" ",e.currentClickCount," ")}}function F_(n,l){if(n&1&&(a(0,"mat-header-cell",60),c(1),r()),n&2){let e=p();o(),C(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function G_(n,l){if(n&1&&(a(0,"mat-cell",64),c(1),f(2,"localeDateTime"),r()),n&2){let e=l.$implicit;o(),C(" ",g(2,1,e.createdDate)," ")}}function W_(n,l){if(n&1&&(a(0,"mat-header-cell",60),c(1),r()),n&2){let e=p();o(),C(" ",e.fieldsInfo.updatedDate==null?null:e.fieldsInfo.updatedDate.fieldTitle," ")}}function H_(n,l){if(n&1&&(a(0,"mat-cell"),c(1),f(2,"localeDate"),r()),n&2){let e=l.$implicit;o(),C(" ",g(2,1,e.updatedDate)," ")}}function q_(n,l){n&1&&(a(0,"mat-header-cell"),c(1),f(2,"translate"),r()),n&2&&(o(),C(" ",g(2,1,"TITLE.OPTION")," "))}function j_(n,l){if(n&1&&(a(0,"mat-cell",65)(1,"button",66)(2,"mat-icon"),c(3,"more_vert"),r()(),S(4,"mat-menu",null,2),r()),n&2){let e=D(5);o(),_("matMenuTriggerFor",e)}}function U_(n,l){n&1&&(a(0,"mat-header-cell",60),c(1),f(2,"translate"),r()),n&2&&(o(),C(" ",g(2,1,"TITLE.LINKTO")," "))}function Q_(n,l){if(n&1){let e=w();a(0,"mat-cell")(1,"button",67),v("click",function(){let t=d(e).$implicit,s=p();return m(s.onActionButtonLinkTo(t))}),a(2,"mat-icon",68),c(3,"\u2197"),r()()()}}function z_(n,l){if(n&1&&(c(0),f(1,"translate"),f(2,"localeDateTime"),S(3,"br")),n&2){let e=p().$implicit;Ve(" ",g(1,2,"TITLE.UpdatedDate")," : ",g(2,4,e.updatedDate)," ")}}function K_(n,l){if(n&1&&(S(0,"br"),c(1),f(2,"translate")),n&2){let e=p().$implicit;o(),Ve(" ",g(2,2,"TITLE.ATTACH_FILES")," : ",e.linkFileIds," ")}}function J_(n,l){if(n&1&&(a(0,"mat-cell"),c(1),f(2,"translate"),f(3,"localeDateTime"),S(4,"br"),h(5,z_,4,6),c(6),f(7,"translate"),S(8,"br"),c(9),f(10,"translate"),h(11,K_,3,4),r()),n&2){let e=l.$implicit;o(),Ve(" ",g(2,8,"TITLE.CreationDate")," : ",g(3,10,e.createdDate)," "),o(4),b(e.updatedDate?5:-1),o(),Ve(" ",g(7,12,"TITLE.CurrentNumberOfClicks")," : ",e.currentClickCount," "),o(3),Ve(" ",g(10,14,"TITLE.CurrentViewCount")," : ",e.CurrentViewCount," "),o(2),b((e==null||e.linkFileIds==null?null:e.linkFileIds.length)>0?11:-1)}}function X_(n,l){if(n&1&&(S(0,"img",69),f(1,"cmsthumbnail")),n&2){let e=p().$implicit;_("src",R(g(1,2,e.linkMainImageIdSrc)),Z)}}function Y_(n,l){if(n&1&&(a(0,"tr"),S(1,"td"),a(2,"td"),c(3),r()()),n&2){let e=p().$implicit,i=p();o(3),Ve(" ",i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle," : ",e.title," ")}}function Z_(n,l){if(n&1){let e=w();a(0,"tr"),S(1,"td"),a(2,"td"),c(3),a(4,"span",70),v("click",function(){d(e);let t=p(2);return m(t.onActionCopied())}),S(5,"i",71),r(),a(6,"a",72),c(7),r()()()}if(n&2){let e=p().$implicit,i=p();o(3),C(" ",i.fieldsInfo.webAddress==null?null:i.fieldsInfo.webAddress.fieldTitle," : "),o(),_("cdkCopyToClipboard",e.toWebAddress),o(2),_("href",R(e.toWebAddress),Z),o(),T(e.toWebAddress)}}function $_(n,l){if(n&1){let e=w();a(0,"tr"),S(1,"td"),a(2,"td"),c(3),f(4,"translate"),a(5,"span",73),v("click",function(){d(e);let t=p(2);return m(t.onActionCopied())}),S(6,"i",71),r(),c(7,"\xA0 "),a(8,"a",74),c(9),r()()()}if(n&2){let e=p().$implicit;o(3),C(" ",g(4,5,"TITLE.Short_link")," : "),o(2),_("cdkCopyToClipboard",e.carryToWebAddress),o(3),_("href",R(e.carryToWebAddress),Z),o(),T(e.carryToWebAddress)}}function eM(n,l){if(n&1&&(a(0,"mat-cell")(1,"div")(2,"table")(3,"tr")(4,"th"),h(5,X_,2,4,"img",69),r(),a(6,"th"),c(7),r()(),h(8,Y_,4,2,"tr"),h(9,Z_,8,5,"tr"),h(10,$_,10,7,"tr"),a(11,"tr"),S(12,"td"),a(13,"td"),c(14),r()(),a(15,"tr"),S(16,"td")(17,"td"),r()()()()),n&2){let e=l.$implicit,i=p();o(5),b((e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0?5:-1),o(2),Ve("",i.fieldsInfo.id==null?null:i.fieldsInfo.id.fieldTitle," : ",e.id),o(),b(e.title?8:-1),o(),b(e.toWebAddress?9:-1),o(),b(e.carryToWebAddress?10:-1),o(4),Ve(" ",i.fieldsInfo.currentClickCount==null?null:i.fieldsInfo.currentClickCount.fieldTitle," : ",e.currentClickCount," ")}}function tM(n,l){n&1&&S(0,"mat-header-row")}function iM(n,l){if(n&1){let e=w();a(0,"mat-row",75),v("click",function(t){let s=d(e).$implicit,M=p();return m(M.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=d(e).$implicit,M=p();return m(M.onActionTableRowSelect(s,t))})("mouseenter",function(){let t=d(e).$implicit,s=p();return m(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=d(e).$implicit,s=p();return m(s.onActionTableRowMouseLeave(t))}),r()}if(n&2){let e=l.$implicit,i=p();H("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}function nM(n,l){if(n&1){let e=w();a(0,"mat-row",76),v("click",function(t){let s=d(e).$implicit,M=p();return m(M.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=d(e).$implicit,M=p();return m(M.onActionTableRowSelect(s,t))})("mouseenter",function(){let t=d(e).$implicit,s=p();return m(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=d(e).$implicit,s=p();return m(s.onActionTableRowMouseLeave(t))}),r()}if(n&2){let e=l.$implicit,i=p();H("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}function oM(n,l){if(n&1){let e=w();a(0,"mat-row",77),v("click",function(t){let s=d(e).$implicit,M=p();return m(M.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=d(e).$implicit,M=p();return m(M.onActionTableRowSelect(s,t))})("mouseenter",function(){let t=d(e).$implicit,s=p();return m(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=d(e).$implicit,s=p();return m(s.onActionTableRowMouseLeave(t))}),r()}if(n&2){let e=l.$implicit,i=p();H("ntk-row-expanded",e.expanded===!0)("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)),_("ngStyle",at(5,tr,e.expanded===!0?"":"none"))}}var Ro=class Ro extends Nt{constructor(e,i,t,s,M,u,x,q,K,ve,Re,xe){super(e,new wi,Re,u,K);this.contentService=e;this.cmsToastrService=i;this.cmsConfirmationDialogService=t;this.router=s;this.activatedRoute=M;this.tokenHelper=u;this.cmsStoreService=x;this.cdr=q;this.translate=K;this.pageInfo=ve;this.publicHelper=Re;this.dialog=xe;this.requestLinkBillboardPatternId=0;this.constructorInfoAreaId=this.constructor.name;this.filteModelContent=new Fo;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["linkMainImageIdSrc","id","recordStatus","IsPublic","LinkTo","action_menu"];this.tabledisplayedColumnsMobileSource=["linkMainImageIdSrc","id","recordStatus","IsPublic","LinkTo","action_menu"];this.unsubscribe=[];if(this.publicHelper.processService.cdr=this.cdr,this.requestLinkBillboardPatternId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkBillboardPatternId")),this.optionsSearch.parentMethods={onSubmit:fi=>this.onSubmitOptionsSearch(fi)},this.filteModelContent.sortColumn="id",this.filteModelContent.sortType=ge.Descending,this.requestLinkBillboardPatternId>0){let fi=new z;fi.propertyName="LinkBillboardPatternId",fi.value=this.requestLinkBillboardPatternId,this.filteModelContent.filters.push(fi)}}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>De(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new wi);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));if(this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.categoryModelSelected&&this.categoryModelSelected.id>0){let t=new z;t.propertyName="linkBillboardPatternId",t.value=this.categoryModelSelected.id,i.filters.push(t)}if(this.categoryPatternModelSelected&&this.categoryPatternModelSelected.id>0){let t=new z;t.propertyName="TargetCategories",t.propertyAnyName="linkCategoryId",t.value=this.categoryPatternModelSelected.id,i.filters.push(t)}this.contentService.setAccessLoad(),this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),t.isSuccess?(this.applyDataGetAllResult(t),this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=ge.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=ge.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=ge.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionSelectorSelectPattern(e){var i=this.filteModelContent.sortColumn,t=this.filteModelContent.sortType;this.filteModelContent=new Fo,this.filteModelContent.sortColumn=i,this.filteModelContent.sortType=t,this.categoryPatternModelSelected=e,this.DataGetAll()}onActionSelectorSelectCategory(e){var i=this.filteModelContent.sortColumn,t=this.filteModelContent.sortType;this.filteModelContent=new Fo,this.filteModelContent.sortColumn=i,this.filteModelContent.sortType=t,this.categoryModelSelected=e,this.DataGetAll()}onActionButtonNewRow(){if(this.categoryPatternModelSelected==null||this.categoryPatternModelSelected.id===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorCategoryNotSelected").subscribe(e=>{this.cmsToastrService.typeErrorSelected(e)});return}if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}this.router.navigate(["/linkmanagement/target/add",this.categoryPatternModelSelected.id])}onActionButtonEditRow(e=this.tableRowSelected){if(!(e?.id>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}this.router.navigate(["/linkmanagement/target/edit",this.tableRowSelected.id])}onActionButtonDeleteRow(e=this.tableRowSelected){if(!(e?.id>0)){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(s=>{this.cmsToastrService.typeErrorSelected(s)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(s=>{i=s["MESSAGE.Please_Confirm"],t=s["MESSAGE.Do_you_want_to_delete_this_content"]+"?"}),this.cmsConfirmationDialogService.confirm(i,t).then(s=>{if(s){let M=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(u=>{this.publicHelper.processService.processStart(M,u,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:u=>{u.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(M)},error:u=>{this.cmsToastrService.typeError(u),this.publicHelper.processService.processStop(M,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(u=>{i.set(u,0)}),this.translate.get("MESSAGE.All").subscribe(u=>{i.set(u,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(u=>{this.publicHelper.processService.processStart(t,u,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:u=>{u.isSuccess?(this.translate.get("MESSAGE.All").subscribe(x=>{i.set(x,u.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(u.errorMessage),this.publicHelper.processService.processStop(t)},error:u=>{this.cmsToastrService.typeError(u),this.publicHelper.processService.processStop(t,!1)}});let s=JSON.parse(JSON.stringify(this.filteModelContent)),M=new z;M.propertyName="recordStatus",M.value=gt.Available,s.filters.push(M),this.contentService.ServiceGetCount(s).subscribe({next:u=>{u.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(x=>{i.set(x,u.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(u.errorMessage),this.publicHelper.processService.processStop(t)},error:u=>{this.cmsToastrService.typeError(u),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonLinkTo(e=this.tableRowSelected){if(!(e?.id>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(e.recordStatus!=gt.Available){this.cmsToastrService.typeWarningRecordStatusNoAvailable();return}this.tableRowSelected=e;let i=this.constructor.name+"ServiceGetOneById";this.translate.get("MESSAGE.get_news_information").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructorInfoAreaId)}),this.contentService.ServiceGetOneById(e.id).subscribe({next:t=>{if(t.isSuccess){var s="";this.publicHelper.isMobile?s="dialog-fullscreen":s="dialog-min",this.dialog.open(qa,{height:"90%",width:"90%",panelClass:s,enterAnimationDuration:le.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:le.cmsViewConfig.exitAnimationDuration,data:{title:t.item.title,urlViewContentQRCodeBase64:t.item.urlViewContentQRCodeBase64,urlViewContent:t.item.urlViewContent}}).afterClosed().subscribe(u=>{u&&u.dialogChangedDate&&this.DataGetAll()})}else this.cmsToastrService.typeErrorMessage(t.errorMessage);this.publicHelper.processService.processStop(i)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(i,!1)}})}onActionCopied(){this.cmsToastrService.typeSuccessCopedToClipboard()}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionButtonLog(e=this.tableRowSelected){if(!(e?.id>0)){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.router.navigate(["/linkmanagement/target-billboard-log/LinkManagementTargetId",e.id])}};Ro.\u0275fac=function(i){return new(i||Ro)(I(Vi),I(G),I(zo),I(Ze),I(st),I(tt),I(et),I(O),I(F),I(Bt),I(W),I(nt))},Ro.\u0275cmp=V({type:Ro,selectors:[["app-linkmanagement-target-list"]],standalone:!1,features:[U],decls:93,vars:42,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionActionRowDisplayMenuAct","optionSelectRowItemTitle"],["cms-tree",""],[3,"optionChange"],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-memo","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-share","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","","multiTemplateDataRows","",3,"matSortChange","dataSource"],["matColumnDef","action_menu"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","linkMainImageIdSrc"],["mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","id"],["matColumnDef","linkSiteId"],["matColumnDef","recordStatus"],["matColumnDef","IsPublic"],["matColumnDef","CurrentViewCount"],["matColumnDef","CurrentClickCount"],["matColumnDef","createdDate"],["style","direction: ltr",4,"matCellDef"],["matColumnDef","updatedDate"],["matColumnDef","Action"],["class","Action",4,"matCellDef"],["matColumnDef","LinkTo"],["matColumnDef","expandedTitle"],["matColumnDef","expandedDetail"],[4,"matHeaderRowDef"],["class","ntk-row-expandedTitle",3,"ntk-row-selected","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["class","ntk-row-expandedDetail",3,"ntk-row-expanded","ntk-row-selected","ngStyle","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-file-chart-column","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"click"],[1,"fa","fa-bars","font-18"],["mat-sort-header",""],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[2,"direction","ltr"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],["type","button","mat-icon-button","",3,"click"],[2,"color","#ff671f"],["aria-hidden","","height","80","width","80",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"navi-icon","style","cursor",3,"click","cdkCopyToClipboard"],[1,"flaticon2-copy"],["target","_blank",1,"short-link",3,"href"],[1,"navi-icon","cursor",3,"click","cdkCopyToClipboard"],["target","_blank",3,"href"],[1,"ntk-row-expandedTitle",3,"click","rtclick","mouseenter","mouseleave"],[1,"ntk-row-mainfild",3,"click","rtclick","mouseenter","mouseleave"],[1,"ntk-row-expandedDetail",3,"click","rtclick","mouseenter","mouseleave","ngStyle"]],template:function(i,t){if(i&1){let s=w();a(0,"app-cms-html-list",3),y("optionActionGuideNoticeDisplayChange",function(u){return d(s),k(t.viewGuideNotice,u)||(t.viewGuideNotice=u),m(u)}),v("optionOnActionButtonMemoRow",function(){return d(s),m(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return d(s),m(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return d(s),m(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return d(s),m(t.onActionButtonPrintRow())}),L(1,4),a(2,"app-linkmanagement-billboard-pattern-tree",5),v("optionChange",function(u){return d(s),m(t.onActionSelectorSelectPattern(u))}),r(),a(3,"app-linkmanagement-category-tree",5),v("optionChange",function(u){return d(s),m(t.onActionSelectorSelectCategory(u))}),r(),A(),de(4,6)(5,7),L(6,8),a(7,"a",9),v("click",function(){return d(s),m(t.viewGuideNotice=!t.viewGuideNotice)}),S(8,"i",10),r(),a(9,"a",9),v("click",function(){return d(s),m(t.onActionButtonReload())}),S(10,"i",11),r(),A(),L(11,12),a(12,"a",13),v("click",function(){return d(s),m(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),S(13,"mat-slide-toggle",14),c(14),f(15,"translate"),r(),a(16,"a",13),v("click",function(){return d(s),m(t.onActionButtonStatist())}),S(17,"mat-slide-toggle",14),c(18),f(19,"translate"),r(),A(),L(20,15),h(21,M_,7,3,"div",16),h(22,S_,7,3,"div",16),A(),L(23,17),h(24,C_,7,3,"div",16),h(25,h_,7,3,"div",16),a(26,"div",16)(27,"a",18),v("click",function(){return d(s),m(t.onActionButtonLog(t.tableRowSelected))}),S(28,"i",19)(29,"br"),r(),a(30,"p",20),c(31),f(32,"translate"),r()(),a(33,"div",16)(34,"a",9),v("click",function(){return d(s),m(t.onActionButtonLinkTo(t.tableRowSelected))}),S(35,"i",21)(36,"br"),r(),a(37,"p",20),c(38),f(39,"translate"),r()(),A(),L(40,22),a(41,"app-cms-search-list",23),y("optionsChange",function(u){return d(s),k(t.optionsSearch,u)||(t.optionsSearch=u),m(u)}),r(),a(42,"app-cms-statist-list",23),y("optionsChange",function(u){return d(s),k(t.optionsStatist,u)||(t.optionsStatist=u),m(u)}),r(),A(),L(43,24),a(44,"mat-table",25,0),v("matSortChange",function(){d(s);let u=D(45);return m(t.onTableSortData(u))}),L(46,26),B(47,b_,3,3,"mat-header-cell",27)(48,v_,3,0,"mat-cell",28),A(),L(49,29),B(50,I_,3,3,"mat-header-cell",30)(51,T_,2,1,"mat-cell",28),A(),L(52,31),B(53,E_,2,1,"mat-header-cell",30)(54,k_,2,1,"mat-cell",28),A(),L(55,32),B(56,y_,2,1,"mat-header-cell",30)(57,L_,4,5,"mat-cell",28),A(),L(58,33),B(59,A_,2,1,"mat-header-cell",30)(60,x_,4,4,"mat-cell",28),A(),L(61,34),B(62,D_,2,1,"mat-header-cell",30)(63,B_,3,3,"mat-cell",28),A(),L(64,35),B(65,V_,2,1,"mat-header-cell",30)(66,P_,2,1,"mat-cell",28),A(),L(67,36),B(68,N_,2,1,"mat-header-cell",30)(69,O_,2,1,"mat-cell",28),A(),L(70,37),B(71,F_,2,1,"mat-header-cell",30)(72,G_,3,3,"mat-cell",38),A(),L(73,39),B(74,W_,2,1,"mat-header-cell",30)(75,H_,3,3,"mat-cell",28),A(),L(76,40),B(77,q_,3,3,"mat-header-cell",27)(78,j_,6,1,"mat-cell",41),A(),L(79,42),B(80,U_,3,3,"mat-header-cell",30)(81,Q_,4,0,"mat-cell",28),A(),L(82,43),B(83,J_,12,16,"mat-cell",28),A(),L(84,44),B(85,eM,18,8,"mat-cell",28),A(),B(86,tM,1,0,"mat-header-row",45)(87,iM,1,2,"mat-row",46)(88,nM,1,2,"mat-row",47)(89,oM,1,7,"mat-row",48),r(),A(),L(90,49),a(91,"mat-paginator",50,1),v("page",function(u){return d(s),m(t.onTablePageingData(u))}),r(),A(),r()}i&2&&(_("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),E("optionActionGuideNoticeDisplay",t.viewGuideNotice),_("optionTreeDisplay",!0)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionActionRowDisplayMenuAct",t.tableRowSelectActionMenuClick)("optionSelectRowItemTitle",(t.tableRowSelected==null||t.tableRowSelected.title==null?null:t.tableRowSelected.title.length)>0?t.tableRowSelected==null?null:t.tableRowSelected.title:t.tableRowSelected==null?null:t.tableRowSelected.id),o(10),H("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(3),_("checked",t.optionsSearch.data.show),o(),C("",g(15,31,"ACTION.SEARCH")," "),o(3),_("checked",t.optionsStatist.data.show),o(),C("",g(19,33,"ACTION.STATIST")," "),o(3),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessAddRow?21:-1),o(),b((t.tableRowSelected==null?null:t.tableRowSelected.id)>0?22:-1),o(2),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?24:-1),o(),b(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?25:-1),o(6),C(" ",g(32,35,"ACTION.LOG")," "),o(7),C(" ",g(39,37,"TITLE.LINKTO")," "),o(3),E("options",t.optionsSearch),o(),E("options",t.optionsStatist),o(2),_("dataSource",t.tableSource),o(42),_("matHeaderRowDef",t.tabledisplayedColumns),o(),_("matRowDefColumns",se(39,f_)),o(),_("matRowDefColumns",t.tabledisplayedColumns),o(),_("matRowDefColumns",se(40,g_)),o(2),_("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",se(41,__)))},dependencies:[Pe,ti,it,Ne,N,ht,bt,Oe,Fe,vt,It,wt,Et,At,kt,Tt,Rt,yt,Lt,xt,Dt,$e,Ge,We,Ot,He,Qe,go,Mo,Ye,P,Ft,be,Gt,qo,qe,Ho],encapsulation:2});var fn=Ro;var aM=()=>[5,10,20,100],rM=(n,l)=>l.id;function lM(n,l){if(n&1){let e=w();a(0,"div",16)(1,"a",25),v("click",function(){d(e);let t=p();return m(t.onActionButtonNewRow())}),S(2,"i",26)(3,"br"),r(),a(4,"p",27),c(5),f(6,"translate"),r()()}n&2&&(o(5),C(" ",g(6,1,"ACTION.ADD")," "))}function sM(n,l){if(n&1){let e=w();a(0,"div",16)(1,"a",28),v("click",function(){d(e);let t=p();return m(t.onActionButtonEditRow(t.tableRowSelected))}),S(2,"i",29)(3,"br"),r(),a(4,"p",27),c(5),f(6,"translate"),r()()}n&2&&(o(5),C(" ",g(6,1,"ACTION.EDIT")," "))}function cM(n,l){if(n&1){let e=w();a(0,"div",16)(1,"a",30),v("click",function(){d(e);let t=p();return m(t.onActionButtonDeleteRow(t.tableRowSelected))}),S(2,"i",31)(3,"br"),r(),a(4,"p",27),c(5),f(6,"translate"),r()()}n&2&&(o(5),C(" ",g(6,1,"ACTION.DELETE")," "))}function dM(n,l){if(n&1){let e=w();a(0,"div",16)(1,"a",32),v("click",function(){d(e);let t=p();return m(t.onActionButtonViewRow(t.tableRowSelected))}),S(2,"i",33)(3,"br"),r(),a(4,"p",27),c(5),f(6,"translate"),r()()}n&2&&(o(5),C(" ",g(6,1,"ACTION.VIEW")," "))}function mM(n,l){if(n&1&&S(0,"select",43),n&2){let e=p(2).$implicit,i=p(2);_("contentService",i.contentService)("row",e)}}function pM(n,l){if(n&1&&(a(0,"div",40),S(1,"i",42),f(2,"statusIconClass"),h(3,mM,1,2,"select",43),r()),n&2){let e=p().$implicit,i=p(2);o(),_("ngClass",g(2,2,e.recordStatus)),o(2),b(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessEditRow&&e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?3:-1)}}function uM(n,l){if(n&1){let e=w();a(0,"div",41)(1,"div",40)(2,"span",44),v("click",function(t){return d(e),p(3).onActionCopied(),m(t.stopPropagation())}),S(3,"i",45),r(),c(4),r()()}if(n&2){let e=p().$implicit;o(2),_("cdkCopyToClipboard",e.id.toString()),o(2),C(" ID: ",e.id," ")}}function fM(n,l){if(n&1){let e=w();a(0,"div",35),v("click",function(t){let s=d(e).$implicit,M=p(2);return m(M.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=d(e).$implicit,M=p(2);return m(M.onActionTableRowSelect(s,t))})("mouseenter",function(){let t=d(e).$implicit,s=p(2);return m(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=d(e).$implicit,s=p(2);return m(s.onActionTableRowMouseLeave(t))}),a(1,"div",36),S(2,"i",37),f(3,"statusIconClass"),r(),a(4,"div",38)(5,"div",39),c(6),r(),h(7,pM,4,4,"div",40),h(8,uM,5,2,"div",41),r()()}if(n&2){let e=l.$implicit,i=p(2);H("selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))("bg-fade-highlight-light",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)),Be("aria-label",e.title||e.id),o(2),_("ngClass",g(3,9,e.recordStatus)),o(4),C(" ",e.title||"ID: "+e.id," "),o(),b(e.recordStatus!==void 0?7:-1),o(),b(i.getRowExpanded(e)?8:-1)}}function gM(n,l){if(n&1&&(a(0,"div",21),me(1,fM,9,11,"div",34,rM),r()),n&2){let e=p();o(),pe(e.dataModelResult.listItems)}}function _M(n,l){n&1&&(a(0,"div",22),c(1),f(2,"translate"),r()),n&2&&(o(),T(g(2,1,"MESSAGE.NoRecord")))}var gn=class gn extends fn{};gn.\u0275fac=(()=>{let l;return function(i){return(l||(l=_t(gn)))(i||gn)}})(),gn.\u0275cmp=V({type:gn,selectors:[["app-linkmanagement-target-list-mobile"]],standalone:!1,features:[U],decls:37,vars:31,consts:[["paginator",""],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionOnScrollNearBottom","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplay","optionActionRowDisplayMenu","optionActionRowDisplayMenuAct","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-maximize","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-minimize","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],[1,"cms-m-list"],[1,"cms-m-empty"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],["role","button","tabindex","0",1,"cms-m-list-item","border-highlight",3,"selected","bg-fade-highlight-light"],["role","button","tabindex","0",1,"cms-m-list-item","border-highlight",3,"click","rtclick","mouseenter","mouseleave"],[1,"cms-m-list-item-image-placeholder"],["aria-hidden","true",3,"ngClass"],[1,"cms-m-list-item-content"],[1,"cms-m-list-item-title"],[1,"cms-m-list-item-subtitle"],[1,"cms-m-list-item-expanded"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none","margin-left","8px",3,"contentService","row"],[1,"navi-icon","pointer",3,"click","cdkCopyToClipboard"],[1,"flaticon2-copy"]],template:function(e,i){if(e&1){let t=w();a(0,"app-cms-html-list-mobile",1),y("optionActionGuideNoticeDisplayChange",function(M){return d(t),k(i.viewGuideNotice,M)||(i.viewGuideNotice=M),m(M)}),v("optionOnActionButtonMemoRow",function(){return d(t),m(i.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return d(t),m(i.onActionButtonMemo())})("optionOnActionButtonExport",function(){return d(t),m(i.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return d(t),m(i.onActionButtonPrintRow())})("optionOnScrollNearBottom",function(){return d(t),m(i.onActionLoadNextPage())}),de(1,2)(2,3)(3,4),L(4,5),a(5,"a",6),v("click",function(){return d(t),m(i.viewGuideNotice=!i.viewGuideNotice)}),S(6,"i",7),r(),a(7,"a",6),v("click",function(){return d(t),m(i.onActionButtonReload())}),S(8,"i",8),r(),a(9,"a",9),v("click",function(){return d(t),m(i.onActionGridExpandRows(!0))}),S(10,"i",10),r(),a(11,"a",9),v("click",function(){return d(t),m(i.onActionGridExpandRows(!1))}),S(12,"i",11),r(),A(),L(13,12),a(14,"a",13),v("click",function(){return d(t),m(i.optionsSearch.data.show=!i.optionsSearch.data.show)}),S(15,"mat-slide-toggle",14),c(16),f(17,"translate"),r(),a(18,"a",13),v("click",function(){return d(t),m(i.onActionButtonStatist())}),S(19,"mat-slide-toggle",14),c(20),f(21,"translate"),r(),A(),L(22,15),h(23,lM,7,3,"div",16),A(),L(24,17),h(25,sM,7,3,"div",16),h(26,cM,7,3,"div",16),h(27,dM,7,3,"div",16),A(),L(28,18),a(29,"app-cms-search-list",19),y("optionsChange",function(M){return d(t),k(i.optionsSearch,M)||(i.optionsSearch=M),m(M)}),r(),a(30,"app-cms-statist-list",19),y("optionsChange",function(M){return d(t),k(i.optionsStatist,M)||(i.optionsStatist=M),m(M)}),r(),A(),L(31,20),h(32,gM,3,0,"div",21)(33,_M,3,3,"div",22),A(),L(34,23),a(35,"mat-paginator",24,0),v("page",function(){return d(t),m(i.onTablePageingData())}),r(),A(),r()}e&2&&(_("optionsListInfoAreaId",i.constructorInfoAreaId)("optionGuideNoticeKey","link-management.target.list"),E("optionActionGuideNoticeDisplay",i.viewGuideNotice),_("optionTreeDisplay",!1)("optionActionRowId",i.tableRowSelected==null?null:i.tableRowSelected.id)("optionActionRowDisplay",(i.tableRowSelected==null||i.tableRowSelected.id==null?null:i.tableRowSelected.id.length)>0)("optionActionRowDisplayMenu",i.tableRowSelect2Click)("optionActionRowDisplayMenuAct",i.tableRowSelectActionMenuClick)("optionSelectRowItemTitle",(i.tableRowSelected==null?null:i.tableRowSelected.title)||(i.tableRowSelected==null?null:i.tableRowSelected.id)),o(8),H("rotation360",i.publicHelper.processService.process.inRunArea[i.constructorInfoAreaId]),o(7),_("checked",i.optionsSearch.data.show),o(),C(" ",g(17,26,"ACTION.SEARCH")),o(3),_("checked",i.optionsStatist.data.show),o(),C(" ",g(21,28,"ACTION.STATIST")),o(3),b(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessAddRow?23:-1),o(2),b(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessEditRow&&(i.tableRowSelected==null||i.tableRowSelected.id==null?null:i.tableRowSelected.id.length)>0?25:-1),o(),b(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessDeleteRow&&(i.tableRowSelected==null||i.tableRowSelected.id==null?null:i.tableRowSelected.id.length)>0?26:-1),o(),b(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessWatchRow&&(i.tableRowSelected==null||i.tableRowSelected.id==null?null:i.tableRowSelected.id.length)>0?27:-1),o(2),E("options",i.optionsSearch),o(),E("options",i.optionsStatist),o(2),b(!(i.dataModelResult==null||i.dataModelResult.listItems==null)&&i.dataModelResult.listItems.length?32:33),o(3),_("length",i.dataModelResult.totalRowCount)("pageIndex",i.dataModelResult.currentPageNumber-1)("pageSize",i.dataModelResult.rowPerPage)("pageSizeOptions",se(30,aM)))},dependencies:[Pe,N,Oe,Fe,$e,Ge,We,Wt,He,Qe,P,qe],encapsulation:2});var Vo=gn;var ir=[{path:"",component:Rn,data:{title:"ROUTE.LINKMANAGMENT"},children:[{path:"config",loadChildren:()=>import("./chunk-GPICFCYW.js").then(n=>n.LinkManagementConfigModule),data:{title:"ROUTE.LINKMANAGMENT"}},{path:"target",component:Vo,data:{title:"ROUTE.LINKMANAGMENT.TARGET"}},{path:"target/list/LinkBillboardPatternId/:LinkBillboardPatternId",component:Vo,data:{title:"ROUTE.LINKMANAGMENT.TARGET"}},{path:"target/add/:LinkBillboardPatternId",component:yo,data:{title:"ROUTE.LINKMANAGMENT.TARGET"}},{path:"target/edit/:id",component:Ao,data:{title:"ROUTE.LINKMANAGMENT.TARGET"}},{path:"billboard",component:Bo,data:{title:"ROUTE.LINKMANAGMENT.BILLBOARD"}},{path:"billboard/list/LinkBillboardPatternId/:LinkBillboardPatternId",component:Bo,data:{title:"ROUTE.LINKMANAGMENT.BILLBOARD"}},{path:"billboard/add/:LinkBillboardPatternId",component:ro,data:{title:"ROUTE.LINKMANAGMENT.BILLBOARD"}},{path:"billboard/edit/:id",component:so,data:{title:"ROUTE.LINKMANAGMENT.BILLBOARD"}},{path:"target-billboard-log",component:un,data:{title:"ROUTE.LINKMANAGMENT.TARGETBILLBOARD"}},{path:"target-billboard-log/LinkManagementBillboardId/:LinkManagementBillboardId",component:un,data:{title:"ROUTE.LINKMANAGMENT.TARGETBILLBOARD"}},{path:"target-billboard-log/LinkManagementTargetId/:LinkManagementTargetId",component:un,data:{title:"ROUTE.LINKMANAGMENT.TARGETBILLBOARD"}},{path:"target-billboard-log/Key/:Key",component:un,data:{title:"ROUTE.LINKMANAGMENT.TARGETBILLBOARD"}},{path:"billboard-pattern",component:na,data:{title:"ROUTE.LINKMANAGMENT.BILLBOARDPATTERN"}},{path:"accounting",component:ia,data:{title:"ROUTE.LINKMANAGMENT.ACCOUNTING"}},{path:"accountingdetail",component:xo,data:{title:"ROUTE.LINKMANAGMENT.ACCOUNTINGDETAIL"}},{path:"accountingdetail/LinkManagementAccountingId/:LinkManagementAccountingId",component:xo,data:{title:"ROUTE.LINKMANAGMENT.ACCOUNTINGDETAIL"}},{path:"member",component:ua,data:{title:"ROUTE.LINKMANAGMENT.MEMBER"}}]}];var nr=[{path:"",component:Rn,data:{title:"ROUTE.LINKMANAGMENT"},children:[{path:"config",loadChildren:()=>import("./chunk-GPICFCYW.js").then(n=>n.LinkManagementConfigModule),data:{title:"ROUTE.LINKMANAGMENT"}},{path:"target",component:fn,data:{title:"ROUTE.LINKMANAGMENT.TARGET"}},{path:"target/list/LinkBillboardPatternId/:LinkBillboardPatternId",component:fn,data:{title:"ROUTE.LINKMANAGMENT.TARGET"}},{path:"target/add/:LinkBillboardPatternId",component:yo,data:{title:"ROUTE.LINKMANAGMENT.TARGET"}},{path:"target/edit/:id",component:Ao,data:{title:"ROUTE.LINKMANAGMENT.TARGET"}},{path:"billboard",component:cn,data:{title:"ROUTE.LINKMANAGMENT.BILLBOARD"}},{path:"billboard/list/LinkBillboardPatternId/:LinkBillboardPatternId",component:cn,data:{title:"ROUTE.LINKMANAGMENT.BILLBOARD"}},{path:"billboard/add/:LinkBillboardPatternId",component:ro,data:{title:"ROUTE.LINKMANAGMENT.BILLBOARD"}},{path:"billboard/edit/:id",component:so,data:{title:"ROUTE.LINKMANAGMENT.BILLBOARD"}},{path:"target-billboard-log",component:Ei,data:{title:"ROUTE.LINKMANAGMENT.TARGETBILLBOARD"}},{path:"target-billboard-log/LinkManagementBillboardId/:LinkManagementBillboardId",component:Ei,data:{title:"ROUTE.LINKMANAGMENT.TARGETBILLBOARD"}},{path:"target-billboard-log/LinkManagementTargetId/:LinkManagementTargetId",component:Ei,data:{title:"ROUTE.LINKMANAGMENT.TARGETBILLBOARD"}},{path:"target-billboard-log/Key/:Key",component:Ei,data:{title:"ROUTE.LINKMANAGMENT.TARGETBILLBOARD"}},{path:"billboard-pattern",component:no,data:{title:"ROUTE.LINKMANAGMENT.BILLBOARDPATTERN"}},{path:"accounting",component:Jn,data:{title:"ROUTE.LINKMANAGMENT.ACCOUNTING"}},{path:"accountingdetail",component:on,data:{title:"ROUTE.LINKMANAGMENT.ACCOUNTINGDETAIL"}},{path:"accountingdetail/LinkManagementAccountingId/:LinkManagementAccountingId",component:on,data:{title:"ROUTE.LINKMANAGMENT.ACCOUNTINGDETAIL"}},{path:"member",component:Io,data:{title:"ROUTE.LINKMANAGMENT.MEMBER"}}]}];var _n=class _n{};_n.\u0275fac=function(e){return new(e||_n)},_n.\u0275mod=No({type:_n}),_n.\u0275inj=Po({imports:[Ma.forChild(window.innerWidth<1e3?ir:nr),Ma]});var _a=_n;var Mn=class Mn{};Mn.\u0275fac=function(e){return new(e||Mn)},Mn.\u0275mod=No({type:Mn}),Mn.\u0275inj=Po({providers:[ya,ne,La,Aa,zo,ot,ni,gi,_i,St,bn,oi,Vi,vn,Pi,Ct],imports:[Ea,_a,Ra,xa.withConfig({warnOnNgModelWithFormControl:"never"}),Ga,Wa,Pa,Va,Na,Ha,Fa]});var or=Mn;export{or as LinkManagementModule};
