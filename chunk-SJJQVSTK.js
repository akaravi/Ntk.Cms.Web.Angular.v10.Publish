import{a as ot,b as Ee}from"./chunk-SLHM7D7Z.js";import{a as K,b as ve}from"./chunk-5RLG4HNP.js";import{a as it}from"./chunk-YWQ3AJEF.js";import{a as Te}from"./chunk-K57YXFWK.js";import{a as be}from"./chunk-G7VDKBAZ.js";import{a as Q,d as ye}from"./chunk-KIW7CZRO.js";import{f as z}from"./chunk-FMAO4WAT.js";import{$ as et,$a as q,A as Xe,Ba as fe,Ca as Ce,Da as ge,Fc as Se,Ic as Me,J as O,K as pe,Ka as he,Kc as j,L as ce,La as _e,Q as Ze,Qb as N,Rb as H,W as me,Y as $e,Z as ue,aa as tt,bc as Ie,m as re,n as G,q as W,r as ae,t as le,u as Je,v as se,w as de}from"./chunk-7O4ZVAVH.js";import{Ab as We,Ad as ke,Bb as Oe,Ca as R,Db as $,Df as B,Eb as ee,Ef as ne,F as Fe,Fa as o,Fb as te,Fd as xe,Fe as oe,Ha as Be,I as Ve,Ie as Ke,Jb as k,Kc as Ne,Lb as qe,Lc as L,Oa as I,Ob as c,Od as je,P as Le,Pb as y,Q as Pe,Qb as S,Rc as He,Sa as F,Sd as ze,Td as ie,Ub as E,Vb as w,Wa as Z,Wb as A,Xb as v,Xd as De,Ya as M,Yb as Ae,Yd as Qe,da as u,db as Ge,dc as g,de as P,dg as Ye,ea as f,ec as h,kb as l,lb as a,mb as r,nb as _,p as Re,q as Ue,ub as b,wc as V,xb as T,zb as m}from"./chunk-BCKV57LG.js";import{i as U}from"./chunk-SEDBTTTN.js";var vt=["*"];function yt(n,d){if(n&1&&(a(0,"label",14),c(1),r()),n&2){let e=m();l("for",Ae("app-cms-site-selector-",e.id)),o(),y(e.optionLabel)}}function bt(n,d){if(n&1&&(_(0,"img",15),g(1,"cmsthumbnail")),n&2){let e=m();l("src",v(h(1,2,e.dataModelSelect==null?null:e.dataModelSelect.linkMainImageIdSrc)),R)}}function Tt(n,d){if(n&1&&(_(0,"img",15),g(1,"cmsthumbnail")),n&2){let e=m().$implicit;l("src",v(h(1,2,e.linkMainImageIdSrc)),R)}}function Et(n,d){if(n&1&&(a(0,"mat-option",16),M(1,Tt,2,4,"img",5),a(2,"span"),c(3),r()()),n&2){let e=d.$implicit,i=m();l("value",e)("disabled",i.optionDisabled),o(),l("ngIf",e.linkMainImageIdSrc),o(2),y(i.displayOption(e))}}function wt(n,d){n&1&&_(0,"i",17)}function At(n,d){n&1&&_(0,"i",18)}function kt(n,d){if(n&1){let e=b();a(0,"i",19),T("click",function(){u(e);let t=m();return f(t.onActionSelectClear())}),r()}}function xt(n,d){n&1&&(a(0,"em"),c(1),g(2,"translate"),r()),n&2&&(o(),S("(",h(2,1,"TITLE.Necessary"),")"))}var x=class x{constructor(d,e,i,t,s,C){this.coreEnumService=d;this.cmsToastrService=e;this.cdr=i;this.publicHelper=t;this.translate=s;this.categoryService=C;this.id=++x.nextId;this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new ie;this.dataModelSelect=new ne;this.formControl=new Je;this.optionSelectFirstItem=!1;this.optionPlaceholder="";this.optionDisabled=!1;this.optionRequired=!1;this.optionLabel="";this.optionChange=new Be;this.optionReload=()=>this.onActionButtonReload();this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(d){this.onActionSelectForce(d)}ngOnInit(){this.loadOptions(),(!this.optionLabel||this.optionLabel.length==0&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder)}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(Le(""),Fe(1500),Ve(),Pe(d=>typeof d=="string"||typeof d=="number"?this.DataGetAll(d||""):[]))}displayFn(d){return d?d.titleML:void 0}displayOption(d){return d?d.titleML:void 0}DataGetAll(d){return U(this,null,function*(){let e=new Qe;e.rowPerPage=20,e.accessLoad=!0;let i=new De;i.propertyName="title",i.value=d,i.searchType=xe.Contains,i.clauseType=ke.Or,e.filters.push(i),d&&typeof+d=="number"&&+d>0&&(i=new De,i.propertyName="id",i.value=d,i.searchType=xe.Equal,i.clauseType=ke.Or,e.filters.push(i));let t=this.constructor.name+"main";return this.translate.get("MESSAGE.Receiving_information").subscribe(s=>{this.publicHelper.processService.processStart(t,s,this.constructorInfoAreaId)}),yield Re(this.categoryService.ServiceGetAll(e)).then(s=>(this.dataModelResult=s,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||this.dataModelSelect.id<=0)&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0])},1e3),this.onActionSelect(this.dataModelResult.listItems[0])),this.publicHelper.processService.processStop(t),s.listItems))})}onActionSelect(d){this.optionDisabled||(this.dataModelSelect=d,this.optionChange.emit(this.dataModelSelect))}onActionSelectClear(){this.optionDisabled||(this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null))}push(d){return this.filteredOptions.pipe(Ue(e=>(e.find(i=>i.id===d.id)||e.push(d),e)))}onActionSelectForce(d){if(typeof d=="number"&&d>0){if(this.dataModelSelect&&this.dataModelSelect.id===d)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(e=>e.id===d)){let e=this.dataModelResult.listItems.find(i=>i.id===d);this.dataModelSelect=e,this.formControl.setValue(e);return}this.categoryService.ServiceGetOneById(d).subscribe({next:e=>{e.isSuccess?(this.filteredOptions=this.push(e.item),this.dataModelSelect=e.item,this.formControl.setValue(e.item),this.optionChange.emit(e.item)):this.cmsToastrService.typeErrorMessage(e.errorMessage)}});return}if(typeof d==typeof ne){this.filteredOptions=this.push(d),this.dataModelSelect=d,this.formControl.setValue(d);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new ne,this.loadOptions()}};x.nextId=0,x.\u0275fac=function(e){return new(e||x)(I(P),I(j),I(V),I(z),I(N),I(Ke))},x.\u0275cmp=F({type:x,selectors:[["app-core-userclaimtype-selector"]],inputs:{optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionDisabled:"optionDisabled",optionRequired:"optionRequired",optionLabel:"optionLabel",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange"},standalone:!1,ngContentSelectors:vt,decls:18,vars:25,consts:[["matauto","matAutocomplete"],[1,"input-style","has-borders","has-icon","input-style-always-active","validate-field","mb-4","loader-container"],[3,"optionsInfoAreaId"],["class","color-highlight",3,"for",4,"ngIf"],["matPrefix",""],["style","vertical-align: middle","class","ntk-hover-zoom","aria-hidden","","height","25","width","25",3,"src",4,"ngIf"],["type","text","aria-label","Assignee","matInput","",3,"placeholder","formControl","matAutocomplete","required","id"],[3,"optionSelected","displayWith"],[3,"value","disabled",4,"ngFor","ngForOf"],["class","fa fa-info invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],["class","fa fa-times action color-red-dark",3,"click",4,"ngIf"],[1,"fa","fa-rotate-right","action","color-green-dark",2,"margin-left","20px",3,"click","title"],[4,"ngIf"],[1,"color-highlight",3,"for"],["aria-hidden","","height","25","width","25",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"value","disabled"],[1,"fa","fa-info","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"fa","fa-times","action","color-red-dark",3,"click"]],template:function(e,i){if(e&1){let t=b();We(),a(0,"div",1),_(1,"app-progress-spinner",2),M(2,yt,2,3,"label",3),a(3,"span",4),M(4,bt,2,4,"img",5),c(5," \xA0"),r(),_(6,"input",6),a(7,"mat-autocomplete",7,0),T("optionSelected",function(C){return u(t),f(i.onActionSelect(C.option.value))}),M(9,Et,4,4,"mat-option",8),g(10,"async"),r(),M(11,wt,1,0,"i",9)(12,At,1,0,"i",10)(13,kt,1,0,"i",11),a(14,"i",12),g(15,"translate"),T("click",function(){return u(t),f(i.onActionButtonReload())}),r(),M(16,xt,3,3,"em",13),Oe(17),r()}if(e&2){let t=k(8);o(),l("optionsInfoAreaId",i.constructorInfoAreaId),o(),l("ngIf",(i.optionLabel==null?null:i.optionLabel.length)>0),o(2),l("ngIf",i.dataModelSelect&&(i.dataModelSelect==null?null:i.dataModelSelect.linkMainImageIdSrc)),o(2),l("placeholder",v(i.optionPlaceholder))("id",Ae("app-cms-site-selector-",i.id))("formControl",i.formControl)("matAutocomplete",t)("required",i.optionRequired),Ge("disabled",i.optionDisabled?!0:null),o(),l("displayWith",i.displayFn),o(2),l("ngForOf",h(10,21,i.filteredOptions)),o(2),l("ngIf",!i.formControl.valid),o(),l("ngIf",i.optionRequired&&i.formControl.valid),o(),l("ngIf",(i.dataModelSelect==null?null:i.dataModelSelect.id)>0),o(),qe("rotation360",i.publicHelper.processService.process.inRunArea[i.constructorInfoAreaId]),l("title",v(h(15,23,"ACTION.RELOAD"))),o(2),l("ngIf",i.optionRequired&&(!i.dataModelSelect||!i.dataModelSelect.id||i.dataModelSelect.id<=0))}},dependencies:[Ne,L,G,W,O,Xe,et,Ze,tt,$e,q,Q,He,H,K],encapsulation:2});var Y=x;var Ot=["vform"];function qt(n,d){if(n&1){let e=b();a(0,"app-cms-enum-record-status-selector",39),A("modelChange",function(t){u(e);let s=m();return w(s.dataModel.recordStatus,t)||(s.dataModel.recordStatus=t),f(t)}),r()}if(n&2){let e=m();E("model",e.dataModel.recordStatus),l("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Nt(n,d){n&1&&_(0,"i",44)}function Ht(n,d){n&1&&_(0,"i",45)}function jt(n,d){n&1&&(a(0,"mat-error"),c(1," Title is "),a(2,"strong"),c(3),g(4,"translate"),r()()),n&2&&(o(3),y(h(4,1,"MESSAGE.required")))}function zt(n,d){if(n&1){let e=b();a(0,"div",16)(1,"label",40),c(2),r(),a(3,"input",41,4),A("ngModelChange",function(t){u(e);let s=m();return w(s.dataModel.title,t)||(s.dataModel.title=t),f(t)}),r(),M(5,Nt,1,0,"i",42)(6,Ht,1,0,"i",43),a(7,"em"),c(8),r(),M(9,jt,5,3,"mat-error",19),r()}if(n&2){let e=k(4),i=m();o(2),y(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(),l("placeholder",v(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle)),E("ngModel",i.dataModel.title),l("disabled",!(i.fieldsInfo.description!=null&&i.fieldsInfo.description.accessAddField)),o(2),l("ngIf",!e.value),o(),l("ngIf",e.value),o(2),S("",e.value.length," / 100"),o(),l("ngIf",e.errors==null?null:e.errors.required)}}function Qt(n,d){if(n&1&&(a(0,"mat-error"),c(1),a(2,"strong"),c(3),g(4,"translate"),r()()),n&2){let e=m();o(),S(" ",e.fieldsInfo.titleResourceLanguage==null?null:e.fieldsInfo.titleResourceLanguage.fieldTitle," is "),o(2),y(h(4,2,"MESSAGE.required"))}}function Kt(n,d){if(n&1){let e=b();a(0,"app-cms-user-selector",21),g(1,"translate"),T("optionChange",function(t){u(e);let s=m();return f(s.onActionSelectUser(t))}),r()}if(n&2){let e=m();l("optionSelectForce",e.dataModel.linkUserId)("optionPlaceholder",h(1,3,"TITLE.USER"))("optionDisabled",!(e.fieldsInfo.linkUserId!=null&&e.fieldsInfo.linkUserId.accessAddField))}}function Yt(n,d){if(n&1){let e=b();a(0,"app-cms-site-selector",21),g(1,"translate"),T("optionChange",function(t){u(e);let s=m();return f(s.onActionSelectSite(t))}),r()}if(n&2){let e=m();l("optionSelectForce",e.dataModel.linkSiteId)("optionPlaceholder",h(1,3,"TITLE.SITE"))("optionDisabled",!(e.fieldsInfo.linkSiteId!=null&&e.fieldsInfo.linkSiteId.accessAddField))}}function Jt(n,d){if(n&1&&(_(0,"img",46),g(1,"cmsthumbnail")),n&2){let e=m();l("src",v(h(1,2,e.dataModel.linkFileContentIdSrc)),R)}}function Xt(n,d){if(n&1&&(a(0,"mat-error"),c(1),a(2,"strong"),c(3),g(4,"translate"),r()()),n&2){let e=m();o(),S(" ",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle," is "),o(2),y(h(4,2,"MESSAGE.required"))}}function Zt(n,d){n&1&&(a(0,"mat-error"),c(1," approvedResult is "),a(2,"strong"),c(3),g(4,"translate"),r()()),n&2&&(o(3),y(h(4,1,"MESSAGE.required")))}function $t(n,d){if(n&1){let e=b();a(0,"div",16)(1,"label",47),c(2),r(),a(3,"textarea",48,5),A("ngModelChange",function(t){u(e);let s=m();return w(s.dataModel.approvedResult,t)||(s.dataModel.approvedResult=t),f(t)}),c(5,"        "),r(),a(6,"em"),c(7),r(),M(8,Zt,5,3,"mat-error",19),r()}if(n&2){let e=k(4),i=m();o(2),y(i.fieldsInfo.approvedResult==null?null:i.fieldsInfo.approvedResult.fieldTitle),o(),l("placeholder",v(i.fieldsInfo.approvedResult==null?null:i.fieldsInfo.approvedResult.fieldTitle)),E("ngModel",i.dataModel.approvedResult),o(4),S("",e.value.length," / 500"),o(),l("ngIf",e.errors==null?null:e.errors.required)}}function ei(n,d){if(n&1){let e=b();a(0,"div",49)(1,"label",50),c(2),r(),a(3,"input",51),A("ngModelChange",function(t){u(e);let s=m();return w(s.dataModel.approveCheckDate,t)||(s.dataModel.approveCheckDate=t),f(t)}),r(),_(4,"mat-datepicker-toggle",52)(5,"mat-datepicker",53,6),r()}if(n&2){let e=k(6),i=m();o(2),y(i.fieldsInfo.approveCheckDate==null?null:i.fieldsInfo.approveCheckDate.fieldTitle),o(),l("placeholder",v(i.fieldsInfo.approveCheckDate==null?null:i.fieldsInfo.approveCheckDate.fieldTitle))("disabled",v(!(i.fieldsInfo.approveCheckDate!=null&&i.fieldsInfo.approveCheckDate.accessEditField)))("matDatepicker",e),E("ngModel",i.dataModel.approveCheckDate),o(),l("for",e)}}function ti(n,d){if(n&1){let e=b();a(0,"div",49)(1,"label",54),c(2),r(),a(3,"input",55),A("ngModelChange",function(t){u(e);let s=m();return w(s.dataModel.expireDate,t)||(s.dataModel.expireDate=t),f(t)}),r(),_(4,"mat-datepicker-toggle",52)(5,"mat-datepicker",53,7),r()}if(n&2){let e=k(6),i=m();o(2),y(i.fieldsInfo.expireDate==null?null:i.fieldsInfo.expireDate.fieldTitle),o(),l("placeholder",v(i.fieldsInfo.expireDate==null?null:i.fieldsInfo.expireDate.fieldTitle))("disabled",v(!(i.fieldsInfo.expireDate!=null&&i.fieldsInfo.expireDate.accessEditField)))("matDatepicker",e),E("ngModel",i.dataModel.expireDate),o(),l("for",e)}}function ii(n,d){if(n&1){let e=b();a(0,"div",56)(1,"button",57),T("click",function(){u(e);let t=m();return f(t.onFormCancel())}),_(2,"i",58),c(3),g(4,"translate"),r(),a(5,"button",59),_(6,"i",60),c(7),g(8,"translate"),r()()}if(n&2){m();let e=k(10);o(3),S(" ",h(4,3,"ACTION.CANCEL")," "),o(2),l("disabled",!e.form.valid),o(2),S(" ",h(8,5,"ACTION.SAVE")," ")}}var J=class J extends it{constructor(e,i,t,s,C,p,It,we,St,Mt){super(s,new B,C,we);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.coreUserClaimContentService=s;this.publicHelper=C;this.cmsToastrService=p;this.cdr=It;this.translate=we;this.tokenHelper=St;this.cmsStoreService=Mt;this.requestLinkUserClaimTypeId=0;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new ie;this.dataModel=new B;this.tokenInfo=new Ye;this.ProfessionalData=!1;this.unsubscribe=[];this.formInfo=new ye;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,e&&(this.requestLinkUserClaimTypeId=+e.linkUserClaimTypeId||0),this.requestLinkUserClaimTypeId>0&&(this.dataModel.linkUserClaimTypeId=this.requestLinkUserClaimTypeId),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&(!this.tokenInfo.access.userAccessAdminAllowToProfessionalData&&this.tokenInfo.access.userAccessAdminAllowToAllData?(this.dataModel.linkUserId=this.tokenInfo.access.userId,this.dataModel.linkSiteId=this.tokenInfo.access.siteId,this.ProfessionalData=!0):this.ProfessionalData=!1),this.unsubscribe.push(this.cmsStoreService.getState(D=>D.tokenInfoStore).subscribe(D=>U(this,null,function*(){this.tokenInfo=D,!this.tokenInfo.access.userAccessAdminAllowToProfessionalData&&this.tokenInfo.access.userAccessAdminAllowToAllData?(this.dataModel.linkUserId=this.tokenInfo.access.userId,this.dataModel.linkSiteId=this.tokenInfo.access.siteId,this.ProfessionalData=!0):this.ProfessionalData=!1})))}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess()}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.coreUserClaimContentService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionFileSelected(e){this.dataModel.linkFileContentId=e.id,this.dataModel.linkFileContentIdSrc=e.downloadLinksrc}onActionSelectUser(e){if(!e||e.id<=0){this.translate.get(["MESSAGE.Specify_the_user","MESSAGE.Information_user_is_not_clear"]).subscribe(i=>{this.cmsToastrService.typeErrorMessage(i["MESSAGE.Specify_the_user"],i["MESSAGE.Information_user_is_not_clear"])});return}this.dataModel.linkUserId=e.id}onActionSelectSite(e){if(!e||e.id<=0){this.translate.get(["MESSAGE.Specify_the_site","MESSAGE.Information_site_is_not_clear"]).subscribe(i=>{this.cmsToastrService.typeErrorMessage(i["MESSAGE.Specify_the_site"],i["MESSAGE.Information_site_is_not_clear"])});return}this.dataModel.linkSiteId=e.id}onActionSelectClaimType(e){if(!e||e.id<=0){this.translate.get(["MESSAGE.Specify_the_category","MESSAGE.type_of_information_documents_is_not_clear"]).subscribe(i=>{this.cmsToastrService.typeErrorMessage(i["MESSAGE.Specify_the_category"],i["MESSAGE.type_of_information_documents_is_not_clear"])});return}this.dataModel.linkUserClaimTypeId=e.id}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};J.\u0275fac=function(i){return new(i||J)(I(_e),I(he),I(P),I(oe),I(z),I(j),I(V),I(N),I(Me),I(Se))},J.\u0275cmp=F({type:J,selectors:[["app-core-userclaimcontent-add"]],viewQuery:function(i,t){if(i&1&&$(Ot,5),i&2){let s;ee(s=te())&&(t.formGroup=s.first)}},standalone:!1,features:[Z],decls:57,vars:51,consts:[["vform","ngForm"],["TitleResourceLanguage",""],["LinkFileContentId",""],["Description",""],["Title",""],["approvedResult",""],["approveCheckDate",""],["ExpireDate",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.titleResourceLanguage",1,"color-highlight"],["matInput","","name","dataModel.titleResourceLanguage","type","text","minlength","3","maxlength","100","required","","id","dataModel.titleResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[4,"ngIf"],[3,"optionSelectForce","optionPlaceholder","optionDisabled","optionChange",4,"ngIf"],[3,"optionChange","optionSelectForce","optionPlaceholder","optionDisabled"],[1,"mb-3"],["style","vertical-align: middle","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],[1,"mb-9"],["for","dataModel.linkFileContentId",1,"color-highlight",3,"click"],["matInput","","name","dataModel.linkFileContentId","type","text","autocomplete","off","id","dataModel.linkFileContentId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","0","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.isApproved",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.isApproved","name","dataModel.isApproved",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.isApproved",1,"custom-control-label"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4 cms-input-group",4,"ngIf"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["class","fa fa-times invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["for","dataModel.approvedResult",1,"color-highlight"],["matInput","","name","dataModel.approvedResult","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.approvedResult",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],["for","dataModel.approveCheckDate",1,"color-highlight"],["matInput","","type","text","name","dataModel.approveCheckDate","minlength","3","maxlength","100","id","dataModel.approveCheckDate",1,"form-control","validate-name",3,"ngModelChange","matDatepicker","ngModel","placeholder","disabled"],["matSuffix","",3,"for"],["touchUi",""],["for","dataModel.expireDate",1,"color-highlight"],["matInput","","type","text","name","dataModel.expireDate","minlength","3","maxlength","100","id","dataModel.expireDate",1,"form-control","validate-name",3,"ngModelChange","matDatepicker","ngModel","placeholder","disabled"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=b();a(0,"div",8),_(1,"app-progress-spinner",9),a(2,"div",10)(3,"p",11),c(4),r(),a(5,"p"),c(6),g(7,"translate"),r(),_(8,"app-cms-form-result-message",12),a(9,"form",13,0),T("ngSubmit",function(){return u(s),f(t.onFormSubmit())}),M(11,qt,1,5,"app-cms-enum-record-status-selector",14)(12,zt,10,9,"div",15),a(13,"div",16)(14,"label",17),c(15),r(),a(16,"input",18,1),A("ngModelChange",function(p){return u(s),w(t.dataModel.titleResourceLanguage,p)||(t.dataModel.titleResourceLanguage=p),f(p)}),r(),a(18,"em"),c(19),r(),M(20,Qt,5,4,"mat-error",19),r(),M(21,Kt,2,5,"app-cms-user-selector",20)(22,Yt,2,5,"app-cms-site-selector",20),a(23,"app-core-userclaimtype-selector",21),g(24,"translate"),T("optionChange",function(p){return u(s),f(t.onActionSelectClaimType(p))}),r(),a(25,"div",22),M(26,Jt,2,4,"img",23),r(),a(27,"div",24)(28,"div",16)(29,"label",25),T("click",function(){return u(s),f(t.fileManagerOpenForm=!0)}),c(30),g(31,"translate"),r(),a(32,"input",26,2),g(34,"translate"),A("ngModelChange",function(p){return u(s),w(t.dataModel.linkFileContentId,p)||(t.dataModel.linkFileContentId=p),f(p)}),T("click",function(){return u(s),f(t.fileManagerOpenForm=!0)}),r()(),a(35,"cms-file-manager",27),T("itemSelected",function(p){return u(s),f(t.onActionFileSelected(p))}),A("openFormChange",function(p){return u(s),w(t.fileManagerOpenForm,p)||(t.fileManagerOpenForm=p),f(p)}),r()(),a(36,"div",16)(37,"label",28),c(38),r(),a(39,"textarea",29,3),A("ngModelChange",function(p){return u(s),w(t.dataModel.description,p)||(t.dataModel.description=p),f(p)}),r(),a(41,"em"),c(42),r(),M(43,Xt,5,4,"mat-error",19),r(),_(44,"hr"),a(45,"div",30)(46,"div",31)(47,"h5",32),c(48),r()(),a(49,"div",33)(50,"div",34)(51,"input",35),A("ngModelChange",function(p){return u(s),w(t.dataModel.isApproved,p)||(t.dataModel.isApproved=p),f(p)}),r(),_(52,"label",36),r()()(),M(53,$t,9,6,"div",15)(54,ei,7,8,"div",37)(55,ti,7,8,"div",37)(56,ii,9,7,"div",38),r()()()}if(i&2){let s=k(17),C=k(40);o(),l("optionsInfoAreaId",t.constructorInfoAreaId),o(3),S(" ",t.formInfo.formTitle," "),o(2),S(" ",h(7,43,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),l("formInfo",t.formInfo),o(3),l("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),o(),l("ngIf",(t.fieldsInfo.title==null?null:t.fieldsInfo.title.accessWatchField)&&t.ProfessionalData),o(3),y(t.fieldsInfo.titleResourceLanguage==null?null:t.fieldsInfo.titleResourceLanguage.fieldTitle),o(),l("placeholder",v(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),E("ngModel",t.dataModel.titleResourceLanguage),l("disabled",!(t.fieldsInfo.titleResourceLanguage!=null&&t.fieldsInfo.titleResourceLanguage.accessAddField)),o(3),S("",s.value.length," / 100"),o(),l("ngIf",s.errors==null?null:s.errors.required),o(),l("ngIf",t.ProfessionalData),o(),l("ngIf",t.ProfessionalData),o(),l("optionSelectForce",t.dataModel.linkUserClaimTypeId)("optionPlaceholder",h(24,45,"TITLE.DOCUMENT_CATEGORY"))("optionDisabled",!(t.fieldsInfo.linkUserClaimTypeId!=null&&t.fieldsInfo.linkUserClaimTypeId.accessAddField)||t.requestLinkUserClaimTypeId&&t.requestLinkUserClaimTypeId>0),o(3),l("ngIf",(t.dataModel==null||t.dataModel.linkFileContentIdSrc==null?null:t.dataModel.linkFileContentIdSrc.length)>0),o(4),S("",h(31,47,"TITLE.Document_File")," "),o(2),l("placeholder",v(h(34,49,"TITLE.Original_File_ID"))),E("ngModel",t.dataModel.linkFileContentId),o(3),l("language",t.appLanguage)("isPopup",!0),E("openForm",t.fileManagerOpenForm),l("tree",t.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",t.selectFileTypeMainImage)("openFilemanagerButtonView",!1),o(3),y(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),l("placeholder",v(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),E("ngModel",t.dataModel.description),o(3),S("",C.value.length," / 500"),o(),l("ngIf",C.errors==null?null:C.errors.required),o(5),S(" ",t.fieldsInfo.isApproved==null?null:t.fieldsInfo.isApproved.fieldTitle," "),o(3),E("ngModel",t.dataModel.isApproved),o(2),l("ngIf",t.fieldsInfo.approvedResult==null?null:t.fieldsInfo.approvedResult.accessWatchField),o(),l("ngIf",(t.fieldsInfo.approveCheckDate==null?null:t.fieldsInfo.approveCheckDate.accessWatchField)&&t.ProfessionalData),o(),l("ngIf",(t.fieldsInfo.expireDate==null?null:t.fieldsInfo.expireDate.accessWatchField)&&t.ProfessionalData),o(),l("ngIf",t.formInfo.submitButtonEnabled)}},dependencies:[L,de,G,re,W,ae,O,pe,ce,se,le,fe,Ce,ge,me,ue,q,ve,Te,Ee,Q,be,Ie,Y,H,K],encapsulation:2});var ht=J;var oi=["vform"];function ni(n,d){n&1&&_(0,"i",44)}function ri(n,d){n&1&&_(0,"i",45)}function ai(n,d){n&1&&(a(0,"mat-error"),c(1," Title is "),a(2,"strong"),c(3),g(4,"translate"),r()()),n&2&&(o(3),y(h(4,1,"MESSAGE.required")))}function li(n,d){if(n&1){let e=b();a(0,"div",16)(1,"label",40),c(2),r(),a(3,"input",41,5),A("ngModelChange",function(t){u(e);let s=m();return w(s.dataModel.title,t)||(s.dataModel.title=t),f(t)}),r(),M(5,ni,1,0,"i",42)(6,ri,1,0,"i",43),a(7,"em"),c(8),r(),M(9,ai,5,3,"mat-error",19),r()}if(n&2){let e=k(4),i=m();o(2),y(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(),l("placeholder",v(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle)),E("ngModel",i.dataModel.title),l("disabled",!(i.fieldsInfo.description!=null&&i.fieldsInfo.description.accessEditField)),o(2),l("ngIf",!e.value),o(),l("ngIf",e.value),o(2),S("",e.value.length," / 100"),o(),l("ngIf",e.errors==null?null:e.errors.required)}}function si(n,d){if(n&1&&(a(0,"mat-error"),c(1),a(2,"strong"),c(3),g(4,"translate"),r()()),n&2){let e=m();o(),S(" ",e.fieldsInfo.titleResourceLanguage==null?null:e.fieldsInfo.titleResourceLanguage.fieldTitle," is "),o(2),y(h(4,2,"MESSAGE.required"))}}function di(n,d){if(n&1){let e=b();a(0,"app-cms-user-selector",46),g(1,"translate"),T("optionChange",function(t){u(e);let s=m();return f(s.onActionSelectUser(t))}),r()}if(n&2){let e=m();l("optionSelectForce",e.dataModel.linkUserId)("optionPlaceholder",h(1,3,"TITLE.USER"))("optionDisabled",!(e.fieldsInfo.linkUserId!=null&&e.fieldsInfo.linkUserId.accessEditField))}}function pi(n,d){if(n&1){let e=b();a(0,"app-cms-site-selector",46),g(1,"translate"),T("optionChange",function(t){u(e);let s=m();return f(s.onActionSelectSite(t))}),r()}if(n&2){let e=m();l("optionSelectForce",e.dataModel.linkSiteId)("optionPlaceholder",h(1,3,"TITLE.SITE"))("optionDisabled",!(e.fieldsInfo.linkSiteId!=null&&e.fieldsInfo.linkSiteId.accessEditField))}}function ci(n,d){if(n&1){let e=b();a(0,"app-core-userclaimtype-selector",46),g(1,"translate"),T("optionChange",function(t){u(e);let s=m();return f(s.onActionSelectClaimType(t))}),r()}if(n&2){let e=m();l("optionSelectForce",e.dataModel.linkUserClaimTypeId)("optionPlaceholder",h(1,3,"TITLE.DOCUMENT_CATEGORY"))("optionDisabled",!(e.fieldsInfo.linkUserClaimTypeId!=null&&e.fieldsInfo.linkUserClaimTypeId.accessEditField))}}function mi(n,d){if(n&1&&(_(0,"img",47),g(1,"cmsthumbnail")),n&2){let e=m();l("src",v(h(1,2,e.dataModel.linkFileContentIdSrc)),R)}}function ui(n,d){if(n&1&&(a(0,"mat-error"),c(1),a(2,"strong"),c(3),g(4,"translate"),r()()),n&2){let e=m();o(),S(" ",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle," is "),o(2),y(h(4,2,"MESSAGE.required"))}}function fi(n,d){if(n&1&&(a(0,"mat-error"),c(1),a(2,"strong"),c(3),g(4,"translate"),r()()),n&2){let e=m();o(),S(" ",e.fieldsInfo.approvedResult==null?null:e.fieldsInfo.approvedResult.fieldTitle," is "),o(2),y(h(4,2,"MESSAGE.required"))}}function Ci(n,d){if(n&1){let e=b();a(0,"div",48)(1,"label",49),c(2),r(),a(3,"input",50),A("ngModelChange",function(t){u(e);let s=m();return w(s.dataModel.approveCheckDate,t)||(s.dataModel.approveCheckDate=t),f(t)}),r(),_(4,"mat-datepicker-toggle",51)(5,"mat-datepicker",52,6),r()}if(n&2){let e=k(6),i=m();o(2),y(i.fieldsInfo.approveCheckDate==null?null:i.fieldsInfo.approveCheckDate.fieldTitle),o(),l("placeholder",v(i.fieldsInfo.approveCheckDate==null?null:i.fieldsInfo.approveCheckDate.fieldTitle))("disabled",v(!(i.fieldsInfo.approveCheckDate!=null&&i.fieldsInfo.approveCheckDate.accessEditField)))("matDatepicker",e),E("ngModel",i.dataModel.approveCheckDate),o(),l("for",e)}}function gi(n,d){if(n&1){let e=b();a(0,"div",48)(1,"label",53),c(2),r(),a(3,"input",54),A("ngModelChange",function(t){u(e);let s=m();return w(s.dataModel.expireDate,t)||(s.dataModel.expireDate=t),f(t)}),r(),_(4,"mat-datepicker-toggle",51)(5,"mat-datepicker",52,7),r()}if(n&2){let e=k(6),i=m();o(2),y(i.fieldsInfo.expireDate==null?null:i.fieldsInfo.expireDate.fieldTitle),o(),l("placeholder",v(i.fieldsInfo.expireDate==null?null:i.fieldsInfo.expireDate.fieldTitle))("disabled",v(!(i.fieldsInfo.expireDate!=null&&i.fieldsInfo.expireDate.accessEditField)))("matDatepicker",e),E("ngModel",i.dataModel.expireDate),o(),l("for",e)}}function hi(n,d){if(n&1){let e=b();a(0,"div",55)(1,"button",56),T("click",function(){u(e);let t=m();return f(t.onFormCancel())}),_(2,"i",57),c(3),g(4,"translate"),r(),a(5,"button",58),_(6,"i",59),c(7),g(8,"translate"),r()()}if(n&2){m();let e=k(10);o(3),S(" ",h(4,3,"ACTION.CANCEL")," "),o(2),l("disabled",!e.form.valid),o(2),S(" ",h(8,5,"ACTION.SAVE")," ")}}var X=class X extends ot{constructor(e,i,t,s,C,p,It,we,St,Mt){super(s,new B,C,we);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.coreUserClaimContentService=s;this.publicHelper=C;this.cmsToastrService=p;this.cdr=It;this.translate=we;this.tokenHelper=St;this.cmsStoreService=Mt;this.requestId=0;this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.unsubscribe=[];this.ProfessionalData=!1;this.appLanguage="fa";this.dataModelResult=new ze;this.dataModel=new B;this.formInfo=new ye;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=+e.id||0),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&(!this.tokenInfo.access.userAccessAdminAllowToProfessionalData&&this.tokenInfo.access.userAccessAdminAllowToAllData?(this.dataModel.linkUserId=this.tokenInfo.access.userId,this.dataModel.linkSiteId=this.tokenInfo.access.siteId,this.ProfessionalData=!0):this.ProfessionalData=!1),this.unsubscribe.push(this.cmsStoreService.getState(D=>D.tokenInfoStore).subscribe(D=>U(this,null,function*(){this.tokenInfo=D,!this.tokenInfo.access.userAccessAdminAllowToProfessionalData&&this.tokenInfo.access.userAccessAdminAllowToAllData?(this.dataModel.linkUserId=this.tokenInfo.access.userId,this.dataModel.linkSiteId=this.tokenInfo.access.siteId,this.ProfessionalData=!0):this.ProfessionalData=!1})))}ngOnInit(){if(this.requestId>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetOneContent(){if(this.requestId<=0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.coreUserClaimContentService.setAccessLoad(),this.coreUserClaimContentService.setAccessDataType(je.Editor),this.coreUserClaimContentService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.coreUserClaimContentService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionFileSelected(e){this.dataModel.linkFileContentId=e.id,this.dataModel.linkFileContentIdSrc=e.downloadLinksrc}onActionSelectUser(e){if(!e||e.id<=0){this.translate.get(["MESSAGE.Specify_the_user","MESSAGE.Information_user_is_not_clear"]).subscribe(i=>{this.cmsToastrService.typeErrorMessage(i["MESSAGE.Specify_the_user"],i["MESSAGE.Information_user_is_not_clear"])});return}this.dataModel.linkUserId=e.id}onActionSelectSite(e){if(!e||e.id<=0){this.translate.get(["MESSAGE.Specify_the_site","MESSAGE.Information_site_is_not_clear"]).subscribe(i=>{this.cmsToastrService.typeErrorMessage(i["MESSAGE.Information_site_is_not_clear"],i["MESSAGE.Specify_the_site"])});return}this.dataModel.linkSiteId=e.id}onActionSelectClaimType(e){if(!e||e.id<=0){this.translate.get(["MESSAGE.Specify_the_category","MESSAGE.type_of_information_documents_is_not_clear"]).subscribe(i=>{this.cmsToastrService.typeErrorMessage(i["MESSAGE.Specify_the_category"],i["MESSAGE.type_of_information_documents_is_not_clear"])});return}this.dataModel.linkUserClaimTypeId=e.id}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};X.\u0275fac=function(i){return new(i||X)(I(_e),I(he),I(P),I(oe),I(z),I(j),I(V),I(N),I(Me),I(Se))},X.\u0275cmp=F({type:X,selectors:[["app-core-userclaim-edit"]],viewQuery:function(i,t){if(i&1&&$(oi,5),i&2){let s;ee(s=te())&&(t.formGroup=s.first)}},standalone:!1,features:[Z],decls:63,vars:56,consts:[["vform","ngForm"],["TitleResourceLanguage",""],["LinkFileContentId",""],["Description",""],["ApprovedResult",""],["Title",""],["approveCheckDate",""],["ExpireDate",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.titleResourceLanguage",1,"color-highlight"],["matInput","","name","dataModel.titleResourceLanguage","type","text","minlength","3","maxlength","100","required","","id","dataModel.titleResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[4,"ngIf"],[3,"optionSelectForce","optionPlaceholder","optionDisabled","optionChange",4,"ngIf"],[1,"mb-3"],["style","vertical-align: middle","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],[1,"mb-9"],["for","dataModel.linkFileContentId",1,"color-highlight",3,"click"],["matInput","","name"," dataModel.linkFileContentId","type","text","autocomplete","off","id","dataModel.linkFileContentId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","0","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.isApproved",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.isApproved","name","dataModel.isApproved",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.isApproved",1,"custom-control-label"],["for","dataModel.approvedResult",1,"color-highlight"],["matInput","","name","dataModel.approvedResult","type","text","minlength","0","maxlength","500","rows","5","id","dataModel.approvedResult",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4 cms-input-group",4,"ngIf"],["class","form-actions",4,"ngIf"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["class","fa fa-times invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[3,"optionChange","optionSelectForce","optionPlaceholder","optionDisabled"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],["for","dataModel.approveCheckDate",1,"color-highlight"],["matInput","","type","text","name","dataModel.approveCheckDate","minlength","3","maxlength","100","id","dataModel.approveCheckDate",1,"form-control","validate-name",3,"ngModelChange","matDatepicker","ngModel","placeholder","disabled"],["matSuffix","",3,"for"],["touchUi",""],["for","dataModel.expireDate",1,"color-highlight"],["matInput","","type","text","name","dataModel.expireDate","minlength","3","maxlength","100","id","dataModel.expireDate",1,"form-control","validate-name",3,"ngModelChange","matDatepicker","ngModel","placeholder","disabled"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=b();a(0,"div",8),_(1,"app-progress-spinner",9),a(2,"div",10)(3,"p",11),c(4),r(),a(5,"p"),c(6),g(7,"translate"),r(),_(8,"app-cms-form-result-message",12),a(9,"form",13,0),T("ngSubmit",function(){return u(s),f(t.onFormSubmit())}),a(11,"app-cms-enum-record-status-selector",14),A("modelChange",function(p){return u(s),w(t.dataModel.recordStatus,p)||(t.dataModel.recordStatus=p),f(p)}),r(),M(12,li,10,9,"div",15),a(13,"div",16)(14,"label",17),c(15),r(),a(16,"input",18,1),A("ngModelChange",function(p){return u(s),w(t.dataModel.titleResourceLanguage,p)||(t.dataModel.titleResourceLanguage=p),f(p)}),r(),a(18,"em"),c(19),r(),M(20,si,5,4,"mat-error",19),r(),M(21,di,2,5,"app-cms-user-selector",20)(22,pi,2,5,"app-cms-site-selector",20)(23,ci,2,5,"app-core-userclaimtype-selector",20),a(24,"div",21),M(25,mi,2,4,"img",22),r(),a(26,"div",23)(27,"div",16)(28,"label",24),T("click",function(){return u(s),f(t.fileManagerOpenForm=!0)}),c(29),g(30,"translate"),r(),a(31,"input",25,2),g(33,"translate"),A("ngModelChange",function(p){return u(s),w(t.dataModel.linkFileContentId,p)||(t.dataModel.linkFileContentId=p),f(p)}),T("click",function(){return u(s),f(t.fileManagerOpenForm=!0)}),r()(),a(34,"cms-file-manager",26),T("itemSelected",function(p){return u(s),f(t.onActionFileSelected(p))}),A("openFormChange",function(p){return u(s),w(t.fileManagerOpenForm,p)||(t.fileManagerOpenForm=p),f(p)}),r()(),a(35,"div",16)(36,"label",27),c(37),r(),a(38,"textarea",28,3),A("ngModelChange",function(p){return u(s),w(t.dataModel.description,p)||(t.dataModel.description=p),f(p)}),r(),a(40,"em"),c(41),r(),M(42,ui,5,4,"mat-error",19),r(),_(43,"hr"),a(44,"div",29)(45,"div",30)(46,"h5",31),c(47),r()(),a(48,"div",32)(49,"div",33)(50,"input",34),A("ngModelChange",function(p){return u(s),w(t.dataModel.isApproved,p)||(t.dataModel.isApproved=p),f(p)}),r(),_(51,"label",35),r()()(),a(52,"div",16)(53,"label",36),c(54),r(),a(55,"textarea",37,4),A("ngModelChange",function(p){return u(s),w(t.dataModel.approvedResult,p)||(t.dataModel.approvedResult=p),f(p)}),r(),a(57,"em"),c(58),r(),M(59,fi,5,4,"mat-error",19),r(),M(60,Ci,7,8,"div",38)(61,gi,7,8,"div",38)(62,hi,9,7,"div",39),r()()()}if(i&2){let s=k(17),C=k(39),p=k(56);o(),l("optionsInfoAreaId",t.constructorInfoAreaId),o(3),S(" ",t.formInfo.formTitle," "),o(2),S(" ",h(7,50,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),l("formInfo",t.formInfo),o(3),E("model",t.dataModel.recordStatus),l("optionDisabled",!1)("optionLabel",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0),o(),l("ngIf",(t.fieldsInfo.title==null?null:t.fieldsInfo.title.accessWatchField)&&t.ProfessionalData),o(3),y(t.fieldsInfo.titleResourceLanguage==null?null:t.fieldsInfo.titleResourceLanguage.fieldTitle),o(),l("placeholder",v(t.fieldsInfo.titleResourceLanguage==null?null:t.fieldsInfo.titleResourceLanguage.fieldTitle)),E("ngModel",t.dataModel.titleResourceLanguage),l("disabled",!(t.fieldsInfo.titleResourceLanguage!=null&&t.fieldsInfo.titleResourceLanguage.accessEditField)),o(3),S("",s.value.length," / 100"),o(),l("ngIf",s.errors==null?null:s.errors.required),o(),l("ngIf",t.ProfessionalData),o(),l("ngIf",t.ProfessionalData),o(),l("ngIf",t.ProfessionalData),o(2),l("ngIf",(t.dataModel==null||t.dataModel.linkFileContentIdSrc==null?null:t.dataModel.linkFileContentIdSrc.length)>0),o(4),S("",h(30,52,"TITLE.Document_File")," "),o(2),l("placeholder",v(h(33,54,"TITLE.Original_File_ID"))),E("ngModel",t.dataModel.linkFileContentId),o(3),l("language",t.appLanguage)("isPopup",!0),E("openForm",t.fileManagerOpenForm),l("tree",t.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",t.selectFileTypeMainImage)("openFilemanagerButtonView",!1),o(3),y(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),l("placeholder",v(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),E("ngModel",t.dataModel.description),o(3),S("",C.value.length," / 500"),o(),l("ngIf",C.errors==null?null:C.errors.required),o(5),S(" ",t.fieldsInfo.isApproved==null?null:t.fieldsInfo.isApproved.fieldTitle," "),o(3),E("ngModel",t.dataModel.isApproved),o(4),y(t.fieldsInfo.approvedResult==null?null:t.fieldsInfo.approvedResult.fieldTitle),o(),l("placeholder",v(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),E("ngModel",t.dataModel.approvedResult),o(3),S("",p.value.length," / 500"),o(),l("ngIf",p.errors==null?null:p.errors.required),o(),l("ngIf",t.fieldsInfo.approveCheckDate==null?null:t.fieldsInfo.approveCheckDate.accessWatchField),o(),l("ngIf",t.fieldsInfo.expireDate==null?null:t.fieldsInfo.expireDate.accessWatchField),o(),l("ngIf",t.formInfo.submitButtonEnabled)}},dependencies:[L,de,G,re,W,ae,O,pe,ce,se,le,fe,Ce,ge,me,ue,q,ve,Te,Ee,Q,be,Ie,Y,H,K],encapsulation:2});var _t=X;export{Y as a,ht as b,_t as c};
