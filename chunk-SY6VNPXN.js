import{a as Bt}from"./chunk-HVUHSGZR.js";import{a as Qe}from"./chunk-E5BH276Y.js";import{a as ji}from"./chunk-XWFZ3L2H.js";import{a as Et}from"./chunk-ICJ7MIO2.js";import{a as Nt}from"./chunk-CX4ABWPF.js";import{a as Xn}from"./chunk-ZGUXVNBQ.js";import{a as yt}from"./chunk-4E6U4HE6.js";import{a as nt}from"./chunk-K33TURJC.js";import{a as _t}from"./chunk-YYSRF5EW.js";import{a as Y}from"./chunk-JEF4OJ24.js";import{a as It}from"./chunk-7DEHQSB7.js";import{d as Ct,e as _e,f as Se,i as qe}from"./chunk-FMZK63QH.js";import{a as oe}from"./chunk-4WAMJFSW.js";import{a as Vt}from"./chunk-QXNCAA7F.js";import{a as ot}from"./chunk-BNK7WLOJ.js";import{a as ai}from"./chunk-NQXRH7AD.js";import{b as ft,d as it}from"./chunk-XZCPJE47.js";import{b as Yn}from"./chunk-3RHHJRHJ.js";import"./chunk-7DUNEHBM.js";import{a as wt}from"./chunk-T2SWGMVG.js";import"./chunk-5DHIOXLL.js";import{a as ut}from"./chunk-PH5IBDIY.js";import"./chunk-HGNWVODT.js";import{a as Ce,d as pt}from"./chunk-5CUEEOJ3.js";import{e as je,f as j}from"./chunk-NSI52VTG.js";import{$ as Fn,A as De,B as Vn,Ba as ye,Cb as W,Da as pe,Db as N,Fa as jn,Ga as qn,H as Nn,Ha as Qn,I as Bn,Ia as zn,J as On,Ja as $n,Ka as et,La as tt,M as Pn,Oa as ue,Qb as Kn,Ua as fe,V as Gn,Wa as xe,Xa as ke,a as Je,da as Hn,ea as Wn,eb as Ve,fa as Un,fb as Ne,gb as Be,hb as Oe,ib as Pe,jb as Ge,kb as Fe,lb as He,ma as me,mb as We,na as de,nb as Ue,oa as Ae,pb as qo,rc as U,s as Ui,uc as $,v as kn,wc as K,zc as Jn}from"./chunk-WIVKQDM4.js";import{B as Uo,C as jo,F as An,G as xn,c as Ye,h as Xe,i as bt,k as vt,m as Ze,n as Mt,u as Fi,v as Hi,x as Wi}from"./chunk-QRBNL5ZA.js";import{$a as ti,H as Q,K as ht,Ln as J,N as Vi,O as Ni,P as Jt,Q as Bi,R as Yt,S as Xt,T as Zt,U as ei,Wb as dt,X as Oi,Y as Wo,Za as Pi,_a as Gi,ab as ii,ba as ee,bb as To,cb as oi,d as st,db as ni,e as Tn,eb as ri,f as ct,fa as Dn,ic as Ut,l as _n,m as mt,p as ki,q,u as G,v as Ke}from"./chunk-2ZWWK4AL.js";import{$ as Ht,Ab as E,Ad as Rn,C as vn,Cb as Kt,Db as ge,Dc as S,Eb as he,Ec as g,Fb as h,Fc as Wt,Ga as Te,Gb as a,Hb as r,Ib as _,Mb as M,Nb as w,Ob as B,Pb as L,Qa as gt,Sb as b,Ua as wn,Ub as p,Va as n,Xc as H,Yb as ae,Z as Mn,Zb as le,_b as se,cb as v,cc as X,ec as O,f as xi,ga as Bo,hc as c,ib as V,ic as x,jb as Oo,jc as C,kc as be,ld as ie,mb as F,md as En,nc as T,nd as Fo,ob as R,oc as D,pa as m,pc as A,qa as d,rd as Ho,tc as In,td as lt,ud as yn,vd as Ln,xb as $e,xc as ce,yb as Po,yc as Go,zb as I}from"./chunk-2AL2II5Z.js";import{a as hn,b as bn,i as z}from"./chunk-SEDBTTTN.js";var or=["vform"];function nr(o,l){if(o&1&&(a(0,"div"),_(1,"div",17),S(2,"prettyjson"),r()),o&2){let e=p();n(),h("innerHTML",g(2,1,e.dataModel),gt)}}function rr(o,l){if(o&1){let e=L();a(0,"div",16)(1,"button",18),b("click",function(){m(e);let i=p();return d(i.onFormCancel())}),_(2,"i",19),c(3),S(4,"translate"),r()()}o&2&&(n(3),C(" ",g(4,1,"ACTION.CANCEL")," "))}var qi=class qi extends It{constructor(e,t,i,s,u,f,y,P,re,Re){super(s,new Pi,re,Re);this.data=e;this.dialogRef=t;this.coreEnumService=i;this.coreLogAvoidDuplicateDataEntryService=s;this.cmsToastrService=u;this.tokenHelper=f;this.cmsStoreService=y;this.cdr=P;this.publicHelper=re;this.translate=Re;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new ki;this.dataModel=new Pi;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id)}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>z(this,null,function*(){this.tokenInfo=e})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.coreLogAvoidDuplicateDataEntryService.setAccessLoad(),this.coreLogAvoidDuplicateDataEntryService.setAccessDataType(ht.Editor),this.coreLogAvoidDuplicateDataEntryService.ServiceGetOneById(this.requestId).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModel=t.item,t.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+t.item.id,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=t.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(t.errorMessage)),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};qi.\u0275fac=function(t){return new(t||qi)(v(de),v(me),v(ee),v(Vi),v(K),v($),v(U),v(H),v(j),v(W))},qi.\u0275cmp=V({type:qi,selectors:[["app-core-log-avoid-duplicate-edit"]],viewQuery:function(t,i){if(t&1&&ae(or,5),t&2){let s;le(s=se())&&(i.formGroup=s.first)}},standalone:!1,features:[F],decls:31,vars:20,consts:[["vform","ngForm"],["ModuleName",""],["ModuleEntityName",""],["ModuleEntityId",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.moduleName",1,"color-highlight"],["matInput","","type","text","name","dataModel.moduleName","placeholder","ModuleName","id","dataModel.moduleName",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.moduleEntityName",1,"color-highlight"],["matInput","","type","text","name","dataModel.moduleEntityName","placeholder","ModuleEntityName","id","dataModel.moduleEntityName",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.moduleEntityId",1,"color-highlight"],["matInput","","type","text","name","dataModel.moduleEntityId","placeholder","ModuleEntityId","id","dataModel.moduleEntityId",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[1,"form-actions"],[3,"innerHTML"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(t,i){if(t&1){let s=L();a(0,"div",4),_(1,"app-progress-spinner",5),a(2,"div",6)(3,"p",7),c(4),r(),a(5,"p"),c(6),S(7,"translate"),r(),a(8,"form",null,0),_(10,"app-cms-user-selector",8),S(11,"translate"),_(12,"app-cms-member-selector",8),S(13,"translate"),a(14,"div",9)(15,"label",10),c(16,"ModuleName"),r(),a(17,"input",11,1),A("ngModelChange",function(f){return m(s),D(i.dataModel.moduleName,f)||(i.dataModel.moduleName=f),d(f)}),r()(),a(19,"div",9)(20,"label",12),c(21,"ModuleEntityName"),r(),a(22,"input",13,2),A("ngModelChange",function(f){return m(s),D(i.dataModel.moduleEntityName,f)||(i.dataModel.moduleEntityName=f),d(f)}),r()(),a(24,"div",9)(25,"label",14),c(26,"EntityId"),r(),a(27,"input",15,3),A("ngModelChange",function(f){return m(s),D(i.dataModel.moduleEntityId,f)||(i.dataModel.moduleEntityId=f),d(f)}),r()(),I(29,nr,3,3,"div"),I(30,rr,5,3,"div",16),r()()()}t&2&&(n(),h("optionsInfoAreaId",i.constructorInfoAreaId),n(3),C(" ",i.formInfo.formTitle," "),n(2),C(" ",g(7,14,"TITLE.Be_Careful_When_Entering_Information")," "),n(4),h("optionDisabled",!0)("optionSelectForce",i.dataModel.linkUserId)("optionPlaceholder",g(11,16,"TITLE.USER")),n(2),h("optionDisabled",!0)("optionSelectForce",i.dataModel.linkMemberId)("optionPlaceholder",g(13,18,"TITLE.Member")),n(5),T("ngModel",i.dataModel.moduleName),n(5),T("ngModel",i.dataModel.moduleEntityName),n(5),T("ngModel",i.dataModel.moduleEntityId),n(2),E(i.tokenInfo.access.userAccessAdminAllowToProfessionalData?29:-1),n(),E(i.formInfo.submitButtonEnabled?30:-1))},dependencies:[Mt,Ye,Xe,bt,Ze,vt,pe,Vt,Bt,Ce,N,wt],encapsulation:2});var Qo=qi;var ar=()=>[5,10,20,100];function lr(o,l){if(o&1){let e=L();a(0,"div",16)(1,"a",44),b("click",function(){m(e);let i=p();return d(i.onActionButtonEditRow(i.tableRowSelected))}),_(2,"i",45)(3,"br"),r(),a(4,"p",19),c(5),S(6,"translate"),r()()}o&2&&(n(5),C(" ",g(6,1,"ACTION.EDIT")," "))}function sr(o,l){if(o&1){let e=L();a(0,"div",16)(1,"a",46),b("click",function(){m(e);let i=p();return d(i.onActionButtonDeleteRow(i.tableRowSelected))}),_(2,"i",47)(3,"br"),r(),a(4,"p",19),c(5),S(6,"translate"),r()()}o&2&&(n(5),C(" ",g(6,1,"ACTION.DELETE")," "))}function cr(o,l){if(o&1&&(a(0,"mat-header-cell",48),c(1),r()),o&2){let e=p();n(),C(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function mr(o,l){if(o&1&&(a(0,"mat-cell"),c(1),r()),o&2){let e=l.$implicit;n(),C(" ",e.id," ")}}function dr(o,l){if(o&1&&(a(0,"mat-header-cell",48),c(1),r()),o&2){let e=p();n(),C(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function pr(o,l){if(o&1&&(a(0,"mat-cell",49),S(1,"statusCellClass"),_(2,"i",49),S(3,"statusIconClass"),r()),o&2){let e=l.$implicit;h("ngClass",g(1,2,e.recordStatus)),n(2),h("ngClass",g(3,4,e.recordStatus))}}function ur(o,l){if(o&1&&(a(0,"mat-header-cell",48),c(1),r()),o&2){let e=p();n(),C(" ",e.fieldsInfo.linkUserId==null?null:e.fieldsInfo.linkUserId.fieldTitle," ")}}function fr(o,l){if(o&1&&(a(0,"mat-cell"),c(1),S(2,"cmsuserinfo"),S(3,"async"),r()),o&2){let e=l.$implicit;n(),C(" ",g(3,3,g(2,1,e.linkUserId))," ")}}function Cr(o,l){if(o&1&&(a(0,"mat-header-cell",48),c(1),r()),o&2){let e=p();n(),C(" ",e.fieldsInfo.linkMemberUserId==null?null:e.fieldsInfo.linkMemberUserId.fieldTitle," ")}}function _r(o,l){if(o&1&&(a(0,"mat-cell"),c(1),r()),o&2){let e=l.$implicit;n(),C(" ",e.linkMemberUserId," ")}}function Sr(o,l){if(o&1&&(a(0,"mat-header-cell",48),c(1),r()),o&2){let e=p();n(),C(" ",e.fieldsInfo.moduleName==null?null:e.fieldsInfo.moduleName.fieldTitle," ")}}function gr(o,l){if(o&1&&(a(0,"mat-cell"),c(1),r()),o&2){let e=l.$implicit;n(),C(" ",e.moduleName," ")}}function hr(o,l){if(o&1&&(a(0,"mat-header-cell",48),c(1),r()),o&2){let e=p();n(),C(" ",e.fieldsInfo.moduleEntityName==null?null:e.fieldsInfo.moduleEntityName.fieldTitle," ")}}function br(o,l){if(o&1&&(a(0,"mat-cell"),c(1),r()),o&2){let e=l.$implicit;n(),C(" ",e.moduleEntityName," ")}}function vr(o,l){if(o&1&&(a(0,"mat-header-cell",48),c(1),r()),o&2){let e=p();n(),C(" ",e.fieldsInfo.moduleEntityId==null?null:e.fieldsInfo.moduleEntityId.fieldTitle," ")}}function Mr(o,l){if(o&1&&(a(0,"mat-cell"),c(1),r()),o&2){let e=l.$implicit;n(),C(" ",e.moduleEntityId," ")}}function wr(o,l){if(o&1&&(a(0,"mat-header-cell",48),c(1),r()),o&2){let e=p();n(),C(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function Ir(o,l){if(o&1&&(a(0,"mat-cell",50),c(1),S(2,"localeDateTime"),r()),o&2){let e=l.$implicit;n(),C(" ",g(2,1,e.createdDate)," ")}}function Er(o,l){o&1&&(a(0,"mat-header-cell"),c(1),S(2,"translate"),r()),o&2&&(n(),C(" ",g(2,1,"TITLE.OPTION")," "))}function yr(o,l){if(o&1&&(a(0,"mat-cell",51)(1,"button",52)(2,"mat-icon"),c(3,"more_vert"),r()(),_(4,"mat-menu",null,2),r()),o&2){let e=X(5);n(),h("matMenuTriggerFor",e)}}function Lr(o,l){o&1&&_(0,"mat-header-row")}function Rr(o,l){if(o&1){let e=L();a(0,"mat-row",53),b("click",function(i){let s=m(e).$implicit,u=p();return d(u.onActionTableRowSelect(s,i))})("rtclick",function(i){let s=m(e).$implicit,u=p();return d(u.onActionTableRowSelect(s,i))}),r()}if(o&2){let e=l.$implicit,t=p();O("ntk-row-selected",e.id===(t.tableRowSelected==null?null:t.tableRowSelected.id))}}var zi=class zi extends Ct{constructor(e,t,i,s,u,f,y,P,re,Re,Ot,kt){super(e,new Pi,Ot,re,P);this.contentService=e;this.cmsToastrService=t;this.cmsConfirmationDialogService=i;this.activatedRoute=s;this.router=u;this.cdr=f;this.cmsStoreService=y;this.translate=P;this.tokenHelper=re;this.pageInfo=Re;this.publicHelper=Ot;this.dialog=kt;this.requestLinkUserId=0;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new Ke;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["id","ModuleName","ModuleEntityName","linkUserId","LinkMemberUserId","ModuleEntityId","createdDate"];this.tabledisplayedColumnsMobileSource=["id","ModuleName","ModuleEntityName","linkUserId","LinkMemberUserId","ModuleEntityId","createdDate"];this.dataModelEnumManageUserAccessAreaTypesResult=new q;this.dataModelEnumManageUserAccessUserTypesResult=new q;this.unsubscribe=[];if(this.publicHelper.processService.cdr=this.cdr,this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkUserId>0){let ve=new G;ve.propertyName="linkUserId",ve.value=this.requestLinkUserId,this.filteModelContent.filters.push(ve)}this.optionsSearch.parentMethods={onSubmit:ve=>this.onSubmitOptionsSearch(ve)},this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=Q.Descending}ngOnInit(){this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=Q.Descending,this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>z(this,null,function*(){this.tokenInfo=e,this.DataGetAll()}))),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){}getEnumManageUserAccessUserTypes(){}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}filterModelCompiler(e){let t=JSON.parse(JSON.stringify(e));return this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(t.filters=[...this.filterDataModelQueryBuilder]),t}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Pi);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let t=this.filterModelCompiler(this.filteModelContent);this.contentService.ServiceGetAllEditor(t).subscribe({next:i=>{i.isSuccess&&(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.applyDataGetAllResult(i),this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(i.access)},1e3)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=Q.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=Q.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=Q.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonEditRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var t="";this.publicHelper.isMobile?t="dialog-fullscreen":t="dialog-min",this.dialog.open(Qo,{height:"90%",panelClass:t,enterAnimationDuration:J.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:J.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(s=>{this.cmsToastrService.typeErrorSelected(s)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var t="",i="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(s=>{t=s["MESSAGE.Please_Confirm"],i=s["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(t,i).then(s=>{if(s){let u=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(f=>{this.publicHelper.processService.processStart(u,f,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:f=>{f.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(u)},error:f=>{this.cmsToastrService.typeError(f),this.publicHelper.processService.processStop(u,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let t=new Map;this.translate.get("MESSAGE.Active").subscribe(y=>{t.set(y,0)}),this.translate.get("MESSAGE.All").subscribe(y=>{t.set(y,0)});let i=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(y=>{this.publicHelper.processService.processStart(i,y,this.constructorInfoAreaId)});let s=this.filterModelCompiler(this.filteModelContent);this.contentService.ServiceGetCount(s).subscribe({next:y=>{y.isSuccess?(this.translate.get("MESSAGE.All").subscribe(P=>{t.set(P,y.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(t)):this.cmsToastrService.typeErrorMessage(y.errorMessage),this.publicHelper.processService.processStop(i)},error:y=>{this.cmsToastrService.typeError(y),this.publicHelper.processService.processStop(i,!1)}});let u=this.filterModelCompiler(this.filteModelContent),f=new G;f.propertyName="recordStatus",f.value=mt.Available,u.filters.push(f),this.contentService.ServiceGetCount(u).subscribe({next:y=>{y.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(P=>{t.set(P,y.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(t)):this.cmsToastrService.typeErrorMessage(y.errorMessage),this.publicHelper.processService.processStop(i)},error:y=>{this.cmsToastrService.typeError(y),this.publicHelper.processService.processStop(i,!1)}})}onActionButtonViewUserRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkUserId||this.tableRowSelected.linkUserId===0){this.translate.get("MESSAGE.content_does_not_contain_user_information").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId])}onActionButtonViewMemberRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkMemberId||this.tableRowSelected.linkMemberId===""){this.translate.get("MESSAGE.Content_does_not_include_device_information").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}this.router.navigate(["/member/user/edit",this.tableRowSelected.linkMemberId])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};zi.\u0275fac=function(t){return new(t||zi)(v(Vi),v(K),v(ot),v(st),v(ct),v(H),v(U),v(W),v($),v(je),v(j),v(Ae))},zi.\u0275cmp=V({type:zi,selectors:[["app-core-log-avoid-duplicate-list"]],standalone:!1,features:[F],decls:75,vars:35,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-id-card-clip","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","recordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","linkUserId"],["matColumnDef","LinkMemberUserId"],["matColumnDef","ModuleName"],["matColumnDef","ModuleEntityName"],["matColumnDef","ModuleEntityId"],["matColumnDef","createdDate"],["style","direction: ltr",4,"matCellDef"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],[2,"direction","ltr"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(t,i){if(t&1){let s=L();a(0,"app-cms-html-list",3),A("optionActionGuideNoticeDisplayChange",function(f){return m(s),D(i.viewGuideNotice,f)||(i.viewGuideNotice=f),d(f)}),b("optionOnActionButtonMemoRow",function(){return m(s),d(i.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return m(s),d(i.onActionButtonMemo())})("optionOnActionButtonExport",function(){return m(s),d(i.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return m(s),d(i.onActionButtonPrintRow())}),M(1,4),c(2," -------------------------------------- "),w(),B(3,5)(4,6),M(5,7),a(6,"a",8),b("click",function(){return m(s),d(i.viewGuideNotice=!i.viewGuideNotice)}),_(7,"i",9),r(),a(8,"a",8),b("click",function(){return m(s),d(i.onActionButtonReload())}),_(9,"i",10),r(),w(),M(10,11),a(11,"a",12),b("click",function(){return m(s),d(i.optionsSearch.data.show=!i.optionsSearch.data.show)}),_(12,"mat-slide-toggle",13),c(13),S(14,"translate"),r(),a(15,"a",12),b("click",function(){return m(s),d(i.onActionButtonStatist())}),_(16,"mat-slide-toggle",13),c(17),S(18,"translate"),r(),w(),B(19,14),M(20,15),I(21,lr,7,3,"div",16),I(22,sr,7,3,"div",16),a(23,"div",16)(24,"a",17),b("click",function(){return m(s),d(i.onActionButtonViewUserRow(i.tableRowSelected))}),_(25,"i",18)(26,"br"),r(),a(27,"p",19),c(28),S(29,"translate"),r()(),a(30,"div",16)(31,"a",17),b("click",function(){return m(s),d(i.onActionButtonViewMemberRow(i.tableRowSelected))}),_(32,"i",20)(33,"br"),r(),a(34,"p",19),c(35),S(36,"translate"),r()(),w(),M(37,21),a(38,"app-cms-search-list",22),A("optionsChange",function(f){return m(s),D(i.optionsSearch,f)||(i.optionsSearch=f),d(f)}),r(),a(39,"app-cms-statist-list",22),A("optionsChange",function(f){return m(s),D(i.optionsStatist,f)||(i.optionsStatist=f),d(f)}),r(),w(),M(40,23),a(41,"mat-table",24,0),b("matSortChange",function(){m(s);let f=X(42);return d(i.onTableSortData(f))}),M(43,25),R(44,cr,2,1,"mat-header-cell",26)(45,mr,2,1,"mat-cell",27),w(),M(46,28),R(47,dr,2,1,"mat-header-cell",26)(48,pr,4,6,"mat-cell",29),w(),M(49,30),R(50,ur,2,1,"mat-header-cell",26)(51,fr,4,5,"mat-cell",27),w(),M(52,31),R(53,Cr,2,1,"mat-header-cell",26)(54,_r,2,1,"mat-cell",27),w(),M(55,32),R(56,Sr,2,1,"mat-header-cell",26)(57,gr,2,1,"mat-cell",27),w(),M(58,33),R(59,hr,2,1,"mat-header-cell",26)(60,br,2,1,"mat-cell",27),w(),M(61,34),R(62,vr,2,1,"mat-header-cell",26)(63,Mr,2,1,"mat-cell",27),w(),M(64,35),R(65,wr,2,1,"mat-header-cell",26)(66,Ir,3,3,"mat-cell",36),w(),M(67,37),R(68,Er,3,3,"mat-header-cell",38)(69,yr,6,1,"mat-cell",39),w(),R(70,Lr,1,0,"mat-header-row",40)(71,Rr,1,2,"mat-row",41),r(),w(),M(72,42),a(73,"mat-paginator",43,1),b("page",function(f){return m(s),d(i.onTablePageingData(f))}),r(),w(),r()}t&2&&(h("optionsListInfoAreaId",i.constructorInfoAreaId)("optionGuideNoticeKey",""),T("optionActionGuideNoticeDisplay",i.viewGuideNotice),h("optionTreeDisplay",!1)("optionActionRowId",i.tableRowSelected==null?null:i.tableRowSelected.id)("optionActionRowDisplayMenu",i.tableRowSelect2Click)("optionSelectRowItemTitle",i.tableRowSelected==null?null:i.tableRowSelected.id),n(9),O("rotation360",i.publicHelper.processService.process.inRunArea[i.constructorInfoAreaId]),n(3),h("checked",i.optionsSearch.data.show),n(),C("",g(14,26,"ACTION.SEARCH")," "),n(3),h("checked",i.optionsStatist.data.show),n(),C("",g(18,28,"ACTION.STATIST")," "),n(4),E(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessEditRow?21:-1),n(),E(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessDeleteRow?22:-1),n(6),C(" ",g(29,30,"ACTION.USER")," "),n(7),C(" ",g(36,32,"ACTION.MEMBER")," "),n(3),T("options",i.optionsSearch),n(),T("options",i.optionsStatist),n(2),h("dataSource",i.tableSource),n(29),h("matHeaderRowDef",i.tabledisplayedColumns),n(),h("matRowDefColumns",i.tabledisplayedColumns),n(2),h("length",i.dataModelResult.totalRowCount)("pageIndex",i.dataModelResult.currentPageNumber-1)("pageSize",i.dataModelResult.rowPerPage)("pageSizeOptions",ce(34,ar)))},dependencies:[ie,De,ye,et,tt,ue,fe,xe,ke,Ve,Be,Fe,Oe,Ne,He,Pe,Ge,We,Ue,_e,Se,qe,Y,lt,N,ft,it,oe,nt],encapsulation:2});var fi=zi;var Tr=()=>[5,10,20,100],Dr=(o,l)=>l.id;function Ar(o,l){if(o&1){let e=L();a(0,"div",17)(1,"a",25),b("click",function(){m(e);let i=p();return d(i.onActionButtonEditRow(i.tableRowSelected))}),_(2,"i",26)(3,"br"),r(),a(4,"p",27),c(5),S(6,"translate"),r()()}o&2&&(n(5),C(" ",g(6,1,"ACTION.EDIT")," "))}function xr(o,l){if(o&1){let e=L();a(0,"div",17)(1,"a",28),b("click",function(){m(e);let i=p();return d(i.onActionButtonDeleteRow(i.tableRowSelected))}),_(2,"i",29)(3,"br"),r(),a(4,"p",27),c(5),S(6,"translate"),r()()}o&2&&(n(5),C(" ",g(6,1,"ACTION.DELETE")," "))}function kr(o,l){if(o&1){let e=L();a(0,"div",17)(1,"a",30),b("click",function(){m(e);let i=p();return d(i.onActionButtonViewRow(i.tableRowSelected))}),_(2,"i",31)(3,"br"),r(),a(4,"p",27),c(5),S(6,"translate"),r()()}o&2&&(n(5),C(" ",g(6,1,"ACTION.VIEW")," "))}function Vr(o,l){if(o&1&&(a(0,"div",38),_(1,"i",40),c(2),r()),o&2){let e=p().$implicit,t=p(2);n(2),be(" ",t.fieldsInfo.id==null?null:t.fieldsInfo.id.fieldTitle,": ",e.id," ")}}function Nr(o,l){if(o&1&&(a(0,"div",38),_(1,"i",41),c(2),S(3,"localeDate"),r()),o&2){let e=p().$implicit,t=p(2);n(2),be(" ",t.fieldsInfo.createdDate==null?null:t.fieldsInfo.createdDate.fieldTitle,": ",g(3,2,e.createdDate)," ")}}function Br(o,l){if(o&1&&_(0,"select",43),o&2){let e=p(2).$implicit,t=p(2);h("contentService",t.contentService)("row",e)}}function Or(o,l){if(o&1&&(a(0,"div",38),_(1,"i",42),S(2,"statusIconClass"),I(3,Br,1,2,"select",43),r()),o&2){let e=p().$implicit,t=p(2);n(),h("ngClass",g(2,2,e.recordStatus)),n(2),E(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow&&e.id===(t.tableRowSelected==null?null:t.tableRowSelected.id)?3:-1)}}function Pr(o,l){if(o&1&&(a(0,"div",38),_(1,"i",46),c(2),S(3,"localeDate"),r()),o&2){let e=p(2).$implicit,t=p(2);n(2),be(" ",t.fieldsInfo.updatedDate==null?null:t.fieldsInfo.updatedDate.fieldTitle,": ",g(3,2,e.updatedDate)," ")}}function Gr(o,l){if(o&1){let e=L();a(0,"div",39),I(1,Pr,4,4,"div",38),a(2,"div",38)(3,"span",44),b("click",function(i){return m(e),p(3).onActionCopied(),d(i.stopPropagation())}),_(4,"i",45),r(),c(5),r()()}if(o&2){let e=p().$implicit;n(),E(e.updatedDate?1:-1),n(2),h("cdkCopyToClipboard",e.id.toString()),n(2),C(" ID: ",e.id," ")}}function Fr(o,l){if(o&1){let e=L();a(0,"div",33),b("click",function(i){let s=m(e).$implicit,u=p(2);return d(u.onActionTableRowSelect(s,i))})("rtclick",function(i){let s=m(e).$implicit,u=p(2);return d(u.onActionTableRowSelect(s,i))})("mouseenter",function(){let i=m(e).$implicit,s=p(2);return d(s.onActionTableRowMouseEnter(i))})("mouseleave",function(){let i=m(e).$implicit,s=p(2);return d(s.onActionTableRowMouseLeave(i))}),a(1,"div",34),_(2,"i",35),S(3,"statusIconClass"),r(),a(4,"div",36)(5,"div",37),c(6),r(),I(7,Vr,3,2,"div",38),I(8,Nr,4,4,"div",38),I(9,Or,4,4,"div",38),I(10,Gr,6,3,"div",39),r()()}if(o&2){let e=l.$implicit,t=p(2);O("selected",e.id===(t.tableRowSelected==null?null:t.tableRowSelected.id))("bg-fade-highlight-light",e.id===(t.tableRowSelected==null?null:t.tableRowSelected.id)),$e("aria-label",e.id),n(2),h("ngClass",g(3,11,e.recordStatus)),n(4),x("ID: "+e.id),n(),E(e.id?7:-1),n(),E(e.createdDate?8:-1),n(),E(e.recordStatus!==void 0?9:-1),n(),E(t.getRowExpanded(e)?10:-1)}}function Hr(o,l){if(o&1&&(a(0,"div",21),ge(1,Fr,11,13,"div",32,Dr),r()),o&2){let e=p();n(),he(e.dataModelResult.listItems)}}function Wr(o,l){o&1&&(a(0,"div",22),c(1),S(2,"translate"),r()),o&2&&(n(),x(g(2,1,"MESSAGE.NoRecord")))}var Si=class Si extends fi{};Si.\u0275fac=(()=>{let l;return function(t){return(l||(l=Te(Si)))(t||Si)}})(),Si.\u0275cmp=V({type:Si,selectors:[["app-core-log-avoid-duplicate-list-mobile"]],standalone:!1,features:[F],decls:36,vars:30,consts:[["paginator",""],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionOnScrollNearBottom","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplay","optionActionRowDisplayMenu","optionActionRowDisplayMenuAct","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-maximize","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-minimize","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],[1,"col-4"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],[1,"cms-m-list"],[1,"cms-m-empty"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],["role","button","tabindex","0",1,"cms-m-list-item","border-highlight",3,"selected","bg-fade-highlight-light"],["role","button","tabindex","0",1,"cms-m-list-item","border-highlight",3,"click","rtclick","mouseenter","mouseleave"],[1,"cms-m-list-item-image-placeholder"],["aria-hidden","true",3,"ngClass"],[1,"cms-m-list-item-content"],[1,"cms-m-list-item-title"],[1,"cms-m-list-item-subtitle"],[1,"cms-m-list-item-expanded"],["aria-hidden","true",1,"fa-solid","fa-hashtag"],["aria-hidden","true",1,"fa-solid","fa-calendar"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none","margin-left","8px",3,"contentService","row"],[1,"navi-icon","pointer",3,"click","cdkCopyToClipboard"],[1,"flaticon2-copy"],["aria-hidden","true",1,"fa-solid","fa-calendar-check"]],template:function(e,t){if(e&1){let i=L();a(0,"app-cms-html-list-mobile",1),A("optionActionGuideNoticeDisplayChange",function(u){return m(i),D(t.viewGuideNotice,u)||(t.viewGuideNotice=u),d(u)}),b("optionOnActionButtonMemoRow",function(){return m(i),d(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return m(i),d(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return m(i),d(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return m(i),d(t.onActionButtonPrintRow())})("optionOnScrollNearBottom",function(){return m(i),d(t.onActionLoadNextPage())}),B(1,2)(2,3)(3,4),M(4,5),a(5,"a",6),b("click",function(){return m(i),d(t.viewGuideNotice=!t.viewGuideNotice)}),_(6,"i",7),r(),a(7,"a",6),b("click",function(){return m(i),d(t.onActionButtonReload())}),_(8,"i",8),r(),a(9,"a",9),b("click",function(){return m(i),d(t.onActionGridExpandRows(!0))}),_(10,"i",10),r(),a(11,"a",9),b("click",function(){return m(i),d(t.onActionGridExpandRows(!1))}),_(12,"i",11),r(),w(),M(13,12),a(14,"a",13),b("click",function(){return m(i),d(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),_(15,"mat-slide-toggle",14),c(16),S(17,"translate"),r(),a(18,"a",13),b("click",function(){return m(i),d(t.onActionButtonStatist())}),_(19,"mat-slide-toggle",14),c(20),S(21,"translate"),r(),w(),B(22,15),M(23,16),I(24,Ar,7,3,"div",17),I(25,xr,7,3,"div",17),I(26,kr,7,3,"div",17),w(),M(27,18),a(28,"app-cms-search-list",19),A("optionsChange",function(u){return m(i),D(t.optionsSearch,u)||(t.optionsSearch=u),d(u)}),r(),a(29,"app-cms-statist-list",19),A("optionsChange",function(u){return m(i),D(t.optionsStatist,u)||(t.optionsStatist=u),d(u)}),r(),w(),M(30,20),I(31,Hr,3,0,"div",21)(32,Wr,3,3,"div",22),w(),M(33,23),a(34,"mat-paginator",24,0),b("page",function(u){return m(i),d(t.onTablePageingData(u))}),r(),w(),r()}e&2&&(h("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey","core-log.avoid-duplicate.list"),T("optionActionGuideNoticeDisplay",t.viewGuideNotice),h("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplay",(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionActionRowDisplayMenuAct",t.tableRowSelectActionMenuClick)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),n(8),O("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),n(7),h("checked",t.optionsSearch.data.show),n(),C(" ",g(17,25,"ACTION.SEARCH")),n(3),h("checked",t.optionsStatist.data.show),n(),C(" ",g(21,27,"ACTION.STATIST")),n(4),E(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0?24:-1),n(),E(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0?25:-1),n(),E(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessWatchRow&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0?26:-1),n(2),T("options",t.optionsSearch),n(),T("options",t.optionsStatist),n(2),E(!(t.dataModelResult==null||t.dataModelResult.listItems==null)&&t.dataModelResult.listItems.length?31:32),n(3),h("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",ce(29,Tr)))},dependencies:[ie,pe,ue,fe,Je,_e,Se,Qe,Y,_t,N,yt,oe],encapsulation:2});var xo=Si;var Ki=class Ki{constructor(){this.constructorInfoAreaId=this.constructor.name}ngOnInit(){}};Ki.\u0275fac=function(e){return new(e||Ki)},Ki.\u0275cmp=V({type:Ki,selectors:[["app-corelog"]],standalone:!1,decls:1,vars:0,template:function(e,t){e&1&&_(0,"router-outlet")},dependencies:[Tn],encapsulation:2});var Ji=Ki;var Ur=["vform"];function jr(o,l){if(o&1){let e=L();a(0,"div",7)(1,"button",8),b("click",function(){m(e);let i=p();return d(i.onFormCancel())}),_(2,"i",9),c(3),S(4,"translate"),r()()}o&2&&(n(3),C(" ",g(4,1,"ACTION.CANCEL")," "))}var Yi=class Yi{constructor(l,e,t,i,s,u,f,y,P,re){this.data=l;this.dialogRef=e;this.coreEnumService=t;this.coreLogCurrencyService=i;this.cmsToastrService=s;this.publicHelper=u;this.cdr=f;this.tokenHelper=y;this.cmsStoreService=P;this.translate=re;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.tokenInfo=new dt;this.dataModelResult=new q;this.dataModel=new To;this.formInfo=new pt;this.fieldsInfo=new Map;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,l&&(this.requestId=l.id+"")}ngOnInit(){if(this.translate.get("TITLE.VIEW").subscribe(l=>{this.formInfo.formTitle=l}),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(l=>l.tokenInfoStore).subscribe(l=>z(this,null,function*(){this.tokenInfo=l})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(l=>l.unsubscribe())}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage="";let l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(l,e,this.constructorInfoAreaId)}),this.coreLogCurrencyService.setAccessLoad(),this.coreLogCurrencyService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModel=e.item,e.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+e.item.id,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=e.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(e.errorMessage)),this.publicHelper.processService.processStop(l)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(l,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Yi.\u0275fac=function(e){return new(e||Yi)(v(de),v(me),v(ee),v(Ni),v(K),v(j),v(H),v($),v(U),v(W))},Yi.\u0275cmp=V({type:Yi,selectors:[["app-core-log-currency-view"]],viewQuery:function(e,t){if(e&1&&ae(Ur,5),e&2){let i;le(i=se())&&(t.formGroup=i.first)}},standalone:!1,decls:9,vars:6,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection","loader-container"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[3,"formInfo"],[1,"ntk-cms-html-card-footer"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,t){e&1&&(a(0,"div",0),c(1),r(),a(2,"div",1),_(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),r(),a(5,"div",4),_(6,"app-cms-form-result-message",5),r(),a(7,"div",6),I(8,jr,5,3,"div",7),r()),e&2&&(n(),C(" ",t.formInfo.formTitle," "),n(2),h("optionsInfoAreaId",t.constructorInfoAreaId),n(),h("dataModel",t.dataModel)("optionMethod",1),n(2),h("formInfo",t.formInfo),n(2),E(t.formInfo.submitButtonEnabled?8:-1))},dependencies:[Ce,Et,ut,N],encapsulation:2});var zo=Yi;var qr=()=>[5,10,20,100],Qr=o=>({display:o});function zr(o,l){if(o&1){let e=L();a(0,"a",42),b("click",function(){m(e);let i=p();return d(i.onActionBackToParent())}),_(1,"i",43),r()}}function $r(o,l){if(o&1){let e=L();a(0,"div",17)(1,"a",44),b("click",function(){m(e);let i=p();return d(i.onActionButtonDeleteRow(i.tableRowSelected))}),_(2,"i",45)(3,"br"),r(),a(4,"p",46),c(5),S(6,"translate"),r()()}o&2&&(n(5),C(" ",g(6,1,"ACTION.DELETE")," "))}function Kr(o,l){if(o&1){let e=L();a(0,"div",17)(1,"a",47),b("click",function(){m(e);let i=p();return d(i.onActionButtonViewRow())}),_(2,"i",48)(3,"br"),r(),a(4,"p",46),c(5),S(6,"translate"),r()()}o&2&&(n(5),C(" ",g(6,1,"ACTION.VIEW")," "))}function Jr(o,l){if(o&1&&(a(0,"mat-header-cell",49),c(1),r()),o&2){let e=p();n(),C(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function Yr(o,l){if(o&1&&(a(0,"mat-cell"),c(1),r()),o&2){let e=l.$implicit;n(),C(" ",e.id," ")}}function Xr(o,l){if(o&1&&(a(0,"mat-header-cell",49),c(1),r()),o&2){let e=p();n(),C(" ",e.fieldsInfo.mainId==null?null:e.fieldsInfo.mainId.fieldTitle," ")}}function Zr(o,l){if(o&1&&(a(0,"mat-cell"),c(1),r()),o&2){let e=l.$implicit;n(),C(" ",e.mainId," ")}}function ea(o,l){if(o&1&&(a(0,"mat-header-cell",49),c(1),r()),o&2){let e=p();n(),C(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function ta(o,l){if(o&1&&_(0,"select",51),o&2){let e=p().$implicit,t=p();h("contentService",t.contentService)("row",e)("ngStyle",Go(3,Qr,e.id===(t.tableRowSelected==null?null:t.tableRowSelected.id)?"":"none"))}}function ia(o,l){if(o&1&&(a(0,"mat-cell",50),S(1,"statusCellClass"),_(2,"i",50),S(3,"statusIconClass"),I(4,ta,1,5,"select",51),r()),o&2){let e=l.$implicit,t=p();h("ngClass",g(1,3,e.recordStatus)),n(2),h("ngClass",g(3,5,e.recordStatus)),n(2),E(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?4:-1)}}function oa(o,l){if(o&1&&(a(0,"mat-header-cell",49),c(1),r()),o&2){let e=p();n(),C(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," ")}}function na(o,l){if(o&1&&(a(0,"mat-cell"),c(1),r()),o&2){let e=l.$implicit;n(),C(" ",e.title," ")}}function ra(o,l){if(o&1&&(a(0,"mat-header-cell",49),c(1),r()),o&2){let e=p();n(),C(" ",e.fieldsInfo.symbol==null?null:e.fieldsInfo.symbol.fieldTitle," ")}}function aa(o,l){if(o&1&&(a(0,"mat-cell"),c(1),r()),o&2){let e=l.$implicit;n(),C(" ",e.symbol," ")}}function la(o,l){if(o&1&&(a(0,"mat-header-cell",49),c(1),r()),o&2){let e=p();n(),C(" ",e.fieldsInfo.exchangeBuyRatio==null?null:e.fieldsInfo.exchangeBuyRatio.fieldTitle," ")}}function sa(o,l){if(o&1&&(a(0,"mat-cell"),c(1),r()),o&2){let e=l.$implicit;n(),C(" ",e.exchangeBuyRatio," ")}}function ca(o,l){if(o&1&&(a(0,"mat-header-cell",49),c(1),r()),o&2){let e=p();n(),C(" ",e.fieldsInfo.exchangeSaleRatio==null?null:e.fieldsInfo.exchangeSaleRatio.fieldTitle," ")}}function ma(o,l){if(o&1&&(a(0,"mat-cell"),c(1),r()),o&2){let e=l.$implicit;n(),C(" ",e.exchangeSaleRatio," ")}}function da(o,l){if(o&1&&(a(0,"mat-header-cell",49),c(1),r()),o&2){let e=p();n(),C(" ",e.fieldsInfo.masterCurrency==null?null:e.fieldsInfo.masterCurrency.fieldTitle," ")}}function pa(o,l){if(o&1&&(a(0,"mat-cell"),c(1),r()),o&2){let e=l.$implicit;n(),C(" ",e.masterCurrency," ")}}function ua(o,l){if(o&1&&(a(0,"mat-header-cell",49),c(1),r()),o&2){let e=p();n(),C(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function fa(o,l){if(o&1&&(a(0,"mat-cell",52),c(1),S(2,"localeDateTime"),r()),o&2){let e=l.$implicit;n(),C(" ",g(2,1,e.createdDate)," ")}}function Ca(o,l){o&1&&(a(0,"mat-header-cell"),c(1),S(2,"translate"),r()),o&2&&(n(),C(" ",g(2,1,"TITLE.OPTION")," "))}function _a(o,l){if(o&1&&(a(0,"mat-cell",53)(1,"button",54)(2,"mat-icon"),c(3,"more_vert"),r()(),_(4,"mat-menu",null,2),r()),o&2){let e=X(5);n(),h("matMenuTriggerFor",e)}}function Sa(o,l){o&1&&_(0,"mat-header-row")}function ga(o,l){if(o&1){let e=L();a(0,"mat-row",55),b("click",function(i){let s=m(e).$implicit,u=p();return d(u.onActionTableRowSelect(s,i))})("rtclick",function(i){let s=m(e).$implicit,u=p();return d(u.onActionTableRowSelect(s,i))}),r()}if(o&2){let e=l.$implicit,t=p();O("ntk-row-selected",e.id===(t.tableRowSelected==null?null:t.tableRowSelected.id))}}var Zi=class Zi extends Ct{constructor(e,t,i,s,u,f,y,P,re,Re,Ot,kt){super(e,new To,Ot,u,y);this.contentService=e;this.cmsToastrService=t;this.cmsConfirmationDialogService=i;this.activatedRoute=s;this.tokenHelper=u;this.cdr=f;this.translate=y;this.cmsStoreService=P;this.router=re;this.pageInfo=Re;this.publicHelper=Ot;this.dialog=kt;this.requestLinkCurrencyId=0;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new Ke;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["id","MainId","recordStatus","Symbol","ExchangeBuyRatio","ExchangeSaleRatio","MasterCurrency","createdDate"];this.tabledisplayedColumnsMobileSource=["id","MainId","recordStatus","Symbol","ExchangeBuyRatio","ExchangeSaleRatio","MasterCurrency","createdDate"];this.unsubscribe=[];if(this.publicHelper.processService.cdr=this.cdr,this.requestLinkCurrencyId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkCurrencyId")),this.requestLinkCurrencyId>0){let ve=new G;ve.propertyName="MainId",ve.value=this.requestLinkCurrencyId,this.filteModelContent.filters.push(ve)}this.optionsSearch.parentMethods={onSubmit:ve=>this.onSubmitOptionsSearch(ve)},this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=Q.Descending}ngOnInit(){this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=Q.Descending,this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>z(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}filterModelCompiler(e){let t=JSON.parse(JSON.stringify(e));return this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(t.filters=[...this.filterDataModelQueryBuilder]),t}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new To);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let t=this.filterModelCompiler(this.filteModelContent);this.contentService.ServiceGetAllEditor(t).subscribe({next:i=>{i.isSuccess&&(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.applyDataGetAllResult(i),this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(i.access)},1e3)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=Q.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=Q.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=Q.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonViewRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var t="";this.publicHelper.isMobile?t="dialog-fullscreen":t="dialog-min",this.dialog.open(zo,{height:"90%",panelClass:t,enterAnimationDuration:J.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:J.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(s=>{this.cmsToastrService.typeErrorSelected(s)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var t="",i="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(s=>{t=s["MESSAGE.Please_Confirm"],i=s["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(t,i).then(s=>{if(s){let u=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(f=>{this.publicHelper.processService.processStart(u,f,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:f=>{f.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(u)},error:f=>{this.cmsToastrService.typeError(f),this.publicHelper.processService.processStop(u,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let t=new Map;this.translate.get("MESSAGE.Active").subscribe(y=>{t.set(y,0)}),this.translate.get("MESSAGE.All").subscribe(y=>{t.set(y,0)});let i=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(y=>{this.publicHelper.processService.processStart(i,y,this.constructorInfoAreaId)});let s=this.filterModelCompiler(this.filteModelContent);this.contentService.ServiceGetCount(s).subscribe({next:y=>{y.isSuccess?(this.translate.get("MESSAGE.All").subscribe(P=>{t.set(P,y.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(t)):this.cmsToastrService.typeErrorMessage(y.errorMessage),this.publicHelper.processService.processStop(i)},error:y=>{this.cmsToastrService.typeError(y),this.publicHelper.processService.processStop(i,!1)}});let u=this.filterModelCompiler(this.filteModelContent),f=new G;f.propertyName="recordStatus",f.value=mt.Available,u.filters.push(f),this.contentService.ServiceGetCount(u).subscribe({next:y=>{y.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(P=>{t.set(P,y.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(t)):this.cmsToastrService.typeErrorMessage(y.errorMessage),this.publicHelper.processService.processStop(i)},error:y=>{this.cmsToastrService.typeError(y),this.publicHelper.processService.processStop(i,!1)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/currency/"])}};Zi.\u0275fac=function(t){return new(t||Zi)(v(Ni),v(K),v(ot),v(st),v($),v(H),v(W),v(U),v(ct),v(je),v(j),v(Ae))},Zi.\u0275cmp=V({type:Zi,selectors:[["app-core-log-currency-list"]],standalone:!1,features:[F],decls:65,vars:30,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],[1,"col-4"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","MainId"],["matColumnDef","recordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","title"],["matColumnDef","Symbol"],["matColumnDef","ExchangeBuyRatio"],["matColumnDef","ExchangeSaleRatio"],["matColumnDef","MasterCurrency"],["matColumnDef","createdDate"],["style","direction: ltr",4,"matCellDef"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["type","button","target","_blank","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[2,"direction","ltr"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(t,i){if(t&1){let s=L();a(0,"app-cms-html-list",3),A("optionActionGuideNoticeDisplayChange",function(f){return m(s),D(i.viewGuideNotice,f)||(i.viewGuideNotice=f),d(f)}),b("optionOnActionButtonMemoRow",function(){return m(s),d(i.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return m(s),d(i.onActionButtonMemo())})("optionOnActionButtonExport",function(){return m(s),d(i.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return m(s),d(i.onActionButtonPrintRow())}),M(1,4),c(2," -------------------------------------- "),w(),B(3,5)(4,6),M(5,7),I(6,zr,2,0,"a",8),a(7,"a",9),b("click",function(){return m(s),d(i.viewGuideNotice=!i.viewGuideNotice)}),_(8,"i",10),r(),a(9,"a",9),b("click",function(){return m(s),d(i.onActionButtonReload())}),_(10,"i",11),r(),w(),M(11,12),a(12,"a",13),b("click",function(){return m(s),d(i.optionsSearch.data.show=!i.optionsSearch.data.show)}),_(13,"mat-slide-toggle",14),c(14),S(15,"translate"),r(),a(16,"a",13),b("click",function(){return m(s),d(i.onActionButtonStatist())}),_(17,"mat-slide-toggle",14),c(18),S(19,"translate"),r(),w(),B(20,15),M(21,16),I(22,$r,7,3,"div",17),I(23,Kr,7,3,"div",17),w(),M(24,18),a(25,"app-cms-search-list",19),A("optionsChange",function(f){return m(s),D(i.optionsSearch,f)||(i.optionsSearch=f),d(f)}),r(),a(26,"app-cms-statist-list",19),A("optionsChange",function(f){return m(s),D(i.optionsStatist,f)||(i.optionsStatist=f),d(f)}),r(),w(),M(27,20),a(28,"mat-table",21,0),b("matSortChange",function(){m(s);let f=X(29);return d(i.onTableSortData(f))}),M(30,22),R(31,Jr,2,1,"mat-header-cell",23)(32,Yr,2,1,"mat-cell",24),w(),M(33,25),R(34,Xr,2,1,"mat-header-cell",23)(35,Zr,2,1,"mat-cell",24),w(),M(36,26),R(37,ea,2,1,"mat-header-cell",23)(38,ia,5,7,"mat-cell",27),w(),M(39,28),R(40,oa,2,1,"mat-header-cell",23)(41,na,2,1,"mat-cell",24),w(),M(42,29),R(43,ra,2,1,"mat-header-cell",23)(44,aa,2,1,"mat-cell",24),w(),M(45,30),R(46,la,2,1,"mat-header-cell",23)(47,sa,2,1,"mat-cell",24),w(),M(48,31),R(49,ca,2,1,"mat-header-cell",23)(50,ma,2,1,"mat-cell",24),w(),M(51,32),R(52,da,2,1,"mat-header-cell",23)(53,pa,2,1,"mat-cell",24),w(),M(54,33),R(55,ua,2,1,"mat-header-cell",23)(56,fa,3,3,"mat-cell",34),w(),M(57,35),R(58,Ca,3,3,"mat-header-cell",36)(59,_a,6,1,"mat-cell",37),w(),R(60,Sa,1,0,"mat-header-row",38)(61,ga,1,2,"mat-row",39),r(),w(),M(62,40),a(63,"mat-paginator",41,1),b("page",function(f){return m(s),d(i.onTablePageingData(f))}),r(),w(),r()}t&2&&(h("optionsListInfoAreaId",i.constructorInfoAreaId)("optionGuideNoticeKey",""),T("optionActionGuideNoticeDisplay",i.viewGuideNotice),h("optionTreeDisplay",!1)("optionActionRowId",i.tableRowSelected==null?null:i.tableRowSelected.id)("optionActionRowDisplayMenu",i.tableRowSelect2Click)("optionSelectRowItemTitle",(i.tableRowSelected==null||i.tableRowSelected.title==null?null:i.tableRowSelected.title.length)>0?i.tableRowSelected==null?null:i.tableRowSelected.title:i.tableRowSelected==null?null:i.tableRowSelected.id),n(6),E(i.requestLinkCurrencyId>0?6:-1),n(4),O("rotation360",i.publicHelper.processService.process.inRunArea[i.constructorInfoAreaId]),n(3),h("checked",i.optionsSearch.data.show),n(),C("",g(15,25,"ACTION.SEARCH")," "),n(3),h("checked",i.optionsStatist.data.show),n(),C("",g(19,27,"ACTION.STATIST")," "),n(4),E(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessDeleteRow?22:-1),n(),E(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessWatchRow&&(i.tableRowSelected==null||i.tableRowSelected.id==null?null:i.tableRowSelected.id.length)>0?23:-1),n(2),T("options",i.optionsSearch),n(),T("options",i.optionsStatist),n(2),h("dataSource",i.tableSource),n(32),h("matHeaderRowDef",i.tabledisplayedColumns),n(),h("matRowDefColumns",i.tabledisplayedColumns),n(2),h("length",i.dataModelResult.totalRowCount)("pageIndex",i.dataModelResult.currentPageNumber-1)("pageSize",i.dataModelResult.rowPerPage)("pageSizeOptions",ce(29,qr)))},dependencies:[ie,Ho,De,ye,pe,et,tt,ue,fe,xe,ke,Ve,Be,Fe,Oe,Ne,He,Pe,Ge,We,Ue,_e,Se,qe,Y,_t,N,it,oe,nt],encapsulation:2});var bi=Zi;var ha=()=>[5,10,20,100],ba=(o,l)=>l.id;function va(o,l){if(o&1){let e=L();a(0,"div",17)(1,"a",25),b("click",function(){m(e);let i=p();return d(i.onActionButtonEditRow(i.tableRowSelected))}),_(2,"i",26)(3,"br"),r(),a(4,"p",27),c(5),S(6,"translate"),r()()}o&2&&(n(5),C(" ",g(6,1,"ACTION.EDIT")," "))}function Ma(o,l){if(o&1){let e=L();a(0,"div",17)(1,"a",28),b("click",function(){m(e);let i=p();return d(i.onActionButtonDeleteRow(i.tableRowSelected))}),_(2,"i",29)(3,"br"),r(),a(4,"p",27),c(5),S(6,"translate"),r()()}o&2&&(n(5),C(" ",g(6,1,"ACTION.DELETE")," "))}function wa(o,l){if(o&1){let e=L();a(0,"div",17)(1,"a",30),b("click",function(){m(e);let i=p();return d(i.onActionButtonViewRow(i.tableRowSelected))}),_(2,"i",31)(3,"br"),r(),a(4,"p",27),c(5),S(6,"translate"),r()()}o&2&&(n(5),C(" ",g(6,1,"ACTION.VIEW")," "))}function Ia(o,l){if(o&1&&(a(0,"div",38),_(1,"i",40),c(2),r()),o&2){let e=p().$implicit,t=p(2);n(2),be(" ",t.fieldsInfo.id==null?null:t.fieldsInfo.id.fieldTitle,": ",e.id," ")}}function Ea(o,l){if(o&1&&(a(0,"div",38),_(1,"i",41),c(2),S(3,"localeDate"),r()),o&2){let e=p().$implicit,t=p(2);n(2),be(" ",t.fieldsInfo.createdDate==null?null:t.fieldsInfo.createdDate.fieldTitle,": ",g(3,2,e.createdDate)," ")}}function ya(o,l){if(o&1&&_(0,"select",43),o&2){let e=p(2).$implicit,t=p(2);h("contentService",t.contentService)("row",e)}}function La(o,l){if(o&1&&(a(0,"div",38),_(1,"i",42),S(2,"statusIconClass"),I(3,ya,1,2,"select",43),r()),o&2){let e=p().$implicit,t=p(2);n(),h("ngClass",g(2,2,e.recordStatus)),n(2),E(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow&&e.id===(t.tableRowSelected==null?null:t.tableRowSelected.id)?3:-1)}}function Ra(o,l){if(o&1&&(a(0,"div",38),_(1,"i",46),c(2),S(3,"localeDate"),r()),o&2){let e=p(2).$implicit,t=p(2);n(2),be(" ",t.fieldsInfo.updatedDate==null?null:t.fieldsInfo.updatedDate.fieldTitle,": ",g(3,2,e.updatedDate)," ")}}function Ta(o,l){if(o&1){let e=L();a(0,"div",39),I(1,Ra,4,4,"div",38),a(2,"div",38)(3,"span",44),b("click",function(i){return m(e),p(3).onActionCopied(),d(i.stopPropagation())}),_(4,"i",45),r(),c(5),r()()}if(o&2){let e=p().$implicit;n(),E(e.updatedDate?1:-1),n(2),h("cdkCopyToClipboard",e.id.toString()),n(2),C(" ID: ",e.id," ")}}function Da(o,l){if(o&1){let e=L();a(0,"div",33),b("click",function(i){let s=m(e).$implicit,u=p(2);return d(u.onActionTableRowSelect(s,i))})("rtclick",function(i){let s=m(e).$implicit,u=p(2);return d(u.onActionTableRowSelect(s,i))})("mouseenter",function(){let i=m(e).$implicit,s=p(2);return d(s.onActionTableRowMouseEnter(i))})("mouseleave",function(){let i=m(e).$implicit,s=p(2);return d(s.onActionTableRowMouseLeave(i))}),a(1,"div",34),_(2,"i",35),S(3,"statusIconClass"),r(),a(4,"div",36)(5,"div",37),c(6),r(),I(7,Ia,3,2,"div",38),I(8,Ea,4,4,"div",38),I(9,La,4,4,"div",38),I(10,Ta,6,3,"div",39),r()()}if(o&2){let e=l.$implicit,t=p(2);O("selected",e.id===(t.tableRowSelected==null?null:t.tableRowSelected.id))("bg-fade-highlight-light",e.id===(t.tableRowSelected==null?null:t.tableRowSelected.id)),$e("aria-label",e.id),n(2),h("ngClass",g(3,11,e.recordStatus)),n(4),x("ID: "+e.id),n(),E(e.id?7:-1),n(),E(e.createdDate?8:-1),n(),E(e.recordStatus!==void 0?9:-1),n(),E(t.getRowExpanded(e)?10:-1)}}function Aa(o,l){if(o&1&&(a(0,"div",21),ge(1,Da,11,13,"div",32,ba),r()),o&2){let e=p();n(),he(e.dataModelResult.listItems)}}function xa(o,l){o&1&&(a(0,"div",22),c(1),S(2,"translate"),r()),o&2&&(n(),x(g(2,1,"MESSAGE.NoRecord")))}var vi=class vi extends bi{onActionButtonEditRow(l){super.onActionButtonEditRow?.(l)}};vi.\u0275fac=(()=>{let l;return function(t){return(l||(l=Te(vi)))(t||vi)}})(),vi.\u0275cmp=V({type:vi,selectors:[["app-core-log-currency-list-mobile"]],standalone:!1,features:[F],decls:36,vars:30,consts:[["paginator",""],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionOnScrollNearBottom","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplay","optionActionRowDisplayMenu","optionActionRowDisplayMenuAct","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-maximize","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-minimize","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],[1,"col-4"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],[1,"cms-m-list"],[1,"cms-m-empty"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],["role","button","tabindex","0",1,"cms-m-list-item","border-highlight",3,"selected","bg-fade-highlight-light"],["role","button","tabindex","0",1,"cms-m-list-item","border-highlight",3,"click","rtclick","mouseenter","mouseleave"],[1,"cms-m-list-item-image-placeholder"],["aria-hidden","true",3,"ngClass"],[1,"cms-m-list-item-content"],[1,"cms-m-list-item-title"],[1,"cms-m-list-item-subtitle"],[1,"cms-m-list-item-expanded"],["aria-hidden","true",1,"fa-solid","fa-hashtag"],["aria-hidden","true",1,"fa-solid","fa-calendar"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none","margin-left","8px",3,"contentService","row"],[1,"navi-icon","pointer",3,"click","cdkCopyToClipboard"],[1,"flaticon2-copy"],["aria-hidden","true",1,"fa-solid","fa-calendar-check"]],template:function(e,t){if(e&1){let i=L();a(0,"app-cms-html-list-mobile",1),A("optionActionGuideNoticeDisplayChange",function(u){return m(i),D(t.viewGuideNotice,u)||(t.viewGuideNotice=u),d(u)}),b("optionOnActionButtonMemoRow",function(){return m(i),d(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return m(i),d(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return m(i),d(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return m(i),d(t.onActionButtonPrintRow())})("optionOnScrollNearBottom",function(){return m(i),d(t.onActionLoadNextPage())}),B(1,2)(2,3)(3,4),M(4,5),a(5,"a",6),b("click",function(){return m(i),d(t.viewGuideNotice=!t.viewGuideNotice)}),_(6,"i",7),r(),a(7,"a",6),b("click",function(){return m(i),d(t.onActionButtonReload())}),_(8,"i",8),r(),a(9,"a",9),b("click",function(){return m(i),d(t.onActionGridExpandRows(!0))}),_(10,"i",10),r(),a(11,"a",9),b("click",function(){return m(i),d(t.onActionGridExpandRows(!1))}),_(12,"i",11),r(),w(),M(13,12),a(14,"a",13),b("click",function(){return m(i),d(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),_(15,"mat-slide-toggle",14),c(16),S(17,"translate"),r(),a(18,"a",13),b("click",function(){return m(i),d(t.onActionButtonStatist())}),_(19,"mat-slide-toggle",14),c(20),S(21,"translate"),r(),w(),B(22,15),M(23,16),I(24,va,7,3,"div",17),I(25,Ma,7,3,"div",17),I(26,wa,7,3,"div",17),w(),M(27,18),a(28,"app-cms-search-list",19),A("optionsChange",function(u){return m(i),D(t.optionsSearch,u)||(t.optionsSearch=u),d(u)}),r(),a(29,"app-cms-statist-list",19),A("optionsChange",function(u){return m(i),D(t.optionsStatist,u)||(t.optionsStatist=u),d(u)}),r(),w(),M(30,20),I(31,Aa,3,0,"div",21)(32,xa,3,3,"div",22),w(),M(33,23),a(34,"mat-paginator",24,0),b("page",function(u){return m(i),d(t.onTablePageingData(u))}),r(),w(),r()}e&2&&(h("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey","core-log.currency.list"),T("optionActionGuideNoticeDisplay",t.viewGuideNotice),h("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplay",(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionActionRowDisplayMenuAct",t.tableRowSelectActionMenuClick)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),n(8),O("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),n(7),h("checked",t.optionsSearch.data.show),n(),C(" ",g(17,25,"ACTION.SEARCH")),n(3),h("checked",t.optionsStatist.data.show),n(),C(" ",g(21,27,"ACTION.STATIST")),n(4),E(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0?24:-1),n(),E(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0?25:-1),n(),E(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessWatchRow&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0?26:-1),n(2),T("options",t.optionsSearch),n(),T("options",t.optionsStatist),n(2),E(!(t.dataModelResult==null||t.dataModelResult.listItems==null)&&t.dataModelResult.listItems.length?31:32),n(3),h("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",ce(29,ha)))},dependencies:[ie,pe,ue,fe,Je,_e,Se,Qe,Y,_t,N,yt,oe],encapsulation:2});var Vo=vi;var ka=["vform"];function Va(o,l){if(o&1&&(a(0,"option",16),c(1),r()),o&2){let e=l.$implicit;h("value",e.value),n(),C(" ",e.description," ")}}function Na(o,l){o&1&&(a(0,"mat-error"),c(1," SendStatusType is "),a(2,"strong"),c(3),S(4,"translate"),r()()),o&2&&(n(3),x(g(4,1,"content.required")))}function Ba(o,l){if(o&1&&(a(0,"div"),_(1,"div",35),S(2,"prettyjson"),r()),o&2){let e=p();n(),h("innerHTML",g(2,1,e.dataModel),gt)}}function Oa(o,l){if(o&1){let e=L();a(0,"div",34)(1,"button",36),b("click",function(){m(e);let i=p();return d(i.onFormCancel())}),_(2,"i",37),c(3),S(4,"translate"),r()()}o&2&&(n(3),C(" ",g(4,1,"ACTION.CANCEL")," "))}var eo=class eo extends It{constructor(e,t,i,s,u,f,y,P,re,Re){super(s,new ii,re,Re);this.data=e;this.dialogRef=t;this.coreEnumService=i;this.coreLogEmailService=s;this.cmsToastrService=u;this.tokenHelper=f;this.cmsStoreService=y;this.cdr=P;this.publicHelper=re;this.translate=Re;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new q;this.dataModel=new ii;this.dataModelEnumSendEmailStatusTypeResult=new q;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id)}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>z(this,null,function*(){this.tokenInfo=e}))),this.getEnumSendEmailStatusType()}getEnumSendEmailStatusType(){this.coreEnumService.ServiceSendEmailStatusTypeEnum().subscribe({next:e=>{this.dataModelEnumSendEmailStatusTypeResult=e}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.coreLogEmailService.setAccessLoad(),this.coreLogEmailService.setAccessDataType(ht.Editor),this.coreLogEmailService.ServiceGetOneById(this.requestId).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModel=t.item,t.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+t.item.id,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=t.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(t.errorMessage)),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};eo.\u0275fac=function(t){return new(t||eo)(v(de),v(me),v(ee),v(Jt),v(K),v($),v(U),v(H),v(j),v(W))},eo.\u0275cmp=V({type:eo,selectors:[["app-core-log-email-edit"]],viewQuery:function(t,i){if(t&1&&ae(ka,5),t&2){let s;le(s=se())&&(i.formGroup=s.first)}},standalone:!1,features:[F],decls:70,vars:35,consts:[["vform","ngForm"],["SendStatusType","ngModel"],["ModuleName",""],["ModuleEntityName",""],["ModuleEntityId",""],["fromEmail",""],["toEmail",""],["emailSubject",""],["emailBody",""],["ReturnApi",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["id","dataModel.sendStatusType","name","dataModel.sendStatusType",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[3,"value"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],["for","dataModel.moduleName",1,"color-highlight"],["matInput","","type","text","name","dataModel.moduleName","placeholder","ModuleName","id","dataModel.moduleName",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.moduleEntityName",1,"color-highlight"],["matInput","","type","text","name","dataModel.moduleEntityName","placeholder","ModuleEntityName","id","dataModel.moduleEntityName",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.moduleEntityId",1,"color-highlight"],["matInput","","type","text","name","dataModel.moduleEntityId","placeholder","ModuleEntityId","id","dataModel.moduleEntityId",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.fromEmail",1,"color-highlight"],["matInput","","type","text","name","dataModel.fromEmail","placeholder","fromEmail","id","dataModel.fromEmail",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.toEmail",1,"color-highlight"],["matInput","","type","text","name","dataModel.toEmail","placeholder","toEmail","id","dataModel.toEmail",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.emailSubject",1,"color-highlight"],["matInput","","name","dataModel.emailSubject","type","text","placeholder","emailSubject","id","dataModel.emailSubject",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.emailBody",1,"color-highlight"],["matInput","","name","dataModel.emailBody","type","text","placeholder","emailBody","id","dataModel.emailBody",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.returnApi",1,"color-highlight"],["matInput","","name","dataModel.returnApi","type","text","placeholder","ReturnApi","id","dataModel.returnApi",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[1,"form-actions"],[3,"innerHTML"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(t,i){if(t&1){let s=L();a(0,"div",10),_(1,"app-progress-spinner",11),a(2,"div",12)(3,"p",13),c(4),r(),a(5,"p"),c(6),S(7,"translate"),r(),a(8,"form",null,0)(10,"div",14)(11,"select",15,1),A("ngModelChange",function(f){return m(s),D(i.dataModel.sendStatusType,f)||(i.dataModel.sendStatusType=f),d(f)}),ge(13,Va,2,2,"option",16,Kt),r(),a(15,"em"),c(16),S(17,"translate"),r(),I(18,Na,5,3,"mat-error"),r(),_(19,"app-cms-site-selector",17),S(20,"translate"),_(21,"app-cms-user-selector",17),S(22,"translate"),_(23,"app-cms-member-selector",17),S(24,"translate"),a(25,"div",14)(26,"label",18),c(27,"ModuleName"),r(),a(28,"input",19,2),A("ngModelChange",function(f){return m(s),D(i.dataModel.moduleName,f)||(i.dataModel.moduleName=f),d(f)}),r()(),a(30,"div",14)(31,"label",20),c(32,"ModuleEntityName"),r(),a(33,"input",21,3),A("ngModelChange",function(f){return m(s),D(i.dataModel.moduleEntityName,f)||(i.dataModel.moduleEntityName=f),d(f)}),r()(),a(35,"div",14)(36,"label",22),c(37,"ModuleEntityId"),r(),a(38,"input",23,4),A("ngModelChange",function(f){return m(s),D(i.dataModel.moduleEntityId,f)||(i.dataModel.moduleEntityId=f),d(f)}),r()(),a(40,"div",14)(41,"label",24),c(42,"fromEmail"),r(),a(43,"input",25,5),A("ngModelChange",function(f){return m(s),D(i.dataModel.fromEmail,f)||(i.dataModel.fromEmail=f),d(f)}),r()(),a(45,"div",14)(46,"label",26),c(47,"toEmail"),r(),a(48,"input",27,6),A("ngModelChange",function(f){return m(s),D(i.dataModel.toEmail,f)||(i.dataModel.toEmail=f),d(f)}),r()(),a(50,"div",14)(51,"label",28),c(52,"emailSubject"),r(),a(53,"textarea",29,7),A("ngModelChange",function(f){return m(s),D(i.dataModel.emailSubject,f)||(i.dataModel.emailSubject=f),d(f)}),c(55,"                            "),r()(),a(56,"div",14)(57,"label",30),c(58,"emailBody"),r(),a(59,"textarea",31,8),A("ngModelChange",function(f){return m(s),D(i.dataModel.emailBody,f)||(i.dataModel.emailBody=f),d(f)}),c(61,"                              "),r()(),a(62,"div",14)(63,"label",32),c(64,"ReturnApi"),r(),a(65,"textarea",33,9),A("ngModelChange",function(f){return m(s),D(i.dataModel.returnApi,f)||(i.dataModel.returnApi=f),d(f)}),c(67,"                                "),r()(),I(68,Ba,3,3,"div"),I(69,Oa,5,3,"div",34),r()()()}if(t&2){let s=X(12);n(),h("optionsInfoAreaId",i.constructorInfoAreaId),n(3),C(" ",i.formInfo.formTitle," "),n(2),C(" ",g(7,25,"TITLE.Be_Careful_When_Entering_Information")," "),n(5),T("ngModel",i.dataModel.sendStatusType),n(2),he(i.dataModelEnumSendEmailStatusTypeResult.listItems),n(3),x(g(17,27,"TITLE.SELECT_STATUS")),n(2),E(s.errors!=null&&s.errors.required?18:-1),n(),h("optionDisabled",!0)("optionSelectForce",i.dataModel.linkSiteId)("optionPlaceholder",g(20,29,"TITLE.SITE")),n(2),h("optionDisabled",!0)("optionSelectForce",i.dataModel.linkUserId)("optionPlaceholder",g(22,31,"TITLE.USER")),n(2),h("optionDisabled",!0)("optionSelectForce",i.dataModel.linkMemberId)("optionPlaceholder",g(24,33,"TITLE.Member")),n(5),T("ngModel",i.dataModel.moduleName),n(5),T("ngModel",i.dataModel.moduleEntityName),n(5),T("ngModel",i.dataModel.moduleEntityId),n(5),T("ngModel",i.dataModel.fromEmail),n(5),T("ngModel",i.dataModel.toEmail),n(5),T("ngModel",i.dataModel.emailSubject),n(6),T("ngModel",i.dataModel.emailBody),n(6),T("ngModel",i.dataModel.returnApi),n(3),E(i.tokenInfo.access.userAccessAdminAllowToProfessionalData?68:-1),n(),E(i.formInfo.submitButtonEnabled?69:-1)}},dependencies:[Mt,Hi,Wi,Ye,Fi,Xe,bt,Ze,vt,Ui,pe,ai,Vt,Bt,Ce,N,wt],encapsulation:2});var $o=eo;var Pa=["vform"];function Ga(o,l){if(o&1){let e=L();a(0,"div",7)(1,"button",8),b("click",function(){m(e);let i=p();return d(i.onFormCancel())}),_(2,"i",9),c(3),S(4,"translate"),r()()}o&2&&(n(3),C(" ",g(4,1,"ACTION.CANCEL")," "))}var to=class to{constructor(l,e,t,i,s,u,f,y,P,re){this.data=l;this.dialogRef=e;this.coreEnumService=t;this.coreLogEmailService=i;this.cmsToastrService=s;this.tokenHelper=u;this.cmsStoreService=f;this.cdr=y;this.publicHelper=P;this.translate=re;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.tokenInfo=new dt;this.dataModelResult=new q;this.dataModel=new ii;this.formInfo=new pt;this.dataModelEnumSendEmailStatusTypeResult=new q;this.fieldsInfo=new Map;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,l&&(this.requestId=l.id+"")}ngOnInit(){if(this.translate.get("aaaaaaaaaTITLE.VIEWaaaaa").subscribe(l=>{this.formInfo.formTitle=l}),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(l=>l.tokenInfoStore).subscribe(l=>z(this,null,function*(){this.tokenInfo=l}))),this.getEnumSendEmailStatusType()}getEnumSendEmailStatusType(){this.coreEnumService.ServiceSendEmailStatusTypeEnum().subscribe({next:l=>{this.dataModelEnumSendEmailStatusTypeResult=l}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(l=>l.unsubscribe())}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage="";let l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(l,e,this.constructorInfoAreaId)}),this.coreLogEmailService.setAccessLoad(),this.coreLogEmailService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModel=e.item,e.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+e.item.id,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=e.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(e.errorMessage)),this.publicHelper.processService.processStop(l)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(l,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};to.\u0275fac=function(e){return new(e||to)(v(de),v(me),v(ee),v(Jt),v(K),v($),v(U),v(H),v(j),v(W))},to.\u0275cmp=V({type:to,selectors:[["app-core-log-email-view"]],viewQuery:function(e,t){if(e&1&&ae(Pa,5),e&2){let i;le(i=se())&&(t.formGroup=i.first)}},standalone:!1,decls:9,vars:6,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection","loader-container"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[3,"formInfo"],[1,"ntk-cms-html-card-footer"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,t){e&1&&(a(0,"div",0),c(1),r(),a(2,"div",1),_(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),r(),a(5,"div",4),_(6,"app-cms-form-result-message",5),r(),a(7,"div",6),I(8,Ga,5,3,"div",7),r()),e&2&&(n(),C(" ",t.formInfo.formTitle," "),n(2),h("optionsInfoAreaId",t.constructorInfoAreaId),n(),h("dataModel",t.dataModel)("optionMethod",1),n(2),h("formInfo",t.formInfo),n(2),E(t.formInfo.submitButtonEnabled?8:-1))},dependencies:[Ce,Et,ut,N],encapsulation:2});var Ko=to;var Fa=()=>[5,10,20,100];function Ha(o,l){if(o&1){let e=L();a(0,"a",44),b("click",function(){m(e);let i=p();return d(i.onActionBackToParent())}),_(1,"i",45),r()}}function Wa(o,l){if(o&1){let e=L();a(0,"div",17)(1,"a",46),b("click",function(){m(e);let i=p();return d(i.onActionButtonViewRow(i.tableRowSelected))}),_(2,"i",47)(3,"br"),r(),a(4,"p",48),c(5),S(6,"translate"),r()()}o&2&&(n(5),C(" ",g(6,1,"ACTION.VIEW")," "))}function Ua(o,l){if(o&1){let e=L();a(0,"div",17)(1,"a",49),b("click",function(){m(e);let i=p();return d(i.onActionButtonEditRow(i.tableRowSelected))}),_(2,"i",50)(3,"br"),r(),a(4,"p",48),c(5),S(6,"translate"),r()()}o&2&&(n(5),C(" ",g(6,1,"ACTION.EDIT")," "))}function ja(o,l){if(o&1){let e=L();a(0,"div",17)(1,"a",51),b("click",function(){m(e);let i=p();return d(i.onActionButtonDeleteRow(i.tableRowSelected))}),_(2,"i",52)(3,"br"),r(),a(4,"p",48),c(5),S(6,"translate"),r()()}o&2&&(n(5),C(" ",g(6,1,"ACTION.DELETE")," "))}function qa(o,l){if(o&1){let e=L();a(0,"div",17)(1,"a",46),b("click",function(){m(e);let i=p();return d(i.onActionButtonViewUserRow(i.tableRowSelected))}),_(2,"i",53)(3,"br"),r(),a(4,"p",48),c(5),S(6,"translate"),r()()}o&2&&(n(5),C(" ",g(6,1,"ACTION.USER")," "))}function Qa(o,l){if(o&1){let e=L();a(0,"div",17)(1,"a",46),b("click",function(){m(e);let i=p();return d(i.onActionButtonViewMemberRow(i.tableRowSelected))}),_(2,"i",54)(3,"br"),r(),a(4,"p",48),c(5),S(6,"translate"),r()()}o&2&&(n(5),C(" ",g(6,1,"ACTION.MEMBER")," "))}function za(o,l){if(o&1&&(a(0,"mat-header-cell",55),c(1),r()),o&2){let e=p();n(),C(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function $a(o,l){if(o&1&&(a(0,"mat-cell"),c(1),r()),o&2){let e=l.$implicit;n(),C(" ",e.id," ")}}function Ka(o,l){if(o&1&&(a(0,"mat-header-cell",55),c(1),r()),o&2){let e=p();n(),C(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function Ja(o,l){if(o&1&&(a(0,"mat-cell",56),S(1,"statusCellClass"),_(2,"i",56),S(3,"statusIconClass"),r()),o&2){let e=l.$implicit;h("ngClass",g(1,2,e.recordStatus)),n(2),h("ngClass",g(3,4,e.recordStatus))}}function Ya(o,l){if(o&1&&(a(0,"mat-header-cell",55),c(1),r()),o&2){let e=p();n(),C(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function Xa(o,l){if(o&1&&(a(0,"mat-cell"),c(1),S(2,"cmssiteinfo"),S(3,"async"),r()),o&2){let e=l.$implicit;n(),C(" ",g(3,3,g(2,1,e.linkSiteId))," ")}}function Za(o,l){if(o&1&&(a(0,"mat-header-cell",55),c(1),r()),o&2){let e=p();n(),C(" ",e.fieldsInfo.linkUserId==null?null:e.fieldsInfo.linkUserId.fieldTitle," ")}}function el(o,l){if(o&1&&(a(0,"mat-cell"),c(1),S(2,"cmsuserinfo"),S(3,"async"),r()),o&2){let e=l.$implicit;n(),C(" ",g(3,3,g(2,1,e.linkUserId))," ")}}function tl(o,l){if(o&1&&(a(0,"mat-header-cell",55),c(1),r()),o&2){let e=p();n(),C(" ",e.fieldsInfo.linkMemberId==null?null:e.fieldsInfo.linkMemberId.fieldTitle," ")}}function il(o,l){if(o&1&&(a(0,"mat-cell"),c(1),r()),o&2){let e=l.$implicit;n(),C(" ",e.linkMemberId," ")}}function ol(o,l){if(o&1&&(a(0,"mat-header-cell",55),c(1),r()),o&2){let e=p();n(),C(" ",e.fieldsInfo.fromEmail==null?null:e.fieldsInfo.fromEmail.fieldTitle," ")}}function nl(o,l){if(o&1&&(a(0,"mat-cell"),c(1),r()),o&2){let e=l.$implicit;n(),C(" ",e.fromEmail," ")}}function rl(o,l){if(o&1&&(a(0,"mat-header-cell",55),c(1),r()),o&2){let e=p();n(),C(" ",e.fieldsInfo.toEmail==null?null:e.fieldsInfo.toEmail.fieldTitle," ")}}function al(o,l){if(o&1&&(a(0,"mat-cell",57),c(1),r()),o&2){let e=l.$implicit;n(),C(" ",e.toEmail," ")}}function ll(o,l){if(o&1&&(a(0,"mat-header-cell",55),c(1),r()),o&2){let e=p();n(),C(" ",e.fieldsInfo.emailSubject==null?null:e.fieldsInfo.emailSubject.fieldTitle," ")}}function sl(o,l){if(o&1&&(a(0,"mat-cell"),c(1),r()),o&2){let e=l.$implicit;n(),C(" ",e.emailSubject," ")}}function cl(o,l){if(o&1&&(a(0,"mat-header-cell",55),c(1),r()),o&2){let e=p();n(),C(" ",e.fieldsInfo.sendStatusType==null?null:e.fieldsInfo.sendStatusType.fieldTitle," ")}}function ml(o,l){if(o&1&&(a(0,"mat-cell"),c(1),S(2,"enums"),r()),o&2){let e=l.$implicit,t=p();n(),C(" ",Wt(2,1,e.sendStatusType,t.dataModelEnumSendEmailStatusTypeResult.listItems)," ")}}function dl(o,l){if(o&1&&(a(0,"mat-header-cell",55),c(1),r()),o&2){let e=p();n(),C(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function pl(o,l){if(o&1&&(a(0,"mat-cell",58),c(1),S(2,"localeDateTime"),r()),o&2){let e=l.$implicit;n(),C(" ",g(2,1,e.createdDate)," ")}}function ul(o,l){o&1&&(a(0,"mat-header-cell"),c(1),S(2,"translate"),r()),o&2&&(n(),C(" ",g(2,1,"TITLE.OPTION")," "))}function fl(o,l){if(o&1&&(a(0,"mat-cell",59)(1,"button",60)(2,"mat-icon"),c(3,"more_vert"),r()(),_(4,"mat-menu",null,2),r()),o&2){let e=X(5);n(),h("matMenuTriggerFor",e)}}function Cl(o,l){o&1&&_(0,"mat-header-row")}function _l(o,l){if(o&1){let e=L();a(0,"mat-row",61),b("click",function(i){let s=m(e).$implicit,u=p();return d(u.onActionTableRowSelect(s,i))})("rtclick",function(i){let s=m(e).$implicit,u=p();return d(u.onActionTableRowSelect(s,i))}),r()}if(o&2){let e=l.$implicit,t=p();O("ntk-row-selected",e.id===(t.tableRowSelected==null?null:t.tableRowSelected.id))}}var io=class io extends Ct{constructor(e,t,i,s,u,f,y,P,re,Re,Ot,kt,ve){super(t,new ii,kt,y,re);this.coreEnumService=e;this.contentService=t;this.cmsToastrService=i;this.cmsConfirmationDialogService=s;this.activatedRoute=u;this.cmsStoreService=f;this.tokenHelper=y;this.cdr=P;this.translate=re;this.router=Re;this.pageInfo=Ot;this.publicHelper=kt;this.dialog=ve;this.requestLinkSiteId=0;this.requestLinkUserId=0;this.requestLinkDeviceId=0;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new Ke;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["id","linkUserId","linkSiteId","linkMemberId","SendStatusType","fromEmail","toEmail","emailSubject","createdDate"];this.tabledisplayedColumnsMobileSource=["linkUserId","linkSiteId","linkMemberId","fromEmail","toEmail","emailSubject","createdDate"];this.dataModelEnumSendEmailStatusTypeResult=new q;this.unsubscribe=[];if(this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkDeviceId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkDeviceId")),this.requestLinkSiteId>0){let k=new G;k.propertyName="LinkCmsSiteId",k.value=this.requestLinkSiteId,this.filteModelContent.filters.push(k)}if(this.requestLinkUserId>0){let k=new G;k.propertyName="linkUserId",k.value=this.requestLinkUserId,this.filteModelContent.filters.push(k)}if(this.requestLinkDeviceId>0){let k=new G;k.propertyName="LinkDeviceId",k.value=this.requestLinkDeviceId,this.filteModelContent.filters.push(k)}this.optionsSearch.parentMethods={onSubmit:k=>this.onSubmitOptionsSearch(k)},this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=Q.Descending,this.optionsSearch.data.filterModelContent=this.filteModelContent,this.optionsSearch.data.filterActionSearchRecordStatusShow=!0,this.tokenHelper.isAdminSite?(this.optionsSearch.data.filterActionSearchLinkUserIdShow=!0,this.optionsSearch.data.filterActionSearchLinkSiteIdShow=!0):(this.optionsSearch.data.filterActionSearchLinkSiteIdShow=!1,this.optionsSearch.data.filterActionSearchLinkUserIdShow=!1)}ngOnInit(){this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=Q.Descending,this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>z(this,null,function*(){this.tokenInfo=e,this.DataGetAll()}))),this.getEnumSendEmailStatusType()}getEnumSendEmailStatusType(){this.coreEnumService.ServiceSendEmailStatusTypeEnum().subscribe({next:e=>{this.dataModelEnumSendEmailStatusTypeResult=e}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}filterModelCompiler(e){let t=JSON.parse(JSON.stringify(e));return this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(t.filters=[...this.filterDataModelQueryBuilder]),t}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new ii);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let t=this.filterModelCompiler(this.filteModelContent);if(this.filteModelContent.filterActionSearchRecordStatus>0){let i=new G;i.propertyName="recordStatus",i.value=this.filteModelContent.filterActionSearchRecordStatus,t.filters.push(i)}if(this.filteModelContent.filterActionSearchLinkSiteId>0){let i=new G;i.propertyName="linkSiteId",i.value=this.filteModelContent.filterActionSearchLinkSiteId,t.filters.push(i)}if(this.filteModelContent.filterActionSearchLinkUserId>0){let i=new G;i.propertyName="linkUserId",i.value=this.filteModelContent.filterActionSearchLinkUserId,t.filters.push(i)}this.contentService.ServiceGetAllEditor(t).subscribe({next:i=>{i.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.applyDataGetAllResult(i),this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(i.access)},1e3)):this.cmsToastrService.typeErrorMessage(i.errorMessage),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=Q.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=Q.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=Q.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonViewRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var t="";this.publicHelper.isMobile?t="dialog-fullscreen":t="dialog-min",this.dialog.open(Ko,{height:"90%",panelClass:t,enterAnimationDuration:J.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:J.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate})}onActionButtonEditRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var t="";this.publicHelper.isMobile?t="dialog-fullscreen":t="dialog-min",this.dialog.open($o,{height:"90%",panelClass:t,enterAnimationDuration:J.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:J.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(s=>{this.cmsToastrService.typeErrorSelected(s)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var t="",i="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(s=>{t=s["MESSAGE.Please_Confirm"],i=s["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(t,i).then(s=>{if(s){let u=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(f=>{this.publicHelper.processService.processStart(u,f,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:f=>{f.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(u)},error:f=>{this.cmsToastrService.typeError(f),this.publicHelper.processService.processStop(u,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let t=new Map;this.translate.get("MESSAGE.Active").subscribe(y=>{t.set(y,0)}),this.translate.get("MESSAGE.All").subscribe(y=>{t.set(y,0)});let i=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(y=>{this.publicHelper.processService.processStart(i,y,this.constructorInfoAreaId)});let s=this.filterModelCompiler(this.filteModelContent);this.contentService.ServiceGetCount(s).subscribe({next:y=>{y.isSuccess?(this.translate.get("MESSAGE.All").subscribe(P=>{t.set(P,y.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(t)):this.cmsToastrService.typeErrorMessage(y.errorMessage),this.publicHelper.processService.processStop(i)},error:y=>{this.cmsToastrService.typeError(y),this.publicHelper.processService.processStop(i,!1)}});let u=this.filterModelCompiler(this.filteModelContent),f=new G;f.propertyName="recordStatus",f.value=mt.Available,u.filters.push(f),this.contentService.ServiceGetCount(u).subscribe({next:y=>{y.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(P=>{t.set(P,y.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(t)):this.cmsToastrService.typeErrorMessage(y.errorMessage),this.publicHelper.processService.processStop(i)},error:y=>{this.cmsToastrService.typeError(y),this.publicHelper.processService.processStop(i,!1)}})}onActionButtonViewUserRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkUserId||this.tableRowSelected.linkUserId===0){this.translate.get("MESSAGE.content_does_not_contain_user_information").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId])}onActionButtonViewMemberRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkMemberId||this.tableRowSelected.linkMemberId===""){this.translate.get("MESSAGE.content_does_not_include_member_informations").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}this.router.navigate(["/member/user/edit",this.tableRowSelected.linkMemberId])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};io.\u0275fac=function(t){return new(t||io)(v(ee),v(Jt),v(K),v(ot),v(st),v(U),v($),v(H),v(W),v(ct),v(je),v(j),v(Ae))},io.\u0275cmp=V({type:io,selectors:[["app-core-log-email-list"]],standalone:!1,features:[F],decls:71,vars:33,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],[1,"col-4"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","recordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","linkSiteId"],["matColumnDef","linkUserId"],["matColumnDef","linkMemberId"],["matColumnDef","fromEmail"],["matColumnDef","toEmail"],["class","grid-row-ltr",4,"matCellDef"],["matColumnDef","emailSubject"],["matColumnDef","SendStatusType"],["matColumnDef","createdDate"],["style","direction: ltr",4,"matCellDef"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-id-card-clip",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],[1,"grid-row-ltr"],[2,"direction","ltr"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(t,i){if(t&1){let s=L();a(0,"app-cms-html-list",3),A("optionActionGuideNoticeDisplayChange",function(f){return m(s),D(i.viewGuideNotice,f)||(i.viewGuideNotice=f),d(f)}),b("optionOnActionButtonMemoRow",function(){return m(s),d(i.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return m(s),d(i.onActionButtonMemo())})("optionOnActionButtonExport",function(){return m(s),d(i.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return m(s),d(i.onActionButtonPrintRow())}),M(1,4),c(2," -------------------------------------- "),w(),B(3,5)(4,6),M(5,7),I(6,Ha,2,0,"a",8),a(7,"a",9),b("click",function(){return m(s),d(i.viewGuideNotice=!i.viewGuideNotice)}),_(8,"i",10),r(),a(9,"a",9),b("click",function(){return m(s),d(i.onActionButtonReload())}),_(10,"i",11),r(),w(),M(11,12),a(12,"a",13),b("click",function(){return m(s),d(i.optionsSearch.data.show=!i.optionsSearch.data.show)}),_(13,"mat-slide-toggle",14),c(14),S(15,"translate"),r(),a(16,"a",13),b("click",function(){return m(s),d(i.onActionButtonStatist())}),_(17,"mat-slide-toggle",14),c(18),S(19,"translate"),r(),w(),B(20,15),M(21,16),I(22,Wa,7,3,"div",17),I(23,Ua,7,3,"div",17),I(24,ja,7,3,"div",17),I(25,qa,7,3,"div",17),I(26,Qa,7,3,"div",17),w(),M(27,18),a(28,"app-cms-search-list",19),A("optionsChange",function(f){return m(s),D(i.optionsSearch,f)||(i.optionsSearch=f),d(f)}),r(),a(29,"app-cms-statist-list",19),A("optionsChange",function(f){return m(s),D(i.optionsStatist,f)||(i.optionsStatist=f),d(f)}),r(),w(),M(30,20),a(31,"mat-table",21,0),b("matSortChange",function(){m(s);let f=X(32);return d(i.onTableSortData(f))}),M(33,22),R(34,za,2,1,"mat-header-cell",23)(35,$a,2,1,"mat-cell",24),w(),M(36,25),R(37,Ka,2,1,"mat-header-cell",23)(38,Ja,4,6,"mat-cell",26),w(),M(39,27),R(40,Ya,2,1,"mat-header-cell",23)(41,Xa,4,5,"mat-cell",24),w(),M(42,28),R(43,Za,2,1,"mat-header-cell",23)(44,el,4,5,"mat-cell",24),w(),M(45,29),R(46,tl,2,1,"mat-header-cell",23)(47,il,2,1,"mat-cell",24),w(),M(48,30),R(49,ol,2,1,"mat-header-cell",23)(50,nl,2,1,"mat-cell",24),w(),M(51,31),R(52,rl,2,1,"mat-header-cell",23)(53,al,2,1,"mat-cell",32),w(),M(54,33),R(55,ll,2,1,"mat-header-cell",23)(56,sl,2,1,"mat-cell",24),w(),M(57,34),R(58,cl,2,1,"mat-header-cell",23)(59,ml,3,4,"mat-cell",24),w(),M(60,35),R(61,dl,2,1,"mat-header-cell",23)(62,pl,3,3,"mat-cell",36),w(),M(63,37),R(64,ul,3,3,"mat-header-cell",38)(65,fl,6,1,"mat-cell",39),w(),R(66,Cl,1,0,"mat-header-row",40)(67,_l,1,2,"mat-row",41),r(),w(),M(68,42),a(69,"mat-paginator",43,1),b("page",function(f){return m(s),d(i.onTablePageingData(f))}),r(),w(),r()}t&2&&(h("optionsListInfoAreaId",i.constructorInfoAreaId)("optionGuideNoticeKey",""),T("optionActionGuideNoticeDisplay",i.viewGuideNotice),h("optionTreeDisplay",!1)("optionActionRowId",i.tableRowSelected==null?null:i.tableRowSelected.id)("optionActionRowDisplayMenu",i.tableRowSelect2Click)("optionSelectRowItemTitle",i.tableRowSelected==null?null:i.tableRowSelected.id),n(6),E(i.requestLinkSiteId>0?6:-1),n(4),O("rotation360",i.publicHelper.processService.process.inRunArea[i.constructorInfoAreaId]),n(3),h("checked",i.optionsSearch.data.show),n(),C("",g(15,28,"ACTION.SEARCH")," "),n(3),h("checked",i.optionsStatist.data.show),n(),C("",g(19,30,"ACTION.STATIST")," "),n(4),E(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessWatchRow?22:-1),n(),E(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessEditRow?23:-1),n(),E(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessDeleteRow?24:-1),n(),E((i.tableRowSelected==null?null:i.tableRowSelected.linkUserId)>0?25:-1),n(),E((i.tableRowSelected==null?null:i.tableRowSelected.linkMemberId)>0?26:-1),n(2),T("options",i.optionsSearch),n(),T("options",i.optionsStatist),n(2),h("dataSource",i.tableSource),n(35),h("matHeaderRowDef",i.tabledisplayedColumns),n(),h("matRowDefColumns",i.tabledisplayedColumns),n(2),h("length",i.dataModelResult.totalRowCount)("pageIndex",i.dataModelResult.currentPageNumber-1)("pageSize",i.dataModelResult.rowPerPage)("pageSizeOptions",ce(32,Fa)))},dependencies:[ie,De,ye,et,tt,ue,fe,xe,ke,Ve,Be,Fe,Oe,Ne,He,Pe,Ge,We,Ue,_e,Se,qe,Y,lt,N,ji,ft,Nt,it,oe,nt],encapsulation:2});var oo=io;var Sl=()=>[5,10,20,100],gl=(o,l)=>l.id;function hl(o,l){if(o&1){let e=L();a(0,"div",17)(1,"a",25),b("click",function(){m(e);let i=p();return d(i.onActionButtonEditRow(i.tableRowSelected))}),_(2,"i",26)(3,"br"),r(),a(4,"p",27),c(5),S(6,"translate"),r()()}o&2&&(n(5),C(" ",g(6,1,"ACTION.EDIT")," "))}function bl(o,l){if(o&1){let e=L();a(0,"div",17)(1,"a",28),b("click",function(){m(e);let i=p();return d(i.onActionButtonDeleteRow(i.tableRowSelected))}),_(2,"i",29)(3,"br"),r(),a(4,"p",27),c(5),S(6,"translate"),r()()}o&2&&(n(5),C(" ",g(6,1,"ACTION.DELETE")," "))}function vl(o,l){if(o&1){let e=L();a(0,"div",17)(1,"a",30),b("click",function(){m(e);let i=p();return d(i.onActionButtonViewRow(i.tableRowSelected))}),_(2,"i",31)(3,"br"),r(),a(4,"p",27),c(5),S(6,"translate"),r()()}o&2&&(n(5),C(" ",g(6,1,"ACTION.VIEW")," "))}function Ml(o,l){if(o&1&&(a(0,"div",38),_(1,"i",40),c(2),r()),o&2){let e=p().$implicit,t=p(2);n(2),be(" ",t.fieldsInfo.id==null?null:t.fieldsInfo.id.fieldTitle,": ",e.id," ")}}function wl(o,l){if(o&1&&(a(0,"div",38),_(1,"i",41),c(2),S(3,"localeDate"),r()),o&2){let e=p().$implicit,t=p(2);n(2),be(" ",t.fieldsInfo.createdDate==null?null:t.fieldsInfo.createdDate.fieldTitle,": ",g(3,2,e.createdDate)," ")}}function Il(o,l){if(o&1&&_(0,"select",43),o&2){let e=p(2).$implicit,t=p(2);h("contentService",t.contentService)("row",e)}}function El(o,l){if(o&1&&(a(0,"div",38),_(1,"i",42),S(2,"statusIconClass"),I(3,Il,1,2,"select",43),r()),o&2){let e=p().$implicit,t=p(2);n(),h("ngClass",g(2,2,e.recordStatus)),n(2),E(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow&&e.id===(t.tableRowSelected==null?null:t.tableRowSelected.id)?3:-1)}}function yl(o,l){if(o&1&&(a(0,"div",38),_(1,"i",46),c(2),S(3,"localeDate"),r()),o&2){let e=p(2).$implicit,t=p(2);n(2),be(" ",t.fieldsInfo.updatedDate==null?null:t.fieldsInfo.updatedDate.fieldTitle,": ",g(3,2,e.updatedDate)," ")}}function Ll(o,l){if(o&1){let e=L();a(0,"div",39),I(1,yl,4,4,"div",38),a(2,"div",38)(3,"span",44),b("click",function(i){return m(e),p(3).onActionCopied(),d(i.stopPropagation())}),_(4,"i",45),r(),c(5),r()()}if(o&2){let e=p().$implicit;n(),E(e.updatedDate?1:-1),n(2),h("cdkCopyToClipboard",e.id.toString()),n(2),C(" ID: ",e.id," ")}}function Rl(o,l){if(o&1){let e=L();a(0,"div",33),b("click",function(i){let s=m(e).$implicit,u=p(2);return d(u.onActionTableRowSelect(s,i))})("rtclick",function(i){let s=m(e).$implicit,u=p(2);return d(u.onActionTableRowSelect(s,i))})("mouseenter",function(){let i=m(e).$implicit,s=p(2);return d(s.onActionTableRowMouseEnter(i))})("mouseleave",function(){let i=m(e).$implicit,s=p(2);return d(s.onActionTableRowMouseLeave(i))}),a(1,"div",34),_(2,"i",35),S(3,"statusIconClass"),r(),a(4,"div",36)(5,"div",37),c(6),r(),I(7,Ml,3,2,"div",38),I(8,wl,4,4,"div",38),I(9,El,4,4,"div",38),I(10,Ll,6,3,"div",39),r()()}if(o&2){let e=l.$implicit,t=p(2);O("selected",e.id===(t.tableRowSelected==null?null:t.tableRowSelected.id))("bg-fade-highlight-light",e.id===(t.tableRowSelected==null?null:t.tableRowSelected.id)),$e("aria-label",e.id),n(2),h("ngClass",g(3,11,e.recordStatus)),n(4),x("ID: "+e.id),n(),E(e.id?7:-1),n(),E(e.createdDate?8:-1),n(),E(e.recordStatus!==void 0?9:-1),n(),E(t.getRowExpanded(e)?10:-1)}}function Tl(o,l){if(o&1&&(a(0,"div",21),ge(1,Rl,11,13,"div",32,gl),r()),o&2){let e=p();n(),he(e.dataModelResult.listItems)}}function Dl(o,l){o&1&&(a(0,"div",22),c(1),S(2,"translate"),r()),o&2&&(n(),x(g(2,1,"MESSAGE.NoRecord")))}var Mi=class Mi extends oo{};Mi.\u0275fac=(()=>{let l;return function(t){return(l||(l=Te(Mi)))(t||Mi)}})(),Mi.\u0275cmp=V({type:Mi,selectors:[["app-core-log-email-list-mobile"]],standalone:!1,features:[F],decls:36,vars:30,consts:[["paginator",""],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionOnScrollNearBottom","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplay","optionActionRowDisplayMenu","optionActionRowDisplayMenuAct","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-maximize","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-minimize","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],[1,"col-4"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],[1,"cms-m-list"],[1,"cms-m-empty"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],["role","button","tabindex","0",1,"cms-m-list-item","border-highlight",3,"selected","bg-fade-highlight-light"],["role","button","tabindex","0",1,"cms-m-list-item","border-highlight",3,"click","rtclick","mouseenter","mouseleave"],[1,"cms-m-list-item-image-placeholder"],["aria-hidden","true",3,"ngClass"],[1,"cms-m-list-item-content"],[1,"cms-m-list-item-title"],[1,"cms-m-list-item-subtitle"],[1,"cms-m-list-item-expanded"],["aria-hidden","true",1,"fa-solid","fa-hashtag"],["aria-hidden","true",1,"fa-solid","fa-calendar"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none","margin-left","8px",3,"contentService","row"],[1,"navi-icon","pointer",3,"click","cdkCopyToClipboard"],[1,"flaticon2-copy"],["aria-hidden","true",1,"fa-solid","fa-calendar-check"]],template:function(e,t){if(e&1){let i=L();a(0,"app-cms-html-list-mobile",1),A("optionActionGuideNoticeDisplayChange",function(u){return m(i),D(t.viewGuideNotice,u)||(t.viewGuideNotice=u),d(u)}),b("optionOnActionButtonMemoRow",function(){return m(i),d(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return m(i),d(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return m(i),d(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return m(i),d(t.onActionButtonPrintRow())})("optionOnScrollNearBottom",function(){return m(i),d(t.onActionLoadNextPage())}),B(1,2)(2,3)(3,4),M(4,5),a(5,"a",6),b("click",function(){return m(i),d(t.viewGuideNotice=!t.viewGuideNotice)}),_(6,"i",7),r(),a(7,"a",6),b("click",function(){return m(i),d(t.onActionButtonReload())}),_(8,"i",8),r(),a(9,"a",9),b("click",function(){return m(i),d(t.onActionGridExpandRows(!0))}),_(10,"i",10),r(),a(11,"a",9),b("click",function(){return m(i),d(t.onActionGridExpandRows(!1))}),_(12,"i",11),r(),w(),M(13,12),a(14,"a",13),b("click",function(){return m(i),d(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),_(15,"mat-slide-toggle",14),c(16),S(17,"translate"),r(),a(18,"a",13),b("click",function(){return m(i),d(t.onActionButtonStatist())}),_(19,"mat-slide-toggle",14),c(20),S(21,"translate"),r(),w(),B(22,15),M(23,16),I(24,hl,7,3,"div",17),I(25,bl,7,3,"div",17),I(26,vl,7,3,"div",17),w(),M(27,18),a(28,"app-cms-search-list",19),A("optionsChange",function(u){return m(i),D(t.optionsSearch,u)||(t.optionsSearch=u),d(u)}),r(),a(29,"app-cms-statist-list",19),A("optionsChange",function(u){return m(i),D(t.optionsStatist,u)||(t.optionsStatist=u),d(u)}),r(),w(),M(30,20),I(31,Tl,3,0,"div",21)(32,Dl,3,3,"div",22),w(),M(33,23),a(34,"mat-paginator",24,0),b("page",function(u){return m(i),d(t.onTablePageingData(u))}),r(),w(),r()}e&2&&(h("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey","core-log.email.list"),T("optionActionGuideNoticeDisplay",t.viewGuideNotice),h("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplay",(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionActionRowDisplayMenuAct",t.tableRowSelectActionMenuClick)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),n(8),O("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),n(7),h("checked",t.optionsSearch.data.show),n(),C(" ",g(17,25,"ACTION.SEARCH")),n(3),h("checked",t.optionsStatist.data.show),n(),C(" ",g(21,27,"ACTION.STATIST")),n(4),E(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0?24:-1),n(),E(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0?25:-1),n(),E(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessWatchRow&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0?26:-1),n(2),T("options",t.optionsSearch),n(),T("options",t.optionsStatist),n(2),E(!(t.dataModelResult==null||t.dataModelResult.listItems==null)&&t.dataModelResult.listItems.length?31:32),n(3),h("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",ce(29,Sl)))},dependencies:[ie,pe,ue,fe,Je,_e,Se,Qe,Y,_t,N,yt,oe],encapsulation:2});var Jo=Mi;var Al=["vform"];function xl(o,l){if(o&1&&(a(0,"div"),_(1,"div",20),S(2,"prettyjson"),r()),o&2){let e=p();n(),h("innerHTML",g(2,1,e.dataModel),gt)}}function kl(o,l){if(o&1){let e=L();a(0,"div",19)(1,"button",21),b("click",function(){m(e);let i=p();return d(i.onFormCancel())}),_(2,"i",22),c(3),S(4,"translate"),r()()}o&2&&(n(3),C(" ",g(4,1,"ACTION.CANCEL")," "))}var no=class no extends It{constructor(e,t,i,s,u,f,y,P,re,Re){super(s,new Gi,re,Re);this.data=e;this.dialogRef=t;this.coreEnumService=i;this.coreLogErrorService=s;this.cmsToastrService=u;this.tokenHelper=f;this.cmsStoreService=y;this.cdr=P;this.publicHelper=re;this.translate=Re;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new q;this.dataModel=new Gi;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id)}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>z(this,null,function*(){this.tokenInfo=e})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.coreLogErrorService.setAccessLoad(),this.coreLogErrorService.setAccessDataType(ht.Editor),this.coreLogErrorService.ServiceGetOneById(this.requestId).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModel=t.item,t.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+t.item.id,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=t.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(t.errorMessage)),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};no.\u0275fac=function(t){return new(t||no)(v(de),v(me),v(ee),v(Bi),v(K),v($),v(U),v(H),v(j),v(W))},no.\u0275cmp=V({type:no,selectors:[["app-core-log-error-edit"]],viewQuery:function(t,i){if(t&1&&ae(Al,5),t&2){let s;le(s=se())&&(i.formGroup=s.first)}},standalone:!1,features:[F],decls:36,vars:22,consts:[["vform","ngForm"],["ModuleName",""],["ModuleEntityName",""],["ModuleEntityId",""],["Description",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.moduleName",1,"color-highlight"],["matInput","","type","text","name","dataModel.moduleName","placeholder","ModuleName","id","dataModel.moduleName",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.moduleEntityName",1,"color-highlight"],["matInput","","type","text","name","dataModel.moduleEntityName","placeholder","ModuleEntityName","id","dataModel.moduleEntityName",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.moduleEntityId",1,"color-highlight"],["matInput","","type","text","name","dataModel.moduleEntityId","placeholder","ModuleEntityId","id","dataModel.moduleEntityId",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","placeholder","description","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[1,"form-actions"],[3,"innerHTML"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(t,i){if(t&1){let s=L();a(0,"div",5),_(1,"app-progress-spinner",6),a(2,"div",7)(3,"p",8),c(4),r(),a(5,"p"),c(6),S(7,"translate"),r(),a(8,"form",null,0),_(10,"app-cms-user-selector",9),S(11,"translate"),_(12,"app-cms-member-selector",9),S(13,"translate"),a(14,"div",10)(15,"label",11),c(16,"ModuleName"),r(),a(17,"input",12,1),A("ngModelChange",function(f){return m(s),D(i.dataModel.moduleName,f)||(i.dataModel.moduleName=f),d(f)}),r()(),a(19,"div",10)(20,"label",13),c(21,"ModuleEntityName"),r(),a(22,"input",14,2),A("ngModelChange",function(f){return m(s),D(i.dataModel.moduleEntityName,f)||(i.dataModel.moduleEntityName=f),d(f)}),r()(),a(24,"div",10)(25,"label",15),c(26,"EntityId"),r(),a(27,"input",16,3),A("ngModelChange",function(f){return m(s),D(i.dataModel.moduleEntityId,f)||(i.dataModel.moduleEntityId=f),d(f)}),r()(),a(29,"div",10)(30,"label",17),c(31),r(),a(32,"input",18,4),A("ngModelChange",function(f){return m(s),D(i.dataModel.description,f)||(i.dataModel.description=f),d(f)}),r()(),I(34,xl,3,3,"div"),I(35,kl,5,3,"div",19),r()()()}t&2&&(n(),h("optionsInfoAreaId",i.constructorInfoAreaId),n(3),C(" ",i.formInfo.formTitle," "),n(2),C(" ",g(7,16,"TITLE.Be_Careful_When_Entering_Information")," "),n(4),h("optionDisabled",!0)("optionSelectForce",i.dataModel.linkUserId)("optionPlaceholder",g(11,18,"TITLE.USER")),n(2),h("optionDisabled",!0)("optionSelectForce",i.dataModel.linkMemberId)("optionPlaceholder",g(13,20,"TITLE.Member")),n(5),T("ngModel",i.dataModel.moduleName),n(5),T("ngModel",i.dataModel.moduleEntityName),n(5),T("ngModel",i.dataModel.moduleEntityId),n(4),x(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle),n(),T("ngModel",i.dataModel.description),n(2),E(i.tokenInfo.access.userAccessAdminAllowToProfessionalData?34:-1),n(),E(i.formInfo.submitButtonEnabled?35:-1))},dependencies:[Mt,Ye,Xe,bt,Uo,jo,Ze,vt,pe,Vt,Bt,Ce,N,wt],encapsulation:2});var Yo=no;var Vl=()=>[5,10,20,100];function Nl(o,l){if(o&1){let e=L();a(0,"div",16)(1,"a",44),b("click",function(){m(e);let i=p();return d(i.onActionButtonEditRow(i.tableRowSelected))}),_(2,"i",45)(3,"br"),r(),a(4,"p",19),c(5),S(6,"translate"),r()()}o&2&&(n(5),C(" ",g(6,1,"ACTION.EDIT")," "))}function Bl(o,l){if(o&1){let e=L();a(0,"div",16)(1,"a",46),b("click",function(){m(e);let i=p();return d(i.onActionButtonDeleteRow(i.tableRowSelected))}),_(2,"i",47)(3,"br"),r(),a(4,"p",19),c(5),S(6,"translate"),r()()}o&2&&(n(5),C(" ",g(6,1,"ACTION.DELETE")," "))}function Ol(o,l){if(o&1&&(a(0,"mat-header-cell",48),c(1),r()),o&2){let e=p();n(),C(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function Pl(o,l){if(o&1&&(a(0,"mat-cell"),c(1),r()),o&2){let e=l.$implicit;n(),C(" ",e.id," ")}}function Gl(o,l){if(o&1&&(a(0,"mat-header-cell",48),c(1),r()),o&2){let e=p();n(),C(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function Fl(o,l){if(o&1&&(a(0,"mat-cell",49),S(1,"statusCellClass"),_(2,"i",49),S(3,"statusIconClass"),r()),o&2){let e=l.$implicit;h("ngClass",g(1,2,e.recordStatus)),n(2),h("ngClass",g(3,4,e.recordStatus))}}function Hl(o,l){if(o&1&&(a(0,"mat-header-cell",48),c(1),r()),o&2){let e=p();n(),C(" ",e.fieldsInfo.linkUserId==null?null:e.fieldsInfo.linkUserId.fieldTitle," ")}}function Wl(o,l){if(o&1&&(a(0,"mat-cell"),c(1),S(2,"cmsuserinfo"),S(3,"async"),r()),o&2){let e=l.$implicit;n(),C(" ",g(3,3,g(2,1,e.linkUserId))," ")}}function Ul(o,l){if(o&1&&(a(0,"mat-header-cell",48),c(1),r()),o&2){let e=p();n(),C(" ",e.fieldsInfo.linkMemberId==null?null:e.fieldsInfo.linkMemberId.fieldTitle," ")}}function jl(o,l){if(o&1&&(a(0,"mat-cell"),c(1),r()),o&2){let e=l.$implicit;n(),C(" ",e.linkMemberId," ")}}function ql(o,l){if(o&1&&(a(0,"mat-header-cell",48),c(1),r()),o&2){let e=p();n(),C(" ",e.fieldsInfo.moduleName==null?null:e.fieldsInfo.moduleName.fieldTitle," ")}}function Ql(o,l){if(o&1&&(a(0,"mat-cell"),c(1),r()),o&2){let e=l.$implicit;n(),C(" ",e.moduleName," ")}}function zl(o,l){if(o&1&&(a(0,"mat-header-cell",48),c(1),r()),o&2){let e=p();n(),C(" ",e.fieldsInfo.moduleEntityName==null?null:e.fieldsInfo.moduleEntityName.fieldTitle," ")}}function $l(o,l){if(o&1&&(a(0,"mat-cell"),c(1),r()),o&2){let e=l.$implicit;n(),C(" ",e.moduleEntityName," ")}}function Kl(o,l){if(o&1&&(a(0,"mat-header-cell",48),c(1),r()),o&2){let e=p();n(),C(" ",e.fieldsInfo.moduleEntityId==null?null:e.fieldsInfo.moduleEntityId.fieldTitle," ")}}function Jl(o,l){if(o&1&&(a(0,"mat-cell"),c(1),r()),o&2){let e=l.$implicit;n(),C(" ",e.moduleEntityId," ")}}function Yl(o,l){if(o&1&&(a(0,"mat-header-cell",48),c(1),r()),o&2){let e=p();n(),C(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function Xl(o,l){if(o&1&&(a(0,"mat-cell",50),c(1),S(2,"localeDateTime"),r()),o&2){let e=l.$implicit;n(),C(" ",g(2,1,e.createdDate)," ")}}function Zl(o,l){o&1&&(a(0,"mat-header-cell"),c(1),S(2,"translate"),r()),o&2&&(n(),C(" ",g(2,1,"TITLE.OPTION")," "))}function es(o,l){if(o&1&&(a(0,"mat-cell",51)(1,"button",52)(2,"mat-icon"),c(3,"more_vert"),r()(),_(4,"mat-menu",null,2),r()),o&2){let e=X(5);n(),h("matMenuTriggerFor",e)}}function ts(o,l){o&1&&_(0,"mat-header-row")}function is(o,l){if(o&1){let e=L();a(0,"mat-row",53),b("click",function(i){let s=m(e).$implicit,u=p();return d(u.onActionTableRowSelect(s,i))})("rtclick",function(i){let s=m(e).$implicit,u=p();return d(u.onActionTableRowSelect(s,i))}),r()}if(o&2){let e=l.$implicit,t=p();O("ntk-row-selected",e.id===(t.tableRowSelected==null?null:t.tableRowSelected.id))}}var ro=class ro extends Ct{constructor(e,t,i,s,u,f,y,P,re,Re,Ot,kt){super(e,new Gi,Ot,re,P);this.contentService=e;this.cmsToastrService=t;this.cmsConfirmationDialogService=i;this.activatedRoute=s;this.cmsStoreService=u;this.router=f;this.cdr=y;this.translate=P;this.tokenHelper=re;this.pageInfo=Re;this.publicHelper=Ot;this.dialog=kt;this.requestLinkUserId=0;this.requestLinkDeviceId=0;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new Ke;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["id","ModuleName","ModuleEntityName","linkUserId","linkMemberId","ModuleEntityId","createdDate"];this.tabledisplayedColumnsMobileSource=["id","ModuleName","ModuleEntityName","linkUserId","linkMemberId","ModuleEntityId","createdDate"];this.dataModelEnumManageUserAccessAreaTypesResult=new q;this.dataModelEnumManageUserAccessUserTypesResult=new q;this.unsubscribe=[];if(this.publicHelper.processService.cdr=this.cdr,this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkDeviceId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkDeviceId")),this.requestLinkUserId>0){let ve=new G;ve.propertyName="linkUserId",ve.value=this.requestLinkUserId,this.filteModelContent.filters.push(ve)}if(this.requestLinkDeviceId>0){let ve=new G;ve.propertyName="LinkDeviceId",ve.value=this.requestLinkDeviceId,this.filteModelContent.filters.push(ve)}this.optionsSearch.parentMethods={onSubmit:ve=>this.onSubmitOptionsSearch(ve)},this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=Q.Descending}ngOnInit(){this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=Q.Descending,this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>z(this,null,function*(){this.tokenInfo=e,this.DataGetAll()}))),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){}getEnumManageUserAccessUserTypes(){}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}filterModelCompiler(e){let t=JSON.parse(JSON.stringify(e));return this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(t.filters=[...this.filterDataModelQueryBuilder]),t}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Gi);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let t=this.filterModelCompiler(this.filteModelContent);this.contentService.ServiceGetAllEditor(t).subscribe({next:i=>{i.isSuccess&&(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.applyDataGetAllResult(i),this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(i.access)},1e3)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=Q.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=Q.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=Q.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonEditRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var t="";this.publicHelper.isMobile?t="dialog-fullscreen":t="dialog-min",this.dialog.open(Yo,{height:"90%",panelClass:t,enterAnimationDuration:J.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:J.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(s=>{this.cmsToastrService.typeErrorSelected(s)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var t="",i="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(s=>{t=s["MESSAGE.Please_Confirm"],i=s["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(t,i).then(s=>{if(s){let u=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(f=>{this.publicHelper.processService.processStart(u,f,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:f=>{f.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(u)},error:f=>{this.cmsToastrService.typeError(f),this.publicHelper.processService.processStop(u,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let t=new Map;this.translate.get("MESSAGE.Active").subscribe(y=>{t.set(y,0)}),this.translate.get("MESSAGE.All").subscribe(y=>{t.set(y,0)});let i=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(y=>{this.publicHelper.processService.processStart(i,y,this.constructorInfoAreaId)});let s=this.filterModelCompiler(this.filteModelContent);this.contentService.ServiceGetCount(s).subscribe({next:y=>{y.isSuccess?(this.translate.get("MESSAGE.All").subscribe(P=>{t.set(P,y.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(t)):this.cmsToastrService.typeErrorMessage(y.errorMessage),this.publicHelper.processService.processStop(i)},error:y=>{this.cmsToastrService.typeError(y),this.publicHelper.processService.processStop(i,!1)}});let u=this.filterModelCompiler(this.filteModelContent),f=new G;f.propertyName="recordStatus",f.value=mt.Available,u.filters.push(f),this.contentService.ServiceGetCount(u).subscribe({next:y=>{y.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(P=>{t.set(P,y.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(t)):this.cmsToastrService.typeErrorMessage(y.errorMessage),this.publicHelper.processService.processStop(i)},error:y=>{this.cmsToastrService.typeError(y),this.publicHelper.processService.processStop(i,!1)}})}onActionButtonViewUserRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkUserId||this.tableRowSelected.linkUserId===0){this.translate.get("MESSAGE.content_does_not_contain_user_information").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId])}onActionButtonViewMemberRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkMemberId||this.tableRowSelected.linkMemberId===""){this.translate.get("MESSAGE.Content_does_not_include_device_information").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}this.router.navigate(["/member/user/edit",this.tableRowSelected.linkMemberId])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};ro.\u0275fac=function(t){return new(t||ro)(v(Bi),v(K),v(ot),v(st),v(U),v(ct),v(H),v(W),v($),v(je),v(j),v(Ae))},ro.\u0275cmp=V({type:ro,selectors:[["app-core-log-error-list"]],standalone:!1,features:[F],decls:75,vars:35,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-id-card-clip","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","recordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","linkUserId"],["matColumnDef","linkMemberId"],["matColumnDef","ModuleName"],["matColumnDef","ModuleEntityName"],["matColumnDef","ModuleEntityId"],["matColumnDef","createdDate"],["style","direction: ltr",4,"matCellDef"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],[2,"direction","ltr"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(t,i){if(t&1){let s=L();a(0,"app-cms-html-list",3),A("optionActionGuideNoticeDisplayChange",function(f){return m(s),D(i.viewGuideNotice,f)||(i.viewGuideNotice=f),d(f)}),b("optionOnActionButtonMemoRow",function(){return m(s),d(i.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return m(s),d(i.onActionButtonMemo())})("optionOnActionButtonExport",function(){return m(s),d(i.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return m(s),d(i.onActionButtonPrintRow())}),M(1,4),c(2," -------------------------------------- "),w(),B(3,5)(4,6),M(5,7),a(6,"a",8),b("click",function(){return m(s),d(i.viewGuideNotice=!i.viewGuideNotice)}),_(7,"i",9),r(),a(8,"a",8),b("click",function(){return m(s),d(i.onActionButtonReload())}),_(9,"i",10),r(),w(),M(10,11),a(11,"a",12),b("click",function(){return m(s),d(i.optionsSearch.data.show=!i.optionsSearch.data.show)}),_(12,"mat-slide-toggle",13),c(13),S(14,"translate"),r(),a(15,"a",12),b("click",function(){return m(s),d(i.onActionButtonStatist())}),_(16,"mat-slide-toggle",13),c(17),S(18,"translate"),r(),w(),B(19,14),M(20,15),I(21,Nl,7,3,"div",16),I(22,Bl,7,3,"div",16),a(23,"div",16)(24,"a",17),b("click",function(){return m(s),d(i.onActionButtonViewUserRow(i.tableRowSelected))}),_(25,"i",18)(26,"br"),r(),a(27,"p",19),c(28),S(29,"translate"),r()(),a(30,"div",16)(31,"a",17),b("click",function(){return m(s),d(i.onActionButtonViewMemberRow(i.tableRowSelected))}),_(32,"i",20)(33,"br"),r(),a(34,"p",19),c(35),S(36,"translate"),r()(),w(),M(37,21),a(38,"app-cms-search-list",22),A("optionsChange",function(f){return m(s),D(i.optionsSearch,f)||(i.optionsSearch=f),d(f)}),r(),a(39,"app-cms-statist-list",22),A("optionsChange",function(f){return m(s),D(i.optionsStatist,f)||(i.optionsStatist=f),d(f)}),r(),w(),M(40,23),a(41,"mat-table",24,0),b("matSortChange",function(){m(s);let f=X(42);return d(i.onTableSortData(f))}),M(43,25),R(44,Ol,2,1,"mat-header-cell",26)(45,Pl,2,1,"mat-cell",27),w(),M(46,28),R(47,Gl,2,1,"mat-header-cell",26)(48,Fl,4,6,"mat-cell",29),w(),M(49,30),R(50,Hl,2,1,"mat-header-cell",26)(51,Wl,4,5,"mat-cell",27),w(),M(52,31),R(53,Ul,2,1,"mat-header-cell",26)(54,jl,2,1,"mat-cell",27),w(),M(55,32),R(56,ql,2,1,"mat-header-cell",26)(57,Ql,2,1,"mat-cell",27),w(),M(58,33),R(59,zl,2,1,"mat-header-cell",26)(60,$l,2,1,"mat-cell",27),w(),M(61,34),R(62,Kl,2,1,"mat-header-cell",26)(63,Jl,2,1,"mat-cell",27),w(),M(64,35),R(65,Yl,2,1,"mat-header-cell",26)(66,Xl,3,3,"mat-cell",36),w(),M(67,37),R(68,Zl,3,3,"mat-header-cell",38)(69,es,6,1,"mat-cell",39),w(),R(70,ts,1,0,"mat-header-row",40)(71,is,1,2,"mat-row",41),r(),w(),M(72,42),a(73,"mat-paginator",43,1),b("page",function(f){return m(s),d(i.onTablePageingData(f))}),r(),w(),r()}t&2&&(h("optionsListInfoAreaId",i.constructorInfoAreaId)("optionGuideNoticeKey",""),T("optionActionGuideNoticeDisplay",i.viewGuideNotice),h("optionTreeDisplay",!1)("optionActionRowId",i.tableRowSelected==null?null:i.tableRowSelected.id)("optionActionRowDisplayMenu",i.tableRowSelect2Click)("optionSelectRowItemTitle",i.tableRowSelected==null?null:i.tableRowSelected.id),n(9),O("rotation360",i.publicHelper.processService.process.inRunArea[i.constructorInfoAreaId]),n(3),h("checked",i.optionsSearch.data.show),n(),C("",g(14,26,"ACTION.SEARCH")," "),n(3),h("checked",i.optionsStatist.data.show),n(),C("",g(18,28,"ACTION.STATIST")," "),n(4),E(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessEditRow?21:-1),n(),E(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessDeleteRow?22:-1),n(6),C(" ",g(29,30,"ACTION.USER")," "),n(7),C(" ",g(36,32,"ACTION.MEMBER")," "),n(3),T("options",i.optionsSearch),n(),T("options",i.optionsStatist),n(2),h("dataSource",i.tableSource),n(29),h("matHeaderRowDef",i.tabledisplayedColumns),n(),h("matRowDefColumns",i.tabledisplayedColumns),n(2),h("length",i.dataModelResult.totalRowCount)("pageIndex",i.dataModelResult.currentPageNumber-1)("pageSize",i.dataModelResult.rowPerPage)("pageSizeOptions",ce(34,Vl)))},dependencies:[ie,De,ye,et,tt,ue,fe,xe,ke,Ve,Be,Fe,Oe,Ne,He,Pe,Ge,We,Ue,_e,Se,qe,Y,lt,N,ft,it,oe,nt],encapsulation:2});var ao=ro;var os=()=>[5,10,20,100],ns=(o,l)=>l.id;function rs(o,l){if(o&1){let e=L();a(0,"div",17)(1,"a",25),b("click",function(){m(e);let i=p();return d(i.onActionButtonEditRow(i.tableRowSelected))}),_(2,"i",26)(3,"br"),r(),a(4,"p",27),c(5),S(6,"translate"),r()()}o&2&&(n(5),C(" ",g(6,1,"ACTION.EDIT")," "))}function as(o,l){if(o&1){let e=L();a(0,"div",17)(1,"a",28),b("click",function(){m(e);let i=p();return d(i.onActionButtonDeleteRow(i.tableRowSelected))}),_(2,"i",29)(3,"br"),r(),a(4,"p",27),c(5),S(6,"translate"),r()()}o&2&&(n(5),C(" ",g(6,1,"ACTION.DELETE")," "))}function ls(o,l){if(o&1){let e=L();a(0,"div",17)(1,"a",30),b("click",function(){m(e);let i=p();return d(i.onActionButtonViewRow(i.tableRowSelected))}),_(2,"i",31)(3,"br"),r(),a(4,"p",27),c(5),S(6,"translate"),r()()}o&2&&(n(5),C(" ",g(6,1,"ACTION.VIEW")," "))}function ss(o,l){if(o&1&&(a(0,"div",38),_(1,"i",40),c(2),r()),o&2){let e=p().$implicit,t=p(2);n(2),be(" ",t.fieldsInfo.id==null?null:t.fieldsInfo.id.fieldTitle,": ",e.id," ")}}function cs(o,l){if(o&1&&(a(0,"div",38),_(1,"i",41),c(2),S(3,"localeDate"),r()),o&2){let e=p().$implicit,t=p(2);n(2),be(" ",t.fieldsInfo.createdDate==null?null:t.fieldsInfo.createdDate.fieldTitle,": ",g(3,2,e.createdDate)," ")}}function ms(o,l){if(o&1&&_(0,"select",43),o&2){let e=p(2).$implicit,t=p(2);h("contentService",t.contentService)("row",e)}}function ds(o,l){if(o&1&&(a(0,"div",38),_(1,"i",42),S(2,"statusIconClass"),I(3,ms,1,2,"select",43),r()),o&2){let e=p().$implicit,t=p(2);n(),h("ngClass",g(2,2,e.recordStatus)),n(2),E(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow&&e.id===(t.tableRowSelected==null?null:t.tableRowSelected.id)?3:-1)}}function ps(o,l){if(o&1&&(a(0,"div",38),_(1,"i",46),c(2),S(3,"localeDate"),r()),o&2){let e=p(2).$implicit,t=p(2);n(2),be(" ",t.fieldsInfo.updatedDate==null?null:t.fieldsInfo.updatedDate.fieldTitle,": ",g(3,2,e.updatedDate)," ")}}function us(o,l){if(o&1){let e=L();a(0,"div",39),I(1,ps,4,4,"div",38),a(2,"div",38)(3,"span",44),b("click",function(i){return m(e),p(3).onActionCopied(),d(i.stopPropagation())}),_(4,"i",45),r(),c(5),r()()}if(o&2){let e=p().$implicit;n(),E(e.updatedDate?1:-1),n(2),h("cdkCopyToClipboard",e.id.toString()),n(2),C(" ID: ",e.id," ")}}function fs(o,l){if(o&1){let e=L();a(0,"div",33),b("click",function(i){let s=m(e).$implicit,u=p(2);return d(u.onActionTableRowSelect(s,i))})("rtclick",function(i){let s=m(e).$implicit,u=p(2);return d(u.onActionTableRowSelect(s,i))})("mouseenter",function(){let i=m(e).$implicit,s=p(2);return d(s.onActionTableRowMouseEnter(i))})("mouseleave",function(){let i=m(e).$implicit,s=p(2);return d(s.onActionTableRowMouseLeave(i))}),a(1,"div",34),_(2,"i",35),r(),a(3,"div",36)(4,"div",37),c(5),r(),I(6,ss,3,2,"div",38),I(7,cs,4,4,"div",38),I(8,ds,4,4,"div",38),I(9,us,6,3,"div",39),r()()}if(o&2){let e=l.$implicit,t=p(2);O("selected",e.id===(t.tableRowSelected==null?null:t.tableRowSelected.id))("bg-fade-highlight-light",e.id===(t.tableRowSelected==null?null:t.tableRowSelected.id)),$e("aria-label",e.id),n(5),x("ID: "+e.id),n(),E(e.id?6:-1),n(),E(e.createdDate?7:-1),n(),E(e.recordStatus!==void 0?8:-1),n(),E(t.getRowExpanded(e)?9:-1)}}function Cs(o,l){if(o&1&&(a(0,"div",21),ge(1,fs,10,10,"div",32,ns),r()),o&2){let e=p();n(),he(e.dataModelResult.listItems)}}function _s(o,l){o&1&&(a(0,"div",22),c(1),S(2,"translate"),r()),o&2&&(n(),x(g(2,1,"MESSAGE.NoRecord")))}var wi=class wi extends ao{};wi.\u0275fac=(()=>{let l;return function(t){return(l||(l=Te(wi)))(t||wi)}})(),wi.\u0275cmp=V({type:wi,selectors:[["app-core-log-error-list-mobile"]],standalone:!1,features:[F],decls:36,vars:30,consts:[["paginator",""],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionOnScrollNearBottom","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplay","optionActionRowDisplayMenu","optionActionRowDisplayMenuAct","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-maximize","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-minimize","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],[1,"col-4"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],[1,"cms-m-list"],[1,"cms-m-empty"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],["role","button","tabindex","0",1,"cms-m-list-item","border-highlight",3,"selected","bg-fade-highlight-light"],["role","button","tabindex","0",1,"cms-m-list-item","border-highlight",3,"click","rtclick","mouseenter","mouseleave"],[1,"cms-m-list-item-image-placeholder"],["aria-hidden","true",1,"fa-solid","fa-triangle-exclamation"],[1,"cms-m-list-item-content"],[1,"cms-m-list-item-title"],[1,"cms-m-list-item-subtitle"],[1,"cms-m-list-item-expanded"],["aria-hidden","true",1,"fa-solid","fa-hashtag"],["aria-hidden","true",1,"fa-solid","fa-calendar"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none","margin-left","8px",3,"contentService","row"],[1,"navi-icon","pointer",3,"click","cdkCopyToClipboard"],[1,"flaticon2-copy"],["aria-hidden","true",1,"fa-solid","fa-calendar-check"]],template:function(e,t){if(e&1){let i=L();a(0,"app-cms-html-list-mobile",1),A("optionActionGuideNoticeDisplayChange",function(u){return m(i),D(t.viewGuideNotice,u)||(t.viewGuideNotice=u),d(u)}),b("optionOnActionButtonMemoRow",function(){return m(i),d(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return m(i),d(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return m(i),d(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return m(i),d(t.onActionButtonPrintRow())})("optionOnScrollNearBottom",function(){return m(i),d(t.onActionLoadNextPage())}),B(1,2)(2,3)(3,4),M(4,5),a(5,"a",6),b("click",function(){return m(i),d(t.viewGuideNotice=!t.viewGuideNotice)}),_(6,"i",7),r(),a(7,"a",6),b("click",function(){return m(i),d(t.onActionButtonReload())}),_(8,"i",8),r(),a(9,"a",9),b("click",function(){return m(i),d(t.onActionGridExpandRows(!0))}),_(10,"i",10),r(),a(11,"a",9),b("click",function(){return m(i),d(t.onActionGridExpandRows(!1))}),_(12,"i",11),r(),w(),M(13,12),a(14,"a",13),b("click",function(){return m(i),d(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),_(15,"mat-slide-toggle",14),c(16),S(17,"translate"),r(),a(18,"a",13),b("click",function(){return m(i),d(t.onActionButtonStatist())}),_(19,"mat-slide-toggle",14),c(20),S(21,"translate"),r(),w(),B(22,15),M(23,16),I(24,rs,7,3,"div",17),I(25,as,7,3,"div",17),I(26,ls,7,3,"div",17),w(),M(27,18),a(28,"app-cms-search-list",19),A("optionsChange",function(u){return m(i),D(t.optionsSearch,u)||(t.optionsSearch=u),d(u)}),r(),a(29,"app-cms-statist-list",19),A("optionsChange",function(u){return m(i),D(t.optionsStatist,u)||(t.optionsStatist=u),d(u)}),r(),w(),M(30,20),I(31,Cs,3,0,"div",21)(32,_s,3,3,"div",22),w(),M(33,23),a(34,"mat-paginator",24,0),b("page",function(u){return m(i),d(t.onTablePageingData(u))}),r(),w(),r()}e&2&&(h("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey","core-log.error.list"),T("optionActionGuideNoticeDisplay",t.viewGuideNotice),h("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplay",(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionActionRowDisplayMenuAct",t.tableRowSelectActionMenuClick)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),n(8),O("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),n(7),h("checked",t.optionsSearch.data.show),n(),C(" ",g(17,25,"ACTION.SEARCH")),n(3),h("checked",t.optionsStatist.data.show),n(),C(" ",g(21,27,"ACTION.STATIST")),n(4),E(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0?24:-1),n(),E(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0?25:-1),n(),E(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessWatchRow&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0?26:-1),n(2),T("options",t.optionsSearch),n(),T("options",t.optionsStatist),n(2),E(!(t.dataModelResult==null||t.dataModelResult.listItems==null)&&t.dataModelResult.listItems.length?31:32),n(3),h("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",ce(29,os)))},dependencies:[ie,pe,ue,fe,Je,_e,Se,Qe,Y,_t,N,yt,oe],encapsulation:2});var Xo=wi;var Ss=["vform"];function gs(o,l){if(o&1&&(a(0,"div"),_(1,"div",11),S(2,"prettyjson"),r()),o&2){let e=p();n(),h("innerHTML",g(2,1,e.dataModel),gt)}}function hs(o,l){if(o&1){let e=L();a(0,"div",10)(1,"button",12),b("click",function(){m(e);let i=p();return d(i.onFormCancel())}),_(2,"i",13),c(3),S(4,"translate"),r()()}o&2&&(n(3),C(" ",g(4,1,"ACTION.CANCEL")," "))}var lo=class lo extends It{constructor(e,t,i,s,u,f,y,P,re,Re){super(s,new oi,re,Re);this.data=e;this.dialogRef=t;this.coreEnumService=i;this.coreLogMemberService=s;this.cmsToastrService=u;this.tokenHelper=f;this.cmsStoreService=y;this.cdr=P;this.publicHelper=re;this.translate=Re;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new ki;this.dataModel=new oi;this.dataModelEnumSendMemberStatusTypeResult=new q;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id)}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>z(this,null,function*(){this.tokenInfo=e})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.coreLogMemberService.setAccessLoad(),this.coreLogMemberService.setAccessDataType(ht.Editor),this.coreLogMemberService.ServiceGetOneById(this.requestId).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModel=t.item,t.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+t.item.id,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=t.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(t.errorMessage)),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};lo.\u0275fac=function(t){return new(t||lo)(v(de),v(me),v(ee),v(Yt),v(K),v($),v(U),v(H),v(j),v(W))},lo.\u0275cmp=V({type:lo,selectors:[["app-core-log-member-edit"]],viewQuery:function(t,i){if(t&1&&ae(Ss,5),t&2){let s;le(s=se())&&(i.formGroup=s.first)}},standalone:!1,features:[F],decls:19,vars:14,consts:[["vform","ngForm"],["Description",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","placeholder","Description","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[1,"form-actions"],[3,"innerHTML"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(t,i){if(t&1){let s=L();a(0,"div",2),_(1,"app-progress-spinner",3),a(2,"div",4)(3,"p",5),c(4),r(),a(5,"p"),c(6),S(7,"translate"),r(),a(8,"form",null,0),_(10,"app-cms-user-selector",6),S(11,"translate"),a(12,"div",7)(13,"label",8),c(14),r(),a(15,"input",9,1),A("ngModelChange",function(f){return m(s),D(i.dataModel.description,f)||(i.dataModel.description=f),d(f)}),r()(),I(17,gs,3,3,"div"),I(18,hs,5,3,"div",10),r()()()}t&2&&(n(),h("optionsInfoAreaId",i.constructorInfoAreaId),n(3),C(" ",i.formInfo.formTitle," "),n(2),C(" ",g(7,10,"TITLE.Be_Careful_When_Entering_Information")," "),n(4),h("optionDisabled",!0)("optionSelectForce",i.dataModel.linkCoreUserId)("optionPlaceholder",g(11,12,"TITLE.USER")),n(4),x(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle),n(),T("ngModel",i.dataModel.description),n(2),E(i.tokenInfo.access.userAccessAdminAllowToProfessionalData?17:-1),n(),E(i.formInfo.submitButtonEnabled?18:-1))},dependencies:[Mt,Ye,Xe,bt,Uo,jo,Ze,vt,pe,Vt,Ce,N,wt],encapsulation:2});var Zo=lo;var bs=["vform"];function vs(o,l){if(o&1){let e=L();a(0,"div",7)(1,"button",8),b("click",function(){m(e);let i=p();return d(i.onFormCancel())}),_(2,"i",9),c(3),S(4,"translate"),r()()}o&2&&(n(3),C(" ",g(4,1,"ACTION.CANCEL")," "))}var so=class so{constructor(l,e,t,i,s,u,f,y,P,re){this.data=l;this.dialogRef=e;this.coreEnumService=t;this.coreLogMemberService=i;this.cmsToastrService=s;this.tokenHelper=u;this.cmsStoreService=f;this.cdr=y;this.publicHelper=P;this.translate=re;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.tokenInfo=new dt;this.dataModelResult=new q;this.dataModel=new oi;this.formInfo=new pt;this.dataModelEnumSendMemberStatusTypeResult=new q;this.fieldsInfo=new Map;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,l&&(this.requestId=l.id+"")}ngOnInit(){if(this.translate.get("TITLE.VIEW").subscribe(l=>{this.formInfo.formTitle=l}),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(l=>l.tokenInfoStore).subscribe(l=>z(this,null,function*(){this.tokenInfo=l})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(l=>l.unsubscribe())}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage="";let l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(l,e,this.constructorInfoAreaId)}),this.coreLogMemberService.setAccessLoad(),this.coreLogMemberService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModel=e.item,e.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+e.item.id,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=e.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(e.errorMessage)),this.publicHelper.processService.processStop(l)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(l,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};so.\u0275fac=function(e){return new(e||so)(v(de),v(me),v(ee),v(Yt),v(K),v($),v(U),v(H),v(j),v(W))},so.\u0275cmp=V({type:so,selectors:[["app-core-log-member-view"]],viewQuery:function(e,t){if(e&1&&ae(bs,5),e&2){let i;le(i=se())&&(t.formGroup=i.first)}},standalone:!1,decls:9,vars:6,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection","loader-container"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[3,"formInfo"],[1,"ntk-cms-html-card-footer"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,t){e&1&&(a(0,"div",0),c(1),r(),a(2,"div",1),_(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),r(),a(5,"div",4),_(6,"app-cms-form-result-message",5),r(),a(7,"div",6),I(8,vs,5,3,"div",7),r()),e&2&&(n(),C(" ",t.formInfo.formTitle," "),n(2),h("optionsInfoAreaId",t.constructorInfoAreaId),n(),h("dataModel",t.dataModel)("optionMethod",1),n(2),h("formInfo",t.formInfo),n(2),E(t.formInfo.submitButtonEnabled?8:-1))},dependencies:[Ce,Et,ut,N],encapsulation:2});var en=so;var Ms=()=>[5,10,20,100];function ws(o,l){if(o&1){let e=L();a(0,"a",46),b("click",function(){m(e);let i=p();return d(i.onActionBackToParent())}),_(1,"i",47),r()}}function Is(o,l){if(o&1){let e=L();a(0,"div",17)(1,"a",18),b("click",function(){m(e);let i=p();return d(i.onActionButtonViewRow(i.tableRowSelected))}),_(2,"i",48)(3,"br"),r(),a(4,"p",20),c(5),S(6,"translate"),r()()}o&2&&(n(5),C(" ",g(6,1,"ACTION.VIEW")," "))}function Es(o,l){if(o&1){let e=L();a(0,"div",17)(1,"a",49),b("click",function(){m(e);let i=p();return d(i.onActionButtonEditRow(i.tableRowSelected))}),_(2,"i",50)(3,"br"),r(),a(4,"p",20),c(5),S(6,"translate"),r()()}o&2&&(n(5),C(" ",g(6,1,"ACTION.EDIT")," "))}function ys(o,l){if(o&1){let e=L();a(0,"div",17)(1,"a",51),b("click",function(){m(e);let i=p();return d(i.onActionButtonDeleteRow(i.tableRowSelected))}),_(2,"i",52)(3,"br"),r(),a(4,"p",20),c(5),S(6,"translate"),r()()}o&2&&(n(5),C(" ",g(6,1,"ACTION.DELETE")," "))}function Ls(o,l){if(o&1&&(a(0,"mat-header-cell",53),c(1),r()),o&2){let e=p();n(),C(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function Rs(o,l){if(o&1&&(a(0,"mat-cell"),c(1),r()),o&2){let e=l.$implicit;n(),C(" ",e.id," ")}}function Ts(o,l){if(o&1&&(a(0,"mat-header-cell",53),c(1),r()),o&2){let e=p();n(),C(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function Ds(o,l){if(o&1&&(a(0,"mat-cell",54),S(1,"statusCellClass"),_(2,"i",54),S(3,"statusIconClass"),r()),o&2){let e=l.$implicit;h("ngClass",g(1,2,e.recordStatus)),n(2),h("ngClass",g(3,4,e.recordStatus))}}function As(o,l){if(o&1&&(a(0,"mat-header-cell",53),c(1),r()),o&2){let e=p();n(),C(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function xs(o,l){if(o&1&&(a(0,"mat-cell"),c(1),S(2,"cmssiteinfo"),S(3,"async"),r()),o&2){let e=l.$implicit;n(),C(" ",g(3,3,g(2,1,e.linkSiteId))," ")}}function ks(o,l){if(o&1&&(a(0,"mat-header-cell",53),c(1),r()),o&2){let e=p();n(),C(" ",e.fieldsInfo.linkUserId==null?null:e.fieldsInfo.linkUserId.fieldTitle," ")}}function Vs(o,l){if(o&1&&(a(0,"mat-cell"),c(1),S(2,"cmsuserinfo"),S(3,"async"),r()),o&2){let e=l.$implicit;n(),C(" ",g(3,3,g(2,1,e.linkUserId))," ")}}function Ns(o,l){if(o&1&&(a(0,"mat-header-cell",53),c(1),r()),o&2){let e=p();n(),C(" ",e.fieldsInfo.linkMemberUserId==null?null:e.fieldsInfo.linkMemberUserId.fieldTitle," ")}}function Bs(o,l){if(o&1&&(a(0,"mat-cell"),c(1),r()),o&2){let e=l.$implicit;n(),C(" ",e.linkMemberUserId," ")}}function Os(o,l){if(o&1&&(a(0,"mat-header-cell",53),c(1),r()),o&2){let e=p();n(),C(" ",e.fieldsInfo.apiNumber==null?null:e.fieldsInfo.apiNumber.fieldTitle," ")}}function Ps(o,l){if(o&1&&(a(0,"mat-cell"),c(1),r()),o&2){let e=l.$implicit;n(),C(" ",e.apiNumber," ")}}function Gs(o,l){if(o&1&&(a(0,"mat-header-cell",53),c(1),r()),o&2){let e=p();n(),C(" ",e.fieldsInfo.fromNumber==null?null:e.fieldsInfo.fromNumber.fieldTitle," ")}}function Fs(o,l){if(o&1&&(a(0,"mat-cell"),c(1),r()),o&2){let e=l.$implicit;n(),C(" ",e.fromNumber," ")}}function Hs(o,l){if(o&1&&(a(0,"mat-header-cell",53),c(1),r()),o&2){let e=p();n(),C(" ",e.fieldsInfo.toNumber==null?null:e.fieldsInfo.toNumber.fieldTitle," ")}}function Ws(o,l){if(o&1&&(a(0,"mat-cell",55),c(1),r()),o&2){let e=l.$implicit;n(),C(" ",e.toNumber," ")}}function Us(o,l){if(o&1&&(a(0,"mat-header-cell",53),c(1),r()),o&2){let e=p();n(),C(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function js(o,l){if(o&1&&(a(0,"mat-cell",56),c(1),S(2,"localeDateTime"),r()),o&2){let e=l.$implicit;n(),C(" ",g(2,1,e.createdDate)," ")}}function qs(o,l){o&1&&(a(0,"mat-header-cell"),c(1),S(2,"translate"),r()),o&2&&(n(),C(" ",g(2,1,"TITLE.OPTION")," "))}function Qs(o,l){if(o&1&&(a(0,"mat-cell",57)(1,"button",58)(2,"mat-icon"),c(3,"more_vert"),r()(),_(4,"mat-menu",null,2),r()),o&2){let e=X(5);n(),h("matMenuTriggerFor",e)}}function zs(o,l){o&1&&_(0,"mat-header-row")}function $s(o,l){if(o&1){let e=L();a(0,"mat-row",59),b("click",function(i){let s=m(e).$implicit,u=p();return d(u.onActionTableRowSelect(s,i))})("rtclick",function(i){let s=m(e).$implicit,u=p();return d(u.onActionTableRowSelect(s,i))}),r()}if(o&2){let e=l.$implicit,t=p();O("ntk-row-selected",e.id===(t.tableRowSelected==null?null:t.tableRowSelected.id))}}var co=class co extends Ct{constructor(e,t,i,s,u,f,y,P,re,Re,Ot,kt,ve){super(t,new oi,kt,f,P);this.coreEnumService=e;this.contentService=t;this.cmsToastrService=i;this.cmsConfirmationDialogService=s;this.activatedRoute=u;this.tokenHelper=f;this.cdr=y;this.translate=P;this.cmsStoreService=re;this.router=Re;this.pageInfo=Ot;this.publicHelper=kt;this.dialog=ve;this.requestLinkSiteId=0;this.requestLinkUserId=0;this.requestLinkDeviceId=0;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new Ke;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["id","linkUserId","linkSiteId","LinkMemberUserId","FromNumber","ToNumber","ApiNumber","createdDate"];this.tabledisplayedColumnsMobileSource=["id","linkUserId","linkSiteId","LinkMemberUserId","FromNumber","ToNumber","ApiNumber","createdDate"];this.dataModelEnumSendMemberStatusTypeResult=new q;this.unsubscribe=[];if(this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkDeviceId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkDeviceId")),this.requestLinkSiteId>0){let k=new G;k.propertyName="LinkCmsSiteId",k.value=this.requestLinkSiteId,this.filteModelContent.filters.push(k)}if(this.requestLinkUserId>0){let k=new G;k.propertyName="linkUserId",k.value=this.requestLinkUserId,this.filteModelContent.filters.push(k)}if(this.requestLinkDeviceId>0){let k=new G;k.propertyName="LinkDeviceId",k.value=this.requestLinkDeviceId,this.filteModelContent.filters.push(k)}this.optionsSearch.parentMethods={onSubmit:k=>this.onSubmitOptionsSearch(k)},this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=Q.Descending,this.optionsSearch.data.filterModelContent=this.filteModelContent,this.optionsSearch.data.filterActionSearchRecordStatusShow=!0,this.tokenHelper.isAdminSite?(this.optionsSearch.data.filterActionSearchLinkUserIdShow=!0,this.optionsSearch.data.filterActionSearchLinkSiteIdShow=!0):(this.optionsSearch.data.filterActionSearchLinkSiteIdShow=!1,this.optionsSearch.data.filterActionSearchLinkUserIdShow=!1)}ngOnInit(){this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=Q.Descending,this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>z(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}filterModelCompiler(e){let t=JSON.parse(JSON.stringify(e));return this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(t.filters=[...this.filterDataModelQueryBuilder]),t}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new oi);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let t=this.filterModelCompiler(this.filteModelContent);if(this.filteModelContent.filterActionSearchRecordStatus>0){let i=new G;i.propertyName="recordStatus",i.value=this.filteModelContent.filterActionSearchRecordStatus,t.filters.push(i)}if(this.filteModelContent.filterActionSearchLinkSiteId>0){let i=new G;i.propertyName="linkSiteId",i.value=this.filteModelContent.filterActionSearchLinkSiteId,t.filters.push(i)}if(this.filteModelContent.filterActionSearchLinkUserId>0){let i=new G;i.propertyName="linkUserId",i.value=this.filteModelContent.filterActionSearchLinkUserId,t.filters.push(i)}this.contentService.ServiceGetAllEditor(t).subscribe({next:i=>{i.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.applyDataGetAllResult(i),this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(i.access)},1e3)):this.cmsToastrService.typeErrorMessage(i.errorMessage),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=Q.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=Q.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=Q.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonViewRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var t="";this.publicHelper.isMobile?t="dialog-fullscreen":t="dialog-min",this.dialog.open(en,{height:"90%",panelClass:t,enterAnimationDuration:J.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:J.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate})}onActionButtonEditRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var t="";this.publicHelper.isMobile?t="dialog-fullscreen":t="dialog-min",this.dialog.open(Zo,{height:"90%",panelClass:t,enterAnimationDuration:J.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:J.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(s=>{this.cmsToastrService.typeErrorSelected(s)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var t="",i="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(s=>{t=s["MESSAGE.Please_Confirm"],i=s["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(t,i).then(s=>{if(s){let u=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(f=>{this.publicHelper.processService.processStart(u,f,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:f=>{f.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(u)},error:f=>{this.cmsToastrService.typeError(f),this.publicHelper.processService.processStop(u,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let t=new Map;this.translate.get("MESSAGE.Active").subscribe(y=>{t.set(y,0)}),this.translate.get("MESSAGE.All").subscribe(y=>{t.set(y,0)});let i=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(y=>{this.publicHelper.processService.processStart(i,y,this.constructorInfoAreaId)});let s=this.filterModelCompiler(this.filteModelContent);this.contentService.ServiceGetCount(s).subscribe({next:y=>{y.isSuccess?(this.translate.get("MESSAGE.All").subscribe(P=>{t.set(P,y.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(t)):this.cmsToastrService.typeErrorMessage(y.errorMessage),this.publicHelper.processService.processStop(i)},error:y=>{this.cmsToastrService.typeError(y),this.publicHelper.processService.processStop(i,!1)}});let u=this.filterModelCompiler(this.filteModelContent),f=new G;f.propertyName="recordStatus",f.value=mt.Available,u.filters.push(f),this.contentService.ServiceGetCount(u).subscribe({next:y=>{y.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(P=>{t.set(P,y.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(t)):this.cmsToastrService.typeErrorMessage(y.errorMessage),this.publicHelper.processService.processStop(i)},error:y=>{this.cmsToastrService.typeError(y),this.publicHelper.processService.processStop(i,!1)}})}onActionButtonViewUserRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkCoreUserId||this.tableRowSelected.linkCoreUserId===0){this.translate.get("MESSAGE.content_does_not_contain_user_information").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}this.router.navigate(["/core/user/edit",this.tableRowSelected.linkCoreUserId])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};co.\u0275fac=function(t){return new(t||co)(v(ee),v(Yt),v(K),v(ot),v(st),v($),v(H),v(W),v(U),v(ct),v(je),v(j),v(Ae))},co.\u0275cmp=V({type:co,selectors:[["app-core-log-member-list"]],standalone:!1,features:[F],decls:73,vars:34,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","recordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","linkSiteId"],["matColumnDef","linkUserId"],["matColumnDef","LinkMemberUserId"],["matColumnDef","ApiNumber"],["matColumnDef","FromNumber"],["matColumnDef","ToNumber"],["class","grid-row-ltr",4,"matCellDef"],["matColumnDef","createdDate"],["style","direction: ltr",4,"matCellDef"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],[1,"grid-row-ltr"],[2,"direction","ltr"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(t,i){if(t&1){let s=L();a(0,"app-cms-html-list",3),A("optionActionGuideNoticeDisplayChange",function(f){return m(s),D(i.viewGuideNotice,f)||(i.viewGuideNotice=f),d(f)}),b("optionOnActionButtonMemoRow",function(){return m(s),d(i.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return m(s),d(i.onActionButtonMemo())})("optionOnActionButtonExport",function(){return m(s),d(i.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return m(s),d(i.onActionButtonPrintRow())}),M(1,4),c(2," -------------------------------------- "),w(),B(3,5)(4,6),M(5,7),I(6,ws,2,0,"a",8),a(7,"a",9),b("click",function(){return m(s),d(i.viewGuideNotice=!i.viewGuideNotice)}),_(8,"i",10),r(),a(9,"a",9),b("click",function(){return m(s),d(i.onActionButtonReload())}),_(10,"i",11),r(),w(),M(11,12),a(12,"a",13),b("click",function(){return m(s),d(i.optionsSearch.data.show=!i.optionsSearch.data.show)}),_(13,"mat-slide-toggle",14),c(14),S(15,"translate"),r(),a(16,"a",13),b("click",function(){return m(s),d(i.onActionButtonStatist())}),_(17,"mat-slide-toggle",14),c(18),S(19,"translate"),r(),w(),B(20,15),M(21,16),I(22,Is,7,3,"div",17),I(23,Es,7,3,"div",17),I(24,ys,7,3,"div",17),a(25,"div",17)(26,"a",18),b("click",function(){return m(s),d(i.onActionButtonViewUserRow(i.tableRowSelected))}),_(27,"i",19)(28,"br"),r(),a(29,"p",20),c(30),S(31,"translate"),r()(),w(),M(32,21),a(33,"app-cms-search-list",22),A("optionsChange",function(f){return m(s),D(i.optionsSearch,f)||(i.optionsSearch=f),d(f)}),r(),a(34,"app-cms-statist-list",22),A("optionsChange",function(f){return m(s),D(i.optionsStatist,f)||(i.optionsStatist=f),d(f)}),r(),w(),M(35,23),a(36,"mat-table",24,0),b("matSortChange",function(){m(s);let f=X(37);return d(i.onTableSortData(f))}),M(38,25),R(39,Ls,2,1,"mat-header-cell",26)(40,Rs,2,1,"mat-cell",27),w(),M(41,28),R(42,Ts,2,1,"mat-header-cell",26)(43,Ds,4,6,"mat-cell",29),w(),M(44,30),R(45,As,2,1,"mat-header-cell",26)(46,xs,4,5,"mat-cell",27),w(),M(47,31),R(48,ks,2,1,"mat-header-cell",26)(49,Vs,4,5,"mat-cell",27),w(),M(50,32),R(51,Ns,2,1,"mat-header-cell",26)(52,Bs,2,1,"mat-cell",27),w(),M(53,33),R(54,Os,2,1,"mat-header-cell",26)(55,Ps,2,1,"mat-cell",27),w(),M(56,34),R(57,Gs,2,1,"mat-header-cell",26)(58,Fs,2,1,"mat-cell",27),w(),M(59,35),R(60,Hs,2,1,"mat-header-cell",26)(61,Ws,2,1,"mat-cell",36),w(),M(62,37),R(63,Us,2,1,"mat-header-cell",26)(64,js,3,3,"mat-cell",38),w(),M(65,39),R(66,qs,3,3,"mat-header-cell",40)(67,Qs,6,1,"mat-cell",41),w(),R(68,zs,1,0,"mat-header-row",42)(69,$s,1,2,"mat-row",43),r(),w(),M(70,44),a(71,"mat-paginator",45,1),b("page",function(f){return m(s),d(i.onTablePageingData(f))}),r(),w(),r()}t&2&&(h("optionsListInfoAreaId",i.constructorInfoAreaId)("optionGuideNoticeKey",""),T("optionActionGuideNoticeDisplay",i.viewGuideNotice),h("optionTreeDisplay",!1)("optionActionRowId",i.tableRowSelected==null?null:i.tableRowSelected.id)("optionActionRowDisplayMenu",i.tableRowSelect2Click)("optionSelectRowItemTitle",i.tableRowSelected==null?null:i.tableRowSelected.id),n(6),E(i.requestLinkSiteId>0?6:-1),n(4),O("rotation360",i.publicHelper.processService.process.inRunArea[i.constructorInfoAreaId]),n(3),h("checked",i.optionsSearch.data.show),n(),C("",g(15,27,"ACTION.SEARCH")," "),n(3),h("checked",i.optionsStatist.data.show),n(),C("",g(19,29,"ACTION.STATIST")," "),n(4),E(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessWatchRow?22:-1),n(),E(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessEditRow?23:-1),n(),E(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessDeleteRow?24:-1),n(6),C(" ",g(31,31,"ACTION.USER")," "),n(3),T("options",i.optionsSearch),n(),T("options",i.optionsStatist),n(2),h("dataSource",i.tableSource),n(32),h("matHeaderRowDef",i.tabledisplayedColumns),n(),h("matRowDefColumns",i.tabledisplayedColumns),n(2),h("length",i.dataModelResult.totalRowCount)("pageIndex",i.dataModelResult.currentPageNumber-1)("pageSize",i.dataModelResult.rowPerPage)("pageSizeOptions",ce(33,Ms)))},dependencies:[ie,De,ye,et,tt,ue,fe,xe,ke,Ve,Be,Fe,Oe,Ne,He,Pe,Ge,We,Ue,_e,Se,qe,Y,lt,N,ft,Nt,it,oe,nt],encapsulation:2});var mo=co;var Ks=()=>[5,10,20,100],Js=(o,l)=>l.id;function Ys(o,l){if(o&1){let e=L();a(0,"div",17)(1,"a",25),b("click",function(){m(e);let i=p();return d(i.onActionButtonEditRow(i.tableRowSelected))}),_(2,"i",26)(3,"br"),r(),a(4,"p",27),c(5),S(6,"translate"),r()()}o&2&&(n(5),C(" ",g(6,1,"ACTION.EDIT")," "))}function Xs(o,l){if(o&1){let e=L();a(0,"div",17)(1,"a",28),b("click",function(){m(e);let i=p();return d(i.onActionButtonDeleteRow(i.tableRowSelected))}),_(2,"i",29)(3,"br"),r(),a(4,"p",27),c(5),S(6,"translate"),r()()}o&2&&(n(5),C(" ",g(6,1,"ACTION.DELETE")," "))}function Zs(o,l){if(o&1){let e=L();a(0,"div",17)(1,"a",30),b("click",function(){m(e);let i=p();return d(i.onActionButtonViewRow(i.tableRowSelected))}),_(2,"i",31)(3,"br"),r(),a(4,"p",27),c(5),S(6,"translate"),r()()}o&2&&(n(5),C(" ",g(6,1,"ACTION.VIEW")," "))}function ec(o,l){if(o&1&&(a(0,"div",38),_(1,"i",40),c(2),r()),o&2){let e=p().$implicit,t=p(2);n(2),be(" ",t.fieldsInfo.id==null?null:t.fieldsInfo.id.fieldTitle,": ",e.id," ")}}function tc(o,l){if(o&1&&(a(0,"div",38),_(1,"i",41),c(2),S(3,"localeDate"),r()),o&2){let e=p().$implicit,t=p(2);n(2),be(" ",t.fieldsInfo.createdDate==null?null:t.fieldsInfo.createdDate.fieldTitle,": ",g(3,2,e.createdDate)," ")}}function ic(o,l){if(o&1&&_(0,"select",43),o&2){let e=p(2).$implicit,t=p(2);h("contentService",t.contentService)("row",e)}}function oc(o,l){if(o&1&&(a(0,"div",38),_(1,"i",42),S(2,"statusIconClass"),I(3,ic,1,2,"select",43),r()),o&2){let e=p().$implicit,t=p(2);n(),h("ngClass",g(2,2,e.recordStatus)),n(2),E(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow&&e.id===(t.tableRowSelected==null?null:t.tableRowSelected.id)?3:-1)}}function nc(o,l){if(o&1&&(a(0,"div",38),_(1,"i",46),c(2),S(3,"localeDate"),r()),o&2){let e=p(2).$implicit,t=p(2);n(2),be(" ",t.fieldsInfo.updatedDate==null?null:t.fieldsInfo.updatedDate.fieldTitle,": ",g(3,2,e.updatedDate)," ")}}function rc(o,l){if(o&1){let e=L();a(0,"div",39),I(1,nc,4,4,"div",38),a(2,"div",38)(3,"span",44),b("click",function(i){return m(e),p(3).onActionCopied(),d(i.stopPropagation())}),_(4,"i",45),r(),c(5),r()()}if(o&2){let e=p().$implicit;n(),E(e.updatedDate?1:-1),n(2),h("cdkCopyToClipboard",e.id.toString()),n(2),C(" ID: ",e.id," ")}}function ac(o,l){if(o&1){let e=L();a(0,"div",33),b("click",function(i){let s=m(e).$implicit,u=p(2);return d(u.onActionTableRowSelect(s,i))})("rtclick",function(i){let s=m(e).$implicit,u=p(2);return d(u.onActionTableRowSelect(s,i))})("mouseenter",function(){let i=m(e).$implicit,s=p(2);return d(s.onActionTableRowMouseEnter(i))})("mouseleave",function(){let i=m(e).$implicit,s=p(2);return d(s.onActionTableRowMouseLeave(i))}),a(1,"div",34),_(2,"i",35),S(3,"statusIconClass"),r(),a(4,"div",36)(5,"div",37),c(6),r(),I(7,ec,3,2,"div",38),I(8,tc,4,4,"div",38),I(9,oc,4,4,"div",38),I(10,rc,6,3,"div",39),r()()}if(o&2){let e=l.$implicit,t=p(2);O("selected",e.id===(t.tableRowSelected==null?null:t.tableRowSelected.id))("bg-fade-highlight-light",e.id===(t.tableRowSelected==null?null:t.tableRowSelected.id)),$e("aria-label",e.id),n(2),h("ngClass",g(3,11,e.recordStatus)),n(4),x("ID: "+e.id),n(),E(e.id?7:-1),n(),E(e.createdDate?8:-1),n(),E(e.recordStatus!==void 0?9:-1),n(),E(t.getRowExpanded(e)?10:-1)}}function lc(o,l){if(o&1&&(a(0,"div",21),ge(1,ac,11,13,"div",32,Js),r()),o&2){let e=p();n(),he(e.dataModelResult.listItems)}}function sc(o,l){o&1&&(a(0,"div",22),c(1),S(2,"translate"),r()),o&2&&(n(),x(g(2,1,"MESSAGE.NoRecord")))}var Ii=class Ii extends mo{};Ii.\u0275fac=(()=>{let l;return function(t){return(l||(l=Te(Ii)))(t||Ii)}})(),Ii.\u0275cmp=V({type:Ii,selectors:[["app-core-log-member-list-mobile"]],standalone:!1,features:[F],decls:36,vars:30,consts:[["paginator",""],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionOnScrollNearBottom","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplay","optionActionRowDisplayMenu","optionActionRowDisplayMenuAct","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-maximize","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-minimize","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],[1,"col-4"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],[1,"cms-m-list"],[1,"cms-m-empty"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],["role","button","tabindex","0",1,"cms-m-list-item","border-highlight",3,"selected","bg-fade-highlight-light"],["role","button","tabindex","0",1,"cms-m-list-item","border-highlight",3,"click","rtclick","mouseenter","mouseleave"],[1,"cms-m-list-item-image-placeholder"],["aria-hidden","true",3,"ngClass"],[1,"cms-m-list-item-content"],[1,"cms-m-list-item-title"],[1,"cms-m-list-item-subtitle"],[1,"cms-m-list-item-expanded"],["aria-hidden","true",1,"fa-solid","fa-hashtag"],["aria-hidden","true",1,"fa-solid","fa-calendar"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none","margin-left","8px",3,"contentService","row"],[1,"navi-icon","pointer",3,"click","cdkCopyToClipboard"],[1,"flaticon2-copy"],["aria-hidden","true",1,"fa-solid","fa-calendar-check"]],template:function(e,t){if(e&1){let i=L();a(0,"app-cms-html-list-mobile",1),A("optionActionGuideNoticeDisplayChange",function(u){return m(i),D(t.viewGuideNotice,u)||(t.viewGuideNotice=u),d(u)}),b("optionOnActionButtonMemoRow",function(){return m(i),d(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return m(i),d(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return m(i),d(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return m(i),d(t.onActionButtonPrintRow())})("optionOnScrollNearBottom",function(){return m(i),d(t.onActionLoadNextPage())}),B(1,2)(2,3)(3,4),M(4,5),a(5,"a",6),b("click",function(){return m(i),d(t.viewGuideNotice=!t.viewGuideNotice)}),_(6,"i",7),r(),a(7,"a",6),b("click",function(){return m(i),d(t.onActionButtonReload())}),_(8,"i",8),r(),a(9,"a",9),b("click",function(){return m(i),d(t.onActionGridExpandRows(!0))}),_(10,"i",10),r(),a(11,"a",9),b("click",function(){return m(i),d(t.onActionGridExpandRows(!1))}),_(12,"i",11),r(),w(),M(13,12),a(14,"a",13),b("click",function(){return m(i),d(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),_(15,"mat-slide-toggle",14),c(16),S(17,"translate"),r(),a(18,"a",13),b("click",function(){return m(i),d(t.onActionButtonStatist())}),_(19,"mat-slide-toggle",14),c(20),S(21,"translate"),r(),w(),B(22,15),M(23,16),I(24,Ys,7,3,"div",17),I(25,Xs,7,3,"div",17),I(26,Zs,7,3,"div",17),w(),M(27,18),a(28,"app-cms-search-list",19),A("optionsChange",function(u){return m(i),D(t.optionsSearch,u)||(t.optionsSearch=u),d(u)}),r(),a(29,"app-cms-statist-list",19),A("optionsChange",function(u){return m(i),D(t.optionsStatist,u)||(t.optionsStatist=u),d(u)}),r(),w(),M(30,20),I(31,lc,3,0,"div",21)(32,sc,3,3,"div",22),w(),M(33,23),a(34,"mat-paginator",24,0),b("page",function(u){return m(i),d(t.onTablePageingData(u))}),r(),w(),r()}e&2&&(h("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey","core-log.member.list"),T("optionActionGuideNoticeDisplay",t.viewGuideNotice),h("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplay",(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionActionRowDisplayMenuAct",t.tableRowSelectActionMenuClick)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),n(8),O("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),n(7),h("checked",t.optionsSearch.data.show),n(),C(" ",g(17,25,"ACTION.SEARCH")),n(3),h("checked",t.optionsStatist.data.show),n(),C(" ",g(21,27,"ACTION.STATIST")),n(4),E(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0?24:-1),n(),E(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0?25:-1),n(),E(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessWatchRow&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0?26:-1),n(2),T("options",t.optionsSearch),n(),T("options",t.optionsStatist),n(2),E(!(t.dataModelResult==null||t.dataModelResult.listItems==null)&&t.dataModelResult.listItems.length?31:32),n(3),h("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",ce(29,Ks)))},dependencies:[ie,pe,ue,fe,Je,_e,Se,Qe,Y,_t,N,yt,oe],encapsulation:2});var tn=Ii;var cc=["vform"];function mc(o,l){if(o&1){let e=L();a(0,"div",7)(1,"button",8),b("click",function(){m(e);let i=p();return d(i.onFormCancel())}),_(2,"i",9),c(3),S(4,"translate"),r()()}o&2&&(n(3),C(" ",g(4,1,"ACTION.CANCEL")," "))}var po=class po{constructor(l,e,t,i,s,u){this.data=l;this.dialogRef=e;this.cmsStoreService=t;this.cdr=i;this.publicHelper=s;this.translate=u;this.constructorInfoAreaId=this.constructor.name;this.tokenInfo=new dt;this.formInfo=new pt;this.dataModel={};this.fieldsInfo=new Map;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.dataModel=l?.item??{}}ngOnInit(){this.translate.get("TITLE.VIEW").subscribe(l=>{let e=this.dataModel?.appInfo?` ${this.dataModel.appInfo}`:"";this.formInfo.formTitle=`${l}${e}`}),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(l=>l.tokenInfoStore).subscribe(l=>z(this,null,function*(){this.tokenInfo=l,this.cdr.markForCheck()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(l=>l.unsubscribe())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};po.\u0275fac=function(e){return new(e||po)(v(de),v(me),v(U),v(H),v(j),v(W))},po.\u0275cmp=V({type:po,selectors:[["app-core-log-micro-service-ping-view"]],viewQuery:function(e,t){if(e&1&&ae(cc,5),e&2){let i;le(i=se())&&(t.formGroup=i.first)}},standalone:!1,decls:9,vars:6,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection","loader-container"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[3,"formInfo"],[1,"ntk-cms-html-card-footer"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,t){e&1&&(a(0,"div",0),c(1),r(),a(2,"div",1),_(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),r(),a(5,"div",4),_(6,"app-cms-form-result-message",5),r(),a(7,"div",6),I(8,mc,5,3,"div",7),r()),e&2&&(n(),C(" ",t.formInfo.formTitle,`
`),n(2),h("optionsInfoAreaId",t.constructorInfoAreaId),n(),h("dataModel",t.dataModel)("optionMethod",1),n(2),h("formInfo",t.formInfo),n(2),E(t.formInfo.submitButtonEnabled?8:-1))},dependencies:[Ce,Et,ut,N],encapsulation:2});var on=po;function dc(o,l){if(o&1&&(a(0,"div",16),c(1),r()),o&2){let e=p();n(),x(e.errorMessage)}}function pc(o,l){if(o&1&&(a(0,"mat-header-cell",32),c(1),S(2,"translate"),r()),o&2){let e=p();n(),C(" ",(e.fieldsInfo.appInfo==null?null:e.fieldsInfo.appInfo.fieldTitle)||g(2,1,"ROUTE.CORELOG.MICROSERVICEPING_APPINFO")," ")}}function uc(o,l){if(o&1&&(a(0,"mat-cell"),c(1),r()),o&2){let e=l.$implicit;n(),C(" ",e.appInfo||"-"," ")}}function fc(o,l){if(o&1&&(a(0,"mat-header-cell",32),c(1),S(2,"translate"),r()),o&2){let e=p();n(),C(" ",(e.fieldsInfo.rttMs==null?null:e.fieldsInfo.rttMs.fieldTitle)||g(2,1,"ROUTE.CORELOG.MICROSERVICEPING_RTT")," ")}}function Cc(o,l){if(o&1&&(a(0,"mat-cell"),c(1),r()),o&2){let e=l.$implicit;n(),C(" ",e.rttMs??"-"," ms ")}}function _c(o,l){if(o&1&&(a(0,"mat-header-cell",32),c(1),S(2,"translate"),r()),o&2){let e=p();n(),C(" ",(e.fieldsInfo.pingTimestamp==null?null:e.fieldsInfo.pingTimestamp.fieldTitle)||g(2,1,"ROUTE.CORELOG.MICROSERVICEPING_PINGTIME")," ")}}function Sc(o,l){if(o&1&&(a(0,"mat-cell",33),c(1),r()),o&2){let e=l.$implicit,t=p();n(),C(" ",t.getPingTimestamp(e)," ")}}function gc(o,l){if(o&1&&(a(0,"mat-header-cell",32),c(1),S(2,"translate"),r()),o&2){let e=p();n(),C(" ",(e.fieldsInfo.pongTimestamp==null?null:e.fieldsInfo.pongTimestamp.fieldTitle)||g(2,1,"ROUTE.CORELOG.MICROSERVICEPING_PONGTIME")," ")}}function hc(o,l){if(o&1&&(a(0,"mat-cell",33),c(1),r()),o&2){let e=l.$implicit,t=p();n(),C(" ",t.getPongTimestamp(e)," ")}}function bc(o,l){o&1&&(a(0,"mat-header-cell"),c(1),S(2,"translate"),r()),o&2&&(n(),C(" ",g(2,1,"TITLE.OPTION")," "))}function vc(o,l){if(o&1){let e=L();a(0,"mat-cell",34)(1,"button",35),b("click",function(i){return m(e),d(i.stopPropagation())}),a(2,"mat-icon"),c(3,"more_vert"),r()(),a(4,"mat-menu",null,1)(6,"button",36),b("click",function(){let i=m(e).$implicit,s=p();return d(s.onActionButtonViewRow(i))}),a(7,"mat-icon"),c(8,"visibility"),r(),a(9,"span"),c(10),S(11,"translate"),r()()()()}if(o&2){let e=X(5);n(),h("matMenuTriggerFor",e),n(9),x(g(11,2,"ACTION.VIEW"))}}function Mc(o,l){o&1&&_(0,"mat-header-row")}function wc(o,l){if(o&1){let e=L();a(0,"mat-row",37),b("click",function(i){let s=m(e).$implicit,u=p();return d(u.onActionTableRowSelect(s,i))})("rtclick",function(i){let s=m(e).$implicit,u=p();return d(u.onActionTableRowSelect(s,i))}),r()}if(o&2){let e=l.$implicit,t=p();O("ntk-row-selected",e.id===(t.tableRowSelected==null?null:t.tableRowSelected.id))}}function Ic(o,l){o&1&&(a(0,"p",30),c(1),S(2,"translate"),r()),o&2&&(n(),C(" ",g(2,1,"ROUTE.CORELOG.MICROSERVICEPING_EMPTY")," "))}var uo=class uo{constructor(l,e,t,i,s,u,f,y){this.pingService=l;this.tokenHelper=e;this.translate=t;this.publicHelper=i;this.pageInfo=s;this.cmsStoreService=u;this.cdr=f;this.dialog=y;this.constructorInfoAreaId=this.constructor.name;this.pingList=[];this.tableSource=new qo([]);this.tableRowSelected=null;this.statusLoading=!1;this.errorMessage=null;this.viewGuideNotice=!1;this.fieldsInfo=new Map;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["appInfo","rttMs","pingTimestamp","pongTimestamp","Action"];this.tabledisplayedColumnsMobileSource=["appInfo","rttMs","pingTimestamp","pongTimestamp"];this.tableRowSelect2Click=!1;this.destroy$=new xi;this.publicHelper.processService.cdr=this.cdr}ngOnInit(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.cmsStoreService.getStateAll.tokenInfoStore),this.loadPingList()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}getListFromResponse(l){if(!l)return[];let e=l,t=e.listItems??e.ListItems??e.items??e.Items??e.data??e.Data;return(Array.isArray(t)?t:[]).map(s=>this.normalizePingItem(s))}normalizePingItem(l){if(!l||typeof l!="object")return{};let e=l,t=(i,s)=>e[i]??e[s];return{id:t("id","Id"),requestId:t("requestId","RequestId")??"",appInfo:t("appInfo","AppInfo")??"",pingTimestamp:t("pingTimestamp","PingTimestamp"),pongTimestamp:t("pongTimestamp","PongTimestamp"),rttMs:t("rttMs","RttMs")??0}}loadPingList(){this.statusLoading=!0,this.errorMessage=null;let l=new Ke;l.accessLoad=!0,this.pingService.ServiceGetAll(l).pipe(Ht(this.destroy$)).subscribe({next:e=>{this.statusLoading=!1,e?.isSuccess?(this.pingList=this.getListFromResponse(e),this.tableSource.data=this.pingList,this.errorMessage=null):(this.pingList=[],this.tableSource.data=[],this.errorMessage=e?.errorMessage??"\u062E\u0637\u0627 \u062F\u0631 \u062F\u0631\u06CC\u0627\u0641\u062A \u0644\u06CC\u0633\u062A Ping"),this.cdr.markForCheck()},error:e=>{this.statusLoading=!1,this.pingList=[],this.tableSource.data=[],this.errorMessage=e?.message||e?.error?.message||"\u062E\u0637\u0627 \u062F\u0631 \u0627\u0631\u062A\u0628\u0627\u0637 \u0628\u0627 \u0633\u0631\u0648\u0631",this.cdr.markForCheck()}})}onActionTableRowSelect(l,e=null){if(e&&e.preventDefault(),this.tableRowSelected=l,e?.button===2){setTimeout(()=>{this.tableRowSelect2Click=!0},100);return}this.cdr.markForCheck()}onTableSortData(l){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===l.active&&(this.tableSource.sort.start==="asc"?l.start="desc":this.tableSource.sort.start==="desc"?l.start="asc":l.start="desc"),this.tableSource.sort=l,this.cdr.markForCheck()}getPingTimestamp(l){let e=l?.pingTimestamp;if(e==null)return"-";let t=typeof e=="string"?new Date(e):e;return isNaN(t.getTime())?"-":t.toLocaleString("fa-IR")}getPongTimestamp(l){let e=l?.pongTimestamp;if(e==null)return"-";let t=typeof e=="string"?new Date(e):e;return isNaN(t.getTime())?"-":t.toLocaleString("fa-IR")}trackById(l,e){return e?.id??e?.requestId??`idx-${l}`}onActionButtonReload(){this.loadPingList()}onActionButtonViewRow(l=this.tableRowSelected){if(!l)return;let e=this.publicHelper.isMobile?"dialog-fullscreen":"dialog-min";this.dialog.open(on,{height:"90%",panelClass:e,enterAnimationDuration:J.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:J.cmsViewConfig.exitAnimationDuration,data:{item:l}})}onActionGridExpandRows(l){this.cdr.markForCheck()}};uo.\u0275fac=function(e){return new(e||uo)(v(Wo),v($),v(W),v(j),v(je),v(U),v(H),v(Ae))},uo.\u0275cmp=V({type:uo,selectors:[["app-core-log-micro-service-ping-list"]],standalone:!1,decls:36,vars:15,consts:[["tableSort","matSort"],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click","disabled"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],["cms-action-main",""],["cms-action-row",""],["cms-action-area",""],["cms-body",""],[1,"alert","alert-error"],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","appInfo"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","rttMs"],["matColumnDef","pingTimestamp"],["style","direction: ltr",4,"matCellDef"],["matColumnDef","pongTimestamp"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],[1,"empty-message"],["cms-footer",""],["mat-sort-header",""],[2,"direction","ltr"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"click","matMenuTriggerFor"],["mat-menu-item","",3,"click"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(e,t){if(e&1){let i=L();a(0,"app-cms-html-list",2),A("optionActionGuideNoticeDisplayChange",function(u){return m(i),D(t.viewGuideNotice,u)||(t.viewGuideNotice=u),d(u)}),B(1,3)(2,4)(3,5),M(4,6),a(5,"a",7),b("click",function(){return m(i),d(t.viewGuideNotice=!t.viewGuideNotice)}),_(6,"i",8),r(),a(7,"button",9),b("click",function(){return m(i),d(t.onActionButtonReload())}),_(8,"i",10),r(),w(),B(9,11)(10,12)(11,13)(12,14),M(13,15),I(14,dc,2,1,"div",16),a(15,"mat-table",17,0),b("matSortChange",function(){m(i);let u=X(16);return d(t.onTableSortData(u))}),M(17,18),R(18,pc,3,3,"mat-header-cell",19)(19,uc,2,1,"mat-cell",20),w(),M(20,21),R(21,fc,3,3,"mat-header-cell",19)(22,Cc,2,1,"mat-cell",20),w(),M(23,22),R(24,_c,3,3,"mat-header-cell",19)(25,Sc,2,1,"mat-cell",23),w(),M(26,24),R(27,gc,3,3,"mat-header-cell",19)(28,hc,2,1,"mat-cell",23),w(),M(29,25),R(30,bc,3,3,"mat-header-cell",26)(31,vc,12,4,"mat-cell",27),w(),R(32,Mc,1,0,"mat-header-row",28)(33,wc,1,2,"mat-row",29),r(),I(34,Ic,3,3,"p",30),w(),B(35,31),r()}e&2&&(h("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),T("optionActionGuideNoticeDisplay",t.viewGuideNotice),h("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.appInfo),n(7),h("disabled",t.statusLoading),n(),O("rotation360",t.statusLoading),n(6),E(t.errorMessage?14:-1),n(),h("dataSource",t.tableSource),n(17),h("matHeaderRowDef",t.tabledisplayedColumns),n(),h("matRowDefColumns",t.tabledisplayedColumns),n(),E(!t.statusLoading&&!(t.pingList!=null&&t.pingList.length)?34:-1))},dependencies:[De,ye,et,$n,tt,xe,ke,Ve,Be,Fe,Oe,Ne,He,Pe,Ge,We,Ue,qe,Y,N],styles:[".alert[_ngcontent-%COMP%]{padding:.75rem 1rem;border-radius:8px;margin-bottom:1rem}.alert.alert-error[_ngcontent-%COMP%]{background:#fef2f2;color:#b91c1c;border:1px solid #fecaca}.empty-message[_ngcontent-%COMP%]{padding:2rem;text-align:center;color:#64748b}"]});var fo=uo;function Ec(o,l){if(o&1){let e=L();a(0,"div",15)(1,"button",22),b("click",function(){m(e);let i=p();return d(i.onActionButtonViewRow(i.tableRowSelected))}),_(2,"i",23)(3,"br"),r(),a(4,"p",24),c(5),S(6,"translate"),r()()}o&2&&(n(5),C(" ",g(6,1,"ACTION.VIEW")," "))}function yc(o,l){if(o&1&&(a(0,"div",18),c(1),r()),o&2){let e=p();n(),x(e.errorMessage)}}function Lc(o,l){if(o&1&&(a(0,"div",31),_(1,"i",33),c(2),r()),o&2){let e=p().$implicit;n(2),C(" RTT: ",e.rttMs," ms ")}}function Rc(o,l){if(o&1&&(a(0,"div",31),_(1,"i",34),c(2),r()),o&2){let e=p().$implicit,t=p(2);n(2),C(" ",t.getPingTimestamp(e)," ")}}function Tc(o,l){if(o&1){let e=L();a(0,"div",31)(1,"span",35),b("click",function(i){return m(e),d(i.stopPropagation())}),_(2,"i",36),r(),c(3),r()}if(o&2){let e=p(2).$implicit;n(),h("cdkCopyToClipboard",(e.id==null?null:e.id.toString())||""),n(2),C(" ID: ",e.id," ")}}function Dc(o,l){if(o&1&&(a(0,"div",31),_(1,"i",37),c(2),r()),o&2){let e=p(2).$implicit;n(2),C(" Pong: ",e.pongTimestamp," ")}}function Ac(o,l){if(o&1&&(a(0,"div",32),I(1,Tc,4,2,"div",31),I(2,Dc,3,1,"div",31),r()),o&2){let e=p().$implicit;n(),E(e!=null&&e.id?1:-1),n(),E(e!=null&&e.pongTimestamp?2:-1)}}function xc(o,l){if(o&1){let e=L();a(0,"div",26),b("click",function(i){let s=m(e).$implicit,u=p(2);return d(u.onActionTableRowSelect(s,i))})("rtclick",function(i){let s=m(e).$implicit,u=p(2);return d(u.onActionTableRowSelect(s,i))}),a(1,"div",27),_(2,"i",28),r(),a(3,"div",29)(4,"div",30),c(5),r(),I(6,Lc,3,1,"div",31),I(7,Rc,3,1,"div",31),I(8,Ac,3,2,"div",32),r()()}if(o&2){let e=l.$implicit,t=p(2);O("selected",e.id===(t.tableRowSelected==null?null:t.tableRowSelected.id))("bg-fade-highlight-light",e.id===(t.tableRowSelected==null?null:t.tableRowSelected.id)),$e("aria-label",e==null?null:e.appInfo),n(5),x((e==null?null:e.appInfo)||"-"),n(),E((e==null?null:e.rttMs)!==void 0?6:-1),n(),E(t.getPingTimestamp(e)?7:-1),n(),E(e.id===(t.tableRowSelected==null?null:t.tableRowSelected.id)?8:-1)}}function kc(o,l){if(o&1&&(a(0,"div",19),ge(1,xc,9,9,"div",25,Po().trackById,!0),r()),o&2){let e=p();n(),he(e.pingList)}}function Vc(o,l){o&1&&(a(0,"div",20),c(1),S(2,"translate"),r()),o&2&&(n(),C(" ",g(2,1,"ROUTE.CORELOG.MICROSERVICEPING_EMPTY")," "))}var Ei=class Ei extends fo{};Ei.\u0275fac=(()=>{let l;return function(t){return(l||(l=Te(Ei)))(t||Ei)}})(),Ei.\u0275cmp=V({type:Ei,selectors:[["app-core-log-micro-service-ping-list-mobile"]],standalone:!1,features:[F],decls:23,vars:14,consts:[[3,"optionActionGuideNoticeDisplayChange","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplay","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click","disabled"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-maximize","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-minimize","font-18",2,"color","#ffffff"],["cms-action-header-end",""],["cms-action-main",""],["cms-action-row",""],[1,"col-4"],["cms-action-area",""],["cms-body",""],[1,"alert","alert-error"],[1,"cms-m-list"],[1,"cms-m-empty"],["cms-footer",""],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["role","button","tabindex","0",1,"cms-m-list-item","border-highlight",3,"selected","bg-fade-highlight-light"],["role","button","tabindex","0",1,"cms-m-list-item","border-highlight",3,"click","rtclick"],[1,"cms-m-list-item-image-placeholder"],["aria-hidden","true",1,"fa-solid","fa-signal"],[1,"cms-m-list-item-content"],[1,"cms-m-list-item-title"],[1,"cms-m-list-item-subtitle"],[1,"cms-m-list-item-expanded"],["aria-hidden","true",1,"fa-solid","fa-clock"],["aria-hidden","true",1,"fa-solid","fa-calendar"],[1,"navi-icon","pointer",3,"click","cdkCopyToClipboard"],[1,"flaticon2-copy"],["aria-hidden","true",1,"fa-solid","fa-calendar-check"]],template:function(e,t){e&1&&(a(0,"app-cms-html-list-mobile",0),A("optionActionGuideNoticeDisplayChange",function(s){return D(t.viewGuideNotice,s)||(t.viewGuideNotice=s),s}),B(1,1)(2,2)(3,3),M(4,4),a(5,"a",5),b("click",function(){return t.viewGuideNotice=!t.viewGuideNotice}),_(6,"i",6),r(),a(7,"button",7),b("click",function(){return t.onActionButtonReload()}),_(8,"i",8),r(),a(9,"a",9),b("click",function(){return t.onActionGridExpandRows(!0)}),_(10,"i",10),r(),a(11,"a",9),b("click",function(){return t.onActionGridExpandRows(!1)}),_(12,"i",11),r(),w(),B(13,12)(14,13),M(15,14),I(16,Ec,7,3,"div",15),w(),B(17,16),M(18,17),I(19,yc,2,1,"div",18),I(20,kc,3,0,"div",19)(21,Vc,3,3,"div",20),w(),B(22,21),r()),e&2&&(h("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey","core-log.micro-service-ping.list"),T("optionActionGuideNoticeDisplay",t.viewGuideNotice),h("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplay",(t.tableRowSelected==null||t.tableRowSelected.appInfo==null?null:t.tableRowSelected.appInfo.length)>0)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.appInfo),n(7),h("disabled",t.statusLoading),n(),O("rotation360",t.statusLoading),n(8),E(t.tableRowSelected?16:-1),n(3),E(t.errorMessage?19:-1),n(),E(t.pingList!=null&&t.pingList.length?20:21))},dependencies:[Je,Qe,Y,N],encapsulation:2});var nn=Ei;var Nc=["vform"];function Bc(o,l){if(o&1&&(a(0,"div",7),c(1),r()),o&2){let e=p();n(),x(e.errorMessage)}}function Oc(o,l){if(o&1&&(a(0,"mat-chip",24),c(1),r()),o&2){let e=l.$implicit;n(),x(e)}}function Pc(o,l){if(o&1&&(a(0,"div",18),ge(1,Oc,2,1,"mat-chip",24,Kt),r()),o&2){let e=p();n(),he(e.dataModel.activeQueues)}}function Gc(o,l){o&1&&(a(0,"span",19),c(1,"\u0647\u06CC\u0686 Queue \u0641\u0639\u0627\u0644\u06CC \u0648\u062C\u0648\u062F \u0646\u062F\u0627\u0631\u062F"),r())}function Fc(o,l){if(o&1&&(a(0,"div",2)(1,"mat-card",11)(2,"mat-card-header")(3,"mat-card-title"),c(4,"\u0622\u0645\u0627\u0631 \u0639\u0645\u0644\u06A9\u0631\u062F"),r()(),a(5,"mat-card-content")(6,"pre",25),c(7),S(8,"json"),r()()()()),o&2){let e=p();n(7),x(g(8,1,e.dataModel.operationStatisticsJson))}}function Hc(o,l){if(o&1&&(a(0,"div",2)(1,"mat-card",11)(2,"mat-card-header")(3,"mat-card-title"),c(4,"\u0648\u0636\u0639\u06CC\u062A SMS Provider"),r()(),a(5,"mat-card-content")(6,"pre",25),c(7),S(8,"json"),r()()()()),o&2){let e=p();n(7),x(g(8,1,e.dataModel.smsProviderStatusJson))}}function Wc(o,l){if(o&1){let e=L();a(0,"div",23)(1,"button",26),b("click",function(){m(e);let i=p();return d(i.onFormCancel())}),_(2,"i",27),c(3),S(4,"translate"),r()()}o&2&&(n(3),C(" ",g(4,1,"ACTION.CANCEL")," "))}var Co=class Co{constructor(l,e,t,i,s,u,f){this.data=l;this.dialogRef=e;this.cmsStoreService=t;this.cdr=i;this.publicHelper=s;this.translate=u;this.statusService=f;this.constructorInfoAreaId=this.constructor.name;this.tokenInfo=new dt;this.formInfo=new pt;this.dataModel={};this.fieldsInfo=new Map;this.unsubscribe=[];this.destroy$=new xi;this.pingLoading=!1;this.commandLoading=!1;this.errorMessage=null;this.MicroServiceCommandTypeEnum=Ut;this.publicHelper.processService.cdr=this.cdr,this.dataModel=l?.item??{}}ngOnInit(){this.translate.get("TITLE.VIEW").subscribe(l=>{let e=this.dataModel?.appInfo?` ${this.dataModel.appInfo}`:"";this.formInfo.formTitle=`${l}${e}`}),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(l=>l.tokenInfoStore).subscribe(l=>z(this,null,function*(){this.tokenInfo=l,this.cdr.markForCheck()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(l=>l.unsubscribe()),this.destroy$.next(),this.destroy$.complete()}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}onActionPing(){if(!this.dataModel)return;let l=this.dataModel.routeTarget||this.dataModel.appInfo;l&&(this.pingLoading=!0,this.errorMessage=null,this.statusService.ServicePing(l,15).pipe(Ht(this.destroy$)).subscribe({next:e=>{this.pingLoading=!1,e?.isSuccess?(this.errorMessage=null,alert(`Ping \u0645\u0648\u0641\u0642 - RTT: ${e.item?.rttMs||0}ms`)):this.errorMessage=e?.errorMessage||"Ping \u0646\u0627\u0645\u0648\u0641\u0642",this.cdr.markForCheck()},error:e=>{this.pingLoading=!1,this.errorMessage=e?.message||e?.error?.message||"\u062E\u0637\u0627 \u062F\u0631 Ping",this.cdr.markForCheck()}}))}onActionReloadConfig(){if(!this.dataModel)return;let l=this.dataModel.routeTarget||this.dataModel.appInfo;l&&(this.commandLoading=!0,this.errorMessage=null,this.statusService.ServiceSendCommand(l,{commandType:Ut.ReloadConfig}).pipe(Ht(this.destroy$)).subscribe({next:e=>{this.commandLoading=!1,e?.isSuccess?(this.errorMessage=null,alert("\u062F\u0633\u062A\u0648\u0631 Reload Config \u0628\u0627 \u0645\u0648\u0641\u0642\u06CC\u062A \u0627\u0631\u0633\u0627\u0644 \u0634\u062F")):this.errorMessage=e?.errorMessage||"\u0627\u0631\u0633\u0627\u0644 \u062F\u0633\u062A\u0648\u0631 \u0646\u0627\u0645\u0648\u0641\u0642",this.cdr.markForCheck()},error:e=>{this.commandLoading=!1,this.errorMessage=e?.message||e?.error?.message||"\u062E\u0637\u0627 \u062F\u0631 \u0627\u0631\u0633\u0627\u0644 \u062F\u0633\u062A\u0648\u0631",this.cdr.markForCheck()}}))}onActionBack(){this.onFormCancel()}};Co.\u0275fac=function(e){return new(e||Co)(v(de),v(me),v(U),v(H),v(j),v(W),v(Oi))},Co.\u0275cmp=V({type:Co,selectors:[["app-core-log-micro-service-status-view"]],viewQuery:function(e,t){if(e&1&&ae(Nc,5),e&2){let i;le(i=se())&&(t.formGroup=i.first)}},standalone:!1,decls:99,vars:27,consts:[[1,"ntk-cms-html-card-header"],[1,"row"],[1,"col-12"],[1,"col-12","text-end"],["type","button","mat-raised-button","","color","primary",1,"m-1",3,"click","disabled"],["type","button","mat-raised-button","","color","accent",1,"m-1",3,"click","disabled"],["type","button","mat-button","",1,"m-1",3,"click"],[1,"alert","alert-danger","m-2"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection","loader-container"],[3,"optionsInfoAreaId"],[1,"col-12","col-md-6"],[1,"m-2"],["matListItemTitle",""],["matListItemLine","",1,"font-bold"],["matListItemLine",""],["color","primary"],["color","accent"],["color","warn"],[1,"mt-2"],[1,"text-muted"],[1,"ntk-cms-html-card-message"],[3,"formInfo"],[1,"ntk-cms-html-card-footer"],[1,"form-actions"],["color","primary",1,"mr-1","mb-1"],[1,"p-3","bg-light","border","rounded"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,t){e&1&&(a(0,"div",0)(1,"div",1)(2,"div",2)(3,"h4"),c(4),r()()(),a(5,"div",1)(6,"div",3)(7,"button",4),b("click",function(){return t.onActionPing()}),a(8,"mat-icon"),c(9,"send"),r(),c(10),r(),a(11,"button",5),b("click",function(){return t.onActionReloadConfig()}),a(12,"mat-icon"),c(13,"refresh"),r(),c(14),r(),a(15,"button",6),b("click",function(){return t.onActionBack()}),a(16,"mat-icon"),c(17,"arrow_back"),r(),c(18," \u0628\u0627\u0632\u06AF\u0634\u062A "),r()()(),I(19,Bc,2,1,"div",7),r(),a(20,"div",8),_(21,"app-progress-spinner",9),a(22,"div",1)(23,"div",10)(24,"mat-card",11)(25,"mat-card-header")(26,"mat-card-title"),c(27,"\u0627\u0637\u0644\u0627\u0639\u0627\u062A \u0627\u0635\u0644\u06CC"),r()(),a(28,"mat-card-content")(29,"mat-list")(30,"mat-list-item")(31,"span",12),c(32,"App Info:"),r(),a(33,"span",13),c(34),r()(),a(35,"mat-list-item")(36,"span",12),c(37,"App Version:"),r(),a(38,"span",14),c(39),r()(),a(40,"mat-list-item")(41,"span",12),c(42,"App Location:"),r(),a(43,"span",14),c(44),r()(),a(45,"mat-list-item")(46,"span",12),c(47,"App Info Start:"),r(),a(48,"span",14),c(49),S(50,"date"),r()(),a(51,"mat-list-item")(52,"span",12),c(53,"Create Date Message:"),r(),a(54,"span",14),c(55),S(56,"date"),r()()()()()(),a(57,"div",10)(58,"mat-card",11)(59,"mat-card-header")(60,"mat-card-title"),c(61,"\u0627\u0637\u0644\u0627\u0639\u0627\u062A \u0645\u0633\u06CC\u0631\u06CC\u0627\u0628\u06CC \u0648 RabbitMQ"),r()(),a(62,"mat-card-content")(63,"mat-list")(64,"mat-list-item")(65,"span",12),c(66,"Instance Identifier:"),r(),a(67,"span",14)(68,"mat-chip",15),c(69),r()()(),a(70,"mat-list-item")(71,"span",12),c(72,"Runtime Identity:"),r(),a(73,"span",14)(74,"mat-chip",16),c(75),r()()(),a(76,"mat-list-item")(77,"span",12),c(78,"Route Target:"),r(),a(79,"span",14)(80,"mat-chip",17),c(81),r()()(),a(82,"mat-list-item")(83,"span",12),c(84,"RabbitMQ UserName:"),r(),a(85,"span",14),c(86),r()(),a(87,"mat-list-item")(88,"span",12),c(89,"Queue\u0647\u0627\u06CC \u0641\u0639\u0627\u0644:"),r(),a(90,"span",14),I(91,Pc,3,0,"div",18)(92,Gc,2,0,"span",19),r()()()()()(),I(93,Fc,9,3,"div",2),I(94,Hc,9,3,"div",2),r()(),a(95,"div",20),_(96,"app-cms-form-result-message",21),r(),a(97,"div",22),I(98,Wc,5,3,"div",23),r()),e&2&&(n(4),x(t.formInfo.formTitle),n(3),h("disabled",t.pingLoading),n(3),C(" ",t.pingLoading?"\u062F\u0631 \u062D\u0627\u0644 Ping...":"Ping"," "),n(),h("disabled",t.commandLoading),n(3),C(" ",t.commandLoading?"\u062F\u0631 \u062D\u0627\u0644 \u0627\u0631\u0633\u0627\u0644...":"Reload Config"," "),n(5),E(t.errorMessage?19:-1),n(2),h("optionsInfoAreaId",t.constructorInfoAreaId),n(13),x(t.dataModel.appInfo||"-"),n(5),C("v",t.dataModel.appVersion||"-"),n(5),x(t.dataModel.appLocation||"-"),n(5),C(" ",t.dataModel.appInfoStart?Wt(50,21,t.dataModel.appInfoStart,"yyyy-MM-dd HH:mm:ss"):"-"," "),n(6),C(" ",t.dataModel.createDateMessage?Wt(56,24,t.dataModel.createDateMessage,"yyyy-MM-dd HH:mm:ss"):"-"," "),n(14),x(t.dataModel.instanceIdentifier||"-"),n(6),x(t.dataModel.runtimeIdentity||"-"),n(6),x(t.dataModel.routeTarget||"-"),n(5),x(t.dataModel.rabbitMQUserName||"-"),n(5),E(t.dataModel.activeQueues&&t.dataModel.activeQueues.length>0?91:92),n(2),E(t.dataModel.operationStatisticsJson?93:-1),n(),E(t.dataModel.smsProviderStatusJson?94:-1),n(2),h("formInfo",t.formInfo),n(2),E(t.formInfo.submitButtonEnabled?98:-1))},dependencies:[Vn,Nn,On,Pn,Bn,Gn,ye,Qn,zn,qn,jn,Ce,ut,Ln,yn,N],encapsulation:2});var rn=Co;function Uc(o,l){if(o&1&&(a(0,"div",36)(1,"div",37)(2,"strong"),c(3),r()()()),o&2){let e=p(2);n(3),C("RTT: ",e.pingResult.rttMs??"-"," ms")}}function jc(o,l){if(o&1&&(a(0,"div",36)(1,"div",38),c(2),r()()),o&2){let e=p(2);n(2),x(e.errorMessage)}}function qc(o,l){if(o&1){let e=L();a(0,"div",23)(1,"button",24),b("click",function(){m(e);let i=p();return d(i.onActionButtonViewRow(i.tableRowSelected))}),_(2,"i",25)(3,"br"),r(),a(4,"p",26),c(5),S(6,"translate"),r()(),a(7,"div",23)(8,"button",8),b("click",function(){m(e);let i=p();return d(i.onPing())}),_(9,"i",27)(10,"br"),r(),a(11,"p",26),c(12),S(13,"translate"),r()(),a(14,"div",23)(15,"button",28),b("click",function(){m(e);let i=p();return d(i.onSendCommand(i.MicroServiceCommandTypeEnum.PauseStatus))}),_(16,"i",29)(17,"br"),r(),a(18,"p",26),c(19),r()(),a(20,"div",23)(21,"button",30),b("click",function(){m(e);let i=p();return d(i.onSendCommand(i.MicroServiceCommandTypeEnum.ResumeStatus))}),_(22,"i",31)(23,"br"),r(),a(24,"p",26),c(25),r()(),a(26,"div",23)(27,"button",32),b("click",function(){m(e);let i=p();return d(i.onSendCommand(i.MicroServiceCommandTypeEnum.ReloadConfig))}),_(28,"i",33)(29,"br"),r(),a(30,"p",26),c(31),r()(),a(32,"div",23)(33,"button",34),b("click",function(){m(e);let i=p();return d(i.onSendCommand(i.MicroServiceCommandTypeEnum.UpdateSettings))}),_(34,"i",35)(35,"br"),r(),a(36,"p",26),c(37),r()(),I(38,Uc,4,1,"div",36),I(39,jc,3,1,"div",36)}if(o&2){let e=p();n(5),C(" ",g(6,13,"ACTION.VIEW")," "),n(3),h("disabled",e.pingLoading),n(4),C(" ",e.pingLoading?g(13,15,"ROUTE.CORELOG.MICROSERVICEMONITOR_PINGING"):"Ping"," "),n(3),h("disabled",e.commandLoading),n(4),C(" ",e.getCommandLabel(e.MicroServiceCommandTypeEnum.PauseStatus)," "),n(2),h("disabled",e.commandLoading),n(4),C(" ",e.getCommandLabel(e.MicroServiceCommandTypeEnum.ResumeStatus)," "),n(2),h("disabled",e.commandLoading),n(4),C(" ",e.getCommandLabel(e.MicroServiceCommandTypeEnum.ReloadConfig)," "),n(2),h("disabled",e.commandLoading),n(4),C(" ",e.getCommandLabel(e.MicroServiceCommandTypeEnum.UpdateSettings)," "),n(),E(e.pingResult?38:-1),n(),E(e.errorMessage?39:-1)}}function Qc(o,l){if(o&1&&(a(0,"div",18),c(1),r()),o&2){let e=p();n(),x(e.errorMessage)}}function zc(o,l){o&1&&(a(0,"div",19),_(1,"i",39),a(2,"p"),c(3),S(4,"translate"),r()()),o&2&&(n(3),x(g(4,1,"ACTION.LOADING")))}function $c(o,l){o&1&&(a(0,"mat-header-cell",56),c(1),S(2,"translate"),r()),o&2&&(n(),C(" ",g(2,1,"ROUTE.CORELOG.MICROSERVICEMONITOR_APPINFO")," "))}function Kc(o,l){if(o&1&&(a(0,"mat-cell"),c(1),r()),o&2){let e=l.$implicit;n(),x(e.appInfo||"-")}}function Jc(o,l){o&1&&(a(0,"mat-header-cell",56),c(1," Instance Identifier "),r())}function Yc(o,l){if(o&1&&(a(0,"mat-cell")(1,"span",57),c(2),r()()),o&2){let e=l.$implicit;n(2),x(e.instanceIdentifier||"-")}}function Xc(o,l){o&1&&(a(0,"mat-header-cell",56),c(1," Runtime Identity "),r())}function Zc(o,l){if(o&1&&(a(0,"mat-cell")(1,"span",58),c(2),r()()),o&2){let e=l.$implicit;n(2),x(e.runtimeIdentity||"-")}}function em(o,l){o&1&&(a(0,"mat-header-cell",56),c(1," RabbitMQ UserName "),r())}function tm(o,l){if(o&1&&(a(0,"mat-cell"),c(1),r()),o&2){let e=l.$implicit;n(),C(" ",e.rabbitMQUserName||"-"," ")}}function im(o,l){o&1&&(a(0,"mat-header-cell"),c(1," Queue\u0647\u0627\u06CC \u0641\u0639\u0627\u0644 "),r())}function om(o,l){o&1&&(a(0,"span"),c(1,", "),r())}function nm(o,l){if(o&1&&(a(0,"span",62),c(1),R(2,om,2,0,"span",59),r()),o&2){let e=l.$implicit,t=l.last;n(),C(" ",e),n(),h("ngIf",!t)}}function rm(o,l){if(o&1&&(a(0,"span"),R(1,nm,3,2,"span",61),r()),o&2){let e=p().$implicit;n(),h("ngForOf",e.activeQueues)}}function am(o,l){o&1&&(a(0,"span",63),c(1," - "),r())}function lm(o,l){if(o&1&&(a(0,"mat-cell"),R(1,rm,2,1,"span",59)(2,am,2,0,"span",60),r()),o&2){let e=l.$implicit;n(),h("ngIf",e.activeQueues&&e.activeQueues.length>0),n(),h("ngIf",!e.activeQueues||e.activeQueues.length===0)}}function sm(o,l){o&1&&(a(0,"mat-header-cell",56),c(1),S(2,"translate"),r()),o&2&&(n(),C(" ",g(2,1,"ROUTE.CORELOG.MICROSERVICEMONITOR_VERSION")," "))}function cm(o,l){if(o&1&&(a(0,"mat-cell"),c(1),r()),o&2){let e=l.$implicit;n(),C("v",e.appVersion||"-")}}function mm(o,l){o&1&&(a(0,"mat-header-cell"),c(1),S(2,"translate"),r()),o&2&&(n(),C(" ",g(2,1,"ROUTE.CORELOG.MICROSERVICEMONITOR_STATUS")," "))}function dm(o,l){if(o&1&&(a(0,"mat-cell")(1,"span",64),_(2,"span",65),c(3),S(4,"translate"),S(5,"translate"),r()()),o&2){let e=l.$implicit,t=p(2);n(2),O("online",t.isOnline(e)),n(),C(" ",t.isOnline(e)?g(4,3,"ROUTE.CORELOG.MICROSERVICEMONITOR_ONLINE"):g(5,5,"ROUTE.CORELOG.MICROSERVICEMONITOR_OFFLINE")," ")}}function pm(o,l){o&1&&(a(0,"mat-header-cell",56),c(1),S(2,"translate"),r()),o&2&&(n(),C(" ",g(2,1,"ROUTE.CORELOG.MICROSERVICEMONITOR_LASTUPDATE")," "))}function um(o,l){if(o&1&&(a(0,"mat-cell"),c(1),r()),o&2){let e=l.$implicit,t=p(2);n(),x(t.getLastUpdate(e))}}function fm(o,l){o&1&&(a(0,"mat-header-cell"),c(1),S(2,"translate"),r()),o&2&&(n(),C(" ",g(2,1,"TITLE.OPTION")," "))}function Cm(o,l){if(o&1){let e=L();a(0,"mat-cell",66)(1,"button",67),S(2,"translate"),b("click",function(){let i=m(e).$implicit,s=p(2);return d(s.onActionView(i))}),a(3,"mat-icon"),c(4,"visibility"),r()(),a(5,"button",68),b("click",function(){let i=m(e).$implicit,s=p(2);return d(s.onActionPing(i))}),a(6,"mat-icon"),c(7,"send"),r()()()}if(o&2){let e=p(2);n(),h("matTooltip",In(g(2,3,"ACTION.VIEW"))),n(4),h("disabled",e.pingLoading)}}function _m(o,l){o&1&&_(0,"mat-header-row")}function Sm(o,l){if(o&1){let e=L();a(0,"mat-row",69),b("click",function(i){let s=m(e).$implicit,u=p(2);return d(u.onActionTableRowSelect(s,i))})("rtclick",function(i){let s=m(e).$implicit,u=p(2);return d(u.onActionTableRowSelect(s,i))}),r()}if(o&2){let e=l.$implicit,t=p(2);O("ntk-row-selected",e.id===(t.tableRowSelected==null?null:t.tableRowSelected.id))}}function gm(o,l){if(o&1){let e=L();a(0,"mat-table",40,0),b("matSortChange",function(){m(e);let i=X(1),s=p();return d(s.onTableSortData(i))}),M(2,41),R(3,$c,3,3,"mat-header-cell",42)(4,Kc,2,1,"mat-cell",43),w(),M(5,44),R(6,Jc,2,0,"mat-header-cell",42)(7,Yc,3,1,"mat-cell",43),w(),M(8,45),R(9,Xc,2,0,"mat-header-cell",42)(10,Zc,3,1,"mat-cell",43),w(),M(11,46),R(12,em,2,0,"mat-header-cell",42)(13,tm,2,1,"mat-cell",43),w(),M(14,47),R(15,im,2,0,"mat-header-cell",48)(16,lm,3,2,"mat-cell",43),w(),M(17,49),R(18,sm,3,3,"mat-header-cell",42)(19,cm,2,1,"mat-cell",43),w(),M(20,50),R(21,mm,3,3,"mat-header-cell",48)(22,dm,6,7,"mat-cell",43),w(),M(23,51),R(24,pm,3,3,"mat-header-cell",42)(25,um,2,1,"mat-cell",43),w(),M(26,52),R(27,fm,3,3,"mat-header-cell",48)(28,Cm,8,5,"mat-cell",53),w(),R(29,_m,1,0,"mat-header-row",54)(30,Sm,1,2,"mat-row",55),r()}if(o&2){let e=p();h("dataSource",e.tableSource),n(29),h("matHeaderRowDef",e.tabledisplayedColumns),n(),h("matRowDefColumns",e.tabledisplayedColumns)}}function hm(o,l){o&1&&(a(0,"div",21),c(1),S(2,"translate"),r()),o&2&&(n(),C(" ",g(2,1,"ROUTE.CORELOG.MICROSERVICEMONITOR_EMPTY")," "))}var _o=class _o{constructor(l,e,t,i,s,u,f,y){this.statusService=l;this.tokenHelper=e;this.translate=t;this.publicHelper=i;this.pageInfo=s;this.cmsStoreService=u;this.cdr=f;this.dialog=y;this.constructorInfoAreaId=this.constructor.name;this.statusList=[];this.tableSource=new qo([]);this.tableRowSelected=null;this.pingResult=null;this.pingLoading=!1;this.commandLoading=!1;this.statusLoading=!1;this.errorMessage=null;this.pollIntervalSeconds=10;this.appInfoFilter="";this.viewGuideNotice=!1;this.fieldsInfo=new Map;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["appInfo","instanceIdentifier","runtimeIdentity","rabbitMQUserName","activeQueues","appVersion","status","lastUpdate","Action"];this.tabledisplayedColumnsMobileSource=["appInfo","instanceIdentifier","runtimeIdentity","appVersion","status","lastUpdate"];this.MicroServiceCommandTypeEnum=Ut;this.pollSubscription=null;this.destroy$=new xi;this.tableRowSelect2Click=!1;this.publicHelper.processService.cdr=this.cdr}ngOnInit(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.cmsStoreService.getStateAll.tokenInfoStore),this.loadStatus(),this.startPolling()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.stopPolling()}getProp(l,e,t){if(!l||typeof l!="object")return;let i=l;return i[e]??i[t]}normalizeStatusItem(l){if(!l||typeof l!="object")return{};let e=l;return bn(hn({},e),{id:this.getProp(e,"id","Id"),appInfo:this.getProp(e,"appInfo","AppInfo")??"",appVersion:this.getProp(e,"appVersion","AppVersion")??"",appLocation:this.getProp(e,"appLocation","AppLocation")??"",appInfoStart:this.getProp(e,"appInfoStart","AppInfoStart"),createDateMessage:this.getProp(e,"createDateMessage","CreateDateMessage"),operationStatisticsJson:this.getProp(e,"operationStatisticsJson","OperationStatisticsJson")??"",smsProviderStatusJson:this.getProp(e,"smsProviderStatusJson","SmsProviderStatusJson")??"",instanceIdentifier:this.getProp(e,"instanceIdentifier","InstanceIdentifier"),runtimeIdentity:this.getProp(e,"runtimeIdentity","RuntimeIdentity"),activeQueuesJson:this.getProp(e,"activeQueuesJson","ActiveQueuesJson"),rabbitMQUserName:this.getProp(e,"rabbitMQUserName","RabbitMQUserName")})}getListFromResponse(l){if(!l)return[];let e=[];if(Array.isArray(l))e=l;else if(typeof l=="object"){let t=l,i=t.listItems??t.ListItems??t.items??t.Items??t.data??t.Data;e=Array.isArray(i)?i:[]}return e.map(t=>this.normalizeStatusItem(t))}isSuccessResponse(l){if(!l||typeof l!="object")return!1;let e=l;return e.isSuccess===!0||e.IsSuccess===!0}getErrorMessage(l){if(!l||typeof l!="object")return"\u062E\u0637\u0627 \u062F\u0631 \u062F\u0631\u06CC\u0627\u0641\u062A \u0648\u0636\u0639\u06CC\u062A";let e=l;return e.errorMessage??e.ErrorMessage??"\u062E\u0637\u0627 \u062F\u0631 \u062F\u0631\u06CC\u0627\u0641\u062A \u0648\u0636\u0639\u06CC\u062A"}loadStatus(){let l=this.appInfoFilter?.trim();this.errorMessage=null,(l?this.statusService.ServiceGetStatusByAppInfoFilter(l):this.statusService.ServiceGetAllStatus()).pipe(Ht(this.destroy$)).subscribe({next:t=>{this.statusLoading=!1,this.isSuccessResponse(t)?(this.statusList=this.getListFromResponse(t),this.tableSource.data=this.statusList,this.errorMessage=null):(this.statusList=[],this.tableSource.data=[],this.errorMessage=this.getErrorMessage(t)),this.cdr.markForCheck()},error:t=>{this.statusLoading=!1,this.statusList=[],this.tableSource.data=[],this.errorMessage=t?.message||t?.error?.message||"\u062E\u0637\u0627 \u062F\u0631 \u0627\u0631\u062A\u0628\u0627\u0637 \u0628\u0627 \u0633\u0631\u0648\u0631",this.cdr.markForCheck()}})}startPolling(){this.stopPolling(),this.pollSubscription=vn(this.pollIntervalSeconds*1e3).pipe(Mn(0)).subscribe(()=>this.loadStatus())}stopPolling(){this.pollSubscription&&(this.pollSubscription.unsubscribe(),this.pollSubscription=null)}onActionTableRowSelect(l,e=null){if(e&&e.preventDefault(),this.tableRowSelected=l,this.pingResult=null,e?.button===2){setTimeout(()=>{this.tableRowSelect2Click=!0},100);return}this.cdr.markForCheck()}onPing(){let l=this.tableRowSelected;if(!l)return;let e=l.routeTarget||l.appInfo;e&&(this.pingLoading=!0,this.pingResult=null,this.errorMessage=null,this.statusService.ServicePing(e,15).pipe(Ht(this.destroy$)).subscribe({next:t=>{if(this.pingLoading=!1,t?.isSuccess){let i=t.item??t?.listItems?.[0];this.pingResult=i??null,this.errorMessage=null}else this.errorMessage=t?.errorMessage||"Ping \u0646\u0627\u0645\u0648\u0641\u0642";this.cdr.markForCheck()},error:t=>{this.pingLoading=!1,this.errorMessage=t?.message||t?.error?.message||"\u062E\u0637\u0627 \u062F\u0631 Ping",this.cdr.markForCheck()}}))}onSendCommand(l){let e=this.tableRowSelected;if(!e)return;let t=e.routeTarget||e.appInfo;t&&(this.commandLoading=!0,this.errorMessage=null,this.statusService.ServiceSendCommand(t,{commandType:l}).pipe(Ht(this.destroy$)).subscribe({next:i=>{this.commandLoading=!1,i?.isSuccess?(this.errorMessage=null,this.loadStatus()):this.errorMessage=i?.errorMessage||"\u0627\u0631\u0633\u0627\u0644 \u062F\u0633\u062A\u0648\u0631 \u0646\u0627\u0645\u0648\u0641\u0642",this.cdr.markForCheck()},error:i=>{this.commandLoading=!1,this.errorMessage=i?.message||i?.error?.message||"\u062E\u0637\u0627 \u062F\u0631 \u0627\u0631\u0633\u0627\u0644 \u062F\u0633\u062A\u0648\u0631",this.cdr.markForCheck()}}))}onApplyFilter(){this.loadStatus()}onTableSortData(l){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===l.active&&(this.tableSource.sort.start==="asc"?l.start="desc":this.tableSource.sort.start==="desc"?l.start="asc":l.start="desc"),this.tableSource.sort=l,this.cdr.markForCheck()}getAppInfoStart(l){let e=l?.appInfoStart;if(e==null)return"-";let t=typeof e=="string"?new Date(e):e;return isNaN(t.getTime())?"-":t.toLocaleString("fa-IR")}getLastUpdate(l){let e=l?.createDateMessage;if(e==null)return"-";let t=typeof e=="string"?new Date(e):e;return isNaN(t.getTime())?"-":t.toLocaleString("fa-IR")}getCommandLabel(l){return{[Ut.PauseStatus]:"\u062A\u0648\u0642\u0641 \u0648\u0636\u0639\u06CC\u062A",[Ut.ResumeStatus]:"\u0627\u0632 \u0633\u0631\u06AF\u06CC\u0631\u06CC \u0648\u0636\u0639\u06CC\u062A",[Ut.ReloadConfig]:"\u0628\u0627\u0631\u06AF\u0630\u0627\u0631\u06CC \u0645\u062C\u062F\u062F \u062A\u0646\u0638\u06CC\u0645\u0627\u062A",[Ut.UpdateSettings]:"\u0628\u0647\u200C\u0631\u0648\u0632\u0631\u0633\u0627\u0646\u06CC \u062A\u0646\u0638\u06CC\u0645\u0627\u062A"}[l]??""}trackById(l,e){return e?.id??e?.appInfo??`idx-${l}`}isOnline(l){let e=l?.createDateMessage;if(e==null)return!1;let t=typeof e=="string"?new Date(e):e;return isNaN(t.getTime())?!1:Date.now()-t.getTime()<12e4}onActionButtonReload(){this.loadStatus()}onActionButtonViewRow(l=this.tableRowSelected){if(!l)return;let e=this.publicHelper.isMobile?"dialog-fullscreen":"dialog-min";this.dialog.open(rn,{height:"90%",panelClass:e,enterAnimationDuration:J.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:J.cmsViewConfig.exitAnimationDuration,data:{item:l}})}onActionView(l){this.onActionButtonViewRow(l)}onActionPing(l){this.tableRowSelected=l,this.onPing()}onActionGridExpandRows(l){this.cdr.markForCheck()}};_o.\u0275fac=function(e){return new(e||_o)(v(Oi),v($),v(W),v(j),v(je),v(U),v(H),v(Ae))},_o.\u0275cmp=V({type:_o,selectors:[["app-core-log-micro-service-status-list"]],standalone:!1,decls:26,vars:20,consts:[["tableSort","matSort"],[3,"optionActionGuideNoticeDisplayChange","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click","disabled"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],[1,"filter-group","m-1"],["type","text",1,"form-control",2,"display","inline-block","width","auto",3,"ngModelChange","ngModel","placeholder"],["type","button",1,"btn","btn-primary","m-1",3,"click"],["cms-action-header-end",""],["cms-action-main",""],["cms-action-row",""],["cms-action-area",""],["cms-body",""],[1,"alert","alert-error"],[1,"text-center","p-4"],["matSort","",3,"dataSource"],[1,"cms-m-empty"],["cms-footer",""],[1,"col-4"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-signal","font-18",2,"color","#ffffff"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click","disabled"],[1,"fa-solid","fa-pause","font-18",2,"color","#ffffff"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue",3,"click","disabled"],[1,"fa-solid","fa-play","font-18",2,"color","#ffffff"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"click","disabled"],[1,"fa-solid","fa-rotate","font-18",2,"color","#ffffff"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-yellow",3,"click","disabled"],[1,"fa-solid","fa-gear","font-18",2,"color","#ffffff"],[1,"col-12"],[1,"ping-result","p-2","bg-success","text-white","rounded"],[1,"alert","alert-danger"],[1,"fa-solid","fa-spinner","fa-spin","font-24"],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","appInfo"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","instanceIdentifier"],["matColumnDef","runtimeIdentity"],["matColumnDef","rabbitMQUserName"],["matColumnDef","activeQueues"],[4,"matHeaderCellDef"],["matColumnDef","appVersion"],["matColumnDef","status"],["matColumnDef","lastUpdate"],["matColumnDef","Action"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["mat-sort-header",""],[1,"badge","badge-info"],[1,"badge","badge-secondary"],[4,"ngIf"],["class","text-muted",4,"ngIf"],["class","badge badge-success mr-1",4,"ngFor","ngForOf"],[1,"badge","badge-success","mr-1"],[1,"text-muted"],[1,"status-badge"],[1,"dot"],[1,"Action"],["type","button","mat-icon-button","",3,"click","matTooltip"],["type","button","mat-icon-button","","color","primary","matTooltip","Ping",3,"click","disabled"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(e,t){e&1&&(a(0,"app-cms-html-list",1),A("optionActionGuideNoticeDisplayChange",function(s){return D(t.viewGuideNotice,s)||(t.viewGuideNotice=s),s}),B(1,2)(2,3)(3,4),M(4,5),a(5,"a",6),b("click",function(){return t.viewGuideNotice=!t.viewGuideNotice}),_(6,"i",7),r(),a(7,"button",8),b("click",function(){return t.onActionButtonReload()}),_(8,"i",9),r(),a(9,"div",10)(10,"input",11),S(11,"translate"),A("ngModelChange",function(s){return D(t.appInfoFilter,s)||(t.appInfoFilter=s),s}),r(),a(12,"button",12),b("click",function(){return t.onApplyFilter()}),c(13),S(14,"translate"),r()(),w(),B(15,13)(16,14),M(17,15),I(18,qc,40,17),w(),B(19,16),M(20,17),I(21,Qc,2,1,"div",18),I(22,zc,5,3,"div",19)(23,gm,31,3,"mat-table",20)(24,hm,3,3,"div",21),w(),B(25,22),r()),e&2&&(h("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),T("optionActionGuideNoticeDisplay",t.viewGuideNotice),h("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.appInfo),n(7),h("disabled",t.statusLoading),n(),O("rotation360",t.statusLoading),n(2),T("ngModel",t.appInfoFilter),h("placeholder",g(11,16,"ROUTE.CORELOG.MICROSERVICEMONITOR_FILTER")),n(3),C(" ",g(14,18,"ROUTE.CORELOG.MICROSERVICEMONITOR_APPLY")," "),n(5),E(t.tableRowSelected?18:-1),n(3),E(t.errorMessage&&!(t.statusList!=null&&t.statusList.length)?21:-1),n(),E(t.statusLoading?22:t.statusList!=null&&t.statusList.length?23:t.statusLoading?-1:24))},dependencies:[En,Fo,Ye,Xe,Ze,De,ye,xe,ke,Ve,Be,Fe,Oe,Ne,He,Pe,Ge,We,Ue,Fn,qe,Y,N],styles:[".filter-input[_ngcontent-%COMP%]{padding:.5rem .75rem;border:1px solid #e0e0e0;border-radius:8px;background:#fff;color:#1a1a1a;min-width:200px;font-size:.9rem}.filter-group[_ngcontent-%COMP%]{display:flex;gap:.5rem;align-items:center}.filter-input[_ngcontent-%COMP%]{padding:.5rem .75rem;border:1px solid var(--monitor-border);border-radius:8px;background:var(--monitor-card);color:var(--monitor-text);min-width:200px;font-size:.9rem}.filter-input[_ngcontent-%COMP%]::placeholder{color:#94a3b8}.alert[_ngcontent-%COMP%]{padding:.75rem 1rem;border-radius:8px;margin-bottom:1rem}.alert.alert-error[_ngcontent-%COMP%]{background:#fef2f2;color:#b91c1c;border:1px solid #fecaca}.status-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.35rem;font-size:.75rem}.status-badge[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]{width:8px;height:8px;border-radius:50%;background:#ef4444}.status-badge[_ngcontent-%COMP%]   .dot.online[_ngcontent-%COMP%]{background:#22c55e;animation:_ngcontent-%COMP%_pulse 2s infinite}@keyframes _ngcontent-%COMP%_pulse{0%,to{opacity:1}50%{opacity:.5}}.empty-message[_ngcontent-%COMP%]{padding:2rem;text-align:center;color:#64748b}.ping-result[_ngcontent-%COMP%]{margin-top:.5rem;padding:.5rem;background:#22c55e1a;border-radius:8px;color:#22c55e;text-align:center}"]});var So=_o;function bm(o,l){if(o&1&&(a(0,"div",37)(1,"div",38)(2,"strong"),c(3),r()()()),o&2){let e=p(2);n(3),C("RTT: ",e.pingResult.rttMs??"-"," ms")}}function vm(o,l){if(o&1){let e=L();a(0,"div",24)(1,"button",25),b("click",function(){m(e);let i=p();return d(i.onActionButtonViewRow(i.tableRowSelected))}),_(2,"i",26)(3,"br"),r(),a(4,"p",27),c(5),S(6,"translate"),r()(),a(7,"div",24)(8,"button",7),b("click",function(){m(e);let i=p();return d(i.onPing())}),_(9,"i",28)(10,"br"),r(),a(11,"p",27),c(12),S(13,"translate"),r()(),a(14,"div",24)(15,"button",29),b("click",function(){m(e);let i=p();return d(i.onSendCommand(i.MicroServiceCommandTypeEnum.PauseStatus))}),_(16,"i",30)(17,"br"),r(),a(18,"p",27),c(19),r()(),a(20,"div",24)(21,"button",31),b("click",function(){m(e);let i=p();return d(i.onSendCommand(i.MicroServiceCommandTypeEnum.ResumeStatus))}),_(22,"i",32)(23,"br"),r(),a(24,"p",27),c(25),r()(),a(26,"div",24)(27,"button",33),b("click",function(){m(e);let i=p();return d(i.onSendCommand(i.MicroServiceCommandTypeEnum.ReloadConfig))}),_(28,"i",34)(29,"br"),r(),a(30,"p",27),c(31),r()(),a(32,"div",24)(33,"button",35),b("click",function(){m(e);let i=p();return d(i.onSendCommand(i.MicroServiceCommandTypeEnum.UpdateSettings))}),_(34,"i",36)(35,"br"),r(),a(36,"p",27),c(37),r()(),I(38,bm,4,1,"div",37)}if(o&2){let e=p();n(5),C(" ",g(6,12,"ACTION.VIEW")," "),n(3),h("disabled",e.pingLoading),n(4),C(" ",e.pingLoading?g(13,14,"ROUTE.CORELOG.MICROSERVICEMONITOR_PINGING"):"Ping"," "),n(3),h("disabled",e.commandLoading),n(4),C(" ",e.getCommandLabel(e.MicroServiceCommandTypeEnum.PauseStatus)," "),n(2),h("disabled",e.commandLoading),n(4),C(" ",e.getCommandLabel(e.MicroServiceCommandTypeEnum.ResumeStatus)," "),n(2),h("disabled",e.commandLoading),n(4),C(" ",e.getCommandLabel(e.MicroServiceCommandTypeEnum.ReloadConfig)," "),n(2),h("disabled",e.commandLoading),n(4),C(" ",e.getCommandLabel(e.MicroServiceCommandTypeEnum.UpdateSettings)," "),n(),E(e.pingResult?38:-1)}}function Mm(o,l){if(o&1&&(a(0,"div",20),c(1),r()),o&2){let e=p();n(),x(e.errorMessage)}}function wm(o,l){if(o&1&&(a(0,"div",45),_(1,"i",49),c(2),r()),o&2){let e=p().$implicit;n(2),C(" v",e.appVersion," ")}}function Im(o,l){if(o&1&&(a(0,"div",45),_(1,"i",50),c(2),r()),o&2){let e=p().$implicit,t=p(2);n(2),C(" ",t.getLastUpdate(e)," ")}}function Em(o,l){if(o&1){let e=L();a(0,"div",45)(1,"span",51),b("click",function(i){return m(e),d(i.stopPropagation())}),_(2,"i",52),r(),c(3),r()}if(o&2){let e=p(2).$implicit;n(),h("cdkCopyToClipboard",(e.id==null?null:e.id.toString())||""),n(2),C(" ID: ",e.id," ")}}function ym(o,l){if(o&1&&(a(0,"div",45),_(1,"i",53),c(2),r()),o&2){let e=p(2).$implicit;n(2),C(" Instance: ",e.instanceIdentifier," ")}}function Lm(o,l){if(o&1&&(a(0,"div",45),_(1,"i",54),c(2),r()),o&2){let e=p(2).$implicit;n(2),C(" Runtime: ",e.runtimeIdentity," ")}}function Rm(o,l){if(o&1&&(a(0,"div",48),I(1,Em,4,2,"div",45),I(2,ym,3,1,"div",45),I(3,Lm,3,1,"div",45),r()),o&2){let e=p().$implicit;n(),E(e!=null&&e.id?1:-1),n(),E(e!=null&&e.instanceIdentifier?2:-1),n(),E(e!=null&&e.runtimeIdentity?3:-1)}}function Tm(o,l){if(o&1){let e=L();a(0,"div",40),b("click",function(i){let s=m(e).$implicit,u=p(2);return d(u.onActionTableRowSelect(s,i))})("rtclick",function(i){let s=m(e).$implicit,u=p(2);return d(u.onActionTableRowSelect(s,i))}),a(1,"div",41),_(2,"i",42),S(3,"statusIconClass"),r(),a(4,"div",43)(5,"div",44),c(6),r(),a(7,"div",45)(8,"span",46),_(9,"span",47),c(10),S(11,"translate"),S(12,"translate"),r()(),I(13,wm,3,1,"div",45),I(14,Im,3,1,"div",45),I(15,Rm,4,3,"div",48),r()()}if(o&2){let e=l.$implicit,t=p(2);O("selected",e.id===(t.tableRowSelected==null?null:t.tableRowSelected.id))("bg-fade-highlight-light",e.id===(t.tableRowSelected==null?null:t.tableRowSelected.id)),$e("aria-label",e==null?null:e.appInfo),n(2),h("ngClass",g(3,13,e.recordStatus)),n(4),x((e==null?null:e.appInfo)||"-"),n(3),O("online",t.isOnline(e)),n(),C(" ",t.isOnline(e)?g(11,15,"ROUTE.CORELOG.MICROSERVICEMONITOR_ONLINE"):g(12,17,"ROUTE.CORELOG.MICROSERVICEMONITOR_OFFLINE")," "),n(3),E(e!=null&&e.appVersion?13:-1),n(),E(t.getLastUpdate(e)?14:-1),n(),E(e.id===(t.tableRowSelected==null?null:t.tableRowSelected.id)?15:-1)}}function Dm(o,l){if(o&1&&(a(0,"div",21),ge(1,Tm,16,19,"div",39,Po().trackById,!0),r()),o&2){let e=p();n(),he(e.statusList)}}function Am(o,l){o&1&&(a(0,"div",22),c(1),S(2,"translate"),r()),o&2&&(n(),C(" ",g(2,1,"ROUTE.CORELOG.MICROSERVICEMONITOR_EMPTY")," "))}var yi=class yi extends So{};yi.\u0275fac=(()=>{let l;return function(t){return(l||(l=Te(yi)))(t||yi)}})(),yi.\u0275cmp=V({type:yi,selectors:[["app-core-log-micro-service-status-list-mobile"]],standalone:!1,features:[F],decls:29,vars:21,consts:[[3,"optionActionGuideNoticeDisplayChange","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplay","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click","disabled"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-maximize","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-minimize","font-18",2,"color","#ffffff"],[1,"filter-group"],["type","text",1,"filter-input",3,"ngModelChange","ngModel","placeholder"],["type","button",1,"btn","btn-primary",3,"click"],["cms-action-header-end",""],["cms-action-main",""],["cms-action-row",""],["cms-action-area",""],["cms-body",""],[1,"alert","alert-error"],[1,"cms-m-list"],[1,"cms-m-empty"],["cms-footer",""],[1,"col-4"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-signal","font-18",2,"color","#ffffff"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click","disabled"],[1,"fa-solid","fa-pause","font-18",2,"color","#ffffff"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue",3,"click","disabled"],[1,"fa-solid","fa-play","font-18",2,"color","#ffffff"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"click","disabled"],[1,"fa-solid","fa-rotate","font-18",2,"color","#ffffff"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-yellow",3,"click","disabled"],[1,"fa-solid","fa-gear","font-18",2,"color","#ffffff"],[1,"col-12"],[1,"ping-result"],["role","button","tabindex","0",1,"cms-m-list-item","border-highlight",3,"selected","bg-fade-highlight-light"],["role","button","tabindex","0",1,"cms-m-list-item","border-highlight",3,"click","rtclick"],[1,"cms-m-list-item-image-placeholder"],["aria-hidden","true",3,"ngClass"],[1,"cms-m-list-item-content"],[1,"cms-m-list-item-title"],[1,"cms-m-list-item-subtitle"],[1,"status-badge"],[1,"dot"],[1,"cms-m-list-item-expanded"],["aria-hidden","true",1,"fa-solid","fa-code-branch"],["aria-hidden","true",1,"fa-solid","fa-calendar"],[1,"navi-icon","pointer",3,"click","cdkCopyToClipboard"],[1,"flaticon2-copy"],["aria-hidden","true",1,"fa-solid","fa-fingerprint"],["aria-hidden","true",1,"fa-solid","fa-id-card"]],template:function(e,t){e&1&&(a(0,"app-cms-html-list-mobile",0),A("optionActionGuideNoticeDisplayChange",function(s){return D(t.viewGuideNotice,s)||(t.viewGuideNotice=s),s}),B(1,1)(2,2)(3,3),M(4,4),a(5,"a",5),b("click",function(){return t.viewGuideNotice=!t.viewGuideNotice}),_(6,"i",6),r(),a(7,"button",7),b("click",function(){return t.onActionButtonReload()}),_(8,"i",8),r(),a(9,"a",9),b("click",function(){return t.onActionGridExpandRows(!0)}),_(10,"i",10),r(),a(11,"a",9),b("click",function(){return t.onActionGridExpandRows(!1)}),_(12,"i",11),r(),a(13,"div",12)(14,"input",13),S(15,"translate"),A("ngModelChange",function(s){return D(t.appInfoFilter,s)||(t.appInfoFilter=s),s}),r(),a(16,"button",14),b("click",function(){return t.onApplyFilter()}),c(17),S(18,"translate"),r()(),w(),B(19,15)(20,16),M(21,17),I(22,vm,39,16),w(),B(23,18),M(24,19),I(25,Mm,2,1,"div",20),I(26,Dm,3,0,"div",21)(27,Am,3,3,"div",22),w(),B(28,23),r()),e&2&&(h("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey","core-log.micro-service-status.list"),T("optionActionGuideNoticeDisplay",t.viewGuideNotice),h("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplay",(t.tableRowSelected==null||t.tableRowSelected.appInfo==null?null:t.tableRowSelected.appInfo.length)>0)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.appInfo),n(7),h("disabled",t.statusLoading),n(),O("rotation360",t.statusLoading),n(6),T("ngModel",t.appInfoFilter),h("placeholder",g(15,17,"ROUTE.CORELOG.MICROSERVICEMONITOR_FILTER")),n(3),C(" ",g(18,19,"ROUTE.CORELOG.MICROSERVICEMONITOR_APPLY")," "),n(5),E(t.tableRowSelected?22:-1),n(3),E(t.errorMessage?25:-1),n(),E(t.statusList!=null&&t.statusList.length?26:27))},dependencies:[ie,Ye,Xe,Ze,Je,Qe,Y,N,oe],encapsulation:2});var an=yi;var xm=["vform"];function km(o,l){if(o&1&&(a(0,"option",14),c(1),r()),o&2){let e=l.$implicit;h("value",e.value),n(),C(" ",e.description," ")}}function Vm(o,l){o&1&&(a(0,"mat-error"),c(1," SendStatusType is "),a(2,"strong"),c(3),S(4,"translate"),r()()),o&2&&(n(3),x(g(4,1,"content.required")))}function Nm(o,l){if(o&1&&(a(0,"div"),_(1,"div",29),S(2,"prettyjson"),r()),o&2){let e=p();n(),h("innerHTML",g(2,1,e.dataModel),gt)}}function Bm(o,l){if(o&1){let e=L();a(0,"div",28)(1,"button",30),b("click",function(){m(e);let i=p();return d(i.onFormCancel())}),_(2,"i",31),c(3),S(4,"translate"),r()()}o&2&&(n(3),C(" ",g(4,1,"ACTION.CANCEL")," "))}var go=class go extends It{constructor(e,t,i,s,u,f,y,P,re,Re){super(s,new ri,re,Re);this.data=e;this.dialogRef=t;this.coreEnumService=i;this.coreLogNotificationService=s;this.cmsToastrService=u;this.tokenHelper=f;this.cmsStoreService=y;this.cdr=P;this.publicHelper=re;this.translate=Re;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new q;this.dataModel=new ri;this.dataModelEnumSendNotificationStatusTypeResult=new q;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id)}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>z(this,null,function*(){this.tokenInfo=e}))),this.getEnumSendNotificationStatusType()}getEnumSendNotificationStatusType(){this.coreEnumService.ServiceSendNotificationStatusTypeEnum().subscribe({next:e=>{this.dataModelEnumSendNotificationStatusTypeResult=e}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.coreLogNotificationService.setAccessLoad(),this.coreLogNotificationService.setAccessDataType(ht.Editor),this.coreLogNotificationService.ServiceGetOneById(this.requestId).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModel=t.item,t.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+t.item.id,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=t.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(t.errorMessage)),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};go.\u0275fac=function(t){return new(t||go)(v(de),v(me),v(ee),v(Xt),v(K),v($),v(U),v(H),v(j),v(W))},go.\u0275cmp=V({type:go,selectors:[["app-core-log-notification-edit"]],viewQuery:function(t,i){if(t&1&&ae(xm,5),t&2){let s;le(s=se())&&(i.formGroup=s.first)}},standalone:!1,features:[F],decls:57,vars:29,consts:[["vform","ngForm"],["SendStatusType","ngModel"],["ModuleName",""],["ModuleEntityName",""],["ModuleEntityId",""],["Title",""],["content",""],["ReturnApi",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["id","dataModel.sendStatusType","name","dataModel.sendStatusType",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[3,"value"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],["for","dataModel.moduleName",1,"color-highlight"],["matInput","","type","text","name","dataModel.moduleName","placeholder","ModuleName","id","dataModel.moduleName",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.moduleEntityName",1,"color-highlight"],["matInput","","type","text","name","dataModel.moduleEntityName","placeholder","ModuleEntityName","id","dataModel.moduleEntityName",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.moduleEntityId",1,"color-highlight"],["matInput","","type","text","name","dataModel.moduleEntityId","placeholder","ModuleEntityId","id","dataModel.moduleEntityId",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","placeholder","title","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.content",1,"color-highlight"],["matInput","","name","dataModel.content","type","text","placeholder","content","id","dataModel.content",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.returnApi",1,"color-highlight"],["matInput","","name","dataModel.returnApi","type","text","placeholder","ReturnApi","id","dataModel.returnApi",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[1,"form-actions"],[3,"innerHTML"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(t,i){if(t&1){let s=L();a(0,"div",8),_(1,"app-progress-spinner",9),a(2,"div",10)(3,"p",11),c(4),r(),a(5,"p"),c(6),S(7,"translate"),r(),a(8,"form",null,0)(10,"div",12)(11,"select",13,1),A("ngModelChange",function(f){return m(s),D(i.dataModel.sendStatusType,f)||(i.dataModel.sendStatusType=f),d(f)}),ge(13,km,2,2,"option",14,Kt),r(),a(15,"em"),c(16),S(17,"translate"),r(),I(18,Vm,5,3,"mat-error"),r(),_(19,"app-cms-site-selector",15),S(20,"translate"),_(21,"app-cms-member-selector",15),S(22,"translate"),a(23,"div",12)(24,"label",16),c(25,"ModuleName"),r(),a(26,"input",17,2),A("ngModelChange",function(f){return m(s),D(i.dataModel.moduleName,f)||(i.dataModel.moduleName=f),d(f)}),r()(),a(28,"div",12)(29,"label",18),c(30,"ModuleEntityName"),r(),a(31,"input",19,3),A("ngModelChange",function(f){return m(s),D(i.dataModel.moduleEntityName,f)||(i.dataModel.moduleEntityName=f),d(f)}),r()(),a(33,"div",12)(34,"label",20),c(35,"EntityId"),r(),a(36,"input",21,4),A("ngModelChange",function(f){return m(s),D(i.dataModel.moduleEntityId,f)||(i.dataModel.moduleEntityId=f),d(f)}),r()(),a(38,"div",12)(39,"label",22),c(40),r(),a(41,"input",23,5),A("ngModelChange",function(f){return m(s),D(i.dataModel.title,f)||(i.dataModel.title=f),d(f)}),r()(),a(43,"div",12)(44,"label",24),c(45,"content"),r(),a(46,"textarea",25,6),A("ngModelChange",function(f){return m(s),D(i.dataModel.content,f)||(i.dataModel.content=f),d(f)}),c(48,"                      "),r()(),a(49,"div",12)(50,"label",26),c(51,"ReturnApi"),r(),a(52,"textarea",27,7),A("ngModelChange",function(f){return m(s),D(i.dataModel.returnApi,f)||(i.dataModel.returnApi=f),d(f)}),c(54,"                        "),r()(),I(55,Nm,3,3,"div"),I(56,Bm,5,3,"div",28),r()()()}if(t&2){let s=X(12);n(),h("optionsInfoAreaId",i.constructorInfoAreaId),n(3),C(" ",i.formInfo.formTitle," "),n(2),C(" ",g(7,21,"TITLE.Be_Careful_When_Entering_Information")," "),n(5),T("ngModel",i.dataModel.sendStatusType),n(2),he(i.dataModelEnumSendNotificationStatusTypeResult.listItems),n(3),x(g(17,23,"TITLE.SELECT_STATUS")),n(2),E(s.errors!=null&&s.errors.required?18:-1),n(),h("optionDisabled",!0)("optionSelectForce",i.dataModel.linkSiteId)("optionPlaceholder",g(20,25,"TITLE.SITE")),n(2),h("optionDisabled",!0)("optionSelectForce",i.dataModel.linkMemberId)("optionPlaceholder",g(22,27,"TITLE.Member")),n(5),T("ngModel",i.dataModel.moduleName),n(5),T("ngModel",i.dataModel.moduleEntityName),n(5),T("ngModel",i.dataModel.moduleEntityId),n(4),x(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),n(),T("ngModel",i.dataModel.title),n(5),T("ngModel",i.dataModel.content),n(6),T("ngModel",i.dataModel.returnApi),n(3),E(i.tokenInfo.access.userAccessAdminAllowToProfessionalData?55:-1),n(),E(i.formInfo.submitButtonEnabled?56:-1)}},dependencies:[Mt,Hi,Wi,Ye,Fi,Xe,bt,Ze,vt,Ui,pe,ai,Bt,Ce,N,wt],encapsulation:2});var ln=go;var Om=["vform"];function Pm(o,l){if(o&1){let e=L();a(0,"div",7)(1,"button",8),b("click",function(){m(e);let i=p();return d(i.onFormCancel())}),_(2,"i",9),c(3),S(4,"translate"),r()()}o&2&&(n(3),C(" ",g(4,1,"ACTION.CANCEL")," "))}var ho=class ho{constructor(l,e,t,i,s,u,f,y,P,re){this.data=l;this.dialogRef=e;this.coreEnumService=t;this.coreLogNotificationService=i;this.cmsToastrService=s;this.tokenHelper=u;this.cmsStoreService=f;this.cdr=y;this.publicHelper=P;this.translate=re;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.tokenInfo=new dt;this.dataModelResult=new q;this.dataModel=new ri;this.formInfo=new pt;this.dataModelEnumSendNotificationStatusTypeResult=new q;this.fieldsInfo=new Map;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,l&&(this.requestId=l.id+"")}ngOnInit(){if(this.translate.get("TITLE.VIEW").subscribe(l=>{this.formInfo.formTitle=l}),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(l=>l.tokenInfoStore).subscribe(l=>z(this,null,function*(){this.tokenInfo=l}))),this.getEnumSendNotificationStatusType()}getEnumSendNotificationStatusType(){this.coreEnumService.ServiceSendNotificationStatusTypeEnum().subscribe({next:l=>{this.dataModelEnumSendNotificationStatusTypeResult=l}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(l=>l.unsubscribe())}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage="";let l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(l,e,this.constructorInfoAreaId)}),this.coreLogNotificationService.setAccessLoad(),this.coreLogNotificationService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModel=e.item,e.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+e.item.id,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=e.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(e.errorMessage)),this.publicHelper.processService.processStop(l)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(l,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};ho.\u0275fac=function(e){return new(e||ho)(v(de),v(me),v(ee),v(Xt),v(K),v($),v(U),v(H),v(j),v(W))},ho.\u0275cmp=V({type:ho,selectors:[["app-core-log-notification-view"]],viewQuery:function(e,t){if(e&1&&ae(Om,5),e&2){let i;le(i=se())&&(t.formGroup=i.first)}},standalone:!1,decls:9,vars:6,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection","loader-container"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[3,"formInfo"],[1,"ntk-cms-html-card-footer"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,t){e&1&&(a(0,"div",0),c(1),r(),a(2,"div",1),_(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),r(),a(5,"div",4),_(6,"app-cms-form-result-message",5),r(),a(7,"div",6),I(8,Pm,5,3,"div",7),r()),e&2&&(n(),C(" ",t.formInfo.formTitle," "),n(2),h("optionsInfoAreaId",t.constructorInfoAreaId),n(),h("dataModel",t.dataModel)("optionMethod",1),n(2),h("formInfo",t.formInfo),n(2),E(t.formInfo.submitButtonEnabled?8:-1))},dependencies:[Ce,Et,ut,N],encapsulation:2});var sn=ho;var Gm=()=>[5,10,20,100];function Fm(o,l){if(o&1){let e=L();a(0,"div",11)(1,"a",37),b("click",function(){m(e);let i=p();return d(i.onActionButtonViewRow(i.tableRowSelected))}),_(2,"i",38)(3,"br"),r(),a(4,"p",39),c(5),S(6,"translate"),r()()}o&2&&(n(5),C(" ",g(6,1,"ACTION.VIEW")," "))}function Hm(o,l){if(o&1){let e=L();a(0,"div",11)(1,"a",40),b("click",function(){m(e);let i=p();return d(i.onActionButtonEditRow(i.tableRowSelected))}),_(2,"i",41)(3,"br"),r(),a(4,"p",39),c(5),S(6,"translate"),r()()}o&2&&(n(5),C(" ",g(6,1,"ACTION.EDIT")," "))}function Wm(o,l){if(o&1){let e=L();a(0,"div",11)(1,"a",42),b("click",function(){m(e);let i=p();return d(i.onActionButtonDeleteRow(i.tableRowSelected))}),_(2,"i",43)(3,"br"),r(),a(4,"p",39),c(5),S(6,"translate"),r()()}o&2&&(n(5),C(" ",g(6,1,"ACTION.DELETE")," "))}function Um(o,l){if(o&1){let e=L();a(0,"div",11)(1,"a",37),b("click",function(){m(e);let i=p();return d(i.onActionButtonViewMemberRow(i.tableRowSelected))}),_(2,"i",44)(3,"br"),r(),a(4,"p",39),c(5),S(6,"translate"),r()()}o&2&&(n(5),C(" ",g(6,1,"ACTION.MEMBER")," "))}function jm(o,l){if(o&1&&(a(0,"mat-header-cell",45),c(1),r()),o&2){let e=p();n(),C(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function qm(o,l){if(o&1&&(a(0,"mat-cell"),c(1),r()),o&2){let e=l.$implicit;n(),C(" ",e.id," ")}}function Qm(o,l){if(o&1&&(a(0,"mat-header-cell",45),c(1),r()),o&2){let e=p();n(),C(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function zm(o,l){if(o&1&&(a(0,"mat-cell",46),S(1,"statusCellClass"),_(2,"i",46),S(3,"statusIconClass"),r()),o&2){let e=l.$implicit;h("ngClass",g(1,2,e.recordStatus)),n(2),h("ngClass",g(3,4,e.recordStatus))}}function $m(o,l){if(o&1&&(a(0,"mat-header-cell",45),c(1),r()),o&2){let e=p();n(),C(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function Km(o,l){if(o&1&&(a(0,"mat-cell"),c(1),S(2,"cmssiteinfo"),S(3,"async"),r()),o&2){let e=l.$implicit;n(),C(" ",g(3,3,g(2,1,e.linkSiteId))," ")}}function Jm(o,l){if(o&1&&(a(0,"mat-header-cell",45),c(1),r()),o&2){let e=p();n(),C(" ",e.fieldsInfo.linkMemberId==null?null:e.fieldsInfo.linkMemberId.fieldTitle," ")}}function Ym(o,l){if(o&1&&(a(0,"mat-cell"),c(1),r()),o&2){let e=l.$implicit;n(),C(" ",e.linkMemberId," ")}}function Xm(o,l){if(o&1&&(a(0,"mat-header-cell",45),c(1),r()),o&2){let e=p();n(),C(" ",e.fieldsInfo.contentType==null?null:e.fieldsInfo.contentType.fieldTitle," ")}}function Zm(o,l){if(o&1&&(a(0,"mat-cell"),c(1),r()),o&2){let e=l.$implicit;n(),C("",e.contentType," ")}}function ed(o,l){if(o&1&&(a(0,"mat-header-cell",45),c(1),r()),o&2){let e=p();n(),C(" ",e.fieldsInfo.senderlinkUserId==null?null:e.fieldsInfo.senderlinkUserId.fieldTitle," ")}}function td(o,l){if(o&1&&(a(0,"mat-cell"),c(1),S(2,"cmsuserinfo"),S(3,"async"),r()),o&2){let e=l.$implicit;n(),C(" ",g(3,3,g(2,1,e.senderlinkUserId))," ")}}function id(o,l){if(o&1&&(a(0,"mat-header-cell",45),c(1),r()),o&2){let e=p();n(),C(" ",e.fieldsInfo.receiverlinkUserId==null?null:e.fieldsInfo.receiverlinkUserId.fieldTitle," ")}}function od(o,l){if(o&1&&(a(0,"mat-cell",47),c(1),S(2,"cmsuserinfo"),S(3,"async"),r()),o&2){let e=l.$implicit;n(),C(" ",g(3,3,g(2,1,e.receiverlinkUserId))," ")}}function nd(o,l){if(o&1&&(a(0,"mat-header-cell",45),c(1),r()),o&2){let e=p();n(),C(" ",e.fieldsInfo.sendStatusType==null?null:e.fieldsInfo.sendStatusType.fieldTitle," ")}}function rd(o,l){if(o&1&&(a(0,"mat-cell"),c(1),S(2,"enums"),r()),o&2){let e=l.$implicit,t=p();n(),C(" ",Wt(2,1,e.sendStatusType,t.dataModelEnumSendNotificationStatusTypeResult.listItems)," ")}}function ad(o,l){if(o&1&&(a(0,"mat-header-cell",45),c(1),r()),o&2){let e=p();n(),C(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function ld(o,l){if(o&1&&(a(0,"mat-cell",48),c(1),S(2,"localeDateTime"),r()),o&2){let e=l.$implicit;n(),C(" ",g(2,1,e.createdDate)," ")}}function sd(o,l){o&1&&(a(0,"mat-header-cell"),c(1),S(2,"translate"),r()),o&2&&(n(),C(" ",g(2,1,"TITLE.OPTION")," "))}function cd(o,l){if(o&1&&(a(0,"mat-cell",49)(1,"button",50)(2,"mat-icon"),c(3,"more_vert"),r()(),_(4,"mat-menu",null,2),r()),o&2){let e=X(5);n(),h("matMenuTriggerFor",e)}}function md(o,l){o&1&&_(0,"mat-header-row")}function dd(o,l){if(o&1){let e=L();a(0,"mat-row",51),b("click",function(i){let s=m(e).$implicit,u=p();return d(u.onActionTableRowSelect(s,i))})("rtclick",function(i){let s=m(e).$implicit,u=p();return d(u.onActionTableRowSelect(s,i))}),r()}if(o&2){let e=l.$implicit,t=p();O("ntk-row-selected",e.id===(t.tableRowSelected==null?null:t.tableRowSelected.id))}}var bo=class bo extends Ct{constructor(e,t,i,s,u,f,y,P,re,Re,Ot,kt,ve){super(t,new ri,kt,f,P);this.coreEnumService=e;this.contentService=t;this.cmsToastrService=i;this.cmsConfirmationDialogService=s;this.activatedRoute=u;this.tokenHelper=f;this.cdr=y;this.translate=P;this.cmsStoreService=re;this.router=Re;this.pageInfo=Ot;this.publicHelper=kt;this.dialog=ve;this.requestLinkSiteId=0;this.requestLinkUserId=0;this.requestLinkDeviceId=0;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new Ke;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["id","linkUserId","linkSiteId","linkMemberId","SendStatusType","senderlinkUserId","receiverlinkUserId","contentType","createdDate"];this.tabledisplayedColumnsMobileSource=["id","linkUserId","linkSiteId","linkMemberId","SendStatusType","senderlinkUserId","receiverlinkUserId","contentType","createdDate"];this.dataModelEnumSendNotificationStatusTypeResult=new q;this.dataModelEnumContentTypeResult=new q;this.unsubscribe=[];if(this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkDeviceId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkDeviceId")),this.requestLinkSiteId>0){let k=new G;k.propertyName="LinkCmsSiteId",k.value=this.requestLinkSiteId,this.filteModelContent.filters.push(k)}if(this.requestLinkUserId>0){let k=new G;k.propertyName="linkUserId",k.value=this.requestLinkUserId,this.filteModelContent.filters.push(k)}if(this.requestLinkDeviceId>0){let k=new G;k.propertyName="LinkDeviceId",k.value=this.requestLinkDeviceId,this.filteModelContent.filters.push(k)}this.optionsSearch.parentMethods={onSubmit:k=>this.onSubmitOptionsSearch(k)},this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=Q.Descending,this.optionsSearch.data.filterModelContent=this.filteModelContent,this.optionsSearch.data.filterActionSearchRecordStatusShow=!0,this.tokenHelper.isAdminSite?(this.optionsSearch.data.filterActionSearchLinkUserIdShow=!0,this.optionsSearch.data.filterActionSearchLinkSiteIdShow=!0):(this.optionsSearch.data.filterActionSearchLinkSiteIdShow=!1,this.optionsSearch.data.filterActionSearchLinkUserIdShow=!1)}ngOnInit(){this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=Q.Descending,this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>z(this,null,function*(){this.tokenInfo=e,this.DataGetAll()}))),this.getEnumSendNotificationStatusType()}getEnumSendNotificationStatusType(){this.coreEnumService.ServiceSendNotificationStatusTypeEnum().subscribe({next:e=>{this.dataModelEnumSendNotificationStatusTypeResult=e}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}filterModelCompiler(e){let t=JSON.parse(JSON.stringify(e));return this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(t.filters=[...this.filterDataModelQueryBuilder]),t}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new ri);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let t=this.filterModelCompiler(this.filteModelContent);if(this.filteModelContent.filterActionSearchRecordStatus>0){let i=new G;i.propertyName="recordStatus",i.value=this.filteModelContent.filterActionSearchRecordStatus,t.filters.push(i)}if(this.filteModelContent.filterActionSearchLinkSiteId>0){let i=new G;i.propertyName="linkSiteId",i.value=this.filteModelContent.filterActionSearchLinkSiteId,t.filters.push(i)}if(this.filteModelContent.filterActionSearchLinkUserId>0){let i=new G;i.propertyName="linkUserId",i.value=this.filteModelContent.filterActionSearchLinkUserId,t.filters.push(i)}this.contentService.ServiceGetAllEditor(t).subscribe({next:i=>{i.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.applyDataGetAllResult(i),this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(i.access)},1e3)):this.cmsToastrService.typeErrorMessage(i.errorMessage),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=Q.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=Q.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=Q.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonViewRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var t="";this.publicHelper.isMobile?t="dialog-fullscreen":t="dialog-min",this.dialog.open(sn,{height:"90%",panelClass:t,enterAnimationDuration:J.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:J.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate})}onActionButtonEditRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var t="";this.publicHelper.isMobile?t="dialog-fullscreen":t="dialog-min",this.dialog.open(ln,{height:"90%",panelClass:t,enterAnimationDuration:J.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:J.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(s=>{this.cmsToastrService.typeErrorSelected(s)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var t="",i="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(s=>{t=s["MESSAGE.Please_Confirm"],i=s["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(t,i).then(s=>{if(s){let u=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(f=>{this.publicHelper.processService.processStart(u,f,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:f=>{f.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(u)},error:f=>{this.cmsToastrService.typeError(f),this.publicHelper.processService.processStop(u,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let t=new Map;this.translate.get("MESSAGE.Active").subscribe(y=>{t.set(y,0)}),this.translate.get("MESSAGE.All").subscribe(y=>{t.set(y,0)});let i=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(y=>{this.publicHelper.processService.processStart(i,y,this.constructorInfoAreaId)});let s=this.filterModelCompiler(this.filteModelContent);this.contentService.ServiceGetCount(s).subscribe({next:y=>{y.isSuccess?(this.translate.get("MESSAGE.All").subscribe(P=>{t.set(P,y.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(t)):this.cmsToastrService.typeErrorMessage(y.errorMessage),this.publicHelper.processService.processStop(i)},error:y=>{this.cmsToastrService.typeError(y),this.publicHelper.processService.processStop(i,!1)}});let u=this.filterModelCompiler(this.filteModelContent),f=new G;f.propertyName="recordStatus",f.value=mt.Available,u.filters.push(f),this.contentService.ServiceGetCount(u).subscribe({next:y=>{y.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(P=>{t.set(P,y.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(t)):this.cmsToastrService.typeErrorMessage(y.errorMessage),this.publicHelper.processService.processStop(i)},error:y=>{this.cmsToastrService.typeError(y),this.publicHelper.processService.processStop(i,!1)}})}onActionButtonViewMemberRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkMemberId||this.tableRowSelected.linkMemberId===""){this.translate.get("MESSAGE.content_does_not_include_member_informations").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}this.router.navigate(["/member/user/edit",this.tableRowSelected.linkMemberId])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};bo.\u0275fac=function(t){return new(t||bo)(v(ee),v(Xt),v(K),v(ot),v(st),v($),v(H),v(W),v(U),v(ct),v(je),v(j),v(Ae))},bo.\u0275cmp=V({type:bo,selectors:[["app-core-log-notification-list"]],standalone:!1,features:[F],decls:60,vars:29,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],[1,"col-4"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","recordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","linkSiteId"],["matColumnDef","linkMemberId"],["matColumnDef","contentType"],["matColumnDef","senderlinkUserId"],["matColumnDef","receiverlinkUserId"],["class","grid-row-ltr",4,"matCellDef"],["matColumnDef","SendStatusType"],["matColumnDef","createdDate"],["style","direction: ltr",4,"matCellDef"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-id-card-clip","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],[1,"grid-row-ltr"],[2,"direction","ltr"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(t,i){if(t&1){let s=L();a(0,"app-cms-html-list",3),A("optionActionGuideNoticeDisplayChange",function(f){return m(s),D(i.viewGuideNotice,f)||(i.viewGuideNotice=f),d(f)}),b("optionOnActionButtonMemoRow",function(){return m(s),d(i.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return m(s),d(i.onActionButtonMemo())})("optionOnActionButtonExport",function(){return m(s),d(i.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return m(s),d(i.onActionButtonPrintRow())}),M(1,4),c(2," -------------------------------------- "),w(),B(3,5),M(4,6),a(5,"a",7),b("click",function(){return m(s),d(i.optionsSearch.data.show=!i.optionsSearch.data.show)}),_(6,"mat-slide-toggle",8),c(7),S(8,"translate"),r(),a(9,"a",7),b("click",function(){return m(s),d(i.onActionButtonStatist())}),_(10,"mat-slide-toggle",8),c(11),S(12,"translate"),r(),w(),B(13,9),M(14,10),I(15,Fm,7,3,"div",11),I(16,Hm,7,3,"div",11),I(17,Wm,7,3,"div",11),I(18,Um,7,3,"div",11),w(),M(19,12),a(20,"app-cms-search-list",13),A("optionsChange",function(f){return m(s),D(i.optionsSearch,f)||(i.optionsSearch=f),d(f)}),r(),a(21,"app-cms-statist-list",13),A("optionsChange",function(f){return m(s),D(i.optionsStatist,f)||(i.optionsStatist=f),d(f)}),r(),w(),M(22,14),a(23,"mat-table",15,0),b("matSortChange",function(){m(s);let f=X(24);return d(i.onTableSortData(f))}),M(25,16),R(26,jm,2,1,"mat-header-cell",17)(27,qm,2,1,"mat-cell",18),w(),M(28,19),R(29,Qm,2,1,"mat-header-cell",17)(30,zm,4,6,"mat-cell",20),w(),M(31,21),R(32,$m,2,1,"mat-header-cell",17)(33,Km,4,5,"mat-cell",18),w(),M(34,22),R(35,Jm,2,1,"mat-header-cell",17)(36,Ym,2,1,"mat-cell",18),w(),M(37,23),R(38,Xm,2,1,"mat-header-cell",17)(39,Zm,2,1,"mat-cell",18),w(),M(40,24),R(41,ed,2,1,"mat-header-cell",17)(42,td,4,5,"mat-cell",18),w(),M(43,25),R(44,id,2,1,"mat-header-cell",17)(45,od,4,5,"mat-cell",26),w(),M(46,27),R(47,nd,2,1,"mat-header-cell",17)(48,rd,3,4,"mat-cell",18),w(),M(49,28),R(50,ad,2,1,"mat-header-cell",17)(51,ld,3,3,"mat-cell",29),w(),M(52,30),R(53,sd,3,3,"mat-header-cell",31)(54,cd,6,1,"mat-cell",32),w(),R(55,md,1,0,"mat-header-row",33)(56,dd,1,2,"mat-row",34),r(),w(),M(57,35),a(58,"mat-paginator",36,1),b("page",function(f){return m(s),d(i.onTablePageingData(f))}),r(),w(),r()}t&2&&(h("optionsListInfoAreaId",i.constructorInfoAreaId)("optionGuideNoticeKey",""),T("optionActionGuideNoticeDisplay",i.viewGuideNotice),h("optionTreeDisplay",!1)("optionActionRowId",i.tableRowSelected==null?null:i.tableRowSelected.id)("optionActionRowDisplayMenu",i.tableRowSelect2Click)("optionSelectRowItemTitle",(i.tableRowSelected==null||i.tableRowSelected.title==null?null:i.tableRowSelected.title.length)>0?i.tableRowSelected==null?null:i.tableRowSelected.title:i.tableRowSelected==null?null:i.tableRowSelected.id),n(6),h("checked",i.optionsSearch.data.show),n(),C("",g(8,24,"ACTION.SEARCH")," "),n(3),h("checked",i.optionsStatist.data.show),n(),C("",g(12,26,"ACTION.STATIST")," "),n(4),E(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessWatchRow?15:-1),n(),E(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessEditRow?16:-1),n(),E(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessDeleteRow?17:-1),n(),E((i.tableRowSelected==null?null:i.tableRowSelected.linkMemberId)>0?18:-1),n(2),T("options",i.optionsSearch),n(),T("options",i.optionsStatist),n(2),h("dataSource",i.tableSource),n(32),h("matHeaderRowDef",i.tabledisplayedColumns),n(),h("matRowDefColumns",i.tabledisplayedColumns),n(2),h("length",i.dataModelResult.totalRowCount)("pageIndex",i.dataModelResult.currentPageNumber-1)("pageSize",i.dataModelResult.rowPerPage)("pageSizeOptions",ce(28,Gm)))},dependencies:[ie,De,ye,et,tt,ue,fe,xe,ke,Ve,Be,Fe,Oe,Ne,He,Pe,Ge,We,Ue,_e,Se,qe,Y,lt,N,ji,ft,Nt,it,oe,nt],encapsulation:2});var vo=bo;var pd=()=>[5,10,20,100],ud=(o,l)=>l.id;function fd(o,l){if(o&1){let e=L();a(0,"div",17)(1,"a",25),b("click",function(){m(e);let i=p();return d(i.onActionButtonEditRow(i.tableRowSelected))}),_(2,"i",26)(3,"br"),r(),a(4,"p",27),c(5),S(6,"translate"),r()()}o&2&&(n(5),C(" ",g(6,1,"ACTION.EDIT")," "))}function Cd(o,l){if(o&1){let e=L();a(0,"div",17)(1,"a",28),b("click",function(){m(e);let i=p();return d(i.onActionButtonDeleteRow(i.tableRowSelected))}),_(2,"i",29)(3,"br"),r(),a(4,"p",27),c(5),S(6,"translate"),r()()}o&2&&(n(5),C(" ",g(6,1,"ACTION.DELETE")," "))}function _d(o,l){if(o&1){let e=L();a(0,"div",17)(1,"a",30),b("click",function(){m(e);let i=p();return d(i.onActionButtonViewRow(i.tableRowSelected))}),_(2,"i",31)(3,"br"),r(),a(4,"p",27),c(5),S(6,"translate"),r()()}o&2&&(n(5),C(" ",g(6,1,"ACTION.VIEW")," "))}function Sd(o,l){if(o&1&&(a(0,"div",38),_(1,"i",40),c(2),r()),o&2){let e=p().$implicit,t=p(2);n(2),be(" ",t.fieldsInfo.id==null?null:t.fieldsInfo.id.fieldTitle,": ",e.id," ")}}function gd(o,l){if(o&1&&(a(0,"div",38),_(1,"i",41),c(2),S(3,"localeDate"),r()),o&2){let e=p().$implicit,t=p(2);n(2),be(" ",t.fieldsInfo.createdDate==null?null:t.fieldsInfo.createdDate.fieldTitle,": ",g(3,2,e.createdDate)," ")}}function hd(o,l){if(o&1&&_(0,"select",43),o&2){let e=p(2).$implicit,t=p(2);h("contentService",t.contentService)("row",e)}}function bd(o,l){if(o&1&&(a(0,"div",38),_(1,"i",42),S(2,"statusIconClass"),I(3,hd,1,2,"select",43),r()),o&2){let e=p().$implicit,t=p(2);n(),h("ngClass",g(2,2,e.recordStatus)),n(2),E(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow&&e.id===(t.tableRowSelected==null?null:t.tableRowSelected.id)?3:-1)}}function vd(o,l){if(o&1&&(a(0,"div",38),_(1,"i",46),c(2),S(3,"localeDate"),r()),o&2){let e=p(2).$implicit,t=p(2);n(2),be(" ",t.fieldsInfo.updatedDate==null?null:t.fieldsInfo.updatedDate.fieldTitle,": ",g(3,2,e.updatedDate)," ")}}function Md(o,l){if(o&1){let e=L();a(0,"div",39),I(1,vd,4,4,"div",38),a(2,"div",38)(3,"span",44),b("click",function(i){return m(e),p(3).onActionCopied(),d(i.stopPropagation())}),_(4,"i",45),r(),c(5),r()()}if(o&2){let e=p().$implicit;n(),E(e.updatedDate?1:-1),n(2),h("cdkCopyToClipboard",e.id.toString()),n(2),C(" ID: ",e.id," ")}}function wd(o,l){if(o&1){let e=L();a(0,"div",33),b("click",function(i){let s=m(e).$implicit,u=p(2);return d(u.onActionTableRowSelect(s,i))})("rtclick",function(i){let s=m(e).$implicit,u=p(2);return d(u.onActionTableRowSelect(s,i))})("mouseenter",function(){let i=m(e).$implicit,s=p(2);return d(s.onActionTableRowMouseEnter(i))})("mouseleave",function(){let i=m(e).$implicit,s=p(2);return d(s.onActionTableRowMouseLeave(i))}),a(1,"div",34),_(2,"i",35),S(3,"statusIconClass"),r(),a(4,"div",36)(5,"div",37),c(6),r(),I(7,Sd,3,2,"div",38),I(8,gd,4,4,"div",38),I(9,bd,4,4,"div",38),I(10,Md,6,3,"div",39),r()()}if(o&2){let e=l.$implicit,t=p(2);O("selected",e.id===(t.tableRowSelected==null?null:t.tableRowSelected.id))("bg-fade-highlight-light",e.id===(t.tableRowSelected==null?null:t.tableRowSelected.id)),$e("aria-label",e.id),n(2),h("ngClass",g(3,11,e.recordStatus)),n(4),x("ID: "+e.id),n(),E(e.id?7:-1),n(),E(e.createdDate?8:-1),n(),E(e.recordStatus!==void 0?9:-1),n(),E(t.getRowExpanded(e)?10:-1)}}function Id(o,l){if(o&1&&(a(0,"div",21),ge(1,wd,11,13,"div",32,ud),r()),o&2){let e=p();n(),he(e.dataModelResult.listItems)}}function Ed(o,l){o&1&&(a(0,"div",22),c(1),S(2,"translate"),r()),o&2&&(n(),x(g(2,1,"MESSAGE.NoRecord")))}var Li=class Li extends vo{};Li.\u0275fac=(()=>{let l;return function(t){return(l||(l=Te(Li)))(t||Li)}})(),Li.\u0275cmp=V({type:Li,selectors:[["app-core-log-notification-list-mobile"]],standalone:!1,features:[F],decls:36,vars:30,consts:[["paginator",""],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionOnScrollNearBottom","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplay","optionActionRowDisplayMenu","optionActionRowDisplayMenuAct","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-maximize","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-minimize","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],[1,"col-4"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],[1,"cms-m-list"],[1,"cms-m-empty"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],["role","button","tabindex","0",1,"cms-m-list-item","border-highlight",3,"selected","bg-fade-highlight-light"],["role","button","tabindex","0",1,"cms-m-list-item","border-highlight",3,"click","rtclick","mouseenter","mouseleave"],[1,"cms-m-list-item-image-placeholder"],["aria-hidden","true",3,"ngClass"],[1,"cms-m-list-item-content"],[1,"cms-m-list-item-title"],[1,"cms-m-list-item-subtitle"],[1,"cms-m-list-item-expanded"],["aria-hidden","true",1,"fa-solid","fa-hashtag"],["aria-hidden","true",1,"fa-solid","fa-calendar"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none","margin-left","8px",3,"contentService","row"],[1,"navi-icon","pointer",3,"click","cdkCopyToClipboard"],[1,"flaticon2-copy"],["aria-hidden","true",1,"fa-solid","fa-calendar-check"]],template:function(e,t){if(e&1){let i=L();a(0,"app-cms-html-list-mobile",1),A("optionActionGuideNoticeDisplayChange",function(u){return m(i),D(t.viewGuideNotice,u)||(t.viewGuideNotice=u),d(u)}),b("optionOnActionButtonMemoRow",function(){return m(i),d(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return m(i),d(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return m(i),d(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return m(i),d(t.onActionButtonPrintRow())})("optionOnScrollNearBottom",function(){return m(i),d(t.onActionLoadNextPage())}),B(1,2)(2,3)(3,4),M(4,5),a(5,"a",6),b("click",function(){return m(i),d(t.viewGuideNotice=!t.viewGuideNotice)}),_(6,"i",7),r(),a(7,"a",6),b("click",function(){return m(i),d(t.onActionButtonReload())}),_(8,"i",8),r(),a(9,"a",9),b("click",function(){return m(i),d(t.onActionGridExpandRows(!0))}),_(10,"i",10),r(),a(11,"a",9),b("click",function(){return m(i),d(t.onActionGridExpandRows(!1))}),_(12,"i",11),r(),w(),M(13,12),a(14,"a",13),b("click",function(){return m(i),d(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),_(15,"mat-slide-toggle",14),c(16),S(17,"translate"),r(),a(18,"a",13),b("click",function(){return m(i),d(t.onActionButtonStatist())}),_(19,"mat-slide-toggle",14),c(20),S(21,"translate"),r(),w(),B(22,15),M(23,16),I(24,fd,7,3,"div",17),I(25,Cd,7,3,"div",17),I(26,_d,7,3,"div",17),w(),M(27,18),a(28,"app-cms-search-list",19),A("optionsChange",function(u){return m(i),D(t.optionsSearch,u)||(t.optionsSearch=u),d(u)}),r(),a(29,"app-cms-statist-list",19),A("optionsChange",function(u){return m(i),D(t.optionsStatist,u)||(t.optionsStatist=u),d(u)}),r(),w(),M(30,20),I(31,Id,3,0,"div",21)(32,Ed,3,3,"div",22),w(),M(33,23),a(34,"mat-paginator",24,0),b("page",function(u){return m(i),d(t.onTablePageingData(u))}),r(),w(),r()}e&2&&(h("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey","core-log.notification.list"),T("optionActionGuideNoticeDisplay",t.viewGuideNotice),h("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplay",(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionActionRowDisplayMenuAct",t.tableRowSelectActionMenuClick)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),n(8),O("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),n(7),h("checked",t.optionsSearch.data.show),n(),C(" ",g(17,25,"ACTION.SEARCH")),n(3),h("checked",t.optionsStatist.data.show),n(),C(" ",g(21,27,"ACTION.STATIST")),n(4),E(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0?24:-1),n(),E(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0?25:-1),n(),E(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessWatchRow&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0?26:-1),n(2),T("options",t.optionsSearch),n(),T("options",t.optionsStatist),n(2),E(!(t.dataModelResult==null||t.dataModelResult.listItems==null)&&t.dataModelResult.listItems.length?31:32),n(3),h("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",ce(29,pd)))},dependencies:[ie,pe,ue,fe,Je,_e,Se,Qe,Y,_t,N,yt,oe],encapsulation:2});var cn=Li;var yd=["vform"];function Ld(o,l){if(o&1){let e=L();a(0,"div",14)(1,"label",16),c(2),r(),a(3,"input",17),A("ngModelChange",function(i){m(e);let s=p();return D(s.dataModel.expireDate,i)||(s.dataModel.expireDate=i),d(i)}),r(),_(4,"mat-datepicker-toggle",18)(5,"mat-datepicker",19,3),r()}if(o&2){let e=X(6),t=p();n(2),x(t.fieldsInfo.expireDate==null?null:t.fieldsInfo.expireDate.fieldTitle),n(),h("matDatepicker",e),T("ngModel",t.dataModel.expireDate),n(),h("for",e),n(),h("calendarHeaderComponent",t.datapickerHeader)}}function Rd(o,l){if(o&1&&(a(0,"div"),_(1,"div",20),S(2,"prettyjson"),r()),o&2){let e=p();n(),h("innerHTML",g(2,1,e.dataModel),gt)}}function Td(o,l){if(o&1){let e=L();a(0,"div",15)(1,"button",21),b("click",function(){m(e);let i=p();return d(i.onFormCancel())}),_(2,"i",22),c(3),S(4,"translate"),r()()}o&2&&(n(3),C(" ",g(4,1,"ACTION.CANCEL")," "))}var Mo=class Mo extends It{constructor(e,t,i,s,u,f,y,P,re,Re){super(s,new ni,re,Re);this.data=e;this.dialogRef=t;this.coreEnumService=i;this.coreLogReportDataService=s;this.cmsToastrService=u;this.tokenHelper=f;this.cmsStoreService=y;this.cdr=P;this.publicHelper=re;this.translate=Re;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new ki;this.dataModel=new ni;this.dataModelEnumSendReportDataStatusTypeResult=new q;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id)}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>z(this,null,function*(){this.tokenInfo=e})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.coreLogReportDataService.setAccessLoad(),this.coreLogReportDataService.setAccessDataType(ht.Editor),this.coreLogReportDataService.ServiceGetOneById(this.requestId).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModel=t.item,t.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+t.item.id,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=t.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(t.errorMessage)),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Mo.\u0275fac=function(t){return new(t||Mo)(v(de),v(me),v(ee),v(Zt),v(K),v($),v(U),v(H),v(j),v(W))},Mo.\u0275cmp=V({type:Mo,selectors:[["app-core-log-report-data-edit"]],viewQuery:function(t,i){if(t&1&&ae(yd,5),t&2){let s;le(s=se())&&(i.formGroup=s.first)}},standalone:!1,features:[F],decls:30,vars:25,consts:[["vform","ngForm"],["ModuleEntityId",""],["ReportData",""],["ExpireDate",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.moduleEntityId",1,"color-highlight"],["matInput","","type","text","name","dataModel.moduleEntityId","placeholder","ModuleEntityId","id","dataModel.moduleEntityId",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.reportData",1,"color-highlight"],["matInput","","name","dataModel.reportData","type","text","placeholder","ReportData","id","dataModel.reportData",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],[1,"form-actions"],["for","dataModel.expireDate",1,"color-highlight"],["matInput","","type","text","name","dataModel.expireDate","id","dataModel.expireDate",1,"form-control","validate-name",3,"ngModelChange","matDatepicker","ngModel"],["matSuffix","",3,"for"],["touchUi","",3,"calendarHeaderComponent"],[3,"innerHTML"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(t,i){if(t&1){let s=L();a(0,"div",4),_(1,"app-progress-spinner",5),a(2,"div",6)(3,"p",7),c(4),r(),a(5,"p"),c(6),S(7,"translate"),r(),a(8,"form",null,0),_(10,"app-cms-site-selector",8),S(11,"translate"),_(12,"app-cms-user-selector",8),S(13,"translate"),_(14,"app-cms-member-selector",8),S(15,"translate"),a(16,"div",9)(17,"label",10),c(18,"ModuleEntityId"),r(),a(19,"input",11,1),A("ngModelChange",function(f){return m(s),D(i.dataModel.moduleEntityId,f)||(i.dataModel.moduleEntityId=f),d(f)}),r()(),a(21,"div",9)(22,"label",12),c(23,"Report Data"),r(),a(24,"textarea",13,2),A("ngModelChange",function(f){return m(s),D(i.dataModel.reportData,f)||(i.dataModel.reportData=f),d(f)}),c(26,"        "),r()(),I(27,Ld,7,5,"div",14),I(28,Rd,3,3,"div"),I(29,Td,5,3,"div",15),r()()()}t&2&&(n(),h("optionsInfoAreaId",i.constructorInfoAreaId),n(3),C(" ",i.formInfo.formTitle," "),n(2),C(" ",g(7,17,"TITLE.Be_Careful_When_Entering_Information")," "),n(4),h("optionDisabled",!0)("optionSelectForce",i.dataModel.linkSiteId)("optionPlaceholder",g(11,19,"TITLE.SITE")),n(2),h("optionDisabled",!0)("optionSelectForce",i.dataModel.linkUserId)("optionPlaceholder",g(13,21,"TITLE.USER")),n(2),h("optionDisabled",!0)("optionSelectForce",i.dataModel.linkMemberId)("optionPlaceholder",g(15,23,"TITLE.Member")),n(5),T("ngModel",i.dataModel.moduleEntityId),n(5),T("ngModel",i.dataModel.reportData),n(3),E(i.fieldsInfo.expireDate!=null&&i.fieldsInfo.expireDate.accessWatchField?27:-1),n(),E(i.tokenInfo.access.userAccessAdminAllowToProfessionalData?28:-1),n(),E(i.formInfo.submitButtonEnabled?29:-1))},dependencies:[Mt,Ye,Xe,bt,Ze,vt,Hn,Wn,Un,kn,pe,ai,Vt,Bt,Ce,N,wt],encapsulation:2});var mn=Mo;var Dd=["vform"];function Ad(o,l){if(o&1){let e=L();a(0,"div",7)(1,"button",8),b("click",function(){m(e);let i=p();return d(i.onFormCancel())}),_(2,"i",9),c(3),S(4,"translate"),r()()}o&2&&(n(3),C(" ",g(4,1,"ACTION.CANCEL")," "))}var wo=class wo{constructor(l,e,t,i,s,u,f,y,P,re){this.data=l;this.dialogRef=e;this.coreEnumService=t;this.coreLogReportDataService=i;this.cmsToastrService=s;this.tokenHelper=u;this.cmsStoreService=f;this.cdr=y;this.publicHelper=P;this.translate=re;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.tokenInfo=new dt;this.dataModelResult=new q;this.dataModel=new ni;this.formInfo=new pt;this.dataModelEnumSendSmsStatusTypeResult=new q;this.fieldsInfo=new Map;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,l&&(this.requestId=l.id+"")}ngOnInit(){if(this.translate.get("TITLE.VIEW").subscribe(l=>{this.formInfo.formTitle=l}),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(l=>l.tokenInfoStore).subscribe(l=>z(this,null,function*(){this.tokenInfo=l}))),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:l=>{this.dataModelEnumSendSmsStatusTypeResult=l}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(l=>l.unsubscribe())}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage="";let l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(l,e,this.constructorInfoAreaId)}),this.coreLogReportDataService.setAccessLoad(),this.coreLogReportDataService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModel=e.item,e.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+e.item.id,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=e.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(e.errorMessage)),this.publicHelper.processService.processStop(l)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(l,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};wo.\u0275fac=function(e){return new(e||wo)(v(de),v(me),v(ee),v(Zt),v(K),v($),v(U),v(H),v(j),v(W))},wo.\u0275cmp=V({type:wo,selectors:[["app-core-log-report-data-view"]],viewQuery:function(e,t){if(e&1&&ae(Dd,5),e&2){let i;le(i=se())&&(t.formGroup=i.first)}},standalone:!1,decls:9,vars:6,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection","loader-container"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[3,"formInfo"],[1,"ntk-cms-html-card-footer"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,t){e&1&&(a(0,"div",0),c(1),r(),a(2,"div",1),_(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),r(),a(5,"div",4),_(6,"app-cms-form-result-message",5),r(),a(7,"div",6),I(8,Ad,5,3,"div",7),r()),e&2&&(n(),C(" ",t.formInfo.formTitle," "),n(2),h("optionsInfoAreaId",t.constructorInfoAreaId),n(),h("dataModel",t.dataModel)("optionMethod",1),n(2),h("formInfo",t.formInfo),n(2),E(t.formInfo.submitButtonEnabled?8:-1))},dependencies:[Ce,Et,ut,N],encapsulation:2});var dn=wo;var xd=()=>[5,10,20,100],kd=o=>({background:o});function Vd(o,l){if(o&1){let e=L();a(0,"a",43),b("click",function(){m(e);let i=p();return d(i.onActionBackToParent())}),_(1,"i",44),r()}}function Nd(o,l){if(o&1){let e=L();a(0,"div",17)(1,"a",45),b("click",function(){m(e);let i=p();return d(i.onActionButtonViewRow(i.tableRowSelected))}),_(2,"i",46)(3,"br"),r(),a(4,"p",47),c(5),S(6,"translate"),r()()}o&2&&(n(5),C(" ",g(6,1,"ACTION.VIEW")," "))}function Bd(o,l){if(o&1){let e=L();a(0,"div",17)(1,"a",48),b("click",function(){m(e);let i=p();return d(i.onActionButtonEditRow(i.tableRowSelected))}),_(2,"i",49)(3,"br"),r(),a(4,"p",47),c(5),S(6,"translate"),r()()}o&2&&(n(5),C(" ",g(6,1,"ACTION.EDIT")," "))}function Od(o,l){if(o&1){let e=L();a(0,"div",17)(1,"a",50),b("click",function(){m(e);let i=p();return d(i.onActionButtonDeleteRow(i.tableRowSelected))}),_(2,"i",51)(3,"br"),r(),a(4,"p",47),c(5),S(6,"translate"),r()()}o&2&&(n(5),C(" ",g(6,1,"ACTION.DELETE")," "))}function Pd(o,l){if(o&1){let e=L();a(0,"div",17)(1,"a",45),b("click",function(){m(e);let i=p();return d(i.onActionButtonViewUserRow(i.tableRowSelected))}),_(2,"i",52)(3,"br"),r(),a(4,"p",47),c(5),S(6,"translate"),r()()}o&2&&(n(5),C(" ",g(6,1,"ACTION.USER")," "))}function Gd(o,l){if(o&1){let e=L();a(0,"div",17)(1,"a",45),b("click",function(){m(e);let i=p();return d(i.onActionButtonViewMemberRow(i.tableRowSelected))}),_(2,"i",53)(3,"br"),r(),a(4,"p",47),c(5),S(6,"translate"),r()()}o&2&&(n(5),C(" ",g(6,1,"ACTION.MEMBER")," "))}function Fd(o,l){if(o&1&&(a(0,"mat-header-cell",54),c(1),r()),o&2){let e=p();n(),C(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function Hd(o,l){if(o&1&&(a(0,"mat-cell"),c(1),r()),o&2){let e=l.$implicit;n(),C(" ",e.id," ")}}function Wd(o,l){if(o&1&&(a(0,"mat-header-cell",54),c(1),r()),o&2){let e=p();n(),C(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function Ud(o,l){if(o&1&&(a(0,"mat-cell",55),S(1,"statusCellClass"),_(2,"i",55),S(3,"statusIconClass"),r()),o&2){let e=l.$implicit;h("ngClass",g(1,2,e.recordStatus)),n(2),h("ngClass",g(3,4,e.recordStatus))}}function jd(o,l){if(o&1&&(a(0,"mat-header-cell",54),c(1),r()),o&2){let e=p();n(),C(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function qd(o,l){if(o&1&&(a(0,"mat-cell"),c(1),S(2,"cmssiteinfo"),S(3,"async"),r()),o&2){let e=l.$implicit;n(),C(" ",g(3,3,g(2,1,e.linkSiteId))," ")}}function Qd(o,l){if(o&1&&(a(0,"mat-header-cell",54),c(1),r()),o&2){let e=p();n(),C(" ",e.fieldsInfo.linkUserId==null?null:e.fieldsInfo.linkUserId.fieldTitle," ")}}function zd(o,l){if(o&1&&(a(0,"mat-cell"),c(1),S(2,"cmsuserinfo"),S(3,"async"),r()),o&2){let e=l.$implicit;n(),C(" ",g(3,3,g(2,1,e.linkUserId))," ")}}function $d(o,l){if(o&1&&(a(0,"mat-header-cell",54),c(1),r()),o&2){let e=p();n(),C(" ",e.fieldsInfo.linkMemberId==null?null:e.fieldsInfo.linkMemberId.fieldTitle," ")}}function Kd(o,l){if(o&1&&(a(0,"mat-cell"),c(1),r()),o&2){let e=l.$implicit;n(),C(" ",e.linkMemberId," ")}}function Jd(o,l){if(o&1&&(a(0,"mat-header-cell",54),c(1),r()),o&2){let e=p();n(),C(" ",e.fieldsInfo.linkModuleEntityId==null?null:e.fieldsInfo.linkModuleEntityId.fieldTitle," ")}}function Yd(o,l){if(o&1&&(a(0,"mat-cell"),c(1),r()),o&2){let e=l.$implicit;n(),C(" ",e.linkModuleEntityId," ")}}function Xd(o,l){if(o&1&&(a(0,"mat-header-cell",54),c(1),r()),o&2){let e=p();n(),C(" ",e.fieldsInfo.linkModuleEntityReportFileId==null?null:e.fieldsInfo.linkModuleEntityReportFileId.fieldTitle," ")}}function Zd(o,l){if(o&1&&(a(0,"mat-cell"),c(1),r()),o&2){let e=l.$implicit;n(),C(" ",e.linkModuleEntityReportFileId," ")}}function ep(o,l){if(o&1&&(a(0,"mat-header-cell",54),c(1),r()),o&2){let e=p();n(),C(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function tp(o,l){if(o&1&&(a(0,"mat-cell",56),c(1),S(2,"localeDateTime"),r()),o&2){let e=l.$implicit;n(),C(" ",g(2,1,e.createdDate)," ")}}function ip(o,l){if(o&1&&(a(0,"mat-header-cell",54),c(1),r()),o&2){let e=p();n(),C(" ",e.fieldsInfo.expireDate==null?null:e.fieldsInfo.expireDate.fieldTitle," ")}}function op(o,l){if(o&1&&(a(0,"mat-cell",57),c(1),S(2,"persianDate"),r()),o&2){let e=l.$implicit,t=p();h("ngStyle",Go(4,kd,t.publicHelper.RowStyleExpireDate(e.expireDate))),n(),C(" ",g(2,2,e.expireDate)," ")}}function np(o,l){o&1&&(a(0,"mat-header-cell"),c(1),S(2,"translate"),r()),o&2&&(n(),C(" ",g(2,1,"TITLE.OPTION")," "))}function rp(o,l){if(o&1&&(a(0,"mat-cell",58)(1,"button",59)(2,"mat-icon"),c(3,"more_vert"),r()(),_(4,"mat-menu",null,2),r()),o&2){let e=X(5);n(),h("matMenuTriggerFor",e)}}function ap(o,l){o&1&&_(0,"mat-header-row")}function lp(o,l){if(o&1){let e=L();a(0,"mat-row",60),b("click",function(i){let s=m(e).$implicit,u=p();return d(u.onActionTableRowSelect(s,i))})("rtclick",function(i){let s=m(e).$implicit,u=p();return d(u.onActionTableRowSelect(s,i))}),r()}if(o&2){let e=l.$implicit,t=p();O("ntk-row-selected",e.id===(t.tableRowSelected==null?null:t.tableRowSelected.id))}}var Io=class Io extends Ct{constructor(e,t,i,s,u,f,y,P,re,Re,Ot,kt,ve){super(t,new ni,kt,f,P);this.coreEnumService=e;this.contentService=t;this.cmsToastrService=i;this.cmsConfirmationDialogService=s;this.activatedRoute=u;this.tokenHelper=f;this.cdr=y;this.translate=P;this.cmsStoreService=re;this.router=Re;this.pageInfo=Ot;this.publicHelper=kt;this.dialog=ve;this.requestLinkSiteId=0;this.requestLinkUserId=0;this.requestLinkModuleEntityId=0;this.requestLinkModuleEntityReportFileId="";this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new Ke;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["id","linkUserId","linkSiteId","linkMemberId","LinkModuleEntityId","LinkModuleEntityReportFileId","createdDate","ExpireDate"];this.tabledisplayedColumnsMobileSource=["id","linkUserId","linkSiteId","linkMemberId","LinkModuleEntityId","LinkModuleEntityReportFileId","createdDate","ExpireDate"];this.dataModelEnumSendReportDataStatusTypeResult=new q;this.unsubscribe=[];if(this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkModuleEntityId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkModuleEntityId")),this.requestLinkModuleEntityReportFileId=this.activatedRoute.snapshot.paramMap.get("LinkModuleEntityReportFileId"),this.requestLinkSiteId>0){let k=new G;k.propertyName="LinkCmsSiteId",k.value=this.requestLinkSiteId,this.filteModelContent.filters.push(k)}if(this.requestLinkUserId>0){let k=new G;k.propertyName="linkUserId",k.value=this.requestLinkUserId,this.filteModelContent.filters.push(k)}if(this.requestLinkModuleEntityId>0){let k=new G;k.propertyName="LinkModuleEntityId",k.value=this.requestLinkModuleEntityId,this.filteModelContent.filters.push(k)}if(this.requestLinkModuleEntityReportFileId&&this.requestLinkModuleEntityReportFileId.length>0){let k=new G;k.propertyName="LinkModuleEntityReportFileId",k.value=this.requestLinkModuleEntityReportFileId,this.filteModelContent.filters.push(k)}this.optionsSearch.parentMethods={onSubmit:k=>this.onSubmitOptionsSearch(k)},this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=Q.Descending,this.optionsSearch.data.filterModelContent=this.filteModelContent,this.optionsSearch.data.filterActionSearchRecordStatusShow=!0,this.tokenHelper.isAdminSite?(this.optionsSearch.data.filterActionSearchLinkUserIdShow=!0,this.optionsSearch.data.filterActionSearchLinkSiteIdShow=!0):(this.optionsSearch.data.filterActionSearchLinkSiteIdShow=!1,this.optionsSearch.data.filterActionSearchLinkUserIdShow=!1)}ngOnInit(){this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=Q.Descending,this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>z(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}filterModelCompiler(e){let t=JSON.parse(JSON.stringify(e));return this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(t.filters=[...this.filterDataModelQueryBuilder]),t}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new ni);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let t=this.filterModelCompiler(this.filteModelContent);if(this.filteModelContent.filterActionSearchRecordStatus>0){let i=new G;i.propertyName="recordStatus",i.value=this.filteModelContent.filterActionSearchRecordStatus,t.filters.push(i)}if(this.filteModelContent.filterActionSearchLinkSiteId>0){let i=new G;i.propertyName="linkSiteId",i.value=this.filteModelContent.filterActionSearchLinkSiteId,t.filters.push(i)}if(this.filteModelContent.filterActionSearchLinkUserId>0){let i=new G;i.propertyName="linkUserId",i.value=this.filteModelContent.filterActionSearchLinkUserId,t.filters.push(i)}this.contentService.ServiceGetAllEditor(t).subscribe({next:i=>{i.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.applyDataGetAllResult(i),this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(i.access)},1e3)):this.cmsToastrService.typeErrorMessage(i.errorMessage),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=Q.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=Q.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=Q.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonViewRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var t="";this.publicHelper.isMobile?t="dialog-fullscreen":t="dialog-min",this.dialog.open(dn,{height:"90%",panelClass:t,enterAnimationDuration:J.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:J.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate})}onActionButtonEditRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var t="";this.publicHelper.isMobile?t="dialog-fullscreen":t="dialog-min",this.dialog.open(mn,{height:"90%",panelClass:t,enterAnimationDuration:J.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:J.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(s=>{this.cmsToastrService.typeErrorSelected(s)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var t="",i="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(s=>{t=s["MESSAGE.Please_Confirm"],i=s["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(t,i).then(s=>{if(s){let u=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(f=>{this.publicHelper.processService.processStart(u,f,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:f=>{f.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(u)},error:f=>{this.cmsToastrService.typeError(f),this.publicHelper.processService.processStop(u,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let t=new Map;this.translate.get("MESSAGE.Active").subscribe(y=>{t.set(y,0)}),this.translate.get("MESSAGE.All").subscribe(y=>{t.set(y,0)});let i=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(y=>{this.publicHelper.processService.processStart(i,y,this.constructorInfoAreaId)});let s=this.filterModelCompiler(this.filteModelContent);if(this.filteModelContent.filterActionSearchRecordStatus>0){let y=new G;y.propertyName="recordStatus",y.value=this.filteModelContent.filterActionSearchRecordStatus,s.filters.push(y)}if(this.filteModelContent.filterActionSearchLinkSiteId>0){let y=new G;y.propertyName="linkSiteId",y.value=this.filteModelContent.filterActionSearchLinkSiteId,s.filters.push(y)}if(this.filteModelContent.filterActionSearchLinkUserId>0){let y=new G;y.propertyName="linkUserId",y.value=this.filteModelContent.filterActionSearchLinkUserId,s.filters.push(y)}this.contentService.ServiceGetCount(s).subscribe({next:y=>{y.isSuccess?(this.translate.get("MESSAGE.All").subscribe(P=>{t.set(P,y.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(t)):this.cmsToastrService.typeErrorMessage(y.errorMessage),this.publicHelper.processService.processStop(i)},error:y=>{this.cmsToastrService.typeError(y),this.publicHelper.processService.processStop(i,!1)}});let u=this.filterModelCompiler(this.filteModelContent);if(this.filteModelContent.filterActionSearchRecordStatus>0){let y=new G;y.propertyName="recordStatus",y.value=this.filteModelContent.filterActionSearchRecordStatus,u.filters.push(y)}if(this.filteModelContent.filterActionSearchLinkSiteId>0){let y=new G;y.propertyName="linkSiteId",y.value=this.filteModelContent.filterActionSearchLinkSiteId,u.filters.push(y)}if(this.filteModelContent.filterActionSearchLinkUserId>0){let y=new G;y.propertyName="linkUserId",y.value=this.filteModelContent.filterActionSearchLinkUserId,u.filters.push(y)}let f=new G;f.propertyName="recordStatus",f.value=mt.Available,u.filters.push(f),this.contentService.ServiceGetCount(u).subscribe({next:y=>{y.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(P=>{t.set(P,y.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(t)):this.cmsToastrService.typeErrorMessage(y.errorMessage),this.publicHelper.processService.processStop(i)},error:y=>{this.cmsToastrService.typeError(y),this.publicHelper.processService.processStop(i,!1)}})}onActionButtonViewUserRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkUserId||this.tableRowSelected.linkUserId===0){this.translate.get("MESSAGE.content_does_not_contain_user_information").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId])}onActionButtonViewMemberRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkMemberId||this.tableRowSelected.linkMemberId===""){this.translate.get("MESSAGE.content_does_not_include_member_informations").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}this.router.navigate(["/member/user/edit",this.tableRowSelected.linkMemberId])}onActionButtonViewSiteRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkSiteId||this.tableRowSelected.linkSiteId===0){this.translate.get("MESSAGE.content_does_not_include_site_information").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};Io.\u0275fac=function(t){return new(t||Io)(v(ee),v(Zt),v(K),v(ot),v(st),v($),v(H),v(W),v(U),v(ct),v(je),v(j),v(Ae))},Io.\u0275cmp=V({type:Io,selectors:[["app-core-log-report-data-list"]],standalone:!1,features:[F],decls:68,vars:33,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],[1,"col-4"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","recordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","linkSiteId"],["matColumnDef","linkUserId"],["matColumnDef","linkMemberId"],["matColumnDef","LinkModuleEntityId"],["matColumnDef","LinkModuleEntityReportFileId"],["matColumnDef","createdDate"],["style","direction: ltr",4,"matCellDef"],["matColumnDef","ExpireDate"],[3,"ngStyle",4,"matCellDef"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-id-card-clip","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],[2,"direction","ltr"],[3,"ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(t,i){if(t&1){let s=L();a(0,"app-cms-html-list",3),A("optionActionGuideNoticeDisplayChange",function(f){return m(s),D(i.viewGuideNotice,f)||(i.viewGuideNotice=f),d(f)}),b("optionOnActionButtonMemoRow",function(){return m(s),d(i.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return m(s),d(i.onActionButtonMemo())})("optionOnActionButtonExport",function(){return m(s),d(i.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return m(s),d(i.onActionButtonPrintRow())}),M(1,4),c(2," -------------------------------------- "),w(),B(3,5)(4,6),M(5,7),I(6,Vd,2,0,"a",8),a(7,"a",9),b("click",function(){return m(s),d(i.viewGuideNotice=!i.viewGuideNotice)}),_(8,"i",10),r(),a(9,"a",9),b("click",function(){return m(s),d(i.onActionButtonReload())}),_(10,"i",11),r(),w(),M(11,12),a(12,"a",13),b("click",function(){return m(s),d(i.optionsSearch.data.show=!i.optionsSearch.data.show)}),_(13,"mat-slide-toggle",14),c(14),S(15,"translate"),r(),a(16,"a",13),b("click",function(){return m(s),d(i.onActionButtonStatist())}),_(17,"mat-slide-toggle",14),c(18),S(19,"translate"),r(),w(),B(20,15),M(21,16),I(22,Nd,7,3,"div",17),I(23,Bd,7,3,"div",17),I(24,Od,7,3,"div",17),I(25,Pd,7,3,"div",17),I(26,Gd,7,3,"div",17),w(),M(27,18),a(28,"app-cms-search-list",19),A("optionsChange",function(f){return m(s),D(i.optionsSearch,f)||(i.optionsSearch=f),d(f)}),r(),a(29,"app-cms-statist-list",19),A("optionsChange",function(f){return m(s),D(i.optionsStatist,f)||(i.optionsStatist=f),d(f)}),r(),w(),M(30,20),a(31,"mat-table",21,0),b("matSortChange",function(){m(s);let f=X(32);return d(i.onTableSortData(f))}),M(33,22),R(34,Fd,2,1,"mat-header-cell",23)(35,Hd,2,1,"mat-cell",24),w(),M(36,25),R(37,Wd,2,1,"mat-header-cell",23)(38,Ud,4,6,"mat-cell",26),w(),M(39,27),R(40,jd,2,1,"mat-header-cell",23)(41,qd,4,5,"mat-cell",24),w(),M(42,28),R(43,Qd,2,1,"mat-header-cell",23)(44,zd,4,5,"mat-cell",24),w(),M(45,29),R(46,$d,2,1,"mat-header-cell",23)(47,Kd,2,1,"mat-cell",24),w(),M(48,30),R(49,Jd,2,1,"mat-header-cell",23)(50,Yd,2,1,"mat-cell",24),w(),M(51,31),R(52,Xd,2,1,"mat-header-cell",23)(53,Zd,2,1,"mat-cell",24),w(),M(54,32),R(55,ep,2,1,"mat-header-cell",23)(56,tp,3,3,"mat-cell",33),w(),M(57,34),R(58,ip,2,1,"mat-header-cell",23)(59,op,3,6,"mat-cell",35),w(),M(60,36),R(61,np,3,3,"mat-header-cell",37)(62,rp,6,1,"mat-cell",38),w(),R(63,ap,1,0,"mat-header-row",39)(64,lp,1,2,"mat-row",40),r(),w(),M(65,41),a(66,"mat-paginator",42,1),b("page",function(f){return m(s),d(i.onTablePageingData(f))}),r(),w(),r()}t&2&&(h("optionsListInfoAreaId",i.constructorInfoAreaId)("optionGuideNoticeKey",""),T("optionActionGuideNoticeDisplay",i.viewGuideNotice),h("optionTreeDisplay",!1)("optionActionRowId",i.tableRowSelected==null?null:i.tableRowSelected.id)("optionActionRowDisplayMenu",i.tableRowSelect2Click)("optionSelectRowItemTitle",i.tableRowSelected==null?null:i.tableRowSelected.id),n(6),E(i.requestLinkSiteId>0?6:-1),n(4),O("rotation360",i.publicHelper.processService.process.inRunArea[i.constructorInfoAreaId]),n(3),h("checked",i.optionsSearch.data.show),n(),C("",g(15,28,"ACTION.SEARCH")," "),n(3),h("checked",i.optionsStatist.data.show),n(),C("",g(19,30,"ACTION.STATIST")," "),n(4),E(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessWatchRow?22:-1),n(),E(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessEditRow?23:-1),n(),E(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessDeleteRow?24:-1),n(),E((i.tableRowSelected==null?null:i.tableRowSelected.linkUserId)>0?25:-1),n(),E((i.tableRowSelected==null?null:i.tableRowSelected.linkMemberId)>0?26:-1),n(2),T("options",i.optionsSearch),n(),T("options",i.optionsStatist),n(2),h("dataSource",i.tableSource),n(32),h("matHeaderRowDef",i.tabledisplayedColumns),n(),h("matRowDefColumns",i.tabledisplayedColumns),n(2),h("length",i.dataModelResult.totalRowCount)("pageIndex",i.dataModelResult.currentPageNumber-1)("pageSize",i.dataModelResult.rowPerPage)("pageSizeOptions",ce(32,xd)))},dependencies:[ie,Ho,De,ye,et,tt,ue,fe,xe,ke,Ve,Be,Fe,Oe,Ne,He,Pe,Ge,We,Ue,_e,Se,qe,Y,lt,N,Xn,ft,Nt,it,oe,nt],encapsulation:2});var Ft=Io;var sp=(o,l)=>l.id;function cp(o,l){if(o&1&&(a(0,"div",16)(1,"div",17)(2,"label"),c(3),r(),a(4,"span"),c(5),r()(),a(6,"div",17)(7,"label"),c(8),r(),a(9,"span",9),S(10,"statusCellClass"),_(11,"i",9),S(12,"statusIconClass"),r()(),a(13,"div",17)(14,"label"),c(15),r(),a(16,"span"),c(17),S(18,"cmssiteinfo"),S(19,"async"),r()(),a(20,"div",17)(21,"label"),c(22),r(),a(23,"span"),c(24),S(25,"cmsuserinfo"),S(26,"async"),r()(),a(27,"div",17)(28,"label"),c(29),r(),a(30,"span"),c(31),r()(),a(32,"div",17)(33,"label"),c(34),r(),a(35,"span"),c(36),r()(),a(37,"div",17)(38,"label"),c(39),r(),a(40,"span"),c(41),r()(),a(42,"div",17)(43,"label"),c(44),r(),a(45,"span",18),c(46),S(47,"localeDateTime"),r()()()),o&2){let e=p().$implicit,t=p();n(3),x(t.fieldsInfo.id==null?null:t.fieldsInfo.id.fieldTitle),n(2),x(e.id),n(3),x(t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.fieldTitle),n(),h("ngClass",g(10,17,e.recordStatus)),n(2),h("ngClass",g(12,19,e.recordStatus)),n(4),x(t.fieldsInfo.linkSiteId==null?null:t.fieldsInfo.linkSiteId.fieldTitle),n(2),x(g(19,23,g(18,21,e.linkSiteId))),n(5),x(t.fieldsInfo.linkUserId==null?null:t.fieldsInfo.linkUserId.fieldTitle),n(2),x(g(26,27,g(25,25,e.linkUserId))),n(5),x(t.fieldsInfo.linkMemberId==null?null:t.fieldsInfo.linkMemberId.fieldTitle),n(2),x(e.linkMemberId),n(3),x(t.fieldsInfo.linkModuleEntityId==null?null:t.fieldsInfo.linkModuleEntityId.fieldTitle),n(2),x(e.linkModuleEntityId),n(3),x(t.fieldsInfo.linkModuleEntityReportFileId==null?null:t.fieldsInfo.linkModuleEntityReportFileId.fieldTitle),n(2),x(e.linkModuleEntityReportFileId),n(3),x(t.fieldsInfo.createdDate==null?null:t.fieldsInfo.createdDate.fieldTitle),n(2),x(g(47,29,e.createdDate))}}function mp(o,l){if(o&1){let e=L();a(0,"button",20),b("click",function(){m(e);let i=p(2).$implicit,s=p();return s.onActionButtonViewRow(i),d(s.closeActionMenu())}),_(1,"i",21),c(2),S(3,"translate"),r()}o&2&&(n(2),C(" ",g(3,1,"ACTION.VIEW")," "))}function dp(o,l){if(o&1){let e=L();a(0,"button",20),b("click",function(){m(e);let i=p(2).$implicit,s=p();return s.onActionButtonEditRow(i),d(s.closeActionMenu())}),_(1,"i",22),c(2),S(3,"translate"),r()}o&2&&(n(2),C(" ",g(3,1,"ACTION.EDIT")," "))}function pp(o,l){if(o&1){let e=L();a(0,"button",20),b("click",function(){m(e);let i=p(2).$implicit,s=p();return s.onActionButtonDeleteRow(i),d(s.closeActionMenu())}),_(1,"i",23),c(2),S(3,"translate"),r()}o&2&&(n(2),C(" ",g(3,1,"ACTION.DELETE")," "))}function up(o,l){if(o&1){let e=L();a(0,"button",20),b("click",function(){m(e);let i=p(3);return i.onActionButtonViewSiteRow(i.tableRowSelected),d(i.closeActionMenu())}),_(1,"i",24),c(2),S(3,"translate"),r()}o&2&&(n(2),C(" ",g(3,1,"ACTION.SITE")," "))}function fp(o,l){if(o&1){let e=L();a(0,"button",20),b("click",function(){m(e);let i=p(3);return i.onActionButtonViewUserRow(i.tableRowSelected),d(i.closeActionMenu())}),_(1,"i",25),c(2),S(3,"translate"),r()}o&2&&(n(2),C(" ",g(3,1,"ACTION.USER")," "))}function Cp(o,l){if(o&1){let e=L();a(0,"button",20),b("click",function(){m(e);let i=p(3);return i.onActionButtonViewMemberRow(i.tableRowSelected),d(i.closeActionMenu())}),_(1,"i",26),c(2),S(3,"translate"),r()}o&2&&(n(2),C(" ",g(3,1,"ACTION.MEMBER")," "))}function _p(o,l){if(o&1&&(a(0,"div",19),I(1,mp,4,3,"button"),I(2,dp,4,3,"button"),I(3,pp,4,3,"button"),I(4,up,4,3,"button"),I(5,fp,4,3,"button"),I(6,Cp,4,3,"button"),r()),o&2){let e=p(2);n(),E(!(e.dataModelResult==null||e.dataModelResult.access==null)&&e.dataModelResult.access.accessWatchRow?1:-1),n(),E(!(e.dataModelResult==null||e.dataModelResult.access==null)&&e.dataModelResult.access.accessEditRow?2:-1),n(),E(!(e.dataModelResult==null||e.dataModelResult.access==null)&&e.dataModelResult.access.accessDeleteRow?3:-1),n(),E((e.tableRowSelected==null?null:e.tableRowSelected.linkSiteId)>0?4:-1),n(),E((e.tableRowSelected==null?null:e.tableRowSelected.linkUserId)>0?5:-1),n(),E((e.tableRowSelected==null?null:e.tableRowSelected.linkMemberId)>0?6:-1)}}function Sp(o,l){if(o&1){let e=L();a(0,"div",3)(1,"div",4),b("click",function(i){let s=m(e).$implicit,u=p();return d(u.onActionTableRowSelect(s,i))}),a(2,"div",5)(3,"div",6)(4,"span",7),c(5),r(),a(6,"span",8),S(7,"statusCellClass"),_(8,"i",9),S(9,"statusIconClass"),r()(),a(10,"div",10)(11,"span"),c(12),S(13,"cmssiteinfo"),S(14,"async"),r(),a(15,"span"),c(16),S(17,"cmsuserinfo"),S(18,"async"),r()()(),a(19,"div",11)(20,"button",12),b("click",function(i){let s=m(e).$implicit;return p().toggleActionMenu(s.id),d(i.stopPropagation())}),_(21,"i",13),r()()(),R(22,cp,48,31,"div",14)(23,_p,7,6,"div",15),r()}if(o&2){let e=l.$implicit,t=p();O("cms-m-row-expanded",t.getRowExpanded(e)),n(5),C("#",e.id),n(),h("ngClass",g(7,9,e.recordStatus)),n(2),h("ngClass",g(9,11,e.recordStatus)),n(4),x(g(14,15,g(13,13,e.linkSiteId))),n(4),x(g(18,19,g(17,17,e.linkUserId))),n(6),h("ngIf",t.getRowExpanded(e)),n(),h("ngIf",t.actionMenuOpen===t.toString(e.id))}}var Ri=class Ri extends Ft{constructor(){super(...arguments);this.actionMenuOpen=null}toggleActionMenu(e){let t=String(e);this.actionMenuOpen===t?this.actionMenuOpen=null:this.actionMenuOpen=t}closeActionMenu(){this.actionMenuOpen=null}toString(e){return String(e)}onDocumentClick(e){let t=e.target;!t.closest(".cms-m-action-menu")&&!t.closest(".cms-m-action-menu-dropdown")&&this.closeActionMenu()}};Ri.\u0275fac=(()=>{let e;return function(i){return(e||(e=Te(Ri)))(i||Ri)}})(),Ri.\u0275cmp=V({type:Ri,selectors:[["app-core-log-report-data-list-mobile"]],hostBindings:function(t,i){t&1&&b("click",function(u){return i.onDocumentClick(u)},wn)},standalone:!1,features:[F],decls:4,vars:7,consts:[[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionOnScrollNearBottom","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-mobile-content",""],[1,"cms-m-row",3,"cms-m-row-expanded"],[1,"cms-m-row"],[1,"cms-m-row-header",3,"click"],[1,"cms-m-row-main"],[1,"cms-m-row-title"],[1,"cms-m-row-id"],[1,"cms-m-row-status",3,"ngClass"],[3,"ngClass"],[1,"cms-m-row-subtitle"],[1,"cms-m-row-actions"],["type","button",1,"cms-m-action-menu",3,"click"],[1,"fa-solid","fa-ellipsis-vertical"],["class","cms-m-row-content",4,"ngIf"],["class","cms-m-action-menu-dropdown",4,"ngIf"],[1,"cms-m-row-content"],[1,"cms-m-row-field"],[2,"direction","ltr"],[1,"cms-m-action-menu-dropdown"],[3,"click"],[1,"fa-solid","fa-eye"],[1,"fa-solid","fa-pen"],[1,"fa-solid","fa-trash"],[1,"fa-solid","fa-globe"],[1,"fa-solid","fa-user"],[1,"fa-solid","fa-id-card-clip"]],template:function(t,i){t&1&&(a(0,"app-cms-html-list-mobile",0),A("optionActionGuideNoticeDisplayChange",function(u){return D(i.viewGuideNotice,u)||(i.viewGuideNotice=u),u}),b("optionOnActionButtonMemoRow",function(){return i.onActionButtonMemoRow()})("optionOnActionButtonMemo",function(){return i.onActionButtonMemo()})("optionOnActionButtonExport",function(){return i.onActionButtonExport()})("optionOnActionButtonPrintRow",function(){return i.onActionButtonPrintRow()})("optionOnScrollNearBottom",function(){return i.onActionLoadNextPage()}),M(1,1),ge(2,Sp,24,21,"div",2,sp),w(),r()),t&2&&(h("optionsListInfoAreaId",i.constructorInfoAreaId)("optionGuideNoticeKey",""),T("optionActionGuideNoticeDisplay",i.viewGuideNotice),h("optionTreeDisplay",!1)("optionActionRowId",i.tableRowSelected==null?null:i.tableRowSelected.id)("optionActionRowDisplayMenu",i.tableRowSelect2Click)("optionSelectRowItemTitle",i.tableRowSelected==null?null:i.tableRowSelected.id),n(2),he(i.dataModelResult==null?null:i.dataModelResult.listItems))},dependencies:[ie,Fo,Qe,lt,N,ft,Nt,it,oe,nt],encapsulation:2});var ui=Ri;var gp=["vform"];function hp(o,l){if(o&1&&(a(0,"option",16),c(1),r()),o&2){let e=l.$implicit;h("value",e.value),n(),C(" ",e.description," ")}}function bp(o,l){o&1&&(a(0,"mat-error"),c(1," SendStatusType is "),a(2,"strong"),c(3),S(4,"translate"),r()()),o&2&&(n(3),x(g(4,1,"content.required")))}function vp(o,l){if(o&1&&(a(0,"div"),_(1,"div",35),S(2,"prettyjson"),r()),o&2){let e=p();n(),h("innerHTML",g(2,1,e.dataModel),gt)}}function Mp(o,l){if(o&1){let e=L();a(0,"div",34)(1,"button",36),b("click",function(){m(e);let i=p();return d(i.onFormCancel())}),_(2,"i",37),c(3),S(4,"translate"),r()()}o&2&&(n(3),C(" ",g(4,1,"ACTION.CANCEL")," "))}var Eo=class Eo extends It{constructor(e,t,i,s,u,f,y,P,re,Re){super(s,new ti,re,Re);this.data=e;this.dialogRef=t;this.coreEnumService=i;this.coreLogSmsService=s;this.cmsToastrService=u;this.tokenHelper=f;this.cmsStoreService=y;this.cdr=P;this.publicHelper=re;this.translate=Re;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new q;this.dataModel=new ti;this.dataModelEnumSendSmsStatusTypeResult=new q;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id)}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>z(this,null,function*(){this.tokenInfo=e}))),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:e=>{this.dataModelEnumSendSmsStatusTypeResult=e}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.coreLogSmsService.setAccessLoad(),this.coreLogSmsService.setAccessDataType(ht.Editor),this.coreLogSmsService.ServiceGetOneById(this.requestId).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModel=t.item,t.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+t.item.id,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=t.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(t.errorMessage)),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Eo.\u0275fac=function(t){return new(t||Eo)(v(de),v(me),v(ee),v(ei),v(K),v($),v(U),v(H),v(j),v(W))},Eo.\u0275cmp=V({type:Eo,selectors:[["app-core-log-sms-edit"]],viewQuery:function(t,i){if(t&1&&ae(gp,5),t&2){let s;le(s=se())&&(i.formGroup=s.first)}},standalone:!1,features:[F],decls:69,vars:35,consts:[["vform","ngForm"],["SendStatusType","ngModel"],["ModuleName",""],["ModuleEntityName",""],["ModuleEntityId",""],["FromNumber",""],["toNumber",""],["ApiNumber",""],["Message",""],["ReturnApi",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["id","dataModel.sendStatusType","name","dataModel.sendStatusType",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[3,"value"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],["for","dataModel.moduleName",1,"color-highlight"],["matInput","","type","text","name","dataModel.moduleName","placeholder","ModuleName","id","dataModel.moduleName",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.moduleEntityName",1,"color-highlight"],["matInput","","type","text","name","dataModel.moduleEntityName","placeholder","ModuleEntityName","id","dataModel.moduleEntityName",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.moduleEntityId",1,"color-highlight"],["matInput","","type","text","name","dataModel.moduleEntityId","placeholder","ModuleEntityId","id","dataModel.moduleEntityId",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.fromNumber",1,"color-highlight"],["matInput","","type","text","name","dataModel.fromNumber","placeholder","FromNumber","id","dataModel.fromNumber",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.toNumber",1,"color-highlight"],["matInput","","type","text","name","dataModel.toNumber","placeholder","toNumber","id","dataModel.toNumber",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.apiNumber",1,"color-highlight"],["matInput","","type","text","name","dataModel.apiNumber","placeholder","ApiNumber","id","dataModel.apiNumber",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.message",1,"color-highlight"],["matInput","","name","dataModel.message","type","text","placeholder","Message","id","dataModel.message",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.returnApi",1,"color-highlight"],["matInput","","name","dataModel.returnApi","type","text","placeholder","ReturnApi","id","dataModel.returnApi",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[1,"form-actions"],[3,"innerHTML"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(t,i){if(t&1){let s=L();a(0,"div",10),_(1,"app-progress-spinner",11),a(2,"div",12)(3,"p",13),c(4),r(),a(5,"p"),c(6),S(7,"translate"),r(),a(8,"form",null,0)(10,"div",14)(11,"select",15,1),A("ngModelChange",function(f){return m(s),D(i.dataModel.sendStatusType,f)||(i.dataModel.sendStatusType=f),d(f)}),ge(13,hp,2,2,"option",16,Kt),r(),a(15,"em"),c(16),S(17,"translate"),r(),I(18,bp,5,3,"mat-error"),r(),_(19,"app-cms-site-selector",17),S(20,"translate"),_(21,"app-cms-user-selector",17),S(22,"translate"),_(23,"app-cms-member-selector",17),S(24,"translate"),a(25,"div",14)(26,"label",18),c(27,"ModuleName"),r(),a(28,"input",19,2),A("ngModelChange",function(f){return m(s),D(i.dataModel.moduleName,f)||(i.dataModel.moduleName=f),d(f)}),r()(),a(30,"div",14)(31,"label",20),c(32,"ModuleEntityName"),r(),a(33,"input",21,3),A("ngModelChange",function(f){return m(s),D(i.dataModel.moduleEntityName,f)||(i.dataModel.moduleEntityName=f),d(f)}),r()(),a(35,"div",14)(36,"label",22),c(37,"ModuleEntityId"),r(),a(38,"input",23,4),A("ngModelChange",function(f){return m(s),D(i.dataModel.moduleEntityId,f)||(i.dataModel.moduleEntityId=f),d(f)}),r()(),a(40,"div",14)(41,"label",24),c(42,"FromNumber"),r(),a(43,"input",25,5),A("ngModelChange",function(f){return m(s),D(i.dataModel.fromNumber,f)||(i.dataModel.fromNumber=f),d(f)}),r()(),a(45,"div",14)(46,"label",26),c(47,"toNumber"),r(),a(48,"input",27,6),A("ngModelChange",function(f){return m(s),D(i.dataModel.toNumber,f)||(i.dataModel.toNumber=f),d(f)}),r()(),a(50,"div",14)(51,"label",28),c(52,"ApiNumber"),r(),a(53,"input",29,7),A("ngModelChange",function(f){return m(s),D(i.dataModel.apiNumber,f)||(i.dataModel.apiNumber=f),d(f)}),r()(),a(55,"div",14)(56,"label",30),c(57,"Message"),r(),a(58,"textarea",31,8),A("ngModelChange",function(f){return m(s),D(i.dataModel.message,f)||(i.dataModel.message=f),d(f)}),c(60,"                              "),r()(),a(61,"div",14)(62,"label",32),c(63,"ReturnApi"),r(),a(64,"textarea",33,9),A("ngModelChange",function(f){return m(s),D(i.dataModel.returnApi,f)||(i.dataModel.returnApi=f),d(f)}),c(66,"                                "),r()(),I(67,vp,3,3,"div"),I(68,Mp,5,3,"div",34),r()()()}if(t&2){let s=X(12);n(),h("optionsInfoAreaId",i.constructorInfoAreaId),n(3),C(" ",i.formInfo.formTitle," "),n(2),C(" ",g(7,25,"TITLE.Be_Careful_When_Entering_Information")," "),n(5),T("ngModel",i.dataModel.sendStatusType),n(2),he(i.dataModelEnumSendSmsStatusTypeResult.listItems),n(3),x(g(17,27,"TITLE.SELECT_STATUS")),n(2),E(s.errors!=null&&s.errors.required?18:-1),n(),h("optionDisabled",!0)("optionSelectForce",i.dataModel.linkSiteId)("optionPlaceholder",g(20,29,"TITLE.SITE")),n(2),h("optionDisabled",!0)("optionSelectForce",i.dataModel.linkUserId)("optionPlaceholder",g(22,31,"TITLE.USER")),n(2),h("optionDisabled",!0)("optionSelectForce",i.dataModel.linkMemberId)("optionPlaceholder",g(24,33,"TITLE.Member")),n(5),T("ngModel",i.dataModel.moduleName),n(5),T("ngModel",i.dataModel.moduleEntityName),n(5),T("ngModel",i.dataModel.moduleEntityId),n(5),T("ngModel",i.dataModel.fromNumber),n(5),T("ngModel",i.dataModel.toNumber),n(5),T("ngModel",i.dataModel.apiNumber),n(5),T("ngModel",i.dataModel.message),n(6),T("ngModel",i.dataModel.returnApi),n(3),E(i.tokenInfo.access.userAccessAdminAllowToProfessionalData?67:-1),n(),E(i.formInfo.submitButtonEnabled?68:-1)}},dependencies:[Mt,Hi,Wi,Ye,Fi,Xe,bt,Ze,vt,Ui,pe,ai,Vt,Bt,Ce,N,wt],encapsulation:2});var pn=Eo;var wp=["vform"];function Ip(o,l){if(o&1){let e=L();a(0,"div",7)(1,"button",8),b("click",function(){m(e);let i=p();return d(i.onFormCancel())}),_(2,"i",9),c(3),S(4,"translate"),r()()}o&2&&(n(3),C(" ",g(4,1,"ACTION.CANCEL")," "))}var yo=class yo{constructor(l,e,t,i,s,u,f,y,P,re){this.data=l;this.dialogRef=e;this.coreEnumService=t;this.coreLogSmsService=i;this.cmsToastrService=s;this.tokenHelper=u;this.cmsStoreService=f;this.cdr=y;this.publicHelper=P;this.translate=re;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.tokenInfo=new dt;this.dataModelResult=new q;this.dataModel=new ti;this.formInfo=new pt;this.dataModelEnumSendSmsStatusTypeResult=new q;this.fieldsInfo=new Map;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,l&&(this.requestId=l.id+"")}ngOnInit(){if(this.translate.get("TITLE.VIEW").subscribe(l=>{this.formInfo.formTitle=l}),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(l=>l.tokenInfoStore).subscribe(l=>z(this,null,function*(){this.tokenInfo=l}))),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:l=>{this.dataModelEnumSendSmsStatusTypeResult=l}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(l=>l.unsubscribe())}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage="";let l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(l,e,this.constructorInfoAreaId)}),this.coreLogSmsService.setAccessLoad(),this.coreLogSmsService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModel=e.item,e.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+e.item.id,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=e.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(e.errorMessage)),this.publicHelper.processService.processStop(l)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(l,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};yo.\u0275fac=function(e){return new(e||yo)(v(de),v(me),v(ee),v(ei),v(K),v($),v(U),v(H),v(j),v(W))},yo.\u0275cmp=V({type:yo,selectors:[["app-core-log-sms-view"]],viewQuery:function(e,t){if(e&1&&ae(wp,5),e&2){let i;le(i=se())&&(t.formGroup=i.first)}},standalone:!1,decls:9,vars:6,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection","loader-container"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[3,"formInfo"],[1,"ntk-cms-html-card-footer"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,t){e&1&&(a(0,"div",0),c(1),r(),a(2,"div",1),_(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),r(),a(5,"div",4),_(6,"app-cms-form-result-message",5),r(),a(7,"div",6),I(8,Ip,5,3,"div",7),r()),e&2&&(n(),C(" ",t.formInfo.formTitle," "),n(2),h("optionsInfoAreaId",t.constructorInfoAreaId),n(),h("dataModel",t.dataModel)("optionMethod",1),n(2),h("formInfo",t.formInfo),n(2),E(t.formInfo.submitButtonEnabled?8:-1))},dependencies:[Ce,Et,ut,N],encapsulation:2});var un=yo;var Ep=()=>[5,10,20,100];function yp(o,l){if(o&1){let e=L();a(0,"a",44),b("click",function(){m(e);let i=p();return d(i.onActionBackToParent())}),_(1,"i",45),r()}}function Lp(o,l){if(o&1){let e=L();a(0,"div",17)(1,"a",46),b("click",function(){m(e);let i=p();return d(i.onActionButtonViewRow(i.tableRowSelected))}),_(2,"i",47)(3,"br"),r(),a(4,"p",48),c(5),S(6,"translate"),r()()}o&2&&(n(5),C(" ",g(6,1,"ACTION.VIEW")," "))}function Rp(o,l){if(o&1){let e=L();a(0,"div",17)(1,"a",49),b("click",function(){m(e);let i=p();return d(i.onActionButtonEditRow(i.tableRowSelected))}),_(2,"i",50)(3,"br"),r(),a(4,"p",48),c(5),S(6,"translate"),r()()}o&2&&(n(5),C(" ",g(6,1,"ACTION.EDIT")," "))}function Tp(o,l){if(o&1){let e=L();a(0,"div",17)(1,"a",51),b("click",function(){m(e);let i=p();return d(i.onActionButtonDeleteRow(i.tableRowSelected))}),_(2,"i",52)(3,"br"),r(),a(4,"p",48),c(5),S(6,"translate"),r()()}o&2&&(n(5),C(" ",g(6,1,"ACTION.DELETE")," "))}function Dp(o,l){if(o&1){let e=L();a(0,"div",17)(1,"a",46),b("click",function(){m(e);let i=p();return d(i.onActionButtonViewUserRow(i.tableRowSelected))}),_(2,"i",53)(3,"br"),r(),a(4,"p",48),c(5),S(6,"translate"),r()()}o&2&&(n(5),C(" ",g(6,1,"ACTION.USER")," "))}function Ap(o,l){if(o&1){let e=L();a(0,"div",17)(1,"a",46),b("click",function(){m(e);let i=p();return d(i.onActionButtonViewMemberRow(i.tableRowSelected))}),_(2,"i",54)(3,"br"),r(),a(4,"p",48),c(5),S(6,"translate"),r()()}o&2&&(n(5),C(" ",g(6,1,"ACTION.MEMBER")," "))}function xp(o,l){if(o&1&&(a(0,"mat-header-cell",55),c(1),r()),o&2){let e=p();n(),C(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function kp(o,l){if(o&1&&(a(0,"mat-cell"),c(1),r()),o&2){let e=l.$implicit;n(),C(" ",e.id," ")}}function Vp(o,l){if(o&1&&(a(0,"mat-header-cell",55),c(1),r()),o&2){let e=p();n(),C(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function Np(o,l){if(o&1&&(a(0,"mat-cell",56),S(1,"statusCellClass"),_(2,"i",56),S(3,"statusIconClass"),r()),o&2){let e=l.$implicit;h("ngClass",g(1,2,e.recordStatus)),n(2),h("ngClass",g(3,4,e.recordStatus))}}function Bp(o,l){if(o&1&&(a(0,"mat-header-cell",55),c(1),r()),o&2){let e=p();n(),C(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function Op(o,l){if(o&1&&(a(0,"mat-cell"),c(1),S(2,"cmssiteinfo"),S(3,"async"),r()),o&2){let e=l.$implicit;n(),C(" ",g(3,3,g(2,1,e.linkSiteId))," ")}}function Pp(o,l){if(o&1&&(a(0,"mat-header-cell",55),c(1),r()),o&2){let e=p();n(),C(" ",e.fieldsInfo.linkUserId==null?null:e.fieldsInfo.linkUserId.fieldTitle," ")}}function Gp(o,l){if(o&1&&(a(0,"mat-cell"),c(1),S(2,"cmsuserinfo"),S(3,"async"),r()),o&2){let e=l.$implicit;n(),C(" ",g(3,3,g(2,1,e.linkUserId))," ")}}function Fp(o,l){if(o&1&&(a(0,"mat-header-cell",55),c(1),r()),o&2){let e=p();n(),C(" ",e.fieldsInfo.linkMemberId==null?null:e.fieldsInfo.linkMemberId.fieldTitle," ")}}function Hp(o,l){if(o&1&&(a(0,"mat-cell"),c(1),r()),o&2){let e=l.$implicit;n(),C(" ",e.linkMemberId," ")}}function Wp(o,l){if(o&1&&(a(0,"mat-header-cell",55),c(1),r()),o&2){let e=p();n(),C(" ",e.fieldsInfo.apiNumber==null?null:e.fieldsInfo.apiNumber.fieldTitle," ")}}function Up(o,l){if(o&1&&(a(0,"mat-cell"),c(1),r()),o&2){let e=l.$implicit;n(),C(" ",e.apiNumber," ")}}function jp(o,l){if(o&1&&(a(0,"mat-header-cell",55),c(1),r()),o&2){let e=p();n(),C(" ",e.fieldsInfo.fromNumber==null?null:e.fieldsInfo.fromNumber.fieldTitle," ")}}function qp(o,l){if(o&1&&(a(0,"mat-cell"),c(1),r()),o&2){let e=l.$implicit;n(),C(" ",e.fromNumber," ")}}function Qp(o,l){if(o&1&&(a(0,"mat-header-cell",55),c(1),r()),o&2){let e=p();n(),C(" ",e.fieldsInfo.toNumber==null?null:e.fieldsInfo.toNumber.fieldTitle," ")}}function zp(o,l){if(o&1&&(a(0,"mat-cell",57),c(1),r()),o&2){let e=l.$implicit;n(),C(" ",e.toNumber," ")}}function $p(o,l){if(o&1&&(a(0,"mat-header-cell",55),c(1),r()),o&2){let e=p();n(),C(" ",e.fieldsInfo.sendStatusType==null?null:e.fieldsInfo.sendStatusType.fieldTitle," ")}}function Kp(o,l){if(o&1&&(a(0,"mat-cell"),c(1),S(2,"enums"),r()),o&2){let e=l.$implicit,t=p();n(),C(" ",Wt(2,1,e.sendStatusType,t.dataModelEnumSendSmsStatusTypeResult.listItems)," ")}}function Jp(o,l){if(o&1&&(a(0,"mat-header-cell",55),c(1),r()),o&2){let e=p();n(),C(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function Yp(o,l){if(o&1&&(a(0,"mat-cell",58),c(1),S(2,"localeDateTime"),r()),o&2){let e=l.$implicit;n(),C(" ",g(2,1,e.createdDate)," ")}}function Xp(o,l){o&1&&(a(0,"mat-header-cell"),c(1),S(2,"translate"),r()),o&2&&(n(),C(" ",g(2,1,"TITLE.OPTION")," "))}function Zp(o,l){if(o&1&&(a(0,"mat-cell",59)(1,"button",60)(2,"mat-icon"),c(3,"more_vert"),r()(),_(4,"mat-menu",null,2),r()),o&2){let e=X(5);n(),h("matMenuTriggerFor",e)}}function e0(o,l){o&1&&_(0,"mat-header-row")}function t0(o,l){if(o&1){let e=L();a(0,"mat-row",61),b("click",function(i){let s=m(e).$implicit,u=p();return d(u.onActionTableRowSelect(s,i))})("rtclick",function(i){let s=m(e).$implicit,u=p();return d(u.onActionTableRowSelect(s,i))}),r()}if(o&2){let e=l.$implicit,t=p();O("ntk-row-selected",e.id===(t.tableRowSelected==null?null:t.tableRowSelected.id))}}var Lo=class Lo extends Ct{constructor(e,t,i,s,u,f,y,P,re,Re,Ot,kt,ve){super(t,new ti,kt,f,P);this.coreEnumService=e;this.contentService=t;this.cmsToastrService=i;this.cmsConfirmationDialogService=s;this.activatedRoute=u;this.tokenHelper=f;this.cdr=y;this.translate=P;this.cmsStoreService=re;this.router=Re;this.pageInfo=Ot;this.publicHelper=kt;this.dialog=ve;this.requestLinkSiteId=0;this.requestLinkUserId=0;this.requestLinkDeviceId=0;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new Ke;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["id","linkUserId","linkSiteId","linkMemberId","SendStatusType","FromNumber","ToNumber","ApiNumber","createdDate"];this.tabledisplayedColumnsMobileSource=["id","linkUserId","linkSiteId","linkMemberId","SendStatusType","FromNumber","ToNumber","ApiNumber","createdDate"];this.dataModelEnumSendSmsStatusTypeResult=new q;this.unsubscribe=[];if(this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkDeviceId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkDeviceId")),this.requestLinkSiteId>0){let k=new G;k.propertyName="LinkCmsSiteId",k.value=this.requestLinkSiteId,this.filteModelContent.filters.push(k)}if(this.requestLinkUserId>0){let k=new G;k.propertyName="linkUserId",k.value=this.requestLinkUserId,this.filteModelContent.filters.push(k)}if(this.requestLinkDeviceId>0){let k=new G;k.propertyName="LinkDeviceId",k.value=this.requestLinkDeviceId,this.filteModelContent.filters.push(k)}this.optionsSearch.parentMethods={onSubmit:k=>this.onSubmitOptionsSearch(k)},this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=Q.Descending,this.optionsSearch.data.filterModelContent=this.filteModelContent,this.optionsSearch.data.filterActionSearchRecordStatusShow=!0,this.tokenHelper.isAdminSite?(this.optionsSearch.data.filterActionSearchLinkUserIdShow=!0,this.optionsSearch.data.filterActionSearchLinkSiteIdShow=!0):(this.optionsSearch.data.filterActionSearchLinkSiteIdShow=!1,this.optionsSearch.data.filterActionSearchLinkUserIdShow=!1)}ngOnInit(){this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=Q.Descending,this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>z(this,null,function*(){this.tokenInfo=e,this.DataGetAll()}))),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:e=>{this.dataModelEnumSendSmsStatusTypeResult=e}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}filterModelCompiler(e){let t=JSON.parse(JSON.stringify(e));return this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(t.filters=[...this.filterDataModelQueryBuilder]),t}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new ti);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let t=this.filterModelCompiler(this.filteModelContent);if(this.filteModelContent.filterActionSearchRecordStatus>0){let i=new G;i.propertyName="recordStatus",i.value=this.filteModelContent.filterActionSearchRecordStatus,t.filters.push(i)}if(this.filteModelContent.filterActionSearchLinkSiteId>0){let i=new G;i.propertyName="linkSiteId",i.value=this.filteModelContent.filterActionSearchLinkSiteId,t.filters.push(i)}if(this.filteModelContent.filterActionSearchLinkUserId>0){let i=new G;i.propertyName="linkUserId",i.value=this.filteModelContent.filterActionSearchLinkUserId,t.filters.push(i)}this.contentService.ServiceGetAllEditor(t).subscribe({next:i=>{i.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.applyDataGetAllResult(i),this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(i.access)},1e3)):this.cmsToastrService.typeErrorMessage(i.errorMessage),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=Q.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=Q.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=Q.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonViewRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var t="";this.publicHelper.isMobile?t="dialog-fullscreen":t="dialog-min",this.dialog.open(un,{height:"90%",panelClass:t,enterAnimationDuration:J.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:J.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate})}onActionButtonEditRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var t="";this.publicHelper.isMobile?t="dialog-fullscreen":t="dialog-min",this.dialog.open(pn,{height:"90%",panelClass:t,enterAnimationDuration:J.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:J.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(s=>{this.cmsToastrService.typeErrorSelected(s)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var t="",i="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(s=>{t=s["MESSAGE.Please_Confirm"],i=s["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(t,i).then(s=>{if(s){let u=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(f=>{this.publicHelper.processService.processStart(u,f,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:f=>{f.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(u)},error:f=>{this.cmsToastrService.typeError(f),this.publicHelper.processService.processStop(u,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let t=new Map;this.translate.get("MESSAGE.Active").subscribe(y=>{t.set(y,0)}),this.translate.get("MESSAGE.All").subscribe(y=>{t.set(y,0)});let i=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(y=>{this.publicHelper.processService.processStart(i,y,this.constructorInfoAreaId)});let s=this.filterModelCompiler(this.filteModelContent);this.contentService.ServiceGetCount(s).subscribe({next:y=>{y.isSuccess?(this.translate.get("MESSAGE.All").subscribe(P=>{t.set(P,y.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(t)):this.cmsToastrService.typeErrorMessage(y.errorMessage),this.publicHelper.processService.processStop(i)},error:y=>{this.cmsToastrService.typeError(y),this.publicHelper.processService.processStop(i,!1)}});let u=this.filterModelCompiler(this.filteModelContent),f=new G;f.propertyName="recordStatus",f.value=mt.Available,u.filters.push(f),this.contentService.ServiceGetCount(u).subscribe({next:y=>{y.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(P=>{t.set(P,y.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(t)):this.cmsToastrService.typeErrorMessage(y.errorMessage),this.publicHelper.processService.processStop(i)},error:y=>{this.cmsToastrService.typeError(y),this.publicHelper.processService.processStop(i,!1)}})}onActionButtonViewUserRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkUserId||this.tableRowSelected.linkUserId===0){this.translate.get("MESSAGE.content_does_not_contain_user_information").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId])}onActionButtonViewMemberRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkMemberId||this.tableRowSelected.linkMemberId===""){this.translate.get("MESSAGE.content_does_not_include_member_informations").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}this.router.navigate(["/member/user/edit",this.tableRowSelected.linkMemberId])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};Lo.\u0275fac=function(t){return new(t||Lo)(v(ee),v(ei),v(K),v(ot),v(st),v($),v(H),v(W),v(U),v(ct),v(je),v(j),v(Ae))},Lo.\u0275cmp=V({type:Lo,selectors:[["app-core-log-sms-list"]],standalone:!1,features:[F],decls:71,vars:33,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],[1,"col-4"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","recordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","linkSiteId"],["matColumnDef","linkUserId"],["matColumnDef","linkMemberId"],["matColumnDef","ApiNumber"],["matColumnDef","FromNumber"],["matColumnDef","ToNumber"],["class","grid-row-ltr",4,"matCellDef"],["matColumnDef","SendStatusType"],["matColumnDef","createdDate"],["style","direction: ltr",4,"matCellDef"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-id-card-clip",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],[1,"grid-row-ltr"],[2,"direction","ltr"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(t,i){if(t&1){let s=L();a(0,"app-cms-html-list",3),A("optionActionGuideNoticeDisplayChange",function(f){return m(s),D(i.viewGuideNotice,f)||(i.viewGuideNotice=f),d(f)}),b("optionOnActionButtonMemoRow",function(){return m(s),d(i.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return m(s),d(i.onActionButtonMemo())})("optionOnActionButtonExport",function(){return m(s),d(i.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return m(s),d(i.onActionButtonPrintRow())}),M(1,4),c(2," -------------------------------------- "),w(),B(3,5)(4,6),M(5,7),I(6,yp,2,0,"a",8),a(7,"a",9),b("click",function(){return m(s),d(i.viewGuideNotice=!i.viewGuideNotice)}),_(8,"i",10),r(),a(9,"a",9),b("click",function(){return m(s),d(i.onActionButtonReload())}),_(10,"i",11),r(),w(),M(11,12),a(12,"a",13),b("click",function(){return m(s),d(i.optionsSearch.data.show=!i.optionsSearch.data.show)}),_(13,"mat-slide-toggle",14),c(14),S(15,"translate"),r(),a(16,"a",13),b("click",function(){return m(s),d(i.onActionButtonStatist())}),_(17,"mat-slide-toggle",14),c(18),S(19,"translate"),r(),w(),B(20,15),M(21,16),I(22,Lp,7,3,"div",17),I(23,Rp,7,3,"div",17),I(24,Tp,7,3,"div",17),I(25,Dp,7,3,"div",17),I(26,Ap,7,3,"div",17),w(),M(27,18),a(28,"app-cms-search-list",19),A("optionsChange",function(f){return m(s),D(i.optionsSearch,f)||(i.optionsSearch=f),d(f)}),r(),a(29,"app-cms-statist-list",19),A("optionsChange",function(f){return m(s),D(i.optionsStatist,f)||(i.optionsStatist=f),d(f)}),r(),w(),M(30,20),a(31,"mat-table",21,0),b("matSortChange",function(){m(s);let f=X(32);return d(i.onTableSortData(f))}),M(33,22),R(34,xp,2,1,"mat-header-cell",23)(35,kp,2,1,"mat-cell",24),w(),M(36,25),R(37,Vp,2,1,"mat-header-cell",23)(38,Np,4,6,"mat-cell",26),w(),M(39,27),R(40,Bp,2,1,"mat-header-cell",23)(41,Op,4,5,"mat-cell",24),w(),M(42,28),R(43,Pp,2,1,"mat-header-cell",23)(44,Gp,4,5,"mat-cell",24),w(),M(45,29),R(46,Fp,2,1,"mat-header-cell",23)(47,Hp,2,1,"mat-cell",24),w(),M(48,30),R(49,Wp,2,1,"mat-header-cell",23)(50,Up,2,1,"mat-cell",24),w(),M(51,31),R(52,jp,2,1,"mat-header-cell",23)(53,qp,2,1,"mat-cell",24),w(),M(54,32),R(55,Qp,2,1,"mat-header-cell",23)(56,zp,2,1,"mat-cell",33),w(),M(57,34),R(58,$p,2,1,"mat-header-cell",23)(59,Kp,3,4,"mat-cell",24),w(),M(60,35),R(61,Jp,2,1,"mat-header-cell",23)(62,Yp,3,3,"mat-cell",36),w(),M(63,37),R(64,Xp,3,3,"mat-header-cell",38)(65,Zp,6,1,"mat-cell",39),w(),R(66,e0,1,0,"mat-header-row",40)(67,t0,1,2,"mat-row",41),r(),w(),M(68,42),a(69,"mat-paginator",43,1),b("page",function(f){return m(s),d(i.onTablePageingData(f))}),r(),w(),r()}t&2&&(h("optionsListInfoAreaId",i.constructorInfoAreaId)("optionGuideNoticeKey",""),T("optionActionGuideNoticeDisplay",i.viewGuideNotice),h("optionTreeDisplay",!1)("optionActionRowId",i.tableRowSelected==null?null:i.tableRowSelected.id)("optionActionRowDisplayMenu",i.tableRowSelect2Click)("optionSelectRowItemTitle",i.tableRowSelected==null?null:i.tableRowSelected.id),n(6),E(i.requestLinkSiteId>0?6:-1),n(4),O("rotation360",i.publicHelper.processService.process.inRunArea[i.constructorInfoAreaId]),n(3),h("checked",i.optionsSearch.data.show),n(),C("",g(15,28,"ACTION.SEARCH")," "),n(3),h("checked",i.optionsStatist.data.show),n(),C("",g(19,30,"ACTION.STATIST")," "),n(4),E(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessWatchRow?22:-1),n(),E(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessEditRow?23:-1),n(),E(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessDeleteRow?24:-1),n(),E((i.tableRowSelected==null?null:i.tableRowSelected.linkUserId)>0?25:-1),n(),E((i.tableRowSelected==null?null:i.tableRowSelected.linkMemberId)>0?26:-1),n(2),T("options",i.optionsSearch),n(),T("options",i.optionsStatist),n(2),h("dataSource",i.tableSource),n(35),h("matHeaderRowDef",i.tabledisplayedColumns),n(),h("matRowDefColumns",i.tabledisplayedColumns),n(2),h("length",i.dataModelResult.totalRowCount)("pageIndex",i.dataModelResult.currentPageNumber-1)("pageSize",i.dataModelResult.rowPerPage)("pageSizeOptions",ce(32,Ep)))},dependencies:[ie,De,ye,et,tt,ue,fe,xe,ke,Ve,Be,Fe,Oe,Ne,He,Pe,Ge,We,Ue,_e,Se,qe,Y,lt,N,ji,ft,Nt,it,oe,nt],encapsulation:2});var Ro=Lo;var i0=()=>[5,10,20,100],o0=(o,l)=>l.id;function n0(o,l){if(o&1){let e=L();a(0,"a",26),b("click",function(){m(e);let i=p();return d(i.onActionBackToParent())}),_(1,"i",27),r()}}function r0(o,l){if(o&1){let e=L();a(0,"div",18)(1,"a",28),b("click",function(){m(e);let i=p();return d(i.onActionButtonEditRow(i.tableRowSelected))}),_(2,"i",29)(3,"br"),r(),a(4,"p",30),c(5),S(6,"translate"),r()()}o&2&&(n(5),C(" ",g(6,1,"ACTION.EDIT")," "))}function a0(o,l){if(o&1){let e=L();a(0,"div",18)(1,"a",31),b("click",function(){m(e);let i=p();return d(i.onActionButtonDeleteRow(i.tableRowSelected))}),_(2,"i",32)(3,"br"),r(),a(4,"p",30),c(5),S(6,"translate"),r()()}o&2&&(n(5),C(" ",g(6,1,"ACTION.DELETE")," "))}function l0(o,l){if(o&1){let e=L();a(0,"div",18)(1,"a",33),b("click",function(){m(e);let i=p();return d(i.onActionButtonViewRow(i.tableRowSelected))}),_(2,"i",34)(3,"br"),r(),a(4,"p",30),c(5),S(6,"translate"),r()()}o&2&&(n(5),C(" ",g(6,1,"ACTION.VIEW")," "))}function s0(o,l){if(o&1&&(a(0,"div",41),_(1,"i",43),c(2),r()),o&2){let e=p().$implicit,t=p(2);n(2),be(" ",t.fieldsInfo.id==null?null:t.fieldsInfo.id.fieldTitle,": ",e.id," ")}}function c0(o,l){if(o&1&&(a(0,"div",41),_(1,"i",44),c(2),S(3,"localeDate"),r()),o&2){let e=p().$implicit,t=p(2);n(2),be(" ",t.fieldsInfo.createdDate==null?null:t.fieldsInfo.createdDate.fieldTitle,": ",g(3,2,e.createdDate)," ")}}function m0(o,l){if(o&1&&_(0,"select",46),o&2){let e=p(2).$implicit,t=p(2);h("contentService",t.contentService)("row",e)}}function d0(o,l){if(o&1&&(a(0,"div",41),_(1,"i",45),S(2,"statusIconClass"),I(3,m0,1,2,"select",46),r()),o&2){let e=p().$implicit,t=p(2);n(),h("ngClass",g(2,2,e.recordStatus)),n(2),E(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow&&e.id===(t.tableRowSelected==null?null:t.tableRowSelected.id)?3:-1)}}function p0(o,l){if(o&1&&(a(0,"div",41),_(1,"i",49),c(2),S(3,"localeDate"),r()),o&2){let e=p(2).$implicit,t=p(2);n(2),be(" ",t.fieldsInfo.updatedDate==null?null:t.fieldsInfo.updatedDate.fieldTitle,": ",g(3,2,e.updatedDate)," ")}}function u0(o,l){if(o&1){let e=L();a(0,"div",42),I(1,p0,4,4,"div",41),a(2,"div",41)(3,"span",47),b("click",function(i){return m(e),p(3).onActionCopied(),d(i.stopPropagation())}),_(4,"i",48),r(),c(5),r()()}if(o&2){let e=p().$implicit;n(),E(e.updatedDate?1:-1),n(2),h("cdkCopyToClipboard",e.id.toString()),n(2),C(" ID: ",e.id," ")}}function f0(o,l){if(o&1){let e=L();a(0,"div",36),b("click",function(i){let s=m(e).$implicit,u=p(2);return d(u.onActionTableRowSelect(s,i))})("rtclick",function(i){let s=m(e).$implicit,u=p(2);return d(u.onActionTableRowSelect(s,i))})("mouseenter",function(){let i=m(e).$implicit,s=p(2);return d(s.onActionTableRowMouseEnter(i))})("mouseleave",function(){let i=m(e).$implicit,s=p(2);return d(s.onActionTableRowMouseLeave(i))}),a(1,"div",37),_(2,"i",38),S(3,"statusIconClass"),r(),a(4,"div",39)(5,"div",40),c(6),r(),I(7,s0,3,2,"div",41),I(8,c0,4,4,"div",41),I(9,d0,4,4,"div",41),I(10,u0,6,3,"div",42),r()()}if(o&2){let e=l.$implicit,t=p(2);O("selected",e.id===(t.tableRowSelected==null?null:t.tableRowSelected.id))("bg-fade-highlight-light",e.id===(t.tableRowSelected==null?null:t.tableRowSelected.id)),$e("aria-label",e.id),n(2),h("ngClass",g(3,11,e.recordStatus)),n(4),x("ID: "+e.id),n(),E(e.id?7:-1),n(),E(e.createdDate?8:-1),n(),E(e.recordStatus!==void 0?9:-1),n(),E(t.getRowExpanded(e)?10:-1)}}function C0(o,l){if(o&1&&(a(0,"div",22),ge(1,f0,11,13,"div",35,o0),r()),o&2){let e=p();n(),he(e.dataModelResult.listItems)}}function _0(o,l){o&1&&(a(0,"div",23),c(1),S(2,"translate"),r()),o&2&&(n(),x(g(2,1,"MESSAGE.NoRecord")))}var Ti=class Ti extends Ro{};Ti.\u0275fac=(()=>{let l;return function(t){return(l||(l=Te(Ti)))(t||Ti)}})(),Ti.\u0275cmp=V({type:Ti,selectors:[["app-core-log-sms-list-mobile"]],standalone:!1,features:[F],decls:37,vars:31,consts:[["paginator",""],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionOnScrollNearBottom","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplay","optionActionRowDisplayMenu","optionActionRowDisplayMenuAct","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-maximize","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-minimize","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],[1,"col-4"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],[1,"cms-m-list"],[1,"cms-m-empty"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],["role","button","tabindex","0",1,"cms-m-list-item","border-highlight",3,"selected","bg-fade-highlight-light"],["role","button","tabindex","0",1,"cms-m-list-item","border-highlight",3,"click","rtclick","mouseenter","mouseleave"],[1,"cms-m-list-item-image-placeholder"],["aria-hidden","true",3,"ngClass"],[1,"cms-m-list-item-content"],[1,"cms-m-list-item-title"],[1,"cms-m-list-item-subtitle"],[1,"cms-m-list-item-expanded"],["aria-hidden","true",1,"fa-solid","fa-hashtag"],["aria-hidden","true",1,"fa-solid","fa-calendar"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none","margin-left","8px",3,"contentService","row"],[1,"navi-icon","pointer",3,"click","cdkCopyToClipboard"],[1,"flaticon2-copy"],["aria-hidden","true",1,"fa-solid","fa-calendar-check"]],template:function(e,t){if(e&1){let i=L();a(0,"app-cms-html-list-mobile",1),A("optionActionGuideNoticeDisplayChange",function(u){return m(i),D(t.viewGuideNotice,u)||(t.viewGuideNotice=u),d(u)}),b("optionOnActionButtonMemoRow",function(){return m(i),d(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return m(i),d(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return m(i),d(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return m(i),d(t.onActionButtonPrintRow())})("optionOnScrollNearBottom",function(){return m(i),d(t.onActionLoadNextPage())}),B(1,2)(2,3)(3,4),M(4,5),I(5,n0,2,0,"a",6),a(6,"a",7),b("click",function(){return m(i),d(t.viewGuideNotice=!t.viewGuideNotice)}),_(7,"i",8),r(),a(8,"a",7),b("click",function(){return m(i),d(t.onActionButtonReload())}),_(9,"i",9),r(),a(10,"a",10),b("click",function(){return m(i),d(t.onActionGridExpandRows(!0))}),_(11,"i",11),r(),a(12,"a",10),b("click",function(){return m(i),d(t.onActionGridExpandRows(!1))}),_(13,"i",12),r(),w(),M(14,13),a(15,"a",14),b("click",function(){return m(i),d(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),_(16,"mat-slide-toggle",15),c(17),S(18,"translate"),r(),a(19,"a",14),b("click",function(){return m(i),d(t.onActionButtonStatist())}),_(20,"mat-slide-toggle",15),c(21),S(22,"translate"),r(),w(),B(23,16),M(24,17),I(25,r0,7,3,"div",18),I(26,a0,7,3,"div",18),I(27,l0,7,3,"div",18),w(),M(28,19),a(29,"app-cms-search-list",20),A("optionsChange",function(u){return m(i),D(t.optionsSearch,u)||(t.optionsSearch=u),d(u)}),r(),a(30,"app-cms-statist-list",20),A("optionsChange",function(u){return m(i),D(t.optionsStatist,u)||(t.optionsStatist=u),d(u)}),r(),w(),M(31,21),I(32,C0,3,0,"div",22)(33,_0,3,3,"div",23),w(),M(34,24),a(35,"mat-paginator",25,0),b("page",function(u){return m(i),d(t.onTablePageingData(u))}),r(),w(),r()}e&2&&(h("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey","core-log.sms.list"),T("optionActionGuideNoticeDisplay",t.viewGuideNotice),h("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplay",(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionActionRowDisplayMenuAct",t.tableRowSelectActionMenuClick)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),n(5),E(t.requestLinkSiteId>0?5:-1),n(4),O("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),n(7),h("checked",t.optionsSearch.data.show),n(),C(" ",g(18,26,"ACTION.SEARCH")),n(3),h("checked",t.optionsStatist.data.show),n(),C(" ",g(22,28,"ACTION.STATIST")),n(4),E(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0?25:-1),n(),E(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0?26:-1),n(),E(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessWatchRow&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0?27:-1),n(2),T("options",t.optionsSearch),n(),T("options",t.optionsStatist),n(2),E(!(t.dataModelResult==null||t.dataModelResult.listItems==null)&&t.dataModelResult.listItems.length?32:33),n(3),h("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",ce(30,i0)))},dependencies:[ie,pe,ue,fe,Je,_e,Se,Qe,Y,_t,N,yt,oe],encapsulation:2});var fn=Ti;var er=[{path:"",component:Ji,data:{title:"ROUTE.CORELOG"},children:[{path:"error",component:Xo,data:{title:"ROUTE.CORELOG.ERROR"}},{path:"avoid-duplicate",component:xo,data:{title:"ROUTE.CORELOG"}},{path:"avoid-duplicate/:LinkUserId",component:xo,data:{title:"ROUTE.CORELOG"}},{path:"sms",component:fn,data:{title:"ROUTE.CORELOG"}},{path:"email",component:Jo,data:{title:"ROUTE.CORELOG"}},{path:"notification",component:cn,data:{title:"ROUTE.CORELOG"}},{path:"report-data",component:ui,data:{title:"ROUTE.CORELOG"}},{path:"report-data/LinkSiteId/:LinkSiteId",component:ui,data:{title:"ROUTE.CORELOG"}},{path:"report-data/LinkUserId/:LinkUserId",component:ui,data:{title:"ROUTE.CORELOG"}},{path:"report-data/LinkModuleEntityId/:LinkModuleEntityId",component:ui,data:{title:"ROUTE.CORELOG"}},{path:"report-data/LinkModuleEntityReportFileId/:LinkModuleEntityReportFileId",component:ui,data:{title:"ROUTE.CORELOG"}},{path:"member",component:tn,data:{title:"ROUTE.CORELOG"}},{path:"currency",component:Vo,data:{title:"ROUTE.CORELOG"}},{path:"currency/:LinkCurrencyId",component:Vo,data:{title:"ROUTE.CORELOG"}},{path:"micro-service-status",component:an,data:{title:"ROUTE.CORELOG.MICROSERVICESTATUS"}},{path:"micro-service-ping",component:nn,data:{title:"ROUTE.CORELOG.MICROSERVICEPING"}}]}];var tr=[{path:"",component:Ji,data:{title:"ROUTE.CORELOG"},children:[{path:"error",component:ao,data:{title:"ROUTE.CORELOG.ERROR"}},{path:"avoid-duplicate",component:fi,data:{title:"ROUTE.CORELOG"}},{path:"avoid-duplicate/:LinkUserId",component:fi,data:{title:"ROUTE.CORELOG"}},{path:"sms",component:Ro,data:{title:"ROUTE.CORELOG"}},{path:"email",component:oo,data:{title:"ROUTE.CORELOG"}},{path:"notification",component:vo,data:{title:"ROUTE.CORELOG"}},{path:"report-data",component:Ft,data:{title:"ROUTE.CORELOG"}},{path:"report-data/LinkSiteId/:LinkSiteId",component:Ft,data:{title:"ROUTE.CORELOG"}},{path:"report-data/LinkUserId/:LinkUserId",component:Ft,data:{title:"ROUTE.CORELOG"}},{path:"report-data/LinkModuleEntityId/:LinkModuleEntityId",component:Ft,data:{title:"ROUTE.CORELOG"}},{path:"report-data/LinkModuleEntityReportFileId/:LinkModuleEntityReportFileId",component:Ft,data:{title:"ROUTE.CORELOG"}},{path:"member",component:mo,data:{title:"ROUTE.CORELOG"}},{path:"currency",component:bi,data:{title:"ROUTE.CORELOG"}},{path:"currency/:LinkCurrencyId",component:bi,data:{title:"ROUTE.CORELOG"}},{path:"micro-service-status",component:So,data:{title:"ROUTE.CORELOG.MICROSERVICESTATUS"}},{path:"micro-service-ping",component:fo,data:{title:"ROUTE.CORELOG.MICROSERVICEPING"}}]}];var Di=class Di{};Di.\u0275fac=function(e){return new(e||Di)},Di.\u0275mod=Oo({type:Di}),Di.\u0275inj=Bo({imports:[_n.forChild(window.innerWidth<1e3?er:tr),_n]});var Cn=Di;var Ai=class Ai{};Ai.\u0275fac=function(e){return new(e||Ai)},Ai.\u0275mod=Oo({type:Ai}),Ai.\u0275inj=Bo({providers:[Dn,Bi,ei,Jt,Xt,Yt,Ni,Vi,Zt,Oi,Wo,ot],imports:[Cn,Rn,An,xn.withConfig({warnOnNgModelWithFormControl:"never"}),Jn,Yn,Kn]});var ir=Ai;export{ir as CoreLogModule};
