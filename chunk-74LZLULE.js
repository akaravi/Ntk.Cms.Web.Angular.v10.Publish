import{a as Cr}from"./chunk-ZMM4BSP2.js";import{a as Ir}from"./chunk-BHVL4GA6.js";import{a as jn,b as Sr}from"./chunk-2P7XIAJL.js";import{a as Mr}from"./chunk-QSCEJ4GX.js";import{a as Qn}from"./chunk-K34GWZFG.js";import{a as Un}from"./chunk-UHQGW6EY.js";import{a as br}from"./chunk-NTSERGXW.js";import{a as mr}from"./chunk-AWVY6JPR.js";import{a as Hn}from"./chunk-B5OL3OAO.js";import{a as _r}from"./chunk-YTLTOTAT.js";import{a as hr}from"./chunk-RRNPGW2P.js";import{a as ki}from"./chunk-GD3Q42WC.js";import{a as gr}from"./chunk-LHYK5FY3.js";import{c as fr}from"./chunk-N56VSUKI.js";import{a as ur}from"./chunk-N35FVLOS.js";import"./chunk-DKEUSQB3.js";import{a as qn}from"./chunk-D4TAFX23.js";import{a as Gt}from"./chunk-DEFP3Q5Z.js";import{a as Dt}from"./chunk-C34GJYOP.js";import{a as Je}from"./chunk-7JXE27EF.js";import{c as yt,d as Ue,e as Qe,g as ze,h as Ke}from"./chunk-PABV5BJR.js";import{a as Bt,b as pr}from"./chunk-W3AWGRTF.js";import{j as Fn,k as Nn,l as On}from"./chunk-QJO5PKGP.js";import{a as Lt,b as sr,c as cr}from"./chunk-3VWCKOZ7.js";import{a as Vt}from"./chunk-ACEVUKUC.js";import{a as Ce}from"./chunk-TZ5YAZ3X.js";import{b as dr}from"./chunk-ZGL4BCHJ.js";import{a as pi}from"./chunk-3AXYO2KP.js";import{a as Wi}from"./chunk-JEZ23GV4.js";import{a as je}from"./chunk-RCOF3V7S.js";import{a as le}from"./chunk-2F5KGFS2.js";import{a as q,d as ae}from"./chunk-3VVF5I2I.js";import{b as Pi,e as vt,f as B}from"./chunk-K67ENK5R.js";import{$ as li,$a as G,A as ri,Ab as Mt,Bb as St,Cb as bt,D as Go,Db as It,E as Fo,Fc as We,G as No,Ib as er,Ic as ke,J as $,Ja as Yo,Jb as tr,K as he,Ka as be,Kb as ir,Kc as N,L as Me,La as Ie,Lb as nr,Ma as He,Mb as or,Mc as Ct,N as Oo,Nb as rr,Nc as lr,O as Ho,Q as ai,Qb as V,Rb as k,V as En,W as Se,Ya as Xo,Z as xn,Za as re,_ as Rn,_a as Zo,aa as si,ba as Ae,bc as Gn,cc as ar,d as Po,eb as st,f as Wo,fb as ct,g as ko,hb as qe,i as Lo,ia as qo,j as Vo,ja as jo,k as Bo,ka as Uo,la as Qo,lb as Pe,m as kt,ma as zo,mb as dt,n as Z,na as Ko,nb as pt,oa as Jo,ob as Ln,pb as ci,q as K,qb as di,r as pe,rb as Vn,sb as Bn,t as me,tb as $o,u as ni,ua as An,ub as mt,v as ue,va as Pn,vb as ut,w as fe,wb as ft,x as oi,xa as Wn,xb as gt,ya as kn,yb as _t,zb as ht}from"./chunk-KB3A6DM2.js";import{$b as ve,Ab as $t,Ad as Ne,Ao as wn,Bb as ei,Bq as X,Ca as De,Cd as uo,Db as ie,Eb as ne,F as Jt,Fa as o,Fb as oe,Fd as Oe,Fo as un,Go as Nt,Ha as xt,Ho as Re,I as Yt,Id as ot,Io as Xe,Jb as R,Jc as Te,Jo as Ze,Kb as Ft,Kc as Ge,Ko as $e,Lb as z,Lc as W,Ld as H,Lo as fo,Mo as Ao,Nd as yo,Oa as I,Ob as d,Od as Pt,P as Xt,Pb as x,Pc as tt,Q as Zt,Qb as g,Rb as ti,Rc as it,Sa as P,Sd as xi,Ta as yn,Td as F,Ub as T,Vb as w,Wa as U,Wb as E,Xb as A,Xc as Io,Xd as O,Y as vn,Ya as b,Yb as Be,Yd as J,Ye as To,ac as et,ae as Do,da as u,db as Rt,dc as h,de as Q,dg as Eo,ea as f,ec as M,fc as At,gd as Co,he as Dn,kb as c,lb as r,mb as l,me as Tn,mf as wo,nb as S,p as zt,q as Kt,qg as xo,rb as y,rd as nt,ro as Ri,sa as bo,sb as D,sd as vo,tb as Ee,td as Fe,to as Ro,ub as v,uo as Ai,vo as ii,wc as L,wo as rt,xb as C,xo as at,yo as Wt,zb as p,zd as mo,zo as lt}from"./chunk-SAEPMAIS.js";import{i as te}from"./chunk-SEDBTTTN.js";var Ar=["vform"];function Pr(n,a){if(n&1){let e=v();r(0,"app-cms-enum-record-status-selector",23),E("modelChange",function(t){u(e);let s=p();return w(s.dataModel.recordStatus,t)||(s.dataModel.recordStatus=t),f(t)}),l()}if(n&2){let e=p();T("model",e.dataModel.recordStatus),c("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Wr(n,a){n&1&&S(0,"i",30)}function kr(n,a){n&1&&S(0,"i",31)}function Lr(n,a){if(n&1&&(r(0,"mat-error"),d(1),r(2,"strong"),d(3),h(4,"translate"),l()()),n&2){let e=p(2);o(),g(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," is "),o(2),x(M(4,2,"MESSAGE.required"))}}function Vr(n,a){if(n&1){let e=v();r(0,"div",24)(1,"label",25),d(2),l(),r(3,"input",26,2),E("ngModelChange",function(t){u(e);let s=p();return w(s.dataModel.title,t)||(s.dataModel.title=t),f(t)}),l(),b(5,Wr,1,0,"i",27)(6,kr,1,0,"i",28),r(7,"em"),d(8),l(),b(9,Lr,5,4,"mat-error",29),l()}if(n&2){let e=R(4),i=p();o(2),x(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(),c("placeholder",A(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle)),T("ngModel",i.dataModel.title),c("disabled",!(i.fieldsInfo.title!=null&&i.fieldsInfo.title.accessAddField)),o(2),c("ngIf",!e.value),o(),c("ngIf",e.value),o(2),g("",e.value.length," / 100"),o(),c("ngIf",e.errors==null?null:e.errors.required)}}function Br(n,a){if(n&1){let e=v();r(0,"div",24)(1,"label",32),d(2),l(),r(3,"input",33,3),E("ngModelChange",function(t){u(e);let s=p();return w(s.dataModel.linkPageId,t)||(s.dataModel.linkPageId=t),f(t)}),l(),r(5,"em"),d(6),l()()}if(n&2){let e=R(4),i=p();o(2),x(i.fieldsInfo.linkPageId==null?null:i.fieldsInfo.linkPageId.fieldTitle),o(),T("ngModel",i.dataModel.linkPageId),c("disabled",!(i.fieldsInfo.linkPageId!=null&&i.fieldsInfo.linkPageId.accessAddField)),o(3),g("",e.value.length," / 100")}}function Gr(n,a){if(n&1&&(r(0,"mat-error"),d(1),r(2,"strong"),d(3),h(4,"translate"),l()()),n&2){let e=p(2);o(),g(" ",e.fieldsInfo.priority==null?null:e.fieldsInfo.priority.fieldTitle," is "),o(2),x(M(4,2,"MESSAGE.required"))}}function Fr(n,a){if(n&1){let e=v();r(0,"div",24)(1,"label",34),d(2),l(),r(3,"input",35,4),h(5,"translate"),E("ngModelChange",function(t){u(e);let s=p();return w(s.dataModel.priority,t)||(s.dataModel.priority=t),f(t)}),l(),b(6,Gr,5,4,"mat-error",29),l()}if(n&2){let e=R(4),i=p();o(2),x(i.fieldsInfo.priority==null?null:i.fieldsInfo.priority.fieldTitle),o(),c("placeholder",A(M(5,6,"TITLE.priority"))),T("ngModel",i.dataModel.priority),c("disabled",!(i.fieldsInfo.priority!=null&&i.fieldsInfo.priority.accessAddField)),o(3),c("ngIf",e.errors==null?null:e.errors.required)}}function Nr(n,a){n&1&&S(0,"i",30)}function Or(n,a){n&1&&S(0,"i",31)}function Hr(n,a){if(n&1&&(r(0,"mat-error"),d(1),r(2,"strong"),d(3),h(4,"translate"),l()()),n&2){let e=p(2);o(),g(" ",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle," is "),o(2),x(M(4,2,"MESSAGE.required"))}}function qr(n,a){if(n&1){let e=v();r(0,"div",24)(1,"label",36),d(2),h(3,"translate"),l(),r(4,"textarea",37,5),E("ngModelChange",function(t){u(e);let s=p();return w(s.dataModel.description,t)||(s.dataModel.description=t),f(t)}),d(6,"            "),l(),r(7,"em"),d(8),l(),b(9,Nr,1,0,"i",27)(10,Or,1,0,"i",28)(11,Hr,5,4,"mat-error",29),l()}if(n&2){let e=R(5),i=p();o(2),x(M(3,9,"TITLE.General_Description")),o(2),c("placeholder",A(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle)),T("ngModel",i.dataModel.description),c("disabled",!(i.fieldsInfo.description!=null&&i.fieldsInfo.description.accessAddField)),o(4),g("",e.value.length," / 100"),o(),c("ngIf",!e.value),o(),c("ngIf",e.value),o(),c("ngIf",e.errors==null?null:e.errors.required)}}function jr(n,a){if(n&1){let e=v();r(0,"div",38)(1,"button",39),C("click",function(){u(e);let t=p();return f(t.onActionBackToParent())}),d(2),h(3,"translate"),l(),r(4,"button",40),d(5),h(6,"translate"),l()()}if(n&2){p();let e=R(10);o(2),g(" ",M(3,3,"ACTION.BACK")," "),o(2),c("disabled",!e.form.valid),o(),g(" ",M(6,5,"ACTION.NEXT")," ")}}function Ur(n,a){if(n&1&&(S(0,"img",41),h(1,"cmsthumbnail")),n&2){let e=p();c("src",A(M(1,2,e.dataModel.linkMainImageIdSrc)),De)}}function Qr(n,a){if(n&1){let e=v();r(0,"div",24)(1,"label",42),C("click",function(){u(e);let t=p();return f(t.fileManagerOpenForm=!0)}),d(2),h(3,"translate"),l(),r(4,"input",43,6),h(6,"translate"),E("ngModelChange",function(t){u(e);let s=p();return w(s.dataModel.linkMainImageId,t)||(s.dataModel.linkMainImageId=t),f(t)}),C("click",function(){u(e);let t=p();return f(t.fileManagerOpenForm=!0)}),l(),r(7,"cms-file-manager",44),C("itemSelected",function(t){u(e);let s=p();return f(s.onActionFileSelectedLinkMainImageId(t))}),E("openFormChange",function(t){u(e);let s=p();return w(s.fileManagerOpenForm,t)||(s.fileManagerOpenForm=t),f(t)}),l()()}if(n&2){let e=p();o(2),x(M(3,12,"TITLE.Icon_File")),o(2),c("placeholder",A(M(6,14,"TITLE.Original_File_ID"))),T("ngModel",e.dataModel.linkMainImageId),o(3),c("language",e.appLanguage)("isPopup",!0),T("openForm",e.fileManagerOpenForm),c("tree",e.fileManagerTree)("openDirectUploadView",!0)("openFilemanagerButtonLabelKey","select")("selectFileType",e.selectFileTypeMainImage)("openFilemanagerButtonView",!1)}}function zr(n,a){if(n&1&&(S(0,"img",41),h(1,"cmsthumbnail")),n&2){let e=p();c("src",A(M(1,2,e.dataModel.linkMainVideoIdSrc)),De)}}function Kr(n,a){if(n&1){let e=v();r(0,"div",24)(1,"label",45),C("click",function(){u(e);let t=p();return f(t.fileManagerOpenFormVideo=!0)}),d(2),l(),r(3,"input",46,7),h(5,"translate"),E("ngModelChange",function(t){u(e);let s=p();return w(s.dataModel.linkMainVideoId,t)||(s.dataModel.linkMainVideoId=t),f(t)}),C("click",function(){u(e);let t=p();return f(t.fileManagerOpenFormVideo=!0)}),l(),r(6,"cms-file-manager",44),C("itemSelected",function(t){u(e);let s=p();return f(s.onActionFileSelectedLinkMainVideoId(t))}),E("openFormChange",function(t){u(e);let s=p();return w(s.fileManagerOpenFormVideo,t)||(s.fileManagerOpenFormVideo=t),f(t)}),l()()}if(n&2){let e=p();o(2),x(e.fieldsInfo.linkMainVideoId==null?null:e.fieldsInfo.linkMainVideoId.fieldTitle),o(),c("placeholder",A(M(5,13,"TITLE.Original_File_ID"))),T("ngModel",e.dataModel.linkMainVideoId),c("disabled",!(e.fieldsInfo.linkMainVideoId!=null&&e.fieldsInfo.linkMainVideoId.accessAddField)),o(3),c("language",e.appLanguage)("isPopup",!0),T("openForm",e.fileManagerOpenFormVideo),c("tree",e.fileManagerTree)("openDirectUploadView",!0)("openFilemanagerButtonLabelKey","select")("selectFileType",e.selectFileTypeMainVideo)("openFilemanagerButtonView",!1)}}function Jr(n,a){if(n&1&&(r(0,"div",38)(1,"button",47),d(2),h(3,"translate"),l(),r(4,"button",48),d(5),h(6,"translate"),l()()),n&2){p();let e=R(10);o(2),g(" ",M(3,3,"ACTION.BEFOR")," "),o(2),c("disabled",!e.form.valid),o(),g(" ",M(6,5,"ACTION.SAVE")," ")}}var Li=class Li extends Vt{constructor(e,i,t,s,_,m,j,Y){super(s,new Nt,i,Y);this.activatedRoute=e;this.publicHelper=i;this.coreEnumService=t;this.webDesignerMainIntroService=s;this.cmsToastrService=_;this.router=m;this.cdr=j;this.translate=Y;this.requestLinkPageId="";this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.formInfo=new ae;this.dataModel=new Nt;this.dataModelResult=new F;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.selectFileTypeMainVideo=["mp4"];this.fileManagerOpenForm=!1;this.fileManagerOpenFormVideo=!1;this.appLanguage="fa";this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.activatedRoute.snapshot.paramMap.get("LinkPageId")&&(this.requestLinkPageId=this.activatedRoute.snapshot.paramMap.get("LinkPageId")),this.requestLinkPageId.length>0&&(this.dataModel.linkPageId=this.requestLinkPageId),this.DataGetAccess()}onFormSubmit(){if(!this.formGroup.valid){this.cmsToastrService.typeErrorFormInvalid();return}this.DataAddContent()}DataAddContent(){this.formInfo.submitButtonEnabled=!1,this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.webDesignerMainIntroService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!i.isSuccess,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.cmsToastrService.typeSuccessEdit(),setTimeout(()=>this.router.navigate(["/webdesigner/intro/"]),1e3)):this.cmsToastrService.typeErrorEdit(i.errorMessage),this.publicHelper.processService.processStop(e)},error:i=>{this.publicHelper.processService.processStop(e),this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeErrorEdit(i)}})}onStepClick(e,i){e.previouslySelectedIndex<e.selectedIndex}onActionBackToParent(){this.router.navigate(["/webdesigner/intro/"])}onActionFileSelectedLinkMainImageId(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}onActionFileSelectedLinkMainVideoId(e){this.dataModel.linkMainVideoId=e.id,this.dataModel.linkMainVideoIdSrc=e.downloadLinksrc}};Li.\u0275fac=function(i){return new(i||Li)(I(nt),I(B),I(Q),I(ii),I(N),I(Fe),I(L),I(V))},Li.\u0275cmp=P({type:Li,selectors:[["app-webdesigner-intro-add"]],viewQuery:function(i,t){if(i&1&&ie(Ar,5),i&2){let s;ne(s=oe())&&(t.formGroup=s.first)}},standalone:!1,features:[U],decls:35,vars:32,consts:[["vform","ngForm"],["stepper",""],["Title",""],["LinkPageId",""],["Priority",""],["Description",""],["LinkMainImageId",""],["LinkMainVideoId",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"selectionChange"],["state","main",3,"label"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["class","form-actions",4,"ngIf"],["state","file",3,"label"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align: middle","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["class","fa fa-times invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],[4,"ngIf"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.linkPageId",1,"color-highlight"],["matInput","","type","text","name","dataModel.linkPageId","placeholder","Page Id","minlength","3","maxlength","100","id","dataModel.linkPageId",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.priority",1,"color-highlight"],["matInput","","type","number","name","dataModel.priority","id","dataModel.priority",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","3","maxlength","100","rows","10","required","","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],["type","button","matStepperNext","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue",3,"disabled"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openDirectUploadView","openFilemanagerButtonLabelKey","selectFileType","openFilemanagerButtonView"],["for","dataModel.linkMainVideoId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainVideoId","autocomplete","off","id","dataModel.linkMainVideoId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder","disabled"],["type","button","matStepperPrevious","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"]],template:function(i,t){if(i&1){let s=v();r(0,"div",8),S(1,"app-progress-spinner",9),r(2,"div",10)(3,"p",11),d(4),l(),r(5,"p"),d(6),h(7,"translate"),l(),S(8,"app-cms-form-result-message",12),r(9,"form",13,0),C("ngSubmit",function(){return u(s),f(t.onFormSubmit())}),r(11,"mat-horizontal-stepper",14,1),C("selectionChange",function(m){u(s);let j=R(12);return f(t.onStepClick(m,j))}),r(13,"mat-step",15),h(14,"translate"),b(15,Pr,1,5,"app-cms-enum-record-status-selector",16)(16,Vr,10,9,"div",17)(17,Br,7,4,"div",17)(18,Fr,7,8,"div",17)(19,qr,12,11,"div",17)(20,jr,7,7,"div",18),l(),r(21,"mat-step",19),h(22,"translate"),r(23,"p"),d(24),h(25,"translate"),l(),r(26,"div",20)(27,"a",21),h(28,"cmsthumbnail"),b(29,Ur,2,4,"img",22),l()(),b(30,Qr,8,16,"div",17),r(31,"div",20),b(32,zr,2,4,"img",22),l(),b(33,Kr,7,15,"div",17)(34,Jr,7,7,"div",18),l()()()()()}i&2&&(o(),c("optionsInfoAreaId",t.constructorInfoAreaId),o(3),g(" ",t.formInfo.formTitle," "),o(2),g(" ",M(7,22,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),c("formInfo",t.formInfo),o(5),c("label",A(M(14,24,"TITLE.REQUIRED_INFORMATION"))),o(2),c("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),o(),c("ngIf",t.fieldsInfo.title==null?null:t.fieldsInfo.title.accessWatchField),o(),c("ngIf",t.fieldsInfo.linkPageId==null?null:t.fieldsInfo.linkPageId.accessWatchField),o(),c("ngIf",t.fieldsInfo.priority==null?null:t.fieldsInfo.priority.accessWatchField),o(),c("ngIf",t.fieldsInfo.description==null?null:t.fieldsInfo.description.accessWatchField),o(),c("ngIf",t.formInfo.submitButtonEnabled),o(),c("label",A(M(22,26,"TITLE.ATTACH_FILES"))),o(3),x(M(25,28,"TITLE.Photos_And_Application_Files")),o(3),c("href",A(M(28,30,t.dataModel.linkMainImageIdSrc)),De),o(2),c("ngIf",(t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0),o(),c("ngIf",t.fieldsInfo.linkMainImageId==null?null:t.fieldsInfo.linkMainImageId.accessWatchField),o(2),c("ngIf",(t.dataModel==null||t.dataModel.linkMainVideoIdSrc==null?null:t.dataModel.linkMainVideoIdSrc.length)>0),o(),c("ngIf",t.fieldsInfo.linkMainVideoId==null?null:t.fieldsInfo.linkMainVideoId.accessWatchField),o(),c("ngIf",t.formInfo.submitButtonEnabled))},dependencies:[W,fe,Z,oi,K,pe,$,he,Me,ue,me,Se,G,ci,di,Vn,Bn,Ce,q,le,pi,Gn,k,Lt],encapsulation:2});var fn=Li;var Yr=["vform"];function Xr(n,a){if(n&1){let e=v();r(0,"app-cms-enum-record-status-selector",23),E("modelChange",function(t){u(e);let s=p();return w(s.dataModel.recordStatus,t)||(s.dataModel.recordStatus=t),f(t)}),l()}if(n&2){let e=p();T("model",e.dataModel.recordStatus),c("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Zr(n,a){n&1&&S(0,"i",30)}function $r(n,a){n&1&&S(0,"i",31)}function ea(n,a){if(n&1&&(r(0,"mat-error"),d(1),r(2,"strong"),d(3),h(4,"translate"),l()()),n&2){let e=p(2);o(),g(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," is "),o(2),x(M(4,2,"MESSAGE.required"))}}function ta(n,a){if(n&1){let e=v();r(0,"div",24)(1,"label",25),d(2),l(),r(3,"input",26,2),E("ngModelChange",function(t){u(e);let s=p();return w(s.dataModel.title,t)||(s.dataModel.title=t),f(t)}),l(),b(5,Zr,1,0,"i",27)(6,$r,1,0,"i",28),r(7,"em"),d(8),l(),b(9,ea,5,4,"mat-error",29),l()}if(n&2){let e=R(4),i=p();o(2),x(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(),c("placeholder",A(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle)),T("ngModel",i.dataModel.title),c("disabled",!(i.fieldsInfo.title!=null&&i.fieldsInfo.title.accessEditField)),o(2),c("ngIf",!e.value),o(),c("ngIf",e.value),o(2),g("",e.value.length," / 100"),o(),c("ngIf",e.errors==null?null:e.errors.required)}}function ia(n,a){if(n&1){let e=v();r(0,"div",24)(1,"label",32),d(2),l(),r(3,"input",33,3),E("ngModelChange",function(t){u(e);let s=p();return w(s.dataModel.linkPageId,t)||(s.dataModel.linkPageId=t),f(t)}),l(),r(5,"em"),d(6),l()()}if(n&2){let e=R(4),i=p();o(2),x(i.fieldsInfo.linkPageId==null?null:i.fieldsInfo.linkPageId.fieldTitle),o(),T("ngModel",i.dataModel.linkPageId),c("disabled",!(i.fieldsInfo.linkPageId!=null&&i.fieldsInfo.linkPageId.accessEditField)),o(3),g("",e.value.length," / 100")}}function na(n,a){if(n&1&&(r(0,"mat-error"),d(1),r(2,"strong"),d(3),h(4,"translate"),l()()),n&2){let e=p(2);o(),g(" ",e.fieldsInfo.priority==null?null:e.fieldsInfo.priority.fieldTitle," is "),o(2),x(M(4,2,"MESSAGE.required"))}}function oa(n,a){if(n&1){let e=v();r(0,"div",24)(1,"label",34),d(2),l(),r(3,"input",35,4),h(5,"translate"),E("ngModelChange",function(t){u(e);let s=p();return w(s.dataModel.priority,t)||(s.dataModel.priority=t),f(t)}),l(),b(6,na,5,4,"mat-error",29),l()}if(n&2){let e=R(4),i=p();o(2),x(i.fieldsInfo.priority==null?null:i.fieldsInfo.priority.fieldTitle),o(),c("placeholder",A(M(5,6,"TITLE.priority"))),T("ngModel",i.dataModel.priority),c("disabled",!(i.fieldsInfo.priority!=null&&i.fieldsInfo.priority.accessEditField)),o(3),c("ngIf",e.errors==null?null:e.errors.required)}}function ra(n,a){n&1&&S(0,"i",30)}function aa(n,a){n&1&&S(0,"i",31)}function la(n,a){if(n&1&&(r(0,"mat-error"),d(1),r(2,"strong"),d(3),h(4,"translate"),l()()),n&2){let e=p(2);o(),g(" ",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle," is "),o(2),x(M(4,2,"MESSAGE.required"))}}function sa(n,a){if(n&1){let e=v();r(0,"div",24)(1,"label",36),d(2),h(3,"translate"),l(),r(4,"textarea",37,5),E("ngModelChange",function(t){u(e);let s=p();return w(s.dataModel.description,t)||(s.dataModel.description=t),f(t)}),d(6,"            "),l(),r(7,"em"),d(8),l(),b(9,ra,1,0,"i",27)(10,aa,1,0,"i",28)(11,la,5,4,"mat-error",29),l()}if(n&2){let e=R(5),i=p();o(2),x(M(3,9,"TITLE.General_Description")),o(2),c("placeholder",A(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle)),T("ngModel",i.dataModel.description),c("disabled",!(i.fieldsInfo.description!=null&&i.fieldsInfo.description.accessEditField)),o(4),g("",e.value.length," / 100"),o(),c("ngIf",!e.value),o(),c("ngIf",e.value),o(),c("ngIf",e.errors==null?null:e.errors.required)}}function ca(n,a){if(n&1){let e=v();r(0,"div",38)(1,"button",39),C("click",function(){u(e);let t=p();return f(t.onActionBackToParent())}),d(2),h(3,"translate"),l(),r(4,"button",40),d(5),h(6,"translate"),l()()}if(n&2){p();let e=R(10);o(2),g(" ",M(3,3,"ACTION.BACK")," "),o(2),c("disabled",!e.form.valid),o(),g(" ",M(6,5,"ACTION.NEXT")," ")}}function da(n,a){if(n&1&&(S(0,"img",41),h(1,"cmsthumbnail")),n&2){let e=p();c("src",A(M(1,2,e.dataModel.linkMainImageIdSrc)),De)}}function pa(n,a){if(n&1){let e=v();r(0,"div",24)(1,"label",42),C("click",function(){u(e);let t=p();return f(t.fileManagerOpenForm=!0)}),d(2),l(),r(3,"input",43,6),h(5,"translate"),E("ngModelChange",function(t){u(e);let s=p();return w(s.dataModel.linkMainImageId,t)||(s.dataModel.linkMainImageId=t),f(t)}),C("click",function(){u(e);let t=p();return f(t.fileManagerOpenForm=!0)}),l(),r(6,"cms-file-manager",44),C("itemSelected",function(t){u(e);let s=p();return f(s.onActionFileSelectedLinkMainImageId(t))}),E("openFormChange",function(t){u(e);let s=p();return w(s.fileManagerOpenForm,t)||(s.fileManagerOpenForm=t),f(t)}),l()()}if(n&2){let e=p();o(2),x(e.fieldsInfo.linkMainImageId==null?null:e.fieldsInfo.linkMainImageId.fieldTitle),o(),c("placeholder",A(M(5,12,"TITLE.Original_File_ID"))),T("ngModel",e.dataModel.linkMainImageId),o(3),c("language",e.appLanguage)("isPopup",!0),T("openForm",e.fileManagerOpenForm),c("tree",e.fileManagerTree)("openDirectUploadView",!0)("openFilemanagerButtonLabelKey","select")("selectFileType",e.selectFileTypeMainImage)("openFilemanagerButtonView",!1)}}function ma(n,a){if(n&1&&(S(0,"img",41),h(1,"cmsthumbnail")),n&2){let e=p();c("src",A(M(1,2,e.dataModel.linkMainVideoIdSrc)),De)}}function ua(n,a){if(n&1){let e=v();r(0,"div",24)(1,"label",45),C("click",function(){u(e);let t=p();return f(t.fileManagerOpenFormVideo=!0)}),d(2),l(),r(3,"input",46,7),h(5,"translate"),E("ngModelChange",function(t){u(e);let s=p();return w(s.dataModel.linkMainVideoId,t)||(s.dataModel.linkMainVideoId=t),f(t)}),C("click",function(){u(e);let t=p();return f(t.fileManagerOpenFormVideo=!0)}),l(),r(6,"cms-file-manager",44),C("itemSelected",function(t){u(e);let s=p();return f(s.onActionFileSelectedLinkMainVideoId(t))}),E("openFormChange",function(t){u(e);let s=p();return w(s.fileManagerOpenFormVideo,t)||(s.fileManagerOpenFormVideo=t),f(t)}),l()()}if(n&2){let e=p();o(2),x(e.fieldsInfo.linkMainVideoId==null?null:e.fieldsInfo.linkMainVideoId.fieldTitle),o(),c("placeholder",A(M(5,13,"TITLE.Original_File_ID"))),T("ngModel",e.dataModel.linkMainVideoId),c("disabled",!(e.fieldsInfo.linkMainVideoId!=null&&e.fieldsInfo.linkMainVideoId.accessAddField)),o(3),c("language",e.appLanguage)("isPopup",!0),T("openForm",e.fileManagerOpenFormVideo),c("tree",e.fileManagerTree)("openDirectUploadView",!0)("openFilemanagerButtonLabelKey","select")("selectFileType",e.selectFileTypeMainVideo)("openFilemanagerButtonView",!1)}}function fa(n,a){if(n&1&&(r(0,"div",38)(1,"button",47),d(2),h(3,"translate"),l(),r(4,"button",48),d(5),h(6,"translate"),l()()),n&2){p();let e=R(10);o(2),g(" ",M(3,3,"ACTION.BEFOR")," "),o(2),c("disabled",!e.form.valid),o(),g(" ",M(6,5,"ACTION.SAVE")," ")}}var Vi=class Vi extends Bt{constructor(e,i,t,s,_,m,j,Y){super(s,new Nt,i,Y);this.activatedRoute=e;this.publicHelper=i;this.coreEnumService=t;this.webDesignerMainIntroService=s;this.cmsToastrService=_;this.router=m;this.cdr=j;this.translate=Y;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.formInfo=new ae;this.dataModel=new Nt;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.selectFileTypeMainVideo=["mp4"];this.fileManagerOpenForm=!1;this.fileManagerOpenFormVideo=!1;this.appLanguage="fa";this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),this.activatedRoute.snapshot.paramMap.get("id")&&(this.requestId=this.activatedRoute.snapshot.paramMap.get("id"))}ngOnInit(){if(this.requestId.length===0){this.cmsToastrService.typeErrorAddRowParentIsNull();return}this.DataGetOne(this.requestId)}onFormSubmit(){if(!this.formGroup.valid){this.cmsToastrService.typeErrorFormInvalid();return}this.DataEditContent()}DataGetOne(e){this.formInfo.submitButtonEnabled=!1,this.translate.get("MESSAGE.get_information_from_the_server").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage="";let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructorInfoAreaId)}),this.webDesignerMainIntroService.setAccessLoad(),this.webDesignerMainIntroService.setAccessDataType(Pt.Editor),this.webDesignerMainIntroService.ServiceGetOneById(e).subscribe({next:t=>{this.dataAccessModel=t.access,this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.publicHelper.processService.processStop(i),this.dataModelResult=t,this.formInfo.submitButtonEnabled=!0,t.isSuccess?this.dataModel=t.item:this.cmsToastrService.typeErrorGetOne(t.errorMessage)},error:t=>{this.publicHelper.processService.processStop(i),this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeErrorGetOne(t)}})}DataEditContent(){this.formInfo.submitButtonEnabled=!1,this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.webDesignerMainIntroService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!i.isSuccess,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.cmsToastrService.typeSuccessEdit(),setTimeout(()=>this.router.navigate(["/webdesigner/intro/"]),1e3)):this.cmsToastrService.typeErrorEdit(i.errorMessage),this.publicHelper.processService.processStop(e)},error:i=>{this.publicHelper.processService.processStop(e),this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeErrorEdit(i)}})}onStepClick(e,i){e.previouslySelectedIndex<e.selectedIndex}onActionBackToParent(){this.router.navigate(["/webdesigner/intro/"])}onActionFileSelectedLinkMainImageId(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}onActionFileSelectedLinkMainVideoId(e){this.dataModel.linkMainVideoId=e.id,this.dataModel.linkMainVideoIdSrc=e.downloadLinksrc}};Vi.\u0275fac=function(i){return new(i||Vi)(I(nt),I(B),I(Q),I(ii),I(N),I(Fe),I(L),I(V))},Vi.\u0275cmp=P({type:Vi,selectors:[["app-webdesigner-intro-edit"]],viewQuery:function(i,t){if(i&1&&ie(Yr,5),i&2){let s;ne(s=oe())&&(t.formGroup=s.first)}},standalone:!1,features:[U],decls:35,vars:32,consts:[["vform","ngForm"],["stepper",""],["Title",""],["LinkPageId",""],["Priority",""],["Description",""],["LinkMainImageId",""],["LinkMainVideoId",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"selectionChange"],["state","main",3,"label"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["class","form-actions",4,"ngIf"],["state","file",3,"label"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align: middle","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["class","fa fa-times invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],[4,"ngIf"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.linkPageId",1,"color-highlight"],["matInput","","type","text","name","dataModel.linkPageId","placeholder","Page Id","minlength","3","maxlength","100","id","dataModel.linkPageId",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.priority",1,"color-highlight"],["matInput","","type","number","name","dataModel.priority","id","dataModel.priority",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","3","maxlength","100","rows","10","required","","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],["type","button","matStepperNext","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue",3,"disabled"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openDirectUploadView","openFilemanagerButtonLabelKey","selectFileType","openFilemanagerButtonView"],["for","dataModel.linkMainVideoId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainVideoId","autocomplete","off","id","dataModel.linkMainVideoId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder","disabled"],["type","button","matStepperPrevious","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"]],template:function(i,t){if(i&1){let s=v();r(0,"div",8),S(1,"app-progress-spinner",9),r(2,"div",10)(3,"p",11),d(4),l(),r(5,"p"),d(6),h(7,"translate"),l(),S(8,"app-cms-form-result-message",12),r(9,"form",13,0),C("ngSubmit",function(){return u(s),f(t.onFormSubmit())}),r(11,"mat-horizontal-stepper",14,1),C("selectionChange",function(m){u(s);let j=R(12);return f(t.onStepClick(m,j))}),r(13,"mat-step",15),h(14,"translate"),b(15,Xr,1,5,"app-cms-enum-record-status-selector",16)(16,ta,10,9,"div",17)(17,ia,7,4,"div",17)(18,oa,7,8,"div",17)(19,sa,12,11,"div",17)(20,ca,7,7,"div",18),l(),r(21,"mat-step",19),h(22,"translate"),r(23,"p"),d(24),h(25,"translate"),l(),r(26,"div",20)(27,"a",21),h(28,"cmsthumbnail"),b(29,da,2,4,"img",22),l()(),b(30,pa,7,14,"div",17),r(31,"div",20),b(32,ma,2,4,"img",22),l(),b(33,ua,7,15,"div",17)(34,fa,7,7,"div",18),l()()()()()}i&2&&(o(),c("optionsInfoAreaId",t.constructorInfoAreaId),o(3),g(" ",t.formInfo.formTitle," "),o(2),g(" ",M(7,22,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),c("formInfo",t.formInfo),o(5),c("label",A(M(14,24,"TITLE.REQUIRED_INFORMATION"))),o(2),c("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),o(),c("ngIf",t.fieldsInfo.title==null?null:t.fieldsInfo.title.accessWatchField),o(),c("ngIf",t.fieldsInfo.linkPageId==null?null:t.fieldsInfo.linkPageId.accessWatchField),o(),c("ngIf",t.fieldsInfo.priority==null?null:t.fieldsInfo.priority.accessWatchField),o(),c("ngIf",t.fieldsInfo.description==null?null:t.fieldsInfo.description.accessWatchField),o(),c("ngIf",t.formInfo.submitButtonEnabled),o(),c("label",A(M(22,26,"TITLE.ATTACH_FILES"))),o(3),x(M(25,28,"TITLE.Photos_And_Application_Files")),o(3),c("href",A(M(28,30,t.dataModel.linkMainImageIdSrc)),De),o(2),c("ngIf",(t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0),o(),c("ngIf",t.fieldsInfo.linkMainImageId==null?null:t.fieldsInfo.linkMainImageId.accessWatchField),o(2),c("ngIf",(t.dataModel==null||t.dataModel.linkMainVideoIdSrc==null?null:t.dataModel.linkMainVideoIdSrc.length)>0),o(),c("ngIf",t.fieldsInfo.linkMainVideoId==null?null:t.fieldsInfo.linkMainVideoId.accessWatchField),o(),c("ngIf",t.formInfo.submitButtonEnabled))},dependencies:[W,fe,Z,oi,K,pe,$,he,Me,ue,me,Se,G,ci,di,Vn,Bn,Ce,q,le,pi,Gn,k,Lt],encapsulation:2});var Kn=Vi;var ha=()=>[5,10,20,100],Ma=n=>({display:n});function Sa(n,a){if(n&1){let e=v();r(0,"a",41),C("click",function(){u(e);let t=p();return f(t.onActionBackToParent())}),S(1,"i",42),l()}}function ba(n,a){if(n&1){let e=v();r(0,"div",43)(1,"a",44),C("click",function(){u(e);let t=p();return f(t.onActionButtonNewRow())}),S(2,"i",45)(3,"br"),l(),r(4,"p",46),d(5),h(6,"translate"),l()()}n&2&&(o(5),g(" ",M(6,1,"ACTION.ADD")," "))}function Ia(n,a){if(n&1){let e=v();r(0,"div",43)(1,"a",47),C("click",function(){u(e);let t=p();return f(t.onActionButtonEditRow(t.tableRowSelected))}),S(2,"i",48)(3,"br"),l(),r(4,"p",46),d(5),h(6,"translate"),l()()}n&2&&(o(5),g(" ",M(6,1,"ACTION.EDIT")," "))}function Ca(n,a){if(n&1){let e=v();r(0,"div",43)(1,"a",49),C("click",function(){u(e);let t=p();return f(t.onActionButtonDeleteRow(t.tableRowSelected))}),S(2,"i",50)(3,"br"),l(),r(4,"p",46),d(5),h(6,"translate"),l()()}n&2&&(o(5),g(" ",M(6,1,"ACTION.DELETE")," "))}function va(n,a){n&1&&(r(0,"mat-header-cell",51),d(1),h(2,"translate"),l()),n&2&&(o(),g(" ",M(2,1,"TITLE.PICTURE")," "))}function ya(n,a){if(n&1&&(S(0,"img",53),h(1,"cmsthumbnail")),n&2){let e=p().$implicit;c("src",A(M(1,2,e.linkMainImageIdSrc)),De)}}function Da(n,a){if(n&1&&(r(0,"mat-cell"),b(1,ya,2,4,"img",52),l()),n&2){let e=a.$implicit;o(),c("ngIf",(e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0)}}function Ta(n,a){if(n&1&&(r(0,"mat-header-cell",54),d(1),l()),n&2){let e=p();o(),g(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function wa(n,a){if(n&1&&(r(0,"mat-cell"),d(1),l()),n&2){let e=a.$implicit;o(),g(" ",e.id," ")}}function Ea(n,a){if(n&1&&(r(0,"mat-header-cell",54),d(1),l()),n&2){let e=p();o(),g(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function xa(n,a){if(n&1&&(r(0,"mat-cell"),d(1),h(2,"cmssiteinfo"),h(3,"async"),l()),n&2){let e=a.$implicit;o(),g(" ",M(3,3,M(2,1,e.linkSiteId))," ")}}function Ra(n,a){if(n&1&&(r(0,"mat-header-cell",54),d(1),l()),n&2){let e=p();o(),g(" ",e.fieldsInfo.linkPageId==null?null:e.fieldsInfo.linkPageId.fieldTitle," ")}}function Aa(n,a){if(n&1&&(r(0,"mat-cell"),d(1),l()),n&2){let e=a.$implicit;o(),g(" ",e.linkPageId," ")}}function Pa(n,a){if(n&1&&(r(0,"mat-header-cell",54),d(1),l()),n&2){let e=p();o(),g(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function Wa(n,a){if(n&1&&S(0,"select",57),n&2){let e=p().$implicit,i=p();c("contentService",i.contentService)("row",e)("ngStyle",et(3,Ma,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function ka(n,a){if(n&1&&(r(0,"mat-cell",55),h(1,"statusCellClass"),S(2,"i",55),h(3,"statusIconClass"),b(4,Wa,1,5,"select",56),l()),n&2){let e=a.$implicit,i=p();c("ngClass",M(1,3,e.recordStatus)),o(2),c("ngClass",M(3,5,e.recordStatus)),o(2),c("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessEditRow)}}function La(n,a){if(n&1&&(r(0,"mat-header-cell",54),d(1),l()),n&2){let e=p();o(),g(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," ")}}function Va(n,a){if(n&1&&(r(0,"mat-cell"),d(1),l()),n&2){let e=a.$implicit;o(),g(" ",e.title," ")}}function Ba(n,a){if(n&1&&(r(0,"mat-header-cell",54),d(1),l()),n&2){let e=p();o(),g(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function Ga(n,a){if(n&1&&(r(0,"mat-cell"),d(1),h(2,"localeDate"),l()),n&2){let e=a.$implicit;o(),g(" ",M(2,1,e.createdDate)," ")}}function Fa(n,a){if(n&1&&(r(0,"mat-header-cell",54),d(1),l()),n&2){let e=p();o(),g(" ",e.fieldsInfo.updatedDate==null?null:e.fieldsInfo.updatedDate.fieldTitle," ")}}function Na(n,a){if(n&1&&(r(0,"mat-cell"),d(1),h(2,"localeDate"),l()),n&2){let e=a.$implicit;o(),g(" ",M(2,1,e.updatedDate)," ")}}function Oa(n,a){n&1&&(r(0,"mat-header-cell"),d(1),h(2,"translate"),l()),n&2&&(o(),g(" ",M(2,1,"TITLE.OPTION")," "))}function Ha(n,a){if(n&1&&(r(0,"mat-cell",58)(1,"button",59)(2,"mat-icon"),d(3,"more_vert"),l()(),S(4,"mat-menu",null,2),l()),n&2){let e=R(5);o(),c("matMenuTriggerFor",e)}}function qa(n,a){n&1&&S(0,"mat-header-row")}function ja(n,a){if(n&1){let e=v();r(0,"mat-row",60),C("click",function(t){let s=u(e).$implicit,_=p();return f(_.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=u(e).$implicit,_=p();return f(_.onActionTableRowSelect(s,t))}),l()}if(n&2){let e=a.$implicit,i=p();z("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var Bi=class Bi extends yt{constructor(e,i,t,s,_,m,j,Y,Et,Mi,Ut,Si){super(e,new Nt,Ut,_,Y);this.contentService=e;this.activatedRoute=i;this.cmsToastrService=t;this.router=s;this.tokenHelper=_;this.cmsConfirmationDialogService=m;this.cdr=j;this.translate=Y;this.cmsStoreService=Et;this.pageInfo=Mi;this.publicHelper=Ut;this.dialog=Si;this.requestLinkPageId=0;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new J;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["linkMainImageIdSrc","id","recordStatus","LinkPageId","createdDate","updatedDate"];this.tabledisplayedColumnsMobileSource=["linkMainImageIdSrc","id","recordStatus","LinkPageId","createdDate","updatedDate"];this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:Qt=>this.onSubmitOptionsSearch(Qt)},this.filteModelContent.sortColumn="id",this.filteModelContent.sortType=H.Descending}ngOnInit(){this.requestLinkPageId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkPageId"));let e=new O;this.requestLinkPageId>0&&(e.propertyName="LinkPageId",e.value=this.requestLinkPageId,this.filteModelContent.filters.push(e)),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(i=>i.tokenInfoStore).subscribe(i=>te(this,null,function*(){this.tokenInfo=i,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.requestLinkPageId===0&&(this.tabledisplayedColumns=this.publicHelper.listRemoveIfExist(this.tabledisplayedColumns,"LinkPageId")),this.tableRowsSelected=[],this.onActionTableRowSelect(new Nt);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),t.isSuccess&&(this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=H.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=H.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=H.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}this.requestLinkPageId>0?this.router.navigate(["/webdesigner/intro/add/",this.requestLinkPageId]):this.router.navigate(["/webdesigner/intro/add/"])}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}this.router.navigate(["/webdesigner/intro/edit/",this.tableRowSelected.id])}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.No_row_selected_for_editing").subscribe(s=>{this.cmsToastrService.typeErrorSelected(s)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(s=>{i=s["MESSAGE.Please_Confirm"],t=s["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(s=>{if(s){let _=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(m=>{this.publicHelper.processService.processStart(_,m,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:m=>{m.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(_)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(_)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(m=>{i.set(m,0)}),this.translate.get("MESSAGE.All").subscribe(m=>{i.set(m,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(m=>{this.publicHelper.processService.processStart(t,m,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:m=>{m.isSuccess&&(i.set("All",m.totalRowCount),this.optionsStatist.childMethods.setStatistValue(i)),this.publicHelper.processService.processStop(t)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(t)}});let s=JSON.parse(JSON.stringify(this.filteModelContent)),_=new O;_.propertyName="recordStatus",_.value=ot.Available,s.filters.push(_),this.contentService.ServiceGetCount(s).subscribe({next:m=>{m.isSuccess&&(i.set("Active",m.totalRowCount),this.optionsStatist.childMethods.setStatistValue(i)),this.publicHelper.processService.processStop(t)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(t)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};Bi.\u0275fac=function(i){return new(i||Bi)(I(ii),I(nt),I(N),I(Fe),I(ke),I(je),I(L),I(V),I(We),I(vt),I(B),I(He))},Bi.\u0275cmp=P({type:Bi,selectors:[["app-webdesigner-intro-list"]],standalone:!1,features:[U],decls:63,vars:31,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","linkMainImageIdSrc"],["mat-sort-hea","","der","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","linkSiteId"],["matColumnDef","LinkPageId"],["matColumnDef","recordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","title"],["matColumnDef","createdDate"],["matColumnDef","updatedDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],[1,"col-4"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-hea","","der",""],["style","vertical-align: middle","class","ntk-hover-zoom","aria-hidden","","height","40","width","40",3,"src",4,"ngIf"],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(i,t){if(i&1){let s=v();r(0,"app-cms-html-list",3),E("optionActionGuideNoticeDisplayChange",function(m){return u(s),w(t.viewGuideNotice,m)||(t.viewGuideNotice=m),f(m)}),C("optionOnActionButtonMemoRow",function(){return u(s),f(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return u(s),f(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return u(s),f(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return u(s),f(t.onActionButtonPrintRow())}),y(1,4),d(2," -------------------------------------- "),D(),Ee(3,5)(4,6),y(5,7),b(6,Sa,2,0,"a",8),r(7,"a",9),C("click",function(){return u(s),f(t.viewGuideNotice=!t.viewGuideNotice)}),S(8,"i",10),l(),r(9,"a",9),C("click",function(){return u(s),f(t.onActionButtonReload())}),S(10,"i",11),l(),D(),y(11,12),r(12,"a",13),C("click",function(){return u(s),f(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),S(13,"mat-slide-toggle",14),d(14),h(15,"translate"),l(),r(16,"a",13),C("click",function(){return u(s),f(t.onActionButtonStatist())}),S(17,"mat-slide-toggle",14),d(18),h(19,"translate"),l(),D(),y(20,15),b(21,ba,7,3,"div",16),D(),y(22,17),b(23,Ia,7,3,"div",16)(24,Ca,7,3,"div",16),D(),y(25,18),r(26,"app-cms-search-list",19),E("optionsChange",function(m){return u(s),w(t.optionsSearch,m)||(t.optionsSearch=m),f(m)}),l(),r(27,"app-cms-statist-list",19),E("optionsChange",function(m){return u(s),w(t.optionsStatist,m)||(t.optionsStatist=m),f(m)}),l(),D(),y(28,20),r(29,"mat-table",21,0),C("matSortChange",function(){u(s);let m=R(30);return f(t.onTableSortData(m))}),y(31,22),b(32,va,3,3,"mat-header-cell",23)(33,Da,2,1,"mat-cell",24),D(),y(34,25),b(35,Ta,2,1,"mat-header-cell",26)(36,wa,2,1,"mat-cell",24),D(),y(37,27),b(38,Ea,2,1,"mat-header-cell",26)(39,xa,4,5,"mat-cell",24),D(),y(40,28),b(41,Ra,2,1,"mat-header-cell",26)(42,Aa,2,1,"mat-cell",24),D(),y(43,29),b(44,Pa,2,1,"mat-header-cell",26)(45,ka,5,7,"mat-cell",30),D(),y(46,31),b(47,La,2,1,"mat-header-cell",26)(48,Va,2,1,"mat-cell",24),D(),y(49,32),b(50,Ba,2,1,"mat-header-cell",26)(51,Ga,3,3,"mat-cell",24),D(),y(52,33),b(53,Fa,2,1,"mat-header-cell",26)(54,Na,3,3,"mat-cell",24),D(),y(55,34),b(56,Oa,3,3,"mat-header-cell",35)(57,Ha,6,1,"mat-cell",36),D(),b(58,qa,1,0,"mat-header-row",37)(59,ja,1,2,"mat-row",38),l(),D(),y(60,39),r(61,"mat-paginator",40,1),C("page",function(m){return u(s),f(t.onTablePageingData(m))}),l(),D(),l()}i&2&&(c("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),T("optionActionGuideNoticeDisplay",t.viewGuideNotice),c("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.title),o(6),c("ngIf",t.requestLinkPageId>0),o(4),z("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(3),c("checked",t.optionsSearch.data.show),o(),g("",M(15,26,"ACTION.SEARCH")," "),o(3),c("checked",t.optionsStatist.data.show),o(),g("",M(19,28,"ACTION.STATIST")," "),o(3),c("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessAddRow),o(2),c("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),o(),c("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),o(2),T("options",t.optionsSearch),o(),T("options",t.optionsStatist),o(2),c("dataSource",t.tableSource),o(29),c("matHeaderRowDef",t.tabledisplayedColumns),o(),c("matRowDefColumns",t.tabledisplayedColumns),o(2),c("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",ve(30,ha)))},dependencies:[Te,W,tt,Ae,re,G,st,ct,qe,Pe,dt,pt,mt,ft,Mt,gt,ut,St,_t,ht,bt,It,Ue,Qe,ze,Ke,Dt,it,k,Hn,Lt,qn,Je,Gt],encapsulation:2});var gn=Bi;var Ua=["vform"];function Qa(n,a){if(n&1){let e=v();r(0,"div",10)(1,"button",11),C("click",function(){u(e);let t=p();return f(t.onFormCancel())}),S(2,"i",12),d(3),h(4,"translate"),l()()}n&2&&(o(3),g(" ",M(4,1,"ACTION.CANCEL")," "))}var ji=class ji{constructor(a,e,i,t,s,_,m,j,Y,Et){this.data=a;this.dialogRef=e;this.coreEnumService=i;this.webDesignerLogMemberInfoService=t;this.cdr=s;this.cmsToastrService=_;this.tokenHelper=m;this.cmsStoreService=j;this.publicHelper=Y;this.translate=Et;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.tokenInfo=new Eo;this.dataModelResult=new F;this.dataModel=new un;this.formInfo=new ae;this.dataModelEnumSendSmsStatusTypeResult=new F;this.fieldsInfo=new Map;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,a&&(this.requestId=a.id+"")}ngOnInit(){if(this.translate.get("TITLE.VIEW").subscribe(a=>{this.formInfo.formTitle=a}),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(a=>a.tokenInfoStore).subscribe(a=>te(this,null,function*(){this.tokenInfo=a}))),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:a=>{this.dataModelEnumSendSmsStatusTypeResult=a}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(a=>a.unsubscribe())}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage="";let a=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(a,e,this.constructorInfoAreaId)}),this.webDesignerLogMemberInfoService.setAccessLoad(),this.webDesignerLogMemberInfoService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModel=e.item,e.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+e.item.id,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(e.errorMessage)),this.publicHelper.processService.processStop(a)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(a,!1)}})}onActionSelectorLocation(a){if(!a||!a.id||a.id<=0){this.translate.get("MESSAGE.Information_area_deleted").subscribe(e=>{this.cmsToastrService.typeWarningSelected(e)}),this.dataModel.linkLocationId=null;return}this.dataModel.linkLocationId=a.id}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};ji.\u0275fac=function(e){return new(e||ji)(I(Ie),I(be),I(Q),I(Ai),I(L),I(N),I(ke),I(We),I(B),I(V))},ji.\u0275cmp=P({type:ji,selectors:[["app-webdesigner-logmemberinfo-view"]],viewQuery:function(e,i){if(e&1&&ie(Ua,5),e&2){let t;ne(t=oe())&&(i.formGroup=t.first)}},standalone:!1,decls:15,vars:21,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection","loader-container"],[3,"optionsInfoAreaId"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],[3,"dataModel","optionMethod"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],[1,"ntk-cms-html-card-message"],[3,"formInfo"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,i){e&1&&(r(0,"div",0),d(1),l(),r(2,"div",1),S(3,"app-progress-spinner",2)(4,"app-cms-site-selector",3),h(5,"translate"),S(6,"app-cms-user-selector",3),h(7,"translate"),S(8,"app-cms-json-list",4),r(9,"app-cms-location-selector",5),h(10,"translate"),C("optionChange",function(s){return i.onActionSelectorLocation(s)}),l()(),r(11,"div",6),S(12,"app-cms-form-result-message",7),l(),r(13,"div",8),b(14,Qa,5,3,"div",9),l()),e&2&&(o(),g(" ",i.formInfo.formTitle," "),o(2),c("optionsInfoAreaId",i.constructorInfoAreaId),o(),c("optionDisabled",!0)("optionSelectForce",i.dataModel.linkSiteId)("optionPlaceholder",M(5,15,"TITLE.SITE")),o(2),c("optionDisabled",!0)("optionSelectForce",i.dataModel.linkUserId)("optionPlaceholder",M(7,17,"TITLE.USER")),o(2),c("dataModel",i.dataModel)("optionMethod",1),o(),c("optionDisabled",!(i.fieldsInfo.linkLocationId!=null&&i.fieldsInfo.linkLocationId.accessEditField))("optionSelectForce",i.dataModel.linkLocationId)("optionPlaceholder",M(10,19,"TITLE.Region")),o(3),c("formInfo",i.formInfo),o(2),c("ngIf",i.formInfo.submitButtonEnabled))},dependencies:[W,sr,Ir,pr,q,mr,le,k],encapsulation:2});var Yn=ji;var za=()=>[5,10,20,100],Ka=n=>({display:n});function Ja(n,a){if(n&1){let e=v();r(0,"div",46)(1,"a",47),C("click",function(){u(e);let t=p();return f(t.onActionButtonViewRow(t.tableRowSelected))}),S(2,"i",48)(3,"br"),l(),r(4,"p",49),d(5),h(6,"translate"),l()()}n&2&&(o(5),g(" ",M(6,1,"ACTION.VIEW")," "))}function Ya(n,a){if(n&1){let e=v();r(0,"div",46)(1,"a",50),C("click",function(){u(e);let t=p();return f(t.onActionButtonDeleteRow(t.tableRowSelected))}),S(2,"i",51)(3,"br"),l(),r(4,"p",49),d(5),h(6,"translate"),l()()}n&2&&(o(5),g(" ",M(6,1,"ACTION.DELETE")," "))}function Xa(n,a){if(n&1&&(r(0,"mat-header-cell",52),d(1),l()),n&2){let e=p();o(),g(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function Za(n,a){if(n&1&&(r(0,"mat-cell"),d(1),l()),n&2){let e=a.$implicit;o(),g(" ",e.id," ")}}function $a(n,a){if(n&1&&(r(0,"mat-header-cell",52),d(1),l()),n&2){let e=p();o(),g(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function el(n,a){if(n&1&&(r(0,"mat-cell"),d(1),h(2,"cmssiteinfo"),h(3,"async"),l()),n&2){let e=a.$implicit;o(),g(" ",M(3,3,M(2,1,e.linkSiteId))," ")}}function tl(n,a){if(n&1&&(r(0,"mat-header-cell",52),d(1),l()),n&2){let e=p();o(),g(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function il(n,a){if(n&1&&S(0,"select",55),n&2){let e=p().$implicit,i=p();c("contentService",i.contentService)("row",e)("ngStyle",et(3,Ka,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function nl(n,a){if(n&1&&(r(0,"mat-cell",53),h(1,"statusCellClass"),S(2,"i",53),h(3,"statusIconClass"),b(4,il,1,5,"select",54),l()),n&2){let e=a.$implicit,i=p();c("ngClass",M(1,3,e.recordStatus)),o(2),c("ngClass",M(3,5,e.recordStatus)),o(2),c("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessEditRow)}}function ol(n,a){if(n&1&&(r(0,"mat-header-cell",52),d(1),l()),n&2){let e=p();o(),g(" ",e.fieldsInfo.linkUserId==null?null:e.fieldsInfo.linkUserId.fieldTitle," ")}}function rl(n,a){if(n&1&&(r(0,"mat-cell"),d(1),h(2,"cmsuserinfo"),h(3,"async"),l()),n&2){let e=a.$implicit;o(),g(" ",M(3,3,M(2,1,e.linkUserId))," ")}}function al(n,a){if(n&1&&(r(0,"mat-header-cell",52),d(1),l()),n&2){let e=p();o(),g(" ",e.fieldsInfo.linkMemberId==null?null:e.fieldsInfo.linkMemberId.fieldTitle," ")}}function ll(n,a){if(n&1&&(r(0,"mat-cell"),d(1),l()),n&2){let e=a.$implicit;o(),g(" ",e.linkMemberId," ")}}function sl(n,a){if(n&1&&(r(0,"mat-header-cell",52),d(1),l()),n&2){let e=p();o(),g(" ",e.fieldsInfo.linkLocationIdTitle==null?null:e.fieldsInfo.linkLocationIdTitle.fieldTitle," ")}}function cl(n,a){if(n&1&&(r(0,"mat-cell"),d(1),l()),n&2){let e=a.$implicit;o(),g(" ",e.linkLocationIdTitle," ")}}function dl(n,a){if(n&1&&(r(0,"mat-header-cell",52),d(1),l()),n&2){let e=p();o(),g(" ",e.fieldsInfo.linkLocationIdParentTitle==null?null:e.fieldsInfo.linkLocationIdParentTitle.fieldTitle," ")}}function pl(n,a){if(n&1&&(r(0,"mat-cell"),d(1),l()),n&2){let e=a.$implicit;o(),g(" ",e.linkLocationIdParentTitle," ")}}function ml(n,a){if(n&1&&(r(0,"mat-header-cell",52),d(1),l()),n&2){let e=p();o(),g(" ",e.fieldsInfo.deviceStatus==null?null:e.fieldsInfo.deviceStatus.fieldTitle," ")}}function ul(n,a){if(n&1&&(r(0,"mat-cell"),d(1),l()),n&2){let e=a.$implicit;o(),g(" ",e.deviceStatus," ")}}function fl(n,a){if(n&1&&(r(0,"mat-header-cell",52),d(1),l()),n&2){let e=p();o(),g(" ",e.fieldsInfo.deviceId==null?null:e.fieldsInfo.deviceId.fieldTitle," ")}}function gl(n,a){if(n&1&&(r(0,"mat-cell"),d(1),l()),n&2){let e=a.$implicit;o(),g(" ",e.deviceId," ")}}function _l(n,a){if(n&1&&(r(0,"mat-header-cell",52),d(1),l()),n&2){let e=p();o(),g(" ",e.fieldsInfo.deviceBrand==null?null:e.fieldsInfo.deviceBrand.fieldTitle," ")}}function hl(n,a){if(n&1&&(r(0,"mat-cell"),d(1),l()),n&2){let e=a.$implicit;o(),g(" ",e.deviceBrand," ")}}function Ml(n,a){if(n&1&&(r(0,"mat-header-cell",52),d(1),l()),n&2){let e=p();o(),g(" ",e.fieldsInfo.simCard==null?null:e.fieldsInfo.simCard.fieldTitle," ")}}function Sl(n,a){if(n&1&&(r(0,"mat-cell"),d(1),l()),n&2){let e=a.$implicit;o(),g(" ",e.simCard," ")}}function bl(n,a){if(n&1&&(r(0,"mat-header-cell",52),d(1),l()),n&2){let e=p();o(),g(" ",e.fieldsInfo.appBuildVer==null?null:e.fieldsInfo.appBuildVer.fieldTitle," ")}}function Il(n,a){if(n&1&&(r(0,"mat-cell"),d(1),l()),n&2){let e=a.$implicit;o(),g(" ",e.appBuildVer," ")}}function Cl(n,a){if(n&1&&(r(0,"mat-header-cell",52),d(1),l()),n&2){let e=p();o(),g(" ",e.fieldsInfo.appSourceVer==null?null:e.fieldsInfo.appSourceVer.fieldTitle," ")}}function vl(n,a){if(n&1&&(r(0,"mat-cell"),d(1),l()),n&2){let e=a.$implicit;o(),g(" ",e.appSourceVer," ")}}function yl(n,a){if(n&1&&(r(0,"mat-header-cell",52),d(1),l()),n&2){let e=p();o(),g(" ",e.fieldsInfo.scorePercent==null?null:e.fieldsInfo.scorePercent.fieldTitle," ")}}function Dl(n,a){if(n&1&&(r(0,"mat-cell"),d(1),l()),n&2){let e=a.$implicit;o(),g(" ",e.scorePercent," %")}}function Tl(n,a){if(n&1&&(r(0,"mat-header-cell",52),d(1),l()),n&2){let e=p();o(),g(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function wl(n,a){if(n&1&&(r(0,"mat-cell"),d(1),h(2,"localeDate"),l()),n&2){let e=a.$implicit;o(),g(" ",M(2,1,e.createdDate)," ")}}function El(n,a){n&1&&(r(0,"mat-header-cell"),d(1),h(2,"translate"),l()),n&2&&(o(),g(" ",M(2,1,"TITLE.OPTION")," "))}function xl(n,a){if(n&1&&(r(0,"mat-cell",56)(1,"button",57)(2,"mat-icon"),d(3,"more_vert"),l()(),S(4,"mat-menu",null,2),l()),n&2){let e=R(5);o(),c("matMenuTriggerFor",e)}}function Rl(n,a){n&1&&S(0,"mat-header-row")}function Al(n,a){if(n&1){let e=v();r(0,"mat-row",58),C("click",function(t){let s=u(e).$implicit,_=p();return f(_.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=u(e).$implicit,_=p();return f(_.onActionTableRowSelect(s,t))}),l()}if(n&2){let e=a.$implicit,i=p();z("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var Ui=class Ui extends yt{constructor(e,i,t,s,_,m,j,Y,Et,Mi,Ut,Si,Qt){super(e,new un,Si,Mi,_);this.contentService=e;this.cmsConfirmationDialogService=i;this.activatedRoute=t;this.cdr=s;this.translate=_;this.themeService=m;this.cmsToastrService=j;this.cmsStoreService=Y;this.router=Et;this.tokenHelper=Mi;this.pageInfo=Ut;this.publicHelper=Si;this.dialog=Qt;this.requestLinkMemberId=0;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new J;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["id","recordStatus","linkUserId","linkMemberId","DeviceStatus","DeviceId","DeviceBrand","SimCard","AppBuildVer","AppSourceVer","ScorePercent","createdDate"];this.tabledisplayedColumnsMobileSource=["id","recordStatus","linkUserId","linkMemberId","DeviceStatus","DeviceId","DeviceBrand","SimCard","AppBuildVer","AppSourceVer","ScorePercent","createdDate"];this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:mn=>this.onSubmitOptionsSearch(mn)},this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=H.Descending}ngOnInit(){this.requestLinkMemberId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkMemberId"));let e=new O;this.requestLinkMemberId>0&&(e.propertyName="linkMemberId",e.value=this.requestLinkMemberId,this.filteModelContent.filters.push(e)),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(i=>i.tokenInfoStore).subscribe(i=>te(this,null,function*(){this.tokenInfo=i,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new un);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),t.isSuccess?(this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=H.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=H.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=H.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonViewRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Yn,{height:"90%",panelClass:i,enterAnimationDuration:X.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:X.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(s=>{this.cmsToastrService.typeErrorSelected(s)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(s=>{i=s["MESSAGE.Please_Confirm"],t=s["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(s=>{if(s){let _=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(m=>{this.publicHelper.processService.processStart(_,m,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:m=>{m.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(_)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(_,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(m=>{i.set(m,0)}),this.translate.get("MESSAGE.All").subscribe(m=>{i.set(m,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(m=>{this.publicHelper.processService.processStart(t,m,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:m=>{m.isSuccess?(this.translate.get("MESSAGE.All").subscribe(j=>{i.set(j,m.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(m.errorMessage),this.publicHelper.processService.processStop(t)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(t,!1)}});let s=JSON.parse(JSON.stringify(this.filteModelContent)),_=new O;_.propertyName="recordStatus",_.value=ot.Available,s.filters.push(_),this.contentService.ServiceGetCount(s).subscribe({next:m=>{m.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(j=>{i.set(j,m.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(m.errorMessage),this.publicHelper.processService.processStop(t)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/application/app/"])}};Ui.\u0275fac=function(i){return new(i||Ui)(I(Ai),I(je),I(nt),I(L),I(V),I(Ct),I(N),I(We),I(Fe),I(ke),I(vt),I(B),I(He))},Ui.\u0275cmp=P({type:Ui,selectors:[["app-webdesigner-logmemberinfo-list"]],standalone:!1,features:[U],decls:81,vars:29,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","linkSiteId"],["matColumnDef","recordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","linkUserId"],["matColumnDef","linkMemberId"],["matColumnDef","LinkLocationIdTitle"],["matColumnDef","LinkLocationIdParentTitle"],["matColumnDef","DeviceStatus"],["matColumnDef","DeviceId"],["matColumnDef","DeviceBrand"],["matColumnDef","SimCard"],["matColumnDef","AppBuildVer"],["matColumnDef","AppSourceVer"],["matColumnDef","ScorePercent"],["matColumnDef","createdDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(i,t){if(i&1){let s=v();r(0,"app-cms-html-list",3),E("optionActionGuideNoticeDisplayChange",function(m){return u(s),w(t.viewGuideNotice,m)||(t.viewGuideNotice=m),f(m)}),C("optionOnActionButtonMemoRow",function(){return u(s),f(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return u(s),f(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return u(s),f(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return u(s),f(t.onActionButtonPrintRow())}),Ee(1,4)(2,5)(3,6),y(4,7),r(5,"a",8),C("click",function(){return u(s),f(t.viewGuideNotice=!t.viewGuideNotice)}),S(6,"i",9),l(),r(7,"a",8),C("click",function(){return u(s),f(t.onActionButtonReload())}),S(8,"i",10),l(),D(),y(9,11),r(10,"a",12),C("click",function(){return u(s),f(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),S(11,"mat-slide-toggle",13),d(12),h(13,"translate"),l(),r(14,"a",12),C("click",function(){return u(s),f(t.onActionButtonStatist())}),S(15,"mat-slide-toggle",13),d(16),h(17,"translate"),l(),D(),Ee(18,14),y(19,15),b(20,Ja,7,3,"div",16)(21,Ya,7,3,"div",16),D(),y(22,17),r(23,"app-cms-search-list",18),E("optionsChange",function(m){return u(s),w(t.optionsSearch,m)||(t.optionsSearch=m),f(m)}),l(),r(24,"app-cms-statist-list",18),E("optionsChange",function(m){return u(s),w(t.optionsStatist,m)||(t.optionsStatist=m),f(m)}),l(),D(),y(25,19),r(26,"mat-table",20,0),C("matSortChange",function(){u(s);let m=R(27);return f(t.onTableSortData(m))}),y(28,21),b(29,Xa,2,1,"mat-header-cell",22)(30,Za,2,1,"mat-cell",23),D(),y(31,24),b(32,$a,2,1,"mat-header-cell",22)(33,el,4,5,"mat-cell",23),D(),y(34,25),b(35,tl,2,1,"mat-header-cell",22)(36,nl,5,7,"mat-cell",26),D(),y(37,27),b(38,ol,2,1,"mat-header-cell",22)(39,rl,4,5,"mat-cell",23),D(),y(40,28),b(41,al,2,1,"mat-header-cell",22)(42,ll,2,1,"mat-cell",23),D(),y(43,29),b(44,sl,2,1,"mat-header-cell",22)(45,cl,2,1,"mat-cell",23),D(),y(46,30),b(47,dl,2,1,"mat-header-cell",22)(48,pl,2,1,"mat-cell",23),D(),y(49,31),b(50,ml,2,1,"mat-header-cell",22)(51,ul,2,1,"mat-cell",23),D(),y(52,32),b(53,fl,2,1,"mat-header-cell",22)(54,gl,2,1,"mat-cell",23),D(),y(55,33),b(56,_l,2,1,"mat-header-cell",22)(57,hl,2,1,"mat-cell",23),D(),y(58,34),b(59,Ml,2,1,"mat-header-cell",22)(60,Sl,2,1,"mat-cell",23),D(),y(61,35),b(62,bl,2,1,"mat-header-cell",22)(63,Il,2,1,"mat-cell",23),D(),y(64,36),b(65,Cl,2,1,"mat-header-cell",22)(66,vl,2,1,"mat-cell",23),D(),y(67,37),b(68,yl,2,1,"mat-header-cell",22)(69,Dl,2,1,"mat-cell",23),D(),y(70,38),b(71,Tl,2,1,"mat-header-cell",22)(72,wl,3,3,"mat-cell",23),D(),y(73,39),b(74,El,3,3,"mat-header-cell",40)(75,xl,6,1,"mat-cell",41),D(),b(76,Rl,1,0,"mat-header-row",42)(77,Al,1,2,"mat-row",43),l(),D(),y(78,44),r(79,"mat-paginator",45,1),C("page",function(m){return u(s),f(t.onTablePageingData(m))}),l(),D(),l()}i&2&&(c("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),T("optionActionGuideNoticeDisplay",t.viewGuideNotice),c("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),o(8),z("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(3),c("checked",t.optionsSearch.data.show),o(),g("",M(13,24,"ACTION.SEARCH")," "),o(3),c("checked",t.optionsStatist.data.show),o(),g("",M(17,26,"ACTION.STATIST")," "),o(4),c("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessWatchRow),o(),c("ngIf",(t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow)&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0),o(2),T("options",t.optionsSearch),o(),T("options",t.optionsStatist),o(2),c("dataSource",t.tableSource),o(50),c("matHeaderRowDef",t.tabledisplayedColumns),o(),c("matRowDefColumns",t.tabledisplayedColumns),o(2),c("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",ve(28,za)))},dependencies:[Te,W,tt,Ae,re,G,st,ct,qe,Pe,dt,pt,mt,ft,Mt,gt,ut,St,_t,ht,bt,It,Ue,Qe,ze,Ke,Dt,it,k,cr,Hn,qn,Je,Gt],encapsulation:2});var Xn=Ui;var Pl=["*"];function Wl(n,a){if(n&1&&(r(0,"label",12),d(1),l()),n&2){let e=p();c("for",Be("app-cms-site-selector-",e.id)),o(),x(e.optionLabel)}}function kl(n,a){if(n&1&&(r(0,"mat-option",13)(1,"span"),d(2),l()()),n&2){let e=a.$implicit,i=p();c("value",e)("disabled",i.optionDisabled),o(2),x(i.displayOption(e))}}function Ll(n,a){n&1&&S(0,"i",14)}function Vl(n,a){n&1&&S(0,"i",15)}function Bl(n,a){if(n&1){let e=v();r(0,"i",16),C("click",function(){u(e);let t=p();return f(t.onActionSelectClear())}),l()}}function Gl(n,a){n&1&&(r(0,"em"),d(1),h(2,"translate"),l()),n&2&&(o(),g("(",M(2,1,"TITLE.Necessary"),")"))}var mi=class mi{constructor(a,e,i,t,s){this.coreEnumService=a;this.cdr=e;this.publicHelper=i;this.translate=t;this.categoryService=s;this.id=++mi.nextId;this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new F;this.dataModelSelect=new Re;this.formControl=new ni;this.optionDisabled=!1;this.optionRequired=!1;this.optionSelectFirstItem=!1;this.optionPlaceholder="";this.optionLabel="";this.optionChange=new xt;this.optionReload=()=>this.onActionButtonReload();this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(a){this.onActionSelectForce(a)}ngOnInit(){this.loadOptions(),(!this.optionLabel||this.optionLabel.length==0&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder)}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(Xt(""),Jt(1500),Yt(),Zt(a=>typeof a=="string"||typeof a=="number"?this.DataGetAll(a||""):[]))}displayFn(a){return a?a.title:void 0}displayOption(a){return a?a.title:void 0}DataGetAll(a){return te(this,null,function*(){let e=new J;e.rowPerPage=20,e.accessLoad=!0;let i=new O;i.propertyName="title",i.value=a,i.searchType=Oe.Contains,i.clauseType=Ne.Or,e.filters.push(i),a&&typeof+a=="number"&&+a>0&&(i=new O,i.propertyName="id",i.value=a,i.searchType=Oe.Equal,i.clauseType=Ne.Or,e.filters.push(i));let t=this.constructor.name+"main";return this.translate.get("MESSAGE.Receiving_information").subscribe(s=>{this.publicHelper.processService.processStart(t,s,this.constructorInfoAreaId)}),yield zt(this.categoryService.ServiceGetAll(e)).then(s=>(this.dataModelResult=s,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||this.dataModelSelect?.id?.length<=0)&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0])},1e3),this.onActionSelect(this.dataModelResult.listItems[0])),this.publicHelper.processService.processStop(t),s.listItems))})}onActionSelect(a){this.dataModelSelect=a,this.optionChange.emit(this.dataModelSelect)}onActionSelectClear(){this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null)}push(a){return this.filteredOptions.pipe(Kt(e=>(e.find(i=>i.id===a.id)||e.push(a),e)))}onActionSelectForce(a){if(typeof a=="string"&&a.length>0){if(this.dataModelSelect&&this.dataModelSelect.id===a)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(e=>e.id===a)){let e=this.dataModelResult.listItems.find(i=>i.id===a);this.dataModelSelect=e,this.formControl.setValue(e);return}this.categoryService.ServiceGetOneById(a).subscribe({next:e=>{e.isSuccess&&(this.filteredOptions=this.push(e.item),this.dataModelSelect=e.item,this.formControl.setValue(e.item),this.optionChange.emit(e.item))}});return}if(typeof a==typeof Re){this.filteredOptions=this.push(a),this.dataModelSelect=a,this.formControl.setValue(a);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new Re,this.loadOptions()}};mi.nextId=0,mi.\u0275fac=function(e){return new(e||mi)(I(Q),I(L),I(B),I(V),I(rt))},mi.\u0275cmp=P({type:mi,selectors:[["app-webdesigner-menu-selector"]],inputs:{optionDisabled:"optionDisabled",optionRequired:"optionRequired",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionLabel:"optionLabel",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange"},standalone:!1,ngContentSelectors:Pl,decls:15,vars:24,consts:[["matauto","matAutocomplete"],[1,"input-style","has-borders","has-icon","input-style-always-active","validate-field","mb-4","loader-container"],[3,"optionsInfoAreaId"],["class","color-highlight",3,"for",4,"ngIf"],["type","text","aria-label","Assignee","matInput","",3,"placeholder","formControl","matAutocomplete","required","id"],[3,"optionSelected","displayWith"],[3,"value","disabled",4,"ngFor","ngForOf"],["class","fa fa-info invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],["class","fa fa-times action color-red-dark",3,"click",4,"ngIf"],[1,"fa","fa-rotate-right","action","color-green-dark",2,"margin-left","20px",3,"click","title"],[4,"ngIf"],[1,"color-highlight",3,"for"],[3,"value","disabled"],[1,"fa","fa-info","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"fa","fa-times","action","color-red-dark",3,"click"]],template:function(e,i){if(e&1){let t=v();$t(),r(0,"div",1),S(1,"app-progress-spinner",2),b(2,Wl,2,3,"label",3),S(3,"input",4),r(4,"mat-autocomplete",5,0),C("optionSelected",function(_){return u(t),f(i.onActionSelect(_.option.value))}),b(6,kl,3,3,"mat-option",6),h(7,"async"),l(),b(8,Ll,1,0,"i",7)(9,Vl,1,0,"i",8)(10,Bl,1,0,"i",9),r(11,"i",10),h(12,"translate"),C("click",function(){return u(t),f(i.onActionButtonReload())}),l(),b(13,Gl,3,3,"em",11),ei(14),l()}if(e&2){let t=R(5);o(),c("optionsInfoAreaId",i.constructorInfoAreaId),o(),c("ngIf",(i.optionLabel==null?null:i.optionLabel.length)>0),o(),c("placeholder",A(i.optionPlaceholder))("id",Be("app-cms-site-selector-",i.id))("formControl",i.formControl)("matAutocomplete",t)("required",i.optionRequired),Rt("disabled",i.optionDisabled?!0:null),o(),c("displayWith",i.displayFn),o(2),c("ngForOf",M(7,20,i.filteredOptions)),o(2),c("ngIf",!i.formControl.valid),o(),c("ngIf",i.optionRequired&&i.formControl.valid),o(),c("ngIf",(i.dataModelSelect==null||i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0),o(),z("rotation360",i.publicHelper.processService.process.inRunArea[i.constructorInfoAreaId]),c("title",A(M(12,22,"ACTION.RELOAD"))),o(2),c("ngIf",i.optionRequired&&(!i.dataModelSelect||!i.dataModelSelect.id||(i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)===0))}},dependencies:[Ge,W,Z,K,$,ri,li,ai,si,G,q,it,k],encapsulation:2});var Qi=mi;var Ol=["vform"],Hl=()=>["fa"];function ql(n,a){if(n&1){let e=v();r(0,"app-cms-enum-record-status-selector",31),E("modelChange",function(t){u(e);let s=p();return w(s.dataModel.recordStatus,t)||(s.dataModel.recordStatus=t),f(t)}),l()}if(n&2){let e=p();T("model",e.dataModel.recordStatus),c("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function jl(n,a){n&1&&S(0,"i",37)}function Ul(n,a){n&1&&S(0,"i",38)}function Ql(n,a){if(n&1&&(r(0,"mat-error"),d(1),r(2,"strong"),d(3),h(4,"translate"),l()()),n&2){let e=p(2);o(),g(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," is "),o(2),x(M(4,2,"MESSAGE.required"))}}function zl(n,a){if(n&1){let e=v();r(0,"div",21)(1,"label",32),d(2),l(),r(3,"input",33,2),E("ngModelChange",function(t){u(e);let s=p();return w(s.dataModel.title,t)||(s.dataModel.title=t),f(t)}),l(),b(5,jl,1,0,"i",34)(6,Ul,1,0,"i",35),r(7,"em"),d(8),l(),b(9,Ql,5,4,"mat-error",36),l()}if(n&2){let e=R(4),i=p();o(2),x(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(),c("placeholder",A(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle)),T("ngModel",i.dataModel.title),c("disabled",!(i.fieldsInfo.title!=null&&i.fieldsInfo.title.accessEditField)),o(2),c("ngIf",!e.value),o(),c("ngIf",e.value),o(2),g("",e.value.length," / 100"),o(),c("ngIf",e.errors==null?null:e.errors.required)}}function Kl(n,a){if(n&1&&(r(0,"mat-error"),d(1),r(2,"strong"),d(3),h(4,"translate"),l()()),n&2){let e=p(2);o(),g(" ",e.fieldsInfo.titleResourceLanguage==null?null:e.fieldsInfo.titleResourceLanguage.fieldTitle," is "),o(2),x(M(4,2,"MESSAGE.required"))}}function Jl(n,a){if(n&1){let e=v();r(0,"div",21)(1,"label",39),d(2),l(),r(3,"input",40,3),E("ngModelChange",function(t){u(e);let s=p();return w(s.dataModel.titleResourceLanguage,t)||(s.dataModel.titleResourceLanguage=t),f(t)}),l(),b(5,Kl,5,4,"mat-error",36),l()}if(n&2){let e=R(4),i=p();o(2),x(i.fieldsInfo.titleResourceLanguage==null?null:i.fieldsInfo.titleResourceLanguage.fieldTitle),o(),c("placeholder",A(i.fieldsInfo.titleResourceLanguage==null?null:i.fieldsInfo.titleResourceLanguage.fieldTitle)),T("ngModel",i.dataModel.titleResourceLanguage),c("disabled",!(i.fieldsInfo.titleResourceLanguage!=null&&i.fieldsInfo.titleResourceLanguage.accessEditField)),o(2),c("ngIf",e.errors==null?null:e.errors.required)}}function Yl(n,a){if(n&1){let e=v();r(0,"div",21)(1,"label",41),d(2),l(),r(3,"input",42,4),E("ngModelChange",function(t){u(e);let s=p();return w(s.dataModel.routeAddressLink,t)||(s.dataModel.routeAddressLink=t),f(t)}),l(),r(5,"em"),d(6),l()()}if(n&2){let e=R(4),i=p();o(2),x(i.fieldsInfo.routeAddressLink==null?null:i.fieldsInfo.routeAddressLink.fieldTitle),o(),c("placeholder",A(i.fieldsInfo.routeAddressLink==null?null:i.fieldsInfo.routeAddressLink.fieldTitle)),T("ngModel",i.dataModel.routeAddressLink),c("disabled",!(i.fieldsInfo.routeAddressLink!=null&&i.fieldsInfo.routeAddressLink.accessEditField)),o(3),g("",e.value.length," / 500")}}function Xl(n,a){if(n&1){let e=v();r(0,"div",43)(1,"div",44)(2,"h5",45),d(3),l()(),r(4,"div",46)(5,"div",47)(6,"input",48),E("ngModelChange",function(t){u(e);let s=p();return w(s.dataModel.routeAddressBlankPage,t)||(s.dataModel.routeAddressBlankPage=t),f(t)}),l(),S(7,"label",49),l()()()}if(n&2){let e=p();o(3),g(" ",e.fieldsInfo.routeAddressBlankPage==null?null:e.fieldsInfo.routeAddressBlankPage.fieldTitle," "),o(3),T("ngModel",e.dataModel.routeAddressBlankPage)}}function Zl(n,a){if(n&1){let e=v();r(0,"div",50)(1,"label",51),d(2),l(),r(3,"input",52,5),E("ngModelChange",function(t){u(e);let s=p();return w(s.dataModel.color,t)||(s.dataModel.color=t),f(t)}),l(),S(5,"ngx-mat-color-toggle",53)(6,"ngx-mat-color-picker",54,6),l()}if(n&2){let e=R(7),i=p();o(2),x(i.fieldsInfo.routeAddressLink==null?null:i.fieldsInfo.routeAddressLink.fieldTitle),o(),Ft("background",i.dataModel.color),c("placeholder",A(i.fieldsInfo.color==null?null:i.fieldsInfo.color.fieldTitle))("ngxMatColorPicker",e),T("ngModel",i.dataModel.color),c("disabled",!(i.fieldsInfo.color!=null&&i.fieldsInfo.color.accessAddField)),o(2),c("for",e),o(),c("touchUi",!0)("color","primary")}}function $l(n,a){if(n&1){let e=v();r(0,"div",21)(1,"label",55),d(2),l(),r(3,"input",56,7),C("iconPickerSelect",function(t){u(e);let s=p();return f(s.onIconPickerSelect(t))}),E("ngModelChange",function(t){u(e);let s=p();return w(s.dataModel.icon,t)||(s.dataModel.icon=t),f(t)}),l()()}if(n&2){let e=p();o(2),x(e.fieldsInfo.icon==null?null:e.fieldsInfo.icon.fieldTitle),o(),c("placeholder",A(e.fieldsInfo.icon==null?null:e.fieldsInfo.icon.fieldTitle))("iconPicker",e.dataModel.icon)("ipIconPack",ve(8,Hl))("ipPosition","top"),T("ngModel",e.dataModel.icon),c("disabled",!(e.fieldsInfo.icon!=null&&e.fieldsInfo.icon.accessEditField))}}function es(n,a){if(n&1){let e=v();r(0,"div",21)(1,"label",57),d(2),l(),r(3,"input",58,8),E("ngModelChange",function(t){u(e);let s=p();return w(s.dataModel.showInMenuOrder,t)||(s.dataModel.showInMenuOrder=t),f(t)}),l()()}if(n&2){let e=p();o(2),x(e.fieldsInfo.showInMenuOrder==null?null:e.fieldsInfo.showInMenuOrder.fieldTitle),o(),c("placeholder",A(e.fieldsInfo.showInMenuOrder==null?null:e.fieldsInfo.showInMenuOrder.fieldTitle)),T("ngModel",e.dataModel.showInMenuOrder),c("disabled",!(e.fieldsInfo.showInMenuOrder!=null&&e.fieldsInfo.showInMenuOrder.accessEditField))}}function ts(n,a){if(n&1&&(r(0,"mat-error"),d(1),r(2,"strong"),d(3),h(4,"translate"),l()()),n&2){let e=p(2);o(),g(" ",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle," is "),o(2),x(M(4,2,"MESSAGE.required"))}}function is(n,a){if(n&1){let e=v();r(0,"div",21)(1,"label",59),d(2),l(),r(3,"textarea",60,9),E("ngModelChange",function(t){u(e);let s=p();return w(s.dataModel.description,t)||(s.dataModel.description=t),f(t)}),d(5,"            "),l(),r(6,"em"),d(7),l(),b(8,ts,5,4,"mat-error",36),l()}if(n&2){let e=R(4),i=p();o(2),x(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle),o(),c("placeholder",A(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle)),T("ngModel",i.dataModel.description),o(4),g("",e.value.length," / 500"),o(),c("ngIf",e.errors==null?null:e.errors.required)}}function ns(n,a){if(n&1){let e=v();r(0,"div",61)(1,"button",62),C("click",function(){u(e);let t=p();return f(t.onFormCancel())}),d(2),h(3,"translate"),l(),r(4,"button",63),d(5),h(6,"translate"),l()()}if(n&2){p();let e=R(10);o(2),g(" ",M(3,3,"ACTION.BACK")," "),o(2),c("disabled",!e.form.valid),o(),g(" ",M(6,5,"ACTION.SAVE")," ")}}function os(n,a){n&1&&(r(0,"mat-icon"),d(1,"call_end"),l())}function rs(n,a){n&1&&(r(0,"mat-icon"),d(1,"call_end"),l())}function as(n,a){n&1&&(r(0,"mat-icon"),d(1,"forum"),l())}function ls(n,a){n&1&&(r(0,"mat-icon"),d(1,"forum"),l())}var zi=class zi extends Vt{constructor(e,i,t,s,_,m,j,Y){super(s,new Re,m,Y);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.webDesignerMainMenuService=s;this.cmsToastrService=_;this.publicHelper=m;this.cdr=j;this.translate=Y;this.requestParentId="";this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.dataModelResult=new F;this.dataModel=new Re;this.formInfo=new ae;this.dataModelEnumMenuPlaceTypeResult=new F;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,e&&(this.requestParentId=e.parentId+""),this.requestParentId.length>0&&(this.dataModel.linkParentId=this.requestParentId)}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(e=>{this.formInfo.formTitle=e}),this.getEnumMenuPlaceType(),this.DataGetAccess()}getEnumMenuPlaceType(){this.coreEnumService.ServiceMenuPlaceTypeEnum().subscribe({next:e=>{this.dataModelEnumMenuPlaceTypeResult=e}})}DataAddContent(){this.dataModel.color=this.dataModel.color?.toString(),this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.webDesignerMainMenuService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorSelect(e){this.dataModel.linkParentId=null,e&&e.id?.length>0&&(this.dataModel.linkParentId=e.id)}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}onStepClick(e,i){e.previouslySelectedIndex<e.selectedIndex&&(this.formGroup.valid||(this.cmsToastrService.typeErrorFormInvalid(),setTimeout(()=>{i.selectedIndex=e.previouslySelectedIndex},10)))}onIconPickerSelect(e){this.dataModel.icon=e}};zi.\u0275fac=function(i){return new(i||zi)(I(Ie),I(be),I(Q),I(rt),I(N),I(B),I(L),I(V))},zi.\u0275cmp=P({type:zi,selectors:[["app-webdesigner-menu-add"]],viewQuery:function(i,t){if(i&1&&ie(Ol,5),i&2){let s;ne(s=oe())&&(t.formGroup=s.first)}},standalone:!1,features:[U],decls:36,vars:30,consts:[["vform","ngForm"],["stepper",""],["Title",""],["TitleResourceLanguage",""],["RouteAddressLink",""],["color",""],["colorPicker",""],["icon",""],["ShowInMenuOrder",""],["Description",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"selectionChange"],["state","main",3,"label"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.titleML",1,"color-highlight"],["matInput","","type","text","cmsKeyboardForce","en","name","dataModel.titleML","id","dataModel.titleML",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["class","d-flex mb-3",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4 cms-input-group",4,"ngIf"],["class","form-actions",4,"ngIf"],["matStepperIcon","main"],["matStepperIcon","seo"],["matStepperIcon","file"],["matStepperIcon","loaction"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["class","fa fa-times invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],[4,"ngIf"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.titleResourceLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleResourceLanguage","id","dataModel.titleResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.routeAddressLink",1,"color-highlight"],["matInput","","type","text","name","dataModel.routeAddressLink","minlength","0","maxlength","500","id","dataModel.routeAddressLink",1,"form-control","validate-name",2,"direction","ltr","text-align","left",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.routeAddressBlankPage",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.routeAddressBlankPage","name","dataModel.routeAddressBlankPage",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.routeAddressBlankPage",1,"custom-control-label"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],["for","dataModel.color",1,"color-highlight"],["matInput","","type","text","name","dataModel.color","id","dataModel.color",1,"form-control","validate-name",3,"ngModelChange","ngxMatColorPicker","ngModel","placeholder","disabled"],["matSuffix","",3,"for"],[3,"touchUi","color"],["for","dataModel.icon",1,"color-highlight"],["matInput","","type","text","name","dataModel.icon","id","dataModel.icon",1,"form-control","validate-name",3,"iconPickerSelect","ngModelChange","iconPicker","ipIconPack","ipPosition","ngModel","placeholder","disabled"],["for","dataModel.showInMenuOrder",1,"color-highlight"],["matInput","","type","number","name","dataModel.showInMenuOrder","id","dataModel.showInMenuOrder",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","1","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"]],template:function(i,t){if(i&1){let s=v();r(0,"div",10),S(1,"app-progress-spinner",11),r(2,"div",12)(3,"p",13),d(4),l(),r(5,"p"),d(6),h(7,"translate"),l(),S(8,"app-cms-form-result-message",14),r(9,"form",15,0),C("ngSubmit",function(){return u(s),f(t.onFormSubmit())}),r(11,"mat-horizontal-stepper",16,1),C("selectionChange",function(m){u(s);let j=R(12);return f(t.onStepClick(m,j))}),r(13,"mat-step",17),h(14,"translate"),b(15,ql,1,5,"app-cms-enum-record-status-selector",18),r(16,"app-webdesigner-menu-selector",19),h(17,"translate"),C("optionChange",function(m){return u(s),f(t.onActionSelectorSelect(m))}),l(),b(18,zl,10,9,"div",20),r(19,"div",21)(20,"label",22),d(21),h(22,"translate"),l(),r(23,"input",23),E("ngModelChange",function(m){return u(s),w(t.dataModel.titleML,m)||(t.dataModel.titleML=m),f(m)}),l()(),b(24,Jl,6,6,"div",20)(25,Yl,7,6,"div",20)(26,Xl,8,2,"div",24)(27,Zl,8,11,"div",25)(28,$l,5,9,"div",20)(29,es,5,5,"div",20)(30,is,9,6,"div",20)(31,ns,7,7,"div",26),l(),b(32,os,2,0,"ng-template",27)(33,rs,2,0,"ng-template",28)(34,as,2,0,"ng-template",29)(35,ls,2,0,"ng-template",30),l()()()()}i&2&&(o(),c("optionsInfoAreaId",t.constructorInfoAreaId),o(3),g(" ",t.formInfo.formTitle," "),o(2),g(" ",M(7,22,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),c("formInfo",t.formInfo),o(5),c("label",A(M(14,24,"TITLE.Menu_Profile"))),o(2),c("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),o(),c("optionDisabled",!1)("optionSelectForce",t.dataModel.linkParentId)("optionPlaceholder",M(17,26,"TITLE.Parent_Menu")),o(2),c("ngIf",t.fieldsInfo.title==null?null:t.fieldsInfo.title.accessWatchField),o(3),g(" ",M(22,28,"TITLE.TitleML")),o(2),T("ngModel",t.dataModel.titleML),c("disabled",!0),o(),c("ngIf",t.fieldsInfo.titleResourceLanguage==null?null:t.fieldsInfo.titleResourceLanguage.accessWatchField),o(),c("ngIf",t.fieldsInfo.routeAddressLink==null?null:t.fieldsInfo.routeAddressLink.accessWatchField),o(),c("ngIf",t.fieldsInfo.routeAddressBlankPage==null?null:t.fieldsInfo.routeAddressBlankPage.accessWatchField),o(),c("ngIf",t.fieldsInfo.color==null?null:t.fieldsInfo.color.accessWatchField),o(),c("ngIf",t.fieldsInfo.icon==null?null:t.fieldsInfo.icon.accessWatchField),o(),c("ngIf",t.fieldsInfo.showInMenuOrder==null?null:t.fieldsInfo.showInMenuOrder.accessWatchField),o(),c("ngIf",t.fieldsInfo.description==null?null:t.fieldsInfo.description.accessWatchField),o(),c("ngIf",t.formInfo.submitButtonEnabled))},dependencies:[W,fe,Z,oi,kt,K,pe,$,he,Me,ue,me,Se,xn,re,G,ci,di,Ln,Ce,q,le,Wi,pi,On,Nn,Fn,jn,Qi,k],encapsulation:2});var Ki=zi;var ss=["vform"],cs=()=>["fa"];function ds(n,a){if(n&1){let e=v();r(0,"app-cms-enum-record-status-selector",31),E("modelChange",function(t){u(e);let s=p();return w(s.dataModel.recordStatus,t)||(s.dataModel.recordStatus=t),f(t)}),l()}if(n&2){let e=p();T("model",e.dataModel.recordStatus),c("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function ps(n,a){n&1&&S(0,"i",37)}function ms(n,a){n&1&&S(0,"i",38)}function us(n,a){if(n&1&&(r(0,"mat-error"),d(1),r(2,"strong"),d(3),h(4,"translate"),l()()),n&2){let e=p(2);o(),g(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," is "),o(2),x(M(4,2,"MESSAGE.required"))}}function fs(n,a){if(n&1){let e=v();r(0,"div",21)(1,"label",32),d(2),l(),r(3,"input",33,2),E("ngModelChange",function(t){u(e);let s=p();return w(s.dataModel.title,t)||(s.dataModel.title=t),f(t)}),l(),b(5,ps,1,0,"i",34)(6,ms,1,0,"i",35),r(7,"em"),d(8),l(),b(9,us,5,4,"mat-error",36),l()}if(n&2){let e=R(4),i=p();o(2),x(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(),c("placeholder",A(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle)),T("ngModel",i.dataModel.title),c("disabled",!(i.fieldsInfo.title!=null&&i.fieldsInfo.title.accessEditField)),o(2),c("ngIf",!e.value),o(),c("ngIf",e.value),o(2),g("",e.value.length," / 100"),o(),c("ngIf",e.errors==null?null:e.errors.required)}}function gs(n,a){if(n&1&&(r(0,"mat-error"),d(1),r(2,"strong"),d(3),h(4,"translate"),l()()),n&2){let e=p(2);o(),g(" ",e.fieldsInfo.titleResourceLanguage==null?null:e.fieldsInfo.titleResourceLanguage.fieldTitle," is "),o(2),x(M(4,2,"MESSAGE.required"))}}function _s(n,a){if(n&1){let e=v();r(0,"div",21)(1,"label",39),d(2),l(),r(3,"input",40,3),E("ngModelChange",function(t){u(e);let s=p();return w(s.dataModel.titleResourceLanguage,t)||(s.dataModel.titleResourceLanguage=t),f(t)}),l(),b(5,gs,5,4,"mat-error",36),l()}if(n&2){let e=R(4),i=p();o(2),x(i.fieldsInfo.titleResourceLanguage==null?null:i.fieldsInfo.titleResourceLanguage.fieldTitle),o(),c("placeholder",A(i.fieldsInfo.titleResourceLanguage==null?null:i.fieldsInfo.titleResourceLanguage.fieldTitle)),T("ngModel",i.dataModel.titleResourceLanguage),c("disabled",!(i.fieldsInfo.titleResourceLanguage!=null&&i.fieldsInfo.titleResourceLanguage.accessEditField)),o(2),c("ngIf",e.errors==null?null:e.errors.required)}}function hs(n,a){if(n&1){let e=v();r(0,"div",21)(1,"label",41),d(2),l(),r(3,"input",42,4),E("ngModelChange",function(t){u(e);let s=p();return w(s.dataModel.routeAddressLink,t)||(s.dataModel.routeAddressLink=t),f(t)}),l(),r(5,"em"),d(6),l()()}if(n&2){let e=R(4),i=p();o(2),x(i.fieldsInfo.routeAddressLink==null?null:i.fieldsInfo.routeAddressLink.fieldTitle),o(),c("placeholder",A(i.fieldsInfo.routeAddressLink==null?null:i.fieldsInfo.routeAddressLink.fieldTitle)),T("ngModel",i.dataModel.routeAddressLink),c("disabled",!(i.fieldsInfo.routeAddressLink!=null&&i.fieldsInfo.routeAddressLink.accessEditField)),o(3),g("",e.value.length," / 500")}}function Ms(n,a){if(n&1){let e=v();r(0,"div",43)(1,"div",44)(2,"h5",45),d(3),l()(),r(4,"div",46)(5,"div",47)(6,"input",48),E("ngModelChange",function(t){u(e);let s=p();return w(s.dataModel.routeAddressBlankPage,t)||(s.dataModel.routeAddressBlankPage=t),f(t)}),l(),S(7,"label",49),l()()()}if(n&2){let e=p();o(3),g(" ",e.fieldsInfo.routeAddressBlankPage==null?null:e.fieldsInfo.routeAddressBlankPage.fieldTitle," "),o(3),T("ngModel",e.dataModel.routeAddressBlankPage)}}function Ss(n,a){if(n&1){let e=v();r(0,"div",50)(1,"label",51),d(2),l(),r(3,"input",52,5),E("ngModelChange",function(t){u(e);let s=p();return w(s.dataModel.color,t)||(s.dataModel.color=t),f(t)}),l(),S(5,"ngx-mat-color-toggle",53)(6,"ngx-mat-color-picker",54,6),l()}if(n&2){let e=R(7),i=p();o(2),x(i.fieldsInfo.routeAddressLink==null?null:i.fieldsInfo.routeAddressLink.fieldTitle),o(),Ft("background",i.dataModel.color),c("placeholder",A(i.fieldsInfo.color==null?null:i.fieldsInfo.color.fieldTitle))("ngxMatColorPicker",e),T("ngModel",i.dataModel.color),c("disabled",!(i.fieldsInfo.color!=null&&i.fieldsInfo.color.accessAddField)),o(2),c("for",e),o(),c("touchUi",!0)("color","primary")}}function bs(n,a){if(n&1){let e=v();r(0,"div",21)(1,"label",55),d(2),l(),r(3,"input",56,7),C("iconPickerSelect",function(t){u(e);let s=p();return f(s.onIconPickerSelect(t))}),E("ngModelChange",function(t){u(e);let s=p();return w(s.dataModel.icon,t)||(s.dataModel.icon=t),f(t)}),l()()}if(n&2){let e=p();o(2),x(e.fieldsInfo.icon==null?null:e.fieldsInfo.icon.fieldTitle),o(),c("placeholder",A(e.fieldsInfo.icon==null?null:e.fieldsInfo.icon.fieldTitle))("iconPicker",e.dataModel.icon)("ipIconPack",ve(8,cs))("ipPosition","top"),T("ngModel",e.dataModel.icon),c("disabled",!(e.fieldsInfo.icon!=null&&e.fieldsInfo.icon.accessEditField))}}function Is(n,a){if(n&1){let e=v();r(0,"div",21)(1,"label",57),d(2),l(),r(3,"input",58,8),E("ngModelChange",function(t){u(e);let s=p();return w(s.dataModel.showInMenuOrder,t)||(s.dataModel.showInMenuOrder=t),f(t)}),l()()}if(n&2){let e=p();o(2),x(e.fieldsInfo.showInMenuOrder==null?null:e.fieldsInfo.showInMenuOrder.fieldTitle),o(),c("placeholder",A(e.fieldsInfo.showInMenuOrder==null?null:e.fieldsInfo.showInMenuOrder.fieldTitle)),T("ngModel",e.dataModel.showInMenuOrder),c("disabled",!(e.fieldsInfo.showInMenuOrder!=null&&e.fieldsInfo.showInMenuOrder.accessEditField))}}function Cs(n,a){if(n&1&&(r(0,"mat-error"),d(1),r(2,"strong"),d(3),h(4,"translate"),l()()),n&2){let e=p(2);o(),g(" ",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle," is "),o(2),x(M(4,2,"MESSAGE.required"))}}function vs(n,a){if(n&1){let e=v();r(0,"div",21)(1,"label",59),d(2),l(),r(3,"textarea",60,9),E("ngModelChange",function(t){u(e);let s=p();return w(s.dataModel.description,t)||(s.dataModel.description=t),f(t)}),d(5,"            "),l(),r(6,"em"),d(7),l(),b(8,Cs,5,4,"mat-error",36),l()}if(n&2){let e=R(4),i=p();o(2),x(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle),o(),c("placeholder",A(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle)),T("ngModel",i.dataModel.description),o(4),g("",e.value.length," / 500"),o(),c("ngIf",e.errors==null?null:e.errors.required)}}function ys(n,a){if(n&1){let e=v();r(0,"div",61)(1,"button",62),C("click",function(){u(e);let t=p();return f(t.onFormCancel())}),d(2),h(3,"translate"),l(),r(4,"button",63),d(5),h(6,"translate"),l()()}if(n&2){p();let e=R(10);o(2),g(" ",M(3,3,"ACTION.BACK")," "),o(2),c("disabled",!e.form.valid),o(),g(" ",M(6,5,"ACTION.SAVE")," ")}}function Ds(n,a){n&1&&(r(0,"mat-icon"),d(1,"call_end"),l())}function Ts(n,a){n&1&&(r(0,"mat-icon"),d(1,"call_end"),l())}function ws(n,a){n&1&&(r(0,"mat-icon"),d(1,"forum"),l())}function Es(n,a){n&1&&(r(0,"mat-icon"),d(1,"forum"),l())}var Ji=class Ji extends Bt{constructor(e,i,t,s,_,m,j,Y){super(s,new Re,_,Y);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.webDesignerMainMenuService=s;this.publicHelper=_;this.cmsToastrService=m;this.cdr=j;this.translate=Y;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.appLanguage="fa";this.dataModelResult=new xi;this.dataModel=new Re;this.formInfo=new ae;this.dataModelEnumMenuPlaceTypeResult=new F;this.fileManagerOpenForm=!1;this.dataWebDesignerMainMenuIds=[];this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id+"")}ngOnInit(){if(this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.getEnumMenuPlaceType()}getEnumMenuPlaceType(){this.coreEnumService.ServiceMenuPlaceTypeEnum().subscribe({next:e=>{this.dataModelEnumMenuPlaceTypeResult=e}})}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.webDesignerMainMenuService.setAccessLoad(),this.webDesignerMainMenuService.setAccessDataType(Pt.Editor),this.webDesignerMainMenuService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.dataAccessModel=i.access,this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.dataModel.color=this.dataModel.color?.toString(),this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.webDesignerMainMenuService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}onStepClick(e,i){e.previouslySelectedIndex<e.selectedIndex&&(this.formGroup.valid||(this.cmsToastrService.typeErrorFormInvalid(),setTimeout(()=>{i.selectedIndex=e.previouslySelectedIndex},10)))}onActionSelectorSelect(e){this.dataModel.linkParentId=null,e&&e.id?.length>0&&(this.dataModel.linkParentId=e.id)}onActionSelectorUserCategorySelect(e){this.dataWebDesignerMainMenuModel=e}onIconPickerSelect(e){this.dataModel.icon=e}};Ji.\u0275fac=function(i){return new(i||Ji)(I(Ie),I(be),I(Q),I(rt),I(B),I(N),I(L),I(V))},Ji.\u0275cmp=P({type:Ji,selectors:[["app-webdesigner-menu-edit"]],viewQuery:function(i,t){if(i&1&&ie(ss,5),i&2){let s;ne(s=oe())&&(t.formGroup=s.first)}},standalone:!1,features:[U],decls:36,vars:30,consts:[["vform","ngForm"],["stepper",""],["Title",""],["TitleResourceLanguage",""],["RouteAddressLink",""],["color",""],["colorPicker",""],["icon",""],["ShowInMenuOrder",""],["Description",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"selectionChange"],["state","main",3,"label"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.titleML",1,"color-highlight"],["matInput","","type","text","cmsKeyboardForce","en","name","dataModel.titleML","id","dataModel.titleML",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["class","d-flex mb-3",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4 cms-input-group",4,"ngIf"],["class","form-actions",4,"ngIf"],["matStepperIcon","main"],["matStepperIcon","seo"],["matStepperIcon","file"],["matStepperIcon","loaction"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["class","fa fa-times invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],[4,"ngIf"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.titleResourceLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleResourceLanguage","id","dataModel.titleResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.routeAddressLink",1,"color-highlight"],["matInput","","type","text","name","dataModel.routeAddressLink","minlength","0","maxlength","500","id","dataModel.routeAddressLink",1,"form-control","validate-name",2,"direction","ltr","text-align","left",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.routeAddressBlankPage",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.routeAddressBlankPage","name","dataModel.routeAddressBlankPage",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.routeAddressBlankPage",1,"custom-control-label"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],["for","dataModel.color",1,"color-highlight"],["matInput","","type","text","name","dataModel.color","id","dataModel.color",1,"form-control","validate-name",3,"ngModelChange","ngxMatColorPicker","ngModel","placeholder","disabled"],["matSuffix","",3,"for"],[3,"touchUi","color"],["for","dataModel.icon",1,"color-highlight"],["matInput","","type","text","name","dataModel.icon","id","dataModel.icon",1,"form-control","validate-name",3,"iconPickerSelect","ngModelChange","iconPicker","ipIconPack","ipPosition","ngModel","placeholder","disabled"],["for","dataModel.showInMenuOrder",1,"color-highlight"],["matInput","","type","number","name","dataModel.showInMenuOrder","id","dataModel.showInMenuOrder",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","1","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"]],template:function(i,t){if(i&1){let s=v();r(0,"div",10),S(1,"app-progress-spinner",11),r(2,"div",12)(3,"p",13),d(4),l(),r(5,"p"),d(6),h(7,"translate"),l(),S(8,"app-cms-form-result-message",14),r(9,"form",15,0),C("ngSubmit",function(){return u(s),f(t.onFormSubmit())}),r(11,"mat-horizontal-stepper",16,1),C("selectionChange",function(m){u(s);let j=R(12);return f(t.onStepClick(m,j))}),r(13,"mat-step",17),h(14,"translate"),b(15,ds,1,5,"app-cms-enum-record-status-selector",18),r(16,"app-webdesigner-menu-selector",19),h(17,"translate"),C("optionChange",function(m){return u(s),f(t.onActionSelectorSelect(m))}),l(),b(18,fs,10,9,"div",20),r(19,"div",21)(20,"label",22),d(21),h(22,"translate"),l(),r(23,"input",23),E("ngModelChange",function(m){return u(s),w(t.dataModel.titleML,m)||(t.dataModel.titleML=m),f(m)}),l()(),b(24,_s,6,6,"div",20)(25,hs,7,6,"div",20)(26,Ms,8,2,"div",24)(27,Ss,8,11,"div",25)(28,bs,5,9,"div",20)(29,Is,5,5,"div",20)(30,vs,9,6,"div",20)(31,ys,7,7,"div",26),l(),b(32,Ds,2,0,"ng-template",27)(33,Ts,2,0,"ng-template",28)(34,ws,2,0,"ng-template",29)(35,Es,2,0,"ng-template",30),l()()()()}i&2&&(o(),c("optionsInfoAreaId",t.constructorInfoAreaId),o(3),g(" ",t.formInfo.formTitle," "),o(2),g(" ",M(7,22,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),c("formInfo",t.formInfo),o(5),c("label",A(M(14,24,"TITLE.Menu_Profile"))),o(2),c("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),o(),c("optionDisabled",!1)("optionSelectForce",t.dataModel.linkParentId)("optionPlaceholder",M(17,26,"TITLE.Parent_Menu")),o(2),c("ngIf",t.fieldsInfo.title==null?null:t.fieldsInfo.title.accessWatchField),o(3),g(" ",M(22,28,"TITLE.TitleML")),o(2),T("ngModel",t.dataModel.titleML),c("disabled",!0),o(),c("ngIf",t.fieldsInfo.titleResourceLanguage==null?null:t.fieldsInfo.titleResourceLanguage.accessWatchField),o(),c("ngIf",t.fieldsInfo.routeAddressLink==null?null:t.fieldsInfo.routeAddressLink.accessWatchField),o(),c("ngIf",t.fieldsInfo.routeAddressBlankPage==null?null:t.fieldsInfo.routeAddressBlankPage.accessWatchField),o(),c("ngIf",t.fieldsInfo.color==null?null:t.fieldsInfo.color.accessWatchField),o(),c("ngIf",t.fieldsInfo.icon==null?null:t.fieldsInfo.icon.accessWatchField),o(),c("ngIf",t.fieldsInfo.showInMenuOrder==null?null:t.fieldsInfo.showInMenuOrder.accessWatchField),o(),c("ngIf",t.fieldsInfo.description==null?null:t.fieldsInfo.description.accessWatchField),o(),c("ngIf",t.formInfo.submitButtonEnabled))},dependencies:[W,fe,Z,oi,kt,K,pe,$,he,Me,ue,me,Se,xn,re,G,ci,di,Ln,Ce,q,le,Wi,pi,On,Nn,Fn,jn,Qi,k],encapsulation:2});var Yi=Ji;function xs(n,a){if(n&1){let e=v();r(0,"button",13),C("click",function(){u(e);let t=p();return f(t.onActionAdd())}),d(1),h(2,"translate"),l()}n&2&&(o(),g(" ",M(2,1,"ACTION.ADD")," "))}function Rs(n,a){if(n&1){let e=v();r(0,"button",14),C("click",function(){u(e);let t=p();return f(t.onActionEdit())}),d(1),h(2,"translate"),l()}n&2&&(o(),g(" ",M(2,1,"ACTION.EDIT")," "))}function As(n,a){if(n&1){let e=v();r(0,"button",15),C("click",function(){u(e);let t=p();return f(t.onActionButtonReload())}),r(1,"mat-icon",16),h(2,"translate"),d(3,"refresh"),l()()}if(n&2){let e=p();o(),z("rotation360",e.publicHelper.processService.process.inRunArea[e.constructorInfoAreaId]),c("title",A(M(2,4,"ACTION.RELOAD")))}}function Ps(n,a){if(n&1){let e=v();r(0,"mat-tree-node",17),S(1,"button",18),r(2,"span",19),C("click",function(){let t=u(e).$implicit,s=p();return f(s.onActionSelect(t))}),S(3,"i",20),d(4),l()()}if(n&2){let e=a.$implicit,i=p();z("ntk-tree-selected",i.dataModelSelect.id.length>0&&i.dataModelSelect.id===e.id),o(3),Ft("color",e.color),c("ngClass",e.icon),o(),g(" \xA0\xA0\xA0\xA0 ",e.title)}}function Ws(n,a){if(n&1){let e=v();r(0,"mat-tree-node",21)(1,"button",22)(2,"mat-icon",23),d(3),l()(),r(4,"span",19),C("click",function(){let t=u(e).$implicit,s=p();return f(s.onActionSelect(t))}),S(5,"i",20),d(6),l()()}if(n&2){let e=a.$implicit,i=p(),t=R(11);z("ntk-tree-selected",i.dataModelSelect.id.length>0&&i.dataModelSelect.id===e.id),c("cdkTreeNodeTypeaheadLabel",e.title)("isExpanded",e.isExpanded??!1),o(),Rt("type","button")("aria-label","Toggle "+e.title),o(2),g(" ",t.isExpanded(e)?"expand_more":"chevron_right"," "),o(2),Ft("color",e.color),c("ngClass",e.icon),o(),g(" \xA0\xA0\xA0\xA0 ",e.title)}}var Xi=class Xi{constructor(a,e,i,t,s,_,m,j,Y,Et){this.cmsToastrService=a;this.coreEnumService=e;this.categoryService=i;this.dialog=t;this.cdr=s;this.publicHelper=_;this.tokenHelper=m;this.themeService=j;this.cmsStoreService=Y;this.translate=Et;this.constructorInfoAreaId=this.constructor.name;this.dataModelSelect=new Re;this.dataModelResult=new F;this.filterModel=new J;this.dataSource=new rr;this.optionChange=new xt;this.unsubscribe=[];this.optionReload=()=>this.onActionButtonReload();this.hasChild=(a,e)=>!!e.children&&e.children.length>0;this.childrenAccessor=a=>a.children??[];this.publicHelper.processService.cdr=this.cdr,this.filterModel.sortColumn="ShowInMenuOrder",this.filterModel.sortType=H.Ascending}set optionSelectForce(a){this.onActionSelectForce(a)}ngOnInit(){this.unsubscribe.push(this.cmsStoreService.getState(a=>a.tokenInfoStore).subscribe(a=>te(this,null,function*(){this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(a=>a.unsubscribe())}DataGetAll(){this.filterModel.rowPerPage=200,this.filterModel.accessLoad=!0;let a=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(a,e,this.constructorInfoAreaId)}),this.categoryService.ServiceGetAllTree(this.filterModel).subscribe({next:e=>{e.isSuccess&&(this.dataModelResult=e,this.dataSource.data=this.dataModelResult.listItems),this.publicHelper.processService.processStop(a)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(a)}})}onActionSelect(a){this.dataModelSelect=a,this.optionChange.emit(this.dataModelSelect)}onActionButtonReload(){this.onActionSelect(null),this.dataModelSelect=new Re,this.DataGetAll()}onActionSelectForce(a){}onActionAdd(){let a="";this.dataModelSelect&&this.dataModelSelect?.id?.length>0&&(a=this.dataModelSelect.id);let e=new Yo;e.disableClose=!0,e.autoFocus=!0,e.data={parentId:a},this.dialog.open(Ki,e).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionEdit(){let a="";if(this.dataModelSelect&&this.dataModelSelect?.id?.length>0&&(a=this.dataModelSelect.id),a.length===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorCategoryNotSelected").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(Yi,{height:"90%",panelClass:e,enterAnimationDuration:X.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:X.cmsViewConfig.exitAnimationDuration,data:{id:a}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionDelete(){let a="";if(this.dataModelSelect&&this.dataModelSelect?.id?.length>0&&(a=this.dataModelSelect.id),a.length===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorCategoryNotSelected").subscribe(e=>{this.cmsToastrService.typeErrorSelected(e)});return}}};Xi.\u0275fac=function(e){return new(e||Xi)(I(N),I(Q),I(rt),I(He),I(L),I(B),I(ke),I(Ct),I(We),I(V))},Xi.\u0275cmp=P({type:Xi,selectors:[["app-webdesigner-menu-tree"]],inputs:{optionSelectForce:"optionSelectForce",optionReload:"optionReload"},outputs:{optionChange:"optionChange"},standalone:!1,decls:15,vars:13,consts:[["treeTagControl",""],[3,"optionHeaderDisplay","optionActionMainDisplay","optionFooterDisplay"],["cms-tree-header",""],["cms-tree-action",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-teal",3,"click",4,"ngIf"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-magenta",3,"click",4,"ngIf"],["type","button","class","btn btn-outline-secondary",3,"click",4,"ngIf"],["cms-tree-body","",1,"loader-container"],[3,"optionsInfoAreaId"],[3,"dataSource","childrenAccessor"],["matTreeNodePadding","",3,"ntk-tree-selected",4,"matTreeNodeDef"],["matTreeNodePadding","","matTreeNodeToggle","","isExpandable","",3,"cdkTreeNodeTypeaheadLabel","isExpanded","ntk-tree-selected",4,"matTreeNodeDef","matTreeNodeDefWhen"],["cms-tree-footer",""],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],["type","button",1,"btn","btn-outline-secondary",3,"click"],[2,"font-size","20px","margin","-6px",3,"title"],["matTreeNodePadding",""],["matIconButton","","disabled",""],[3,"click"],["aria-hidden","true",3,"ngClass"],["matTreeNodePadding","","matTreeNodeToggle","","isExpandable","",3,"cdkTreeNodeTypeaheadLabel","isExpanded"],["matIconButton","","matTreeNodeToggle",""],[1,"mat-icon-rtl-mirror"]],template:function(e,i){e&1&&(r(0,"app-cms-html-tree",1),y(1,2),d(2),h(3,"translate"),D(),y(4,3),b(5,xs,3,3,"button",4)(6,Rs,3,3,"button",5)(7,As,4,6,"button",6),D(),y(8,7),S(9,"app-progress-spinner",8),r(10,"mat-tree",9,0),b(12,Ps,5,6,"mat-tree-node",10)(13,Ws,7,11,"mat-tree-node",11),l(),D(),Ee(14,12),l()),e&2&&(c("optionHeaderDisplay",!0)("optionActionMainDisplay",!0)("optionFooterDisplay",!1),o(2),g(" ",M(3,11,"TABLE."+(i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.moduleEntityName))," "),o(3),c("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessAddRow),o(),c("ngIf",(i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessEditRow)&&(i.dataModelSelect==null||i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0),o(),c("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessWatchRow),o(2),c("optionsInfoAreaId",i.constructorInfoAreaId),o(),c("dataSource",i.dataSource)("childrenAccessor",i.childrenAccessor),o(3),c("matTreeNodeDefWhen",i.hasChild))},dependencies:[Te,W,Ae,re,tr,ir,or,nr,er,q,gr,k],encapsulation:2});var Zn=Xi;var Ls=()=>["expandedTitle"],Vs=()=>[5,10,20,100],Bs=n=>({display:n});function Gs(n,a){if(n&1){let e=v();r(0,"div",41)(1,"a",42),C("click",function(){u(e);let t=p();return f(t.onActionButtonNewRow())}),S(2,"i",43)(3,"br"),l(),r(4,"p",44),d(5),h(6,"translate"),l()()}n&2&&(o(5),g(" ",M(6,1,"ACTION.ADD")," "))}function Fs(n,a){if(n&1){let e=v();r(0,"div",41)(1,"a",45),C("click",function(){u(e);let t=p();return f(t.onActionButtonEditRow(t.tableRowSelected))}),S(2,"i",46)(3,"br"),l(),r(4,"p",44),d(5),h(6,"translate"),l()()}n&2&&(o(5),g(" ",M(6,1,"ACTION.EDIT")," "))}function Ns(n,a){if(n&1){let e=v();r(0,"div",41)(1,"a",47),C("click",function(){u(e);let t=p();return f(t.onActionButtonDeleteRow(t.tableRowSelected))}),S(2,"i",48)(3,"br"),l(),r(4,"p",44),d(5),h(6,"translate"),l()()}n&2&&(o(5),g(" ",M(6,1,"ACTION.DELETE")," "))}function Os(n,a){if(n&1){let e=v();r(0,"mat-row",49),C("click",function(t){let s=u(e).$implicit,_=p();return f(_.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=u(e).$implicit,_=p();return f(_.onActionTableRowSelect(s,t))})("mouseenter",function(){let t=u(e).$implicit,s=p();return f(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=u(e).$implicit,s=p();return f(s.onActionTableRowMouseLeave(t))}),l()}if(n&2){let e=a.$implicit,i=p();z("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}function Hs(n,a){if(n&1&&(r(0,"mat-header-cell",50),d(1),l()),n&2){let e=p();o(),g(" ",e.fieldsInfo.icon==null?null:e.fieldsInfo.icon.fieldTitle," ")}}function qs(n,a){if(n&1&&(r(0,"mat-cell"),S(1,"i",51),l()),n&2){let e=a.$implicit;o(),Ft("color",e.color),c("ngClass",e.icon)}}function js(n,a){if(n&1&&(r(0,"mat-header-cell",50),d(1),l()),n&2){let e=p();o(),g(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function Us(n,a){if(n&1&&(r(0,"mat-cell"),d(1),l()),n&2){let e=a.$implicit;o(),g(" ",e.id," ")}}function Qs(n,a){if(n&1&&(r(0,"mat-header-cell",50),d(1),l()),n&2){let e=p();o(),g(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function zs(n,a){if(n&1&&S(0,"select",54),n&2){let e=p().$implicit,i=p();c("contentService",i.contentService)("row",e)("ngStyle",et(3,Bs,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function Ks(n,a){if(n&1&&(r(0,"mat-cell"),S(1,"i",52),h(2,"statusIconClass"),b(3,zs,1,5,"select",53),l()),n&2){let e=a.$implicit,i=p();o(),c("ngClass",M(2,2,e.recordStatus)),o(2),c("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessEditRow)}}function Js(n,a){if(n&1&&(r(0,"mat-header-cell",50),d(1),l()),n&2){let e=p();o(),g(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle)}}function Ys(n,a){if(n&1&&(r(0,"mat-cell"),d(1),l()),n&2){let e=a.$implicit;o(),g(" ",e.title," ")}}function Xs(n,a){n&1&&(r(0,"mat-header-cell",50),d(1),h(2,"translate"),l()),n&2&&(o(),g(" ",M(2,1,"TITLE.Show_In_Access_Admin_Allow_To_Professional_Data")))}function Zs(n,a){if(n&1&&(r(0,"mat-cell"),S(1,"i",52),h(2,"boolclass"),l()),n&2){let e=a.$implicit;o(),c("ngClass",M(2,1,e.showInAccessAdminAllowToProfessionalData))}}function $s(n,a){n&1&&(r(0,"mat-header-cell",50),d(1),h(2,"translate"),l()),n&2&&(o(),g(" ",M(2,1,"TITLE.Menu_Place_Type")," "))}function ec(n,a){if(n&1&&(r(0,"mat-cell"),d(1),h(2,"enums"),l()),n&2){let e=a.$implicit,i=p();o(),g(" ",At(2,1,e.menuPlaceType,i.dataModelEnumMenuPlaceTypeResult.listItems)," ")}}function tc(n,a){if(n&1&&(r(0,"mat-header-cell",50),d(1),l()),n&2){let e=p();o(),g(" ",e.fieldsInfo.showInMenuOrder==null?null:e.fieldsInfo.showInMenuOrder.fieldTitle," ")}}function ic(n,a){if(n&1&&(r(0,"mat-cell"),d(1),l()),n&2){let e=a.$implicit;o(),g(" ",e.showInMenuOrder," ")}}function nc(n,a){n&1&&(r(0,"mat-header-cell"),d(1),h(2,"translate"),l()),n&2&&(o(),g(" ",M(2,1,"TITLE.OPTION")," "))}function oc(n,a){if(n&1&&(r(0,"mat-cell",55)(1,"button",56)(2,"mat-icon"),d(3,"more_vert"),l()(),S(4,"mat-menu",null,2),l()),n&2){let e=R(5);o(),c("matMenuTriggerFor",e)}}function rc(n,a){n&1&&(r(0,"mat-header-cell",50),d(1),h(2,"translate"),l()),n&2&&(o(),g("",M(2,1,"ACTION.ORDERING")," "))}function ac(n,a){n&1&&(r(0,"mat-cell")(1,"mat-icon",57),d(2,"reorder"),l()())}function lc(n,a){n&1&&S(0,"mat-header-row")}function sc(n,a){n&1&&S(0,"div",60)}function cc(n,a){if(n&1){let e=v();r(0,"mat-row",58),C("click",function(t){let s=u(e).$implicit,_=p();return f(_.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=u(e).$implicit,_=p();return f(_.onActionTableRowSelect(s,t))}),b(1,sc,1,0,"div",59),l()}if(n&2){let e=a.$implicit,i=p();z("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)),c("cdkDragData",e)}}function dc(n,a){if(n&1&&(r(0,"mat-cell"),d(1),h(2,"translate"),S(3,"br"),d(4),h(5,"translate"),S(6,"br"),d(7),h(8,"translate"),l()),n&2){let e=a.$implicit;o(),ti(" ",M(2,6,"TITLE.Id")," : ",e.id," "),o(3),ti(" ",M(5,8,"TITLE.title")," : ",e.title," "),o(3),ti(" ",M(8,10,"TITLE.DisplayInThePriorityMenu")," : ",e.ShowInMenuOrder," ")}}var Zi=class Zi extends yt{constructor(e,i,t,s,_,m,j,Y,Et,Mi,Ut,Si){super(e,new Re,Ut,s,j);this.contentService=e;this.cmsConfirmationDialogService=i;this.cmsToastrService=t;this.tokenHelper=s;this.coreEnumService=_;this.cdr=m;this.translate=j;this.themeService=Y;this.cmsStoreService=Et;this.pageInfo=Mi;this.publicHelper=Ut;this.dialog=Si;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new J;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["Icon","recordStatus","ShowInAccessAdminAllowToProfessionalData","MenuPlaceType","position"];this.tabledisplayedColumnsMobileSource=["Icon","recordStatus","ShowInAccessAdminAllowToProfessionalData","MenuPlaceType","position"];this.dataModelEnumMenuPlaceTypeResult=new F;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:Qt=>this.onSubmitOptionsSearch(Qt)},this.filteModelContent.sortColumn="ShowInMenuOrder",this.filteModelContent.sortType=H.Ascending}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>te(this,null,function*(){this.tokenInfo=e,this.DataGetAll()}))),this.getEnumMenuPlaceType()}getEnumMenuPlaceType(){this.coreEnumService.ServiceMenuPlaceTypeEnum().subscribe({next:e=>{this.dataModelEnumMenuPlaceTypeResult=e}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Re);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));if(this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.categoryModelSelected&&this.categoryModelSelected.id.length>0){let t=new O;t.propertyName="LinkParentId",t.value=this.categoryModelSelected.id,i.filters.push(t)}this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{t.isSuccess&&(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=H.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=H.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=H.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onTableDropRow(e){let i=this.tableSource.data.findIndex(s=>s===e.item.data),t=new Do;t.id=this.tableSource.data[i].id,t.centerId=this.tableSource.data[e.currentIndex].id,i>e.currentIndex?t.actionGo=uo.GoUp:t.actionGo=uo.GoDown,this.contentService.ServiceEditStep(t).subscribe({next:s=>{s.isSuccess&&(Po(this.tableSource.data,i,e.currentIndex),this.tableSource.data=this.tableSource.data.slice())},error:s=>{this.cmsToastrService.typeError(s)}})}onActionSelectorSelect(e){var i=this.filteModelContent.sortColumn,t=this.filteModelContent.sortType;this.filteModelContent=new J,this.filteModelContent.sortColumn=i,this.filteModelContent.sortType=t,this.categoryModelSelected=e,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(Ki,{height:"90%",panelClass:e,enterAnimationDuration:X.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:X.cmsViewConfig.exitAnimationDuration,data:{parentId:this.categoryModelSelected.id}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Yi,{height:"90%",panelClass:i,enterAnimationDuration:X.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:X.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(e==null||!e.id||e.id.length===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}if(this.tableRowSelected=e,this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(s=>{i=s["MESSAGE.Please_Confirm"],t=s["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(s=>{if(s){let _=this.constructor.name+"contentService.ServiceDelete";this.translate.get("MESSAGE.Receiving_information").subscribe(m=>{this.publicHelper.processService.processStart(_,m,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:m=>{m.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(_)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(_,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(m=>{i.set(m,0)}),this.translate.get("MESSAGE.All").subscribe(m=>{i.set(m,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(m=>{this.publicHelper.processService.processStart(t,m,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:m=>{m.isSuccess&&(i.set("All",m.totalRowCount),this.optionsStatist.childMethods.setStatistValue(i)),this.publicHelper.processService.processStop(t)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(t,!1)}});let s=JSON.parse(JSON.stringify(this.filteModelContent)),_=new O;_.propertyName="recordStatus",_.value=ot.Available,s.filters.push(_),this.contentService.ServiceGetCount(s).subscribe({next:m=>{m.isSuccess&&(i.set("Active",m.totalRowCount),this.optionsStatist.childMethods.setStatistValue(i)),this.publicHelper.processService.processStop(t)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonReload(){this.filteModelContent.sortColumn="ShowInMenuOrder",this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}};Zi.\u0275fac=function(i){return new(i||Zi)(I(rt),I(je),I(N),I(ke),I(Q),I(L),I(V),I(Ct),I(We),I(vt),I(B),I(He))},Zi.\u0275cmp=P({type:Zi,selectors:[["app-webdesigner-menu-list"]],standalone:!1,features:[U],decls:65,vars:33,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],[3,"optionChange"],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","","multiTemplateDataRows","","cdkDropList","",3,"matSortChange","cdkDropListDropped","dataSource","cdkDropListData"],["class","ntk-row-expandedTitle",3,"ntk-row-selected","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["matColumnDef","Icon"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","id"],["matColumnDef","recordStatus"],["matColumnDef","title"],["matColumnDef","ShowInAccessAdminAllowToProfessionalData"],["matColumnDef","MenuPlaceType"],["matColumnDef","ShowInMenuOrder"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],["matColumnDef","position"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild","cdkDrag","",3,"ntk-row-selected","cdkDragData","click","rtclick",4,"matRowDef","matRowDefColumns"],["matColumnDef","expandedTitle"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],[1,"col-4"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],[1,"ntk-row-expandedTitle",3,"click","rtclick","mouseenter","mouseleave"],["mat-sort-header",""],["aria-hidden","true",3,"ngClass"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],["cdkDragHandle","",2,"pointer-events","all"],["cdkDrag","",1,"ntk-row-mainfild",3,"click","rtclick","cdkDragData"],["class","ntk-row-placeholder",4,"cdkDragPlaceholder"],[1,"ntk-row-placeholder"]],template:function(i,t){if(i&1){let s=v();r(0,"app-cms-html-list",3),E("optionActionGuideNoticeDisplayChange",function(m){return u(s),w(t.viewGuideNotice,m)||(t.viewGuideNotice=m),f(m)}),C("optionOnActionButtonMemoRow",function(){return u(s),f(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return u(s),f(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return u(s),f(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return u(s),f(t.onActionButtonPrintRow())}),y(1,4),r(2,"app-webdesigner-menu-tree",5),C("optionChange",function(m){return u(s),f(t.onActionSelectorSelect(m))}),l(),D(),Ee(3,6)(4,7),y(5,8),r(6,"a",9),C("click",function(){return u(s),f(t.viewGuideNotice=!t.viewGuideNotice)}),S(7,"i",10),l(),r(8,"a",9),C("click",function(){return u(s),f(t.onActionButtonReload())}),S(9,"i",11),l(),D(),y(10,12),r(11,"a",13),C("click",function(){return u(s),f(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),S(12,"mat-slide-toggle",14),d(13),h(14,"translate"),l(),r(15,"a",13),C("click",function(){return u(s),f(t.onActionButtonStatist())}),S(16,"mat-slide-toggle",14),d(17),h(18,"translate"),l(),D(),y(19,15),b(20,Gs,7,3,"div",16),D(),y(21,17),b(22,Fs,7,3,"div",16)(23,Ns,7,3,"div",16),D(),y(24,18),r(25,"app-cms-search-list",19),E("optionsChange",function(m){return u(s),w(t.optionsSearch,m)||(t.optionsSearch=m),f(m)}),l(),r(26,"app-cms-statist-list",19),E("optionsChange",function(m){return u(s),w(t.optionsStatist,m)||(t.optionsStatist=m),f(m)}),l(),D(),y(27,20),r(28,"mat-table",21,0),C("matSortChange",function(){u(s);let m=R(29);return f(t.onTableSortData(m))})("cdkDropListDropped",function(m){return u(s),f(t.onTableDropRow(m))}),b(30,Os,1,2,"mat-row",22),y(31,23),b(32,Hs,2,1,"mat-header-cell",24)(33,qs,2,3,"mat-cell",25),D(),y(34,26),b(35,js,2,1,"mat-header-cell",24)(36,Us,2,1,"mat-cell",25),D(),y(37,27),b(38,Qs,2,1,"mat-header-cell",24)(39,Ks,4,4,"mat-cell",25),D(),y(40,28),b(41,Js,2,1,"mat-header-cell",24)(42,Ys,2,1,"mat-cell",25),D(),y(43,29),b(44,Xs,3,3,"mat-header-cell",24)(45,Zs,3,3,"mat-cell",25),D(),y(46,30),b(47,$s,3,3,"mat-header-cell",24)(48,ec,3,4,"mat-cell",25),D(),y(49,31),b(50,tc,2,1,"mat-header-cell",24)(51,ic,2,1,"mat-cell",25),D(),y(52,32),b(53,nc,3,3,"mat-header-cell",33)(54,oc,6,1,"mat-cell",34),D(),y(55,35),b(56,rc,3,3,"mat-header-cell",24)(57,ac,3,0,"mat-cell",25),D(),b(58,lc,1,0,"mat-header-row",36)(59,cc,2,3,"mat-row",37),y(60,38),b(61,dc,9,12,"mat-cell",25),D(),l(),D(),y(62,39),r(63,"mat-paginator",40,1),C("page",function(m){return u(s),f(t.onTablePageingData(m))}),l(),D(),l()}i&2&&(c("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey","configuresite.webdesigner.menu"),T("optionActionGuideNoticeDisplay",t.viewGuideNotice),c("optionTreeDisplay",!0)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.title),o(9),z("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(3),c("checked",t.optionsSearch.data.show),o(),g("",M(14,27,"ACTION.SEARCH")," "),o(3),c("checked",t.optionsStatist.data.show),o(),g("",M(18,29,"ACTION.STATIST")," "),o(3),c("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessAddRow),o(2),c("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),o(),c("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),o(2),T("options",t.optionsSearch),o(),T("options",t.optionsStatist),o(2),c("dataSource",t.tableSource)("cdkDropListData",t.tableSource),o(2),c("matRowDefColumns",ve(31,Ls)),o(28),c("matHeaderRowDef",t.tabledisplayedColumns),o(),c("matRowDefColumns",t.tabledisplayedColumns),o(4),c("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",ve(32,Vs)))},dependencies:[Te,W,tt,Ae,re,G,st,ct,qe,Pe,dt,pt,mt,ft,Mt,gt,ut,St,_t,ht,bt,It,Ue,Qe,ze,Ke,Dt,Lo,ko,Wo,Vo,Zn,k,br,Je,Pi],encapsulation:2});var $n=Zi;var mc=["vform"];function uc(n,a){if(n&1){let e=v();r(0,"app-cms-enum-record-status-selector",23),E("modelChange",function(t){u(e);let s=p();return w(s.dataModel.recordStatus,t)||(s.dataModel.recordStatus=t),f(t)}),l()}if(n&2){let e=p();T("model",e.dataModel.recordStatus),c("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function fc(n,a){n&1&&S(0,"i",26)}function gc(n,a){n&1&&S(0,"i",27)}function _c(n,a){if(n&1&&(r(0,"mat-error"),d(1),r(2,"strong"),d(3),h(4,"translate"),l()()),n&2){let e=p(2);o(),g(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," is "),o(2),x(M(4,2,"MESSAGE.required"))}}function hc(n,a){if(n&1){let e=v();r(0,"div",14)(1,"label",24),d(2),l(),r(3,"input",25,3),E("ngModelChange",function(t){u(e);let s=p();return w(s.dataModel.title,t)||(s.dataModel.title=t),f(t)}),l(),b(5,fc,1,0,"i",17)(6,gc,1,0,"i",18),r(7,"em"),d(8),l(),b(9,_c,5,4,"mat-error",19),l()}if(n&2){let e=R(4),i=p();o(2),x(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(),c("placeholder",A(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle)),T("ngModel",i.dataModel.title),c("disabled",!(i.fieldsInfo.title!=null&&i.fieldsInfo.title.accessAddField)),o(2),c("ngIf",!e.value),o(),c("ngIf",e.value),o(2),g("",e.value.length," / 100"),o(),c("ngIf",e.errors==null?null:e.errors.required)}}function Mc(n,a){if(n&1&&(r(0,"mat-error"),d(1),r(2,"strong"),d(3),h(4,"translate"),l()()),n&2){let e=p(2);o(),g(" ",e.fieldsInfo.titleResourceLanguage==null?null:e.fieldsInfo.titleResourceLanguage.fieldTitle," is "),o(2),x(M(4,2,"MESSAGE.required"))}}function Sc(n,a){if(n&1){let e=v();r(0,"div",14)(1,"label",28),d(2),l(),r(3,"input",29,4),E("ngModelChange",function(t){u(e);let s=p();return w(s.dataModel.titleResourceLanguage,t)||(s.dataModel.titleResourceLanguage=t),f(t)}),l(),r(5,"em"),d(6),l(),b(7,Mc,5,4,"mat-error",19),l()}if(n&2){let e=R(4),i=p();o(2),x(i.fieldsInfo.titleResourceLanguage==null?null:i.fieldsInfo.titleResourceLanguage.fieldTitle),o(),c("placeholder",A(i.fieldsInfo.titleResourceLanguage==null?null:i.fieldsInfo.titleResourceLanguage.fieldTitle)),T("ngModel",i.dataModel.titleResourceLanguage),c("disabled",!(i.fieldsInfo.titleResourceLanguage!=null&&i.fieldsInfo.titleResourceLanguage.accessAddField)),o(3),g("",e.value.length," / 100"),o(),c("ngIf",e.errors==null?null:e.errors.required)}}function bc(n,a){n&1&&S(0,"i",26)}function Ic(n,a){n&1&&S(0,"i",27)}function Cc(n,a){if(n&1&&(r(0,"mat-error"),d(1),r(2,"strong"),d(3),h(4,"translate"),l()()),n&2){let e=p();o(),g(" ",e.fieldsInfo.cmsModuleClassName==null?null:e.fieldsInfo.cmsModuleClassName.fieldTitle," is "),o(2),x(M(4,2,"MESSAGE.required"))}}function vc(n,a){if(n&1&&(r(0,"mat-error"),d(1),r(2,"strong"),d(3),h(4,"translate"),l()()),n&2){let e=p();o(),g(" ",e.fieldsInfo.classActionName==null?null:e.fieldsInfo.classActionName.fieldTitle," is "),o(2),x(M(4,2,"MESSAGE.required"))}}function yc(n,a){if(n&1){let e=v();r(0,"div",30)(1,"button",31),C("click",function(){u(e);let t=p();return f(t.onFormCancel())}),S(2,"i",32),d(3),h(4,"translate"),l(),r(5,"button",33),S(6,"i",34),d(7),h(8,"translate"),l()()}if(n&2){p();let e=R(10);o(3),g(" ",M(4,3,"ACTION.CANCEL")," "),o(2),c("disabled",!e.form.valid),o(2),g(" ",M(8,5,"ACTION.SAVE")," ")}}var $i=class $i extends Vt{constructor(e,i,t,s,_,m,j,Y){super(s,new Ze,m,Y);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.webDesignerMainPageDependencyService=s;this.cmsToastrService=_;this.publicHelper=m;this.cdr=j;this.translate=Y;this.requestLinkModuleId=0;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new F;this.dataModel=new Ze;this.formInfo=new ae;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),e&&(this.requestLinkModuleId=+e.linkModuleId),this.requestLinkModuleId>0&&(this.dataModel.linkModuleId=this.requestLinkModuleId)}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess()}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.webDesignerMainPageDependencyService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e)}})}onActionSelectModule(e){if(!e||e.id<=0){this.translate.get(["MESSAGE.Specify_the_module","MESSAGE.Information_module_is_not_clear"]).subscribe(i=>{this.cmsToastrService.typeErrorMessage(i["MESSAGE.Specify_the_module"],i["MESSAGE.Information_module_is_not_clear"])});return}this.dataModel.linkModuleId=e.id}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};$i.\u0275fac=function(i){return new(i||$i)(I(Ie),I(be),I(Q),I(Wt),I(N),I(B),I(L),I(V))},$i.\u0275cmp=P({type:$i,selectors:[["app-webdesigner-pagedependency-add"]],viewQuery:function(i,t){if(i&1&&ie(mc,5),i&2){let s;ne(s=oe())&&(t.formGroup=s.first)}},standalone:!1,features:[U],decls:33,vars:30,consts:[["vform","ngForm"],["CmsModuleClassName",""],["ClassActionName",""],["Title",""],["TitleResourceLanguage",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[3,"optionChange","optionSelectForce","optionPlaceholder","optionDisabled"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.cmsModuleClassName",1,"color-highlight"],["matInput","","type","text","name","dataModel.cmsModuleClassName","type","text","minlength","3","maxlength","100","required","","id","dataModel.cmsModuleClassName",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["class","fa fa-times invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],[4,"ngIf"],["for","dataModel.classActionName",1,"color-highlight"],["matInput","","type","text","name","dataModel.classActionName","type","text","id","dataModel.classActionName",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.titleResourceLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleResourceLanguage","minlength","3","maxlength","100","required","","id","dataModel.titleResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=v();r(0,"div",5),S(1,"app-progress-spinner",6),r(2,"div",7)(3,"p",8),d(4),l(),r(5,"p"),d(6),h(7,"translate"),l(),S(8,"app-cms-form-result-message",9),r(9,"form",10,0),C("ngSubmit",function(){return u(s),f(t.onFormSubmit())}),b(11,uc,1,5,"app-cms-enum-record-status-selector",11)(12,hc,10,9,"div",12)(13,Sc,8,7,"div",12),r(14,"app-cms-module-selector",13),h(15,"translate"),C("optionChange",function(m){return u(s),f(t.onActionSelectModule(m))}),l(),r(16,"div",14)(17,"label",15),d(18),l(),r(19,"input",16,1),E("ngModelChange",function(m){return u(s),w(t.dataModel.cmsModuleClassName,m)||(t.dataModel.cmsModuleClassName=m),f(m)}),l(),b(21,bc,1,0,"i",17)(22,Ic,1,0,"i",18),r(23,"em"),d(24),l(),b(25,Cc,5,4,"mat-error",19),l(),r(26,"div",14)(27,"label",20),d(28),l(),r(29,"input",21,2),E("ngModelChange",function(m){return u(s),w(t.dataModel.classActionName,m)||(t.dataModel.classActionName=m),f(m)}),l(),b(31,vc,5,4,"mat-error",19),l(),b(32,yc,9,7,"div",22),l()()()}if(i&2){let s=R(20),_=R(30);o(),c("optionsInfoAreaId",t.constructorInfoAreaId),o(3),g(" ",t.formInfo.formTitle," "),o(2),g(" ",M(7,26,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),c("formInfo",t.formInfo),o(3),c("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),o(),c("ngIf",t.fieldsInfo.title==null?null:t.fieldsInfo.title.accessWatchField),o(),c("ngIf",t.fieldsInfo.titleResourceLanguage==null?null:t.fieldsInfo.titleResourceLanguage.accessWatchField),o(),c("optionSelectForce",t.dataModel.linkModuleId)("optionPlaceholder",M(15,28,"TITLE.MODULE"))("optionDisabled",!(t.fieldsInfo.linkModuleId!=null&&t.fieldsInfo.linkModuleId.accessAddField)),o(4),x(t.fieldsInfo.cmsModuleClassName==null?null:t.fieldsInfo.cmsModuleClassName.fieldTitle),o(),c("placeholder",A(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),T("ngModel",t.dataModel.cmsModuleClassName),c("disabled",!(t.fieldsInfo.cmsModuleClassName!=null&&t.fieldsInfo.cmsModuleClassName.accessAddField)),o(2),c("ngIf",!s.value),o(),c("ngIf",s.value),o(2),g("",s.value.length," / 100"),o(),c("ngIf",s.errors==null?null:s.errors.required),o(3),x(t.fieldsInfo.classActionName==null?null:t.fieldsInfo.classActionName.fieldTitle),o(),c("placeholder",A(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),T("ngModel",t.dataModel.classActionName),c("disabled",!(t.fieldsInfo.classActionName!=null&&t.fieldsInfo.classActionName.accessAddField)),o(2),c("ngIf",_.errors==null?null:_.errors.required),o(),c("ngIf",t.formInfo.submitButtonEnabled)}},dependencies:[W,fe,Z,K,pe,$,he,Me,ue,me,Se,G,Ce,Un,q,le,k],encapsulation:2});var eo=$i;var Dc=["*"];function Tc(n,a){if(n&1&&(r(0,"label",12),d(1),l()),n&2){let e=p();c("for",Be("app-cms-site-selector-",e.id)),o(),x(e.optionLabel)}}function wc(n,a){if(n&1&&(r(0,"mat-option",13)(1,"span"),d(2),l()()),n&2){let e=a.$implicit,i=p();c("value",e)("disabled",i.optionDisabled),o(2),x(i.displayOption(e))}}function Ec(n,a){n&1&&S(0,"i",14)}function xc(n,a){n&1&&S(0,"i",15)}function Rc(n,a){if(n&1){let e=v();r(0,"i",16),C("click",function(){u(e);let t=p();return f(t.onActionSelectClear())}),l()}}function Ac(n,a){n&1&&(r(0,"em"),d(1),h(2,"translate"),l()),n&2&&(o(),g("(",M(2,1,"TITLE.Necessary"),")"))}var ui=class ui{constructor(a,e,i,t,s){this.coreEnumService=a;this.cdr=e;this.publicHelper=i;this.translate=t;this.categoryService=s;this.id=++ui.nextId;this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new F;this.dataModelSelect=new $e;this.formControl=new ni;this.optionDisabled=!1;this.optionRequired=!1;this.optionSelectFirstItem=!1;this.optionPlaceholder="";this.optionLabel="";this.optionChange=new xt;this.optionReload=()=>this.onActionButtonReload();this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(a){this.onActionSelectForce(a)}ngOnInit(){this.loadOptions(),(!this.optionLabel||this.optionLabel.length==0&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder)}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(Xt(""),Jt(1500),Yt(),Zt(a=>typeof a=="string"||typeof a=="number"?this.DataGetAll(a||""):[]))}displayFn(a){return a?a.title:void 0}displayOption(a){return a?a.title:void 0}DataGetAll(a){return te(this,null,function*(){let e=new J;e.rowPerPage=20,e.accessLoad=!0;let i=new O;i.propertyName="title",i.value=a,i.searchType=Oe.Contains,i.clauseType=Ne.Or,e.filters.push(i),a&&typeof+a=="number"&&+a>0&&(i=new O,i.propertyName="id",i.value=a,i.searchType=Oe.Equal,i.clauseType=Ne.Or,e.filters.push(i));let t=this.constructor.name+"categoryService.ServiceGetAll";return this.translate.get("MESSAGE.Receiving_information").subscribe(s=>{this.publicHelper.processService.processStart(t,s,this.constructorInfoAreaId)}),yield zt(this.categoryService.ServiceGetAll(e)).then(s=>(this.dataModelResult=s,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||this.dataModelSelect.id.length<=0)&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0])},1e3),this.onActionSelect(this.dataModelResult.listItems[0])),this.publicHelper.processService.processStop(t),s.listItems))})}onActionSelect(a){this.optionDisabled||(this.dataModelSelect=a,this.optionChange.emit(this.dataModelSelect))}onActionSelectClear(){this.optionDisabled||(this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null))}push(a){return this.filteredOptions.pipe(Kt(e=>(e.find(i=>i.id===a.id)||e.push(a),e)))}onActionSelectForce(a){if(typeof a=="string"&&a.length>0){if(this.dataModelSelect&&this.dataModelSelect.id===a)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(e=>e.id===a)){let e=this.dataModelResult.listItems.find(i=>i.id===a);this.dataModelSelect=e,this.formControl.setValue(e);return}this.categoryService.ServiceGetOneById(a).subscribe({next:e=>{e.isSuccess&&(this.filteredOptions=this.push(e.item),this.dataModelSelect=e.item,this.formControl.setValue(e.item),this.optionChange.emit(e.item))}});return}if(typeof a==typeof $e){this.filteredOptions=this.push(a),this.dataModelSelect=a,this.formControl.setValue(a);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new $e,this.loadOptions()}};ui.nextId=0,ui.\u0275fac=function(e){return new(e||ui)(I(Q),I(L),I(B),I(V),I(lt))},ui.\u0275cmp=P({type:ui,selectors:[["app-webdesigner-pagetemplate-selector"]],inputs:{optionDisabled:"optionDisabled",optionRequired:"optionRequired",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionLabel:"optionLabel",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange"},standalone:!1,ngContentSelectors:Dc,decls:15,vars:24,consts:[["matauto","matAutocomplete"],[1,"input-style","has-borders","has-icon","input-style-always-active","validate-field","mb-4","loader-container"],[3,"optionsInfoAreaId"],["class","color-highlight",3,"for",4,"ngIf"],["type","text","aria-label","Assignee","matInput","",3,"placeholder","formControl","matAutocomplete","required","id"],[3,"optionSelected","displayWith"],[3,"value","disabled",4,"ngFor","ngForOf"],["class","fa fa-info invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],["class","fa fa-times action color-red-dark",3,"click",4,"ngIf"],[1,"fa","fa-rotate-right","action","color-green-dark",2,"margin-left","20px",3,"click","title"],[4,"ngIf"],[1,"color-highlight",3,"for"],[3,"value","disabled"],[1,"fa","fa-info","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"fa","fa-times","action","color-red-dark",3,"click"]],template:function(e,i){if(e&1){let t=v();$t(),r(0,"div",1),S(1,"app-progress-spinner",2),b(2,Tc,2,3,"label",3),S(3,"input",4),r(4,"mat-autocomplete",5,0),C("optionSelected",function(_){return u(t),f(i.onActionSelect(_.option.value))}),b(6,wc,3,3,"mat-option",6),h(7,"async"),l(),b(8,Ec,1,0,"i",7)(9,xc,1,0,"i",8)(10,Rc,1,0,"i",9),r(11,"i",10),h(12,"translate"),C("click",function(){return u(t),f(i.onActionButtonReload())}),l(),b(13,Ac,3,3,"em",11),ei(14),l()}if(e&2){let t=R(5);o(),c("optionsInfoAreaId",i.constructorInfoAreaId),o(),c("ngIf",(i.optionLabel==null?null:i.optionLabel.length)>0),o(),c("placeholder",A(i.optionPlaceholder))("id",Be("app-cms-site-selector-",i.id))("formControl",i.formControl)("matAutocomplete",t)("required",i.optionRequired),Rt("disabled",i.optionDisabled?!0:null),o(),c("displayWith",i.displayFn),o(2),c("ngForOf",M(7,20,i.filteredOptions)),o(2),c("ngIf",!i.formControl.valid),o(),c("ngIf",i.optionRequired&&i.formControl.valid),o(),c("ngIf",(i.dataModelSelect==null||i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0),o(),z("rotation360",i.publicHelper.processService.process.inRunArea[i.constructorInfoAreaId]),c("title",A(M(12,22,"ACTION.RELOAD"))),o(2),c("ngIf",i.optionRequired&&(!i.dataModelSelect||!i.dataModelSelect.id||(i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)===0))}},dependencies:[Ge,W,Z,K,$,ri,li,ai,si,G,q,it,k],encapsulation:2});var fi=ui;var Pc=["*"];function Wc(n,a){if(n&1&&(r(0,"label",12),d(1),l()),n&2){let e=p();c("for",Be("app-cms-site-selector-",e.id)),o(),x(e.optionLabel)}}function kc(n,a){if(n&1&&(r(0,"mat-option",13)(1,"span"),d(2),l()()),n&2){let e=a.$implicit,i=p();c("value",e)("disabled",i.optionDisabled),o(2),x(i.displayOption(e))}}function Lc(n,a){n&1&&S(0,"i",14)}function Vc(n,a){n&1&&S(0,"i",15)}function Bc(n,a){if(n&1){let e=v();r(0,"i",16),C("click",function(){u(e);let t=p();return f(t.onActionSelectClear())}),l()}}function Gc(n,a){n&1&&(r(0,"em"),d(1),h(2,"translate"),l()),n&2&&(o(),g("(",M(2,1,"TITLE.Necessary"),")"))}var gi=class gi{constructor(a,e,i,t,s){this.coreEnumService=a;this.translate=e;this.cdr=i;this.publicHelper=t;this.categoryService=s;this.id=++gi.nextId;this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new F;this.dataModelSelect=new Xe;this.formControl=new ni;this.optionDisabled=!1;this.optionRequired=!1;this.optionSelectFirstItem=!1;this.optionMasterPage=!1;this.optionLabel="";this.optionPlaceholder="";this.optionChange=new xt;this.masterTemplateId="";this.optionReload=()=>this.onActionButtonReload();this.publicHelper.processService.cdr=this.cdr}set optionMasterTemplateId(a){this.masterTemplateId=a,this.loadOptions()}set optionSelectForce(a){this.onActionSelectForce(a)}ngOnInit(){this.loadOptions(),(!this.optionLabel||this.optionLabel.length==0&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder)}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(Xt(""),Jt(1500),Yt(),Zt(a=>typeof a=="string"||typeof a=="number"?this.DataGetAll(a||""):[]))}displayFn(a){return a?a.title:void 0}displayOption(a){return a?a.title:void 0}DataGetAll(a){return te(this,null,function*(){let e=new J;e.rowPerPage=20,e.accessLoad=!0;let i=new O,t=new O;a&&a.length>0&&(i.propertyName="title",i.value=a,i.searchType=Oe.Contains,i.clauseType=Ne.Or,t.filters.push(i)),a&&typeof+a=="number"&&+a>0&&(i=new O,i.propertyName="id",i.value=a,i.searchType=Oe.Equal,i.clauseType=Ne.Or,t.filters.push(i)),e.filters.push(t),this.optionMasterPage&&(i=new O,i.propertyName="PageAbilityType",i.value=yo.Master,i.searchType=Oe.Equal,i.clauseType=Ne.And,e.filters.push(i)),this.masterTemplateId&&this.masterTemplateId.length>0&&(i=new O,i.propertyName="LinkPageTemplateGuId",i.value=this.masterTemplateId,i.searchType=Oe.Equal,i.clauseType=Ne.And,e.filters.push(i));let s=this.constructor.name+"main";return this.translate.get("MESSAGE.Receiving_information").subscribe(_=>{this.publicHelper.processService.processStart(s,_,this.constructorInfoAreaId)}),yield zt(this.categoryService.ServiceGetAll(e)).then(_=>(this.dataModelResult=_,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||this.dataModelSelect.id.length<=0)&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0])},1e3),this.onActionSelect(this.dataModelResult.listItems[0])),this.publicHelper.processService.processStop(s),_.listItems))})}onActionSelect(a){this.optionDisabled||(this.dataModelSelect=a,this.optionChange.emit(this.dataModelSelect))}onActionSelectClear(){this.optionDisabled||(this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null))}push(a){return this.filteredOptions.pipe(Kt(e=>(e.find(i=>i.id===a.id)||e.push(a),e)))}onActionSelectForce(a){if(typeof a=="string"&&a.length>0){if(this.dataModelSelect&&this.dataModelSelect.id===a)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(e=>e.id===a)){let e=this.dataModelResult.listItems.find(i=>i.id===a);this.dataModelSelect=e,this.formControl.setValue(e);return}this.categoryService.ServiceGetOneById(a).subscribe({next:e=>{e.isSuccess&&(this.filteredOptions=this.push(e.item),this.dataModelSelect=e.item,this.formControl.setValue(e.item),this.optionChange.emit(e.item))}});return}if(typeof a==typeof Xe){this.filteredOptions=this.push(a),this.dataModelSelect=a,this.formControl.setValue(a);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new Xe,this.loadOptions()}};gi.nextId=0,gi.\u0275fac=function(e){return new(e||gi)(I(Q),I(V),I(L),I(B),I(at))},gi.\u0275cmp=P({type:gi,selectors:[["app-webdesigner-page-selector"]],inputs:{optionMasterTemplateId:"optionMasterTemplateId",optionSelectForce:"optionSelectForce",optionDisabled:"optionDisabled",optionRequired:"optionRequired",optionSelectFirstItem:"optionSelectFirstItem",optionMasterPage:"optionMasterPage",optionLabel:"optionLabel",optionPlaceholder:"optionPlaceholder",optionReload:"optionReload"},outputs:{optionChange:"optionChange"},standalone:!1,ngContentSelectors:Pc,decls:15,vars:24,consts:[["matauto","matAutocomplete"],[1,"input-style","has-borders","has-icon","input-style-always-active","validate-field","mb-4","loader-container"],[3,"optionsInfoAreaId"],["class","color-highlight",3,"for",4,"ngIf"],["type","text","aria-label","Assignee","matInput","",3,"placeholder","formControl","matAutocomplete","required","id"],[3,"optionSelected","displayWith"],[3,"value","disabled",4,"ngFor","ngForOf"],["class","fa fa-info invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],["class","fa fa-times action color-red-dark",3,"click",4,"ngIf"],[1,"fa","fa-rotate-right","action","color-green-dark",2,"margin-left","20px",3,"click","title"],[4,"ngIf"],[1,"color-highlight",3,"for"],[3,"value","disabled"],[1,"fa","fa-info","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"fa","fa-times","action","color-red-dark",3,"click"]],template:function(e,i){if(e&1){let t=v();$t(),r(0,"div",1),S(1,"app-progress-spinner",2),b(2,Wc,2,3,"label",3),S(3,"input",4),r(4,"mat-autocomplete",5,0),C("optionSelected",function(_){return u(t),f(i.onActionSelect(_.option.value))}),b(6,kc,3,3,"mat-option",6),h(7,"async"),l(),b(8,Lc,1,0,"i",7)(9,Vc,1,0,"i",8)(10,Bc,1,0,"i",9),r(11,"i",10),h(12,"translate"),C("click",function(){return u(t),f(i.onActionButtonReload())}),l(),b(13,Gc,3,3,"em",11),ei(14),l()}if(e&2){let t=R(5);o(),c("optionsInfoAreaId",i.constructorInfoAreaId),o(),c("ngIf",(i.optionLabel==null?null:i.optionLabel.length)>0),o(),c("placeholder",A(i.optionPlaceholder))("id",Be("app-cms-site-selector-",i.id))("formControl",i.formControl)("matAutocomplete",t)("required",i.optionRequired),Rt("disabled",i.optionDisabled?!0:null),o(),c("displayWith",i.displayFn),o(2),c("ngForOf",M(7,20,i.filteredOptions)),o(2),c("ngIf",!i.formControl.valid),o(),c("ngIf",i.optionRequired&&i.formControl.valid),o(),c("ngIf",(i.dataModelSelect==null||i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0),o(),z("rotation360",i.publicHelper.processService.process.inRunArea[i.constructorInfoAreaId]),c("title",A(M(12,22,"ACTION.RELOAD"))),o(2),c("ngIf",i.optionRequired&&(!i.dataModelSelect||!i.dataModelSelect.id||(i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)===0))}},dependencies:[Ge,W,Z,K,$,ri,li,ai,si,G,q,it,k],encapsulation:2});var _i=gi;var Fc=["vform"];function Nc(n,a){if(n&1){let e=v();r(0,"app-webdesigner-page-selector",15),h(1,"translate"),C("optionChange",function(t){u(e);let s=p();return f(s.onActionSelectParent(t))}),l()}if(n&2){let e=p();c("optionMasterPage",!0)("optionMasterTemplateId",e.dataModel.linkPageTemplateGuId)("optionPlaceholder",M(1,4,"TITLE.parent_page"))("optionDisabled",!1)}}function Oc(n,a){if(n&1){let e=v();r(0,"div",16)(1,"button",17),C("click",function(){u(e);let t=p();return f(t.onFormCancel())}),S(2,"i",18),d(3),h(4,"translate"),l(),r(5,"button",19),S(6,"i",20),d(7),h(8,"translate"),l()()}if(n&2){p();let e=R(9);o(3),g(" ",M(4,3,"ACTION.CANCEL")," "),o(2),c("disabled",!e.form.valid),o(2),g(" ",M(8,5,"ACTION.SAVE")," ")}}var en=class en{constructor(a,e,i,t,s,_,m,j){this.data=a;this.dialogRef=e;this.coreEnumService=i;this.webDesignerMainPageService=t;this.cmsToastrService=s;this.publicHelper=_;this.cdr=m;this.translate=j;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new xi;this.dataModel=new Ao;this.formInfo=new ae;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.translate.get("TITLE.Automatically_add_all_pages").subscribe(a=>{this.formInfo.formTitle=a})}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage="";let a=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(a,e,this.constructorInfoAreaId)}),this.webDesignerMainPageService.ServiceAutoAdd(this.dataModel).subscribe({next:e=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=e,e.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(i=>{this.formInfo.submitResultMessage=i,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(e.errorMessage)),this.publicHelper.processService.processStop(a)},error:e=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(a)}})}onActionSelectModule(a){if(!a||a.id.length<=0){this.translate.get(["MESSAGE.Specify_the_template","MESSAGE.Information_of_template_is_not_clear"]).subscribe(e=>{this.cmsToastrService.typeErrorMessage(e["MESSAGE.Specify_the_template"],e["MESSAGE.Information_of_template_is_not_clear"])});return}this.dataModel.linkPageTemplateGuId=a.id}onActionSelectParent(a){this.dataModel.linkPageParentGuId="",a&&a.id&&a.id.length>0&&(this.dataModel.linkPageParentGuId=a.id)}onFormSubmit(){if(this.formGroup.valid){if(this.formInfo.submitButtonEnabled=!1,!this.dataModel.linkPageTemplateGuId||this.dataModel.linkPageTemplateGuId.length<=0){this.translate.get(["MESSAGE.Specify_the_template","MESSAGE.Information_of_template_is_not_clear"]).subscribe(a=>{this.cmsToastrService.typeErrorMessage(a["MESSAGE.Specify_the_template"],a["MESSAGE.Information_of_template_is_not_clear"])});return}this.DataAddContent()}}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};en.\u0275fac=function(e){return new(e||en)(I(Ie),I(be),I(Q),I(at),I(N),I(B),I(L),I(V))},en.\u0275cmp=P({type:en,selectors:[["app-webdesigner-pagedependency-autoaddpage"]],viewQuery:function(e,i){if(e&1&&ie(Fc,5),e&2){let t;ne(t=oe())&&(i.formGroup=t.first)}},standalone:!1,decls:21,vars:15,consts:[["vform","ngForm"],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection"],[3,"optionChange","optionSelectForce","optionPlaceholder","optionDisabled"],[3,"optionMasterPage","optionMasterTemplateId","optionPlaceholder","optionDisabled","optionChange",4,"ngIf"],[1,"ntk-full-width"],["name","dataModel.pageDependencyIsDefaultPage",3,"ngModelChange","ngModel"],[1,"ntk-cms-html-card-message"],[3,"formInfo"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],[3,"optionChange","optionMasterPage","optionMasterTemplateId","optionPlaceholder","optionDisabled"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(e,i){if(e&1){let t=v();r(0,"div",1),S(1,"app-progress-spinner",2),r(2,"div",3)(3,"p",4),d(4),l(),r(5,"p"),d(6),h(7,"translate"),l(),r(8,"form",5,0),C("ngSubmit",function(){return u(t),f(i.onFormSubmit())}),r(10,"div",6)(11,"app-webdesigner-pagetemplate-selector",7),h(12,"translate"),C("optionChange",function(_){return u(t),f(i.onActionSelectModule(_))}),l(),b(13,Nc,2,6,"app-webdesigner-page-selector",8),r(14,"div",9)(15,"mat-slide-toggle",10),E("ngModelChange",function(_){return u(t),w(i.dataModel.pageDependencyIsDefaultPage,_)||(i.dataModel.pageDependencyIsDefaultPage=_),f(_)}),d(16),l()()(),r(17,"div",11),S(18,"app-cms-form-result-message",12),l(),r(19,"div",13),b(20,Oc,9,7,"div",14),l()()()()}e&2&&(o(),c("optionsInfoAreaId",i.constructorInfoAreaId),o(3),g(" ",i.formInfo.formTitle," "),o(2),g(" ",M(7,11,"TITLE.Be_Careful_When_Entering_Information")," "),o(5),c("optionSelectForce",i.dataModel.linkPageTemplateGuId)("optionPlaceholder",M(12,13,"TITLE.Select_the_template"))("optionDisabled",!1),o(2),c("ngIf",i.dataModel.linkPageTemplateGuId&&i.dataModel.linkPageTemplateGuId.length>0),o(2),T("ngModel",i.dataModel.pageDependencyIsDefaultPage),o(),g(" ",i.fieldsInfo.pageDependencyIsDefaultPage==null?null:i.fieldsInfo.pageDependencyIsDefaultPage.fieldTitle," "),o(2),c("formInfo",i.formInfo),o(2),c("ngIf",i.formInfo.submitButtonEnabled))},dependencies:[W,fe,K,pe,ue,me,Pe,q,le,fi,_i,k],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});var to=en;var Hc=["vform"];function qc(n,a){if(n&1){let e=v();r(0,"app-cms-enum-record-status-selector",25),E("modelChange",function(t){u(e);let s=p();return w(s.dataModel.recordStatus,t)||(s.dataModel.recordStatus=t),f(t)}),l()}if(n&2){let e=p();T("model",e.dataModel.recordStatus),c("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function jc(n,a){n&1&&S(0,"i",28)}function Uc(n,a){n&1&&S(0,"i",29)}function Qc(n,a){if(n&1&&(r(0,"mat-error"),d(1),r(2,"strong"),d(3),h(4,"translate"),l()()),n&2){let e=p(2);o(),g(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," is "),o(2),x(M(4,2,"MESSAGE.required"))}}function zc(n,a){if(n&1){let e=v();r(0,"div",13)(1,"label",26),d(2),l(),r(3,"input",27,3),E("ngModelChange",function(t){u(e);let s=p();return w(s.dataModel.title,t)||(s.dataModel.title=t),f(t)}),l(),b(5,jc,1,0,"i",19)(6,Uc,1,0,"i",20),r(7,"em"),d(8),l(),b(9,Qc,5,4,"mat-error",21),l()}if(n&2){let e=R(4),i=p();o(2),x(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(),c("placeholder",A(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle)),T("ngModel",i.dataModel.title),c("disabled",!(i.fieldsInfo.title!=null&&i.fieldsInfo.title.accessEditField)),o(2),c("ngIf",!e.value),o(),c("ngIf",e.value),o(2),g("",e.value.length," / 100"),o(),c("ngIf",e.errors==null?null:e.errors.required)}}function Kc(n,a){if(n&1&&(r(0,"mat-error"),d(1),r(2,"strong"),d(3),h(4,"translate"),l()()),n&2){let e=p(2);o(),g(" ",e.fieldsInfo.titleResourceLanguage==null?null:e.fieldsInfo.titleResourceLanguage.fieldTitle," is "),o(2),x(M(4,2,"MESSAGE.required"))}}function Jc(n,a){if(n&1){let e=v();r(0,"div",13)(1,"label",30),d(2),l(),r(3,"input",31,4),E("ngModelChange",function(t){u(e);let s=p();return w(s.dataModel.titleResourceLanguage,t)||(s.dataModel.titleResourceLanguage=t),f(t)}),l(),r(5,"em"),d(6),l(),b(7,Kc,5,4,"mat-error",21),l()}if(n&2){let e=R(4),i=p();o(2),x(i.fieldsInfo.titleResourceLanguage==null?null:i.fieldsInfo.titleResourceLanguage.fieldTitle),o(),c("placeholder",A(i.fieldsInfo.titleResourceLanguage==null?null:i.fieldsInfo.titleResourceLanguage.fieldTitle)),T("ngModel",i.dataModel.titleResourceLanguage),c("disabled",!(i.fieldsInfo.titleResourceLanguage!=null&&i.fieldsInfo.titleResourceLanguage.accessEditField)),o(3),g("",e.value.length," / 100"),o(),c("ngIf",e.errors==null?null:e.errors.required)}}function Yc(n,a){n&1&&S(0,"i",28)}function Xc(n,a){n&1&&S(0,"i",29)}function Zc(n,a){if(n&1&&(r(0,"mat-error"),d(1),r(2,"strong"),d(3),h(4,"translate"),l()()),n&2){let e=p();o(),g(" ",e.fieldsInfo.cmsModuleClassName==null?null:e.fieldsInfo.cmsModuleClassName.fieldTitle," is "),o(2),x(M(4,2,"MESSAGE.required"))}}function $c(n,a){if(n&1&&(r(0,"mat-error"),d(1),r(2,"strong"),d(3),h(4,"translate"),l()()),n&2){let e=p();o(),g(" ",e.fieldsInfo.classActionName==null?null:e.fieldsInfo.classActionName.fieldTitle," is "),o(2),x(M(4,2,"MESSAGE.required"))}}function ed(n,a){if(n&1){let e=v();r(0,"div",32)(1,"button",33),C("click",function(){u(e);let t=p();return f(t.onFormCancel())}),S(2,"i",34),d(3),h(4,"translate"),l(),r(5,"button",35),S(6,"i",36),d(7),h(8,"translate"),l()()}if(n&2){p();let e=R(10);o(3),g(" ",M(4,3,"ACTION.CANCEL")," "),o(2),c("disabled",!e.form.valid),o(2),g(" ",M(8,5,"ACTION.SAVE")," ")}}var tn=class tn extends Bt{constructor(e,i,t,s,_,m,j,Y){super(s,new Ze,m,Y);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.webDesignerMainPageDependencyService=s;this.cmsToastrService=_;this.publicHelper=m;this.cdr=j;this.translate=Y;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new xi;this.dataModel=new Ze;this.formInfo=new ae;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id+""),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.webDesignerMainPageDependencyService.setAccessLoad(),this.webDesignerMainPageDependencyService.setAccessDataType(Pt.Editor),this.webDesignerMainPageDependencyService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.webDesignerMainPageDependencyService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e)}})}onActionSelectModule(e){if(!e||e.id<=0){this.translate.get(["MESSAGE.Specify_the_module","MESSAGE.Information_module_is_not_clear"]).subscribe(i=>{this.cmsToastrService.typeErrorMessage(i["MESSAGE.Specify_the_module"],i["MESSAGE.Information_module_is_not_clear"])});return}this.dataModel.linkModuleId=e.id}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};tn.\u0275fac=function(i){return new(i||tn)(I(Ie),I(be),I(Q),I(Wt),I(N),I(B),I(L),I(V))},tn.\u0275cmp=P({type:tn,selectors:[["app-webdesigner-pagedependency-edit"]],viewQuery:function(i,t){if(i&1&&ie(Hc,5),i&2){let s;ne(s=oe())&&(t.formGroup=s.first)}},standalone:!1,features:[U],decls:38,vars:35,consts:[["vform","ngForm"],["CmsModuleClassName",""],["ClassActionName",""],["Title",""],["TitleResourceLanguage",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.titleML",1,"color-highlight"],["matInput","","type","text","cmsKeyboardForce","en","name","dataModel.titleML","id","dataModel.titleML",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],[3,"optionChange","optionSelectForce","optionPlaceholder","optionDisabled"],["for","dataModel.cmsModuleClassName",1,"color-highlight"],["matInput","","type","text","name","dataModel.cmsModuleClassName","type","text","minlength","3","maxlength","100","required","","id","dataModel.cmsModuleClassName",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["class","fa fa-times invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],[4,"ngIf"],["for","dataModel.classActionName",1,"color-highlight"],["matInput","","type","text","name","dataModel.classActionName","type","text","id","dataModel.classActionName",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.titleResourceLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleResourceLanguage","minlength","3","maxlength","100","required","","id","dataModel.titleResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=v();r(0,"div",5),S(1,"app-progress-spinner",6),r(2,"div",7)(3,"p",8),d(4),l(),r(5,"p"),d(6),h(7,"translate"),l(),S(8,"app-cms-form-result-message",9),r(9,"form",10,0),C("ngSubmit",function(){return u(s),f(t.onFormSubmit())}),b(11,qc,1,5,"app-cms-enum-record-status-selector",11)(12,zc,10,9,"div",12),r(13,"div",13)(14,"label",14),d(15),h(16,"translate"),l(),r(17,"input",15),E("ngModelChange",function(m){return u(s),w(t.dataModel.titleML,m)||(t.dataModel.titleML=m),f(m)}),l()(),b(18,Jc,8,7,"div",12),r(19,"app-cms-module-selector",16),h(20,"translate"),C("optionChange",function(m){return u(s),f(t.onActionSelectModule(m))}),l(),r(21,"div",13)(22,"label",17),d(23),l(),r(24,"input",18,1),E("ngModelChange",function(m){return u(s),w(t.dataModel.cmsModuleClassName,m)||(t.dataModel.cmsModuleClassName=m),f(m)}),l(),b(26,Yc,1,0,"i",19)(27,Xc,1,0,"i",20),r(28,"em"),d(29),l(),b(30,Zc,5,4,"mat-error",21),l(),r(31,"div",13)(32,"label",22),d(33),l(),r(34,"input",23,2),E("ngModelChange",function(m){return u(s),w(t.dataModel.classActionName,m)||(t.dataModel.classActionName=m),f(m)}),l(),b(36,$c,5,4,"mat-error",21),l(),b(37,ed,9,7,"div",24),l()()()}if(i&2){let s=R(25),_=R(35);o(),c("optionsInfoAreaId",t.constructorInfoAreaId),o(3),g(" ",t.formInfo.formTitle," "),o(2),g(" ",M(7,29,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),c("formInfo",t.formInfo),o(3),c("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),o(),c("ngIf",t.fieldsInfo.title==null?null:t.fieldsInfo.title.accessWatchField),o(3),g(" ",M(16,31,"TITLE.TitleML")),o(2),T("ngModel",t.dataModel.titleML),c("disabled",!0),o(),c("ngIf",t.fieldsInfo.titleResourceLanguage==null?null:t.fieldsInfo.titleResourceLanguage.accessWatchField),o(),c("optionSelectForce",t.dataModel.linkModuleId)("optionPlaceholder",M(20,33,"TITLE.MODULE"))("optionDisabled",!(t.fieldsInfo.linkModuleId!=null&&t.fieldsInfo.linkModuleId.accessEditField)),o(4),x(t.fieldsInfo.cmsModuleClassName==null?null:t.fieldsInfo.cmsModuleClassName.fieldTitle),o(),c("placeholder",A(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),T("ngModel",t.dataModel.cmsModuleClassName),c("disabled",!(t.fieldsInfo.cmsModuleClassName!=null&&t.fieldsInfo.cmsModuleClassName.accessEditField)),o(2),c("ngIf",!s.value),o(),c("ngIf",s.value),o(2),g("",s.value.length," / 100"),o(),c("ngIf",s.errors==null?null:s.errors.required),o(3),x(t.fieldsInfo.classActionName==null?null:t.fieldsInfo.classActionName.fieldTitle),o(),c("placeholder",A(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),T("ngModel",t.dataModel.classActionName),c("disabled",!(t.fieldsInfo.classActionName!=null&&t.fieldsInfo.classActionName.accessEditField)),o(2),c("ngIf",_.errors==null?null:_.errors.required),o(),c("ngIf",t.formInfo.submitButtonEnabled)}},dependencies:[W,fe,Z,K,pe,$,he,Me,ue,me,Se,G,Ce,Un,q,le,Wi,k],encapsulation:2});var io=tn;var td=()=>[5,10,20,100],id=n=>({display:n});function nd(n,a){if(n&1&&S(0,"app-core-module-header",46),n&2){let e=p();c("optionId",e.requestLinkModuleId)}}function od(n,a){if(n&1){let e=v();r(0,"div",19)(1,"a",47),C("click",function(){u(e);let t=p();return f(t.onActionButtonNewRow())}),S(2,"i",48)(3,"br"),l(),r(4,"p",22),d(5),h(6,"translate"),l()()}n&2&&(o(5),g(" ",M(6,1,"ACTION.ADD")," "))}function rd(n,a){if(n&1){let e=v();r(0,"div",19)(1,"a",49),C("click",function(){u(e);let t=p();return f(t.onActionButtonNewRowAutoDependency())}),r(2,"i",48),d(3,"Dependency"),l(),S(4,"br"),l(),r(5,"p",22),d(6),h(7,"translate"),l()()}n&2&&(o(6),g(" ",M(7,1,"ACTION.AUTOADD"),"Dependency "))}function ad(n,a){if(n&1){let e=v();r(0,"div",19)(1,"a",49),C("click",function(){u(e);let t=p();return f(t.onActionButtonNewRowAutoPage())}),r(2,"i",48),d(3,"Page"),l(),S(4,"br"),l(),r(5,"p",22),d(6),h(7,"translate"),l()()}n&2&&(o(6),g(" ",M(7,1,"ACTION.AUTOADD"),"Page "))}function ld(n,a){if(n&1){let e=v();r(0,"div",19)(1,"a",50),C("click",function(){u(e);let t=p();return f(t.onActionButtonEditRow(t.tableRowSelected))}),S(2,"i",51)(3,"br"),l(),r(4,"p",22),d(5),h(6,"translate"),l()()}n&2&&(o(5),g(" ",M(6,1,"ACTION.EDIT")," "))}function sd(n,a){if(n&1){let e=v();r(0,"div",19)(1,"a",52),C("click",function(){u(e);let t=p();return f(t.onActionButtonDeleteRow(t.tableRowSelected))}),S(2,"i",53)(3,"br"),l(),r(4,"p",22),d(5),h(6,"translate"),l()()}n&2&&(o(5),g(" ",M(6,1,"ACTION.DELETE")," "))}function cd(n,a){n&1&&(r(0,"mat-header-cell",54),d(1),h(2,"translate"),l()),n&2&&(o(),g(" ",M(2,1,"TITLE.PICTURE")," "))}function dd(n,a){if(n&1&&(S(0,"img",56),h(1,"cmsthumbnail")),n&2){let e=p().$implicit;c("src",A(M(1,2,e.linkModuleFileLogoIdSrc)),De)}}function pd(n,a){if(n&1&&(r(0,"mat-cell"),b(1,dd,2,4,"img",55),l()),n&2){let e=a.$implicit;o(),c("ngIf",(e==null||e.linkModuleFileLogoIdSrc==null?null:e.linkModuleFileLogoIdSrc.length)>0)}}function md(n,a){if(n&1&&(r(0,"mat-header-cell",54),d(1),l()),n&2){let e=p();o(),g(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function ud(n,a){if(n&1&&(r(0,"mat-cell"),d(1),l()),n&2){let e=a.$implicit;o(),g(" ",e.id," ")}}function fd(n,a){if(n&1&&(r(0,"mat-header-cell",54),d(1),l()),n&2){let e=p();o(),g(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function gd(n,a){if(n&1&&S(0,"select",59),n&2){let e=p().$implicit,i=p();c("contentService",i.contentService)("row",e)("ngStyle",et(3,id,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function _d(n,a){if(n&1&&(r(0,"mat-cell",57),h(1,"statusCellClass"),S(2,"i",57),h(3,"statusIconClass"),b(4,gd,1,5,"select",58),l()),n&2){let e=a.$implicit,i=p();c("ngClass",M(1,3,e.recordStatus)),o(2),c("ngClass",M(3,5,e.recordStatus)),o(2),c("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessEditRow)}}function hd(n,a){if(n&1&&(r(0,"mat-header-cell",54),d(1),l()),n&2){let e=p();o(),g(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," ")}}function Md(n,a){if(n&1&&(r(0,"mat-cell"),d(1),l()),n&2){let e=a.$implicit;o(),g(" ",e.title," ")}}function Sd(n,a){n&1&&(r(0,"mat-header-cell",54),d(1),h(2,"translate"),l()),n&2&&(o(),g(" ",M(2,1,"TITLE.TitleML")," "))}function bd(n,a){if(n&1&&(r(0,"mat-cell"),d(1),l()),n&2){let e=a.$implicit;o(),g(" ",e.titleML," ")}}function Id(n,a){if(n&1&&(r(0,"mat-header-cell",54),d(1),l()),n&2){let e=p();o(),g(" ",e.fieldsInfo.linkModuleId==null?null:e.fieldsInfo.linkModuleId.fieldTitle," ")}}function Cd(n,a){if(n&1&&(r(0,"mat-cell"),d(1),h(2,"cmstitle"),l()),n&2){let e=a.$implicit,i=p();o(),g(" ",At(2,1,e.linkModuleId,i.dataModelCoreModuleResult.listItems)," ")}}function vd(n,a){if(n&1&&(r(0,"mat-header-cell",54),d(1),l()),n&2){let e=p();o(),g(" ",e.fieldsInfo.cmsModuleClassName==null?null:e.fieldsInfo.cmsModuleClassName.fieldTitle," ")}}function yd(n,a){if(n&1&&(r(0,"mat-cell"),d(1),l()),n&2){let e=a.$implicit;o(),g(" ",e.cmsModuleClassName," ")}}function Dd(n,a){if(n&1&&(r(0,"mat-header-cell",54),d(1),l()),n&2){let e=p();o(),g(" ",e.fieldsInfo.classActionName==null?null:e.fieldsInfo.classActionName.fieldTitle," ")}}function Td(n,a){if(n&1&&(r(0,"mat-cell"),d(1),l()),n&2){let e=a.$implicit;o(),g(" ",e.classActionName," ")}}function wd(n,a){n&1&&(r(0,"mat-header-cell"),d(1),h(2,"translate"),l()),n&2&&(o(),g(" ",M(2,1,"TITLE.OPTION")," "))}function Ed(n,a){if(n&1&&(r(0,"mat-cell",60)(1,"button",61)(2,"mat-icon"),d(3,"more_vert"),l()(),S(4,"mat-menu",null,2),l()),n&2){let e=R(5);o(),c("matMenuTriggerFor",e)}}function xd(n,a){n&1&&S(0,"mat-header-row")}function Rd(n,a){if(n&1){let e=v();r(0,"mat-row",62),C("click",function(t){let s=u(e).$implicit,_=p();return f(_.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=u(e).$implicit,_=p();return f(_.onActionTableRowSelect(s,t))}),l()}if(n&2){let e=a.$implicit,i=p();z("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var nn=class nn extends yt{constructor(e,i,t,s,_,m,j,Y,Et,Mi,Ut,Si,Qt,mn,xr){super(e,new Ze,mn,j,Mi);this.contentService=e;this.cmsToastrService=i;this.cmsConfirmationDialogService=t;this.coreModuleService=s;this.activatedRoute=_;this.router=m;this.tokenHelper=j;this.http=Y;this.cdr=Et;this.translate=Mi;this.pageInfo=Ut;this.themeService=Si;this.cmsStoreService=Qt;this.publicHelper=mn;this.dialog=xr;this.requestLinkModuleId=0;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new J;this.filterDataModelQueryBuilder=[];this.dataModelCoreModuleResult=new F;this.categoryModelSelected=new wo;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["id","recordStatus","TitleML","LinkModuleId","CmsModuleClassName","ClassActionName"];this.tabledisplayedColumnsMobileSource=["id","recordStatus","TitleML","LinkModuleId","CmsModuleClassName","ClassActionName"];this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.requestLinkModuleId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkModuleId")),this.optionsSearch.parentMethods={onSubmit:Ve=>this.onSubmitOptionsSearch(Ve)},this.filteModelContent.sortColumn="LinkModuleId",this.filteModelContent.sortType=H.Ascending}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>te(this,null,function*(){this.tokenInfo=e,this.DataGetAll()}))),this.getModuleList()}getModuleList(){let e=new J;e.rowPerPage=100,this.coreModuleService.ServiceGetAllModuleName(e).subscribe({next:i=>{this.dataModelCoreModuleResult=i}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,["id","recordStatus","title","CmsModuleClassName","ClassActionName"],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Ze);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(s=>{this.publicHelper.processService.processStart(e,s,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=new O,t=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(t.filters=[...this.filterDataModelQueryBuilder]),this.categoryModelSelected&&this.categoryModelSelected.id>0&&(i.propertyName="LinkModuleId",i.value=this.categoryModelSelected.id,t.filters.push(i)),this.contentService.ServiceGetAllEditor(t).subscribe({next:s=>{s.isSuccess&&(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(s.access),this.dataModelResult=s,this.tableSource.data=s.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(s.access)},1e3)),this.publicHelper.processService.processStop(e)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(e)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=H.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=H.Ascending):(H,e.start="desc"):(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=H.Descending),H,this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(eo,{height:"90%",panelClass:e,enterAnimationDuration:X.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:X.cmsViewConfig.exitAnimationDuration,data:{linkModuleId:this.categoryModelSelected.id}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionButtonNewRowAutoPage(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(to,{height:"90%",panelClass:e,enterAnimationDuration:X.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:X.cmsViewConfig.exitAnimationDuration,data:{linkModuleId:this.categoryModelSelected.id}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionButtonNewRowAutoDependency(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=new O;this.contentService.ServiceAutoAdd().subscribe({next:t=>{t.isSuccess&&this.cmsToastrService.typeSuccessAdd(),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e)}})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(io,{height:"90%",panelClass:i,enterAnimationDuration:X.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:X.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(s=>{this.cmsToastrService.typeErrorSelected(s)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(s=>{i=s["MESSAGE.Please_Confirm"],t=s["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(s=>{if(s){let _=this.constructor.name+"contentService.ServiceDelete";this.translate.get("MESSAGE.Receiving_information").subscribe(m=>{this.publicHelper.processService.processStart(_,m,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:m=>{m.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(_)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(_)}})}}).catch(()=>{})}onActionButtonPageList(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.onActionTableRowSelect(e),this.tokenInfo.access.userAccessAdminAllowToAllData?this.router.navigate(["/webdesigner/page/list-grid/LinkPageDependencyGuId",this.tableRowSelected.id]):this.router.navigate(["/webdesigner/page/LinkPageDependencyGuId",this.tableRowSelected.id])}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(m=>{i.set(m,0)}),this.translate.get("MESSAGE.All").subscribe(m=>{i.set(m,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(m=>{this.publicHelper.processService.processStart(t,m,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:m=>{m.isSuccess&&(i.set("All",m.totalRowCount),this.optionsStatist.childMethods.setStatistValue(i)),this.publicHelper.processService.processStop(t)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(t)}});let s=JSON.parse(JSON.stringify(this.filteModelContent)),_=new O;_.propertyName="recordStatus",_.value=ot.Available,s.filters.push(_),this.contentService.ServiceGetCount(s).subscribe({next:m=>{m.isSuccess&&(i.set("Active",m.totalRowCount),this.optionsStatist.childMethods.setStatistValue(i)),this.publicHelper.processService.processStop(t)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(t)}})}onActionButtonSiteRouteView(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorSelected();return}let i=this.tokenInfo.site.currentSiteDomainUrl+"/"+e.cmsModuleClassName+"/"+e.classActionName;window.open(i,"_blank")}onActionSelectorSelect(e){let i=this.filteModelContent.sortColumn,t=this.filteModelContent.sortType;this.filteModelContent=new J,this.filteModelContent.sortColumn=i,this.filteModelContent.sortType=t,this.categoryModelSelected=e,this.DataGetAll()}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}};nn.\u0275fac=function(i){return new(i||nn)(I(Wt),I(N),I(je),I(Dn),I(nt),I(Fe),I(ke),I(Co),I(L),I(V),I(vt),I(Ct),I(We),I(B),I(He))},nn.\u0275cmp=P({type:nn,selectors:[["app-webdesigner-pagedependency-list"]],standalone:!1,features:[U],decls:79,vars:39,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionId",4,"ngIf"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],[3,"optionChange"],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-page","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-globe","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","LinkModuleFileLogoIdSrc"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","id"],["matColumnDef","recordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","title"],["matColumnDef","TitleML"],["matColumnDef","LinkModuleId"],["matColumnDef","CmsModuleClassName"],["matColumnDef","ClassActionName"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],[3,"optionId"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],["type","button","target","_blank","id","openModalButton","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],["style","vertical-align: middle","class","ntk-hover-zoom","aria-hidden","","height","40","width","40",3,"src",4,"ngIf"],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(i,t){if(i&1){let s=v();b(0,nd,1,1,"app-core-module-header",3),r(1,"app-cms-html-list",4),E("optionActionGuideNoticeDisplayChange",function(m){return u(s),w(t.viewGuideNotice,m)||(t.viewGuideNotice=m),f(m)}),C("optionOnActionButtonMemoRow",function(){return u(s),f(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return u(s),f(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return u(s),f(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return u(s),f(t.onActionButtonPrintRow())}),y(2,5),r(3,"app-core-module-tree",6),C("optionChange",function(m){return u(s),f(t.onActionSelectorSelect(m))}),l(),D(),Ee(4,7)(5,8),y(6,9),r(7,"a",10),C("click",function(){return u(s),f(t.viewGuideNotice=!t.viewGuideNotice)}),S(8,"i",11),l(),r(9,"a",10),C("click",function(){return u(s),f(t.onActionButtonReload())}),S(10,"i",12),l(),D(),y(11,13),r(12,"a",14),C("click",function(){return u(s),f(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),S(13,"mat-slide-toggle",15),d(14),h(15,"translate"),l(),r(16,"a",14),C("click",function(){return u(s),f(t.onActionButtonStatist())}),S(17,"mat-slide-toggle",15),d(18),h(19,"translate"),l(),D(),y(20,16),b(21,od,7,3,"div",17)(22,rd,8,3,"div",17)(23,ad,8,3,"div",17),D(),y(24,18),b(25,ld,7,3,"div",17)(26,sd,7,3,"div",17),r(27,"div",19)(28,"a",20),C("click",function(){return u(s),f(t.onActionButtonPageList(t.tableRowSelected))}),S(29,"i",21)(30,"br"),l(),r(31,"p",22),d(32),h(33,"translate"),l()(),r(34,"div",19)(35,"a",20),C("click",function(){return u(s),f(t.onActionButtonSiteRouteView(t.tableRowSelected))}),S(36,"i",23)(37,"br"),l(),r(38,"p",22),d(39),h(40,"translate"),l()(),D(),y(41,24),r(42,"app-cms-search-list",25),E("optionsChange",function(m){return u(s),w(t.optionsSearch,m)||(t.optionsSearch=m),f(m)}),l(),r(43,"app-cms-statist-list",25),E("optionsChange",function(m){return u(s),w(t.optionsStatist,m)||(t.optionsStatist=m),f(m)}),l(),D(),y(44,26),r(45,"mat-table",27,0),C("matSortChange",function(){u(s);let m=R(46);return f(t.onTableSortData(m))}),y(47,28),b(48,cd,3,3,"mat-header-cell",29)(49,pd,2,1,"mat-cell",30),D(),y(50,31),b(51,md,2,1,"mat-header-cell",29)(52,ud,2,1,"mat-cell",30),D(),y(53,32),b(54,fd,2,1,"mat-header-cell",29)(55,_d,5,7,"mat-cell",33),D(),y(56,34),b(57,hd,2,1,"mat-header-cell",29)(58,Md,2,1,"mat-cell",30),D(),y(59,35),b(60,Sd,3,3,"mat-header-cell",29)(61,bd,2,1,"mat-cell",30),D(),y(62,36),b(63,Id,2,1,"mat-header-cell",29)(64,Cd,3,4,"mat-cell",30),D(),y(65,37),b(66,vd,2,1,"mat-header-cell",29)(67,yd,2,1,"mat-cell",30),D(),y(68,38),b(69,Dd,2,1,"mat-header-cell",29)(70,Td,2,1,"mat-cell",30),D(),y(71,39),b(72,wd,3,3,"mat-header-cell",40)(73,Ed,6,1,"mat-cell",41),D(),b(74,xd,1,0,"mat-header-row",42)(75,Rd,1,2,"mat-row",43),l(),D(),y(76,44),r(77,"mat-paginator",45,1),C("page",function(m){return u(s),f(t.onTablePageingData(m))}),l(),D(),l()}i&2&&(c("ngIf",t.requestLinkModuleId>0),o(),c("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey","configuresite.webdesigner.pagedependency"),T("optionActionGuideNoticeDisplay",t.viewGuideNotice),c("optionTreeDisplay",t.requestLinkModuleId===0)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.title),o(9),z("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(3),c("checked",t.optionsSearch.data.show),o(),g("",M(15,30,"ACTION.SEARCH")," "),o(3),c("checked",t.optionsStatist.data.show),o(),g("",M(19,32,"ACTION.STATIST")," "),o(3),c("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessAddRow),o(),c("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessAddRow),o(),c("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessAddRow),o(2),c("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),o(),c("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),o(6),g(" ",M(33,34,"ACTION.PAGES")," "),o(7),g(" ",M(40,36,"ACTION.SHOW_WEB")," "),o(3),T("options",t.optionsSearch),o(),T("options",t.optionsStatist),o(2),c("dataSource",t.tableSource),o(29),c("matHeaderRowDef",t.tabledisplayedColumns),o(),c("matRowDefColumns",t.tabledisplayedColumns),o(2),c("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",ve(38,td)))},dependencies:[Te,W,tt,Ae,re,G,st,ct,qe,Pe,dt,pt,mt,ft,Mt,gt,ut,St,_t,ht,bt,It,Ue,Qe,ze,Ke,Dt,hr,_r,k,ki,Lt,Je,Gt],encapsulation:2});var no=nn;var Ad=["vform"];function Pd(n,a){if(n&1){let e=v();r(0,"app-cms-enum-record-status-selector",22),E("modelChange",function(t){u(e);let s=p();return w(s.dataModel.recordStatus,t)||(s.dataModel.recordStatus=t),f(t)}),l()}if(n&2){let e=p();T("model",e.dataModel.recordStatus),c("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Wd(n,a){n&1&&S(0,"i",25)}function kd(n,a){n&1&&S(0,"i",26)}function Ld(n,a){if(n&1&&(r(0,"mat-error"),d(1),r(2,"strong"),d(3),h(4,"translate"),l()()),n&2){let e=p(2);o(),g(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," is "),o(2),x(M(4,2,"MESSAGE.required"))}}function Vd(n,a){if(n&1){let e=v();r(0,"div",13)(1,"label",23),d(2),l(),r(3,"input",24,3),E("ngModelChange",function(t){u(e);let s=p();return w(s.dataModel.title,t)||(s.dataModel.title=t),f(t)}),l(),b(5,Wd,1,0,"i",16)(6,kd,1,0,"i",17),r(7,"em"),d(8),l(),b(9,Ld,5,4,"mat-error",18),l()}if(n&2){let e=R(4),i=p();o(2),x(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(),c("placeholder",A(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle)),T("ngModel",i.dataModel.title),c("disabled",!(i.fieldsInfo.title!=null&&i.fieldsInfo.title.accessAddField)),o(2),c("ngIf",!e.value),o(),c("ngIf",e.value),o(2),g("",e.value.length," / 100"),o(),c("ngIf",e.errors==null?null:e.errors.required)}}function Bd(n,a){n&1&&S(0,"i",25)}function Gd(n,a){n&1&&S(0,"i",26)}function Fd(n,a){if(n&1&&(r(0,"mat-error"),d(1),r(2,"strong"),d(3),h(4,"translate"),l()()),n&2){let e=p();o(),g(" ",e.fieldsInfo.folder==null?null:e.fieldsInfo.folder.fieldTitle," is "),o(2),x(M(4,2,"MESSAGE.required"))}}function Nd(n,a){n&1&&S(0,"i",25)}function Od(n,a){n&1&&S(0,"i",26)}function Hd(n,a){if(n&1&&(r(0,"mat-error"),d(1),r(2,"strong"),d(3),h(4,"translate"),l()()),n&2){let e=p();o(),g(" ",e.fieldsInfo.indexFile==null?null:e.fieldsInfo.indexFile.fieldTitle," is "),o(2),x(M(4,2,"MESSAGE.required"))}}function qd(n,a){if(n&1&&(r(0,"mat-error"),d(1),r(2,"strong"),d(3),h(4,"translate"),l()()),n&2){let e=p(2);o(),g(" ",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle," is "),o(2),x(M(4,2,"MESSAGE.required"))}}function jd(n,a){if(n&1){let e=v();r(0,"div",13)(1,"label",27),d(2),l(),r(3,"textarea",28,4),E("ngModelChange",function(t){u(e);let s=p();return w(s.dataModel.description,t)||(s.dataModel.description=t),f(t)}),d(5,"        "),l(),r(6,"em"),d(7),l(),b(8,qd,5,4,"mat-error",18),l()}if(n&2){let e=R(4),i=p();o(2),x(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle),o(),c("placeholder",A(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle)),T("ngModel",i.dataModel.description),o(4),g("",e.value.length," / 500"),o(),c("ngIf",e.errors==null?null:e.errors.required)}}function Ud(n,a){if(n&1){let e=v();r(0,"div",29)(1,"button",30),C("click",function(){u(e);let t=p();return f(t.onFormCancel())}),S(2,"i",31),d(3),h(4,"translate"),l(),r(5,"button",32),S(6,"i",33),d(7),h(8,"translate"),l()()}if(n&2){p();let e=R(10);o(3),g(" ",M(4,3,"ACTION.CANCEL")," "),o(2),c("disabled",!e.form.valid),o(2),g(" ",M(8,5,"ACTION.SAVE")," ")}}var on=class on extends Vt{constructor(e,i,t,s,_,m,j,Y){super(s,new $e,m,Y);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.webDesignerMainPageTemplateService=s;this.cmsToastrService=_;this.publicHelper=m;this.cdr=j;this.translate=Y;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new F;this.dataModel=new $e;this.formInfo=new ae;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess()}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.webDesignerMainPageTemplateService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};on.\u0275fac=function(i){return new(i||on)(I(Ie),I(be),I(Q),I(lt),I(N),I(B),I(L),I(V))},on.\u0275cmp=P({type:on,selectors:[["app-webdesigner-pagetemplate-add"]],viewQuery:function(i,t){if(i&1&&ie(Ad,5),i&2){let s;ne(s=oe())&&(t.formGroup=s.first)}},standalone:!1,features:[U],decls:36,vars:28,consts:[["vform","ngForm"],["Folder",""],["IndexFile",""],["Title",""],["Description",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.folder",1,"color-highlight"],["matInput","","type","text","name","dataModel.folder","minlength","3","maxlength","100","required","","id","dataModel.folder",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["class","fa fa-times invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],[4,"ngIf"],["for","dataModel.indexFile",1,"color-highlight"],["matInput","","type","text","name","dataModel.indexFile","placeholder","index.html","minlength","3","maxlength","100","required","","id","dataModel.indexFile",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=v();r(0,"div",5),S(1,"app-progress-spinner",6),r(2,"div",7)(3,"p",8),d(4),l(),r(5,"p"),d(6),h(7,"translate"),l(),S(8,"app-cms-form-result-message",9),r(9,"form",10,0),C("ngSubmit",function(){return u(s),f(t.onFormSubmit())}),b(11,Pd,1,5,"app-cms-enum-record-status-selector",11)(12,Vd,10,9,"div",12),r(13,"div",13)(14,"label",14),d(15),l(),r(16,"input",15,1),h(18,"translate"),E("ngModelChange",function(m){return u(s),w(t.dataModel.folder,m)||(t.dataModel.folder=m),f(m)}),l(),b(19,Bd,1,0,"i",16)(20,Gd,1,0,"i",17),r(21,"em"),d(22),l(),b(23,Fd,5,4,"mat-error",18),l(),r(24,"div",13)(25,"label",19),d(26),l(),r(27,"input",20,2),E("ngModelChange",function(m){return u(s),w(t.dataModel.indexFile,m)||(t.dataModel.indexFile=m),f(m)}),l(),b(29,Nd,1,0,"i",16)(30,Od,1,0,"i",17),r(31,"em"),d(32),l(),b(33,Hd,5,4,"mat-error",18),l(),b(34,jd,9,6,"div",12)(35,Ud,9,7,"div",21),l()()()}if(i&2){let s=R(17),_=R(28);o(),c("optionsInfoAreaId",t.constructorInfoAreaId),o(3),g(" ",t.formInfo.formTitle," "),o(2),g(" ",M(7,24,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),c("formInfo",t.formInfo),o(3),c("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),o(),c("ngIf",t.fieldsInfo.title==null?null:t.fieldsInfo.title.accessWatchField),o(3),x(t.fieldsInfo.folder==null?null:t.fieldsInfo.folder.fieldTitle),o(),c("placeholder",A(M(18,26,"TITLE.branch_path"))),T("ngModel",t.dataModel.folder),c("disabled",!(t.fieldsInfo.folder!=null&&t.fieldsInfo.folder.accessAddField)),o(3),c("ngIf",!s.value),o(),c("ngIf",s.value),o(2),g("",s.value.length," / 100"),o(),c("ngIf",s.errors==null?null:s.errors.required),o(3),x(t.fieldsInfo.indexFile==null?null:t.fieldsInfo.indexFile.fieldTitle),o(),T("ngModel",t.dataModel.indexFile),c("disabled",!(t.fieldsInfo.indexFile!=null&&t.fieldsInfo.indexFile.accessAddField)),o(2),c("ngIf",!_.value),o(),c("ngIf",_.value),o(2),g("",s.value.length," / 100"),o(),c("ngIf",_.errors==null?null:_.errors.required),o(),c("ngIf",t.fieldsInfo.description==null?null:t.fieldsInfo.description.accessWatchField),o(),c("ngIf",t.formInfo.submitButtonEnabled)}},dependencies:[W,fe,Z,K,pe,$,he,Me,ue,me,Se,G,Ce,q,le,k],encapsulation:2});var oo=on;var Qd=["vform"];function zd(n,a){if(n&1){let e=v();r(0,"app-cms-enum-record-status-selector",25),E("modelChange",function(t){u(e);let s=p();return w(s.dataModel.recordStatus,t)||(s.dataModel.recordStatus=t),f(t)}),l()}if(n&2){let e=p();T("model",e.dataModel.recordStatus),c("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Kd(n,a){n&1&&S(0,"i",28)}function Jd(n,a){n&1&&S(0,"i",29)}function Yd(n,a){if(n&1&&(r(0,"mat-error"),d(1),r(2,"strong"),d(3),h(4,"translate"),l()()),n&2){let e=p(2);o(),g(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," is "),o(2),x(M(4,2,"MESSAGE.required"))}}function Xd(n,a){if(n&1){let e=v();r(0,"div",14)(1,"label",26),d(2),l(),r(3,"input",27,3),E("ngModelChange",function(t){u(e);let s=p();return w(s.dataModel.title,t)||(s.dataModel.title=t),f(t)}),l(),b(5,Kd,1,0,"i",17)(6,Jd,1,0,"i",18),r(7,"em"),d(8),l(),b(9,Yd,5,4,"mat-error",19),l()}if(n&2){let e=R(4),i=p();o(2),x(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(),c("placeholder",A(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle)),T("ngModel",i.dataModel.title),c("disabled",!(i.fieldsInfo.title!=null&&i.fieldsInfo.title.accessEditField)),o(2),c("ngIf",!e.value),o(),c("ngIf",e.value),o(2),g("",e.value.length," / 100"),o(),c("ngIf",e.errors==null?null:e.errors.required)}}function Zd(n,a){if(n&1&&(r(0,"mat-error"),d(1),r(2,"strong"),d(3),h(4,"translate"),l()()),n&2){let e=p(2);o(),g(" ",e.fieldsInfo.titleResourceLanguage==null?null:e.fieldsInfo.titleResourceLanguage.fieldTitle," is "),o(2),x(M(4,2,"MESSAGE.required"))}}function $d(n,a){if(n&1){let e=v();r(0,"div",14)(1,"label",30),d(2),l(),r(3,"input",31,4),E("ngModelChange",function(t){u(e);let s=p();return w(s.dataModel.titleResourceLanguage,t)||(s.dataModel.titleResourceLanguage=t),f(t)}),l(),r(5,"em"),d(6),l(),b(7,Zd,5,4,"mat-error",19),l()}if(n&2){let e=R(4),i=p();o(2),x(i.fieldsInfo.titleResourceLanguage==null?null:i.fieldsInfo.titleResourceLanguage.fieldTitle),o(),c("placeholder",A(i.fieldsInfo.titleResourceLanguage==null?null:i.fieldsInfo.titleResourceLanguage.fieldTitle)),T("ngModel",i.dataModel.titleResourceLanguage),c("disabled",!(i.fieldsInfo.titleResourceLanguage!=null&&i.fieldsInfo.titleResourceLanguage.accessEditField)),o(3),g("",e.value.length," / 100"),o(),c("ngIf",e.errors==null?null:e.errors.required)}}function ep(n,a){n&1&&S(0,"i",28)}function tp(n,a){n&1&&S(0,"i",29)}function ip(n,a){if(n&1&&(r(0,"mat-error"),d(1),r(2,"strong"),d(3),h(4,"translate"),l()()),n&2){let e=p();o(),g(" ",e.fieldsInfo.folder==null?null:e.fieldsInfo.folder.fieldTitle," is "),o(2),x(M(4,2,"MESSAGE.required"))}}function np(n,a){n&1&&S(0,"i",28)}function op(n,a){n&1&&S(0,"i",29)}function rp(n,a){if(n&1&&(r(0,"mat-error"),d(1),r(2,"strong"),d(3),h(4,"translate"),l()()),n&2){let e=p();o(),g(" ",e.fieldsInfo.indexFile==null?null:e.fieldsInfo.indexFile.fieldTitle," is "),o(2),x(M(4,2,"MESSAGE.required"))}}function ap(n,a){if(n&1){let e=v();r(0,"div",32)(1,"div",33)(2,"h5",34),d(3),l()(),r(4,"div",35)(5,"div",36)(6,"input",37),E("ngModelChange",function(t){u(e);let s=p();return w(s.dataModel.isPublish,t)||(s.dataModel.isPublish=t),f(t)}),l(),S(7,"label",38),l()()()}if(n&2){let e=p();o(3),g(" ",e.fieldsInfo.isPublish==null?null:e.fieldsInfo.isPublish.fieldTitle," "),o(3),T("ngModel",e.dataModel.isPublish)}}function lp(n,a){if(n&1&&(r(0,"mat-error"),d(1),r(2,"strong"),d(3),h(4,"translate"),l()()),n&2){let e=p(2);o(),g(" ",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle," is "),o(2),x(M(4,2,"MESSAGE.required"))}}function sp(n,a){if(n&1){let e=v();r(0,"div",14)(1,"label",39),d(2),l(),r(3,"textarea",40,5),E("ngModelChange",function(t){u(e);let s=p();return w(s.dataModel.description,t)||(s.dataModel.description=t),f(t)}),d(5,"        "),l(),r(6,"em"),d(7),l(),b(8,lp,5,4,"mat-error",19),l()}if(n&2){let e=R(4),i=p();o(2),x(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle),o(),c("placeholder",A(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle)),T("ngModel",i.dataModel.description),o(4),g("",e.value.length," / 500"),o(),c("ngIf",e.errors==null?null:e.errors.required)}}function cp(n,a){if(n&1){let e=v();r(0,"div",41)(1,"button",42),C("click",function(){u(e);let t=p();return f(t.onFormCancel())}),S(2,"i",43),d(3),h(4,"translate"),l(),r(5,"button",44),S(6,"i",45),d(7),h(8,"translate"),l()()}if(n&2){p();let e=R(10);o(3),g(" ",M(4,3,"ACTION.CANCEL")," "),o(2),c("disabled",!e.form.valid),o(2),g(" ",M(8,5,"ACTION.SAVE")," ")}}var rn=class rn extends Bt{constructor(e,i,t,s,_,m,j,Y,Et){super(s,new $e,j,Et);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.webDesignerMainPageTemplateService=s;this.webDesignerMainPageTemplateSiteCategoryService=_;this.cmsToastrService=m;this.publicHelper=j;this.cdr=Y;this.translate=Et;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModel=new $e;this.formInfo=new ae;this.fileManagerOpenForm=!1;this.dataCoreSiteCategoryIds=[];this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id+""),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetAllSourceSiteCategory()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.webDesignerMainPageTemplateService.setAccessLoad(),this.webDesignerMainPageTemplateService.setAccessDataType(Pt.Editor),this.webDesignerMainPageTemplateService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.webDesignerMainPageTemplateService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e)}})}DataGetAllSourceSiteCategory(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(s=>{this.formInfo.submitResultMessage=s}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"webDesignerMainPageTemplateSiteCategoryService";this.translate.get("MESSAGE.Receiving_information").subscribe(s=>{this.publicHelper.processService.processStart(e,s,this.constructorInfoAreaId)});let i=new J,t=new O;t.propertyName="LinkPageTemplateId",t.value=this.requestId,i.filters.push(t),this.webDesignerMainPageTemplateSiteCategoryService.ServiceGetAll(i).subscribe({next:s=>{this.dataWebDesignerMainPageTemplateSiteCategoryModel=s.listItems;let _=[];this.dataWebDesignerMainPageTemplateSiteCategoryModel.forEach(m=>{_.push(m.linkSiteCagegoryId)}),this.dataCoreSiteCategoryIds=_,s.isSuccess?this.formInfo.submitResultMessage="":(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(m=>{this.formInfo.submitResultMessage=m}),this.formInfo.submitResultMessage=s.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(s.errorMessage)),this.publicHelper.processService.processStop(e)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(e)}})}onActionSelectorUserCategorySelect(e){this.dataCoreSiteCategoryModel=e}onActionSelectorUserCategorySelectAdded(e){let i=new fo;i.linkSiteCagegoryId=e.id,i.linkPageTemplateId=this.dataModel.id;let t=this.constructor.name+"webDesignerMainPageTemplateSiteCategoryService.ServiceAdd";this.translate.get("MESSAGE.Receiving_information").subscribe(s=>{this.publicHelper.processService.processStart(t,s,this.constructorInfoAreaId)}),this.webDesignerMainPageTemplateSiteCategoryService.ServiceAdd(i).subscribe({next:s=>{s.isSuccess?(this.translate.get("MESSAGE.registration_in_this_group_was_successful").subscribe(_=>{this.formInfo.submitResultMessage=_}),this.cmsToastrService.typeSuccessEdit()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(_=>{this.formInfo.submitResultMessage=_}),this.formInfo.submitResultMessage=s.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(s.errorMessage)),this.publicHelper.processService.processStop(t)},error:s=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(t)}})}onActionSelectorUserCategorySelectRemoved(e){let i=new fo;i.linkSiteCagegoryId=e.id,i.linkPageTemplateId=this.dataModel.id;let t=this.constructor.name+"webDesignerMainPageTemplateSiteCategoryService.ServiceDeleteEntity";this.translate.get("MESSAGE.Receiving_information").subscribe(s=>{this.publicHelper.processService.processStart(t,s,this.constructorInfoAreaId)}),this.webDesignerMainPageTemplateSiteCategoryService.ServiceDeleteEntity(i).subscribe({next:s=>{s.isSuccess?(this.translate.get("MESSAGE.Deletion_from_this_group_Was_Successful").subscribe(_=>{this.formInfo.submitResultMessage=_}),this.cmsToastrService.typeSuccessEdit()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(_=>{this.formInfo.submitResultMessage=_}),this.formInfo.submitResultMessage=s.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(s.errorMessage)),this.publicHelper.processService.processStop(t)},error:s=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(t)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};rn.\u0275fac=function(i){return new(i||rn)(I(Ie),I(be),I(Q),I(lt),I(wn),I(N),I(B),I(L),I(V))},rn.\u0275cmp=P({type:rn,selectors:[["app-webdesigner-pagetemplate-edit"]],viewQuery:function(i,t){if(i&1&&ie(Qd,5),i&2){let s;ne(s=oe())&&(t.formGroup=s.first)}},standalone:!1,features:[U],decls:42,vars:35,consts:[["vform","ngForm"],["Folder",""],["IndexFile",""],["Title",""],["TitleResourceLanguage",""],["Description",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.folder",1,"color-highlight"],["matInput","","type","text","name","dataModel.folder","minlength","3","maxlength","100","required","","id","dataModel.folder",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["class","fa fa-times invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],[4,"ngIf"],["for","dataModel.indexFile",1,"color-highlight"],["matInput","","type","text","name","dataModel.indexFile","placeholder","index.html","minlength","3","maxlength","100","required","","id","dataModel.indexFile",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["class","d-flex mb-3",4,"ngIf"],[3,"optionChange","optionSelectAdded","optionSelectRemoved","optionSelectForce","optionDisabled"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.titleResourceLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleResourceLanguage","minlength","3","maxlength","100","required","","id","dataModel.titleResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.isPublish",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.isPublish","name","dataModel.isPublish",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.isPublish",1,"custom-control-label"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=v();r(0,"div",6),S(1,"app-progress-spinner",7),r(2,"div",8)(3,"p",9),d(4),l(),r(5,"p"),d(6),h(7,"translate"),l(),S(8,"app-cms-form-result-message",10),r(9,"form",11,0),C("ngSubmit",function(){return u(s),f(t.onFormSubmit())}),b(11,zd,1,5,"app-cms-enum-record-status-selector",12)(12,Xd,10,9,"div",13)(13,$d,8,7,"div",13),r(14,"div",14)(15,"label",15),d(16),l(),r(17,"input",16,1),h(19,"translate"),E("ngModelChange",function(m){return u(s),w(t.dataModel.folder,m)||(t.dataModel.folder=m),f(m)}),l(),b(20,ep,1,0,"i",17)(21,tp,1,0,"i",18),r(22,"em"),d(23),l(),b(24,ip,5,4,"mat-error",19),l(),r(25,"div",14)(26,"label",20),d(27),l(),r(28,"input",21,2),E("ngModelChange",function(m){return u(s),w(t.dataModel.indexFile,m)||(t.dataModel.indexFile=m),f(m)}),l(),b(30,np,1,0,"i",17)(31,op,1,0,"i",18),r(32,"em"),d(33),l(),b(34,rp,5,4,"mat-error",19),l(),b(35,ap,8,2,"div",22)(36,sp,9,6,"div",13),d(37),h(38,"translate"),S(39,"br"),r(40,"app-cms-sitecategory-selectionlist",23),C("optionChange",function(m){return u(s),f(t.onActionSelectorUserCategorySelect(m))})("optionSelectAdded",function(m){return u(s),f(t.onActionSelectorUserCategorySelectAdded(m))})("optionSelectRemoved",function(m){return u(s),f(t.onActionSelectorUserCategorySelectRemoved(m))}),l(),b(41,cp,9,7,"div",24),l()()()}if(i&2){let s=R(18),_=R(29);o(),c("optionsInfoAreaId",t.constructorInfoAreaId),o(3),g(" ",t.formInfo.formTitle," "),o(2),g(" ",M(7,29,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),c("formInfo",t.formInfo),o(3),c("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),o(),c("ngIf",t.fieldsInfo.title==null?null:t.fieldsInfo.title.accessWatchField),o(),c("ngIf",t.fieldsInfo.titleResourceLanguage==null?null:t.fieldsInfo.titleResourceLanguage.accessWatchField),o(3),x(t.fieldsInfo.folder==null?null:t.fieldsInfo.folder.fieldTitle),o(),c("placeholder",A(M(19,31,"TITLE.branch_path"))),T("ngModel",t.dataModel.folder),c("disabled",!(t.fieldsInfo.folder!=null&&t.fieldsInfo.folder.accessEditField)),o(3),c("ngIf",!s.value),o(),c("ngIf",s.value),o(2),g("",s.value.length," / 100"),o(),c("ngIf",s.errors==null?null:s.errors.required),o(3),x(t.fieldsInfo.indexFile==null?null:t.fieldsInfo.indexFile.fieldTitle),o(),T("ngModel",t.dataModel.indexFile),c("disabled",!(t.fieldsInfo.indexFile!=null&&t.fieldsInfo.indexFile.accessEditField)),o(2),c("ngIf",!_.value),o(),c("ngIf",_.value),o(2),g("",s.value.length," / 100"),o(),c("ngIf",_.errors==null?null:_.errors.required),o(),c("ngIf",t.fieldsInfo.isPublish==null?null:t.fieldsInfo.isPublish.accessWatchField),o(),c("ngIf",t.fieldsInfo.description==null?null:t.fieldsInfo.description.accessWatchField),o(),g(" ",M(38,33,"TITLE.It_should_be_used_on_sites_with_the_following_categories")," "),o(3),c("optionSelectForce",t.dataCoreSiteCategoryIds)("optionDisabled",!1),o(),c("ngIf",t.formInfo.submitButtonEnabled)}},dependencies:[W,fe,Z,kt,K,pe,$,he,Me,ue,me,Se,G,Ce,Cr,q,le,k],encapsulation:2});var ro=rn;var dp=()=>[5,10,20,100],pp=n=>({display:n});function mp(n,a){if(n&1){let e=v();r(0,"div",17)(1,"a",41),C("click",function(){u(e);let t=p();return f(t.onActionButtonNewRow())}),S(2,"i",42)(3,"br"),l(),r(4,"p",20),d(5),h(6,"translate"),l()()}n&2&&(o(5),g(" ",M(6,1,"ACTION.ADD")," "))}function up(n,a){if(n&1){let e=v();r(0,"div",17)(1,"a",43),C("click",function(){u(e);let t=p();return f(t.onActionButtonEditRow(t.tableRowSelected))}),S(2,"i",44)(3,"br"),l(),r(4,"p",20),d(5),h(6,"translate"),l()()}n&2&&(o(5),g(" ",M(6,1,"ACTION.EDIT")," "))}function fp(n,a){if(n&1){let e=v();r(0,"div",17)(1,"a",45),C("click",function(){u(e);let t=p();return f(t.onActionButtonDeleteRow(t.tableRowSelected))}),S(2,"i",46)(3,"br"),l(),r(4,"p",20),d(5),h(6,"translate"),l()()}n&2&&(o(5),g(" ",M(6,1,"ACTION.DELETE")," "))}function gp(n,a){n&1&&(r(0,"mat-header-cell",47),d(1),h(2,"translate"),l()),n&2&&(o(),g(" ",M(2,1,"TITLE.PICTURE")," "))}function _p(n,a){if(n&1&&(S(0,"img",49),h(1,"cmsthumbnail")),n&2){let e=p().$implicit;c("src",A(M(1,2,e.linkModuleFileLogoIdSrc)),De)}}function hp(n,a){if(n&1&&(r(0,"mat-cell"),b(1,_p,2,4,"img",48),l()),n&2){let e=a.$implicit;o(),c("ngIf",(e==null||e.linkModuleFileLogoIdSrc==null?null:e.linkModuleFileLogoIdSrc.length)>0)}}function Mp(n,a){if(n&1&&(r(0,"mat-header-cell",47),d(1),l()),n&2){let e=p();o(),g(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function Sp(n,a){if(n&1&&(r(0,"mat-cell"),d(1),l()),n&2){let e=a.$implicit;o(),g(" ",e.id," ")}}function bp(n,a){if(n&1&&(r(0,"mat-header-cell",47),d(1),l()),n&2){let e=p();o(),g(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function Ip(n,a){if(n&1&&S(0,"select",52),n&2){let e=p().$implicit,i=p();c("contentService",i.contentService)("row",e)("ngStyle",et(3,pp,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function Cp(n,a){if(n&1&&(r(0,"mat-cell",50),h(1,"statusCellClass"),S(2,"i",50),h(3,"statusIconClass"),b(4,Ip,1,5,"select",51),l()),n&2){let e=a.$implicit,i=p();c("ngClass",M(1,3,e.recordStatus)),o(2),c("ngClass",M(3,5,e.recordStatus)),o(2),c("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessEditRow)}}function vp(n,a){if(n&1&&(r(0,"mat-header-cell",47),d(1),l()),n&2){let e=p();o(),g(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," ")}}function yp(n,a){if(n&1&&(r(0,"mat-cell"),d(1),l()),n&2){let e=a.$implicit;o(),g(" ",e.title," ")}}function Dp(n,a){if(n&1&&(r(0,"mat-header-cell",47),d(1),l()),n&2){let e=p();o(),g(" ",e.fieldsInfo.folder==null?null:e.fieldsInfo.folder.fieldTitle," ")}}function Tp(n,a){if(n&1&&(r(0,"mat-cell"),d(1),l()),n&2){let e=a.$implicit;o(),g(" ",e.folder," ")}}function wp(n,a){if(n&1&&(r(0,"mat-header-cell",47),d(1),l()),n&2){let e=p();o(),g(" ",e.fieldsInfo.indexFile==null?null:e.fieldsInfo.indexFile.fieldTitle," ")}}function Ep(n,a){if(n&1&&(r(0,"mat-cell"),d(1),l()),n&2){let e=a.$implicit;o(),g(" ",e.indexFile," ")}}function xp(n,a){n&1&&(r(0,"mat-header-cell"),d(1),h(2,"translate"),l()),n&2&&(o(),g(" ",M(2,1,"TITLE.OPTION")," "))}function Rp(n,a){if(n&1&&(r(0,"mat-cell",53)(1,"button",54)(2,"mat-icon"),d(3,"more_vert"),l()(),S(4,"mat-menu",null,2),l()),n&2){let e=R(5);o(),c("matMenuTriggerFor",e)}}function Ap(n,a){n&1&&S(0,"mat-header-row")}function Pp(n,a){if(n&1){let e=v();r(0,"mat-row",55),C("click",function(t){let s=u(e).$implicit,_=p();return f(_.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=u(e).$implicit,_=p();return f(_.onActionTableRowSelect(s,t))}),l()}if(n&2){let e=a.$implicit,i=p();z("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var an=class an extends yt{constructor(e,i,t,s,_,m,j,Y,Et,Mi,Ut,Si){super(e,new $e,Ut,s,Y);this.contentService=e;this.cmsToastrService=i;this.cmsConfirmationDialogService=t;this.tokenHelper=s;this.cmsStoreService=_;this.router=m;this.cdr=j;this.translate=Y;this.pageInfo=Et;this.themeService=Mi;this.publicHelper=Ut;this.dialog=Si;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new J;this.filterDataModelQueryBuilder=[];this.dataModelCoreModuleResult=new F;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["id","recordStatus","Folder","IndexFile"];this.tabledisplayedColumnsMobileSource=["id","recordStatus","Folder","IndexFile"];this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:Qt=>this.onSubmitOptionsSearch(Qt)},this.filteModelContent.sortColumn="id",this.filteModelContent.sortType=H.Descending}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>te(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new $e);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{t.isSuccess&&(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=H.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=H.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=H.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(oo,{height:"90%",panelClass:e,enterAnimationDuration:X.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:X.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(ro,{height:"90%",panelClass:i,enterAnimationDuration:X.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:X.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(s=>{this.cmsToastrService.typeErrorSelected(s)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(s=>{i=s["MESSAGE.Please_Confirm"],t=s["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(s=>{if(s){let _=this.constructor.name+"contentService.ServiceDelete";this.translate.get("MESSAGE.Receiving_information").subscribe(m=>{this.publicHelper.processService.processStart(_,m,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:m=>{m.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(_)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(_)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(m=>{i.set(m,0)}),this.translate.get("MESSAGE.All").subscribe(m=>{i.set(m,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(m=>{this.publicHelper.processService.processStart(t,m,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:m=>{m.isSuccess&&(i.set("All",m.totalRowCount),this.optionsStatist.childMethods.setStatistValue(i)),this.publicHelper.processService.processStop(t)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(t)}});let s=JSON.parse(JSON.stringify(this.filteModelContent)),_=new O;_.propertyName="recordStatus",_.value=ot.Available,s.filters.push(_),this.contentService.ServiceGetCount(s).subscribe({next:m=>{m.isSuccess&&(i.set("Active",m.totalRowCount),this.optionsStatist.childMethods.setStatistValue(i)),this.publicHelper.processService.processStop(t)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(t)}})}onActionButtonPageList(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorSelected();return}this.router.navigate(["/webdesigner/page/LinkPageTemplateGuId",this.tableRowSelected.id])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}};an.\u0275fac=function(i){return new(i||an)(I(lt),I(N),I(je),I(ke),I(We),I(Fe),I(L),I(V),I(vt),I(Ct),I(B),I(He))},an.\u0275cmp=P({type:an,selectors:[["app-webdesigner-pagetemplate-list"]],standalone:!1,features:[U],decls:63,vars:33,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-page","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","LinkModuleFileLogoIdSrc"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","id"],["matColumnDef","recordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","title"],["matColumnDef","Folder"],["matColumnDef","IndexFile"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],["style","vertical-align: middle","class","ntk-hover-zoom","aria-hidden","","height","40","width","40",3,"src",4,"ngIf"],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(i,t){if(i&1){let s=v();r(0,"app-cms-html-list",3),E("optionActionGuideNoticeDisplayChange",function(m){return u(s),w(t.viewGuideNotice,m)||(t.viewGuideNotice=m),f(m)}),C("optionOnActionButtonMemoRow",function(){return u(s),f(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return u(s),f(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return u(s),f(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return u(s),f(t.onActionButtonPrintRow())}),y(1,4),d(2," -------------------------------------- "),D(),Ee(3,5)(4,6),y(5,7),r(6,"a",8),C("click",function(){return u(s),f(t.viewGuideNotice=!t.viewGuideNotice)}),S(7,"i",9),l(),r(8,"a",8),C("click",function(){return u(s),f(t.onActionButtonReload())}),S(9,"i",10),l(),D(),y(10,11),r(11,"a",12),C("click",function(){return u(s),f(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),S(12,"mat-slide-toggle",13),d(13),h(14,"translate"),l(),r(15,"a",12),C("click",function(){return u(s),f(t.onActionButtonStatist())}),S(16,"mat-slide-toggle",13),d(17),h(18,"translate"),l(),D(),y(19,14),b(20,mp,7,3,"div",15),D(),y(21,16),b(22,up,7,3,"div",15)(23,fp,7,3,"div",15),r(24,"div",17)(25,"a",18),C("click",function(){return u(s),f(t.onActionButtonPageList(t.tableRowSelected))}),S(26,"i",19)(27,"br"),l(),r(28,"p",20),d(29),h(30,"translate"),l()(),D(),y(31,21),r(32,"app-cms-search-list",22),E("optionsChange",function(m){return u(s),w(t.optionsSearch,m)||(t.optionsSearch=m),f(m)}),l(),r(33,"app-cms-statist-list",22),E("optionsChange",function(m){return u(s),w(t.optionsStatist,m)||(t.optionsStatist=m),f(m)}),l(),D(),y(34,23),r(35,"mat-table",24,0),C("matSortChange",function(){u(s);let m=R(36);return f(t.onTableSortData(m))}),y(37,25),b(38,gp,3,3,"mat-header-cell",26)(39,hp,2,1,"mat-cell",27),D(),y(40,28),b(41,Mp,2,1,"mat-header-cell",26)(42,Sp,2,1,"mat-cell",27),D(),y(43,29),b(44,bp,2,1,"mat-header-cell",26)(45,Cp,5,7,"mat-cell",30),D(),y(46,31),b(47,vp,2,1,"mat-header-cell",26)(48,yp,2,1,"mat-cell",27),D(),y(49,32),b(50,Dp,2,1,"mat-header-cell",26)(51,Tp,2,1,"mat-cell",27),D(),y(52,33),b(53,wp,2,1,"mat-header-cell",26)(54,Ep,2,1,"mat-cell",27),D(),y(55,34),b(56,xp,3,3,"mat-header-cell",35)(57,Rp,6,1,"mat-cell",36),D(),b(58,Ap,1,0,"mat-header-row",37)(59,Pp,1,2,"mat-row",38),l(),D(),y(60,39),r(61,"mat-paginator",40,1),C("page",function(m){return u(s),f(t.onTablePageingData(m))}),l(),D(),l()}i&2&&(c("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),T("optionActionGuideNoticeDisplay",t.viewGuideNotice),c("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.title),o(9),z("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(3),c("checked",t.optionsSearch.data.show),o(),g("",M(14,26,"ACTION.SEARCH")," "),o(3),c("checked",t.optionsStatist.data.show),o(),g("",M(18,28,"ACTION.STATIST")," "),o(3),c("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessAddRow),o(2),c("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),o(),c("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),o(6),g(" ",M(30,30,"ACTION.PAGES")," "),o(3),T("options",t.optionsSearch),o(),T("options",t.optionsStatist),o(2),c("dataSource",t.tableSource),o(23),c("matHeaderRowDef",t.tabledisplayedColumns),o(),c("matRowDefColumns",t.tabledisplayedColumns),o(2),c("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",ve(32,dp)))},dependencies:[Te,W,tt,Ae,re,G,st,ct,qe,Pe,dt,pt,mt,ft,Mt,gt,ut,St,_t,ht,bt,It,Ue,Qe,ze,Ke,Dt,k,Lt,Je,Gt],encapsulation:2});var ao=an;var Wp=["*"];function kp(n,a){if(n&1&&(r(0,"label",12),d(1),l()),n&2){let e=p();c("for",Be("app-cms-site-selector-",e.id)),o(),x(e.optionLabel)}}function Lp(n,a){if(n&1&&(r(0,"mat-option",13)(1,"span"),d(2),l()()),n&2){let e=a.$implicit,i=p();c("value",e)("disabled",i.optionDisabled),o(2),x(i.displayOption(e))}}function Vp(n,a){n&1&&S(0,"i",14)}function Bp(n,a){n&1&&S(0,"i",15)}function Gp(n,a){if(n&1){let e=v();r(0,"i",16),C("click",function(){u(e);let t=p();return f(t.onActionSelectClear())}),l()}}function Fp(n,a){n&1&&(r(0,"em"),d(1),h(2,"translate"),l()),n&2&&(o(),g("(",M(2,1,"TITLE.Necessary"),")"))}var hi=class hi{constructor(a,e,i,t,s){this.coreEnumService=a;this.translate=e;this.cdr=i;this.publicHelper=t;this.categoryService=s;this.id=++hi.nextId;this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new F;this.dataModelSelect=new Ze;this.formControl=new ni;this.optionDisabled=!1;this.optionRequired=!1;this.optionSelectFirstItem=!1;this.optionPlaceholder="";this.optionLabel="";this.optionChange=new xt;this.optionReload=()=>this.onActionButtonReload();this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(a){this.onActionSelectForce(a)}ngOnInit(){this.loadOptions(),(!this.optionLabel||this.optionLabel.length==0&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder)}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(Xt(""),Jt(1500),Yt(),Zt(a=>typeof a=="string"||typeof a=="number"?this.DataGetAll(a||""):[]))}displayFn(a){return a?a.titleML:void 0}displayOption(a){return a?a.titleML:void 0}DataGetAll(a){return te(this,null,function*(){let e=new J;e.rowPerPage=20,e.accessLoad=!0;let i=new O;i.propertyName="title",i.value=a,i.searchType=Oe.Contains,i.clauseType=Ne.Or,e.filters.push(i),a&&typeof+a=="number"&&+a>0&&(i=new O,i.propertyName="id",i.value=a,i.searchType=Oe.Equal,i.clauseType=Ne.Or,e.filters.push(i));let t=this.constructor.name+"categoryService.ServiceGetAll";return this.translate.get("MESSAGE.Receiving_information").subscribe(s=>{this.publicHelper.processService.processStart(t,s,this.constructorInfoAreaId)}),yield zt(this.categoryService.ServiceGetAll(e)).then(s=>(this.dataModelResult=s,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||this.dataModelSelect.id.length<=0)&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0])},1e3),this.onActionSelect(this.dataModelResult.listItems[0])),this.publicHelper.processService.processStop(t),s.listItems))})}onActionSelect(a){this.optionDisabled||(this.dataModelSelect=a,this.optionChange.emit(this.dataModelSelect))}onActionSelectClear(){this.optionDisabled||(this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null))}push(a){return this.filteredOptions.pipe(Kt(e=>(e.find(i=>i.id===a.id)||e.push(a),e)))}onActionSelectForce(a){if(typeof a=="string"&&a.length>0){if(this.dataModelSelect&&this.dataModelSelect.id===a)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(e=>e.id===a)){let e=this.dataModelResult.listItems.find(i=>i.id===a);this.dataModelSelect=e,this.formControl.setValue(e);return}this.categoryService.ServiceGetOneById(a).subscribe({next:e=>{e.isSuccess&&(this.filteredOptions=this.push(e.item),this.dataModelSelect=e.item,this.formControl.setValue(e.item),this.optionChange.emit(e.item))}});return}if(typeof a==typeof Ze){this.filteredOptions=this.push(a),this.dataModelSelect=a,this.formControl.setValue(a);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new Ze,this.loadOptions()}};hi.nextId=0,hi.\u0275fac=function(e){return new(e||hi)(I(Q),I(V),I(L),I(B),I(Wt))},hi.\u0275cmp=P({type:hi,selectors:[["app-webdesigner-pagedependency-selector"]],inputs:{optionDisabled:"optionDisabled",optionRequired:"optionRequired",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionLabel:"optionLabel",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange"},standalone:!1,ngContentSelectors:Wp,decls:15,vars:24,consts:[["matauto","matAutocomplete"],[1,"input-style","has-borders","has-icon","input-style-always-active","validate-field","mb-4","loader-container"],[3,"optionsInfoAreaId"],["class","color-highlight",3,"for",4,"ngIf"],["type","text","aria-label","Assignee","matInput","",3,"placeholder","formControl","matAutocomplete","required","id"],[3,"optionSelected","displayWith"],[3,"value","disabled",4,"ngFor","ngForOf"],["class","fa fa-info invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],["class","fa fa-times action color-red-dark",3,"click",4,"ngIf"],[1,"fa","fa-rotate-right","action","color-green-dark",2,"margin-left","20px",3,"click","title"],[4,"ngIf"],[1,"color-highlight",3,"for"],[3,"value","disabled"],[1,"fa","fa-info","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"fa","fa-times","action","color-red-dark",3,"click"]],template:function(e,i){if(e&1){let t=v();$t(),r(0,"div",1),S(1,"app-progress-spinner",2),b(2,kp,2,3,"label",3),S(3,"input",4),r(4,"mat-autocomplete",5,0),C("optionSelected",function(_){return u(t),f(i.onActionSelect(_.option.value))}),b(6,Lp,3,3,"mat-option",6),h(7,"async"),l(),b(8,Vp,1,0,"i",7)(9,Bp,1,0,"i",8)(10,Gp,1,0,"i",9),r(11,"i",10),h(12,"translate"),C("click",function(){return u(t),f(i.onActionButtonReload())}),l(),b(13,Fp,3,3,"em",11),ei(14),l()}if(e&2){let t=R(5);o(),c("optionsInfoAreaId",i.constructorInfoAreaId),o(),c("ngIf",(i.optionLabel==null?null:i.optionLabel.length)>0),o(),c("placeholder",A(i.optionPlaceholder))("id",Be("app-cms-site-selector-",i.id))("formControl",i.formControl)("matAutocomplete",t)("required",i.optionRequired),Rt("disabled",i.optionDisabled?!0:null),o(),c("displayWith",i.displayFn),o(2),c("ngForOf",M(7,20,i.filteredOptions)),o(2),c("ngIf",!i.formControl.valid),o(),c("ngIf",i.optionRequired&&i.formControl.valid),o(),c("ngIf",(i.dataModelSelect==null||i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0),o(),z("rotation360",i.publicHelper.processService.process.inRunArea[i.constructorInfoAreaId]),c("title",A(M(12,22,"ACTION.RELOAD"))),o(2),c("ngIf",i.optionRequired&&(!i.dataModelSelect||!i.dataModelSelect.id||(i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)===0))}},dependencies:[Ge,W,Z,K,$,ri,li,ai,si,G,q,it,k],encapsulation:2});var ln=hi;var qp=["vform"];function jp(n,a){if(n&1){let e=v();r(0,"app-cms-enum-record-status-selector",30),E("modelChange",function(t){u(e);let s=p();return w(s.dataModel.recordStatus,t)||(s.dataModel.recordStatus=t),f(t)}),l()}if(n&2){let e=p();T("model",e.dataModel.recordStatus),c("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Up(n,a){n&1&&S(0,"i",36)}function Qp(n,a){n&1&&S(0,"i",37)}function zp(n,a){if(n&1&&(r(0,"mat-error"),d(1),r(2,"strong"),d(3),h(4,"translate"),l()()),n&2){let e=p(2);o(),g(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," is "),o(2),x(M(4,2,"MESSAGE.required"))}}function Kp(n,a){if(n&1){let e=v();r(0,"div",24)(1,"label",31),d(2),l(),r(3,"input",32,5),E("ngModelChange",function(t){u(e);let s=p();return w(s.dataModel.title,t)||(s.dataModel.title=t),f(t)}),l(),b(5,Up,1,0,"i",33)(6,Qp,1,0,"i",34),r(7,"em"),d(8),l(),b(9,zp,5,4,"mat-error",35),l()}if(n&2){let e=R(4),i=p();o(2),x(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(),c("placeholder",A(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle)),T("ngModel",i.dataModel.title),c("disabled",!(i.fieldsInfo.title!=null&&i.fieldsInfo.title.accessAddField)),o(2),c("ngIf",!e.value),o(),c("ngIf",e.value),o(2),g("",e.value.length," / 100"),o(),c("ngIf",e.errors==null?null:e.errors.required)}}function Jp(n,a){if(n&1){let e=v();r(0,"app-webdesigner-page-selector",38),h(1,"translate"),C("optionChange",function(t){u(e);let s=p();return f(s.onActionSelectParent(t))}),l()}if(n&2){let e=p();c("optionDisabled",!(e.fieldsInfo.linkPageParentGuId!=null&&e.fieldsInfo.linkPageParentGuId.accessAddField))("optionSelectForce",e.dataModel.linkPageParentGuId)("optionMasterPage",!0)("optionMasterTemplateId",e.dataModel.linkPageTemplateGuId)("optionPlaceholder",M(1,5,"TITLE.parent_page"))}}function Yp(n,a){if(n&1){let e=v();r(0,"div",39)(1,"div",40)(2,"h5",41),d(3),l()(),r(4,"div",42)(5,"div",43)(6,"input",44),E("ngModelChange",function(t){u(e);let s=p();return w(s.dataModel.pageDependencyIsDefaultPage,t)||(s.dataModel.pageDependencyIsDefaultPage=t),f(t)}),l(),S(7,"label",45),l()()()}if(n&2){let e=p();o(3),g(" ",e.fieldsInfo.pageDependencyIsDefaultPage==null?null:e.fieldsInfo.pageDependencyIsDefaultPage.fieldTitle," "),o(3),T("ngModel",e.dataModel.pageDependencyIsDefaultPage)}}function Xp(n,a){if(n&1){let e=v();r(0,"app-cms-sitecategory-selector",46),h(1,"translate"),C("optionChange",function(t){u(e);let s=p();return f(s.onActionSelectCategory(t))}),l()}if(n&2){let e=p();c("optionSelectForce",e.dataModel.pageDependencyIsDefaultPageLinkSiteCategoryId)("optionPlaceholder",M(1,3,"TITLE.Website_Type"))("optionDisabled",!(e.fieldsInfo.pageDependencyIsDefaultPageLinkSiteCategoryId!=null&&e.fieldsInfo.pageDependencyIsDefaultPageLinkSiteCategoryId.accessAddField))}}function Zp(n,a){if(n&1){let e=v();r(0,"mat-chip",47),C("removed",function(){let t=u(e).$implicit,s=p();return f(s.removeTag(t))}),d(1),r(2,"button",48)(3,"mat-icon"),d(4,"cancel"),l()()()}if(n&2){let e=a.$implicit;o(),g(" ",e," ")}}function $p(n,a){if(n&1&&(r(0,"mat-error"),d(1),r(2,"strong"),d(3),h(4,"translate"),l()()),n&2){let e=p(2);o(),g(" ",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle," is "),o(2),x(M(4,2,"MESSAGE.required"))}}function em(n,a){if(n&1){let e=v();r(0,"div",24)(1,"label",49),d(2),l(),r(3,"textarea",50,6),E("ngModelChange",function(t){u(e);let s=p();return w(s.dataModel.description,t)||(s.dataModel.description=t),f(t)}),d(5,"        "),l(),r(6,"em"),d(7),l(),b(8,$p,5,4,"mat-error",35),l()}if(n&2){let e=R(4),i=p();o(2),x(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle),o(),c("placeholder",A(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle)),T("ngModel",i.dataModel.description),o(4),g("",e.value.length," / 500"),o(),c("ngIf",e.errors==null?null:e.errors.required)}}function tm(n,a){if(n&1){let e=v();r(0,"div",51)(1,"button",52),C("click",function(){u(e);let t=p();return f(t.onFormCancel())}),S(2,"i",53),d(3),h(4,"translate"),l(),r(5,"button",54),S(6,"i",55),d(7),h(8,"translate"),l()()}if(n&2){p();let e=R(10);o(3),g(" ",M(4,3,"ACTION.CANCEL")," "),o(2),c("disabled",!e.form.valid),o(2),g(" ",M(8,5,"ACTION.SAVE")," ")}}var sn=class sn extends Vt{constructor(e,i,t,s,_,m,j,Y){super(s,new Xe,m,Y);this.data=e;this.dialogRef=i;this.webDesignerEnumService=t;this.webDesignerMainPageService=s;this.cmsToastrService=_;this.publicHelper=m;this.cdr=j;this.translate=Y;this.requestLinkPageDependencyGuId="";this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.keywordDataModel=[];this.appLanguage="fa";this.dataModelResult=new F;this.dataModel=new Xe;this.formInfo=new ae;this.dataModelEnumPageAbilityTypeResult=new F;this.fileManagerOpenForm=!1;this.addOnBlurTag=!0;this.separatorKeysCodes=[13];this.publicHelper.processService.cdr=this.cdr,e&&(this.requestLinkPageDependencyGuId=e.linkPageDependencyGuId+""),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),this.requestLinkPageDependencyGuId.length>0&&(this.dataModel.linkPageDependencyGuId=this.requestLinkPageDependencyGuId)}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess(),this.getEnumPageAbilityType()}getEnumPageAbilityType(){this.webDesignerEnumService.ServicePageAbilityTypeEnum().subscribe({next:e=>{this.dataModelEnumPageAbilityTypeResult=e}})}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"webDesignerMainPageService.ServiceAdd";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.webDesignerMainPageService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e)}})}onActionSelectDependency(e){if(!e||e.id?.length<=0){this.translate.get(["MESSAGE.Specify_the_display_location","MESSAGE.information_screen_is_not_clear"]).subscribe(i=>{this.cmsToastrService.typeErrorMessage(i["MESSAGE.Specify_the_display_location"],i["MESSAGE.information_screen_is_not_clear"])});return}this.dataModel.linkPageDependencyGuId=e.id}onActionSelectTemplate(e){if(!e||e.id?.length<=0){this.translate.get(["MESSAGE.Specify_the_template","MESSAGE.Screen_template_is_not_clear"]).subscribe(i=>{this.cmsToastrService.typeErrorMessage(i["MESSAGE.Specify_the_template"],i["MESSAGE.Screen_template_is_not_clear"])});return}this.dataModel.linkPageTemplateGuId=e.id}onActionSelectParent(e){this.dataModel.linkPageParentGuId="",e&&e.id&&e.id.length>0&&(this.dataModel.linkPageParentGuId=e.id)}onFormSubmit(){if(this.formGroup.valid){if(this.formInfo.submitButtonEnabled=!1,this.dataModel.keyword="",this.keywordDataModel&&this.keywordDataModel.length>0){let e=[];this.keywordDataModel.forEach(i=>{i.display?e.push(i.display):e.push(i)}),e&&e.length>0&&(this.dataModel.keyword=e.join(","))}this.DataAddContent()}}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}onActionSelectCategory(e){if(!e||e.id<=0){this.translate.get("MESSAGE.category_of_site_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.pageDependencyIsDefaultPageLinkSiteCategoryId=e.id}addTag(e){let i=(e.value||"").trim();i&&this.keywordDataModel.push(i),e.chipInput.clear()}removeTag(e){let i=this.keywordDataModel.indexOf(e);i>=0&&this.keywordDataModel.splice(i,1)}};sn.\u0275fac=function(i){return new(i||sn)(I(Ie),I(be),I(Ri),I(at),I(N),I(B),I(L),I(V))},sn.\u0275cmp=P({type:sn,selectors:[["app-webdesigner-page-add"]],viewQuery:function(i,t){if(i&1&&ie(qp,5),i&2){let s;ne(s=oe())&&(t.formGroup=s.first)}},standalone:!1,features:[U],decls:46,vars:42,consts:[["vform","ngForm"],["chipList",""],["tagInput",""],["SpecialIdendity",""],["SpecialUrlParameter",""],["Title",""],["Description",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder","optionSelectFirstItem"],[3,"optionDisabled","optionSelectForce","optionMasterPage","optionMasterTemplateId","optionPlaceholder","optionChange",4,"ngIf"],["class","d-flex mb-3",4,"ngIf"],[3,"optionSelectForce","optionPlaceholder","optionDisabled","optionChange",4,"ngIf"],["appearance","fill",2,"width","100%"],["aria-label","'TITLE.key_word'|translate"],[3,"removed",4,"ngFor","ngForOf"],[3,"matChipInputTokenEnd","placeholder","matChipInputAddOnBlur","matChipInputFor","matChipInputSeparatorKeyCodes"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.specialIdendity",1,"color-highlight"],["matInput","","type","text","name","dataModel.specialIdendity","type","text","placeholder","32323","minlength","0","maxlength","500","id","dataModel.specialIdendity",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.specialUrlParameter",1,"color-highlight"],["matInput","","type","text","name","dataModel.specialUrlParameter","type","text","placeholder","esfahan","minlength","0","maxlength","500","id","dataModel.specialUrlParameter",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["class","fa fa-times invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],[4,"ngIf"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[3,"optionChange","optionDisabled","optionSelectForce","optionMasterPage","optionMasterTemplateId","optionPlaceholder"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.pageDependencyIsDefaultPage",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.pageDependencyIsDefaultPage","name","dataModel.pageDependencyIsDefaultPage",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.pageDependencyIsDefaultPage",1,"custom-control-label"],[3,"optionChange","optionSelectForce","optionPlaceholder","optionDisabled"],[3,"removed"],["type","button","matChipRemove","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=v();r(0,"div",7),S(1,"app-progress-spinner",8),r(2,"div",9)(3,"p",10),d(4),l(),r(5,"p"),d(6),h(7,"translate"),l(),S(8,"app-cms-form-result-message",11),r(9,"form",12,0),C("ngSubmit",function(){return u(s),f(t.onFormSubmit())}),b(11,jp,1,5,"app-cms-enum-record-status-selector",13)(12,Kp,10,9,"div",14),r(13,"app-webdesigner-pagedependency-selector",15),h(14,"translate"),C("optionChange",function(m){return u(s),f(t.onActionSelectDependency(m))}),l(),r(15,"app-webdesigner-pagetemplate-selector",16),h(16,"translate"),C("optionChange",function(m){return u(s),f(t.onActionSelectTemplate(m))}),l(),b(17,Jp,2,7,"app-webdesigner-page-selector",17)(18,Yp,8,2,"div",18)(19,Xp,2,5,"app-cms-sitecategory-selector",19),r(20,"mat-form-field",20)(21,"mat-label"),d(22),h(23,"translate"),l(),r(24,"mat-chip-grid",21,1),b(26,Zp,5,1,"mat-chip",22),r(27,"input",23,2),h(29,"translate"),C("matChipInputTokenEnd",function(m){return u(s),f(t.addTag(m))}),l()()(),r(30,"div",24)(31,"label",25),d(32),l(),r(33,"input",26,3),E("ngModelChange",function(m){return u(s),w(t.dataModel.specialIdendity,m)||(t.dataModel.specialIdendity=m),f(m)}),l(),r(35,"em"),d(36),l()(),r(37,"div",24)(38,"label",27),d(39),l(),r(40,"input",28,4),E("ngModelChange",function(m){return u(s),w(t.dataModel.specialUrlParameter,m)||(t.dataModel.specialUrlParameter=m),f(m)}),l(),r(42,"em"),d(43),l()(),b(44,em,9,6,"div",14)(45,tm,9,7,"div",29),l()()()}if(i&2){let s=R(25),_=R(34),m=R(41);o(),c("optionsInfoAreaId",t.constructorInfoAreaId),o(3),g(" ",t.formInfo.formTitle," "),o(2),g(" ",M(7,32,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),c("formInfo",t.formInfo),o(3),c("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),o(),c("ngIf",t.fieldsInfo.title==null?null:t.fieldsInfo.title.accessWatchField),o(),c("optionDisabled",!(t.fieldsInfo.linkPageDependencyGuId!=null&&t.fieldsInfo.linkPageDependencyGuId.accessAddField))("optionSelectForce",t.dataModel.linkPageDependencyGuId)("optionPlaceholder",M(14,34,"TITLE.Show_place")),o(2),c("optionDisabled",!(t.fieldsInfo.linkPageTemplateGuId!=null&&t.fieldsInfo.linkPageTemplateGuId.accessAddField))("optionSelectForce",t.dataModel.linkPageTemplateGuId)("optionPlaceholder",M(16,36,"TITLE.Page_template"))("optionSelectFirstItem",!0),o(2),c("ngIf",t.dataModel.linkPageTemplateGuId&&t.dataModel.linkPageTemplateGuId.length>0),o(),c("ngIf",t.fieldsInfo.pageDependencyIsDefaultPage==null?null:t.fieldsInfo.pageDependencyIsDefaultPage.accessWatchField),o(),c("ngIf",t.dataModel.pageDependencyIsDefaultPage&&(t.fieldsInfo.pageDependencyIsDefaultPageLinkSiteCategoryId==null?null:t.fieldsInfo.pageDependencyIsDefaultPageLinkSiteCategoryId.accessWatchField)),o(3),x(M(23,38,"TITLE.Choose_keywords_relative_to_the_content")),o(4),c("ngForOf",t.keywordDataModel),o(),c("placeholder",M(29,40,"TITLE.key_word"))("matChipInputAddOnBlur",t.addOnBlurTag)("matChipInputFor",s)("matChipInputSeparatorKeyCodes",t.separatorKeysCodes),o(5),x(t.fieldsInfo.specialIdendity==null?null:t.fieldsInfo.specialIdendity.fieldTitle),o(),T("ngModel",t.dataModel.specialIdendity),c("disabled",!(t.fieldsInfo.specialIdendity!=null&&t.fieldsInfo.specialIdendity.accessAddField)),o(3),g("",_.value.length," / 500"),o(3),x(t.fieldsInfo.specialUrlParameter==null?null:t.fieldsInfo.specialUrlParameter.fieldTitle),o(),T("ngModel",t.dataModel.specialUrlParameter),c("disabled",!(t.fieldsInfo.specialUrlParameter!=null&&t.fieldsInfo.specialUrlParameter.accessAddField)),o(3),g("",m.value.length," / 500"),o(),c("ngIf",t.fieldsInfo.description==null?null:t.fieldsInfo.description.accessWatchField),o(),c("ngIf",t.formInfo.submitButtonEnabled)}},dependencies:[Ge,W,fe,Z,kt,K,pe,$,he,Me,ue,me,Pn,Wn,kn,An,Rn,En,Se,re,G,Ce,Qn,q,le,fi,ln,_i,k],encapsulation:2});var lo=sn;var im=["vform"];function nm(n,a){if(n&1){let e=v();r(0,"app-cms-enum-record-status-selector",34),E("modelChange",function(t){u(e);let s=p();return w(s.dataModel.recordStatus,t)||(s.dataModel.recordStatus=t),f(t)}),l()}if(n&2){let e=p();T("model",e.dataModel.recordStatus),c("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function om(n,a){if(n&1&&(r(0,"option",35),d(1),l()),n&2){let e=a.$implicit;c("ngValue",e.value),o(),g(" ",e.description," ")}}function rm(n,a){n&1&&(r(0,"mat-error"),d(1," PageAbilityType is "),r(2,"strong"),d(3),h(4,"translate"),l()()),n&2&&(o(3),x(M(4,1,"MESSAGE.required")))}function am(n,a){n&1&&S(0,"i",40)}function lm(n,a){n&1&&S(0,"i",41)}function sm(n,a){if(n&1&&(r(0,"mat-error"),d(1),r(2,"strong"),d(3),h(4,"translate"),l()()),n&2){let e=p(2);o(),g(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," is "),o(2),x(M(4,2,"MESSAGE.required"))}}function cm(n,a){if(n&1){let e=v();r(0,"div",15)(1,"label",36),d(2),l(),r(3,"input",37,6),E("ngModelChange",function(t){u(e);let s=p();return w(s.dataModel.title,t)||(s.dataModel.title=t),f(t)}),l(),b(5,am,1,0,"i",38)(6,lm,1,0,"i",39),r(7,"em"),d(8),l(),b(9,sm,5,4,"mat-error",19),l()}if(n&2){let e=R(4),i=p();o(2),x(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(),c("placeholder",A(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle)),T("ngModel",i.dataModel.title),c("disabled",!(i.fieldsInfo.title!=null&&i.fieldsInfo.title.accessEditField)),o(2),c("ngIf",!e.value),o(),c("ngIf",e.value),o(2),g("",e.value.length," / 100"),o(),c("ngIf",e.errors==null?null:e.errors.required)}}function dm(n,a){if(n&1){let e=v();r(0,"app-webdesigner-page-selector",42),h(1,"translate"),C("optionChange",function(t){u(e);let s=p();return f(s.onActionSelectParent(t))}),l()}if(n&2){let e=p();c("optionDisabled",!(e.fieldsInfo.linkPageParentGuId!=null&&e.fieldsInfo.linkPageParentGuId.accessEditField))("optionSelectForce",e.dataModel.linkPageParentGuId)("optionMasterPage",!0)("optionMasterTemplateId",e.dataModel.linkPageTemplateGuId)("optionPlaceholder",M(1,5,"TITLE.parent_page"))}}function pm(n,a){if(n&1){let e=v();r(0,"div",43)(1,"div",44)(2,"h5",45),d(3),l()(),r(4,"div",46)(5,"div",47)(6,"input",48),E("ngModelChange",function(t){u(e);let s=p();return w(s.dataModel.pageDependencyIsDefaultPage,t)||(s.dataModel.pageDependencyIsDefaultPage=t),f(t)}),l(),S(7,"label",49),l()()()}if(n&2){let e=p();o(3),g(" ",e.fieldsInfo.pageDependencyIsDefaultPage==null?null:e.fieldsInfo.pageDependencyIsDefaultPage.fieldTitle," "),o(3),T("ngModel",e.dataModel.pageDependencyIsDefaultPage)}}function mm(n,a){if(n&1){let e=v();r(0,"app-cms-sitecategory-selector",50),h(1,"translate"),C("optionChange",function(t){u(e);let s=p();return f(s.onActionSelectCategory(t))}),l()}if(n&2){let e=p();c("optionSelectForce",e.dataModel.pageDependencyIsDefaultPageLinkSiteCategoryId)("optionPlaceholder",M(1,3,"TITLE.Website_Type"))("optionDisabled",!(e.fieldsInfo.pageDependencyIsDefaultPageLinkSiteCategoryId!=null&&e.fieldsInfo.pageDependencyIsDefaultPageLinkSiteCategoryId.accessEditField))}}function um(n,a){if(n&1){let e=v();r(0,"mat-chip",51),C("removed",function(){let t=u(e).$implicit,s=p();return f(s.removeTag(t))}),d(1),r(2,"button",52)(3,"mat-icon"),d(4,"cancel"),l()()()}if(n&2){let e=a.$implicit;o(),g(" ",e," ")}}function fm(n,a){if(n&1&&(r(0,"mat-error"),d(1),r(2,"strong"),d(3),h(4,"translate"),l()()),n&2){let e=p(2);o(),g(" ",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle," is "),o(2),x(M(4,2,"MESSAGE.required"))}}function gm(n,a){if(n&1){let e=v();r(0,"div",15)(1,"label",53),d(2),l(),r(3,"textarea",54,7),E("ngModelChange",function(t){u(e);let s=p();return w(s.dataModel.description,t)||(s.dataModel.description=t),f(t)}),d(5,"        "),l(),r(6,"em"),d(7),l(),b(8,fm,5,4,"mat-error",19),l()}if(n&2){let e=R(4),i=p();o(2),x(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle),o(),c("placeholder",A(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle)),T("ngModel",i.dataModel.description),o(4),g("",e.value.length," / 500"),o(),c("ngIf",e.errors==null?null:e.errors.required)}}function _m(n,a){if(n&1){let e=v();r(0,"div",55)(1,"button",56),C("click",function(){u(e);let t=p();return f(t.onFormCancel())}),S(2,"i",57),d(3),h(4,"translate"),l(),r(5,"button",58),S(6,"i",59),d(7),h(8,"translate"),l()()}if(n&2){p();let e=R(10);o(3),g(" ",M(4,3,"ACTION.CANCEL")," "),o(2),c("disabled",!e.form.valid),o(2),g(" ",M(8,5,"ACTION.SAVE")," ")}}var cn=class cn extends Bt{constructor(e,i,t,s,_,m,j,Y){super(s,new Xe,Y,m);this.data=e;this.dialogRef=i;this.webDesignerEnumService=t;this.webDesignerMainPageService=s;this.cmsToastrService=_;this.translate=m;this.cdr=j;this.publicHelper=Y;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.keywordDataModel=[];this.appLanguage="fa";this.dataModel=new Xe;this.formInfo=new ae;this.dataModelEnumPageAbilityTypeResult=new F;this.fileManagerOpenForm=!1;this.addOnBlurTag=!0;this.separatorKeysCodes=[13];this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id+""),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.getEnumPageAbilityType()}getEnumPageAbilityType(){this.webDesignerEnumService.ServicePageAbilityTypeEnum().subscribe({next:e=>{this.dataModelEnumPageAbilityTypeResult=e}})}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"webDesignerMainPageService.ServiceGetOneById";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.webDesignerMainPageService.setAccessLoad(),this.webDesignerMainPageService.setAccessDataType(Pt.Editor),this.webDesignerMainPageService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.keywordDataModel=[],this.dataModel.keyword&&this.dataModel.keyword.length>0&&(this.keywordDataModel=this.dataModel.keyword.split(",")),this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.submitResultMessage=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.webDesignerMainPageService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e)}})}onActionSelectParent(e){this.dataModel.linkPageParentGuId=e.id}onActionSelectDependency(e){if(!e||e.id?.length<=0){this.translate.get(["MESSAGE.Specify_the_display_location","MESSAGE.information_screen_is_not_clear"]).subscribe(i=>{this.cmsToastrService.typeErrorMessage(i["MESSAGE.Specify_the_display_location"],i["MESSAGE.information_screen_is_not_clear"])});return}this.dataModel.linkPageDependencyGuId=e.id}onActionSelectTemplate(e){if(!e||e.id?.length<=0){this.translate.get(["MESSAGE.Specify_the_template","MESSAGE.Screen_template_is_not_clear"]).subscribe(i=>{this.cmsToastrService.typeErrorMessage(i["MESSAGE.Specify_the_template"],i["MESSAGE.Screen_template_is_not_clear"])});return}this.dataModel.linkPageTemplateGuId=e.id}onFormSubmit(){if(this.formGroup.valid){if(this.formInfo.submitButtonEnabled=!1,this.dataModel.keyword="",this.keywordDataModel&&this.keywordDataModel.length>0){let e=[];this.keywordDataModel.forEach(i=>{i.display?e.push(i.display):e.push(i)}),e&&e.length>0&&(this.dataModel.keyword=e.join(","))}this.DataEditContent()}}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}onActionSelectCategory(e){if(!e||e.id<=0){this.translate.get("MESSAGE.category_of_site_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.pageDependencyIsDefaultPageLinkSiteCategoryId=e.id}addTag(e){let i=(e.value||"").trim();i&&this.keywordDataModel.push(i),e.chipInput.clear()}removeTag(e){let i=this.keywordDataModel.indexOf(e);i>=0&&this.keywordDataModel.splice(i,1)}};cn.\u0275fac=function(i){return new(i||cn)(I(Ie),I(be),I(Ri),I(at),I(N),I(V),I(L),I(B))},cn.\u0275cmp=P({type:cn,selectors:[["app-webdesigner-page-edit"]],viewQuery:function(i,t){if(i&1&&ie(im,5),i&2){let s;ne(s=oe())&&(t.formGroup=s.first)}},standalone:!1,features:[U],decls:54,vars:50,consts:[["vform","ngForm"],["PageAbilityType","ngModel"],["chipList",""],["tagInput",""],["SpecialIdendity",""],["SpecialUrlParameter",""],["Title",""],["Description",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["id","dataModel.pageAbilityType","name","dataModel.pageAbilityType",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled","ngClass"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"mt-n3"],[4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],[3,"optionDisabled","optionSelectForce","optionMasterPage","optionMasterTemplateId","optionPlaceholder","optionChange",4,"ngIf"],["class","d-flex mb-3",4,"ngIf"],[3,"optionSelectForce","optionPlaceholder","optionDisabled","optionChange",4,"ngIf"],["appearance","fill",2,"width","100%"],["aria-label","'TITLE.key_word'|translate"],[3,"removed",4,"ngFor","ngForOf"],[3,"matChipInputTokenEnd","placeholder","matChipInputAddOnBlur","matChipInputFor","matChipInputSeparatorKeyCodes"],["for","dataModel.specialIdendity",1,"color-highlight"],["matInput","","type","text","name","dataModel.specialIdendity","type","text","placeholder","32323","minlength","0","maxlength","500","id","dataModel.specialIdendity",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.specialUrlParameter",1,"color-highlight"],["matInput","","type","text","name","dataModel.specialUrlParameter","type","text","placeholder","esfahan","minlength","0","maxlength","500","id","dataModel.specialUrlParameter",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"ngValue"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["class","fa fa-times invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[3,"optionChange","optionDisabled","optionSelectForce","optionMasterPage","optionMasterTemplateId","optionPlaceholder"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.pageDependencyIsDefaultPage",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.pageDependencyIsDefaultPage","name","dataModel.pageDependencyIsDefaultPage",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.pageDependencyIsDefaultPage",1,"custom-control-label"],[3,"optionChange","optionSelectForce","optionPlaceholder","optionDisabled"],[3,"removed"],["type","button","matChipRemove","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=v();r(0,"div",8),S(1,"app-progress-spinner",9),r(2,"div",10)(3,"p",11),d(4),l(),r(5,"p"),d(6),h(7,"translate"),l(),S(8,"app-cms-form-result-message",12),r(9,"form",13,0),C("ngSubmit",function(){return u(s),f(t.onFormSubmit())}),b(11,nm,1,5,"app-cms-enum-record-status-selector",14),r(12,"div",15)(13,"select",16,1),E("ngModelChange",function(m){return u(s),w(t.dataModel.pageAbilityType,m)||(t.dataModel.pageAbilityType=m),f(m)}),b(15,om,2,2,"option",17),l(),r(16,"em",18),d(17),h(18,"translate"),l(),b(19,rm,5,3,"mat-error",19),l(),b(20,cm,10,9,"div",20),r(21,"app-webdesigner-pagedependency-selector",21),h(22,"translate"),C("optionChange",function(m){return u(s),f(t.onActionSelectDependency(m))}),l(),r(23,"app-webdesigner-pagetemplate-selector",21),h(24,"translate"),C("optionChange",function(m){return u(s),f(t.onActionSelectTemplate(m))}),l(),b(25,dm,2,7,"app-webdesigner-page-selector",22)(26,pm,8,2,"div",23)(27,mm,2,5,"app-cms-sitecategory-selector",24),r(28,"mat-form-field",25)(29,"mat-label"),d(30),h(31,"translate"),l(),r(32,"mat-chip-grid",26,2),b(34,um,5,1,"mat-chip",27),r(35,"input",28,3),h(37,"translate"),C("matChipInputTokenEnd",function(m){return u(s),f(t.addTag(m))}),l()()(),r(38,"div",15)(39,"label",29),d(40),l(),r(41,"input",30,4),E("ngModelChange",function(m){return u(s),w(t.dataModel.specialIdendity,m)||(t.dataModel.specialIdendity=m),f(m)}),l(),r(43,"em"),d(44),l()(),r(45,"div",15)(46,"label",31),d(47),l(),r(48,"input",32,5),E("ngModelChange",function(m){return u(s),w(t.dataModel.specialUrlParameter,m)||(t.dataModel.specialUrlParameter=m),f(m)}),l(),r(50,"em"),d(51),l()(),b(52,gm,9,6,"div",20)(53,_m,9,7,"div",33),l()()()}if(i&2){let s=R(14),_=R(33),m=R(42),j=R(49);o(),c("optionsInfoAreaId",t.constructorInfoAreaId),o(3),g(" ",t.formInfo.formTitle," "),o(2),g(" ",M(7,38,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),c("formInfo",t.formInfo),o(3),c("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),o(2),c("ngClass",Be("cms-RecordStatusEnum-selector-",t.dataModel.recordStatus)),T("ngModel",t.dataModel.pageAbilityType),c("disabled",!0),o(2),c("ngForOf",t.dataModelEnumPageAbilityTypeResult.listItems),o(2),g("",M(18,40,"TITLE.Select_the_functionality_of_this_content")," "),o(2),c("ngIf",s.errors==null?null:s.errors.required),o(),c("ngIf",t.fieldsInfo.title==null?null:t.fieldsInfo.title.accessWatchField),o(),c("optionDisabled",!(t.fieldsInfo.linkPageDependencyGuId!=null&&t.fieldsInfo.linkPageDependencyGuId.accessEditField))("optionSelectForce",t.dataModel.linkPageDependencyGuId)("optionPlaceholder",M(22,42,"TITLE.Show_place")),o(2),c("optionDisabled",!(t.fieldsInfo.linkPageTemplateGuId!=null&&t.fieldsInfo.linkPageTemplateGuId.accessEditField))("optionSelectForce",t.dataModel.linkPageTemplateGuId)("optionPlaceholder",M(24,44,"TITLE.Page_template")),o(2),c("ngIf",t.dataModel.linkPageTemplateGuId&&t.dataModel.linkPageTemplateGuId.length>0),o(),c("ngIf",t.fieldsInfo.pageDependencyIsDefaultPage==null?null:t.fieldsInfo.pageDependencyIsDefaultPage.accessWatchField),o(),c("ngIf",t.dataModel.pageDependencyIsDefaultPage&&(t.fieldsInfo.pageDependencyIsDefaultPageLinkSiteCategoryId==null?null:t.fieldsInfo.pageDependencyIsDefaultPageLinkSiteCategoryId.accessWatchField)),o(3),x(M(31,46,"TITLE.Choose_keywords_relative_to_the_content")),o(4),c("ngForOf",t.keywordDataModel),o(),c("placeholder",M(37,48,"TITLE.key_word"))("matChipInputAddOnBlur",t.addOnBlurTag)("matChipInputFor",_)("matChipInputSeparatorKeyCodes",t.separatorKeysCodes),o(5),x(t.fieldsInfo.specialIdendity==null?null:t.fieldsInfo.specialIdendity.fieldTitle),o(),T("ngModel",t.dataModel.specialIdendity),c("disabled",!(t.fieldsInfo.specialIdendity!=null&&t.fieldsInfo.specialIdendity.accessEditField)),o(3),g("",m.value.length," / 500"),o(3),x(t.fieldsInfo.specialUrlParameter==null?null:t.fieldsInfo.specialUrlParameter.fieldTitle),o(),T("ngModel",t.dataModel.specialUrlParameter),c("disabled",!(t.fieldsInfo.specialUrlParameter!=null&&t.fieldsInfo.specialUrlParameter.accessEditField)),o(3),g("",j.value.length," / 500"),o(),c("ngIf",t.fieldsInfo.description==null?null:t.fieldsInfo.description.accessWatchField),o(),c("ngIf",t.formInfo.submitButtonEnabled)}},dependencies:[Te,Ge,W,fe,Fo,No,Z,kt,Go,K,pe,$,he,Me,ue,me,Pn,Wn,kn,An,Rn,En,Se,re,G,Ce,Qn,q,le,fi,ln,_i,k],encapsulation:2});var so=cn;var hm=()=>[5,10,20,100],Mm=n=>({display:n});function Sm(n,a){if(n&1){let e=v();r(0,"a",47),C("click",function(){u(e);let t=p();return f(t.onActionBackToParentTemplate())}),S(1,"i",48),l()}}function bm(n,a){if(n&1){let e=v();r(0,"a",47),C("click",function(){u(e);let t=p();return f(t.onActionBackToParentDependency())}),S(1,"i",48),l()}}function Im(n,a){if(n&1){let e=v();r(0,"div",18)(1,"a",49),C("click",function(){u(e);let t=p();return f(t.onActionButtonNewRow())}),S(2,"i",50)(3,"br"),l(),r(4,"p",21),d(5),h(6,"translate"),l()()}n&2&&(o(5),g(" ",M(6,1,"ACTION.ADD")," "))}function Cm(n,a){if(n&1){let e=v();r(0,"div",18)(1,"a",51),C("click",function(){u(e);let t=p();return f(t.onActionButtonEditRow(t.tableRowSelected))}),S(2,"i",52)(3,"br"),l(),r(4,"p",21),d(5),h(6,"translate"),l()()}n&2&&(o(5),g(" ",M(6,1,"ACTION.EDIT")," "))}function vm(n,a){if(n&1){let e=v();r(0,"div",18)(1,"a",53),C("click",function(){u(e);let t=p();return f(t.onActionButtonDeleteRow(t.tableRowSelected))}),S(2,"i",54)(3,"br"),l(),r(4,"p",21),d(5),h(6,"translate"),l()()}n&2&&(o(5),g(" ",M(6,1,"ACTION.DELETE")," "))}function ym(n,a){if(n&1){let e=v();r(0,"div",18)(1,"a",19),C("click",function(){u(e);let t=p();return f(t.onActionButtonHtmlViewWithOutParent(t.tableRowSelected))}),S(2,"i",20)(3,"br"),l(),r(4,"p",21),d(5),h(6,"translate"),l()()}n&2&&(o(5),g(" ",M(6,1,"ACTION.DISPLAY_PAGE_WITHOUT_PARENT")," "))}function Dm(n,a){n&1&&(r(0,"mat-header-cell",55),d(1),h(2,"translate"),l()),n&2&&(o(),g(" ",M(2,1,"TITLE.PICTURE")," "))}function Tm(n,a){if(n&1&&S(0,"img",57),n&2){let e=p().$implicit;c("src",A(e.thumbnailImageSrc),De)}}function wm(n,a){if(n&1&&(r(0,"mat-cell"),b(1,Tm,1,2,"img",56),l()),n&2){let e=a.$implicit;o(),c("ngIf",(e==null||e.ThumbnailImageSrc==null?null:e.ThumbnailImageSrc.length)>0)}}function Em(n,a){if(n&1&&(r(0,"mat-header-cell",55),d(1),l()),n&2){let e=p();o(),g(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function xm(n,a){if(n&1&&(r(0,"mat-cell"),d(1),l()),n&2){let e=a.$implicit;o(),g(" ",e.id," ")}}function Rm(n,a){if(n&1&&(r(0,"mat-header-cell",55),d(1),l()),n&2){let e=p();o(),g(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function Am(n,a){if(n&1&&S(0,"select",60),n&2){let e=p().$implicit,i=p();c("contentService",i.contentService)("row",e)("ngStyle",et(3,Mm,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function Pm(n,a){if(n&1&&(r(0,"mat-cell",58),h(1,"statusCellClass"),S(2,"i",58),h(3,"statusIconClass"),b(4,Am,1,5,"select",59),l()),n&2){let e=a.$implicit,i=p();c("ngClass",M(1,3,e.recordStatus)),o(2),c("ngClass",M(3,5,e.recordStatus)),o(2),c("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessEditRow)}}function Wm(n,a){if(n&1&&(r(0,"mat-header-cell",55),d(1),l()),n&2){let e=p();o(),g(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," ")}}function km(n,a){if(n&1&&(r(0,"mat-cell"),d(1),l()),n&2){let e=a.$implicit;o(),g(" ",e.title," ")}}function Lm(n,a){if(n&1&&(r(0,"mat-header-cell",55),d(1),l()),n&2){let e=p();o(),g(" ",e.fieldsInfo.linkPageParentGuId==null?null:e.fieldsInfo.linkPageParentGuId.fieldTitle," ")}}function Vm(n,a){if(n&1&&(r(0,"mat-cell"),d(1),l()),n&2){let e=a.$implicit;o(),g(" ",e.linkPageParentGuId," ")}}function Bm(n,a){if(n&1&&(r(0,"mat-header-cell",55),d(1),l()),n&2){let e=p();o(),g(" ",e.fieldsInfo.linkPageDependencyGuId==null?null:e.fieldsInfo.linkPageDependencyGuId.fieldTitle," ")}}function Gm(n,a){if(n&1&&(r(0,"mat-cell"),d(1),l()),n&2){let e=a.$implicit;o(),g(" ",e.linkPageDependencyGuId," ")}}function Fm(n,a){if(n&1&&(r(0,"mat-header-cell",55),d(1),l()),n&2){let e=p();o(),g(" ",e.fieldsInfo.linkPageTemplateGuId==null?null:e.fieldsInfo.linkPageTemplateGuId.fieldTitle," ")}}function Nm(n,a){if(n&1&&(r(0,"mat-cell"),d(1),h(2,"cmstitle"),l()),n&2){let e=a.$implicit,i=p();o(),g(" ",At(2,1,e.linkPageTemplateGuId,i.dataModelWebDesignerMainPageTemplateResult.listItems)," ")}}function Om(n,a){if(n&1&&(r(0,"mat-header-cell",55),d(1),l()),n&2){let e=p();o(),g(" ",e.fieldsInfo.pageDependencyIsDefaultPageLinkSiteCategoryId==null?null:e.fieldsInfo.pageDependencyIsDefaultPageLinkSiteCategoryId.fieldTitle," ")}}function Hm(n,a){if(n&1&&(r(0,"mat-cell"),d(1),h(2,"cmstitle"),l()),n&2){let e=a.$implicit,i=p();o(),g(" ",At(2,1,e.pageDependencyIsDefaultPageLinkSiteCategoryId,i.dataModelCoreSiteCategoryResult.listItems)," ")}}function qm(n,a){if(n&1&&(r(0,"mat-header-cell",55),d(1),l()),n&2){let e=p();o(),g(" ",e.fieldsInfo.pageDependencyIsDefaultPage==null?null:e.fieldsInfo.pageDependencyIsDefaultPage.fieldTitle," ")}}function jm(n,a){if(n&1&&(r(0,"mat-cell"),S(1,"i",58),h(2,"boolclass"),l()),n&2){let e=a.$implicit;o(),c("ngClass",M(2,1,e.pageDependencyIsDefaultPage))}}function Um(n,a){if(n&1&&(r(0,"mat-header-cell",55),d(1),l()),n&2){let e=p();o(),g(" ",e.fieldsInfo.classActionName==null?null:e.fieldsInfo.classActionName.fieldTitle," ")}}function Qm(n,a){if(n&1&&(r(0,"mat-cell"),d(1),l()),n&2){let e=a.$implicit;o(),g(" ",e.classActionName," ")}}function zm(n,a){n&1&&(r(0,"mat-header-cell"),d(1),h(2,"translate"),l()),n&2&&(o(),g(" ",M(2,1,"TITLE.OPTION")," "))}function Km(n,a){if(n&1&&(r(0,"mat-cell",61)(1,"button",62)(2,"mat-icon"),d(3,"more_vert"),l()(),S(4,"mat-menu",null,2),l()),n&2){let e=R(5);o(),c("matMenuTriggerFor",e)}}function Jm(n,a){n&1&&S(0,"mat-header-row")}function Ym(n,a){if(n&1){let e=v();r(0,"mat-row",63),C("click",function(t){let s=u(e).$implicit,_=p();return f(_.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=u(e).$implicit,_=p();return f(_.onActionTableRowSelect(s,t))}),l()}if(n&2){let e=a.$implicit,i=p();z("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var dn=class dn extends yt{constructor(e,i,t,s,_,m,j,Y,Et,Mi,Ut,Si,Qt,mn,xr){super(e,new Xe,mn,Si,Et);this.contentService=e;this.cmsToastrService=i;this.cmsConfirmationDialogService=t;this.webDesignerMainPageTemplateService=s;this.coreSiteCategoryService=_;this.activatedRoute=m;this.router=j;this.cdr=Y;this.translate=Et;this.cmsStoreService=Mi;this.themeService=Ut;this.tokenHelper=Si;this.pageInfo=Qt;this.publicHelper=mn;this.dialog=xr;this.requestLinkPageParentGuId="";this.requestLinkPageTemplateGuId="";this.requestLinkPageDependencyGuId="";this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new J;this.filterDataModelQueryBuilder=[];this.dataModelWebDesignerMainPageTemplateResult=new F;this.dataModelCoreSiteCategoryResult=new F;this.tabledisplayedColumns=["ThumbnailImageSrc","id","recordStatus","title","LinkPageTemplateGuId","PageDependencyIsDefaultPage","PageDependencyIsDefaultPageLinkSiteCategoryId"];this.unsubscribe=[];if(this.publicHelper.processService.cdr=this.cdr,this.activatedRoute.snapshot.paramMap.get("LinkPageTemplateGuId")&&(this.requestLinkPageTemplateGuId=this.activatedRoute.snapshot.paramMap.get("LinkPageTemplateGuId")),this.activatedRoute.snapshot.paramMap.get("LinkPageDependencyGuId")&&(this.requestLinkPageDependencyGuId=this.activatedRoute.snapshot.paramMap.get("LinkPageDependencyGuId")),this.activatedRoute.snapshot.paramMap.get("LinkPageParentGuId")&&(this.requestLinkPageParentGuId=this.activatedRoute.snapshot.paramMap.get("LinkPageParentGuId")),this.optionsSearch.parentMethods={onSubmit:Ve=>this.onSubmitOptionsSearch(Ve)},this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=H.Descending,this.requestLinkPageTemplateGuId.length>0){let Ve=new O;Ve.propertyName="LinkPageTemplateGuId",Ve.value=this.requestLinkPageTemplateGuId,this.filteModelContent.filters.push(Ve)}if(this.requestLinkPageDependencyGuId.length>0){let Ve=new O;Ve.propertyName="LinkPageDependencyGuId",Ve.value=this.requestLinkPageDependencyGuId,this.filteModelContent.filters.push(Ve)}if(this.requestLinkPageParentGuId.length>0){let Ve=new O;Ve.propertyName="LinkPageParentGuId",Ve.value=this.requestLinkPageParentGuId,this.filteModelContent.filters.push(Ve)}}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>te(this,null,function*(){this.tokenInfo=e,this.DataGetAll()}))),this.getModuleList(),this.getSiteCategory()}getModuleList(){let e=new J;e.rowPerPage=100,this.webDesignerMainPageTemplateService.ServiceGetAll(e).subscribe({next:i=>{this.dataModelWebDesignerMainPageTemplateResult=i}})}getSiteCategory(){let e=new J;e.rowPerPage=100,this.coreSiteCategoryService.ServiceGetAll(e).subscribe({next:i=>{this.dataModelCoreSiteCategoryResult=i}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tableRowsSelected=[],this.onActionTableRowSelect(new Xe);let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{t.isSuccess&&(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=H.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=H.Ascending):(H,e.start="desc"):(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=H.Descending),H,this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(lo,{height:"90%",panelClass:e,enterAnimationDuration:X.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:X.cmsViewConfig.exitAnimationDuration,data:{linkPageDependencyGuId:this.requestLinkPageDependencyGuId}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(so,{height:"90%",panelClass:i,enterAnimationDuration:X.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:X.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(s=>{this.cmsToastrService.typeErrorSelected(s)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(s=>{i=s["MESSAGE.Please_Confirm"],t=s["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(s=>{if(s){let _=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(m=>{this.publicHelper.processService.processStart(_,m,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:m=>{m.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(_)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(_)}})}}).catch(()=>{})}onActionButtonGoToSiteCategoryList(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.onActionTableRowSelect(e),this.router.navigate(["/core/siteSiteCategory/",this.tableRowSelected.id])}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(m=>{i.set(m,0)}),this.translate.get("MESSAGE.All").subscribe(m=>{i.set(m,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(m=>{this.publicHelper.processService.processStart(t,m,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:m=>{m.isSuccess&&(i.set("All",m.totalRowCount),this.optionsStatist.childMethods.setStatistValue(i)),this.publicHelper.processService.processStop(t)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(t)}});let s=JSON.parse(JSON.stringify(this.filteModelContent)),_=new O;_.propertyName="recordStatus",_.value=ot.Available,s.filters.push(_),this.contentService.ServiceGetCount(s).subscribe({next:m=>{m.isSuccess&&(i.set("Active",m.totalRowCount),this.optionsStatist.childMethods.setStatistValue(i)),this.publicHelper.processService.processStop(t)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(t)}})}onActionButtonHtmlEditor(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorSelected();return}window.open(e.htmlBuilderUrl,"_blank")}onActionButtonHtmlView(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorSelected();return}window.open(this.dataModelResult.item.htmlPreviewByMasterUrl,"_blank")}onActionButtonSiteRouteView(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorSelected();return}this.contentService.ServiceWebRoute(e.id).subscribe({next:i=>{i.isSuccess?window.open(i.item,"_blank"):this.cmsToastrService.typeError(i.errorMessage)},error:i=>{this.cmsToastrService.typeError(i)}})}onActionButtonHtmlViewWithOutParent(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorSelected();return}window.open(this.dataModelResult.item.htmlPreviewUrl,"_blank")}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParentTemplate(){this.router.navigate(["/webdesigner/pagetemplate"])}onActionBackToParentDependency(){this.router.navigate(["/webdesigner/pagedependency"])}};dn.\u0275fac=function(i){return new(i||dn)(I(at),I(N),I(je),I(lt),I(Tn),I(nt),I(Fe),I(L),I(V),I(We),I(Ct),I(ke),I(vt),I(B),I(He))},dn.\u0275cmp=P({type:dn,selectors:[["app-webdesigner-page-list-grid"]],standalone:!1,features:[U],decls:92,vars:42,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-page","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-globe","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","ThumbnailImageSrc"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","id"],["matColumnDef","recordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","title"],["matColumnDef","LinkPageParentGuId"],["matColumnDef","LinkPageDependencyGuId"],["matColumnDef","LinkPageTemplateGuId"],["matColumnDef","PageDependencyIsDefaultPageLinkSiteCategoryId"],["matColumnDef","PageDependencyIsDefaultPage"],["matColumnDef","ClassActionName"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],["style","vertical-align: middle","class","ntk-hover-zoom","aria-hidden","","height","40","width","40",3,"src",4,"ngIf"],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(i,t){if(i&1){let s=v();r(0,"app-cms-html-list",3),E("optionActionGuideNoticeDisplayChange",function(m){return u(s),w(t.viewGuideNotice,m)||(t.viewGuideNotice=m),f(m)}),C("optionOnActionButtonMemoRow",function(){return u(s),f(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return u(s),f(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return u(s),f(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return u(s),f(t.onActionButtonPrintRow())}),y(1,4),d(2," -------------------------------------- "),D(),Ee(3,5)(4,6),y(5,7),b(6,Sm,2,0,"a",8)(7,bm,2,0,"a",8),r(8,"a",9),C("click",function(){return u(s),f(t.viewGuideNotice=!t.viewGuideNotice)}),S(9,"i",10),l(),r(10,"a",9),C("click",function(){return u(s),f(t.onActionButtonReload())}),S(11,"i",11),l(),D(),y(12,12),r(13,"a",13),C("click",function(){return u(s),f(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),S(14,"mat-slide-toggle",14),d(15),h(16,"translate"),l(),r(17,"a",13),C("click",function(){return u(s),f(t.onActionButtonStatist())}),S(18,"mat-slide-toggle",14),d(19),h(20,"translate"),l(),D(),y(21,15),b(22,Im,7,3,"div",16),D(),y(23,17),b(24,Cm,7,3,"div",16)(25,vm,7,3,"div",16),r(26,"div",18)(27,"a",19),C("click",function(){return u(s),f(t.onActionButtonHtmlEditor(t.tableRowSelected))}),S(28,"i",20)(29,"br"),l(),r(30,"p",21),d(31),h(32,"translate"),l()(),r(33,"div",18)(34,"a",19),C("click",function(){return u(s),f(t.onActionButtonHtmlView(t.tableRowSelected))}),S(35,"i",20)(36,"br"),l(),r(37,"p",21),d(38),h(39,"translate"),l()(),b(40,ym,7,3,"div",16),r(41,"div",18)(42,"a",19),C("click",function(){return u(s),f(t.onActionButtonSiteRouteView(t.tableRowSelected))}),S(43,"i",22)(44,"br"),l(),r(45,"p",21),d(46),h(47,"translate"),l()(),D(),y(48,23),r(49,"app-cms-search-list",24),E("optionsChange",function(m){return u(s),w(t.optionsSearch,m)||(t.optionsSearch=m),f(m)}),l(),r(50,"app-cms-statist-list",24),E("optionsChange",function(m){return u(s),w(t.optionsStatist,m)||(t.optionsStatist=m),f(m)}),l(),D(),y(51,25),r(52,"mat-table",26,0),C("matSortChange",function(){u(s);let m=R(53);return f(t.onTableSortData(m))}),y(54,27),b(55,Dm,3,3,"mat-header-cell",28)(56,wm,2,1,"mat-cell",29),D(),y(57,30),b(58,Em,2,1,"mat-header-cell",28)(59,xm,2,1,"mat-cell",29),D(),y(60,31),b(61,Rm,2,1,"mat-header-cell",28)(62,Pm,5,7,"mat-cell",32),D(),y(63,33),b(64,Wm,2,1,"mat-header-cell",28)(65,km,2,1,"mat-cell",29),D(),y(66,34),b(67,Lm,2,1,"mat-header-cell",28)(68,Vm,2,1,"mat-cell",29),D(),y(69,35),b(70,Bm,2,1,"mat-header-cell",28)(71,Gm,2,1,"mat-cell",29),D(),y(72,36),b(73,Fm,2,1,"mat-header-cell",28)(74,Nm,3,4,"mat-cell",29),D(),y(75,37),b(76,Om,2,1,"mat-header-cell",28)(77,Hm,3,4,"mat-cell",29),D(),y(78,38),b(79,qm,2,1,"mat-header-cell",28)(80,jm,3,3,"mat-cell",29),D(),y(81,39),b(82,Um,2,1,"mat-header-cell",28)(83,Qm,2,1,"mat-cell",29),D(),y(84,40),b(85,zm,3,3,"mat-header-cell",41)(86,Km,6,1,"mat-cell",42),D(),b(87,Jm,1,0,"mat-header-row",43)(88,Ym,1,2,"mat-row",44),l(),D(),y(89,45),r(90,"mat-paginator",46,1),C("page",function(m){return u(s),f(t.onTablePageingData(m))}),l(),D(),l()}i&2&&(c("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),T("optionActionGuideNoticeDisplay",t.viewGuideNotice),c("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.title),o(6),c("ngIf",(t.requestLinkPageTemplateGuId==null?null:t.requestLinkPageTemplateGuId.length)>0),o(),c("ngIf",(t.requestLinkPageDependencyGuId==null?null:t.requestLinkPageDependencyGuId.length)>0),o(4),z("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(3),c("checked",t.optionsSearch.data.show),o(),g("",M(16,31,"ACTION.SEARCH")," "),o(3),c("checked",t.optionsStatist.data.show),o(),g("",M(20,33,"ACTION.STATIST")," "),o(3),c("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessAddRow),o(2),c("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),o(),c("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),o(6),g(" ",M(32,35,"ACTION.PAGE_DESIGN")," "),o(7),g(" ",M(39,37,"ACTION.SHOW_PAGE")," "),o(2),c("ngIf",(t.tableRowSelected==null||t.tableRowSelected.linkPageParentGuId==null?null:t.tableRowSelected.linkPageParentGuId.length)>0),o(6),g(" ",M(47,39,"ACTION.SHOW_WEB")," "),o(3),T("options",t.optionsSearch),o(),T("options",t.optionsStatist),o(2),c("dataSource",t.tableSource),o(35),c("matHeaderRowDef",t.tabledisplayedColumns),o(),c("matRowDefColumns",t.tabledisplayedColumns),o(2),c("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",ve(41,hm)))},dependencies:[Te,W,tt,Ae,re,G,st,ct,qe,Pe,dt,pt,mt,ft,Mt,gt,ut,St,_t,ht,bt,It,Ue,Qe,ze,Ke,Dt,k,ki,Je,Gt,Pi],encapsulation:2});var jt=dn;var Xm=()=>[5,10,20,100];function Zm(n,a){if(n&1){let e=v();r(0,"a",30),C("click",function(){u(e);let t=p();return f(t.onActionBackToParentTemplate())}),S(1,"i",31),l()}}function $m(n,a){if(n&1){let e=v();r(0,"a",30),C("click",function(){u(e);let t=p();return f(t.onActionBackToParentDependency())}),S(1,"i",31),l()}}function eu(n,a){if(n&1){let e=v();r(0,"div",16)(1,"a",32),C("click",function(){u(e);let t=p();return f(t.onActionButtonNewRow())}),S(2,"i",33)(3,"br"),l(),r(4,"p",19),d(5),h(6,"translate"),l()()}n&2&&(o(5),g(" ",M(6,1,"ACTION.ADD")," "))}function tu(n,a){if(n&1){let e=v();r(0,"div",16)(1,"a",34),C("click",function(){u(e);let t=p();return f(t.onActionButtonEditRow(t.tableRowSelected))}),S(2,"i",35)(3,"br"),l(),r(4,"p",19),d(5),h(6,"translate"),l()()}n&2&&(o(5),g(" ",M(6,1,"ACTION.EDIT")," "))}function iu(n,a){if(n&1){let e=v();r(0,"div",16)(1,"a",36),C("click",function(){u(e);let t=p();return f(t.onActionButtonDeleteRow(t.tableRowSelected))}),S(2,"i",37)(3,"br"),l(),r(4,"p",19),d(5),h(6,"translate"),l()()}n&2&&(o(5),g(" ",M(6,1,"ACTION.DELETE")," "))}function nu(n,a){if(n&1){let e=v();r(0,"div",16)(1,"a",17),C("click",function(){u(e);let t=p();return f(t.onActionButtonHtmlViewWithOutParent(t.tableRowSelected))}),S(2,"i",18)(3,"br"),l(),r(4,"p",19),d(5),h(6,"translate"),l()()}n&2&&(o(5),g(" ",M(6,1,"ACTION.DISPLAY_PAGE_WITHOUT_PARENT")," "))}function ou(n,a){if(n&1){let e=v();r(0,"div",38)(1,"mat-card",39)(2,"mat-card-header")(3,"mat-card-title"),d(4),S(5,"i",40),h(6,"statusIconClass"),l(),r(7,"mat-card-subtitle"),d(8),h(9,"translate"),l()(),S(10,"img",41),r(11,"mat-card-content"),d(12),h(13,"translate"),h(14,"cmstitle"),S(15,"br"),d(16),h(17,"translate"),h(18,"cmstitle"),S(19,"br"),d(20),h(21,"translate"),S(22,"i",40),h(23,"boolclass"),r(24,"p"),d(25),l()(),r(26,"mat-card-actions")(27,"button",42),C("click",function(t){let s=u(e).$implicit,_=p();return f(_.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=u(e).$implicit,_=p();return f(_.onActionTableRowSelect(s,t))}),r(28,"mat-icon"),d(29,"more_vert"),l()()()()()}if(n&2){let e=a.$implicit,i=p();o(4),g(" ",e.title," "),o(),c("ngClass",M(6,13,e.recordStatus)),o(3),ti(" ",M(9,15,"TITLE.Id"),": ",e.id),o(2),c("src",A(e.thumbnailImageSrc),De),o(2),ti(" ",M(13,17,"TITLE.Template")," : ",At(14,19,e.linkPageTemplateGuId,i.dataModelWebDesignerMainPageTemplateResult.listItems)," "),o(4),ti(" ",M(17,22,"TITLE.Default_template_classification_system")," : ",At(18,24,e.pageDependencyIsDefaultPageLinkSiteCategoryId,i.dataModelCoreSiteCategoryResult.listItems)," "),o(4),g(" ",M(21,27,"TITLE.System_default")," : "),o(2),c("ngClass",M(23,29,e.pageDependencyIsDefaultPage)),o(3),g(" ",e.description," ")}}var Di=class Di extends jt{};Di.\u0275fac=(()=>{let a;return function(i){return(a||(a=bo(Di)))(i||Di)}})(),Di.\u0275cmp=P({type:Di,selectors:[["app-webdesigner-page-list"]],standalone:!1,features:[U],decls:60,vars:42,consts:[["paginator",""],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionClassBody","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-page","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-globe","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],[1,"row"],["Class","col-xl-12"],[3,"optionsInfoAreaId"],["class","col-sm-12 col-md-6 col-lg-4 col-xl-3",4,"ngFor","ngForOf"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],[1,"col-sm-12","col-md-6","col-lg-4","col-xl-3"],[1,"example-card",2,"border","groove"],[3,"ngClass"],["mat-card-image","",2,"max-height","300px",3,"src"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"click","rtclick"]],template:function(e,i){if(e&1){let t=v();r(0,"app-cms-html-list",1),E("optionActionGuideNoticeDisplayChange",function(_){return u(t),w(i.viewGuideNotice,_)||(i.viewGuideNotice=_),f(_)}),C("optionOnActionButtonMemoRow",function(){return u(t),f(i.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return u(t),f(i.onActionButtonMemo())})("optionOnActionButtonExport",function(){return u(t),f(i.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return u(t),f(i.onActionButtonPrintRow())}),y(1,2),d(2," -------------------------------------- "),D(),Ee(3,3)(4,4),y(5,5),b(6,Zm,2,0,"a",6)(7,$m,2,0,"a",6),r(8,"a",7),C("click",function(){return u(t),f(i.viewGuideNotice=!i.viewGuideNotice)}),S(9,"i",8),l(),r(10,"a",7),C("click",function(){return u(t),f(i.onActionButtonReload())}),S(11,"i",9),l(),D(),y(12,10),r(13,"a",11),C("click",function(){return u(t),f(i.optionsSearch.data.show=!i.optionsSearch.data.show)}),S(14,"mat-slide-toggle",12),d(15),h(16,"translate"),l(),r(17,"a",11),C("click",function(){return u(t),f(i.onActionButtonStatist())}),S(18,"mat-slide-toggle",12),d(19),h(20,"translate"),l(),D(),y(21,13),b(22,eu,7,3,"div",14),D(),y(23,15),b(24,tu,7,3,"div",14)(25,iu,7,3,"div",14),r(26,"div",16)(27,"a",17),C("click",function(){return u(t),f(i.onActionButtonHtmlEditor(i.tableRowSelected))}),S(28,"i",18)(29,"br"),l(),r(30,"p",19),d(31),h(32,"translate"),l()(),r(33,"div",16)(34,"a",17),C("click",function(){return u(t),f(i.onActionButtonHtmlView(i.tableRowSelected))}),S(35,"i",18)(36,"br"),l(),r(37,"p",19),d(38),h(39,"translate"),l()(),b(40,nu,7,3,"div",14),r(41,"div",16)(42,"a",17),C("click",function(){return u(t),f(i.onActionButtonSiteRouteView(i.tableRowSelected))}),S(43,"i",20)(44,"br"),l(),r(45,"p",19),d(46),h(47,"translate"),l()(),D(),y(48,21),r(49,"app-cms-search-list",22),E("optionsChange",function(_){return u(t),w(i.optionsSearch,_)||(i.optionsSearch=_),f(_)}),l(),r(50,"app-cms-statist-list",22),E("optionsChange",function(_){return u(t),w(i.optionsStatist,_)||(i.optionsStatist=_),f(_)}),l(),D(),y(51,23),r(52,"div",24)(53,"div",25),S(54,"app-progress-spinner",26),r(55,"div",24),b(56,ou,30,31,"div",27),l()()(),D(),y(57,28),r(58,"mat-paginator",29,0),C("page",function(_){return u(t),f(i.onTablePageingData(_))}),l(),D(),l()}e&2&&(c("optionsListInfoAreaId",i.constructorInfoAreaId)("optionGuideNoticeKey",""),T("optionActionGuideNoticeDisplay",i.viewGuideNotice),c("optionTreeDisplay",!1)("optionClassBody","")("optionActionRowId",i.tableRowSelected==null?null:i.tableRowSelected.id)("optionActionRowDisplayMenu",i.tableRowSelect2Click)("optionSelectRowItemTitle",i.tableRowSelected==null?null:i.tableRowSelected.title),o(6),c("ngIf",(i.requestLinkPageTemplateGuId==null?null:i.requestLinkPageTemplateGuId.length)>0),o(),c("ngIf",(i.requestLinkPageDependencyGuId==null?null:i.requestLinkPageDependencyGuId.length)>0),o(4),z("rotation360",i.publicHelper.processService.process.inRunArea[i.constructorInfoAreaId]),o(3),c("checked",i.optionsSearch.data.show),o(),g("",M(16,31,"ACTION.SEARCH")," "),o(3),c("checked",i.optionsStatist.data.show),o(),g("",M(20,33,"ACTION.STATIST")," "),o(3),c("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessAddRow),o(2),c("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessEditRow),o(),c("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessDeleteRow),o(6),g(" ",M(32,35,"ACTION.PAGE_DESIGN")," "),o(7),g(" ",M(39,37,"ACTION.SHOW_PAGE")," "),o(2),c("ngIf",(i.tableRowSelected==null||i.tableRowSelected.linkPageParentGuId==null?null:i.tableRowSelected.linkPageParentGuId.length)>0),o(6),g(" ",M(47,39,"ACTION.SHOW_WEB")," "),o(3),T("options",i.optionsSearch),o(),T("options",i.optionsStatist),o(4),c("optionsInfoAreaId",i.constructorInfoAreaId),o(2),c("ngForOf",i.dataModelResult.listItems),o(2),c("length",i.dataModelResult.totalRowCount)("pageIndex",i.dataModelResult.currentPageNumber-1)("pageSize",i.dataModelResult.rowPerPage)("pageSizeOptions",ve(41,Xm)))},dependencies:[Te,Ge,W,Ae,qo,zo,Uo,Ko,Jo,Qo,jo,re,qe,Pe,Ue,Qe,q,ze,Ke,k,ki,Je,Pi],encapsulation:2});var Ti=Di;var pn=class pn{constructor(){this.constructorInfoAreaId=this.constructor.name}ngOnInit(){}};pn.\u0275fac=function(e){return new(e||pn)},pn.\u0275cmp=P({type:pn,selectors:[["app-web-designer"]],standalone:!1,decls:1,vars:0,template:function(e,i){e&1&&S(0,"router-outlet")},dependencies:[vo],encapsulation:2});var co=pn;var ru=[{path:"",component:co,data:{title:"ROUTE.WEBDESIGNER"},children:[{path:"config",loadChildren:()=>import("./chunk-3HYYJINW.js").then(n=>n.WebDesignerConfigModule),data:{title:"ROUTE.WEBDESIGNER"}},{path:"intro",component:gn,data:{title:"ROUTE.WEBDESIGNER.INTRO"}},{path:"intro/LinkPageId/:LinkPageId",component:gn,data:{title:"ROUTE.WEBDESIGNER.INTRO"}},{path:"intro/add",component:fn,data:{title:"ROUTE.WEBDESIGNER.INTRO"}},{path:"intro/add/:LinkPageId",component:fn,data:{title:"ROUTE.WEBDESIGNER.INTRO"}},{path:"intro/edit/:Id",component:Kn,data:{title:"ROUTE.WEBDESIGNER.INTRO"}},{path:"menu",component:$n,data:{title:"ROUTE.WEBDESIGNER.MENU"}},{path:"logmemberinfo",component:Xn,data:{title:"ROUTE.WEBDESIGNER.LOGMEMBERINFO"}},{path:"pagetemplate",component:ao,data:{title:"ROUTE.WEBDESIGNER.PAGETEMPLATE"}},{path:"pagedependency",component:no,data:{title:"ROUTE.WEBDESIGNER.PAGEDEPENDENCY"}},{path:"page",component:Ti,data:{title:"ROUTE.WEBDESIGNER.PAGE"}},{path:"page/LinkPageTemplateGuId/:LinkPageTemplateGuId",component:Ti,data:{title:"ROUTE.WEBDESIGNER.PAGE"}},{path:"page/LinkPageParentGuId/:LinkPageParentGuId",component:Ti,data:{title:"ROUTE.WEBDESIGNER.PAGE"}},{path:"page/LinkPageDependencyGuId/:LinkPageDependencyGuId",component:Ti,data:{title:"ROUTE.WEBDESIGNER.PAGE"}},{path:"page/list-grid",component:jt,data:{title:"ROUTE.WEBDESIGNER.PAGE"}},{path:"page/list-grid/LinkPageTemplateGuId/:LinkPageTemplateGuId",component:jt,data:{title:"ROUTE.WEBDESIGNER.PAGE"}},{path:"page/list-grid/LinkPageParentGuId/:LinkPageParentGuId",component:jt,data:{title:"ROUTE.WEBDESIGNER.PAGE"}},{path:"page/list-grid/LinkPageDependencyGuId/:LinkPageDependencyGuId",component:jt,data:{title:"ROUTE.WEBDESIGNER.PAGE"}}]}],wi=class wi{};wi.\u0275fac=function(e){return new(e||wi)},wi.\u0275mod=yn({type:wi}),wi.\u0275inj=vn({imports:[mo.forChild(ru),mo]});var po=wi;var Ei=class Ei{};Ei.\u0275fac=function(e){return new(e||Ei)},Ei.\u0275mod=yn({type:Ei}),Ei.\u0275inj=vn({providers:[Dn,Q,To,je,xo,Tn,Ro,Ai,ii,rt,at,Wt,lt,wn,Ri],imports:[Io,po,Oo,Ho.withConfig({warnOnNgModelWithFormControl:"never"}),lr,ur,dr,Zo,Xo,$o,Mr,Sr,Bo,fr,ar]});var Er=Ei;export{Er as WebDesignerModule};
