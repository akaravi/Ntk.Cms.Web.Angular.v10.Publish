import{a as ya}from"./chunk-5KHF66CF.js";import{a as Da}from"./chunk-MLNU5BSW.js";import{a as zn,b as Ia}from"./chunk-QMRJKESD.js";import{a as Ca}from"./chunk-JDXJYH4J.js";import{a as Jn}from"./chunk-AMZRMP5O.js";import{a as Kn}from"./chunk-4KSLP7AZ.js";import{a as va}from"./chunk-2RARKCBJ.js";import{a as ga}from"./chunk-AYRTKHOT.js";import{a as Un}from"./chunk-ZC5LAXYV.js";import{a as Sa}from"./chunk-5XX3M7IX.js";import{a as ba}from"./chunk-BHVHQVDF.js";import{a as Bi}from"./chunk-LJAARUJO.js";import{a as ha}from"./chunk-PZNE3ICL.js";import{c as Ma}from"./chunk-JVXRNVME.js";import{a as _a}from"./chunk-J3TFAXW4.js";import"./chunk-7ZEJSJHE.js";import{a as Qn}from"./chunk-QVR6VWLL.js";import{a as Ot}from"./chunk-JPVMF3O3.js";import{a as wt}from"./chunk-U4BEC2ZK.js";import{a as Xe}from"./chunk-6HLHLE5M.js";import{a as Ye}from"./chunk-7TRY5TQG.js";import{c as Tt,d as ze,e as Ke,g as Je}from"./chunk-YHSF2XUI.js";import{a as Nt}from"./chunk-KWA2HTMY.js";import{a as fa}from"./chunk-UDBRWCYA.js";import{j as Hn,k as qn,l as jn}from"./chunk-3PVCIPYY.js";import{a as pa}from"./chunk-CGZ424HP.js";import{a as Gt,b as ma}from"./chunk-LIZD6OP7.js";import{a as Ft}from"./chunk-ATFEX26Q.js";import{a as Ie}from"./chunk-S6BNT4FD.js";import{b as ua}from"./chunk-RAVIGHCK.js";import{a as fi}from"./chunk-PMGHQNMR.js";import"./chunk-PLT3ACPM.js";import{a as Vi}from"./chunk-H6DW37XN.js";import{a as Qe}from"./chunk-7QJLAZPS.js";import{a as se}from"./chunk-KORXZKZF.js";import{a as j,d as le}from"./chunk-6L3ZRIGV.js";import{b as ki,e as yt,f as G}from"./chunk-U74YFIVM.js";import{$ as Wn,$a as ea,$b as k,A as si,Aa as Vn,Ab as Fn,Ba as Bn,Bb as Nn,Cb as ia,D as Oo,Db as ft,E as Ho,Eb as gt,Fb as _t,G as qo,Gb as Mt,Hb as ht,Ib as St,J as ee,Jb as bt,K as Me,Kb as Ct,L as he,Lb as It,Ma as $o,Mb as vt,Na as be,O as jo,Oa as Ce,P as Uo,Pa as je,Pc as We,R as di,Sb as na,Sc as Le,Tb as oa,Ub as aa,Uc as O,Vb as ra,W as Rn,Wb as la,Wc as Dt,X as Se,Xb as sa,Xc as ca,_ as Pn,_b as B,aa as ci,ab as re,ba as pi,bb as ta,cb as F,d as ko,da as Re,f as Vo,g as Bo,hb as ct,i as Go,ib as pt,j as Fo,k as No,ka as Qo,la as zo,lb as Ue,lc as On,m as Bt,ma as Ko,mc as da,n as $,na as Jo,oa as Yo,pa as Xo,q as J,qa as Zo,r as pe,rb as Pe,t as me,tb as mt,u as ri,ub as ut,v as ue,w as fe,x as li,xa as Ln,xb as Gn,ya as kn,yb as mi,zb as ui}from"./chunk-P44NQL2W.js";import{Ab as c,Bb as ii,Bd as go,Ca as ye,Cb as ni,Cd as rt,Do as _n,Eb as ne,Eo as qt,F as Zt,Fa as o,Fb as oe,Fd as Pi,Fo as Ae,Gb as ae,Gd as N,Go as $e,Ha as Pt,Ho as et,I as $t,If as Ao,Io as tt,Jo as Mo,Kb as R,Kc as Te,Kd as H,Ko as Wi,Kr as Z,Lb as Ht,Ld as Y,Mb as K,Mo as Lo,No as Li,Oa as I,Od as He,Oo as ai,P as ei,Pb as d,Pg as Po,Po as lt,Q as ti,Qb as A,Qc as nt,Qd as _o,Qo as st,Rb as g,Ro as Vt,Sa as L,Sb as oi,Sc as ot,So as dt,Ta as wn,Td as qe,To as An,Vb as w,Wa as Q,Wb as E,Xb as x,Xd as q,Y as Tn,Ya as W,Yb as P,Zb as Ne,Zc as Do,Zd as wo,_d as kt,_e as xo,ac as ve,bc as it,da as u,db as Wt,ea as f,fb as b,fc as M,gb as C,gc as h,hc as Lt,ib as Be,id as yo,jb as Ge,jg as Ro,kb as Fe,lb as m,mb as a,nb as l,ne as Eo,ob as S,p as Yt,q as Xt,qe as z,sa as vo,sb as y,tb as T,td as at,ub as Ee,ud as To,ue as En,vb as D,vd as Oe,xc as V,yb as v,yo as Wo,ze as xn}from"./chunk-ITLFVMVX.js";import{i as ie}from"./chunk-SEDBTTTN.js";var La=["vform"];function ka(n,r){if(n&1){let e=D();a(0,"app-cms-enum-record-status-selector",23),x("modelChange",function(t){u(e);let s=c();return E(s.dataModel.recordStatus,t)||(s.dataModel.recordStatus=t),f(t)}),l()}if(n&2){let e=c();w("model",e.dataModel.recordStatus),m("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Va(n,r){n&1&&S(0,"i",26)}function Ba(n,r){n&1&&S(0,"i",27)}function Ga(n,r){if(n&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),M(4,"translate"),l()()),n&2){let e=c(2);o(),g(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," is "),o(2),A(h(4,2,"MESSAGE.required"))}}function Fa(n,r){if(n&1){let e=D();a(0,"div",17)(1,"label",24),d(2),l(),a(3,"input",25,2),x("ngModelChange",function(t){u(e);let s=c();return E(s.dataModel.title,t)||(s.dataModel.title=t),f(t)}),l(),b(5,Va,1,0,"i",26),b(6,Ba,1,0,"i",27),a(7,"em"),d(8),l(),b(9,Ga,5,4,"mat-error"),l()}if(n&2){let e=R(4),i=c();o(2),A(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(),m("placeholder",P(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle)),w("ngModel",i.dataModel.title),m("disabled",!(i.fieldsInfo.title!=null&&i.fieldsInfo.title.accessAddField)),o(2),C(e.value?-1:5),o(),C(e.value?6:-1),o(2),g("",e.value.length," / 100"),o(),C(e.errors!=null&&e.errors.required?9:-1)}}function Na(n,r){if(n&1){let e=D();a(0,"div",17)(1,"label",28),d(2),l(),a(3,"input",29,3),x("ngModelChange",function(t){u(e);let s=c();return E(s.dataModel.linkPageId,t)||(s.dataModel.linkPageId=t),f(t)}),l(),a(5,"em"),d(6),l()()}if(n&2){let e=R(4),i=c();o(2),A(i.fieldsInfo.linkPageId==null?null:i.fieldsInfo.linkPageId.fieldTitle),o(),w("ngModel",i.dataModel.linkPageId),m("disabled",!(i.fieldsInfo.linkPageId!=null&&i.fieldsInfo.linkPageId.accessAddField)),o(3),g("",e.value.length," / 100")}}function Oa(n,r){if(n&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),M(4,"translate"),l()()),n&2){let e=c(2);o(),g(" ",e.fieldsInfo.priority==null?null:e.fieldsInfo.priority.fieldTitle," is "),o(2),A(h(4,2,"MESSAGE.required"))}}function Ha(n,r){if(n&1){let e=D();a(0,"div",17)(1,"label",30),d(2),l(),a(3,"input",31,4),M(5,"translate"),x("ngModelChange",function(t){u(e);let s=c();return E(s.dataModel.priority,t)||(s.dataModel.priority=t),f(t)}),l(),b(6,Oa,5,4,"mat-error"),l()}if(n&2){let e=R(4),i=c();o(2),A(i.fieldsInfo.priority==null?null:i.fieldsInfo.priority.fieldTitle),o(),m("placeholder",P(h(5,6,"TITLE.priority"))),w("ngModel",i.dataModel.priority),m("disabled",!(i.fieldsInfo.priority!=null&&i.fieldsInfo.priority.accessAddField)),o(3),C(e.errors!=null&&e.errors.required?6:-1)}}function qa(n,r){n&1&&S(0,"i",26)}function ja(n,r){n&1&&S(0,"i",27)}function Ua(n,r){if(n&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),M(4,"translate"),l()()),n&2){let e=c(2);o(),g(" ",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle," is "),o(2),A(h(4,2,"MESSAGE.required"))}}function Qa(n,r){if(n&1){let e=D();a(0,"div",17)(1,"label",32),d(2),M(3,"translate"),l(),a(4,"textarea",33,5),x("ngModelChange",function(t){u(e);let s=c();return E(s.dataModel.description,t)||(s.dataModel.description=t),f(t)}),d(6,"                    "),l(),a(7,"em"),d(8),l(),b(9,qa,1,0,"i",26),b(10,ja,1,0,"i",27),b(11,Ua,5,4,"mat-error"),l()}if(n&2){let e=R(5),i=c();o(2),A(h(3,9,"TITLE.General_Description")),o(2),m("placeholder",P(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle)),w("ngModel",i.dataModel.description),m("disabled",!(i.fieldsInfo.description!=null&&i.fieldsInfo.description.accessAddField)),o(4),g("",e.value.length," / 100"),o(),C(e.value?-1:9),o(),C(e.value?10:-1),o(),C(e.errors!=null&&e.errors.required?11:-1)}}function za(n,r){if(n&1){let e=D();a(0,"div",18)(1,"button",34),v("click",function(){u(e);let t=c();return f(t.onActionBackToParent())}),d(2),M(3,"translate"),l(),a(4,"button",35),d(5),M(6,"translate"),l()()}if(n&2){c();let e=R(10);o(2),g(" ",h(3,3,"ACTION.BACK")," "),o(2),m("disabled",!e.form.valid),o(),g(" ",h(6,5,"ACTION.NEXT")," ")}}function Ka(n,r){if(n&1&&(S(0,"img",22),M(1,"cmsthumbnail")),n&2){let e=c();m("src",P(h(1,2,e.dataModel.linkMainImageIdSrc)),ye)}}function Ja(n,r){if(n&1){let e=D();a(0,"div",17)(1,"label",36),v("click",function(){u(e);let t=c();return f(t.fileManagerOpenForm=!0)}),d(2),M(3,"translate"),l(),a(4,"input",37,6),M(6,"translate"),x("ngModelChange",function(t){u(e);let s=c();return E(s.dataModel.linkMainImageId,t)||(s.dataModel.linkMainImageId=t),f(t)}),v("click",function(){u(e);let t=c();return f(t.fileManagerOpenForm=!0)}),l(),a(7,"cms-file-manager",38),v("itemSelected",function(t){u(e);let s=c();return f(s.onActionFileSelectedLinkMainImageId(t))}),x("openFormChange",function(t){u(e);let s=c();return E(s.fileManagerOpenForm,t)||(s.fileManagerOpenForm=t),f(t)}),l()()}if(n&2){let e=c();o(2),A(h(3,12,"TITLE.Icon_File")),o(2),m("placeholder",P(h(6,14,"TITLE.Original_File_ID"))),w("ngModel",e.dataModel.linkMainImageId),o(3),m("language",e.appLanguage)("isPopup",!0),w("openForm",e.fileManagerOpenForm),m("tree",e.fileManagerTree)("openDirectUploadView",!0)("openFilemanagerButtonLabelKey","select")("selectFileType",e.selectFileTypeMainImage)("openFilemanagerButtonView",!1)}}function Ya(n,r){if(n&1&&(S(0,"img",22),M(1,"cmsthumbnail")),n&2){let e=c();m("src",P(h(1,2,e.dataModel.linkMainVideoIdSrc)),ye)}}function Xa(n,r){if(n&1){let e=D();a(0,"div",17)(1,"label",39),v("click",function(){u(e);let t=c();return f(t.fileManagerOpenFormVideo=!0)}),d(2),l(),a(3,"input",40,7),M(5,"translate"),x("ngModelChange",function(t){u(e);let s=c();return E(s.dataModel.linkMainVideoId,t)||(s.dataModel.linkMainVideoId=t),f(t)}),v("click",function(){u(e);let t=c();return f(t.fileManagerOpenFormVideo=!0)}),l(),a(6,"cms-file-manager",38),v("itemSelected",function(t){u(e);let s=c();return f(s.onActionFileSelectedLinkMainVideoId(t))}),x("openFormChange",function(t){u(e);let s=c();return E(s.fileManagerOpenFormVideo,t)||(s.fileManagerOpenFormVideo=t),f(t)}),l()()}if(n&2){let e=c();o(2),A(e.fieldsInfo.linkMainVideoId==null?null:e.fieldsInfo.linkMainVideoId.fieldTitle),o(),m("placeholder",P(h(5,13,"TITLE.Original_File_ID"))),w("ngModel",e.dataModel.linkMainVideoId),m("disabled",!(e.fieldsInfo.linkMainVideoId!=null&&e.fieldsInfo.linkMainVideoId.accessAddField)),o(3),m("language",e.appLanguage)("isPopup",!0),w("openForm",e.fileManagerOpenFormVideo),m("tree",e.fileManagerTree)("openDirectUploadView",!0)("openFilemanagerButtonLabelKey","select")("selectFileType",e.selectFileTypeMainVideo)("openFilemanagerButtonView",!1)}}function Za(n,r){if(n&1&&(a(0,"div",18)(1,"button",41),d(2),M(3,"translate"),l(),a(4,"button",42),d(5),M(6,"translate"),l()()),n&2){c();let e=R(10);o(2),g(" ",h(3,3,"ACTION.BEFOR")," "),o(2),m("disabled",!e.form.valid),o(),g(" ",h(6,5,"ACTION.SAVE")," ")}}var Gi=class Gi extends Ft{constructor(e,i,t,s,_,p,U,X){super(s,new qt,i,X);this.activatedRoute=e;this.publicHelper=i;this.coreEnumService=t;this.webDesignerMainIntroService=s;this.cmsToastrService=_;this.router=p;this.cdr=U;this.translate=X;this.requestLinkPageId="";this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.formInfo=new le;this.dataModel=new qt;this.dataModelResult=new N;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.selectFileTypeMainVideo=["mp4"];this.fileManagerOpenForm=!1;this.fileManagerOpenFormVideo=!1;this.appLanguage="fa";this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.activatedRoute.snapshot.paramMap.get("LinkPageId")&&(this.requestLinkPageId=this.activatedRoute.snapshot.paramMap.get("LinkPageId")),this.requestLinkPageId.length>0&&(this.dataModel.linkPageId=this.requestLinkPageId),this.DataGetAccess()}onFormSubmit(){if(!this.formGroup.valid){this.cmsToastrService.typeErrorFormInvalid();return}this.DataAddContent()}DataAddContent(){this.formInfo.submitButtonEnabled=!1,this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.webDesignerMainIntroService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!i.isSuccess,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.cmsToastrService.typeSuccessEdit(),setTimeout(()=>this.router.navigate(["/webdesigner/intro/"]),1e3)):this.cmsToastrService.typeErrorEdit(i.errorMessage),this.publicHelper.processService.processStop(e)},error:i=>{this.publicHelper.processService.processStop(e),this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeErrorEdit(i)}})}onStepClick(e,i){e.previouslySelectedIndex<e.selectedIndex}onActionBackToParent(){this.router.navigate(["/webdesigner/intro/"])}onActionFileSelectedLinkMainImageId(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}onActionFileSelectedLinkMainVideoId(e){this.dataModel.linkMainVideoId=e.id,this.dataModel.linkMainVideoIdSrc=e.downloadLinksrc}};Gi.\u0275fac=function(i){return new(i||Gi)(I(at),I(G),I(z),I(ai),I(O),I(Oe),I(V),I(B))},Gi.\u0275cmp=L({type:Gi,selectors:[["app-webdesigner-intro-add"]],viewQuery:function(i,t){if(i&1&&ne(La,5),i&2){let s;oe(s=ae())&&(t.formGroup=s.first)}},standalone:!1,features:[Q],decls:35,vars:32,consts:[["vform","ngForm"],["stepper",""],["Title",""],["LinkPageId",""],["Priority",""],["Description",""],["LinkMainImageId",""],["LinkMainVideoId",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"selectionChange"],["state","main",3,"label"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],[1,"form-actions"],["state","file",3,"label"],[1,"mb-3"],["target","_blank",3,"href"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.linkPageId",1,"color-highlight"],["matInput","","type","text","name","dataModel.linkPageId","placeholder","Page Id","minlength","3","maxlength","100","id","dataModel.linkPageId",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.priority",1,"color-highlight"],["matInput","","type","number","name","dataModel.priority","id","dataModel.priority",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","3","maxlength","100","rows","10","required","","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],["type","button","matStepperNext","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue",3,"disabled"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openDirectUploadView","openFilemanagerButtonLabelKey","selectFileType","openFilemanagerButtonView"],["for","dataModel.linkMainVideoId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainVideoId","autocomplete","off","id","dataModel.linkMainVideoId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder","disabled"],["type","button","matStepperPrevious","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"]],template:function(i,t){if(i&1){let s=D();a(0,"div",8),S(1,"app-progress-spinner",9),a(2,"div",10)(3,"p",11),d(4),l(),a(5,"p"),d(6),M(7,"translate"),l(),S(8,"app-cms-form-result-message",12),a(9,"form",13,0),v("ngSubmit",function(){return u(s),f(t.onFormSubmit())}),a(11,"mat-horizontal-stepper",14,1),v("selectionChange",function(p){u(s);let U=R(12);return f(t.onStepClick(p,U))}),a(13,"mat-step",15),M(14,"translate"),b(15,ka,1,5,"app-cms-enum-record-status-selector",16),b(16,Fa,10,9,"div",17),b(17,Na,7,4,"div",17),b(18,Ha,7,8,"div",17),b(19,Qa,12,11,"div",17),b(20,za,7,7,"div",18),l(),a(21,"mat-step",19),M(22,"translate"),a(23,"p"),d(24),M(25,"translate"),l(),a(26,"div",20)(27,"a",21),M(28,"cmsthumbnail"),b(29,Ka,2,4,"img",22),l()(),b(30,Ja,8,16,"div",17),a(31,"div",20),b(32,Ya,2,4,"img",22),l(),b(33,Xa,7,15,"div",17),b(34,Za,7,7,"div",18),l()()()()()}i&2&&(o(),m("optionsInfoAreaId",t.constructorInfoAreaId),o(3),g(" ",t.formInfo.formTitle," "),o(2),g(" ",h(7,22,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),m("formInfo",t.formInfo),o(5),m("label",P(h(14,24,"TITLE.REQUIRED_INFORMATION"))),o(2),C(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?15:-1),o(),C(t.fieldsInfo.title!=null&&t.fieldsInfo.title.accessWatchField?16:-1),o(),C(t.fieldsInfo.linkPageId!=null&&t.fieldsInfo.linkPageId.accessWatchField?17:-1),o(),C(t.fieldsInfo.priority!=null&&t.fieldsInfo.priority.accessWatchField?18:-1),o(),C(t.fieldsInfo.description!=null&&t.fieldsInfo.description.accessWatchField?19:-1),o(),C(t.formInfo.submitButtonEnabled?20:-1),o(),m("label",P(h(22,26,"TITLE.ATTACH_FILES"))),o(3),A(h(25,28,"TITLE.Photos_And_Application_Files")),o(3),m("href",P(h(28,30,t.dataModel.linkMainImageIdSrc)),ye),o(2),C((t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0?29:-1),o(),C(t.fieldsInfo.linkMainImageId!=null&&t.fieldsInfo.linkMainImageId.accessWatchField?30:-1),o(2),C((t.dataModel==null||t.dataModel.linkMainVideoIdSrc==null?null:t.dataModel.linkMainVideoIdSrc.length)>0?32:-1),o(),C(t.fieldsInfo.linkMainVideoId!=null&&t.fieldsInfo.linkMainVideoId.accessWatchField?33:-1),o(),C(t.formInfo.submitButtonEnabled?34:-1))},dependencies:[fe,$,li,J,pe,ee,Me,he,ue,me,Se,F,mi,ui,Fn,Nn,Ie,j,se,fi,On,k,Gt],encapsulation:2});var Mn=Gi;var $a=["vform"];function er(n,r){if(n&1){let e=D();a(0,"app-cms-enum-record-status-selector",23),x("modelChange",function(t){u(e);let s=c();return E(s.dataModel.recordStatus,t)||(s.dataModel.recordStatus=t),f(t)}),l()}if(n&2){let e=c();w("model",e.dataModel.recordStatus),m("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function tr(n,r){n&1&&S(0,"i",26)}function ir(n,r){n&1&&S(0,"i",27)}function nr(n,r){if(n&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),M(4,"translate"),l()()),n&2){let e=c(2);o(),g(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," is "),o(2),A(h(4,2,"MESSAGE.required"))}}function or(n,r){if(n&1){let e=D();a(0,"div",17)(1,"label",24),d(2),l(),a(3,"input",25,2),x("ngModelChange",function(t){u(e);let s=c();return E(s.dataModel.title,t)||(s.dataModel.title=t),f(t)}),l(),b(5,tr,1,0,"i",26),b(6,ir,1,0,"i",27),a(7,"em"),d(8),l(),b(9,nr,5,4,"mat-error"),l()}if(n&2){let e=R(4),i=c();o(2),A(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(),m("placeholder",P(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle)),w("ngModel",i.dataModel.title),m("disabled",!(i.fieldsInfo.title!=null&&i.fieldsInfo.title.accessEditField)),o(2),C(e.value?-1:5),o(),C(e.value?6:-1),o(2),g("",e.value.length," / 100"),o(),C(e.errors!=null&&e.errors.required?9:-1)}}function ar(n,r){if(n&1){let e=D();a(0,"div",17)(1,"label",28),d(2),l(),a(3,"input",29,3),x("ngModelChange",function(t){u(e);let s=c();return E(s.dataModel.linkPageId,t)||(s.dataModel.linkPageId=t),f(t)}),l(),a(5,"em"),d(6),l()()}if(n&2){let e=R(4),i=c();o(2),A(i.fieldsInfo.linkPageId==null?null:i.fieldsInfo.linkPageId.fieldTitle),o(),w("ngModel",i.dataModel.linkPageId),m("disabled",!(i.fieldsInfo.linkPageId!=null&&i.fieldsInfo.linkPageId.accessEditField)),o(3),g("",e.value.length," / 100")}}function rr(n,r){if(n&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),M(4,"translate"),l()()),n&2){let e=c(2);o(),g(" ",e.fieldsInfo.priority==null?null:e.fieldsInfo.priority.fieldTitle," is "),o(2),A(h(4,2,"MESSAGE.required"))}}function lr(n,r){if(n&1){let e=D();a(0,"div",17)(1,"label",30),d(2),l(),a(3,"input",31,4),M(5,"translate"),x("ngModelChange",function(t){u(e);let s=c();return E(s.dataModel.priority,t)||(s.dataModel.priority=t),f(t)}),l(),b(6,rr,5,4,"mat-error"),l()}if(n&2){let e=R(4),i=c();o(2),A(i.fieldsInfo.priority==null?null:i.fieldsInfo.priority.fieldTitle),o(),m("placeholder",P(h(5,6,"TITLE.priority"))),w("ngModel",i.dataModel.priority),m("disabled",!(i.fieldsInfo.priority!=null&&i.fieldsInfo.priority.accessEditField)),o(3),C(e.errors!=null&&e.errors.required?6:-1)}}function sr(n,r){n&1&&S(0,"i",26)}function dr(n,r){n&1&&S(0,"i",27)}function cr(n,r){if(n&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),M(4,"translate"),l()()),n&2){let e=c(2);o(),g(" ",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle," is "),o(2),A(h(4,2,"MESSAGE.required"))}}function pr(n,r){if(n&1){let e=D();a(0,"div",17)(1,"label",32),d(2),M(3,"translate"),l(),a(4,"textarea",33,5),x("ngModelChange",function(t){u(e);let s=c();return E(s.dataModel.description,t)||(s.dataModel.description=t),f(t)}),d(6,"                    "),l(),a(7,"em"),d(8),l(),b(9,sr,1,0,"i",26),b(10,dr,1,0,"i",27),b(11,cr,5,4,"mat-error"),l()}if(n&2){let e=R(5),i=c();o(2),A(h(3,9,"TITLE.General_Description")),o(2),m("placeholder",P(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle)),w("ngModel",i.dataModel.description),m("disabled",!(i.fieldsInfo.description!=null&&i.fieldsInfo.description.accessEditField)),o(4),g("",e.value.length," / 100"),o(),C(e.value?-1:9),o(),C(e.value?10:-1),o(),C(e.errors!=null&&e.errors.required?11:-1)}}function mr(n,r){if(n&1){let e=D();a(0,"div",18)(1,"button",34),v("click",function(){u(e);let t=c();return f(t.onActionBackToParent())}),d(2),M(3,"translate"),l(),a(4,"button",35),d(5),M(6,"translate"),l()()}if(n&2){c();let e=R(10);o(2),g(" ",h(3,3,"ACTION.BACK")," "),o(2),m("disabled",!e.form.valid),o(),g(" ",h(6,5,"ACTION.NEXT")," ")}}function ur(n,r){if(n&1&&(S(0,"img",22),M(1,"cmsthumbnail")),n&2){let e=c();m("src",P(h(1,2,e.dataModel.linkMainImageIdSrc)),ye)}}function fr(n,r){if(n&1){let e=D();a(0,"div",17)(1,"label",36),v("click",function(){u(e);let t=c();return f(t.fileManagerOpenForm=!0)}),d(2),l(),a(3,"input",37,6),M(5,"translate"),x("ngModelChange",function(t){u(e);let s=c();return E(s.dataModel.linkMainImageId,t)||(s.dataModel.linkMainImageId=t),f(t)}),v("click",function(){u(e);let t=c();return f(t.fileManagerOpenForm=!0)}),l(),a(6,"cms-file-manager",38),v("itemSelected",function(t){u(e);let s=c();return f(s.onActionFileSelectedLinkMainImageId(t))}),x("openFormChange",function(t){u(e);let s=c();return E(s.fileManagerOpenForm,t)||(s.fileManagerOpenForm=t),f(t)}),l()()}if(n&2){let e=c();o(2),A(e.fieldsInfo.linkMainImageId==null?null:e.fieldsInfo.linkMainImageId.fieldTitle),o(),m("placeholder",P(h(5,12,"TITLE.Original_File_ID"))),w("ngModel",e.dataModel.linkMainImageId),o(3),m("language",e.appLanguage)("isPopup",!0),w("openForm",e.fileManagerOpenForm),m("tree",e.fileManagerTree)("openDirectUploadView",!0)("openFilemanagerButtonLabelKey","select")("selectFileType",e.selectFileTypeMainImage)("openFilemanagerButtonView",!1)}}function gr(n,r){if(n&1&&(S(0,"img",22),M(1,"cmsthumbnail")),n&2){let e=c();m("src",P(h(1,2,e.dataModel.linkMainVideoIdSrc)),ye)}}function _r(n,r){if(n&1){let e=D();a(0,"div",17)(1,"label",39),v("click",function(){u(e);let t=c();return f(t.fileManagerOpenFormVideo=!0)}),d(2),l(),a(3,"input",40,7),M(5,"translate"),x("ngModelChange",function(t){u(e);let s=c();return E(s.dataModel.linkMainVideoId,t)||(s.dataModel.linkMainVideoId=t),f(t)}),v("click",function(){u(e);let t=c();return f(t.fileManagerOpenFormVideo=!0)}),l(),a(6,"cms-file-manager",38),v("itemSelected",function(t){u(e);let s=c();return f(s.onActionFileSelectedLinkMainVideoId(t))}),x("openFormChange",function(t){u(e);let s=c();return E(s.fileManagerOpenFormVideo,t)||(s.fileManagerOpenFormVideo=t),f(t)}),l()()}if(n&2){let e=c();o(2),A(e.fieldsInfo.linkMainVideoId==null?null:e.fieldsInfo.linkMainVideoId.fieldTitle),o(),m("placeholder",P(h(5,13,"TITLE.Original_File_ID"))),w("ngModel",e.dataModel.linkMainVideoId),m("disabled",!(e.fieldsInfo.linkMainVideoId!=null&&e.fieldsInfo.linkMainVideoId.accessAddField)),o(3),m("language",e.appLanguage)("isPopup",!0),w("openForm",e.fileManagerOpenFormVideo),m("tree",e.fileManagerTree)("openDirectUploadView",!0)("openFilemanagerButtonLabelKey","select")("selectFileType",e.selectFileTypeMainVideo)("openFilemanagerButtonView",!1)}}function Mr(n,r){if(n&1&&(a(0,"div",18)(1,"button",41),d(2),M(3,"translate"),l(),a(4,"button",42),d(5),M(6,"translate"),l()()),n&2){c();let e=R(10);o(2),g(" ",h(3,3,"ACTION.BEFOR")," "),o(2),m("disabled",!e.form.valid),o(),g(" ",h(6,5,"ACTION.SAVE")," ")}}var Fi=class Fi extends Nt{constructor(e,i,t,s,_,p,U,X){super(s,new qt,i,X);this.activatedRoute=e;this.publicHelper=i;this.coreEnumService=t;this.webDesignerMainIntroService=s;this.cmsToastrService=_;this.router=p;this.cdr=U;this.translate=X;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.formInfo=new le;this.dataModel=new qt;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.selectFileTypeMainVideo=["mp4"];this.fileManagerOpenForm=!1;this.fileManagerOpenFormVideo=!1;this.appLanguage="fa";this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),this.activatedRoute.snapshot.paramMap.get("id")&&(this.requestId=this.activatedRoute.snapshot.paramMap.get("id"))}ngOnInit(){if(this.requestId.length===0){this.cmsToastrService.typeErrorAddRowParentIsNull();return}this.DataGetOne(this.requestId)}onFormSubmit(){if(!this.formGroup.valid){this.cmsToastrService.typeErrorFormInvalid();return}this.DataEditContent()}DataGetOne(e){this.formInfo.submitButtonEnabled=!1,this.translate.get("MESSAGE.get_information_from_the_server").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage="";let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructorInfoAreaId)}),this.webDesignerMainIntroService.setAccessLoad(),this.webDesignerMainIntroService.setAccessDataType(kt.Editor),this.webDesignerMainIntroService.ServiceGetOneById(e).subscribe({next:t=>{this.dataAccessModel=t.access,this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.publicHelper.processService.processStop(i),this.dataModelResult=t,this.formInfo.submitButtonEnabled=!0,t.isSuccess?this.dataModel=t.item:this.cmsToastrService.typeErrorGetOne(t.errorMessage)},error:t=>{this.publicHelper.processService.processStop(i),this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeErrorGetOne(t)}})}DataEditContent(){this.formInfo.submitButtonEnabled=!1,this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.webDesignerMainIntroService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!i.isSuccess,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.cmsToastrService.typeSuccessEdit(),setTimeout(()=>this.router.navigate(["/webdesigner/intro/"]),1e3)):this.cmsToastrService.typeErrorEdit(i.errorMessage),this.publicHelper.processService.processStop(e)},error:i=>{this.publicHelper.processService.processStop(e),this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeErrorEdit(i)}})}onStepClick(e,i){e.previouslySelectedIndex<e.selectedIndex}onActionBackToParent(){this.router.navigate(["/webdesigner/intro/"])}onActionFileSelectedLinkMainImageId(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}onActionFileSelectedLinkMainVideoId(e){this.dataModel.linkMainVideoId=e.id,this.dataModel.linkMainVideoIdSrc=e.downloadLinksrc}};Fi.\u0275fac=function(i){return new(i||Fi)(I(at),I(G),I(z),I(ai),I(O),I(Oe),I(V),I(B))},Fi.\u0275cmp=L({type:Fi,selectors:[["app-webdesigner-intro-edit"]],viewQuery:function(i,t){if(i&1&&ne($a,5),i&2){let s;oe(s=ae())&&(t.formGroup=s.first)}},standalone:!1,features:[Q],decls:35,vars:32,consts:[["vform","ngForm"],["stepper",""],["Title",""],["LinkPageId",""],["Priority",""],["Description",""],["LinkMainImageId",""],["LinkMainVideoId",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"selectionChange"],["state","main",3,"label"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],[1,"form-actions"],["state","file",3,"label"],[1,"mb-3"],["target","_blank",3,"href"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.linkPageId",1,"color-highlight"],["matInput","","type","text","name","dataModel.linkPageId","placeholder","Page Id","minlength","3","maxlength","100","id","dataModel.linkPageId",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.priority",1,"color-highlight"],["matInput","","type","number","name","dataModel.priority","id","dataModel.priority",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","3","maxlength","100","rows","10","required","","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],["type","button","matStepperNext","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue",3,"disabled"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openDirectUploadView","openFilemanagerButtonLabelKey","selectFileType","openFilemanagerButtonView"],["for","dataModel.linkMainVideoId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainVideoId","autocomplete","off","id","dataModel.linkMainVideoId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder","disabled"],["type","button","matStepperPrevious","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"]],template:function(i,t){if(i&1){let s=D();a(0,"div",8),S(1,"app-progress-spinner",9),a(2,"div",10)(3,"p",11),d(4),l(),a(5,"p"),d(6),M(7,"translate"),l(),S(8,"app-cms-form-result-message",12),a(9,"form",13,0),v("ngSubmit",function(){return u(s),f(t.onFormSubmit())}),a(11,"mat-horizontal-stepper",14,1),v("selectionChange",function(p){u(s);let U=R(12);return f(t.onStepClick(p,U))}),a(13,"mat-step",15),M(14,"translate"),b(15,er,1,5,"app-cms-enum-record-status-selector",16),b(16,or,10,9,"div",17),b(17,ar,7,4,"div",17),b(18,lr,7,8,"div",17),b(19,pr,12,11,"div",17),b(20,mr,7,7,"div",18),l(),a(21,"mat-step",19),M(22,"translate"),a(23,"p"),d(24),M(25,"translate"),l(),a(26,"div",20)(27,"a",21),M(28,"cmsthumbnail"),b(29,ur,2,4,"img",22),l()(),b(30,fr,7,14,"div",17),a(31,"div",20),b(32,gr,2,4,"img",22),l(),b(33,_r,7,15,"div",17),b(34,Mr,7,7,"div",18),l()()()()()}i&2&&(o(),m("optionsInfoAreaId",t.constructorInfoAreaId),o(3),g(" ",t.formInfo.formTitle," "),o(2),g(" ",h(7,22,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),m("formInfo",t.formInfo),o(5),m("label",P(h(14,24,"TITLE.REQUIRED_INFORMATION"))),o(2),C(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?15:-1),o(),C(t.fieldsInfo.title!=null&&t.fieldsInfo.title.accessWatchField?16:-1),o(),C(t.fieldsInfo.linkPageId!=null&&t.fieldsInfo.linkPageId.accessWatchField?17:-1),o(),C(t.fieldsInfo.priority!=null&&t.fieldsInfo.priority.accessWatchField?18:-1),o(),C(t.fieldsInfo.description!=null&&t.fieldsInfo.description.accessWatchField?19:-1),o(),C(t.formInfo.submitButtonEnabled?20:-1),o(),m("label",P(h(22,26,"TITLE.ATTACH_FILES"))),o(3),A(h(25,28,"TITLE.Photos_And_Application_Files")),o(3),m("href",P(h(28,30,t.dataModel.linkMainImageIdSrc)),ye),o(2),C((t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0?29:-1),o(),C(t.fieldsInfo.linkMainImageId!=null&&t.fieldsInfo.linkMainImageId.accessWatchField?30:-1),o(2),C((t.dataModel==null||t.dataModel.linkMainVideoIdSrc==null?null:t.dataModel.linkMainVideoIdSrc.length)>0?32:-1),o(),C(t.fieldsInfo.linkMainVideoId!=null&&t.fieldsInfo.linkMainVideoId.accessWatchField?33:-1),o(),C(t.formInfo.submitButtonEnabled?34:-1))},dependencies:[fe,$,li,J,pe,ee,Me,he,ue,me,Se,F,mi,ui,Fn,Nn,Ie,j,se,fi,On,k,Gt],encapsulation:2});var Xn=Fi;var br=()=>[5,10,20,100],Cr=n=>({display:n});function Ir(n,r){if(n&1){let e=D();a(0,"a",41),v("click",function(){u(e);let t=c();return f(t.onActionBackToParent())}),S(1,"i",42),l()}}function vr(n,r){if(n&1){let e=D();a(0,"div",16)(1,"a",43),v("click",function(){u(e);let t=c();return f(t.onActionButtonNewRow())}),S(2,"i",44)(3,"br"),l(),a(4,"p",45),d(5),M(6,"translate"),l()()}n&2&&(o(5),g(" ",h(6,1,"ACTION.ADD")," "))}function Dr(n,r){if(n&1){let e=D();a(0,"div",16)(1,"a",46),v("click",function(){u(e);let t=c();return f(t.onActionButtonEditRow(t.tableRowSelected))}),S(2,"i",47)(3,"br"),l(),a(4,"p",45),d(5),M(6,"translate"),l()()}n&2&&(o(5),g(" ",h(6,1,"ACTION.EDIT")," "))}function yr(n,r){if(n&1){let e=D();a(0,"div",16)(1,"a",48),v("click",function(){u(e);let t=c();return f(t.onActionButtonDeleteRow(t.tableRowSelected))}),S(2,"i",49)(3,"br"),l(),a(4,"p",45),d(5),M(6,"translate"),l()()}n&2&&(o(5),g(" ",h(6,1,"ACTION.DELETE")," "))}function Tr(n,r){n&1&&(a(0,"mat-header-cell",50),d(1),M(2,"translate"),l()),n&2&&(o(),g(" ",h(2,1,"TITLE.PICTURE")," "))}function wr(n,r){if(n&1&&(S(0,"img",51),M(1,"cmsthumbnail")),n&2){let e=c().$implicit;m("src",P(h(1,2,e.linkMainImageIdSrc)),ye)}}function Er(n,r){if(n&1&&(a(0,"mat-cell"),b(1,wr,2,4,"img",51),l()),n&2){let e=r.$implicit;o(),C((e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0?1:-1)}}function xr(n,r){if(n&1&&(a(0,"mat-header-cell",52),d(1),l()),n&2){let e=c();o(),g(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function Ar(n,r){if(n&1&&(a(0,"mat-cell"),d(1),l()),n&2){let e=r.$implicit;o(),g(" ",e.id," ")}}function Rr(n,r){if(n&1&&(a(0,"mat-header-cell",52),d(1),l()),n&2){let e=c();o(),g(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function Pr(n,r){if(n&1&&(a(0,"mat-cell"),d(1),M(2,"cmssiteinfo"),M(3,"async"),l()),n&2){let e=r.$implicit;o(),g(" ",h(3,3,h(2,1,e.linkSiteId))," ")}}function Wr(n,r){if(n&1&&(a(0,"mat-header-cell",52),d(1),l()),n&2){let e=c();o(),g(" ",e.fieldsInfo.linkPageId==null?null:e.fieldsInfo.linkPageId.fieldTitle," ")}}function Lr(n,r){if(n&1&&(a(0,"mat-cell"),d(1),l()),n&2){let e=r.$implicit;o(),g(" ",e.linkPageId," ")}}function kr(n,r){if(n&1&&(a(0,"mat-header-cell",52),d(1),l()),n&2){let e=c();o(),g(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function Vr(n,r){if(n&1&&S(0,"select",54),n&2){let e=c().$implicit,i=c();m("contentService",i.contentService)("row",e)("ngStyle",it(3,Cr,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function Br(n,r){if(n&1&&(a(0,"mat-cell",53),M(1,"statusCellClass"),S(2,"i",53),M(3,"statusIconClass"),b(4,Vr,1,5,"select",54),l()),n&2){let e=r.$implicit,i=c();m("ngClass",h(1,3,e.recordStatus)),o(2),m("ngClass",h(3,5,e.recordStatus)),o(2),C(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessEditRow?4:-1)}}function Gr(n,r){if(n&1&&(a(0,"mat-header-cell",52),d(1),l()),n&2){let e=c();o(),g(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," ")}}function Fr(n,r){if(n&1&&(a(0,"mat-cell"),d(1),l()),n&2){let e=r.$implicit;o(),g(" ",e.title," ")}}function Nr(n,r){if(n&1&&(a(0,"mat-header-cell",52),d(1),l()),n&2){let e=c();o(),g(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function Or(n,r){if(n&1&&(a(0,"mat-cell"),d(1),M(2,"localeDate"),l()),n&2){let e=r.$implicit;o(),g(" ",h(2,1,e.createdDate)," ")}}function Hr(n,r){if(n&1&&(a(0,"mat-header-cell",52),d(1),l()),n&2){let e=c();o(),g(" ",e.fieldsInfo.updatedDate==null?null:e.fieldsInfo.updatedDate.fieldTitle," ")}}function qr(n,r){if(n&1&&(a(0,"mat-cell"),d(1),M(2,"localeDate"),l()),n&2){let e=r.$implicit;o(),g(" ",h(2,1,e.updatedDate)," ")}}function jr(n,r){n&1&&(a(0,"mat-header-cell"),d(1),M(2,"translate"),l()),n&2&&(o(),g(" ",h(2,1,"TITLE.OPTION")," "))}function Ur(n,r){if(n&1&&(a(0,"mat-cell",55)(1,"button",56)(2,"mat-icon"),d(3,"more_vert"),l()(),S(4,"mat-menu",null,2),l()),n&2){let e=R(5);o(),m("matMenuTriggerFor",e)}}function Qr(n,r){n&1&&S(0,"mat-header-row")}function zr(n,r){if(n&1){let e=D();a(0,"mat-row",57),v("click",function(t){let s=u(e).$implicit,_=c();return f(_.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=u(e).$implicit,_=c();return f(_.onActionTableRowSelect(s,t))}),l()}if(n&2){let e=r.$implicit,i=c();K("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var Ni=class Ni extends Tt{constructor(e,i,t,s,_,p,U,X,Rt,Ci,Kt,Ii){super(e,new qt,Kt,_,X);this.contentService=e;this.activatedRoute=i;this.cmsToastrService=t;this.router=s;this.tokenHelper=_;this.cmsConfirmationDialogService=p;this.cdr=U;this.translate=X;this.cmsStoreService=Rt;this.pageInfo=Ci;this.publicHelper=Kt;this.dialog=Ii;this.requestLinkPageId=0;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new Y;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["linkMainImageIdSrc","id","recordStatus","LinkPageId","createdDate","updatedDate"];this.tabledisplayedColumnsMobileSource=["linkMainImageIdSrc","id","recordStatus","LinkPageId","createdDate","updatedDate"];this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:Jt=>this.onSubmitOptionsSearch(Jt)},this.filteModelContent.sortColumn="id",this.filteModelContent.sortType=q.Descending}ngOnInit(){this.requestLinkPageId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkPageId"));let e=new H;this.requestLinkPageId>0&&(e.propertyName="LinkPageId",e.value=this.requestLinkPageId,this.filteModelContent.filters.push(e)),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(i=>i.tokenInfoStore).subscribe(i=>ie(this,null,function*(){this.tokenInfo=i,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.requestLinkPageId===0&&(this.tabledisplayedColumns=this.publicHelper.listRemoveIfExist(this.tabledisplayedColumns,"LinkPageId")),this.tableRowsSelected=[],this.onActionTableRowSelect(new qt);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),t.isSuccess&&(this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=q.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=q.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=q.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}this.requestLinkPageId>0?this.router.navigate(["/webdesigner/intro/add/",this.requestLinkPageId]):this.router.navigate(["/webdesigner/intro/add/"])}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}this.router.navigate(["/webdesigner/intro/edit/",this.tableRowSelected.id])}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.No_row_selected_for_editing").subscribe(s=>{this.cmsToastrService.typeErrorSelected(s)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(s=>{i=s["MESSAGE.Please_Confirm"],t=s["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(s=>{if(s){let _=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(p=>{this.publicHelper.processService.processStart(_,p,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:p=>{p.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(_)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(_)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(p=>{i.set(p,0)}),this.translate.get("MESSAGE.All").subscribe(p=>{i.set(p,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(p=>{this.publicHelper.processService.processStart(t,p,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:p=>{p.isSuccess&&(i.set("All",p.totalRowCount),this.optionsStatist.childMethods.setStatistValue(i)),this.publicHelper.processService.processStop(t)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(t)}});let s=JSON.parse(JSON.stringify(this.filteModelContent)),_=new H;_.propertyName="recordStatus",_.value=rt.Available,s.filters.push(_),this.contentService.ServiceGetCount(s).subscribe({next:p=>{p.isSuccess&&(i.set("Active",p.totalRowCount),this.optionsStatist.childMethods.setStatistValue(i)),this.publicHelper.processService.processStop(t)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(t)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};Ni.\u0275fac=function(i){return new(i||Ni)(I(ai),I(at),I(O),I(Oe),I(Le),I(Qe),I(V),I(B),I(We),I(yt),I(G),I(je))},Ni.\u0275cmp=L({type:Ni,selectors:[["app-webdesigner-intro-list"]],standalone:!1,features:[Q],decls:63,vars:31,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","linkMainImageIdSrc"],["mat-sort-hea","","der","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","linkSiteId"],["matColumnDef","LinkPageId"],["matColumnDef","recordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","title"],["matColumnDef","createdDate"],["matColumnDef","updatedDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-hea","","der",""],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(i,t){if(i&1){let s=D();a(0,"app-cms-html-list",3),x("optionActionGuideNoticeDisplayChange",function(p){return u(s),E(t.viewGuideNotice,p)||(t.viewGuideNotice=p),f(p)}),v("optionOnActionButtonMemoRow",function(){return u(s),f(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return u(s),f(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return u(s),f(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return u(s),f(t.onActionButtonPrintRow())}),y(1,4),d(2," -------------------------------------- "),T(),Ee(3,5)(4,6),y(5,7),b(6,Ir,2,0,"a",8),a(7,"a",9),v("click",function(){return u(s),f(t.viewGuideNotice=!t.viewGuideNotice)}),S(8,"i",10),l(),a(9,"a",9),v("click",function(){return u(s),f(t.onActionButtonReload())}),S(10,"i",11),l(),T(),y(11,12),a(12,"a",13),v("click",function(){return u(s),f(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),S(13,"mat-slide-toggle",14),d(14),M(15,"translate"),l(),a(16,"a",13),v("click",function(){return u(s),f(t.onActionButtonStatist())}),S(17,"mat-slide-toggle",14),d(18),M(19,"translate"),l(),T(),y(20,15),b(21,vr,7,3,"div",16),T(),y(22,17),b(23,Dr,7,3,"div",16),b(24,yr,7,3,"div",16),T(),y(25,18),a(26,"app-cms-search-list",19),x("optionsChange",function(p){return u(s),E(t.optionsSearch,p)||(t.optionsSearch=p),f(p)}),l(),a(27,"app-cms-statist-list",19),x("optionsChange",function(p){return u(s),E(t.optionsStatist,p)||(t.optionsStatist=p),f(p)}),l(),T(),y(28,20),a(29,"mat-table",21,0),v("matSortChange",function(){u(s);let p=R(30);return f(t.onTableSortData(p))}),y(31,22),W(32,Tr,3,3,"mat-header-cell",23)(33,Er,2,1,"mat-cell",24),T(),y(34,25),W(35,xr,2,1,"mat-header-cell",26)(36,Ar,2,1,"mat-cell",24),T(),y(37,27),W(38,Rr,2,1,"mat-header-cell",26)(39,Pr,4,5,"mat-cell",24),T(),y(40,28),W(41,Wr,2,1,"mat-header-cell",26)(42,Lr,2,1,"mat-cell",24),T(),y(43,29),W(44,kr,2,1,"mat-header-cell",26)(45,Br,5,7,"mat-cell",30),T(),y(46,31),W(47,Gr,2,1,"mat-header-cell",26)(48,Fr,2,1,"mat-cell",24),T(),y(49,32),W(50,Nr,2,1,"mat-header-cell",26)(51,Or,3,3,"mat-cell",24),T(),y(52,33),W(53,Hr,2,1,"mat-header-cell",26)(54,qr,3,3,"mat-cell",24),T(),y(55,34),W(56,jr,3,3,"mat-header-cell",35)(57,Ur,6,1,"mat-cell",36),T(),W(58,Qr,1,0,"mat-header-row",37)(59,zr,1,2,"mat-row",38),l(),T(),y(60,39),a(61,"mat-paginator",40,1),v("page",function(p){return u(s),f(t.onTablePageingData(p))}),l(),T(),l()}i&2&&(m("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),w("optionActionGuideNoticeDisplay",t.viewGuideNotice),m("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.title),o(6),C(t.requestLinkPageId>0?6:-1),o(4),K("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(3),m("checked",t.optionsSearch.data.show),o(),g("",h(15,26,"ACTION.SEARCH")," "),o(3),m("checked",t.optionsStatist.data.show),o(),g("",h(19,28,"ACTION.STATIST")," "),o(3),C(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessAddRow?21:-1),o(2),C(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?23:-1),o(),C(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?24:-1),o(2),w("options",t.optionsSearch),o(),w("options",t.optionsStatist),o(2),m("dataSource",t.tableSource),o(29),m("matHeaderRowDef",t.tabledisplayedColumns),o(),m("matRowDefColumns",t.tabledisplayedColumns),o(2),m("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",ve(30,br)))},dependencies:[Te,nt,Re,re,F,ct,pt,Ue,Pe,mt,ut,ft,_t,bt,Mt,gt,Ct,ht,St,It,vt,ze,Ke,Je,Ye,wt,ot,k,Un,Gt,Qn,Xe,Ot],encapsulation:2});var hn=Ni;var Kr=["vform"];function Jr(n,r){if(n&1){let e=D();a(0,"div",9)(1,"button",10),v("click",function(){u(e);let t=c();return f(t.onFormCancel())}),S(2,"i",11),d(3),M(4,"translate"),l()()}n&2&&(o(3),g(" ",h(4,1,"ACTION.CANCEL")," "))}var zi=class zi{constructor(r,e,i,t,s,_,p,U,X,Rt){this.data=r;this.dialogRef=e;this.coreEnumService=i;this.webDesignerLogMemberInfoService=t;this.cdr=s;this.cmsToastrService=_;this.tokenHelper=p;this.cmsStoreService=U;this.publicHelper=X;this.translate=Rt;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.tokenInfo=new Ro;this.dataModelResult=new N;this.dataModel=new _n;this.formInfo=new le;this.dataModelEnumSendSmsStatusTypeResult=new N;this.fieldsInfo=new Map;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,r&&(this.requestId=r.id+"")}ngOnInit(){if(this.translate.get("TITLE.VIEW").subscribe(r=>{this.formInfo.formTitle=r}),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(r=>r.tokenInfoStore).subscribe(r=>ie(this,null,function*(){this.tokenInfo=r}))),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:r=>{this.dataModelEnumSendSmsStatusTypeResult=r}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(r=>r.unsubscribe())}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage="";let r=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(r,e,this.constructorInfoAreaId)}),this.webDesignerLogMemberInfoService.setAccessLoad(),this.webDesignerLogMemberInfoService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModel=e.item,e.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+e.item.id,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(e.errorMessage)),this.publicHelper.processService.processStop(r)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(r,!1)}})}onActionSelectorLocation(r){if(!r||!r.id||r.id<=0){this.translate.get("MESSAGE.Information_area_deleted").subscribe(e=>{this.cmsToastrService.typeWarningSelected(e)}),this.dataModel.linkLocationId=null;return}this.dataModel.linkLocationId=r.id}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};zi.\u0275fac=function(e){return new(e||zi)(I(Ce),I(be),I(z),I(Li),I(V),I(O),I(Le),I(We),I(G),I(B))},zi.\u0275cmp=L({type:zi,selectors:[["app-webdesigner-logmemberinfo-view"]],viewQuery:function(e,i){if(e&1&&ne(Kr,5),e&2){let t;oe(t=ae())&&(i.formGroup=t.first)}},standalone:!1,decls:15,vars:21,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection","loader-container"],[3,"optionsInfoAreaId"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],[3,"dataModel","optionMethod"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],[1,"ntk-cms-html-card-message"],[3,"formInfo"],[1,"ntk-cms-html-card-footer"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,i){e&1&&(a(0,"div",0),d(1),l(),a(2,"div",1),S(3,"app-progress-spinner",2)(4,"app-cms-site-selector",3),M(5,"translate"),S(6,"app-cms-user-selector",3),M(7,"translate"),S(8,"app-cms-json-list",4),a(9,"app-cms-location-selector",5),M(10,"translate"),v("optionChange",function(s){return i.onActionSelectorLocation(s)}),l()(),a(11,"div",6),S(12,"app-cms-form-result-message",7),l(),a(13,"div",8),b(14,Jr,5,3,"div",9),l()),e&2&&(o(),g(" ",i.formInfo.formTitle," "),o(2),m("optionsInfoAreaId",i.constructorInfoAreaId),o(),m("optionDisabled",!0)("optionSelectForce",i.dataModel.linkSiteId)("optionPlaceholder",h(5,15,"TITLE.SITE")),o(2),m("optionDisabled",!0)("optionSelectForce",i.dataModel.linkUserId)("optionPlaceholder",h(7,17,"TITLE.USER")),o(2),m("dataModel",i.dataModel)("optionMethod",1),o(),m("optionDisabled",!(i.fieldsInfo.linkLocationId!=null&&i.fieldsInfo.linkLocationId.accessEditField))("optionSelectForce",i.dataModel.linkLocationId)("optionPlaceholder",h(10,19,"TITLE.Region")),o(3),m("formInfo",i.formInfo),o(2),C(i.formInfo.submitButtonEnabled?14:-1))},dependencies:[pa,Da,fa,j,ga,se,k],encapsulation:2});var $n=zi;var Yr=()=>[5,10,20,100],Xr=n=>({display:n});function Zr(n,r){if(n&1){let e=D();a(0,"div",16)(1,"a",46),v("click",function(){u(e);let t=c();return f(t.onActionButtonViewRow(t.tableRowSelected))}),S(2,"i",47)(3,"br"),l(),a(4,"p",48),d(5),M(6,"translate"),l()()}n&2&&(o(5),g(" ",h(6,1,"ACTION.VIEW")," "))}function $r(n,r){if(n&1){let e=D();a(0,"div",16)(1,"a",49),v("click",function(){u(e);let t=c();return f(t.onActionButtonDeleteRow(t.tableRowSelected))}),S(2,"i",50)(3,"br"),l(),a(4,"p",48),d(5),M(6,"translate"),l()()}n&2&&(o(5),g(" ",h(6,1,"ACTION.DELETE")," "))}function el(n,r){if(n&1&&(a(0,"mat-header-cell",51),d(1),l()),n&2){let e=c();o(),g(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function tl(n,r){if(n&1&&(a(0,"mat-cell"),d(1),l()),n&2){let e=r.$implicit;o(),g(" ",e.id," ")}}function il(n,r){if(n&1&&(a(0,"mat-header-cell",51),d(1),l()),n&2){let e=c();o(),g(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function nl(n,r){if(n&1&&(a(0,"mat-cell"),d(1),M(2,"cmssiteinfo"),M(3,"async"),l()),n&2){let e=r.$implicit;o(),g(" ",h(3,3,h(2,1,e.linkSiteId))," ")}}function ol(n,r){if(n&1&&(a(0,"mat-header-cell",51),d(1),l()),n&2){let e=c();o(),g(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function al(n,r){if(n&1&&S(0,"select",53),n&2){let e=c().$implicit,i=c();m("contentService",i.contentService)("row",e)("ngStyle",it(3,Xr,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function rl(n,r){if(n&1&&(a(0,"mat-cell",52),M(1,"statusCellClass"),S(2,"i",52),M(3,"statusIconClass"),b(4,al,1,5,"select",53),l()),n&2){let e=r.$implicit,i=c();m("ngClass",h(1,3,e.recordStatus)),o(2),m("ngClass",h(3,5,e.recordStatus)),o(2),C(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessEditRow?4:-1)}}function ll(n,r){if(n&1&&(a(0,"mat-header-cell",51),d(1),l()),n&2){let e=c();o(),g(" ",e.fieldsInfo.linkUserId==null?null:e.fieldsInfo.linkUserId.fieldTitle," ")}}function sl(n,r){if(n&1&&(a(0,"mat-cell"),d(1),M(2,"cmsuserinfo"),M(3,"async"),l()),n&2){let e=r.$implicit;o(),g(" ",h(3,3,h(2,1,e.linkUserId))," ")}}function dl(n,r){if(n&1&&(a(0,"mat-header-cell",51),d(1),l()),n&2){let e=c();o(),g(" ",e.fieldsInfo.linkMemberId==null?null:e.fieldsInfo.linkMemberId.fieldTitle," ")}}function cl(n,r){if(n&1&&(a(0,"mat-cell"),d(1),l()),n&2){let e=r.$implicit;o(),g(" ",e.linkMemberId," ")}}function pl(n,r){if(n&1&&(a(0,"mat-header-cell",51),d(1),l()),n&2){let e=c();o(),g(" ",e.fieldsInfo.linkLocationIdTitle==null?null:e.fieldsInfo.linkLocationIdTitle.fieldTitle," ")}}function ml(n,r){if(n&1&&(a(0,"mat-cell"),d(1),l()),n&2){let e=r.$implicit;o(),g(" ",e.linkLocationIdTitle," ")}}function ul(n,r){if(n&1&&(a(0,"mat-header-cell",51),d(1),l()),n&2){let e=c();o(),g(" ",e.fieldsInfo.linkLocationIdParentTitle==null?null:e.fieldsInfo.linkLocationIdParentTitle.fieldTitle," ")}}function fl(n,r){if(n&1&&(a(0,"mat-cell"),d(1),l()),n&2){let e=r.$implicit;o(),g(" ",e.linkLocationIdParentTitle," ")}}function gl(n,r){if(n&1&&(a(0,"mat-header-cell",51),d(1),l()),n&2){let e=c();o(),g(" ",e.fieldsInfo.deviceStatus==null?null:e.fieldsInfo.deviceStatus.fieldTitle," ")}}function _l(n,r){if(n&1&&(a(0,"mat-cell"),d(1),l()),n&2){let e=r.$implicit;o(),g(" ",e.deviceStatus," ")}}function Ml(n,r){if(n&1&&(a(0,"mat-header-cell",51),d(1),l()),n&2){let e=c();o(),g(" ",e.fieldsInfo.deviceId==null?null:e.fieldsInfo.deviceId.fieldTitle," ")}}function hl(n,r){if(n&1&&(a(0,"mat-cell"),d(1),l()),n&2){let e=r.$implicit;o(),g(" ",e.deviceId," ")}}function Sl(n,r){if(n&1&&(a(0,"mat-header-cell",51),d(1),l()),n&2){let e=c();o(),g(" ",e.fieldsInfo.deviceBrand==null?null:e.fieldsInfo.deviceBrand.fieldTitle," ")}}function bl(n,r){if(n&1&&(a(0,"mat-cell"),d(1),l()),n&2){let e=r.$implicit;o(),g(" ",e.deviceBrand," ")}}function Cl(n,r){if(n&1&&(a(0,"mat-header-cell",51),d(1),l()),n&2){let e=c();o(),g(" ",e.fieldsInfo.simCard==null?null:e.fieldsInfo.simCard.fieldTitle," ")}}function Il(n,r){if(n&1&&(a(0,"mat-cell"),d(1),l()),n&2){let e=r.$implicit;o(),g(" ",e.simCard," ")}}function vl(n,r){if(n&1&&(a(0,"mat-header-cell",51),d(1),l()),n&2){let e=c();o(),g(" ",e.fieldsInfo.appBuildVer==null?null:e.fieldsInfo.appBuildVer.fieldTitle," ")}}function Dl(n,r){if(n&1&&(a(0,"mat-cell"),d(1),l()),n&2){let e=r.$implicit;o(),g(" ",e.appBuildVer," ")}}function yl(n,r){if(n&1&&(a(0,"mat-header-cell",51),d(1),l()),n&2){let e=c();o(),g(" ",e.fieldsInfo.appSourceVer==null?null:e.fieldsInfo.appSourceVer.fieldTitle," ")}}function Tl(n,r){if(n&1&&(a(0,"mat-cell"),d(1),l()),n&2){let e=r.$implicit;o(),g(" ",e.appSourceVer," ")}}function wl(n,r){if(n&1&&(a(0,"mat-header-cell",51),d(1),l()),n&2){let e=c();o(),g(" ",e.fieldsInfo.scorePercent==null?null:e.fieldsInfo.scorePercent.fieldTitle," ")}}function El(n,r){if(n&1&&(a(0,"mat-cell"),d(1),l()),n&2){let e=r.$implicit;o(),g(" ",e.scorePercent," %")}}function xl(n,r){if(n&1&&(a(0,"mat-header-cell",51),d(1),l()),n&2){let e=c();o(),g(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function Al(n,r){if(n&1&&(a(0,"mat-cell"),d(1),M(2,"localeDate"),l()),n&2){let e=r.$implicit;o(),g(" ",h(2,1,e.createdDate)," ")}}function Rl(n,r){n&1&&(a(0,"mat-header-cell"),d(1),M(2,"translate"),l()),n&2&&(o(),g(" ",h(2,1,"TITLE.OPTION")," "))}function Pl(n,r){if(n&1&&(a(0,"mat-cell",54)(1,"button",55)(2,"mat-icon"),d(3,"more_vert"),l()(),S(4,"mat-menu",null,2),l()),n&2){let e=R(5);o(),m("matMenuTriggerFor",e)}}function Wl(n,r){n&1&&S(0,"mat-header-row")}function Ll(n,r){if(n&1){let e=D();a(0,"mat-row",56),v("click",function(t){let s=u(e).$implicit,_=c();return f(_.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=u(e).$implicit,_=c();return f(_.onActionTableRowSelect(s,t))}),l()}if(n&2){let e=r.$implicit,i=c();K("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var Ki=class Ki extends Tt{constructor(e,i,t,s,_,p,U,X,Rt,Ci,Kt,Ii,Jt){super(e,new _n,Ii,Ci,_);this.contentService=e;this.cmsConfirmationDialogService=i;this.activatedRoute=t;this.cdr=s;this.translate=_;this.themeService=p;this.cmsToastrService=U;this.cmsStoreService=X;this.router=Rt;this.tokenHelper=Ci;this.pageInfo=Kt;this.publicHelper=Ii;this.dialog=Jt;this.requestLinkMemberId=0;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new Y;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["id","recordStatus","linkUserId","linkMemberId","DeviceStatus","DeviceId","DeviceBrand","SimCard","AppBuildVer","AppSourceVer","ScorePercent","createdDate"];this.tabledisplayedColumnsMobileSource=["id","recordStatus","linkUserId","linkMemberId","DeviceStatus","DeviceId","DeviceBrand","SimCard","AppBuildVer","AppSourceVer","ScorePercent","createdDate"];this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:gn=>this.onSubmitOptionsSearch(gn)},this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=q.Descending}ngOnInit(){this.requestLinkMemberId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkMemberId"));let e=new H;this.requestLinkMemberId>0&&(e.propertyName="linkMemberId",e.value=this.requestLinkMemberId,this.filteModelContent.filters.push(e)),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(i=>i.tokenInfoStore).subscribe(i=>ie(this,null,function*(){this.tokenInfo=i,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new _n);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),t.isSuccess?(this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=q.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=q.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=q.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonViewRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open($n,{height:"90%",panelClass:i,enterAnimationDuration:Z.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Z.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(s=>{this.cmsToastrService.typeErrorSelected(s)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(s=>{i=s["MESSAGE.Please_Confirm"],t=s["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(s=>{if(s){let _=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(p=>{this.publicHelper.processService.processStart(_,p,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:p=>{p.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(_)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(_,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(p=>{i.set(p,0)}),this.translate.get("MESSAGE.All").subscribe(p=>{i.set(p,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(p=>{this.publicHelper.processService.processStart(t,p,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:p=>{p.isSuccess?(this.translate.get("MESSAGE.All").subscribe(U=>{i.set(U,p.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(p.errorMessage),this.publicHelper.processService.processStop(t)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(t,!1)}});let s=JSON.parse(JSON.stringify(this.filteModelContent)),_=new H;_.propertyName="recordStatus",_.value=rt.Available,s.filters.push(_),this.contentService.ServiceGetCount(s).subscribe({next:p=>{p.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(U=>{i.set(U,p.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(p.errorMessage),this.publicHelper.processService.processStop(t)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/application/app/"])}};Ki.\u0275fac=function(i){return new(i||Ki)(I(Li),I(Qe),I(at),I(V),I(B),I(Dt),I(O),I(We),I(Oe),I(Le),I(yt),I(G),I(je))},Ki.\u0275cmp=L({type:Ki,selectors:[["app-webdesigner-logmemberinfo-list"]],standalone:!1,features:[Q],decls:81,vars:29,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],[1,"col-4"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","linkSiteId"],["matColumnDef","recordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","linkUserId"],["matColumnDef","linkMemberId"],["matColumnDef","LinkLocationIdTitle"],["matColumnDef","LinkLocationIdParentTitle"],["matColumnDef","DeviceStatus"],["matColumnDef","DeviceId"],["matColumnDef","DeviceBrand"],["matColumnDef","SimCard"],["matColumnDef","AppBuildVer"],["matColumnDef","AppSourceVer"],["matColumnDef","ScorePercent"],["matColumnDef","createdDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(i,t){if(i&1){let s=D();a(0,"app-cms-html-list",3),x("optionActionGuideNoticeDisplayChange",function(p){return u(s),E(t.viewGuideNotice,p)||(t.viewGuideNotice=p),f(p)}),v("optionOnActionButtonMemoRow",function(){return u(s),f(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return u(s),f(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return u(s),f(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return u(s),f(t.onActionButtonPrintRow())}),Ee(1,4)(2,5)(3,6),y(4,7),a(5,"a",8),v("click",function(){return u(s),f(t.viewGuideNotice=!t.viewGuideNotice)}),S(6,"i",9),l(),a(7,"a",8),v("click",function(){return u(s),f(t.onActionButtonReload())}),S(8,"i",10),l(),T(),y(9,11),a(10,"a",12),v("click",function(){return u(s),f(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),S(11,"mat-slide-toggle",13),d(12),M(13,"translate"),l(),a(14,"a",12),v("click",function(){return u(s),f(t.onActionButtonStatist())}),S(15,"mat-slide-toggle",13),d(16),M(17,"translate"),l(),T(),Ee(18,14),y(19,15),b(20,Zr,7,3,"div",16),b(21,$r,7,3,"div",16),T(),y(22,17),a(23,"app-cms-search-list",18),x("optionsChange",function(p){return u(s),E(t.optionsSearch,p)||(t.optionsSearch=p),f(p)}),l(),a(24,"app-cms-statist-list",18),x("optionsChange",function(p){return u(s),E(t.optionsStatist,p)||(t.optionsStatist=p),f(p)}),l(),T(),y(25,19),a(26,"mat-table",20,0),v("matSortChange",function(){u(s);let p=R(27);return f(t.onTableSortData(p))}),y(28,21),W(29,el,2,1,"mat-header-cell",22)(30,tl,2,1,"mat-cell",23),T(),y(31,24),W(32,il,2,1,"mat-header-cell",22)(33,nl,4,5,"mat-cell",23),T(),y(34,25),W(35,ol,2,1,"mat-header-cell",22)(36,rl,5,7,"mat-cell",26),T(),y(37,27),W(38,ll,2,1,"mat-header-cell",22)(39,sl,4,5,"mat-cell",23),T(),y(40,28),W(41,dl,2,1,"mat-header-cell",22)(42,cl,2,1,"mat-cell",23),T(),y(43,29),W(44,pl,2,1,"mat-header-cell",22)(45,ml,2,1,"mat-cell",23),T(),y(46,30),W(47,ul,2,1,"mat-header-cell",22)(48,fl,2,1,"mat-cell",23),T(),y(49,31),W(50,gl,2,1,"mat-header-cell",22)(51,_l,2,1,"mat-cell",23),T(),y(52,32),W(53,Ml,2,1,"mat-header-cell",22)(54,hl,2,1,"mat-cell",23),T(),y(55,33),W(56,Sl,2,1,"mat-header-cell",22)(57,bl,2,1,"mat-cell",23),T(),y(58,34),W(59,Cl,2,1,"mat-header-cell",22)(60,Il,2,1,"mat-cell",23),T(),y(61,35),W(62,vl,2,1,"mat-header-cell",22)(63,Dl,2,1,"mat-cell",23),T(),y(64,36),W(65,yl,2,1,"mat-header-cell",22)(66,Tl,2,1,"mat-cell",23),T(),y(67,37),W(68,wl,2,1,"mat-header-cell",22)(69,El,2,1,"mat-cell",23),T(),y(70,38),W(71,xl,2,1,"mat-header-cell",22)(72,Al,3,3,"mat-cell",23),T(),y(73,39),W(74,Rl,3,3,"mat-header-cell",40)(75,Pl,6,1,"mat-cell",41),T(),W(76,Wl,1,0,"mat-header-row",42)(77,Ll,1,2,"mat-row",43),l(),T(),y(78,44),a(79,"mat-paginator",45,1),v("page",function(p){return u(s),f(t.onTablePageingData(p))}),l(),T(),l()}i&2&&(m("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),w("optionActionGuideNoticeDisplay",t.viewGuideNotice),m("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),o(8),K("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(3),m("checked",t.optionsSearch.data.show),o(),g("",h(13,24,"ACTION.SEARCH")," "),o(3),m("checked",t.optionsStatist.data.show),o(),g("",h(17,26,"ACTION.STATIST")," "),o(4),C(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessWatchRow?20:-1),o(),C(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0?21:-1),o(2),w("options",t.optionsSearch),o(),w("options",t.optionsStatist),o(2),m("dataSource",t.tableSource),o(50),m("matHeaderRowDef",t.tabledisplayedColumns),o(),m("matRowDefColumns",t.tabledisplayedColumns),o(2),m("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",ve(28,Yr)))},dependencies:[Te,nt,Re,re,F,ct,pt,Ue,Pe,mt,ut,ft,_t,bt,Mt,gt,Ct,ht,St,It,vt,ze,Ke,Je,Ye,wt,ot,k,ma,Un,Qn,Xe,Ot],encapsulation:2});var eo=Ki;var kl=["*"];function Vl(n,r){if(n&1&&(a(0,"label",3),d(1),l()),n&2){let e=c();m("for",Ne("app-cms-site-selector-",e.id)),o(),A(e.optionLabel)}}function Bl(n,r){if(n&1&&(a(0,"mat-option",6)(1,"span"),d(2),l()()),n&2){let e=r.$implicit,i=c();m("value",e)("disabled",i.optionDisabled),o(2),A(i.displayOption(e))}}function Gl(n,r){n&1&&S(0,"i",7)}function Fl(n,r){n&1&&S(0,"i",8)}function Nl(n,r){if(n&1){let e=D();a(0,"i",11),v("click",function(){u(e);let t=c();return f(t.onActionSelectClear())}),l()}}function Ol(n,r){n&1&&(a(0,"em"),d(1),M(2,"translate"),l()),n&2&&(o(),g("(",h(2,1,"TITLE.Necessary"),")"))}var gi=class gi{constructor(r,e,i,t,s){this.coreEnumService=r;this.cdr=e;this.publicHelper=i;this.translate=t;this.categoryService=s;this.id=++gi.nextId;this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new N;this.dataModelSelect=new Ae;this.formControl=new ri;this.optionDisabled=!1;this.optionRequired=!1;this.optionSelectFirstItem=!1;this.optionPlaceholder="";this.optionLabel="";this.optionChange=new Pt;this.optionReload=()=>this.onActionButtonReload();this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(r){this.onActionSelectForce(r)}ngOnInit(){this.loadOptions(),(!this.optionLabel||this.optionLabel.length==0&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder)}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(ei(""),Zt(1500),$t(),ti(r=>typeof r=="string"||typeof r=="number"?this.DataGetAll(r||""):[]))}displayFn(r){return r?r.title:void 0}displayOption(r){return r?r.title:void 0}DataGetAll(r){return ie(this,null,function*(){let e=new Y;e.rowPerPage=20,e.accessLoad=!0;let i=new H;i.propertyName="title",i.value=r,i.searchType=qe.Contains,i.clauseType=He.Or,e.filters.push(i),r&&typeof+r=="number"&&+r>0&&(i=new H,i.propertyName="id",i.value=r,i.searchType=qe.Equal,i.clauseType=He.Or,e.filters.push(i));let t=this.constructor.name+"main";return this.translate.get("MESSAGE.Receiving_information").subscribe(s=>{this.publicHelper.processService.processStart(t,s,this.constructorInfoAreaId)}),yield Yt(this.categoryService.ServiceGetAll(e)).then(s=>(this.dataModelResult=s,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||this.dataModelSelect?.id?.length<=0)&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0])},1e3),this.onActionSelect(this.dataModelResult.listItems[0])),this.publicHelper.processService.processStop(t),s.listItems))})}onActionSelect(r){this.dataModelSelect=r,this.optionChange.emit(this.dataModelSelect)}onActionSelectClear(){this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null)}push(r){return this.filteredOptions.pipe(Xt(e=>(e.find(i=>i.id===r.id)||e.push(r),e)))}onActionSelectForce(r){if(typeof r=="string"&&r.length>0){if(this.dataModelSelect&&this.dataModelSelect.id===r)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(e=>e.id===r)){let e=this.dataModelResult.listItems.find(i=>i.id===r);this.dataModelSelect=e,this.formControl.setValue(e);return}this.categoryService.ServiceGetOneById(r).subscribe({next:e=>{e.isSuccess&&(this.filteredOptions=this.push(e.item),this.dataModelSelect=e.item,this.formControl.setValue(e.item),this.optionChange.emit(e.item))}});return}if(typeof r==typeof Ae){this.filteredOptions=this.push(r),this.dataModelSelect=r,this.formControl.setValue(r);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new Ae,this.loadOptions()}};gi.nextId=0,gi.\u0275fac=function(e){return new(e||gi)(I(z),I(V),I(G),I(B),I(lt))},gi.\u0275cmp=L({type:gi,selectors:[["app-webdesigner-menu-selector"]],inputs:{optionDisabled:"optionDisabled",optionRequired:"optionRequired",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionLabel:"optionLabel",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange"},standalone:!1,ngContentSelectors:kl,decls:16,vars:23,consts:[["matauto","matAutocomplete"],[1,"input-style","has-borders","has-icon","input-style-always-active","validate-field","mb-4","loader-container"],[3,"optionsInfoAreaId"],[1,"color-highlight",3,"for"],["type","text","aria-label","Assignee","matInput","",3,"placeholder","formControl","matAutocomplete","required","id"],[3,"optionSelected","displayWith"],[3,"value","disabled"],[1,"fa","fa-info","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"fa","fa-times","action","color-red-dark"],[1,"fa","fa-rotate-right","action","color-green-dark",2,"margin-left","20px",3,"click","title"],[1,"fa","fa-times","action","color-red-dark",3,"click"]],template:function(e,i){if(e&1){let t=D();ii(),a(0,"div",1),S(1,"app-progress-spinner",2),b(2,Vl,2,3,"label",3),S(3,"input",4),a(4,"mat-autocomplete",5,0),v("optionSelected",function(_){return u(t),f(i.onActionSelect(_.option.value))}),Ge(6,Bl,3,3,"mat-option",6,Be),M(8,"async"),l(),b(9,Gl,1,0,"i",7),b(10,Fl,1,0,"i",8),b(11,Nl,1,0,"i",9),a(12,"i",10),M(13,"translate"),v("click",function(){return u(t),f(i.onActionButtonReload())}),l(),b(14,Ol,3,3,"em"),ni(15),l()}if(e&2){let t=R(5);o(),m("optionsInfoAreaId",i.constructorInfoAreaId),o(),C((i.optionLabel==null?null:i.optionLabel.length)>0?2:-1),o(),m("placeholder",P(i.optionPlaceholder))("id",Ne("app-cms-site-selector-",i.id))("formControl",i.formControl)("matAutocomplete",t)("required",i.optionRequired),Wt("disabled",i.optionDisabled?!0:null),o(),m("displayWith",i.displayFn),o(2),Fe(h(8,19,i.filteredOptions)),o(3),C(i.formControl.valid?-1:9),o(),C(i.optionRequired&&i.formControl.valid?10:-1),o(),C((i.dataModelSelect==null||i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0?11:-1),o(),K("rotation360",i.publicHelper.processService.process.inRunArea[i.constructorInfoAreaId]),m("title",P(h(13,21,"ACTION.RELOAD"))),o(2),C(i.optionRequired&&(!i.dataModelSelect||!i.dataModelSelect.id||(i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)===0)?14:-1)}},dependencies:[$,J,ee,si,ci,di,pi,F,j,ot,k],encapsulation:2});var Ji=gi;var jl=["vform"],Ul=()=>["fa"];function Ql(n,r){if(n&1){let e=D();a(0,"app-cms-enum-record-status-selector",30),x("modelChange",function(t){u(e);let s=c();return E(s.dataModel.recordStatus,t)||(s.dataModel.recordStatus=t),f(t)}),l()}if(n&2){let e=c();w("model",e.dataModel.recordStatus),m("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function zl(n,r){n&1&&S(0,"i",33)}function Kl(n,r){n&1&&S(0,"i",34)}function Jl(n,r){if(n&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),M(4,"translate"),l()()),n&2){let e=c(2);o(),g(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," is "),o(2),A(h(4,2,"MESSAGE.required"))}}function Yl(n,r){if(n&1){let e=D();a(0,"div",20)(1,"label",31),d(2),l(),a(3,"input",32,2),x("ngModelChange",function(t){u(e);let s=c();return E(s.dataModel.title,t)||(s.dataModel.title=t),f(t)}),l(),b(5,zl,1,0,"i",33),b(6,Kl,1,0,"i",34),a(7,"em"),d(8),l(),b(9,Jl,5,4,"mat-error"),l()}if(n&2){let e=R(4),i=c();o(2),A(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(),m("placeholder",P(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle)),w("ngModel",i.dataModel.title),m("disabled",!(i.fieldsInfo.title!=null&&i.fieldsInfo.title.accessEditField)),o(2),C(e.value?-1:5),o(),C(e.value?6:-1),o(2),g("",e.value.length," / 100"),o(),C(e.errors!=null&&e.errors.required?9:-1)}}function Xl(n,r){if(n&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),M(4,"translate"),l()()),n&2){let e=c(2);o(),g(" ",e.fieldsInfo.titleResourceLanguage==null?null:e.fieldsInfo.titleResourceLanguage.fieldTitle," is "),o(2),A(h(4,2,"MESSAGE.required"))}}function Zl(n,r){if(n&1){let e=D();a(0,"div",20)(1,"label",35),d(2),l(),a(3,"input",36,3),x("ngModelChange",function(t){u(e);let s=c();return E(s.dataModel.titleResourceLanguage,t)||(s.dataModel.titleResourceLanguage=t),f(t)}),l(),b(5,Xl,5,4,"mat-error"),l()}if(n&2){let e=R(4),i=c();o(2),A(i.fieldsInfo.titleResourceLanguage==null?null:i.fieldsInfo.titleResourceLanguage.fieldTitle),o(),m("placeholder",P(i.fieldsInfo.titleResourceLanguage==null?null:i.fieldsInfo.titleResourceLanguage.fieldTitle)),w("ngModel",i.dataModel.titleResourceLanguage),m("disabled",!(i.fieldsInfo.titleResourceLanguage!=null&&i.fieldsInfo.titleResourceLanguage.accessEditField)),o(2),C(e.errors!=null&&e.errors.required?5:-1)}}function $l(n,r){if(n&1){let e=D();a(0,"div",20)(1,"label",37),d(2),l(),a(3,"input",38,4),x("ngModelChange",function(t){u(e);let s=c();return E(s.dataModel.routeAddressLink,t)||(s.dataModel.routeAddressLink=t),f(t)}),l(),a(5,"em"),d(6),l()()}if(n&2){let e=R(4),i=c();o(2),A(i.fieldsInfo.routeAddressLink==null?null:i.fieldsInfo.routeAddressLink.fieldTitle),o(),m("placeholder",P(i.fieldsInfo.routeAddressLink==null?null:i.fieldsInfo.routeAddressLink.fieldTitle)),w("ngModel",i.dataModel.routeAddressLink),m("disabled",!(i.fieldsInfo.routeAddressLink!=null&&i.fieldsInfo.routeAddressLink.accessEditField)),o(3),g("",e.value.length," / 500")}}function es(n,r){if(n&1){let e=D();a(0,"div",23)(1,"div",39)(2,"h5",40),d(3),l()(),a(4,"div",41)(5,"div",42)(6,"input",43),x("ngModelChange",function(t){u(e);let s=c();return E(s.dataModel.routeAddressBlankPage,t)||(s.dataModel.routeAddressBlankPage=t),f(t)}),l(),S(7,"label",44),l()()()}if(n&2){let e=c();o(3),g(" ",e.fieldsInfo.routeAddressBlankPage==null?null:e.fieldsInfo.routeAddressBlankPage.fieldTitle," "),o(3),w("ngModel",e.dataModel.routeAddressBlankPage)}}function ts(n,r){if(n&1){let e=D();a(0,"div",24)(1,"label",45),d(2),l(),a(3,"input",46,5),x("ngModelChange",function(t){u(e);let s=c();return E(s.dataModel.color,t)||(s.dataModel.color=t),f(t)}),l(),S(5,"ngx-mat-color-toggle",47)(6,"ngx-mat-color-picker",48,6),l()}if(n&2){let e=R(7),i=c();o(2),A(i.fieldsInfo.routeAddressLink==null?null:i.fieldsInfo.routeAddressLink.fieldTitle),o(),Ht("background",i.dataModel.color),m("placeholder",P(i.fieldsInfo.color==null?null:i.fieldsInfo.color.fieldTitle))("ngxMatColorPicker",e),w("ngModel",i.dataModel.color),m("disabled",!(i.fieldsInfo.color!=null&&i.fieldsInfo.color.accessAddField)),o(2),m("for",e),o(),m("touchUi",!0)("color","primary")}}function is(n,r){if(n&1){let e=D();a(0,"div",20)(1,"label",49),d(2),l(),a(3,"input",50,7),v("iconPickerSelect",function(t){u(e);let s=c();return f(s.onIconPickerSelect(t))}),x("ngModelChange",function(t){u(e);let s=c();return E(s.dataModel.icon,t)||(s.dataModel.icon=t),f(t)}),l()()}if(n&2){let e=c();o(2),A(e.fieldsInfo.icon==null?null:e.fieldsInfo.icon.fieldTitle),o(),m("placeholder",P(e.fieldsInfo.icon==null?null:e.fieldsInfo.icon.fieldTitle))("iconPicker",e.dataModel.icon)("ipIconPack",ve(8,Ul))("ipPosition","top"),w("ngModel",e.dataModel.icon),m("disabled",!(e.fieldsInfo.icon!=null&&e.fieldsInfo.icon.accessEditField))}}function ns(n,r){if(n&1){let e=D();a(0,"div",20)(1,"label",51),d(2),l(),a(3,"input",52,8),x("ngModelChange",function(t){u(e);let s=c();return E(s.dataModel.showInMenuOrder,t)||(s.dataModel.showInMenuOrder=t),f(t)}),l()()}if(n&2){let e=c();o(2),A(e.fieldsInfo.showInMenuOrder==null?null:e.fieldsInfo.showInMenuOrder.fieldTitle),o(),m("placeholder",P(e.fieldsInfo.showInMenuOrder==null?null:e.fieldsInfo.showInMenuOrder.fieldTitle)),w("ngModel",e.dataModel.showInMenuOrder),m("disabled",!(e.fieldsInfo.showInMenuOrder!=null&&e.fieldsInfo.showInMenuOrder.accessEditField))}}function os(n,r){if(n&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),M(4,"translate"),l()()),n&2){let e=c(2);o(),g(" ",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle," is "),o(2),A(h(4,2,"MESSAGE.required"))}}function as(n,r){if(n&1){let e=D();a(0,"div",20)(1,"label",53),d(2),l(),a(3,"textarea",54,9),x("ngModelChange",function(t){u(e);let s=c();return E(s.dataModel.description,t)||(s.dataModel.description=t),f(t)}),d(5,"                                  "),l(),a(6,"em"),d(7),l(),b(8,os,5,4,"mat-error"),l()}if(n&2){let e=R(4),i=c();o(2),A(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle),o(),m("placeholder",P(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle)),w("ngModel",i.dataModel.description),o(4),g("",e.value.length," / 500"),o(),C(e.errors!=null&&e.errors.required?8:-1)}}function rs(n,r){if(n&1){let e=D();a(0,"div",25)(1,"button",55),v("click",function(){u(e);let t=c();return f(t.onFormCancel())}),d(2),M(3,"translate"),l(),a(4,"button",56),d(5),M(6,"translate"),l()()}if(n&2){c();let e=R(10);o(2),g(" ",h(3,3,"ACTION.BACK")," "),o(2),m("disabled",!e.form.valid),o(),g(" ",h(6,5,"ACTION.SAVE")," ")}}function ls(n,r){n&1&&(a(0,"mat-icon"),d(1,"call_end"),l())}function ss(n,r){n&1&&(a(0,"mat-icon"),d(1,"call_end"),l())}function ds(n,r){n&1&&(a(0,"mat-icon"),d(1,"forum"),l())}function cs(n,r){n&1&&(a(0,"mat-icon"),d(1,"forum"),l())}var Yi=class Yi extends Ft{constructor(e,i,t,s,_,p,U,X){super(s,new Ae,p,X);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.webDesignerMainMenuService=s;this.cmsToastrService=_;this.publicHelper=p;this.cdr=U;this.translate=X;this.requestParentId="";this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.dataModelResult=new N;this.dataModel=new Ae;this.formInfo=new le;this.dataModelEnumMenuPlaceTypeResult=new N;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,e&&(this.requestParentId=e.parentId+""),this.requestParentId.length>0&&(this.dataModel.linkParentId=this.requestParentId)}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(e=>{this.formInfo.formTitle=e}),this.getEnumMenuPlaceType(),this.DataGetAccess()}getEnumMenuPlaceType(){this.coreEnumService.ServiceMenuPlaceTypeEnum().subscribe({next:e=>{this.dataModelEnumMenuPlaceTypeResult=e}})}DataAddContent(){this.dataModel.color=this.dataModel.color?.toString(),this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.webDesignerMainMenuService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorSelect(e){this.dataModel.linkParentId=null,e&&e.id?.length>0&&(this.dataModel.linkParentId=e.id)}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}onStepClick(e,i){e.previouslySelectedIndex<e.selectedIndex&&(this.formGroup.valid||(this.cmsToastrService.typeErrorFormInvalid(),setTimeout(()=>{i.selectedIndex=e.previouslySelectedIndex},10)))}onIconPickerSelect(e){this.dataModel.icon=e}};Yi.\u0275fac=function(i){return new(i||Yi)(I(Ce),I(be),I(z),I(lt),I(O),I(G),I(V),I(B))},Yi.\u0275cmp=L({type:Yi,selectors:[["app-webdesigner-menu-add"]],viewQuery:function(i,t){if(i&1&&ne(jl,5),i&2){let s;oe(s=ae())&&(t.formGroup=s.first)}},standalone:!1,features:[Q],decls:36,vars:30,consts:[["vform","ngForm"],["stepper",""],["Title",""],["TitleResourceLanguage",""],["RouteAddressLink",""],["color",""],["colorPicker",""],["icon",""],["ShowInMenuOrder",""],["Description",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"selectionChange"],["state","main",3,"label"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.titleML",1,"color-highlight"],["matInput","","type","text","cmsKeyboardForce","en","name","dataModel.titleML","id","dataModel.titleML",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],[1,"d-flex","mb-3"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],[1,"form-actions"],["matStepperIcon","main"],["matStepperIcon","seo"],["matStepperIcon","file"],["matStepperIcon","loaction"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.titleResourceLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleResourceLanguage","id","dataModel.titleResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.routeAddressLink",1,"color-highlight"],["matInput","","type","text","name","dataModel.routeAddressLink","minlength","0","maxlength","500","id","dataModel.routeAddressLink",1,"form-control","validate-name",2,"direction","ltr","text-align","left",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"pt-1"],["data-trigger-switch","dataModel.routeAddressBlankPage",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.routeAddressBlankPage","name","dataModel.routeAddressBlankPage",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.routeAddressBlankPage",1,"custom-control-label"],["for","dataModel.color",1,"color-highlight"],["matInput","","type","text","name","dataModel.color","id","dataModel.color",1,"form-control","validate-name",3,"ngModelChange","ngxMatColorPicker","ngModel","placeholder","disabled"],["matSuffix","",3,"for"],[3,"touchUi","color"],["for","dataModel.icon",1,"color-highlight"],["matInput","","type","text","name","dataModel.icon","id","dataModel.icon",1,"form-control","validate-name",3,"iconPickerSelect","ngModelChange","iconPicker","ipIconPack","ipPosition","ngModel","placeholder","disabled"],["for","dataModel.showInMenuOrder",1,"color-highlight"],["matInput","","type","number","name","dataModel.showInMenuOrder","id","dataModel.showInMenuOrder",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","1","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"]],template:function(i,t){if(i&1){let s=D();a(0,"div",10),S(1,"app-progress-spinner",11),a(2,"div",12)(3,"p",13),d(4),l(),a(5,"p"),d(6),M(7,"translate"),l(),S(8,"app-cms-form-result-message",14),a(9,"form",15,0),v("ngSubmit",function(){return u(s),f(t.onFormSubmit())}),a(11,"mat-horizontal-stepper",16,1),v("selectionChange",function(p){u(s);let U=R(12);return f(t.onStepClick(p,U))}),a(13,"mat-step",17),M(14,"translate"),b(15,Ql,1,5,"app-cms-enum-record-status-selector",18),a(16,"app-webdesigner-menu-selector",19),M(17,"translate"),v("optionChange",function(p){return u(s),f(t.onActionSelectorSelect(p))}),l(),b(18,Yl,10,9,"div",20),a(19,"div",20)(20,"label",21),d(21),M(22,"translate"),l(),a(23,"input",22),x("ngModelChange",function(p){return u(s),E(t.dataModel.titleML,p)||(t.dataModel.titleML=p),f(p)}),l()(),b(24,Zl,6,6,"div",20),b(25,$l,7,6,"div",20),b(26,es,8,2,"div",23),b(27,ts,8,11,"div",24),b(28,is,5,9,"div",20),b(29,ns,5,5,"div",20),b(30,as,9,6,"div",20),b(31,rs,7,7,"div",25),l(),W(32,ls,2,0,"ng-template",26)(33,ss,2,0,"ng-template",27)(34,ds,2,0,"ng-template",28)(35,cs,2,0,"ng-template",29),l()()()()}i&2&&(o(),m("optionsInfoAreaId",t.constructorInfoAreaId),o(3),g(" ",t.formInfo.formTitle," "),o(2),g(" ",h(7,22,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),m("formInfo",t.formInfo),o(5),m("label",P(h(14,24,"TITLE.Menu_Profile"))),o(2),C(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?15:-1),o(),m("optionDisabled",!1)("optionSelectForce",t.dataModel.linkParentId)("optionPlaceholder",h(17,26,"TITLE.Parent_Menu")),o(2),C(t.fieldsInfo.title!=null&&t.fieldsInfo.title.accessWatchField?18:-1),o(3),g(" ",h(22,28,"TITLE.TitleML")),o(2),w("ngModel",t.dataModel.titleML),m("disabled",!0),o(),C(t.fieldsInfo.titleResourceLanguage!=null&&t.fieldsInfo.titleResourceLanguage.accessWatchField?24:-1),o(),C(t.fieldsInfo.routeAddressLink!=null&&t.fieldsInfo.routeAddressLink.accessWatchField?25:-1),o(),C(t.fieldsInfo.routeAddressBlankPage!=null&&t.fieldsInfo.routeAddressBlankPage.accessWatchField?26:-1),o(),C(t.fieldsInfo.color!=null&&t.fieldsInfo.color.accessWatchField?27:-1),o(),C(t.fieldsInfo.icon!=null&&t.fieldsInfo.icon.accessWatchField?28:-1),o(),C(t.fieldsInfo.showInMenuOrder!=null&&t.fieldsInfo.showInMenuOrder.accessWatchField?29:-1),o(),C(t.fieldsInfo.description!=null&&t.fieldsInfo.description.accessWatchField?30:-1),o(),C(t.formInfo.submitButtonEnabled?31:-1))},dependencies:[fe,$,li,Bt,J,pe,ee,Me,he,ue,me,Se,Pn,re,F,mi,ui,Gn,Ie,j,se,Vi,fi,jn,qn,Hn,zn,Ji,k],encapsulation:2});var Xi=Yi;var ps=["vform"],ms=()=>["fa"];function us(n,r){if(n&1){let e=D();a(0,"app-cms-enum-record-status-selector",30),x("modelChange",function(t){u(e);let s=c();return E(s.dataModel.recordStatus,t)||(s.dataModel.recordStatus=t),f(t)}),l()}if(n&2){let e=c();w("model",e.dataModel.recordStatus),m("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function fs(n,r){n&1&&S(0,"i",33)}function gs(n,r){n&1&&S(0,"i",34)}function _s(n,r){if(n&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),M(4,"translate"),l()()),n&2){let e=c(2);o(),g(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," is "),o(2),A(h(4,2,"MESSAGE.required"))}}function Ms(n,r){if(n&1){let e=D();a(0,"div",20)(1,"label",31),d(2),l(),a(3,"input",32,2),x("ngModelChange",function(t){u(e);let s=c();return E(s.dataModel.title,t)||(s.dataModel.title=t),f(t)}),l(),b(5,fs,1,0,"i",33),b(6,gs,1,0,"i",34),a(7,"em"),d(8),l(),b(9,_s,5,4,"mat-error"),l()}if(n&2){let e=R(4),i=c();o(2),A(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(),m("placeholder",P(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle)),w("ngModel",i.dataModel.title),m("disabled",!(i.fieldsInfo.title!=null&&i.fieldsInfo.title.accessEditField)),o(2),C(e.value?-1:5),o(),C(e.value?6:-1),o(2),g("",e.value.length," / 100"),o(),C(e.errors!=null&&e.errors.required?9:-1)}}function hs(n,r){if(n&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),M(4,"translate"),l()()),n&2){let e=c(2);o(),g(" ",e.fieldsInfo.titleResourceLanguage==null?null:e.fieldsInfo.titleResourceLanguage.fieldTitle," is "),o(2),A(h(4,2,"MESSAGE.required"))}}function Ss(n,r){if(n&1){let e=D();a(0,"div",20)(1,"label",35),d(2),l(),a(3,"input",36,3),x("ngModelChange",function(t){u(e);let s=c();return E(s.dataModel.titleResourceLanguage,t)||(s.dataModel.titleResourceLanguage=t),f(t)}),l(),b(5,hs,5,4,"mat-error"),l()}if(n&2){let e=R(4),i=c();o(2),A(i.fieldsInfo.titleResourceLanguage==null?null:i.fieldsInfo.titleResourceLanguage.fieldTitle),o(),m("placeholder",P(i.fieldsInfo.titleResourceLanguage==null?null:i.fieldsInfo.titleResourceLanguage.fieldTitle)),w("ngModel",i.dataModel.titleResourceLanguage),m("disabled",!(i.fieldsInfo.titleResourceLanguage!=null&&i.fieldsInfo.titleResourceLanguage.accessEditField)),o(2),C(e.errors!=null&&e.errors.required?5:-1)}}function bs(n,r){if(n&1){let e=D();a(0,"div",20)(1,"label",37),d(2),l(),a(3,"input",38,4),x("ngModelChange",function(t){u(e);let s=c();return E(s.dataModel.routeAddressLink,t)||(s.dataModel.routeAddressLink=t),f(t)}),l(),a(5,"em"),d(6),l()()}if(n&2){let e=R(4),i=c();o(2),A(i.fieldsInfo.routeAddressLink==null?null:i.fieldsInfo.routeAddressLink.fieldTitle),o(),m("placeholder",P(i.fieldsInfo.routeAddressLink==null?null:i.fieldsInfo.routeAddressLink.fieldTitle)),w("ngModel",i.dataModel.routeAddressLink),m("disabled",!(i.fieldsInfo.routeAddressLink!=null&&i.fieldsInfo.routeAddressLink.accessEditField)),o(3),g("",e.value.length," / 500")}}function Cs(n,r){if(n&1){let e=D();a(0,"div",23)(1,"div",39)(2,"h5",40),d(3),l()(),a(4,"div",41)(5,"div",42)(6,"input",43),x("ngModelChange",function(t){u(e);let s=c();return E(s.dataModel.routeAddressBlankPage,t)||(s.dataModel.routeAddressBlankPage=t),f(t)}),l(),S(7,"label",44),l()()()}if(n&2){let e=c();o(3),g(" ",e.fieldsInfo.routeAddressBlankPage==null?null:e.fieldsInfo.routeAddressBlankPage.fieldTitle," "),o(3),w("ngModel",e.dataModel.routeAddressBlankPage)}}function Is(n,r){if(n&1){let e=D();a(0,"div",24)(1,"label",45),d(2),l(),a(3,"input",46,5),x("ngModelChange",function(t){u(e);let s=c();return E(s.dataModel.color,t)||(s.dataModel.color=t),f(t)}),l(),S(5,"ngx-mat-color-toggle",47)(6,"ngx-mat-color-picker",48,6),l()}if(n&2){let e=R(7),i=c();o(2),A(i.fieldsInfo.routeAddressLink==null?null:i.fieldsInfo.routeAddressLink.fieldTitle),o(),Ht("background",i.dataModel.color),m("placeholder",P(i.fieldsInfo.color==null?null:i.fieldsInfo.color.fieldTitle))("ngxMatColorPicker",e),w("ngModel",i.dataModel.color),m("disabled",!(i.fieldsInfo.color!=null&&i.fieldsInfo.color.accessAddField)),o(2),m("for",e),o(),m("touchUi",!0)("color","primary")}}function vs(n,r){if(n&1){let e=D();a(0,"div",20)(1,"label",49),d(2),l(),a(3,"input",50,7),v("iconPickerSelect",function(t){u(e);let s=c();return f(s.onIconPickerSelect(t))}),x("ngModelChange",function(t){u(e);let s=c();return E(s.dataModel.icon,t)||(s.dataModel.icon=t),f(t)}),l()()}if(n&2){let e=c();o(2),A(e.fieldsInfo.icon==null?null:e.fieldsInfo.icon.fieldTitle),o(),m("placeholder",P(e.fieldsInfo.icon==null?null:e.fieldsInfo.icon.fieldTitle))("iconPicker",e.dataModel.icon)("ipIconPack",ve(8,ms))("ipPosition","top"),w("ngModel",e.dataModel.icon),m("disabled",!(e.fieldsInfo.icon!=null&&e.fieldsInfo.icon.accessEditField))}}function Ds(n,r){if(n&1){let e=D();a(0,"div",20)(1,"label",51),d(2),l(),a(3,"input",52,8),x("ngModelChange",function(t){u(e);let s=c();return E(s.dataModel.showInMenuOrder,t)||(s.dataModel.showInMenuOrder=t),f(t)}),l()()}if(n&2){let e=c();o(2),A(e.fieldsInfo.showInMenuOrder==null?null:e.fieldsInfo.showInMenuOrder.fieldTitle),o(),m("placeholder",P(e.fieldsInfo.showInMenuOrder==null?null:e.fieldsInfo.showInMenuOrder.fieldTitle)),w("ngModel",e.dataModel.showInMenuOrder),m("disabled",!(e.fieldsInfo.showInMenuOrder!=null&&e.fieldsInfo.showInMenuOrder.accessEditField))}}function ys(n,r){if(n&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),M(4,"translate"),l()()),n&2){let e=c(2);o(),g(" ",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle," is "),o(2),A(h(4,2,"MESSAGE.required"))}}function Ts(n,r){if(n&1){let e=D();a(0,"div",20)(1,"label",53),d(2),l(),a(3,"textarea",54,9),x("ngModelChange",function(t){u(e);let s=c();return E(s.dataModel.description,t)||(s.dataModel.description=t),f(t)}),d(5,"                                  "),l(),a(6,"em"),d(7),l(),b(8,ys,5,4,"mat-error"),l()}if(n&2){let e=R(4),i=c();o(2),A(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle),o(),m("placeholder",P(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle)),w("ngModel",i.dataModel.description),o(4),g("",e.value.length," / 500"),o(),C(e.errors!=null&&e.errors.required?8:-1)}}function ws(n,r){if(n&1){let e=D();a(0,"div",25)(1,"button",55),v("click",function(){u(e);let t=c();return f(t.onFormCancel())}),d(2),M(3,"translate"),l(),a(4,"button",56),d(5),M(6,"translate"),l()()}if(n&2){c();let e=R(10);o(2),g(" ",h(3,3,"ACTION.BACK")," "),o(2),m("disabled",!e.form.valid),o(),g(" ",h(6,5,"ACTION.SAVE")," ")}}function Es(n,r){n&1&&(a(0,"mat-icon"),d(1,"call_end"),l())}function xs(n,r){n&1&&(a(0,"mat-icon"),d(1,"call_end"),l())}function As(n,r){n&1&&(a(0,"mat-icon"),d(1,"forum"),l())}function Rs(n,r){n&1&&(a(0,"mat-icon"),d(1,"forum"),l())}var Zi=class Zi extends Nt{constructor(e,i,t,s,_,p,U,X){super(s,new Ae,_,X);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.webDesignerMainMenuService=s;this.publicHelper=_;this.cmsToastrService=p;this.cdr=U;this.translate=X;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.appLanguage="fa";this.dataModelResult=new Pi;this.dataModel=new Ae;this.formInfo=new le;this.dataModelEnumMenuPlaceTypeResult=new N;this.fileManagerOpenForm=!1;this.dataWebDesignerMainMenuIds=[];this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id+"")}ngOnInit(){if(this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.getEnumMenuPlaceType()}getEnumMenuPlaceType(){this.coreEnumService.ServiceMenuPlaceTypeEnum().subscribe({next:e=>{this.dataModelEnumMenuPlaceTypeResult=e}})}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.webDesignerMainMenuService.setAccessLoad(),this.webDesignerMainMenuService.setAccessDataType(kt.Editor),this.webDesignerMainMenuService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.dataAccessModel=i.access,this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.dataModel.color=this.dataModel.color?.toString(),this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.webDesignerMainMenuService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}onStepClick(e,i){e.previouslySelectedIndex<e.selectedIndex&&(this.formGroup.valid||(this.cmsToastrService.typeErrorFormInvalid(),setTimeout(()=>{i.selectedIndex=e.previouslySelectedIndex},10)))}onActionSelectorSelect(e){this.dataModel.linkParentId=null,e&&e.id?.length>0&&(this.dataModel.linkParentId=e.id)}onActionSelectorUserCategorySelect(e){this.dataWebDesignerMainMenuModel=e}onIconPickerSelect(e){this.dataModel.icon=e}};Zi.\u0275fac=function(i){return new(i||Zi)(I(Ce),I(be),I(z),I(lt),I(G),I(O),I(V),I(B))},Zi.\u0275cmp=L({type:Zi,selectors:[["app-webdesigner-menu-edit"]],viewQuery:function(i,t){if(i&1&&ne(ps,5),i&2){let s;oe(s=ae())&&(t.formGroup=s.first)}},standalone:!1,features:[Q],decls:36,vars:30,consts:[["vform","ngForm"],["stepper",""],["Title",""],["TitleResourceLanguage",""],["RouteAddressLink",""],["color",""],["colorPicker",""],["icon",""],["ShowInMenuOrder",""],["Description",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"selectionChange"],["state","main",3,"label"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.titleML",1,"color-highlight"],["matInput","","type","text","cmsKeyboardForce","en","name","dataModel.titleML","id","dataModel.titleML",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],[1,"d-flex","mb-3"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],[1,"form-actions"],["matStepperIcon","main"],["matStepperIcon","seo"],["matStepperIcon","file"],["matStepperIcon","loaction"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.titleResourceLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleResourceLanguage","id","dataModel.titleResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.routeAddressLink",1,"color-highlight"],["matInput","","type","text","name","dataModel.routeAddressLink","minlength","0","maxlength","500","id","dataModel.routeAddressLink",1,"form-control","validate-name",2,"direction","ltr","text-align","left",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"pt-1"],["data-trigger-switch","dataModel.routeAddressBlankPage",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.routeAddressBlankPage","name","dataModel.routeAddressBlankPage",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.routeAddressBlankPage",1,"custom-control-label"],["for","dataModel.color",1,"color-highlight"],["matInput","","type","text","name","dataModel.color","id","dataModel.color",1,"form-control","validate-name",3,"ngModelChange","ngxMatColorPicker","ngModel","placeholder","disabled"],["matSuffix","",3,"for"],[3,"touchUi","color"],["for","dataModel.icon",1,"color-highlight"],["matInput","","type","text","name","dataModel.icon","id","dataModel.icon",1,"form-control","validate-name",3,"iconPickerSelect","ngModelChange","iconPicker","ipIconPack","ipPosition","ngModel","placeholder","disabled"],["for","dataModel.showInMenuOrder",1,"color-highlight"],["matInput","","type","number","name","dataModel.showInMenuOrder","id","dataModel.showInMenuOrder",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","1","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"]],template:function(i,t){if(i&1){let s=D();a(0,"div",10),S(1,"app-progress-spinner",11),a(2,"div",12)(3,"p",13),d(4),l(),a(5,"p"),d(6),M(7,"translate"),l(),S(8,"app-cms-form-result-message",14),a(9,"form",15,0),v("ngSubmit",function(){return u(s),f(t.onFormSubmit())}),a(11,"mat-horizontal-stepper",16,1),v("selectionChange",function(p){u(s);let U=R(12);return f(t.onStepClick(p,U))}),a(13,"mat-step",17),M(14,"translate"),b(15,us,1,5,"app-cms-enum-record-status-selector",18),a(16,"app-webdesigner-menu-selector",19),M(17,"translate"),v("optionChange",function(p){return u(s),f(t.onActionSelectorSelect(p))}),l(),b(18,Ms,10,9,"div",20),a(19,"div",20)(20,"label",21),d(21),M(22,"translate"),l(),a(23,"input",22),x("ngModelChange",function(p){return u(s),E(t.dataModel.titleML,p)||(t.dataModel.titleML=p),f(p)}),l()(),b(24,Ss,6,6,"div",20),b(25,bs,7,6,"div",20),b(26,Cs,8,2,"div",23),b(27,Is,8,11,"div",24),b(28,vs,5,9,"div",20),b(29,Ds,5,5,"div",20),b(30,Ts,9,6,"div",20),b(31,ws,7,7,"div",25),l(),W(32,Es,2,0,"ng-template",26)(33,xs,2,0,"ng-template",27)(34,As,2,0,"ng-template",28)(35,Rs,2,0,"ng-template",29),l()()()()}i&2&&(o(),m("optionsInfoAreaId",t.constructorInfoAreaId),o(3),g(" ",t.formInfo.formTitle," "),o(2),g(" ",h(7,22,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),m("formInfo",t.formInfo),o(5),m("label",P(h(14,24,"TITLE.Menu_Profile"))),o(2),C(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?15:-1),o(),m("optionDisabled",!1)("optionSelectForce",t.dataModel.linkParentId)("optionPlaceholder",h(17,26,"TITLE.Parent_Menu")),o(2),C(t.fieldsInfo.title!=null&&t.fieldsInfo.title.accessWatchField?18:-1),o(3),g(" ",h(22,28,"TITLE.TitleML")),o(2),w("ngModel",t.dataModel.titleML),m("disabled",!0),o(),C(t.fieldsInfo.titleResourceLanguage!=null&&t.fieldsInfo.titleResourceLanguage.accessWatchField?24:-1),o(),C(t.fieldsInfo.routeAddressLink!=null&&t.fieldsInfo.routeAddressLink.accessWatchField?25:-1),o(),C(t.fieldsInfo.routeAddressBlankPage!=null&&t.fieldsInfo.routeAddressBlankPage.accessWatchField?26:-1),o(),C(t.fieldsInfo.color!=null&&t.fieldsInfo.color.accessWatchField?27:-1),o(),C(t.fieldsInfo.icon!=null&&t.fieldsInfo.icon.accessWatchField?28:-1),o(),C(t.fieldsInfo.showInMenuOrder!=null&&t.fieldsInfo.showInMenuOrder.accessWatchField?29:-1),o(),C(t.fieldsInfo.description!=null&&t.fieldsInfo.description.accessWatchField?30:-1),o(),C(t.formInfo.submitButtonEnabled?31:-1))},dependencies:[fe,$,li,Bt,J,pe,ee,Me,he,ue,me,Se,Pn,re,F,mi,ui,Gn,Ie,j,se,Vi,fi,jn,qn,Hn,zn,Ji,k],encapsulation:2});var $i=Zi;function Ps(n,r){if(n&1){let e=D();a(0,"button",13),v("click",function(){u(e);let t=c();return f(t.onActionAdd())}),d(1),M(2,"translate"),l()}n&2&&(o(),g(" ",h(2,1,"ACTION.ADD")," "))}function Ws(n,r){if(n&1){let e=D();a(0,"button",14),v("click",function(){u(e);let t=c();return f(t.onActionEdit())}),d(1),M(2,"translate"),l()}n&2&&(o(),g(" ",h(2,1,"ACTION.EDIT")," "))}function Ls(n,r){if(n&1){let e=D();a(0,"button",15),v("click",function(){u(e);let t=c();return f(t.onActionButtonReload())}),a(1,"mat-icon",16),M(2,"translate"),d(3,"refresh"),l()()}if(n&2){let e=c();o(),K("rotation360",e.publicHelper.processService.process.inRunArea[e.constructorInfoAreaId]),m("title",P(h(2,4,"ACTION.RELOAD")))}}function ks(n,r){if(n&1){let e=D();a(0,"mat-tree-node",17),S(1,"button",18),a(2,"span",19),v("click",function(){let t=u(e).$implicit,s=c();return f(s.onActionSelect(t))}),S(3,"i",20),d(4),l()()}if(n&2){let e=r.$implicit,i=c();K("ntk-tree-selected",i.dataModelSelect.id.length>0&&(i.dataModelSelect==null?null:i.dataModelSelect.id)===e.id),o(3),Ht("color",e.color),m("ngClass",e.icon),o(),g(" \xA0\xA0\xA0\xA0 ",e.title)}}function Vs(n,r){if(n&1){let e=D();a(0,"mat-tree-node",21)(1,"button",22)(2,"mat-icon",23),d(3),l()(),a(4,"span",19),v("click",function(){let t=u(e).$implicit,s=c();return f(s.onActionSelect(t))}),S(5,"i",20),d(6),l()()}if(n&2){let e=r.$implicit,i=c(),t=R(11);K("ntk-tree-selected",i.dataModelSelect.id.length>0&&(i.dataModelSelect==null?null:i.dataModelSelect.id)===e.id),m("cdkTreeNodeTypeaheadLabel",e.title)("isExpanded",e.isExpanded??!1),o(),Wt("type","button")("aria-label","Toggle "+e.title),o(2),g(" ",t.isExpanded(e)?"expand_more":"chevron_right"," "),o(2),Ht("color",e.color),m("ngClass",e.icon),o(),g(" \xA0\xA0\xA0\xA0 ",e.title)}}var en=class en{constructor(r,e,i,t,s,_,p,U,X,Rt){this.cmsToastrService=r;this.coreEnumService=e;this.categoryService=i;this.dialog=t;this.cdr=s;this.publicHelper=_;this.tokenHelper=p;this.themeService=U;this.cmsStoreService=X;this.translate=Rt;this.constructorInfoAreaId=this.constructor.name;this.dataModelSelect=new Ae;this.dataModelResult=new N;this.filterModel=new Y;this.dataSource=new sa;this.optionChange=new Pt;this.unsubscribe=[];this.optionReload=()=>this.onActionButtonReload();this.hasChild=(r,e)=>!!e.children&&e.children.length>0;this.childrenAccessor=r=>r.children??[];this.publicHelper.processService.cdr=this.cdr,this.filterModel.sortColumn="ShowInMenuOrder",this.filterModel.sortType=q.Ascending}set optionSelectForce(r){this.onActionSelectForce(r)}ngOnInit(){this.unsubscribe.push(this.cmsStoreService.getState(r=>r.tokenInfoStore).subscribe(r=>ie(this,null,function*(){this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(r=>r.unsubscribe())}DataGetAll(){this.filterModel.rowPerPage=200,this.filterModel.accessLoad=!0;let r=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(r,e,this.constructorInfoAreaId)}),this.categoryService.ServiceGetAllTree(this.filterModel).subscribe({next:e=>{e.isSuccess&&(this.dataModelResult=e,this.dataSource.data=this.dataModelResult.listItems),this.publicHelper.processService.processStop(r)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(r)}})}onActionSelect(r){r&&this.dataModelSelect&&r.id==this.dataModelSelect.id?(this.dataModelSelect=null,this.optionChange.emit(null)):(this.dataModelSelect=r,this.optionChange.emit(this.dataModelSelect))}onActionButtonReload(){this.onActionSelect(null),this.dataModelSelect=new Ae,this.DataGetAll()}onActionSelectForce(r){}onActionAdd(){let r="";this.dataModelSelect&&this.dataModelSelect?.id?.length>0&&(r=this.dataModelSelect.id);let e=new $o;e.disableClose=!0,e.autoFocus=!0,e.data={parentId:r},this.dialog.open(Xi,e).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionEdit(){let r="";if(this.dataModelSelect&&this.dataModelSelect?.id?.length>0&&(r=this.dataModelSelect.id),r.length===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorCategoryNotSelected").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open($i,{height:"90%",panelClass:e,enterAnimationDuration:Z.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Z.cmsViewConfig.exitAnimationDuration,data:{id:r}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionDelete(){let r="";if(this.dataModelSelect&&this.dataModelSelect?.id?.length>0&&(r=this.dataModelSelect.id),r.length===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorCategoryNotSelected").subscribe(e=>{this.cmsToastrService.typeErrorSelected(e)});return}}};en.\u0275fac=function(e){return new(e||en)(I(O),I(z),I(lt),I(je),I(V),I(G),I(Le),I(Dt),I(We),I(B))},en.\u0275cmp=L({type:en,selectors:[["app-webdesigner-menu-tree"]],inputs:{optionSelectForce:"optionSelectForce",optionReload:"optionReload"},outputs:{optionChange:"optionChange"},standalone:!1,decls:15,vars:13,consts:[["treeTagControl",""],[3,"optionHeaderDisplay","optionActionMainDisplay","optionFooterDisplay"],["cms-tree-header",""],["cms-tree-action",""],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta"],["type","button",1,"btn","btn-outline-secondary"],["cms-tree-body","",1,"loader-container"],[3,"optionsInfoAreaId"],[3,"dataSource","childrenAccessor"],["matTreeNodePadding","",3,"ntk-tree-selected",4,"matTreeNodeDef"],["matTreeNodePadding","","matTreeNodeToggle","","isExpandable","",3,"cdkTreeNodeTypeaheadLabel","isExpanded","ntk-tree-selected",4,"matTreeNodeDef","matTreeNodeDefWhen"],["cms-tree-footer",""],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],["type","button",1,"btn","btn-outline-secondary",3,"click"],[2,"font-size","20px","margin","-6px",3,"title"],["matTreeNodePadding",""],["matIconButton","","disabled",""],[3,"click"],["aria-hidden","true",3,"ngClass"],["matTreeNodePadding","","matTreeNodeToggle","","isExpandable","",3,"cdkTreeNodeTypeaheadLabel","isExpanded"],["matIconButton","","matTreeNodeToggle",""],[1,"mat-icon-rtl-mirror"]],template:function(e,i){e&1&&(a(0,"app-cms-html-tree",1),y(1,2),d(2),M(3,"translate"),T(),y(4,3),b(5,Ps,3,3,"button",4),b(6,Ws,3,3,"button",5),b(7,Ls,4,6,"button",6),T(),y(8,7),S(9,"app-progress-spinner",8),a(10,"mat-tree",9,0),W(12,ks,5,6,"mat-tree-node",10)(13,Vs,7,11,"mat-tree-node",11),l(),T(),Ee(14,12),l()),e&2&&(m("optionHeaderDisplay",!0)("optionActionMainDisplay",!0)("optionFooterDisplay",!1),o(2),g(" ",h(3,11,"TABLE."+(i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.moduleEntityName))," "),o(3),C(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessAddRow?5:-1),o(),C(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessEditRow&&(i.dataModelSelect==null||i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0?6:-1),o(),C(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessWatchRow?7:-1),o(2),m("optionsInfoAreaId",i.constructorInfoAreaId),o(),m("dataSource",i.dataSource)("childrenAccessor",i.childrenAccessor),o(3),m("matTreeNodeDefWhen",i.hasChild))},dependencies:[Te,Re,re,oa,aa,la,ra,na,j,ha,k],encapsulation:2});var to=en;var Gs=()=>["expandedTitle"],Fs=()=>[5,10,20,100],Ns=n=>({display:n});function Os(n,r){if(n&1){let e=D();a(0,"div",16)(1,"a",41),v("click",function(){u(e);let t=c();return f(t.onActionButtonNewRow())}),S(2,"i",42)(3,"br"),l(),a(4,"p",43),d(5),M(6,"translate"),l()()}n&2&&(o(5),g(" ",h(6,1,"ACTION.ADD")," "))}function Hs(n,r){if(n&1){let e=D();a(0,"div",16)(1,"a",44),v("click",function(){u(e);let t=c();return f(t.onActionButtonEditRow(t.tableRowSelected))}),S(2,"i",45)(3,"br"),l(),a(4,"p",43),d(5),M(6,"translate"),l()()}n&2&&(o(5),g(" ",h(6,1,"ACTION.EDIT")," "))}function qs(n,r){if(n&1){let e=D();a(0,"div",16)(1,"a",46),v("click",function(){u(e);let t=c();return f(t.onActionButtonDeleteRow(t.tableRowSelected))}),S(2,"i",47)(3,"br"),l(),a(4,"p",43),d(5),M(6,"translate"),l()()}n&2&&(o(5),g(" ",h(6,1,"ACTION.DELETE")," "))}function js(n,r){if(n&1){let e=D();a(0,"mat-row",48),v("click",function(t){let s=u(e).$implicit,_=c();return f(_.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=u(e).$implicit,_=c();return f(_.onActionTableRowSelect(s,t))})("mouseenter",function(){let t=u(e).$implicit,s=c();return f(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=u(e).$implicit,s=c();return f(s.onActionTableRowMouseLeave(t))}),l()}if(n&2){let e=r.$implicit,i=c();K("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}function Us(n,r){if(n&1&&(a(0,"mat-header-cell",49),d(1),l()),n&2){let e=c();o(),g(" ",e.fieldsInfo.icon==null?null:e.fieldsInfo.icon.fieldTitle," ")}}function Qs(n,r){if(n&1&&(a(0,"mat-cell"),S(1,"i",50),l()),n&2){let e=r.$implicit;o(),Ht("color",e.color),m("ngClass",e.icon)}}function zs(n,r){if(n&1&&(a(0,"mat-header-cell",49),d(1),l()),n&2){let e=c();o(),g(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function Ks(n,r){if(n&1&&(a(0,"mat-cell"),d(1),l()),n&2){let e=r.$implicit;o(),g(" ",e.id," ")}}function Js(n,r){if(n&1&&(a(0,"mat-header-cell",49),d(1),l()),n&2){let e=c();o(),g(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function Ys(n,r){if(n&1&&S(0,"select",52),n&2){let e=c().$implicit,i=c();m("contentService",i.contentService)("row",e)("ngStyle",it(3,Ns,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function Xs(n,r){if(n&1&&(a(0,"mat-cell"),S(1,"i",51),M(2,"statusIconClass"),b(3,Ys,1,5,"select",52),l()),n&2){let e=r.$implicit,i=c();o(),m("ngClass",h(2,2,e.recordStatus)),o(2),C(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessEditRow?3:-1)}}function Zs(n,r){if(n&1&&(a(0,"mat-header-cell",49),d(1),l()),n&2){let e=c();o(),g(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle)}}function $s(n,r){if(n&1&&(a(0,"mat-cell"),d(1),l()),n&2){let e=r.$implicit;o(),g(" ",e.title," ")}}function ed(n,r){n&1&&(a(0,"mat-header-cell",49),d(1),M(2,"translate"),l()),n&2&&(o(),g(" ",h(2,1,"TITLE.Show_In_Access_Admin_Allow_To_Professional_Data")))}function td(n,r){if(n&1&&(a(0,"mat-cell"),S(1,"i",51),M(2,"boolclass"),l()),n&2){let e=r.$implicit;o(),m("ngClass",h(2,1,e.showInAccessAdminAllowToProfessionalData))}}function id(n,r){n&1&&(a(0,"mat-header-cell",49),d(1),M(2,"translate"),l()),n&2&&(o(),g(" ",h(2,1,"TITLE.Menu_Place_Type")," "))}function nd(n,r){if(n&1&&(a(0,"mat-cell"),d(1),M(2,"enums"),l()),n&2){let e=r.$implicit,i=c();o(),g(" ",Lt(2,1,e.menuPlaceType,i.dataModelEnumMenuPlaceTypeResult.listItems)," ")}}function od(n,r){if(n&1&&(a(0,"mat-header-cell",49),d(1),l()),n&2){let e=c();o(),g(" ",e.fieldsInfo.showInMenuOrder==null?null:e.fieldsInfo.showInMenuOrder.fieldTitle," ")}}function ad(n,r){if(n&1&&(a(0,"mat-cell"),d(1),l()),n&2){let e=r.$implicit;o(),g(" ",e.showInMenuOrder," ")}}function rd(n,r){n&1&&(a(0,"mat-header-cell"),d(1),M(2,"translate"),l()),n&2&&(o(),g(" ",h(2,1,"TITLE.OPTION")," "))}function ld(n,r){if(n&1&&(a(0,"mat-cell",53)(1,"button",54)(2,"mat-icon"),d(3,"more_vert"),l()(),S(4,"mat-menu",null,2),l()),n&2){let e=R(5);o(),m("matMenuTriggerFor",e)}}function sd(n,r){n&1&&(a(0,"mat-header-cell",49),d(1),M(2,"translate"),l()),n&2&&(o(),g("",h(2,1,"ACTION.ORDERING")," "))}function dd(n,r){n&1&&(a(0,"mat-cell")(1,"mat-icon",55),d(2,"reorder"),l()())}function cd(n,r){n&1&&S(0,"mat-header-row")}function pd(n,r){n&1&&S(0,"div",58)}function md(n,r){if(n&1){let e=D();a(0,"mat-row",56),v("click",function(t){let s=u(e).$implicit,_=c();return f(_.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=u(e).$implicit,_=c();return f(_.onActionTableRowSelect(s,t))}),W(1,pd,1,0,"div",57),l()}if(n&2){let e=r.$implicit,i=c();K("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)),m("cdkDragData",e)}}function ud(n,r){if(n&1&&(a(0,"mat-cell"),d(1),M(2,"translate"),S(3,"br"),d(4),M(5,"translate"),S(6,"br"),d(7),M(8,"translate"),l()),n&2){let e=r.$implicit;o(),oi(" ",h(2,6,"TITLE.Id")," : ",e.id," "),o(3),oi(" ",h(5,8,"TITLE.title")," : ",e.title," "),o(3),oi(" ",h(8,10,"TITLE.DisplayInThePriorityMenu")," : ",e.ShowInMenuOrder," ")}}var tn=class tn extends Tt{constructor(e,i,t,s,_,p,U,X,Rt,Ci,Kt,Ii){super(e,new Ae,Kt,s,U);this.contentService=e;this.cmsConfirmationDialogService=i;this.cmsToastrService=t;this.tokenHelper=s;this.coreEnumService=_;this.cdr=p;this.translate=U;this.themeService=X;this.cmsStoreService=Rt;this.pageInfo=Ci;this.publicHelper=Kt;this.dialog=Ii;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new Y;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["Icon","recordStatus","ShowInAccessAdminAllowToProfessionalData","MenuPlaceType","position"];this.tabledisplayedColumnsMobileSource=["Icon","recordStatus","ShowInAccessAdminAllowToProfessionalData","MenuPlaceType","position"];this.dataModelEnumMenuPlaceTypeResult=new N;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:Jt=>this.onSubmitOptionsSearch(Jt)},this.filteModelContent.sortColumn="ShowInMenuOrder",this.filteModelContent.sortType=q.Ascending}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>ie(this,null,function*(){this.tokenInfo=e,this.DataGetAll()}))),this.getEnumMenuPlaceType()}getEnumMenuPlaceType(){this.coreEnumService.ServiceMenuPlaceTypeEnum().subscribe({next:e=>{this.dataModelEnumMenuPlaceTypeResult=e}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Ae);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));if(this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.categoryModelSelected&&this.categoryModelSelected.id.length>0){let t=new H;t.propertyName="LinkParentId",t.value=this.categoryModelSelected.id,i.filters.push(t)}this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{t.isSuccess&&(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=q.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=q.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=q.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onTableDropRow(e){let i=this.tableSource.data.findIndex(s=>s===e.item.data),t=new Eo;t.id=this.tableSource.data[i].id,t.centerId=this.tableSource.data[e.currentIndex].id,i>e.currentIndex?t.actionGo=_o.GoUp:t.actionGo=_o.GoDown,this.contentService.ServiceEditStep(t).subscribe({next:s=>{s.isSuccess&&(ko(this.tableSource.data,i,e.currentIndex),this.tableSource.data=this.tableSource.data.slice())},error:s=>{this.cmsToastrService.typeError(s)}})}onActionSelectorSelect(e){var i=this.filteModelContent.sortColumn,t=this.filteModelContent.sortType;this.filteModelContent=new Y,this.filteModelContent.sortColumn=i,this.filteModelContent.sortType=t,this.categoryModelSelected=e,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(Xi,{height:"90%",panelClass:e,enterAnimationDuration:Z.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Z.cmsViewConfig.exitAnimationDuration,data:{parentId:this.categoryModelSelected.id}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open($i,{height:"90%",panelClass:i,enterAnimationDuration:Z.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Z.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(e==null||!e.id||e.id.length===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}if(this.tableRowSelected=e,this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(s=>{i=s["MESSAGE.Please_Confirm"],t=s["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(s=>{if(s){let _=this.constructor.name+"contentService.ServiceDelete";this.translate.get("MESSAGE.Receiving_information").subscribe(p=>{this.publicHelper.processService.processStart(_,p,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:p=>{p.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(_)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(_,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(p=>{i.set(p,0)}),this.translate.get("MESSAGE.All").subscribe(p=>{i.set(p,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(p=>{this.publicHelper.processService.processStart(t,p,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:p=>{p.isSuccess&&(i.set("All",p.totalRowCount),this.optionsStatist.childMethods.setStatistValue(i)),this.publicHelper.processService.processStop(t)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(t,!1)}});let s=JSON.parse(JSON.stringify(this.filteModelContent)),_=new H;_.propertyName="recordStatus",_.value=rt.Available,s.filters.push(_),this.contentService.ServiceGetCount(s).subscribe({next:p=>{p.isSuccess&&(i.set("Active",p.totalRowCount),this.optionsStatist.childMethods.setStatistValue(i)),this.publicHelper.processService.processStop(t)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonReload(){this.filteModelContent.sortColumn="ShowInMenuOrder",this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}};tn.\u0275fac=function(i){return new(i||tn)(I(lt),I(Qe),I(O),I(Le),I(z),I(V),I(B),I(Dt),I(We),I(yt),I(G),I(je))},tn.\u0275cmp=L({type:tn,selectors:[["app-webdesigner-menu-list"]],standalone:!1,features:[Q],decls:65,vars:33,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],[3,"optionChange"],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","","multiTemplateDataRows","","cdkDropList","",3,"matSortChange","cdkDropListDropped","dataSource","cdkDropListData"],["class","ntk-row-expandedTitle",3,"ntk-row-selected","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["matColumnDef","Icon"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","id"],["matColumnDef","recordStatus"],["matColumnDef","title"],["matColumnDef","ShowInAccessAdminAllowToProfessionalData"],["matColumnDef","MenuPlaceType"],["matColumnDef","ShowInMenuOrder"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],["matColumnDef","position"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild","cdkDrag","",3,"ntk-row-selected","cdkDragData","click","rtclick",4,"matRowDef","matRowDefColumns"],["matColumnDef","expandedTitle"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],[1,"ntk-row-expandedTitle",3,"click","rtclick","mouseenter","mouseleave"],["mat-sort-header",""],["aria-hidden","true",3,"ngClass"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],["cdkDragHandle","",2,"pointer-events","all"],["cdkDrag","",1,"ntk-row-mainfild",3,"click","rtclick","cdkDragData"],["class","ntk-row-placeholder",4,"cdkDragPlaceholder"],[1,"ntk-row-placeholder"]],template:function(i,t){if(i&1){let s=D();a(0,"app-cms-html-list",3),x("optionActionGuideNoticeDisplayChange",function(p){return u(s),E(t.viewGuideNotice,p)||(t.viewGuideNotice=p),f(p)}),v("optionOnActionButtonMemoRow",function(){return u(s),f(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return u(s),f(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return u(s),f(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return u(s),f(t.onActionButtonPrintRow())}),y(1,4),a(2,"app-webdesigner-menu-tree",5),v("optionChange",function(p){return u(s),f(t.onActionSelectorSelect(p))}),l(),T(),Ee(3,6)(4,7),y(5,8),a(6,"a",9),v("click",function(){return u(s),f(t.viewGuideNotice=!t.viewGuideNotice)}),S(7,"i",10),l(),a(8,"a",9),v("click",function(){return u(s),f(t.onActionButtonReload())}),S(9,"i",11),l(),T(),y(10,12),a(11,"a",13),v("click",function(){return u(s),f(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),S(12,"mat-slide-toggle",14),d(13),M(14,"translate"),l(),a(15,"a",13),v("click",function(){return u(s),f(t.onActionButtonStatist())}),S(16,"mat-slide-toggle",14),d(17),M(18,"translate"),l(),T(),y(19,15),b(20,Os,7,3,"div",16),T(),y(21,17),b(22,Hs,7,3,"div",16),b(23,qs,7,3,"div",16),T(),y(24,18),a(25,"app-cms-search-list",19),x("optionsChange",function(p){return u(s),E(t.optionsSearch,p)||(t.optionsSearch=p),f(p)}),l(),a(26,"app-cms-statist-list",19),x("optionsChange",function(p){return u(s),E(t.optionsStatist,p)||(t.optionsStatist=p),f(p)}),l(),T(),y(27,20),a(28,"mat-table",21,0),v("matSortChange",function(){u(s);let p=R(29);return f(t.onTableSortData(p))})("cdkDropListDropped",function(p){return u(s),f(t.onTableDropRow(p))}),W(30,js,1,2,"mat-row",22),y(31,23),W(32,Us,2,1,"mat-header-cell",24)(33,Qs,2,3,"mat-cell",25),T(),y(34,26),W(35,zs,2,1,"mat-header-cell",24)(36,Ks,2,1,"mat-cell",25),T(),y(37,27),W(38,Js,2,1,"mat-header-cell",24)(39,Xs,4,4,"mat-cell",25),T(),y(40,28),W(41,Zs,2,1,"mat-header-cell",24)(42,$s,2,1,"mat-cell",25),T(),y(43,29),W(44,ed,3,3,"mat-header-cell",24)(45,td,3,3,"mat-cell",25),T(),y(46,30),W(47,id,3,3,"mat-header-cell",24)(48,nd,3,4,"mat-cell",25),T(),y(49,31),W(50,od,2,1,"mat-header-cell",24)(51,ad,2,1,"mat-cell",25),T(),y(52,32),W(53,rd,3,3,"mat-header-cell",33)(54,ld,6,1,"mat-cell",34),T(),y(55,35),W(56,sd,3,3,"mat-header-cell",24)(57,dd,3,0,"mat-cell",25),T(),W(58,cd,1,0,"mat-header-row",36)(59,md,2,3,"mat-row",37),y(60,38),W(61,ud,9,12,"mat-cell",25),T(),l(),T(),y(62,39),a(63,"mat-paginator",40,1),v("page",function(p){return u(s),f(t.onTablePageingData(p))}),l(),T(),l()}i&2&&(m("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey","configuresite.webdesigner.menu"),w("optionActionGuideNoticeDisplay",t.viewGuideNotice),m("optionTreeDisplay",!0)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.title),o(9),K("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(3),m("checked",t.optionsSearch.data.show),o(),g("",h(14,27,"ACTION.SEARCH")," "),o(3),m("checked",t.optionsStatist.data.show),o(),g("",h(18,29,"ACTION.STATIST")," "),o(3),C(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessAddRow?20:-1),o(2),C(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?22:-1),o(),C(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?23:-1),o(2),w("options",t.optionsSearch),o(),w("options",t.optionsStatist),o(2),m("dataSource",t.tableSource)("cdkDropListData",t.tableSource),o(2),m("matRowDefColumns",ve(31,Gs)),o(28),m("matHeaderRowDef",t.tabledisplayedColumns),o(),m("matRowDefColumns",t.tabledisplayedColumns),o(4),m("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",ve(32,Fs)))},dependencies:[Te,nt,Re,re,F,ct,pt,Ue,Pe,mt,ut,ft,_t,bt,Mt,gt,Ct,ht,St,It,vt,ze,Ke,Je,Ye,wt,Go,Bo,Vo,Fo,to,k,va,Xe,ki],encapsulation:2});var io=tn;var gd=["vform"];function _d(n,r){if(n&1){let e=D();a(0,"app-cms-enum-record-status-selector",21),x("modelChange",function(t){u(e);let s=c();return E(s.dataModel.recordStatus,t)||(s.dataModel.recordStatus=t),f(t)}),l()}if(n&2){let e=c();w("model",e.dataModel.recordStatus),m("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Md(n,r){n&1&&S(0,"i",16)}function hd(n,r){n&1&&S(0,"i",17)}function Sd(n,r){if(n&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),M(4,"translate"),l()()),n&2){let e=c(2);o(),g(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," is "),o(2),A(h(4,2,"MESSAGE.required"))}}function bd(n,r){if(n&1){let e=D();a(0,"div",12)(1,"label",22),d(2),l(),a(3,"input",23,3),x("ngModelChange",function(t){u(e);let s=c();return E(s.dataModel.title,t)||(s.dataModel.title=t),f(t)}),l(),b(5,Md,1,0,"i",16),b(6,hd,1,0,"i",17),a(7,"em"),d(8),l(),b(9,Sd,5,4,"mat-error"),l()}if(n&2){let e=R(4),i=c();o(2),A(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(),m("placeholder",P(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle)),w("ngModel",i.dataModel.title),m("disabled",!(i.fieldsInfo.title!=null&&i.fieldsInfo.title.accessAddField)),o(2),C(e.value?-1:5),o(),C(e.value?6:-1),o(2),g("",e.value.length," / 100"),o(),C(e.errors!=null&&e.errors.required?9:-1)}}function Cd(n,r){if(n&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),M(4,"translate"),l()()),n&2){let e=c(2);o(),g(" ",e.fieldsInfo.titleResourceLanguage==null?null:e.fieldsInfo.titleResourceLanguage.fieldTitle," is "),o(2),A(h(4,2,"MESSAGE.required"))}}function Id(n,r){if(n&1){let e=D();a(0,"div",12)(1,"label",24),d(2),l(),a(3,"input",25,4),x("ngModelChange",function(t){u(e);let s=c();return E(s.dataModel.titleResourceLanguage,t)||(s.dataModel.titleResourceLanguage=t),f(t)}),l(),a(5,"em"),d(6),l(),b(7,Cd,5,4,"mat-error"),l()}if(n&2){let e=R(4),i=c();o(2),A(i.fieldsInfo.titleResourceLanguage==null?null:i.fieldsInfo.titleResourceLanguage.fieldTitle),o(),m("placeholder",P(i.fieldsInfo.titleResourceLanguage==null?null:i.fieldsInfo.titleResourceLanguage.fieldTitle)),w("ngModel",i.dataModel.titleResourceLanguage),m("disabled",!(i.fieldsInfo.titleResourceLanguage!=null&&i.fieldsInfo.titleResourceLanguage.accessAddField)),o(3),g("",e.value.length," / 100"),o(),C(e.errors!=null&&e.errors.required?7:-1)}}function vd(n,r){n&1&&S(0,"i",16)}function Dd(n,r){n&1&&S(0,"i",17)}function yd(n,r){if(n&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),M(4,"translate"),l()()),n&2){let e=c();o(),g(" ",e.fieldsInfo.cmsModuleClassName==null?null:e.fieldsInfo.cmsModuleClassName.fieldTitle," is "),o(2),A(h(4,2,"MESSAGE.required"))}}function Td(n,r){if(n&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),M(4,"translate"),l()()),n&2){let e=c();o(),g(" ",e.fieldsInfo.classActionName==null?null:e.fieldsInfo.classActionName.fieldTitle," is "),o(2),A(h(4,2,"MESSAGE.required"))}}function wd(n,r){if(n&1){let e=D();a(0,"div",20)(1,"button",26),v("click",function(){u(e);let t=c();return f(t.onFormCancel())}),S(2,"i",27),d(3),M(4,"translate"),l(),a(5,"button",28),S(6,"i",29),d(7),M(8,"translate"),l()()}if(n&2){c();let e=R(10);o(3),g(" ",h(4,3,"ACTION.CANCEL")," "),o(2),m("disabled",!e.form.valid),o(2),g(" ",h(8,5,"ACTION.SAVE")," ")}}var nn=class nn extends Ft{constructor(e,i,t,s,_,p,U,X){super(s,new et,p,X);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.webDesignerMainPageDependencyService=s;this.cmsToastrService=_;this.publicHelper=p;this.cdr=U;this.translate=X;this.requestLinkModuleId=0;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new N;this.dataModel=new et;this.formInfo=new le;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),e&&(this.requestLinkModuleId=+e.linkModuleId),this.requestLinkModuleId>0&&(this.dataModel.linkModuleId=this.requestLinkModuleId)}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess()}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.webDesignerMainPageDependencyService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e)}})}onActionSelectModule(e){if(!e||e.id<=0){this.translate.get(["MESSAGE.Specify_the_module","MESSAGE.Information_module_is_not_clear"]).subscribe(i=>{this.cmsToastrService.typeErrorMessage(i["MESSAGE.Specify_the_module"],i["MESSAGE.Information_module_is_not_clear"])});return}this.dataModel.linkModuleId=e.id}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};nn.\u0275fac=function(i){return new(i||nn)(I(Ce),I(be),I(z),I(Vt),I(O),I(G),I(V),I(B))},nn.\u0275cmp=L({type:nn,selectors:[["app-webdesigner-pagedependency-add"]],viewQuery:function(i,t){if(i&1&&ne(gd,5),i&2){let s;oe(s=ae())&&(t.formGroup=s.first)}},standalone:!1,features:[Q],decls:33,vars:30,consts:[["vform","ngForm"],["CmsModuleClassName",""],["ClassActionName",""],["Title",""],["TitleResourceLanguage",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],[3,"optionChange","optionSelectForce","optionPlaceholder","optionDisabled"],["for","dataModel.cmsModuleClassName",1,"color-highlight"],["matInput","","type","text","name","dataModel.cmsModuleClassName","type","text","minlength","3","maxlength","100","required","","id","dataModel.cmsModuleClassName",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.classActionName",1,"color-highlight"],["matInput","","type","text","name","dataModel.classActionName","type","text","id","dataModel.classActionName",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"form-actions"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.titleResourceLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleResourceLanguage","minlength","3","maxlength","100","required","","id","dataModel.titleResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=D();a(0,"div",5),S(1,"app-progress-spinner",6),a(2,"div",7)(3,"p",8),d(4),l(),a(5,"p"),d(6),M(7,"translate"),l(),S(8,"app-cms-form-result-message",9),a(9,"form",10,0),v("ngSubmit",function(){return u(s),f(t.onFormSubmit())}),b(11,_d,1,5,"app-cms-enum-record-status-selector",11),b(12,bd,10,9,"div",12),b(13,Id,8,7,"div",12),a(14,"app-cms-module-selector",13),M(15,"translate"),v("optionChange",function(p){return u(s),f(t.onActionSelectModule(p))}),l(),a(16,"div",12)(17,"label",14),d(18),l(),a(19,"input",15,1),x("ngModelChange",function(p){return u(s),E(t.dataModel.cmsModuleClassName,p)||(t.dataModel.cmsModuleClassName=p),f(p)}),l(),b(21,vd,1,0,"i",16),b(22,Dd,1,0,"i",17),a(23,"em"),d(24),l(),b(25,yd,5,4,"mat-error"),l(),a(26,"div",12)(27,"label",18),d(28),l(),a(29,"input",19,2),x("ngModelChange",function(p){return u(s),E(t.dataModel.classActionName,p)||(t.dataModel.classActionName=p),f(p)}),l(),b(31,Td,5,4,"mat-error"),l(),b(32,wd,9,7,"div",20),l()()()}if(i&2){let s=R(20),_=R(30);o(),m("optionsInfoAreaId",t.constructorInfoAreaId),o(3),g(" ",t.formInfo.formTitle," "),o(2),g(" ",h(7,26,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),m("formInfo",t.formInfo),o(3),C(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?11:-1),o(),C(t.fieldsInfo.title!=null&&t.fieldsInfo.title.accessWatchField?12:-1),o(),C(t.fieldsInfo.titleResourceLanguage!=null&&t.fieldsInfo.titleResourceLanguage.accessWatchField?13:-1),o(),m("optionSelectForce",t.dataModel.linkModuleId)("optionPlaceholder",h(15,28,"TITLE.MODULE"))("optionDisabled",!(t.fieldsInfo.linkModuleId!=null&&t.fieldsInfo.linkModuleId.accessAddField)),o(4),A(t.fieldsInfo.cmsModuleClassName==null?null:t.fieldsInfo.cmsModuleClassName.fieldTitle),o(),m("placeholder",P(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),w("ngModel",t.dataModel.cmsModuleClassName),m("disabled",!(t.fieldsInfo.cmsModuleClassName!=null&&t.fieldsInfo.cmsModuleClassName.accessAddField)),o(2),C(s.value?-1:21),o(),C(s.value?22:-1),o(2),g("",s.value.length," / 100"),o(),C(s.errors!=null&&s.errors.required?25:-1),o(3),A(t.fieldsInfo.classActionName==null?null:t.fieldsInfo.classActionName.fieldTitle),o(),m("placeholder",P(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),w("ngModel",t.dataModel.classActionName),m("disabled",!(t.fieldsInfo.classActionName!=null&&t.fieldsInfo.classActionName.accessAddField)),o(2),C(_.errors!=null&&_.errors.required?31:-1),o(),C(t.formInfo.submitButtonEnabled?32:-1)}},dependencies:[fe,$,J,pe,ee,Me,he,ue,me,Se,F,Ie,Kn,j,se,k],encapsulation:2});var no=nn;var Ed=["*"];function xd(n,r){if(n&1&&(a(0,"label",3),d(1),l()),n&2){let e=c();m("for",Ne("app-cms-site-selector-",e.id)),o(),A(e.optionLabel)}}function Ad(n,r){if(n&1&&(a(0,"mat-option",6)(1,"span"),d(2),l()()),n&2){let e=r.$implicit,i=c();m("value",e)("disabled",i.optionDisabled),o(2),A(i.displayOption(e))}}function Rd(n,r){n&1&&S(0,"i",7)}function Pd(n,r){n&1&&S(0,"i",8)}function Wd(n,r){if(n&1){let e=D();a(0,"i",11),v("click",function(){u(e);let t=c();return f(t.onActionSelectClear())}),l()}}function Ld(n,r){n&1&&(a(0,"em"),d(1),M(2,"translate"),l()),n&2&&(o(),g("(",h(2,1,"TITLE.Necessary"),")"))}var _i=class _i{constructor(r,e,i,t,s){this.coreEnumService=r;this.cdr=e;this.publicHelper=i;this.translate=t;this.categoryService=s;this.id=++_i.nextId;this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new N;this.dataModelSelect=new tt;this.formControl=new ri;this.optionDisabled=!1;this.optionRequired=!1;this.optionSelectFirstItem=!1;this.optionPlaceholder="";this.optionLabel="";this.optionChange=new Pt;this.optionReload=()=>this.onActionButtonReload();this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(r){this.onActionSelectForce(r)}ngOnInit(){this.loadOptions(),(!this.optionLabel||this.optionLabel.length==0&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder)}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(ei(""),Zt(1500),$t(),ti(r=>typeof r=="string"||typeof r=="number"?this.DataGetAll(r||""):[]))}displayFn(r){return r?r.title:void 0}displayOption(r){return r?r.title:void 0}DataGetAll(r){return ie(this,null,function*(){let e=new Y;e.rowPerPage=20,e.accessLoad=!0;let i=new H;i.propertyName="title",i.value=r,i.searchType=qe.Contains,i.clauseType=He.Or,e.filters.push(i),r&&typeof+r=="number"&&+r>0&&(i=new H,i.propertyName="id",i.value=r,i.searchType=qe.Equal,i.clauseType=He.Or,e.filters.push(i));let t=this.constructor.name+"categoryService.ServiceGetAll";return this.translate.get("MESSAGE.Receiving_information").subscribe(s=>{this.publicHelper.processService.processStart(t,s,this.constructorInfoAreaId)}),yield Yt(this.categoryService.ServiceGetAll(e)).then(s=>(this.dataModelResult=s,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||this.dataModelSelect.id.length<=0)&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0])},1e3),this.onActionSelect(this.dataModelResult.listItems[0])),this.publicHelper.processService.processStop(t),s.listItems))})}onActionSelect(r){this.optionDisabled||(this.dataModelSelect=r,this.optionChange.emit(this.dataModelSelect))}onActionSelectClear(){this.optionDisabled||(this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null))}push(r){return this.filteredOptions.pipe(Xt(e=>(e.find(i=>i.id===r.id)||e.push(r),e)))}onActionSelectForce(r){if(typeof r=="string"&&r.length>0){if(this.dataModelSelect&&this.dataModelSelect.id===r)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(e=>e.id===r)){let e=this.dataModelResult.listItems.find(i=>i.id===r);this.dataModelSelect=e,this.formControl.setValue(e);return}this.categoryService.ServiceGetOneById(r).subscribe({next:e=>{e.isSuccess&&(this.filteredOptions=this.push(e.item),this.dataModelSelect=e.item,this.formControl.setValue(e.item),this.optionChange.emit(e.item))}});return}if(typeof r==typeof tt){this.filteredOptions=this.push(r),this.dataModelSelect=r,this.formControl.setValue(r);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new tt,this.loadOptions()}};_i.nextId=0,_i.\u0275fac=function(e){return new(e||_i)(I(z),I(V),I(G),I(B),I(dt))},_i.\u0275cmp=L({type:_i,selectors:[["app-webdesigner-pagetemplate-selector"]],inputs:{optionDisabled:"optionDisabled",optionRequired:"optionRequired",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionLabel:"optionLabel",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange"},standalone:!1,ngContentSelectors:Ed,decls:16,vars:23,consts:[["matauto","matAutocomplete"],[1,"input-style","has-borders","has-icon","input-style-always-active","validate-field","mb-4","loader-container"],[3,"optionsInfoAreaId"],[1,"color-highlight",3,"for"],["type","text","aria-label","Assignee","matInput","",3,"placeholder","formControl","matAutocomplete","required","id"],[3,"optionSelected","displayWith"],[3,"value","disabled"],[1,"fa","fa-info","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"fa","fa-times","action","color-red-dark"],[1,"fa","fa-rotate-right","action","color-green-dark",2,"margin-left","20px",3,"click","title"],[1,"fa","fa-times","action","color-red-dark",3,"click"]],template:function(e,i){if(e&1){let t=D();ii(),a(0,"div",1),S(1,"app-progress-spinner",2),b(2,xd,2,3,"label",3),S(3,"input",4),a(4,"mat-autocomplete",5,0),v("optionSelected",function(_){return u(t),f(i.onActionSelect(_.option.value))}),Ge(6,Ad,3,3,"mat-option",6,Be),M(8,"async"),l(),b(9,Rd,1,0,"i",7),b(10,Pd,1,0,"i",8),b(11,Wd,1,0,"i",9),a(12,"i",10),M(13,"translate"),v("click",function(){return u(t),f(i.onActionButtonReload())}),l(),b(14,Ld,3,3,"em"),ni(15),l()}if(e&2){let t=R(5);o(),m("optionsInfoAreaId",i.constructorInfoAreaId),o(),C((i.optionLabel==null?null:i.optionLabel.length)>0?2:-1),o(),m("placeholder",P(i.optionPlaceholder))("id",Ne("app-cms-site-selector-",i.id))("formControl",i.formControl)("matAutocomplete",t)("required",i.optionRequired),Wt("disabled",i.optionDisabled?!0:null),o(),m("displayWith",i.displayFn),o(2),Fe(h(8,19,i.filteredOptions)),o(3),C(i.formControl.valid?-1:9),o(),C(i.optionRequired&&i.formControl.valid?10:-1),o(),C((i.dataModelSelect==null||i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0?11:-1),o(),K("rotation360",i.publicHelper.processService.process.inRunArea[i.constructorInfoAreaId]),m("title",P(h(13,21,"ACTION.RELOAD"))),o(2),C(i.optionRequired&&(!i.dataModelSelect||!i.dataModelSelect.id||(i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)===0)?14:-1)}},dependencies:[$,J,ee,si,ci,di,pi,F,j,ot,k],encapsulation:2});var Mi=_i;var kd=["*"];function Vd(n,r){if(n&1&&(a(0,"label",3),d(1),l()),n&2){let e=c();m("for",Ne("app-cms-site-selector-",e.id)),o(),A(e.optionLabel)}}function Bd(n,r){if(n&1&&(a(0,"mat-option",6)(1,"span"),d(2),l()()),n&2){let e=r.$implicit,i=c();m("value",e)("disabled",i.optionDisabled),o(2),A(i.displayOption(e))}}function Gd(n,r){n&1&&S(0,"i",7)}function Fd(n,r){n&1&&S(0,"i",8)}function Nd(n,r){if(n&1){let e=D();a(0,"i",11),v("click",function(){u(e);let t=c();return f(t.onActionSelectClear())}),l()}}function Od(n,r){n&1&&(a(0,"em"),d(1),M(2,"translate"),l()),n&2&&(o(),g("(",h(2,1,"TITLE.Necessary"),")"))}var hi=class hi{constructor(r,e,i,t,s){this.coreEnumService=r;this.translate=e;this.cdr=i;this.publicHelper=t;this.categoryService=s;this.id=++hi.nextId;this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new N;this.dataModelSelect=new $e;this.formControl=new ri;this.optionDisabled=!1;this.optionRequired=!1;this.optionSelectFirstItem=!1;this.optionMasterPage=!1;this.optionLabel="";this.optionPlaceholder="";this.optionChange=new Pt;this.masterTemplateId="";this.optionReload=()=>this.onActionButtonReload();this.publicHelper.processService.cdr=this.cdr}set optionMasterTemplateId(r){this.masterTemplateId=r,this.loadOptions()}set optionSelectForce(r){this.onActionSelectForce(r)}ngOnInit(){this.loadOptions(),(!this.optionLabel||this.optionLabel.length==0&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder)}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(ei(""),Zt(1500),$t(),ti(r=>typeof r=="string"||typeof r=="number"?this.DataGetAll(r||""):[]))}displayFn(r){return r?r.title:void 0}displayOption(r){return r?r.title:void 0}DataGetAll(r){return ie(this,null,function*(){let e=new Y;e.rowPerPage=20,e.accessLoad=!0;let i=new H,t=new H;r&&r.length>0&&(i.propertyName="title",i.value=r,i.searchType=qe.Contains,i.clauseType=He.Or,t.filters.push(i)),r&&typeof+r=="number"&&+r>0&&(i=new H,i.propertyName="id",i.value=r,i.searchType=qe.Equal,i.clauseType=He.Or,t.filters.push(i)),e.filters.push(t),this.optionMasterPage&&(i=new H,i.propertyName="PageAbilityType",i.value=wo.Master,i.searchType=qe.Equal,i.clauseType=He.And,e.filters.push(i)),this.masterTemplateId&&this.masterTemplateId.length>0&&(i=new H,i.propertyName="LinkPageTemplateGuId",i.value=this.masterTemplateId,i.searchType=qe.Equal,i.clauseType=He.And,e.filters.push(i));let s=this.constructor.name+"main";return this.translate.get("MESSAGE.Receiving_information").subscribe(_=>{this.publicHelper.processService.processStart(s,_,this.constructorInfoAreaId)}),yield Yt(this.categoryService.ServiceGetAll(e)).then(_=>(this.dataModelResult=_,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||this.dataModelSelect.id.length<=0)&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0])},1e3),this.onActionSelect(this.dataModelResult.listItems[0])),this.publicHelper.processService.processStop(s),_.listItems))})}onActionSelect(r){this.optionDisabled||(this.dataModelSelect=r,this.optionChange.emit(this.dataModelSelect))}onActionSelectClear(){this.optionDisabled||(this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null))}push(r){return this.filteredOptions.pipe(Xt(e=>(e.find(i=>i.id===r.id)||e.push(r),e)))}onActionSelectForce(r){if(typeof r=="string"&&r.length>0){if(this.dataModelSelect&&this.dataModelSelect.id===r)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(e=>e.id===r)){let e=this.dataModelResult.listItems.find(i=>i.id===r);this.dataModelSelect=e,this.formControl.setValue(e);return}this.categoryService.ServiceGetOneById(r).subscribe({next:e=>{e.isSuccess&&(this.filteredOptions=this.push(e.item),this.dataModelSelect=e.item,this.formControl.setValue(e.item),this.optionChange.emit(e.item))}});return}if(typeof r==typeof $e){this.filteredOptions=this.push(r),this.dataModelSelect=r,this.formControl.setValue(r);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new $e,this.loadOptions()}};hi.nextId=0,hi.\u0275fac=function(e){return new(e||hi)(I(z),I(B),I(V),I(G),I(st))},hi.\u0275cmp=L({type:hi,selectors:[["app-webdesigner-page-selector"]],inputs:{optionMasterTemplateId:"optionMasterTemplateId",optionSelectForce:"optionSelectForce",optionDisabled:"optionDisabled",optionRequired:"optionRequired",optionSelectFirstItem:"optionSelectFirstItem",optionMasterPage:"optionMasterPage",optionLabel:"optionLabel",optionPlaceholder:"optionPlaceholder",optionReload:"optionReload"},outputs:{optionChange:"optionChange"},standalone:!1,ngContentSelectors:kd,decls:16,vars:23,consts:[["matauto","matAutocomplete"],[1,"input-style","has-borders","has-icon","input-style-always-active","validate-field","mb-4","loader-container"],[3,"optionsInfoAreaId"],[1,"color-highlight",3,"for"],["type","text","aria-label","Assignee","matInput","",3,"placeholder","formControl","matAutocomplete","required","id"],[3,"optionSelected","displayWith"],[3,"value","disabled"],[1,"fa","fa-info","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"fa","fa-times","action","color-red-dark"],[1,"fa","fa-rotate-right","action","color-green-dark",2,"margin-left","20px",3,"click","title"],[1,"fa","fa-times","action","color-red-dark",3,"click"]],template:function(e,i){if(e&1){let t=D();ii(),a(0,"div",1),S(1,"app-progress-spinner",2),b(2,Vd,2,3,"label",3),S(3,"input",4),a(4,"mat-autocomplete",5,0),v("optionSelected",function(_){return u(t),f(i.onActionSelect(_.option.value))}),Ge(6,Bd,3,3,"mat-option",6,Be),M(8,"async"),l(),b(9,Gd,1,0,"i",7),b(10,Fd,1,0,"i",8),b(11,Nd,1,0,"i",9),a(12,"i",10),M(13,"translate"),v("click",function(){return u(t),f(i.onActionButtonReload())}),l(),b(14,Od,3,3,"em"),ni(15),l()}if(e&2){let t=R(5);o(),m("optionsInfoAreaId",i.constructorInfoAreaId),o(),C((i.optionLabel==null?null:i.optionLabel.length)>0?2:-1),o(),m("placeholder",P(i.optionPlaceholder))("id",Ne("app-cms-site-selector-",i.id))("formControl",i.formControl)("matAutocomplete",t)("required",i.optionRequired),Wt("disabled",i.optionDisabled?!0:null),o(),m("displayWith",i.displayFn),o(2),Fe(h(8,19,i.filteredOptions)),o(3),C(i.formControl.valid?-1:9),o(),C(i.optionRequired&&i.formControl.valid?10:-1),o(),C((i.dataModelSelect==null||i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0?11:-1),o(),K("rotation360",i.publicHelper.processService.process.inRunArea[i.constructorInfoAreaId]),m("title",P(h(13,21,"ACTION.RELOAD"))),o(2),C(i.optionRequired&&(!i.dataModelSelect||!i.dataModelSelect.id||(i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)===0)?14:-1)}},dependencies:[$,J,ee,si,ci,di,pi,F,j,ot,k],encapsulation:2});var Si=hi;var Hd=["vform"];function qd(n,r){if(n&1){let e=D();a(0,"app-webdesigner-page-selector",15),M(1,"translate"),v("optionChange",function(t){u(e);let s=c();return f(s.onActionSelectParent(t))}),l()}if(n&2){let e=c();m("optionMasterPage",!0)("optionMasterTemplateId",e.dataModel.linkPageTemplateGuId)("optionPlaceholder",h(1,4,"TITLE.parent_page"))("optionDisabled",!1)}}function jd(n,r){if(n&1){let e=D();a(0,"div",14)(1,"button",16),v("click",function(){u(e);let t=c();return f(t.onFormCancel())}),S(2,"i",17),d(3),M(4,"translate"),l(),a(5,"button",18),S(6,"i",19),d(7),M(8,"translate"),l()()}if(n&2){c();let e=R(9);o(3),g(" ",h(4,3,"ACTION.CANCEL")," "),o(2),m("disabled",!e.form.valid),o(2),g(" ",h(8,5,"ACTION.SAVE")," ")}}var on=class on{constructor(r,e,i,t,s,_,p,U){this.data=r;this.dialogRef=e;this.coreEnumService=i;this.webDesignerMainPageService=t;this.cmsToastrService=s;this.publicHelper=_;this.cdr=p;this.translate=U;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new Pi;this.dataModel=new Wo;this.formInfo=new le;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.translate.get("TITLE.Automatically_add_all_pages").subscribe(r=>{this.formInfo.formTitle=r})}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage="";let r=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(r,e,this.constructorInfoAreaId)}),this.webDesignerMainPageService.ServiceAutoAdd(this.dataModel).subscribe({next:e=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=e,e.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(i=>{this.formInfo.submitResultMessage=i,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(e.errorMessage)),this.publicHelper.processService.processStop(r)},error:e=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(r)}})}onActionSelectModule(r){if(!r||r.id.length<=0){this.translate.get(["MESSAGE.Specify_the_template","MESSAGE.Information_of_template_is_not_clear"]).subscribe(e=>{this.cmsToastrService.typeErrorMessage(e["MESSAGE.Specify_the_template"],e["MESSAGE.Information_of_template_is_not_clear"])});return}this.dataModel.linkPageTemplateGuId=r.id}onActionSelectParent(r){this.dataModel.linkPageParentGuId="",r&&r.id&&r.id.length>0&&(this.dataModel.linkPageParentGuId=r.id)}onFormSubmit(){if(this.formGroup.valid){if(this.formInfo.submitButtonEnabled=!1,!this.dataModel.linkPageTemplateGuId||this.dataModel.linkPageTemplateGuId.length<=0){this.translate.get(["MESSAGE.Specify_the_template","MESSAGE.Information_of_template_is_not_clear"]).subscribe(r=>{this.cmsToastrService.typeErrorMessage(r["MESSAGE.Specify_the_template"],r["MESSAGE.Information_of_template_is_not_clear"])});return}this.DataAddContent()}}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};on.\u0275fac=function(e){return new(e||on)(I(Ce),I(be),I(z),I(st),I(O),I(G),I(V),I(B))},on.\u0275cmp=L({type:on,selectors:[["app-webdesigner-pagedependency-autoaddpage"]],viewQuery:function(e,i){if(e&1&&ne(Hd,5),e&2){let t;oe(t=ae())&&(i.formGroup=t.first)}},standalone:!1,decls:21,vars:15,consts:[["vform","ngForm"],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection"],[3,"optionChange","optionSelectForce","optionPlaceholder","optionDisabled"],[3,"optionMasterPage","optionMasterTemplateId","optionPlaceholder","optionDisabled"],[1,"ntk-full-width"],["name","dataModel.pageDependencyIsDefaultPage",3,"ngModelChange","ngModel"],[1,"ntk-cms-html-card-message"],[3,"formInfo"],[1,"ntk-cms-html-card-footer"],[1,"form-actions"],[3,"optionChange","optionMasterPage","optionMasterTemplateId","optionPlaceholder","optionDisabled"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(e,i){if(e&1){let t=D();a(0,"div",1),S(1,"app-progress-spinner",2),a(2,"div",3)(3,"p",4),d(4),l(),a(5,"p"),d(6),M(7,"translate"),l(),a(8,"form",5,0),v("ngSubmit",function(){return u(t),f(i.onFormSubmit())}),a(10,"div",6)(11,"app-webdesigner-pagetemplate-selector",7),M(12,"translate"),v("optionChange",function(_){return u(t),f(i.onActionSelectModule(_))}),l(),b(13,qd,2,6,"app-webdesigner-page-selector",8),a(14,"div",9)(15,"mat-slide-toggle",10),x("ngModelChange",function(_){return u(t),E(i.dataModel.pageDependencyIsDefaultPage,_)||(i.dataModel.pageDependencyIsDefaultPage=_),f(_)}),d(16),l()()(),a(17,"div",11),S(18,"app-cms-form-result-message",12),l(),a(19,"div",13),b(20,jd,9,7,"div",14),l()()()()}e&2&&(o(),m("optionsInfoAreaId",i.constructorInfoAreaId),o(3),g(" ",i.formInfo.formTitle," "),o(2),g(" ",h(7,11,"TITLE.Be_Careful_When_Entering_Information")," "),o(5),m("optionSelectForce",i.dataModel.linkPageTemplateGuId)("optionPlaceholder",h(12,13,"TITLE.Select_the_template"))("optionDisabled",!1),o(2),C(i.dataModel.linkPageTemplateGuId&&i.dataModel.linkPageTemplateGuId.length>0?13:-1),o(2),w("ngModel",i.dataModel.pageDependencyIsDefaultPage),o(),g(" ",i.fieldsInfo.pageDependencyIsDefaultPage==null?null:i.fieldsInfo.pageDependencyIsDefaultPage.fieldTitle," "),o(2),m("formInfo",i.formInfo),o(2),C(i.formInfo.submitButtonEnabled?20:-1))},dependencies:[fe,J,pe,ue,me,Pe,j,se,Mi,Si,k],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});var oo=on;var Ud=["vform"];function Qd(n,r){if(n&1){let e=D();a(0,"app-cms-enum-record-status-selector",23),x("modelChange",function(t){u(e);let s=c();return E(s.dataModel.recordStatus,t)||(s.dataModel.recordStatus=t),f(t)}),l()}if(n&2){let e=c();w("model",e.dataModel.recordStatus),m("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function zd(n,r){n&1&&S(0,"i",18)}function Kd(n,r){n&1&&S(0,"i",19)}function Jd(n,r){if(n&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),M(4,"translate"),l()()),n&2){let e=c(2);o(),g(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," is "),o(2),A(h(4,2,"MESSAGE.required"))}}function Yd(n,r){if(n&1){let e=D();a(0,"div",12)(1,"label",24),d(2),l(),a(3,"input",25,3),x("ngModelChange",function(t){u(e);let s=c();return E(s.dataModel.title,t)||(s.dataModel.title=t),f(t)}),l(),b(5,zd,1,0,"i",18),b(6,Kd,1,0,"i",19),a(7,"em"),d(8),l(),b(9,Jd,5,4,"mat-error"),l()}if(n&2){let e=R(4),i=c();o(2),A(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(),m("placeholder",P(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle)),w("ngModel",i.dataModel.title),m("disabled",!(i.fieldsInfo.title!=null&&i.fieldsInfo.title.accessEditField)),o(2),C(e.value?-1:5),o(),C(e.value?6:-1),o(2),g("",e.value.length," / 100"),o(),C(e.errors!=null&&e.errors.required?9:-1)}}function Xd(n,r){if(n&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),M(4,"translate"),l()()),n&2){let e=c(2);o(),g(" ",e.fieldsInfo.titleResourceLanguage==null?null:e.fieldsInfo.titleResourceLanguage.fieldTitle," is "),o(2),A(h(4,2,"MESSAGE.required"))}}function Zd(n,r){if(n&1){let e=D();a(0,"div",12)(1,"label",26),d(2),l(),a(3,"input",27,4),x("ngModelChange",function(t){u(e);let s=c();return E(s.dataModel.titleResourceLanguage,t)||(s.dataModel.titleResourceLanguage=t),f(t)}),l(),a(5,"em"),d(6),l(),b(7,Xd,5,4,"mat-error"),l()}if(n&2){let e=R(4),i=c();o(2),A(i.fieldsInfo.titleResourceLanguage==null?null:i.fieldsInfo.titleResourceLanguage.fieldTitle),o(),m("placeholder",P(i.fieldsInfo.titleResourceLanguage==null?null:i.fieldsInfo.titleResourceLanguage.fieldTitle)),w("ngModel",i.dataModel.titleResourceLanguage),m("disabled",!(i.fieldsInfo.titleResourceLanguage!=null&&i.fieldsInfo.titleResourceLanguage.accessEditField)),o(3),g("",e.value.length," / 100"),o(),C(e.errors!=null&&e.errors.required?7:-1)}}function $d(n,r){n&1&&S(0,"i",18)}function ec(n,r){n&1&&S(0,"i",19)}function tc(n,r){if(n&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),M(4,"translate"),l()()),n&2){let e=c();o(),g(" ",e.fieldsInfo.cmsModuleClassName==null?null:e.fieldsInfo.cmsModuleClassName.fieldTitle," is "),o(2),A(h(4,2,"MESSAGE.required"))}}function ic(n,r){if(n&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),M(4,"translate"),l()()),n&2){let e=c();o(),g(" ",e.fieldsInfo.classActionName==null?null:e.fieldsInfo.classActionName.fieldTitle," is "),o(2),A(h(4,2,"MESSAGE.required"))}}function nc(n,r){if(n&1){let e=D();a(0,"div",22)(1,"button",28),v("click",function(){u(e);let t=c();return f(t.onFormCancel())}),S(2,"i",29),d(3),M(4,"translate"),l(),a(5,"button",30),S(6,"i",31),d(7),M(8,"translate"),l()()}if(n&2){c();let e=R(10);o(3),g(" ",h(4,3,"ACTION.CANCEL")," "),o(2),m("disabled",!e.form.valid),o(2),g(" ",h(8,5,"ACTION.SAVE")," ")}}var an=class an extends Nt{constructor(e,i,t,s,_,p,U,X){super(s,new et,p,X);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.webDesignerMainPageDependencyService=s;this.cmsToastrService=_;this.publicHelper=p;this.cdr=U;this.translate=X;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new Pi;this.dataModel=new et;this.formInfo=new le;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id+""),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.webDesignerMainPageDependencyService.setAccessLoad(),this.webDesignerMainPageDependencyService.setAccessDataType(kt.Editor),this.webDesignerMainPageDependencyService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.webDesignerMainPageDependencyService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e)}})}onActionSelectModule(e){if(!e||e.id<=0){this.translate.get(["MESSAGE.Specify_the_module","MESSAGE.Information_module_is_not_clear"]).subscribe(i=>{this.cmsToastrService.typeErrorMessage(i["MESSAGE.Specify_the_module"],i["MESSAGE.Information_module_is_not_clear"])});return}this.dataModel.linkModuleId=e.id}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};an.\u0275fac=function(i){return new(i||an)(I(Ce),I(be),I(z),I(Vt),I(O),I(G),I(V),I(B))},an.\u0275cmp=L({type:an,selectors:[["app-webdesigner-pagedependency-edit"]],viewQuery:function(i,t){if(i&1&&ne(Ud,5),i&2){let s;oe(s=ae())&&(t.formGroup=s.first)}},standalone:!1,features:[Q],decls:38,vars:35,consts:[["vform","ngForm"],["CmsModuleClassName",""],["ClassActionName",""],["Title",""],["TitleResourceLanguage",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.titleML",1,"color-highlight"],["matInput","","type","text","cmsKeyboardForce","en","name","dataModel.titleML","id","dataModel.titleML",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],[3,"optionChange","optionSelectForce","optionPlaceholder","optionDisabled"],["for","dataModel.cmsModuleClassName",1,"color-highlight"],["matInput","","type","text","name","dataModel.cmsModuleClassName","type","text","minlength","3","maxlength","100","required","","id","dataModel.cmsModuleClassName",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.classActionName",1,"color-highlight"],["matInput","","type","text","name","dataModel.classActionName","type","text","id","dataModel.classActionName",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"form-actions"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.titleResourceLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleResourceLanguage","minlength","3","maxlength","100","required","","id","dataModel.titleResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=D();a(0,"div",5),S(1,"app-progress-spinner",6),a(2,"div",7)(3,"p",8),d(4),l(),a(5,"p"),d(6),M(7,"translate"),l(),S(8,"app-cms-form-result-message",9),a(9,"form",10,0),v("ngSubmit",function(){return u(s),f(t.onFormSubmit())}),b(11,Qd,1,5,"app-cms-enum-record-status-selector",11),b(12,Yd,10,9,"div",12),a(13,"div",12)(14,"label",13),d(15),M(16,"translate"),l(),a(17,"input",14),x("ngModelChange",function(p){return u(s),E(t.dataModel.titleML,p)||(t.dataModel.titleML=p),f(p)}),l()(),b(18,Zd,8,7,"div",12),a(19,"app-cms-module-selector",15),M(20,"translate"),v("optionChange",function(p){return u(s),f(t.onActionSelectModule(p))}),l(),a(21,"div",12)(22,"label",16),d(23),l(),a(24,"input",17,1),x("ngModelChange",function(p){return u(s),E(t.dataModel.cmsModuleClassName,p)||(t.dataModel.cmsModuleClassName=p),f(p)}),l(),b(26,$d,1,0,"i",18),b(27,ec,1,0,"i",19),a(28,"em"),d(29),l(),b(30,tc,5,4,"mat-error"),l(),a(31,"div",12)(32,"label",20),d(33),l(),a(34,"input",21,2),x("ngModelChange",function(p){return u(s),E(t.dataModel.classActionName,p)||(t.dataModel.classActionName=p),f(p)}),l(),b(36,ic,5,4,"mat-error"),l(),b(37,nc,9,7,"div",22),l()()()}if(i&2){let s=R(25),_=R(35);o(),m("optionsInfoAreaId",t.constructorInfoAreaId),o(3),g(" ",t.formInfo.formTitle," "),o(2),g(" ",h(7,29,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),m("formInfo",t.formInfo),o(3),C(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?11:-1),o(),C(t.fieldsInfo.title!=null&&t.fieldsInfo.title.accessWatchField?12:-1),o(3),g(" ",h(16,31,"TITLE.TitleML")),o(2),w("ngModel",t.dataModel.titleML),m("disabled",!0),o(),C(t.fieldsInfo.titleResourceLanguage!=null&&t.fieldsInfo.titleResourceLanguage.accessWatchField?18:-1),o(),m("optionSelectForce",t.dataModel.linkModuleId)("optionPlaceholder",h(20,33,"TITLE.MODULE"))("optionDisabled",!(t.fieldsInfo.linkModuleId!=null&&t.fieldsInfo.linkModuleId.accessEditField)),o(4),A(t.fieldsInfo.cmsModuleClassName==null?null:t.fieldsInfo.cmsModuleClassName.fieldTitle),o(),m("placeholder",P(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),w("ngModel",t.dataModel.cmsModuleClassName),m("disabled",!(t.fieldsInfo.cmsModuleClassName!=null&&t.fieldsInfo.cmsModuleClassName.accessEditField)),o(2),C(s.value?-1:26),o(),C(s.value?27:-1),o(2),g("",s.value.length," / 100"),o(),C(s.errors!=null&&s.errors.required?30:-1),o(3),A(t.fieldsInfo.classActionName==null?null:t.fieldsInfo.classActionName.fieldTitle),o(),m("placeholder",P(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),w("ngModel",t.dataModel.classActionName),m("disabled",!(t.fieldsInfo.classActionName!=null&&t.fieldsInfo.classActionName.accessEditField)),o(2),C(_.errors!=null&&_.errors.required?36:-1),o(),C(t.formInfo.submitButtonEnabled?37:-1)}},dependencies:[fe,$,J,pe,ee,Me,he,ue,me,Se,F,Ie,Kn,j,se,Vi,k],encapsulation:2});var ao=an;var oc=()=>[5,10,20,100],ac=n=>({display:n});function rc(n,r){if(n&1&&S(0,"app-core-module-header",3),n&2){let e=c();m("optionId",e.requestLinkModuleId)}}function lc(n,r){if(n&1){let e=D();a(0,"div",17)(1,"a",45),v("click",function(){u(e);let t=c();return f(t.onActionButtonNewRow())}),S(2,"i",46)(3,"br"),l(),a(4,"p",21),d(5),M(6,"translate"),l()()}n&2&&(o(5),g(" ",h(6,1,"ACTION.ADD")," "))}function sc(n,r){if(n&1){let e=D();a(0,"div",17)(1,"a",47),v("click",function(){u(e);let t=c();return f(t.onActionButtonNewRowAutoDependency())}),a(2,"i",46),d(3,"Dependency"),l(),S(4,"br"),l(),a(5,"p",21),d(6),M(7,"translate"),l()()}n&2&&(o(6),g(" ",h(7,1,"ACTION.AUTOADD"),"Dependency "))}function dc(n,r){if(n&1){let e=D();a(0,"div",17)(1,"a",47),v("click",function(){u(e);let t=c();return f(t.onActionButtonNewRowAutoPage())}),a(2,"i",46),d(3,"Page"),l(),S(4,"br"),l(),a(5,"p",21),d(6),M(7,"translate"),l()()}n&2&&(o(6),g(" ",h(7,1,"ACTION.AUTOADD"),"Page "))}function cc(n,r){if(n&1){let e=D();a(0,"div",17)(1,"a",48),v("click",function(){u(e);let t=c();return f(t.onActionButtonEditRow(t.tableRowSelected))}),S(2,"i",49)(3,"br"),l(),a(4,"p",21),d(5),M(6,"translate"),l()()}n&2&&(o(5),g(" ",h(6,1,"ACTION.EDIT")," "))}function pc(n,r){if(n&1){let e=D();a(0,"div",17)(1,"a",50),v("click",function(){u(e);let t=c();return f(t.onActionButtonDeleteRow(t.tableRowSelected))}),S(2,"i",51)(3,"br"),l(),a(4,"p",21),d(5),M(6,"translate"),l()()}n&2&&(o(5),g(" ",h(6,1,"ACTION.DELETE")," "))}function mc(n,r){n&1&&(a(0,"mat-header-cell",52),d(1),M(2,"translate"),l()),n&2&&(o(),g(" ",h(2,1,"TITLE.PICTURE")," "))}function uc(n,r){if(n&1&&(S(0,"img",53),M(1,"cmsthumbnail")),n&2){let e=c().$implicit;m("src",P(h(1,2,e.linkModuleFileLogoIdSrc)),ye)}}function fc(n,r){if(n&1&&(a(0,"mat-cell"),b(1,uc,2,4,"img",53),l()),n&2){let e=r.$implicit;o(),C((e==null||e.linkModuleFileLogoIdSrc==null?null:e.linkModuleFileLogoIdSrc.length)>0?1:-1)}}function gc(n,r){if(n&1&&(a(0,"mat-header-cell",52),d(1),l()),n&2){let e=c();o(),g(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function _c(n,r){if(n&1&&(a(0,"mat-cell"),d(1),l()),n&2){let e=r.$implicit;o(),g(" ",e.id," ")}}function Mc(n,r){if(n&1&&(a(0,"mat-header-cell",52),d(1),l()),n&2){let e=c();o(),g(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function hc(n,r){if(n&1&&S(0,"select",55),n&2){let e=c().$implicit,i=c();m("contentService",i.contentService)("row",e)("ngStyle",it(3,ac,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function Sc(n,r){if(n&1&&(a(0,"mat-cell",54),M(1,"statusCellClass"),S(2,"i",54),M(3,"statusIconClass"),b(4,hc,1,5,"select",55),l()),n&2){let e=r.$implicit,i=c();m("ngClass",h(1,3,e.recordStatus)),o(2),m("ngClass",h(3,5,e.recordStatus)),o(2),C(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessEditRow?4:-1)}}function bc(n,r){if(n&1&&(a(0,"mat-header-cell",52),d(1),l()),n&2){let e=c();o(),g(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," ")}}function Cc(n,r){if(n&1&&(a(0,"mat-cell"),d(1),l()),n&2){let e=r.$implicit;o(),g(" ",e.title," ")}}function Ic(n,r){n&1&&(a(0,"mat-header-cell",52),d(1),M(2,"translate"),l()),n&2&&(o(),g(" ",h(2,1,"TITLE.TitleML")," "))}function vc(n,r){if(n&1&&(a(0,"mat-cell"),d(1),l()),n&2){let e=r.$implicit;o(),g(" ",e.titleML," ")}}function Dc(n,r){if(n&1&&(a(0,"mat-header-cell",52),d(1),l()),n&2){let e=c();o(),g(" ",e.fieldsInfo.linkModuleId==null?null:e.fieldsInfo.linkModuleId.fieldTitle," ")}}function yc(n,r){if(n&1&&(a(0,"mat-cell"),d(1),M(2,"cmstitle"),l()),n&2){let e=r.$implicit,i=c();o(),g(" ",Lt(2,1,e.linkModuleId,i.dataModelCoreModuleResult.listItems)," ")}}function Tc(n,r){if(n&1&&(a(0,"mat-header-cell",52),d(1),l()),n&2){let e=c();o(),g(" ",e.fieldsInfo.cmsModuleClassName==null?null:e.fieldsInfo.cmsModuleClassName.fieldTitle," ")}}function wc(n,r){if(n&1&&(a(0,"mat-cell"),d(1),l()),n&2){let e=r.$implicit;o(),g(" ",e.cmsModuleClassName," ")}}function Ec(n,r){if(n&1&&(a(0,"mat-header-cell",52),d(1),l()),n&2){let e=c();o(),g(" ",e.fieldsInfo.classActionName==null?null:e.fieldsInfo.classActionName.fieldTitle," ")}}function xc(n,r){if(n&1&&(a(0,"mat-cell"),d(1),l()),n&2){let e=r.$implicit;o(),g(" ",e.classActionName," ")}}function Ac(n,r){n&1&&(a(0,"mat-header-cell"),d(1),M(2,"translate"),l()),n&2&&(o(),g(" ",h(2,1,"TITLE.OPTION")," "))}function Rc(n,r){if(n&1&&(a(0,"mat-cell",56)(1,"button",57)(2,"mat-icon"),d(3,"more_vert"),l()(),S(4,"mat-menu",null,2),l()),n&2){let e=R(5);o(),m("matMenuTriggerFor",e)}}function Pc(n,r){n&1&&S(0,"mat-header-row")}function Wc(n,r){if(n&1){let e=D();a(0,"mat-row",58),v("click",function(t){let s=u(e).$implicit,_=c();return f(_.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=u(e).$implicit,_=c();return f(_.onActionTableRowSelect(s,t))}),l()}if(n&2){let e=r.$implicit,i=c();K("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var rn=class rn extends Tt{constructor(e,i,t,s,_,p,U,X,Rt,Ci,Kt,Ii,Jt,gn,Pa){super(e,new et,gn,U,Ci);this.contentService=e;this.cmsToastrService=i;this.cmsConfirmationDialogService=t;this.coreModuleService=s;this.activatedRoute=_;this.router=p;this.tokenHelper=U;this.http=X;this.cdr=Rt;this.translate=Ci;this.pageInfo=Kt;this.themeService=Ii;this.cmsStoreService=Jt;this.publicHelper=gn;this.dialog=Pa;this.requestLinkModuleId=0;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new Y;this.filterDataModelQueryBuilder=[];this.dataModelCoreModuleResult=new N;this.categoryModelSelected=new Ao;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["id","recordStatus","TitleML","LinkModuleId","CmsModuleClassName","ClassActionName"];this.tabledisplayedColumnsMobileSource=["id","recordStatus","TitleML","LinkModuleId","CmsModuleClassName","ClassActionName"];this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.requestLinkModuleId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkModuleId")),this.optionsSearch.parentMethods={onSubmit:Ve=>this.onSubmitOptionsSearch(Ve)},this.filteModelContent.sortColumn="LinkModuleId",this.filteModelContent.sortType=q.Ascending}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>ie(this,null,function*(){this.tokenInfo=e,this.DataGetAll()}))),this.getModuleList()}getModuleList(){let e=new Y;e.rowPerPage=100,this.coreModuleService.ServiceGetAllModuleName(e).subscribe({next:i=>{this.dataModelCoreModuleResult=i}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,["id","recordStatus","title","CmsModuleClassName","ClassActionName"],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new et);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(s=>{this.publicHelper.processService.processStart(e,s,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=new H,t=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(t.filters=[...this.filterDataModelQueryBuilder]),this.categoryModelSelected&&this.categoryModelSelected.id>0&&(i.propertyName="LinkModuleId",i.value=this.categoryModelSelected.id,t.filters.push(i)),this.contentService.ServiceGetAllEditor(t).subscribe({next:s=>{s.isSuccess&&(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(s.access),this.dataModelResult=s,this.tableSource.data=s.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(s.access)},1e3)),this.publicHelper.processService.processStop(e)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(e)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=q.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=q.Ascending):(q,e.start="desc"):(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=q.Descending),q,this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(no,{height:"90%",panelClass:e,enterAnimationDuration:Z.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Z.cmsViewConfig.exitAnimationDuration,data:{linkModuleId:this.categoryModelSelected.id}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionButtonNewRowAutoPage(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(oo,{height:"90%",panelClass:e,enterAnimationDuration:Z.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Z.cmsViewConfig.exitAnimationDuration,data:{linkModuleId:this.categoryModelSelected.id}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionButtonNewRowAutoDependency(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=new H;this.contentService.ServiceAutoAdd().subscribe({next:t=>{t.isSuccess&&this.cmsToastrService.typeSuccessAdd(),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e)}})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(ao,{height:"90%",panelClass:i,enterAnimationDuration:Z.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Z.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(s=>{this.cmsToastrService.typeErrorSelected(s)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(s=>{i=s["MESSAGE.Please_Confirm"],t=s["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(s=>{if(s){let _=this.constructor.name+"contentService.ServiceDelete";this.translate.get("MESSAGE.Receiving_information").subscribe(p=>{this.publicHelper.processService.processStart(_,p,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:p=>{p.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(_)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(_)}})}}).catch(()=>{})}onActionButtonPageList(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.onActionTableRowSelect(e),this.tokenInfo.access.userAccessAdminAllowToAllData?this.router.navigate(["/webdesigner/page/list-grid/LinkPageDependencyGuId",this.tableRowSelected.id]):this.router.navigate(["/webdesigner/page/LinkPageDependencyGuId",this.tableRowSelected.id])}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(p=>{i.set(p,0)}),this.translate.get("MESSAGE.All").subscribe(p=>{i.set(p,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(p=>{this.publicHelper.processService.processStart(t,p,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:p=>{p.isSuccess&&(i.set("All",p.totalRowCount),this.optionsStatist.childMethods.setStatistValue(i)),this.publicHelper.processService.processStop(t)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(t)}});let s=JSON.parse(JSON.stringify(this.filteModelContent)),_=new H;_.propertyName="recordStatus",_.value=rt.Available,s.filters.push(_),this.contentService.ServiceGetCount(s).subscribe({next:p=>{p.isSuccess&&(i.set("Active",p.totalRowCount),this.optionsStatist.childMethods.setStatistValue(i)),this.publicHelper.processService.processStop(t)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(t)}})}onActionButtonSiteRouteView(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorSelected();return}let i=this.tokenInfo.site.currentSiteDomainUrl+"/"+e.cmsModuleClassName+"/"+e.classActionName;window.open(i,"_blank")}onActionSelectorSelect(e){let i=this.filteModelContent.sortColumn,t=this.filteModelContent.sortType;this.filteModelContent=new Y,this.filteModelContent.sortColumn=i,this.filteModelContent.sortType=t,this.categoryModelSelected=e,this.DataGetAll()}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}};rn.\u0275fac=function(i){return new(i||rn)(I(Vt),I(O),I(Qe),I(En),I(at),I(Oe),I(Le),I(yo),I(V),I(B),I(yt),I(Dt),I(We),I(G),I(je))},rn.\u0275cmp=L({type:rn,selectors:[["app-webdesigner-pagedependency-list"]],standalone:!1,features:[Q],decls:79,vars:39,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionId"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],[3,"optionChange"],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-page","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-globe","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","LinkModuleFileLogoIdSrc"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","id"],["matColumnDef","recordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","title"],["matColumnDef","TitleML"],["matColumnDef","LinkModuleId"],["matColumnDef","CmsModuleClassName"],["matColumnDef","ClassActionName"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],["type","button","target","_blank","id","openModalButton","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(i,t){if(i&1){let s=D();b(0,rc,1,1,"app-core-module-header",3),a(1,"app-cms-html-list",4),x("optionActionGuideNoticeDisplayChange",function(p){return u(s),E(t.viewGuideNotice,p)||(t.viewGuideNotice=p),f(p)}),v("optionOnActionButtonMemoRow",function(){return u(s),f(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return u(s),f(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return u(s),f(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return u(s),f(t.onActionButtonPrintRow())}),y(2,5),a(3,"app-core-module-tree",6),v("optionChange",function(p){return u(s),f(t.onActionSelectorSelect(p))}),l(),T(),Ee(4,7)(5,8),y(6,9),a(7,"a",10),v("click",function(){return u(s),f(t.viewGuideNotice=!t.viewGuideNotice)}),S(8,"i",11),l(),a(9,"a",10),v("click",function(){return u(s),f(t.onActionButtonReload())}),S(10,"i",12),l(),T(),y(11,13),a(12,"a",14),v("click",function(){return u(s),f(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),S(13,"mat-slide-toggle",15),d(14),M(15,"translate"),l(),a(16,"a",14),v("click",function(){return u(s),f(t.onActionButtonStatist())}),S(17,"mat-slide-toggle",15),d(18),M(19,"translate"),l(),T(),y(20,16),b(21,lc,7,3,"div",17),b(22,sc,8,3,"div",17),b(23,dc,8,3,"div",17),T(),y(24,18),b(25,cc,7,3,"div",17),b(26,pc,7,3,"div",17),a(27,"div",17)(28,"a",19),v("click",function(){return u(s),f(t.onActionButtonPageList(t.tableRowSelected))}),S(29,"i",20)(30,"br"),l(),a(31,"p",21),d(32),M(33,"translate"),l()(),a(34,"div",17)(35,"a",19),v("click",function(){return u(s),f(t.onActionButtonSiteRouteView(t.tableRowSelected))}),S(36,"i",22)(37,"br"),l(),a(38,"p",21),d(39),M(40,"translate"),l()(),T(),y(41,23),a(42,"app-cms-search-list",24),x("optionsChange",function(p){return u(s),E(t.optionsSearch,p)||(t.optionsSearch=p),f(p)}),l(),a(43,"app-cms-statist-list",24),x("optionsChange",function(p){return u(s),E(t.optionsStatist,p)||(t.optionsStatist=p),f(p)}),l(),T(),y(44,25),a(45,"mat-table",26,0),v("matSortChange",function(){u(s);let p=R(46);return f(t.onTableSortData(p))}),y(47,27),W(48,mc,3,3,"mat-header-cell",28)(49,fc,2,1,"mat-cell",29),T(),y(50,30),W(51,gc,2,1,"mat-header-cell",28)(52,_c,2,1,"mat-cell",29),T(),y(53,31),W(54,Mc,2,1,"mat-header-cell",28)(55,Sc,5,7,"mat-cell",32),T(),y(56,33),W(57,bc,2,1,"mat-header-cell",28)(58,Cc,2,1,"mat-cell",29),T(),y(59,34),W(60,Ic,3,3,"mat-header-cell",28)(61,vc,2,1,"mat-cell",29),T(),y(62,35),W(63,Dc,2,1,"mat-header-cell",28)(64,yc,3,4,"mat-cell",29),T(),y(65,36),W(66,Tc,2,1,"mat-header-cell",28)(67,wc,2,1,"mat-cell",29),T(),y(68,37),W(69,Ec,2,1,"mat-header-cell",28)(70,xc,2,1,"mat-cell",29),T(),y(71,38),W(72,Ac,3,3,"mat-header-cell",39)(73,Rc,6,1,"mat-cell",40),T(),W(74,Pc,1,0,"mat-header-row",41)(75,Wc,1,2,"mat-row",42),l(),T(),y(76,43),a(77,"mat-paginator",44,1),v("page",function(p){return u(s),f(t.onTablePageingData(p))}),l(),T(),l()}i&2&&(C(t.requestLinkModuleId>0?0:-1),o(),m("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey","configuresite.webdesigner.pagedependency"),w("optionActionGuideNoticeDisplay",t.viewGuideNotice),m("optionTreeDisplay",t.requestLinkModuleId===0)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.title),o(9),K("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(3),m("checked",t.optionsSearch.data.show),o(),g("",h(15,30,"ACTION.SEARCH")," "),o(3),m("checked",t.optionsStatist.data.show),o(),g("",h(19,32,"ACTION.STATIST")," "),o(3),C(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessAddRow?21:-1),o(),C(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessAddRow?22:-1),o(),C(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessAddRow?23:-1),o(2),C(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?25:-1),o(),C(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?26:-1),o(6),g(" ",h(33,34,"ACTION.PAGES")," "),o(7),g(" ",h(40,36,"ACTION.SHOW_WEB")," "),o(3),w("options",t.optionsSearch),o(),w("options",t.optionsStatist),o(2),m("dataSource",t.tableSource),o(29),m("matHeaderRowDef",t.tabledisplayedColumns),o(),m("matRowDefColumns",t.tabledisplayedColumns),o(2),m("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",ve(38,oc)))},dependencies:[Te,nt,Re,re,F,ct,pt,Ue,Pe,mt,ut,ft,_t,bt,Mt,gt,Ct,ht,St,It,vt,ze,Ke,Je,Ye,wt,ba,Sa,k,Bi,Gt,Xe,Ot],encapsulation:2});var ro=rn;var Lc=["vform"];function kc(n,r){if(n&1){let e=D();a(0,"app-cms-enum-record-status-selector",20),x("modelChange",function(t){u(e);let s=c();return E(s.dataModel.recordStatus,t)||(s.dataModel.recordStatus=t),f(t)}),l()}if(n&2){let e=c();w("model",e.dataModel.recordStatus),m("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Vc(n,r){n&1&&S(0,"i",15)}function Bc(n,r){n&1&&S(0,"i",16)}function Gc(n,r){if(n&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),M(4,"translate"),l()()),n&2){let e=c(2);o(),g(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," is "),o(2),A(h(4,2,"MESSAGE.required"))}}function Fc(n,r){if(n&1){let e=D();a(0,"div",12)(1,"label",21),d(2),l(),a(3,"input",22,3),x("ngModelChange",function(t){u(e);let s=c();return E(s.dataModel.title,t)||(s.dataModel.title=t),f(t)}),l(),b(5,Vc,1,0,"i",15),b(6,Bc,1,0,"i",16),a(7,"em"),d(8),l(),b(9,Gc,5,4,"mat-error"),l()}if(n&2){let e=R(4),i=c();o(2),A(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(),m("placeholder",P(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle)),w("ngModel",i.dataModel.title),m("disabled",!(i.fieldsInfo.title!=null&&i.fieldsInfo.title.accessAddField)),o(2),C(e.value?-1:5),o(),C(e.value?6:-1),o(2),g("",e.value.length," / 100"),o(),C(e.errors!=null&&e.errors.required?9:-1)}}function Nc(n,r){n&1&&S(0,"i",15)}function Oc(n,r){n&1&&S(0,"i",16)}function Hc(n,r){if(n&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),M(4,"translate"),l()()),n&2){let e=c();o(),g(" ",e.fieldsInfo.folder==null?null:e.fieldsInfo.folder.fieldTitle," is "),o(2),A(h(4,2,"MESSAGE.required"))}}function qc(n,r){n&1&&S(0,"i",15)}function jc(n,r){n&1&&S(0,"i",16)}function Uc(n,r){if(n&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),M(4,"translate"),l()()),n&2){let e=c();o(),g(" ",e.fieldsInfo.indexFile==null?null:e.fieldsInfo.indexFile.fieldTitle," is "),o(2),A(h(4,2,"MESSAGE.required"))}}function Qc(n,r){if(n&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),M(4,"translate"),l()()),n&2){let e=c(2);o(),g(" ",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle," is "),o(2),A(h(4,2,"MESSAGE.required"))}}function zc(n,r){if(n&1){let e=D();a(0,"div",12)(1,"label",23),d(2),l(),a(3,"textarea",24,4),x("ngModelChange",function(t){u(e);let s=c();return E(s.dataModel.description,t)||(s.dataModel.description=t),f(t)}),d(5,"                "),l(),a(6,"em"),d(7),l(),b(8,Qc,5,4,"mat-error"),l()}if(n&2){let e=R(4),i=c();o(2),A(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle),o(),m("placeholder",P(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle)),w("ngModel",i.dataModel.description),o(4),g("",e.value.length," / 500"),o(),C(e.errors!=null&&e.errors.required?8:-1)}}function Kc(n,r){if(n&1){let e=D();a(0,"div",19)(1,"button",25),v("click",function(){u(e);let t=c();return f(t.onFormCancel())}),S(2,"i",26),d(3),M(4,"translate"),l(),a(5,"button",27),S(6,"i",28),d(7),M(8,"translate"),l()()}if(n&2){c();let e=R(10);o(3),g(" ",h(4,3,"ACTION.CANCEL")," "),o(2),m("disabled",!e.form.valid),o(2),g(" ",h(8,5,"ACTION.SAVE")," ")}}var ln=class ln extends Ft{constructor(e,i,t,s,_,p,U,X){super(s,new tt,p,X);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.webDesignerMainPageTemplateService=s;this.cmsToastrService=_;this.publicHelper=p;this.cdr=U;this.translate=X;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new N;this.dataModel=new tt;this.formInfo=new le;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess()}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.webDesignerMainPageTemplateService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};ln.\u0275fac=function(i){return new(i||ln)(I(Ce),I(be),I(z),I(dt),I(O),I(G),I(V),I(B))},ln.\u0275cmp=L({type:ln,selectors:[["app-webdesigner-pagetemplate-add"]],viewQuery:function(i,t){if(i&1&&ne(Lc,5),i&2){let s;oe(s=ae())&&(t.formGroup=s.first)}},standalone:!1,features:[Q],decls:36,vars:28,consts:[["vform","ngForm"],["Folder",""],["IndexFile",""],["Title",""],["Description",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.folder",1,"color-highlight"],["matInput","","type","text","name","dataModel.folder","minlength","3","maxlength","100","required","","id","dataModel.folder",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.indexFile",1,"color-highlight"],["matInput","","type","text","name","dataModel.indexFile","placeholder","index.html","minlength","3","maxlength","100","required","","id","dataModel.indexFile",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],[1,"form-actions"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=D();a(0,"div",5),S(1,"app-progress-spinner",6),a(2,"div",7)(3,"p",8),d(4),l(),a(5,"p"),d(6),M(7,"translate"),l(),S(8,"app-cms-form-result-message",9),a(9,"form",10,0),v("ngSubmit",function(){return u(s),f(t.onFormSubmit())}),b(11,kc,1,5,"app-cms-enum-record-status-selector",11),b(12,Fc,10,9,"div",12),a(13,"div",12)(14,"label",13),d(15),l(),a(16,"input",14,1),M(18,"translate"),x("ngModelChange",function(p){return u(s),E(t.dataModel.folder,p)||(t.dataModel.folder=p),f(p)}),l(),b(19,Nc,1,0,"i",15),b(20,Oc,1,0,"i",16),a(21,"em"),d(22),l(),b(23,Hc,5,4,"mat-error"),l(),a(24,"div",12)(25,"label",17),d(26),l(),a(27,"input",18,2),x("ngModelChange",function(p){return u(s),E(t.dataModel.indexFile,p)||(t.dataModel.indexFile=p),f(p)}),l(),b(29,qc,1,0,"i",15),b(30,jc,1,0,"i",16),a(31,"em"),d(32),l(),b(33,Uc,5,4,"mat-error"),l(),b(34,zc,9,6,"div",12),b(35,Kc,9,7,"div",19),l()()()}if(i&2){let s=R(17),_=R(28);o(),m("optionsInfoAreaId",t.constructorInfoAreaId),o(3),g(" ",t.formInfo.formTitle," "),o(2),g(" ",h(7,24,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),m("formInfo",t.formInfo),o(3),C(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?11:-1),o(),C(t.fieldsInfo.title!=null&&t.fieldsInfo.title.accessWatchField?12:-1),o(3),A(t.fieldsInfo.folder==null?null:t.fieldsInfo.folder.fieldTitle),o(),m("placeholder",P(h(18,26,"TITLE.branch_path"))),w("ngModel",t.dataModel.folder),m("disabled",!(t.fieldsInfo.folder!=null&&t.fieldsInfo.folder.accessAddField)),o(3),C(s.value?-1:19),o(),C(s.value?20:-1),o(2),g("",s.value.length," / 100"),o(),C(s.errors!=null&&s.errors.required?23:-1),o(3),A(t.fieldsInfo.indexFile==null?null:t.fieldsInfo.indexFile.fieldTitle),o(),w("ngModel",t.dataModel.indexFile),m("disabled",!(t.fieldsInfo.indexFile!=null&&t.fieldsInfo.indexFile.accessAddField)),o(2),C(_.value?-1:29),o(),C(_.value?30:-1),o(2),g("",s.value.length," / 100"),o(),C(_.errors!=null&&_.errors.required?33:-1),o(),C(t.fieldsInfo.description!=null&&t.fieldsInfo.description.accessWatchField?34:-1),o(),C(t.formInfo.submitButtonEnabled?35:-1)}},dependencies:[fe,$,J,pe,ee,Me,he,ue,me,Se,F,Ie,j,se,k],encapsulation:2});var lo=ln;var Jc=["vform"];function Yc(n,r){if(n&1){let e=D();a(0,"app-cms-enum-record-status-selector",23),x("modelChange",function(t){u(e);let s=c();return E(s.dataModel.recordStatus,t)||(s.dataModel.recordStatus=t),f(t)}),l()}if(n&2){let e=c();w("model",e.dataModel.recordStatus),m("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Xc(n,r){n&1&&S(0,"i",16)}function Zc(n,r){n&1&&S(0,"i",17)}function $c(n,r){if(n&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),M(4,"translate"),l()()),n&2){let e=c(2);o(),g(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," is "),o(2),A(h(4,2,"MESSAGE.required"))}}function ep(n,r){if(n&1){let e=D();a(0,"div",13)(1,"label",24),d(2),l(),a(3,"input",25,3),x("ngModelChange",function(t){u(e);let s=c();return E(s.dataModel.title,t)||(s.dataModel.title=t),f(t)}),l(),b(5,Xc,1,0,"i",16),b(6,Zc,1,0,"i",17),a(7,"em"),d(8),l(),b(9,$c,5,4,"mat-error"),l()}if(n&2){let e=R(4),i=c();o(2),A(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(),m("placeholder",P(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle)),w("ngModel",i.dataModel.title),m("disabled",!(i.fieldsInfo.title!=null&&i.fieldsInfo.title.accessEditField)),o(2),C(e.value?-1:5),o(),C(e.value?6:-1),o(2),g("",e.value.length," / 100"),o(),C(e.errors!=null&&e.errors.required?9:-1)}}function tp(n,r){if(n&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),M(4,"translate"),l()()),n&2){let e=c(2);o(),g(" ",e.fieldsInfo.titleResourceLanguage==null?null:e.fieldsInfo.titleResourceLanguage.fieldTitle," is "),o(2),A(h(4,2,"MESSAGE.required"))}}function ip(n,r){if(n&1){let e=D();a(0,"div",13)(1,"label",26),d(2),l(),a(3,"input",27,4),x("ngModelChange",function(t){u(e);let s=c();return E(s.dataModel.titleResourceLanguage,t)||(s.dataModel.titleResourceLanguage=t),f(t)}),l(),a(5,"em"),d(6),l(),b(7,tp,5,4,"mat-error"),l()}if(n&2){let e=R(4),i=c();o(2),A(i.fieldsInfo.titleResourceLanguage==null?null:i.fieldsInfo.titleResourceLanguage.fieldTitle),o(),m("placeholder",P(i.fieldsInfo.titleResourceLanguage==null?null:i.fieldsInfo.titleResourceLanguage.fieldTitle)),w("ngModel",i.dataModel.titleResourceLanguage),m("disabled",!(i.fieldsInfo.titleResourceLanguage!=null&&i.fieldsInfo.titleResourceLanguage.accessEditField)),o(3),g("",e.value.length," / 100"),o(),C(e.errors!=null&&e.errors.required?7:-1)}}function np(n,r){n&1&&S(0,"i",16)}function op(n,r){n&1&&S(0,"i",17)}function ap(n,r){if(n&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),M(4,"translate"),l()()),n&2){let e=c();o(),g(" ",e.fieldsInfo.folder==null?null:e.fieldsInfo.folder.fieldTitle," is "),o(2),A(h(4,2,"MESSAGE.required"))}}function rp(n,r){n&1&&S(0,"i",16)}function lp(n,r){n&1&&S(0,"i",17)}function sp(n,r){if(n&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),M(4,"translate"),l()()),n&2){let e=c();o(),g(" ",e.fieldsInfo.indexFile==null?null:e.fieldsInfo.indexFile.fieldTitle," is "),o(2),A(h(4,2,"MESSAGE.required"))}}function dp(n,r){if(n&1){let e=D();a(0,"div",20)(1,"div",28)(2,"h5",29),d(3),l()(),a(4,"div",30)(5,"div",31)(6,"input",32),x("ngModelChange",function(t){u(e);let s=c();return E(s.dataModel.isPublish,t)||(s.dataModel.isPublish=t),f(t)}),l(),S(7,"label",33),l()()()}if(n&2){let e=c();o(3),g(" ",e.fieldsInfo.isPublish==null?null:e.fieldsInfo.isPublish.fieldTitle," "),o(3),w("ngModel",e.dataModel.isPublish)}}function cp(n,r){if(n&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),M(4,"translate"),l()()),n&2){let e=c(2);o(),g(" ",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle," is "),o(2),A(h(4,2,"MESSAGE.required"))}}function pp(n,r){if(n&1){let e=D();a(0,"div",13)(1,"label",34),d(2),l(),a(3,"textarea",35,5),x("ngModelChange",function(t){u(e);let s=c();return E(s.dataModel.description,t)||(s.dataModel.description=t),f(t)}),d(5,"                    "),l(),a(6,"em"),d(7),l(),b(8,cp,5,4,"mat-error"),l()}if(n&2){let e=R(4),i=c();o(2),A(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle),o(),m("placeholder",P(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle)),w("ngModel",i.dataModel.description),o(4),g("",e.value.length," / 500"),o(),C(e.errors!=null&&e.errors.required?8:-1)}}function mp(n,r){if(n&1){let e=D();a(0,"div",22)(1,"button",36),v("click",function(){u(e);let t=c();return f(t.onFormCancel())}),S(2,"i",37),d(3),M(4,"translate"),l(),a(5,"button",38),S(6,"i",39),d(7),M(8,"translate"),l()()}if(n&2){c();let e=R(10);o(3),g(" ",h(4,3,"ACTION.CANCEL")," "),o(2),m("disabled",!e.form.valid),o(2),g(" ",h(8,5,"ACTION.SAVE")," ")}}var sn=class sn extends Nt{constructor(e,i,t,s,_,p,U,X,Rt){super(s,new tt,U,Rt);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.webDesignerMainPageTemplateService=s;this.webDesignerMainPageTemplateSiteCategoryService=_;this.cmsToastrService=p;this.publicHelper=U;this.cdr=X;this.translate=Rt;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModel=new tt;this.formInfo=new le;this.fileManagerOpenForm=!1;this.dataCoreSiteCategoryIds=[];this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id+""),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetAllSourceSiteCategory()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.webDesignerMainPageTemplateService.setAccessLoad(),this.webDesignerMainPageTemplateService.setAccessDataType(kt.Editor),this.webDesignerMainPageTemplateService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.webDesignerMainPageTemplateService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e)}})}DataGetAllSourceSiteCategory(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(s=>{this.formInfo.submitResultMessage=s}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"webDesignerMainPageTemplateSiteCategoryService";this.translate.get("MESSAGE.Receiving_information").subscribe(s=>{this.publicHelper.processService.processStart(e,s,this.constructorInfoAreaId)});let i=new Y,t=new H;t.propertyName="LinkPageTemplateId",t.value=this.requestId,i.filters.push(t),this.webDesignerMainPageTemplateSiteCategoryService.ServiceGetAll(i).subscribe({next:s=>{this.dataWebDesignerMainPageTemplateSiteCategoryModel=s.listItems;let _=[];this.dataWebDesignerMainPageTemplateSiteCategoryModel.forEach(p=>{_.push(p.linkSiteCagegoryId)}),this.dataCoreSiteCategoryIds=_,s.isSuccess?this.formInfo.submitResultMessage="":(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(p=>{this.formInfo.submitResultMessage=p}),this.formInfo.submitResultMessage=s.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(s.errorMessage)),this.publicHelper.processService.processStop(e)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(e)}})}onActionSelectorUserCategorySelect(e){this.dataCoreSiteCategoryModel=e}onActionSelectorUserCategorySelectAdded(e){let i=new Mo;i.linkSiteCagegoryId=e.id,i.linkPageTemplateId=this.dataModel.id;let t=this.constructor.name+"webDesignerMainPageTemplateSiteCategoryService.ServiceAdd";this.translate.get("MESSAGE.Receiving_information").subscribe(s=>{this.publicHelper.processService.processStart(t,s,this.constructorInfoAreaId)}),this.webDesignerMainPageTemplateSiteCategoryService.ServiceAdd(i).subscribe({next:s=>{s.isSuccess?(this.translate.get("MESSAGE.registration_in_this_group_was_successful").subscribe(_=>{this.formInfo.submitResultMessage=_}),this.cmsToastrService.typeSuccessEdit()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(_=>{this.formInfo.submitResultMessage=_}),this.formInfo.submitResultMessage=s.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(s.errorMessage)),this.publicHelper.processService.processStop(t)},error:s=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(t)}})}onActionSelectorUserCategorySelectRemoved(e){let i=new Mo;i.linkSiteCagegoryId=e.id,i.linkPageTemplateId=this.dataModel.id;let t=this.constructor.name+"webDesignerMainPageTemplateSiteCategoryService.ServiceDeleteEntity";this.translate.get("MESSAGE.Receiving_information").subscribe(s=>{this.publicHelper.processService.processStart(t,s,this.constructorInfoAreaId)}),this.webDesignerMainPageTemplateSiteCategoryService.ServiceDeleteEntity(i).subscribe({next:s=>{s.isSuccess?(this.translate.get("MESSAGE.Deletion_from_this_group_Was_Successful").subscribe(_=>{this.formInfo.submitResultMessage=_}),this.cmsToastrService.typeSuccessEdit()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(_=>{this.formInfo.submitResultMessage=_}),this.formInfo.submitResultMessage=s.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(s.errorMessage)),this.publicHelper.processService.processStop(t)},error:s=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(t)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};sn.\u0275fac=function(i){return new(i||sn)(I(Ce),I(be),I(z),I(dt),I(An),I(O),I(G),I(V),I(B))},sn.\u0275cmp=L({type:sn,selectors:[["app-webdesigner-pagetemplate-edit"]],viewQuery:function(i,t){if(i&1&&ne(Jc,5),i&2){let s;oe(s=ae())&&(t.formGroup=s.first)}},standalone:!1,features:[Q],decls:42,vars:35,consts:[["vform","ngForm"],["Folder",""],["IndexFile",""],["Title",""],["TitleResourceLanguage",""],["Description",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.folder",1,"color-highlight"],["matInput","","type","text","name","dataModel.folder","minlength","3","maxlength","100","required","","id","dataModel.folder",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.indexFile",1,"color-highlight"],["matInput","","type","text","name","dataModel.indexFile","placeholder","index.html","minlength","3","maxlength","100","required","","id","dataModel.indexFile",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],[1,"d-flex","mb-3"],[3,"optionChange","optionSelectAdded","optionSelectRemoved","optionSelectForce","optionDisabled"],[1,"form-actions"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.titleResourceLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleResourceLanguage","minlength","3","maxlength","100","required","","id","dataModel.titleResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"pt-1"],["data-trigger-switch","dataModel.isPublish",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.isPublish","name","dataModel.isPublish",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.isPublish",1,"custom-control-label"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=D();a(0,"div",6),S(1,"app-progress-spinner",7),a(2,"div",8)(3,"p",9),d(4),l(),a(5,"p"),d(6),M(7,"translate"),l(),S(8,"app-cms-form-result-message",10),a(9,"form",11,0),v("ngSubmit",function(){return u(s),f(t.onFormSubmit())}),b(11,Yc,1,5,"app-cms-enum-record-status-selector",12),b(12,ep,10,9,"div",13),b(13,ip,8,7,"div",13),a(14,"div",13)(15,"label",14),d(16),l(),a(17,"input",15,1),M(19,"translate"),x("ngModelChange",function(p){return u(s),E(t.dataModel.folder,p)||(t.dataModel.folder=p),f(p)}),l(),b(20,np,1,0,"i",16),b(21,op,1,0,"i",17),a(22,"em"),d(23),l(),b(24,ap,5,4,"mat-error"),l(),a(25,"div",13)(26,"label",18),d(27),l(),a(28,"input",19,2),x("ngModelChange",function(p){return u(s),E(t.dataModel.indexFile,p)||(t.dataModel.indexFile=p),f(p)}),l(),b(30,rp,1,0,"i",16),b(31,lp,1,0,"i",17),a(32,"em"),d(33),l(),b(34,sp,5,4,"mat-error"),l(),b(35,dp,8,2,"div",20),b(36,pp,9,6,"div",13),d(37),M(38,"translate"),S(39,"br"),a(40,"app-cms-sitecategory-selectionlist",21),v("optionChange",function(p){return u(s),f(t.onActionSelectorUserCategorySelect(p))})("optionSelectAdded",function(p){return u(s),f(t.onActionSelectorUserCategorySelectAdded(p))})("optionSelectRemoved",function(p){return u(s),f(t.onActionSelectorUserCategorySelectRemoved(p))}),l(),b(41,mp,9,7,"div",22),l()()()}if(i&2){let s=R(18),_=R(29);o(),m("optionsInfoAreaId",t.constructorInfoAreaId),o(3),g(" ",t.formInfo.formTitle," "),o(2),g(" ",h(7,29,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),m("formInfo",t.formInfo),o(3),C(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?11:-1),o(),C(t.fieldsInfo.title!=null&&t.fieldsInfo.title.accessWatchField?12:-1),o(),C(t.fieldsInfo.titleResourceLanguage!=null&&t.fieldsInfo.titleResourceLanguage.accessWatchField?13:-1),o(3),A(t.fieldsInfo.folder==null?null:t.fieldsInfo.folder.fieldTitle),o(),m("placeholder",P(h(19,31,"TITLE.branch_path"))),w("ngModel",t.dataModel.folder),m("disabled",!(t.fieldsInfo.folder!=null&&t.fieldsInfo.folder.accessEditField)),o(3),C(s.value?-1:20),o(),C(s.value?21:-1),o(2),g("",s.value.length," / 100"),o(),C(s.errors!=null&&s.errors.required?24:-1),o(3),A(t.fieldsInfo.indexFile==null?null:t.fieldsInfo.indexFile.fieldTitle),o(),w("ngModel",t.dataModel.indexFile),m("disabled",!(t.fieldsInfo.indexFile!=null&&t.fieldsInfo.indexFile.accessEditField)),o(2),C(_.value?-1:30),o(),C(_.value?31:-1),o(2),g("",s.value.length," / 100"),o(),C(_.errors!=null&&_.errors.required?34:-1),o(),C(t.fieldsInfo.isPublish!=null&&t.fieldsInfo.isPublish.accessWatchField?35:-1),o(),C(t.fieldsInfo.description!=null&&t.fieldsInfo.description.accessWatchField?36:-1),o(),g(" ",h(38,33,"TITLE.It_should_be_used_on_sites_with_the_following_categories")," "),o(3),m("optionSelectForce",t.dataCoreSiteCategoryIds)("optionDisabled",!1),o(),C(t.formInfo.submitButtonEnabled?41:-1)}},dependencies:[fe,$,Bt,J,pe,ee,Me,he,ue,me,Se,F,Ie,ya,j,se,k],encapsulation:2});var so=sn;var up=()=>[5,10,20,100],fp=n=>({display:n});function gp(n,r){if(n&1){let e=D();a(0,"div",15)(1,"a",40),v("click",function(){u(e);let t=c();return f(t.onActionButtonNewRow())}),S(2,"i",41)(3,"br"),l(),a(4,"p",19),d(5),M(6,"translate"),l()()}n&2&&(o(5),g(" ",h(6,1,"ACTION.ADD")," "))}function _p(n,r){if(n&1){let e=D();a(0,"div",15)(1,"a",42),v("click",function(){u(e);let t=c();return f(t.onActionButtonEditRow(t.tableRowSelected))}),S(2,"i",43)(3,"br"),l(),a(4,"p",19),d(5),M(6,"translate"),l()()}n&2&&(o(5),g(" ",h(6,1,"ACTION.EDIT")," "))}function Mp(n,r){if(n&1){let e=D();a(0,"div",15)(1,"a",44),v("click",function(){u(e);let t=c();return f(t.onActionButtonDeleteRow(t.tableRowSelected))}),S(2,"i",45)(3,"br"),l(),a(4,"p",19),d(5),M(6,"translate"),l()()}n&2&&(o(5),g(" ",h(6,1,"ACTION.DELETE")," "))}function hp(n,r){n&1&&(a(0,"mat-header-cell",46),d(1),M(2,"translate"),l()),n&2&&(o(),g(" ",h(2,1,"TITLE.PICTURE")," "))}function Sp(n,r){if(n&1&&(S(0,"img",47),M(1,"cmsthumbnail")),n&2){let e=c().$implicit;m("src",P(h(1,2,e.linkModuleFileLogoIdSrc)),ye)}}function bp(n,r){if(n&1&&(a(0,"mat-cell"),b(1,Sp,2,4,"img",47),l()),n&2){let e=r.$implicit;o(),C((e==null||e.linkModuleFileLogoIdSrc==null?null:e.linkModuleFileLogoIdSrc.length)>0?1:-1)}}function Cp(n,r){if(n&1&&(a(0,"mat-header-cell",46),d(1),l()),n&2){let e=c();o(),g(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function Ip(n,r){if(n&1&&(a(0,"mat-cell"),d(1),l()),n&2){let e=r.$implicit;o(),g(" ",e.id," ")}}function vp(n,r){if(n&1&&(a(0,"mat-header-cell",46),d(1),l()),n&2){let e=c();o(),g(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function Dp(n,r){if(n&1&&S(0,"select",49),n&2){let e=c().$implicit,i=c();m("contentService",i.contentService)("row",e)("ngStyle",it(3,fp,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function yp(n,r){if(n&1&&(a(0,"mat-cell",48),M(1,"statusCellClass"),S(2,"i",48),M(3,"statusIconClass"),b(4,Dp,1,5,"select",49),l()),n&2){let e=r.$implicit,i=c();m("ngClass",h(1,3,e.recordStatus)),o(2),m("ngClass",h(3,5,e.recordStatus)),o(2),C(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessEditRow?4:-1)}}function Tp(n,r){if(n&1&&(a(0,"mat-header-cell",46),d(1),l()),n&2){let e=c();o(),g(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," ")}}function wp(n,r){if(n&1&&(a(0,"mat-cell"),d(1),l()),n&2){let e=r.$implicit;o(),g(" ",e.title," ")}}function Ep(n,r){if(n&1&&(a(0,"mat-header-cell",46),d(1),l()),n&2){let e=c();o(),g(" ",e.fieldsInfo.folder==null?null:e.fieldsInfo.folder.fieldTitle," ")}}function xp(n,r){if(n&1&&(a(0,"mat-cell"),d(1),l()),n&2){let e=r.$implicit;o(),g(" ",e.folder," ")}}function Ap(n,r){if(n&1&&(a(0,"mat-header-cell",46),d(1),l()),n&2){let e=c();o(),g(" ",e.fieldsInfo.indexFile==null?null:e.fieldsInfo.indexFile.fieldTitle," ")}}function Rp(n,r){if(n&1&&(a(0,"mat-cell"),d(1),l()),n&2){let e=r.$implicit;o(),g(" ",e.indexFile," ")}}function Pp(n,r){n&1&&(a(0,"mat-header-cell"),d(1),M(2,"translate"),l()),n&2&&(o(),g(" ",h(2,1,"TITLE.OPTION")," "))}function Wp(n,r){if(n&1&&(a(0,"mat-cell",50)(1,"button",51)(2,"mat-icon"),d(3,"more_vert"),l()(),S(4,"mat-menu",null,2),l()),n&2){let e=R(5);o(),m("matMenuTriggerFor",e)}}function Lp(n,r){n&1&&S(0,"mat-header-row")}function kp(n,r){if(n&1){let e=D();a(0,"mat-row",52),v("click",function(t){let s=u(e).$implicit,_=c();return f(_.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=u(e).$implicit,_=c();return f(_.onActionTableRowSelect(s,t))}),l()}if(n&2){let e=r.$implicit,i=c();K("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var dn=class dn extends Tt{constructor(e,i,t,s,_,p,U,X,Rt,Ci,Kt,Ii){super(e,new tt,Kt,s,X);this.contentService=e;this.cmsToastrService=i;this.cmsConfirmationDialogService=t;this.tokenHelper=s;this.cmsStoreService=_;this.router=p;this.cdr=U;this.translate=X;this.pageInfo=Rt;this.themeService=Ci;this.publicHelper=Kt;this.dialog=Ii;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new Y;this.filterDataModelQueryBuilder=[];this.dataModelCoreModuleResult=new N;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["id","recordStatus","Folder","IndexFile"];this.tabledisplayedColumnsMobileSource=["id","recordStatus","Folder","IndexFile"];this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:Jt=>this.onSubmitOptionsSearch(Jt)},this.filteModelContent.sortColumn="id",this.filteModelContent.sortType=q.Descending}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>ie(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new tt);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{t.isSuccess&&(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=q.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=q.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=q.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(lo,{height:"90%",panelClass:e,enterAnimationDuration:Z.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Z.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(so,{height:"90%",panelClass:i,enterAnimationDuration:Z.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Z.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(s=>{this.cmsToastrService.typeErrorSelected(s)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(s=>{i=s["MESSAGE.Please_Confirm"],t=s["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(s=>{if(s){let _=this.constructor.name+"contentService.ServiceDelete";this.translate.get("MESSAGE.Receiving_information").subscribe(p=>{this.publicHelper.processService.processStart(_,p,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:p=>{p.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(_)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(_)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(p=>{i.set(p,0)}),this.translate.get("MESSAGE.All").subscribe(p=>{i.set(p,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(p=>{this.publicHelper.processService.processStart(t,p,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:p=>{p.isSuccess&&(i.set("All",p.totalRowCount),this.optionsStatist.childMethods.setStatistValue(i)),this.publicHelper.processService.processStop(t)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(t)}});let s=JSON.parse(JSON.stringify(this.filteModelContent)),_=new H;_.propertyName="recordStatus",_.value=rt.Available,s.filters.push(_),this.contentService.ServiceGetCount(s).subscribe({next:p=>{p.isSuccess&&(i.set("Active",p.totalRowCount),this.optionsStatist.childMethods.setStatistValue(i)),this.publicHelper.processService.processStop(t)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(t)}})}onActionButtonPageList(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorSelected();return}this.router.navigate(["/webdesigner/page/LinkPageTemplateGuId",this.tableRowSelected.id])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}};dn.\u0275fac=function(i){return new(i||dn)(I(dt),I(O),I(Qe),I(Le),I(We),I(Oe),I(V),I(B),I(yt),I(Dt),I(G),I(je))},dn.\u0275cmp=L({type:dn,selectors:[["app-webdesigner-pagetemplate-list"]],standalone:!1,features:[Q],decls:63,vars:33,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-page","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","LinkModuleFileLogoIdSrc"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","id"],["matColumnDef","recordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","title"],["matColumnDef","Folder"],["matColumnDef","IndexFile"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(i,t){if(i&1){let s=D();a(0,"app-cms-html-list",3),x("optionActionGuideNoticeDisplayChange",function(p){return u(s),E(t.viewGuideNotice,p)||(t.viewGuideNotice=p),f(p)}),v("optionOnActionButtonMemoRow",function(){return u(s),f(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return u(s),f(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return u(s),f(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return u(s),f(t.onActionButtonPrintRow())}),y(1,4),d(2," -------------------------------------- "),T(),Ee(3,5)(4,6),y(5,7),a(6,"a",8),v("click",function(){return u(s),f(t.viewGuideNotice=!t.viewGuideNotice)}),S(7,"i",9),l(),a(8,"a",8),v("click",function(){return u(s),f(t.onActionButtonReload())}),S(9,"i",10),l(),T(),y(10,11),a(11,"a",12),v("click",function(){return u(s),f(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),S(12,"mat-slide-toggle",13),d(13),M(14,"translate"),l(),a(15,"a",12),v("click",function(){return u(s),f(t.onActionButtonStatist())}),S(16,"mat-slide-toggle",13),d(17),M(18,"translate"),l(),T(),y(19,14),b(20,gp,7,3,"div",15),T(),y(21,16),b(22,_p,7,3,"div",15),b(23,Mp,7,3,"div",15),a(24,"div",15)(25,"a",17),v("click",function(){return u(s),f(t.onActionButtonPageList(t.tableRowSelected))}),S(26,"i",18)(27,"br"),l(),a(28,"p",19),d(29),M(30,"translate"),l()(),T(),y(31,20),a(32,"app-cms-search-list",21),x("optionsChange",function(p){return u(s),E(t.optionsSearch,p)||(t.optionsSearch=p),f(p)}),l(),a(33,"app-cms-statist-list",21),x("optionsChange",function(p){return u(s),E(t.optionsStatist,p)||(t.optionsStatist=p),f(p)}),l(),T(),y(34,22),a(35,"mat-table",23,0),v("matSortChange",function(){u(s);let p=R(36);return f(t.onTableSortData(p))}),y(37,24),W(38,hp,3,3,"mat-header-cell",25)(39,bp,2,1,"mat-cell",26),T(),y(40,27),W(41,Cp,2,1,"mat-header-cell",25)(42,Ip,2,1,"mat-cell",26),T(),y(43,28),W(44,vp,2,1,"mat-header-cell",25)(45,yp,5,7,"mat-cell",29),T(),y(46,30),W(47,Tp,2,1,"mat-header-cell",25)(48,wp,2,1,"mat-cell",26),T(),y(49,31),W(50,Ep,2,1,"mat-header-cell",25)(51,xp,2,1,"mat-cell",26),T(),y(52,32),W(53,Ap,2,1,"mat-header-cell",25)(54,Rp,2,1,"mat-cell",26),T(),y(55,33),W(56,Pp,3,3,"mat-header-cell",34)(57,Wp,6,1,"mat-cell",35),T(),W(58,Lp,1,0,"mat-header-row",36)(59,kp,1,2,"mat-row",37),l(),T(),y(60,38),a(61,"mat-paginator",39,1),v("page",function(p){return u(s),f(t.onTablePageingData(p))}),l(),T(),l()}i&2&&(m("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),w("optionActionGuideNoticeDisplay",t.viewGuideNotice),m("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.title),o(9),K("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(3),m("checked",t.optionsSearch.data.show),o(),g("",h(14,26,"ACTION.SEARCH")," "),o(3),m("checked",t.optionsStatist.data.show),o(),g("",h(18,28,"ACTION.STATIST")," "),o(3),C(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessAddRow?20:-1),o(2),C(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?22:-1),o(),C(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?23:-1),o(6),g(" ",h(30,30,"ACTION.PAGES")," "),o(3),w("options",t.optionsSearch),o(),w("options",t.optionsStatist),o(2),m("dataSource",t.tableSource),o(23),m("matHeaderRowDef",t.tabledisplayedColumns),o(),m("matRowDefColumns",t.tabledisplayedColumns),o(2),m("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",ve(32,up)))},dependencies:[Te,nt,Re,re,F,ct,pt,Ue,Pe,mt,ut,ft,_t,bt,Mt,gt,Ct,ht,St,It,vt,ze,Ke,Je,Ye,wt,k,Gt,Xe,Ot],encapsulation:2});var co=dn;var Vp=["*"];function Bp(n,r){if(n&1&&(a(0,"label",3),d(1),l()),n&2){let e=c();m("for",Ne("app-cms-site-selector-",e.id)),o(),A(e.optionLabel)}}function Gp(n,r){if(n&1&&(a(0,"mat-option",6)(1,"span"),d(2),l()()),n&2){let e=r.$implicit,i=c();m("value",e)("disabled",i.optionDisabled),o(2),A(i.displayOption(e))}}function Fp(n,r){n&1&&S(0,"i",7)}function Np(n,r){n&1&&S(0,"i",8)}function Op(n,r){if(n&1){let e=D();a(0,"i",11),v("click",function(){u(e);let t=c();return f(t.onActionSelectClear())}),l()}}function Hp(n,r){n&1&&(a(0,"em"),d(1),M(2,"translate"),l()),n&2&&(o(),g("(",h(2,1,"TITLE.Necessary"),")"))}var bi=class bi{constructor(r,e,i,t,s){this.coreEnumService=r;this.translate=e;this.cdr=i;this.publicHelper=t;this.categoryService=s;this.id=++bi.nextId;this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new N;this.dataModelSelect=new et;this.formControl=new ri;this.optionDisabled=!1;this.optionRequired=!1;this.optionSelectFirstItem=!1;this.optionPlaceholder="";this.optionLabel="";this.optionChange=new Pt;this.optionReload=()=>this.onActionButtonReload();this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(r){this.onActionSelectForce(r)}ngOnInit(){this.loadOptions(),(!this.optionLabel||this.optionLabel.length==0&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder)}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(ei(""),Zt(1500),$t(),ti(r=>typeof r=="string"||typeof r=="number"?this.DataGetAll(r||""):[]))}displayFn(r){return r?r.titleML:void 0}displayOption(r){return r?r.titleML:void 0}DataGetAll(r){return ie(this,null,function*(){let e=new Y;e.rowPerPage=20,e.accessLoad=!0;let i=new H;i.propertyName="title",i.value=r,i.searchType=qe.Contains,i.clauseType=He.Or,e.filters.push(i),r&&typeof+r=="number"&&+r>0&&(i=new H,i.propertyName="id",i.value=r,i.searchType=qe.Equal,i.clauseType=He.Or,e.filters.push(i));let t=this.constructor.name+"categoryService.ServiceGetAll";return this.translate.get("MESSAGE.Receiving_information").subscribe(s=>{this.publicHelper.processService.processStart(t,s,this.constructorInfoAreaId)}),yield Yt(this.categoryService.ServiceGetAll(e)).then(s=>(this.dataModelResult=s,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||this.dataModelSelect.id.length<=0)&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0])},1e3),this.onActionSelect(this.dataModelResult.listItems[0])),this.publicHelper.processService.processStop(t),s.listItems))})}onActionSelect(r){this.optionDisabled||(this.dataModelSelect=r,this.optionChange.emit(this.dataModelSelect))}onActionSelectClear(){this.optionDisabled||(this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null))}push(r){return this.filteredOptions.pipe(Xt(e=>(e.find(i=>i.id===r.id)||e.push(r),e)))}onActionSelectForce(r){if(typeof r=="string"&&r.length>0){if(this.dataModelSelect&&this.dataModelSelect.id===r)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(e=>e.id===r)){let e=this.dataModelResult.listItems.find(i=>i.id===r);this.dataModelSelect=e,this.formControl.setValue(e);return}this.categoryService.ServiceGetOneById(r).subscribe({next:e=>{e.isSuccess&&(this.filteredOptions=this.push(e.item),this.dataModelSelect=e.item,this.formControl.setValue(e.item),this.optionChange.emit(e.item))}});return}if(typeof r==typeof et){this.filteredOptions=this.push(r),this.dataModelSelect=r,this.formControl.setValue(r);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new et,this.loadOptions()}};bi.nextId=0,bi.\u0275fac=function(e){return new(e||bi)(I(z),I(B),I(V),I(G),I(Vt))},bi.\u0275cmp=L({type:bi,selectors:[["app-webdesigner-pagedependency-selector"]],inputs:{optionDisabled:"optionDisabled",optionRequired:"optionRequired",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionLabel:"optionLabel",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange"},standalone:!1,ngContentSelectors:Vp,decls:16,vars:23,consts:[["matauto","matAutocomplete"],[1,"input-style","has-borders","has-icon","input-style-always-active","validate-field","mb-4","loader-container"],[3,"optionsInfoAreaId"],[1,"color-highlight",3,"for"],["type","text","aria-label","Assignee","matInput","",3,"placeholder","formControl","matAutocomplete","required","id"],[3,"optionSelected","displayWith"],[3,"value","disabled"],[1,"fa","fa-info","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"fa","fa-times","action","color-red-dark"],[1,"fa","fa-rotate-right","action","color-green-dark",2,"margin-left","20px",3,"click","title"],[1,"fa","fa-times","action","color-red-dark",3,"click"]],template:function(e,i){if(e&1){let t=D();ii(),a(0,"div",1),S(1,"app-progress-spinner",2),b(2,Bp,2,3,"label",3),S(3,"input",4),a(4,"mat-autocomplete",5,0),v("optionSelected",function(_){return u(t),f(i.onActionSelect(_.option.value))}),Ge(6,Gp,3,3,"mat-option",6,Be),M(8,"async"),l(),b(9,Fp,1,0,"i",7),b(10,Np,1,0,"i",8),b(11,Op,1,0,"i",9),a(12,"i",10),M(13,"translate"),v("click",function(){return u(t),f(i.onActionButtonReload())}),l(),b(14,Hp,3,3,"em"),ni(15),l()}if(e&2){let t=R(5);o(),m("optionsInfoAreaId",i.constructorInfoAreaId),o(),C((i.optionLabel==null?null:i.optionLabel.length)>0?2:-1),o(),m("placeholder",P(i.optionPlaceholder))("id",Ne("app-cms-site-selector-",i.id))("formControl",i.formControl)("matAutocomplete",t)("required",i.optionRequired),Wt("disabled",i.optionDisabled?!0:null),o(),m("displayWith",i.displayFn),o(2),Fe(h(8,19,i.filteredOptions)),o(3),C(i.formControl.valid?-1:9),o(),C(i.optionRequired&&i.formControl.valid?10:-1),o(),C((i.dataModelSelect==null||i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0?11:-1),o(),K("rotation360",i.publicHelper.processService.process.inRunArea[i.constructorInfoAreaId]),m("title",P(h(13,21,"ACTION.RELOAD"))),o(2),C(i.optionRequired&&(!i.dataModelSelect||!i.dataModelSelect.id||(i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)===0)?14:-1)}},dependencies:[$,J,ee,si,ci,di,pi,F,j,ot,k],encapsulation:2});var cn=bi;var Qp=["vform"];function zp(n,r){if(n&1){let e=D();a(0,"app-cms-enum-record-status-selector",28),x("modelChange",function(t){u(e);let s=c();return E(s.dataModel.recordStatus,t)||(s.dataModel.recordStatus=t),f(t)}),l()}if(n&2){let e=c();w("model",e.dataModel.recordStatus),m("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Kp(n,r){n&1&&S(0,"i",31)}function Jp(n,r){n&1&&S(0,"i",32)}function Yp(n,r){if(n&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),M(4,"translate"),l()()),n&2){let e=c(2);o(),g(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," is "),o(2),A(h(4,2,"MESSAGE.required"))}}function Xp(n,r){if(n&1){let e=D();a(0,"div",14)(1,"label",29),d(2),l(),a(3,"input",30,5),x("ngModelChange",function(t){u(e);let s=c();return E(s.dataModel.title,t)||(s.dataModel.title=t),f(t)}),l(),b(5,Kp,1,0,"i",31),b(6,Jp,1,0,"i",32),a(7,"em"),d(8),l(),b(9,Yp,5,4,"mat-error"),l()}if(n&2){let e=R(4),i=c();o(2),A(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(),m("placeholder",P(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle)),w("ngModel",i.dataModel.title),m("disabled",!(i.fieldsInfo.title!=null&&i.fieldsInfo.title.accessAddField)),o(2),C(e.value?-1:5),o(),C(e.value?6:-1),o(2),g("",e.value.length," / 100"),o(),C(e.errors!=null&&e.errors.required?9:-1)}}function Zp(n,r){if(n&1){let e=D();a(0,"app-webdesigner-page-selector",33),M(1,"translate"),v("optionChange",function(t){u(e);let s=c();return f(s.onActionSelectParent(t))}),l()}if(n&2){let e=c();m("optionDisabled",!(e.fieldsInfo.linkPageParentGuId!=null&&e.fieldsInfo.linkPageParentGuId.accessAddField))("optionSelectForce",e.dataModel.linkPageParentGuId)("optionMasterPage",!0)("optionMasterTemplateId",e.dataModel.linkPageTemplateGuId)("optionPlaceholder",h(1,5,"TITLE.parent_page"))}}function $p(n,r){if(n&1){let e=D();a(0,"div",18)(1,"div",34)(2,"h5",35),d(3),l()(),a(4,"div",36)(5,"div",37)(6,"input",38),x("ngModelChange",function(t){u(e);let s=c();return E(s.dataModel.pageDependencyIsDefaultPage,t)||(s.dataModel.pageDependencyIsDefaultPage=t),f(t)}),l(),S(7,"label",39),l()()()}if(n&2){let e=c();o(3),g(" ",e.fieldsInfo.pageDependencyIsDefaultPage==null?null:e.fieldsInfo.pageDependencyIsDefaultPage.fieldTitle," "),o(3),w("ngModel",e.dataModel.pageDependencyIsDefaultPage)}}function em(n,r){if(n&1){let e=D();a(0,"app-cms-sitecategory-selector",40),M(1,"translate"),v("optionChange",function(t){u(e);let s=c();return f(s.onActionSelectCategory(t))}),l()}if(n&2){let e=c();m("optionSelectForce",e.dataModel.pageDependencyIsDefaultPageLinkSiteCategoryId)("optionPlaceholder",h(1,3,"TITLE.Website_Type"))("optionDisabled",!(e.fieldsInfo.pageDependencyIsDefaultPageLinkSiteCategoryId!=null&&e.fieldsInfo.pageDependencyIsDefaultPageLinkSiteCategoryId.accessAddField))}}function tm(n,r){if(n&1){let e=D();a(0,"mat-chip",41),v("removed",function(){let t=u(e).$implicit,s=c();return f(s.removeTag(t))}),d(1),a(2,"button",42)(3,"mat-icon"),d(4,"cancel"),l()()()}if(n&2){let e=r.$implicit;o(),g(" ",e," ")}}function im(n,r){if(n&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),M(4,"translate"),l()()),n&2){let e=c(2);o(),g(" ",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle," is "),o(2),A(h(4,2,"MESSAGE.required"))}}function nm(n,r){if(n&1){let e=D();a(0,"div",14)(1,"label",43),d(2),l(),a(3,"textarea",44,6),x("ngModelChange",function(t){u(e);let s=c();return E(s.dataModel.description,t)||(s.dataModel.description=t),f(t)}),d(5,"                    "),l(),a(6,"em"),d(7),l(),b(8,im,5,4,"mat-error"),l()}if(n&2){let e=R(4),i=c();o(2),A(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle),o(),m("placeholder",P(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle)),w("ngModel",i.dataModel.description),o(4),g("",e.value.length," / 500"),o(),C(e.errors!=null&&e.errors.required?8:-1)}}function om(n,r){if(n&1){let e=D();a(0,"div",27)(1,"button",45),v("click",function(){u(e);let t=c();return f(t.onFormCancel())}),S(2,"i",46),d(3),M(4,"translate"),l(),a(5,"button",47),S(6,"i",48),d(7),M(8,"translate"),l()()}if(n&2){c();let e=R(10);o(3),g(" ",h(4,3,"ACTION.CANCEL")," "),o(2),m("disabled",!e.form.valid),o(2),g(" ",h(8,5,"ACTION.SAVE")," ")}}var pn=class pn extends Ft{constructor(e,i,t,s,_,p,U,X){super(s,new $e,p,X);this.data=e;this.dialogRef=i;this.webDesignerEnumService=t;this.webDesignerMainPageService=s;this.cmsToastrService=_;this.publicHelper=p;this.cdr=U;this.translate=X;this.requestLinkPageDependencyGuId="";this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.keywordDataModel=[];this.appLanguage="fa";this.dataModelResult=new N;this.dataModel=new $e;this.formInfo=new le;this.dataModelEnumPageAbilityTypeResult=new N;this.fileManagerOpenForm=!1;this.addOnBlurTag=!0;this.separatorKeysCodes=[13];this.publicHelper.processService.cdr=this.cdr,e&&(this.requestLinkPageDependencyGuId=e.linkPageDependencyGuId+""),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),this.requestLinkPageDependencyGuId.length>0&&(this.dataModel.linkPageDependencyGuId=this.requestLinkPageDependencyGuId)}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess(),this.getEnumPageAbilityType()}getEnumPageAbilityType(){this.webDesignerEnumService.ServicePageAbilityTypeEnum().subscribe({next:e=>{this.dataModelEnumPageAbilityTypeResult=e}})}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"webDesignerMainPageService.ServiceAdd";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.webDesignerMainPageService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e)}})}onActionSelectDependency(e){if(!e||e.id?.length<=0){this.translate.get(["MESSAGE.Specify_the_display_location","MESSAGE.information_screen_is_not_clear"]).subscribe(i=>{this.cmsToastrService.typeErrorMessage(i["MESSAGE.Specify_the_display_location"],i["MESSAGE.information_screen_is_not_clear"])});return}this.dataModel.linkPageDependencyGuId=e.id}onActionSelectTemplate(e){if(!e||e.id?.length<=0){this.translate.get(["MESSAGE.Specify_the_template","MESSAGE.Screen_template_is_not_clear"]).subscribe(i=>{this.cmsToastrService.typeErrorMessage(i["MESSAGE.Specify_the_template"],i["MESSAGE.Screen_template_is_not_clear"])});return}this.dataModel.linkPageTemplateGuId=e.id}onActionSelectParent(e){this.dataModel.linkPageParentGuId="",e&&e.id&&e.id.length>0&&(this.dataModel.linkPageParentGuId=e.id)}onFormSubmit(){if(this.formGroup.valid){if(this.formInfo.submitButtonEnabled=!1,this.dataModel.keyword="",this.keywordDataModel&&this.keywordDataModel.length>0){let e=[];this.keywordDataModel.forEach(i=>{i.display?e.push(i.display):e.push(i)}),e&&e.length>0&&(this.dataModel.keyword=e.join(","))}this.DataAddContent()}}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}onActionSelectCategory(e){if(!e||e.id<=0){this.translate.get("MESSAGE.category_of_site_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.pageDependencyIsDefaultPageLinkSiteCategoryId=e.id}addTag(e){let i=(e.value||"").trim();i&&this.keywordDataModel.push(i),e.chipInput.clear()}removeTag(e){let i=this.keywordDataModel.indexOf(e);i>=0&&this.keywordDataModel.splice(i,1)}};pn.\u0275fac=function(i){return new(i||pn)(I(Ce),I(be),I(Wi),I(st),I(O),I(G),I(V),I(B))},pn.\u0275cmp=L({type:pn,selectors:[["app-webdesigner-page-add"]],viewQuery:function(i,t){if(i&1&&ne(Qp,5),i&2){let s;oe(s=ae())&&(t.formGroup=s.first)}},standalone:!1,features:[Q],decls:47,vars:41,consts:[["vform","ngForm"],["chipList",""],["tagInput",""],["SpecialIdendity",""],["SpecialUrlParameter",""],["Title",""],["Description",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder","optionSelectFirstItem"],[3,"optionDisabled","optionSelectForce","optionMasterPage","optionMasterTemplateId","optionPlaceholder"],[1,"d-flex","mb-3"],[3,"optionSelectForce","optionPlaceholder","optionDisabled"],["appearance","fill",2,"width","100%"],["aria-label","'TITLE.key_word'|translate"],[3,"matChipInputTokenEnd","placeholder","matChipInputAddOnBlur","matChipInputFor","matChipInputSeparatorKeyCodes"],["for","dataModel.specialIdendity",1,"color-highlight"],["matInput","","type","text","name","dataModel.specialIdendity","type","text","placeholder","32323","minlength","0","maxlength","500","id","dataModel.specialIdendity",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.specialUrlParameter",1,"color-highlight"],["matInput","","type","text","name","dataModel.specialUrlParameter","type","text","placeholder","esfahan","minlength","0","maxlength","500","id","dataModel.specialUrlParameter",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],[1,"form-actions"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[3,"optionChange","optionDisabled","optionSelectForce","optionMasterPage","optionMasterTemplateId","optionPlaceholder"],[1,"pt-1"],["data-trigger-switch","dataModel.pageDependencyIsDefaultPage",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.pageDependencyIsDefaultPage","name","dataModel.pageDependencyIsDefaultPage",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.pageDependencyIsDefaultPage",1,"custom-control-label"],[3,"optionChange","optionSelectForce","optionPlaceholder","optionDisabled"],[3,"removed"],["type","button","matChipRemove","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=D();a(0,"div",7),S(1,"app-progress-spinner",8),a(2,"div",9)(3,"p",10),d(4),l(),a(5,"p"),d(6),M(7,"translate"),l(),S(8,"app-cms-form-result-message",11),a(9,"form",12,0),v("ngSubmit",function(){return u(s),f(t.onFormSubmit())}),b(11,zp,1,5,"app-cms-enum-record-status-selector",13),b(12,Xp,10,9,"div",14),a(13,"app-webdesigner-pagedependency-selector",15),M(14,"translate"),v("optionChange",function(p){return u(s),f(t.onActionSelectDependency(p))}),l(),a(15,"app-webdesigner-pagetemplate-selector",16),M(16,"translate"),v("optionChange",function(p){return u(s),f(t.onActionSelectTemplate(p))}),l(),b(17,Zp,2,7,"app-webdesigner-page-selector",17),b(18,$p,8,2,"div",18),b(19,em,2,5,"app-cms-sitecategory-selector",19),a(20,"mat-form-field",20)(21,"mat-label"),d(22),M(23,"translate"),l(),a(24,"mat-chip-grid",21,1),Ge(26,tm,5,1,"mat-chip",null,Be),a(28,"input",22,2),M(30,"translate"),v("matChipInputTokenEnd",function(p){return u(s),f(t.addTag(p))}),l()()(),a(31,"div",14)(32,"label",23),d(33),l(),a(34,"input",24,3),x("ngModelChange",function(p){return u(s),E(t.dataModel.specialIdendity,p)||(t.dataModel.specialIdendity=p),f(p)}),l(),a(36,"em"),d(37),l()(),a(38,"div",14)(39,"label",25),d(40),l(),a(41,"input",26,4),x("ngModelChange",function(p){return u(s),E(t.dataModel.specialUrlParameter,p)||(t.dataModel.specialUrlParameter=p),f(p)}),l(),a(43,"em"),d(44),l()(),b(45,nm,9,6,"div",14),b(46,om,9,7,"div",27),l()()()}if(i&2){let s=R(25),_=R(35),p=R(42);o(),m("optionsInfoAreaId",t.constructorInfoAreaId),o(3),g(" ",t.formInfo.formTitle," "),o(2),g(" ",h(7,31,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),m("formInfo",t.formInfo),o(3),C(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?11:-1),o(),C(t.fieldsInfo.title!=null&&t.fieldsInfo.title.accessWatchField?12:-1),o(),m("optionDisabled",!(t.fieldsInfo.linkPageDependencyGuId!=null&&t.fieldsInfo.linkPageDependencyGuId.accessAddField))("optionSelectForce",t.dataModel.linkPageDependencyGuId)("optionPlaceholder",h(14,33,"TITLE.Show_place")),o(2),m("optionDisabled",!(t.fieldsInfo.linkPageTemplateGuId!=null&&t.fieldsInfo.linkPageTemplateGuId.accessAddField))("optionSelectForce",t.dataModel.linkPageTemplateGuId)("optionPlaceholder",h(16,35,"TITLE.Page_template"))("optionSelectFirstItem",!0),o(2),C(t.dataModel.linkPageTemplateGuId&&t.dataModel.linkPageTemplateGuId.length>0?17:-1),o(),C(t.fieldsInfo.pageDependencyIsDefaultPage!=null&&t.fieldsInfo.pageDependencyIsDefaultPage.accessWatchField?18:-1),o(),C(t.dataModel.pageDependencyIsDefaultPage&&(t.fieldsInfo.pageDependencyIsDefaultPageLinkSiteCategoryId!=null&&t.fieldsInfo.pageDependencyIsDefaultPageLinkSiteCategoryId.accessWatchField)?19:-1),o(3),A(h(23,37,"TITLE.Choose_keywords_relative_to_the_content")),o(4),Fe(t.keywordDataModel),o(2),m("placeholder",h(30,39,"TITLE.key_word"))("matChipInputAddOnBlur",t.addOnBlurTag)("matChipInputFor",s)("matChipInputSeparatorKeyCodes",t.separatorKeysCodes),o(5),A(t.fieldsInfo.specialIdendity==null?null:t.fieldsInfo.specialIdendity.fieldTitle),o(),w("ngModel",t.dataModel.specialIdendity),m("disabled",!(t.fieldsInfo.specialIdendity!=null&&t.fieldsInfo.specialIdendity.accessAddField)),o(3),g("",_.value.length," / 500"),o(3),A(t.fieldsInfo.specialUrlParameter==null?null:t.fieldsInfo.specialUrlParameter.fieldTitle),o(),w("ngModel",t.dataModel.specialUrlParameter),m("disabled",!(t.fieldsInfo.specialUrlParameter!=null&&t.fieldsInfo.specialUrlParameter.accessAddField)),o(3),g("",p.value.length," / 500"),o(),C(t.fieldsInfo.description!=null&&t.fieldsInfo.description.accessWatchField?45:-1),o(),C(t.formInfo.submitButtonEnabled?46:-1)}},dependencies:[fe,$,Bt,J,pe,ee,Me,he,ue,me,kn,Vn,Bn,Ln,Wn,Rn,Se,re,F,Ie,Jn,j,se,Mi,cn,Si,k],encapsulation:2});var po=pn;var am=["vform"];function rm(n,r){if(n&1){let e=D();a(0,"app-cms-enum-record-status-selector",31),x("modelChange",function(t){u(e);let s=c();return E(s.dataModel.recordStatus,t)||(s.dataModel.recordStatus=t),f(t)}),l()}if(n&2){let e=c();w("model",e.dataModel.recordStatus),m("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function lm(n,r){if(n&1&&(a(0,"option",17),d(1),l()),n&2){let e=r.$implicit;m("ngValue",e.value),o(),g(" ",e.description," ")}}function sm(n,r){n&1&&(a(0,"mat-error"),d(1," PageAbilityType is "),a(2,"strong"),d(3),M(4,"translate"),l()()),n&2&&(o(3),A(h(4,1,"MESSAGE.required")))}function dm(n,r){n&1&&S(0,"i",34)}function cm(n,r){n&1&&S(0,"i",35)}function pm(n,r){if(n&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),M(4,"translate"),l()()),n&2){let e=c(2);o(),g(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," is "),o(2),A(h(4,2,"MESSAGE.required"))}}function mm(n,r){if(n&1){let e=D();a(0,"div",15)(1,"label",32),d(2),l(),a(3,"input",33,6),x("ngModelChange",function(t){u(e);let s=c();return E(s.dataModel.title,t)||(s.dataModel.title=t),f(t)}),l(),b(5,dm,1,0,"i",34),b(6,cm,1,0,"i",35),a(7,"em"),d(8),l(),b(9,pm,5,4,"mat-error"),l()}if(n&2){let e=R(4),i=c();o(2),A(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(),m("placeholder",P(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle)),w("ngModel",i.dataModel.title),m("disabled",!(i.fieldsInfo.title!=null&&i.fieldsInfo.title.accessEditField)),o(2),C(e.value?-1:5),o(),C(e.value?6:-1),o(2),g("",e.value.length," / 100"),o(),C(e.errors!=null&&e.errors.required?9:-1)}}function um(n,r){if(n&1){let e=D();a(0,"app-webdesigner-page-selector",36),M(1,"translate"),v("optionChange",function(t){u(e);let s=c();return f(s.onActionSelectParent(t))}),l()}if(n&2){let e=c();m("optionDisabled",!(e.fieldsInfo.linkPageParentGuId!=null&&e.fieldsInfo.linkPageParentGuId.accessEditField))("optionSelectForce",e.dataModel.linkPageParentGuId)("optionMasterPage",!0)("optionMasterTemplateId",e.dataModel.linkPageTemplateGuId)("optionPlaceholder",h(1,5,"TITLE.parent_page"))}}function fm(n,r){if(n&1){let e=D();a(0,"div",21)(1,"div",37)(2,"h5",38),d(3),l()(),a(4,"div",39)(5,"div",40)(6,"input",41),x("ngModelChange",function(t){u(e);let s=c();return E(s.dataModel.pageDependencyIsDefaultPage,t)||(s.dataModel.pageDependencyIsDefaultPage=t),f(t)}),l(),S(7,"label",42),l()()()}if(n&2){let e=c();o(3),g(" ",e.fieldsInfo.pageDependencyIsDefaultPage==null?null:e.fieldsInfo.pageDependencyIsDefaultPage.fieldTitle," "),o(3),w("ngModel",e.dataModel.pageDependencyIsDefaultPage)}}function gm(n,r){if(n&1){let e=D();a(0,"app-cms-sitecategory-selector",43),M(1,"translate"),v("optionChange",function(t){u(e);let s=c();return f(s.onActionSelectCategory(t))}),l()}if(n&2){let e=c();m("optionSelectForce",e.dataModel.pageDependencyIsDefaultPageLinkSiteCategoryId)("optionPlaceholder",h(1,3,"TITLE.Website_Type"))("optionDisabled",!(e.fieldsInfo.pageDependencyIsDefaultPageLinkSiteCategoryId!=null&&e.fieldsInfo.pageDependencyIsDefaultPageLinkSiteCategoryId.accessEditField))}}function _m(n,r){if(n&1){let e=D();a(0,"mat-chip",44),v("removed",function(){let t=u(e).$implicit,s=c();return f(s.removeTag(t))}),d(1),a(2,"button",45)(3,"mat-icon"),d(4,"cancel"),l()()()}if(n&2){let e=r.$implicit;o(),g(" ",e," ")}}function Mm(n,r){if(n&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),M(4,"translate"),l()()),n&2){let e=c(2);o(),g(" ",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle," is "),o(2),A(h(4,2,"MESSAGE.required"))}}function hm(n,r){if(n&1){let e=D();a(0,"div",15)(1,"label",46),d(2),l(),a(3,"textarea",47,7),x("ngModelChange",function(t){u(e);let s=c();return E(s.dataModel.description,t)||(s.dataModel.description=t),f(t)}),d(5,"                    "),l(),a(6,"em"),d(7),l(),b(8,Mm,5,4,"mat-error"),l()}if(n&2){let e=R(4),i=c();o(2),A(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle),o(),m("placeholder",P(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle)),w("ngModel",i.dataModel.description),o(4),g("",e.value.length," / 500"),o(),C(e.errors!=null&&e.errors.required?8:-1)}}function Sm(n,r){if(n&1){let e=D();a(0,"div",30)(1,"button",48),v("click",function(){u(e);let t=c();return f(t.onFormCancel())}),S(2,"i",49),d(3),M(4,"translate"),l(),a(5,"button",50),S(6,"i",51),d(7),M(8,"translate"),l()()}if(n&2){c();let e=R(10);o(3),g(" ",h(4,3,"ACTION.CANCEL")," "),o(2),m("disabled",!e.form.valid),o(2),g(" ",h(8,5,"ACTION.SAVE")," ")}}var mn=class mn extends Nt{constructor(e,i,t,s,_,p,U,X){super(s,new $e,X,p);this.data=e;this.dialogRef=i;this.webDesignerEnumService=t;this.webDesignerMainPageService=s;this.cmsToastrService=_;this.translate=p;this.cdr=U;this.publicHelper=X;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.keywordDataModel=[];this.appLanguage="fa";this.dataModel=new $e;this.formInfo=new le;this.dataModelEnumPageAbilityTypeResult=new N;this.fileManagerOpenForm=!1;this.addOnBlurTag=!0;this.separatorKeysCodes=[13];this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id+""),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.getEnumPageAbilityType()}getEnumPageAbilityType(){this.webDesignerEnumService.ServicePageAbilityTypeEnum().subscribe({next:e=>{this.dataModelEnumPageAbilityTypeResult=e}})}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"webDesignerMainPageService.ServiceGetOneById";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.webDesignerMainPageService.setAccessLoad(),this.webDesignerMainPageService.setAccessDataType(kt.Editor),this.webDesignerMainPageService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.keywordDataModel=[],this.dataModel.keyword&&this.dataModel.keyword.length>0&&(this.keywordDataModel=this.dataModel.keyword.split(",")),this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.submitResultMessage=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.webDesignerMainPageService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e)}})}onActionSelectParent(e){this.dataModel.linkPageParentGuId=e.id}onActionSelectDependency(e){if(!e||e.id?.length<=0){this.translate.get(["MESSAGE.Specify_the_display_location","MESSAGE.information_screen_is_not_clear"]).subscribe(i=>{this.cmsToastrService.typeErrorMessage(i["MESSAGE.Specify_the_display_location"],i["MESSAGE.information_screen_is_not_clear"])});return}this.dataModel.linkPageDependencyGuId=e.id}onActionSelectTemplate(e){if(!e||e.id?.length<=0){this.translate.get(["MESSAGE.Specify_the_template","MESSAGE.Screen_template_is_not_clear"]).subscribe(i=>{this.cmsToastrService.typeErrorMessage(i["MESSAGE.Specify_the_template"],i["MESSAGE.Screen_template_is_not_clear"])});return}this.dataModel.linkPageTemplateGuId=e.id}onFormSubmit(){if(this.formGroup.valid){if(this.formInfo.submitButtonEnabled=!1,this.dataModel.keyword="",this.keywordDataModel&&this.keywordDataModel.length>0){let e=[];this.keywordDataModel.forEach(i=>{i.display?e.push(i.display):e.push(i)}),e&&e.length>0&&(this.dataModel.keyword=e.join(","))}this.DataEditContent()}}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}onActionSelectCategory(e){if(!e||e.id<=0){this.translate.get("MESSAGE.category_of_site_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.pageDependencyIsDefaultPageLinkSiteCategoryId=e.id}addTag(e){let i=(e.value||"").trim();i&&this.keywordDataModel.push(i),e.chipInput.clear()}removeTag(e){let i=this.keywordDataModel.indexOf(e);i>=0&&this.keywordDataModel.splice(i,1)}};mn.\u0275fac=function(i){return new(i||mn)(I(Ce),I(be),I(Wi),I(st),I(O),I(B),I(V),I(G))},mn.\u0275cmp=L({type:mn,selectors:[["app-webdesigner-page-edit"]],viewQuery:function(i,t){if(i&1&&ne(am,5),i&2){let s;oe(s=ae())&&(t.formGroup=s.first)}},standalone:!1,features:[Q],decls:56,vars:48,consts:[["vform","ngForm"],["PageAbilityType","ngModel"],["chipList",""],["tagInput",""],["SpecialIdendity",""],["SpecialUrlParameter",""],["Title",""],["Description",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["id","dataModel.pageAbilityType","name","dataModel.pageAbilityType",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled","ngClass"],[3,"ngValue"],[1,"mt-n3"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],[3,"optionDisabled","optionSelectForce","optionMasterPage","optionMasterTemplateId","optionPlaceholder"],[1,"d-flex","mb-3"],[3,"optionSelectForce","optionPlaceholder","optionDisabled"],["appearance","fill",2,"width","100%"],["aria-label","'TITLE.key_word'|translate"],[3,"matChipInputTokenEnd","placeholder","matChipInputAddOnBlur","matChipInputFor","matChipInputSeparatorKeyCodes"],["for","dataModel.specialIdendity",1,"color-highlight"],["matInput","","type","text","name","dataModel.specialIdendity","type","text","placeholder","32323","minlength","0","maxlength","500","id","dataModel.specialIdendity",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.specialUrlParameter",1,"color-highlight"],["matInput","","type","text","name","dataModel.specialUrlParameter","type","text","placeholder","esfahan","minlength","0","maxlength","500","id","dataModel.specialUrlParameter",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],[1,"form-actions"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[3,"optionChange","optionDisabled","optionSelectForce","optionMasterPage","optionMasterTemplateId","optionPlaceholder"],[1,"pt-1"],["data-trigger-switch","dataModel.pageDependencyIsDefaultPage",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.pageDependencyIsDefaultPage","name","dataModel.pageDependencyIsDefaultPage",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.pageDependencyIsDefaultPage",1,"custom-control-label"],[3,"optionChange","optionSelectForce","optionPlaceholder","optionDisabled"],[3,"removed"],["type","button","matChipRemove","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=D();a(0,"div",8),S(1,"app-progress-spinner",9),a(2,"div",10)(3,"p",11),d(4),l(),a(5,"p"),d(6),M(7,"translate"),l(),S(8,"app-cms-form-result-message",12),a(9,"form",13,0),v("ngSubmit",function(){return u(s),f(t.onFormSubmit())}),b(11,rm,1,5,"app-cms-enum-record-status-selector",14),a(12,"div",15)(13,"select",16,1),x("ngModelChange",function(p){return u(s),E(t.dataModel.pageAbilityType,p)||(t.dataModel.pageAbilityType=p),f(p)}),Ge(15,lm,2,2,"option",17,Be),l(),a(17,"em",18),d(18),M(19,"translate"),l(),b(20,sm,5,3,"mat-error"),l(),b(21,mm,10,9,"div",15),a(22,"app-webdesigner-pagedependency-selector",19),M(23,"translate"),v("optionChange",function(p){return u(s),f(t.onActionSelectDependency(p))}),l(),a(24,"app-webdesigner-pagetemplate-selector",19),M(25,"translate"),v("optionChange",function(p){return u(s),f(t.onActionSelectTemplate(p))}),l(),b(26,um,2,7,"app-webdesigner-page-selector",20),b(27,fm,8,2,"div",21),b(28,gm,2,5,"app-cms-sitecategory-selector",22),a(29,"mat-form-field",23)(30,"mat-label"),d(31),M(32,"translate"),l(),a(33,"mat-chip-grid",24,2),Ge(35,_m,5,1,"mat-chip",null,Be),a(37,"input",25,3),M(39,"translate"),v("matChipInputTokenEnd",function(p){return u(s),f(t.addTag(p))}),l()()(),a(40,"div",15)(41,"label",26),d(42),l(),a(43,"input",27,4),x("ngModelChange",function(p){return u(s),E(t.dataModel.specialIdendity,p)||(t.dataModel.specialIdendity=p),f(p)}),l(),a(45,"em"),d(46),l()(),a(47,"div",15)(48,"label",28),d(49),l(),a(50,"input",29,5),x("ngModelChange",function(p){return u(s),E(t.dataModel.specialUrlParameter,p)||(t.dataModel.specialUrlParameter=p),f(p)}),l(),a(52,"em"),d(53),l()(),b(54,hm,9,6,"div",15),b(55,Sm,9,7,"div",30),l()()()}if(i&2){let s=R(14),_=R(34),p=R(44),U=R(51);o(),m("optionsInfoAreaId",t.constructorInfoAreaId),o(3),g(" ",t.formInfo.formTitle," "),o(2),g(" ",h(7,36,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),m("formInfo",t.formInfo),o(3),C(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?11:-1),o(2),m("ngClass",Ne("cms-RecordStatusEnum-selector-",t.dataModel.recordStatus)),w("ngModel",t.dataModel.pageAbilityType),m("disabled",!0),o(2),Fe(t.dataModelEnumPageAbilityTypeResult.listItems),o(3),g("",h(19,38,"TITLE.Select_the_functionality_of_this_content")," "),o(2),C(s.errors!=null&&s.errors.required?20:-1),o(),C(t.fieldsInfo.title!=null&&t.fieldsInfo.title.accessWatchField?21:-1),o(),m("optionDisabled",!(t.fieldsInfo.linkPageDependencyGuId!=null&&t.fieldsInfo.linkPageDependencyGuId.accessEditField))("optionSelectForce",t.dataModel.linkPageDependencyGuId)("optionPlaceholder",h(23,40,"TITLE.Show_place")),o(2),m("optionDisabled",!(t.fieldsInfo.linkPageTemplateGuId!=null&&t.fieldsInfo.linkPageTemplateGuId.accessEditField))("optionSelectForce",t.dataModel.linkPageTemplateGuId)("optionPlaceholder",h(25,42,"TITLE.Page_template")),o(2),C(t.dataModel.linkPageTemplateGuId&&t.dataModel.linkPageTemplateGuId.length>0?26:-1),o(),C(t.fieldsInfo.pageDependencyIsDefaultPage!=null&&t.fieldsInfo.pageDependencyIsDefaultPage.accessWatchField?27:-1),o(),C(t.dataModel.pageDependencyIsDefaultPage&&(t.fieldsInfo.pageDependencyIsDefaultPageLinkSiteCategoryId!=null&&t.fieldsInfo.pageDependencyIsDefaultPageLinkSiteCategoryId.accessWatchField)?28:-1),o(3),A(h(32,44,"TITLE.Choose_keywords_relative_to_the_content")),o(4),Fe(t.keywordDataModel),o(2),m("placeholder",h(39,46,"TITLE.key_word"))("matChipInputAddOnBlur",t.addOnBlurTag)("matChipInputFor",_)("matChipInputSeparatorKeyCodes",t.separatorKeysCodes),o(5),A(t.fieldsInfo.specialIdendity==null?null:t.fieldsInfo.specialIdendity.fieldTitle),o(),w("ngModel",t.dataModel.specialIdendity),m("disabled",!(t.fieldsInfo.specialIdendity!=null&&t.fieldsInfo.specialIdendity.accessEditField)),o(3),g("",p.value.length," / 500"),o(3),A(t.fieldsInfo.specialUrlParameter==null?null:t.fieldsInfo.specialUrlParameter.fieldTitle),o(),w("ngModel",t.dataModel.specialUrlParameter),m("disabled",!(t.fieldsInfo.specialUrlParameter!=null&&t.fieldsInfo.specialUrlParameter.accessEditField)),o(3),g("",U.value.length," / 500"),o(),C(t.fieldsInfo.description!=null&&t.fieldsInfo.description.accessWatchField?54:-1),o(),C(t.formInfo.submitButtonEnabled?55:-1)}},dependencies:[Te,fe,Ho,qo,$,Bt,Oo,J,pe,ee,Me,he,ue,me,kn,Vn,Bn,Ln,Wn,Rn,Se,re,F,Ie,Jn,j,se,Mi,cn,Si,k],encapsulation:2});var mo=mn;var bm=()=>[5,10,20,100],Cm=n=>({display:n});function Im(n,r){if(n&1){let e=D();a(0,"a",46),v("click",function(){u(e);let t=c();return f(t.onActionBackToParentTemplate())}),S(1,"i",47),l()}}function vm(n,r){if(n&1){let e=D();a(0,"a",46),v("click",function(){u(e);let t=c();return f(t.onActionBackToParentDependency())}),S(1,"i",47),l()}}function Dm(n,r){if(n&1){let e=D();a(0,"div",16)(1,"a",48),v("click",function(){u(e);let t=c();return f(t.onActionButtonNewRow())}),S(2,"i",49)(3,"br"),l(),a(4,"p",20),d(5),M(6,"translate"),l()()}n&2&&(o(5),g(" ",h(6,1,"ACTION.ADD")," "))}function ym(n,r){if(n&1){let e=D();a(0,"div",16)(1,"a",50),v("click",function(){u(e);let t=c();return f(t.onActionButtonEditRow(t.tableRowSelected))}),S(2,"i",51)(3,"br"),l(),a(4,"p",20),d(5),M(6,"translate"),l()()}n&2&&(o(5),g(" ",h(6,1,"ACTION.EDIT")," "))}function Tm(n,r){if(n&1){let e=D();a(0,"div",16)(1,"a",52),v("click",function(){u(e);let t=c();return f(t.onActionButtonDeleteRow(t.tableRowSelected))}),S(2,"i",53)(3,"br"),l(),a(4,"p",20),d(5),M(6,"translate"),l()()}n&2&&(o(5),g(" ",h(6,1,"ACTION.DELETE")," "))}function wm(n,r){if(n&1){let e=D();a(0,"div",16)(1,"a",18),v("click",function(){u(e);let t=c();return f(t.onActionButtonHtmlViewWithOutParent(t.tableRowSelected))}),S(2,"i",19)(3,"br"),l(),a(4,"p",20),d(5),M(6,"translate"),l()()}n&2&&(o(5),g(" ",h(6,1,"ACTION.DISPLAY_PAGE_WITHOUT_PARENT")," "))}function Em(n,r){n&1&&(a(0,"mat-header-cell",54),d(1),M(2,"translate"),l()),n&2&&(o(),g(" ",h(2,1,"TITLE.PICTURE")," "))}function xm(n,r){if(n&1&&S(0,"img",55),n&2){let e=c().$implicit;m("src",P(e.thumbnailImageSrc),ye)}}function Am(n,r){if(n&1&&(a(0,"mat-cell"),b(1,xm,1,2,"img",55),l()),n&2){let e=r.$implicit;o(),C((e==null||e.ThumbnailImageSrc==null?null:e.ThumbnailImageSrc.length)>0?1:-1)}}function Rm(n,r){if(n&1&&(a(0,"mat-header-cell",54),d(1),l()),n&2){let e=c();o(),g(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function Pm(n,r){if(n&1&&(a(0,"mat-cell"),d(1),l()),n&2){let e=r.$implicit;o(),g(" ",e.id," ")}}function Wm(n,r){if(n&1&&(a(0,"mat-header-cell",54),d(1),l()),n&2){let e=c();o(),g(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function Lm(n,r){if(n&1&&S(0,"select",57),n&2){let e=c().$implicit,i=c();m("contentService",i.contentService)("row",e)("ngStyle",it(3,Cm,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function km(n,r){if(n&1&&(a(0,"mat-cell",56),M(1,"statusCellClass"),S(2,"i",56),M(3,"statusIconClass"),b(4,Lm,1,5,"select",57),l()),n&2){let e=r.$implicit,i=c();m("ngClass",h(1,3,e.recordStatus)),o(2),m("ngClass",h(3,5,e.recordStatus)),o(2),C(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessEditRow?4:-1)}}function Vm(n,r){if(n&1&&(a(0,"mat-header-cell",54),d(1),l()),n&2){let e=c();o(),g(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," ")}}function Bm(n,r){if(n&1&&(a(0,"mat-cell"),d(1),l()),n&2){let e=r.$implicit;o(),g(" ",e.title," ")}}function Gm(n,r){if(n&1&&(a(0,"mat-header-cell",54),d(1),l()),n&2){let e=c();o(),g(" ",e.fieldsInfo.linkPageParentGuId==null?null:e.fieldsInfo.linkPageParentGuId.fieldTitle," ")}}function Fm(n,r){if(n&1&&(a(0,"mat-cell"),d(1),l()),n&2){let e=r.$implicit;o(),g(" ",e.linkPageParentGuId," ")}}function Nm(n,r){if(n&1&&(a(0,"mat-header-cell",54),d(1),l()),n&2){let e=c();o(),g(" ",e.fieldsInfo.linkPageDependencyGuId==null?null:e.fieldsInfo.linkPageDependencyGuId.fieldTitle," ")}}function Om(n,r){if(n&1&&(a(0,"mat-cell"),d(1),l()),n&2){let e=r.$implicit;o(),g(" ",e.linkPageDependencyGuId," ")}}function Hm(n,r){if(n&1&&(a(0,"mat-header-cell",54),d(1),l()),n&2){let e=c();o(),g(" ",e.fieldsInfo.linkPageTemplateGuId==null?null:e.fieldsInfo.linkPageTemplateGuId.fieldTitle," ")}}function qm(n,r){if(n&1&&(a(0,"mat-cell"),d(1),M(2,"cmstitle"),l()),n&2){let e=r.$implicit,i=c();o(),g(" ",Lt(2,1,e.linkPageTemplateGuId,i.dataModelWebDesignerMainPageTemplateResult.listItems)," ")}}function jm(n,r){if(n&1&&(a(0,"mat-header-cell",54),d(1),l()),n&2){let e=c();o(),g(" ",e.fieldsInfo.pageDependencyIsDefaultPageLinkSiteCategoryId==null?null:e.fieldsInfo.pageDependencyIsDefaultPageLinkSiteCategoryId.fieldTitle," ")}}function Um(n,r){if(n&1&&(a(0,"mat-cell"),d(1),M(2,"cmstitle"),l()),n&2){let e=r.$implicit,i=c();o(),g(" ",Lt(2,1,e.pageDependencyIsDefaultPageLinkSiteCategoryId,i.dataModelCoreSiteCategoryResult.listItems)," ")}}function Qm(n,r){if(n&1&&(a(0,"mat-header-cell",54),d(1),l()),n&2){let e=c();o(),g(" ",e.fieldsInfo.pageDependencyIsDefaultPage==null?null:e.fieldsInfo.pageDependencyIsDefaultPage.fieldTitle," ")}}function zm(n,r){if(n&1&&(a(0,"mat-cell"),S(1,"i",56),M(2,"boolclass"),l()),n&2){let e=r.$implicit;o(),m("ngClass",h(2,1,e.pageDependencyIsDefaultPage))}}function Km(n,r){if(n&1&&(a(0,"mat-header-cell",54),d(1),l()),n&2){let e=c();o(),g(" ",e.fieldsInfo.classActionName==null?null:e.fieldsInfo.classActionName.fieldTitle," ")}}function Jm(n,r){if(n&1&&(a(0,"mat-cell"),d(1),l()),n&2){let e=r.$implicit;o(),g(" ",e.classActionName," ")}}function Ym(n,r){n&1&&(a(0,"mat-header-cell"),d(1),M(2,"translate"),l()),n&2&&(o(),g(" ",h(2,1,"TITLE.OPTION")," "))}function Xm(n,r){if(n&1&&(a(0,"mat-cell",58)(1,"button",59)(2,"mat-icon"),d(3,"more_vert"),l()(),S(4,"mat-menu",null,2),l()),n&2){let e=R(5);o(),m("matMenuTriggerFor",e)}}function Zm(n,r){n&1&&S(0,"mat-header-row")}function $m(n,r){if(n&1){let e=D();a(0,"mat-row",60),v("click",function(t){let s=u(e).$implicit,_=c();return f(_.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=u(e).$implicit,_=c();return f(_.onActionTableRowSelect(s,t))}),l()}if(n&2){let e=r.$implicit,i=c();K("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var un=class un extends Tt{constructor(e,i,t,s,_,p,U,X,Rt,Ci,Kt,Ii,Jt,gn,Pa){super(e,new $e,gn,Ii,Rt);this.contentService=e;this.cmsToastrService=i;this.cmsConfirmationDialogService=t;this.webDesignerMainPageTemplateService=s;this.coreSiteCategoryService=_;this.activatedRoute=p;this.router=U;this.cdr=X;this.translate=Rt;this.cmsStoreService=Ci;this.themeService=Kt;this.tokenHelper=Ii;this.pageInfo=Jt;this.publicHelper=gn;this.dialog=Pa;this.requestLinkPageParentGuId="";this.requestLinkPageTemplateGuId="";this.requestLinkPageDependencyGuId="";this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new Y;this.filterDataModelQueryBuilder=[];this.dataModelWebDesignerMainPageTemplateResult=new N;this.dataModelCoreSiteCategoryResult=new N;this.tabledisplayedColumns=["ThumbnailImageSrc","id","recordStatus","title","LinkPageTemplateGuId","PageDependencyIsDefaultPage","PageDependencyIsDefaultPageLinkSiteCategoryId"];this.unsubscribe=[];if(this.publicHelper.processService.cdr=this.cdr,this.activatedRoute.snapshot.paramMap.get("LinkPageTemplateGuId")&&(this.requestLinkPageTemplateGuId=this.activatedRoute.snapshot.paramMap.get("LinkPageTemplateGuId")),this.activatedRoute.snapshot.paramMap.get("LinkPageDependencyGuId")&&(this.requestLinkPageDependencyGuId=this.activatedRoute.snapshot.paramMap.get("LinkPageDependencyGuId")),this.activatedRoute.snapshot.paramMap.get("LinkPageParentGuId")&&(this.requestLinkPageParentGuId=this.activatedRoute.snapshot.paramMap.get("LinkPageParentGuId")),this.optionsSearch.parentMethods={onSubmit:Ve=>this.onSubmitOptionsSearch(Ve)},this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=q.Descending,this.requestLinkPageTemplateGuId.length>0){let Ve=new H;Ve.propertyName="LinkPageTemplateGuId",Ve.value=this.requestLinkPageTemplateGuId,this.filteModelContent.filters.push(Ve)}if(this.requestLinkPageDependencyGuId.length>0){let Ve=new H;Ve.propertyName="LinkPageDependencyGuId",Ve.value=this.requestLinkPageDependencyGuId,this.filteModelContent.filters.push(Ve)}if(this.requestLinkPageParentGuId.length>0){let Ve=new H;Ve.propertyName="LinkPageParentGuId",Ve.value=this.requestLinkPageParentGuId,this.filteModelContent.filters.push(Ve)}}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>ie(this,null,function*(){this.tokenInfo=e,this.DataGetAll()}))),this.getModuleList(),this.getSiteCategory()}getModuleList(){let e=new Y;e.rowPerPage=100,this.webDesignerMainPageTemplateService.ServiceGetAll(e).subscribe({next:i=>{this.dataModelWebDesignerMainPageTemplateResult=i}})}getSiteCategory(){let e=new Y;e.rowPerPage=100,this.coreSiteCategoryService.ServiceGetAll(e).subscribe({next:i=>{this.dataModelCoreSiteCategoryResult=i}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tableRowsSelected=[],this.onActionTableRowSelect(new $e);let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{t.isSuccess&&(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=q.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=q.Ascending):(q,e.start="desc"):(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=q.Descending),q,this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(po,{height:"90%",panelClass:e,enterAnimationDuration:Z.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Z.cmsViewConfig.exitAnimationDuration,data:{linkPageDependencyGuId:this.requestLinkPageDependencyGuId}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(mo,{height:"90%",panelClass:i,enterAnimationDuration:Z.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Z.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(s=>{this.cmsToastrService.typeErrorSelected(s)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(s=>{i=s["MESSAGE.Please_Confirm"],t=s["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(s=>{if(s){let _=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(p=>{this.publicHelper.processService.processStart(_,p,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:p=>{p.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(_)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(_)}})}}).catch(()=>{})}onActionButtonGoToSiteCategoryList(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.onActionTableRowSelect(e),this.router.navigate(["/core/siteSiteCategory/",this.tableRowSelected.id])}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(p=>{i.set(p,0)}),this.translate.get("MESSAGE.All").subscribe(p=>{i.set(p,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(p=>{this.publicHelper.processService.processStart(t,p,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:p=>{p.isSuccess&&(i.set("All",p.totalRowCount),this.optionsStatist.childMethods.setStatistValue(i)),this.publicHelper.processService.processStop(t)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(t)}});let s=JSON.parse(JSON.stringify(this.filteModelContent)),_=new H;_.propertyName="recordStatus",_.value=rt.Available,s.filters.push(_),this.contentService.ServiceGetCount(s).subscribe({next:p=>{p.isSuccess&&(i.set("Active",p.totalRowCount),this.optionsStatist.childMethods.setStatistValue(i)),this.publicHelper.processService.processStop(t)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(t)}})}onActionButtonHtmlEditor(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorSelected();return}window.open(e.htmlBuilderUrl,"_blank")}onActionButtonHtmlView(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorSelected();return}window.open(this.dataModelResult.item.htmlPreviewByMasterUrl,"_blank")}onActionButtonSiteRouteView(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorSelected();return}this.contentService.ServiceWebRoute(e.id).subscribe({next:i=>{i.isSuccess?window.open(i.item,"_blank"):this.cmsToastrService.typeError(i.errorMessage)},error:i=>{this.cmsToastrService.typeError(i)}})}onActionButtonHtmlViewWithOutParent(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorSelected();return}window.open(this.dataModelResult.item.htmlPreviewUrl,"_blank")}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParentTemplate(){this.router.navigate(["/webdesigner/pagetemplate"])}onActionBackToParentDependency(){this.router.navigate(["/webdesigner/pagedependency"])}};un.\u0275fac=function(i){return new(i||un)(I(st),I(O),I(Qe),I(dt),I(xn),I(at),I(Oe),I(V),I(B),I(We),I(Dt),I(Le),I(yt),I(G),I(je))},un.\u0275cmp=L({type:un,selectors:[["app-webdesigner-page-list-grid"]],standalone:!1,features:[Q],decls:92,vars:42,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-page","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-globe","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","ThumbnailImageSrc"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","id"],["matColumnDef","recordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","title"],["matColumnDef","LinkPageParentGuId"],["matColumnDef","LinkPageDependencyGuId"],["matColumnDef","LinkPageTemplateGuId"],["matColumnDef","PageDependencyIsDefaultPageLinkSiteCategoryId"],["matColumnDef","PageDependencyIsDefaultPage"],["matColumnDef","ClassActionName"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(i,t){if(i&1){let s=D();a(0,"app-cms-html-list",3),x("optionActionGuideNoticeDisplayChange",function(p){return u(s),E(t.viewGuideNotice,p)||(t.viewGuideNotice=p),f(p)}),v("optionOnActionButtonMemoRow",function(){return u(s),f(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return u(s),f(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return u(s),f(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return u(s),f(t.onActionButtonPrintRow())}),y(1,4),d(2," -------------------------------------- "),T(),Ee(3,5)(4,6),y(5,7),b(6,Im,2,0,"a",8),b(7,vm,2,0,"a",8),a(8,"a",9),v("click",function(){return u(s),f(t.viewGuideNotice=!t.viewGuideNotice)}),S(9,"i",10),l(),a(10,"a",9),v("click",function(){return u(s),f(t.onActionButtonReload())}),S(11,"i",11),l(),T(),y(12,12),a(13,"a",13),v("click",function(){return u(s),f(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),S(14,"mat-slide-toggle",14),d(15),M(16,"translate"),l(),a(17,"a",13),v("click",function(){return u(s),f(t.onActionButtonStatist())}),S(18,"mat-slide-toggle",14),d(19),M(20,"translate"),l(),T(),y(21,15),b(22,Dm,7,3,"div",16),T(),y(23,17),b(24,ym,7,3,"div",16),b(25,Tm,7,3,"div",16),a(26,"div",16)(27,"a",18),v("click",function(){return u(s),f(t.onActionButtonHtmlEditor(t.tableRowSelected))}),S(28,"i",19)(29,"br"),l(),a(30,"p",20),d(31),M(32,"translate"),l()(),a(33,"div",16)(34,"a",18),v("click",function(){return u(s),f(t.onActionButtonHtmlView(t.tableRowSelected))}),S(35,"i",19)(36,"br"),l(),a(37,"p",20),d(38),M(39,"translate"),l()(),b(40,wm,7,3,"div",16),a(41,"div",16)(42,"a",18),v("click",function(){return u(s),f(t.onActionButtonSiteRouteView(t.tableRowSelected))}),S(43,"i",21)(44,"br"),l(),a(45,"p",20),d(46),M(47,"translate"),l()(),T(),y(48,22),a(49,"app-cms-search-list",23),x("optionsChange",function(p){return u(s),E(t.optionsSearch,p)||(t.optionsSearch=p),f(p)}),l(),a(50,"app-cms-statist-list",23),x("optionsChange",function(p){return u(s),E(t.optionsStatist,p)||(t.optionsStatist=p),f(p)}),l(),T(),y(51,24),a(52,"mat-table",25,0),v("matSortChange",function(){u(s);let p=R(53);return f(t.onTableSortData(p))}),y(54,26),W(55,Em,3,3,"mat-header-cell",27)(56,Am,2,1,"mat-cell",28),T(),y(57,29),W(58,Rm,2,1,"mat-header-cell",27)(59,Pm,2,1,"mat-cell",28),T(),y(60,30),W(61,Wm,2,1,"mat-header-cell",27)(62,km,5,7,"mat-cell",31),T(),y(63,32),W(64,Vm,2,1,"mat-header-cell",27)(65,Bm,2,1,"mat-cell",28),T(),y(66,33),W(67,Gm,2,1,"mat-header-cell",27)(68,Fm,2,1,"mat-cell",28),T(),y(69,34),W(70,Nm,2,1,"mat-header-cell",27)(71,Om,2,1,"mat-cell",28),T(),y(72,35),W(73,Hm,2,1,"mat-header-cell",27)(74,qm,3,4,"mat-cell",28),T(),y(75,36),W(76,jm,2,1,"mat-header-cell",27)(77,Um,3,4,"mat-cell",28),T(),y(78,37),W(79,Qm,2,1,"mat-header-cell",27)(80,zm,3,3,"mat-cell",28),T(),y(81,38),W(82,Km,2,1,"mat-header-cell",27)(83,Jm,2,1,"mat-cell",28),T(),y(84,39),W(85,Ym,3,3,"mat-header-cell",40)(86,Xm,6,1,"mat-cell",41),T(),W(87,Zm,1,0,"mat-header-row",42)(88,$m,1,2,"mat-row",43),l(),T(),y(89,44),a(90,"mat-paginator",45,1),v("page",function(p){return u(s),f(t.onTablePageingData(p))}),l(),T(),l()}i&2&&(m("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),w("optionActionGuideNoticeDisplay",t.viewGuideNotice),m("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.title),o(6),C((t.requestLinkPageTemplateGuId==null?null:t.requestLinkPageTemplateGuId.length)>0?6:-1),o(),C((t.requestLinkPageDependencyGuId==null?null:t.requestLinkPageDependencyGuId.length)>0?7:-1),o(4),K("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(3),m("checked",t.optionsSearch.data.show),o(),g("",h(16,31,"ACTION.SEARCH")," "),o(3),m("checked",t.optionsStatist.data.show),o(),g("",h(20,33,"ACTION.STATIST")," "),o(3),C(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessAddRow?22:-1),o(2),C(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?24:-1),o(),C(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?25:-1),o(6),g(" ",h(32,35,"ACTION.PAGE_DESIGN")," "),o(7),g(" ",h(39,37,"ACTION.SHOW_PAGE")," "),o(2),C((t.tableRowSelected==null||t.tableRowSelected.linkPageParentGuId==null?null:t.tableRowSelected.linkPageParentGuId.length)>0?40:-1),o(6),g(" ",h(47,39,"ACTION.SHOW_WEB")," "),o(3),w("options",t.optionsSearch),o(),w("options",t.optionsStatist),o(2),m("dataSource",t.tableSource),o(35),m("matHeaderRowDef",t.tabledisplayedColumns),o(),m("matRowDefColumns",t.tabledisplayedColumns),o(2),m("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",ve(41,bm)))},dependencies:[Te,nt,Re,re,F,ct,pt,Ue,Pe,mt,ut,ft,_t,bt,Mt,gt,Ct,ht,St,It,vt,ze,Ke,Je,Ye,wt,k,Bi,Xe,Ot,ki],encapsulation:2});var zt=un;var eu=()=>[5,10,20,100];function tu(n,r){if(n&1){let e=D();a(0,"a",29),v("click",function(){u(e);let t=c();return f(t.onActionBackToParentTemplate())}),S(1,"i",30),l()}}function iu(n,r){if(n&1){let e=D();a(0,"a",29),v("click",function(){u(e);let t=c();return f(t.onActionBackToParentDependency())}),S(1,"i",30),l()}}function nu(n,r){if(n&1){let e=D();a(0,"div",14)(1,"a",31),v("click",function(){u(e);let t=c();return f(t.onActionButtonNewRow())}),S(2,"i",32)(3,"br"),l(),a(4,"p",18),d(5),M(6,"translate"),l()()}n&2&&(o(5),g(" ",h(6,1,"ACTION.ADD")," "))}function ou(n,r){if(n&1){let e=D();a(0,"div",14)(1,"a",33),v("click",function(){u(e);let t=c();return f(t.onActionButtonEditRow(t.tableRowSelected))}),S(2,"i",34)(3,"br"),l(),a(4,"p",18),d(5),M(6,"translate"),l()()}n&2&&(o(5),g(" ",h(6,1,"ACTION.EDIT")," "))}function au(n,r){if(n&1){let e=D();a(0,"div",14)(1,"a",35),v("click",function(){u(e);let t=c();return f(t.onActionButtonDeleteRow(t.tableRowSelected))}),S(2,"i",36)(3,"br"),l(),a(4,"p",18),d(5),M(6,"translate"),l()()}n&2&&(o(5),g(" ",h(6,1,"ACTION.DELETE")," "))}function ru(n,r){if(n&1){let e=D();a(0,"div",14)(1,"a",16),v("click",function(){u(e);let t=c();return f(t.onActionButtonHtmlViewWithOutParent(t.tableRowSelected))}),S(2,"i",17)(3,"br"),l(),a(4,"p",18),d(5),M(6,"translate"),l()()}n&2&&(o(5),g(" ",h(6,1,"ACTION.DISPLAY_PAGE_WITHOUT_PARENT")," "))}function lu(n,r){if(n&1){let e=D();a(0,"div",26)(1,"mat-card",37)(2,"mat-card-header")(3,"mat-card-title"),d(4),S(5,"i",38),M(6,"statusIconClass"),l(),a(7,"mat-card-subtitle"),d(8),M(9,"translate"),l()(),S(10,"img",39),a(11,"mat-card-content"),d(12),M(13,"translate"),M(14,"cmstitle"),S(15,"br"),d(16),M(17,"translate"),M(18,"cmstitle"),S(19,"br"),d(20),M(21,"translate"),S(22,"i",38),M(23,"boolclass"),a(24,"p"),d(25),l()(),a(26,"mat-card-actions")(27,"button",40),v("click",function(t){let s=u(e).$implicit,_=c();return f(_.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=u(e).$implicit,_=c();return f(_.onActionTableRowSelect(s,t))}),a(28,"mat-icon"),d(29,"more_vert"),l()()()()()}if(n&2){let e=r.$implicit,i=c();o(4),g(" ",e.title," "),o(),m("ngClass",h(6,13,e.recordStatus)),o(3),oi(" ",h(9,15,"TITLE.Id"),": ",e.id),o(2),m("src",P(e.thumbnailImageSrc),ye),o(2),oi(" ",h(13,17,"TITLE.Template")," : ",Lt(14,19,e.linkPageTemplateGuId,i.dataModelWebDesignerMainPageTemplateResult.listItems)," "),o(4),oi(" ",h(17,22,"TITLE.Default_template_classification_system")," : ",Lt(18,24,e.pageDependencyIsDefaultPageLinkSiteCategoryId,i.dataModelCoreSiteCategoryResult.listItems)," "),o(4),g(" ",h(21,27,"TITLE.System_default")," : "),o(2),m("ngClass",h(23,29,e.pageDependencyIsDefaultPage)),o(3),g(" ",e.description," ")}}var Ei=class Ei extends zt{};Ei.\u0275fac=(()=>{let r;return function(i){return(r||(r=vo(Ei)))(i||Ei)}})(),Ei.\u0275cmp=L({type:Ei,selectors:[["app-webdesigner-page-list"]],standalone:!1,features:[Q],decls:61,vars:41,consts:[["paginator",""],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionClassBody","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-page","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-globe","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],[1,"row"],["Class","col-xl-12"],[3,"optionsInfoAreaId"],[1,"col-sm-12","col-md-6","col-lg-4","col-xl-3"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],[1,"example-card",2,"border","groove"],[3,"ngClass"],["mat-card-image","",2,"max-height","300px",3,"src"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"click","rtclick"]],template:function(e,i){if(e&1){let t=D();a(0,"app-cms-html-list",1),x("optionActionGuideNoticeDisplayChange",function(_){return u(t),E(i.viewGuideNotice,_)||(i.viewGuideNotice=_),f(_)}),v("optionOnActionButtonMemoRow",function(){return u(t),f(i.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return u(t),f(i.onActionButtonMemo())})("optionOnActionButtonExport",function(){return u(t),f(i.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return u(t),f(i.onActionButtonPrintRow())}),y(1,2),d(2," -------------------------------------- "),T(),Ee(3,3)(4,4),y(5,5),b(6,tu,2,0,"a",6),b(7,iu,2,0,"a",6),a(8,"a",7),v("click",function(){return u(t),f(i.viewGuideNotice=!i.viewGuideNotice)}),S(9,"i",8),l(),a(10,"a",7),v("click",function(){return u(t),f(i.onActionButtonReload())}),S(11,"i",9),l(),T(),y(12,10),a(13,"a",11),v("click",function(){return u(t),f(i.optionsSearch.data.show=!i.optionsSearch.data.show)}),S(14,"mat-slide-toggle",12),d(15),M(16,"translate"),l(),a(17,"a",11),v("click",function(){return u(t),f(i.onActionButtonStatist())}),S(18,"mat-slide-toggle",12),d(19),M(20,"translate"),l(),T(),y(21,13),b(22,nu,7,3,"div",14),T(),y(23,15),b(24,ou,7,3,"div",14),b(25,au,7,3,"div",14),a(26,"div",14)(27,"a",16),v("click",function(){return u(t),f(i.onActionButtonHtmlEditor(i.tableRowSelected))}),S(28,"i",17)(29,"br"),l(),a(30,"p",18),d(31),M(32,"translate"),l()(),a(33,"div",14)(34,"a",16),v("click",function(){return u(t),f(i.onActionButtonHtmlView(i.tableRowSelected))}),S(35,"i",17)(36,"br"),l(),a(37,"p",18),d(38),M(39,"translate"),l()(),b(40,ru,7,3,"div",14),a(41,"div",14)(42,"a",16),v("click",function(){return u(t),f(i.onActionButtonSiteRouteView(i.tableRowSelected))}),S(43,"i",19)(44,"br"),l(),a(45,"p",18),d(46),M(47,"translate"),l()(),T(),y(48,20),a(49,"app-cms-search-list",21),x("optionsChange",function(_){return u(t),E(i.optionsSearch,_)||(i.optionsSearch=_),f(_)}),l(),a(50,"app-cms-statist-list",21),x("optionsChange",function(_){return u(t),E(i.optionsStatist,_)||(i.optionsStatist=_),f(_)}),l(),T(),y(51,22),a(52,"div",23)(53,"div",24),S(54,"app-progress-spinner",25),a(55,"div",23),Ge(56,lu,30,31,"div",26,Be),l()()(),T(),y(58,27),a(59,"mat-paginator",28,0),v("page",function(_){return u(t),f(i.onTablePageingData(_))}),l(),T(),l()}e&2&&(m("optionsListInfoAreaId",i.constructorInfoAreaId)("optionGuideNoticeKey",""),w("optionActionGuideNoticeDisplay",i.viewGuideNotice),m("optionTreeDisplay",!1)("optionClassBody","")("optionActionRowId",i.tableRowSelected==null?null:i.tableRowSelected.id)("optionActionRowDisplayMenu",i.tableRowSelect2Click)("optionSelectRowItemTitle",i.tableRowSelected==null?null:i.tableRowSelected.title),o(6),C((i.requestLinkPageTemplateGuId==null?null:i.requestLinkPageTemplateGuId.length)>0?6:-1),o(),C((i.requestLinkPageDependencyGuId==null?null:i.requestLinkPageDependencyGuId.length)>0?7:-1),o(4),K("rotation360",i.publicHelper.processService.process.inRunArea[i.constructorInfoAreaId]),o(3),m("checked",i.optionsSearch.data.show),o(),g("",h(16,30,"ACTION.SEARCH")," "),o(3),m("checked",i.optionsStatist.data.show),o(),g("",h(20,32,"ACTION.STATIST")," "),o(3),C(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessAddRow?22:-1),o(2),C(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessEditRow?24:-1),o(),C(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessDeleteRow?25:-1),o(6),g(" ",h(32,34,"ACTION.PAGE_DESIGN")," "),o(7),g(" ",h(39,36,"ACTION.SHOW_PAGE")," "),o(2),C((i.tableRowSelected==null||i.tableRowSelected.linkPageParentGuId==null?null:i.tableRowSelected.linkPageParentGuId.length)>0?40:-1),o(6),g(" ",h(47,38,"ACTION.SHOW_WEB")," "),o(3),w("options",i.optionsSearch),o(),w("options",i.optionsStatist),o(4),m("optionsInfoAreaId",i.constructorInfoAreaId),o(2),Fe(i.dataModelResult.listItems),o(3),m("length",i.dataModelResult.totalRowCount)("pageIndex",i.dataModelResult.currentPageNumber-1)("pageSize",i.dataModelResult.rowPerPage)("pageSizeOptions",ve(40,eu)))},dependencies:[Te,Re,Qo,Yo,Ko,Xo,Zo,Jo,zo,re,Ue,Pe,ze,Ke,j,Je,Ye,k,Bi,Xe,ki],encapsulation:2});var xi=Ei;var fn=class fn{constructor(){this.constructorInfoAreaId=this.constructor.name}ngOnInit(){}};fn.\u0275fac=function(e){return new(e||fn)},fn.\u0275cmp=L({type:fn,selectors:[["app-web-designer"]],standalone:!1,decls:1,vars:0,template:function(e,i){e&1&&S(0,"router-outlet")},dependencies:[To],encapsulation:2});var uo=fn;var su=[{path:"",component:uo,data:{title:"ROUTE.WEBDESIGNER"},children:[{path:"config",loadChildren:()=>import("./chunk-YZSGWQ25.js").then(n=>n.WebDesignerConfigModule),data:{title:"ROUTE.WEBDESIGNER"}},{path:"intro",component:hn,data:{title:"ROUTE.WEBDESIGNER.INTRO"}},{path:"intro/LinkPageId/:LinkPageId",component:hn,data:{title:"ROUTE.WEBDESIGNER.INTRO"}},{path:"intro/add",component:Mn,data:{title:"ROUTE.WEBDESIGNER.INTRO"}},{path:"intro/add/:LinkPageId",component:Mn,data:{title:"ROUTE.WEBDESIGNER.INTRO"}},{path:"intro/edit/:id",component:Xn,data:{title:"ROUTE.WEBDESIGNER.INTRO"}},{path:"menu",component:io,data:{title:"ROUTE.WEBDESIGNER.MENU"}},{path:"logmemberinfo",component:eo,data:{title:"ROUTE.WEBDESIGNER.LOGMEMBERINFO"}},{path:"pagetemplate",component:co,data:{title:"ROUTE.WEBDESIGNER.PAGETEMPLATE"}},{path:"pagedependency",component:ro,data:{title:"ROUTE.WEBDESIGNER.PAGEDEPENDENCY"}},{path:"page",component:xi,data:{title:"ROUTE.WEBDESIGNER.PAGE"}},{path:"page/LinkPageTemplateGuId/:LinkPageTemplateGuId",component:xi,data:{title:"ROUTE.WEBDESIGNER.PAGE"}},{path:"page/LinkPageParentGuId/:LinkPageParentGuId",component:xi,data:{title:"ROUTE.WEBDESIGNER.PAGE"}},{path:"page/LinkPageDependencyGuId/:LinkPageDependencyGuId",component:xi,data:{title:"ROUTE.WEBDESIGNER.PAGE"}},{path:"page/list-grid",component:zt,data:{title:"ROUTE.WEBDESIGNER.PAGE"}},{path:"page/list-grid/LinkPageTemplateGuId/:LinkPageTemplateGuId",component:zt,data:{title:"ROUTE.WEBDESIGNER.PAGE"}},{path:"page/list-grid/LinkPageParentGuId/:LinkPageParentGuId",component:zt,data:{title:"ROUTE.WEBDESIGNER.PAGE"}},{path:"page/list-grid/LinkPageDependencyGuId/:LinkPageDependencyGuId",component:zt,data:{title:"ROUTE.WEBDESIGNER.PAGE"}}]}],Ai=class Ai{};Ai.\u0275fac=function(e){return new(e||Ai)},Ai.\u0275mod=wn({type:Ai}),Ai.\u0275inj=Tn({imports:[go.forChild(su),go]});var fo=Ai;var Ri=class Ri{};Ri.\u0275fac=function(e){return new(e||Ri)},Ri.\u0275mod=wn({type:Ri}),Ri.\u0275inj=Tn({providers:[En,z,xo,Qe,Po,xn,Lo,Li,ai,lt,st,Vt,dt,An,Wi],imports:[Do,fo,jo,Uo.withConfig({warnOnNgModelWithFormControl:"never"}),ca,_a,ua,ta,ea,ia,Ca,Ia,No,Ma,da]});var Ra=Ri;export{Ra as WebDesignerModule};
