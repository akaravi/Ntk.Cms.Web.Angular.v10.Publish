import{a as lt}from"./chunk-L4NLSG5C.js";import{a as at}from"./chunk-DDJNHZTF.js";import{a as X}from"./chunk-H4DUMXUG.js";import{a as $}from"./chunk-JEF4OJ24.js";import{d as rt,e as J,f as K,i as st}from"./chunk-VPCV3QWM.js";import"./chunk-SVQRGLTD.js";import{a as ai}from"./chunk-MJISGRY5.js";import"./chunk-MDLZCPQF.js";import"./chunk-XX2R74IE.js";import{b as ni}from"./chunk-7SVXILIE.js";import{b as ri}from"./chunk-3RHHJRHJ.js";import"./chunk-7DUNEHBM.js";import"./chunk-T2SWGMVG.js";import"./chunk-R5BPOJMN.js";import{a as nt}from"./chunk-4YFMZS2T.js";import"./chunk-HGNWVODT.js";import{a as it,d as ot}from"./chunk-EBEN3A5Q.js";import{e as tt,f as U}from"./chunk-T5H3DDPU.js";import{A as Ve,Aa as Zt,Ab as W,Ba as He,Bb as O,Ca as ei,Ia as Fe,Ja as je,Ma as F,Ob as ii,Sa as j,Ua as We,Va as qe,a as Oe,bb as ti,cb as ze,db as Qe,eb as Ue,fb as Je,gb as Ke,hb as $e,ib as Xe,jb as Ye,k as $t,kb as Ze,lb as et,ma as Be,na as Ne,oa as Ge,pc as q,sc as z,uc as Q,xc as oi}from"./chunk-DMLQRPQG.js";import{F as Xt,G as Yt}from"./chunk-QRBNL5ZA.js";import{$ as re,H as V,Ja as Ut,Jn as oe,Km as Kt,Lm as Ee,Mm as ke,Nm as xe,Ub as Ae,d as Pe,da as Qt,e as zt,f as Te,l as Ft,m as Re,q as ie,tm as wt,u as Z,um as Mt,v as ye,vm as It,zc as Jt}from"./chunk-IWWHFWKR.js";import{Ab as D,Ad as qt,Db as we,Dc as w,Eb as Me,Ec as M,Fb as C,Ga as Ce,Gb as l,Hb as a,Ib as f,Mb as v,Nb as b,Ob as k,Pb as L,Sb as _,Ua as ve,Ub as u,Va as n,Xc as H,Yb as Ie,Zb as De,_b as Le,cb as S,cc as ee,ec as x,ga as Nt,hc as g,ib as y,jb as Gt,jc as h,kc as te,mb as N,nc as P,ob as E,oc as T,pa as d,pc as R,qa as p,xb as be,xc as G,zb as I}from"./chunk-2AL2II5Z.js";import{i as B}from"./chunk-SEDBTTTN.js";var ct=class ct{constructor(){this.constructorInfoAreaId=this.constructor.name}ngOnInit(){}};ct.\u0275fac=function(t){return new(t||ct)},ct.\u0275cmp=y({type:ct,selectors:[["app-data-provider-log"]],standalone:!1,decls:1,vars:0,template:function(t,i){t&1&&f(0,"router-outlet")},dependencies:[zt],encapsulation:2});var mt=ct;var Mi=["vform"];function Ii(o,r){if(o&1){let t=L();l(0,"div",7)(1,"button",8),_("click",function(){d(t);let e=u();return p(e.onFormCancel())}),f(2,"i",9),g(3),w(4,"translate"),a()()}o&2&&(n(3),h(" ",M(4,1,"ACTION.CANCEL")," "))}var dt=class dt{constructor(r,t,i,e,c,m,s,A,he,Ct){this.data=r;this.dialogRef=t;this.coreEnumService=i;this.DataProviderLogClientService=e;this.cmsToastrService=c;this.tokenHelper=m;this.cmsStoreService=s;this.cdr=A;this.publicHelper=he;this.translate=Ct;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.tokenInfo=new Ae;this.dataModelResult=new ie;this.dataModel=new wt;this.formInfo=new ot;this.dataModelEnumSendSmsStatusTypeResult=new ie;this.fieldsInfo=new Map;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,r&&(this.requestId=r.id+"")}ngOnInit(){if(this.translate.get("aaaaaaaaaTITLE.VIEWaaaaa").subscribe(r=>{this.formInfo.formTitle=r}),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(r=>r.tokenInfoStore).subscribe(r=>B(this,null,function*(){this.tokenInfo=r}))),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:r=>{this.dataModelEnumSendSmsStatusTypeResult=r}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(r=>r.unsubscribe())}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage="";let r=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(r,t,this.constructorInfoAreaId)}),this.DataProviderLogClientService.setAccessLoad(),this.DataProviderLogClientService.ServiceGetOneById(this.requestId).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModel=t.item,t.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+t.item.id,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=t.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(t.errorMessage)),this.publicHelper.processService.processStop(r)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(r,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};dt.\u0275fac=function(t){return new(t||dt)(S(Ne),S(Be),S(re),S(Ee),S(Q),S(z),S(q),S(H),S(U),S(W))},dt.\u0275cmp=y({type:dt,selectors:[["app-data-provider-log-client-view"]],viewQuery:function(t,i){if(t&1&&Ie(Mi,5),t&2){let e;De(e=Le())&&(i.formGroup=e.first)}},standalone:!1,decls:9,vars:6,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection","loader-container"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[3,"formInfo"],[1,"ntk-cms-html-card-footer"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(t,i){t&1&&(l(0,"div",0),g(1),a(),l(2,"div",1),f(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),a(),l(5,"div",4),f(6,"app-cms-form-result-message",5),a(),l(7,"div",6),I(8,Ii,5,3,"div",7),a()),t&2&&(n(),h(" ",i.formInfo.formTitle," "),n(2),C("optionsInfoAreaId",i.constructorInfoAreaId),n(),C("dataModel",i.dataModel)("optionMethod",1),n(2),C("formInfo",i.formInfo),n(2),D(i.formInfo.submitButtonEnabled?8:-1))},dependencies:[it,at,nt,O],encapsulation:2});var ae=dt;var Di=()=>[5,10,20,100];function Li(o,r){if(o&1){let t=L();l(0,"a",34),_("click",function(){d(t);let e=u();return p(e.onActionBackToParent())}),f(1,"i",35),a()}}function Pi(o,r){if(o&1){let t=L();l(0,"div",17)(1,"a",36),_("click",function(){d(t);let e=u();return p(e.onActionButtonViewRow(e.tableRowSelected))}),f(2,"i",37)(3,"br"),a(),l(4,"p",38),g(5),w(6,"translate"),a()()}o&2&&(n(5),h(" ",M(6,1,"ACTION.VIEW")," "))}function Ti(o,r){if(o&1&&(l(0,"mat-header-cell",39),g(1),a()),o&2){let t=u();n(),h(" ",t.fieldsInfo.id==null?null:t.fieldsInfo.id.fieldTitle," ")}}function Ri(o,r){if(o&1&&(l(0,"mat-cell"),g(1),a()),o&2){let t=r.$implicit;n(),h(" ",t.id," ")}}function yi(o,r){if(o&1&&(l(0,"mat-header-cell",39),g(1),a()),o&2){let t=u();n(),h(" ",t.fieldsInfo.linkClientId==null?null:t.fieldsInfo.linkClientId.fieldTitle," ")}}function Ai(o,r){if(o&1&&(l(0,"mat-cell"),g(1),a()),o&2){let t=r.$implicit;n(),h(" ",t.linkClientId," ")}}function Ei(o,r){if(o&1&&(l(0,"mat-header-cell",39),g(1),a()),o&2){let t=u();n(),h(" ",t.fieldsInfo.createdDate==null?null:t.fieldsInfo.createdDate.fieldTitle," ")}}function ki(o,r){if(o&1&&(l(0,"mat-cell"),g(1),w(2,"localeDate"),a()),o&2){let t=r.$implicit;n(),h(" ",M(2,1,t.createdDate)," ")}}function xi(o,r){o&1&&(l(0,"mat-header-cell"),g(1),w(2,"translate"),a()),o&2&&(n(),h(" ",M(2,1,"TITLE.OPTION")," "))}function Oi(o,r){if(o&1&&(l(0,"mat-cell",40)(1,"button",41)(2,"mat-icon"),g(3,"more_vert"),a()(),f(4,"mat-menu",null,2),a()),o&2){let t=ee(5);n(),C("matMenuTriggerFor",t)}}function Vi(o,r){o&1&&f(0,"mat-header-row")}function Bi(o,r){if(o&1){let t=L();l(0,"mat-row",42),_("click",function(e){let c=d(t).$implicit,m=u();return p(m.onActionTableRowSelect(c,e))})("rtclick",function(e){let c=d(t).$implicit,m=u();return p(m.onActionTableRowSelect(c,e))}),a()}if(o&2){let t=r.$implicit,i=u();x("ntk-row-selected",t.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var pt=class pt extends rt{constructor(t,i,e,c,m,s,A,he,Ct,vt,Wt){super(i,new wt,vt,m,A);this.activatedRoute=t;this.contentService=i;this.cmsToastrService=e;this.router=c;this.tokenHelper=m;this.cdr=s;this.translate=A;this.pageInfo=he;this.cmsStoreService=Ct;this.publicHelper=vt;this.dialog=Wt;this.requestLinkClientId=0;this.constructorInfoAreaId=this.constructor.name;this.filteModelContent=new ye;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["id","LinkClientId","createdDate"];this.tabledisplayedColumnsMobileSource=["id","LinkClientId","createdDate"];this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:bt=>this.onSubmitOptionsSearch(bt)},this.filteModelContent.sortColumn="id",this.filteModelContent.sortType=V.Descending}ngOnInit(){if(this.requestLinkClientId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkClientId")),this.requestLinkClientId&&this.requestLinkClientId>0){let t=new Z;t.propertyName="LinkClientId",t.value=this.requestLinkClientId,this.filteModelContent.filters.push(t)}this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(t=>t.tokenInfoStore).subscribe(t=>B(this,null,function*(){this.tokenInfo=t,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(t=>t.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new wt);let t=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(e=>{this.publicHelper.processService.processStart(t,e,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.contentService.setAccessLoad(),this.contentService.ServiceGetAllEditor(i).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),e.isSuccess?(this.dataModelResult=e,this.tableSource.data=e.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(e.access)},1e3)):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(t)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(t,!1)}})}onTableSortData(t){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===t.active?this.tableSource.sort.start==="asc"?(t.start="desc",this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=V.Descending):this.tableSource.sort.start==="desc"?(t.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=V.Ascending):t.start="desc":(this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=V.Descending),this.tableSource.sort=t,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(t){this.filteModelContent.currentPageNumber=t.pageIndex+1,this.filteModelContent.rowPerPage=t.pageSize,this.DataGetAll()}onActionButtonViewRow(t=this.tableRowSelected){if(!(t?.id?.length>0)){this.cmsToastrService.typeErrorSelected();return}if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(ae,{height:"90%",panelClass:i,enterAnimationDuration:oe.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:oe.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(c=>{c&&c.dialogChangedDate})}onActionButtonStatist(t=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=t,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(s=>{i.set(s,0)}),this.translate.get("MESSAGE.All").subscribe(s=>{i.set(s,0)});let e=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(s=>{this.publicHelper.processService.processStart(e,s,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:s=>{s.isSuccess?(this.translate.get("MESSAGE.All").subscribe(A=>{i.set(A,s.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(s.errorMessage),this.publicHelper.processService.processStop(e)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(e,!1)}});let c=JSON.parse(JSON.stringify(this.filteModelContent)),m=new Z;m.propertyName="recordStatus",m.value=Re.Available,c.filters.push(m),this.contentService.ServiceGetCount(c).subscribe({next:s=>{s.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(A=>{i.set(A,s.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(s.errorMessage),this.publicHelper.processService.processStop(e)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(e,!1)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(t){t&&t.length>0?this.filterDataModelQueryBuilder=[...t]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.requestLinkClientId>0&&this.router.navigate(["/data-provider/client/"])}};pt.\u0275fac=function(i){return new(i||pt)(S(Pe),S(Ee),S(Q),S(Te),S(z),S(H),S(W),S(tt),S(q),S(U),S(Ge))},pt.\u0275cmp=y({type:pt,selectors:[["app-data-provider-log-client-list"]],standalone:!1,features:[N],decls:45,vars:29,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],[1,"col-4"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkClientId"],["matColumnDef","createdDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["mat-sort-header",""],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(i,e){if(i&1){let c=L();l(0,"app-cms-html-list",3),R("optionActionGuideNoticeDisplayChange",function(s){return d(c),T(e.viewGuideNotice,s)||(e.viewGuideNotice=s),p(s)}),_("optionOnActionButtonMemoRow",function(){return d(c),p(e.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return d(c),p(e.onActionButtonMemo())})("optionOnActionButtonExport",function(){return d(c),p(e.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return d(c),p(e.onActionButtonPrintRow())}),k(1,4)(2,5)(3,6),v(4,7),I(5,Li,2,0,"a",8),l(6,"a",9),_("click",function(){return d(c),p(e.viewGuideNotice=!e.viewGuideNotice)}),f(7,"i",10),a(),l(8,"a",9),_("click",function(){return d(c),p(e.onActionButtonReload())}),f(9,"i",11),a(),b(),v(10,12),l(11,"a",13),_("click",function(){return d(c),p(e.optionsSearch.data.show=!e.optionsSearch.data.show)}),f(12,"mat-slide-toggle",14),g(13),w(14,"translate"),a(),l(15,"a",13),_("click",function(){return d(c),p(e.onActionButtonStatist())}),f(16,"mat-slide-toggle",14),g(17),w(18,"translate"),a(),b(),k(19,15),v(20,16),I(21,Pi,7,3,"div",17),b(),v(22,18),l(23,"app-cms-search-list",19),R("optionsChange",function(s){return d(c),T(e.optionsSearch,s)||(e.optionsSearch=s),p(s)}),a(),l(24,"app-cms-statist-list",19),R("optionsChange",function(s){return d(c),T(e.optionsStatist,s)||(e.optionsStatist=s),p(s)}),a(),b(),v(25,20),l(26,"mat-table",21,0),_("matSortChange",function(){d(c);let s=ee(27);return p(e.onTableSortData(s))}),v(28,22),E(29,Ti,2,1,"mat-header-cell",23)(30,Ri,2,1,"mat-cell",24),b(),v(31,25),E(32,yi,2,1,"mat-header-cell",23)(33,Ai,2,1,"mat-cell",24),b(),v(34,26),E(35,Ei,2,1,"mat-header-cell",23)(36,ki,3,3,"mat-cell",24),b(),v(37,27),E(38,xi,3,3,"mat-header-cell",28)(39,Oi,6,1,"mat-cell",29),b(),E(40,Vi,1,0,"mat-header-row",30)(41,Bi,1,2,"mat-row",31),a(),b(),v(42,32),l(43,"mat-paginator",33,1),_("page",function(s){return d(c),p(e.onTablePageingData(s))}),a(),b(),a()}i&2&&(C("optionsListInfoAreaId",e.constructorInfoAreaId)("optionGuideNoticeKey",""),P("optionActionGuideNoticeDisplay",e.viewGuideNotice),C("optionTreeDisplay",!1)("optionActionRowId",e.tableRowSelected==null?null:e.tableRowSelected.id)("optionActionRowDisplayMenu",e.tableRowSelect2Click)("optionSelectRowItemTitle",e.tableRowSelected==null?null:e.tableRowSelected.id),n(5),D(e.requestLinkClientId>0?5:-1),n(4),x("rotation360",e.publicHelper.processService.process.inRunArea[e.constructorInfoAreaId]),n(3),C("checked",e.optionsSearch.data.show),n(),h("",M(14,24,"ACTION.SEARCH")," "),n(3),C("checked",e.optionsStatist.data.show),n(),h("",M(18,26,"ACTION.STATIST")," "),n(4),D(!(e.dataModelResult==null||e.dataModelResult.access==null)&&e.dataModelResult.access.accessWatchRow?21:-1),n(2),P("options",e.optionsSearch),n(),P("options",e.optionsStatist),n(2),C("dataSource",e.tableSource),n(14),C("matHeaderRowDef",e.tabledisplayedColumns),n(),C("matRowDefColumns",e.tabledisplayedColumns),n(2),C("length",e.dataModelResult.totalRowCount)("pageIndex",e.dataModelResult.currentPageNumber-1)("pageSize",e.dataModelResult.rowPerPage)("pageSizeOptions",G(28,Di)))},dependencies:[Ve,He,Fe,je,F,j,We,qe,ze,Ue,Xe,Je,Qe,Ye,Ke,$e,Ze,et,J,K,st,$,O,X],encapsulation:2});var le=pt;var Ni=()=>[5,10,20,100],Gi=(o,r)=>r.id;function Hi(o,r){if(o&1){let t=L();l(0,"a",23),_("click",function(){d(t);let e=u();return p(e.onActionBackToParent())}),f(1,"i",24),a()}}function Fi(o,r){if(o&1){let t=L();l(0,"div",15)(1,"a",25),_("click",function(){d(t);let e=u();return p(e.onActionButtonViewRow(e.tableRowSelected))}),f(2,"i",26)(3,"br"),a(),l(4,"p",27),g(5),w(6,"translate"),a()()}o&2&&(n(5),h(" ",M(6,1,"ACTION.VIEW")," "))}function ji(o,r){if(o&1&&(l(0,"div",34),f(1,"i",36),g(2),w(3,"localeDate"),a()),o&2){let t=u().$implicit,i=u(2);n(2),te(" ",i.fieldsInfo.createdDate==null?null:i.fieldsInfo.createdDate.fieldTitle,": ",M(3,2,t.createdDate)," ")}}function Wi(o,r){if(o&1&&(l(0,"div",34),f(1,"i",37),g(2),a()),o&2){let t=u().$implicit,i=u(2);n(2),te(" ",i.fieldsInfo.linkClientId==null?null:i.fieldsInfo.linkClientId.fieldTitle,": ",t.linkClientId," ")}}function qi(o,r){if(o&1&&(l(0,"div",35)(1,"div",34)(2,"span",38),f(3,"i",39),a(),g(4),a()()),o&2){let t=u().$implicit;n(2),C("cdkCopyToClipboard",t.id.toString()),n(2),h(" ID: ",t.id," ")}}function zi(o,r){if(o&1){let t=L();l(0,"div",29),_("click",function(e){let c=d(t).$implicit,m=u(2);return p(m.onActionTableRowSelect(c,e))})("rtclick",function(e){let c=d(t).$implicit,m=u(2);return p(m.onActionTableRowSelect(c,e))})("mouseenter",function(){let e=d(t).$implicit,c=u(2);return p(c.onActionTableRowMouseEnter(e))})("mouseleave",function(){let e=d(t).$implicit,c=u(2);return p(c.onActionTableRowMouseLeave(e))}),l(1,"div",30),f(2,"i",31),a(),l(3,"div",32)(4,"div",33),g(5),a(),I(6,ji,4,4,"div",34),I(7,Wi,3,2,"div",34),I(8,qi,5,2,"div",35),a()()}if(o&2){let t=r.$implicit,i=u(2);x("selected",t.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)),be("aria-label",t.id||t.id),n(5),h(" ID: ",t.id," "),n(),D(t.createdDate?6:-1),n(),D(t.linkClientId?7:-1),n(),D(i.getRowExpanded(t)?8:-1)}}function Qi(o,r){if(o&1&&(l(0,"div",19),we(1,zi,9,7,"div",28,Gi),a()),o&2){let t=u();n(),Me(t.dataModelResult.listItems)}}function Ui(o,r){o&1&&(l(0,"div",20),g(1),w(2,"translate"),a()),o&2&&(n(),h(" ",M(2,1,"MESSAGE.NoRecord")," "))}var pe=class pe extends le{constructor(){super(...arguments);this.actionMenuOpen=null}toggleActionMenu(t){let i=String(t);this.actionMenuOpen===i?this.actionMenuOpen=null:this.actionMenuOpen=i}closeActionMenu(){this.actionMenuOpen=null}toString(t){return String(t)}onDocumentClick(t){let i=t.target;!i.closest(".cms-m-action-menu")&&!i.closest(".cms-m-action-menu-dropdown")&&this.closeActionMenu()}getRowExpanded(t){return t.expanded===!0}};pe.\u0275fac=(()=>{let t;return function(e){return(t||(t=Ce(pe)))(e||pe)}})(),pe.\u0275cmp=y({type:pe,selectors:[["app-data-provider-log-client-list-mobile"]],hostBindings:function(i,e){i&1&&_("click",function(m){return e.onDocumentClick(m)},ve)},standalone:!1,features:[N],decls:31,vars:29,consts:[["paginator",""],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplay","optionActionRowDisplayMenu","optionActionRowDisplayMenuAct","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],[1,"col-4"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],[1,"cms-m-list"],[1,"cms-m-empty"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["role","button","tabindex","0",1,"cms-m-list-item",3,"selected"],["role","button","tabindex","0",1,"cms-m-list-item",3,"click","rtclick","mouseenter","mouseleave"],[1,"cms-m-list-item-image-placeholder"],["aria-hidden","true",1,"fa-solid","fa-file-lines"],[1,"cms-m-list-item-content"],[1,"cms-m-list-item-title"],[1,"cms-m-list-item-subtitle"],[1,"cms-m-list-item-expanded"],["aria-hidden","true",1,"fa-solid","fa-clock"],["aria-hidden","true",1,"fa-solid","fa-user"],[1,"navi-icon","pointer",3,"cdkCopyToClipboard"],[1,"flaticon2-copy"]],template:function(i,e){if(i&1){let c=L();l(0,"app-cms-html-list-mobile",1),R("optionActionGuideNoticeDisplayChange",function(s){return d(c),T(e.viewGuideNotice,s)||(e.viewGuideNotice=s),p(s)}),_("optionOnActionButtonMemoRow",function(){return d(c),p(e.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return d(c),p(e.onActionButtonMemo())})("optionOnActionButtonExport",function(){return d(c),p(e.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return d(c),p(e.onActionButtonPrintRow())}),k(1,2)(2,3)(3,4),v(4,5),I(5,Hi,2,0,"a",6),l(6,"a",7),_("click",function(){return d(c),p(e.viewGuideNotice=!e.viewGuideNotice)}),f(7,"i",8),a(),l(8,"a",7),_("click",function(){return d(c),p(e.onActionButtonReload())}),f(9,"i",9),a(),b(),v(10,10),l(11,"a",11),_("click",function(){return d(c),p(e.optionsSearch.data.show=!e.optionsSearch.data.show)}),f(12,"mat-slide-toggle",12),g(13),w(14,"translate"),a(),l(15,"a",11),_("click",function(){return d(c),p(e.onActionButtonStatist())}),f(16,"mat-slide-toggle",12),g(17),w(18,"translate"),a(),b(),k(19,13),v(20,14),I(21,Fi,7,3,"div",15),b(),v(22,16),l(23,"app-cms-search-list",17),R("optionsChange",function(s){return d(c),T(e.optionsSearch,s)||(e.optionsSearch=s),p(s)}),a(),l(24,"app-cms-statist-list",17),R("optionsChange",function(s){return d(c),T(e.optionsStatist,s)||(e.optionsStatist=s),p(s)}),a(),b(),v(25,18),I(26,Qi,3,0,"div",19)(27,Ui,3,3,"div",20),b(),v(28,21),l(29,"mat-paginator",22,0),_("page",function(s){return d(c),p(e.onTablePageingData(s))}),a(),b(),a()}i&2&&(C("optionsListInfoAreaId",e.constructorInfoAreaId)("optionGuideNoticeKey",""),P("optionActionGuideNoticeDisplay",e.viewGuideNotice),C("optionTreeDisplay",!1)("optionActionRowId",e.tableRowSelected==null?null:e.tableRowSelected.id)("optionActionRowDisplay",(e.tableRowSelected==null||e.tableRowSelected.id==null?null:e.tableRowSelected.id.length)>0)("optionActionRowDisplayMenu",e.tableRowSelect2Click)("optionActionRowDisplayMenuAct",e.tableRowSelectActionMenuClick)("optionSelectRowItemTitle",e.tableRowSelected==null?null:e.tableRowSelected.id),n(5),D(e.requestLinkClientId>0?5:-1),n(4),x("rotation360",e.publicHelper.processService.process.inRunArea[e.constructorInfoAreaId]),n(3),C("checked",e.optionsSearch.data.show),n(),h("",M(14,24,"ACTION.SEARCH")," "),n(3),C("checked",e.optionsStatist.data.show),n(),h("",M(18,26,"ACTION.STATIST")," "),n(4),D(!(e.dataModelResult==null||e.dataModelResult.access==null)&&e.dataModelResult.access.accessEditRow&&(e.tableRowSelected==null||e.tableRowSelected.id==null?null:e.tableRowSelected.id.length)>0?21:-1),n(2),P("options",e.optionsSearch),n(),P("options",e.optionsStatist),n(2),D(!(e.dataModelResult==null||e.dataModelResult.listItems==null)&&e.dataModelResult.listItems.length?26:27),n(3),C("length",e.dataModelResult.totalRowCount)("pageIndex",e.dataModelResult.currentPageNumber-1)("pageSize",e.dataModelResult.rowPerPage)("pageSizeOptions",G(28,Ni)))},dependencies:[F,j,Oe,J,K,lt,$,O,X],styles:[".cms-m-body[_ngcontent-%COMP%]{min-height:100vh;background:var(--cms-m-bg, #0f172a);color:var(--cms-m-fg, #e2e8f0)}.cms-m-header[_ngcontent-%COMP%]{position:sticky;top:0;z-index:2;background:var(--cms-m-header-bg, #0f172a);border-bottom:1px solid rgba(255,255,255,.08)}.cms-m-header-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:12px 16px}.cms-m-header-title[_ngcontent-%COMP%]{margin:0;font-size:16px;font-weight:600;color:var(--cms-m-accent, #38bdf8)}.cms-m-header-actions[_ngcontent-%COMP%]{display:flex;gap:8px;margin-left:auto}.cms-m-header-action-btn[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:12px;border:1px solid rgba(255,255,255,.08);background:#ffffff0d;color:#e2e8f0;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .2s ease}.cms-m-header-action-btn[_ngcontent-%COMP%]:hover{background:#ffffff1a}.cms-m-header-action-btn.active[_ngcontent-%COMP%]{background:#38bdf833;border-color:#38bdf866}.cms-m-header-action-btn[_ngcontent-%COMP%]   i.rotation360[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_rotation360 1s linear infinite}@keyframes _ngcontent-%COMP%_rotation360{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.cms-m-search-area[_ngcontent-%COMP%]{padding:8px 12px}.cms-m-content[_ngcontent-%COMP%]{padding:8px 12px 16px}.cms-m-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.cms-m-list-item[_ngcontent-%COMP%]{display:flex;gap:12px;padding:12px;border-radius:14px;background:#ffffff0a;border:1px solid rgba(255,255,255,.06);cursor:pointer;transition:all .2s ease}.cms-m-list-item[_ngcontent-%COMP%]:active{transform:scale(.98)}.cms-m-list-item.selected[_ngcontent-%COMP%]{border-color:var(--cms-m-accent, #38bdf8);box-shadow:0 0 0 1px #38bdf84d}.cms-m-list-item-image-placeholder[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:12px;display:grid;place-items:center;background:#38bdf81f;color:#38bdf8;flex-shrink:0}.cms-m-list-item-content[_ngcontent-%COMP%]{flex:1;min-width:0}.cms-m-list-item-title[_ngcontent-%COMP%]{font-weight:600;margin-bottom:4px;font-size:14px}.cms-m-list-item-subtitle[_ngcontent-%COMP%]{font-size:12px;color:#94a3b8;display:flex;align-items:center;gap:4px;margin-top:2px}.cms-m-list-item-actions[_ngcontent-%COMP%]{display:flex;align-items:center;flex-shrink:0}.cms-m-empty[_ngcontent-%COMP%]{padding:24px;text-align:center;color:#94a3b8}"]});var ut=pe;var Ji=["vform"];function Ki(o,r){if(o&1){let t=L();l(0,"div",7)(1,"button",8),_("click",function(){d(t);let e=u();return p(e.onFormCancel())}),f(2,"i",9),g(3),w(4,"translate"),a()()}o&2&&(n(3),h(" ",M(4,1,"ACTION.CANCEL")," "))}var ft=class ft{constructor(r,t,i,e,c,m,s,A,he,Ct){this.data=r;this.dialogRef=t;this.coreEnumService=i;this.DataProviderLogPlanService=e;this.cmsToastrService=c;this.tokenHelper=m;this.cmsStoreService=s;this.cdr=A;this.publicHelper=he;this.translate=Ct;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.tokenInfo=new Ae;this.dataModelResult=new ie;this.dataModel=new Mt;this.formInfo=new ot;this.dataModelEnumSendSmsStatusTypeResult=new ie;this.fieldsInfo=new Map;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,r&&(this.requestId=r.id+"")}ngOnInit(){if(this.translate.get("aaaaaaaaaTITLE.VIEWaaaaa").subscribe(r=>{this.formInfo.formTitle=r}),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(r=>r.tokenInfoStore).subscribe(r=>B(this,null,function*(){this.tokenInfo=r}))),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:r=>{this.dataModelEnumSendSmsStatusTypeResult=r}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(r=>r.unsubscribe())}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage="";let r=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(r,t,this.constructorInfoAreaId)}),this.DataProviderLogPlanService.setAccessLoad(),this.DataProviderLogPlanService.ServiceGetOneById(this.requestId).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModel=t.item,t.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+t.item.id,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=t.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(t.errorMessage)),this.publicHelper.processService.processStop(r)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(r,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};ft.\u0275fac=function(t){return new(t||ft)(S(Ne),S(Be),S(re),S(ke),S(Q),S(z),S(q),S(H),S(U),S(W))},ft.\u0275cmp=y({type:ft,selectors:[["app-data-provider-log-plan-view"]],viewQuery:function(t,i){if(t&1&&Ie(Ji,5),t&2){let e;De(e=Le())&&(i.formGroup=e.first)}},standalone:!1,decls:9,vars:6,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection","loader-container"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[3,"formInfo"],[1,"ntk-cms-html-card-footer"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(t,i){t&1&&(l(0,"div",0),g(1),a(),l(2,"div",1),f(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),a(),l(5,"div",4),f(6,"app-cms-form-result-message",5),a(),l(7,"div",6),I(8,Ki,5,3,"div",7),a()),t&2&&(n(),h(" ",i.formInfo.formTitle," "),n(2),C("optionsInfoAreaId",i.constructorInfoAreaId),n(),C("dataModel",i.dataModel)("optionMethod",1),n(2),C("formInfo",i.formInfo),n(2),D(i.formInfo.submitButtonEnabled?8:-1))},dependencies:[it,at,nt,O],encapsulation:2});var ce=ft;var $i=()=>[5,10,20,100];function Xi(o,r){if(o&1){let t=L();l(0,"a",35),_("click",function(){d(t);let e=u();return p(e.onActionBackToParent())}),f(1,"i",36),a()}}function Yi(o,r){if(o&1){let t=L();l(0,"div",17)(1,"a",37),_("click",function(){d(t);let e=u();return p(e.onActionButtonViewRow(e.tableRowSelected))}),f(2,"i",38)(3,"br"),a(),l(4,"p",39),g(5),w(6,"translate"),a()()}o&2&&(n(5),h(" ",M(6,1,"ACTION.VIEW")," "))}function Zi(o,r){if(o&1&&(l(0,"mat-header-cell",40),g(1),a()),o&2){let t=u();n(),h(" ",t.fieldsInfo.id==null?null:t.fieldsInfo.id.fieldTitle," ")}}function eo(o,r){if(o&1&&(l(0,"mat-cell"),g(1),a()),o&2){let t=r.$implicit;n(),h(" ",t.id," ")}}function to(o,r){if(o&1&&(l(0,"mat-header-cell",40),g(1),a()),o&2){let t=u();n(),h(" ",t.fieldsInfo.linkSourceId==null?null:t.fieldsInfo.linkSourceId.fieldTitle," ")}}function io(o,r){if(o&1&&(l(0,"mat-cell"),g(1),a()),o&2){let t=r.$implicit;n(),h(" ",t.linkSourceId," ")}}function oo(o,r){if(o&1&&(l(0,"mat-header-cell",40),g(1),a()),o&2){let t=u();n(),h(" ",t.fieldsInfo.linkPlanId==null?null:t.fieldsInfo.linkPlanId.fieldTitle," ")}}function no(o,r){if(o&1&&(l(0,"mat-cell"),g(1),a()),o&2){let t=r.$implicit;n(),h(" ",t.linkPlanId," ")}}function ro(o,r){if(o&1&&(l(0,"mat-header-cell",40),g(1),a()),o&2){let t=u();n(),h(" ",t.fieldsInfo.createdDate==null?null:t.fieldsInfo.createdDate.fieldTitle," ")}}function ao(o,r){if(o&1&&(l(0,"mat-cell"),g(1),w(2,"localeDate"),a()),o&2){let t=r.$implicit;n(),h(" ",M(2,1,t.createdDate)," ")}}function so(o,r){o&1&&(l(0,"mat-header-cell"),g(1),w(2,"translate"),a()),o&2&&(n(),h(" ",M(2,1,"TITLE.OPTION")," "))}function lo(o,r){if(o&1&&(l(0,"mat-cell",41)(1,"button",42)(2,"mat-icon"),g(3,"more_vert"),a()(),f(4,"mat-menu",null,2),a()),o&2){let t=ee(5);n(),C("matMenuTriggerFor",t)}}function co(o,r){o&1&&f(0,"mat-header-row")}function mo(o,r){if(o&1){let t=L();l(0,"mat-row",43),_("click",function(e){let c=d(t).$implicit,m=u();return p(m.onActionTableRowSelect(c,e))})("rtclick",function(e){let c=d(t).$implicit,m=u();return p(m.onActionTableRowSelect(c,e))}),a()}if(o&2){let t=r.$implicit,i=u();x("ntk-row-selected",t.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var gt=class gt extends rt{constructor(t,i,e,c,m,s,A,he,Ct,vt,Wt){super(i,new Mt,vt,m,A);this.activatedRoute=t;this.contentService=i;this.cmsToastrService=e;this.router=c;this.tokenHelper=m;this.cdr=s;this.translate=A;this.cmsStoreService=he;this.pageInfo=Ct;this.publicHelper=vt;this.dialog=Wt;this.requestLinkPlanId=0;this.requestLinkSourceId=0;this.constructorInfoAreaId=this.constructor.name;this.filteModelContent=new ye;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["id","LinkSourceId","LinkPlanId","createdDate"];this.tabledisplayedColumnsMobileSource=["id","LinkSourceId","LinkPlanId","createdDate"];this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:bt=>this.onSubmitOptionsSearch(bt)},this.filteModelContent.sortColumn="id",this.filteModelContent.sortType=V.Descending}ngOnInit(){if(this.requestLinkSourceId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSourceId")),this.requestLinkSourceId&&this.requestLinkSourceId>0){let t=new Z;t.propertyName="LinkSourceId",t.value=this.requestLinkSourceId,this.filteModelContent.filters.push(t)}if(this.requestLinkPlanId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkPlanId")),this.requestLinkPlanId&&this.requestLinkPlanId>0){let t=new Z;t.propertyName="LinkPlanId",t.value=this.requestLinkPlanId,this.filteModelContent.filters.push(t)}this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(t=>t.tokenInfoStore).subscribe(t=>B(this,null,function*(){this.tokenInfo=t,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(t=>t.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Mt);let t=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(e=>{this.publicHelper.processService.processStart(t,e,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.contentService.setAccessLoad(),this.contentService.ServiceGetAllEditor(i).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),e.isSuccess?(this.dataModelResult=e,this.tableSource.data=e.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(e.access)},1e3)):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(t)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(t,!1)}})}onTableSortData(t){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===t.active?this.tableSource.sort.start==="asc"?(t.start="desc",this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=V.Descending):this.tableSource.sort.start==="desc"?(t.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=V.Ascending):t.start="desc":(this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=V.Descending),this.tableSource.sort=t,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(t){this.filteModelContent.currentPageNumber=t.pageIndex+1,this.filteModelContent.rowPerPage=t.pageSize,this.DataGetAll()}onActionButtonViewRow(t=this.tableRowSelected){if(!(t?.id?.length>0)){this.cmsToastrService.typeErrorSelected();return}if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(ce,{height:"90%",panelClass:i,enterAnimationDuration:oe.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:oe.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(c=>{c&&c.dialogChangedDate})}onActionButtonStatist(t=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=t,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(s=>{i.set(s,0)}),this.translate.get("MESSAGE.All").subscribe(s=>{i.set(s,0)});let e=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(s=>{this.publicHelper.processService.processStart(e,s,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:s=>{s.isSuccess?(this.translate.get("MESSAGE.All").subscribe(A=>{i.set(A,s.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(s.errorMessage),this.publicHelper.processService.processStop(e)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(e,!1)}});let c=JSON.parse(JSON.stringify(this.filteModelContent)),m=new Z;m.propertyName="recordStatus",m.value=Re.Available,c.filters.push(m),this.contentService.ServiceGetCount(c).subscribe({next:s=>{s.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(A=>{i.set(A,s.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(s.errorMessage),this.publicHelper.processService.processStop(e)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(e,!1)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(t){t&&t.length>0?this.filterDataModelQueryBuilder=[...t]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.requestLinkPlanId>0&&this.router.navigate(["/data-provider/plan/"]),this.requestLinkSourceId>0&&this.router.navigate(["/data-provider/source/"])}};gt.\u0275fac=function(i){return new(i||gt)(S(Pe),S(ke),S(Q),S(Te),S(z),S(H),S(W),S(q),S(tt),S(U),S(Ge))},gt.\u0275cmp=y({type:gt,selectors:[["app-data-provider-log-plan-list"]],standalone:!1,features:[N],decls:48,vars:29,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],[1,"col-4"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkSourceId"],["matColumnDef","LinkPlanId"],["matColumnDef","createdDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["mat-sort-header",""],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(i,e){if(i&1){let c=L();l(0,"app-cms-html-list",3),R("optionActionGuideNoticeDisplayChange",function(s){return d(c),T(e.viewGuideNotice,s)||(e.viewGuideNotice=s),p(s)}),_("optionOnActionButtonMemoRow",function(){return d(c),p(e.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return d(c),p(e.onActionButtonMemo())})("optionOnActionButtonExport",function(){return d(c),p(e.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return d(c),p(e.onActionButtonPrintRow())}),k(1,4)(2,5)(3,6),v(4,7),I(5,Xi,2,0,"a",8),l(6,"a",9),_("click",function(){return d(c),p(e.viewGuideNotice=!e.viewGuideNotice)}),f(7,"i",10),a(),l(8,"a",9),_("click",function(){return d(c),p(e.onActionButtonReload())}),f(9,"i",11),a(),b(),v(10,12),l(11,"a",13),_("click",function(){return d(c),p(e.optionsSearch.data.show=!e.optionsSearch.data.show)}),f(12,"mat-slide-toggle",14),g(13),w(14,"translate"),a(),l(15,"a",13),_("click",function(){return d(c),p(e.onActionButtonStatist())}),f(16,"mat-slide-toggle",14),g(17),w(18,"translate"),a(),b(),k(19,15),v(20,16),I(21,Yi,7,3,"div",17),b(),v(22,18),l(23,"app-cms-search-list",19),R("optionsChange",function(s){return d(c),T(e.optionsSearch,s)||(e.optionsSearch=s),p(s)}),a(),l(24,"app-cms-statist-list",19),R("optionsChange",function(s){return d(c),T(e.optionsStatist,s)||(e.optionsStatist=s),p(s)}),a(),b(),v(25,20),l(26,"mat-table",21,0),_("matSortChange",function(){d(c);let s=ee(27);return p(e.onTableSortData(s))}),v(28,22),E(29,Zi,2,1,"mat-header-cell",23)(30,eo,2,1,"mat-cell",24),b(),v(31,25),E(32,to,2,1,"mat-header-cell",23)(33,io,2,1,"mat-cell",24),b(),v(34,26),E(35,oo,2,1,"mat-header-cell",23)(36,no,2,1,"mat-cell",24),b(),v(37,27),E(38,ro,2,1,"mat-header-cell",23)(39,ao,3,3,"mat-cell",24),b(),v(40,28),E(41,so,3,3,"mat-header-cell",29)(42,lo,6,1,"mat-cell",30),b(),E(43,co,1,0,"mat-header-row",31)(44,mo,1,2,"mat-row",32),a(),b(),v(45,33),l(46,"mat-paginator",34,1),_("page",function(s){return d(c),p(e.onTablePageingData(s))}),a(),b(),a()}i&2&&(C("optionsListInfoAreaId",e.constructorInfoAreaId)("optionGuideNoticeKey",""),P("optionActionGuideNoticeDisplay",e.viewGuideNotice),C("optionTreeDisplay",!1)("optionActionRowId",e.tableRowSelected==null?null:e.tableRowSelected.id)("optionActionRowDisplayMenu",e.tableRowSelect2Click)("optionSelectRowItemTitle",e.tableRowSelected==null?null:e.tableRowSelected.id),n(5),D(e.requestLinkPlanId>0||e.requestLinkSourceId>0?5:-1),n(4),x("rotation360",e.publicHelper.processService.process.inRunArea[e.constructorInfoAreaId]),n(3),C("checked",e.optionsSearch.data.show),n(),h("",M(14,24,"ACTION.SEARCH")," "),n(3),C("checked",e.optionsStatist.data.show),n(),h("",M(18,26,"ACTION.STATIST")," "),n(4),D(!(e.dataModelResult==null||e.dataModelResult.access==null)&&e.dataModelResult.access.accessWatchRow?21:-1),n(2),P("options",e.optionsSearch),n(),P("options",e.optionsStatist),n(2),C("dataSource",e.tableSource),n(17),C("matHeaderRowDef",e.tabledisplayedColumns),n(),C("matRowDefColumns",e.tabledisplayedColumns),n(2),C("length",e.dataModelResult.totalRowCount)("pageIndex",e.dataModelResult.currentPageNumber-1)("pageSize",e.dataModelResult.rowPerPage)("pageSizeOptions",G(28,$i)))},dependencies:[Ve,He,Fe,je,F,j,We,qe,ze,Ue,Xe,Je,Qe,Ye,Ke,$e,Ze,et,J,K,st,$,O,X],encapsulation:2});var me=gt;var po=()=>[5,10,20,100],uo=(o,r)=>r.id;function fo(o,r){if(o&1){let t=L();l(0,"a",23),_("click",function(){d(t);let e=u();return p(e.onActionBackToParent())}),f(1,"i",24),a()}}function go(o,r){if(o&1){let t=L();l(0,"div",15)(1,"a",25),_("click",function(){d(t);let e=u();return p(e.onActionButtonViewRow(e.tableRowSelected))}),f(2,"i",26)(3,"br"),a(),l(4,"p",27),g(5),w(6,"translate"),a()()}o&2&&(n(5),h(" ",M(6,1,"ACTION.VIEW")," "))}function _o(o,r){if(o&1&&(l(0,"div",34),f(1,"i",36),g(2),w(3,"localeDate"),a()),o&2){let t=u().$implicit,i=u(2);n(2),te(" ",i.fieldsInfo.createdDate==null?null:i.fieldsInfo.createdDate.fieldTitle,": ",M(3,2,t.createdDate)," ")}}function So(o,r){if(o&1&&(l(0,"div",34),f(1,"i",37),g(2),a()),o&2){let t=u().$implicit,i=u(2);n(2),te(" ",i.fieldsInfo.linkPlanId==null?null:i.fieldsInfo.linkPlanId.fieldTitle,": ",t.linkPlanId," ")}}function ho(o,r){if(o&1&&(l(0,"div",35)(1,"div",34)(2,"span",38),f(3,"i",39),a(),g(4),a()()),o&2){let t=u().$implicit;n(2),C("cdkCopyToClipboard",t.id.toString()),n(2),h(" ID: ",t.id," ")}}function Co(o,r){if(o&1){let t=L();l(0,"div",29),_("click",function(e){let c=d(t).$implicit,m=u(2);return p(m.onActionTableRowSelect(c,e))})("rtclick",function(e){let c=d(t).$implicit,m=u(2);return p(m.onActionTableRowSelect(c,e))})("mouseenter",function(){let e=d(t).$implicit,c=u(2);return p(c.onActionTableRowMouseEnter(e))})("mouseleave",function(){let e=d(t).$implicit,c=u(2);return p(c.onActionTableRowMouseLeave(e))}),l(1,"div",30),f(2,"i",31),a(),l(3,"div",32)(4,"div",33),g(5),a(),I(6,_o,4,4,"div",34),I(7,So,3,2,"div",34),I(8,ho,5,2,"div",35),a()()}if(o&2){let t=r.$implicit,i=u(2);x("selected",t.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)),be("aria-label",t.id||t.id),n(5),h(" ID: ",t.id," "),n(),D(t.createdDate?6:-1),n(),D(t.linkPlanId?7:-1),n(),D(i.getRowExpanded(t)?8:-1)}}function vo(o,r){if(o&1&&(l(0,"div",19),we(1,Co,9,7,"div",28,uo),a()),o&2){let t=u();n(),Me(t.dataModelResult.listItems)}}function bo(o,r){o&1&&(l(0,"div",20),g(1),w(2,"translate"),a()),o&2&&(n(),h(" ",M(2,1,"MESSAGE.NoRecord")," "))}var ue=class ue extends me{constructor(){super(...arguments);this.actionMenuOpen=null}toggleActionMenu(t){let i=String(t);this.actionMenuOpen===i?this.actionMenuOpen=null:this.actionMenuOpen=i}closeActionMenu(){this.actionMenuOpen=null}toString(t){return String(t)}onDocumentClick(t){let i=t.target;!i.closest(".cms-m-action-menu")&&!i.closest(".cms-m-action-menu-dropdown")&&this.closeActionMenu()}getRowExpanded(t){return t.expanded===!0}};ue.\u0275fac=(()=>{let t;return function(e){return(t||(t=Ce(ue)))(e||ue)}})(),ue.\u0275cmp=y({type:ue,selectors:[["app-data-provider-log-plan-list-mobile"]],hostBindings:function(i,e){i&1&&_("click",function(m){return e.onDocumentClick(m)},ve)},standalone:!1,features:[N],decls:31,vars:29,consts:[["paginator",""],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplay","optionActionRowDisplayMenu","optionActionRowDisplayMenuAct","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],[1,"col-4"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],[1,"cms-m-list"],[1,"cms-m-empty"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["role","button","tabindex","0",1,"cms-m-list-item",3,"selected"],["role","button","tabindex","0",1,"cms-m-list-item",3,"click","rtclick","mouseenter","mouseleave"],[1,"cms-m-list-item-image-placeholder"],["aria-hidden","true",1,"fa-solid","fa-file-lines"],[1,"cms-m-list-item-content"],[1,"cms-m-list-item-title"],[1,"cms-m-list-item-subtitle"],[1,"cms-m-list-item-expanded"],["aria-hidden","true",1,"fa-solid","fa-clock"],["aria-hidden","true",1,"fa-solid","fa-list"],[1,"navi-icon","pointer",3,"cdkCopyToClipboard"],[1,"flaticon2-copy"]],template:function(i,e){if(i&1){let c=L();l(0,"app-cms-html-list-mobile",1),R("optionActionGuideNoticeDisplayChange",function(s){return d(c),T(e.viewGuideNotice,s)||(e.viewGuideNotice=s),p(s)}),_("optionOnActionButtonMemoRow",function(){return d(c),p(e.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return d(c),p(e.onActionButtonMemo())})("optionOnActionButtonExport",function(){return d(c),p(e.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return d(c),p(e.onActionButtonPrintRow())}),k(1,2)(2,3)(3,4),v(4,5),I(5,fo,2,0,"a",6),l(6,"a",7),_("click",function(){return d(c),p(e.viewGuideNotice=!e.viewGuideNotice)}),f(7,"i",8),a(),l(8,"a",7),_("click",function(){return d(c),p(e.onActionButtonReload())}),f(9,"i",9),a(),b(),v(10,10),l(11,"a",11),_("click",function(){return d(c),p(e.optionsSearch.data.show=!e.optionsSearch.data.show)}),f(12,"mat-slide-toggle",12),g(13),w(14,"translate"),a(),l(15,"a",11),_("click",function(){return d(c),p(e.onActionButtonStatist())}),f(16,"mat-slide-toggle",12),g(17),w(18,"translate"),a(),b(),k(19,13),v(20,14),I(21,go,7,3,"div",15),b(),v(22,16),l(23,"app-cms-search-list",17),R("optionsChange",function(s){return d(c),T(e.optionsSearch,s)||(e.optionsSearch=s),p(s)}),a(),l(24,"app-cms-statist-list",17),R("optionsChange",function(s){return d(c),T(e.optionsStatist,s)||(e.optionsStatist=s),p(s)}),a(),b(),v(25,18),I(26,vo,3,0,"div",19)(27,bo,3,3,"div",20),b(),v(28,21),l(29,"mat-paginator",22,0),_("page",function(s){return d(c),p(e.onTablePageingData(s))}),a(),b(),a()}i&2&&(C("optionsListInfoAreaId",e.constructorInfoAreaId)("optionGuideNoticeKey",""),P("optionActionGuideNoticeDisplay",e.viewGuideNotice),C("optionTreeDisplay",!1)("optionActionRowId",e.tableRowSelected==null?null:e.tableRowSelected.id)("optionActionRowDisplay",(e.tableRowSelected==null||e.tableRowSelected.id==null?null:e.tableRowSelected.id.length)>0)("optionActionRowDisplayMenu",e.tableRowSelect2Click)("optionActionRowDisplayMenuAct",e.tableRowSelectActionMenuClick)("optionSelectRowItemTitle",e.tableRowSelected==null?null:e.tableRowSelected.id),n(5),D(e.requestLinkPlanId>0?5:-1),n(4),x("rotation360",e.publicHelper.processService.process.inRunArea[e.constructorInfoAreaId]),n(3),C("checked",e.optionsSearch.data.show),n(),h("",M(14,24,"ACTION.SEARCH")," "),n(3),C("checked",e.optionsStatist.data.show),n(),h("",M(18,26,"ACTION.STATIST")," "),n(4),D(!(e.dataModelResult==null||e.dataModelResult.access==null)&&e.dataModelResult.access.accessEditRow&&(e.tableRowSelected==null||e.tableRowSelected.id==null?null:e.tableRowSelected.id.length)>0?21:-1),n(2),P("options",e.optionsSearch),n(),P("options",e.optionsStatist),n(2),D(!(e.dataModelResult==null||e.dataModelResult.listItems==null)&&e.dataModelResult.listItems.length?26:27),n(3),C("length",e.dataModelResult.totalRowCount)("pageIndex",e.dataModelResult.currentPageNumber-1)("pageSize",e.dataModelResult.rowPerPage)("pageSizeOptions",G(28,po)))},dependencies:[F,j,Oe,J,K,lt,$,O,X],styles:[".cms-m-body[_ngcontent-%COMP%]{min-height:100vh;background:var(--cms-m-bg, #0f172a);color:var(--cms-m-fg, #e2e8f0)}.cms-m-header[_ngcontent-%COMP%]{position:sticky;top:0;z-index:2;background:var(--cms-m-header-bg, #0f172a);border-bottom:1px solid rgba(255,255,255,.08)}.cms-m-header-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:12px 16px}.cms-m-header-title[_ngcontent-%COMP%]{margin:0;font-size:16px;font-weight:600;color:var(--cms-m-accent, #38bdf8)}.cms-m-header-actions[_ngcontent-%COMP%]{display:flex;gap:8px;margin-left:auto}.cms-m-header-action-btn[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:12px;border:1px solid rgba(255,255,255,.08);background:#ffffff0d;color:#e2e8f0;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .2s ease}.cms-m-header-action-btn[_ngcontent-%COMP%]:hover{background:#ffffff1a}.cms-m-header-action-btn.active[_ngcontent-%COMP%]{background:#38bdf833;border-color:#38bdf866}.cms-m-header-action-btn[_ngcontent-%COMP%]   i.rotation360[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_rotation360 1s linear infinite}@keyframes _ngcontent-%COMP%_rotation360{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.cms-m-search-area[_ngcontent-%COMP%]{padding:8px 12px}.cms-m-content[_ngcontent-%COMP%]{padding:8px 12px 16px}.cms-m-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.cms-m-list-item[_ngcontent-%COMP%]{display:flex;gap:12px;padding:12px;border-radius:14px;background:#ffffff0a;border:1px solid rgba(255,255,255,.06);cursor:pointer;transition:all .2s ease}.cms-m-list-item[_ngcontent-%COMP%]:active{transform:scale(.98)}.cms-m-list-item.selected[_ngcontent-%COMP%]{border-color:var(--cms-m-accent, #38bdf8);box-shadow:0 0 0 1px #38bdf84d}.cms-m-list-item-image-placeholder[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:12px;display:grid;place-items:center;background:#38bdf81f;color:#38bdf8;flex-shrink:0}.cms-m-list-item-content[_ngcontent-%COMP%]{flex:1;min-width:0}.cms-m-list-item-title[_ngcontent-%COMP%]{font-weight:600;margin-bottom:4px;font-size:14px}.cms-m-list-item-subtitle[_ngcontent-%COMP%]{font-size:12px;color:#94a3b8;display:flex;align-items:center;gap:4px;margin-top:2px}.cms-m-list-item-actions[_ngcontent-%COMP%]{display:flex;align-items:center;flex-shrink:0}.cms-m-empty[_ngcontent-%COMP%]{padding:24px;text-align:center;color:#94a3b8}"]});var _t=ue;var wo=["vform"];function Mo(o,r){if(o&1){let t=L();l(0,"div",7)(1,"button",8),_("click",function(){d(t);let e=u();return p(e.onFormCancel())}),f(2,"i",9),g(3),w(4,"translate"),a()()}o&2&&(n(3),h(" ",M(4,1,"ACTION.CANCEL")," "))}var St=class St{constructor(r,t,i,e,c,m,s,A,he,Ct){this.data=r;this.dialogRef=t;this.coreEnumService=i;this.DataProviderLogSourceService=e;this.cmsToastrService=c;this.tokenHelper=m;this.cmsStoreService=s;this.cdr=A;this.publicHelper=he;this.translate=Ct;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.tokenInfo=new Ae;this.dataModelResult=new ie;this.dataModel=new It;this.formInfo=new ot;this.dataModelEnumSendSmsStatusTypeResult=new ie;this.fieldsInfo=new Map;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,r&&(this.requestId=r.id+"")}ngOnInit(){if(this.translate.get("aaaaaaaaaTITLE.VIEWaaaaa").subscribe(r=>{this.formInfo.formTitle=r}),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(r=>r.tokenInfoStore).subscribe(r=>B(this,null,function*(){this.tokenInfo=r}))),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:r=>{this.dataModelEnumSendSmsStatusTypeResult=r}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(r=>r.unsubscribe())}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage="";let r=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(r,t,this.constructorInfoAreaId)}),this.DataProviderLogSourceService.setAccessLoad(),this.DataProviderLogSourceService.ServiceGetOneById(this.requestId).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModel=t.item,t.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+t.item.id,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=t.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(t.errorMessage)),this.publicHelper.processService.processStop(r)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(r,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};St.\u0275fac=function(t){return new(t||St)(S(Ne),S(Be),S(re),S(xe),S(Q),S(z),S(q),S(H),S(U),S(W))},St.\u0275cmp=y({type:St,selectors:[["app-data-provider-log-source-view"]],viewQuery:function(t,i){if(t&1&&Ie(wo,5),t&2){let e;De(e=Le())&&(i.formGroup=e.first)}},standalone:!1,decls:9,vars:6,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection","loader-container"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[3,"formInfo"],[1,"ntk-cms-html-card-footer"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(t,i){t&1&&(l(0,"div",0),g(1),a(),l(2,"div",1),f(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),a(),l(5,"div",4),f(6,"app-cms-form-result-message",5),a(),l(7,"div",6),I(8,Mo,5,3,"div",7),a()),t&2&&(n(),h(" ",i.formInfo.formTitle," "),n(2),C("optionsInfoAreaId",i.constructorInfoAreaId),n(),C("dataModel",i.dataModel)("optionMethod",1),n(2),C("formInfo",i.formInfo),n(2),D(i.formInfo.submitButtonEnabled?8:-1))},dependencies:[it,at,nt,O],encapsulation:2});var de=St;var Io=()=>[5,10,20,100];function Do(o,r){if(o&1){let t=L();l(0,"a",34),_("click",function(){d(t);let e=u();return p(e.onActionBackToParent())}),f(1,"i",35),a()}}function Lo(o,r){if(o&1){let t=L();l(0,"div",17)(1,"a",36),_("click",function(){d(t);let e=u();return p(e.onActionButtonViewRow(e.tableRowSelected))}),f(2,"i",37)(3,"br"),a(),l(4,"p",38),g(5),w(6,"translate"),a()()}o&2&&(n(5),h(" ",M(6,1,"ACTION.VIEW")," "))}function Po(o,r){if(o&1&&(l(0,"mat-header-cell",39),g(1),a()),o&2){let t=u();n(),h(" ",t.fieldsInfo.id==null?null:t.fieldsInfo.id.fieldTitle," ")}}function To(o,r){if(o&1&&(l(0,"mat-cell"),g(1),a()),o&2){let t=r.$implicit;n(),h(" ",t.id," ")}}function Ro(o,r){if(o&1&&(l(0,"mat-header-cell",39),g(1),a()),o&2){let t=u();n(),h(" ",t.fieldsInfo.linkSourceId==null?null:t.fieldsInfo.linkSourceId.fieldTitle," ")}}function yo(o,r){if(o&1&&(l(0,"mat-cell"),g(1),a()),o&2){let t=r.$implicit;n(),h(" ",t.linkSourceId," ")}}function Ao(o,r){if(o&1&&(l(0,"mat-header-cell",39),g(1),a()),o&2){let t=u();n(),h(" ",t.fieldsInfo.createdDate==null?null:t.fieldsInfo.createdDate.fieldTitle," ")}}function Eo(o,r){if(o&1&&(l(0,"mat-cell"),g(1),w(2,"localeDate"),a()),o&2){let t=r.$implicit;n(),h(" ",M(2,1,t.createdDate)," ")}}function ko(o,r){o&1&&(l(0,"mat-header-cell"),g(1),w(2,"translate"),a()),o&2&&(n(),h(" ",M(2,1,"TITLE.OPTION")," "))}function xo(o,r){if(o&1&&(l(0,"mat-cell",40)(1,"button",41)(2,"mat-icon"),g(3,"more_vert"),a()(),f(4,"mat-menu",null,2),a()),o&2){let t=ee(5);n(),C("matMenuTriggerFor",t)}}function Oo(o,r){o&1&&f(0,"mat-header-row")}function Vo(o,r){if(o&1){let t=L();l(0,"mat-row",42),_("click",function(e){let c=d(t).$implicit,m=u();return p(m.onActionTableRowSelect(c,e))})("rtclick",function(e){let c=d(t).$implicit,m=u();return p(m.onActionTableRowSelect(c,e))}),a()}if(o&2){let t=r.$implicit,i=u();x("ntk-row-selected",t.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var ht=class ht extends rt{constructor(t,i,e,c,m,s,A,he,Ct,vt,Wt){super(i,new It,vt,m,he);this.activatedRoute=t;this.contentService=i;this.cmsToastrService=e;this.router=c;this.tokenHelper=m;this.cdr=s;this.cmsStoreService=A;this.translate=he;this.pageInfo=Ct;this.publicHelper=vt;this.dialog=Wt;this.requestLinkSourceId=0;this.constructorInfoAreaId=this.constructor.name;this.filteModelContent=new ye;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["id","LinkSourceId","createdDate"];this.tabledisplayedColumnsMobileSource=["id","LinkSourceId","createdDate"];this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:bt=>this.onSubmitOptionsSearch(bt)},this.filteModelContent.sortColumn="id",this.filteModelContent.sortType=V.Descending}ngOnInit(){if(this.requestLinkSourceId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSourceId")),this.requestLinkSourceId&&this.requestLinkSourceId>0){let t=new Z;t.propertyName="linkSourceId",t.value=this.requestLinkSourceId,this.filteModelContent.filters.push(t)}this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(t=>t.tokenInfoStore).subscribe(t=>B(this,null,function*(){this.tokenInfo=t,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(t=>t.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new It);let t=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(e=>{this.publicHelper.processService.processStart(t,e,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.contentService.setAccessLoad(),this.contentService.ServiceGetAllEditor(i).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),e.isSuccess?(this.dataModelResult=e,this.tableSource.data=e.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(e.access)},1e3)):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(t)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(t,!1)}})}onTableSortData(t){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===t.active?this.tableSource.sort.start==="asc"?(t.start="desc",this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=V.Descending):this.tableSource.sort.start==="desc"?(t.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=V.Ascending):t.start="desc":(this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=V.Descending),this.tableSource.sort=t,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(t){this.filteModelContent.currentPageNumber=t.pageIndex+1,this.filteModelContent.rowPerPage=t.pageSize,this.DataGetAll()}onActionButtonViewRow(t=this.tableRowSelected){if(!(t?.id?.length>0)){this.cmsToastrService.typeErrorSelected();return}if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(de,{height:"90%",panelClass:i,enterAnimationDuration:oe.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:oe.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(c=>{c&&c.dialogChangedDate})}onActionButtonStatist(t=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=t,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(s=>{i.set(s,0)}),this.translate.get("MESSAGE.All").subscribe(s=>{i.set(s,0)});let e=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(s=>{this.publicHelper.processService.processStart(e,s,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:s=>{s.isSuccess?(this.translate.get("MESSAGE.All").subscribe(A=>{i.set(A,s.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(s.errorMessage),this.publicHelper.processService.processStop(e)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(e,!1)}});let c=JSON.parse(JSON.stringify(this.filteModelContent)),m=new Z;m.propertyName="recordStatus",m.value=Re.Available,c.filters.push(m),this.contentService.ServiceGetCount(c).subscribe({next:s=>{s.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(A=>{i.set(A,s.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(s.errorMessage),this.publicHelper.processService.processStop(e)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(e,!1)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(t){t&&t.length>0?this.filterDataModelQueryBuilder=[...t]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.requestLinkSourceId>0&&this.router.navigate(["/data-provider/source/"])}};ht.\u0275fac=function(i){return new(i||ht)(S(Pe),S(xe),S(Q),S(Te),S(z),S(H),S(q),S(W),S(tt),S(U),S(Ge))},ht.\u0275cmp=y({type:ht,selectors:[["app-data-provider-log-source-list"]],standalone:!1,features:[N],decls:45,vars:29,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],[1,"col-4"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkSourceId"],["matColumnDef","createdDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["mat-sort-header",""],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(i,e){if(i&1){let c=L();l(0,"app-cms-html-list",3),R("optionActionGuideNoticeDisplayChange",function(s){return d(c),T(e.viewGuideNotice,s)||(e.viewGuideNotice=s),p(s)}),_("optionOnActionButtonMemoRow",function(){return d(c),p(e.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return d(c),p(e.onActionButtonMemo())})("optionOnActionButtonExport",function(){return d(c),p(e.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return d(c),p(e.onActionButtonPrintRow())}),k(1,4)(2,5)(3,6),v(4,7),I(5,Do,2,0,"a",8),l(6,"a",9),_("click",function(){return d(c),p(e.viewGuideNotice=!e.viewGuideNotice)}),f(7,"i",10),a(),l(8,"a",9),_("click",function(){return d(c),p(e.onActionButtonReload())}),f(9,"i",11),a(),b(),v(10,12),l(11,"a",13),_("click",function(){return d(c),p(e.optionsSearch.data.show=!e.optionsSearch.data.show)}),f(12,"mat-slide-toggle",14),g(13),w(14,"translate"),a(),l(15,"a",13),_("click",function(){return d(c),p(e.onActionButtonStatist())}),f(16,"mat-slide-toggle",14),g(17),w(18,"translate"),a(),b(),k(19,15),v(20,16),I(21,Lo,7,3,"div",17),b(),v(22,18),l(23,"app-cms-search-list",19),R("optionsChange",function(s){return d(c),T(e.optionsSearch,s)||(e.optionsSearch=s),p(s)}),a(),l(24,"app-cms-statist-list",19),R("optionsChange",function(s){return d(c),T(e.optionsStatist,s)||(e.optionsStatist=s),p(s)}),a(),b(),v(25,20),l(26,"mat-table",21,0),_("matSortChange",function(){d(c);let s=ee(27);return p(e.onTableSortData(s))}),v(28,22),E(29,Po,2,1,"mat-header-cell",23)(30,To,2,1,"mat-cell",24),b(),v(31,25),E(32,Ro,2,1,"mat-header-cell",23)(33,yo,2,1,"mat-cell",24),b(),v(34,26),E(35,Ao,2,1,"mat-header-cell",23)(36,Eo,3,3,"mat-cell",24),b(),v(37,27),E(38,ko,3,3,"mat-header-cell",28)(39,xo,6,1,"mat-cell",29),b(),E(40,Oo,1,0,"mat-header-row",30)(41,Vo,1,2,"mat-row",31),a(),b(),v(42,32),l(43,"mat-paginator",33,1),_("page",function(s){return d(c),p(e.onTablePageingData(s))}),a(),b(),a()}i&2&&(C("optionsListInfoAreaId",e.constructorInfoAreaId)("optionGuideNoticeKey",""),P("optionActionGuideNoticeDisplay",e.viewGuideNotice),C("optionTreeDisplay",!1)("optionActionRowId",e.tableRowSelected==null?null:e.tableRowSelected.id)("optionActionRowDisplayMenu",e.tableRowSelect2Click)("optionSelectRowItemTitle",e.tableRowSelected==null?null:e.tableRowSelected.id),n(5),D(e.requestLinkSourceId>0?5:-1),n(4),x("rotation360",e.publicHelper.processService.process.inRunArea[e.constructorInfoAreaId]),n(3),C("checked",e.optionsSearch.data.show),n(),h("",M(14,24,"ACTION.SEARCH")," "),n(3),C("checked",e.optionsStatist.data.show),n(),h("",M(18,26,"ACTION.STATIST")," "),n(4),D(!(e.dataModelResult==null||e.dataModelResult.access==null)&&e.dataModelResult.access.accessWatchRow?21:-1),n(2),P("options",e.optionsSearch),n(),P("options",e.optionsStatist),n(2),C("dataSource",e.tableSource),n(14),C("matHeaderRowDef",e.tabledisplayedColumns),n(),C("matRowDefColumns",e.tabledisplayedColumns),n(2),C("length",e.dataModelResult.totalRowCount)("pageIndex",e.dataModelResult.currentPageNumber-1)("pageSize",e.dataModelResult.rowPerPage)("pageSizeOptions",G(28,Io)))},dependencies:[Ve,He,Fe,je,F,j,We,qe,ze,Ue,Xe,Je,Qe,Ye,Ke,$e,Ze,et,J,K,st,$,O,X],encapsulation:2});var fe=ht;var Bo=()=>[5,10,20,100],No=(o,r)=>r.id;function Go(o,r){if(o&1){let t=L();l(0,"a",23),_("click",function(){d(t);let e=u();return p(e.onActionBackToParent())}),f(1,"i",24),a()}}function Ho(o,r){if(o&1){let t=L();l(0,"div",15)(1,"a",25),_("click",function(){d(t);let e=u();return p(e.onActionButtonViewRow(e.tableRowSelected))}),f(2,"i",26)(3,"br"),a(),l(4,"p",27),g(5),w(6,"translate"),a()()}o&2&&(n(5),h(" ",M(6,1,"ACTION.VIEW")," "))}function Fo(o,r){if(o&1&&(l(0,"div",34),f(1,"i",36),g(2),w(3,"localeDate"),a()),o&2){let t=u().$implicit,i=u(2);n(2),te(" ",i.fieldsInfo.createdDate==null?null:i.fieldsInfo.createdDate.fieldTitle,": ",M(3,2,t.createdDate)," ")}}function jo(o,r){if(o&1&&(l(0,"div",34),f(1,"i",37),g(2),a()),o&2){let t=u().$implicit,i=u(2);n(2),te(" ",i.fieldsInfo.linkSourceId==null?null:i.fieldsInfo.linkSourceId.fieldTitle,": ",t.linkSourceId," ")}}function Wo(o,r){if(o&1&&(l(0,"div",35)(1,"div",34)(2,"span",38),f(3,"i",39),a(),g(4),a()()),o&2){let t=u().$implicit;n(2),C("cdkCopyToClipboard",t.id.toString()),n(2),h(" ID: ",t.id," ")}}function qo(o,r){if(o&1){let t=L();l(0,"div",29),_("click",function(e){let c=d(t).$implicit,m=u(2);return p(m.onActionTableRowSelect(c,e))})("rtclick",function(e){let c=d(t).$implicit,m=u(2);return p(m.onActionTableRowSelect(c,e))})("mouseenter",function(){let e=d(t).$implicit,c=u(2);return p(c.onActionTableRowMouseEnter(e))})("mouseleave",function(){let e=d(t).$implicit,c=u(2);return p(c.onActionTableRowMouseLeave(e))}),l(1,"div",30),f(2,"i",31),a(),l(3,"div",32)(4,"div",33),g(5),a(),I(6,Fo,4,4,"div",34),I(7,jo,3,2,"div",34),I(8,Wo,5,2,"div",35),a()()}if(o&2){let t=r.$implicit,i=u(2);x("selected",t.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)),be("aria-label",t.id||t.id),n(5),h(" ID: ",t.id," "),n(),D(t.createdDate?6:-1),n(),D(t.linkSourceId?7:-1),n(),D(i.getRowExpanded(t)?8:-1)}}function zo(o,r){if(o&1&&(l(0,"div",19),we(1,qo,9,7,"div",28,No),a()),o&2){let t=u();n(),Me(t.dataModelResult.listItems)}}function Qo(o,r){o&1&&(l(0,"div",20),g(1),w(2,"translate"),a()),o&2&&(n(),h(" ",M(2,1,"MESSAGE.NoRecord")," "))}var ge=class ge extends fe{constructor(){super(...arguments);this.actionMenuOpen=null}toggleActionMenu(t){let i=String(t);this.actionMenuOpen===i?this.actionMenuOpen=null:this.actionMenuOpen=i}closeActionMenu(){this.actionMenuOpen=null}toString(t){return String(t)}onDocumentClick(t){let i=t.target;!i.closest(".cms-m-action-menu")&&!i.closest(".cms-m-action-menu-dropdown")&&this.closeActionMenu()}getRowExpanded(t){return t.expanded===!0}};ge.\u0275fac=(()=>{let t;return function(e){return(t||(t=Ce(ge)))(e||ge)}})(),ge.\u0275cmp=y({type:ge,selectors:[["app-data-provider-log-source-list-mobile"]],hostBindings:function(i,e){i&1&&_("click",function(m){return e.onDocumentClick(m)},ve)},standalone:!1,features:[N],decls:31,vars:29,consts:[["paginator",""],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplay","optionActionRowDisplayMenu","optionActionRowDisplayMenuAct","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],[1,"col-4"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],[1,"cms-m-list"],[1,"cms-m-empty"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["role","button","tabindex","0",1,"cms-m-list-item",3,"selected"],["role","button","tabindex","0",1,"cms-m-list-item",3,"click","rtclick","mouseenter","mouseleave"],[1,"cms-m-list-item-image-placeholder"],["aria-hidden","true",1,"fa-solid","fa-file-lines"],[1,"cms-m-list-item-content"],[1,"cms-m-list-item-title"],[1,"cms-m-list-item-subtitle"],[1,"cms-m-list-item-expanded"],["aria-hidden","true",1,"fa-solid","fa-clock"],["aria-hidden","true",1,"fa-solid","fa-link"],[1,"navi-icon","pointer",3,"cdkCopyToClipboard"],[1,"flaticon2-copy"]],template:function(i,e){if(i&1){let c=L();l(0,"app-cms-html-list-mobile",1),R("optionActionGuideNoticeDisplayChange",function(s){return d(c),T(e.viewGuideNotice,s)||(e.viewGuideNotice=s),p(s)}),_("optionOnActionButtonMemoRow",function(){return d(c),p(e.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return d(c),p(e.onActionButtonMemo())})("optionOnActionButtonExport",function(){return d(c),p(e.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return d(c),p(e.onActionButtonPrintRow())}),k(1,2)(2,3)(3,4),v(4,5),I(5,Go,2,0,"a",6),l(6,"a",7),_("click",function(){return d(c),p(e.viewGuideNotice=!e.viewGuideNotice)}),f(7,"i",8),a(),l(8,"a",7),_("click",function(){return d(c),p(e.onActionButtonReload())}),f(9,"i",9),a(),b(),v(10,10),l(11,"a",11),_("click",function(){return d(c),p(e.optionsSearch.data.show=!e.optionsSearch.data.show)}),f(12,"mat-slide-toggle",12),g(13),w(14,"translate"),a(),l(15,"a",11),_("click",function(){return d(c),p(e.onActionButtonStatist())}),f(16,"mat-slide-toggle",12),g(17),w(18,"translate"),a(),b(),k(19,13),v(20,14),I(21,Ho,7,3,"div",15),b(),v(22,16),l(23,"app-cms-search-list",17),R("optionsChange",function(s){return d(c),T(e.optionsSearch,s)||(e.optionsSearch=s),p(s)}),a(),l(24,"app-cms-statist-list",17),R("optionsChange",function(s){return d(c),T(e.optionsStatist,s)||(e.optionsStatist=s),p(s)}),a(),b(),v(25,18),I(26,zo,3,0,"div",19)(27,Qo,3,3,"div",20),b(),v(28,21),l(29,"mat-paginator",22,0),_("page",function(s){return d(c),p(e.onTablePageingData(s))}),a(),b(),a()}i&2&&(C("optionsListInfoAreaId",e.constructorInfoAreaId)("optionGuideNoticeKey",""),P("optionActionGuideNoticeDisplay",e.viewGuideNotice),C("optionTreeDisplay",!1)("optionActionRowId",e.tableRowSelected==null?null:e.tableRowSelected.id)("optionActionRowDisplay",(e.tableRowSelected==null||e.tableRowSelected.id==null?null:e.tableRowSelected.id.length)>0)("optionActionRowDisplayMenu",e.tableRowSelect2Click)("optionActionRowDisplayMenuAct",e.tableRowSelectActionMenuClick)("optionSelectRowItemTitle",e.tableRowSelected==null?null:e.tableRowSelected.id),n(5),D(e.requestLinkSourceId>0?5:-1),n(4),x("rotation360",e.publicHelper.processService.process.inRunArea[e.constructorInfoAreaId]),n(3),C("checked",e.optionsSearch.data.show),n(),h("",M(14,24,"ACTION.SEARCH")," "),n(3),C("checked",e.optionsStatist.data.show),n(),h("",M(18,26,"ACTION.STATIST")," "),n(4),D(!(e.dataModelResult==null||e.dataModelResult.access==null)&&e.dataModelResult.access.accessEditRow&&(e.tableRowSelected==null||e.tableRowSelected.id==null?null:e.tableRowSelected.id.length)>0?21:-1),n(2),P("options",e.optionsSearch),n(),P("options",e.optionsStatist),n(2),D(!(e.dataModelResult==null||e.dataModelResult.listItems==null)&&e.dataModelResult.listItems.length?26:27),n(3),C("length",e.dataModelResult.totalRowCount)("pageIndex",e.dataModelResult.currentPageNumber-1)("pageSize",e.dataModelResult.rowPerPage)("pageSizeOptions",G(28,Bo)))},dependencies:[F,j,Oe,J,K,lt,$,O,X],styles:[".cms-m-body[_ngcontent-%COMP%]{min-height:100vh;background:var(--cms-m-bg, #0f172a);color:var(--cms-m-fg, #e2e8f0)}.cms-m-header[_ngcontent-%COMP%]{position:sticky;top:0;z-index:2;background:var(--cms-m-header-bg, #0f172a);border-bottom:1px solid rgba(255,255,255,.08)}.cms-m-header-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:12px 16px}.cms-m-header-title[_ngcontent-%COMP%]{margin:0;font-size:16px;font-weight:600;color:var(--cms-m-accent, #38bdf8)}.cms-m-header-actions[_ngcontent-%COMP%]{display:flex;gap:8px;margin-left:auto}.cms-m-header-action-btn[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:12px;border:1px solid rgba(255,255,255,.08);background:#ffffff0d;color:#e2e8f0;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .2s ease}.cms-m-header-action-btn[_ngcontent-%COMP%]:hover{background:#ffffff1a}.cms-m-header-action-btn.active[_ngcontent-%COMP%]{background:#38bdf833;border-color:#38bdf866}.cms-m-header-action-btn[_ngcontent-%COMP%]   i.rotation360[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_rotation360 1s linear infinite}@keyframes _ngcontent-%COMP%_rotation360{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.cms-m-search-area[_ngcontent-%COMP%]{padding:8px 12px}.cms-m-content[_ngcontent-%COMP%]{padding:8px 12px 16px}.cms-m-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.cms-m-list-item[_ngcontent-%COMP%]{display:flex;gap:12px;padding:12px;border-radius:14px;background:#ffffff0a;border:1px solid rgba(255,255,255,.06);cursor:pointer;transition:all .2s ease}.cms-m-list-item[_ngcontent-%COMP%]:active{transform:scale(.98)}.cms-m-list-item.selected[_ngcontent-%COMP%]{border-color:var(--cms-m-accent, #38bdf8);box-shadow:0 0 0 1px #38bdf84d}.cms-m-list-item-image-placeholder[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:12px;display:grid;place-items:center;background:#38bdf81f;color:#38bdf8;flex-shrink:0}.cms-m-list-item-content[_ngcontent-%COMP%]{flex:1;min-width:0}.cms-m-list-item-title[_ngcontent-%COMP%]{font-weight:600;margin-bottom:4px;font-size:14px}.cms-m-list-item-subtitle[_ngcontent-%COMP%]{font-size:12px;color:#94a3b8;display:flex;align-items:center;gap:4px;margin-top:2px}.cms-m-list-item-actions[_ngcontent-%COMP%]{display:flex;align-items:center;flex-shrink:0}.cms-m-empty[_ngcontent-%COMP%]{padding:24px;text-align:center;color:#94a3b8}"]});var Bt=ge;var vi=[{path:"",component:mt,data:{title:"ROUTE.DATAPROVIDER.LOG"},children:[{path:"client",component:ut,data:{title:"ROUTE.DATAPROVIDER.LOGCLIENT"}},{path:"client/LinkClientId/:LinkClientId",component:ut,data:{title:"ROUTE.DATAPROVIDER.LOGCLIENT"}},{path:"client/LinkPlanId/:LinkPlanId",component:ut,data:{title:"ROUTE.DATAPROVIDER.LOGCLIENT"}},{path:"client/view/:id",component:ae,data:{title:"ROUTE.DATAPROVIDER.LOGCLIENT"}},{path:"plan",component:_t,data:{title:"ROUTE.DATAPROVIDER.LOGPLAN"}},{path:"plan/LinkSourceId/:LinkSourceId",component:_t,data:{title:"ROUTE.DATAPROVIDER.LOGPLAN"}},{path:"plan/LinkPlanId/:LinkPlanId",component:_t,data:{title:"ROUTE.DATAPROVIDER.LOGPLAN"}},{path:"plan/view/:id",component:ce,data:{title:"ROUTE.DATAPROVIDER.LOGPLAN"}},{path:"source",component:Bt,data:{title:"ROUTE.DATAPROVIDER.LOGSOURCE"}},{path:"source/LinkSourceId/:LinkSourceId",component:Bt,data:{title:"ROUTE.DATAPROVIDER.LOGSOURCE"}},{path:"source/view/:id",component:de,data:{title:"ROUTE.DATAPROVIDER.LOGSOURCE"}}]}];var bi=[{path:"",component:mt,data:{title:"ROUTE.DATAPROVIDER.LOG"},children:[{path:"client",component:le,data:{title:"ROUTE.DATAPROVIDER.LOGCLIENT"}},{path:"client/LinkClientId/:LinkClientId",component:le,data:{title:"ROUTE.DATAPROVIDER.LOGCLIENT"}},{path:"client/LinkPlanId/:LinkPlanId",component:le,data:{title:"ROUTE.DATAPROVIDER.LOGCLIENT"}},{path:"client/view/:id",component:ae,data:{title:"ROUTE.DATAPROVIDER.LOGCLIENT"}},{path:"plan",component:me,data:{title:"ROUTE.DATAPROVIDER.LOGPLAN"}},{path:"plan/LinkSourceId/:LinkSourceId",component:me,data:{title:"ROUTE.DATAPROVIDER.LOGPLAN"}},{path:"plan/LinkPlanId/:LinkPlanId",component:me,data:{title:"ROUTE.DATAPROVIDER.LOGPLAN"}},{path:"plan/view/:id",component:ce,data:{title:"ROUTE.DATAPROVIDER.LOGPLAN"}},{path:"source",component:fe,data:{title:"ROUTE.DATAPROVIDER.LOGSOURCE"}},{path:"source/LinkSourceId/:LinkSourceId",component:fe,data:{title:"ROUTE.DATAPROVIDER.LOGSOURCE"}},{path:"source/view/:id",component:de,data:{title:"ROUTE.DATAPROVIDER.LOGSOURCE"}}]}];var _e=class _e{};_e.\u0275fac=function(t){return new(t||_e)},_e.\u0275mod=Gt({type:_e}),_e.\u0275inj=Nt({imports:[Ft.forChild(window.innerWidth<1e3?vi:bi),Ft]});var Ht=_e;var Se=class Se{};Se.\u0275fac=function(t){return new(t||Se)},Se.\u0275mod=Gt({type:Se}),Se.\u0275inj=Nt({providers:[Qt,re,Ut,Kt,Ee,ke,xe,ai,Jt],imports:[qt,Ht,Xt,Yt.withConfig({warnOnNgModelWithFormControl:"never"}),oi,ri,ei,Zt,ti,ni,$t,ii]});var wi=Se;export{wi as DataProviderLogModule};
