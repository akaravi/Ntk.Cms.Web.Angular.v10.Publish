import{g as xe,h as Ee,i as ye}from"./chunk-NJHE727P.js";import{a as re}from"./chunk-5PGIHI7G.js";import{b as oe,d as ve}from"./chunk-QQASZTWY.js";import{a as ne}from"./chunk-WFUYKU73.js";import{a as te,d as ie}from"./chunk-5K55RFP4.js";import{f as ee}from"./chunk-EF7DKNFT.js";import{Ka as W,Kb as z,La as K,Lc as Y,Ma as Ie,Oc as Z,Qc as $,Wb as J,Xb as X,Za as _e,ba as Ce,c as U}from"./chunk-4ZDW4SNU.js";import{$d as N,Ab as d,Cn as pe,Eb as D,Fa as i,Fb as O,Gb as H,Hd as g,Lc as q,Oa as u,Pb as s,Qb as y,Rb as c,Sa as R,Tc as B,Va as A,b as P,da as v,ea as x,eo as L,fb as f,fc as m,gb as C,gc as p,ho as ue,kg as G,lb as S,mb as o,mr as k,nb as n,ob as I,oo as fe,q as V,re as F,un as me,vb as E,vg as j,yb as _,yc as Q}from"./chunk-GC7IBVIU.js";import{i as w}from"./chunk-SEDBTTTN.js";var je=["vform"];function Le(r,t){if(r&1){let e=E();o(0,"button",16),_("click",function(){v(e);let a=d(3);return x(a.onActionNext())}),I(1,"i",17),s(2," < "),n()}}function Ue(r,t){if(r&1){let e=E();o(0,"button",16),_("click",function(){v(e);let a=d(3);return x(a.onActionPervious())}),I(1,"i",17),s(2," > "),n()}}function We(r,t){if(r&1){let e=E();o(0,"div",9)(1,"button",16),_("click",function(){v(e);let a=d(2);return x(a.onFormCancel())}),I(2,"i",17),s(3),m(4,"translate"),n(),f(5,Le,3,0,"button",18),f(6,Ue,3,0,"button",18),n()}if(r&2){let e=d(2);i(3),c(" ",p(4,3,"ACTION.CANCEL")," "),i(2),C(e.requestNextItem&&(e.requestNextItem==null||e.requestNextItem.id==null?null:e.requestNextItem.id.length)>0?5:-1),i(),C(e.requestPerviousItem&&(e.requestPerviousItem==null||e.requestPerviousItem.id==null?null:e.requestPerviousItem.id.length)>0?6:-1)}}function Ke(r,t){if(r&1&&(o(0,"tr")(1,"td"),s(2),m(3,"translate"),n(),o(4,"td"),s(5),n()()),r&2){let e=d(2);i(2),c("",p(3,2,"TITLE.Description_Hidden"),":"),i(3),y(e.dataModel.descriptionHidden)}}function ze(r,t){if(r&1){let e=E();o(0,"button",16),_("click",function(){v(e);let a=d(3);return x(a.onActionNext())}),I(1,"i",17),s(2," < "),n()}}function Je(r,t){if(r&1){let e=E();o(0,"button",16),_("click",function(){v(e);let a=d(3);return x(a.onActionPervious())}),I(1,"i",17),s(2," > "),n()}}function Xe(r,t){if(r&1){let e=E();o(0,"div",9)(1,"button",16),_("click",function(){v(e);let a=d(2);return x(a.onFormCancel())}),I(2,"i",17),s(3),m(4,"translate"),n(),f(5,ze,3,0,"button",18),f(6,Je,3,0,"button",18),n()}if(r&2){let e=d(2);i(3),c(" ",p(4,3,"ACTION.CANCEL")," "),i(2),C(e.requestNextItem&&(e.requestNextItem==null||e.requestNextItem.id==null?null:e.requestNextItem.id.length)>0?5:-1),i(),C(e.requestPerviousItem&&(e.requestPerviousItem==null||e.requestPerviousItem.id==null?null:e.requestPerviousItem.id.length)>0?6:-1)}}function Ye(r,t){if(r&1&&(o(0,"div",8),f(1,We,7,5,"div",9),n(),o(2,"div",10)(3,"table",11)(4,"tbody")(5,"tr")(6,"td"),s(7),n(),o(8,"td"),I(9,"i",12),m(10,"statusIconClass"),n()(),o(11,"tr")(12,"td"),s(13),n(),o(14,"td"),s(15),n()(),o(16,"tr")(17,"td")(18,"b"),s(19),n()(),o(20,"td")(21,"b"),s(22),n()()(),o(23,"tr")(24,"td"),s(25),n(),o(26,"td"),s(27),m(28,"cmsuserinfo"),m(29,"async"),n()(),o(30,"tr")(31,"td"),s(32),n(),o(33,"td"),s(34),n()(),o(35,"tr")(36,"td"),s(37),m(38,"translate"),n(),o(39,"td"),s(40),n()(),f(41,Ke,6,4,"tr"),n()()(),o(42,"div",13),I(43,"app-cms-form-result-message",14),n(),o(44,"div",15),f(45,Xe,7,5,"div",9),n()),r&2){let e=d();i(),C(e.formInfo.submitButtonEnabled?1:-1),i(6),c("",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle,":"),i(2),S("ngClass",p(10,16,e.dataModel.recordStatus)),i(4),c("",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle,":"),i(2),y(e.dataModel.title),i(4),c(" ",e.fieldsInfo.caseCode==null?null:e.fieldsInfo.caseCode.fieldTitle,":"),i(3),y(e.dataModel.caseCode),i(3),c("",e.fieldsInfo.createdBy==null?null:e.fieldsInfo.createdBy.fieldTitle,":"),i(2),y(p(29,20,p(28,18,e.dataModel.createdBy))),i(5),c("",e.fieldsInfo.linkEstateExpertId==null?null:e.fieldsInfo.linkEstateExpertId.fieldTitle,":"),i(2),y(e.dataModel.linkEstateExpertId),i(3),c("",p(38,22,"TITLE.General_Description"),":"),i(3),y(e.dataModel.description),i(),C(e.fieldsInfo.descriptionHidden!=null&&e.fieldsInfo.descriptionHidden.accessWatchField?41:-1),i(2),S("formInfo",e.formInfo),i(2),C(e.formInfo.submitButtonEnabled?45:-1)}}var h=class h{constructor(t,e,l,a,ge,he,be,Te,Me,ke){this.data=t;this.dialogRef=e;this.coreEnumService=l;this.estateCustomerOrderService=a;this.cmsToastrService=ge;this.tokenHelper=he;this.cmsStoreService=be;this.cdr=Te;this.publicHelper=Me;this.translate=ke;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.tokenInfo=new G;this.dataModelResult=new g;this.dataModelEstateContractTypeResult=new g;this.dataModel=new me;this.formInfo=new ie;this.fieldsInfo=new Map;this.optionTabledataSource=new z;this.optionTabledisplayedColumns=["LinkEstateContractTypeId","Price"];this.fileManagerOpenForm=!1;this.errorMessage="";this.enumInputDataType=j;this.unsubscribe=[];this.step=0;this.publicHelper.processService.cdr=this.cdr,t&&(this.requestId=t.id+"",this.requestPerviousItem=t.perviousItem,this.requestNextItem=t.nextItem)}ngOnInit(){if(this.translate.get("TITLE.QUICK_VIEW").subscribe(t=>{this.formInfo.formTitle=t}),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(t=>t.tokenInfoStore).subscribe(t=>w(this,null,function*(){this.tokenInfo=t})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(t=>t.unsubscribe())}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(t,e,this.constructorInfoAreaId)}),this.estateCustomerOrderService.setAccessLoad(),this.estateCustomerOrderService.setAccessDataType(N.Editor),this.estateCustomerOrderService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModel=e.item,e.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(l=>{this.formInfo.submitResultMessage=l}),this.formInfo.submitResultMessage=e.errorMessage,this.formInfo.submitResultMessageType=3,this.errorMessage=e.errorMessage+"<br> ( "+e.errorTypeTitle+" ) ",this.cmsToastrService.typeErrorMessage(this.errorMessage)),this.publicHelper.processService.processStop(t)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(t,!1)}})}setStep(t){this.step=t}nextStep(){this.step++}prevStep(){this.step--}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}onActionNext(){this.dialogRef.close({dialogChangedDate:!0,onActionOpenItem:this.requestNextItem})}onActionPervious(){this.dialogRef.close({dialogChangedDate:!0,onActionOpenItem:this.requestPerviousItem})}};h.\u0275fac=function(e){return new(e||h)(u(K),u(W),u(F),u(L),u($),u(Z),u(Y),u(Q),u(ee),u(J))},h.\u0275cmp=R({type:h,selectors:[["app-estate-property-history-quick-view"]],viewQuery:function(e,l){if(e&1&&D(je,5),e&2){let a;O(a=H())&&(l.formGroup=a.first)}},standalone:!1,decls:12,vars:4,consts:[[1,"card","card-style","loader-container",2,"height","100vh","overflow-y","auto"],[3,"optionsInfoAreaId"],[1,"menu-title"],[1,"color-highlight"],[1,"close-menu",3,"click"],[1,"fa","fa-times-circle"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[1,"ntk-cms-html-card-header"],[1,"form-actions"],["dir","rtl",1,"ntk-cms-html-card-body","ntk-allow-text-selection"],[1,"table","table-striped"],[3,"ngClass"],[1,"ntk-cms-html-card-message"],[3,"formInfo"],[1,"ntk-cms-html-card-footer"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"]],template:function(e,l){e&1&&(o(0,"div",0),I(1,"app-progress-spinner",1),o(2,"div",2)(3,"p",3),s(4),n(),o(5,"a",4),_("click",function(){return l.onFormCancel()}),I(6,"i",5),n(),I(7,"hr"),n(),o(8,"div",6)(9,"p",7),s(10),n(),f(11,Ye,46,24),n()()),e&2&&(i(),S("optionsInfoAreaId",l.constructorInfoAreaId),i(3),y(l.formInfo.formTitle),i(6),c(" ",l.formInfo.formDescription," "),i(),C(l.publicHelper.processService.process.inRunAll?-1:11))},dependencies:[q,U,te,ne,B,X,oe,re],encapsulation:2});var se=h;var b=class b{constructor(t){this.service=t}transform(t){return!t||t.length<=0?new P:this.service.ServiceGetOneById(t,1e6).pipe(V(e=>{var l="";return e.isSuccess&&e.item.title&&e.item.title.length>0&&(l=e.item.title),l},e=>""))}};b.\u0275fac=function(e){return new(e||b)(u(L,16))},b.\u0275pipe=A({name:"estateCustomerOrderInfo",type:b,pure:!0,standalone:!1});var ae=b;var T=class T{constructor(t){this.service=t}transform(t){return!t||t.length<=0?new P:this.service.ServiceGetOneById(t,1e6).pipe(V(e=>{var l="";return e.isSuccess&&e.item.title&&e.item.title.length>0&&(l=e.item.title),l},e=>""))}};T.\u0275fac=function(e){return new(e||T)(u(ue,16))},T.\u0275pipe=A({name:"estatePropertyInfo",type:T,pure:!0,standalone:!1});var le=T;var et=["vform"];function tt(r,t){if(r&1){let e=E();o(0,"button",17),_("click",function(){v(e);let a=d(3);return x(a.onActionNext())}),I(1,"i",18),s(2," < "),n()}}function it(r,t){if(r&1){let e=E();o(0,"button",17),_("click",function(){v(e);let a=d(3);return x(a.onActionPervious())}),I(1,"i",18),s(2," > "),n()}}function nt(r,t){if(r&1){let e=E();o(0,"div",9)(1,"button",17),_("click",function(){v(e);let a=d(2);return x(a.onFormCancel())}),I(2,"i",18),s(3),m(4,"translate"),n(),f(5,tt,3,0,"button",19),f(6,it,3,0,"button",19),n()}if(r&2){let e=d(2);i(3),c(" ",p(4,3,"ACTION.CANCEL")," "),i(2),C(e.requestNextItem&&(e.requestNextItem==null||e.requestNextItem.id==null?null:e.requestNextItem.id.length)>0?5:-1),i(),C(e.requestPerviousItem&&(e.requestPerviousItem==null||e.requestPerviousItem.id==null?null:e.requestPerviousItem.id.length)>0?6:-1)}}function ot(r,t){if(r&1&&(o(0,"tr")(1,"td"),s(2),n(),o(3,"td"),s(4),m(5,"localeDateTime"),n()()),r&2){let e=d(2);i(2),c("",e.fieldsInfo.appointmentDateFrom==null?null:e.fieldsInfo.appointmentDateFrom.fieldTitle,":"),i(2),y(p(5,2,e.dataModel.appointmentDateFrom))}}function rt(r,t){if(r&1&&(o(0,"tr")(1,"td"),s(2),n(),o(3,"td"),s(4),m(5,"localeDateTime"),n()()),r&2){let e=d(2);i(2),c("",e.fieldsInfo.appointmentDateTo==null?null:e.fieldsInfo.appointmentDateTo.fieldTitle,":"),i(2),y(p(5,2,e.dataModel.appointmentDateTo))}}function st(r,t){if(r&1&&(o(0,"tr")(1,"td"),s(2),n(),o(3,"td",13),s(4),m(5,"cmsuserinfo"),m(6,"async"),n()()),r&2){let e=d(2);i(2),c("",e.fieldsInfo.updatedBy==null?null:e.fieldsInfo.updatedBy.fieldTitle,":"),i(2),c(" ",p(6,4,p(5,2,e.dataModel.updatedBy))," ")}}function at(r,t){if(r&1&&(o(0,"tr")(1,"td"),s(2),n(),o(3,"td",13),s(4),m(5,"estateAccountExpertInfo"),m(6,"async"),n()()),r&2){let e=d(2);i(2),c("",e.fieldsInfo.linkEstateExpertId==null?null:e.fieldsInfo.linkEstateExpertId.fieldTitle,":"),i(2),c(" ",p(6,4,p(5,2,e.dataModel.linkEstateExpertId))," ")}}function lt(r,t){if(r&1&&(o(0,"tr")(1,"td"),s(2),n(),o(3,"td",13),s(4),m(5,"estateAccountAgencyInfo"),m(6,"async"),n()()),r&2){let e=d(2);i(2),c("",e.fieldsInfo.linkEstateAgencyId==null?null:e.fieldsInfo.linkEstateAgencyId.fieldTitle,":"),i(2),c(" ",p(6,4,p(5,2,e.dataModel.linkEstateAgencyId))," ")}}function ct(r,t){if(r&1){let e=E();o(0,"tr")(1,"td"),s(2),n(),o(3,"td"),s(4),m(5,"estatePropertyInfo"),m(6,"async"),o(7,"button",20),_("click",function(){v(e);let a=d(2);return x(a.onActionButtonPropertyQuickViewRow(a.dataModel.linkPropertyId))}),o(8,"mat-icon"),s(9,"visibility"),n()()()()}if(r&2){let e=d(2);i(2),c("",e.fieldsInfo.linkPropertyId==null?null:e.fieldsInfo.linkPropertyId.fieldTitle,":"),i(2),c(" ",p(6,4,p(5,2,e.dataModel.linkPropertyId))," ")}}function dt(r,t){if(r&1){let e=E();o(0,"tr")(1,"td"),s(2),n(),o(3,"td"),s(4),m(5,"estateCustomerOrderInfo"),m(6,"async"),o(7,"button",20),_("click",function(){v(e);let a=d(2);return x(a.onActionButtonCustomerOrderQuickViewRow(a.dataModel.linkCustomerOrderId))}),o(8,"mat-icon"),s(9,"visibility"),n()()()()}if(r&2){let e=d(2);i(2),c("",e.fieldsInfo.linkCustomerOrderId==null?null:e.fieldsInfo.linkCustomerOrderId.fieldTitle,":"),i(2),c(" ",p(6,4,p(5,2,e.dataModel.linkCustomerOrderId))," ")}}function mt(r,t){if(r&1&&(o(0,"tr")(1,"td"),s(2),m(3,"translate"),n(),o(4,"td"),s(5),n()()),r&2){let e=d(2);i(2),c("",p(3,2,"TITLE.General_Description"),":"),i(3),y(e.dataModel.description)}}function pt(r,t){if(r&1&&(o(0,"tr")(1,"td"),s(2),m(3,"translate"),n(),o(4,"td"),s(5),n()()),r&2){let e=d(2);i(2),c("",p(3,2,"TITLE.Description_Hidden"),":"),i(3),y(e.dataModel.descriptionHidden)}}function ut(r,t){if(r&1){let e=E();o(0,"button",17),_("click",function(){v(e);let a=d(3);return x(a.onActionNext())}),I(1,"i",18),s(2," < "),n()}}function ft(r,t){if(r&1){let e=E();o(0,"button",17),_("click",function(){v(e);let a=d(3);return x(a.onActionPervious())}),I(1,"i",18),s(2," > "),n()}}function Ct(r,t){if(r&1){let e=E();o(0,"div",9)(1,"button",17),_("click",function(){v(e);let a=d(2);return x(a.onFormCancel())}),I(2,"i",18),s(3),m(4,"translate"),n(),f(5,ut,3,0,"button",19),f(6,ft,3,0,"button",19),n()}if(r&2){let e=d(2);i(3),c(" ",p(4,3,"ACTION.CANCEL")," "),i(2),C(e.requestNextItem&&(e.requestNextItem==null||e.requestNextItem.id==null?null:e.requestNextItem.id.length)>0?5:-1),i(),C(e.requestPerviousItem&&(e.requestPerviousItem==null||e.requestPerviousItem.id==null?null:e.requestPerviousItem.id.length)>0?6:-1)}}function It(r,t){if(r&1&&(o(0,"div",8),f(1,nt,7,5,"div",9),n(),o(2,"div",10)(3,"table",11)(4,"tbody")(5,"tr")(6,"td"),s(7),n(),o(8,"td"),I(9,"i",12),m(10,"statusIconClass"),n()(),o(11,"tr")(12,"td"),s(13),n(),o(14,"td"),s(15),n()(),o(16,"tr")(17,"td")(18,"b"),s(19),n()(),o(20,"td")(21,"b"),s(22),n()()(),f(23,ot,6,4,"tr"),f(24,rt,6,4,"tr"),o(25,"tr")(26,"td"),s(27),n(),o(28,"td",13),s(29),m(30,"cmsuserinfo"),m(31,"async"),n()(),f(32,st,7,6,"tr"),f(33,at,7,6,"tr"),f(34,lt,7,6,"tr"),f(35,ct,10,6,"tr"),f(36,dt,10,6,"tr"),f(37,mt,6,4,"tr"),f(38,pt,6,4,"tr"),n()()(),o(39,"div",14),I(40,"app-cms-form-result-message",15),n(),o(41,"div",16),f(42,Ct,7,5,"div",9),n()),r&2){let e=d();i(),C(e.formInfo.submitButtonEnabled?1:-1),i(6),c("",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle,":"),i(2),S("ngClass",p(10,20,e.dataModel.recordStatus)),i(4),c("",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle,":"),i(2),y(e.dataModel.title),i(4),c(" ",e.fieldsInfo.linkActivityTypeId==null?null:e.fieldsInfo.linkActivityTypeId.fieldTitle,":"),i(3),y(e.dataModel.linkActivityTypeId),i(),C(e.dataModel.appointmentDateFrom?23:-1),i(),C(e.dataModel.appointmentDateTo?24:-1),i(3),c("",e.fieldsInfo.createdBy==null?null:e.fieldsInfo.createdBy.fieldTitle,":"),i(2),c(" ",p(31,24,p(30,22,e.dataModel.createdBy))," "),i(3),C(e.dataModel.updatedBy?32:-1),i(),C((e.dataModel.linkEstateExpertId==null?null:e.dataModel.linkEstateExpertId.length)>0?33:-1),i(),C((e.dataModel.linkEstateAgencyId==null?null:e.dataModel.linkEstateAgencyId.length)>0?34:-1),i(),C((e.dataModel.linkPropertyId==null?null:e.dataModel.linkPropertyId.length)>0?35:-1),i(),C((e.dataModel.linkCustomerOrderId==null?null:e.dataModel.linkCustomerOrderId.length)>0?36:-1),i(),C((e.dataModel.description==null?null:e.dataModel.description.length)>0?37:-1),i(),C(e.fieldsInfo.descriptionHidden!=null&&e.fieldsInfo.descriptionHidden.accessWatchField?38:-1),i(2),S("formInfo",e.formInfo),i(2),C(e.formInfo.submitButtonEnabled?42:-1)}}var M=class M{constructor(t,e,l,a,ge,he,be,Te,Me,ke,_t){this.data=t;this.dialogRef=e;this.dialog=l;this.coreEnumService=a;this.estatePropertyHistoryService=ge;this.cmsToastrService=he;this.tokenHelper=be;this.cmsStoreService=Te;this.cdr=Me;this.publicHelper=ke;this.translate=_t;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.tokenInfo=new G;this.dataModelResult=new g;this.dataModelEstateContractTypeResult=new g;this.dataModel=new pe;this.formInfo=new ie;this.fieldsInfo=new Map;this.optionTabledataSource=new z;this.optionTabledisplayedColumns=["LinkEstateContractTypeId","Price"];this.fileManagerOpenForm=!1;this.errorMessage="";this.enumInputDataType=j;this.unsubscribe=[];this.step=0;this.publicHelper.processService.cdr=this.cdr,t&&(this.requestId=t.id+"",this.requestPerviousItem=t.perviousItem,this.requestNextItem=t.nextItem)}ngOnInit(){if(this.translate.get("TITLE.QUICK_VIEW").subscribe(t=>{this.formInfo.formTitle=t}),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(t=>t.tokenInfoStore).subscribe(t=>w(this,null,function*(){this.tokenInfo=t})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(t=>t.unsubscribe())}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(t,e,this.constructorInfoAreaId)}),this.estatePropertyHistoryService.setAccessLoad(),this.estatePropertyHistoryService.setAccessDataType(N.Editor),this.estatePropertyHistoryService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModel=e.item,e.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(l=>{this.formInfo.submitResultMessage=l}),this.formInfo.submitResultMessage=e.errorMessage,this.formInfo.submitResultMessageType=3,this.errorMessage=e.errorMessage+"<br> ( "+e.errorTypeTitle+" ) ",this.cmsToastrService.typeErrorMessage(this.errorMessage)),this.publicHelper.processService.processStop(t)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(t,!1)}})}setStep(t){this.step=t}nextStep(){this.step++}prevStep(){this.step--}onActionButtonPropertyQuickViewRow(t){if(!t||t.length===0){this.cmsToastrService.typeErrorSelectedRow();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(xe,{height:"90%",panelClass:e,enterAnimationDuration:k.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:k.cmsViewConfig.exitAnimationDuration,data:{id:t}}).afterClosed().subscribe(a=>{a&&a.dialogChangedDate})}onActionButtonCustomerOrderQuickViewRow(t){if(!t||t.length===0){this.cmsToastrService.typeErrorSelectedRow();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(se,{height:"90%",panelClass:e,enterAnimationDuration:k.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:k.cmsViewConfig.exitAnimationDuration,data:{id:t}}).afterClosed().subscribe(a=>{a&&a.dialogChangedDate})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}onActionNext(){this.dialogRef.close({dialogChangedDate:!0,onActionOpenItem:this.requestNextItem})}onActionPervious(){this.dialogRef.close({dialogChangedDate:!0,onActionOpenItem:this.requestPerviousItem})}};M.\u0275fac=function(e){return new(e||M)(u(K),u(W),u(Ie),u(F),u(fe),u($),u(Z),u(Y),u(Q),u(ee),u(J))},M.\u0275cmp=R({type:M,selectors:[["app-estate-property-history-quick-view"]],viewQuery:function(e,l){if(e&1&&D(et,5),e&2){let a;O(a=H())&&(l.formGroup=a.first)}},standalone:!1,decls:12,vars:4,consts:[[1,"card","card-style","loader-container",2,"height","100vh","overflow-y","auto"],[3,"optionsInfoAreaId"],[1,"menu-title"],[1,"color-highlight"],[1,"close-menu",3,"click"],[1,"fa","fa-times-circle"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[1,"ntk-cms-html-card-header"],[1,"form-actions"],["dir","rtl",1,"ntk-cms-html-card-body","ntk-allow-text-selection"],[1,"table","table-striped"],[3,"ngClass"],[1,"input-ltr-right"],[1,"ntk-cms-html-card-message"],[3,"formInfo"],[1,"ntk-cms-html-card-footer"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"],["type","button","mat-icon-button","",3,"click"]],template:function(e,l){e&1&&(o(0,"div",0),I(1,"app-progress-spinner",1),o(2,"div",2)(3,"p",3),s(4),n(),o(5,"a",4),_("click",function(){return l.onFormCancel()}),I(6,"i",5),n(),I(7,"hr"),n(),o(8,"div",6)(9,"p",7),s(10),n(),f(11,It,43,26),n()()),e&2&&(i(),S("optionsInfoAreaId",l.constructorInfoAreaId),i(3),y(l.formInfo.formTitle),i(6),c(" ",l.formInfo.formDescription," "),i(),C(l.publicHelper.processService.process.inRunAll?-1:11))},dependencies:[q,U,Ce,_e,te,ne,B,X,oe,ve,re,Ee,ye,ae,le],encapsulation:2});var Se=M;export{se as a,ae as b,le as c,Se as d};
