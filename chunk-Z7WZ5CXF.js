import{a as Bn}from"./chunk-FJEMU4XL.js";import{a as Xt}from"./chunk-2JTWFKVB.js";import{a as mi}from"./chunk-WA6KGQQ5.js";import{a as Lo}from"./chunk-6NXIIVVZ.js";import{a as Ct}from"./chunk-WHBR6MPD.js";import{a as Bo}from"./chunk-EGNW2TFS.js";import{a as bt}from"./chunk-WBYC3QC4.js";import{a as Pt}from"./chunk-TH4EAZQW.js";import{a as Ot}from"./chunk-3AOIB6OM.js";import{a as Gt}from"./chunk-HTF4CIHY.js";import{a as xn,b as Ln,c as ct,d as dt,e as mt,g as pt,h as ut}from"./chunk-PEHJ7D5O.js";import{a as Nt}from"./chunk-EYHHKFE2.js";import{a as Yt}from"./chunk-534YGQ55.js";import{a as It}from"./chunk-SV5LFZMV.js";import{a as we}from"./chunk-H44OVLMF.js";import{a as Rn,b as xo}from"./chunk-KP4USM6K.js";import"./chunk-JLVSG5DW.js";import{a as Vt}from"./chunk-IXPEP4O3.js";import{a as di}from"./chunk-ELIKYOAP.js";import{a as Ft}from"./chunk-YCYAAXYE.js";import{a as ce}from"./chunk-FFZUFCG6.js";import{a as H,b as Bt,d as ne}from"./chunk-LUFO2APN.js";import{a as Ro,e as lt,f as F}from"./chunk-ZURZCEBB.js";import{$ as In,$a as j,A as _n,Ab as ot,Ba as bn,Bb as rt,Ca as Mn,Cb as at,Da as kn,Db as st,Eb as Co,Fc as se,Ib as bo,Ic as le,J as Ce,Jb as Mo,K as be,Ka as ae,Kb as ko,Kc as O,L as Me,La as he,Lb as wo,Ma as Ee,Mb as yo,N as _o,Nb as Eo,Nc as Do,O as To,Q as Tn,Qb as V,Rb as N,W as ye,Y as vo,Z as vn,Za as He,aa as Cn,ba as Pe,bc as Dn,c as So,cc as Ao,db as Io,eb as Qe,fb as ze,hb as Ke,lb as Je,mb as Ye,n as te,nb as Xe,pb as wn,q as ie,qb as yn,r as Te,rb as En,sb as An,t as ve,u as Sn,ub as Ze,v as ge,vb as $e,w as Ie,wb as et,xb as tt,yb as it,zb as nt}from"./chunk-SRSDDG27.js";import{$b as qe,Ab as fn,Ad as jt,Aq as G,Ba as pn,Bb as gn,Ca as yt,Db as Z,Eb as $,F as sn,Fa as o,Fb as ee,Fd as ci,Ha as ti,I as ln,Id as Ue,Jb as D,Jc as Dt,Kc as li,Lb as X,Lc as B,Ld as P,Oa as h,Ob as d,Od as _t,P as cn,Pb as w,Pc as je,Pl as fo,Q as dn,Qb as u,Qd as co,Ql as Rt,Rb as ao,Rc as Ve,Rd as Tt,Rl as Fe,Sa as x,Sd as W,Sl as hn,Ta as un,Tl as go,Ub as y,Ul as xt,Vb as E,Vl as Ne,Wa as q,Wb as A,Wd as z,Wl as ho,Xb as R,Xc as so,Xd as K,Xe as po,Xl as Oe,Y as mn,Ya as I,Yb as Wt,Yl as Lt,Zl as Jt,ac as We,ce as U,cg as Kt,cm as Et,da as f,db as qt,dc as S,dm as no,ea as g,ec as _,em as Ge,fc as si,fm as vt,ge as mo,gm as gt,kb as c,lb as r,mb as a,nb as v,p as rn,pg as uo,q as an,rb as M,rd as _e,sb as k,sd as lo,tb as Le,td as re,ub as b,wc as L,xb as C,zb as p,zd as io}from"./chunk-G2FVSEI6.js";import{i as Y}from"./chunk-SEDBTTTN.js";var Go=["*"];function Po(n,s){if(n&1&&(r(0,"label",14),d(1),a()),n&2){let e=p();c("for",Wt("app-cms-site-selector-",e.id)),o(),w(e.optionLabel)}}function Ho(n,s){if(n&1&&(v(0,"img",15),S(1,"cmsthumbnail")),n&2){let e=p();c("src",R(_(1,2,e.dataModelSelect==null?null:e.dataModelSelect.linkMainImageIdSrc)),yt)}}function qo(n,s){if(n&1&&(v(0,"img",15),S(1,"cmsthumbnail")),n&2){let e=p().$implicit;c("src",R(_(1,2,e.linkMainImageIdSrc)),yt)}}function Wo(n,s){if(n&1&&(r(0,"mat-option",16),I(1,qo,2,4,"img",5),r(2,"span"),d(3),a()()),n&2){let e=s.$implicit,i=p();c("value",e)("disabled",i.optionDisabled),o(),c("ngIf",e.linkMainImageIdSrc),o(2),w(i.displayOption(e))}}function jo(n,s){n&1&&v(0,"i",17)}function Uo(n,s){n&1&&v(0,"i",18)}function Qo(n,s){if(n&1){let e=b();r(0,"i",19),C("click",function(){f(e);let t=p();return g(t.onActionSelectClear())}),a()}}function zo(n,s){n&1&&(r(0,"em"),d(1),S(2,"translate"),a()),n&2&&(o(),u("(",_(2,1,"TITLE.Necessary"),")"))}var Zt=class Zt{constructor(s,e,i,t,l){this.coreEnumService=s;this.cdr=e;this.publicHelper=i;this.translate=t;this.categoryService=l;this.id=++Zt.nextId;this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new W;this.dataModelSelect=new Ge;this.formControl=new Sn;this.optionDisabled=!1;this.optionSelectFirstItem=!1;this.optionPlaceholder="";this.optionRequired=!1;this.optionLabel="";this.optionChange=new ti;this.optionReload=()=>this.onActionButtonReload();this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(s){this.onActionSelectForce(s)}ngOnInit(){this.loadOptions()}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(cn(""),sn(1500),ln(),dn(s=>typeof s=="string"||typeof s=="number"?this.DataGetAll(s||""):[]))}displayFn(s){return s?s.title:void 0}displayOption(s){return s?s.title:void 0}DataGetAll(s){return Y(this,null,function*(){let e=new K;e.rowPerPage=20,e.accessLoad=!0;let i=new z;i.propertyName="title",i.value=s,i.searchType=ci.Contains,i.clauseType=jt.Or,e.filters.push(i),s&&typeof+s=="number"&&+s>0&&(i=new z,i.propertyName="id",i.value=s,i.searchType=ci.Equal,i.clauseType=jt.Or,e.filters.push(i));let t=this.constructor.name+"main";return this.translate.get("MESSAGE.Receiving_information").subscribe(l=>{this.publicHelper.processService.processStart(t,l,this.constructorInfoAreaId)}),yield rn(this.categoryService.ServiceGetAll(e)).then(l=>(this.dataModelResult=l,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||this.dataModelSelect.id<=0)&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0])},1e3),this.onActionSelect(this.dataModelResult.listItems[0])),this.publicHelper.processService.processStop(t),l.listItems))})}onActionSelect(s){this.dataModelSelect=s,this.optionChange.emit(this.dataModelSelect)}onActionSelectClear(){this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null)}push(s){return this.filteredOptions.pipe(an(e=>(e.find(i=>i.id===s.id)||e.push(s),e)))}onActionSelectForce(s){if(typeof s=="number"&&s>0){if(this.dataModelSelect&&this.dataModelSelect.id===s)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(e=>e.id===s)){let e=this.dataModelResult.listItems.find(i=>i.id===s);this.dataModelSelect=e,this.formControl.setValue(e);return}this.categoryService.ServiceGetOneById(s).subscribe({next:e=>{e.isSuccess&&(this.filteredOptions=this.push(e.item),this.dataModelSelect=e.item,this.formControl.setValue(e.item),this.optionChange.emit(e.item))}});return}if(typeof s==typeof Ge){this.filteredOptions=this.push(s),this.dataModelSelect=s,this.formControl.setValue(s);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new Ge,this.loadOptions()}};Zt.nextId=0,Zt.\u0275fac=function(e){return new(e||Zt)(h(U),h(L),h(F),h(V),h(Fe))},Zt.\u0275cmp=x({type:Zt,selectors:[["app-ticketing-departemen-selector"]],inputs:{optionDisabled:"optionDisabled",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionRequired:"optionRequired",optionLabel:"optionLabel",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange"},standalone:!1,ngContentSelectors:Go,decls:18,vars:25,consts:[["matauto","matAutocomplete"],[1,"input-style","has-borders","has-icon","input-style-always-active","validate-field","mb-4","loader-container"],[3,"optionsInfoAreaId"],["class","color-highlight",3,"for",4,"ngIf"],["matPrefix",""],["style","vertical-align: middle","class","ntk-hover-zoom","aria-hidden","","height","25","width","25",3,"src",4,"ngIf"],["type","text","aria-label","Assignee","matInput","",3,"placeholder","formControl","matAutocomplete","required","id"],[3,"optionSelected","displayWith"],[3,"value","disabled",4,"ngFor","ngForOf"],["class","fa fa-info invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],["class","fa fa-times action color-red-dark",3,"click",4,"ngIf"],[1,"fa","fa-rotate-right","action","color-green-dark",2,"margin-left","20px",3,"click","title"],[4,"ngIf"],[1,"color-highlight",3,"for"],["aria-hidden","","height","25","width","25",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"value","disabled"],[1,"fa","fa-info","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"fa","fa-times","action","color-red-dark",3,"click"]],template:function(e,i){if(e&1){let t=b();fn(),r(0,"div",1),v(1,"app-progress-spinner",2),I(2,Po,2,3,"label",3),r(3,"span",4),I(4,Ho,2,4,"img",5),d(5," \xA0"),a(),v(6,"input",6),r(7,"mat-autocomplete",7,0),C("optionSelected",function(T){return f(t),g(i.onActionSelect(T.option.value))}),I(9,Wo,4,4,"mat-option",8),S(10,"async"),a(),I(11,jo,1,0,"i",9)(12,Uo,1,0,"i",10)(13,Qo,1,0,"i",11),r(14,"i",12),S(15,"translate"),C("click",function(){return f(t),g(i.onActionButtonReload())}),a(),I(16,zo,3,3,"em",13),gn(17),a()}if(e&2){let t=D(8);o(),c("optionsInfoAreaId",i.constructorInfoAreaId),o(),c("ngIf",(i.optionLabel==null?null:i.optionLabel.length)>0),o(2),c("ngIf",i.dataModelSelect&&(i.dataModelSelect==null?null:i.dataModelSelect.linkMainImageIdSrc)),o(2),c("placeholder",R(i.optionPlaceholder))("id",Wt("app-cms-site-selector-",i.id))("formControl",i.formControl)("matAutocomplete",t)("required",i.optionRequired),qt("disabled",i.optionDisabled?!0:null),o(),c("displayWith",i.displayFn),o(2),c("ngForOf",_(10,21,i.filteredOptions)),o(2),c("ngIf",!i.formControl.valid),o(),c("ngIf",i.optionRequired&&i.formControl.valid),o(),c("ngIf",(i.dataModelSelect==null?null:i.dataModelSelect.id)>0),o(),X("rotation360",i.publicHelper.processService.process.inRunArea[i.constructorInfoAreaId]),c("title",R(_(15,23,"ACTION.RELOAD"))),o(2),c("ngIf",i.optionRequired&&(!i.dataModelSelect||!i.dataModelSelect.id||i.dataModelSelect.id<=0))}},dependencies:[li,B,te,ie,Ce,_n,In,Tn,Cn,vo,j,H,Ve,N,Yt],encapsulation:2});var Ae=Zt;var Ko=["vform"];function Jo(n,s){if(n&1){let e=b();r(0,"app-cms-enum-record-status-selector",12),A("modelChange",function(t){f(e);let l=p();return E(l.dataModel.recordStatus,t)||(l.dataModel.recordStatus=t),g(t)}),a()}if(n&2){let e=p();y("model",e.dataModel.recordStatus),c("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Yo(n,s){if(n&1){let e=b();r(0,"div",13)(1,"label",14),d(2),S(3,"translate"),a(),r(4,"textarea",15,1),S(6,"translate"),A("ngModelChange",function(t){f(e);let l=p();return E(l.dataModel.htmlBody,t)||(l.dataModel.htmlBody=t),g(t)}),d(7,"        "),a(),r(8,"em"),d(9),a()()}if(n&2){let e=D(5),i=p();o(2),w(_(3,6,"TITLE.Answer_Text")),o(2),c("placeholder",R(_(6,8,"TITLE.Answer_Text"))),y("ngModel",i.dataModel.htmlBody),c("disabled",!(i.fieldsInfo.htmlBody!=null&&i.fieldsInfo.htmlBody.accessAddField)),o(5),u("",e.value.length," / 1000")}}function Xo(n,s){if(n&1){let e=b();r(0,"div",16)(1,"button",17),C("click",function(){f(e);let t=p();return g(t.onActionBackToParent())}),d(2),S(3,"translate"),a(),r(4,"button",18),d(5),S(6,"translate"),a()()}if(n&2){p();let e=D(10);o(2),u(" ",_(3,3,"ACTION.BACK")," "),o(2),c("disabled",!e.form.valid),o(),u(" ",_(6,5,"ACTION.SAVE")," ")}}var pi=class pi extends It{constructor(e,i,t,l,T,m,Q,J,Re,xe){super(m,new Et,l,xe);this.data=e;this.dialogRef=i;this.activatedRoute=t;this.publicHelper=l;this.coreEnumService=T;this.ticketingAnswerService=m;this.cmsToastrService=Q;this.router=J;this.cdr=Re;this.translate=xe;this.requestLinkTaskId=0;this.constructorInfoAreaId=this.constructor.name;this.formInfo=new ne;this.fieldsInfo=new Map;this.dataModel=new Et;this.dataModelResult=new W;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.fileManagerOpenForm=!1;this.appLanguage="fa";this.mapOptonCenter=new Vt;this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),e&&(this.requestLinkTaskId=+e.linkTaskId||0)}ngOnInit(){if(this.requestLinkTaskId===0){this.cmsToastrService.typeErrorAddRowParentIsNull();return}this.dataModel.linkTaskId=this.requestLinkTaskId,this.DataGetAccess()}onFormSubmit(){if(!this.formGroup.valid){this.cmsToastrService.typeErrorFormInvalid();return}this.DataAddContent()}DataAddContent(){this.formInfo.submitButtonEnabled=!1,this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.ticketingAnswerService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!i.isSuccess,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.cmsToastrService.typeSuccessAdd(),setTimeout(()=>{this.dialogRef.close({dialogChangedDate:!0})},1e3)):this.cmsToastrService.typeErrorAdd(i.errorMessage),this.publicHelper.processService.processStop(e)},error:i=>{this.publicHelper.processService.processStop(e),this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeErrorAdd(i)}})}onStepClick(e,i){e.previouslySelectedIndex<e.selectedIndex}onActionBackToParent(){this.dialogRef.close({dialogChangedDate:!1})}onActionFileSelectedLinkMainImageId(){}onActionSelectSource(e){if(!e||e.id<=0){this.translate.get(["MESSAGE.Specify_the_source","MESSAGE.The_source_of_the_information_application_is_not_known"]).subscribe(i=>{this.cmsToastrService.typeErrorMessage(i["MESSAGE.Specify_the_source"],i["MESSAGE.The_source_of_the_information_application_is_not_known"])});return}this.dataModel.linkTicketingDepartemenId=e.id}};pi.\u0275fac=function(i){return new(i||pi)(h(he),h(ae),h(_e),h(F),h(U),h(Rt),h(O),h(re),h(L),h(V))},pi.\u0275cmp=x({type:pi,selectors:[["app-ticketing-answer-add"]],viewQuery:function(i,t){if(i&1&&Z(Ko,5),i&2){let l;$(l=ee())&&(t.formGroup=l.first)}},standalone:!1,features:[q],decls:16,vars:14,consts:[["vform","ngForm"],["HtmlBody",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionChange","optionSelectForce","optionPlaceholder","optionDisabled"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.htmlBody",1,"color-highlight"],["matInput","","name","dataModel.htmlBody","type","text","minlength","0","maxlength","1000","rows","5","id","dataModel.htmlBody",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"]],template:function(i,t){if(i&1){let l=b();r(0,"div",2),v(1,"app-progress-spinner",3),r(2,"div",4)(3,"p",5),d(4),a(),r(5,"p"),d(6),S(7,"translate"),a(),v(8,"app-cms-form-result-message",6),r(9,"form",7,0),C("ngSubmit",function(){return f(l),g(t.onFormSubmit())}),I(11,Jo,1,5,"app-cms-enum-record-status-selector",8),r(12,"app-ticketing-departemen-selector",9),S(13,"translate"),C("optionChange",function(m){return f(l),g(t.onActionSelectSource(m))}),a(),I(14,Yo,10,10,"div",10)(15,Xo,7,7,"div",11),a()()()}i&2&&(o(),c("optionsInfoAreaId",t.constructorInfoAreaId),o(3),u(" ",t.formInfo.formTitle," "),o(2),u(" ",_(7,10,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),c("formInfo",t.formInfo),o(3),c("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),o(),c("optionSelectForce",t.dataModel.linkTicketingDepartemenId)("optionPlaceholder",_(13,12,"TITLE.Department"))("optionDisabled",!(t.fieldsInfo.linkTicketingDepartemenId!=null&&t.fieldsInfo.linkTicketingDepartemenId.accessAddField)),o(2),c("ngIf",t.fieldsInfo.htmlBody==null?null:t.fieldsInfo.htmlBody.accessWatchField),o(),c("ngIf",t.formInfo.submitButtonEnabled))},dependencies:[B,Ie,te,ie,Te,be,Me,ge,ve,j,we,H,ce,Ae,N],encapsulation:2});var Vn=pi;var Zo=["vform"];function $o(n,s){if(n&1){let e=b();r(0,"app-cms-enum-record-status-selector",12),A("modelChange",function(t){f(e);let l=p();return E(l.dataModel.recordStatus,t)||(l.dataModel.recordStatus=t),g(t)}),a()}if(n&2){let e=p();y("model",e.dataModel.recordStatus),c("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function er(n,s){if(n&1){let e=b();r(0,"div",13)(1,"label",14),d(2),S(3,"translate"),a(),r(4,"textarea",15,1),S(6,"translate"),A("ngModelChange",function(t){f(e);let l=p();return E(l.dataModel.htmlBody,t)||(l.dataModel.htmlBody=t),g(t)}),d(7,"        "),a(),r(8,"em"),d(9),a()()}if(n&2){let e=D(5),i=p();o(2),w(_(3,6,"TITLE.Answer_Text")),o(2),c("placeholder",R(_(6,8,"TITLE.Answer_Text"))),y("ngModel",i.dataModel.htmlBody),c("disabled",!(i.fieldsInfo.htmlBody!=null&&i.fieldsInfo.htmlBody.accessEditField)),o(5),u("",e.value.length," / 1000")}}function tr(n,s){if(n&1){let e=b();r(0,"div",16)(1,"button",17),C("click",function(){f(e);let t=p();return g(t.onActionBackToParent())}),d(2),S(3,"translate"),a(),r(4,"button",18),d(5),S(6,"translate"),a()()}if(n&2){p();let e=D(10);o(2),u(" ",_(3,3,"ACTION.BACK")," "),o(2),c("disabled",!e.form.valid),o(),u(" ",_(6,5,"ACTION.SAVE")," ")}}var ui=class ui extends Nt{constructor(e,i,t,l,T,m,Q,J,Re,xe){super(m,new Et,l,xe);this.data=e;this.dialogRef=i;this.activatedRoute=t;this.publicHelper=l;this.coreEnumService=T;this.ticketingAnswerService=m;this.cmsToastrService=Q;this.router=J;this.cdr=Re;this.translate=xe;this.requestId=0;this.constructorInfoAreaId=this.constructor.name;this.formInfo=new ne;this.dataModel=new Et;this.dataModelResult=new Tt;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.fileManagerOpenForm=!1;this.appLanguage="fa";this.mapOptonCenter=new Vt;this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),e&&(this.requestId=+e.id||0)}ngOnInit(){if(this.requestId===0){this.cmsToastrService.typeErrorAddRowParentIsNull();return}this.DataGetOne(this.requestId)}onFormSubmit(){if(!this.formGroup.valid){this.cmsToastrService.typeErrorFormInvalid();return}this.DataEditContent()}DataGetOne(e){this.formInfo.submitButtonEnabled=!1,this.translate.get("MESSAGE.get_information_from_the_server").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage="";let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructorInfoAreaId)}),this.ticketingAnswerService.setAccessLoad(),this.ticketingAnswerService.setAccessDataType(_t.Editor),this.ticketingAnswerService.ServiceGetOneById(e).subscribe({next:t=>{this.dataAccessModel=t.access,this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.publicHelper.processService.processStop(i),this.dataModelResult=t,this.formInfo.submitButtonEnabled=!0,t.isSuccess?this.dataModel=t.item:this.cmsToastrService.typeErrorGetOne(t.errorMessage)},error:t=>{this.publicHelper.processService.processStop(i),this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeErrorGetOne(t)}})}DataEditContent(){this.formInfo.submitButtonEnabled=!1,this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.ticketingAnswerService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!i.isSuccess,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.cmsToastrService.typeSuccessEdit(),setTimeout(()=>{this.dialogRef.close({dialogChangedDate:!1})},1e3)):this.cmsToastrService.typeErrorEdit(i.errorMessage),this.publicHelper.processService.processStop(e)},error:i=>{this.publicHelper.processService.processStop(e),this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeErrorEdit(i)}})}onStepClick(e,i){e.previouslySelectedIndex<e.selectedIndex}onActionBackToParent(){this.dialogRef.close({dialogChangedDate:!1})}onActionFileSelectedLinkMainImageId(){}onActionSelectSource(e){if(!e||e.id<=0){this.translate.get(["MESSAGE.Specify_the_source","MESSAGE.The_source_of_the_information_application_is_not_known"]).subscribe(i=>{this.cmsToastrService.typeErrorMessage(i["MESSAGE.Specify_the_source"],i["MESSAGE.The_source_of_the_information_application_is_not_known"])});return}}};ui.\u0275fac=function(i){return new(i||ui)(h(he),h(ae),h(_e),h(F),h(U),h(Rt),h(O),h(re),h(L),h(V))},ui.\u0275cmp=x({type:ui,selectors:[["app-ticketing-answer-edit"]],viewQuery:function(i,t){if(i&1&&Z(Zo,5),i&2){let l;$(l=ee())&&(t.formGroup=l.first)}},standalone:!1,features:[q],decls:16,vars:14,consts:[["vform","ngForm"],["HtmlBody",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionChange","optionSelectForce","optionPlaceholder","optionDisabled"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.htmlBody",1,"color-highlight"],["matInput","","name","dataModel.htmlBody","type","text","minlength","0","maxlength","1000","rows","5","id","dataModel.htmlBody",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"]],template:function(i,t){if(i&1){let l=b();r(0,"div",2),v(1,"app-progress-spinner",3),r(2,"div",4)(3,"p",5),d(4),a(),r(5,"p"),d(6),S(7,"translate"),a(),v(8,"app-cms-form-result-message",6),r(9,"form",7,0),C("ngSubmit",function(){return f(l),g(t.onFormSubmit())}),I(11,$o,1,5,"app-cms-enum-record-status-selector",8),r(12,"app-ticketing-departemen-selector",9),S(13,"translate"),C("optionChange",function(m){return f(l),g(t.onActionSelectSource(m))}),a(),I(14,er,10,10,"div",10)(15,tr,7,7,"div",11),a()()()}i&2&&(o(),c("optionsInfoAreaId",t.constructorInfoAreaId),o(3),u(" ",t.formInfo.formTitle," "),o(2),u(" ",_(7,10,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),c("formInfo",t.formInfo),o(3),c("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),o(),c("optionSelectForce",t.dataModel.linkTicketingDepartemenId)("optionPlaceholder",_(13,12,"TITLE.Department"))("optionDisabled",!(t.fieldsInfo.linkTicketingDepartemenId!=null&&t.fieldsInfo.linkTicketingDepartemenId.accessEditField)),o(2),c("ngIf",t.fieldsInfo.htmlBody==null?null:t.fieldsInfo.htmlBody.accessWatchField),o(),c("ngIf",t.formInfo.submitButtonEnabled))},dependencies:[B,Ie,te,ie,Te,be,Me,ge,ve,j,we,H,ce,Ae,N],encapsulation:2});var Fn=ui;var ir=["vform"];function nr(n,s){if(n&1){let e=b();r(0,"div",8)(1,"button",9),C("click",function(){f(e);let t=p();return g(t.onFormCancel())}),v(2,"i",10),d(3),S(4,"translate"),a()()}n&2&&(o(3),u(" ",_(4,1,"ACTION.CANCEL")," "))}var fi=class fi{constructor(s,e,i,t,l,T,m,Q,J,Re){this.data=s;this.dialogRef=e;this.coreEnumService=i;this.ticketingAnswerService=t;this.cmsToastrService=l;this.tokenHelper=T;this.cmsStoreService=m;this.cdr=Q;this.publicHelper=J;this.translate=Re;this.requestId=0;this.constructorInfoAreaId=this.constructor.name;this.tokenInfo=new Kt;this.dataModelResult=new W;this.dataModel=new Et;this.formInfo=new ne;this.dataModelEnumSendSmsStatusTypeResult=new W;this.fieldsInfo=new Map;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,s&&(this.requestId=+s.id||0)}ngOnInit(){if(this.translate.get("TITLE.VIEW").subscribe(s=>{this.formInfo.formTitle=s}),this.requestId===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(s=>s.tokenInfoStore).subscribe(s=>Y(this,null,function*(){this.tokenInfo=s}))),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:s=>{this.dataModelEnumSendSmsStatusTypeResult=s}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(s=>s.unsubscribe())}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage="";let s=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(s,e,this.constructorInfoAreaId)}),this.ticketingAnswerService.setAccessLoad(),this.ticketingAnswerService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModel=e.item,console.log(this.dataModel),e.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+e.item.id,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(e.errorMessage)),this.publicHelper.processService.processStop(s)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(s,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};fi.\u0275fac=function(e){return new(e||fi)(h(he),h(ae),h(U),h(Rt),h(O),h(le),h(se),h(L),h(F),h(V))},fi.\u0275cmp=x({type:fi,selectors:[["app-ticketing-answer-view"]],viewQuery:function(e,i){if(e&1&&Z(ir,5),e&2){let t;$(t=ee())&&(i.formGroup=t.first)}},standalone:!1,decls:9,vars:6,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection","loader-container"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[3,"formInfo"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,i){e&1&&(r(0,"div",0),d(1),a(),r(2,"div",1),v(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),a(),r(5,"div",4),v(6,"app-cms-form-result-message",5),a(),r(7,"div",6),I(8,nr,5,3,"div",7),a()),e&2&&(o(),u(" ",i.formInfo.formTitle," "),o(2),c("optionsInfoAreaId",i.constructorInfoAreaId),o(),c("dataModel",i.dataModel)("optionMethod",1),o(2),c("formInfo",i.formInfo),o(2),c("ngIf",i.formInfo.submitButtonEnabled))},dependencies:[B,H,Lo,ce,N],encapsulation:2});var Nn=fi;function or(n,s){n&1&&v(0,"div",10)}function rr(n,s){if(n&1&&(r(0,"div",4)(1,"div",5)(2,"b"),d(3),S(4,"translate"),a(),d(5,": "),a(),v(6,"div",15)(7,"div",12)(8,"div",11),a()),n&2){let e=p();o(3),u("",_(4,2,"TITLE.Description")," "),o(3),c("innerText",e.dataModelResult.item.htmlBody)}}var gi=class gi{constructor(s,e,i,t,l,T,m,Q){this.headerService=s;this.publicHelper=e;this.cdr=i;this.cmsToastrService=t;this.dialog=l;this.translate=T;this.cmsStoreService=m;this.tokenHelper=Q;this.constructorInfoAreaId=this.constructor.name;this.optionId=0;this.dataModelResult=new W;this.fieldsInfo=new Map;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr}ngOnInit(){this.optionId>0&&this.DataGetOneContent(),this.unsubscribe.push(this.cmsStoreService.getState(s=>s.tokenInfoStore).subscribe(s=>Y(this,null,function*(){this.DataGetOneContent()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(s=>s.unsubscribe())}DataGetOneContent(){let s=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(s,e,this.constructorInfoAreaId)}),this.headerService.setAccessLoad(),this.headerService.ServiceGetOneById(this.optionId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),e.isSuccess?this.dataModelResult=e:this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(s)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(s)}})}};gi.\u0275fac=function(e){return new(e||gi)(h(Oe),h(F),h(L),h(O),h(Ee),h(V),h(se),h(le))},gi.\u0275cmp=x({type:gi,selectors:[["app-ticketing-task-header"]],inputs:{optionId:"optionId"},standalone:!1,decls:33,vars:11,consts:[[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content"],[1,"table"],[1,"tr"],[1,"td","small-width"],[1,"svg-icon","svg-icon-3x","svg-icon-primary",3,"inlineSVG"],[1,"td","large-width",2,"color","darkblue"],["class","td",4,"ngIf"],[1,"td","large-width"],[1,"td"],[2,"clear","both"],[1,"td",2,"text-align","left"],["class","tr",4,"ngIf"],[1,"divider","divider-margins"],[1,"td","large-width",3,"innerText"]],template:function(e,i){e&1&&(r(0,"div",0),v(1,"app-progress-spinner",1),r(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),v(6,"span",6),a(),r(7,"div",7)(8,"h5")(9,"b"),d(10),S(11,"translate"),a()()(),I(12,or,1,0,"div",8),a(),r(13,"div",4)(14,"div",5)(15,"b"),d(16),a(),d(17,": "),a(),r(18,"div",9),d(19),a(),v(20,"div",10)(21,"div",11),a(),r(22,"div",4)(23,"div",5)(24,"b"),d(25),a(),d(26,": "),a(),r(27,"div",9),d(28),a(),v(29,"div",12)(30,"div",11),a(),I(31,rr,9,4,"div",13),a()()(),v(32,"div",14)),e&2&&(o(),c("optionsInfoAreaId",i.constructorInfoAreaId),o(5),c("inlineSVG","./assets/media/svg/icons/Communication/Flag.svg"),o(4),u(" ",_(11,9,"TITLE.Selected_Ticket")," "),o(2),c("ngIf",i.dataModelResult==null||i.dataModelResult.item==null?null:i.dataModelResult.item.id),o(4),u("",i.fieldsInfo.id==null?null:i.fieldsInfo.id.fieldTitle," "),o(3),w(i.dataModelResult==null||i.dataModelResult.item==null?null:i.dataModelResult.item.id),o(6),u("",i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle," "),o(3),w(i.dataModelResult==null||i.dataModelResult.item==null?null:i.dataModelResult.item.title),o(3),c("ngIf",(i.dataModelResult==null||i.dataModelResult.item==null||i.dataModelResult.item.htmlBody==null?null:i.dataModelResult.item.htmlBody.length)>0))},dependencies:[B,H,Ro,N],styles:[".table[_ngcontent-%COMP%]{display:table;border:1px solid #40a1f5;padding:2px;background:#fff;border-radius:5px}.table[_ngcontent-%COMP%]   .th[_ngcontent-%COMP%]{display:table-row;background-color:#40a1f577;color:#fff;font-weight:700}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f9f9f9}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]{display:table-row;border-bottom:1px solid #000}.table[_ngcontent-%COMP%]   .td[_ngcontent-%COMP%]{display:table-cell;padding:15px;border-bottom:1px solid #40a1f5;color:#3d7c7a}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:last-child   .td[_ngcontent-%COMP%]{border:0}.small-width[_ngcontent-%COMP%]{width:90px}.large-width[_ngcontent-%COMP%]{width:400px}.clear[_ngcontent-%COMP%]{clear:both}"]});var On=gi;var sr=()=>[5,10,20,100],lr=n=>({background:n});function cr(n,s){if(n&1&&v(0,"app-ticketing-task-header",39),n&2){let e=p();c("optionId",e.requestLinkTaskId)}}function dr(n,s){if(n&1){let e=b();r(0,"a",40),C("click",function(){f(e);let t=p();return g(t.onActionBackToParent())}),v(1,"i",41),a()}}function mr(n,s){if(n&1){let e=b();r(0,"div",42)(1,"a",43),C("click",function(){f(e);let t=p();return g(t.onActionButtonNewRow())}),v(2,"i",44)(3,"br"),a(),r(4,"p",45),d(5),S(6,"translate"),a()()}n&2&&(o(5),u(" ",_(6,1,"ACTION.ADD")," "))}function pr(n,s){if(n&1){let e=b();r(0,"div",42)(1,"a",46),C("click",function(){f(e);let t=p();return g(t.onActionButtonEditRow(t.tableRowSelected))}),v(2,"i",47)(3,"br"),a(),r(4,"p",45),d(5),S(6,"translate"),a()()}n&2&&(o(5),u(" ",_(6,1,"ACTION.EDIT")," "))}function ur(n,s){if(n&1){let e=b();r(0,"div",42)(1,"a",48),C("click",function(){f(e);let t=p();return g(t.onActionButtonDeleteRow(t.tableRowSelected))}),v(2,"i",49)(3,"br"),a(),r(4,"p",45),d(5),S(6,"translate"),a()()}n&2&&(o(5),u(" ",_(6,1,"ACTION.DELETE")," "))}function fr(n,s){if(n&1){let e=b();r(0,"div",42)(1,"a",50),C("click",function(){f(e);let t=p();return g(t.onActionButtonViewRow(t.tableRowSelected))}),v(2,"i",51)(3,"br"),a(),r(4,"p",45),d(5),S(6,"translate"),a()()}n&2&&(o(5),u(" ",_(6,1,"ACTION.VIEW")," "))}function gr(n,s){if(n&1&&(r(0,"mat-header-cell",52),d(1),a()),n&2){let e=p();o(),u(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function hr(n,s){if(n&1&&(r(0,"mat-cell"),d(1),a()),n&2){let e=s.$implicit;o(),u(" ",e.id," ")}}function Sr(n,s){if(n&1&&(r(0,"mat-header-cell",52),d(1),a()),n&2){let e=p();o(),u(" ",e.fieldsInfo.linkTaskId==null?null:e.fieldsInfo.linkTaskId.fieldTitle," ")}}function _r(n,s){if(n&1&&(r(0,"mat-cell"),d(1),a()),n&2){let e=s.$implicit;o(),u(" ",e.linkTaskId," ")}}function Tr(n,s){if(n&1&&(r(0,"mat-header-cell",52),d(1),a()),n&2){let e=p();o(),u(" ",e.fieldsInfo.linkMemberId==null?null:e.fieldsInfo.linkMemberId.fieldTitle," ")}}function vr(n,s){if(n&1&&(r(0,"mat-cell"),d(1),a()),n&2){let e=s.$implicit;o(),u(" ",e.linkMemberId," ")}}function Ir(n,s){if(n&1&&(r(0,"mat-header-cell",52),d(1),a()),n&2){let e=p();o(),u(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function Cr(n,s){if(n&1&&(r(0,"mat-cell"),d(1),S(2,"localeDate"),a()),n&2){let e=s.$implicit;o(),u(" ",_(2,1,e.createdDate)," ")}}function br(n,s){if(n&1&&(r(0,"mat-header-cell",52),d(1),a()),n&2){let e=p();o(),u(" ",e.fieldsInfo.updatedDate==null?null:e.fieldsInfo.updatedDate.fieldTitle," ")}}function Mr(n,s){if(n&1&&(r(0,"mat-cell"),d(1),S(2,"localeDate"),a()),n&2){let e=s.$implicit;o(),u(" ",_(2,1,e.updatedDate)," ")}}function kr(n,s){if(n&1&&(r(0,"mat-header-cell",52),d(1),a()),n&2){let e=p();o(),u(" ",e.fieldsInfo.answerStatus==null?null:e.fieldsInfo.answerStatus.fieldTitle," ")}}function wr(n,s){if(n&1&&(r(0,"mat-cell",53),d(1),S(2,"enums"),a()),n&2){let e=s.$implicit,i=p();c("ngStyle",We(5,lr,i.publicHelper.RowStyleAnswerStatus(e.ticketStatus))),o(),u(" ",si(2,2,e.answerStatus,i.dataModelEnumAnswerStatusResult.listItems)," ")}}function yr(n,s){n&1&&(r(0,"mat-header-cell"),d(1),S(2,"translate"),a()),n&2&&(o(),u(" ",_(2,1,"TITLE.OPTION")," "))}function Er(n,s){if(n&1&&(r(0,"mat-cell",54)(1,"button",55)(2,"mat-icon"),d(3,"more_vert"),a()(),v(4,"mat-menu",null,2),a()),n&2){let e=D(5),i=p();o(),c("matMenuTriggerFor",e)("disabled",!i.dataModelResult.access.accessEditRow&&!i.dataModelResult.access.accessDeleteRow)}}function Ar(n,s){n&1&&v(0,"mat-header-row")}function Dr(n,s){if(n&1){let e=b();r(0,"mat-row",56),C("click",function(t){let l=f(e).$implicit,T=p();return g(T.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=f(e).$implicit,T=p();return g(T.onActionTableRowSelect(l,t))}),a()}if(n&2){let e=s.$implicit,i=p();X("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var hi=class hi extends ct{constructor(e,i,t,l,T,m,Q,J,Re,xe,At,ft,Yi){super(e,new Et,ft,m,Re);this.contentService=e;this.activatedRoute=i;this.cmsToastrService=t;this.cmsConfirmationDialogService=l;this.router=T;this.tokenHelper=m;this.cdr=Q;this.cmsStoreService=J;this.translate=Re;this.ticketingEnumService=xe;this.pageInfo=At;this.publicHelper=ft;this.dialog=Yi;this.requestLinkTaskId=0;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new K;this.filterDataModelQueryBuilder=[];this.dataModelEnumAnswerStatusResult=new W;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["id","LinkTaskId","linkMemberId","createdDate","updatedDate","AnswerStatus"];this.tabledisplayedColumnsMobileSource=["id","LinkTaskId","linkMemberId","createdDate","updatedDate","AnswerStatus"];this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:to=>this.onSubmitOptionsSearch(to)},this.filteModelContent.sortColumn="id",this.filteModelContent.sortType=P.Ascending}ngOnInit(){this.requestLinkTaskId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkTaskId")),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>Y(this,null,function*(){this.getEnumAnswerStatus(),this.tokenInfo=e,this.DataGetAll()}))),this.getEnumAnswerStatus()}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}getEnumAnswerStatus(){this.ticketingEnumService.ServiceTicketStatusEnum().subscribe({next:e=>{this.dataModelEnumAnswerStatusResult=e}})}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Et);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(l=>{this.publicHelper.processService.processStart(e,l,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]);let t=new z;this.requestLinkTaskId>0&&(t.propertyName="LinkTaskId",t.value=this.requestLinkTaskId,i.filters.push(t)),this.categoryModelSelected&&this.categoryModelSelected.id>0&&(t.propertyName="LinkTaskId",t.value=this.categoryModelSelected.id,i.filters.push(t)),this.contentService.setAccessLoad(),this.contentService.ServiceGetAllEditor(i).subscribe({next:l=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(l.access),l.isSuccess?(this.dataModelResult=l,this.tableSource.data=l.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(l.access)},1e3)):this.cmsToastrService.typeErrorGetAll(l.errorMessage),this.publicHelper.processService.processStop(e)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(e)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=P.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=P.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=P.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.categoryModelSelected==null&&this.categoryModelSelected&&this.categoryModelSelected.id===0&&(this.requestLinkTaskId==null||this.requestLinkTaskId===0)){this.translate.get("MESSAGE.Content_not_selected").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(Vn,{height:"90%",panelClass:e,enterAnimationDuration:G.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:G.cmsViewConfig.exitAnimationDuration,data:{linkTaskId:this.requestLinkTaskId>0?this.requestLinkTaskId:this.categoryModelSelected.id}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionButtonViewRow(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.cmsToastrService.typeErrorSelectedRow();return}this.tableRowSelected=e;var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Nn,{height:"90%",panelClass:i,enterAnimationDuration:G.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:G.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate})}onActionSelectorSelect(e){var i=this.filteModelContent.sortColumn,t=this.filteModelContent.sortType;this.filteModelContent=new K,this.filteModelContent.sortColumn=i,this.filteModelContent.sortType=t,this.categoryModelSelected=e,this.DataGetAll()}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.tableRowSelected=e,this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Fn,{height:"90%",panelClass:i,enterAnimationDuration:G.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:G.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(e==null||!e.id||e.id===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(l=>{this.cmsToastrService.typeErrorSelected(l)});return}if(this.tableRowSelected=e,this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(l=>{i=l["MESSAGE.Please_Confirm"],t=l["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(l=>{if(l){let T=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(m=>{this.publicHelper.processService.processStart(T,m,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:m=>{m.isSuccess?this.cmsToastrService.typeSuccessRemove():this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(T)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(T)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(m=>{i.set(m,0)}),this.translate.get("MESSAGE.All").subscribe(m=>{i.set(m,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(m=>{this.publicHelper.processService.processStart(t,m,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:m=>{m.isSuccess&&(i.set("All",m.totalRowCount),this.optionsStatist.childMethods.setStatistValue(i)),this.publicHelper.processService.processStop(t)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(t)}});let l=JSON.parse(JSON.stringify(this.filteModelContent)),T=new z;T.propertyName="recordStatus",T.value=Ue.Available,l.filters.push(T),this.contentService.ServiceGetCount(l).subscribe({next:m=>{m.isSuccess&&(i.set("Active",m.totalRowCount),this.optionsStatist.childMethods.setStatistValue(i)),this.publicHelper.processService.processStop(t)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(t)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/ticketing/task/"])}};hi.\u0275fac=function(i){return new(i||hi)(h(Rt),h(_e),h(O),h(Ft),h(re),h(le),h(L),h(se),h(V),h(Jt),h(lt),h(F),h(Ee))},hi.\u0275cmp=x({type:hi,selectors:[["app-ticketing-answer-list"]],standalone:!1,features:[q],decls:59,vars:33,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionId",4,"ngIf"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkTaskId"],["matColumnDef","linkMemberId"],["matColumnDef","createdDate"],["matColumnDef","updatedDate"],["matColumnDef","AnswerStatus"],[3,"ngStyle",4,"matCellDef"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],[3,"optionId"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],[1,"col-4"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","target","_blank","data-toggle","modal","data-target","#categoryModal",1,"btn","box-shadow-button","btn-outline-secondary",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor","disabled"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(i,t){if(i&1){let l=b();I(0,cr,1,1,"app-ticketing-task-header",3),r(1,"app-cms-html-list",4),A("optionActionGuideNoticeDisplayChange",function(m){return f(l),E(t.viewGuideNotice,m)||(t.viewGuideNotice=m),g(m)}),C("optionOnActionButtonMemoRow",function(){return f(l),g(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return f(l),g(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return f(l),g(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return f(l),g(t.onActionButtonPrintRow())}),M(2,5),d(3," -------------------------------------- "),k(),Le(4,6)(5,7),M(6,8),I(7,dr,2,0,"a",9),r(8,"a",10),C("click",function(){return f(l),g(t.viewGuideNotice=!t.viewGuideNotice)}),v(9,"i",11),a(),r(10,"a",10),C("click",function(){return f(l),g(t.onActionButtonReload())}),v(11,"i",12),a(),k(),M(12,13),r(13,"a",14),C("click",function(){return f(l),g(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),v(14,"mat-slide-toggle",15),d(15),S(16,"translate"),a(),r(17,"a",14),C("click",function(){return f(l),g(t.onActionButtonStatist())}),v(18,"mat-slide-toggle",15),d(19),S(20,"translate"),a(),k(),M(21,16),I(22,mr,7,3,"div",17),k(),M(23,18),I(24,pr,7,3,"div",17)(25,ur,7,3,"div",17)(26,fr,7,3,"div",17),k(),M(27,19),r(28,"app-cms-search-list",20),A("optionsChange",function(m){return f(l),E(t.optionsSearch,m)||(t.optionsSearch=m),g(m)}),a(),r(29,"app-cms-statist-list",20),A("optionsChange",function(m){return f(l),E(t.optionsStatist,m)||(t.optionsStatist=m),g(m)}),a(),k(),M(30,21),r(31,"mat-table",22,0),C("matSortChange",function(){f(l);let m=D(32);return g(t.onTableSortData(m))}),M(33,23),I(34,gr,2,1,"mat-header-cell",24)(35,hr,2,1,"mat-cell",25),k(),M(36,26),I(37,Sr,2,1,"mat-header-cell",24)(38,_r,2,1,"mat-cell",25),k(),M(39,27),I(40,Tr,2,1,"mat-header-cell",24)(41,vr,2,1,"mat-cell",25),k(),M(42,28),I(43,Ir,2,1,"mat-header-cell",24)(44,Cr,3,3,"mat-cell",25),k(),M(45,29),I(46,br,2,1,"mat-header-cell",24)(47,Mr,3,3,"mat-cell",25),k(),M(48,30),I(49,kr,2,1,"mat-header-cell",24)(50,wr,3,7,"mat-cell",31),k(),M(51,32),I(52,yr,3,3,"mat-header-cell",33)(53,Er,6,2,"mat-cell",34),k(),I(54,Ar,1,0,"mat-header-row",35)(55,Dr,1,2,"mat-row",36),a(),k(),M(56,37),r(57,"mat-paginator",38,1),C("page",function(m){return f(l),g(t.onTablePageingData(m))}),a(),k(),a()}i&2&&(c("ngIf",t.requestLinkTaskId>0),o(),c("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),y("optionActionGuideNoticeDisplay",t.viewGuideNotice),c("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),o(6),c("ngIf",t.requestLinkTaskId>0),o(4),X("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(3),c("checked",t.optionsSearch.data.show),o(),u("",_(16,28,"ACTION.SEARCH")," "),o(3),c("checked",t.optionsStatist.data.show),o(),u("",_(20,30,"ACTION.STATIST")," "),o(3),c("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessAddRow),o(2),c("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),o(),c("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),o(),c("ngIf",(t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessWatchRow)&&(t.tableRowSelected==null?null:t.tableRowSelected.id)>0),o(2),y("options",t.optionsSearch),o(),y("options",t.optionsStatist),o(2),c("dataSource",t.tableSource),o(23),c("matHeaderRowDef",t.tabledisplayedColumns),o(),c("matRowDefColumns",t.tabledisplayedColumns),o(2),c("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",qe(32,sr)))},dependencies:[B,je,Pe,He,Qe,ze,Ke,Je,Ye,Xe,Ze,et,ot,tt,$e,rt,it,nt,at,st,dt,mt,pt,ut,On,N,mi,bt],encapsulation:2});var Xi=hi;var xr=["vform"];function Lr(n,s){if(n&1){let e=b();r(0,"app-cms-enum-record-status-selector",15),A("modelChange",function(t){f(e);let l=p();return E(l.dataModel.recordStatus,t)||(l.dataModel.recordStatus=t),g(t)}),a()}if(n&2){let e=p();y("model",e.dataModel.recordStatus),c("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Br(n,s){n&1&&v(0,"i",22)}function Vr(n,s){n&1&&v(0,"i",23)}function Fr(n,s){if(n&1&&(r(0,"mat-error"),d(1),r(2,"strong"),d(3),S(4,"translate"),a()()),n&2){let e=p(2);o(),u(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," is "),o(2),w(_(4,2,"MESSAGE.required"))}}function Nr(n,s){if(n&1){let e=b();r(0,"div",16)(1,"label",17),d(2),a(),r(3,"input",18,1),A("ngModelChange",function(t){f(e);let l=p();return E(l.dataModel.title,t)||(l.dataModel.title=t),g(t)}),a(),I(5,Br,1,0,"i",19)(6,Vr,1,0,"i",20),r(7,"em"),d(8),a(),I(9,Fr,5,4,"mat-error",21),a()}if(n&2){let e=D(4),i=p();o(2),w(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(),c("placeholder",R(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle)),y("ngModel",i.dataModel.title),c("disabled",!(i.fieldsInfo.title!=null&&i.fieldsInfo.title.accessAddField)),o(2),c("ngIf",!e.value),o(),c("ngIf",e.value),o(2),u("",e.value.length," / 100"),o(),c("ngIf",e.errors==null?null:e.errors.required)}}function Or(n,s){if(n&1&&(v(0,"img",24),S(1,"cmsthumbnail")),n&2){let e=p();c("src",R(_(1,2,e.dataModel.linkMainImageIdSrc)),yt)}}function Gr(n,s){if(n&1){let e=b();r(0,"div",16)(1,"label",25),C("click",function(){f(e);let t=p();return g(t.fileManagerOpenForm=!0)}),d(2),S(3,"translate"),a(),r(4,"input",26,2),S(6,"translate"),A("ngModelChange",function(t){f(e);let l=p();return E(l.dataModel.linkMainImageId,t)||(l.dataModel.linkMainImageId=t),g(t)}),C("click",function(){f(e);let t=p();return g(t.fileManagerOpenForm=!0)}),a(),r(7,"cms-file-manager",27),C("itemSelected",function(t){f(e);let l=p();return g(l.onActionFileSelected(t))}),A("openFormChange",function(t){f(e);let l=p();return E(l.fileManagerOpenForm,t)||(l.fileManagerOpenForm=t),g(t)}),a()()}if(n&2){let e=p();o(2),w(_(3,12,"TITLE.Icon_File")),o(2),c("placeholder",R(_(6,14,"TITLE.Original_File_ID"))),y("ngModel",e.dataModel.linkMainImageId),o(3),c("language",e.appLanguage)("isPopup",!0),y("openForm",e.fileManagerOpenForm),c("tree",e.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",e.selectFileTypeMainImage)("openFilemanagerButtonView",!1)}}function Pr(n,s){if(n&1){let e=b();r(0,"div",28)(1,"button",29),C("click",function(){f(e);let t=p();return g(t.onFormCancel())}),v(2,"i",30),d(3),S(4,"translate"),a(),r(5,"button",31),v(6,"i",32),d(7),S(8,"translate"),a()()}if(n&2){p();let e=D(10);o(3),u(" ",_(4,3,"ACTION.CANCEL")," "),o(2),c("disabled",!e.form.valid),o(2),u(" ",_(8,5,"ACTION.SAVE")," ")}}var yi=class yi extends Nt{constructor(e,i,t,l,T,m,Q,J){super(l,new Ge,m,J);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.ticketingDepartemenService=l;this.cmsToastrService=T;this.publicHelper=m;this.cdr=Q;this.translate=J;this.requestId=0;this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new Tt;this.dataModel=new Ge;this.formInfo=new ne;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=+e.id||0),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),this.requestId<=0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent()}onActionFileSelected(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}DataGetOneContent(){if(this.requestId<=0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.ticketingDepartemenService.setAccessLoad(),this.ticketingDepartemenService.setAccessDataType(_t.Editor),this.ticketingDepartemenService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.ticketingDepartemenService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e),this.formInfo.submitButtonEnabled=!0},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};yi.\u0275fac=function(i){return new(i||yi)(h(he),h(ae),h(U),h(Fe),h(O),h(F),h(L),h(V))},yi.\u0275cmp=x({type:yi,selectors:[["app-ticketing-departemen-edit"]],viewQuery:function(i,t){if(i&1&&Z(xr,5),i&2){let l;$(l=ee())&&(t.formGroup=l.first)}},standalone:!1,features:[q],decls:19,vars:15,consts:[["vform","ngForm"],["Title",""],["LinkMainImageId",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align: middle","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["class","fa fa-times invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],[4,"ngIf"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let l=b();r(0,"div",3),v(1,"app-progress-spinner",4),r(2,"div",5)(3,"p",6),d(4),a(),r(5,"p"),d(6),S(7,"translate"),a(),v(8,"app-cms-form-result-message",7),r(9,"form",8,0),C("ngSubmit",function(){return f(l),g(t.onFormSubmit())}),I(11,Lr,1,5,"app-cms-enum-record-status-selector",9)(12,Nr,10,9,"div",10),r(13,"div",11)(14,"a",12),S(15,"cmsthumbnail"),I(16,Or,2,4,"img",13),a()(),I(17,Gr,8,16,"div",10)(18,Pr,9,7,"div",14),a()()()}i&2&&(o(),c("optionsInfoAreaId",t.constructorInfoAreaId),o(3),u(" ",t.formInfo.formTitle," "),o(2),u(" ",_(7,11,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),c("formInfo",t.formInfo),o(3),c("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),o(),c("ngIf",t.fieldsInfo.title==null?null:t.fieldsInfo.title.accessWatchField),o(2),c("href",R(_(15,13,t.dataModel.linkMainImageIdSrc)),yt),o(2),c("ngIf",(t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0),o(),c("ngIf",t.fieldsInfo.linkMainImageId==null?null:t.fieldsInfo.linkMainImageId.accessWatchField),o(),c("ngIf",t.formInfo.submitButtonEnabled))},dependencies:[B,Ie,te,ie,Te,Ce,be,Me,ge,ve,ye,j,we,H,ce,Dn,N,Yt],encapsulation:2});var zt=yi;var Hr=["vform"];function qr(n,s){if(n&1){let e=b();r(0,"app-cms-enum-record-status-selector",15),A("modelChange",function(t){f(e);let l=p();return E(l.dataModel.recordStatus,t)||(l.dataModel.recordStatus=t),g(t)}),a()}if(n&2){let e=p();y("model",e.dataModel.recordStatus),c("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Wr(n,s){n&1&&v(0,"i",22)}function jr(n,s){n&1&&v(0,"i",23)}function Ur(n,s){if(n&1&&(r(0,"mat-error"),d(1),r(2,"strong"),d(3),S(4,"translate"),a()()),n&2){let e=p(2);o(),u(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," is "),o(2),w(_(4,2,"MESSAGE.required"))}}function Qr(n,s){if(n&1){let e=b();r(0,"div",16)(1,"label",17),d(2),a(),r(3,"input",18,1),A("ngModelChange",function(t){f(e);let l=p();return E(l.dataModel.title,t)||(l.dataModel.title=t),g(t)}),a(),I(5,Wr,1,0,"i",19)(6,jr,1,0,"i",20),r(7,"em"),d(8),a(),I(9,Ur,5,4,"mat-error",21),a()}if(n&2){let e=D(4),i=p();o(2),w(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(),c("placeholder",R(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle)),y("ngModel",i.dataModel.title),c("disabled",!(i.fieldsInfo.title!=null&&i.fieldsInfo.title.accessAddField)),o(2),c("ngIf",!e.value),o(),c("ngIf",e.value),o(2),u("",e.value.length," / 100"),o(),c("ngIf",e.errors==null?null:e.errors.required)}}function zr(n,s){if(n&1&&(v(0,"img",24),S(1,"cmsthumbnail")),n&2){let e=p();c("src",R(_(1,2,e.dataModel.linkMainImageIdSrc)),yt)}}function Kr(n,s){if(n&1){let e=b();r(0,"div",16)(1,"label",25),C("click",function(){f(e);let t=p();return g(t.fileManagerOpenForm=!0)}),d(2),S(3,"translate"),a(),r(4,"input",26,2),S(6,"translate"),A("ngModelChange",function(t){f(e);let l=p();return E(l.dataModel.linkMainImageId,t)||(l.dataModel.linkMainImageId=t),g(t)}),C("click",function(){f(e);let t=p();return g(t.fileManagerOpenForm=!0)}),a(),r(7,"cms-file-manager",27),C("itemSelected",function(t){f(e);let l=p();return g(l.onActionFileSelected(t))}),A("openFormChange",function(t){f(e);let l=p();return E(l.fileManagerOpenForm,t)||(l.fileManagerOpenForm=t),g(t)}),a()()}if(n&2){let e=p();o(2),w(_(3,12,"TITLE.Icon_File")),o(2),c("placeholder",R(_(6,14,"TITLE.Original_File_ID"))),y("ngModel",e.dataModel.linkMainImageId),o(3),c("language",e.appLanguage)("isPopup",!0),y("openForm",e.fileManagerOpenForm),c("tree",e.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",e.selectFileTypeMainImage)("openFilemanagerButtonView",!1)}}function Jr(n,s){if(n&1){let e=b();r(0,"div",28)(1,"button",29),C("click",function(){f(e);let t=p();return g(t.onFormCancel())}),v(2,"i",30),d(3),S(4,"translate"),a(),r(5,"button",31),v(6,"i",32),d(7),S(8,"translate"),a()()}if(n&2){p();let e=D(10);o(3),u(" ",_(4,3,"ACTION.CANCEL")," "),o(2),c("disabled",!e.form.valid),o(2),u(" ",_(8,5,"ACTION.SAVE")," ")}}var Ei=class Ei extends It{constructor(e,i,t,l,T,m,Q,J){super(l,new Ge,m,J);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.ticketingDepartemenService=l;this.cmsToastrService=T;this.publicHelper=m;this.cdr=Q;this.translate=J;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new W;this.dataModel=new Ge;this.formInfo=new ne;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess()}onActionFileSelected(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.ticketingDepartemenService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e),this.formInfo.submitButtonEnabled=!0},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Ei.\u0275fac=function(i){return new(i||Ei)(h(he),h(ae),h(U),h(Fe),h(O),h(F),h(L),h(V))},Ei.\u0275cmp=x({type:Ei,selectors:[["app-ticketing-departemen-add"]],viewQuery:function(i,t){if(i&1&&Z(Hr,5),i&2){let l;$(l=ee())&&(t.formGroup=l.first)}},standalone:!1,features:[q],decls:19,vars:15,consts:[["vform","ngForm"],["Title",""],["LinkMainImageId",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align: middle","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["class","fa fa-times invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],[4,"ngIf"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let l=b();r(0,"div",3),v(1,"app-progress-spinner",4),r(2,"div",5)(3,"p",6),d(4),a(),r(5,"p"),d(6),S(7,"translate"),a(),v(8,"app-cms-form-result-message",7),r(9,"form",8,0),C("ngSubmit",function(){return f(l),g(t.onFormSubmit())}),I(11,qr,1,5,"app-cms-enum-record-status-selector",9)(12,Qr,10,9,"div",10),r(13,"div",11)(14,"a",12),S(15,"cmsthumbnail"),I(16,zr,2,4,"img",13),a()(),I(17,Kr,8,16,"div",10)(18,Jr,9,7,"div",14),a()()()}i&2&&(o(),c("optionsInfoAreaId",t.constructorInfoAreaId),o(3),u(" ",t.formInfo.formTitle," "),o(2),u(" ",_(7,11,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),c("formInfo",t.formInfo),o(3),c("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),o(),c("ngIf",t.fieldsInfo.title==null?null:t.fieldsInfo.title.accessWatchField),o(2),c("href",R(_(15,13,t.dataModel.linkMainImageIdSrc)),yt),o(2),c("ngIf",(t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0),o(),c("ngIf",t.fieldsInfo.linkMainImageId==null?null:t.fieldsInfo.linkMainImageId.accessWatchField),o(),c("ngIf",t.formInfo.submitButtonEnabled))},dependencies:[B,Ie,te,ie,Te,Ce,be,Me,ge,ve,ye,j,we,H,ce,Dn,N,Yt],encapsulation:2});var Ai=Ei;var Yr=["vform"];function Xr(n,s){if(n&1){let e=b();M(0),r(1,"div",7)(2,"label",8),d(3),a(),r(4,"input",9,0),A("ngModelChange",function(t){f(e);let l=p();return E(l.dataModelResultCategory.item.title,t)||(l.dataModelResultCategory.item.title=t),g(t)}),a()(),k()}if(n&2){let e=p();o(3),w(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),o(),c("placeholder",R(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle)),y("ngModel",e.dataModelResultCategory.item.title)}}function Zr(n,s){if(n&1){let e=b();r(0,"div",10)(1,"button",11),C("click",function(){f(e);let t=p();return g(t.onFormCancel())}),v(2,"i",12),d(3),S(4,"translate"),a(),r(5,"button",13),C("click",function(){f(e);let t=p();return g(t.onFormDelete())}),v(6,"i",14),d(7),S(8,"translate"),a()()}if(n&2){let e=p();o(3),u(" ",_(4,3,"ACTION.CANCEL")," "),o(2),c("disabled",!e.formInfo.submitButtonEnabled),o(2),u(" ",_(8,5,"ACTION.DELETE")," ")}}var Di=class Di{constructor(s,e,i,t,l,T,m){this.data=s;this.dialogRef=e;this.publicHelper=i;this.ticketingDepartemenService=t;this.cdr=l;this.translate=T;this.cmsToastrService=m;this.requestId=0;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.dataModelResultCategory=new W;this.dataModelResultCategoryAllData=new W;this.dataModel={};this.formInfo=new ne;this.publicHelper.processService.cdr=this.cdr,s&&(this.requestId=+s.id||0)}ngOnInit(){if(this.requestId<=0){this.cmsToastrService.typeErrorDeleteRowIsNull(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOne(),this.DataGetAll()}DataGetOne(){if(this.requestId===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.translate.get("TITLE.Loading_Information").subscribe(e=>{this.formInfo.submitResultMessage=e});let s=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(s,e,this.constructorInfoAreaId)}),this.ticketingDepartemenService.setAccessLoad(),this.ticketingDepartemenService.setAccessDataType(_t.Editor),this.ticketingDepartemenService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModelResultCategory=e,e.isSuccess?this.formInfo.submitResultMessage="":(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.cmsToastrService.typeErrorGetOne()),this.formInfo.submitResultMessageType=FormSubmitedStatusEnum.Success,this.publicHelper.processService.processStop(s)},error:e=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessageType=FormSubmitedStatusEnum.Success,this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(s)}})}DataGetAll(){this.translate.get("TITLE.Loading_Information").subscribe(i=>{this.formInfo.submitResultMessage=i});let s=new K;s.rowPerPage=100;let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.ticketingDepartemenService.ServiceGetAll(s).subscribe({next:i=>{this.dataModelResultCategoryAllData=i,i.isSuccess?this.formInfo.submitResultMessage="":(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=FormSubmitedStatusEnum.Success,this.cmsToastrService.typeErrorGetAll()),this.publicHelper.processService.processStop(e)},error:i=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessageType=FormSubmitedStatusEnum.Success,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e)}})}onFormDelete(){if(this.requestId===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.formInfo.submitButtonEnabled=!1,this.formInfo.submitButtonEnabled=!1;let s=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(s,e,this.constructorInfoAreaId)}),this.ticketingDepartemenService.ServiceDelete(this.requestId).subscribe({next:e=>{this.formInfo.submitButtonEnabled=!e.isSuccess,e.isSuccess?(this.translate.get("MESSAGE.Deletion_Was_Successful").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.cmsToastrService.typeSuccessRemove(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.cmsToastrService.typeErrorRemove()),this.formInfo.submitButtonEnabled=!0,this.publicHelper.processService.processStop(s)},error:e=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(e),this.formInfo.submitButtonEnabled=!0,this.publicHelper.processService.processStop(s)}})}onFormChangeNewCatId(s){if(this.formInfo.submitResultMessage="",this.requestId===0||!s||s.id<=0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.dataModel.newCatId=s.id,this.dataModel.newCatId===this.requestId?(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.translate.get("ERRORMESSAGE.MESSAGE.The_delete_category_ID_is_the_same_as_the_alternate_category").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitButtonEnabled=!1):(this.formInfo.submitButtonEnabled=!0,this.formInfo.submitResultMessage="")}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Di.\u0275fac=function(e){return new(e||Di)(h(he),h(ae),h(F),h(Fe),h(L),h(V),h(O))},Di.\u0275cmp=x({type:Di,selectors:[["app-ticketing-departemen-delete"]],viewQuery:function(e,i){if(e&1&&Z(Yr,5),e&2){let t;$(t=ee())&&(i.formGroup=t.first)}},standalone:!1,decls:10,vars:7,consts:[["Title",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[4,"ngIf"],["class","form-actions",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModelResultCategory.item.title",1,"color-highlight"],["matInput","","type","text","name","dataModelResultCategory.item.title","id","dataModelResultCategory.item.title","minlength","3","maxlength","50","readonly","",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click","disabled"],[1,"fa","fa-check-square-o"]],template:function(e,i){e&1&&(r(0,"div",1),v(1,"app-progress-spinner",2),r(2,"div",3)(3,"p",4),d(4),a(),r(5,"p"),d(6),S(7,"translate"),a(),I(8,Xr,6,4,"ng-container",5)(9,Zr,9,7,"div",6),a()()),e&2&&(o(),c("optionsInfoAreaId",i.constructorInfoAreaId),o(3),u(" ",i.formInfo.formTitle," "),o(2),u(" ",_(7,5,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),c("ngIf",i.dataModelResultCategory==null?null:i.dataModelResultCategory.item),o(),c("ngIf",i.formInfo.submitButtonEnabled))},dependencies:[B,te,ie,be,Me,ge,j,H,N],encapsulation:2});var Ri=Di;var $r=()=>[5,10,20,100],ea=n=>({display:n});function ta(n,s){if(n&1){let e=b();r(0,"div",17)(1,"a",44),C("click",function(){f(e);let t=p();return g(t.onActionButtonNewRow())}),v(2,"i",45)(3,"br"),a(),r(4,"p",20),d(5),S(6,"translate"),a()()}n&2&&(o(5),u(" ",_(6,1,"ACTION.ADD")," "))}function ia(n,s){if(n&1){let e=b();r(0,"div",17)(1,"a",46),C("click",function(){f(e);let t=p();return g(t.onActionButtonEditRow(t.tableRowSelected))}),v(2,"i",47)(3,"br"),a(),r(4,"p",20),d(5),S(6,"translate"),a()()}n&2&&(o(5),u(" ",_(6,1,"ACTION.EDIT")," "))}function na(n,s){if(n&1){let e=b();r(0,"div",17)(1,"a",48),C("click",function(){f(e);let t=p();return g(t.onActionButtonDeleteRow(t.tableRowSelected))}),v(2,"i",49)(3,"br"),a(),r(4,"p",20),d(5),S(6,"translate"),a()()}n&2&&(o(5),u(" ",_(6,1,"ACTION.DELETE")," "))}function oa(n,s){n&1&&(r(0,"mat-header-cell",50),d(1),S(2,"translate"),a()),n&2&&(o(),u(" ",_(2,1,"TITLE.PICTURE")," "))}function ra(n,s){if(n&1&&(v(0,"img",52),S(1,"cmsthumbnail")),n&2){let e=p().$implicit;c("src",R(_(1,2,e.linkMainImageIdSrc)),yt)}}function aa(n,s){if(n&1&&(r(0,"mat-cell"),I(1,ra,2,4,"img",51),a()),n&2){let e=s.$implicit;o(),c("ngIf",(e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0)}}function sa(n,s){if(n&1&&(r(0,"mat-header-cell",50),d(1),a()),n&2){let e=p();o(),u(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function la(n,s){if(n&1&&(r(0,"mat-cell"),d(1),a()),n&2){let e=s.$implicit;o(),u(" ",e.id," ")}}function ca(n,s){if(n&1&&(r(0,"mat-header-cell",50),d(1),a()),n&2){let e=p();o(),u(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function da(n,s){if(n&1&&(r(0,"mat-cell"),d(1),S(2,"cmssiteinfo"),S(3,"async"),a()),n&2){let e=s.$implicit;o(),u(" ",_(3,3,_(2,1,e.linkSiteId))," ")}}function ma(n,s){if(n&1&&(r(0,"mat-header-cell",50),d(1),a()),n&2){let e=p();o(),u(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function pa(n,s){if(n&1&&v(0,"select",55),n&2){let e=p().$implicit,i=p();c("contentService",i.contentService)("row",e)("ngStyle",We(3,ea,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function ua(n,s){if(n&1&&(r(0,"mat-cell",53),S(1,"statusCellClass"),v(2,"i",53),S(3,"statusIconClass"),I(4,pa,1,5,"select",54),a()),n&2){let e=s.$implicit,i=p();c("ngClass",_(1,3,e.recordStatus)),o(2),c("ngClass",_(3,5,e.recordStatus)),o(2),c("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessEditRow)}}function fa(n,s){if(n&1&&(r(0,"mat-header-cell",50),d(1),a()),n&2){let e=p();o(),u(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," ")}}function ga(n,s){if(n&1&&(r(0,"mat-cell"),d(1),a()),n&2){let e=s.$implicit;o(),u(" ",e.title," ")}}function ha(n,s){if(n&1&&(r(0,"mat-header-cell",50),d(1),a()),n&2){let e=p();o(),u(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function Sa(n,s){if(n&1&&(r(0,"mat-cell"),d(1),S(2,"localeDate"),a()),n&2){let e=s.$implicit;o(),u(" ",_(2,1,e.createdDate)," ")}}function _a(n,s){if(n&1&&(r(0,"mat-header-cell",50),d(1),a()),n&2){let e=p();o(),u(" ",e.fieldsInfo.updatedDate==null?null:e.fieldsInfo.updatedDate.fieldTitle," ")}}function Ta(n,s){if(n&1&&(r(0,"mat-cell"),d(1),S(2,"localeDate"),a()),n&2){let e=s.$implicit;o(),u(" ",_(2,1,e.updatedDate)," ")}}function va(n,s){n&1&&(r(0,"mat-header-cell"),d(1),S(2,"translate"),a()),n&2&&(o(),u(" ",_(2,1,"TITLE.OPTION")," "))}function Ia(n,s){if(n&1&&(r(0,"mat-cell",56)(1,"button",57)(2,"mat-icon"),d(3,"more_vert"),a()(),v(4,"mat-menu",null,2),a()),n&2){let e=D(5);o(),c("matMenuTriggerFor",e)}}function Ca(n,s){n&1&&v(0,"mat-header-row")}function ba(n,s){if(n&1){let e=b();r(0,"mat-row",58),C("click",function(t){let l=f(e).$implicit,T=p();return g(T.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=f(e).$implicit,T=p();return g(T.onActionTableRowSelect(l,t))}),a()}if(n&2){let e=s.$implicit,i=p();X("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var xi=class xi extends ct{constructor(e,i,t,l,T,m,Q,J,Re,xe){super(e,new Ge,Re,l,m);this.contentService=e;this.cmsToastrService=i;this.router=t;this.tokenHelper=l;this.cdr=T;this.translate=m;this.cmsStoreService=Q;this.pageInfo=J;this.publicHelper=Re;this.dialog=xe;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new K;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["linkMainImageIdSrc","id","recordStatus"];this.tabledisplayedColumnsMobileSource=["linkMainImageIdSrc","id","recordStatus"];this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:At=>this.onSubmitOptionsSearch(At)},this.filteModelContent.sortColumn="id",this.filteModelContent.sortType=P.Descending}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>Y(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Ge);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.contentService.setAccessLoad(),this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),t.isSuccess&&(this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=P.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=P.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=P.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(Ai,{height:"90%",panelClass:e,enterAnimationDuration:G.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:G.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(zt,{height:"90%",panelClass:i,enterAnimationDuration:G.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:G.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(l=>{this.cmsToastrService.typeErrorSelected(l)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Ri,{height:"90%",panelClass:i,enterAnimationDuration:G.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:G.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()})}onActionButtonFaqList(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.onActionTableRowSelect(e),this.router.navigate(["/ticketing/faq/",this.tableRowSelected.id])}onActionButtonTemplateList(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.onActionTableRowSelect(e),this.router.navigate(["/ticketing/template/",this.tableRowSelected.id])}onActionButtonLogList(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.onActionTableRowSelect(e),this.router.navigate(["/ticketing/departemenlog/DepartemenId/",this.tableRowSelected.id])}onActionButtonTaskList(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.onActionTableRowSelect(e),this.router.navigate(["/ticketing/task/",this.tableRowSelected.id])}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(m=>{i.set(m,0)}),this.translate.get("MESSAGE.All").subscribe(m=>{i.set(m,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(m=>{this.publicHelper.processService.processStart(t,m,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:m=>{m.isSuccess&&(i.set("All",m.totalRowCount),this.optionsStatist.childMethods.setStatistValue(i)),this.publicHelper.processService.processStop(t)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(t)}});let l=JSON.parse(JSON.stringify(this.filteModelContent)),T=new z;T.propertyName="recordStatus",T.value=Ue.Available,l.filters.push(T),this.contentService.ServiceGetCount(l).subscribe({next:m=>{m.isSuccess&&(i.set("Active",m.totalRowCount),this.optionsStatist.childMethods.setStatistValue(i)),this.publicHelper.processService.processStop(t)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(t)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}};xi.\u0275fac=function(i){return new(i||xi)(h(Fe),h(O),h(re),h(le),h(L),h(V),h(se),h(lt),h(F),h(Ee))},xi.\u0275cmp=x({type:xi,selectors:[["app-ticketing-departemen-list"]],standalone:!1,features:[q],decls:87,vars:42,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-ticket","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-question","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-memo","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","linkMainImageIdSrc"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","id"],["matColumnDef","linkSiteId"],["matColumnDef","recordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","title"],["matColumnDef","createdDate"],["matColumnDef","updatedDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],["style","vertical-align: middle","class","ntk-hover-zoom","aria-hidden","","height","40","width","40",3,"src",4,"ngIf"],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(i,t){if(i&1){let l=b();r(0,"app-cms-html-list",3),A("optionActionGuideNoticeDisplayChange",function(m){return f(l),E(t.viewGuideNotice,m)||(t.viewGuideNotice=m),g(m)}),C("optionOnActionButtonMemoRow",function(){return f(l),g(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return f(l),g(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return f(l),g(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return f(l),g(t.onActionButtonPrintRow())}),M(1,4),d(2," -------------------------------------- "),k(),Le(3,5)(4,6),M(5,7),r(6,"a",8),C("click",function(){return f(l),g(t.viewGuideNotice=!t.viewGuideNotice)}),v(7,"i",9),a(),r(8,"a",8),C("click",function(){return f(l),g(t.onActionButtonReload())}),v(9,"i",10),a(),k(),M(10,11),r(11,"a",12),C("click",function(){return f(l),g(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),v(12,"mat-slide-toggle",13),d(13),S(14,"translate"),a(),r(15,"a",12),C("click",function(){return f(l),g(t.onActionButtonStatist())}),v(16,"mat-slide-toggle",13),d(17),S(18,"translate"),a(),k(),M(19,14),I(20,ta,7,3,"div",15),k(),M(21,16),I(22,ia,7,3,"div",15)(23,na,7,3,"div",15),r(24,"div",17)(25,"a",18),C("click",function(){return f(l),g(t.onActionButtonTaskList(t.tableRowSelected))}),v(26,"i",19)(27,"br"),a(),r(28,"p",20),d(29),S(30,"translate"),a()(),r(31,"div",17)(32,"a",18),C("click",function(){return f(l),g(t.onActionButtonFaqList(t.tableRowSelected))}),v(33,"i",21)(34,"br"),a(),r(35,"p",20),d(36),S(37,"translate"),a()(),r(38,"div",17)(39,"a",18),C("click",function(){return f(l),g(t.onActionButtonTemplateList(t.tableRowSelected))}),v(40,"i",22)(41,"br"),a(),r(42,"p",20),d(43),S(44,"translate"),a()(),r(45,"div",17)(46,"a",18),C("click",function(){return f(l),g(t.onActionButtonLogList(t.tableRowSelected))}),v(47,"i",22)(48,"br"),a(),r(49,"p",20),d(50),S(51,"translate"),a()(),k(),M(52,23),r(53,"app-cms-search-list",24),A("optionsChange",function(m){return f(l),E(t.optionsSearch,m)||(t.optionsSearch=m),g(m)}),a(),r(54,"app-cms-statist-list",24),A("optionsChange",function(m){return f(l),E(t.optionsStatist,m)||(t.optionsStatist=m),g(m)}),a(),k(),M(55,25),r(56,"mat-table",26,0),C("matSortChange",function(){f(l);let m=D(57);return g(t.onTableSortData(m))}),M(58,27),I(59,oa,3,3,"mat-header-cell",28)(60,aa,2,1,"mat-cell",29),k(),M(61,30),I(62,sa,2,1,"mat-header-cell",28)(63,la,2,1,"mat-cell",29),k(),M(64,31),I(65,ca,2,1,"mat-header-cell",28)(66,da,4,5,"mat-cell",29),k(),M(67,32),I(68,ma,2,1,"mat-header-cell",28)(69,ua,5,7,"mat-cell",33),k(),M(70,34),I(71,fa,2,1,"mat-header-cell",28)(72,ga,2,1,"mat-cell",29),k(),M(73,35),I(74,ha,2,1,"mat-header-cell",28)(75,Sa,3,3,"mat-cell",29),k(),M(76,36),I(77,_a,2,1,"mat-header-cell",28)(78,Ta,3,3,"mat-cell",29),k(),M(79,37),I(80,va,3,3,"mat-header-cell",38)(81,Ia,6,1,"mat-cell",39),k(),I(82,Ca,1,0,"mat-header-row",40)(83,ba,1,2,"mat-row",41),a(),k(),M(84,42),r(85,"mat-paginator",43,1),C("page",function(m){return f(l),g(t.onTablePageingData(m))}),a(),k(),a()}i&2&&(c("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey","ticketing.departemen.list"),y("optionActionGuideNoticeDisplay",t.viewGuideNotice),c("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",(t.tableRowSelected==null||t.tableRowSelected.title==null?null:t.tableRowSelected.title.length)>0?t.tableRowSelected==null?null:t.tableRowSelected.title:t.tableRowSelected==null?null:t.tableRowSelected.id),o(9),X("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(3),c("checked",t.optionsSearch.data.show),o(),u("",_(14,29,"ACTION.SEARCH")," "),o(3),c("checked",t.optionsStatist.data.show),o(),u("",_(18,31,"ACTION.STATIST")," "),o(3),c("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessAddRow),o(2),c("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),o(),c("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),o(6),u(" ",_(30,33,"ACTION.TICKETS")," "),o(7),u(" ",_(37,35,"ACTION.QUESTIONS")," "),o(7),u(" ",_(44,37,"ACTION.TEMPLATES")," "),o(7),u(" ",_(51,39,"ACTION.LOGS")," "),o(3),y("options",t.optionsSearch),o(),y("options",t.optionsStatist),o(2),c("dataSource",t.tableSource),o(26),c("matHeaderRowDef",t.tabledisplayedColumns),o(),c("matRowDefColumns",t.tabledisplayedColumns),o(2),c("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",qe(41,$r)))},dependencies:[Dt,B,je,Pe,He,j,Qe,ze,Ke,Je,Ye,Xe,Ze,et,ot,tt,$e,rt,it,nt,at,st,dt,mt,pt,ut,Ot,Ve,N,Ct,Yt,bt,Gt,Pt],encapsulation:2});var Gn=xi;function Ma(n,s){if(n&1){let e=b();r(0,"button",14),C("click",function(){f(e);let t=p();return g(t.onActionAdd())}),d(1),S(2,"translate"),a()}n&2&&(o(),u(" ",_(2,1,"ACTION.ADD")," "))}function ka(n,s){if(n&1){let e=b();r(0,"button",15),C("click",function(){f(e);let t=p();return g(t.onActionEdit())}),d(1),S(2,"translate"),a()}n&2&&(o(),u(" ",_(2,1,"ACTION.EDIT")," "))}function wa(n,s){if(n&1){let e=b();r(0,"button",16),C("click",function(){f(e);let t=p();return g(t.onActionDelete())}),d(1),S(2,"translate"),a()}n&2&&(o(),u(" ",_(2,1,"ACTION.DELETE")," "))}function ya(n,s){if(n&1){let e=b();r(0,"button",17),C("click",function(){f(e);let t=p();return g(t.onActionButtonReload())}),r(1,"mat-icon",18),S(2,"translate"),d(3,"refresh"),a()()}if(n&2){let e=p();o(),X("rotation360",e.publicHelper.processService.process.inRunArea[e.constructorInfoAreaId]),c("title",R(_(2,4,"ACTION.RELOAD")))}}function Ea(n,s){if(n&1){let e=b();r(0,"mat-tree-node",19),v(1,"button",20),r(2,"span",21),C("click",function(){let t=f(e).$implicit,l=p();return g(l.onActionSelect(t))}),d(3),a()()}if(n&2){let e=s.$implicit,i=p();X("ntk-tree-selected",i.dataModelSelect.id>0&&i.dataModelSelect.id===e.id),o(3),w(e.title)}}function Aa(n,s){if(n&1){let e=b();r(0,"mat-tree-node",22)(1,"button",23)(2,"mat-icon",24),d(3),a()(),r(4,"span",21),C("click",function(){let t=f(e).$implicit,l=p();return g(l.onActionSelect(t))}),d(5),a()()}if(n&2){let e=s.$implicit,i=p(),t=D(12);X("ntk-tree-selected",i.dataModelSelect.id>0&&i.dataModelSelect.id===e.id),c("cdkTreeNodeTypeaheadLabel",e.title)("isExpanded",e.isExpanded??!1),o(),qt("type","button")("aria-label","Toggle "+e.title),o(2),u(" ",t.isExpanded(e)?"expand_more":"chevron_right"," "),o(2),w(e.title)}}var Li=class Li{constructor(s,e,i,t,l,T,m,Q,J){this.cmsToastrService=s;this.coreEnumService=e;this.categoryService=i;this.dialog=t;this.cdr=l;this.publicHelper=T;this.tokenHelper=m;this.cmsStoreService=Q;this.translate=J;this.constructorInfoAreaId=this.constructor.name;this.dataModelSelect=new Ge;this.dataModelResult=new W;this.filterModel=new K;this.dataSource=new Eo;this.optionChange=new ti;this.unsubscribe=[];this.optionReload=()=>this.onActionButtonReload();this.hasChild=(s,e)=>!1;this.childrenAccessor=s=>[];this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(s){this.onActionSelectForce(s)}ngOnInit(){this.unsubscribe.push(this.cmsStoreService.getState(s=>s.tokenInfoStore).subscribe(()=>Y(this,null,function*(){this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(s=>s.unsubscribe())}DataGetAll(){this.filterModel.rowPerPage=200,this.filterModel.accessLoad=!0;let s=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(s,e,this.constructorInfoAreaId)}),this.categoryService.ServiceGetAll(this.filterModel).subscribe({next:e=>{e.isSuccess&&(this.dataModelResult=e,this.dataSource.data=this.dataModelResult.listItems),this.publicHelper.processService.processStop(s)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(s,!1)}})}onActionSelect(s){this.dataModelSelect=s,this.optionChange.emit(this.dataModelSelect)}onActionButtonReload(){this.onActionSelect(null),this.dataModelSelect=new Ge,this.DataGetAll()}onActionSelectForce(s){}onActionAdd(){var s="";this.publicHelper.isMobile?s="dialog-fullscreen":s="dialog-min",this.dialog.open(Ai,{height:"90%",panelClass:s,enterAnimationDuration:G.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:G.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(i=>{i&&i.dialogChangedDate&&this.DataGetAll()})}onActionEdit(){let s=0;if(this.dataModelSelect&&this.dataModelSelect.id>0&&(s=this.dataModelSelect.id),s===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorCategoryNotSelected").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(zt,{height:"90%",panelClass:e,enterAnimationDuration:G.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:G.cmsViewConfig.exitAnimationDuration,data:{id:s}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionDelete(){let s=0;if(this.dataModelSelect&&this.dataModelSelect.id>0&&(s=this.dataModelSelect.id),s===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorCategoryNotSelected").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(Ri,{height:"90%",panelClass:e,enterAnimationDuration:G.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:G.cmsViewConfig.exitAnimationDuration,data:{id:s}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}};Li.\u0275fac=function(e){return new(e||Li)(h(O),h(U),h(Fe),h(Ee),h(L),h(F),h(le),h(se),h(V))},Li.\u0275cmp=x({type:Li,selectors:[["app-ticketing-departemen-tree"]],inputs:{optionSelectForce:"optionSelectForce",optionReload:"optionReload"},outputs:{optionChange:"optionChange"},standalone:!1,decls:16,vars:14,consts:[["treeTagControl",""],[3,"optionHeaderDisplay","optionActionMainDisplay","optionFooterDisplay"],["cms-tree-header",""],["cms-tree-action",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-teal",3,"click",4,"ngIf"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-magenta",3,"click",4,"ngIf"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-red",3,"click",4,"ngIf"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-highlight",3,"click",4,"ngIf"],["cms-tree-body","",1,"loader-container"],[3,"optionsInfoAreaId"],[3,"dataSource","childrenAccessor"],["matTreeNodePadding","",3,"ntk-tree-selected",4,"matTreeNodeDef"],["matTreeNodePadding","","matTreeNodeToggle","","isExpandable","",3,"cdkTreeNodeTypeaheadLabel","isExpanded","ntk-tree-selected",4,"matTreeNodeDef","matTreeNodeDefWhen"],["cms-tree-footer",""],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[2,"font-size","20px","margin","-6px",3,"title"],["matTreeNodePadding",""],["matIconButton","","disabled",""],[3,"click"],["matTreeNodePadding","","matTreeNodeToggle","","isExpandable","",3,"cdkTreeNodeTypeaheadLabel","isExpanded"],["matIconButton","","matTreeNodeToggle",""],[1,"mat-icon-rtl-mirror"]],template:function(e,i){e&1&&(r(0,"app-cms-html-tree",1),M(1,2),d(2),S(3,"translate"),k(),M(4,3),I(5,Ma,3,3,"button",4)(6,ka,3,3,"button",5)(7,wa,3,3,"button",6)(8,ya,4,6,"button",7),k(),M(9,8),v(10,"app-progress-spinner",9),r(11,"mat-tree",10,0),I(13,Ea,4,3,"mat-tree-node",11)(14,Aa,6,8,"mat-tree-node",12),a(),k(),Le(15,13),a()),e&2&&(c("optionHeaderDisplay",!0)("optionActionMainDisplay",!0)("optionFooterDisplay",!1),o(2),u(" ",_(3,12,"TABLE."+(i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.moduleEntityName))," "),o(3),c("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessAddRow),o(),c("ngIf",(i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessEditRow)&&(i.dataModelSelect==null?null:i.dataModelSelect.id)>0),o(),c("ngIf",(i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessDeleteRow)&&(i.dataModelSelect==null?null:i.dataModelSelect.id)>0),o(),c("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessWatchRow),o(2),c("optionsInfoAreaId",i.constructorInfoAreaId),o(),c("dataSource",i.dataSource)("childrenAccessor",i.childrenAccessor),o(3),c("matTreeNodeDefWhen",i.hasChild))},dependencies:[B,Pe,He,Mo,ko,yo,wo,bo,H,Bo,N],encapsulation:2});var Ht=Li;var Da=()=>[5,10,20,100],Ra=n=>({display:n});function xa(n,s){if(n&1){let e=b();r(0,"a",40),C("click",function(){f(e);let t=p();return g(t.onActionBackToParent())}),v(1,"i",41),a()}}function La(n,s){if(n&1){let e=b();r(0,"div",42)(1,"a",43),C("click",function(){f(e);let t=p();return g(t.onActionButtonEditRow(t.tableRowSelected))}),v(2,"i",44)(3,"br"),a(),r(4,"p",45),d(5),S(6,"translate"),a()()}n&2&&(o(5),u(" ",_(6,1,"ACTION.EDIT")," "))}function Ba(n,s){if(n&1&&(r(0,"mat-header-cell",46),d(1),a()),n&2){let e=p();o(),u(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function Va(n,s){if(n&1&&(r(0,"mat-cell"),d(1),a()),n&2){let e=s.$implicit;o(),u(" ",e.id," ")}}function Fa(n,s){if(n&1&&(r(0,"mat-header-cell",46),d(1),a()),n&2){let e=p();o(),u(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function Na(n,s){if(n&1&&(r(0,"mat-cell"),d(1),S(2,"cmssiteinfo"),S(3,"async"),a()),n&2){let e=s.$implicit;o(),u(" ",_(3,3,_(2,1,e.linkSiteId))," ")}}function Oa(n,s){if(n&1&&(r(0,"mat-header-cell",46),d(1),a()),n&2){let e=p();o(),u(" ",e.fieldsInfo.linkSourceId==null?null:e.fieldsInfo.linkSourceId.fieldTitle," ")}}function Ga(n,s){if(n&1&&(r(0,"mat-cell"),d(1),a()),n&2){let e=s.$implicit;o(),u(" ",e.linkSourceId," ")}}function Pa(n,s){if(n&1&&(r(0,"mat-header-cell",46),d(1),a()),n&2){let e=p();o(),u(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function Ha(n,s){if(n&1&&v(0,"select",49),n&2){let e=p().$implicit,i=p();c("contentService",i.contentService)("row",e)("ngStyle",We(3,Ra,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function qa(n,s){if(n&1&&(r(0,"mat-cell",47),S(1,"statusCellClass"),v(2,"i",47),S(3,"statusIconClass"),I(4,Ha,1,5,"select",48),a()),n&2){let e=s.$implicit,i=p();c("ngClass",_(1,3,e.recordStatus)),o(2),c("ngClass",_(3,5,e.recordStatus)),o(2),c("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessEditRow)}}function Wa(n,s){if(n&1&&(r(0,"mat-header-cell",46),d(1),a()),n&2){let e=p();o(),u(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," ")}}function ja(n,s){if(n&1&&(r(0,"mat-cell"),d(1),a()),n&2){let e=s.$implicit;o(),u(" ",e.title," ")}}function Ua(n,s){if(n&1&&(r(0,"mat-header-cell",46),d(1),a()),n&2){let e=p();o(),u(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function Qa(n,s){if(n&1&&(r(0,"mat-cell"),d(1),S(2,"localeDate"),a()),n&2){let e=s.$implicit;o(),u(" ",_(2,1,e.createdDate)," ")}}function za(n,s){if(n&1&&(r(0,"mat-header-cell",46),d(1),a()),n&2){let e=p();o(),u(" ",e.fieldsInfo.updatedDate==null?null:e.fieldsInfo.updatedDate.fieldTitle," ")}}function Ka(n,s){if(n&1&&(r(0,"mat-cell"),d(1),S(2,"localeDate"),a()),n&2){let e=s.$implicit;o(),u(" ",_(2,1,e.updatedDate)," ")}}function Ja(n,s){n&1&&(r(0,"mat-header-cell"),d(1),S(2,"translate"),a()),n&2&&(o(),u(" ",_(2,1,"TITLE.OPTION")," "))}function Ya(n,s){if(n&1&&(r(0,"mat-cell",50)(1,"button",51)(2,"mat-icon"),d(3,"more_vert"),a()(),v(4,"mat-menu",null,2),a()),n&2){let e=D(5);o(),c("matMenuTriggerFor",e)}}function Xa(n,s){n&1&&v(0,"mat-header-row")}function Za(n,s){if(n&1){let e=b();r(0,"mat-row",52),C("click",function(t){let l=f(e).$implicit,T=p();return g(T.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=f(e).$implicit,T=p();return g(T.onActionTableRowSelect(l,t))}),a()}if(n&2){let e=s.$implicit,i=p();X("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var Bi=class Bi extends ct{constructor(e,i,t,l,T,m,Q,J,Re,xe,At){super(e,new no,xe,T,J);this.contentService=e;this.activatedRoute=i;this.cmsToastrService=t;this.router=l;this.tokenHelper=T;this.cmsStoreService=m;this.cdr=Q;this.translate=J;this.pageInfo=Re;this.publicHelper=xe;this.dialog=At;this.requestDepartemenId=0;this.requestOperatorId=0;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new K;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["id","recordStatus","LinkSourceId","createdDate","updatedDate"];this.tabledisplayedColumnsMobileSource=["id","recordStatus","LinkSourceId","createdDate","updatedDate"];this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.requestDepartemenId=+Number(this.activatedRoute.snapshot.paramMap.get("DepartemenId")),this.requestOperatorId=+Number(this.activatedRoute.snapshot.paramMap.get("OperatorId")),this.optionsSearch.parentMethods={onSubmit:ft=>this.onSubmitOptionsSearch(ft)},this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=P.Descending}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(i=>i.tokenInfoStore).subscribe(i=>Y(this,null,function*(){this.tokenInfo=i,this.DataGetAll()})));let e=new z;this.requestOperatorId>0&&(e.propertyName="LinkFromOperatorId",e.value=this.requestOperatorId,this.filteModelContent.filters.push(e)),this.requestDepartemenId>0&&(e=new z,e.propertyName="LinkFromTicketingDepartemenId",e.value=this.requestDepartemenId,e.clauseType=jt.Or,this.filteModelContent.filters.push(e),e=new z,e.propertyName="LinkToTicketingDepartemenId",e.value=this.requestDepartemenId,e.clauseType=jt.Or,this.filteModelContent.filters.push(e))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new no);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));if(this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.categoryModelSelected&&this.categoryModelSelected.id>0){let t=new z;t.propertyName="LinkFromTicketingDepartemenId",t.value=this.categoryModelSelected.id,i.filters.push(t)}this.contentService.setAccessLoad(),this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),t.isSuccess?(this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorGetAll(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=P.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=P.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=P.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionSelectorSelect(e){var i=this.filteModelContent.sortColumn,t=this.filteModelContent.sortType;this.filteModelContent=new K,this.filteModelContent.sortColumn=i,this.filteModelContent.sortType=t,this.categoryModelSelected=e,this.DataGetAll()}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.tableRowSelected=e,this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}this.router.navigate(["/application/app/edit/",this.tableRowSelected.id])}onActionButtonDeleteRow(e=this.tableRowSelected){if(e==null||!e.id||e.id===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.tableRowSelected=e,this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}this.router.navigate(["/application/app/delete/",this.tableRowSelected.id])}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(m=>{i.set(m,0)}),this.translate.get("MESSAGE.All").subscribe(m=>{i.set(m,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(m=>{this.publicHelper.processService.processStart(t,m,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:m=>{m.isSuccess&&(i.set("All",m.totalRowCount),this.optionsStatist.childMethods.setStatistValue(i)),this.publicHelper.processService.processStop(t)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(t)}});let l=JSON.parse(JSON.stringify(this.filteModelContent)),T=new z;T.propertyName="recordStatus",T.value=Ue.Available,l.filters.push(T),this.contentService.ServiceGetCount(l).subscribe({next:m=>{m.isSuccess&&(i.set("Active",m.totalRowCount),this.optionsStatist.childMethods.setStatistValue(i)),this.publicHelper.processService.processStop(t)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(t)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.requestOperatorId>0&&this.router.navigate(["/application/app/"]),this.requestDepartemenId>0&&this.router.navigate(["/ticketing/departemen/"])}};Bi.\u0275fac=function(i){return new(i||Bi)(h(hn),h(_e),h(O),h(re),h(le),h(se),h(L),h(V),h(lt),h(F),h(Ee))},Bi.\u0275cmp=x({type:Bi,selectors:[["app-application-app-list"]],standalone:!1,features:[q],decls:58,vars:29,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],[3,"optionChange"],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","linkSiteId"],["matColumnDef","LinkSourceId"],["matColumnDef","recordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","title"],["matColumnDef","createdDate"],["matColumnDef","updatedDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(i,t){if(i&1){let l=b();r(0,"app-cms-html-list",3),A("optionActionGuideNoticeDisplayChange",function(m){return f(l),E(t.viewGuideNotice,m)||(t.viewGuideNotice=m),g(m)}),C("optionOnActionButtonMemoRow",function(){return f(l),g(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return f(l),g(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return f(l),g(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return f(l),g(t.onActionButtonPrintRow())}),M(1,4),r(2,"app-ticketing-departemen-tree",5),C("optionChange",function(m){return f(l),g(t.onActionSelectorSelect(m))}),a(),k(),Le(3,6)(4,7),M(5,8),I(6,xa,2,0,"a",9),r(7,"a",10),C("click",function(){return f(l),g(t.viewGuideNotice=!t.viewGuideNotice)}),v(8,"i",11),a(),r(9,"a",10),C("click",function(){return f(l),g(t.onActionButtonReload())}),v(10,"i",12),a(),k(),M(11,13),r(12,"a",14),C("click",function(){return f(l),g(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),v(13,"mat-slide-toggle",15),d(14),S(15,"translate"),a(),r(16,"a",14),C("click",function(){return f(l),g(t.onActionButtonStatist())}),v(17,"mat-slide-toggle",15),d(18),S(19,"translate"),a(),k(),Le(20,16),M(21,17),I(22,La,7,3,"div",18),k(),M(23,19),r(24,"app-cms-search-list",20),A("optionsChange",function(m){return f(l),E(t.optionsSearch,m)||(t.optionsSearch=m),g(m)}),a(),r(25,"app-cms-statist-list",20),A("optionsChange",function(m){return f(l),E(t.optionsStatist,m)||(t.optionsStatist=m),g(m)}),a(),k(),M(26,21),r(27,"mat-table",22,0),C("matSortChange",function(){f(l);let m=D(28);return g(t.onTableSortData(m))}),M(29,23),I(30,Ba,2,1,"mat-header-cell",24)(31,Va,2,1,"mat-cell",25),k(),M(32,26),I(33,Fa,2,1,"mat-header-cell",24)(34,Na,4,5,"mat-cell",25),k(),M(35,27),I(36,Oa,2,1,"mat-header-cell",24)(37,Ga,2,1,"mat-cell",25),k(),M(38,28),I(39,Pa,2,1,"mat-header-cell",24)(40,qa,5,7,"mat-cell",29),k(),M(41,30),I(42,Wa,2,1,"mat-header-cell",24)(43,ja,2,1,"mat-cell",25),k(),M(44,31),I(45,Ua,2,1,"mat-header-cell",24)(46,Qa,3,3,"mat-cell",25),k(),M(47,32),I(48,za,2,1,"mat-header-cell",24)(49,Ka,3,3,"mat-cell",25),k(),M(50,33),I(51,Ja,3,3,"mat-header-cell",34)(52,Ya,6,1,"mat-cell",35),k(),I(53,Xa,1,0,"mat-header-row",36)(54,Za,1,2,"mat-row",37),a(),k(),M(55,38),r(56,"mat-paginator",39,1),C("page",function(m){return f(l),g(t.onTablePageingData(m))}),a(),k(),a()}i&2&&(c("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),y("optionActionGuideNoticeDisplay",t.viewGuideNotice),c("optionTreeDisplay",t.requestDepartemenId===0)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),o(6),c("ngIf",t.requestDepartemenId>0),o(4),X("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(3),c("checked",t.optionsSearch.data.show),o(),u("",_(15,24,"ACTION.SEARCH")," "),o(3),c("checked",t.optionsStatist.data.show),o(),u("",_(19,26,"ACTION.STATIST")," "),o(4),c("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),o(2),y("options",t.optionsSearch),o(),y("options",t.optionsStatist),o(2),c("dataSource",t.tableSource),o(26),c("matHeaderRowDef",t.tabledisplayedColumns),o(),c("matRowDefColumns",t.tabledisplayedColumns),o(2),c("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",qe(28,Da)))},dependencies:[Dt,B,je,Pe,He,j,Qe,ze,Ke,Je,Ye,Xe,Ze,et,ot,tt,$e,rt,it,nt,at,st,dt,mt,pt,ut,Ot,Ht,Ve,N,Ct,bt,Gt,Pt],encapsulation:2});var en=Bi;var ts=["vform"];function is(n,s){if(n&1){let e=b();r(0,"app-cms-enum-record-status-selector",19),A("modelChange",function(t){f(e);let l=p();return E(l.dataModel.recordStatus,t)||(l.dataModel.recordStatus=t),g(t)}),a()}if(n&2){let e=p();y("model",e.dataModel.recordStatus),c("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function ns(n,s){n&1&&v(0,"i",20)}function os(n,s){n&1&&v(0,"i",21)}function rs(n,s){n&1&&(r(0,"mat-error"),d(1," Question is "),r(2,"strong"),d(3),S(4,"translate"),a()()),n&2&&(o(3),w(_(4,1,"MESSAGE.required")))}function as(n,s){if(n&1){let e=b();r(0,"div",22)(1,"button",23),C("click",function(){f(e);let t=p();return g(t.onFormCancel())}),v(2,"i",24),d(3),S(4,"translate"),a(),r(5,"button",25),v(6,"i",26),d(7),S(8,"translate"),a()()}if(n&2){p();let e=D(10);o(3),u(" ",_(4,3,"ACTION.CANCEL")," "),o(2),c("disabled",!e.form.valid),o(2),u(" ",_(8,5,"ACTION.SAVE")," ")}}var Vi=class Vi extends It{constructor(e,i,t,l,T,m,Q,J){super(l,new vt,m,J);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.ticketingFaqService=l;this.cmsToastrService=T;this.publicHelper=m;this.cdr=Q;this.translate=J;this.requestParentId=0;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.formMatcher=new Xt;this.dataModelResult=new W;this.dataModel=new vt;this.dataFileModel=new Map;this.formInfo=new ne;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,e&&(this.requestParentId=+e.parentId||0),this.requestParentId>0&&(this.dataModel.linkTicketingDepartemenId=this.requestParentId),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.translate.get("TITLE.Submit_New_Content").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess()}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";if(this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.dataModel.linkFileIds="",this.dataFileModel){let i=Array.from(this.dataFileModel.keys());i&&i.length>0&&(this.dataModel.linkFileIds=i.join(","))}this.ticketingFaqService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e)}})}onActionSelectorSelect(e){if(!e||e.id<=0){this.translate.get("MESSAGE.Information_department_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkTicketingDepartemenId=e.id}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Vi.\u0275fac=function(i){return new(i||Vi)(h(he),h(ae),h(U),h(xt),h(O),h(F),h(L),h(V))},Vi.\u0275cmp=x({type:Vi,selectors:[["app-ticketing-faq-add"]],viewQuery:function(i,t){if(i&1&&Z(ts,5),i&2){let l;$(l=ee())&&(t.formGroup=l.first)}},standalone:!1,features:[q],decls:34,vars:34,consts:[["vform","ngForm"],["Question",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionChange","optionSelectForce","optionPlaceholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.question",1,"color-highlight"],["matInput","","type","text","name","dataModel.question","minlength","3","maxlength","1000","required","","id","dataModel.question",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","fa fa-times invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],[4,"ngIf"],["id","Answer","name","dataModel.answer",3,"ngModelChange","placeholder","config","ngModel"],[3,"dataFileModelChange","dataFileModel","openDirectUploadView"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let l=b();r(0,"div",2),v(1,"app-progress-spinner",3),r(2,"div",4)(3,"p",5),d(4),a(),r(5,"p"),d(6),S(7,"translate"),a(),v(8,"app-cms-form-result-message",6),r(9,"form",7,0),C("ngSubmit",function(){return f(l),g(t.onFormSubmit())}),I(11,is,1,5,"app-cms-enum-record-status-selector",8),r(12,"app-ticketing-departemen-selector",9),S(13,"translate"),C("optionChange",function(m){return f(l),g(t.onActionSelectorSelect(m))}),a(),r(14,"div",10)(15,"label",11),d(16),S(17,"translate"),a(),r(18,"input",12,1),S(20,"translate"),A("ngModelChange",function(m){return f(l),E(t.dataModel.question,m)||(t.dataModel.question=m),g(m)}),a(),I(21,ns,1,0,"i",13)(22,os,1,0,"i",14),r(23,"em"),d(24),a(),I(25,rs,5,3,"mat-error",15),a(),r(26,"p"),d(27),S(28,"translate"),a(),r(29,"angular-editor",16),S(30,"translate"),A("ngModelChange",function(m){return f(l),E(t.dataModel.answer,m)||(t.dataModel.answer=m),g(m)}),a(),v(31,"br"),r(32,"app-cms-files-selector",17),A("dataFileModelChange",function(m){return f(l),E(t.dataFileModel,m)||(t.dataFileModel=m),g(m)}),a(),I(33,as,9,7,"div",18),a()()()}if(i&2){let l=D(19);o(),c("optionsInfoAreaId",t.constructorInfoAreaId),o(3),u(" ",t.formInfo.formTitle," "),o(2),u(" ",_(7,22,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),c("formInfo",t.formInfo),o(3),c("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),o(),c("optionSelectForce",t.dataModel.linkTicketingDepartemenId)("optionPlaceholder",_(13,24,"TITLE.Department")),o(4),w(_(17,26,"TITLE.Question")),o(2),c("placeholder",R(_(20,28,"TITLE.Question"))),y("ngModel",t.dataModel.question),o(3),c("ngIf",!l.value),o(),c("ngIf",l.value),o(2),u("",l.value.length," / 100"),o(),c("ngIf",l.errors==null?null:l.errors.required),o(2),w(_(28,30,"TITLE.Answer")),o(2),c("placeholder",_(30,32,"TITLE.Enter_Text"))("config",t.publicHelper.editorConfig),y("ngModel",t.dataModel.answer),o(3),y("dataFileModel",t.dataFileModel),c("openDirectUploadView",!0),o(),c("ngIf",t.formInfo.submitButtonEnabled)}},dependencies:[B,Ie,te,ie,Te,Ce,be,Me,ge,ve,ye,j,we,H,ce,Bn,Rn,Ae,N],encapsulation:2});var jn=Vi;var ss=["vform"];function ls(n,s){if(n&1){let e=b();r(0,"app-cms-enum-record-status-selector",19),A("modelChange",function(t){f(e);let l=p();return E(l.dataModel.recordStatus,t)||(l.dataModel.recordStatus=t),g(t)}),a()}if(n&2){let e=p();y("model",e.dataModel.recordStatus),c("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function cs(n,s){n&1&&v(0,"i",20)}function ds(n,s){n&1&&v(0,"i",21)}function ms(n,s){n&1&&(r(0,"mat-error"),d(1," Question is "),r(2,"strong"),d(3),S(4,"translate"),a()()),n&2&&(o(3),w(_(4,1,"MESSAGE.required")))}function ps(n,s){if(n&1){let e=b();r(0,"div",22)(1,"button",23),C("click",function(){f(e);let t=p();return g(t.onFormCancel())}),v(2,"i",24),d(3),S(4,"translate"),a(),r(5,"button",25),v(6,"i",26),d(7),S(8,"translate"),a()()}if(n&2){p();let e=D(10);o(3),u(" ",_(4,3,"ACTION.CANCEL")," "),o(2),c("disabled",!e.form.valid),o(2),u(" ",_(8,5,"ACTION.SAVE")," ")}}var Fi=class Fi extends Nt{constructor(e,i,t,l,T,m,Q,J){super(l,new vt,m,J);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.ticketingFaqService=l;this.cmsToastrService=T;this.publicHelper=m;this.cdr=Q;this.translate=J;this.requestId=0;this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.formMatcher=new Xt;this.dataModelResult=new Tt;this.dataModel=new vt;this.dataFileModel=new Map;this.formInfo=new ne;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=+e.id||0),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),this.requestId<=0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent()}DataGetOneContent(){if(this.requestId<=0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.ticketingFaqService.setAccessLoad(),this.ticketingFaqService.setAccessDataType(_t.Editor),this.ticketingFaqService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.question,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.dataModel.linkFileIds&&this.dataModel.linkFileIds.length>0&&this.dataModel.linkFileIds.split(",").forEach((t,l)=>{let T="";this.dataModel.linkFileIdsSrc.length>=this.dataModel.linkFileIdsSrc.length&&(T=this.dataModel.linkFileIdsSrc[l]),this.dataFileModel.set(+t,T)})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";if(this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.dataModel.linkFileIds="",this.dataFileModel){let i=Array.from(this.dataFileModel.keys());i&&i.length>0&&(this.dataModel.linkFileIds=i.join(","))}this.ticketingFaqService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e)}})}onActionSelectorSelect(e){if(!e||e.id<=0){this.translate.get("MESSAGE.Information_department_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkTicketingDepartemenId=e.id}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Fi.\u0275fac=function(i){return new(i||Fi)(h(he),h(ae),h(U),h(xt),h(O),h(F),h(L),h(V))},Fi.\u0275cmp=x({type:Fi,selectors:[["app-ticketing-faq-add"]],viewQuery:function(i,t){if(i&1&&Z(ss,5),i&2){let l;$(l=ee())&&(t.formGroup=l.first)}},standalone:!1,features:[q],decls:34,vars:34,consts:[["vform","ngForm"],["Question",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionChange","optionSelectForce","optionPlaceholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.question",1,"color-highlight"],["matInput","","type","text","name","dataModel.question","minlength","3","maxlength","1000","required","","id","dataModel.question",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","fa fa-times invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],[4,"ngIf"],["id","Answer","name","dataModel.answer",3,"ngModelChange","placeholder","config","ngModel"],[3,"dataFileModelChange","dataFileModel","openDirectUploadView"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let l=b();r(0,"div",2),v(1,"app-progress-spinner",3),r(2,"div",4)(3,"p",5),d(4),a(),r(5,"p"),d(6),S(7,"translate"),a(),v(8,"app-cms-form-result-message",6),r(9,"form",7,0),C("ngSubmit",function(){return f(l),g(t.onFormSubmit())}),I(11,ls,1,5,"app-cms-enum-record-status-selector",8),r(12,"app-ticketing-departemen-selector",9),S(13,"translate"),C("optionChange",function(m){return f(l),g(t.onActionSelectorSelect(m))}),a(),r(14,"div",10)(15,"label",11),d(16),S(17,"translate"),a(),r(18,"input",12,1),S(20,"translate"),A("ngModelChange",function(m){return f(l),E(t.dataModel.question,m)||(t.dataModel.question=m),g(m)}),a(),I(21,cs,1,0,"i",13)(22,ds,1,0,"i",14),r(23,"em"),d(24),a(),I(25,ms,5,3,"mat-error",15),a(),r(26,"p"),d(27),S(28,"translate"),a(),r(29,"angular-editor",16),S(30,"translate"),A("ngModelChange",function(m){return f(l),E(t.dataModel.answer,m)||(t.dataModel.answer=m),g(m)}),a(),v(31,"br"),r(32,"app-cms-files-selector",17),A("dataFileModelChange",function(m){return f(l),E(t.dataFileModel,m)||(t.dataFileModel=m),g(m)}),a(),I(33,ps,9,7,"div",18),a()()()}if(i&2){let l=D(19);o(),c("optionsInfoAreaId",t.constructorInfoAreaId),o(3),u(" ",t.formInfo.formTitle," "),o(2),u(" ",_(7,22,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),c("formInfo",t.formInfo),o(3),c("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),o(),c("optionSelectForce",t.dataModel.linkTicketingDepartemenId)("optionPlaceholder",_(13,24,"TITLE.Department")),o(4),w(_(17,26,"TITLE.Question")),o(2),c("placeholder",R(_(20,28,"TITLE.Question"))),y("ngModel",t.dataModel.question),o(3),c("ngIf",!l.value),o(),c("ngIf",l.value),o(2),u("",l.value.length," / 100"),o(),c("ngIf",l.errors==null?null:l.errors.required),o(2),w(_(28,30,"TITLE.Answer")),o(2),c("placeholder",_(30,32,"TITLE.Enter_Text"))("config",t.publicHelper.editorConfig),y("ngModel",t.dataModel.answer),o(3),y("dataFileModel",t.dataFileModel),c("openDirectUploadView",!0),o(),c("ngIf",t.formInfo.submitButtonEnabled)}},dependencies:[B,Ie,te,ie,Te,Ce,be,Me,ge,ve,ye,j,we,H,ce,Bn,Rn,Ae,N],encapsulation:2});var Un=Fi;var us=()=>[5,10,20,100],fs=n=>({display:n});function gs(n,s){if(n&1){let e=b();r(0,"a",37),C("click",function(){f(e);let t=p();return g(t.onActionBackToParent())}),v(1,"i",38),a()}}function hs(n,s){if(n&1){let e=b();r(0,"div",39)(1,"a",40),C("click",function(){f(e);let t=p();return g(t.onActionButtonNewRow())}),v(2,"i",41)(3,"br"),a(),r(4,"p",42),d(5),S(6,"translate"),a()()}n&2&&(o(5),u(" ",_(6,1,"ACTION.ADD")," "))}function Ss(n,s){if(n&1){let e=b();r(0,"div",39)(1,"a",43),C("click",function(){f(e);let t=p();return g(t.onActionButtonEditRow(t.tableRowSelected))}),v(2,"i",44)(3,"br"),a(),r(4,"p",42),d(5),S(6,"translate"),a()()}n&2&&(o(5),u(" ",_(6,1,"ACTION.EDIT")," "))}function _s(n,s){if(n&1){let e=b();r(0,"div",39)(1,"a",45),C("click",function(){f(e);let t=p();return g(t.onActionButtonDeleteRow(t.tableRowSelected))}),v(2,"i",46)(3,"br"),a(),r(4,"p",42),d(5),S(6,"translate"),a()()}n&2&&(o(5),u(" ",_(6,1,"ACTION.DELETE")," "))}function Ts(n,s){if(n&1&&(r(0,"mat-header-cell",47),d(1),a()),n&2){let e=p();o(),u(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function vs(n,s){if(n&1&&(r(0,"mat-cell"),d(1),a()),n&2){let e=s.$implicit;o(),u(" ",e.id," ")}}function Is(n,s){if(n&1&&(r(0,"mat-header-cell",47),d(1),a()),n&2){let e=p();o(),u(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function Cs(n,s){if(n&1&&(r(0,"mat-cell"),d(1),S(2,"cmssiteinfo"),S(3,"async"),a()),n&2){let e=s.$implicit;o(),u(" ",_(3,3,_(2,1,e.linkSiteId))," ")}}function bs(n,s){if(n&1&&(r(0,"mat-header-cell",47),d(1),a()),n&2){let e=p();o(),u(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function Ms(n,s){if(n&1&&v(0,"select",50),n&2){let e=p().$implicit,i=p();c("contentService",i.contentService)("row",e)("ngStyle",We(3,fs,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function ks(n,s){if(n&1&&(r(0,"mat-cell",48),S(1,"statusCellClass"),v(2,"i",48),S(3,"statusIconClass"),I(4,Ms,1,5,"select",49),a()),n&2){let e=s.$implicit,i=p();c("ngClass",_(1,3,e.recordStatus)),o(2),c("ngClass",_(3,5,e.recordStatus)),o(2),c("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessEditRow)}}function ws(n,s){if(n&1&&(r(0,"mat-header-cell",47),d(1),a()),n&2){let e=p();o(),u(" ",e.fieldsInfo.question==null?null:e.fieldsInfo.question.fieldTitle," ")}}function ys(n,s){if(n&1&&(r(0,"mat-cell"),d(1),a()),n&2){let e=s.$implicit;o(),u(" ",e.question," ")}}function Es(n,s){n&1&&(r(0,"mat-header-cell"),d(1),S(2,"translate"),a()),n&2&&(o(),u(" ",_(2,1,"TITLE.OPTION")," "))}function As(n,s){if(n&1&&(r(0,"mat-cell",51)(1,"button",52)(2,"mat-icon"),d(3,"more_vert"),a()(),v(4,"mat-menu",null,2),a()),n&2){let e=D(5);o(),c("matMenuTriggerFor",e)}}function Ds(n,s){n&1&&v(0,"mat-header-row")}function Rs(n,s){if(n&1){let e=b();r(0,"mat-row",53),C("click",function(t){let l=f(e).$implicit,T=p();return g(T.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=f(e).$implicit,T=p();return g(T.onActionTableRowSelect(l,t))}),a()}if(n&2){let e=s.$implicit,i=p();X("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var Ni=class Ni extends ct{constructor(e,i,t,l,T,m,Q,J,Re,xe,At,ft){super(e,new vt,At,m,J);this.contentService=e;this.activatedRoute=i;this.cmsToastrService=t;this.cmsConfirmationDialogService=l;this.router=T;this.tokenHelper=m;this.cdr=Q;this.translate=J;this.pageInfo=Re;this.cmsStoreService=xe;this.publicHelper=At;this.dialog=ft;this.requestDepartemenId=0;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new K;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["id","recordStatus","Question"];this.tabledisplayedColumnsMobileSource=["id","recordStatus","Question"];this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:Yi=>this.onSubmitOptionsSearch(Yi)},this.filteModelContent.sortColumn="id",this.filteModelContent.sortType=P.Ascending}ngOnInit(){if(this.requestDepartemenId=+Number(this.activatedRoute.snapshot.paramMap.get("DepartemenId")),this.requestDepartemenId>0){let e=new z;e.propertyName="LinkTicketingDepartemenId",e.value=this.requestDepartemenId,this.filteModelContent.filters.push(e)}this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>Y(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new vt);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));if(this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.categoryModelSelected&&this.categoryModelSelected.id>0){let t=new z;t.propertyName="LinkTicketingDepartemenId",t.value=this.categoryModelSelected.id,i.filters.push(t)}this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),t.isSuccess?(this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorGetAll(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=P.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=P.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=P.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.categoryModelSelected==null&&this.categoryModelSelected&&this.categoryModelSelected.id===0&&(this.requestDepartemenId==null||this.requestDepartemenId===0)){this.translate.get("MESSAGE.Content_not_selected").subscribe(l=>{this.cmsToastrService.typeErrorSelected(l)});return}if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}let e=this.requestDepartemenId;this.categoryModelSelected&&this.categoryModelSelected.id>0&&(e=this.categoryModelSelected.id);var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(jn,{height:"90%",panelClass:i,enterAnimationDuration:G.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:G.cmsViewConfig.exitAnimationDuration,data:{parentId:e}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()})}onActionSelectorSelect(e){var i=this.filteModelContent.sortColumn,t=this.filteModelContent.sortType;this.filteModelContent=new K,this.filteModelContent.sortColumn=i,this.filteModelContent.sortType=t,this.categoryModelSelected=e,this.DataGetAll()}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.tableRowSelected=e,this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Un,{height:"90%",panelClass:i,enterAnimationDuration:G.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:G.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(e==null||!e.id||e.id===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}if(this.tableRowSelected=e,this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(l=>{i=l["MESSAGE.Please_Confirm"],t=l["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.question+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(l=>{if(l){let T=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(m=>{this.publicHelper.processService.processStart(T,m,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:m=>{m.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(T)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(T)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(m=>{i.set(m,0)}),this.translate.get("MESSAGE.All").subscribe(m=>{i.set(m,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(m=>{this.publicHelper.processService.processStart(t,m,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:m=>{m.isSuccess&&(i.set("All",m.totalRowCount),this.optionsStatist.childMethods.setStatistValue(i)),this.publicHelper.processService.processStop(t)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(t)}});let l=JSON.parse(JSON.stringify(this.filteModelContent)),T=new z;T.propertyName="recordStatus",T.value=Ue.Available,l.filters.push(T),this.contentService.ServiceGetCount(l).subscribe({next:m=>{m.isSuccess&&(i.set("Active",m.totalRowCount),this.optionsStatist.childMethods.setStatistValue(i)),this.publicHelper.processService.processStop(t)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(t)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/ticketing/departemen/"])}};Ni.\u0275fac=function(i){return new(i||Ni)(h(xt),h(_e),h(O),h(Ft),h(re),h(le),h(L),h(V),h(lt),h(se),h(F),h(Ee))},Ni.\u0275cmp=x({type:Ni,selectors:[["app-application-app-list"]],standalone:!1,features:[q],decls:51,vars:31,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],[3,"optionChange"],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","linkSiteId"],["matColumnDef","recordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","Question"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],[1,"col-4"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(i,t){if(i&1){let l=b();r(0,"app-cms-html-list",3),A("optionActionGuideNoticeDisplayChange",function(m){return f(l),E(t.viewGuideNotice,m)||(t.viewGuideNotice=m),g(m)}),C("optionOnActionButtonMemoRow",function(){return f(l),g(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return f(l),g(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return f(l),g(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return f(l),g(t.onActionButtonPrintRow())}),M(1,4),r(2,"app-ticketing-departemen-tree",5),C("optionChange",function(m){return f(l),g(t.onActionSelectorSelect(m))}),a(),k(),Le(3,6)(4,7),M(5,8),I(6,gs,2,0,"a",9),r(7,"a",10),C("click",function(){return f(l),g(t.viewGuideNotice=!t.viewGuideNotice)}),v(8,"i",11),a(),r(9,"a",10),C("click",function(){return f(l),g(t.onActionButtonReload())}),v(10,"i",12),a(),k(),M(11,13),r(12,"a",14),C("click",function(){return f(l),g(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),v(13,"mat-slide-toggle",15),d(14),S(15,"translate"),a(),r(16,"a",14),C("click",function(){return f(l),g(t.onActionButtonStatist())}),v(17,"mat-slide-toggle",15),d(18),S(19,"translate"),a(),k(),M(20,16),I(21,hs,7,3,"div",17),k(),M(22,18),I(23,Ss,7,3,"div",17)(24,_s,7,3,"div",17),k(),M(25,19),r(26,"app-cms-search-list",20),A("optionsChange",function(m){return f(l),E(t.optionsSearch,m)||(t.optionsSearch=m),g(m)}),a(),r(27,"app-cms-statist-list",20),A("optionsChange",function(m){return f(l),E(t.optionsStatist,m)||(t.optionsStatist=m),g(m)}),a(),k(),M(28,21),r(29,"mat-table",22,0),C("matSortChange",function(){f(l);let m=D(30);return g(t.onTableSortData(m))}),M(31,23),I(32,Ts,2,1,"mat-header-cell",24)(33,vs,2,1,"mat-cell",25),k(),M(34,26),I(35,Is,2,1,"mat-header-cell",24)(36,Cs,4,5,"mat-cell",25),k(),M(37,27),I(38,bs,2,1,"mat-header-cell",24)(39,ks,5,7,"mat-cell",28),k(),M(40,29),I(41,ws,2,1,"mat-header-cell",24)(42,ys,2,1,"mat-cell",25),k(),M(43,30),I(44,Es,3,3,"mat-header-cell",31)(45,As,6,1,"mat-cell",32),k(),I(46,Ds,1,0,"mat-header-row",33)(47,Rs,1,2,"mat-row",34),a(),k(),M(48,35),r(49,"mat-paginator",36,1),C("page",function(m){return f(l),g(t.onTablePageingData(m))}),a(),k(),a()}i&2&&(c("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey","ticketing.faq.list"),y("optionActionGuideNoticeDisplay",t.viewGuideNotice),c("optionTreeDisplay",t.requestDepartemenId===0)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),o(6),c("ngIf",t.requestDepartemenId>0),o(4),X("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(3),c("checked",t.optionsSearch.data.show),o(),u("",_(15,26,"ACTION.SEARCH")," "),o(3),c("checked",t.optionsStatist.data.show),o(),u("",_(19,28,"ACTION.STATIST")," "),o(3),c("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessAddRow),o(2),c("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),o(),c("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),o(2),y("options",t.optionsSearch),o(),y("options",t.optionsStatist),o(2),c("dataSource",t.tableSource),o(17),c("matHeaderRowDef",t.tabledisplayedColumns),o(),c("matRowDefColumns",t.tabledisplayedColumns),o(2),c("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",qe(30,us)))},dependencies:[Dt,B,je,Pe,He,j,Qe,ze,Ke,Je,Ye,Xe,Ze,et,ot,tt,$e,rt,it,nt,at,st,dt,mt,pt,ut,Ot,Ht,Ve,N,Ct,Gt,Pt],encapsulation:2});var tn=Ni;function xs(n,s){if(n&1&&(r(0,"div",6)(1,"button",7),v(2,"i",8),d(3),v(4,"i",9),a(),r(5,"div",10)(6,"div",11),v(7,"p",12),a()()()),n&2){let e=p().$implicit,i=p().$implicit;o(),qt("data-bs-target","#collapse"+e.id),o(2),u(" ",e.question," "),o(2),c("id",Wt("collapse",e.id)),qt("data-bs-parent","#accordion-"+i.id),o(2),c("innerHTML",e.answer,pn)}}function Ls(n,s){if(n&1&&(M(0),I(1,xs,8,6,"div",5),k()),n&2){let e=s.$implicit,i=p().$implicit;o(),c("ngIf",e.linkTicketingDepartemenId===i.id)}}function Bs(n,s){if(n&1&&(M(0),r(1,"div",2)(2,"div",3)(3,"h4"),d(4),a()(),r(5,"div",4),I(6,Ls,2,1,"ng-container",1),a()(),k()),n&2){let e=s.$implicit,i=p();o(4),w(e.title),o(),c("id",Wt("accordion-",e.id)),o(),c("ngForOf",i.dataModelResult.listItems)}}var Oi=class Oi{constructor(s,e,i,t,l,T,m,Q,J){this.ticketingFaqService=s;this.ticketingDepartemenService=e;this.publicHelper=i;this.cmsToastrService=t;this.cmsStoreService=l;this.router=T;this.cdr=m;this.translate=Q;this.tokenHelper=J;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new K;this.filterDataModelQueryBuilder=[];this.dataModelResult=new W;this.dataDepartemenModelResult=new W;this.optionsSearch=new xn;this.optionsStatist=new Ln;this.tokenInfo=new Kt;this.tableRowsSelected=[];this.tableRowSelected=new vt;this.tableSource=new Co;this.unsubscribe=[];this.DataDepartemanLinkSelect=0;this.DataFaqLinkSelect=0;this.publicHelper.processService.cdr=this.cdr,this.filteModelContent.sortColumn="id",this.filteModelContent.sortType=P.Ascending}ngOnInit(){this.DataDepartemenGetAll(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(s=>s.tokenInfoStore).subscribe(s=>Y(this,null,function*(){this.DataDepartemenGetAll(),this.tokenInfo=s,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(s=>s.unsubscribe())}DataGetAll(){this.tableRowsSelected=[],this.onActionTableRowSelect(new vt);let s=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(s,i,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let e=JSON.parse(JSON.stringify(this.filteModelContent));if(this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(e.filters=[...this.filterDataModelQueryBuilder]),this.categoryModelSelected&&this.categoryModelSelected.id>0){let i=new z;i.propertyName="LinkTicketingDepartemenId",i.value=this.categoryModelSelected.id,e.filters.push(i)}this.ticketingFaqService.ServiceGetAllOrigin(e).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),i.isSuccess?(this.dataModelResult=i,this.tableSource.data=i.listItems):this.cmsToastrService.typeErrorGetAll(i.errorMessage),this.publicHelper.processService.processStop(s)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(s)}})}DataDepartemenGetAll(){this.ticketingDepartemenService.ServiceGetAllOrigin(null).subscribe({next:s=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(s.access),s.isSuccess?this.dataDepartemenModelResult=s:this.cmsToastrService.typeErrorGetAll(s.errorMessage),Promise.resolve().then(()=>this.cdr.detectChanges())},error:s=>{this.cmsToastrService.typeError(s)}})}onTableSortData(s){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===s.active?this.tableSource.sort.start==="asc"?(s.start="desc",this.filteModelContent.sortColumn=s.active,this.filteModelContent.sortType=P.Descending):this.tableSource.sort.start==="desc"?(s.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=P.Ascending):s.start="desc":(this.filteModelContent.sortColumn=s.active,this.filteModelContent.sortType=P.Descending),this.tableSource.sort=s,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(s){this.filteModelContent.currentPageNumber=s.pageIndex+1,this.filteModelContent.rowPerPage=s.pageSize,this.DataGetAll()}onActionSelectorSelect(s){var e=this.filteModelContent.sortColumn,i=this.filteModelContent.sortType;this.filteModelContent=new K,this.filteModelContent.sortColumn=e,this.filteModelContent.sortType=i,this.categoryModelSelected=s,this.DataGetAll()}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(s){s&&s.length>0?this.filterDataModelQueryBuilder=[...s]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionTableRowSelect(s){this.tableRowSelected=s,s.expanded||(s.expanded=!1),s.expanded=!s.expanded}onActionBackToParent(){this.router.navigate(["/ticketing/departemen/"])}onActionButtonDeparteman(s){this.DataDepartemanLinkSelect=s,this.DataFaqLinkSelect=0}onActionButtonFaqTitle(s){this.DataFaqLinkSelect=s}};Oi.\u0275fac=function(e){return new(e||Oi)(h(xt),h(Fe),h(F),h(O),h(se),h(re),h(L),h(V),h(le))},Oi.\u0275cmp=x({type:Oi,selectors:[["app-ticketing-faq-originlist"]],standalone:!1,decls:2,vars:2,consts:[[3,"optionsInfoAreaId"],[4,"ngFor","ngForOf"],[1,"card","card-style"],[1,"content"],[1,"accordion",3,"id"],["class","mb-0",4,"ngIf"],[1,"mb-0"],["type","button","data-bs-toggle","collapse",1,"btn","accordion-btn","no-effect","color-theme"],[1,"fa","fa-cloud","color-yellow-dark","me-2"],[1,"fa","fa-chevron-down","font-10","accordion-icon"],[1,"collapse",3,"id"],[1,"pt-1","pb-2","ps-3","pe-3"],[3,"innerHTML"]],template:function(e,i){e&1&&(v(0,"app-progress-spinner",0),I(1,Bs,7,4,"ng-container",1)),e&2&&(c("optionsInfoAreaId",i.constructorInfoAreaId),o(),c("ngForOf",i.dataDepartemenModelResult.listItems))},dependencies:[li,B,H],encapsulation:2});var Qn=Oi;var Vs=["*"];function Fs(n,s){if(n&1&&(r(0,"label",12),d(1),a()),n&2){let e=p();c("for",Wt("app-cms-site-selector-",e.id)),o(),w(e.optionLabel)}}function Ns(n,s){if(n&1&&(r(0,"mat-option",13)(1,"span"),d(2),a()()),n&2){let e=s.$implicit,i=p();c("value",e)("disabled",i.optionDisabled),o(2),w(i.displayOption(e))}}function Os(n,s){n&1&&v(0,"i",14)}function Gs(n,s){n&1&&v(0,"i",15)}function Ps(n,s){if(n&1){let e=b();r(0,"i",16),C("click",function(){f(e);let t=p();return g(t.onActionSelectClear())}),a()}}function Hs(n,s){n&1&&(r(0,"em"),d(1),S(2,"translate"),a()),n&2&&(o(),u("(",_(2,1,"TITLE.Necessary"),")"))}var ei=class ei{constructor(s,e,i,t,l){this.coreEnumService=s;this.cdr=e;this.publicHelper=i;this.translate=t;this.categoryService=l;this.id=++ei.nextId;this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new W;this.dataModelSelect=new gt;this.formControl=new Sn;this.optionDisabled=!1;this.optionRequired=!1;this.optionSelectFirstItem=!1;this.optionPlaceholder="";this.optionLabel="";this.optionChange=new ti;this.optionReload=()=>this.onActionButtonReload();this.optionItemCount=new ti;this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(s){this.onActionSelectForce(s)}ngOnInit(){this.loadOptions(),(!this.optionLabel||this.optionLabel.length==0&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder)}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(cn(""),sn(1500),ln(),dn(s=>typeof s=="string"||typeof s=="number"?this.DataGetAll(s||""):[]))}displayFn(s){return s?s.title:void 0}displayOption(s){return s?s.title:void 0}DataGetAll(s){return Y(this,null,function*(){let e=new K;e.rowPerPage=20,e.accessLoad=!0;let i=new z;i.propertyName="title",i.value=s,i.searchType=ci.Contains,i.clauseType=jt.Or,e.filters.push(i),s&&typeof+s=="number"&&+s>0&&(i=new z,i.propertyName="id",i.value=s,i.searchType=ci.Equal,i.clauseType=jt.Or,e.filters.push(i));let t=this.constructor.name+"main";return this.translate.get("MESSAGE.Receiving_information").subscribe(l=>{this.publicHelper.processService.processStart(t,l,this.constructorInfoAreaId)}),yield rn(this.categoryService.ServiceGetAll(e)).then(l=>(this.dataModelResult=l,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||this.dataModelSelect.id<=0)&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0])},1e3),this.onActionSelect(this.dataModelResult.listItems[0])),this.publicHelper.processService.processStop(t),l.listItems?.length>0?this.optionItemCount.emit(l.listItems?.length):this.optionItemCount.emit(0),l.listItems))})}onActionSelect(s){this.dataModelSelect=s,this.optionChange.emit(this.dataModelSelect)}onActionSelectClear(){this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null)}push(s){return this.filteredOptions.pipe(an(e=>(e.find(i=>i.id===s.id)||e.push(s),e)))}onActionSelectForce(s){if(typeof s=="number"&&s>0){if(this.dataModelSelect&&this.dataModelSelect.id===s)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(e=>e.id===s)){let e=this.dataModelResult.listItems.find(i=>i.id===s);this.dataModelSelect=e,this.formControl.setValue(e);return}this.categoryService.ServiceGetOneById(s).subscribe({next:e=>{e.isSuccess&&(this.filteredOptions=this.push(e.item),this.dataModelSelect=e.item,this.formControl.setValue(e.item),this.optionChange.emit(e.item))}});return}if(typeof s==typeof gt){this.filteredOptions=this.push(s),this.dataModelSelect=s,this.formControl.setValue(s);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new gt,this.loadOptions()}};ei.nextId=0,ei.\u0275fac=function(e){return new(e||ei)(h(U),h(L),h(F),h(V),h(Lt))},ei.\u0275cmp=x({type:ei,selectors:[["app-ticketing-template-selector"]],inputs:{optionDisabled:"optionDisabled",optionRequired:"optionRequired",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionLabel:"optionLabel",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange",optionItemCount:"optionItemCount"},standalone:!1,ngContentSelectors:Vs,decls:15,vars:24,consts:[["matauto","matAutocomplete"],[1,"input-style","has-borders","has-icon","input-style-always-active","validate-field","mb-4","loader-container"],[3,"optionsInfoAreaId"],["class","color-highlight",3,"for",4,"ngIf"],["type","text","aria-label","Assignee","matInput","",3,"placeholder","formControl","matAutocomplete","required","id"],[3,"optionSelected","displayWith"],[3,"value","disabled",4,"ngFor","ngForOf"],["class","fa fa-info invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],["class","fa fa-times action color-red-dark",3,"click",4,"ngIf"],[1,"fa","fa-rotate-right","action","color-green-dark",2,"margin-left","20px",3,"click","title"],[4,"ngIf"],[1,"color-highlight",3,"for"],[3,"value","disabled"],[1,"fa","fa-info","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"fa","fa-times","action","color-red-dark",3,"click"]],template:function(e,i){if(e&1){let t=b();fn(),r(0,"div",1),v(1,"app-progress-spinner",2),I(2,Fs,2,3,"label",3),v(3,"input",4),r(4,"mat-autocomplete",5,0),C("optionSelected",function(T){return f(t),g(i.onActionSelect(T.option.value))}),I(6,Ns,3,3,"mat-option",6),S(7,"async"),a(),I(8,Os,1,0,"i",7)(9,Gs,1,0,"i",8)(10,Ps,1,0,"i",9),r(11,"i",10),S(12,"translate"),C("click",function(){return f(t),g(i.onActionButtonReload())}),a(),I(13,Hs,3,3,"em",11),gn(14),a()}if(e&2){let t=D(5);o(),c("optionsInfoAreaId",i.constructorInfoAreaId),o(),c("ngIf",(i.optionLabel==null?null:i.optionLabel.length)>0),o(),c("placeholder",R(i.optionPlaceholder))("id",Wt("app-cms-site-selector-",i.id))("formControl",i.formControl)("matAutocomplete",t)("required",i.optionRequired),qt("disabled",i.optionDisabled?!0:null),o(),c("displayWith",i.displayFn),o(2),c("ngForOf",_(7,20,i.filteredOptions)),o(2),c("ngIf",!i.formControl.valid),o(),c("ngIf",i.optionRequired&&i.formControl.valid),o(),c("ngIf",(i.dataModelSelect==null?null:i.dataModelSelect.id)>0),o(),X("rotation360",i.publicHelper.processService.process.inRunArea[i.constructorInfoAreaId]),c("title",R(_(12,22,"ACTION.RELOAD"))),o(2),c("ngIf",i.optionRequired&&(!i.dataModelSelect||!i.dataModelSelect.id||i.dataModelSelect.id<=0))}},dependencies:[li,B,te,ie,Ce,_n,In,Tn,Cn,j,H,Ve,N],encapsulation:2});var zn=ei;var Ws=["vform"];function js(n,s){n&1&&(r(0,"mat-error"),d(1),S(2,"translate"),r(3,"strong"),d(4),S(5,"translate"),a()()),n&2&&(o(),u(" ",_(2,2,"AUTH.INPUT.FULLNAME")," "),o(3),w(_(5,4,"MESSAGE.required")))}function Us(n,s){n&1&&(r(0,"mat-error"),d(1),S(2,"translate"),r(3,"strong"),d(4),S(5,"translate"),a()()),n&2&&(o(),u(" ",_(2,2,"AUTH.INPUT.MOBILE")," "),o(3),w(_(5,4,"MESSAGE.required")))}function Qs(n,s){n&1&&(r(0,"mat-error"),d(1),S(2,"translate"),r(3,"strong"),d(4),S(5,"translate"),a()()),n&2&&(o(),u(" ",_(2,2,"AUTH.INPUT.EMAIL")," "),o(3),w(_(5,4,"MESSAGE.required")))}function zs(n,s){if(n&1){let e=b();r(0,"div",37)(1,"label"),d(2),S(3,"translate"),a(),r(4,"app-ticketing-template-selector",46),C("optionItemCount",function(){f(e);let t=p(2);return g(t.templateItemCount)})("optionChange",function(t){f(e);let l=p(2);return g(l.onActionSelectorSelect(t))}),a()()}n&2&&(o(2),w(_(3,1,"TITLE.Categories")))}function Ks(n,s){n&1&&(r(0,"mat-error"),d(1),S(2,"translate"),r(3,"strong"),d(4),S(5,"translate"),a()()),n&2&&(o(),u(" ",_(2,2,"AUTH.INPUT.YOURMEESAGE")," "),o(3),w(_(5,4,"MESSAGE.required")))}function Js(n,s){if(n&1){let e=b();r(0,"div",8),v(1,"app-cms-form-result-message",29),r(2,"form",30,0),C("ngSubmit",function(){f(e);let t=p();return g(t.onFormSubmit())}),r(4,"fieldset")(5,"div",31)(6,"label",32),d(7),S(8,"translate"),r(9,"span"),d(10),S(11,"translate"),a()(),r(12,"input",33,1),S(14,"translate"),A("ngModelChange",function(t){f(e);let l=p();return E(l.dataModel.fullName,t)||(l.dataModel.fullName=t),g(t)}),a(),I(15,js,6,6,"mat-error",34),a(),r(16,"div",31)(17,"label",35),d(18),S(19,"translate"),r(20,"span"),d(21),S(22,"translate"),a()(),r(23,"input",36,2),S(25,"translate"),A("ngModelChange",function(t){f(e);let l=p();return E(l.dataModel.phoneNo,t)||(l.dataModel.phoneNo=t),g(t)}),a(),I(26,Us,6,6,"mat-error",34),a(),r(27,"div",37)(28,"label",38),d(29),S(30,"translate"),r(31,"span"),d(32),S(33,"translate"),a()(),r(34,"input",39,3),S(36,"translate"),A("ngModelChange",function(t){f(e);let l=p();return E(l.dataModel.email,t)||(l.dataModel.email=t),g(t)}),a(),I(37,Qs,6,6,"mat-error",34),a(),I(38,zs,5,3,"div",40),r(39,"div",41)(40,"label",42),d(41),S(42,"translate"),r(43,"span"),d(44),S(45,"translate"),a()(),r(46,"textarea",43,4),A("ngModelChange",function(t){f(e);let l=p();return E(l.dataModel.htmlBody,t)||(l.dataModel.htmlBody=t),g(t)}),a(),I(48,Ks,6,6,"mat-error",34),a(),r(49,"div",44),v(50,"input",45),S(51,"translate"),a()()()()}if(n&2){let e=D(13),i=D(24),t=D(35),l=D(47),T=p();o(),c("formInfo",T.formInfo),o(6),u("",_(8,26,"AUTH.INPUT.FULLNAME"),":"),o(3),u("( ",_(11,28,"TITLE.Necessary")," )"),o(2),c("placeholder",R(_(14,30,"TITLE.Enter_your_first_and_last_name"))),y("ngModel",T.dataModel.fullName),o(3),c("ngIf",e.errors==null?null:e.errors.required),o(3),u("",_(19,32,"AUTH.INPUT.MOBILE"),":"),o(3),u("( ",_(22,34,"TITLE.Necessary")," )"),o(2),c("placeholder",R(_(25,36,"TITLE.Enter_your_first_and_last_name"))),y("ngModel",T.dataModel.phoneNo),o(3),c("ngIf",i.errors==null?null:i.errors.required),o(3),u("",_(30,38,"AUTH.INPUT.EMAIL"),":"),o(3),u("( ",_(33,40,"TITLE.Necessary")," )"),o(2),c("placeholder",R(_(36,42,"TITLE.Enter_email"))),y("ngModel",T.dataModel.email),o(3),c("ngIf",t.errors==null?null:t.errors.required),o(),c("ngIf",T.templateItemCount>0),o(3),u("",_(42,44,"AUTH.INPUT.YOURMEESAGE"),":"),o(3),u("( ",_(45,46,"TITLE.Necessary")," )"),o(2),y("ngModel",T.dataModel.htmlBody),o(2),c("ngIf",l.errors==null?null:l.errors.required),o(2),c("value",R(_(51,48,"ACTION.SEND")))}}function Ys(n,s){if(n&1&&(r(0,"div",47)(1,"div",11)(2,"div",12)(3,"h1",13),v(4,"i",14),a(),r(5,"h2",15),d(6),S(7,"translate"),a(),r(8,"p",16),d(9),S(10,"translate"),a(),r(11,"p",15),d(12),S(13,"translate"),a(),v(14,"div",48),a()()()),n&2){let e=p();o(6),u(" ",_(7,5,"TITLE.Your_message_has_been_registered_in_the_system")," "),o(3),u(" ",_(10,7,"TITLE.Note_the_tracking_code_for_further_tracking")," "),o(3),ao(" ",_(13,9,"TITLE.Tracking_Code")," : ",e.dataModelResult.item.id," "),o(2),c("innerHTML",e.dataModelResult.item==null||e.dataModelResult.item.virtual_Departemen==null?null:e.dataModelResult.item.virtual_Departemen.DefaultAnswerBody,pn)}}var Gi=class Gi extends It{constructor(e,i,t,l,T,m,Q,J,Re,xe,At){super(Q,new Ne,T,xe);this.tokenHelper=e;this.cmsStoreService=i;this.activatedRoute=t;this.coreAuthService=l;this.publicHelper=T;this.coreEnumService=m;this.ticketingTaskService=Q;this.cmsToastrService=J;this.router=Re;this.translate=xe;this.cdr=At;this.requestLinkDepartemenId=0;this.constructorInfoAreaId=this.constructor.name;this.unsubscribe=[];this.fieldsInfo=new Map;this.formInfo=new ne;this.dataModel=new ho;this.dataModelResult=new W;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.fileManagerOpenForm=!1;this.appLanguage="fa";this.templateItemCount=0;this.mapOptonCenter=new Vt;this.captchaModel=new co;this.countAutoCaptchaOrder=1;this.enumFormSubmitedStatus=Bt;this.onCaptchaOrderInProcess=!1;this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&(this.dataModel.fullName=this.tokenInfo.user.lastName,this.dataModel.email=this.tokenInfo.user.email,this.dataModel.phoneNo=this.tokenInfo.user.mobile),this.unsubscribe.push(this.cmsStoreService.getState(ft=>ft.tokenInfoStore).subscribe(ft=>Y(this,null,function*(){this.tokenInfo=ft,this.dataModel.fullName=this.tokenInfo.user.lastName,this.dataModel.email=this.tokenInfo.user.email,this.dataModel.phoneNo=this.tokenInfo.user.mobile})))}ngOnInit(){this.requestLinkDepartemenId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkDepartemenId")),this.onCaptchaOrder(),this.dataModel.linkTicketingDepartemenId=this.requestLinkDepartemenId,this.DataGetAccess()}onFormSubmit(){if(!this.formGroup.valid){this.cmsToastrService.typeErrorFormInvalid();return}this.DataAddContent()}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataAddContent(){this.formInfo.submitButtonEnabled=!1,this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.dataModel.captchaKey=this.captchaModel.key,this.ticketingTaskService.ServiceContactUS(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!i.isSuccess,this.dataModelResult=i,i.isSuccess?(this.formInfo.submitResultMessageType=1,this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.cmsToastrService.typeSuccessAdd()):(this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorAdd(i.errorMessage)),this.publicHelper.processService.processStop(e),this.cdr.markForCheck()},error:i=>{this.publicHelper.processService.processStop(e),this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeErrorAdd(i),this.cdr.markForCheck()}})}onActionSelectorSelect(e){if(!e||e.id<=0){this.translate.get("MESSAGE.Information_template_is_not_clear").subscribe(i=>{this.cmsToastrService.typeWarningSelected(i)});return}this.dataModel.htmlBody=e.htmlBody}onActionBackToParent(){this.router.navigate(["/application/app/"])}onActionSelectSource(e){if(!e||e.id<=0){this.translate.get(["MESSAGE.Specify_the_source","MESSAGE.The_source_of_the_information_application_is_not_known"]).subscribe(i=>{this.cmsToastrService.typeErrorMessage(i["MESSAGE.Specify_the_source"],i["MESSAGE.The_source_of_the_information_application_is_not_known"])});return}this.dataModel.linkTicketingDepartemenId=e.id}onCaptchaOrder(){this.onCaptchaOrderInProcess||(this.countAutoCaptchaOrder=this.countAutoCaptchaOrder+1,this.dataModel.captchaText="",this.coreAuthService.ServiceCaptcha().subscribe({next:e=>{if(e.isSuccess){this.captchaModel=e.item,this.expireDate=e.item.expire;let i=new Date,l=new Date(e.item.expire).getTime()-i.getTime();this.countAutoCaptchaOrder<10&&(this.countAutoCaptchaOrder=this.countAutoCaptchaOrder+1,setTimeout(()=>{this.onCaptchaOrder()},l))}else this.cmsToastrService.typeErrorGetCpatcha(e.errorMessage);this.onCaptchaOrderInProcess=!1},error:e=>{this.onCaptchaOrderInProcess=!1}}))}};Gi.\u0275fac=function(i){return new(i||Gi)(h(le),h(se),h(_e),h(po),h(F),h(U),h(Oe),h(O),h(re),h(V),h(L))},Gi.\u0275cmp=x({type:Gi,selectors:[["app-ticketing-task-contactus"]],viewQuery:function(i,t){if(i&1&&Z(Ws,5),i&2){let l;$(l=ee())&&(t.formGroup=l.first)}},standalone:!1,features:[q],decls:39,vars:21,consts:[["vform","ngForm"],["FullName",""],["phoneNo",""],["Email",""],["HtmlBody",""],[1,"page-content","pb-3"],[1,"card","card-full","rounded-m","pb-4"],[1,"drag-line"],[1,"content"],[1,"font-600","mb-0","color-highlight"],[1,"form-sent","disabled"],[1,"card","card-style"],[1,"shadow-l","rounded-m","gradient-green","ms-n1","mb-0"],[1,"color-white","text-center","pt-4"],[1,"fa","fa-check-circle","fa-3x","shadow-s","scale-box","rounded-circle"],[1,"color-white","bold","text-center","pt-3"],[1,"color-white","pb-4","text-center","mt-n2","mb-0"],[1,"content","text-center"],[1,"boxed-text-xl"],["href","#",1,"icon","icon-xl","shadow-xl","rounded-xl","bg-facebook"],[1,"fab","fa-facebook-f"],["href","#",1,"icon","icon-xl","shadow-xl","rounded-xl","bg-instagram","ms-3","me-3"],[1,"fab","fa-instagram"],["href","#",1,"icon","icon-xl","shadow-xl","rounded-xl","bg-twitter"],[1,"fab","fa-twitter"],[3,"optionsInfoAreaId"],[1,"card","contact-form"],["class","content",4,"ngIf"],["class","form-sent",4,"ngIf"],[3,"formInfo"],[3,"ngSubmit"],[1,"form-field","form-name"],["for","contactNameField",1,"contactNameField","color-theme"],["type","text","name","dataModel.fullName","id","contactNameField","required","",1,"round-small",2,"text-align","center !important",3,"ngModelChange","ngModel","placeholder"],[4,"ngIf"],["for","contactPhoneField",1,"contactNameField","color-theme"],["type","text","name","dataModel.phoneNo","id","contactPhoneField","required","",1,"round-small","input-ltr-center",3,"ngModelChange","ngModel","placeholder"],[1,"form-field","form-email"],["for","contactEmailField",1,"contactEmailField","color-theme"],["type","email","cmsKeyboardForce","en","name","dataModel.email","id","contactEmailField",1,"round-small","input-ltr-center",3,"ngModelChange","ngModel","placeholder"],["class","form-field form-email",4,"ngIf"],[1,"form-field","form-text"],["for","contactMessageTextarea",1,"contactMessageTextarea","color-theme"],["name","dataModel.htmlBody","id","contactMessageTextarea","rows","3","required","",1,"round-small",3,"ngModelChange","ngModel"],[1,"form-button"],["type","submit","data-formId","contactForm",1,"btn","bg-highlight","font-700","btn-m","btn-full","rounded-sm","shadow-xl","contactSubmitButton",3,"value"],[3,"optionItemCount","optionChange"],[1,"form-sent"],[3,"innerHTML"]],template:function(i,t){i&1&&(r(0,"div",5)(1,"div",6),v(2,"div",7),r(3,"div",8)(4,"p",9),d(5),S(6,"translate"),a(),r(7,"p"),d(8),S(9,"translate"),a()(),r(10,"div",10)(11,"div",11)(12,"div",12)(13,"h1",13),v(14,"i",14),a(),r(15,"h2",15),d(16),S(17,"translate"),a(),r(18,"p",16),d(19),S(20,"translate"),a()()(),r(21,"div",11)(22,"div",17)(23,"h2"),d(24),S(25,"translate"),a(),r(26,"p",18),d(27),S(28,"translate"),a(),r(29,"a",19),v(30,"i",20),a(),r(31,"a",21),v(32,"i",22),a(),r(33,"a",23),v(34,"i",24),a()()()(),v(35,"app-progress-spinner",25),r(36,"div",26),I(37,Js,52,50,"div",27),a(),I(38,Ys,15,11,"div",28),a()()),i&2&&(o(5),u(" ",_(6,9,"TITLE.Send_us_your_questions")," "),o(3),u(" ",_(9,11,"TITLE.GetInTouchWithUs")," "),o(8),u(" ",_(17,13,"TITLE.MESSAGE_SENT")," "),o(3),u(" ",_(20,15,"TITLE.WE_WILL_CONTACT_YOU_SOON")," "),o(5),w(_(25,17,"TITLE.LETS_BE_SOCIAL")),o(3),u(" ",_(28,19,"TITLE.SOCIAL_MEDIA_PLATFORMS")," "),o(8),c("optionsInfoAreaId",t.constructorInfoAreaId),o(2),c("ngIf",(t.formInfo==null?null:t.formInfo.submitResultMessageType)!==t.enumFormSubmitedStatus.Success),o(),c("ngIf",(t.formInfo==null?null:t.formInfo.submitResultMessageType)===t.enumFormSubmitedStatus.Success))},dependencies:[B,Ie,te,ie,Te,Ce,ge,ve,ye,H,ce,di,zn,N],encapsulation:2});var Kn=Gi;var Xs=["vform"];function Zs(n,s){if(n&1){let e=b();r(0,"div",17)(1,"button",18),C("click",function(){f(e);let t=p(2);return g(t.onFormCancel())}),v(2,"i",19),d(3),S(4,"translate"),a()()}n&2&&(o(3),u(" ",_(4,1,"ACTION.CANCEL")," "))}function $s(n,s){if(n&1&&(M(0),r(1,"div",9)(2,"table",10)(3,"thead",11)(4,"tr"),v(5,"th")(6,"th"),a()(),r(7,"tbody")(8,"tr")(9,"td"),d(10),a(),r(11,"td"),d(12),a()(),r(13,"tr")(14,"td"),d(15),a(),r(16,"td"),d(17),a()(),r(18,"tr")(19,"td"),d(20),a(),r(21,"td"),d(22),S(23,"enums"),a()(),r(24,"tr")(25,"td"),d(26),a(),r(27,"td"),d(28),a()(),r(29,"tr")(30,"td"),d(31),S(32,"translate"),a(),r(33,"td"),d(34),a()(),r(35,"tr")(36,"td"),d(37),a(),r(38,"td"),d(39),a()(),r(40,"tr")(41,"td"),d(42),a(),r(43,"td"),d(44),a()(),r(45,"tr")(46,"td"),d(47),a(),r(48,"td"),d(49),S(50,"localeDate"),a()(),r(51,"tr")(52,"td"),d(53),a(),r(54,"td"),d(55),S(56,"localeDate"),a()(),r(57,"tr")(58,"td"),d(59),a(),r(60,"td"),d(61),a()(),r(62,"tr")(63,"td"),d(64),a(),r(65,"td"),d(66),a()(),r(67,"tr")(68,"td"),d(69),a(),r(70,"td"),d(71),a()(),r(72,"tr")(73,"td"),d(74),a(),r(75,"td"),d(76),a()(),r(77,"tr")(78,"td"),d(79),a(),r(80,"td"),d(81),a()()()(),v(82,"hr"),a(),v(83,"div",12),r(84,"div",13),v(85,"app-cms-form-result-message",14),a(),r(86,"div",15),I(87,Zs,5,3,"div",16),a(),k()),n&2){let e=p();o(10),w(e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle),o(2),w(e.dataModel.id),o(3),w(e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle),o(2),w(e.dataModel.linkSiteId),o(3),w(e.fieldsInfo.ticketStatus==null?null:e.fieldsInfo.ticketStatus.fieldTitle),o(2),u(" ",si(23,30,e.dataModel.ticketStatus,e.dataModelEnumTicketStatusResult.listItems)," "),o(4),w(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),o(2),w(e.dataModel.title),o(3),w(_(32,33,"TITLE.Message_Text")),o(3),w(e.dataModel.htmlBody),o(3),w(e.fieldsInfo.fullName==null?null:e.fieldsInfo.fullName.fieldTitle),o(2),w(e.dataModel.fullName),o(3),w(e.fieldsInfo.phoneNo==null?null:e.fieldsInfo.phoneNo.fieldTitle),o(2),w(e.dataModel.phoneNo),o(3),w(e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle),o(2),w(_(50,35,e.dataModel.createdDate)),o(4),w(e.fieldsInfo.updatedDate==null?null:e.fieldsInfo.updatedDate.fieldTitle),o(2),w(_(56,37,e.dataModel.updatedDate)),o(4),w(e.fieldsInfo.email==null?null:e.fieldsInfo.email.fieldTitle),o(2),w(e.dataModel.email),o(3),w(e.fieldsInfo.linkCmsUserId==null?null:e.fieldsInfo.linkCmsUserId.fieldTitle),o(2),w(e.dataModel.linkCmsUserId),o(3),w(e.fieldsInfo.linkMemberId==null?null:e.fieldsInfo.linkMemberId.fieldTitle),o(2),w(e.dataModel.linkMemberId),o(3),u(" ",e.fieldsInfo.linkTicketingDepartemenId==null?null:e.fieldsInfo.linkTicketingDepartemenId.fieldTitle," "),o(2),w(e.dataModel.linkTicketingDepartemenId),o(3),u(" ",e.fieldsInfo.ticketingDepartemenDefaultAnswerBody==null?null:e.fieldsInfo.ticketingDepartemenDefaultAnswerBody.fieldTitle," "),o(2),w(e.dataModel.ticketingDepartemenDefaultAnswerBody),o(4),c("formInfo",e.formInfo),o(2),c("ngIf",e.formInfo.submitButtonEnabled&&!e.publicHelper.processService.process.inRunAll)}}var Pi=class Pi{constructor(s,e,i,t,l,T,m,Q,J,Re,xe){this.data=s;this.dialogRef=e;this.coreEnumService=i;this.ticketingTaskService=t;this.cmsToastrService=l;this.tokenHelper=T;this.cmsStoreService=m;this.cdr=Q;this.ticketingEnumService=J;this.publicHelper=Re;this.translate=xe;this.requestId=0;this.constructorInfoAreaId=this.constructor.name;this.tokenInfo=new Kt;this.dataModelResult=new W;this.dataModel=new Ne;this.formInfo=new ne;this.dataModelEnumTicketStatusResult=new W;this.fieldsInfo=new Map;this.dataTaskReadedResult=new Tt;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,s&&(this.requestId=+s.id||0)}ngOnInit(){if(this.translate.get("TITLE.VIEW").subscribe(s=>{this.formInfo.formTitle=s}),this.requestId===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(s=>s.tokenInfoStore).subscribe(s=>Y(this,null,function*(){this.tokenInfo=s}))),this.getEnumTicketStatus()}getEnumTicketStatus(){this.ticketingEnumService.ServiceTicketStatusEnum().subscribe({next:s=>{this.dataModelEnumTicketStatusResult=s}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(s=>s.unsubscribe())}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage="";let s=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(s,e,this.constructorInfoAreaId)}),this.ticketingTaskService.setAccessLoad(),this.ticketingTaskService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModel=e.item,e.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+e.item.title+" ( "+e.item.id+" ) ",this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.dataTaskReaded(this.requestId)):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(e.errorMessage)),this.publicHelper.processService.processStop(s)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(s,!1)}})}dataTaskReaded(s){this.ticketingTaskService.ServiceTaskReaded(s).subscribe({next:e=>{e.isSuccess&&(this.dataTaskReadedResult=e)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Pi.\u0275fac=function(e){return new(e||Pi)(h(he),h(ae),h(U),h(Oe),h(O),h(le),h(se),h(L),h(Jt),h(F),h(V))},Pi.\u0275cmp=x({type:Pi,selectors:[["app-ticketing-task-view"]],viewQuery:function(e,i){if(e&1&&Z(Xs,5),e&2){let t;$(t=ee())&&(i.formGroup=t.first)}},standalone:!1,decls:12,vars:4,consts:[[1,"card","card-style","loader-container",2,"height","100vh","overflow-y","auto"],[3,"optionsInfoAreaId"],[1,"menu-title"],[1,"color-highlight"],[1,"close-menu",3,"click"],[1,"fa","fa-times-circle"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[4,"ngIf"],[1,"ntk-cms-html-card-header"],[1,"table","table-striped","center"],[2,"background-color","#81d4fa"],["dir","rtl",1,"ntk-cms-html-card-body","ntk-allow-text-selection"],[1,"ntk-cms-html-card-message"],[3,"formInfo"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,i){e&1&&(r(0,"div",0),v(1,"app-progress-spinner",1),r(2,"div",2)(3,"p",3),d(4),a(),r(5,"a",4),C("click",function(){return i.onFormCancel()}),v(6,"i",5),a(),v(7,"hr"),a(),r(8,"div",6)(9,"p",7),d(10),a(),I(11,$s,88,39,"ng-container",8),a()()),e&2&&(o(),c("optionsInfoAreaId",i.constructorInfoAreaId),o(3),w(i.formInfo.formTitle),o(6),u(" ",i.formInfo.formDescription," "),o(),c("ngIf",!i.publicHelper.processService.process.inRunAll))},dependencies:[B,So,H,ce,N,mi,bt],encapsulation:2});var Hi=Pi;var el=()=>[5,10,20,100],tl=n=>({display:n});function il(n,s){if(n&1){let e=b();r(0,"a",38),C("click",function(){f(e);let t=p();return g(t.onActionBackToParent())}),v(1,"i",39),a()}}function nl(n,s){if(n&1){let e=b();r(0,"div",40)(1,"a",41),C("click",function(){f(e);let t=p();return g(t.onActionButtonNewRow())}),v(2,"i",42)(3,"br"),a(),r(4,"p",43),d(5),S(6,"translate"),a()()}n&2&&(o(5),u(" ",_(6,1,"ACTION.ADD")," "))}function ol(n,s){if(n&1){let e=b();r(0,"div",40)(1,"a",9),C("click",function(){f(e);let t=p();return g(t.onActionButtonAnswerList())}),v(2,"i",44)(3,"br"),a(),r(4,"p",43),d(5),S(6,"translate"),a()()}n&2&&(o(5),u(" ",_(6,1,"ACTION.ANSWERS")," "))}function rl(n,s){if(n&1){let e=b();r(0,"div",40)(1,"a",45),C("click",function(){f(e);let t=p();return g(t.onActionButtonAnswerList(t.tableRowSelected))}),v(2,"i",44),a(),r(3,"p",43),d(4),S(5,"translate"),a()()}n&2&&(o(4),u(" ",_(5,1,"ACTION.ANSWERS")," "))}function al(n,s){if(n&1){let e=b();r(0,"div",40)(1,"a",46),C("click",function(){f(e);let t=p();return g(t.onActionButtonViewRow(t.tableRowSelected))}),v(2,"i",47),a(),r(3,"p",43),d(4),S(5,"translate"),a()()}n&2&&(o(4),u(" ",_(5,1,"ACTION.VIEW")," "))}function sl(n,s){if(n&1&&(r(0,"mat-header-cell",48),d(1),a()),n&2){let e=p();o(),u(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function ll(n,s){if(n&1&&(r(0,"mat-cell"),d(1),a()),n&2){let e=s.$implicit;o(),u(" ",e.id," ")}}function cl(n,s){if(n&1&&(r(0,"mat-header-cell",48),d(1),a()),n&2){let e=p();o(),u(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function dl(n,s){if(n&1&&(r(0,"mat-cell"),d(1),S(2,"cmssiteinfo"),S(3,"async"),a()),n&2){let e=s.$implicit;o(),u(" ",_(3,3,_(2,1,e.linkSiteId))," ")}}function ml(n,s){if(n&1&&(r(0,"mat-header-cell",48),d(1),a()),n&2){let e=p();o(),u(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function pl(n,s){if(n&1&&v(0,"select",51),n&2){let e=p().$implicit,i=p();c("contentService",i.contentService)("row",e)("ngStyle",We(3,tl,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function ul(n,s){if(n&1&&(r(0,"mat-cell",49),S(1,"statusCellClass"),v(2,"i",49),S(3,"statusIconClass"),I(4,pl,1,5,"select",50),a()),n&2){let e=s.$implicit,i=p();c("ngClass",_(1,3,e.recordStatus)),o(2),c("ngClass",_(3,5,e.recordStatus)),o(2),c("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessEditRow)}}function fl(n,s){if(n&1&&(r(0,"mat-header-cell",48),d(1),a()),n&2){let e=p();o(),u(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," ")}}function gl(n,s){if(n&1&&(r(0,"mat-cell"),d(1),a()),n&2){let e=s.$implicit;o(),u(" ",e.title," ")}}function hl(n,s){if(n&1&&(r(0,"mat-header-cell",48),d(1),a()),n&2){let e=p();o(),u(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function Sl(n,s){if(n&1&&(r(0,"mat-cell"),d(1),S(2,"localeDate"),a()),n&2){let e=s.$implicit;o(),u(" ",_(2,1,e.createdDate)," ")}}function _l(n,s){if(n&1&&(r(0,"mat-header-cell",48),d(1),a()),n&2){let e=p();o(),u(" ",e.fieldsInfo.updatedDate==null?null:e.fieldsInfo.updatedDate.fieldTitle," ")}}function Tl(n,s){if(n&1&&(r(0,"mat-cell"),d(1),S(2,"localeDate"),a()),n&2){let e=s.$implicit;o(),u(" ",_(2,1,e.updatedDate)," ")}}function vl(n,s){n&1&&(r(0,"mat-header-cell"),d(1),S(2,"translate"),a()),n&2&&(o(),u(" ",_(2,1,"TITLE.OPTION")," "))}function Il(n,s){if(n&1&&(r(0,"mat-cell",52)(1,"button",53)(2,"mat-icon"),d(3,"more_vert"),a()(),v(4,"mat-menu",null,2),a()),n&2){let e=D(5);o(),c("matMenuTriggerFor",e)}}function Cl(n,s){n&1&&v(0,"mat-header-row")}function bl(n,s){if(n&1){let e=b();r(0,"mat-row",54),C("click",function(t){let l=f(e).$implicit,T=p();return g(T.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=f(e).$implicit,T=p();return g(T.onActionTableRowSelect(l,t))}),a()}if(n&2){let e=s.$implicit,i=p();X("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var qi=class qi extends ct{constructor(e,i,t,l,T,m,Q,J,Re,xe,At){super(e,new Ne,xe,T,Q);this.contentService=e;this.activatedRoute=i;this.cmsToastrService=t;this.router=l;this.tokenHelper=T;this.cdr=m;this.translate=Q;this.pageInfo=J;this.cmsStoreService=Re;this.publicHelper=xe;this.dialog=At;this.requestDepartemenId=0;this.requestLinkCmsUserId=0;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new K;this.filterDataModelQueryBuilder=[];this.optionsSearch=new xn;this.optionsStatist=new Ln;this.tokenInfo=new Kt;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["id","recordStatus","createdDate","updatedDate"];this.tabledisplayedColumnsMobileSource=["id","recordStatus","createdDate","updatedDate"];this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:ft=>this.onSubmitOptionsSearch(ft)},this.filteModelContent.sortColumn="id",this.filteModelContent.sortType=P.Descending}ngOnInit(){this.requestDepartemenId=+Number(this.activatedRoute.snapshot.paramMap.get("DepartemenId")),this.requestLinkCmsUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkCmsUserId")),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>Y(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Ne);let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(l=>{this.publicHelper.processService.processStart(e,l,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]);let t=new z;this.requestDepartemenId>0&&(t.propertyName="LinkTicketingDepartemenId",t.value=this.requestDepartemenId,i.filters.push(t)),this.categoryModelSelected&&this.categoryModelSelected.id>0&&(t.propertyName="LinkTicketingDepartemenId",t.value=this.categoryModelSelected.id,i.filters.push(t)),this.requestLinkCmsUserId>0&&(t.propertyName="LinkCmsUserId",t.value=this.requestLinkCmsUserId,i.filters.push(t)),this.contentService.ServiceGetAllEditor(i).subscribe({next:l=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(l.access),l.isSuccess?(this.dataModelResult=l,this.tableSource.data=l.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(l.access)},1e3)):this.cmsToastrService.typeErrorGetAll(l.errorMessage),this.publicHelper.processService.processStop(e)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(e)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=P.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=P.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=P.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(){this.router.navigate(["/ticketing/contactus/"])}onActionSelectorSelect(e){var i=this.filteModelContent.sortColumn,t=this.filteModelContent.sortType;this.filteModelContent=new K,this.filteModelContent.sortColumn=i,this.filteModelContent.sortType=t,this.categoryModelSelected=e,this.DataGetAll()}onActionButtonViewRow(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.cmsToastrService.typeErrorSelectedRow();return}this.tableRowSelected=e;var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Hi,{height:"90%",panelClass:i,enterAnimationDuration:G.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:G.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate})}onActionButtonAnswerList(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.tableRowSelected=e,this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}this.router.navigate(["/ticketing/answer/LinkTaskId/",this.tableRowSelected.id])}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(m=>{i.set(m,0)}),this.translate.get("MESSAGE.All").subscribe(m=>{i.set(m,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(m=>{this.publicHelper.processService.processStart(t,m,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:m=>{m.isSuccess&&(i.set("All",m.totalRowCount),this.optionsStatist.childMethods.setStatistValue(i)),this.publicHelper.processService.processStop(t)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(t)}});let l=JSON.parse(JSON.stringify(this.filteModelContent)),T=new z;T.propertyName="recordStatus",T.value=Ue.Available,l.filters.push(T),this.contentService.ServiceGetCount(l).subscribe({next:m=>{m.isSuccess&&(i.set("Active",m.totalRowCount),this.optionsStatist.childMethods.setStatistValue(i)),this.publicHelper.processService.processStop(t)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(t)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/ticketing/departemen/"])}};qi.\u0275fac=function(i){return new(i||qi)(h(Oe),h(_e),h(O),h(re),h(le),h(L),h(V),h(lt),h(se),h(F),h(Ee))},qi.\u0275cmp=x({type:qi,selectors:[["app-ticketing-task-contact-us-list"]],standalone:!1,features:[q],decls:57,vars:32,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","linkSiteId"],["matColumnDef","recordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","title"],["matColumnDef","createdDate"],["matColumnDef","updatedDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],[1,"col-4"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-phone-arrow-right","font-18",2,"color","#ffffff"],["mat-menu-item","","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],["type","button","target","_blank","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-m","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(i,t){if(i&1){let l=b();r(0,"app-cms-html-list",3),A("optionActionGuideNoticeDisplayChange",function(m){return f(l),E(t.viewGuideNotice,m)||(t.viewGuideNotice=m),g(m)}),C("optionOnActionButtonMemoRow",function(){return f(l),g(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return f(l),g(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return f(l),g(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return f(l),g(t.onActionButtonPrintRow())}),Le(1,4)(2,5)(3,6),M(4,7),I(5,il,2,0,"a",8),r(6,"a",9),C("click",function(){return f(l),g(t.viewGuideNotice=!t.viewGuideNotice)}),v(7,"i",10),a(),r(8,"a",9),C("click",function(){return f(l),g(t.onActionButtonReload())}),v(9,"i",11),a(),k(),M(10,12),r(11,"a",13),C("click",function(){return f(l),g(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),v(12,"mat-slide-toggle",14),d(13),S(14,"translate"),a(),r(15,"a",13),C("click",function(){return f(l),g(t.onActionButtonStatist())}),v(16,"mat-slide-toggle",14),d(17),S(18,"translate"),a(),k(),M(19,15),I(20,nl,7,3,"div",16)(21,ol,7,3,"div",16),k(),M(22,17),I(23,rl,6,3,"div",16)(24,al,6,3,"div",16),k(),M(25,18),r(26,"app-cms-search-list",19),A("optionsChange",function(m){return f(l),E(t.optionsSearch,m)||(t.optionsSearch=m),g(m)}),a(),r(27,"app-cms-statist-list",19),A("optionsChange",function(m){return f(l),E(t.optionsStatist,m)||(t.optionsStatist=m),g(m)}),a(),k(),M(28,20),r(29,"mat-table",21,0),C("matSortChange",function(){f(l);let m=D(30);return g(t.onTableSortData(m))}),M(31,22),I(32,sl,2,1,"mat-header-cell",23)(33,ll,2,1,"mat-cell",24),k(),M(34,25),I(35,cl,2,1,"mat-header-cell",23)(36,dl,4,5,"mat-cell",24),k(),M(37,26),I(38,ml,2,1,"mat-header-cell",23)(39,ul,5,7,"mat-cell",27),k(),M(40,28),I(41,fl,2,1,"mat-header-cell",23)(42,gl,2,1,"mat-cell",24),k(),M(43,29),I(44,hl,2,1,"mat-header-cell",23)(45,Sl,3,3,"mat-cell",24),k(),M(46,30),I(47,_l,2,1,"mat-header-cell",23)(48,Tl,3,3,"mat-cell",24),k(),M(49,31),I(50,vl,3,3,"mat-header-cell",32)(51,Il,6,1,"mat-cell",33),k(),I(52,Cl,1,0,"mat-header-row",34)(53,bl,1,2,"mat-row",35),a(),k(),M(54,36),r(55,"mat-paginator",37,1),C("page",function(m){return f(l),g(t.onTablePageingData(m))}),a(),k(),a()}i&2&&(c("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey","ticketing.task.contactus-list"),y("optionActionGuideNoticeDisplay",t.viewGuideNotice),c("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",(t.tableRowSelected==null||t.tableRowSelected.title==null?null:t.tableRowSelected.title.length)>0?t.tableRowSelected==null?null:t.tableRowSelected.title:t.tableRowSelected==null?null:t.tableRowSelected.id),o(5),c("ngIf",t.requestDepartemenId>0),o(4),X("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(3),c("checked",t.optionsSearch.data.show),o(),u("",_(14,27,"ACTION.SEARCH")," "),o(3),c("checked",t.optionsStatist.data.show),o(),u("",_(18,29,"ACTION.STATIST")," "),o(3),c("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessAddRow),o(),c("ngIf",(t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessWatchRow)&&(t.tableRowSelected==null?null:t.tableRowSelected.id)>0),o(2),c("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessWatchRow),o(),c("ngIf",(t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessWatchRow)&&(t.tableRowSelected==null?null:t.tableRowSelected.id)>0),o(2),y("options",t.optionsSearch),o(),y("options",t.optionsStatist),o(2),c("dataSource",t.tableSource),o(23),c("matHeaderRowDef",t.tabledisplayedColumns),o(),c("matRowDefColumns",t.tabledisplayedColumns),o(2),c("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",qe(31,el)))},dependencies:[Dt,B,je,Pe,He,j,Qe,Io,ze,Ke,Je,Ye,Xe,Ze,et,ot,tt,$e,rt,it,nt,at,st,dt,mt,pt,ut,Ot,Ve,N,Ct,bt,Gt,Pt],encapsulation:2});var nn=qi;var wl=["vform"];function yl(n,s){if(n&1){let e=b();r(0,"app-cms-enum-record-status-selector",24),A("modelChange",function(t){f(e);let l=p();return E(l.dataModel.recordStatus,t)||(l.dataModel.recordStatus=t),g(t)}),a()}if(n&2){let e=p();y("model",e.dataModel.recordStatus),c("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function El(n,s){n&1&&v(0,"i",31)}function Al(n,s){n&1&&v(0,"i",32)}function Dl(n,s){if(n&1&&(r(0,"mat-error"),d(1),r(2,"strong"),d(3),S(4,"translate"),a()()),n&2){let e=p(2);o(),u(" ",e.fieldsInfo.fullName==null?null:e.fieldsInfo.fullName.fieldTitle," is "),o(2),w(_(4,2,"MESSAGE.required"))}}function Rl(n,s){if(n&1){let e=b();r(0,"div",25)(1,"label",26),d(2),a(),r(3,"input",27,2),A("ngModelChange",function(t){f(e);let l=p();return E(l.dataModel.fullName,t)||(l.dataModel.fullName=t),g(t)}),a(),I(5,El,1,0,"i",28)(6,Al,1,0,"i",29),r(7,"em"),d(8),a(),I(9,Dl,5,4,"mat-error",30),a()}if(n&2){let e=D(4),i=p();o(2),w(i.fieldsInfo.fullName==null?null:i.fieldsInfo.fullName.fieldTitle),o(),c("placeholder",R(i.fieldsInfo.fullName==null?null:i.fieldsInfo.fullName.fieldTitle)),y("ngModel",i.dataModel.fullName),c("disabled",!(i.fieldsInfo.fullName!=null&&i.fieldsInfo.fullName.accessAddField)),o(2),c("ngIf",!e.value),o(),c("ngIf",e.value),o(2),u("",e.value.length," / 100"),o(),c("ngIf",e.errors==null?null:e.errors.required)}}function xl(n,s){n&1&&v(0,"i",31)}function Ll(n,s){n&1&&v(0,"i",32)}function Bl(n,s){if(n&1&&(r(0,"mat-error"),d(1),r(2,"strong"),d(3),S(4,"translate"),a()()),n&2){let e=p(2);o(),u(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," is "),o(2),w(_(4,2,"MESSAGE.required"))}}function Vl(n,s){if(n&1){let e=b();r(0,"div",25)(1,"label",33),d(2),a(),r(3,"input",34,3),A("ngModelChange",function(t){f(e);let l=p();return E(l.dataModel.title,t)||(l.dataModel.title=t),g(t)}),a(),I(5,xl,1,0,"i",28)(6,Ll,1,0,"i",29),r(7,"em"),d(8),a(),I(9,Bl,5,4,"mat-error",30),a()}if(n&2){let e=D(4),i=p();o(2),w(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(),c("placeholder",R(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle)),y("ngModel",i.dataModel.title),c("disabled",!(i.fieldsInfo.title!=null&&i.fieldsInfo.title.accessAddField)),o(2),c("ngIf",!e.value),o(),c("ngIf",e.value),o(2),u("",e.value.length," / 100"),o(),c("ngIf",e.errors==null?null:e.errors.required)}}function Fl(n,s){n&1&&v(0,"i",31)}function Nl(n,s){n&1&&v(0,"i",32)}function Ol(n,s){if(n&1&&(r(0,"mat-error"),d(1),r(2,"strong"),d(3),S(4,"translate"),a()()),n&2){let e=p(2);o(),u(" ",e.fieldsInfo.phoneNo==null?null:e.fieldsInfo.phoneNo.fieldTitle," is "),o(2),w(_(4,2,"MESSAGE.required"))}}function Gl(n,s){if(n&1){let e=b();r(0,"div",25)(1,"label",35),d(2),a(),r(3,"input",36,4),A("ngModelChange",function(t){f(e);let l=p();return E(l.dataModel.phoneNo,t)||(l.dataModel.phoneNo=t),g(t)}),a(),I(5,Fl,1,0,"i",28)(6,Nl,1,0,"i",29),r(7,"em"),d(8),a(),I(9,Ol,5,4,"mat-error",30),a()}if(n&2){let e=D(4),i=p();o(2),w(i.fieldsInfo.phoneNo==null?null:i.fieldsInfo.phoneNo.fieldTitle),o(),c("placeholder",R(i.fieldsInfo.phoneNo==null?null:i.fieldsInfo.phoneNo.fieldTitle)),y("ngModel",i.dataModel.phoneNo),c("disabled",!(i.fieldsInfo.phoneNo!=null&&i.fieldsInfo.phoneNo.accessAddField)),o(2),c("ngIf",!e.value),o(),c("ngIf",e.value),o(2),u("",e.value.length," / 100"),o(),c("ngIf",e.errors==null?null:e.errors.required)}}function Pl(n,s){n&1&&v(0,"i",31)}function Hl(n,s){n&1&&v(0,"i",32)}function ql(n,s){if(n&1&&(r(0,"mat-error"),d(1),r(2,"strong"),d(3),S(4,"translate"),a()()),n&2){let e=p(2);o(),u(" ",e.fieldsInfo.email==null?null:e.fieldsInfo.email.fieldTitle," is "),o(2),w(_(4,2,"MESSAGE.required"))}}function Wl(n,s){if(n&1){let e=b();r(0,"div",25)(1,"label",37),d(2),a(),r(3,"input",38,5),A("ngModelChange",function(t){f(e);let l=p();return E(l.dataModel.email,t)||(l.dataModel.email=t),g(t)}),a(),I(5,Pl,1,0,"i",28)(6,Hl,1,0,"i",29),r(7,"em"),d(8),a(),I(9,ql,5,4,"mat-error",30),a()}if(n&2){let e=D(4),i=p();o(2),w(i.fieldsInfo.email==null?null:i.fieldsInfo.email.fieldTitle),o(),c("placeholder",R(i.fieldsInfo.email==null?null:i.fieldsInfo.email.fieldTitle)),y("ngModel",i.dataModel.email),c("disabled",!(i.fieldsInfo.email!=null&&i.fieldsInfo.email.accessAddField)),o(2),c("ngIf",!e.value),o(),c("ngIf",e.value),o(2),u("",e.value.length," / 100"),o(),c("ngIf",e.errors==null?null:e.errors.required)}}function jl(n,s){if(n&1){let e=b();r(0,"div",25)(1,"label",39),d(2),S(3,"translate"),a(),r(4,"textarea",40,6),S(6,"translate"),A("ngModelChange",function(t){f(e);let l=p();return E(l.dataModel.htmlBody,t)||(l.dataModel.htmlBody=t),g(t)}),d(7,"            "),a(),r(8,"em"),d(9),a()()}if(n&2){let e=D(5),i=p();o(2),w(_(3,6,"TITLE.Description")),o(2),c("placeholder",R(_(6,8,"TITLE.Answer_Text"))),y("ngModel",i.dataModel.htmlBody),c("disabled",!(i.fieldsInfo.htmlBody!=null&&i.fieldsInfo.htmlBody.accessAddField)),o(5),u("",e.value.length," / 1000")}}function Ul(n,s){if(n&1){let e=b();r(0,"div",41)(1,"label",42),d(2),a(),r(3,"input",43),A("ngModelChange",function(t){f(e);let l=p();return E(l.dataModel.expireDate,t)||(l.dataModel.expireDate=t),g(t)}),a(),v(4,"mat-datepicker-toggle",44)(5,"mat-datepicker",45,7),a()}if(n&2){let e=D(6),i=p();o(2),w(i.fieldsInfo.expireDate==null?null:i.fieldsInfo.expireDate.fieldTitle),o(),c("matDatepicker",e),y("ngModel",i.dataModel.expireDate),o(),c("for",e)}}function Ql(n,s){if(n&1){let e=b();r(0,"div",46)(1,"button",47),C("click",function(){f(e);let t=p();return g(t.onActionBackToParent())}),d(2),S(3,"translate"),a(),r(4,"button",48),d(5),S(6,"translate"),a()()}if(n&2){p();let e=D(10);o(2),u(" ",_(3,3,"ACTION.BACK")," "),o(2),c("disabled",!e.form.valid),o(),u(" ",_(6,5,"ACTION.NEXT")," ")}}function zl(n,s){if(n&1){let e=b();r(0,"div",25)(1,"label",49),d(2),a(),r(3,"input",50,8),A("ngModelChange",function(t){f(e);let l=p();return E(l.dataModel.userIpAddress,t)||(l.dataModel.userIpAddress=t),g(t)}),a(),r(5,"em"),d(6),a()()}if(n&2){let e=D(4),i=p();o(2),w(i.fieldsInfo.userIpAddress==null?null:i.fieldsInfo.userIpAddress.fieldTitle),o(),c("placeholder",R(i.fieldsInfo.userIpAddress==null?null:i.fieldsInfo.userIpAddress.fieldTitle)),y("ngModel",i.dataModel.userIpAddress),c("disabled",!(i.fieldsInfo.userIpAddress!=null&&i.fieldsInfo.userIpAddress.accessAddField)),o(3),u("",e.value.length," / 100")}}function Kl(n,s){if(n&1){let e=b();r(0,"div",25)(1,"label",51),d(2),a(),r(3,"input",52,9),A("ngModelChange",function(t){f(e);let l=p();return E(l.dataModel.deviceInformation,t)||(l.dataModel.deviceInformation=t),g(t)}),a(),r(5,"em"),d(6),a()()}if(n&2){let e=D(4),i=p();o(2),w(i.fieldsInfo.userIpAddress==null?null:i.fieldsInfo.userIpAddress.fieldTitle),o(),c("placeholder",R(i.fieldsInfo.deviceInformation==null?null:i.fieldsInfo.deviceInformation.fieldTitle)),y("ngModel",i.dataModel.deviceInformation),c("disabled",!(i.fieldsInfo.deviceInformation!=null&&i.fieldsInfo.deviceInformation.accessAddField)),o(3),u("",e.value.length," / 100")}}function Jl(n,s){if(n&1&&(r(0,"div",46)(1,"button",53),d(2),S(3,"translate"),a(),r(4,"button",54),d(5),S(6,"translate"),a()()),n&2){p();let e=D(10);o(2),u(" ",_(3,3,"ACTION.BEFOR")," "),o(2),c("disabled",!e.form.valid),o(),u(" ",_(6,5,"ACTION.SAVE")," ")}}var Wi=class Wi extends It{constructor(e,i,t,l,T,m,Q,J,Re){super(l,new Ne,i,Re);this.activatedRoute=e;this.publicHelper=i;this.coreEnumService=t;this.ticketingTaskService=l;this.cmsToastrService=T;this.dialogRef=m;this.router=Q;this.cdr=J;this.translate=Re;this.requestLinkDepartemenId=0;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.formInfo=new ne;this.dataModel=new Ne;this.dataModelResult=new W;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.fileManagerOpenForm=!1;this.appLanguage="fa";this.mapOptonCenter=new Vt;this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.requestLinkDepartemenId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkDepartemenId")),this.dataModel.linkTicketingDepartemenId=this.requestLinkDepartemenId,this.DataGetAccess()}onFormSubmit(){if(!this.formGroup.valid){this.cmsToastrService.typeErrorFormInvalid();return}this.DataAddContent()}DataAddContent(){this.formInfo.submitButtonEnabled=!1,this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.ticketingTaskService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!i.isSuccess,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.cmsToastrService.typeSuccessEdit(),setTimeout(()=>this.router.navigate(["/ticketing/task/"]),1e3)):this.cmsToastrService.typeErrorEdit(i.errorMessage),this.publicHelper.processService.processStop(e)},error:i=>{this.publicHelper.processService.processStop(e),this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeErrorEdit(i)}})}onStepClick(e,i){e.previouslySelectedIndex<e.selectedIndex}onActionBackToParent(){this.dialogRef.close({dialogChangedDate:!1})}onActionFileSelectedLinkMainImageId(){}onActionSelectSource(e){if(!e||e.id<=0){this.translate.get(["MESSAGE.Specify_the_source","MESSAGE.The_source_of_the_information_application_is_not_known"]).subscribe(i=>{this.cmsToastrService.typeErrorMessage(i["MESSAGE.Specify_the_source"],i["MESSAGE.The_source_of_the_information_application_is_not_known"])});return}this.dataModel.linkTicketingDepartemenId=e.id}};Wi.\u0275fac=function(i){return new(i||Wi)(h(_e),h(F),h(U),h(Oe),h(O),h(ae),h(re),h(L),h(V))},Wi.\u0275cmp=x({type:Wi,selectors:[["app-ticketing-task-add"]],viewQuery:function(i,t){if(i&1&&Z(wl,5),i&2){let l;$(l=ee())&&(t.formGroup=l.first)}},standalone:!1,features:[q],decls:33,vars:33,consts:[["vform","ngForm"],["stepper",""],["FullName",""],["Title",""],["PhoneNo",""],["Email",""],["HtmlBody",""],["ExpireDate",""],["UserIpAddress",""],["DeviceInformation",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"selectionChange"],["state","main",3,"label"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionChange","optionSelectForce","optionPlaceholder","optionDisabled"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4 cms-input-group",4,"ngIf"],["class","form-actions",4,"ngIf"],["state","seo",3,"label"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.fullName",1,"color-highlight"],["matInput","","type","text","name","dataModel.fullName","minlength","3","maxlength","1000","required","","id","dataModel.fullName",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["class","fa fa-times invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],[4,"ngIf"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.phoneNo",1,"color-highlight"],["matInput","","type","text","name","dataModel.phoneNo","type","text","minlength","3","maxlength","100","required","","id","dataModel.phoneNo",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.email",1,"color-highlight"],["matInput","","type","text","cmsKeyboardForce","en","name","dataModel.email","type","text","minlength","3","maxlength","100","required","","id","dataModel.email",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.htmlBody",1,"color-highlight"],["matInput","","name","dataModel.htmlBody","type","text","minlength","0","maxlength","1000","rows","5","id","dataModel.htmlBody",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],["for","dataModel.expireDate",1,"color-highlight"],["matInput","","type","text","name","dataModel.expireDate","type","text","id","dataModel.expireDate",1,"form-control","validate-name",3,"ngModelChange","matDatepicker","ngModel"],["matSuffix","",3,"for"],["touchUi",""],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],["type","button","matStepperNext","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue",3,"disabled"],["for","dataModel.userIpAddress",1,"color-highlight"],["matInput","","type","text","name","dataModel.userIpAddress","type","text","minlength","0","maxlength","100","id","dataModel.userIpAddress",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.deviceInformation",1,"color-highlight"],["matInput","","type","text","name","dataModel.deviceInformation","type","text","minlength","0","maxlength","100","id","dataModel.deviceInformation",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["type","button","matStepperPrevious","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"]],template:function(i,t){if(i&1){let l=b();r(0,"div",10),v(1,"app-progress-spinner",11),r(2,"div",12)(3,"p",13),d(4),a(),r(5,"p"),d(6),S(7,"translate"),a(),v(8,"app-cms-form-result-message",14),r(9,"form",15,0),C("ngSubmit",function(){return f(l),g(t.onFormSubmit())}),r(11,"mat-horizontal-stepper",16,1),C("selectionChange",function(m){f(l);let Q=D(12);return g(t.onStepClick(m,Q))}),r(13,"mat-step",17),S(14,"translate"),I(15,yl,1,5,"app-cms-enum-record-status-selector",18),r(16,"app-ticketing-departemen-selector",19),S(17,"translate"),C("optionChange",function(m){return f(l),g(t.onActionSelectSource(m))}),a(),I(18,Rl,10,9,"div",20)(19,Vl,10,9,"div",20)(20,Gl,10,9,"div",20)(21,Wl,10,9,"div",20)(22,jl,10,10,"div",20)(23,Ul,7,4,"div",21)(24,Ql,7,7,"div",22),a(),r(25,"mat-step",23),S(26,"translate"),r(27,"p"),d(28),S(29,"translate"),a(),I(30,zl,7,6,"div",20)(31,Kl,7,6,"div",20)(32,Jl,7,7,"div",22),a()()()()()}i&2&&(o(),c("optionsInfoAreaId",t.constructorInfoAreaId),o(3),u(" ",t.formInfo.formTitle," "),o(2),u(" ",_(7,23,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),c("formInfo",t.formInfo),o(5),c("label",R(_(14,25,"TITLE.REQUIRED_INFORMATION"))),o(2),c("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),o(),c("optionSelectForce",t.dataModel.linkTicketingDepartemenId)("optionPlaceholder",_(17,27,"TITLE.Department"))("optionDisabled",!(t.fieldsInfo.linkTicketingDepartemenId!=null&&t.fieldsInfo.linkTicketingDepartemenId.accessAddField)),o(2),c("ngIf",t.fieldsInfo.fullName==null?null:t.fieldsInfo.fullName.accessWatchField),o(),c("ngIf",t.fieldsInfo.title==null?null:t.fieldsInfo.title.accessWatchField),o(),c("ngIf",t.fieldsInfo.phoneNo==null?null:t.fieldsInfo.phoneNo.accessWatchField),o(),c("ngIf",t.fieldsInfo.email==null?null:t.fieldsInfo.email.accessWatchField),o(),c("ngIf",t.fieldsInfo.htmlBody==null?null:t.fieldsInfo.htmlBody.accessWatchField),o(),c("ngIf",t.fieldsInfo.expireDate==null?null:t.fieldsInfo.expireDate.accessWatchField),o(),c("ngIf",t.formInfo.submitButtonEnabled),o(),c("label",R(_(26,29,"TITLE.REST_OF_THE_INFORMATION"))),o(3),w(_(29,31,"TITLE.Rest_of_Information")),o(2),c("ngIf",t.fieldsInfo.userIpAddress==null?null:t.fieldsInfo.userIpAddress.accessWatchField),o(),c("ngIf",t.fieldsInfo.deviceInformation==null?null:t.fieldsInfo.deviceInformation.accessWatchField),o(),c("ngIf",t.formInfo.submitButtonEnabled))},dependencies:[B,Ie,te,ie,Te,Ce,be,Me,ge,ve,bn,Mn,kn,ye,vn,j,wn,yn,En,An,we,H,ce,di,Ae,N],encapsulation:2});var Jn=Wi;var Yl=["vform"];function Xl(n,s){if(n&1){let e=b();r(0,"app-cms-enum-record-status-selector",24),A("modelChange",function(t){f(e);let l=p();return E(l.dataModel.recordStatus,t)||(l.dataModel.recordStatus=t),g(t)}),a()}if(n&2){let e=p();y("model",e.dataModel.recordStatus),c("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Zl(n,s){n&1&&v(0,"i",31)}function $l(n,s){n&1&&v(0,"i",32)}function ec(n,s){if(n&1&&(r(0,"mat-error"),d(1),r(2,"strong"),d(3),S(4,"translate"),a()()),n&2){let e=p(2);o(),u(" ",e.fieldsInfo.fullName==null?null:e.fieldsInfo.fullName.fieldTitle," is "),o(2),w(_(4,2,"MESSAGE.required"))}}function tc(n,s){if(n&1){let e=b();r(0,"div",25)(1,"label",26),d(2),a(),r(3,"input",27,2),A("ngModelChange",function(t){f(e);let l=p();return E(l.dataModel.fullName,t)||(l.dataModel.fullName=t),g(t)}),a(),I(5,Zl,1,0,"i",28)(6,$l,1,0,"i",29),r(7,"em"),d(8),a(),I(9,ec,5,4,"mat-error",30),a()}if(n&2){let e=D(4),i=p();o(2),w(i.fieldsInfo.fullName==null?null:i.fieldsInfo.fullName.fieldTitle),o(),c("placeholder",R(i.fieldsInfo.fullName==null?null:i.fieldsInfo.fullName.fieldTitle)),y("ngModel",i.dataModel.fullName),c("disabled",!(i.fieldsInfo.fullName!=null&&i.fieldsInfo.fullName.accessEditField)),o(2),c("ngIf",!e.value),o(),c("ngIf",e.value),o(2),u("",e.value.length," / 100"),o(),c("ngIf",e.errors==null?null:e.errors.required)}}function ic(n,s){n&1&&v(0,"i",31)}function nc(n,s){n&1&&v(0,"i",32)}function oc(n,s){if(n&1&&(r(0,"mat-error"),d(1),r(2,"strong"),d(3),S(4,"translate"),a()()),n&2){let e=p(2);o(),u(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," is "),o(2),w(_(4,2,"MESSAGE.required"))}}function rc(n,s){if(n&1){let e=b();r(0,"div",25)(1,"label",33),d(2),a(),r(3,"input",34,3),A("ngModelChange",function(t){f(e);let l=p();return E(l.dataModel.title,t)||(l.dataModel.title=t),g(t)}),a(),I(5,ic,1,0,"i",28)(6,nc,1,0,"i",29),r(7,"em"),d(8),a(),I(9,oc,5,4,"mat-error",30),a()}if(n&2){let e=D(4),i=p();o(2),w(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(),c("placeholder",R(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle)),y("ngModel",i.dataModel.title),c("disabled",!(i.fieldsInfo.title!=null&&i.fieldsInfo.title.accessEditField)),o(2),c("ngIf",!e.value),o(),c("ngIf",e.value),o(2),u("",e.value.length," / 100"),o(),c("ngIf",e.errors==null?null:e.errors.required)}}function ac(n,s){n&1&&v(0,"i",31)}function sc(n,s){n&1&&v(0,"i",32)}function lc(n,s){if(n&1&&(r(0,"mat-error"),d(1),r(2,"strong"),d(3),S(4,"translate"),a()()),n&2){let e=p(2);o(),u(" ",e.fieldsInfo.phoneNo==null?null:e.fieldsInfo.phoneNo.fieldTitle," is "),o(2),w(_(4,2,"MESSAGE.required"))}}function cc(n,s){if(n&1){let e=b();r(0,"div",25)(1,"label",35),d(2),a(),r(3,"input",36,4),A("ngModelChange",function(t){f(e);let l=p();return E(l.dataModel.phoneNo,t)||(l.dataModel.phoneNo=t),g(t)}),a(),I(5,ac,1,0,"i",28)(6,sc,1,0,"i",29),r(7,"em"),d(8),a(),I(9,lc,5,4,"mat-error",30),a()}if(n&2){let e=D(4),i=p();o(2),w(i.fieldsInfo.phoneNo==null?null:i.fieldsInfo.phoneNo.fieldTitle),o(),c("placeholder",R(i.fieldsInfo.phoneNo==null?null:i.fieldsInfo.phoneNo.fieldTitle)),y("ngModel",i.dataModel.phoneNo),c("disabled",!(i.fieldsInfo.phoneNo!=null&&i.fieldsInfo.phoneNo.accessEditField)),o(2),c("ngIf",!e.value),o(),c("ngIf",e.value),o(2),u("",e.value.length," / 100"),o(),c("ngIf",e.errors==null?null:e.errors.required)}}function dc(n,s){n&1&&v(0,"i",31)}function mc(n,s){n&1&&v(0,"i",32)}function pc(n,s){if(n&1&&(r(0,"mat-error"),d(1),r(2,"strong"),d(3),S(4,"translate"),a()()),n&2){let e=p(2);o(),u(" ",e.fieldsInfo.email==null?null:e.fieldsInfo.email.fieldTitle," is "),o(2),w(_(4,2,"MESSAGE.required"))}}function uc(n,s){if(n&1){let e=b();r(0,"div",25)(1,"label",37),d(2),a(),r(3,"input",38,5),A("ngModelChange",function(t){f(e);let l=p();return E(l.dataModel.email,t)||(l.dataModel.email=t),g(t)}),a(),I(5,dc,1,0,"i",28)(6,mc,1,0,"i",29),r(7,"em"),d(8),a(),I(9,pc,5,4,"mat-error",30),a()}if(n&2){let e=D(4),i=p();o(2),w(i.fieldsInfo.email==null?null:i.fieldsInfo.email.fieldTitle),o(),c("placeholder",R(i.fieldsInfo.email==null?null:i.fieldsInfo.email.fieldTitle)),y("ngModel",i.dataModel.email),c("disabled",!(i.fieldsInfo.email!=null&&i.fieldsInfo.email.accessEditField)),o(2),c("ngIf",!e.value),o(),c("ngIf",e.value),o(2),u("",e.value.length," / 100"),o(),c("ngIf",e.errors==null?null:e.errors.required)}}function fc(n,s){if(n&1){let e=b();r(0,"div",25)(1,"label",39),d(2),S(3,"translate"),a(),r(4,"textarea",40,6),S(6,"translate"),A("ngModelChange",function(t){f(e);let l=p();return E(l.dataModel.htmlBody,t)||(l.dataModel.htmlBody=t),g(t)}),d(7,"            "),a(),r(8,"em"),d(9),a()()}if(n&2){let e=D(5),i=p();o(2),w(_(3,6,"TITLE.Description")),o(2),c("placeholder",R(_(6,8,"TITLE.Description"))),y("ngModel",i.dataModel.htmlBody),c("disabled",!(i.fieldsInfo.htmlBody!=null&&i.fieldsInfo.htmlBody.accessEditField)),o(5),u("",e.value.length," / 1000")}}function gc(n,s){if(n&1){let e=b();r(0,"div",41)(1,"label",42),d(2),a(),r(3,"input",43),A("ngModelChange",function(t){f(e);let l=p();return E(l.dataModel.expireDate,t)||(l.dataModel.expireDate=t),g(t)}),a(),v(4,"mat-datepicker-toggle",44)(5,"mat-datepicker",45,7),a()}if(n&2){let e=D(6),i=p();o(2),w(i.fieldsInfo.expireDate==null?null:i.fieldsInfo.expireDate.fieldTitle),o(),c("matDatepicker",e),y("ngModel",i.dataModel.expireDate),o(),c("for",e)}}function hc(n,s){if(n&1){let e=b();r(0,"div",46)(1,"button",47),C("click",function(){f(e);let t=p();return g(t.onActionBackToParent())}),d(2),S(3,"translate"),a(),r(4,"button",48),d(5),S(6,"translate"),a()()}if(n&2){p();let e=D(10);o(2),u(" ",_(3,3,"ACTION.BACK")," "),o(2),c("disabled",!e.form.valid),o(),u(" ",_(6,5,"ACTION.NEXT")," ")}}function Sc(n,s){if(n&1){let e=b();r(0,"div",25)(1,"label",49),d(2),a(),r(3,"input",50,8),A("ngModelChange",function(t){f(e);let l=p();return E(l.dataModel.userIpAddress,t)||(l.dataModel.userIpAddress=t),g(t)}),a(),r(5,"em"),d(6),a()()}if(n&2){let e=D(4),i=p();o(2),w(i.fieldsInfo.userIpAddress==null?null:i.fieldsInfo.userIpAddress.fieldTitle),o(),c("placeholder",R(i.fieldsInfo.userIpAddress==null?null:i.fieldsInfo.userIpAddress.fieldTitle)),y("ngModel",i.dataModel.userIpAddress),c("disabled",!(i.fieldsInfo.userIpAddress!=null&&i.fieldsInfo.userIpAddress.accessEditField)),o(3),u("",e.value.length," / 100")}}function _c(n,s){if(n&1){let e=b();r(0,"div",25)(1,"label",51),d(2),a(),r(3,"input",52,9),A("ngModelChange",function(t){f(e);let l=p();return E(l.dataModel.deviceInformation,t)||(l.dataModel.deviceInformation=t),g(t)}),a(),r(5,"em"),d(6),a()()}if(n&2){let e=D(4),i=p();o(2),w(i.fieldsInfo.userIpAddress==null?null:i.fieldsInfo.userIpAddress.fieldTitle),o(),c("placeholder",R(i.fieldsInfo.deviceInformation==null?null:i.fieldsInfo.deviceInformation.fieldTitle)),y("ngModel",i.dataModel.deviceInformation),c("disabled",!(i.fieldsInfo.deviceInformation!=null&&i.fieldsInfo.deviceInformation.accessEditField)),o(3),u("",e.value.length," / 100")}}function Tc(n,s){if(n&1&&(r(0,"div",46)(1,"button",53),d(2),S(3,"translate"),a(),r(4,"button",54),d(5),S(6,"translate"),a()()),n&2){p();let e=D(10);o(2),u(" ",_(3,3,"ACTION.BEFOR")," "),o(2),c("disabled",!e.form.valid),o(),u(" ",_(6,5,"ACTION.SAVE")," ")}}var ji=class ji extends Nt{constructor(e,i,t,l,T,m,Q,J,Re,xe){super(m,new Ne,l,xe);this.data=e;this.activatedRoute=i;this.dialogRef=t;this.publicHelper=l;this.coreEnumService=T;this.ticketingTaskService=m;this.cmsToastrService=Q;this.router=J;this.cdr=Re;this.translate=xe;this.requestId=0;this.constructorInfoAreaId=this.constructor.name;this.formInfo=new ne;this.dataModel=new Ne;this.dataModelResult=new Tt;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.fileManagerOpenForm=!1;this.appLanguage="fa";this.mapOptonCenter=new Vt;this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),e&&(this.requestId=+e.id||0)}ngOnInit(){if(this.requestId===0){this.cmsToastrService.typeErrorAddRowParentIsNull(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOne(this.requestId)}onFormSubmit(){if(!this.formGroup.valid){this.cmsToastrService.typeErrorFormInvalid();return}this.DataEditContent()}DataGetOne(e){this.formInfo.submitButtonEnabled=!1,this.translate.get("MESSAGE.get_information_from_the_server").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage="";let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructorInfoAreaId)}),this.ticketingTaskService.setAccessLoad(),this.ticketingTaskService.setAccessDataType(_t.Editor),this.ticketingTaskService.ServiceGetOneById(e).subscribe({next:t=>{this.dataAccessModel=t.access,this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.publicHelper.processService.processStop(i),this.dataModelResult=t,this.formInfo.submitButtonEnabled=!0,t.isSuccess?(this.dataModel=t.item,this.ticketingTaskService.ServiceTaskReaded(e).subscribe({next:l=>{},error:l=>{this.cmsToastrService.typeErrorGetOne(l)}})):this.cmsToastrService.typeErrorGetOne(t.errorMessage)},error:t=>{this.publicHelper.processService.processStop(i),this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeErrorGetOne(t)}})}DataEditContent(){this.formInfo.submitButtonEnabled=!1,this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.ticketingTaskService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!i.isSuccess,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.cmsToastrService.typeSuccessEdit(),setTimeout(()=>{this.dialogRef.close({dialogChangedDate:!0})},1e3)):this.cmsToastrService.typeErrorEdit(i.errorMessage),this.publicHelper.processService.processStop(e)},error:i=>{this.publicHelper.processService.processStop(e),this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeErrorEdit(i)}})}onStepClick(e,i){e.previouslySelectedIndex<e.selectedIndex}onActionBackToParent(){this.dialogRef.close({dialogChangedDate:!1})}onActionFileSelectedLinkMainImageId(){}onActionSelectSource(e){if(!e||e.id<=0){this.translate.get(["MESSAGE.Specify_the_source","MESSAGE.The_source_of_the_information_application_is_not_known"]).subscribe(i=>{this.cmsToastrService.typeErrorMessage(i["MESSAGE.Specify_the_source"],i["MESSAGE.The_source_of_the_information_application_is_not_known"])});return}}};ji.\u0275fac=function(i){return new(i||ji)(h(he),h(_e),h(ae),h(F),h(U),h(Oe),h(O),h(re),h(L),h(V))},ji.\u0275cmp=x({type:ji,selectors:[["app-ticketing-task-edit"]],viewQuery:function(i,t){if(i&1&&Z(Yl,5),i&2){let l;$(l=ee())&&(t.formGroup=l.first)}},standalone:!1,features:[q],decls:33,vars:33,consts:[["vform","ngForm"],["stepper",""],["FullName",""],["Title",""],["PhoneNo",""],["Email",""],["HtmlBody",""],["ExpireDate",""],["UserIpAddress",""],["DeviceInformation",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"selectionChange"],["state","main",3,"label"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionChange","optionSelectForce","optionPlaceholder","optionDisabled"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4 cms-input-group",4,"ngIf"],["class","form-actions",4,"ngIf"],["state","seo",3,"label"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.fullName",1,"color-highlight"],["matInput","","type","text","name","dataModel.fullName","minlength","3","maxlength","1000","required","","id","dataModel.fullName",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["class","fa fa-times invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],[4,"ngIf"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.phoneNo",1,"color-highlight"],["matInput","","type","text","name","dataModel.phoneNo","type","text","minlength","3","maxlength","100","required","","id","dataModel.phoneNo",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.email",1,"color-highlight"],["matInput","","type","text","cmsKeyboardForce","en","name","dataModel.email","type","text","minlength","3","maxlength","100","required","","id","dataModel.email",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.htmlBody",1,"color-highlight"],["matInput","","name","dataModel.htmlBody","type","text","minlength","0","maxlength","1000","rows","5","id","dataModel.htmlBody",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],["for","dataModel.expireDate",1,"color-highlight"],["matInput","","type","text","name","dataModel.expireDate","type","text","id","dataModel.expireDate",1,"form-control","validate-name",3,"ngModelChange","matDatepicker","ngModel"],["matSuffix","",3,"for"],["touchUi",""],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],["type","button","matStepperNext","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue",3,"disabled"],["for","dataModel.userIpAddress",1,"color-highlight"],["matInput","","type","text","name","dataModel.userIpAddress","type","text","minlength","0","maxlength","100","id","dataModel.userIpAddress",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.deviceInformation",1,"color-highlight"],["matInput","","type","text","name","dataModel.deviceInformation","type","text","minlength","0","maxlength","100","id","dataModel.deviceInformation",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["type","button","matStepperPrevious","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"]],template:function(i,t){if(i&1){let l=b();r(0,"div",10),v(1,"app-progress-spinner",11),r(2,"div",12)(3,"p",13),d(4),a(),r(5,"p"),d(6),S(7,"translate"),a(),v(8,"app-cms-form-result-message",14),r(9,"form",15,0),C("ngSubmit",function(){return f(l),g(t.onFormSubmit())}),r(11,"mat-horizontal-stepper",16,1),C("selectionChange",function(m){f(l);let Q=D(12);return g(t.onStepClick(m,Q))}),r(13,"mat-step",17),S(14,"translate"),I(15,Xl,1,5,"app-cms-enum-record-status-selector",18),r(16,"app-ticketing-departemen-selector",19),S(17,"translate"),C("optionChange",function(m){return f(l),g(t.onActionSelectSource(m))}),a(),I(18,tc,10,9,"div",20)(19,rc,10,9,"div",20)(20,cc,10,9,"div",20)(21,uc,10,9,"div",20)(22,fc,10,10,"div",20)(23,gc,7,4,"div",21)(24,hc,7,7,"div",22),a(),r(25,"mat-step",23),S(26,"translate"),r(27,"p"),d(28),S(29,"translate"),a(),I(30,Sc,7,6,"div",20)(31,_c,7,6,"div",20)(32,Tc,7,7,"div",22),a()()()()()}i&2&&(o(),c("optionsInfoAreaId",t.constructorInfoAreaId),o(3),u(" ",t.formInfo.formTitle," "),o(2),u(" ",_(7,23,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),c("formInfo",t.formInfo),o(5),c("label",R(_(14,25,"TITLE.REQUIRED_INFORMATION"))),o(2),c("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),o(),c("optionSelectForce",t.dataModel.linkTicketingDepartemenId)("optionPlaceholder",_(17,27,"TITLE.Department"))("optionDisabled",!(t.fieldsInfo.linkTicketingDepartemenId!=null&&t.fieldsInfo.linkTicketingDepartemenId.accessEditField)),o(2),c("ngIf",t.fieldsInfo.fullName==null?null:t.fieldsInfo.fullName.accessWatchField),o(),c("ngIf",t.fieldsInfo.title==null?null:t.fieldsInfo.title.accessWatchField),o(),c("ngIf",t.fieldsInfo.phoneNo==null?null:t.fieldsInfo.phoneNo.accessWatchField),o(),c("ngIf",t.fieldsInfo.email==null?null:t.fieldsInfo.email.accessWatchField),o(),c("ngIf",t.fieldsInfo.htmlBody==null?null:t.fieldsInfo.htmlBody.accessWatchField),o(),c("ngIf",t.fieldsInfo.expireDate==null?null:t.fieldsInfo.expireDate.accessWatchField),o(),c("ngIf",t.formInfo.submitButtonEnabled),o(),c("label",R(_(26,29,"TITLE.REST_OF_THE_INFORMATION"))),o(3),w(_(29,31,"TITLE.Rest_of_Information")),o(2),c("ngIf",t.fieldsInfo.userIpAddress==null?null:t.fieldsInfo.userIpAddress.accessWatchField),o(),c("ngIf",t.fieldsInfo.deviceInformation==null?null:t.fieldsInfo.deviceInformation.accessWatchField),o(),c("ngIf",t.formInfo.submitButtonEnabled))},dependencies:[B,Ie,te,ie,Te,Ce,be,Me,ge,ve,bn,Mn,kn,ye,vn,j,wn,yn,En,An,we,H,ce,di,Ae,N],encapsulation:2});var Yn=ji;var vc=()=>[5,10,20,100],Ic=n=>({background:n});function Cc(n,s){if(n&1){let e=b();r(0,"a",40),C("click",function(){f(e);let t=p();return g(t.onActionBackToParent())}),v(1,"i",41),a()}}function bc(n,s){if(n&1){let e=b();r(0,"div",42)(1,"a",43),C("click",function(){f(e);let t=p();return g(t.onActionButtonNewRow())}),v(2,"i",44)(3,"br"),a(),r(4,"p",45),d(5),S(6,"translate"),a()()}n&2&&(o(5),u(" ",_(6,1,"ACTION.ADD")," "))}function Mc(n,s){if(n&1){let e=b();r(0,"div",42)(1,"a",10),C("click",function(){f(e);let t=p();return g(t.onActionButtonAnswerList())}),v(2,"i",46)(3,"br"),a(),r(4,"p",45),d(5),S(6,"translate"),a()()}n&2&&(o(5),u(" ",_(6,1,"ACTION.ANSWERS")," "))}function kc(n,s){if(n&1){let e=b();r(0,"div",42)(1,"a",47),C("click",function(){f(e);let t=p();return g(t.onActionButtonEditRow(t.tableRowSelected))}),v(2,"i",48)(3,"br"),a(),r(4,"p",45),d(5),S(6,"translate"),a()()}n&2&&(o(5),u(" ",_(6,1,"ACTION.EDIT")," "))}function wc(n,s){if(n&1){let e=b();r(0,"div",42)(1,"a",49),C("click",function(){f(e);let t=p();return g(t.onActionButtonDeleteRow(t.tableRowSelected))}),v(2,"i",50)(3,"br"),a(),r(4,"p",45),d(5),S(6,"translate"),a()()}n&2&&(o(5),u(" ",_(6,1,"ACTION.DELETE")," "))}function yc(n,s){if(n&1){let e=b();r(0,"div",42)(1,"a",51),C("click",function(){f(e);let t=p();return g(t.onActionButtonAnswerList(t.tableRowSelected))}),v(2,"i",46)(3,"br"),a(),r(4,"p",45),d(5),S(6,"translate"),a()()}n&2&&(o(5),u(" ",_(6,1,"ACTION.ANSWERS")," "))}function Ec(n,s){if(n&1){let e=b();r(0,"div",42)(1,"a",52),C("click",function(){f(e);let t=p();return g(t.onActionButtonViewRow(t.tableRowSelected))}),v(2,"i",53)(3,"br"),a(),r(4,"p",45),d(5),S(6,"translate"),a()()}n&2&&(o(5),u(" ",_(6,1,"ACTION.VIEW")," "))}function Ac(n,s){if(n&1&&(r(0,"mat-header-cell",54),d(1),a()),n&2){let e=p();o(),u(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function Dc(n,s){if(n&1&&(r(0,"mat-cell"),d(1),a()),n&2){let e=s.$implicit;o(),u(" ",e.id," ")}}function Rc(n,s){if(n&1&&(r(0,"mat-header-cell",54),d(1),a()),n&2){let e=p();o(),u(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function xc(n,s){if(n&1&&(r(0,"mat-cell"),d(1),S(2,"cmssiteinfo"),S(3,"async"),a()),n&2){let e=s.$implicit;o(),u(" ",_(3,3,_(2,1,e.linkSiteId))," ")}}function Lc(n,s){if(n&1&&(r(0,"mat-header-cell",54),d(1),a()),n&2){let e=p();o(),u(" ",e.fieldsInfo.linkMemberId==null?null:e.fieldsInfo.linkMemberId.fieldTitle," ")}}function Bc(n,s){if(n&1&&(r(0,"mat-cell"),d(1),a()),n&2){let e=s.$implicit;o(),u(" ",e.linkMemberId," ")}}function Vc(n,s){if(n&1&&(r(0,"mat-header-cell",54),d(1),a()),n&2){let e=p();o(),u(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," ")}}function Fc(n,s){if(n&1&&(r(0,"mat-cell"),d(1),a()),n&2){let e=s.$implicit;o(),u(" ",e.title," ")}}function Nc(n,s){if(n&1&&(r(0,"mat-header-cell",54),d(1),a()),n&2){let e=p();o(),u(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function Oc(n,s){if(n&1&&(r(0,"mat-cell"),d(1),S(2,"localeDate"),a()),n&2){let e=s.$implicit;o(),u(" ",_(2,1,e.createdDate)," ")}}function Gc(n,s){if(n&1&&(r(0,"mat-header-cell",54),d(1),a()),n&2){let e=p();o(),u(" ",e.fieldsInfo.updatedDate==null?null:e.fieldsInfo.updatedDate.fieldTitle," ")}}function Pc(n,s){if(n&1&&(r(0,"mat-cell"),d(1),S(2,"localeDate"),a()),n&2){let e=s.$implicit;o(),u(" ",_(2,1,e.updatedDate)," ")}}function Hc(n,s){if(n&1&&(r(0,"mat-header-cell",54),d(1),a()),n&2){let e=p();o(),u(" ",e.fieldsInfo.ticketStatus==null?null:e.fieldsInfo.ticketStatus.fieldTitle," ")}}function qc(n,s){if(n&1&&(r(0,"mat-cell",55),d(1),S(2,"enums"),a()),n&2){let e=s.$implicit,i=p();c("ngStyle",We(5,Ic,i.publicHelper.RowStyleTicketStatus(e.ticketStatus))),o(),u(" ",si(2,2,e.ticketStatus,i.dataModelEnumTicketStatusResult.listItems)," ")}}function Wc(n,s){n&1&&(r(0,"mat-header-cell"),d(1),S(2,"translate"),a()),n&2&&(o(),u(" ",_(2,1,"TITLE.OPTION")," "))}function jc(n,s){if(n&1&&(r(0,"mat-cell",56)(1,"button",57)(2,"mat-icon"),d(3,"more_vert"),a()(),v(4,"mat-menu",null,2),a()),n&2){let e=D(5);o(),c("matMenuTriggerFor",e)}}function Uc(n,s){n&1&&v(0,"mat-header-row")}function Qc(n,s){if(n&1){let e=b();r(0,"mat-row",58),C("click",function(t){let l=f(e).$implicit,T=p();return g(T.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=f(e).$implicit,T=p();return g(T.onActionTableRowSelect(l,t))}),a()}if(n&2){let e=s.$implicit,i=p();X("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var Ui=class Ui extends ct{constructor(e,i,t,l,T,m,Q,J,Re,xe,At,ft,Yi){super(e,new Ne,ft,m,Re);this.contentService=e;this.activatedRoute=i;this.cmsToastrService=t;this.cmsConfirmationDialogService=l;this.router=T;this.tokenHelper=m;this.cmsStoreService=Q;this.cdr=J;this.translate=Re;this.ticketingEnumService=xe;this.pageInfo=At;this.publicHelper=ft;this.dialog=Yi;this.requestDepartemenId=0;this.requestLinkCmsUserId=0;this.requestTicketStatus=-1;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new K;this.filterDataModelQueryBuilder=[];this.dataModelEnumTicketStatusResult=new W;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["title","linkMemberId","createdDate","updatedDate","TicketStatus"];this.tabledisplayedColumnsMobileSource=["title","linkMemberId","createdDate","updatedDate","TicketStatus"];this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:to=>this.onSubmitOptionsSearch(to)},this.filteModelContent.sortColumn="id",this.filteModelContent.sortType=P.Descending}ngOnInit(){this.requestDepartemenId=+Number(this.activatedRoute.snapshot.paramMap.get("DepartemenId")),this.requestLinkCmsUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkCmsUserId")),this.activatedRoute.snapshot.paramMap.get("TicketStatus")&&(this.requestTicketStatus=+Number(this.activatedRoute.snapshot.paramMap.get("TicketStatus"))),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>Y(this,null,function*(){this.getEnumTicketStatus(),this.tokenInfo=e,this.DataGetAll()}))),this.getEnumTicketStatus()}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}getEnumTicketStatus(){this.ticketingEnumService.ServiceTicketStatusEnum().subscribe({next:e=>{this.dataModelEnumTicketStatusResult=e}})}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Ne);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(l=>{this.publicHelper.processService.processStart(e,l,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]);let t=new z;this.requestDepartemenId>0&&(t.propertyName="LinkTicketingDepartemenId",t.value=this.requestDepartemenId,i.filters.push(t)),this.categoryModelSelected&&this.categoryModelSelected.id>0&&(t.propertyName="LinkTicketingDepartemenId",t.value=this.categoryModelSelected.id,i.filters.push(t)),this.requestLinkCmsUserId>0&&(t.propertyName="LinkCmsUserId",t.value=this.requestLinkCmsUserId,i.filters.push(t)),this.requestTicketStatus>=0&&(t.propertyName="TicketStatus",t.value=this.requestTicketStatus,i.filters.push(t)),this.contentService.ServiceGetAll(i).subscribe({next:l=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(l.access),l.isSuccess?(this.dataModelResult=l,this.tableSource.data=l.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(l.access)},1e3)):this.cmsToastrService.typeErrorGetAll(l.errorMessage),this.publicHelper.processService.processStop(e)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=P.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=P.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=P.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.categoryModelSelected==null&&this.categoryModelSelected&&this.categoryModelSelected.id===0&&(this.requestDepartemenId==null||this.requestDepartemenId===0)){this.translate.get("MESSAGE.Content_not_selected").subscribe(l=>{this.cmsToastrService.typeErrorSelected(l)});return}let e=this.requestDepartemenId;this.categoryModelSelected&&this.categoryModelSelected.id>0&&(e=this.categoryModelSelected.id);var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Jn,{height:"90%",panelClass:i,enterAnimationDuration:G.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:G.cmsViewConfig.exitAnimationDuration,data:{linkDepartemenId:e}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()})}onActionButtonViewRow(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.cmsToastrService.typeErrorSelectedRow();return}this.tableRowSelected=e;var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Hi,{height:"90%",panelClass:i,enterAnimationDuration:G.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:G.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate})}onActionSelectorSelect(e){var i=this.filteModelContent.sortColumn,t=this.filteModelContent.sortType;this.filteModelContent=new K,this.filteModelContent.sortColumn=i,this.filteModelContent.sortType=t,this.categoryModelSelected=e,this.DataGetAll()}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.tableRowSelected=e,this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Yn,{height:"90%",panelClass:i,enterAnimationDuration:G.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:G.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()})}onActionButtonAnswerList(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.tableRowSelected=e,this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}this.router.navigate(["/ticketing/answer/LinkTaskId/",this.tableRowSelected.id])}onActionButtonDeleteRow(e=this.tableRowSelected){if(e==null||!e.id||e.id===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(l=>{this.cmsToastrService.typeErrorSelected(l)});return}if(this.tableRowSelected=e,this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(l=>{i=l["MESSAGE.Please_Confirm"],t=l["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(l=>{if(l){let T=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(m=>{this.publicHelper.processService.processStart(T,m,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:m=>{m.isSuccess?this.cmsToastrService.typeSuccessRemove():this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(T)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(T,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(m=>{i.set(m,0)}),this.translate.get("MESSAGE.All").subscribe(m=>{i.set(m,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(m=>{this.publicHelper.processService.processStart(t,m,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:m=>{m.isSuccess&&(this.translate.get("MESSAGE.All").subscribe(Q=>{i.set(Q,m.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)),this.publicHelper.processService.processStop(t)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(t,!1)}});let l=JSON.parse(JSON.stringify(this.filteModelContent)),T=new z;T.propertyName="recordStatus",T.value=Ue.Available,l.filters.push(T),this.contentService.ServiceGetCount(l).subscribe({next:m=>{m.isSuccess&&(this.translate.get("MESSAGE.Active").subscribe(Q=>{i.set(Q,m.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)),this.publicHelper.processService.processStop(t)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonReload(){this.requestTicketStatus=-1,this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/ticketing/departemen/"])}};Ui.\u0275fac=function(i){return new(i||Ui)(h(Oe),h(_e),h(O),h(Ft),h(re),h(le),h(se),h(L),h(V),h(Jt),h(lt),h(F),h(Ee))},Ui.\u0275cmp=x({type:Ui,selectors:[["app-ticketing-task-list"]],standalone:!1,features:[q],decls:63,vars:34,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],[3,"optionChange"],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","linkSiteId"],["matColumnDef","linkMemberId"],["matColumnDef","title"],["matColumnDef","createdDate"],["matColumnDef","updatedDate"],["matColumnDef","TicketStatus"],[3,"ngStyle",4,"matCellDef"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],[1,"col-4"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-phone-arrow-right","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],["type","button","target","_blank","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(i,t){if(i&1){let l=b();r(0,"app-cms-html-list",3),A("optionActionGuideNoticeDisplayChange",function(m){return f(l),E(t.viewGuideNotice,m)||(t.viewGuideNotice=m),g(m)}),C("optionOnActionButtonMemoRow",function(){return f(l),g(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return f(l),g(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return f(l),g(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return f(l),g(t.onActionButtonPrintRow())}),M(1,4),r(2,"app-ticketing-departemen-tree",5),C("optionChange",function(m){return f(l),g(t.onActionSelectorSelect(m))}),a(),k(),Le(3,6)(4,7),M(5,8),I(6,Cc,2,0,"a",9),r(7,"a",10),C("click",function(){return f(l),g(t.viewGuideNotice=!t.viewGuideNotice)}),v(8,"i",11),a(),r(9,"a",10),C("click",function(){return f(l),g(t.onActionButtonReload())}),v(10,"i",12),a(),k(),M(11,13),r(12,"a",14),C("click",function(){return f(l),g(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),v(13,"mat-slide-toggle",15),d(14),S(15,"translate"),a(),r(16,"a",14),C("click",function(){return f(l),g(t.onActionButtonStatist())}),v(17,"mat-slide-toggle",15),d(18),S(19,"translate"),a(),k(),M(20,16),I(21,bc,7,3,"div",17)(22,Mc,7,3,"div",17),k(),M(23,18),I(24,kc,7,3,"div",17)(25,wc,7,3,"div",17)(26,yc,7,3,"div",17)(27,Ec,7,3,"div",17),k(),M(28,19),r(29,"app-cms-search-list",20),A("optionsChange",function(m){return f(l),E(t.optionsSearch,m)||(t.optionsSearch=m),g(m)}),a(),r(30,"app-cms-statist-list",20),A("optionsChange",function(m){return f(l),E(t.optionsStatist,m)||(t.optionsStatist=m),g(m)}),a(),k(),M(31,21),r(32,"mat-table",22,0),C("matSortChange",function(){f(l);let m=D(33);return g(t.onTableSortData(m))}),M(34,23),I(35,Ac,2,1,"mat-header-cell",24)(36,Dc,2,1,"mat-cell",25),k(),M(37,26),I(38,Rc,2,1,"mat-header-cell",24)(39,xc,4,5,"mat-cell",25),k(),M(40,27),I(41,Lc,2,1,"mat-header-cell",24)(42,Bc,2,1,"mat-cell",25),k(),M(43,28),I(44,Vc,2,1,"mat-header-cell",24)(45,Fc,2,1,"mat-cell",25),k(),M(46,29),I(47,Nc,2,1,"mat-header-cell",24)(48,Oc,3,3,"mat-cell",25),k(),M(49,30),I(50,Gc,2,1,"mat-header-cell",24)(51,Pc,3,3,"mat-cell",25),k(),M(52,31),I(53,Hc,2,1,"mat-header-cell",24)(54,qc,3,7,"mat-cell",32),k(),M(55,33),I(56,Wc,3,3,"mat-header-cell",34)(57,jc,6,1,"mat-cell",35),k(),I(58,Uc,1,0,"mat-header-row",36)(59,Qc,1,2,"mat-row",37),a(),k(),M(60,38),r(61,"mat-paginator",39,1),C("page",function(m){return f(l),g(t.onTablePageingData(m))}),a(),k(),a()}i&2&&(c("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey","ticketing.task.list"),y("optionActionGuideNoticeDisplay",t.viewGuideNotice),c("optionTreeDisplay",t.requestDepartemenId===0)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",(t.tableRowSelected==null||t.tableRowSelected.title==null?null:t.tableRowSelected.title.length)>0?t.tableRowSelected==null?null:t.tableRowSelected.title:t.tableRowSelected==null?null:t.tableRowSelected.id),o(6),c("ngIf",t.requestDepartemenId>0),o(4),X("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(3),c("checked",t.optionsSearch.data.show),o(),u("",_(15,29,"ACTION.SEARCH")," "),o(3),c("checked",t.optionsStatist.data.show),o(),u("",_(19,31,"ACTION.STATIST")," "),o(3),c("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessAddRow),o(),c("ngIf",(t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessWatchRow)&&(t.tableRowSelected==null?null:t.tableRowSelected.id)>0),o(2),c("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),o(),c("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),o(),c("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessWatchRow),o(),c("ngIf",(t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessWatchRow)&&(t.tableRowSelected==null?null:t.tableRowSelected.id)>0),o(2),y("options",t.optionsSearch),o(),y("options",t.optionsStatist),o(2),c("dataSource",t.tableSource),o(26),c("matHeaderRowDef",t.tabledisplayedColumns),o(),c("matRowDefColumns",t.tabledisplayedColumns),o(2),c("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",qe(33,vc)))},dependencies:[B,je,Pe,He,Qe,ze,Ke,Je,Ye,Xe,Ze,et,ot,tt,$e,rt,it,nt,at,st,dt,mt,pt,ut,Ht,Ve,N,mi,Ct,bt],encapsulation:2});var oi=Ui;var zc=["vform"];function Kc(n,s){if(n&1){let e=b();r(0,"app-cms-enum-record-status-selector",13),A("modelChange",function(t){f(e);let l=p();return E(l.dataModel.recordStatus,t)||(l.dataModel.recordStatus=t),g(t)}),a()}if(n&2){let e=p();y("model",e.dataModel.recordStatus),c("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Jc(n,s){n&1&&v(0,"i",20)}function Yc(n,s){n&1&&v(0,"i",21)}function Xc(n,s){if(n&1&&(r(0,"mat-error"),d(1),r(2,"strong"),d(3),S(4,"translate"),a()()),n&2){let e=p(2);o(),u(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," is "),o(2),w(_(4,2,"MESSAGE.required"))}}function Zc(n,s){if(n&1){let e=b();r(0,"div",14)(1,"label",15),d(2),a(),r(3,"input",16,1),A("ngModelChange",function(t){f(e);let l=p();return E(l.dataModel.title,t)||(l.dataModel.title=t),g(t)}),a(),I(5,Jc,1,0,"i",17)(6,Yc,1,0,"i",18),r(7,"em"),d(8),a(),I(9,Xc,5,4,"mat-error",19),a()}if(n&2){let e=D(4),i=p();o(2),w(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(),c("placeholder",R(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle)),y("ngModel",i.dataModel.title),o(2),c("ngIf",!e.value),o(),c("ngIf",e.value),o(2),u("",e.value.length," / 100"),o(),c("ngIf",e.errors==null?null:e.errors.required)}}function $c(n,s){if(n&1&&(r(0,"mat-error"),d(1),r(2,"strong"),d(3),S(4,"translate"),a()()),n&2){let e=p(2);o(),u(" ",e.fieldsInfo.htmlBody==null?null:e.fieldsInfo.htmlBody.fieldTitle," "),o(2),w(_(4,2,"MESSAGE.required"))}}function ed(n,s){if(n&1){let e=b();r(0,"div",14)(1,"label",22),d(2),S(3,"translate"),a(),r(4,"textarea",23,2),S(6,"translate"),A("ngModelChange",function(t){f(e);let l=p();return E(l.dataModel.htmlBody,t)||(l.dataModel.htmlBody=t),g(t)}),d(7,"        "),a(),r(8,"em"),d(9),a(),I(10,$c,5,4,"mat-error",19),a()}if(n&2){let e=D(5),i=p();o(2),w(_(3,8,"TITLE.Description")),o(2),c("disabled",R(!(i.fieldsInfo.htmlBody!=null&&i.fieldsInfo.htmlBody.accessAddField)))("placeholder",R(_(6,10,"TITLE.Answer_Text"))),y("ngModel",i.dataModel.htmlBody),o(5),u("",e.value.length," / 2000"),o(),c("ngIf",e.errors==null?null:e.errors.required)}}function td(n,s){if(n&1){let e=b();r(0,"div",24)(1,"button",25),C("click",function(){f(e);let t=p();return g(t.onFormCancel())}),v(2,"i",26),d(3),S(4,"translate"),a(),r(5,"button",27),v(6,"i",28),d(7),S(8,"translate"),a()()}if(n&2){p();let e=D(10);o(3),u(" ",_(4,3,"ACTION.CANCEL")," "),o(2),c("disabled",!e.form.valid),o(2),u(" ",_(8,5,"ACTION.SAVE")," ")}}var Qi=class Qi extends It{constructor(e,i,t,l,T,m,Q,J){super(l,new gt,m,J);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.ticketingTemplateService=l;this.cmsToastrService=T;this.publicHelper=m;this.cdr=Q;this.translate=J;this.requestParentId=0;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.formMatcher=new Xt;this.dataModelResult=new W;this.dataModel=new gt;this.formInfo=new ne;this.publicHelper.processService.cdr=this.cdr,e&&(this.requestParentId=+e.parentId||0),this.requestParentId>0&&(this.dataModel.linkTicketingDepartemenId=this.requestParentId)}ngOnInit(){this.translate.get("TITLE.Submit_New_Content").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess()}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.ticketingTemplateService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e)}})}onActionSelectorSelect(e){if(!e||e.id<=0){this.translate.get("MESSAGE.Information_department_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkTicketingDepartemenId=e.id}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Qi.\u0275fac=function(i){return new(i||Qi)(h(he),h(ae),h(U),h(Lt),h(O),h(F),h(L),h(V))},Qi.\u0275cmp=x({type:Qi,selectors:[["app-ticketing-template-add"]],viewQuery:function(i,t){if(i&1&&Z(zc,5),i&2){let l;$(l=ee())&&(t.formGroup=l.first)}},standalone:!1,features:[q],decls:17,vars:14,consts:[["vform","ngForm"],["Title",""],["HtmlBody",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionChange","optionSelectForce","optionPlaceholder"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","fa fa-times invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],[4,"ngIf"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.htmlBody",1,"color-highlight"],["matInput","","name","dataModel.htmlBody","type","text","minlength","1","maxlength","2000","rows","7","id","dataModel.htmlBody",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled","placeholder"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let l=b();r(0,"div",3),v(1,"app-progress-spinner",4),r(2,"div",5)(3,"p",6),d(4),a(),r(5,"p"),d(6),S(7,"translate"),a(),v(8,"app-cms-form-result-message",7),r(9,"form",8,0),C("ngSubmit",function(){return f(l),g(t.onFormSubmit())}),I(11,Kc,1,5,"app-cms-enum-record-status-selector",9),r(12,"app-ticketing-departemen-selector",10),S(13,"translate"),C("optionChange",function(m){return f(l),g(t.onActionSelectorSelect(m))}),a(),I(14,Zc,10,8,"div",11)(15,ed,11,12,"div",11)(16,td,9,7,"div",12),a()()()}i&2&&(o(),c("optionsInfoAreaId",t.constructorInfoAreaId),o(3),u(" ",t.formInfo.formTitle," "),o(2),u(" ",_(7,10,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),c("formInfo",t.formInfo),o(3),c("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),o(),c("optionSelectForce",t.dataModel.linkTicketingDepartemenId)("optionPlaceholder",_(13,12,"TITLE.Department")),o(2),c("ngIf",t.fieldsInfo.title==null?null:t.fieldsInfo.title.accessWatchField),o(),c("ngIf",t.fieldsInfo.htmlBody==null?null:t.fieldsInfo.htmlBody.accessWatchField),o(),c("ngIf",t.formInfo.submitButtonEnabled))},dependencies:[B,Ie,te,ie,Te,Ce,be,Me,ge,ve,ye,j,we,H,ce,Ae,N],encapsulation:2});var Xn=Qi;var id=["vform"];function nd(n,s){if(n&1){let e=b();r(0,"app-cms-enum-record-status-selector",13),A("modelChange",function(t){f(e);let l=p();return E(l.dataModel.recordStatus,t)||(l.dataModel.recordStatus=t),g(t)}),a()}if(n&2){let e=p();y("model",e.dataModel.recordStatus),c("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function od(n,s){n&1&&v(0,"i",20)}function rd(n,s){n&1&&v(0,"i",21)}function ad(n,s){if(n&1&&(r(0,"mat-error"),d(1),r(2,"strong"),d(3),S(4,"translate"),a()()),n&2){let e=p(2);o(),u(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," is "),o(2),w(_(4,2,"MESSAGE.required"))}}function sd(n,s){if(n&1){let e=b();r(0,"div",14)(1,"label",15),d(2),a(),r(3,"input",16,1),A("ngModelChange",function(t){f(e);let l=p();return E(l.dataModel.title,t)||(l.dataModel.title=t),g(t)}),a(),I(5,od,1,0,"i",17)(6,rd,1,0,"i",18),r(7,"em"),d(8),a(),I(9,ad,5,4,"mat-error",19),a()}if(n&2){let e=D(4),i=p();o(2),w(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(),c("placeholder",R(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle)),y("ngModel",i.dataModel.title),o(2),c("ngIf",!e.value),o(),c("ngIf",e.value),o(2),u("",e.value.length," / 100"),o(),c("ngIf",e.errors==null?null:e.errors.required)}}function ld(n,s){if(n&1&&(r(0,"mat-error"),d(1),r(2,"strong"),d(3),S(4,"translate"),a()()),n&2){let e=p(2);o(),u(" ",e.fieldsInfo.htmlBody==null?null:e.fieldsInfo.htmlBody.fieldTitle," "),o(2),w(_(4,2,"MESSAGE.required"))}}function cd(n,s){if(n&1){let e=b();r(0,"div",14)(1,"label",22),d(2),S(3,"translate"),a(),r(4,"textarea",23,2),S(6,"translate"),A("ngModelChange",function(t){f(e);let l=p();return E(l.dataModel.htmlBody,t)||(l.dataModel.htmlBody=t),g(t)}),d(7,"        "),a(),r(8,"em"),d(9),a(),I(10,ld,5,4,"mat-error",19),a()}if(n&2){let e=D(5),i=p();o(2),w(_(3,8,"TITLE.Description")),o(2),c("disabled",R(!(i.fieldsInfo.htmlBody!=null&&i.fieldsInfo.htmlBody.accessAddField)))("placeholder",R(_(6,10,"TITLE.Answer_Text"))),y("ngModel",i.dataModel.htmlBody),o(5),u("",e.value.length," / 2000"),o(),c("ngIf",e.errors==null?null:e.errors.required)}}function dd(n,s){if(n&1){let e=b();r(0,"div",24)(1,"button",25),C("click",function(){f(e);let t=p();return g(t.onFormCancel())}),v(2,"i",26),d(3),S(4,"translate"),a(),r(5,"button",27),v(6,"i",28),d(7),S(8,"translate"),a()()}if(n&2){p();let e=D(10);o(3),u(" ",_(4,3,"ACTION.CANCEL")," "),o(2),c("disabled",!e.form.valid),o(2),u(" ",_(8,5,"ACTION.SAVE")," ")}}var zi=class zi extends Nt{constructor(e,i,t,l,T,m,Q,J){super(l,new gt,m,J);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.ticketingTemplateService=l;this.cmsToastrService=T;this.publicHelper=m;this.cdr=Q;this.translate=J;this.requestId=0;this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.formMatcher=new Xt;this.dataModelResult=new Tt;this.dataModel=new gt;this.dataFileModel=new Map;this.formInfo=new ne;this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=+e.id||0),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.requestId>0)this.translate.get("TITLE.Edit_Categories").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}}DataGetOneContent(){if(this.requestId<=0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.ticketingTemplateService.setAccessLoad(),this.ticketingTemplateService.setAccessDataType(_t.Editor),this.ticketingTemplateService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.ticketingTemplateService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e)}})}onActionSelectorSelect(e){if(!e||e.id<=0){this.translate.get("MESSAGE.Information_department_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkTicketingDepartemenId=e.id}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};zi.\u0275fac=function(i){return new(i||zi)(h(he),h(ae),h(U),h(Lt),h(O),h(F),h(L),h(V))},zi.\u0275cmp=x({type:zi,selectors:[["app-ticketing-template-add"]],viewQuery:function(i,t){if(i&1&&Z(id,5),i&2){let l;$(l=ee())&&(t.formGroup=l.first)}},standalone:!1,features:[q],decls:17,vars:14,consts:[["vform","ngForm"],["Title",""],["HtmlBody",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionChange","optionSelectForce","optionPlaceholder"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","fa fa-times invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],[4,"ngIf"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.htmlBody",1,"color-highlight"],["matInput","","name","dataModel.htmlBody","type","text","minlength","1","maxlength","2000","rows","7","id","dataModel.htmlBody",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled","placeholder"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let l=b();r(0,"div",3),v(1,"app-progress-spinner",4),r(2,"div",5)(3,"p",6),d(4),a(),r(5,"p"),d(6),S(7,"translate"),a(),v(8,"app-cms-form-result-message",7),r(9,"form",8,0),C("ngSubmit",function(){return f(l),g(t.onFormSubmit())}),I(11,nd,1,5,"app-cms-enum-record-status-selector",9),r(12,"app-ticketing-departemen-selector",10),S(13,"translate"),C("optionChange",function(m){return f(l),g(t.onActionSelectorSelect(m))}),a(),I(14,sd,10,8,"div",11)(15,cd,11,12,"div",11)(16,dd,9,7,"div",12),a()()()}i&2&&(o(),c("optionsInfoAreaId",t.constructorInfoAreaId),o(3),u(" ",t.formInfo.formTitle," "),o(2),u(" ",_(7,10,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),c("formInfo",t.formInfo),o(3),c("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),o(),c("optionSelectForce",t.dataModel.linkTicketingDepartemenId)("optionPlaceholder",_(13,12,"TITLE.Department")),o(2),c("ngIf",t.fieldsInfo.title==null?null:t.fieldsInfo.title.accessWatchField),o(),c("ngIf",t.fieldsInfo.htmlBody==null?null:t.fieldsInfo.htmlBody.accessWatchField),o(),c("ngIf",t.formInfo.submitButtonEnabled))},dependencies:[B,Ie,te,ie,Te,Ce,be,Me,ge,ve,ye,j,we,H,ce,Ae,N],encapsulation:2});var Zn=zi;var md=()=>[5,10,20,100],pd=n=>({display:n});function ud(n,s){if(n&1){let e=b();r(0,"a",37),C("click",function(){f(e);let t=p();return g(t.onActionBackToParent())}),v(1,"i",38),a()}}function fd(n,s){if(n&1){let e=b();r(0,"div",39)(1,"a",40),C("click",function(){f(e);let t=p();return g(t.onActionButtonNewRow())}),v(2,"i",41)(3,"br"),a(),r(4,"p",42),d(5),S(6,"translate"),a()()}n&2&&(o(5),u(" ",_(6,1,"ACTION.ADD")," "))}function gd(n,s){if(n&1){let e=b();r(0,"div",39)(1,"a",43),C("click",function(){f(e);let t=p();return g(t.onActionButtonEditRow(t.tableRowSelected))}),v(2,"i",44)(3,"br"),a(),r(4,"p",42),d(5),S(6,"translate"),a()()}n&2&&(o(5),u(" ",_(6,1,"ACTION.EDIT")," "))}function hd(n,s){if(n&1){let e=b();r(0,"div",39)(1,"a",45),C("click",function(){f(e);let t=p();return g(t.onActionButtonDeleteRow(t.tableRowSelected))}),v(2,"i",46)(3,"br"),a(),r(4,"p",42),d(5),S(6,"translate"),a()()}n&2&&(o(5),u(" ",_(6,1,"ACTION.DELETE")," "))}function Sd(n,s){if(n&1&&(r(0,"mat-header-cell",47),d(1),a()),n&2){let e=p();o(),u(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function _d(n,s){if(n&1&&(r(0,"mat-cell"),d(1),a()),n&2){let e=s.$implicit;o(),u(" ",e.id," ")}}function Td(n,s){if(n&1&&(r(0,"mat-header-cell",47),d(1),a()),n&2){let e=p();o(),u(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function vd(n,s){if(n&1&&(r(0,"mat-cell"),d(1),S(2,"cmssiteinfo"),S(3,"async"),a()),n&2){let e=s.$implicit;o(),u(" ",_(3,3,_(2,1,e.linkSiteId))," ")}}function Id(n,s){if(n&1&&(r(0,"mat-header-cell",47),d(1),a()),n&2){let e=p();o(),u(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function Cd(n,s){if(n&1&&v(0,"select",50),n&2){let e=p().$implicit,i=p();c("contentService",i.contentService)("row",e)("ngStyle",We(3,pd,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function bd(n,s){if(n&1&&(r(0,"mat-cell",48),S(1,"statusCellClass"),v(2,"i",48),S(3,"statusIconClass"),I(4,Cd,1,5,"select",49),a()),n&2){let e=s.$implicit,i=p();c("ngClass",_(1,3,e.recordStatus)),o(2),c("ngClass",_(3,5,e.recordStatus)),o(2),c("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessEditRow)}}function Md(n,s){if(n&1&&(r(0,"mat-header-cell",47),d(1),a()),n&2){let e=p();o(),u(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," ")}}function kd(n,s){if(n&1&&(r(0,"mat-cell"),d(1),a()),n&2){let e=s.$implicit;o(),u(" ",e.title," ")}}function wd(n,s){n&1&&(r(0,"mat-header-cell"),d(1),S(2,"translate"),a()),n&2&&(o(),u(" ",_(2,1,"TITLE.OPTION")," "))}function yd(n,s){if(n&1&&(r(0,"mat-cell",51)(1,"button",52)(2,"mat-icon"),d(3,"more_vert"),a()(),v(4,"mat-menu",null,2),a()),n&2){let e=D(5);o(),c("matMenuTriggerFor",e)}}function Ed(n,s){n&1&&v(0,"mat-header-row")}function Ad(n,s){if(n&1){let e=b();r(0,"mat-row",53),C("click",function(t){let l=f(e).$implicit,T=p();return g(T.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=f(e).$implicit,T=p();return g(T.onActionTableRowSelect(l,t))}),a()}if(n&2){let e=s.$implicit,i=p();X("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var Ki=class Ki extends ct{constructor(e,i,t,l,T,m,Q,J,Re,xe,At,ft){super(e,new gt,At,m,J);this.contentService=e;this.activatedRoute=i;this.cmsToastrService=t;this.cmsConfirmationDialogService=l;this.router=T;this.tokenHelper=m;this.cdr=Q;this.translate=J;this.cmsStoreService=Re;this.pageInfo=xe;this.publicHelper=At;this.dialog=ft;this.requestDepartemenId=0;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new K;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["id","recordStatus"];this.tabledisplayedColumnsMobileSource=["id","recordStatus"];this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:Yi=>this.onSubmitOptionsSearch(Yi)},this.filteModelContent.sortColumn="id",this.filteModelContent.sortType=P.Descending}ngOnInit(){this.requestDepartemenId=+Number(this.activatedRoute.snapshot.paramMap.get("DepartemenId")),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>Y(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new gt);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(l=>{this.publicHelper.processService.processStart(e,l,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]);let t=new z;this.requestDepartemenId>0&&(t.propertyName="LinkTicketingDepartemenId",t.value=this.requestDepartemenId,i.filters.push(t)),this.categoryModelSelected&&this.categoryModelSelected.id>0&&(t.propertyName="LinkTicketingDepartemenId",t.value=this.categoryModelSelected.id,i.filters.push(t)),this.contentService.ServiceGetAllEditor(i).subscribe({next:l=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(l.access),l.isSuccess?(this.dataModelResult=l,this.tableSource.data=l.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(l.access)},1e3)):this.cmsToastrService.typeErrorGetAll(l.errorMessage),this.publicHelper.processService.processStop(e)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(e)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=P.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=P.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=P.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.categoryModelSelected==null&&this.categoryModelSelected&&this.categoryModelSelected.id===0&&(this.requestDepartemenId==null||this.requestDepartemenId===0)){this.translate.get("MESSAGE.Content_not_selected").subscribe(l=>{this.cmsToastrService.typeErrorSelected(l)});return}if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}let e=this.requestDepartemenId;this.categoryModelSelected&&this.categoryModelSelected.id>0&&(e=this.categoryModelSelected.id);var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Xn,{height:"90%",panelClass:i,enterAnimationDuration:G.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:G.cmsViewConfig.exitAnimationDuration,data:{parentId:e}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()})}onActionSelectorSelect(e){var i=this.filteModelContent.sortColumn,t=this.filteModelContent.sortType;this.filteModelContent=new K,this.filteModelContent.sortColumn=i,this.filteModelContent.sortType=t,this.categoryModelSelected=e,this.DataGetAll()}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.tableRowSelected=e,this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Zn,{height:"90%",panelClass:i,enterAnimationDuration:G.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:G.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(e==null||!e.id||e.id===0){this.translate.get("MESSAGE.No_row_selected_for_editing").subscribe(l=>{this.cmsToastrService.typeErrorSelected(l)});return}if(this.tableRowSelected=e,this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(l=>{i=l["MESSAGE.Please_Confirm"],t=l["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(l=>{if(l){let T=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(m=>{this.publicHelper.processService.processStart(T,m,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:m=>{m.isSuccess?this.cmsToastrService.typeSuccessRemove():this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(T)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(T)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(m=>{i.set(m,0)}),this.translate.get("MESSAGE.All").subscribe(m=>{i.set(m,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(m=>{this.publicHelper.processService.processStart(t,m,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:m=>{m.isSuccess&&(i.set("All",m.totalRowCount),this.optionsStatist.childMethods.setStatistValue(i)),this.publicHelper.processService.processStop(t)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(t)}});let l=JSON.parse(JSON.stringify(this.filteModelContent)),T=new z;T.propertyName="recordStatus",T.value=Ue.Available,l.filters.push(T),this.contentService.ServiceGetCount(l).subscribe({next:m=>{m.isSuccess&&(i.set("Active",m.totalRowCount),this.optionsStatist.childMethods.setStatistValue(i)),this.publicHelper.processService.processStop(t)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(t)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/ticketing/departemen/"])}};Ki.\u0275fac=function(i){return new(i||Ki)(h(Lt),h(_e),h(O),h(Ft),h(re),h(le),h(L),h(V),h(se),h(lt),h(F),h(Ee))},Ki.\u0275cmp=x({type:Ki,selectors:[["app-application-app-list"]],standalone:!1,features:[q],decls:51,vars:31,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],[3,"optionChange"],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","linkSiteId"],["matColumnDef","recordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","title"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],[1,"col-4"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(i,t){if(i&1){let l=b();r(0,"app-cms-html-list",3),A("optionActionGuideNoticeDisplayChange",function(m){return f(l),E(t.viewGuideNotice,m)||(t.viewGuideNotice=m),g(m)}),C("optionOnActionButtonMemoRow",function(){return f(l),g(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return f(l),g(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return f(l),g(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return f(l),g(t.onActionButtonPrintRow())}),M(1,4),r(2,"app-ticketing-departemen-tree",5),C("optionChange",function(m){return f(l),g(t.onActionSelectorSelect(m))}),a(),k(),Le(3,6)(4,7),M(5,8),I(6,ud,2,0,"a",9),r(7,"a",10),C("click",function(){return f(l),g(t.viewGuideNotice=!t.viewGuideNotice)}),v(8,"i",11),a(),r(9,"a",10),C("click",function(){return f(l),g(t.onActionButtonReload())}),v(10,"i",12),a(),k(),M(11,13),r(12,"a",14),C("click",function(){return f(l),g(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),v(13,"mat-slide-toggle",15),d(14),S(15,"translate"),a(),r(16,"a",14),C("click",function(){return f(l),g(t.onActionButtonStatist())}),v(17,"mat-slide-toggle",15),d(18),S(19,"translate"),a(),k(),M(20,16),I(21,fd,7,3,"div",17),k(),M(22,18),I(23,gd,7,3,"div",17)(24,hd,7,3,"div",17),k(),M(25,19),r(26,"app-cms-search-list",20),A("optionsChange",function(m){return f(l),E(t.optionsSearch,m)||(t.optionsSearch=m),g(m)}),a(),r(27,"app-cms-statist-list",20),A("optionsChange",function(m){return f(l),E(t.optionsStatist,m)||(t.optionsStatist=m),g(m)}),a(),k(),M(28,21),r(29,"mat-table",22,0),C("matSortChange",function(){f(l);let m=D(30);return g(t.onTableSortData(m))}),M(31,23),I(32,Sd,2,1,"mat-header-cell",24)(33,_d,2,1,"mat-cell",25),k(),M(34,26),I(35,Td,2,1,"mat-header-cell",24)(36,vd,4,5,"mat-cell",25),k(),M(37,27),I(38,Id,2,1,"mat-header-cell",24)(39,bd,5,7,"mat-cell",28),k(),M(40,29),I(41,Md,2,1,"mat-header-cell",24)(42,kd,2,1,"mat-cell",25),k(),M(43,30),I(44,wd,3,3,"mat-header-cell",31)(45,yd,6,1,"mat-cell",32),k(),I(46,Ed,1,0,"mat-header-row",33)(47,Ad,1,2,"mat-row",34),a(),k(),M(48,35),r(49,"mat-paginator",36,1),C("page",function(m){return f(l),g(t.onTablePageingData(m))}),a(),k(),a()}i&2&&(c("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),y("optionActionGuideNoticeDisplay",t.viewGuideNotice),c("optionTreeDisplay",t.requestDepartemenId===0)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",(t.tableRowSelected==null||t.tableRowSelected.title==null?null:t.tableRowSelected.title.length)>0?t.tableRowSelected==null?null:t.tableRowSelected.title:t.tableRowSelected==null?null:t.tableRowSelected.id),o(6),c("ngIf",t.requestDepartemenId>0),o(4),X("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(3),c("checked",t.optionsSearch.data.show),o(),u("",_(15,26,"ACTION.SEARCH")," "),o(3),c("checked",t.optionsStatist.data.show),o(),u("",_(19,28,"ACTION.STATIST")," "),o(3),c("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessAddRow),o(2),c("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),o(),c("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),o(2),y("options",t.optionsSearch),o(),y("options",t.optionsStatist),o(2),c("dataSource",t.tableSource),o(17),c("matHeaderRowDef",t.tabledisplayedColumns),o(),c("matRowDefColumns",t.tabledisplayedColumns),o(2),c("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",qe(30,md)))},dependencies:[Dt,B,je,Pe,He,j,Qe,ze,Ke,Je,Ye,Xe,Ze,et,ot,tt,$e,rt,it,nt,at,st,dt,mt,pt,ut,Ot,Ht,Ve,N,Ct,Gt,Pt],encapsulation:2});var on=Ki;var Ji=class Ji{constructor(){this.constructorInfoAreaId=this.constructor.name}ngOnInit(){}};Ji.\u0275fac=function(e){return new(e||Ji)},Ji.\u0275cmp=x({type:Ji,selectors:[["app-ticketing"]],standalone:!1,decls:1,vars:0,template:function(e,i){e&1&&v(0,"router-outlet")},dependencies:[lo],encapsulation:2});var $n=Ji;var Dd=[{path:"",component:$n,data:{title:"ROUTE.TICKETING"},children:[{path:"config",loadChildren:()=>import("./chunk-D66ZOHOO.js").then(n=>n.TicketingConfigModule),data:{title:"ROUTE.TICKETING"}},{path:"departemen",component:Gn,data:{title:"ROUTE.TICKETING.DEPARTMENT"}},{path:"departemen/add/",component:zt,data:{title:"ROUTE.TICKETING.DEPARTMENT"}},{path:"departemen/edit/:Id",component:zt,data:{title:"ROUTE.TICKETING.DEPARTMENT"}},{path:"departemenlog/DepartemenId/:DepartemenId",component:en,data:{title:"ROUTE.TICKETING.DEPARTMENTLOG"}},{path:"departemenlog/OperatorId/:OperatorId",component:en,data:{title:"ROUTE.TICKETING.DEPARTMENTLOG"}},{path:"faq",component:Qn,data:{title:"ROUTE.TICKETING.FAQ"}},{path:"faq/:DepartemenId",component:tn,data:{title:"ROUTE.TICKETING.FAQ"}},{path:"faq/list",component:tn,data:{title:"ROUTE.TICKETING.LIST"}},{path:"template",component:on,data:{title:"ROUTE.TICKETING.TEMPLATE"}},{path:"template/:DepartemenId",component:on,data:{title:"ROUTE.TICKETING.TEMPLATE"}},{path:"contactus",component:Kn,data:{title:"ROUTE.TICKETING.CONTACTUS"}},{path:"task",component:oi,data:{title:"ROUTE.TICKETING.TASK"}},{path:"task/listTicketStatus/:TicketStatus",component:oi,data:{title:"ROUTE.TICKETING.TASK"}},{path:"task/contactus-list",component:nn,data:{title:"ROUTE.TICKETING.TASK"}},{path:"task/contactus-list/LinkCmsUserId/:LinkCmsUserId",component:nn,data:{title:"ROUTE.TICKETING.TASK"}},{path:"task/:DepartemenId",component:oi,data:{title:"ROUTE.TICKETING.TASK"}},{path:"task/LinkCmsUserId/:LinkCmsUserId",component:oi,data:{title:"ROUTE.TICKETING.TASK"}},{path:"answer",component:Xi,data:{title:"ROUTE.TICKETING.ANSWER"}},{path:"answer/LinkTaskId/:LinkTaskId",component:Xi,data:{title:"ROUTE.TICKETING.ANSWER"}}]}],ri=class ri{};ri.\u0275fac=function(e){return new(e||ri)},ri.\u0275mod=un({type:ri}),ri.\u0275inj=mn({imports:[io.forChild(Dd),io]});var eo=ri;var ai=class ai{};ai.\u0275fac=function(e){return new(e||ai)},ai.\u0275mod=un({type:ai}),ai.\u0275inj=mn({providers:[mo,U,fo,uo,Jt,Fe,hn,go,Oe,xt,Rt,Lt,Ft],imports:[so,eo,_o,To.withConfig({warnOnNgModelWithFormControl:"never"}),Do,xo,Ao]});var No=ai;export{No as TicketingModule};
