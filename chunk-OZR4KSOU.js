import{a as Sn}from"./chunk-ULP72Z64.js";import{a as ws}from"./chunk-L5DP4Q4K.js";import{a as cr}from"./chunk-WZGID7VJ.js";import{a as ys}from"./chunk-K2ZGWDZO.js";import{a as to}from"./chunk-L4NLSG5C.js";import{a as Es}from"./chunk-O3I5ODV6.js";import{a as lr}from"./chunk-66ALXY2F.js";import{a as Oi}from"./chunk-3OBFP5PH.js";import{a as Fi}from"./chunk-AA7AQMP2.js";import{a as As}from"./chunk-XWFZ3L2H.js";import{a as vs}from"./chunk-DDJNHZTF.js";import{a as Xi}from"./chunk-AUVF6KFZ.js";import{a as Yi}from"./chunk-H56PQPV2.js";import{a as eo}from"./chunk-GSBDZZET.js";import{a as Is}from"./chunk-L7JR6HXJ.js";import{a as st}from"./chunk-H4DUMXUG.js";import{a as ii}from"./chunk-K33TURJC.js";import{a as sr}from"./chunk-B3F7GQYV.js";import{a as qe}from"./chunk-MBNOGREB.js";import{a as rt}from"./chunk-JEF4OJ24.js";import{a as gt}from"./chunk-O7TBDUAL.js";import{a as bs,d as Qe,e as We,f as Ue,i as Vt}from"./chunk-VPCV3QWM.js";import{a as li}from"./chunk-SVQRGLTD.js";import{a as Oe}from"./chunk-MJISGRY5.js";import{a as yi}from"./chunk-MDLZCPQF.js";import{a as dt,b as wi,c as gs}from"./chunk-XX2R74IE.js";import{a as Ct}from"./chunk-EONWWHCB.js";import{a as _s}from"./chunk-TH2MDZWJ.js";import{a as Te}from"./chunk-SPPVAAD5.js";import{b as Ms}from"./chunk-3RHHJRHJ.js";import{a as ti}from"./chunk-7DUNEHBM.js";import{a as $n}from"./chunk-R5BPOJMN.js";import{a as Ee}from"./chunk-4YFMZS2T.js";import{a as K,d as rr}from"./chunk-EBEN3A5Q.js";import{a as Jn,b as Zn,d as Cs,e as je,f as U}from"./chunk-T5H3DDPU.js";import{$a as ss,A as ct,Ab as O,Ba as Ze,Bb as H,Da as J,Ha as ns,Ia as Wt,Ja as Ut,Ma as Ie,Nb as Bi,Ob as ms,R as hn,Sa as at,U as ir,Ua as $e,V as nr,Va as At,X as or,Y as ar,Ya as os,Za as as,_a as rs,a as dn,ab as ls,ac as ps,bc as us,c as $r,cb as Et,cc as fs,d as qn,da as Ot,db as yt,dc as hs,ea as Gt,eb as wt,f as Xa,fa as Ht,fb as Tt,g as Ya,gb as Pt,hb as Rt,i as Ja,ib as xt,j as Za,jb as Dt,k as es,kb as kt,la as Da,lb as Lt,m as Ii,ma as be,na as ve,oa as Se,ob as cs,pb as ds,pc as Ae,r as er,rb as jn,s as Le,sb as Qn,sc as Ce,tb as zn,u as fn,ub as Kn,uc as W,v as Ft,vb as Xn,w as tr,x as Ai,xb as Yn,xc as Ss,y as Ei}from"./chunk-DMLQRPQG.js";import{A as fe,B as Be,C as Fe,F as ts,G as is,b as Je,c as ne,h as oe,i as ge,k as Me,l as ei,m as he,n as _e,o as bi,r as vi,s as $a,u as mn,v as pn,x as un}from"./chunk-QRBNL5ZA.js";import{$ as Re,A as nn,Bg as _i,Cg as qi,D as ht,Dg as St,Eg as Ka,Fg as $t,Gg as ji,H as Q,Hg as ri,Ig as cn,Jg as si,Jn as j,K as nt,Kg as Qi,Lg as zi,Mg as Ni,Ng as Ki,Sf as Kr,Y as Un,ba as za,cg as jt,d as Xe,da as zr,dg as oi,e as jr,eg as ki,f as He,fg as Qt,gg as Xr,hg as kr,ig as zt,jg as Li,kg as di,l as Dr,lg as Yr,m as ke,mg as Ti,ng as Pi,og as ai,p as ft,pg as Vi,q,qg as on,sg as Jr,tg as Zr,u as V,ug as Ye,v as Y,w as Qr,y as Bt}from"./chunk-IWWHFWKR.js";import{Ab as v,Ad as qr,Bb as ja,Cb as De,Db as Z,Dc as S,Eb as $,Ec as C,Fb as h,Fc as Nt,Ga as Gr,Gb as r,Hb as s,Ib as g,K as fi,Mb as R,Nb as x,O as hi,Ob as ze,Pb as A,Ra as we,Sb as I,Ua,Ub as m,Va as o,Vb as gi,Wb as Mi,Xa as ot,Xc as G,Yb as ee,Z as Si,Zb as te,_ as Ci,_b as ie,cb as _,cc as D,dc as ut,ec as B,fa as Fr,ga as Wa,hc as d,ib as N,ic as y,jb as qa,jc as M,kc as ue,lb as Hr,ld as Ge,mb as X,nc as w,ob as L,oc as T,pa as u,pc as P,qa as f,qc as Wr,rc as Ur,rd as Ui,s as pi,sc as Dn,t as ui,tc as k,td as it,ua as Or,uc as bt,ud as Qa,wb as ln,xb as se,xc as xe,yc as Wi,zb as b}from"./chunk-2AL2II5Z.js";import{i as ae}from"./chunk-SEDBTTTN.js";var qs=["*"];function js(n,l){if(n&1&&(r(0,"label",3),d(1),s()),n&2){let e=m();h("for",bt("app-cms-site-selector-",e.id)),o(),y(e.optionLabel)}}function Qs(n,l){if(n&1&&(r(0,"mat-option",6)(1,"span"),d(2),s()()),n&2){let e=l.$implicit,i=m();h("value",e)("disabled",i.optionDisabled),o(2),y(i.displayOption(e))}}function zs(n,l){n&1&&g(0,"i",7)}function Ks(n,l){n&1&&g(0,"i",8)}function Xs(n,l){if(n&1){let e=A();r(0,"i",11),I("click",function(){u(e);let t=m();return f(t.onActionSelectClear())}),s()}}function Ys(n,l){n&1&&(r(0,"em"),d(1),S(2,"translate"),s()),n&2&&(o(),M("(",C(2,1,"TITLE.Necessary"),")"))}var Cn=class Cn{constructor(l,e,i,t,a,p){this.coreEnumService=l;this.cmsToastrService=e;this.translate=i;this.cdr=t;this.publicHelper=a;this.categoryService=p;this.id=++Cn.nextId;this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new q;this.dataModelSelect=new oi;this.formControl=new ei;this.optionDisabled=!1;this.optionRequired=!1;this.optionSelectFirstItem=!1;this.optionSelectFirstItemOnChangeApi=!1;this.optionPlaceholder="";this.optionLabel="";this.optionSelectForSendMessage=!1;this.optionChange=new ot;this.optionReload=()=>this.onActionButtonReload();this.privateLinkApiPathId="";this.privateLinkApiPathIdLast="";this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(l){this.onActionSelectForce(l)}set optionLinkApiPathId(l){l!=this.privateLinkApiPathId&&(this.privateLinkApiPathId!=""&&this.onActionSelectClear(),this.privateLinkApiPathId=l,this.privateLinkApiPathId!=this.privateLinkApiPathIdLast&&(this.optionSelectFirstItem=this.optionSelectFirstItemOnChangeApi),this.privateLinkApiPathIdLast=l,this.optionChange.emit(this.dataModelSelect),this.loadOptions())}ngOnInit(){this.loadOptions(),(!this.optionLabel||this.optionLabel.length==0&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder)}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(Si(""),fi(1500),hi(),Ci(l=>typeof l=="string"||typeof l=="number"?this.DataGetAll(l||""):[]))}displayFn(l){return l?l.numberChar:void 0}displayOption(l){return l?l.numberChar:void 0}DataGetAll(l){return ae(this,null,function*(){let e=new Y;e.rowPerPage=20,e.accessLoad=!0;let i=new V;i.propertyName="NumberChar",i.value=l,i.searchType=ht.Contains,i.clauseType=Bt.Or,e.filters.push(i),this.privateLinkApiPathId?.length>0&&(i=new V,i.propertyName="ApiPathAndApiNumbers",i.propertyAnyName="LinkApiPathId",i.value=this.privateLinkApiPathId,i.searchType=ht.Equal,e.filters.push(i)),this.optionSelectForSendMessage&&(i=new V,i.propertyName="recordStatus",i.value=ke.Available,i.searchType=ht.Equal,e.filters.push(i)),this.optionAccessDataType&&this.categoryService.setAccessDataType(this.optionAccessDataType);let t=this.constructor.name+"main";return this.translate.get("MESSAGE.get_information_list").subscribe(a=>{this.publicHelper.processService.processStart(t,a,this.constructorInfoAreaId)}),this.optionAccessDataType&&this.categoryService.setAccessDataType(this.optionAccessDataType),yield pi(this.categoryService.ServiceGetAll(e)).then(a=>(this.dataModelResult=a,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||this.dataModelSelect.id.length<=0)&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0]),this.onActionSelect(this.dataModelResult.listItems[0])},1e3)),this.publicHelper.processService.processStop(t),a.listItems))})}onActionSelect(l){this.optionDisabled||(this.dataModelSelect=l,this.optionChange.emit(this.dataModelSelect))}onActionSelectClear(){this.optionDisabled||(this.dataModelSelect=new oi,this.formControl.setValue(null),this.optionChange.emit(null))}push(l){return this.filteredOptions.pipe(ui(e=>(e.find(i=>i.id===l.id)||e.push(l),e)))}onActionSelectForce(l){if(typeof l=="string"&&l.length>0){if(this.dataModelSelect&&this.dataModelSelect.id===l)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(e=>e.id===l)){let e=this.dataModelResult.listItems.find(i=>i.id===l);this.dataModelSelect=e,this.formControl.setValue(e);return}if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(e=>e.numberChar===l)){let e=this.dataModelResult.listItems.find(i=>i.numberChar===l);this.dataModelSelect=e,this.formControl.setValue(e);return}this.categoryService.ServiceGetOneById(l).subscribe({next:e=>{e.isSuccess?(this.filteredOptions=this.push(e.item),this.dataModelSelect=e.item,this.formControl.setValue(e.item),this.optionChange.emit(e.item)):this.cmsToastrService.typeErrorMessage(e.errorMessage)}});return}if(typeof l==typeof oi){this.filteredOptions=this.push(l),this.dataModelSelect=l,this.formControl.setValue(l);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new oi,this.onActionSelectClear(),this.loadOptions()}};Cn.nextId=0,Cn.\u0275fac=function(e){return new(e||Cn)(_(Re),_(W),_(O),_(G),_(U),_(_i))},Cn.\u0275cmp=N({type:Cn,selectors:[["app-sms-api-number-selector"]],inputs:{optionDisabled:"optionDisabled",optionRequired:"optionRequired",optionSelectFirstItem:"optionSelectFirstItem",optionSelectFirstItemOnChangeApi:"optionSelectFirstItemOnChangeApi",optionPlaceholder:"optionPlaceholder",optionLabel:"optionLabel",optionSelectForSendMessage:"optionSelectForSendMessage",optionAccessDataType:"optionAccessDataType",optionReload:"optionReload",optionSelectForce:"optionSelectForce",optionLinkApiPathId:"optionLinkApiPathId"},outputs:{optionChange:"optionChange"},standalone:!1,ngContentSelectors:qs,decls:16,vars:23,consts:[["matauto","matAutocomplete"],[1,"input-style","has-borders","has-icon","input-style-always-active","validate-field","mb-4","loader-container"],[3,"optionsInfoAreaId"],[1,"color-highlight",3,"for"],["type","text","aria-label","Assignee","matInput","",3,"placeholder","formControl","matAutocomplete","required","id"],[3,"optionSelected","displayWith"],[3,"value","disabled"],[1,"fa","fa-info","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"fa","fa-times","action","color-red-dark"],[1,"fa","fa-rotate-right","action","color-green-dark",2,"margin-left","20px",3,"click","title"],[1,"fa","fa-times","action","color-red-dark",3,"click"]],template:function(e,i){if(e&1){let t=A();gi(),r(0,"div",1),g(1,"app-progress-spinner",2),b(2,js,2,3,"label",3),g(3,"input",4),r(4,"mat-autocomplete",5,0),I("optionSelected",function(p){return u(t),f(i.onActionSelect(p.option.value))}),Z(6,Qs,3,3,"mat-option",6,De),S(8,"async"),s(),b(9,zs,1,0,"i",7),b(10,Ks,1,0,"i",8),b(11,Xs,1,0,"i",9),r(12,"i",10),S(13,"translate"),I("click",function(){return u(t),f(i.onActionButtonReload())}),s(),b(14,Ys,3,3,"em"),Mi(15),s()}if(e&2){let t=D(5);o(),h("optionsInfoAreaId",i.constructorInfoAreaId),o(),v((i.optionLabel==null?null:i.optionLabel.length)>0?2:-1),o(),h("placeholder",k(i.optionPlaceholder))("id",bt("app-cms-site-selector-",i.id))("formControl",i.formControl)("matAutocomplete",t)("required",i.optionRequired),se("disabled",i.optionDisabled?!0:null),o(),h("displayWith",i.displayFn),o(2),$(C(8,19,i.filteredOptions)),o(3),v(i.formControl.valid?-1:9),o(),v(i.optionRequired&&i.formControl.valid?10:-1),o(),v((i.dataModelSelect==null||i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0?11:-1),o(),B("rotation360",i.publicHelper.processService.process.inRunArea[i.constructorInfoAreaId]),h("title",k(C(13,21,"ACTION.RELOAD"))),o(2),v(i.optionRequired&&(!i.dataModelSelect||!i.dataModelSelect.id||i.dataModelSelect.id.length<=0)?14:-1)}},dependencies:[ne,oe,fe,vi,Ai,Ii,Ei,J,K,it,H],encapsulation:2});var io=Cn;var Js=["vform"];function Zs(n,l){if(n&1){let e=A();r(0,"app-cms-enum-record-status-selector",27),P("modelChange",function(t){u(e);let a=m();return T(a.dataModel.recordStatus,t)||(a.dataModel.recordStatus=t),f(t)}),s()}if(n&2){let e=m();w("model",e.dataModel.recordStatus),h("optionDisabled",!((e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.accessAddField)??!1))("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function $s(n,l){if(n&1){let e=A();r(0,"div",14)(1,"div",28)(2,"h5",29),d(3),s()(),r(4,"div",30)(5,"div",31)(6,"input",32),P("ngModelChange",function(t){u(e);let a=m();return T(a.dataModel.hasInherits,t)||(a.dataModel.hasInherits=t),f(t)}),s(),g(7,"label",33),s()()()}if(n&2){let e=m();o(3),M(" ",e.fieldsInfo.hasInherits==null?null:e.fieldsInfo.hasInherits.fieldTitle," "),o(3),w("ngModel",e.dataModel.hasInherits)}}function el(n,l){if(n&1&&(r(0,"option",17),d(1),s()),n&2){let e=l.$implicit;h("ngValue",e.value),o(),M(" ",e.description," ")}}function tl(n,l){n&1&&(r(0,"mat-error"),d(1," AccessStatus is "),r(2,"strong"),d(3),S(4,"translate"),s()()),n&2&&(o(3),y(C(4,1,"MESSAGE.required")))}function il(n,l){if(n&1&&(r(0,"option",17),d(1),s()),n&2){let e=l.$implicit;h("ngValue",e.value),o(),M(" ",e.description," ")}}function nl(n,l){n&1&&(r(0,"mat-error"),d(1," Action is "),r(2,"strong"),d(3),S(4,"translate"),s()()),n&2&&(o(3),y(C(4,1,"MESSAGE.required")))}function ol(n,l){if(n&1){let e=A();r(0,"div",20)(1,"label",34),d(2),S(3,"translate"),s(),r(4,"input",35),P("ngModelChange",function(t){u(e);let a=m();return T(a.dataModel.expireDate,t)||(a.dataModel.expireDate=t),f(t)}),s(),g(5,"mat-datepicker-toggle",23)(6,"mat-datepicker",24,4),s()}if(n&2){let e=D(7),i=m();o(2),y(C(3,5,"TITLE.Expire_Date")),o(2),w("ngModel",i.dataModel.expireDate),h("matDatepicker",e),o(),h("for",e),o(),h("calendarHeaderComponent",i.datapickerHeader)}}function al(n,l){if(n&1){let e=A();r(0,"div",26)(1,"button",36),I("click",function(){u(e);let t=m();return f(t.onFormCancel())}),g(2,"i",37),d(3),S(4,"translate"),s(),r(5,"button",38),g(6,"i",39),d(7),S(8,"translate"),s()()}if(n&2){m();let e=D(10);o(3),M(" ",C(4,3,"ACTION.CANCEL")," "),o(2),h("disabled",!e.form.valid),o(2),M(" ",C(8,5,"ACTION.SAVE")," ")}}var oo=class oo extends Ct{constructor(e,i,t,a,p,c,E,F){super(a,new ki,c,F);this.data=e;this.dialogRef=i;this.smsEnumService=t;this.smsMainApiNumberPermissionService=a;this.cmsToastrService=p;this.publicHelper=c;this.cdr=E;this.translate=F;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new q;this.dataModel=new ki;this.dataModelEnumApiNumberPermissionAccessStatusResult=new q;this.dataModelEnumApiNumberPermissionActionResult=new q;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),e&&e.linkApiNumberId&&(this.dataModel.linkApiNumberId=e.linkApiNumberId)}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(e=>{this.formInfo.formTitle=e}),this.getEnumApiNumberPermissionAccessStatus(),this.getEnumApiNumberPermissionAction(),this.DataGetAccess()}getEnumApiNumberPermissionAccessStatus(){this.smsEnumService.ServiceSmsApiNumberPermissionAccessStatusEnum().subscribe(e=>{this.dataModelEnumApiNumberPermissionAccessStatusResult=e})}getEnumApiNumberPermissionAction(){this.smsEnumService.ServiceSmsApiNumberPermissionActionEnum().subscribe(e=>{this.dataModelEnumApiNumberPermissionActionResult=e})}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.smsMainApiNumberPermissionService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success}),this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorCmsUser(e){if(!e||!e.id||e.id<=0){this.dataModel.linkCoreUserId=null;return}this.dataModel.linkCoreUserId=e.id}onActionSelectorCmsSite(e){if(!e||!e.id||e.id<=0){this.dataModel.linkCoreSiteId=null;return}this.dataModel.linkCoreSiteId=e.id}onActionSelectorCoreUserGroup(e){if(!e||!e.id||e.id<=0){this.dataModel.linkCoreUserGroupId=null;return}this.dataModel.linkCoreUserGroupId=e.id}onActionSelectorCoreSiteCategory(e){if(!e||!e.id||e.id<=0){this.dataModel.linkCoreSiteCategoryId=null;return}this.dataModel.linkCoreSiteCategoryId=e.id}onActionSelectorSelectLinkApiNumberId(e){if(!e||e.id.length<=0){this.cmsToastrService.typeErrorSelected("\u0645\u0633\u06CC\u0631 \u0633\u0631\u0648\u06CC\u0633 \u062F\u0647\u0646\u062F\u0647 \u0645\u0634\u062E\u0635 \u0646\u06CC\u0633\u062A");return}this.dataModel.linkApiNumberId=e.id}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};oo.\u0275fac=function(i){return new(i||oo)(_(ve),_(be),_(Ye),_(qi),_(W),_(U),_(G),_(O))},oo.\u0275cmp=N({type:oo,selectors:[["app-sms-api-number-permission-add"]],viewQuery:function(i,t){if(i&1&&ee(Js,5),i&2){let a;te(a=ie())&&(t.formGroup=a.first)}},standalone:!1,features:[X],decls:52,vars:50,consts:[["vform","ngForm"],["AccessStatus","ngModel"],["Action","ngModel"],["FromDate",""],["ExpireDate",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"optionChange","optionSelectForce","optionPlaceholder"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],[1,"d-flex","mb-3"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["id","dataModel.accessStatus","name","dataModel.accessStatus","required","",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[3,"ngValue"],[1,"mt-n3"],["id","dataModel.action","name","dataModel.action","required","",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],["for","dataModel.fromDate",1,"color-highlight"],["matInput","","type","text","name","dataModel.fromDate","id","dataModel.fromDate",1,"form-control","validate-name",3,"ngModelChange","ngModel","matDatepicker"],["matSuffix","",3,"for"],["touchUi","",3,"calendarHeaderComponent"],[1,"pb-5"],[1,"form-actions"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"pt-1"],["data-trigger-switch","dataModel.hasInherits",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.hasInherits","name","dataModel.hasInherits",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.hasInherits",1,"custom-control-label"],["for","dataModel.expireDate",1,"color-highlight"],["matInput","","type","text","name","dataModel.expireDate","id","dataModel.expireDate",1,"form-control","validate-name",3,"ngModelChange","ngModel","matDatepicker"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let a=A();r(0,"div",5),g(1,"app-progress-spinner",6),r(2,"div",7)(3,"p",8),d(4),s(),r(5,"p"),d(6),S(7,"translate"),s(),g(8,"app-cms-form-result-message",9),r(9,"form",10,0),I("ngSubmit",function(){return u(a),f(t.onFormSubmit())}),b(11,Zs,1,5,"app-cms-enum-record-status-selector",11),d(12),r(13,"app-sms-api-number-selector",12),S(14,"translate"),I("optionChange",function(c){return u(a),f(t.onActionSelectorSelectLinkApiNumberId(c))}),s(),r(15,"app-cms-user-selector",13),S(16,"translate"),I("optionChange",function(c){return u(a),f(t.onActionSelectorCmsUser(c))}),s(),r(17,"app-cms-site-selector",13),S(18,"translate"),I("optionChange",function(c){return u(a),f(t.onActionSelectorCmsSite(c))}),s(),r(19,"app-cms-usergroup-selector",13),S(20,"translate"),I("optionChange",function(c){return u(a),f(t.onActionSelectorCoreUserGroup(c))}),s(),r(21,"app-cms-sitecategory-selector",13),S(22,"translate"),I("optionChange",function(c){return u(a),f(t.onActionSelectorCoreSiteCategory(c))}),s(),b(23,$s,8,2,"div",14),r(24,"div",15)(25,"select",16,1),P("ngModelChange",function(c){return u(a),T(t.dataModel.accessStatus,c)||(t.dataModel.accessStatus=c),f(c)}),Z(27,el,2,2,"option",17,De),s(),r(29,"em",18),d(30),S(31,"translate"),s(),b(32,tl,5,3,"mat-error"),s(),r(33,"div",15)(34,"select",19,2),P("ngModelChange",function(c){return u(a),T(t.dataModel.action,c)||(t.dataModel.action=c),f(c)}),Z(36,il,2,2,"option",17,De),s(),r(38,"em",18),d(39),S(40,"translate"),s(),b(41,nl,5,3,"mat-error"),s(),r(42,"div",20)(43,"label",21),d(44),s(),r(45,"input",22),P("ngModelChange",function(c){return u(a),T(t.dataModel.fromDate,c)||(t.dataModel.fromDate=c),f(c)}),s(),g(46,"mat-datepicker-toggle",23)(47,"mat-datepicker",24,3),s(),b(49,ol,8,7,"div",20),g(50,"hr",25),b(51,al,9,7,"div",26),s()()()}if(i&2){let a=D(26),p=D(35),c=D(48);o(),h("optionsInfoAreaId",t.constructorInfoAreaId),o(3),M(" ",t.formInfo.formTitle," "),o(2),M(" ",C(7,34,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),h("formInfo",t.formInfo),o(3),v(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?11:-1),o(),M(" aaaa ",t.dataModel.linkApiNumberId," bbb "),o(),h("optionSelectForce",t.dataModel.linkApiNumberId)("optionPlaceholder",C(14,36,"TITLE.No")),o(2),h("optionDisabled",!((t.fieldsInfo.linkCoreUserId==null?null:t.fieldsInfo.linkCoreUserId.accessAddField)??!1))("optionSelectForce",t.dataModel.linkCoreUserId)("optionPlaceholder",C(16,38,"TITLE.USER")),o(2),h("optionDisabled",!((t.fieldsInfo.linkCoreSiteId==null?null:t.fieldsInfo.linkCoreSiteId.accessAddField)??!1))("optionSelectForce",t.dataModel.linkCoreSiteId)("optionPlaceholder",C(18,40,"TITLE.SITE")),o(2),h("optionDisabled",!((t.fieldsInfo.linkCoreUserGroupId==null?null:t.fieldsInfo.linkCoreUserGroupId.accessAddField)??!1))("optionSelectForce",t.dataModel.linkCoreUserGroupId)("optionPlaceholder",C(20,42,"TITLE.Type_Usage")),o(2),h("optionDisabled",!(t.fieldsInfo.linkCoreSiteCategoryId!=null&&t.fieldsInfo.linkCoreSiteCategoryId.accessAddField))("optionSelectForce",t.dataModel.linkCoreSiteCategoryId)("optionPlaceholder",C(22,44,"TITLE.Site_Type")),o(2),v(t.fieldsInfo.hasInherits!=null&&t.fieldsInfo.hasInherits.accessWatchField?23:-1),o(2),w("ngModel",t.dataModel.accessStatus),o(2),$(t.dataModelEnumApiNumberPermissionAccessStatusResult.listItems),o(3),M("",C(31,46,"TITLE.Select_type_of_content")," "),o(2),v(a.errors!=null&&a.errors.required?32:-1),o(2),w("ngModel",t.dataModel.action),o(2),$(t.dataModelEnumApiNumberPermissionActionResult.listItems),o(3),M("",C(40,48,"TITLE.Select_type_of_content")," "),o(2),v(p.errors!=null&&p.errors.required?41:-1),o(3),y(t.fieldsInfo.fromDate==null?null:t.fieldsInfo.fromDate.fieldTitle),o(),w("ngModel",t.dataModel.fromDate),h("matDatepicker",c),o(),h("for",c),o(),h("calendarHeaderComponent",t.datapickerHeader),o(2),v(t.fieldsInfo.expireDate!=null&&t.fieldsInfo.expireDate.accessWatchField?49:-1),o(2),v(t.formInfo.submitButtonEnabled?51:-1)}},dependencies:[_e,pn,un,ne,Je,mn,oe,ge,fe,he,Me,Ot,Gt,Ht,Le,Ft,J,yi,Te,Fi,li,Oi,K,Ee,io,H],encapsulation:2});var ao=oo;var rl=["vform"];function sl(n,l){if(n&1){let e=A();r(0,"app-cms-enum-record-status-selector",27),P("modelChange",function(t){u(e);let a=m();return T(a.dataModel.recordStatus,t)||(a.dataModel.recordStatus=t),f(t)}),s()}if(n&2){let e=m();w("model",e.dataModel.recordStatus),h("optionDisabled",!((e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.accessEditField)??!1))("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function ll(n,l){if(n&1){let e=A();r(0,"div",14)(1,"div",28)(2,"h5",29),d(3),s()(),r(4,"div",30)(5,"div",31)(6,"input",32),P("ngModelChange",function(t){u(e);let a=m();return T(a.dataModel.hasInherits,t)||(a.dataModel.hasInherits=t),f(t)}),s(),g(7,"label",33),s()()()}if(n&2){let e=m();o(3),M(" ",e.fieldsInfo.hasInherits==null?null:e.fieldsInfo.hasInherits.fieldTitle," "),o(3),w("ngModel",e.dataModel.hasInherits)}}function cl(n,l){if(n&1&&(r(0,"option",17),d(1),s()),n&2){let e=l.$implicit;h("ngValue",e.value),o(),M(" ",e.description," ")}}function dl(n,l){n&1&&(r(0,"mat-error"),d(1," AccessStatus is "),r(2,"strong"),d(3),S(4,"translate"),s()()),n&2&&(o(3),y(C(4,1,"MESSAGE.required")))}function ml(n,l){if(n&1&&(r(0,"option",17),d(1),s()),n&2){let e=l.$implicit;h("ngValue",e.value),o(),M(" ",e.description," ")}}function pl(n,l){n&1&&(r(0,"mat-error"),d(1," Action is "),r(2,"strong"),d(3),S(4,"translate"),s()()),n&2&&(o(3),y(C(4,1,"MESSAGE.required")))}function ul(n,l){if(n&1){let e=A();r(0,"div",20)(1,"label",34),d(2),s(),r(3,"input",35),P("ngModelChange",function(t){u(e);let a=m();return T(a.dataModel.expireDate,t)||(a.dataModel.expireDate=t),f(t)}),s(),g(4,"mat-datepicker-toggle",23)(5,"mat-datepicker",24,4),s()}if(n&2){let e=D(6),i=m();o(2),y(i.fieldsInfo.expireDate==null?null:i.fieldsInfo.expireDate.fieldTitle),o(),w("ngModel",i.dataModel.expireDate),h("matDatepicker",e),o(),h("for",e),o(),h("calendarHeaderComponent",i.datapickerHeader)}}function fl(n,l){if(n&1){let e=A();r(0,"div",26)(1,"button",36),I("click",function(){u(e);let t=m();return f(t.onFormCancel())}),g(2,"i",37),d(3),S(4,"translate"),s(),r(5,"button",38),g(6,"i",39),d(7),S(8,"translate"),s()()}if(n&2){m();let e=D(10);o(3),M(" ",C(4,3,"ACTION.CANCEL")," "),o(2),h("disabled",!e.form.valid),o(2),M(" ",C(8,5,"ACTION.SAVE")," ")}}var so=class so extends gt{constructor(e,i,t,a,p,c,E,F){super(a,new ki,c,F);this.data=e;this.dialogRef=i;this.smsEnumService=t;this.smsMainApiNumberPermissionService=a;this.cmsToastrService=p;this.publicHelper=c;this.cdr=E;this.translate=F;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new ft;this.dataModel=new ki;this.dataModelEnumApiNumberPermissionAccessStatusResult=new q;this.dataModelEnumApiNumberPermissionActionResult=new q;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,e&&e.id&&(this.requestId=e.id),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e});else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.getEnumApiNumberPermissionAccessStatus(),this.getEnumApiNumberPermissionAction()}getEnumApiNumberPermissionAccessStatus(){this.smsEnumService.ServiceSmsApiNumberPermissionAccessStatusEnum().subscribe(e=>{this.dataModelEnumApiNumberPermissionAccessStatusResult=e})}getEnumApiNumberPermissionAction(){this.smsEnumService.ServiceSmsApiNumberPermissionActionEnum().subscribe(e=>{this.dataModelEnumApiNumberPermissionActionResult=e})}DataGetOneContent(){if(this.requestId.length<=0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.smsMainApiNumberPermissionService.setAccessLoad(),this.smsMainApiNumberPermissionService.setAccessDataType(nt.Editor),this.smsMainApiNumberPermissionService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.smsMainApiNumberPermissionService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success}),this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorCmsUser(e){if(!e||!e.id||e.id<=0){this.dataModel.linkCoreUserId=null;return}this.dataModel.linkCoreUserId=e.id}onActionSelectorCmsSite(e){if(!e||!e.id||e.id<=0){this.dataModel.linkCoreSiteId=null;return}this.dataModel.linkCoreSiteId=e.id}onActionSelectorCoreUserGroup(e){if(!e||!e.id||e.id<=0){this.dataModel.linkCoreUserGroupId=null;return}this.dataModel.linkCoreUserGroupId=e.id}onActionSelectorCoreSiteCategory(e){if(!e||!e.id||e.id<=0){this.dataModel.linkCoreSiteCategoryId=null;return}this.dataModel.linkCoreSiteCategoryId=e.id}onActionSelectorSelectLinkApiNumberId(e){if(!e||e.id.length<=0){this.cmsToastrService.typeErrorSelected("\u0645\u0633\u06CC\u0631 \u0633\u0631\u0648\u06CC\u0633 \u062F\u0647\u0646\u062F\u0647 \u0645\u0634\u062E\u0635 \u0646\u06CC\u0633\u062A");return}this.dataModel.linkApiNumberId=e.id}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};so.\u0275fac=function(i){return new(i||so)(_(ve),_(be),_(Ye),_(qi),_(W),_(U),_(G),_(O))},so.\u0275cmp=N({type:so,selectors:[["app-sms-api-number-permission-edit"]],viewQuery:function(i,t){if(i&1&&ee(rl,5),i&2){let a;te(a=ie())&&(t.formGroup=a.first)}},standalone:!1,features:[X],decls:51,vars:49,consts:[["vform","ngForm"],["AccessStatus","ngModel"],["Action","ngModel"],["FromDate",""],["ExpireDate",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"optionChange","optionSelectForce","optionPlaceholder"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],[1,"d-flex","mb-3"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["id","dataModel.accessStatus","name","dataModel.accessStatus","required","",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[3,"ngValue"],[1,"mt-n3"],["id","dataModel.action","name","dataModel.action","required","",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],["for","dataModel.fromDate",1,"color-highlight"],["matInput","","type","text","name","dataModel.fromDate","id","dataModel.fromDate",1,"form-control","validate-name",3,"ngModelChange","ngModel","matDatepicker"],["matSuffix","",3,"for"],["touchUi","",3,"calendarHeaderComponent"],[1,"pb-5"],[1,"form-actions"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"pt-1"],["data-trigger-switch","dataModel.hasInherits",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.hasInherits","name","dataModel.hasInherits",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.hasInherits",1,"custom-control-label"],["for","dataModel.expireDate",1,"color-highlight"],["matInput","","type","text","name","dataModel.expireDate","id","dataModel.expireDate",1,"form-control","validate-name",3,"ngModelChange","ngModel","matDatepicker"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let a=A();r(0,"div",5),g(1,"app-progress-spinner",6),r(2,"div",7)(3,"p",8),d(4),s(),r(5,"p"),d(6),S(7,"translate"),s(),g(8,"app-cms-form-result-message",9),r(9,"form",10,0),I("ngSubmit",function(){return u(a),f(t.onFormSubmit())}),b(11,sl,1,5,"app-cms-enum-record-status-selector",11),r(12,"app-sms-api-number-selector",12),S(13,"translate"),I("optionChange",function(c){return u(a),f(t.onActionSelectorSelectLinkApiNumberId(c))}),s(),r(14,"app-cms-user-selector",13),S(15,"translate"),I("optionChange",function(c){return u(a),f(t.onActionSelectorCmsUser(c))}),s(),r(16,"app-cms-site-selector",13),S(17,"translate"),I("optionChange",function(c){return u(a),f(t.onActionSelectorCmsSite(c))}),s(),r(18,"app-cms-usergroup-selector",13),S(19,"translate"),I("optionChange",function(c){return u(a),f(t.onActionSelectorCoreUserGroup(c))}),s(),r(20,"app-cms-sitecategory-selector",13),S(21,"translate"),I("optionChange",function(c){return u(a),f(t.onActionSelectorCoreSiteCategory(c))}),s(),b(22,ll,8,2,"div",14),r(23,"div",15)(24,"select",16,1),P("ngModelChange",function(c){return u(a),T(t.dataModel.accessStatus,c)||(t.dataModel.accessStatus=c),f(c)}),Z(26,cl,2,2,"option",17,De),s(),r(28,"em",18),d(29),S(30,"translate"),s(),b(31,dl,5,3,"mat-error"),s(),r(32,"div",15)(33,"select",19,2),P("ngModelChange",function(c){return u(a),T(t.dataModel.action,c)||(t.dataModel.action=c),f(c)}),Z(35,ml,2,2,"option",17,De),s(),r(37,"em",18),d(38),S(39,"translate"),s(),b(40,pl,5,3,"mat-error"),s(),r(41,"div",20)(42,"label",21),d(43),s(),r(44,"input",22),P("ngModelChange",function(c){return u(a),T(t.dataModel.fromDate,c)||(t.dataModel.fromDate=c),f(c)}),s(),g(45,"mat-datepicker-toggle",23)(46,"mat-datepicker",24,3),s(),b(48,ul,7,5,"div",20),g(49,"hr",25),b(50,fl,9,7,"div",26),s()()()}if(i&2){let a=D(25),p=D(34),c=D(47);o(),h("optionsInfoAreaId",t.constructorInfoAreaId),o(3),M(" ",t.formInfo.formTitle," "),o(2),M(" ",C(7,33,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),h("formInfo",t.formInfo),o(3),v(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?11:-1),o(),h("optionSelectForce",t.dataModel.linkApiNumberId)("optionPlaceholder",C(13,35,"TITLE.No")),o(2),h("optionDisabled",!((t.fieldsInfo.linkCoreUserId==null?null:t.fieldsInfo.linkCoreUserId.accessEditField)??!1))("optionSelectForce",t.dataModel.linkCoreUserId)("optionPlaceholder",C(15,37,"TITLE.USER")),o(2),h("optionDisabled",!((t.fieldsInfo.linkCoreSiteId==null?null:t.fieldsInfo.linkCoreSiteId.accessEditField)??!1))("optionSelectForce",t.dataModel.linkCoreSiteId)("optionPlaceholder",C(17,39,"TITLE.SITE")),o(2),h("optionDisabled",!((t.fieldsInfo.linkCoreUserGroupId==null?null:t.fieldsInfo.linkCoreUserGroupId.accessEditField)??!1))("optionSelectForce",t.dataModel.linkCoreUserGroupId)("optionPlaceholder",C(19,41,"TITLE.Type_Usage")),o(2),h("optionDisabled",!(t.fieldsInfo.linkCoreSiteCategoryId!=null&&t.fieldsInfo.linkCoreSiteCategoryId.accessAddField))("optionSelectForce",t.dataModel.linkCoreSiteCategoryId)("optionPlaceholder",C(21,43,"TITLE.Site_Type")),o(2),v(t.fieldsInfo.hasInherits!=null&&t.fieldsInfo.hasInherits.accessWatchField?22:-1),o(2),w("ngModel",t.dataModel.accessStatus),o(2),$(t.dataModelEnumApiNumberPermissionAccessStatusResult.listItems),o(3),M("",C(30,45,"TITLE.Select_type_of_content")," "),o(2),v(a.errors!=null&&a.errors.required?31:-1),o(2),w("ngModel",t.dataModel.action),o(2),$(t.dataModelEnumApiNumberPermissionActionResult.listItems),o(3),M("",C(39,47,"TITLE.Select_type_of_content")," "),o(2),v(p.errors!=null&&p.errors.required?40:-1),o(3),y(t.fieldsInfo.fromDate==null?null:t.fieldsInfo.fromDate.fieldTitle),o(),w("ngModel",t.dataModel.fromDate),h("matDatepicker",c),o(),h("for",c),o(),h("calendarHeaderComponent",t.datapickerHeader),o(2),v(t.fieldsInfo.expireDate!=null&&t.fieldsInfo.expireDate.accessWatchField?48:-1),o(2),v(t.formInfo.submitButtonEnabled?50:-1)}},dependencies:[_e,pn,un,ne,Je,mn,oe,ge,fe,he,Me,Ot,Gt,Ht,Le,Ft,J,yi,Te,Fi,li,Oi,K,Ee,io,H],encapsulation:2});var lo=so;var hl=()=>[5,10,20,100],Sl=(n,l)=>l.id;function Cl(n,l){if(n&1){let e=A();r(0,"button",21),S(1,"translate"),I("click",function(){u(e);let t=m();return f(t.onActionBackToParent())}),g(2,"i",22),s()}n&2&&ln("aria-label",k(C(1,2,"ACTION.BACK")))}function gl(n,l){if(n&1){let e=A();r(0,"div",12)(1,"app-cms-search-list",23),P("optionsChange",function(t){u(e);let a=m();return T(a.optionsSearch,t)||(a.optionsSearch=t),f(t)}),s()()}if(n&2){let e=m();o(),w("options",e.optionsSearch)}}function Ml(n,l){if(n&1){let e=A();r(0,"div",13)(1,"app-cms-statist-list",23),P("optionsChange",function(t){u(e);let a=m();return T(a.optionsStatist,t)||(a.optionsStatist=t),f(t)}),s()()}if(n&2){let e=m();o(),w("options",e.optionsStatist)}}function _l(n,l){if(n&1&&(r(0,"div",24),g(1,"i",10),r(2,"span"),d(3),S(4,"translate"),S(5,"translate"),s()()),n&2){let e=m();ut("transform","translateY("+(e.pullToRefreshState.pullDistance>80?80:e.pullToRefreshState.pullDistance)+"px)"),B("refreshing",e.pullToRefreshState.isRefreshing),o(),B("rotation360",e.pullToRefreshState.isRefreshing),o(2),y(e.pullToRefreshState.isRefreshing?C(4,7,"ACTION.RELOADING"):C(5,9,"ACTION.PULL_TO_REFRESH"))}}function bl(n,l){if(n&1&&(r(0,"div",32),g(1,"i",38),r(2,"span"),d(3),S(4,"cmsuserinfo"),S(5,"async"),s()()),n&2){let e=m().$implicit;o(3),y(C(5,3,C(4,1,e.linkCoreUserId)))}}function vl(n,l){if(n&1&&(r(0,"div",32),g(1,"i",39),r(2,"span"),d(3),s()()),n&2){let e=m().$implicit;o(3),y(e.linkApiNumberId)}}function Il(n,l){n&1&&(r(0,"span",36),g(1,"i",40),d(2),S(3,"translate"),s()),n&2&&(o(2),M(" ",C(3,1,"MESSAGE.Access")," "))}function Al(n,l){if(n&1&&(r(0,"div",37),g(1,"i",41),r(2,"span"),d(3),S(4,"localeDate"),s()()),n&2){let e=m().$implicit;o(3),y(C(4,1,e.expireDate))}}function El(n,l){if(n&1){let e=A();r(0,"div",26)(1,"div",27),I("click",function(){let t=u(e).$implicit,a=m(2);return f(a.onActionTableRowSelect(t))})("touchstart",function(t){let a=u(e).$implicit,p=m(2);return f(p.onItemTouchStart(t,a.id))})("touchmove",function(t){let a=u(e).$implicit,p=m(2);return f(p.onItemTouchMove(t,a.id))})("touchend",function(t){let a=u(e).$implicit,p=m(2);return f(p.onItemTouchEnd(t,a.id))}),r(2,"div",28),g(3,"i",29),s(),r(4,"div",30)(5,"div",31),d(6),s(),b(7,bl,6,5,"div",32),b(8,vl,4,1,"div",32),r(9,"div",33)(10,"div",34),g(11,"i",35),S(12,"statusIconClass"),b(13,Il,4,3,"span",36),s(),b(14,Al,5,3,"div",37),s()()()()}if(n&2){let e,i=l.$implicit,t=m(2);ut("transform","translateX("+(((e=t.swipeState.get(i.id))==null?null:e.offset)||0)+"px)"),o(),B("selected",i.id===(t.tableRowSelected==null?null:t.tableRowSelected.id)),se("aria-label",i.id),o(5),M(" ",i.id," "),o(),v(i.linkCoreUserId?7:-1),o(),v(i.linkApiNumberId?8:-1),o(3),h("ngClass",C(12,11,i.recordStatus)),o(2),v(i.hasAccess?13:-1),o(),v(i.expireDate?14:-1)}}function yl(n,l){if(n&1&&(r(0,"div",16),Z(1,El,15,13,"div",25,Sl),s()),n&2){let e=m();o(),$(e.dataModelResult.listItems)}}function wl(n,l){n&1&&(r(0,"div",17)(1,"div",42),g(2,"i",43),s(),r(3,"div",44),d(4),S(5,"translate"),s()()),n&2&&(o(4),M(" ",C(5,1,"MESSAGE.no_information")," "))}function Tl(n,l){if(n&1){let e=A();r(0,"button",45),S(1,"translate"),I("click",function(){u(e);let t=m();return f(t.onActionButtonNewRow())}),g(2,"i",46),s()}n&2&&se("aria-label",C(1,1,"ACTION.ADD"))}function Pl(n,l){if(n&1){let e=A();r(0,"div",20)(1,"mat-paginator",47,0),I("page",function(t){u(e);let a=m();return f(a.onTablePageingData(t))}),s()()}if(n&2){let e=m();o(),h("length",(e.dataModelResult==null?null:e.dataModelResult.totalRowCount)||0)("pageIndex",((e.dataModelResult==null?null:e.dataModelResult.currentPageNumber)||1)-1)("pageSize",(e.dataModelResult==null?null:e.dataModelResult.rowPerPage)||10)("pageSizeOptions",xe(4,hl))}}var co=class co extends Qe{constructor(e,i,t,a,p,c,E,F,Ne,tt,Pe,It){super(e,new ki,Pe,c,Ne);this.contentService=e;this.cmsToastrService=i;this.activatedRoute=t;this.cmsConfirmationDialogService=a;this.router=p;this.tokenHelper=c;this.cmsStoreService=E;this.cdr=F;this.translate=Ne;this.pageInfo=tt;this.publicHelper=Pe;this.dialog=It;this.requestLinkApiNumberId="";this.requestLinkCoreUserId=0;this.requestLinkCoreSiteId=0;this.constructorInfoAreaId=this.constructor.name;this.filteModelContent=new Y;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["id","recordStatus","linkApiNumberId","linkCoreUserId","linkCoreUserGroupId","hasAccess","hasInherits","fromDate","expireDate"];this.tabledisplayedColumnsMobileSource=["id","recordStatus","linkApiNumberId","linkCoreUserId","linkCoreUserGroupId","hasAccess","hasInherits","fromDate","expireDate"];this.unsubscribe=[];this.pullToRefreshState={isRefreshing:!1,startY:0,currentY:0,pullDistance:0,threshold:80};this.Math=Math;this.swipeState=new Map;this.SWIPE_THRESHOLD=100;this.SWIPE_MAX_OFFSET=120;if(this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:z=>this.onSubmitOptionsSearch(z)},this.requestLinkCoreUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkCoreSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkApiNumberId=this.activatedRoute.snapshot.paramMap.get("LinkApiNumberId"),this.requestLinkCoreUserId>0){let z=new V;z.propertyName="LinkCoreUserId",z.value=this.requestLinkCoreUserId,this.filteModelContent.filters.push(z)}if(this.requestLinkApiNumberId?.length>0){let z=new V;z.propertyName="LinkApiNumberId",z.value=this.requestLinkApiNumberId,this.filteModelContent.filters.push(z)}this.filteModelContent.sortColumn="id",this.filteModelContent.sortType=Q.Descending}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>ae(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new ki);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{t.isSuccess&&(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=Q.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=Q.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=Q.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(ao,{height:"90%",panelClass:e,enterAnimationDuration:j.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:j.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length==0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(lo,{height:"90%",panelClass:i,enterAnimationDuration:j.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:j.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(a=>{a&&a.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length==0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(a=>{this.cmsToastrService.typeErrorSelected(a)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(a=>{i=a["MESSAGE.Please_Confirm"],t=a["MESSAGE.Do_you_want_to_delete_this_content"]+"?"}),this.cmsConfirmationDialogService.confirm(i,t).then(a=>{if(a){let p=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(p,c,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(p)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(p,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{i.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{i.set(c,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(E=>{i.set(E,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}});let a=JSON.parse(JSON.stringify(this.filteModelContent)),p=new V;p.propertyName="recordStatus",p.value=ke.Available,a.filters.push(p),this.contentService.ServiceGetCount(a).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(E=>{i.set(E,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonReload(){this.DataGetAll()}onItemTouchStart(e,i){e.stopPropagation();let t=e.touches[0];this.swipeState.set(i,{startX:t.clientX,currentX:t.clientX,offset:0})}onItemTouchMove(e,i){e.stopPropagation();let t=this.swipeState.get(i);if(!t)return;let a=e.touches[0];t.currentX=a.clientX;let p=t.currentX-t.startX,c=document.documentElement.dir==="rtl",E=c?this.SWIPE_MAX_OFFSET:-this.SWIPE_MAX_OFFSET,F=c?-this.SWIPE_MAX_OFFSET:this.SWIPE_MAX_OFFSET;t.offset=Math.max(F,Math.min(E,p))}onItemTouchEnd(e,i){e.stopPropagation();let t=this.swipeState.get(i);if(!t)return;let a=document.documentElement.dir==="rtl",p=a?this.SWIPE_THRESHOLD:-this.SWIPE_THRESHOLD;a&&t.offset>p||!a&&t.offset<p||(t.offset=0),this.swipeState.set(i,t)}onTouchStart(e){let t=e.target.closest(".cms-m-content");t&&t.scrollTop===0&&(this.pullToRefreshState.startY=e.touches[0].clientY,this.pullToRefreshState.isRefreshing=!1)}onTouchMove(e){let t=e.target.closest(".cms-m-content");t&&t.scrollTop===0&&this.pullToRefreshState.startY>0&&(this.pullToRefreshState.currentY=e.touches[0].clientY,this.pullToRefreshState.pullDistance=Math.max(0,this.pullToRefreshState.currentY-this.pullToRefreshState.startY),this.pullToRefreshState.pullDistance>10&&e.preventDefault())}onTouchEnd(e){this.pullToRefreshState.pullDistance>=this.pullToRefreshState.threshold&&!this.pullToRefreshState.isRefreshing?(this.pullToRefreshState.isRefreshing=!0,this.onActionButtonReload(),setTimeout(()=>{this.pullToRefreshState.isRefreshing=!1,this.pullToRefreshState.pullDistance=0,this.pullToRefreshState.startY=0,this.pullToRefreshState.currentY=0},1e3)):(this.pullToRefreshState.pullDistance=0,this.pullToRefreshState.startY=0,this.pullToRefreshState.currentY=0)}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/sms/main/api-number"])}};co.\u0275fac=function(i){return new(i||co)(_(qi),_(W),_(Xe),_(Oe),_(He),_(Ce),_(Ae),_(G),_(O),_(je),_(U),_(Se))},co.\u0275cmp=N({type:co,selectors:[["app-sms-api-number-permission-list-mobile"]],standalone:!1,features:[X],decls:27,vars:26,consts:[["paginator",""],[1,"cms-m-body","loader-container"],[3,"optionsInfoAreaId"],[1,"cms-m-header","safe-area-top"],[1,"cms-m-header-content"],["type","button",1,"cms-m-back-btn",3,"aria-label"],[1,"cms-m-header-title"],[1,"cms-m-header-actions"],["type","button",1,"cms-m-header-action-btn",3,"click"],["aria-hidden","true",1,"fa-solid","fa-magnifying-glass"],["aria-hidden","true",1,"fa-solid","fa-rotate-right"],["aria-hidden","true",1,"fa-solid","fa-chart-bar"],[1,"cms-m-search-area","safe-area-content"],[1,"cms-m-statist-area","safe-area-content"],[1,"cms-m-pull-refresh-indicator",3,"transform","refreshing"],[1,"cms-m-content","safe-area-content",3,"touchstart","touchmove","touchend"],[1,"cms-m-list"],[1,"cms-m-empty-state"],[1,"cms-m-footer","safe-area-bottom"],[1,"cms-m-fab"],[1,"cms-m-pagination-wrapper"],["type","button",1,"cms-m-back-btn",3,"click","aria-label"],["aria-hidden","true",1,"fa-solid","fa-arrow-right"],[3,"optionsChange","options"],[1,"cms-m-pull-refresh-indicator"],[1,"cms-m-list-item-wrapper",3,"transform"],[1,"cms-m-list-item-wrapper"],["role","button","tabindex","0",1,"cms-m-list-item",3,"click","touchstart","touchmove","touchend"],[1,"cms-m-list-item-image-placeholder"],["aria-hidden","true",1,"fa-solid","fa-shield-halved"],[1,"cms-m-list-item-content"],[1,"cms-m-list-item-title"],[1,"cms-m-list-item-subtitle"],[1,"cms-m-list-item-footer"],[1,"cms-m-list-item-status"],["aria-hidden","true",3,"ngClass"],[1,"cms-m-badge","public"],[1,"cms-m-list-item-date"],["aria-hidden","true",1,"fa-solid","fa-user"],["aria-hidden","true",1,"fa-solid","fa-hashtag"],["aria-hidden","true",1,"fa-solid","fa-check"],["aria-hidden","true",1,"fa-solid","fa-clock"],[1,"cms-m-empty-state-icon"],["aria-hidden","true",1,"fa-solid","fa-inbox"],[1,"cms-m-empty-state-text"],[1,"cms-m-fab",3,"click"],["aria-hidden","true",1,"fa-solid","fa-plus"],[3,"page","length","pageIndex","pageSize","pageSizeOptions"]],template:function(i,t){i&1&&(r(0,"div",1),g(1,"app-progress-spinner",2),r(2,"div",3)(3,"div",4),b(4,Cl,3,4,"button",5),r(5,"h1",6),d(6),S(7,"translate"),s(),r(8,"div",7)(9,"button",8),S(10,"translate"),I("click",function(){return t.optionsSearch.data.show=!t.optionsSearch.data.show}),g(11,"i",9),s(),r(12,"button",8),S(13,"translate"),I("click",function(){return t.onActionButtonReload()}),g(14,"i",10),s(),r(15,"button",8),S(16,"translate"),I("click",function(){return t.onActionButtonStatist()}),g(17,"i",11),s()()()(),b(18,gl,2,1,"div",12),b(19,Ml,2,1,"div",13),b(20,_l,6,11,"div",14),r(21,"div",15),I("touchstart",function(p){return t.onTouchStart(p)})("touchmove",function(p){return t.onTouchMove(p)})("touchend",function(p){return t.onTouchEnd(p)}),b(22,yl,3,0,"div",16)(23,wl,6,3,"div",17),s(),r(24,"div",18),b(25,Tl,3,3,"button",19),b(26,Pl,3,5,"div",20),s()()),i&2&&(o(),h("optionsInfoAreaId",t.constructorInfoAreaId),o(3),v((t.requestLinkApiNumberId==null?null:t.requestLinkApiNumberId.length)>0?4:-1),o(2),M(" ",C(7,18,"ROUTE.SMS.MAIN")," "),o(3),B("active",t.optionsSearch.data.show),se("aria-label",C(10,20,"ACTION.SEARCH")),o(3),se("aria-label",C(13,22,"ACTION.RELOAD")),o(2),B("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(),B("active",t.optionsStatist==null||t.optionsStatist.data==null?null:t.optionsStatist.data.show),se("aria-label",C(16,24,"ACTION.STATIST")),o(3),v(t.optionsSearch.data.show?18:-1),o(),v(!(t.optionsStatist==null||t.optionsStatist.data==null)&&t.optionsStatist.data.show?19:-1),o(),v(t.pullToRefreshState.pullDistance>0?20:-1),o(2),v(t.dataModelResult!=null&&t.dataModelResult.listItems&&t.dataModelResult.listItems.length>0?22:23),o(3),v(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessAddRow?25:-1),o(),v((t.dataModelResult==null?null:t.dataModelResult.totalRowCount)>0?26:-1))},dependencies:[Ge,Ie,We,Ue,K,it,H,wi,st,qe],styles:['@charset "UTF-8";.cms-m-content[_ngcontent-%COMP%]{padding:8px var(--cms-m-spacing-md);padding-bottom:calc(8px + env(safe-area-inset-bottom));position:relative;touch-action:pan-y}.cms-m-header-spacer[_ngcontent-%COMP%]{flex:1}@media (max-width: 375px){.cms-m-content[_ngcontent-%COMP%]{padding:8px 12px}.cms-m-list-item[_ngcontent-%COMP%]{padding:10px 12px}.cms-m-list-item-image[_ngcontent-%COMP%], .cms-m-list-item-image-placeholder[_ngcontent-%COMP%]{width:48px;height:48px}.cms-m-action-btn[_ngcontent-%COMP%]{width:40px;height:40px;min-width:40px;min-height:40px}}@media screen and (-webkit-min-device-pixel-ratio: 0){.cms-m-list-item[_ngcontent-%COMP%]{will-change:transform}}']});var Ln=co;var Rl=["vform"];function xl(n,l){if(n&1){let e=A();r(0,"app-cms-enum-record-status-selector",11),P("modelChange",function(t){u(e);let a=m();return T(a.dataModel.recordStatus,t)||(a.dataModel.recordStatus=t),f(t)}),s()}if(n&2){let e=m();w("model",e.dataModel.recordStatus),h("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Dl(n,l){if(n&1){let e=A();r(0,"div",9)(1,"label",12),d(2),s(),r(3,"input",13,1),P("ngModelChange",function(t){u(e);let a=m();return T(a.dataModel.numberChar,t)||(a.dataModel.numberChar=t),f(t)}),s(),r(5,"em"),d(6),s()()}if(n&2){let e=D(4),i=m();o(2),y(i.fieldsInfo.numberChar==null?null:i.fieldsInfo.numberChar.fieldTitle),o(),h("disabled",k(!(i.fieldsInfo.numberChar!=null&&i.fieldsInfo.numberChar.accessAddField))),w("ngModel",i.dataModel.numberChar),o(3),M("",e.value.length," / 100")}}function kl(n,l){if(n&1){let e=A();r(0,"div",10)(1,"button",14),I("click",function(){u(e);let t=m();return f(t.onFormCancel())}),g(2,"i",15),d(3),S(4,"translate"),s(),r(5,"button",16),g(6,"i",17),d(7),S(8,"translate"),s()()}if(n&2){m();let e=D(10);o(3),M(" ",C(4,3,"ACTION.CANCEL")," "),o(2),h("disabled",!e.form.valid),o(2),M(" ",C(8,5,"ACTION.SAVE")," ")}}var po=class po extends Ct{constructor(e,i,t,a,p,c,E,F){super(a,new oi,c,F);this.data=e;this.dialogRef=i;this.smsEnumService=t;this.smsMainApiNumberService=a;this.cmsToastrService=p;this.publicHelper=c;this.cdr=E;this.translate=F;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new q;this.dataModel=new oi;this.dataModelEnumApiNumberAccessStatusResult=new q;this.dataModelEnumApiNumberActionResult=new q;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess()}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.smsMainApiNumberService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success}),this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0,model:i.item})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};po.\u0275fac=function(i){return new(i||po)(_(ve),_(be),_(Ye),_(_i),_(W),_(U),_(G),_(O))},po.\u0275cmp=N({type:po,selectors:[["app-sms-api-number-add"]],viewQuery:function(i,t){if(i&1&&ee(Rl,5),i&2){let a;te(a=ie())&&(t.formGroup=a.first)}},standalone:!1,features:[X],decls:14,vars:9,consts:[["vform","ngForm"],["NumberChar",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],[1,"form-actions"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.numberChar",1,"color-highlight"],["matInput","","type","text","name","dataModel.numberChar","placeholder","123","id","dataModel.numberChar",1,"form-control","validate-name","input-ltr",3,"ngModelChange","ngModel","disabled"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let a=A();r(0,"div",2),g(1,"app-progress-spinner",3),r(2,"div",4)(3,"p",5),d(4),s(),r(5,"p"),d(6),S(7,"translate"),s(),g(8,"app-cms-form-result-message",6),r(9,"form",7,0),I("ngSubmit",function(){return u(a),f(t.onFormSubmit())}),b(11,xl,1,5,"app-cms-enum-record-status-selector",8),b(12,Dl,7,5,"div",9),b(13,kl,9,7,"div",10),s()()()}i&2&&(o(),h("optionsInfoAreaId",t.constructorInfoAreaId),o(3),M(" ",t.formInfo.formTitle," "),o(2),M(" ",C(7,7,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),h("formInfo",t.formInfo),o(3),v(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?11:-1),o(),v(t.fieldsInfo.numberChar!=null&&t.fieldsInfo.numberChar.accessWatchField?12:-1),o(),v(t.formInfo.submitButtonEnabled?13:-1))},dependencies:[_e,ne,oe,ge,he,Me,J,Te,K,Ee,H],encapsulation:2});var uo=po;function Ll(n,l){if(n&1){let e=A();r(0,"li")(1,"mat-checkbox",0),I("change",function(){let t=u(e).$implicit,a=m();return f(a.onActionSelect(t))}),d(2),s()()}if(n&2){let e=l.$implicit,i=m();o(),h("checked",i.fieldsStatus.get(e.id))("disabled",i.optionDisabled),o(),M(" ",e.title," ")}}var fo=class fo{constructor(l,e,i,t,a,p){this.coreEnumService=l;this.categoryService=e;this.cdr=i;this.publicHelper=t;this.translate=a;this.cmsToastrService=p;this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new q;this.dataModelSelect=[];this.dataIdsSelect=[];this.formControl=new ei;this.fieldsStatus=new Map;this.optionDisabled=!1;this.optionSelectFirstItem=!1;this.optionPlaceholder="";this.optionChange=new ot;this.optionSelectAdded=new ot;this.optionSelectRemoved=new ot;this.optionReload=()=>this.onActionButtonReload();this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(l){this.onActionSelectForce(l)}ngOnInit(){this.DataGetAll()}DataGetAll(){let l=new Y;l.rowPerPage=50,l.accessLoad=!0;let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.categoryService.ServiceGetAll(l).subscribe({next:i=>{i.isSuccess?(this.dataModelResult=i,this.dataModelResult.listItems.forEach(t=>this.fieldsStatus.set(t.id,!1)),this.dataIdsSelect.forEach(t=>this.fieldsStatus.set(t,!0)),this.dataModelResult.listItems.forEach(t=>{this.fieldsStatus.get(t.id)&&this.dataModelSelect.push(t)})):this.cmsToastrService.typeErrorMessage(i.errorMessage),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelect(l){this.fieldsStatus.get(l.id)?(this.fieldsStatus.set(l.id,!1),this.optionSelectRemoved.emit(l),this.dataModelSelect.splice(this.dataModelSelect.indexOf(l),1)):(this.fieldsStatus.set(l.id,!0),this.optionSelectAdded.emit(l),this.dataModelSelect.push(l)),this.optionChange.emit(this.dataModelSelect)}onActionSelectForce(l){typeof l==typeof Array(String)?l.forEach(e=>{this.dataIdsSelect.push(e)}):typeof l==typeof Array(Qt)&&l.forEach(e=>{this.dataIdsSelect.push(e.id)}),this.dataIdsSelect.forEach(e=>this.fieldsStatus.set(e,!0))}onActionButtonReload(){this.DataGetAll()}};fo.\u0275fac=function(e){return new(e||fo)(_(Re),_(St),_(G),_(U),_(O),_(W))},fo.\u0275cmp=N({type:fo,selectors:[["app-sms-apipath-selectionlist"]],inputs:{optionDisabled:"optionDisabled",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange",optionSelectAdded:"optionSelectAdded",optionSelectRemoved:"optionSelectRemoved"},standalone:!1,decls:3,vars:0,consts:[[3,"change","checked","disabled"]],template:function(e,i){e&1&&(r(0,"ul"),Z(1,Ll,3,3,"li",null,De),s()),e&2&&(o(),$(i.dataModelResult.listItems))},dependencies:[hn],encapsulation:2});var dr=fo;var Nl=["vform"];function Bl(n,l){if(n&1){let e=A();r(0,"app-cms-enum-record-status-selector",36),P("modelChange",function(t){u(e);let a=m();return T(a.dataModel.recordStatus,t)||(a.dataModel.recordStatus=t),f(t)}),s()}if(n&2){let e=m();w("model",e.dataModel.recordStatus),h("optionDisabled",!((e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.accessEditField)??!1))("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Fl(n,l){if(n&1){let e=A();r(0,"div",19)(1,"label",37),d(2),s(),r(3,"input",38,6),P("ngModelChange",function(t){u(e);let a=m();return T(a.dataModel.numberChar,t)||(a.dataModel.numberChar=t),f(t)}),s(),r(5,"em"),d(6),s()()}if(n&2){let e=D(4),i=m();o(2),y(i.fieldsInfo.numberChar==null?null:i.fieldsInfo.numberChar.fieldTitle),o(),h("disabled",k(!(i.fieldsInfo.numberChar!=null&&i.fieldsInfo.numberChar.accessEditField))),w("ngModel",i.dataModel.numberChar),o(3),M("",e.value.length," / 100")}}function Ol(n,l){if(n&1){let e=A();r(0,"div",20)(1,"div",39)(2,"h5",40),d(3),s()(),r(4,"div",41)(5,"div",42)(6,"input",43),P("ngModelChange",function(t){u(e);let a=m();return T(a.dataModel.isPublic,t)||(a.dataModel.isPublic=t),f(t)}),s(),g(7,"label",44),s()()()}if(n&2){let e=m();o(3),M(" ",e.fieldsInfo.isPublic==null?null:e.fieldsInfo.isPublic.fieldTitle," "),o(3),w("ngModel",e.dataModel.isPublic)}}function Gl(n,l){if(n&1){let e=A();r(0,"div",20)(1,"div",39)(2,"h5",45),d(3),s()(),r(4,"div",41)(5,"div",42)(6,"input",46),P("ngModelChange",function(t){u(e);let a=m();return T(a.dataModel.saleStatus,t)||(a.dataModel.saleStatus=t),f(t)}),s(),g(7,"label",47),s()()()}if(n&2){let e=m();o(3),M(" ",e.fieldsInfo.saleStatus==null?null:e.fieldsInfo.saleStatus.fieldTitle," "),o(3),w("ngModel",e.dataModel.saleStatus)}}function Hl(n,l){if(n&1){let e=A();r(0,"div",19)(1,"label",48),d(2),s(),r(3,"input",49,7),P("ngModelChange",function(t){u(e);let a=m();return T(a.dataModel.priority,t)||(a.dataModel.priority=t),f(t)}),s(),r(5,"em"),d(6),s()()}if(n&2){let e=D(4),i=m();o(2),y(i.fieldsInfo.priority==null?null:i.fieldsInfo.priority.fieldTitle),o(),h("disabled",k(!(i.fieldsInfo.priority!=null&&i.fieldsInfo.priority.accessEditField))),w("ngModel",i.dataModel.priority),o(3),M("",e.value.length," / 100")}}function Wl(n,l){if(n&1){let e=A();r(0,"div",20)(1,"div",39)(2,"h5",50),d(3),s()(),r(4,"div",41)(5,"div",42)(6,"input",51),P("ngModelChange",function(t){u(e);let a=m();return T(a.dataModel.deliveryRelayStatus,t)||(a.dataModel.deliveryRelayStatus=t),f(t)}),s(),g(7,"label",52),s()()()}if(n&2){let e=m();o(3),M(" ",e.fieldsInfo.deliveryRelayStatus==null?null:e.fieldsInfo.deliveryRelayStatus.fieldTitle," "),o(3),w("ngModel",e.dataModel.deliveryRelayStatus)}}function Ul(n,l){if(n&1){let e=A();r(0,"div",19)(1,"label",53),d(2),s(),r(3,"input",54,8),P("ngModelChange",function(t){u(e);let a=m();return T(a.dataModel.deliveryRelayUrl,t)||(a.dataModel.deliveryRelayUrl=t),f(t)}),s()()}if(n&2){let e=m();o(2),y(e.fieldsInfo.deliveryRelayUrl==null?null:e.fieldsInfo.deliveryRelayUrl.fieldTitle),o(),w("ngModel",e.dataModel.deliveryRelayUrl),h("readonly",!e.dataModel.deliveryRelayStatus)("disabled",!(e.fieldsInfo.deliveryRelayUrl!=null&&e.fieldsInfo.deliveryRelayUrl.accessEditField))}}function ql(n,l){if(n&1){let e=A();r(0,"div",20)(1,"div",39)(2,"h5",55),d(3),s()(),r(4,"div",41)(5,"div",42)(6,"input",56),P("ngModelChange",function(t){u(e);let a=m();return T(a.dataModel.smsRelayStatus,t)||(a.dataModel.smsRelayStatus=t),f(t)}),s(),g(7,"label",57),s()()()}if(n&2){let e=m();o(3),M(" ",e.fieldsInfo.smsRelayStatus==null?null:e.fieldsInfo.smsRelayStatus.fieldTitle," "),o(3),w("ngModel",e.dataModel.smsRelayStatus)}}function jl(n,l){if(n&1){let e=A();r(0,"div",19)(1,"label",58),d(2),s(),r(3,"input",59,9),P("ngModelChange",function(t){u(e);let a=m();return T(a.dataModel.smsRelayUrl,t)||(a.dataModel.smsRelayUrl=t),f(t)}),s()()}if(n&2){let e=m();o(2),y(e.fieldsInfo.smsRelayUrl==null?null:e.fieldsInfo.smsRelayUrl.fieldTitle),o(),w("ngModel",e.dataModel.smsRelayUrl),h("readonly",!e.dataModel.smsRelayStatus)("disabled",!(e.fieldsInfo.smsRelayUrl!=null&&e.fieldsInfo.smsRelayUrl.accessEditField))}}function Ql(n,l){if(n&1){let e=A();r(0,"div",21)(1,"label",60),d(2),s(),r(3,"input",61),P("ngModelChange",function(t){u(e);let a=m();return T(a.dataModel.expireDate,t)||(a.dataModel.expireDate=t),f(t)}),s(),g(4,"mat-datepicker-toggle",24)(5,"mat-datepicker",25,10),s()}if(n&2){let e=D(6),i=m();o(2),y(i.fieldsInfo.expireDate==null?null:i.fieldsInfo.expireDate.fieldTitle),o(),w("ngModel",i.dataModel.expireDate),h("matDatepicker",e),o(),h("for",e),o(),h("calendarHeaderComponent",i.datapickerHeader)}}function zl(n,l){n&1&&(r(0,"mat-error"),d(1," apiSendMessageAddTextFirst is "),r(2,"strong"),d(3),S(4,"translate"),s()()),n&2&&(o(3),y(C(4,1,"MESSAGE.required")))}function Kl(n,l){n&1&&(r(0,"mat-error"),d(1," apiSendMessageAddTextEnd is "),r(2,"strong"),d(3),S(4,"translate"),s()()),n&2&&(o(3),y(C(4,1,"MESSAGE.required")))}function Xl(n,l){n&1&&(r(0,"mat-error"),d(1," sendMessageAddTextFirst is "),r(2,"strong"),d(3),S(4,"translate"),s()()),n&2&&(o(3),y(C(4,1,"MESSAGE.required")))}function Yl(n,l){n&1&&(r(0,"mat-error"),d(1," sendMessageAddTextEnd is "),r(2,"strong"),d(3),S(4,"translate"),s()()),n&2&&(o(3),y(C(4,1,"MESSAGE.required")))}function Jl(n,l){if(n&1){let e=A();r(0,"div",19)(1,"label",62),d(2),s(),r(3,"input",63,11),P("ngModelChange",function(t){u(e);let a=m();return T(a.dataModel.actionMemo,t)||(a.dataModel.actionMemo=t),f(t)}),s()()}if(n&2){let e=m();o(2),y(e.fieldsInfo.actionMemo==null?null:e.fieldsInfo.actionMemo.fieldTitle),o(),w("ngModel",e.dataModel.actionMemo),h("disabled",!(e.fieldsInfo.actionMemo!=null&&e.fieldsInfo.actionMemo.accessEditField))}}function Zl(n,l){if(n&1){let e=A();r(0,"div",35)(1,"button",64),I("click",function(){u(e);let t=m();return f(t.onFormCancel())}),g(2,"i",65),d(3),S(4,"translate"),s(),r(5,"button",66),g(6,"i",67),d(7),S(8,"translate"),s()()}if(n&2){m();let e=D(10);o(3),M(" ",C(4,3,"ACTION.CANCEL")," "),o(2),h("disabled",!e.form.valid),o(2),M(" ",C(8,5,"ACTION.SAVE")," ")}}var ho=class ho extends gt{constructor(e,i,t,a,p,c,E,F,Ne){super(a,new oi,E,Ne);this.data=e;this.dialogRef=i;this.smsEnumService=t;this.smsMainApiNumberService=a;this.smsMainApiPathAndApiNumberService=p;this.cmsToastrService=c;this.publicHelper=E;this.cdr=F;this.translate=Ne;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new ft;this.dataModel=new oi;this.dataModelEnumApiNumberAccessStatusResult=new q;this.dataModelEnumApiNumberActionResult=new q;this.fileManagerOpenForm=!1;this.dataCoreCpMainMenuIds=[];this.publicHelper.processService.cdr=this.cdr,e&&e.id&&(this.requestId=e.id),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e});else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent()}DataGetOneContent(){if(this.requestId.length<=0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.smsMainApiNumberService.setAccessLoad(),this.smsMainApiNumberService.setAccessDataType(nt.Editor),this.smsMainApiNumberService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.DataGetAllMenuCoreUserGroup(),this.formInfo.formTitle=this.formInfo.formTitle,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataGetAllMenuCoreUserGroup(){if(this.requestId.length<=0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Getting_access_category_from_the_server").subscribe(a=>{this.formInfo.submitResultMessage=a}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(a=>{this.publicHelper.processService.processStart(e,a,this.constructorInfoAreaId)});let i=new Y,t=new V;t.propertyName="LinkApiNumberId",t.value=this.requestId,i.filters.push(t),this.smsMainApiPathAndApiNumberService.ServiceGetAll(i).subscribe({next:a=>{this.dataCoreCpMainMenuCmsUserGroupModel=a.listItems;let p=[];this.dataCoreCpMainMenuCmsUserGroupModel.forEach(c=>{p.push(c.linkApiPathId)}),this.dataCoreCpMainMenuIds=p,a.isSuccess?(this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(c=>{this.formInfo.submitResultMessage=c}),this.formInfo.submitResultMessage=a.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(a.errorMessage)),this.publicHelper.processService.processStop(e)},error:a=>{this.cmsToastrService.typeError(a),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.smsMainApiNumberService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}onActionSelectorUserCategorySelect(e){this.dataCoreCpMainMenuModel=e}onActionSelectorUserCategorySelectAdded(e){let i=new kr;i.linkApiPathId=e.id,i.linkApiNumberId=this.dataModel.id,this.smsMainApiPathAndApiNumberService.ServiceAdd(i).subscribe({next:t=>{t.isSuccess?(this.translate.get("MESSAGE.registration_in_this_group_was_successful").subscribe(a=>{this.formInfo.submitResultMessage=a,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success}),this.cmsToastrService.typeSuccessEdit()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(a=>{this.formInfo.submitResultMessage=a}),this.formInfo.submitResultMessage=t.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(t.errorMessage))},error:t=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(t)}})}onActionSelectorUserCategorySelectRemoved(e){let i=new kr;i.linkApiPathId=e.id,i.linkApiNumberId=this.dataModel.id,this.smsMainApiPathAndApiNumberService.ServiceDeleteEntity(i).subscribe({next:t=>{t.isSuccess?(this.translate.get("MESSAGE.Deletion_from_this_group_Was_Successful").subscribe(a=>{this.formInfo.submitResultMessage=a}),this.cmsToastrService.typeSuccessEdit()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(a=>{this.formInfo.submitResultMessage=a}),this.formInfo.submitResultMessage=t.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(t.errorMessage))},error:t=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(t)}})}};ho.\u0275fac=function(i){return new(i||ho)(_(ve),_(be),_(Ye),_(_i),_(Ka),_(W),_(U),_(G),_(O))},ho.\u0275cmp=N({type:ho,selectors:[["app-sms-api-number-edit"]],viewQuery:function(i,t){if(i&1&&ee(Nl,5),i&2){let a;te(a=ie())&&(t.formGroup=a.first)}},standalone:!1,features:[X],decls:63,vars:49,consts:[["vform","ngForm"],["accessUseStartDate",""],["apiSendMessageAddTextFirst",""],["apiSendMessageAddTextEnd",""],["sendMessageAddTextFirst",""],["sendMessageAddTextEnd",""],["NumberChar",""],["Priority",""],["DeliveryRelayUrl",""],["SmsRelayUrl",""],["ExpireDate",""],["ActionMemo",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],[1,"d-flex","mb-3"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],["for","dataModel.accessUseStartDate",1,"color-highlight"],["matInput","","type","text","name","dataModel.accessUseStartDate","id","dataModel.accessUseStartDate",1,"form-control","validate-name",3,"ngModelChange","matDatepicker","ngModel"],["matSuffix","",3,"for"],["touchUi","",3,"calendarHeaderComponent"],["for","dataModel.apiSendMessageAddTextFirst",1,"color-highlight"],["matInput","","name","dataModel.apiSendMessageAddTextFirst","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.apiSendMessageAddTextFirst",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.apiSendMessageAddTextEnd",1,"color-highlight"],["matInput","","name","dataModel.apiSendMessageAddTextEnd","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.apiSendMessageAddTextEnd",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.sendMessageAddTextFirst",1,"color-highlight"],["matInput","","name","dataModel.sendMessageAddTextFirst","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.sendMessageAddTextFirst",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.sendMessageAddTextEnd",1,"color-highlight"],["matInput","","name","dataModel.sendMessageAddTextEnd","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.sendMessageAddTextEnd",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[3,"optionChange","optionSelectAdded","optionSelectRemoved","optionSelectForce","optionDisabled"],[1,"form-actions"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.numberChar",1,"color-highlight"],["matInput","","type","text","name","dataModel.numberChar","placeholder","123","id","dataModel.numberChar",1,"form-control","validate-name","input-ltr",3,"ngModelChange","ngModel","disabled"],[1,"pt-1"],["data-trigger-switch","dataModel.isPublic",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.isPublic","name","dataModel.isPublic",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.isPublic",1,"custom-control-label"],["data-trigger-switch","dataModel.saleStatus",1,"font-600","font-14"],["type","checkbox","id","dataModel.saleStatus","name","dataModel.saleStatus",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.saleStatus",1,"custom-control-label"],["for","dataModel.priority",1,"color-highlight"],["matInput","","type","number","name","dataModel.priority","placeholder","1","id","dataModel.priority",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["data-trigger-switch","dataModel.deliveryRelayStatus",1,"font-600","font-14"],["type","checkbox","id","dataModel.deliveryRelayStatus","name","dataModel.deliveryRelayStatus",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.deliveryRelayStatus",1,"custom-control-label"],["for","dataModel.deliveryRelayUrl",1,"color-highlight"],["matInput","","type","text","name","dataModel.deliveryRelayUrl","placeholder","1","id","dataModel.deliveryRelayUrl",1,"form-control","validate-name",3,"ngModelChange","ngModel","readonly","disabled"],["data-trigger-switch","dataModel.smsRelayStatus",1,"font-600","font-14"],["type","checkbox","id","dataModel.smsRelayStatus","name","dataModel.smsRelayStatus",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.smsRelayStatus",1,"custom-control-label"],["for","dataModel.smsRelayUrl",1,"color-highlight"],["matInput","","type","text","name","dataModel.smsRelayUrl","placeholder","1","id","dataModel.smsRelayUrl",1,"form-control","validate-name",3,"ngModelChange","ngModel","readonly","disabled"],["for","dataModel.expireDate",1,"color-highlight"],["matInput","","type","text","name","dataModel.expireDate","id","dataModel.expireDate",1,"form-control","validate-name",3,"ngModelChange","ngModel","matDatepicker"],["for","dataModel.actionMemo",1,"color-highlight"],["matInput","","type","text","name","dataModel.actionMemo","placeholder","1","id","dataModel.actionMemo",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let a=A();r(0,"div",12),g(1,"app-progress-spinner",13),r(2,"div",14)(3,"p",15),d(4),s(),r(5,"p"),d(6),S(7,"translate"),s(),g(8,"app-cms-form-result-message",16),r(9,"form",17,0),I("ngSubmit",function(){return u(a),f(t.onFormSubmit())}),b(11,Bl,1,5,"app-cms-enum-record-status-selector",18),b(12,Fl,7,5,"div",19),b(13,Ol,8,2,"div",20),b(14,Gl,8,2,"div",20),b(15,Hl,7,5,"div",19),b(16,Wl,8,2,"div",20),b(17,Ul,5,4,"div",19),b(18,ql,8,2,"div",20),b(19,jl,5,4,"div",19),r(20,"div",21)(21,"label",22),d(22),s(),r(23,"input",23),P("ngModelChange",function(c){return u(a),T(t.dataModel.accessUseStartDate,c)||(t.dataModel.accessUseStartDate=c),f(c)}),s(),g(24,"mat-datepicker-toggle",24)(25,"mat-datepicker",25,1),s(),b(27,Ql,7,5,"div",21),r(28,"div",19)(29,"label",26),d(30),s(),r(31,"textarea",27,2),P("ngModelChange",function(c){return u(a),T(t.dataModel.apiSendMessageAddTextFirst,c)||(t.dataModel.apiSendMessageAddTextFirst=c),f(c)}),s(),r(33,"em"),d(34),s(),b(35,zl,5,3,"mat-error"),s(),r(36,"div",19)(37,"label",28),d(38),s(),r(39,"textarea",29,3),P("ngModelChange",function(c){return u(a),T(t.dataModel.apiSendMessageAddTextEnd,c)||(t.dataModel.apiSendMessageAddTextEnd=c),f(c)}),s(),r(41,"em"),d(42),s(),b(43,Kl,5,3,"mat-error"),s(),r(44,"div",19)(45,"label",30),d(46),s(),r(47,"textarea",31,4),P("ngModelChange",function(c){return u(a),T(t.dataModel.sendMessageAddTextFirst,c)||(t.dataModel.sendMessageAddTextFirst=c),f(c)}),s(),r(49,"em"),d(50),s(),b(51,Xl,5,3,"mat-error"),s(),r(52,"div",19)(53,"label",32),d(54),s(),r(55,"textarea",33,5),P("ngModelChange",function(c){return u(a),T(t.dataModel.sendMessageAddTextEnd,c)||(t.dataModel.sendMessageAddTextEnd=c),f(c)}),s(),r(57,"em"),d(58),s(),b(59,Yl,5,3,"mat-error"),s(),b(60,Jl,5,3,"div",19),r(61,"app-sms-apipath-selectionlist",34),I("optionChange",function(c){return u(a),f(t.onActionSelectorUserCategorySelect(c))})("optionSelectAdded",function(c){return u(a),f(t.onActionSelectorUserCategorySelectAdded(c))})("optionSelectRemoved",function(c){return u(a),f(t.onActionSelectorUserCategorySelectRemoved(c))}),s(),b(62,Zl,9,7,"div",35),s()()()}if(i&2){let a=D(26),p=D(32),c=D(40),E=D(48),F=D(56);o(),h("optionsInfoAreaId",t.constructorInfoAreaId),o(3),M(" ",t.formInfo.formTitle," "),o(2),M(" ",C(7,47,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),h("formInfo",t.formInfo),o(3),v(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?11:-1),o(),v(t.fieldsInfo.numberChar!=null&&t.fieldsInfo.numberChar.accessWatchField?12:-1),o(),v(t.fieldsInfo.isPublic!=null&&t.fieldsInfo.isPublic.accessWatchField?13:-1),o(),v(t.fieldsInfo.saleStatus!=null&&t.fieldsInfo.saleStatus.accessWatchField?14:-1),o(),v(t.fieldsInfo.priority!=null&&t.fieldsInfo.priority.accessWatchField?15:-1),o(),v(t.fieldsInfo.deliveryRelayStatus!=null&&t.fieldsInfo.deliveryRelayStatus.accessWatchField?16:-1),o(),v(t.fieldsInfo.deliveryRelayUrl!=null&&t.fieldsInfo.deliveryRelayUrl.accessWatchField?17:-1),o(),v(t.fieldsInfo.smsRelayStatus!=null&&t.fieldsInfo.smsRelayStatus.accessWatchField?18:-1),o(),v(t.fieldsInfo.smsRelayUrl!=null&&t.fieldsInfo.smsRelayUrl.accessWatchField?19:-1),o(3),y(t.fieldsInfo.accessUseStartDate==null?null:t.fieldsInfo.accessUseStartDate.fieldTitle),o(),h("matDatepicker",a),w("ngModel",t.dataModel.accessUseStartDate),o(),h("for",a),o(),h("calendarHeaderComponent",t.datapickerHeader),o(2),v(t.fieldsInfo.expireDate!=null&&t.fieldsInfo.expireDate.accessWatchField?27:-1),o(3),y(t.fieldsInfo.apiSendMessageAddTextFirst==null?null:t.fieldsInfo.apiSendMessageAddTextFirst.fieldTitle),o(),h("placeholder",k(t.fieldsInfo.apiSendMessageAddTextFirst==null?null:t.fieldsInfo.apiSendMessageAddTextFirst.fieldTitle)),w("ngModel",t.dataModel.apiSendMessageAddTextFirst),o(3),M("",p.value.length," / 500"),o(),v(p.errors!=null&&p.errors.required?35:-1),o(3),y(t.fieldsInfo.apiSendMessageAddTextEnd==null?null:t.fieldsInfo.apiSendMessageAddTextEnd.fieldTitle),o(),h("placeholder",k(t.fieldsInfo.apiSendMessageAddTextEnd==null?null:t.fieldsInfo.apiSendMessageAddTextEnd.fieldTitle)),w("ngModel",t.dataModel.apiSendMessageAddTextEnd),o(3),M("",c.value.length," / 500"),o(),v(c.errors!=null&&c.errors.required?43:-1),o(3),y(t.fieldsInfo.sendMessageAddTextFirst==null?null:t.fieldsInfo.sendMessageAddTextFirst.fieldTitle),o(),h("placeholder",k(t.fieldsInfo.sendMessageAddTextFirst==null?null:t.fieldsInfo.sendMessageAddTextFirst.fieldTitle)),w("ngModel",t.dataModel.sendMessageAddTextFirst),o(3),M("",E.value.length," / 500"),o(),v(E.errors!=null&&E.errors.required?51:-1),o(3),y(t.fieldsInfo.sendMessageAddTextEnd==null?null:t.fieldsInfo.sendMessageAddTextEnd.fieldTitle),o(),h("placeholder",k(t.fieldsInfo.sendMessageAddTextEnd==null?null:t.fieldsInfo.sendMessageAddTextEnd.fieldTitle)),w("ngModel",t.dataModel.sendMessageAddTextEnd),o(3),M("",F.value.length," / 500"),o(),v(F.errors!=null&&F.errors.required?59:-1),o(),v(t.fieldsInfo.actionMemo!=null&&t.fieldsInfo.actionMemo.accessWatchField?60:-1),o(),h("optionSelectForce",t.dataCoreCpMainMenuIds)("optionDisabled",!1),o(),v(t.formInfo.submitButtonEnabled?62:-1)}},dependencies:[_e,ne,bi,Je,oe,ge,Be,Fe,he,Me,Ot,Gt,Ht,Le,Ft,J,Te,K,Ee,ti,dr,H],encapsulation:2});var So=ho;var $l=()=>[5,10,20,100],ec=(n,l)=>l.id;function tc(n,l){if(n&1){let e=A();r(0,"button",21),S(1,"translate"),I("click",function(){u(e);let t=m();return f(t.onActionBackToParent())}),g(2,"i",22),s()}n&2&&ln("aria-label",k(C(1,2,"ACTION.BACK")))}function ic(n,l){if(n&1){let e=A();r(0,"div",12)(1,"app-cms-search-list",23),P("optionsChange",function(t){u(e);let a=m();return T(a.optionsSearch,t)||(a.optionsSearch=t),f(t)}),s()()}if(n&2){let e=m();o(),w("options",e.optionsSearch)}}function nc(n,l){if(n&1){let e=A();r(0,"div",13)(1,"app-cms-statist-list",23),P("optionsChange",function(t){u(e);let a=m();return T(a.optionsStatist,t)||(a.optionsStatist=t),f(t)}),s()()}if(n&2){let e=m();o(),w("options",e.optionsStatist)}}function oc(n,l){if(n&1&&(r(0,"div",24),g(1,"i",10),r(2,"span"),d(3),S(4,"translate"),S(5,"translate"),s()()),n&2){let e=m();ut("transform","translateY("+(e.pullToRefreshState.pullDistance>80?80:e.pullToRefreshState.pullDistance)+"px)"),B("refreshing",e.pullToRefreshState.isRefreshing),o(),B("rotation360",e.pullToRefreshState.isRefreshing),o(2),y(e.pullToRefreshState.isRefreshing?C(4,7,"ACTION.RELOADING"):C(5,9,"ACTION.PULL_TO_REFRESH"))}}function ac(n,l){if(n&1&&(r(0,"span",35),g(1,"i",40),d(2),S(3,"translate"),S(4,"translate"),s()),n&2){let e=m().$implicit;o(2),M(" ",e.saleStatus?C(3,1,"MESSAGE.Sale"):C(4,3,"MESSAGE.NotSale")," ")}}function rc(n,l){if(n&1&&(r(0,"div",39),g(1,"i",41),r(2,"span"),d(3),S(4,"localeDate"),s()()),n&2){let e=m().$implicit;o(3),y(C(4,1,e.lastUseOfDate))}}function sc(n,l){if(n&1){let e=A();r(0,"div",26)(1,"div",27),I("click",function(){let t=u(e).$implicit,a=m(2);return f(a.onActionTableRowSelect(t))})("touchstart",function(t){let a=u(e).$implicit,p=m(2);return f(p.onItemTouchStart(t,a.id))})("touchmove",function(t){let a=u(e).$implicit,p=m(2);return f(p.onItemTouchMove(t,a.id))})("touchend",function(t){let a=u(e).$implicit,p=m(2);return f(p.onItemTouchEnd(t,a.id))}),r(2,"div",28),g(3,"i",29),s(),r(4,"div",30)(5,"div",31),d(6),s(),r(7,"div",32)(8,"span",33),g(9,"i",34),d(10),S(11,"translate"),S(12,"translate"),s(),b(13,ac,5,5,"span",35),s(),r(14,"div",36)(15,"div",37),g(16,"i",38),S(17,"statusIconClass"),s(),b(18,rc,5,3,"div",39),s()()()()}if(n&2){let e,i=l.$implicit,t=m(2);ut("transform","translateX("+(((e=t.swipeState.get(i.id))==null?null:e.offset)||0)+"px)"),o(),B("selected",i.id===(t.tableRowSelected==null?null:t.tableRowSelected.id)),se("aria-label",i.numberChar),o(5),M(" ",i.numberChar," "),o(2),B("public",i.isPublic),o(),h("ngClass",i.isPublic?"fa-globe":"fa-lock"),o(),M(" ",i.isPublic?C(11,13,"MESSAGE.Public"):C(12,15,"MESSAGE.Private")," "),o(3),v(i.saleStatus?13:-1),o(3),h("ngClass",C(17,17,i.recordStatus)),o(2),v(i.lastUseOfDate?18:-1)}}function lc(n,l){if(n&1&&(r(0,"div",16),Z(1,sc,19,19,"div",25,ec),s()),n&2){let e=m();o(),$(e.dataModelResult.listItems)}}function cc(n,l){n&1&&(r(0,"div",17)(1,"div",42),g(2,"i",43),s(),r(3,"div",44),d(4),S(5,"translate"),s()()),n&2&&(o(4),M(" ",C(5,1,"MESSAGE.no_information")," "))}function dc(n,l){if(n&1){let e=A();r(0,"button",45),S(1,"translate"),I("click",function(){u(e);let t=m();return f(t.onActionButtonNewRow())}),g(2,"i",46),s()}n&2&&se("aria-label",C(1,1,"ACTION.ADD"))}function mc(n,l){if(n&1){let e=A();r(0,"div",20)(1,"mat-paginator",47,0),I("page",function(t){u(e);let a=m();return f(a.onTablePageingData(t))}),s()()}if(n&2){let e=m();o(),h("length",(e.dataModelResult==null?null:e.dataModelResult.totalRowCount)||0)("pageIndex",((e.dataModelResult==null?null:e.dataModelResult.currentPageNumber)||1)-1)("pageSize",(e.dataModelResult==null?null:e.dataModelResult.rowPerPage)||10)("pageSizeOptions",xe(4,$l))}}var Co=class Co extends Qe{constructor(e,i,t,a,p,c,E,F,Ne,tt,Pe,It){super(e,new oi,Pe,c,Ne);this.contentService=e;this.cmsToastrService=i;this.activatedRoute=t;this.cmsConfirmationDialogService=a;this.router=p;this.tokenHelper=c;this.cdr=E;this.cmsStoreService=F;this.translate=Ne;this.pageInfo=tt;this.publicHelper=Pe;this.dialog=It;this.requestLinkApiPathId="";this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new Y;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["id","recordStatus","NumberChar","accessUseStartDate","isPublic","lastUseOfDate","SaleStatus","createdDate","updatedDate","position"];this.tabledisplayedColumnsMobileSource=["id","recordStatus","NumberChar","accessUseStartDate","isPublic","lastUseOfDate","SaleStatus","createdDate","updatedDate","position"];this.unsubscribe=[];this.pullToRefreshState={isRefreshing:!1,startY:0,currentY:0,pullDistance:0,threshold:80};this.Math=Math;this.swipeState=new Map;this.SWIPE_THRESHOLD=100;this.SWIPE_MAX_OFFSET=120;this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:z=>this.onSubmitOptionsSearch(z)},this.filteModelContent.sortColumn="priority",this.filteModelContent.sortType=Q.Ascending}ngOnInit(){if(this.activatedRoute.snapshot.paramMap.get("LinkApiPathId")&&(this.requestLinkApiPathId=this.activatedRoute.snapshot.paramMap.get("LinkApiPathId")),this.requestLinkApiPathId?.length>0){let e=new V;e.propertyName="ApiPathAndApiNumbers",e.propertyAnyName="LinkApiPathId",e.value=this.requestLinkApiPathId,this.filteModelContent.filters.push(e)}this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>ae(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new oi);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));if(this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.categoryModelSelected&&this.categoryModelSelected.id?.length>0){let t=new V;t.propertyName="ApiPathAndApiNumbers",t.propertyAnyName="LinkApiPathId",t.value=this.categoryModelSelected.id,i.filters.push(t)}this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=Q.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=Q.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=Q.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionSelectorSelect(e){var i=this.filteModelContent.sortColumn,t=this.filteModelContent.sortType;this.filteModelContent=new Y,this.filteModelContent.sortColumn=i,this.filteModelContent.sortType=t,this.filteModelContent.sortColumn="priority",this.categoryModelSelected=e,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}let e=this.requestLinkApiPathId;this.categoryModelSelected&&this.categoryModelSelected.id&&this.categoryModelSelected.id.length>0&&(e=this.categoryModelSelected.id);var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(uo,{height:"90%",width:"60%",panelClass:i,enterAnimationDuration:j.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:j.cmsViewConfig.exitAnimationDuration,data:{linkApiPathId:e}}).afterClosed().subscribe(a=>{a&&a.dialogChangedDate&&(this.onActionButtonEditRow(a.model),this.DataGetAll())})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length==0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.tableRowSelected=e,this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(So,{height:"90%",panelClass:i,enterAnimationDuration:j.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:j.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(a=>{a&&a.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length==0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(a=>{this.cmsToastrService.typeErrorSelected(a)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(a=>{i=a["MESSAGE.Please_Confirm"],t=a["MESSAGE.Do_you_want_to_delete_this_content"]+"?"}),this.cmsConfirmationDialogService.confirm(i,t).then(a=>{if(a){let p=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(p,c,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(p)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(p,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{i.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{i.set(c,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(E=>{i.set(E,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}});let a=JSON.parse(JSON.stringify(this.filteModelContent)),p=new V;p.propertyName="recordStatus",p.value=ke.Available,a.filters.push(p),this.contentService.ServiceGetCount(a).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(E=>{i.set(E,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonPermissionList(e=this.tableRowSelected,i){if(!e||!e.id||e.id.length==0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null){this.cmsToastrService.typeErrorSelected();return}if(i?.ctrlKey){let t="/#/sms/main/api-number-permission/LinkApiNumberId/"+this.tableRowSelected.id;window.open(t,"_blank")}else this.router.navigate(["/sms/main/api-number-permission/LinkApiNumberId/",this.tableRowSelected.id])}onActionButtonReload(){this.filteModelContent.sortColumn="priority",this.DataGetAll()}onItemTouchStart(e,i){e.stopPropagation();let t=e.touches[0];this.swipeState.set(i,{startX:t.clientX,currentX:t.clientX,offset:0})}onItemTouchMove(e,i){e.stopPropagation();let t=this.swipeState.get(i);if(!t)return;let a=e.touches[0];t.currentX=a.clientX;let p=t.currentX-t.startX,c=document.documentElement.dir==="rtl",E=c?this.SWIPE_MAX_OFFSET:-this.SWIPE_MAX_OFFSET,F=c?-this.SWIPE_MAX_OFFSET:this.SWIPE_MAX_OFFSET;t.offset=Math.max(F,Math.min(E,p))}onItemTouchEnd(e,i){e.stopPropagation();let t=this.swipeState.get(i);if(!t)return;let a=document.documentElement.dir==="rtl",p=a?this.SWIPE_THRESHOLD:-this.SWIPE_THRESHOLD;a&&t.offset>p||!a&&t.offset<p||(t.offset=0),this.swipeState.set(i,t)}onTouchStart(e){let t=e.target.closest(".cms-m-content");t&&t.scrollTop===0&&(this.pullToRefreshState.startY=e.touches[0].clientY,this.pullToRefreshState.isRefreshing=!1)}onTouchMove(e){let t=e.target.closest(".cms-m-content");t&&t.scrollTop===0&&this.pullToRefreshState.startY>0&&(this.pullToRefreshState.currentY=e.touches[0].clientY,this.pullToRefreshState.pullDistance=Math.max(0,this.pullToRefreshState.currentY-this.pullToRefreshState.startY),this.pullToRefreshState.pullDistance>10&&e.preventDefault())}onTouchEnd(e){this.pullToRefreshState.pullDistance>=this.pullToRefreshState.threshold&&!this.pullToRefreshState.isRefreshing?(this.pullToRefreshState.isRefreshing=!0,this.onActionButtonReload(),setTimeout(()=>{this.pullToRefreshState.isRefreshing=!1,this.pullToRefreshState.pullDistance=0,this.pullToRefreshState.startY=0,this.pullToRefreshState.currentY=0},1e3)):(this.pullToRefreshState.pullDistance=0,this.pullToRefreshState.startY=0,this.pullToRefreshState.currentY=0)}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/sms/main/api-path"])}};Co.\u0275fac=function(i){return new(i||Co)(_(_i),_(W),_(Xe),_(Oe),_(He),_(Ce),_(G),_(Ae),_(O),_(je),_(U),_(Se))},Co.\u0275cmp=N({type:Co,selectors:[["app-sms-api-number-list-mobile"]],standalone:!1,features:[X],decls:27,vars:26,consts:[["paginator",""],[1,"cms-m-body","loader-container"],[3,"optionsInfoAreaId"],[1,"cms-m-header","safe-area-top"],[1,"cms-m-header-content"],["type","button",1,"cms-m-back-btn",3,"aria-label"],[1,"cms-m-header-title"],[1,"cms-m-header-actions"],["type","button",1,"cms-m-header-action-btn",3,"click"],["aria-hidden","true",1,"fa-solid","fa-magnifying-glass"],["aria-hidden","true",1,"fa-solid","fa-rotate-right"],["aria-hidden","true",1,"fa-solid","fa-chart-bar"],[1,"cms-m-search-area","safe-area-content"],[1,"cms-m-statist-area","safe-area-content"],[1,"cms-m-pull-refresh-indicator",3,"transform","refreshing"],[1,"cms-m-content","safe-area-content",3,"touchstart","touchmove","touchend"],[1,"cms-m-list"],[1,"cms-m-empty-state"],[1,"cms-m-footer","safe-area-bottom"],[1,"cms-m-fab"],[1,"cms-m-pagination-wrapper"],["type","button",1,"cms-m-back-btn",3,"click","aria-label"],["aria-hidden","true",1,"fa-solid","fa-arrow-right"],[3,"optionsChange","options"],[1,"cms-m-pull-refresh-indicator"],[1,"cms-m-list-item-wrapper",3,"transform"],[1,"cms-m-list-item-wrapper"],["role","button","tabindex","0",1,"cms-m-list-item",3,"click","touchstart","touchmove","touchend"],[1,"cms-m-list-item-image-placeholder"],["aria-hidden","true",1,"fa-solid","fa-phone"],[1,"cms-m-list-item-content"],[1,"cms-m-list-item-title"],[1,"cms-m-list-item-subtitle"],[1,"cms-m-badge"],["aria-hidden","true",1,"fa-solid",3,"ngClass"],[1,"cms-m-badge","sale"],[1,"cms-m-list-item-footer"],[1,"cms-m-list-item-status"],["aria-hidden","true",3,"ngClass"],[1,"cms-m-list-item-date"],["aria-hidden","true",1,"fa-solid","fa-tag"],["aria-hidden","true",1,"fa-solid","fa-clock"],[1,"cms-m-empty-state-icon"],["aria-hidden","true",1,"fa-solid","fa-inbox"],[1,"cms-m-empty-state-text"],[1,"cms-m-fab",3,"click"],["aria-hidden","true",1,"fa-solid","fa-plus"],[3,"page","length","pageIndex","pageSize","pageSizeOptions"]],template:function(i,t){i&1&&(r(0,"div",1),g(1,"app-progress-spinner",2),r(2,"div",3)(3,"div",4),b(4,tc,3,4,"button",5),r(5,"h1",6),d(6),S(7,"translate"),s(),r(8,"div",7)(9,"button",8),S(10,"translate"),I("click",function(){return t.optionsSearch.data.show=!t.optionsSearch.data.show}),g(11,"i",9),s(),r(12,"button",8),S(13,"translate"),I("click",function(){return t.onActionButtonReload()}),g(14,"i",10),s(),r(15,"button",8),S(16,"translate"),I("click",function(){return t.onActionButtonStatist()}),g(17,"i",11),s()()()(),b(18,ic,2,1,"div",12),b(19,nc,2,1,"div",13),b(20,oc,6,11,"div",14),r(21,"div",15),I("touchstart",function(p){return t.onTouchStart(p)})("touchmove",function(p){return t.onTouchMove(p)})("touchend",function(p){return t.onTouchEnd(p)}),b(22,lc,3,0,"div",16)(23,cc,6,3,"div",17),s(),r(24,"div",18),b(25,dc,3,3,"button",19),b(26,mc,3,5,"div",20),s()()),i&2&&(o(),h("optionsInfoAreaId",t.constructorInfoAreaId),o(3),v((t.requestLinkApiPathId==null?null:t.requestLinkApiPathId.length)>0?4:-1),o(2),M(" ",C(7,18,"ROUTE.SMS.MAIN")," "),o(3),B("active",t.optionsSearch.data.show),se("aria-label",C(10,20,"ACTION.SEARCH")),o(3),se("aria-label",C(13,22,"ACTION.RELOAD")),o(2),B("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(),B("active",t.optionsStatist==null||t.optionsStatist.data==null?null:t.optionsStatist.data.show),se("aria-label",C(16,24,"ACTION.STATIST")),o(3),v(t.optionsSearch.data.show?18:-1),o(),v(!(t.optionsStatist==null||t.optionsStatist.data==null)&&t.optionsStatist.data.show?19:-1),o(),v(t.pullToRefreshState.pullDistance>0?20:-1),o(2),v(t.dataModelResult!=null&&t.dataModelResult.listItems&&t.dataModelResult.listItems.length>0?22:23),o(3),v(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessAddRow?25:-1),o(),v((t.dataModelResult==null?null:t.dataModelResult.totalRowCount)>0?26:-1))},dependencies:[Ge,Ie,We,Ue,K,H,st,qe],styles:['@charset "UTF-8";.cms-m-content[_ngcontent-%COMP%]{padding:8px var(--cms-m-spacing-md);padding-bottom:calc(8px + env(safe-area-inset-bottom));position:relative;touch-action:pan-y}.cms-m-header-spacer[_ngcontent-%COMP%]{flex:1}@media (max-width: 375px){.cms-m-content[_ngcontent-%COMP%]{padding:8px 12px}.cms-m-list-item[_ngcontent-%COMP%]{padding:10px 12px}.cms-m-list-item-image[_ngcontent-%COMP%], .cms-m-list-item-image-placeholder[_ngcontent-%COMP%]{width:48px;height:48px}.cms-m-action-btn[_ngcontent-%COMP%]{width:40px;height:40px;min-width:40px;min-height:40px}}@media screen and (-webkit-min-device-pixel-ratio: 0){.cms-m-list-item[_ngcontent-%COMP%]{will-change:transform}}']});var Va=Co;var pc=["vform"];function uc(n,l){if(n&1){let e=A();r(0,"app-cms-enum-record-status-selector",26),P("modelChange",function(t){u(e);let a=m();return T(a.dataModel.recordStatus,t)||(a.dataModel.recordStatus=t),f(t)}),s()}if(n&2){let e=m();w("model",e.dataModel.recordStatus),h("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function fc(n,l){n&1&&g(0,"i",29)}function hc(n,l){n&1&&g(0,"i",30)}function Sc(n,l){n&1&&(r(0,"mat-error"),d(1," Title is "),r(2,"strong"),d(3),S(4,"translate"),s()()),n&2&&(o(3),y(C(4,1,"MESSAGE.required")))}function Cc(n,l){if(n&1){let e=A();r(0,"div",15)(1,"label",27),d(2),s(),r(3,"input",28,3),P("ngModelChange",function(t){u(e);let a=m();return T(a.dataModel.title,t)||(a.dataModel.title=t),f(t)}),s(),b(5,fc,1,0,"i",29),b(6,hc,1,0,"i",30),r(7,"em"),d(8),s(),b(9,Sc,5,3,"mat-error"),s()}if(n&2){let e=D(4),i=m();o(2),y(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(),h("placeholder",k(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle)),w("ngModel",i.dataModel.title),o(2),v(e.value?-1:5),o(),v(e.value?6:-1),o(2),M("",e.value.length," / 100"),o(),v(e.errors!=null&&e.errors.required?9:-1)}}function gc(n,l){if(n&1){let e=A();r(0,"div",16)(1,"div",31)(2,"h5",32),d(3),s()(),r(4,"div",33)(5,"div",34)(6,"input",35),P("ngModelChange",function(t){u(e);let a=m();return T(a.dataModel.checkCredit,t)||(a.dataModel.checkCredit=t),f(t)}),s(),g(7,"label",36),s()()()}if(n&2){let e=m();o(3),M(" ",e.fieldsInfo.checkCredit==null?null:e.fieldsInfo.checkCredit.fieldTitle," "),o(3),w("ngModel",e.dataModel.checkCredit)}}function Mc(n,l){if(n&1){let e=A();r(0,"div",16)(1,"div",31)(2,"h5",37),d(3),s()(),r(4,"div",33)(5,"div",34)(6,"input",38),P("ngModelChange",function(t){u(e);let a=m();return T(a.dataModel.calculateCredit,t)||(a.dataModel.calculateCredit=t),f(t)}),s(),g(7,"label",39),s()()()}if(n&2){let e=m();o(3),M(" ",e.fieldsInfo.calculateCredit==null?null:e.fieldsInfo.calculateCredit.fieldTitle," "),o(3),w("ngModel",e.dataModel.calculateCredit)}}function _c(n,l){n&1&&g(0,"i",29)}function bc(n,l){n&1&&g(0,"i",30)}function vc(n,l){if(n&1&&(r(0,"mat-error"),d(1),r(2,"strong"),d(3),S(4,"translate"),s()()),n&2){let e=m(2);o(),M(" ",e.fieldsInfo.serviceAvailableCredit==null?null:e.fieldsInfo.serviceAvailableCredit.fieldTitle," is "),o(2),y(C(4,2,"MESSAGE.required"))}}function Ic(n,l){if(n&1){let e=A();r(0,"div",15)(1,"label",40),d(2),s(),r(3,"input",41,4),P("ngModelChange",function(t){u(e);let a=m();return T(a.dataModel.serviceAvailableCredit,t)||(a.dataModel.serviceAvailableCredit=t),f(t)}),s(),b(5,_c,1,0,"i",29),b(6,bc,1,0,"i",30),b(7,vc,5,4,"mat-error"),s()}if(n&2){let e=D(4),i=m();o(2),y(i.fieldsInfo.serviceAvailableCredit==null?null:i.fieldsInfo.serviceAvailableCredit.fieldTitle),o(),w("ngModel",i.dataModel.serviceAvailableCredit),h("disabled",!(i.fieldsInfo.serviceAvailableCredit!=null&&i.fieldsInfo.serviceAvailableCredit.accessAddField)),o(2),v(e.value?-1:5),o(),v(e.value?6:-1),o(),v(e.errors!=null&&e.errors.required?7:-1)}}function Ac(n,l){n&1&&g(0,"i",29)}function Ec(n,l){n&1&&g(0,"i",30)}function yc(n,l){if(n&1&&(r(0,"mat-error"),d(1),r(2,"strong"),d(3),S(4,"translate"),s()()),n&2){let e=m(2);o(),M(" ",e.fieldsInfo.serviceSumCredit==null?null:e.fieldsInfo.serviceSumCredit.fieldTitle," is "),o(2),y(C(4,2,"MESSAGE.required"))}}function wc(n,l){if(n&1){let e=A();r(0,"div",15)(1,"label",42),d(2),s(),r(3,"input",43,5),P("ngModelChange",function(t){u(e);let a=m();return T(a.dataModel.serviceSumCredit,t)||(a.dataModel.serviceSumCredit=t),f(t)}),s(),b(5,Ac,1,0,"i",29),b(6,Ec,1,0,"i",30),b(7,yc,5,4,"mat-error"),s()}if(n&2){let e=D(4),i=m();o(2),y(i.fieldsInfo.serviceSumCredit==null?null:i.fieldsInfo.serviceSumCredit.fieldTitle),o(),w("ngModel",i.dataModel.serviceSumCredit),h("disabled",!(i.fieldsInfo.serviceSumCredit!=null&&i.fieldsInfo.serviceSumCredit.accessAddField)),o(2),v(e.value?-1:5),o(),v(e.value?6:-1),o(),v(e.errors!=null&&e.errors.required?7:-1)}}function Tc(n,l){n&1&&g(0,"i",29)}function Pc(n,l){n&1&&g(0,"i",30)}function Rc(n,l){if(n&1&&(r(0,"mat-error"),d(1),r(2,"strong"),d(3),S(4,"translate"),s()()),n&2){let e=m(2);o(),M(" ",e.fieldsInfo.userAvailableCredit==null?null:e.fieldsInfo.userAvailableCredit.fieldTitle," is "),o(2),y(C(4,2,"MESSAGE.required"))}}function xc(n,l){if(n&1){let e=A();r(0,"div",15)(1,"label",44),d(2),s(),r(3,"input",45,6),P("ngModelChange",function(t){u(e);let a=m();return T(a.dataModel.userAvailableCredit,t)||(a.dataModel.userAvailableCredit=t),f(t)}),s(),b(5,Tc,1,0,"i",29),b(6,Pc,1,0,"i",30),b(7,Rc,5,4,"mat-error"),s()}if(n&2){let e=D(4),i=m();o(2),y(i.fieldsInfo.userAvailableCredit==null?null:i.fieldsInfo.userAvailableCredit.fieldTitle),o(),w("ngModel",i.dataModel.userAvailableCredit),h("disabled",!(i.fieldsInfo.userAvailableCredit!=null&&i.fieldsInfo.userAvailableCredit.accessAddField)),o(2),v(e.value?-1:5),o(),v(e.value?6:-1),o(),v(e.errors!=null&&e.errors.required?7:-1)}}function Dc(n,l){n&1&&g(0,"i",29)}function kc(n,l){n&1&&g(0,"i",30)}function Lc(n,l){if(n&1&&(r(0,"mat-error"),d(1),r(2,"strong"),d(3),S(4,"translate"),s()()),n&2){let e=m(2);o(),M(" ",e.fieldsInfo.userSumCredit==null?null:e.fieldsInfo.userSumCredit.fieldTitle," is "),o(2),y(C(4,2,"MESSAGE.required"))}}function Vc(n,l){if(n&1){let e=A();r(0,"div",15)(1,"label",46),d(2),s(),r(3,"input",47,7),P("ngModelChange",function(t){u(e);let a=m();return T(a.dataModel.userSumCredit,t)||(a.dataModel.userSumCredit=t),f(t)}),s(),b(5,Dc,1,0,"i",29),b(6,kc,1,0,"i",30),b(7,Lc,5,4,"mat-error"),s()}if(n&2){let e=D(4),i=m();o(2),y(i.fieldsInfo.userSumCredit==null?null:i.fieldsInfo.userSumCredit.fieldTitle),o(),w("ngModel",i.dataModel.userSumCredit),h("disabled",!(i.fieldsInfo.userSumCredit!=null&&i.fieldsInfo.userSumCredit.accessAddField)),o(2),v(e.value?-1:5),o(),v(e.value?6:-1),o(),v(e.errors!=null&&e.errors.required?7:-1)}}function Nc(n,l){n&1&&(r(0,"mat-error"),d(1," Description is "),r(2,"strong"),d(3),S(4,"translate"),s()()),n&2&&(o(3),y(C(4,1,"MESSAGE.required")))}function Bc(n,l){if(n&1&&(g(0,"img",21),S(1,"cmsthumbnail")),n&2){let e=m();h("src",k(C(1,2,e.dataModel.linkMainImageIdSrc)),we)}}function Fc(n,l){if(n&1){let e=A();r(0,"div",25)(1,"button",48),I("click",function(){u(e);let t=m();return f(t.onFormCancel())}),g(2,"i",49),d(3),S(4,"translate"),s(),r(5,"button",50),g(6,"i",51),d(7),S(8,"translate"),s()()}if(n&2){m();let e=D(13);o(3),M(" ",C(4,3,"ACTION.CANCEL")," "),o(2),h("disabled",!e.form.valid),o(2),M(" ",C(8,5,"ACTION.SAVE")," ")}}var go=class go extends Ct{constructor(e,i,t,a,p,c,E,F){super(a,new jt,c,F);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.smsMainApiPathCompanyService=a;this.cmsToastrService=p;this.publicHelper=c;this.cdr=E;this.translate=F;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new q;this.dataModel=new jt;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess()}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.smsMainApiPathCompanyService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success}),this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionFileSelected(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};go.\u0275fac=function(i){return new(i||go)(_(ve),_(be),_(Re),_($t),_(W),_(U),_(G),_(O))},go.\u0275cmp=N({type:go,selectors:[["app-sms-apipathcompany-add"]],viewQuery:function(i,t){if(i&1&&ee(pc,5),i&2){let a;te(a=ie())&&(t.formGroup=a.first)}},standalone:!1,features:[X],decls:43,vars:45,consts:[["vform","ngForm"],["Description",""],["LinkMainImageId",""],["Title",""],["ServiceAvailableCredit",""],["ServiceSumCredit",""],["UserAvailableCredit",""],["UserSumCredit",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],[1,"d-flex","mb-3"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"mb-3"],["target","_blank",3,"href"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],[1,"form-actions"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"pt-1"],["data-trigger-switch","dataModel.checkCredit",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.checkCredit","name","dataModel.checkCredit",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.checkCredit",1,"custom-control-label"],["data-trigger-switch","dataModel.calculateCredit",1,"font-600","font-14"],["type","checkbox","id","dataModel.calculateCredit","name","dataModel.calculateCredit",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.calculateCredit",1,"custom-control-label"],["for","dataModel.serviceAvailableCredit",1,"color-highlight"],["matInput","","type","text","currencyMask","","name","dataModel.serviceAvailableCredit","placeholder","0","required","","id","dataModel.serviceAvailableCredit",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.serviceSumCredit",1,"color-highlight"],["matInput","","type","text","name","dataModel.serviceSumCredit","currencyMask","","placeholder","0","required","","id","dataModel.serviceSumCredit",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.userAvailableCredit",1,"color-highlight"],["matInput","","type","text","name","dataModel.userAvailableCredit","currencyMask","","placeholder","0","required","","id","dataModel.userAvailableCredit",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.userSumCredit",1,"color-highlight"],["matInput","","type","text","name","dataModel.userSumCredit","currencyMask","","placeholder","0","required","","id","dataModel.userSumCredit",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let a=A();r(0,"div",8),g(1,"app-progress-spinner",9),r(2,"div",10)(3,"p",11),d(4),s(),r(5,"h4"),d(6),S(7,"translate"),s(),r(8,"p"),d(9),S(10,"translate"),s(),g(11,"app-cms-form-result-message",12),r(12,"form",13,0),I("ngSubmit",function(){return u(a),f(t.onFormSubmit())}),b(14,uc,1,5,"app-cms-enum-record-status-selector",14),b(15,Cc,10,8,"div",15),b(16,gc,8,2,"div",16),b(17,Mc,8,2,"div",16),b(18,Ic,8,6,"div",15),b(19,wc,8,6,"div",15),b(20,xc,8,6,"div",15),b(21,Vc,8,6,"div",15),r(22,"div",15)(23,"label",17),d(24),s(),r(25,"textarea",18,1),P("ngModelChange",function(c){return u(a),T(t.dataModel.description,c)||(t.dataModel.description=c),f(c)}),s(),r(27,"em"),d(28),s(),b(29,Nc,5,3,"mat-error"),s(),r(30,"div",19)(31,"a",20),S(32,"cmsthumbnail"),b(33,Bc,2,4,"img",21),s()(),r(34,"div",15)(35,"label",22),I("click",function(){return u(a),f(t.fileManagerOpenForm=!0)}),d(36),S(37,"translate"),s(),r(38,"input",23,2),S(40,"translate"),P("ngModelChange",function(c){return u(a),T(t.dataModel.linkMainImageId,c)||(t.dataModel.linkMainImageId=c),f(c)}),I("click",function(){return u(a),f(t.fileManagerOpenForm=!0)}),s(),r(41,"cms-file-manager",24),I("itemSelected",function(c){return u(a),f(t.onActionFileSelected(c))}),P("openFormChange",function(c){return u(a),T(t.fileManagerOpenForm,c)||(t.fileManagerOpenForm=c),f(c)}),s()(),b(42,Fc,9,7,"div",25),s()()()}if(i&2){let a=D(26);o(),h("optionsInfoAreaId",t.constructorInfoAreaId),o(3),M(" ",t.formInfo.formTitle," "),o(2),y(C(7,35,"TITLE.SERVICE_PROVIDER_COMPANIES")),o(3),M(" ",C(10,37,"TITLE.SERVICE_PROVIDER_COMPANIES_DESCRIPTION")," "),o(2),h("formInfo",t.formInfo),o(3),v(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?14:-1),o(),v(t.fieldsInfo.title!=null&&t.fieldsInfo.title.accessWatchField?15:-1),o(),v(t.fieldsInfo.checkCredit!=null&&t.fieldsInfo.checkCredit.accessWatchField?16:-1),o(),v(t.fieldsInfo.calculateCredit!=null&&t.fieldsInfo.calculateCredit.accessWatchField?17:-1),o(),v(t.fieldsInfo.serviceAvailableCredit!=null&&t.fieldsInfo.serviceAvailableCredit.accessWatchField?18:-1),o(),v(t.fieldsInfo.serviceSumCredit!=null&&t.fieldsInfo.serviceSumCredit.accessWatchField?19:-1),o(),v(t.fieldsInfo.userAvailableCredit!=null&&t.fieldsInfo.userAvailableCredit.accessWatchField?20:-1),o(),v(t.fieldsInfo.userSumCredit!=null&&t.fieldsInfo.userSumCredit.accessWatchField?21:-1),o(3),y(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),h("placeholder",k(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),w("ngModel",t.dataModel.description),o(3),M("",a.value.length," / 500"),o(),v(a.errors!=null&&a.errors.required?29:-1),o(2),h("href",k(C(32,39,t.dataModel.linkMainImageIdSrc)),we),o(2),v((t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0?33:-1),o(3),y(C(37,41,"TITLE.Icon_File")),o(2),h("placeholder",k(C(40,43,"TITLE.Original_File_ID"))),w("ngModel",t.dataModel.linkMainImageId),o(3),h("language",t.appLanguage)("isPopup",!0),w("openForm",t.fileManagerOpenForm),h("tree",t.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",t.selectFileTypeMainImage)("openFilemanagerButtonView",!1),o(),v(t.formInfo.submitButtonEnabled?42:-1)}},dependencies:[_e,ne,Je,oe,ge,fe,Be,Fe,he,Me,Le,J,Te,K,Ee,ti,Bi,H,dt],encapsulation:2});var Mo=go;var Oc=["vform"];function Gc(n,l){if(n&1){let e=A();r(0,"app-cms-enum-record-status-selector",26),P("modelChange",function(t){u(e);let a=m();return T(a.dataModel.recordStatus,t)||(a.dataModel.recordStatus=t),f(t)}),s()}if(n&2){let e=m();w("model",e.dataModel.recordStatus),h("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Hc(n,l){n&1&&g(0,"i",29)}function Wc(n,l){n&1&&g(0,"i",30)}function Uc(n,l){n&1&&(r(0,"mat-error"),d(1," Title is "),r(2,"strong"),d(3),S(4,"translate"),s()()),n&2&&(o(3),y(C(4,1,"MESSAGE.required")))}function qc(n,l){if(n&1){let e=A();r(0,"div",15)(1,"label",27),d(2),s(),r(3,"input",28,3),P("ngModelChange",function(t){u(e);let a=m();return T(a.dataModel.title,t)||(a.dataModel.title=t),f(t)}),s(),b(5,Hc,1,0,"i",29),b(6,Wc,1,0,"i",30),r(7,"em"),d(8),s(),b(9,Uc,5,3,"mat-error"),s()}if(n&2){let e=D(4),i=m();o(2),y(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(),h("placeholder",k(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle)),w("ngModel",i.dataModel.title),o(2),v(e.value?-1:5),o(),v(e.value?6:-1),o(2),M("",e.value.length," / 100"),o(),v(e.errors!=null&&e.errors.required?9:-1)}}function jc(n,l){if(n&1){let e=A();r(0,"div",16)(1,"div",31)(2,"h5",32),d(3),s()(),r(4,"div",33)(5,"div",34)(6,"input",35),P("ngModelChange",function(t){u(e);let a=m();return T(a.dataModel.checkCredit,t)||(a.dataModel.checkCredit=t),f(t)}),s(),g(7,"label",36),s()()()}if(n&2){let e=m();o(3),M(" ",e.fieldsInfo.checkCredit==null?null:e.fieldsInfo.checkCredit.fieldTitle," "),o(3),w("ngModel",e.dataModel.checkCredit)}}function Qc(n,l){if(n&1){let e=A();r(0,"div",16)(1,"div",31)(2,"h5",37),d(3),s()(),r(4,"div",33)(5,"div",34)(6,"input",38),P("ngModelChange",function(t){u(e);let a=m();return T(a.dataModel.calculateCredit,t)||(a.dataModel.calculateCredit=t),f(t)}),s(),g(7,"label",39),s()()()}if(n&2){let e=m();o(3),M(" ",e.fieldsInfo.calculateCredit==null?null:e.fieldsInfo.calculateCredit.fieldTitle," "),o(3),w("ngModel",e.dataModel.calculateCredit)}}function zc(n,l){n&1&&g(0,"i",29)}function Kc(n,l){n&1&&g(0,"i",30)}function Xc(n,l){if(n&1&&(r(0,"mat-error"),d(1),r(2,"strong"),d(3),S(4,"translate"),s()()),n&2){let e=m(2);o(),M(" ",e.fieldsInfo.serviceAvailableCredit==null?null:e.fieldsInfo.serviceAvailableCredit.fieldTitle," is "),o(2),y(C(4,2,"MESSAGE.required"))}}function Yc(n,l){if(n&1){let e=A();r(0,"div",15)(1,"label",40),d(2),s(),r(3,"input",41,4),P("ngModelChange",function(t){u(e);let a=m();return T(a.dataModel.serviceAvailableCredit,t)||(a.dataModel.serviceAvailableCredit=t),f(t)}),s(),b(5,zc,1,0,"i",29),b(6,Kc,1,0,"i",30),b(7,Xc,5,4,"mat-error"),s()}if(n&2){let e=D(4),i=m();o(2),y(i.fieldsInfo.serviceAvailableCredit==null?null:i.fieldsInfo.serviceAvailableCredit.fieldTitle),o(),w("ngModel",i.dataModel.serviceAvailableCredit),h("disabled",!(i.fieldsInfo.serviceAvailableCredit!=null&&i.fieldsInfo.serviceAvailableCredit.accessEditField)),o(2),v(e.value?-1:5),o(),v(e.value?6:-1),o(),v(e.errors!=null&&e.errors.required?7:-1)}}function Jc(n,l){n&1&&g(0,"i",29)}function Zc(n,l){n&1&&g(0,"i",30)}function $c(n,l){if(n&1&&(r(0,"mat-error"),d(1),r(2,"strong"),d(3),S(4,"translate"),s()()),n&2){let e=m(2);o(),M(" ",e.fieldsInfo.serviceSumCredit==null?null:e.fieldsInfo.serviceSumCredit.fieldTitle," is "),o(2),y(C(4,2,"MESSAGE.required"))}}function ed(n,l){if(n&1){let e=A();r(0,"div",15)(1,"label",42),d(2),s(),r(3,"input",43,5),P("ngModelChange",function(t){u(e);let a=m();return T(a.dataModel.serviceSumCredit,t)||(a.dataModel.serviceSumCredit=t),f(t)}),s(),b(5,Jc,1,0,"i",29),b(6,Zc,1,0,"i",30),b(7,$c,5,4,"mat-error"),s()}if(n&2){let e=D(4),i=m();o(2),y(i.fieldsInfo.serviceSumCredit==null?null:i.fieldsInfo.serviceSumCredit.fieldTitle),o(),w("ngModel",i.dataModel.serviceSumCredit),h("disabled",!(i.fieldsInfo.serviceSumCredit!=null&&i.fieldsInfo.serviceSumCredit.accessEditField)),o(2),v(e.value?-1:5),o(),v(e.value?6:-1),o(),v(e.errors!=null&&e.errors.required?7:-1)}}function td(n,l){n&1&&g(0,"i",29)}function id(n,l){n&1&&g(0,"i",30)}function nd(n,l){if(n&1&&(r(0,"mat-error"),d(1),r(2,"strong"),d(3),S(4,"translate"),s()()),n&2){let e=m(2);o(),M(" ",e.fieldsInfo.userAvailableCredit==null?null:e.fieldsInfo.userAvailableCredit.fieldTitle," is "),o(2),y(C(4,2,"MESSAGE.required"))}}function od(n,l){if(n&1){let e=A();r(0,"div",15)(1,"label",44),d(2),s(),r(3,"input",45,6),P("ngModelChange",function(t){u(e);let a=m();return T(a.dataModel.userAvailableCredit,t)||(a.dataModel.userAvailableCredit=t),f(t)}),s(),b(5,td,1,0,"i",29),b(6,id,1,0,"i",30),b(7,nd,5,4,"mat-error"),s()}if(n&2){let e=D(4),i=m();o(2),y(i.fieldsInfo.userAvailableCredit==null?null:i.fieldsInfo.userAvailableCredit.fieldTitle),o(),w("ngModel",i.dataModel.userAvailableCredit),h("disabled",!(i.fieldsInfo.userAvailableCredit!=null&&i.fieldsInfo.userAvailableCredit.accessEditField)),o(2),v(e.value?-1:5),o(),v(e.value?6:-1),o(),v(e.errors!=null&&e.errors.required?7:-1)}}function ad(n,l){n&1&&g(0,"i",29)}function rd(n,l){n&1&&g(0,"i",30)}function sd(n,l){if(n&1&&(r(0,"mat-error"),d(1),r(2,"strong"),d(3),S(4,"translate"),s()()),n&2){let e=m(2);o(),M(" ",e.fieldsInfo.userSumCredit==null?null:e.fieldsInfo.userSumCredit.fieldTitle," is "),o(2),y(C(4,2,"MESSAGE.required"))}}function ld(n,l){if(n&1){let e=A();r(0,"div",15)(1,"label",46),d(2),s(),r(3,"input",47,7),P("ngModelChange",function(t){u(e);let a=m();return T(a.dataModel.userSumCredit,t)||(a.dataModel.userSumCredit=t),f(t)}),s(),b(5,ad,1,0,"i",29),b(6,rd,1,0,"i",30),b(7,sd,5,4,"mat-error"),s()}if(n&2){let e=D(4),i=m();o(2),y(i.fieldsInfo.userSumCredit==null?null:i.fieldsInfo.userSumCredit.fieldTitle),o(),w("ngModel",i.dataModel.userSumCredit),h("disabled",!(i.fieldsInfo.userSumCredit!=null&&i.fieldsInfo.userSumCredit.accessEditField)),o(2),v(e.value?-1:5),o(),v(e.value?6:-1),o(),v(e.errors!=null&&e.errors.required?7:-1)}}function cd(n,l){n&1&&(r(0,"mat-error"),d(1," Description is "),r(2,"strong"),d(3),S(4,"translate"),s()()),n&2&&(o(3),y(C(4,1,"MESSAGE.required")))}function dd(n,l){if(n&1&&(g(0,"img",21),S(1,"cmsthumbnail")),n&2){let e=m();h("src",k(C(1,2,e.dataModel.linkMainImageIdSrc)),we)}}function md(n,l){if(n&1){let e=A();r(0,"div",25)(1,"button",48),I("click",function(){u(e);let t=m();return f(t.onFormCancel())}),g(2,"i",49),d(3),S(4,"translate"),s(),r(5,"button",50),g(6,"i",51),d(7),S(8,"translate"),s()()}if(n&2){m();let e=D(13);o(3),M(" ",C(4,3,"ACTION.CANCEL")," "),o(2),h("disabled",!e.form.valid),o(2),M(" ",C(8,5,"ACTION.SAVE")," ")}}var _o=class _o extends gt{constructor(e,i,t,a,p,c,E,F){super(a,new jt,c,F);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.smsMainApiPathCompanyService=a;this.cmsToastrService=p;this.publicHelper=c;this.cdr=E;this.translate=F;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new ft;this.dataModel=new jt;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,e&&e.id&&(this.requestId=e.id),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e});else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent()}DataGetOneContent(){if(this.requestId.length<=0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.smsMainApiPathCompanyService.setAccessLoad(),this.smsMainApiPathCompanyService.setAccessDataType(nt.Editor),this.smsMainApiPathCompanyService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.smsMainApiPathCompanyService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success}),this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionFileSelected(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};_o.\u0275fac=function(i){return new(i||_o)(_(ve),_(be),_(Re),_($t),_(W),_(U),_(G),_(O))},_o.\u0275cmp=N({type:_o,selectors:[["app-sms-apipathcompany-edit"]],viewQuery:function(i,t){if(i&1&&ee(Oc,5),i&2){let a;te(a=ie())&&(t.formGroup=a.first)}},standalone:!1,features:[X],decls:43,vars:45,consts:[["vform","ngForm"],["Description",""],["LinkMainImageId",""],["Title",""],["ServiceAvailableCredit",""],["ServiceSumCredit",""],["UserAvailableCredit",""],["UserSumCredit",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],[1,"d-flex","mb-3"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"mb-3"],["target","_blank",3,"href"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],[1,"form-actions"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"pt-1"],["data-trigger-switch","dataModel.checkCredit",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.checkCredit","name","dataModel.checkCredit",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.checkCredit",1,"custom-control-label"],["data-trigger-switch","dataModel.calculateCredit",1,"font-600","font-14"],["type","checkbox","id","dataModel.calculateCredit","name","dataModel.calculateCredit",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.calculateCredit",1,"custom-control-label"],["for","dataModel.serviceAvailableCredit",1,"color-highlight"],["matInput","","type","text","name","dataModel.serviceAvailableCredit","currencyMask","","placeholder","0","required","","id","dataModel.serviceAvailableCredit",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.serviceSumCredit",1,"color-highlight"],["matInput","","type","text","name","dataModel.serviceSumCredit","currencyMask","","placeholder","0","required","","id","dataModel.serviceSumCredit",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.userAvailableCredit",1,"color-highlight"],["matInput","","type","text","name","dataModel.userAvailableCredit","currencyMask","","placeholder","0","required","","id","dataModel.userAvailableCredit",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.userSumCredit",1,"color-highlight"],["matInput","","type","text","name","dataModel.userSumCredit","currencyMask","","placeholder","0","required","","id","dataModel.userSumCredit",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let a=A();r(0,"div",8),g(1,"app-progress-spinner",9),r(2,"div",10)(3,"p",11),d(4),s(),r(5,"h4"),d(6),S(7,"translate"),s(),r(8,"p"),d(9),S(10,"translate"),s(),g(11,"app-cms-form-result-message",12),r(12,"form",13,0),I("ngSubmit",function(){return u(a),f(t.onFormSubmit())}),b(14,Gc,1,5,"app-cms-enum-record-status-selector",14),b(15,qc,10,8,"div",15),b(16,jc,8,2,"div",16),b(17,Qc,8,2,"div",16),b(18,Yc,8,6,"div",15),b(19,ed,8,6,"div",15),b(20,od,8,6,"div",15),b(21,ld,8,6,"div",15),r(22,"div",15)(23,"label",17),d(24),s(),r(25,"textarea",18,1),P("ngModelChange",function(c){return u(a),T(t.dataModel.description,c)||(t.dataModel.description=c),f(c)}),s(),r(27,"em"),d(28),s(),b(29,cd,5,3,"mat-error"),s(),r(30,"div",19)(31,"a",20),S(32,"cmsthumbnail"),b(33,dd,2,4,"img",21),s()(),r(34,"div",15)(35,"label",22),I("click",function(){return u(a),f(t.fileManagerOpenForm=!0)}),d(36),S(37,"translate"),s(),r(38,"input",23,2),S(40,"translate"),P("ngModelChange",function(c){return u(a),T(t.dataModel.linkMainImageId,c)||(t.dataModel.linkMainImageId=c),f(c)}),I("click",function(){return u(a),f(t.fileManagerOpenForm=!0)}),s(),r(41,"cms-file-manager",24),I("itemSelected",function(c){return u(a),f(t.onActionFileSelected(c))}),P("openFormChange",function(c){return u(a),T(t.fileManagerOpenForm,c)||(t.fileManagerOpenForm=c),f(c)}),s()(),b(42,md,9,7,"div",25),s()()()}if(i&2){let a=D(26);o(),h("optionsInfoAreaId",t.constructorInfoAreaId),o(3),M(" ",t.formInfo.formTitle," "),o(2),y(C(7,35,"TITLE.SERVICE_PROVIDER_COMPANIES")),o(3),M(" ",C(10,37,"TITLE.SERVICE_PROVIDER_COMPANIES_DESCRIPTION")," "),o(2),h("formInfo",t.formInfo),o(3),v(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?14:-1),o(),v(t.fieldsInfo.title!=null&&t.fieldsInfo.title.accessWatchField?15:-1),o(),v(t.fieldsInfo.checkCredit!=null&&t.fieldsInfo.checkCredit.accessWatchField?16:-1),o(),v(t.fieldsInfo.calculateCredit!=null&&t.fieldsInfo.calculateCredit.accessWatchField?17:-1),o(),v(t.fieldsInfo.serviceAvailableCredit!=null&&t.fieldsInfo.serviceAvailableCredit.accessWatchField?18:-1),o(),v(t.fieldsInfo.serviceSumCredit!=null&&t.fieldsInfo.serviceSumCredit.accessWatchField?19:-1),o(),v(t.fieldsInfo.userAvailableCredit!=null&&t.fieldsInfo.userAvailableCredit.accessWatchField?20:-1),o(),v(t.fieldsInfo.userSumCredit!=null&&t.fieldsInfo.userSumCredit.accessWatchField?21:-1),o(3),y(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),h("placeholder",k(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),w("ngModel",t.dataModel.description),o(3),M("",a.value.length," / 500"),o(),v(a.errors!=null&&a.errors.required?29:-1),o(2),h("href",k(C(32,39,t.dataModel.linkMainImageIdSrc)),we),o(2),v((t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0?33:-1),o(3),y(C(37,41,"TITLE.Icon_File")),o(2),h("placeholder",k(C(40,43,"TITLE.Original_File_ID"))),w("ngModel",t.dataModel.linkMainImageId),o(3),h("language",t.appLanguage)("isPopup",!0),w("openForm",t.fileManagerOpenForm),h("tree",t.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",t.selectFileTypeMainImage)("openFilemanagerButtonView",!1),o(),v(t.formInfo.submitButtonEnabled?42:-1)}},dependencies:[_e,ne,Je,oe,ge,fe,Be,Fe,he,Me,Le,J,Te,K,Ee,ti,Bi,H,dt],encapsulation:2});var bo=_o;var pd=()=>[5,10,20,100],ud=(n,l)=>l.id;function fd(n,l){if(n&1){let e=A();r(0,"div",11)(1,"app-cms-search-list",20),P("optionsChange",function(t){u(e);let a=m();return T(a.optionsSearch,t)||(a.optionsSearch=t),f(t)}),s()()}if(n&2){let e=m();o(),w("options",e.optionsSearch)}}function hd(n,l){if(n&1){let e=A();r(0,"div",12)(1,"app-cms-statist-list",20),P("optionsChange",function(t){u(e);let a=m();return T(a.optionsStatist,t)||(a.optionsStatist=t),f(t)}),s()()}if(n&2){let e=m();o(),w("options",e.optionsStatist)}}function Sd(n,l){if(n&1&&(r(0,"div",21),g(1,"i",9),r(2,"span"),d(3),S(4,"translate"),S(5,"translate"),s()()),n&2){let e=m();ut("transform","translateY("+(e.pullToRefreshState.pullDistance>80?80:e.pullToRefreshState.pullDistance)+"px)"),B("refreshing",e.pullToRefreshState.isRefreshing),o(),B("rotation360",e.pullToRefreshState.isRefreshing),o(2),y(e.pullToRefreshState.isRefreshing?C(4,7,"ACTION.RELOADING"):C(5,9,"ACTION.PULL_TO_REFRESH"))}}function Cd(n,l){if(n&1&&(r(0,"div",25),g(1,"img",33),S(2,"cmsthumbnail"),s()),n&2){let e=m().$implicit;o(),h("src",C(2,2,e.linkMainImageIdSrc),we)("alt",e.title)}}function gd(n,l){n&1&&(r(0,"div",26),g(1,"i",34),s())}function Md(n,l){if(n&1&&(r(0,"div",32),g(1,"i",35),r(2,"span"),d(3),S(4,"localeDate"),s()()),n&2){let e=m().$implicit;o(3),y(C(4,1,e.updatedDate))}}function _d(n,l){if(n&1){let e=A();r(0,"div",23)(1,"div",24),I("click",function(){let t=u(e).$implicit,a=m(2);return f(a.onActionTableRowSelect(t))})("touchstart",function(t){let a=u(e).$implicit,p=m(2);return f(p.onItemTouchStart(t,a.id))})("touchmove",function(t){let a=u(e).$implicit,p=m(2);return f(p.onItemTouchMove(t,a.id))})("touchend",function(t){let a=u(e).$implicit,p=m(2);return f(p.onItemTouchEnd(t,a.id))}),b(2,Cd,3,4,"div",25)(3,gd,2,0,"div",26),r(4,"div",27)(5,"div",28),d(6),s(),r(7,"div",29)(8,"div",30),g(9,"i",31),S(10,"statusIconClass"),s(),b(11,Md,5,3,"div",32),s()()()()}if(n&2){let e,i=l.$implicit,t=m(2);ut("transform","translateX("+(((e=t.swipeState.get(i.id))==null?null:e.offset)||0)+"px)"),o(),B("selected",i.id===(t.tableRowSelected==null?null:t.tableRowSelected.id)),se("aria-label",i.title),o(),v((i==null||i.linkMainImageIdSrc==null?null:i.linkMainImageIdSrc.length)>0?2:3),o(4),M(" ",i.title," "),o(3),h("ngClass",C(10,9,i.recordStatus)),o(2),v(i.updatedDate?11:-1)}}function bd(n,l){if(n&1&&(r(0,"div",15),Z(1,_d,12,11,"div",22,ud),s()),n&2){let e=m();o(),$(e.dataModelResult.listItems)}}function vd(n,l){n&1&&(r(0,"div",16)(1,"div",36),g(2,"i",37),s(),r(3,"div",38),d(4),S(5,"translate"),s()()),n&2&&(o(4),M(" ",C(5,1,"MESSAGE.no_information")," "))}function Id(n,l){if(n&1){let e=A();r(0,"button",39),S(1,"translate"),I("click",function(){u(e);let t=m();return f(t.onActionButtonNewRow())}),g(2,"i",40),s()}n&2&&se("aria-label",C(1,1,"ACTION.ADD"))}function Ad(n,l){if(n&1){let e=A();r(0,"div",19)(1,"mat-paginator",41,0),I("page",function(t){u(e);let a=m();return f(a.onTablePageingData(t))}),s()()}if(n&2){let e=m();o(),h("length",(e.dataModelResult==null?null:e.dataModelResult.totalRowCount)||0)("pageIndex",((e.dataModelResult==null?null:e.dataModelResult.currentPageNumber)||1)-1)("pageSize",(e.dataModelResult==null?null:e.dataModelResult.rowPerPage)||10)("pageSizeOptions",xe(4,pd))}}var vo=class vo extends Qe{constructor(e,i,t,a,p,c,E,F,Ne,tt,Pe){super(e,new jt,tt,p,E);this.contentService=e;this.cmsToastrService=i;this.cmsConfirmationDialogService=t;this.router=a;this.tokenHelper=p;this.cdr=c;this.translate=E;this.cmsStoreService=F;this.pageInfo=Ne;this.publicHelper=tt;this.dialog=Pe;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new Y;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["linkMainImageIdSrc","recordStatus","title"];this.tabledisplayedColumnsMobileSource=["linkMainImageIdSrc","recordStatus","title"];this.unsubscribe=[];this.pullToRefreshState={isRefreshing:!1,startY:0,currentY:0,pullDistance:0,threshold:80};this.Math=Math;this.swipeState=new Map;this.SWIPE_THRESHOLD=100;this.SWIPE_MAX_OFFSET=120;this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:It=>this.onSubmitOptionsSearch(It)},this.filteModelContent.sortColumn="id",this.filteModelContent.sortType=Q.Descending}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>ae(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new jt);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{t.isSuccess&&(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=Q.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=Q.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=Q.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(Mo,{height:"90%",panelClass:e,enterAnimationDuration:j.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:j.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length==0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(bo,{height:"90%",panelClass:i,enterAnimationDuration:j.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:j.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(a=>{a&&a.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length==0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(a=>{this.cmsToastrService.typeErrorSelected(a)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(a=>{i=a["MESSAGE.Please_Confirm"],t=a["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(a=>{if(a){let p=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(p,c,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(p)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(p,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{i.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{i.set(c,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(E=>{i.set(E,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}});let a=JSON.parse(JSON.stringify(this.filteModelContent)),p=new V;p.propertyName="recordStatus",p.value=ke.Available,a.filters.push(p),this.contentService.ServiceGetCount(a).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(E=>{i.set(E,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonApiList(e=this.tableRowSelected,i){if(!e||!e.id||e.id.length==0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null){this.cmsToastrService.typeErrorSelected();return}if(i?.ctrlKey){let t="/#/sms/main/api-path/list/LinkCompanyId/"+this.tableRowSelected.id;window.open(t,"_blank")}else this.router.navigate(["/sms/main/api-path/list/LinkCompanyId",this.tableRowSelected.id])}onActionButtonReload(){this.DataGetAll()}onItemTouchStart(e,i){e.stopPropagation();let t=e.touches[0];this.swipeState.set(i,{startX:t.clientX,currentX:t.clientX,offset:0})}onItemTouchMove(e,i){e.stopPropagation();let t=this.swipeState.get(i);if(!t)return;let a=e.touches[0];t.currentX=a.clientX;let p=t.currentX-t.startX,c=document.documentElement.dir==="rtl",E=c?this.SWIPE_MAX_OFFSET:-this.SWIPE_MAX_OFFSET,F=c?-this.SWIPE_MAX_OFFSET:this.SWIPE_MAX_OFFSET;t.offset=Math.max(F,Math.min(E,p))}onItemTouchEnd(e,i){e.stopPropagation();let t=this.swipeState.get(i);if(!t)return;let a=document.documentElement.dir==="rtl",p=a?this.SWIPE_THRESHOLD:-this.SWIPE_THRESHOLD;a&&t.offset>p||!a&&t.offset<p||(t.offset=0),this.swipeState.set(i,t)}onTouchStart(e){let t=e.target.closest(".cms-m-content");t&&t.scrollTop===0&&(this.pullToRefreshState.startY=e.touches[0].clientY,this.pullToRefreshState.isRefreshing=!1)}onTouchMove(e){let t=e.target.closest(".cms-m-content");t&&t.scrollTop===0&&this.pullToRefreshState.startY>0&&(this.pullToRefreshState.currentY=e.touches[0].clientY,this.pullToRefreshState.pullDistance=Math.max(0,this.pullToRefreshState.currentY-this.pullToRefreshState.startY),this.pullToRefreshState.pullDistance>10&&e.preventDefault())}onTouchEnd(e){this.pullToRefreshState.pullDistance>=this.pullToRefreshState.threshold&&!this.pullToRefreshState.isRefreshing?(this.pullToRefreshState.isRefreshing=!0,this.onActionButtonReload(),setTimeout(()=>{this.pullToRefreshState.isRefreshing=!1,this.pullToRefreshState.pullDistance=0,this.pullToRefreshState.startY=0,this.pullToRefreshState.currentY=0},1e3)):(this.pullToRefreshState.pullDistance=0,this.pullToRefreshState.startY=0,this.pullToRefreshState.currentY=0)}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}};vo.\u0275fac=function(i){return new(i||vo)(_($t),_(W),_(Oe),_(He),_(Ce),_(G),_(O),_(Ae),_(je),_(U),_(Se))},vo.\u0275cmp=N({type:vo,selectors:[["app-sms-apipathcompany-list-mobile"]],standalone:!1,features:[X],decls:26,vars:25,consts:[["paginator",""],[1,"cms-m-body","loader-container"],[3,"optionsInfoAreaId"],[1,"cms-m-header","safe-area-top"],[1,"cms-m-header-content"],[1,"cms-m-header-title"],[1,"cms-m-header-actions"],["type","button",1,"cms-m-header-action-btn",3,"click"],["aria-hidden","true",1,"fa-solid","fa-magnifying-glass"],["aria-hidden","true",1,"fa-solid","fa-rotate-right"],["aria-hidden","true",1,"fa-solid","fa-chart-bar"],[1,"cms-m-search-area","safe-area-content"],[1,"cms-m-statist-area","safe-area-content"],[1,"cms-m-pull-refresh-indicator",3,"transform","refreshing"],[1,"cms-m-content","safe-area-content",3,"touchstart","touchmove","touchend"],[1,"cms-m-list"],[1,"cms-m-empty-state"],[1,"cms-m-footer","safe-area-bottom"],[1,"cms-m-fab"],[1,"cms-m-pagination-wrapper"],[3,"optionsChange","options"],[1,"cms-m-pull-refresh-indicator"],[1,"cms-m-list-item-wrapper",3,"transform"],[1,"cms-m-list-item-wrapper"],["role","button","tabindex","0",1,"cms-m-list-item",3,"click","touchstart","touchmove","touchend"],[1,"cms-m-list-item-image"],[1,"cms-m-list-item-image-placeholder"],[1,"cms-m-list-item-content"],[1,"cms-m-list-item-title"],[1,"cms-m-list-item-footer"],[1,"cms-m-list-item-status"],["aria-hidden","true",3,"ngClass"],[1,"cms-m-list-item-date"],["loading","lazy",3,"src","alt"],["aria-hidden","true",1,"fa-solid","fa-building"],["aria-hidden","true",1,"fa-solid","fa-clock"],[1,"cms-m-empty-state-icon"],["aria-hidden","true",1,"fa-solid","fa-inbox"],[1,"cms-m-empty-state-text"],[1,"cms-m-fab",3,"click"],["aria-hidden","true",1,"fa-solid","fa-plus"],[3,"page","length","pageIndex","pageSize","pageSizeOptions"]],template:function(i,t){i&1&&(r(0,"div",1),g(1,"app-progress-spinner",2),r(2,"div",3)(3,"div",4)(4,"h1",5),d(5),S(6,"translate"),s(),r(7,"div",6)(8,"button",7),S(9,"translate"),I("click",function(){return t.optionsSearch.data.show=!t.optionsSearch.data.show}),g(10,"i",8),s(),r(11,"button",7),S(12,"translate"),I("click",function(){return t.onActionButtonReload()}),g(13,"i",9),s(),r(14,"button",7),S(15,"translate"),I("click",function(){return t.onActionButtonStatist()}),g(16,"i",10),s()()()(),b(17,fd,2,1,"div",11),b(18,hd,2,1,"div",12),b(19,Sd,6,11,"div",13),r(20,"div",14),I("touchstart",function(p){return t.onTouchStart(p)})("touchmove",function(p){return t.onTouchMove(p)})("touchend",function(p){return t.onTouchEnd(p)}),b(21,bd,3,0,"div",15)(22,vd,6,3,"div",16),s(),r(23,"div",17),b(24,Id,3,3,"button",18),b(25,Ad,3,5,"div",19),s()()),i&2&&(o(),h("optionsInfoAreaId",t.constructorInfoAreaId),o(4),M(" ",C(6,17,"ROUTE.SMS.MAIN")," "),o(3),B("active",t.optionsSearch.data.show),se("aria-label",C(9,19,"ACTION.SEARCH")),o(3),se("aria-label",C(12,21,"ACTION.RELOAD")),o(2),B("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(),B("active",t.optionsStatist==null||t.optionsStatist.data==null?null:t.optionsStatist.data.show),se("aria-label",C(15,23,"ACTION.STATIST")),o(3),v(t.optionsSearch.data.show?17:-1),o(),v(!(t.optionsStatist==null||t.optionsStatist.data==null)&&t.optionsStatist.data.show?18:-1),o(),v(t.pullToRefreshState.pullDistance>0?19:-1),o(2),v(t.dataModelResult!=null&&t.dataModelResult.listItems&&t.dataModelResult.listItems.length>0?21:22),o(3),v(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessAddRow?24:-1),o(),v((t.dataModelResult==null?null:t.dataModelResult.totalRowCount)>0?25:-1))},dependencies:[Ge,Ie,We,Ue,K,H,dt,st,qe],styles:['@charset "UTF-8";.cms-m-content[_ngcontent-%COMP%]{padding:8px var(--cms-m-spacing-md);padding-bottom:calc(8px + env(safe-area-inset-bottom));position:relative;touch-action:pan-y}.cms-m-header-spacer[_ngcontent-%COMP%]{flex:1}@media (max-width: 375px){.cms-m-content[_ngcontent-%COMP%]{padding:8px 12px}.cms-m-list-item[_ngcontent-%COMP%]{padding:10px 12px}.cms-m-list-item-image[_ngcontent-%COMP%], .cms-m-list-item-image-placeholder[_ngcontent-%COMP%]{width:48px;height:48px}.cms-m-action-btn[_ngcontent-%COMP%]{width:40px;height:40px;min-width:40px;min-height:40px}}@media screen and (-webkit-min-device-pixel-ratio: 0){.cms-m-list-item[_ngcontent-%COMP%]{will-change:transform}}']});var mr=vo;var Ed=["*"];function yd(n,l){if(n&1&&(r(0,"label",3),d(1),s()),n&2){let e=m();h("for",bt("app-cms-site-selector-",e.id)),o(),y(e.optionLabel)}}function wd(n,l){if(n&1&&(g(0,"img",5),S(1,"cmsthumbnail")),n&2){let e=m();h("src",k(C(1,2,e.dataModelSelect==null?null:e.dataModelSelect.linkMainImageIdSrc)),we)}}function Td(n,l){if(n&1&&(g(0,"img",5),S(1,"cmsthumbnail")),n&2){let e=m().$implicit;h("src",k(C(1,2,e.linkMainImageIdSrc)),we)}}function Pd(n,l){if(n&1&&(r(0,"mat-option",8),b(1,Td,2,4,"img",5),r(2,"span"),d(3),s()()),n&2){let e=l.$implicit,i=m();h("value",e)("disabled",i.optionDisabled),o(),v(e.linkMainImageIdSrc?1:-1),o(2),y(i.displayOption(e))}}function Rd(n,l){n&1&&g(0,"i",9)}function xd(n,l){n&1&&g(0,"i",10)}function Dd(n,l){if(n&1){let e=A();r(0,"i",13),I("click",function(){u(e);let t=m();return f(t.onActionSelectClear())}),s()}}function kd(n,l){n&1&&(r(0,"em"),d(1),S(2,"translate"),s()),n&2&&(o(),M("(",C(2,1,"TITLE.Necessary"),")"))}var Mn=class Mn{constructor(l,e,i,t,a,p){this.coreEnumService=l;this.cmsToastrService=e;this.cdr=i;this.publicHelper=t;this.translate=a;this.categoryService=p;this.id=++Mn.nextId;this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new q;this.dataModelSelect=new Qt;this.formControl=new ei;this.optionDisabled=!1;this.optionRequired=!1;this.optionSelectFirstItem=!1;this.optionSelectForSendMessage=!1;this.optionPlaceholder="";this.optionLabel="";this.optionChange=new ot;this.optionReload=()=>this.onActionButtonReload();this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(l){this.onActionSelectForce(l)}ngOnInit(){this.loadOptions(),(!this.optionLabel||this.optionLabel.length==0&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder)}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(Si(""),fi(1500),hi(),Ci(l=>typeof l=="string"||typeof l=="number"?this.DataGetAll(l||""):[]))}displayFn(l){return l?l.title:void 0}displayOption(l){return l?l.title:void 0}DataGetAll(l){return ae(this,null,function*(){let e=new Y;e.rowPerPage=20,e.accessLoad=!0;let i=new V;i.propertyName="title",i.value=l,i.searchType=ht.Contains,i.clauseType=Bt.Or,e.filters.push(i),l&&typeof+l=="number"&&+l>0&&(i=new V,i.propertyName="id",i.value=l,i.searchType=ht.Equal,i.clauseType=Bt.Or,e.filters.push(i)),this.optionSelectForSendMessage&&(i=new V,i.propertyName="recordStatus",i.value=ke.Available,i.searchType=ht.Equal,e.filters.push(i));let t=this.constructor.name+"main";return this.translate.get("MESSAGE.get_information_list").subscribe(a=>{this.publicHelper.processService.processStart(t,a,this.constructorInfoAreaId)}),e.sortColumn="priority",e.sortType=Q.Ascending,this.optionAccessDataType&&this.categoryService.setAccessDataType(this.optionAccessDataType),yield pi(this.categoryService.ServiceGetAll(e)).then(a=>(this.dataModelResult=a,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||this.dataModelSelect.id.length<=0)&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,this.formControl.setValue(this.dataModelResult.listItems[0]),this.onActionSelect(this.dataModelResult.listItems[0])),this.publicHelper.processService.processStop(t),a.listItems))})}onActionSelect(l){this.optionDisabled||(this.dataModelSelect=l,this.optionChange.emit(this.dataModelSelect))}onActionSelectClear(){this.optionDisabled||(this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null))}push(l){return this.filteredOptions.pipe(ui(e=>(e.find(i=>i.id===l.id)||e.push(l),e)))}onActionSelectForce(l){if(typeof l=="string"&&l.length>0){if(this.dataModelSelect&&this.dataModelSelect.id===l)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(e=>e.id===l)){let e=this.dataModelResult.listItems.find(i=>i.id===l);this.dataModelSelect=e,this.formControl.setValue(e);return}this.categoryService.ServiceGetOneById(l).subscribe({next:e=>{e.isSuccess?(this.filteredOptions=this.push(e.item),this.dataModelSelect=e.item,this.formControl.setValue(e.item),this.optionChange.emit(e.item)):this.cmsToastrService.typeErrorMessage(e.errorMessage)}});return}if(typeof l==typeof Qt){this.filteredOptions=this.push(l),this.dataModelSelect=l,this.formControl.setValue(l);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new Qt,this.onActionSelectClear(),this.loadOptions()}};Mn.nextId=0,Mn.\u0275fac=function(e){return new(e||Mn)(_(Re),_(W),_(G),_(U),_(O),_(St))},Mn.\u0275cmp=N({type:Mn,selectors:[["app-sms-apipath-selector"]],inputs:{optionDisabled:"optionDisabled",optionRequired:"optionRequired",optionSelectFirstItem:"optionSelectFirstItem",optionSelectForSendMessage:"optionSelectForSendMessage",optionPlaceholder:"optionPlaceholder",optionLabel:"optionLabel",optionAccessDataType:"optionAccessDataType",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange"},standalone:!1,ngContentSelectors:Ed,decls:18,vars:24,consts:[["matauto","matAutocomplete"],[1,"input-style","has-borders","has-icon","input-style-always-active","validate-field","mb-4","loader-container"],[3,"optionsInfoAreaId"],[1,"color-highlight",3,"for"],["matPrefix",""],["aria-hidden","","height","25","width","25",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["type","text","aria-label","Assignee","matInput","",3,"placeholder","formControl","matAutocomplete","required","id"],[3,"optionSelected","displayWith"],[3,"value","disabled"],[1,"fa","fa-info","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"fa","fa-times","action","color-red-dark"],[1,"fa","fa-rotate-right","action","color-green-dark",2,"margin-left","20px",3,"click","title"],[1,"fa","fa-times","action","color-red-dark",3,"click"]],template:function(e,i){if(e&1){let t=A();gi(),r(0,"div",1),g(1,"app-progress-spinner",2),b(2,yd,2,3,"label",3),r(3,"span",4),b(4,wd,2,4,"img",5),s(),g(5,"input",6),r(6,"mat-autocomplete",7,0),I("optionSelected",function(p){return u(t),f(i.onActionSelect(p.option.value))}),Z(8,Pd,4,4,"mat-option",8,De),S(10,"async"),s(),b(11,Rd,1,0,"i",9),b(12,xd,1,0,"i",10),b(13,Dd,1,0,"i",11),r(14,"i",12),S(15,"translate"),I("click",function(){return u(t),f(i.onActionButtonReload())}),s(),b(16,kd,3,3,"em"),Mi(17),s()}if(e&2){let t=D(7);o(),h("optionsInfoAreaId",i.constructorInfoAreaId),o(),v((i.optionLabel==null?null:i.optionLabel.length)>0?2:-1),o(2),v(i.dataModelSelect&&(i.dataModelSelect!=null&&i.dataModelSelect.linkMainImageIdSrc)?4:-1),o(),h("placeholder",k(i.optionPlaceholder))("id",bt("app-cms-site-selector-",i.id))("formControl",i.formControl)("matAutocomplete",t)("required",i.optionRequired),se("disabled",i.optionDisabled?!0:null),o(),h("displayWith",i.displayFn),o(2),$(C(10,20,i.filteredOptions)),o(3),v(i.formControl.valid?-1:11),o(),v(i.optionRequired&&i.formControl.valid?12:-1),o(),v((i.dataModelSelect==null||i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0?13:-1),o(),B("rotation360",i.publicHelper.processService.process.inRunArea[i.constructorInfoAreaId]),h("title",k(C(15,22,"ACTION.RELOAD"))),o(2),v(i.optionRequired&&(!i.dataModelSelect||!i.dataModelSelect.id||i.dataModelSelect.id.length<=0)?16:-1)}},dependencies:[ne,oe,fe,vi,Ai,Ii,Ei,fn,J,K,it,H,dt],encapsulation:2});var ci=Mn;var Ld=["vform"];function Vd(n,l){if(n&1){let e=A();r(0,"app-cms-enum-record-status-selector",25),P("modelChange",function(t){u(e);let a=m();return T(a.dataModel.recordStatus,t)||(a.dataModel.recordStatus=t),f(t)}),s()}if(n&2){let e=m();w("model",e.dataModel.recordStatus),h("optionDisabled",!((e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.accessAddField)??!1))("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Nd(n,l){if(n&1){let e=A();r(0,"div",14)(1,"div",26)(2,"h5",27),d(3),s()(),r(4,"div",28)(5,"div",29)(6,"input",30),P("ngModelChange",function(t){u(e);let a=m();return T(a.dataModel.hasInherits,t)||(a.dataModel.hasInherits=t),f(t)}),s(),g(7,"label",31),s()()()}if(n&2){let e=m();o(3),M(" ",e.fieldsInfo.hasInherits==null?null:e.fieldsInfo.hasInherits.fieldTitle," "),o(3),w("ngModel",e.dataModel.hasInherits)}}function Bd(n,l){if(n&1&&(r(0,"option",17),d(1),s()),n&2){let e=l.$implicit;h("ngValue",e.value),o(),M(" ",e.description," ")}}function Fd(n,l){n&1&&(r(0,"mat-error"),d(1," AccessStatus is "),r(2,"strong"),d(3),S(4,"translate"),s()()),n&2&&(o(3),y(C(4,1,"MESSAGE.required")))}function Od(n,l){if(n&1&&(r(0,"option",17),d(1),s()),n&2){let e=l.$implicit;h("ngValue",e.value),o(),M(" ",e.description," ")}}function Gd(n,l){n&1&&(r(0,"mat-error"),d(1," Action is "),r(2,"strong"),d(3),S(4,"translate"),s()()),n&2&&(o(3),y(C(4,1,"MESSAGE.required")))}function Hd(n,l){if(n&1){let e=A();r(0,"div",19)(1,"label",32),d(2),S(3,"translate"),s(),r(4,"input",33),P("ngModelChange",function(t){u(e);let a=m();return T(a.dataModel.expireDate,t)||(a.dataModel.expireDate=t),f(t)}),s(),g(5,"mat-datepicker-toggle",22)(6,"mat-datepicker",23,4),s()}if(n&2){let e=D(7),i=m();o(2),y(C(3,5,"TITLE.Expire_Date")),o(2),w("ngModel",i.dataModel.expireDate),h("matDatepicker",e),o(),h("for",e),o(),h("calendarHeaderComponent",i.datapickerHeader)}}function Wd(n,l){if(n&1){let e=A();r(0,"div",24)(1,"button",34),I("click",function(){u(e);let t=m();return f(t.onFormCancel())}),g(2,"i",35),d(3),S(4,"translate"),s(),r(5,"button",36),g(6,"i",37),d(7),S(8,"translate"),s()()}if(n&2){m();let e=D(10);o(3),M(" ",C(4,3,"ACTION.CANCEL")," "),o(2),h("disabled",!e.form.valid),o(2),M(" ",C(8,5,"ACTION.SAVE")," ")}}var Io=class Io extends Ct{constructor(e,i,t,a,p,c,E,F){super(a,new Li,c,F);this.data=e;this.dialogRef=i;this.smsEnumService=t;this.smsMainApiPathPermissionService=a;this.cmsToastrService=p;this.publicHelper=c;this.cdr=E;this.translate=F;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new q;this.dataModel=new Li;this.dataModelEnumApiPathPermissionAccessStatusResult=new q;this.dataModelEnumApiPathPermissionActionResult=new q;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(e=>{this.formInfo.formTitle=e}),this.getEnumApiPathPermissionAccessStatus(),this.getEnumApiPathPermissionAction(),this.DataGetAccess()}getEnumApiPathPermissionAccessStatus(){this.smsEnumService.ServiceSmsApiPathPermissionAccessStatusEnum().subscribe(e=>{this.dataModelEnumApiPathPermissionAccessStatusResult=e})}getEnumApiPathPermissionAction(){this.smsEnumService.ServiceSmsApiPathPermissionActionEnum().subscribe(e=>{this.dataModelEnumApiPathPermissionActionResult=e})}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.smsMainApiPathPermissionService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success}),this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorCmsUser(e){if(!e||!e.id||e.id<=0){this.dataModel.linkCoreUserId=null;return}this.dataModel.linkCoreUserId=e.id}onActionSelectorCmsSite(e){if(!e||!e.id||e.id<=0){this.dataModel.linkCoreSiteId=null;return}this.dataModel.linkCoreSiteId=e.id}onActionSelectorCoreUserGroup(e){if(!e||!e.id||e.id<=0){this.dataModel.linkCoreUserGroupId=null;return}this.dataModel.linkCoreUserGroupId=e.id}onActionSelectorCoreSiteCategory(e){if(!e||!e.id||e.id<=0){this.dataModel.linkCoreSiteCategoryId=null;return}this.dataModel.linkCoreSiteCategoryId=e.id}onActionSelectorSelectLinkApiPathId(e){if(!e||e.id.length<=0){this.cmsToastrService.typeErrorSelected("\u0645\u0633\u06CC\u0631 \u0633\u0631\u0648\u06CC\u0633 \u062F\u0647\u0646\u062F\u0647 \u0645\u0634\u062E\u0635 \u0646\u06CC\u0633\u062A");return}this.dataModel.linkApiPathId=e.id}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Io.\u0275fac=function(i){return new(i||Io)(_(ve),_(be),_(Ye),_(ji),_(W),_(U),_(G),_(O))},Io.\u0275cmp=N({type:Io,selectors:[["app-sms-apipathpermission-add"]],viewQuery:function(i,t){if(i&1&&ee(Ld,5),i&2){let a;te(a=ie())&&(t.formGroup=a.first)}},standalone:!1,features:[X],decls:50,vars:49,consts:[["vform","ngForm"],["AccessStatus","ngModel"],["Action","ngModel"],["FromDate",""],["ExpireDate",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"optionChange","optionSelectForce","optionPlaceholder"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],[1,"d-flex","mb-3"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["id","dataModel.accessStatus","name","dataModel.accessStatus","required","",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[3,"ngValue"],["id","dataModel.action","name","dataModel.action","required","",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],["for","dataModel.fromDate",1,"color-highlight"],["matInput","","type","text","name","dataModel.fromDate","id","dataModel.fromDate",1,"form-control","validate-name",3,"ngModelChange","ngModel","matDatepicker"],["matSuffix","",3,"for"],["touchUi","",3,"calendarHeaderComponent"],[1,"form-actions"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"pt-1"],["data-trigger-switch","dataModel.hasInherits",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.hasInherits","name","dataModel.hasInherits",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.hasInherits",1,"custom-control-label"],["for","dataModel.expireDate",1,"color-highlight"],["matInput","","type","text","name","dataModel.expireDate","id","dataModel.expireDate",1,"form-control","validate-name",3,"ngModelChange","ngModel","matDatepicker"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let a=A();r(0,"div",5),g(1,"app-progress-spinner",6),r(2,"div",7)(3,"p",8),d(4),s(),r(5,"p"),d(6),S(7,"translate"),s(),g(8,"app-cms-form-result-message",9),r(9,"form",10,0),I("ngSubmit",function(){return u(a),f(t.onFormSubmit())}),b(11,Vd,1,5,"app-cms-enum-record-status-selector",11),r(12,"app-sms-apipath-selector",12),S(13,"translate"),I("optionChange",function(c){return u(a),f(t.onActionSelectorSelectLinkApiPathId(c))}),s(),r(14,"app-cms-user-selector",13),S(15,"translate"),I("optionChange",function(c){return u(a),f(t.onActionSelectorCmsUser(c))}),s(),r(16,"app-cms-site-selector",13),S(17,"translate"),I("optionChange",function(c){return u(a),f(t.onActionSelectorCmsSite(c))}),s(),r(18,"app-cms-usergroup-selector",13),S(19,"translate"),I("optionChange",function(c){return u(a),f(t.onActionSelectorCoreUserGroup(c))}),s(),r(20,"app-cms-sitecategory-selector",13),S(21,"translate"),I("optionChange",function(c){return u(a),f(t.onActionSelectorCoreSiteCategory(c))}),s(),b(22,Nd,8,2,"div",14),r(23,"div",15)(24,"select",16,1),P("ngModelChange",function(c){return u(a),T(t.dataModel.accessStatus,c)||(t.dataModel.accessStatus=c),f(c)}),Z(26,Bd,2,2,"option",17,De),s(),r(28,"em"),d(29),S(30,"translate"),s(),b(31,Fd,5,3,"mat-error"),s(),r(32,"div",15)(33,"select",18,2),P("ngModelChange",function(c){return u(a),T(t.dataModel.action,c)||(t.dataModel.action=c),f(c)}),Z(35,Od,2,2,"option",17,De),s(),r(37,"em"),d(38),S(39,"translate"),s(),b(40,Gd,5,3,"mat-error"),s(),r(41,"div",19)(42,"label",20),d(43),s(),r(44,"input",21),P("ngModelChange",function(c){return u(a),T(t.dataModel.fromDate,c)||(t.dataModel.fromDate=c),f(c)}),s(),g(45,"mat-datepicker-toggle",22)(46,"mat-datepicker",23,3),s(),b(48,Hd,8,7,"div",19),b(49,Wd,9,7,"div",24),s()()()}if(i&2){let a=D(25),p=D(34),c=D(47);o(),h("optionsInfoAreaId",t.constructorInfoAreaId),o(3),M(" ",t.formInfo.formTitle," "),o(2),M(" ",C(7,33,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),h("formInfo",t.formInfo),o(3),v(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?11:-1),o(),h("optionSelectForce",t.dataModel.linkApiPathId)("optionPlaceholder",C(13,35,"TITLE.Direction")),o(2),h("optionDisabled",!((t.fieldsInfo.linkCoreUserId==null?null:t.fieldsInfo.linkCoreUserId.accessAddField)??!1))("optionSelectForce",t.dataModel.linkCoreUserId)("optionPlaceholder",C(15,37,"TITLE.USER")),o(2),h("optionDisabled",!((t.fieldsInfo.linkCoreSiteId==null?null:t.fieldsInfo.linkCoreSiteId.accessAddField)??!1))("optionSelectForce",t.dataModel.linkCoreSiteId)("optionPlaceholder",C(17,39,"TITLE.SITE")),o(2),h("optionDisabled",!((t.fieldsInfo.linkCoreUserGroupId==null?null:t.fieldsInfo.linkCoreUserGroupId.accessAddField)??!1))("optionSelectForce",t.dataModel.linkCoreUserGroupId)("optionPlaceholder",C(19,41,"TITLE.Type_Usage")),o(2),h("optionDisabled",!(t.fieldsInfo.linkCoreSiteCategoryId!=null&&t.fieldsInfo.linkCoreSiteCategoryId.accessAddField))("optionSelectForce",t.dataModel.linkCoreSiteCategoryId)("optionPlaceholder",C(21,43,"TITLE.Site_Type")),o(2),v(t.fieldsInfo.hasInherits!=null&&t.fieldsInfo.hasInherits.accessWatchField?22:-1),o(2),w("ngModel",t.dataModel.accessStatus),o(2),$(t.dataModelEnumApiPathPermissionAccessStatusResult.listItems),o(3),M("",C(30,45,"TITLE.Select_type_of_content")," "),o(2),v(a.errors!=null&&a.errors.required?31:-1),o(2),w("ngModel",t.dataModel.action),o(2),$(t.dataModelEnumApiPathPermissionActionResult.listItems),o(3),M("",C(39,47,"TITLE.Select_type_of_content")," "),o(2),v(p.errors!=null&&p.errors.required?40:-1),o(3),y(t.fieldsInfo.fromDate==null?null:t.fieldsInfo.fromDate.fieldTitle),o(),w("ngModel",t.dataModel.fromDate),h("matDatepicker",c),o(),h("for",c),o(),h("calendarHeaderComponent",t.datapickerHeader),o(2),v(t.fieldsInfo.expireDate!=null&&t.fieldsInfo.expireDate.accessWatchField?48:-1),o(),v(t.formInfo.submitButtonEnabled?49:-1)}},dependencies:[_e,pn,un,ne,Je,mn,oe,ge,fe,he,Me,Ot,Gt,Ht,Le,Ft,J,yi,Te,Fi,li,Oi,K,Ee,ci,H],encapsulation:2});var Ao=Io;var Ud=["vform"];function qd(n,l){if(n&1){let e=A();r(0,"app-cms-enum-record-status-selector",25),P("modelChange",function(t){u(e);let a=m();return T(a.dataModel.recordStatus,t)||(a.dataModel.recordStatus=t),f(t)}),s()}if(n&2){let e=m();w("model",e.dataModel.recordStatus),h("optionDisabled",!((e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.accessEditField)??!1))("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function jd(n,l){if(n&1){let e=A();r(0,"div",14)(1,"div",26)(2,"h5",27),d(3),s()(),r(4,"div",28)(5,"div",29)(6,"input",30),P("ngModelChange",function(t){u(e);let a=m();return T(a.dataModel.hasInherits,t)||(a.dataModel.hasInherits=t),f(t)}),s(),g(7,"label",31),s()()()}if(n&2){let e=m();o(3),M(" ",e.fieldsInfo.hasInherits==null?null:e.fieldsInfo.hasInherits.fieldTitle," "),o(3),w("ngModel",e.dataModel.hasInherits)}}function Qd(n,l){if(n&1&&(r(0,"option",17),d(1),s()),n&2){let e=l.$implicit;h("ngValue",e.value),o(),M(" ",e.description," ")}}function zd(n,l){n&1&&(r(0,"mat-error"),d(1," AccessStatus is "),r(2,"strong"),d(3),S(4,"translate"),s()()),n&2&&(o(3),y(C(4,1,"MESSAGE.required")))}function Kd(n,l){if(n&1&&(r(0,"option",17),d(1),s()),n&2){let e=l.$implicit;h("ngValue",e.value),o(),M(" ",e.description," ")}}function Xd(n,l){n&1&&(r(0,"mat-error"),d(1," Action is "),r(2,"strong"),d(3),S(4,"translate"),s()()),n&2&&(o(3),y(C(4,1,"MESSAGE.required")))}function Yd(n,l){if(n&1){let e=A();r(0,"div",19)(1,"label",32),d(2),S(3,"translate"),s(),r(4,"input",33),P("ngModelChange",function(t){u(e);let a=m();return T(a.dataModel.expireDate,t)||(a.dataModel.expireDate=t),f(t)}),s(),g(5,"mat-datepicker-toggle",22)(6,"mat-datepicker",23,4),s()}if(n&2){let e=D(7),i=m();o(2),y(C(3,5,"TITLE.Expire_Date")),o(2),w("ngModel",i.dataModel.expireDate),h("matDatepicker",e),o(),h("for",e),o(),h("calendarHeaderComponent",i.datapickerHeader)}}function Jd(n,l){if(n&1){let e=A();r(0,"div",24)(1,"button",34),I("click",function(){u(e);let t=m();return f(t.onFormCancel())}),g(2,"i",35),d(3),S(4,"translate"),s(),r(5,"button",36),g(6,"i",37),d(7),S(8,"translate"),s()()}if(n&2){m();let e=D(10);o(3),M(" ",C(4,3,"ACTION.CANCEL")," "),o(2),h("disabled",!e.form.valid),o(2),M(" ",C(8,5,"ACTION.SAVE")," ")}}var Eo=class Eo extends gt{constructor(e,i,t,a,p,c,E,F){super(a,new Li,c,F);this.data=e;this.dialogRef=i;this.smsEnumService=t;this.smsMainApiPathPermissionService=a;this.cmsToastrService=p;this.publicHelper=c;this.cdr=E;this.translate=F;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new ft;this.dataModel=new Li;this.dataModelEnumApiPathPermissionAccessStatusResult=new q;this.dataModelEnumApiPathPermissionActionResult=new q;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,e&&e.id&&(this.requestId=e.id),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e});else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.getEnumApiPathPermissionAccessStatus(),this.getEnumApiPathPermissionAction()}getEnumApiPathPermissionAccessStatus(){this.smsEnumService.ServiceSmsApiPathPermissionAccessStatusEnum().subscribe(e=>{this.dataModelEnumApiPathPermissionAccessStatusResult=e})}getEnumApiPathPermissionAction(){this.smsEnumService.ServiceSmsApiPathPermissionActionEnum().subscribe(e=>{this.dataModelEnumApiPathPermissionActionResult=e})}DataGetOneContent(){if(this.requestId.length<=0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.smsMainApiPathPermissionService.setAccessLoad(),this.smsMainApiPathPermissionService.setAccessDataType(nt.Editor),this.smsMainApiPathPermissionService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.smsMainApiPathPermissionService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success}),this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorCmsUser(e){if(!e||!e.id||e.id<=0){this.dataModel.linkCoreUserId=null;return}this.dataModel.linkCoreUserId=e.id}onActionSelectorCmsSite(e){if(!e||!e.id||e.id<=0){this.dataModel.linkCoreSiteId=null;return}this.dataModel.linkCoreSiteId=e.id}onActionSelectorCoreUserGroup(e){if(!e||!e.id||e.id<=0){this.dataModel.linkCoreUserGroupId=null;return}this.dataModel.linkCoreUserGroupId=e.id}onActionSelectorCoreSiteCategory(e){if(!e||!e.id||e.id<=0){this.dataModel.linkCoreSiteCategoryId=null;return}this.dataModel.linkCoreSiteCategoryId=e.id}onActionSelectorSelectLinkApiPathId(e){if(!e||e.id.length<=0){this.cmsToastrService.typeErrorSelected("\u0645\u0633\u06CC\u0631 \u0633\u0631\u0648\u06CC\u0633 \u062F\u0647\u0646\u062F\u0647 \u0645\u0634\u062E\u0635 \u0646\u06CC\u0633\u062A");return}this.dataModel.linkApiPathId=e.id}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}onActionSetTodayExpireDate(){this.dataModel.expireDate=new Date}};Eo.\u0275fac=function(i){return new(i||Eo)(_(ve),_(be),_(Ye),_(ji),_(W),_(U),_(G),_(O))},Eo.\u0275cmp=N({type:Eo,selectors:[["app-sms-apipathpermission-edit"]],viewQuery:function(i,t){if(i&1&&ee(Ud,5),i&2){let a;te(a=ie())&&(t.formGroup=a.first)}},standalone:!1,features:[X],decls:50,vars:49,consts:[["vform","ngForm"],["AccessStatus","ngModel"],["Action","ngModel"],["FromDate",""],["ExpireDate",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"optionChange","optionSelectForce","optionPlaceholder"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],[1,"d-flex","mb-3"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["id","dataModel.accessStatus","name","dataModel.accessStatus","required","",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[3,"ngValue"],["id","dataModel.action","name","dataModel.action","required","",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],["for","dataModel.fromDate",1,"color-highlight"],["matInput","","type","text","name","dataModel.fromDate","id","dataModel.fromDate",1,"form-control","validate-name",3,"ngModelChange","ngModel","matDatepicker"],["matSuffix","",3,"for"],["touchUi","",3,"calendarHeaderComponent"],[1,"form-actions"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"pt-1"],["data-trigger-switch","dataModel.hasInherits",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.hasInherits","name","dataModel.hasInherits",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.hasInherits",1,"custom-control-label"],["for","dataModel.expireDate",1,"color-highlight"],["matInput","","type","text","name","dataModel.expireDate","id","dataModel.expireDate",1,"form-control","validate-name",3,"ngModelChange","ngModel","matDatepicker"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let a=A();r(0,"div",5),g(1,"app-progress-spinner",6),r(2,"div",7)(3,"p",8),d(4),s(),r(5,"p"),d(6),S(7,"translate"),s(),g(8,"app-cms-form-result-message",9),r(9,"form",10,0),I("ngSubmit",function(){return u(a),f(t.onFormSubmit())}),b(11,qd,1,5,"app-cms-enum-record-status-selector",11),r(12,"app-sms-apipath-selector",12),S(13,"translate"),I("optionChange",function(c){return u(a),f(t.onActionSelectorSelectLinkApiPathId(c))}),s(),r(14,"app-cms-user-selector",13),S(15,"translate"),I("optionChange",function(c){return u(a),f(t.onActionSelectorCmsUser(c))}),s(),r(16,"app-cms-site-selector",13),S(17,"translate"),I("optionChange",function(c){return u(a),f(t.onActionSelectorCmsSite(c))}),s(),r(18,"app-cms-usergroup-selector",13),S(19,"translate"),I("optionChange",function(c){return u(a),f(t.onActionSelectorCoreUserGroup(c))}),s(),r(20,"app-cms-sitecategory-selector",13),S(21,"translate"),I("optionChange",function(c){return u(a),f(t.onActionSelectorCoreSiteCategory(c))}),s(),b(22,jd,8,2,"div",14),r(23,"div",15)(24,"select",16,1),P("ngModelChange",function(c){return u(a),T(t.dataModel.accessStatus,c)||(t.dataModel.accessStatus=c),f(c)}),Z(26,Qd,2,2,"option",17,De),s(),r(28,"em"),d(29),S(30,"translate"),s(),b(31,zd,5,3,"mat-error"),s(),r(32,"div",15)(33,"select",18,2),P("ngModelChange",function(c){return u(a),T(t.dataModel.action,c)||(t.dataModel.action=c),f(c)}),Z(35,Kd,2,2,"option",17,De),s(),r(37,"em"),d(38),S(39,"translate"),s(),b(40,Xd,5,3,"mat-error"),s(),r(41,"div",19)(42,"label",20),d(43),s(),r(44,"input",21),P("ngModelChange",function(c){return u(a),T(t.dataModel.fromDate,c)||(t.dataModel.fromDate=c),f(c)}),s(),g(45,"mat-datepicker-toggle",22)(46,"mat-datepicker",23,3),s(),b(48,Yd,8,7,"div",19),b(49,Jd,9,7,"div",24),s()()()}if(i&2){let a=D(25),p=D(34),c=D(47);o(),h("optionsInfoAreaId",t.constructorInfoAreaId),o(3),M(" ",t.formInfo.formTitle," "),o(2),M(" ",C(7,33,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),h("formInfo",t.formInfo),o(3),v(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?11:-1),o(),h("optionSelectForce",t.dataModel.linkApiPathId)("optionPlaceholder",C(13,35,"TITLE.Direction")),o(2),h("optionDisabled",!((t.fieldsInfo.linkCoreUserId==null?null:t.fieldsInfo.linkCoreUserId.accessEditField)??!1))("optionSelectForce",t.dataModel.linkCoreUserId)("optionPlaceholder",C(15,37,"TITLE.USER")),o(2),h("optionDisabled",!((t.fieldsInfo.linkCoreSiteId==null?null:t.fieldsInfo.linkCoreSiteId.accessEditField)??!1))("optionSelectForce",t.dataModel.linkCoreSiteId)("optionPlaceholder",C(17,39,"TITLE.SITE")),o(2),h("optionDisabled",!((t.fieldsInfo.linkCoreUserGroupId==null?null:t.fieldsInfo.linkCoreUserGroupId.accessEditField)??!1))("optionSelectForce",t.dataModel.linkCoreUserGroupId)("optionPlaceholder",C(19,41,"TITLE.Type_Usage")),o(2),h("optionDisabled",!(t.fieldsInfo.linkCoreSiteCategoryId!=null&&t.fieldsInfo.linkCoreSiteCategoryId.accessAddField))("optionSelectForce",t.dataModel.linkCoreSiteCategoryId)("optionPlaceholder",C(21,43,"TITLE.Site_Type")),o(2),v(t.fieldsInfo.hasInherits!=null&&t.fieldsInfo.hasInherits.accessWatchField?22:-1),o(2),w("ngModel",t.dataModel.accessStatus),o(2),$(t.dataModelEnumApiPathPermissionAccessStatusResult.listItems),o(3),M("",C(30,45,"TITLE.Select_type_of_content")," "),o(2),v(a.errors!=null&&a.errors.required?31:-1),o(2),w("ngModel",t.dataModel.action),o(2),$(t.dataModelEnumApiPathPermissionActionResult.listItems),o(3),M("",C(39,47,"TITLE.Select_type_of_content")," "),o(2),v(p.errors!=null&&p.errors.required?40:-1),o(3),y(t.fieldsInfo.fromDate==null?null:t.fieldsInfo.fromDate.fieldTitle),o(),w("ngModel",t.dataModel.fromDate),h("matDatepicker",c),o(),h("for",c),o(),h("calendarHeaderComponent",t.datapickerHeader),o(2),v(t.fieldsInfo.expireDate!=null&&t.fieldsInfo.expireDate.accessWatchField?48:-1),o(),v(t.formInfo.submitButtonEnabled?49:-1)}},dependencies:[_e,pn,un,ne,Je,mn,oe,ge,fe,he,Me,Ot,Gt,Ht,Le,Ft,J,yi,Te,Fi,li,Oi,K,Ee,ci,H],encapsulation:2});var yo=Eo;var Zd=()=>[5,10,20,100],$d=(n,l)=>l.id;function em(n,l){if(n&1){let e=A();r(0,"button",21),S(1,"translate"),I("click",function(){u(e);let t=m();return f(t.onActionBackToParent())}),g(2,"i",22),s()}n&2&&ln("aria-label",k(C(1,2,"ACTION.BACK")))}function tm(n,l){if(n&1){let e=A();r(0,"div",12)(1,"app-cms-search-list",23),P("optionsChange",function(t){u(e);let a=m();return T(a.optionsSearch,t)||(a.optionsSearch=t),f(t)}),s()()}if(n&2){let e=m();o(),w("options",e.optionsSearch)}}function im(n,l){if(n&1){let e=A();r(0,"div",13)(1,"app-cms-statist-list",23),P("optionsChange",function(t){u(e);let a=m();return T(a.optionsStatist,t)||(a.optionsStatist=t),f(t)}),s()()}if(n&2){let e=m();o(),w("options",e.optionsStatist)}}function nm(n,l){if(n&1&&(r(0,"div",24),g(1,"i",10),r(2,"span"),d(3),S(4,"translate"),S(5,"translate"),s()()),n&2){let e=m();ut("transform","translateY("+(e.pullToRefreshState.pullDistance>80?80:e.pullToRefreshState.pullDistance)+"px)"),B("refreshing",e.pullToRefreshState.isRefreshing),o(),B("rotation360",e.pullToRefreshState.isRefreshing),o(2),y(e.pullToRefreshState.isRefreshing?C(4,7,"ACTION.RELOADING"):C(5,9,"ACTION.PULL_TO_REFRESH"))}}function om(n,l){if(n&1&&(r(0,"div",32),g(1,"i",38),r(2,"span"),d(3),S(4,"cmsuserinfo"),S(5,"async"),s()()),n&2){let e=m().$implicit;o(3),y(C(5,3,C(4,1,e.linkCoreUserId)))}}function am(n,l){if(n&1&&(r(0,"div",32),g(1,"i",39),r(2,"span"),d(3),s()()),n&2){let e=m().$implicit;o(3),y(e.linkApiPathId)}}function rm(n,l){n&1&&(r(0,"span",36),g(1,"i",40),d(2),S(3,"translate"),s()),n&2&&(o(2),M(" ",C(3,1,"MESSAGE.Access")," "))}function sm(n,l){if(n&1&&(r(0,"div",37),g(1,"i",41),r(2,"span"),d(3),S(4,"localeDate"),s()()),n&2){let e=m().$implicit;o(3),y(C(4,1,e.expireDate))}}function lm(n,l){if(n&1){let e=A();r(0,"div",26)(1,"div",27),I("click",function(){let t=u(e).$implicit,a=m(2);return f(a.onActionTableRowSelect(t))})("touchstart",function(t){let a=u(e).$implicit,p=m(2);return f(p.onItemTouchStart(t,a.id))})("touchmove",function(t){let a=u(e).$implicit,p=m(2);return f(p.onItemTouchMove(t,a.id))})("touchend",function(t){let a=u(e).$implicit,p=m(2);return f(p.onItemTouchEnd(t,a.id))}),r(2,"div",28),g(3,"i",29),s(),r(4,"div",30)(5,"div",31),d(6),s(),b(7,om,6,5,"div",32),b(8,am,4,1,"div",32),r(9,"div",33)(10,"div",34),g(11,"i",35),S(12,"statusIconClass"),b(13,rm,4,3,"span",36),s(),b(14,sm,5,3,"div",37),s()()()()}if(n&2){let e,i=l.$implicit,t=m(2);ut("transform","translateX("+(((e=t.swipeState.get(i.id))==null?null:e.offset)||0)+"px)"),o(),B("selected",i.id===(t.tableRowSelected==null?null:t.tableRowSelected.id)),se("aria-label",i.id),o(5),M(" ",i.id," "),o(),v(i.linkCoreUserId?7:-1),o(),v(i.linkApiPathId?8:-1),o(3),h("ngClass",C(12,11,i.recordStatus)),o(2),v(i.hasAccess?13:-1),o(),v(i.expireDate?14:-1)}}function cm(n,l){if(n&1&&(r(0,"div",16),Z(1,lm,15,13,"div",25,$d),s()),n&2){let e=m();o(),$(e.dataModelResult.listItems)}}function dm(n,l){n&1&&(r(0,"div",17)(1,"div",42),g(2,"i",43),s(),r(3,"div",44),d(4),S(5,"translate"),s()()),n&2&&(o(4),M(" ",C(5,1,"MESSAGE.no_information")," "))}function mm(n,l){if(n&1){let e=A();r(0,"button",45),S(1,"translate"),I("click",function(){u(e);let t=m();return f(t.onActionButtonNewRow())}),g(2,"i",46),s()}n&2&&se("aria-label",C(1,1,"ACTION.ADD"))}function pm(n,l){if(n&1){let e=A();r(0,"div",20)(1,"mat-paginator",47,0),I("page",function(t){u(e);let a=m();return f(a.onTablePageingData(t))}),s()()}if(n&2){let e=m();o(),h("length",(e.dataModelResult==null?null:e.dataModelResult.totalRowCount)||0)("pageIndex",((e.dataModelResult==null?null:e.dataModelResult.currentPageNumber)||1)-1)("pageSize",(e.dataModelResult==null?null:e.dataModelResult.rowPerPage)||10)("pageSizeOptions",xe(4,Zd))}}var wo=class wo extends Qe{constructor(e,i,t,a,p,c,E,F,Ne,tt,Pe,It){super(e,new Li,Pe,c,F);this.contentService=e;this.cmsToastrService=i;this.activatedRoute=t;this.cmsConfirmationDialogService=a;this.router=p;this.tokenHelper=c;this.cdr=E;this.translate=F;this.cmsStoreService=Ne;this.pageInfo=tt;this.publicHelper=Pe;this.dialog=It;this.requestLinkApiPathId="";this.requestLinkCoreUserId=0;this.requestLinkCoreSiteId=0;this.constructorInfoAreaId=this.constructor.name;this.filteModelContent=new Y;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["recordStatus","linkApiPathId","linkCoreUserId","linkCoreUserGroupId","hasAccess","hasInherits","fromDate","expireDate"];this.tabledisplayedColumnsMobileSource=["recordStatus","linkApiPathId","linkCoreUserId","linkCoreUserGroupId","hasAccess","hasInherits","fromDate","expireDate"];this.unsubscribe=[];this.pullToRefreshState={isRefreshing:!1,startY:0,currentY:0,pullDistance:0,threshold:80};this.Math=Math;this.swipeState=new Map;this.SWIPE_THRESHOLD=100;this.SWIPE_MAX_OFFSET=120;if(this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:z=>this.onSubmitOptionsSearch(z)},this.requestLinkCoreUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkCoreSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkApiPathId=this.activatedRoute.snapshot.paramMap.get("LinkApiPathId"),this.requestLinkCoreUserId>0){let z=new V;z.propertyName="LinkCoreUserId",z.value=this.requestLinkCoreUserId,this.filteModelContent.filters.push(z)}if(this.requestLinkApiPathId?.length>0){let z=new V;z.propertyName="LinkApiPathId",z.value=this.requestLinkApiPathId,this.filteModelContent.filters.push(z)}this.filteModelContent.sortColumn="id",this.filteModelContent.sortType=Q.Descending}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>ae(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Li);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));if(this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.categoryModelSelected&&this.categoryModelSelected.id.length>0){let t=new V;t.propertyName="LinkApiPathId",t.value=this.categoryModelSelected.id,i.filters.push(t)}this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{t.isSuccess&&(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=Q.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=Q.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=Q.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(Ao,{height:"90%",panelClass:e,enterAnimationDuration:j.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:j.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length==0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(yo,{height:"90%",panelClass:i,enterAnimationDuration:j.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:j.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(a=>{a&&a.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length==0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(a=>{this.cmsToastrService.typeErrorSelected(a)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(a=>{i=a["MESSAGE.Please_Confirm"],t=a["MESSAGE.Do_you_want_to_delete_this_content"]+"?"}),this.cmsConfirmationDialogService.confirm(i,t).then(a=>{if(a){let p=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(p,c,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(p)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(p,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{i.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{i.set(c,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(E=>{i.set(E,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}});let a=JSON.parse(JSON.stringify(this.filteModelContent)),p=new V;p.propertyName="recordStatus",p.value=ke.Available,a.filters.push(p),this.contentService.ServiceGetCount(a).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(E=>{i.set(E,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonReload(){this.DataGetAll()}onItemTouchStart(e,i){e.stopPropagation();let t=e.touches[0];this.swipeState.set(i,{startX:t.clientX,currentX:t.clientX,offset:0})}onItemTouchMove(e,i){e.stopPropagation();let t=this.swipeState.get(i);if(!t)return;let a=e.touches[0];t.currentX=a.clientX;let p=t.currentX-t.startX,c=document.documentElement.dir==="rtl",E=c?this.SWIPE_MAX_OFFSET:-this.SWIPE_MAX_OFFSET,F=c?-this.SWIPE_MAX_OFFSET:this.SWIPE_MAX_OFFSET;t.offset=Math.max(F,Math.min(E,p))}onItemTouchEnd(e,i){e.stopPropagation();let t=this.swipeState.get(i);if(!t)return;let a=document.documentElement.dir==="rtl",p=a?this.SWIPE_THRESHOLD:-this.SWIPE_THRESHOLD;a&&t.offset>p||!a&&t.offset<p||(t.offset=0),this.swipeState.set(i,t)}onTouchStart(e){let t=e.target.closest(".cms-m-content");t&&t.scrollTop===0&&(this.pullToRefreshState.startY=e.touches[0].clientY,this.pullToRefreshState.isRefreshing=!1)}onTouchMove(e){let t=e.target.closest(".cms-m-content");t&&t.scrollTop===0&&this.pullToRefreshState.startY>0&&(this.pullToRefreshState.currentY=e.touches[0].clientY,this.pullToRefreshState.pullDistance=Math.max(0,this.pullToRefreshState.currentY-this.pullToRefreshState.startY),this.pullToRefreshState.pullDistance>10&&e.preventDefault())}onTouchEnd(e){this.pullToRefreshState.pullDistance>=this.pullToRefreshState.threshold&&!this.pullToRefreshState.isRefreshing?(this.pullToRefreshState.isRefreshing=!0,this.onActionButtonReload(),setTimeout(()=>{this.pullToRefreshState.isRefreshing=!1,this.pullToRefreshState.pullDistance=0,this.pullToRefreshState.startY=0,this.pullToRefreshState.currentY=0},1e3)):(this.pullToRefreshState.pullDistance=0,this.pullToRefreshState.startY=0,this.pullToRefreshState.currentY=0)}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/sms/main/api-path"])}};wo.\u0275fac=function(i){return new(i||wo)(_(ji),_(W),_(Xe),_(Oe),_(He),_(Ce),_(G),_(O),_(Ae),_(je),_(U),_(Se))},wo.\u0275cmp=N({type:wo,selectors:[["app-sms-apipathpermission-list-mobile"]],standalone:!1,features:[X],decls:27,vars:26,consts:[["paginator",""],[1,"cms-m-body","loader-container"],[3,"optionsInfoAreaId"],[1,"cms-m-header","safe-area-top"],[1,"cms-m-header-content"],["type","button",1,"cms-m-back-btn",3,"aria-label"],[1,"cms-m-header-title"],[1,"cms-m-header-actions"],["type","button",1,"cms-m-header-action-btn",3,"click"],["aria-hidden","true",1,"fa-solid","fa-magnifying-glass"],["aria-hidden","true",1,"fa-solid","fa-rotate-right"],["aria-hidden","true",1,"fa-solid","fa-chart-bar"],[1,"cms-m-search-area","safe-area-content"],[1,"cms-m-statist-area","safe-area-content"],[1,"cms-m-pull-refresh-indicator",3,"transform","refreshing"],[1,"cms-m-content","safe-area-content",3,"touchstart","touchmove","touchend"],[1,"cms-m-list"],[1,"cms-m-empty-state"],[1,"cms-m-footer","safe-area-bottom"],[1,"cms-m-fab"],[1,"cms-m-pagination-wrapper"],["type","button",1,"cms-m-back-btn",3,"click","aria-label"],["aria-hidden","true",1,"fa-solid","fa-arrow-right"],[3,"optionsChange","options"],[1,"cms-m-pull-refresh-indicator"],[1,"cms-m-list-item-wrapper",3,"transform"],[1,"cms-m-list-item-wrapper"],["role","button","tabindex","0",1,"cms-m-list-item",3,"click","touchstart","touchmove","touchend"],[1,"cms-m-list-item-image-placeholder"],["aria-hidden","true",1,"fa-solid","fa-shield-halved"],[1,"cms-m-list-item-content"],[1,"cms-m-list-item-title"],[1,"cms-m-list-item-subtitle"],[1,"cms-m-list-item-footer"],[1,"cms-m-list-item-status"],["aria-hidden","true",3,"ngClass"],[1,"cms-m-badge","public"],[1,"cms-m-list-item-date"],["aria-hidden","true",1,"fa-solid","fa-user"],["aria-hidden","true",1,"fa-solid","fa-link"],["aria-hidden","true",1,"fa-solid","fa-check"],["aria-hidden","true",1,"fa-solid","fa-clock"],[1,"cms-m-empty-state-icon"],["aria-hidden","true",1,"fa-solid","fa-inbox"],[1,"cms-m-empty-state-text"],[1,"cms-m-fab",3,"click"],["aria-hidden","true",1,"fa-solid","fa-plus"],[3,"page","length","pageIndex","pageSize","pageSizeOptions"]],template:function(i,t){i&1&&(r(0,"div",1),g(1,"app-progress-spinner",2),r(2,"div",3)(3,"div",4),b(4,em,3,4,"button",5),r(5,"h1",6),d(6),S(7,"translate"),s(),r(8,"div",7)(9,"button",8),S(10,"translate"),I("click",function(){return t.optionsSearch.data.show=!t.optionsSearch.data.show}),g(11,"i",9),s(),r(12,"button",8),S(13,"translate"),I("click",function(){return t.onActionButtonReload()}),g(14,"i",10),s(),r(15,"button",8),S(16,"translate"),I("click",function(){return t.onActionButtonStatist()}),g(17,"i",11),s()()()(),b(18,tm,2,1,"div",12),b(19,im,2,1,"div",13),b(20,nm,6,11,"div",14),r(21,"div",15),I("touchstart",function(p){return t.onTouchStart(p)})("touchmove",function(p){return t.onTouchMove(p)})("touchend",function(p){return t.onTouchEnd(p)}),b(22,cm,3,0,"div",16)(23,dm,6,3,"div",17),s(),r(24,"div",18),b(25,mm,3,3,"button",19),b(26,pm,3,5,"div",20),s()()),i&2&&(o(),h("optionsInfoAreaId",t.constructorInfoAreaId),o(3),v((t.requestLinkApiPathId==null?null:t.requestLinkApiPathId.length)>0?4:-1),o(2),M(" ",C(7,18,"ROUTE.SMS.MAIN")," "),o(3),B("active",t.optionsSearch.data.show),se("aria-label",C(10,20,"ACTION.SEARCH")),o(3),se("aria-label",C(13,22,"ACTION.RELOAD")),o(2),B("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(),B("active",t.optionsStatist==null||t.optionsStatist.data==null?null:t.optionsStatist.data.show),se("aria-label",C(16,24,"ACTION.STATIST")),o(3),v(t.optionsSearch.data.show?18:-1),o(),v(!(t.optionsStatist==null||t.optionsStatist.data==null)&&t.optionsStatist.data.show?19:-1),o(),v(t.pullToRefreshState.pullDistance>0?20:-1),o(2),v(t.dataModelResult!=null&&t.dataModelResult.listItems&&t.dataModelResult.listItems.length>0?22:23),o(3),v(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessAddRow?25:-1),o(),v((t.dataModelResult==null?null:t.dataModelResult.totalRowCount)>0?26:-1))},dependencies:[Ge,Ie,We,Ue,K,it,H,wi,st,qe],styles:['@charset "UTF-8";.cms-m-content[_ngcontent-%COMP%]{padding:8px var(--cms-m-spacing-md);padding-bottom:calc(8px + env(safe-area-inset-bottom));position:relative;touch-action:pan-y}.cms-m-header-spacer[_ngcontent-%COMP%]{flex:1}@media (max-width: 375px){.cms-m-content[_ngcontent-%COMP%]{padding:8px 12px}.cms-m-list-item[_ngcontent-%COMP%]{padding:10px 12px}.cms-m-list-item-image[_ngcontent-%COMP%], .cms-m-list-item-image-placeholder[_ngcontent-%COMP%]{width:48px;height:48px}.cms-m-action-btn[_ngcontent-%COMP%]{width:40px;height:40px;min-width:40px;min-height:40px}}@media screen and (-webkit-min-device-pixel-ratio: 0){.cms-m-list-item[_ngcontent-%COMP%]{will-change:transform}}']});var Nn=wo;function um(n,l){if(n&1){let e=A();r(0,"li")(1,"mat-checkbox",0),I("change",function(){let t=u(e).$implicit,a=m();return f(a.onActionSelect(t))}),d(2),s()()}if(n&2){let e=l.$implicit,i=m();o(),h("checked",i.fieldsStatus.get(e.value))("disabled",i.optionDisabled),o(),M(" ",e.title," ")}}var _n=class _n{constructor(l){this.translate=l;this.id=++_n.nextId;this.modelChange=new ot;this.dataModelResult=new q;this.optionDisabled=!1;this.optionLabel="";this.optionRequired=!1;this.dataIdsSelect=[];this.formControl=new ei;this.fieldsStatus=new Map;this.optionPlaceholder="";this.optionSelectAdded=new ot;this.optionSelectRemoved=new ot;this.optionReload=()=>this.onActionButtonReload()}set model(l){this.onActionSelectForce(l)}set optionDataListResult(l){this.dataModelResult=l,this.dataModelResult.listItems.forEach(e=>this.fieldsStatus.set(e.value,!1)),this.dataIdsSelect.forEach(e=>this.fieldsStatus.set(e,!0)),this.dataModelResult.listItems.forEach(e=>{this.fieldsStatus.get(e.value)&&this.dataIdsSelect.push(e.value)})}ngOnInit(){}onActionSelect(l){this.fieldsStatus.get(l.value)?(this.fieldsStatus.set(l.value,!1),this.optionSelectRemoved.emit(l),this.dataIdsSelect.splice(this.dataIdsSelect.indexOf(l.value),1)):(this.fieldsStatus.set(l.value,!0),this.optionSelectAdded.emit(l),this.dataIdsSelect.push(l.value)),this.modelChange.emit(this.dataIdsSelect)}onActionSelectForce(l){typeof l==typeof Array(Number)?l.forEach(e=>{this.dataIdsSelect.indexOf(e)<0&&this.dataIdsSelect.push(e)}):typeof l==typeof Array(Qr)&&l.forEach(e=>{this.dataIdsSelect.push(e.value)}),this.dataIdsSelect.forEach(e=>this.fieldsStatus.set(e,!0))}onActionButtonReload(){}};_n.nextId=0,_n.\u0275fac=function(e){return new(e||_n)(_(O))},_n.\u0275cmp=N({type:_n,selectors:[["app-cms-enum-x-selectionlist"]],inputs:{model:"model",optionDisabled:"optionDisabled",optionLabel:"optionLabel",optionRequired:"optionRequired",optionDataListResult:"optionDataListResult",optionPlaceholder:"optionPlaceholder",optionReload:"optionReload"},outputs:{modelChange:"modelChange",optionSelectAdded:"optionSelectAdded",optionSelectRemoved:"optionSelectRemoved"},standalone:!1,decls:3,vars:0,consts:[[3,"change","checked","disabled"]],template:function(e,i){e&1&&(r(0,"ul"),Z(1,um,3,3,"li",null,De),s()),e&2&&(o(),$(i.dataModelResult.listItems))},dependencies:[hn],encapsulation:2});var To=_n;var Cm=["vform"];function gm(n,l){if(n&1){let e=A();r(0,"app-cms-enum-record-status-selector",30),P("modelChange",function(t){u(e);let a=m();return T(a.dataModel.recordStatus,t)||(a.dataModel.recordStatus=t),f(t)}),s()}if(n&2){let e=m();w("model",e.dataModel.recordStatus),h("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Mm(n,l){n&1&&g(0,"i",18)}function _m(n,l){n&1&&g(0,"i",19)}function bm(n,l){n&1&&(r(0,"mat-error"),d(1," Title is "),r(2,"strong"),d(3),S(4,"translate"),s()()),n&2&&(o(3),y(C(4,1,"MESSAGE.required")))}function vm(n,l){if(n&1){let e=A();r(0,"app-cms-enum-x-selector",31),P("modelChange",function(t){u(e);let a=m();return T(a.dataModel.messageType,t)||(a.dataModel.messageType=t),f(t)}),s()}if(n&2){let e=m();h("optionDataListResult",e.dataModelSmsMessageTypeEnumResult),w("model",e.dataModel.messageType),h("optionDisabled",!1)("optionLabel",e.fieldsInfo.messageType==null?null:e.fieldsInfo.messageType.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Im(n,l){if(n&1){let e=A();r(0,"div",23)(1,"div",32)(2,"h5",33),d(3),s()(),r(4,"div",34)(5,"div",35)(6,"input",36),P("ngModelChange",function(t){u(e);let a=m();return T(a.dataModel.serviceDeliveryCostBase,t)||(a.dataModel.serviceDeliveryCostBase=t),f(t)}),s(),g(7,"label",37),s()()()}if(n&2){let e=m();o(3),M(" ",e.fieldsInfo.serviceDeliveryCostBase==null?null:e.fieldsInfo.serviceDeliveryCostBase.fieldTitle," "),o(3),w("ngModel",e.dataModel.serviceDeliveryCostBase)}}function Am(n,l){if(n&1){let e=A();r(0,"div",23)(1,"div",32)(2,"h5",38),d(3),s()(),r(4,"div",34)(5,"div",35)(6,"input",39),P("ngModelChange",function(t){u(e);let a=m();return T(a.dataModel.endUserDeliveryCostBase,t)||(a.dataModel.endUserDeliveryCostBase=t),f(t)}),s(),g(7,"label",40),s()()()}if(n&2){let e=m();o(3),M(" ",e.fieldsInfo.endUserDeliveryCostBase==null?null:e.fieldsInfo.endUserDeliveryCostBase.fieldTitle," "),o(3),w("ngModel",e.dataModel.endUserDeliveryCostBase)}}function Em(n,l){if(n&1){let e=A();r(0,"div",15)(1,"label",41),d(2),s(),r(3,"input",42,6),P("ngModelChange",function(t){u(e);let a=m();return T(a.dataModel.servicePricePerPage,t)||(a.dataModel.servicePricePerPage=t),f(t)}),s()()}if(n&2){let e=m();o(2),y(e.fieldsInfo.servicePricePerPage==null?null:e.fieldsInfo.servicePricePerPage.fieldTitle),o(),w("ngModel",e.dataModel.servicePricePerPage),h("disabled",!(e.fieldsInfo.servicePricePerPage!=null&&e.fieldsInfo.servicePricePerPage.accessAddField))}}function ym(n,l){if(n&1){let e=A();r(0,"div",15)(1,"label",43),d(2),s(),r(3,"input",44,7),P("ngModelChange",function(t){u(e);let a=m();return T(a.dataModel.endUserPricePerPage,t)||(a.dataModel.endUserPricePerPage=t),f(t)}),s()()}if(n&2){let e=m();o(2),y(e.fieldsInfo.endUserPricePerPage==null?null:e.fieldsInfo.endUserPricePerPage.fieldTitle),o(),w("ngModel",e.dataModel.endUserPricePerPage),h("disabled",!(e.fieldsInfo.endUserPricePerPage!=null&&e.fieldsInfo.endUserPricePerPage.accessAddField))}}function wm(n,l){if(n&1){let e=A();r(0,"mat-chip",45),I("removed",function(){let t=u(e).$implicit,a=m();return f(a.removeTagRegulatorNumberList(t))}),r(1,"div",46),d(2),s(),r(3,"button",47)(4,"mat-icon"),d(5,"cancel"),s()()()}if(n&2){let e=l.$implicit;o(2),y(e)}}function Tm(n,l){if(n&1&&(r(0,"div"),d(1),s()),n&2){let e=l.$implicit;o(),M(" ",e," ")}}function Pm(n,l){if(n&1){let e=A();r(0,"mat-chip",45),I("removed",function(){let t=u(e).$implicit,a=m();return f(a.removeTagServicePagination(t))}),d(1),r(2,"button",47)(3,"mat-icon"),d(4,"cancel"),s()()()}if(n&2){let e=l.$implicit;o(),M(" ",e," ")}}function Rm(n,l){if(n&1&&(r(0,"div"),d(1),s()),n&2){let e=l.$implicit,i=l.$index;o(),ue(" ",i+1," - ",e," ")}}function xm(n,l){if(n&1){let e=A();r(0,"mat-chip",45),I("removed",function(){let t=u(e).$implicit,a=m();return f(a.removeTagEndUserPagination(t))}),d(1),r(2,"button",47)(3,"mat-icon"),d(4,"cancel"),s()()()}if(n&2){let e=l.$implicit;o(),M(" ",e," ")}}function Dm(n,l){if(n&1&&(r(0,"div"),d(1),s()),n&2){let e=l.$implicit,i=l.$index;o(),ue(" ",i+1," - ",e," ")}}function km(n,l){if(n&1){let e=A();r(0,"app-cms-enum-x-selectionlist",48),P("modelChange",function(t){u(e);let a=m();return T(a.dataModel.outBoxTypeList,t)||(a.dataModel.outBoxTypeList=t),f(t)}),s()}if(n&2){let e=m();h("optionDataListResult",e.dataModelSmsOutBoxTypeEnumResult),w("model",e.dataModel.outBoxTypeList),h("optionDisabled",!1)("optionLabel",e.fieldsInfo.outBoxTypeJson==null?null:e.fieldsInfo.outBoxTypeJson.fieldTitle)("optionRequired",!0)}}function Lm(n,l){if(n&1){let e=A();r(0,"div",29)(1,"button",49),I("click",function(){u(e);let t=m();return f(t.onFormCancel())}),g(2,"i",50),d(3),S(4,"translate"),s(),r(5,"button",51),g(6,"i",52),d(7),S(8,"translate"),s()()}if(n&2){m();let e=D(10);o(3),M(" ",C(4,3,"ACTION.CANCEL")," "),o(2),h("disabled",!e.form.valid),o(2),M(" ",C(8,5,"ACTION.SAVE")," ")}}var Po=class Po extends Ct{constructor(e,i,t,a,p,c,E,F){super(a,new zt,c,F);this.data=e;this.dialogRef=i;this.smsEnumService=t;this.smsMainApiPathPaginationService=a;this.cmsToastrService=p;this.publicHelper=c;this.cdr=E;this.translate=F;this.constructorInfoAreaId=this.constructor.name;this.requestId="";this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new q;this.dataModel=new zt;this.dataModelSmsMessageTypeEnumResult=new q;this.dataModelSmsOutBoxTypeEnumResult=new q;this.fileManagerOpenForm=!1;this.addOnBlurTag=!0;this.separatorKeysCodes=[13];this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),e&&(e.linkApiPathId?.length>0&&(this.dataModel.linkApiPathId=e.linkApiPathId),e.id&&(this.requestId=e.id))}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(e=>{this.formInfo.formTitle=e}),this.requestId?this.DataGetOneContent():this.DataGetAccess(),this.getSmsMessageTypeEnum(),this.getSmsOutBoxTypeEnum()}getSmsMessageTypeEnum(){this.smsEnumService.ServiceSmsMessageTypeEnum().subscribe(e=>{this.dataModelSmsMessageTypeEnumResult=e})}getSmsOutBoxTypeEnum(){this.smsEnumService.ServiceSmsOutBoxTypeEnum().subscribe(e=>{this.dataModelSmsOutBoxTypeEnumResult=e})}DataGetOneContent(){if(this.requestId.length<=0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.smsMainApiPathPaginationService.setAccessLoad(),this.smsMainApiPathPaginationService.setAccessDataType(nt.Editor),this.smsMainApiPathPaginationService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.dataModel.title=this.dataModel.title+" (COPY)",this.formInfo.formTitle=this.formInfo.formTitle,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.smsMainApiPathPaginationService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success}),this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorSelectLinkApiPathId(e){if(!e||e.id.length<=0){this.cmsToastrService.typeErrorSelected("\u0645\u0633\u06CC\u0631 \u0633\u0631\u0648\u06CC\u0633 \u062F\u0647\u0646\u062F\u0647 \u0645\u0634\u062E\u0635 \u0646\u06CC\u0633\u062A");return}this.dataModel.linkApiPathId=e.id}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}addTagRegulatorNumberList(e){let i=(e.value||"").trim();this.dataModel.regulatorNumberList||(this.dataModel.regulatorNumberList=[]),i&&this.dataModel.regulatorNumberList.push(i),e.chipInput.clear()}removeTagRegulatorNumberList(e){let i=this.dataModel.regulatorNumberList.indexOf(e);i>=0&&this.dataModel.regulatorNumberList.splice(i,1)}addTagServicePagination(e){var t=+(e.value||"").trim()||-1;this.dataModel.serviceMessageLengthPaginationList||(this.dataModel.serviceMessageLengthPaginationList=[]),t>=0&&this.dataModel.serviceMessageLengthPaginationList.push(t),e.chipInput.clear()}removeTagServicePagination(e){let i=this.dataModel.serviceMessageLengthPaginationList.indexOf(e);i>=0&&this.dataModel.serviceMessageLengthPaginationList.splice(i,1)}addTagEndUserPagination(e){let i=(e.value||"").trim();this.dataModel.endUserMessageLengthPaginationList||(this.dataModel.endUserMessageLengthPaginationList=[]);var t=+i||-1;t>=0&&this.dataModel.endUserMessageLengthPaginationList.push(t),e.chipInput.clear()}removeTagEndUserPagination(e){let i=this.dataModel.endUserMessageLengthPaginationList.indexOf(e);i>=0&&this.dataModel.endUserMessageLengthPaginationList.splice(i,1)}};Po.\u0275fac=function(i){return new(i||Po)(_(ve),_(be),_(Ye),_(ri),_(W),_(U),_(G),_(O))},Po.\u0275cmp=N({type:Po,selectors:[["app-sms-apipath-pagination-add"]],viewQuery:function(i,t){if(i&1&&ee(Cm,5),i&2){let a;te(a=ie())&&(t.formGroup=a.first)}},standalone:!1,features:[X],decls:97,vars:71,consts:[["vform","ngForm"],["Title",""],["chipListRegulatorNumberList",""],["tagInput",""],["chipListServicePagination",""],["chipListEndUserPagination",""],["servicePricePerPage",""],["endUserPricePerPage",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[3,"optionChange","optionSelectForce","optionPlaceholder"],[3,"optionDataListResult","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"divider","mt-3","mb-3"],[1,"d-flex","mb-3"],["appearance","fill",2,"width","100%"],["aria-label","'TITLE.Number'|translate"],[1,"input-ltr",3,"matChipInputTokenEnd","placeholder","matChipInputAddOnBlur","matChipInputFor","matChipInputSeparatorKeyCodes"],[3,"matChipInputTokenEnd","placeholder","matChipInputAddOnBlur","matChipInputFor","matChipInputSeparatorKeyCodes"],[3,"optionDataListResult","model","optionDisabled","optionLabel","optionRequired"],[1,"form-actions"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"modelChange","optionDataListResult","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"pt-1"],["data-trigger-switch","dataModel.serviceDeliveryCostBase",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.serviceDeliveryCostBase","name","dataModel.serviceDeliveryCostBase",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.serviceDeliveryCostBase",1,"custom-control-label"],["data-trigger-switch","dataModel.endUserDeliveryCostBase",1,"font-600","font-14"],["type","checkbox","id","dataModel.endUserDeliveryCostBase","name","dataModel.endUserDeliveryCostBase",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.endUserDeliveryCostBase",1,"custom-control-label"],["for","dataModel.servicePricePerPage",1,"color-highlight"],["matInput","","type","number","name","dataModel.servicePricePerPage","placeholder","0","id","dataModel.servicePricePerPage",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.endUserPricePerPage",1,"color-highlight"],["matInput","","type","number","name","dataModel.endUserPricePerPage","placeholder","0","id","dataModel.endUserPricePerPage",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],[3,"removed"],[1,"input-ltr"],["type","button","matChipRemove","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"],[3,"modelChange","optionDataListResult","model","optionDisabled","optionLabel","optionRequired"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let a=A();r(0,"div",8),g(1,"app-progress-spinner",9),r(2,"div",10)(3,"p",11),d(4),s(),r(5,"p"),d(6),S(7,"translate"),s(),g(8,"app-cms-form-result-message",12),r(9,"form",13,0),I("ngSubmit",function(){return u(a),f(t.onFormSubmit())}),b(11,gm,1,5,"app-cms-enum-record-status-selector",14),r(12,"div",15)(13,"label",16),d(14),s(),r(15,"input",17,1),P("ngModelChange",function(c){return u(a),T(t.dataModel.title,c)||(t.dataModel.title=c),f(c)}),s(),b(17,Mm,1,0,"i",18),b(18,_m,1,0,"i",19),r(19,"em"),d(20),s(),b(21,bm,5,3,"mat-error"),s(),r(22,"app-sms-apipath-selector",20),S(23,"translate"),I("optionChange",function(c){return u(a),f(t.onActionSelectorSelectLinkApiPathId(c))}),b(24,vm,1,6,"app-cms-enum-x-selector",21),s(),g(25,"div",22),b(26,Im,8,2,"div",23),b(27,Am,8,2,"div",23),g(28,"div",22),b(29,Em,5,3,"div",15),b(30,ym,5,3,"div",15),r(31,"b"),d(32),S(33,"translate"),s(),r(34,"mat-form-field",24)(35,"mat-label"),d(36),S(37,"translate"),s(),r(38,"mat-chip-grid",25,2),Z(40,wm,6,1,"mat-chip",null,De),r(42,"input",26,3),S(44,"translate"),I("matChipInputTokenEnd",function(c){return u(a),f(t.addTagRegulatorNumberList(c))}),s()()(),d(45," \u0645\u062B\u0627\u0644 :00983 009715 0098930 "),r(46,"div"),d(47),S(48,"translate"),g(49,"br"),Z(50,Tm,2,1,"div",null,De),s(),g(52,"br"),r(53,"b"),d(54),S(55,"translate"),s(),r(56,"mat-form-field",24)(57,"mat-label"),d(58),S(59,"translate"),s(),r(60,"mat-chip-grid",25,4),Z(62,Pm,5,1,"mat-chip",null,De),r(64,"input",27,3),S(66,"translate"),I("matChipInputTokenEnd",function(c){return u(a),f(t.addTagServicePagination(c))}),s()()(),r(67,"div"),d(68),S(69,"translate"),g(70,"br"),Z(71,Rm,2,2,"div",null,De),s(),g(73,"br"),r(74,"b"),d(75),S(76,"translate"),s(),r(77,"mat-form-field",24)(78,"mat-label"),d(79),S(80,"translate"),s(),r(81,"mat-chip-grid",25,5),Z(83,xm,5,1,"mat-chip",null,De),r(85,"input",27,3),S(87,"translate"),I("matChipInputTokenEnd",function(c){return u(a),f(t.addTagEndUserPagination(c))}),s()()(),r(88,"div"),d(89),S(90,"translate"),g(91,"br"),Z(92,Dm,2,2,"div",null,De),s(),g(94,"br"),b(95,km,1,5,"app-cms-enum-x-selectionlist",28),b(96,Lm,9,7,"div",29),s()()()}if(i&2){let a=D(16),p=D(39),c=D(61),E=D(82);o(),h("optionsInfoAreaId",t.constructorInfoAreaId),o(3),M(" ",t.formInfo.formTitle," "),o(2),M(" ",C(7,43,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),h("formInfo",t.formInfo),o(3),v(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?11:-1),o(3),y(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),h("placeholder",k(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),w("ngModel",t.dataModel.title),o(2),v(a.value?-1:17),o(),v(a.value?18:-1),o(2),M("",a.value.length," / 100"),o(),v(a.errors!=null&&a.errors.required?21:-1),o(),h("optionSelectForce",t.dataModel.linkApiPathId)("optionPlaceholder",C(23,45,"TITLE.Direction")),o(2),v(t.fieldsInfo.messageType!=null&&t.fieldsInfo.messageType.accessWatchField?24:-1),o(2),v(t.fieldsInfo.serviceDeliveryCostBase!=null&&t.fieldsInfo.serviceDeliveryCostBase.accessWatchField?26:-1),o(),v(t.fieldsInfo.endUserDeliveryCostBase!=null&&t.fieldsInfo.endUserDeliveryCostBase.accessWatchField?27:-1),o(2),v(t.fieldsInfo.servicePricePerPage!=null&&t.fieldsInfo.servicePricePerPage.accessWatchField?29:-1),o(),v(t.fieldsInfo.endUserPricePerPage!=null&&t.fieldsInfo.endUserPricePerPage.accessWatchField?30:-1),o(2),y(C(33,47,"TITLE.ACCEPTABLE_PREFIXES")),o(4),y(C(37,49,"TITLE.ACCEPTABLE_PREFIXES")),o(4),$(t.dataModel.regulatorNumberList),o(2),h("placeholder",C(44,51,"TITLE.key_word"))("matChipInputAddOnBlur",t.addOnBlurTag)("matChipInputFor",p)("matChipInputSeparatorKeyCodes",t.separatorKeysCodes),o(5),M(" ",C(48,53,"TITLE.ACCEPTABLE_PREFIXES")," "),o(3),$(t.dataModel.regulatorNumberList),o(4),y(C(55,55,"TITLE.PROVIDER_PAGINATION")),o(4),y(C(59,57,"TITLE.PROVIDER_PAGINATION")),o(4),$(t.dataModel.serviceMessageLengthPaginationList),o(2),h("placeholder",C(66,59,"TITLE.key_word"))("matChipInputAddOnBlur",t.addOnBlurTag)("matChipInputFor",c)("matChipInputSeparatorKeyCodes",t.separatorKeysCodes),o(4),M(" ",C(69,61,"TITLE.PROVIDER_PAGINATION")," "),o(3),$(t.dataModel.serviceMessageLengthPaginationList),o(4),y(C(76,63,"TITLE.RECIPIENT_PAGINATION")),o(4),y(C(80,65,"TITLE.RECIPIENT_PAGINATION")),o(4),$(t.dataModel.endUserMessageLengthPaginationList),o(2),h("placeholder",C(87,67,"TITLE.key_word"))("matChipInputAddOnBlur",t.addOnBlurTag)("matChipInputFor",E)("matChipInputSeparatorKeyCodes",t.separatorKeysCodes),o(4),M(" ",C(90,69,"TITLE.RECIPIENT_PAGINATION")," "),o(3),$(t.dataModel.endUserMessageLengthPaginationList),o(3),v(t.fieldsInfo.outBoxTypeJson!=null&&t.fieldsInfo.outBoxTypeJson.accessWatchField?95:-1),o(),v(t.formInfo.submitButtonEnabled?96:-1)}},dependencies:[_e,ne,bi,Je,oe,ge,fe,Be,Fe,he,Me,nr,or,ar,ir,tr,er,Le,Ze,J,Te,lr,To,K,Ee,ti,ci,H],encapsulation:2});var Bn=Po;var Vm=["vform"];function Nm(n,l){if(n&1){let e=A();r(0,"app-cms-enum-record-status-selector",26),P("modelChange",function(t){u(e);let a=m();return T(a.dataModel.recordStatus,t)||(a.dataModel.recordStatus=t),f(t)}),s()}if(n&2){let e=m();w("model",e.dataModel.recordStatus),h("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Bm(n,l){n&1&&g(0,"i",29)}function Fm(n,l){n&1&&g(0,"i",30)}function Om(n,l){n&1&&(r(0,"mat-error"),d(1," Title is "),r(2,"strong"),d(3),S(4,"translate"),s()()),n&2&&(o(3),y(C(4,1,"MESSAGE.required")))}function Gm(n,l){if(n&1){let e=A();r(0,"div",15)(1,"label",27),d(2),s(),r(3,"input",28,5),P("ngModelChange",function(t){u(e);let a=m();return T(a.dataModel.title,t)||(a.dataModel.title=t),f(t)}),s(),b(5,Bm,1,0,"i",29),b(6,Fm,1,0,"i",30),r(7,"em"),d(8),s(),b(9,Om,5,3,"mat-error"),s()}if(n&2){let e=D(4),i=m();o(2),y(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(),h("placeholder",k(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle)),w("ngModel",i.dataModel.title),h("disabled",!(i.fieldsInfo.title!=null&&i.fieldsInfo.title.accessEditField)),o(2),v(e.value?-1:5),o(),v(e.value?6:-1),o(2),M("",e.value.length," / 100"),o(),v(e.errors!=null&&e.errors.required?9:-1)}}function Hm(n,l){if(n&1){let e=A();r(0,"app-cms-enum-x-selector",31),P("modelChange",function(t){u(e);let a=m();return T(a.dataModel.messageType,t)||(a.dataModel.messageType=t),f(t)}),s()}if(n&2){let e=m();h("optionDataListResult",e.dataModelSmsMessageTypeEnumResult),w("model",e.dataModel.messageType),h("optionDisabled",!1)("optionLabel",e.fieldsInfo.messageType==null?null:e.fieldsInfo.messageType.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Wm(n,l){if(n&1){let e=A();r(0,"div",19)(1,"div",32)(2,"h5",33),d(3),s()(),r(4,"div",34)(5,"div",35)(6,"input",36),P("ngModelChange",function(t){u(e);let a=m();return T(a.dataModel.serviceDeliveryCostBase,t)||(a.dataModel.serviceDeliveryCostBase=t),f(t)}),s(),g(7,"label",37),s()()()}if(n&2){let e=m();o(3),M(" ",e.fieldsInfo.serviceDeliveryCostBase==null?null:e.fieldsInfo.serviceDeliveryCostBase.fieldTitle," "),o(3),w("ngModel",e.dataModel.serviceDeliveryCostBase)}}function Um(n,l){if(n&1){let e=A();r(0,"div",19)(1,"div",32)(2,"h5",38),d(3),s()(),r(4,"div",34)(5,"div",35)(6,"input",39),P("ngModelChange",function(t){u(e);let a=m();return T(a.dataModel.endUserDeliveryCostBase,t)||(a.dataModel.endUserDeliveryCostBase=t),f(t)}),s(),g(7,"label",40),s()()()}if(n&2){let e=m();o(3),M(" ",e.fieldsInfo.endUserDeliveryCostBase==null?null:e.fieldsInfo.endUserDeliveryCostBase.fieldTitle," "),o(3),w("ngModel",e.dataModel.endUserDeliveryCostBase)}}function qm(n,l){if(n&1){let e=A();r(0,"div",15)(1,"label",41),d(2),s(),r(3,"input",42,6),P("ngModelChange",function(t){u(e);let a=m();return T(a.dataModel.servicePricePerPage,t)||(a.dataModel.servicePricePerPage=t),f(t)}),s()()}if(n&2){let e=m();o(2),y(e.fieldsInfo.servicePricePerPage==null?null:e.fieldsInfo.servicePricePerPage.fieldTitle),o(),w("ngModel",e.dataModel.servicePricePerPage),h("disabled",!(e.fieldsInfo.servicePricePerPage!=null&&e.fieldsInfo.servicePricePerPage.accessEditField))}}function jm(n,l){if(n&1){let e=A();r(0,"div",15)(1,"label",43),d(2),s(),r(3,"input",44,7),P("ngModelChange",function(t){u(e);let a=m();return T(a.dataModel.endUserPricePerPage,t)||(a.dataModel.endUserPricePerPage=t),f(t)}),s()()}if(n&2){let e=m();o(2),y(e.fieldsInfo.endUserPricePerPage==null?null:e.fieldsInfo.endUserPricePerPage.fieldTitle),o(),w("ngModel",e.dataModel.endUserPricePerPage),h("disabled",!(e.fieldsInfo.endUserPricePerPage!=null&&e.fieldsInfo.endUserPricePerPage.accessEditField))}}function Qm(n,l){if(n&1){let e=A();r(0,"mat-chip",45),I("removed",function(){let t=u(e).$implicit,a=m();return f(a.removeTagRegulatorNumberList(t))}),r(1,"div",46),d(2),s(),r(3,"button",47)(4,"mat-icon"),d(5,"cancel"),s()()()}if(n&2){let e=l.$implicit;o(2),y(e)}}function zm(n,l){if(n&1&&(r(0,"div"),d(1),s()),n&2){let e=l.$implicit;o(),M(" ",e," ")}}function Km(n,l){if(n&1){let e=A();r(0,"mat-chip",45),I("removed",function(){let t=u(e).$implicit,a=m();return f(a.removeTagServicePagination(t))}),d(1),r(2,"button",47)(3,"mat-icon"),d(4,"cancel"),s()()()}if(n&2){let e=l.$implicit;o(),M(" ",e," ")}}function Xm(n,l){if(n&1&&(r(0,"div"),d(1),s()),n&2){let e=l.$implicit,i=l.$index;o(),ue(" ",i+1," - ",e," ")}}function Ym(n,l){if(n&1){let e=A();r(0,"mat-chip",45),I("removed",function(){let t=u(e).$implicit,a=m();return f(a.removeTagEndUserPagination(t))}),d(1),r(2,"button",47)(3,"mat-icon"),d(4,"cancel"),s()()()}if(n&2){let e=l.$implicit;o(),M(" ",e," ")}}function Jm(n,l){if(n&1&&(r(0,"div"),d(1),s()),n&2){let e=l.$implicit,i=l.$index;o(),ue(" ",i+1," - ",e," ")}}function Zm(n,l){if(n&1){let e=A();r(0,"app-cms-enum-x-selectionlist",48),P("modelChange",function(t){u(e);let a=m();return T(a.dataModel.outBoxTypeList,t)||(a.dataModel.outBoxTypeList=t),f(t)}),s()}if(n&2){let e=m();h("optionDataListResult",e.dataModelSmsOutBoxTypeEnumResult),w("model",e.dataModel.outBoxTypeList),h("optionDisabled",!1)("optionLabel",e.fieldsInfo.outBoxTypeJson==null?null:e.fieldsInfo.outBoxTypeJson.fieldTitle)("optionRequired",!0)}}function $m(n,l){if(n&1){let e=A();r(0,"div",25)(1,"button",49),I("click",function(){u(e);let t=m();return f(t.onFormCancel())}),g(2,"i",50),d(3),S(4,"translate"),s(),r(5,"button",51),g(6,"i",52),d(7),S(8,"translate"),s()()}if(n&2){m();let e=D(10);o(3),M(" ",C(4,3,"ACTION.CANCEL")," "),o(2),h("disabled",!e.form.valid),o(2),M(" ",C(8,5,"ACTION.SAVE")," ")}}var Ro=class Ro extends gt{constructor(e,i,t,a,p,c,E,F){super(a,new zt,c,F);this.data=e;this.dialogRef=i;this.smsEnumService=t;this.smsMainApiPathPaginationService=a;this.cmsToastrService=p;this.publicHelper=c;this.cdr=E;this.translate=F;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new ft;this.dataModel=new zt;this.dataModelSmsMessageTypeEnumResult=new q;this.dataModelSmsOutBoxTypeEnumResult=new q;this.fileManagerOpenForm=!1;this.addOnBlurTag=!0;this.separatorKeysCodes=[13];this.publicHelper.processService.cdr=this.cdr,e&&e.id&&(this.requestId=e.id),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e});else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.getSmsMessageTypeEnum(),this.getSmsOutBoxTypeEnum()}getSmsMessageTypeEnum(){this.smsEnumService.ServiceSmsMessageTypeEnum().subscribe(e=>{this.dataModelSmsMessageTypeEnumResult=e})}getSmsOutBoxTypeEnum(){this.smsEnumService.ServiceSmsOutBoxTypeEnum().subscribe(e=>{this.dataModelSmsOutBoxTypeEnumResult=e})}DataGetOneContent(){if(this.requestId.length<=0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.smsMainApiPathPaginationService.setAccessLoad(),this.smsMainApiPathPaginationService.setAccessDataType(nt.Editor),this.smsMainApiPathPaginationService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.smsMainApiPathPaginationService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success}),this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorSelectLinkApiPathId(e){if(!e||e.id.length<=0){this.cmsToastrService.typeErrorSelected("\u0645\u0633\u06CC\u0631 \u0633\u0631\u0648\u06CC\u0633 \u062F\u0647\u0646\u062F\u0647 \u0645\u0634\u062E\u0635 \u0646\u06CC\u0633\u062A");return}this.dataModel.linkApiPathId=e.id}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}addTagRegulatorNumberList(e){let i=(e.value||"").trim();this.dataModel.regulatorNumberList||(this.dataModel.regulatorNumberList=[]),i&&this.dataModel.regulatorNumberList.push(i),e.chipInput.clear()}removeTagRegulatorNumberList(e){let i=this.dataModel.regulatorNumberList.indexOf(e);i>=0&&this.dataModel.regulatorNumberList.splice(i,1)}addTagServicePagination(e){let i=(e.value||"").trim();this.dataModel.serviceMessageLengthPaginationList||(this.dataModel.serviceMessageLengthPaginationList=[]);var t=+i||-1;t>=0&&this.dataModel.serviceMessageLengthPaginationList.push(t),e.chipInput.clear()}removeTagServicePagination(e){let i=this.dataModel.serviceMessageLengthPaginationList.indexOf(e);i>=0&&this.dataModel.serviceMessageLengthPaginationList.splice(i,1)}addTagEndUserPagination(e){let i=(e.value||"").trim();this.dataModel.endUserMessageLengthPaginationList||(this.dataModel.endUserMessageLengthPaginationList=[]);var t=+i||-1;t>=0&&this.dataModel.endUserMessageLengthPaginationList.push(t),e.chipInput.clear()}removeTagEndUserPagination(e){let i=this.dataModel.endUserMessageLengthPaginationList.indexOf(e);i>=0&&this.dataModel.endUserMessageLengthPaginationList.splice(i,1)}};Ro.\u0275fac=function(i){return new(i||Ro)(_(ve),_(be),_(Ye),_(ri),_(W),_(U),_(G),_(O))},Ro.\u0275cmp=N({type:Ro,selectors:[["app-sms-apipath-pagination-edit"]],viewQuery:function(i,t){if(i&1&&ee(Vm,5),i&2){let a;te(a=ie())&&(t.formGroup=a.first)}},standalone:!1,features:[X],decls:88,vars:64,consts:[["vform","ngForm"],["chipListRegulatorNumberList",""],["tagInput",""],["chipListServicePagination",""],["chipListEndUserPagination",""],["Title",""],["servicePricePerPage",""],["endUserPricePerPage",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],[3,"optionChange","optionSelectForce","optionPlaceholder"],[3,"optionDataListResult","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"divider","mt-3","mb-3"],[1,"d-flex","mb-3"],["appearance","fill",2,"width","100%"],["aria-label","'TITLE.Number'|translate"],[1,"input-ltr",3,"matChipInputTokenEnd","placeholder","matChipInputAddOnBlur","matChipInputFor","matChipInputSeparatorKeyCodes"],[3,"matChipInputTokenEnd","placeholder","matChipInputAddOnBlur","matChipInputFor","matChipInputSeparatorKeyCodes"],[3,"optionDataListResult","model","optionDisabled","optionLabel","optionRequired"],[1,"form-actions"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[3,"modelChange","optionDataListResult","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"pt-1"],["data-trigger-switch","dataModel.serviceDeliveryCostBase",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.serviceDeliveryCostBase","name","dataModel.serviceDeliveryCostBase",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.serviceDeliveryCostBase",1,"custom-control-label"],["data-trigger-switch","dataModel.endUserDeliveryCostBase",1,"font-600","font-14"],["type","checkbox","id","dataModel.endUserDeliveryCostBase","name","dataModel.endUserDeliveryCostBase",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.endUserDeliveryCostBase",1,"custom-control-label"],["for","dataModel.servicePricePerPage",1,"color-highlight"],["matInput","","type","number","name","dataModel.servicePricePerPage","placeholder","0","id","dataModel.servicePricePerPage",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.endUserPricePerPage",1,"color-highlight"],["matInput","","type","number","name","dataModel.endUserPricePerPage","placeholder","0","id","dataModel.endUserPricePerPage",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],[3,"removed"],[1,"input-ltr"],["type","button","matChipRemove","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"],[3,"modelChange","optionDataListResult","model","optionDisabled","optionLabel","optionRequired"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let a=A();r(0,"div",8),g(1,"app-progress-spinner",9),r(2,"div",10)(3,"p",11),d(4),s(),r(5,"p"),d(6),S(7,"translate"),s(),g(8,"app-cms-form-result-message",12),r(9,"form",13,0),I("ngSubmit",function(){return u(a),f(t.onFormSubmit())}),b(11,Nm,1,5,"app-cms-enum-record-status-selector",14),b(12,Gm,10,9,"div",15),r(13,"app-sms-apipath-selector",16),S(14,"translate"),I("optionChange",function(c){return u(a),f(t.onActionSelectorSelectLinkApiPathId(c))}),s(),b(15,Hm,1,6,"app-cms-enum-x-selector",17),g(16,"div",18),b(17,Wm,8,2,"div",19),b(18,Um,8,2,"div",19),g(19,"div",18),b(20,qm,5,3,"div",15),b(21,jm,5,3,"div",15),g(22,"br"),r(23,"b"),d(24),S(25,"translate"),s(),r(26,"mat-form-field",20)(27,"mat-label"),d(28),S(29,"translate"),s(),r(30,"mat-chip-grid",21,1),Z(32,Qm,6,1,"mat-chip",null,De),r(34,"input",22,2),S(36,"translate"),I("matChipInputTokenEnd",function(c){return u(a),f(t.addTagRegulatorNumberList(c))}),s()()(),r(37,"div"),d(38),S(39,"translate"),g(40,"br"),Z(41,zm,2,1,"div",null,De),s(),g(43,"br"),r(44,"b"),d(45),S(46,"translate"),s(),r(47,"mat-form-field",20)(48,"mat-label"),d(49),S(50,"translate"),s(),r(51,"mat-chip-grid",21,3),Z(53,Km,5,1,"mat-chip",null,De),r(55,"input",23,2),S(57,"translate"),I("matChipInputTokenEnd",function(c){return u(a),f(t.addTagServicePagination(c))}),s()()(),r(58,"div"),d(59),S(60,"translate"),g(61,"br"),Z(62,Xm,2,2,"div",null,De),s(),g(64,"br"),r(65,"b"),d(66),S(67,"translate"),s(),r(68,"mat-form-field",20)(69,"mat-label"),d(70),S(71,"translate"),s(),r(72,"mat-chip-grid",21,4),Z(74,Ym,5,1,"mat-chip",null,De),r(76,"input",23,2),S(78,"translate"),I("matChipInputTokenEnd",function(c){return u(a),f(t.addTagEndUserPagination(c))}),s()()(),r(79,"div"),d(80),S(81,"translate"),g(82,"br"),Z(83,Jm,2,2,"div",null,De),s(),g(85,"br"),b(86,Zm,1,5,"app-cms-enum-x-selectionlist",24),b(87,$m,9,7,"div",25),s()()()}if(i&2){let a=D(31),p=D(52),c=D(73);o(),h("optionsInfoAreaId",t.constructorInfoAreaId),o(3),M(" ",t.formInfo.formTitle," "),o(2),M(" ",C(7,36,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),h("formInfo",t.formInfo),o(3),v(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?11:-1),o(),v(t.fieldsInfo.title!=null&&t.fieldsInfo.title.accessWatchField?12:-1),o(),h("optionSelectForce",t.dataModel.linkApiPathId)("optionPlaceholder",C(14,38,"TITLE.Direction")),o(2),v(t.fieldsInfo.messageType!=null&&t.fieldsInfo.messageType.accessWatchField?15:-1),o(2),v(t.fieldsInfo.serviceDeliveryCostBase!=null&&t.fieldsInfo.serviceDeliveryCostBase.accessWatchField?17:-1),o(),v(t.fieldsInfo.endUserDeliveryCostBase!=null&&t.fieldsInfo.endUserDeliveryCostBase.accessWatchField?18:-1),o(2),v(t.fieldsInfo.servicePricePerPage!=null&&t.fieldsInfo.servicePricePerPage.accessWatchField?20:-1),o(),v(t.fieldsInfo.endUserPricePerPage!=null&&t.fieldsInfo.endUserPricePerPage.accessWatchField?21:-1),o(3),y(C(25,40,"TITLE.ACCEPTABLE_PREFIXES")),o(4),y(C(29,42,"TITLE.ACCEPTABLE_PREFIXES")),o(4),$(t.dataModel.regulatorNumberList),o(2),h("placeholder",C(36,44,"TITLE.key_word"))("matChipInputAddOnBlur",t.addOnBlurTag)("matChipInputFor",a)("matChipInputSeparatorKeyCodes",t.separatorKeysCodes),o(4),M(" ",C(39,46,"TITLE.ACCEPTABLE_PREFIXES")," "),o(3),$(t.dataModel.regulatorNumberList),o(4),y(C(46,48,"TITLE.PROVIDER_PAGINATION")),o(4),y(C(50,50,"TITLE.PROVIDER_PAGINATION")),o(4),$(t.dataModel.serviceMessageLengthPaginationList),o(2),h("placeholder",C(57,52,"TITLE.key_word"))("matChipInputAddOnBlur",t.addOnBlurTag)("matChipInputFor",p)("matChipInputSeparatorKeyCodes",t.separatorKeysCodes),o(4),M(" ",C(60,54,"TITLE.PROVIDER_PAGINATION")," "),o(3),$(t.dataModel.serviceMessageLengthPaginationList),o(4),y(C(67,56,"TITLE.RECIPIENT_PAGINATION")),o(4),y(C(71,58,"TITLE.RECIPIENT_PAGINATION")),o(4),$(t.dataModel.endUserMessageLengthPaginationList),o(2),h("placeholder",C(78,60,"TITLE.key_word"))("matChipInputAddOnBlur",t.addOnBlurTag)("matChipInputFor",c)("matChipInputSeparatorKeyCodes",t.separatorKeysCodes),o(4),M(" ",C(81,62,"TITLE.RECIPIENT_PAGINATION")," "),o(3),$(t.dataModel.endUserMessageLengthPaginationList),o(3),v(t.fieldsInfo.outBoxTypeJson!=null&&t.fieldsInfo.outBoxTypeJson.accessWatchField?86:-1),o(),v(t.formInfo.submitButtonEnabled?87:-1)}},dependencies:[_e,ne,bi,Je,oe,ge,fe,Be,Fe,he,Me,nr,or,ar,ir,tr,er,Le,Ze,J,Te,lr,To,K,Ee,ti,ci,H],encapsulation:2});var xo=Ro;var Do=class Do{constructor(l,e,i,t,a,p,c,E){this.headerService=l;this.publicHelper=e;this.cdr=i;this.cmsToastrService=t;this.dialog=a;this.translate=p;this.cmsStoreService=c;this.tokenHelper=E;this.constructorInfoAreaId=this.constructor.name;this.optionId="";this.dataModelResult=new q;this.fieldsInfo=new Map;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr}ngOnInit(){this.optionId?.length>0&&this.DataGetOneContent(),this.unsubscribe.push(this.cmsStoreService.getState(l=>l.tokenInfoStore).subscribe(l=>ae(this,null,function*(){this.DataGetOneContent()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(l=>l.unsubscribe())}DataGetOneContent(){let l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(l,e,this.constructorInfoAreaId)}),this.headerService.setAccessLoad(),this.headerService.ServiceGetOneById(this.optionId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),e.isSuccess?this.dataModelResult=e:this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(l)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(l,!1)}})}};Do.\u0275fac=function(e){return new(e||Do)(_(St),_(U),_(G),_(W),_(Se),_(O),_(Ae),_(Ce))},Do.\u0275cmp=N({type:Do,selectors:[["app-sms-apipath-header"]],inputs:{optionId:"optionId"},standalone:!1,decls:31,vars:9,consts:[[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content"],[1,"table"],[1,"tr"],[1,"td","small-width"],[1,"svg-icon","svg-icon-3x","svg-icon-primary",3,"inlineSVG"],[1,"td","large-width",2,"color","darkblue"],[1,"td",2,"text-align","left"],[1,"td","large-width"],[1,"td"],[2,"clear","both"],[1,"divider","divider-margins"]],template:function(e,i){e&1&&(r(0,"div",0),g(1,"app-progress-spinner",1),r(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),g(6,"span",6),s(),r(7,"div",7)(8,"h5")(9,"b"),d(10),S(11,"translate"),s()()(),g(12,"div",8),s(),r(13,"div",4)(14,"div",5)(15,"b"),d(16),s(),d(17,": "),s(),r(18,"div",9),d(19),s(),g(20,"div",10)(21,"div",11),s(),r(22,"div",4)(23,"div",5)(24,"b"),d(25),s(),d(26,": "),s(),r(27,"div",9),d(28),s(),g(29,"div",11),s()()()(),g(30,"div",12)),e&2&&(o(),h("optionsInfoAreaId",i.constructorInfoAreaId),o(5),h("inlineSVG","./assets/media/svg/icons/Communication/Flag.svg"),o(4),M(" ",C(11,7,"TITLE.Selected_Route")," "),o(6),M("",i.fieldsInfo.id==null?null:i.fieldsInfo.id.fieldTitle," "),o(3),y(i.dataModelResult==null||i.dataModelResult.item==null?null:i.dataModelResult.item.id),o(6),M("",i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle," "),o(3),y(i.dataModelResult==null||i.dataModelResult.item==null?null:i.dataModelResult.item.title))},dependencies:[K,Jn,H],styles:[".table[_ngcontent-%COMP%]{display:table;border:1px solid #40a1f5;padding:2px;background:#fff;border-radius:5px}.table[_ngcontent-%COMP%]   .th[_ngcontent-%COMP%]{display:table-row;background-color:#40a1f577;color:#fff;font-weight:700}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f9f9f9}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]{display:table-row;border-bottom:1px solid #000}.table[_ngcontent-%COMP%]   .td[_ngcontent-%COMP%]{display:table-cell;padding:15px;border-bottom:1px solid #40a1f5;color:#3d7c7a}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:last-child   .td[_ngcontent-%COMP%]{border:0}.small-width[_ngcontent-%COMP%]{width:90px}.large-width[_ngcontent-%COMP%]{width:400px}.clear[_ngcontent-%COMP%]{clear:both}"]});var bn=Do;var ep=()=>[5,10,20,100],tp=(n,l)=>l.id;function ip(n,l){if(n&1&&g(0,"app-sms-apipath-header",1),n&2){let e=m();h("optionId",e.requestLinkApiPathId)}}function np(n,l){if(n&1){let e=A();r(0,"a",27),I("click",function(){u(e);let t=m();return f(t.onActionBackToParent())}),g(1,"i",28),s()}}function op(n,l){if(n&1){let e=A();r(0,"div",16)(1,"a",29),I("click",function(){u(e);let t=m();return f(t.onActionButtonNewRow())}),g(2,"i",30)(3,"br"),s(),r(4,"p",31),d(5),S(6,"translate"),s()()}n&2&&(o(5),M(" ",C(6,1,"ACTION.ADD")," "))}function ap(n,l){if(n&1){let e=A();r(0,"div",16)(1,"a",32),I("click",function(){u(e);let t=m();return f(t.onActionButtonEditRow(t.tableRowSelected))}),g(2,"i",33)(3,"br"),s(),r(4,"p",31),d(5),S(6,"translate"),s()()}n&2&&(o(5),M(" ",C(6,1,"ACTION.EDIT")," "))}function rp(n,l){if(n&1){let e=A();r(0,"div",16)(1,"a",34),I("click",function(){u(e);let t=m();return f(t.onActionButtonDeleteRow(t.tableRowSelected))}),g(2,"i",35)(3,"br"),s(),r(4,"p",31),d(5),S(6,"translate"),s()()}n&2&&(o(5),M(" ",C(6,1,"ACTION.DELETE")," "))}function sp(n,l){if(n&1){let e=A();r(0,"div",16)(1,"a",9),I("click",function(t){u(e);let a=m();return f(a.onActionButtonPermissionRow(a.tableRowSelected,t))}),g(2,"i",36)(3,"br"),s(),r(4,"p",31),d(5),S(6,"translate"),s()()}n&2&&(o(5),M(" ",C(6,1,"ACTION.PERMISSION")," "))}function lp(n,l){if(n&1&&(r(0,"div",37),g(1,"i",38),r(2,"span"),d(3),S(4,"translate"),S(5,"translate"),s()()),n&2){let e=m();ut("transform","translateY("+(e.pullToRefreshState.pullDistance>80?80:e.pullToRefreshState.pullDistance)+"px)"),B("refreshing",e.pullToRefreshState.isRefreshing),o(),B("rotation360",e.pullToRefreshState.isRefreshing),o(2),y(e.pullToRefreshState.isRefreshing?C(4,7,"ACTION.RELOADING"):C(5,9,"ACTION.PULL_TO_REFRESH"))}}function cp(n,l){if(n&1&&(r(0,"div",46),g(1,"i",48),d(2),S(3,"cmstitle"),s()),n&2){let e=m().$implicit,i=m(2);o(2),ue(" ",i.fieldsInfo.linkApiPathId==null?null:i.fieldsInfo.linkApiPathId.fieldTitle,": ",Nt(3,2,e.linkApiPathId,i.dataModelApiPathResult.listItems)," ")}}function dp(n,l){if(n&1&&(r(0,"div",46),g(1,"i",49),d(2),S(3,"cmstitle"),s()),n&2){let e=m().$implicit,i=m(2);o(2),ue(" ",i.fieldsInfo.messageType==null?null:i.fieldsInfo.messageType.fieldTitle,": ",Nt(3,2,e.messageType,i.dataModelSmsMessageTypeEnumResult.listItems)," ")}}function mp(n,l){if(n&1&&(r(0,"div",46),g(1,"i",50),d(2),s()),n&2){let e=m().$implicit,i=m(2);o(2),ue(" ",i.fieldsInfo.servicePricePerPage==null?null:i.fieldsInfo.servicePricePerPage.fieldTitle,": ",e.servicePricePerPage," ")}}function pp(n,l){if(n&1&&(r(0,"div",46),g(1,"i",51),d(2),s()),n&2){let e=m().$implicit,i=m(2);o(2),ue(" ",i.fieldsInfo.endUserPricePerPage==null?null:i.fieldsInfo.endUserPricePerPage.fieldTitle,": ",e.endUserPricePerPage," ")}}function up(n,l){if(n&1&&(r(0,"div",46),g(1,"i",52),S(2,"statusIconClass"),s()),n&2){let e=m().$implicit;o(),h("ngClass",C(2,1,e.recordStatus))}}function fp(n,l){if(n&1&&(r(0,"div",47)(1,"div",46)(2,"span",53),g(3,"i",54),s(),d(4),s()()),n&2){let e=m().$implicit;o(2),h("cdkCopyToClipboard",e.id.toString()),o(2),M(" ID: ",e.id," ")}}function hp(n,l){if(n&1){let e=A();r(0,"div",40)(1,"div",41),I("click",function(t){let a=u(e).$implicit,p=m(2);return f(p.onActionTableRowSelect(a,t))})("rtclick",function(t){let a=u(e).$implicit,p=m(2);return f(p.onActionTableRowSelect(a,t))})("mouseenter",function(){let t=u(e).$implicit,a=m(2);return f(a.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=u(e).$implicit,a=m(2);return f(a.onActionTableRowMouseLeave(t))})("touchstart",function(t){let a=u(e).$implicit,p=m(2);return f(p.onItemTouchStart(t,a.id))})("touchmove",function(t){let a=u(e).$implicit,p=m(2);return f(p.onItemTouchMove(t,a.id))})("touchend",function(t){let a=u(e).$implicit,p=m(2);return f(p.onItemTouchEnd(t,a.id))}),r(2,"div",42),g(3,"i",43),s(),r(4,"div",44)(5,"div",45),d(6),s(),b(7,cp,4,5,"div",46),b(8,dp,4,5,"div",46),b(9,mp,3,2,"div",46),b(10,pp,3,2,"div",46),b(11,up,3,3,"div",46),b(12,fp,5,2,"div",47),s()()()}if(n&2){let e,i=l.$implicit,t=m(2);ut("transform","translateX("+(((e=t.swipeState.get(i.id))==null?null:e.offset)||0)+"px)"),o(),B("selected",i.id===(t.tableRowSelected==null?null:t.tableRowSelected.id)),se("aria-label",i.title),o(5),M(" ",i.title," "),o(),v(i.linkApiPathId?7:-1),o(),v(i.messageType?8:-1),o(),v(i.servicePricePerPage?9:-1),o(),v(i.endUserPricePerPage?10:-1),o(),v(i.recordStatus!==void 0?11:-1),o(),v(t.getRowExpanded(i)?12:-1)}}function Sp(n,l){if(n&1&&(r(0,"div",23),Z(1,hp,13,12,"div",39,tp),s()),n&2){let e=m();o(),$(e.dataModelResult.listItems)}}function Cp(n,l){n&1&&(r(0,"div",24)(1,"div",55),g(2,"i",56),s(),r(3,"div",57),d(4),S(5,"translate"),s()()),n&2&&(o(4),M(" ",C(5,1,"MESSAGE.no_information")," "))}var ko=class ko extends Qe{constructor(e,i,t,a,p,c,E,F,Ne,tt,Pe,It,z,Ha){super(e,new zt,z,c,F);this.contentService=e;this.cmsToastrService=i;this.activatedRoute=t;this.cmsConfirmationDialogService=a;this.router=p;this.tokenHelper=c;this.cdr=E;this.translate=F;this.smsMainApiPathService=Ne;this.cmsStoreService=tt;this.smsEnumService=Pe;this.pageInfo=It;this.publicHelper=z;this.dialog=Ha;this.requestLinkApiPathId="";this.constructorInfoAreaId=this.constructor.name;this.filteModelContent=new Y;this.filterDataModelQueryBuilder=[];this.dataModelSmsMessageTypeEnumResult=new q;this.dataModelSmsOutBoxTypeEnumResult=new q;this.dataModelApiPathResult=new q;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["recordStatus","title","LinkApiPathId","messageType","serviceMaxPage","endUserMaxPage","servicePricePerPage","endUserPricePerPage"];this.tabledisplayedColumnsMobileSource=["recordStatus","title","LinkApiPathId","messageType","servicePricePerPage","endUserPricePerPage"];this.unsubscribe=[];this.pullToRefreshState={isRefreshing:!1,startY:0,currentY:0,pullDistance:0,threshold:80};this.Math=Math;this.swipeState=new Map;this.SWIPE_THRESHOLD=100;this.SWIPE_MAX_OFFSET=120;this.actionMenuOpen=null;this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:tn=>this.onSubmitOptionsSearch(tn)},this.filteModelContent.sortColumn="LinkApiPathId",this.filteModelContent.sortType=Q.Ascending}ngOnInit(){if(this.filteModelContent.sortColumn="LinkApiPathId",this.activatedRoute.snapshot.paramMap.get("LinkApiPathId")&&(this.requestLinkApiPathId=this.activatedRoute.snapshot.paramMap.get("LinkApiPathId")),this.requestLinkApiPathId?.length>0){let e=new V;e.propertyName="LinkApiPathId",e.value=this.requestLinkApiPathId,this.filteModelContent.filters.push(e)}this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>ae(this,null,function*(){this.tokenInfo=e,this.DataGetAll()}))),this.getPrivateConfig(),this.getSmsMessageTypeEnum()}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}getPrivateConfig(){let e=new Y;e.rowPerPage=100,this.smsMainApiPathService.ServiceGetAll(e).subscribe({next:i=>{this.dataModelApiPathResult=i}})}getSmsMessageTypeEnum(){this.smsEnumService.ServiceSmsMessageTypeEnum().subscribe(e=>{this.dataModelSmsMessageTypeEnumResult=e})}getSmsOutBoxTypeEnum(){this.smsEnumService.ServiceSmsOutBoxTypeEnum().subscribe(e=>{this.dataModelSmsOutBoxTypeEnumResult=e})}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new zt);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));if(this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.categoryModelSelected&&this.categoryModelSelected.id.length>0){let t=new V;t.propertyName="LinkApiPathId",t.value=this.categoryModelSelected.id,i.filters.push(t)}this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorSelect(e){var i=this.filteModelContent.sortColumn,t=this.filteModelContent.sortType;this.filteModelContent=new Y,this.filteModelContent.sortColumn=i,this.filteModelContent.sortType=t,this.categoryModelSelected=e,this.DataGetAll()}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=Q.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=Q.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=Q.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonPermissionRow(e=this.tableRowSelected,i){if(!e||!e.id||e.id.length==0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),i?.ctrlKey){let t="/#/sms/main/api-path-price-permission/LinkApiPathPaginationId/"+this.tableRowSelected.id;window.open(t,"_blank")}else this.router.navigate(["/sms/main/api-path-price-permission/LinkApiPathPaginationId",this.tableRowSelected.id])}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(Bn,{height:"90%",panelClass:e,enterAnimationDuration:j.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:j.cmsViewConfig.exitAnimationDuration,data:{linkApiPathId:this.categoryModelSelected?.id}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length==0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(xo,{height:"90%",panelClass:i,enterAnimationDuration:j.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:j.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(a=>{a&&a.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length==0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(a=>{this.cmsToastrService.typeErrorSelected(a)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(a=>{i=a["MESSAGE.Please_Confirm"],t=a["MESSAGE.Do_you_want_to_delete_this_content"]+"?"}),this.cmsConfirmationDialogService.confirm(i,t).then(a=>{if(a){let p=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(p,c,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(p)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(p,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{i.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{i.set(c,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(E=>{i.set(E,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}});let a=JSON.parse(JSON.stringify(this.filteModelContent)),p=new V;p.propertyName="recordStatus",p.value=ke.Available,a.filters.push(p),this.contentService.ServiceGetCount(a).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(E=>{i.set(E,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonReload(){this.DataGetAll()}onItemTouchStart(e,i){e.stopPropagation();let t=e.touches[0];this.swipeState.set(i,{startX:t.clientX,currentX:t.clientX,offset:0})}onItemTouchMove(e,i){e.stopPropagation();let t=this.swipeState.get(i);if(!t)return;let a=e.touches[0];t.currentX=a.clientX;let p=t.currentX-t.startX,c=document.documentElement.dir==="rtl",E=c?this.SWIPE_MAX_OFFSET:-this.SWIPE_MAX_OFFSET,F=c?-this.SWIPE_MAX_OFFSET:this.SWIPE_MAX_OFFSET;t.offset=Math.max(F,Math.min(E,p))}onItemTouchEnd(e,i){e.stopPropagation();let t=this.swipeState.get(i);if(!t)return;let a=document.documentElement.dir==="rtl",p=a?this.SWIPE_THRESHOLD:-this.SWIPE_THRESHOLD;a&&t.offset>p||!a&&t.offset<p||(t.offset=0),this.swipeState.set(i,t)}onTouchStart(e){let t=e.target.closest(".cms-m-content");t&&t.scrollTop===0&&(this.pullToRefreshState.startY=e.touches[0].clientY,this.pullToRefreshState.isRefreshing=!1)}onTouchMove(e){let t=e.target.closest(".cms-m-content");t&&t.scrollTop===0&&this.pullToRefreshState.startY>0&&(this.pullToRefreshState.currentY=e.touches[0].clientY,this.pullToRefreshState.pullDistance=Math.max(0,this.pullToRefreshState.currentY-this.pullToRefreshState.startY),this.pullToRefreshState.pullDistance>10&&e.preventDefault())}onTouchEnd(e){this.pullToRefreshState.pullDistance>=this.pullToRefreshState.threshold&&!this.pullToRefreshState.isRefreshing?(this.pullToRefreshState.isRefreshing=!0,this.onActionButtonReload(),setTimeout(()=>{this.pullToRefreshState.isRefreshing=!1,this.pullToRefreshState.pullDistance=0,this.pullToRefreshState.startY=0,this.pullToRefreshState.currentY=0},1e3)):(this.pullToRefreshState.pullDistance=0,this.pullToRefreshState.startY=0,this.pullToRefreshState.currentY=0)}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/sms/main/api-path"])}toggleActionMenu(e){let i=String(e);this.actionMenuOpen===i?this.actionMenuOpen=null:this.actionMenuOpen=i}closeActionMenu(){this.actionMenuOpen=null}toString(e){return String(e)}onDocumentClick(e){let i=e.target;!i.closest(".cms-m-action-menu")&&!i.closest(".cms-m-action-menu-dropdown")&&this.closeActionMenu()}getRowExpanded(e){return e.expanded===!0}};ko.\u0275fac=function(i){return new(i||ko)(_(ri),_(W),_(Xe),_(Oe),_(He),_(Ce),_(G),_(O),_(St),_(Ae),_(Ye),_(je),_(U),_(Se))},ko.\u0275cmp=N({type:ko,selectors:[["app-sms-apipath-pagination-list-mobile"]],hostBindings:function(i,t){i&1&&I("click",function(p){return t.onDocumentClick(p)},Ua)},standalone:!1,features:[X],decls:38,vars:34,consts:[["paginator",""],[3,"optionId"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplay","optionActionRowDisplayMenu","optionActionRowDisplayMenuAct","optionSelectRowItemTitle"],["cms-tree",""],[3,"optionChange"],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],[1,"cms-m-pull-refresh-indicator",3,"transform","refreshing"],[1,"cms-m-content",3,"touchstart","touchmove","touchend"],[1,"cms-m-list"],[1,"cms-m-empty-state"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-key","font-18",2,"color","#ffffff"],[1,"cms-m-pull-refresh-indicator"],["aria-hidden","true",1,"fa-solid","fa-rotate-right"],[1,"cms-m-list-item-wrapper",3,"transform"],[1,"cms-m-list-item-wrapper"],["role","button","tabindex","0",1,"cms-m-list-item",3,"click","rtclick","mouseenter","mouseleave","touchstart","touchmove","touchend"],[1,"cms-m-list-item-image-placeholder"],["aria-hidden","true",1,"fa-solid","fa-dollar-sign"],[1,"cms-m-list-item-content"],[1,"cms-m-list-item-title"],[1,"cms-m-list-item-subtitle"],[1,"cms-m-list-item-expanded"],["aria-hidden","true",1,"fa-solid","fa-link"],["aria-hidden","true",1,"fa-solid","fa-envelope"],["aria-hidden","true",1,"fa-solid","fa-coins"],["aria-hidden","true",1,"fa-solid","fa-user"],[3,"ngClass"],[1,"navi-icon","pointer",3,"cdkCopyToClipboard"],[1,"flaticon2-copy"],[1,"cms-m-empty-state-icon"],["aria-hidden","true",1,"fa-solid","fa-inbox"],[1,"cms-m-empty-state-text"]],template:function(i,t){if(i&1){let a=A();b(0,ip,1,1,"app-sms-apipath-header",1),r(1,"app-cms-html-list-mobile",2),P("optionActionGuideNoticeDisplayChange",function(c){return u(a),T(t.viewGuideNotice,c)||(t.viewGuideNotice=c),f(c)}),I("optionOnActionButtonMemoRow",function(){return u(a),f(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return u(a),f(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return u(a),f(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return u(a),f(t.onActionButtonPrintRow())}),R(2,3),r(3,"app-sms-apipath-tree",4),I("optionChange",function(c){return u(a),f(t.onActionSelectorSelect(c))}),s(),x(),ze(4,5)(5,6),R(6,7),b(7,np,2,0,"a",8),r(8,"a",9),I("click",function(){return u(a),f(t.viewGuideNotice=!t.viewGuideNotice)}),g(9,"i",10),s(),r(10,"a",9),I("click",function(){return u(a),f(t.onActionButtonReload())}),g(11,"i",11),s(),x(),R(12,12),r(13,"a",13),I("click",function(){return u(a),f(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),g(14,"mat-slide-toggle",14),d(15),S(16,"translate"),s(),r(17,"a",13),I("click",function(){return u(a),f(t.onActionButtonStatist())}),g(18,"mat-slide-toggle",14),d(19),S(20,"translate"),s(),x(),R(21,15),b(22,op,7,3,"div",16),x(),R(23,17),b(24,ap,7,3,"div",16),b(25,rp,7,3,"div",16),b(26,sp,7,3,"div",16),x(),R(27,18),r(28,"app-cms-search-list",19),P("optionsChange",function(c){return u(a),T(t.optionsSearch,c)||(t.optionsSearch=c),f(c)}),s(),r(29,"app-cms-statist-list",19),P("optionsChange",function(c){return u(a),T(t.optionsStatist,c)||(t.optionsStatist=c),f(c)}),s(),x(),R(30,20),b(31,lp,6,11,"div",21),r(32,"div",22),I("touchstart",function(c){return u(a),f(t.onTouchStart(c))})("touchmove",function(c){return u(a),f(t.onTouchMove(c))})("touchend",function(c){return u(a),f(t.onTouchEnd(c))}),b(33,Sp,3,0,"div",23)(34,Cp,6,3,"div",24),s(),x(),R(35,25),r(36,"mat-paginator",26,0),I("page",function(c){return u(a),f(t.onTablePageingData(c))}),s(),x(),s()}i&2&&(v((t.requestLinkApiPathId==null?null:t.requestLinkApiPathId.length)>0?0:-1),o(),h("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),w("optionActionGuideNoticeDisplay",t.viewGuideNotice),h("optionTreeDisplay",!t.requestLinkApiPathId||t.requestLinkApiPathId.length===0)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplay",(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionActionRowDisplayMenuAct",t.tableRowSelectActionMenuClick)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.title),o(6),v((t.requestLinkApiPathId==null?null:t.requestLinkApiPathId.length)>0?7:-1),o(4),B("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(3),h("checked",t.optionsSearch.data.show),o(),M("",C(16,29,"ACTION.SEARCH")," "),o(3),h("checked",t.optionsStatist.data.show),o(),M("",C(20,31,"ACTION.STATIST")," "),o(3),v(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessAddRow?22:-1),o(2),v(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0?24:-1),o(),v(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0?25:-1),o(),v(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessWatchRow&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0?26:-1),o(2),w("options",t.optionsSearch),o(),w("options",t.optionsStatist),o(2),v(t.pullToRefreshState.pullDistance>0?31:-1),o(2),v(t.dataModelResult!=null&&t.dataModelResult.listItems&&t.dataModelResult.listItems.length>0?33:34),o(3),h("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",xe(33,ep)))},dependencies:[Ge,Ie,at,dn,We,Ue,to,rt,Sn,bn,H,Yi,qe],styles:['@charset "UTF-8";.cms-m-content[_ngcontent-%COMP%]{padding:8px var(--cms-m-spacing-md);padding-bottom:calc(8px + env(safe-area-inset-bottom));position:relative;touch-action:pan-y}.cms-m-header-spacer[_ngcontent-%COMP%]{flex:1}@media (max-width: 375px){.cms-m-content[_ngcontent-%COMP%]{padding:8px 12px}.cms-m-list-item[_ngcontent-%COMP%]{padding:10px 12px}.cms-m-list-item-image[_ngcontent-%COMP%], .cms-m-list-item-image-placeholder[_ngcontent-%COMP%]{width:48px;height:48px}.cms-m-action-btn[_ngcontent-%COMP%]{width:40px;height:40px;min-width:40px;min-height:40px}}@media screen and (-webkit-min-device-pixel-ratio: 0){.cms-m-list-item[_ngcontent-%COMP%]{will-change:transform}}']});var Ba=ko;var gp=["*"];function Mp(n,l){if(n&1&&(r(0,"label",3),d(1),s()),n&2){let e=m();h("for",bt("app-cms-site-selector-",e.id)),o(),y(e.optionLabel)}}function _p(n,l){if(n&1&&(g(0,"img",5),S(1,"cmsthumbnail")),n&2){let e=m();h("src",k(C(1,2,e.dataModelSelect==null?null:e.dataModelSelect.linkMainImageIdSrc)),we)}}function bp(n,l){if(n&1&&(g(0,"img",5),S(1,"cmsthumbnail")),n&2){let e=m().$implicit;h("src",k(C(1,2,e.linkMainImageIdSrc)),we)}}function vp(n,l){if(n&1&&(r(0,"mat-option",8),b(1,bp,2,4,"img",5),r(2,"span"),d(3),s()()),n&2){let e=l.$implicit,i=m();h("value",e)("disabled",i.optionDisabled),o(),v(e.linkMainImageIdSrc?1:-1),o(2),y(i.displayOption(e))}}function Ip(n,l){n&1&&g(0,"i",9)}function Ap(n,l){n&1&&g(0,"i",10)}function Ep(n,l){if(n&1){let e=A();r(0,"i",13),I("click",function(){u(e);let t=m();return f(t.onActionSelectClear())}),s()}}function yp(n,l){n&1&&(r(0,"em"),d(1),S(2,"translate"),s()),n&2&&(o(),M("(",C(2,1,"TITLE.Necessary"),")"))}var vn=class vn{constructor(l,e,i,t,a,p){this.coreEnumService=l;this.cmsToastrService=e;this.cdr=i;this.publicHelper=t;this.translate=a;this.categoryService=p;this.id=++vn.nextId;this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new q;this.dataModelSelect=new di;this.formControl=new ei;this.optionDisabled=!1;this.optionRequired=!1;this.optionSelectFirstItem=!1;this.optionPlaceholder="";this.optionLabel="";this.optionChange=new ot;this.optionReload=()=>this.onActionButtonReload();this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(l){this.onActionSelectForce(l)}ngOnInit(){this.loadOptions(),(!this.optionLabel||this.optionLabel.length==0&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder)}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(Si(""),fi(1500),hi(),Ci(l=>typeof l=="string"?this.DataGetAll(l||""):[]))}displayFn(l){return l?l.title+" | "+l.id:void 0}displayOption(l){return l?l.title+" | "+l.id:void 0}DataGetAll(l){return ae(this,null,function*(){let e=new Y;e.rowPerPage=20,e.accessLoad=!0;let i=new V;l&&l.length>0&&(i.propertyName="title",i.value=l,i.searchType=ht.Contains,i.clauseType=Bt.Or,e.filters.push(i)),l&&typeof l=="string"&&l.length>10&&(i=new V,i.propertyName="id",i.value=l,i.searchType=ht.Equal,i.clauseType=Bt.Or,e.filters.push(i));let t=this.constructor.name+"main";return this.translate.get("MESSAGE.Receiving_information").subscribe(a=>{this.publicHelper.processService.processStart(t,a,this.constructorInfoAreaId)}),yield pi(this.categoryService.ServiceGetAll(e)).then(a=>(this.dataModelResult=a,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||this.dataModelSelect.id.length<=0)&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0])},1e3),this.onActionSelect(this.dataModelResult.listItems[0])),this.publicHelper.processService.processStop(t),a.listItems))})}onActionSelect(l){this.optionDisabled||(this.dataModelSelect=l,this.optionChange.emit(this.dataModelSelect))}onActionSelectClear(){this.optionDisabled||(this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null))}push(l){return this.filteredOptions.pipe(ui(e=>(e.find(i=>i.id===l.id)||e.push(l),e)))}onActionSelectForce(l){if(typeof l=="string"&&l.length>0){if(this.dataModelSelect&&this.dataModelSelect.id===l)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(e=>e.id===l)){let e=this.dataModelResult.listItems.find(i=>i.id===l);this.dataModelSelect=e,this.formControl.setValue(e);return}this.categoryService.ServiceGetOneById(l).subscribe({next:e=>{e.isSuccess?(this.filteredOptions=this.push(e.item),this.dataModelSelect=e.item,this.formControl.setValue(e.item),this.optionChange.emit(e.item)):this.cmsToastrService.typeErrorMessage(e.errorMessage)}});return}if(typeof l==typeof di){this.filteredOptions=this.push(l),this.dataModelSelect=l,this.formControl.setValue(l);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new di,this.loadOptions()}};vn.nextId=0,vn.\u0275fac=function(e){return new(e||vn)(_(Re),_(W),_(G),_(U),_(O),_(si))},vn.\u0275cmp=N({type:vn,selectors:[["app-sms-publicconfig-selector"]],inputs:{optionDisabled:"optionDisabled",optionRequired:"optionRequired",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionLabel:"optionLabel",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange"},standalone:!1,ngContentSelectors:gp,decls:18,vars:24,consts:[["matauto","matAutocomplete"],[1,"input-style","has-borders","has-icon","input-style-always-active","validate-field","mb-4","loader-container"],[3,"optionsInfoAreaId"],[1,"color-highlight",3,"for"],["matPrefix",""],["aria-hidden","","height","25","width","25",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["type","text","aria-label","Assignee","matInput","",3,"placeholder","formControl","matAutocomplete","required","id"],[3,"optionSelected","displayWith"],[3,"value","disabled"],[1,"fa","fa-info","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"fa","fa-times","action","color-red-dark"],[1,"fa","fa-rotate-right","action","color-green-dark",2,"margin-left","20px",3,"click","title"],[1,"fa","fa-times","action","color-red-dark",3,"click"]],template:function(e,i){if(e&1){let t=A();gi(),r(0,"div",1),g(1,"app-progress-spinner",2),b(2,Mp,2,3,"label",3),r(3,"span",4),b(4,_p,2,4,"img",5),s(),g(5,"input",6),r(6,"mat-autocomplete",7,0),I("optionSelected",function(p){return u(t),f(i.onActionSelect(p.option.value))}),Z(8,vp,4,4,"mat-option",8,De),S(10,"async"),s(),b(11,Ip,1,0,"i",9),b(12,Ap,1,0,"i",10),b(13,Ep,1,0,"i",11),r(14,"i",12),S(15,"translate"),I("click",function(){return u(t),f(i.onActionButtonReload())}),s(),b(16,yp,3,3,"em"),Mi(17),s()}if(e&2){let t=D(7);o(),h("optionsInfoAreaId",i.constructorInfoAreaId),o(),v((i.optionLabel==null?null:i.optionLabel.length)>0?2:-1),o(2),v(i.dataModelSelect&&(i.dataModelSelect!=null&&i.dataModelSelect.linkMainImageIdSrc)?4:-1),o(),h("placeholder",k(i.optionPlaceholder))("id",bt("app-cms-site-selector-",i.id))("formControl",i.formControl)("matAutocomplete",t)("required",i.optionRequired),se("disabled",i.optionDisabled?!0:null),o(),h("displayWith",i.displayFn),o(2),$(C(10,20,i.filteredOptions)),o(3),v(i.formControl.valid?-1:11),o(),v(i.optionRequired&&i.formControl.valid?12:-1),o(),v((i.dataModelSelect==null||i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0?13:-1),o(),B("rotation360",i.publicHelper.processService.process.inRunArea[i.constructorInfoAreaId]),h("title",k(C(15,22,"ACTION.RELOAD"))),o(2),v(i.optionRequired&&(!i.dataModelSelect||!i.dataModelSelect.id||(i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)===0)?16:-1)}},dependencies:[ne,oe,fe,vi,Ai,Ii,Ei,fn,J,K,it,H,dt],encapsulation:2});var Lo=vn;var wp=["*"];function Tp(n,l){if(n&1&&(r(0,"label",3),d(1),s()),n&2){let e=m();h("for",bt("app-cms-site-selector-",e.id)),o(),y(e.optionLabel)}}function Pp(n,l){if(n&1&&(g(0,"img",5),S(1,"cmsthumbnail")),n&2){let e=m();h("src",k(C(1,2,e.dataModelSelect==null?null:e.dataModelSelect.linkMainImageIdSrc)),we)}}function Rp(n,l){if(n&1&&(g(0,"img",5),S(1,"cmsthumbnail")),n&2){let e=m().$implicit;h("src",k(C(1,2,e.linkMainImageIdSrc)),we)}}function xp(n,l){if(n&1&&(r(0,"mat-option",8),b(1,Rp,2,4,"img",5),r(2,"span"),d(3),s()()),n&2){let e=l.$implicit,i=m();h("value",e)("disabled",i.optionDisabled),o(),v(e.linkMainImageIdSrc?1:-1),o(2),y(i.displayOption(e))}}function Dp(n,l){n&1&&g(0,"i",9)}function kp(n,l){n&1&&g(0,"i",10)}function Lp(n,l){if(n&1){let e=A();r(0,"i",13),I("click",function(){u(e);let t=m();return f(t.onActionSelectClear())}),s()}}function Vp(n,l){n&1&&(r(0,"em"),d(1),S(2,"translate"),s()),n&2&&(o(),M("(",C(2,1,"TITLE.Necessary"),")"))}var In=class In{constructor(l,e,i,t,a,p){this.coreEnumService=l;this.cmsToastrService=e;this.cdr=i;this.publicHelper=t;this.translate=a;this.categoryService=p;this.id=++In.nextId;this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new q;this.dataModelSelect=new jt;this.formControl=new ei;this.optionDisabled=!1;this.optionRequired=!1;this.optionSelectFirstItem=!1;this.optionPlaceholder="";this.optionLabel="";this.optionChange=new ot;this.optionReload=()=>this.onActionButtonReload();this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(l){this.onActionSelectForce(l)}ngOnInit(){this.loadOptions(),(!this.optionLabel||this.optionLabel.length==0&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder)}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(Si(""),fi(1500),hi(),Ci(l=>typeof l=="string"||typeof l=="number"?this.DataGetAll(l||""):[]))}displayFn(l){return l?l.title:void 0}displayOption(l){return l?l.title:void 0}DataGetAll(l){return ae(this,null,function*(){let e=new Y;e.rowPerPage=20,e.accessLoad=!0;let i=new V;i.propertyName="title",i.value=l,i.searchType=ht.Contains,i.clauseType=Bt.Or,e.filters.push(i),l&&typeof+l=="number"&&+l>0&&(i=new V,i.propertyName="id",i.value=l,i.searchType=ht.Equal,i.clauseType=Bt.Or,e.filters.push(i));let t=this.constructor.name+"main";return this.translate.get("MESSAGE.get_information_list").subscribe(a=>{this.publicHelper.processService.processStart(t,a,this.constructorInfoAreaId)}),yield pi(this.categoryService.ServiceGetAll(e)).then(a=>(this.dataModelResult=a,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||this.dataModelSelect.id.length<=0)&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0])},1e3),this.onActionSelect(this.dataModelResult.listItems[0])),this.publicHelper.processService.processStop(t),a.listItems))})}onActionSelect(l){this.optionDisabled||(this.dataModelSelect=l,this.optionChange.emit(this.dataModelSelect))}onActionSelectClear(){this.optionDisabled||(this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null))}push(l){return this.filteredOptions.pipe(ui(e=>(e.find(i=>i.id===l.id)||e.push(l),e)))}onActionSelectForce(l){if(typeof l=="string"&&l.length>0){if(this.dataModelSelect&&this.dataModelSelect.id===l)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(e=>e.id===l)){let e=this.dataModelResult.listItems.find(i=>i.id===l);this.dataModelSelect=e,this.formControl.setValue(e);return}this.categoryService.ServiceGetOneById(l).subscribe({next:e=>{e.isSuccess?(this.filteredOptions=this.push(e.item),this.dataModelSelect=e.item,this.formControl.setValue(e.item),this.optionChange.emit(e.item)):this.cmsToastrService.typeErrorMessage(e.errorMessage)}});return}if(typeof l==typeof jt){this.filteredOptions=this.push(l),this.dataModelSelect=l,this.formControl.setValue(l);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new jt,this.loadOptions()}};In.nextId=0,In.\u0275fac=function(e){return new(e||In)(_(Re),_(W),_(G),_(U),_(O),_($t))},In.\u0275cmp=N({type:In,selectors:[["app-sms-apipathcompany-selector"]],inputs:{optionDisabled:"optionDisabled",optionRequired:"optionRequired",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionLabel:"optionLabel",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange"},standalone:!1,ngContentSelectors:wp,decls:18,vars:24,consts:[["matauto","matAutocomplete"],[1,"input-style","has-borders","has-icon","input-style-always-active","validate-field","mb-4","loader-container"],[3,"optionsInfoAreaId"],[1,"color-highlight",3,"for"],["matPrefix",""],["aria-hidden","","height","25","width","25",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["type","text","aria-label","Assignee","matInput","",3,"placeholder","formControl","matAutocomplete","required","id"],[3,"optionSelected","displayWith"],[3,"value","disabled"],[1,"fa","fa-info","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"fa","fa-times","action","color-red-dark"],[1,"fa","fa-rotate-right","action","color-green-dark",2,"margin-left","20px",3,"click","title"],[1,"fa","fa-times","action","color-red-dark",3,"click"]],template:function(e,i){if(e&1){let t=A();gi(),r(0,"div",1),g(1,"app-progress-spinner",2),b(2,Tp,2,3,"label",3),r(3,"span",4),b(4,Pp,2,4,"img",5),s(),g(5,"input",6),r(6,"mat-autocomplete",7,0),I("optionSelected",function(p){return u(t),f(i.onActionSelect(p.option.value))}),Z(8,xp,4,4,"mat-option",8,De),S(10,"async"),s(),b(11,Dp,1,0,"i",9),b(12,kp,1,0,"i",10),b(13,Lp,1,0,"i",11),r(14,"i",12),S(15,"translate"),I("click",function(){return u(t),f(i.onActionButtonReload())}),s(),b(16,Vp,3,3,"em"),Mi(17),s()}if(e&2){let t=D(7);o(),h("optionsInfoAreaId",i.constructorInfoAreaId),o(),v((i.optionLabel==null?null:i.optionLabel.length)>0?2:-1),o(2),v(i.dataModelSelect&&(i.dataModelSelect!=null&&i.dataModelSelect.linkMainImageIdSrc)?4:-1),o(),h("placeholder",k(i.optionPlaceholder))("id",bt("app-cms-site-selector-",i.id))("formControl",i.formControl)("matAutocomplete",t)("required",i.optionRequired),se("disabled",i.optionDisabled?!0:null),o(),h("displayWith",i.displayFn),o(2),$(C(10,20,i.filteredOptions)),o(3),v(i.formControl.valid?-1:11),o(),v(i.optionRequired&&i.formControl.valid?12:-1),o(),v((i.dataModelSelect==null||i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0?13:-1),o(),B("rotation360",i.publicHelper.processService.process.inRunArea[i.constructorInfoAreaId]),h("title",k(C(15,22,"ACTION.RELOAD"))),o(2),v(i.optionRequired&&(!i.dataModelSelect||!i.dataModelSelect.id||(i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)===0)?16:-1)}},dependencies:[ne,oe,fe,vi,Ai,Ii,Ei,fn,J,K,it,H,dt],encapsulation:2});var Vo=In;var Bp=["vform"];function Fp(n,l){if(n&1){let e=A();r(0,"app-cms-enum-record-status-selector",70),P("modelChange",function(t){u(e);let a=m();return T(a.dataModel.recordStatus,t)||(a.dataModel.recordStatus=t),f(t)}),s()}if(n&2){let e=m();w("model",e.dataModel.recordStatus),h("optionDisabled",!((e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.accessEditField)??!1))("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Op(n,l){n&1&&g(0,"i",73)}function Gp(n,l){n&1&&g(0,"i",74)}function Hp(n,l){n&1&&(r(0,"mat-error"),d(1," Title is "),r(2,"strong"),d(3),S(4,"translate"),s()()),n&2&&(o(3),y(C(4,1,"MESSAGE.required")))}function Wp(n,l){if(n&1){let e=A();r(0,"div",38)(1,"label",71),d(2),s(),r(3,"input",72,9),P("ngModelChange",function(t){u(e);let a=m();return T(a.dataModel.title,t)||(a.dataModel.title=t),f(t)}),s(),b(5,Op,1,0,"i",73),b(6,Gp,1,0,"i",74),r(7,"em"),d(8),s(),b(9,Hp,5,3,"mat-error"),s()}if(n&2){let e=D(4),i=m();o(2),y(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(),h("placeholder",k(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle)),w("ngModel",i.dataModel.title),h("disabled",!(i.fieldsInfo.title!=null&&i.fieldsInfo.title.accessEditField)),o(2),v(e.value?-1:5),o(),v(e.value?6:-1),o(2),M("",e.value.length," / 100"),o(),v(e.errors!=null&&e.errors.required?9:-1)}}function Up(n,l){if(n&1){let e=A();r(0,"div",38)(1,"label",75),d(2),s(),r(3,"input",76,10),P("ngModelChange",function(t){u(e);let a=m();return T(a.dataModel.apiIdentity,t)||(a.dataModel.apiIdentity=t),f(t)}),s()()}if(n&2){let e=m();o(2),y(e.fieldsInfo.apiIdentity==null?null:e.fieldsInfo.apiIdentity.fieldTitle),o(),w("ngModel",e.dataModel.apiIdentity),h("disabled",!(e.fieldsInfo.apiIdentity!=null&&e.fieldsInfo.apiIdentity.accessEditField))}}function qp(n,l){if(n&1){let e=A();r(0,"div",38)(1,"label",77),d(2),s(),r(3,"input",78,11),P("ngModelChange",function(t){u(e);let a=m();return T(a.dataModel.apiMinPathNeedToCheck,t)||(a.dataModel.apiMinPathNeedToCheck=t),f(t)}),s()()}if(n&2){let e=m();o(2),y(e.fieldsInfo.apiMinPathNeedToCheck==null?null:e.fieldsInfo.apiMinPathNeedToCheck.fieldTitle),o(),w("ngModel",e.dataModel.apiMinPathNeedToCheck),h("disabled",!(e.fieldsInfo.apiMinPathNeedToCheck!=null&&e.fieldsInfo.apiMinPathNeedToCheck.accessEditField))}}function jp(n,l){if(n&1){let e=A();r(0,"div",38)(1,"label",79),d(2),s(),r(3,"input",80,12),P("ngModelChange",function(t){u(e);let a=m();return T(a.dataModel.apiReceiveKey,t)||(a.dataModel.apiReceiveKey=t),f(t)}),s()()}if(n&2){let e=m();o(2),y(e.fieldsInfo.apiReceiveKey==null?null:e.fieldsInfo.apiReceiveKey.fieldTitle),o(),w("ngModel",e.dataModel.apiReceiveKey),h("disabled",!(e.fieldsInfo.apiReceiveKey!=null&&e.fieldsInfo.apiReceiveKey.accessEditField))}}function Qp(n,l){if(n&1){let e=A();r(0,"div",38)(1,"label",81),d(2),s(),r(3,"input",82,13),P("ngModelChange",function(t){u(e);let a=m();return T(a.dataModel.hookAddressReceiveMessageAPIById,t)||(a.dataModel.hookAddressReceiveMessageAPIById=t),f(t)}),s()()}if(n&2){let e=m();o(2),y(e.fieldsInfo.hookAddressReceiveMessageAPIById==null?null:e.fieldsInfo.hookAddressReceiveMessageAPIById.fieldTitle),o(),w("ngModel",e.dataModel.hookAddressReceiveMessageAPIById)}}function zp(n,l){if(n&1){let e=A();r(0,"div",38)(1,"label",83),d(2),s(),r(3,"input",84,14),P("ngModelChange",function(t){u(e);let a=m();return T(a.dataModel.hookAddressReceiveDeliveryStatusAPIById,t)||(a.dataModel.hookAddressReceiveDeliveryStatusAPIById=t),f(t)}),s()()}if(n&2){let e=m();o(2),y(e.fieldsInfo.hookAddressReceiveDeliveryStatusAPIById==null?null:e.fieldsInfo.hookAddressReceiveDeliveryStatusAPIById.fieldTitle),o(),w("ngModel",e.dataModel.hookAddressReceiveDeliveryStatusAPIById)}}function Kp(n,l){if(n&1){let e=A();r(0,"div",38)(1,"label",85),d(2),s(),r(3,"input",86,15),P("ngModelChange",function(t){u(e);let a=m();return T(a.dataModel.apiAbilityLengthMinToSend,t)||(a.dataModel.apiAbilityLengthMinToSend=t),f(t)}),s()()}if(n&2){let e=m();o(2),y(e.fieldsInfo.apiAbilityLengthMinToSend==null?null:e.fieldsInfo.apiAbilityLengthMinToSend.fieldTitle),o(),w("ngModel",e.dataModel.apiAbilityLengthMinToSend),h("disabled",!(e.fieldsInfo.apiAbilityLengthMinToSend!=null&&e.fieldsInfo.apiAbilityLengthMinToSend.accessEditField))}}function Xp(n,l){if(n&1){let e=A();r(0,"div",38)(1,"label",87),d(2),s(),r(3,"input",88,16),P("ngModelChange",function(t){u(e);let a=m();return T(a.dataModel.apiAbilityLengthMaxToSend,t)||(a.dataModel.apiAbilityLengthMaxToSend=t),f(t)}),s()()}if(n&2){let e=m();o(2),y(e.fieldsInfo.apiAbilityLengthMaxToSend==null?null:e.fieldsInfo.apiAbilityLengthMaxToSend.fieldTitle),o(),w("ngModel",e.dataModel.apiAbilityLengthMaxToSend),h("disabled",!(e.fieldsInfo.apiAbilityLengthMaxToSend!=null&&e.fieldsInfo.apiAbilityLengthMaxToSend.accessEditField))}}function Yp(n,l){if(n&1){let e=A();r(0,"div",38)(1,"label",89),d(2),s(),r(3,"input",90,17),P("ngModelChange",function(t){u(e);let a=m();return T(a.dataModel.priority,t)||(a.dataModel.priority=t),f(t)}),s()()}if(n&2){let e=m();o(2),y(e.fieldsInfo.priority==null?null:e.fieldsInfo.priority.fieldTitle),o(),w("ngModel",e.dataModel.priority),h("disabled",!(e.fieldsInfo.priority!=null&&e.fieldsInfo.priority.accessEditField))}}function Jp(n,l){if(n&1){let e=A();r(0,"div",38)(1,"label",91),d(2),s(),r(3,"input",92,18),P("ngModelChange",function(t){u(e);let a=m();return T(a.dataModel.maxProcessFlowAmount,t)||(a.dataModel.maxProcessFlowAmount=t),f(t)}),s()()}if(n&2){let e=m();o(2),y(e.fieldsInfo.maxProcessFlowAmount==null?null:e.fieldsInfo.maxProcessFlowAmount.fieldTitle),o(),w("ngModel",e.dataModel.maxProcessFlowAmount),h("disabled",!(e.fieldsInfo.maxProcessFlowAmount!=null&&e.fieldsInfo.maxProcessFlowAmount.accessEditField))}}function Zp(n,l){if(n&1){let e=A();r(0,"div",38)(1,"label",93),d(2),s(),r(3,"input",94,19),P("ngModelChange",function(t){u(e);let a=m();return T(a.dataModel.minProcessFlowAmount,t)||(a.dataModel.minProcessFlowAmount=t),f(t)}),s()()}if(n&2){let e=m();o(2),y(e.fieldsInfo.minProcessFlowAmount==null?null:e.fieldsInfo.minProcessFlowAmount.fieldTitle),o(),w("ngModel",e.dataModel.minProcessFlowAmount),h("disabled",!(e.fieldsInfo.minProcessFlowAmount!=null&&e.fieldsInfo.minProcessFlowAmount.accessEditField))}}function $p(n,l){if(n&1){let e=A();r(0,"div",38)(1,"label",95),d(2),s(),r(3,"input",96,20),P("ngModelChange",function(t){u(e);let a=m();return T(a.dataModel.fixFeeProcessFlowAmount,t)||(a.dataModel.fixFeeProcessFlowAmount=t),f(t)}),s()()}if(n&2){let e=m();o(2),y(e.fieldsInfo.fixFeeProcessFlowAmount==null?null:e.fieldsInfo.fixFeeProcessFlowAmount.fieldTitle),o(),w("ngModel",e.dataModel.fixFeeProcessFlowAmount),h("disabled",!(e.fieldsInfo.fixFeeProcessFlowAmount!=null&&e.fieldsInfo.fixFeeProcessFlowAmount.accessEditField))}}function eu(n,l){if(n&1){let e=A();r(0,"div",38)(1,"label",97),d(2),s(),r(3,"input",98,21),P("ngModelChange",function(t){u(e);let a=m();return T(a.dataModel.percentFeeProcessFlowAmount,t)||(a.dataModel.percentFeeProcessFlowAmount=t),f(t)}),s()()}if(n&2){let e=m();o(2),y(e.fieldsInfo.percentFeeProcessFlowAmount==null?null:e.fieldsInfo.percentFeeProcessFlowAmount.fieldTitle),o(),w("ngModel",e.dataModel.percentFeeProcessFlowAmount),h("disabled",!(e.fieldsInfo.percentFeeProcessFlowAmount!=null&&e.fieldsInfo.percentFeeProcessFlowAmount.accessEditField))}}function tu(n,l){if(n&1){let e=A();r(0,"div",41)(1,"label",99),d(2),s(),r(3,"input",100),P("ngModelChange",function(t){u(e);let a=m();return T(a.dataModel.perriodStartWorkTime,t)||(a.dataModel.perriodStartWorkTime=t),f(t)}),s(),g(4,"ngx-material-timepicker-toggle",62)(5,"ngx-material-timepicker",101,22),s()}if(n&2){let e=D(6),i=m();o(2),y(i.fieldsInfo.perriodStartWorkTime==null?null:i.fieldsInfo.perriodStartWorkTime.fieldTitle),o(),h("ngxTimepicker",e),w("ngModel",i.dataModel.perriodStartWorkTime),h("format",24),o(),h("for",e)}}function iu(n,l){if(n&1){let e=A();r(0,"div",41)(1,"label",102),d(2),s(),r(3,"input",103),P("ngModelChange",function(t){u(e);let a=m();return T(a.dataModel.perriodEndWorkTime,t)||(a.dataModel.perriodEndWorkTime=t),f(t)}),s(),g(4,"ngx-material-timepicker-toggle",62)(5,"ngx-material-timepicker",101,23),s()}if(n&2){let e=D(6),i=m();o(2),y(i.fieldsInfo.perriodEndWorkTime==null?null:i.fieldsInfo.perriodEndWorkTime.fieldTitle),o(),h("ngxTimepicker",e),w("ngModel",i.dataModel.perriodEndWorkTime),h("format",24),o(),h("for",e)}}function nu(n,l){n&1&&(r(0,"mat-error"),d(1," Description is "),r(2,"strong"),d(3),S(4,"translate"),s()()),n&2&&(o(3),y(C(4,1,"MESSAGE.required")))}function ou(n,l){if(n&1){let e=A();r(0,"div",46)(1,"button",104),I("click",function(){u(e);let t=m();return f(t.onActionBackToParent())}),d(2),S(3,"translate"),s(),r(4,"button",105),d(5),S(6,"translate"),s(),r(7,"button",106),d(8),S(9,"translate"),s()()}if(n&2){m();let e=D(13);o(2),M(" ",C(3,5,"ACTION.BACK")," "),o(2),h("disabled",!e.form.valid),o(),M(" ",C(6,7,"ACTION.NEXT")," "),o(2),h("disabled",!e.form.valid),o(),M(" ",C(9,9,"ACTION.SAVE")," ")}}function au(n,l){if(n&1){let e=A();r(0,"div",49)(1,"button",107),I("click",function(){u(e);let t=m();return f(t.onActionButtonGetToken())}),d(2),S(3,"translate"),s(),r(4,"button",107),I("click",function(){u(e);let t=m();return f(t.onActionButtonGetBalance())}),d(5),S(6,"translate"),s(),g(7,"br"),r(8,"button",104),I("click",function(){u(e);let t=m();return f(t.onActionBackToParent())}),d(9),S(10,"translate"),s(),r(11,"button",108),d(12),S(13,"translate"),s(),r(14,"button",105),d(15),S(16,"translate"),s(),r(17,"button",106),d(18),S(19,"translate"),s()()}if(n&2){m();let e=D(13);o(2),M(" ",C(3,8,"ACTION.CHECK_ROUTE_TOKEN")," "),o(3),M(" ",C(6,10,"ACTION.CHECK_ROUTE_BALANCE")," "),o(4),M(" ",C(10,12,"ACTION.BACK")," "),o(3),M(" ",C(13,14,"ACTION.BEFOR")," "),o(2),h("disabled",!e.form.valid),o(),M(" ",C(16,16,"ACTION.NEXT")," "),o(2),h("disabled",!e.form.valid),o(),M(" ",C(19,18,"ACTION.SAVE")," ")}}function ru(n,l){if(n&1){let e=A();r(0,"div",50)(1,"div",109)(2,"h5",110),d(3),s()(),r(4,"div",111)(5,"div",112)(6,"input",113),P("ngModelChange",function(t){u(e);let a=m();return T(a.dataModel.apiSendMessageIsOn,t)||(a.dataModel.apiSendMessageIsOn=t),f(t)}),s(),g(7,"label",114),s()()()}if(n&2){let e=m();o(3),M(" ",e.fieldsInfo.apiSendMessageIsOn==null?null:e.fieldsInfo.apiSendMessageIsOn.fieldTitle," "),o(3),w("ngModel",e.dataModel.apiSendMessageIsOn)}}function su(n,l){n&1&&(r(0,"mat-error"),d(1," apiSendMessageAddTextFirst is "),r(2,"strong"),d(3),S(4,"translate"),s()()),n&2&&(o(3),y(C(4,1,"MESSAGE.required")))}function lu(n,l){n&1&&(r(0,"mat-error"),d(1," apiSendMessageAddTextEnd is "),r(2,"strong"),d(3),S(4,"translate"),s()()),n&2&&(o(3),y(C(4,1,"MESSAGE.required")))}function cu(n,l){n&1&&(r(0,"mat-error"),d(1," sendMessageAddTextFirst is "),r(2,"strong"),d(3),S(4,"translate"),s()()),n&2&&(o(3),y(C(4,1,"MESSAGE.required")))}function du(n,l){n&1&&(r(0,"mat-error"),d(1," sendMessageAddTextEnd is "),r(2,"strong"),d(3),S(4,"translate"),s()()),n&2&&(o(3),y(C(4,1,"MESSAGE.required")))}function mu(n,l){if(n&1){let e=A();r(0,"div",50)(1,"div",109)(2,"h5",115),d(3),s()(),r(4,"div",111)(5,"div",112)(6,"input",116),P("ngModelChange",function(t){u(e);let a=m();return T(a.dataModel.apiAbilitySendUnicodeMessage,t)||(a.dataModel.apiAbilitySendUnicodeMessage=t),f(t)}),s(),g(7,"label",117),s()()()}if(n&2){let e=m();o(3),M(" ",e.fieldsInfo.apiAbilitySendUnicodeMessage==null?null:e.fieldsInfo.apiAbilitySendUnicodeMessage.fieldTitle," "),o(3),w("ngModel",e.dataModel.apiAbilitySendUnicodeMessage)}}function pu(n,l){if(n&1){let e=A();r(0,"div",50)(1,"div",109)(2,"h5",118),d(3),s()(),r(4,"div",111)(5,"div",112)(6,"input",119),P("ngModelChange",function(t){u(e);let a=m();return T(a.dataModel.apiAbilitySendNormalMessage,t)||(a.dataModel.apiAbilitySendNormalMessage=t),f(t)}),s(),g(7,"label",120),s()()()}if(n&2){let e=m();o(3),M(" ",e.fieldsInfo.apiAbilitySendNormalMessage==null?null:e.fieldsInfo.apiAbilitySendNormalMessage.fieldTitle," "),o(3),w("ngModel",e.dataModel.apiAbilitySendNormalMessage)}}function uu(n,l){if(n&1){let e=A();r(0,"div",50)(1,"div",109)(2,"h5",121),d(3),s()(),r(4,"div",111)(5,"div",112)(6,"input",122),P("ngModelChange",function(t){u(e);let a=m();return T(a.dataModel.apiAllowSupersede,t)||(a.dataModel.apiAllowSupersede=t),f(t)}),s(),g(7,"label",123),s()()()}if(n&2){let e=m();o(3),M(" ",e.fieldsInfo.apiAllowSupersede==null?null:e.fieldsInfo.apiAllowSupersede.fieldTitle," "),o(3),w("ngModel",e.dataModel.apiAllowSupersede)}}function fu(n,l){if(n&1){let e=A();r(0,"div",50)(1,"div",109)(2,"h5",124),d(3),s()(),r(4,"div",111)(5,"div",112)(6,"input",125),P("ngModelChange",function(t){u(e);let a=m();return T(a.dataModel.apiAbilityUseWebservice,t)||(a.dataModel.apiAbilityUseWebservice=t),f(t)}),s(),g(7,"label",126),s()()()}if(n&2){let e=m();o(3),M(" ",e.fieldsInfo.apiAbilityUseWebservice==null?null:e.fieldsInfo.apiAbilityUseWebservice.fieldTitle," "),o(3),w("ngModel",e.dataModel.apiAbilityUseWebservice)}}function hu(n,l){if(n&1){let e=A();r(0,"div",50)(1,"div",109)(2,"h5",127),d(3),s()(),r(4,"div",111)(5,"div",112)(6,"input",128),P("ngModelChange",function(t){u(e);let a=m();return T(a.dataModel.apiAbilityUseInside,t)||(a.dataModel.apiAbilityUseInside=t),f(t)}),s(),g(7,"label",129),s()()()}if(n&2){let e=m();o(3),M(" ",e.fieldsInfo.apiAbilityUseInside==null?null:e.fieldsInfo.apiAbilityUseInside.fieldTitle," "),o(3),w("ngModel",e.dataModel.apiAbilityUseInside)}}function Su(n,l){if(n&1){let e=A();r(0,"div",46)(1,"button",104),I("click",function(){u(e);let t=m();return f(t.onActionBackToParent())}),d(2),S(3,"translate"),s(),r(4,"button",108),d(5),S(6,"translate"),s(),r(7,"button",105),d(8),S(9,"translate"),s(),r(10,"button",106),d(11),S(12,"translate"),s()()}if(n&2){m();let e=D(13);o(2),M(" ",C(3,6,"ACTION.BACK")," "),o(3),M(" ",C(6,8,"ACTION.BEFOR")," "),o(2),h("disabled",!e.form.valid),o(),M(" ",C(9,10,"ACTION.NEXT")," "),o(2),h("disabled",!e.form.valid),o(),M(" ",C(12,12,"ACTION.SAVE")," ")}}function Cu(n,l){if(n&1){let e=A();r(0,"div",46)(1,"button",104),I("click",function(){u(e);let t=m(2);return f(t.onActionBackToParent())}),d(2),S(3,"translate"),s(),r(4,"button",108),d(5),S(6,"translate"),s(),r(7,"button",105),d(8),S(9,"translate"),s(),r(10,"button",106),d(11),S(12,"translate"),s()()}if(n&2){m(2);let e=D(13);o(2),M(" ",C(3,6,"ACTION.BACK")," "),o(3),M(" ",C(6,8,"ACTION.BEFOR")," "),o(2),h("disabled",!e.form.valid),o(),M(" ",C(9,10,"ACTION.NEXT")," "),o(2),h("disabled",!e.form.valid),o(),M(" ",C(12,12,"ACTION.SAVE")," ")}}function gu(n,l){if(n&1&&(r(0,"mat-step",47),S(1,"translate"),r(2,"p"),d(3),S(4,"translate"),s(),b(5,Cu,13,14,"div",46),s()),n&2){let e=m();h("label",k(C(1,4,"TITLE.Status_receiving_variables"))),o(3),y(C(4,6,"TITLE.Set_acess")),o(2),v(e.formInfo.submitButtonEnabled?5:-1)}}function Mu(n,l){if(n&1){let e=A();r(0,"div",50)(1,"div",109)(2,"h5",130),d(3),s()(),r(4,"div",111)(5,"div",112)(6,"input",131),P("ngModelChange",function(t){u(e);let a=m();return T(a.dataModel.serverDeliveryCostBase,t)||(a.dataModel.serverDeliveryCostBase=t),f(t)}),s(),g(7,"label",132),s()()()}if(n&2){let e=m();o(3),M(" ",e.fieldsInfo.serverDeliveryCostBase==null?null:e.fieldsInfo.serverDeliveryCostBase.fieldTitle," "),o(3),w("ngModel",e.dataModel.serverDeliveryCostBase)}}function _u(n,l){if(n&1){let e=A();r(0,"div",38)(1,"label",133),d(2),s(),r(3,"input",134,24),P("ngModelChange",function(t){u(e);let a=m();return T(a.dataModel.statusOutOfServiceMonitorApiChar,t)||(a.dataModel.statusOutOfServiceMonitorApiChar=t),f(t)}),s()()}if(n&2){let e=m();o(2),y(e.fieldsInfo.statusOutOfServiceMonitorApiChar==null?null:e.fieldsInfo.statusOutOfServiceMonitorApiChar.fieldTitle),o(),w("ngModel",e.dataModel.statusOutOfServiceMonitorApiChar),h("disabled",!(e.fieldsInfo.statusOutOfServiceMonitorApiChar!=null&&e.fieldsInfo.statusOutOfServiceMonitorApiChar.accessEditField))}}function bu(n,l){if(n&1){let e=A();r(0,"div",50)(1,"div",109)(2,"h5",135),d(3),s()(),r(4,"div",111)(5,"div",112)(6,"input",136),P("ngModelChange",function(t){u(e);let a=m();return T(a.dataModel.statusOutOfServiceActive,t)||(a.dataModel.statusOutOfServiceActive=t),f(t)}),s(),g(7,"label",137),s()()()}if(n&2){let e=m();o(3),M(" ",e.fieldsInfo.statusOutOfServiceActive==null?null:e.fieldsInfo.statusOutOfServiceActive.fieldTitle," "),o(3),w("ngModel",e.dataModel.statusOutOfServiceActive)}}function vu(n,l){if(n&1){let e=A();r(0,"div",38)(1,"label",138),d(2),s(),r(3,"input",139,25),P("ngModelChange",function(t){u(e);let a=m();return T(a.dataModel.statusNotStableMonitorApiChar,t)||(a.dataModel.statusNotStableMonitorApiChar=t),f(t)}),s()()}if(n&2){let e=m();o(2),y(e.fieldsInfo.statusNotStableMonitorApiChar==null?null:e.fieldsInfo.statusNotStableMonitorApiChar.fieldTitle),o(),w("ngModel",e.dataModel.statusNotStableMonitorApiChar),h("disabled",!(e.fieldsInfo.statusNotStableMonitorApiChar!=null&&e.fieldsInfo.statusNotStableMonitorApiChar.accessEditField))}}function Iu(n,l){if(n&1){let e=A();r(0,"div",50)(1,"div",109)(2,"h5",140),d(3),s()(),r(4,"div",111)(5,"div",112)(6,"input",141),P("ngModelChange",function(t){u(e);let a=m();return T(a.dataModel.statusNotStableActive,t)||(a.dataModel.statusNotStableActive=t),f(t)}),s(),g(7,"label",142),s()()()}if(n&2){let e=m();o(3),M(" ",e.fieldsInfo.apiAbilityUseInside==null?null:e.fieldsInfo.apiAbilityUseInside.fieldTitle," "),o(3),w("ngModel",e.dataModel.statusNotStableActive)}}function Au(n,l){if(n&1){let e=A();r(0,"div",38)(1,"label",143),d(2),s(),r(3,"input",144,26),P("ngModelChange",function(t){u(e);let a=m();return T(a.dataModel.statusNotStableCount,t)||(a.dataModel.statusNotStableCount=t),f(t)}),s()()}if(n&2){let e=m();o(2),y(e.fieldsInfo.statusNotStableCount==null?null:e.fieldsInfo.statusNotStableCount.fieldTitle),o(),w("ngModel",e.dataModel.statusNotStableCount),h("disabled",!(e.fieldsInfo.statusNotStableCount!=null&&e.fieldsInfo.statusNotStableCount.accessEditField))}}function Eu(n,l){if(n&1){let e=A();r(0,"div",38)(1,"label",145),d(2),s(),r(3,"input",146,27),P("ngModelChange",function(t){u(e);let a=m();return T(a.dataModel.statusNotStableCountLimit,t)||(a.dataModel.statusNotStableCountLimit=t),f(t)}),s()()}if(n&2){let e=m();o(2),y(e.fieldsInfo.statusNotStableCountLimit==null?null:e.fieldsInfo.statusNotStableCountLimit.fieldTitle),o(),w("ngModel",e.dataModel.statusNotStableCountLimit),h("disabled",!(e.fieldsInfo.statusNotStableCountLimit!=null&&e.fieldsInfo.statusNotStableCountLimit.accessEditField))}}function yu(n,l){if(n&1){let e=A();r(0,"div",38)(1,"label",147),d(2),s(),r(3,"input",148,28),P("ngModelChange",function(t){u(e);let a=m();return T(a.dataModel.statusNotStableRunForMin,t)||(a.dataModel.statusNotStableRunForMin=t),f(t)}),s()()}if(n&2){let e=m();o(2),y(e.fieldsInfo.statusNotStableRunForMin==null?null:e.fieldsInfo.statusNotStableRunForMin.fieldTitle),o(),w("ngModel",e.dataModel.statusNotStableRunForMin),h("disabled",!(e.fieldsInfo.statusNotStableRunForMin!=null&&e.fieldsInfo.statusNotStableRunForMin.accessEditField))}}function wu(n,l){if(n&1){let e=A();r(0,"div",46)(1,"button",104),I("click",function(){u(e);let t=m();return f(t.onActionBackToParent())}),d(2),S(3,"translate"),s(),r(4,"button",108),d(5),S(6,"translate"),s(),r(7,"button",105),d(8),S(9,"translate"),s(),r(10,"button",106),d(11),S(12,"translate"),s()()}if(n&2){m();let e=D(13);o(2),M(" ",C(3,6,"ACTION.BACK")," "),o(3),M(" ",C(6,8,"ACTION.BEFOR")," "),o(2),h("disabled",!e.form.valid),o(),M(" ",C(9,10,"ACTION.NEXT")," "),o(2),h("disabled",!e.form.valid),o(),M(" ",C(12,12,"ACTION.SAVE")," ")}}function Tu(n,l){if(n&1){let e=A();r(0,"div",46)(1,"button",104),I("click",function(){u(e);let t=m(2);return f(t.onActionBackToParent())}),d(2),S(3,"translate"),s(),r(4,"button",108),d(5),S(6,"translate"),s(),r(7,"button",105),d(8),S(9,"translate"),s(),r(10,"button",106),d(11),S(12,"translate"),s()()}if(n&2){m(2);let e=D(13);o(2),M(" ",C(3,6,"ACTION.BACK")," "),o(3),M(" ",C(6,8,"ACTION.BEFOR")," "),o(2),h("disabled",!e.form.valid),o(),M(" ",C(9,10,"ACTION.NEXT")," "),o(2),h("disabled",!e.form.valid),o(),M(" ",C(12,12,"ACTION.SAVE")," ")}}function Pu(n,l){if(n&1&&(r(0,"mat-step",47),S(1,"translate"),b(2,Tu,13,14,"div",46),s()),n&2){let e=m();h("label",k(C(1,3,"TITLE.Receiving_variables"))),o(2),v(e.formInfo.submitButtonEnabled?2:-1)}}function Ru(n,l){if(n&1){let e=A();r(0,"div",46)(1,"button",104),I("click",function(){u(e);let t=m(2);return f(t.onActionBackToParent())}),d(2),S(3,"translate"),s(),r(4,"button",108),d(5),S(6,"translate"),s(),r(7,"button",105),d(8),S(9,"translate"),s(),r(10,"button",107),I("click",function(){u(e);let t=m(2);return f(t.onActionButtonGetToken())}),d(11),S(12,"translate"),s(),r(13,"button",107),I("click",function(){u(e);let t=m(2);return f(t.onActionButtonGetBalance())}),d(14),S(15,"translate"),s(),r(16,"button",106),d(17),S(18,"translate"),s()()}if(n&2){m(2);let e=D(13);o(2),M(" ",C(3,8,"ACTION.BACK")," "),o(3),M(" ",C(6,10,"ACTION.BEFOR")," "),o(2),h("disabled",!e.form.valid),o(),M(" ",C(9,12,"ACTION.NEXT")," "),o(3),M(" ",C(12,14,"ACTION.CHECK_ROUTE_TOKEN")," "),o(3),M(" ",C(15,16,"ACTION.CHECK_ROUTE_BALANCE")," "),o(2),h("disabled",!e.form.valid),o(),M(" ",C(18,18,"ACTION.SAVE")," ")}}function xu(n,l){if(n&1&&(r(0,"mat-step",47),S(1,"translate"),b(2,Ru,19,20,"div",46),s()),n&2){let e=m();h("label",k(C(1,3,"TITLE.Check_validity"))),o(2),v(e.formInfo.submitButtonEnabled?2:-1)}}function Du(n,l){if(n&1){let e=A();r(0,"div",46)(1,"button",104),I("click",function(){u(e);let t=m(2);return f(t.onActionBackToParent())}),d(2),S(3,"translate"),s(),r(4,"button",108),d(5),S(6,"translate"),s(),r(7,"button",105),d(8),S(9,"translate"),s(),r(10,"button",106),d(11),S(12,"translate"),s()()}if(n&2){m(2);let e=D(13);o(2),M(" ",C(3,6,"ACTION.BACK")," "),o(3),M(" ",C(6,8,"ACTION.BEFOR")," "),o(2),h("disabled",!e.form.valid),o(),M(" ",C(9,10,"ACTION.NEXT")," "),o(2),h("disabled",!e.form.valid),o(),M(" ",C(12,12,"ACTION.SAVE")," ")}}function ku(n,l){if(n&1&&(r(0,"mat-step",47),S(1,"translate"),b(2,Du,13,14,"div",46),s()),n&2){let e=m();h("label",bt(" ",C(1,3,"TITLE.Variables_for_sending_voice_messagesy"))),o(2),v(e.formInfo.submitButtonEnabled?2:-1)}}function Lu(n,l){if(n&1){let e=A();r(0,"div",46)(1,"button",104),I("click",function(){u(e);let t=m(2);return f(t.onActionBackToParent())}),d(2),S(3,"translate"),s(),r(4,"button",108),d(5),S(6,"translate"),s(),r(7,"button",106),d(8),S(9,"translate"),s()()}if(n&2){m(2);let e=D(13);o(2),M(" ",C(3,4,"ACTION.BACK")," "),o(3),M(" ",C(6,6,"ACTION.BEFOR")," "),o(2),h("disabled",!e.form.valid),o(),M(" ",C(9,8,"ACTION.SAVE")," ")}}function Vu(n,l){if(n&1&&(r(0,"mat-step",47),S(1,"translate"),b(2,Lu,10,10,"div",46),s()),n&2){let e=m();h("label",k(C(1,3,"TITLE.Error_variables"))),o(2),v(e.formInfo.submitButtonEnabled?2:-1)}}function Nu(n,l){n&1&&(r(0,"mat-icon"),d(1,"call_end"),s())}function Bu(n,l){n&1&&(r(0,"mat-icon"),d(1,"call_end"),s())}function Fu(n,l){n&1&&(r(0,"mat-icon"),d(1,"forum"),s())}function Ou(n,l){n&1&&(r(0,"mat-icon"),d(1,"forum"),s())}var No=class No extends gt{constructor(e,i,t,a,p,c,E,F){super(i,new Qt,a,F);this.coreEnumService=e;this.smsMainApiPathService=i;this.cmsToastrService=t;this.publicHelper=a;this.router=p;this.cdr=c;this.activatedRoute=E;this.translate=F;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.complatedView=!1;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new ft;this.dataModel=new Xr;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,this.activatedRoute.snapshot.paramMap.get("id")&&(this.requestId=this.activatedRoute.snapshot.paramMap.get("id")),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.router.navigate(["/sms/main/api-path/list"]);return}}DataGetOneContent(){if(this.requestId.length<=0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.smsMainApiPathService.setAccessLoad(),this.smsMainApiPathService.setAccessDataType(nt.Editor),this.smsMainApiPathService.ServiceGetOneWithJsonFormatter(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),i.item.perriodStartWorkTime?i.item.perriodStartWorkTime=i.item.perriodStartWorkTime.substring(0,i.item.perriodStartWorkTime.indexOf(":",i.item.perriodStartWorkTime.indexOf(":")+1)):i.item.perriodStartWorkTime="",i.item.perriodEndWorkTime?i.item.perriodEndWorkTime=i.item.perriodEndWorkTime.substring(0,i.item.perriodEndWorkTime.indexOf(":",i.item.perriodEndWorkTime.indexOf(":")+1)):i.item.perriodEndWorkTime="",this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.smsMainApiPathService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success}),this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.cmsToastrService.typeSuccessEdit()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionButtonGetToken(){let e=this.constructor.name+"GetToken";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.smsMainApiPathService.ServiceGetToken(this.requestId).subscribe({next:i=>{i.isSuccess?(this.cmsToastrService.typeSuccessMessage(i.item.info+" "+i.item.status+" "),setTimeout(()=>this.DataGetOneContent(),2e3)):this.cmsToastrService.typeErrorMessage(i.errorMessage),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionButtonGetBalance(){let e=this.constructor.name+"GetBalance";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.smsMainApiPathService.ServiceGetBalance(this.requestId).subscribe({next:i=>{i.isSuccess?this.cmsToastrService.typeSuccessMessage(i.item.info+" "+i.item.status+" "+i.item.credit):this.cmsToastrService.typeErrorMessage(i.errorMessage+i.item.info+" "+i.item.status),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorSelectLinkApiPathCompanyId(e){if(!e||e.id.length<=0){this.translate.get("MESSAGE.Information_application_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkApiPathCompanyId=e.id}onStepClick(e,i){e.previouslySelectedIndex<e.selectedIndex&&(this.formGroup.valid||(this.cmsToastrService.typeErrorFormInvalid(),setTimeout(()=>{i.selectedIndex=e.previouslySelectedIndex},10)))}onActionBackToParent(){this.router.navigate(["/sms/main/api-path/list"])}onActionSelectSource(e){this.dataModel.linkPublicConfigId=null,e&&e.id?.length>0&&(this.dataModel.linkPublicConfigId=e.id)}onFormSubmit(){if(this.formGroup.valid){if(!this.dataModel.linkApiPathCompanyId||this.dataModel.linkApiPathCompanyId.length==0){this.translate.get("MESSAGE.Service_company_is_not_clear").subscribe(e=>{this.cmsToastrService.typeErrorSelected(e)});return}if(!this.dataModel.linkPublicConfigId||this.dataModel.linkPublicConfigId.length==0){this.translate.get("MESSAGE.Service_type_is_not_clear").subscribe(e=>{this.cmsToastrService.typeErrorSelected(e)});return}this.formInfo.submitButtonEnabled=!1,this.DataEditContent()}}onFormCancel(){this.router.navigate(["/sms/main/api-path/list"])}};No.\u0275fac=function(i){return new(i||No)(_(Re),_(St),_(W),_(U),_(He),_(G),_(Xe),_(O))},No.\u0275cmp=N({type:No,selectors:[["app-sms-apipath-edit"]],viewQuery:function(i,t){if(i&1&&ee(Bp,5),i&2){let a;te(a=ie())&&(t.formGroup=a.first)}},standalone:!1,features:[X],decls:138,vars:126,consts:[["vform","ngForm"],["stepper",""],["Description",""],["apiSendMessageAddTextFirst",""],["apiSendMessageAddTextEnd",""],["sendMessageAddTextFirst",""],["sendMessageAddTextEnd",""],["StatusOutOfServiceExpire",""],["StatusNotStableExpire",""],["Title",""],["ApiIdentity",""],["ApiMinPathNeedToCheck",""],["ApiReceiveKey",""],["hookAddressReceiveMessageAPIById",""],["hookAddressReceiveDeliveryStatusAPIById",""],["ApiAbilityLengthMinToSend",""],["ApiAbilityLengthMaxToSend",""],["Priority",""],["MaxProcessFlowAmount",""],["MinProcessFlowAmount",""],["FixFeeProcessFlowAmount",""],["PercentFeeProcessFlowAmount",""],["PerriodStartWorkTime",""],["PerriodEndWorkTime",""],["StatusOutOfServiceMonitorApiChar",""],["StatusNotStableMonitorApiChar",""],["StatusNotStableCount",""],["StatusNotStableCountLimit",""],["StatusNotStableRunForMin",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"selectionChange"],["state","main",3,"label"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],[3,"optionChange","optionSelectForce","optionPlaceholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.memo",1,"color-highlight"],["matInput","","name","dataModel.memo","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.memo",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"form-actions"],["state","seo",3,"label"],[3,"jsonValueChange","formGroup","jsonValue","propertiesInfos"],[1,"ntk-button-row"],[1,"d-flex","mb-3"],["for","dataModel.apiSendMessageAddTextFirst",1,"color-highlight"],["matInput","","name","dataModel.apiSendMessageAddTextFirst","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.apiSendMessageAddTextFirst",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.apiSendMessageAddTextEnd",1,"color-highlight"],["matInput","","name","dataModel.apiSendMessageAddTextEnd","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.apiSendMessageAddTextEnd",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.sendMessageAddTextFirst",1,"color-highlight"],["matInput","","name","dataModel.sendMessageAddTextFirst","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.sendMessageAddTextFirst",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.sendMessageAddTextEnd",1,"color-highlight"],["matInput","","name","dataModel.sendMessageAddTextEnd","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.sendMessageAddTextEnd",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"divider","mt-3","mb-3"],["for","dataModel.statusOutOfServiceExpire",1,"color-highlight"],["matInput","","name","dataModel.statusOutOfServiceExpire","type","text","id","dataModel.statusOutOfServiceExpire",1,"form-control","validate-name",3,"ngModelChange","matDatepicker","ngModel"],["matSuffix","",3,"for"],["touchUi","",3,"calendarHeaderComponent"],["for","dataModel.statusNotStableExpire",1,"color-highlight"],["matInput","","name","dataModel.statusNotStableExpire","type","text","id","dataModel.statusNotStableExpire",1,"form-control","validate-name",3,"ngModelChange","matDatepicker","ngModel"],["matStepperIcon","main"],["matStepperIcon","seo"],["matStepperIcon","file"],["matStepperIcon","loaction"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.apiIdentity",1,"color-highlight"],["matInput","","name","dataModel.apiIdentity","type","number","placeholder","1","id","dataModel.apiIdentity",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.apiMinPathNeedToCheck",1,"color-highlight"],["matInput","","name","dataModel.apiMinPathNeedToCheck","type","number","placeholder","1","id","dataModel.apiMinPathNeedToCheck",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.apiReceiveKey",1,"color-highlight"],["matInput","","name","dataModel.apiReceiveKey","type","text","placeholder","1","id","dataModel.apiReceiveKey",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.hookAddressReceiveMessageAPIById",1,"color-highlight"],["matInput","","name","dataModel.hookAddressReceiveMessageAPIById","placeholder","https://","type","text","readonly","","placeholder","1","id","dataModel.hookAddressReceiveMessageAPIById",1,"form-control","validate-name","input-ltr",3,"ngModelChange","ngModel"],["for","dataModel.hookAddressReceiveDeliveryStatusAPIById",1,"color-highlight"],["matInput","","name","dataModel.hookAddressReceiveDeliveryStatusAPIById","placeholder","https://","type","text","readonly","","placeholder","1","id","dataModel.hookAddressReceiveDeliveryStatusAPIById",1,"form-control","validate-name","input-ltr",3,"ngModelChange","ngModel"],["for","dataModel.apiAbilityLengthMinToSend",1,"color-highlight"],["matInput","","name","dataModel.apiAbilityLengthMinToSend","type","number","placeholder","1","id","dataModel.apiAbilityLengthMinToSend",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.apiAbilityLengthMaxToSend",1,"color-highlight"],["matInput","","name","dataModel.apiAbilityLengthMaxToSend","type","number","placeholder","1","id","dataModel.apiAbilityLengthMaxToSend",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.priority",1,"color-highlight"],["matInput","","name","dataModel.priority","type","number","placeholder","1","id","dataModel.priority",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.maxProcessFlowAmount",1,"color-highlight"],["matInput","","name","dataModel.maxProcessFlowAmount","type","number","placeholder","1","id","dataModel.maxProcessFlowAmount",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.minProcessFlowAmount",1,"color-highlight"],["matInput","","name","dataModel.minProcessFlowAmount","type","number","placeholder","Min Transaction Amount","id","dataModel.minProcessFlowAmount",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.fixFeeProcessFlowAmount",1,"color-highlight"],["matInput","","name","dataModel.fixFeeProcessFlowAmount","type","number","placeholder","Max Transaction Amount","id","dataModel.fixFeeProcessFlowAmount",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.percentFeeProcessFlowAmount",1,"color-highlight"],["matInput","","name","dataModel.percentFeeProcessFlowAmount","type","number","placeholder","Percent Fee Transaction Amount","id","dataModel.percentFeeProcessFlowAmount",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.perriodStartWorkTime",1,"color-highlight"],["matInput","","name","dataModel.perriodStartWorkTime","id","dataModel.perriodStartWorkTime",1,"form-control","validate-name",3,"ngModelChange","ngxTimepicker","ngModel","format"],["touchUi","",1,"timepicker"],["for","dataModel.perriodEndWorkTime",1,"color-highlight"],["matInput","","name","dataModel.perriodEndWorkTime","type","number","id","dataModel.perriodEndWorkTime",1,"form-control","validate-name",3,"ngModelChange","ngxTimepicker","ngModel","format"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],["type","button","matStepperNext","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue",3,"disabled"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-yellow",3,"click"],["type","button","matStepperPrevious","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue"],[1,"pt-1"],["data-trigger-switch","dataModel.apiSendMessageIsOn",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.apiSendMessageIsOn","name","dataModel.apiSendMessageIsOn",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.apiSendMessageIsOn",1,"custom-control-label"],["data-trigger-switch","dataModel.apiAbilitySendUnicodeMessage",1,"font-600","font-14"],["type","checkbox","id","dataModel.apiAbilitySendUnicodeMessage","name","dataModel.apiAbilitySendUnicodeMessage",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.apiAbilitySendUnicodeMessage",1,"custom-control-label"],["data-trigger-switch","dataModel.apiAbilitySendNormalMessage",1,"font-600","font-14"],["type","checkbox","id","dataModel.apiAbilitySendNormalMessage","name","dataModel.apiAbilitySendNormalMessage",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.apiAbilitySendNormalMessage",1,"custom-control-label"],["data-trigger-switch","dataModel.apiAllowSupersede",1,"font-600","font-14"],["type","checkbox","id","dataModel.apiAllowSupersede","name","dataModel.apiAllowSupersede",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.apiAllowSupersede",1,"custom-control-label"],["data-trigger-switch","dataModel.apiAbilityUseWebservice",1,"font-600","font-14"],["type","checkbox","id","dataModel.apiAbilityUseWebservice","name","dataModel.apiAbilityUseWebservice",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.apiAbilityUseWebservice",1,"custom-control-label"],["data-trigger-switch","dataModel.apiAbilityUseInside",1,"font-600","font-14"],["type","checkbox","id","dataModel.apiAbilityUseInside","name","dataModel.apiAbilityUseInside",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.apiAbilityUseInside",1,"custom-control-label"],["data-trigger-switch","dataModel.serverDeliveryCostBase",1,"font-600","font-14"],["type","checkbox","id","dataModel.serverDeliveryCostBase","name","dataModel.serverDeliveryCostBase",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.serverDeliveryCostBase",1,"custom-control-label"],["for","dataModel.statusOutOfServiceMonitorApiChar",1,"color-highlight"],["matInput","","name","dataModel.statusOutOfServiceMonitorApiChar","type","number","placeholder","1","id","dataModel.statusOutOfServiceMonitorApiChar",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["data-trigger-switch","dataModel.statusOutOfServiceActive",1,"font-600","font-14"],["type","checkbox","id","dataModel.statusOutOfServiceActive","name","dataModel.statusOutOfServiceActive",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.statusOutOfServiceActive",1,"custom-control-label"],["for","dataModel.statusNotStableMonitorApiChar",1,"color-highlight"],["matInput","","name","dataModel.statusNotStableMonitorApiChar","type","number","placeholder","1","id","dataModel.statusNotStableMonitorApiChar",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["data-trigger-switch","dataModel.statusNotStableActive",1,"font-600","font-14"],["type","checkbox","id","dataModel.statusNotStableActive","name","dataModel.statusNotStableActive",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.statusNotStableActive",1,"custom-control-label"],["for","dataModel.statusNotStableCount",1,"color-highlight"],["matInput","","name","dataModel.statusNotStableCount","type","number","placeholder","1","id","dataModel.statusNotStableCount",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.statusNotStableCountLimit",1,"color-highlight"],["matInput","","name","dataModel.statusNotStableCountLimit","type","number","placeholder","1","id","dataModel.statusNotStableCountLimit",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.statusNotStableRunForMin",1,"color-highlight"],["matInput","","name","dataModel.statusNotStableRunForMin","type","number","placeholder","1","id","dataModel.statusNotStableRunForMin",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"]],template:function(i,t){if(i&1){let a=A();r(0,"div",29),g(1,"app-progress-spinner",30),r(2,"div",31)(3,"p",32),d(4),s(),r(5,"h4"),d(6),S(7,"translate"),s(),r(8,"p"),d(9),S(10,"translate"),s(),g(11,"app-cms-form-result-message",33),r(12,"form",34,0),I("ngSubmit",function(){return u(a),f(t.onFormSubmit())}),r(14,"mat-vertical-stepper",35,1),I("selectionChange",function(c){u(a);let E=D(15);return f(t.onStepClick(c,E))}),r(16,"mat-step",36),S(17,"translate"),b(18,Fp,1,5,"app-cms-enum-record-status-selector",37),b(19,Wp,10,9,"div",38),r(20,"app-sms-publicconfig-selector",39),S(21,"translate"),I("optionChange",function(c){return u(a),f(t.onActionSelectSource(c))}),s(),r(22,"app-sms-apipathcompany-selector",40),S(23,"translate"),I("optionChange",function(c){return u(a),f(t.onActionSelectorSelectLinkApiPathCompanyId(c))}),s(),b(24,Up,5,3,"div",38),b(25,qp,5,3,"div",38),b(26,jp,5,3,"div",38),b(27,Qp,5,2,"div",38),b(28,zp,5,2,"div",38),b(29,Kp,5,3,"div",38),b(30,Xp,5,3,"div",38),b(31,Yp,5,3,"div",38),b(32,Jp,5,3,"div",38),b(33,Zp,5,3,"div",38),b(34,$p,5,3,"div",38),b(35,eu,5,3,"div",38),b(36,tu,7,5,"div",41),b(37,iu,7,5,"div",41),r(38,"div",38)(39,"label",42),d(40),s(),r(41,"textarea",43,2),P("ngModelChange",function(c){return u(a),T(t.dataModel.description,c)||(t.dataModel.description=c),f(c)}),s(),r(43,"em"),d(44),s(),b(45,nu,5,3,"mat-error"),s(),r(46,"div",38)(47,"label",44),d(48),s(),r(49,"textarea",45),P("ngModelChange",function(c){return u(a),T(t.dataModel.memo,c)||(t.dataModel.memo=c),f(c)}),d(50,"            "),s()(),b(51,ou,10,11,"div",46),s(),r(52,"mat-step",47),S(53,"translate"),r(54,"p"),d(55),S(56,"translate"),s(),r(57,"dynamic-form-builder-cms",48),P("jsonValueChange",function(c){return u(a),T(t.dataModel.privateConfigJsonValues,c)||(t.dataModel.privateConfigJsonValues=c),f(c)}),s(),b(58,au,20,20,"div",49),s(),r(59,"mat-step",47),S(60,"translate"),r(61,"p"),d(62),S(63,"translate"),s(),b(64,ru,8,2,"div",50),r(65,"div",38)(66,"label",51),d(67),s(),r(68,"textarea",52,3),P("ngModelChange",function(c){return u(a),T(t.dataModel.apiSendMessageAddTextFirst,c)||(t.dataModel.apiSendMessageAddTextFirst=c),f(c)}),s(),r(70,"em"),d(71),s(),b(72,su,5,3,"mat-error"),s(),r(73,"div",38)(74,"label",53),d(75),s(),r(76,"textarea",54,4),P("ngModelChange",function(c){return u(a),T(t.dataModel.apiSendMessageAddTextEnd,c)||(t.dataModel.apiSendMessageAddTextEnd=c),f(c)}),s(),r(78,"em"),d(79),s(),b(80,lu,5,3,"mat-error"),s(),r(81,"div",38)(82,"label",55),d(83),s(),r(84,"textarea",56,5),P("ngModelChange",function(c){return u(a),T(t.dataModel.sendMessageAddTextFirst,c)||(t.dataModel.sendMessageAddTextFirst=c),f(c)}),s(),r(86,"em"),d(87),s(),b(88,cu,5,3,"mat-error"),s(),r(89,"div",38)(90,"label",57),d(91),s(),r(92,"textarea",58,6),P("ngModelChange",function(c){return u(a),T(t.dataModel.sendMessageAddTextEnd,c)||(t.dataModel.sendMessageAddTextEnd=c),f(c)}),s(),r(94,"em"),d(95),s(),b(96,du,5,3,"mat-error"),s(),b(97,mu,8,2,"div",50),b(98,pu,8,2,"div",50),b(99,uu,8,2,"div",50),b(100,fu,8,2,"div",50),b(101,hu,8,2,"div",50),b(102,Su,13,14,"div",46),s(),b(103,gu,6,8,"mat-step",47),r(104,"mat-step",47),S(105,"translate"),b(106,Mu,8,2,"div",50),g(107,"div",59),b(108,_u,5,3,"div",38),b(109,bu,8,2,"div",50),r(110,"div",41)(111,"label",60),d(112),s(),r(113,"input",61),P("ngModelChange",function(c){return u(a),T(t.dataModel.statusOutOfServiceExpire,c)||(t.dataModel.statusOutOfServiceExpire=c),f(c)}),s(),g(114,"mat-datepicker-toggle",62)(115,"mat-datepicker",63,7),s(),b(117,vu,5,3,"div",38),b(118,Iu,8,2,"div",50),r(119,"div",41)(120,"label",64),d(121),s(),r(122,"input",65),P("ngModelChange",function(c){return u(a),T(t.dataModel.statusNotStableExpire,c)||(t.dataModel.statusNotStableExpire=c),f(c)}),s(),g(123,"mat-datepicker-toggle",62)(124,"mat-datepicker",63,8),s(),b(126,Au,5,3,"div",38),b(127,Eu,5,3,"div",38),b(128,yu,5,3,"div",38),b(129,wu,13,14,"div",46),s(),b(130,Pu,3,5,"mat-step",47),b(131,xu,3,5,"mat-step",47),b(132,ku,3,5,"mat-step",47),b(133,Vu,3,5,"mat-step",47),L(134,Nu,2,0,"ng-template",66)(135,Bu,2,0,"ng-template",67)(136,Fu,2,0,"ng-template",68)(137,Ou,2,0,"ng-template",69),s()()()()}if(i&2){let a=D(13),p=D(42),c=D(69),E=D(77),F=D(85),Ne=D(93),tt=D(116),Pe=D(125);o(),h("optionsInfoAreaId",t.constructorInfoAreaId),o(3),M(" ",t.formInfo.formTitle," "),o(2),y(C(7,106,"TITLE.ROUTE_SETTINGS")),o(3),M(" ",C(10,108,"TITLE.ROUTE_SETTINGS_DESCRIPTION")," "),o(2),h("formInfo",t.formInfo),o(5),h("label",k(C(17,110,"TITLE.REQUIRED_INFORMATION"))),o(2),v(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?18:-1),o(),v(t.fieldsInfo.title!=null&&t.fieldsInfo.title.accessWatchField?19:-1),o(),h("optionDisabled",!(t.fieldsInfo.linkPublicConfigId!=null&&t.fieldsInfo.linkPublicConfigId.accessEditField))("optionSelectForce",t.dataModel.linkPublicConfigId)("optionPlaceholder",C(21,112,"TITLE.Route_Type")),o(2),h("optionSelectForce",t.dataModel.linkApiPathCompanyId)("optionPlaceholder",C(23,114,"TITLE.Service_Company")),o(2),v(t.fieldsInfo.apiIdentity!=null&&t.fieldsInfo.apiIdentity.accessWatchField?24:-1),o(),v(t.fieldsInfo.apiMinPathNeedToCheck!=null&&t.fieldsInfo.apiMinPathNeedToCheck.accessWatchField?25:-1),o(),v(t.fieldsInfo.apiReceiveKey!=null&&t.fieldsInfo.apiReceiveKey.accessWatchField?26:-1),o(),v(t.fieldsInfo.hookAddressReceiveMessageAPIById!=null&&t.fieldsInfo.hookAddressReceiveMessageAPIById.accessWatchField?27:-1),o(),v(t.fieldsInfo.hookAddressReceiveDeliveryStatusAPIById!=null&&t.fieldsInfo.hookAddressReceiveDeliveryStatusAPIById.accessWatchField?28:-1),o(),v(t.fieldsInfo.apiAbilityLengthMinToSend!=null&&t.fieldsInfo.apiAbilityLengthMinToSend.accessWatchField?29:-1),o(),v(t.fieldsInfo.apiAbilityLengthMaxToSend!=null&&t.fieldsInfo.apiAbilityLengthMaxToSend.accessWatchField?30:-1),o(),v(t.fieldsInfo.priority!=null&&t.fieldsInfo.priority.accessWatchField?31:-1),o(),v(t.fieldsInfo.maxProcessFlowAmount!=null&&t.fieldsInfo.maxProcessFlowAmount.accessWatchField?32:-1),o(),v(t.fieldsInfo.minProcessFlowAmount!=null&&t.fieldsInfo.minProcessFlowAmount.accessWatchField?33:-1),o(),v(t.fieldsInfo.fixFeeProcessFlowAmount!=null&&t.fieldsInfo.fixFeeProcessFlowAmount.accessWatchField?34:-1),o(),v(t.fieldsInfo.percentFeeProcessFlowAmount!=null&&t.fieldsInfo.percentFeeProcessFlowAmount.accessWatchField?35:-1),o(),v(t.fieldsInfo.perriodStartWorkTime!=null&&t.fieldsInfo.perriodStartWorkTime.accessWatchField?36:-1),o(),v(t.fieldsInfo.perriodEndWorkTime!=null&&t.fieldsInfo.perriodEndWorkTime.accessWatchField?37:-1),o(3),y(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),h("placeholder",k(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),w("ngModel",t.dataModel.description),o(3),M("",p.value.length," / 500"),o(),v(p.errors!=null&&p.errors.required?45:-1),o(3),y(t.fieldsInfo.memo==null?null:t.fieldsInfo.memo.fieldTitle),o(),h("placeholder",k(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),w("ngModel",t.dataModel.memo),o(2),v(t.formInfo.submitButtonEnabled?51:-1),o(),h("label",k(C(53,116,"TITLE.Dispatch_variables"))),o(3),y(C(56,118,"TITLE.Port_settings")),o(2),h("formGroup",a.form),w("jsonValue",t.dataModel.privateConfigJsonValues),h("propertiesInfos",t.dataModel.privateConfigJsonFormatter),o(),v(t.formInfo.submitButtonEnabled?58:-1),o(),h("label",k(C(60,120,"TITLE.Api_path_send_variables"))),o(3),y(C(63,122,"TITLE.Set_acess")),o(2),v(t.fieldsInfo.apiSendMessageIsOn!=null&&t.fieldsInfo.apiSendMessageIsOn.accessWatchField?64:-1),o(3),y(t.fieldsInfo.apiSendMessageAddTextFirst==null?null:t.fieldsInfo.apiSendMessageAddTextFirst.fieldTitle),o(),h("placeholder",k(t.fieldsInfo.apiSendMessageAddTextFirst==null?null:t.fieldsInfo.apiSendMessageAddTextFirst.fieldTitle)),w("ngModel",t.dataModel.apiSendMessageAddTextFirst),o(3),M("",c.value.length," / 500"),o(),v(c.errors!=null&&c.errors.required?72:-1),o(3),y(t.fieldsInfo.apiSendMessageAddTextEnd==null?null:t.fieldsInfo.apiSendMessageAddTextEnd.fieldTitle),o(),h("placeholder",k(t.fieldsInfo.apiSendMessageAddTextEnd==null?null:t.fieldsInfo.apiSendMessageAddTextEnd.fieldTitle)),w("ngModel",t.dataModel.apiSendMessageAddTextEnd),o(3),M("",E.value.length," / 500"),o(),v(E.errors!=null&&E.errors.required?80:-1),o(3),y(t.fieldsInfo.sendMessageAddTextFirst==null?null:t.fieldsInfo.sendMessageAddTextFirst.fieldTitle),o(),h("placeholder",k(t.fieldsInfo.sendMessageAddTextFirst==null?null:t.fieldsInfo.sendMessageAddTextFirst.fieldTitle)),w("ngModel",t.dataModel.sendMessageAddTextFirst),o(3),M("",F.value.length," / 500"),o(),v(F.errors!=null&&F.errors.required?88:-1),o(3),y(t.fieldsInfo.sendMessageAddTextEnd==null?null:t.fieldsInfo.sendMessageAddTextEnd.fieldTitle),o(),h("placeholder",k(t.fieldsInfo.sendMessageAddTextEnd==null?null:t.fieldsInfo.sendMessageAddTextEnd.fieldTitle)),w("ngModel",t.dataModel.sendMessageAddTextEnd),o(3),M("",Ne.value.length," / 500"),o(),v(Ne.errors!=null&&Ne.errors.required?96:-1),o(),v(t.fieldsInfo.apiAbilitySendUnicodeMessage!=null&&t.fieldsInfo.apiAbilitySendUnicodeMessage.accessWatchField?97:-1),o(),v(t.fieldsInfo.apiAbilitySendNormalMessage!=null&&t.fieldsInfo.apiAbilitySendNormalMessage.accessWatchField?98:-1),o(),v(t.fieldsInfo.apiAllowSupersede!=null&&t.fieldsInfo.apiAllowSupersede.accessWatchField?99:-1),o(),v(t.fieldsInfo.apiAbilityUseWebservice!=null&&t.fieldsInfo.apiAbilityUseWebservice.accessWatchField?100:-1),o(),v(t.fieldsInfo.apiAbilityUseInside!=null&&t.fieldsInfo.apiAbilityUseInside.accessWatchField?101:-1),o(),v(t.formInfo.submitButtonEnabled?102:-1),o(),v(t.complatedView?103:-1),o(),h("label",k(C(105,124,"TITLE.Credit_return_status"))),o(2),v(t.fieldsInfo.serverDeliveryCostBase!=null&&t.fieldsInfo.serverDeliveryCostBase.accessWatchField?106:-1),o(2),v(t.fieldsInfo.statusOutOfServiceMonitorApiChar!=null&&t.fieldsInfo.statusOutOfServiceMonitorApiChar.accessWatchField?108:-1),o(),v(t.fieldsInfo.statusOutOfServiceActive!=null&&t.fieldsInfo.statusOutOfServiceActive.accessWatchField?109:-1),o(3),y(t.fieldsInfo.statusOutOfServiceExpire==null?null:t.fieldsInfo.statusOutOfServiceExpire.fieldTitle),o(),h("matDatepicker",tt),w("ngModel",t.dataModel.statusOutOfServiceExpire),o(),h("for",tt),o(),h("calendarHeaderComponent",t.datapickerHeader),o(2),v(t.fieldsInfo.statusNotStableMonitorApiChar!=null&&t.fieldsInfo.statusNotStableMonitorApiChar.accessWatchField?117:-1),o(),v(t.fieldsInfo.apiAbilityUseInside!=null&&t.fieldsInfo.apiAbilityUseInside.accessWatchField?118:-1),o(3),y(t.fieldsInfo.statusNotStableExpire==null?null:t.fieldsInfo.statusNotStableExpire.fieldTitle),o(),h("matDatepicker",Pe),w("ngModel",t.dataModel.statusNotStableExpire),o(),h("for",Pe),o(),h("calendarHeaderComponent",t.datapickerHeader),o(2),v(t.fieldsInfo.statusNotStableCount!=null&&t.fieldsInfo.statusNotStableCount.accessWatchField?126:-1),o(),v(t.fieldsInfo.statusNotStableCountLimit!=null&&t.fieldsInfo.statusNotStableCountLimit.accessWatchField?127:-1),o(),v(t.fieldsInfo.statusNotStableRunForMin!=null&&t.fieldsInfo.statusNotStableRunForMin.accessWatchField?128:-1),o(),v(t.formInfo.submitButtonEnabled?129:-1),o(),v(t.complatedView?130:-1),o(),v(t.complatedView?131:-1),o(),v(t.complatedView?132:-1),o(),v(t.complatedView?133:-1)}},dependencies:[_e,ne,bi,Je,oe,ge,fe,Be,Fe,he,Me,$a,Ot,Gt,Ht,Le,Ft,Ze,J,as,rs,ss,ls,os,Te,K,Ee,_s,ti,cr,ps,us,fs,Lo,Vo,H],encapsulation:2});var Bo=No;var Gu=["vform"];function Hu(n,l){if(n&1){let e=A();r(0,"app-cms-enum-record-status-selector",26),P("modelChange",function(t){u(e);let a=m();return T(a.dataModel.recordStatus,t)||(a.dataModel.recordStatus=t),f(t)}),s()}if(n&2){let e=m();w("model",e.dataModel.recordStatus),h("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Wu(n,l){n&1&&g(0,"i",17)}function Uu(n,l){n&1&&g(0,"i",18)}function qu(n,l){n&1&&(r(0,"mat-error"),d(1," Title is "),r(2,"strong"),d(3),S(4,"translate"),s()()),n&2&&(o(3),y(C(4,1,"MESSAGE.required")))}function ju(n,l){n&1&&(r(0,"mat-error"),d(1," Description is "),r(2,"strong"),d(3),S(4,"translate"),s()()),n&2&&(o(3),y(C(4,1,"MESSAGE.required")))}function Qu(n,l){if(n&1){let e=A();r(0,"div",14)(1,"label",27),d(2),s(),r(3,"input",28,3),P("ngModelChange",function(t){u(e);let a=m();return T(a.dataModel.maxProcessFlowAmount,t)||(a.dataModel.maxProcessFlowAmount=t),f(t)}),s()()}if(n&2){let e=m();o(2),y(e.fieldsInfo.maxProcessFlowAmount==null?null:e.fieldsInfo.maxProcessFlowAmount.fieldTitle),o(),w("ngModel",e.dataModel.maxProcessFlowAmount),h("disabled",!(e.fieldsInfo.maxProcessFlowAmount!=null&&e.fieldsInfo.maxProcessFlowAmount.accessAddField))}}function zu(n,l){if(n&1){let e=A();r(0,"div",14)(1,"label",29),d(2),s(),r(3,"input",30,4),P("ngModelChange",function(t){u(e);let a=m();return T(a.dataModel.minProcessFlowAmount,t)||(a.dataModel.minProcessFlowAmount=t),f(t)}),s()()}if(n&2){let e=m();o(2),y(e.fieldsInfo.minProcessFlowAmount==null?null:e.fieldsInfo.minProcessFlowAmount.fieldTitle),o(),w("ngModel",e.dataModel.minProcessFlowAmount),h("disabled",!(e.fieldsInfo.minProcessFlowAmount!=null&&e.fieldsInfo.minProcessFlowAmount.accessAddField))}}function Ku(n,l){if(n&1){let e=A();r(0,"div",14)(1,"label",31),d(2),s(),r(3,"input",32,5),P("ngModelChange",function(t){u(e);let a=m();return T(a.dataModel.fixFeeProcessFlowAmount,t)||(a.dataModel.fixFeeProcessFlowAmount=t),f(t)}),s()()}if(n&2){let e=m();o(2),y(e.fieldsInfo.fixFeeProcessFlowAmount==null?null:e.fieldsInfo.fixFeeProcessFlowAmount.fieldTitle),o(),w("ngModel",e.dataModel.fixFeeProcessFlowAmount),h("disabled",!(e.fieldsInfo.fixFeeProcessFlowAmount!=null&&e.fieldsInfo.fixFeeProcessFlowAmount.accessAddField))}}function Xu(n,l){if(n&1){let e=A();r(0,"div",14)(1,"label",33),d(2),s(),r(3,"input",34,6),P("ngModelChange",function(t){u(e);let a=m();return T(a.dataModel.percentFeeProcessFlowAmount,t)||(a.dataModel.percentFeeProcessFlowAmount=t),f(t)}),s()()}if(n&2){let e=m();o(2),y(e.fieldsInfo.percentFeeProcessFlowAmount==null?null:e.fieldsInfo.percentFeeProcessFlowAmount.fieldTitle),o(),w("ngModel",e.dataModel.percentFeeProcessFlowAmount),h("disabled",!(e.fieldsInfo.percentFeeProcessFlowAmount!=null&&e.fieldsInfo.percentFeeProcessFlowAmount.accessAddField))}}function Yu(n,l){if(n&1){let e=A();r(0,"div",25)(1,"button",35),I("click",function(){u(e);let t=m();return f(t.onFormCancel())}),g(2,"i",36),d(3),S(4,"translate"),s(),r(5,"button",37),g(6,"i",38),d(7),S(8,"translate"),s()()}if(n&2){m();let e=D(13);o(3),M(" ",C(4,3,"ACTION.CANCEL")," "),o(2),h("disabled",!e.form.valid),o(2),M(" ",C(8,5,"ACTION.SAVE")," ")}}var Fo=class Fo extends Ct{constructor(e,i,t,a,p,c,E,F){super(a,new Qt,c,F);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.smsMainApiPathService=a;this.cmsToastrService=p;this.publicHelper=c;this.cdr=E;this.translate=F;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new q;this.dataModel=new Qt;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,e&&e.id&&(this.requestId=e.id),e&&e.linkApiPathCompanyId&&(this.dataModel.linkApiPathCompanyId=e.linkApiPathCompanyId+""),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.requestId&&this.requestId.length>0?(this.translate.get("TITLE.ADD").subscribe(e=>{this.formInfo.formTitle=e+" copy"}),this.DataClone()):this.translate.get("TITLE.ADD").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess()}DataClone(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.smsMainApiPathService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),i.isSuccess?(this.dataModel=i.item,i.item.title=i.item.title+" copy",this.formInfo.formTitle=this.formInfo.formTitle,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.smsMainApiPathService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success}),this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorSelectLinkApiPathCompanyId(e){if(!e||e.id.length<=0){this.translate.get("MESSAGE.Service_company_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkApiPathCompanyId=e.id}onActionSelectSource(e){this.dataModel.linkPublicConfigId=null,e&&e.id?.length>0&&(this.dataModel.linkPublicConfigId=e.id)}onFormSubmit(){if(this.formGroup.valid){if(!this.dataModel.linkApiPathCompanyId||this.dataModel.linkApiPathCompanyId.length==0){this.translate.get("MESSAGE.Service_company_is_not_clear").subscribe(e=>{this.cmsToastrService.typeErrorSelected(e)});return}if(!this.dataModel.linkPublicConfigId||this.dataModel.linkPublicConfigId.length==0){this.translate.get("MESSAGE.Service_type_is_not_clear").subscribe(e=>{this.cmsToastrService.typeErrorSelected(e)});return}this.formInfo.submitButtonEnabled=!1,this.DataAddContent()}}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Fo.\u0275fac=function(i){return new(i||Fo)(_(ve),_(be),_(Re),_(St),_(W),_(U),_(G),_(O))},Fo.\u0275cmp=N({type:Fo,selectors:[["app-sms-apipath-add"]],viewQuery:function(i,t){if(i&1&&ee(Gu,5),i&2){let a;te(a=ie())&&(t.formGroup=a.first)}},standalone:!1,features:[X],decls:46,vars:42,consts:[["vform","ngForm"],["Title",""],["Description",""],["MaxProcessFlowAmount",""],["MinProcessFlowAmount",""],["FixFeeProcessFlowAmount",""],["PercentFeeProcessFlowAmount",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[3,"optionChange","optionSelectForce","optionPlaceholder"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.memo",1,"color-highlight"],["matInput","","name","dataModel.memo","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.memo",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"form-actions"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.maxProcessFlowAmount",1,"color-highlight"],["matInput","","type","text","name","dataModel.maxProcessFlowAmount","type","number","placeholder","Currency Unit Ratio By Shop","id","dataModel.maxProcessFlowAmount",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.minProcessFlowAmount",1,"color-highlight"],["matInput","","type","text","name","dataModel.minProcessFlowAmount","type","number","placeholder","Min Transaction Amount","id","dataModel.minProcessFlowAmount",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.fixFeeProcessFlowAmount",1,"color-highlight"],["matInput","","type","text","name","dataModel.fixFeeProcessFlowAmount","type","number","placeholder","Max Transaction Amount","id","dataModel.fixFeeProcessFlowAmount",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.percentFeeProcessFlowAmount",1,"color-highlight"],["matInput","","type","text","name","dataModel.percentFeeProcessFlowAmount","type","number","placeholder","Percent Fee Transaction Amount","id","dataModel.percentFeeProcessFlowAmount",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let a=A();r(0,"div",7),g(1,"app-progress-spinner",8),r(2,"div",9)(3,"p",10),d(4),s(),r(5,"h4"),d(6),S(7,"translate"),s(),r(8,"p"),d(9),S(10,"translate"),s(),g(11,"app-cms-form-result-message",11),r(12,"form",12,0),I("ngSubmit",function(){return u(a),f(t.onFormSubmit())}),b(14,Hu,1,5,"app-cms-enum-record-status-selector",13),r(15,"div",14)(16,"label",15),d(17),s(),r(18,"input",16,1),P("ngModelChange",function(c){return u(a),T(t.dataModel.title,c)||(t.dataModel.title=c),f(c)}),s(),b(20,Wu,1,0,"i",17),b(21,Uu,1,0,"i",18),r(22,"em"),d(23),s(),b(24,qu,5,3,"mat-error"),s(),r(25,"app-sms-apipathcompany-selector",19),S(26,"translate"),I("optionChange",function(c){return u(a),f(t.onActionSelectorSelectLinkApiPathCompanyId(c))}),s(),r(27,"app-sms-publicconfig-selector",20),S(28,"translate"),I("optionChange",function(c){return u(a),f(t.onActionSelectSource(c))}),s(),r(29,"div",14)(30,"label",21),d(31),s(),r(32,"textarea",22,2),P("ngModelChange",function(c){return u(a),T(t.dataModel.description,c)||(t.dataModel.description=c),f(c)}),s(),r(34,"em"),d(35),s(),b(36,ju,5,3,"mat-error"),s(),b(37,Qu,5,3,"div",14),b(38,zu,5,3,"div",14),b(39,Ku,5,3,"div",14),b(40,Xu,5,3,"div",14),r(41,"div",14)(42,"label",23),d(43),s(),r(44,"textarea",24),P("ngModelChange",function(c){return u(a),T(t.dataModel.memo,c)||(t.dataModel.memo=c),f(c)}),s()(),b(45,Yu,9,7,"div",25),s()()()}if(i&2){let a=D(19),p=D(33);o(),h("optionsInfoAreaId",t.constructorInfoAreaId),o(3),M(" ",t.formInfo.formTitle," "),o(2),y(C(7,34,"TITLE.ROUTE_SETTINGS")),o(3),M(" ",C(10,36,"TITLE.ROUTE_SETTINGS_DESCRIPTION")," "),o(2),h("formInfo",t.formInfo),o(3),v(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?14:-1),o(3),y(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),h("placeholder",k(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),w("ngModel",t.dataModel.title),o(2),v(a.value?-1:20),o(),v(a.value?21:-1),o(2),M("",a.value.length," / 100"),o(),v(a.errors!=null&&a.errors.required?24:-1),o(),h("optionSelectForce",t.dataModel.linkApiPathCompanyId)("optionPlaceholder",C(26,38,"TITLE.Service_Company")),o(2),h("optionDisabled",!(t.fieldsInfo.linkPublicConfigId!=null&&t.fieldsInfo.linkPublicConfigId.accessAddField))("optionSelectForce",t.dataModel.linkPublicConfigId)("optionPlaceholder",C(28,40,"TITLE.Account_Type")),o(4),y(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),h("placeholder",k(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),w("ngModel",t.dataModel.description),o(3),M("",p.value.length," / 500"),o(),v(p.errors!=null&&p.errors.required?36:-1),o(),v(t.fieldsInfo.maxProcessFlowAmount!=null&&t.fieldsInfo.maxProcessFlowAmount.accessWatchField?37:-1),o(),v(t.fieldsInfo.minProcessFlowAmount!=null&&t.fieldsInfo.minProcessFlowAmount.accessWatchField?38:-1),o(),v(t.fieldsInfo.fixFeeProcessFlowAmount!=null&&t.fieldsInfo.fixFeeProcessFlowAmount.accessWatchField?39:-1),o(),v(t.fieldsInfo.percentFeeProcessFlowAmount!=null&&t.fieldsInfo.percentFeeProcessFlowAmount.accessWatchField?40:-1),o(3),y(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),h("placeholder",k(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),w("ngModel",t.dataModel.memo),o(),v(t.formInfo.submitButtonEnabled?45:-1)}},dependencies:[_e,ne,bi,oe,ge,fe,Be,Fe,he,Me,Le,J,Te,K,Ee,ti,Lo,Vo,H],encapsulation:2});var An=Fo;var Ju=["vform"];function Zu(n,l){n&1&&(r(0,"mat-error"),d(1),S(2,"translate"),r(3,"strong"),d(4),S(5,"translate"),s()()),n&2&&(o(),M(" ",C(2,2,"MESSAGE.Message_Text")," "),o(3),y(C(5,4,"MESSAGE.required")))}function $u(n,l){if(n&1&&g(0,"app-cms-json-list",28),n&2){let e=m();h("dataModel",e.dataModelResult.item)("optionMethod",1)}}function e0(n,l){if(n&1&&(r(0,"button",32),g(1,"i",33),d(2),S(3,"translate"),s()),n&2){m(2);let e=D(10);h("disabled",!e.valid),o(2),M(" ",C(3,2,"ACTION.Send_Message")," ")}}function t0(n,l){if(n&1){let e=A();r(0,"div",29)(1,"button",30),I("click",function(){u(e);let t=m();return f(t.onFormCancel())}),g(2,"i",31),d(3),S(4,"translate"),s(),b(5,e0,4,4,"button",32),s()}if(n&2){let e=m();o(3),M(" ",C(4,2,"ACTION.CANCEL")," "),o(2),v(e.publicHelper.processService.process.inRunAll?-1:5)}}var Oo=class Oo{constructor(l,e,i,t,a,p,c,E,F){this.data=l;this.document=e;this.dialogRef=i;this.coreEnumService=t;this.cmsToastrService=a;this.cdr=p;this.publicHelper=c;this.translate=E;this.smsActionService=F;this.requestLinkApiPathId="";this.constructorInfoAreaId=this.constructor.name;this.dataModelParentSelected=new Qt;this.dataModel=new Kr;this.dataModelResult=new q;this.formInfo=new rr;this.publicHelper.processService.cdr=this.cdr,l&&l.linkApiPathId&&(this.requestLinkApiPathId=l.linkApiPathId)}ngOnInit(){if(this.requestLinkApiPathId.length<=0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.dataModel.linkApiPathId=this.requestLinkApiPathId}onActionSelectPrivateSiteConfig(l){this.dataModel.linkApiPathId=this.requestLinkApiPathId,this.dataModelParentSelected=l,l&&l.id?.length>0&&(this.dataModel.linkApiPathId=l.id)}onFormSubmit(){if(!this.formGroup.valid)return;(!this.dataModel.linkApiPathId||this.dataModel.linkApiPathId.length<=0)&&this.cmsToastrService.typeErrorFormInvalid(),this.formInfo.submitButtonEnabled=!1;let l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(l,e,this.constructorInfoAreaId)}),this.smsActionService.ServiceSendMessageTest(this.dataModel).subscribe({next:e=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=e,e.isSuccess?(this.translate.get("MESSAGE.Submit_request_was_successfully_registered").subscribe(i=>{this.formInfo.submitResultMessage=i,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1}),this.translate.get("MESSAGE.Send_request_was_successfully_registered").subscribe(i=>{this.cmsToastrService.typeSuccessMessage(i)})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(e.errorMessage)),this.publicHelper.processService.processStop(l)},error:e=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(l)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Oo.\u0275fac=function(e){return new(e||Oo)(_(ve),_(Or),_(be),_(Re),_(W),_(G),_(U),_(O),_(Zr))},Oo.\u0275cmp=N({type:Oo,selectors:[["app-sms-privateconfig-sendtest"]],viewQuery:function(e,i){if(e&1&&ee(Ju,5),e&2){let t;te(t=ie())&&(i.formGroup=t.first)}},standalone:!1,decls:58,vars:35,consts:[["vform","ngForm"],["FromNumber",""],["ToNumber",""],["Message",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"optionChange","optionPlaceholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.fromNumber",1,"color-highlight"],["matInput","","type","text","name","dataModel.fromNumber","minlength","0","maxlength","50","id","dataModel.fromNumber","placeholder","10000118",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.toNumber",1,"color-highlight"],["matInput","","type","text","name","dataModel.toNumber","minlength","0","maxlength","100","id","dataModel.toNumber","placeholder","0912",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.message",1,"color-highlight"],["matInput","","type","text","name","dataModel.message","minlength","1","maxlength","500","id","dataModel.message","placeholder","...",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.isFlash",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.isFlash","name","dataModel.isFlash",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.isFlash",1,"custom-control-label"],["data-trigger-switch","dataModel.sendByQueue",1,"font-600","font-14"],["type","checkbox","id","dataModel.sendByQueue","name","dataModel.sendByQueue",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.sendByQueue",1,"custom-control-label"],[3,"dataModel","optionMethod"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(e,i){if(e&1){let t=A();r(0,"div",4),g(1,"app-progress-spinner",5),r(2,"div",6)(3,"p",7),d(4),s(),r(5,"p"),d(6),S(7,"translate"),s(),g(8,"app-cms-form-result-message",8),r(9,"form",9,0),I("ngSubmit",function(){return u(t),f(i.onFormSubmit())}),r(11,"app-sms-apipath-selector",10),S(12,"translate"),I("optionChange",function(p){return u(t),f(i.onActionSelectPrivateSiteConfig(p))}),s(),r(13,"div",11)(14,"label",12),d(15),S(16,"translate"),s(),r(17,"input",13,1),P("ngModelChange",function(p){return u(t),T(i.dataModel.fromNumber,p)||(i.dataModel.fromNumber=p),f(p)}),s(),r(19,"em"),d(20),s()(),r(21,"div",11)(22,"label",14),d(23),S(24,"translate"),s(),r(25,"input",15,2),P("ngModelChange",function(p){return u(t),T(i.dataModel.toNumber,p)||(i.dataModel.toNumber=p),f(p)}),s(),r(27,"em"),d(28),s()(),r(29,"div",11)(30,"label",16),d(31),S(32,"translate"),s(),r(33,"input",17,3),P("ngModelChange",function(p){return u(t),T(i.dataModel.message,p)||(i.dataModel.message=p),f(p)}),s(),r(35,"em"),d(36),s(),b(37,Zu,6,6,"mat-error"),s(),r(38,"div",18)(39,"div",19)(40,"h5",20),d(41),S(42,"translate"),s()(),r(43,"div",21)(44,"div",22)(45,"input",23),P("ngModelChange",function(p){return u(t),T(i.dataModel.isFlash,p)||(i.dataModel.isFlash=p),f(p)}),s(),g(46,"label",24),s()()(),r(47,"div",18)(48,"div",19)(49,"h5",25),d(50),S(51,"translate"),s()(),r(52,"div",21)(53,"div",22)(54,"input",26),P("ngModelChange",function(p){return u(t),T(i.dataModel.sendByQueue,p)||(i.dataModel.sendByQueue=p),f(p)}),s(),g(55,"label",27),s()()(),b(56,$u,1,2,"app-cms-json-list",28),b(57,t0,6,4,"div",29),s()()()}if(e&2){let t=D(18),a=D(26),p=D(34);o(),h("optionsInfoAreaId",i.constructorInfoAreaId),o(3),M(" ",i.formInfo.formTitle," "),o(2),M(" ",C(7,21,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),h("formInfo",i.formInfo),o(3),h("optionPlaceholder",C(12,23,"TITLE.Direction")),o(4),y(C(16,25,"TITLE.sender_number")),o(2),w("ngModel",i.dataModel.fromNumber),o(3),M("",t.value.length," / 50"),o(3),y(C(24,27,"TITLE.Receiver_number")),o(2),w("ngModel",i.dataModel.toNumber),o(3),M("",a.value.length," / 100"),o(3),y(C(32,29,"MESSAGE.Message_Text")),o(2),w("ngModel",i.dataModel.message),o(3),M("",p.value.length," / 500"),o(),v(p.errors!=null&&p.errors.required?37:-1),o(4),M(" ",C(42,31,"TITLE.Send_as_flash")," "),o(4),w("ngModel",i.dataModel.isFlash),o(5),M(" ",C(51,33,"TITLE.Send_in_queue")," "),o(4),w("ngModel",i.dataModel.sendByQueue),o(2),v(i.dataModelResult!=null&&i.dataModelResult.item?56:-1),o(),v(i.formInfo.submitButtonEnabled?57:-1)}},dependencies:[_e,ne,Je,oe,ge,Be,Fe,he,Me,Le,J,K,vs,Ee,ci,H],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});var Go=Oo;var i0=()=>[5,10,20,100],n0=(n,l)=>l.id;function o0(n,l){if(n&1){let e=A();r(0,"button",21),S(1,"translate"),I("click",function(){u(e);let t=m();return f(t.onActionBackToParent())}),g(2,"i",22),s()}n&2&&ln("aria-label",k(C(1,2,"ACTION.BACK")))}function a0(n,l){if(n&1){let e=A();r(0,"div",12)(1,"app-cms-search-list",23),P("optionsChange",function(t){u(e);let a=m();return T(a.optionsSearch,t)||(a.optionsSearch=t),f(t)}),s()()}if(n&2){let e=m();o(),w("options",e.optionsSearch)}}function r0(n,l){if(n&1){let e=A();r(0,"div",13)(1,"app-cms-statist-list",23),P("optionsChange",function(t){u(e);let a=m();return T(a.optionsStatist,t)||(a.optionsStatist=t),f(t)}),s()()}if(n&2){let e=m();o(),w("options",e.optionsStatist)}}function s0(n,l){if(n&1&&(r(0,"div",24),g(1,"i",10),r(2,"span"),d(3),S(4,"translate"),S(5,"translate"),s()()),n&2){let e=m();ut("transform","translateY("+(e.pullToRefreshState.pullDistance>80?80:e.pullToRefreshState.pullDistance)+"px)"),B("refreshing",e.pullToRefreshState.isRefreshing),o(),B("rotation360",e.pullToRefreshState.isRefreshing),o(2),y(e.pullToRefreshState.isRefreshing?C(4,7,"ACTION.RELOADING"):C(5,9,"ACTION.PULL_TO_REFRESH"))}}function l0(n,l){if(n&1&&(r(0,"div",28),g(1,"img",37),S(2,"cmsthumbnail"),s()),n&2){let e=m().$implicit;o(),h("src",C(2,2,e.linkMainImageIdSrc),we)("alt",e.title)}}function c0(n,l){n&1&&(r(0,"div",29),g(1,"i",38),s())}function d0(n,l){if(n&1&&(r(0,"div",32),g(1,"i",39),d(2),S(3,"cmstitle"),s()),n&2){let e=m().$implicit,i=m(2);o(2),M(" ",Nt(3,1,e.linkApiPathCompanyId,i.dataModelCompanyResult.listItems)," ")}}function m0(n,l){if(n&1&&(r(0,"div",32),g(1,"i",40),d(2),S(3,"cmstitle"),s()),n&2){let e=m().$implicit,i=m(2);o(2),M(" ",Nt(3,1,e.linkPublicConfigId,i.dataModelPublicResult.listItems)," ")}}function p0(n,l){if(n&1&&(r(0,"div",36),g(1,"i",41),r(2,"span"),d(3),S(4,"localeDate"),s()()),n&2){let e=m().$implicit;o(3),y(C(4,1,e.updatedDate))}}function u0(n,l){if(n&1){let e=A();r(0,"div",26)(1,"div",27),I("click",function(){let t=u(e).$implicit,a=m(2);return f(a.onActionTableRowSelect(t))})("touchstart",function(t){let a=u(e).$implicit,p=m(2);return f(p.onItemTouchStart(t,a.id))})("touchmove",function(t){let a=u(e).$implicit,p=m(2);return f(p.onItemTouchMove(t,a.id))})("touchend",function(t){let a=u(e).$implicit,p=m(2);return f(p.onItemTouchEnd(t,a.id))}),b(2,l0,3,4,"div",28)(3,c0,2,0,"div",29),r(4,"div",30)(5,"div",31),d(6),s(),b(7,d0,4,4,"div",32),b(8,m0,4,4,"div",32),r(9,"div",33)(10,"div",34),g(11,"i",35),S(12,"statusIconClass"),s(),b(13,p0,5,3,"div",36),s()()()()}if(n&2){let e,i=l.$implicit,t=m(2);ut("transform","translateX("+(((e=t.swipeState.get(i.id))==null?null:e.offset)||0)+"px)"),o(),B("selected",i.id===(t.tableRowSelected==null?null:t.tableRowSelected.id)),se("aria-label",i.title),o(),v((i==null||i.linkMainImageIdSrc==null?null:i.linkMainImageIdSrc.length)>0?2:3),o(4),M(" ",i.title," "),o(),v(i.linkApiPathCompanyId?7:-1),o(),v(i.linkPublicConfigId?8:-1),o(3),h("ngClass",C(12,11,i.recordStatus)),o(2),v(i.updatedDate?13:-1)}}function f0(n,l){if(n&1&&(r(0,"div",16),Z(1,u0,14,13,"div",25,n0),s()),n&2){let e=m();o(),$(e.dataModelResult.listItems)}}function h0(n,l){n&1&&(r(0,"div",17)(1,"div",42),g(2,"i",43),s(),r(3,"div",44),d(4),S(5,"translate"),s()()),n&2&&(o(4),M(" ",C(5,1,"MESSAGE.no_information")," "))}function S0(n,l){if(n&1){let e=A();r(0,"button",45),S(1,"translate"),I("click",function(){u(e);let t=m();return f(t.onActionButtonNewRow())}),g(2,"i",46),s()}n&2&&se("aria-label",C(1,1,"ACTION.ADD"))}function C0(n,l){if(n&1){let e=A();r(0,"div",20)(1,"mat-paginator",47,0),I("page",function(t){u(e);let a=m();return f(a.onTablePageingData(t))}),s()()}if(n&2){let e=m();o(),h("length",(e.dataModelResult==null?null:e.dataModelResult.totalRowCount)||0)("pageIndex",((e.dataModelResult==null?null:e.dataModelResult.currentPageNumber)||1)-1)("pageSize",(e.dataModelResult==null?null:e.dataModelResult.rowPerPage)||10)("pageSizeOptions",xe(4,i0))}}var Ho=class Ho extends Qe{constructor(e,i,t,a,p,c,E,F,Ne,tt,Pe,It,z,Ha){super(e,new Qt,z,F,tt);this.contentService=e;this.smsMainApiPathCompanyService=i;this.smsMainApiPathPublicConfigService=t;this.activatedRoute=a;this.cmsToastrService=p;this.cmsConfirmationDialogService=c;this.router=E;this.tokenHelper=F;this.cdr=Ne;this.translate=tt;this.cmsStoreService=Pe;this.pageInfo=It;this.publicHelper=z;this.dialog=Ha;this.requestLinkSiteId=0;this.requestLinkCompanyId="";this.requestLinkPublicConfigId="";this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new Y;this.filterDataModelQueryBuilder=[];this.dataModelCoreCurrencyResult=new q;this.dataModelCompanyResult=new q;this.dataModelPublicResult=new q;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["linkMainImageIdSrc","recordStatus","title","LinkApiPathCompanyId","LinkPublicConfigId","position"];this.tabledisplayedColumnsMobileSource=["linkMainImageIdSrc","recordStatus","title","LinkApiPathCompanyId","LinkPublicConfigId","position"];this.unsubscribe=[];this.pullToRefreshState={isRefreshing:!1,startY:0,currentY:0,pullDistance:0,threshold:80};this.Math=Math;this.swipeState=new Map;this.SWIPE_THRESHOLD=100;this.SWIPE_MAX_OFFSET=120;this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:tn=>this.onSubmitOptionsSearch(tn)},this.filteModelContent.sortColumn="priority",this.filteModelContent.sortType=Q.Ascending}ngOnInit(){this.activatedRoute.snapshot.paramMap.get("LinkCompanyId")&&(this.requestLinkCompanyId=this.activatedRoute.snapshot.paramMap.get("LinkCompanyId")),this.activatedRoute.snapshot.paramMap.get("LinkSiteId")&&(this.requestLinkSiteId=+this.activatedRoute.snapshot.paramMap.get("LinkSiteId")||0),this.activatedRoute.snapshot.paramMap.get("LinkPublicConfigId")&&(this.requestLinkPublicConfigId=this.activatedRoute.snapshot.paramMap.get("LinkPublicConfigId"));let e=new V;if(this.requestLinkPublicConfigId?.length>0&&(e.propertyName="LinkPublicConfigId",e.value=this.requestLinkPublicConfigId,this.filteModelContent.filters.push(e)),this.requestLinkCompanyId.length>0){let i=new V;i.propertyName="LinkApiPathCompanyId",i.value=this.requestLinkCompanyId,this.filteModelContent.filters.push(i)}if(this.requestLinkSiteId>0){let i=new V;i.propertyName="linkSiteId",i.value=this.requestLinkSiteId,this.filteModelContent.filters.push(i)}this.filteModelContent.sortColumn="priority",this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(i=>i.tokenInfoStore).subscribe(i=>ae(this,null,function*(){this.tokenInfo=i,this.DataGetAll()}))),this.getApiCopmanyList(),this.getPublicConfig()}getPublicConfig(){let e=new Y;e.rowPerPage=100,this.smsMainApiPathPublicConfigService.ServiceGetAll(e).subscribe({next:i=>{this.dataModelPublicResult=i}})}getApiCopmanyList(){let e=new Y;e.rowPerPage=100,this.smsMainApiPathCompanyService.ServiceGetAll(e).subscribe({next:i=>{this.dataModelCompanyResult=i}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,["position"],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Qt);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));if(this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.categoryModelSelected&&this.categoryModelSelected.id.length>0){let t=new V;t.propertyName="LinkApiPathCompanyId",t.value=this.categoryModelSelected.id,i.filters.push(t)}this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=Q.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=Q.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=Q.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onTableDropRow(e){let i=this.tableSource.data.findIndex(a=>a===e.item.data),t=new Un;t.id=this.tableSource.data[i].id,t.centerId=this.tableSource.data[e.currentIndex].id,i>e.currentIndex?t.actionGo=nn.GoUp:t.actionGo=nn.GoDown,this.contentService.ServiceEditStep(t).subscribe({next:a=>{a.isSuccess?(qn(this.tableSource.data,i,e.currentIndex),this.tableSource.data=this.tableSource.data.slice()):this.cmsToastrService.typeErrorMessage(a.errorMessage)},error:a=>{this.cmsToastrService.typeError(a)}})}onActionButtonNewRow(){if((!this.requestLinkCompanyId||this.requestLinkCompanyId&&this.requestLinkCompanyId.length==0)&&(this.categoryModelSelected==null||this.categoryModelSelected.id.length===0)){this.translate.get("MESSAGE.Company_not_selected").subscribe(a=>{this.cmsToastrService.typeErrorSelected(a)});return}if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var e="";this.categoryModelSelected&&this.categoryModelSelected.id.length>0&&(e=this.categoryModelSelected.id),this.requestLinkCompanyId&&this.requestLinkCompanyId.length>0&&(e=this.requestLinkCompanyId);var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(An,{height:"90%",panelClass:i,enterAnimationDuration:j.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:j.cmsViewConfig.exitAnimationDuration,data:{linkApiPathCompanyId:e}}).afterClosed().subscribe(a=>{a&&a.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}this.router.navigate(["/sms/main/api-path/edit",this.tableRowSelected.id])}onActionButtonDeleteRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(a=>{this.cmsToastrService.typeErrorSelected(a)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(a=>{i=a["MESSAGE.Please_Confirm"],t=a["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(a=>{if(a){let p=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(p,c,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(p)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(p,!1)}})}}).catch(()=>{})}onActionSelectorSelect(e){var i=this.filteModelContent.sortColumn,t=this.filteModelContent.sortType;this.filteModelContent=new Y,this.filteModelContent.sortColumn=i,this.filteModelContent.sortType=t,this.filteModelContent.sortColumn="priority",this.categoryModelSelected=e,this.DataGetAll()}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{i.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{i.set(c,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(E=>{i.set(E,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}});let a=JSON.parse(JSON.stringify(this.filteModelContent)),p=new V;p.propertyName="recordStatus",p.value=ke.Available,a.filters.push(p),this.contentService.ServiceGetCount(a).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(E=>{i.set(E,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonGetBalance(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}let i=this.constructor.name+"GetBalance";this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructorInfoAreaId)}),this.contentService.ServiceGetBalance(e.id).subscribe({next:t=>{t.isSuccess?this.cmsToastrService.typeSuccessMessage(t.item.info+" "+t.item.status+" "+t.item.credit):this.cmsToastrService.typeErrorMessage(t.errorMessage+t.item.info+" "+t.item.status),this.publicHelper.processService.processStop(i)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(i,!1)}})}onActionButtonSendMessage(e=this.tableRowSelected,i){if(!e||!e.id||e.id.length==0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorSelected();return}if(i?.ctrlKey){let t="/#/sms/action/send-message/LinkApiPathId/"+this.tableRowSelected.id;window.open(t,"_blank")}else this.router.navigate(["/sms/action/send-message/LinkApiPathId",this.tableRowSelected.id])}onActionButtonNumbersList(e=this.tableRowSelected,i){if(!(e?.id?.length>0)){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorSelected();return}if(i?.ctrlKey){let t="/#/sms/main/api-number/LinkApiPathId/"+this.tableRowSelected.id;window.open(t,"_blank")}else this.router.navigate(["/sms/main/api-number/LinkApiPathId",this.tableRowSelected.id])}onActionButtonPermitionList(e=this.tableRowSelected,i){if(!(e?.id?.length>0)){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorSelected();return}this.router.navigate(["/sms/main/api-path-permission/LinkApiPathId",this.tableRowSelected.id])}onActionButtonOutBoxQueue(e=this.tableRowSelected,i){if(!(e?.id?.length>0)){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorSelected();return}if(i?.ctrlKey){let t="/#/sms/log/outbox-queue/LinkApiPathId/"+this.tableRowSelected.id;window.open(t,"_blank")}else this.router.navigate(["/sms/log/outbox-queue/LinkApiPathId",this.tableRowSelected.id])}onActionButtonCopy(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessAdd();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(An,{height:"90%",panelClass:i,enterAnimationDuration:j.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:j.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(a=>{a&&a.dialogChangedDate&&this.DataGetAll()})}onActionButtonPriceServicesList(e=this.tableRowSelected,i){if(!(e?.id?.length>0)){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorSelected();return}if(i?.ctrlKey){let t="/#/sms/main/api-path-pagination/LinkApiPathId/"+this.tableRowSelected.id;window.open(t,"_blank")}else this.router.navigate(["/sms/main/api-path-pagination/LinkApiPathId",this.tableRowSelected.id])}onActionButtonSendTest(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(a=>{this.cmsToastrService.typeErrorSelected(a)});return}this.onActionTableRowSelect(e);var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Go,{height:"90%",panelClass:i,enterAnimationDuration:j.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:j.cmsViewConfig.exitAnimationDuration,data:{linkApiPathId:this.tableRowSelected.id}}).afterClosed().subscribe(a=>{a&&a.dialogChangedDate&&this.DataGetAll()})}onActionButtonReportsRow(e=this.tableRowSelected,i){if(!(e?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}if(i?.ctrlKey){let t="/#/sms/log/api-path/LinkApiPathId/"+this.tableRowSelected.id;window.open(t,"_blank")}else this.router.navigate(["/sms/log/api-path/LinkApiPathId",this.tableRowSelected.id])}onActionButtonReload(){this.filteModelContent.sortColumn="priority",this.DataGetAll()}onItemTouchStart(e,i){e.stopPropagation();let t=e.touches[0];this.swipeState.set(i,{startX:t.clientX,currentX:t.clientX,offset:0})}onItemTouchMove(e,i){e.stopPropagation();let t=this.swipeState.get(i);if(!t)return;let a=e.touches[0];t.currentX=a.clientX;let p=t.currentX-t.startX,c=document.documentElement.dir==="rtl",E=c?this.SWIPE_MAX_OFFSET:-this.SWIPE_MAX_OFFSET,F=c?-this.SWIPE_MAX_OFFSET:this.SWIPE_MAX_OFFSET;t.offset=Math.max(F,Math.min(E,p))}onItemTouchEnd(e,i){e.stopPropagation();let t=this.swipeState.get(i);if(!t)return;let a=document.documentElement.dir==="rtl",p=a?this.SWIPE_THRESHOLD:-this.SWIPE_THRESHOLD;a&&t.offset>p||!a&&t.offset<p||(t.offset=0),this.swipeState.set(i,t)}onTouchStart(e){let t=e.target.closest(".cms-m-content");t&&t.scrollTop===0&&(this.pullToRefreshState.startY=e.touches[0].clientY,this.pullToRefreshState.isRefreshing=!1)}onTouchMove(e){let t=e.target.closest(".cms-m-content");t&&t.scrollTop===0&&this.pullToRefreshState.startY>0&&(this.pullToRefreshState.currentY=e.touches[0].clientY,this.pullToRefreshState.pullDistance=Math.max(0,this.pullToRefreshState.currentY-this.pullToRefreshState.startY),this.pullToRefreshState.pullDistance>10&&e.preventDefault())}onTouchEnd(e){this.pullToRefreshState.pullDistance>=this.pullToRefreshState.threshold&&!this.pullToRefreshState.isRefreshing?(this.pullToRefreshState.isRefreshing=!0,this.onActionButtonReload(),setTimeout(()=>{this.pullToRefreshState.isRefreshing=!1,this.pullToRefreshState.pullDistance=0,this.pullToRefreshState.startY=0,this.pullToRefreshState.currentY=0},1e3)):(this.pullToRefreshState.pullDistance=0,this.pullToRefreshState.startY=0,this.pullToRefreshState.currentY=0)}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/sms/main/api-path-company"])}};Ho.\u0275fac=function(i){return new(i||Ho)(_(St),_($t),_(si),_(Xe),_(W),_(Oe),_(He),_(Ce),_(G),_(O),_(Ae),_(je),_(U),_(Se))},Ho.\u0275cmp=N({type:Ho,selectors:[["app-sms-apipath-list-mobile"]],standalone:!1,features:[X],decls:27,vars:26,consts:[["paginator",""],[1,"cms-m-body","loader-container"],[3,"optionsInfoAreaId"],[1,"cms-m-header","safe-area-top"],[1,"cms-m-header-content"],["type","button",1,"cms-m-back-btn",3,"aria-label"],[1,"cms-m-header-title"],[1,"cms-m-header-actions"],["type","button",1,"cms-m-header-action-btn",3,"click"],["aria-hidden","true",1,"fa-solid","fa-magnifying-glass"],["aria-hidden","true",1,"fa-solid","fa-rotate-right"],["aria-hidden","true",1,"fa-solid","fa-chart-bar"],[1,"cms-m-search-area","safe-area-content"],[1,"cms-m-statist-area","safe-area-content"],[1,"cms-m-pull-refresh-indicator",3,"transform","refreshing"],[1,"cms-m-content","safe-area-content",3,"touchstart","touchmove","touchend"],[1,"cms-m-list"],[1,"cms-m-empty-state"],[1,"cms-m-footer","safe-area-bottom"],[1,"cms-m-fab"],[1,"cms-m-pagination-wrapper"],["type","button",1,"cms-m-back-btn",3,"click","aria-label"],["aria-hidden","true",1,"fa-solid","fa-arrow-right"],[3,"optionsChange","options"],[1,"cms-m-pull-refresh-indicator"],[1,"cms-m-list-item-wrapper",3,"transform"],[1,"cms-m-list-item-wrapper"],["role","button","tabindex","0",1,"cms-m-list-item",3,"click","touchstart","touchmove","touchend"],[1,"cms-m-list-item-image"],[1,"cms-m-list-item-image-placeholder"],[1,"cms-m-list-item-content"],[1,"cms-m-list-item-title"],[1,"cms-m-list-item-subtitle"],[1,"cms-m-list-item-footer"],[1,"cms-m-list-item-status"],["aria-hidden","true",3,"ngClass"],[1,"cms-m-list-item-date"],["loading","lazy",3,"src","alt"],["aria-hidden","true",1,"fa-solid","fa-link"],["aria-hidden","true",1,"fa-solid","fa-building"],["aria-hidden","true",1,"fa-solid","fa-cog"],["aria-hidden","true",1,"fa-solid","fa-clock"],[1,"cms-m-empty-state-icon"],["aria-hidden","true",1,"fa-solid","fa-inbox"],[1,"cms-m-empty-state-text"],[1,"cms-m-fab",3,"click"],["aria-hidden","true",1,"fa-solid","fa-plus"],[3,"page","length","pageIndex","pageSize","pageSizeOptions"]],template:function(i,t){i&1&&(r(0,"div",1),g(1,"app-progress-spinner",2),r(2,"div",3)(3,"div",4),b(4,o0,3,4,"button",5),r(5,"h1",6),d(6),S(7,"translate"),s(),r(8,"div",7)(9,"button",8),S(10,"translate"),I("click",function(){return t.optionsSearch.data.show=!t.optionsSearch.data.show}),g(11,"i",9),s(),r(12,"button",8),S(13,"translate"),I("click",function(){return t.onActionButtonReload()}),g(14,"i",10),s(),r(15,"button",8),S(16,"translate"),I("click",function(){return t.onActionButtonStatist()}),g(17,"i",11),s()()()(),b(18,a0,2,1,"div",12),b(19,r0,2,1,"div",13),b(20,s0,6,11,"div",14),r(21,"div",15),I("touchstart",function(p){return t.onTouchStart(p)})("touchmove",function(p){return t.onTouchMove(p)})("touchend",function(p){return t.onTouchEnd(p)}),b(22,f0,3,0,"div",16)(23,h0,6,3,"div",17),s(),r(24,"div",18),b(25,S0,3,3,"button",19),b(26,C0,3,5,"div",20),s()()),i&2&&(o(),h("optionsInfoAreaId",t.constructorInfoAreaId),o(3),v((t.requestLinkCompanyId==null?null:t.requestLinkCompanyId.length)>0?4:-1),o(2),M(" ",C(7,18,"ROUTE.SMS.MAIN")," "),o(3),B("active",t.optionsSearch.data.show),se("aria-label",C(10,20,"ACTION.SEARCH")),o(3),se("aria-label",C(13,22,"ACTION.RELOAD")),o(2),B("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(),B("active",t.optionsStatist==null||t.optionsStatist.data==null?null:t.optionsStatist.data.show),se("aria-label",C(16,24,"ACTION.STATIST")),o(3),v(t.optionsSearch.data.show?18:-1),o(),v(!(t.optionsStatist==null||t.optionsStatist.data==null)&&t.optionsStatist.data.show?19:-1),o(),v(t.pullToRefreshState.pullDistance>0?20:-1),o(2),v(t.dataModelResult!=null&&t.dataModelResult.listItems&&t.dataModelResult.listItems.length>0?22:23),o(3),v(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessAddRow?25:-1),o(),v((t.dataModelResult==null?null:t.dataModelResult.totalRowCount)>0?26:-1))},dependencies:[Ge,Ie,We,Ue,K,H,Yi,dt,st,qe],styles:['@charset "UTF-8";.cms-m-content[_ngcontent-%COMP%]{padding:8px var(--cms-m-spacing-md);padding-bottom:calc(8px + env(safe-area-inset-bottom));position:relative;touch-action:pan-y}.cms-m-header-spacer[_ngcontent-%COMP%]{flex:1}@media (max-width: 375px){.cms-m-list-item[_ngcontent-%COMP%]{padding:10px 12px}.cms-m-list-item-image[_ngcontent-%COMP%], .cms-m-list-item-image-placeholder[_ngcontent-%COMP%]{width:48px;height:48px}.cms-m-action-btn[_ngcontent-%COMP%]{width:40px;height:40px;min-width:40px;min-height:40px}}@media screen and (-webkit-min-device-pixel-ratio: 0){.cms-m-list-item[_ngcontent-%COMP%]{will-change:transform}}']});var En=Ho;var g0=["vform"];function M0(n,l){if(n&1){let e=A();r(0,"app-cms-enum-record-status-selector",23),P("modelChange",function(t){u(e);let a=m();return T(a.dataModel.recordStatus,t)||(a.dataModel.recordStatus=t),f(t)}),s()}if(n&2){let e=m();w("model",e.dataModel.recordStatus),h("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function _0(n,l){n&1&&g(0,"i",17)}function b0(n,l){n&1&&g(0,"i",18)}function v0(n,l){n&1&&(r(0,"mat-error"),d(1," Title is "),r(2,"strong"),d(3),S(4,"translate"),s()()),n&2&&(o(3),y(C(4,1,"MESSAGE.required")))}function I0(n,l){if(n&1){let e=A();r(0,"app-cms-user-selector",24),S(1,"translate"),I("optionChange",function(t){u(e);let a=m();return f(a.onActionSelectorUser(t))}),s()}if(n&2){let e=m();h("optionSelectForce",e.dataModel.linkCoreUserId)("optionPlaceholder",C(1,4,"TITLE.USER"))("optionDisabled",!((e.fieldsInfo.linkCoreUserId==null?null:e.fieldsInfo.linkCoreUserId.accessEditField)??!1))("optionLabel",e.fieldsInfo.linkCoreUserId==null?null:e.fieldsInfo.linkCoreUserId.fieldTitle)}}function A0(n,l){if(n&1){let e=A();r(0,"div",20)(1,"label",25),d(2),s(),r(3,"input",26),P("ngModelChange",function(t){u(e);let a=m();return T(a.dataModel.fromDate,t)||(a.dataModel.fromDate=t),f(t)}),s(),g(4,"mat-datepicker-toggle",27)(5,"mat-datepicker",28,2),s()}if(n&2){let e=D(6),i=m();o(2),y(i.fieldsInfo.fromDate==null?null:i.fieldsInfo.fromDate.fieldTitle),o(),h("matDatepicker",e),w("ngModel",i.dataModel.fromDate),h("disabled",!(i.fieldsInfo.fromDate!=null&&i.fieldsInfo.fromDate.accessEditField)),o(),h("for",e),o(),h("calendarHeaderComponent",i.datapickerHeader)}}function E0(n,l){if(n&1){let e=A();r(0,"div",20)(1,"label",29),d(2),s(),r(3,"input",30),P("ngModelChange",function(t){u(e);let a=m();return T(a.dataModel.expireDate,t)||(a.dataModel.expireDate=t),f(t)}),s(),g(4,"mat-datepicker-toggle",27)(5,"mat-datepicker",28,3),s()}if(n&2){let e=D(6),i=m();o(2),y(i.fieldsInfo.expireDate==null?null:i.fieldsInfo.expireDate.fieldTitle),o(),h("matDatepicker",e),w("ngModel",i.dataModel.expireDate),h("disabled",!(i.fieldsInfo.expireDate!=null&&i.fieldsInfo.expireDate.accessEditField)),o(),h("for",e),o(),h("calendarHeaderComponent",i.datapickerHeader)}}function y0(n,l){if(n&1){let e=A();r(0,"div",14)(1,"label",31),d(2),s(),r(3,"textarea",32,4),P("ngModelChange",function(t){u(e);let a=m();return T(a.dataModel.description,t)||(a.dataModel.description=t),f(t)}),s(),r(5,"em"),d(6),s()()}if(n&2){let e=D(4),i=m();o(2),y(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle),o(),h("placeholder",k(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle)),w("ngModel",i.dataModel.description),h("disabled",!(i.fieldsInfo.description!=null&&i.fieldsInfo.description.accessEditField)),o(3),M("",(e.value==null?null:e.value.length)||0," / 500")}}function w0(n,l){if(n&1){let e=A();r(0,"div",14)(1,"label",33),d(2),s(),r(3,"input",34,5),P("ngModelChange",function(t){u(e);let a=m();return T(a.dataModel.apiKey,t)||(a.dataModel.apiKey=t),f(t)}),s(),r(5,"em"),d(6),s()()}if(n&2){let e=D(4),i=m();o(2),y(i.fieldsInfo.apiKey==null?null:i.fieldsInfo.apiKey.fieldTitle),o(),h("placeholder",k(i.fieldsInfo.apiKey==null?null:i.fieldsInfo.apiKey.fieldTitle)),w("ngModel",i.dataModel.apiKey),h("disabled",!(i.fieldsInfo.apiKey!=null&&i.fieldsInfo.apiKey.accessEditField)),o(3),M("",(e.value==null?null:e.value.length)||0," / 500")}}function T0(n,l){if(n&1){let e=A();r(0,"span",42),d(1),r(2,"i",43),I("click",function(){let t=u(e).$implicit,a=m(3);return f(a.onActionRemoveFirewallIP(t))}),s()()}if(n&2){let e=l.$implicit;o(),M(" ",e," ")}}function P0(n,l){if(n&1&&(r(0,"div",41),Z(1,T0,3,1,"span",42,ja),s()),n&2){let e=m(2);o(),$(e.dataModel.firewallAllowIPList)}}function R0(n,l){if(n&1){let e=A();r(0,"div",21)(1,"div",35)(2,"label",36),d(3),s(),r(4,"div",37)(5,"input",38,6),P("ngModelChange",function(t){u(e);let a=m();return T(a.firewallAllowIPInput,t)||(a.firewallAllowIPInput=t),f(t)}),s(),r(7,"button",39),I("click",function(){u(e);let t=m();return f(t.onActionAddFirewallIP())}),g(8,"i",40),s()()(),b(9,P0,3,0,"div",41),s()}if(n&2){let e=m();o(3),y(e.fieldsInfo.firewallAllowIP==null?null:e.fieldsInfo.firewallAllowIP.fieldTitle),o(2),h("placeholder",k(e.fieldsInfo.firewallAllowIP==null?null:e.fieldsInfo.firewallAllowIP.fieldTitle)),w("ngModel",e.firewallAllowIPInput),h("disabled",!(e.fieldsInfo.firewallAllowIP!=null&&e.fieldsInfo.firewallAllowIP.accessEditField)),o(2),h("disabled",!e.firewallAllowIPInput||e.firewallAllowIPInput.length===0),o(2),v(e.dataModel.firewallAllowIPList&&e.dataModel.firewallAllowIPList.length>0?9:-1)}}function x0(n,l){if(n&1){let e=A();r(0,"div",22)(1,"button",44),I("click",function(){u(e);let t=m();return f(t.onFormCancel())}),g(2,"i",45),d(3),S(4,"translate"),s(),r(5,"button",46),g(6,"i",47),d(7),S(8,"translate"),s()()}if(n&2){m();let e=D(10);o(3),M(" ",C(4,3,"ACTION.CANCEL")," "),o(2),h("disabled",!e.form.valid),o(2),M(" ",C(8,5,"ACTION.SAVE")," ")}}var Wo=class Wo extends Ct{constructor(e,i,t,a,p,c,E,F){super(a,new Ti,c,F);this.data=e;this.dialogRef=i;this.smsEnumService=t;this.smsMainClientApplicationService=a;this.cmsToastrService=p;this.publicHelper=c;this.cdr=E;this.translate=F;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new q;this.dataModel=new Ti;this.fileManagerOpenForm=!1;this.firewallAllowIPInput="";this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),e&&e.linkUserId&&+e.linkUserId>0&&(this.dataModel.linkCoreUserId=+e.linkUserId)}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess()}syncFirewallAllowIPFromList(){this.dataModel.firewallAllowIPList&&this.dataModel.firewallAllowIPList.length>0?this.dataModel.firewallAllowIP=this.dataModel.firewallAllowIPList.join(","):this.dataModel.firewallAllowIP=""}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.syncFirewallAllowIPFromList(),this.smsMainClientApplicationService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success}),this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0,model:i.item})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}onActionSelectorUser(e){if(!e||!e.id){this.dataModel.linkCoreUserId=null;return}this.dataModel.linkCoreUserId=e.id}onActionSelectorSite(e){if(!e||!e.id){this.dataModel.linkSiteId=null;return}this.dataModel.linkSiteId=e.id}validateIPFormat(e){if(!e||e.trim().length===0)return!1;let i=/^(\d{1,3}\.){3}\d{1,3}$/,t=/^(\d{1,3}\.){3}\d{1,3}\/\d{1,2}$/,a=/^(\d{1,3}\.){3}\d{1,3}-(\d{1,3}\.){3}\d{1,3}$/;if(i.test(e))return e.split(".").every(c=>parseInt(c,10)>=0&&parseInt(c,10)<=255);if(t.test(e)){let[p,c]=e.split("/"),E=parseInt(c,10);return E<0||E>32?!1:p.split(".").every(Ne=>parseInt(Ne,10)>=0&&parseInt(Ne,10)<=255)}if(a.test(e)){let[p,c]=e.split("-"),E=p.split("."),F=c.split("."),Ne=E.every(Pe=>parseInt(Pe,10)>=0&&parseInt(Pe,10)<=255),tt=F.every(Pe=>parseInt(Pe,10)>=0&&parseInt(Pe,10)<=255);return Ne&&tt}return!1}onActionAddFirewallIP(){if(!this.firewallAllowIPInput||this.firewallAllowIPInput.trim().length===0)return;let e=this.firewallAllowIPInput.trim();if(!this.validateIPFormat(e)){this.translate.get("ERRORMESSAGE.MESSAGE.Invalid_IP_Format").subscribe(i=>{this.cmsToastrService.typeErrorMessage(i||"Invalid IP format")});return}this.dataModel.firewallAllowIPList||(this.dataModel.firewallAllowIPList=[]),this.dataModel.firewallAllowIPList.includes(e)||(this.dataModel.firewallAllowIPList=[...this.dataModel.firewallAllowIPList,e]),this.dataModel.firewallAllowIPList.length>0&&(this.dataModel.firewallAllowIP=this.dataModel.firewallAllowIPList.join(",")),this.firewallAllowIPInput=""}onActionRemoveFirewallIP(e){if(!this.dataModel.firewallAllowIPList)return;this.dataModel.firewallAllowIPList.indexOf(e)>-1&&(this.dataModel.firewallAllowIPList=this.dataModel.firewallAllowIPList.filter(t=>t!==e)),this.dataModel.firewallAllowIPList.length>0?this.dataModel.firewallAllowIP=this.dataModel.firewallAllowIPList.join(","):this.dataModel.firewallAllowIP=""}};Wo.\u0275fac=function(i){return new(i||Wo)(_(ve),_(be),_(Ye),_(Qi),_(W),_(U),_(G),_(O))},Wo.\u0275cmp=N({type:Wo,selectors:[["app-sms-client-application-add"]],viewQuery:function(i,t){if(i&1&&ee(g0,5),i&2){let a;te(a=ie())&&(t.formGroup=a.first)}},standalone:!1,features:[X],decls:29,vars:22,consts:[["vform","ngForm"],["Title",""],["FromDate",""],["ExpireDate",""],["Description",""],["ApiKey",""],["FirewallAllowIPInput",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[3,"optionSelectForce","optionPlaceholder","optionDisabled","optionLabel"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],[1,"mb-4"],[1,"form-actions"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"optionChange","optionSelectForce","optionPlaceholder","optionDisabled","optionLabel"],["for","dataModel.fromDate",1,"color-highlight"],["matInput","","type","text","name","dataModel.fromDate","id","dataModel.fromDate",1,"form-control","validate-name",3,"ngModelChange","matDatepicker","ngModel","disabled"],["matSuffix","",3,"for"],["touchUi","",3,"calendarHeaderComponent"],["for","dataModel.expireDate",1,"color-highlight"],["matInput","","type","text","name","dataModel.expireDate","id","dataModel.expireDate",1,"form-control","validate-name",3,"ngModelChange","matDatepicker","ngModel","disabled"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.apiKey",1,"color-highlight"],["matInput","","type","text","name","dataModel.apiKey","id","dataModel.apiKey",1,"form-control","validate-name","input-ltr",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field"],["for","firewallAllowIPInput",1,"color-highlight"],[1,"d-flex"],["matInput","","type","text","name","firewallAllowIPInput","id","firewallAllowIPInput",1,"form-control","validate-name","input-ltr",3,"ngModelChange","ngModel","placeholder","disabled"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"click","disabled"],[1,"fa","fa-plus"],[1,"d-flex","flex-wrap","mt-2",2,"gap","0.5rem"],[1,"badge","bg-info","d-inline-flex","align-items-center","font-13"],[1,"fa","fa-times","ms-2",2,"cursor","pointer",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let a=A();r(0,"div",7),g(1,"app-progress-spinner",8),r(2,"div",9)(3,"p",10),d(4),s(),r(5,"p"),d(6),S(7,"translate"),s(),g(8,"app-cms-form-result-message",11),r(9,"form",12,0),I("ngSubmit",function(){return u(a),f(t.onFormSubmit())}),b(11,M0,1,5,"app-cms-enum-record-status-selector",13),r(12,"div",14)(13,"label",15),d(14),s(),r(15,"input",16,1),P("ngModelChange",function(c){return u(a),T(t.dataModel.title,c)||(t.dataModel.title=c),f(c)}),s(),b(17,_0,1,0,"i",17),b(18,b0,1,0,"i",18),r(19,"em"),d(20),s(),b(21,v0,5,3,"mat-error"),s(),b(22,I0,2,6,"app-cms-user-selector",19),b(23,A0,7,6,"div",20),b(24,E0,7,6,"div",20),b(25,y0,7,6,"div",14),b(26,w0,7,6,"div",14),b(27,R0,10,7,"div",21),b(28,x0,9,7,"div",22),s()()()}if(i&2){let a=D(16);o(),h("optionsInfoAreaId",t.constructorInfoAreaId),o(3),M(" ",t.formInfo.formTitle," "),o(2),M(" ",C(7,20,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),h("formInfo",t.formInfo),o(3),v(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?11:-1),o(3),y(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),h("placeholder",k(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),w("ngModel",t.dataModel.title),o(2),v(a.value?-1:17),o(),v(a.value?18:-1),o(2),M("",a.value.length," / 100"),o(),v(a.errors!=null&&a.errors.required?21:-1),o(),v(t.fieldsInfo.linkCoreUserId!=null&&t.fieldsInfo.linkCoreUserId.accessWatchField?22:-1),o(),v(t.fieldsInfo.fromDate!=null&&t.fieldsInfo.fromDate.accessWatchField?23:-1),o(),v(t.fieldsInfo.expireDate!=null&&t.fieldsInfo.expireDate.accessWatchField?24:-1),o(),v(t.fieldsInfo.description!=null&&t.fieldsInfo.description.accessWatchField?25:-1),o(),v(t.fieldsInfo.apiKey!=null&&t.fieldsInfo.apiKey.accessWatchField?26:-1),o(),v(t.fieldsInfo.firewallAllowIP!=null&&t.fieldsInfo.firewallAllowIP.accessWatchField?27:-1),o(),v(t.formInfo.submitButtonEnabled?28:-1)}},dependencies:[_e,ne,oe,ge,fe,Be,Fe,he,Me,Ot,Gt,Ht,Le,Ft,J,Te,li,K,Ee,H],encapsulation:2});var ur=Wo;var D0=["*"];function k0(n,l){if(n&1&&(r(0,"label",3),d(1),s()),n&2){let e=m();h("for",bt("app-sms-client-application-selector-",e.id)),o(),y(e.optionLabel)}}function L0(n,l){if(n&1&&(r(0,"mat-option",6)(1,"span"),d(2),s()()),n&2){let e=l.$implicit,i=m();h("value",e)("disabled",i.optionDisabled),o(2),y(i.displayOption(e))}}function V0(n,l){n&1&&g(0,"i",7)}function N0(n,l){n&1&&g(0,"i",8)}function B0(n,l){if(n&1){let e=A();r(0,"i",11),I("click",function(){u(e);let t=m();return f(t.onActionSelectClear())}),s()}}function F0(n,l){n&1&&(r(0,"em"),d(1),S(2,"translate"),s()),n&2&&(o(),M("(",C(2,1,"TITLE.Necessary"),")"))}var yn=class yn{constructor(l,e,i,t,a,p){this.coreEnumService=l;this.cmsToastrService=e;this.cdr=i;this.publicHelper=t;this.translate=a;this.categoryService=p;this.id=++yn.nextId;this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new q;this.dataModelSelect=new Ti;this.formControl=new ei;this.optionDisabled=!1;this.optionRequired=!1;this.optionSelectFirstItem=!1;this.optionPlaceholder="";this.optionLabel="";this.optionChange=new ot;this.optionReload=()=>this.onActionButtonReload();this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(l){this.onActionSelectForce(l)}ngOnInit(){this.loadOptions(),(!this.optionLabel||this.optionLabel.length==0&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder)}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(Si(""),fi(1500),hi(),Ci(l=>typeof l=="string"||typeof l=="number"?this.DataGetAll(l||""):[]))}displayFn(l){return l?l.title:void 0}displayOption(l){return l?l.title:void 0}DataGetAll(l){return ae(this,null,function*(){let e=new Y;e.rowPerPage=20,e.accessLoad=!0;let i=new V;i.propertyName="title",i.value=l,i.searchType=ht.Contains,i.clauseType=Bt.Or,e.filters.push(i),l&&typeof+l=="number"&&+l>0&&(i=new V,i.propertyName="id",i.value=l,i.searchType=ht.Equal,i.clauseType=Bt.Or,e.filters.push(i));let t=this.constructor.name+"main";return this.translate.get("MESSAGE.Receiving_information").subscribe(a=>{this.publicHelper.processService.processStart(t,a,this.constructorInfoAreaId)}),yield pi(this.categoryService.ServiceGetAll(e)).then(a=>(this.dataModelResult=a,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||(typeof this.dataModelSelect.id=="string"?this.dataModelSelect.id.length===0:this.dataModelSelect.id<=0))&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0])},1e3),this.onActionSelect(this.dataModelResult.listItems[0])),this.publicHelper.processService.processStop(t),a.listItems))})}onActionSelect(l){this.dataModelSelect=l,this.optionChange.emit(this.dataModelSelect)}onActionSelectClear(){this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null)}push(l){return this.filteredOptions.pipe(ui(e=>(e.find(i=>i.id===l.id)||e.push(l),e)))}onActionSelectForce(l){if(typeof l=="string"&&l.length>0||typeof l=="number"&&l>0){let e=typeof l=="string"?l:String(l);if(this.dataModelSelect&&String(this.dataModelSelect.id)===e)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(i=>String(i.id)===e)){let i=this.dataModelResult.listItems.find(t=>String(t.id)===e);this.dataModelSelect=i,this.formControl.setValue(i);return}this.categoryService.ServiceGetOneById(e).subscribe({next:i=>{i.isSuccess?(this.filteredOptions=this.push(i.item),this.dataModelSelect=i.item,this.formControl.setValue(i.item),this.optionChange.emit(i.item)):this.cmsToastrService.typeErrorMessage(i.errorMessage)}});return}if(typeof l==typeof Ti){this.filteredOptions=this.push(l),this.dataModelSelect=l,this.formControl.setValue(l);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new Ti,this.loadOptions()}};yn.nextId=0,yn.\u0275fac=function(e){return new(e||yn)(_(Re),_(W),_(G),_(U),_(O),_(Qi))},yn.\u0275cmp=N({type:yn,selectors:[["app-sms-client-application-selector"]],inputs:{optionDisabled:"optionDisabled",optionRequired:"optionRequired",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionLabel:"optionLabel",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange"},standalone:!1,ngContentSelectors:D0,decls:16,vars:23,consts:[["matauto","matAutocomplete"],[1,"input-style","has-borders","has-icon","input-style-always-active","validate-field","mb-4","loader-container"],[3,"optionsInfoAreaId"],[1,"color-highlight",3,"for"],["type","text","aria-label","Assignee","matInput","",3,"placeholder","formControl","matAutocomplete","required","id"],[3,"optionSelected","displayWith"],[3,"value","disabled"],[1,"fa","fa-info","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"fa","fa-times","action","color-red-dark"],[1,"fa","fa-rotate-right","action","color-green-dark",2,"margin-left","20px",3,"click","title"],[1,"fa","fa-times","action","color-red-dark",3,"click"]],template:function(e,i){if(e&1){let t=A();gi(),r(0,"div",1),g(1,"app-progress-spinner",2),b(2,k0,2,3,"label",3),g(3,"input",4),r(4,"mat-autocomplete",5,0),I("optionSelected",function(p){return u(t),f(i.onActionSelect(p.option.value))}),Z(6,L0,3,3,"mat-option",6,De),S(8,"async"),s(),b(9,V0,1,0,"i",7),b(10,N0,1,0,"i",8),b(11,B0,1,0,"i",9),r(12,"i",10),S(13,"translate"),I("click",function(){return u(t),f(i.onActionButtonReload())}),s(),b(14,F0,3,3,"em"),Mi(15),s()}if(e&2){let t=D(5);o(),h("optionsInfoAreaId",i.constructorInfoAreaId),o(),v((i.optionLabel==null?null:i.optionLabel.length)>0?2:-1),o(),h("placeholder",k(i.optionPlaceholder))("id",bt("app-sms-client-application-selector-",i.id))("formControl",i.formControl)("matAutocomplete",t)("required",i.optionRequired),se("disabled",i.optionDisabled?!0:null),o(),h("displayWith",i.displayFn),o(2),$(C(8,19,i.filteredOptions)),o(3),v(i.formControl.valid?-1:9),o(),v(i.optionRequired&&i.formControl.valid?10:-1),o(),v(i.dataModelSelect!=null&&i.dataModelSelect.id&&(typeof i.dataModelSelect.id=="string"?i.dataModelSelect.id.length>0:i.dataModelSelect.id>0)?11:-1),o(),B("rotation360",i.publicHelper.processService.process.inRunArea[i.constructorInfoAreaId]),h("title",k(C(13,21,"ACTION.RELOAD"))),o(2),v(i.optionRequired&&!(i.dataModelSelect!=null&&i.dataModelSelect.id&&(typeof i.dataModelSelect.id=="string"?i.dataModelSelect.id.length>0:i.dataModelSelect.id>0))?14:-1)}},dependencies:[ne,oe,fe,vi,Ai,Ii,Ei,J,K,it,H],encapsulation:2});var Uo=yn;var O0=["vform"];function G0(n,l){if(n&1){let e=A();r(0,"app-cms-enum-record-status-selector",15),P("modelChange",function(t){u(e);let a=m();return T(a.dataModel.recordStatus,t)||(a.dataModel.recordStatus=t),f(t)}),s()}if(n&2){let e=m();w("model",e.dataModel.recordStatus),h("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function H0(n,l){if(n&1){let e=A();r(0,"div",12)(1,"label",16),d(2),s(),r(3,"mat-checkbox",17),P("ngModelChange",function(t){u(e);let a=m();return T(a.dataModel.isRequested,t)||(a.dataModel.isRequested=t),f(t)}),d(4),S(5,"translate"),s()()}if(n&2){let e=m();o(2),y(e.fieldsInfo.isRequested==null?null:e.fieldsInfo.isRequested.fieldTitle),o(),w("ngModel",e.dataModel.isRequested),h("disabled",!(e.fieldsInfo.isRequested!=null&&e.fieldsInfo.isRequested.accessAddField)),o(),M(" ",C(5,4,"MESSAGE.Requested")," ")}}function W0(n,l){if(n&1){let e=A();r(0,"div",12)(1,"label",16),d(2),s(),r(3,"mat-checkbox",18),I("change",function(){u(e);let t=m();return f(t.onToggleIsApproved())}),d(4),S(5,"translate"),s()()}if(n&2){let e=m();o(2),y(e.fieldsInfo.isApproved==null?null:e.fieldsInfo.isApproved.fieldTitle),o(),h("checked",e.dataModel.isApproved===!0)("disabled",!(e.fieldsInfo.isApproved!=null&&e.fieldsInfo.isApproved.accessAddField))("indeterminate",e.dataModel.isApproved===null),o(),M(" ",C(5,5,"MESSAGE.Approved")," ")}}function U0(n,l){if(n&1){let e=A();r(0,"div",13)(1,"label",19),d(2),s(),r(3,"input",20),P("ngModelChange",function(t){u(e);let a=m();return T(a.dataModel.fromDate,t)||(a.dataModel.fromDate=t),f(t)}),s(),g(4,"mat-datepicker-toggle",21)(5,"mat-datepicker",22,1),s()}if(n&2){let e=D(6),i=m();o(2),y(i.fieldsInfo.fromDate==null?null:i.fieldsInfo.fromDate.fieldTitle),o(),w("ngModel",i.dataModel.fromDate),h("matDatepicker",e),o(),h("for",e),o(),h("calendarHeaderComponent",i.datapickerHeader)}}function q0(n,l){if(n&1){let e=A();r(0,"div",13)(1,"label",23),d(2),S(3,"translate"),s(),r(4,"input",24),P("ngModelChange",function(t){u(e);let a=m();return T(a.dataModel.expireDate,t)||(a.dataModel.expireDate=t),f(t)}),s(),g(5,"mat-datepicker-toggle",21)(6,"mat-datepicker",22,2),s()}if(n&2){let e=D(7),i=m();o(2),y(C(3,5,"TITLE.Expire_Date")),o(2),w("ngModel",i.dataModel.expireDate),h("matDatepicker",e),o(),h("for",e),o(),h("calendarHeaderComponent",i.datapickerHeader)}}function j0(n,l){if(n&1){let e=A();r(0,"div",12)(1,"label",25),d(2),s(),r(3,"textarea",26,3),P("ngModelChange",function(t){u(e);let a=m();return T(a.dataModel.description,t)||(a.dataModel.description=t),f(t)}),s(),r(5,"em"),d(6),s()()}if(n&2){let e=D(4),i=m();o(2),y(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle),o(),h("placeholder",k(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle)),w("ngModel",i.dataModel.description),o(3),M("",e.value.length," / 500")}}function Q0(n,l){if(n&1){let e=A();r(0,"div",14)(1,"button",27),I("click",function(){u(e);let t=m();return f(t.onFormCancel())}),g(2,"i",28),d(3),S(4,"translate"),s(),r(5,"button",29),g(6,"i",30),d(7),S(8,"translate"),s()()}if(n&2){m();let e=D(10);o(3),M(" ",C(4,3,"ACTION.CANCEL")," "),o(2),h("disabled",!e.form.valid),o(2),M(" ",C(8,5,"ACTION.SAVE")," ")}}var qo=class qo extends Ct{constructor(e,i,t,a,p,c,E){super(t,new Pi,p,E);this.data=e;this.dialogRef=i;this.smsMainClientApplicationPermissionService=t;this.cmsToastrService=a;this.publicHelper=p;this.cdr=c;this.translate=E;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new q;this.dataModel=new Pi;this.fileManagerOpenForm=!1;this.datapickerHeader=$n;this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),e&&(e.LinkClientApplicationId&&(this.dataModel.linkClientApplicationId=e.LinkClientApplicationId),e.LinkApiPathId&&(this.dataModel.linkApiPathId=e.LinkApiPathId))}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess()}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.smsMainClientApplicationPermissionService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success}),this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorClientApplication(e){if(!e||!e.id||e.id.length==0){this.dataModel.linkClientApplicationId=null;return}this.dataModel.linkClientApplicationId=e.id}onActionSelectorApiPath(e){if(!e||!e.id||e.id.length==0){this.dataModel.linkApiPathId=null;return}this.dataModel.linkApiPathId=e.id}onToggleIsApproved(){this.dataModel.isApproved===null?this.dataModel.isApproved=!0:this.dataModel.isApproved===!0?this.dataModel.isApproved=!1:this.dataModel.isApproved=null}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};qo.\u0275fac=function(i){return new(i||qo)(_(ve),_(be),_(zi),_(W),_(U),_(G),_(O))},qo.\u0275cmp=N({type:qo,selectors:[["app-sms-client-application-permission-add"]],viewQuery:function(i,t){if(i&1&&ee(O0,5),i&2){let a;te(a=ie())&&(t.formGroup=a.first)}},standalone:!1,features:[X],decls:22,vars:23,consts:[["vform","ngForm"],["FromDate",""],["ExpireDate",""],["Description",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],[1,"form-actions"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"color-highlight"],["name","dataModel.isRequested",3,"ngModelChange","ngModel","disabled"],["name","dataModel.isApproved",3,"change","checked","disabled","indeterminate"],["for","dataModel.fromDate",1,"color-highlight"],["matInput","","type","text","name","dataModel.fromDate","id","dataModel.fromDate",1,"form-control","validate-name",3,"ngModelChange","ngModel","matDatepicker"],["matSuffix","",3,"for"],["touchUi","",3,"calendarHeaderComponent"],["for","dataModel.expireDate",1,"color-highlight"],["matInput","","type","text","name","dataModel.expireDate","id","dataModel.expireDate",1,"form-control","validate-name",3,"ngModelChange","ngModel","matDatepicker"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let a=A();r(0,"div",4),g(1,"app-progress-spinner",5),r(2,"div",6)(3,"p",7),d(4),s(),r(5,"p"),d(6),S(7,"translate"),s(),g(8,"app-cms-form-result-message",8),r(9,"form",9,0),I("ngSubmit",function(){return u(a),f(t.onFormSubmit())}),b(11,G0,1,5,"app-cms-enum-record-status-selector",10),r(12,"app-sms-client-application-selector",11),S(13,"translate"),I("optionChange",function(c){return u(a),f(t.onActionSelectorClientApplication(c))}),s(),r(14,"app-sms-apipath-selector",11),S(15,"translate"),I("optionChange",function(c){return u(a),f(t.onActionSelectorApiPath(c))}),s(),b(16,H0,6,6,"div",12),b(17,W0,6,7,"div",12),b(18,U0,7,5,"div",13),b(19,q0,8,7,"div",13),b(20,j0,7,5,"div",12),b(21,Q0,9,7,"div",14),s()()()}i&2&&(o(),h("optionsInfoAreaId",t.constructorInfoAreaId),o(3),M(" ",t.formInfo.formTitle," "),o(2),M(" ",C(7,17,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),h("formInfo",t.formInfo),o(3),v(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?11:-1),o(),h("optionDisabled",!((t.fieldsInfo.linkClientApplicationId==null?null:t.fieldsInfo.linkClientApplicationId.accessAddField)??!1))("optionSelectForce",t.dataModel.linkClientApplicationId)("optionPlaceholder",C(13,19,"TITLE.CLIENTAPPLICATION")),o(2),h("optionDisabled",!((t.fieldsInfo.linkApiPathId==null?null:t.fieldsInfo.linkApiPathId.accessAddField)??!1))("optionSelectForce",t.dataModel.linkApiPathId)("optionPlaceholder",C(15,21,"TITLE.APIPATH")),o(2),v(t.fieldsInfo.isRequested!=null&&t.fieldsInfo.isRequested.accessWatchField?16:-1),o(),v(t.fieldsInfo.isApproved!=null&&t.fieldsInfo.isApproved.accessWatchField?17:-1),o(),v(t.fieldsInfo.fromDate!=null&&t.fieldsInfo.fromDate.accessWatchField?18:-1),o(),v(t.fieldsInfo.expireDate!=null&&t.fieldsInfo.expireDate.accessWatchField?19:-1),o(),v(t.fieldsInfo.description!=null&&t.fieldsInfo.description.accessWatchField?20:-1),o(),v(t.formInfo.submitButtonEnabled?21:-1))},dependencies:[_e,ne,oe,ge,Be,Fe,he,Me,hn,Ot,Gt,Ht,Ft,J,Te,K,Ee,ci,Uo,H],encapsulation:2});var jo=qo;var z0=["vform"];function K0(n,l){if(n&1){let e=A();r(0,"app-cms-enum-record-status-selector",15),P("modelChange",function(t){u(e);let a=m();return T(a.dataModel.recordStatus,t)||(a.dataModel.recordStatus=t),f(t)}),s()}if(n&2){let e=m();w("model",e.dataModel.recordStatus),h("optionDisabled",!((e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.accessEditField)??!1))("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function X0(n,l){if(n&1){let e=A();r(0,"div",12)(1,"label",16),d(2),s(),r(3,"mat-checkbox",17),P("ngModelChange",function(t){u(e);let a=m();return T(a.dataModel.isRequested,t)||(a.dataModel.isRequested=t),f(t)}),d(4),S(5,"translate"),s()()}if(n&2){let e=m();o(2),y(e.fieldsInfo.isRequested==null?null:e.fieldsInfo.isRequested.fieldTitle),o(),w("ngModel",e.dataModel.isRequested),h("disabled",!(e.fieldsInfo.isRequested!=null&&e.fieldsInfo.isRequested.accessEditField)),o(),M(" ",C(5,4,"MESSAGE.Requested")," ")}}function Y0(n,l){if(n&1){let e=A();r(0,"div",12)(1,"label",16),d(2),s(),r(3,"mat-checkbox",18),I("change",function(){u(e);let t=m();return f(t.onToggleIsApproved())}),d(4),S(5,"translate"),s()()}if(n&2){let e=m();o(2),y(e.fieldsInfo.isApproved==null?null:e.fieldsInfo.isApproved.fieldTitle),o(),h("checked",e.dataModel.isApproved===!0)("disabled",!(e.fieldsInfo.isApproved!=null&&e.fieldsInfo.isApproved.accessEditField))("indeterminate",e.dataModel.isApproved===null),o(),M(" ",C(5,5,"MESSAGE.Approved")," ")}}function J0(n,l){if(n&1){let e=A();r(0,"div",13)(1,"label",19),d(2),s(),r(3,"input",20),P("ngModelChange",function(t){u(e);let a=m();return T(a.dataModel.fromDate,t)||(a.dataModel.fromDate=t),f(t)}),s(),g(4,"mat-datepicker-toggle",21)(5,"mat-datepicker",22,1),s()}if(n&2){let e=D(6),i=m();o(2),y(i.fieldsInfo.fromDate==null?null:i.fieldsInfo.fromDate.fieldTitle),o(),w("ngModel",i.dataModel.fromDate),h("matDatepicker",e)("disabled",!(i.fieldsInfo.fromDate!=null&&i.fieldsInfo.fromDate.accessEditField)),o(),h("for",e),o(),h("calendarHeaderComponent",i.datapickerHeader)}}function Z0(n,l){if(n&1){let e=A();r(0,"div",13)(1,"label",23),d(2),S(3,"translate"),s(),r(4,"input",24),P("ngModelChange",function(t){u(e);let a=m();return T(a.dataModel.expireDate,t)||(a.dataModel.expireDate=t),f(t)}),s(),g(5,"mat-datepicker-toggle",21)(6,"mat-datepicker",22,2),s()}if(n&2){let e=D(7),i=m();o(2),y(C(3,6,"TITLE.Expire_Date")),o(2),w("ngModel",i.dataModel.expireDate),h("matDatepicker",e)("disabled",!(i.fieldsInfo.expireDate!=null&&i.fieldsInfo.expireDate.accessEditField)),o(),h("for",e),o(),h("calendarHeaderComponent",i.datapickerHeader)}}function $0(n,l){if(n&1){let e=A();r(0,"div",12)(1,"label",25),d(2),s(),r(3,"textarea",26,3),P("ngModelChange",function(t){u(e);let a=m();return T(a.dataModel.description,t)||(a.dataModel.description=t),f(t)}),s(),r(5,"em"),d(6),s()()}if(n&2){let e=D(4),i=m();o(2),y(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle),o(),h("placeholder",k(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle)),w("ngModel",i.dataModel.description),h("disabled",!(i.fieldsInfo.description!=null&&i.fieldsInfo.description.accessEditField)),o(3),M("",e.value.length," / 500")}}function ef(n,l){if(n&1){let e=A();r(0,"div",14)(1,"button",27),I("click",function(){u(e);let t=m();return f(t.onFormCancel())}),g(2,"i",28),d(3),S(4,"translate"),s(),r(5,"button",29),g(6,"i",30),d(7),S(8,"translate"),s()()}if(n&2){m();let e=D(10);o(3),M(" ",C(4,3,"ACTION.CANCEL")," "),o(2),h("disabled",!e.form.valid),o(2),M(" ",C(8,5,"ACTION.SAVE")," ")}}var Qo=class Qo extends gt{constructor(e,i,t,a,p,c,E){super(t,new Pi,p,E);this.data=e;this.dialogRef=i;this.smsMainClientApplicationPermissionService=t;this.cmsToastrService=a;this.publicHelper=p;this.cdr=c;this.translate=E;this.requestLinkApiPathId="";this.requestLinkClientApplicationId="";this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new ft;this.dataModel=new Pi;this.fileManagerOpenForm=!1;this.datapickerHeader=$n;this.publicHelper.processService.cdr=this.cdr,e&&e.linkApiPathId&&e.linkClientApplicationId&&(this.requestLinkApiPathId=e.linkApiPathId,this.requestLinkClientApplicationId=e.linkClientApplicationId),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.requestLinkApiPathId&&this.requestLinkApiPathId.length>0&&this.requestLinkClientApplicationId&&this.requestLinkClientApplicationId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e});else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent()}DataGetOneContent(){if(!this.requestLinkApiPathId||this.requestLinkApiPathId.length===0||!this.requestLinkClientApplicationId||this.requestLinkClientApplicationId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(a=>{this.formInfo.submitResultMessage=a}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(a=>{this.publicHelper.processService.processStart(e,a,this.constructorInfoAreaId)}),this.smsMainClientApplicationPermissionService.setAccessLoad(),this.smsMainClientApplicationPermissionService.setAccessDataType(nt.Editor);let i=new Y,t=new V;t.propertyName="linkApiPathId",t.value=this.requestLinkApiPathId,i.filters.push(t),t=new V,t.propertyName="linkClientApplicationId",t.value=this.requestLinkClientApplicationId,i.filters.push(t),i.accessLoad=!0,this.smsMainClientApplicationPermissionService.ServiceGetAll(i).subscribe({next:a=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(a.access),this.dataModel=a.item,a.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(p=>{this.formInfo.submitResultMessage=p}),this.formInfo.submitResultMessage=a.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(a.errorMessage)),this.publicHelper.processService.processStop(e)},error:a=>{this.cmsToastrService.typeError(a),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.smsMainClientApplicationPermissionService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success}),this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorClientApplication(e){if(!e||!e.id||e.id.length==0){this.dataModel.linkClientApplicationId=null;return}this.dataModel.linkClientApplicationId=e.id}onActionSelectorApiPath(e){if(!e||!e.id||e.id.length==0){this.dataModel.linkApiPathId=null;return}this.dataModel.linkApiPathId=e.id}onToggleIsApproved(){this.dataModel.isApproved===null?this.dataModel.isApproved=!0:this.dataModel.isApproved===!0?this.dataModel.isApproved=!1:this.dataModel.isApproved=null}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Qo.\u0275fac=function(i){return new(i||Qo)(_(ve),_(be),_(zi),_(W),_(U),_(G),_(O))},Qo.\u0275cmp=N({type:Qo,selectors:[["app-sms-client-application-permission-edit"]],viewQuery:function(i,t){if(i&1&&ee(z0,5),i&2){let a;te(a=ie())&&(t.formGroup=a.first)}},standalone:!1,features:[X],decls:22,vars:23,consts:[["vform","ngForm"],["FromDate",""],["ExpireDate",""],["Description",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],[1,"form-actions"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"color-highlight"],["name","dataModel.isRequested",3,"ngModelChange","ngModel","disabled"],["name","dataModel.isApproved",3,"change","checked","disabled","indeterminate"],["for","dataModel.fromDate",1,"color-highlight"],["matInput","","type","text","name","dataModel.fromDate","id","dataModel.fromDate",1,"form-control","validate-name",3,"ngModelChange","ngModel","matDatepicker","disabled"],["matSuffix","",3,"for"],["touchUi","",3,"calendarHeaderComponent"],["for","dataModel.expireDate",1,"color-highlight"],["matInput","","type","text","name","dataModel.expireDate","id","dataModel.expireDate",1,"form-control","validate-name",3,"ngModelChange","ngModel","matDatepicker","disabled"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let a=A();r(0,"div",4),g(1,"app-progress-spinner",5),r(2,"div",6)(3,"p",7),d(4),s(),r(5,"p"),d(6),S(7,"translate"),s(),g(8,"app-cms-form-result-message",8),r(9,"form",9,0),I("ngSubmit",function(){return u(a),f(t.onFormSubmit())}),b(11,K0,1,5,"app-cms-enum-record-status-selector",10),r(12,"app-sms-client-application-selector",11),S(13,"translate"),I("optionChange",function(c){return u(a),f(t.onActionSelectorClientApplication(c))}),s(),r(14,"app-sms-apipath-selector",11),S(15,"translate"),I("optionChange",function(c){return u(a),f(t.onActionSelectorApiPath(c))}),s(),b(16,X0,6,6,"div",12),b(17,Y0,6,7,"div",12),b(18,J0,7,6,"div",13),b(19,Z0,8,8,"div",13),b(20,$0,7,6,"div",12),b(21,ef,9,7,"div",14),s()()()}i&2&&(o(),h("optionsInfoAreaId",t.constructorInfoAreaId),o(3),M(" ",t.formInfo.formTitle," "),o(2),M(" ",C(7,17,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),h("formInfo",t.formInfo),o(3),v(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?11:-1),o(),h("optionDisabled",!((t.fieldsInfo.linkClientApplicationId==null?null:t.fieldsInfo.linkClientApplicationId.accessEditField)??!1))("optionSelectForce",t.dataModel.linkClientApplicationId)("optionPlaceholder",C(13,19,"TITLE.CLIENTAPPLICATION")),o(2),h("optionDisabled",!((t.fieldsInfo.linkApiPathId==null?null:t.fieldsInfo.linkApiPathId.accessEditField)??!1))("optionSelectForce",t.dataModel.linkApiPathId)("optionPlaceholder",C(15,21,"TITLE.APIPATH")),o(2),v(t.fieldsInfo.isRequested!=null&&t.fieldsInfo.isRequested.accessWatchField?16:-1),o(),v(t.fieldsInfo.isApproved!=null&&t.fieldsInfo.isApproved.accessWatchField?17:-1),o(),v(t.fieldsInfo.fromDate!=null&&t.fieldsInfo.fromDate.accessWatchField?18:-1),o(),v(t.fieldsInfo.expireDate!=null&&t.fieldsInfo.expireDate.accessWatchField?19:-1),o(),v(t.fieldsInfo.description!=null&&t.fieldsInfo.description.accessWatchField?20:-1),o(),v(t.formInfo.submitButtonEnabled?21:-1))},dependencies:[_e,ne,oe,ge,Be,Fe,he,Me,hn,Ot,Gt,Ht,Ft,J,Te,K,Ee,ci,Uo,H],encapsulation:2});var zo=Qo;var tf=["vform"],nf=(n,l)=>l.id;function of(n,l){if(n&1){let e=A();r(0,"app-cms-enum-record-status-selector",30),P("modelChange",function(t){u(e);let a=m();return T(a.dataModel.recordStatus,t)||(a.dataModel.recordStatus=t),f(t)}),s()}if(n&2){let e=m();w("model",e.dataModel.recordStatus),h("optionDisabled",!((e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.accessEditField)??!1))("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function af(n,l){n&1&&g(0,"i",33)}function rf(n,l){n&1&&g(0,"i",34)}function sf(n,l){n&1&&(r(0,"mat-error"),d(1," Title is "),r(2,"strong"),d(3),S(4,"translate"),s()()),n&2&&(o(3),y(C(4,1,"MESSAGE.required")))}function lf(n,l){if(n&1){let e=A();r(0,"div",15)(1,"label",31),d(2),s(),r(3,"input",32,1),P("ngModelChange",function(t){u(e);let a=m();return T(a.dataModel.title,t)||(a.dataModel.title=t),f(t)}),s(),b(5,af,1,0,"i",33),b(6,rf,1,0,"i",34),r(7,"em"),d(8),s(),b(9,sf,5,3,"mat-error"),s()}if(n&2){let e=D(4),i=m();o(2),y(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(),h("placeholder",k(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle)),w("ngModel",i.dataModel.title),h("disabled",!(i.fieldsInfo.title!=null&&i.fieldsInfo.title.accessEditField)),o(2),v(e.value?-1:5),o(),v(e.value?6:-1),o(2),M("",e.value.length," / 100"),o(),v(e.errors!=null&&e.errors.required?9:-1)}}function cf(n,l){if(n&1){let e=A();r(0,"app-cms-user-selector",35),S(1,"translate"),I("optionChange",function(t){u(e);let a=m();return f(a.onActionSelectorUser(t))}),s()}if(n&2){let e=m();h("optionSelectForce",e.dataModel.linkCoreUserId)("optionPlaceholder",C(1,4,"TITLE.USER"))("optionDisabled",!((e.fieldsInfo.linkCoreUserId==null?null:e.fieldsInfo.linkCoreUserId.accessEditField)??!1))("optionLabel",e.fieldsInfo.linkCoreUserId==null?null:e.fieldsInfo.linkCoreUserId.fieldTitle)}}function df(n,l){if(n&1){let e=A();r(0,"app-cms-site-selector",35),S(1,"translate"),I("optionChange",function(t){u(e);let a=m();return f(a.onActionSelectorSite(t))}),s()}if(n&2){let e=m();h("optionSelectForce",e.dataModel.linkSiteId)("optionPlaceholder",C(1,4,"TITLE.SITE"))("optionDisabled",!((e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.accessEditField)??!1))("optionLabel",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle)}}function mf(n,l){if(n&1){let e=A();r(0,"div",17)(1,"label",36),d(2),s(),r(3,"input",37),P("ngModelChange",function(t){u(e);let a=m();return T(a.dataModel.fromDate,t)||(a.dataModel.fromDate=t),f(t)}),s(),g(4,"mat-datepicker-toggle",38)(5,"mat-datepicker",39,2),s()}if(n&2){let e=D(6),i=m();o(2),y(i.fieldsInfo.fromDate==null?null:i.fieldsInfo.fromDate.fieldTitle),o(),h("matDatepicker",e),w("ngModel",i.dataModel.fromDate),h("disabled",!(i.fieldsInfo.fromDate!=null&&i.fieldsInfo.fromDate.accessEditField)),o(),h("for",e),o(),h("calendarHeaderComponent",i.datapickerHeader)}}function pf(n,l){if(n&1){let e=A();r(0,"div",17)(1,"label",40),d(2),s(),r(3,"input",41),P("ngModelChange",function(t){u(e);let a=m();return T(a.dataModel.expireDate,t)||(a.dataModel.expireDate=t),f(t)}),s(),g(4,"mat-datepicker-toggle",38)(5,"mat-datepicker",39,3),s()}if(n&2){let e=D(6),i=m();o(2),y(i.fieldsInfo.expireDate==null?null:i.fieldsInfo.expireDate.fieldTitle),o(),h("matDatepicker",e),w("ngModel",i.dataModel.expireDate),h("disabled",!(i.fieldsInfo.expireDate!=null&&i.fieldsInfo.expireDate.accessEditField)),o(),h("for",e),o(),h("calendarHeaderComponent",i.datapickerHeader)}}function uf(n,l){if(n&1){let e=A();r(0,"div",15)(1,"label",42),d(2),s(),r(3,"textarea",43,4),P("ngModelChange",function(t){u(e);let a=m();return T(a.dataModel.description,t)||(a.dataModel.description=t),f(t)}),s(),r(5,"em"),d(6),s()()}if(n&2){let e=D(4),i=m();o(2),y(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle),o(),h("placeholder",k(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle)),w("ngModel",i.dataModel.description),h("disabled",!(i.fieldsInfo.description!=null&&i.fieldsInfo.description.accessEditField)),o(3),M("",(e.value==null?null:e.value.length)||0," / 500")}}function ff(n,l){if(n&1){let e=A();r(0,"div",15)(1,"label",44),d(2),s(),r(3,"input",45,5),P("ngModelChange",function(t){u(e);let a=m();return T(a.dataModel.apiKey,t)||(a.dataModel.apiKey=t),f(t)}),s(),r(5,"em"),d(6),s()()}if(n&2){let e=D(4),i=m();o(2),y(i.fieldsInfo.apiKey==null?null:i.fieldsInfo.apiKey.fieldTitle),o(),h("placeholder",k(i.fieldsInfo.apiKey==null?null:i.fieldsInfo.apiKey.fieldTitle)),w("ngModel",i.dataModel.apiKey),h("disabled",!(i.fieldsInfo.apiKey!=null&&i.fieldsInfo.apiKey.accessEditField)),o(3),M("",(e.value==null?null:e.value.length)||0," / 500")}}function hf(n,l){if(n&1){let e=A();r(0,"span",53),d(1),r(2,"i",54),I("click",function(){let t=u(e).$implicit,a=m(3);return f(a.onActionRemoveFirewallIP(t))}),s()()}if(n&2){let e=l.$implicit;o(),M(" ",e," ")}}function Sf(n,l){if(n&1&&(r(0,"div",52),Z(1,hf,3,1,"span",53,ja),s()),n&2){let e=m(2);o(),$(e.dataModel.firewallAllowIPList)}}function Cf(n,l){if(n&1){let e=A();r(0,"div",18)(1,"div",46)(2,"label",47),d(3),s(),r(4,"div",48)(5,"input",49,6),P("ngModelChange",function(t){u(e);let a=m();return T(a.firewallAllowIPInput,t)||(a.firewallAllowIPInput=t),f(t)}),s(),r(7,"button",50),I("click",function(){u(e);let t=m();return f(t.onActionAddFirewallIP())}),g(8,"i",51),s()()(),b(9,Sf,3,0,"div",52),s()}if(n&2){let e=m();o(3),y(e.fieldsInfo.firewallAllowIP==null?null:e.fieldsInfo.firewallAllowIP.fieldTitle),o(2),h("placeholder",k(e.fieldsInfo.firewallAllowIP==null?null:e.fieldsInfo.firewallAllowIP.fieldTitle)),w("ngModel",e.firewallAllowIPInput),h("disabled",!(e.fieldsInfo.firewallAllowIP!=null&&e.fieldsInfo.firewallAllowIP.accessEditField)),o(2),h("disabled",!e.firewallAllowIPInput||e.firewallAllowIPInput.length===0),o(2),v(e.dataModel.firewallAllowIPList&&e.dataModel.firewallAllowIPList.length>0?9:-1)}}function gf(n,l){if(n&1&&(r(0,"small",22),d(1),S(2,"translate"),s()),n&2){let e=m();o(),ue(" ",e.apiPathList.length," ",C(2,2,"MESSAGE.Item")," ")}}function Mf(n,l){n&1&&(r(0,"div",27),g(1,"i",55),r(2,"p",56),d(3),S(4,"translate"),s()()),n&2&&(o(3),M(" ",C(4,1,"MESSAGE.Receiving_information")," "))}function _f(n,l){n&1&&(r(0,"th",60),d(1),S(2,"translate"),s(),r(3,"th"),d(4),S(5,"translate"),s(),r(6,"th"),d(7),S(8,"translate"),s(),r(9,"th"),d(10),S(11,"translate"),s()),n&2&&(o(),M(" ",C(2,4,"TITLE.IsApproved")," "),o(3),y(C(5,6,"TITLE.FromDate")),o(3),y(C(8,8,"TITLE.ExpireDate")),o(3),y(C(11,10,"TITLE.Description")))}function bf(n,l){if(n&1&&(g(0,"br"),r(1,"small",22),d(2),s()),n&2){let e=m().$implicit;o(2),y(e.title)}}function vf(n,l){if(n&1){let e=A();r(0,"td",60)(1,"input",64),I("change",function(){u(e),m();let t=Dn(0),a=m(2);return f(a.onToggleIsApproved(t))}),s()(),r(2,"td")(3,"div",17)(4,"app-input-date",65),P("modelChange",function(t){u(e),m();let a=Dn(0);return T(a.fromDate,t)||(a.fromDate=t),f(t)}),d(5),S(6,"translate"),s()()(),r(7,"td")(8,"div",17)(9,"app-input-date",65),P("modelChange",function(t){u(e),m();let a=Dn(0);return T(a.expireDate,t)||(a.expireDate=t),f(t)}),d(10),S(11,"translate"),s()()(),r(12,"td")(13,"textarea",66),S(14,"translate"),P("ngModelChange",function(t){u(e),m();let a=Dn(0);return T(a.description,t)||(a.description=t),f(t)}),s()()}if(n&2){let e=m().$implicit,i=Dn(0);o(),h("checked",i.isApproved===!0)("name","isApproved_"+e.id)("indeterminate",i.isApproved===null),o(3),w("model",i.fromDate),h("optionDisabled",!1)("optionRequired",!1),o(),M(" ",C(6,15,"TITLE.FromDate")," "),o(4),w("model",i.expireDate),h("optionDisabled",!1)("optionRequired",!1),o(),M(" ",C(11,17,"TITLE.ExpireDate")," "),o(3),h("placeholder",k(C(14,19,"TITLE.Description"))),w("ngModel",i.description),h("name","description_"+e.id)}}function If(n,l){if(n&1){let e=A();Wr(0),r(1,"tr")(2,"td")(3,"code"),d(4),s(),b(5,bf,3,1),s(),r(6,"td",60)(7,"input",63),P("ngModelChange",function(t){u(e);let a=Dn(0);return T(a.isRequested,t)||(a.isRequested=t),f(t)}),s()(),b(8,vf,15,21),s()}if(n&2){let e=l.$implicit,i=m(2),t=Ur(i.getPermissionForApiPath(e.id));o(4),y(e.id),o(),v(e.title?5:-1),o(2),w("ngModel",t.isRequested),h("name","isRequested_"+e.id),o(),v(i.tokenHelper.isAdminSite?8:-1)}}function Af(n,l){if(n&1){let e=A();r(0,"div",57)(1,"table",58)(2,"thead",59)(3,"tr")(4,"th"),d(5),S(6,"translate"),s(),r(7,"th",60),d(8),S(9,"translate"),s(),b(10,_f,12,12),s()(),r(11,"tbody"),Z(12,If,9,6,"tr",null,nf),s()()(),r(14,"div",61)(15,"button",62),I("click",function(){u(e);let t=m();return f(t.onActionSavePermissionChanges())}),g(16,"i",26),d(17),S(18,"translate"),s()()}if(n&2){let e=m();o(5),y(C(6,4,"TITLE.ApiPath")),o(3),M(" ",C(9,6,"TITLE.IsRequested")," "),o(2),v(e.tokenHelper.isAdminSite?10:-1),o(2),$(e.apiPathList),o(5),M(" ",C(18,8,"ACTION.SAVE")," ")}}function Ef(n,l){n&1&&(r(0,"div",28),g(1,"i",67),r(2,"p",21),d(3),S(4,"translate"),s()()),n&2&&(o(3),y(C(4,1,"MESSAGE.no_information")))}function yf(n,l){if(n&1){let e=A();r(0,"div",29)(1,"button",68),I("click",function(){u(e);let t=m();return f(t.onFormCancel())}),g(2,"i",69),d(3),S(4,"translate"),s(),r(5,"button",70),g(6,"i",71),d(7),S(8,"translate"),s()()}if(n&2){m();let e=D(10);o(3),M(" ",C(4,3,"ACTION.CANCEL")," "),o(2),h("disabled",!e.form.valid),o(2),M(" ",C(8,5,"ACTION.SAVE")," ")}}var Ko=class Ko extends gt{constructor(e,i,t,a,p,c,E,F,Ne,tt,Pe,It,z){super(a,new Ti,Ne,It);this.data=e;this.dialogRef=i;this.smsEnumService=t;this.smsMainClientApplicationService=a;this.smsMainClientApplicationPermissionService=p;this.smsMainApiPathService=c;this.cmsToastrService=E;this.cmsConfirmationDialogService=F;this.publicHelper=Ne;this.tokenHelper=tt;this.cdr=Pe;this.translate=It;this.dialog=z;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new ft;this.dataModel=new Ti;this.dataModelEnumApiNumberAccessStatusResult=new q;this.dataModelEnumApiNumberActionResult=new q;this.fileManagerOpenForm=!1;this.firewallAllowIPInput="";this.datapickerHeader=$n;this.permissionDataModelResult=new q;this.permissionTableData=[];this.permissionTableRowSelected=new Pi;this.permissionFilterModel=new Y;this.permissionLoading=!1;this.apiPathList=[];this.apiPathListLoading=!1;this.apiPathPermissionMap=new Map;this.permissionChanges=[];this.publicHelper.processService.cdr=this.cdr,e&&e.id&&(this.requestId=e.id),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e});else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent()}DataGetOneContent(){if(this.requestId.length<=0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.smsMainClientApplicationService.setAccessLoad(),this.smsMainClientApplicationService.setAccessDataType(nt.Editor),this.smsMainClientApplicationService.ServiceGetOneById(this.requestId).subscribe({next:i=>{if(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,this.dataModel.firewallAllowIPList=[],this.dataModel.firewallAllowIP&&this.dataModel.firewallAllowIP.length>0){let t=this.dataModel.firewallAllowIP.split(",").map(a=>a.trim()).filter(a=>a.length>0);this.dataModel.firewallAllowIPList=[...t]}i.isSuccess?(this.DataGetAllMenuCoreUserGroup(),this.DataGetAllApiPaths(),this.DataGetAllPermission(),this.formInfo.formTitle=this.formInfo.formTitle,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}syncFirewallAllowIPFromList(){this.dataModel.firewallAllowIPList&&this.dataModel.firewallAllowIPList.length>0?this.dataModel.firewallAllowIP=this.dataModel.firewallAllowIPList.join(","):this.dataModel.firewallAllowIP=""}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.syncFirewallAllowIPFromList(),this.smsMainClientApplicationService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}DataGetAllMenuCoreUserGroup(){}onActionSelectorUser(e){if(!e||!e.id){this.dataModel.linkCoreUserId=null;return}this.dataModel.linkCoreUserId=e.id}onActionSelectorSite(e){if(!e||!e.id){this.dataModel.linkSiteId=null;return}this.dataModel.linkSiteId=e.id}validateIPFormat(e){if(!e||e.trim().length===0)return!1;let i=/^(\d{1,3}\.){3}\d{1,3}$/,t=/^(\d{1,3}\.){3}\d{1,3}\/\d{1,2}$/,a=/^(\d{1,3}\.){3}\d{1,3}-(\d{1,3}\.){3}\d{1,3}$/;if(i.test(e))return e.split(".").every(c=>parseInt(c,10)>=0&&parseInt(c,10)<=255);if(t.test(e)){let[p,c]=e.split("/"),E=parseInt(c,10);return E<0||E>32?!1:p.split(".").every(Ne=>parseInt(Ne,10)>=0&&parseInt(Ne,10)<=255)}if(a.test(e)){let[p,c]=e.split("-"),E=p.split("."),F=c.split("."),Ne=E.every(Pe=>parseInt(Pe,10)>=0&&parseInt(Pe,10)<=255),tt=F.every(Pe=>parseInt(Pe,10)>=0&&parseInt(Pe,10)<=255);return Ne&&tt}return!1}onActionAddFirewallIP(){if(!this.firewallAllowIPInput||this.firewallAllowIPInput.trim().length===0)return;let e=this.firewallAllowIPInput.trim();if(!this.validateIPFormat(e)){this.translate.get("ERRORMESSAGE.MESSAGE.Invalid_IP_Format").subscribe(i=>{this.cmsToastrService.typeErrorMessage(i||"Invalid IP format")});return}this.dataModel.firewallAllowIPList||(this.dataModel.firewallAllowIPList=[]),this.dataModel.firewallAllowIPList.includes(e)||(this.dataModel.firewallAllowIPList=[...this.dataModel.firewallAllowIPList,e]),this.dataModel.firewallAllowIPList.length>0&&(this.dataModel.firewallAllowIP=this.dataModel.firewallAllowIPList.join(",")),this.firewallAllowIPInput=""}onActionRemoveFirewallIP(e){if(!this.dataModel.firewallAllowIPList)return;this.dataModel.firewallAllowIPList.indexOf(e)>-1&&(this.dataModel.firewallAllowIPList=this.dataModel.firewallAllowIPList.filter(t=>t!==e)),this.dataModel.firewallAllowIPList.length>0?this.dataModel.firewallAllowIP=this.dataModel.firewallAllowIPList.join(","):this.dataModel.firewallAllowIP=""}DataGetAllPermission(){if(!this.requestId||this.requestId.length===0)return;this.permissionLoading=!0,this.permissionFilterModel.filters=[];let e=new V;e.propertyName="LinkClientApplicationId",e.value=this.requestId,this.permissionFilterModel.filters.push(e),this.permissionFilterModel.sortColumn="id",this.permissionFilterModel.sortType=Q.Descending,this.smsMainClientApplicationPermissionService.ServiceGetAll(this.permissionFilterModel).subscribe({next:i=>{this.permissionLoading=!1,this.permissionDataModelResult=i,i.isSuccess?(this.permissionTableData=i.listItems||[],this.syncApiPathsWithPermissions()):this.cmsToastrService.typeErrorMessage(i.errorMessage)},error:i=>{this.permissionLoading=!1,this.cmsToastrService.typeError(i)}})}DataGetAllApiPaths(){this.apiPathListLoading=!0;let e=new Y;e.rowPerPage=1e3,e.accessLoad=!0,this.smsMainApiPathService.ServiceGetAllEditor(e).subscribe({next:i=>{this.apiPathListLoading=!1,i.isSuccess?(this.apiPathList=i.listItems||[],this.syncApiPathsWithPermissions()):this.cmsToastrService.typeErrorMessage(i.errorMessage)},error:i=>{this.apiPathListLoading=!1,this.cmsToastrService.typeError(i)}})}syncApiPathsWithPermissions(){this.apiPathPermissionMap.clear(),this.permissionTableData.forEach(e=>{e.linkApiPathId&&this.apiPathPermissionMap.set(e.linkApiPathId,e)}),this.apiPathList.forEach(e=>{if(!this.apiPathPermissionMap.has(e.id)){let i=new Pi;i.linkClientApplicationId=this.requestId,i.linkApiPathId=e.id,i.isRequested=!1,i.isApproved=null,this.apiPathPermissionMap.set(e.id,i)}})}getPermissionForApiPath(e){return this.apiPathPermissionMap.get(e)||new Pi}onToggleIsApproved(e){e.isApproved===null?e.isApproved=!0:e.isApproved===!0?e.isApproved=!1:e.isApproved=null}getIsApprovedCheckboxState(e){return e.isApproved}getDatePickerId(e,i){return`picker${i}Date_${e.replace(/[^a-zA-Z0-9]/g,"_")}`}onActionSavePermissionChanges(){if(!this.requestId||this.requestId.length===0)return;let e=[];if(this.apiPathPermissionMap.forEach(c=>{c.linkApiPathId&&e.push(c)}),e.length===0){this.translate.get("MESSAGE.no_information").subscribe(c=>{this.cmsToastrService.typeWarningMessage(c)});return}let i=this.constructor.name+"onActionSavePermissionChanges";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(c=>{this.publicHelper.processService.processStart(i,c,this.constructorInfoAreaId)});let t=0,a=0,p=e.length;e.forEach(c=>{c.id&&c.id.length>0?this.smsMainClientApplicationPermissionService.ServiceEdit(c).subscribe({next:E=>{t++,t+a===p&&(this.publicHelper.processService.processStop(i),a===0&&(this.cmsToastrService.typeSuccessEdit(),this.DataGetAllPermission()))},error:E=>{a++,this.cmsToastrService.typeError(E),t+a===p&&this.publicHelper.processService.processStop(i,!1)}}):c.isRequested?this.smsMainClientApplicationPermissionService.ServiceAdd(c).subscribe({next:E=>{t++,t+a===p&&(this.publicHelper.processService.processStop(i),a===0&&(this.cmsToastrService.typeSuccessAdd(),this.DataGetAllPermission()))},error:E=>{a++,this.cmsToastrService.typeError(E),t+a===p&&this.publicHelper.processService.processStop(i,!1)}}):(t++,t+a===p&&(this.publicHelper.processService.processStop(i),a===0&&this.DataGetAllPermission()))})}onActionPermissionButtonNewRow(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(jo,{height:"90%",panelClass:e,enterAnimationDuration:j.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:j.cmsViewConfig.exitAnimationDuration,data:{LinkClientApplicationId:this.requestId}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAllPermission()})}onActionPermissionButtonEditRow(e){if(!e?.id||(typeof e.id=="string"?e.id.length===0:e.id<=0)){this.cmsToastrService.typeErrorSelectedRow();return}this.permissionTableRowSelected=e;var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(zo,{height:"90%",panelClass:i,enterAnimationDuration:j.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:j.cmsViewConfig.exitAnimationDuration,data:{id:this.permissionTableRowSelected.id}}).afterClosed().subscribe(a=>{a&&a.dialogChangedDate&&this.DataGetAllPermission()})}onActionPermissionButtonDeleteRow(e){if(!e?.id||(typeof e.id=="string"?e.id.length===0:e.id<=0)){this.cmsToastrService.typeErrorSelectedRow();return}this.permissionTableRowSelected=e;let i="",t="";this.translate.get("MESSAGE.Delete").subscribe(a=>{i=a}),this.translate.get("MESSAGE.Do_you_want_to_delete_this_content").subscribe(a=>{t=a+"?"}),this.cmsConfirmationDialogService.confirm(i,t).then(a=>{a&&this.smsMainClientApplicationPermissionService.ServiceDelete(this.permissionTableRowSelected.id).subscribe({next:p=>{p.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAllPermission()):this.cmsToastrService.typeErrorRemove()},error:p=>{this.cmsToastrService.typeError(p)}})}).catch(()=>{})}};Ko.\u0275fac=function(i){return new(i||Ko)(_(ve),_(be),_(Ye),_(Qi),_(zi),_(St),_(W),_(Oe),_(U),_(Ce),_(G),_(O),_(Se))},Ko.\u0275cmp=N({type:Ko,selectors:[["app-sms-client-application-edit"]],viewQuery:function(i,t){if(i&1&&ee(tf,5),i&2){let a;te(a=ie())&&(t.formGroup=a.first)}},standalone:!1,features:[X],decls:44,vars:40,consts:[["vform","ngForm"],["Title",""],["FromDate",""],["ExpireDate",""],["Description",""],["ApiKey",""],["FirewallAllowIPInput",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"label"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],[3,"optionSelectForce","optionPlaceholder","optionDisabled","optionLabel"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],[1,"mb-4"],[1,"mt-3"],[1,"d-flex","justify-content-between","align-items-center","mb-3"],[1,"mb-0"],[1,"text-muted"],["type","button",1,"btn","font-13","font-600","btn-s","rounded-s","shadow-xl","border-0","gradient-gray","me-2",3,"click","disabled","title"],[1,"fa","fa-refresh"],["type","button",1,"btn","font-13","font-600","btn-s","rounded-s","shadow-xl","border-0","gradient-green",3,"click","disabled"],[1,"fa","fa-save"],[1,"text-center","py-4"],[1,"alert","alert-info","mt-3","text-center","py-4"],[1,"form-actions","mt-3"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[3,"optionChange","optionSelectForce","optionPlaceholder","optionDisabled","optionLabel"],["for","dataModel.fromDate",1,"color-highlight"],["matInput","","type","text","name","dataModel.fromDate","id","dataModel.fromDate",1,"form-control","validate-name",3,"ngModelChange","matDatepicker","ngModel","disabled"],["matSuffix","",3,"for"],["touchUi","",3,"calendarHeaderComponent"],["for","dataModel.expireDate",1,"color-highlight"],["matInput","","type","text","name","dataModel.expireDate","id","dataModel.expireDate",1,"form-control","validate-name",3,"ngModelChange","matDatepicker","ngModel","disabled"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.apiKey",1,"color-highlight"],["matInput","","type","text","name","dataModel.apiKey","id","dataModel.apiKey",1,"form-control","validate-name","input-ltr",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field"],["for","firewallAllowIPInput",1,"color-highlight"],[1,"d-flex"],["matInput","","type","text","name","firewallAllowIPInput","id","firewallAllowIPInput",1,"form-control","validate-name","input-ltr",3,"ngModelChange","ngModel","placeholder","disabled"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"click","disabled"],[1,"fa","fa-plus"],[1,"d-flex","flex-wrap","mt-2",2,"gap","0.5rem"],[1,"badge","bg-info","d-inline-flex","align-items-center","font-13"],[1,"fa","fa-times","ms-2",2,"cursor","pointer",3,"click"],[1,"fa","fa-spinner","fa-spin","fa-2x","text-primary"],[1,"mt-2"],[1,"table-responsive"],[1,"table","table-hover","table-striped"],[1,"table-dark"],[1,"text-center"],[1,"mt-3","text-center"],["type","button",1,"btn","font-13","font-600","btn-s","rounded-s","shadow-xl","border-0","gradient-green",3,"click"],["type","checkbox",1,"form-check-input",3,"ngModelChange","ngModel","name"],["type","checkbox",1,"form-check-input",3,"change","checked","name","indeterminate"],[3,"modelChange","model","optionDisabled","optionRequired"],["rows","2",1,"form-control",3,"ngModelChange","ngModel","name","placeholder"],[1,"fa","fa-info-circle","fa-2x","mb-2"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let a=A();r(0,"div",7),g(1,"app-progress-spinner",8),r(2,"div",9)(3,"p",10),d(4),s(),r(5,"p"),d(6),S(7,"translate"),s(),g(8,"app-cms-form-result-message",11),r(9,"form",12,0),I("ngSubmit",function(){return u(a),f(t.onFormSubmit())}),r(11,"mat-tab-group")(12,"mat-tab",13),S(13,"translate"),b(14,of,1,5,"app-cms-enum-record-status-selector",14),b(15,lf,10,9,"div",15),b(16,cf,2,6,"app-cms-user-selector",16),b(17,df,2,6,"app-cms-site-selector",16),b(18,mf,7,6,"div",17),b(19,pf,7,6,"div",17),b(20,uf,7,6,"div",15),b(21,ff,7,6,"div",15),b(22,Cf,10,7,"div",18),s(),r(23,"mat-tab",13),S(24,"translate"),r(25,"div",19)(26,"div",20)(27,"div")(28,"h5",21),d(29),S(30,"translate"),s(),b(31,gf,3,4,"small",22),s(),r(32,"div")(33,"button",23),S(34,"translate"),I("click",function(){return u(a),t.DataGetAllApiPaths(),f(t.DataGetAllPermission())}),g(35,"i",24),s(),r(36,"button",25),I("click",function(){return u(a),f(t.onActionSavePermissionChanges())}),g(37,"i",26),d(38),S(39,"translate"),s()()(),b(40,Mf,5,3,"div",27),b(41,Af,19,10)(42,Ef,5,3,"div",28),s()()(),b(43,yf,9,7,"div",29),s()()()}i&2&&(o(),h("optionsInfoAreaId",t.constructorInfoAreaId),o(3),M(" ",t.formInfo.formTitle," "),o(2),M(" ",C(7,28,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),h("formInfo",t.formInfo),o(4),h("label",k(C(13,30,"TITLE.REQUIRED_INFORMATION"))),o(2),v(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?14:-1),o(),v(t.fieldsInfo.title!=null&&t.fieldsInfo.title.accessWatchField?15:-1),o(),v(t.fieldsInfo.linkCoreUserId!=null&&t.fieldsInfo.linkCoreUserId.accessWatchField?16:-1),o(),v(t.fieldsInfo.linkSiteId!=null&&t.fieldsInfo.linkSiteId.accessWatchField?17:-1),o(),v(t.fieldsInfo.fromDate!=null&&t.fieldsInfo.fromDate.accessWatchField?18:-1),o(),v(t.fieldsInfo.expireDate!=null&&t.fieldsInfo.expireDate.accessWatchField?19:-1),o(),v(t.fieldsInfo.description!=null&&t.fieldsInfo.description.accessWatchField?20:-1),o(),v(t.fieldsInfo.apiKey!=null&&t.fieldsInfo.apiKey.accessWatchField?21:-1),o(),v(t.fieldsInfo.firewallAllowIP!=null&&t.fieldsInfo.firewallAllowIP.accessWatchField?22:-1),o(),h("label",k(C(24,32,"TITLE.PERMISSION"))),o(6),y(C(30,34,"TITLE.PERMISSION")),o(2),v(!t.apiPathListLoading&&!t.permissionLoading&&t.apiPathList?31:-1),o(2),h("disabled",t.apiPathListLoading||t.permissionLoading)("title",C(34,36,"ACTION.REFRESH")),o(2),B("fa-spin",t.apiPathListLoading||t.permissionLoading),o(),h("disabled",t.apiPathListLoading||t.permissionLoading),o(2),M(" ",C(39,38,"ACTION.SAVE")," "),o(2),v(t.apiPathListLoading||t.permissionLoading?40:-1),o(),v(!t.apiPathListLoading&&!t.permissionLoading&&t.apiPathList&&t.apiPathList.length>0?41:!t.apiPathListLoading&&!t.permissionLoading?42:-1),o(2),v(t.formInfo.submitButtonEnabled?43:-1))},dependencies:[_e,ne,Je,oe,ge,fe,Be,Fe,he,Me,Ot,Gt,Ht,Le,Ft,J,cs,ds,yi,Te,li,K,Ee,Es,H],encapsulation:2});var fr=Ko;var Tf=()=>["expandedDetail"],Pf=()=>[5,10,20,100],Vs=n=>({display:n});function Rf(n,l){if(n&1){let e=A();r(0,"div",14)(1,"a",34),I("click",function(){u(e);let t=m();return f(t.onActionButtonNewRow())}),g(2,"i",35),s(),r(3,"p",36),d(4),S(5,"translate"),s()()}n&2&&(o(4),M(" ",C(5,1,"ACTION.ADD")," "))}function xf(n,l){if(n&1){let e=A();r(0,"div",14)(1,"a",37),I("click",function(){u(e);let t=m();return f(t.onActionButtonEditRow(t.tableRowSelected))}),g(2,"i",38)(3,"br"),s(),r(4,"p",36),d(5),S(6,"translate"),s()()}n&2&&(o(5),M(" ",C(6,1,"ACTION.EDIT")," "))}function Df(n,l){if(n&1){let e=A();r(0,"div",14)(1,"a",39),I("click",function(){u(e);let t=m();return f(t.onActionButtonDeleteRow(t.tableRowSelected))}),g(2,"i",40)(3,"br"),s(),r(4,"p",36),d(5),S(6,"translate"),s()()}n&2&&(o(5),M(" ",C(6,1,"ACTION.DELETE")," "))}function kf(n,l){if(n&1){let e=A();r(0,"div",14)(1,"a",41),I("click",function(){u(e);let t=m();return f(t.onActionButtonPermissionList(t.tableRowSelected))}),g(2,"i",42)(3,"br"),s(),r(4,"p",36),d(5),S(6,"translate"),s()()}n&2&&(o(5),M(" ",C(6,1,"ACTION.PERMISSION")," "))}function Lf(n,l){if(n&1&&(r(0,"mat-header-cell",43),d(1),s()),n&2){let e=m();o(),M(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," ")}}function Vf(n,l){if(n&1&&(r(0,"mat-cell"),d(1),s()),n&2){let e=l.$implicit;o(),M(" ",e.title," ")}}function Nf(n,l){if(n&1&&(r(0,"mat-header-cell",43),d(1),s()),n&2){let e=m();o(),M(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function Bf(n,l){if(n&1&&(r(0,"mat-cell"),d(1),S(2,"cmssiteinfo"),S(3,"async"),s()),n&2){let e=l.$implicit;o(),M(" ",C(3,3,C(2,1,e.linkSiteId))," ")}}function Ff(n,l){if(n&1&&(r(0,"mat-header-cell",43),d(1),s()),n&2){let e=m();o(),M(" ",e.fieldsInfo.linkUserId==null?null:e.fieldsInfo.linkUserId.fieldTitle," ")}}function Of(n,l){if(n&1&&(r(0,"mat-cell"),d(1),S(2,"cmsuserinfo"),S(3,"async"),s()),n&2){let e=l.$implicit;o(),M(" ",C(3,3,C(2,1,e.linkUserId))," ")}}function Gf(n,l){if(n&1&&(r(0,"mat-header-cell",43),d(1),s()),n&2){let e=m();o(),M(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function Hf(n,l){if(n&1&&g(0,"select",45),n&2){let e=m().$implicit,i=m();h("contentService",i.contentService)("row",e)("ngStyle",Wi(3,Vs,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function Wf(n,l){if(n&1&&(r(0,"mat-cell"),g(1,"i",44),S(2,"statusIconClass"),b(3,Hf,1,5,"select",45),s()),n&2){let e=l.$implicit,i=m();o(),h("ngClass",C(2,2,e.recordStatus)),o(2),v(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessEditRow?3:-1)}}function Uf(n,l){if(n&1&&(r(0,"mat-header-cell",43),d(1),s()),n&2){let e=m();o(),M(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function qf(n,l){if(n&1&&(r(0,"mat-cell"),d(1),S(2,"date"),s()),n&2){let e=l.$implicit;o(),M(" ",Nt(2,1,e.createdDate,"yyyy-MM-dd HH:mm")," ")}}function jf(n,l){if(n&1&&(r(0,"mat-header-cell",43),d(1),s()),n&2){let e=m();o(),M(" ",e.fieldsInfo.updatedDate==null?null:e.fieldsInfo.updatedDate.fieldTitle," ")}}function Qf(n,l){if(n&1&&(r(0,"mat-cell"),d(1),S(2,"date"),s()),n&2){let e=l.$implicit;o(),M(" ",Nt(2,1,e.updatedDate,"yyyy-MM-dd HH:mm")," ")}}function zf(n,l){if(n&1){let e=A();r(0,"mat-cell")(1,"div")(2,"table")(3,"tr")(4,"th"),d(5),r(6,"span",46),I("click",function(){u(e);let t=m();return f(t.onActionCopied())}),g(7,"i",47),s()()(),r(8,"tr")(9,"td"),d(10),s(),r(11,"td"),d(12),S(13,"cmsuserinfo"),S(14,"async"),s()(),r(15,"tr")(16,"td"),d(17),s(),r(18,"td"),d(19),S(20,"cmssiteinfo"),S(21,"async"),s()()()()()}if(n&2){let e=l.$implicit,i=m();o(5),M(" ",e.id," "),o(),h("cdkCopyToClipboard",e.id),o(4),M("",i.fieldsInfo.linkUserId==null?null:i.fieldsInfo.linkUserId.fieldTitle,":"),o(2),y(C(14,8,C(13,6,e.linkUserId))),o(5),M("",i.fieldsInfo.linkSiteId==null?null:i.fieldsInfo.linkSiteId.fieldTitle,":"),o(2),y(C(21,12,C(20,10,e.linkSiteId)))}}function Kf(n,l){n&1&&g(0,"mat-header-row")}function Xf(n,l){if(n&1){let e=A();r(0,"mat-row",48),I("click",function(t){let a=u(e).$implicit,p=m();return f(p.onActionTableRowSelect(a,t))})("rtclick",function(t){let a=u(e).$implicit,p=m();return f(p.onActionTableRowSelect(a,t))})("mouseenter",function(){let t=u(e).$implicit,a=m();return f(a.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=u(e).$implicit,a=m();return f(a.onActionTableRowMouseLeave(t))}),s()}if(n&2){let e=l.$implicit,i=m();B("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}function Yf(n,l){if(n&1){let e=A();r(0,"mat-row",49),I("click",function(t){let a=u(e).$implicit,p=m();return f(p.onActionTableRowSelect(a,t))})("rtclick",function(t){let a=u(e).$implicit,p=m();return f(p.onActionTableRowSelect(a,t))})("mouseenter",function(){let t=u(e).$implicit,a=m();return f(a.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=u(e).$implicit,a=m();return f(a.onActionTableRowMouseLeave(t))}),s()}if(n&2){let e=l.$implicit,i=m();B("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)),h("ngStyle",Wi(3,Vs,e.expanded===!0?"":"none"))}}var Xo=class Xo extends Qe{constructor(e,i,t,a,p,c,E,F,Ne,tt,Pe,It){super(e,new Ti,Pe,c,Ne);this.contentService=e;this.cmsToastrService=i;this.activatedRoute=t;this.cmsConfirmationDialogService=a;this.router=p;this.tokenHelper=c;this.cdr=E;this.cmsStoreService=F;this.translate=Ne;this.pageInfo=tt;this.publicHelper=Pe;this.dialog=It;this.tableData=[];this.requestLinkUserId="";this.requestLinkSiteId=0;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new Y;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["recordStatus","title","linkUserId","linkSiteId","createdDate","updatedDate"];this.tabledisplayedColumnsMobileSource=["recordStatus","title","linkUserId","createdDate"];this.unsubscribe=[];if(this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:z=>this.onSubmitOptionsSearch(z)},this.activatedRoute.snapshot.paramMap.get("LinkUserId")&&(this.requestLinkUserId=this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.activatedRoute.snapshot.paramMap.get("LinkSiteId")&&(this.requestLinkSiteId=+this.activatedRoute.snapshot.paramMap.get("LinkSiteId")||0),this.requestLinkUserId?.length>0){let z=new V;z.propertyName="LinkUserId",z.value=this.requestLinkUserId,this.filteModelContent.filters.push(z)}if(this.requestLinkSiteId>0){let z=new V;z.propertyName="linkSiteId",z.value=this.requestLinkSiteId,this.filteModelContent.filters.push(z)}this.filteModelContent.sortColumn="id",this.filteModelContent.sortType=Q.Descending}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>ae(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Ti);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,t.isSuccess?(this.tableData=t.listItems,this.tableSource.data=t.listItems,this.sort&&(this.tableSource.sort=this.sort),this.paginator&&(this.tableSource.paginator=this.paginator),this.tableSource.filter="",this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=Q.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=Q.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=Q.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}let e=this.requestLinkUserId;var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(ur,{height:"90%",width:"60%",panelClass:i,enterAnimationDuration:j.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:j.cmsViewConfig.exitAnimationDuration,data:{linkUserId:e}}).afterClosed().subscribe(a=>{a&&a.dialogChangedDate&&(this.onActionButtonEditRow(a.model),this.DataGetAll())})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length==0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.tableRowSelected=e,this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(fr,{height:"90%",panelClass:i,enterAnimationDuration:j.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:j.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(a=>{a&&a.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length==0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(a=>{this.cmsToastrService.typeErrorSelected(a)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(a=>{i=a["MESSAGE.Please_Confirm"],t=a["MESSAGE.Do_you_want_to_delete_this_content"]+"?"}),this.cmsConfirmationDialogService.confirm(i,t).then(a=>{if(a){let p=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(p,c,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(p)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(p,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{i.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{i.set(c,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(E=>{i.set(E,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}});let a=JSON.parse(JSON.stringify(this.filteModelContent)),p=new V;p.propertyName="recordStatus",p.value=ke.Available,a.filters.push(p),this.contentService.ServiceGetCount(a).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(E=>{i.set(E,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonPermissionList(e=this.tableRowSelected,i){if(!e||!e.id||e.id.length==0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null){this.cmsToastrService.typeErrorSelected();return}if(i?.ctrlKey){let t="/#/sms/main/client-application-permission/LinkClientApplicationId/"+this.tableRowSelected.id;window.open(t,"_blank")}else this.router.navigate(["/sms/main/client-application-permission/LinkClientApplicationId/",this.tableRowSelected.id])}onActionButtonReload(){this.DataGetAll()}onActionCopied(){this.cmsToastrService.typeSuccessCopedToClipboard()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}};Xo.\u0275fac=function(i){return new(i||Xo)(_(Qi),_(W),_(Xe),_(Oe),_(He),_(Ce),_(G),_(Ae),_(O),_(je),_(U),_(Se))},Xo.\u0275cmp=N({type:Xo,selectors:[["app-sms-client-application-list"]],viewQuery:function(i,t){if(i&1&&(ee($e,5),ee(Ie,5)),i&2){let a;te(a=ie())&&(t.sort=a.first),te(a=ie())&&(t.paginator=a.first)}},standalone:!1,features:[X],decls:56,vars:33,consts:[["tableSort","matSort"],["paginator",""],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","","multiTemplateDataRows","",3,"matSortChange","dataSource"],["matColumnDef","title"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","linkSiteId"],["matColumnDef","linkUserId"],["matColumnDef","recordStatus"],["matColumnDef","createdDate"],["matColumnDef","updatedDate"],["matColumnDef","expandedDetail"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["class","ntk-row-expandedDetail",3,"ntk-row-selected","ngStyle","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-key","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"navi-icon","pointer",3,"click","cdkCopyToClipboard"],[1,"flaticon2-copy"],[1,"ntk-row-mainfild",3,"click","rtclick","mouseenter","mouseleave"],[1,"ntk-row-expandedDetail",3,"click","rtclick","mouseenter","mouseleave","ngStyle"]],template:function(i,t){if(i&1){let a=A();r(0,"app-cms-html-list",2),P("optionActionGuideNoticeDisplayChange",function(c){return u(a),T(t.viewGuideNotice,c)||(t.viewGuideNotice=c),f(c)}),I("optionOnActionButtonMemoRow",function(){return u(a),f(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return u(a),f(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return u(a),f(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return u(a),f(t.onActionButtonPrintRow())}),ze(1,3)(2,4)(3,5),R(4,6),r(5,"a",7),I("click",function(){return u(a),f(t.viewGuideNotice=!t.viewGuideNotice)}),g(6,"i",8),s(),r(7,"a",7),I("click",function(){return u(a),f(t.onActionButtonReload())}),g(8,"i",9),s(),x(),R(9,10),r(10,"a",11),I("click",function(){return u(a),f(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),g(11,"mat-slide-toggle",12),d(12),S(13,"translate"),s(),r(14,"a",11),I("click",function(){return u(a),f(t.onActionButtonStatist())}),g(15,"mat-slide-toggle",12),d(16),S(17,"translate"),s(),x(),R(18,13),b(19,Rf,6,3,"div",14),x(),R(20,15),b(21,xf,7,3,"div",14),b(22,Df,7,3,"div",14),b(23,kf,7,3,"div",14),x(),R(24,16),r(25,"app-cms-search-list",17),P("optionsChange",function(c){return u(a),T(t.optionsSearch,c)||(t.optionsSearch=c),f(c)}),s(),r(26,"app-cms-statist-list",17),P("optionsChange",function(c){return u(a),T(t.optionsStatist,c)||(t.optionsStatist=c),f(c)}),s(),x(),R(27,18),r(28,"mat-table",19,0),I("matSortChange",function(){u(a);let c=D(29);return f(t.onTableSortData(c))}),R(30,20),L(31,Lf,2,1,"mat-header-cell",21)(32,Vf,2,1,"mat-cell",22),x(),R(33,23),L(34,Nf,2,1,"mat-header-cell",21)(35,Bf,4,5,"mat-cell",22),x(),R(36,24),L(37,Ff,2,1,"mat-header-cell",21)(38,Of,4,5,"mat-cell",22),x(),R(39,25),L(40,Gf,2,1,"mat-header-cell",21)(41,Wf,4,4,"mat-cell",22),x(),R(42,26),L(43,Uf,2,1,"mat-header-cell",21)(44,qf,3,4,"mat-cell",22),x(),R(45,27),L(46,jf,2,1,"mat-header-cell",21)(47,Qf,3,4,"mat-cell",22),x(),R(48,28),L(49,zf,22,14,"mat-cell",22),x(),L(50,Kf,1,0,"mat-header-row",29)(51,Xf,1,2,"mat-row",30)(52,Yf,1,5,"mat-row",31),s(),x(),R(53,32),r(54,"mat-paginator",33,1),I("page",function(c){return u(a),f(t.onTablePageingData(c))}),s(),x(),s()}i&2&&(h("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey","sms.client-application.list"),w("optionActionGuideNoticeDisplay",t.viewGuideNotice),h("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.title),o(8),B("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(3),h("checked",t.optionsSearch.data.show),o(),M("",C(13,27,"ACTION.SEARCH")," "),o(3),h("checked",t.optionsStatist.data.show),o(),M("",C(17,29,"ACTION.STATIST")," "),o(3),v(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessAddRow?19:-1),o(2),v(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?21:-1),o(),v(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?22:-1),o(),v(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessWatchRow?23:-1),o(2),w("options",t.optionsSearch),o(),w("options",t.optionsStatist),o(2),h("dataSource",t.tableSource),o(22),h("matHeaderRowDef",t.tabledisplayedColumns),o(),h("matRowDefColumns",t.tabledisplayedColumns),o(),h("matRowDefColumns",xe(31,Tf)),o(2),h("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",xe(32,Pf)))},dependencies:[Ge,Ui,J,Ie,at,$e,At,Et,wt,xt,Tt,yt,Dt,Pt,Rt,kt,Lt,dn,We,Ue,Vt,rt,sr,it,Qa,H,wi,Xi,qe],encapsulation:2});var wn=Xo;var Jf=()=>[5,10,20,100],Zf=(n,l)=>l.id;function $f(n,l){if(n&1){let e=A();r(0,"div",13)(1,"a",22),I("click",function(){u(e);let t=m();return f(t.onActionButtonNewRow())}),g(2,"i",23)(3,"br"),s(),r(4,"p",24),d(5),S(6,"translate"),s()()}n&2&&(o(5),M(" ",C(6,1,"ACTION.ADD")," "))}function eh(n,l){if(n&1){let e=A();r(0,"div",13)(1,"a",25),I("click",function(){u(e);let t=m();return f(t.onActionButtonEditRow(t.tableRowSelected))}),g(2,"i",26)(3,"br"),s(),r(4,"p",24),d(5),S(6,"translate"),s()()}n&2&&(o(5),M(" ",C(6,1,"ACTION.EDIT")," "))}function th(n,l){if(n&1){let e=A();r(0,"div",13)(1,"a",27),I("click",function(){u(e);let t=m();return f(t.onActionButtonDeleteRow(t.tableRowSelected))}),g(2,"i",28)(3,"br"),s(),r(4,"p",24),d(5),S(6,"translate"),s()()}n&2&&(o(5),M(" ",C(6,1,"ACTION.DELETE")," "))}function ih(n,l){if(n&1){let e=A();r(0,"div",13)(1,"a",6),I("click",function(){u(e);let t=m();return f(t.onActionButtonPermissionList(t.tableRowSelected))}),g(2,"i",29)(3,"br"),s(),r(4,"p",24),d(5),S(6,"translate"),s()()}n&2&&(o(5),M(" ",C(6,1,"ACTION.PERMISSION")," "))}function nh(n,l){if(n&1&&(r(0,"div",36),g(1,"i",38),d(2),s()),n&2){let e=m().$implicit,i=m(2);o(2),ue(" ",i.fieldsInfo.id==null?null:i.fieldsInfo.id.fieldTitle,": ",e.id," ")}}function oh(n,l){if(n&1&&(r(0,"div",36),g(1,"i",39),d(2),S(3,"cmsuserinfo"),S(4,"async"),s()),n&2){let e=m().$implicit,i=m(2);o(2),ue(" ",i.fieldsInfo.linkUserId==null?null:i.fieldsInfo.linkUserId.fieldTitle,": ",C(4,4,C(3,2,e.linkUserId))," ")}}function ah(n,l){if(n&1&&(r(0,"div",36),g(1,"i",40),d(2),S(3,"cmssiteinfo"),S(4,"async"),s()),n&2){let e=m().$implicit,i=m(2);o(2),ue(" ",i.fieldsInfo.linkSiteId==null?null:i.fieldsInfo.linkSiteId.fieldTitle,": ",C(4,4,C(3,2,e.linkSiteId))," ")}}function rh(n,l){if(n&1&&(r(0,"div",36),g(1,"i",41),d(2),S(3,"date"),s()),n&2){let e=m().$implicit,i=m(2);o(2),ue(" ",i.fieldsInfo.createdDate==null?null:i.fieldsInfo.createdDate.fieldTitle,": ",Nt(3,2,e.createdDate,"yyyy-MM-dd HH:mm")," ")}}function sh(n,l){if(n&1&&(r(0,"div",36),g(1,"i",42),d(2),S(3,"date"),s()),n&2){let e=m().$implicit,i=m(2);o(2),ue(" ",i.fieldsInfo.updatedDate==null?null:i.fieldsInfo.updatedDate.fieldTitle,": ",Nt(3,2,e.updatedDate,"yyyy-MM-dd HH:mm")," ")}}function lh(n,l){if(n&1&&g(0,"select",44),n&2){let e=m(2).$implicit,i=m(2);h("contentService",i.contentService)("row",e)}}function ch(n,l){if(n&1&&(r(0,"div",36),g(1,"i",43),S(2,"statusIconClass"),b(3,lh,1,2,"select",44),s()),n&2){let e=m().$implicit,i=m(2);o(),h("ngClass",C(2,2,e.recordStatus)),o(2),v(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessEditRow&&e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?3:-1)}}function dh(n,l){if(n&1&&(r(0,"div",36),d(1),S(2,"cmsuserinfo"),S(3,"async"),s()),n&2){let e=m(2).$implicit,i=m(2);o(),ue(" ",i.fieldsInfo.linkUserId==null?null:i.fieldsInfo.linkUserId.fieldTitle,": ",C(3,4,C(2,2,e.linkUserId))," ")}}function mh(n,l){if(n&1&&(r(0,"div",36),d(1),S(2,"cmssiteinfo"),S(3,"async"),s()),n&2){let e=m(2).$implicit,i=m(2);o(),ue(" ",i.fieldsInfo.linkSiteId==null?null:i.fieldsInfo.linkSiteId.fieldTitle,": ",C(3,4,C(2,2,e.linkSiteId))," ")}}function ph(n,l){if(n&1){let e=A();r(0,"div",37)(1,"div",36)(2,"span",45),I("click",function(t){return u(e),m(3).onActionCopied(),f(t.stopPropagation())}),g(3,"i",46),s(),d(4),s(),b(5,dh,4,6,"div",36),b(6,mh,4,6,"div",36),s()}if(n&2){let e=m().$implicit;o(2),h("cdkCopyToClipboard",e.id.toString()),o(2),M(" ID: ",e.id," "),o(),v(e.linkUserId?5:-1),o(),v(e.linkSiteId?6:-1)}}function uh(n,l){if(n&1){let e=A();r(0,"div",31),I("click",function(t){let a=u(e).$implicit,p=m(2);return f(p.onActionTableRowSelect(a,t))})("rtclick",function(t){let a=u(e).$implicit,p=m(2);return f(p.onActionTableRowSelect(a,t))})("mouseenter",function(){let t=u(e).$implicit,a=m(2);return f(a.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=u(e).$implicit,a=m(2);return f(a.onActionTableRowMouseLeave(t))}),r(1,"div",32),g(2,"i",33),s(),r(3,"div",34)(4,"div",35),d(5),s(),b(6,nh,3,2,"div",36),b(7,oh,5,6,"div",36),b(8,ah,5,6,"div",36),b(9,rh,4,5,"div",36),b(10,sh,4,5,"div",36),b(11,ch,4,4,"div",36),b(12,ph,7,4,"div",37),s()()}if(n&2){let e=l.$implicit,i=m(2);B("selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)),se("aria-label",e.title||e.id),o(5),M(" ",e.title||"ID: "+e.id," "),o(),v(e.id?6:-1),o(),v(e.linkUserId?7:-1),o(),v(e.linkSiteId?8:-1),o(),v(e.createdDate?9:-1),o(),v(e.updatedDate?10:-1),o(),v(e.recordStatus!==void 0?11:-1),o(),v(i.getRowExpanded(e)?12:-1)}}function fh(n,l){if(n&1&&(r(0,"div",18),Z(1,uh,13,11,"div",30,Zf),s()),n&2){let e=m();o(),$(e.dataModelResult.listItems)}}function hh(n,l){n&1&&(r(0,"div",19),d(1),S(2,"translate"),s()),n&2&&(o(),M(" ",C(2,1,"MESSAGE.No_Data_Found")," "))}var Fn=class Fn extends wn{constructor(){super(...arguments);this.actionMenuOpen=null}toggleActionMenu(e){let i=String(e);this.actionMenuOpen===i?this.actionMenuOpen=null:this.actionMenuOpen=i}closeActionMenu(){this.actionMenuOpen=null}toString(e){return String(e)}onDocumentClick(e){let i=e.target;!i.closest(".cms-m-action-menu")&&!i.closest(".cms-m-action-menu-dropdown")&&this.closeActionMenu()}getRowExpanded(e){return e.expanded===!0}};Fn.\u0275fac=(()=>{let e;return function(t){return(e||(e=Gr(Fn)))(t||Fn)}})(),Fn.\u0275cmp=N({type:Fn,selectors:[["app-sms-client-application-list-mobile"]],hostBindings:function(i,t){i&1&&I("click",function(p){return t.onDocumentClick(p)},Ua)},standalone:!1,features:[X],decls:33,vars:31,consts:[["paginator",""],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplay","optionActionRowDisplayMenu","optionActionRowDisplayMenuAct","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],[1,"cms-m-list"],[1,"cms-m-empty"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-key","font-18",2,"color","#ffffff"],["role","button","tabindex","0",1,"cms-m-list-item",3,"selected"],["role","button","tabindex","0",1,"cms-m-list-item",3,"click","rtclick","mouseenter","mouseleave"],[1,"cms-m-list-item-image-placeholder"],["aria-hidden","true",1,"fa-solid","fa-mobile-alt"],[1,"cms-m-list-item-content"],[1,"cms-m-list-item-title"],[1,"cms-m-list-item-subtitle"],[1,"cms-m-list-item-expanded"],["aria-hidden","true",1,"fa-solid","fa-hashtag"],["aria-hidden","true",1,"fa-solid","fa-user"],["aria-hidden","true",1,"fa-solid","fa-globe"],["aria-hidden","true",1,"fa-solid","fa-calendar-plus"],["aria-hidden","true",1,"fa-solid","fa-calendar-check"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none","margin-left","8px",3,"contentService","row"],[1,"navi-icon","pointer",3,"click","cdkCopyToClipboard"],[1,"flaticon2-copy"]],template:function(i,t){if(i&1){let a=A();r(0,"app-cms-html-list-mobile",1),P("optionActionGuideNoticeDisplayChange",function(c){return u(a),T(t.viewGuideNotice,c)||(t.viewGuideNotice=c),f(c)}),I("optionOnActionButtonMemoRow",function(){return u(a),f(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return u(a),f(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return u(a),f(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return u(a),f(t.onActionButtonPrintRow())}),ze(1,2)(2,3)(3,4),R(4,5),r(5,"a",6),I("click",function(){return u(a),f(t.viewGuideNotice=!t.viewGuideNotice)}),g(6,"i",7),s(),r(7,"a",6),I("click",function(){return u(a),f(t.onActionButtonReload())}),g(8,"i",8),s(),x(),R(9,9),r(10,"a",10),I("click",function(){return u(a),f(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),g(11,"mat-slide-toggle",11),d(12),S(13,"translate"),s(),r(14,"a",10),I("click",function(){return u(a),f(t.onActionButtonStatist())}),g(15,"mat-slide-toggle",11),d(16),S(17,"translate"),s(),x(),R(18,12),b(19,$f,7,3,"div",13),x(),R(20,14),b(21,eh,7,3,"div",13),b(22,th,7,3,"div",13),b(23,ih,7,3,"div",13),x(),R(24,15),r(25,"app-cms-search-list",16),P("optionsChange",function(c){return u(a),T(t.optionsSearch,c)||(t.optionsSearch=c),f(c)}),s(),r(26,"app-cms-statist-list",16),P("optionsChange",function(c){return u(a),T(t.optionsStatist,c)||(t.optionsStatist=c),f(c)}),s(),x(),R(27,17),b(28,fh,3,0,"div",18)(29,hh,3,3,"div",19),x(),R(30,20),r(31,"mat-paginator",21,0),I("page",function(c){return u(a),f(t.onTablePageingData(c))}),s(),x(),s()}i&2&&(h("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey","sms.client-application.list"),w("optionActionGuideNoticeDisplay",t.viewGuideNotice),h("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplay",(t.tableRowSelected==null?null:t.tableRowSelected.id)>0)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionActionRowDisplayMenuAct",t.tableRowSelectActionMenuClick)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.title),o(8),B("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(3),h("checked",t.optionsSearch.data.show),o(),M("",C(13,26,"ACTION.SEARCH")," "),o(3),h("checked",t.optionsStatist.data.show),o(),M("",C(17,28,"ACTION.STATIST")," "),o(3),v(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessAddRow?19:-1),o(2),v(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow&&(t.tableRowSelected==null?null:t.tableRowSelected.id)>0?21:-1),o(),v(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow&&(t.tableRowSelected==null?null:t.tableRowSelected.id)>0?22:-1),o(),v(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessWatchRow&&(t.tableRowSelected==null?null:t.tableRowSelected.id)>0?23:-1),o(2),w("options",t.optionsSearch),o(),w("options",t.optionsStatist),o(2),v(!(t.dataModelResult==null||t.dataModelResult.listItems==null)&&t.dataModelResult.listItems.length?28:29),o(3),h("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",xe(30,Jf)))},dependencies:[Ge,J,Ie,at,dn,We,Ue,to,rt,sr,it,Qa,H,wi,Xi,qe],styles:[".cms-m-body[_ngcontent-%COMP%]{min-height:100vh;background:var(--cms-m-bg, #0f172a);color:var(--cms-m-fg, #e2e8f0)}.cms-m-header[_ngcontent-%COMP%]{position:sticky;top:0;z-index:2;background:var(--cms-m-header-bg, #0f172a);border-bottom:1px solid rgba(255,255,255,.08)}.cms-m-header-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:12px 16px}.cms-m-header-title[_ngcontent-%COMP%]{margin:0;font-size:16px;font-weight:600;color:var(--cms-m-accent, #38bdf8)}.cms-m-header-actions[_ngcontent-%COMP%]{display:flex;gap:8px;margin-left:auto}.cms-m-header-action-btn[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:12px;border:1px solid rgba(255,255,255,.08);background:#ffffff0d;color:#e2e8f0;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .2s ease}.cms-m-header-action-btn[_ngcontent-%COMP%]:hover{background:#ffffff1a}.cms-m-header-action-btn.active[_ngcontent-%COMP%]{background:#38bdf833;border-color:#38bdf866}.cms-m-header-action-btn[_ngcontent-%COMP%]   i.rotation360[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_rotation360 1s linear infinite}@keyframes _ngcontent-%COMP%_rotation360{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.cms-m-search-area[_ngcontent-%COMP%]{padding:8px 12px}.cms-m-content[_ngcontent-%COMP%]{padding:8px 12px 16px}.cms-m-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.cms-m-list-item[_ngcontent-%COMP%]{display:flex;gap:12px;padding:12px;border-radius:14px;background:#ffffff0a;border:1px solid rgba(255,255,255,.06);cursor:pointer;transition:all .2s ease}.cms-m-list-item[_ngcontent-%COMP%]:active{transform:scale(.98)}.cms-m-list-item.selected[_ngcontent-%COMP%]{border-color:var(--cms-m-accent, #38bdf8);box-shadow:0 0 0 1px #38bdf84d}.cms-m-list-item-content[_ngcontent-%COMP%]{flex:1;min-width:0}.cms-m-list-item-title[_ngcontent-%COMP%]{font-weight:600;margin-bottom:4px;font-size:14px}.cms-m-list-item-subtitle[_ngcontent-%COMP%]{font-size:12px;color:#94a3b8}.cms-m-list-item-actions[_ngcontent-%COMP%]{display:flex;align-items:center;flex-shrink:0}.cms-m-empty[_ngcontent-%COMP%]{padding:24px;text-align:center;color:#94a3b8}"]});var Yo=Fn;var Sh=()=>["expandedDetail"],Ch=()=>[5,10,20,100],gh=n=>({display:n});function Mh(n,l){if(n&1){let e=A();r(0,"div",15)(1,"a",44),I("click",function(){u(e);let t=m();return f(t.onActionButtonNewRow())}),g(2,"i",45)(3,"br"),s(),r(4,"p",46),d(5),S(6,"translate"),s()()}n&2&&(o(5),M(" ",C(6,1,"ACTION.ADD")," "))}function _h(n,l){if(n&1){let e=A();r(0,"div",15)(1,"a",47),I("click",function(){u(e);let t=m();return f(t.onActionButtonEditRow(t.tableRowSelected))}),g(2,"i",48)(3,"br"),s(),r(4,"p",46),d(5),S(6,"translate"),s()()}n&2&&(o(5),M(" ",C(6,1,"ACTION.EDIT")," "))}function bh(n,l){if(n&1){let e=A();r(0,"div",15)(1,"a",49),I("click",function(){u(e);let t=m();return f(t.onActionButtonDeleteRow(t.tableRowSelected))}),g(2,"i",50)(3,"br"),s(),r(4,"p",46),d(5),S(6,"translate"),s()()}n&2&&(o(5),M(" ",C(6,1,"ACTION.DELETE")," "))}function vh(n,l){if(n&1&&(r(0,"mat-header-cell",51),d(1),s()),n&2){let e=m();o(),M(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function Ih(n,l){if(n&1&&(r(0,"mat-cell"),d(1),s()),n&2){let e=l.$implicit;o(),M(" ",e.id," ")}}function Ah(n,l){if(n&1&&(r(0,"mat-header-cell",51),d(1),s()),n&2){let e=m();o(),M(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function Eh(n,l){if(n&1&&(r(0,"mat-cell",52),S(1,"statusCellClass"),g(2,"i",52),S(3,"statusIconClass"),s()),n&2){let e=l.$implicit;h("ngClass",C(1,2,e.recordStatus)),o(2),h("ngClass",C(3,4,e.recordStatus))}}function yh(n,l){if(n&1&&(r(0,"mat-header-cell",51),d(1),s()),n&2){let e=m();o(),M(" ",e.fieldsInfo.linkClientApplicationId==null?null:e.fieldsInfo.linkClientApplicationId.fieldTitle," ")}}function wh(n,l){if(n&1&&(r(0,"mat-cell"),d(1),s()),n&2){let e=l.$implicit;o(),M(" ",e.linkClientApplicationId," ")}}function Th(n,l){if(n&1&&(r(0,"mat-header-cell",51),d(1),s()),n&2){let e=m();o(),M(" ",e.fieldsInfo.linkApiPathId==null?null:e.fieldsInfo.linkApiPathId.fieldTitle," ")}}function Ph(n,l){if(n&1&&(r(0,"mat-cell"),d(1),s()),n&2){let e=l.$implicit;o(),M(" ",e.linkApiPathId," ")}}function Rh(n,l){if(n&1&&(r(0,"mat-header-cell",53),d(1),s()),n&2){let e=m();o(),M(" ",e.fieldsInfo.isRequested==null?null:e.fieldsInfo.isRequested.fieldTitle," ")}}function xh(n,l){if(n&1&&(r(0,"mat-cell"),g(1,"i",52),S(2,"boolclass"),s()),n&2){let e=l.$implicit;o(),h("ngClass",C(2,1,e.isRequested))}}function Dh(n,l){if(n&1&&(r(0,"mat-header-cell",53),d(1),s()),n&2){let e=m();o(),M(" ",e.fieldsInfo.isApproved==null?null:e.fieldsInfo.isApproved.fieldTitle," ")}}function kh(n,l){n&1&&g(0,"i",54)}function Lh(n,l){if(n&1&&(g(0,"i",52),S(1,"boolclass")),n&2){let e=m().$implicit;h("ngClass",C(1,1,e.isApproved))}}function Vh(n,l){if(n&1&&(r(0,"mat-cell"),b(1,kh,1,0,"i",54)(2,Lh,2,3,"i",52),s()),n&2){let e=l.$implicit;o(),v(e.isApproved===null?1:2)}}function Nh(n,l){if(n&1&&(r(0,"mat-header-cell",51),d(1),s()),n&2){let e=m();o(),M(" ",e.fieldsInfo.fromDate==null?null:e.fieldsInfo.fromDate.fieldTitle," ")}}function Bh(n,l){if(n&1&&(r(0,"mat-cell"),d(1),S(2,"localeDate"),s()),n&2){let e=l.$implicit;o(),M(" ",C(2,1,e.fromDate)," ")}}function Fh(n,l){if(n&1&&(r(0,"mat-header-cell",51),d(1),s()),n&2){let e=m();o(),M(" ",e.fieldsInfo.expireDate==null?null:e.fieldsInfo.expireDate.fieldTitle," ")}}function Oh(n,l){if(n&1&&(r(0,"mat-cell"),d(1),S(2,"localeDate"),s()),n&2){let e=l.$implicit;o(),M(" ",C(2,1,e.expireDate)," ")}}function Gh(n,l){if(n&1&&(r(0,"mat-header-cell",51),d(1),s()),n&2){let e=m();o(),M(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function Hh(n,l){if(n&1&&(r(0,"mat-cell"),d(1),S(2,"localeDate"),s()),n&2){let e=l.$implicit;o(),M(" ",C(2,1,e.createdDate)," ")}}function Wh(n,l){if(n&1&&(r(0,"mat-header-cell",51),d(1),s()),n&2){let e=m();o(),M(" ",e.fieldsInfo.updatedDate==null?null:e.fieldsInfo.updatedDate.fieldTitle," ")}}function Uh(n,l){if(n&1&&(r(0,"mat-cell"),d(1),S(2,"localeDate"),s()),n&2){let e=l.$implicit;o(),M(" ",C(2,1,e.updatedDate)," ")}}function qh(n,l){n&1&&(r(0,"mat-header-cell"),d(1),S(2,"translate"),s()),n&2&&(o(),M(" ",C(2,1,"TITLE.OPTION")," "))}function jh(n,l){if(n&1){let e=A();r(0,"button",58),I("click",function(){u(e);let t=m().$implicit,a=m();return f(a.onActionButtonEditRow(t))}),r(1,"mat-icon"),d(2,"edit"),s(),r(3,"span"),d(4),S(5,"translate"),s()()}n&2&&(o(4),y(C(5,1,"ACTION.EDIT")))}function Qh(n,l){if(n&1){let e=A();r(0,"button",58),I("click",function(){u(e);let t=m().$implicit,a=m();return f(a.onActionButtonDeleteRow(t))}),r(1,"mat-icon"),d(2,"delete"),s(),r(3,"span"),d(4),S(5,"translate"),s()()}n&2&&(o(4),y(C(5,1,"ACTION.DELETE")))}function zh(n,l){if(n&1&&(r(0,"mat-cell",55)(1,"button",56)(2,"mat-icon"),d(3,"more_vert"),s()(),r(4,"mat-menu",null,2),b(6,jh,6,3,"button",57),b(7,Qh,6,3,"button",57),s()()),n&2){let e=D(5),i=m();o(),h("matMenuTriggerFor",e),o(5),v(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessEditRow?6:-1),o(),v(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessDeleteRow?7:-1)}}function Kh(n,l){if(n&1&&(r(0,"tr"),g(1,"td"),r(2,"td"),d(3),s()()),n&2){let e=m().$implicit,i=m();o(3),ue(" ",i.fieldsInfo.linkClientApplicationId==null?null:i.fieldsInfo.linkClientApplicationId.fieldTitle," : ",e.linkClientApplicationId," ")}}function Xh(n,l){if(n&1&&(r(0,"tr"),g(1,"td"),r(2,"td"),d(3),s()()),n&2){let e=m().$implicit,i=m();o(3),ue(" ",i.fieldsInfo.linkApiPathId==null?null:i.fieldsInfo.linkApiPathId.fieldTitle," : ",e.linkApiPathId," ")}}function Yh(n,l){if(n&1&&(r(0,"tr"),g(1,"td"),r(2,"td"),d(3),g(4,"i",52),S(5,"boolclass"),s()()),n&2){let e=m().$implicit,i=m();o(3),M(" ",i.fieldsInfo.isRequested==null?null:i.fieldsInfo.isRequested.fieldTitle," : "),o(),h("ngClass",C(5,2,e.isRequested))}}function Jh(n,l){n&1&&g(0,"i",54)}function Zh(n,l){if(n&1&&(g(0,"i",52),S(1,"boolclass")),n&2){let e=m(2).$implicit;h("ngClass",C(1,1,e.isApproved))}}function $h(n,l){if(n&1&&(r(0,"tr"),g(1,"td"),r(2,"td"),d(3),b(4,Jh,1,0,"i",54)(5,Zh,2,3,"i",52),s()()),n&2){let e=m().$implicit,i=m();o(3),M(" ",i.fieldsInfo.isApproved==null?null:i.fieldsInfo.isApproved.fieldTitle," : "),o(),v(e.isApproved===null?4:5)}}function eS(n,l){if(n&1&&(r(0,"tr"),g(1,"td"),r(2,"td"),d(3),S(4,"localeDate"),s()()),n&2){let e=m().$implicit,i=m();o(3),ue(" ",i.fieldsInfo.fromDate==null?null:i.fieldsInfo.fromDate.fieldTitle," : ",C(4,2,e.fromDate)," ")}}function tS(n,l){if(n&1&&(r(0,"tr"),g(1,"td"),r(2,"td"),d(3),S(4,"localeDate"),s()()),n&2){let e=m().$implicit,i=m();o(3),ue(" ",i.fieldsInfo.expireDate==null?null:i.fieldsInfo.expireDate.fieldTitle," : ",C(4,2,e.expireDate)," ")}}function iS(n,l){if(n&1&&(r(0,"tr"),g(1,"td"),r(2,"td"),d(3),S(4,"localeDate"),s()()),n&2){let e=m().$implicit,i=m();o(3),ue(" ",i.fieldsInfo.createdDate==null?null:i.fieldsInfo.createdDate.fieldTitle," : ",C(4,2,e.createdDate)," ")}}function nS(n,l){if(n&1&&(r(0,"tr"),g(1,"td"),r(2,"td"),d(3),S(4,"localeDate"),s()()),n&2){let e=m().$implicit,i=m();o(3),ue(" ",i.fieldsInfo.updatedDate==null?null:i.fieldsInfo.updatedDate.fieldTitle," : ",C(4,2,e.updatedDate)," ")}}function oS(n,l){if(n&1&&(r(0,"mat-cell")(1,"div")(2,"table"),b(3,Kh,4,2,"tr"),b(4,Xh,4,2,"tr"),b(5,Yh,6,4,"tr"),b(6,$h,6,2,"tr"),b(7,eS,5,4,"tr"),b(8,tS,5,4,"tr"),b(9,iS,5,4,"tr"),b(10,nS,5,4,"tr"),r(11,"tr"),g(12,"td")(13,"td"),s()()()()),n&2){let e=l.$implicit;o(3),v(e.linkClientApplicationId?3:-1),o(),v(e.linkApiPathId?4:-1),o(),v(e.isRequested!==null&&e.isRequested!==void 0?5:-1),o(),v(e.isApproved!==null&&e.isApproved!==void 0?6:-1),o(),v(e.fromDate?7:-1),o(),v(e.expireDate?8:-1),o(),v(e.createdDate?9:-1),o(),v(e.updatedDate?10:-1)}}function aS(n,l){n&1&&g(0,"mat-header-row")}function rS(n,l){if(n&1){let e=A();r(0,"mat-row",59),I("click",function(t){let a=u(e).$implicit,p=m();return f(p.onActionTableRowSelect(a,t))})("rtclick",function(t){let a=u(e).$implicit,p=m();return f(p.onActionTableRowSelect(a,t))}),s()}if(n&2){let e=l.$implicit,i=m();B("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}function sS(n,l){if(n&1){let e=A();r(0,"mat-row",60),I("click",function(t){let a=u(e).$implicit,p=m();return f(p.onActionTableRowSelect(a,t))})("rtclick",function(t){let a=u(e).$implicit,p=m();return f(p.onActionTableRowSelect(a,t))})("mouseenter",function(){let t=u(e).$implicit,a=m();return f(a.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=u(e).$implicit,a=m();return f(a.onActionTableRowMouseLeave(t))}),s()}if(n&2){let e=l.$implicit,i=m();B("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)),h("ngStyle",Wi(3,gh,e.expanded===!0?"":"none"))}}var Jo=class Jo extends Qe{constructor(e,i,t,a,p,c,E,F,Ne,tt,Pe,It){super(e,new Pi,Pe,c,F);this.contentService=e;this.cmsToastrService=i;this.activatedRoute=t;this.cmsConfirmationDialogService=a;this.router=p;this.tokenHelper=c;this.cdr=E;this.translate=F;this.cmsStoreService=Ne;this.pageInfo=tt;this.publicHelper=Pe;this.dialog=It;this.tableData=[];this.requestLinkClientApplicationId="";this.requestLinkApiPathId="";this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new Y;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["recordStatus","linkClientApplicationId","linkApiPathId","isRequested","isApproved","fromDate","expireDate","Action"];this.tabledisplayedColumnsMobileSource=["recordStatus","linkClientApplicationId","linkApiPathId","isRequested","isApproved","fromDate","expireDate","Action"];this.unsubscribe=[];if(this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:z=>this.onSubmitOptionsSearch(z)},this.requestLinkClientApplicationId=this.activatedRoute.snapshot.paramMap.get("LinkClientApplicationId")||"",this.requestLinkClientApplicationId&&this.requestLinkClientApplicationId.length>0){let z=new V;z.propertyName="LinkClientApplicationId",z.value=this.requestLinkClientApplicationId,this.filteModelContent.filters.push(z)}if(this.requestLinkApiPathId=this.activatedRoute.snapshot.paramMap.get("LinkApiPathId")||"",this.requestLinkApiPathId&&this.requestLinkApiPathId.length>0){let z=new V;z.propertyName="LinkApiPathId",z.value=this.requestLinkApiPathId,this.filteModelContent.filters.push(z)}this.filteModelContent.sortColumn="id",this.filteModelContent.sortType=Q.Descending}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>ae(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Pi);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,t.isSuccess?(this.tableData=t.listItems,this.tableSource.data=t.listItems,this.sort&&(this.tableSource.sort=this.sort),this.paginator&&(this.tableSource.paginator=this.paginator),this.tableSource.filter="",this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=Q.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=Q.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=Q.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(jo,{height:"90%",panelClass:e,enterAnimationDuration:j.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:j.cmsViewConfig.exitAnimationDuration,data:{LinkClientApplicationId:this.requestLinkClientApplicationId,LinkApiPathId:this.requestLinkApiPathId}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.linkApiPathId||e.linkApiPathId.length==0||!e.linkClientApplicationId||e.linkClientApplicationId.length==0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(zo,{height:"90%",panelClass:i,enterAnimationDuration:j.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:j.cmsViewConfig.exitAnimationDuration,data:{linkApiPathId:this.tableRowSelected.linkApiPathId,linkClientApplicationId:this.tableRowSelected.linkClientApplicationId}}).afterClosed().subscribe(a=>{a&&a.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.linkApiPathId||e.linkApiPathId.length==0||!e.linkClientApplicationId||e.linkClientApplicationId.length==0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(a=>{this.cmsToastrService.typeErrorSelected(a)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(a=>{i=a["MESSAGE.Please_Confirm"],t=a["MESSAGE.Do_you_want_to_delete_this_content"]+"?"}),this.cmsConfirmationDialogService.confirm(i,t).then(a=>{if(a){let p=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(p,c,this.constructorInfoAreaId)}),this.contentService.ServiceDeleteEntity(this.tableRowSelected).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(p)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(p,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{i.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{i.set(c,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(E=>{i.set(E,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}});let a=JSON.parse(JSON.stringify(this.filteModelContent)),p=new V;p.propertyName="recordStatus",p.value=ke.Available,a.filters.push(p),this.contentService.ServiceGetCount(a).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(E=>{i.set(E,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonDataRow(e,i){this.onActionButtonEditRow(e)}onActionbuttonExport(){var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(bs,{height:"50%",enterAnimationDuration:j.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:j.cmsViewConfig.exitAnimationDuration,panelClass:e,data:{service:this.contentService,filterModel:this.filteModelContent,title:""}}).afterClosed().subscribe(t=>{})}onActionbuttonPrintRow(e=this.tableRowSelected){if(this.tableRowSelected=e,!e?.id||(typeof e.id=="string"?e.id.length===0:e.id<=0)){let i=this.translate.instant("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow");this.cmsToastrService.typeErrorSelected(i);return}this.onActionTableRowSelect(e)}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionTableRowSelect(e,i=null){if(i&&i.preventDefault(),this.tableRowSelected=e,this.publicHelper.pageInfo.updateContentInfo(new Cs(e.id,e.title,e.viewContentHidden,"",e.urlViewContent)),this.tableRowSelected.id===e.id?e.expanded==!0?e.expanded=!1:e.expanded=!0:e.expanded=!1,i?.button===2){this.tableRowSelect2Click=!1,this.tableRowSelect3Click=!1,setTimeout(()=>{this.tableRowSelect2Click=!0,this.tableRowSelect3Click=!1},100);return}this.clickCount++,setTimeout(()=>{this.clickCount===1?(this.tableRowSelect2Click=!1,this.tableRowSelect3Click=!1):this.clickCount===2?(this.tableRowSelect2Click=!0,this.tableRowSelect3Click=!1):this.clickCount===3&&(this.tableRowSelect2Click=!1,this.tableRowSelect3Click=!0),this.clickCount=0},500)}onActionButtonMemo(e=this.tableRowSelected){if(!e?.id||(typeof e.id=="string"?e.id.length===0:e.id<=0)){this.cmsToastrService.typeErrorSelectedRow();return}this.onActionTableRowSelect(e)}onActionButtonMemoRow(e=this.tableRowSelected){if(!e?.id||(typeof e.id=="string"?e.id.length===0:e.id<=0)){this.cmsToastrService.typeErrorSelectedRow();return}this.onActionTableRowSelect(e)}};Jo.\u0275fac=function(i){return new(i||Jo)(_(zi),_(W),_(Xe),_(Oe),_(He),_(Ce),_(G),_(O),_(Ae),_(je),_(U),_(Se))},Jo.\u0275cmp=N({type:Jo,selectors:[["app-sms-client-application-permission-list"]],viewQuery:function(i,t){if(i&1&&(ee($e,5),ee(Ie,5)),i&2){let a;te(a=ie())&&(t.sort=a.first),te(a=ie())&&(t.paginator=a.first)}},standalone:!1,features:[X],decls:71,vars:32,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowDisplay","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","","multiTemplateDataRows","",3,"matSortChange","dataSource"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","recordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","linkClientApplicationId"],["matColumnDef","linkApiPathId"],["matColumnDef","isRequested"],["mat-sort-header","","class","form-label",4,"matHeaderCellDef"],["matColumnDef","isApproved"],["matColumnDef","fromDate"],["matColumnDef","expireDate"],["matColumnDef","createdDate"],["matColumnDef","updatedDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],["matColumnDef","expandedDetail"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["class","ntk-row-expandedDetail",3,"ntk-row-selected","ngStyle","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["mat-sort-header","",1,"form-label"],[1,"fa","fa-question-circle","text-warning"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],["mat-menu-item",""],["mat-menu-item","",3,"click"],[1,"ntk-row-mainfild",3,"click","rtclick"],[1,"ntk-row-expandedDetail",3,"click","rtclick","mouseenter","mouseleave","ngStyle"]],template:function(i,t){if(i&1){let a=A();r(0,"app-cms-html-list",3),P("optionActionGuideNoticeDisplayChange",function(c){return u(a),T(t.viewGuideNotice,c)||(t.viewGuideNotice=c),f(c)}),I("optionOnActionButtonMemoRow",function(){return u(a),f(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return u(a),f(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return u(a),f(t.onActionbuttonExport())})("optionOnActionButtonPrintRow",function(){return u(a),f(t.onActionbuttonPrintRow())}),R(1,4),d(2," -------------------------------------- "),x(),ze(3,5)(4,6),R(5,7),r(6,"a",8),I("click",function(){return u(a),f(t.viewGuideNotice=!t.viewGuideNotice)}),g(7,"i",9),s(),r(8,"a",8),I("click",function(){return u(a),f(t.onActionButtonReload())}),g(9,"i",10),s(),x(),R(10,11),r(11,"a",12),I("click",function(){return u(a),f(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),g(12,"mat-slide-toggle",13),d(13),S(14,"translate"),s(),r(15,"a",12),I("click",function(){return u(a),f(t.onActionButtonStatist())}),g(16,"mat-slide-toggle",13),d(17),S(18,"translate"),s(),x(),R(19,14),b(20,Mh,7,3,"div",15),x(),R(21,16),b(22,_h,7,3,"div",15),b(23,bh,7,3,"div",15),x(),R(24,17),r(25,"app-cms-search-list",18),P("optionsChange",function(c){return u(a),T(t.optionsSearch,c)||(t.optionsSearch=c),f(c)}),s(),r(26,"app-cms-statist-list",18),P("optionsChange",function(c){return u(a),T(t.optionsStatist,c)||(t.optionsStatist=c),f(c)}),s(),x(),R(27,19),r(28,"mat-table",20,0),I("matSortChange",function(){u(a);let c=D(29);return f(t.onTableSortData(c))}),R(30,21),L(31,vh,2,1,"mat-header-cell",22)(32,Ih,2,1,"mat-cell",23),x(),R(33,24),L(34,Ah,2,1,"mat-header-cell",22)(35,Eh,4,6,"mat-cell",25),x(),R(36,26),L(37,yh,2,1,"mat-header-cell",22)(38,wh,2,1,"mat-cell",23),x(),R(39,27),L(40,Th,2,1,"mat-header-cell",22)(41,Ph,2,1,"mat-cell",23),x(),R(42,28),L(43,Rh,2,1,"mat-header-cell",29)(44,xh,3,3,"mat-cell",23),x(),R(45,30),L(46,Dh,2,1,"mat-header-cell",29)(47,Vh,3,1,"mat-cell",23),x(),R(48,31),L(49,Nh,2,1,"mat-header-cell",22)(50,Bh,3,3,"mat-cell",23),x(),R(51,32),L(52,Fh,2,1,"mat-header-cell",22)(53,Oh,3,3,"mat-cell",23),x(),R(54,33),L(55,Gh,2,1,"mat-header-cell",22)(56,Hh,3,3,"mat-cell",23),x(),R(57,34),L(58,Wh,2,1,"mat-header-cell",22)(59,Uh,3,3,"mat-cell",23),x(),R(60,35),L(61,qh,3,3,"mat-header-cell",36)(62,zh,8,3,"mat-cell",37),x(),R(63,38),L(64,oS,14,8,"mat-cell",23),x(),L(65,aS,1,0,"mat-header-row",39)(66,rS,1,2,"mat-row",40)(67,sS,1,5,"mat-row",41),s(),x(),R(68,42),r(69,"mat-paginator",43,1),I("page",function(c){return u(a),f(t.onTablePageingData(c))}),s(),x(),s()}i&2&&(h("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),w("optionActionGuideNoticeDisplay",t.viewGuideNotice),h("optionTreeDisplay",!1)("optionActionRowDisplay",(t.tableRowSelected==null||t.tableRowSelected.linkApiPathId==null?null:t.tableRowSelected.linkApiPathId.length)>0)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",(t.tableRowSelected==null?null:t.tableRowSelected.linkApiPathId)+" - "+(t.tableRowSelected==null?null:t.tableRowSelected.linkClientApplicationId)),o(9),B("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(3),h("checked",t.optionsSearch.data.show),o(),M("",C(14,26,"ACTION.SEARCH")," "),o(3),h("checked",t.optionsStatist.data.show),o(),M("",C(18,28,"ACTION.STATIST")," "),o(3),v(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessAddRow?20:-1),o(2),v(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?22:-1),o(),v(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?23:-1),o(2),w("options",t.optionsSearch),o(),w("options",t.optionsStatist),o(2),h("dataSource",t.tableSource),o(37),h("matHeaderRowDef",t.tabledisplayedColumns),o(),h("matRowDefColumns",t.tabledisplayedColumns),o(),h("matRowDefColumns",xe(30,Sh)),o(2),h("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",xe(31,Ch)))},dependencies:[Ge,Ui,ct,Ze,Wt,ns,Ut,Ie,at,$e,At,Et,wt,xt,Tt,yt,Dt,Pt,Rt,kt,Lt,We,Ue,Vt,rt,H,st,qe,ii,Zn],encapsulation:2});var en=Jo;var lS=["*"];function cS(n,l){if(n&1&&(r(0,"label",3),d(1),s()),n&2){let e=m();h("for",bt("app-cms-site-selector-",e.id)),o(),y(e.optionLabel)}}function dS(n,l){if(n&1&&(g(0,"img",5),S(1,"cmsthumbnail")),n&2){let e=m();h("src",k(C(1,2,e.dataModelSelect==null?null:e.dataModelSelect.linkMainImageIdSrc)),we)}}function mS(n,l){if(n&1&&(g(0,"img",5),S(1,"cmsthumbnail")),n&2){let e=m().$implicit;h("src",k(C(1,2,e.linkMainImageIdSrc)),we)}}function pS(n,l){if(n&1&&(r(0,"mat-option",8),b(1,mS,2,4,"img",5),r(2,"span"),d(3),s()()),n&2){let e=l.$implicit,i=m();h("value",e)("disabled",i.optionDisabled),o(),v(e.linkMainImageIdSrc?1:-1),o(2),y(i.displayOption(e))}}function uS(n,l){n&1&&g(0,"i",9)}function fS(n,l){n&1&&g(0,"i",10)}function hS(n,l){if(n&1){let e=A();r(0,"i",13),I("click",function(){u(e);let t=m();return f(t.onActionSelectClear())}),s()}}function SS(n,l){n&1&&(r(0,"em"),d(1),S(2,"translate"),s()),n&2&&(o(),M("(",C(2,1,"TITLE.Necessary"),")"))}var Pn=class Pn{constructor(l,e,i,t,a,p){this.coreEnumService=l;this.cmsToastrService=e;this.cdr=i;this.publicHelper=t;this.translate=a;this.categoryService=p;this.id=++Pn.nextId;this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new q;this.dataModelSelect=new ai;this.formControl=new ei;this.optionPlaceholder="";this.optionRequired=!1;this.optionDisabled=!1;this.optionLabel="";this.optionSelectFirstItem=!1;this.optionChange=new ot;this.optionReload=()=>this.onActionButtonReload();this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(l){this.onActionSelectForce(l)}ngOnInit(){this.loadOptions()}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(Si(""),fi(1500),hi(),Ci(l=>typeof l=="string"||typeof l=="number"?this.DataGetAll(l||""):[]))}displayFn(l){return l?l.title:void 0}displayOption(l){return l?l.title:void 0}DataGetAll(l){return ae(this,null,function*(){let e=new Y;e.rowPerPage=20,e.accessLoad=!0;let i=new V;l&&l.length>0&&(i.propertyName="title",i.value=l,i.searchType=ht.Contains,i.clauseType=Bt.Or,e.filters.push(i)),l&&typeof l=="string"&&l.length>10&&(i=new V,i.propertyName="id",i.value=l,i.searchType=ht.Equal,i.clauseType=Bt.Or,e.filters.push(i));let t=this.constructor.name+"main";return this.translate.get("MESSAGE.Receiving_information").subscribe(a=>{this.publicHelper.processService.processStart(t,a,this.constructorInfoAreaId)}),yield pi(this.categoryService.ServiceGetAll(e)).then(a=>(this.dataModelResult=a,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||this.dataModelSelect.id.length==0)&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0])},1e3),this.onActionSelect(this.dataModelResult.listItems[0])),this.publicHelper.processService.processStop(t),a.listItems))})}onActionSelect(l){this.dataModelSelect=l,this.optionChange.emit(this.dataModelSelect)}onActionSelectClear(){this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null)}push(l){return this.filteredOptions.pipe(ui(e=>(e.find(i=>i.id===l.id)||e.push(l),e)))}onActionSelectForce(l){if(typeof l=="string"&&l.length>0){if(this.dataModelSelect&&this.dataModelSelect.id===l)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(e=>e.id===l)){let e=this.dataModelResult.listItems.find(i=>i.id===l);this.dataModelSelect=e,this.formControl.setValue(e);return}this.categoryService.ServiceGetOneById(l).subscribe({next:e=>{e.isSuccess?(this.filteredOptions=this.push(e.item),this.dataModelSelect=e.item,this.formControl.setValue(e.item),this.optionChange.emit(e.item)):this.cmsToastrService.typeErrorMessage(e.errorMessage)}});return}if(typeof l==typeof ai){this.filteredOptions=this.push(l),this.dataModelSelect=l,this.formControl.setValue(l);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new ai,this.loadOptions()}};Pn.nextId=0,Pn.\u0275fac=function(e){return new(e||Pn)(_(Re),_(W),_(G),_(U),_(O),_(Ni))},Pn.\u0275cmp=N({type:Pn,selectors:[["app-sms-main-message-category-selector"]],inputs:{optionPlaceholder:"optionPlaceholder",optionRequired:"optionRequired",optionDisabled:"optionDisabled",optionLabel:"optionLabel",optionSelectFirstItem:"optionSelectFirstItem",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange"},standalone:!1,ngContentSelectors:lS,decls:18,vars:24,consts:[["matauto","matAutocomplete"],[1,"input-style","has-borders","has-icon","input-style-always-active","validate-field","mb-4","loader-container"],[3,"optionsInfoAreaId"],[1,"color-highlight",3,"for"],["matPrefix",""],["aria-hidden","","height","25","width","25",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["type","text","aria-label","Assignee","matInput","",3,"placeholder","formControl","matAutocomplete","required","id"],[3,"optionSelected","displayWith"],[3,"value","disabled"],[1,"fa","fa-info","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"fa","fa-times","action","color-red-dark"],[1,"fa","fa-rotate-right","action","color-green-dark",2,"margin-left","20px",3,"click","title"],[1,"fa","fa-times","action","color-red-dark",3,"click"]],template:function(e,i){if(e&1){let t=A();gi(),r(0,"div",1),g(1,"app-progress-spinner",2),b(2,cS,2,3,"label",3),r(3,"span",4),b(4,dS,2,4,"img",5),s(),g(5,"input",6),r(6,"mat-autocomplete",7,0),I("optionSelected",function(p){return u(t),f(i.onActionSelect(p.option.value))}),Z(8,pS,4,4,"mat-option",8,De),S(10,"async"),s(),b(11,uS,1,0,"i",9),b(12,fS,1,0,"i",10),b(13,hS,1,0,"i",11),r(14,"i",12),S(15,"translate"),I("click",function(){return u(t),f(i.onActionButtonReload())}),s(),b(16,SS,3,3,"em"),Mi(17),s()}if(e&2){let t=D(7);o(),h("optionsInfoAreaId",i.constructorInfoAreaId),o(),v((i.optionLabel==null?null:i.optionLabel.length)>0?2:-1),o(2),v(i.dataModelSelect&&(i.dataModelSelect!=null&&i.dataModelSelect.linkMainImageIdSrc)?4:-1),o(),h("placeholder",k(i.optionPlaceholder))("id",bt("app-cms-site-selector-",i.id))("formControl",i.formControl)("matAutocomplete",t)("required",i.optionRequired),se("disabled",i.optionDisabled?!0:null),o(),h("displayWith",i.displayFn),o(2),$(C(10,20,i.filteredOptions)),o(3),v(i.formControl.valid?-1:11),o(),v(i.optionRequired&&i.formControl.valid?12:-1),o(),v((i.dataModelSelect==null||i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0?13:-1),o(),B("rotation360",i.publicHelper.processService.process.inRunArea[i.constructorInfoAreaId]),h("title",k(C(15,22,"ACTION.RELOAD"))),o(2),v(i.optionRequired&&(!i.dataModelSelect||!i.dataModelSelect.id||(i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)===0)?16:-1)}},dependencies:[ne,oe,fe,vi,Ai,Ii,Ei,fn,J,K,it,H,dt],encapsulation:2});var Zo=Pn;var CS=["vform"];function gS(n,l){if(n&1){let e=A();r(0,"app-cms-enum-record-status-selector",15),P("modelChange",function(t){u(e);let a=m();return T(a.dataModel.recordStatus,t)||(a.dataModel.recordStatus=t),f(t)}),s()}if(n&2){let e=m();w("model",e.dataModel.recordStatus),h("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function MS(n,l){n&1&&g(0,"i",18)}function _S(n,l){n&1&&g(0,"i",19)}function bS(n,l){n&1&&(r(0,"mat-error"),d(1," Title is "),r(2,"strong"),d(3),S(4,"translate"),s()()),n&2&&(o(3),y(C(4,1,"MESSAGE.required")))}function vS(n,l){if(n&1){let e=A();r(0,"div",11)(1,"label",16),d(2),s(),r(3,"input",17,2),P("ngModelChange",function(t){u(e);let a=m();return T(a.dataModel.title,t)||(a.dataModel.title=t),f(t)}),s(),b(5,MS,1,0,"i",18),b(6,_S,1,0,"i",19),r(7,"em"),d(8),s(),b(9,bS,5,3,"mat-error"),s()}if(n&2){let e=D(4),i=m();o(2),y(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(),h("placeholder",k(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle)),w("ngModel",i.dataModel.title),o(2),v(e.value?-1:5),o(),v(e.value?6:-1),o(2),M("",e.value.length," / 100"),o(),v(e.errors!=null&&e.errors.required?9:-1)}}function IS(n,l){n&1&&(r(0,"mat-error"),d(1," messageBody is "),r(2,"strong"),d(3),S(4,"translate"),s()()),n&2&&(o(3),y(C(4,1,"MESSAGE.required")))}function AS(n,l){if(n&1){let e=A();r(0,"div",14)(1,"button",20),I("click",function(){u(e);let t=m();return f(t.onFormCancel())}),g(2,"i",21),d(3),S(4,"translate"),s(),r(5,"button",22),g(6,"i",23),d(7),S(8,"translate"),s()()}if(n&2){m();let e=D(10);o(3),M(" ",C(4,3,"ACTION.CANCEL")," "),o(2),h("disabled",!e.form.valid),o(2),M(" ",C(8,5,"ACTION.SAVE")," ")}}var $o=class $o extends Ct{constructor(e,i,t,a,p,c,E,F){super(a,new Vi,c,F);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.SmsMainMessageContentService=a;this.cmsToastrService=p;this.publicHelper=c;this.cdr=E;this.translate=F;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new q;this.dataModel=new Vi;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,e&&e.linkCategoryId&&e.linkCategoryId.length>0&&(this.dataModel.linkCategoryId=e.linkCategoryId),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}onActionFileSelected(e){}ngOnInit(){this.translate.get("TITLE.Register_New_Categories").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess()}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.SmsMainMessageContentService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success}),this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormSubmit(){if(this.formGroup.valid){if(!this.dataModel.linkCategoryId||this.dataModel.linkCategoryId.length==0){this.cmsToastrService.typeErrorSelected("\u062F\u0633\u062A \u0628\u0646\u062F\u06CC   \u0645\u0634\u062E\u0635 \u0646\u06CC\u0633\u062A");return}this.formInfo.submitButtonEnabled=!1,this.DataAddContent()}}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}onActionSelectCategory(e){if(!e||e.id?.length==0){this.translate.get("MESSAGE.Category_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkCategoryId=e.id}};$o.\u0275fac=function(i){return new(i||$o)(_(ve),_(be),_(Re),_(Ki),_(W),_(U),_(G),_(O))},$o.\u0275cmp=N({type:$o,selectors:[["app-sms-main-message-content-add"]],viewQuery:function(i,t){if(i&1&&ee(CS,5),i&2){let a;te(a=ie())&&(t.formGroup=a.first)}},standalone:!1,features:[X],decls:24,vars:19,consts:[["vform","ngForm"],["messageBody",""],["Title",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"optionChange","optionSelectForce","optionPlaceholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.messageBody",1,"color-highlight"],["matInput","","name","dataModel.messageBody","type","text","minlength","1","maxlength","5000","rows","5","id","dataModel.messageBody",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"form-actions"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let a=A();r(0,"div",3),g(1,"app-progress-spinner",4),r(2,"div",5)(3,"p",6),d(4),s(),r(5,"p"),d(6),S(7,"translate"),s(),g(8,"app-cms-form-result-message",7),r(9,"form",8,0),I("ngSubmit",function(){return u(a),f(t.onFormSubmit())}),b(11,gS,1,5,"app-cms-enum-record-status-selector",9),r(12,"app-sms-main-message-category-selector",10),S(13,"translate"),I("optionChange",function(c){return u(a),f(t.onActionSelectCategory(c))}),s(),b(14,vS,10,8,"div",11),r(15,"div",11)(16,"label",12),d(17),s(),r(18,"textarea",13,1),P("ngModelChange",function(c){return u(a),T(t.dataModel.messageBody,c)||(t.dataModel.messageBody=c),f(c)}),s(),r(20,"em"),d(21),s(),b(22,IS,5,3,"mat-error"),s(),b(23,AS,9,7,"div",14),s()()()}if(i&2){let a=D(19);o(),h("optionsInfoAreaId",t.constructorInfoAreaId),o(3),M(" ",t.formInfo.formTitle," "),o(2),M(" ",C(7,15,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),h("formInfo",t.formInfo),o(3),v(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?11:-1),o(),h("optionSelectForce",t.dataModel.linkCategoryId)("optionPlaceholder",C(13,17,"TITLE.Category")),o(2),v(t.fieldsInfo.title!=null&&t.fieldsInfo.title.accessWatchField?14:-1),o(3),y(t.fieldsInfo.messageBody==null?null:t.fieldsInfo.messageBody.fieldTitle),o(),h("placeholder",k(t.fieldsInfo.messageBody==null?null:t.fieldsInfo.messageBody.fieldTitle)),w("ngModel",t.dataModel.messageBody),o(3),M("",a.value.length," / 5000"),o(),v(a.errors!=null&&a.errors.required?22:-1),o(),v(t.formInfo.submitButtonEnabled?23:-1)}},dependencies:[_e,ne,oe,ge,fe,Be,Fe,he,Me,Le,J,Te,K,Ee,Zo,H],encapsulation:2});var ea=$o;var ES=["vform"];function yS(n,l){if(n&1){let e=A();r(0,"app-cms-enum-record-status-selector",15),P("modelChange",function(t){u(e);let a=m();return T(a.dataModel.recordStatus,t)||(a.dataModel.recordStatus=t),f(t)}),s()}if(n&2){let e=m();w("model",e.dataModel.recordStatus),h("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function wS(n,l){n&1&&g(0,"i",18)}function TS(n,l){n&1&&g(0,"i",19)}function PS(n,l){n&1&&(r(0,"mat-error"),d(1," Title is "),r(2,"strong"),d(3),S(4,"translate"),s()()),n&2&&(o(3),y(C(4,1,"MESSAGE.required")))}function RS(n,l){if(n&1){let e=A();r(0,"div",11)(1,"label",16),d(2),s(),r(3,"input",17,2),P("ngModelChange",function(t){u(e);let a=m();return T(a.dataModel.title,t)||(a.dataModel.title=t),f(t)}),s(),b(5,wS,1,0,"i",18),b(6,TS,1,0,"i",19),r(7,"em"),d(8),s(),b(9,PS,5,3,"mat-error"),s()}if(n&2){let e=D(4),i=m();o(2),y(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(),h("placeholder",k(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle)),w("ngModel",i.dataModel.title),o(2),v(e.value?-1:5),o(),v(e.value?6:-1),o(2),M("",e.value.length," / 100"),o(),v(e.errors!=null&&e.errors.required?9:-1)}}function xS(n,l){n&1&&(r(0,"mat-error"),d(1," messageBody is "),r(2,"strong"),d(3),S(4,"translate"),s()()),n&2&&(o(3),y(C(4,1,"MESSAGE.required")))}function DS(n,l){if(n&1){let e=A();r(0,"div",14)(1,"button",20),I("click",function(){u(e);let t=m();return f(t.onFormCancel())}),g(2,"i",21),d(3),S(4,"translate"),s(),r(5,"button",22),g(6,"i",23),d(7),S(8,"translate"),s()()}if(n&2){m();let e=D(10);o(3),M(" ",C(4,3,"ACTION.CANCEL")," "),o(2),h("disabled",!e.form.valid),o(2),M(" ",C(8,5,"ACTION.SAVE")," ")}}var ta=class ta extends gt{constructor(e,i,t,a,p,c,E,F){super(a,new Vi,c,F);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.SmsMainMessageContentService=a;this.cmsToastrService=p;this.publicHelper=c;this.cdr=E;this.translate=F;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new ft;this.dataModel=new Vi;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}onActionFileSelected(e){}ngOnInit(){if(this.requestId.length>0)this.translate.get("TITLE.Edit_Categories").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}}DataGetOneContent(){if(this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.SmsMainMessageContentService.setAccessLoad(),this.SmsMainMessageContentService.setAccessDataType(nt.Editor),this.SmsMainMessageContentService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.SmsMainMessageContentService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success}),this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormSubmit(){if(this.formGroup.valid){if(!this.dataModel.linkCategoryId||this.dataModel.linkCategoryId.length==0){this.translate.get("MESSAGE.Category_is_not_clear").subscribe(e=>{this.cmsToastrService.typeErrorSelected(e)});return}this.formInfo.submitButtonEnabled=!1,this.DataEditContent()}}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}onActionSelectCategory(e){if(!e||e.id.length==0){this.translate.get("MESSAGE.Category_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkCategoryId=e.id}};ta.\u0275fac=function(i){return new(i||ta)(_(ve),_(be),_(Re),_(Ki),_(W),_(U),_(G),_(O))},ta.\u0275cmp=N({type:ta,selectors:[["app-sms-main-message-content-edit"]],viewQuery:function(i,t){if(i&1&&ee(ES,5),i&2){let a;te(a=ie())&&(t.formGroup=a.first)}},standalone:!1,features:[X],decls:24,vars:19,consts:[["vform","ngForm"],["messageBody",""],["Title",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"optionChange","optionSelectForce","optionPlaceholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.messageBody",1,"color-highlight"],["matInput","","name","dataModel.messageBody","type","text","minlength","1","maxlength","5000","rows","5","id","dataModel.messageBody",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"form-actions"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let a=A();r(0,"div",3),g(1,"app-progress-spinner",4),r(2,"div",5)(3,"p",6),d(4),s(),r(5,"p"),d(6),S(7,"translate"),s(),g(8,"app-cms-form-result-message",7),r(9,"form",8,0),I("ngSubmit",function(){return u(a),f(t.onFormSubmit())}),b(11,yS,1,5,"app-cms-enum-record-status-selector",9),r(12,"app-sms-main-message-category-selector",10),S(13,"translate"),I("optionChange",function(c){return u(a),f(t.onActionSelectCategory(c))}),s(),b(14,RS,10,8,"div",11),r(15,"div",11)(16,"label",12),d(17),s(),r(18,"textarea",13,1),P("ngModelChange",function(c){return u(a),T(t.dataModel.messageBody,c)||(t.dataModel.messageBody=c),f(c)}),s(),r(20,"em"),d(21),s(),b(22,xS,5,3,"mat-error"),s(),b(23,DS,9,7,"div",14),s()()()}if(i&2){let a=D(19);o(),h("optionsInfoAreaId",t.constructorInfoAreaId),o(3),M(" ",t.formInfo.formTitle," "),o(2),M(" ",C(7,15,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),h("formInfo",t.formInfo),o(3),v(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?11:-1),o(),h("optionSelectForce",t.dataModel.linkCategoryId)("optionPlaceholder",C(13,17,"TITLE.Category")),o(2),v(t.fieldsInfo.title!=null&&t.fieldsInfo.title.accessWatchField?14:-1),o(3),y(t.fieldsInfo.messageBody==null?null:t.fieldsInfo.messageBody.fieldTitle),o(),h("placeholder",k(t.fieldsInfo.messageBody==null?null:t.fieldsInfo.messageBody.fieldTitle)),w("ngModel",t.dataModel.messageBody),o(3),M("",a.value.length," / 5000"),o(),v(a.errors!=null&&a.errors.required?22:-1),o(),v(t.formInfo.submitButtonEnabled?23:-1)}},dependencies:[_e,ne,oe,ge,fe,Be,Fe,he,Me,Le,J,Te,K,Ee,Zo,H],encapsulation:2});var ia=ta;var kS=()=>[5,10,20,100],LS=(n,l)=>l.id;function VS(n,l){if(n&1){let e=A();r(0,"div",11)(1,"app-cms-search-list",20),P("optionsChange",function(t){u(e);let a=m();return T(a.optionsSearch,t)||(a.optionsSearch=t),f(t)}),s()()}if(n&2){let e=m();o(),w("options",e.optionsSearch)}}function NS(n,l){if(n&1){let e=A();r(0,"div",12)(1,"app-cms-statist-list",20),P("optionsChange",function(t){u(e);let a=m();return T(a.optionsStatist,t)||(a.optionsStatist=t),f(t)}),s()()}if(n&2){let e=m();o(),w("options",e.optionsStatist)}}function BS(n,l){if(n&1&&(r(0,"div",21),g(1,"i",9),r(2,"span"),d(3),S(4,"translate"),S(5,"translate"),s()()),n&2){let e=m();ut("transform","translateY("+(e.pullToRefreshState.pullDistance>80?80:e.pullToRefreshState.pullDistance)+"px)"),B("refreshing",e.pullToRefreshState.isRefreshing),o(),B("rotation360",e.pullToRefreshState.isRefreshing),o(2),y(e.pullToRefreshState.isRefreshing?C(4,7,"ACTION.RELOADING"):C(5,9,"ACTION.PULL_TO_REFRESH"))}}function FS(n,l){if(n&1&&(r(0,"div",32),g(1,"i",33),r(2,"span"),d(3),S(4,"localeDate"),s()()),n&2){let e=m().$implicit;o(3),y(C(4,1,e.updatedDate))}}function OS(n,l){if(n&1){let e=A();r(0,"div",23)(1,"div",24),I("click",function(){let t=u(e).$implicit,a=m(2);return f(a.onActionTableRowSelect(t))})("touchstart",function(t){let a=u(e).$implicit,p=m(2);return f(p.onItemTouchStart(t,a.id))})("touchmove",function(t){let a=u(e).$implicit,p=m(2);return f(p.onItemTouchMove(t,a.id))})("touchend",function(t){let a=u(e).$implicit,p=m(2);return f(p.onItemTouchEnd(t,a.id))}),r(2,"div",25),g(3,"i",26),s(),r(4,"div",27)(5,"div",28),d(6),s(),r(7,"div",29)(8,"div",30),g(9,"i",31),S(10,"statusIconClass"),s(),b(11,FS,5,3,"div",32),s()()()()}if(n&2){let e,i=l.$implicit,t=m(2);ut("transform","translateX("+(((e=t.swipeState.get(i.id))==null?null:e.offset)||0)+"px)"),o(),B("selected",i.id===(t.tableRowSelected==null?null:t.tableRowSelected.id)),se("aria-label",i.title),o(5),M(" ",i.title," "),o(3),h("ngClass",C(10,8,i.recordStatus)),o(2),v(i.updatedDate?11:-1)}}function GS(n,l){if(n&1&&(r(0,"div",15),Z(1,OS,12,10,"div",22,LS),s()),n&2){let e=m();o(),$(e.dataModelResult.listItems)}}function HS(n,l){n&1&&(r(0,"div",16)(1,"div",34),g(2,"i",35),s(),r(3,"div",36),d(4),S(5,"translate"),s()()),n&2&&(o(4),M(" ",C(5,1,"MESSAGE.no_information")," "))}function WS(n,l){if(n&1){let e=A();r(0,"button",37),S(1,"translate"),I("click",function(){u(e);let t=m();return f(t.onActionButtonNewRow())}),g(2,"i",38),s()}n&2&&se("aria-label",C(1,1,"ACTION.ADD"))}function US(n,l){if(n&1){let e=A();r(0,"div",19)(1,"mat-paginator",39,0),I("page",function(t){u(e);let a=m();return f(a.onTablePageingData(t))}),s()()}if(n&2){let e=m();o(),h("length",(e.dataModelResult==null?null:e.dataModelResult.totalRowCount)||0)("pageIndex",((e.dataModelResult==null?null:e.dataModelResult.currentPageNumber)||1)-1)("pageSize",(e.dataModelResult==null?null:e.dataModelResult.rowPerPage)||10)("pageSizeOptions",xe(4,kS))}}var na=class na extends Qe{constructor(e,i,t,a,p,c,E,F,Ne,tt,Pe,It){super(e,new Vi,Pe,c,F);this.contentService=e;this.cmsToastrService=i;this.cmsConfirmationDialogService=t;this.router=a;this.activatedRoute=p;this.tokenHelper=c;this.cmsStoreService=E;this.translate=F;this.cdr=Ne;this.pageInfo=tt;this.publicHelper=Pe;this.dialog=It;this.requestLinkCategoryId="";this.constructorInfoAreaId=this.constructor.name;this.filteModelContent=new Y;this.filterDataModelQueryBuilder=[];this.categoryModelSelected=new ai;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["recordStatus","title","createdDate","updatedDate"];this.tabledisplayedColumnsMobileSource=["recordStatus","title","createdDate","updatedDate"];this.unsubscribe=[];this.pullToRefreshState={isRefreshing:!1,startY:0,currentY:0,pullDistance:0,threshold:80};this.Math=Math;this.swipeState=new Map;this.SWIPE_THRESHOLD=100;this.SWIPE_MAX_OFFSET=120;if(this.publicHelper.processService.cdr=this.cdr,this.requestLinkCategoryId=this.activatedRoute.snapshot.paramMap.get("LinkCategoryId"),this.optionsSearch.parentMethods={onSubmit:z=>this.onSubmitOptionsSearch(z)},this.filteModelContent.sortColumn="id",this.filteModelContent.sortType=Q.Descending,this.requestLinkCategoryId&&this.requestLinkCategoryId.length>0){let z=new V;z.propertyName="LinkCategoryId",z.value=this.requestLinkCategoryId,this.filteModelContent.filters.push(z)}}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>ae(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}filterModelCompiler(e){let i=JSON.parse(JSON.stringify(e));return this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),i}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Vi);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=this.filterModelCompiler(this.filteModelContent);this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=Q.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=Q.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=Q.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(ea,{height:"90%",panelClass:e,data:{linkCategoryId:this.requestLinkCategoryId}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length==0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(ia,{height:"90%",panelClass:i,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(a=>{a&&a.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length==0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(a=>{this.cmsToastrService.typeErrorSelected(a)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(a=>{i=a["MESSAGE.Please_Confirm"],t=a["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(a=>{if(a){let p=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(p,c,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(p)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(p,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{i.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{i.set(c,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(E=>{i.set(E,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}});let a=JSON.parse(JSON.stringify(this.filteModelContent)),p=new V;p.propertyName="recordStatus",p.value=ke.Available,a.filters.push(p),this.contentService.ServiceGetCount(a).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(E=>{i.set(E,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonReload(){this.DataGetAll()}onItemTouchStart(e,i){e.stopPropagation();let t=e.touches[0];this.swipeState.set(i,{startX:t.clientX,currentX:t.clientX,offset:0})}onItemTouchMove(e,i){e.stopPropagation();let t=this.swipeState.get(i);if(!t)return;let a=e.touches[0];t.currentX=a.clientX;let p=t.currentX-t.startX,c=document.documentElement.dir==="rtl",E=c?this.SWIPE_MAX_OFFSET:-this.SWIPE_MAX_OFFSET,F=c?-this.SWIPE_MAX_OFFSET:this.SWIPE_MAX_OFFSET;t.offset=Math.max(F,Math.min(E,p))}onItemTouchEnd(e,i){e.stopPropagation();let t=this.swipeState.get(i);if(!t)return;let a=document.documentElement.dir==="rtl",p=a?this.SWIPE_THRESHOLD:-this.SWIPE_THRESHOLD;a&&t.offset>p||!a&&t.offset<p||(t.offset=0),this.swipeState.set(i,t)}onTouchStart(e){let t=e.target.closest(".cms-m-content");t&&t.scrollTop===0&&(this.pullToRefreshState.startY=e.touches[0].clientY,this.pullToRefreshState.isRefreshing=!1)}onTouchMove(e){let t=e.target.closest(".cms-m-content");t&&t.scrollTop===0&&this.pullToRefreshState.startY>0&&(this.pullToRefreshState.currentY=e.touches[0].clientY,this.pullToRefreshState.pullDistance=Math.max(0,this.pullToRefreshState.currentY-this.pullToRefreshState.startY),this.pullToRefreshState.pullDistance>10&&e.preventDefault())}onTouchEnd(e){this.pullToRefreshState.pullDistance>=this.pullToRefreshState.threshold&&!this.pullToRefreshState.isRefreshing?(this.pullToRefreshState.isRefreshing=!0,this.onActionButtonReload(),setTimeout(()=>{this.pullToRefreshState.isRefreshing=!1,this.pullToRefreshState.pullDistance=0,this.pullToRefreshState.startY=0,this.pullToRefreshState.currentY=0},1e3)):(this.pullToRefreshState.pullDistance=0,this.pullToRefreshState.startY=0,this.pullToRefreshState.currentY=0)}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}};na.\u0275fac=function(i){return new(i||na)(_(Ki),_(W),_(Oe),_(He),_(Xe),_(Ce),_(Ae),_(O),_(G),_(je),_(U),_(Se))},na.\u0275cmp=N({type:na,selectors:[["app-sms-main-message-content-list-mobile"]],standalone:!1,features:[X],decls:26,vars:25,consts:[["paginator",""],[1,"cms-m-body","loader-container"],[3,"optionsInfoAreaId"],[1,"cms-m-header","safe-area-top"],[1,"cms-m-header-content"],[1,"cms-m-header-title"],[1,"cms-m-header-actions"],["type","button",1,"cms-m-header-action-btn",3,"click"],["aria-hidden","true",1,"fa-solid","fa-magnifying-glass"],["aria-hidden","true",1,"fa-solid","fa-rotate-right"],["aria-hidden","true",1,"fa-solid","fa-chart-bar"],[1,"cms-m-search-area","safe-area-content"],[1,"cms-m-statist-area","safe-area-content"],[1,"cms-m-pull-refresh-indicator",3,"transform","refreshing"],[1,"cms-m-content","safe-area-content",3,"touchstart","touchmove","touchend"],[1,"cms-m-list"],[1,"cms-m-empty-state"],[1,"cms-m-footer","safe-area-bottom"],[1,"cms-m-fab"],[1,"cms-m-pagination-wrapper"],[3,"optionsChange","options"],[1,"cms-m-pull-refresh-indicator"],[1,"cms-m-list-item-wrapper",3,"transform"],[1,"cms-m-list-item-wrapper"],["role","button","tabindex","0",1,"cms-m-list-item",3,"click","touchstart","touchmove","touchend"],[1,"cms-m-list-item-image-placeholder"],["aria-hidden","true",1,"fa-solid","fa-message"],[1,"cms-m-list-item-content"],[1,"cms-m-list-item-title"],[1,"cms-m-list-item-footer"],[1,"cms-m-list-item-status"],["aria-hidden","true",3,"ngClass"],[1,"cms-m-list-item-date"],["aria-hidden","true",1,"fa-solid","fa-clock"],[1,"cms-m-empty-state-icon"],["aria-hidden","true",1,"fa-solid","fa-inbox"],[1,"cms-m-empty-state-text"],[1,"cms-m-fab",3,"click"],["aria-hidden","true",1,"fa-solid","fa-plus"],[3,"page","length","pageIndex","pageSize","pageSizeOptions"]],template:function(i,t){i&1&&(r(0,"div",1),g(1,"app-progress-spinner",2),r(2,"div",3)(3,"div",4)(4,"h1",5),d(5),S(6,"translate"),s(),r(7,"div",6)(8,"button",7),S(9,"translate"),I("click",function(){return t.optionsSearch.data.show=!t.optionsSearch.data.show}),g(10,"i",8),s(),r(11,"button",7),S(12,"translate"),I("click",function(){return t.onActionButtonReload()}),g(13,"i",9),s(),r(14,"button",7),S(15,"translate"),I("click",function(){return t.onActionButtonStatist()}),g(16,"i",10),s()()()(),b(17,VS,2,1,"div",11),b(18,NS,2,1,"div",12),b(19,BS,6,11,"div",13),r(20,"div",14),I("touchstart",function(p){return t.onTouchStart(p)})("touchmove",function(p){return t.onTouchMove(p)})("touchend",function(p){return t.onTouchEnd(p)}),b(21,GS,3,0,"div",15)(22,HS,6,3,"div",16),s(),r(23,"div",17),b(24,WS,3,3,"button",18),b(25,US,3,5,"div",19),s()()),i&2&&(o(),h("optionsInfoAreaId",t.constructorInfoAreaId),o(4),M(" ",C(6,17,"ROUTE.SMS.MAIN")," "),o(3),B("active",t.optionsSearch.data.show),se("aria-label",C(9,19,"ACTION.SEARCH")),o(3),se("aria-label",C(12,21,"ACTION.RELOAD")),o(2),B("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(),B("active",t.optionsStatist==null||t.optionsStatist.data==null?null:t.optionsStatist.data.show),se("aria-label",C(15,23,"ACTION.STATIST")),o(3),v(t.optionsSearch.data.show?17:-1),o(),v(!(t.optionsStatist==null||t.optionsStatist.data==null)&&t.optionsStatist.data.show?18:-1),o(),v(t.pullToRefreshState.pullDistance>0?19:-1),o(2),v(t.dataModelResult!=null&&t.dataModelResult.listItems&&t.dataModelResult.listItems.length>0?21:22),o(3),v(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessAddRow?24:-1),o(),v((t.dataModelResult==null?null:t.dataModelResult.totalRowCount)>0?25:-1))},dependencies:[Ge,Ie,We,Ue,K,H,st,qe],styles:['@charset "UTF-8";.cms-m-content[_ngcontent-%COMP%]{padding:8px var(--cms-m-spacing-md);padding-bottom:calc(8px + env(safe-area-inset-bottom));position:relative;touch-action:pan-y}.cms-m-header-spacer[_ngcontent-%COMP%]{flex:1}@media (max-width: 375px){.cms-m-content[_ngcontent-%COMP%]{padding:8px 12px}.cms-m-list-item[_ngcontent-%COMP%]{padding:10px 12px}.cms-m-list-item-image[_ngcontent-%COMP%], .cms-m-list-item-image-placeholder[_ngcontent-%COMP%]{width:48px;height:48px}.cms-m-action-btn[_ngcontent-%COMP%]{width:40px;height:40px;min-width:40px;min-height:40px}}@media screen and (-webkit-min-device-pixel-ratio: 0){.cms-m-list-item[_ngcontent-%COMP%]{will-change:transform}}']});var Sr=na;var qS=["vform"];function jS(n,l){if(n&1){let e=A();r(0,"app-cms-enum-record-status-selector",27),P("modelChange",function(t){u(e);let a=m();return T(a.dataModel.recordStatus,t)||(a.dataModel.recordStatus=t),f(t)}),s()}if(n&2){let e=m();w("model",e.dataModel.recordStatus),h("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function QS(n,l){n&1&&g(0,"i",15)}function zS(n,l){n&1&&g(0,"i",16)}function KS(n,l){n&1&&(r(0,"mat-error"),d(1," Title is "),r(2,"strong"),d(3),S(4,"translate"),s()()),n&2&&(o(3),y(C(4,1,"MESSAGE.required")))}function XS(n,l){if(n&1){let e=A();r(0,"div",12)(1,"label",28),d(2),s(),r(3,"input",29,4),P("ngModelChange",function(t){u(e);let a=m();return T(a.dataModel.title,t)||(a.dataModel.title=t),f(t)}),s(),b(5,QS,1,0,"i",15),b(6,zS,1,0,"i",16),r(7,"em"),d(8),s(),b(9,KS,5,3,"mat-error"),s()}if(n&2){let e=D(4),i=m();o(2),y(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(),h("placeholder",k(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle)),w("ngModel",i.dataModel.title),o(2),v(e.value?-1:5),o(),v(e.value?6:-1),o(2),M("",e.value.length," / 100"),o(),v(e.errors!=null&&e.errors.required?9:-1)}}function YS(n,l){n&1&&g(0,"i",15)}function JS(n,l){n&1&&g(0,"i",16)}function ZS(n,l){n&1&&(r(0,"mat-error"),d(1," ClassName is "),r(2,"strong"),d(3),S(4,"translate"),s()()),n&2&&(o(3),y(C(4,1,"MESSAGE.required")))}function $S(n,l){if(n&1){let e=A();r(0,"div",17)(1,"div",30)(2,"h5",31),d(3),s()(),r(4,"div",32)(5,"div",33)(6,"input",34),P("ngModelChange",function(t){u(e);let a=m();return T(a.dataModel.abilityCreditCheck,t)||(a.dataModel.abilityCreditCheck=t),f(t)}),s(),g(7,"label",35),s()()()}if(n&2){let e=m();o(3),M(" ",e.fieldsInfo.abilityCreditCheck==null?null:e.fieldsInfo.abilityCreditCheck.fieldTitle," "),o(3),w("ngModel",e.dataModel.abilityCreditCheck)}}function eC(n,l){if(n&1){let e=A();r(0,"div",17)(1,"div",30)(2,"h5",36),d(3),s()(),r(4,"div",32)(5,"div",33)(6,"input",37),P("ngModelChange",function(t){u(e);let a=m();return T(a.dataModel.abilityDelivery,t)||(a.dataModel.abilityDelivery=t),f(t)}),s(),g(7,"label",38),s()()()}if(n&2){let e=m();o(3),M(" ",e.fieldsInfo.abilityDelivery==null?null:e.fieldsInfo.abilityDelivery.fieldTitle," "),o(3),w("ngModel",e.dataModel.abilityDelivery)}}function tC(n,l){if(n&1){let e=A();r(0,"div",17)(1,"div",30)(2,"h5",39),d(3),s()(),r(4,"div",32)(5,"div",33)(6,"input",40),P("ngModelChange",function(t){u(e);let a=m();return T(a.dataModel.abilityReceive,t)||(a.dataModel.abilityReceive=t),f(t)}),s(),g(7,"label",41),s()()()}if(n&2){let e=m();o(3),M(" ",e.fieldsInfo.abilityReceive==null?null:e.fieldsInfo.abilityReceive.fieldTitle," "),o(3),w("ngModel",e.dataModel.abilityReceive)}}function iC(n,l){n&1&&(r(0,"mat-error"),d(1," Memo is "),r(2,"strong"),d(3),S(4,"translate"),s()()),n&2&&(o(3),y(C(4,1,"MESSAGE.required")))}function nC(n,l){if(n&1&&(g(0,"img",22),S(1,"cmsthumbnail")),n&2){let e=m();h("src",k(C(1,2,e.dataModel.linkMainImageIdSrc)),we)}}function oC(n,l){if(n&1){let e=A();r(0,"div",26)(1,"button",42),I("click",function(){u(e);let t=m();return f(t.onFormCancel())}),g(2,"i",43),d(3),S(4,"translate"),s(),r(5,"button",44),g(6,"i",45),d(7),S(8,"translate"),s()()}if(n&2){m();let e=D(13);o(3),M(" ",C(4,3,"ACTION.CANCEL")," "),o(2),h("disabled",!e.form.valid),o(2),M(" ",C(8,5,"ACTION.SAVE")," ")}}var oa=class oa extends Ct{constructor(e,i,t,a,p,c,E,F){super(a,new di,c,F);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.smsMainApiPathPublicConfigService=a;this.cmsToastrService=p;this.publicHelper=c;this.cdr=E;this.translate=F;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new q;this.dataModel=new di;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess()}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.smsMainApiPathPublicConfigService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success}),this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionFileSelected(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};oa.\u0275fac=function(i){return new(i||oa)(_(ve),_(be),_(Re),_(si),_(W),_(U),_(G),_(O))},oa.\u0275cmp=N({type:oa,selectors:[["app-sms-publicconfig-add"]],viewQuery:function(i,t){if(i&1&&ee(qS,5),i&2){let a;te(a=ie())&&(t.formGroup=a.first)}},standalone:!1,features:[X],decls:50,vars:48,consts:[["vform","ngForm"],["ClassName",""],["Memo",""],["LinkMainImageId",""],["Title",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.className",1,"color-highlight"],["matInput","","type","text","name","dataModel.className","placeholder","ClassName","minlength","3","maxlength","100","required","","id","dataModel.className",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"d-flex","mb-3"],["for","dataModel.memo",1,"color-highlight"],["matInput","","name","dataModel.memo","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.memo",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"mb-3"],["target","_blank",3,"href"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],[1,"form-actions"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"pt-1"],["data-trigger-switch","dataModel.abilityCreditCheck",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.abilityCreditCheck","name","dataModel.abilityCreditCheck",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.abilityCreditCheck",1,"custom-control-label"],["data-trigger-switch","dataModel.abilityDelivery",1,"font-600","font-14"],["type","checkbox","id","dataModel.abilityDelivery","name","dataModel.abilityDelivery",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.abilityDelivery",1,"custom-control-label"],["data-trigger-switch","dataModel.abilityReceive",1,"font-600","font-14"],["type","checkbox","id","dataModel.abilityReceive","name","dataModel.abilityReceive",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.abilityReceive",1,"custom-control-label"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let a=A();r(0,"div",5),g(1,"app-progress-spinner",6),r(2,"div",7)(3,"p",8),d(4),s(),r(5,"h4"),d(6),S(7,"translate"),s(),r(8,"p"),d(9),S(10,"translate"),s(),g(11,"app-cms-form-result-message",9),r(12,"form",10,0),I("ngSubmit",function(){return u(a),f(t.onFormSubmit())}),b(14,jS,1,5,"app-cms-enum-record-status-selector",11),b(15,XS,10,8,"div",12),r(16,"div",12)(17,"label",13),d(18),s(),r(19,"input",14,1),P("ngModelChange",function(c){return u(a),T(t.dataModel.className,c)||(t.dataModel.className=c),f(c)}),s(),b(21,YS,1,0,"i",15),b(22,JS,1,0,"i",16),r(23,"em"),d(24),s(),b(25,ZS,5,3,"mat-error"),s(),b(26,$S,8,2,"div",17),b(27,eC,8,2,"div",17),b(28,tC,8,2,"div",17),r(29,"div",12)(30,"label",18),d(31),s(),r(32,"textarea",19,2),P("ngModelChange",function(c){return u(a),T(t.dataModel.memo,c)||(t.dataModel.memo=c),f(c)}),s(),r(34,"em"),d(35),s(),b(36,iC,5,3,"mat-error"),s(),r(37,"div",20)(38,"a",21),S(39,"cmsthumbnail"),b(40,nC,2,4,"img",22),s()(),r(41,"div",12)(42,"label",23),I("click",function(){return u(a),f(t.fileManagerOpenForm=!0)}),d(43),S(44,"translate"),s(),r(45,"input",24,3),S(47,"translate"),P("ngModelChange",function(c){return u(a),T(t.dataModel.linkMainImageId,c)||(t.dataModel.linkMainImageId=c),f(c)}),I("click",function(){return u(a),f(t.fileManagerOpenForm=!0)}),s(),r(48,"cms-file-manager",25),I("itemSelected",function(c){return u(a),f(t.onActionFileSelected(c))}),P("openFormChange",function(c){return u(a),T(t.fileManagerOpenForm,c)||(t.fileManagerOpenForm=c),f(c)}),s()(),b(49,oC,9,7,"div",26),s()()()}if(i&2){let a=D(20),p=D(33);o(),h("optionsInfoAreaId",t.constructorInfoAreaId),o(3),M(" ",t.formInfo.formTitle," "),o(2),y(C(7,38,"TITLE.BASIC_SERVICE_SETTINGS")),o(3),M(" ",C(10,40,"TITLE.BASIC_SERVICE_SETTINGS_DESCRIPTION")," "),o(2),h("formInfo",t.formInfo),o(3),v(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?14:-1),o(),v(t.fieldsInfo.title!=null&&t.fieldsInfo.title.accessWatchField?15:-1),o(3),y(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),w("ngModel",t.dataModel.className),o(2),v(a.value?-1:21),o(),v(a.value?22:-1),o(2),M("",a.value.length," / 100"),o(),v(a.errors!=null&&a.errors.required?25:-1),o(),v(t.fieldsInfo.abilityCreditCheck!=null&&t.fieldsInfo.abilityCreditCheck.accessWatchField?26:-1),o(),v(t.fieldsInfo.abilityDelivery!=null&&t.fieldsInfo.abilityDelivery.accessWatchField?27:-1),o(),v(t.fieldsInfo.abilityReceive!=null&&t.fieldsInfo.abilityReceive.accessWatchField?28:-1),o(3),y(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),h("placeholder",k(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),w("ngModel",t.dataModel.memo),o(3),M("",p.value.length," / 500"),o(),v(p.errors!=null&&p.errors.required?36:-1),o(2),h("href",k(C(39,42,t.dataModel.linkMainImageIdSrc)),we),o(2),v((t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0?40:-1),o(3),y(C(44,44,"TITLE.Icon_File")),o(2),h("placeholder",k(C(47,46,"TITLE.Original_File_ID"))),w("ngModel",t.dataModel.linkMainImageId),o(3),h("language",t.appLanguage)("isPopup",!0),w("openForm",t.fileManagerOpenForm),h("tree",t.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",t.selectFileTypeMainImage)("openFilemanagerButtonView",!1),o(),v(t.formInfo.submitButtonEnabled?49:-1)}},dependencies:[_e,ne,Je,oe,ge,fe,Be,Fe,he,Me,Le,J,Te,K,Ee,Bi,H,dt],encapsulation:2});var aa=oa;var aC=["vform"];function rC(n,l){if(n&1){let e=A();r(0,"app-cms-enum-record-status-selector",28),P("modelChange",function(t){u(e);let a=m();return T(a.dataModel.recordStatus,t)||(a.dataModel.recordStatus=t),f(t)}),s()}if(n&2){let e=m();w("model",e.dataModel.recordStatus),h("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function sC(n,l){n&1&&g(0,"i",15)}function lC(n,l){n&1&&g(0,"i",16)}function cC(n,l){n&1&&(r(0,"mat-error"),d(1," Title is "),r(2,"strong"),d(3),S(4,"translate"),s()()),n&2&&(o(3),y(C(4,1,"MESSAGE.required")))}function dC(n,l){if(n&1){let e=A();r(0,"div",12)(1,"label",29),d(2),s(),r(3,"input",30,4),P("ngModelChange",function(t){u(e);let a=m();return T(a.dataModel.title,t)||(a.dataModel.title=t),f(t)}),s(),b(5,sC,1,0,"i",15),b(6,lC,1,0,"i",16),r(7,"em"),d(8),s(),b(9,cC,5,3,"mat-error"),s()}if(n&2){let e=D(4),i=m();o(2),y(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(),h("placeholder",k(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle)),w("ngModel",i.dataModel.title),o(2),v(e.value?-1:5),o(),v(e.value?6:-1),o(2),M("",e.value.length," / 100"),o(),v(e.errors!=null&&e.errors.required?9:-1)}}function mC(n,l){n&1&&g(0,"i",15)}function pC(n,l){n&1&&g(0,"i",16)}function uC(n,l){n&1&&(r(0,"mat-error"),d(1," ClassName is "),r(2,"strong"),d(3),S(4,"translate"),s()()),n&2&&(o(3),y(C(4,1,"MESSAGE.required")))}function fC(n,l){if(n&1){let e=A();r(0,"div",17)(1,"div",31)(2,"h5",32),d(3),s()(),r(4,"div",33)(5,"div",34)(6,"input",35),P("ngModelChange",function(t){u(e);let a=m();return T(a.dataModel.abilityCreditCheck,t)||(a.dataModel.abilityCreditCheck=t),f(t)}),s(),g(7,"label",36),s()()()}if(n&2){let e=m();o(3),M(" ",e.fieldsInfo.abilityCreditCheck==null?null:e.fieldsInfo.abilityCreditCheck.fieldTitle," "),o(3),w("ngModel",e.dataModel.abilityCreditCheck)}}function hC(n,l){if(n&1){let e=A();r(0,"div",17)(1,"div",31)(2,"h5",37),d(3),s()(),r(4,"div",33)(5,"div",34)(6,"input",38),P("ngModelChange",function(t){u(e);let a=m();return T(a.dataModel.abilityDelivery,t)||(a.dataModel.abilityDelivery=t),f(t)}),s(),g(7,"label",39),s()()()}if(n&2){let e=m();o(3),M(" ",e.fieldsInfo.abilityDelivery==null?null:e.fieldsInfo.abilityDelivery.fieldTitle," "),o(3),w("ngModel",e.dataModel.abilityDelivery)}}function SC(n,l){if(n&1){let e=A();r(0,"div",17)(1,"div",31)(2,"h5",40),d(3),s()(),r(4,"div",33)(5,"div",34)(6,"input",41),P("ngModelChange",function(t){u(e);let a=m();return T(a.dataModel.abilityReceive,t)||(a.dataModel.abilityReceive=t),f(t)}),s(),g(7,"label",42),s()()()}if(n&2){let e=m();o(3),M(" ",e.fieldsInfo.abilityReceive==null?null:e.fieldsInfo.abilityReceive.fieldTitle," "),o(3),w("ngModel",e.dataModel.abilityReceive)}}function CC(n,l){n&1&&(r(0,"mat-error"),d(1," Memo is "),r(2,"strong"),d(3),S(4,"translate"),s()()),n&2&&(o(3),y(C(4,1,"MESSAGE.required")))}function gC(n,l){if(n&1&&(g(0,"img",23),S(1,"cmsthumbnail")),n&2){let e=m();h("src",k(C(1,2,e.dataModel.linkMainImageIdSrc)),we)}}function MC(n,l){if(n&1){let e=A();r(0,"div",27)(1,"button",43),I("click",function(){u(e);let t=m();return f(t.onFormCancel())}),g(2,"i",44),d(3),S(4,"translate"),s(),r(5,"button",45),g(6,"i",46),d(7),S(8,"translate"),s()()}if(n&2){m();let e=D(13);o(3),M(" ",C(4,3,"ACTION.CANCEL")," "),o(2),h("disabled",!e.form.valid),o(2),M(" ",C(8,5,"ACTION.SAVE")," ")}}var ra=class ra extends gt{constructor(e,i,t,a,p,c,E,F){super(a,new di,c,F);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.smsMainApiPathPublicConfigService=a;this.cmsToastrService=p;this.publicHelper=c;this.cdr=E;this.translate=F;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new ft;this.dataModel=new Yr;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,e&&e.id&&(this.requestId=e.id),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}}DataGetOneContent(){if(this.requestId.length<=0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.smsMainApiPathPublicConfigService.setAccessLoad(),this.smsMainApiPathPublicConfigService.setAccessDataType(nt.Editor),this.smsMainApiPathPublicConfigService.ServiceGetOneWithJsonFormatter(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.smsMainApiPathPublicConfigService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success}),this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionFileSelected(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};ra.\u0275fac=function(i){return new(i||ra)(_(ve),_(be),_(Re),_(si),_(W),_(U),_(G),_(O))},ra.\u0275cmp=N({type:ra,selectors:[["app-sms-publicconfig-edit"]],viewQuery:function(i,t){if(i&1&&ee(aC,5),i&2){let a;te(a=ie())&&(t.formGroup=a.first)}},standalone:!1,features:[X],decls:51,vars:51,consts:[["vform","ngForm"],["ClassName",""],["Memo",""],["LinkMainImageId",""],["Title",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.className",1,"color-highlight"],["matInput","","type","text","name","dataModel.className","placeholder","ClassName","minlength","3","maxlength","100","required","","id","dataModel.className",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"d-flex","mb-3"],[3,"jsonValueChange","formGroup","jsonValue","propertiesInfos"],["for","dataModel.memo",1,"color-highlight"],["matInput","","name","dataModel.memo","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.memo",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"mb-3"],["target","_blank",3,"href"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],[1,"form-actions"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"pt-1"],["data-trigger-switch","dataModel.abilityCreditCheck",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.abilityCreditCheck","name","dataModel.abilityCreditCheck",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.abilityCreditCheck",1,"custom-control-label"],["data-trigger-switch","dataModel.abilityDelivery",1,"font-600","font-14"],["type","checkbox","id","dataModel.abilityDelivery","name","dataModel.abilityDelivery",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.abilityDelivery",1,"custom-control-label"],["data-trigger-switch","dataModel.abilityReceive",1,"font-600","font-14"],["type","checkbox","id","dataModel.abilityReceive","name","dataModel.abilityReceive",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.abilityReceive",1,"custom-control-label"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let a=A();r(0,"div",5),g(1,"app-progress-spinner",6),r(2,"div",7)(3,"p",8),d(4),s(),r(5,"h4"),d(6),S(7,"translate"),s(),r(8,"p"),d(9),S(10,"translate"),s(),g(11,"app-cms-form-result-message",9),r(12,"form",10,0),I("ngSubmit",function(){return u(a),f(t.onFormSubmit())}),b(14,rC,1,5,"app-cms-enum-record-status-selector",11),b(15,dC,10,8,"div",12),r(16,"div",12)(17,"label",13),d(18),s(),r(19,"input",14,1),P("ngModelChange",function(c){return u(a),T(t.dataModel.className,c)||(t.dataModel.className=c),f(c)}),s(),b(21,mC,1,0,"i",15),b(22,pC,1,0,"i",16),r(23,"em"),d(24),s(),b(25,uC,5,3,"mat-error"),s(),b(26,fC,8,2,"div",17),b(27,hC,8,2,"div",17),b(28,SC,8,2,"div",17),r(29,"dynamic-form-builder-cms",18),P("jsonValueChange",function(c){return u(a),T(t.dataModel.publicConfigJsonValues,c)||(t.dataModel.publicConfigJsonValues=c),f(c)}),s(),r(30,"div",12)(31,"label",19),d(32),s(),r(33,"textarea",20,2),P("ngModelChange",function(c){return u(a),T(t.dataModel.memo,c)||(t.dataModel.memo=c),f(c)}),s(),r(35,"em"),d(36),s(),b(37,CC,5,3,"mat-error"),s(),r(38,"div",21)(39,"a",22),S(40,"cmsthumbnail"),b(41,gC,2,4,"img",23),s()(),r(42,"div",12)(43,"label",24),I("click",function(){return u(a),f(t.fileManagerOpenForm=!0)}),d(44),S(45,"translate"),s(),r(46,"input",25,3),S(48,"translate"),P("ngModelChange",function(c){return u(a),T(t.dataModel.linkMainImageId,c)||(t.dataModel.linkMainImageId=c),f(c)}),I("click",function(){return u(a),f(t.fileManagerOpenForm=!0)}),s(),r(49,"cms-file-manager",26),I("itemSelected",function(c){return u(a),f(t.onActionFileSelected(c))}),P("openFormChange",function(c){return u(a),T(t.fileManagerOpenForm,c)||(t.fileManagerOpenForm=c),f(c)}),s()(),b(50,MC,9,7,"div",27),s()()()}if(i&2){let a=D(13),p=D(20),c=D(34);o(),h("optionsInfoAreaId",t.constructorInfoAreaId),o(3),M(" ",t.formInfo.formTitle," "),o(2),y(C(7,41,"TITLE.BASIC_SERVICE_SETTINGS")),o(3),M(" ",C(10,43,"TITLE.BASIC_SERVICE_SETTINGS_DESCRIPTION")," "),o(2),h("formInfo",t.formInfo),o(3),v(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?14:-1),o(),v(t.fieldsInfo.title!=null&&t.fieldsInfo.title.accessWatchField?15:-1),o(3),y(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),w("ngModel",t.dataModel.className),o(2),v(p.value?-1:21),o(),v(p.value?22:-1),o(2),M("",p.value.length," / 100"),o(),v(p.errors!=null&&p.errors.required?25:-1),o(),v(t.fieldsInfo.abilityCreditCheck!=null&&t.fieldsInfo.abilityCreditCheck.accessWatchField?26:-1),o(),v(t.fieldsInfo.abilityDelivery!=null&&t.fieldsInfo.abilityDelivery.accessWatchField?27:-1),o(),v(t.fieldsInfo.abilityReceive!=null&&t.fieldsInfo.abilityReceive.accessWatchField?28:-1),o(),h("formGroup",a.form),w("jsonValue",t.dataModel.publicConfigJsonValues),h("propertiesInfos",t.dataModel.publicConfigJsonFormatter),o(3),y(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),h("placeholder",k(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),w("ngModel",t.dataModel.memo),o(3),M("",c.value.length," / 500"),o(),v(c.errors!=null&&c.errors.required?37:-1),o(2),h("href",k(C(40,45,t.dataModel.linkMainImageIdSrc)),we),o(2),v((t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0?41:-1),o(3),y(C(45,47,"TITLE.Icon_File")),o(2),h("placeholder",k(C(48,49,"TITLE.Original_File_ID"))),w("ngModel",t.dataModel.linkMainImageId),o(3),h("language",t.appLanguage)("isPopup",!0),w("openForm",t.fileManagerOpenForm),h("tree",t.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",t.selectFileTypeMainImage)("openFilemanagerButtonView",!1),o(),v(t.formInfo.submitButtonEnabled?50:-1)}},dependencies:[_e,ne,Je,oe,ge,fe,Be,Fe,he,Me,$a,Le,J,Te,K,Ee,Bi,cr,H,dt],encapsulation:2});var sa=ra;var _C=()=>[5,10,20,100],bC=(n,l)=>l.id;function vC(n,l){if(n&1){let e=A();r(0,"div",13)(1,"a",24),I("click",function(){u(e);let t=m();return f(t.onActionButtonNewRow())}),g(2,"i",25)(3,"br"),s(),r(4,"p",26),d(5),S(6,"translate"),s()()}n&2&&(o(5),M(" ",C(6,1,"ACTION.ADD")," "))}function IC(n,l){if(n&1){let e=A();r(0,"div",13)(1,"a",24),I("click",function(){u(e);let t=m();return f(t.onActionButtonNewRowAuto())}),g(2,"i",25)(3,"br"),s(),r(4,"p",26),d(5),S(6,"translate"),s()()}n&2&&(o(5),M(" ",C(6,1,"ACTION.AUTOADD")," "))}function AC(n,l){if(n&1){let e=A();r(0,"div",13)(1,"a",27),I("click",function(){u(e);let t=m();return f(t.onActionButtonEditRow(t.tableRowSelected))}),g(2,"i",28)(3,"br"),s(),r(4,"p",26),d(5),S(6,"translate"),s()()}n&2&&(o(5),M(" ",C(6,1,"ACTION.EDIT")," "))}function EC(n,l){if(n&1){let e=A();r(0,"div",13)(1,"a",29),I("click",function(){u(e);let t=m();return f(t.onActionButtonDeleteRow(t.tableRowSelected))}),g(2,"i",30)(3,"br"),s(),r(4,"p",26),d(5),S(6,"translate"),s()()}n&2&&(o(5),M(" ",C(6,1,"ACTION.DELETE")," "))}function yC(n,l){if(n&1){let e=A();r(0,"div",13)(1,"a",6),I("click",function(t){u(e);let a=m();return f(a.onActionButtonPrivateList(a.tableRowSelected,t))}),g(2,"i",31)(3,"br"),s(),r(4,"p",26),d(5),S(6,"translate"),s()()}n&2&&(o(5),M(" ",C(6,1,"ACTION.ROUTES")," "))}function wC(n,l){if(n&1&&(r(0,"div",32),g(1,"i",33),r(2,"span"),d(3),S(4,"translate"),S(5,"translate"),s()()),n&2){let e=m();ut("transform","translateY("+(e.pullToRefreshState.pullDistance>80?80:e.pullToRefreshState.pullDistance)+"px)"),B("refreshing",e.pullToRefreshState.isRefreshing),o(),B("rotation360",e.pullToRefreshState.isRefreshing),o(2),y(e.pullToRefreshState.isRefreshing?C(4,7,"ACTION.RELOADING"):C(5,9,"ACTION.PULL_TO_REFRESH"))}}function TC(n,l){if(n&1&&(r(0,"div",37),g(1,"img",44),s()),n&2){let e=m().$implicit;o(),h("src",e.linkMainImageIdSrc,we)("alt",e.className||e.title)}}function PC(n,l){n&1&&(r(0,"div",38),g(1,"i",45),s())}function RC(n,l){if(n&1&&(r(0,"div",41),g(1,"i",46),d(2),s()),n&2){let e=m().$implicit,i=m(2);o(2),ue(" ",i.fieldsInfo.id==null?null:i.fieldsInfo.id.fieldTitle,": ",e.id," ")}}function xC(n,l){if(n&1&&(r(0,"div",47),g(1,"i",49),S(2,"statusIconClass"),s()),n&2){let e=m(2).$implicit;o(),h("ngClass",C(2,1,e.recordStatus))}}function DC(n,l){if(n&1&&(r(0,"div",48),g(1,"i",50),r(2,"span"),d(3),S(4,"localeDate"),s()()),n&2){let e=m(2).$implicit;o(3),y(C(4,1,e.updatedDate))}}function kC(n,l){if(n&1&&(r(0,"div",42),b(1,xC,3,3,"div",47),b(2,DC,5,3,"div",48),s()),n&2){let e=m().$implicit;o(),v(e.recordStatus?1:-1),o(),v(e.updatedDate?2:-1)}}function LC(n,l){if(n&1){let e=A();r(0,"div",43)(1,"div",41)(2,"span",51),I("click",function(t){return u(e),m(3).onActionCopied(),f(t.stopPropagation())}),g(3,"i",52),s(),d(4),s()()}if(n&2){let e=m().$implicit;o(2),h("cdkCopyToClipboard",e.id.toString()),o(2),M(" ID: ",e.id," ")}}function VC(n,l){if(n&1){let e=A();r(0,"div",35)(1,"div",36),I("click",function(t){let a=u(e).$implicit,p=m(2);return f(p.onActionTableRowSelect(a,t))})("rtclick",function(t){let a=u(e).$implicit,p=m(2);return f(p.onActionTableRowSelect(a,t))})("mouseenter",function(){let t=u(e).$implicit,a=m(2);return f(a.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=u(e).$implicit,a=m(2);return f(a.onActionTableRowMouseLeave(t))})("touchstart",function(t){let a=u(e).$implicit,p=m(2);return f(p.onItemTouchStart(t,a.id))})("touchmove",function(t){let a=u(e).$implicit,p=m(2);return f(p.onItemTouchMove(t,a.id))})("touchend",function(t){let a=u(e).$implicit,p=m(2);return f(p.onItemTouchEnd(t,a.id))}),b(2,TC,2,2,"div",37)(3,PC,2,0,"div",38),r(4,"div",39)(5,"div",40),d(6),s(),b(7,RC,3,2,"div",41),b(8,kC,3,2,"div",42),b(9,LC,5,2,"div",43),s()()()}if(n&2){let e,i=l.$implicit,t=m(2);ut("transform","translateX("+(((e=t.swipeState.get(i.id))==null?null:e.offset)||0)+"px)"),o(),B("selected",i.id===(t.tableRowSelected==null?null:t.tableRowSelected.id)),se("aria-label",i.className||i.title),o(),v((i==null||i.linkMainImageIdSrc==null?null:i.linkMainImageIdSrc.length)>0?2:3),o(4),M(" ",i.className||i.title," "),o(),v(i.id?7:-1),o(),v(i.updatedDate||i.recordStatus?8:-1),o(),v(t.getRowExpanded(i)?9:-1)}}function NC(n,l){if(n&1&&(r(0,"div",20),Z(1,VC,10,10,"div",34,bC),s()),n&2){let e=m();o(),$(e.dataModelResult.listItems)}}function BC(n,l){n&1&&(r(0,"div",21)(1,"div",53),g(2,"i",54),s(),r(3,"div",55),d(4),S(5,"translate"),s()()),n&2&&(o(4),M(" ",C(5,1,"MESSAGE.no_information")," "))}var la=class la extends Qe{constructor(e,i,t,a,p,c,E,F,Ne,tt,Pe,It){super(e,new di,Pe,E,Ne);this.contentService=e;this.cmsToastrService=i;this.cmsConfirmationDialogService=t;this.coreCurrencyService=a;this.cmsStoreService=p;this.router=c;this.tokenHelper=E;this.cdr=F;this.translate=Ne;this.pageInfo=tt;this.publicHelper=Pe;this.dialog=It;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new Y;this.filterDataModelQueryBuilder=[];this.dataModelCoreCurrencyResult=new q;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["linkMainImageIdSrc","recordStatus","ClassName","updatedDate"];this.tabledisplayedColumnsMobileSource=["linkMainImageIdSrc","recordStatus","ClassName","updatedDate"];this.unsubscribe=[];this.pullToRefreshState={isRefreshing:!1,startY:0,currentY:0,pullDistance:0,threshold:80};this.Math=Math;this.swipeState=new Map;this.SWIPE_THRESHOLD=100;this.SWIPE_MAX_OFFSET=120;this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:z=>this.onSubmitOptionsSearch(z)},this.filteModelContent.sortColumn="id",this.filteModelContent.sortType=Q.Descending}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>ae(this,null,function*(){this.tokenInfo=e,this.DataGetAll()}))),this.getCurrency()}getCurrency(){let e=new Y;e.rowPerPage=100,this.coreCurrencyService.ServiceGetAll(e).subscribe({next:i=>{this.dataModelCoreCurrencyResult=i}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new di);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=Q.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=Q.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=Q.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(aa,{height:"90%",panelClass:e,enterAnimationDuration:j.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:j.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(sa,{height:"90%",panelClass:i,enterAnimationDuration:j.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:j.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(a=>{a&&a.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(a=>{this.cmsToastrService.typeErrorSelected(a)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(a=>{i=a["MESSAGE.Please_Confirm"],t=a["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+(this.tableRowSelected.title||this.tableRowSelected.className)+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(a=>{if(a){let p=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(p,c,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(p)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(p,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{i.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{i.set(c,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(E=>{i.set(E,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}});let a=JSON.parse(JSON.stringify(this.filteModelContent)),p=new V;p.propertyName="recordStatus",p.value=ke.Available,a.filters.push(p),this.contentService.ServiceGetCount(a).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(E=>{i.set(E,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonPrivateList(e=this.tableRowSelected,i){if(!(e?.id?.length>0)){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorSelected();return}if(i?.ctrlKey){let t="/#//sms/main/api-path/list/LinkPublicConfigId/"+this.tableRowSelected.id;window.open(t,"_blank")}else this.router.navigate(["/sms/main/api-path/list/LinkPublicConfigId",this.tableRowSelected.id])}onActionButtonReload(){this.DataGetAll()}onItemTouchStart(e,i){e.stopPropagation();let t=e.touches[0];this.swipeState.set(i,{startX:t.clientX,currentX:t.clientX,offset:0})}onItemTouchMove(e,i){e.stopPropagation();let t=this.swipeState.get(i);if(!t)return;let a=e.touches[0];t.currentX=a.clientX;let p=t.currentX-t.startX,c=document.documentElement.dir==="rtl",E=c?this.SWIPE_MAX_OFFSET:-this.SWIPE_MAX_OFFSET,F=c?-this.SWIPE_MAX_OFFSET:this.SWIPE_MAX_OFFSET;t.offset=Math.max(F,Math.min(E,p))}onItemTouchEnd(e,i){e.stopPropagation();let t=this.swipeState.get(i);if(!t)return;let a=document.documentElement.dir==="rtl",p=a?this.SWIPE_THRESHOLD:-this.SWIPE_THRESHOLD;a&&t.offset>p||!a&&t.offset<p||(t.offset=0),this.swipeState.set(i,t)}onTouchStart(e){let t=e.target.closest(".cms-m-content");t&&t.scrollTop===0&&(this.pullToRefreshState.startY=e.touches[0].clientY,this.pullToRefreshState.isRefreshing=!1)}onTouchMove(e){let t=e.target.closest(".cms-m-content");t&&t.scrollTop===0&&this.pullToRefreshState.startY>0&&(this.pullToRefreshState.currentY=e.touches[0].clientY,this.pullToRefreshState.pullDistance=Math.max(0,this.pullToRefreshState.currentY-this.pullToRefreshState.startY),this.pullToRefreshState.pullDistance>10&&e.preventDefault())}onTouchEnd(e){this.pullToRefreshState.pullDistance>=this.pullToRefreshState.threshold&&!this.pullToRefreshState.isRefreshing?(this.pullToRefreshState.isRefreshing=!0,this.onActionButtonReload(),setTimeout(()=>{this.pullToRefreshState.isRefreshing=!1,this.pullToRefreshState.pullDistance=0,this.pullToRefreshState.startY=0,this.pullToRefreshState.currentY=0},1e3)):(this.pullToRefreshState.pullDistance=0,this.pullToRefreshState.startY=0,this.pullToRefreshState.currentY=0)}onActionButtonNewRowAuto(){let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.contentService.ServiceAutoAdd().subscribe({next:i=>{i.isSuccess?(this.cmsToastrService.typeSuccessAdd(),this.DataGetAll()):this.cmsToastrService.typeErrorMessage(i.errorMessage),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}getRowExpanded(e){return e.expanded===!0}onActionCopied(){this.cmsToastrService.typeSuccessCopedToClipboard()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}};la.\u0275fac=function(i){return new(i||la)(_(si),_(W),_(Oe),_(za),_(Ae),_(He),_(Ce),_(G),_(O),_(je),_(U),_(Se))},la.\u0275cmp=N({type:la,selectors:[["app-sms-publicconfig-list-mobile"]],standalone:!1,features:[X],decls:36,vars:33,consts:[["paginator",""],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplay","optionActionRowDisplayMenu","optionActionRowDisplayMenuAct","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],[1,"cms-m-pull-refresh-indicator",3,"transform","refreshing"],[1,"cms-m-content",3,"touchstart","touchmove","touchend"],[1,"cms-m-list"],[1,"cms-m-empty-state"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-route","font-18",2,"color","#ffffff"],[1,"cms-m-pull-refresh-indicator"],["aria-hidden","true",1,"fa-solid","fa-rotate-right"],[1,"cms-m-list-item-wrapper",3,"transform"],[1,"cms-m-list-item-wrapper"],["role","button","tabindex","0",1,"cms-m-list-item",3,"click","rtclick","mouseenter","mouseleave","touchstart","touchmove","touchend"],[1,"cms-m-list-item-image"],[1,"cms-m-list-item-image-placeholder"],[1,"cms-m-list-item-content"],[1,"cms-m-list-item-title"],[1,"cms-m-list-item-subtitle"],[1,"cms-m-list-item-footer"],[1,"cms-m-list-item-expanded"],["loading","lazy",3,"src","alt"],["aria-hidden","true",1,"fa-solid","fa-cog"],["aria-hidden","true",1,"fa-solid","fa-hashtag"],[1,"cms-m-list-item-status"],[1,"cms-m-list-item-date"],["aria-hidden","true",3,"ngClass"],["aria-hidden","true",1,"fa-solid","fa-clock"],[1,"navi-icon","pointer",3,"click","cdkCopyToClipboard"],[1,"flaticon2-copy"],[1,"cms-m-empty-state-icon"],["aria-hidden","true",1,"fa-solid","fa-inbox"],[1,"cms-m-empty-state-text"]],template:function(i,t){if(i&1){let a=A();r(0,"app-cms-html-list-mobile",1),P("optionActionGuideNoticeDisplayChange",function(c){return u(a),T(t.viewGuideNotice,c)||(t.viewGuideNotice=c),f(c)}),I("optionOnActionButtonMemoRow",function(){return u(a),f(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return u(a),f(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return u(a),f(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return u(a),f(t.onActionButtonPrintRow())}),ze(1,2)(2,3)(3,4),R(4,5),r(5,"a",6),I("click",function(){return u(a),f(t.viewGuideNotice=!t.viewGuideNotice)}),g(6,"i",7),s(),r(7,"a",6),I("click",function(){return u(a),f(t.onActionButtonReload())}),g(8,"i",8),s(),x(),R(9,9),r(10,"a",10),I("click",function(){return u(a),f(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),g(11,"mat-slide-toggle",11),d(12),S(13,"translate"),s(),r(14,"a",10),I("click",function(){return u(a),f(t.onActionButtonStatist())}),g(15,"mat-slide-toggle",11),d(16),S(17,"translate"),s(),x(),R(18,12),b(19,vC,7,3,"div",13),b(20,IC,7,3,"div",13),x(),R(21,14),b(22,AC,7,3,"div",13),b(23,EC,7,3,"div",13),b(24,yC,7,3,"div",13),x(),R(25,15),r(26,"app-cms-search-list",16),P("optionsChange",function(c){return u(a),T(t.optionsSearch,c)||(t.optionsSearch=c),f(c)}),s(),r(27,"app-cms-statist-list",16),P("optionsChange",function(c){return u(a),T(t.optionsStatist,c)||(t.optionsStatist=c),f(c)}),s(),x(),R(28,17),b(29,wC,6,11,"div",18),r(30,"div",19),I("touchstart",function(c){return u(a),f(t.onTouchStart(c))})("touchmove",function(c){return u(a),f(t.onTouchMove(c))})("touchend",function(c){return u(a),f(t.onTouchEnd(c))}),b(31,NC,3,0,"div",20)(32,BC,6,3,"div",21),s(),x(),R(33,22),r(34,"mat-paginator",23,0),I("page",function(c){return u(a),f(t.onTablePageingData(c))}),s(),x(),s()}i&2&&(h("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),w("optionActionGuideNoticeDisplay",t.viewGuideNotice),h("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplay",(t.tableRowSelected==null?null:t.tableRowSelected.id)>0)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionActionRowDisplayMenuAct",t.tableRowSelectActionMenuClick)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.title),o(8),B("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(3),h("checked",t.optionsSearch.data.show),o(),M("",C(13,28,"ACTION.SEARCH")," "),o(3),h("checked",t.optionsStatist.data.show),o(),M("",C(17,30,"ACTION.STATIST")," "),o(3),v(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessAddRow?19:-1),o(),v(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessAddRow?20:-1),o(2),v(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow&&(t.tableRowSelected==null?null:t.tableRowSelected.id)>0?22:-1),o(),v(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow&&(t.tableRowSelected==null?null:t.tableRowSelected.id)>0?23:-1),o(),v((t.tableRowSelected==null?null:t.tableRowSelected.id)>0?24:-1),o(2),w("options",t.optionsSearch),o(),w("options",t.optionsStatist),o(2),v(t.pullToRefreshState.pullDistance>0?29:-1),o(2),v(t.dataModelResult!=null&&t.dataModelResult.listItems&&t.dataModelResult.listItems.length>0?31:32),o(3),h("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",xe(32,_C)))},dependencies:[Ge,Ie,at,dn,We,Ue,to,rt,H,st,qe],styles:['@charset "UTF-8";.cms-m-content[_ngcontent-%COMP%]{padding:8px var(--cms-m-spacing-md);padding-bottom:calc(8px + env(safe-area-inset-bottom));position:relative;touch-action:pan-y}.cms-m-header-spacer[_ngcontent-%COMP%]{flex:1}@media (max-width: 375px){.cms-m-content[_ngcontent-%COMP%]{padding:8px 12px}.cms-m-list-item[_ngcontent-%COMP%]{padding:10px 12px}.cms-m-list-item-image[_ngcontent-%COMP%], .cms-m-list-item-image-placeholder[_ngcontent-%COMP%]{width:48px;height:48px}.cms-m-action-btn[_ngcontent-%COMP%]{width:40px;height:40px;min-width:40px;min-height:40px}}@media screen and (-webkit-min-device-pixel-ratio: 0){.cms-m-list-item[_ngcontent-%COMP%]{will-change:transform}}']});var Cr=la;var ca=class ca{constructor(){this.constructorInfoAreaId=this.constructor.name}ngOnInit(){}};ca.\u0275fac=function(e){return new(e||ca)},ca.\u0275cmp=N({type:ca,selectors:[["app-sms-main"]],standalone:!1,decls:1,vars:0,template:function(e,i){e&1&&g(0,"router-outlet")},dependencies:[jr],encapsulation:2});var da=ca;var Fs=[{path:"",component:da,data:{title:"ROUTE.SMS.MAIN"},children:[{path:"api-path-company",component:mr,data:{title:"ROUTE.SMS.MAIN"}},{path:"publicconfig",component:Cr,data:{title:"ROUTE.SMS.MAIN"}},{path:"api-path",component:En,data:{title:"ROUTE.SMS.MAIN"}},{path:"api-path/list",component:En,data:{title:"ROUTE.SMS.MAIN"}},{path:"api-path/list/LinkCompanyId/:LinkCompanyId",component:En,data:{title:"ROUTE.SMS.MAIN"}},{path:"api-path/list/LinkPublicConfigId/:LinkPublicConfigId",component:En,data:{title:"ROUTE.SMS.MAIN"}},{path:"api-path/list/LinkSiteId/:LinkSiteId",component:En,data:{title:"ROUTE.SMS.MAIN"}},{path:"api-path/edit/:id",component:Bo,data:{title:"ROUTE.SMS.MAIN"}},{path:"api-path-permission",component:Nn,data:{title:"ROUTE.SMS.MAIN"}},{path:"api-path-permission/LinkApiPathId/:LinkApiPathId",component:Nn,data:{title:"ROUTE.SMS.MAIN"}},{path:"api-path-permission/LinkUserId/:LinkUserId",component:Nn,data:{title:"ROUTE.SMS.MAIN"}},{path:"api-path-permission/LinkSiteId/:LinkSiteId",component:Nn,data:{title:"ROUTE.SMS.MAIN"}},{path:"api-path-pagination",component:Ba,data:{title:"ROUTE.SMS.MAIN"}},{path:"api-path-pagination/LinkApiPathId/:LinkApiPathId",component:Ba,data:{title:"ROUTE.SMS.MAIN"}},{path:"api-number",component:Va,data:{title:"ROUTE.SMS.MAIN"}},{path:"api-number/LinkApiPathId/:LinkApiPathId",component:Va,data:{title:"ROUTE.SMS.MAIN"}},{path:"api-number-permission",component:Ln,data:{title:"ROUTE.SMS.MAIN"}},{path:"api-number-permission/LinkApiNumberId/:LinkApiNumberId",component:Ln,data:{title:"ROUTE.SMS.MAIN"}},{path:"api-number-permission/LinkUserId/:LinkUserId",component:Ln,data:{title:"ROUTE.SMS.MAIN"}},{path:"api-number-permission/LinkSiteId/:LinkSiteId",component:Ln,data:{title:"ROUTE.SMS.MAIN"}},{path:"client-application",component:Yo,data:{title:"ROUTE.SMS.MAIN"}},{path:"client-application/LinkUserId/:LinkUserId",component:Yo,data:{title:"ROUTE.SMS.MAIN"}},{path:"client-application/LinkSiteId/:LinkSiteId",component:Yo,data:{title:"ROUTE.SMS.MAIN"}},{path:"client-application-permission",component:en,data:{title:"ROUTE.SMS.MAIN"}},{path:"client-application-permission/LinkClientApplicationId/:LinkClientApplicationId",component:en,data:{title:"ROUTE.SMS.MAIN"}},{path:"client-application-permission/LinkApiPathId/:LinkApiPathId",component:en,data:{title:"ROUTE.SMS.MAIN"}},{path:"message",component:Sr,data:{title:"ROUTE.SMS.MAIN"}}]}];var ma=class ma{constructor(l,e,i,t,a,p,c,E){this.headerService=l;this.publicHelper=e;this.cdr=i;this.cmsToastrService=t;this.dialog=a;this.translate=p;this.cmsStoreService=c;this.tokenHelper=E;this.constructorInfoAreaId=this.constructor.name;this.optionId="";this.dataModelResult=new q;this.fieldsInfo=new Map;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr}ngOnInit(){this.optionId?.length>0&&this.DataGetOneContent(),this.unsubscribe.push(this.cmsStoreService.getState(l=>l.tokenInfoStore).subscribe(l=>ae(this,null,function*(){this.DataGetOneContent()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(l=>l.unsubscribe())}DataGetOneContent(){let l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(l,e,this.constructorInfoAreaId)}),this.headerService.setAccessLoad(),this.headerService.ServiceGetOneById(this.optionId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),e.isSuccess?this.dataModelResult=e:this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(l)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(l,!1)}})}};ma.\u0275fac=function(e){return new(e||ma)(_(_i),_(U),_(G),_(W),_(Se),_(O),_(Ae),_(Ce))},ma.\u0275cmp=N({type:ma,selectors:[["app-api-number-header"]],inputs:{optionId:"optionId"},standalone:!1,decls:32,vars:9,consts:[[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content"],[1,"table"],[1,"tr"],[1,"td","small-width"],[1,"svg-icon","svg-icon-3x","svg-icon-primary",3,"inlineSVG"],[1,"td","large-width",2,"color","darkblue"],[1,"td",2,"text-align","left"],[1,"td","large-width"],[1,"td"],[2,"clear","both"],[1,"td","large-width","cell-ltr"],[1,"divider","divider-margins"]],template:function(e,i){e&1&&(r(0,"div",0),g(1,"app-progress-spinner",1),r(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),g(6,"span",6),s(),r(7,"div",7)(8,"h5")(9,"b"),d(10),S(11,"translate"),s()()(),g(12,"div",8),s(),r(13,"div",4)(14,"div",5)(15,"b"),d(16),s(),d(17,": "),s(),r(18,"div",9),d(19),s(),g(20,"div",10)(21,"div",11),s(),r(22,"div",4)(23,"div",5)(24,"b"),d(25),s(),d(26,": "),s(),r(27,"div",12),d(28),s(),g(29,"div",8)(30,"div",11),s()()()(),g(31,"div",13)),e&2&&(o(),h("optionsInfoAreaId",i.constructorInfoAreaId),o(5),h("inlineSVG","./assets/media/svg/icons/Communication/Flag.svg"),o(4),M(" ",C(11,7,"TITLE.Selected_Api_Number")," "),o(6),M("",i.fieldsInfo.id==null?null:i.fieldsInfo.id.fieldTitle," "),o(3),y(i.dataModelResult==null||i.dataModelResult.item==null?null:i.dataModelResult.item.id),o(6),M("",i.fieldsInfo.numberChar==null?null:i.fieldsInfo.numberChar.fieldTitle," "),o(3),M(" ",i.dataModelResult==null||i.dataModelResult.item==null?null:i.dataModelResult.item.numberChar," "))},dependencies:[K,Jn,H],styles:[".table[_ngcontent-%COMP%]{display:table;border:1px solid #40a1f5;padding:2px;background:#fff;border-radius:5px}.table[_ngcontent-%COMP%]   .th[_ngcontent-%COMP%]{display:table-row;background-color:#40a1f577;color:#fff;font-weight:700}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f9f9f9}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]{display:table-row;border-bottom:1px solid #000}.table[_ngcontent-%COMP%]   .td[_ngcontent-%COMP%]{display:table-cell;padding:15px;border-bottom:1px solid #40a1f5;color:#3d7c7a}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:last-child   .td[_ngcontent-%COMP%]{border:0}.small-width[_ngcontent-%COMP%]{width:90px}.large-width[_ngcontent-%COMP%]{width:400px}.clear[_ngcontent-%COMP%]{clear:both}"]});var gr=ma;var OC=()=>["expandedDetail"],GC=()=>[5,10,20,100],HC=n=>({display:n});function WC(n,l){if(n&1&&g(0,"app-api-number-header",3),n&2){let e=m();h("optionId",e.requestLinkApiNumberId)}}function UC(n,l){if(n&1){let e=A();r(0,"a",48),I("click",function(){u(e);let t=m();return f(t.onActionBackToParent())}),g(1,"i",49),s()}}function qC(n,l){if(n&1){let e=A();r(0,"div",18)(1,"a",50),I("click",function(){u(e);let t=m();return f(t.onActionButtonNewRow())}),g(2,"i",51)(3,"br"),s(),r(4,"p",52),d(5),S(6,"translate"),s()()}n&2&&(o(5),M(" ",C(6,1,"ACTION.ADD")," "))}function jC(n,l){if(n&1){let e=A();r(0,"div",18)(1,"a",53),I("click",function(){u(e);let t=m();return f(t.onActionButtonEditRow(t.tableRowSelected))}),g(2,"i",54)(3,"br"),s(),r(4,"p",52),d(5),S(6,"translate"),s()()}n&2&&(o(5),M(" ",C(6,1,"ACTION.EDIT")," "))}function QC(n,l){if(n&1){let e=A();r(0,"div",18)(1,"a",55),I("click",function(){u(e);let t=m();return f(t.onActionButtonDeleteRow(t.tableRowSelected))}),g(2,"i",56)(3,"br"),s(),r(4,"p",52),d(5),S(6,"translate"),s()()}n&2&&(o(5),M(" ",C(6,1,"ACTION.DELETE")," "))}function zC(n,l){if(n&1&&(r(0,"mat-header-cell",57),d(1),s()),n&2){let e=m();o(),M(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function KC(n,l){if(n&1&&(r(0,"mat-cell"),d(1),s()),n&2){let e=l.$implicit;o(),M(" ",e.id," ")}}function XC(n,l){if(n&1&&(r(0,"mat-header-cell",57),d(1),s()),n&2){let e=m();o(),M(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function YC(n,l){if(n&1&&(r(0,"mat-cell",58),S(1,"statusCellClass"),g(2,"i",58),S(3,"statusIconClass"),s()),n&2){let e=l.$implicit;h("ngClass",C(1,2,e.recordStatus)),o(2),h("ngClass",C(3,4,e.recordStatus))}}function JC(n,l){if(n&1&&(r(0,"mat-header-cell",57),d(1),s()),n&2){let e=m();o(),M(" ",e.fieldsInfo.linkApiNumberId==null?null:e.fieldsInfo.linkApiNumberId.fieldTitle," ")}}function ZC(n,l){if(n&1&&(r(0,"mat-cell"),d(1),s()),n&2){let e=l.$implicit;o(),M(" ",e.linkApiNumberId," ")}}function $C(n,l){if(n&1&&(r(0,"mat-header-cell",57),d(1),s()),n&2){let e=m();o(),M(" ",e.fieldsInfo.linkCoreUserId==null?null:e.fieldsInfo.linkCoreUserId.fieldTitle," ")}}function eg(n,l){if(n&1&&(r(0,"mat-cell"),d(1),S(2,"cmsuserinfo"),S(3,"async"),s()),n&2){let e=l.$implicit;o(),M(" ",C(3,3,C(2,1,e.linkCoreUserId))," ")}}function tg(n,l){if(n&1&&(r(0,"mat-header-cell",57),d(1),s()),n&2){let e=m();o(),M(" ",e.fieldsInfo.linkCoreUserGroupId==null?null:e.fieldsInfo.linkCoreUserGroupId.fieldTitle," ")}}function ig(n,l){if(n&1&&(r(0,"mat-cell"),d(1),s()),n&2){let e=l.$implicit;o(),M(" ",e.linkCoreUserGroupId," ")}}function ng(n,l){if(n&1&&(r(0,"mat-header-cell",57),d(1),s()),n&2){let e=m();o(),M(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function og(n,l){if(n&1&&(r(0,"mat-cell"),d(1),S(2,"localeDate"),s()),n&2){let e=l.$implicit;o(),M(" ",C(2,1,e.createdDate)," ")}}function ag(n,l){if(n&1&&(r(0,"mat-header-cell",57),d(1),s()),n&2){let e=m();o(),M(" ",e.fieldsInfo.fromDate==null?null:e.fieldsInfo.fromDate.fieldTitle," ")}}function rg(n,l){if(n&1&&(r(0,"mat-cell"),d(1),S(2,"localeDate"),s()),n&2){let e=l.$implicit;o(),M(" ",C(2,1,e.fromDate)," ")}}function sg(n,l){if(n&1&&(r(0,"mat-header-cell",57),d(1),s()),n&2){let e=m();o(),M(" ",e.fieldsInfo.expireDate==null?null:e.fieldsInfo.expireDate.fieldTitle," ")}}function lg(n,l){if(n&1&&(r(0,"mat-cell"),d(1),S(2,"localeDate"),s()),n&2){let e=l.$implicit;o(),M(" ",C(2,1,e.expireDate)," ")}}function cg(n,l){if(n&1&&(r(0,"mat-header-cell",57),d(1),s()),n&2){let e=m();o(),M(" ",e.fieldsInfo.updatedDate==null?null:e.fieldsInfo.updatedDate.fieldTitle," ")}}function dg(n,l){if(n&1&&(r(0,"mat-cell"),d(1),S(2,"localeDate"),s()),n&2){let e=l.$implicit;o(),M(" ",C(2,1,e.updatedDate)," ")}}function mg(n,l){if(n&1&&(r(0,"mat-header-cell",59),d(1),s()),n&2){let e=m();o(),M(" ",e.fieldsInfo.hasAccess==null?null:e.fieldsInfo.hasAccess.fieldTitle," ")}}function pg(n,l){if(n&1&&(r(0,"mat-cell"),g(1,"i",58),S(2,"boolclass"),s()),n&2){let e=l.$implicit;o(),h("ngClass",C(2,1,e.hasAccess))}}function ug(n,l){if(n&1&&(r(0,"mat-header-cell",59),d(1),s()),n&2){let e=m();o(),M(" ",e.fieldsInfo.hasInherits==null?null:e.fieldsInfo.hasInherits.fieldTitle," ")}}function fg(n,l){if(n&1&&(r(0,"mat-cell"),g(1,"i",58),S(2,"boolclass"),s()),n&2){let e=l.$implicit;o(),h("ngClass",C(2,1,e.hasInherits))}}function hg(n,l){n&1&&(r(0,"mat-header-cell"),d(1),S(2,"translate"),s()),n&2&&(o(),M(" ",C(2,1,"TITLE.OPTION")," "))}function Sg(n,l){if(n&1&&(r(0,"mat-cell",60)(1,"button",61)(2,"mat-icon"),d(3,"more_vert"),s()(),g(4,"mat-menu",null,2),s()),n&2){let e=D(5);o(),h("matMenuTriggerFor",e)}}function Cg(n,l){if(n&1&&(r(0,"tr"),g(1,"td"),r(2,"td"),d(3),S(4,"cmsuserinfo"),S(5,"async"),s()()),n&2){let e=m().$implicit,i=m();o(3),ue(" ",i.fieldsInfo.linkCoreUserId==null?null:i.fieldsInfo.linkCoreUserId.fieldTitle," : ",C(5,4,C(4,2,e.linkCoreUserId))," ")}}function gg(n,l){if(n&1&&(r(0,"tr"),g(1,"td"),r(2,"td"),d(3),S(4,"cmssiteinfo"),S(5,"async"),s()()),n&2){let e=m().$implicit,i=m();o(3),ue(" ",i.fieldsInfo.linkCoreSiteId==null?null:i.fieldsInfo.linkCoreSiteId.fieldTitle," : ",C(5,4,C(4,2,e.linkCoreSiteId))," ")}}function Mg(n,l){if(n&1&&(r(0,"tr"),g(1,"td"),r(2,"td"),d(3),s()()),n&2){let e=m().$implicit,i=m();o(3),ue(" ",i.fieldsInfo.linkCoreUserGroupId==null?null:i.fieldsInfo.linkCoreUserGroupId.fieldTitle," : ",e.linkCoreUserGroupId," ")}}function _g(n,l){if(n&1&&(r(0,"tr"),g(1,"td"),r(2,"td"),d(3),s()()),n&2){let e=m().$implicit,i=m();o(3),ue(" ",i.fieldsInfo.linkCoreSiteCategoryId==null?null:i.fieldsInfo.linkCoreSiteCategoryId.fieldTitle," : ",e.linkCoreSiteCategoryId," ")}}function bg(n,l){if(n&1&&(r(0,"tr"),g(1,"td"),r(2,"td"),d(3),S(4,"localeDate"),s()()),n&2){let e=m().$implicit,i=m();o(3),ue(" ",i.fieldsInfo.fromDate==null?null:i.fieldsInfo.fromDate.fieldTitle," : ",C(4,2,e.fromDate)," ")}}function vg(n,l){if(n&1&&(r(0,"tr"),g(1,"td"),r(2,"td"),d(3),S(4,"localeDate"),s()()),n&2){let e=m().$implicit,i=m();o(3),ue(" ",i.fieldsInfo.expireDate==null?null:i.fieldsInfo.expireDate.fieldTitle," : ",C(4,2,e.expireDate)," ")}}function Ig(n,l){if(n&1&&(r(0,"tr"),g(1,"td"),r(2,"td"),d(3),S(4,"localeDate"),s()()),n&2){let e=m().$implicit,i=m();o(3),ue(" ",i.fieldsInfo.createdDate==null?null:i.fieldsInfo.createdDate.fieldTitle," : ",C(4,2,e.createdDate)," ")}}function Ag(n,l){if(n&1&&(r(0,"tr"),g(1,"td"),r(2,"td"),d(3),S(4,"localeDate"),s()()),n&2){let e=m().$implicit,i=m();o(3),ue(" ",i.fieldsInfo.updatedDate==null?null:i.fieldsInfo.updatedDate.fieldTitle," : ",C(4,2,e.updatedDate)," ")}}function Eg(n,l){if(n&1&&(r(0,"mat-cell")(1,"div")(2,"table"),b(3,Cg,6,6,"tr"),b(4,gg,6,6,"tr"),b(5,Mg,4,2,"tr"),b(6,_g,4,2,"tr"),b(7,bg,5,4,"tr"),b(8,vg,5,4,"tr"),b(9,Ig,5,4,"tr"),b(10,Ag,5,4,"tr"),r(11,"tr"),g(12,"td")(13,"td"),s()()()()),n&2){let e=l.$implicit;o(3),v(e.linkCoreUserId?3:-1),o(),v(e.linkCoreSiteId?4:-1),o(),v(e.linkCoreUserGroupId?5:-1),o(),v(e.linkCoreSiteCategoryId?6:-1),o(),v(e.fromDate?7:-1),o(),v(e.expireDate?8:-1),o(),v(e.createdDate?9:-1),o(),v(e.updatedDate?10:-1)}}function yg(n,l){n&1&&g(0,"mat-header-row")}function wg(n,l){if(n&1){let e=A();r(0,"mat-row",62),I("click",function(t){let a=u(e).$implicit,p=m();return f(p.onActionTableRowSelect(a,t))})("rtclick",function(t){let a=u(e).$implicit,p=m();return f(p.onActionTableRowSelect(a,t))}),s()}if(n&2){let e=l.$implicit,i=m();B("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}function Tg(n,l){if(n&1){let e=A();r(0,"mat-row",63),I("click",function(t){let a=u(e).$implicit,p=m();return f(p.onActionTableRowSelect(a,t))})("rtclick",function(t){let a=u(e).$implicit,p=m();return f(p.onActionTableRowSelect(a,t))})("mouseenter",function(){let t=u(e).$implicit,a=m();return f(a.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=u(e).$implicit,a=m();return f(a.onActionTableRowMouseLeave(t))}),s()}if(n&2){let e=l.$implicit,i=m();B("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)),h("ngStyle",Wi(3,HC,e.expanded===!0?"":"none"))}}var pa=class pa extends Qe{constructor(e,i,t,a,p,c,E,F,Ne,tt,Pe,It){super(e,new ki,Pe,c,Ne);this.contentService=e;this.cmsToastrService=i;this.activatedRoute=t;this.cmsConfirmationDialogService=a;this.router=p;this.tokenHelper=c;this.cmsStoreService=E;this.cdr=F;this.translate=Ne;this.pageInfo=tt;this.publicHelper=Pe;this.dialog=It;this.tableData=[];this.requestLinkApiNumberId="";this.requestLinkCoreUserId=0;this.requestLinkCoreSiteId=0;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new Y;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["id","recordStatus","linkApiNumberId","linkCoreUserId","linkCoreUserGroupId","hasAccess","hasInherits","fromDate","expireDate"];this.tabledisplayedColumnsMobileSource=["id","recordStatus","linkApiNumberId","linkCoreUserId","linkCoreUserGroupId","hasAccess","hasInherits","fromDate","expireDate"];this.unsubscribe=[];if(this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:z=>this.onSubmitOptionsSearch(z)},this.requestLinkCoreUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkCoreSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkApiNumberId=this.activatedRoute.snapshot.paramMap.get("LinkApiNumberId"),this.requestLinkCoreUserId>0){let z=new V;z.propertyName="LinkCoreUserId",z.value=this.requestLinkCoreUserId,this.filteModelContent.filters.push(z)}if(this.requestLinkApiNumberId?.length>0){let z=new V;z.propertyName="LinkApiNumberId",z.value=this.requestLinkApiNumberId,this.filteModelContent.filters.push(z)}this.filteModelContent.sortColumn="id",this.filteModelContent.sortType=Q.Descending}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>ae(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new ki);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,t.isSuccess?(this.tableData=t.listItems,this.tableSource.data=t.listItems,this.sort&&(this.tableSource.sort=this.sort),this.paginator&&(this.tableSource.paginator=this.paginator),this.tableSource.filter="",this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=Q.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=Q.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=Q.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(ao,{height:"90%",panelClass:e,enterAnimationDuration:j.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:j.cmsViewConfig.exitAnimationDuration,data:{linkApiNumberId:this.requestLinkApiNumberId}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length==0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(lo,{height:"90%",panelClass:i,enterAnimationDuration:j.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:j.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(a=>{a&&a.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length==0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(a=>{this.cmsToastrService.typeErrorSelected(a)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(a=>{i=a["MESSAGE.Please_Confirm"],t=a["MESSAGE.Do_you_want_to_delete_this_content"]+"?"}),this.cmsConfirmationDialogService.confirm(i,t).then(a=>{if(a){let p=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(p,c,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(p)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(p,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{i.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{i.set(c,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(E=>{i.set(E,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}});let a=JSON.parse(JSON.stringify(this.filteModelContent)),p=new V;p.propertyName="recordStatus",p.value=ke.Available,a.filters.push(p),this.contentService.ServiceGetCount(a).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(E=>{i.set(E,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/sms/main/api-path"])}};pa.\u0275fac=function(i){return new(i||pa)(_(qi),_(W),_(Xe),_(Oe),_(He),_(Ce),_(Ae),_(G),_(O),_(je),_(U),_(Se))},pa.\u0275cmp=N({type:pa,selectors:[["app-sms-api-number-permission-list"]],viewQuery:function(i,t){if(i&1&&(ee($e,5),ee(Ie,5)),i&2){let a;te(a=ie())&&(t.sort=a.first),te(a=ie())&&(t.paginator=a.first)}},standalone:!1,features:[X],decls:75,vars:34,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionId"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[3,"checked"],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","","multiTemplateDataRows","",3,"matSortChange","dataSource"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","recordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","linkApiNumberId"],["matColumnDef","linkCoreUserId"],["matColumnDef","linkCoreUserGroupId"],["matColumnDef","createdDate"],["matColumnDef","fromDate"],["matColumnDef","expireDate"],["matColumnDef","updatedDate"],["matColumnDef","hasAccess"],["mat-sort-header","","class","form-label",4,"matHeaderCellDef"],["matColumnDef","hasInherits"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],["matColumnDef","expandedDetail"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["class","ntk-row-expandedDetail",3,"ntk-row-selected","ngStyle","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["mat-sort-header","",1,"form-label"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"],[1,"ntk-row-expandedDetail",3,"click","rtclick","mouseenter","mouseleave","ngStyle"]],template:function(i,t){if(i&1){let a=A();b(0,WC,1,1,"app-api-number-header",3),r(1,"app-cms-html-list",4),P("optionActionGuideNoticeDisplayChange",function(c){return u(a),T(t.viewGuideNotice,c)||(t.viewGuideNotice=c),f(c)}),I("optionOnActionButtonMemoRow",function(){return u(a),f(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return u(a),f(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return u(a),f(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return u(a),f(t.onActionButtonPrintRow())}),ze(2,5)(3,6)(4,7),R(5,8),b(6,UC,2,0,"a",9),r(7,"a",10),I("click",function(){return u(a),f(t.viewGuideNotice=!t.viewGuideNotice)}),g(8,"i",11),s(),r(9,"a",10),I("click",function(){return u(a),f(t.onActionButtonReload())}),g(10,"i",12),s(),x(),R(11,13),r(12,"a",14),g(13,"mat-slide-toggle",15),d(14),S(15,"translate"),s(),r(16,"a",16),I("click",function(){return u(a),f(t.onActionButtonStatist())}),g(17,"mat-slide-toggle",15),d(18),S(19,"translate"),s(),x(),R(20,17),b(21,qC,7,3,"div",18),x(),R(22,19),b(23,jC,7,3,"div",18),b(24,QC,7,3,"div",18),x(),R(25,20),r(26,"app-cms-search-list",21),P("optionsChange",function(c){return u(a),T(t.optionsSearch,c)||(t.optionsSearch=c),f(c)}),s(),r(27,"app-cms-statist-list",21),P("optionsChange",function(c){return u(a),T(t.optionsStatist,c)||(t.optionsStatist=c),f(c)}),s(),x(),R(28,22),r(29,"mat-table",23,0),I("matSortChange",function(){u(a);let c=D(30);return f(t.onTableSortData(c))}),R(31,24),L(32,zC,2,1,"mat-header-cell",25)(33,KC,2,1,"mat-cell",26),x(),R(34,27),L(35,XC,2,1,"mat-header-cell",25)(36,YC,4,6,"mat-cell",28),x(),R(37,29),L(38,JC,2,1,"mat-header-cell",25)(39,ZC,2,1,"mat-cell",26),x(),R(40,30),L(41,$C,2,1,"mat-header-cell",25)(42,eg,4,5,"mat-cell",26),x(),R(43,31),L(44,tg,2,1,"mat-header-cell",25)(45,ig,2,1,"mat-cell",26),x(),R(46,32),L(47,ng,2,1,"mat-header-cell",25)(48,og,3,3,"mat-cell",26),x(),R(49,33),L(50,ag,2,1,"mat-header-cell",25)(51,rg,3,3,"mat-cell",26),x(),R(52,34),L(53,sg,2,1,"mat-header-cell",25)(54,lg,3,3,"mat-cell",26),x(),R(55,35),L(56,cg,2,1,"mat-header-cell",25)(57,dg,3,3,"mat-cell",26),x(),R(58,36),L(59,mg,2,1,"mat-header-cell",37)(60,pg,3,3,"mat-cell",26),x(),R(61,38),L(62,ug,2,1,"mat-header-cell",37)(63,fg,3,3,"mat-cell",26),x(),R(64,39),L(65,hg,3,3,"mat-header-cell",40)(66,Sg,6,1,"mat-cell",41),x(),R(67,42),L(68,Eg,14,8,"mat-cell",26),x(),L(69,yg,1,0,"mat-header-row",43)(70,wg,1,2,"mat-row",44)(71,Tg,1,5,"mat-row",45),s(),x(),R(72,46),r(73,"mat-paginator",47,1),I("page",function(c){return u(a),f(t.onTablePageingData(c))}),s(),x(),s()}i&2&&(v((t.requestLinkApiNumberId==null?null:t.requestLinkApiNumberId.length)>0?0:-1),o(),h("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),w("optionActionGuideNoticeDisplay",t.viewGuideNotice),h("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),o(5),v((t.requestLinkApiNumberId==null?null:t.requestLinkApiNumberId.length)>0?6:-1),o(4),B("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(3),h("checked",t.optionsSearch.data.show),o(),M("",C(15,28,"ACTION.SEARCH")," "),o(3),h("checked",t.optionsStatist.data.show),o(),M("",C(19,30,"ACTION.STATIST")," "),o(3),v(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessAddRow?21:-1),o(2),v(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?23:-1),o(),v(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?24:-1),o(2),w("options",t.optionsSearch),o(),w("options",t.optionsStatist),o(2),h("dataSource",t.tableSource),o(40),h("matHeaderRowDef",t.tabledisplayedColumns),o(),h("matRowDefColumns",t.tabledisplayedColumns),o(),h("matRowDefColumns",xe(32,OC)),o(2),h("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",xe(33,GC)))},dependencies:[Ge,Ui,ct,Ze,Wt,Ut,Ie,at,$e,At,Et,wt,xt,Tt,yt,Dt,Pt,Rt,kt,Lt,We,Ue,Vt,rt,gr,it,H,wi,Xi,st,qe,ii,Zn],encapsulation:2});var On=pa;var sn=class sn{constructor(l){this.persianCalendarService=l}transform(l){if(typeof l=="string"){if(!l||l.length===0)return"";let e=new Date(l),i=new Date;if(!e||e.getFullYear()<i.getFullYear()-1e3)return"";let t=new Date;return t.setFullYear(t.getFullYear()-100),e<t?"":e.getHours()+":"+e.getMinutes()}if(typeof l==typeof Date){if(!l)return"";let e=new Date;return e.setFullYear(e.getFullYear()-100),l<e?"":l.getHours()+":"+l.getMinutes()}return""}};sn.\u0275fac=function(e){return new(e||sn)(_(gs,16))},sn.\u0275pipe=Hr({name:"localeTime",type:sn,pure:!0,standalone:!1}),sn.\u0275prov=Fr({token:sn,factory:sn.\u0275fac});var Mr=sn;var xg=()=>[5,10,20,100];function Dg(n,l){if(n&1){let e=A();r(0,"a",50),I("click",function(){u(e);let t=m();return f(t.onActionBackToParent())}),g(1,"i",51),s()}}function kg(n,l){if(n&1){let e=A();r(0,"div",17)(1,"a",52),I("click",function(){u(e);let t=m();return f(t.onActionButtonNewRow())}),g(2,"i",53),s(),r(3,"p",21),d(4),S(5,"translate"),s()()}n&2&&(o(4),M(" ",C(5,1,"ACTION.ADD")," "))}function Lg(n,l){if(n&1){let e=A();r(0,"div",17)(1,"a",54),I("click",function(){u(e);let t=m();return f(t.onActionButtonEditRow(t.tableRowSelected))}),g(2,"i",55)(3,"br"),s(),r(4,"p",21),d(5),S(6,"translate"),s()()}n&2&&(o(5),M(" ",C(6,1,"ACTION.EDIT")," "))}function Vg(n,l){if(n&1){let e=A();r(0,"div",17)(1,"a",56),I("click",function(){u(e);let t=m();return f(t.onActionButtonDeleteRow(t.tableRowSelected))}),g(2,"i",57)(3,"br"),s(),r(4,"p",21),d(5),S(6,"translate"),s()()}n&2&&(o(5),M(" ",C(6,1,"ACTION.DELETE")," "))}function Ng(n,l){if(n&1&&(r(0,"mat-header-cell",58),d(1),s()),n&2){let e=m();o(),M(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function Bg(n,l){if(n&1&&(r(0,"mat-cell"),d(1),s()),n&2){let e=l.$implicit;o(),M(" ",e.id," ")}}function Fg(n,l){if(n&1&&(r(0,"mat-header-cell",58),d(1),s()),n&2){let e=m();o(),M(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function Og(n,l){if(n&1&&(r(0,"mat-cell",59),S(1,"statusCellClass"),g(2,"i",59),S(3,"statusIconClass"),s()),n&2){let e=l.$implicit;h("ngClass",C(1,2,e.recordStatus)),o(2),h("ngClass",C(3,4,e.recordStatus))}}function Gg(n,l){if(n&1&&(r(0,"mat-header-cell",58),d(1),s()),n&2){let e=m();o(),M(" ",e.fieldsInfo.numberChar==null?null:e.fieldsInfo.numberChar.fieldTitle," ")}}function Hg(n,l){if(n&1&&(r(0,"mat-cell",60),d(1),s()),n&2){let e=l.$implicit;o(),M(" ",e.numberChar," ")}}function Wg(n,l){if(n&1&&(r(0,"mat-header-cell",58),d(1),s()),n&2){let e=m();o(),M(" ",e.fieldsInfo.isPublic==null?null:e.fieldsInfo.isPublic.fieldTitle," ")}}function Ug(n,l){if(n&1&&(r(0,"mat-cell"),g(1,"i",59),S(2,"statusIconClass"),s()),n&2){let e=l.$implicit;o(),h("ngClass",C(2,1,e.isPublic))}}function qg(n,l){if(n&1&&(r(0,"mat-header-cell",58),d(1),s()),n&2){let e=m();o(),M(" ",e.fieldsInfo.saleStatus==null?null:e.fieldsInfo.saleStatus.fieldTitle," ")}}function jg(n,l){if(n&1&&(r(0,"mat-cell"),g(1,"i",59),S(2,"statusIconClass"),s()),n&2){let e=l.$implicit;o(),h("ngClass",C(2,1,e.saleStatus))}}function Qg(n,l){if(n&1&&(r(0,"mat-header-cell",58),d(1),s()),n&2){let e=m();o(),M(" ",e.fieldsInfo.accessUseStartDate==null?null:e.fieldsInfo.accessUseStartDate.fieldTitle," ")}}function zg(n,l){if(n&1&&(r(0,"mat-cell"),d(1),S(2,"localeDate"),s()),n&2){let e=l.$implicit;o(),M(" ",C(2,1,e.accessUseStartDate)," ")}}function Kg(n,l){if(n&1&&(r(0,"mat-header-cell",58),d(1),s()),n&2){let e=m();o(),M(" ",e.fieldsInfo.expireDate==null?null:e.fieldsInfo.expireDate.fieldTitle," ")}}function Xg(n,l){if(n&1&&(r(0,"mat-cell"),d(1),S(2,"localeDate"),s()),n&2){let e=l.$implicit;o(),M(" ",C(2,1,e.expireDate)," ")}}function Yg(n,l){if(n&1&&(r(0,"mat-header-cell",58),d(1),s()),n&2){let e=m();o(),M(" ",e.fieldsInfo.lastUseOfDate==null?null:e.fieldsInfo.lastUseOfDate.fieldTitle," ")}}function Jg(n,l){if(n&1&&(r(0,"mat-cell",61),d(1),S(2,"localeDate"),S(3,"localeTime"),s()),n&2){let e=l.$implicit;o(),ue(" ",C(2,2,e.lastUseOfDate)," ",C(3,4,e.lastUseOfDate)," ")}}function Zg(n,l){if(n&1&&(r(0,"mat-header-cell",58),d(1),s()),n&2){let e=m();o(),M(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function $g(n,l){if(n&1&&(r(0,"mat-cell"),d(1),S(2,"localeDate"),s()),n&2){let e=l.$implicit;o(),M(" ",C(2,1,e.createdDate)," ")}}function eM(n,l){if(n&1&&(r(0,"mat-header-cell",58),d(1),s()),n&2){let e=m();o(),M(" ",e.fieldsInfo.updatedDate==null?null:e.fieldsInfo.updatedDate.fieldTitle," ")}}function tM(n,l){if(n&1&&(r(0,"mat-cell"),d(1),S(2,"localeDate"),s()),n&2){let e=l.$implicit;o(),M(" ",C(2,1,e.updatedDate)," ")}}function iM(n,l){n&1&&(r(0,"mat-header-cell"),d(1),S(2,"translate"),s()),n&2&&(o(),M(" ",C(2,1,"TITLE.OPTION")," "))}function nM(n,l){if(n&1&&(r(0,"mat-cell",62)(1,"button",63)(2,"mat-icon"),d(3,"more_vert"),s()(),g(4,"mat-menu",null,2),s()),n&2){let e=D(5);o(),h("matMenuTriggerFor",e)}}function oM(n,l){n&1&&(r(0,"mat-header-cell",58),d(1,". "),s())}function aM(n,l){n&1&&(r(0,"mat-cell")(1,"mat-icon",64),d(2,"reorder"),s()())}function rM(n,l){n&1&&g(0,"mat-header-row")}function sM(n,l){n&1&&g(0,"div",67)}function lM(n,l){if(n&1){let e=A();r(0,"mat-row",65),I("click",function(t){let a=u(e).$implicit,p=m();return f(p.onActionTableRowSelect(a,t))})("rtclick",function(t){let a=u(e).$implicit,p=m();return f(p.onActionTableRowSelect(a,t))}),L(1,sM,1,0,"div",66),s()}if(n&2){let e=l.$implicit,i=m();B("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)),h("cdkDragData",e)}}var ua=class ua extends Qe{constructor(e,i,t,a,p,c,E,F,Ne,tt,Pe,It){super(e,new oi,Pe,c,Ne);this.contentService=e;this.cmsToastrService=i;this.activatedRoute=t;this.cmsConfirmationDialogService=a;this.router=p;this.tokenHelper=c;this.cdr=E;this.cmsStoreService=F;this.translate=Ne;this.pageInfo=tt;this.publicHelper=Pe;this.dialog=It;this.requestLinkApiPathId="";this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new Y;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["id","recordStatus","NumberChar","accessUseStartDate","expireDate","lastUseOfDate","isPublic","SaleStatus","createdDate","updatedDate","position"];this.tabledisplayedColumnsMobileSource=["id","recordStatus","NumberChar","accessUseStartDate","isPublic","lastUseOfDate","SaleStatus","createdDate","updatedDate","position"];this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:z=>this.onSubmitOptionsSearch(z)},this.filteModelContent.sortColumn="priority",this.filteModelContent.sortType=Q.Ascending}ngOnInit(){if(this.activatedRoute.snapshot.paramMap.get("LinkApiPathId")&&(this.requestLinkApiPathId=this.activatedRoute.snapshot.paramMap.get("LinkApiPathId")),this.requestLinkApiPathId?.length>0){let e=new V;e.propertyName="ApiPathAndApiNumbers",e.propertyAnyName="LinkApiPathId",e.value=this.requestLinkApiPathId,this.filteModelContent.filters.push(e)}this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>ae(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new oi);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));if(this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.categoryModelSelected&&this.categoryModelSelected.id?.length>0){let t=new V;t.propertyName="ApiPathAndApiNumbers",t.propertyAnyName="LinkApiPathId",t.value=this.categoryModelSelected.id,i.filters.push(t)}this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=Q.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=Q.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=Q.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onTableDropRow(e){let i=this.tableSource.data.findIndex(a=>a===e.item.data),t=new Un;t.id=this.tableSource.data[i].id,t.centerId=this.tableSource.data[e.currentIndex].id,i>e.currentIndex?t.actionGo=nn.GoUp:t.actionGo=nn.GoDown,this.contentService.ServiceEditStep(t).subscribe({next:a=>{a.isSuccess?(qn(this.tableSource.data,i,e.currentIndex),this.tableSource.data=this.tableSource.data.slice()):this.cmsToastrService.typeErrorMessage(a.errorMessage)},error:a=>{this.cmsToastrService.typeError(a)}})}onActionSelectorSelect(e){var i=this.filteModelContent.sortColumn,t=this.filteModelContent.sortType;this.filteModelContent=new Y,this.filteModelContent.sortColumn=i,this.filteModelContent.sortType=t,this.filteModelContent.sortColumn="priority",this.categoryModelSelected=e,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}let e=this.requestLinkApiPathId;this.categoryModelSelected&&this.categoryModelSelected.id&&this.categoryModelSelected.id.length>0&&(e=this.categoryModelSelected.id);var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(uo,{height:"90%",width:"60%",panelClass:i,enterAnimationDuration:j.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:j.cmsViewConfig.exitAnimationDuration,data:{linkApiPathId:e}}).afterClosed().subscribe(a=>{a&&a.dialogChangedDate&&(this.onActionButtonEditRow(a.model),this.DataGetAll())})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length==0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.tableRowSelected=e,this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(So,{height:"90%",panelClass:i,enterAnimationDuration:j.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:j.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(a=>{a&&a.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length==0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(a=>{this.cmsToastrService.typeErrorSelected(a)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(a=>{i=a["MESSAGE.Please_Confirm"],t=a["MESSAGE.Do_you_want_to_delete_this_content"]+"?"}),this.cmsConfirmationDialogService.confirm(i,t).then(a=>{if(a){let p=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(p,c,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(p)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(p,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{i.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{i.set(c,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(E=>{i.set(E,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}});let a=JSON.parse(JSON.stringify(this.filteModelContent)),p=new V;p.propertyName="recordStatus",p.value=ke.Available,a.filters.push(p),this.contentService.ServiceGetCount(a).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(E=>{i.set(E,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonPermissionList(e=this.tableRowSelected,i){if(!e||!e.id||e.id.length==0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null){this.cmsToastrService.typeErrorSelected();return}if(i?.ctrlKey){let t="/#/sms/main/api-number-permission/LinkApiNumberId/"+this.tableRowSelected.id;window.open(t,"_blank")}else this.router.navigate(["/sms/main/api-number-permission/LinkApiNumberId/",this.tableRowSelected.id])}onActionButtonInboxList(e=this.tableRowSelected,i){if(!e||!e.id||e.id.length==0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorSelected();return}if(i?.ctrlKey){let t="/#/sms/log/inbox/list/ReceiverNumber/"+this.tableRowSelected.numberChar;window.open(t,"_blank")}else this.router.navigate(["/sms/log/inbox/list/ReceiverNumber",this.tableRowSelected.numberChar])}onActionButtonOutboxList(e=this.tableRowSelected,i){if(!e||!e.id||e.id.length==0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorSelected();return}if(i?.ctrlKey){let t="/#/sms/log/outbox/list/SenderNumber/"+this.tableRowSelected.numberChar;window.open(t,"_blank")}else this.router.navigate(["/sms/log/outbox/list/SenderNumber",this.tableRowSelected.numberChar])}onActionButtonSendMessage(e=this.tableRowSelected,i){if(!e||!e.id||e.id.length==0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorSelected();return}if(i?.ctrlKey){let t="/#/sms/action/send-message/LinkApiNumberId/"+this.tableRowSelected.id;window.open(t,"_blank")}else this.router.navigate(["/sms/action/send-message/LinkApiNumberId",this.tableRowSelected.id])}onActionButtonReload(){this.filteModelContent.sortColumn="priority",this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/sms/main/api-path"])}};ua.\u0275fac=function(i){return new(i||ua)(_(_i),_(W),_(Xe),_(Oe),_(He),_(Ce),_(G),_(Ae),_(O),_(je),_(U),_(Se))},ua.\u0275cmp=N({type:ua,selectors:[["app-sms-api-number-list"]],standalone:!1,features:[X],decls:100,vars:44,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],[3,"optionChange"],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-receipt","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-paper-plane-top","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","","cdkDropList","",3,"matSortChange","cdkDropListDropped","dataSource","cdkDropListData"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","recordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","NumberChar"],["class","input-ltr",4,"matCellDef"],["matColumnDef","isPublic"],["matColumnDef","SaleStatus"],["matColumnDef","accessUseStartDate"],["matColumnDef","expireDate"],["matColumnDef","lastUseOfDate"],["dir","ltr",4,"matCellDef"],["matColumnDef","createdDate"],["matColumnDef","updatedDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],["matColumnDef","position"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild","cdkDrag","",3,"ntk-row-selected","cdkDragData","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],[1,"input-ltr"],["dir","ltr"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],["cdkDragHandle","",2,"pointer-events","all"],["cdkDrag","",1,"ntk-row-mainfild",3,"click","rtclick","cdkDragData"],["class","ntk-row-placeholder",4,"cdkDragPlaceholder"],[1,"ntk-row-placeholder"]],template:function(i,t){if(i&1){let a=A();r(0,"app-cms-html-list",3),P("optionActionGuideNoticeDisplayChange",function(c){return u(a),T(t.viewGuideNotice,c)||(t.viewGuideNotice=c),f(c)}),I("optionOnActionButtonMemoRow",function(){return u(a),f(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return u(a),f(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return u(a),f(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return u(a),f(t.onActionButtonPrintRow())}),R(1,4),r(2,"app-sms-apipath-tree",5),I("optionChange",function(c){return u(a),f(t.onActionSelectorSelect(c))}),s(),x(),ze(3,6)(4,7),R(5,8),b(6,Dg,2,0,"a",9),r(7,"a",10),I("click",function(){return u(a),f(t.viewGuideNotice=!t.viewGuideNotice)}),g(8,"i",11),s(),r(9,"a",10),I("click",function(){return u(a),f(t.onActionButtonReload())}),g(10,"i",12),s(),x(),R(11,13),r(12,"a",14),I("click",function(){return u(a),f(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),g(13,"mat-slide-toggle",15),d(14),S(15,"translate"),s(),r(16,"a",14),I("click",function(){return u(a),f(t.onActionButtonStatist())}),g(17,"mat-slide-toggle",15),d(18),S(19,"translate"),s(),x(),R(20,16),b(21,kg,6,3,"div",17),x(),R(22,18),b(23,Lg,7,3,"div",17),b(24,Vg,7,3,"div",17),r(25,"div",17)(26,"a",19),I("click",function(c){return u(a),f(t.onActionButtonSendMessage(t.tableRowSelected,c))}),g(27,"i",20)(28,"br"),s(),r(29,"p",21),d(30),S(31,"translate"),s()(),r(32,"div",17)(33,"a",19),I("click",function(c){return u(a),f(t.onActionButtonInboxList(t.tableRowSelected,c))}),g(34,"i",20)(35,"br"),s(),r(36,"p",21),d(37),S(38,"translate"),s()(),r(39,"div",17)(40,"a",19),I("click",function(c){return u(a),f(t.onActionButtonOutboxList(t.tableRowSelected,c))}),g(41,"i",22)(42,"br"),s(),r(43,"p",21),d(44),S(45,"translate"),s()(),r(46,"div",17)(47,"a",19),I("click",function(c){return u(a),f(t.onActionButtonPermissionList(t.tableRowSelected,c))}),g(48,"i",20)(49,"br"),s(),r(50,"p",21),d(51),S(52,"translate"),s()(),x(),R(53,23),r(54,"app-cms-search-list",24),P("optionsChange",function(c){return u(a),T(t.optionsSearch,c)||(t.optionsSearch=c),f(c)}),s(),r(55,"app-cms-statist-list",24),P("optionsChange",function(c){return u(a),T(t.optionsStatist,c)||(t.optionsStatist=c),f(c)}),s(),x(),R(56,25),r(57,"mat-table",26,0),I("matSortChange",function(){u(a);let c=D(58);return f(t.onTableSortData(c))})("cdkDropListDropped",function(c){return u(a),f(t.onTableDropRow(c))}),R(59,27),L(60,Ng,2,1,"mat-header-cell",28)(61,Bg,2,1,"mat-cell",29),x(),R(62,30),L(63,Fg,2,1,"mat-header-cell",28)(64,Og,4,6,"mat-cell",31),x(),R(65,32),L(66,Gg,2,1,"mat-header-cell",28)(67,Hg,2,1,"mat-cell",33),x(),R(68,34),L(69,Wg,2,1,"mat-header-cell",28)(70,Ug,3,3,"mat-cell",29),x(),R(71,35),L(72,qg,2,1,"mat-header-cell",28)(73,jg,3,3,"mat-cell",29),x(),R(74,36),L(75,Qg,2,1,"mat-header-cell",28)(76,zg,3,3,"mat-cell",29),x(),R(77,37),L(78,Kg,2,1,"mat-header-cell",28)(79,Xg,3,3,"mat-cell",29),x(),R(80,38),L(81,Yg,2,1,"mat-header-cell",28)(82,Jg,4,6,"mat-cell",39),x(),R(83,40),L(84,Zg,2,1,"mat-header-cell",28)(85,$g,3,3,"mat-cell",29),x(),R(86,41),L(87,eM,2,1,"mat-header-cell",28)(88,tM,3,3,"mat-cell",29),x(),R(89,42),L(90,iM,3,3,"mat-header-cell",43)(91,nM,6,1,"mat-cell",44),x(),R(92,45),L(93,oM,2,0,"mat-header-cell",28)(94,aM,3,0,"mat-cell",29),x(),L(95,rM,1,0,"mat-header-row",46)(96,lM,2,3,"mat-row",47),s(),x(),R(97,48),r(98,"mat-paginator",49,1),I("page",function(c){return u(a),f(t.onTablePageingData(c))}),s(),x(),s()}i&2&&(h("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),w("optionActionGuideNoticeDisplay",t.viewGuideNotice),h("optionTreeDisplay",!t.requestLinkApiPathId||t.requestLinkApiPathId.length===0)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.numberChar),o(6),v((t.requestLinkApiPathId==null?null:t.requestLinkApiPathId.length)>0?6:-1),o(4),B("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(3),h("checked",t.optionsSearch.data.show),o(),M("",C(15,31,"ACTION.SEARCH")," "),o(3),h("checked",t.optionsStatist.data.show),o(),M("",C(19,33,"ACTION.STATIST")," "),o(3),v(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessAddRow?21:-1),o(2),v(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?23:-1),o(),v(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?24:-1),o(6),M(" ",C(31,35,"ACTION.SEND_MESSAGE")," "),o(7),M(" ",C(38,37,"ACTION.RECEIPTS")," "),o(7),M(" ",C(45,39,"ACTION.SUBMISSIONS")," "),o(7),M(" ",C(52,41,"ACTION.Permission")," "),o(3),w("options",t.optionsSearch),o(),w("options",t.optionsStatist),o(2),h("dataSource",t.tableSource)("cdkDropListData",t.tableSource),o(38),h("matHeaderRowDef",t.tabledisplayedColumns),o(),h("matRowDefColumns",t.tabledisplayedColumns),o(2),h("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",xe(43,xg)))},dependencies:[Ge,$r,ct,Ze,Wt,Ut,Ie,at,$e,At,Et,wt,xt,Tt,yt,Dt,Pt,Rt,kt,Lt,We,Ue,Vt,rt,Sn,Ja,Ya,Xa,Za,H,st,Mr,qe,ii],encapsulation:2});var Fa=ua;var cM=()=>[5,10,20,100];function dM(n,l){if(n&1){let e=A();r(0,"div",15)(1,"a",38),I("click",function(){u(e);let t=m();return f(t.onActionButtonNewRow())}),g(2,"i",39)(3,"br"),s(),r(4,"p",19),d(5),S(6,"translate"),s()()}n&2&&(o(5),M(" ",C(6,1,"ACTION.ADD")," "))}function mM(n,l){if(n&1){let e=A();r(0,"div",15)(1,"a",40),I("click",function(){u(e);let t=m();return f(t.onActionButtonEditRow(t.tableRowSelected))}),g(2,"i",41)(3,"br"),s(),r(4,"p",19),d(5),S(6,"translate"),s()()}n&2&&(o(5),M(" ",C(6,1,"ACTION.EDIT")," "))}function pM(n,l){if(n&1){let e=A();r(0,"div",15)(1,"a",42),I("click",function(){u(e);let t=m();return f(t.onActionButtonDeleteRow(t.tableRowSelected))}),g(2,"i",43)(3,"br"),s(),r(4,"p",19),d(5),S(6,"translate"),s()()}n&2&&(o(5),M(" ",C(6,1,"ACTION.DELETE")," "))}function uM(n,l){n&1&&(r(0,"mat-header-cell",44),d(1),S(2,"translate"),s()),n&2&&(o(),M(" ",C(2,1,"TITLE.PICTURE")," "))}function fM(n,l){if(n&1&&g(0,"img",45),n&2){let e=m().$implicit;h("src",k(e.linkMainImageIdSrc),we)}}function hM(n,l){if(n&1&&(r(0,"mat-cell"),b(1,fM,1,2,"img",45),s()),n&2){let e=l.$implicit;o(),v((e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0?1:-1)}}function SM(n,l){if(n&1&&(r(0,"mat-header-cell",44),d(1),s()),n&2){let e=m();o(),M(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function CM(n,l){if(n&1&&(r(0,"mat-cell"),d(1),s()),n&2){let e=l.$implicit;o(),M(" ",e.id," ")}}function gM(n,l){if(n&1&&(r(0,"mat-header-cell",44),d(1),s()),n&2){let e=m();o(),M(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function MM(n,l){if(n&1&&(r(0,"mat-cell",46),S(1,"statusCellClass"),g(2,"i",46),S(3,"statusIconClass"),s()),n&2){let e=l.$implicit;h("ngClass",C(1,2,e.recordStatus)),o(2),h("ngClass",C(3,4,e.recordStatus))}}function _M(n,l){if(n&1&&(r(0,"mat-header-cell",44),d(1),s()),n&2){let e=m();o(),M(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," ")}}function bM(n,l){if(n&1&&(r(0,"mat-cell"),d(1),s()),n&2){let e=l.$implicit;o(),M(" ",e.title," ")}}function vM(n,l){n&1&&(r(0,"mat-header-cell"),d(1),S(2,"translate"),s()),n&2&&(o(),M(" ",C(2,1,"TITLE.OPTION")," "))}function IM(n,l){if(n&1&&(r(0,"mat-cell",47)(1,"button",48)(2,"mat-icon"),d(3,"more_vert"),s()(),g(4,"mat-menu",null,2),s()),n&2){let e=D(5);o(),h("matMenuTriggerFor",e)}}function AM(n,l){n&1&&g(0,"mat-header-row")}function EM(n,l){if(n&1){let e=A();r(0,"mat-row",49),I("click",function(t){let a=u(e).$implicit,p=m();return f(p.onActionTableRowSelect(a,t))})("rtclick",function(t){let a=u(e).$implicit,p=m();return f(p.onActionTableRowSelect(a,t))}),s()}if(n&2){let e=l.$implicit,i=m();B("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var fa=class fa extends Qe{constructor(e,i,t,a,p,c,E,F,Ne,tt,Pe){super(e,new jt,tt,p,E);this.contentService=e;this.cmsToastrService=i;this.cmsConfirmationDialogService=t;this.router=a;this.tokenHelper=p;this.cdr=c;this.translate=E;this.cmsStoreService=F;this.pageInfo=Ne;this.publicHelper=tt;this.dialog=Pe;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new Y;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["linkMainImageIdSrc","recordStatus","title"];this.tabledisplayedColumnsMobileSource=["linkMainImageIdSrc","recordStatus","title"];this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:It=>this.onSubmitOptionsSearch(It)},this.filteModelContent.sortColumn="id",this.filteModelContent.sortType=Q.Descending}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>ae(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new jt);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{t.isSuccess&&(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=Q.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=Q.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=Q.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(Mo,{height:"90%",panelClass:e,enterAnimationDuration:j.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:j.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length==0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(bo,{height:"90%",panelClass:i,enterAnimationDuration:j.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:j.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(a=>{a&&a.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length==0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(a=>{this.cmsToastrService.typeErrorSelected(a)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(a=>{i=a["MESSAGE.Please_Confirm"],t=a["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(a=>{if(a){let p=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(p,c,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(p)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(p,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{i.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{i.set(c,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(E=>{i.set(E,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}});let a=JSON.parse(JSON.stringify(this.filteModelContent)),p=new V;p.propertyName="recordStatus",p.value=ke.Available,a.filters.push(p),this.contentService.ServiceGetCount(a).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(E=>{i.set(E,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonApiList(e=this.tableRowSelected,i){if(!e||!e.id||e.id.length==0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null){this.cmsToastrService.typeErrorSelected();return}if(i?.ctrlKey){let t="/#/sms/main/api-path/list/LinkCompanyId/"+this.tableRowSelected.id;window.open(t,"_blank")}else this.router.navigate(["/sms/main/api-path/list/LinkCompanyId",this.tableRowSelected.id])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}};fa.\u0275fac=function(i){return new(i||fa)(_($t),_(W),_(Oe),_(He),_(Ce),_(G),_(O),_(Ae),_(je),_(U),_(Se))},fa.\u0275cmp=N({type:fa,selectors:[["app-sms-apipathcompany-list"]],standalone:!1,features:[X],decls:57,vars:33,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-route","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","linkMainImageIdSrc"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","id"],["matColumnDef","recordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","title"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"ngClass"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(i,t){if(i&1){let a=A();r(0,"app-cms-html-list",3),P("optionActionGuideNoticeDisplayChange",function(c){return u(a),T(t.viewGuideNotice,c)||(t.viewGuideNotice=c),f(c)}),I("optionOnActionButtonMemoRow",function(){return u(a),f(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return u(a),f(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return u(a),f(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return u(a),f(t.onActionButtonPrintRow())}),R(1,4),d(2," -------------------------------------- "),x(),ze(3,5)(4,6),R(5,7),r(6,"a",8),I("click",function(){return u(a),f(t.viewGuideNotice=!t.viewGuideNotice)}),g(7,"i",9),s(),r(8,"a",8),I("click",function(){return u(a),f(t.onActionButtonReload())}),g(9,"i",10),s(),x(),R(10,11),r(11,"a",12),I("click",function(){return u(a),f(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),g(12,"mat-slide-toggle",13),d(13),S(14,"translate"),s(),r(15,"a",12),I("click",function(){return u(a),f(t.onActionButtonStatist())}),g(16,"mat-slide-toggle",13),d(17),S(18,"translate"),s(),x(),R(19,14),b(20,dM,7,3,"div",15),x(),R(21,16),b(22,mM,7,3,"div",15),b(23,pM,7,3,"div",15),r(24,"div",15)(25,"a",17),I("click",function(c){return u(a),f(t.onActionButtonApiList(t.tableRowSelected,c))}),g(26,"i",18)(27,"br"),s(),r(28,"p",19),d(29),S(30,"translate"),s()(),x(),R(31,20),r(32,"app-cms-search-list",21),P("optionsChange",function(c){return u(a),T(t.optionsSearch,c)||(t.optionsSearch=c),f(c)}),s(),r(33,"app-cms-statist-list",21),P("optionsChange",function(c){return u(a),T(t.optionsStatist,c)||(t.optionsStatist=c),f(c)}),s(),x(),R(34,22),r(35,"mat-table",23,0),I("matSortChange",function(){u(a);let c=D(36);return f(t.onTableSortData(c))}),R(37,24),L(38,uM,3,3,"mat-header-cell",25)(39,hM,2,1,"mat-cell",26),x(),R(40,27),L(41,SM,2,1,"mat-header-cell",25)(42,CM,2,1,"mat-cell",26),x(),R(43,28),L(44,gM,2,1,"mat-header-cell",25)(45,MM,4,6,"mat-cell",29),x(),R(46,30),L(47,_M,2,1,"mat-header-cell",25)(48,bM,2,1,"mat-cell",26),x(),R(49,31),L(50,vM,3,3,"mat-header-cell",32)(51,IM,6,1,"mat-cell",33),x(),L(52,AM,1,0,"mat-header-row",34)(53,EM,1,2,"mat-row",35),s(),x(),R(54,36),r(55,"mat-paginator",37,1),I("page",function(c){return u(a),f(t.onTablePageingData(c))}),s(),x(),s()}i&2&&(h("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),w("optionActionGuideNoticeDisplay",t.viewGuideNotice),h("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",(t.tableRowSelected==null||t.tableRowSelected.title==null?null:t.tableRowSelected.title.length)>0?t.tableRowSelected==null?null:t.tableRowSelected.title:t.tableRowSelected==null?null:t.tableRowSelected.id),o(9),B("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(3),h("checked",t.optionsSearch.data.show),o(),M("",C(14,26,"ACTION.SEARCH")," "),o(3),h("checked",t.optionsStatist.data.show),o(),M("",C(18,28,"ACTION.STATIST")," "),o(3),v(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessAddRow?20:-1),o(2),v(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?22:-1),o(),v(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?23:-1),o(6),M(" ",C(30,30,"ACTION.ROUTES")," "),o(3),w("options",t.optionsSearch),o(),w("options",t.optionsStatist),o(2),h("dataSource",t.tableSource),o(17),h("matHeaderRowDef",t.tabledisplayedColumns),o(),h("matRowDefColumns",t.tabledisplayedColumns),o(2),h("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",xe(32,cM)))},dependencies:[Ge,ct,Ze,Wt,Ut,Ie,at,$e,At,Et,wt,xt,Tt,yt,Dt,Pt,Rt,kt,Lt,We,Ue,Vt,rt,H,qe,ii],encapsulation:2});var _r=fa;var yM=()=>["expandedDetail"],wM=()=>[5,10,20,100],TM=n=>({display:n});function PM(n,l){if(n&1&&g(0,"app-sms-apipath-header",3),n&2){let e=m();h("optionId",e.requestLinkApiPathId)}}function RM(n,l){if(n&1){let e=A();r(0,"a",49),I("click",function(){u(e);let t=m();return f(t.onActionBackToParent())}),g(1,"i",50),s()}}function xM(n,l){if(n&1){let e=A();r(0,"div",21)(1,"a",51),I("click",function(){u(e);let t=m();return f(t.onActionButtonNewRow())}),g(2,"i",52)(3,"br"),s(),r(4,"p",53),d(5),S(6,"translate"),s()()}n&2&&(o(5),M(" ",C(6,1,"ACTION.ADD")," "))}function DM(n,l){if(n&1){let e=A();r(0,"div",21)(1,"a",54),I("click",function(){u(e);let t=m();return f(t.onActionButtonEditRow(t.tableRowSelected))}),g(2,"i",55)(3,"br"),s(),r(4,"p",53),d(5),S(6,"translate"),s()()}n&2&&(o(5),M(" ",C(6,1,"ACTION.EDIT")," "))}function kM(n,l){if(n&1){let e=A();r(0,"div",21)(1,"a",56),I("click",function(){u(e);let t=m();return f(t.onActionButtonDeleteRow(t.tableRowSelected))}),g(2,"i",57)(3,"br"),s(),r(4,"p",53),d(5),S(6,"translate"),s()()}n&2&&(o(5),M(" ",C(6,1,"ACTION.DELETE")," "))}function LM(n,l){if(n&1){let e=A();r(0,"div",21)(1,"a",58),I("click",function(){u(e);let t=m();return f(t.onActionButtonCopyRow(t.tableRowSelected))}),g(2,"i",59)(3,"br"),s(),r(4,"p",53),d(5),S(6,"translate"),s()()}n&2&&(o(5),M(" ",C(6,1,"ACTION.COPY")," "))}function VM(n,l){if(n&1){let e=A();r(0,"div",21)(1,"a",58),I("click",function(t){u(e);let a=m();return f(a.onActionButtonPermissionRow(a.tableRowSelected,t))}),g(2,"i",60)(3,"br"),s(),r(4,"p",53),d(5),S(6,"translate"),s()()}n&2&&(o(5),M(" ",C(6,1,"ACTION.PERMISSION")," "))}function NM(n,l){if(n&1&&(r(0,"mat-header-cell",61),d(1),s()),n&2){let e=m();o(),M(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function BM(n,l){if(n&1&&(r(0,"mat-cell"),d(1),s()),n&2){let e=l.$implicit;o(),M(" ",e.id," ")}}function FM(n,l){if(n&1&&(r(0,"mat-header-cell",61),d(1),s()),n&2){let e=m();o(),M(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function OM(n,l){if(n&1&&(r(0,"mat-cell",62),S(1,"statusCellClass"),g(2,"i",62),S(3,"statusIconClass"),s()),n&2){let e=l.$implicit;h("ngClass",C(1,2,e.recordStatus)),o(2),h("ngClass",C(3,4,e.recordStatus))}}function GM(n,l){if(n&1&&(r(0,"mat-header-cell",61),d(1),s()),n&2){let e=m();o(),M(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," ")}}function HM(n,l){if(n&1&&(r(0,"mat-cell"),d(1),s()),n&2){let e=l.$implicit;o(),M(" ",e.title," ")}}function WM(n,l){if(n&1&&(r(0,"mat-header-cell",61),d(1),s()),n&2){let e=m();o(),M(" ",e.fieldsInfo.linkApiPathId==null?null:e.fieldsInfo.linkApiPathId.fieldTitle," ")}}function UM(n,l){if(n&1&&(r(0,"mat-cell"),d(1),S(2,"cmstitle"),s()),n&2){let e=l.$implicit,i=m();o(),y(Nt(2,1,e.linkApiPathId,i.dataModelApiPathResult.listItems))}}function qM(n,l){if(n&1&&(r(0,"mat-header-cell",61),d(1),s()),n&2){let e=m();o(),M(" ",e.fieldsInfo.regulatorNumber==null?null:e.fieldsInfo.regulatorNumber.fieldTitle," ")}}function jM(n,l){if(n&1&&(r(0,"mat-cell"),d(1),s()),n&2){let e=l.$implicit;o(),M(" ",e.regulatorNumber," ")}}function QM(n,l){n&1&&(r(0,"mat-header-cell",61),d(1),S(2,"translate"),s()),n&2&&(o(),M(" ",C(2,1,"TITLE.ServiceMaxPage")," "))}function zM(n,l){if(n&1&&(r(0,"mat-cell"),d(1),s()),n&2){let e=l.$implicit;o(),M(" ",e.serviceMessageLengthPaginationList==null?null:e.serviceMessageLengthPaginationList.length," ")}}function KM(n,l){n&1&&(r(0,"mat-header-cell",61),d(1),S(2,"translate"),s()),n&2&&(o(),M(" ",C(2,1,"TITLE.endUserMaxPage")," "))}function XM(n,l){if(n&1&&(r(0,"mat-cell"),d(1),s()),n&2){let e=l.$implicit;o(),M(" ",e.endUserMessageLengthPaginationList==null?null:e.endUserMessageLengthPaginationList.length," ")}}function YM(n,l){if(n&1&&(r(0,"mat-header-cell",61),d(1),s()),n&2){let e=m();o(),M(" ",e.fieldsInfo.servicePricePerPage==null?null:e.fieldsInfo.servicePricePerPage.fieldTitle," ")}}function JM(n,l){if(n&1&&(r(0,"mat-cell"),d(1),s()),n&2){let e=l.$implicit;o(),M(" ",e.servicePricePerPage," ")}}function ZM(n,l){if(n&1&&(r(0,"mat-header-cell",61),d(1),s()),n&2){let e=m();o(),M(" ",e.fieldsInfo.endUserPricePerPage==null?null:e.fieldsInfo.endUserPricePerPage.fieldTitle," ")}}function $M(n,l){if(n&1&&(r(0,"mat-cell"),d(1),s()),n&2){let e=l.$implicit;o(),M(" ",e.endUserPricePerPage," ")}}function e_(n,l){if(n&1&&(r(0,"mat-header-cell",61),d(1),s()),n&2){let e=m();o(),M(" ",e.fieldsInfo.messageType==null?null:e.fieldsInfo.messageType.fieldTitle," ")}}function t_(n,l){if(n&1&&(r(0,"mat-cell"),d(1),S(2,"enums"),s()),n&2){let e=l.$implicit,i=m();o(),M(" ",Nt(2,1,e.messageType,i.dataModelSmsMessageTypeEnumResult.listItems)," ")}}function i_(n,l){n&1&&(r(0,"mat-header-cell"),d(1),S(2,"translate"),s()),n&2&&(o(),M(" ",C(2,1,"TITLE.OPTION")," "))}function n_(n,l){if(n&1&&(r(0,"mat-cell",63)(1,"button",64)(2,"mat-icon"),d(3,"more_vert"),s()(),g(4,"mat-menu",null,2),s()),n&2){let e=D(5);o(),h("matMenuTriggerFor",e)}}function o_(n,l){n&1&&g(0,"mat-header-row")}function a_(n,l){if(n&1){let e=A();r(0,"mat-row",65),I("click",function(t){let a=u(e).$implicit,p=m();return f(p.onActionTableRowSelect(a,t))})("rtclick",function(t){let a=u(e).$implicit,p=m();return f(p.onActionTableRowSelect(a,t))}),s()}if(n&2){let e=l.$implicit,i=m();B("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}function r_(n,l){if(n&1){let e=A();r(0,"mat-row",66),I("click",function(t){let a=u(e).$implicit,p=m();return f(p.onActionTableRowSelect(a,t))})("rtclick",function(t){let a=u(e).$implicit,p=m();return f(p.onActionTableRowSelect(a,t))})("mouseenter",function(){let t=u(e).$implicit,a=m();return f(a.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=u(e).$implicit,a=m();return f(a.onActionTableRowMouseLeave(t))}),s()}if(n&2){let e=l.$implicit,i=m();B("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)),h("ngStyle",Wi(3,TM,e.expanded===!0?"":"none"))}}function s_(n,l){if(n&1&&(r(0,"mat-cell")(1,"div")(2,"table")(3,"tr"),g(4,"th")(5,"th",67),s(),r(6,"tr")(7,"td"),d(8),s(),r(9,"td",67),d(10),s()(),r(11,"tr")(12,"td"),d(13),s(),r(14,"td",67),d(15),s()(),r(16,"tr")(17,"td"),d(18),s(),r(19,"td",67),d(20),s()(),r(21,"tr"),g(22,"td")(23,"td"),s()()()()),n&2){let e=l.$implicit,i=m();o(8),y(i.fieldsInfo.regulatorNumberJson==null?null:i.fieldsInfo.regulatorNumberJson.fieldTitle),o(2),y(e.regulatorNumberJson),o(3),M(" ",i.fieldsInfo.serviceMessageLengthPaginationJson==null?null:i.fieldsInfo.serviceMessageLengthPaginationJson.fieldTitle," "),o(2),M(" ",e.serviceMessageLengthPaginationJson," "),o(3),M(" ",i.fieldsInfo.endUserMessageLengthPaginationJson==null?null:i.fieldsInfo.endUserMessageLengthPaginationJson.fieldTitle," "),o(2),M(" ",e.endUserMessageLengthPaginationJson," ")}}var ha=class ha extends Qe{constructor(e,i,t,a,p,c,E,F,Ne,tt,Pe,It,z,Ha){super(e,new zt,z,c,F);this.contentService=e;this.cmsToastrService=i;this.activatedRoute=t;this.cmsConfirmationDialogService=a;this.router=p;this.tokenHelper=c;this.cdr=E;this.translate=F;this.smsMainApiPathService=Ne;this.cmsStoreService=tt;this.smsEnumService=Pe;this.pageInfo=It;this.publicHelper=z;this.dialog=Ha;this.requestLinkApiPathId="";this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new Y;this.filterDataModelQueryBuilder=[];this.dataModelSmsMessageTypeEnumResult=new q;this.dataModelSmsOutBoxTypeEnumResult=new q;this.dataModelApiPathResult=new q;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["recordStatus","title","LinkApiPathId","messageType","serviceMaxPage","endUserMaxPage","servicePricePerPage","endUserPricePerPage"];this.tabledisplayedColumnsMobileSource=["recordStatus","title","LinkApiPathId","messageType","servicePricePerPage","endUserPricePerPage"];this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:tn=>this.onSubmitOptionsSearch(tn)},this.filteModelContent.sortColumn="LinkApiPathId",this.filteModelContent.sortType=Q.Ascending}filterModelCompiler(e){let i=JSON.parse(JSON.stringify(e));return this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),i}ngOnInit(){if(this.filteModelContent.sortColumn="LinkApiPathId",this.activatedRoute.snapshot.paramMap.get("LinkApiPathId")&&(this.requestLinkApiPathId=this.activatedRoute.snapshot.paramMap.get("LinkApiPathId")),this.requestLinkApiPathId?.length>0){let e=new V;e.propertyName="LinkApiPathId",e.value=this.requestLinkApiPathId,this.filteModelContent.filters.push(e)}this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>ae(this,null,function*(){this.tokenInfo=e,this.DataGetAll()}))),this.getPrivateConfig(),this.getSmsMessageTypeEnum()}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}getPrivateConfig(){let e=new Y;e.rowPerPage=100,this.smsMainApiPathService.ServiceGetAll(e).subscribe({next:i=>{this.dataModelApiPathResult=i}})}getSmsMessageTypeEnum(){this.smsEnumService.ServiceSmsMessageTypeEnum().subscribe(e=>{this.dataModelSmsMessageTypeEnumResult=e})}getSmsOutBoxTypeEnum(){this.smsEnumService.ServiceSmsOutBoxTypeEnum().subscribe(e=>{this.dataModelSmsOutBoxTypeEnumResult=e})}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new zt);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=this.filterModelCompiler(this.filteModelContent);if(this.categoryModelSelected&&this.categoryModelSelected.id.length>0){let t=new V;t.propertyName="LinkApiPathId",t.value=this.categoryModelSelected.id,i.filters.push(t)}this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=Q.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=Q.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=Q.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionSelectorSelect(e){var i=this.filteModelContent.sortColumn,t=this.filteModelContent.sortType;this.filteModelContent=new Y,this.filteModelContent.sortColumn=i,this.filteModelContent.sortType=t,this.categoryModelSelected=e,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(Bn,{height:"90%",panelClass:e,enterAnimationDuration:j.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:j.cmsViewConfig.exitAnimationDuration,data:{linkApiPathId:this.categoryModelSelected?.id}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length==0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(xo,{height:"90%",panelClass:i,enterAnimationDuration:j.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:j.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(a=>{a&&a.dialogChangedDate&&this.DataGetAll()})}onActionButtonPermissionRow(e=this.tableRowSelected,i){if(!e||!e.id||e.id.length==0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),i?.ctrlKey){let t="/#/sms/main/api-path-price-permission/LinkApiPathPaginationId/"+this.tableRowSelected.id;window.open(t,"_blank")}else this.router.navigate(["/sms/main/api-path-price-permission/LinkApiPathPaginationId",this.tableRowSelected.id])}onActionButtonCopyRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length==0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Bn,{height:"90%",panelClass:i,enterAnimationDuration:j.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:j.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(a=>{a&&a.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length==0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(a=>{this.cmsToastrService.typeErrorSelected(a)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(a=>{i=a["MESSAGE.Please_Confirm"],t=a["MESSAGE.Do_you_want_to_delete_this_content"]+"?"}),this.cmsConfirmationDialogService.confirm(i,t).then(a=>{if(a){let p=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(p,c,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(p)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(p,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(E=>{i.set(E,0)}),this.translate.get("MESSAGE.All").subscribe(E=>{i.set(E,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(E=>{this.publicHelper.processService.processStart(t,E,this.constructorInfoAreaId)});let a=this.filterModelCompiler(this.filteModelContent);if(this.filteModelContent.filterActionSearchRecordStatus>0){let E=new V;E.propertyName="recordStatus",E.value=this.filteModelContent.filterActionSearchRecordStatus,a.filters.push(E)}if(this.filteModelContent.filterActionSearchLinkSiteId>0){let E=new V;E.propertyName="linkSiteId",E.value=this.filteModelContent.filterActionSearchLinkSiteId,a.filters.push(E)}if(this.filteModelContent.filterActionSearchLinkUserId>0){let E=new V;E.propertyName="linkUserId",E.value=this.filteModelContent.filterActionSearchLinkUserId,a.filters.push(E)}this.contentService.ServiceGetCount(a).subscribe({next:E=>{E.isSuccess?(this.translate.get("MESSAGE.All").subscribe(F=>{i.set(F,E.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(E.errorMessage),this.publicHelper.processService.processStop(t)},error:E=>{this.cmsToastrService.typeError(E),this.publicHelper.processService.processStop(t,!1)}});let p=this.filterModelCompiler(this.filteModelContent);if(this.filteModelContent.filterActionSearchRecordStatus>0){let E=new V;E.propertyName="recordStatus",E.value=this.filteModelContent.filterActionSearchRecordStatus,p.filters.push(E)}if(this.filteModelContent.filterActionSearchLinkSiteId>0){let E=new V;E.propertyName="linkSiteId",E.value=this.filteModelContent.filterActionSearchLinkSiteId,p.filters.push(E)}if(this.filteModelContent.filterActionSearchLinkUserId>0){let E=new V;E.propertyName="linkUserId",E.value=this.filteModelContent.filterActionSearchLinkUserId,p.filters.push(E)}let c=new V;c.propertyName="recordStatus",c.value=ke.Available,p.filters.push(c),this.contentService.ServiceGetCount(p).subscribe({next:E=>{E.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(F=>{i.set(F,E.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(E.errorMessage),this.publicHelper.processService.processStop(t)},error:E=>{this.cmsToastrService.typeError(E),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/sms/main/api-path"])}};ha.\u0275fac=function(i){return new(i||ha)(_(ri),_(W),_(Xe),_(Oe),_(He),_(Ce),_(G),_(O),_(St),_(Ae),_(Ye),_(je),_(U),_(Se))},ha.\u0275cmp=N({type:ha,selectors:[["app-sms-apipath-pagination-list"]],standalone:!1,features:[X],decls:79,vars:36,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionId"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],[3,"optionChange"],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-maximize","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-minimize","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","","multiTemplateDataRows","",3,"matSortChange","dataSource"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","recordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","title"],["matColumnDef","LinkApiPathId"],["matColumnDef","RegulatorNumber"],["matColumnDef","serviceMaxPage"],["matColumnDef","endUserMaxPage"],["matColumnDef","servicePricePerPage"],["matColumnDef","endUserPricePerPage"],["matColumnDef","messageType"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["class","ntk-row-expandedDetail",3,"ntk-row-selected","ngStyle","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["matColumnDef","expandedDetail"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-copy","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-key","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"],[1,"ntk-row-expandedDetail",3,"click","rtclick","mouseenter","mouseleave","ngStyle"],[1,"col-form-label"]],template:function(i,t){if(i&1){let a=A();b(0,PM,1,1,"app-sms-apipath-header",3),r(1,"app-cms-html-list",4),P("optionActionGuideNoticeDisplayChange",function(c){return u(a),T(t.viewGuideNotice,c)||(t.viewGuideNotice=c),f(c)}),I("optionOnActionButtonMemoRow",function(){return u(a),f(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return u(a),f(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return u(a),f(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return u(a),f(t.onActionButtonPrintRow())}),R(2,5),r(3,"app-sms-apipath-tree",6),I("optionChange",function(c){return u(a),f(t.onActionSelectorSelect(c))}),s(),x(),ze(4,7)(5,8),R(6,9),b(7,RM,2,0,"a",10),r(8,"a",11),I("click",function(){return u(a),f(t.viewGuideNotice=!t.viewGuideNotice)}),g(9,"i",12),s(),r(10,"a",11),I("click",function(){return u(a),f(t.onActionButtonReload())}),g(11,"i",13),s(),r(12,"a",14),I("click",function(){return u(a),f(t.onActionGridExpandRows(!0))}),g(13,"i",15),s(),r(14,"a",14),I("click",function(){return u(a),f(t.onActionGridExpandRows(!1))}),g(15,"i",16),s(),x(),R(16,17),r(17,"a",18),I("click",function(){return u(a),f(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),g(18,"mat-slide-toggle",19),d(19),S(20,"translate"),s(),r(21,"a",18),I("click",function(){return u(a),f(t.onActionButtonStatist())}),g(22,"mat-slide-toggle",19),d(23),S(24,"translate"),s(),x(),R(25,20),b(26,xM,7,3,"div",21),x(),R(27,22),b(28,DM,7,3,"div",21),b(29,kM,7,3,"div",21),b(30,LM,7,3,"div",21),b(31,VM,7,3,"div",21),x(),R(32,23),r(33,"app-cms-search-list",24),P("optionsChange",function(c){return u(a),T(t.optionsSearch,c)||(t.optionsSearch=c),f(c)}),s(),r(34,"app-cms-statist-list",24),P("optionsChange",function(c){return u(a),T(t.optionsStatist,c)||(t.optionsStatist=c),f(c)}),s(),x(),R(35,25),r(36,"mat-table",26,0),I("matSortChange",function(){u(a);let c=D(37);return f(t.onTableSortData(c))}),R(38,27),L(39,NM,2,1,"mat-header-cell",28)(40,BM,2,1,"mat-cell",29),x(),R(41,30),L(42,FM,2,1,"mat-header-cell",28)(43,OM,4,6,"mat-cell",31),x(),R(44,32),L(45,GM,2,1,"mat-header-cell",28)(46,HM,2,1,"mat-cell",29),x(),R(47,33),L(48,WM,2,1,"mat-header-cell",28)(49,UM,3,4,"mat-cell",29),x(),R(50,34),L(51,qM,2,1,"mat-header-cell",28)(52,jM,2,1,"mat-cell",29),x(),R(53,35),L(54,QM,3,3,"mat-header-cell",28)(55,zM,2,1,"mat-cell",29),x(),R(56,36),L(57,KM,3,3,"mat-header-cell",28)(58,XM,2,1,"mat-cell",29),x(),R(59,37),L(60,YM,2,1,"mat-header-cell",28)(61,JM,2,1,"mat-cell",29),x(),R(62,38),L(63,ZM,2,1,"mat-header-cell",28)(64,$M,2,1,"mat-cell",29),x(),R(65,39),L(66,e_,2,1,"mat-header-cell",28)(67,t_,3,4,"mat-cell",29),x(),R(68,40),L(69,i_,3,3,"mat-header-cell",41)(70,n_,6,1,"mat-cell",42),x(),L(71,o_,1,0,"mat-header-row",43)(72,a_,1,2,"mat-row",44)(73,r_,1,5,"mat-row",45),R(74,46),L(75,s_,24,6,"mat-cell",29),x(),s(),x(),R(76,47),r(77,"mat-paginator",48,1),I("page",function(c){return u(a),f(t.onTablePageingData(c))}),s(),x(),s()}i&2&&(v((t.requestLinkApiPathId==null?null:t.requestLinkApiPathId.length)>0?0:-1),o(),h("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),w("optionActionGuideNoticeDisplay",t.viewGuideNotice),h("optionTreeDisplay",!t.requestLinkApiPathId||t.requestLinkApiPathId.length===0)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.title),o(6),v((t.requestLinkApiPathId==null?null:t.requestLinkApiPathId.length)>0?7:-1),o(4),B("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(7),h("checked",t.optionsSearch.data.show),o(),M("",C(20,30,"ACTION.SEARCH")," "),o(3),h("checked",t.optionsStatist.data.show),o(),M("",C(24,32,"ACTION.STATIST")," "),o(3),v(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessAddRow?26:-1),o(2),v(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?28:-1),o(),v(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?29:-1),o(),v(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?30:-1),o(),v(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessWatchRow?31:-1),o(2),w("options",t.optionsSearch),o(),w("options",t.optionsStatist),o(2),h("dataSource",t.tableSource),o(35),h("matHeaderRowDef",t.tabledisplayedColumns),o(),h("matRowDefColumns",t.tabledisplayedColumns),o(),h("matRowDefColumns",xe(34,yM)),o(4),h("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",xe(35,wM)))},dependencies:[Ge,Ui,ct,Ze,Wt,Ut,Ie,at,$e,At,Et,wt,xt,Tt,yt,Dt,Pt,Rt,kt,Lt,We,Ue,Vt,rt,Sn,bn,H,As,Yi,qe,ii],encapsulation:2});var Oa=ha;var l_=()=>["expandedDetail"],c_=()=>[5,10,20,100],d_=n=>({display:n});function m_(n,l){if(n&1&&g(0,"app-sms-apipath-header",3),n&2){let e=m();h("optionId",e.requestLinkApiPathId)}}function p_(n,l){if(n&1){let e=A();r(0,"a",48),I("click",function(){u(e);let t=m();return f(t.onActionBackToParent())}),g(1,"i",49),s()}}function u_(n,l){if(n&1){let e=A();r(0,"div",18)(1,"a",50),I("click",function(){u(e);let t=m();return f(t.onActionButtonNewRow())}),g(2,"i",51)(3,"br"),s(),r(4,"p",52),d(5),S(6,"translate"),s()()}n&2&&(o(5),M(" ",C(6,1,"ACTION.ADD")," "))}function f_(n,l){if(n&1){let e=A();r(0,"div",18)(1,"a",53),I("click",function(){u(e);let t=m();return f(t.onActionButtonEditRow(t.tableRowSelected))}),g(2,"i",54)(3,"br"),s(),r(4,"p",52),d(5),S(6,"translate"),s()()}n&2&&(o(5),M(" ",C(6,1,"ACTION.EDIT")," "))}function h_(n,l){if(n&1){let e=A();r(0,"div",18)(1,"a",55),I("click",function(){u(e);let t=m();return f(t.onActionButtonDeleteRow(t.tableRowSelected))}),g(2,"i",56)(3,"br"),s(),r(4,"p",52),d(5),S(6,"translate"),s()()}n&2&&(o(5),M(" ",C(6,1,"ACTION.DELETE")," "))}function S_(n,l){if(n&1&&(r(0,"mat-header-cell",57),d(1),s()),n&2){let e=m();o(),M(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function C_(n,l){if(n&1&&(r(0,"mat-cell"),d(1),s()),n&2){let e=l.$implicit;o(),M(" ",e.id," ")}}function g_(n,l){if(n&1&&(r(0,"mat-header-cell",57),d(1),s()),n&2){let e=m();o(),M(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function M_(n,l){if(n&1&&(r(0,"mat-cell",58),S(1,"statusCellClass"),g(2,"i",58),S(3,"statusIconClass"),s()),n&2){let e=l.$implicit;h("ngClass",C(1,2,e.recordStatus)),o(2),h("ngClass",C(3,4,e.recordStatus))}}function __(n,l){if(n&1&&(r(0,"mat-header-cell",57),d(1),s()),n&2){let e=m();o(),M(" ",e.fieldsInfo.linkApiPathId==null?null:e.fieldsInfo.linkApiPathId.fieldTitle," ")}}function b_(n,l){if(n&1&&(r(0,"mat-cell"),d(1),s()),n&2){let e=l.$implicit;o(),M(" ",e.linkApiPathId," ")}}function v_(n,l){if(n&1&&(r(0,"mat-header-cell",57),d(1),s()),n&2){let e=m();o(),M(" ",e.fieldsInfo.linkCoreUserId==null?null:e.fieldsInfo.linkCoreUserId.fieldTitle," ")}}function I_(n,l){if(n&1&&(r(0,"mat-cell"),d(1),S(2,"cmsuserinfo"),S(3,"async"),s()),n&2){let e=l.$implicit;o(),M(" ",C(3,3,C(2,1,e.linkCoreUserId))," ")}}function A_(n,l){if(n&1&&(r(0,"mat-header-cell",57),d(1),s()),n&2){let e=m();o(),M(" ",e.fieldsInfo.linkCoreUserGroupId==null?null:e.fieldsInfo.linkCoreUserGroupId.fieldTitle," ")}}function E_(n,l){if(n&1&&(r(0,"mat-cell"),d(1),s()),n&2){let e=l.$implicit;o(),M(" ",e.linkCoreUserGroupId," ")}}function y_(n,l){if(n&1&&(r(0,"mat-header-cell",57),d(1),s()),n&2){let e=m();o(),M(" ",e.fieldsInfo.fromDate==null?null:e.fieldsInfo.fromDate.fieldTitle," ")}}function w_(n,l){if(n&1&&(r(0,"mat-cell"),d(1),S(2,"localeDate"),s()),n&2){let e=l.$implicit;o(),M(" ",C(2,1,e.fromDate)," ")}}function T_(n,l){if(n&1&&(r(0,"mat-header-cell",57),d(1),s()),n&2){let e=m();o(),M(" ",e.fieldsInfo.expireDate==null?null:e.fieldsInfo.expireDate.fieldTitle," ")}}function P_(n,l){if(n&1&&(r(0,"mat-cell"),d(1),S(2,"localeDate"),s()),n&2){let e=l.$implicit;o(),M(" ",C(2,1,e.expireDate)," ")}}function R_(n,l){if(n&1&&(r(0,"mat-header-cell",57),d(1),s()),n&2){let e=m();o(),M(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function x_(n,l){if(n&1&&(r(0,"mat-cell"),d(1),S(2,"localeDate"),s()),n&2){let e=l.$implicit;o(),M(" ",C(2,1,e.createdDate)," ")}}function D_(n,l){if(n&1&&(r(0,"mat-header-cell",57),d(1),s()),n&2){let e=m();o(),M(" ",e.fieldsInfo.updatedDate==null?null:e.fieldsInfo.updatedDate.fieldTitle," ")}}function k_(n,l){if(n&1&&(r(0,"mat-cell"),d(1),S(2,"localeDate"),s()),n&2){let e=l.$implicit;o(),M(" ",C(2,1,e.updatedDate)," ")}}function L_(n,l){if(n&1&&(r(0,"mat-header-cell",59),d(1),s()),n&2){let e=m();o(),M(" ",e.fieldsInfo.hasAccess==null?null:e.fieldsInfo.hasAccess.fieldTitle," ")}}function V_(n,l){if(n&1&&(r(0,"mat-cell"),g(1,"i",58),S(2,"boolclass"),s()),n&2){let e=l.$implicit;o(),h("ngClass",C(2,1,e.hasAccess))}}function N_(n,l){if(n&1&&(r(0,"mat-header-cell",59),d(1),s()),n&2){let e=m();o(),M(" ",e.fieldsInfo.hasInherits==null?null:e.fieldsInfo.hasInherits.fieldTitle," ")}}function B_(n,l){if(n&1&&(r(0,"mat-cell"),g(1,"i",58),S(2,"boolclass"),s()),n&2){let e=l.$implicit;o(),h("ngClass",C(2,1,e.hasInherits))}}function F_(n,l){n&1&&(r(0,"mat-header-cell"),d(1),S(2,"translate"),s()),n&2&&(o(),M(" ",C(2,1,"TITLE.OPTION")," "))}function O_(n,l){if(n&1&&(r(0,"mat-cell",60)(1,"button",61)(2,"mat-icon"),d(3,"more_vert"),s()(),g(4,"mat-menu",null,2),s()),n&2){let e=D(5);o(),h("matMenuTriggerFor",e)}}function G_(n,l){if(n&1&&(r(0,"tr"),g(1,"td"),r(2,"td"),d(3),S(4,"cmsuserinfo"),S(5,"async"),s()()),n&2){let e=m().$implicit,i=m();o(3),ue(" ",i.fieldsInfo.linkCoreUserId==null?null:i.fieldsInfo.linkCoreUserId.fieldTitle," : ",C(5,4,C(4,2,e.linkCoreUserId))," ")}}function H_(n,l){if(n&1&&(r(0,"tr"),g(1,"td"),r(2,"td"),d(3),S(4,"cmssiteinfo"),S(5,"async"),s()()),n&2){let e=m().$implicit,i=m();o(3),ue(" ",i.fieldsInfo.linkCoreSiteId==null?null:i.fieldsInfo.linkCoreSiteId.fieldTitle," : ",C(5,4,C(4,2,e.linkCoreSiteId))," ")}}function W_(n,l){if(n&1&&(r(0,"tr"),g(1,"td"),r(2,"td"),d(3),s()()),n&2){let e=m().$implicit,i=m();o(3),ue(" ",i.fieldsInfo.linkCoreUserGroupId==null?null:i.fieldsInfo.linkCoreUserGroupId.fieldTitle," : ",e.linkCoreUserGroupId," ")}}function U_(n,l){if(n&1&&(r(0,"tr"),g(1,"td"),r(2,"td"),d(3),s()()),n&2){let e=m().$implicit,i=m();o(3),ue(" ",i.fieldsInfo.linkCoreSiteCategoryId==null?null:i.fieldsInfo.linkCoreSiteCategoryId.fieldTitle," : ",e.linkCoreSiteCategoryId," ")}}function q_(n,l){if(n&1&&(r(0,"tr"),g(1,"td"),r(2,"td"),d(3),S(4,"localeDate"),s()()),n&2){let e=m().$implicit,i=m();o(3),ue(" ",i.fieldsInfo.fromDate==null?null:i.fieldsInfo.fromDate.fieldTitle," : ",C(4,2,e.fromDate)," ")}}function j_(n,l){if(n&1&&(r(0,"tr"),g(1,"td"),r(2,"td"),d(3),S(4,"localeDate"),s()()),n&2){let e=m().$implicit,i=m();o(3),ue(" ",i.fieldsInfo.expireDate==null?null:i.fieldsInfo.expireDate.fieldTitle," : ",C(4,2,e.expireDate)," ")}}function Q_(n,l){if(n&1&&(r(0,"tr"),g(1,"td"),r(2,"td"),d(3),S(4,"localeDate"),s()()),n&2){let e=m().$implicit,i=m();o(3),ue(" ",i.fieldsInfo.createdDate==null?null:i.fieldsInfo.createdDate.fieldTitle," : ",C(4,2,e.createdDate)," ")}}function z_(n,l){if(n&1&&(r(0,"tr"),g(1,"td"),r(2,"td"),d(3),S(4,"localeDate"),s()()),n&2){let e=m().$implicit,i=m();o(3),ue(" ",i.fieldsInfo.updatedDate==null?null:i.fieldsInfo.updatedDate.fieldTitle," : ",C(4,2,e.updatedDate)," ")}}function K_(n,l){if(n&1&&(r(0,"mat-cell")(1,"div")(2,"table"),b(3,G_,6,6,"tr"),b(4,H_,6,6,"tr"),b(5,W_,4,2,"tr"),b(6,U_,4,2,"tr"),b(7,q_,5,4,"tr"),b(8,j_,5,4,"tr"),b(9,Q_,5,4,"tr"),b(10,z_,5,4,"tr"),r(11,"tr"),g(12,"td")(13,"td"),s()()()()),n&2){let e=l.$implicit;o(3),v(e.linkCoreUserId?3:-1),o(),v(e.linkCoreSiteId?4:-1),o(),v(e.linkCoreUserGroupId?5:-1),o(),v(e.linkCoreSiteCategoryId?6:-1),o(),v(e.fromDate?7:-1),o(),v(e.expireDate?8:-1),o(),v(e.createdDate?9:-1),o(),v(e.updatedDate?10:-1)}}function X_(n,l){n&1&&g(0,"mat-header-row")}function Y_(n,l){if(n&1){let e=A();r(0,"mat-row",62),I("click",function(t){let a=u(e).$implicit,p=m();return f(p.onActionTableRowSelect(a,t))})("rtclick",function(t){let a=u(e).$implicit,p=m();return f(p.onActionTableRowSelect(a,t))}),s()}if(n&2){let e=l.$implicit,i=m();B("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}function J_(n,l){if(n&1){let e=A();r(0,"mat-row",63),I("click",function(t){let a=u(e).$implicit,p=m();return f(p.onActionTableRowSelect(a,t))})("rtclick",function(t){let a=u(e).$implicit,p=m();return f(p.onActionTableRowSelect(a,t))})("mouseenter",function(){let t=u(e).$implicit,a=m();return f(a.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=u(e).$implicit,a=m();return f(a.onActionTableRowMouseLeave(t))}),s()}if(n&2){let e=l.$implicit,i=m();B("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)),h("ngStyle",Wi(3,d_,e.expanded===!0?"":"none"))}}var Sa=class Sa extends Qe{constructor(e,i,t,a,p,c,E,F,Ne,tt,Pe,It){super(e,new Li,Pe,c,F);this.contentService=e;this.cmsToastrService=i;this.activatedRoute=t;this.cmsConfirmationDialogService=a;this.router=p;this.tokenHelper=c;this.cdr=E;this.translate=F;this.cmsStoreService=Ne;this.pageInfo=tt;this.publicHelper=Pe;this.dialog=It;this.tableData=[];this.requestLinkApiPathId="";this.requestLinkCoreUserId=0;this.requestLinkCoreSiteId=0;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new Y;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["recordStatus","linkApiPathId","linkCoreUserId","linkCoreUserGroupId","hasAccess","hasInherits","fromDate","expireDate"];this.tabledisplayedColumnsMobileSource=["recordStatus","linkApiPathId","linkCoreUserId","linkCoreUserGroupId","hasAccess","hasInherits","fromDate","expireDate"];this.unsubscribe=[];if(this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:z=>this.onSubmitOptionsSearch(z)},this.requestLinkCoreUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkCoreSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkApiPathId=this.activatedRoute.snapshot.paramMap.get("LinkApiPathId"),this.requestLinkCoreUserId>0){let z=new V;z.propertyName="LinkCoreUserId",z.value=this.requestLinkCoreUserId,this.filteModelContent.filters.push(z)}if(this.requestLinkApiPathId?.length>0){let z=new V;z.propertyName="LinkApiPathId",z.value=this.requestLinkApiPathId,this.filteModelContent.filters.push(z)}this.filteModelContent.sortColumn="id",this.filteModelContent.sortType=Q.Descending}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>ae(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Li);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));if(this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.categoryModelSelected&&this.categoryModelSelected.id.length>0){let t=new V;t.propertyName="LinkApiPathId",t.value=this.categoryModelSelected.id,i.filters.push(t)}this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,t.isSuccess?(this.tableData=t.listItems,this.tableSource.data=t.listItems,this.sort&&(this.tableSource.sort=this.sort),this.paginator&&(this.tableSource.paginator=this.paginator),this.tableSource.filter="",this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=Q.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=Q.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=Q.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionSelectorSelect(e){var i=this.filteModelContent.sortColumn,t=this.filteModelContent.sortType;this.filteModelContent=new Y,this.filteModelContent.sortColumn=i,this.filteModelContent.sortType=t,this.categoryModelSelected=e,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(Ao,{height:"90%",panelClass:e,enterAnimationDuration:j.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:j.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length==0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(yo,{height:"90%",panelClass:i,enterAnimationDuration:j.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:j.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(a=>{a&&a.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length==0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(a=>{this.cmsToastrService.typeErrorSelected(a)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(a=>{i=a["MESSAGE.Please_Confirm"],t=a["MESSAGE.Do_you_want_to_delete_this_content"]+"?"}),this.cmsConfirmationDialogService.confirm(i,t).then(a=>{if(a){let p=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(p,c,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(p)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(p,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{i.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{i.set(c,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(E=>{i.set(E,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}});let a=JSON.parse(JSON.stringify(this.filteModelContent)),p=new V;p.propertyName="recordStatus",p.value=ke.Available,a.filters.push(p),this.contentService.ServiceGetCount(a).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(E=>{i.set(E,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/sms/main/api-path"])}};Sa.\u0275fac=function(i){return new(i||Sa)(_(ji),_(W),_(Xe),_(Oe),_(He),_(Ce),_(G),_(O),_(Ae),_(je),_(U),_(Se))},Sa.\u0275cmp=N({type:Sa,selectors:[["app-sms-apipathpermission-list"]],viewQuery:function(i,t){if(i&1&&(ee($e,5),ee(Ie,5)),i&2){let a;te(a=ie())&&(t.sort=a.first),te(a=ie())&&(t.paginator=a.first)}},standalone:!1,features:[X],decls:76,vars:34,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionId"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],[3,"optionChange"],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","","multiTemplateDataRows","",3,"matSortChange","dataSource"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","recordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","linkApiPathId"],["matColumnDef","linkCoreUserId"],["matColumnDef","linkCoreUserGroupId"],["matColumnDef","fromDate"],["matColumnDef","expireDate"],["matColumnDef","createdDate"],["matColumnDef","updatedDate"],["matColumnDef","hasAccess"],["mat-sort-header","","class","form-label",4,"matHeaderCellDef"],["matColumnDef","hasInherits"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],["matColumnDef","expandedDetail"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["class","ntk-row-expandedDetail",3,"ntk-row-selected","ngStyle","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["mat-sort-header","",1,"form-label"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"],[1,"ntk-row-expandedDetail",3,"click","rtclick","mouseenter","mouseleave","ngStyle"]],template:function(i,t){if(i&1){let a=A();b(0,m_,1,1,"app-sms-apipath-header",3),r(1,"app-cms-html-list",4),P("optionActionGuideNoticeDisplayChange",function(c){return u(a),T(t.viewGuideNotice,c)||(t.viewGuideNotice=c),f(c)}),I("optionOnActionButtonMemoRow",function(){return u(a),f(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return u(a),f(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return u(a),f(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return u(a),f(t.onActionButtonPrintRow())}),R(2,5),r(3,"app-sms-apipath-tree",6),I("optionChange",function(c){return u(a),f(t.onActionSelectorSelect(c))}),s(),x(),ze(4,7)(5,8),R(6,9),b(7,p_,2,0,"a",10),r(8,"a",11),I("click",function(){return u(a),f(t.viewGuideNotice=!t.viewGuideNotice)}),g(9,"i",12),s(),r(10,"a",11),I("click",function(){return u(a),f(t.onActionButtonReload())}),g(11,"i",13),s(),x(),R(12,14),r(13,"a",15),I("click",function(){return u(a),f(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),g(14,"mat-slide-toggle",16),d(15),S(16,"translate"),s(),r(17,"a",15),I("click",function(){return u(a),f(t.onActionButtonStatist())}),g(18,"mat-slide-toggle",16),d(19),S(20,"translate"),s(),x(),R(21,17),b(22,u_,7,3,"div",18),x(),R(23,19),b(24,f_,7,3,"div",18),b(25,h_,7,3,"div",18),x(),R(26,20),r(27,"app-cms-search-list",21),P("optionsChange",function(c){return u(a),T(t.optionsSearch,c)||(t.optionsSearch=c),f(c)}),s(),r(28,"app-cms-statist-list",21),P("optionsChange",function(c){return u(a),T(t.optionsStatist,c)||(t.optionsStatist=c),f(c)}),s(),x(),R(29,22),r(30,"mat-table",23,0),I("matSortChange",function(){u(a);let c=D(31);return f(t.onTableSortData(c))}),R(32,24),L(33,S_,2,1,"mat-header-cell",25)(34,C_,2,1,"mat-cell",26),x(),R(35,27),L(36,g_,2,1,"mat-header-cell",25)(37,M_,4,6,"mat-cell",28),x(),R(38,29),L(39,__,2,1,"mat-header-cell",25)(40,b_,2,1,"mat-cell",26),x(),R(41,30),L(42,v_,2,1,"mat-header-cell",25)(43,I_,4,5,"mat-cell",26),x(),R(44,31),L(45,A_,2,1,"mat-header-cell",25)(46,E_,2,1,"mat-cell",26),x(),R(47,32),L(48,y_,2,1,"mat-header-cell",25)(49,w_,3,3,"mat-cell",26),x(),R(50,33),L(51,T_,2,1,"mat-header-cell",25)(52,P_,3,3,"mat-cell",26),x(),R(53,34),L(54,R_,2,1,"mat-header-cell",25)(55,x_,3,3,"mat-cell",26),x(),R(56,35),L(57,D_,2,1,"mat-header-cell",25)(58,k_,3,3,"mat-cell",26),x(),R(59,36),L(60,L_,2,1,"mat-header-cell",37)(61,V_,3,3,"mat-cell",26),x(),R(62,38),L(63,N_,2,1,"mat-header-cell",37)(64,B_,3,3,"mat-cell",26),x(),R(65,39),L(66,F_,3,3,"mat-header-cell",40)(67,O_,6,1,"mat-cell",41),x(),R(68,42),L(69,K_,14,8,"mat-cell",26),x(),L(70,X_,1,0,"mat-header-row",43)(71,Y_,1,2,"mat-row",44)(72,J_,1,5,"mat-row",45),s(),x(),R(73,46),r(74,"mat-paginator",47,1),I("page",function(c){return u(a),f(t.onTablePageingData(c))}),s(),x(),s()}i&2&&(v((t.requestLinkApiPathId==null?null:t.requestLinkApiPathId.length)>0?0:-1),o(),h("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),w("optionActionGuideNoticeDisplay",t.viewGuideNotice),h("optionTreeDisplay",!t.requestLinkApiPathId||t.requestLinkApiPathId.length===0)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),o(6),v((t.requestLinkApiPathId==null?null:t.requestLinkApiPathId.length)>0?7:-1),o(4),B("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(3),h("checked",t.optionsSearch.data.show),o(),M("",C(16,28,"ACTION.SEARCH")," "),o(3),h("checked",t.optionsStatist.data.show),o(),M("",C(20,30,"ACTION.STATIST")," "),o(3),v(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessAddRow?22:-1),o(2),v(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?24:-1),o(),v(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?25:-1),o(2),w("options",t.optionsSearch),o(),w("options",t.optionsStatist),o(2),h("dataSource",t.tableSource),o(40),h("matHeaderRowDef",t.tabledisplayedColumns),o(),h("matRowDefColumns",t.tabledisplayedColumns),o(),h("matRowDefColumns",xe(32,l_)),o(2),h("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",xe(33,c_)))},dependencies:[Ge,Ui,ct,Ze,Wt,Ut,Ie,at,$e,At,Et,wt,xt,Tt,yt,Dt,Pt,Rt,kt,Lt,We,Ue,Vt,rt,Sn,bn,it,H,wi,Xi,st,qe,ii,Zn],encapsulation:2});var Gn=Sa;var Z_=["*"];function $_(n,l){if(n&1&&(r(0,"label",3),d(1),s()),n&2){let e=m();h("for",bt("app-sms-apipath-pagination-selector-",e.id)),o(),y(e.optionLabel)}}function e1(n,l){if(n&1&&(r(0,"mat-option",6)(1,"span"),d(2),s()()),n&2){let e=l.$implicit,i=m();h("value",e)("disabled",i.optionDisabled),o(2),y(i.displayOption(e))}}function t1(n,l){n&1&&g(0,"i",7)}function i1(n,l){n&1&&g(0,"i",8)}function n1(n,l){if(n&1){let e=A();r(0,"i",11),I("click",function(){u(e);let t=m();return f(t.onActionSelectClear())}),s()}}function o1(n,l){n&1&&(r(0,"em"),d(1),S(2,"translate"),s()),n&2&&(o(),M("(",C(2,1,"TITLE.Necessary"),")"))}var Rn=class Rn{constructor(l,e,i,t,a,p,c){this.coreEnumService=l;this.cmsToastrService=e;this.cdr=i;this.publicHelper=t;this.translate=a;this.smsMainApiPathService=p;this.categoryService=c;this.id=++Rn.nextId;this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new q;this.dataModelSelect=new zt;this.dataModelApiPathResult=new q;this.formControl=new ei;this.optionDisabled=!1;this.optionRequired=!1;this.optionSelectFirstItem=!1;this.optionSelectForSendMessage=!1;this.optionPlaceholder="";this.optionLabel="";this.optionChange=new ot;this.optionReload=()=>this.onActionButtonReload();this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(l){this.onActionSelectForce(l)}ngOnInit(){this.loadOptions(),(!this.optionLabel||this.optionLabel.length==0&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder),this.getPrivateConfig()}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(Si(""),fi(1500),hi(),Ci(l=>typeof l=="string"||typeof l=="number"?this.DataGetAll(l||""):[]))}getPrivateConfig(){let l=new Y;l.rowPerPage=100,this.smsMainApiPathService.ServiceGetAll(l).subscribe({next:e=>{this.dataModelApiPathResult=e}})}displayFn(l){if(l&&this.dataModelApiPathResult?.listItems?.length>0){let e=this.dataModelApiPathResult.listItems.find(i=>i.id===l.linkApiPathId);return e?e.title+" | "+l.title:""}else return l?l.title:void 0}displayOption(l){if(l&&this.dataModelApiPathResult?.listItems?.length>0){let e=this.dataModelApiPathResult.listItems.find(i=>i.id===l.linkApiPathId);return e?e.title+" | "+l.title:""}else return l?l.title:void 0}DataGetAll(l){return ae(this,null,function*(){let e=new Y;e.rowPerPage=20,e.accessLoad=!0;let i=new V;i.propertyName="title",i.value=l,i.searchType=ht.Contains,i.clauseType=Bt.Or,e.filters.push(i),l&&typeof+l=="number"&&+l>0&&(i=new V,i.propertyName="id",i.value=l,i.searchType=ht.Equal,i.clauseType=Bt.Or,e.filters.push(i)),this.optionSelectForSendMessage&&(i=new V,i.propertyName="recordStatus",i.value=ke.Available,i.searchType=ht.Equal,e.filters.push(i));let t=this.constructor.name+"main";return this.translate.get("MESSAGE.get_information_list").subscribe(a=>{this.publicHelper.processService.processStart(t,a,this.constructorInfoAreaId)}),e.sortColumn="priority",e.sortType=Q.Ascending,this.optionAccessDataType&&this.categoryService.setAccessDataType(this.optionAccessDataType),yield pi(this.categoryService.ServiceGetAll(e)).then(a=>(this.dataModelResult=a,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||this.dataModelSelect.id.length<=0)&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,this.formControl.setValue(this.dataModelResult.listItems[0]),this.onActionSelect(this.dataModelResult.listItems[0])),this.publicHelper.processService.processStop(t),a.listItems))})}onActionSelect(l){this.optionDisabled||(this.dataModelSelect=l,this.optionChange.emit(this.dataModelSelect))}onActionSelectClear(){this.optionDisabled||(this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null))}push(l){return this.filteredOptions.pipe(ui(e=>(e.find(i=>i.id===l.id)||e.push(l),e)))}onActionSelectForce(l){if(typeof l=="string"&&l.length>0){if(this.dataModelSelect&&this.dataModelSelect.id===l)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(e=>e.id===l)){let e=this.dataModelResult.listItems.find(i=>i.id===l);this.dataModelSelect=e,this.formControl.setValue(e);return}this.categoryService.ServiceGetOneById(l).subscribe({next:e=>{e.isSuccess?(this.filteredOptions=this.push(e.item),this.dataModelSelect=e.item,this.formControl.setValue(e.item),this.optionChange.emit(e.item)):this.cmsToastrService.typeErrorMessage(e.errorMessage)}});return}if(typeof l==typeof zt){this.filteredOptions=this.push(l),this.dataModelSelect=l,this.formControl.setValue(l);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new zt,this.onActionSelectClear(),this.loadOptions()}};Rn.nextId=0,Rn.\u0275fac=function(e){return new(e||Rn)(_(Re),_(W),_(G),_(U),_(O),_(St),_(ri))},Rn.\u0275cmp=N({type:Rn,selectors:[["app-sms-apipath-pagination-selector"]],inputs:{optionDisabled:"optionDisabled",optionRequired:"optionRequired",optionSelectFirstItem:"optionSelectFirstItem",optionSelectForSendMessage:"optionSelectForSendMessage",optionPlaceholder:"optionPlaceholder",optionLabel:"optionLabel",optionAccessDataType:"optionAccessDataType",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange"},standalone:!1,ngContentSelectors:Z_,decls:16,vars:23,consts:[["matauto","matAutocomplete"],[1,"input-style","has-borders","has-icon","input-style-always-active","validate-field","mb-4","loader-container"],[3,"optionsInfoAreaId"],[1,"color-highlight",3,"for"],["type","text","aria-label","Assignee","matInput","",3,"placeholder","formControl","matAutocomplete","required","id"],[3,"optionSelected","displayWith"],[3,"value","disabled"],[1,"fa","fa-info","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"fa","fa-times","action","color-red-dark"],[1,"fa","fa-rotate-right","action","color-green-dark",2,"margin-left","20px",3,"click","title"],[1,"fa","fa-times","action","color-red-dark",3,"click"]],template:function(e,i){if(e&1){let t=A();gi(),r(0,"div",1),g(1,"app-progress-spinner",2),b(2,$_,2,3,"label",3),g(3,"input",4),r(4,"mat-autocomplete",5,0),I("optionSelected",function(p){return u(t),f(i.onActionSelect(p.option.value))}),Z(6,e1,3,3,"mat-option",6,De),S(8,"async"),s(),b(9,t1,1,0,"i",7),b(10,i1,1,0,"i",8),b(11,n1,1,0,"i",9),r(12,"i",10),S(13,"translate"),I("click",function(){return u(t),f(i.onActionButtonReload())}),s(),b(14,o1,3,3,"em"),Mi(15),s()}if(e&2){let t=D(5);o(),h("optionsInfoAreaId",i.constructorInfoAreaId),o(),v((i.optionLabel==null?null:i.optionLabel.length)>0?2:-1),o(),h("placeholder",k(i.optionPlaceholder))("id",bt("app-sms-apipath-pagination-selector-",i.id))("formControl",i.formControl)("matAutocomplete",t)("required",i.optionRequired),se("disabled",i.optionDisabled?!0:null),o(),h("displayWith",i.displayFn),o(2),$(C(8,19,i.filteredOptions)),o(3),v(i.formControl.valid?-1:9),o(),v(i.optionRequired&&i.formControl.valid?10:-1),o(),v((i.dataModelSelect==null||i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0?11:-1),o(),B("rotation360",i.publicHelper.processService.process.inRunArea[i.constructorInfoAreaId]),h("title",k(C(13,21,"ACTION.RELOAD"))),o(2),v(i.optionRequired&&!((i.dataModelSelect==null||i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0)?14:-1)}},dependencies:[ne,oe,fe,vi,Ai,Ii,Ei,J,K,it,H],encapsulation:2});var Ca=Rn;var a1=["vform"];function r1(n,l){if(n&1){let e=A();r(0,"app-cms-enum-record-status-selector",20),P("modelChange",function(t){u(e);let a=m();return T(a.dataModel.recordStatus,t)||(a.dataModel.recordStatus=t),f(t)}),s()}if(n&2){let e=m();w("model",e.dataModel.recordStatus),h("optionDisabled",!((e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.accessAddField)??!1))("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function s1(n,l){n&1&&g(0,"i",13)}function l1(n,l){n&1&&g(0,"i",14)}function c1(n,l){n&1&&(r(0,"mat-error"),d(1," Title is "),r(2,"strong"),d(3),S(4,"translate"),s()()),n&2&&(o(3),y(C(4,1,"MESSAGE.required")))}function d1(n,l){if(n&1){let e=A();r(0,"div",18)(1,"div",21)(2,"h5",22),d(3),s()(),r(4,"div",23)(5,"div",24)(6,"input",25),P("ngModelChange",function(t){u(e);let a=m();return T(a.dataModel.endUserDeliveryCostBase,t)||(a.dataModel.endUserDeliveryCostBase=t),f(t)}),s(),g(7,"label",26),s()()()}if(n&2){let e=m();o(3),M(" ",e.fieldsInfo.endUserDeliveryCostBase==null?null:e.fieldsInfo.endUserDeliveryCostBase.fieldTitle," "),o(3),w("ngModel",e.dataModel.endUserDeliveryCostBase)}}function m1(n,l){if(n&1){let e=A();r(0,"div",10)(1,"label",27),d(2),s(),r(3,"input",28,2),P("ngModelChange",function(t){u(e);let a=m();return T(a.dataModel.endUserPricePerPage,t)||(a.dataModel.endUserPricePerPage=t),f(t)}),s()()}if(n&2){let e=m();o(2),y(e.fieldsInfo.endUserPricePerPage==null?null:e.fieldsInfo.endUserPricePerPage.fieldTitle),o(),w("ngModel",e.dataModel.endUserPricePerPage),h("disabled",!(e.fieldsInfo.endUserPricePerPage!=null&&e.fieldsInfo.endUserPricePerPage.accessAddField))}}function p1(n,l){if(n&1){let e=A();r(0,"div",19)(1,"button",29),I("click",function(){u(e);let t=m();return f(t.onFormCancel())}),g(2,"i",30),d(3),S(4,"translate"),s(),r(5,"button",31),g(6,"i",32),d(7),S(8,"translate"),s()()}if(n&2){m();let e=D(10);o(3),M(" ",C(4,3,"ACTION.CANCEL")," "),o(2),h("disabled",!e.form.valid),o(2),M(" ",C(8,5,"ACTION.SAVE")," ")}}var ga=class ga extends Ct{constructor(e,i,t,a,p,c,E,F){super(a,new on,c,F);this.data=e;this.dialogRef=i;this.smsEnumService=t;this.smsMainApiPathPricePermissionService=a;this.cmsToastrService=p;this.publicHelper=c;this.cdr=E;this.translate=F;this.constructorInfoAreaId=this.constructor.name;this.requestId="";this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new q;this.dataModel=new on;this.fileManagerOpenForm=!1;this.SmsMainApiPathPagination=null;this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),e&&(e.linkApiPathPaginationId?.length>0&&(this.dataModel.linkApiPathPaginationId=e.linkApiPathPaginationId),e.id&&(this.requestId=e.id))}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(e=>{this.formInfo.formTitle=e}),this.requestId?this.DataGetOneContent():this.DataGetAccess()}DataGetOneContent(){if(this.requestId.length<=0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.smsMainApiPathPricePermissionService.setAccessLoad(),this.smsMainApiPathPricePermissionService.setAccessDataType(nt.Editor),this.smsMainApiPathPricePermissionService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.dataModel.title=this.dataModel.title+" (COPY)",this.formInfo.formTitle=this.formInfo.formTitle,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.smsMainApiPathPricePermissionService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success}),this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorCmsUser(e){if(!e||!e.id||e.id<=0){this.dataModel.linkCoreUserId=null;return}this.dataModel.linkCoreUserId=e.id}onActionSelectorCmsSite(e){if(!e||!e.id||e.id<=0){this.dataModel.linkCoreSiteId=null;return}this.dataModel.linkCoreSiteId=e.id}onActionSelectorCoreUserGroup(e){if(!e||!e.id||e.id<=0){this.dataModel.linkCoreUserGroupId=null;return}this.dataModel.linkCoreUserGroupId=e.id}onActionSelectorCoreSiteCategory(e){if(!e||!e.id||e.id<=0){this.dataModel.linkCoreSiteCategoryId=null;return}this.dataModel.linkCoreSiteCategoryId=e.id}onActionSelectorSelectLinkApiPathPaginationId(e){if(!e||e.id.length<=0){this.cmsToastrService.typeErrorSelected("\u0645\u0633\u06CC\u0631 \u0633\u0631\u0648\u06CC\u0633 \u062F\u0647\u0646\u062F\u0647 \u0645\u0634\u062E\u0635 \u0646\u06CC\u0633\u062A");return}this.SmsMainApiPathPagination=e,this.dataModel.linkApiPathPaginationId=e.id,(!this.dataModel.endUserPricePerPage||this.dataModel.endUserPricePerPage<=0)&&(this.dataModel.endUserPricePerPage=e.endUserPricePerPage||0)}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};ga.\u0275fac=function(i){return new(i||ga)(_(ve),_(be),_(Ye),_(cn),_(W),_(U),_(G),_(O))},ga.\u0275cmp=N({type:ga,selectors:[["app-sms-apipath-price-permission-add"]],viewQuery:function(i,t){if(i&1&&ee(a1,5),i&2){let a;te(a=ie())&&(t.formGroup=a.first)}},standalone:!1,features:[X],decls:41,vars:46,consts:[["vform","ngForm"],["Title",""],["endUserPricePerPage",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[3,"optionChange","optionSelectForce","optionPlaceholder"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],[1,"divider","mt-3","mb-3"],[1,"d-flex","mb-3"],[1,"form-actions"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"pt-1"],["data-trigger-switch","dataModel.endUserDeliveryCostBase",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.endUserDeliveryCostBase","name","dataModel.endUserDeliveryCostBase",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.endUserDeliveryCostBase",1,"custom-control-label"],["for","dataModel.endUserPricePerPage",1,"color-highlight"],["matInput","","type","number","name","dataModel.endUserPricePerPage","placeholder","0","id","dataModel.endUserPricePerPage",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let a=A();r(0,"div",3),g(1,"app-progress-spinner",4),r(2,"div",5)(3,"p",6),d(4),s(),r(5,"p"),d(6),S(7,"translate"),s(),g(8,"app-cms-form-result-message",7),r(9,"form",8,0),I("ngSubmit",function(){return u(a),f(t.onFormSubmit())}),b(11,r1,1,5,"app-cms-enum-record-status-selector",9),r(12,"div",10)(13,"label",11),d(14),s(),r(15,"input",12,1),P("ngModelChange",function(c){return u(a),T(t.dataModel.title,c)||(t.dataModel.title=c),f(c)}),s(),b(17,s1,1,0,"i",13),b(18,l1,1,0,"i",14),r(19,"em"),d(20),s(),b(21,c1,5,3,"mat-error"),s(),r(22,"app-sms-apipath-pagination-selector",15),S(23,"translate"),I("optionChange",function(c){return u(a),f(t.onActionSelectorSelectLinkApiPathPaginationId(c))}),s(),r(24,"app-cms-user-selector",16),S(25,"translate"),I("optionChange",function(c){return u(a),f(t.onActionSelectorCmsUser(c))}),s(),r(26,"app-cms-site-selector",16),S(27,"translate"),I("optionChange",function(c){return u(a),f(t.onActionSelectorCmsSite(c))}),s(),r(28,"app-cms-usergroup-selector",16),S(29,"translate"),I("optionChange",function(c){return u(a),f(t.onActionSelectorCoreUserGroup(c))}),s(),r(30,"app-cms-sitecategory-selector",16),S(31,"translate"),I("optionChange",function(c){return u(a),f(t.onActionSelectorCoreSiteCategory(c))}),s(),g(32,"div",17),b(33,d1,8,2,"div",18),g(34,"div",17),d(35),S(36,"translate"),g(37,"br")(38,"div",17),b(39,m1,5,3,"div",10),b(40,p1,9,7,"div",19),s()()()}if(i&2){let a=D(16);o(),h("optionsInfoAreaId",t.constructorInfoAreaId),o(3),M(" ",t.formInfo.formTitle," "),o(2),M(" ",C(7,32,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),h("formInfo",t.formInfo),o(3),v(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?11:-1),o(3),y(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),h("placeholder",k(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),w("ngModel",t.dataModel.title),o(2),v(a.value?-1:17),o(),v(a.value?18:-1),o(2),M("",a.value.length," / 100"),o(),v(a.errors!=null&&a.errors.required?21:-1),o(),h("optionSelectForce",t.dataModel.linkApiPathPaginationId)("optionPlaceholder",C(23,34,"TITLE.Pagination")),o(2),h("optionDisabled",!((t.fieldsInfo.linkCoreUserId==null?null:t.fieldsInfo.linkCoreUserId.accessAddField)??!1))("optionSelectForce",t.dataModel.linkCoreUserId)("optionPlaceholder",C(25,36,"TITLE.USER")),o(2),h("optionDisabled",!((t.fieldsInfo.linkCoreSiteId==null?null:t.fieldsInfo.linkCoreSiteId.accessAddField)??!1))("optionSelectForce",t.dataModel.linkCoreSiteId)("optionPlaceholder",C(27,38,"TITLE.SITE")),o(2),h("optionDisabled",!((t.fieldsInfo.linkCoreUserGroupId==null?null:t.fieldsInfo.linkCoreUserGroupId.accessAddField)??!1))("optionSelectForce",t.dataModel.linkCoreUserGroupId)("optionPlaceholder",C(29,40,"TITLE.Type_Usage")),o(2),h("optionDisabled",!(t.fieldsInfo.linkCoreSiteCategoryId!=null&&t.fieldsInfo.linkCoreSiteCategoryId.accessAddField))("optionSelectForce",t.dataModel.linkCoreSiteCategoryId)("optionPlaceholder",C(31,42,"TITLE.Site_Type")),o(3),v(t.fieldsInfo.endUserDeliveryCostBase!=null&&t.fieldsInfo.endUserDeliveryCostBase.accessWatchField?33:-1),o(2),ue(" ",C(36,44,"TITLE.Default_Price_Per_Page")," : ",t.SmsMainApiPathPagination==null?null:t.SmsMainApiPathPagination.endUserPricePerPage," "),o(4),v(t.fieldsInfo.endUserPricePerPage!=null&&t.fieldsInfo.endUserPricePerPage.accessWatchField?39:-1),o(),v(t.formInfo.submitButtonEnabled?40:-1)}},dependencies:[_e,ne,bi,Je,oe,ge,fe,Be,Fe,he,Me,Le,J,yi,Te,Fi,li,Oi,K,Ee,ti,Ca,H],encapsulation:2});var Ga=ga;var u1=["vform"];function f1(n,l){if(n&1){let e=A();r(0,"app-cms-enum-record-status-selector",16),P("modelChange",function(t){u(e);let a=m();return T(a.dataModel.recordStatus,t)||(a.dataModel.recordStatus=t),f(t)}),s()}if(n&2){let e=m();w("model",e.dataModel.recordStatus),h("optionDisabled",!((e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.accessEditField)??!1))("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function h1(n,l){n&1&&g(0,"i",19)}function S1(n,l){n&1&&g(0,"i",20)}function C1(n,l){n&1&&(r(0,"mat-error"),d(1," Title is "),r(2,"strong"),d(3),S(4,"translate"),s()()),n&2&&(o(3),y(C(4,1,"MESSAGE.required")))}function g1(n,l){if(n&1){let e=A();r(0,"div",10)(1,"label",17),d(2),s(),r(3,"input",18,1),P("ngModelChange",function(t){u(e);let a=m();return T(a.dataModel.title,t)||(a.dataModel.title=t),f(t)}),s(),b(5,h1,1,0,"i",19),b(6,S1,1,0,"i",20),r(7,"em"),d(8),s(),b(9,C1,5,3,"mat-error"),s()}if(n&2){let e=D(4),i=m();o(2),y(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(),h("placeholder",k(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle)),w("ngModel",i.dataModel.title),h("disabled",!(i.fieldsInfo.title!=null&&i.fieldsInfo.title.accessEditField)),o(2),v(e.value?-1:5),o(),v(e.value?6:-1),o(2),M("",e.value.length," / 100"),o(),v(e.errors!=null&&e.errors.required?9:-1)}}function M1(n,l){if(n&1){let e=A();r(0,"div",14)(1,"div",21)(2,"h5",22),d(3),s()(),r(4,"div",23)(5,"div",24)(6,"input",25),P("ngModelChange",function(t){u(e);let a=m();return T(a.dataModel.endUserDeliveryCostBase,t)||(a.dataModel.endUserDeliveryCostBase=t),f(t)}),s(),g(7,"label",26),s()()()}if(n&2){let e=m();o(3),M(" ",e.fieldsInfo.endUserDeliveryCostBase==null?null:e.fieldsInfo.endUserDeliveryCostBase.fieldTitle," "),o(3),w("ngModel",e.dataModel.endUserDeliveryCostBase)}}function _1(n,l){if(n&1){let e=A();r(0,"div",10)(1,"label",27),d(2),s(),r(3,"input",28,2),P("ngModelChange",function(t){u(e);let a=m();return T(a.dataModel.endUserPricePerPage,t)||(a.dataModel.endUserPricePerPage=t),f(t)}),s()()}if(n&2){let e=m();o(2),y(e.fieldsInfo.endUserPricePerPage==null?null:e.fieldsInfo.endUserPricePerPage.fieldTitle),o(),w("ngModel",e.dataModel.endUserPricePerPage),h("disabled",!(e.fieldsInfo.endUserPricePerPage!=null&&e.fieldsInfo.endUserPricePerPage.accessEditField))}}function b1(n,l){if(n&1){let e=A();r(0,"div",15)(1,"button",29),I("click",function(){u(e);let t=m();return f(t.onFormCancel())}),g(2,"i",30),d(3),S(4,"translate"),s(),r(5,"button",31),g(6,"i",32),d(7),S(8,"translate"),s()()}if(n&2){m();let e=D(10);o(3),M(" ",C(4,3,"ACTION.CANCEL")," "),o(2),h("disabled",!e.form.valid),o(2),M(" ",C(8,5,"ACTION.SAVE")," ")}}var Ma=class Ma extends gt{constructor(e,i,t,a,p,c,E,F){super(a,new on,c,F);this.data=e;this.dialogRef=i;this.smsEnumService=t;this.smsMainApiPathPricePermissionService=a;this.cmsToastrService=p;this.publicHelper=c;this.cdr=E;this.translate=F;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new ft;this.dataModel=new on;this.fileManagerOpenForm=!1;this.SmsMainApiPathPagination=null;this.publicHelper.processService.cdr=this.cdr,e&&e.id&&(this.requestId=e.id),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e});else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent()}DataGetOneContent(){if(this.requestId.length<=0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.smsMainApiPathPricePermissionService.setAccessLoad(),this.smsMainApiPathPricePermissionService.setAccessDataType(nt.Editor),this.smsMainApiPathPricePermissionService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.smsMainApiPathPricePermissionService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success}),this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorCmsUser(e){if(!e||!e.id||e.id<=0){this.dataModel.linkCoreUserId=null;return}this.dataModel.linkCoreUserId=e.id}onActionSelectorCmsSite(e){if(!e||!e.id||e.id<=0){this.dataModel.linkCoreSiteId=null;return}this.dataModel.linkCoreSiteId=e.id}onActionSelectorCoreUserGroup(e){if(!e||!e.id||e.id<=0){this.dataModel.linkCoreUserGroupId=null;return}this.dataModel.linkCoreUserGroupId=e.id}onActionSelectorCoreSiteCategory(e){if(!e||!e.id||e.id<=0){this.dataModel.linkCoreSiteCategoryId=null;return}this.dataModel.linkCoreSiteCategoryId=e.id}onActionSelectorSelectLinkApiPathPaginationId(e){if(!e||e.id.length<=0){this.cmsToastrService.typeErrorSelected("\u0645\u0633\u06CC\u0631 \u0633\u0631\u0648\u06CC\u0633 \u062F\u0647\u0646\u062F\u0647 \u0645\u0634\u062E\u0635 \u0646\u06CC\u0633\u062A");return}this.SmsMainApiPathPagination=e,this.dataModel.linkApiPathPaginationId=e.id,(!this.dataModel.endUserPricePerPage||this.dataModel.endUserPricePerPage<=0)&&(this.dataModel.endUserPricePerPage=e.endUserPricePerPage||0)}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Ma.\u0275fac=function(i){return new(i||Ma)(_(ve),_(be),_(Ye),_(cn),_(W),_(U),_(G),_(O))},Ma.\u0275cmp=N({type:Ma,selectors:[["app-sms-apipath-price-permission-edit"]],viewQuery:function(i,t){if(i&1&&ee(u1,5),i&2){let a;te(a=ie())&&(t.formGroup=a.first)}},standalone:!1,features:[X],decls:33,vars:39,consts:[["vform","ngForm"],["Title",""],["endUserPricePerPage",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["selector","",3,"optionChange","optionSelectForce","optionPlaceholder"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],[1,"divider","mt-3","mb-3"],[1,"d-flex","mb-3"],[1,"form-actions"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"pt-1"],["data-trigger-switch","dataModel.endUserDeliveryCostBase",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.endUserDeliveryCostBase","name","dataModel.endUserDeliveryCostBase",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.endUserDeliveryCostBase",1,"custom-control-label"],["for","dataModel.endUserPricePerPage",1,"color-highlight"],["matInput","","type","number","name","dataModel.endUserPricePerPage","placeholder","0","id","dataModel.endUserPricePerPage",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let a=A();r(0,"div",3),g(1,"app-progress-spinner",4),r(2,"div",5)(3,"p",6),d(4),s(),r(5,"p"),d(6),S(7,"translate"),s(),g(8,"app-cms-form-result-message",7),r(9,"form",8,0),I("ngSubmit",function(){return u(a),f(t.onFormSubmit())}),b(11,f1,1,5,"app-cms-enum-record-status-selector",9),b(12,g1,10,9,"div",10),r(13,"app-sms-apipath-pagination-selector",11),S(14,"translate"),I("optionChange",function(c){return u(a),f(t.onActionSelectorSelectLinkApiPathPaginationId(c))}),s(),r(15,"app-cms-user-selector",12),S(16,"translate"),I("optionChange",function(c){return u(a),f(t.onActionSelectorCmsUser(c))}),s(),r(17,"app-cms-site-selector",12),S(18,"translate"),I("optionChange",function(c){return u(a),f(t.onActionSelectorCmsSite(c))}),s(),r(19,"app-cms-usergroup-selector",12),S(20,"translate"),I("optionChange",function(c){return u(a),f(t.onActionSelectorCoreUserGroup(c))}),s(),r(21,"app-cms-sitecategory-selector",12),S(22,"translate"),I("optionChange",function(c){return u(a),f(t.onActionSelectorCoreSiteCategory(c))}),s(),g(23,"div",13),b(24,M1,8,2,"div",14),g(25,"div",13),d(26),S(27,"translate"),g(28,"br")(29,"div",13),b(30,_1,5,3,"div",10),g(31,"br"),b(32,b1,9,7,"div",15),s()()()}i&2&&(o(),h("optionsInfoAreaId",t.constructorInfoAreaId),o(3),M(" ",t.formInfo.formTitle," "),o(2),M(" ",C(7,25,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),h("formInfo",t.formInfo),o(3),v(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?11:-1),o(),v(t.fieldsInfo.title!=null&&t.fieldsInfo.title.accessWatchField?12:-1),o(),h("optionSelectForce",t.dataModel.linkApiPathPaginationId)("optionPlaceholder",C(14,27,"TITLE.Pagination")),o(2),h("optionDisabled",!((t.fieldsInfo.linkCoreUserId==null?null:t.fieldsInfo.linkCoreUserId.accessEditField)??!1))("optionSelectForce",t.dataModel.linkCoreUserId)("optionPlaceholder",C(16,29,"TITLE.USER")),o(2),h("optionDisabled",!((t.fieldsInfo.linkCoreSiteId==null?null:t.fieldsInfo.linkCoreSiteId.accessEditField)??!1))("optionSelectForce",t.dataModel.linkCoreSiteId)("optionPlaceholder",C(18,31,"TITLE.SITE")),o(2),h("optionDisabled",!((t.fieldsInfo.linkCoreUserGroupId==null?null:t.fieldsInfo.linkCoreUserGroupId.accessEditField)??!1))("optionSelectForce",t.dataModel.linkCoreUserGroupId)("optionPlaceholder",C(20,33,"TITLE.Type_Usage")),o(2),h("optionDisabled",!(t.fieldsInfo.linkCoreSiteCategoryId!=null&&t.fieldsInfo.linkCoreSiteCategoryId.accessAddField))("optionSelectForce",t.dataModel.linkCoreSiteCategoryId)("optionPlaceholder",C(22,35,"TITLE.Site_Type")),o(3),v(t.fieldsInfo.endUserDeliveryCostBase!=null&&t.fieldsInfo.endUserDeliveryCostBase.accessWatchField?24:-1),o(2),ue(" ",C(27,37,"TITLE.Default_Price_Per_Page")," : ",t.SmsMainApiPathPagination==null?null:t.SmsMainApiPathPagination.endUserPricePerPage," "),o(4),v(t.fieldsInfo.endUserPricePerPage!=null&&t.fieldsInfo.endUserPricePerPage.accessWatchField?30:-1),o(2),v(t.formInfo.submitButtonEnabled?32:-1))},dependencies:[_e,ne,bi,Je,oe,ge,fe,Be,Fe,he,Me,Le,J,yi,Te,Fi,li,Oi,K,Ee,ti,Ca,H],encapsulation:2});var br=Ma;function v1(n,l){if(n&1){let e=A();r(0,"button",11),I("click",function(){u(e);let t=m();return f(t.onActionButtonReload())}),r(1,"mat-icon",12),S(2,"translate"),d(3,"refresh"),s()()}if(n&2){let e=m();o(),B("rotation360",e.publicHelper.processService.process.inRunArea[e.constructorInfoAreaId]),h("title",k(C(2,4,"ACTION.RELOAD")))}}function I1(n,l){if(n&1){let e=A();r(0,"mat-tree-node",13),g(1,"button",14),r(2,"span",15),I("click",function(){let t=u(e).$implicit,a=m();return f(a.onActionSelect(t))}),g(3,"img",16),d(4),s()()}if(n&2){let e=l.$implicit,i=m();B("ntk-tree-selected",(i.dataModelSelect==null||i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0&&(i.dataModelSelect==null?null:i.dataModelSelect.id)===e.id),o(3),h("src",k(e.linkMainImageIdSrc),we),o(),M("\xA0",e.title)}}function A1(n,l){if(n&1){let e=A();r(0,"mat-tree-node",17)(1,"button",18)(2,"mat-icon",19),d(3),s()(),r(4,"span",15),I("click",function(){let t=u(e).$implicit,a=m();return f(a.onActionSelect(t))}),g(5,"img",16),d(6),s()()}if(n&2){let e=l.$implicit,i=m(),t=D(9);B("ntk-tree-selected",(i.dataModelSelect==null||i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0&&(i.dataModelSelect==null?null:i.dataModelSelect.id)===e.id),h("cdkTreeNodeTypeaheadLabel",e.title)("isExpanded",e.isExpanded??!1),o(),se("type","button")("aria-label","Toggle "+e.title),o(2),M(" ",t.isExpanded(e)?"expand_more":"chevron_right"," "),o(2),h("src",k(e.linkMainImageIdSrc),we),o(),M("\xA0",e.title)}}var _a=class _a{constructor(l,e,i,t,a,p,c,E,F){this.cmsToastrService=l;this.coreEnumService=e;this.categoryService=i;this.cdr=t;this.publicHelper=a;this.tokenHelper=p;this.cmsStoreService=c;this.translate=E;this.dialog=F;this.constructorInfoAreaId=this.constructor.name;this.dataModelSelect=new zt;this.dataModelResult=new q;this.filterModel=new Y;this.dataSource=new Yn;this.optionChange=new ot;this.unsubscribe=[];this.optionReload=()=>this.onActionButtonReload();this.hasChild=(l,e)=>!1;this.childrenAccessor=l=>[];this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(l){this.onActionSelectForce(l)}ngOnInit(){this.unsubscribe.push(this.cmsStoreService.getState(l=>l.tokenInfoStore).subscribe(()=>ae(this,null,function*(){this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(l=>l.unsubscribe())}DataGetAll(){this.filterModel.rowPerPage=200,this.filterModel.accessLoad=!0;let l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(l,e,this.constructorInfoAreaId)}),this.categoryService.ServiceGetAll(this.filterModel).subscribe({next:e=>{e.isSuccess&&(this.dataModelResult=e,this.dataSource.data=this.dataModelResult.listItems),this.publicHelper.processService.processStop(l)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(l,!1)}})}onActionSelect(l){l&&this.dataModelSelect&&l.id==this.dataModelSelect.id?(this.dataModelSelect=null,this.optionChange.emit(null)):(this.dataModelSelect=l,this.optionChange.emit(this.dataModelSelect))}onActionButtonReload(){this.onActionSelect(null),this.dataModelSelect=new zt,this.DataGetAll()}onActionSelectForce(l){}};_a.\u0275fac=function(e){return new(e||_a)(_(W),_(Re),_(ri),_(G),_(U),_(Ce),_(Ae),_(O),_(Se))},_a.\u0275cmp=N({type:_a,selectors:[["app-sms-apipath-pagination-tree"]],inputs:{optionSelectForce:"optionSelectForce",optionReload:"optionReload"},outputs:{optionChange:"optionChange"},standalone:!1,decls:13,vars:11,consts:[["treeTagControl",""],[3,"optionHeaderDisplay","optionActionMainDisplay","optionFooterDisplay"],["cms-tree-header",""],["cms-tree-action",""],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],["cms-tree-body","",1,"loader-container"],[3,"optionsInfoAreaId"],[3,"dataSource","childrenAccessor"],["matTreeNodePadding","",3,"ntk-tree-selected",4,"matTreeNodeDef"],["matTreeNodePadding","","matTreeNodeToggle","","isExpandable","",3,"cdkTreeNodeTypeaheadLabel","isExpanded","ntk-tree-selected",4,"matTreeNodeDef","matTreeNodeDefWhen"],["cms-tree-footer",""],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[2,"font-size","20px","margin","-6px",3,"title"],["matTreeNodePadding",""],["matIconButton","","disabled",""],[3,"click"],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["matTreeNodePadding","","matTreeNodeToggle","","isExpandable","",3,"cdkTreeNodeTypeaheadLabel","isExpanded"],["matIconButton","","matTreeNodeToggle",""],[1,"mat-icon-rtl-mirror"]],template:function(e,i){e&1&&(r(0,"app-cms-html-tree",1),R(1,2),d(2),S(3,"translate"),x(),R(4,3),b(5,v1,4,6,"button",4),x(),R(6,5),g(7,"app-progress-spinner",6),r(8,"mat-tree",7,0),L(10,I1,5,5,"mat-tree-node",8)(11,A1,7,10,"mat-tree-node",9),s(),x(),ze(12,10),s()),e&2&&(h("optionHeaderDisplay",!0)("optionActionMainDisplay",!0)("optionFooterDisplay",!1),o(2),M(" ",C(3,9,"TABLE."+(i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.moduleEntityName))," "),o(3),v(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessWatchRow?5:-1),o(2),h("optionsInfoAreaId",i.constructorInfoAreaId),o(),h("dataSource",i.dataSource)("childrenAccessor",i.childrenAccessor),o(3),h("matTreeNodeDefWhen",i.hasChild))},dependencies:[ct,Ze,Qn,zn,Xn,Kn,jn,K,eo,H],encapsulation:2});var vr=_a;var ba=class ba{constructor(l,e,i,t,a,p,c,E){this.headerService=l;this.publicHelper=e;this.cdr=i;this.cmsToastrService=t;this.dialog=a;this.translate=p;this.cmsStoreService=c;this.tokenHelper=E;this.constructorInfoAreaId=this.constructor.name;this.optionId="";this.dataModelResult=new q;this.fieldsInfo=new Map;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr}ngOnInit(){this.optionId?.length>0&&this.DataGetOneContent(),this.unsubscribe.push(this.cmsStoreService.getState(l=>l.tokenInfoStore).subscribe(l=>ae(this,null,function*(){this.DataGetOneContent()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(l=>l.unsubscribe())}DataGetOneContent(){let l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(l,e,this.constructorInfoAreaId)}),this.headerService.setAccessLoad(),this.headerService.ServiceGetOneById(this.optionId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),e.isSuccess?this.dataModelResult=e:this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(l)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(l,!1)}})}};ba.\u0275fac=function(e){return new(e||ba)(_(ri),_(U),_(G),_(W),_(Se),_(O),_(Ae),_(Ce))},ba.\u0275cmp=N({type:ba,selectors:[["app-sms-apipath-pagination-header"]],inputs:{optionId:"optionId"},standalone:!1,decls:31,vars:9,consts:[[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content"],[1,"table"],[1,"tr"],[1,"td","small-width"],[1,"svg-icon","svg-icon-3x","svg-icon-primary",3,"inlineSVG"],[1,"td","large-width",2,"color","darkblue"],[1,"td",2,"text-align","left"],[1,"td","large-width"],[1,"td"],[2,"clear","both"],[1,"divider","divider-margins"]],template:function(e,i){e&1&&(r(0,"div",0),g(1,"app-progress-spinner",1),r(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),g(6,"span",6),s(),r(7,"div",7)(8,"h5")(9,"b"),d(10),S(11,"translate"),s()()(),g(12,"div",8),s(),r(13,"div",4)(14,"div",5)(15,"b"),d(16),s(),d(17,": "),s(),r(18,"div",9),d(19),s(),g(20,"div",10)(21,"div",11),s(),r(22,"div",4)(23,"div",5)(24,"b"),d(25),s(),d(26,": "),s(),r(27,"div",9),d(28),s(),g(29,"div",11),s()()()(),g(30,"div",12)),e&2&&(o(),h("optionsInfoAreaId",i.constructorInfoAreaId),o(5),h("inlineSVG","./assets/media/svg/icons/Communication/Flag.svg"),o(4),M(" ",C(11,7,"TITLE.Selected_Route")," "),o(6),M("",i.fieldsInfo.id==null?null:i.fieldsInfo.id.fieldTitle," "),o(3),y(i.dataModelResult==null||i.dataModelResult.item==null?null:i.dataModelResult.item.id),o(6),M("",i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle," "),o(3),y(i.dataModelResult==null||i.dataModelResult.item==null?null:i.dataModelResult.item.title))},dependencies:[K,Jn,H],styles:[".table[_ngcontent-%COMP%]{display:table;border:1px solid #40a1f5;padding:2px;background:#fff;border-radius:5px}.table[_ngcontent-%COMP%]   .th[_ngcontent-%COMP%]{display:table-row;background-color:#40a1f577;color:#fff;font-weight:700}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f9f9f9}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]{display:table-row;border-bottom:1px solid #000}.table[_ngcontent-%COMP%]   .td[_ngcontent-%COMP%]{display:table-cell;padding:15px;border-bottom:1px solid #40a1f5;color:#3d7c7a}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:last-child   .td[_ngcontent-%COMP%]{border:0}.small-width[_ngcontent-%COMP%]{width:90px}.large-width[_ngcontent-%COMP%]{width:400px}.clear[_ngcontent-%COMP%]{clear:both}"]});var Ir=ba;var w1=()=>[5,10,20,100];function T1(n,l){if(n&1&&g(0,"app-sms-apipath-pagination-header",3),n&2){let e=m();h("optionId",e.requestLinkApiPathPaginationId)}}function P1(n,l){if(n&1){let e=A();r(0,"a",45),I("click",function(){u(e);let t=m();return f(t.onActionBackToParent())}),g(1,"i",46),s()}}function R1(n,l){if(n&1){let e=A();r(0,"div",21)(1,"a",47),I("click",function(){u(e);let t=m();return f(t.onActionButtonNewRow())}),g(2,"i",48)(3,"br"),s(),r(4,"p",49),d(5),S(6,"translate"),s()()}n&2&&(o(5),M(" ",C(6,1,"ACTION.ADD")," "))}function x1(n,l){if(n&1){let e=A();r(0,"div",21)(1,"a",50),I("click",function(){u(e);let t=m();return f(t.onActionButtonEditRow(t.tableRowSelected))}),g(2,"i",51)(3,"br"),s(),r(4,"p",49),d(5),S(6,"translate"),s()()}n&2&&(o(5),M(" ",C(6,1,"ACTION.EDIT")," "))}function D1(n,l){if(n&1){let e=A();r(0,"div",21)(1,"a",52),I("click",function(){u(e);let t=m();return f(t.onActionButtonDeleteRow(t.tableRowSelected))}),g(2,"i",53)(3,"br"),s(),r(4,"p",49),d(5),S(6,"translate"),s()()}n&2&&(o(5),M(" ",C(6,1,"ACTION.DELETE")," "))}function k1(n,l){if(n&1){let e=A();r(0,"div",21)(1,"a",54),I("click",function(){u(e);let t=m();return f(t.onActionButtonCopyRow(t.tableRowSelected))}),g(2,"i",55)(3,"br"),s(),r(4,"p",49),d(5),S(6,"translate"),s()()}n&2&&(o(5),M(" ",C(6,1,"ACTION.COPY")," "))}function L1(n,l){if(n&1&&(r(0,"mat-header-cell",56),d(1),s()),n&2){let e=m();o(),M(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function V1(n,l){if(n&1&&(r(0,"mat-cell"),d(1),s()),n&2){let e=l.$implicit;o(),M(" ",e.id," ")}}function N1(n,l){if(n&1&&(r(0,"mat-header-cell",56),d(1),s()),n&2){let e=m();o(),M(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function B1(n,l){if(n&1&&(r(0,"mat-cell",57),S(1,"statusCellClass"),g(2,"i",57),S(3,"statusIconClass"),s()),n&2){let e=l.$implicit;h("ngClass",C(1,2,e.recordStatus)),o(2),h("ngClass",C(3,4,e.recordStatus))}}function F1(n,l){if(n&1&&(r(0,"mat-header-cell",56),d(1),s()),n&2){let e=m();o(),M(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," ")}}function O1(n,l){if(n&1&&(r(0,"mat-cell"),d(1),s()),n&2){let e=l.$implicit;o(),M(" ",e.title," ")}}function G1(n,l){if(n&1&&(r(0,"mat-header-cell",56),d(1),s()),n&2){let e=m();o(),M(" ",e.fieldsInfo.linkApiPathPaginationId==null?null:e.fieldsInfo.linkApiPathPaginationId.fieldTitle," ")}}function H1(n,l){if(n&1&&(r(0,"mat-cell"),d(1),S(2,"cmstitle"),s()),n&2){let e=l.$implicit,i=m();o(),y(Nt(2,1,e.linkApiPathPaginationId,i.dataModelPrivateResult.listItems))}}function W1(n,l){if(n&1&&(r(0,"mat-header-cell",56),d(1),s()),n&2){let e=m();o(),M(" ",e.fieldsInfo.linkCoreUserId==null?null:e.fieldsInfo.linkCoreUserId.fieldTitle," ")}}function U1(n,l){if(n&1&&(r(0,"mat-cell"),d(1),S(2,"cmsuserinfo"),S(3,"async"),s()),n&2){let e=l.$implicit;o(),M(" ",C(3,3,C(2,1,e.linkCoreUserId))," ")}}function q1(n,l){if(n&1&&(r(0,"mat-header-cell",56),d(1),s()),n&2){let e=m();o(),M(" ",e.fieldsInfo.linkCoreUserGroupId==null?null:e.fieldsInfo.linkCoreUserGroupId.fieldTitle," ")}}function j1(n,l){if(n&1&&(r(0,"mat-cell"),d(1),s()),n&2){let e=l.$implicit;o(),M(" ",e.linkCoreUserGroupId," ")}}function Q1(n,l){n&1&&(r(0,"mat-header-cell",56),d(1),S(2,"translate"),s()),n&2&&(o(),M(" ",C(2,1,"TITLE.endUserDeliveryCostBase")," "))}function z1(n,l){if(n&1&&(r(0,"mat-cell"),d(1),s()),n&2){let e=l.$implicit;o(),M(" ",e.endUserDeliveryCostBase," ")}}function K1(n,l){n&1&&(r(0,"mat-header-cell",56),d(1),S(2,"translate"),s()),n&2&&(o(),M(" ",C(2,1,"TITLE.endUserPricePerPage")," "))}function X1(n,l){if(n&1&&(r(0,"mat-cell"),d(1),s()),n&2){let e=l.$implicit;o(),M(" ",e.endUserPricePerPage," ")}}function Y1(n,l){n&1&&(r(0,"mat-header-cell"),d(1),S(2,"translate"),s()),n&2&&(o(),M(" ",C(2,1,"TITLE.OPTION")," "))}function J1(n,l){if(n&1&&(r(0,"mat-cell",58)(1,"button",59)(2,"mat-icon"),d(3,"more_vert"),s()(),g(4,"mat-menu",null,2),s()),n&2){let e=D(5);o(),h("matMenuTriggerFor",e)}}function Z1(n,l){n&1&&g(0,"mat-header-row")}function $1(n,l){if(n&1){let e=A();r(0,"mat-row",60),I("click",function(t){let a=u(e).$implicit,p=m();return f(p.onActionTableRowSelect(a,t))})("rtclick",function(t){let a=u(e).$implicit,p=m();return f(p.onActionTableRowSelect(a,t))}),s()}if(n&2){let e=l.$implicit,i=m();B("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var va=class va extends Qe{constructor(e,i,t,a,p,c,E,F,Ne,tt,Pe,It,z,Ha){super(e,new on,z,c,F);this.contentService=e;this.cmsToastrService=i;this.activatedRoute=t;this.cmsConfirmationDialogService=a;this.router=p;this.tokenHelper=c;this.cdr=E;this.translate=F;this.smsMainApiPathPaginationService=Ne;this.cmsStoreService=tt;this.smsEnumService=Pe;this.pageInfo=It;this.publicHelper=z;this.dialog=Ha;this.tableData=[];this.requestLinkApiPathId="";this.requestLinkApiPathPaginationId="";this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new Y;this.filterDataModelQueryBuilder=[];this.dataModelPrivateResult=new q;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["recordStatus","title","linkApiPathPaginationId","endUserPricePerPage","endUserDeliveryCostBase","linkCoreUserId","linkCoreUserGroupId"];this.tabledisplayedColumnsMobileSource=["recordStatus","title","linkApiPathPaginationId","endUserPricePerPage","endUserDeliveryCostBase","linkCoreUserId","linkCoreUserGroupId"];this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:tn=>this.onSubmitOptionsSearch(tn)},this.filteModelContent.sortColumn="LinkApiPathId",this.filteModelContent.sortType=Q.Ascending}filterModelCompiler(e){let i=JSON.parse(JSON.stringify(e));return this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),i}ngOnInit(){if(this.filteModelContent.sortColumn="LinkApiPathId",this.activatedRoute.snapshot.paramMap.get("LinkApiPathId")&&(this.requestLinkApiPathId=this.activatedRoute.snapshot.paramMap.get("LinkApiPathId")),this.requestLinkApiPathId?.length>0){let e=new V;e.propertyName="LinkApiPathId",e.value=this.requestLinkApiPathId,this.filteModelContent.filters.push(e)}if(this.activatedRoute.snapshot.paramMap.get("LinkApiPathPaginationId")&&(this.requestLinkApiPathPaginationId=this.activatedRoute.snapshot.paramMap.get("LinkApiPathPaginationId")),this.requestLinkApiPathPaginationId?.length>0){let e=new V;e.propertyName="LinkApiPathPaginationId",e.value=this.requestLinkApiPathPaginationId,this.filteModelContent.filters.push(e)}this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>ae(this,null,function*(){this.tokenInfo=e,this.DataGetAll()}))),this.getPrivateConfig()}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}getPrivateConfig(){let e=new Y;e.rowPerPage=100,this.smsMainApiPathPaginationService.ServiceGetAll(e).subscribe({next:i=>{this.dataModelPrivateResult=i}})}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new on);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=this.filterModelCompiler(this.filteModelContent);if(this.categoryModelSelected&&this.categoryModelSelected.id.length>0){let t=new V;t.propertyName="LinkApiPathId",t.value=this.categoryModelSelected.id,i.filters.push(t)}this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,t.isSuccess?(this.tableData=t.listItems,this.tableSource.data=t.listItems,this.sort&&(this.tableSource.sort=this.sort),this.paginator&&(this.tableSource.paginator=this.paginator),this.tableSource.filter="",this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=Q.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=Q.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=Q.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionSelectorSelect(e){var i=this.filteModelContent.sortColumn,t=this.filteModelContent.sortType;this.filteModelContent=new Y,this.filteModelContent.sortColumn=i,this.filteModelContent.sortType=t,this.categoryModelSelected=e,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(Ga,{height:"90%",panelClass:e,enterAnimationDuration:j.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:j.cmsViewConfig.exitAnimationDuration,data:{linkApiPathPaginationId:this.categoryModelSelected?.id.length>0?this.categoryModelSelected.id:this.requestLinkApiPathPaginationId}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length==0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(br,{height:"90%",panelClass:i,enterAnimationDuration:j.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:j.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(a=>{a&&a.dialogChangedDate&&this.DataGetAll()})}onActionButtonCopyRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length==0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Ga,{height:"90%",panelClass:i,enterAnimationDuration:j.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:j.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(a=>{a&&a.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length==0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(a=>{this.cmsToastrService.typeErrorSelected(a)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(a=>{i=a["MESSAGE.Please_Confirm"],t=a["MESSAGE.Do_you_want_to_delete_this_content"]+"?"}),this.cmsConfirmationDialogService.confirm(i,t).then(a=>{if(a){let p=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(p,c,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(p)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(p,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(E=>{i.set(E,0)}),this.translate.get("MESSAGE.All").subscribe(E=>{i.set(E,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(E=>{this.publicHelper.processService.processStart(t,E,this.constructorInfoAreaId)});let a=this.filterModelCompiler(this.filteModelContent);if(this.filteModelContent.filterActionSearchRecordStatus>0){let E=new V;E.propertyName="recordStatus",E.value=this.filteModelContent.filterActionSearchRecordStatus,a.filters.push(E)}if(this.filteModelContent.filterActionSearchLinkSiteId>0){let E=new V;E.propertyName="linkSiteId",E.value=this.filteModelContent.filterActionSearchLinkSiteId,a.filters.push(E)}if(this.filteModelContent.filterActionSearchLinkUserId>0){let E=new V;E.propertyName="linkUserId",E.value=this.filteModelContent.filterActionSearchLinkUserId,a.filters.push(E)}this.contentService.ServiceGetCount(a).subscribe({next:E=>{E.isSuccess?(this.translate.get("MESSAGE.All").subscribe(F=>{i.set(F,E.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(E.errorMessage),this.publicHelper.processService.processStop(t)},error:E=>{this.cmsToastrService.typeError(E),this.publicHelper.processService.processStop(t,!1)}});let p=this.filterModelCompiler(this.filteModelContent);if(this.filteModelContent.filterActionSearchRecordStatus>0){let E=new V;E.propertyName="recordStatus",E.value=this.filteModelContent.filterActionSearchRecordStatus,p.filters.push(E)}if(this.filteModelContent.filterActionSearchLinkSiteId>0){let E=new V;E.propertyName="linkSiteId",E.value=this.filteModelContent.filterActionSearchLinkSiteId,p.filters.push(E)}if(this.filteModelContent.filterActionSearchLinkUserId>0){let E=new V;E.propertyName="linkUserId",E.value=this.filteModelContent.filterActionSearchLinkUserId,p.filters.push(E)}let c=new V;c.propertyName="recordStatus",c.value=ke.Available,p.filters.push(c),this.contentService.ServiceGetCount(p).subscribe({next:E=>{E.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(F=>{i.set(F,E.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(E.errorMessage),this.publicHelper.processService.processStop(t)},error:E=>{this.cmsToastrService.typeError(E),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/sms/main/api-path"])}};va.\u0275fac=function(i){return new(i||va)(_(cn),_(W),_(Xe),_(Oe),_(He),_(Ce),_(G),_(O),_(ri),_(Ae),_(Ye),_(je),_(U),_(Se))},va.\u0275cmp=N({type:va,selectors:[["app-sms-apipath-price-permission-list"]],viewQuery:function(i,t){if(i&1&&(ee($e,5),ee(Ie,5)),i&2){let a;te(a=ie())&&(t.sort=a.first),te(a=ie())&&(t.paginator=a.first)}},standalone:!1,features:[X],decls:69,vars:33,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionId"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],[3,"optionChange"],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-maximize","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-minimize","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","recordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","title"],["matColumnDef","linkApiPathPaginationId"],["matColumnDef","linkCoreUserId"],["matColumnDef","linkCoreUserGroupId"],["matColumnDef","endUserDeliveryCostBase"],["matColumnDef","endUserPricePerPage"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-copy","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(i,t){if(i&1){let a=A();b(0,T1,1,1,"app-sms-apipath-pagination-header",3),r(1,"app-cms-html-list",4),P("optionActionGuideNoticeDisplayChange",function(c){return u(a),T(t.viewGuideNotice,c)||(t.viewGuideNotice=c),f(c)}),I("optionOnActionButtonMemoRow",function(){return u(a),f(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return u(a),f(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return u(a),f(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return u(a),f(t.onActionButtonPrintRow())}),R(2,5),r(3,"app-sms-apipath-pagination-tree",6),I("optionChange",function(c){return u(a),f(t.onActionSelectorSelect(c))}),s(),x(),ze(4,7)(5,8),R(6,9),b(7,P1,2,0,"a",10),r(8,"a",11),I("click",function(){return u(a),f(t.viewGuideNotice=!t.viewGuideNotice)}),g(9,"i",12),s(),r(10,"a",11),I("click",function(){return u(a),f(t.onActionButtonReload())}),g(11,"i",13),s(),r(12,"a",14),I("click",function(){return u(a),f(t.onActionGridExpandRows(!0))}),g(13,"i",15),s(),r(14,"a",14),I("click",function(){return u(a),f(t.onActionGridExpandRows(!1))}),g(15,"i",16),s(),x(),R(16,17),r(17,"a",18),I("click",function(){return u(a),f(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),g(18,"mat-slide-toggle",19),d(19),S(20,"translate"),s(),r(21,"a",18),I("click",function(){return u(a),f(t.onActionButtonStatist())}),g(22,"mat-slide-toggle",19),d(23),S(24,"translate"),s(),x(),R(25,20),b(26,R1,7,3,"div",21),x(),R(27,22),b(28,x1,7,3,"div",21),b(29,D1,7,3,"div",21),b(30,k1,7,3,"div",21),x(),R(31,23),r(32,"app-cms-search-list",24),P("optionsChange",function(c){return u(a),T(t.optionsSearch,c)||(t.optionsSearch=c),f(c)}),s(),r(33,"app-cms-statist-list",24),P("optionsChange",function(c){return u(a),T(t.optionsStatist,c)||(t.optionsStatist=c),f(c)}),s(),x(),R(34,25),r(35,"mat-table",26,0),I("matSortChange",function(){u(a);let c=D(36);return f(t.onTableSortData(c))}),R(37,27),L(38,L1,2,1,"mat-header-cell",28)(39,V1,2,1,"mat-cell",29),x(),R(40,30),L(41,N1,2,1,"mat-header-cell",28)(42,B1,4,6,"mat-cell",31),x(),R(43,32),L(44,F1,2,1,"mat-header-cell",28)(45,O1,2,1,"mat-cell",29),x(),R(46,33),L(47,G1,2,1,"mat-header-cell",28)(48,H1,3,4,"mat-cell",29),x(),R(49,34),L(50,W1,2,1,"mat-header-cell",28)(51,U1,4,5,"mat-cell",29),x(),R(52,35),L(53,q1,2,1,"mat-header-cell",28)(54,j1,2,1,"mat-cell",29),x(),R(55,36),L(56,Q1,3,3,"mat-header-cell",28)(57,z1,2,1,"mat-cell",29),x(),R(58,37),L(59,K1,3,3,"mat-header-cell",28)(60,X1,2,1,"mat-cell",29),x(),R(61,38),L(62,Y1,3,3,"mat-header-cell",39)(63,J1,6,1,"mat-cell",40),x(),L(64,Z1,1,0,"mat-header-row",41)(65,$1,1,2,"mat-row",42),s(),x(),R(66,43),r(67,"mat-paginator",44,1),I("page",function(c){return u(a),f(t.onTablePageingData(c))}),s(),x(),s()}i&2&&(v((t.requestLinkApiPathPaginationId==null?null:t.requestLinkApiPathPaginationId.length)>0?0:-1),o(),h("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),w("optionActionGuideNoticeDisplay",t.viewGuideNotice),h("optionTreeDisplay",!t.requestLinkApiPathPaginationId||t.requestLinkApiPathPaginationId.length===0)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.title),o(6),v((t.requestLinkApiPathPaginationId==null?null:t.requestLinkApiPathPaginationId.length)>0?7:-1),o(4),B("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(7),h("checked",t.optionsSearch.data.show),o(),M("",C(20,28,"ACTION.SEARCH")," "),o(3),h("checked",t.optionsStatist.data.show),o(),M("",C(24,30,"ACTION.STATIST")," "),o(3),v(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessAddRow?26:-1),o(2),v(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?28:-1),o(),v(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?29:-1),o(),v(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?30:-1),o(2),w("options",t.optionsSearch),o(),w("options",t.optionsStatist),o(2),h("dataSource",t.tableSource),o(29),h("matHeaderRowDef",t.tabledisplayedColumns),o(),h("matRowDefColumns",t.tabledisplayedColumns),o(2),h("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",xe(32,w1)))},dependencies:[Ge,ct,Ze,Wt,Ut,Ie,at,$e,At,Et,wt,xt,Tt,yt,Dt,Pt,Rt,kt,Lt,We,Ue,Vt,rt,vr,Ir,it,H,Yi,wi,qe,ii],encapsulation:2});var Ia=va;function eb(n,l){if(n&1){let e=A();r(0,"button",11),I("click",function(){u(e);let t=m();return f(t.onActionButtonReload())}),r(1,"mat-icon",12),S(2,"translate"),d(3,"refresh"),s()()}if(n&2){let e=m();o(),B("rotation360",e.publicHelper.processService.process.inRunArea[e.constructorInfoAreaId]),h("title",k(C(2,4,"ACTION.RELOAD")))}}function tb(n,l){if(n&1){let e=A();r(0,"mat-tree-node",13),g(1,"button",14),r(2,"span",15),I("click",function(){let t=u(e).$implicit,a=m();return f(a.onActionSelect(t))}),g(3,"img",16),d(4),s()()}if(n&2){let e=l.$implicit,i=m();B("ntk-tree-selected",(i.dataModelSelect==null||i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0&&(i.dataModelSelect==null?null:i.dataModelSelect.id)===e.id),o(3),h("src",k(e.linkMainImageIdSrc),we),o(),M("\xA0",e.title)}}function ib(n,l){if(n&1){let e=A();r(0,"mat-tree-node",17)(1,"button",18)(2,"mat-icon",19),d(3),s()(),r(4,"span",15),I("click",function(){let t=u(e).$implicit,a=m();return f(a.onActionSelect(t))}),g(5,"img",16),d(6),s()()}if(n&2){let e=l.$implicit,i=m(),t=D(9);B("ntk-tree-selected",(i.dataModelSelect==null||i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0&&(i.dataModelSelect==null?null:i.dataModelSelect.id)===e.id),h("cdkTreeNodeTypeaheadLabel",e.title)("isExpanded",e.isExpanded??!1),o(),se("type","button")("aria-label","Toggle "+e.title),o(2),M(" ",t.isExpanded(e)?"expand_more":"chevron_right"," "),o(2),h("src",k(e.linkMainImageIdSrc),we),o(),M("\xA0",e.title)}}var Aa=class Aa{constructor(l,e,i,t,a,p,c,E,F){this.cmsToastrService=l;this.coreEnumService=e;this.categoryService=i;this.dialog=t;this.cdr=a;this.publicHelper=p;this.tokenHelper=c;this.cmsStoreService=E;this.translate=F;this.constructorInfoAreaId=this.constructor.name;this.dataModelSelect=new jt;this.dataModelResult=new q;this.filterModel=new Y;this.dataSource=new Yn;this.optionChange=new ot;this.unsubscribe=[];this.optionReload=()=>this.onActionButtonReload();this.hasChild=(l,e)=>!1;this.childrenAccessor=l=>[];this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(l){this.onActionSelectForce(l)}ngOnInit(){this.unsubscribe.push(this.cmsStoreService.getState(l=>l.tokenInfoStore).subscribe(l=>ae(this,null,function*(){this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(l=>l.unsubscribe())}DataGetAll(){this.filterModel.rowPerPage=200,this.filterModel.accessLoad=!0;let l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(l,e,this.constructorInfoAreaId)}),this.categoryService.ServiceGetAll(this.filterModel).subscribe({next:e=>{e.isSuccess?(this.dataModelResult=e,this.dataSource.data=this.dataModelResult.listItems):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(l)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(l,!1)}})}onActionSelect(l){l&&this.dataModelSelect&&l.id==this.dataModelSelect.id?(this.dataModelSelect=null,this.optionChange.emit(null)):(this.dataModelSelect=l,this.optionChange.emit(this.dataModelSelect))}onActionButtonReload(){this.onActionSelect(null),this.dataModelSelect=new jt,this.DataGetAll()}onActionSelectForce(l){}};Aa.\u0275fac=function(e){return new(e||Aa)(_(W),_(Re),_($t),_(Se),_(G),_(U),_(Ce),_(Ae),_(O))},Aa.\u0275cmp=N({type:Aa,selectors:[["app-sms-apipathcompany-tree"]],inputs:{optionSelectForce:"optionSelectForce",optionReload:"optionReload"},outputs:{optionChange:"optionChange"},standalone:!1,decls:13,vars:11,consts:[["treeTagControl",""],[3,"optionHeaderDisplay","optionActionMainDisplay","optionFooterDisplay"],["cms-tree-header",""],["cms-tree-action",""],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],["cms-tree-body","",1,"loader-container"],[3,"optionsInfoAreaId"],[3,"dataSource","childrenAccessor"],["matTreeNodePadding","",3,"ntk-tree-selected",4,"matTreeNodeDef"],["matTreeNodePadding","","matTreeNodeToggle","","isExpandable","",3,"cdkTreeNodeTypeaheadLabel","isExpanded","ntk-tree-selected",4,"matTreeNodeDef","matTreeNodeDefWhen"],["cms-tree-footer",""],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[2,"font-size","20px","margin","-6px",3,"title"],["matTreeNodePadding",""],["matIconButton","","disabled",""],[3,"click"],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["matTreeNodePadding","","matTreeNodeToggle","","isExpandable","",3,"cdkTreeNodeTypeaheadLabel","isExpanded"],["matIconButton","","matTreeNodeToggle",""],[1,"mat-icon-rtl-mirror"]],template:function(e,i){e&1&&(r(0,"app-cms-html-tree",1),R(1,2),d(2),S(3,"translate"),x(),R(4,3),b(5,eb,4,6,"button",4),x(),R(6,5),g(7,"app-progress-spinner",6),r(8,"mat-tree",7,0),L(10,tb,5,5,"mat-tree-node",8)(11,ib,7,10,"mat-tree-node",9),s(),x(),ze(12,10),s()),e&2&&(h("optionHeaderDisplay",!0)("optionActionMainDisplay",!0)("optionFooterDisplay",!1),o(2),M(" ",C(3,9,"TABLE."+(i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.moduleEntityName))," "),o(3),v(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessWatchRow?5:-1),o(2),h("optionsInfoAreaId",i.constructorInfoAreaId),o(),h("dataSource",i.dataSource)("childrenAccessor",i.childrenAccessor),o(3),h("matTreeNodeDefWhen",i.hasChild))},dependencies:[ct,Ze,Qn,zn,Xn,Kn,jn,K,eo,H],encapsulation:2});var Ar=Aa;var ob=()=>[5,10,20,100];function ab(n,l){if(n&1){let e=A();r(0,"a",51),I("click",function(){u(e);let t=m();return f(t.onActionBackToParent())}),g(1,"i",52),s()}}function rb(n,l){if(n&1){let e=A();r(0,"div",17)(1,"a",22),I("click",function(){u(e);let t=m();return f(t.onActionButtonNewRow())}),g(2,"i",53)(3,"br"),s(),r(4,"p",20),d(5),S(6,"translate"),s()()}n&2&&(o(5),M(" ",C(6,1,"ACTION.ADD")," "))}function sb(n,l){if(n&1){let e=A();r(0,"div",17)(1,"a",54),I("click",function(){u(e);let t=m();return f(t.onActionButtonEditRow(t.tableRowSelected))}),g(2,"i",55)(3,"br"),s(),r(4,"p",20),d(5),S(6,"translate"),s()()}n&2&&(o(5),M(" ",C(6,1,"ACTION.EDIT")," "))}function lb(n,l){if(n&1){let e=A();r(0,"div",17)(1,"a",56),I("click",function(){u(e);let t=m();return f(t.onActionButtonDeleteRow(t.tableRowSelected))}),g(2,"i",57)(3,"br"),s(),r(4,"p",20),d(5),S(6,"translate"),s()()}n&2&&(o(5),M(" ",C(6,1,"ACTION.DELETE")," "))}function cb(n,l){if(n&1){let e=A();r(0,"div",17)(1,"a",19),I("click",function(){u(e);let t=m();return f(t.onActionButtonCopy(t.tableRowSelected))}),g(2,"i",58)(3,"br"),s(),r(4,"p",20),d(5),S(6,"translate"),s()()}n&2&&(o(5),M(" ",C(6,1,"ACTION.COPY")," "))}function db(n,l){if(n&1){let e=A();r(0,"div",17)(1,"a",10),I("click",function(){u(e);let t=m();return f(t.onActionButtonSendTest(t.tableRowSelected))}),g(2,"i",59)(3,"br"),s(),r(4,"p",20),d(5),S(6,"translate"),s()()}n&2&&(o(5),M(" ",C(6,1,"ACTION.SEND_TEST")," "))}function mb(n,l){if(n&1){let e=A();r(0,"div",17)(1,"a",10),I("click",function(){u(e);let t=m();return f(t.onActionButtonReportsRow(t.tableRowSelected))}),g(2,"i",60)(3,"br"),s(),r(4,"p",20),d(5),S(6,"translate"),s()()}n&2&&(o(5),M(" ",C(6,1,"ACTION.REPORTS")," "))}function pb(n,l){n&1&&(r(0,"mat-header-cell",61),d(1),S(2,"translate"),s()),n&2&&(o(),M(" ",C(2,1,"TITLE.PICTURE")," "))}function ub(n,l){if(n&1&&(g(0,"img",62),S(1,"cmsthumbnail")),n&2){let e=m().$implicit;h("src",k(C(1,2,e.linkMainImageIdSrc)),we)}}function fb(n,l){if(n&1&&(r(0,"mat-cell"),b(1,ub,2,4,"img",62),s()),n&2){let e=l.$implicit;o(),v((e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0?1:-1)}}function hb(n,l){if(n&1&&(r(0,"mat-header-cell",61),d(1),s()),n&2){let e=m();o(),M(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function Sb(n,l){if(n&1&&(r(0,"mat-cell"),d(1),s()),n&2){let e=l.$implicit;o(),M(" ",e.id," ")}}function Cb(n,l){if(n&1&&(r(0,"mat-header-cell",61),d(1),s()),n&2){let e=m();o(),M(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function gb(n,l){if(n&1&&(r(0,"mat-cell",63),S(1,"statusCellClass"),g(2,"i",63),S(3,"statusIconClass"),s()),n&2){let e=l.$implicit;h("ngClass",C(1,2,e.recordStatus)),o(2),h("ngClass",C(3,4,e.recordStatus))}}function Mb(n,l){if(n&1&&(r(0,"mat-header-cell",61),d(1),s()),n&2){let e=m();o(),M(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," ")}}function _b(n,l){if(n&1&&(r(0,"mat-cell"),d(1),s()),n&2){let e=l.$implicit;o(),M(" ",e.title," ")}}function bb(n,l){if(n&1&&(r(0,"mat-header-cell",61),d(1),s()),n&2){let e=m();o(),M("",e.fieldsInfo.linkApiPathCompanyId==null?null:e.fieldsInfo.linkApiPathCompanyId.fieldTitle," ")}}function vb(n,l){if(n&1&&(r(0,"mat-cell"),d(1),S(2,"cmstitle"),s()),n&2){let e=l.$implicit,i=m();o(),M(" ",Nt(2,1,e.linkApiPathCompanyId,i.dataModelCompanyResult.listItems)," ")}}function Ib(n,l){if(n&1&&(r(0,"mat-header-cell",61),d(1),s()),n&2){let e=m();o(),M(" ",e.fieldsInfo.linkPublicConfigId==null?null:e.fieldsInfo.linkPublicConfigId.fieldTitle," ")}}function Ab(n,l){if(n&1&&(r(0,"mat-cell"),d(1),S(2,"cmstitle"),s()),n&2){let e=l.$implicit,i=m();o(),M(" ",Nt(2,1,e.linkPublicConfigId,i.dataModelPublicResult.listItems)," ")}}function Eb(n,l){if(n&1&&(r(0,"mat-header-cell",61),d(1),s()),n&2){let e=m();o(),M(" ",e.fieldsInfo.updatedDate==null?null:e.fieldsInfo.updatedDate.fieldTitle," ")}}function yb(n,l){if(n&1&&(r(0,"mat-cell"),d(1),S(2,"localeDate"),s()),n&2){let e=l.$implicit;o(),M(" ",C(2,1,e.updatedDate)," ")}}function wb(n,l){n&1&&(r(0,"mat-header-cell"),d(1),S(2,"translate"),s()),n&2&&(o(),M(" ",C(2,1,"TITLE.OPTION")," "))}function Tb(n,l){if(n&1&&(r(0,"mat-cell",64)(1,"button",65)(2,"mat-icon"),d(3,"more_vert"),s()(),g(4,"mat-menu",null,2),s()),n&2){let e=D(5);o(),h("matMenuTriggerFor",e)}}function Pb(n,l){n&1&&(r(0,"mat-header-cell",61),d(1,". "),s())}function Rb(n,l){n&1&&(r(0,"mat-cell")(1,"mat-icon",66),d(2,"reorder"),s()())}function xb(n,l){n&1&&g(0,"mat-header-row")}function Db(n,l){n&1&&g(0,"div",69)}function kb(n,l){if(n&1){let e=A();r(0,"mat-row",67),I("click",function(t){let a=u(e).$implicit,p=m();return f(p.onActionTableRowSelect(a,t))})("rtclick",function(t){let a=u(e).$implicit,p=m();return f(p.onActionTableRowSelect(a,t))}),L(1,Db,1,0,"div",68),s()}if(n&2){let e=l.$implicit,i=m();B("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)),h("cdkDragData",e)}}var Ea=class Ea extends Qe{constructor(e,i,t,a,p,c,E,F,Ne,tt,Pe,It,z,Ha){super(e,new Qt,z,F,tt);this.contentService=e;this.smsMainApiPathCompanyService=i;this.smsMainApiPathPublicConfigService=t;this.activatedRoute=a;this.cmsToastrService=p;this.cmsConfirmationDialogService=c;this.router=E;this.tokenHelper=F;this.cdr=Ne;this.translate=tt;this.cmsStoreService=Pe;this.pageInfo=It;this.publicHelper=z;this.dialog=Ha;this.requestLinkSiteId=0;this.requestLinkCompanyId="";this.requestLinkPublicConfigId="";this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new Y;this.filterDataModelQueryBuilder=[];this.dataModelCoreCurrencyResult=new q;this.dataModelCompanyResult=new q;this.dataModelPublicResult=new q;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["linkMainImageIdSrc","recordStatus","title","LinkApiPathCompanyId","LinkPublicConfigId","updatedDate","position"];this.tabledisplayedColumnsMobileSource=["linkMainImageIdSrc","recordStatus","title","LinkApiPathCompanyId","LinkPublicConfigId","position"];this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:tn=>this.onSubmitOptionsSearch(tn)},this.filteModelContent.sortColumn="priority",this.filteModelContent.sortType=Q.Ascending}filterModelCompiler(e){let i=JSON.parse(JSON.stringify(e));return this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),i}ngOnInit(){this.activatedRoute.snapshot.paramMap.get("LinkCompanyId")&&(this.requestLinkCompanyId=this.activatedRoute.snapshot.paramMap.get("LinkCompanyId")),this.activatedRoute.snapshot.paramMap.get("LinkSiteId")&&(this.requestLinkSiteId=+this.activatedRoute.snapshot.paramMap.get("LinkSiteId")||0),this.activatedRoute.snapshot.paramMap.get("LinkPublicConfigId")&&(this.requestLinkPublicConfigId=this.activatedRoute.snapshot.paramMap.get("LinkPublicConfigId"));let e=new V;if(this.requestLinkPublicConfigId?.length>0&&(e.propertyName="LinkPublicConfigId",e.value=this.requestLinkPublicConfigId,this.filteModelContent.filters.push(e)),this.requestLinkCompanyId.length>0){let i=new V;i.propertyName="LinkApiPathCompanyId",i.value=this.requestLinkCompanyId,this.filteModelContent.filters.push(i)}if(this.requestLinkSiteId>0){let i=new V;i.propertyName="linkSiteId",i.value=this.requestLinkSiteId,this.filteModelContent.filters.push(i)}this.filteModelContent.sortColumn="priority",this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(i=>i.tokenInfoStore).subscribe(i=>ae(this,null,function*(){this.tokenInfo=i,this.DataGetAll()}))),this.getApiCopmanyList(),this.getPublicConfig()}getPublicConfig(){let e=new Y;e.rowPerPage=100,this.smsMainApiPathPublicConfigService.ServiceGetAll(e).subscribe({next:i=>{this.dataModelPublicResult=i}})}getApiCopmanyList(){let e=new Y;e.rowPerPage=100,this.smsMainApiPathCompanyService.ServiceGetAll(e).subscribe({next:i=>{this.dataModelCompanyResult=i}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,["position"],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Qt);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=this.filterModelCompiler(this.filteModelContent);if(this.categoryModelSelected&&this.categoryModelSelected.id.length>0){let t=new V;t.propertyName="LinkApiPathCompanyId",t.value=this.categoryModelSelected.id,i.filters.push(t)}this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=Q.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=Q.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=Q.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onTableDropRow(e){let i=this.tableSource.data.findIndex(a=>a===e.item.data),t=new Un;t.id=this.tableSource.data[i].id,t.centerId=this.tableSource.data[e.currentIndex].id,i>e.currentIndex?t.actionGo=nn.GoUp:t.actionGo=nn.GoDown,this.contentService.ServiceEditStep(t).subscribe({next:a=>{a.isSuccess?(qn(this.tableSource.data,i,e.currentIndex),this.tableSource.data=this.tableSource.data.slice()):this.cmsToastrService.typeErrorMessage(a.errorMessage)},error:a=>{this.cmsToastrService.typeError(a)}})}onActionButtonNewRow(){if((!this.requestLinkCompanyId||this.requestLinkCompanyId&&this.requestLinkCompanyId.length==0)&&(this.categoryModelSelected==null||this.categoryModelSelected.id.length===0)){this.translate.get("MESSAGE.Company_not_selected").subscribe(a=>{this.cmsToastrService.typeErrorSelected(a)});return}if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var e="";this.categoryModelSelected&&this.categoryModelSelected.id.length>0&&(e=this.categoryModelSelected.id),this.requestLinkCompanyId&&this.requestLinkCompanyId.length>0&&(e=this.requestLinkCompanyId);var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(An,{height:"90%",panelClass:i,enterAnimationDuration:j.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:j.cmsViewConfig.exitAnimationDuration,data:{linkApiPathCompanyId:e}}).afterClosed().subscribe(a=>{a&&a.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}this.router.navigate(["/sms/main/api-path/edit",this.tableRowSelected.id])}onActionButtonDeleteRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(a=>{this.cmsToastrService.typeErrorSelected(a)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(a=>{i=a["MESSAGE.Please_Confirm"],t=a["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(a=>{if(a){let p=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(p,c,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(p)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(p,!1)}})}}).catch(()=>{})}onActionSelectorSelect(e){var i=this.filteModelContent.sortColumn,t=this.filteModelContent.sortType;this.filteModelContent=new Y,this.filteModelContent.sortColumn=i,this.filteModelContent.sortType=t,this.filteModelContent.sortColumn="priority",this.categoryModelSelected=e,this.DataGetAll()}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(E=>{i.set(E,0)}),this.translate.get("MESSAGE.All").subscribe(E=>{i.set(E,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(E=>{this.publicHelper.processService.processStart(t,E,this.constructorInfoAreaId)});let a=this.filterModelCompiler(this.filteModelContent);if(this.filteModelContent.filterActionSearchRecordStatus>0){let E=new V;E.propertyName="recordStatus",E.value=this.filteModelContent.filterActionSearchRecordStatus,a.filters.push(E)}if(this.filteModelContent.filterActionSearchLinkSiteId>0){let E=new V;E.propertyName="linkSiteId",E.value=this.filteModelContent.filterActionSearchLinkSiteId,a.filters.push(E)}if(this.filteModelContent.filterActionSearchLinkUserId>0){let E=new V;E.propertyName="linkUserId",E.value=this.filteModelContent.filterActionSearchLinkUserId,a.filters.push(E)}this.contentService.ServiceGetCount(a).subscribe({next:E=>{E.isSuccess?(this.translate.get("MESSAGE.All").subscribe(F=>{i.set(F,E.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(E.errorMessage),this.publicHelper.processService.processStop(t)},error:E=>{this.cmsToastrService.typeError(E),this.publicHelper.processService.processStop(t,!1)}});let p=this.filterModelCompiler(this.filteModelContent);if(this.filteModelContent.filterActionSearchRecordStatus>0){let E=new V;E.propertyName="recordStatus",E.value=this.filteModelContent.filterActionSearchRecordStatus,p.filters.push(E)}if(this.filteModelContent.filterActionSearchLinkSiteId>0){let E=new V;E.propertyName="linkSiteId",E.value=this.filteModelContent.filterActionSearchLinkSiteId,p.filters.push(E)}if(this.filteModelContent.filterActionSearchLinkUserId>0){let E=new V;E.propertyName="linkUserId",E.value=this.filteModelContent.filterActionSearchLinkUserId,p.filters.push(E)}let c=new V;c.propertyName="recordStatus",c.value=ke.Available,p.filters.push(c),this.contentService.ServiceGetCount(p).subscribe({next:E=>{E.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(F=>{i.set(F,E.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(E.errorMessage),this.publicHelper.processService.processStop(t)},error:E=>{this.cmsToastrService.typeError(E),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonGetBalance(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}let i=this.constructor.name+"GetBalance";this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructorInfoAreaId)}),this.contentService.ServiceGetBalance(e.id).subscribe({next:t=>{t.isSuccess?this.cmsToastrService.typeSuccessMessage(t.item.info+" "+t.item.status+" "+t.item.credit):this.cmsToastrService.typeErrorMessage(t.errorMessage+t.item.info+" "+t.item.status),this.publicHelper.processService.processStop(i)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(i,!1)}})}onActionButtonSendMessage(e=this.tableRowSelected,i){if(!e||!e.id||e.id.length==0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorSelected();return}if(i?.ctrlKey){let t="/#/sms/action/send-message/LinkApiPathId/"+this.tableRowSelected.id;window.open(t,"_blank")}else this.router.navigate(["/sms/action/send-message/LinkApiPathId",this.tableRowSelected.id])}onActionButtonSupersedesList(e=this.tableRowSelected,i){if(!(e?.id?.length>0)){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorSelected();return}if(i?.ctrlKey){let t="/#/bankpayment/privatesiteconfig/LinkPublicConfigId/"+this.tableRowSelected.id;window.open(t,"_blank")}else this.router.navigate(["/bankpayment/privatesiteconfig/LinkPublicConfigId",this.tableRowSelected.id])}onActionButtonMustSupersedesList(e=this.tableRowSelected,i){if(!(e?.id?.length>0)){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorSelected();return}if(i?.ctrlKey){let t="/#/bankpayment/privatesiteconfig/LinkPublicConfigId/"+this.tableRowSelected.id;window.open(t,"_blank")}else this.router.navigate(["/bankpayment/privatesiteconfig/LinkPublicConfigId",this.tableRowSelected.id])}onActionButtonNumbersList(e=this.tableRowSelected,i){if(!(e?.id?.length>0)){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorSelected();return}if(i?.ctrlKey){let t="/#/sms/main/api-number/LinkApiPathId/"+this.tableRowSelected.id;window.open(t,"_blank")}else this.router.navigate(["/sms/main/api-number/LinkApiPathId",this.tableRowSelected.id])}onActionButtonPermitionList(e=this.tableRowSelected,i){if(!(e?.id?.length>0)){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorSelected();return}this.router.navigate(["/sms/main/api-path-permission/LinkApiPathId",this.tableRowSelected.id])}onActionButtonOutBoxQueue(e=this.tableRowSelected,i){if(!(e?.id?.length>0)){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorSelected();return}if(i?.ctrlKey){let t="/#/sms/log/outbox-queue/LinkApiPathId/"+this.tableRowSelected.id;window.open(t,"_blank")}else this.router.navigate(["/sms/log/outbox-queue/LinkApiPathId",this.tableRowSelected.id])}onActionButtonCopy(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessAdd();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(An,{height:"90%",panelClass:i,enterAnimationDuration:j.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:j.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(a=>{a&&a.dialogChangedDate&&this.DataGetAll()})}onActionButtonPriceServicesList(e=this.tableRowSelected,i){if(!(e?.id?.length>0)){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorSelected();return}if(i?.ctrlKey){let t="/#/sms/main/api-path-pagination/LinkApiPathId/"+this.tableRowSelected.id;window.open(t,"_blank")}else this.router.navigate(["/sms/main/api-path-pagination/LinkApiPathId",this.tableRowSelected.id])}onActionButtonSendTest(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(a=>{this.cmsToastrService.typeErrorSelected(a)});return}this.onActionTableRowSelect(e);var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Go,{height:"90%",panelClass:i,enterAnimationDuration:j.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:j.cmsViewConfig.exitAnimationDuration,data:{linkApiPathId:this.tableRowSelected.id}}).afterClosed().subscribe(a=>{a&&a.dialogChangedDate&&this.DataGetAll()})}onActionButtonReportsRow(e=this.tableRowSelected,i){if(!(e?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}if(i?.ctrlKey){let t="/#/sms/log/api-path/LinkApiPathId/"+this.tableRowSelected.id;window.open(t,"_blank")}else this.router.navigate(["/sms/log/api-path/LinkApiPathId",this.tableRowSelected.id])}onActionButtonReload(){this.filteModelContent.sortColumn="priority",this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/sms/main/api-path-company"])}};Ea.\u0275fac=function(i){return new(i||Ea)(_(St),_($t),_(si),_(Xe),_(W),_(Oe),_(He),_(Ce),_(G),_(O),_(Ae),_(je),_(U),_(Se))},Ea.\u0275cmp=N({type:Ea,selectors:[["app-sms-apipath-list"]],standalone:!1,features:[X],decls:129,vars:62,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],[3,"optionChange"],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-receipt","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-dollar","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-route","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-phone","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-list","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-universal-access","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-list-ol","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","","cdkDropList","",3,"matSortChange","cdkDropListDropped","dataSource","cdkDropListData"],["matColumnDef","linkMainImageIdSrc"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","id"],["matColumnDef","recordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","title"],["matColumnDef","LinkApiPathCompanyId"],["matColumnDef","LinkPublicConfigId"],["matColumnDef","updatedDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],["matColumnDef","position"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild","cdkDrag","",3,"ntk-row-selected","cdkDragData","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-copy","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-paper-plane-top","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-file-chart-column","font-18",2,"color","#ffffff"],["mat-sort-header",""],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"ngClass"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],["cdkDragHandle","",2,"pointer-events","all"],["cdkDrag","",1,"ntk-row-mainfild",3,"click","rtclick","cdkDragData"],["class","ntk-row-placeholder",4,"cdkDragPlaceholder"],[1,"ntk-row-placeholder"]],template:function(i,t){if(i&1){let a=A();r(0,"app-cms-html-list",3),P("optionActionGuideNoticeDisplayChange",function(c){return u(a),T(t.viewGuideNotice,c)||(t.viewGuideNotice=c),f(c)}),I("optionOnActionButtonMemoRow",function(){return u(a),f(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return u(a),f(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return u(a),f(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return u(a),f(t.onActionButtonPrintRow())}),R(1,4),r(2,"app-sms-apipathcompany-tree",5),I("optionChange",function(c){return u(a),f(t.onActionSelectorSelect(c))}),s(),x(),ze(3,6)(4,7),R(5,8),b(6,ab,2,0,"a",9),r(7,"a",10),I("click",function(){return u(a),f(t.viewGuideNotice=!t.viewGuideNotice)}),g(8,"i",11),s(),r(9,"a",10),I("click",function(){return u(a),f(t.onActionButtonReload())}),g(10,"i",12),s(),x(),R(11,13),r(12,"a",14),I("click",function(){return u(a),f(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),g(13,"mat-slide-toggle",15),d(14),S(15,"translate"),s(),r(16,"a",14),I("click",function(){return u(a),f(t.onActionButtonStatist())}),g(17,"mat-slide-toggle",15),d(18),S(19,"translate"),s(),x(),R(20,16),b(21,rb,7,3,"div",17),x(),R(22,18),b(23,sb,7,3,"div",17),b(24,lb,7,3,"div",17),r(25,"div",17)(26,"a",19),I("click",function(){return u(a),f(t.onActionButtonSendTest(t.tableRowSelected))}),r(27,"mat-icon"),d(28,"payment"),s()(),r(29,"p",20),d(30),S(31,"translate"),s()(),r(32,"div",17)(33,"a",19),I("click",function(c){return u(a),f(t.onActionButtonSendMessage(t.tableRowSelected,c))}),g(34,"i",21)(35,"br"),s(),r(36,"p",20),d(37),S(38,"translate"),s()(),r(39,"div",17)(40,"a",22),I("click",function(){return u(a),f(t.onActionButtonGetBalance(t.tableRowSelected))}),g(41,"i",23)(42,"br"),s(),r(43,"p",20),d(44),S(45,"translate"),s()(),r(46,"div",17)(47,"a",19),I("click",function(c){return u(a),f(t.onActionButtonSupersedesList(t.tableRowSelected,c))}),g(48,"i",24)(49,"br"),s(),r(50,"p",20),d(51),S(52,"translate"),s()(),r(53,"div",17)(54,"a",19),I("click",function(c){return u(a),f(t.onActionButtonMustSupersedesList(t.tableRowSelected,c))}),g(55,"i",24)(56,"br"),s(),r(57,"p",20),d(58),S(59,"translate"),s()(),r(60,"div",17)(61,"a",19),I("click",function(c){return u(a),f(t.onActionButtonNumbersList(t.tableRowSelected,c))}),g(62,"i",25)(63,"br"),s(),r(64,"p",20),d(65),S(66,"translate"),s()(),r(67,"div",17)(68,"a",19),I("click",function(c){return u(a),f(t.onActionButtonPriceServicesList(t.tableRowSelected,c))}),g(69,"i",26)(70,"br"),s(),r(71,"p",20),d(72),S(73,"translate"),s()(),r(74,"div",17)(75,"a",19),I("click",function(c){return u(a),f(t.onActionButtonPermitionList(t.tableRowSelected,c))}),g(76,"i",27)(77,"br"),s(),r(78,"p",20),d(79),S(80,"translate"),s()(),r(81,"div",17)(82,"a",19),I("click",function(c){return u(a),f(t.onActionButtonOutBoxQueue(t.tableRowSelected,c))}),g(83,"i",28)(84,"br"),s(),r(85,"p",20),d(86),S(87,"translate"),s()(),b(88,cb,7,3,"div",17),b(89,db,7,3,"div",17),b(90,mb,7,3,"div",17),x(),R(91,29),r(92,"app-cms-search-list",30),P("optionsChange",function(c){return u(a),T(t.optionsSearch,c)||(t.optionsSearch=c),f(c)}),s(),r(93,"app-cms-statist-list",30),P("optionsChange",function(c){return u(a),T(t.optionsStatist,c)||(t.optionsStatist=c),f(c)}),s(),x(),R(94,31),r(95,"mat-table",32,0),I("matSortChange",function(){u(a);let c=D(96);return f(t.onTableSortData(c))})("cdkDropListDropped",function(c){return u(a),f(t.onTableDropRow(c))}),R(97,33),L(98,pb,3,3,"mat-header-cell",34)(99,fb,2,1,"mat-cell",35),x(),R(100,36),L(101,hb,2,1,"mat-header-cell",34)(102,Sb,2,1,"mat-cell",35),x(),R(103,37),L(104,Cb,2,1,"mat-header-cell",34)(105,gb,4,6,"mat-cell",38),x(),R(106,39),L(107,Mb,2,1,"mat-header-cell",34)(108,_b,2,1,"mat-cell",35),x(),R(109,40),L(110,bb,2,1,"mat-header-cell",34)(111,vb,3,4,"mat-cell",35),x(),R(112,41),L(113,Ib,2,1,"mat-header-cell",34)(114,Ab,3,4,"mat-cell",35),x(),R(115,42),L(116,Eb,2,1,"mat-header-cell",34)(117,yb,3,3,"mat-cell",35),x(),R(118,43),L(119,wb,3,3,"mat-header-cell",44)(120,Tb,6,1,"mat-cell",45),x(),R(121,46),L(122,Pb,2,0,"mat-header-cell",34)(123,Rb,3,0,"mat-cell",35),x(),L(124,xb,1,0,"mat-header-row",47)(125,kb,2,3,"mat-row",48),s(),x(),R(126,49),r(127,"mat-paginator",50,1),I("page",function(c){return u(a),f(t.onTablePageingData(c))}),s(),x(),s()}i&2&&(h("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),w("optionActionGuideNoticeDisplay",t.viewGuideNotice),h("optionTreeDisplay",!t.requestLinkCompanyId||t.requestLinkCompanyId.length===0)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.title),o(6),v((t.requestLinkCompanyId==null?null:t.requestLinkCompanyId.length)>0?6:-1),o(4),B("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(3),h("checked",t.optionsSearch.data.show),o(),M("",C(15,39,"ACTION.SEARCH")," "),o(3),h("checked",t.optionsStatist.data.show),o(),M("",C(19,41,"ACTION.STATIST")," "),o(3),v(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessAddRow?21:-1),o(2),v(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?23:-1),o(),v(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?24:-1),o(6),M(" ",C(31,43,"ACTION.SEND_TEST")," "),o(7),M(" ",C(38,45,"ACTION.SEND_MESSAGE")," "),o(7),M(" ",C(45,47,"ACTION.GET_BALANCE")," "),o(7),M(" ",C(52,49,"ACTION.BACKUP_ROUTES")," "),o(7),M(" ",C(59,51,"ACTION.SUPPORTED_ROUTES")," "),o(7),M(" ",C(66,53,"ACTION.SPECIFIC_NUMBERS")," "),o(7),M(" ",C(73,55,"ACTION.PRICE_LIST")," "),o(7),M(" ",C(80,57,"ACTION.ACEESS")," "),o(7),M(" ",C(87,59,"ACTION.QUEUE")," "),o(2),v(t.categoryModelSelected&&t.categoryModelSelected.id.length>0?88:-1),o(),v(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessWatchRow&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0?89:-1),o(),v(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessWatchRow&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0?90:-1),o(2),w("options",t.optionsSearch),o(),w("options",t.optionsStatist),o(2),h("dataSource",t.tableSource)("cdkDropListData",t.tableSource),o(29),h("matHeaderRowDef",t.tabledisplayedColumns),o(),h("matRowDefColumns",t.tabledisplayedColumns),o(2),h("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",xe(61,ob)))},dependencies:[Ge,ct,Ze,Wt,Ut,Ie,at,$e,At,Et,wt,xt,Tt,yt,Dt,Pt,Rt,kt,Lt,We,Ue,Vt,rt,Ja,Ya,Xa,Za,Ar,H,Yi,dt,st,qe,ii],encapsulation:2});var xn=Ea;var Lb=["vform"];function Vb(n,l){if(n&1){let e=A();r(0,"div",5)(1,"label",9),d(2),s(),r(3,"input",10,0),P("ngModelChange",function(t){u(e);let a=m();return T(a.dataModelResultCategory.item.title,t)||(a.dataModelResultCategory.item.title=t),f(t)}),s()(),r(5,"div",5)(6,"label",6),d(7),s(),r(8,"textarea",7,0),P("ngModelChange",function(t){u(e);let a=m();return T(a.dataModelResultCategory.item.description,t)||(a.dataModelResultCategory.item.description=t),f(t)}),d(10,"              "),s()()}if(n&2){let e=m();o(2),y(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),o(),w("ngModel",e.dataModelResultCategory.item.title),o(4),y(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),o(),w("ngModel",e.dataModelResultCategory.item.description)}}function Nb(n,l){if(n&1){let e=A();r(0,"div",8)(1,"button",11),I("click",function(){u(e);let t=m();return f(t.onFormMove())}),g(2,"i",12),d(3),S(4,"translate"),s(),r(5,"button",13),I("click",function(){u(e);let t=m();return f(t.onFormDelete())}),g(6,"i",14),d(7),S(8,"translate"),s(),r(9,"button",15),I("click",function(){u(e);let t=m();return f(t.onFormCancel())}),g(10,"i",12),d(11),S(12,"translate"),s()()}if(n&2){let e=m();o(),h("disabled",!e.formInfo.submitButtonEnabled),o(2),M(" ",C(4,5,"TITLE.MOVE_DATA")," "),o(2),h("disabled",!e.formInfo.submitButtonEnabled),o(2),M(" ",C(8,7,"ACTION.DELETE")," "),o(4),M(" ",C(12,9,"ACTION.CANCEL")," ")}}var ya=class ya{constructor(l,e,i,t,a,p,c){this.data=l;this.dialogRef=e;this.publicHelper=i;this.smsMainMessageCategoryService=t;this.cdr=a;this.translate=p;this.cmsToastrService=c;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.dataModelResultCategory=new q;this.dataModelResultCategoryAllData=new q;this.dataModel={};this.formInfo=new rr;this.publicHelper.processService.cdr=this.cdr,l&&l.id&&l.id.length>0&&(this.requestId=l.id)}ngOnInit(){if(this.requestId.length==0){this.cmsToastrService.typeErrorDeleteRowIsNull(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOne(),this.DataGetAll()}DataGetOne(){if(this.requestId.length===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.translate.get("TITLE.Loading_Information").subscribe(e=>{this.formInfo.submitResultMessage=e});let l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(l,e,this.constructorInfoAreaId)}),this.smsMainMessageCategoryService.setAccessLoad(),this.smsMainMessageCategoryService.setAccessDataType(nt.Editor),this.smsMainMessageCategoryService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModelResultCategory=e,e.isSuccess?this.formInfo.submitResultMessage="":(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.formInfo.submitResultMessageType=FormSubmitedStatusEnum.Success,this.cmsToastrService.typeErrorGetOne()),this.publicHelper.processService.processStop(l)},error:e=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessageType=FormSubmitedStatusEnum.Success,this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(l,!1)}})}DataGetAll(){this.translate.get("TITLE.Loading_Information").subscribe(i=>{this.formInfo.submitResultMessage=i});let l=new Y;l.rowPerPage=100;let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.smsMainMessageCategoryService.ServiceGetAll(l).subscribe({next:i=>{this.dataModelResultCategoryAllData=i,i.isSuccess?this.formInfo.submitResultMessage="":(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=FormSubmitedStatusEnum.Success,this.cmsToastrService.typeErrorGetAll()),this.publicHelper.processService.processStop(e)},error:i=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessageType=FormSubmitedStatusEnum.Success,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormMove(){if(this.requestId.length===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}if(!this.formGroup.valid)return;this.formInfo.submitButtonEnabled=!0,this.dataModel.newCatId===this.requestId&&(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.translate.get("ERRORMESSAGE.MESSAGE.The_delete_category_ID_is_the_same_as_the_alternate_category").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitButtonEnabled=!0),this.formInfo.submitButtonEnabled=!1;let l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(l,e,this.constructorInfoAreaId)}),this.smsMainMessageCategoryService.ServiceMove(this.requestId,this.dataModel.newCatId).subscribe({next:e=>{e.isSuccess?(this.translate.get("MESSAGE.The_Transfer_Was_Successful").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.cmsToastrService.typeSuccessMove()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.cmsToastrService.typeErrorMove()),this.formInfo.submitButtonEnabled=!0,this.formInfo.submitButtonEnabled=!0,this.publicHelper.processService.processStop(l)},error:e=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.cmsToastrService.typeError(e),this.formInfo.submitButtonEnabled=!0,this.formInfo.submitButtonEnabled=!0,this.publicHelper.processService.processStop(l)}})}onFormDelete(){if(this.requestId.length===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.formInfo.submitButtonEnabled=!1,this.formInfo.submitButtonEnabled=!1;let l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(l,e,this.constructorInfoAreaId)}),this.smsMainMessageCategoryService.ServiceDelete(this.requestId).subscribe({next:e=>{this.formInfo.submitButtonEnabled=!e.isSuccess,e.isSuccess?(this.translate.get("MESSAGE.Deletion_Was_Successful").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.cmsToastrService.typeSuccessRemove(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.cmsToastrService.typeErrorRemove()),this.formInfo.submitButtonEnabled=!0,this.publicHelper.processService.processStop(l)},error:e=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(e),this.formInfo.submitButtonEnabled=!0,this.publicHelper.processService.processStop(l)}})}onFormChangeNewCatId(l){if(this.formInfo.submitResultMessage="",this.requestId.length===0||!l||l.id.length<=0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.dataModel.newCatId=l.id,this.dataModel.newCatId===this.requestId?(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.translate.get("ERRORMESSAGE.MESSAGE.The_delete_category_ID_is_the_same_as_the_alternate_category").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitButtonEnabled=!1):(this.formInfo.submitButtonEnabled=!0,this.formInfo.submitResultMessage="")}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};ya.\u0275fac=function(e){return new(e||ya)(_(ve),_(be),_(U),_(Ni),_(G),_(O),_(W))},ya.\u0275cmp=N({type:ya,selectors:[["app-sms-main-message-category-delete"]],viewQuery:function(e,i){if(e&1&&ee(Lb,5),e&2){let t;te(t=ie())&&(i.formGroup=t.first)}},standalone:!1,decls:16,vars:9,consts:[["Title",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModelResultCategory.item.description",1,"color-highlight"],["matInput","","type","text","name","dataModelResultCategory.item.description","minlength","1","maxlength","100","rows","5","id","dataModelResultCategory.item.description","placeholder","0",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[1,"form-actions"],["for","dataModelResultCategory.item.title",1,"color-highlight"],["matInput","","type","text","name","dataModelResultCategory.item.title","minlength","3","maxlength","50","id","dataModelResultCategory.item.title","placeholder","0",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click","disabled"],[1,"ft-x"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click","disabled"],[1,"fa","fa-check-square-o"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"]],template:function(e,i){if(e&1){let t=A();r(0,"div",1),g(1,"app-progress-spinner",2),r(2,"div",3)(3,"p",4),d(4),s(),r(5,"p"),d(6),S(7,"translate"),s(),b(8,Vb,11,4),r(9,"div",5)(10,"label",6),d(11),s(),r(12,"textarea",7,0),P("ngModelChange",function(p){return u(t),T(i.dataModelResultCategory.item.description,p)||(i.dataModelResultCategory.item.description=p),f(p)}),d(14,"              "),s()(),b(15,Nb,13,11,"div",8),s()()}e&2&&(o(),h("optionsInfoAreaId",i.constructorInfoAreaId),o(3),M(" ",i.formInfo.formTitle," "),o(2),M(" ",C(7,7,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),v(i.dataModelResultCategory!=null&&i.dataModelResultCategory.item?8:-1),o(3),y(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle),o(),w("ngModel",i.dataModelResultCategory.item.description),o(3),v(i.formInfo.submitButtonEnabled?15:-1))},dependencies:[ne,oe,Be,Fe,he,J,K,H],encapsulation:2});var Er=ya;var Bb=["vform"];function Fb(n,l){if(n&1){let e=A();r(0,"app-cms-enum-record-status-selector",21),P("modelChange",function(t){u(e);let a=m();return T(a.dataModel.recordStatus,t)||(a.dataModel.recordStatus=t),f(t)}),s()}if(n&2){let e=m();w("model",e.dataModel.recordStatus),h("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Ob(n,l){n&1&&g(0,"i",24)}function Gb(n,l){n&1&&g(0,"i",25)}function Hb(n,l){n&1&&(r(0,"mat-error"),d(1," Title is "),r(2,"strong"),d(3),S(4,"translate"),s()()),n&2&&(o(3),y(C(4,1,"MESSAGE.required")))}function Wb(n,l){if(n&1){let e=A();r(0,"div",11)(1,"label",22),d(2),s(),r(3,"input",23,3),P("ngModelChange",function(t){u(e);let a=m();return T(a.dataModel.title,t)||(a.dataModel.title=t),f(t)}),s(),b(5,Ob,1,0,"i",24),b(6,Gb,1,0,"i",25),r(7,"em"),d(8),s(),b(9,Hb,5,3,"mat-error"),s()}if(n&2){let e=D(4),i=m();o(2),y(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(),h("placeholder",k(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle)),w("ngModel",i.dataModel.title),o(2),v(e.value?-1:5),o(),v(e.value?6:-1),o(2),M("",e.value.length," / 100"),o(),v(e.errors!=null&&e.errors.required?9:-1)}}function Ub(n,l){n&1&&(r(0,"mat-error"),d(1," Description is "),r(2,"strong"),d(3),S(4,"translate"),s()()),n&2&&(o(3),y(C(4,1,"MESSAGE.required")))}function qb(n,l){if(n&1&&(g(0,"img",16),S(1,"cmsthumbnail")),n&2){let e=m();h("src",k(C(1,2,e.dataModel.linkMainImageIdSrc)),we)}}function jb(n,l){if(n&1){let e=A();r(0,"div",20)(1,"button",26),I("click",function(){u(e);let t=m();return f(t.onFormCancel())}),g(2,"i",27),d(3),S(4,"translate"),s(),r(5,"button",28),g(6,"i",29),d(7),S(8,"translate"),s()()}if(n&2){m();let e=D(10);o(3),M(" ",C(4,3,"ACTION.CANCEL")," "),o(2),h("disabled",!e.form.valid),o(2),M(" ",C(8,5,"ACTION.SAVE")," ")}}var wa=class wa extends gt{constructor(e,i,t,a,p,c,E,F){super(a,new ai,c,F);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.smsMainMessageCategoryService=a;this.cmsToastrService=p;this.publicHelper=c;this.cdr=E;this.translate=F;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new ft;this.dataModel=new ai;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,e&&e.id&&e.id.length>0&&(this.requestId=e.id),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}onActionFileSelected(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}ngOnInit(){if(this.requestId.length>0)this.translate.get("TITLE.Edit_Categories").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}}DataGetOneContent(){if(this.requestId.length==0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.smsMainMessageCategoryService.setAccessLoad(),this.smsMainMessageCategoryService.setAccessDataType(nt.Editor),this.smsMainMessageCategoryService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.smsMainMessageCategoryService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success}),this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};wa.\u0275fac=function(i){return new(i||wa)(_(ve),_(be),_(Re),_(Ni),_(W),_(U),_(G),_(O))},wa.\u0275cmp=N({type:wa,selectors:[["app-sms-main-message-category-edit"]],viewQuery:function(i,t){if(i&1&&ee(Bb,5),i&2){let a;te(a=ie())&&(t.formGroup=a.first)}},standalone:!1,features:[X],decls:34,vars:36,consts:[["vform","ngForm"],["Description",""],["LinkMainImageId",""],["Title",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"mb-3"],["target","_blank",3,"href"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],[1,"form-actions"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let a=A();r(0,"div",4),g(1,"app-progress-spinner",5),r(2,"div",6)(3,"p",7),d(4),s(),r(5,"p"),d(6),S(7,"translate"),s(),g(8,"app-cms-form-result-message",8),r(9,"form",9,0),I("ngSubmit",function(){return u(a),f(t.onFormSubmit())}),b(11,Fb,1,5,"app-cms-enum-record-status-selector",10),b(12,Wb,10,8,"div",11),r(13,"div",11)(14,"label",12),d(15),s(),r(16,"textarea",13,1),P("ngModelChange",function(c){return u(a),T(t.dataModel.description,c)||(t.dataModel.description=c),f(c)}),s(),r(18,"em"),d(19),s(),b(20,Ub,5,3,"mat-error"),s(),r(21,"div",14)(22,"a",15),S(23,"cmsthumbnail"),b(24,qb,2,4,"img",16),s()(),r(25,"div",11)(26,"label",17),I("click",function(){return u(a),f(t.fileManagerOpenForm=!0)}),d(27),S(28,"translate"),s(),r(29,"input",18,2),S(31,"translate"),P("ngModelChange",function(c){return u(a),T(t.dataModel.linkMainImageId,c)||(t.dataModel.linkMainImageId=c),f(c)}),I("click",function(){return u(a),f(t.fileManagerOpenForm=!0)}),s(),r(32,"cms-file-manager",19),I("itemSelected",function(c){return u(a),f(t.onActionFileSelected(c))}),P("openFormChange",function(c){return u(a),T(t.fileManagerOpenForm,c)||(t.fileManagerOpenForm=c),f(c)}),s()(),b(33,jb,9,7,"div",20),s()()()}if(i&2){let a=D(17);o(),h("optionsInfoAreaId",t.constructorInfoAreaId),o(3),M(" ",t.formInfo.formTitle," "),o(2),M(" ",C(7,28,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),h("formInfo",t.formInfo),o(3),v(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?11:-1),o(),v(t.fieldsInfo.title!=null&&t.fieldsInfo.title.accessWatchField?12:-1),o(3),y(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),h("placeholder",k(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),w("ngModel",t.dataModel.description),o(3),M("",a.value.length," / 500"),o(),v(a.errors!=null&&a.errors.required?20:-1),o(2),h("href",k(C(23,30,t.dataModel.linkMainImageIdSrc)),we),o(2),v((t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0?24:-1),o(3),y(C(28,32,"TITLE.Icon_File")),o(2),h("placeholder",k(C(31,34,"TITLE.Original_File_ID"))),w("ngModel",t.dataModel.linkMainImageId),o(3),h("language",t.appLanguage)("isPopup",!0),w("openForm",t.fileManagerOpenForm),h("tree",t.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",t.selectFileTypeMainImage)("openFilemanagerButtonView",!1),o(),v(t.formInfo.submitButtonEnabled?33:-1)}},dependencies:[_e,ne,oe,ge,fe,Be,Fe,he,Me,Le,J,Te,K,Ee,Bi,H,dt],encapsulation:2});var yr=wa;var Qb=["vform"];function zb(n,l){if(n&1){let e=A();r(0,"app-cms-enum-record-status-selector",21),P("modelChange",function(t){u(e);let a=m();return T(a.dataModel.recordStatus,t)||(a.dataModel.recordStatus=t),f(t)}),s()}if(n&2){let e=m();w("model",e.dataModel.recordStatus),h("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Kb(n,l){n&1&&g(0,"i",24)}function Xb(n,l){n&1&&g(0,"i",25)}function Yb(n,l){n&1&&(r(0,"mat-error"),d(1," Title is "),r(2,"strong"),d(3),S(4,"translate"),s()()),n&2&&(o(3),y(C(4,1,"MESSAGE.required")))}function Jb(n,l){if(n&1){let e=A();r(0,"div",11)(1,"label",22),d(2),s(),r(3,"input",23,3),P("ngModelChange",function(t){u(e);let a=m();return T(a.dataModel.title,t)||(a.dataModel.title=t),f(t)}),s(),b(5,Kb,1,0,"i",24),b(6,Xb,1,0,"i",25),r(7,"em"),d(8),s(),b(9,Yb,5,3,"mat-error"),s()}if(n&2){let e=D(4),i=m();o(2),y(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(),h("placeholder",k(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle)),w("ngModel",i.dataModel.title),o(2),v(e.value?-1:5),o(),v(e.value?6:-1),o(2),M("",e.value.length," / 100"),o(),v(e.errors!=null&&e.errors.required?9:-1)}}function Zb(n,l){n&1&&(r(0,"mat-error"),d(1," Description is "),r(2,"strong"),d(3),S(4,"translate"),s()()),n&2&&(o(3),y(C(4,1,"MESSAGE.required")))}function $b(n,l){if(n&1&&(g(0,"img",16),S(1,"cmsthumbnail")),n&2){let e=m();h("src",k(C(1,2,e.dataModel.linkMainImageIdSrc)),we)}}function ev(n,l){if(n&1){let e=A();r(0,"div",20)(1,"button",26),I("click",function(){u(e);let t=m();return f(t.onFormCancel())}),g(2,"i",27),d(3),S(4,"translate"),s(),r(5,"button",28),g(6,"i",29),d(7),S(8,"translate"),s()()}if(n&2){m();let e=D(10);o(3),M(" ",C(4,3,"ACTION.CANCEL")," "),o(2),h("disabled",!e.form.valid),o(2),M(" ",C(8,5,"ACTION.SAVE")," ")}}var Ta=class Ta extends Ct{constructor(e,i,t,a,p,c,E,F){super(a,new ai,c,F);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.smsMainMessageCategoryService=a;this.cmsToastrService=p;this.publicHelper=c;this.cdr=E;this.translate=F;this.requestParentId="";this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new q;this.dataModel=new ai;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,e&&e.parentId&&e.parentId.length>0&&(this.requestParentId=e.parentId),this.requestParentId.length>0&&(this.dataModel.linkParentId=this.requestParentId),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}onActionFileSelected(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}ngOnInit(){this.translate.get("TITLE.Register_New_Categories").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess()}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.smsMainMessageCategoryService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success}),this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Ta.\u0275fac=function(i){return new(i||Ta)(_(ve),_(be),_(Re),_(Ni),_(W),_(U),_(G),_(O))},Ta.\u0275cmp=N({type:Ta,selectors:[["app-sms-main-message-category-add"]],viewQuery:function(i,t){if(i&1&&ee(Qb,5),i&2){let a;te(a=ie())&&(t.formGroup=a.first)}},standalone:!1,features:[X],decls:34,vars:36,consts:[["vform","ngForm"],["Description",""],["LinkMainImageId",""],["Title",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"mb-3"],["target","_blank",3,"href"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],[1,"form-actions"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let a=A();r(0,"div",4),g(1,"app-progress-spinner",5),r(2,"div",6)(3,"p",7),d(4),s(),r(5,"p"),d(6),S(7,"translate"),s(),g(8,"app-cms-form-result-message",8),r(9,"form",9,0),I("ngSubmit",function(){return u(a),f(t.onFormSubmit())}),b(11,zb,1,5,"app-cms-enum-record-status-selector",10),b(12,Jb,10,8,"div",11),r(13,"div",11)(14,"label",12),d(15),s(),r(16,"textarea",13,1),P("ngModelChange",function(c){return u(a),T(t.dataModel.description,c)||(t.dataModel.description=c),f(c)}),s(),r(18,"em"),d(19),s(),b(20,Zb,5,3,"mat-error"),s(),r(21,"div",14)(22,"a",15),S(23,"cmsthumbnail"),b(24,$b,2,4,"img",16),s()(),r(25,"div",11)(26,"label",17),I("click",function(){return u(a),f(t.fileManagerOpenForm=!0)}),d(27),S(28,"translate"),s(),r(29,"input",18,2),S(31,"translate"),P("ngModelChange",function(c){return u(a),T(t.dataModel.linkMainImageId,c)||(t.dataModel.linkMainImageId=c),f(c)}),I("click",function(){return u(a),f(t.fileManagerOpenForm=!0)}),s(),r(32,"cms-file-manager",19),I("itemSelected",function(c){return u(a),f(t.onActionFileSelected(c))}),P("openFormChange",function(c){return u(a),T(t.fileManagerOpenForm,c)||(t.fileManagerOpenForm=c),f(c)}),s()(),b(33,ev,9,7,"div",20),s()()()}if(i&2){let a=D(17);o(),h("optionsInfoAreaId",t.constructorInfoAreaId),o(3),M(" ",t.formInfo.formTitle," "),o(2),M(" ",C(7,28,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),h("formInfo",t.formInfo),o(3),v(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?11:-1),o(),v(t.fieldsInfo.title!=null&&t.fieldsInfo.title.accessWatchField?12:-1),o(3),y(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),h("placeholder",k(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),w("ngModel",t.dataModel.description),o(3),M("",a.value.length," / 500"),o(),v(a.errors!=null&&a.errors.required?20:-1),o(2),h("href",k(C(23,30,t.dataModel.linkMainImageIdSrc)),we),o(2),v((t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0?24:-1),o(3),y(C(28,32,"TITLE.Icon_File")),o(2),h("placeholder",k(C(31,34,"TITLE.Original_File_ID"))),w("ngModel",t.dataModel.linkMainImageId),o(3),h("language",t.appLanguage)("isPopup",!0),w("openForm",t.fileManagerOpenForm),h("tree",t.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",t.selectFileTypeMainImage)("openFilemanagerButtonView",!1),o(),v(t.formInfo.submitButtonEnabled?33:-1)}},dependencies:[_e,ne,oe,ge,fe,Be,Fe,he,Me,Le,J,Te,K,Ee,Bi,H,dt],encapsulation:2});var wr=Ta;function tv(n,l){if(n&1){let e=A();r(0,"button",14),I("click",function(){u(e);let t=m();return f(t.onActionAdd())}),d(1),S(2,"translate"),s()}n&2&&(o(),M(" ",C(2,1,"ACTION.ADD")," "))}function iv(n,l){if(n&1){let e=A();r(0,"button",15),I("click",function(){u(e);let t=m();return f(t.onActionEdit())}),d(1),S(2,"translate"),s()}n&2&&(o(),M(" ",C(2,1,"ACTION.EDIT")," "))}function nv(n,l){if(n&1){let e=A();r(0,"button",16),I("click",function(){u(e);let t=m();return f(t.onActionDelete())}),d(1),S(2,"translate"),s()}n&2&&(o(),M(" ",C(2,1,"ACTION.DELETE")," "))}function ov(n,l){if(n&1){let e=A();r(0,"button",17),I("click",function(){u(e);let t=m();return f(t.onActionButtonReload())}),r(1,"mat-icon",18),S(2,"translate"),d(3,"refresh"),s()()}if(n&2){let e=m();o(),B("rotation360",e.publicHelper.processService.process.inRunArea[e.constructorInfoAreaId]),h("title",k(C(2,4,"ACTION.RELOAD")))}}function av(n,l){if(n&1){let e=A();r(0,"mat-tree-node",19),g(1,"button",20),r(2,"span",21),I("click",function(){let t=u(e).$implicit,a=m();return f(a.onActionSelect(t))}),d(3),s()()}if(n&2){let e=l.$implicit,i=m();B("ntk-tree-selected",(i.dataModelSelect==null||i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0&&(i.dataModelSelect==null?null:i.dataModelSelect.id)===e.id),o(3),y(e.title)}}function rv(n,l){if(n&1){let e=A();r(0,"mat-tree-node",22)(1,"button",23)(2,"mat-icon",24),d(3),s()(),r(4,"span",21),I("click",function(){let t=u(e).$implicit,a=m();return f(a.onActionSelect(t))}),d(5),s()()}if(n&2){let e=l.$implicit,i=m(),t=D(12);B("ntk-tree-selected",(i.dataModelSelect==null||i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0&&(i.dataModelSelect==null?null:i.dataModelSelect.id)===e.id),h("cdkTreeNodeTypeaheadLabel",e.title)("isExpanded",e.isExpanded??!1),o(),se("type","button")("aria-label","Toggle "+e.title),o(2),M(" ",t.isExpanded(e)?"expand_more":"chevron_right"," "),o(2),y(e.title)}}var Pa=class Pa{constructor(l,e,i,t,a,p,c,E,F){this.cmsToastrService=l;this.coreEnumService=e;this.categoryService=i;this.dialog=t;this.cdr=a;this.publicHelper=p;this.tokenHelper=c;this.cmsStoreService=E;this.translate=F;this.constructorInfoAreaId=this.constructor.name;this.dataModelSelect=new ai;this.dataModelResult=new q;this.filterModel=new Y;this.dataSource=new Yn;this.optionChange=new ot;this.unsubscribe=[];this.optionReload=()=>this.onActionButtonReload();this.hasChild=(l,e)=>!!e.children&&e.children.length>0;this.childrenAccessor=l=>l.children??[];this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(l){this.onActionSelectForce(l)}ngOnInit(){this.unsubscribe.push(this.cmsStoreService.getState(l=>l.tokenInfoStore).subscribe(()=>ae(this,null,function*(){this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(l=>l.unsubscribe())}DataGetAll(){this.filterModel.rowPerPage=200,this.filterModel.accessLoad=!0;let l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(l,e,this.constructorInfoAreaId)}),this.categoryService.ServiceGetAll(this.filterModel).subscribe({next:e=>{e.isSuccess?(this.dataModelResult=e,this.dataSource.data=this.dataModelResult.listItems):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(l)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(l,!1)}})}onActionSelect(l){l&&this.dataModelSelect&&l.id==this.dataModelSelect.id?(this.dataModelSelect=null,this.optionChange.emit(null)):(this.dataModelSelect=l,this.optionChange.emit(this.dataModelSelect))}onActionButtonReload(){this.onActionSelect(null),this.dataModelSelect=new ai,this.DataGetAll()}onActionSelectForce(l){}onActionAdd(){let l="";this.dataModelSelect&&this.dataModelSelect.id?.length>0&&(l=this.dataModelSelect.id);let e=new Da;e.disableClose=!0,e.autoFocus=!0,e.data={parentId:l},this.dialog.open(wr,e).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionEdit(){let l="";if(this.dataModelSelect&&this.dataModelSelect.id.length>0&&(l=this.dataModelSelect.id),l.length===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorCategoryNotSelected").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(yr,{height:"90%",panelClass:e,enterAnimationDuration:j.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:j.cmsViewConfig.exitAnimationDuration,data:{id:l}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionDelete(){let l="";if(this.dataModelSelect&&this.dataModelSelect.id.length>0&&(l=this.dataModelSelect.id),l.length===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorCategoryNotSelected").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(Er,{height:"90%",panelClass:e,enterAnimationDuration:j.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:j.cmsViewConfig.exitAnimationDuration,data:{id:l}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}};Pa.\u0275fac=function(e){return new(e||Pa)(_(W),_(Re),_(Ni),_(Se),_(G),_(U),_(Ce),_(Ae),_(O))},Pa.\u0275cmp=N({type:Pa,selectors:[["app-sms-main-message-category-tree"]],inputs:{optionSelectForce:"optionSelectForce",optionReload:"optionReload"},outputs:{optionChange:"optionChange"},standalone:!1,decls:16,vars:14,consts:[["treeTagControl",""],[3,"optionHeaderDisplay","optionActionMainDisplay","optionFooterDisplay"],["cms-tree-header",""],["cms-tree-action",""],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],["cms-tree-body","",1,"loader-container"],[3,"optionsInfoAreaId"],[3,"dataSource","childrenAccessor"],["matTreeNodePadding","",3,"ntk-tree-selected",4,"matTreeNodeDef"],["matTreeNodePadding","","matTreeNodeToggle","","isExpandable","",3,"cdkTreeNodeTypeaheadLabel","isExpanded","ntk-tree-selected",4,"matTreeNodeDef","matTreeNodeDefWhen"],["cms-tree-footer",""],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[2,"font-size","20px","margin","-6px",3,"title"],["matTreeNodePadding",""],["matIconButton","","disabled",""],[3,"click"],["matTreeNodePadding","","matTreeNodeToggle","","isExpandable","",3,"cdkTreeNodeTypeaheadLabel","isExpanded"],["matIconButton","","matTreeNodeToggle",""],[1,"mat-icon-rtl-mirror"]],template:function(e,i){e&1&&(r(0,"app-cms-html-tree",1),R(1,2),d(2),S(3,"translate"),x(),R(4,3),b(5,tv,3,3,"button",4),b(6,iv,3,3,"button",5),b(7,nv,3,3,"button",6),b(8,ov,4,6,"button",7),x(),R(9,8),g(10,"app-progress-spinner",9),r(11,"mat-tree",10,0),L(13,av,4,3,"mat-tree-node",11)(14,rv,6,8,"mat-tree-node",12),s(),x(),ze(15,13),s()),e&2&&(h("optionHeaderDisplay",!0)("optionActionMainDisplay",!0)("optionFooterDisplay",!1),o(2),M(" ",C(3,12,"TABLE."+(i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.moduleEntityName))," "),o(3),v(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessAddRow?5:-1),o(),v(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessEditRow&&(i.dataModelSelect==null||i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0?6:-1),o(),v(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessDeleteRow&&(i.dataModelSelect==null||i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0?7:-1),o(),v(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessWatchRow?8:-1),o(2),h("optionsInfoAreaId",i.constructorInfoAreaId),o(),h("dataSource",i.dataSource)("childrenAccessor",i.childrenAccessor),o(3),h("matTreeNodeDefWhen",i.hasChild))},dependencies:[ct,Ze,Qn,zn,Xn,Kn,jn,K,eo,H],encapsulation:2});var Tr=Pa;var lv=()=>[5,10,20,100];function cv(n,l){if(n&1){let e=A();r(0,"div",16)(1,"a",37),I("click",function(){u(e);let t=m();return f(t.onActionButtonNewRow())}),g(2,"i",38)(3,"br"),s(),r(4,"p",39),d(5),S(6,"translate"),s()()}n&2&&(o(5),M(" ",C(6,1,"ACTION.ADD")," "))}function dv(n,l){if(n&1){let e=A();r(0,"div",16)(1,"a",40),I("click",function(){u(e);let t=m();return f(t.onActionButtonEditRow(t.tableRowSelected))}),g(2,"i",41)(3,"br"),s(),r(4,"p",39),d(5),S(6,"translate"),s()()}n&2&&(o(5),M(" ",C(6,1,"ACTION.EDIT")," "))}function mv(n,l){if(n&1){let e=A();r(0,"div",16)(1,"a",42),I("click",function(){u(e);let t=m();return f(t.onActionButtonDeleteRow(t.tableRowSelected))}),g(2,"i",43)(3,"br"),s(),r(4,"p",39),d(5),S(6,"translate"),s()()}n&2&&(o(5),M(" ",C(6,1,"ACTION.DELETE")," "))}function pv(n,l){if(n&1&&(r(0,"mat-header-cell",44),d(1),s()),n&2){let e=m();o(),M(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function uv(n,l){if(n&1&&(r(0,"mat-cell"),d(1),s()),n&2){let e=l.$implicit;o(),M(" ",e.id," ")}}function fv(n,l){if(n&1&&(r(0,"mat-header-cell",44),d(1),s()),n&2){let e=m();o(),M(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function hv(n,l){if(n&1&&(r(0,"mat-cell"),d(1),S(2,"cmssiteinfo"),S(3,"async"),s()),n&2){let e=l.$implicit;o(),M(" ",C(3,3,C(2,1,e.linkSiteId))," ")}}function Sv(n,l){if(n&1&&(r(0,"mat-header-cell",44),d(1),s()),n&2){let e=m();o(),M(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function Cv(n,l){if(n&1&&(r(0,"mat-cell"),g(1,"i",45),S(2,"statusIconClass"),s()),n&2){let e=l.$implicit;o(),h("ngClass",C(2,1,e.recordStatus))}}function gv(n,l){if(n&1&&(r(0,"mat-header-cell",44),d(1),s()),n&2){let e=m();o(),M(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," ")}}function Mv(n,l){if(n&1&&(r(0,"mat-cell"),d(1),s()),n&2){let e=l.$implicit;o(),M(" ",e.title," ")}}function _v(n,l){if(n&1&&(r(0,"mat-header-cell",44),d(1),s()),n&2){let e=m();o(),M(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function bv(n,l){if(n&1&&(r(0,"mat-cell"),d(1),S(2,"localeDate"),s()),n&2){let e=l.$implicit;o(),M(" ",C(2,1,e.createdDate)," ")}}function vv(n,l){if(n&1&&(r(0,"mat-header-cell",44),d(1),s()),n&2){let e=m();o(),M(" ",e.fieldsInfo.updatedDate==null?null:e.fieldsInfo.updatedDate.fieldTitle," ")}}function Iv(n,l){if(n&1&&(r(0,"mat-cell"),d(1),S(2,"localeDate"),s()),n&2){let e=l.$implicit;o(),M(" ",C(2,1,e.updatedDate)," ")}}function Av(n,l){n&1&&(r(0,"mat-header-cell"),d(1),S(2,"translate"),s()),n&2&&(o(),M(" ",C(2,1,"TITLE.OPTION")," "))}function Ev(n,l){if(n&1&&(r(0,"mat-cell",46)(1,"button",47)(2,"mat-icon"),d(3,"more_vert"),s()(),g(4,"mat-menu",null,2),s()),n&2){let e=D(5);o(),h("matMenuTriggerFor",e)}}function yv(n,l){n&1&&g(0,"mat-header-row")}function wv(n,l){if(n&1){let e=A();r(0,"mat-row",48),I("click",function(t){let a=u(e).$implicit,p=m();return f(p.onActionTableRowSelect(a,t))})("rtclick",function(t){let a=u(e).$implicit,p=m();return f(p.onActionTableRowSelect(a,t))}),s()}if(n&2){let e=l.$implicit,i=m();B("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var Ra=class Ra extends Qe{constructor(e,i,t,a,p,c,E,F,Ne,tt,Pe,It){super(e,new Vi,Pe,c,F);this.contentService=e;this.cmsToastrService=i;this.cmsConfirmationDialogService=t;this.router=a;this.activatedRoute=p;this.tokenHelper=c;this.cmsStoreService=E;this.translate=F;this.cdr=Ne;this.pageInfo=tt;this.publicHelper=Pe;this.dialog=It;this.requestLinkCategoryId="";this.constructorInfoAreaId=this.constructor.name;this.filteModelContent=new Y;this.filterDataModelQueryBuilder=[];this.categoryModelSelected=new ai;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["recordStatus","title","createdDate","updatedDate"];this.tabledisplayedColumnsMobileSource=["recordStatus","title","createdDate","updatedDate"];this.unsubscribe=[];if(this.publicHelper.processService.cdr=this.cdr,this.requestLinkCategoryId=this.activatedRoute.snapshot.paramMap.get("LinkCategoryId"),this.optionsSearch.parentMethods={onSubmit:z=>this.onSubmitOptionsSearch(z)},this.filteModelContent.sortColumn="id",this.filteModelContent.sortType=Q.Descending,this.requestLinkCategoryId&&this.requestLinkCategoryId.length>0){let z=new V;z.propertyName="LinkCategoryId",z.value=this.requestLinkCategoryId,this.filteModelContent.filters.push(z)}}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>ae(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}filterModelCompiler(e){let i=JSON.parse(JSON.stringify(e));return this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),i}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Vi);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=this.filterModelCompiler(this.filteModelContent);if(this.categoryModelSelected&&this.categoryModelSelected.id?.length>0){let t=new V;t.propertyName="LinkCategoryId",t.value=this.categoryModelSelected.id,i.filters.push(t)}this.contentService.setAccessLoad(),this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),t.isSuccess?(this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=Q.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=Q.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=Q.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(){let e=new Da;e.disableClose=!0,e.autoFocus=!0,e.height="90%",e.data={linkCategoryId:this.categoryModelSelected?.id},this.dialog.open(ea,e).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}let i=new Da;i.disableClose=!0,i.autoFocus=!0,i.height="90%",i.data={id:this.tableRowSelected.id},this.dialog.open(ia,i).afterClosed().subscribe(a=>{a&&a.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(a=>{this.cmsToastrService.typeErrorSelected(a)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(a=>{i=a["MESSAGE.Please_Confirm"],t=a["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(a=>{if(a){let p=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(p,c,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(p)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(p,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(E=>{i.set(E,0)}),this.translate.get("MESSAGE.All").subscribe(E=>{i.set(E,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(E=>{this.publicHelper.processService.processStart(t,E,this.constructorInfoAreaId)});let a=this.filterModelCompiler(this.filteModelContent);if(this.categoryModelSelected&&this.categoryModelSelected.id.length>0){let E=new V;E.propertyName="LinkCategoryId",E.value=this.categoryModelSelected.id,a.filters.push(E)}this.contentService.ServiceGetCount(a).subscribe({next:E=>{E.isSuccess?(this.translate.get("MESSAGE.All").subscribe(F=>{i.set(F,E.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(E.errorMessage),this.publicHelper.processService.processStop(t)},error:E=>{this.cmsToastrService.typeError(E),this.publicHelper.processService.processStop(t,!1)}});let p=this.filterModelCompiler(this.filteModelContent);if(this.categoryModelSelected&&this.categoryModelSelected.id.length>0){let E=new V;E.propertyName="LinkCategoryId",E.value=this.categoryModelSelected.id,p.filters.push(E)}let c=new V;c.propertyName="recordStatus",c.value=ke.Available,p.filters.push(c),this.contentService.ServiceGetCount(p).subscribe({next:E=>{E.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(F=>{i.set(F,E.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(E.errorMessage),this.publicHelper.processService.processStop(t)},error:E=>{this.cmsToastrService.typeError(E),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionSelectorSelect(e){var i=this.filteModelContent.sortColumn,t=this.filteModelContent.sortType;this.filteModelContent=new Y,this.filteModelContent.sortColumn=i,this.filteModelContent.sortType=t,this.categoryModelSelected=e,this.DataGetAll()}};Ra.\u0275fac=function(i){return new(i||Ra)(_(Ki),_(W),_(Oe),_(He),_(Xe),_(Ce),_(Ae),_(O),_(G),_(je),_(U),_(Se))},Ra.\u0275cmp=N({type:Ra,selectors:[["app-sms-main-message-content-list"]],standalone:!1,features:[X],decls:56,vars:30,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],[3,"optionChange"],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","linkSiteId"],["matColumnDef","recordStatus"],["matColumnDef","title"],["matColumnDef","createdDate"],["matColumnDef","updatedDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(i,t){if(i&1){let a=A();r(0,"app-cms-html-list",3),P("optionActionGuideNoticeDisplayChange",function(c){return u(a),T(t.viewGuideNotice,c)||(t.viewGuideNotice=c),f(c)}),I("optionOnActionButtonMemoRow",function(){return u(a),f(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return u(a),f(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return u(a),f(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return u(a),f(t.onActionButtonPrintRow())}),R(1,4),r(2,"app-sms-main-message-category-tree",5),I("optionChange",function(c){return u(a),f(t.onActionSelectorSelect(c))}),s(),x(),ze(3,6)(4,7),R(5,8),r(6,"a",9),I("click",function(){return u(a),f(t.viewGuideNotice=!t.viewGuideNotice)}),g(7,"i",10),s(),r(8,"a",9),I("click",function(){return u(a),f(t.onActionButtonReload())}),g(9,"i",11),s(),x(),R(10,12),r(11,"a",13),I("click",function(){return u(a),f(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),g(12,"mat-slide-toggle",14),d(13),S(14,"translate"),s(),r(15,"a",13),I("click",function(){return u(a),f(t.onActionButtonStatist())}),g(16,"mat-slide-toggle",14),d(17),S(18,"translate"),s(),x(),R(19,15),b(20,cv,7,3,"div",16),x(),R(21,17),b(22,dv,7,3,"div",16),b(23,mv,7,3,"div",16),x(),R(24,18),r(25,"app-cms-search-list",19),P("optionsChange",function(c){return u(a),T(t.optionsSearch,c)||(t.optionsSearch=c),f(c)}),s(),r(26,"app-cms-statist-list",19),P("optionsChange",function(c){return u(a),T(t.optionsStatist,c)||(t.optionsStatist=c),f(c)}),s(),x(),R(27,20),r(28,"mat-table",21,0),I("matSortChange",function(){u(a);let c=D(29);return f(t.onTableSortData(c))}),R(30,22),L(31,pv,2,1,"mat-header-cell",23)(32,uv,2,1,"mat-cell",24),x(),R(33,25),L(34,fv,2,1,"mat-header-cell",23)(35,hv,4,5,"mat-cell",24),x(),R(36,26),L(37,Sv,2,1,"mat-header-cell",23)(38,Cv,3,3,"mat-cell",24),x(),R(39,27),L(40,gv,2,1,"mat-header-cell",23)(41,Mv,2,1,"mat-cell",24),x(),R(42,28),L(43,_v,2,1,"mat-header-cell",23)(44,bv,3,3,"mat-cell",24),x(),R(45,29),L(46,vv,2,1,"mat-header-cell",23)(47,Iv,3,3,"mat-cell",24),x(),R(48,30),L(49,Av,3,3,"mat-header-cell",31)(50,Ev,6,1,"mat-cell",32),x(),L(51,yv,1,0,"mat-header-row",33)(52,wv,1,2,"mat-row",34),s(),x(),R(53,35),r(54,"mat-paginator",36,1),I("page",function(c){return u(a),f(t.onTablePageingData(c))}),s(),x(),s()}i&2&&(h("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey","sms.message.content.list"),w("optionActionGuideNoticeDisplay",t.viewGuideNotice),h("optionTreeDisplay",!t.requestLinkCategoryId||t.requestLinkCategoryId.length===0)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",(t.tableRowSelected==null||t.tableRowSelected.title==null?null:t.tableRowSelected.title.length)>0?t.tableRowSelected==null?null:t.tableRowSelected.title:t.tableRowSelected==null?null:t.tableRowSelected.id),o(9),B("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(3),h("checked",t.optionsSearch.data.show),o(),M("",C(14,25,"ACTION.SEARCH")," "),o(3),h("checked",t.optionsStatist.data.show),o(),M("",C(18,27,"ACTION.STATIST")," "),o(3),v(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessAddRow?20:-1),o(2),v(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?22:-1),o(),v(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?23:-1),o(2),w("options",t.optionsSearch),o(),w("options",t.optionsStatist),o(2),h("dataSource",t.tableSource),o(23),h("matHeaderRowDef",t.tabledisplayedColumns),o(),h("matRowDefColumns",t.tabledisplayedColumns),o(2),h("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",xe(29,lv)))},dependencies:[Ge,ct,Ze,Wt,Ut,Ie,at,$e,At,Et,wt,xt,Tt,yt,Dt,Pt,Rt,kt,Lt,We,Ue,Vt,rt,Tr,it,H,Xi,st,qe],encapsulation:2});var Pr=Ra;var Tv=()=>[5,10,20,100];function Pv(n,l){if(n&1){let e=A();r(0,"div",15)(1,"a",40),I("click",function(){u(e);let t=m();return f(t.onActionButtonNewRow())}),g(2,"i",41)(3,"br"),s(),r(4,"p",19),d(5),S(6,"translate"),s()()}n&2&&(o(5),M(" ",C(6,1,"ACTION.ADD")," "))}function Rv(n,l){if(n&1){let e=A();r(0,"div",15)(1,"a",40),I("click",function(){u(e);let t=m();return f(t.onActionButtonNewRowAuto())}),g(2,"i",41)(3,"br"),s(),r(4,"p",19),d(5),S(6,"translate"),s()()}n&2&&(o(5),M(" ",C(6,1,"ACTION.AUTOADD")," "))}function xv(n,l){if(n&1){let e=A();r(0,"div",15)(1,"a",42),I("click",function(){u(e);let t=m();return f(t.onActionButtonEditRow(t.tableRowSelected))}),g(2,"i",43)(3,"br"),s(),r(4,"p",19),d(5),S(6,"translate"),s()()}n&2&&(o(5),M(" ",C(6,1,"ACTION.EDIT")," "))}function Dv(n,l){if(n&1){let e=A();r(0,"div",15)(1,"a",44),I("click",function(){u(e);let t=m();return f(t.onActionButtonDeleteRow(t.tableRowSelected))}),g(2,"i",45)(3,"br"),s(),r(4,"p",19),d(5),S(6,"translate"),s()()}n&2&&(o(5),M(" ",C(6,1,"ACTION.DELETE")," "))}function kv(n,l){n&1&&(r(0,"mat-header-cell",46),d(1),S(2,"translate"),s()),n&2&&(o(),M(" ",C(2,1,"TITLE.PICTURE")," "))}function Lv(n,l){if(n&1&&g(0,"img",47),n&2){let e=m().$implicit;h("src",k(e.linkMainImageIdSrc),we)}}function Vv(n,l){if(n&1&&(r(0,"mat-cell"),b(1,Lv,1,2,"img",47),s()),n&2){let e=l.$implicit;o(),v((e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0?1:-1)}}function Nv(n,l){if(n&1&&(r(0,"mat-header-cell",46),d(1),s()),n&2){let e=m();o(),M(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function Bv(n,l){if(n&1&&(r(0,"mat-cell"),d(1),s()),n&2){let e=l.$implicit;o(),M(" ",e.id," ")}}function Fv(n,l){if(n&1&&(r(0,"mat-header-cell",46),d(1),s()),n&2){let e=m();o(),M(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function Ov(n,l){if(n&1&&(r(0,"mat-cell",48),S(1,"statusCellClass"),g(2,"i",48),S(3,"statusIconClass"),s()),n&2){let e=l.$implicit;h("ngClass",C(1,2,e.recordStatus)),o(2),h("ngClass",C(3,4,e.recordStatus))}}function Gv(n,l){if(n&1&&(r(0,"mat-header-cell",46),d(1),s()),n&2){let e=m();o(),M(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," ")}}function Hv(n,l){if(n&1&&(r(0,"mat-cell"),d(1),s()),n&2){let e=l.$implicit;o(),M(" ",e.title," ")}}function Wv(n,l){if(n&1&&(r(0,"mat-header-cell",46),d(1),s()),n&2){let e=m();o(),M(" ",e.fieldsInfo.className==null?null:e.fieldsInfo.className.fieldTitle," ")}}function Uv(n,l){if(n&1&&(r(0,"mat-cell"),d(1),s()),n&2){let e=l.$implicit;o(),M(" ",e.className," ")}}function qv(n,l){if(n&1&&(r(0,"mat-header-cell",46),d(1),s()),n&2){let e=m();o(),M(" ",e.fieldsInfo.updatedDate==null?null:e.fieldsInfo.updatedDate.fieldTitle," ")}}function jv(n,l){if(n&1&&(r(0,"mat-cell"),d(1),S(2,"localeDate"),s()),n&2){let e=l.$implicit;o(),M(" ",C(2,1,e.updatedDate)," ")}}function Qv(n,l){n&1&&(r(0,"mat-header-cell"),d(1),S(2,"translate"),s()),n&2&&(o(),M(" ",C(2,1,"TITLE.OPTION")," "))}function zv(n,l){if(n&1&&(r(0,"mat-cell",49)(1,"button",50)(2,"mat-icon"),d(3,"more_vert"),s()(),g(4,"mat-menu",null,2),s()),n&2){let e=D(5);o(),h("matMenuTriggerFor",e)}}function Kv(n,l){n&1&&g(0,"mat-header-row")}function Xv(n,l){if(n&1){let e=A();r(0,"mat-row",51),I("click",function(t){let a=u(e).$implicit,p=m();return f(p.onActionTableRowSelect(a,t))})("rtclick",function(t){let a=u(e).$implicit,p=m();return f(p.onActionTableRowSelect(a,t))}),s()}if(n&2){let e=l.$implicit,i=m();B("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var xa=class xa extends Qe{constructor(e,i,t,a,p,c,E,F,Ne,tt,Pe,It){super(e,new di,Pe,E,Ne);this.contentService=e;this.cmsToastrService=i;this.cmsConfirmationDialogService=t;this.coreCurrencyService=a;this.cmsStoreService=p;this.router=c;this.tokenHelper=E;this.cdr=F;this.translate=Ne;this.pageInfo=tt;this.publicHelper=Pe;this.dialog=It;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new Y;this.filterDataModelQueryBuilder=[];this.dataModelCoreCurrencyResult=new q;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["linkMainImageIdSrc","recordStatus","ClassName","updatedDate"];this.tabledisplayedColumnsMobileSource=["linkMainImageIdSrc","recordStatus","ClassName","updatedDate"];this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:z=>this.onSubmitOptionsSearch(z)},this.filteModelContent.sortColumn="id",this.filteModelContent.sortType=Q.Descending}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>ae(this,null,function*(){this.tokenInfo=e,this.DataGetAll()}))),this.getCurrency()}getCurrency(){let e=new Y;e.rowPerPage=100,this.coreCurrencyService.ServiceGetAll(e).subscribe({next:i=>{this.dataModelCoreCurrencyResult=i}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new di);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=Q.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=Q.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=Q.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(aa,{height:"90%",panelClass:e,enterAnimationDuration:j.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:j.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(sa,{height:"90%",panelClass:i,enterAnimationDuration:j.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:j.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(a=>{a&&a.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(a=>{this.cmsToastrService.typeErrorSelected(a)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(a=>{i=a["MESSAGE.Please_Confirm"],t=a["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(a=>{if(a){let p=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(p,c,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(p)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(p,!1)}})}}).catch(()=>{})}onActionButtonNewRowAuto(){let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.contentService.ServiceAutoAdd().subscribe({next:i=>{i.isSuccess?(this.cmsToastrService.typeSuccessAdd(),this.DataGetAll()):this.cmsToastrService.typeErrorMessage(i.errorMessage),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{i.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{i.set(c,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(E=>{i.set(E,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}});let a=JSON.parse(JSON.stringify(this.filteModelContent)),p=new V;p.propertyName="recordStatus",p.value=ke.Available,a.filters.push(p),this.contentService.ServiceGetCount(a).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(E=>{i.set(E,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonPrivateList(e=this.tableRowSelected,i){if(!(e?.id?.length>0)){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorSelected();return}if(i?.ctrlKey){let t="/#/sms/main/api-path/list/LinkPublicConfigId/"+this.tableRowSelected.id;window.open(t,"_blank")}else this.router.navigate(["/sms/main/api-path/list/LinkPublicConfigId",this.tableRowSelected.id])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}};xa.\u0275fac=function(i){return new(i||xa)(_(si),_(W),_(Oe),_(za),_(Ae),_(He),_(Ce),_(G),_(O),_(je),_(U),_(Se))},xa.\u0275cmp=N({type:xa,selectors:[["app-sms-publicconfig-list"]],standalone:!1,features:[X],decls:64,vars:34,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-route","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","linkMainImageIdSrc"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","id"],["matColumnDef","recordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","title"],["matColumnDef","ClassName"],["matColumnDef","updatedDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"ngClass"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(i,t){if(i&1){let a=A();r(0,"app-cms-html-list",3),P("optionActionGuideNoticeDisplayChange",function(c){return u(a),T(t.viewGuideNotice,c)||(t.viewGuideNotice=c),f(c)}),I("optionOnActionButtonMemoRow",function(){return u(a),f(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return u(a),f(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return u(a),f(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return u(a),f(t.onActionButtonPrintRow())}),R(1,4),d(2," -------------------------------------- "),x(),ze(3,5)(4,6),R(5,7),r(6,"a",8),I("click",function(){return u(a),f(t.viewGuideNotice=!t.viewGuideNotice)}),g(7,"i",9),s(),r(8,"a",8),I("click",function(){return u(a),f(t.onActionButtonReload())}),g(9,"i",10),s(),x(),R(10,11),r(11,"a",12),I("click",function(){return u(a),f(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),g(12,"mat-slide-toggle",13),d(13),S(14,"translate"),s(),r(15,"a",12),I("click",function(){return u(a),f(t.onActionButtonStatist())}),g(16,"mat-slide-toggle",13),d(17),S(18,"translate"),s(),x(),R(19,14),b(20,Pv,7,3,"div",15),b(21,Rv,7,3,"div",15),x(),R(22,16),b(23,xv,7,3,"div",15),b(24,Dv,7,3,"div",15),r(25,"div",15)(26,"a",17),I("click",function(c){return u(a),f(t.onActionButtonPrivateList(t.tableRowSelected,c))}),g(27,"i",18)(28,"br"),s(),r(29,"p",19),d(30),S(31,"translate"),s()(),x(),R(32,20),r(33,"app-cms-search-list",21),P("optionsChange",function(c){return u(a),T(t.optionsSearch,c)||(t.optionsSearch=c),f(c)}),s(),r(34,"app-cms-statist-list",21),P("optionsChange",function(c){return u(a),T(t.optionsStatist,c)||(t.optionsStatist=c),f(c)}),s(),x(),R(35,22),r(36,"mat-table",23,0),I("matSortChange",function(){u(a);let c=D(37);return f(t.onTableSortData(c))}),R(38,24),L(39,kv,3,3,"mat-header-cell",25)(40,Vv,2,1,"mat-cell",26),x(),R(41,27),L(42,Nv,2,1,"mat-header-cell",25)(43,Bv,2,1,"mat-cell",26),x(),R(44,28),L(45,Fv,2,1,"mat-header-cell",25)(46,Ov,4,6,"mat-cell",29),x(),R(47,30),L(48,Gv,2,1,"mat-header-cell",25)(49,Hv,2,1,"mat-cell",26),x(),R(50,31),L(51,Wv,2,1,"mat-header-cell",25)(52,Uv,2,1,"mat-cell",26),x(),R(53,32),L(54,qv,2,1,"mat-header-cell",25)(55,jv,3,3,"mat-cell",26),x(),R(56,33),L(57,Qv,3,3,"mat-header-cell",34)(58,zv,6,1,"mat-cell",35),x(),L(59,Kv,1,0,"mat-header-row",36)(60,Xv,1,2,"mat-row",37),s(),x(),R(61,38),r(62,"mat-paginator",39,1),I("page",function(c){return u(a),f(t.onTablePageingData(c))}),s(),x(),s()}i&2&&(h("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),w("optionActionGuideNoticeDisplay",t.viewGuideNotice),h("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.title),o(9),B("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(3),h("checked",t.optionsSearch.data.show),o(),M("",C(14,27,"ACTION.SEARCH")," "),o(3),h("checked",t.optionsStatist.data.show),o(),M("",C(18,29,"ACTION.STATIST")," "),o(3),v(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessAddRow?20:-1),o(),v(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessAddRow?21:-1),o(2),v(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?23:-1),o(),v(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?24:-1),o(6),M(" ",C(31,31,"ACTION.ROUTES")," "),o(3),w("options",t.optionsSearch),o(),w("options",t.optionsStatist),o(2),h("dataSource",t.tableSource),o(23),h("matHeaderRowDef",t.tabledisplayedColumns),o(),h("matRowDefColumns",t.tabledisplayedColumns),o(2),h("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",xe(33,Tv)))},dependencies:[Ge,ct,Ze,Wt,Ut,Ie,at,$e,At,Et,wt,xt,Tt,yt,Dt,Pt,Rt,kt,Lt,We,Ue,Vt,rt,H,st,qe,ii],encapsulation:2});var Rr=xa;var Ws=[{path:"",component:da,data:{title:"ROUTE.SMS.MAIN"},children:[{path:"api-path-company",component:_r,data:{title:"ROUTE.SMS.MAIN"}},{path:"publicconfig",component:Rr,data:{title:"ROUTE.SMS.MAIN"}},{path:"api-path",component:xn,data:{title:"ROUTE.SMS.MAIN"}},{path:"api-path/list",component:xn,data:{title:"ROUTE.SMS.MAIN"}},{path:"api-path/list/LinkCompanyId/:LinkCompanyId",component:xn,data:{title:"ROUTE.SMS.MAIN"}},{path:"api-path/list/LinkPublicConfigId/:LinkPublicConfigId",component:xn,data:{title:"ROUTE.SMS.MAIN"}},{path:"api-path/list/LinkSiteId/:LinkSiteId",component:xn,data:{title:"ROUTE.SMS.MAIN"}},{path:"api-path/edit/:id",component:Bo,data:{title:"ROUTE.SMS.MAIN"}},{path:"api-path-permission",component:Gn,data:{title:"ROUTE.SMS.MAIN"}},{path:"api-path-permission/LinkApiPathId/:LinkApiPathId",component:Gn,data:{title:"ROUTE.SMS.MAIN"}},{path:"api-path-permission/LinkUserId/:LinkUserId",component:Gn,data:{title:"ROUTE.SMS.MAIN"}},{path:"api-path-permission/LinkSiteId/:LinkSiteId",component:Gn,data:{title:"ROUTE.SMS.MAIN"}},{path:"api-path-pagination",component:Oa,data:{title:"ROUTE.SMS.MAIN"}},{path:"api-path-pagination/LinkApiPathId/:LinkApiPathId",component:Oa,data:{title:"ROUTE.SMS.MAIN"}},{path:"api-path-price-permission",component:Ia,data:{title:"ROUTE.SMS.MAIN"}},{path:"api-path-price-permission/LinkApiPathId/:LinkApiPathId",component:Ia,data:{title:"ROUTE.SMS.MAIN"}},{path:"api-path-price-permission/LinkApiPathPaginationId/:LinkApiPathPaginationId",component:Ia,data:{title:"ROUTE.SMS.MAIN"}},{path:"api-number",component:Fa,data:{title:"ROUTE.SMS.MAIN"}},{path:"api-number/LinkApiPathId/:LinkApiPathId",component:Fa,data:{title:"ROUTE.SMS.MAIN"}},{path:"api-number-permission",component:On,data:{title:"ROUTE.SMS.MAIN"}},{path:"api-number-permission/LinkApiNumberId/:LinkApiNumberId",component:On,data:{title:"ROUTE.SMS.MAIN"}},{path:"api-number-permission/LinkUserId/:LinkUserId",component:On,data:{title:"ROUTE.SMS.MAIN"}},{path:"api-number-permission/LinkSiteId/:LinkSiteId",component:On,data:{title:"ROUTE.SMS.MAIN"}},{path:"client-application",component:wn,data:{title:"ROUTE.SMS.MAIN"}},{path:"client-application/LinkUserId/:LinkUserId",component:wn,data:{title:"ROUTE.SMS.MAIN"}},{path:"client-application/LinkSiteId/:LinkSiteId",component:wn,data:{title:"ROUTE.SMS.MAIN"}},{path:"client-application-permission",component:en,data:{title:"ROUTE.SMS.MAIN"}},{path:"client-application-permission/LinkClientApplicationId/:LinkClientApplicationId",component:en,data:{title:"ROUTE.SMS.MAIN"}},{path:"client-application-permission/LinkApiPathId/:LinkApiPathId",component:en,data:{title:"ROUTE.SMS.MAIN"}},{path:"message",component:Pr,data:{title:"ROUTE.SMS.MAIN"}}]}];var Hn=class Hn{};Hn.\u0275fac=function(e){return new(e||Hn)},Hn.\u0275mod=qa({type:Hn}),Hn.\u0275inj=Wa({imports:[Dr.forChild(window.innerWidth<1e3?Fs:Ws),Dr]});var xr=Hn;var Wn=class Wn{};Wn.\u0275fac=function(e){return new(e||Wn)},Wn.\u0275mod=qa({type:Wn}),Wn.\u0275inj=Wa({providers:[zr,Re,Ye,Oe,Jr,St,$t,ji,cn,qi,si,_i,Ka,Ki,Ni,Qi,zi],imports:[qr,xr,ts,is.withConfig({warnOnNgModelWithFormControl:"never"}),Ss,Is,Ms,ms,ys,hs,ws,es]});var Us=Wn;export{io as a,ci as b,Zo as c,Us as d};
