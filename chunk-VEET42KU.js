import{f as tt}from"./chunk-U4DJRPB4.js";import{a as Ze}from"./chunk-D4UKUU3U.js";import{a as et}from"./chunk-I64KJG6Z.js";import{a as q,d as $e}from"./chunk-YXO3YZK5.js";import{f as j}from"./chunk-JFE6MAT6.js";import{A as Ce,J as ge,K as je,L as qe,R as Me,Ra as Ue,Sa as ze,Tb as Ke,Tc as Je,Ub as Ye,Wc as Xe,X as Ge,Yc as Q,Z as We,a as Ne,aa as be,ba as ve,cc as B,dc as H,gb as F,n as D,q as N,r as Fe,t as Be,u as Se,v as He,w as Qe}from"./chunk-EFYREMMZ.js";import{Ab as S,Bb as ne,Ca as y,Cb as re,Eb as Ae,F as Y,Fa as o,Fb as ye,Gb as Te,Gd as me,Ha as $,I as J,Jk as Ve,Kb as x,Kd as L,Kr as De,Ld as ue,Mb as ae,Oa as d,Od as W,P as X,Pb as C,Q as Z,Qb as v,Qc as ke,Rb as T,Rk as Le,Sa as V,Sc as de,Td as O,Tk as Oe,Vb as le,Wb as se,Xb as pe,Yb as _,Zb as w,_b as G,bc as we,da as g,db as ee,ea as M,fb as h,fc as m,fk as Re,gb as f,gc as u,ib as te,id as Ee,ig as xe,jb as ie,kb as oe,lb as s,mb as r,nb as l,ob as p,p as z,pe as he,q as K,uk as U,vb as A,vd as Pe,wk as fe,xc as ce,yb as b}from"./chunk-UZHVWIGE.js";import{i as R}from"./chunk-SEDBTTTN.js";var ft=["*"];function St(n,i){if(n&1&&(r(0,"label",3),C(1),l()),n&2){let e=S();s("for",w("app-cms-site-selector-",e.id)),o(),v(e.optionLabel)}}function Ct(n,i){if(n&1&&(p(0,"img",5),m(1,"cmsthumbnail")),n&2){let e=S();s("src",_(u(1,2,e.dataModelSelect==null?null:e.dataModelSelect.linkMainImageIdSrc)),y)}}function gt(n,i){if(n&1&&(p(0,"img",5),m(1,"cmsthumbnail")),n&2){let e=S().$implicit;s("src",_(u(1,2,e.linkMainImageIdSrc)),y)}}function Mt(n,i){if(n&1&&(r(0,"mat-option",8),h(1,gt,2,4,"img",5),r(2,"span"),C(3),l()()),n&2){let e=i.$implicit,t=S();s("value",e)("disabled",t.optionDisabled),o(),f(e.linkMainImageIdSrc?1:-1),o(2),v(t.displayOption(e))}}function bt(n,i){n&1&&p(0,"i",9)}function vt(n,i){n&1&&p(0,"i",10)}function _t(n,i){if(n&1){let e=A();r(0,"i",13),b("click",function(){g(e);let a=S();return M(a.onActionSelectClear())}),l()}}function It(n,i){n&1&&(r(0,"em"),C(1),m(2,"translate"),l()),n&2&&(o(),T("(",u(2,1,"TITLE.Necessary"),")"))}var k=class k{constructor(i,e,t,a,c,I){this.coreEnumService=i;this.cmsToastrService=e;this.cdr=t;this.publicHelper=a;this.translate=c;this.categoryService=I;this.id=++k.nextId;this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new me;this.dataModelSelect=new fe;this.formControl=new Se;this.optionDisabled=!1;this.optionRequired=!1;this.optionSelectFirstItem=!1;this.optionPlaceholder="";this.optionLabel="";this.optionChange=new $;this.optionReload=()=>this.onActionButtonReload();this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(i){this.onActionSelectForce(i)}ngOnInit(){this.loadOptions()}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(X(""),Y(1500),J(),Z(i=>typeof i=="string"||typeof i=="number"?this.DataGetAll(i||""):[]))}displayFn(i){return i?i.title:void 0}displayOption(i){return i?i.title:void 0}DataGetAll(i){return R(this,null,function*(){let e=new ue;e.rowPerPage=20,e.accessLoad=!0;let t=new L;t.propertyName="title",t.value=i,t.searchType=O.Contains,t.clauseType=W.Or,e.filters.push(t),i&&typeof+i=="number"&&+i>0&&(t=new L,t.propertyName="id",t.value=i,t.searchType=O.Equal,t.clauseType=W.Or,e.filters.push(t));let a=this.constructor.name+"main";return this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(a,c,this.constructorInfoAreaId)}),yield z(this.categoryService.ServiceGetAll(e)).then(c=>(this.dataModelResult=c,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||this.dataModelSelect.id.length<=0)&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0])},1e3),this.onActionSelect(this.dataModelResult.listItems[0])),this.publicHelper.processService.processStop(a),c.listItems))})}onActionSelect(i){this.optionDisabled||(this.dataModelSelect=i,this.optionChange.emit(this.dataModelSelect))}onActionSelectClear(){this.optionDisabled||(this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null))}push(i){return this.filteredOptions.pipe(K(e=>(e.find(t=>t.id===i.id)||e.push(i),e)))}onActionSelectForce(i){if(typeof i=="string"&&i.length>0){if(this.dataModelSelect&&this.dataModelSelect.id===i)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(e=>e.id===i)){let e=this.dataModelResult.listItems.find(t=>t.id===i);this.dataModelSelect=e,this.formControl.setValue(e);return}this.categoryService.ServiceGetOneById(i).subscribe({next:e=>{e.isSuccess?(this.filteredOptions=this.push(e.item),this.dataModelSelect=e.item,this.formControl.setValue(e.item),this.optionChange.emit(e.item)):this.cmsToastrService.typeErrorMessage(e.errorMessage)}});return}if(typeof i==typeof fe){this.filteredOptions=this.push(i),this.dataModelSelect=i,this.formControl.setValue(i);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new fe,this.loadOptions()}};k.nextId=0,k.\u0275fac=function(e){return new(e||k)(d(he),d(Q),d(ce),d(j),d(B),d(Oe))},k.\u0275cmp=V({type:k,selectors:[["app-cms-sms-apipath-selector"]],inputs:{optionDisabled:"optionDisabled",optionRequired:"optionRequired",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionLabel:"optionLabel",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange"},standalone:!1,ngContentSelectors:ft,decls:18,vars:24,consts:[["matauto","matAutocomplete"],[1,"input-style","has-borders","has-icon","input-style-always-active","validate-field","mb-4","loader-container"],[3,"optionsInfoAreaId"],[1,"color-highlight",3,"for"],["matPrefix",""],["aria-hidden","","height","25","width","25",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["type","text","aria-label","Assignee","matInput","",3,"placeholder","formControl","matAutocomplete","required","id"],[3,"optionSelected","displayWith"],[3,"value","disabled"],[1,"fa","fa-info","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"fa","fa-times","action","color-red-dark"],[1,"fa","fa-rotate-right","action","color-green-dark",2,"margin-left","20px",3,"click","title"],[1,"fa","fa-times","action","color-red-dark",3,"click"]],template:function(e,t){if(e&1){let a=A();ne(),r(0,"div",1),p(1,"app-progress-spinner",2),h(2,St,2,3,"label",3),r(3,"span",4),h(4,Ct,2,4,"img",5),l(),p(5,"input",6),r(6,"mat-autocomplete",7,0),b("optionSelected",function(I){return g(a),M(t.onActionSelect(I.option.value))}),ie(8,Mt,4,4,"mat-option",8,te),m(10,"async"),l(),h(11,bt,1,0,"i",9),h(12,vt,1,0,"i",10),h(13,_t,1,0,"i",11),r(14,"i",12),m(15,"translate"),b("click",function(){return g(a),M(t.onActionButtonReload())}),l(),h(16,It,3,3,"em"),re(17),l()}if(e&2){let a=x(7);o(),s("optionsInfoAreaId",t.constructorInfoAreaId),o(),f((t.optionLabel==null?null:t.optionLabel.length)>0?2:-1),o(2),f(t.dataModelSelect&&(t.dataModelSelect!=null&&t.dataModelSelect.linkMainImageIdSrc)?4:-1),o(),s("placeholder",_(t.optionPlaceholder))("id",w("app-cms-site-selector-",t.id))("formControl",t.formControl)("matAutocomplete",a)("required",t.optionRequired),ee("disabled",t.optionDisabled?!0:null),o(),s("displayWith",t.displayFn),o(2),oe(u(10,20,t.filteredOptions)),o(3),f(t.formControl.valid?-1:11),o(),f(t.optionRequired&&t.formControl.valid?12:-1),o(),f((t.dataModelSelect==null||t.dataModelSelect.id==null?null:t.dataModelSelect.id.length)>0?13:-1),o(),ae("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),s("title",_(u(15,22,"ACTION.RELOAD"))),o(2),f(t.optionRequired&&(!t.dataModelSelect||!t.dataModelSelect.id||(t.dataModelSelect.id==null?null:t.dataModelSelect.id.length)===0)?16:-1)}},dependencies:[D,N,ge,Ce,be,Me,ve,We,F,q,de,H,Ze],encapsulation:2});var _e=k;var yt=["*"];function Tt(n,i){if(n&1&&(r(0,"label",3),C(1),l()),n&2){let e=S();s("for",w("app-cms-site-selector-",e.id)),o(),v(e.optionLabel)}}function wt(n,i){if(n&1&&(r(0,"mat-option",6)(1,"span"),C(2),l()()),n&2){let e=i.$implicit,t=S();s("value",e)("disabled",t.optionDisabled),o(2),v(t.displayOption(e))}}function kt(n,i){n&1&&p(0,"i",7)}function Et(n,i){n&1&&p(0,"i",8)}function Pt(n,i){if(n&1){let e=A();r(0,"i",11),b("click",function(){g(e);let a=S();return M(a.onActionSelectClear())}),l()}}function xt(n,i){n&1&&(r(0,"em"),C(1),m(2,"translate"),l()),n&2&&(o(),T("(",u(2,1,"TITLE.Necessary"),")"))}var E=class E{constructor(i,e,t,a,c,I){this.coreEnumService=i;this.cmsToastrService=e;this.translate=t;this.cdr=a;this.publicHelper=c;this.categoryService=I;this.id=++E.nextId;this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new me;this.dataModelSelect=new U;this.formControl=new Se;this.optionDisabled=!1;this.optionRequired=!1;this.optionSelectFirstItem=!1;this.optionSelectFirstItemOnChangeApi=!1;this.optionLabel="";this.optionPlaceholder="";this.optionChange=new $;this.optionReload=()=>this.onActionButtonReload();this.privateLinkApiPathId="";this.privateLinkApiPathIdLast="";this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(i){this.onActionSelectForce(i)}set optionLinkApiPathId(i){i!=this.privateLinkApiPathId&&(this.privateLinkApiPathId!=""&&this.onActionSelectClear(),this.privateLinkApiPathId=i,this.privateLinkApiPathId!=this.privateLinkApiPathIdLast&&(this.optionSelectFirstItem=this.optionSelectFirstItemOnChangeApi),this.privateLinkApiPathIdLast=i,this.loadOptions())}ngOnInit(){this.loadOptions()}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(X(""),Y(1500),J(),Z(i=>typeof i=="string"||typeof i=="number"?this.DataGetAll(i||""):[]))}displayFn(i){return i?i.numberChar:void 0}displayOption(i){return i?i.numberChar:void 0}DataGetAll(i){return R(this,null,function*(){let e=new ue;e.rowPerPage=20,e.accessLoad=!0;let t=new L;t.propertyName="NumberChar",t.value=i,t.searchType=O.Contains,t.clauseType=W.Or,e.filters.push(t),this.privateLinkApiPathId?.length>0&&(t=new L,t.propertyName="ApiPathAndApiNumbers",t.propertyAnyName="LinkApiPathId",t.value=this.privateLinkApiPathId,t.searchType=O.Equal,e.filters.push(t));let a=this.constructor.name+"main";return this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(a,c,this.constructorInfoAreaId)}),yield z(this.categoryService.ServiceGetAll(e)).then(c=>(this.dataModelResult=c,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||this.dataModelSelect.id.length<=0)&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0]),this.onActionSelect(this.dataModelResult.listItems[0])},1e3)),this.publicHelper.processService.processStop(a),c.listItems))})}onActionSelect(i){this.optionDisabled||(this.dataModelSelect=i,this.optionChange.emit(this.dataModelSelect))}onActionSelectClear(){this.optionDisabled||(this.dataModelSelect=new U,this.formControl.setValue(null),this.optionChange.emit(null))}push(i){return this.filteredOptions.pipe(K(e=>(e.find(t=>t.id===i.id)||e.push(i),e)))}onActionSelectForce(i){if(typeof i=="string"&&i.length>0){if(this.dataModelSelect&&this.dataModelSelect.id===i)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(e=>e.id===i)){let e=this.dataModelResult.listItems.find(t=>t.id===i);this.dataModelSelect=e,this.formControl.setValue(e);return}if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(e=>e.numberChar===i)){let e=this.dataModelResult.listItems.find(t=>t.numberChar===i);this.dataModelSelect=e,this.formControl.setValue(e);return}this.categoryService.ServiceGetOneById(i).subscribe({next:e=>{e.isSuccess?(this.filteredOptions=this.push(e.item),this.dataModelSelect=e.item,this.formControl.setValue(e.item),this.optionChange.emit(e.item)):(!this.dataModelResult.listItems||this.dataModelResult.listItems.length===0)&&this.cmsToastrService.typeErrorMessage(e.errorMessage)}});return}if(typeof i==typeof U){this.filteredOptions=this.push(i),this.dataModelSelect=i,this.formControl.setValue(i);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new U,this.loadOptions()}};E.nextId=0,E.\u0275fac=function(e){return new(e||E)(d(he),d(Q),d(B),d(ce),d(j),d(Le))},E.\u0275cmp=V({type:E,selectors:[["app-cms-sms-api-number-selector"]],inputs:{optionDisabled:"optionDisabled",optionRequired:"optionRequired",optionSelectFirstItem:"optionSelectFirstItem",optionSelectFirstItemOnChangeApi:"optionSelectFirstItemOnChangeApi",optionLabel:"optionLabel",optionPlaceholder:"optionPlaceholder",optionReload:"optionReload",optionSelectForce:"optionSelectForce",optionLinkApiPathId:"optionLinkApiPathId"},outputs:{optionChange:"optionChange"},standalone:!1,ngContentSelectors:yt,decls:16,vars:23,consts:[["matauto","matAutocomplete"],[1,"input-style","has-borders","has-icon","input-style-always-active","validate-field","mb-4","loader-container"],[3,"optionsInfoAreaId"],[1,"color-highlight",3,"for"],["type","text","aria-label","Assignee","matInput","",3,"placeholder","formControl","matAutocomplete","required","id"],[3,"optionSelected","displayWith"],[3,"value","disabled"],[1,"fa","fa-info","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"fa","fa-times","action","color-red-dark"],[1,"fa","fa-rotate-right","action","color-green-dark",2,"margin-left","20px",3,"click","title"],[1,"fa","fa-times","action","color-red-dark",3,"click"]],template:function(e,t){if(e&1){let a=A();ne(),r(0,"div",1),p(1,"app-progress-spinner",2),h(2,Tt,2,3,"label",3),p(3,"input",4),r(4,"mat-autocomplete",5,0),b("optionSelected",function(I){return g(a),M(t.onActionSelect(I.option.value))}),ie(6,wt,3,3,"mat-option",6,te),m(8,"async"),l(),h(9,kt,1,0,"i",7),h(10,Et,1,0,"i",8),h(11,Pt,1,0,"i",9),r(12,"i",10),m(13,"translate"),b("click",function(){return g(a),M(t.onActionButtonReload())}),l(),h(14,xt,3,3,"em"),re(15),l()}if(e&2){let a=x(5);o(),s("optionsInfoAreaId",t.constructorInfoAreaId),o(),f((t.optionLabel==null?null:t.optionLabel.length)>0?2:-1),o(),s("placeholder",_(t.optionPlaceholder))("id",w("app-cms-site-selector-",t.id))("formControl",t.formControl)("matAutocomplete",a)("required",t.optionRequired),ee("disabled",t.optionDisabled?!0:null),o(),s("displayWith",t.displayFn),o(2),oe(u(8,19,t.filteredOptions)),o(3),f(t.formControl.valid?-1:9),o(),f(t.optionRequired&&t.formControl.valid?10:-1),o(),f((t.dataModelSelect==null||t.dataModelSelect.id==null?null:t.dataModelSelect.id.length)>0?11:-1),o(),ae("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),s("title",_(u(13,21,"ACTION.RELOAD"))),o(2),f(t.optionRequired&&(!t.dataModelSelect||!t.dataModelSelect.id||(t.dataModelSelect.id==null?null:t.dataModelSelect.id.length)===0)?14:-1)}},dependencies:[D,N,ge,Ce,be,Me,ve,F,q,de,H],encapsulation:2});var Ie=E;var Vt=["Message"],Lt=["vform"],Ot=n=>({direction:n});function Dt(n,i){if(n&1){let e=A();r(0,"button",50),b("click",function(){g(e);let a=S(2);return M(a.onActionSendUrlToQDoc())}),p(1,"i",51),C(2),m(3,"translate"),l()}n&2&&(o(2),T(" ",u(3,1,"ACTION.VIEW")," "))}function Nt(n,i){if(n&1&&(r(0,"div")(1,"a",52),p(2,"img",53),m(3,"translate"),l()()),n&2){let e=S(2);o(),s("href",_(e.optionurlViewContent),y),o(),s("alt",_(u(3,5,"TITLE.Scan_the_barcode")))("src",e.optionurlViewContentQRCodeBase64,y)}}function Ft(n,i){if(n&1){let e=A();r(0,"div")(1,"div",17)(2,"div",30)(3,"p"),C(4),l()()(),r(5,"div",17)(6,"div",31)(7,"div",25)(8,"label",32),C(9),m(10,"translate"),l(),r(11,"input",33,2),pe("ngModelChange",function(a){g(e);let c=S();return se(c.QDocModel.username,a)||(c.QDocModel.username=a),M(a)}),l()(),h(13,Dt,4,3,"button",34),p(14,"br")(15,"br"),r(16,"button",35),b("click",function(){g(e);let a=S();return M(a.onActionOpenLink())}),C(17),m(18,"translate"),l()(),r(19,"div",36),h(20,Nt,4,7,"div"),r(21,"div",37)(22,"a",38),p(23,"i",39),l(),r(24,"a",40),p(25,"i",41),l(),r(26,"a",42),p(27,"i",43),l(),r(28,"a",44),p(29,"i",45),l(),r(30,"a",46),p(31,"i",47),l(),r(32,"span",48),b("click",function(){g(e);let a=S();return M(a.onActionCopied())}),p(33,"i",49),l()()()()()}if(n&2){let e=S();o(4),v(e.optionLabel),o(5),v(u(10,21,"ACTION.ID_Code")),o(2),le("ngModel",e.QDocModel.username),o(2),f(e.optionurlViewContent&&e.optionurlViewContent.length>0&&e.QDocModel.username?13:-1),o(4),T(" ",u(18,23,"ACTION.VIEW_PAGE")," "),o(3),f((e.optionurlViewContentQRCodeBase64==null?null:e.optionurlViewContentQRCodeBase64.length)>0&&(e.optionurlViewContent==null?null:e.optionurlViewContent.length)>0?20:-1),o(2),s("href",G("whatsapp://send?text=",e.optionLabel,"- ",e.optionurlViewContent),y),o(2),s("href",G("https://telegram.me/share/url?url=",e.optionurlViewContent,"&text=",e.optionLabel),y),o(2),s("href",G("https://www.linkedin.com/shareArticle?url=",e.optionurlViewContent,"&title=",e.optionLabel),y),o(2),s("href",w("http://www.facebook.com/share.php?u=",e.optionurlViewContent),y),o(2),s("href",G("http://twitter.com/share?text=",e.optionLabel,"&url=",e.optionurlViewContent),y),o(2),s("cdkCopyToClipboard",e.optionurlViewContent)}}function Bt(n,i){if(n&1){let e=A();r(0,"app-cms-sms-api-number-selector",54),m(1,"translate"),b("optionChange",function(a){g(e);let c=S();return M(c.onActionSelectApiNumber(a))}),l()}if(n&2){let e=S();s("optionLinkApiPathId",e.dataModel==null?null:e.dataModel.linkApiPathId)("optionPlaceholder",u(1,4,"TITLE.sender_number"))("optionSelectFirstItem",!0)("optionSelectFirstItemOnChangeApi",!0)}}function Ht(n,i){n&1&&(r(0,"mat-error"),C(1),m(2,"translate"),r(3,"strong"),C(4),m(5,"translate"),l()()),n&2&&(o(),T(" ",u(2,2,"TITLE.Message_Text")," "),o(3),v(u(5,4,"MESSAGE.required")))}function Qt(n,i){if(n&1){let e=A();r(0,"div",25)(1,"label",55),C(2),m(3,"translate"),l(),r(4,"textarea",56,3),pe("ngModelChange",function(a){g(e);let c=S();return se(c.dataModel.toNumbers,a)||(c.dataModel.toNumbers=a),M(a)}),l(),r(6,"em")(7,"strong",57),C(8),m(9,"translate"),l()()()}if(n&2){let e=S();o(2),v(u(3,3,"TITLE.Receiver_number")),o(2),le("ngModel",e.dataModel.toNumbers),o(4),v(u(9,5,"TITLE.You_can_separate_the_number_of_the_recipient_of_the_message_with_an_inter"))}}function jt(n,i){if(n&1&&(r(0,"button",58),p(1,"i",51),C(2),m(3,"translate"),l()),n&2){S(2);let e=x(14);s("disabled",!e.valid),o(2),T(" ",u(3,2,"ACTION.Send_Message")," ")}}function qt(n,i){if(n&1&&(r(0,"div",29),h(1,jt,4,4,"button",58),l()),n&2){let e=S();o(),f(e.publicHelper.processService.process.inRunAll?-1:1)}}var P=class P{constructor(i,e,t,a,c,I,Gt,Wt,Ut,zt){this.cmsToastrService=i;this.data=e;this.dialogRef=t;this.smsActionService=a;this.http=c;this.router=I;this.translate=Gt;this.tokenHelper=Wt;this.cmsStoreService=Ut;this.publicHelper=zt;this.id=++P.nextId;this.constructorInfoAreaId=this.constructor.name;this.dataModel=new Re;this.formInfo=new $e;this.tokenInfo=new xe;this.optionLabel="";this.optionurlViewContentQRCodeBase64="";this.optionurlViewContent="";this.QDocModel={};this.unsubscribe=[];e&&(this.optionLabel=e.title,this.optionurlViewContentQRCodeBase64=e.urlViewContentQRCodeBase64,this.optionurlViewContent=e.urlViewContent,this.formInfo.formTitle=e.title),this.formInfo.formDescription="\u0645\u062D\u062A\u0648\u0627 \u0631\u0627 \u0627\u0634\u062A\u0631\u0627\u06A9 \u0628\u06AF\u0630\u0627\u0631\u06CC\u062F"}ngOnInit(){this.dataModel.message=`${this.optionLabel}
    ${this.optionurlViewContent}`,this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(i=>i.tokenInfoStore).subscribe(i=>R(this,null,function*(){this.tokenInfo=i})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(i=>i.unsubscribe())}onActionSelectApiNumber(i){i&&i.id?.length>0?this.dataModel.linkFromNumber=i.id:i&&i.numberChar?.length>0&&(this.dataModel.linkFromNumber=i.numberChar)}onActionMessageLTR(){this.message.nativeElement.style.direction="ltr",this.message.nativeElement.style.textAlign="left"}onActionMessageRTL(){this.message.nativeElement.style.direction="rtl",this.message.nativeElement.style.textAlign="right"}onActionSelectPrivateSiteConfig(i){this.dataModelParentSelected=i,i&&i.id?.length>0&&(this.dataModel.linkApiPathId=i.id)}onActionSendUrlToQDoc(){if(this.QDocModel.message=this.optionurlViewContent,!this.QDocModel.username&&this.QDocModel.username.length<=0){this.cmsToastrService.typeWarningSelected("\u06A9\u062F \u0634\u0646\u0627\u0633\u0647 \u0631\u0627 \u0627\u0632 \u0648\u0628\u0633\u0627\u06CC\u062A https://Qdoc.ir \u062F\u0631\u06CC\u0627\u0641\u062A \u0646\u0645\u0627\u06CC\u06CC\u062F");return}this.http.post(De.cmsServerConfig.configQDocServerPath,this.QDocModel,{headers:{}}).subscribe({next:i=>{this.translate.get("MESSAGE.The_order_was_sent_to_the_website").subscribe(e=>{this.cmsToastrService.typeSuccessMessage(e)})},error:i=>{this.cmsToastrService.typeErrorMessage("\u0628\u0631\u0631\u0648\u0632 \u062E\u0637\u0627 \u062F\u0631 \u0627\u0631\u0633\u0627\u0644 \u062F\u0633\u062A\u0648\u0631",i)}})}onFormSubmit(){if(!this.formGroup.valid)return;(!this.dataModel.linkApiPathId||this.dataModel.linkApiPathId.length<=0)&&this.cmsToastrService.typeErrorFormInvalid(),this.formInfo.submitButtonEnabled=!1;let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(i,e,this.constructorInfoAreaId)}),this.formInfo.submitResultMessage="",this.formInfo.submitResultMessage="",this.smsActionService.ServiceSendMessage(this.dataModel).subscribe({next:e=>{this.formInfo.submitButtonEnabled=!0,e.isSuccess?(this.translate.get("MESSAGE.Submit_request_was_successfully_registered").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=1}),this.formInfo.submitResultMessageType=1,this.translate.get("MESSAGE.Send_request_was_successfully_registered").subscribe(t=>{this.cmsToastrService.typeSuccessMessage(t)})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=e.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(e.errorMessage)),this.publicHelper.processService.processStop(i)},error:e=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(i,!1)}})}onActionCopied(){this.cmsToastrService.typeSuccessCopedToClipboard()}onActionOpenLink(){let i=this.router.serializeUrl(this.router.createUrlTree([this.optionurlViewContent]));window.open(this.optionurlViewContent,"_blank")}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};P.nextId=0,P.\u0275fac=function(e){return new(e||P)(d(Q),d(ze),d(Ue),d(Ve),d(Ee),d(Pe),d(B),d(Xe),d(Je),d(j))},P.\u0275cmp=V({type:P,selectors:[["app-cms-link-to"]],viewQuery:function(e,t){if(e&1&&(Ae(Vt,5),Ae(Lt,5)),e&2){let a;ye(a=Te())&&(t.message=a.first),ye(a=Te())&&(t.formGroup=a.first)}},inputs:{optionLabel:"optionLabel",optionurlViewContentQRCodeBase64:"optionurlViewContentQRCodeBase64",optionurlViewContent:"optionurlViewContent"},standalone:!1,decls:43,vars:31,consts:[["vform","ngForm"],["Message",""],["QDocCode",""],["ToNumbers",""],[3,"Key"],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"menu-title"],[1,"color-highlight"],[1,"close-menu",3,"click"],[1,"fa","fa-times-circle"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit","ngStyle"],[3,"label"],[1,"row",2,"padding","5px"],[1,"row"],[1,"col-md-6","col-sm-6","col-xs-9",2,"padding-top","40px"],[3,"optionChange","optionSelectForce","optionPlaceholder","optionSelectFirstItem"],[3,"optionSelectForce","optionLinkApiPathId","optionPlaceholder","optionSelectFirstItem","optionSelectFirstItemOnChangeApi"],[1,"col-sm-12","col-md-6"],[1,"message-box"],[1,"row",2,"margin-bottom","0px !important","height","90px"],[1,"row",2,"margin-bottom","0px !important","height","283px"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.message",1,"color-highlight"],["matInput","","name","dataModel.message","type","text","placeholder","...","id","dataModel.message","minlength","1","maxlength","500","rows","9",1,"form-control","validate-name",2,"height","276px",3,"ngModelChange","ngModel"],[1,"row",2,"margin-bottom","0px !important","height","140px","margin-top","11px"],[1,"row",2,"margin-bottom","0px !important","height","40px","bottom","4vh","justify-content","center"],[1,"col-md-12","col-sm-12","col-xs-18"],[1,"col-md-6","col-sm-6","col-xs-9"],["for","QDocModel.username",1,"color-highlight"],["matInput","","type","text","name","QDocModel.username","id","QDocModel.username","placeholder","12345",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],["type","button","type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"col-md-6","col-sm-6","col-xs-9",2,"text-align","center"],[1,"mt-4"],["target","_blank",1,"style","whatsapp",3,"href"],[1,"flaticon-whatsapp","text-dark"],["target","_blank",1,"style","telegram",3,"href"],[1,"flaticon2-telegram-logo","text-dark"],["target","_blank",1,"style","linkedin",3,"href"],[1,"flaticon-linkedin-logo","text-dark"],["target","_blank",1,"style","facebook",3,"href"],[1,"flaticon-facebook-letter-logo","text-dark"],["target","_blank",1,"style","twitter",3,"href"],[1,"flaticon-twitter-logo","text-dark"],[1,"navi-icon","style","cursor",3,"click","cdkCopyToClipboard"],[1,"flaticon2-copy","text-dark"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa","fa-check-square-o"],["target","_blank",3,"href"],["height","200px","width","200px",3,"src","alt"],[3,"optionChange","optionSelectForce","optionLinkApiPathId","optionPlaceholder","optionSelectFirstItem","optionSelectFirstItemOnChangeApi"],["for","dataModel.toNumbers",1,"color-highlight"],["matInput","","name","dataModel.toNumbers","id","dataModel.toNumbers","type","text","placeholder","0912","rows","2",2,"height","138px",3,"ngModelChange","ngModel"],[1,"info-field-text"],["type","submit",1,"message-box-button",3,"disabled"]],template:function(e,t){if(e&1){let a=A();p(0,"app-cms-guide-notice",4),r(1,"div",5),p(2,"app-progress-spinner",6),r(3,"div",7)(4,"p",8),C(5),l(),r(6,"a",9),b("click",function(){return g(a),M(t.onFormCancel())}),p(7,"i",10),l(),p(8,"hr"),l(),r(9,"div",11)(10,"p",12),C(11),l(),p(12,"app-cms-form-result-message",13),r(13,"form",14,0),b("ngSubmit",function(){return g(a),M(t.onFormSubmit())}),r(15,"mat-tab-group")(16,"mat-tab",15),m(17,"translate"),r(18,"div",16),h(19,Ft,34,25,"div"),l()(),r(20,"mat-tab",15),m(21,"translate"),r(22,"div",17)(23,"div",18)(24,"app-cms-sms-apipath-selector",19),m(25,"translate"),b("optionChange",function(I){return g(a),M(t.onActionSelectPrivateSiteConfig(I))}),l(),h(26,Bt,2,6,"app-cms-sms-api-number-selector",20),l(),r(27,"div",21)(28,"div",22),p(29,"div",23),r(30,"div",24)(31,"div",25)(32,"label",26),C(33),m(34,"translate"),l(),r(35,"textarea",27,1),pe("ngModelChange",function(I){return g(a),se(t.dataModel.message,I)||(t.dataModel.message=I),M(I)}),l(),r(37,"em"),C(38),l(),h(39,Ht,6,6,"mat-error"),l()(),r(40,"div",28),h(41,Qt,10,7,"div",25),l(),h(42,qt,2,1,"div",29),l()()()()()()()()}if(e&2){let a=x(36);s("Key","linkto.content"),o(2),s("optionsInfoAreaId",t.constructorInfoAreaId),o(3),v(t.formInfo.formTitle),o(6),T(" ",t.formInfo.formDescription," "),o(),s("formInfo",t.formInfo),o(),s("ngStyle",we(29,Ot,t.tokenInfo==null||t.tokenInfo.access==null?null:t.tokenInfo.access.direction)),o(3),s("label",_(u(17,21,"TITLE.LINKTO"))),o(3),f(t.optionurlViewContent&&t.optionurlViewContent.length>0?19:-1),o(),s("label",_(u(21,23,"TITLE.Send_Message"))),o(4),s("optionSelectForce",t.dataModel==null?null:t.dataModel.linkApiPathId)("optionPlaceholder",u(25,25,"TITLE.Direction"))("optionSelectFirstItem",!0),o(2),f((t.dataModel.linkApiPathId==null?null:t.dataModel.linkApiPathId.length)>0?26:-1),o(7),v(u(34,27,"TITLE.Message_Text")),o(2),le("ngModel",t.dataModel.message),o(3),T("",a.value.length," / 500"),o(),f(a.errors!=null&&a.errors.required?39:-1),o(2),f((!t.dataModel.toContactCategories||(t.dataModel.toContactCategories==null?null:t.dataModel.toContactCategories.length)===0)&&(!t.dataModel.toContactContents||(t.dataModel.toContactContents==null?null:t.dataModel.toContactContents.length)===0)?41:-1),o(),f(t.formInfo.submitButtonEnabled?42:-1)}},dependencies:[ke,Qe,D,N,Fe,je,qe,He,Be,Ge,F,Ke,Ye,Ne,q,tt,et,_e,Ie,H],styles:[".style[_ngcontent-%COMP%]{padding:6px;margin:2px;font-size:20px;text-align:center;text-decoration:none;border:black solid 2px;border-radius:50%}.style-copy[_ngcontent-%COMP%]{color:#000;border-radius:20%}.whatsapp[_ngcontent-%COMP%]:hover{background-color:#adff2f}.facebook[_ngcontent-%COMP%]:hover{background:#3b5998}.twitter[_ngcontent-%COMP%]:hover{background:#55acee}.linkedin[_ngcontent-%COMP%]:hover{background:#007bb5}.telegram[_ngcontent-%COMP%]:hover{background:#125688}.cursor[_ngcontent-%COMP%]{cursor:pointer}.message-box[_ngcontent-%COMP%]{background-image:url(/assets/media/bg/iphone.png);height:600px;width:300px;background-position:center;background-repeat:no-repeat;background-size:cover;padding-right:33px;padding-left:33px}.message-box-button[_ngcontent-%COMP%]{color:#00f;border-color:transparent;background-color:transparent}.message-box-button[_ngcontent-%COMP%]:hover{color:red;font-size:initial}.message-box-button[_ngcontent-%COMP%]:active{color:#a200ff}"]});var mt=P;export{mt as a};
