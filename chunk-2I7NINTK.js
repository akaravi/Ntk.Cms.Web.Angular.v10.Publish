import{a as br}from"./chunk-XSBG6UYX.js";import{a as nn}from"./chunk-FNI7GNBM.js";import{a as Mr}from"./chunk-BFLCYSSF.js";import{a as Cr}from"./chunk-RX4A6MRL.js";import{j as mo,k as po,l as uo}from"./chunk-2KX5L3DL.js";import{a as Di}from"./chunk-IXPEP4O3.js";import{a as ho}from"./chunk-6J2KIGRI.js";import{a as At}from"./chunk-JCUWFHRI.js";import{a as Lt}from"./chunk-BBKOJKGF.js";import{a as Qt}from"./chunk-LXDGOMHV.js";import{a as xt}from"./chunk-3OXB4ASU.js";import{c as Tt,d as wt,e as yt,g as kt}from"./chunk-UBA7IFYP.js";import{a as Ze}from"./chunk-7YJZQ2MB.js";import{b as _e,d as Mo}from"./chunk-CU3OLILU.js";import{a as Et}from"./chunk-R5M5JHUG.js";import{a as Ri}from"./chunk-AGZ2HKTS.js";import{a as we}from"./chunk-MDTY2GNU.js";import{b as hr}from"./chunk-OPFAG3H4.js";import{a as So}from"./chunk-XKBE4SHI.js";import{a as q}from"./chunk-GHOZ2SNL.js";import{$b as Zi,Aa as Ci,Ab as dt,B as _i,Bb as mt,Bc as _o,Cb as pt,Db as yi,Dc as N,E as Gt,Eb as ki,F as Wt,Fb as Ai,Ga as qt,Gb as Li,H as Ht,Ha as re,Hb as xi,Ia as ae,Ib as gr,Ja as je,Jb as ut,K as Q,Kb as ft,L as fe,Lb as gt,M as ge,Mb as _t,Nb as St,O as rr,Ob as ht,P as ar,Pa as Le,Pb as Mt,Qa as cr,Qb as Ct,R as Ie,Rb as bt,Sb as vt,T as co,U as Si,Va as Ii,Wa as Ei,Wb as Qi,Xa as Ti,Xb as Ki,Ya as wi,Yb as Ji,Za as ur,Zb as Xi,_b as Yi,ac as $i,bc as en,cc as tn,fc as P,gc as V,ka as sr,kb as fr,ma as G,n as Ft,nc as Ye,o as U,oa as qe,oc as _r,r as z,s as Ce,u as be,ub as lt,uc as We,v as gi,vb as st,vc as O,w as $,x as ve,xc as Sr,y as Oe,ya as hi,yb as ct,za as Mi,zc as It}from"./chunk-QFK6R63V.js";import{m as Ge}from"./chunk-WNRZ34IP.js";import{a as ie}from"./chunk-AXHTCGA7.js";import{$d as te,Ah as oi,Bb as X,Bd as jt,Bh as Xe,Ca as K,Cb as Y,Ch as ji,Db as Z,Dh as Bt,E as ci,Ed as tt,Eh as Ui,Fa as o,Fh as Pt,Gd as ce,Gh as ri,H as di,Hb as x,Hc as nt,Hh as zi,Ib as so,Ic as He,Ih as fo,Jb as se,Jc as F,Jh as go,Ka as C,Kd as Ee,Mb as d,Nb as v,Nc as Nt,Nd as Je,O as mi,Ob as S,Od as W,P as pi,Pa as R,Pb as Be,Pc as Ne,Qa as lo,Qb as ir,Sb as T,Sd as oe,Ta as J,Tb as w,Td as Te,Ub as y,Ud as ee,Ue as mr,Va as b,Vb as k,Vc as or,Wb as Ot,X as ao,Xa as Qe,Zb as Ve,_b as ze,bc as g,ca as u,cb as it,cc as _,da as f,dc as nr,de as dr,ib as c,ih as pr,jb as r,jh as Ue,kb as a,kh as Ut,lb as h,lh as Yt,mh as Zt,nh as rt,oh as Hi,p as li,pb as A,pd as Ke,ph as zt,q as si,qb as L,qd as lr,qh as bi,rb as Re,rd as Fe,rh as vi,sb as E,sh as at,th as qi,uc as B,vb as I,vd as Qo,wd as ot,xb as p,yb as ui,yh as ni,zb as fi,zh as Rt}from"./chunk-MDNBQXON.js";import{i as Ae}from"./chunk-SEDBTTTN.js";var Rr=["*"];function Br(n,l){if(n&1&&(r(0,"label",11),d(1),a()),n&2){let e=p();c("for",Ot("app-cms-site-selector-",e.id)),o(),v(e.optionLabel)}}function Pr(n,l){if(n&1&&(r(0,"mat-option",12)(1,"span"),d(2),a()()),n&2){let e=l.$implicit,i=p();c("value",e)("disabled",i.optionDisabled),o(2),v(i.displayOption(e))}}function Vr(n,l){n&1&&h(0,"i",13)}function Or(n,l){n&1&&h(0,"i",14)}function Nr(n,l){if(n&1){let e=E();r(0,"i",15),I("click",function(){u(e);let t=p();return f(t.onActionSelectClear())}),a()}}function Fr(n,l){n&1&&(r(0,"em"),d(1),g(2,"translate"),a()),n&2&&(o(),S("(",_(2,1,"TITLE.Necessary"),")"))}var Bi=class Bi{constructor(l,e,i,t,s,M){this.coreEnumService=l;this.cmsToastrService=e;this.translate=i;this.cdr=t;this.publicHelper=s;this.categoryService=M;this.id=++Bi.nextId;this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new W;this.dataModelSelect=new Rt;this.formControl=new gi;this.optionDisabled=!1;this.optionRequired=!1;this.optionPlaceholder="";this.optionLabel="";this.optionSelectFirstItem=!1;this.optionChange=new Qe;this.optionReload=()=>this.onActionButtonReload();this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(l){this.onActionSelectForce(l)}ngOnInit(){this.loadOptions(),(!this.optionLabel||this.optionLabel.length==0&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder)}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(mi(""),ci(1500),di(),pi(l=>typeof l=="string"||typeof l=="number"?this.DataGetAll(l||""):[]))}displayFn(l){return l?l.id+"":void 0}displayOption(l){return l?l.id+"":void 0}DataGetAll(l){return Ae(this,null,function*(){let e=new Te;e.rowPerPage=20,e.accessLoad=!0;let i=new oe;i.propertyName="Title",i.value=l,i.searchType=jt.Contains,i.clauseType=ot.Or,e.filters.push(i),l&&typeof+l=="number"&&+l>0&&(i=new oe,i.propertyName="Id",i.value=l,i.searchType=jt.Equal,i.clauseType=ot.Or,e.filters.push(i));let t=this.constructor.name+"main";return this.translate.get("MESSAGE.Receiving_information").subscribe(s=>{this.publicHelper.processService.processStart(t,s,this.constructorInfoAreaId)}),yield li(this.categoryService.ServiceGetAll(e)).then(s=>(this.dataModelResult=s,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||this.dataModelSelect.id<=0)&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0])},1e3),this.onActionSelect(this.dataModelResult.listItems[0])),this.publicHelper.processService.processStop(t),s.listItems))})}onActionSelect(l){this.dataModelSelect=l,this.optionChange.emit(this.dataModelSelect)}onActionSelectClear(){this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null)}push(l){return this.filteredOptions.pipe(si(e=>(e.find(i=>i.id===l.id)||e.push(l),e)))}onActionSelectForce(l){if(typeof l=="number"&&l>0){if(this.dataModelSelect&&this.dataModelSelect.id===l)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(e=>e.id===l)){let e=this.dataModelResult.listItems.find(i=>i.id===l);this.dataModelSelect=e,this.formControl.setValue(e);return}this.categoryService.ServiceGetOneById(l).subscribe({next:e=>{e.isSuccess?(this.filteredOptions=this.push(e.item),this.dataModelSelect=e.item,this.formControl.setValue(e.item),this.optionChange.emit(e.item)):this.cmsToastrService.typeErrorMessage(e.errorMessage)}});return}if(typeof l==typeof Rt){this.filteredOptions=this.push(l),this.dataModelSelect=l,this.formControl.setValue(l);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new Rt,this.loadOptions()}};Bi.nextId=0,Bi.\u0275fac=function(e){return new(e||Bi)(C(te),C(O),C(P),C(B),C(N),C(Ut))},Bi.\u0275cmp=R({type:Bi,selectors:[["app-linkmanagement-accounting-selector"]],inputs:{optionDisabled:"optionDisabled",optionRequired:"optionRequired",optionPlaceholder:"optionPlaceholder",optionLabel:"optionLabel",optionSelectFirstItem:"optionSelectFirstItem",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange"},standalone:!1,ngContentSelectors:Rr,decls:13,vars:18,consts:[["matauto","matAutocomplete"],[1,"input-style","has-borders","has-icon","input-style-always-active","validate-field","mb-4","loader-container"],[3,"optionsInfoAreaId"],["class","color-highlight",3,"for",4,"ngIf"],["type","text","aria-label","Assignee","matInput","",3,"placeholder","formControl","matAutocomplete","required","id"],[3,"optionSelected","displayWith"],[3,"value","disabled",4,"ngFor","ngForOf"],["class","fa fa-info  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],["class","fa fa-times  action color-red-dark",3,"click",4,"ngIf"],[4,"ngIf"],[1,"color-highlight",3,"for"],[3,"value","disabled"],[1,"fa","fa-info","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"fa","fa-times","action","color-red-dark",3,"click"]],template:function(e,i){if(e&1){let t=E();ui(),r(0,"div",1),h(1,"app-progress-spinner",2),b(2,Br,2,3,"label",3),h(3,"input",4),r(4,"mat-autocomplete",5,0),I("optionSelected",function(M){return u(t),f(i.onActionSelect(M.option.value))}),b(6,Pr,3,3,"mat-option",6),g(7,"async"),a(),b(8,Vr,1,0,"i",7)(9,Or,1,0,"i",8)(10,Nr,1,0,"i",9)(11,Fr,3,3,"em",10),fi(12),a()}if(e&2){let t=x(5);o(),c("optionsInfoAreaId",i.constructorInfoAreaId),o(),c("ngIf",(i.optionLabel==null?null:i.optionLabel.length)>0),o(),c("placeholder",k(i.optionPlaceholder))("id",Ot("app-cms-site-selector-",i.id))("formControl",i.formControl)("matAutocomplete",t)("required",i.optionRequired),it("disabled",i.optionDisabled?!0:null),o(),c("displayWith",i.displayFn),o(2),c("ngForOf",_(7,16,i.filteredOptions)),o(2),c("ngIf",!i.formControl.valid),o(),c("ngIf",i.optionRequired&&i.formControl.valid),o(),c("ngIf",(i.dataModelSelect==null?null:i.dataModelSelect.id)>0),o(),c("ngIf",i.optionRequired&&(!i.dataModelSelect||!i.dataModelSelect.id||i.dataModelSelect.id<=0))}},dependencies:[He,F,U,z,Q,_i,Ti,Ei,wi,G,q,Ne,V],encapsulation:2});var on=Bi;var Gr=["vform"];function Wr(n,l){if(n&1){let e=E();r(0,"app-cms-enum-record-status-selector",39),y("modelChange",function(t){u(e);let s=p();return w(s.dataModel.recordStatus,t)||(s.dataModel.recordStatus=t),f(t)}),a()}if(n&2){let e=p();T("model",e.dataModel.recordStatus),c("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Hr(n,l){if(n&1&&(r(0,"option",40),d(1),a()),n&2){let e=l.$implicit;c("value",e.value),o(),v(e.description)}}function qr(n,l){n&1&&(r(0,"mat-error"),d(1," AccountingType is "),r(2,"strong"),d(3),g(4,"translate"),a()()),n&2&&(o(3),v(_(4,1,"MESSAGE.required")))}function jr(n,l){if(n&1&&(r(0,"mat-error"),d(1),r(2,"strong"),d(3),g(4,"translate"),a()()),n&2){let e=p(2);o(),S(" ",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle," is "),o(2),v(_(4,2,"MESSAGE.required"))}}function Ur(n,l){if(n&1){let e=E();r(0,"div",17)(1,"label",41),d(2),a(),r(3,"textarea",42,9),y("ngModelChange",function(t){u(e);let s=p();return w(s.dataModel.description,t)||(s.dataModel.description=t),f(t)}),d(5,"           "),a(),r(6,"em"),d(7),a(),b(8,jr,5,4,"mat-error",20),a()}if(n&2){let e=x(4),i=p();o(2),v(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle),o(),c("placeholder",k(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle)),T("ngModel",i.dataModel.description),o(4),S("",e.value.length," / 500"),o(),c("ngIf",e.errors==null?null:e.errors.required)}}function zr(n,l){n&1&&h(0,"i",43)}function Qr(n,l){n&1&&h(0,"i",44)}function Kr(n,l){n&1&&(r(0,"mat-error"),d(1," Debtor is "),r(2,"strong"),d(3),g(4,"translate"),a()()),n&2&&(o(3),v(_(4,1,"MESSAGE.required")))}function Jr(n,l){n&1&&h(0,"i",43)}function Xr(n,l){n&1&&h(0,"i",44)}function Yr(n,l){n&1&&(r(0,"mat-error"),d(1," Creditor is "),r(2,"strong"),d(3),g(4,"translate"),a()()),n&2&&(o(3),v(_(4,1,"MESSAGE.required")))}function Zr(n,l){n&1&&(r(0,"mat-error"),d(1," FishNumber is "),r(2,"strong"),d(3),g(4,"translate"),a()()),n&2&&(o(3),v(_(4,1,"MESSAGE.required")))}function $r(n,l){n&1&&(r(0,"mat-error"),d(1," TokenNumber is "),r(2,"strong"),d(3),g(4,"translate"),a()()),n&2&&(o(3),v(_(4,1,"MESSAGE.required")))}function ea(n,l){n&1&&(r(0,"mat-error"),d(1," ReceiptCode is "),r(2,"strong"),d(3),g(4,"translate"),a()()),n&2&&(o(3),v(_(4,1,"MESSAGE.required")))}function ta(n,l){if(n&1){let e=E();r(0,"div",45)(1,"button",46),I("click",function(){u(e);let t=p();return f(t.onFormCancel())}),h(2,"i",47),d(3),g(4,"translate"),a(),r(5,"button",48),h(6,"i",49),d(7),g(8,"translate"),a()()}if(n&2){p();let e=x(9);o(3),S(" ",_(4,3,"ACTION.CANCEL")," "),o(2),c("disabled",!e.form.valid),o(2),S(" ",_(8,5,"ACTION.SAVE")," ")}}var rn=class rn extends Et{constructor(e,i,t,s,M,m,D,H,j){super(s,new ni,D,j);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.categoryService=s;this.linkManagementEnumService=M;this.cmsToastrService=m;this.publicHelper=D;this.cdr=H;this.translate=j;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new W;this.dataModel=new ni;this.formInfo=new ee;this.dataModelEnumSharingAccountingTypeResult=new W;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.translate.get("TITLE.Register_New_Categories").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess(),this.getEnumSharingAccountingType()}getEnumSharingAccountingType(){this.linkManagementEnumService.ServiceSharingAccountingTypeEnum().subscribe(e=>{this.dataModelEnumSharingAccountingTypeResult=e})}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.categoryService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.formAlert=t}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorAccount(e){if(!e||!e.id||e.id<=0){this.translate.get("MESSAGE.Account_information_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkManagementAccountingId=e.id}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};rn.\u0275fac=function(i){return new(i||rn)(C(ae),C(re),C(te),C(Yt),C(Ue),C(O),C(N),C(B),C(P))},rn.\u0275cmp=R({type:rn,selectors:[["app-linkmanagement-accounting-detail-add"]],viewQuery:function(i,t){if(i&1&&X(Gr,5),i&2){let s;Y(s=Z())&&(t.formGroup=s.first)}},standalone:!1,features:[J],decls:75,vars:63,consts:[["vform","ngForm"],["AccountingType","ngModel"],["Debtor",""],["Creditor",""],["LinkExternalShopInvoiceSaleDetailId",""],["RowNumber",""],["FishNumber",""],["TokenNumber",""],["ReceiptCode",""],["Description",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["id","dataModel.accountingType","name","dataModel.accountingType",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["for","dataModel.debtor",1,"color-highlight"],["matInput","","type","number","name","dataModel.debtor","minlength","0","required","","id","dataModel.debtor",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","fa fa-times  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],["for","dataModel.creditor",1,"color-highlight"],["matInput","","type","number","name","dataModel.creditor","minlength","0","required","","id","dataModel.creditor",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.linkExternalShopInvoiceSaleDetailId",1,"color-highlight"],["matInput","","type","number","name","dataModel.linkExternalShopInvoiceSaleDetailId","id","dataModel.linkExternalShopInvoiceSaleDetailId",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.rowNumber",1,"color-highlight"],["matInput","","type","number","name","dataModel.rowNumber","id","dataModel.rowNumber",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.fishNumber",1,"color-highlight"],["matInput","","type","text","name","dataModel.fishNumber","minlength","3","maxlength","100","required","","id","dataModel.fishNumber",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.tokenNumber",1,"color-highlight"],["matInput","","type","text","name","dataModel.tokenNumber","minlength","3","maxlength","100","required","","id","dataModel.tokenNumber",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.receiptCode",1,"color-highlight"],["matInput","","type","text","name","dataModel.receiptCode","minlength","3","maxlength","100","required","","id","dataModel.receiptCode",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"value"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=E();r(0,"div",10),h(1,"app-progress-spinner",11),r(2,"div",12)(3,"p",13),d(4),a(),r(5,"p"),d(6),g(7,"translate"),a(),r(8,"form",14,0),I("ngSubmit",function(){return u(s),f(t.onFormSubmit())}),b(10,Wr,1,5,"app-cms-enum-record-status-selector",15),r(11,"app-linkmanagement-accounting-selector",16),g(12,"translate"),I("optionChange",function(m){return u(s),f(t.onActionSelectorAccount(m))}),a(),r(13,"div",17)(14,"select",18,1),y("ngModelChange",function(m){return u(s),w(t.dataModel.accountingType,m)||(t.dataModel.accountingType=m),f(m)}),b(16,Hr,2,2,"option",19),a(),r(17,"em"),d(18),g(19,"translate"),a(),b(20,qr,5,3,"mat-error",20),a(),b(21,Ur,9,6,"div",21),r(22,"div",17)(23,"label",22),d(24),a(),r(25,"input",23,2),g(27,"translate"),y("ngModelChange",function(m){return u(s),w(t.dataModel.debtor,m)||(t.dataModel.debtor=m),f(m)}),a(),b(28,zr,1,0,"i",24)(29,Qr,1,0,"i",25)(30,Kr,5,3,"mat-error",20),a(),r(31,"div",17)(32,"label",26),d(33),a(),r(34,"input",27,3),g(36,"translate"),y("ngModelChange",function(m){return u(s),w(t.dataModel.creditor,m)||(t.dataModel.creditor=m),f(m)}),a(),b(37,Jr,1,0,"i",24)(38,Xr,1,0,"i",25)(39,Yr,5,3,"mat-error",20),a(),r(40,"div",17)(41,"label",28),d(42),a(),r(43,"input",29,4),y("ngModelChange",function(m){return u(s),w(t.dataModel.linkExternalShopInvoiceSaleDetailId,m)||(t.dataModel.linkExternalShopInvoiceSaleDetailId=m),f(m)}),a()(),r(45,"div",17)(46,"label",30),d(47),a(),r(48,"input",31,5),y("ngModelChange",function(m){return u(s),w(t.dataModel.rowNumber,m)||(t.dataModel.rowNumber=m),f(m)}),a()(),r(50,"div",17)(51,"label",32),d(52),a(),r(53,"input",33,6),y("ngModelChange",function(m){return u(s),w(t.dataModel.fishNumber,m)||(t.dataModel.fishNumber=m),f(m)}),a(),r(55,"em"),d(56),a(),b(57,Zr,5,3,"mat-error",20),a(),r(58,"div",17)(59,"label",34),d(60),a(),r(61,"input",35,7),y("ngModelChange",function(m){return u(s),w(t.dataModel.tokenNumber,m)||(t.dataModel.tokenNumber=m),f(m)}),a(),r(63,"em"),d(64),a(),b(65,$r,5,3,"mat-error",20),a(),r(66,"div",17)(67,"label",36),d(68),a(),r(69,"input",37,8),y("ngModelChange",function(m){return u(s),w(t.dataModel.receiptCode,m)||(t.dataModel.receiptCode=m),f(m)}),a(),r(71,"em"),d(72),a(),b(73,ea,5,3,"mat-error",20),a(),b(74,ta,9,7,"div",38),a()()()}if(i&2){let s=x(15),M=x(26),m=x(35),D=x(54),H=x(62),j=x(70);o(),c("optionsInfoAreaId",t.constructorInfoAreaId),o(3),S(" ",t.formInfo.formTitle," "),o(2),S(" ",_(7,53,"TITLE.Be_Careful_When_Entering_Information")," "),o(4),c("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),o(),c("optionDisabled",!(t.fieldsInfo.linkManagementAccountingId!=null&&t.fieldsInfo.linkManagementAccountingId.accessAddField))("optionSelectForce",t.dataModel.linkManagementAccountingId)("optionPlaceholder",_(12,55,"TITLE.Account")),o(3),T("ngModel",t.dataModel.accountingType),o(2),c("ngForOf",t.dataModelEnumSharingAccountingTypeResult.listItems),o(2),v(_(19,57,"TITLE.Select_type_of_content")),o(2),c("ngIf",s.errors==null?null:s.errors.required),o(),c("ngIf",t.fieldsInfo.description==null?null:t.fieldsInfo.description.accessWatchField),o(3),v(t.fieldsInfo.debtor==null?null:t.fieldsInfo.debtor.fieldTitle),o(),c("placeholder",k(_(27,59,"TITLE.Debtor_Credit"))),T("ngModel",t.dataModel.debtor),o(3),c("ngIf",!M.value),o(),c("ngIf",M.value),o(),c("ngIf",M.errors==null?null:M.errors.required),o(3),v(t.fieldsInfo.creditor==null?null:t.fieldsInfo.creditor.fieldTitle),o(),c("placeholder",k(_(36,61,"TITLE.Creditor_Credit"))),T("ngModel",t.dataModel.creditor),o(3),c("ngIf",!m.value),o(),c("ngIf",m.value),o(),c("ngIf",m.errors==null?null:m.errors.required),o(3),v(t.fieldsInfo.linkExternalShopInvoiceSaleDetailId==null?null:t.fieldsInfo.linkExternalShopInvoiceSaleDetailId.fieldTitle),o(),c("placeholder",k(t.fieldsInfo.linkExternalShopInvoiceSaleDetailId==null?null:t.fieldsInfo.linkExternalShopInvoiceSaleDetailId.fieldTitle)),T("ngModel",t.dataModel.linkExternalShopInvoiceSaleDetailId),o(4),v(t.fieldsInfo.rowNumber==null?null:t.fieldsInfo.rowNumber.fieldTitle),o(),c("placeholder",k(t.fieldsInfo.rowNumber==null?null:t.fieldsInfo.rowNumber.fieldTitle)),T("ngModel",t.dataModel.rowNumber),o(4),v(t.fieldsInfo.fishNumber==null?null:t.fieldsInfo.fishNumber.fieldTitle),o(),c("placeholder",k(t.fieldsInfo.fishNumber==null?null:t.fieldsInfo.fishNumber.fieldTitle)),T("ngModel",t.dataModel.fishNumber),o(3),S("",D.value.length," / 100"),o(),c("ngIf",D.errors==null?null:D.errors.required),o(3),v(t.fieldsInfo.tokenNumber==null?null:t.fieldsInfo.tokenNumber.fieldTitle),o(),c("placeholder",k(t.fieldsInfo.tokenNumber==null?null:t.fieldsInfo.tokenNumber.fieldTitle)),T("ngModel",t.dataModel.tokenNumber),o(3),S("",H.value.length," / 100"),o(),c("ngIf",H.errors==null?null:H.errors.required),o(3),v(t.fieldsInfo.receiptCode==null?null:t.fieldsInfo.receiptCode.fieldTitle),o(),c("placeholder",k(t.fieldsInfo.receiptCode==null?null:t.fieldsInfo.receiptCode.fieldTitle)),T("ngModel",t.dataModel.receiptCode),o(3),S("",j.value.length," / 100"),o(),c("ngIf",j.errors==null?null:j.errors.required),o(),c("ngIf",t.formInfo.formSubmitAllow)}},dependencies:[He,F,ve,Wt,Ht,U,Oe,Gt,z,Ce,Q,fe,ge,$,be,Ie,G,we,q,on,V],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});var Co=rn;var ia=["vform"];function na(n,l){if(n&1){let e=E();A(0),r(1,"div",7)(2,"label",8),d(3),a(),r(4,"input",9,0),y("ngModelChange",function(t){u(e);let s=p();return w(s.dataModelResultContent.item.id,t)||(s.dataModelResultContent.item.id=t),f(t)}),a()(),L()}if(n&2){let e=p();o(3),v(e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle),o(),c("placeholder",k(e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle)),T("ngModel",e.dataModelResultContent.item.id)}}function oa(n,l){if(n&1){let e=E();r(0,"div",10)(1,"button",11),I("click",function(){u(e);let t=p();return f(t.onFormDelete())}),h(2,"i",12),d(3),g(4,"translate"),a(),r(5,"button",13),I("click",function(){u(e);let t=p();return f(t.onFormCancel())}),h(6,"i",14),d(7),g(8,"translate"),a()()}if(n&2){let e=p();o(),c("disabled",!e.formInfo.buttonSubmittedEnabled),o(2),S(" ",_(4,3,"ACTION.DELETE")," "),o(4),S(" ",_(8,5,"ACTION.CANCEL")," ")}}var an=class an{constructor(l,e,i,t,s,M,m){this.data=l;this.dialogRef=e;this.publicHelper=i;this.linkManagementAccountingDetailService=t;this.cdr=s;this.translate=M;this.cmsToastrService=m;this.requestId=0;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.dataModelResultContent=new W;this.formInfo=new ee;this.publicHelper.processService.cdr=this.cdr,l&&(this.requestId=+l.id||0)}ngOnInit(){if(this.requestId<=0){this.cmsToastrService.typeErrorDeleteRowIsNull(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOne()}DataGetOne(){if(this.requestId===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.translate.get("TITLE.Loading_Information").subscribe(e=>{this.formInfo.formAlert=e});let l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(l,e,this.constructorInfoAreaId)}),this.linkManagementAccountingDetailService.setAccessLoad(),this.linkManagementAccountingDetailService.setAccessDataType(Ee.Editor),this.linkManagementAccountingDetailService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModelResultContent=e,e.isSuccess?this.formInfo.formAlert="":(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError=e.errorMessage,this.formInfo.formErrorStatus=!0,this.cmsToastrService.typeErrorGetOne()),this.publicHelper.processService.processStop(l)},error:e=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formErrorStatus=!0,this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(l,!1)}})}onFormDelete(){if(this.requestId===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.formInfo.formSubmitAllow=!1,this.formInfo.buttonSubmittedEnabled=!1;let l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(l,e,this.constructorInfoAreaId)}),this.linkManagementAccountingDetailService.ServiceDelete(this.requestId).subscribe({next:e=>{this.formInfo.formSubmitAllow=!e.isSuccess,e.isSuccess?(this.translate.get("MESSAGE.Deletion_Was_Successful").subscribe(i=>{this.formInfo.formAlert=i}),this.cmsToastrService.typeSuccessRemove(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError=e.errorMessage,this.cmsToastrService.typeErrorRemove()),this.formInfo.buttonSubmittedEnabled=!0,this.publicHelper.processService.processStop(l)},error:e=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(e),this.formInfo.buttonSubmittedEnabled=!0,this.publicHelper.processService.processStop(l)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};an.\u0275fac=function(e){return new(e||an)(C(ae),C(re),C(N),C(Yt),C(B),C(P),C(O))},an.\u0275cmp=R({type:an,selectors:[["app-linkmanagement-accounting-detail-delete"]],viewQuery:function(e,i){if(e&1&&X(ia,5),e&2){let t;Y(t=Z())&&(i.formGroup=t.first)}},standalone:!1,decls:12,vars:10,consts:[["Writer",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[4,"ngIf"],["class","form-actions",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModelResultContent.item.id",1,"color-highlight"],["matInput","","name","dataModelResultContent.item.id","type","text","required","","id","dataModelResultContent.item.id","readonly","",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click","disabled"],[1,"fa","fa-check-square-o"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,i){e&1&&(r(0,"div",1),h(1,"app-progress-spinner",2),r(2,"div",3)(3,"p",4),d(4),g(5,"translate"),a(),r(6,"p"),d(7),g(8,"translate"),a(),d(9),b(10,na,6,4,"ng-container",5)(11,oa,9,7,"div",6),a()()),e&2&&(o(),c("optionsInfoAreaId",i.constructorInfoAreaId),o(3),S(" ",_(5,6,"TITLE.EDIT_USER_ACCOUNT")," "),o(3),S(" ",_(8,8,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),S(" ",i.formInfo.formTitle," "),o(),c("ngIf",i.dataModelResultContent==null?null:i.dataModelResultContent.item),o(),c("ngIf",i.formInfo.formSubmitAllow))},dependencies:[F,U,z,Q,$,G,q,V],encapsulation:2});var bo=an;var ra=["vform"];function aa(n,l){if(n&1){let e=E();r(0,"app-cms-enum-record-status-selector",39),y("modelChange",function(t){u(e);let s=p();return w(s.dataModel.recordStatus,t)||(s.dataModel.recordStatus=t),f(t)}),a()}if(n&2){let e=p();T("model",e.dataModel.recordStatus),c("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function la(n,l){if(n&1&&(r(0,"option",40),d(1),a()),n&2){let e=l.$implicit;c("value",e.value),o(),v(e.description)}}function sa(n,l){n&1&&(r(0,"mat-error"),d(1," AccountingType is "),r(2,"strong"),d(3),g(4,"translate"),a()()),n&2&&(o(3),v(_(4,1,"MESSAGE.required")))}function ca(n,l){if(n&1&&(r(0,"mat-error"),d(1),r(2,"strong"),d(3),g(4,"translate"),a()()),n&2){let e=p(2);o(),S(" ",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle," is "),o(2),v(_(4,2,"MESSAGE.required"))}}function da(n,l){if(n&1){let e=E();r(0,"div",17)(1,"label",41),d(2),a(),r(3,"textarea",42,9),y("ngModelChange",function(t){u(e);let s=p();return w(s.dataModel.description,t)||(s.dataModel.description=t),f(t)}),d(5,"         "),a(),r(6,"em"),d(7),a(),b(8,ca,5,4,"mat-error",20),a()}if(n&2){let e=x(4),i=p();o(2),v(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle),o(),c("placeholder",k(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle)),T("ngModel",i.dataModel.description),o(4),S("",e.value.length," / 500"),o(),c("ngIf",e.errors==null?null:e.errors.required)}}function ma(n,l){n&1&&h(0,"i",43)}function pa(n,l){n&1&&h(0,"i",44)}function ua(n,l){n&1&&(r(0,"mat-error"),d(1," Debtor is "),r(2,"strong"),d(3),g(4,"translate"),a()()),n&2&&(o(3),v(_(4,1,"MESSAGE.required")))}function fa(n,l){n&1&&h(0,"i",43)}function ga(n,l){n&1&&h(0,"i",44)}function _a(n,l){n&1&&(r(0,"mat-error"),d(1," Creditor is "),r(2,"strong"),d(3),g(4,"translate"),a()()),n&2&&(o(3),v(_(4,1,"MESSAGE.required")))}function Sa(n,l){n&1&&(r(0,"mat-error"),d(1," FishNumber is "),r(2,"strong"),d(3),g(4,"translate"),a()()),n&2&&(o(3),v(_(4,1,"MESSAGE.required")))}function ha(n,l){n&1&&(r(0,"mat-error"),d(1," TokenNumber is "),r(2,"strong"),d(3),g(4,"translate"),a()()),n&2&&(o(3),v(_(4,1,"MESSAGE.required")))}function Ma(n,l){n&1&&(r(0,"mat-error"),d(1," ReceiptCode is "),r(2,"strong"),d(3),g(4,"translate"),a()()),n&2&&(o(3),v(_(4,1,"MESSAGE.required")))}function Ca(n,l){if(n&1){let e=E();r(0,"div",45)(1,"button",46),I("click",function(){u(e);let t=p();return f(t.onFormCancel())}),h(2,"i",47),d(3),g(4,"translate"),a(),r(5,"button",48),h(6,"i",49),d(7),g(8,"translate"),a()()}if(n&2){p();let e=x(9);o(3),S(" ",_(4,3,"ACTION.CANCEL")," "),o(2),c("disabled",!e.form.valid),o(2),S(" ",_(8,5,"ACTION.SAVE")," ")}}var ln=class ln extends Ze{constructor(e,i,t,s,M,m,D,H,j){super(s,new ni,D,j);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.categoryService=s;this.cmsToastrService=M;this.linkManagementEnumService=m;this.publicHelper=D;this.cdr=H;this.translate=j;this.requestId=0;this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new Je;this.dataModel=new ni;this.formInfo=new ee;this.dataModelEnumSharingAccountingTypeResult=new W;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=+e.id||0),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.requestId>0)this.translate.get("TITLE.Edit_Categories").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.getEnumSharingAccountingType()}getEnumSharingAccountingType(){this.linkManagementEnumService.ServiceSharingAccountingTypeEnum().subscribe(e=>{this.dataModelEnumSharingAccountingTypeResult=e})}DataGetOneContent(){if(this.requestId<=0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.categoryService.setAccessLoad(),this.categoryService.setAccessDataType(Ee.Editor),this.categoryService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.categoryService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.formAlert=t}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorAccount(e){if(!e||!e.id||e.id<=0){this.translate.get("MESSAGE.Account_information_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkManagementAccountingId=e.id}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};ln.\u0275fac=function(i){return new(i||ln)(C(ae),C(re),C(te),C(Yt),C(O),C(Ue),C(N),C(B),C(P))},ln.\u0275cmp=R({type:ln,selectors:[["app-linkmanagement-accounting-detail-edit"]],viewQuery:function(i,t){if(i&1&&X(ra,5),i&2){let s;Y(s=Z())&&(t.formGroup=s.first)}},standalone:!1,features:[J],decls:75,vars:63,consts:[["vform","ngForm"],["AccountingType","ngModel"],["Debtor",""],["Creditor",""],["LinkExternalShopInvoiceSaleDetailId",""],["RowNumber",""],["FishNumber",""],["TokenNumber",""],["ReceiptCode",""],["Description",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["id","dataModel.accountingType","name","dataModel.accountingType",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["for","dataModel.debtor",1,"color-highlight"],["matInput","","type","number","name","dataModel.debtor","minlength","0","required","","id","dataModel.debtor",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","fa fa-times  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],["for","dataModel.creditor",1,"color-highlight"],["matInput","","type","number","name","dataModel.creditor","minlength","0","required","","id","dataModel.creditor",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.linkExternalShopInvoiceSaleDetailId",1,"color-highlight"],["matInput","","type","number","name","dataModel.linkExternalShopInvoiceSaleDetailId","id","dataModel.linkExternalShopInvoiceSaleDetailId",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.rowNumber",1,"color-highlight"],["matInput","","type","number","name","dataModel.rowNumber","id","dataModel.rowNumber",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.fishNumber",1,"color-highlight"],["matInput","","type","text","name","dataModel.fishNumber","minlength","3","maxlength","100","required","","id","dataModel.fishNumber",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.tokenNumber",1,"color-highlight"],["matInput","","type","text","name","dataModel.tokenNumber","minlength","3","maxlength","100","required","","id","dataModel.tokenNumber",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.receiptCode",1,"color-highlight"],["matInput","","type","text","name","dataModel.receiptCode","minlength","3","maxlength","100","required","","id","dataModel.receiptCode",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"value"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=E();r(0,"div",10),h(1,"app-progress-spinner",11),r(2,"div",12)(3,"p",13),d(4),a(),r(5,"p"),d(6),g(7,"translate"),a(),r(8,"form",14,0),I("ngSubmit",function(){return u(s),f(t.onFormSubmit())}),b(10,aa,1,5,"app-cms-enum-record-status-selector",15),r(11,"app-linkmanagement-accounting-selector",16),g(12,"translate"),I("optionChange",function(m){return u(s),f(t.onActionSelectorAccount(m))}),a(),r(13,"div",17)(14,"select",18,1),y("ngModelChange",function(m){return u(s),w(t.dataModel.accountingType,m)||(t.dataModel.accountingType=m),f(m)}),b(16,la,2,2,"option",19),a(),r(17,"em"),d(18),g(19,"translate"),a(),b(20,sa,5,3,"mat-error",20),a(),b(21,da,9,6,"div",21),r(22,"div",17)(23,"label",22),d(24),a(),r(25,"input",23,2),g(27,"translate"),y("ngModelChange",function(m){return u(s),w(t.dataModel.debtor,m)||(t.dataModel.debtor=m),f(m)}),a(),b(28,ma,1,0,"i",24)(29,pa,1,0,"i",25)(30,ua,5,3,"mat-error",20),a(),r(31,"div",17)(32,"label",26),d(33),a(),r(34,"input",27,3),g(36,"translate"),y("ngModelChange",function(m){return u(s),w(t.dataModel.creditor,m)||(t.dataModel.creditor=m),f(m)}),a(),b(37,fa,1,0,"i",24)(38,ga,1,0,"i",25)(39,_a,5,3,"mat-error",20),a(),r(40,"div",17)(41,"label",28),d(42),a(),r(43,"input",29,4),y("ngModelChange",function(m){return u(s),w(t.dataModel.linkExternalShopInvoiceSaleDetailId,m)||(t.dataModel.linkExternalShopInvoiceSaleDetailId=m),f(m)}),a()(),r(45,"div",17)(46,"label",30),d(47),a(),r(48,"input",31,5),y("ngModelChange",function(m){return u(s),w(t.dataModel.rowNumber,m)||(t.dataModel.rowNumber=m),f(m)}),a()(),r(50,"div",17)(51,"label",32),d(52),a(),r(53,"input",33,6),y("ngModelChange",function(m){return u(s),w(t.dataModel.fishNumber,m)||(t.dataModel.fishNumber=m),f(m)}),a(),r(55,"em"),d(56),a(),b(57,Sa,5,3,"mat-error",20),a(),r(58,"div",17)(59,"label",34),d(60),a(),r(61,"input",35,7),y("ngModelChange",function(m){return u(s),w(t.dataModel.tokenNumber,m)||(t.dataModel.tokenNumber=m),f(m)}),a(),r(63,"em"),d(64),a(),b(65,ha,5,3,"mat-error",20),a(),r(66,"div",17)(67,"label",36),d(68),a(),r(69,"input",37,8),y("ngModelChange",function(m){return u(s),w(t.dataModel.receiptCode,m)||(t.dataModel.receiptCode=m),f(m)}),a(),r(71,"em"),d(72),a(),b(73,Ma,5,3,"mat-error",20),a(),b(74,Ca,9,7,"div",38),a()()()}if(i&2){let s=x(15),M=x(26),m=x(35),D=x(54),H=x(62),j=x(70);o(),c("optionsInfoAreaId",t.constructorInfoAreaId),o(3),S(" ",t.formInfo.formTitle," "),o(2),S(" ",_(7,53,"TITLE.Be_Careful_When_Entering_Information")," "),o(4),c("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),o(),c("optionDisabled",!(t.fieldsInfo.linkManagementAccountingId!=null&&t.fieldsInfo.linkManagementAccountingId.accessAddField))("optionSelectForce",t.dataModel.linkManagementAccountingId)("optionPlaceholder",_(12,55,"TITLE.Account")),o(3),T("ngModel",t.dataModel.accountingType),o(2),c("ngForOf",t.dataModelEnumSharingAccountingTypeResult.listItems),o(2),v(_(19,57,"TITLE.Select_type_of_content")),o(2),c("ngIf",s.errors==null?null:s.errors.required),o(),c("ngIf",t.fieldsInfo.description==null?null:t.fieldsInfo.description.accessWatchField),o(3),v(t.fieldsInfo.debtor==null?null:t.fieldsInfo.debtor.fieldTitle),o(),c("placeholder",k(_(27,59,"TITLE.Debtor_Credit"))),T("ngModel",t.dataModel.debtor),o(3),c("ngIf",!M.value),o(),c("ngIf",M.value),o(),c("ngIf",M.errors==null?null:M.errors.required),o(3),v(t.fieldsInfo.creditor==null?null:t.fieldsInfo.creditor.fieldTitle),o(),c("placeholder",k(_(36,61,"TITLE.Creditor_Credit"))),T("ngModel",t.dataModel.creditor),o(3),c("ngIf",!m.value),o(),c("ngIf",m.value),o(),c("ngIf",m.errors==null?null:m.errors.required),o(3),v(t.fieldsInfo.linkExternalShopInvoiceSaleDetailId==null?null:t.fieldsInfo.linkExternalShopInvoiceSaleDetailId.fieldTitle),o(),c("placeholder",k(t.fieldsInfo.linkExternalShopInvoiceSaleDetailId==null?null:t.fieldsInfo.linkExternalShopInvoiceSaleDetailId.fieldTitle)),T("ngModel",t.dataModel.linkExternalShopInvoiceSaleDetailId),o(4),v(t.fieldsInfo.rowNumber==null?null:t.fieldsInfo.rowNumber.fieldTitle),o(),c("placeholder",k(t.fieldsInfo.rowNumber==null?null:t.fieldsInfo.rowNumber.fieldTitle)),T("ngModel",t.dataModel.rowNumber),o(4),v(t.fieldsInfo.fishNumber==null?null:t.fieldsInfo.fishNumber.fieldTitle),o(),c("placeholder",k(t.fieldsInfo.fishNumber==null?null:t.fieldsInfo.fishNumber.fieldTitle)),T("ngModel",t.dataModel.fishNumber),o(3),S("",D.value.length," / 100"),o(),c("ngIf",D.errors==null?null:D.errors.required),o(3),v(t.fieldsInfo.tokenNumber==null?null:t.fieldsInfo.tokenNumber.fieldTitle),o(),c("placeholder",k(t.fieldsInfo.tokenNumber==null?null:t.fieldsInfo.tokenNumber.fieldTitle)),T("ngModel",t.dataModel.tokenNumber),o(3),S("",H.value.length," / 100"),o(),c("ngIf",H.errors==null?null:H.errors.required),o(3),v(t.fieldsInfo.receiptCode==null?null:t.fieldsInfo.receiptCode.fieldTitle),o(),c("placeholder",k(t.fieldsInfo.receiptCode==null?null:t.fieldsInfo.receiptCode.fieldTitle)),T("ngModel",t.dataModel.receiptCode),o(3),S("",j.value.length," / 100"),o(),c("ngIf",j.errors==null?null:j.errors.required),o(),c("ngIf",t.formInfo.formSubmitAllow)}},dependencies:[He,F,ve,Wt,Ht,U,Oe,Gt,z,Ce,Q,fe,ge,$,be,Ie,G,we,q,on,V],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});var vo=ln;var ba=()=>["expandedTitle"],va=()=>["expandedDetail"],Ia=()=>[5,10,20,100],Ir=n=>({display:n});function Ea(n,l){if(n&1){let e=E();r(0,"div",41)(1,"a",42),I("click",function(){u(e);let t=p();return f(t.onActionButtonNewRow())}),h(2,"i",43)(3,"br"),a(),r(4,"p",44),d(5),g(6,"translate"),a()()}n&2&&(o(5),v(_(6,1,"ACTION.ADD")))}function Ta(n,l){if(n&1){let e=E();r(0,"div",41)(1,"a",45),I("click",function(){u(e);let t=p();return f(t.onActionButtonEditRow(t.tableRowSelected))}),h(2,"i",46)(3,"br"),a(),r(4,"p",44),d(5),g(6,"translate"),a()()}n&2&&(o(5),v(_(6,1,"ACTION.EDIT")))}function wa(n,l){if(n&1){let e=E();r(0,"div",41)(1,"a",47),I("click",function(){u(e);let t=p();return f(t.onActionButtonDeleteRow(t.tableRowSelected))}),h(2,"i",48)(3,"br"),a(),r(4,"p",44),d(5),g(6,"translate"),a()()}n&2&&(o(5),v(_(6,1,"ACTION.DELETE")))}function ya(n,l){n&1&&(r(0,"mat-header-cell"),d(1),g(2,"translate"),a()),n&2&&(o(),S(" ",_(2,1,"TITLE.MENU")," "))}function ka(n,l){if(n&1){let e=E();r(0,"mat-cell")(1,"button",49),I("click",function(){let t=u(e).$implicit,s=p();return f(s.onActionTableRowSelectActionMenu(t))}),h(2,"i",50),a()()}}function Aa(n,l){if(n&1&&(r(0,"mat-header-cell",51),d(1),a()),n&2){let e=p();o(),S(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function La(n,l){if(n&1&&(r(0,"mat-cell"),d(1),a()),n&2){let e=l.$implicit;o(),S(" ",e.id," ")}}function xa(n,l){if(n&1&&(r(0,"mat-header-cell",51),d(1),a()),n&2){let e=p();o(),S(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function Da(n,l){if(n&1&&(r(0,"mat-cell"),d(1),g(2,"cmssiteinfo"),g(3,"async"),a()),n&2){let e=l.$implicit;o(),S(" ",_(3,3,_(2,1,e.linkSiteId))," ")}}function Ra(n,l){if(n&1&&(r(0,"mat-header-cell",51),d(1),a()),n&2){let e=p();o(),S(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function Ba(n,l){if(n&1&&h(0,"select",54),n&2){let e=p().$implicit,i=p();c("contentService",i.contentService)("row",e)("ngStyle",ze(3,Ir,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function Pa(n,l){if(n&1&&(r(0,"mat-cell"),h(1,"i",52),g(2,"statusIconClass"),b(3,Ba,1,5,"select",53),a()),n&2){let e=l.$implicit,i=p();o(),c("ngClass",_(2,2,e.recordStatus)),o(2),c("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessEditRow)}}function Va(n,l){if(n&1&&(r(0,"mat-header-cell",51),d(1),a()),n&2){let e=p();o(),S(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function Oa(n,l){if(n&1&&(r(0,"mat-cell"),d(1),g(2,"localeDate"),a()),n&2){let e=l.$implicit;o(),S(" ",_(2,1,e.createdDate)," ")}}function Na(n,l){if(n&1&&(r(0,"mat-header-cell",51),d(1),a()),n&2){let e=p();o(),S(" ",e.fieldsInfo.updatedDate==null?null:e.fieldsInfo.updatedDate.fieldTitle," ")}}function Fa(n,l){if(n&1&&(r(0,"mat-cell"),d(1),g(2,"localeDate"),a()),n&2){let e=l.$implicit;o(),S(" ",_(2,1,e.updatedDate)," ")}}function Ga(n,l){if(n&1&&(r(0,"mat-header-cell",51),d(1),a()),n&2){let e=p();o(),S(" ",e.fieldsInfo.debtor==null?null:e.fieldsInfo.debtor.fieldTitle," ")}}function Wa(n,l){if(n&1&&(r(0,"mat-cell"),d(1),a()),n&2){let e=l.$implicit;o(),S(" ",e.debtor," ")}}function Ha(n,l){if(n&1&&(r(0,"mat-header-cell",51),d(1),a()),n&2){let e=p();o(),S(" ",e.fieldsInfo.creditor==null?null:e.fieldsInfo.creditor.fieldTitle," ")}}function qa(n,l){if(n&1&&(r(0,"mat-cell"),d(1),a()),n&2){let e=l.$implicit;o(),S(" ",e.creditor," ")}}function ja(n,l){n&1&&(r(0,"mat-header-cell"),d(1),g(2,"translate"),a()),n&2&&(o(),S(" ",_(2,1,"TITLE.OPTION")," "))}function Ua(n,l){if(n&1&&(r(0,"mat-cell",55)(1,"button",56)(2,"mat-icon"),d(3,"more_vert"),a()(),h(4,"mat-menu",null,2),a()),n&2){let e=x(5);o(),c("matMenuTriggerFor",e)}}function za(n,l){if(n&1&&(r(0,"mat-cell"),d(1),a()),n&2){let e=l.$implicit;o(),S(" ",e.title," ")}}function Qa(n,l){if(n&1&&(h(0,"img",61),g(1,"cmsthumbnail")),n&2){let e=p().$implicit;c("src",k(_(1,2,e.linkMainImageIdSrc)),K)}}function Ka(n,l){if(n&1&&(r(0,"tr"),h(1,"td"),r(2,"td"),d(3),a()()),n&2){let e=p().$implicit,i=p();o(3),Be(" ",i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle," : ",e.description," ")}}function Ja(n,l){if(n&1){let e=E();r(0,"mat-cell")(1,"div")(2,"table")(3,"tr")(4,"th"),b(5,Qa,2,4,"img",57),a(),r(6,"th"),d(7),r(8,"span",58),I("click",function(){u(e);let t=p();return f(t.onActionCopied())}),h(9,"i",59),a()()(),b(10,Ka,4,2,"tr",60),r(11,"tr"),h(12,"td")(13,"td"),a()()()()}if(n&2){let e=l.$implicit;o(5),c("ngIf",(e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0),o(2),S(" ",e.id," "),o(),c("cdkCopyToClipboard",e.id),o(2),c("ngIf",e.description)}}function Xa(n,l){n&1&&h(0,"mat-header-row")}function Ya(n,l){if(n&1){let e=E();r(0,"mat-row",62),I("click",function(){let t=u(e).$implicit,s=p();return f(s.onActionTableRowSelect(t))})("mouseenter",function(){let t=u(e).$implicit,s=p();return f(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=u(e).$implicit,s=p();return f(s.onActionTableRowMouseLeave(t))}),a()}if(n&2){let e=l.$implicit,i=l.dataIndex,t=p();se("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",e.id===(t.tableRowSelected==null?null:t.tableRowSelected.id))}}function Za(n,l){if(n&1){let e=E();r(0,"mat-row",62),I("click",function(){let t=u(e).$implicit,s=p();return f(s.onActionTableRowSelect(t))})("mouseenter",function(){let t=u(e).$implicit,s=p();return f(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=u(e).$implicit,s=p();return f(s.onActionTableRowMouseLeave(t))}),a()}if(n&2){let e=l.$implicit,i=l.dataIndex,t=p();se("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",e.id===(t.tableRowSelected==null?null:t.tableRowSelected.id))}}function $a(n,l){if(n&1){let e=E();r(0,"mat-row",63),I("click",function(){let t=u(e).$implicit,s=p();return f(s.onActionTableRowSelect(t))})("mouseenter",function(){let t=u(e).$implicit,s=p();return f(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=u(e).$implicit,s=p();return f(s.onActionTableRowMouseLeave(t))}),a()}if(n&2){let e=l.$implicit,i=l.dataIndex,t=p();se("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",e.id===(t.tableRowSelected==null?null:t.tableRowSelected.id)),c("ngStyle",ze(7,Ir,e.expanded===!0?"":"none"))}}var sn=class sn extends Tt{constructor(e,i,t,s,M,m,D,H,j,he,ye){super(e,new ni,he,M,m);this.contentService=e;this.cmsToastrService=i;this.activatedRoute=t;this.router=s;this.tokenHelper=M;this.translate=m;this.cmsStoreService=D;this.cdr=H;this.pageInfo=j;this.publicHelper=he;this.dialog=ye;this.requestLinkManagementAccountingId=0;this.constructorInfoAreaId=this.constructor.name;this.filteModelContent=new Te;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["Id","RecordStatus","CreatedDate","UpdatedDate","action_menu"];this.tabledisplayedColumnsMobileSource=["Id","RecordStatus","CreatedDate","UpdatedDate","action_menu"];if(this.publicHelper.processService.cdr=this.cdr,this.requestLinkManagementAccountingId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkManagementAccountingId")),this.optionsSearch.parentMethods={onSubmit:ke=>this.onSubmitOptionsSearch(ke)},this.filteModelContent.sortColumn="Id",this.filteModelContent.sortType=ce.Descending,this.requestLinkManagementAccountingId>0){let ke=new oe;ke.propertyName="LinkManagementAccountingId",ke.value=this.requestLinkManagementAccountingId,this.filteModelContent.filters.push(ke)}}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.cmsApiStoreSubscribe=this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>Ae(this,null,function*(){this.tokenInfo=e,this.DataGetAll()}))}ngOnDestroy(){this.cmsApiStoreSubscribe&&this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new ni);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.setAccessLoad(),this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),t.isSuccess?(this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=ce.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=ce.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=ce.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(){let e=new qt;e.height="90%",e.disableClose=!0,e.autoFocus=!0,e.data={},this.dialog.open(Co,e).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(vo,{height:"90%",panelClass:i,enterAnimationDuration:ie.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:ie.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(s=>{this.cmsToastrService.typeErrorSelected(s)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(bo,{height:"90%",panelClass:i,enterAnimationDuration:ie.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:ie.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate&&this.DataGetAll()})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(m=>{i.set(m,0)}),this.translate.get("MESSAGE.All").subscribe(m=>{i.set(m,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(m=>{this.publicHelper.processService.processStart(t,m,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:m=>{m.isSuccess?(this.translate.get("MESSAGE.All").subscribe(D=>{i.set(D,m.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(m.errorMessage),this.publicHelper.processService.processStop(t)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(t,!1)}});let s=JSON.parse(JSON.stringify(this.filteModelContent)),M=new oe;M.propertyName="RecordStatus",M.value=tt.Available,s.filters.push(M),this.contentService.ServiceGetCount(s).subscribe({next:m=>{m.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(D=>{i.set(D,m.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(m.errorMessage),this.publicHelper.processService.processStop(t)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonReload(){this.DataGetAll()}onActionCopied(){this.cmsToastrService.typeSuccessCopedToClipboard()}onSubmitOptionsSearch(e){e&&e.length>0&&(this.filteModelContent.filters=[...this.filteModelContent.filters,...e]),this.DataGetAll()}};sn.\u0275fac=function(i){return new(i||sn)(C(Yt),C(O),C(Ke),C(Fe),C(We),C(P),C(Ge),C(B),C(It),C(N),C(je))},sn.\u0275cmp=R({type:sn,selectors:[["app-linkmanagement-accountingdetail-list"]],standalone:!1,features:[J],decls:68,vars:33,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionActionRowDisplayMenuAct","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","","multiTemplateDataRows","",3,"matSortChange","dataSource"],["matColumnDef","action_menu"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","RecordStatus"],["matColumnDef","CreatedDate"],["matColumnDef","UpdatedDate"],["matColumnDef","Debtor"],["matColumnDef","Creditor"],["matColumnDef","Action"],["class","Action",4,"matCellDef"],["matColumnDef","expandedTitle"],["matColumnDef","expandedDetail"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","ngStyle","click","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],[1,"col-4"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#FFFFFF"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"click"],[1,"fa","fa-bars","font-18"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","80","width","80",3,"src",4,"ngIf"],[1,"navi-icon","pointer",3,"click","cdkCopyToClipboard"],[1,"flaticon2-copy"],[4,"ngIf"],["aria-hidden","","height","80","width","80",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"click","mouseenter","mouseleave"],[3,"click","mouseenter","mouseleave","ngStyle"]],template:function(i,t){if(i&1){let s=E();r(0,"app-cms-html-list",3),y("optionActionGuideNoticeDisplayChange",function(m){return u(s),w(t.viewGuideNotice,m)||(t.viewGuideNotice=m),f(m)}),I("optionOnActionButtonMemoRow",function(){return u(s),f(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return u(s),f(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return u(s),f(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return u(s),f(t.onActionButtonPrintRow())}),A(1,4),d(2," ---------------------- "),L(),Re(3,5)(4,6),A(5,7),r(6,"a",8),I("click",function(){return u(s),f(t.viewGuideNotice=!t.viewGuideNotice)}),h(7,"i",9),a(),r(8,"a",8),I("click",function(){return u(s),f(t.onActionButtonReload())}),h(9,"i",10),a(),L(),A(10,11),r(11,"a",12),I("click",function(){return u(s),f(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),h(12,"mat-slide-toggle",13),d(13),g(14,"translate"),a(),r(15,"a",12),I("click",function(){return u(s),f(t.onActionButtonStatist())}),h(16,"mat-slide-toggle",13),d(17),g(18,"translate"),a(),L(),A(19,14),b(20,Ea,7,3,"div",15),L(),A(21,16),b(22,Ta,7,3,"div",15)(23,wa,7,3,"div",15),L(),A(24,17),r(25,"app-cms-search-list",18),y("optionsChange",function(m){return u(s),w(t.optionsSearch,m)||(t.optionsSearch=m),f(m)}),a(),r(26,"app-cms-statist-list",18),y("optionsChange",function(m){return u(s),w(t.optionsStatist,m)||(t.optionsStatist=m),f(m)}),a(),L(),A(27,19),r(28,"mat-table",20,0),I("matSortChange",function(){u(s);let m=x(29);return f(t.onTableSortData(m))}),A(30,21),b(31,ya,3,3,"mat-header-cell",22)(32,ka,3,0,"mat-cell",23),L(),A(33,24),b(34,Aa,2,1,"mat-header-cell",25)(35,La,2,1,"mat-cell",23),L(),A(36,26),b(37,xa,2,1,"mat-header-cell",25)(38,Da,4,5,"mat-cell",23),L(),A(39,27),b(40,Ra,2,1,"mat-header-cell",25)(41,Pa,4,4,"mat-cell",23),L(),A(42,28),b(43,Va,2,1,"mat-header-cell",25)(44,Oa,3,3,"mat-cell",23),L(),A(45,29),b(46,Na,2,1,"mat-header-cell",25)(47,Fa,3,3,"mat-cell",23),L(),A(48,30),b(49,Ga,2,1,"mat-header-cell",25)(50,Wa,2,1,"mat-cell",23),L(),A(51,31),b(52,Ha,2,1,"mat-header-cell",25)(53,qa,2,1,"mat-cell",23),L(),A(54,32),b(55,ja,3,3,"mat-header-cell",22)(56,Ua,6,1,"mat-cell",33),L(),A(57,34),b(58,za,2,1,"mat-cell",23),L(),A(59,35),b(60,Ja,14,4,"mat-cell",23),L(),b(61,Xa,1,0,"mat-header-row",36)(62,Ya,1,6,"mat-row",37)(63,Za,1,6,"mat-row",37)(64,$a,1,9,"mat-row",38),a(),L(),A(65,39),r(66,"mat-paginator",40,1),I("page",function(m){return u(s),f(t.onTablePageingData(m))}),a(),L(),a()}i&2&&(c("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),T("optionActionGuideNoticeDisplay",t.viewGuideNotice),c("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelectDoubleClick)("optionActionRowDisplayMenuAct",t.tableRowSelectActionMenuClick)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),o(12),c("checked",t.optionsSearch.data.show),o(),S("",_(14,26,"ACTION.SEARCH")," "),o(3),c("checked",t.optionsStatist.data.show),o(),S("",_(18,28,"ACTION.STATIST")," "),o(3),c("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessAddRow),o(2),c("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),o(),c("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),o(2),T("options",t.optionsSearch),o(),T("options",t.optionsStatist),o(2),c("dataSource",t.tableSource),o(33),c("matHeaderRowDef",t.tabledisplayedColumns),o(),c("matRowDefColumns",Ve(30,ba)),o(),c("matRowDefColumns",t.tabledisplayedColumns),o(),c("matRowDefColumns",Ve(31,va)),o(2),c("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",Ve(32,Ia)))},dependencies:[nt,F,Nt,qe,Le,G,lt,st,ct,dt,mt,pt,ut,gt,Mt,_t,ft,Ct,St,ht,bt,vt,Ii,wt,yt,kt,Qt,Ne,V,At,_e,Lt,xt],encapsulation:2});var to=sn;var el=["*"];function tl(n,l){if(n&1&&(r(0,"label",11),d(1),a()),n&2){let e=p();c("for",Ot("app-cms-site-selector-",e.id)),o(),v(e.optionLabel)}}function il(n,l){if(n&1&&(r(0,"mat-option",12)(1,"span"),d(2),a()()),n&2){let e=l.$implicit,i=p();c("value",e)("disabled",i.optionDisabled),o(2),v(i.displayOption(e))}}function nl(n,l){n&1&&h(0,"i",13)}function ol(n,l){n&1&&h(0,"i",14)}function rl(n,l){if(n&1){let e=E();r(0,"i",15),I("click",function(){u(e);let t=p();return f(t.onActionSelectClear())}),a()}}function al(n,l){n&1&&(r(0,"em"),d(1),g(2,"translate"),a()),n&2&&(o(),S("(",_(2,1,"TITLE.Necessary"),")"))}var Pi=class Pi{constructor(l,e,i,t,s,M){this.coreEnumService=l;this.cmsToastrService=e;this.cdr=i;this.publicHelper=t;this.translate=s;this.categoryService=M;this.id=++Pi.nextId;this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new W;this.dataModelSelect=new Bt;this.formControl=new gi;this.optionPlaceholder="";this.optionLabel="";this.optionSelectFirstItem=!1;this.optionDisabled=!1;this.optionRequired=!1;this.optionChange=new Qe;this.optionReload=()=>this.onActionButtonReload();this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(l){this.onActionSelectForce(l)}ngOnInit(){this.loadOptions(),(!this.optionLabel||this.optionLabel.length==0&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder)}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(mi(""),ci(1500),di(),pi(l=>typeof l=="string"||typeof l=="number"?this.DataGetAll(l||""):[]))}displayFn(l){return l?l.id+"":void 0}displayOption(l){return l?l.id+"":void 0}DataGetAll(l){return Ae(this,null,function*(){let e=new Te;e.rowPerPage=20,e.accessLoad=!0;let i=new oe;i.propertyName="Title",i.value=l,i.searchType=jt.Contains,i.clauseType=ot.Or,e.filters.push(i),l&&typeof+l=="number"&&+l>0&&(i=new oe,i.propertyName="Id",i.value=l,i.searchType=jt.Equal,i.clauseType=ot.Or,e.filters.push(i));let t=this.constructor.name+"main";return this.translate.get("MESSAGE.Receiving_information").subscribe(s=>{this.publicHelper.processService.processStart(t,s,this.constructorInfoAreaId)}),yield li(this.categoryService.ServiceGetAll(e)).then(s=>(this.dataModelResult=s,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||this.dataModelSelect.id<=0)&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0])},1e3),this.onActionSelect(this.dataModelResult.listItems[0])),this.publicHelper.processService.processStop(t),s.listItems))})}onActionSelect(l){this.dataModelSelect=l,this.optionChange.emit(this.dataModelSelect)}onActionSelectClear(){this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null)}push(l){return this.filteredOptions.pipe(si(e=>(e.find(i=>i.id===l.id)||e.push(l),e)))}onActionSelectForce(l){if(typeof l=="number"&&l>0){if(this.dataModelSelect&&this.dataModelSelect.id===l)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(e=>e.id===l)){let e=this.dataModelResult.listItems.find(i=>i.id===l);this.dataModelSelect=e,this.formControl.setValue(e);return}this.categoryService.ServiceGetOneById(l).subscribe({next:e=>{e.isSuccess?(this.filteredOptions=this.push(e.item),this.dataModelSelect=e.item,this.formControl.setValue(e.item),this.optionChange.emit(e.item)):this.cmsToastrService.typeErrorMessage(e.errorMessage)}});return}if(typeof l==typeof Bt){this.filteredOptions=this.push(l),this.dataModelSelect=l,this.formControl.setValue(l);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new Bt,this.loadOptions()}};Pi.nextId=0,Pi.\u0275fac=function(e){return new(e||Pi)(C(te),C(O),C(B),C(N),C(P),C(zt))},Pi.\u0275cmp=R({type:Pi,selectors:[["app-linkmanagement-member-selector"]],inputs:{optionPlaceholder:"optionPlaceholder",optionLabel:"optionLabel",optionSelectFirstItem:"optionSelectFirstItem",optionDisabled:"optionDisabled",optionRequired:"optionRequired",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange"},standalone:!1,ngContentSelectors:el,decls:13,vars:18,consts:[["matauto","matAutocomplete"],[1,"input-style","has-borders","has-icon","input-style-always-active","validate-field","mb-4","loader-container"],[3,"optionsInfoAreaId"],["class","color-highlight",3,"for",4,"ngIf"],["type","text","aria-label","Assignee","matInput","",3,"placeholder","formControl","matAutocomplete","required","id"],[3,"optionSelected","displayWith"],[3,"value","disabled",4,"ngFor","ngForOf"],["class","fa fa-info  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],["class","fa fa-times  action color-red-dark",3,"click",4,"ngIf"],[4,"ngIf"],[1,"color-highlight",3,"for"],[3,"value","disabled"],[1,"fa","fa-info","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"fa","fa-times","action","color-red-dark",3,"click"]],template:function(e,i){if(e&1){let t=E();ui(),r(0,"div",1),h(1,"app-progress-spinner",2),b(2,tl,2,3,"label",3),h(3,"input",4),r(4,"mat-autocomplete",5,0),I("optionSelected",function(M){return u(t),f(i.onActionSelect(M.option.value))}),b(6,il,3,3,"mat-option",6),g(7,"async"),a(),b(8,nl,1,0,"i",7)(9,ol,1,0,"i",8)(10,rl,1,0,"i",9)(11,al,3,3,"em",10),fi(12),a()}if(e&2){let t=x(5);o(),c("optionsInfoAreaId",i.constructorInfoAreaId),o(),c("ngIf",(i.optionLabel==null?null:i.optionLabel.length)>0),o(),c("placeholder",k(i.optionPlaceholder))("id",Ot("app-cms-site-selector-",i.id))("formControl",i.formControl)("matAutocomplete",t)("required",i.optionRequired),it("disabled",i.optionDisabled?!0:null),o(),c("displayWith",i.displayFn),o(2),c("ngForOf",_(7,16,i.filteredOptions)),o(2),c("ngIf",!i.formControl.valid),o(),c("ngIf",i.optionRequired&&i.formControl.valid),o(),c("ngIf",(i.dataModelSelect==null?null:i.dataModelSelect.id)>0),o(),c("ngIf",i.optionRequired&&(!i.dataModelSelect||!i.dataModelSelect.id||i.dataModelSelect.id<=0))}},dependencies:[He,F,U,z,Q,_i,Ti,Ei,wi,G,q,Ne,V],encapsulation:2});var ti=Pi;var ll=["vform"];function sl(n,l){if(n&1){let e=E();r(0,"app-cms-enum-record-status-selector",30),y("modelChange",function(t){u(e);let s=p();return w(s.dataModel.recordStatus,t)||(s.dataModel.recordStatus=t),f(t)}),a()}if(n&2){let e=p();T("model",e.dataModel.recordStatus),c("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function cl(n,l){if(n&1){let e=E();r(0,"div",31)(1,"div",32)(2,"h5",33),d(3),a()(),r(4,"div",34)(5,"div",35)(6,"input",36),y("ngModelChange",function(t){u(e);let s=p();return w(s.dataModel.isCertainDocument,t)||(s.dataModel.isCertainDocument=t),f(t)}),a(),h(7,"label",37),a()()()}if(n&2){let e=p();o(3),S(" ",e.fieldsInfo.isCertainDocument==null?null:e.fieldsInfo.isCertainDocument.fieldTitle),o(3),T("ngModel",e.dataModel.isCertainDocument)}}function dl(n,l){if(n&1&&(r(0,"mat-error"),d(1),r(2,"strong"),d(3),g(4,"translate"),a()()),n&2){let e=p(2);o(),S(" ",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle," is "),o(2),v(_(4,2,"MESSAGE.required"))}}function ml(n,l){if(n&1){let e=E();r(0,"div",15)(1,"label",38),d(2),a(),r(3,"textarea",39,4),y("ngModelChange",function(t){u(e);let s=p();return w(s.dataModel.description,t)||(s.dataModel.description=t),f(t)}),d(5,"             "),a(),r(6,"em"),d(7),a(),b(8,dl,5,4,"mat-error",20),a()}if(n&2){let e=x(4),i=p();o(2),v(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle),o(),c("placeholder",k(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle)),T("ngModel",i.dataModel.description),o(4),S("",e.value.length," / 500"),o(),c("ngIf",e.errors==null?null:e.errors.required)}}function pl(n,l){n&1&&h(0,"i",40)}function ul(n,l){n&1&&h(0,"i",41)}function fl(n,l){n&1&&(r(0,"mat-error"),d(1," Debtor is "),r(2,"strong"),d(3),g(4,"translate"),a()()),n&2&&(o(3),v(_(4,1,"MESSAGE.required")))}function gl(n,l){n&1&&h(0,"i",40)}function _l(n,l){n&1&&h(0,"i",41)}function Sl(n,l){n&1&&(r(0,"mat-error"),d(1," Creditor is "),r(2,"strong"),d(3),g(4,"translate"),a()()),n&2&&(o(3),v(_(4,1,"MESSAGE.required")))}function hl(n,l){if(n&1){let e=E();r(0,"div",23)(1,"label",42),d(2),a(),r(3,"input",43),y("ngModelChange",function(t){u(e);let s=p();return w(s.dataModel.endDate,t)||(s.dataModel.endDate=t),f(t)}),a(),h(4,"mat-datepicker-toggle",26)(5,"mat-datepicker",27,5),a()}if(n&2){let e=x(6),i=p();o(2),v(i.fieldsInfo.endDate==null?null:i.fieldsInfo.endDate.fieldTitle),o(),c("matDatepicker",e),T("ngModel",i.dataModel.endDate),o(),c("for",e)}}function Ml(n,l){if(n&1){let e=E();r(0,"div",44)(1,"button",45),I("click",function(){u(e);let t=p();return f(t.onFormCancel())}),h(2,"i",46),d(3),g(4,"translate"),a(),r(5,"button",47),h(6,"i",48),d(7),g(8,"translate"),a()()}if(n&2){p();let e=x(9);o(3),S(" ",_(4,3,"ACTION.CANCEL")," "),o(2),c("disabled",!e.form.valid),o(2),S(" ",_(8,5,"ACTION.SAVE")," ")}}var bn=class bn extends Et{constructor(e,i,t,s,M,m,D,H){super(s,new Rt,m,H);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.categoryService=s;this.cmsToastrService=M;this.publicHelper=m;this.cdr=D;this.translate=H;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new W;this.dataModel=new Rt;this.formInfo=new ee;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.translate.get("TITLE.Register_New_Categories").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess()}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.categoryService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.formAlert=t}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorSelectLinkManagementMemberId(e){if(!e||e.id<=0){this.translate.get("MESSAGE.Type_of_User_account_is_not_known").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkManagementMemberId=e.id}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};bn.\u0275fac=function(i){return new(i||bn)(C(ae),C(re),C(te),C(Ut),C(O),C(N),C(B),C(P))},bn.\u0275cmp=R({type:bn,selectors:[["app-linkmanagement-accounting-add"]],viewQuery:function(i,t){if(i&1&&X(ll,5),i&2){let s;Y(s=Z())&&(t.formGroup=s.first)}},standalone:!1,features:[J],decls:42,vars:36,consts:[["vform","ngForm"],["Debtor",""],["Creditor",""],["BeginDate",""],["Description",""],["EndDate",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionChange","optionSelectForce","optionPlaceholder"],["class","d-flex mb-3",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.debtor",1,"color-highlight"],["matInput","","type","number","name","dataModel.debtor","minlength","0","required","","id","dataModel.debtor",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","fa fa-times  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],[4,"ngIf"],["for","dataModel.creditor",1,"color-highlight"],["matInput","","type","number","name","dataModel.creditor","minlength","0","required","","id","dataModel.creditor",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],["for","dataModel.beginDate",1,"color-highlight"],["matInput","","name","dataModel.beginDate","id","dataModel.beginDate",1,"form-control","validate-name",3,"ngModelChange","matDatepicker","ngModel"],["matSuffix","",3,"for"],["touchUi",""],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4 cms-input-group",4,"ngIf"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.isCertainDocument",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.isCertainDocument","name","dataModel.isCertainDocument",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.isCertainDocument",1,"custom-control-label"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.endDate",1,"color-highlight"],["matInput","","name","dataModel.endDate","id","dataModel.endDate",1,"form-control","validate-name",3,"ngModelChange","matDatepicker","ngModel"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=E();r(0,"div",6),h(1,"app-progress-spinner",7),r(2,"div",8)(3,"p",9),d(4),a(),r(5,"p"),d(6),g(7,"translate"),a(),r(8,"form",10,0),I("ngSubmit",function(){return u(s),f(t.onFormSubmit())}),b(10,sl,1,5,"app-cms-enum-record-status-selector",11),r(11,"app-linkmanagement-member-selector",12),g(12,"translate"),I("optionChange",function(m){return u(s),f(t.onActionSelectorSelectLinkManagementMemberId(m))}),a(),b(13,cl,8,2,"div",13)(14,ml,9,6,"div",14),r(15,"div",15)(16,"label",16),d(17),a(),r(18,"input",17,1),g(20,"translate"),y("ngModelChange",function(m){return u(s),w(t.dataModel.debtor,m)||(t.dataModel.debtor=m),f(m)}),a(),b(21,pl,1,0,"i",18)(22,ul,1,0,"i",19)(23,fl,5,3,"mat-error",20),a(),r(24,"div",15)(25,"label",21),d(26),a(),r(27,"input",22,2),g(29,"translate"),y("ngModelChange",function(m){return u(s),w(t.dataModel.creditor,m)||(t.dataModel.creditor=m),f(m)}),a(),b(30,gl,1,0,"i",18)(31,_l,1,0,"i",19)(32,Sl,5,3,"mat-error",20),a(),r(33,"div",23)(34,"label",24),d(35),a(),r(36,"input",25),y("ngModelChange",function(m){return u(s),w(t.dataModel.beginDate,m)||(t.dataModel.beginDate=m),f(m)}),a(),h(37,"mat-datepicker-toggle",26)(38,"mat-datepicker",27,3),a(),b(40,hl,7,4,"div",28)(41,Ml,9,7,"div",29),a()()()}if(i&2){let s=x(19),M=x(28),m=x(39);o(),c("optionsInfoAreaId",t.constructorInfoAreaId),o(3),S(" ",t.formInfo.formTitle," "),o(2),S(" ",_(7,28,"TITLE.Be_Careful_When_Entering_Information")," "),o(4),c("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),o(),c("optionSelectForce",t.dataModel.linkManagementMemberId)("optionPlaceholder",_(12,30,"TITLE.User_Account")),o(2),c("ngIf",t.fieldsInfo.isCertainDocument==null?null:t.fieldsInfo.isCertainDocument.accessWatchField),o(),c("ngIf",t.fieldsInfo.description==null?null:t.fieldsInfo.description.accessWatchField),o(3),v(t.fieldsInfo.debtor==null?null:t.fieldsInfo.debtor.fieldTitle),o(),c("placeholder",k(_(20,32,"TITLE.Debtor_Credit"))),T("ngModel",t.dataModel.debtor),o(3),c("ngIf",!s.value),o(),c("ngIf",s.value),o(),c("ngIf",s.errors==null?null:s.errors.required),o(3),v(t.fieldsInfo.creditor==null?null:t.fieldsInfo.creditor.fieldTitle),o(),c("placeholder",k(_(29,34,"TITLE.Creditor_Credit"))),T("ngModel",t.dataModel.creditor),o(3),c("ngIf",!M.value),o(),c("ngIf",M.value),o(),c("ngIf",M.errors==null?null:M.errors.required),o(3),v(t.fieldsInfo.beginDate==null?null:t.fieldsInfo.beginDate.fieldTitle),o(),c("matDatepicker",m),T("ngModel",t.dataModel.beginDate),o(),c("for",m),o(3),c("ngIf",t.fieldsInfo.endDate==null?null:t.fieldsInfo.endDate.accessWatchField),o(),c("ngIf",t.formInfo.formSubmitAllow)}},dependencies:[F,ve,U,Oe,Ft,z,Ce,Q,fe,ge,$,be,hi,Mi,Ci,Ie,Si,G,we,q,ti,V],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});var Eo=bn;var Cl=["vform"];function bl(n,l){if(n&1){let e=E();A(0),r(1,"div",7)(2,"label",8),d(3),a(),r(4,"input",9,0),y("ngModelChange",function(t){u(e);let s=p();return w(s.dataModelResultContent.item.id,t)||(s.dataModelResultContent.item.id=t),f(t)}),a()(),L()}if(n&2){let e=p();o(3),v(e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle),o(),c("placeholder",k(e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle)),T("ngModel",e.dataModelResultContent.item.id)}}function vl(n,l){if(n&1){let e=E();r(0,"div",10)(1,"button",11),I("click",function(){u(e);let t=p();return f(t.onFormDelete())}),h(2,"i",12),d(3),g(4,"translate"),a(),r(5,"button",13),I("click",function(){u(e);let t=p();return f(t.onFormCancel())}),h(6,"i",14),d(7),g(8,"translate"),a()()}if(n&2){let e=p();o(),c("disabled",!e.formInfo.buttonSubmittedEnabled),o(2),S(" ",_(4,3,"ACTION.DELETE")," "),o(4),S(" ",_(8,5,"ACTION.CANCEL")," ")}}var vn=class vn{constructor(l,e,i,t,s,M,m){this.data=l;this.dialogRef=e;this.publicHelper=i;this.linkManagementAccountingService=t;this.cdr=s;this.cmsToastrService=M;this.translate=m;this.requestId=0;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.dataModelResultContent=new W;this.formInfo=new ee;this.publicHelper.processService.cdr=this.cdr,l&&(this.requestId=+l.id||0)}ngOnInit(){if(this.requestId<=0){this.cmsToastrService.typeErrorDeleteRowIsNull(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOne()}DataGetOne(){if(this.requestId===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.translate.get("TITLE.Loading_Information").subscribe(e=>{this.formInfo.formAlert=e});let l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(l,e,this.constructorInfoAreaId)}),this.linkManagementAccountingService.setAccessLoad(),this.linkManagementAccountingService.setAccessDataType(Ee.Editor),this.linkManagementAccountingService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModelResultContent=e,e.isSuccess?this.formInfo.formAlert="":(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError=e.errorMessage,this.formInfo.formErrorStatus=!0,this.cmsToastrService.typeErrorGetOne()),this.publicHelper.processService.processStop(l)},error:e=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formErrorStatus=!0,this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(l,!1)}})}onFormDelete(){if(this.requestId===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.formInfo.formSubmitAllow=!1,this.formInfo.buttonSubmittedEnabled=!1;let l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(l,e,this.constructorInfoAreaId)}),this.linkManagementAccountingService.ServiceDelete(this.requestId).subscribe({next:e=>{this.formInfo.formSubmitAllow=!e.isSuccess,e.isSuccess?(this.translate.get("MESSAGE.Deletion_Was_Successful").subscribe(i=>{this.formInfo.formAlert=i}),this.cmsToastrService.typeSuccessRemove(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError=e.errorMessage,this.cmsToastrService.typeErrorRemove()),this.formInfo.buttonSubmittedEnabled=!0,this.publicHelper.processService.processStop(l)},error:e=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(e),this.formInfo.buttonSubmittedEnabled=!0,this.publicHelper.processService.processStop(l)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};vn.\u0275fac=function(e){return new(e||vn)(C(ae),C(re),C(N),C(Ut),C(B),C(O),C(P))},vn.\u0275cmp=R({type:vn,selectors:[["app-linkmanagement-accounting-delete"]],viewQuery:function(e,i){if(e&1&&X(Cl,5),e&2){let t;Y(t=Z())&&(i.formGroup=t.first)}},standalone:!1,decls:12,vars:10,consts:[["Writer",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[4,"ngIf"],["class","form-actions",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModelResultContent.item.id",1,"color-highlight"],["matInput","","name","dataModelResultContent.item.id","type","text","required","","id","dataModelResultContent.item.id","readonly","",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click","disabled"],[1,"fa","fa-check-square-o"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,i){e&1&&(r(0,"div",1),h(1,"app-progress-spinner",2),r(2,"div",3)(3,"p",4),d(4),g(5,"translate"),a(),r(6,"p"),d(7),g(8,"translate"),a(),d(9),b(10,bl,6,4,"ng-container",5)(11,vl,9,7,"div",6),a()()),e&2&&(o(),c("optionsInfoAreaId",i.constructorInfoAreaId),o(3),S(" ",_(5,6,"TITLE.EDIT_USER_ACCOUNT")," "),o(3),S(" ",_(8,8,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),S(" ",i.formInfo.formTitle," "),o(),c("ngIf",i.dataModelResultContent==null?null:i.dataModelResultContent.item),o(),c("ngIf",i.formInfo.formSubmitAllow))},dependencies:[F,U,z,Q,$,G,q,V],encapsulation:2});var To=vn;var Il=["vform"];function El(n,l){if(n&1){let e=E();r(0,"app-cms-enum-record-status-selector",30),y("modelChange",function(t){u(e);let s=p();return w(s.dataModel.recordStatus,t)||(s.dataModel.recordStatus=t),f(t)}),a()}if(n&2){let e=p();T("model",e.dataModel.recordStatus),c("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Tl(n,l){if(n&1){let e=E();r(0,"div",31)(1,"div",32)(2,"h5",33),d(3),a()(),r(4,"div",34)(5,"div",35)(6,"input",36),y("ngModelChange",function(t){u(e);let s=p();return w(s.dataModel.isCertainDocument,t)||(s.dataModel.isCertainDocument=t),f(t)}),a(),h(7,"label",37),a()()()}if(n&2){let e=p();o(3),S(" ",e.fieldsInfo.isCertainDocument==null?null:e.fieldsInfo.isCertainDocument.fieldTitle),o(3),T("ngModel",e.dataModel.isCertainDocument)}}function wl(n,l){if(n&1&&(r(0,"mat-error"),d(1),r(2,"strong"),d(3),g(4,"translate"),a()()),n&2){let e=p(2);o(),S(" ",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle," is "),o(2),v(_(4,2,"MESSAGE.required"))}}function yl(n,l){if(n&1){let e=E();r(0,"div",15)(1,"label",38),d(2),a(),r(3,"textarea",39,4),y("ngModelChange",function(t){u(e);let s=p();return w(s.dataModel.description,t)||(s.dataModel.description=t),f(t)}),d(5,"              "),a(),r(6,"em"),d(7),a(),b(8,wl,5,4,"mat-error",20),a()}if(n&2){let e=x(4),i=p();o(2),v(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle),o(),c("placeholder",k(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle)),T("ngModel",i.dataModel.description),o(4),S("",e.value.length," / 500"),o(),c("ngIf",e.errors==null?null:e.errors.required)}}function kl(n,l){n&1&&h(0,"i",40)}function Al(n,l){n&1&&h(0,"i",41)}function Ll(n,l){n&1&&(r(0,"mat-error"),d(1," Debtor is "),r(2,"strong"),d(3),g(4,"translate"),a()()),n&2&&(o(3),v(_(4,1,"MESSAGE.required")))}function xl(n,l){n&1&&h(0,"i",40)}function Dl(n,l){n&1&&h(0,"i",41)}function Rl(n,l){n&1&&(r(0,"mat-error"),d(1," Creditor is "),r(2,"strong"),d(3),g(4,"translate"),a()()),n&2&&(o(3),v(_(4,1,"MESSAGE.required")))}function Bl(n,l){if(n&1){let e=E();r(0,"div",23)(1,"label",42),d(2),a(),r(3,"input",43),y("ngModelChange",function(t){u(e);let s=p();return w(s.dataModel.endDate,t)||(s.dataModel.endDate=t),f(t)}),a(),h(4,"mat-datepicker-toggle",26)(5,"mat-datepicker",27,5),a()}if(n&2){let e=x(6),i=p();o(2),v(i.fieldsInfo.endDate==null?null:i.fieldsInfo.endDate.fieldTitle),o(),c("matDatepicker",e),T("ngModel",i.dataModel.endDate),o(),c("for",e)}}function Pl(n,l){if(n&1){let e=E();r(0,"div",44)(1,"button",45),I("click",function(){u(e);let t=p();return f(t.onFormCancel())}),h(2,"i",46),d(3),g(4,"translate"),a(),r(5,"button",47),h(6,"i",48),d(7),g(8,"translate"),a()()}if(n&2){p();let e=x(9);o(3),S(" ",_(4,3,"ACTION.CANCEL")," "),o(2),c("disabled",!e.form.valid),o(2),S(" ",_(8,5,"ACTION.SAVE")," ")}}var In=class In extends Ze{constructor(e,i,t,s,M,m,D,H){super(s,new Rt,m,H);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.categoryService=s;this.cmsToastrService=M;this.publicHelper=m;this.cdr=D;this.translate=H;this.requestId=0;this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new Je;this.dataModel=new Rt;this.formInfo=new ee;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=+e.id||0),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.requestId>0)this.translate.get("TITLE.Edit_Categories").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}}DataGetOneContent(){if(this.requestId<=0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.categoryService.setAccessLoad(),this.categoryService.setAccessDataType(Ee.Editor),this.categoryService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.categoryService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.formAlert=t}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorSelectLinkManagementMemberId(e){if(!e||e.id<=0){this.translate.get("MESSAGE.Type_of_User_account_is_not_known").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkManagementMemberId=e.id}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};In.\u0275fac=function(i){return new(i||In)(C(ae),C(re),C(te),C(Ut),C(O),C(N),C(B),C(P))},In.\u0275cmp=R({type:In,selectors:[["app-linkmanagement-accounting-edit"]],viewQuery:function(i,t){if(i&1&&X(Il,5),i&2){let s;Y(s=Z())&&(t.formGroup=s.first)}},standalone:!1,features:[J],decls:42,vars:36,consts:[["vform","ngForm"],["Debtor",""],["Creditor",""],["BeginDate",""],["Description",""],["EndDate",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionChange","optionSelectForce","optionPlaceholder"],["class","d-flex mb-3",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.debtor",1,"color-highlight"],["matInput","","type","number","name","dataModel.debtor","minlength","0","required","","id","dataModel.debtor",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","fa fa-times  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],[4,"ngIf"],["for","dataModel.creditor",1,"color-highlight"],["matInput","","type","number","name","dataModel.creditor","minlength","0","required","","id","dataModel.creditor",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],["for","dataModel.beginDate",1,"color-highlight"],["matInput","","name","dataModel.beginDate","id","dataModel.beginDate",1,"form-control","validate-name",3,"ngModelChange","matDatepicker","ngModel"],["matSuffix","",3,"for"],["touchUi",""],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4 cms-input-group",4,"ngIf"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.isCertainDocument",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.isCertainDocument","name","dataModel.isCertainDocument",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.isCertainDocument",1,"custom-control-label"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.endDate",1,"color-highlight"],["matInput","","name","dataModel.endDate","id","dataModel.endDate",1,"form-control","validate-name",3,"ngModelChange","matDatepicker","ngModel"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=E();r(0,"div",6),h(1,"app-progress-spinner",7),r(2,"div",8)(3,"p",9),d(4),a(),r(5,"p"),d(6),g(7,"translate"),a(),r(8,"form",10,0),I("ngSubmit",function(){return u(s),f(t.onFormSubmit())}),b(10,El,1,5,"app-cms-enum-record-status-selector",11),r(11,"app-linkmanagement-member-selector",12),g(12,"translate"),I("optionChange",function(m){return u(s),f(t.onActionSelectorSelectLinkManagementMemberId(m))}),a(),b(13,Tl,8,2,"div",13)(14,yl,9,6,"div",14),r(15,"div",15)(16,"label",16),d(17),a(),r(18,"input",17,1),g(20,"translate"),y("ngModelChange",function(m){return u(s),w(t.dataModel.debtor,m)||(t.dataModel.debtor=m),f(m)}),a(),b(21,kl,1,0,"i",18)(22,Al,1,0,"i",19)(23,Ll,5,3,"mat-error",20),a(),r(24,"div",15)(25,"label",21),d(26),a(),r(27,"input",22,2),g(29,"translate"),y("ngModelChange",function(m){return u(s),w(t.dataModel.creditor,m)||(t.dataModel.creditor=m),f(m)}),a(),b(30,xl,1,0,"i",18)(31,Dl,1,0,"i",19)(32,Rl,5,3,"mat-error",20),a(),r(33,"div",23)(34,"label",24),d(35),a(),r(36,"input",25),y("ngModelChange",function(m){return u(s),w(t.dataModel.beginDate,m)||(t.dataModel.beginDate=m),f(m)}),a(),h(37,"mat-datepicker-toggle",26)(38,"mat-datepicker",27,3),a(),b(40,Bl,7,4,"div",28)(41,Pl,9,7,"div",29),a()()()}if(i&2){let s=x(19),M=x(28),m=x(39);o(),c("optionsInfoAreaId",t.constructorInfoAreaId),o(3),S(" ",t.formInfo.formTitle," "),o(2),S(" ",_(7,28,"TITLE.Be_Careful_When_Entering_Information")," "),o(4),c("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),o(),c("optionSelectForce",t.dataModel.linkManagementMemberId)("optionPlaceholder",_(12,30,"TITLE.User_Account")),o(2),c("ngIf",t.fieldsInfo.isCertainDocument==null?null:t.fieldsInfo.isCertainDocument.accessWatchField),o(),c("ngIf",t.fieldsInfo.description==null?null:t.fieldsInfo.description.accessWatchField),o(3),v(t.fieldsInfo.debtor==null?null:t.fieldsInfo.debtor.fieldTitle),o(),c("placeholder",k(_(20,32,"TITLE.Debtor_Credit"))),T("ngModel",t.dataModel.debtor),o(3),c("ngIf",!s.value),o(),c("ngIf",s.value),o(),c("ngIf",s.errors==null?null:s.errors.required),o(3),v(t.fieldsInfo.creditor==null?null:t.fieldsInfo.creditor.fieldTitle),o(),c("placeholder",k(_(29,34,"TITLE.Creditor_Credit"))),T("ngModel",t.dataModel.creditor),o(3),c("ngIf",!M.value),o(),c("ngIf",M.value),o(),c("ngIf",M.errors==null?null:M.errors.required),o(3),v(t.fieldsInfo.beginDate==null?null:t.fieldsInfo.beginDate.fieldTitle),o(),c("matDatepicker",m),T("ngModel",t.dataModel.beginDate),o(),c("for",m),o(3),c("ngIf",t.fieldsInfo.endDate==null?null:t.fieldsInfo.endDate.accessWatchField),o(),c("ngIf",t.formInfo.formSubmitAllow)}},dependencies:[F,ve,U,Oe,Ft,z,Ce,Q,fe,ge,$,be,hi,Mi,Ci,Ie,Si,G,we,q,ti,V],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});var wo=In;var Vl=()=>["expandedTitle"],Ol=()=>["expandedDetail"],Nl=()=>[5,10,20,100],Er=n=>({display:n});function Fl(n,l){if(n&1){let e=E();r(0,"div",17)(1,"a",47),I("click",function(){u(e);let t=p();return f(t.onActionButtonNewRow())}),h(2,"i",48)(3,"br"),a(),r(4,"p",20),d(5),g(6,"translate"),a()()}n&2&&(o(5),v(_(6,1,"ACTION.ADD")))}function Gl(n,l){if(n&1){let e=E();r(0,"div",17)(1,"a",8),I("click",function(){u(e);let t=p();return f(t.onActionButtonAccountingDetail())}),h(2,"i",21)(3,"br"),a(),r(4,"p",20),d(5),g(6,"translate"),a()()}n&2&&(o(5),v(_(6,1,"ACTION.DETAILS")))}function Wl(n,l){if(n&1){let e=E();r(0,"div",17)(1,"a",49),I("click",function(){u(e);let t=p();return f(t.onActionButtonEditRow(t.tableRowSelected))}),h(2,"i",50)(3,"br"),a(),r(4,"p",20),d(5),g(6,"translate"),a()()}n&2&&(o(5),v(_(6,1,"ACTION.EDIT")))}function Hl(n,l){if(n&1){let e=E();r(0,"div",17)(1,"a",51),I("click",function(){u(e);let t=p();return f(t.onActionButtonDeleteRow(t.tableRowSelected))}),h(2,"i",52)(3,"br"),a(),r(4,"p",20),d(5),g(6,"translate"),a()()}n&2&&(o(5),v(_(6,1,"ACTION.DELETE")))}function ql(n,l){n&1&&(r(0,"mat-header-cell"),d(1),g(2,"translate"),a()),n&2&&(o(),S(" ",_(2,1,"TITLE.MENU")," "))}function jl(n,l){if(n&1){let e=E();r(0,"mat-cell")(1,"button",53),I("click",function(){let t=u(e).$implicit,s=p();return f(s.onActionTableRowSelectActionMenu(t))}),h(2,"i",54),a()()}}function Ul(n,l){if(n&1&&(r(0,"mat-header-cell",55),d(1),a()),n&2){let e=p();o(),S(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function zl(n,l){if(n&1&&(r(0,"mat-cell"),d(1),a()),n&2){let e=l.$implicit;o(),S(" ",e.id," ")}}function Ql(n,l){if(n&1&&(r(0,"mat-header-cell",55),d(1),a()),n&2){let e=p();o(),S(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function Kl(n,l){if(n&1&&(r(0,"mat-cell"),d(1),g(2,"cmssiteinfo"),g(3,"async"),a()),n&2){let e=l.$implicit;o(),S(" ",_(3,3,_(2,1,e.linkSiteId))," ")}}function Jl(n,l){if(n&1&&(r(0,"mat-header-cell",55),d(1),a()),n&2){let e=p();o(),S(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function Xl(n,l){if(n&1&&h(0,"select",58),n&2){let e=p().$implicit,i=p();c("contentService",i.contentService)("row",e)("ngStyle",ze(3,Er,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function Yl(n,l){if(n&1&&(r(0,"mat-cell"),h(1,"i",56),g(2,"statusIconClass"),b(3,Xl,1,5,"select",57),a()),n&2){let e=l.$implicit,i=p();o(),c("ngClass",_(2,2,e.recordStatus)),o(2),c("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessEditRow)}}function Zl(n,l){if(n&1&&(r(0,"mat-header-cell",55),d(1),a()),n&2){let e=p();o(),S(" ",e.fieldsInfo.linkManagementMemberId==null?null:e.fieldsInfo.linkManagementMemberId.fieldTitle," ")}}function $l(n,l){if(n&1&&(r(0,"mat-cell"),d(1),a()),n&2){let e=l.$implicit;o(),S(" ",e.linkManagementMemberId," ")}}function es(n,l){if(n&1&&(r(0,"mat-header-cell",55),d(1),a()),n&2){let e=p();o(),S(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function ts(n,l){if(n&1&&(r(0,"mat-cell"),d(1),g(2,"localeDate"),a()),n&2){let e=l.$implicit;o(),S(" ",_(2,1,e.createdDate)," ")}}function is(n,l){if(n&1&&(r(0,"mat-header-cell",55),d(1),a()),n&2){let e=p();o(),S(" ",e.fieldsInfo.updatedDate==null?null:e.fieldsInfo.updatedDate.fieldTitle," ")}}function ns(n,l){if(n&1&&(r(0,"mat-cell"),d(1),g(2,"localeDate"),a()),n&2){let e=l.$implicit;o(),S(" ",_(2,1,e.updatedDate)," ")}}function os(n,l){if(n&1&&(r(0,"mat-header-cell",55),d(1),a()),n&2){let e=p();o(),S(" ",e.fieldsInfo.debtor==null?null:e.fieldsInfo.debtor.fieldTitle," ")}}function rs(n,l){if(n&1&&(r(0,"mat-cell"),d(1),a()),n&2){let e=l.$implicit;o(),S(" ",e.debtor," ")}}function as(n,l){if(n&1&&(r(0,"mat-header-cell",55),d(1),a()),n&2){let e=p();o(),S(" ",e.fieldsInfo.creditor==null?null:e.fieldsInfo.creditor.fieldTitle," ")}}function ls(n,l){if(n&1&&(r(0,"mat-cell"),d(1),a()),n&2){let e=l.$implicit;o(),S(" ",e.creditor," ")}}function ss(n,l){n&1&&(r(0,"mat-header-cell"),d(1),g(2,"translate"),a()),n&2&&(o(),S(" ",_(2,1,"TITLE.OPTION")," "))}function cs(n,l){if(n&1&&(r(0,"mat-cell",59)(1,"button",60)(2,"mat-icon"),d(3,"more_vert"),a()(),h(4,"mat-menu",null,2),a()),n&2){let e=x(5);o(),c("matMenuTriggerFor",e)}}function ds(n,l){if(n&1&&(r(0,"mat-cell"),d(1),g(2,"translate"),g(3,"localeDate"),h(4,"br"),d(5),g(6,"translate"),g(7,"localeDate"),a()),n&2){let e=l.$implicit;o(),Be(" ",_(2,4,"TITLE.CreationDate")," : ",_(3,6,e.createdDate)," "),o(4),Be(" ",_(6,8,"TITLE.DateOfUpdate")," : ",_(7,10,e.updatedDate)," ")}}function ms(n,l){if(n&1&&(h(0,"img",65),g(1,"cmsthumbnail")),n&2){let e=p().$implicit;c("src",k(_(1,2,e.linkMainImageIdSrc)),K)}}function ps(n,l){if(n&1&&(r(0,"tr"),h(1,"td"),r(2,"td"),d(3),a()()),n&2){let e=p().$implicit,i=p();o(3),Be(" ",i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle," : ",e.description," ")}}function us(n,l){if(n&1&&(r(0,"tr"),h(1,"td"),r(2,"td"),d(3),g(4,"localeDate"),a()()),n&2){let e=p().$implicit,i=p();o(3),Be(" ",i.fieldsInfo.beginDate==null?null:i.fieldsInfo.beginDate.fieldTitle," : ",_(4,2,e.beginDate)," ")}}function fs(n,l){if(n&1&&(r(0,"tr"),h(1,"td"),r(2,"td"),d(3),g(4,"localeDate"),a()()),n&2){let e=p().$implicit,i=p();o(3),Be(" ",i.fieldsInfo.endDate==null?null:i.fieldsInfo.endDate.fieldTitle," : ",_(4,2,e.endDate)," ")}}function gs(n,l){if(n&1){let e=E();r(0,"mat-cell")(1,"div")(2,"table")(3,"tr")(4,"th"),b(5,ms,2,4,"img",61),a(),r(6,"th")(7,"span",62),I("click",function(){u(e);let t=p();return f(t.onActionCopied())}),h(8,"i",63),a(),d(9),a()(),b(10,ps,4,2,"tr",64)(11,us,5,4,"tr",64)(12,fs,5,4,"tr",64),r(13,"tr"),h(14,"td")(15,"td"),a()()()()}if(n&2){let e=l.$implicit;o(5),c("ngIf",(e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0),o(2),c("cdkCopyToClipboard",e.id),o(2),S(" ",e.id," "),o(),c("ngIf",e.description),o(),c("ngIf",e.beginDate),o(),c("ngIf",e.endDate)}}function _s(n,l){n&1&&h(0,"mat-header-row")}function Ss(n,l){if(n&1){let e=E();r(0,"mat-row",66),I("click",function(){let t=u(e).$implicit,s=p();return f(s.onActionTableRowSelect(t))})("mouseenter",function(){let t=u(e).$implicit,s=p();return f(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=u(e).$implicit,s=p();return f(s.onActionTableRowMouseLeave(t))}),a()}if(n&2){let e=l.$implicit,i=l.dataIndex,t=p();se("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",e.id===(t.tableRowSelected==null?null:t.tableRowSelected.id))}}function hs(n,l){if(n&1){let e=E();r(0,"mat-row",66),I("click",function(){let t=u(e).$implicit,s=p();return f(s.onActionTableRowSelect(t))})("mouseenter",function(){let t=u(e).$implicit,s=p();return f(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=u(e).$implicit,s=p();return f(s.onActionTableRowMouseLeave(t))}),a()}if(n&2){let e=l.$implicit,i=l.dataIndex,t=p();se("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",e.id===(t.tableRowSelected==null?null:t.tableRowSelected.id))}}function Ms(n,l){if(n&1){let e=E();r(0,"mat-row",67),I("click",function(){let t=u(e).$implicit,s=p();return f(s.onActionTableRowSelect(t))})("mouseenter",function(){let t=u(e).$implicit,s=p();return f(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=u(e).$implicit,s=p();return f(s.onActionTableRowMouseLeave(t))}),a()}if(n&2){let e=l.$implicit,i=l.dataIndex,t=p();se("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",e.id===(t.tableRowSelected==null?null:t.tableRowSelected.id)),c("ngStyle",ze(7,Er,e.expanded===!0?"":"none"))}}var En=class En extends Tt{constructor(e,i,t,s,M,m,D,H,j,he){super(e,new Rt,j,s,m);this.contentService=e;this.cmsToastrService=i;this.router=t;this.tokenHelper=s;this.cdr=M;this.translate=m;this.cmsStoreService=D;this.pageInfo=H;this.publicHelper=j;this.dialog=he;this.constructorInfoAreaId=this.constructor.name;this.filteModelContent=new Te;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["Id","RecordStatus","LinkManagementMemberId","Debtor","Creditor","action_menu"];this.tabledisplayedColumnsMobileSource=["Id","RecordStatus","LinkManagementMemberId","Debtor","Creditor","action_menu"];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:ye=>this.onSubmitOptionsSearch(ye)},this.filteModelContent.sortColumn="Id",this.filteModelContent.sortType=ce.Descending}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.cmsApiStoreSubscribe=this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>Ae(this,null,function*(){this.tokenInfo=e,this.DataGetAll()}))}ngOnDestroy(){this.cmsApiStoreSubscribe&&this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Rt);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.setAccessLoad(),this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),t.isSuccess?(this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=ce.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=ce.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=ce.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(){let e=new qt;e.height="90%",e.disableClose=!0,e.autoFocus=!0,e.data={},this.dialog.open(Eo,e).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(wo,{height:"90%",panelClass:i,enterAnimationDuration:ie.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:ie.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(s=>{this.cmsToastrService.typeErrorSelected(s)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(To,{height:"90%",panelClass:i,enterAnimationDuration:ie.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:ie.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate&&this.DataGetAll()})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(m=>{i.set(m,0)}),this.translate.get("MESSAGE.All").subscribe(m=>{i.set(m,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(m=>{this.publicHelper.processService.processStart(t,m,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:m=>{m.isSuccess?(this.translate.get("MESSAGE.All").subscribe(D=>{i.set(D,m.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(m.errorMessage),this.publicHelper.processService.processStop(t)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(t,!1)}});let s=JSON.parse(JSON.stringify(this.filteModelContent)),M=new oe;M.propertyName="RecordStatus",M.value=tt.Available,s.filters.push(M),this.contentService.ServiceGetCount(s).subscribe({next:m=>{m.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(D=>{i.set(D,m.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(m.errorMessage),this.publicHelper.processService.processStop(t)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonReload(){this.DataGetAll()}onActionCopied(){this.cmsToastrService.typeSuccessCopedToClipboard()}onSubmitOptionsSearch(e){e&&e.length>0&&(this.filteModelContent.filters=[...this.filteModelContent.filters,...e]),this.DataGetAll()}onActionButtonAccountingDetail(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.onActionTableRowSelect(e),this.router.navigate(["/linkmanagement/accountingdetail/LinkManagementAccountingId",this.tableRowSelected.id])}};En.\u0275fac=function(i){return new(i||En)(C(Ut),C(O),C(Fe),C(We),C(B),C(P),C(Ge),C(It),C(N),C(je))},En.\u0275cmp=R({type:En,selectors:[["app-linkmanagement-accounting-list"]],standalone:!1,features:[J],decls:86,vars:40,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionActionRowDisplayMenuAct","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-chart-simple","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-memo-circle-info","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","","multiTemplateDataRows","",3,"matSortChange","dataSource"],["matColumnDef","action_menu"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","RecordStatus"],["matColumnDef","LinkManagementMemberId"],["matColumnDef","CreatedDate"],["matColumnDef","UpdatedDate"],["matColumnDef","Debtor"],["matColumnDef","Creditor"],["matColumnDef","Action"],["class","Action",4,"matCellDef"],["matColumnDef","expandedTitle"],["matColumnDef","expandedDetail"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","ngStyle","click","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"click"],[1,"fa","fa-bars","font-18"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","80","width","80",3,"src",4,"ngIf"],[1,"navi-icon","pointer",3,"click","cdkCopyToClipboard"],[1,"flaticon2-copy"],[4,"ngIf"],["aria-hidden","","height","80","width","80",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"click","mouseenter","mouseleave"],[3,"click","mouseenter","mouseleave","ngStyle"]],template:function(i,t){if(i&1){let s=E();r(0,"app-cms-html-list",3),y("optionActionGuideNoticeDisplayChange",function(m){return u(s),w(t.viewGuideNotice,m)||(t.viewGuideNotice=m),f(m)}),I("optionOnActionButtonMemoRow",function(){return u(s),f(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return u(s),f(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return u(s),f(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return u(s),f(t.onActionButtonPrintRow())}),A(1,4),d(2," ---------------------- "),L(),Re(3,5)(4,6),A(5,7),r(6,"a",8),I("click",function(){return u(s),f(t.viewGuideNotice=!t.viewGuideNotice)}),h(7,"i",9),a(),r(8,"a",8),I("click",function(){return u(s),f(t.onActionButtonReload())}),h(9,"i",10),a(),L(),A(10,11),r(11,"a",12),I("click",function(){return u(s),f(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),h(12,"mat-slide-toggle",13),d(13),g(14,"translate"),a(),r(15,"a",12),I("click",function(){return u(s),f(t.onActionButtonStatist())}),h(16,"mat-slide-toggle",13),d(17),g(18,"translate"),a(),L(),A(19,14),b(20,Fl,7,3,"div",15)(21,Gl,7,3,"div",15),L(),A(22,16),b(23,Wl,7,3,"div",15)(24,Hl,7,3,"div",15),r(25,"div",17)(26,"a",18),I("click",function(){return u(s),f(t.onActionButtonComment(t.tableRowSelected))}),h(27,"i",19)(28,"br"),a(),r(29,"p",20),d(30),g(31,"translate"),a()(),r(32,"div",17)(33,"a",18),I("click",function(){return u(s),f(t.onActionButtonAccountingDetail(t.tableRowSelected))}),h(34,"i",21)(35,"br"),a(),r(36,"p",20),d(37),g(38,"translate"),a()(),L(),A(39,22),r(40,"app-cms-search-list",23),y("optionsChange",function(m){return u(s),w(t.optionsSearch,m)||(t.optionsSearch=m),f(m)}),a(),r(41,"app-cms-statist-list",23),y("optionsChange",function(m){return u(s),w(t.optionsStatist,m)||(t.optionsStatist=m),f(m)}),a(),L(),A(42,24),r(43,"mat-table",25,0),I("matSortChange",function(){u(s);let m=x(44);return f(t.onTableSortData(m))}),A(45,26),b(46,ql,3,3,"mat-header-cell",27)(47,jl,3,0,"mat-cell",28),L(),A(48,29),b(49,Ul,2,1,"mat-header-cell",30)(50,zl,2,1,"mat-cell",28),L(),A(51,31),b(52,Ql,2,1,"mat-header-cell",30)(53,Kl,4,5,"mat-cell",28),L(),A(54,32),b(55,Jl,2,1,"mat-header-cell",30)(56,Yl,4,4,"mat-cell",28),L(),A(57,33),b(58,Zl,2,1,"mat-header-cell",30)(59,$l,2,1,"mat-cell",28),L(),A(60,34),b(61,es,2,1,"mat-header-cell",30)(62,ts,3,3,"mat-cell",28),L(),A(63,35),b(64,is,2,1,"mat-header-cell",30)(65,ns,3,3,"mat-cell",28),L(),A(66,36),b(67,os,2,1,"mat-header-cell",30)(68,rs,2,1,"mat-cell",28),L(),A(69,37),b(70,as,2,1,"mat-header-cell",30)(71,ls,2,1,"mat-cell",28),L(),A(72,38),b(73,ss,3,3,"mat-header-cell",27)(74,cs,6,1,"mat-cell",39),L(),A(75,40),b(76,ds,8,12,"mat-cell",28),L(),A(77,41),b(78,gs,16,6,"mat-cell",28),L(),b(79,_s,1,0,"mat-header-row",42)(80,Ss,1,6,"mat-row",43)(81,hs,1,6,"mat-row",43)(82,Ms,1,9,"mat-row",44),a(),L(),A(83,45),r(84,"mat-paginator",46,1),I("page",function(m){return u(s),f(t.onTablePageingData(m))}),a(),L(),a()}i&2&&(c("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),T("optionActionGuideNoticeDisplay",t.viewGuideNotice),c("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelectDoubleClick)("optionActionRowDisplayMenuAct",t.tableRowSelectActionMenuClick)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),o(12),c("checked",t.optionsSearch.data.show),o(),S("",_(14,29,"ACTION.SEARCH")," "),o(3),c("checked",t.optionsStatist.data.show),o(),S("",_(18,31,"ACTION.STATIST")," "),o(3),c("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessAddRow),o(),c("ngIf",(t.tableRowSelected==null?null:t.tableRowSelected.id)>0),o(2),c("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),o(),c("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),o(6),v(_(31,33,"ACTION.STATIST")),o(7),v(_(38,35,"ACTION.DETAILS")),o(3),T("options",t.optionsSearch),o(),T("options",t.optionsStatist),o(2),c("dataSource",t.tableSource),o(36),c("matHeaderRowDef",t.tabledisplayedColumns),o(),c("matRowDefColumns",Ve(37,Vl)),o(),c("matRowDefColumns",t.tabledisplayedColumns),o(),c("matRowDefColumns",Ve(38,Ol)),o(2),c("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",Ve(39,Nl)))},dependencies:[nt,F,Nt,qe,Le,G,lt,st,ct,dt,mt,pt,ut,gt,Mt,_t,ft,Ct,St,ht,bt,vt,Ii,wt,yt,kt,Qt,Ne,V,At,_e,Lt,xt],encapsulation:2});var yo=En;var Cs=["vform"];function bs(n,l){if(n&1){let e=E();r(0,"app-cms-enum-record-status-selector",41),y("modelChange",function(t){u(e);let s=p();return w(s.dataModel.recordStatus,t)||(s.dataModel.recordStatus=t),f(t)}),a()}if(n&2){let e=p();T("model",e.dataModel.recordStatus),c("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function vs(n,l){n&1&&h(0,"i",42)}function Is(n,l){n&1&&h(0,"i",43)}function Es(n,l){if(n&1&&(r(0,"mat-error"),d(1),r(2,"strong"),d(3),g(4,"translate"),a()()),n&2){let e=p();o(),S(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," is "),o(2),v(_(4,2,"MESSAGE.required"))}}function Ts(n,l){if(n&1&&(r(0,"option",44),d(1),a()),n&2){let e=l.$implicit;c("value",e.value),o(),v(e.description)}}function ws(n,l){n&1&&(r(0,"mat-error"),d(1," SettingType is "),r(2,"strong"),d(3),g(4,"translate"),a()()),n&2&&(o(3),v(_(4,1,"MESSAGE.required")))}function ys(n,l){if(n&1&&(r(0,"option",44),d(1),a()),n&2){let e=l.$implicit;c("value",e.value),o(),v(e.description)}}function ks(n,l){n&1&&(r(0,"mat-error"),d(1," SharingLinkType is "),r(2,"strong"),d(3),g(4,"translate"),a()()),n&2&&(o(3),v(_(4,1,"MESSAGE.required")))}function As(n,l){n&1&&h(0,"i",42)}function Ls(n,l){n&1&&h(0,"i",43)}function xs(n,l){n&1&&(r(0,"mat-error"),d(1," ClickPrice is "),r(2,"strong"),d(3),g(4,"translate"),a()()),n&2&&(o(3),v(_(4,1,"MESSAGE.required")))}function Ds(n,l){n&1&&h(0,"i",42)}function Rs(n,l){n&1&&h(0,"i",43)}function Bs(n,l){n&1&&(r(0,"mat-error"),d(1," ViewPrice is "),r(2,"strong"),d(3),g(4,"translate"),a()()),n&2&&(o(3),v(_(4,1,"MESSAGE.required")))}function Ps(n,l){n&1&&h(0,"i",42)}function Vs(n,l){n&1&&h(0,"i",43)}function Os(n,l){n&1&&(r(0,"mat-error"),d(1," Width is "),r(2,"strong"),d(3),g(4,"translate"),a()()),n&2&&(o(3),v(_(4,1,"MESSAGE.required")))}function Ns(n,l){n&1&&h(0,"i",42)}function Fs(n,l){n&1&&h(0,"i",43)}function Gs(n,l){n&1&&(r(0,"mat-error"),d(1," Height is "),r(2,"strong"),d(3),g(4,"translate"),a()()),n&2&&(o(3),v(_(4,1,"MESSAGE.required")))}function Ws(n,l){n&1&&(r(0,"mat-error"),d(1," PatternScript is "),r(2,"strong"),d(3),g(4,"translate"),a()()),n&2&&(o(3),v(_(4,1,"MESSAGE.required")))}function Hs(n,l){if(n&1&&(h(0,"img",45),g(1,"cmsthumbnail")),n&2){let e=p();c("src",k(_(1,2,e.dataModel.linkMainImageIdSrc)),K)}}function qs(n,l){if(n&1){let e=E();r(0,"div",17)(1,"label",46),I("click",function(){u(e);let t=p();return f(t.fileManagerOpenForm=!0)}),d(2),g(3,"translate"),a(),r(4,"input",47,9),g(6,"translate"),y("ngModelChange",function(t){u(e);let s=p();return w(s.dataModel.linkMainImageId,t)||(s.dataModel.linkMainImageId=t),f(t)}),I("click",function(){u(e);let t=p();return f(t.fileManagerOpenForm=!0)}),a(),r(7,"cms-file-manager",48),I("itemSelected",function(t){u(e);let s=p();return f(s.onActionFileSelected(t))}),y("openFormChange",function(t){u(e);let s=p();return w(s.fileManagerOpenForm,t)||(s.fileManagerOpenForm=t),f(t)}),a()()}if(n&2){let e=p();o(2),v(_(3,12,"TITLE.EXAMPLE_OF_BANNER_PHOTO")),o(2),c("placeholder",k(_(6,14,"TITLE.ID_OF_BANNER_PHOTO_FILE"))),T("ngModel",e.dataModel.linkMainImageId),o(3),c("language",e.appLanguage)("isPopup",!0)("openDirectUploadView",!0),T("openForm",e.fileManagerOpenForm),c("tree",e.fileManagerTree)("openFilemanagerButtonLabelKey","select")("selectFileType",e.selectFileTypeMainImage)("openFilemanagerButtonView",!1)}}function js(n,l){if(n&1&&(h(0,"img",45),g(1,"cmsthumbnail")),n&2){let e=p();c("src",k(_(1,2,e.dataModel.linkBackgroundIdSrc)),K)}}function Us(n,l){if(n&1){let e=E();r(0,"div",17)(1,"label",49),I("click",function(){u(e);let t=p();return f(t.fileManagerOpenForm=!0)}),d(2),g(3,"translate"),a(),r(4,"input",50,10),g(6,"translate"),y("ngModelChange",function(t){u(e);let s=p();return w(s.dataModel.linkBackgroundId,t)||(s.dataModel.linkBackgroundId=t),f(t)}),I("click",function(){u(e);let t=p();return f(t.fileManagerOpenForm=!0)}),a(),r(7,"cms-file-manager",48),I("itemSelected",function(t){u(e);let s=p();return f(s.onActionFileSelectedLinkBackgroundId(t))}),y("openFormChange",function(t){u(e);let s=p();return w(s.fileManagerOpenForm,t)||(s.fileManagerOpenForm=t),f(t)}),a()()}if(n&2){let e=p();o(2),v(_(3,12,"TITLE.BANNER_BACKGROUND")),o(2),c("placeholder",k(_(6,14,"TITLE.ID_OF_BANNER_BACKGROUND_FILE"))),T("ngModel",e.dataModel.linkBackgroundId),o(3),c("language",e.appLanguage)("isPopup",!0)("openDirectUploadView",!0),T("openForm",e.fileManagerOpenForm),c("tree",e.fileManagerTree)("openFilemanagerButtonLabelKey","select")("selectFileType",e.selectFileTypeMainImage)("openFilemanagerButtonView",!1)}}function zs(n,l){if(n&1){let e=E();r(0,"div",51)(1,"button",52),I("click",function(){u(e);let t=p();return f(t.onFormCancel())}),h(2,"i",53),d(3),g(4,"translate"),a(),r(5,"button",54),h(6,"i",55),d(7),g(8,"translate"),a()()}if(n&2){p();let e=x(9);o(3),S(" ",_(4,3,"ACTION.CANCEL")," "),o(2),c("disabled",!e.form.valid),o(2),S(" ",_(8,5,"ACTION.SAVE")," ")}}var Tn=class Tn extends Et{constructor(e,i,t,s,M,m,D,H,j){super(s,new Xe,D,j);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.categoryService=s;this.linkManagementEnumService=M;this.cmsToastrService=m;this.publicHelper=D;this.cdr=H;this.translate=j;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new W;this.dataModel=new Xe;this.formInfo=new ee;this.dataModelEnumManagementContentSettingTypeResult=new W;this.dataModelEnumSharingPriceTypeResult=new W;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}onActionFileSelected(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}onActionFileSelectedLinkBackgroundId(e){this.dataModel.linkBackgroundId=e.id,this.dataModel.linkBackgroundIdSrc=e.downloadLinksrc}ngOnInit(){this.translate.get("TITLE.Register_New_Categories").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess(),this.getEnumSharingPriceType(),this.getEnumManagementContentSettingType()}getEnumManagementContentSettingType(){this.linkManagementEnumService.ServiceManagementContentSettingTypeEnum().subscribe(e=>{this.dataModelEnumManagementContentSettingTypeResult=e})}getEnumSharingPriceType(){this.linkManagementEnumService.ServiceSharingPriceTypeEnum().subscribe(e=>{this.dataModelEnumSharingPriceTypeResult=e})}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.categoryService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.formAlert=t}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Tn.\u0275fac=function(i){return new(i||Tn)(C(ae),C(re),C(te),C(rt),C(Ue),C(O),C(N),C(B),C(P))},Tn.\u0275cmp=R({type:Tn,selectors:[["app-linkmanagement-billboard-pattern-add"]],viewQuery:function(i,t){if(i&1&&X(Cs,5),i&2){let s;Y(s=Z())&&(t.formGroup=s.first)}},standalone:!1,features:[J],decls:91,vars:77,consts:[["vform","ngForm"],["Title",""],["SettingType","ngModel"],["SharingLinkType","ngModel"],["ClickPrice",""],["ViewPrice",""],["Width",""],["Height",""],["PatternScript",""],["LinkMainImageId",""],["LinkBackgroundId",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","fa fa-times  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],[4,"ngIf"],["id","dataModel.settingType","name","dataModel.settingType",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],["id","dataModel.sharingLinkType","name","dataModel.sharingLinkType",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.clickPrice",1,"color-highlight"],["matInput","","type","number","name","dataModel.clickPrice","minlength","0","required","","id","dataModel.clickPrice",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.viewPrice",1,"color-highlight"],["matInput","","type","number","name","dataModel.viewPrice","minlength","0","required","","id","dataModel.viewPrice",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.width",1,"color-highlight"],["matInput","","type","number","name","dataModel.width","minlength","0","required","","id","dataModel.width",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.height",1,"color-highlight"],["matInput","","type","number","name","dataModel.height","minlength","0","required","","id","dataModel.height",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.patternScript",1,"color-highlight"],["matInput","","name","dataModel.patternScript","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.patternScript",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[3,"value"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openDirectUploadView","openForm","tree","openFilemanagerButtonLabelKey","selectFileType","openFilemanagerButtonView"],["for","dataModel.linkBackgroundId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkBackgroundId","autocomplete","off","id","dataModel.linkBackgroundId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=E();r(0,"div",11),h(1,"app-progress-spinner",12),r(2,"div",13)(3,"p",14),d(4),a(),r(5,"p"),d(6),g(7,"translate"),a(),r(8,"form",15,0),I("ngSubmit",function(){return u(s),f(t.onFormSubmit())}),b(10,bs,1,5,"app-cms-enum-record-status-selector",16),r(11,"div",17)(12,"label",18),d(13),a(),r(14,"input",19,1),y("ngModelChange",function(m){return u(s),w(t.dataModel.title,m)||(t.dataModel.title=m),f(m)}),a(),b(16,vs,1,0,"i",20)(17,Is,1,0,"i",21),r(18,"em"),d(19),a(),b(20,Es,5,4,"mat-error",22),a(),r(21,"div",17)(22,"select",23,2),y("ngModelChange",function(m){return u(s),w(t.dataModel.settingType,m)||(t.dataModel.settingType=m),f(m)}),b(24,Ts,2,2,"option",24),a(),r(25,"em"),d(26),g(27,"translate"),a(),b(28,ws,5,3,"mat-error",22),a(),r(29,"div",17)(30,"select",25,3),y("ngModelChange",function(m){return u(s),w(t.dataModel.sharingLinkType,m)||(t.dataModel.sharingLinkType=m),f(m)}),b(32,ys,2,2,"option",24),a(),r(33,"em"),d(34),g(35,"translate"),a(),b(36,ks,5,3,"mat-error",22),a(),r(37,"div",17)(38,"label",26),d(39),a(),r(40,"input",27,4),g(42,"translate"),y("ngModelChange",function(m){return u(s),w(t.dataModel.clickPrice,m)||(t.dataModel.clickPrice=m),f(m)}),a(),b(43,As,1,0,"i",20)(44,Ls,1,0,"i",21)(45,xs,5,3,"mat-error",22),a(),r(46,"div",17)(47,"label",28),d(48),a(),r(49,"input",29,5),g(51,"translate"),y("ngModelChange",function(m){return u(s),w(t.dataModel.viewPrice,m)||(t.dataModel.viewPrice=m),f(m)}),a(),b(52,Ds,1,0,"i",20)(53,Rs,1,0,"i",21)(54,Bs,5,3,"mat-error",22),a(),r(55,"div",17)(56,"label",30),d(57),a(),r(58,"input",31,6),g(60,"translate"),y("ngModelChange",function(m){return u(s),w(t.dataModel.width,m)||(t.dataModel.width=m),f(m)}),a(),b(61,Ps,1,0,"i",20)(62,Vs,1,0,"i",21)(63,Os,5,3,"mat-error",22),a(),r(64,"div",17)(65,"label",32),d(66),a(),r(67,"input",33,7),g(69,"translate"),y("ngModelChange",function(m){return u(s),w(t.dataModel.height,m)||(t.dataModel.height=m),f(m)}),a(),b(70,Ns,1,0,"i",20)(71,Fs,1,0,"i",21)(72,Gs,5,3,"mat-error",22),a(),r(73,"div",17)(74,"label",34),d(75),a(),r(76,"textarea",35,8),y("ngModelChange",function(m){return u(s),w(t.dataModel.patternScript,m)||(t.dataModel.patternScript=m),f(m)}),d(78,"                "),a(),r(79,"em"),d(80),a(),b(81,Ws,5,3,"mat-error",22),a(),r(82,"div",36)(83,"a",37),g(84,"cmsthumbnail"),b(85,Hs,2,4,"img",38),a()(),b(86,qs,8,16,"div",39),r(87,"div",36),b(88,js,2,4,"img",38),a(),b(89,Us,8,16,"div",39)(90,zs,9,7,"div",40),a()()()}if(i&2){let s=x(15),M=x(23),m=x(31),D=x(41),H=x(50),j=x(59),he=x(68),ye=x(77);o(),c("optionsInfoAreaId",t.constructorInfoAreaId),o(3),S(" ",t.formInfo.formTitle," "),o(2),S(" ",_(7,61,"TITLE.Be_Careful_When_Entering_Information")," "),o(4),c("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),o(3),v(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),c("placeholder",k(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),T("ngModel",t.dataModel.title),o(2),c("ngIf",!s.value),o(),c("ngIf",s.value),o(2),S("",s.value.length," / 100"),o(),c("ngIf",s.errors==null?null:s.errors.required),o(2),T("ngModel",t.dataModel.settingType),o(2),c("ngForOf",t.dataModelEnumManagementContentSettingTypeResult.listItems),o(2),v(_(27,63,"TITLE.Select_type_of_content")),o(2),c("ngIf",M.errors==null?null:M.errors.required),o(2),T("ngModel",t.dataModel.sharingLinkType),o(2),c("ngForOf",t.dataModelEnumSharingPriceTypeResult.listItems),o(2),v(_(35,65,"TITLE.Select_type_of_content")),o(2),c("ngIf",m.errors==null?null:m.errors.required),o(3),v(t.fieldsInfo.clickPrice==null?null:t.fieldsInfo.clickPrice.fieldTitle),o(),c("placeholder",k(_(42,67,"TITLE.Amount_Per_Click"))),T("ngModel",t.dataModel.clickPrice),o(3),c("ngIf",!D.value),o(),c("ngIf",D.value),o(),c("ngIf",D.errors==null?null:D.errors.required),o(3),v(t.fieldsInfo.viewPrice==null?null:t.fieldsInfo.viewPrice.fieldTitle),o(),c("placeholder",k(_(51,69,"TITLE.Amount_Per_Show"))),T("ngModel",t.dataModel.viewPrice),o(3),c("ngIf",!H.value),o(),c("ngIf",H.value),o(),c("ngIf",H.errors==null?null:H.errors.required),o(3),v(t.fieldsInfo.width==null?null:t.fieldsInfo.width.fieldTitle),o(),c("placeholder",k(_(60,71,"TITLE.Width"))),T("ngModel",t.dataModel.width),o(3),c("ngIf",!j.value),o(),c("ngIf",j.value),o(),c("ngIf",j.errors==null?null:j.errors.required),o(3),v(t.fieldsInfo.height==null?null:t.fieldsInfo.height.fieldTitle),o(),c("placeholder",k(_(69,73,"TITLE.length"))),T("ngModel",t.dataModel.height),o(3),c("ngIf",!he.value),o(),c("ngIf",he.value),o(),c("ngIf",he.errors==null?null:he.errors.required),o(3),v(t.fieldsInfo.patternScript==null?null:t.fieldsInfo.patternScript.fieldTitle),o(),c("placeholder",k(t.fieldsInfo.patternScript==null?null:t.fieldsInfo.patternScript.fieldTitle)),T("ngModel",t.dataModel.patternScript),o(4),S("",ye.value.length," / 500"),o(),c("ngIf",ye.errors==null?null:ye.errors.required),o(2),c("href",k(_(84,75,t.dataModel.linkMainImageIdSrc)),K),o(2),c("ngIf",(t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0),o(),c("ngIf",t.fieldsInfo.linkMainImageId==null?null:t.fieldsInfo.linkMainImageId.accessWatchField),o(2),c("ngIf",(t.dataModel==null||t.dataModel.linkBackgroundIdSrc==null?null:t.dataModel.linkBackgroundIdSrc.length)>0),o(),c("ngIf",t.fieldsInfo.linkMainImageId==null?null:t.fieldsInfo.linkMainImageId.accessWatchField),o(),c("ngIf",t.formInfo.formSubmitAllow)}},dependencies:[He,F,ve,Wt,Ht,U,Oe,Gt,z,Ce,Q,fe,ge,$,be,Ie,G,we,q,Ye,V,_e],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});var wn=Tn;var Qs=["*"];function Ks(n,l){if(n&1&&(r(0,"label",13),d(1),a()),n&2){let e=p();c("for",Ot("app-cms-site-selector-",e.id)),o(),v(e.optionLabel)}}function Js(n,l){if(n&1&&(h(0,"img",14),g(1,"cmsthumbnail")),n&2){let e=p();c("src",k(_(1,2,e.dataModelSelect==null?null:e.dataModelSelect.linkMainImageIdSrc)),K)}}function Xs(n,l){if(n&1&&(h(0,"img",14),g(1,"cmsthumbnail")),n&2){let e=p().$implicit;c("src",k(_(1,2,e.linkMainImageIdSrc)),K)}}function Ys(n,l){if(n&1&&(r(0,"mat-option",15),b(1,Xs,2,4,"img",5),r(2,"span"),d(3),a()()),n&2){let e=l.$implicit,i=p();c("value",e)("disabled",i.optionDisabled),o(),c("ngIf",e.linkMainImageIdSrc),o(2),v(i.displayOption(e))}}function Zs(n,l){n&1&&h(0,"i",16)}function $s(n,l){n&1&&h(0,"i",17)}function ec(n,l){if(n&1){let e=E();r(0,"i",18),I("click",function(){u(e);let t=p();return f(t.onActionSelectClear())}),a()}}function tc(n,l){n&1&&(r(0,"em"),d(1),g(2,"translate"),a()),n&2&&(o(),S("(",_(2,1,"TITLE.Necessary"),")"))}var Vi=class Vi{constructor(l,e,i,t,s,M,m){this.coreEnumService=l;this.cmsToastrService=e;this.cdr=i;this.publicHelper=t;this.translate=s;this.linkManagementEnumService=M;this.categoryService=m;this.id=++Vi.nextId;this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new W;this.dataModelSelect=new Xe;this.formControl=new gi;this.dataModelManagementContentSettingTypeEnumResult=new W;this.optionPlaceholder="";this.optionSelectFirstItem=!1;this.optionDisabled=!1;this.optionRequired=!1;this.optionLabel="";this.optionChange=new Qe;this.optionReload=()=>this.onActionButtonReload();this.publicHelper.processService.cdr=this.cdr,this.getManagementContentSettingTypeEnum()}getManagementContentSettingTypeEnum(){this.linkManagementEnumService.ServiceManagementContentSettingTypeEnum().subscribe({next:l=>{this.dataModelManagementContentSettingTypeEnumResult=l}})}set optionSelectForce(l){this.onActionSelectForce(l)}ngOnInit(){this.loadOptions(),(!this.optionLabel||this.optionLabel.length==0&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder)}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(mi(""),ci(1500),di(),pi(l=>typeof l=="string"||typeof l=="number"?this.DataGetAll(l||""):[]))}displayFn(l){if(this.dataModelManagementContentSettingTypeEnumResult?.listItems&&this.dataModelManagementContentSettingTypeEnumResult.listItems.length>0){let e=this.dataModelManagementContentSettingTypeEnumResult.listItems.find(i=>i.key===l.settingType.toString()||i.value===l.settingType);if(e)return l?l.title+"-"+e.description:void 0}return l?l.title:void 0}displayOption(l){if(this.dataModelManagementContentSettingTypeEnumResult?.listItems&&this.dataModelManagementContentSettingTypeEnumResult.listItems.length>0){let e=this.dataModelManagementContentSettingTypeEnumResult.listItems.find(i=>i.key===l.settingType.toString()||i.value===l.settingType);if(e)return l?l.title+"-"+e.description:void 0}return l?l.title:void 0}DataGetAll(l){return Ae(this,null,function*(){let e=new Te;e.rowPerPage=20,e.accessLoad=!0;let i=new oe;i.propertyName="Title",i.value=l,i.searchType=jt.Contains,i.clauseType=ot.Or,e.filters.push(i),l&&typeof+l=="number"&&+l>0&&(i=new oe,i.propertyName="Id",i.value=l,i.searchType=jt.Equal,i.clauseType=ot.Or,e.filters.push(i));let t=this.constructor.name+"main";return this.translate.get("MESSAGE.Receiving_information").subscribe(s=>{this.publicHelper.processService.processStart(t,s,this.constructorInfoAreaId)}),yield li(this.categoryService.ServiceGetAll(e)).then(s=>(this.dataModelResult=s,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||this.dataModelSelect.id<=0)&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0])},1e3),this.onActionSelect(this.dataModelResult.listItems[0])),this.publicHelper.processService.processStop(t),s.listItems))})}onActionSelect(l){this.dataModelSelect=l,this.optionChange.emit(this.dataModelSelect)}onActionSelectClear(){this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null)}push(l){return this.filteredOptions.pipe(si(e=>(e.find(i=>i.id===l.id)||e.push(l),e)))}onActionSelectForce(l){if(typeof l=="number"&&l>0){if(this.dataModelSelect&&this.dataModelSelect.id===l)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(e=>e.id===l)){let e=this.dataModelResult.listItems.find(i=>i.id===l);this.dataModelSelect=e,this.formControl.setValue(e);return}this.categoryService.ServiceGetOneById(l).subscribe({next:e=>{e.isSuccess?(this.filteredOptions=this.push(e.item),this.dataModelSelect=e.item,this.formControl.setValue(e.item),this.optionChange.emit(e.item)):this.cmsToastrService.typeErrorMessage(e.errorMessage)}});return}if(typeof l==typeof Xe){this.filteredOptions=this.push(l),this.dataModelSelect=l,this.formControl.setValue(l);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new Xe,this.loadOptions()}};Vi.nextId=0,Vi.\u0275fac=function(e){return new(e||Vi)(C(te),C(O),C(B),C(N),C(P),C(Ue),C(rt))},Vi.\u0275cmp=R({type:Vi,selectors:[["app-linkmanagement-billboard-pattern-selector"]],inputs:{optionPlaceholder:"optionPlaceholder",optionSelectFirstItem:"optionSelectFirstItem",optionDisabled:"optionDisabled",optionRequired:"optionRequired",optionLabel:"optionLabel",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange"},standalone:!1,ngContentSelectors:Qs,decls:16,vars:19,consts:[["matauto","matAutocomplete"],[1,"input-style","has-borders","has-icon","input-style-always-active","validate-field","mb-4","loader-container"],[3,"optionsInfoAreaId"],["class","color-highlight",3,"for",4,"ngIf"],["matPrefix",""],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","25","width","25",3,"src",4,"ngIf"],["type","text","aria-label","Assignee","matInput","",3,"placeholder","formControl","matAutocomplete","required","id"],[3,"optionSelected","displayWith"],[3,"value","disabled",4,"ngFor","ngForOf"],["class","fa fa-info  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],["class","fa fa-times  action color-red-dark",3,"click",4,"ngIf"],[4,"ngIf"],[1,"color-highlight",3,"for"],["aria-hidden","","height","25","width","25",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"value","disabled"],[1,"fa","fa-info","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"fa","fa-times","action","color-red-dark",3,"click"]],template:function(e,i){if(e&1){let t=E();ui(),r(0,"div",1),h(1,"app-progress-spinner",2),b(2,Ks,2,3,"label",3),r(3,"span",4),b(4,Js,2,4,"img",5),d(5," \xA0"),a(),h(6,"input",6),r(7,"mat-autocomplete",7,0),I("optionSelected",function(M){return u(t),f(i.onActionSelect(M.option.value))}),b(9,Ys,4,4,"mat-option",8),g(10,"async"),a(),b(11,Zs,1,0,"i",9)(12,$s,1,0,"i",10)(13,ec,1,0,"i",11)(14,tc,3,3,"em",12),fi(15),a()}if(e&2){let t=x(8);o(),c("optionsInfoAreaId",i.constructorInfoAreaId),o(),c("ngIf",(i.optionLabel==null?null:i.optionLabel.length)>0),o(2),c("ngIf",i.dataModelSelect&&(i.dataModelSelect==null?null:i.dataModelSelect.linkMainImageIdSrc)),o(2),c("placeholder",k(i.optionPlaceholder))("id",Ot("app-cms-site-selector-",i.id))("formControl",i.formControl)("matAutocomplete",t)("required",i.optionRequired),it("disabled",i.optionDisabled?!0:null),o(),c("displayWith",i.displayFn),o(2),c("ngForOf",_(10,17,i.filteredOptions)),o(2),c("ngIf",!i.formControl.valid),o(),c("ngIf",i.optionRequired&&i.formControl.valid),o(),c("ngIf",(i.dataModelSelect==null?null:i.dataModelSelect.id)>0),o(),c("ngIf",i.optionRequired&&(!i.dataModelSelect||!i.dataModelSelect.id||i.dataModelSelect.id<=0))}},dependencies:[He,F,U,z,Q,_i,Ti,Ei,wi,co,G,q,Ne,V,_e],encapsulation:2});var Kt=Vi;var ic=["vform"];function nc(n,l){if(n&1){let e=E();A(0),r(1,"div",7)(2,"label",8),d(3),a(),r(4,"input",9,0),y("ngModelChange",function(t){u(e);let s=p();return w(s.dataModelResultCategory.item.title,t)||(s.dataModelResultCategory.item.title=t),f(t)}),a()(),h(6,"app-linkmanagement-billboard-pattern-selector",10),g(7,"translate"),L()}if(n&2){let e=p();o(3),v(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),o(),c("placeholder",k(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle)),T("ngModel",e.dataModelResultCategory.item.title),o(2),c("optionPlaceholder",_(7,5,"TITLE.Alternative_classification_to_move_information_to_this_branch"))}}function oc(n,l){if(n&1){let e=E();r(0,"div",11)(1,"button",12),I("click",function(){u(e);let t=p();return f(t.onFormCancel())}),h(2,"i",13),d(3),g(4,"translate"),a(),r(5,"button",14),I("click",function(){u(e);let t=p();return f(t.onFormDelete())}),h(6,"i",15),d(7),g(8,"translate"),a(),r(9,"button",16),I("click",function(){u(e);let t=p();return f(t.onFormMove())}),h(10,"i",13),d(11),g(12,"translate"),a()()}if(n&2){let e=p();o(3),S(" ",_(4,5,"ACTION.CANCEL")," "),o(2),c("disabled",!e.formInfo.buttonSubmittedEnabled),o(2),S(" ",_(8,7,"ACTION.DELETE")," "),o(2),c("disabled",!e.formInfo.buttonSubmittedEnabled),o(2),S(" ",_(12,9,"TITLE.MOVE_DATA")," ")}}var yn=class yn{constructor(l,e,i,t,s,M,m){this.data=l;this.dialogRef=e;this.publicHelper=i;this.categoryService=t;this.cdr=s;this.translate=M;this.cmsToastrService=m;this.requestId=0;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.dataModelResultCategory=new W;this.dataModelResultCategoryAllData=new W;this.dataModel={};this.formInfo=new ee;this.publicHelper.processService.cdr=this.cdr,l&&(this.requestId=+l.id||0)}ngOnInit(){if(this.requestId<=0){this.cmsToastrService.typeErrorDeleteRowIsNull(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOne(),this.DataGetAll()}DataGetOne(){if(this.requestId===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.translate.get("TITLE.Loading_Information").subscribe(e=>{this.formInfo.formAlert=e});let l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(l,e,this.constructorInfoAreaId)}),this.categoryService.setAccessLoad(),this.categoryService.setAccessDataType(Ee.Editor),this.categoryService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModelResultCategory=e,e.isSuccess?this.formInfo.formAlert="":(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError=e.errorMessage,this.formInfo.formErrorStatus=!0,this.cmsToastrService.typeErrorGetOne()),this.publicHelper.processService.processStop(l)},error:e=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formErrorStatus=!0,this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(l,!1)}})}DataGetAll(){this.translate.get("TITLE.Loading_Information").subscribe(i=>{this.formInfo.formAlert=i});let l=new Te;l.rowPerPage=100;let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.categoryService.ServiceGetAll(l).subscribe({next:i=>{this.dataModelResultCategoryAllData=i,i.isSuccess?this.formInfo.formAlert="":(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.formInfo.formErrorStatus=!0,this.cmsToastrService.typeErrorGetAll()),this.publicHelper.processService.processStop(e)},error:i=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formErrorStatus=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormMove(){if(this.requestId===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}if(!this.formGroup.valid)return;this.formInfo.formSubmitAllow=!0,this.dataModel.newCatId===this.requestId&&(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.translate.get("ERRORMESSAGE.MESSAGE.The_delete_category_ID_is_the_same_as_the_alternate_category").subscribe(e=>{this.formInfo.formError=e,this.formInfo.buttonSubmittedEnabled=!0})),this.formInfo.buttonSubmittedEnabled=!1;let l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(l,e,this.constructorInfoAreaId)})}onFormDelete(){if(this.requestId===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.formInfo.formSubmitAllow=!1,this.formInfo.buttonSubmittedEnabled=!1;let l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(l,e,this.constructorInfoAreaId)}),this.categoryService.ServiceDelete(this.requestId).subscribe({next:e=>{this.formInfo.formSubmitAllow=!e.isSuccess,e.isSuccess?(this.translate.get("MESSAGE.Deletion_Was_Successful").subscribe(i=>{this.formInfo.formAlert=i}),this.cmsToastrService.typeSuccessRemove(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError=e.errorMessage,this.cmsToastrService.typeErrorRemove()),this.formInfo.buttonSubmittedEnabled=!0,this.publicHelper.processService.processStop(l)},error:e=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(e),this.formInfo.buttonSubmittedEnabled=!0,this.publicHelper.processService.processStop(l)}})}onFormChangeNewCatId(l){if(this.formInfo.formAlert="",this.requestId===0||!l||l.id<=0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.dataModel.newCatId=l.id,this.dataModel.newCatId===this.requestId?(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.translate.get("ERRORMESSAGE.MESSAGE.The_delete_category_ID_is_the_same_as_the_alternate_category").subscribe(e=>{this.formInfo.formError=e,this.formInfo.buttonSubmittedEnabled=!1})):(this.formInfo.buttonSubmittedEnabled=!0,this.formInfo.formError="")}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};yn.\u0275fac=function(e){return new(e||yn)(C(ae),C(re),C(N),C(rt),C(B),C(P),C(O))},yn.\u0275cmp=R({type:yn,selectors:[["app-linkmanagement-billboard-pattern-delete"]],viewQuery:function(e,i){if(e&1&&X(ic,5),e&2){let t;Y(t=Z())&&(i.formGroup=t.first)}},standalone:!1,decls:12,vars:10,consts:[["Title",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[4,"ngIf"],["class","form-actions",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModelResultCategory.item.title",1,"color-highlight"],["matInput","","name","dataModelResultCategory.item.title","type","text","minlength","3","maxlength","50","required","","id","dataModelResultCategory.item.title","readonly","",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[3,"optionPlaceholder"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click","disabled"],[1,"fa","fa-check-square-o"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click","disabled"]],template:function(e,i){e&1&&(r(0,"div",1),h(1,"app-progress-spinner",2),r(2,"div",3)(3,"p",4),d(4),g(5,"translate"),a(),r(6,"p"),d(7),g(8,"translate"),a(),d(9),b(10,nc,8,7,"ng-container",5)(11,oc,13,11,"div",6),a()()),e&2&&(o(),c("optionsInfoAreaId",i.constructorInfoAreaId),o(3),S(" ",_(5,6,"TITLE.EDIT_USER_ACCOUNT")," "),o(3),S(" ",_(8,8,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),S(" ",i.formInfo.formTitle," "),o(),c("ngIf",i.dataModelResultCategory==null?null:i.dataModelResultCategory.item),o(),c("ngIf",i.formInfo.formSubmitAllow))},dependencies:[F,U,z,Q,fe,ge,$,G,q,Kt,V],encapsulation:2});var kn=yn;var rc=["vform"];function ac(n,l){if(n&1){let e=E();r(0,"app-cms-enum-record-status-selector",41),y("modelChange",function(t){u(e);let s=p();return w(s.dataModel.recordStatus,t)||(s.dataModel.recordStatus=t),f(t)}),a()}if(n&2){let e=p();T("model",e.dataModel.recordStatus),c("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function lc(n,l){n&1&&h(0,"i",42)}function sc(n,l){n&1&&h(0,"i",43)}function cc(n,l){if(n&1&&(r(0,"mat-error"),d(1),r(2,"strong"),d(3),g(4,"translate"),a()()),n&2){let e=p();o(),S(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," is "),o(2),v(_(4,2,"MESSAGE.required"))}}function dc(n,l){if(n&1&&(r(0,"option",44),d(1),a()),n&2){let e=l.$implicit;c("value",e.value),o(),v(e.description)}}function mc(n,l){n&1&&(r(0,"mat-error"),d(1," SettingType is "),r(2,"strong"),d(3),g(4,"translate"),a()()),n&2&&(o(3),v(_(4,1,"MESSAGE.required")))}function pc(n,l){if(n&1&&(r(0,"option",44),d(1),a()),n&2){let e=l.$implicit;c("value",e.value),o(),v(e.description)}}function uc(n,l){n&1&&(r(0,"mat-error"),d(1," SharingLinkType is "),r(2,"strong"),d(3),g(4,"translate"),a()()),n&2&&(o(3),v(_(4,1,"MESSAGE.required")))}function fc(n,l){n&1&&h(0,"i",42)}function gc(n,l){n&1&&h(0,"i",43)}function _c(n,l){n&1&&(r(0,"mat-error"),d(1," ClickPrice is "),r(2,"strong"),d(3),g(4,"translate"),a()()),n&2&&(o(3),v(_(4,1,"MESSAGE.required")))}function Sc(n,l){n&1&&h(0,"i",42)}function hc(n,l){n&1&&h(0,"i",43)}function Mc(n,l){n&1&&(r(0,"mat-error"),d(1," ViewPrice is "),r(2,"strong"),d(3),g(4,"translate"),a()()),n&2&&(o(3),v(_(4,1,"MESSAGE.required")))}function Cc(n,l){n&1&&h(0,"i",42)}function bc(n,l){n&1&&h(0,"i",43)}function vc(n,l){n&1&&(r(0,"mat-error"),d(1," Width is "),r(2,"strong"),d(3),g(4,"translate"),a()()),n&2&&(o(3),v(_(4,1,"MESSAGE.required")))}function Ic(n,l){n&1&&h(0,"i",42)}function Ec(n,l){n&1&&h(0,"i",43)}function Tc(n,l){n&1&&(r(0,"mat-error"),d(1," Height is "),r(2,"strong"),d(3),g(4,"translate"),a()()),n&2&&(o(3),v(_(4,1,"MESSAGE.required")))}function wc(n,l){n&1&&(r(0,"mat-error"),d(1," PatternScript is "),r(2,"strong"),d(3),g(4,"translate"),a()()),n&2&&(o(3),v(_(4,1,"MESSAGE.required")))}function yc(n,l){if(n&1&&(h(0,"img",45),g(1,"cmsthumbnail")),n&2){let e=p();c("src",k(_(1,2,e.dataModel.linkMainImageIdSrc)),K)}}function kc(n,l){if(n&1){let e=E();r(0,"div",17)(1,"label",46),I("click",function(){u(e);let t=p();return f(t.fileManagerOpenForm=!0)}),d(2),g(3,"translate"),a(),r(4,"input",47,9),g(6,"translate"),y("ngModelChange",function(t){u(e);let s=p();return w(s.dataModel.linkMainImageId,t)||(s.dataModel.linkMainImageId=t),f(t)}),I("click",function(){u(e);let t=p();return f(t.fileManagerOpenForm=!0)}),a(),r(7,"cms-file-manager",48),I("itemSelected",function(t){u(e);let s=p();return f(s.onActionFileSelected(t))}),y("openFormChange",function(t){u(e);let s=p();return w(s.fileManagerOpenForm,t)||(s.fileManagerOpenForm=t),f(t)}),a()()}if(n&2){let e=p();o(2),v(_(3,12,"TITLE.EXAMPLE_OF_BANNER_PHOTO")),o(2),c("placeholder",k(_(6,14,"TITLE.ID_OF_BANNER_PHOTO_FILE"))),T("ngModel",e.dataModel.linkMainImageId),o(3),c("language",e.appLanguage)("isPopup",!0)("openDirectUploadView",!0),T("openForm",e.fileManagerOpenForm),c("tree",e.fileManagerTree)("openFilemanagerButtonLabelKey","select")("selectFileType",e.selectFileTypeMainImage)("openFilemanagerButtonView",!1)}}function Ac(n,l){if(n&1&&(h(0,"img",45),g(1,"cmsthumbnail")),n&2){let e=p();c("src",k(_(1,2,e.dataModel.linkBackgroundIdSrc)),K)}}function Lc(n,l){if(n&1){let e=E();r(0,"div",17)(1,"label",49),I("click",function(){u(e);let t=p();return f(t.fileManagerOpenForm=!0)}),d(2),g(3,"translate"),a(),r(4,"input",50,10),g(6,"translate"),y("ngModelChange",function(t){u(e);let s=p();return w(s.dataModel.linkBackgroundId,t)||(s.dataModel.linkBackgroundId=t),f(t)}),I("click",function(){u(e);let t=p();return f(t.fileManagerOpenForm=!0)}),a(),r(7,"cms-file-manager",48),I("itemSelected",function(t){u(e);let s=p();return f(s.onActionFileSelectedLinkBackgroundId(t))}),y("openFormChange",function(t){u(e);let s=p();return w(s.fileManagerOpenForm,t)||(s.fileManagerOpenForm=t),f(t)}),a()()}if(n&2){let e=p();o(2),v(_(3,12,"TITLE.BANNER_BACKGROUND")),o(2),c("placeholder",k(_(6,14,"TITLE.ID_OF_BANNER_BACKGROUND_FILE"))),T("ngModel",e.dataModel.linkBackgroundId),o(3),c("language",e.appLanguage)("isPopup",!0)("openDirectUploadView",!0),T("openForm",e.fileManagerOpenForm),c("tree",e.fileManagerTree)("openFilemanagerButtonLabelKey","select")("selectFileType",e.selectFileTypeMainImage)("openFilemanagerButtonView",!1)}}function xc(n,l){if(n&1){let e=E();r(0,"div",51)(1,"button",52),I("click",function(){u(e);let t=p();return f(t.onFormCancel())}),h(2,"i",53),d(3),g(4,"translate"),a(),r(5,"button",54),h(6,"i",55),d(7),g(8,"translate"),a()()}if(n&2){p();let e=x(9);o(3),S(" ",_(4,3,"ACTION.CANCEL")," "),o(2),c("disabled",!e.form.valid),o(2),S(" ",_(8,5,"ACTION.SAVE")," ")}}var An=class An extends Ze{constructor(e,i,t,s,M,m,D,H,j){super(s,new Xe,D,j);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.categoryService=s;this.linkManagementEnumService=M;this.cmsToastrService=m;this.publicHelper=D;this.cdr=H;this.translate=j;this.requestId=0;this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new Je;this.dataModel=new Xe;this.formInfo=new ee;this.dataModelEnumManagementContentSettingTypeResult=new W;this.dataModelEnumSharingPriceTypeResult=new W;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=+e.id||0),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}onActionFileSelected(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}onActionFileSelectedLinkBackgroundId(e){this.dataModel.linkBackgroundId=e.id,this.dataModel.linkBackgroundIdSrc=e.downloadLinksrc}ngOnInit(){if(this.requestId>0)this.translate.get("TITLE.Edit_Categories").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.getEnumSharingPriceType(),this.getEnumManagementContentSettingType()}getEnumManagementContentSettingType(){this.linkManagementEnumService.ServiceManagementContentSettingTypeEnum().subscribe(e=>{this.dataModelEnumManagementContentSettingTypeResult=e})}getEnumSharingPriceType(){this.linkManagementEnumService.ServiceSharingPriceTypeEnum().subscribe(e=>{this.dataModelEnumSharingPriceTypeResult=e})}DataGetOneContent(){if(this.requestId<=0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.categoryService.setAccessLoad(),this.categoryService.setAccessDataType(Ee.Editor),this.categoryService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.categoryService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.formAlert=t}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};An.\u0275fac=function(i){return new(i||An)(C(ae),C(re),C(te),C(rt),C(Ue),C(O),C(N),C(B),C(P))},An.\u0275cmp=R({type:An,selectors:[["app-linkmanagement-billboard-pattern-edit"]],viewQuery:function(i,t){if(i&1&&X(rc,5),i&2){let s;Y(s=Z())&&(t.formGroup=s.first)}},standalone:!1,features:[J],decls:91,vars:77,consts:[["vform","ngForm"],["Title",""],["SettingType","ngModel"],["SharingLinkType","ngModel"],["ClickPrice",""],["ViewPrice",""],["Width",""],["Height",""],["PatternScript",""],["LinkMainImageId",""],["LinkBackgroundId",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","fa fa-times  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],[4,"ngIf"],["id","dataModel.settingType","name","dataModel.settingType",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],["id","dataModel.sharingLinkType","name","dataModel.sharingLinkType",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.clickPrice",1,"color-highlight"],["matInput","","type","number","name","dataModel.clickPrice","minlength","0","required","","id","dataModel.clickPrice",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.viewPrice",1,"color-highlight"],["matInput","","type","number","name","dataModel.viewPrice","minlength","0","required","","id","dataModel.viewPrice",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.width",1,"color-highlight"],["matInput","","type","number","name","dataModel.width","minlength","0","required","","id","dataModel.width",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.height",1,"color-highlight"],["matInput","","type","number","name","dataModel.height","minlength","0","required","","id","dataModel.height",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.patternScript",1,"color-highlight"],["matInput","","name","dataModel.patternScript","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.patternScript",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[3,"value"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openDirectUploadView","openForm","tree","openFilemanagerButtonLabelKey","selectFileType","openFilemanagerButtonView"],["for","dataModel.linkBackgroundId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkBackgroundId","autocomplete","off","id","dataModel.linkBackgroundId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=E();r(0,"div",11),h(1,"app-progress-spinner",12),r(2,"div",13)(3,"p",14),d(4),a(),r(5,"p"),d(6),g(7,"translate"),a(),r(8,"form",15,0),I("ngSubmit",function(){return u(s),f(t.onFormSubmit())}),b(10,ac,1,5,"app-cms-enum-record-status-selector",16),r(11,"div",17)(12,"label",18),d(13),a(),r(14,"input",19,1),y("ngModelChange",function(m){return u(s),w(t.dataModel.title,m)||(t.dataModel.title=m),f(m)}),a(),b(16,lc,1,0,"i",20)(17,sc,1,0,"i",21),r(18,"em"),d(19),a(),b(20,cc,5,4,"mat-error",22),a(),r(21,"div",17)(22,"select",23,2),y("ngModelChange",function(m){return u(s),w(t.dataModel.settingType,m)||(t.dataModel.settingType=m),f(m)}),b(24,dc,2,2,"option",24),a(),r(25,"em"),d(26),g(27,"translate"),a(),b(28,mc,5,3,"mat-error",22),a(),r(29,"div",17)(30,"select",25,3),y("ngModelChange",function(m){return u(s),w(t.dataModel.sharingLinkType,m)||(t.dataModel.sharingLinkType=m),f(m)}),b(32,pc,2,2,"option",24),a(),r(33,"em"),d(34),g(35,"translate"),a(),b(36,uc,5,3,"mat-error",22),a(),r(37,"div",17)(38,"label",26),d(39),a(),r(40,"input",27,4),g(42,"translate"),y("ngModelChange",function(m){return u(s),w(t.dataModel.clickPrice,m)||(t.dataModel.clickPrice=m),f(m)}),a(),b(43,fc,1,0,"i",20)(44,gc,1,0,"i",21)(45,_c,5,3,"mat-error",22),a(),r(46,"div",17)(47,"label",28),d(48),a(),r(49,"input",29,5),g(51,"translate"),y("ngModelChange",function(m){return u(s),w(t.dataModel.viewPrice,m)||(t.dataModel.viewPrice=m),f(m)}),a(),b(52,Sc,1,0,"i",20)(53,hc,1,0,"i",21)(54,Mc,5,3,"mat-error",22),a(),r(55,"div",17)(56,"label",30),d(57),a(),r(58,"input",31,6),g(60,"translate"),y("ngModelChange",function(m){return u(s),w(t.dataModel.width,m)||(t.dataModel.width=m),f(m)}),a(),b(61,Cc,1,0,"i",20)(62,bc,1,0,"i",21)(63,vc,5,3,"mat-error",22),a(),r(64,"div",17)(65,"label",32),d(66),a(),r(67,"input",33,7),g(69,"translate"),y("ngModelChange",function(m){return u(s),w(t.dataModel.height,m)||(t.dataModel.height=m),f(m)}),a(),b(70,Ic,1,0,"i",20)(71,Ec,1,0,"i",21)(72,Tc,5,3,"mat-error",22),a(),r(73,"div",17)(74,"label",34),d(75),a(),r(76,"textarea",35,8),y("ngModelChange",function(m){return u(s),w(t.dataModel.patternScript,m)||(t.dataModel.patternScript=m),f(m)}),d(78,"                 "),a(),r(79,"em"),d(80),a(),b(81,wc,5,3,"mat-error",22),a(),r(82,"div",36)(83,"a",37),g(84,"cmsthumbnail"),b(85,yc,2,4,"img",38),a()(),b(86,kc,8,16,"div",39),r(87,"div",36),b(88,Ac,2,4,"img",38),a(),b(89,Lc,8,16,"div",39)(90,xc,9,7,"div",40),a()()()}if(i&2){let s=x(15),M=x(23),m=x(31),D=x(41),H=x(50),j=x(59),he=x(68),ye=x(77);o(),c("optionsInfoAreaId",t.constructorInfoAreaId),o(3),S(" ",t.formInfo.formTitle," "),o(2),S(" ",_(7,61,"TITLE.Be_Careful_When_Entering_Information")," "),o(4),c("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),o(3),v(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),c("placeholder",k(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),T("ngModel",t.dataModel.title),o(2),c("ngIf",!s.value),o(),c("ngIf",s.value),o(2),S("",s.value.length," / 100"),o(),c("ngIf",s.errors==null?null:s.errors.required),o(2),T("ngModel",t.dataModel.settingType),o(2),c("ngForOf",t.dataModelEnumManagementContentSettingTypeResult.listItems),o(2),v(_(27,63,"TITLE.Select_type_of_content")),o(2),c("ngIf",M.errors==null?null:M.errors.required),o(2),T("ngModel",t.dataModel.sharingLinkType),o(2),c("ngForOf",t.dataModelEnumSharingPriceTypeResult.listItems),o(2),v(_(35,65,"TITLE.Select_type_of_content")),o(2),c("ngIf",m.errors==null?null:m.errors.required),o(3),v(t.fieldsInfo.clickPrice==null?null:t.fieldsInfo.clickPrice.fieldTitle),o(),c("placeholder",k(_(42,67,"TITLE.Amount_Per_Click"))),T("ngModel",t.dataModel.clickPrice),o(3),c("ngIf",!D.value),o(),c("ngIf",D.value),o(),c("ngIf",D.errors==null?null:D.errors.required),o(3),v(t.fieldsInfo.viewPrice==null?null:t.fieldsInfo.viewPrice.fieldTitle),o(),c("placeholder",k(_(51,69,"TITLE.Amount_Per_Show"))),T("ngModel",t.dataModel.viewPrice),o(3),c("ngIf",!H.value),o(),c("ngIf",H.value),o(),c("ngIf",H.errors==null?null:H.errors.required),o(3),v(t.fieldsInfo.width==null?null:t.fieldsInfo.width.fieldTitle),o(),c("placeholder",k(_(60,71,"TITLE.Width"))),T("ngModel",t.dataModel.width),o(3),c("ngIf",!j.value),o(),c("ngIf",j.value),o(),c("ngIf",j.errors==null?null:j.errors.required),o(3),v(t.fieldsInfo.height==null?null:t.fieldsInfo.height.fieldTitle),o(),c("placeholder",k(_(69,73,"TITLE.length"))),T("ngModel",t.dataModel.height),o(3),c("ngIf",!he.value),o(),c("ngIf",he.value),o(),c("ngIf",he.errors==null?null:he.errors.required),o(3),v(t.fieldsInfo.patternScript==null?null:t.fieldsInfo.patternScript.fieldTitle),o(),c("placeholder",k(t.fieldsInfo.patternScript==null?null:t.fieldsInfo.patternScript.fieldTitle)),T("ngModel",t.dataModel.patternScript),o(4),S("",ye.value.length," / 500"),o(),c("ngIf",ye.errors==null?null:ye.errors.required),o(2),c("href",k(_(84,75,t.dataModel.linkMainImageIdSrc)),K),o(2),c("ngIf",(t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0),o(),c("ngIf",t.fieldsInfo.linkMainImageId==null?null:t.fieldsInfo.linkMainImageId.accessWatchField),o(2),c("ngIf",(t.dataModel==null||t.dataModel.linkBackgroundIdSrc==null?null:t.dataModel.linkBackgroundIdSrc.length)>0),o(),c("ngIf",t.fieldsInfo.linkMainImageId==null?null:t.fieldsInfo.linkMainImageId.accessWatchField),o(),c("ngIf",t.formInfo.formSubmitAllow)}},dependencies:[He,F,ve,Wt,Ht,U,Oe,Gt,z,Ce,Q,fe,ge,$,be,Ie,G,we,q,Ye,V,_e],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});var Ln=An;var Dc=()=>[5,10,20,100];function Rc(n,l){if(n&1){let e=E();r(0,"div",38)(1,"a",39),I("click",function(){u(e);let t=p();return f(t.onActionButtonNewRow())}),h(2,"i",40)(3,"br"),a(),r(4,"p",41),d(5),g(6,"translate"),a()()}n&2&&(o(5),v(_(6,1,"ACTION.ADD")))}function Bc(n,l){if(n&1){let e=E();r(0,"div",38)(1,"a",42),I("click",function(t){u(e);let s=p();return f(s.onActionButtonRowBillboard(s.tableRowSelected,t))}),h(2,"i",43)(3,"br"),a(),r(4,"p",41),d(5),g(6,"translate"),a()()}n&2&&(o(5),v(_(6,1,"ACTION.BILLBOARD")))}function Pc(n,l){if(n&1){let e=E();r(0,"div",38)(1,"a",42),I("click",function(t){u(e);let s=p();return f(s.onActionButtonRowTarget(s.tableRowSelected,t))}),h(2,"i",44)(3,"br"),a(),r(4,"p",41),d(5),g(6,"translate"),a()()}n&2&&(o(5),v(_(6,1,"ACTION.ADS")))}function Vc(n,l){if(n&1){let e=E();r(0,"div",38)(1,"a",45),I("click",function(){u(e);let t=p();return f(t.onActionButtonEditRow(t.tableRowSelected))}),h(2,"i",46)(3,"br"),a(),r(4,"p",41),d(5),g(6,"translate"),a()()}n&2&&(o(5),v(_(6,1,"ACTION.EDIT")))}function Oc(n,l){if(n&1){let e=E();r(0,"div",38)(1,"a",47),I("click",function(){u(e);let t=p();return f(t.onActionButtonDeleteRow(t.tableRowSelected))}),h(2,"i",48)(3,"br"),a(),r(4,"p",41),d(5),g(6,"translate"),a()()}n&2&&(o(5),v(_(6,1,"ACTION.DELETE")))}function Nc(n,l){n&1&&(r(0,"mat-header-cell",49),d(1),g(2,"translate"),a()),n&2&&(o(),S(" ",_(2,1,"TITLE.PICTURE")," "))}function Fc(n,l){if(n&1&&(h(0,"img",51),g(1,"cmsthumbnail")),n&2){let e=p().$implicit;c("src",k(_(1,2,e.linkMainImageIdSrc)),K)}}function Gc(n,l){if(n&1&&(r(0,"mat-cell"),b(1,Fc,2,4,"img",50),a()),n&2){let e=l.$implicit;o(),c("ngIf",(e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0)}}function Wc(n,l){if(n&1&&(r(0,"mat-header-cell",49),d(1),a()),n&2){let e=p();o(),S(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function Hc(n,l){if(n&1&&(r(0,"mat-cell"),d(1),a()),n&2){let e=l.$implicit;o(),S(" ",e.id," ")}}function qc(n,l){if(n&1&&(r(0,"mat-header-cell",49),d(1),a()),n&2){let e=p();o(),S(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function jc(n,l){if(n&1&&(r(0,"mat-cell"),d(1),g(2,"cmssiteinfo"),g(3,"async"),a()),n&2){let e=l.$implicit;o(),S(" ",_(3,3,_(2,1,e.linkSiteId))," ")}}function Uc(n,l){if(n&1&&(r(0,"mat-header-cell",49),d(1),a()),n&2){let e=p();o(),S(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function zc(n,l){if(n&1&&(r(0,"mat-cell"),h(1,"i",52),g(2,"statusIconClass"),a()),n&2){let e=l.$implicit;o(),c("ngClass",_(2,1,e.recordStatus))}}function Qc(n,l){if(n&1&&(r(0,"mat-header-cell",49),d(1),a()),n&2){let e=p();o(),S(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," ")}}function Kc(n,l){if(n&1&&(r(0,"mat-cell"),d(1),a()),n&2){let e=l.$implicit;o(),S(" ",e.title," ")}}function Jc(n,l){if(n&1&&(r(0,"mat-header-cell",49),d(1),a()),n&2){let e=p();o(),S(" ",e.fieldsInfo.settingType==null?null:e.fieldsInfo.settingType.fieldTitle," ")}}function Xc(n,l){if(n&1&&(r(0,"mat-cell"),d(1),g(2,"enums"),a()),n&2){let e=l.$implicit,i=p();o(),S(" ",nr(2,1,e.settingType,i.dataModelManagementContentSettingTypeEnumResult.listItems)," ")}}function Yc(n,l){if(n&1&&(r(0,"mat-header-cell",49),d(1),a()),n&2){let e=p();o(),S(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function Zc(n,l){if(n&1&&(r(0,"mat-cell"),d(1),g(2,"localeDate"),a()),n&2){let e=l.$implicit;o(),S(" ",_(2,1,e.createdDate)," ")}}function $c(n,l){if(n&1&&(r(0,"mat-header-cell",49),d(1),a()),n&2){let e=p();o(),S(" ",e.fieldsInfo.updatedDate==null?null:e.fieldsInfo.updatedDate.fieldTitle," ")}}function ed(n,l){if(n&1&&(r(0,"mat-cell"),d(1),g(2,"localeDate"),a()),n&2){let e=l.$implicit;o(),S(" ",_(2,1,e.updatedDate)," ")}}function td(n,l){n&1&&(r(0,"mat-header-cell"),d(1),g(2,"translate"),a()),n&2&&(o(),S(" ",_(2,1,"TITLE.OPTION")," "))}function id(n,l){if(n&1&&(r(0,"mat-cell",53)(1,"button",54)(2,"mat-icon"),d(3,"more_vert"),a()(),h(4,"mat-menu",null,2),a()),n&2){let e=x(5);o(),c("matMenuTriggerFor",e)}}function nd(n,l){n&1&&h(0,"mat-header-row")}function od(n,l){if(n&1){let e=E();r(0,"mat-row",55),I("click",function(){let t=u(e).$implicit,s=p();return f(s.onActionTableRowSelect(t))}),a()}if(n&2){let e=l.$implicit,i=l.dataIndex,t=p();se("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",e.id===(t.tableRowSelected==null?null:t.tableRowSelected.id))}}var xn=class xn extends Tt{constructor(e,i,t,s,M,m,D,H,j,he,ye){super(e,new Xe,he,M,m);this.contentService=e;this.cmsToastrService=i;this.linkManagementEnumService=t;this.router=s;this.tokenHelper=M;this.translate=m;this.cmsStoreService=D;this.cdr=H;this.pageInfo=j;this.publicHelper=he;this.dialog=ye;this.constructorInfoAreaId=this.constructor.name;this.filteModelContent=new Te;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["LinkMainImageIdSrc","Id","RecordStatus","settingType","CreatedDate","UpdatedDate"];this.tabledisplayedColumnsMobileSource=["LinkMainImageIdSrc","Id","RecordStatus","settingType","CreatedDate","UpdatedDate"];this.dataModelManagementContentSettingTypeEnumResult=new W;this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:ke=>this.onSubmitOptionsSearch(ke)},this.filteModelContent.sortColumn="Id",this.filteModelContent.sortType=ce.Descending,this.getManagementContentSettingTypeEnum()}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.cmsApiStoreSubscribe=this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>Ae(this,null,function*(){this.tokenInfo=e,this.DataGetAll()}))}ngOnDestroy(){this.cmsApiStoreSubscribe&&this.cmsApiStoreSubscribe.unsubscribe()}getManagementContentSettingTypeEnum(){this.linkManagementEnumService.ServiceManagementContentSettingTypeEnum().subscribe({next:e=>{this.dataModelManagementContentSettingTypeEnumResult=e}})}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Xe);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.setAccessLoad(),this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),t.isSuccess?(this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=ce.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=ce.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=ce.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}let e=new qt;e.disableClose=!0,e.autoFocus=!0,e.height="90%",e.data={},this.dialog.open(wn,e).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Ln,{height:"90%",panelClass:i,enterAnimationDuration:ie.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:ie.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(s=>{this.cmsToastrService.typeErrorSelected(s)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(kn,{height:"90%",panelClass:i,enterAnimationDuration:ie.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:ie.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate&&this.DataGetAll()})}onActionButtonRowTarget(e=this.tableRowSelected,i){if(!e||!e.id||e.id===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),i?.ctrlKey){var t="/#/linkmanagement/target/list/LinkBillboardPatternId/"+e.id;window.open(t,"_blank")}else this.router.navigate(["/linkmanagement/target/list/LinkBillboardPatternId/",e.id])}onActionButtonRowBillboard(e=this.tableRowSelected,i){if(!e||!e.id||e.id===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),i?.ctrlKey){var t="/#/linkmanagement/billboard/list/LinkBillboardPatternId/"+e.id;window.open(t,"_blank")}else this.router.navigate(["/linkmanagement/billboard/list/LinkBillboardPatternId/",e.id])}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(m=>{i.set(m,0)}),this.translate.get("MESSAGE.All").subscribe(m=>{i.set(m,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(m=>{this.publicHelper.processService.processStart(t,m,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:m=>{m.isSuccess?(this.translate.get("MESSAGE.All").subscribe(D=>{i.set(D,m.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(m.errorMessage),this.publicHelper.processService.processStop(t)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(t,!1)}});let s=JSON.parse(JSON.stringify(this.filteModelContent)),M=new oe;M.propertyName="RecordStatus",M.value=tt.Available,s.filters.push(M),this.contentService.ServiceGetCount(s).subscribe({next:m=>{m.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(D=>{i.set(D,m.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(m.errorMessage),this.publicHelper.processService.processStop(t)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0&&(this.filteModelContent.filters=[...this.filteModelContent.filters,...e]),this.DataGetAll()}};xn.\u0275fac=function(i){return new(i||xn)(C(rt),C(O),C(Ue),C(Fe),C(We),C(P),C(Ge),C(B),C(It),C(N),C(je))},xn.\u0275cmp=R({type:xn,selectors:[["app-linkmanagement-billboard-pattern-list"]],standalone:!1,features:[J],decls:63,vars:30,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","LinkMainImageIdSrc"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","Id"],["matColumnDef","LinkSiteId"],["matColumnDef","RecordStatus"],["matColumnDef","Title"],["matColumnDef","settingType"],["matColumnDef","CreatedDate"],["matColumnDef","UpdatedDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],[1,"col-4"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#FFFFFF"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-billboard","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-bullseye-pointer","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","40","width","40",3,"src",4,"ngIf"],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"ngClass"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[3,"click"]],template:function(i,t){if(i&1){let s=E();r(0,"app-cms-html-list",3),y("optionActionGuideNoticeDisplayChange",function(m){return u(s),w(t.viewGuideNotice,m)||(t.viewGuideNotice=m),f(m)}),I("optionOnActionButtonMemoRow",function(){return u(s),f(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return u(s),f(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return u(s),f(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return u(s),f(t.onActionButtonPrintRow())}),Re(1,4)(2,5)(3,6),A(4,7),r(5,"a",8),I("click",function(){return u(s),f(t.viewGuideNotice=!t.viewGuideNotice)}),h(6,"i",9),a(),r(7,"a",8),I("click",function(){return u(s),f(t.onActionButtonReload())}),h(8,"i",10),a(),L(),A(9,11),r(10,"a",12),I("click",function(){return u(s),f(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),h(11,"mat-slide-toggle",13),d(12),g(13,"translate"),a(),r(14,"a",12),I("click",function(){return u(s),f(t.onActionButtonStatist())}),h(15,"mat-slide-toggle",13),d(16),g(17,"translate"),a(),L(),A(18,14),b(19,Rc,7,3,"div",15),L(),A(20,16),b(21,Bc,7,3,"div",15)(22,Pc,7,3,"div",15)(23,Vc,7,3,"div",15)(24,Oc,7,3,"div",15),L(),A(25,17),r(26,"app-cms-search-list",18),y("optionsChange",function(m){return u(s),w(t.optionsSearch,m)||(t.optionsSearch=m),f(m)}),a(),r(27,"app-cms-statist-list",18),y("optionsChange",function(m){return u(s),w(t.optionsStatist,m)||(t.optionsStatist=m),f(m)}),a(),L(),A(28,19),r(29,"mat-table",20,0),I("matSortChange",function(){u(s);let m=x(30);return f(t.onTableSortData(m))}),A(31,21),b(32,Nc,3,3,"mat-header-cell",22)(33,Gc,2,1,"mat-cell",23),L(),A(34,24),b(35,Wc,2,1,"mat-header-cell",22)(36,Hc,2,1,"mat-cell",23),L(),A(37,25),b(38,qc,2,1,"mat-header-cell",22)(39,jc,4,5,"mat-cell",23),L(),A(40,26),b(41,Uc,2,1,"mat-header-cell",22)(42,zc,3,3,"mat-cell",23),L(),A(43,27),b(44,Qc,2,1,"mat-header-cell",22)(45,Kc,2,1,"mat-cell",23),L(),A(46,28),b(47,Jc,2,1,"mat-header-cell",22)(48,Xc,3,4,"mat-cell",23),L(),A(49,29),b(50,Yc,2,1,"mat-header-cell",22)(51,Zc,3,3,"mat-cell",23),L(),A(52,30),b(53,$c,2,1,"mat-header-cell",22)(54,ed,3,3,"mat-cell",23),L(),A(55,31),b(56,td,3,3,"mat-header-cell",32)(57,id,6,1,"mat-cell",33),L(),b(58,nd,1,0,"mat-header-row",34)(59,od,1,6,"mat-row",35),a(),L(),A(60,36),r(61,"mat-paginator",37,1),I("page",function(m){return u(s),f(t.onTablePageingData(m))}),a(),L(),a()}i&2&&(c("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),T("optionActionGuideNoticeDisplay",t.viewGuideNotice),c("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelectDoubleClick)("optionSelectRowItemTitle",(t.tableRowSelected==null||t.tableRowSelected.title==null?null:t.tableRowSelected.title.length)>0?t.tableRowSelected==null?null:t.tableRowSelected.title:t.tableRowSelected==null?null:t.tableRowSelected.id),o(11),c("checked",t.optionsSearch.data.show),o(),S("",_(13,25,"ACTION.SEARCH")," "),o(3),c("checked",t.optionsStatist.data.show),o(),S("",_(17,27,"ACTION.STATIST")," "),o(3),c("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessAddRow),o(2),c("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),o(),c("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),o(),c("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),o(),c("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),o(2),T("options",t.optionsSearch),o(),T("options",t.optionsStatist),o(2),c("dataSource",t.tableSource),o(29),c("matHeaderRowDef",t.tabledisplayedColumns),o(),c("matRowDefColumns",t.tabledisplayedColumns),o(2),c("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",Ve(29,Dc)))},dependencies:[nt,F,qe,Le,lt,st,ct,dt,mt,pt,ut,gt,Mt,_t,ft,Ct,St,ht,bt,vt,wt,yt,kt,Ne,V,br,At,_e,Lt,xt],encapsulation:2});var ko=xn;function rd(n,l){if(n&1){let e=E();r(0,"mat-tree-node",9),h(1,"button",10),r(2,"mat-checkbox",11),I("change",function(){let t=u(e).$implicit,s=p();return f(s.checklistSelection.toggle(t))}),d(3),a()()}if(n&2){let e=l.$implicit,i=l.dataIndex,t=p();se("ntk-tree-odd",i%2)("ntk-tree-even",!(i%2)),o(2),c("checked",t.checklistSelection.isSelected(e)),o(),v(e.title)}}function ad(n,l){if(n&1){let e=E();r(0,"mat-nested-tree-node")(1,"li")(2,"div",12)(3,"button",13)(4,"mat-icon",14),d(5),a()(),r(6,"mat-checkbox",15),I("change",function(){let t=u(e).$implicit,s=p();return f(s.todoItemSelectionToggle(t))}),d(7),a()(),r(8,"ul"),Re(9,16),a()()()}if(n&2){let e=l.$implicit,i=p();o(3),it("aria-label","Toggle "+e.title),o(2),S(" ",i.treeControl.isExpanded(e)?"expand_more":"chevron_right"," "),o(),c("checked",i.checklistSelection.isSelected(e))("indeterminate",i.descendantsPartiallySelected(e)),o(),S(" ",e.title),o(),se("category-tree-invisible",!i.treeControl.isExpanded(e))}}var Dn=class Dn{constructor(l,e,i,t,s,M,m,D,H){this.cmsToastrService=l;this.coreEnumService=e;this.categoryService=i;this.cdr=t;this.publicHelper=s;this.tokenHelper=M;this.cmsStoreService=m;this.translate=D;this.dialog=H;this.constructorInfoAreaId=this.constructor.name;this.dataModelSelect=[];this.dataModelResult=new W;this.filterModel=new Te;this.treeControl=new Qi(l=>l.children);this.dataSource=new tn;this.runComplate=!1;this.optionSelectChecked=new Qe;this.optionSelectDisChecked=new Qe;this.optionModelChange=new Qe;this.checklistSelection=new ur(!0);this.hasChild=(l,e)=>!!e.children&&e.children.length>0;this.hasNoContent=(l,e)=>e.children;this.publicHelper.processService.cdr=this.cdr,this.checklistSelection.changed.subscribe(j=>{if(!this.runComplate)return;let he=[];this.checklistSelection.selected.forEach(ye=>{he.push(ye.id)}),this.optionModelChange.emit(he),j.added&&j.added.length>0&&j.added.forEach(ye=>{this.optionSelectChecked.emit(ye.id)}),j.removed&&j.removed.length>0&&j.removed.forEach(ye=>{this.optionSelectDisChecked.emit(ye.id)})})}set optionModel(l){this.dataModelSelect=l,this.loadCheked()}ngOnInit(){setTimeout(()=>{this.DataGetAll()},500),this.cmsApiStoreSubscribe=this.cmsStoreService.getState(l=>l.tokenInfoStore).subscribe(l=>Ae(this,null,function*(){this.DataGetAll()}))}ngOnDestroy(){this.cmsApiStoreSubscribe&&this.cmsApiStoreSubscribe.unsubscribe()}loadCheked(l=this.treeControl.dataNodes){this.runComplate=!1,this.treeControl.dataNodes&&this.dataModelSelect&&this.dataModelSelect.length>0&&l.forEach(e=>{this.dataModelSelect.find(t=>t===e.id)&&this.checklistSelection.select(e),e.children&&e.children.length>0&&this.loadCheked(e.children)}),this.runComplate=!0}DataGetAll(){this.filterModel.rowPerPage=200,this.filterModel.accessLoad=!0;let l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(l,e,this.constructorInfoAreaId)}),this.categoryService.ServiceGetAll(this.filterModel).subscribe({next:e=>{e.isSuccess?(this.dataModelResult=e,this.dataSource.data=this.dataModelResult.listItems,this.treeControl.dataNodes=this.dataModelResult.listItems,this.loadCheked()):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(l)},error:e=>{this.publicHelper.processService.processStop(l),this.cmsToastrService.typeError(e)}})}descendantsAllSelected(l){return this.treeControl.getDescendants(l).every(i=>this.checklistSelection.isSelected(i))}descendantsPartiallySelected(l){return this.treeControl.getDescendants(l).some(t=>this.checklistSelection.isSelected(t))&&!this.descendantsAllSelected(l)}todoItemSelectionToggle(l){this.checklistSelection.toggle(l);let e=this.treeControl.getDescendants(l);this.checklistSelection.isSelected(l)?this.checklistSelection.select(...e):this.checklistSelection.deselect(...e)}};Dn.\u0275fac=function(e){return new(e||Dn)(C(O),C(te),C(at),C(B),C(N),C(We),C(Ge),C(P),C(je))},Dn.\u0275cmp=R({type:Dn,selectors:[["app-linkmanagement-category-treeselector"]],inputs:{optionModel:"optionModel"},outputs:{optionSelectChecked:"optionSelectChecked",optionSelectDisChecked:"optionSelectDisChecked",optionModelChange:"optionModelChange"},standalone:!1,decls:11,vars:10,consts:[[3,"optionHeaderDisplay","optionActionMainDisplay","optionFooterDisplay"],["cms-tree-header",""],["cms-tree-action",""],["cms-tree-body","",1,"loader-container"],[3,"optionsInfoAreaId"],[1,"category-tree","cursor-pointer",3,"dataSource","treeControl"],["matTreeNodePadding","",3,"ntk-tree-odd","ntk-tree-even",4,"matTreeNodeDef"],[4,"matTreeNodeDef","matTreeNodeDefWhen"],["cms-tree-footer",""],["matTreeNodePadding",""],["type","button","mat-icon-button","","disabled",""],[1,"checklist-leaf-node",3,"change","checked"],[1,"mat-tree-node"],["type","button","mat-icon-button","","matTreeNodeToggle",""],[1,"mat-icon-rtl-mirror"],[3,"change","checked","indeterminate"],["matTreeNodeOutlet",""]],template:function(e,i){e&1&&(r(0,"app-cms-html-tree",0),A(1,1),d(2),g(3,"translate"),L(),Re(4,2),A(5,3),h(6,"app-progress-spinner",4),r(7,"mat-tree",5),b(8,rd,4,6,"mat-tree-node",6)(9,ad,10,7,"mat-nested-tree-node",7),a(),L(),Re(10,8),a()),e&2&&(c("optionHeaderDisplay",!0)("optionActionMainDisplay",!0)("optionFooterDisplay",!1),o(2),S(" ",_(3,8,"TABLE."+(i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.moduleEntityName))," "),o(4),c("optionsInfoAreaId",i.constructorInfoAreaId),o(),c("dataSource",i.dataSource)("treeControl",i.treeControl),o(2),c("matTreeNodeDefWhen",i.hasChild))},dependencies:[qe,fr,Le,Xi,Ji,Yi,en,$i,Ki,Zi,q,nn,V],encapsulation:2});var ii=Dn;var sd=["vform"];function cd(n,l){if(n&1){let e=E();r(0,"app-cms-enum-record-status-selector",39),y("modelChange",function(t){u(e);let s=p();return w(s.dataModel.recordStatus,t)||(s.dataModel.recordStatus=t),f(t)}),a()}if(n&2){let e=p();T("model",e.dataModel.recordStatus),c("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function dd(n,l){n&1&&h(0,"i",40)}function md(n,l){n&1&&h(0,"i",41)}function pd(n,l){if(n&1&&(r(0,"mat-error"),d(1),r(2,"strong"),d(3),g(4,"translate"),a()()),n&2){let e=p();o(),S(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," is "),o(2),v(_(4,2,"MESSAGE.required"))}}function ud(n,l){if(n&1){let e=E();r(0,"div",15)(1,"label",42),d(2),a(),r(3,"input",43,4),y("ngModelChange",function(t){u(e);let s=p();return w(s.dataModel.bgColor,t)||(s.dataModel.bgColor=t),f(t)}),a(),h(5,"ngx-mat-color-toggle",26)(6,"ngx-mat-color-picker",44,5),a()}if(n&2){let e=x(7),i=p();o(2),v(i.fieldsInfo.bgColor==null?null:i.fieldsInfo.bgColor.fieldTitle),o(),so("background",i.dataModel.bgColor),c("placeholder",k(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle)),T("ngModel",i.dataModel.bgColor),c("ngxMatColorPicker",e)("disabled",!(i.fieldsInfo.bgColor!=null&&i.fieldsInfo.bgColor.accessAddField)),o(2),c("for",e),o(),c("touchUi",!0)("color","primary")}}function fd(n,l){if(n&1){let e=E();r(0,"div",45)(1,"button",46),I("click",function(){u(e);let t=p();return f(t.onActionBackToParent())}),d(2),g(3,"translate"),a(),r(4,"button",47),d(5),g(6,"translate"),a()()}if(n&2){p();let e=x(9);o(2),S(" ",_(3,3,"ACTION.BACK")," "),o(2),c("disabled",!e.form.valid),o(),S(" ",_(6,5,"ACTION.NEXT")," ")}}function gd(n,l){if(n&1&&(r(0,"div",45)(1,"button",48),d(2),g(3,"translate"),a(),r(4,"button",47),d(5),g(6,"translate"),a()()),n&2){p();let e=x(9);o(2),S(" ",_(3,3,"ACTION.BEFOR")," "),o(2),c("disabled",!e.form.valid),o(),S(" ",_(6,5,"ACTION.NEXT")," ")}}function _d(n,l){if(n&1&&(h(0,"img",49),g(1,"cmsthumbnail")),n&2){let e=p();c("src",k(_(1,2,e.dataModel.linkMainImageIdSrc)),K)}}function Sd(n,l){if(n&1){let e=E();r(0,"div",15)(1,"label",50),I("click",function(){u(e);let t=p();return f(t.fileManagerOpenForm=!0)}),d(2),g(3,"translate"),a(),r(4,"input",51,6),g(6,"translate"),y("ngModelChange",function(t){u(e);let s=p();return w(s.dataModel.linkMainImageId,t)||(s.dataModel.linkMainImageId=t),f(t)}),I("click",function(){u(e);let t=p();return f(t.fileManagerOpenForm=!0)}),a(),r(7,"cms-file-manager",52),I("itemSelected",function(t){u(e);let s=p();return f(s.onActionFileSelectedLinkMainImageId(t))}),y("openFormChange",function(t){u(e);let s=p();return w(s.fileManagerOpenForm,t)||(s.fileManagerOpenForm=t),f(t)}),a()()}if(n&2){let e=p();o(2),v(_(3,12,"TITLE.Original_Photo")),o(2),c("placeholder",k(_(6,14,"TITLE.Original_File_ID"))),T("ngModel",e.dataModel.linkMainImageId),o(3),c("language",e.appLanguage)("isPopup",!0),T("openForm",e.fileManagerOpenForm),c("tree",e.fileManagerTree)("openDirectUploadView",!0)("openFilemanagerButtonLabelKey","select")("selectFileType",e.selectFileTypeMainImage)("openFilemanagerButtonView",!1)}}function hd(n,l){if(n&1&&(r(0,"div",45)(1,"button",48),d(2),g(3,"translate"),a(),r(4,"button",53),h(5,"i",54),d(6),g(7,"translate"),a()()),n&2){p();let e=x(9);o(2),S(" ",_(3,3,"ACTION.BEFOR")," "),o(2),c("disabled",!e.form.valid),o(2),S(" ",_(7,5,"ACTION.SAVE")," ")}}function Md(n,l){n&1&&(r(0,"mat-icon"),d(1,"call_end"),a())}function Cd(n,l){n&1&&(r(0,"mat-icon"),d(1,"call_end"),a())}function bd(n,l){n&1&&(r(0,"mat-icon"),d(1,"forum"),a())}function vd(n,l){n&1&&(r(0,"mat-icon"),d(1,"forum"),a())}var Rn=class Rn extends Et{constructor(e,i,t,s,M,m,D,H,j){super(M,new oi,s,j);this.activatedRoute=e;this.coreEnumService=i;this.contentCategoryService=t;this.publicHelper=s;this.linkManagementBillboardService=M;this.cmsToastrService=m;this.router=D;this.cdr=H;this.translate=j;this.requestLinkBillboardPatternId=0;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.dataModel=new oi;this.dataModelResult=new W;this.optionActionTitle="";this.optionActionButtomEnable=!0;this.optionTabledisplayedColumns=["Id","Option","OptionAnswer","IsCorrectAnswer","NumberOfVotes","ScoreOfVotes","Action"];this.dataContentCategoryModel=[];this.selectFileTypeMainImage=["jpg","jpeg","png"];this.selectFileTypePodcast=["mp3"];this.selectFileTypeMovie=["mp4","webm"];this.formInfo=new ee;this.fileManagerOpenForm=!1;this.fileManagerOpenFormPodcast=!1;this.fileManagerOpenFormMovie=!1;this.appLanguage="fa";this.viewMap=!1;this.mapMarkerPoints=[];this.mapOptonCenter=new Di;this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),this.translate.get("ACTION.Add_To_List").subscribe(he=>{this.optionActionTitle=he})}ngOnInit(){if(this.requestLinkBillboardPatternId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkBillboardPatternId")),this.requestLinkBillboardPatternId===0){this.cmsToastrService.typeErrorAddRowParentIsNull();return}this.dataModel.linkBillboardPatternId=this.requestLinkBillboardPatternId,this.DataGetAccess()}onActionFileSelectedLinkMainImageId(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}onFormSubmit(){if(this.requestLinkBillboardPatternId<=0){this.cmsToastrService.typeErrorAddRowParentIsNull();return}if(!this.formGroup.valid){this.cmsToastrService.typeErrorFormInvalid();return}this.DataEditContent()}DataGetOne(){this.formInfo.formSubmitAllow=!1,this.translate.get("MESSAGE.get_information_from_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.linkManagementBillboardService.ServiceGetOneById(this.dataModelResult.item.id).subscribe({next:i=>{this.publicHelper.processService.processStop(e),this.dataModelResult=i,this.formInfo.formSubmitAllow=!0,i.isSuccess?(this.dataModel=i.item,this.publicHelper.processService.processStop(e)):this.cmsToastrService.typeErrorGetOne(i.errorMessage)},error:i=>{this.publicHelper.processService.processStop(e),this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeErrorGetOne(i)}})}DataAddContent(){this.dataModel.bgColor=this.dataModel.bgColor?.toString(),this.formInfo.formSubmitAllow=!1,this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.linkManagementBillboardService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.publicHelper.processService.processStop(e),this.dataModelResult=i,i.isSuccess?(this.cmsToastrService.typeSuccessAdd(),this.dataModel=i.item):this.cmsToastrService.typeErrorAdd(i.errorMessage),this.formInfo.formAlert="",this.formInfo.formSubmitAllow=!0},error:i=>{this.publicHelper.processService.processStop(e),this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeErrorAdd(i)}})}DataEditContent(){this.formInfo.formSubmitAllow=!1,this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.linkManagementBillboardService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.publicHelper.processService.processStop(e),this.formInfo.formSubmitAllow=!0,i.isSuccess?(this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.linkManagementBillboardService.ServiceGetOneById(this.dataModelResult.item.id).subscribe({next:t=>{this.publicHelper.processService.processStop(e),this.formInfo.formSubmitAllow=!0,this.dataModelResult=t,t.isSuccess?this.dataModel=t.item:this.cmsToastrService.typeErrorEdit(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.publicHelper.processService.processStop(e),this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(t)}}),this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.formAlert=t}),this.cmsToastrService.typeSuccessEdit(),setTimeout(()=>this.router.navigate(["/linkmanagement/billboard"]),1e3)):this.cmsToastrService.typeErrorEdit(i.errorMessage),this.publicHelper.processService.processStop(e)},error:i=>{this.publicHelper.processService.processStop(e),this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i)}})}onActionSelectorSelectLinkManagementMemberId(e){if(!e||e.id<=0){this.translate.get("MESSAGE.Type_of_User_account_is_not_known").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkBillboardPatternId=e.id}onActionSelectorSelectLinkBillboardPatternId(e){if(!e||e.id<=0){this.translate.get("MESSAGE.Category_of_billboard_information_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkBillboardPatternId=e.id}onActionCategorySelectChecked(e){if(!e||e<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}if(this.dataModel.id>0){let i=new ji;i.linkCategoryId=e,i.linkManagementBillboardId=this.dataModel.id,this.contentCategoryService.ServiceAdd(i).subscribe({next:t=>{t.isSuccess?(this.translate.get("MESSAGE.registration_in_this_group_was_successful").subscribe(s=>{this.formInfo.formAlert=s}),this.cmsToastrService.typeSuccessEdit()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(s=>{this.formInfo.formAlert=s}),this.formInfo.formError=t.errorMessage,this.cmsToastrService.typeErrorMessage(t.errorMessage))},error:t=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(t)}})}}onActionCategorySelectDisChecked(e){if(!e||e<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}let i=new ji;i.linkCategoryId=e,i.linkManagementBillboardId=this.dataModel.id,this.contentCategoryService.ServiceDeleteEntity(i).subscribe({next:t=>{t.isSuccess?(this.translate.get("MESSAGE.registration_in_this_group_was_successful").subscribe(s=>{this.formInfo.formAlert=s}),this.cmsToastrService.typeSuccessEdit()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(s=>{this.formInfo.formAlert=s}),this.formInfo.formError=t.errorMessage,this.cmsToastrService.typeErrorMessage(t.errorMessage))},error:t=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(t)}})}onStepClick(e,i){e.previouslySelectedIndex<e.selectedIndex&&(this.formGroup.valid||(this.cmsToastrService.typeErrorFormInvalid(),setTimeout(()=>{i.selectedIndex=e.previouslySelectedIndex},10))),(!this.dataModelResult||!this.dataModelResult.item||this.dataModelResult.item.id<=0)&&this.DataAddContent()}onActionBackToParent(){this.router.navigate(["/linkmanagement/billboard/"])}};Rn.\u0275fac=function(i){return new(i||Rn)(C(Ke),C(te),C(Hi),C(N),C(Zt),C(O),C(Fe),C(B),C(P))},Rn.\u0275cmp=R({type:Rn,selectors:[["app-linkmanagement-billboard-add"]],viewQuery:function(i,t){if(i&1&&X(sd,5),i&2){let s;Y(s=Z())&&(t.formGroup=s.first)}},standalone:!1,features:[J],decls:65,vars:56,consts:[["vform","ngForm"],["stepper",""],["Title",""],["FromDate",""],["bgColor",""],["bgColorPicker",""],["LinkMainImageId",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"selectionChange"],["state","main",3,"label"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","fa fa-times  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],[4,"ngIf"],[3,"optionChange","optionSelectForce","optionPlaceholder"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],["for","dataModel.fromDate",1,"color-highlight"],["matInput","","type","text","name","dataModel.bgColor","id","dataModel.fromDate",1,"form-control","validate-name",3,"ngModelChange","ngModel","matDatepicker"],["matSuffix","",3,"for"],["touchUi",""],["class","form-actions",4,"ngIf"],["state","seo",3,"label"],[3,"optionModelChange","optionSelectChecked","optionSelectDisChecked","optionModel"],["state","file",3,"label"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],["matStepperIcon","main"],["matStepperIcon","seo"],["matStepperIcon","file"],["matStepperIcon","loaction"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.bgColor",1,"color-highlight"],["matInput","","type","text","name","dataModel.bgColor","minlength","3","maxlength","100","required","","id","dataModel.bgColor",1,"form-control","validate-name",3,"ngModelChange","ngModel","ngxMatColorPicker","placeholder","disabled"],[3,"touchUi","color"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],["type","button","matStepperNext","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue",3,"disabled"],["type","button","matStepperPrevious","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openDirectUploadView","openFilemanagerButtonLabelKey","selectFileType","openFilemanagerButtonView"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=E();r(0,"div",7),h(1,"app-progress-spinner",8),r(2,"div",9)(3,"p",10),d(4),a(),r(5,"p"),d(6),g(7,"translate"),a(),r(8,"form",11,0),I("ngSubmit",function(){return u(s),f(t.onFormSubmit())}),r(10,"mat-vertical-stepper",12,1),I("selectionChange",function(m){u(s);let D=x(11);return f(t.onStepClick(m,D))}),r(12,"mat-step",13),g(13,"translate"),b(14,cd,1,5,"app-cms-enum-record-status-selector",14),r(15,"div",15)(16,"label",16),d(17),a(),r(18,"input",17,2),y("ngModelChange",function(m){return u(s),w(t.dataModel.title,m)||(t.dataModel.title=m),f(m)}),a(),b(20,dd,1,0,"i",18)(21,md,1,0,"i",19),r(22,"em"),d(23),a(),b(24,pd,5,4,"mat-error",20),a(),r(25,"app-linkmanagement-member-selector",21),g(26,"translate"),I("optionChange",function(m){return u(s),f(t.onActionSelectorSelectLinkManagementMemberId(m))}),a(),r(27,"app-linkmanagement-billboard-pattern-selector",21),g(28,"translate"),I("optionChange",function(m){return u(s),f(t.onActionSelectorSelectLinkBillboardPatternId(m))}),a(),b(29,ud,8,11,"div",22),r(30,"div",23)(31,"label",24),d(32),a(),r(33,"input",25),y("ngModelChange",function(m){return u(s),w(t.dataModel.fromDate,m)||(t.dataModel.fromDate=m),f(m)}),a(),h(34,"mat-datepicker-toggle",26)(35,"mat-datepicker",27,3),a(),b(37,fd,7,7,"div",28),a(),r(38,"mat-step",29),g(39,"translate"),r(40,"app-linkmanagement-category-treeselector",30),y("optionModelChange",function(m){return u(s),w(t.dataContentCategoryModel,m)||(t.dataContentCategoryModel=m),f(m)}),I("optionSelectChecked",function(m){return u(s),f(t.onActionCategorySelectChecked(m))})("optionSelectDisChecked",function(m){return u(s),f(t.onActionCategorySelectDisChecked(m))}),a(),h(41,"br"),b(42,gd,7,7,"div",28),a(),r(43,"mat-step",31),g(44,"translate"),r(45,"p"),d(46),g(47,"translate"),a(),r(48,"div",32)(49,"a",33),g(50,"cmsthumbnail"),b(51,_d,2,4,"img",34),a()(),b(52,Sd,8,16,"div",22)(53,hd,8,7,"div",28),a(),b(54,Md,2,0,"ng-template",35)(55,Cd,2,0,"ng-template",36)(56,bd,2,0,"ng-template",37)(57,vd,2,0,"ng-template",38),a(),h(58,"hr"),d(59),g(60,"translate"),h(61,"br"),r(62,"div")(63,"pre"),d(64),a()()()()()}if(i&2){let s=x(19),M=x(36);o(),c("optionsInfoAreaId",t.constructorInfoAreaId),o(3),S(" ",t.formInfo.formTitle," "),o(2),S(" ",_(7,38,"TITLE.Be_Careful_When_Entering_Information")," "),o(6),c("label",k(_(13,40,"TITLE.REQUIRED_INFORMATION"))),o(2),c("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),o(3),v(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),c("placeholder",k(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),T("ngModel",t.dataModel.title),o(2),c("ngIf",!s.value),o(),c("ngIf",s.value),o(2),S("",s.value.length," / 100"),o(),c("ngIf",s.errors==null?null:s.errors.required),o(),c("optionSelectForce",t.dataModel.linkManagementMemberId)("optionPlaceholder",_(26,42,"TITLE.User_Account")),o(2),c("optionSelectForce",t.dataModel.linkBillboardPatternId)("optionPlaceholder",_(28,44,"TITLE.Billboard_Pattern")),o(2),c("ngIf",t.fieldsInfo.bgColor==null?null:t.fieldsInfo.bgColor.accessWatchField),o(3),v(t.fieldsInfo.fromDate==null?null:t.fieldsInfo.fromDate.fieldTitle),o(),T("ngModel",t.dataModel.fromDate),c("matDatepicker",M),o(),c("for",M),o(3),c("ngIf",t.formInfo.formSubmitAllow),o(),c("label",k(_(39,46,"TITLE.TARGET_SELECTION"))),o(2),T("optionModel",t.dataContentCategoryModel),o(2),c("ngIf",t.formInfo.formSubmitAllow),o(),c("label",k(_(44,48,"TITLE.ATTACH_FILES"))),o(3),v(_(47,50,"TITLE.CONTENT_ATTACH_FILES")),o(3),c("href",k(_(50,52,t.dataModel.linkMainImageIdSrc)),K),o(2),c("ngIf",(t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0),o(),c("ngIf",t.fieldsInfo.linkMainImageId==null?null:t.fieldsInfo.linkMainImageId.accessWatchField),o(),c("ngIf",t.formInfo.formSubmitAllow),o(6),S(" ",_(60,54,"TITLE.HTML_CODE")," "),o(5),S("      ",t.dataModel.billboardScript)}},dependencies:[F,ve,U,z,Ce,Q,fe,ge,$,be,hi,Mi,Ci,Ie,Si,Le,G,ki,Ai,Li,xi,yi,we,q,Ri,uo,po,mo,Ye,ii,Kt,ti,V,_e],styles:["@media (max-width: 1399px){.wizard.wizard-4[_ngcontent-%COMP%]   .wizard-nav[_ngcontent-%COMP%]   .wizard-steps[_ngcontent-%COMP%]   .wizard-step[_ngcontent-%COMP%]{flex:0 0 calc(25% - .25rem)}}form[_ngcontent-%COMP%]{text-align:right}.wrapper[_ngcontent-%COMP%]{display:flex;padding-top:15px}.lbl-status[_ngcontent-%COMP%]{width:100px;display:flex;align-items:flex-end;justify-content:center;margin-top:5px}.status-select[_ngcontent-%COMP%]{width:970px}textarea[_ngcontent-%COMP%]{resize:none}.calender-select[_ngcontent-%COMP%]{width:252px}.next-modal[_ngcontent-%COMP%]{width:100px;margin-right:15px}.pb-4[_ngcontent-%COMP%], .py-4[_ngcontent-%COMP%]{padding-bottom:7px!important;padding-top:7px!important}tag-input[_ngcontent-%COMP%]{width:1000px}.leaflet-pane[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute!important}.fs-container[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;top:0;left:0}.lbl-content[_ngcontent-%COMP%]{width:100px;display:flex;align-items:flex-end;justify-content:center;margin-top:25px}@media (min-width: 1400px){.col-xxl-7[_ngcontent-%COMP%]{max-width:100%!important;flex:0 0 100%}}.heroes[_ngcontent-%COMP%]{margin:0 0 2em;list-style-type:none;padding:0;width:15em}.heroes[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{cursor:pointer;position:relative;left:0;background-color:#eee;margin:.5em;padding:.3em 0;height:1.6em;border-radius:4px}.heroes[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{color:#607d8b;background-color:#ddd;left:.1em}.heroes[_ngcontent-%COMP%]   li.selected[_ngcontent-%COMP%]{background-color:#cfd8dc;color:#fff}.heroes[_ngcontent-%COMP%]   li.selected[_ngcontent-%COMP%]:hover{background-color:#bbd8dc;color:#fff}.heroes[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{display:inline-block;font-size:small;color:#fff;padding:.8em .7em 0;background-color:#405061;line-height:1em;position:relative;left:-1px;top:-4px;height:1.8em;margin-right:.8em;border-radius:4px 0 0 4px}"]});var Lo=Rn;var Id=["vform"];function Ed(n,l){if(n&1){let e=E();r(0,"app-cms-enum-record-status-selector",45),y("modelChange",function(t){u(e);let s=p();return w(s.dataModel.recordStatus,t)||(s.dataModel.recordStatus=t),f(t)}),a()}if(n&2){let e=p();T("model",e.dataModel.recordStatus),c("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Td(n,l){n&1&&h(0,"i",46)}function wd(n,l){n&1&&h(0,"i",47)}function yd(n,l){if(n&1&&(r(0,"mat-error"),d(1),r(2,"strong"),d(3),g(4,"translate"),a()()),n&2){let e=p();o(),S(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," is "),o(2),v(_(4,2,"MESSAGE.required"))}}function kd(n,l){if(n&1){let e=E();r(0,"div",17)(1,"label",48),d(2),a(),r(3,"input",49,6),y("ngModelChange",function(t){u(e);let s=p();return w(s.dataModel.bgColor,t)||(s.dataModel.bgColor=t),f(t)}),a(),h(5,"ngx-mat-color-toggle",32)(6,"ngx-mat-color-picker",50,7),a()}if(n&2){let e=x(7),i=p();o(2),v(i.fieldsInfo.bgColor==null?null:i.fieldsInfo.bgColor.fieldTitle),o(),so("background",i.dataModel.bgColor),c("placeholder",k(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle)),T("ngModel",i.dataModel.bgColor),c("ngxMatColorPicker",e)("disabled",!(i.fieldsInfo.bgColor!=null&&i.fieldsInfo.bgColor.accessEditField)),o(2),c("for",e),o(),c("touchUi",!0)("color","primary")}}function Ad(n,l){n&1&&h(0,"i",46)}function Ld(n,l){n&1&&h(0,"i",47)}function xd(n,l){n&1&&(r(0,"mat-error"),d(1," CurrentClickCount is "),r(2,"strong"),d(3),g(4,"translate"),a()()),n&2&&(o(3),v(_(4,1,"MESSAGE.required")))}function Dd(n,l){n&1&&h(0,"i",46)}function Rd(n,l){n&1&&h(0,"i",47)}function Bd(n,l){n&1&&(r(0,"mat-error"),d(1," CurrentViewCount is "),r(2,"strong"),d(3),g(4,"translate"),a()()),n&2&&(o(3),v(_(4,1,"MESSAGE.required")))}function Pd(n,l){if(n&1){let e=E();r(0,"div",51)(1,"button",52),I("click",function(){u(e);let t=p();return f(t.onActionBackToParent())}),d(2),g(3,"translate"),a(),r(4,"button",53),h(5,"i",54),d(6),g(7,"translate"),a(),r(8,"button",55),d(9),g(10,"translate"),a()()}if(n&2){p();let e=x(9);o(2),S(" ",_(3,5,"ACTION.BACK")," "),o(2),c("disabled",!e.form.valid),o(2),S(" ",_(7,7,"ACTION.SAVE")," "),o(2),c("disabled",!e.form.valid),o(),S(" ",_(10,9,"ACTION.NEXT")," ")}}function Vd(n,l){if(n&1){let e=E();r(0,"div",51)(1,"button",52),I("click",function(){u(e);let t=p();return f(t.onActionBackToParent())}),d(2),g(3,"translate"),a(),r(4,"button",56),d(5),g(6,"translate"),a(),r(7,"button",53),h(8,"i",54),d(9),g(10,"translate"),a(),r(11,"button",55),d(12),g(13,"translate"),a()()}if(n&2){p();let e=x(9);o(2),S(" ",_(3,6,"ACTION.BACK")," "),o(3),S(" ",_(6,8,"ACTION.BEFOR")," "),o(2),c("disabled",!e.form.valid),o(2),S(" ",_(10,10,"ACTION.SAVE")," "),o(2),c("disabled",!e.form.valid),o(),S(" ",_(13,12,"ACTION.NEXT")," ")}}function Od(n,l){if(n&1&&(h(0,"img",57),g(1,"cmsthumbnail")),n&2){let e=p();c("src",k(_(1,2,e.dataModel.linkMainImageIdSrc)),K)}}function Nd(n,l){if(n&1){let e=E();r(0,"div",17)(1,"label",58),I("click",function(){u(e);let t=p();return f(t.fileManagerOpenForm=!0)}),d(2),g(3,"translate"),a(),r(4,"input",59,8),g(6,"translate"),y("ngModelChange",function(t){u(e);let s=p();return w(s.dataModel.linkMainImageId,t)||(s.dataModel.linkMainImageId=t),f(t)}),I("click",function(){u(e);let t=p();return f(t.fileManagerOpenForm=!0)}),a(),r(7,"cms-file-manager",60),I("itemSelected",function(t){u(e);let s=p();return f(s.onActionFileSelectedLinkMainImageId(t))}),y("openFormChange",function(t){u(e);let s=p();return w(s.fileManagerOpenForm,t)||(s.fileManagerOpenForm=t),f(t)}),a()()}if(n&2){let e=p();o(2),v(_(3,12,"TITLE.Original_Photo")),o(2),c("placeholder",k(_(6,14,"TITLE.Original_File_ID"))),T("ngModel",e.dataModel.linkMainImageId),o(3),c("language",e.appLanguage)("isPopup",!0),T("openForm",e.fileManagerOpenForm),c("tree",e.fileManagerTree)("openDirectUploadView",!0)("openFilemanagerButtonLabelKey","select")("selectFileType",e.selectFileTypeMainImage)("openFilemanagerButtonView",!1)}}function Fd(n,l){if(n&1){let e=E();r(0,"div",51)(1,"button",52),I("click",function(){u(e);let t=p();return f(t.onActionBackToParent())}),d(2),g(3,"translate"),a(),r(4,"button",56),d(5),g(6,"translate"),a(),r(7,"button",53),h(8,"i",54),d(9),g(10,"translate"),a()()}if(n&2){p();let e=x(9);o(2),S(" ",_(3,4,"ACTION.BACK")," "),o(3),S(" ",_(6,6,"ACTION.BEFOR")," "),o(2),c("disabled",!e.form.valid),o(2),S(" ",_(10,8,"ACTION.SAVE")," ")}}function Gd(n,l){n&1&&(r(0,"mat-icon"),d(1,"call_end"),a())}function Wd(n,l){n&1&&(r(0,"mat-icon"),d(1,"call_end"),a())}function Hd(n,l){n&1&&(r(0,"mat-icon"),d(1,"forum"),a())}function qd(n,l){n&1&&(r(0,"mat-icon"),d(1,"forum"),a())}var Bn=class Bn extends Ze{constructor(e,i,t,s,M,m,D,H){super(s,new oi,i,H);this.activatedRoute=e;this.publicHelper=i;this.contentCategoryService=t;this.linkManagementBillboardService=s;this.cmsToastrService=M;this.router=m;this.cdr=D;this.translate=H;this.requestId=0;this.constructorInfoAreaId=this.constructor.name;this.dataModel=new oi;this.dataModelResult=new Je;this.dataModelEnumManagementContentSettingTypeResult=new W;this.dataModelEnumSharingPriceTypeResult=new W;this.optionActionTitle="";this.optionActionButtomEnable=!0;this.optionTabledisplayedColumns=["Id","Option","OptionAnswer","IsCorrectAnswer","NumberOfVotes","ScoreOfVotes","Action"];this.dataContentCategoryModel=[];this.selectFileTypeMainImage=["jpg","jpeg","png"];this.selectFileTypePodcast=["mp3"];this.selectFileTypeMovie=["mp4","webm"];this.formInfo=new ee;this.fileManagerOpenForm=!1;this.fileManagerOpenFormPodcast=!1;this.fileManagerOpenFormMovie=!1;this.appLanguage="fa";this.viewMap=!1;this.mapMarkerPoints=[];this.mapOptonCenter=new Di;this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),this.translate.get("ACTION.Add_To_List").subscribe(j=>{this.optionActionTitle=j})}ngOnInit(){if(this.requestId=+Number(this.activatedRoute.snapshot.paramMap.get("Id")),this.requestId===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.DataGetOne(),this.DataCategoryGetAll()}onActionFileSelectedLinkMainImageId(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}onFormSubmit(){if(this.requestId<=0){this.cmsToastrService.typeErrorEditRowIsNull();return}if(!this.formGroup.valid){this.cmsToastrService.typeErrorFormInvalid();return}this.DataEditContent()}DataGetOne(){this.formInfo.formSubmitAllow=!1,this.translate.get("MESSAGE.get_information_from_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.linkManagementBillboardService.setAccessLoad(),this.linkManagementBillboardService.setAccessDataType(Ee.Editor),this.linkManagementBillboardService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.dataAccessModel=i.access,this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModelResult=i,this.formInfo.formSubmitAllow=!0,i.isSuccess?this.dataModel=i.item:this.cmsToastrService.typeErrorGetOne(i.errorMessage),this.publicHelper.processService.processStop(e)},error:i=>{this.publicHelper.processService.processStop(e),this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeErrorGetOne(i)}})}DataEditContent(){this.dataModel.bgColor=this.dataModel.bgColor?.toString(),this.formInfo.formSubmitAllow=!1,this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.linkManagementBillboardService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.publicHelper.processService.processStop(e),this.formInfo.formSubmitAllow=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.formAlert=t}),this.cmsToastrService.typeSuccessEdit()):this.cmsToastrService.typeErrorEdit(i.errorMessage),this.publicHelper.processService.processStop(e)},error:i=>{this.publicHelper.processService.processStop(e),this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i)}})}onActionSelectorSelectLinkManagementMemberId(e){if(!e||e.id<=0){this.translate.get("MESSAGE.Type_of_User_account_is_not_known").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkBillboardPatternId=e.id}onActionSelectorSelectLinkBillboardPatternId(e){if(!e||e.id<=0){this.translate.get("MESSAGE.Category_of_billboard_information_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkBillboardPatternId=e.id}DataCategoryGetAll(){this.formInfo.formSubmitAllow=!1,this.translate.get("MESSAGE.get_category_information_from_the_server").subscribe(s=>{this.formInfo.formAlert=s}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(s=>{this.publicHelper.processService.processStart(e,s,this.constructorInfoAreaId)});let i=new Te,t=new oe;t.propertyName="LinkManagementBillboardId",t.value=this.requestId,t.clauseType=ot.And,i.filters.push(t),this.tagIdsData=[],this.contentCategoryService.ServiceGetAll(i).subscribe({next:s=>{let M=[];s.listItems.forEach(m=>{M.push(m.linkCategoryId)}),this.dataContentCategoryModel=M,this.formInfo.formSubmitAllow=!0,this.publicHelper.processService.processStop(e)},error:s=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeErrorGetAll(s),this.publicHelper.processService.processStop(e)}})}onActionCategorySelectChecked(e){if(!e||e<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}let i=new ji;i.linkCategoryId=e,i.linkManagementBillboardId=this.dataModel.id,this.contentCategoryService.ServiceAdd(i).subscribe({next:t=>{t.isSuccess?(this.translate.get("MESSAGE.registration_in_this_group_was_successful").subscribe(s=>{this.formInfo.formAlert=s}),this.cmsToastrService.typeSuccessEdit()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(s=>{this.formInfo.formAlert=s}),this.formInfo.formError=t.errorMessage,this.cmsToastrService.typeErrorMessage(t.errorMessage))},error:t=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(t)}})}onActionCategorySelectDisChecked(e){if(!e||e<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}let i=new ji;i.linkCategoryId=e,i.linkManagementBillboardId=this.dataModel.id,this.contentCategoryService.ServiceDeleteEntity(i).subscribe({next:t=>{t.isSuccess?(this.translate.get("MESSAGE.registration_in_this_group_was_successful").subscribe(s=>{this.formInfo.formAlert=s}),this.cmsToastrService.typeSuccessEdit()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(s=>{this.formInfo.formAlert=s}),this.formInfo.formError=t.errorMessage,this.cmsToastrService.typeErrorMessage(t.errorMessage))},error:t=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(t)}})}onStepClick(e,i){e.previouslySelectedIndex<e.selectedIndex&&(this.formGroup.valid||(this.cmsToastrService.typeErrorFormInvalid(),setTimeout(()=>{i.selectedIndex=e.previouslySelectedIndex},10)))}onActionBackToParent(){this.router.navigate(["/linkmanagement/billboard/"])}};Bn.\u0275fac=function(i){return new(i||Bn)(C(Ke),C(N),C(Hi),C(Zt),C(O),C(Fe),C(B),C(P))},Bn.\u0275cmp=R({type:Bn,selectors:[["app-linkmanagement-billboard-edit"]],viewQuery:function(i,t){if(i&1&&X(Id,5),i&2){let s;Y(s=Z())&&(t.formGroup=s.first)}},standalone:!1,features:[J],decls:83,vars:74,consts:[["vform","ngForm"],["stepper",""],["Title",""],["CurrentClickCount",""],["CurrentViewCount",""],["FromDate",""],["bgColor",""],["bgColorPicker",""],["LinkMainImageId",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"selectionChange"],["state","main",3,"label"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","fa fa-times  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],[4,"ngIf"],[3,"optionChange","optionSelectForce","optionPlaceholder"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["for","dataModel.currentClickCount",1,"color-highlight"],["matInput","","type","number","name","dataModel.currentClickCount","minlength","0","required","","id","dataModel.currentClickCount",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.currentViewCount",1,"color-highlight"],["matInput","","type","number","name","dataModel.currentViewCount","minlength","0","required","","id","dataModel.currentViewCount",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],["for","dataModel.fromDate",1,"color-highlight"],["matInput","","type","text","name","dataModel.bgColor","id","dataModel.fromDate",1,"form-control","validate-name",3,"ngModelChange","ngModel","matDatepicker"],["matSuffix","",3,"for"],["touchUi",""],["class","form-actions",4,"ngIf"],["state","seo",3,"label"],[3,"optionModelChange","optionSelectChecked","optionSelectDisChecked","optionModel"],["state","file",3,"label"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],["matStepperIcon","main"],["matStepperIcon","seo"],["matStepperIcon","file"],["matStepperIcon","loaction"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.bgColor",1,"color-highlight"],["matInput","","type","text","name","dataModel.bgColor","minlength","3","maxlength","100","required","","id","dataModel.bgColor",1,"form-control","validate-name",3,"ngModelChange","ngModel","ngxMatColorPicker","placeholder","disabled"],[3,"touchUi","color"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"],["type","button","matStepperNext","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue",3,"disabled"],["type","button","matStepperPrevious","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openDirectUploadView","openFilemanagerButtonLabelKey","selectFileType","openFilemanagerButtonView"]],template:function(i,t){if(i&1){let s=E();r(0,"div",9),h(1,"app-progress-spinner",10),r(2,"div",11)(3,"p",12),d(4),a(),r(5,"p"),d(6),g(7,"translate"),a(),r(8,"form",13,0),I("ngSubmit",function(){return u(s),f(t.onFormSubmit())}),r(10,"mat-vertical-stepper",14,1),I("selectionChange",function(m){u(s);let D=x(11);return f(t.onStepClick(m,D))}),r(12,"mat-step",15),g(13,"translate"),b(14,Ed,1,5,"app-cms-enum-record-status-selector",16),r(15,"div",17)(16,"label",18),d(17),a(),r(18,"input",19,2),y("ngModelChange",function(m){return u(s),w(t.dataModel.title,m)||(t.dataModel.title=m),f(m)}),a(),b(20,Td,1,0,"i",20)(21,wd,1,0,"i",21),r(22,"em"),d(23),a(),b(24,yd,5,4,"mat-error",22),a(),r(25,"app-linkmanagement-member-selector",23),g(26,"translate"),I("optionChange",function(m){return u(s),f(t.onActionSelectorSelectLinkManagementMemberId(m))}),a(),r(27,"app-linkmanagement-billboard-pattern-selector",23),g(28,"translate"),I("optionChange",function(m){return u(s),f(t.onActionSelectorSelectLinkBillboardPatternId(m))}),a(),b(29,kd,8,11,"div",24),r(30,"div",17)(31,"label",25),d(32),a(),r(33,"input",26,3),g(35,"translate"),y("ngModelChange",function(m){return u(s),w(t.dataModel.currentClickCount,m)||(t.dataModel.currentClickCount=m),f(m)}),a(),b(36,Ad,1,0,"i",20)(37,Ld,1,0,"i",21)(38,xd,5,3,"mat-error",22),a(),r(39,"div",17)(40,"label",27),d(41),a(),r(42,"input",28,4),g(44,"translate"),y("ngModelChange",function(m){return u(s),w(t.dataModel.currentViewCount,m)||(t.dataModel.currentViewCount=m),f(m)}),a(),b(45,Dd,1,0,"i",20)(46,Rd,1,0,"i",21)(47,Bd,5,3,"mat-error",22),a(),r(48,"div",29)(49,"label",30),d(50),a(),r(51,"input",31),y("ngModelChange",function(m){return u(s),w(t.dataModel.fromDate,m)||(t.dataModel.fromDate=m),f(m)}),a(),h(52,"mat-datepicker-toggle",32)(53,"mat-datepicker",33,5),a(),b(55,Pd,11,11,"div",34),a(),r(56,"mat-step",35),g(57,"translate"),r(58,"app-linkmanagement-category-treeselector",36),y("optionModelChange",function(m){return u(s),w(t.dataContentCategoryModel,m)||(t.dataContentCategoryModel=m),f(m)}),I("optionSelectChecked",function(m){return u(s),f(t.onActionCategorySelectChecked(m))})("optionSelectDisChecked",function(m){return u(s),f(t.onActionCategorySelectDisChecked(m))}),a(),h(59,"br"),b(60,Vd,14,14,"div",34),a(),r(61,"mat-step",37),g(62,"translate"),r(63,"p"),d(64),g(65,"translate"),a(),r(66,"div",38)(67,"a",39),g(68,"cmsthumbnail"),b(69,Od,2,4,"img",40),a()(),b(70,Nd,8,16,"div",24)(71,Fd,11,10,"div",34),a(),b(72,Gd,2,0,"ng-template",41)(73,Wd,2,0,"ng-template",42)(74,Hd,2,0,"ng-template",43)(75,qd,2,0,"ng-template",44),a(),h(76,"hr"),d(77),g(78,"translate"),h(79,"br"),r(80,"div")(81,"pre"),d(82),a()()()()()}if(i&2){let s=x(19),M=x(34),m=x(43),D=x(54);o(),c("optionsInfoAreaId",t.constructorInfoAreaId),o(3),S(" ",t.formInfo.formTitle," "),o(2),S(" ",_(7,52,"TITLE.Be_Careful_When_Entering_Information")," "),o(6),c("label",k(_(13,54,"TITLE.REQUIRED_INFORMATION"))),o(2),c("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),o(3),v(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),c("placeholder",k(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),T("ngModel",t.dataModel.title),o(2),c("ngIf",!s.value),o(),c("ngIf",s.value),o(2),S("",s.value.length," / 100"),o(),c("ngIf",s.errors==null?null:s.errors.required),o(),c("optionSelectForce",t.dataModel.linkManagementMemberId)("optionPlaceholder",_(26,56,"TITLE.User_Account")),o(2),c("optionSelectForce",t.dataModel.linkBillboardPatternId)("optionPlaceholder",_(28,58,"TITLE.Billboard_Pattern")),o(2),c("ngIf",t.fieldsInfo.bgColor==null?null:t.fieldsInfo.bgColor.accessWatchField),o(3),v(t.fieldsInfo.currentClickCount==null?null:t.fieldsInfo.currentClickCount.fieldTitle),o(),c("placeholder",k(_(35,60,"TITLE.Number_of_click_so_far"))),T("ngModel",t.dataModel.currentClickCount),o(3),c("ngIf",!M.value),o(),c("ngIf",M.value),o(),c("ngIf",M.errors==null?null:M.errors.required),o(3),v(t.fieldsInfo.currentViewCount==null?null:t.fieldsInfo.currentViewCount.fieldTitle),o(),c("placeholder",k(_(44,62,"TITLE.Number_of_views_so_far"))),T("ngModel",t.dataModel.currentViewCount),o(3),c("ngIf",!m.value),o(),c("ngIf",m.value),o(),c("ngIf",m.errors==null?null:m.errors.required),o(3),v(t.fieldsInfo.fromDate==null?null:t.fieldsInfo.fromDate.fieldTitle),o(),T("ngModel",t.dataModel.fromDate),c("matDatepicker",D),o(),c("for",D),o(3),c("ngIf",t.formInfo.formSubmitAllow),o(),c("label",k(_(57,64,"TITLE.TARGET_SELECTION"))),o(2),T("optionModel",t.dataContentCategoryModel),o(2),c("ngIf",t.formInfo.formSubmitAllow),o(),c("label",k(_(62,66,"TITLE.ATTACH_FILES"))),o(3),v(_(65,68,"TITLE.CONTENT_ATTACH_FILES")),o(3),c("href",k(_(68,70,t.dataModel.linkMainImageIdSrc)),K),o(2),c("ngIf",(t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0),o(),c("ngIf",t.fieldsInfo.linkMainImageId==null?null:t.fieldsInfo.linkMainImageId.accessWatchField),o(),c("ngIf",t.formInfo.formSubmitAllow),o(6),S(" ",_(78,72,"TITLE.HTML_CODE")," "),o(5),S("      ",t.dataModel.billboardScript)}},dependencies:[F,ve,U,Oe,z,Ce,Q,fe,ge,$,be,hi,Mi,Ci,Ie,Si,Le,G,ki,Ai,Li,xi,yi,we,q,Ri,uo,po,mo,Ye,ii,Kt,ti,V,_e],styles:["@media (max-width: 1399px){.wizard.wizard-4[_ngcontent-%COMP%]   .wizard-nav[_ngcontent-%COMP%]   .wizard-steps[_ngcontent-%COMP%]   .wizard-step[_ngcontent-%COMP%]{flex:0 0 calc(25% - .25rem)}}form[_ngcontent-%COMP%]{text-align:right}.wizard[_ngcontent-%COMP%]{margin-top:20%}.wrapper[_ngcontent-%COMP%]{display:flex;padding-top:15px}.lbl-status[_ngcontent-%COMP%]{width:100px;display:flex;align-items:flex-end;justify-content:center;margin-top:5px}.status-select[_ngcontent-%COMP%]{width:970px}textarea[_ngcontent-%COMP%]{resize:none}.calender-select[_ngcontent-%COMP%]{width:252px}.next-modal[_ngcontent-%COMP%]{width:100px;margin-right:15px}.pb-4[_ngcontent-%COMP%], .py-4[_ngcontent-%COMP%]{padding-bottom:7px!important;padding-top:7px!important}tag-input[_ngcontent-%COMP%]{width:1000px}#map[_ngcontent-%COMP%]{width:100%;height:600px}.lbl-content[_ngcontent-%COMP%]{width:100px;display:flex;align-items:flex-end;justify-content:center;margin-top:25px}"]});var xo=Bn;var jd=["vform"];function Ud(n,l){if(n&1){let e=E();A(0),r(1,"div",7)(2,"label",8),d(3),a(),r(4,"input",9,0),y("ngModelChange",function(t){u(e);let s=p();return w(s.dataModelResultContent.item.title,t)||(s.dataModelResultContent.item.title=t),f(t)}),a()(),L()}if(n&2){let e=p();o(3),v(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),o(),c("placeholder",k(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle)),T("ngModel",e.dataModelResultContent.item.title)}}function zd(n,l){if(n&1){let e=E();r(0,"div",10)(1,"button",11),I("click",function(){u(e);let t=p();return f(t.onFormDelete())}),h(2,"i",12),d(3),g(4,"translate"),a(),r(5,"button",13),I("click",function(){u(e);let t=p();return f(t.onFormCancel())}),h(6,"i",14),d(7),g(8,"translate"),a()()}if(n&2){let e=p();o(),c("disabled",!e.formInfo.buttonSubmittedEnabled),o(2),S(" ",_(4,3,"ACTION.DELETE")," "),o(4),S(" ",_(8,5,"ACTION.CANCEL")," ")}}var Pn=class Pn{constructor(l,e,i,t,s,M,m){this.data=l;this.dialogRef=e;this.publicHelper=i;this.linkManagementBillboardService=t;this.cdr=s;this.translate=M;this.cmsToastrService=m;this.requestId=0;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.dataModelResultContent=new W;this.formInfo=new ee;this.publicHelper.processService.cdr=this.cdr,l&&(this.requestId=+l.id||0)}ngOnInit(){if(this.requestId<=0){this.cmsToastrService.typeErrorDeleteRowIsNull(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOne()}DataGetOne(){if(this.requestId===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.translate.get("TITLE.Loading_Information").subscribe(e=>{this.formInfo.formAlert=e});let l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(l,e,this.constructorInfoAreaId)}),this.linkManagementBillboardService.setAccessLoad(),this.linkManagementBillboardService.setAccessDataType(Ee.Editor),this.linkManagementBillboardService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModelResultContent=e,e.isSuccess?this.formInfo.formAlert="":(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError=e.errorMessage,this.formInfo.formErrorStatus=!0,this.cmsToastrService.typeErrorGetOne()),this.publicHelper.processService.processStop(l)},error:e=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formErrorStatus=!0,this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(l,!1)}})}onFormDelete(){if(this.requestId===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.formInfo.formSubmitAllow=!1,this.formInfo.buttonSubmittedEnabled=!1;let l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(l,e,this.constructorInfoAreaId)}),this.linkManagementBillboardService.ServiceDelete(this.requestId).subscribe({next:e=>{this.formInfo.formSubmitAllow=!e.isSuccess,e.isSuccess?(this.translate.get("MESSAGE.Deletion_Was_Successful").subscribe(i=>{this.formInfo.formAlert=i}),this.cmsToastrService.typeSuccessRemove(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError=e.errorMessage,this.cmsToastrService.typeErrorRemove()),this.formInfo.buttonSubmittedEnabled=!0,this.publicHelper.processService.processStop(l)},error:e=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(e),this.formInfo.buttonSubmittedEnabled=!0,this.publicHelper.processService.processStop(l)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Pn.\u0275fac=function(e){return new(e||Pn)(C(ae),C(re),C(N),C(Zt),C(B),C(P),C(O))},Pn.\u0275cmp=R({type:Pn,selectors:[["app-linkmanagement-billboard-delete"]],viewQuery:function(e,i){if(e&1&&X(jd,5),e&2){let t;Y(t=Z())&&(i.formGroup=t.first)}},standalone:!1,decls:12,vars:10,consts:[["Writer",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[4,"ngIf"],["class","form-actions",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModelResultContent.item.title",1,"color-highlight"],["matInput","","name","dataModelResultContent.item.title","type","text","required","","id","dataModelResultContent.item.title","readonly","",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click","disabled"],[1,"fa","fa-check-square-o"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,i){e&1&&(r(0,"div",1),h(1,"app-progress-spinner",2),r(2,"div",3)(3,"p",4),d(4),g(5,"translate"),a(),r(6,"p"),d(7),g(8,"translate"),a(),d(9),b(10,Ud,6,4,"ng-container",5)(11,zd,9,7,"div",6),a()()),e&2&&(o(),c("optionsInfoAreaId",i.constructorInfoAreaId),o(3),S(" ",_(5,6,"TITLE.EDIT_USER_ACCOUNT")," "),o(3),S(" ",_(8,8,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),S(" ",i.formInfo.formTitle," "),o(),c("ngIf",i.dataModelResultContent==null?null:i.dataModelResultContent.item),o(),c("ngIf",i.formInfo.formSubmitAllow))},dependencies:[F,U,z,Q,$,G,q,V],encapsulation:2});var Do=Pn;var Qd=["vform"];function Kd(n,l){if(n&1){let e=E();r(0,"app-cms-enum-record-status-selector",21),y("modelChange",function(t){u(e);let s=p();return w(s.dataModel.recordStatus,t)||(s.dataModel.recordStatus=t),f(t)}),a()}if(n&2){let e=p();T("model",e.dataModel.recordStatus),c("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Jd(n,l){n&1&&h(0,"i",22)}function Xd(n,l){n&1&&h(0,"i",23)}function Yd(n,l){if(n&1&&(r(0,"mat-error"),d(1),r(2,"strong"),d(3),g(4,"translate"),a()()),n&2){let e=p();o(),S(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," is "),o(2),v(_(4,2,"MESSAGE.required"))}}function Zd(n,l){if(n&1&&(r(0,"mat-error"),d(1),r(2,"strong"),d(3),g(4,"translate"),a()()),n&2){let e=p(2);o(),S(" ",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle," is "),o(2),v(_(4,2,"MESSAGE.required"))}}function $d(n,l){if(n&1){let e=E();r(0,"div",10)(1,"label",24),d(2),a(),r(3,"textarea",25,2),y("ngModelChange",function(t){u(e);let s=p();return w(s.dataModel.description,t)||(s.dataModel.description=t),f(t)}),d(5,"             "),a(),r(6,"em"),d(7),a(),b(8,Zd,5,4,"mat-error",15),a()}if(n&2){let e=x(4),i=p();o(2),v(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle),o(),c("placeholder",k(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle)),T("ngModel",i.dataModel.description),o(4),S("",e.value.length," / 500"),o(),c("ngIf",e.errors==null?null:e.errors.required)}}function em(n,l){if(n&1&&(h(0,"img",26),g(1,"cmsthumbnail")),n&2){let e=p();c("src",k(_(1,2,e.dataModel.linkMainImageIdSrc)),K)}}function tm(n,l){if(n&1){let e=E();r(0,"div",10)(1,"label",27),I("click",function(){u(e);let t=p();return f(t.fileManagerOpenForm=!0)}),d(2),g(3,"translate"),a(),r(4,"input",28,3),g(6,"translate"),y("ngModelChange",function(t){u(e);let s=p();return w(s.dataModel.linkMainImageId,t)||(s.dataModel.linkMainImageId=t),f(t)}),I("click",function(){u(e);let t=p();return f(t.fileManagerOpenForm=!0)}),a(),r(7,"cms-file-manager",29),I("itemSelected",function(t){u(e);let s=p();return f(s.onActionFileSelected(t))}),y("openFormChange",function(t){u(e);let s=p();return w(s.fileManagerOpenForm,t)||(s.fileManagerOpenForm=t),f(t)}),a()()}if(n&2){let e=p();o(2),v(_(3,12,"TITLE.Icon_File")),o(2),c("placeholder",k(_(6,14,"TITLE.Original_File_ID"))),T("ngModel",e.dataModel.linkMainImageId),o(3),c("language",e.appLanguage)("isPopup",!0)("openDirectUploadView",!0),T("openForm",e.fileManagerOpenForm),c("tree",e.fileManagerTree)("openFilemanagerButtonLabelKey","select")("selectFileType",e.selectFileTypeMainImage)("openFilemanagerButtonView",!1)}}function im(n,l){if(n&1){let e=E();r(0,"div",30)(1,"button",31),I("click",function(){u(e);let t=p();return f(t.onFormCancel())}),h(2,"i",32),d(3),g(4,"translate"),a(),r(5,"button",33),h(6,"i",34),d(7),g(8,"translate"),a()()}if(n&2){p();let e=x(9);o(3),S(" ",_(4,3,"ACTION.CANCEL")," "),o(2),c("disabled",!e.form.valid),o(2),S(" ",_(8,5,"ACTION.SAVE")," ")}}var Vn=class Vn extends Et{constructor(e,i,t,s,M,m,D,H){super(s,new Pt,m,H);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.categoryService=s;this.cmsToastrService=M;this.publicHelper=m;this.cdr=D;this.translate=H;this.requestParentId=0;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new W;this.dataModel=new Pt;this.formInfo=new ee;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,e&&(this.requestParentId=+e.parentId||0),this.requestParentId>0&&(this.dataModel.linkParentId=this.requestParentId),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}onActionFileSelected(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}ngOnInit(){this.translate.get("TITLE.Register_New_Categories").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess()}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.categoryService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.formAlert=t}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Vn.\u0275fac=function(i){return new(i||Vn)(C(ae),C(re),C(te),C(at),C(O),C(N),C(B),C(P))},Vn.\u0275cmp=R({type:Vn,selectors:[["app-linkmanagement-category-add"]],viewQuery:function(i,t){if(i&1&&X(Qd,5),i&2){let s;Y(s=Z())&&(t.formGroup=s.first)}},standalone:!1,features:[J],decls:28,vars:22,consts:[["vform","ngForm"],["Title",""],["Description",""],["LinkMainImageId",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","fa fa-times  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],[4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openDirectUploadView","openForm","tree","openFilemanagerButtonLabelKey","selectFileType","openFilemanagerButtonView"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=E();r(0,"div",4),h(1,"app-progress-spinner",5),r(2,"div",6)(3,"p",7),d(4),a(),r(5,"p"),d(6),g(7,"translate"),a(),r(8,"form",8,0),I("ngSubmit",function(){return u(s),f(t.onFormSubmit())}),b(10,Kd,1,5,"app-cms-enum-record-status-selector",9),r(11,"div",10)(12,"label",11),d(13),a(),r(14,"input",12,1),y("ngModelChange",function(m){return u(s),w(t.dataModel.title,m)||(t.dataModel.title=m),f(m)}),a(),b(16,Jd,1,0,"i",13)(17,Xd,1,0,"i",14),r(18,"em"),d(19),a(),b(20,Yd,5,4,"mat-error",15),a(),b(21,$d,9,6,"div",16),r(22,"div",17)(23,"a",18),g(24,"cmsthumbnail"),b(25,em,2,4,"img",19),a()(),b(26,tm,8,16,"div",16)(27,im,9,7,"div",20),a()()()}if(i&2){let s=x(15);o(),c("optionsInfoAreaId",t.constructorInfoAreaId),o(3),S(" ",t.formInfo.formTitle," "),o(2),S(" ",_(7,18,"TITLE.Be_Careful_When_Entering_Information")," "),o(4),c("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),o(3),v(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),c("placeholder",k(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),T("ngModel",t.dataModel.title),o(2),c("ngIf",!s.value),o(),c("ngIf",s.value),o(2),S("",s.value.length," / 100"),o(),c("ngIf",s.errors==null?null:s.errors.required),o(),c("ngIf",t.fieldsInfo.description==null?null:t.fieldsInfo.description.accessWatchField),o(2),c("href",k(_(24,20,t.dataModel.linkMainImageIdSrc)),K),o(2),c("ngIf",(t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0),o(),c("ngIf",t.fieldsInfo.linkMainImageId==null?null:t.fieldsInfo.linkMainImageId.accessWatchField),o(),c("ngIf",t.formInfo.formSubmitAllow)}},dependencies:[F,ve,U,z,Ce,Q,fe,ge,$,be,Ie,G,we,q,Ye,V,_e],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});var Ro=Vn;var nm=["*"];function om(n,l){if(n&1&&(r(0,"label",13),d(1),a()),n&2){let e=p();c("for",Ot("app-cms-site-selector-",e.id)),o(),v(e.optionLabel)}}function rm(n,l){if(n&1&&(h(0,"img",14),g(1,"cmsthumbnail")),n&2){let e=p();c("src",k(_(1,2,e.dataModelSelect==null?null:e.dataModelSelect.linkMainImageIdSrc)),K)}}function am(n,l){if(n&1&&(h(0,"img",14),g(1,"cmsthumbnail")),n&2){let e=p().$implicit;c("src",k(_(1,2,e.linkMainImageIdSrc)),K)}}function lm(n,l){if(n&1&&(r(0,"mat-option",15),b(1,am,2,4,"img",5),r(2,"span"),d(3),a()()),n&2){let e=l.$implicit,i=p();c("value",e)("disabled",i.optionDisabled),o(),c("ngIf",e.linkMainImageIdSrc),o(2),v(i.displayOption(e))}}function sm(n,l){n&1&&h(0,"i",16)}function cm(n,l){n&1&&h(0,"i",17)}function dm(n,l){if(n&1){let e=E();r(0,"i",18),I("click",function(){u(e);let t=p();return f(t.onActionSelectClear())}),a()}}function mm(n,l){n&1&&(r(0,"em"),d(1),g(2,"translate"),a()),n&2&&(o(),S("(",_(2,1,"TITLE.Necessary"),")"))}var Oi=class Oi{constructor(l,e,i,t,s,M){this.coreEnumService=l;this.cmsToastrService=e;this.cdr=i;this.publicHelper=t;this.translate=s;this.categoryService=M;this.id=++Oi.nextId;this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new W;this.dataModelSelect=new Pt;this.formControl=new gi;this.optionPlaceholder="";this.optionSelectFirstItem=!1;this.optionDisabled=!1;this.optionRequired=!1;this.optionLabel="";this.optionChange=new Qe;this.optionReload=()=>this.onActionButtonReload();this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(l){this.onActionSelectForce(l)}ngOnInit(){this.loadOptions(),(!this.optionLabel||this.optionLabel.length==0&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder)}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(mi(""),ci(1500),di(),pi(l=>typeof l=="string"||typeof l=="number"?this.DataGetAll(l||""):[]))}displayFn(l){return l?l.title:void 0}displayOption(l){return l?l.title:void 0}DataGetAll(l){return Ae(this,null,function*(){let e=new Te;e.rowPerPage=20,e.accessLoad=!0;let i=new oe;i.propertyName="Title",i.value=l,i.searchType=jt.Contains,i.clauseType=ot.Or,e.filters.push(i),l&&typeof+l=="number"&&+l>0&&(i=new oe,i.propertyName="Id",i.value=l,i.searchType=jt.Equal,i.clauseType=ot.Or,e.filters.push(i));let t=this.constructor.name+"main";return this.translate.get("MESSAGE.Receiving_information").subscribe(s=>{this.publicHelper.processService.processStart(t,s,this.constructorInfoAreaId)}),yield li(this.categoryService.ServiceGetAll(e)).then(s=>(this.dataModelResult=s,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||this.dataModelSelect.id<=0)&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0])},1e3),this.onActionSelect(this.dataModelResult.listItems[0])),this.publicHelper.processService.processStop(t),s.listItems))})}onActionSelect(l){this.dataModelSelect=l,this.optionChange.emit(this.dataModelSelect)}onActionSelectClear(){this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null)}push(l){return this.filteredOptions.pipe(si(e=>(e.find(i=>i.id===l.id)||e.push(l),e)))}onActionSelectForce(l){if(typeof l=="number"&&l>0){if(this.dataModelSelect&&this.dataModelSelect.id===l)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(e=>e.id===l)){let e=this.dataModelResult.listItems.find(i=>i.id===l);this.dataModelSelect=e,this.formControl.setValue(e);return}this.categoryService.ServiceGetOneById(l).subscribe({next:e=>{e.isSuccess?(this.filteredOptions=this.push(e.item),this.dataModelSelect=e.item,this.formControl.setValue(e.item),this.optionChange.emit(e.item)):this.cmsToastrService.typeErrorMessage(e.errorMessage)}});return}if(typeof l==typeof Pt){this.filteredOptions=this.push(l),this.dataModelSelect=l,this.formControl.setValue(l);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new Pt,this.loadOptions()}};Oi.nextId=0,Oi.\u0275fac=function(e){return new(e||Oi)(C(te),C(O),C(B),C(N),C(P),C(at))},Oi.\u0275cmp=R({type:Oi,selectors:[["app-linkmanagement-category-selector"]],inputs:{optionPlaceholder:"optionPlaceholder",optionSelectFirstItem:"optionSelectFirstItem",optionDisabled:"optionDisabled",optionRequired:"optionRequired",optionLabel:"optionLabel",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange"},standalone:!1,ngContentSelectors:nm,decls:16,vars:19,consts:[["matauto","matAutocomplete"],[1,"input-style","has-borders","has-icon","input-style-always-active","validate-field","mb-4","loader-container"],[3,"optionsInfoAreaId"],["class","color-highlight",3,"for",4,"ngIf"],["matPrefix",""],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","25","width","25",3,"src",4,"ngIf"],["type","text","aria-label","Assignee","matInput","",3,"placeholder","formControl","matAutocomplete","required","id"],[3,"optionSelected","displayWith"],[3,"value","disabled",4,"ngFor","ngForOf"],["class","fa fa-info  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],["class","fa fa-times  action color-red-dark",3,"click",4,"ngIf"],[4,"ngIf"],[1,"color-highlight",3,"for"],["aria-hidden","","height","25","width","25",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"value","disabled"],[1,"fa","fa-info","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"fa","fa-times","action","color-red-dark",3,"click"]],template:function(e,i){if(e&1){let t=E();ui(),r(0,"div",1),h(1,"app-progress-spinner",2),b(2,om,2,3,"label",3),r(3,"span",4),b(4,rm,2,4,"img",5),d(5," \xA0"),a(),h(6,"input",6),r(7,"mat-autocomplete",7,0),I("optionSelected",function(M){return u(t),f(i.onActionSelect(M.option.value))}),b(9,lm,4,4,"mat-option",8),g(10,"async"),a(),b(11,sm,1,0,"i",9)(12,cm,1,0,"i",10)(13,dm,1,0,"i",11)(14,mm,3,3,"em",12),fi(15),a()}if(e&2){let t=x(8);o(),c("optionsInfoAreaId",i.constructorInfoAreaId),o(),c("ngIf",(i.optionLabel==null?null:i.optionLabel.length)>0),o(2),c("ngIf",i.dataModelSelect&&(i.dataModelSelect==null?null:i.dataModelSelect.linkMainImageIdSrc)),o(2),c("placeholder",k(i.optionPlaceholder))("id",Ot("app-cms-site-selector-",i.id))("formControl",i.formControl)("matAutocomplete",t)("required",i.optionRequired),it("disabled",i.optionDisabled?!0:null),o(),c("displayWith",i.displayFn),o(2),c("ngForOf",_(10,17,i.filteredOptions)),o(2),c("ngIf",!i.formControl.valid),o(),c("ngIf",i.optionRequired&&i.formControl.valid),o(),c("ngIf",(i.dataModelSelect==null?null:i.dataModelSelect.id)>0),o(),c("ngIf",i.optionRequired&&(!i.dataModelSelect||!i.dataModelSelect.id||i.dataModelSelect.id<=0))}},dependencies:[He,F,U,z,Q,_i,Ti,Ei,wi,co,G,q,Ne,V,_e],encapsulation:2});var Bo=Oi;var um=["vform"];function fm(n,l){if(n&1){let e=E();A(0),r(1,"div",8)(2,"label",9),d(3),a(),r(4,"input",10,0),y("ngModelChange",function(t){u(e);let s=p();return w(s.dataModelResultCategory.item.title,t)||(s.dataModelResultCategory.item.title=t),f(t)}),a()(),r(6,"div",8)(7,"label",11),d(8),a(),r(9,"textarea",12,1),y("ngModelChange",function(t){u(e);let s=p();return w(s.dataModelResultCategory.item.description,t)||(s.dataModelResultCategory.item.description=t),f(t)}),a()(),h(11,"app-linkmanagement-category-selector",13),g(12,"translate"),L()}if(n&2){let e=p();o(3),v(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),o(),c("placeholder",k(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle)),T("ngModel",e.dataModelResultCategory.item.title),o(4),v(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),o(),c("placeholder",k(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle)),T("ngModel",e.dataModelResultCategory.item.description),o(2),c("optionPlaceholder",_(12,9,"TITLE.Alternative_classification_to_move_information_to_this_branch"))}}function gm(n,l){if(n&1){let e=E();r(0,"div",14)(1,"button",15),I("click",function(){u(e);let t=p();return f(t.onFormCancel())}),h(2,"i",16),d(3),g(4,"translate"),a(),r(5,"button",17),I("click",function(){u(e);let t=p();return f(t.onFormDelete())}),h(6,"i",18),d(7),g(8,"translate"),a(),r(9,"button",19),I("click",function(){u(e);let t=p();return f(t.onFormMove())}),h(10,"i",16),d(11),g(12,"translate"),a()()}if(n&2){let e=p();o(3),S(" ",_(4,5,"ACTION.CANCEL")," "),o(2),c("disabled",!e.formInfo.buttonSubmittedEnabled),o(2),S(" ",_(8,7,"ACTION.DELETE")," "),o(2),c("disabled",!e.formInfo.buttonSubmittedEnabled),o(2),S(" ",_(12,9,"TITLE.MOVE_DATA")," ")}}var On=class On{constructor(l,e,i,t,s,M,m){this.data=l;this.dialogRef=e;this.publicHelper=i;this.categoryService=t;this.cdr=s;this.translate=M;this.cmsToastrService=m;this.requestId=0;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.dataModelResultCategory=new W;this.dataModelResultCategoryAllData=new W;this.dataModel={};this.formInfo=new ee;this.publicHelper.processService.cdr=this.cdr,l&&(this.requestId=+l.id||0)}ngOnInit(){if(this.requestId<=0){this.cmsToastrService.typeErrorDeleteRowIsNull(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOne(),this.DataGetAll()}DataGetOne(){if(this.requestId===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.translate.get("TITLE.Loading_Information").subscribe(e=>{this.formInfo.formAlert=e});let l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(l,e,this.constructorInfoAreaId)}),this.categoryService.setAccessLoad(),this.categoryService.setAccessDataType(Ee.Editor),this.categoryService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModelResultCategory=e,e.isSuccess?this.formInfo.formAlert="":(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError=e.errorMessage,this.formInfo.formErrorStatus=!0,this.cmsToastrService.typeErrorGetOne()),this.publicHelper.processService.processStop(l)},error:e=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formErrorStatus=!0,this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(l,!1)}})}DataGetAll(){this.translate.get("TITLE.Loading_Information").subscribe(i=>{this.formInfo.formAlert=i});let l=new Te;l.rowPerPage=100;let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.categoryService.ServiceGetAll(l).subscribe({next:i=>{this.dataModelResultCategoryAllData=i,i.isSuccess?this.formInfo.formAlert="":(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.formInfo.formErrorStatus=!0,this.cmsToastrService.typeErrorGetAll()),this.publicHelper.processService.processStop(e)},error:i=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formErrorStatus=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormMove(){if(this.requestId===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}if(!this.formGroup.valid)return;this.formInfo.formSubmitAllow=!0,this.dataModel.newCatId===this.requestId&&(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.translate.get("ERRORMESSAGE.MESSAGE.The_delete_category_ID_is_the_same_as_the_alternate_category").subscribe(e=>{this.formInfo.formError=e,this.formInfo.buttonSubmittedEnabled=!0})),this.formInfo.buttonSubmittedEnabled=!1;let l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(l,e,this.constructorInfoAreaId)})}onFormDelete(){if(this.requestId===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.formInfo.formSubmitAllow=!1,this.formInfo.buttonSubmittedEnabled=!1;let l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(l,e,this.constructorInfoAreaId)}),this.categoryService.ServiceDelete(this.requestId).subscribe({next:e=>{this.formInfo.formSubmitAllow=!e.isSuccess,e.isSuccess?(this.translate.get("MESSAGE.Deletion_Was_Successful").subscribe(i=>{this.formInfo.formAlert=i}),this.cmsToastrService.typeSuccessRemove(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError=e.errorMessage,this.cmsToastrService.typeErrorRemove()),this.formInfo.buttonSubmittedEnabled=!0,this.publicHelper.processService.processStop(l)},error:e=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(e),this.formInfo.buttonSubmittedEnabled=!0,this.publicHelper.processService.processStop(l)}})}onFormChangeNewCatId(l){if(this.formInfo.formAlert="",this.requestId===0||!l||l.id<=0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.dataModel.newCatId=l.id,this.dataModel.newCatId===this.requestId?(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.translate.get("ERRORMESSAGE.MESSAGE.The_delete_category_ID_is_the_same_as_the_alternate_category").subscribe(e=>{this.formInfo.formError=e,this.formInfo.buttonSubmittedEnabled=!1})):(this.formInfo.buttonSubmittedEnabled=!0,this.formInfo.formError="")}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};On.\u0275fac=function(e){return new(e||On)(C(ae),C(re),C(N),C(at),C(B),C(P),C(O))},On.\u0275cmp=R({type:On,selectors:[["app-linkmanagement-category-delete"]],viewQuery:function(e,i){if(e&1&&X(um,5),e&2){let t;Y(t=Z())&&(i.formGroup=t.first)}},standalone:!1,decls:10,vars:7,consts:[["Title",""],["Description",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[4,"ngIf"],["class","form-actions",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModelResultCategory.item.title",1,"color-highlight"],["matInput","","name","dataModelResultCategory.item.title","type","text","minlength","3","maxlength","50","required","","readonly","","id","dataModelResultCategory.item.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModelResultCategory.item.description",1,"color-highlight"],["matInput","","name","dataModelResultCategory.item.description","type","text","minlength","1","maxlength","100","readonly","","required","","rows","5","id","dataModelResultCategory.item.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[3,"optionPlaceholder"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click","disabled"],[1,"fa","fa-check-square-o"],["type","button","c","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click","disabled"]],template:function(e,i){e&1&&(r(0,"div",2),h(1,"app-progress-spinner",3),r(2,"div",4)(3,"p",5),d(4),a(),r(5,"p"),d(6),g(7,"translate"),a(),b(8,fm,13,11,"ng-container",6)(9,gm,13,11,"div",7),a()()),e&2&&(o(),c("optionsInfoAreaId",i.constructorInfoAreaId),o(3),S(" ",i.formInfo.formTitle," "),o(2),S(" ",_(7,5,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),c("ngIf",i.dataModelResultCategory==null?null:i.dataModelResultCategory.item),o(),c("ngIf",i.formInfo.formSubmitAllow))},dependencies:[F,U,z,Q,fe,ge,$,G,q,Bo,V],encapsulation:2});var Po=On;var _m=["vform"];function Sm(n,l){if(n&1){let e=E();r(0,"app-cms-enum-record-status-selector",21),y("modelChange",function(t){u(e);let s=p();return w(s.dataModel.recordStatus,t)||(s.dataModel.recordStatus=t),f(t)}),a()}if(n&2){let e=p();T("model",e.dataModel.recordStatus),c("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function hm(n,l){n&1&&h(0,"i",22)}function Mm(n,l){n&1&&h(0,"i",23)}function Cm(n,l){if(n&1&&(r(0,"mat-error"),d(1),r(2,"strong"),d(3),g(4,"translate"),a()()),n&2){let e=p();o(),S(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," is "),o(2),v(_(4,2,"MESSAGE.required"))}}function bm(n,l){if(n&1&&(r(0,"mat-error"),d(1),r(2,"strong"),d(3),g(4,"translate"),a()()),n&2){let e=p(2);o(),S(" ",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle," is "),o(2),v(_(4,2,"MESSAGE.required"))}}function vm(n,l){if(n&1){let e=E();r(0,"div",10)(1,"label",24),d(2),a(),r(3,"textarea",25,2),y("ngModelChange",function(t){u(e);let s=p();return w(s.dataModel.description,t)||(s.dataModel.description=t),f(t)}),d(5,"             "),a(),r(6,"em"),d(7),a(),b(8,bm,5,4,"mat-error",15),a()}if(n&2){let e=x(4),i=p();o(2),v(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle),o(),c("placeholder",k(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle)),T("ngModel",i.dataModel.description),o(4),S("",e.value.length," / 500"),o(),c("ngIf",e.errors==null?null:e.errors.required)}}function Im(n,l){if(n&1&&(h(0,"img",26),g(1,"cmsthumbnail")),n&2){let e=p();c("src",k(_(1,2,e.dataModel.linkMainImageIdSrc)),K)}}function Em(n,l){if(n&1){let e=E();r(0,"div",10)(1,"label",27),I("click",function(){u(e);let t=p();return f(t.fileManagerOpenForm=!0)}),d(2),g(3,"translate"),a(),r(4,"input",28,3),g(6,"translate"),y("ngModelChange",function(t){u(e);let s=p();return w(s.dataModel.linkMainImageId,t)||(s.dataModel.linkMainImageId=t),f(t)}),I("click",function(){u(e);let t=p();return f(t.fileManagerOpenForm=!0)}),a(),r(7,"cms-file-manager",29),I("itemSelected",function(t){u(e);let s=p();return f(s.onActionFileSelected(t))}),y("openFormChange",function(t){u(e);let s=p();return w(s.fileManagerOpenForm,t)||(s.fileManagerOpenForm=t),f(t)}),a()()}if(n&2){let e=p();o(2),v(_(3,12,"TITLE.Icon_File")),o(2),c("placeholder",k(_(6,14,"TITLE.Original_File_ID"))),T("ngModel",e.dataModel.linkMainImageId),o(3),c("language",e.appLanguage)("isPopup",!0)("openDirectUploadView",!0),T("openForm",e.fileManagerOpenForm),c("tree",e.fileManagerTree)("openFilemanagerButtonLabelKey","select")("selectFileType",e.selectFileTypeMainImage)("openFilemanagerButtonView",!1)}}function Tm(n,l){if(n&1){let e=E();r(0,"div",30)(1,"button",31),I("click",function(){u(e);let t=p();return f(t.onFormCancel())}),h(2,"i",32),d(3),g(4,"translate"),a(),r(5,"button",33),h(6,"i",34),d(7),g(8,"translate"),a()()}if(n&2){p();let e=x(9);o(3),S(" ",_(4,3,"ACTION.CANCEL")," "),o(2),c("disabled",!e.form.valid),o(2),S(" ",_(8,5,"ACTION.SAVE")," ")}}var Nn=class Nn extends Ze{constructor(e,i,t,s,M,m,D,H){super(s,new Pt,m,H);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.categoryService=s;this.cmsToastrService=M;this.publicHelper=m;this.cdr=D;this.translate=H;this.requestId=0;this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new Je;this.dataModel=new Pt;this.formInfo=new ee;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=+e.id||0),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}onActionFileSelected(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}ngOnInit(){if(this.requestId>0)this.translate.get("TITLE.Edit_Categories").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}}DataGetOneContent(){if(this.requestId<=0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.categoryService.setAccessLoad(),this.categoryService.setAccessDataType(Ee.Editor),this.categoryService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.categoryService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.formAlert=t}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Nn.\u0275fac=function(i){return new(i||Nn)(C(ae),C(re),C(te),C(at),C(O),C(N),C(B),C(P))},Nn.\u0275cmp=R({type:Nn,selectors:[["app-linkmanagement-category-edit"]],viewQuery:function(i,t){if(i&1&&X(_m,5),i&2){let s;Y(s=Z())&&(t.formGroup=s.first)}},standalone:!1,features:[J],decls:28,vars:22,consts:[["vform","ngForm"],["Title",""],["Description",""],["LinkMainImageId",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","fa fa-times  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],[4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openDirectUploadView","openForm","tree","openFilemanagerButtonLabelKey","selectFileType","openFilemanagerButtonView"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=E();r(0,"div",4),h(1,"app-progress-spinner",5),r(2,"div",6)(3,"p",7),d(4),a(),r(5,"p"),d(6),g(7,"translate"),a(),r(8,"form",8,0),I("ngSubmit",function(){return u(s),f(t.onFormSubmit())}),b(10,Sm,1,5,"app-cms-enum-record-status-selector",9),r(11,"div",10)(12,"label",11),d(13),a(),r(14,"input",12,1),y("ngModelChange",function(m){return u(s),w(t.dataModel.title,m)||(t.dataModel.title=m),f(m)}),a(),b(16,hm,1,0,"i",13)(17,Mm,1,0,"i",14),r(18,"em"),d(19),a(),b(20,Cm,5,4,"mat-error",15),a(),b(21,vm,9,6,"div",16),r(22,"div",17)(23,"a",18),g(24,"cmsthumbnail"),b(25,Im,2,4,"img",19),a()(),b(26,Em,8,16,"div",16)(27,Tm,9,7,"div",20),a()()()}if(i&2){let s=x(15);o(),c("optionsInfoAreaId",t.constructorInfoAreaId),o(3),S(" ",t.formInfo.formTitle," "),o(2),S(" ",_(7,18,"TITLE.Be_Careful_When_Entering_Information")," "),o(4),c("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),o(3),v(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),c("placeholder",k(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),T("ngModel",t.dataModel.title),o(2),c("ngIf",!s.value),o(),c("ngIf",s.value),o(2),S("",s.value.length," / 100"),o(),c("ngIf",s.errors==null?null:s.errors.required),o(),c("ngIf",t.fieldsInfo.description==null?null:t.fieldsInfo.description.accessWatchField),o(2),c("href",k(_(24,20,t.dataModel.linkMainImageIdSrc)),K),o(2),c("ngIf",(t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0),o(),c("ngIf",t.fieldsInfo.linkMainImageId==null?null:t.fieldsInfo.linkMainImageId.accessWatchField),o(),c("ngIf",t.formInfo.formSubmitAllow)}},dependencies:[F,ve,U,z,Ce,Q,fe,ge,$,be,Ie,G,we,q,Ye,V,_e],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});var Vo=Nn;function wm(n,l){if(n&1){let e=E();r(0,"button",13),I("click",function(){u(e);let t=p();return f(t.onActionAdd())}),d(1),g(2,"translate"),a()}n&2&&(o(),v(_(2,1,"ACTION.ADD")))}function ym(n,l){if(n&1){let e=E();r(0,"button",14),I("click",function(){u(e);let t=p();return f(t.onActionEdit())}),d(1),g(2,"translate"),a()}n&2&&(o(),v(_(2,1,"ACTION.EDIT")))}function km(n,l){if(n&1){let e=E();r(0,"button",15),I("click",function(){u(e);let t=p();return f(t.onActionDelete())}),d(1),g(2,"translate"),a()}n&2&&(o(),v(_(2,1,"ACTION.DELETE")))}function Am(n,l){if(n&1){let e=E();r(0,"button",16),I("click",function(){u(e);let t=p();return f(t.onActionButtonReload())}),r(1,"mat-icon",17),g(2,"translate"),d(3,"refresh"),a()()}n&2&&(o(),c("title",k(_(2,2,"ACTION.RELOAD"))))}function Lm(n,l){if(n&1){let e=E();r(0,"mat-tree-node",18),I("click",function(){let t=u(e).$implicit,s=p();return f(s.onActionSelect(t))}),h(1,"button",19),d(2),a()}if(n&2){let e=l.$implicit,i=l.dataIndex,t=p();se("ntk-tree-odd",i%2)("ntk-tree-even",!(i%2))("ntk-tree-selected",t.dataModelSelect.id>0&&t.dataModelSelect.id===e.id),o(2),S(" ",e.title," ")}}function xm(n,l){if(n&1){let e=E();r(0,"mat-nested-tree-node")(1,"li")(2,"div",20),I("click",function(){let t=u(e).$implicit,s=p();return f(s.onActionSelect(t))}),r(3,"button",21),I("click",function(){let t=u(e).$implicit,s=p();return f(s.onActionSelect(t))}),r(4,"mat-icon",22),d(5),a()(),d(6),a(),r(7,"ul"),Re(8,23),a()()()}if(n&2){let e=l.$implicit,i=p();o(2),se("ntk-tree-selected",i.dataModelSelect.id>0&&i.dataModelSelect.id===e.id),o(),it("aria-label","Toggle "+e.title),o(2),S(" ",i.treeControl.isExpanded(e)?"expand_more":"chevron_right"," "),o(),S(" ",e.title," "),o(),se("category-tree-invisible",!i.treeControl.isExpanded(e))}}var Fn=class Fn{constructor(l,e,i,t,s,M,m,D,H){this.cmsToastrService=l;this.coreEnumService=e;this.categoryService=i;this.dialog=t;this.tokenHelper=s;this.cmsStoreService=M;this.translate=m;this.cdr=D;this.publicHelper=H;this.constructorInfoAreaId=this.constructor.name;this.dataModelSelect=new Pt;this.dataModelResult=new W;this.filterModel=new Te;this.treeControl=new Qi(l=>l.children);this.dataSource=new tn;this.optionChange=new Qe;this.optionReload=()=>this.onActionButtonReload();this.hasChild=(l,e)=>!!e.children&&e.children.length>0;this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(l){this.onActionSelectForce(l)}ngOnInit(){setTimeout(()=>{this.DataGetAll()},500),this.cmsApiStoreSubscribe=this.cmsStoreService.getState(l=>l.tokenInfoStore).subscribe(l=>Ae(this,null,function*(){this.DataGetAll()}))}ngOnDestroy(){this.cmsApiStoreSubscribe&&this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.filterModel.rowPerPage=200,this.filterModel.accessLoad=!0;let l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(l,e,this.constructorInfoAreaId)}),this.categoryService.ServiceGetAll(this.filterModel).subscribe({next:e=>{e.isSuccess?(this.dataModelResult=e,this.dataSource.data=this.dataModelResult.listItems):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(l)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(l,!1)}})}onActionSelect(l){this.dataModelSelect=l,this.optionChange.emit(this.dataModelSelect)}onActionButtonReload(){this.onActionSelect(null),this.dataModelSelect=new Pt,this.DataGetAll()}onActionSelectForce(l){}onActionAdd(){let l=0;this.dataModelSelect&&this.dataModelSelect.id>0&&(l=this.dataModelSelect.id);let e=new qt;e.disableClose=!0,e.autoFocus=!0,e.data={parentId:l},this.dialog.open(Ro,e).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionEdit(){let l=0;if(this.dataModelSelect&&this.dataModelSelect.id>0&&(l=this.dataModelSelect.id),l===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorCategoryNotSelected").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(Vo,{height:"90%",panelClass:e,enterAnimationDuration:ie.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:ie.cmsViewConfig.exitAnimationDuration,data:{id:l}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionDelete(){let l=0;if(this.dataModelSelect&&this.dataModelSelect.id>0&&(l=this.dataModelSelect.id),l===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorCategoryNotSelected").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(Po,{height:"90%",panelClass:e,enterAnimationDuration:ie.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:ie.cmsViewConfig.exitAnimationDuration,data:{id:l}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}};Fn.\u0275fac=function(e){return new(e||Fn)(C(O),C(te),C(at),C(je),C(We),C(Ge),C(P),C(B),C(N))},Fn.\u0275cmp=R({type:Fn,selectors:[["app-linkmanagement-category-tree"]],inputs:{optionSelectForce:"optionSelectForce",optionReload:"optionReload"},outputs:{optionChange:"optionChange"},standalone:!1,decls:15,vars:14,consts:[[3,"optionHeaderDisplay","optionActionMainDisplay","optionFooterDisplay"],["cms-tree-header",""],["cms-tree-action",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-teal",3,"click",4,"ngIf"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-magenta",3,"click",4,"ngIf"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-red",3,"click",4,"ngIf"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-highlight",3,"click",4,"ngIf"],["cms-tree-body","",1,"loader-container"],[3,"optionsInfoAreaId"],[1,"category-tree","cursor-pointer",3,"dataSource","treeControl"],["matTreeNodePadding","",3,"ntk-tree-odd","ntk-tree-even","ntk-tree-selected","click",4,"matTreeNodeDef"],[4,"matTreeNodeDef","matTreeNodeDefWhen"],["cms-tree-footer",""],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[2,"font-size","20px","margin","-6px",3,"title"],["matTreeNodePadding","",3,"click"],["type","button","mat-icon-button","","disabled",""],[1,"mat-tree-node",3,"click"],["type","button","mat-icon-button","","matTreeNodeToggle","",3,"click"],[1,"mat-icon-rtl-mirror"],["matTreeNodeOutlet",""]],template:function(e,i){e&1&&(r(0,"app-cms-html-tree",0),A(1,1),d(2),g(3,"translate"),L(),A(4,2),b(5,wm,3,3,"button",3)(6,ym,3,3,"button",4)(7,km,3,3,"button",5)(8,Am,4,4,"button",6),L(),A(9,7),h(10,"app-progress-spinner",8),r(11,"mat-tree",9),b(12,Lm,3,7,"mat-tree-node",10)(13,xm,9,7,"mat-nested-tree-node",11),a(),L(),Re(14,12),a()),e&2&&(c("optionHeaderDisplay",!0)("optionActionMainDisplay",!0)("optionFooterDisplay",!1),o(2),S(" ",_(3,12,"TABLE."+(i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.moduleEntityName))," "),o(3),c("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessAddRow),o(),c("ngIf",(i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessEditRow)&&(i.dataModelSelect==null?null:i.dataModelSelect.id)>0),o(),c("ngIf",(i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessDeleteRow)&&(i.dataModelSelect==null?null:i.dataModelSelect.id)>0),o(),c("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessWatchRow),o(2),c("optionsInfoAreaId",i.constructorInfoAreaId),o(),c("dataSource",i.dataSource)("treeControl",i.treeControl),o(2),c("matTreeNodeDefWhen",i.hasChild))},dependencies:[F,qe,Le,Xi,Ji,Yi,en,$i,Ki,Zi,q,nn,V],encapsulation:2});var Gn=Fn;function Dm(n,l){if(n&1){let e=E();r(0,"button",13),I("click",function(){u(e);let t=p();return f(t.onActionAdd())}),d(1),g(2,"translate"),a()}n&2&&(o(),v(_(2,1,"ACTION.ADD")))}function Rm(n,l){if(n&1){let e=E();r(0,"button",14),I("click",function(){u(e);let t=p();return f(t.onActionEdit())}),d(1),g(2,"translate"),a()}n&2&&(o(),v(_(2,1,"ACTION.EDIT")))}function Bm(n,l){if(n&1){let e=E();r(0,"button",15),I("click",function(){u(e);let t=p();return f(t.onActionDelete())}),d(1),g(2,"translate"),a()}n&2&&(o(),v(_(2,1,"ACTION.DELETE")))}function Pm(n,l){if(n&1){let e=E();r(0,"button",16),I("click",function(){u(e);let t=p();return f(t.onActionButtonReload())}),r(1,"mat-icon",17),g(2,"translate"),d(3,"refresh"),a()()}n&2&&(o(),c("title",k(_(2,2,"ACTION.RELOAD"))))}function Vm(n,l){if(n&1){let e=E();r(0,"mat-tree-node",18),I("click",function(){let t=u(e).$implicit,s=p();return f(s.onActionSelect(t))}),h(1,"button",19),d(2),a()}if(n&2){let e=l.$implicit,i=l.dataIndex,t=p();se("ntk-tree-odd",i%2)("ntk-tree-even",!(i%2))("ntk-tree-selected",t.dataModelSelect.id>0&&t.dataModelSelect.id===e.id),o(2),S(" ",e.title," ")}}function Om(n,l){if(n&1){let e=E();r(0,"mat-nested-tree-node")(1,"li")(2,"div",20),I("click",function(){let t=u(e).$implicit,s=p();return f(s.onActionSelect(t))}),r(3,"button",21),I("click",function(){let t=u(e).$implicit,s=p();return f(s.onActionSelect(t))}),r(4,"mat-icon",22),d(5),a()(),d(6),a(),r(7,"ul"),Re(8,23),a()()()}if(n&2){let e=l.$implicit,i=p();o(2),se("ntk-tree-selected",i.dataModelSelect.id>0&&i.dataModelSelect.id===e.id),o(),it("aria-label","Toggle "+e.title),o(2),S(" ",i.treeControl.isExpanded(e)?"expand_more":"chevron_right"," "),o(),S(" ",e.title," "),o(),se("category-tree-invisible",!i.treeControl.isExpanded(e))}}var Wn=class Wn{constructor(l,e,i,t,s,M,m,D,H){this.cmsToastrService=l;this.coreEnumService=e;this.categoryService=i;this.dialog=t;this.tokenHelper=s;this.cmsStoreService=M;this.translate=m;this.cdr=D;this.publicHelper=H;this.constructorInfoAreaId=this.constructor.name;this.dataModelSelect=new Xe;this.dataModelResult=new W;this.filterModel=new Te;this.treeControl=new Qi(l=>null);this.dataSource=new tn;this.optionChange=new Qe;this.optionReload=()=>this.onActionButtonReload();this.hasChild=(l,e)=>!1;this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(l){this.onActionSelectForce(l)}ngOnInit(){setTimeout(()=>{this.DataGetAll()},500),this.cmsApiStoreSubscribe=this.cmsStoreService.getState(l=>l.tokenInfoStore).subscribe(l=>Ae(this,null,function*(){this.DataGetAll()}))}ngOnDestroy(){this.cmsApiStoreSubscribe&&this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.filterModel.rowPerPage=200,this.filterModel.accessLoad=!0;let l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(l,e,this.constructorInfoAreaId)}),this.categoryService.ServiceGetAll(this.filterModel).subscribe({next:e=>{e.isSuccess?(this.dataModelResult=e,this.dataSource.data=this.dataModelResult.listItems):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(l)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(l,!1)}})}onActionSelect(l){this.dataModelSelect=l,this.optionChange.emit(this.dataModelSelect)}onActionButtonReload(){this.onActionSelect(null),this.dataModelSelect=new Xe,this.DataGetAll()}onActionSelectForce(l){}onActionAdd(){let l=0;this.dataModelSelect&&this.dataModelSelect.id>0&&(l=this.dataModelSelect.id);let e=new qt;e.height="90%",e.disableClose=!0,e.autoFocus=!0,e.data={parentId:l},this.dialog.open(wn,e).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionEdit(){let l=0;if(this.dataModelSelect&&this.dataModelSelect.id>0&&(l=this.dataModelSelect.id),l===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorCategoryNotSelected").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(Ln,{height:"90%",panelClass:e,enterAnimationDuration:ie.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:ie.cmsViewConfig.exitAnimationDuration,data:{id:l}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionDelete(){let l=0;if(this.dataModelSelect&&this.dataModelSelect.id>0&&(l=this.dataModelSelect.id),l===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorCategoryNotSelected").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(kn,{height:"90%",panelClass:e,enterAnimationDuration:ie.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:ie.cmsViewConfig.exitAnimationDuration,data:{id:l}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}};Wn.\u0275fac=function(e){return new(e||Wn)(C(O),C(te),C(rt),C(je),C(We),C(Ge),C(P),C(B),C(N))},Wn.\u0275cmp=R({type:Wn,selectors:[["app-linkmanagement-billboard-pattern-tree"]],inputs:{optionSelectForce:"optionSelectForce",optionReload:"optionReload"},outputs:{optionChange:"optionChange"},standalone:!1,decls:15,vars:14,consts:[[3,"optionHeaderDisplay","optionActionMainDisplay","optionFooterDisplay"],["cms-tree-header",""],["cms-tree-action",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-teal",3,"click",4,"ngIf"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-magenta",3,"click",4,"ngIf"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-red",3,"click",4,"ngIf"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-highlight",3,"click",4,"ngIf"],["cms-tree-body","",1,"loader-container"],[3,"optionsInfoAreaId"],[1,"category-tree","cursor-pointer",3,"dataSource","treeControl"],["matTreeNodePadding","",3,"ntk-tree-odd","ntk-tree-even","ntk-tree-selected","click",4,"matTreeNodeDef"],[4,"matTreeNodeDef","matTreeNodeDefWhen"],["cms-tree-footer",""],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[2,"font-size","20px","margin","-6px",3,"title"],["matTreeNodePadding","",3,"click"],["type","button","mat-icon-button","","disabled",""],[1,"mat-tree-node",3,"click"],["type","button","mat-icon-button","","matTreeNodeToggle","",3,"click"],[1,"mat-icon-rtl-mirror"],["matTreeNodeOutlet",""]],template:function(e,i){e&1&&(r(0,"app-cms-html-tree",0),A(1,1),d(2),g(3,"translate"),L(),A(4,2),b(5,Dm,3,3,"button",3)(6,Rm,3,3,"button",4)(7,Bm,3,3,"button",5)(8,Pm,4,4,"button",6),L(),A(9,7),h(10,"app-progress-spinner",8),r(11,"mat-tree",9),b(12,Vm,3,7,"mat-tree-node",10)(13,Om,9,7,"mat-nested-tree-node",11),a(),L(),Re(14,12),a()),e&2&&(c("optionHeaderDisplay",!0)("optionActionMainDisplay",!0)("optionFooterDisplay",!1),o(2),S(" ",_(3,12,"TABLE."+(i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.moduleEntityName))," "),o(3),c("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessAddRow),o(),c("ngIf",(i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessEditRow)&&(i.dataModelSelect==null?null:i.dataModelSelect.id)>0),o(),c("ngIf",(i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessDeleteRow)&&(i.dataModelSelect==null?null:i.dataModelSelect.id)>0),o(),c("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessWatchRow),o(2),c("optionsInfoAreaId",i.constructorInfoAreaId),o(),c("dataSource",i.dataSource)("treeControl",i.treeControl),o(2),c("matTreeNodeDefWhen",i.hasChild))},dependencies:[F,qe,Le,Xi,Ji,Yi,en,$i,Ki,Zi,q,nn,V],encapsulation:2});var Hn=Wn;var Nm=()=>[5,10,20,100],Fm=n=>({display:n});function Gm(n,l){if(n&1){let e=E();r(0,"div",18)(1,"a",42),I("click",function(){u(e);let t=p();return f(t.onActionButtonNewRow())}),h(2,"i",43)(3,"br"),a(),r(4,"p",21),d(5),g(6,"translate"),a()()}n&2&&(o(5),v(_(6,1,"ACTION.ADD")))}function Wm(n,l){if(n&1){let e=E();r(0,"div",18)(1,"a",9),I("click",function(){u(e);let t=p();return f(t.onActionButtonLog())}),h(2,"i",44)(3,"br"),a(),r(4,"p",21),d(5),g(6,"translate"),a()()}n&2&&(o(5),v(_(6,1,"ACTION.REPORTS")))}function Hm(n,l){if(n&1){let e=E();r(0,"div",18)(1,"a",45),I("click",function(){u(e);let t=p();return f(t.onActionButtonEditRow(t.tableRowSelected))}),h(2,"i",46)(3,"br"),a(),r(4,"p",21),d(5),g(6,"translate"),a()()}n&2&&(o(5),v(_(6,1,"ACTION.EDIT")))}function qm(n,l){if(n&1){let e=E();r(0,"div",18)(1,"a",47),I("click",function(){u(e);let t=p();return f(t.onActionButtonDeleteRow(t.tableRowSelected))}),h(2,"i",48)(3,"br"),a(),r(4,"p",21),d(5),g(6,"translate"),a()()}n&2&&(o(5),v(_(6,1,"ACTION.DELETE")))}function jm(n,l){n&1&&(r(0,"mat-header-cell",49),d(1),g(2,"translate"),a()),n&2&&(o(),S(" ",_(2,1,"TITLE.PICTURE")," "))}function Um(n,l){if(n&1&&(h(0,"img",51),g(1,"cmsthumbnail")),n&2){let e=p().$implicit;c("src",k(_(1,2,e.linkMainImageIdSrc)),K)}}function zm(n,l){if(n&1&&(r(0,"mat-cell"),b(1,Um,2,4,"img",50),a()),n&2){let e=l.$implicit;o(),c("ngIf",(e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0)}}function Qm(n,l){if(n&1&&(r(0,"mat-header-cell",49),d(1),a()),n&2){let e=p();o(),S(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function Km(n,l){if(n&1&&(r(0,"mat-cell"),d(1),a()),n&2){let e=l.$implicit;o(),S(" ",e.id," ")}}function Jm(n,l){if(n&1&&(r(0,"mat-header-cell",49),d(1),a()),n&2){let e=p();o(),S(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function Xm(n,l){if(n&1&&(r(0,"mat-cell"),d(1),g(2,"cmssiteinfo"),g(3,"async"),a()),n&2){let e=l.$implicit;o(),S(" ",_(3,3,_(2,1,e.linkSiteId))," ")}}function Ym(n,l){if(n&1&&(r(0,"mat-header-cell",49),d(1),a()),n&2){let e=p();o(),S(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function Zm(n,l){if(n&1&&h(0,"select",54),n&2){let e=p().$implicit,i=p();c("contentService",i.contentService)("row",e)("ngStyle",ze(3,Fm,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function $m(n,l){if(n&1&&(r(0,"mat-cell"),h(1,"i",52),g(2,"statusIconClass"),b(3,Zm,1,5,"select",53),a()),n&2){let e=l.$implicit,i=p();o(),c("ngClass",_(2,2,e.recordStatus)),o(2),c("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessEditRow)}}function ep(n,l){if(n&1&&(r(0,"mat-header-cell",49),d(1),a()),n&2){let e=p();o(),S(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," ")}}function tp(n,l){if(n&1&&(r(0,"mat-cell"),d(1),a()),n&2){let e=l.$implicit;o(),S(" ",e.title," ")}}function ip(n,l){if(n&1&&(r(0,"mat-header-cell",49),d(1),a()),n&2){let e=p();o(),S(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function np(n,l){if(n&1&&(r(0,"mat-cell"),d(1),g(2,"localeDate"),a()),n&2){let e=l.$implicit;o(),S(" ",_(2,1,e.createdDate)," ")}}function op(n,l){if(n&1&&(r(0,"mat-header-cell",49),d(1),a()),n&2){let e=p();o(),S(" ",e.fieldsInfo.updatedDate==null?null:e.fieldsInfo.updatedDate.fieldTitle," ")}}function rp(n,l){if(n&1&&(r(0,"mat-cell"),d(1),g(2,"localeDate"),a()),n&2){let e=l.$implicit;o(),S(" ",_(2,1,e.updatedDate)," ")}}function ap(n,l){n&1&&(r(0,"mat-header-cell"),d(1),g(2,"translate"),a()),n&2&&(o(),S(" ",_(2,1,"TITLE.OPTION")," "))}function lp(n,l){if(n&1&&(r(0,"mat-cell",55)(1,"button",56)(2,"mat-icon"),d(3,"more_vert"),a()(),h(4,"mat-menu",null,2),a()),n&2){let e=x(5);o(),c("matMenuTriggerFor",e)}}function sp(n,l){n&1&&h(0,"mat-header-row")}function cp(n,l){if(n&1){let e=E();r(0,"mat-row",57),I("click",function(){let t=u(e).$implicit,s=p();return f(s.onActionTableRowSelect(t))}),a()}if(n&2){let e=l.$implicit,i=l.dataIndex,t=p();se("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",e.id===(t.tableRowSelected==null?null:t.tableRowSelected.id))}}var qn=class qn extends Tt{constructor(e,i,t,s,M,m,D,H,j,he,ye){super(e,new oi,he,m,H);this.contentService=e;this.cmsToastrService=i;this.router=t;this.activatedRoute=s;this.cmsStoreService=M;this.tokenHelper=m;this.cdr=D;this.translate=H;this.pageInfo=j;this.publicHelper=he;this.dialog=ye;this.requestLinkBillboardPatternId=0;this.constructorInfoAreaId=this.constructor.name;this.filteModelContent=new go;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["LinkMainImageIdSrc","Id","RecordStatus","CreatedDate","UpdatedDate"];this.tabledisplayedColumnsMobileSource=["LinkMainImageIdSrc","Id","RecordStatus","CreatedDate","UpdatedDate"];if(this.publicHelper.processService.cdr=this.cdr,this.requestLinkBillboardPatternId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkBillboardPatternId")),this.optionsSearch.parentMethods={onSubmit:ke=>this.onSubmitOptionsSearch(ke)},this.filteModelContent.sortColumn="Id",this.filteModelContent.sortType=ce.Descending,this.requestLinkBillboardPatternId>0){let ke=new oe;ke.propertyName="LinkBillboardPatternId",ke.value=this.requestLinkBillboardPatternId,this.filteModelContent.filters.push(ke)}}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.cmsApiStoreSubscribe=this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>Ae(this,null,function*(){this.tokenInfo=e,this.DataGetAll()}))}ngOnDestroy(){this.cmsApiStoreSubscribe&&this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new oi);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));if(this.categoryModelSelected&&this.categoryModelSelected.id>0){let t=new oe;t.propertyName="linkBillboardPatternId",t.value=this.categoryModelSelected.id,i.filters.push(t)}if(this.categoryPatternModelSelected&&this.categoryPatternModelSelected.id>0){let t=new oe;t.propertyName="billboardCategories",t.propertyAnyName="linkCategoryId",t.value=this.categoryPatternModelSelected.id,i.filters.push(t)}this.contentService.setAccessLoad(),this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),t.isSuccess?(this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=ce.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=ce.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=ce.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionSelectorSelectPattern(e){var i=this.filteModelContent.sortColumn,t=this.filteModelContent.sortType;this.filteModelContent=new go,this.filteModelContent.sortColumn=i,this.filteModelContent.sortType=t,this.categoryPatternModelSelected=e,this.DataGetAll()}onActionSelectorSelectCategory(e){var i=this.filteModelContent.sortColumn,t=this.filteModelContent.sortType;this.filteModelContent=new go,this.filteModelContent.sortColumn=i,this.filteModelContent.sortType=t,this.categoryModelSelected=e,this.DataGetAll()}onActionButtonNewRow(){if(this.categoryPatternModelSelected==null||this.categoryPatternModelSelected.id===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorCategoryNotSelected").subscribe(e=>{this.cmsToastrService.typeErrorSelected(e)});return}if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}this.router.navigate(["/linkmanagement/billboard/add",this.categoryPatternModelSelected.id])}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}this.router.navigate(["/linkmanagement/billboard/edit",this.tableRowSelected.id])}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(s=>{this.cmsToastrService.typeErrorSelected(s)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Do,{height:"90%",panelClass:i,enterAnimationDuration:ie.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:ie.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate&&this.DataGetAll()})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(m=>{i.set(m,0)}),this.translate.get("MESSAGE.All").subscribe(m=>{i.set(m,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(m=>{this.publicHelper.processService.processStart(t,m,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:m=>{m.isSuccess?(this.translate.get("MESSAGE.All").subscribe(D=>{i.set(D,m.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(m.errorMessage),this.publicHelper.processService.processStop(t)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(t,!1)}});let s=JSON.parse(JSON.stringify(this.filteModelContent)),M=new oe;M.propertyName="RecordStatus",M.value=tt.Available,s.filters.push(M),this.contentService.ServiceGetCount(s).subscribe({next:m=>{m.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(D=>{i.set(D,m.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(m.errorMessage),this.publicHelper.processService.processStop(t)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0&&(this.filteModelContent.filters=[...this.filteModelContent.filters,...e]),this.DataGetAll()}onActionButtonLog(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.router.navigate(["/linkmanagement/target-billboard-log/LinkManagementBillboardId",e.id])}};qn.\u0275fac=function(i){return new(i||qn)(C(Zt),C(O),C(Fe),C(Ke),C(Ge),C(We),C(B),C(P),C(It),C(N),C(je))},qn.\u0275cmp=R({type:qn,selectors:[["app-linkmanagement-billboard-list"]],standalone:!1,features:[J],decls:68,vars:32,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],[3,"optionChange"],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-memo","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","LinkMainImageIdSrc"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","Id"],["matColumnDef","LinkSiteId"],["matColumnDef","RecordStatus"],["matColumnDef","Title"],["matColumnDef","CreatedDate"],["matColumnDef","UpdatedDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#FFFFFF"],[1,"fa-solid","fa-file-chart-column","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","40","width","40",3,"src",4,"ngIf"],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[3,"click"]],template:function(i,t){if(i&1){let s=E();r(0,"app-cms-html-list",3),y("optionActionGuideNoticeDisplayChange",function(m){return u(s),w(t.viewGuideNotice,m)||(t.viewGuideNotice=m),f(m)}),I("optionOnActionButtonMemoRow",function(){return u(s),f(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return u(s),f(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return u(s),f(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return u(s),f(t.onActionButtonPrintRow())}),A(1,4),r(2,"app-linkmanagement-billboard-pattern-tree",5),I("optionChange",function(m){return u(s),f(t.onActionSelectorSelectPattern(m))}),a(),r(3,"app-linkmanagement-category-tree",5),I("optionChange",function(m){return u(s),f(t.onActionSelectorSelectCategory(m))}),a(),L(),Re(4,6)(5,7),A(6,8),r(7,"a",9),I("click",function(){return u(s),f(t.viewGuideNotice=!t.viewGuideNotice)}),h(8,"i",10),a(),r(9,"a",9),I("click",function(){return u(s),f(t.onActionButtonReload())}),h(10,"i",11),a(),L(),A(11,12),r(12,"a",13),I("click",function(){return u(s),f(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),h(13,"mat-slide-toggle",14),d(14),g(15,"translate"),a(),r(16,"a",13),I("click",function(){return u(s),f(t.onActionButtonStatist())}),h(17,"mat-slide-toggle",14),d(18),g(19,"translate"),a(),L(),A(20,15),b(21,Gm,7,3,"div",16)(22,Wm,7,3,"div",16),L(),A(23,17),b(24,Hm,7,3,"div",16)(25,qm,7,3,"div",16),r(26,"div",18)(27,"a",19),I("click",function(){return u(s),f(t.onActionButtonLog(t.tableRowSelected))}),h(28,"i",20)(29,"br"),a(),r(30,"p",21),d(31),g(32,"translate"),a()(),L(),A(33,22),r(34,"app-cms-search-list",23),y("optionsChange",function(m){return u(s),w(t.optionsSearch,m)||(t.optionsSearch=m),f(m)}),a(),r(35,"app-cms-statist-list",23),y("optionsChange",function(m){return u(s),w(t.optionsStatist,m)||(t.optionsStatist=m),f(m)}),a(),L(),A(36,24),r(37,"mat-table",25,0),I("matSortChange",function(){u(s);let m=x(38);return f(t.onTableSortData(m))}),A(39,26),b(40,jm,3,3,"mat-header-cell",27)(41,zm,2,1,"mat-cell",28),L(),A(42,29),b(43,Qm,2,1,"mat-header-cell",27)(44,Km,2,1,"mat-cell",28),L(),A(45,30),b(46,Jm,2,1,"mat-header-cell",27)(47,Xm,4,5,"mat-cell",28),L(),A(48,31),b(49,Ym,2,1,"mat-header-cell",27)(50,$m,4,4,"mat-cell",28),L(),A(51,32),b(52,ep,2,1,"mat-header-cell",27)(53,tp,2,1,"mat-cell",28),L(),A(54,33),b(55,ip,2,1,"mat-header-cell",27)(56,np,3,3,"mat-cell",28),L(),A(57,34),b(58,op,2,1,"mat-header-cell",27)(59,rp,3,3,"mat-cell",28),L(),A(60,35),b(61,ap,3,3,"mat-header-cell",36)(62,lp,6,1,"mat-cell",37),L(),b(63,sp,1,0,"mat-header-row",38)(64,cp,1,6,"mat-row",39),a(),L(),A(65,40),r(66,"mat-paginator",41,1),I("page",function(m){return u(s),f(t.onTablePageingData(m))}),a(),L(),a()}i&2&&(c("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),T("optionActionGuideNoticeDisplay",t.viewGuideNotice),c("optionTreeDisplay",!0)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelectDoubleClick)("optionSelectRowItemTitle",(t.tableRowSelected==null||t.tableRowSelected.title==null?null:t.tableRowSelected.title.length)>0?t.tableRowSelected==null?null:t.tableRowSelected.title:t.tableRowSelected==null?null:t.tableRowSelected.id),o(13),c("checked",t.optionsSearch.data.show),o(),S("",_(15,25,"ACTION.SEARCH")," "),o(3),c("checked",t.optionsStatist.data.show),o(),S("",_(19,27,"ACTION.STATIST")," "),o(3),c("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessAddRow),o(),c("ngIf",(t.tableRowSelected==null?null:t.tableRowSelected.id)>0),o(2),c("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),o(),c("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),o(6),v(_(32,29,"ACTION.LOG")),o(3),T("options",t.optionsSearch),o(),T("options",t.optionsStatist),o(2),c("dataSource",t.tableSource),o(26),c("matHeaderRowDef",t.tabledisplayedColumns),o(),c("matRowDefColumns",t.tabledisplayedColumns),o(2),c("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",Ve(31,Nm)))},dependencies:[nt,F,Nt,qe,Le,G,lt,st,ct,dt,mt,pt,ut,gt,Mt,_t,ft,Ct,St,ht,bt,vt,wt,yt,kt,Qt,Gn,Hn,Ne,V,At,_e,Lt,xt],encapsulation:2});var oo=qn;var jn=class jn{constructor(){this.constructorInfoAreaId=this.constructor.name}ngOnInit(){}};jn.\u0275fac=function(e){return new(e||jn)},jn.\u0275cmp=R({type:jn,selectors:[["app-linkmanagement"]],standalone:!1,decls:1,vars:0,template:function(e,i){e&1&&h(0,"router-outlet")},dependencies:[lr],encapsulation:2});var Oo=jn;var mp=["vform"];function pp(n,l){if(n&1){let e=E();r(0,"app-cms-enum-record-status-selector",22),y("modelChange",function(t){u(e);let s=p();return w(s.dataModel.recordStatus,t)||(s.dataModel.recordStatus=t),f(t)}),a()}if(n&2){let e=p();T("model",e.dataModel.recordStatus),c("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function up(n,l){if(n&1){let e=E();r(0,"div",23)(1,"div",24)(2,"h5",25),d(3),a()(),r(4,"div",26)(5,"div",27)(6,"input",28),y("ngModelChange",function(t){u(e);let s=p();return w(s.dataModel.isInBlackList,t)||(s.dataModel.isInBlackList=t),f(t)}),a(),h(7,"label",29),a()()()}if(n&2){let e=p();o(3),S(" ",e.fieldsInfo.isInBlackList==null?null:e.fieldsInfo.isInBlackList.fieldTitle),o(3),T("ngModel",e.dataModel.isInBlackList)}}function fp(n,l){if(n&1&&(r(0,"mat-error"),d(1),r(2,"strong"),d(3),g(4,"translate"),a()()),n&2){let e=p(2);o(),S(" ",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle," is "),o(2),v(_(4,2,"MESSAGE.required"))}}function gp(n,l){if(n&1){let e=E();r(0,"div",13)(1,"label",30),d(2),a(),r(3,"textarea",31,3),y("ngModelChange",function(t){u(e);let s=p();return w(s.dataModel.description,t)||(s.dataModel.description=t),f(t)}),d(5,"             "),a(),r(6,"em"),d(7),a(),b(8,fp,5,4,"mat-error",18),a()}if(n&2){let e=x(4),i=p();o(2),v(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle),o(),c("placeholder",k(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle)),T("ngModel",i.dataModel.description),o(4),S("",e.value.length," / 500"),o(),c("ngIf",e.errors==null?null:e.errors.required)}}function _p(n,l){n&1&&h(0,"i",32)}function Sp(n,l){n&1&&h(0,"i",33)}function hp(n,l){n&1&&(r(0,"mat-error"),d(1," CurrentDebtor is "),r(2,"strong"),d(3),g(4,"translate"),a()()),n&2&&(o(3),v(_(4,1,"MESSAGE.required")))}function Mp(n,l){n&1&&h(0,"i",32)}function Cp(n,l){n&1&&h(0,"i",33)}function bp(n,l){n&1&&(r(0,"mat-error"),d(1," CurrentCreditor is "),r(2,"strong"),d(3),g(4,"translate"),a()()),n&2&&(o(3),v(_(4,1,"MESSAGE.required")))}function vp(n,l){if(n&1){let e=E();r(0,"div",34)(1,"button",35),I("click",function(){u(e);let t=p();return f(t.onFormCancel())}),h(2,"i",36),d(3),g(4,"translate"),a(),r(5,"button",37),h(6,"i",38),d(7),g(8,"translate"),a()()}if(n&2){p();let e=x(9);o(3),S(" ",_(4,3,"ACTION.CANCEL")," "),o(2),c("disabled",!e.form.valid),o(2),S(" ",_(8,5,"ACTION.SAVE")," ")}}var Un=class Un extends Et{constructor(e,i,t,s,M,m,D,H){super(s,new Bt,m,H);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.categoryService=s;this.cmsToastrService=M;this.publicHelper=m;this.cdr=D;this.translate=H;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new W;this.dataModel=new Bt;this.formInfo=new ee;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.translate.get("TITLE.Register_New_Categories").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess()}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.categoryService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.formAlert=t}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorCmsUser(e){if(!e||!e.id||e.id<=0){this.translate.get("MESSAGE.Information_user_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkExternalCmsUserId=e.id}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Un.\u0275fac=function(i){return new(i||Un)(C(ae),C(re),C(te),C(zt),C(O),C(N),C(B),C(P))},Un.\u0275cmp=R({type:Un,selectors:[["app-linkmanagement-member-add"]],viewQuery:function(i,t){if(i&1&&X(mp,5),i&2){let s;Y(s=Z())&&(t.formGroup=s.first)}},standalone:!1,features:[J],decls:34,vars:32,consts:[["vform","ngForm"],["CurrentDebtor",""],["CurrentCreditor",""],["Description",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],["class","d-flex mb-3",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.currentDebtor",1,"color-highlight"],["matInput","","type","number","name","dataModel.currentDebtor","minlength","0","required","","id","dataModel.currentDebtor",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","fa fa-times  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],[4,"ngIf"],["for","dataModel.currentCreditor",1,"color-highlight"],["matInput","","type","number","name","dataModel.currentCreditor","minlength","0","required","","id","dataModel.currentCreditor",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.isInBlackList",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.isInBlackList","name","dataModel.isInBlackList",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.isInBlackList",1,"custom-control-label"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=E();r(0,"div",4),h(1,"app-progress-spinner",5),r(2,"div",6)(3,"p",7),d(4),a(),r(5,"p"),d(6),g(7,"translate"),a(),r(8,"form",8,0),I("ngSubmit",function(){return u(s),f(t.onFormSubmit())}),b(10,pp,1,5,"app-cms-enum-record-status-selector",9),r(11,"app-cms-user-selector",10),g(12,"translate"),I("optionChange",function(m){return u(s),f(t.onActionSelectorCmsUser(m))}),a(),b(13,up,8,2,"div",11)(14,gp,9,6,"div",12),r(15,"div",13)(16,"label",14),d(17),a(),r(18,"input",15,1),g(20,"translate"),y("ngModelChange",function(m){return u(s),w(t.dataModel.currentDebtor,m)||(t.dataModel.currentDebtor=m),f(m)}),a(),b(21,_p,1,0,"i",16)(22,Sp,1,0,"i",17)(23,hp,5,3,"mat-error",18),a(),r(24,"div",13)(25,"label",19),d(26),a(),r(27,"input",20,2),g(29,"translate"),y("ngModelChange",function(m){return u(s),w(t.dataModel.currentCreditor,m)||(t.dataModel.currentCreditor=m),f(m)}),a(),b(30,Mp,1,0,"i",16)(31,Cp,1,0,"i",17)(32,bp,5,3,"mat-error",18),a(),b(33,vp,9,7,"div",21),a()()()}if(i&2){let s=x(19),M=x(28);o(),c("optionsInfoAreaId",t.constructorInfoAreaId),o(3),S(" ",t.formInfo.formTitle," "),o(2),S(" ",_(7,24,"TITLE.Be_Careful_When_Entering_Information")," "),o(4),c("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),o(),c("optionDisabled",!(t.fieldsInfo.linkExternalCmsUserId!=null&&t.fieldsInfo.linkExternalCmsUserId.accessAddField))("optionSelectForce",t.dataModel.linkExternalCmsUserId)("optionPlaceholder",_(12,26,"TITLE.Account")),o(2),c("ngIf",t.fieldsInfo.isInBlackList==null?null:t.fieldsInfo.isInBlackList.accessWatchField),o(),c("ngIf",t.fieldsInfo.description==null?null:t.fieldsInfo.description.accessWatchField),o(3),v(t.fieldsInfo.currentDebtor==null?null:t.fieldsInfo.currentDebtor.fieldTitle),o(),c("placeholder",k(_(20,28,"TITLE.Current_Credit_Of_Debtor"))),T("ngModel",t.dataModel.currentDebtor),o(3),c("ngIf",!s.value),o(),c("ngIf",s.value),o(),c("ngIf",s.errors==null?null:s.errors.required),o(3),v(t.fieldsInfo.currentCreditor==null?null:t.fieldsInfo.currentCreditor.fieldTitle),o(),c("placeholder",k(_(29,30,"TITLE.Current_Credit_Of_Creditor"))),T("ngModel",t.dataModel.currentCreditor),o(3),c("ngIf",!M.value),o(),c("ngIf",M.value),o(),c("ngIf",M.errors==null?null:M.errors.required),o(),c("ngIf",t.formInfo.formSubmitAllow)}},dependencies:[F,ve,U,Oe,Ft,z,Ce,Q,fe,ge,$,be,Ie,G,we,ho,q,V],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});var No=Un;var Ip=["vform"];function Ep(n,l){if(n&1){let e=E();A(0),r(1,"div",7)(2,"label",8),d(3),a(),r(4,"input",9,0),y("ngModelChange",function(t){u(e);let s=p();return w(s.dataModelResultContent.item.id,t)||(s.dataModelResultContent.item.id=t),f(t)}),a()(),L()}if(n&2){let e=p();o(3),v(e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle),o(),c("placeholder",k(e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle)),T("ngModel",e.dataModelResultContent.item.id)}}function Tp(n,l){if(n&1){let e=E();r(0,"div",10)(1,"button",11),I("click",function(){u(e);let t=p();return f(t.onFormCancel())}),h(2,"i",12),d(3),g(4,"translate"),a(),r(5,"button",13),I("click",function(){u(e);let t=p();return f(t.onFormDelete())}),h(6,"i",14),d(7),g(8,"translate"),a()()}if(n&2){let e=p();o(3),S(" ",_(4,3,"ACTION.CANCEL")," "),o(2),c("disabled",!e.formInfo.buttonSubmittedEnabled),o(2),S(" ",_(8,5,"ACTION.DELETE")," ")}}var zn=class zn{constructor(l,e,i,t,s,M,m){this.data=l;this.dialogRef=e;this.publicHelper=i;this.linkManagementMemberService=t;this.cdr=s;this.translate=M;this.cmsToastrService=m;this.requestId=0;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.dataModelResultContent=new W;this.formInfo=new ee;this.publicHelper.processService.cdr=this.cdr,l&&(this.requestId=+l.id||0)}ngOnInit(){if(this.requestId<=0){this.cmsToastrService.typeErrorDeleteRowIsNull(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOne()}DataGetOne(){if(this.requestId===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.translate.get("TITLE.Loading_Information").subscribe(e=>{this.formInfo.formAlert=e});let l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(l,e,this.constructorInfoAreaId)}),this.linkManagementMemberService.setAccessLoad(),this.linkManagementMemberService.setAccessDataType(Ee.Editor),this.linkManagementMemberService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModelResultContent=e,e.isSuccess?this.formInfo.formAlert="":(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError=e.errorMessage,this.formInfo.formErrorStatus=!0,this.cmsToastrService.typeErrorGetOne()),this.publicHelper.processService.processStop(l)},error:e=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formErrorStatus=!0,this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(l,!1)}})}onFormDelete(){if(this.requestId===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.formInfo.formSubmitAllow=!1,this.formInfo.buttonSubmittedEnabled=!1;let l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(l,e,this.constructorInfoAreaId)}),this.linkManagementMemberService.ServiceDelete(this.requestId).subscribe({next:e=>{this.formInfo.formSubmitAllow=!e.isSuccess,e.isSuccess?(this.translate.get("MESSAGE.Deletion_Was_Successful").subscribe(i=>{this.formInfo.formAlert=i}),this.cmsToastrService.typeSuccessRemove(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError=e.errorMessage,this.cmsToastrService.typeErrorRemove()),this.formInfo.buttonSubmittedEnabled=!0,this.publicHelper.processService.processStop(l)},error:e=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(e),this.formInfo.buttonSubmittedEnabled=!0,this.publicHelper.processService.processStop(l)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};zn.\u0275fac=function(e){return new(e||zn)(C(ae),C(re),C(N),C(zt),C(B),C(P),C(O))},zn.\u0275cmp=R({type:zn,selectors:[["app-linkmanagement-member-delete"]],viewQuery:function(e,i){if(e&1&&X(Ip,5),e&2){let t;Y(t=Z())&&(i.formGroup=t.first)}},standalone:!1,decls:11,vars:7,consts:[["Writer",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[4,"ngIf"],["class","form-actions",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModelResultContent.item.id",1,"color-highlight"],["matInput","","name","dataModelResultContent.item.id","type","text","required","","id","dataModelResultContent.item.id","readonly","",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click","disabled"],[1,"fa","fa-check-square-o"]],template:function(e,i){e&1&&(r(0,"div",1),h(1,"app-progress-spinner",2),r(2,"div",3)(3,"p",4),d(4," \u062D\u0633\u0627\u0628 \u06A9\u0627\u0631\u0628\u0631\u06CC \u062E\u0648\u062F \u0631\u0627 \u0648\u06CC\u0631\u0627\u06CC\u0634 \u06A9\u0646\u06CC\u062F "),a(),r(5,"p"),d(6),g(7,"translate"),a(),d(8),b(9,Ep,6,4,"ng-container",5)(10,Tp,9,7,"div",6),a()()),e&2&&(o(),c("optionsInfoAreaId",i.constructorInfoAreaId),o(5),S(" ",_(7,5,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),S(" ",i.formInfo.formTitle," "),o(),c("ngIf",i.dataModelResultContent==null?null:i.dataModelResultContent.item),o(),c("ngIf",i.formInfo.formSubmitAllow))},dependencies:[F,U,z,Q,$,G,q,V],encapsulation:2});var Fo=zn;var wp=["vform"];function yp(n,l){if(n&1){let e=E();r(0,"app-cms-enum-record-status-selector",22),y("modelChange",function(t){u(e);let s=p();return w(s.dataModel.recordStatus,t)||(s.dataModel.recordStatus=t),f(t)}),a()}if(n&2){let e=p();T("model",e.dataModel.recordStatus),c("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function kp(n,l){if(n&1){let e=E();r(0,"div",23)(1,"div",24)(2,"h5",25),d(3),a()(),r(4,"div",26)(5,"div",27)(6,"input",28),y("ngModelChange",function(t){u(e);let s=p();return w(s.dataModel.isInBlackList,t)||(s.dataModel.isInBlackList=t),f(t)}),a(),h(7,"label",29),a()()()}if(n&2){let e=p();o(3),S(" ",e.fieldsInfo.isInBlackList==null?null:e.fieldsInfo.isInBlackList.fieldTitle),o(3),T("ngModel",e.dataModel.isInBlackList)}}function Ap(n,l){if(n&1&&(r(0,"mat-error"),d(1),r(2,"strong"),d(3),g(4,"translate"),a()()),n&2){let e=p(2);o(),S(" ",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle," is "),o(2),v(_(4,2,"MESSAGE.required"))}}function Lp(n,l){if(n&1){let e=E();r(0,"div",13)(1,"label",30),d(2),a(),r(3,"textarea",31,3),y("ngModelChange",function(t){u(e);let s=p();return w(s.dataModel.description,t)||(s.dataModel.description=t),f(t)}),d(5,"             "),a(),r(6,"em"),d(7),a(),b(8,Ap,5,4,"mat-error",18),a()}if(n&2){let e=x(4),i=p();o(2),v(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle),o(),c("placeholder",k(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle)),T("ngModel",i.dataModel.description),o(4),S("",e.value.length," / 500"),o(),c("ngIf",e.errors==null?null:e.errors.required)}}function xp(n,l){n&1&&h(0,"i",32)}function Dp(n,l){n&1&&h(0,"i",33)}function Rp(n,l){n&1&&(r(0,"mat-error"),d(1," CurrentDebtor is "),r(2,"strong"),d(3),g(4,"translate"),a()()),n&2&&(o(3),v(_(4,1,"MESSAGE.required")))}function Bp(n,l){n&1&&h(0,"i",32)}function Pp(n,l){n&1&&h(0,"i",33)}function Vp(n,l){n&1&&(r(0,"mat-error"),d(1," CurrentCreditor is "),r(2,"strong"),d(3),g(4,"translate"),a()()),n&2&&(o(3),v(_(4,1,"MESSAGE.required")))}function Op(n,l){if(n&1){let e=E();r(0,"div",34)(1,"button",35),I("click",function(){u(e);let t=p();return f(t.onFormCancel())}),h(2,"i",36),d(3),g(4,"translate"),a(),r(5,"button",37),h(6,"i",38),d(7),g(8,"translate"),a()()}if(n&2){p();let e=x(9);o(3),S(" ",_(4,3,"ACTION.CANCEL")," "),o(2),c("disabled",!e.form.valid),o(2),S(" ",_(8,5,"ACTION.SAVE")," ")}}var Qn=class Qn extends Ze{constructor(e,i,t,s,M,m,D,H){super(s,new Bt,m,H);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.categoryService=s;this.cmsToastrService=M;this.publicHelper=m;this.cdr=D;this.translate=H;this.requestId=0;this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new Je;this.dataModel=new Bt;this.formInfo=new ee;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=+e.id||0),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.requestId>0)this.translate.get("TITLE.Edit_Categories").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}}DataGetOneContent(){if(this.requestId<=0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.categoryService.setAccessLoad(),this.categoryService.setAccessDataType(Ee.Editor),this.categoryService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.categoryService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.formAlert=t}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorCmsUser(e){if(!e||!e.id||e.id<=0){this.translate.get("MESSAGE.Information_user_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkExternalCmsUserId=e.id}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Qn.\u0275fac=function(i){return new(i||Qn)(C(ae),C(re),C(te),C(zt),C(O),C(N),C(B),C(P))},Qn.\u0275cmp=R({type:Qn,selectors:[["app-linkmanagement-member-edit"]],viewQuery:function(i,t){if(i&1&&X(wp,5),i&2){let s;Y(s=Z())&&(t.formGroup=s.first)}},standalone:!1,features:[J],decls:34,vars:32,consts:[["vform","ngForm"],["CurrentDebtor",""],["CurrentCreditor",""],["Description",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],["class","d-flex mb-3",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.currentDebtor",1,"color-highlight"],["matInput","","type","number","name","dataModel.currentDebtor","minlength","0","required","","id","dataModel.currentDebtor",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","fa fa-times  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],[4,"ngIf"],["for","dataModel.currentCreditor",1,"color-highlight"],["matInput","","type","number","name","dataModel.currentCreditor","minlength","0","required","","id","dataModel.currentCreditor",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.isInBlackList",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.isInBlackList","name","dataModel.isInBlackList",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.isInBlackList",1,"custom-control-label"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=E();r(0,"div",4),h(1,"app-progress-spinner",5),r(2,"div",6)(3,"p",7),d(4),a(),r(5,"p"),d(6),g(7,"translate"),a(),r(8,"form",8,0),I("ngSubmit",function(){return u(s),f(t.onFormSubmit())}),b(10,yp,1,5,"app-cms-enum-record-status-selector",9),r(11,"app-cms-user-selector",10),g(12,"translate"),I("optionChange",function(m){return u(s),f(t.onActionSelectorCmsUser(m))}),a(),b(13,kp,8,2,"div",11)(14,Lp,9,6,"div",12),r(15,"div",13)(16,"label",14),d(17),a(),r(18,"input",15,1),g(20,"translate"),y("ngModelChange",function(m){return u(s),w(t.dataModel.currentDebtor,m)||(t.dataModel.currentDebtor=m),f(m)}),a(),b(21,xp,1,0,"i",16)(22,Dp,1,0,"i",17)(23,Rp,5,3,"mat-error",18),a(),r(24,"div",13)(25,"label",19),d(26),a(),r(27,"input",20,2),g(29,"translate"),y("ngModelChange",function(m){return u(s),w(t.dataModel.currentCreditor,m)||(t.dataModel.currentCreditor=m),f(m)}),a(),b(30,Bp,1,0,"i",16)(31,Pp,1,0,"i",17)(32,Vp,5,3,"mat-error",18),a(),b(33,Op,9,7,"div",21),a()()()}if(i&2){let s=x(19),M=x(28);o(),c("optionsInfoAreaId",t.constructorInfoAreaId),o(3),S(" ",t.formInfo.formTitle," "),o(2),S(" ",_(7,24,"TITLE.Be_Careful_When_Entering_Information")," "),o(4),c("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),o(),c("optionDisabled",!(t.fieldsInfo.linkExternalCmsUserId!=null&&t.fieldsInfo.linkExternalCmsUserId.accessAddField))("optionSelectForce",t.dataModel.linkExternalCmsUserId)("optionPlaceholder",_(12,26,"TITLE.Account")),o(2),c("ngIf",t.fieldsInfo.isInBlackList==null?null:t.fieldsInfo.isInBlackList.accessWatchField),o(),c("ngIf",t.fieldsInfo.description==null?null:t.fieldsInfo.description.accessWatchField),o(3),v(t.fieldsInfo.currentDebtor==null?null:t.fieldsInfo.currentDebtor.fieldTitle),o(),c("placeholder",k(_(20,28,"TITLE.Current_Credit_Of_Debtor"))),T("ngModel",t.dataModel.currentDebtor),o(3),c("ngIf",!s.value),o(),c("ngIf",s.value),o(),c("ngIf",s.errors==null?null:s.errors.required),o(3),v(t.fieldsInfo.currentCreditor==null?null:t.fieldsInfo.currentCreditor.fieldTitle),o(),c("placeholder",k(_(29,30,"TITLE.Current_Credit_Of_Creditor"))),T("ngModel",t.dataModel.currentCreditor),o(3),c("ngIf",!M.value),o(),c("ngIf",M.value),o(),c("ngIf",M.errors==null?null:M.errors.required),o(),c("ngIf",t.formInfo.formSubmitAllow)}},dependencies:[F,ve,U,Oe,Ft,z,Ce,Q,fe,ge,$,be,Ie,G,we,ho,q,V],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});var Go=Qn;var Fp=()=>["expandedTitle"],Gp=()=>["expandedDetail"],Wp=()=>[5,10,20,100],Ar=n=>({display:n});function Hp(n,l){if(n&1){let e=E();r(0,"div",42)(1,"a",43),I("click",function(){u(e);let t=p();return f(t.onActionButtonNewRow())}),h(2,"i",44)(3,"br"),a(),r(4,"p",45),d(5),g(6,"translate"),a()()}n&2&&(o(5),v(_(6,1,"ACTION.ADD")))}function qp(n,l){if(n&1){let e=E();r(0,"div",42)(1,"a",46),I("click",function(){u(e);let t=p();return f(t.onActionButtonEditRow(t.tableRowSelected))}),h(2,"i",47)(3,"br"),a(),r(4,"p",45),d(5),g(6,"translate"),a()()}n&2&&(o(5),v(_(6,1,"ACTION.EDIT")))}function jp(n,l){if(n&1){let e=E();r(0,"div",42)(1,"a",48),I("click",function(){u(e);let t=p();return f(t.onActionButtonDeleteRow(t.tableRowSelected))}),h(2,"i",49)(3,"br"),a(),r(4,"p",45),d(5),g(6,"translate"),a()()}n&2&&(o(5),v(_(6,1,"ACTION.DELETE")))}function Up(n,l){n&1&&(r(0,"mat-header-cell"),d(1),g(2,"translate"),a()),n&2&&(o(),S(" ",_(2,1,"TITLE.MENU")," "))}function zp(n,l){if(n&1){let e=E();r(0,"mat-cell")(1,"button",50),I("click",function(){let t=u(e).$implicit,s=p();return f(s.onActionTableRowSelectActionMenu(t))}),h(2,"i",51),a()()}}function Qp(n,l){if(n&1&&(r(0,"mat-header-cell",52),d(1),a()),n&2){let e=p();o(),S(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function Kp(n,l){if(n&1&&(r(0,"mat-cell"),d(1),a()),n&2){let e=l.$implicit;o(),S(" ",e.id," ")}}function Jp(n,l){if(n&1&&(r(0,"mat-header-cell",52),d(1),a()),n&2){let e=p();o(),S(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function Xp(n,l){if(n&1&&(r(0,"mat-cell"),d(1),g(2,"cmssiteinfo"),g(3,"async"),a()),n&2){let e=l.$implicit;o(),S(" ",_(3,3,_(2,1,e.linkSiteId))," ")}}function Yp(n,l){if(n&1&&(r(0,"mat-header-cell",52),d(1),a()),n&2){let e=p();o(),S(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function Zp(n,l){if(n&1&&h(0,"select",55),n&2){let e=p().$implicit,i=p();c("contentService",i.contentService)("row",e)("ngStyle",ze(3,Ar,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function $p(n,l){if(n&1&&(r(0,"mat-cell"),h(1,"i",53),g(2,"statusIconClass"),b(3,Zp,1,5,"select",54),a()),n&2){let e=l.$implicit,i=p();o(),c("ngClass",_(2,2,e.recordStatus)),o(2),c("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessEditRow)}}function e0(n,l){if(n&1&&(r(0,"mat-header-cell",52),d(1),a()),n&2){let e=p();o(),S(" ",e.fieldsInfo.isInBlackList==null?null:e.fieldsInfo.isInBlackList.fieldTitle," ")}}function t0(n,l){if(n&1&&(r(0,"mat-cell"),h(1,"i",53),g(2,"boolclass"),a()),n&2){let e=l.$implicit;o(),c("ngClass",_(2,1,e.isInBlackList))}}function i0(n,l){if(n&1&&(r(0,"mat-header-cell",52),d(1),a()),n&2){let e=p();o(),S(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function n0(n,l){if(n&1&&(r(0,"mat-cell"),d(1),g(2,"localeDate"),a()),n&2){let e=l.$implicit;o(),S(" ",_(2,1,e.createdDate)," ")}}function o0(n,l){if(n&1&&(r(0,"mat-header-cell",52),d(1),a()),n&2){let e=p();o(),S(" ",e.fieldsInfo.updatedDate==null?null:e.fieldsInfo.updatedDate.fieldTitle," ")}}function r0(n,l){if(n&1&&(r(0,"mat-cell"),d(1),g(2,"localeDate"),a()),n&2){let e=l.$implicit;o(),S(" ",_(2,1,e.updatedDate)," ")}}function a0(n,l){if(n&1&&(r(0,"mat-header-cell",52),d(1),a()),n&2){let e=p();o(),S(" ",e.fieldsInfo.currentDebtor==null?null:e.fieldsInfo.currentDebtor.fieldTitle," ")}}function l0(n,l){if(n&1&&(r(0,"mat-cell"),d(1),a()),n&2){let e=l.$implicit;o(),S(" ",e.currentDebtor," ")}}function s0(n,l){if(n&1&&(r(0,"mat-header-cell",52),d(1),a()),n&2){let e=p();o(),S(" ",e.fieldsInfo.currentCreditor==null?null:e.fieldsInfo.currentCreditor.fieldTitle," ")}}function c0(n,l){if(n&1&&(r(0,"mat-cell"),d(1),a()),n&2){let e=l.$implicit;o(),S(" ",e.currentCreditor," ")}}function d0(n,l){n&1&&(r(0,"mat-header-cell"),d(1),g(2,"translate"),a()),n&2&&(o(),S(" ",_(2,1,"TITLE.OPTION")," "))}function m0(n,l){if(n&1&&(r(0,"mat-cell",56)(1,"button",57)(2,"mat-icon"),d(3,"more_vert"),a()(),h(4,"mat-menu",null,2),a()),n&2){let e=x(5);o(),c("matMenuTriggerFor",e)}}function p0(n,l){if(n&1&&(r(0,"mat-cell"),d(1),g(2,"translate"),g(3,"localeDate"),h(4,"br"),d(5),g(6,"translate"),g(7,"localeDate"),a()),n&2){let e=l.$implicit;o(),Be(" ",_(2,4,"TITLE.CreationDate")," : ",_(3,6,e.createdDate)," "),o(4),Be(" ",_(6,8,"TITLE.DateOfUpdate")," : ",_(7,10,e.updatedDate)," ")}}function u0(n,l){if(n&1&&(h(0,"img",62),g(1,"cmsthumbnail")),n&2){let e=p().$implicit;c("src",k(_(1,2,e.linkMainImageIdSrc)),K)}}function f0(n,l){if(n&1&&(r(0,"tr"),h(1,"td"),r(2,"td"),d(3),a()()),n&2){let e=p().$implicit,i=p();o(3),Be(" ",i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle," : ",e.description," ")}}function g0(n,l){if(n&1){let e=E();r(0,"mat-cell")(1,"div")(2,"table")(3,"tr")(4,"th"),b(5,u0,2,4,"img",58),a(),r(6,"th")(7,"span",59),I("click",function(){u(e);let t=p();return f(t.onActionCopied())}),h(8,"i",60),a(),d(9),a()(),b(10,f0,4,2,"tr",61),r(11,"tr"),h(12,"td")(13,"td"),a()()()()}if(n&2){let e=l.$implicit;o(5),c("ngIf",(e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0),o(2),c("cdkCopyToClipboard",e.id),o(2),S(" ",e.id," "),o(),c("ngIf",e.description)}}function _0(n,l){n&1&&h(0,"mat-header-row")}function S0(n,l){if(n&1){let e=E();r(0,"mat-row",63),I("click",function(){let t=u(e).$implicit,s=p();return f(s.onActionTableRowSelect(t))})("mouseenter",function(){let t=u(e).$implicit,s=p();return f(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=u(e).$implicit,s=p();return f(s.onActionTableRowMouseLeave(t))}),a()}if(n&2){let e=l.$implicit,i=l.dataIndex,t=p();se("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",e.id===(t.tableRowSelected==null?null:t.tableRowSelected.id))}}function h0(n,l){if(n&1){let e=E();r(0,"mat-row",63),I("click",function(){let t=u(e).$implicit,s=p();return f(s.onActionTableRowSelect(t))})("mouseenter",function(){let t=u(e).$implicit,s=p();return f(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=u(e).$implicit,s=p();return f(s.onActionTableRowMouseLeave(t))}),a()}if(n&2){let e=l.$implicit,i=l.dataIndex,t=p();se("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",e.id===(t.tableRowSelected==null?null:t.tableRowSelected.id))}}function M0(n,l){if(n&1){let e=E();r(0,"mat-row",64),I("click",function(){let t=u(e).$implicit,s=p();return f(s.onActionTableRowSelect(t))})("mouseenter",function(){let t=u(e).$implicit,s=p();return f(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=u(e).$implicit,s=p();return f(s.onActionTableRowMouseLeave(t))}),a()}if(n&2){let e=l.$implicit,i=l.dataIndex,t=p();se("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",e.id===(t.tableRowSelected==null?null:t.tableRowSelected.id)),c("ngStyle",ze(7,Ar,e.expanded===!0?"":"none"))}}var Kn=class Kn extends Tt{constructor(e,i,t,s,M,m,D,H,j,he){super(e,new Bt,j,s,M);this.contentService=e;this.cmsToastrService=i;this.router=t;this.tokenHelper=s;this.translate=M;this.cmsStoreService=m;this.cdr=D;this.pageInfo=H;this.publicHelper=j;this.dialog=he;this.constructorInfoAreaId=this.constructor.name;this.filteModelContent=new Te;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["Id","RecordStatus","CurrentDebtor","CurrentCreditor","action_menu"];this.tabledisplayedColumnsMobileSource=["Id","RecordStatus","CurrentDebtor","CurrentCreditor","action_menu"];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:ye=>this.onSubmitOptionsSearch(ye)},this.filteModelContent.sortColumn="Id",this.filteModelContent.sortType=ce.Descending}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.cmsApiStoreSubscribe=this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>Ae(this,null,function*(){this.tokenInfo=e,this.DataGetAll()}))}ngOnDestroy(){this.cmsApiStoreSubscribe&&this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Bt);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.setAccessLoad(),this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),t.isSuccess?(this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=ce.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=ce.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=ce.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(){let e=new qt;e.disableClose=!0,e.autoFocus=!0,e.data={},this.dialog.open(No,e).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Go,{height:"90%",panelClass:i,enterAnimationDuration:ie.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:ie.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(s=>{this.cmsToastrService.typeErrorSelected(s)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Fo,{height:"90%",panelClass:i,enterAnimationDuration:ie.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:ie.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate&&this.DataGetAll()})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(m=>{i.set(m,0)}),this.translate.get("MESSAGE.All").subscribe(m=>{i.set(m,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(m=>{this.publicHelper.processService.processStart(t,m,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:m=>{m.isSuccess&&(this.translate.get("MESSAGE.All").subscribe(D=>{i.set(D,m.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)),this.publicHelper.processService.processStop(t)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(t,!1)}});let s=JSON.parse(JSON.stringify(this.filteModelContent)),M=new oe;M.propertyName="RecordStatus",M.value=tt.Available,s.filters.push(M),this.contentService.ServiceGetCount(s).subscribe({next:m=>{m.isSuccess&&(this.translate.get("MESSAGE.Active").subscribe(D=>{i.set(D,m.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)),this.publicHelper.processService.processStop(t)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonReload(){this.DataGetAll()}onActionCopied(){this.cmsToastrService.typeSuccessCopedToClipboard()}onSubmitOptionsSearch(e){e&&e.length>0&&(this.filteModelContent.filters=[...this.filteModelContent.filters,...e]),this.DataGetAll()}};Kn.\u0275fac=function(i){return new(i||Kn)(C(zt),C(O),C(Fe),C(We),C(P),C(Ge),C(B),C(It),C(N),C(je))},Kn.\u0275cmp=R({type:Kn,selectors:[["app-linkmanagement-member-list"]],standalone:!1,features:[J],decls:71,vars:33,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionActionRowDisplayMenuAct","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","","multiTemplateDataRows","",3,"matSortChange","dataSource"],["matColumnDef","action_menu"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","RecordStatus"],["matColumnDef","IsInBlackList"],["matColumnDef","CreatedDate"],["matColumnDef","UpdatedDate"],["matColumnDef","CurrentDebtor"],["matColumnDef","CurrentCreditor"],["matColumnDef","Action"],["class","Action",4,"matCellDef"],["matColumnDef","expandedTitle"],["matColumnDef","expandedDetail"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","ngStyle","click","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],[1,"col-4"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#FFFFFF"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"click"],[1,"fa","fa-bars","font-18"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","80","width","80",3,"src",4,"ngIf"],[1,"navi-icon","pointer",3,"click","cdkCopyToClipboard"],[1,"flaticon2-copy"],[4,"ngIf"],["aria-hidden","","height","80","width","80",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"click","mouseenter","mouseleave"],[3,"click","mouseenter","mouseleave","ngStyle"]],template:function(i,t){if(i&1){let s=E();r(0,"app-cms-html-list",3),y("optionActionGuideNoticeDisplayChange",function(m){return u(s),w(t.viewGuideNotice,m)||(t.viewGuideNotice=m),f(m)}),I("optionOnActionButtonMemoRow",function(){return u(s),f(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return u(s),f(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return u(s),f(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return u(s),f(t.onActionButtonPrintRow())}),A(1,4),d(2," ---------------------- "),L(),Re(3,5)(4,6),A(5,7),r(6,"a",8),I("click",function(){return u(s),f(t.viewGuideNotice=!t.viewGuideNotice)}),h(7,"i",9),a(),r(8,"a",8),I("click",function(){return u(s),f(t.onActionButtonReload())}),h(9,"i",10),a(),L(),A(10,11),r(11,"a",12),I("click",function(){return u(s),f(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),h(12,"mat-slide-toggle",13),d(13),g(14,"translate"),a(),r(15,"a",12),I("click",function(){return u(s),f(t.onActionButtonStatist())}),h(16,"mat-slide-toggle",13),d(17),g(18,"translate"),a(),L(),A(19,14),b(20,Hp,7,3,"div",15),L(),A(21,16),b(22,qp,7,3,"div",15)(23,jp,7,3,"div",15),L(),A(24,17),r(25,"app-cms-search-list",18),y("optionsChange",function(m){return u(s),w(t.optionsSearch,m)||(t.optionsSearch=m),f(m)}),a(),r(26,"app-cms-statist-list",18),y("optionsChange",function(m){return u(s),w(t.optionsStatist,m)||(t.optionsStatist=m),f(m)}),a(),L(),A(27,19),r(28,"mat-table",20,0),I("matSortChange",function(){u(s);let m=x(29);return f(t.onTableSortData(m))}),A(30,21),b(31,Up,3,3,"mat-header-cell",22)(32,zp,3,0,"mat-cell",23),L(),A(33,24),b(34,Qp,2,1,"mat-header-cell",25)(35,Kp,2,1,"mat-cell",23),L(),A(36,26),b(37,Jp,2,1,"mat-header-cell",25)(38,Xp,4,5,"mat-cell",23),L(),A(39,27),b(40,Yp,2,1,"mat-header-cell",25)(41,$p,4,4,"mat-cell",23),L(),A(42,28),b(43,e0,2,1,"mat-header-cell",25)(44,t0,3,3,"mat-cell",23),L(),A(45,29),b(46,i0,2,1,"mat-header-cell",25)(47,n0,3,3,"mat-cell",23),L(),A(48,30),b(49,o0,2,1,"mat-header-cell",25)(50,r0,3,3,"mat-cell",23),L(),A(51,31),b(52,a0,2,1,"mat-header-cell",25)(53,l0,2,1,"mat-cell",23),L(),A(54,32),b(55,s0,2,1,"mat-header-cell",25)(56,c0,2,1,"mat-cell",23),L(),A(57,33),b(58,d0,3,3,"mat-header-cell",22)(59,m0,6,1,"mat-cell",34),L(),A(60,35),b(61,p0,8,12,"mat-cell",23),L(),A(62,36),b(63,g0,14,4,"mat-cell",23),L(),b(64,_0,1,0,"mat-header-row",37)(65,S0,1,6,"mat-row",38)(66,h0,1,6,"mat-row",38)(67,M0,1,9,"mat-row",39),a(),L(),A(68,40),r(69,"mat-paginator",41,1),I("page",function(m){return u(s),f(t.onTablePageingData(m))}),a(),L(),a()}i&2&&(c("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),T("optionActionGuideNoticeDisplay",t.viewGuideNotice),c("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelectDoubleClick)("optionActionRowDisplayMenuAct",t.tableRowSelectActionMenuClick)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),o(12),c("checked",t.optionsSearch.data.show),o(),S("",_(14,26,"ACTION.SEARCH")," "),o(3),c("checked",t.optionsStatist.data.show),o(),S("",_(18,28,"ACTION.STATIST")," "),o(3),c("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessAddRow),o(2),c("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),o(),c("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),o(2),T("options",t.optionsSearch),o(),T("options",t.optionsStatist),o(2),c("dataSource",t.tableSource),o(36),c("matHeaderRowDef",t.tabledisplayedColumns),o(),c("matRowDefColumns",Ve(30,Fp)),o(),c("matRowDefColumns",t.tabledisplayedColumns),o(),c("matRowDefColumns",Ve(31,Gp)),o(2),c("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",Ve(32,Wp)))},dependencies:[nt,F,Nt,qe,Le,G,lt,st,ct,dt,mt,pt,ut,gt,Mt,_t,ft,Ct,St,ht,bt,vt,Ii,wt,yt,kt,Qt,Ne,V,At,_e,Lt,xt,_o],encapsulation:2});var Wo=Kn;var C0=["vform"];function b0(n,l){if(n&1){let e=E();A(0),r(1,"div",7)(2,"label",8),d(3),a(),r(4,"input",9,0),y("ngModelChange",function(t){u(e);let s=p();return w(s.dataModelResultContent.item.id,t)||(s.dataModelResultContent.item.id=t),f(t)}),a()(),L()}if(n&2){let e=p();o(3),v(e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle),o(),c("placeholder",k(e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle)),T("ngModel",e.dataModelResultContent.item.id)}}function v0(n,l){if(n&1){let e=E();r(0,"div",10)(1,"button",11),I("click",function(){u(e);let t=p();return f(t.onFormCancel())}),h(2,"i",12),d(3),g(4,"translate"),a(),r(5,"button",13),I("click",function(){u(e);let t=p();return f(t.onFormDelete())}),h(6,"i",14),d(7),g(8,"translate"),a()()}if(n&2){let e=p();o(3),S(" ",_(4,3,"ACTION.CANCEL")," "),o(2),c("disabled",!e.formInfo.buttonSubmittedEnabled),o(2),S(" ",_(8,5,"ACTION.DELETE")," ")}}var Jn=class Jn{constructor(l,e,i,t,s,M,m){this.data=l;this.dialogRef=e;this.publicHelper=i;this.linkManagementTargetBillboardLogService=t;this.cdr=s;this.translate=M;this.cmsToastrService=m;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.dataModelResultContent=new W;this.formInfo=new ee;this.publicHelper.processService.cdr=this.cdr,l&&l.id&&(this.requestId=l.id)}ngOnInit(){if(this.requestId.length<=0){this.cmsToastrService.typeErrorDeleteRowIsNull(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOne()}DataGetOne(){if(this.requestId.length===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.translate.get("TITLE.Loading_Information").subscribe(e=>{this.formInfo.formAlert=e});let l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(l,e,this.constructorInfoAreaId)}),this.linkManagementTargetBillboardLogService.setAccessLoad(),this.linkManagementTargetBillboardLogService.setAccessDataType(Ee.Editor),this.linkManagementTargetBillboardLogService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModelResultContent=e,e.isSuccess?this.formInfo.formAlert="":(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError=e.errorMessage,this.formInfo.formErrorStatus=!0,this.cmsToastrService.typeErrorGetOne()),this.publicHelper.processService.processStop(l)},error:e=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formErrorStatus=!0,this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(l,!1)}})}onFormDelete(){if(this.requestId.length===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.formInfo.formSubmitAllow=!1,this.formInfo.buttonSubmittedEnabled=!1;let l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(l,e,this.constructorInfoAreaId)}),this.linkManagementTargetBillboardLogService.ServiceDelete(this.requestId).subscribe({next:e=>{this.formInfo.formSubmitAllow=!e.isSuccess,e.isSuccess?(this.translate.get("MESSAGE.Deletion_Was_Successful").subscribe(i=>{this.formInfo.formAlert=i}),this.cmsToastrService.typeSuccessRemove(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError=e.errorMessage,this.cmsToastrService.typeErrorRemove()),this.formInfo.buttonSubmittedEnabled=!0,this.publicHelper.processService.processStop(l)},error:e=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(e),this.formInfo.buttonSubmittedEnabled=!0,this.publicHelper.processService.processStop(l)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Jn.\u0275fac=function(e){return new(e||Jn)(C(ae),C(re),C(N),C(vi),C(B),C(P),C(O))},Jn.\u0275cmp=R({type:Jn,selectors:[["app-linkmanagement-target-billboard-log-delete"]],viewQuery:function(e,i){if(e&1&&X(C0,5),e&2){let t;Y(t=Z())&&(i.formGroup=t.first)}},standalone:!1,decls:11,vars:7,consts:[["Writer",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[4,"ngIf"],["class","form-actions",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModelResultContent.item.id",1,"color-highlight"],["matInput","","name","dataModelResultContent.item.id","type","text","required","","id","dataModelResultContent.item.id","readonly","",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click","disabled"],[1,"fa","fa-check-square-o"]],template:function(e,i){e&1&&(r(0,"div",1),h(1,"app-progress-spinner",2),r(2,"div",3)(3,"p",4),d(4," \u062D\u0633\u0627\u0628 \u06A9\u0627\u0631\u0628\u0631\u06CC \u062E\u0648\u062F \u0631\u0627 \u0648\u06CC\u0631\u0627\u06CC\u0634 \u06A9\u0646\u06CC\u062F "),a(),r(5,"p"),d(6),g(7,"translate"),a(),d(8),b(9,b0,6,4,"ng-container",5)(10,v0,9,7,"div",6),a()()),e&2&&(o(),c("optionsInfoAreaId",i.constructorInfoAreaId),o(5),S(" ",_(7,5,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),S(" ",i.formInfo.formTitle," "),o(),c("ngIf",i.dataModelResultContent==null?null:i.dataModelResultContent.item),o(),c("ngIf",i.formInfo.formSubmitAllow))},dependencies:[F,U,z,Q,$,G,q,V],encapsulation:2});var Ho=Jn;var I0=["vform"];function E0(n,l){if(n&1){let e=E();r(0,"app-cms-enum-record-status-selector",31),y("modelChange",function(t){u(e);let s=p();return w(s.dataModel.recordStatus,t)||(s.dataModel.recordStatus=t),f(t)}),a()}if(n&2){let e=p();T("model",e.dataModel.recordStatus),c("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function T0(n,l){n&1&&(r(0,"mat-error"),d(1," ClickPrice is "),r(2,"strong"),d(3),g(4,"translate"),a()()),n&2&&(o(3),v(_(4,1,"MESSAGE.required")))}function w0(n,l){n&1&&(r(0,"mat-error"),d(1," ViewPrice is "),r(2,"strong"),d(3),g(4,"translate"),a()()),n&2&&(o(3),v(_(4,1,"MESSAGE.required")))}function y0(n,l){n&1&&(r(0,"mat-error"),d(1," DeviceId is "),r(2,"strong"),d(3),g(4,"translate"),a()()),n&2&&(o(3),v(_(4,1,"MESSAGE.required")))}function k0(n,l){n&1&&(r(0,"mat-error"),d(1," IpAddress is "),r(2,"strong"),d(3),g(4,"translate"),a()()),n&2&&(o(3),v(_(4,1,"MESSAGE.required")))}function A0(n,l){n&1&&(r(0,"mat-error"),d(1," BrowserName is "),r(2,"strong"),d(3),g(4,"translate"),a()()),n&2&&(o(3),v(_(4,1,"MESSAGE.required")))}function L0(n,l){if(n&1){let e=E();r(0,"div",32)(1,"button",33),I("click",function(){u(e);let t=p();return f(t.onFormCancel())}),h(2,"i",34),d(3),g(4,"translate"),a(),r(5,"button",35),h(6,"i",36),d(7),g(8,"translate"),a()()}if(n&2){p();let e=x(9);o(3),S(" ",_(4,3,"ACTION.CANCEL")," "),o(2),c("disabled",!e.form.valid),o(2),S(" ",_(8,5,"ACTION.SAVE")," ")}}var Xn=class Xn extends Ze{constructor(e,i,t,s,M,m,D,H){super(s,new Ui,m,H);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.categoryService=s;this.cmsToastrService=M;this.publicHelper=m;this.cdr=D;this.translate=H;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new Je;this.dataModel=new Ui;this.formInfo=new ee;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,e&&e.id&&(this.requestId=e.id+""),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.requestId.length>0)this.translate.get("TITLE.Edit_Categories").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}}DataGetOneContent(){if(this.requestId.length<=0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.categoryService.setAccessLoad(),this.categoryService.setAccessDataType(Ee.Editor),this.categoryService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.categoryService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.formAlert=t}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorLinkManagementBillboardId(e){if(!e||!e.id||e.id<=0){this.translate.get("MESSAGE.Information_billboard_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkManagementBillboardId=e.id}onActionSelectorLinkManagementTargetId(e){if(!e||!e.id||e.id<=0){this.translate.get("MESSAGE.Information_target_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkManagementTargetId=e.id}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Xn.\u0275fac=function(i){return new(i||Xn)(C(ae),C(re),C(te),C(vi),C(O),C(N),C(B),C(P))},Xn.\u0275cmp=R({type:Xn,selectors:[["app-linkmanagement-target-billboard-log-edit"]],viewQuery:function(i,t){if(i&1&&X(I0,5),i&2){let s;Y(s=Z())&&(t.formGroup=s.first)}},standalone:!1,features:[J],decls:60,vars:47,consts:[["vform","ngForm"],["LinkManagementBillboardId",""],["LinkManagementTargetId",""],["ClickPrice",""],["ViewPrice",""],["DeviceId",""],["IpAddress",""],["BrowserName",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.linkManagementBillboardId",1,"color-highlight"],["matInput","","type","number","name","dataModel.linkManagementBillboardId","id","dataModel.linkManagementBillboardId",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.linkManagementTargetId",1,"color-highlight"],["matInput","","type","number","name","dataModel.linkManagementTargetId","id","dataModel.linkManagementTargetId",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.clickPrice",1,"color-highlight"],["matInput","","type","number","name","dataModel.clickPrice","minlength","0","id","dataModel.clickPrice",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[4,"ngIf"],["for","dataModel.viewPrice",1,"color-highlight"],["matInput","","type","number","name","dataModel.viewPrice","minlength","0","id","dataModel.viewPrice",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.deviceId",1,"color-highlight"],["matInput","","type","number","name","dataModel.deviceId","minlength","3","maxlength","100","required","","id","dataModel.deviceId",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.ipAddress",1,"color-highlight"],["matInput","","type","text","name","dataModel.ipAddress","minlength","3","maxlength","100","required","","id","dataModel.ipAddress",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.browserName",1,"color-highlight"],["matInput","","type","text","name","dataModel.browserName","minlength","3","maxlength","100","required","","id","dataModel.browserName",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=E();r(0,"div",8),h(1,"app-progress-spinner",9),r(2,"div",10)(3,"p",11),d(4),a(),r(5,"p"),d(6),g(7,"translate"),a(),r(8,"form",12,0),I("ngSubmit",function(){return u(s),f(t.onFormSubmit())}),b(10,E0,1,5,"app-cms-enum-record-status-selector",13),r(11,"div",14)(12,"label",15),d(13),a(),r(14,"input",16,1),y("ngModelChange",function(m){return u(s),w(t.dataModel.linkManagementBillboardId,m)||(t.dataModel.linkManagementBillboardId=m),f(m)}),a()(),r(16,"div",14)(17,"label",17),d(18),a(),r(19,"input",18,2),y("ngModelChange",function(m){return u(s),w(t.dataModel.linkManagementTargetId,m)||(t.dataModel.linkManagementTargetId=m),f(m)}),a()(),r(21,"div",14)(22,"label",19),d(23),a(),r(24,"input",20,3),g(26,"translate"),y("ngModelChange",function(m){return u(s),w(t.dataModel.clickPrice,m)||(t.dataModel.clickPrice=m),f(m)}),a(),b(27,T0,5,3,"mat-error",21),a(),r(28,"div",14)(29,"label",22),d(30),a(),r(31,"input",23,4),g(33,"translate"),y("ngModelChange",function(m){return u(s),w(t.dataModel.viewPrice,m)||(t.dataModel.viewPrice=m),f(m)}),a(),b(34,w0,5,3,"mat-error",21),a(),r(35,"div",14)(36,"label",24),d(37),a(),r(38,"input",25,5),y("ngModelChange",function(m){return u(s),w(t.dataModel.deviceId,m)||(t.dataModel.deviceId=m),f(m)}),a(),r(40,"em"),d(41),a(),b(42,y0,5,3,"mat-error",21),a(),r(43,"div",14)(44,"label",26),d(45),a(),r(46,"input",27,6),y("ngModelChange",function(m){return u(s),w(t.dataModel.ipAddress,m)||(t.dataModel.ipAddress=m),f(m)}),a(),r(48,"em"),d(49),a(),b(50,k0,5,3,"mat-error",21),a(),r(51,"div",14)(52,"label",28),d(53),a(),r(54,"input",29,7),y("ngModelChange",function(m){return u(s),w(t.dataModel.browserName,m)||(t.dataModel.browserName=m),f(m)}),a(),r(56,"em"),d(57),a(),b(58,A0,5,3,"mat-error",21),a(),b(59,L0,9,7,"div",30),a()()()}if(i&2){let s=x(25),M=x(32),m=x(39),D=x(47),H=x(55);o(),c("optionsInfoAreaId",t.constructorInfoAreaId),o(3),S(" ",t.formInfo.formTitle," "),o(2),S(" ",_(7,41,"TITLE.Be_Careful_When_Entering_Information")," "),o(4),c("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),o(3),v(t.fieldsInfo.linkManagementBillboardId==null?null:t.fieldsInfo.linkManagementBillboardId.fieldTitle),o(),c("placeholder",k(t.fieldsInfo.linkManagementBillboardId==null?null:t.fieldsInfo.linkManagementBillboardId.fieldTitle)),T("ngModel",t.dataModel.linkManagementBillboardId),o(4),v(t.fieldsInfo.linkManagementTargetId==null?null:t.fieldsInfo.linkManagementTargetId.fieldTitle),o(),c("placeholder",k(t.fieldsInfo.linkManagementTargetId==null?null:t.fieldsInfo.linkManagementTargetId.fieldTitle)),T("ngModel",t.dataModel.linkManagementTargetId),o(4),v(t.fieldsInfo.clickPrice==null?null:t.fieldsInfo.clickPrice.fieldTitle),o(),c("placeholder",k(_(26,43,"TITLE.Amount_Per_Click"))),T("ngModel",t.dataModel.clickPrice),o(3),c("ngIf",s.errors==null?null:s.errors.required),o(3),v(t.fieldsInfo.viewPrice==null?null:t.fieldsInfo.viewPrice.fieldTitle),o(),c("placeholder",k(_(33,45,"TITLE.Amount_Per_Show"))),T("ngModel",t.dataModel.viewPrice),o(3),c("ngIf",M.errors==null?null:M.errors.required),o(3),v(t.fieldsInfo.deviceId==null?null:t.fieldsInfo.deviceId.fieldTitle),o(),c("placeholder",k(t.fieldsInfo.deviceId==null?null:t.fieldsInfo.deviceId.fieldTitle)),T("ngModel",t.dataModel.deviceId),o(3),S("",m.value.length," / 100"),o(),c("ngIf",m.errors==null?null:m.errors.required),o(3),v(t.fieldsInfo.ipAddress==null?null:t.fieldsInfo.ipAddress.fieldTitle),o(),c("placeholder",k(t.fieldsInfo.ipAddress==null?null:t.fieldsInfo.ipAddress.fieldTitle)),T("ngModel",t.dataModel.ipAddress),o(3),S("",D.value.length," / 100"),o(),c("ngIf",D.errors==null?null:D.errors.required),o(3),v(t.fieldsInfo.browserName==null?null:t.fieldsInfo.browserName.fieldTitle),o(),c("placeholder",k(t.fieldsInfo.browserName==null?null:t.fieldsInfo.browserName.fieldTitle)),T("ngModel",t.dataModel.browserName),o(3),S("",H.value.length," / 100"),o(),c("ngIf",H.errors==null?null:H.errors.required),o(),c("ngIf",t.formInfo.formSubmitAllow)}},dependencies:[F,ve,U,Oe,z,Ce,Q,fe,ge,$,be,Ie,G,we,q,V],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});var qo=Xn;var D0=()=>["expandedTitle"],R0=()=>["expandedDetail"],B0=()=>[5,10,20,100],Lr=n=>({display:n});function P0(n,l){if(n&1){let e=E();r(0,"a",44),I("click",function(){u(e);let t=p();return f(t.onActionBackToParent())}),h(1,"i",45),a()}}function V0(n,l){if(n&1){let e=E();r(0,"div",46)(1,"a",47),I("click",function(){u(e);let t=p();return f(t.onActionButtonEditRow(t.tableRowSelected))}),h(2,"i",48)(3,"br"),a(),r(4,"p",49),d(5),g(6,"translate"),a()()}n&2&&(o(5),v(_(6,1,"ACTION.EDIT")))}function O0(n,l){if(n&1){let e=E();r(0,"div",46)(1,"a",50),I("click",function(){u(e);let t=p();return f(t.onActionButtonDeleteRow(t.tableRowSelected))}),h(2,"i",51)(3,"br"),a(),r(4,"p",49),d(5),g(6,"translate"),a()()}n&2&&(o(5),v(_(6,1,"ACTION.DELETE")))}function N0(n,l){if(n&1){let e=E();r(0,"div",46)(1,"a",52),I("click",function(){u(e);let t=p();return f(t.onActionButtonViewRowLinkTargetId(t.tableRowSelected))}),h(2,"i",53)(3,"br"),a(),r(4,"p",49),d(5),g(6,"translate"),a()()}n&2&&(o(5),v(_(6,1,"ACTION.BANNER")))}function F0(n,l){if(n&1){let e=E();r(0,"div",46)(1,"a",52),I("click",function(){u(e);let t=p();return f(t.onActionButtonViewRowLinkbillboardId(t.tableRowSelected))}),h(2,"i",54)(3,"br"),a(),r(4,"p",49),d(5),g(6,"translate"),a()()}n&2&&(o(5),v(_(6,1,"ACTION.BILLBOARD")))}function G0(n,l){n&1&&(r(0,"mat-header-cell"),d(1),g(2,"translate"),a()),n&2&&(o(),S(" ",_(2,1,"TITLE.MENU")," "))}function W0(n,l){if(n&1){let e=E();r(0,"mat-cell")(1,"button",55),I("click",function(){let t=u(e).$implicit,s=p();return f(s.onActionTableRowSelectActionMenu(t))}),h(2,"i",56),a()()}}function H0(n,l){if(n&1&&(r(0,"mat-header-cell",57),d(1),a()),n&2){let e=p();o(),S(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function q0(n,l){if(n&1&&(r(0,"mat-cell"),d(1),a()),n&2){let e=l.$implicit;o(),S(" ",e.id," ")}}function j0(n,l){if(n&1&&(r(0,"mat-header-cell",57),d(1),a()),n&2){let e=p();o(),S(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function U0(n,l){if(n&1&&(r(0,"mat-cell"),d(1),g(2,"cmssiteinfo"),g(3,"async"),a()),n&2){let e=l.$implicit;o(),S(" ",_(3,3,_(2,1,e.linkSiteId))," ")}}function z0(n,l){if(n&1&&(r(0,"mat-header-cell",57),d(1),a()),n&2){let e=p();o(),S(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function Q0(n,l){if(n&1&&h(0,"select",60),n&2){let e=p().$implicit,i=p();c("contentService",i.contentService)("row",e)("ngStyle",ze(3,Lr,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function K0(n,l){if(n&1&&(r(0,"mat-cell"),h(1,"i",58),g(2,"statusIconClass"),b(3,Q0,1,5,"select",59),a()),n&2){let e=l.$implicit,i=p();o(),c("ngClass",_(2,2,e.recordStatus)),o(2),c("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessEditRow)}}function J0(n,l){if(n&1&&(r(0,"mat-header-cell",57),d(1),a()),n&2){let e=p();o(),S(" ",e.fieldsInfo.clickPrice==null?null:e.fieldsInfo.clickPrice.fieldTitle," ")}}function X0(n,l){if(n&1&&(r(0,"mat-cell"),d(1),a()),n&2){let e=l.$implicit;o(),S(" ",e.clickPrice," ")}}function Y0(n,l){if(n&1&&(r(0,"mat-header-cell",57),d(1),a()),n&2){let e=p();o(),S(" ",e.fieldsInfo.viewPrice==null?null:e.fieldsInfo.viewPrice.fieldTitle," ")}}function Z0(n,l){if(n&1&&(r(0,"mat-cell"),d(1),a()),n&2){let e=l.$implicit;o(),S(" ",e.viewPrice," ")}}function $0(n,l){if(n&1&&(r(0,"mat-header-cell",57),d(1),a()),n&2){let e=p();o(),S(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function eu(n,l){if(n&1&&(r(0,"mat-cell",61),d(1),g(2,"localeDateTime"),a()),n&2){let e=l.$implicit;o(),S(" ",_(2,1,e.createdDate)," ")}}function tu(n,l){if(n&1&&(r(0,"mat-header-cell",57),d(1),a()),n&2){let e=p();o(),S(" ",e.fieldsInfo.linkManagementBillboardId==null?null:e.fieldsInfo.linkManagementBillboardId.fieldTitle," ")}}function iu(n,l){if(n&1&&(r(0,"mat-cell"),d(1),a()),n&2){let e=l.$implicit;o(),S(" ",e.linkManagementBillboardId," ")}}function nu(n,l){if(n&1&&(r(0,"mat-header-cell",57),d(1),a()),n&2){let e=p();o(),S(" ",e.fieldsInfo.linkManagementTargetId==null?null:e.fieldsInfo.linkManagementTargetId.fieldTitle," ")}}function ou(n,l){if(n&1&&(r(0,"mat-cell"),d(1),a()),n&2){let e=l.$implicit;o(),S(" ",e.linkManagementTargetId," ")}}function ru(n,l){n&1&&(r(0,"mat-header-cell"),d(1),g(2,"translate"),a()),n&2&&(o(),S(" ",_(2,1,"TITLE.OPTION")," "))}function au(n,l){if(n&1&&(r(0,"mat-cell",62)(1,"button",63)(2,"mat-icon"),d(3,"more_vert"),a()(),h(4,"mat-menu",null,2),a()),n&2){let e=x(5);o(),c("matMenuTriggerFor",e)}}function lu(n,l){if(n&1&&(r(0,"mat-cell"),d(1),g(2,"translate"),g(3,"localeDate"),h(4,"br"),d(5),g(6,"translate"),a()),n&2){let e=l.$implicit;o(),Be(" ",_(2,4,"TITLE.CreationDate")," : ",_(3,6,e.createdDate)," "),o(4),Be(" ",_(6,8,"TITLE.Id")," : ",e.id," ")}}function su(n,l){if(n&1&&(h(0,"img",65),g(1,"cmsthumbnail")),n&2){let e=p().$implicit;c("src",k(_(1,2,e.linkMainImageIdSrc)),K)}}function cu(n,l){if(n&1&&(r(0,"mat-cell")(1,"div")(2,"table")(3,"tr")(4,"th"),b(5,su,2,4,"img",64),a(),r(6,"th"),d(7),a()(),r(8,"tr"),h(9,"td"),r(10,"td"),d(11),a()(),r(12,"tr"),h(13,"td"),r(14,"td"),d(15),a()(),r(16,"tr"),h(17,"td"),r(18,"td"),d(19),a()(),r(20,"tr"),h(21,"td")(22,"td"),a()()()()),n&2){let e=l.$implicit,i=p();o(5),c("ngIf",(e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0),o(2),Be("",i.fieldsInfo.id==null?null:i.fieldsInfo.id.fieldTitle," : ",e.id),o(4),Be("",i.fieldsInfo.ipAddress==null?null:i.fieldsInfo.ipAddress.fieldTitle," : ",e.ipAddress),o(4),Be("",i.fieldsInfo.deviceId==null?null:i.fieldsInfo.deviceId.fieldTitle," : ",e.deviceId),o(4),Be("",i.fieldsInfo.browserName==null?null:i.fieldsInfo.browserName.fieldTitle," : ",e.browserName)}}function du(n,l){n&1&&h(0,"mat-header-row")}function mu(n,l){if(n&1){let e=E();r(0,"mat-row",66),I("click",function(){let t=u(e).$implicit,s=p();return f(s.onActionTableRowSelect(t))})("mouseenter",function(){let t=u(e).$implicit,s=p();return f(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=u(e).$implicit,s=p();return f(s.onActionTableRowMouseLeave(t))}),a()}if(n&2){let e=l.$implicit,i=l.dataIndex,t=p();se("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",e.id===(t.tableRowSelected==null?null:t.tableRowSelected.id))}}function pu(n,l){if(n&1){let e=E();r(0,"mat-row",66),I("click",function(){let t=u(e).$implicit,s=p();return f(s.onActionTableRowSelect(t))})("mouseenter",function(){let t=u(e).$implicit,s=p();return f(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=u(e).$implicit,s=p();return f(s.onActionTableRowMouseLeave(t))}),a()}if(n&2){let e=l.$implicit,i=l.dataIndex,t=p();se("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",e.id===(t.tableRowSelected==null?null:t.tableRowSelected.id))}}function uu(n,l){if(n&1){let e=E();r(0,"mat-row",67),I("click",function(){let t=u(e).$implicit,s=p();return f(s.onActionTableRowSelect(t))})("mouseenter",function(){let t=u(e).$implicit,s=p();return f(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=u(e).$implicit,s=p();return f(s.onActionTableRowMouseLeave(t))}),a()}if(n&2){let e=l.$implicit,i=l.dataIndex,t=p();se("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",e.id===(t.tableRowSelected==null?null:t.tableRowSelected.id)),c("ngStyle",ze(7,Lr,e.expanded===!0?"":"none"))}}var Yn=class Yn extends Tt{constructor(e,i,t,s,M,m,D,H,j,he,ye){super(e,new Ui,he,M,D);this.contentService=e;this.cmsToastrService=i;this.activatedRoute=t;this.router=s;this.tokenHelper=M;this.cdr=m;this.translate=D;this.cmsStoreService=H;this.pageInfo=j;this.publicHelper=he;this.dialog=ye;this.requestLinkManagementBillboardId=0;this.requestLinkManagementTargetId=0;this.requestKey="";this.constructorInfoAreaId=this.constructor.name;this.filteModelContent=new Te;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["ClickPrice","ViewPrice","LinkManagementBillboardId","LinkManagementTargetId","action_menu"];this.tabledisplayedColumnsMobileSource=["ClickPrice","ViewPrice","LinkManagementBillboardId","LinkManagementTargetId","action_menu"];if(this.publicHelper.processService.cdr=this.cdr,this.requestLinkManagementBillboardId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkManagementBillboardId")),this.requestLinkManagementTargetId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkManagementTargetId")),this.activatedRoute.snapshot.paramMap.get("Key")&&(this.requestKey=this.activatedRoute.snapshot.paramMap.get("Key")),this.requestLinkManagementBillboardId>0){let ke=new oe;ke.propertyName="LinkManagementBillboardId",ke.value=this.requestLinkManagementBillboardId,this.filteModelContent.filters.push(ke)}if(this.requestLinkManagementTargetId>0){let ke=new oe;ke.propertyName="LinkManagementTargetId",ke.value=this.requestLinkManagementTargetId,this.filteModelContent.filters.push(ke)}this.optionsSearch.parentMethods={onSubmit:ke=>this.onSubmitOptionsSearch(ke)},this.filteModelContent.sortColumn="Id",this.filteModelContent.sortType=ce.Descending}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.cmsApiStoreSubscribe=this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>Ae(this,null,function*(){this.tokenInfo=e,this.DataGetAll()}))}ngOnDestroy(){this.cmsApiStoreSubscribe&&this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Ui);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.setAccessLoad(),this.requestKey&&this.requestKey.length>0?this.contentService.ServiceGetAllByKey(this.requestKey,i).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),t.isSuccess&&(this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}}):this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),t.isSuccess&&(this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=ce.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=ce.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=ce.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(qo,{height:"90%",panelClass:i,enterAnimationDuration:ie.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:ie.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(s=>{this.cmsToastrService.typeErrorSelected(s)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Ho,{height:"90%",panelClass:i,enterAnimationDuration:ie.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:ie.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate&&this.DataGetAll()})}onActionButtonViewRowLinkbillboardId(e=this.tableRowSelected,i){if(!e||!e.id||e.id.length===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}this.onActionTableRowSelect(e),i?.ctrlKey?(this.link="/#/linkmanagement/billboard/edit/"+this.tableRowSelected.linkManagementBillboardId,window.open(this.link,"_blank")):this.router.navigate(["/linkmanagement/billboard/edit",this.tableRowSelected.linkManagementBillboardId])}onActionButtonViewRowLinkTargetId(e=this.tableRowSelected,i){if(!e||!e.id||e.id.length===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}this.onActionTableRowSelect(e),i?.ctrlKey?(this.link="/#/linkmanagement/target/edit/"+this.tableRowSelected.linkManagementTargetId,window.open(this.link,"_blank")):this.router.navigate(["/linkmanagement/target/edit",this.tableRowSelected.linkManagementTargetId])}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(m=>{i.set(m,0)}),this.translate.get("MESSAGE.All").subscribe(m=>{i.set(m,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(m=>{this.publicHelper.processService.processStart(t,m,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:m=>{m.isSuccess?(this.translate.get("MESSAGE.All").subscribe(D=>{i.set(D,m.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(m.errorMessage),this.publicHelper.processService.processStop(t)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(t,!1)}});let s=JSON.parse(JSON.stringify(this.filteModelContent)),M=new oe;M.propertyName="RecordStatus",M.value=tt.Available,s.filters.push(M),this.contentService.ServiceGetCount(s).subscribe({next:m=>{m.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(D=>{i.set(D,m.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(m.errorMessage),this.publicHelper.processService.processStop(t)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0&&(this.filteModelContent.filters=[...this.filteModelContent.filters,...e]),this.DataGetAll()}onActionBackToParent(){this.requestLinkManagementBillboardId>0&&this.router.navigate(["/linkmanagement/billboard/"]),this.requestLinkManagementTargetId>0&&this.router.navigate(["/linkmanagement/target/"])}};Yn.\u0275fac=function(i){return new(i||Yn)(C(vi),C(O),C(Ke),C(Fe),C(We),C(B),C(P),C(Ge),C(It),C(N),C(je))},Yn.\u0275cmp=R({type:Yn,selectors:[["app-linkmanagement-target-billboard-log-list"]],standalone:!1,features:[J],decls:73,vars:35,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionActionRowDisplayMenuAct","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","","multiTemplateDataRows","",3,"matSortChange","dataSource"],["matColumnDef","action_menu"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","RecordStatus"],["matColumnDef","ClickPrice"],["matColumnDef","ViewPrice"],["matColumnDef","CreatedDate"],["style","direction:ltr",4,"matCellDef"],["matColumnDef","LinkManagementBillboardId"],["matColumnDef","LinkManagementTargetId"],["matColumnDef","Action"],["class","Action",4,"matCellDef"],["matColumnDef","expandedTitle"],["matColumnDef","expandedDetail"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","ngStyle","click","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-flag","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-billboard","font-18",2,"color","#ffffff"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"click"],[1,"fa","fa-bars","font-18"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[2,"direction","ltr"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","80","width","80",3,"src",4,"ngIf"],["aria-hidden","","height","80","width","80",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"click","mouseenter","mouseleave"],[3,"click","mouseenter","mouseleave","ngStyle"]],template:function(i,t){if(i&1){let s=E();r(0,"app-cms-html-list",3),y("optionActionGuideNoticeDisplayChange",function(m){return u(s),w(t.viewGuideNotice,m)||(t.viewGuideNotice=m),f(m)}),I("optionOnActionButtonMemoRow",function(){return u(s),f(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return u(s),f(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return u(s),f(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return u(s),f(t.onActionButtonPrintRow())}),A(1,4),d(2," ---------------------- "),L(),Re(3,5)(4,6),A(5,7),r(6,"a",8),I("click",function(){return u(s),f(t.viewGuideNotice=!t.viewGuideNotice)}),h(7,"i",9),a(),r(8,"a",8),I("click",function(){return u(s),f(t.onActionButtonReload())}),h(9,"i",10),a(),b(10,P0,2,0,"a",11),L(),A(11,12),r(12,"a",13),I("click",function(){return u(s),f(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),h(13,"mat-slide-toggle",14),d(14),g(15,"translate"),a(),r(16,"a",13),I("click",function(){return u(s),f(t.onActionButtonStatist())}),h(17,"mat-slide-toggle",14),d(18),g(19,"translate"),a(),L(),Re(20,15),A(21,16),b(22,V0,7,3,"div",17)(23,O0,7,3,"div",17)(24,N0,7,3,"div",17)(25,F0,7,3,"div",17),L(),A(26,18),r(27,"app-cms-search-list",19),y("optionsChange",function(m){return u(s),w(t.optionsSearch,m)||(t.optionsSearch=m),f(m)}),a(),r(28,"app-cms-statist-list",19),y("optionsChange",function(m){return u(s),w(t.optionsStatist,m)||(t.optionsStatist=m),f(m)}),a(),L(),A(29,20),r(30,"mat-table",21,0),I("matSortChange",function(){u(s);let m=x(31);return f(t.onTableSortData(m))}),A(32,22),b(33,G0,3,3,"mat-header-cell",23)(34,W0,3,0,"mat-cell",24),L(),A(35,25),b(36,H0,2,1,"mat-header-cell",26)(37,q0,2,1,"mat-cell",24),L(),A(38,27),b(39,j0,2,1,"mat-header-cell",26)(40,U0,4,5,"mat-cell",24),L(),A(41,28),b(42,z0,2,1,"mat-header-cell",26)(43,K0,4,4,"mat-cell",24),L(),A(44,29),b(45,J0,2,1,"mat-header-cell",26)(46,X0,2,1,"mat-cell",24),L(),A(47,30),b(48,Y0,2,1,"mat-header-cell",26)(49,Z0,2,1,"mat-cell",24),L(),A(50,31),b(51,$0,2,1,"mat-header-cell",26)(52,eu,3,3,"mat-cell",32),L(),A(53,33),b(54,tu,2,1,"mat-header-cell",26)(55,iu,2,1,"mat-cell",24),L(),A(56,34),b(57,nu,2,1,"mat-header-cell",26)(58,ou,2,1,"mat-cell",24),L(),A(59,35),b(60,ru,3,3,"mat-header-cell",23)(61,au,6,1,"mat-cell",36),L(),A(62,37),b(63,lu,7,10,"mat-cell",24),L(),A(64,38),b(65,cu,23,9,"mat-cell",24),L(),b(66,du,1,0,"mat-header-row",39)(67,mu,1,6,"mat-row",40)(68,pu,1,6,"mat-row",40)(69,uu,1,9,"mat-row",41),a(),L(),A(70,42),r(71,"mat-paginator",43,1),I("page",function(m){return u(s),f(t.onTablePageingData(m))}),a(),L(),a()}i&2&&(c("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),T("optionActionGuideNoticeDisplay",t.viewGuideNotice),c("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelectDoubleClick)("optionActionRowDisplayMenuAct",t.tableRowSelectActionMenuClick)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),o(10),c("ngIf",t.requestLinkManagementBillboardId>0||t.requestLinkManagementTargetId>0),o(3),c("checked",t.optionsSearch.data.show),o(),S("",_(15,28,"ACTION.SEARCH")," "),o(3),c("checked",t.optionsStatist.data.show),o(),S("",_(19,30,"ACTION.STATIST")," "),o(4),c("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),o(),c("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),o(),c("ngIf",(t.tableRowSelected==null?null:t.tableRowSelected.linkManagementTargetId)>0),o(),c("ngIf",(t.tableRowSelected==null?null:t.tableRowSelected.linkManagementBillboardId)>0),o(2),T("options",t.optionsSearch),o(),T("options",t.optionsStatist),o(2),c("dataSource",t.tableSource),o(36),c("matHeaderRowDef",t.tabledisplayedColumns),o(),c("matRowDefColumns",Ve(32,D0)),o(),c("matRowDefColumns",t.tabledisplayedColumns),o(),c("matRowDefColumns",Ve(33,R0)),o(2),c("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",Ve(34,B0)))},dependencies:[nt,F,Nt,qe,Le,G,lt,st,ct,dt,mt,pt,ut,gt,Mt,_t,ft,Ct,St,ht,bt,vt,wt,yt,kt,Qt,Ne,V,At,_e,Lt,Mo,xt],encapsulation:2});var Fi=Yn;var fu=["vform"];function gu(n,l){if(n&1){let e=E();r(0,"app-cms-enum-record-status-selector",48),y("modelChange",function(t){u(e);let s=p();return w(s.dataModel.recordStatus,t)||(s.dataModel.recordStatus=t),f(t)}),a()}if(n&2){let e=p();T("model",e.dataModel.recordStatus),c("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function _u(n,l){n&1&&h(0,"i",49)}function Su(n,l){n&1&&h(0,"i",50)}function hu(n,l){if(n&1&&(r(0,"mat-error"),d(1),r(2,"strong"),d(3),g(4,"translate"),a()()),n&2){let e=p();o(),S(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," is "),o(2),v(_(4,2,"MESSAGE.required"))}}function Mu(n,l){if(n&1){let e=E();r(0,"app-linkmanagement-billboard-pattern-selector",51),g(1,"translate"),I("optionChange",function(t){u(e);let s=p();return f(s.onActionSelectorSelectLinkBillboardPatternId(t))}),a()}if(n&2){let e=p();c("optionSelectForce",e.dataModel.linkBillboardPatternId)("optionPlaceholder",_(1,2,"TITLE.Billboard_Pattern"))}}function Cu(n,l){if(n&1&&(r(0,"option",54),d(1),a()),n&2){let e=l.$implicit;c("value",e.value),o(),v(e.description)}}function bu(n,l){n&1&&(r(0,"mat-error"),d(1," SharingLinkType is "),r(2,"strong"),d(3),g(4,"translate"),a()()),n&2&&(o(3),v(_(4,1,"MESSAGE.required")))}function vu(n,l){if(n&1){let e=E();r(0,"div",28)(1,"select",52,3),y("ngModelChange",function(t){u(e);let s=p();return w(s.dataModel.sharingLinkType,t)||(s.dataModel.sharingLinkType=t),f(t)}),b(3,Cu,2,2,"option",53),a(),r(4,"em"),d(5),g(6,"translate"),a(),b(7,bu,5,3,"mat-error",33),a()}if(n&2){let e=x(2),i=p();o(),T("ngModel",i.dataModel.sharingLinkType),o(2),c("ngForOf",i.dataModelEnumSharingPriceTypeResult.listItems),o(2),v(_(6,4,"TITLE.Select_type_of_content")),o(2),c("ngIf",e.errors==null?null:e.errors.required)}}function Iu(n,l){if(n&1){let e=E();r(0,"div",55)(1,"div",21)(2,"h5",56),d(3),a()(),r(4,"div",23)(5,"div",24)(6,"input",57),y("ngModelChange",function(t){u(e);let s=p();return w(s.dataModel.isPublic,t)||(s.dataModel.isPublic=t),f(t)}),a(),h(7,"label",58),a()()()}if(n&2){let e=p();o(3),S(" ",e.fieldsInfo.isPublic==null?null:e.fieldsInfo.isPublic.fieldTitle),o(3),T("ngModel",e.dataModel.isPublic)}}function Eu(n,l){n&1&&(r(0,"mat-error"),d(1," ToWebAddress is "),r(2,"strong"),d(3),g(4,"translate"),a()()),n&2&&(o(3),v(_(4,1,"MESSAGE.required")))}function Tu(n,l){if(n&1){let e=E();r(0,"div",28)(1,"label",59),d(2),a(),r(3,"input",60,4),y("ngModelChange",function(t){u(e);let s=p();return w(s.dataModel.toWebAddress,t)||(s.dataModel.toWebAddress=t),f(t)}),a(),r(5,"em"),d(6),a(),b(7,Eu,5,3,"mat-error",33),a()}if(n&2){let e=x(4),i=p();o(2),v(i.fieldsInfo.toWebAddress==null?null:i.fieldsInfo.toWebAddress.fieldTitle),o(),c("placeholder",k(i.fieldsInfo.toWebAddress==null?null:i.fieldsInfo.toWebAddress.fieldTitle)),T("ngModel",i.dataModel.toWebAddress),o(3),S("",e.value.length," / 100"),o(),c("ngIf",e.errors==null?null:e.errors.required)}}function wu(n,l){n&1&&(r(0,"mat-error"),d(1," WebAddress is "),r(2,"strong"),d(3),g(4,"translate"),a()()),n&2&&(o(3),v(_(4,1,"MESSAGE.required")))}function yu(n,l){if(n&1){let e=E();r(0,"div",28)(1,"label",61),d(2),a(),r(3,"input",62,5),y("ngModelChange",function(t){u(e);let s=p();return w(s.dataModel.webAddress,t)||(s.dataModel.webAddress=t),f(t)}),a(),r(5,"em"),d(6),a(),b(7,wu,5,3,"mat-error",33),a()}if(n&2){let e=x(4),i=p();o(2),v(i.fieldsInfo.webAddress==null?null:i.fieldsInfo.webAddress.fieldTitle),o(),c("placeholder",k(i.fieldsInfo.webAddress==null?null:i.fieldsInfo.webAddress.fieldTitle)),T("ngModel",i.dataModel.webAddress),o(3),S("",e.value.length," / 100"),o(),c("ngIf",e.errors==null?null:e.errors.required)}}function ku(n,l){n&1&&(r(0,"mat-error"),d(1," SmallPreview is "),r(2,"strong"),d(3),g(4,"translate"),a()()),n&2&&(o(3),v(_(4,1,"MESSAGE.required")))}function Au(n,l){if(n&1){let e=E();r(0,"div",28)(1,"label",63),d(2),a(),r(3,"input",64,6),y("ngModelChange",function(t){u(e);let s=p();return w(s.dataModel.smallPreview,t)||(s.dataModel.smallPreview=t),f(t)}),a(),r(5,"em"),d(6),a(),b(7,ku,5,3,"mat-error",33),a()}if(n&2){let e=x(4),i=p();o(2),v(i.fieldsInfo.smallPreview==null?null:i.fieldsInfo.smallPreview.fieldTitle),o(),c("placeholder",k(i.fieldsInfo.smallPreview==null?null:i.fieldsInfo.smallPreview.fieldTitle)),T("ngModel",i.dataModel.smallPreview),o(3),S("",e.value.length," / 100"),o(),c("ngIf",e.errors==null?null:e.errors.required)}}function Lu(n,l){n&1&&(r(0,"mat-error"),d(1," ClickPrice is "),r(2,"strong"),d(3),g(4,"translate"),a()()),n&2&&(o(3),v(_(4,1,"MESSAGE.required")))}function xu(n,l){if(n&1){let e=E();r(0,"div",28)(1,"label",65),d(2),a(),r(3,"input",66,7),g(5,"translate"),y("ngModelChange",function(t){u(e);let s=p();return w(s.dataModel.clickPrice,t)||(s.dataModel.clickPrice=t),f(t)}),a(),b(6,Lu,5,3,"mat-error",33),a()}if(n&2){let e=x(4),i=p();o(2),v(i.fieldsInfo.clickPrice==null?null:i.fieldsInfo.clickPrice.fieldTitle),o(),c("placeholder",k(_(5,5,"TITLE.Amount_Per_Click"))),T("ngModel",i.dataModel.clickPrice),o(3),c("ngIf",e.errors==null?null:e.errors.required)}}function Du(n,l){n&1&&(r(0,"mat-error"),d(1," ViewPrice is "),r(2,"strong"),d(3),g(4,"translate"),a()()),n&2&&(o(3),v(_(4,1,"MESSAGE.required")))}function Ru(n,l){if(n&1){let e=E();r(0,"div",28)(1,"label",67),d(2),a(),r(3,"input",68,8),g(5,"translate"),y("ngModelChange",function(t){u(e);let s=p();return w(s.dataModel.viewPrice,t)||(s.dataModel.viewPrice=t),f(t)}),a(),b(6,Du,5,3,"mat-error",33),a()}if(n&2){let e=x(4),i=p();o(2),v(i.fieldsInfo.viewPrice==null?null:i.fieldsInfo.viewPrice.fieldTitle),o(),c("placeholder",k(_(5,5,"TITLE.Amount_Per_Show"))),T("ngModel",i.dataModel.viewPrice),o(3),c("ngIf",e.errors==null?null:e.errors.required)}}function Bu(n,l){n&1&&(r(0,"mat-error"),d(1," MaxPriceOfSharePerDay is "),r(2,"strong"),d(3),g(4,"translate"),a()()),n&2&&(o(3),v(_(4,1,"MESSAGE.required")))}function Pu(n,l){if(n&1){let e=E();r(0,"div",28)(1,"label",69),d(2),a(),r(3,"input",70,9),g(5,"translate"),y("ngModelChange",function(t){u(e);let s=p();return w(s.dataModel.maxPriceOfSharePerDay,t)||(s.dataModel.maxPriceOfSharePerDay=t),f(t)}),a(),b(6,Bu,5,3,"mat-error",33),a()}if(n&2){let e=x(4),i=p();o(2),v(i.fieldsInfo.maxPriceOfSharePerDay==null?null:i.fieldsInfo.maxPriceOfSharePerDay.fieldTitle),o(),c("placeholder",k(_(5,5,"TITLE.Number_of_views_so_far"))),T("ngModel",i.dataModel.maxPriceOfSharePerDay),o(3),c("ngIf",e.errors==null?null:e.errors.required)}}function Vu(n,l){n&1&&(r(0,"mat-error"),d(1," MaxPriceOfShareTotal is "),r(2,"strong"),d(3),g(4,"translate"),a()()),n&2&&(o(3),v(_(4,1,"MESSAGE.required")))}function Ou(n,l){if(n&1){let e=E();r(0,"div",28)(1,"label",71),d(2),a(),r(3,"input",72,10),g(5,"translate"),y("ngModelChange",function(t){u(e);let s=p();return w(s.dataModel.maxPriceOfShareTotal,t)||(s.dataModel.maxPriceOfShareTotal=t),f(t)}),a(),b(6,Vu,5,3,"mat-error",33),a()}if(n&2){let e=x(4),i=p();o(2),v(i.fieldsInfo.maxPriceOfShareTotal==null?null:i.fieldsInfo.maxPriceOfShareTotal.fieldTitle),o(),c("placeholder",k(_(5,5,"TITLE.Number_of_click_so_far"))),T("ngModel",i.dataModel.maxPriceOfShareTotal),o(3),c("ngIf",e.errors==null?null:e.errors.required)}}function Nu(n,l){n&1&&(r(0,"mat-error"),d(1," FormulaPercent is "),r(2,"strong"),d(3),g(4,"translate"),a()()),n&2&&(o(3),v(_(4,1,"MESSAGE.required")))}function Fu(n,l){if(n&1){let e=E();r(0,"div",28)(1,"label",73),d(2),a(),r(3,"input",74,11),g(5,"translate"),y("ngModelChange",function(t){u(e);let s=p();return w(s.dataModel.formulaPercent,t)||(s.dataModel.formulaPercent=t),f(t)}),a(),b(6,Nu,5,3,"mat-error",33),a()}if(n&2){let e=x(4),i=p();o(2),v(i.fieldsInfo.formulaPercent==null?null:i.fieldsInfo.formulaPercent.fieldTitle),o(),c("placeholder",k(_(5,5,"TITLE.Number_of_views_so_far"))),T("ngModel",i.dataModel.formulaPercent),o(3),c("ngIf",e.errors==null?null:e.errors.required)}}function Gu(n,l){if(n&1){let e=E();r(0,"div",75)(1,"button",76),I("click",function(){u(e);let t=p();return f(t.onActionBackToParent())}),d(2),g(3,"translate"),a(),r(4,"button",77),d(5),g(6,"translate"),a()()}if(n&2){p();let e=x(9);o(2),S(" ",_(3,3,"ACTION.BACK")," "),o(2),c("disabled",!e.form.valid),o(),S(" ",_(6,5,"ACTION.NEXT")," ")}}function Wu(n,l){if(n&1&&(r(0,"div",75)(1,"button",78),d(2),g(3,"translate"),a(),r(4,"button",77),d(5),g(6,"translate"),a()()),n&2){p();let e=x(9);o(2),S(" ",_(3,3,"ACTION.BEFOR")," "),o(2),c("disabled",!e.form.valid),o(),S(" ",_(6,5,"ACTION.NEXT")," ")}}function Hu(n,l){if(n&1&&(h(0,"img",79),g(1,"cmsthumbnail")),n&2){let e=p();c("src",k(_(1,2,e.dataModel.linkMainImageIdSrc)),K)}}function qu(n,l){if(n&1){let e=E();r(0,"div",28)(1,"label",80),I("click",function(){u(e);let t=p();return f(t.fileManagerOpenForm=!0)}),d(2),g(3,"translate"),a(),r(4,"input",81,12),g(6,"translate"),y("ngModelChange",function(t){u(e);let s=p();return w(s.dataModel.linkMainImageId,t)||(s.dataModel.linkMainImageId=t),f(t)}),I("click",function(){u(e);let t=p();return f(t.fileManagerOpenForm=!0)}),a(),r(7,"cms-file-manager",82),I("itemSelected",function(t){u(e);let s=p();return f(s.onActionFileSelectedLinkMainImageId(t))}),y("openFormChange",function(t){u(e);let s=p();return w(s.fileManagerOpenForm,t)||(s.fileManagerOpenForm=t),f(t)}),a()()}if(n&2){let e=p();o(2),v(_(3,12,"TITLE.Original_Photo")),o(2),c("placeholder",k(_(6,14,"TITLE.Original_File_ID"))),T("ngModel",e.dataModel.linkMainImageId),o(3),c("language",e.appLanguage)("isPopup",!0),T("openForm",e.fileManagerOpenForm),c("tree",e.fileManagerTree)("openDirectUploadView",!0)("openFilemanagerButtonLabelKey","select")("selectFileType",e.selectFileTypeMainImage)("openFilemanagerButtonView",!1)}}function ju(n,l){if(n&1&&(r(0,"div",75)(1,"button",78),d(2),g(3,"translate"),a(),r(4,"button",83),d(5),g(6,"translate"),a()()),n&2){p();let e=x(9);o(2),S(" ",_(3,3,"ACTION.BEFOR")," "),o(2),c("disabled",!e.form.valid),o(),S(" ",_(6,5,"ACTION.SAVE")," ")}}function Uu(n,l){n&1&&(r(0,"mat-icon"),d(1,"call_end"),a())}function zu(n,l){n&1&&(r(0,"mat-icon"),d(1,"call_end"),a())}function Qu(n,l){n&1&&(r(0,"mat-icon"),d(1,"forum"),a())}function Ku(n,l){n&1&&(r(0,"mat-icon"),d(1,"forum"),a())}var Zn=class Zn extends Et{constructor(e,i,t,s,M,m,D,H,j,he){super(M,new ri,s,he);this.activatedRoute=e;this.coreEnumService=i;this.linkManagementEnumService=t;this.publicHelper=s;this.linkManagementTargetService=M;this.contentCategoryService=m;this.cmsToastrService=D;this.router=H;this.cdr=j;this.translate=he;this.requestLinkBillboardPatternId=0;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.dataModel=new ri;this.dataModelResult=new W;this.dataModelEnumManagementContentSettingTypeResult=new W;this.dataModelEnumSharingPriceTypeResult=new W;this.optionActionTitle="";this.optionActionButtomEnable=!0;this.dataProfessional=!0;this.optionTabledisplayedColumns=["Id","Option","OptionAnswer","IsCorrectAnswer","NumberOfVotes","ScoreOfVotes","Action"];this.dataContentCategoryModel=[];this.selectFileTypeMainImage=["jpg","jpeg","png"];this.selectFileTypePodcast=["mp3"];this.selectFileTypeMovie=["mp4","webm"];this.formInfo=new ee;this.fileManagerOpenForm=!1;this.fileManagerOpenFormPodcast=!1;this.fileManagerOpenFormMovie=!1;this.appLanguage="fa";this.viewMap=!1;this.mapMarkerPoints=[];this.mapOptonCenter=new Di;this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),this.translate.get("ACTION.Add_To_List").subscribe(ye=>{this.optionActionTitle=ye})}ngOnInit(){if(this.requestLinkBillboardPatternId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkBillboardPatternId")),this.requestLinkBillboardPatternId===0){this.cmsToastrService.typeErrorAddRowParentIsNull();return}this.dataModel.linkBillboardPatternId=this.requestLinkBillboardPatternId,this.DataGetAccess(),this.getEnumSharingPriceType(),this.getEnumManagementContentSettingType()}getEnumManagementContentSettingType(){this.linkManagementEnumService.ServiceManagementContentSettingTypeEnum().subscribe(e=>{this.dataModelEnumManagementContentSettingTypeResult=e})}getEnumSharingPriceType(){this.linkManagementEnumService.ServiceSharingPriceTypeEnum().subscribe(e=>{this.dataModelEnumSharingPriceTypeResult=e})}onActionFileSelectedLinkMainImageId(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}onFormSubmit(){if(this.requestLinkBillboardPatternId<=0){this.cmsToastrService.typeErrorAddRowParentIsNull();return}if(!this.formGroup.valid){this.cmsToastrService.typeErrorFormInvalid();return}this.DataEditContent()}DataGetOne(){this.formInfo.formSubmitAllow=!1,this.translate.get("MESSAGE.get_information_from_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.linkManagementTargetService.ServiceGetOneById(this.dataModelResult.item.id).subscribe({next:i=>{this.publicHelper.processService.processStop(e),this.dataModelResult=i,this.formInfo.formSubmitAllow=!0,i.isSuccess?(this.dataModel=i.item,this.publicHelper.processService.processStop(e)):this.cmsToastrService.typeErrorGetOne(i.errorMessage)},error:i=>{this.publicHelper.processService.processStop(e),this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeErrorGetOne(i)}})}DataAddContent(){this.formInfo.formSubmitAllow=!1,this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.linkManagementTargetService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.publicHelper.processService.processStop(e),this.dataModelResult=i,i.isSuccess?(this.cmsToastrService.typeSuccessAdd(),this.dataModel=i.item):this.cmsToastrService.typeErrorAdd(i.errorMessage),this.formInfo.formAlert="",this.formInfo.formSubmitAllow=!0},error:i=>{this.publicHelper.processService.processStop(e),this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeErrorAdd(i)}})}DataEditContent(){this.formInfo.formSubmitAllow=!1,this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.linkManagementTargetService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.publicHelper.processService.processStop(e),this.formInfo.formSubmitAllow=!0,i.isSuccess?(this.linkManagementTargetService.ServiceGetOneById(this.dataModel.id).subscribe({next:t=>{this.publicHelper.processService.processStop(e),this.formInfo.formSubmitAllow=!0,this.dataModelResult=t,t.isSuccess?this.dataModel=t.item:this.cmsToastrService.typeErrorEdit(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.publicHelper.processService.processStop(e),this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(t)}}),this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.formAlert=t}),this.cmsToastrService.typeSuccessEdit(),setTimeout(()=>this.router.navigate(["/linkmanagement/target"]),1e3)):this.cmsToastrService.typeErrorEdit(i.errorMessage),this.publicHelper.processService.processStop(e)},error:i=>{this.publicHelper.processService.processStop(e),this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i)}})}onActionSelectorSelectLinkBillboardPatternId(e){if(!e||e.id<=0){this.translate.get("MESSAGE.Category_of_billboard_information_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkBillboardPatternId=e.id}onActionCategorySelectChecked(e){if(!e||e<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}let i=new zi;i.linkCategoryId=e,i.linkManagementTargetId=this.dataModel.id,this.contentCategoryService.ServiceAdd(i).subscribe({next:t=>{t.isSuccess?(this.translate.get("MESSAGE.registration_in_this_group_was_successful").subscribe(s=>{this.formInfo.formAlert=s}),this.cmsToastrService.typeSuccessEdit()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(s=>{this.formInfo.formAlert=s}),this.formInfo.formError=t.errorMessage,this.cmsToastrService.typeErrorMessage(t.errorMessage))},error:t=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(t)}})}onActionCategorySelectDisChecked(e){if(!e||e<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}let i=new zi;i.linkCategoryId=e,i.linkManagementTargetId=this.dataModel.id,this.contentCategoryService.ServiceDeleteEntity(i).subscribe({next:t=>{t.isSuccess?(this.translate.get("MESSAGE.registration_in_this_group_was_successful").subscribe(s=>{this.formInfo.formAlert=s}),this.cmsToastrService.typeSuccessEdit()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(s=>{this.formInfo.formAlert=s}),this.formInfo.formError=t.errorMessage,this.cmsToastrService.typeErrorMessage(t.errorMessage))},error:t=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(t)}})}onStepClick(e,i){e.previouslySelectedIndex<e.selectedIndex&&(this.formGroup.valid||(this.cmsToastrService.typeErrorFormInvalid(),setTimeout(()=>{i.selectedIndex=e.previouslySelectedIndex},10))),(!this.dataModelResult||!this.dataModelResult.item||this.dataModelResult.item.id<=0)&&this.DataAddContent()}onActionBackToParent(){this.router.navigate(["/linkmanagement/target/"])}};Zn.\u0275fac=function(i){return new(i||Zn)(C(Ke),C(te),C(Ue),C(N),C(bi),C(qi),C(O),C(Fe),C(B),C(P))},Zn.\u0275cmp=R({type:Zn,selectors:[["app-linkmanagement-target-add"]],viewQuery:function(i,t){if(i&1&&X(fu,5),i&2){let s;Y(s=Z())&&(t.formGroup=s.first)}},standalone:!1,features:[J],decls:68,vars:54,consts:[["vform","ngForm"],["stepper",""],["Title",""],["SharingLinkType","ngModel"],["ToWebAddress",""],["WebAddress",""],["SmallPreview",""],["ClickPrice",""],["ViewPrice",""],["MaxPriceOfSharePerDay",""],["MaxPriceOfShareTotal",""],["FormulaPercent",""],["LinkMainImageId",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"selectionChange"],["state","main",3,"label"],[1,"d-flex","mb-3",2,"position","inherit"],[1,"pt-1"],["data-trigger-switch","dataProfessional",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataProfessional","name","dataProfessionalt",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataProfessional",1,"custom-control-label"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","fa fa-times  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],[4,"ngIf"],[3,"optionSelectForce","optionPlaceholder","optionChange",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["class","d-flex mb-3",4,"ngIf"],["class","form-actions",4,"ngIf"],["state","seo",3,"label"],[3,"optionModelChange","optionSelectChecked","optionSelectDisChecked","optionModel"],["state","file",3,"label"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],["matStepperIcon","main"],["matStepperIcon","seo"],["matStepperIcon","file"],["matStepperIcon","loaction"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[3,"optionChange","optionSelectForce","optionPlaceholder"],["id","dataModel.sharingLinkType","name","dataModel.sharingLinkType",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"d-flex","mb-3"],["data-trigger-switch","dataModel.isPublic",1,"font-600","font-14"],["type","checkbox","id","dataModel.isPublic","name","dataModel.isPublic",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.isPublic",1,"custom-control-label"],["for","dataModel.toWebAddress",1,"color-highlight"],["matInput","","type","text","name","dataModel.toWebAddress","minlength","3","maxlength","2000","id","dataModel.toWebAddress",1,"form-control","validate-name",2,"direction","ltr","text-align","left !important",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.webAddress",1,"color-highlight"],["matInput","","type","text","name","dataModel.webAddress","minlength","3","maxlength","100","id","dataModel.webAddress",1,"form-control","validate-name",2,"direction","ltr","text-align","left !important",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.smallPreview",1,"color-highlight"],["matInput","","type","text","name","dataModel.smallPreview","minlength","3","maxlength","100","id","dataModel.smallPreview",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.clickPrice",1,"color-highlight"],["matInput","","type","number","name","dataModel.clickPrice","minlength","0","id","dataModel.clickPrice",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.viewPrice",1,"color-highlight"],["matInput","","type","number","name","dataModel.viewPrice","minlength","0","id","dataModel.viewPrice",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.maxPriceOfSharePerDay",1,"color-highlight"],["matInput","","type","number","name","dataModel.maxPriceOfSharePerDay","minlength","0","id","dataModel.maxPriceOfSharePerDay",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.maxPriceOfShareTotal",1,"color-highlight"],["matInput","","type","number","name","dataModel.maxPriceOfShareTotal","minlength","0","id","dataModel.maxPriceOfShareTotal",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.formulaPercent",1,"color-highlight"],["matInput","","type","number","name","dataModel.formulaPercent","minlength","1","id","dataModel.formulaPercent",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],["type","button","matStepperNext","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue",3,"disabled"],["type","button","matStepperPrevious","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openDirectUploadView","openFilemanagerButtonLabelKey","selectFileType","openFilemanagerButtonView"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"]],template:function(i,t){if(i&1){let s=E();r(0,"div",13),h(1,"app-progress-spinner",14),r(2,"div",15)(3,"p",16),d(4),a(),r(5,"p"),d(6),g(7,"translate"),a(),r(8,"form",17,0),I("ngSubmit",function(){return u(s),f(t.onFormSubmit())}),r(10,"mat-vertical-stepper",18,1),I("selectionChange",function(m){u(s);let D=x(11);return f(t.onStepClick(m,D))}),r(12,"mat-step",19),g(13,"translate"),h(14,"br"),r(15,"div",20)(16,"div",21)(17,"h5",22),d(18),g(19,"translate"),a()(),r(20,"div",23)(21,"div",24)(22,"input",25),y("ngModelChange",function(m){return u(s),w(t.dataProfessional,m)||(t.dataProfessional=m),f(m)}),a(),h(23,"label",26),a()()(),h(24,"br"),b(25,gu,1,5,"app-cms-enum-record-status-selector",27),r(26,"div",28)(27,"label",29),d(28),a(),r(29,"input",30,2),y("ngModelChange",function(m){return u(s),w(t.dataModel.title,m)||(t.dataModel.title=m),f(m)}),a(),b(31,_u,1,0,"i",31)(32,Su,1,0,"i",32),r(33,"em"),d(34),a(),b(35,hu,5,4,"mat-error",33),a(),b(36,Mu,2,4,"app-linkmanagement-billboard-pattern-selector",34)(37,vu,8,6,"div",35)(38,Iu,8,2,"div",36)(39,Tu,8,6,"div",35)(40,yu,8,6,"div",35)(41,Au,8,6,"div",35)(42,xu,7,7,"div",35)(43,Ru,7,7,"div",35)(44,Pu,7,7,"div",35)(45,Ou,7,7,"div",35)(46,Fu,7,7,"div",35)(47,Gu,7,7,"div",37),a(),r(48,"mat-step",38),g(49,"translate"),r(50,"app-linkmanagement-category-treeselector",39),y("optionModelChange",function(m){return u(s),w(t.dataContentCategoryModel,m)||(t.dataContentCategoryModel=m),f(m)}),I("optionSelectChecked",function(m){return u(s),f(t.onActionCategorySelectChecked(m))})("optionSelectDisChecked",function(m){return u(s),f(t.onActionCategorySelectDisChecked(m))}),a(),h(51,"br"),b(52,Wu,7,7,"div",37),a(),r(53,"mat-step",40),g(54,"translate"),r(55,"p"),d(56),g(57,"translate"),a(),r(58,"div",41)(59,"a",42),g(60,"cmsthumbnail"),b(61,Hu,2,4,"img",43),a()(),b(62,qu,8,16,"div",35)(63,ju,7,7,"div",37),a(),b(64,Uu,2,0,"ng-template",44)(65,zu,2,0,"ng-template",45)(66,Qu,2,0,"ng-template",46)(67,Ku,2,0,"ng-template",47),a()()()()}if(i&2){let s=x(30);o(),c("optionsInfoAreaId",t.constructorInfoAreaId),o(3),S(" ",t.formInfo.formTitle," "),o(2),S(" ",_(7,40,"TITLE.Be_Careful_When_Entering_Information")," "),o(6),c("label",k(_(13,42,"TITLE.REQUIRED_INFORMATION"))),o(6),S(" ",_(19,44,"TITLE.Would_you_like_to_complete_your_information")),o(4),T("ngModel",t.dataProfessional),o(3),c("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),o(3),v(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),c("placeholder",k(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),T("ngModel",t.dataModel.title),o(2),c("ngIf",!s.value),o(),c("ngIf",s.value),o(2),S("",s.value.length," / 100"),o(),c("ngIf",s.errors==null?null:s.errors.required),o(),c("ngIf",t.dataProfessional),o(),c("ngIf",t.dataProfessional),o(),c("ngIf",t.fieldsInfo.isPublic==null?null:t.fieldsInfo.isPublic.accessWatchField),o(),c("ngIf",t.dataProfessional),o(),c("ngIf",t.dataProfessional),o(),c("ngIf",t.dataProfessional),o(),c("ngIf",t.dataProfessional),o(),c("ngIf",t.dataProfessional),o(),c("ngIf",t.dataProfessional),o(),c("ngIf",t.dataProfessional),o(),c("ngIf",t.dataProfessional),o(),c("ngIf",t.formInfo.formSubmitAllow),o(),c("label",k(_(49,46,"TITLE.TARGET_SELECTION"))),o(2),T("optionModel",t.dataContentCategoryModel),o(2),c("ngIf",t.formInfo.formSubmitAllow),o(),c("label",k(_(54,48,"TITLE.ATTACH_FILES"))),o(3),v(_(57,50,"TITLE.CONTENT_ATTACH_FILES")),o(3),c("href",k(_(60,52,t.dataModel.linkMainImageIdSrc)),K),o(2),c("ngIf",(t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0),o(),c("ngIf",t.fieldsInfo.linkMainImageId==null?null:t.fieldsInfo.linkMainImageId.accessWatchField),o(),c("ngIf",t.formInfo.formSubmitAllow)}},dependencies:[He,F,ve,Wt,Ht,U,Oe,Ft,Gt,z,Ce,Q,fe,ge,$,be,Ie,Le,G,ki,Ai,Li,xi,yi,we,q,Ri,Ye,ii,Kt,V,_e],styles:["@media (max-width: 1399px){.wizard.wizard-4[_ngcontent-%COMP%]   .wizard-nav[_ngcontent-%COMP%]   .wizard-steps[_ngcontent-%COMP%]   .wizard-step[_ngcontent-%COMP%]{flex:0 0 calc(25% - .25rem)}}form[_ngcontent-%COMP%]{text-align:right}.wrapper[_ngcontent-%COMP%]{display:flex;padding-top:15px}.lbl-status[_ngcontent-%COMP%]{width:100px;display:flex;align-items:flex-end;justify-content:center;margin-top:5px}.status-select[_ngcontent-%COMP%]{width:970px}textarea[_ngcontent-%COMP%]{resize:none}.calender-select[_ngcontent-%COMP%]{width:252px}.next-modal[_ngcontent-%COMP%]{width:100px;margin-right:15px}.pb-4[_ngcontent-%COMP%], .py-4[_ngcontent-%COMP%]{padding-bottom:7px!important;padding-top:7px!important}tag-input[_ngcontent-%COMP%]{width:1000px}.leaflet-pane[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute!important}.fs-container[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;top:0;left:0}.lbl-content[_ngcontent-%COMP%]{width:100px;display:flex;align-items:flex-end;justify-content:center;margin-top:25px}@media (min-width: 1400px){.col-xxl-7[_ngcontent-%COMP%]{max-width:100%!important;flex:0 0 100%}}.heroes[_ngcontent-%COMP%]{margin:0 0 2em;list-style-type:none;padding:0;width:15em}.heroes[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{cursor:pointer;position:relative;left:0;background-color:#eee;margin:.5em;padding:.3em 0;height:1.6em;border-radius:4px}.heroes[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{color:#607d8b;background-color:#ddd;left:.1em}.heroes[_ngcontent-%COMP%]   li.selected[_ngcontent-%COMP%]{background-color:#cfd8dc;color:#fff}.heroes[_ngcontent-%COMP%]   li.selected[_ngcontent-%COMP%]:hover{background-color:#bbd8dc;color:#fff}.heroes[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{display:inline-block;font-size:small;color:#fff;padding:.8em .7em 0;background-color:#405061;line-height:1em;position:relative;left:-1px;top:-4px;height:1.8em;margin-right:.8em;border-radius:4px 0 0 4px}"]});var jo=Zn;var Ju=["vform"];function Xu(n,l){if(n&1){let e=E();r(0,"app-cms-enum-record-status-selector",68),y("modelChange",function(t){u(e);let s=p();return w(s.dataModel.recordStatus,t)||(s.dataModel.recordStatus=t),f(t)}),a()}if(n&2){let e=p();T("model",e.dataModel.recordStatus),c("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Yu(n,l){n&1&&h(0,"i",69)}function Zu(n,l){n&1&&h(0,"i",70)}function $u(n,l){if(n&1&&(r(0,"mat-error"),d(1),r(2,"strong"),d(3),g(4,"translate"),a()()),n&2){let e=p();o(),S(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," is "),o(2),v(_(4,2,"MESSAGE.required"))}}function ef(n,l){if(n&1&&(r(0,"option",71),d(1),a()),n&2){let e=l.$implicit;c("value",e.value),o(),v(e.description)}}function tf(n,l){n&1&&(r(0,"mat-error"),d(1," SharingLinkType is "),r(2,"strong"),d(3),g(4,"translate"),a()()),n&2&&(o(3),v(_(4,1,"MESSAGE.required")))}function nf(n,l){if(n&1){let e=E();r(0,"div",72)(1,"div",73)(2,"h5",74),d(3),a()(),r(4,"div",75)(5,"div",76)(6,"input",77),y("ngModelChange",function(t){u(e);let s=p();return w(s.dataModel.isPublic,t)||(s.dataModel.isPublic=t),f(t)}),a(),h(7,"label",78),a()()()}if(n&2){let e=p();o(3),S(" ",e.fieldsInfo.isPublic==null?null:e.fieldsInfo.isPublic.fieldTitle),o(3),T("ngModel",e.dataModel.isPublic)}}function of(n,l){n&1&&(r(0,"mat-error"),d(1," ToWebAddress is "),r(2,"strong"),d(3),g(4,"translate"),a()()),n&2&&(o(3),v(_(4,1,"MESSAGE.required")))}function rf(n,l){n&1&&(r(0,"mat-error"),d(1," WebAddress is "),r(2,"strong"),d(3),g(4,"translate"),a()()),n&2&&(o(3),v(_(4,1,"MESSAGE.required")))}function af(n,l){n&1&&(r(0,"mat-error"),d(1," CarryToWebAddress is "),r(2,"strong"),d(3),g(4,"translate"),a()()),n&2&&(o(3),v(_(4,1,"MESSAGE.required")))}function lf(n,l){n&1&&(r(0,"mat-error"),d(1," SmallPreview is "),r(2,"strong"),d(3),g(4,"translate"),a()()),n&2&&(o(3),v(_(4,1,"MESSAGE.required")))}function sf(n,l){n&1&&(r(0,"mat-error"),d(1," ClickPrice is "),r(2,"strong"),d(3),g(4,"translate"),a()()),n&2&&(o(3),v(_(4,1,"MESSAGE.required")))}function cf(n,l){n&1&&(r(0,"mat-error"),d(1," ViewPrice is "),r(2,"strong"),d(3),g(4,"translate"),a()()),n&2&&(o(3),v(_(4,1,"MESSAGE.required")))}function df(n,l){n&1&&(r(0,"mat-error"),d(1," MaxPriceOfSharePerDay is "),r(2,"strong"),d(3),g(4,"translate"),a()()),n&2&&(o(3),v(_(4,1,"MESSAGE.required")))}function mf(n,l){n&1&&(r(0,"mat-error"),d(1," MaxPriceOfShareTotal is "),r(2,"strong"),d(3),g(4,"translate"),a()()),n&2&&(o(3),v(_(4,1,"MESSAGE.required")))}function pf(n,l){n&1&&(r(0,"mat-error"),d(1," FormulaPercent is "),r(2,"strong"),d(3),g(4,"translate"),a()()),n&2&&(o(3),v(_(4,1,"MESSAGE.required")))}function uf(n,l){n&1&&(r(0,"mat-error"),d(1," CurrentClickCount is "),r(2,"strong"),d(3),g(4,"translate"),a()()),n&2&&(o(3),v(_(4,1,"MESSAGE.required")))}function ff(n,l){n&1&&(r(0,"mat-error"),d(1," CurrentViewCount is "),r(2,"strong"),d(3),g(4,"translate"),a()()),n&2&&(o(3),v(_(4,1,"MESSAGE.required")))}function gf(n,l){if(n&1){let e=E();r(0,"div",79)(1,"button",80),I("click",function(){u(e);let t=p();return f(t.onActionBackToParent())}),d(2),g(3,"translate"),a(),r(4,"button",81),d(5),g(6,"translate"),a()()}if(n&2){p();let e=x(9);o(2),S(" ",_(3,3,"ACTION.BACK")," "),o(2),c("disabled",!e.form.valid),o(),S(" ",_(6,5,"ACTION.NEXT")," ")}}function _f(n,l){if(n&1&&(r(0,"div",79)(1,"button",82),d(2),g(3,"translate"),a(),r(4,"button",81),d(5),g(6,"translate"),a()()),n&2){p();let e=x(9);o(2),S(" ",_(3,3,"ACTION.BEFOR")," "),o(2),c("disabled",!e.form.valid),o(),S(" ",_(6,5,"ACTION.NEXT")," ")}}function Sf(n,l){if(n&1&&(h(0,"img",83),g(1,"cmsthumbnail")),n&2){let e=p();c("src",k(_(1,2,e.dataModel.linkMainImageIdSrc)),K)}}function hf(n,l){if(n&1){let e=E();r(0,"div",24)(1,"label",84),I("click",function(){u(e);let t=p();return f(t.fileManagerOpenForm=!0)}),d(2),g(3,"translate"),a(),r(4,"input",85,15),g(6,"translate"),y("ngModelChange",function(t){u(e);let s=p();return w(s.dataModel.linkMainImageId,t)||(s.dataModel.linkMainImageId=t),f(t)}),I("click",function(){u(e);let t=p();return f(t.fileManagerOpenForm=!0)}),a(),r(7,"cms-file-manager",86),I("itemSelected",function(t){u(e);let s=p();return f(s.onActionFileSelectedLinkMainImageId(t))}),y("openFormChange",function(t){u(e);let s=p();return w(s.fileManagerOpenForm,t)||(s.fileManagerOpenForm=t),f(t)}),a()()}if(n&2){let e=p();o(2),v(_(3,12,"TITLE.Original_Photo")),o(2),c("placeholder",k(_(6,14,"TITLE.Original_File_ID"))),T("ngModel",e.dataModel.linkMainImageId),o(3),c("language",e.appLanguage)("isPopup",!0),T("openForm",e.fileManagerOpenForm),c("tree",e.fileManagerTree)("openDirectUploadView",!0)("openFilemanagerButtonLabelKey","select")("selectFileType",e.selectFileTypeMainImage)("openFilemanagerButtonView",!1)}}function Mf(n,l){if(n&1&&(r(0,"div",79)(1,"button",82),d(2),g(3,"translate"),a(),r(4,"button",87),d(5),g(6,"translate"),a()()),n&2){p();let e=x(9);o(2),S(" ",_(3,3,"ACTION.BEFOR")," "),o(2),c("disabled",!e.form.valid),o(),S(" ",_(6,5,"ACTION.SAVE")," ")}}function Cf(n,l){n&1&&(r(0,"mat-icon"),d(1,"call_end"),a())}function bf(n,l){n&1&&(r(0,"mat-icon"),d(1,"call_end"),a())}function vf(n,l){n&1&&(r(0,"mat-icon"),d(1,"forum"),a())}function If(n,l){n&1&&(r(0,"mat-icon"),d(1,"forum"),a())}var $n=class $n extends Ze{constructor(e,i,t,s,M,m,D,H,j,he,ye,ke){super(M,new ri,t,ke);this.activatedRoute=e;this.coreEnumService=i;this.publicHelper=t;this.linkManagementEnumService=s;this.linkManagementTargetService=M;this.contentCategoryService=m;this.cmsToastrService=D;this.tokenHelper=H;this.cmsStoreService=j;this.router=he;this.cdr=ye;this.translate=ke;this.requestId=0;this.constructorInfoAreaId=this.constructor.name;this.dataModel=new ri;this.dataModelResult=new Je;this.dataModelEnumManagementContentSettingTypeResult=new W;this.dataModelEnumSharingPriceTypeResult=new W;this.optionActionTitle="";this.optionActionButtomEnable=!0;this.optionTabledisplayedColumns=["Id","Option","OptionAnswer","IsCorrectAnswer","NumberOfVotes","ScoreOfVotes","Action"];this.dataContentCategoryModel=[];this.selectFileTypeMainImage=["jpg","jpeg","png"];this.selectFileTypePodcast=["mp3"];this.selectFileTypeMovie=["mp4","webm"];this.formInfo=new ee;this.fileManagerOpenForm=!1;this.fileManagerOpenFormPodcast=!1;this.fileManagerOpenFormMovie=!1;this.appLanguage="fa";this.viewMap=!1;this.mapMarkerPoints=[];this.mapOptonCenter=new Di;this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),this.translate.get("ACTION.Add_To_List").subscribe(Xt=>{this.optionActionTitle=Xt})}ngOnInit(){if(this.requestId=+Number(this.activatedRoute.snapshot.paramMap.get("Id")),this.requestId===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetOne(),this.getEnumSharingPriceType(),this.getEnumManagementContentSettingType()}getEnumManagementContentSettingType(){this.linkManagementEnumService.ServiceManagementContentSettingTypeEnum().subscribe(e=>{this.dataModelEnumManagementContentSettingTypeResult=e})}getEnumSharingPriceType(){this.linkManagementEnumService.ServiceSharingPriceTypeEnum().subscribe(e=>{this.dataModelEnumSharingPriceTypeResult=e})}onActionFileSelectedLinkMainImageId(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}onFormSubmit(){if(this.requestId<=0){this.cmsToastrService.typeErrorEditRowIsNull();return}if(!this.formGroup.valid){this.cmsToastrService.typeErrorFormInvalid();return}this.DataEditContent()}DataGetOne(){this.formInfo.formSubmitAllow=!1,this.translate.get("MESSAGE.get_information_from_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.linkManagementTargetService.setAccessLoad(),this.linkManagementTargetService.setAccessDataType(Ee.Editor),this.linkManagementTargetService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.dataAccessModel=i.access,this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModelResult=i,this.formInfo.formSubmitAllow=!0,i.isSuccess?this.dataModel=i.item:this.cmsToastrService.typeErrorGetOne(i.errorMessage),this.publicHelper.processService.processStop(e)},error:i=>{this.publicHelper.processService.processStop(e),this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeErrorGetOne(i)}})}DataEditContent(){this.formInfo.formSubmitAllow=!1,this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.linkManagementTargetService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.publicHelper.processService.processStop(e),this.formInfo.formSubmitAllow=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.formAlert=t}),this.cmsToastrService.typeSuccessEdit(),setTimeout(()=>this.router.navigate(["/linkmanagement/target"]),1e3)):this.cmsToastrService.typeErrorEdit(i.errorMessage),this.publicHelper.processService.processStop(e)},error:i=>{this.publicHelper.processService.processStop(e),this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i)}})}onActionSelectorSelectLinkBillboardPatternId(e){if(!e||e.id<=0){this.translate.get("MESSAGE.Category_of_billboard_information_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkBillboardPatternId=e.id}onActionCategorySelectChecked(e){if(!e||e<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}let i=new zi;i.linkCategoryId=e,i.linkManagementTargetId=this.dataModel.id,this.contentCategoryService.ServiceAdd(i).subscribe({next:t=>{t.isSuccess?(this.translate.get("MESSAGE.registration_in_this_group_was_successful").subscribe(s=>{this.formInfo.formAlert=s}),this.cmsToastrService.typeSuccessEdit()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(s=>{this.formInfo.formAlert=s}),this.formInfo.formError=t.errorMessage,this.cmsToastrService.typeErrorMessage(t.errorMessage))},error:t=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(t)}})}onActionCategorySelectDisChecked(e){if(!e||e<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}let i=new zi;i.linkCategoryId=e,i.linkManagementTargetId=this.dataModel.id,this.contentCategoryService.ServiceDeleteEntity(i).subscribe({next:t=>{t.isSuccess?(this.translate.get("MESSAGE.registration_in_this_group_was_successful").subscribe(s=>{this.formInfo.formAlert=s}),this.cmsToastrService.typeSuccessEdit()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(s=>{this.formInfo.formAlert=s}),this.formInfo.formError=t.errorMessage,this.cmsToastrService.typeErrorMessage(t.errorMessage))},error:t=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(t)}})}onStepClick(e,i){e.previouslySelectedIndex<e.selectedIndex&&(this.formGroup.valid||(this.cmsToastrService.typeErrorFormInvalid(),setTimeout(()=>{i.selectedIndex=e.previouslySelectedIndex},10)))}onActionBackToParent(){this.router.navigate(["/linkmanagement/target/"])}onActionSelectSite(e){if(!e||e.id<=0){this.translate.get(["MESSAGE.Specify_the_site","MESSAGE.Information_site_is_not_clear"]).subscribe(i=>{this.cmsToastrService.typeErrorMessage(i[0],i[1])});return}this.dataModel.linkSiteId=e.id}};$n.\u0275fac=function(i){return new(i||$n)(C(Ke),C(te),C(N),C(Ue),C(bi),C(qi),C(O),C(We),C(Ge),C(Fe),C(B),C(P))},$n.\u0275cmp=R({type:$n,selectors:[["app-linkmanagement-target-edit"]],viewQuery:function(i,t){if(i&1&&X(Ju,5),i&2){let s;Y(s=Z())&&(t.formGroup=s.first)}},standalone:!1,features:[J],decls:138,vars:123,consts:[["vform","ngForm"],["stepper",""],["Title",""],["SharingLinkType","ngModel"],["ToWebAddress",""],["WebAddress",""],["CarryToWebAddress",""],["SmallPreview",""],["ClickPrice",""],["ViewPrice",""],["MaxPriceOfSharePerDay",""],["MaxPriceOfShareTotal",""],["FormulaPercent",""],["CurrentClickCount",""],["CurrentViewCount",""],["LinkMainImageId",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"selectionChange"],["state","main",3,"label"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","fa fa-times  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],[4,"ngIf"],[3,"optionChange","optionSelectForce","optionPlaceholder"],["id","dataModel.sharingLinkType","name","dataModel.sharingLinkType",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],["class","d-flex mb-3",4,"ngIf"],["for","dataModel.toWebAddress",1,"color-highlight"],["matInput","","type","text","name","dataModel.toWebAddress","minlength","3","maxlength","2000","id","dataModel.toWebAddress",1,"form-control","validate-name",2,"direction","ltr","text-align","left !important",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.webAddress",1,"color-highlight"],["matInput","","type","text","name","dataModel.webAddress","minlength","3","maxlength","100","id","dataModel.webAddress",1,"form-control","validate-name",2,"direction","ltr","text-align","left !important",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.carryToWebAddress",1,"color-highlight"],["matInput","","type","text","name","dataModel.carryToWebAddress","minlength","3","maxlength","100","id","dataModel.carryToWebAddress",1,"form-control","validate-name",2,"direction","ltr","text-align","left !important",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.smallPreview",1,"color-highlight"],["matInput","","type","text","name","dataModel.smallPreview","minlength","3","maxlength","100","id","dataModel.smallPreview",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.clickPrice",1,"color-highlight"],["matInput","","type","number","name","dataModel.clickPrice","minlength","0","id","dataModel.clickPrice",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.viewPrice",1,"color-highlight"],["matInput","","type","number","name","dataModel.viewPrice","minlength","0","id","dataModel.viewPrice",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.maxPriceOfSharePerDay",1,"color-highlight"],["matInput","","type","number","name","dataModel.maxPriceOfSharePerDay","minlength","0","id","dataModel.maxPriceOfSharePerDay",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.maxPriceOfShareTotal",1,"color-highlight"],["matInput","","type","number","name","dataModel.maxPriceOfShareTotal","minlength","0","id","dataModel.maxPriceOfShareTotal",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.formulaPercent",1,"color-highlight"],["matInput","","type","number","name","dataModel.formulaPercent","minlength","1","id","dataModel.formulaPercent",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.currentClickCount",1,"color-highlight"],["matInput","","type","number","name","dataModel.currentClickCount","minlength","1","disabled","","id","dataModel.currentClickCount",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.currentViewCount",1,"color-highlight"],["matInput","","type","number","name","dataModel.currentViewCount","minlength","0","disabled","","id","dataModel.currentViewCount",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","form-actions",4,"ngIf"],["state","seo",3,"label"],[3,"optionModelChange","optionSelectChecked","optionSelectDisChecked","optionModel"],["state","file",3,"label"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["matStepperIcon","main"],["matStepperIcon","seo"],["matStepperIcon","file"],["matStepperIcon","loaction"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[3,"value"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.isPublic",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.isPublic","name","dataModel.isPublic",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.isPublic",1,"custom-control-label"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],["type","button","matStepperNext","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue",3,"disabled"],["type","button","matStepperPrevious","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openDirectUploadView","openFilemanagerButtonLabelKey","selectFileType","openFilemanagerButtonView"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"]],template:function(i,t){if(i&1){let s=E();r(0,"div",16),h(1,"app-progress-spinner",17),r(2,"div",18)(3,"p",19),d(4),a(),r(5,"p"),d(6),g(7,"translate"),a(),r(8,"form",20,0),I("ngSubmit",function(){return u(s),f(t.onFormSubmit())}),r(10,"mat-vertical-stepper",21,1),I("selectionChange",function(m){u(s);let D=x(11);return f(t.onStepClick(m,D))}),r(12,"mat-step",22),g(13,"translate"),b(14,Xu,1,5,"app-cms-enum-record-status-selector",23),r(15,"div",24)(16,"label",25),d(17),a(),r(18,"input",26,2),y("ngModelChange",function(m){return u(s),w(t.dataModel.title,m)||(t.dataModel.title=m),f(m)}),a(),b(20,Yu,1,0,"i",27)(21,Zu,1,0,"i",28),r(22,"em"),d(23),a(),b(24,$u,5,4,"mat-error",29),a(),r(25,"app-linkmanagement-billboard-pattern-selector",30),g(26,"translate"),I("optionChange",function(m){return u(s),f(t.onActionSelectorSelectLinkBillboardPatternId(m))}),a(),r(27,"div",24)(28,"select",31,3),y("ngModelChange",function(m){return u(s),w(t.dataModel.sharingLinkType,m)||(t.dataModel.sharingLinkType=m),f(m)}),b(30,ef,2,2,"option",32),a(),r(31,"em"),d(32),g(33,"translate"),a(),b(34,tf,5,3,"mat-error",29),a(),b(35,nf,8,2,"div",33),r(36,"div",24)(37,"label",34),d(38),a(),r(39,"input",35,4),y("ngModelChange",function(m){return u(s),w(t.dataModel.toWebAddress,m)||(t.dataModel.toWebAddress=m),f(m)}),a(),r(41,"em"),d(42),a(),b(43,of,5,3,"mat-error",29),a(),r(44,"div",24)(45,"label",36),d(46),a(),r(47,"input",37,5),y("ngModelChange",function(m){return u(s),w(t.dataModel.webAddress,m)||(t.dataModel.webAddress=m),f(m)}),a(),r(49,"em"),d(50),a(),b(51,rf,5,3,"mat-error",29),a(),r(52,"div",24)(53,"label",38),d(54),a(),r(55,"input",39,6),y("ngModelChange",function(m){return u(s),w(t.dataModel.carryToWebAddress,m)||(t.dataModel.carryToWebAddress=m),f(m)}),a(),r(57,"em"),d(58),a(),b(59,af,5,3,"mat-error",29),a(),r(60,"div",24)(61,"label",40),d(62),a(),r(63,"input",41,7),y("ngModelChange",function(m){return u(s),w(t.dataModel.smallPreview,m)||(t.dataModel.smallPreview=m),f(m)}),a(),r(65,"em"),d(66),a(),b(67,lf,5,3,"mat-error",29),a(),r(68,"div",24)(69,"label",42),d(70),a(),r(71,"input",43,8),g(73,"translate"),y("ngModelChange",function(m){return u(s),w(t.dataModel.clickPrice,m)||(t.dataModel.clickPrice=m),f(m)}),a(),b(74,sf,5,3,"mat-error",29),a(),r(75,"div",24)(76,"label",44),d(77),a(),r(78,"input",45,9),g(80,"translate"),y("ngModelChange",function(m){return u(s),w(t.dataModel.viewPrice,m)||(t.dataModel.viewPrice=m),f(m)}),a(),b(81,cf,5,3,"mat-error",29),a(),r(82,"div",24)(83,"label",46),d(84),a(),r(85,"input",47,10),g(87,"translate"),y("ngModelChange",function(m){return u(s),w(t.dataModel.maxPriceOfSharePerDay,m)||(t.dataModel.maxPriceOfSharePerDay=m),f(m)}),a(),b(88,df,5,3,"mat-error",29),a(),r(89,"div",24)(90,"label",48),d(91),a(),r(92,"input",49,11),g(94,"translate"),y("ngModelChange",function(m){return u(s),w(t.dataModel.maxPriceOfShareTotal,m)||(t.dataModel.maxPriceOfShareTotal=m),f(m)}),a(),b(95,mf,5,3,"mat-error",29),a(),r(96,"div",24)(97,"label",50),d(98),a(),r(99,"input",51,12),g(101,"translate"),y("ngModelChange",function(m){return u(s),w(t.dataModel.formulaPercent,m)||(t.dataModel.formulaPercent=m),f(m)}),a(),b(102,pf,5,3,"mat-error",29),a(),r(103,"div",24)(104,"label",52),d(105),a(),r(106,"input",53,13),g(108,"translate"),y("ngModelChange",function(m){return u(s),w(t.dataModel.currentClickCount,m)||(t.dataModel.currentClickCount=m),f(m)}),a(),b(109,uf,5,3,"mat-error",29),a(),r(110,"div",24)(111,"label",54),d(112),a(),r(113,"input",55,14),g(115,"translate"),y("ngModelChange",function(m){return u(s),w(t.dataModel.currentViewCount,m)||(t.dataModel.currentViewCount=m),f(m)}),a(),b(116,ff,5,3,"mat-error",29),a(),b(117,gf,7,7,"div",56),a(),r(118,"mat-step",57),g(119,"translate"),r(120,"app-linkmanagement-category-treeselector",58),y("optionModelChange",function(m){return u(s),w(t.dataContentCategoryModel,m)||(t.dataContentCategoryModel=m),f(m)}),I("optionSelectChecked",function(m){return u(s),f(t.onActionCategorySelectChecked(m))})("optionSelectDisChecked",function(m){return u(s),f(t.onActionCategorySelectDisChecked(m))}),a(),h(121,"br"),b(122,_f,7,7,"div",56),a(),r(123,"mat-step",59),g(124,"translate"),r(125,"p"),d(126),g(127,"translate"),a(),r(128,"div",60)(129,"a",61),g(130,"cmsthumbnail"),b(131,Sf,2,4,"img",62),a()(),b(132,hf,8,16,"div",63)(133,Mf,7,7,"div",56),a(),b(134,Cf,2,0,"ng-template",64)(135,bf,2,0,"ng-template",65)(136,vf,2,0,"ng-template",66)(137,If,2,0,"ng-template",67),a()()()()}if(i&2){let s=x(19),M=x(29),m=x(40),D=x(48),H=x(56),j=x(64),he=x(72),ye=x(79),ke=x(86),Xt=x(93),$o=x(100),er=x(107),tr=x(114);o(),c("optionsInfoAreaId",t.constructorInfoAreaId),o(3),S(" ",t.formInfo.formTitle," "),o(2),S(" ",_(7,93,"TITLE.Be_Careful_When_Entering_Information")," "),o(6),c("label",k(_(13,95,"TITLE.REQUIRED_INFORMATION"))),o(2),c("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),o(3),v(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),c("placeholder",k(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),T("ngModel",t.dataModel.title),o(2),c("ngIf",!s.value),o(),c("ngIf",s.value),o(2),S("",s.value.length," / 100"),o(),c("ngIf",s.errors==null?null:s.errors.required),o(),c("optionSelectForce",t.dataModel.linkBillboardPatternId)("optionPlaceholder",_(26,97,"TITLE.Billboard_Pattern")),o(3),T("ngModel",t.dataModel.sharingLinkType),o(2),c("ngForOf",t.dataModelEnumSharingPriceTypeResult.listItems),o(2),v(_(33,99,"TITLE.Select_type_of_content")),o(2),c("ngIf",M.errors==null?null:M.errors.required),o(),c("ngIf",t.fieldsInfo.isPublic==null?null:t.fieldsInfo.isPublic.accessWatchField),o(3),v(t.fieldsInfo.toWebAddress==null?null:t.fieldsInfo.toWebAddress.fieldTitle),o(),c("placeholder",k(t.fieldsInfo.toWebAddress==null?null:t.fieldsInfo.toWebAddress.fieldTitle)),T("ngModel",t.dataModel.toWebAddress),o(3),S("",m.value.length," / 100"),o(),c("ngIf",m.errors==null?null:m.errors.required),o(3),v(t.fieldsInfo.webAddress==null?null:t.fieldsInfo.webAddress.fieldTitle),o(),c("placeholder",k(t.fieldsInfo.webAddress==null?null:t.fieldsInfo.webAddress.fieldTitle)),T("ngModel",t.dataModel.webAddress),o(3),S("",D.value.length," / 100"),o(),c("ngIf",D.errors==null?null:D.errors.required),o(3),v(t.fieldsInfo.carryToWebAddress==null?null:t.fieldsInfo.carryToWebAddress.fieldTitle),o(),c("placeholder",k(t.fieldsInfo.carryToWebAddress==null?null:t.fieldsInfo.carryToWebAddress.fieldTitle)),T("ngModel",t.dataModel.carryToWebAddress),o(3),S("",H.value.length," / 100"),o(),c("ngIf",H.errors==null?null:H.errors.required),o(3),v(t.fieldsInfo.smallPreview==null?null:t.fieldsInfo.smallPreview.fieldTitle),o(),c("placeholder",k(t.fieldsInfo.smallPreview==null?null:t.fieldsInfo.smallPreview.fieldTitle)),T("ngModel",t.dataModel.smallPreview),o(3),S("",j.value.length," / 100"),o(),c("ngIf",j.errors==null?null:j.errors.required),o(3),v(t.fieldsInfo.clickPrice==null?null:t.fieldsInfo.clickPrice.fieldTitle),o(),c("placeholder",k(_(73,101,"TITLE.Amount_Per_Click"))),T("ngModel",t.dataModel.clickPrice),o(3),c("ngIf",he.errors==null?null:he.errors.required),o(3),v(t.fieldsInfo.viewPrice==null?null:t.fieldsInfo.viewPrice.fieldTitle),o(),c("placeholder",k(_(80,103,"TITLE.Amount_Per_Show"))),T("ngModel",t.dataModel.viewPrice),o(3),c("ngIf",ye.errors==null?null:ye.errors.required),o(3),v(t.fieldsInfo.maxPriceOfSharePerDay==null?null:t.fieldsInfo.maxPriceOfSharePerDay.fieldTitle),o(),c("placeholder",k(_(87,105,"TITLE.Number_of_views_so_far"))),T("ngModel",t.dataModel.maxPriceOfSharePerDay),o(3),c("ngIf",ke.errors==null?null:ke.errors.required),o(3),v(t.fieldsInfo.maxPriceOfShareTotal==null?null:t.fieldsInfo.maxPriceOfShareTotal.fieldTitle),o(),c("placeholder",k(_(94,107,"TITLE.Number_of_click_so_far"))),T("ngModel",t.dataModel.maxPriceOfShareTotal),o(3),c("ngIf",Xt.errors==null?null:Xt.errors.required),o(3),v(t.fieldsInfo.formulaPercent==null?null:t.fieldsInfo.formulaPercent.fieldTitle),o(),c("placeholder",k(_(101,109,"TITLE.Number_of_views_so_far"))),T("ngModel",t.dataModel.formulaPercent),o(3),c("ngIf",$o.errors==null?null:$o.errors.required),o(3),v(t.fieldsInfo.currentClickCount==null?null:t.fieldsInfo.currentClickCount.fieldTitle),o(),c("placeholder",k(_(108,111,"TITLE.Number_of_click_so_far"))),T("ngModel",t.dataModel.currentClickCount),o(3),c("ngIf",er.errors==null?null:er.errors.required),o(3),v(t.fieldsInfo.currentViewCount==null?null:t.fieldsInfo.currentViewCount.fieldTitle),o(),c("placeholder",k(_(115,113,"TITLE.Number_of_views_so_far"))),T("ngModel",t.dataModel.currentViewCount),o(3),c("ngIf",tr.errors==null?null:tr.errors.required),o(),c("ngIf",t.formInfo.formSubmitAllow),o(),c("label",k(_(119,115,"TITLE.TARGET_SELECTION"))),o(2),T("optionModel",t.dataContentCategoryModel),o(2),c("ngIf",t.formInfo.formSubmitAllow),o(),c("label",k(_(124,117,"TITLE.ATTACH_FILES"))),o(3),v(_(127,119,"TITLE.CONTENT_ATTACH_FILES")),o(3),c("href",k(_(130,121,t.dataModel.linkMainImageIdSrc)),K),o(2),c("ngIf",(t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0),o(),c("ngIf",t.fieldsInfo.linkMainImageId==null?null:t.fieldsInfo.linkMainImageId.accessWatchField),o(),c("ngIf",t.formInfo.formSubmitAllow)}},dependencies:[He,F,ve,Wt,Ht,U,Oe,Ft,Gt,z,Ce,Q,fe,ge,$,be,Ie,Le,G,ki,Ai,Li,xi,yi,we,q,Ri,Ye,ii,Kt,V,_e],styles:["@media (max-width: 1399px){.wizard.wizard-4[_ngcontent-%COMP%]   .wizard-nav[_ngcontent-%COMP%]   .wizard-steps[_ngcontent-%COMP%]   .wizard-step[_ngcontent-%COMP%]{flex:0 0 calc(25% - .25rem)}}form[_ngcontent-%COMP%]{text-align:right}.wizard[_ngcontent-%COMP%]{margin-top:20%}.wrapper[_ngcontent-%COMP%]{display:flex;padding-top:15px}.lbl-status[_ngcontent-%COMP%]{width:100px;display:flex;align-items:flex-end;justify-content:center;margin-top:5px}.status-select[_ngcontent-%COMP%]{width:970px}textarea[_ngcontent-%COMP%]{resize:none}.calender-select[_ngcontent-%COMP%]{width:252px}.next-modal[_ngcontent-%COMP%]{width:100px;margin-right:15px}.pb-4[_ngcontent-%COMP%], .py-4[_ngcontent-%COMP%]{padding-bottom:7px!important;padding-top:7px!important}tag-input[_ngcontent-%COMP%]{width:1000px}#map[_ngcontent-%COMP%]{width:100%;height:600px}.lbl-content[_ngcontent-%COMP%]{width:100px;display:flex;align-items:flex-end;justify-content:center;margin-top:25px}"]});var Uo=$n;var Ef=()=>["expandedTitle"],Tf=()=>["expandedDetail"],wf=()=>[5,10,20,100],xr=n=>({display:n});function yf(n,l){if(n&1){let e=E();r(0,"div",18)(1,"a",51),I("click",function(){u(e);let t=p();return f(t.onActionButtonNewRow())}),h(2,"i",52)(3,"br"),a(),r(4,"p",21),d(5),g(6,"translate"),a()()}n&2&&(o(5),v(_(6,1,"ACTION.ADD")))}function kf(n,l){if(n&1){let e=E();r(0,"div",18)(1,"a",9),I("click",function(){u(e);let t=p();return f(t.onActionButtonLog())}),h(2,"i",53)(3,"br"),a(),r(4,"p",21),d(5),g(6,"translate"),a()()}n&2&&(o(5),v(_(6,1,"ACTION.REPORTS")))}function Af(n,l){if(n&1){let e=E();r(0,"div",18)(1,"a",54),I("click",function(){u(e);let t=p();return f(t.onActionButtonEditRow(t.tableRowSelected))}),h(2,"i",55)(3,"br"),a(),r(4,"p",21),d(5),g(6,"translate"),a()()}n&2&&(o(5),v(_(6,1,"ACTION.EDIT")))}function Lf(n,l){if(n&1){let e=E();r(0,"div",18)(1,"a",56),I("click",function(){u(e);let t=p();return f(t.onActionButtonDeleteRow(t.tableRowSelected))}),h(2,"i",57)(3,"br"),a(),r(4,"p",21),d(5),g(6,"translate"),a()()}n&2&&(o(5),v(_(6,1,"ACTION.DELETE")))}function xf(n,l){n&1&&(r(0,"mat-header-cell"),d(1),g(2,"translate"),a()),n&2&&(o(),S(" ",_(2,1,"TITLE.MENU")," "))}function Df(n,l){if(n&1){let e=E();r(0,"mat-cell")(1,"button",58),I("click",function(){let t=u(e).$implicit,s=p();return f(s.onActionTableRowSelectActionMenu(t))}),h(2,"i",59),a()()}}function Rf(n,l){n&1&&(r(0,"mat-header-cell",60),d(1),g(2,"translate"),a()),n&2&&(o(),S(" ",_(2,1,"TITLE.PICTURE")," "))}function Bf(n,l){if(n&1&&(h(0,"img",62),g(1,"cmsthumbnail")),n&2){let e=p().$implicit;c("src",k(_(1,2,e.linkMainImageIdSrc)),K)}}function Pf(n,l){if(n&1&&(r(0,"mat-cell"),b(1,Bf,2,4,"img",61),a()),n&2){let e=l.$implicit;o(),c("ngIf",(e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0)}}function Vf(n,l){if(n&1&&(r(0,"mat-header-cell",60),d(1),a()),n&2){let e=p();o(),S(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function Of(n,l){if(n&1&&(r(0,"mat-cell"),d(1),a()),n&2){let e=l.$implicit;o(),S(" ",e.id," ")}}function Nf(n,l){if(n&1&&(r(0,"mat-header-cell",60),d(1),a()),n&2){let e=p();o(),S(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function Ff(n,l){if(n&1&&(r(0,"mat-cell"),d(1),g(2,"cmssiteinfo"),g(3,"async"),a()),n&2){let e=l.$implicit;o(),S(" ",_(3,3,_(2,1,e.linkSiteId))," ")}}function Gf(n,l){if(n&1&&(r(0,"mat-header-cell",60),d(1),a()),n&2){let e=p();o(),S(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function Wf(n,l){if(n&1&&h(0,"select",65),n&2){let e=p().$implicit,i=p();c("contentService",i.contentService)("row",e)("ngStyle",ze(3,xr,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function Hf(n,l){if(n&1&&(r(0,"mat-cell"),h(1,"i",63),g(2,"statusIconClass"),b(3,Wf,1,5,"select",64),a()),n&2){let e=l.$implicit,i=p();o(),c("ngClass",_(2,2,e.recordStatus)),o(2),c("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessEditRow)}}function qf(n,l){if(n&1&&(r(0,"mat-header-cell",60),d(1),a()),n&2){let e=p();o(),S(" ",e.fieldsInfo.isPublic==null?null:e.fieldsInfo.isPublic.fieldTitle," ")}}function jf(n,l){if(n&1&&(r(0,"mat-cell"),h(1,"i",63),g(2,"boolclass"),a()),n&2){let e=l.$implicit;o(),c("ngClass",_(2,1,e.isPublic))}}function Uf(n,l){if(n&1&&(r(0,"mat-header-cell",60),d(1),a()),n&2){let e=p();o(),S(" ",e.fieldsInfo.currentViewCount==null?null:e.fieldsInfo.currentViewCount.fieldTitle," ")}}function zf(n,l){if(n&1&&(r(0,"mat-cell"),d(1),a()),n&2){let e=l.$implicit;o(),S(" ",e.currentViewCount," ")}}function Qf(n,l){if(n&1&&(r(0,"mat-header-cell",60),d(1),a()),n&2){let e=p();o(),S(" ",e.fieldsInfo.currentClickCount==null?null:e.fieldsInfo.currentClickCount.fieldTitle," ")}}function Kf(n,l){if(n&1&&(r(0,"mat-cell"),d(1),a()),n&2){let e=l.$implicit;o(),S(" ",e.currentClickCount," ")}}function Jf(n,l){if(n&1&&(r(0,"mat-header-cell",60),d(1),a()),n&2){let e=p();o(),S(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function Xf(n,l){if(n&1&&(r(0,"mat-cell",66),d(1),g(2,"localeDateTime"),a()),n&2){let e=l.$implicit;o(),S(" ",_(2,1,e.createdDate)," ")}}function Yf(n,l){if(n&1&&(r(0,"mat-header-cell",60),d(1),a()),n&2){let e=p();o(),S(" ",e.fieldsInfo.updatedDate==null?null:e.fieldsInfo.updatedDate.fieldTitle," ")}}function Zf(n,l){if(n&1&&(r(0,"mat-cell"),d(1),g(2,"localeDate"),a()),n&2){let e=l.$implicit;o(),S(" ",_(2,1,e.updatedDate)," ")}}function $f(n,l){n&1&&(r(0,"mat-header-cell"),d(1),g(2,"translate"),a()),n&2&&(o(),S(" ",_(2,1,"TITLE.OPTION")," "))}function eg(n,l){if(n&1&&(r(0,"mat-cell",67)(1,"button",68)(2,"mat-icon"),d(3,"more_vert"),a()(),h(4,"mat-menu",null,2),a()),n&2){let e=x(5);o(),c("matMenuTriggerFor",e)}}function tg(n,l){n&1&&(r(0,"mat-header-cell",60),d(1),g(2,"translate"),a()),n&2&&(o(),S(" ",_(2,1,"TITLE.LINKTO")," "))}function ig(n,l){if(n&1){let e=E();r(0,"mat-cell")(1,"button",69),I("click",function(){let t=u(e).$implicit,s=p();return f(s.onActionButtonLinkTo(t))}),r(2,"mat-icon",70),d(3,"\u2197"),a()()()}}function ng(n,l){if(n&1&&(r(0,"mat-cell"),d(1),g(2,"translate"),g(3,"localeDateTime"),h(4,"br"),d(5),g(6,"translate"),h(7,"br"),d(8),g(9,"translate"),a()),n&2){let e=l.$implicit;o(),Be(" ",_(2,7,"TITLE.CreationDate")," : ",_(3,9,e.createdDate)," "),o(4),Be(" ",_(6,11,"TITLE.CurrentNumberOfClicks")," : ",e.currentClickCount," "),o(3),ir(" ",_(9,13,"TITLE.CurrentViewCount")," : ",e.CurrentViewCount," ",e.currentViewCount," ")}}function og(n,l){if(n&1&&(h(0,"img",73),g(1,"cmsthumbnail")),n&2){let e=p().$implicit;c("src",k(_(1,2,e.linkMainImageIdSrc)),K)}}function rg(n,l){if(n&1&&(r(0,"tr"),h(1,"td"),r(2,"td"),d(3),a()()),n&2){let e=p().$implicit,i=p();o(3),Be("",i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle," : ",e.title)}}function ag(n,l){if(n&1){let e=E();r(0,"tr"),h(1,"td"),r(2,"td"),d(3),r(4,"span",74),I("click",function(){u(e);let t=p(2);return f(t.onActionCopied())}),h(5,"i",75),a(),r(6,"a",76),d(7),a()()()}if(n&2){let e=p().$implicit,i=p();o(3),S(" ",i.fieldsInfo.webAddress==null?null:i.fieldsInfo.webAddress.fieldTitle," : "),o(),c("cdkCopyToClipboard",e.toWebAddress),o(2),c("href",k(e.toWebAddress),K),o(),v(e.toWebAddress)}}function lg(n,l){if(n&1){let e=E();r(0,"tr"),h(1,"td"),r(2,"td"),d(3),g(4,"translate"),r(5,"span",77),I("click",function(){u(e);let t=p(2);return f(t.onActionCopied())}),h(6,"i",75),a(),d(7,"\xA0 "),r(8,"a",78),d(9),a()()()}if(n&2){let e=p().$implicit;o(3),S(" ",_(4,5,"TITLE.Short_link")," : "),o(2),c("cdkCopyToClipboard",e.carryToWebAddress),o(3),c("href",k(e.carryToWebAddress),K),o(),v(e.carryToWebAddress)}}function sg(n,l){if(n&1&&(r(0,"mat-cell")(1,"div")(2,"table")(3,"tr")(4,"th"),b(5,og,2,4,"img",71),a(),r(6,"th"),d(7),a()(),b(8,rg,4,2,"tr",72)(9,ag,8,5,"tr",72)(10,lg,10,7,"tr",72),r(11,"tr"),h(12,"td"),r(13,"td"),d(14),a()(),r(15,"tr"),h(16,"td")(17,"td"),a()()()()),n&2){let e=l.$implicit,i=p();o(5),c("ngIf",(e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0),o(2),Be("",i.fieldsInfo.id==null?null:i.fieldsInfo.id.fieldTitle," : ",e.id),o(),c("ngIf",e.title),o(),c("ngIf",e.toWebAddress),o(),c("ngIf",e.carryToWebAddress),o(4),Be("",i.fieldsInfo.currentClickCount==null?null:i.fieldsInfo.currentClickCount.fieldTitle," : ",e.currentClickCount)}}function cg(n,l){n&1&&h(0,"mat-header-row")}function dg(n,l){if(n&1){let e=E();r(0,"mat-row",79),I("click",function(){let t=u(e).$implicit,s=p();return f(s.onActionTableRowSelect(t))})("mouseenter",function(){let t=u(e).$implicit,s=p();return f(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=u(e).$implicit,s=p();return f(s.onActionTableRowMouseLeave(t))}),a()}if(n&2){let e=l.$implicit,i=l.dataIndex,t=p();se("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",e.id===(t.tableRowSelected==null?null:t.tableRowSelected.id))}}function mg(n,l){if(n&1){let e=E();r(0,"mat-row",79),I("click",function(){let t=u(e).$implicit,s=p();return f(s.onActionTableRowSelect(t))})("mouseenter",function(){let t=u(e).$implicit,s=p();return f(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=u(e).$implicit,s=p();return f(s.onActionTableRowMouseLeave(t))}),a()}if(n&2){let e=l.$implicit,i=l.dataIndex,t=p();se("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",e.id===(t.tableRowSelected==null?null:t.tableRowSelected.id))}}function pg(n,l){if(n&1){let e=E();r(0,"mat-row",80),I("click",function(){let t=u(e).$implicit,s=p();return f(s.onActionTableRowSelect(t))})("mouseenter",function(){let t=u(e).$implicit,s=p();return f(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=u(e).$implicit,s=p();return f(s.onActionTableRowMouseLeave(t))}),a()}if(n&2){let e=l.$implicit,i=l.dataIndex,t=p();se("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",e.id===(t.tableRowSelected==null?null:t.tableRowSelected.id)),c("ngStyle",ze(7,xr,e.expanded===!0?"":"none"))}}var eo=class eo extends Tt{constructor(e,i,t,s,M,m,D,H,j,he,ye,ke){super(e,new ri,ye,m,j);this.contentService=e;this.cmsToastrService=i;this.cmsConfirmationDialogService=t;this.router=s;this.activatedRoute=M;this.tokenHelper=m;this.cmsStoreService=D;this.cdr=H;this.translate=j;this.pageInfo=he;this.publicHelper=ye;this.dialog=ke;this.requestLinkBillboardPatternId=0;this.constructorInfoAreaId=this.constructor.name;this.filteModelContent=new fo;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["LinkMainImageIdSrc","Id","RecordStatus","IsPublic","LinkTo","action_menu"];this.tabledisplayedColumnsMobileSource=["LinkMainImageIdSrc","Id","RecordStatus","IsPublic","LinkTo","action_menu"];if(this.publicHelper.processService.cdr=this.cdr,this.requestLinkBillboardPatternId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkBillboardPatternId")),this.optionsSearch.parentMethods={onSubmit:Xt=>this.onSubmitOptionsSearch(Xt)},this.filteModelContent.sortColumn="Id",this.filteModelContent.sortType=ce.Descending,this.requestLinkBillboardPatternId>0){let Xt=new oe;Xt.propertyName="LinkBillboardPatternId",Xt.value=this.requestLinkBillboardPatternId,this.filteModelContent.filters.push(Xt)}}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.cmsApiStoreSubscribe=this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>Ae(this,null,function*(){this.tokenInfo=e,this.DataGetAll()}))}ngOnDestroy(){this.cmsApiStoreSubscribe&&this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new ri);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));if(this.categoryModelSelected&&this.categoryModelSelected.id>0){let t=new oe;t.propertyName="linkBillboardPatternId",t.value=this.categoryModelSelected.id,i.filters.push(t)}if(this.categoryPatternModelSelected&&this.categoryPatternModelSelected.id>0){let t=new oe;t.propertyName="TargetCategories",t.propertyAnyName="linkCategoryId",t.value=this.categoryPatternModelSelected.id,i.filters.push(t)}this.contentService.setAccessLoad(),this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),t.isSuccess?(this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=ce.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=ce.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=ce.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionSelectorSelectPattern(e){var i=this.filteModelContent.sortColumn,t=this.filteModelContent.sortType;this.filteModelContent=new fo,this.filteModelContent.sortColumn=i,this.filteModelContent.sortType=t,this.categoryPatternModelSelected=e,this.DataGetAll()}onActionSelectorSelectCategory(e){var i=this.filteModelContent.sortColumn,t=this.filteModelContent.sortType;this.filteModelContent=new fo,this.filteModelContent.sortColumn=i,this.filteModelContent.sortType=t,this.categoryModelSelected=e,this.DataGetAll()}onActionButtonNewRow(){if(this.categoryPatternModelSelected==null||this.categoryPatternModelSelected.id===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorCategoryNotSelected").subscribe(e=>{this.cmsToastrService.typeErrorSelected(e)});return}if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}this.router.navigate(["/linkmanagement/target/add",this.categoryPatternModelSelected.id])}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}this.router.navigate(["/linkmanagement/target/edit",this.tableRowSelected.id])}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(s=>{this.cmsToastrService.typeErrorSelected(s)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(s=>{i=s["MESSAGE.Please_Confirm"],t=s["MESSAGE.Do_you_want_to_delete_this_content"]+"?"}),this.cmsConfirmationDialogService.confirm(i,t).then(s=>{if(s){let M=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(m=>{this.publicHelper.processService.processStart(M,m,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:m=>{m.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(M)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(M,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(m=>{i.set(m,0)}),this.translate.get("MESSAGE.All").subscribe(m=>{i.set(m,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(m=>{this.publicHelper.processService.processStart(t,m,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:m=>{m.isSuccess?(this.translate.get("MESSAGE.All").subscribe(D=>{i.set(D,m.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(m.errorMessage),this.publicHelper.processService.processStop(t)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(t,!1)}});let s=JSON.parse(JSON.stringify(this.filteModelContent)),M=new oe;M.propertyName="RecordStatus",M.value=tt.Available,s.filters.push(M),this.contentService.ServiceGetCount(s).subscribe({next:m=>{m.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(D=>{i.set(D,m.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(m.errorMessage),this.publicHelper.processService.processStop(t)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonLinkTo(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.cmsToastrService.typeErrorSelectedRow();return}if(e.recordStatus!=tt.Available){this.cmsToastrService.typeWarningRecordStatusNoAvailable();return}this.tableRowSelected=e;let i=this.constructor.name+"ServiceGetOneById";this.translate.get("MESSAGE.get_news_information").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructorInfoAreaId)}),this.contentService.ServiceGetOneById(e.id).subscribe({next:t=>{if(t.isSuccess){var s="";this.publicHelper.isMobile?s="dialog-fullscreen":s="dialog-min",this.dialog.open(Mr,{height:"90%",width:"90%",panelClass:s,enterAnimationDuration:ie.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:ie.cmsViewConfig.exitAnimationDuration,data:{title:t.item.title,urlViewContentQRCodeBase64:t.item.urlViewContentQRCodeBase64,urlViewContent:t.item.urlViewContent}}).afterClosed().subscribe(m=>{m&&m.dialogChangedDate&&this.DataGetAll()})}else this.cmsToastrService.typeErrorMessage(t.errorMessage);this.publicHelper.processService.processStop(i)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(i,!1)}})}onActionCopied(){this.cmsToastrService.typeSuccessCopedToClipboard()}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0&&(this.filteModelContent.filters=[...this.filteModelContent.filters,...e]),this.DataGetAll()}onActionButtonLog(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.router.navigate(["/linkmanagement/target-billboard-log/LinkManagementTargetId",e.id])}};eo.\u0275fac=function(i){return new(i||eo)(C(bi),C(O),C(So),C(Fe),C(Ke),C(We),C(Ge),C(B),C(P),C(It),C(N),C(je))},eo.\u0275cmp=R({type:eo,selectors:[["app-linkmanagement-target-list"]],standalone:!1,features:[J],decls:93,vars:40,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionActionRowDisplayMenuAct","optionSelectRowItemTitle"],["cms-tree",""],[3,"optionChange"],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-memo","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-share","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","","multiTemplateDataRows","",3,"matSortChange","dataSource"],["matColumnDef","action_menu"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkMainImageIdSrc"],["mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","Id"],["matColumnDef","LinkSiteId"],["matColumnDef","RecordStatus"],["matColumnDef","IsPublic"],["matColumnDef","CurrentViewCount"],["matColumnDef","CurrentClickCount"],["matColumnDef","CreatedDate"],["style","direction:ltr",4,"matCellDef"],["matColumnDef","UpdatedDate"],["matColumnDef","Action"],["class","Action",4,"matCellDef"],["matColumnDef","LinkTo"],["matColumnDef","expandedTitle"],["matColumnDef","expandedDetail"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","ngStyle","click","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#FFFFFF"],[1,"fa-solid","fa-file-chart-column","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"click"],[1,"fa","fa-bars","font-18"],["mat-sort-header",""],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","40","width","40",3,"src",4,"ngIf"],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[2,"direction","ltr"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],["type","button","mat-icon-button","",3,"click"],[2,"color","#ff671f"],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","80","width","80",3,"src",4,"ngIf"],[4,"ngIf"],["aria-hidden","","height","80","width","80",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"navi-icon","style","cursor",3,"click","cdkCopyToClipboard"],[1,"flaticon2-copy"],["target","_blank",1,"short-link",3,"href"],[1,"navi-icon","cursor",3,"click","cdkCopyToClipboard"],["target","_blank",3,"href"],[3,"click","mouseenter","mouseleave"],[3,"click","mouseenter","mouseleave","ngStyle"]],template:function(i,t){if(i&1){let s=E();r(0,"app-cms-html-list",3),y("optionActionGuideNoticeDisplayChange",function(m){return u(s),w(t.viewGuideNotice,m)||(t.viewGuideNotice=m),f(m)}),I("optionOnActionButtonMemoRow",function(){return u(s),f(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return u(s),f(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return u(s),f(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return u(s),f(t.onActionButtonPrintRow())}),A(1,4),r(2,"app-linkmanagement-billboard-pattern-tree",5),I("optionChange",function(m){return u(s),f(t.onActionSelectorSelectPattern(m))}),a(),r(3,"app-linkmanagement-category-tree",5),I("optionChange",function(m){return u(s),f(t.onActionSelectorSelectCategory(m))}),a(),L(),Re(4,6)(5,7),A(6,8),r(7,"a",9),I("click",function(){return u(s),f(t.viewGuideNotice=!t.viewGuideNotice)}),h(8,"i",10),a(),r(9,"a",9),I("click",function(){return u(s),f(t.onActionButtonReload())}),h(10,"i",11),a(),L(),A(11,12),r(12,"a",13),I("click",function(){return u(s),f(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),h(13,"mat-slide-toggle",14),d(14),g(15,"translate"),a(),r(16,"a",13),I("click",function(){return u(s),f(t.onActionButtonStatist())}),h(17,"mat-slide-toggle",14),d(18),g(19,"translate"),a(),L(),A(20,15),b(21,yf,7,3,"div",16)(22,kf,7,3,"div",16),L(),A(23,17),b(24,Af,7,3,"div",16)(25,Lf,7,3,"div",16),r(26,"div",18)(27,"a",19),I("click",function(){return u(s),f(t.onActionButtonLog(t.tableRowSelected))}),h(28,"i",20)(29,"br"),a(),r(30,"p",21),d(31),g(32,"translate"),a()(),r(33,"div",18)(34,"a",9),I("click",function(){return u(s),f(t.onActionButtonLinkTo(t.tableRowSelected))}),h(35,"i",22)(36,"br"),a(),r(37,"p",21),d(38),g(39,"translate"),a()(),L(),A(40,23),r(41,"app-cms-search-list",24),y("optionsChange",function(m){return u(s),w(t.optionsSearch,m)||(t.optionsSearch=m),f(m)}),a(),r(42,"app-cms-statist-list",24),y("optionsChange",function(m){return u(s),w(t.optionsStatist,m)||(t.optionsStatist=m),f(m)}),a(),L(),A(43,25),r(44,"mat-table",26,0),I("matSortChange",function(){u(s);let m=x(45);return f(t.onTableSortData(m))}),A(46,27),b(47,xf,3,3,"mat-header-cell",28)(48,Df,3,0,"mat-cell",29),L(),A(49,30),b(50,Rf,3,3,"mat-header-cell",31)(51,Pf,2,1,"mat-cell",29),L(),A(52,32),b(53,Vf,2,1,"mat-header-cell",31)(54,Of,2,1,"mat-cell",29),L(),A(55,33),b(56,Nf,2,1,"mat-header-cell",31)(57,Ff,4,5,"mat-cell",29),L(),A(58,34),b(59,Gf,2,1,"mat-header-cell",31)(60,Hf,4,4,"mat-cell",29),L(),A(61,35),b(62,qf,2,1,"mat-header-cell",31)(63,jf,3,3,"mat-cell",29),L(),A(64,36),b(65,Uf,2,1,"mat-header-cell",31)(66,zf,2,1,"mat-cell",29),L(),A(67,37),b(68,Qf,2,1,"mat-header-cell",31)(69,Kf,2,1,"mat-cell",29),L(),A(70,38),b(71,Jf,2,1,"mat-header-cell",31)(72,Xf,3,3,"mat-cell",39),L(),A(73,40),b(74,Yf,2,1,"mat-header-cell",31)(75,Zf,3,3,"mat-cell",29),L(),A(76,41),b(77,$f,3,3,"mat-header-cell",28)(78,eg,6,1,"mat-cell",42),L(),A(79,43),b(80,tg,3,3,"mat-header-cell",31)(81,ig,4,0,"mat-cell",29),L(),A(82,44),b(83,ng,10,15,"mat-cell",29),L(),A(84,45),b(85,sg,18,8,"mat-cell",29),L(),b(86,cg,1,0,"mat-header-row",46)(87,dg,1,6,"mat-row",47)(88,mg,1,6,"mat-row",47)(89,pg,1,9,"mat-row",48),a(),L(),A(90,49),r(91,"mat-paginator",50,1),I("page",function(m){return u(s),f(t.onTablePageingData(m))}),a(),L(),a()}i&2&&(c("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),T("optionActionGuideNoticeDisplay",t.viewGuideNotice),c("optionTreeDisplay",!0)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelectDoubleClick)("optionActionRowDisplayMenuAct",t.tableRowSelectActionMenuClick)("optionSelectRowItemTitle",(t.tableRowSelected==null||t.tableRowSelected.title==null?null:t.tableRowSelected.title.length)>0?t.tableRowSelected==null?null:t.tableRowSelected.title:t.tableRowSelected==null?null:t.tableRowSelected.id),o(13),c("checked",t.optionsSearch.data.show),o(),S("",_(15,29,"ACTION.SEARCH")," "),o(3),c("checked",t.optionsStatist.data.show),o(),S("",_(19,31,"ACTION.STATIST")," "),o(3),c("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessAddRow),o(),c("ngIf",(t.tableRowSelected==null?null:t.tableRowSelected.id)>0),o(2),c("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),o(),c("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),o(6),v(_(32,33,"ACTION.LOG")),o(7),v(_(39,35,"TITLE.LINKTO")),o(3),T("options",t.optionsSearch),o(),T("options",t.optionsStatist),o(2),c("dataSource",t.tableSource),o(42),c("matHeaderRowDef",t.tabledisplayedColumns),o(),c("matRowDefColumns",Ve(37,Ef)),o(),c("matRowDefColumns",t.tabledisplayedColumns),o(),c("matRowDefColumns",Ve(38,Tf)),o(2),c("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",Ve(39,wf)))},dependencies:[nt,F,Nt,qe,Le,G,lt,st,ct,dt,mt,pt,ut,gt,Mt,_t,ft,Ct,St,ht,bt,vt,Ii,wt,yt,kt,Qt,Gn,Hn,Ne,V,At,_e,Lt,Mo,xt,_o],styles:[".float-left[_ngcontent-%COMP%]{float:left!important}.pointer[_ngcontent-%COMP%]{cursor:pointer}.short-link[_ngcontent-%COMP%]{max-width:300px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;display:block;direction:ltr}.cursor[_ngcontent-%COMP%]{cursor:pointer}"]});var ro=eo;var ug=[{path:"",component:Oo,data:{title:"ROUTE.LINKMANAGMENT"},children:[{path:"config",loadChildren:()=>import("./chunk-WJLTFG2I.js").then(n=>n.LinkManagementConfigModule),data:{title:"ROUTE.LINKMANAGMENT"}},{path:"target",component:ro,data:{title:"ROUTE.LINKMANAGMENT.TARGET"}},{path:"target/list/LinkBillboardPatternId/:LinkBillboardPatternId",component:ro,data:{title:"ROUTE.LINKMANAGMENT.TARGET"}},{path:"target/add/:LinkBillboardPatternId",component:jo,data:{title:"ROUTE.LINKMANAGMENT.TARGET"}},{path:"target/edit/:Id",component:Uo,data:{title:"ROUTE.LINKMANAGMENT.TARGET"}},{path:"billboard",component:oo,data:{title:"ROUTE.LINKMANAGMENT.BILLBOARD"}},{path:"billboard/list/LinkBillboardPatternId/:LinkBillboardPatternId",component:oo,data:{title:"ROUTE.LINKMANAGMENT.BILLBOARD"}},{path:"billboard/add/:LinkBillboardPatternId",component:Lo,data:{title:"ROUTE.LINKMANAGMENT.BILLBOARD"}},{path:"billboard/edit/:Id",component:xo,data:{title:"ROUTE.LINKMANAGMENT.BILLBOARD"}},{path:"target-billboard-log",component:Fi,data:{title:"ROUTE.LINKMANAGMENT.TARGETBILLBOARD"}},{path:"target-billboard-log/LinkManagementBillboardId/:LinkManagementBillboardId",component:Fi,data:{title:"ROUTE.LINKMANAGMENT.TARGETBILLBOARD"}},{path:"target-billboard-log/LinkManagementTargetId/:LinkManagementTargetId",component:Fi,data:{title:"ROUTE.LINKMANAGMENT.TARGETBILLBOARD"}},{path:"target-billboard-log/Key/:Key",component:Fi,data:{title:"ROUTE.LINKMANAGMENT.TARGETBILLBOARD"}},{path:"billboard-pattern",component:ko,data:{title:"ROUTE.LINKMANAGMENT.BILLBOARDPATTERN"}},{path:"accounting",component:yo,data:{title:"ROUTE.LINKMANAGMENT.ACCOUNTING"}},{path:"accountingdetail",component:to,data:{title:"ROUTE.LINKMANAGMENT.ACCOUNTINGDETAIL"}},{path:"accountingdetail/LinkManagementAccountingId/:LinkManagementAccountingId",component:to,data:{title:"ROUTE.LINKMANAGMENT.ACCOUNTINGDETAIL"}},{path:"member",component:Wo,data:{title:"ROUTE.LINKMANAGMENT.MEMBER"}}]}],Gi=class Gi{};Gi.\u0275fac=function(e){return new(e||Gi)},Gi.\u0275mod=lo({type:Gi}),Gi.\u0275inj=ao({imports:[Qo.forChild(ug),Qo]});var zo=Gi;var Wi=class Wi{};Wi.\u0275fac=function(e){return new(e||Wi)},Wi.\u0275mod=lo({type:Wi}),Wi.\u0275inj=ao({providers:[dr,te,mr,pr,So,Ue,Ut,Yt,Zt,rt,Hi,zt,bi,qi,vi,at],imports:[or,zo,rr,ar.withConfig({warnOnNgModelWithFormControl:"never"}),Sr,hr,cr,sr,gr,Cr,_r]});var Dr=Wi;export{Dr as LinkManagementModule};
