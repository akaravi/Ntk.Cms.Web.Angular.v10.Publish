import{a as mn}from"./chunk-ZYQUQR25.js";import{a as ka}from"./chunk-2JTWFKVB.js";import{a as Fi}from"./chunk-5CIV5QPI.js";import{a as Nn,b as Hn}from"./chunk-NBASDVRZ.js";import{a as si}from"./chunk-OJOPCFWT.js";import{a as ni,b as t0}from"./chunk-6XUUXNWV.js";import{a as Wo}from"./chunk-ULWNIPAQ.js";import{a as n0}from"./chunk-V26JC5DQ.js";import{a as i0}from"./chunk-S7TLVSX5.js";import{a as Pa}from"./chunk-XSBG6UYX.js";import{a as Ho}from"./chunk-FNI7GNBM.js";import{a as Ci}from"./chunk-OFRUYLR4.js";import{a as pn}from"./chunk-VLPACEBF.js";import{a as e0}from"./chunk-XUZIIDV3.js";import{a as On}from"./chunk-HYCJ4UQO.js";import{a as pc,b as mc,d as uc,e as $m}from"./chunk-C5ZBHCDB.js";import{j as Jt,k as Xt,l as $t}from"./chunk-PD4H4RXZ.js";import{a as Jm}from"./chunk-UQSCDEIP.js";import{a as Li}from"./chunk-IXPEP4O3.js";import{a as Xm}from"./chunk-OK6PZZWU.js";import{a as $i}from"./chunk-IUA4WVGX.js";import{a as tn}from"./chunk-JCUWFHRI.js";import{a as Km}from"./chunk-S32XVBWW.js";import{a as Fn}from"./chunk-ULRZIL6D.js";import{a as Bn}from"./chunk-Z7LLDNBU.js";import{a as Oi}from"./chunk-YVXHHNGT.js";import{a as qt}from"./chunk-3OXB4ASU.js";import{a as ar,b as lr,c as bt,d as Tt,e as wt,f as No,g as xt}from"./chunk-QM2ZNJ2D.js";import{a as Bt}from"./chunk-NBLOFTCW.js";import{b as Ie,c as Ai,d as Jn}from"./chunk-WSRBIPMR.js";import{a as Dt}from"./chunk-R5M5JHUG.js";import{a as Ym}from"./chunk-PQAMI56L.js";import{a as en}from"./chunk-5VSKDA46.js";import{a as Vi}from"./chunk-N2KKMXOT.js";import{a as Bo,b as Zm}from"./chunk-ACTYMGGL.js";import{a as Mt}from"./chunk-AM4TJVH7.js";import{a as U}from"./chunk-BTN5MJ5N.js";import{$b as Ro,A as ha,Aa as ln,Ab as gt,Ac as cn,B as Wt,Ba as $d,Bb as Et,Bc as rr,C as Yd,Ca as ec,Cb as It,D as Kd,Da as tc,Db as Zi,Dc as F,E as ya,Ea as ic,Eb as Ji,F as Ca,Fb as Xi,Ga as vr,Gb as hn,H as Sa,Ha as Me,Hb as yn,I as Zd,Ia as be,Ib as qm,J as Jd,Ja as xe,Jb as it,K as de,Kb as nt,L as De,Lb as ot,M as Ae,Ma as cm,Mb as rt,N as om,Na as pm,Nb as at,O as rm,Ob as lt,P as am,Pa as Ee,Pb as st,Q as pi,Qa as mm,Qb as dt,R as we,Rb as ct,S as Xd,Sa as yo,Sb as pt,T as zi,Ta as um,Tb as li,U as et,V as mi,Va as ci,Wa as ei,Wb as xo,X as Mi,Xa as ti,Xb as Ao,Y as bi,Ya as ii,Yb as Po,Z as Ti,Za as Om,Zb as ko,_ as wi,_b as Do,ab as Fm,ac as Lo,bb as Bm,bc as Vo,cb as Nm,cc as Oo,db as Hm,dc as Fo,eb as Wm,fb as Gm,fc as L,gb as Um,gc as O,ka as dm,kb as Aa,l as di,lb as Eo,ma as Q,mb as Io,n as Ht,nb as Mo,nc as ut,o as Y,oa as Je,ob as bo,oc as Qm,pb as To,qb as wo,r as q,rb as dc,s as Te,sb as cc,t as zd,tb as jm,u as Pe,ub as At,uc as K,v as Ct,vb as Pt,vc as V,w as ce,wc as kt,x as ke,xb as or,xc as zm,y as Ot,ya as Pn,yb as vt,za as kn,zc as ht}from"./chunk-QGGCLMQI.js";import{a as sc,m as Z}from"./chunk-WNRZ34IP.js";import{a as W}from"./chunk-OP2H2BS3.js";import{$d as J,$f as St,$m as wm,$n as Ta,Bb as ee,Bd as Oe,Bf as Di,Bn as Dm,Ca as j,Cb as te,Cd as Er,Da as Jp,Db as ie,Dn as Kn,E as Yt,Ed as qe,En as Gn,Fa as o,Fm as Dn,Fn as Zn,Gd as X,Gm as Em,Gn as Mn,H as Ii,Hb as k,Hc as se,Hm as Ea,Hn as Td,Ib as ye,Ic as Ne,Im,In as wr,Jb as Se,Jc as N,Jm as un,Jn as Rn,Ka as v,Kb as Vt,Kc as fo,Kd as Be,Kj as vm,Km as Mm,Kn as Ln,Lc as _o,Lm as qn,Ln as xr,Mb as c,Mc as go,Mm as Qn,Mn as So,Nb as M,Nc as tt,Nd as Ft,Nm as Xo,Nn as Ar,O as Kt,Ob as y,Od as G,Om as Vr,On as nr,P as Zt,Pa as R,Pb as $,Pc as He,Pm as Or,Pn as Ki,Qa as qd,Qb as Xp,Qm as oc,Qn as Vn,Rb as $p,Rm as bm,Rn as Pr,Sa as Jo,Sb as b,Sc as ho,Sd as H,Sm as xi,Sn as vo,Ta as ne,Tb as T,Tc as Qd,Td as pe,Tm as $o,Tn as Gt,Ub as w,Ud as me,Ue as ym,Um as er,Un as Br,Va as S,Vb as x,Vc as tm,Vm as Yi,Vn as bn,Wb as ve,Wm as Ia,Wn as ac,X as jd,Xa as Xe,Xb as bd,Xm as sn,Xn as Rm,Yc as im,Yd as nc,Ym as ao,Yn as Lm,Zb as le,Zm as ui,Zn as ba,_b as ze,_m as Tm,_n as sa,an as xm,ao as wa,b as Lr,bc as _,be as fm,bn as tr,bo as xa,ca as u,cb as yt,cc as g,ce as _m,cn as fn,co as lc,da as f,dc as oi,de as gm,dn as Fr,do as Vm,ed as ga,eh as Sm,en as hi,fn as Ma,gc as em,gn as Co,ha as Zp,he as hm,hn as zn,ib as d,in as _n,jb as r,jn as Am,kb as a,kg as Ri,kn as Pm,lb as C,ld as nm,ln as km,me as Ir,mg as Cm,mn as Yn,nn as ir,on as dn,p as Ei,pb as A,pd as jt,pn as yi,q as Lt,qb as P,qd as lm,qn as gn,rb as Qe,rd as Ze,rn as rc,sb as I,sd as sm,sn as lo,tn as so,u as Ud,uc as B,un as En,vb as E,vd as Bp,vn as In,wd as Ve,wn as Mr,xb as m,xn as br,yb as gi,yd as va,yn as Tr,zb as ai}from"./chunk-MDNBQXON.js";import{f as uo,i as re}from"./chunk-SEDBTTTN.js";var o0=uo(Fo());var eu=["tagInput"];function tu(n,l){if(n&1){let e=I();r(0,"mat-chip",9),E("removed",function(){let t=u(e).$implicit,s=m();return f(s.remove(t))}),c(1),r(2,"button",10)(3,"mat-icon"),c(4,"cancel"),a()()()}if(n&2){let e=l.$implicit;o(),y(" ",e.display," ")}}function iu(n,l){if(n&1&&(r(0,"mat-option",11),c(1),a()),n&2){let e=l.$implicit,i=m();d("value",e)("ngClass",i.optionCssClassSelectOption),o(),y(" ",e.display," ")}}var Nr=class Nr{constructor(l,e,i,t){this.service=l;this.cmsToastrService=e;this.publicHelper=i;this.translate=t;this.id=++Nr.nextId;this.constructorInfoAreaId=this.constructor.name;this.optionDisabled=!1;this.optionPlaceholder="+ Tag";this.optionLabel="";this.optionCssClassInputText="";this.optionCssClassSelectOption="";this.optionChange=new Xe;this.tagDataModel=[];this.tagLastDataModel=[];this.selectForceStatus=!0;this.separatorKeysCodes=[13];this.tagCtrl=new Ct("");this.addOnBlur=!0;this.filteredOptions=this.tagCtrl.valueChanges.pipe(Kt(null),Yt(400),Zt(s=>this.filter(s||"")))}set optionSelectForce(l){this.onActionSelectForce(l)}ngOnInit(){(!this.optionLabel||this.optionLabel.length==0&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder)}displayOption(l){return l&&l.virtual_Parent&&l.virtual_Parent.title.length>0&&l.virtual_Parent.virtual_Parent&&l.virtual_Parent.virtual_Parent.title.length>0&&l.virtual_Parent.virtual_Parent.virtual_Parent&&l.virtual_Parent.virtual_Parent.virtual_Parent.title.length>0?l.virtual_Parent.virtual_Parent.virtual_Parent.titleML+" > "+l.virtual_Parent.virtual_Parent.titleML+" > "+l.virtual_Parent.titleML+" > "+l.titleML:l&&l.virtual_Parent&&l.virtual_Parent.title.length>0&&l.virtual_Parent.virtual_Parent&&l.virtual_Parent.virtual_Parent.title.length>0?l.virtual_Parent.virtual_Parent.titleML+" > "+l.virtual_Parent.titleML+" > "+l.titleML:l&&l.virtual_Parent&&l.virtual_Parent.title.length>0?l.virtual_Parent.titleML+" > "+l.titleML:l?l.titleML:void 0}filter(l){let e=new pe;e.rowPerPage=20,e.accessLoad=!0;let i=new H;i.propertyName="Title",i.value=l,i.searchType=Oe.Contains,i.clauseType=Ve.Or,e.filters.push(i),i=new H,i.propertyName="TitleResourceLanguage",i.value=l,i.searchType=Oe.Contains,i.clauseType=Ve.Or,e.filters.push(i),i=new H,i.propertyName="Id",i.value=l,i.searchType=Oe.Equal,i.clauseType=Ve.Or,e.filters.push(i);let t=this.constructor.name+"main";return this.translate.get("MESSAGE.Receiving_information").subscribe(s=>{this.publicHelper.processService.processStart(t,s,this.constructorInfoAreaId)}),this.service.ServiceGetAll(e).pipe(Lt(s=>(this.tagLastDataModel=s.listItems.map(h=>({display:this.displayOption(h),value:h.id})),this.publicHelper.processService.processStop(t),this.tagLastDataModel)))}checkIndex(l){var e=0,i=-1;return this.tagDataModel.forEach(t=>{t.value==l&&(i=e),e++}),i}add(l){var e;l.value&&this.tagLastDataModel.forEach(i=>{(i.display==l.value||i.value+""==l.value)&&(e=i)}),e&&this.checkIndex(e.value)<0&&(this.tagDataModel.push(e),this.onActionChange()),l.chipInput.clear(),this.tagCtrl.setValue(null)}remove(l){let e=this.checkIndex(l.value);e>=0&&(this.tagDataModel.splice(e,1),this.onActionChange())}selected(l){let e=l.option.value;this.checkIndex(e.value)<0&&this.tagDataModel.push(e),this.tagInput.nativeElement.value="",this.tagCtrl.setValue(null),this.onActionChange()}onActionChange(){let l=[];this.tagDataModel.forEach(e=>{l.findIndex(i=>i==e.value)<0&&l.push(e.value)}),this.selectForceStatus=!1,this.optionChange.emit(l)}onActionSelectForce(l){if(!this.selectForceStatus||!l||l.length===0)return;let e=new pe;l.forEach(i=>{if(i>0){let t=new H;t.propertyName="Id",t.value=i,t.clauseType=Ve.Or,e.filters.push(t)}}),this.service.ServiceGetAll(e).subscribe({next:i=>{i.isSuccess?i.listItems.forEach(t=>{this.tagDataModel.findIndex(s=>s.value==t.id)<0&&this.tagDataModel.push({value:t.id,display:this.displayOption(t)})}):this.cmsToastrService.typeErrorGetAll(i.errorMessage)},error:i=>{this.cmsToastrService.typeErrorGetAll(i)}})}};Nr.nextId=0,Nr.\u0275fac=function(e){return new(e||Nr)(v(_m),v(V),v(F),v(L))},Nr.\u0275cmp=R({type:Nr,selectors:[["app-cms-location-autocomplete"]],viewQuery:function(e,i){if(e&1&&ee(eu,5),e&2){let t;te(t=ie())&&(i.tagInput=t.first)}},inputs:{optionDisabled:"optionDisabled",optionPlaceholder:"optionPlaceholder",optionLabel:"optionLabel",optionCssClassInputText:"optionCssClassInputText",optionCssClassSelectOption:"optionCssClassSelectOption",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange"},standalone:!1,decls:12,vars:13,consts:[["chipList",""],["tagInput",""],["auto","matAutocomplete"],["appearance","fill",2,"width","100%"],["aria-label","tag selection",3,"disabled"],[3,"removed",4,"ngFor","ngForOf"],[3,"matChipInputTokenEnd","placeholder","matChipInputAddOnBlur","formControl","ngClass","matAutocomplete","matChipInputFor","matChipInputSeparatorKeyCodes"],[3,"optionSelected"],[3,"value","ngClass",4,"ngFor","ngForOf"],[3,"removed"],["type","button","matChipRemove",""],[3,"value","ngClass"]],template:function(e,i){if(e&1){let t=I();r(0,"mat-form-field",3)(1,"mat-label"),c(2),a(),r(3,"mat-chip-grid",4,0),S(5,tu,5,1,"mat-chip",5),r(6,"input",6,1),E("matChipInputTokenEnd",function(h){return u(t),f(i.add(h))}),a()(),r(8,"mat-autocomplete",7,2),E("optionSelected",function(h){return u(t),f(i.selected(h))}),S(10,iu,2,3,"mat-option",8),_(11,"async"),a()()}if(e&2){let t=k(4),s=k(9);o(2),M(i.optionLabel),o(),d("disabled",i.optionDisabled),o(2),d("ngForOf",i.tagDataModel),o(),d("placeholder"," + "+i.optionPlaceholder)("matChipInputAddOnBlur",i.addOnBlur)("formControl",i.tagCtrl)("ngClass",i.optionCssClassInputText)("matAutocomplete",s)("matChipInputFor",t)("matChipInputSeparatorKeyCodes",i.separatorKeysCodes),o(4),d("ngForOf",g(11,11,i.filteredOptions))}},dependencies:[se,Ne,Y,q,Wt,ti,ei,ii,bi,Ti,wi,Mi,mi,pi,Ee,He],encapsulation:2});var Qt=Nr;var nu=["vform"],ou=n=>({direction:n});function ru(n,l){if(n&1&&(C(0,"img",40),_(1,"cmsthumbnail")),n&2){let e=m();d("src",x(g(1,2,e.dataModel.linkMainImageIdSrc)),j)}}function au(n,l){n&1&&C(0,"i",41)}function lu(n,l){n&1&&C(0,"i",42)}function su(n,l){n&1&&(r(0,"mat-error"),c(1," Title is "),r(2,"strong"),c(3),_(4,"translate"),a()()),n&2&&(o(3),M(g(4,1,"MESSAGE.required")))}function du(n,l){n&1&&(r(0,"mat-error"),c(1," Description is "),r(2,"strong"),c(3),_(4,"translate"),a()()),n&2&&(o(3),M(g(4,1,"MESSAGE.required")))}function cu(n,l){if(n&1){let e=I();r(0,"div",16)(1,"label",43),c(2),_(3,"translate"),a(),r(4,"textarea",44,7),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.descriptionHidden,t)||(s.dataModel.descriptionHidden=t),f(t)}),c(6,"          "),a(),r(7,"em"),c(8),a()()}if(n&2){let e=k(5),i=m();o(2),M(g(3,5,"TITLE.Description_Hidden")),o(2),d("placeholder",x(i.fieldsInfo.descriptionHidden==null?null:i.fieldsInfo.descriptionHidden.fieldTitle)),b("ngModel",i.dataModel.descriptionHidden),o(4),y("",e.value.length," / 500")}}function pu(n,l){if(n&1){let e=I();r(0,"app-cms-user-selector",45),_(1,"translate"),E("optionChange",function(t){u(e);let s=m();return f(s.onActionSelectorUser(t))}),a()}if(n&2){let e=m();d("optionDisabled",!(e.fieldsInfo.linkCmsUserId!=null&&e.fieldsInfo.linkCmsUserId.accessAddField))("optionSelectForce",e.dataModel.linkCmsUserId)("optionPlaceholder",g(1,3,"TITLE.USER"))}}function mu(n,l){n&1&&(r(0,"mat-error"),c(1," Address is "),r(2,"strong"),c(3),_(4,"translate"),a()()),n&2&&(o(3),M(g(4,1,"MESSAGE.required")))}function uu(n,l){if(n&1){let e=I();r(0,"div",46)(1,"div",47)(2,"h5",48),c(3),a()(),r(4,"div",49)(5,"div",50)(6,"input",51),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.accessWatchRowSite,t)||(s.dataModel.accessWatchRowSite=t),f(t)}),a(),C(7,"label",52),a()()()}if(n&2){let e=m();o(3),y(" ",e.fieldsInfo.accessWatchRowSite==null?null:e.fieldsInfo.accessWatchRowSite.fieldTitle),o(3),b("ngModel",e.dataModel.accessWatchRowSite)}}function fu(n,l){if(n&1){let e=I();r(0,"div",46)(1,"div",47)(2,"h5",53),c(3),a()(),r(4,"div",49)(5,"div",50)(6,"input",54),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.accessWatchRowOtherAgency,t)||(s.dataModel.accessWatchRowOtherAgency=t),f(t)}),a(),C(7,"label",55),a()()()}if(n&2){let e=m();o(3),y(" ",e.fieldsInfo.accessWatchRowOtherAgency==null?null:e.fieldsInfo.accessWatchRowOtherAgency.fieldTitle),o(3),b("ngModel",e.dataModel.accessWatchRowOtherAgency)}}function _u(n,l){if(n&1){let e=I();r(0,"div",46)(1,"div",47)(2,"h5",56),c(3),a()(),r(4,"div",49)(5,"div",50)(6,"input",57),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.accessWatchRowOtherAgent,t)||(s.dataModel.accessWatchRowOtherAgent=t),f(t)}),a(),C(7,"label",58),a()()()}if(n&2){let e=m();o(3),y(" ",e.fieldsInfo.accessWatchRowOtherAgent==null?null:e.fieldsInfo.accessWatchRowOtherAgent.fieldTitle),o(3),b("ngModel",e.dataModel.accessWatchRowOtherAgent)}}function gu(n,l){if(n&1){let e=I();r(0,"div",46)(1,"div",47)(2,"h5",59),c(3),a()(),r(4,"div",49)(5,"div",50)(6,"input",60),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.accessAllowShareRowWatchOtherAgency,t)||(s.dataModel.accessAllowShareRowWatchOtherAgency=t),f(t)}),a(),C(7,"label",61),a()()()}if(n&2){let e=m();o(3),y(" ",e.fieldsInfo.accessAllowShareRowWatchOtherAgency==null?null:e.fieldsInfo.accessAllowShareRowWatchOtherAgency.fieldTitle),o(3),b("ngModel",e.dataModel.accessAllowShareRowWatchOtherAgency)}}function hu(n,l){if(n&1){let e=I();r(0,"div",46)(1,"div",47)(2,"h5",62),c(3),a()(),r(4,"div",49)(5,"div",50)(6,"input",63),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.accessAllowShareRowWatchOtherAgent,t)||(s.dataModel.accessAllowShareRowWatchOtherAgent=t),f(t)}),a(),C(7,"label",64),a()()()}if(n&2){let e=m();o(3),y(" ",e.fieldsInfo.accessAllowShareRowWatchOtherAgent==null?null:e.fieldsInfo.accessAllowShareRowWatchOtherAgent.fieldTitle),o(3),b("ngModel",e.dataModel.accessAllowShareRowWatchOtherAgent)}}function yu(n,l){if(n&1){let e=I();r(0,"div",46)(1,"div",47)(2,"h5",65),c(3),a()(),r(4,"div",49)(5,"div",50)(6,"input",66),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.notificationWorkAreaEstate,t)||(s.dataModel.notificationWorkAreaEstate=t),f(t)}),a(),C(7,"label",67),a()()()}if(n&2){let e=m();o(3),y(" ",e.fieldsInfo.notificationWorkAreaEstate==null?null:e.fieldsInfo.notificationWorkAreaEstate.fieldTitle),o(3),b("ngModel",e.dataModel.notificationWorkAreaEstate)}}function Cu(n,l){if(n&1){let e=I();r(0,"div",46)(1,"div",47)(2,"h5",68),c(3),a()(),r(4,"div",49)(5,"div",50)(6,"input",69),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.notificationWorkAreaCustomerOrder,t)||(s.dataModel.notificationWorkAreaCustomerOrder=t),f(t)}),a(),C(7,"label",70),a()()()}if(n&2){let e=m();o(3),y(" ",e.fieldsInfo.notificationWorkAreaCustomerOrder==null?null:e.fieldsInfo.notificationWorkAreaCustomerOrder.fieldTitle),o(3),b("ngModel",e.dataModel.notificationWorkAreaCustomerOrder)}}function Su(n,l){if(n&1){let e=I();r(0,"div",71)(1,"button",72),E("click",function(){u(e);let t=m();return f(t.onFormCancel())}),C(2,"i",73),c(3),_(4,"translate"),a(),r(5,"button",74),C(6,"i",75),c(7),_(8,"translate"),a()()}if(n&2){m();let e=k(9);o(3),y(" ",g(4,3,"ACTION.CANCEL")," "),o(2),d("disabled",!e.form.valid),o(2),y(" ",g(8,5,"ACTION.SAVE")," ")}}var Da=class Da extends Dt{constructor(e,i,t,s,h,p,D,z,he,je){super(s,new lo,p,je);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.estateAccountAgencyService=s;this.cmsToastrService=h;this.publicHelper=p;this.cdr=D;this.cmsStoreService=z;this.tokenHelper=he;this.translate=je;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.mapOptonCenter=new Li;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.tokenInfo=new St;this.dataModelResult=new G;this.dataModel=new lo;this.formInfo=new me;this.fileManagerOpenForm=!1;this.viewMap=!1;this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess()}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.publicHelper.processService.processStart(e,"",this.constructorInfoAreaId),this.estateAccountAgencyService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.formAlert=t}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e),this.formInfo.formSubmitAllow=!0},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}receiveMap(e=this.mapModel){e&&(this.mapModel=e,this.mapModel.on("click",i=>{let t=i.latlng.lat,s=i.latlng.lng;if(this.mapMarker!==void 0&&this.mapModel.removeLayer(this.mapMarker),t===this.dataModel.geolocationlatitude&&s===this.dataModel.geolocationlongitude){this.dataModel.geolocationlatitude=null,this.dataModel.geolocationlongitude=null;return}this.mapMarker=o0.marker([t,s]).addTo(this.mapModel),this.dataModel.geolocationlatitude=t,this.dataModel.geolocationlongitude=s}))}receiveZoom(e){}onActionFileSelected(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}onActionSelectorUser(e){this.dataModel.linkCmsUserId=null,e&&e.id>0&&(this.dataModel.linkCmsUserId=e.id)}onActionSelectorLocation(e){this.dataModel.linkLocationId=null,e&&e.id>0&&(this.dataModel.linkLocationId=e.id)}onActionSelectorLocationWorkArea(e){this.dataModel.linkLocationWorkAreaIds=e}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Da.\u0275fac=function(i){return new(i||Da)(v(be),v(Me),v(J),v(Dn),v(V),v(F),v(B),v(Z),v(K),v(L))},Da.\u0275cmp=R({type:Da,selectors:[["app-estate-account-agency-add"]],viewQuery:function(i,t){if(i&1&&ee(nu,5),i&2){let s;te(s=ie())&&(t.formGroup=s.first)}},standalone:!1,features:[ne],decls:88,vars:92,consts:[["vform","ngForm"],["LinkMainImageId",""],["Title",""],["Description",""],["PhoneNumber",""],["mobileNumber",""],["Address",""],["DescriptionHidden",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit","ngStyle"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.linkMainImageId",1,"color-highlight"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openSelectFileDescription","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["class","fa fa-times  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],[4,"ngIf"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[3,"optionDisabled","optionSelectForce","optionPlaceholder","optionChange",4,"ngIf"],["for","dataModel.phoneNumber",1,"color-highlight"],["matInput","","name","dataModel.phoneNumber","type","text","minlength","0","maxlength","64","id","dataModel.phoneNumber",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.mobileNumber",1,"color-highlight"],["matInput","","name","dataModel.mobileNumber","type","text","minlength","0","maxlength","64","id","dataModel.mobileNumber",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.address",1,"color-highlight"],["matInput","","name","dataModel.address","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.address",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[3,"optionChange","optionSelectForce","optionPlaceholder","optionDisabled"],[3,"optionChange","optionSelectForce","optionPlaceholder"],["class","d-flex mb-3",4,"ngIf"],["id","main-map",3,"map$","zoom$","optonCenter"],["class","form-actions",4,"ngIf"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.descriptionHidden",1,"color-highlight"],["matInput","","name","dataModel.descriptionHidden","type","text","minlength","0","maxlength","500","rows","5","id","dataModel.descriptionHidden",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.accessWatchRowSite",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.accessWatchRowSite","name","dataModel.accessWatchRowSite",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.accessWatchRowSite",1,"custom-control-label"],["data-trigger-switch","dataModel.accessWatchRowOtherAgency",1,"font-600","font-14"],["type","checkbox","id","dataModel.accessWatchRowOtherAgency","name","dataModel.accessWatchRowOtherAgency",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.accessWatchRowOtherAgency",1,"custom-control-label"],["data-trigger-switch","dataModel.accessWatchRowOtherAgent",1,"font-600","font-14"],["type","checkbox","id","dataModel.accessWatchRowOtherAgent","name","dataModel.accessWatchRowOtherAgent",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.accessWatchRowOtherAgent",1,"custom-control-label"],["data-trigger-switch","dataModel.accessAllowShareRowWatchOtherAgency",1,"font-600","font-14"],["type","checkbox","id","dataModel.accessAllowShareRowWatchOtherAgency","name","dataModel.accessAllowShareRowWatchOtherAgency",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.accessAllowShareRowWatchOtherAgency",1,"custom-control-label"],["data-trigger-switch","dataModel.accessAllowShareRowWatchOtherAgent",1,"font-600","font-14"],["type","checkbox","id","dataModel.accessAllowShareRowWatchOtherAgent","name","dataModel.accessAllowShareRowWatchOtherAgent",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.accessAllowShareRowWatchOtherAgent",1,"custom-control-label"],["data-trigger-switch","dataModel.notificationWorkAreaEstate",1,"font-600","font-14"],["type","checkbox","id","dataModel.notificationWorkAreaEstate","name","dataModel.notificationWorkAreaEstate",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.notificationWorkAreaEstate",1,"custom-control-label"],["data-trigger-switch","dataModel.notificationWorkAreaCustomerOrder",1,"font-600","font-14"],["type","checkbox","id","dataModel.notificationWorkAreaCustomerOrder","name","dataModel.notificationWorkAreaCustomerOrder",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.notificationWorkAreaCustomerOrder",1,"custom-control-label"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=I();r(0,"div",8),C(1,"app-progress-spinner",9),r(2,"div",10)(3,"p",11),c(4),a(),r(5,"p"),c(6),_(7,"translate"),a(),r(8,"form",12,0),E("ngSubmit",function(){return u(s),f(t.onFormSubmit())}),r(10,"div",13)(11,"a",14),_(12,"cmsthumbnail"),S(13,ru,2,4,"img",15),a()(),r(14,"div",16)(15,"label",17),c(16),_(17,"translate"),a(),r(18,"input",18,1),_(20,"translate"),w("ngModelChange",function(p){return u(s),T(t.dataModel.linkMainImageId,p)||(t.dataModel.linkMainImageId=p),f(p)}),E("click",function(){return u(s),f(t.fileManagerOpenForm=!0)}),a(),r(21,"cms-file-manager",19),_(22,"translate"),E("itemSelected",function(p){return u(s),f(t.onActionFileSelected(p))}),w("openFormChange",function(p){return u(s),T(t.fileManagerOpenForm,p)||(t.fileManagerOpenForm=p),f(p)}),a()(),r(23,"div",16)(24,"label",20),c(25),a(),r(26,"input",21,2),w("ngModelChange",function(p){return u(s),T(t.dataModel.title,p)||(t.dataModel.title=p),f(p)}),a(),S(28,au,1,0,"i",22)(29,lu,1,0,"i",23),C(30,"em"),S(31,su,5,3,"mat-error",24),a(),r(32,"div",16)(33,"label",25),c(34),a(),r(35,"textarea",26,3),w("ngModelChange",function(p){return u(s),T(t.dataModel.description,p)||(t.dataModel.description=p),f(p)}),c(37,"          "),a(),r(38,"em"),c(39),a(),S(40,du,5,3,"mat-error",24),a(),S(41,cu,9,7,"div",27)(42,pu,2,5,"app-cms-user-selector",28),r(43,"div",16)(44,"label",29),c(45),a(),r(46,"input",30,4),w("ngModelChange",function(p){return u(s),T(t.dataModel.phoneNumber,p)||(t.dataModel.phoneNumber=p),f(p)}),a(),r(48,"em"),c(49),a()(),r(50,"div",16)(51,"label",31),c(52),a(),r(53,"input",32,5),w("ngModelChange",function(p){return u(s),T(t.dataModel.mobileNumber,p)||(t.dataModel.mobileNumber=p),f(p)}),a(),r(55,"em"),c(56),a()(),r(57,"div",16)(58,"label",33),c(59),a(),r(60,"textarea",34,6),w("ngModelChange",function(p){return u(s),T(t.dataModel.address,p)||(t.dataModel.address=p),f(p)}),c(62,"          "),a(),r(63,"em"),c(64),a(),S(65,mu,5,3,"mat-error",24),a(),r(66,"app-cms-location-selector",35),_(67,"translate"),E("optionChange",function(p){return u(s),f(t.onActionSelectorLocation(p))}),a(),C(68,"br"),c(69),_(70,"translate"),r(71,"app-cms-location-autocomplete",36),_(72,"translate"),E("optionChange",function(p){return u(s),f(t.onActionSelectorLocationWorkArea(p))}),a(),C(73,"hr"),S(74,uu,8,2,"div",37)(75,fu,8,2,"div",37)(76,_u,8,2,"div",37)(77,gu,8,2,"div",37)(78,hu,8,2,"div",37),C(79,"hr"),S(80,yu,8,2,"div",37)(81,Cu,8,2,"div",37),C(82,"hr"),r(83,"p"),c(84),_(85,"translate"),a(),r(86,"app-cms-map",38),E("map$",function(p){return u(s),f(t.receiveMap(p))})("zoom$",function(p){return u(s),f(t.receiveZoom(p))}),a(),S(87,Su,9,7,"div",39),a()()()}if(i&2){let s=k(27),h=k(36),p=k(47),D=k(54),z=k(61);o(),d("optionsInfoAreaId",t.constructorInfoAreaId),o(3),y(" ",t.formInfo.formTitle," "),o(2),y(" ",g(7,72,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),d("ngStyle",ze(90,ou,t.tokenInfo.access.direction)),o(3),d("href",x(g(12,74,t.dataModel.linkMainImageIdSrc)),j),o(2),d("ngIf",(t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0),o(3),M(g(17,76,"MESSAGE.Photo_of_estate_agency")),o(2),d("placeholder",x(g(20,78,"TITLE.Original_File_ID"))),b("ngModel",t.dataModel.linkMainImageId),o(3),d("language",t.appLanguage)("isPopup",!0)("openSelectFileDescription",g(22,80,"TITLE.The_dimensions_of_the_photo_should_be_600_x_600")),b("openForm",t.fileManagerOpenForm),d("tree",t.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",t.selectFileTypeMainImage)("openFilemanagerButtonView",!1),o(4),M(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),b("ngModel",t.dataModel.title),d("disabled",!(t.fieldsInfo.title!=null&&t.fieldsInfo.title.accessAddField)),o(2),d("ngIf",!s.value),o(),d("ngIf",s.value),o(2),d("ngIf",s.errors==null?null:s.errors.required),o(3),M(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),b("ngModel",t.dataModel.description),d("disabled",!(t.fieldsInfo.description!=null&&t.fieldsInfo.description.accessAddField)),o(4),y("",h.value.length," / 500"),o(),d("ngIf",h.errors==null?null:h.errors.required),o(),d("ngIf",t.fieldsInfo.descriptionHidden==null?null:t.fieldsInfo.descriptionHidden.accessWatchField),o(),d("ngIf",t.tokenHelper.isAdminSite),o(3),M(t.fieldsInfo.phoneNumber==null?null:t.fieldsInfo.phoneNumber.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.phoneNumber==null?null:t.fieldsInfo.phoneNumber.fieldTitle)),b("ngModel",t.dataModel.phoneNumber),d("disabled",!(t.fieldsInfo.phoneNumber!=null&&t.fieldsInfo.phoneNumber.accessAddField)),o(3),y("",p.value.length," / 64"),o(3),M(t.fieldsInfo.mobileNumber==null?null:t.fieldsInfo.mobileNumber.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.mobileNumber==null?null:t.fieldsInfo.mobileNumber.fieldTitle)),b("ngModel",t.dataModel.mobileNumber),d("disabled",!(t.fieldsInfo.mobileNumber!=null&&t.fieldsInfo.mobileNumber.accessAddField)),o(3),y("",D.value.length," / 64"),o(3),M(t.fieldsInfo.address==null?null:t.fieldsInfo.address.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.address==null?null:t.fieldsInfo.address.fieldTitle)),b("ngModel",t.dataModel.address),d("disabled",!(t.fieldsInfo.address!=null&&t.fieldsInfo.address.accessAddField)),o(4),y("",z.value.length," / 500"),o(),d("ngIf",z.errors==null?null:z.errors.required),o(),d("optionSelectForce",t.dataModel.linkLocationId)("optionPlaceholder",g(67,82,"TITLE.Geographical_Region"))("optionDisabled",!(t.fieldsInfo.linkLocationId!=null&&t.fieldsInfo.linkLocationId.accessAddField)),o(3),y(" ",g(70,84,"TITLE.COVERED_AREAS")," "),o(2),d("optionSelectForce",t.dataModel.linkLocationWorkAreaIds)("optionPlaceholder",g(72,86,"TITLE.Region")),o(3),d("ngIf",t.tokenHelper.isAdminSite||t.tokenHelper.isSupportSite),o(),d("ngIf",t.tokenHelper.isAdminSite||t.tokenHelper.isSupportSite),o(),d("ngIf",t.tokenHelper.isAdminSite||t.tokenHelper.isSupportSite),o(),d("ngIf",t.tokenHelper.isAdminSite||t.tokenHelper.isSupportSite),o(),d("ngIf",t.tokenHelper.isAdminSite||t.tokenHelper.isSupportSite),o(2),d("ngIf",t.tokenHelper.isAdminSite||t.tokenHelper.isSupportSite),o(),d("ngIf",t.tokenHelper.isAdminSite||t.tokenHelper.isSupportSite),o(3),M(g(85,88,"TITLE.Click_on_the_map_to_specify_the_location")),o(2),d("optonCenter",t.mapOptonCenter),o(),d("ngIf",t.formInfo.formSubmitAllow)}},dependencies:[N,tt,ke,Y,Ht,q,Te,de,De,Ae,ce,Pe,we,Q,si,Qt,$i,Ci,U,ut,O,Ie],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});var fc=Da;var Np=uo(Fo());var vu=["*"];function Eu(n,l){if(n&1&&(C(0,"img",13),_(1,"cmsthumbnail")),n&2){let e=m();d("src",x(g(1,2,e.dataModelSelect==null?null:e.dataModelSelect.linkMainImageIdSrc)),j)}}function Iu(n,l){if(n&1&&(C(0,"img",13),_(1,"cmsthumbnail")),n&2){let e=m().$implicit;d("src",x(g(1,2,e.linkMainImageIdSrc)),j)}}function Mu(n,l){if(n&1&&(r(0,"mat-option",14),S(1,Iu,2,4,"img",4),r(2,"span"),c(3),a()()),n&2){let e=l.$implicit,i=m();d("value",e)("disabled",i.optionDisabled),o(),d("ngIf",e.linkMainImageIdSrc),o(2),M(i.displayOption(e))}}function bu(n,l){n&1&&C(0,"i",15)}function Tu(n,l){n&1&&C(0,"i",16)}function wu(n,l){if(n&1){let e=I();r(0,"i",17),E("click",function(){u(e);let t=m();return f(t.onActionSelectClear())}),a()}}function xu(n,l){n&1&&(r(0,"em"),c(1),_(2,"translate"),a()),n&2&&(o(),y("(",g(2,1,"TITLE.Necessary"),")"))}var Ra=class Ra{constructor(l,e,i,t,s,h){this.coreEnumService=l;this.cmsToastrService=e;this.translate=i;this.cdr=t;this.publicHelper=s;this.categoryService=h;this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new G;this.dataModelSelect=new so;this.formControl=new Ct;this.optionDisabled=!1;this.optionSelectFirstItem=!1;this.optionPlaceholder="";this.optionLabel="";this.optionRequired=!1;this.optionChange=new Xe;this.optionReload=()=>this.onActionButtonReload();this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(l){this.onActionSelectForce(l)}ngOnInit(){this.loadOptions(),(!this.optionLabel||this.optionLabel.length==0&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder)}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(Kt(""),Yt(1500),Ii(),Zt(l=>typeof l=="string"||typeof l=="number"?this.DataGetAll(l||""):[]))}displayFn(l){return l?l.title:void 0}displayOption(l){return l?l.title:void 0}DataGetAll(l){return re(this,null,function*(){let e=new sa;e.rowPerPage=20,e.accessLoad=!0;let i=new H;typeof l=="string"&&l.length>0&&(i.propertyName="Title",i.value=l,i.searchType=Oe.Contains,i.clauseType=Ve.Or,e.filters.push(i),i=new H,i.propertyName="Id",i.value=l,i.searchType=Oe.Equal,i.clauseType=Ve.Or,e.filters.push(i)),l?.length>0&&(i=new H,i.propertyName="LinkCmsUserId",i.value=l,i.searchType=Oe.Equal,i.clauseType=Ve.Or,e.filters.push(i),i=new H,i.propertyName="mobileNumber",i.value=l,i.searchType=Oe.Contains,i.clauseType=Ve.Or,e.filters.push(i),i=new H,i.propertyName="phoneNumber",i.value=l,i.searchType=Oe.Contains,i.clauseType=Ve.Or,e.filters.push(i));let t=this.constructor.name+"main";return this.translate.get("MESSAGE.Receiving_information").subscribe(s=>{this.publicHelper.processService.processStart(t,s,this.constructorInfoAreaId)}),yield Ei(this.categoryService.ServiceGetAll(e)).then(s=>(this.dataModelResult=s,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||this.dataModelSelect.id.length===0)&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0])},1e3),this.onActionSelect(this.dataModelResult.listItems[0])),this.publicHelper.processService.processStop(t),s.listItems))})}onActionSelect(l){this.optionDisabled||(this.dataModelSelect=l,this.optionChange.emit(this.dataModelSelect))}onActionSelectClear(){this.optionDisabled||(this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null))}push(l){return this.filteredOptions.pipe(Lt(e=>(e.find(i=>i.id===l.id)||e.push(l),e)))}onActionSelectForce(l){if(typeof l=="number"&&l>0){if(this.dataModelSelect&&this.dataModelSelect.linkCmsUserId===l)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(t=>t.linkCmsUserId===l)){let t=this.dataModelResult.listItems.find(s=>s.linkCmsUserId===l);this.dataModelSelect=t,this.formControl.setValue(t);return}let e=new sa,i=new H;i.propertyName="LinkCmsUserId",i.value=l,i.searchType=Oe.Equal,e.filters.push(i),this.categoryService.ServiceGetAll(e).subscribe({next:t=>{t.isSuccess&&(t.listItems.length>0?(this.filteredOptions=this.push(t.listItems[0]),this.dataModelSelect=t.listItems[0],this.formControl.setValue(t.listItems[0]),this.optionChange.emit(t.listItems[0])):this.cmsToastrService.typeErrorMessage(t.errorMessage))}});return}else if(typeof l=="string"&&l.length>0){if(this.dataModelSelect&&this.dataModelSelect.id===l)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(e=>e.id===l)){let e=this.dataModelResult.listItems.find(i=>i.id===l);this.dataModelSelect=e,this.formControl.setValue(e);return}this.categoryService.ServiceGetOneById(l).subscribe({next:e=>{e.isSuccess?(this.filteredOptions=this.push(e.item),this.dataModelSelect=e.item,this.formControl.setValue(e.item),this.optionChange.emit(e.item)):this.cmsToastrService.typeErrorMessage(e.errorMessage)}});return}if(typeof l==typeof so){this.filteredOptions=this.push(l),this.dataModelSelect=l,this.formControl.setValue(l);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new so,this.loadOptions()}};Ra.\u0275fac=function(e){return new(e||Ra)(v(J),v(V),v(L),v(B),v(F),v(un))},Ra.\u0275cmp=R({type:Ra,selectors:[["app-estate-account-expert-selector"]],inputs:{optionDisabled:"optionDisabled",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionLabel:"optionLabel",optionRequired:"optionRequired",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange"},standalone:!1,ngContentSelectors:vu,decls:17,vars:17,consts:[["matauto","matAutocomplete"],[1,"input-style","has-borders","has-icon","input-style-always-active","validate-field","mb-4","loader-container"],[3,"optionsInfoAreaId"],["matPrefix",""],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","25","width","25",3,"src",4,"ngIf"],["type","text","aria-label","Assignee","matInput","",3,"placeholder","formControl","matAutocomplete","required"],["for","forminput",1,"color-highlight"],[3,"optionSelected","displayWith"],[3,"value","disabled",4,"ngFor","ngForOf"],["class","fa fa-info  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],["class","fa fa-times  action color-red-dark",3,"click",4,"ngIf"],[4,"ngIf"],["aria-hidden","","height","25","width","25",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"value","disabled"],[1,"fa","fa-info","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"fa","fa-times","action","color-red-dark",3,"click"]],template:function(e,i){if(e&1){let t=I();gi(),r(0,"div",1),C(1,"app-progress-spinner",2),r(2,"span",3),S(3,Eu,2,4,"img",4),c(4," \xA0"),a(),C(5,"input",5),r(6,"label",6),c(7),a(),r(8,"mat-autocomplete",7,0),E("optionSelected",function(h){return u(t),f(i.onActionSelect(h.option.value))}),S(10,Mu,4,4,"mat-option",8),_(11,"async"),a(),S(12,bu,1,0,"i",9)(13,Tu,1,0,"i",10)(14,wu,1,0,"i",11)(15,xu,3,3,"em",12),ai(16),a()}if(e&2){let t=k(9);o(),d("optionsInfoAreaId",i.constructorInfoAreaId),o(2),d("ngIf",i.dataModelSelect&&(i.dataModelSelect==null?null:i.dataModelSelect.linkMainImageIdSrc)),o(2),d("placeholder",x(i.optionPlaceholder))("formControl",i.formControl)("matAutocomplete",t)("required",i.optionRequired),yt("disabled",i.optionDisabled?!0:null),o(2),M(i.optionLabel),o(),d("displayWith",i.displayFn),o(2),d("ngForOf",g(11,15,i.filteredOptions)),o(2),d("ngIf",!i.formControl.valid),o(),d("ngIf",i.optionRequired&&i.formControl.valid),o(),d("ngIf",(i.dataModelSelect==null||i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0),o(),d("ngIf",i.optionRequired&&(!i.dataModelSelect||!i.dataModelSelect.id||i.dataModelSelect.id.length<=0))}},dependencies:[Ne,N,Y,q,de,Wt,ti,ei,ii,zi,Q,U,He,O,Ie],encapsulation:2});var Sn=Ra;var La=class La{constructor(l){this.service=l}transform(l){return!l||l.length<=0?new Lr:this.service.ServiceGetOneById(l,1e6).pipe(Lt(e=>{var i="";return e.isSuccess&&e.item.title&&e.item.title.length>0&&(i=e.item.title),i},e=>""))}};La.\u0275fac=function(e){return new(e||La)(v(Dn,16))},La.\u0275pipe=Jo({name:"estateAccountAgencyInfo",type:La,pure:!0,standalone:!1});var dr=La;var Va=class Va{constructor(l){this.service=l}transform(l){return!l||l.length<=0?new Lr:this.service.ServiceGetOneById(l,1e6).pipe(Lt(e=>{var i="";return e.isSuccess&&e.item.title&&e.item.title.length>0&&(i=e.item.title),i},e=>""))}};Va.\u0275fac=function(e){return new(e||Va)(v(un,16))},Va.\u0275pipe=Jo({name:"estateAccountExpertInfo",type:Va,pure:!0,standalone:!1});var cr=Va;var Au=["vform"],Pu=n=>({direction:n});function ku(n,l){if(n&1&&(C(0,"img",49),_(1,"cmsthumbnail")),n&2){let e=m();d("src",x(g(1,2,e.dataModel.linkMainImageIdSrc)),j)}}function Du(n,l){n&1&&C(0,"i",50)}function Ru(n,l){n&1&&C(0,"i",51)}function Lu(n,l){n&1&&(r(0,"mat-error"),c(1," Title is "),r(2,"strong"),c(3),_(4,"translate"),a()()),n&2&&(o(3),M(g(4,1,"MESSAGE.required")))}function Vu(n,l){n&1&&(r(0,"mat-error"),c(1," Description is "),r(2,"strong"),c(3),_(4,"translate"),a()()),n&2&&(o(3),M(g(4,1,"MESSAGE.required")))}function Ou(n,l){if(n&1){let e=I();r(0,"div",19)(1,"label",52),c(2),_(3,"translate"),a(),r(4,"textarea",53,8),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.descriptionHidden,t)||(s.dataModel.descriptionHidden=t),f(t)}),c(6,"                    "),a(),r(7,"em"),c(8),a()()}if(n&2){let e=k(5),i=m();o(2),M(g(3,7,"TITLE.Description_Hidden")),o(2),d("placeholder",x(i.fieldsInfo.descriptionHidden==null?null:i.fieldsInfo.descriptionHidden.fieldTitle))("disabled",x(!(i.fieldsInfo.descriptionHidden!=null&&i.fieldsInfo.descriptionHidden.accessEditField))),b("ngModel",i.dataModel.descriptionHidden),o(4),y("",e.value.length," / 500")}}function Fu(n,l){if(n&1){let e=I();r(0,"app-cms-user-selector",54),_(1,"translate"),E("optionChange",function(t){u(e);let s=m();return f(s.onActionSelectorUser(t))}),a()}if(n&2){let e=m();d("optionDisabled",!(e.fieldsInfo.linkCmsUserId!=null&&e.fieldsInfo.linkCmsUserId.accessEditField))("optionSelectForce",e.dataModel.linkCmsUserId)("optionPlaceholder",g(1,3,"TITLE.USER"))}}function Bu(n,l){n&1&&C(0,"i",50)}function Nu(n,l){n&1&&C(0,"i",51)}function Hu(n,l){n&1&&(r(0,"mat-error"),c(1," Address is "),r(2,"strong"),c(3),_(4,"translate"),a()()),n&2&&(o(3),M(g(4,1,"MESSAGE.required")))}function Wu(n,l){if(n&1){let e=I();r(0,"div",55)(1,"div",56)(2,"h5",57),c(3),a()(),r(4,"div",58)(5,"div",59)(6,"input",60),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.accessWatchRowSite,t)||(s.dataModel.accessWatchRowSite=t),f(t)}),a(),C(7,"label",61),a()()()}if(n&2){let e=m();o(3),y(" ",e.fieldsInfo.accessWatchRowSite==null?null:e.fieldsInfo.accessWatchRowSite.fieldTitle),o(3),b("ngModel",e.dataModel.accessWatchRowSite)}}function Gu(n,l){if(n&1){let e=I();r(0,"div",55)(1,"div",56)(2,"h5",62),c(3),a()(),r(4,"div",58)(5,"div",59)(6,"input",63),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.accessWatchRowOtherAgency,t)||(s.dataModel.accessWatchRowOtherAgency=t),f(t)}),a(),C(7,"label",64),a()()()}if(n&2){let e=m();o(3),y(" ",e.fieldsInfo.accessWatchRowOtherAgency==null?null:e.fieldsInfo.accessWatchRowOtherAgency.fieldTitle),o(3),b("ngModel",e.dataModel.accessWatchRowOtherAgency)}}function Uu(n,l){if(n&1){let e=I();r(0,"div",55)(1,"div",56)(2,"h5",65),c(3),a()(),r(4,"div",58)(5,"div",59)(6,"input",66),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.accessWatchRowOtherAgent,t)||(s.dataModel.accessWatchRowOtherAgent=t),f(t)}),a(),C(7,"label",67),a()()()}if(n&2){let e=m();o(3),y(" ",e.fieldsInfo.accessWatchRowOtherAgent==null?null:e.fieldsInfo.accessWatchRowOtherAgent.fieldTitle),o(3),b("ngModel",e.dataModel.accessWatchRowOtherAgent)}}function ju(n,l){if(n&1){let e=I();r(0,"div",55)(1,"div",56)(2,"h5",68),c(3),a()(),r(4,"div",58)(5,"div",59)(6,"input",69),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.accessAllowShareRowWatchOtherAgency,t)||(s.dataModel.accessAllowShareRowWatchOtherAgency=t),f(t)}),a(),C(7,"label",70),a()()()}if(n&2){let e=m();o(3),y(" ",e.fieldsInfo.accessAllowShareRowWatchOtherAgency==null?null:e.fieldsInfo.accessAllowShareRowWatchOtherAgency.fieldTitle),o(3),b("ngModel",e.dataModel.accessAllowShareRowWatchOtherAgency)}}function qu(n,l){if(n&1){let e=I();r(0,"div",55)(1,"div",56)(2,"h5",71),c(3),a()(),r(4,"div",58)(5,"div",59)(6,"input",72),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.accessAllowShareRowWatchOtherAgent,t)||(s.dataModel.accessAllowShareRowWatchOtherAgent=t),f(t)}),a(),C(7,"label",73),a()()()}if(n&2){let e=m();o(3),y(" ",e.fieldsInfo.accessAllowShareRowWatchOtherAgent==null?null:e.fieldsInfo.accessAllowShareRowWatchOtherAgent.fieldTitle),o(3),b("ngModel",e.dataModel.accessAllowShareRowWatchOtherAgent)}}function Qu(n,l){if(n&1){let e=I();r(0,"div",55)(1,"div",56)(2,"h5",74),c(3),a()(),r(4,"div",58)(5,"div",59)(6,"input",75),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.notificationWorkAreaEstate,t)||(s.dataModel.notificationWorkAreaEstate=t),f(t)}),a(),C(7,"label",76),a()()()}if(n&2){let e=m();o(3),y(" ",e.fieldsInfo.notificationWorkAreaEstate==null?null:e.fieldsInfo.notificationWorkAreaEstate.fieldTitle),o(3),b("ngModel",e.dataModel.notificationWorkAreaEstate)}}function zu(n,l){if(n&1){let e=I();r(0,"div",55)(1,"div",56)(2,"h5",77),c(3),a()(),r(4,"div",58)(5,"div",59)(6,"input",78),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.notificationWorkAreaCustomerOrder,t)||(s.dataModel.notificationWorkAreaCustomerOrder=t),f(t)}),a(),C(7,"label",79),a()()()}if(n&2){let e=m();o(3),y(" ",e.fieldsInfo.notificationWorkAreaCustomerOrder==null?null:e.fieldsInfo.notificationWorkAreaCustomerOrder.fieldTitle),o(3),b("ngModel",e.dataModel.notificationWorkAreaCustomerOrder)}}function Yu(n,l){if(n&1){let e=I();r(0,"div",55)(1,"div",56)(2,"h5",68),c(3," accessShareAgencyToUser"),a()(),r(4,"div",58)(5,"div",59)(6,"input",80),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataEstateAccountAgencyExpertModel.accessShareAgencyToUser,t)||(s.dataEstateAccountAgencyExpertModel.accessShareAgencyToUser=t),f(t)}),a(),C(7,"label",81),a()()()}if(n&2){let e=m();o(6),b("ngModel",e.dataEstateAccountAgencyExpertModel.accessShareAgencyToUser)}}function Ku(n,l){if(n&1){let e=I();r(0,"div",55)(1,"div",56)(2,"h5",82),c(3,"accessShareUserToAgency"),a()(),r(4,"div",58)(5,"div",59)(6,"input",83),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataEstateAccountAgencyExpertModel.accessShareUserToAgency,t)||(s.dataEstateAccountAgencyExpertModel.accessShareUserToAgency=t),f(t)}),a(),C(7,"label",84),a()()()}if(n&2){let e=m();o(6),b("ngModel",e.dataEstateAccountAgencyExpertModel.accessShareUserToAgency)}}function Zu(n,l){if(n&1){let e=I();r(0,"button",85),E("click",function(){u(e);let t=m();return f(t.onActionDataGetAddGroup())}),c(1,"+ "),a()}}function Ju(n,l){if(n&1&&(r(0,"mat-header-cell"),c(1),a()),n&2){let e=m(2);o(),y(" ",e.fieldsInfoAgencyUser.linkEstateExpertId==null?null:e.fieldsInfoAgencyUser.linkEstateExpertId.fieldTitle," ")}}function Xu(n,l){if(n&1&&(A(0),c(1),_(2,"estateAccountExpertInfo"),_(3,"async"),P()),n&2){let e=m().$implicit;o(),y(" ",g(3,3,g(2,1,e.linkEstateExpertId))," ")}}function $u(n,l){if(n&1&&(r(0,"mat-cell"),S(1,Xu,4,5,"ng-container",27),a()),n&2){let e=l.$implicit;o(),d("ngIf",e.linkEstateExpertId)}}function ef(n,l){if(n&1&&(r(0,"mat-header-cell"),c(1),a()),n&2){let e=m(2);o(),y(" ",e.fieldsInfoAgencyUser.linkEstateAccountAgencyId==null?null:e.fieldsInfoAgencyUser.linkEstateAccountAgencyId.fieldTitle," ")}}function tf(n,l){if(n&1&&(A(0),c(1),_(2,"estateAccountAgencyInfo"),_(3,"async"),P()),n&2){let e=m().$implicit;o(),y(" ",g(3,3,g(2,1,e.linkEstateAccountAgencyId))," ")}}function nf(n,l){if(n&1&&(r(0,"mat-cell"),S(1,tf,4,5,"ng-container",27),a()),n&2){let e=l.$implicit;o(),d("ngIf",e.linkEstateAccountAgencyId)}}function of(n,l){if(n&1&&(r(0,"mat-header-cell"),c(1),a()),n&2){let e=m(2);o(),y(" ",e.fieldsInfoAgencyUser.accessShareUserToAgency==null?null:e.fieldsInfoAgencyUser.accessShareUserToAgency.fieldTitle," ")}}function rf(n,l){if(n&1&&(A(0),C(1,"i",98),_(2,"boolclass"),P()),n&2){let e=m().$implicit;o(),d("ngClass",g(2,1,e.accessShareUserToAgency))}}function af(n,l){if(n&1&&(r(0,"mat-cell"),S(1,rf,3,3,"ng-container",27),a()),n&2){let e=l.$implicit;o(),d("ngIf",e.accessShareUserToAgency)}}function lf(n,l){if(n&1&&(r(0,"mat-header-cell"),c(1),a()),n&2){let e=m(2);o(),y(" ",e.fieldsInfoAgencyUser.accessShareAgencyToUser==null?null:e.fieldsInfoAgencyUser.accessShareAgencyToUser.fieldTitle," ")}}function sf(n,l){if(n&1&&(A(0),C(1,"i",98),_(2,"boolclass"),P()),n&2){let e=m().$implicit;o(),d("ngClass",g(2,1,e.accessShareAgencyToUser))}}function df(n,l){if(n&1&&(r(0,"mat-cell"),S(1,sf,3,3,"ng-container",27),a()),n&2){let e=l.$implicit;o(),d("ngIf",e.accessShareAgencyToUser)}}function cf(n,l){n&1&&(r(0,"mat-header-cell"),c(1),_(2,"translate"),a()),n&2&&(o(),y(" ",g(2,1,"TITLE.OPTION")," "))}function pf(n,l){if(n&1){let e=I();r(0,"mat-cell",99)(1,"button",100)(2,"small",101),E("click",function(){let t=u(e).$implicit,s=m(2);return f(s.onActionDataGetDeleteGroup(t))}),r(3,"mat-icon",102),_(4,"translate"),c(5,"delete"),a()()()()}n&2&&(o(3),d("matTooltip",x(g(4,2,"ACTION.DELETE"))))}function mf(n,l){n&1&&C(0,"mat-header-row")}function uf(n,l){if(n&1&&C(0,"mat-row"),n&2){let e=l.dataIndex;Se("ntk-row-odd",e%2)("ntk-row-even",!(e%2))}}function ff(n,l){if(n&1&&(r(0,"div",86)(1,"mat-table",87),A(2,88),S(3,Ju,2,1,"mat-header-cell",89)(4,$u,2,1,"mat-cell",90),P(),A(5,91),S(6,ef,2,1,"mat-header-cell",89)(7,nf,2,1,"mat-cell",90),P(),A(8,92),S(9,of,2,1,"mat-header-cell",89)(10,af,2,1,"mat-cell",90),P(),A(11,93),S(12,lf,2,1,"mat-header-cell",89)(13,df,2,1,"mat-cell",90),P(),A(14,94),S(15,cf,3,3,"mat-header-cell",89)(16,pf,6,4,"mat-cell",95),P(),S(17,mf,1,0,"mat-header-row",96)(18,uf,1,4,"mat-row",97),a()()),n&2){let e=m();o(),d("dataSource",e.optionTabledataSource),o(16),d("matHeaderRowDef",e.optionTabledisplayedColumns),o(),d("matRowDefColumns",e.optionTabledisplayedColumns)}}function _f(n,l){n&1&&(r(0,"mat-icon"),c(1,"call_end"),a())}function gf(n,l){n&1&&(r(0,"mat-icon"),c(1,"forum"),a())}function hf(n,l){if(n&1){let e=I();r(0,"div",103)(1,"button",104),E("click",function(){u(e);let t=m();return f(t.onFormCancel())}),C(2,"i",105),c(3),_(4,"translate"),a(),r(5,"button",106),C(6,"i",107),c(7),_(8,"translate"),a()()}if(n&2){m();let e=k(9);o(3),y(" ",g(4,3,"ACTION.CANCEL")," "),o(2),d("disabled",!e.form.valid),o(2),y(" ",g(8,5,"ACTION.SAVE")," ")}}var Oa=class Oa extends Bt{constructor(e,i,t,s,h,p,D,z,he,je,Ge,mt){super(s,new lo,he,mt);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.estateAccountAgencyService=s;this.estateAccountExpertService=h;this.cmsToastrService=p;this.cmsStoreService=D;this.estateAccountAgencyExpertService=z;this.publicHelper=he;this.tokenHelper=je;this.cdr=Ge;this.translate=mt;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.fieldsInfoAgencyUser=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new Ft;this.dataModel=new lo;this.dataEstateAccountAgencyExpertModel=new rc;this.formInfo=new me;this.fileManagerOpenForm=!1;this.optionTabledataSource=new li;this.optionTabledisplayedColumns=["LinkEstateExpertId","LinkEstateAccountAgencyId","AccessShareUserToAgency","AccessShareAgencyToUser","Action"];this.viewMap=!1;this.mapMarkerPoints=[];this.mapOptonCenter=new Li;this.dataEstateAccountExpertModel=[];this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),this.DataGetAccess(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore}ngOnInit(){if(this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.DataGetAllGroup()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estateAccountAgencyService.setAccessLoad(),this.estateAccountAgencyService.setAccessDataType(Be.Editor),this.estateAccountAgencyService.ServiceGetOneById(this.requestId).subscribe({next:i=>{if(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess){this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.formAlert="";let t=this.dataModel.geolocationlatitude,s=this.dataModel.geolocationlongitude;t>0&&s>0&&(this.mapMarkerPoints=[],this.mapMarkerPoints.push({lat:t,lon:s}),this.receiveMap())}else this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage);this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estateAccountAgencyService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.formAlert=t}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e),this.formInfo.formSubmitAllow=!0},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}receiveMap(e=this.mapModel){e&&(this.mapModel=e,this.mapMarkerPoints&&this.mapMarkerPoints.length>0&&(this.mapMarkerPoints.forEach(i=>{this.mapMarker=Np.marker([i.lat,i.lon]).addTo(this.mapModel)}),this.mapOptonCenter=this.mapMarkerPoints[0],this.mapMarkerPoints=[]),this.mapModel.on("click",i=>{let t=i.latlng.lat,s=i.latlng.lng;if(this.mapMarker!==void 0&&this.mapModel.removeLayer(this.mapMarker),t===this.dataModel.geolocationlatitude&&s===this.dataModel.geolocationlongitude){this.dataModel.geolocationlatitude=null,this.dataModel.geolocationlongitude=null;return}this.mapMarker=Np.marker([t,s]).addTo(this.mapModel),this.dataModel.geolocationlatitude=t,this.dataModel.geolocationlongitude=s}))}receiveZoom(e){}onActionFileSelected(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}onActionSelectorUser(e){this.dataModel.linkCmsUserId=null,e&&e.id>0&&(this.dataModel.linkCmsUserId=e.id)}onStepClick(e,i){e.previouslySelectedIndex<e.selectedIndex}DataGetAllGroup(){if(this.requestId.length<=0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Getting_access_category_from_the_server").subscribe(s=>{this.formInfo.formAlert=s}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(s=>{this.publicHelper.processService.processStart(e,s,this.constructorInfoAreaId)});let i=new pe,t=new H;t.propertyName="linkEstateAccountAgencyId",t.value=this.requestId,i.filters.push(t),this.estateAccountAgencyExpertService.ServiceGetAll(i).subscribe({next:s=>{this.dataEstateAccountExpertModel=s.listItems,this.optionTabledataSource.data=this.dataEstateAccountExpertModel,s.isSuccess?this.formInfo.formAlert="":(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(h=>{this.formInfo.formAlert=h}),this.formInfo.formError=s.errorMessage,this.cmsToastrService.typeErrorMessage(s.errorMessage)),this.publicHelper.processService.processStop(e)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(e,!1)}})}onActionDataGetAddGroup(){let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estateAccountAgencyExpertService.ServiceAdd(this.dataEstateAccountAgencyExpertModel).subscribe({next:i=>{i.isSuccess?(this.formInfo.formAlert="",this.optionTabledataSource.data=i.listItems,this.DataGetAllGroup()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionDataGetDeleteGroup(e){let i=this.constructor.name+"onActionDataGetDeleteGroup";this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructorInfoAreaId)}),this.estateAccountAgencyExpertService.ServiceDeleteEntity(e).subscribe({next:t=>{t.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAllGroup()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(i)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(i,!1)}})}onActionSelectorAccountUser(e){this.dataEstateAccountAgencyExpertModel.linkEstateExpertId=null,this.dataEstateAccountAgencyExpertModel.linkEstateAccountAgencyId=this.requestId,e&&e.id?.length>0&&(this.dataEstateAccountAgencyExpertModel.linkEstateExpertId=e.id)}onActionSelectorLocation(e){this.dataModel.linkLocationId=null,e&&e.id>0&&(this.dataModel.linkLocationId=e.id)}onActionSelectorLocationWorkArea(e){this.dataModel.linkLocationWorkAreaIds=e}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Oa.\u0275fac=function(i){return new(i||Oa)(v(be),v(Me),v(J),v(Dn),v(un),v(V),v(Z),v(Ea),v(F),v(K),v(B),v(L))},Oa.\u0275cmp=R({type:Oa,selectors:[["app-estate-account-agency-edit"]],viewQuery:function(i,t){if(i&1&&ee(Au,5),i&2){let s;te(s=ie())&&(t.formGroup=s.first)}},standalone:!1,features:[ne],decls:104,vars:107,consts:[["vform","ngForm"],["stepper",""],["LinkMainImageId",""],["Title",""],["Description",""],["PhoneNumber",""],["mobileNumber",""],["Address",""],["DescriptionHidden",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit","ngStyle"],[3,"selectionChange"],["state","main",3,"label"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["class","fa fa-times  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],[4,"ngIf"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[3,"optionDisabled","optionSelectForce","optionPlaceholder","optionChange",4,"ngIf"],["for","dataModel.phoneNumber",1,"color-highlight"],["matInput","","name","dataModel.phoneNumber","type","text","minlength","0","maxlength","64","id","dataModel.phoneNumber",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.mobileNumber",1,"color-highlight"],["matInput","","name","dataModel.mobileNumber","type","text","minlength","0","maxlength","64","id","dataModel.mobileNumber",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.address",1,"color-highlight"],["matInput","","name","dataModel.address","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.address","required","",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[3,"optionChange","optionSelectForce","optionPlaceholder","optionDisabled"],[3,"optionChange","optionSelectForce","optionPlaceholder"],["class","d-flex mb-3",4,"ngIf"],["id","main-map",3,"map$","zoom$","optonCenter"],["state","file",3,"label"],[3,"optionChange","optionDisabled","optionPlaceholder"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-highlight","type","button",3,"click",4,"ngIf"],["class","example-container mat-elevation-z8",4,"ngIf"],["matStepperIcon","main"],["matStepperIcon","file"],["class","form-actions",4,"ngIf"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.descriptionHidden",1,"color-highlight"],["matInput","","name","dataModel.descriptionHidden","type","text","minlength","0","maxlength","500","rows","5","id","dataModel.descriptionHidden",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.accessWatchRowSite",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.accessWatchRowSite","name","dataModel.accessWatchRowSite",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.accessWatchRowSite",1,"custom-control-label"],["data-trigger-switch","dataModel.accessWatchRowOtherAgency",1,"font-600","font-14"],["type","checkbox","id","dataModel.accessWatchRowOtherAgency","name","dataModel.accessWatchRowOtherAgency",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.accessWatchRowOtherAgency",1,"custom-control-label"],["data-trigger-switch","dataModel.accessWatchRowOtherAgent",1,"font-600","font-14"],["type","checkbox","id","dataModel.accessWatchRowOtherAgent","name","dataModel.accessWatchRowOtherAgent",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.accessWatchRowOtherAgent",1,"custom-control-label"],["data-trigger-switch","dataModel.accessAllowShareRowWatchOtherAgency",1,"font-600","font-14"],["type","checkbox","id","dataModel.accessAllowShareRowWatchOtherAgency","name","dataModel.accessAllowShareRowWatchOtherAgency",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.accessAllowShareRowWatchOtherAgency",1,"custom-control-label"],["data-trigger-switch","dataModel.accessAllowShareRowWatchOtherAgent",1,"font-600","font-14"],["type","checkbox","id","dataModel.accessAllowShareRowWatchOtherAgent","name","dataModel.accessAllowShareRowWatchOtherAgent",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.accessAllowShareRowWatchOtherAgent",1,"custom-control-label"],["data-trigger-switch","dataModel.notificationWorkAreaEstate",1,"font-600","font-14"],["type","checkbox","id","dataModel.notificationWorkAreaEstate","name","dataModel.notificationWorkAreaEstate",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.notificationWorkAreaEstate",1,"custom-control-label"],["data-trigger-switch","dataModel.notificationWorkAreaCustomerOrder",1,"font-600","font-14"],["type","checkbox","id","dataModel.notificationWorkAreaCustomerOrder","name","dataModel.notificationWorkAreaCustomerOrder",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.notificationWorkAreaCustomerOrder",1,"custom-control-label"],["type","checkbox","id","dataEstateAccountAgencyExpertModel.accessShareAgencyToUser","name","dataEstateAccountAgencyExpertModel.accessShareAgencyToUser",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataEstateAccountAgencyExpertModel.accessShareAgencyToUser",1,"custom-control-label"],["data-trigger-switch","dataEstateAccountAgencyExpertModel.accessShareUserToAgency",1,"font-600","font-14"],["type","checkbox","id","dataEstateAccountAgencyExpertModel.accessShareUserToAgency","name","dataEstateAccountAgencyExpertModel.accessShareUserToAgency",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataEstateAccountAgencyExpertModel.accessShareUserToAgency",1,"custom-control-label"],["type","button","type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"example-container","mat-elevation-z8"],["multiTemplateDataRows","",3,"dataSource"],["matColumnDef","LinkEstateExpertId"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkEstateAccountAgencyId"],["matColumnDef","AccessShareUserToAgency"],["matColumnDef","AccessShareAgencyToUser"],["matColumnDef","Action"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even",4,"matRowDef","matRowDefColumns"],[3,"ngClass"],[1,"Action"],["type","button","mat-icon-button","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red"],[3,"click"],["matTooltipPosition","before","aria-hidden","false",2,"color","red",3,"matTooltip"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=I();r(0,"div",9),C(1,"app-progress-spinner",10),r(2,"div",11)(3,"p",12),c(4),a(),r(5,"p"),c(6),_(7,"translate"),a(),r(8,"form",13,0),E("ngSubmit",function(){return u(s),f(t.onFormSubmit())}),r(10,"mat-vertical-stepper",14,1),E("selectionChange",function(p){u(s);let D=k(11);return f(t.onStepClick(p,D))}),r(12,"mat-step",15),_(13,"translate"),r(14,"div",16)(15,"a",17),_(16,"cmsthumbnail"),S(17,ku,2,4,"img",18),a()(),r(18,"div",19)(19,"label",20),E("click",function(){return u(s),f(t.fileManagerOpenForm=!0)}),c(20),_(21,"translate"),a(),r(22,"input",21,2),_(24,"translate"),w("ngModelChange",function(p){return u(s),T(t.dataModel.linkMainImageId,p)||(t.dataModel.linkMainImageId=p),f(p)}),E("click",function(){return u(s),f(t.fileManagerOpenForm=!0)}),a(),r(25,"cms-file-manager",22),E("itemSelected",function(p){return u(s),f(t.onActionFileSelected(p))}),w("openFormChange",function(p){return u(s),T(t.fileManagerOpenForm,p)||(t.fileManagerOpenForm=p),f(p)}),a()(),r(26,"div",19)(27,"label",23),c(28),a(),r(29,"input",24,3),w("ngModelChange",function(p){return u(s),T(t.dataModel.title,p)||(t.dataModel.title=p),f(p)}),a(),S(31,Du,1,0,"i",25)(32,Ru,1,0,"i",26),C(33,"em"),S(34,Lu,5,3,"mat-error",27),a(),r(35,"div",19)(36,"label",28),c(37),a(),r(38,"textarea",29,4),w("ngModelChange",function(p){return u(s),T(t.dataModel.description,p)||(t.dataModel.description=p),f(p)}),c(40,"                    "),a(),r(41,"em"),c(42),a(),S(43,Vu,5,3,"mat-error",27),a(),S(44,Ou,9,9,"div",30)(45,Fu,2,5,"app-cms-user-selector",31),r(46,"div",19)(47,"label",32),c(48),a(),r(49,"input",33,5),w("ngModelChange",function(p){return u(s),T(t.dataModel.phoneNumber,p)||(t.dataModel.phoneNumber=p),f(p)}),a(),r(51,"em"),c(52),a()(),r(53,"div",19)(54,"label",34),c(55),a(),r(56,"input",35,6),w("ngModelChange",function(p){return u(s),T(t.dataModel.mobileNumber,p)||(t.dataModel.mobileNumber=p),f(p)}),a(),r(58,"em"),c(59),a()(),r(60,"div",19)(61,"label",36),c(62),a(),r(63,"textarea",37,7),w("ngModelChange",function(p){return u(s),T(t.dataModel.address,p)||(t.dataModel.address=p),f(p)}),c(65,"                    "),a(),S(66,Bu,1,0,"i",25)(67,Nu,1,0,"i",26),r(68,"em"),c(69),a(),S(70,Hu,5,3,"mat-error",27),a(),r(71,"app-cms-location-selector",38),_(72,"translate"),E("optionChange",function(p){return u(s),f(t.onActionSelectorLocation(p))}),a(),C(73,"br"),c(74),_(75,"translate"),r(76,"app-cms-location-autocomplete",39),_(77,"translate"),E("optionChange",function(p){return u(s),f(t.onActionSelectorLocationWorkArea(p))}),a(),C(78,"hr"),S(79,Wu,8,2,"div",40)(80,Gu,8,2,"div",40)(81,Uu,8,2,"div",40)(82,ju,8,2,"div",40)(83,qu,8,2,"div",40),C(84,"hr"),S(85,Qu,8,2,"div",40)(86,zu,8,2,"div",40),C(87,"hr"),r(88,"p"),c(89),_(90,"translate"),a(),r(91,"app-cms-map",41),E("map$",function(p){return u(s),f(t.receiveMap(p))})("zoom$",function(p){return u(s),f(t.receiveZoom(p))}),a()(),r(92,"mat-step",42),_(93,"translate"),C(94,"br"),r(95,"app-estate-account-expert-selector",43),_(96,"translate"),E("optionChange",function(p){return u(s),f(t.onActionSelectorAccountUser(p))}),a(),S(97,Yu,8,1,"div",40)(98,Ku,8,1,"div",40)(99,Zu,2,0,"button",44)(100,ff,19,3,"div",45),a(),S(101,_f,2,0,"ng-template",46)(102,gf,2,0,"ng-template",47),a(),S(103,hf,9,7,"div",48),a()()()}if(i&2){let s=k(30),h=k(39),p=k(50),D=k(57),z=k(64);o(),d("optionsInfoAreaId",t.constructorInfoAreaId),o(3),y(" ",t.formInfo.formTitle," "),o(2),y(" ",g(7,83,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),d("ngStyle",ze(105,Pu,t.tokenInfo.access.direction)),o(4),d("label",x(g(13,85,"TITLE.REQUIRED_INFORMATION"))),o(3),d("href",x(g(16,87,t.dataModel.linkMainImageIdSrc)),j),o(2),d("ngIf",(t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0),o(3),M(g(21,89,"MESSAGE. Photo_of_estate_agency")),o(2),d("placeholder",x(g(24,91,"TITLE.Original_File_ID"))),b("ngModel",t.dataModel.linkMainImageId),o(3),d("language",t.appLanguage)("isPopup",!0),b("openForm",t.fileManagerOpenForm),d("tree",t.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",t.selectFileTypeMainImage)("openFilemanagerButtonView",!1),o(3),M(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),b("ngModel",t.dataModel.title),d("disabled",!(t.fieldsInfo.title!=null&&t.fieldsInfo.title.accessEditField)),o(2),d("ngIf",!s.value),o(),d("ngIf",s.value),o(2),d("ngIf",s.errors==null?null:s.errors.required),o(3),M(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),b("ngModel",t.dataModel.description),d("disabled",!(t.fieldsInfo.description!=null&&t.fieldsInfo.description.accessEditField)),o(4),y("",h.value.length," / 500"),o(),d("ngIf",h.errors==null?null:h.errors.required),o(),d("ngIf",t.fieldsInfo.descriptionHidden==null?null:t.fieldsInfo.descriptionHidden.accessWatchField),o(),d("ngIf",t.tokenHelper.isAdminSite),o(3),M(t.fieldsInfo.phoneNumber==null?null:t.fieldsInfo.phoneNumber.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.phoneNumber==null?null:t.fieldsInfo.phoneNumber.fieldTitle)),b("ngModel",t.dataModel.phoneNumber),d("disabled",!(t.fieldsInfo.phoneNumber!=null&&t.fieldsInfo.phoneNumber.accessEditField)),o(3),y("",p.value.length," / 64"),o(3),M(t.fieldsInfo.mobileNumber==null?null:t.fieldsInfo.mobileNumber.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.mobileNumber==null?null:t.fieldsInfo.mobileNumber.fieldTitle)),b("ngModel",t.dataModel.mobileNumber),d("disabled",!(t.fieldsInfo.mobileNumber!=null&&t.fieldsInfo.mobileNumber.accessAddField)),o(3),y("",D.value.length," / 64"),o(3),M(t.fieldsInfo.address==null?null:t.fieldsInfo.address.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.address==null?null:t.fieldsInfo.address.fieldTitle)),b("ngModel",t.dataModel.address),d("disabled",!(t.fieldsInfo.address!=null&&t.fieldsInfo.address.accessEditField)),o(3),d("ngIf",!z.value),o(),d("ngIf",z.value),o(2),y("",z.value.length," / 500"),o(),d("ngIf",z.errors==null?null:z.errors.required),o(),d("optionSelectForce",t.dataModel.linkLocationId)("optionPlaceholder",g(72,93,"TITLE.Geographical_Region"))("optionDisabled",!(t.fieldsInfo.linkLocationId!=null&&t.fieldsInfo.linkLocationId.accessEditField)),o(3),y(" ",g(75,95,"TITLE.COVERED_AREAS")," "),o(2),d("optionSelectForce",t.dataModel.linkLocationWorkAreaIds)("optionPlaceholder",g(77,97,"TITLE.Region")),o(3),d("ngIf",t.tokenHelper.isAdminSite||t.tokenHelper.isSupportSite),o(),d("ngIf",t.tokenHelper.isAdminSite||t.tokenHelper.isSupportSite),o(),d("ngIf",t.tokenHelper.isAdminSite||t.tokenHelper.isSupportSite),o(),d("ngIf",t.tokenHelper.isAdminSite||t.tokenHelper.isSupportSite),o(),d("ngIf",t.tokenHelper.isAdminSite||t.tokenHelper.isSupportSite),o(2),d("ngIf",t.tokenHelper.isAdminSite||t.tokenHelper.isSupportSite),o(),d("ngIf",t.tokenHelper.isAdminSite||t.tokenHelper.isSupportSite),o(3),M(g(90,99,"TITLE.Click_on_the_map_to_specify_the_location")),o(2),d("optonCenter",t.mapOptonCenter),o(),d("label",x(g(93,101,"TITLE.Property_personnel"))),o(3),d("optionDisabled",!t.tokenHelper.isAdminSite)("optionPlaceholder",g(96,103,"TITLE.Property_personnel")),o(2),d("ngIf",t.tokenHelper.isAdminSite||t.tokenHelper.isSupportSite),o(),d("ngIf",t.tokenHelper.isAdminSite||t.tokenHelper.isSupportSite),o(),d("ngIf",t.dataEstateAccountAgencyExpertModel.linkEstateExpertId&&t.dataEstateAccountAgencyExpertModel.linkEstateExpertId.length>0),o(),d("ngIf",!t.publicHelper.processService.process.inRunAll),o(3),d("ngIf",t.formInfo.formSubmitAllow)}},dependencies:[se,N,tt,ke,Y,Ht,q,Te,de,De,Ae,ce,Pe,Je,we,Ee,Q,Ji,Xi,Zi,it,ot,st,rt,nt,dt,at,lt,ct,pt,or,si,Qt,$i,Ci,U,en,ut,Sn,He,O,Ie,rr,dr,cr],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});var hc=Oa;function yf(n,l){n&1&&C(0,"div",10)}var Fa=class Fa{constructor(l,e,i,t,s,h){this.headerService=l;this.publicHelper=e;this.cdr=i;this.translate=t;this.cmsToastrService=s;this.dialog=h;this.constructorInfoAreaId=this.constructor.name;this.optionId="";this.dataModelResult=new G;this.fieldsInfo=new Map;this.publicHelper.processService.cdr=this.cdr}ngOnInit(){this.optionId?.length>0&&this.DataGetOneContent()}DataGetOneContent(){let l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(l,e,this.constructorInfoAreaId)}),this.headerService.setAccessLoad(),this.headerService.ServiceGetOneById(this.optionId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),e.isSuccess?this.dataModelResult=e:this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(l)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(l,!1)}})}};Fa.\u0275fac=function(e){return new(e||Fa)(v(un),v(F),v(B),v(L),v(V),v(xe))},Fa.\u0275cmp=R({type:Fa,selectors:[["app-estate-account-expert-header"]],inputs:{optionId:"optionId"},standalone:!1,decls:32,vars:10,consts:[[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content"],[1,"table"],[1,"tr"],[1,"td","small-width"],[1,"svg-icon","svg-icon-3x","svg-icon-primary",3,"inlineSVG"],[1,"td","large-width",2,"color","darkblue"],["class","td",4,"ngIf"],[1,"td","large-width"],[1,"td"],[2,"clear","both"],[1,"td",2,"text-align","left"],[1,"divider","divider-margins"]],template:function(e,i){e&1&&(r(0,"div",0),C(1,"app-progress-spinner",1),r(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),C(6,"span",6),a(),r(7,"div",7)(8,"h5")(9,"b"),c(10),_(11,"translate"),a()()(),S(12,yf,1,0,"div",8),a(),r(13,"div",4)(14,"div",5)(15,"b"),c(16),a(),c(17,": "),a(),r(18,"div",9),c(19),a(),C(20,"div",10)(21,"div",11),a(),r(22,"div",4)(23,"div",5)(24,"b"),c(25),a(),c(26," : "),a(),r(27,"div",9),c(28),a(),C(29,"div",12)(30,"div",11),a()()()(),C(31,"div",13)),e&2&&(o(),d("optionsInfoAreaId",i.constructorInfoAreaId),o(5),d("inlineSVG","./assets/media/svg/icons/Communication/Flag.svg"),o(4),M(g(11,8,"TITLE.Selected_Personnel")),o(2),d("ngIf",i.dataModelResult==null||i.dataModelResult.item==null?null:i.dataModelResult.item.id),o(4),y("",i.fieldsInfo.id==null?null:i.fieldsInfo.id.fieldTitle," "),o(3),M(i.dataModelResult==null||i.dataModelResult.item==null?null:i.dataModelResult.item.id),o(6),M(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(3),M(i.dataModelResult==null||i.dataModelResult.item==null?null:i.dataModelResult.item.title))},dependencies:[N,U,cn,O],styles:[".table[_ngcontent-%COMP%]{display:table;border:1px solid #40A1F5;padding:2px;background:#fff;border-radius:5px}.table[_ngcontent-%COMP%]   .th[_ngcontent-%COMP%]{display:table-row;background-color:#40a1f577;color:#fff;font-weight:700}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f9f9f9}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]{display:table-row;border-bottom:1px solid #000}.table[_ngcontent-%COMP%]   .td[_ngcontent-%COMP%]{display:table-cell;padding:15px;border-bottom:1px solid #40A1F5}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:last-child   .td[_ngcontent-%COMP%]{border:0}.small-width[_ngcontent-%COMP%]{width:90px}.large-width[_ngcontent-%COMP%]{width:400px}.clear[_ngcontent-%COMP%]{clear:both}"]});var Ba=Fa;var Cf=()=>["expandedTitle"],Sf=()=>["expandedDetail"],vf=()=>[5,10,20,100],Ef=n=>({display:n});function If(n,l){if(n&1&&C(0,"app-estate-account-expert-header",47),n&2){let e=m();d("optionId",e.requestLinkAccountUserId)}}function Mf(n,l){if(n&1){let e=I();r(0,"div",18)(1,"a",48),E("click",function(){u(e);let t=m();return f(t.onActionButtonNewRow())}),C(2,"i",49)(3,"br"),a(),r(4,"p",21),c(5),_(6,"translate"),a()()}n&2&&(o(5),M(g(6,1,"ACTION.ADD")))}function bf(n,l){if(n&1){let e=I();r(0,"div",18)(1,"a",50),E("click",function(){u(e);let t=m();return f(t.onActionButtonEditRow(t.tableRowSelected))}),C(2,"i",51)(3,"br"),a(),r(4,"p",21),c(5),_(6,"translate"),a()()}n&2&&(o(5),M(g(6,1,"ACTION.EDIT")))}function Tf(n,l){if(n&1){let e=I();r(0,"div",18)(1,"a",52),E("click",function(){u(e);let t=m();return f(t.onActionButtonDeleteRow(t.tableRowSelected))}),C(2,"i",53)(3,"br"),a(),r(4,"p",21),c(5),_(6,"translate"),a()()}n&2&&(o(5),M(g(6,1,"ACTION.DELETE")))}function wf(n,l){n&1&&(r(0,"mat-header-cell"),c(1),_(2,"translate"),a()),n&2&&(o(),y(" ",g(2,1,"TITLE.MENU")," "))}function xf(n,l){if(n&1){let e=I();r(0,"mat-cell")(1,"button",54),E("click",function(){let t=u(e).$implicit,s=m();return f(s.onActionTableRowSelectActionMenu(t))}),C(2,"i",55),a()()}}function Af(n,l){n&1&&(r(0,"mat-header-cell",56),c(1),_(2,"translate"),a()),n&2&&(o(),y(" ",g(2,1,"TITLE.PICTURE")," "))}function Pf(n,l){if(n&1&&(C(0,"img",58),_(1,"cmsthumbnail")),n&2){let e=m().$implicit;d("src",x(g(1,2,e.linkMainImageIdSrc)),j)}}function kf(n,l){if(n&1&&(r(0,"mat-cell"),S(1,Pf,2,4,"img",57),a()),n&2){let e=l.$implicit;o(),d("ngIf",(e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0)}}function Df(n,l){if(n&1&&(r(0,"mat-header-cell",56),c(1),a()),n&2){let e=m();o(),y(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function Rf(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),y(" ",e.id," ")}}function Lf(n,l){if(n&1&&(r(0,"mat-header-cell",56),c(1),a()),n&2){let e=m();o(),y(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," ")}}function Vf(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),y(" ",e.title," ")}}function Of(n,l){if(n&1&&(r(0,"mat-header-cell",56),c(1),a()),n&2){let e=m();o(),y(" ",e.fieldsInfo.linkCmsUserId==null?null:e.fieldsInfo.linkCmsUserId.fieldTitle," ")}}function Ff(n,l){if(n&1&&(r(0,"mat-cell"),c(1),_(2,"cmsuserinfo"),_(3,"async"),a()),n&2){let e=l.$implicit;o(),y(" ",g(3,3,g(2,1,e.linkCmsUserId))," ")}}function Bf(n,l){if(n&1&&(r(0,"mat-header-cell",56),c(1),a()),n&2){let e=m();o(),y(" ",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle," ")}}function Nf(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),y(" ",e.description," ")}}function Hf(n,l){n&1&&(r(0,"mat-header-cell"),c(1),_(2,"translate"),a()),n&2&&(o(),y(" ",g(2,1,"TITLE.OPTION")," "))}function Wf(n,l){if(n&1&&(r(0,"mat-cell",59)(1,"button",60)(2,"mat-icon"),c(3,"more_vert"),a()(),C(4,"mat-menu",null,2),a()),n&2){let e=k(5);o(),d("matMenuTriggerFor",e)}}function Gf(n,l){if(n&1&&(r(0,"mat-cell"),c(1),_(2,"translate"),_(3,"cmsuserinfo"),_(4,"async"),a()),n&2){let e=l.$implicit;o(),$(" ",g(2,2,"TITLE.User-Id-Cms"),": ",g(4,6,g(3,4,e.linkCmsUserId))," ")}}function Uf(n,l){if(n&1&&(C(0,"img",65),_(1,"cmsthumbnail")),n&2){let e=m().$implicit;d("src",x(g(1,2,e.linkMainImageIdSrc)),j)}}function jf(n,l){if(n&1&&(r(0,"tr"),C(1,"td"),r(2,"td"),c(3),a()()),n&2){let e=m().$implicit,i=m();o(3),$("",i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle," : ",e.description," ")}}function qf(n,l){if(n&1&&(r(0,"tr"),C(1,"td"),r(2,"td"),c(3),_(4,"translate"),a()()),n&2){let e=m().$implicit;o(3),$("",g(4,2,"TITLE.Address")," : ",e.address," ")}}function Qf(n,l){if(n&1&&(r(0,"tr"),C(1,"td"),r(2,"td"),c(3),a()()),n&2){let e=m().$implicit,i=m();o(3),$("",i.fieldsInfo.phoneNumber==null?null:i.fieldsInfo.phoneNumber.fieldTitle," : ",e.phoneNumber," ")}}function zf(n,l){if(n&1&&(r(0,"tr"),C(1,"td"),r(2,"td"),c(3),a()()),n&2){let e=m().$implicit,i=m();o(3),$("",i.fieldsInfo.mobileNumber==null?null:i.fieldsInfo.mobileNumber.fieldTitle," : ",e.mobileNumber," ")}}function Yf(n,l){if(n&1){let e=I();r(0,"mat-cell")(1,"div")(2,"table")(3,"tr")(4,"th"),S(5,Uf,2,4,"img",61),a(),r(6,"th")(7,"span",62),E("click",function(){u(e);let t=m();return f(t.onActionCopied())}),C(8,"i",63),a(),c(9),a()(),r(10,"tr"),C(11,"td"),r(12,"td"),c(13),a()(),S(14,jf,4,2,"tr",64)(15,qf,5,4,"tr",64)(16,Qf,4,2,"tr",64)(17,zf,4,2,"tr",64),r(18,"tr"),C(19,"td")(20,"td"),a()()()()}if(n&2){let e=l.$implicit,i=m();o(5),d("ngIf",(e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0),o(2),d("cdkCopyToClipboard",e.id),o(2),y(" ",e.id," "),o(4),$("",i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle," : ",e.title," "),o(),d("ngIf",e.description),o(),d("ngIf",e.address),o(),d("ngIf",e.phoneNumber),o(),d("ngIf",e.mobileNumber)}}function Kf(n,l){n&1&&C(0,"mat-header-row")}function Zf(n,l){if(n&1){let e=I();r(0,"mat-row",66),E("click",function(){let t=u(e).$implicit,s=m();return f(s.onActionTableRowSelect(t))})("mouseenter",function(){let t=u(e).$implicit,s=m();return f(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=u(e).$implicit,s=m();return f(s.onActionTableRowMouseLeave(t))}),a()}if(n&2){let e=l.$implicit,i=l.dataIndex,t=m();Se("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",e.id===(t.tableRowSelected==null?null:t.tableRowSelected.id))}}function Jf(n,l){if(n&1){let e=I();r(0,"mat-row",66),E("click",function(){let t=u(e).$implicit,s=m();return f(s.onActionTableRowSelect(t))})("mouseenter",function(){let t=u(e).$implicit,s=m();return f(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=u(e).$implicit,s=m();return f(s.onActionTableRowMouseLeave(t))}),a()}if(n&2){let e=l.$implicit,i=l.dataIndex,t=m();Se("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",e.id===(t.tableRowSelected==null?null:t.tableRowSelected.id))}}function Xf(n,l){if(n&1){let e=I();r(0,"mat-row",67),E("click",function(){let t=u(e).$implicit,s=m();return f(s.onActionTableRowSelect(t))})("mouseenter",function(){let t=u(e).$implicit,s=m();return f(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=u(e).$implicit,s=m();return f(s.onActionTableRowMouseLeave(t))}),a()}if(n&2){let e=l.$implicit,i=l.dataIndex,t=m();Se("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",e.id===(t.tableRowSelected==null?null:t.tableRowSelected.id)),d("ngStyle",ze(7,Ef,e.expanded===!0?"":"none"))}}var Na=class Na extends bt{constructor(e,i,t,s,h,p,D,z,he,je,Ge,mt,Nt){super(e,new lo,mt,h,z);this.contentService=e;this.cmsConfirmationDialogService=i;this.cmsToastrService=t;this.router=s;this.tokenHelper=h;this.cdr=p;this.cmsStoreService=D;this.translate=z;this.themeService=he;this.activatedRoute=je;this.pageInfo=Ge;this.publicHelper=mt;this.dialog=Nt;this.requestLinkAccountUserId="";this.constructorInfoAreaId=this.constructor.name;this.optionloadComponent=!0;this.optionloadByRoute=!0;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new ba;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["LinkMainImageIdSrc","Title","Description","action_menu"];this.tabledisplayedColumnsMobileSource=["LinkMainImageIdSrc","Title","Description","action_menu"];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:Rt=>this.onSubmitOptionsSearch(Rt)},this.requestLinkAccountUserId=this.activatedRoute.snapshot.paramMap.get("LinkAccountUserId"),this.filteModelContent.sortColumn="Id",this.filteModelContent.sortType=X.Descending}set optionLinkLocationWorkAreaIds(e){this.requestLinkLocationWorkAreaIds=[],e&&e.length>0&&(this.requestLinkLocationWorkAreaIds=e),this.requestLinkLocationWorkAreaIds&&this.requestLinkLocationWorkAreaIds.length>0&&(this.filteModelContent.linkLocationWorkAreaIds=this.requestLinkLocationWorkAreaIds)}set optionLinkLocationWorkAreaId(e){this.requestLinkLocationWorkAreaIds=[],e&&e>0&&this.requestLinkLocationWorkAreaIds.push(e),this.requestLinkLocationWorkAreaIds&&this.requestLinkLocationWorkAreaIds.length>0&&(this.filteModelContent.linkLocationWorkAreaIds=this.requestLinkLocationWorkAreaIds)}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.cmsApiStoreSubscribe=this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>re(this,null,function*(){this.tokenInfo=e,this.DataGetAll()}))}ngOnDestroy(){this.cmsApiStoreSubscribe&&this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){if(this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),!this.optionloadComponent)return;if(this.tableRowsSelected=[],this.onActionTableRowSelect(new lo),this.requestLinkAccountUserId&&this.requestLinkAccountUserId.length>0){let t=new H;t.propertyAnyName="AccountAgencyUser",t.propertyName="linkEstateExpertId",t.value=this.requestLinkAccountUserId,this.filteModelContent.filters.push(t)}let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.setAccessDataType(Be.Editor),this.contentService.ServiceGetAll(i).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),t.isSuccess&&(this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=X.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=X.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=X.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionSelectorLocation(e){this.filteModelContent.linkLocationIds=e}onActionSelectorLocationWorkArea(e){this.filteModelContent.linkLocationWorkAreaIds=e}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(fc,{height:"90%",panelClass:e,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(hc,{height:"90%",panelClass:i,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(s=>{this.cmsToastrService.typeErrorSelected(s)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(s=>{i=s["MESSAGE.Please_Confirm"],t=s["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(s=>{if(s){let h=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(p=>{this.publicHelper.processService.processStart(h,p,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:p=>{p.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(h)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(h,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(p=>{i.set(p,0)}),this.translate.get("MESSAGE.All").subscribe(p=>{i.set(p,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(p=>{this.publicHelper.processService.processStart(t,p,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:p=>{p.isSuccess?(this.translate.get("MESSAGE.All").subscribe(D=>{i.set(D,p.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(p.errorMessage),this.publicHelper.processService.processStop(t)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(t,!1)}});let s=JSON.parse(JSON.stringify(this.filteModelContent)),h=new H;h.propertyName="RecordStatus",h.value=qe.Available,s.filters.push(h),this.contentService.ServiceGetCount(s).subscribe({next:p=>{p.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(D=>{i.set(D,p.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(p.errorMessage),this.publicHelper.processService.processStop(t)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonAgentRow(e=this.tableRowSelected,i){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.tableRowSelected=e,this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}i?.ctrlKey?(this.link="/#/estate/account-user/LinkAccountAgencyId/"+this.tableRowSelected.id,window.open(this.link,"_blank")):this.router.navigate(["/estate/account-user/LinkAccountAgencyId",this.tableRowSelected.id])}onActionButtonHistoryRow(e=this.tableRowSelected,i){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.tableRowSelected=e,this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}i?.ctrlKey?(this.link="/#/estate/property-history/LinkEstateAgencyId/"+this.tableRowSelected.id,window.open(this.link,"_blank")):this.router.navigate(["/estate/property-history/LinkEstateAgencyId",this.tableRowSelected.id])}onActionButtonPropertyRow(e=this.tableRowSelected,i){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.tableRowSelected=e,this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}i?.ctrlKey?(this.link="/#/estate/property/LinkEstateAgencyId/"+this.tableRowSelected.id,window.open(this.link,"_blank")):this.router.navigate(["/estate/property/LinkEstateAgencyId",this.tableRowSelected.id])}onActionCopied(){this.cmsToastrService.typeSuccessCopedToClipboard()}onActionButtonReload(){this.optionloadComponent=!0,this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0&&(this.filteModelContent.filters=[...this.filteModelContent.filters,...e]),this.DataGetAll()}};Na.\u0275fac=function(i){return new(i||Na)(v(Dn),v(Mt),v(V),v(Ze),v(K),v(B),v(Z),v(L),v(kt),v(jt),v(ht),v(F),v(xe))},Na.\u0275cmp=R({type:Na,selectors:[["app-estate-account-agency-list"]],inputs:{optionloadComponent:"optionloadComponent",optionloadByRoute:"optionloadByRoute",optionLinkLocationWorkAreaIds:"optionLinkLocationWorkAreaIds",optionLinkLocationWorkAreaId:"optionLinkLocationWorkAreaId"},standalone:!1,features:[ne],decls:94,vars:57,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionId",4,"ngIf"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionActionRowDisplayMenuAct","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-user-tie","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-clock-rotate-left","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-house","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],[3,"optionChange","optionSelectForce","optionPlaceholder"],["cms-body",""],["matSort","","multiTemplateDataRows","",3,"matSortChange","dataSource"],["matColumnDef","action_menu"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkMainImageIdSrc"],["mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","Id"],["matColumnDef","Title"],["matColumnDef","LinkCmsUserId"],["matColumnDef","Description"],["matColumnDef","Action"],["class"," Action",4,"matCellDef"],["matColumnDef","expandedTitle"],["matColumnDef","expandedDetail"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","ngStyle","click","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],[3,"optionId"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"click"],[1,"fa","fa-bars","font-18"],["mat-sort-header",""],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","40","width","40",3,"src",4,"ngIf"],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","80","width","80",3,"src",4,"ngIf"],[1,"navi-icon","pointer",3,"click","cdkCopyToClipboard"],[1,"flaticon2-copy"],[4,"ngIf"],["aria-hidden","","height","80","width","80",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"click","mouseenter","mouseleave"],[3,"click","mouseenter","mouseleave","ngStyle"]],template:function(i,t){if(i&1){let s=I();S(0,If,1,1,"app-estate-account-expert-header",3),r(1,"app-cms-html-list",4),w("optionActionGuideNoticeDisplayChange",function(p){return u(s),T(t.viewGuideNotice,p)||(t.viewGuideNotice=p),f(p)}),E("optionOnActionButtonMemoRow",function(){return u(s),f(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return u(s),f(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return u(s),f(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return u(s),f(t.onActionButtonPrintRow())}),A(2,5),c(3," -------------------------------------- "),P(),Qe(4,6)(5,7),A(6,8),r(7,"a",9),E("click",function(){return u(s),f(t.viewGuideNotice=!t.viewGuideNotice)}),C(8,"i",10),a(),r(9,"a",9),E("click",function(){return u(s),f(t.onActionButtonReload())}),C(10,"i",11),a(),P(),A(11,12),r(12,"a",13),E("click",function(){return u(s),f(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),C(13,"mat-slide-toggle",14),c(14),_(15,"translate"),a(),r(16,"a",13),E("click",function(){return u(s),f(t.onActionButtonStatist())}),C(17,"mat-slide-toggle",14),c(18),_(19,"translate"),a(),P(),A(20,15),S(21,Mf,7,3,"div",16),P(),A(22,17),S(23,bf,7,3,"div",16)(24,Tf,7,3,"div",16),r(25,"div",18)(26,"a",19),E("click",function(p){return u(s),f(t.onActionButtonAgentRow(t.tableRowSelected,p))}),C(27,"i",20)(28,"br"),a(),r(29,"p",21),c(30),_(31,"translate"),a()(),r(32,"div",18)(33,"a",19),E("click",function(p){return u(s),f(t.onActionButtonHistoryRow(t.tableRowSelected,p))}),C(34,"i",22)(35,"br"),a(),r(36,"p",21),c(37),_(38,"translate"),a()(),r(39,"div",18)(40,"a",19),E("click",function(p){return u(s),f(t.onActionButtonPropertyRow(t.tableRowSelected,p))}),C(41,"i",23)(42,"br"),a(),r(43,"p",21),c(44),_(45,"translate"),a()(),P(),A(46,24),r(47,"app-cms-search-list",25),w("optionsChange",function(p){return u(s),T(t.optionsSearch,p)||(t.optionsSearch=p),f(p)}),c(48),_(49,"translate"),r(50,"app-cms-location-autocomplete",26),_(51,"translate"),E("optionChange",function(p){return u(s),f(t.onActionSelectorLocation(p))}),a(),C(52,"br"),c(53),_(54,"translate"),r(55,"app-cms-location-autocomplete",26),_(56,"translate"),E("optionChange",function(p){return u(s),f(t.onActionSelectorLocationWorkArea(p))}),a(),C(57,"hr"),a(),r(58,"app-cms-statist-list",25),w("optionsChange",function(p){return u(s),T(t.optionsStatist,p)||(t.optionsStatist=p),f(p)}),a(),P(),A(59,27),r(60,"mat-table",28,0),E("matSortChange",function(){u(s);let p=k(61);return f(t.onTableSortData(p))}),A(62,29),S(63,wf,3,3,"mat-header-cell",30)(64,xf,3,0,"mat-cell",31),P(),A(65,32),S(66,Af,3,3,"mat-header-cell",33)(67,kf,2,1,"mat-cell",31),P(),A(68,34),S(69,Df,2,1,"mat-header-cell",33)(70,Rf,2,1,"mat-cell",31),P(),A(71,35),S(72,Lf,2,1,"mat-header-cell",33)(73,Vf,2,1,"mat-cell",31),P(),A(74,36),S(75,Of,2,1,"mat-header-cell",33)(76,Ff,4,5,"mat-cell",31),P(),A(77,37),S(78,Bf,2,1,"mat-header-cell",33)(79,Nf,2,1,"mat-cell",31),P(),A(80,38),S(81,Hf,3,3,"mat-header-cell",30)(82,Wf,6,1,"mat-cell",39),P(),A(83,40),S(84,Gf,5,8,"mat-cell",31),P(),A(85,41),S(86,Yf,21,9,"mat-cell",31),P(),S(87,Kf,1,0,"mat-header-row",42)(88,Zf,1,6,"mat-row",43)(89,Jf,1,6,"mat-row",43)(90,Xf,1,9,"mat-row",44),a(),P(),A(91,45),r(92,"mat-paginator",46,1),E("page",function(p){return u(s),f(t.onTablePageingData(p))}),a(),P(),a()}i&2&&(d("ngIf",(t.requestLinkAccountUserId==null?null:t.requestLinkAccountUserId.length)>0),o(),d("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey","accountagency.content.list"),b("optionActionGuideNoticeDisplay",t.viewGuideNotice),d("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelectDoubleClick)("optionActionRowDisplayMenuAct",t.tableRowSelectActionMenuClick)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.title),o(12),d("checked",t.optionsSearch.data.show),o(),y("",g(15,36,"ACTION.SEARCH")," "),o(3),d("checked",t.optionsStatist.data.show),o(),y("",g(19,38,"ACTION.STATIST")," "),o(3),d("ngIf",t.optionloadByRoute&&t.dataModelResult.access.accessAddRow),o(2),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),o(),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),o(6),M(g(31,40,"ACTION.PERSONNEL")),o(7),M(g(38,42,"ACTION.HISTORY")),o(7),M(g(45,44,"ACTION.CONNECT_TO_PROPERTY")),o(3),b("options",t.optionsSearch),o(),y(" ",g(49,46,"ACTION.LOCATION")," "),o(2),d("optionSelectForce",t.filteModelContent.linkLocationIds)("optionPlaceholder",g(51,48,"TITLE.Region")),o(3),y(" ",g(54,50,"ACTION.LOCATION_WORK_ACTIVITY")," "),o(2),d("optionSelectForce",t.filteModelContent.linkLocationWorkAreaIds)("optionPlaceholder",g(56,52,"TITLE.Region")),o(3),b("options",t.optionsStatist),o(2),d("dataSource",t.tableSource),o(27),d("matHeaderRowDef",t.tabledisplayedColumns),o(),d("matRowDefColumns",le(54,Cf)),o(),d("matRowDefColumns",t.tabledisplayedColumns),o(),d("matRowDefColumns",le(55,Sf)),o(2),d("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",le(56,vf)))},dependencies:[N,tt,Je,Ee,At,Pt,vt,gt,Et,It,it,ot,st,rt,nt,dt,at,lt,ct,pt,ci,Tt,wt,Qt,xt,Ba,He,O,Ai,Ie],encapsulation:2});var co=Na;var Hp=uo(Fo());var $f=["vform"],e_=n=>({direction:n});function t_(n,l){if(n&1&&(C(0,"img",52),_(1,"cmsthumbnail")),n&2){let e=m();d("src",x(g(1,2,e.dataModel.linkMainImageIdSrc)),j)}}function i_(n,l){n&1&&C(0,"i",53)}function n_(n,l){n&1&&C(0,"i",54)}function o_(n,l){n&1&&(r(0,"mat-error"),c(1," Title is "),r(2,"strong"),c(3),_(4,"translate"),a()()),n&2&&(o(3),M(g(4,1,"MESSAGE.required")))}function r_(n,l){n&1&&(r(0,"mat-error"),c(1," Description is "),r(2,"strong"),c(3),_(4,"translate"),a()()),n&2&&(o(3),M(g(4,1,"MESSAGE.required")))}function a_(n,l){if(n&1){let e=I();r(0,"div",20)(1,"label",55),c(2),_(3,"translate"),a(),r(4,"textarea",56,11),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.descriptionHidden,t)||(s.dataModel.descriptionHidden=t),f(t)}),c(6,"              "),a(),r(7,"em"),c(8),a()()}if(n&2){let e=k(5),i=m();o(2),M(g(3,5,"TITLE.Description_Hidden")),o(2),d("placeholder",x(i.fieldsInfo.descriptionHidden==null?null:i.fieldsInfo.descriptionHidden.fieldTitle)),b("ngModel",i.dataModel.descriptionHidden),o(4),y("",e.value.length," / 500")}}function l_(n,l){if(n&1){let e=I();r(0,"app-cms-user-selector",57),_(1,"translate"),E("optionChange",function(t){u(e);let s=m();return f(s.onActionSelectorUser(t))}),a()}if(n&2){let e=m();d("optionDisabled",!(e.fieldsInfo.linkCmsUserId!=null&&e.fieldsInfo.linkCmsUserId.accessAddField))("optionSelectForce",e.dataModel.linkCmsUserId)("optionPlaceholder",g(1,3,"TITLE.USER"))}}function s_(n,l){n&1&&C(0,"i",53)}function d_(n,l){n&1&&C(0,"i",54)}function c_(n,l){n&1&&(r(0,"mat-error"),c(1," Address is "),r(2,"strong"),c(3),_(4,"translate"),a()()),n&2&&(o(3),M(g(4,1,"MESSAGE.required")))}function p_(n,l){if(n&1){let e=I();r(0,"div",58)(1,"div",59)(2,"h5",60),c(3),a()(),r(4,"div",61)(5,"div",62)(6,"input",63),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.accessWatchRowSite,t)||(s.dataModel.accessWatchRowSite=t),f(t)}),a(),C(7,"label",64),a()()()}if(n&2){let e=m();o(3),y(" ",e.fieldsInfo.accessWatchRowSite==null?null:e.fieldsInfo.accessWatchRowSite.fieldTitle),o(3),b("ngModel",e.dataModel.accessWatchRowSite)}}function m_(n,l){if(n&1){let e=I();r(0,"div",58)(1,"div",59)(2,"h5",65),c(3),a()(),r(4,"div",61)(5,"div",62)(6,"input",66),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.accessWatchRowOtherAgency,t)||(s.dataModel.accessWatchRowOtherAgency=t),f(t)}),a(),C(7,"label",67),a()()()}if(n&2){let e=m();o(3),y(" ",e.fieldsInfo.accessWatchRowOtherAgency==null?null:e.fieldsInfo.accessWatchRowOtherAgency.fieldTitle),o(3),b("ngModel",e.dataModel.accessWatchRowOtherAgency)}}function u_(n,l){if(n&1){let e=I();r(0,"div",58)(1,"div",59)(2,"h5",68),c(3),a()(),r(4,"div",61)(5,"div",62)(6,"input",69),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.accessWatchRowOtherAgent,t)||(s.dataModel.accessWatchRowOtherAgent=t),f(t)}),a(),C(7,"label",70),a()()()}if(n&2){let e=m();o(3),y(" ",e.fieldsInfo.accessWatchRowOtherAgent==null?null:e.fieldsInfo.accessWatchRowOtherAgent.fieldTitle),o(3),b("ngModel",e.dataModel.accessWatchRowOtherAgent)}}function f_(n,l){if(n&1){let e=I();r(0,"div",58)(1,"div",59)(2,"h5",71),c(3),a()(),r(4,"div",61)(5,"div",62)(6,"input",72),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.accessAllowShareRowWatchOtherAgency,t)||(s.dataModel.accessAllowShareRowWatchOtherAgency=t),f(t)}),a(),C(7,"label",73),a()()()}if(n&2){let e=m();o(3),y(" ",e.fieldsInfo.accessAllowShareRowWatchOtherAgency==null?null:e.fieldsInfo.accessAllowShareRowWatchOtherAgency.fieldTitle),o(3),b("ngModel",e.dataModel.accessAllowShareRowWatchOtherAgency)}}function __(n,l){if(n&1){let e=I();r(0,"div",58)(1,"div",59)(2,"h5",74),c(3),a()(),r(4,"div",61)(5,"div",62)(6,"input",75),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.accessAllowShareRowWatchOtherAgent,t)||(s.dataModel.accessAllowShareRowWatchOtherAgent=t),f(t)}),a(),C(7,"label",76),a()()()}if(n&2){let e=m();o(3),y(" ",e.fieldsInfo.accessAllowShareRowWatchOtherAgent==null?null:e.fieldsInfo.accessAllowShareRowWatchOtherAgent.fieldTitle),o(3),b("ngModel",e.dataModel.accessAllowShareRowWatchOtherAgent)}}function g_(n,l){if(n&1){let e=I();r(0,"div",58)(1,"div",59)(2,"h5",77),c(3),a()(),r(4,"div",61)(5,"div",62)(6,"input",78),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.notificationWorkAreaEstate,t)||(s.dataModel.notificationWorkAreaEstate=t),f(t)}),a(),C(7,"label",79),a()()()}if(n&2){let e=m();o(3),y(" ",e.fieldsInfo.notificationWorkAreaEstate==null?null:e.fieldsInfo.notificationWorkAreaEstate.fieldTitle),o(3),b("ngModel",e.dataModel.notificationWorkAreaEstate)}}function h_(n,l){if(n&1){let e=I();r(0,"div",58)(1,"div",59)(2,"h5",80),c(3),a()(),r(4,"div",61)(5,"div",62)(6,"input",81),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.notificationWorkAreaCustomerOrder,t)||(s.dataModel.notificationWorkAreaCustomerOrder=t),f(t)}),a(),C(7,"label",82),a()()()}if(n&2){let e=m();o(3),y(" ",e.fieldsInfo.notificationWorkAreaCustomerOrder==null?null:e.fieldsInfo.notificationWorkAreaCustomerOrder.fieldTitle),o(3),b("ngModel",e.dataModel.notificationWorkAreaCustomerOrder)}}function y_(n,l){if(n&1){let e=I();r(0,"div",83)(1,"button",84),E("click",function(){u(e);let t=m();return f(t.onFormCancel())}),C(2,"i",85),c(3),_(4,"translate"),a(),r(5,"button",86),C(6,"i",87),c(7),_(8,"translate"),a()()}if(n&2){m();let e=k(9);o(3),y(" ",g(4,3,"ACTION.CANCEL")," "),o(2),d("disabled",!e.form.valid),o(2),y(" ",g(8,5,"ACTION.SAVE")," ")}}var Ha=class Ha extends Dt{constructor(e,i,t,s,h,p,D,z,he,je){super(s,new so,p,he);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.estateAccountExpertService=s;this.cmsToastrService=h;this.publicHelper=p;this.cmsStoreService=D;this.cdr=z;this.translate=he;this.tokenHelper=je;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.tokenInfo=new St;this.dataModelResult=new G;this.dataModel=new so;this.formInfo=new me;this.fileManagerOpenForm=!1;this.viewMap=!1;this.mapMarkerPoints=[];this.mapOptonCenter=new Li;this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess()}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estateAccountExpertService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.formAlert=t}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e),this.formInfo.formSubmitAllow=!0},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}receiveMap(e=this.mapModel){e&&(this.mapModel=e,this.mapMarkerPoints&&this.mapMarkerPoints.length>0&&(this.mapMarkerPoints.forEach(i=>{this.mapMarker=Hp.marker([i.lat,i.lon]).addTo(this.mapModel)}),this.mapOptonCenter=this.mapMarkerPoints[0],this.mapMarkerPoints=[]),this.mapModel.on("click",i=>{let t=i.latlng.lat,s=i.latlng.lng;if(this.mapMarker!==void 0&&this.mapModel.removeLayer(this.mapMarker),t===this.dataModel.geolocationlatitude&&s===this.dataModel.geolocationlongitude){this.dataModel.geolocationlatitude=null,this.dataModel.geolocationlongitude=null;return}this.mapMarker=Hp.marker([t,s]).addTo(this.mapModel),this.dataModel.geolocationlatitude=t,this.dataModel.geolocationlongitude=s}))}receiveZoom(e){}onActionSelectorUser(e){this.dataModel.linkCmsUserId=null,e&&e.id>0&&(this.dataModel.linkCmsUserId=e.id)}onActionSelectorLocation(e){this.dataModel.linkLocationId=null,e&&e.id>0&&(this.dataModel.linkLocationId=e.id)}onActionSelectorLocationWorkArea(e){this.dataModel.linkLocationWorkAreaIds=e}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}onActionFileSelected(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}};Ha.\u0275fac=function(i){return new(i||Ha)(v(be),v(Me),v(J),v(un),v(V),v(F),v(Z),v(B),v(L),v(K))},Ha.\u0275cmp=R({type:Ha,selectors:[["app-estate-account-expert-add"]],viewQuery:function(i,t){if(i&1&&ee($f,5),i&2){let s;te(s=ie())&&(t.formGroup=s.first)}},standalone:!1,features:[ne],decls:116,vars:117,consts:[["vform","ngForm"],["LinkMainImageId",""],["Title",""],["Description",""],["JoinId",""],["SerialRfId",""],["SerialNumber",""],["PlaceProduction",""],["PhoneNumber",""],["mobileNumber",""],["Address",""],["DescriptionHidden",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit","ngStyle"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openSelectFileDescription","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["class","fa fa-times  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],[4,"ngIf"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[3,"optionDisabled","optionSelectForce","optionPlaceholder","optionChange",4,"ngIf"],["for","dataModel.joinId",1,"color-highlight"],["matInput","","name","dataModel.joinId","type","text","minlength","0","maxlength","64","id","dataModel.joinId",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.serialRfId",1,"color-highlight"],["matInput","","name","dataModel.serialRfId","type","text","minlength","0","maxlength","64","id","dataModel.serialRfId",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.serialNumber",1,"color-highlight"],["matInput","","name","dataModel.serialNumber","type","text","minlength","0","maxlength","64","id","dataModel.serialNumber",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.placeProduction",1,"color-highlight"],["matInput","","name","dataModel.placeProduction","type","text","minlength","0","maxlength","64","id","dataModel.placeProduction",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.phoneNumber",1,"color-highlight"],["matInput","","name","dataModel.phoneNumber","type","text","minlength","0","maxlength","64","id","dataModel.phoneNumber",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.mobileNumber",1,"color-highlight"],["matInput","","name","dataModel.mobileNumber","type","text","minlength","0","maxlength","64","id","dataModel.mobileNumber",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.address",1,"color-highlight"],["matInput","","name","dataModel.address","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.address","required","",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[3,"optionChange","optionSelectForce","optionPlaceholder","optionDisabled"],[3,"optionChange","optionSelectForce","optionPlaceholder"],["class","d-flex mb-3",4,"ngIf"],["id","main-map",3,"map$","zoom$","optonCenter"],["class","form-actions",4,"ngIf"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.descriptionHidden",1,"color-highlight"],["matInput","","name","dataModel.descriptionHidden","type","text","minlength","0","maxlength","500","rows","5","id","dataModel.descriptionHidden",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.accessWatchRowSite",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.accessWatchRowSite","name","dataModel.accessWatchRowSite",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.accessWatchRowSite",1,"custom-control-label"],["data-trigger-switch","dataModel.accessWatchRowOtherAgency",1,"font-600","font-14"],["type","checkbox","id","dataModel.accessWatchRowOtherAgency","name","dataModel.accessWatchRowOtherAgency",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.accessWatchRowOtherAgency",1,"custom-control-label"],["data-trigger-switch","dataModel.accessWatchRowOtherAgent",1,"font-600","font-14"],["type","checkbox","id","dataModel.accessWatchRowOtherAgent","name","dataModel.accessWatchRowOtherAgent",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.accessWatchRowOtherAgent",1,"custom-control-label"],["data-trigger-switch","dataModel.accessAllowShareRowWatchOtherAgency",1,"font-600","font-14"],["type","checkbox","id","dataModel.accessAllowShareRowWatchOtherAgency","name","dataModel.accessAllowShareRowWatchOtherAgency",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.accessAllowShareRowWatchOtherAgency",1,"custom-control-label"],["data-trigger-switch","dataModel.accessAllowShareRowWatchOtherAgent",1,"font-600","font-14"],["type","checkbox","id","dataModel.accessAllowShareRowWatchOtherAgent","name","dataModel.accessAllowShareRowWatchOtherAgent",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.accessAllowShareRowWatchOtherAgent",1,"custom-control-label"],["data-trigger-switch","dataModel.notificationWorkAreaEstate",1,"font-600","font-14"],["type","checkbox","id","dataModel.notificationWorkAreaEstate","name","dataModel.notificationWorkAreaEstate",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.notificationWorkAreaEstate",1,"custom-control-label"],["data-trigger-switch","dataModel.notificationWorkAreaCustomerOrder",1,"font-600","font-14"],["type","checkbox","id","dataModel.notificationWorkAreaCustomerOrder","name","dataModel.notificationWorkAreaCustomerOrder",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.notificationWorkAreaCustomerOrder",1,"custom-control-label"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=I();r(0,"div",12),C(1,"app-progress-spinner",13),r(2,"div",14)(3,"p",15),c(4),a(),r(5,"p"),c(6),_(7,"translate"),a(),r(8,"form",16,0),E("ngSubmit",function(){return u(s),f(t.onFormSubmit())}),r(10,"div",17)(11,"a",18),_(12,"cmsthumbnail"),S(13,t_,2,4,"img",19),a()(),r(14,"div",20)(15,"label",21),E("click",function(){return u(s),f(t.fileManagerOpenForm=!0)}),c(16),_(17,"translate"),a(),r(18,"input",22,1),_(20,"translate"),w("ngModelChange",function(p){return u(s),T(t.dataModel.linkMainImageId,p)||(t.dataModel.linkMainImageId=p),f(p)}),E("click",function(){return u(s),f(t.fileManagerOpenForm=!0)}),a(),r(21,"cms-file-manager",23),_(22,"translate"),E("itemSelected",function(p){return u(s),f(t.onActionFileSelected(p))}),w("openFormChange",function(p){return u(s),T(t.fileManagerOpenForm,p)||(t.fileManagerOpenForm=p),f(p)}),a()(),r(23,"div",20)(24,"label",24),c(25),a(),r(26,"input",25,2),w("ngModelChange",function(p){return u(s),T(t.dataModel.title,p)||(t.dataModel.title=p),f(p)}),a(),S(28,i_,1,0,"i",26)(29,n_,1,0,"i",27),C(30,"em"),S(31,o_,5,3,"mat-error",28),a(),r(32,"div",20)(33,"label",29),c(34),a(),r(35,"textarea",30,3),w("ngModelChange",function(p){return u(s),T(t.dataModel.description,p)||(t.dataModel.description=p),f(p)}),c(37,"                "),a(),r(38,"em"),c(39),a(),S(40,r_,5,3,"mat-error",28),a(),S(41,a_,9,7,"div",31)(42,l_,2,5,"app-cms-user-selector",32),r(43,"div",20)(44,"label",33),c(45),a(),r(46,"input",34,4),w("ngModelChange",function(p){return u(s),T(t.dataModel.joinId,p)||(t.dataModel.joinId=p),f(p)}),a(),r(48,"em"),c(49),a()(),r(50,"div",20)(51,"label",35),c(52),a(),r(53,"input",36,5),w("ngModelChange",function(p){return u(s),T(t.dataModel.serialRfId,p)||(t.dataModel.serialRfId=p),f(p)}),a(),r(55,"em"),c(56),a()(),r(57,"div",20)(58,"label",37),c(59),a(),r(60,"input",38,6),w("ngModelChange",function(p){return u(s),T(t.dataModel.serialNumber,p)||(t.dataModel.serialNumber=p),f(p)}),a(),r(62,"em"),c(63),a()(),r(64,"div",20)(65,"label",39),c(66),a(),r(67,"input",40,7),w("ngModelChange",function(p){return u(s),T(t.dataModel.placeProduction,p)||(t.dataModel.placeProduction=p),f(p)}),a()(),r(69,"div",20)(70,"label",41),c(71),a(),r(72,"input",42,8),w("ngModelChange",function(p){return u(s),T(t.dataModel.phoneNumber,p)||(t.dataModel.phoneNumber=p),f(p)}),a(),r(74,"em"),c(75),a()(),r(76,"div",20)(77,"label",43),c(78),a(),r(79,"input",44,9),w("ngModelChange",function(p){return u(s),T(t.dataModel.mobileNumber,p)||(t.dataModel.mobileNumber=p),f(p)}),a(),r(81,"em"),c(82),a()(),r(83,"div",20)(84,"label",45),c(85),a(),r(86,"textarea",46,10),w("ngModelChange",function(p){return u(s),T(t.dataModel.address,p)||(t.dataModel.address=p),f(p)}),c(88,"                "),a(),S(89,s_,1,0,"i",26)(90,d_,1,0,"i",27),r(91,"em"),c(92),a(),S(93,c_,5,3,"mat-error",28),a(),r(94,"app-cms-location-selector",47),_(95,"translate"),E("optionChange",function(p){return u(s),f(t.onActionSelectorLocation(p))}),a(),C(96,"br"),c(97),_(98,"translate"),r(99,"app-cms-location-autocomplete",48),_(100,"translate"),E("optionChange",function(p){return u(s),f(t.onActionSelectorLocationWorkArea(p))}),a(),C(101,"hr"),S(102,p_,8,2,"div",49)(103,m_,8,2,"div",49)(104,u_,8,2,"div",49)(105,f_,8,2,"div",49)(106,__,8,2,"div",49),C(107,"hr"),S(108,g_,8,2,"div",49)(109,h_,8,2,"div",49),C(110,"hr"),r(111,"p"),c(112),_(113,"translate"),a(),r(114,"app-cms-map",50),E("map$",function(p){return u(s),f(t.receiveMap(p))})("zoom$",function(p){return u(s),f(t.receiveZoom(p))}),a(),S(115,y_,9,7,"div",51),a()()()}if(i&2){let s=k(27),h=k(36),p=k(47),D=k(54),z=k(61),he=k(73),je=k(80),Ge=k(87);o(),d("optionsInfoAreaId",t.constructorInfoAreaId),o(3),y(" ",t.formInfo.formTitle," "),o(2),y(" ",g(7,97,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),d("ngStyle",ze(115,e_,t.tokenInfo.access.direction)),o(3),d("href",x(g(12,99,t.dataModel.linkMainImageIdSrc)),j),o(2),d("ngIf",(t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0),o(3),M(g(17,101,"TITLE.Profile_Picture")),o(2),d("placeholder",x(g(20,103,"TITLE.Profile_Photo_File_ID"))),b("ngModel",t.dataModel.linkMainImageId),o(3),d("language",t.appLanguage)("isPopup",!0)("openSelectFileDescription",g(22,105,"TITLE.The_dimensions_of_the_photo_should_be_600_x_600")),b("openForm",t.fileManagerOpenForm),d("tree",t.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",t.selectFileTypeMainImage)("openFilemanagerButtonView",!1),o(4),M(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),b("ngModel",t.dataModel.title),d("disabled",!(t.fieldsInfo.title!=null&&t.fieldsInfo.title.accessAddField)),o(2),d("ngIf",!s.value),o(),d("ngIf",s.value),o(2),d("ngIf",s.errors==null?null:s.errors.required),o(3),M(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),b("ngModel",t.dataModel.description),d("disabled",!(t.fieldsInfo.description!=null&&t.fieldsInfo.description.accessAddField)),o(4),y("",h.value.length," / 500"),o(),d("ngIf",h.errors==null?null:h.errors.required),o(),d("ngIf",t.fieldsInfo.descriptionHidden==null?null:t.fieldsInfo.descriptionHidden.accessWatchField),o(),d("ngIf",t.tokenHelper.isAdminSite),o(3),M(t.fieldsInfo.joinId==null?null:t.fieldsInfo.joinId.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.joinId==null?null:t.fieldsInfo.joinId.fieldTitle)),b("ngModel",t.dataModel.joinId),d("disabled",!(t.fieldsInfo.joinId!=null&&t.fieldsInfo.joinId.accessAddField)),o(3),y("",p.value.length," / 64"),o(3),M(t.fieldsInfo.serialRfId==null?null:t.fieldsInfo.serialRfId.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.serialRfId==null?null:t.fieldsInfo.serialRfId.fieldTitle)),b("ngModel",t.dataModel.serialRfId),d("disabled",!(t.fieldsInfo.serialRfId!=null&&t.fieldsInfo.serialRfId.accessAddField)),o(3),y("",D.value.length," / 64"),o(3),M(t.fieldsInfo.serialNumber==null?null:t.fieldsInfo.serialNumber.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.serialNumber==null?null:t.fieldsInfo.serialNumber.fieldTitle)),b("ngModel",t.dataModel.serialNumber),d("disabled",!(t.fieldsInfo.serialNumber!=null&&t.fieldsInfo.serialNumber.accessAddField)),o(3),y("",z.value.length," / 64"),o(3),M(t.fieldsInfo.placeProduction==null?null:t.fieldsInfo.placeProduction.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.placeProduction==null?null:t.fieldsInfo.placeProduction.fieldTitle)),b("ngModel",t.dataModel.placeProduction),d("disabled",!(t.fieldsInfo.placeProduction!=null&&t.fieldsInfo.placeProduction.accessAddField)),o(4),M(t.fieldsInfo.phoneNumber==null?null:t.fieldsInfo.phoneNumber.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.phoneNumber==null?null:t.fieldsInfo.phoneNumber.fieldTitle)),b("ngModel",t.dataModel.phoneNumber),d("disabled",!(t.fieldsInfo.phoneNumber!=null&&t.fieldsInfo.phoneNumber.accessAddField)),o(3),y("",he.value.length," / 64"),o(3),M(t.fieldsInfo.mobileNumber==null?null:t.fieldsInfo.mobileNumber.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.mobileNumber==null?null:t.fieldsInfo.mobileNumber.fieldTitle)),b("ngModel",t.dataModel.mobileNumber),d("disabled",!(t.fieldsInfo.mobileNumber!=null&&t.fieldsInfo.mobileNumber.accessAddField)),o(3),y("",je.value.length," / 64"),o(3),M(t.fieldsInfo.address==null?null:t.fieldsInfo.address.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.address==null?null:t.fieldsInfo.address.fieldTitle)),b("ngModel",t.dataModel.address),d("disabled",!(t.fieldsInfo.address!=null&&t.fieldsInfo.address.accessAddField)),o(3),d("ngIf",!s.value),o(),d("ngIf",s.value),o(2),y("",Ge.value.length," / 500"),o(),d("ngIf",Ge.errors==null?null:Ge.errors.required),o(),d("optionSelectForce",t.dataModel.linkLocationId)("optionPlaceholder",g(95,107,"TITLE.Geographical_Region"))("optionDisabled",!(t.fieldsInfo.linkLocationId!=null&&t.fieldsInfo.linkLocationId.accessAddField)),o(3),y(" ",g(98,109,"TITLE.COVERED_AREAS")," "),o(2),d("optionSelectForce",t.dataModel.linkLocationWorkAreaIds)("optionPlaceholder",g(100,111,"TITLE.Region")),o(3),d("ngIf",t.tokenHelper.isAdminSite||t.tokenHelper.isSupportSite),o(),d("ngIf",t.tokenHelper.isAdminSite||t.tokenHelper.isSupportSite),o(),d("ngIf",t.tokenHelper.isAdminSite||t.tokenHelper.isSupportSite),o(),d("ngIf",t.tokenHelper.isAdminSite||t.tokenHelper.isSupportSite),o(),d("ngIf",t.tokenHelper.isAdminSite||t.tokenHelper.isSupportSite),o(2),d("ngIf",t.tokenHelper.isAdminSite||t.tokenHelper.isSupportSite),o(),d("ngIf",t.tokenHelper.isAdminSite||t.tokenHelper.isSupportSite),o(3),M(g(113,113,"TITLE.Click_on_the_map_to_specify_the_location")),o(2),d("optonCenter",t.mapOptonCenter),o(),d("ngIf",t.formInfo.formSubmitAllow)}},dependencies:[N,tt,ke,Y,Ht,q,Te,de,De,Ae,ce,Pe,we,Q,si,Qt,$i,Ci,U,ut,O,Ie],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});var Sc=Ha;var Wp=uo(Fo());var C_=["vform"],S_=n=>({direction:n});function v_(n,l){if(n&1&&(C(0,"img",61),_(1,"cmsthumbnail")),n&2){let e=m();d("src",x(g(1,2,e.dataModel.linkMainImageIdSrc)),j)}}function E_(n,l){n&1&&C(0,"i",62)}function I_(n,l){n&1&&C(0,"i",63)}function M_(n,l){n&1&&(r(0,"mat-error"),c(1," Title is "),r(2,"strong"),c(3),_(4,"translate"),a()()),n&2&&(o(3),M(g(4,1,"MESSAGE.required")))}function b_(n,l){n&1&&(r(0,"mat-error"),c(1," Description is "),r(2,"strong"),c(3),_(4,"translate"),a()()),n&2&&(o(3),M(g(4,1,"MESSAGE.required")))}function T_(n,l){if(n&1){let e=I();r(0,"div",23)(1,"label",64),c(2),_(3,"translate"),a(),r(4,"textarea",65,12),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.descriptionHidden,t)||(s.dataModel.descriptionHidden=t),f(t)}),c(6,"           "),a(),r(7,"em"),c(8),a()()}if(n&2){let e=k(5),i=m();o(2),M(g(3,7,"TITLE.Description_Hidden")),o(2),d("placeholder",x(i.fieldsInfo.descriptionHidden==null?null:i.fieldsInfo.descriptionHidden.fieldTitle))("disabled",x(!(i.fieldsInfo.descriptionHidden!=null&&i.fieldsInfo.descriptionHidden.accessEditField))),b("ngModel",i.dataModel.descriptionHidden),o(4),y("",e.value.length," / 500")}}function w_(n,l){if(n&1){let e=I();r(0,"app-cms-user-selector",66),_(1,"translate"),E("optionChange",function(t){u(e);let s=m();return f(s.onActionSelectorUser(t))}),a()}if(n&2){let e=m();d("optionDisabled",!(e.fieldsInfo.linkCmsUserId!=null&&e.fieldsInfo.linkCmsUserId.accessEditField))("optionSelectForce",e.dataModel.linkCmsUserId)("optionPlaceholder",g(1,3,"TITLE.USER"))}}function x_(n,l){n&1&&C(0,"i",62)}function A_(n,l){n&1&&C(0,"i",63)}function P_(n,l){n&1&&(r(0,"mat-error"),c(1," Address is "),r(2,"strong"),c(3),_(4,"translate"),a()()),n&2&&(o(3),M(g(4,1,"MESSAGE.required")))}function k_(n,l){if(n&1){let e=I();r(0,"div",67)(1,"div",68)(2,"h5",69),c(3),a()(),r(4,"div",70)(5,"div",71)(6,"input",72),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.accessWatchRowSite,t)||(s.dataModel.accessWatchRowSite=t),f(t)}),a(),C(7,"label",73),a()()()}if(n&2){let e=m();o(3),y(" ",e.fieldsInfo.accessWatchRowSite==null?null:e.fieldsInfo.accessWatchRowSite.fieldTitle),o(3),b("ngModel",e.dataModel.accessWatchRowSite)}}function D_(n,l){if(n&1){let e=I();r(0,"div",67)(1,"div",68)(2,"h5",74),c(3),a()(),r(4,"div",70)(5,"div",71)(6,"input",75),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.accessWatchRowOtherAgency,t)||(s.dataModel.accessWatchRowOtherAgency=t),f(t)}),a(),C(7,"label",76),a()()()}if(n&2){let e=m();o(3),y(" ",e.fieldsInfo.accessWatchRowOtherAgency==null?null:e.fieldsInfo.accessWatchRowOtherAgency.fieldTitle),o(3),b("ngModel",e.dataModel.accessWatchRowOtherAgency)}}function R_(n,l){if(n&1){let e=I();r(0,"div",67)(1,"div",68)(2,"h5",77),c(3),a()(),r(4,"div",70)(5,"div",71)(6,"input",78),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.accessWatchRowOtherAgent,t)||(s.dataModel.accessWatchRowOtherAgent=t),f(t)}),a(),C(7,"label",79),a()()()}if(n&2){let e=m();o(3),y(" ",e.fieldsInfo.accessWatchRowOtherAgent==null?null:e.fieldsInfo.accessWatchRowOtherAgent.fieldTitle),o(3),b("ngModel",e.dataModel.accessWatchRowOtherAgent)}}function L_(n,l){if(n&1){let e=I();r(0,"div",67)(1,"div",68)(2,"h5",80),c(3),a()(),r(4,"div",70)(5,"div",71)(6,"input",81),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.accessAllowShareRowWatchOtherAgency,t)||(s.dataModel.accessAllowShareRowWatchOtherAgency=t),f(t)}),a(),C(7,"label",82),a()()()}if(n&2){let e=m();o(3),y(" ",e.fieldsInfo.accessAllowShareRowWatchOtherAgency==null?null:e.fieldsInfo.accessAllowShareRowWatchOtherAgency.fieldTitle),o(3),b("ngModel",e.dataModel.accessAllowShareRowWatchOtherAgency)}}function V_(n,l){if(n&1){let e=I();r(0,"div",67)(1,"div",68)(2,"h5",83),c(3),a()(),r(4,"div",70)(5,"div",71)(6,"input",84),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.accessAllowShareRowWatchOtherAgent,t)||(s.dataModel.accessAllowShareRowWatchOtherAgent=t),f(t)}),a(),C(7,"label",85),a()()()}if(n&2){let e=m();o(3),y(" ",e.fieldsInfo.accessAllowShareRowWatchOtherAgent==null?null:e.fieldsInfo.accessAllowShareRowWatchOtherAgent.fieldTitle),o(3),b("ngModel",e.dataModel.accessAllowShareRowWatchOtherAgent)}}function O_(n,l){if(n&1){let e=I();r(0,"div",67)(1,"div",68)(2,"h5",86),c(3),a()(),r(4,"div",70)(5,"div",71)(6,"input",87),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.notificationWorkAreaEstate,t)||(s.dataModel.notificationWorkAreaEstate=t),f(t)}),a(),C(7,"label",88),a()()()}if(n&2){let e=m();o(3),y(" ",e.fieldsInfo.notificationWorkAreaEstate==null?null:e.fieldsInfo.notificationWorkAreaEstate.fieldTitle),o(3),b("ngModel",e.dataModel.notificationWorkAreaEstate)}}function F_(n,l){if(n&1){let e=I();r(0,"div",67)(1,"div",68)(2,"h5",89),c(3),a()(),r(4,"div",70)(5,"div",71)(6,"input",90),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.notificationWorkAreaCustomerOrder,t)||(s.dataModel.notificationWorkAreaCustomerOrder=t),f(t)}),a(),C(7,"label",91),a()()()}if(n&2){let e=m();o(3),y(" ",e.fieldsInfo.notificationWorkAreaCustomerOrder==null?null:e.fieldsInfo.notificationWorkAreaCustomerOrder.fieldTitle),o(3),b("ngModel",e.dataModel.notificationWorkAreaCustomerOrder)}}function B_(n,l){if(n&1){let e=I();r(0,"div",67)(1,"div",68)(2,"h5",80),c(3," accessShareAgencyToUser"),a()(),r(4,"div",70)(5,"div",71)(6,"input",92),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataEstateAccountAgencyExpertModel.accessShareAgencyToUser,t)||(s.dataEstateAccountAgencyExpertModel.accessShareAgencyToUser=t),f(t)}),a(),C(7,"label",93),a()()()}if(n&2){let e=m();o(6),b("ngModel",e.dataEstateAccountAgencyExpertModel.accessShareAgencyToUser)}}function N_(n,l){if(n&1){let e=I();r(0,"div",67)(1,"div",68)(2,"h5",94),c(3,"accessShareUserToAgency"),a()(),r(4,"div",70)(5,"div",71)(6,"input",95),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataEstateAccountAgencyExpertModel.accessShareUserToAgency,t)||(s.dataEstateAccountAgencyExpertModel.accessShareUserToAgency=t),f(t)}),a(),C(7,"label",96),a()()()}if(n&2){let e=m();o(6),b("ngModel",e.dataEstateAccountAgencyExpertModel.accessShareUserToAgency)}}function H_(n,l){if(n&1){let e=I();r(0,"button",97),E("click",function(){u(e);let t=m();return f(t.onActionDataGetAddGroup())}),c(1,"+ "),a()}}function W_(n,l){if(n&1&&(r(0,"mat-header-cell"),c(1),a()),n&2){let e=m(2);o(),y(" ",e.fieldsInfoAgencyUser.linkEstateExpertId==null?null:e.fieldsInfoAgencyUser.linkEstateExpertId.fieldTitle," ")}}function G_(n,l){if(n&1&&(A(0),c(1),_(2,"estateAccountExpertInfo"),_(3,"async"),P()),n&2){let e=m().$implicit;o(),y(" ",g(3,3,g(2,1,e.linkEstateExpertId))," ")}}function U_(n,l){if(n&1&&(r(0,"mat-cell"),S(1,G_,4,5,"ng-container",31),a()),n&2){let e=l.$implicit;o(),d("ngIf",e.linkEstateExpertId)}}function j_(n,l){if(n&1&&(r(0,"mat-header-cell"),c(1),a()),n&2){let e=m(2);o(),y(" ",e.fieldsInfoAgencyUser.linkEstateAccountAgencyId==null?null:e.fieldsInfoAgencyUser.linkEstateAccountAgencyId.fieldTitle," ")}}function q_(n,l){if(n&1&&(A(0),c(1),_(2,"estateAccountAgencyInfo"),_(3,"async"),P()),n&2){let e=m().$implicit;o(),y(" ",g(3,3,g(2,1,e.linkEstateAccountAgencyId))," ")}}function Q_(n,l){if(n&1&&(r(0,"mat-cell"),S(1,q_,4,5,"ng-container",31),a()),n&2){let e=l.$implicit;o(),d("ngIf",e.linkEstateAccountAgencyId)}}function z_(n,l){if(n&1&&(r(0,"mat-header-cell"),c(1),a()),n&2){let e=m(2);o(),y(" ",e.fieldsInfoAgencyUser.accessShareUserToAgency==null?null:e.fieldsInfoAgencyUser.accessShareUserToAgency.fieldTitle," ")}}function Y_(n,l){if(n&1&&(A(0),C(1,"i",110),_(2,"boolclass"),P()),n&2){let e=m().$implicit;o(),d("ngClass",g(2,1,e.accessShareUserToAgency))}}function K_(n,l){if(n&1&&(r(0,"mat-cell"),S(1,Y_,3,3,"ng-container",31),a()),n&2){let e=l.$implicit;o(),d("ngIf",e.accessShareUserToAgency)}}function Z_(n,l){if(n&1&&(r(0,"mat-header-cell"),c(1),a()),n&2){let e=m(2);o(),y(" ",e.fieldsInfoAgencyUser.accessShareAgencyToUser==null?null:e.fieldsInfoAgencyUser.accessShareAgencyToUser.fieldTitle," ")}}function J_(n,l){if(n&1&&(A(0),C(1,"i",110),_(2,"boolclass"),P()),n&2){let e=m().$implicit;o(),d("ngClass",g(2,1,e.accessShareAgencyToUser))}}function X_(n,l){if(n&1&&(r(0,"mat-cell"),S(1,J_,3,3,"ng-container",31),a()),n&2){let e=l.$implicit;o(),d("ngIf",e.accessShareAgencyToUser)}}function $_(n,l){n&1&&(r(0,"mat-header-cell"),c(1),_(2,"translate"),a()),n&2&&(o(),y(" ",g(2,1,"TITLE.OPTION")," "))}function eg(n,l){if(n&1){let e=I();r(0,"mat-cell",111)(1,"button",112)(2,"small",113),E("click",function(){let t=u(e).$implicit,s=m(2);return f(s.onActionDataGetDeleteGroup(t))}),r(3,"mat-icon",114),_(4,"translate"),c(5,"delete"),a()()()()}n&2&&(o(3),d("matTooltip",x(g(4,2,"ACTION.DELETE"))))}function tg(n,l){n&1&&C(0,"mat-header-row")}function ig(n,l){if(n&1&&C(0,"mat-row"),n&2){let e=l.dataIndex;Se("ntk-row-odd",e%2)("ntk-row-even",!(e%2))}}function ng(n,l){if(n&1&&(r(0,"div",98)(1,"mat-table",99),A(2,100),S(3,W_,2,1,"mat-header-cell",101)(4,U_,2,1,"mat-cell",102),P(),A(5,103),S(6,j_,2,1,"mat-header-cell",101)(7,Q_,2,1,"mat-cell",102),P(),A(8,104),S(9,z_,2,1,"mat-header-cell",101)(10,K_,2,1,"mat-cell",102),P(),A(11,105),S(12,Z_,2,1,"mat-header-cell",101)(13,X_,2,1,"mat-cell",102),P(),A(14,106),S(15,$_,3,3,"mat-header-cell",101)(16,eg,6,4,"mat-cell",107),P(),S(17,tg,1,0,"mat-header-row",108)(18,ig,1,4,"mat-row",109),a()()),n&2){let e=m();o(),d("dataSource",e.optionTabledataSource),o(16),d("matHeaderRowDef",e.optionTabledisplayedColumns),o(),d("matRowDefColumns",e.optionTabledisplayedColumns)}}function og(n,l){n&1&&(r(0,"mat-icon"),c(1,"call_end"),a())}function rg(n,l){n&1&&(r(0,"mat-icon"),c(1,"forum"),a())}function ag(n,l){if(n&1){let e=I();r(0,"div",115)(1,"button",116),E("click",function(){u(e);let t=m();return f(t.onFormCancel())}),C(2,"i",117),c(3),_(4,"translate"),a(),r(5,"button",118),C(6,"i",119),c(7),_(8,"translate"),a()()}if(n&2){m();let e=k(9);o(3),y(" ",g(4,3,"ACTION.CANCEL")," "),o(2),d("disabled",!e.form.valid),o(2),y(" ",g(8,5,"ACTION.SAVE")," ")}}var Wa=class Wa extends Bt{constructor(e,i,t,s,h,p,D,z,he,je,Ge){super(s,new so,z,Ge);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.estateAccountExpertService=s;this.estateAccountAgencyExpertService=h;this.cmsToastrService=p;this.cmsStoreService=D;this.publicHelper=z;this.tokenHelper=he;this.cdr=je;this.translate=Ge;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.fieldsInfoAgencyUser=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new Ft;this.dataModel=new so;this.dataEstateAccountAgencyExpertModel=new rc;this.formInfo=new me;this.fileManagerOpenForm=!1;this.optionTabledataSource=new li;this.optionTabledisplayedColumns=["LinkEstateExpertId","LinkEstateAccountAgencyId","AccessShareUserToAgency","AccessShareAgencyToUser","Action"];this.viewMap=!1;this.mapMarkerPoints=[];this.mapOptonCenter=new Li;this.dataEstateAccountAgencyModel=[];this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),this.DataGetAccess(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore}ngOnInit(){if(this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.DataGetAllGroup()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estateAccountExpertService.setAccessLoad(),this.estateAccountExpertService.setAccessDataType(Be.Editor),this.estateAccountExpertService.ServiceGetOneById(this.requestId).subscribe({next:i=>{if(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess){let t=this.dataModel.geolocationlatitude,s=this.dataModel.geolocationlongitude;t>0&&s>0&&(this.mapMarkerPoints=[],this.mapMarkerPoints.push({lat:t,lon:s}),this.receiveMap()),this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.formAlert=""}else this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage);this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estateAccountExpertService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.formAlert=t}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e),this.formInfo.formSubmitAllow=!0},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}receiveMap(e=this.mapModel){e&&(this.mapModel=e,this.mapMarkerPoints&&this.mapMarkerPoints.length>0&&(this.mapMarkerPoints.forEach(i=>{this.mapMarker=Wp.marker([i.lat,i.lon]).addTo(this.mapModel)}),this.mapOptonCenter=this.mapMarkerPoints[0],this.mapMarkerPoints=[]),this.mapModel.on("click",i=>{let t=i.latlng.lat,s=i.latlng.lng;if(this.mapMarker!==void 0&&this.mapModel.removeLayer(this.mapMarker),t===this.dataModel.geolocationlatitude&&s===this.dataModel.geolocationlongitude){this.dataModel.geolocationlatitude=null,this.dataModel.geolocationlongitude=null;return}this.mapMarker=Wp.marker([t,s]).addTo(this.mapModel),this.dataModel.geolocationlatitude=t,this.dataModel.geolocationlongitude=s}))}receiveZoom(e){}onActionSelectorUser(e){this.dataModel.linkCmsUserId=null,e&&e.id>0&&(this.dataModel.linkCmsUserId=e.id)}onActionSelectorLocation(e){this.dataModel.linkLocationId=null,e&&e.id>0&&(this.dataModel.linkLocationId=e.id)}onStepClick(e,i){e.previouslySelectedIndex<e.selectedIndex}DataGetAllGroup(){if(this.requestId.length<=0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Getting_access_category_from_the_server").subscribe(s=>{this.formInfo.formAlert=s}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(s=>{this.publicHelper.processService.processStart(e,s,this.constructorInfoAreaId)});let i=new pe,t=new H;t.propertyName="linkEstateExpertId",t.value=this.requestId,i.filters.push(t),this.estateAccountAgencyExpertService.ServiceGetAll(i).subscribe({next:s=>{this.dataEstateAccountAgencyModel=s.listItems,this.optionTabledataSource.data=this.dataEstateAccountAgencyModel,s.isSuccess?this.formInfo.formAlert="":(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(h=>{this.formInfo.formAlert=h}),this.formInfo.formError=s.errorMessage,this.cmsToastrService.typeErrorMessage(s.errorMessage)),this.publicHelper.processService.processStop(e)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(e,!1)}})}onActionDataGetAddGroup(){let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estateAccountAgencyExpertService.ServiceAdd(this.dataEstateAccountAgencyExpertModel).subscribe({next:i=>{i.isSuccess?(this.formInfo.formAlert="",this.optionTabledataSource.data=i.listItems,this.DataGetAllGroup()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionDataGetDeleteGroup(e){let i=this.constructor.name+"onActionDataGetDeleteGroup";this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructorInfoAreaId)}),this.estateAccountAgencyExpertService.ServiceDeleteEntity(e).subscribe({next:t=>{t.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAllGroup()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(i)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(i,!1)}})}onActionSelectorEstateAgency(e){this.dataEstateAccountAgencyExpertModel.linkEstateAccountAgencyId=null,this.dataEstateAccountAgencyExpertModel.linkEstateExpertId=this.requestId,e&&e.id?.length>0&&(this.dataEstateAccountAgencyExpertModel.linkEstateAccountAgencyId=e.id)}onActionSelectorLocationWorkArea(e){this.dataModel.linkLocationWorkAreaIds=e}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}onActionFileSelected(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}};Wa.\u0275fac=function(i){return new(i||Wa)(v(be),v(Me),v(J),v(un),v(Ea),v(V),v(Z),v(F),v(K),v(B),v(L))},Wa.\u0275cmp=R({type:Wa,selectors:[["app-estate-account-expert-edit"]],viewQuery:function(i,t){if(i&1&&ee(C_,5),i&2){let s;te(s=ie())&&(t.formGroup=s.first)}},standalone:!1,features:[ne],decls:132,vars:131,consts:[["vform","ngForm"],["stepper",""],["LinkMainImageId",""],["Title",""],["Description",""],["JoinId",""],["SerialRfId",""],["SerialNumber",""],["PlaceProduction",""],["PhoneNumber",""],["mobileNumber",""],["Address",""],["DescriptionHidden",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit","ngStyle"],[3,"selectionChange"],["state","main",3,"label"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["class","fa fa-times  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],[4,"ngIf"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[3,"optionDisabled","optionSelectForce","optionPlaceholder","optionChange",4,"ngIf"],["for","dataModel.joinId",1,"color-highlight"],["matInput","","name","dataModel.joinId","type","text","minlength","0","maxlength","64","id","dataModel.joinId",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.serialRfId",1,"color-highlight"],["matInput","","name","dataModel.serialRfId","type","text","minlength","0","maxlength","64","id","dataModel.serialRfId",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.serialNumber",1,"color-highlight"],["matInput","","name","dataModel.serialNumber","type","text","minlength","0","maxlength","64","id","dataModel.serialNumber",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.placeProduction",1,"color-highlight"],["matInput","","name","dataModel.placeProduction","type","text","minlength","0","maxlength","64","id","dataModel.placeProduction",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.phoneNumber",1,"color-highlight"],["matInput","","name","dataModel.phoneNumber","type","text","minlength","0","maxlength","64","id","dataModel.phoneNumber",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.mobileNumber",1,"color-highlight"],["matInput","","name","dataModel.mobileNumber","type","text","minlength","0","maxlength","64","id","dataModel.mobileNumber",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.address",1,"color-highlight"],["matInput","","name","dataModel.address","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.address","required","",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[3,"optionChange","optionSelectForce","optionPlaceholder","optionDisabled"],[3,"optionChange","optionSelectForce","optionPlaceholder"],["class","d-flex mb-3",4,"ngIf"],["id","main-map",3,"map$","zoom$","optonCenter"],["state","file",3,"label"],[3,"optionChange","optionDisabled","optionPlaceholder"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-highlight",3,"click",4,"ngIf"],["class","example-container mat-elevation-z8",4,"ngIf"],["matStepperIcon","main"],["matStepperIcon","file"],["class","form-actions",4,"ngIf"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.descriptionHidden",1,"color-highlight"],["matInput","","name","dataModel.descriptionHidden","type","text","minlength","0","maxlength","500","rows","5","id","dataModel.descriptionHidden",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.accessWatchRowSite",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.accessWatchRowSite","name","dataModel.accessWatchRowSite",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.accessWatchRowSite",1,"custom-control-label"],["data-trigger-switch","dataModel.accessWatchRowOtherAgency",1,"font-600","font-14"],["type","checkbox","id","dataModel.accessWatchRowOtherAgency","name","dataModel.accessWatchRowOtherAgency",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.accessWatchRowOtherAgency",1,"custom-control-label"],["data-trigger-switch","dataModel.accessWatchRowOtherAgent",1,"font-600","font-14"],["type","checkbox","id","dataModel.accessWatchRowOtherAgent","name","dataModel.accessWatchRowOtherAgent",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.accessWatchRowOtherAgent",1,"custom-control-label"],["data-trigger-switch","dataModel.accessAllowShareRowWatchOtherAgency",1,"font-600","font-14"],["type","checkbox","id","dataModel.accessAllowShareRowWatchOtherAgency","name","dataModel.accessAllowShareRowWatchOtherAgency",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.accessAllowShareRowWatchOtherAgency",1,"custom-control-label"],["data-trigger-switch","dataModel.accessAllowShareRowWatchOtherAgent",1,"font-600","font-14"],["type","checkbox","id","dataModel.accessAllowShareRowWatchOtherAgent","name","dataModel.accessAllowShareRowWatchOtherAgent",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.accessAllowShareRowWatchOtherAgent",1,"custom-control-label"],["data-trigger-switch","dataModel.notificationWorkAreaEstate",1,"font-600","font-14"],["type","checkbox","id","dataModel.notificationWorkAreaEstate","name","dataModel.notificationWorkAreaEstate",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.notificationWorkAreaEstate",1,"custom-control-label"],["data-trigger-switch","dataModel.notificationWorkAreaCustomerOrder",1,"font-600","font-14"],["type","checkbox","id","dataModel.notificationWorkAreaCustomerOrder","name","dataModel.notificationWorkAreaCustomerOrder",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.notificationWorkAreaCustomerOrder",1,"custom-control-label"],["type","checkbox","id","dataEstateAccountAgencyExpertModel.accessShareAgencyToUser","name","dataEstateAccountAgencyExpertModel.accessShareAgencyToUser",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataEstateAccountAgencyExpertModel.accessShareAgencyToUser",1,"custom-control-label"],["data-trigger-switch","dataEstateAccountAgencyExpertModel.accessShareUserToAgency",1,"font-600","font-14"],["type","checkbox","id","dataEstateAccountAgencyExpertModel.accessShareUserToAgency","name","dataEstateAccountAgencyExpertModel.accessShareUserToAgency",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataEstateAccountAgencyExpertModel.accessShareUserToAgency",1,"custom-control-label"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"example-container","mat-elevation-z8"],["multiTemplateDataRows","",3,"dataSource"],["matColumnDef","LinkEstateExpertId"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkEstateAccountAgencyId"],["matColumnDef","AccessShareUserToAgency"],["matColumnDef","AccessShareAgencyToUser"],["matColumnDef","Action"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even",4,"matRowDef","matRowDefColumns"],[3,"ngClass"],[1,"Action"],["type","button","mat-icon-button","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red"],[3,"click"],["matTooltipPosition","before","aria-hidden","false",2,"color","red",3,"matTooltip"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=I();r(0,"div",13),C(1,"app-progress-spinner",14),r(2,"div",15)(3,"p",16),c(4),a(),r(5,"p"),c(6),_(7,"translate"),a(),r(8,"form",17,0),E("ngSubmit",function(){return u(s),f(t.onFormSubmit())}),r(10,"mat-vertical-stepper",18,1),E("selectionChange",function(p){u(s);let D=k(11);return f(t.onStepClick(p,D))}),r(12,"mat-step",19),_(13,"translate"),r(14,"div",20)(15,"a",21),_(16,"cmsthumbnail"),S(17,v_,2,4,"img",22),a()(),r(18,"div",23)(19,"label",24),E("click",function(){return u(s),f(t.fileManagerOpenForm=!0)}),c(20),_(21,"translate"),a(),r(22,"input",25,2),_(24,"translate"),w("ngModelChange",function(p){return u(s),T(t.dataModel.linkMainImageId,p)||(t.dataModel.linkMainImageId=p),f(p)}),E("click",function(){return u(s),f(t.fileManagerOpenForm=!0)}),a(),r(25,"cms-file-manager",26),E("itemSelected",function(p){return u(s),f(t.onActionFileSelected(p))}),w("openFormChange",function(p){return u(s),T(t.fileManagerOpenForm,p)||(t.fileManagerOpenForm=p),f(p)}),a()(),r(26,"div",23)(27,"label",27),c(28),a(),r(29,"input",28,3),w("ngModelChange",function(p){return u(s),T(t.dataModel.title,p)||(t.dataModel.title=p),f(p)}),a(),S(31,E_,1,0,"i",29)(32,I_,1,0,"i",30),C(33,"em"),S(34,M_,5,3,"mat-error",31),a(),r(35,"div",23)(36,"label",32),c(37),a(),r(38,"textarea",33,4),w("ngModelChange",function(p){return u(s),T(t.dataModel.description,p)||(t.dataModel.description=p),f(p)}),c(40,"            "),a(),r(41,"em"),c(42),a(),S(43,b_,5,3,"mat-error",31),a(),S(44,T_,9,9,"div",34)(45,w_,2,5,"app-cms-user-selector",35),r(46,"div",23)(47,"label",36),c(48),a(),r(49,"input",37,5),w("ngModelChange",function(p){return u(s),T(t.dataModel.joinId,p)||(t.dataModel.joinId=p),f(p)}),a(),r(51,"em"),c(52),a()(),r(53,"div",23)(54,"label",38),c(55),a(),r(56,"input",39,6),w("ngModelChange",function(p){return u(s),T(t.dataModel.serialRfId,p)||(t.dataModel.serialRfId=p),f(p)}),a(),r(58,"em"),c(59),a()(),r(60,"div",23)(61,"label",40),c(62),a(),r(63,"input",41,7),w("ngModelChange",function(p){return u(s),T(t.dataModel.serialNumber,p)||(t.dataModel.serialNumber=p),f(p)}),a(),r(65,"em"),c(66),a()(),r(67,"div",23)(68,"label",42),c(69),a(),r(70,"input",43,8),w("ngModelChange",function(p){return u(s),T(t.dataModel.placeProduction,p)||(t.dataModel.placeProduction=p),f(p)}),a(),r(72,"em"),c(73),a()(),r(74,"div",23)(75,"label",44),c(76),a(),r(77,"input",45,9),w("ngModelChange",function(p){return u(s),T(t.dataModel.phoneNumber,p)||(t.dataModel.phoneNumber=p),f(p)}),a(),r(79,"em"),c(80),a()(),r(81,"div",23)(82,"label",46),c(83),a(),r(84,"input",47,10),w("ngModelChange",function(p){return u(s),T(t.dataModel.mobileNumber,p)||(t.dataModel.mobileNumber=p),f(p)}),a(),r(86,"em"),c(87),a()(),r(88,"div",23)(89,"label",48),c(90),a(),r(91,"textarea",49,11),w("ngModelChange",function(p){return u(s),T(t.dataModel.address,p)||(t.dataModel.address=p),f(p)}),c(93,"            "),a(),S(94,x_,1,0,"i",29)(95,A_,1,0,"i",30),r(96,"em"),c(97),a(),S(98,P_,5,3,"mat-error",31),a(),r(99,"app-cms-location-selector",50),_(100,"translate"),E("optionChange",function(p){return u(s),f(t.onActionSelectorLocation(p))}),a(),C(101,"br"),c(102),_(103,"translate"),r(104,"app-cms-location-autocomplete",51),_(105,"translate"),E("optionChange",function(p){return u(s),f(t.onActionSelectorLocationWorkArea(p))}),a(),C(106,"hr"),S(107,k_,8,2,"div",52)(108,D_,8,2,"div",52)(109,R_,8,2,"div",52)(110,L_,8,2,"div",52)(111,V_,8,2,"div",52),C(112,"hr"),S(113,O_,8,2,"div",52)(114,F_,8,2,"div",52),C(115,"hr"),r(116,"p"),c(117),_(118,"translate"),a(),r(119,"app-cms-map",53),E("map$",function(p){return u(s),f(t.receiveMap(p))})("zoom$",function(p){return u(s),f(t.receiveZoom(p))}),a()(),r(120,"mat-step",54),_(121,"translate"),C(122,"br"),r(123,"app-estate-account-expert-selector",55),_(124,"translate"),E("optionChange",function(p){return u(s),f(t.onActionSelectorEstateAgency(p))}),a(),S(125,B_,8,1,"div",52)(126,N_,8,1,"div",52)(127,H_,2,0,"button",56)(128,ng,19,3,"div",57),a(),S(129,og,2,0,"ng-template",58)(130,rg,2,0,"ng-template",59),a(),S(131,ag,9,7,"div",60),a()()()}if(i&2){let s=k(30),h=k(39),p=k(50),D=k(57),z=k(64),he=k(71),je=k(78),Ge=k(85),mt=k(92);o(),d("optionsInfoAreaId",t.constructorInfoAreaId),o(3),y(" ",t.formInfo.formTitle," "),o(2),y(" ",g(7,107,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),d("ngStyle",ze(129,S_,t.tokenInfo.access.direction)),o(4),d("label",x(g(13,109,"TITLE.REQUIRED_INFORMATION"))),o(3),d("href",x(g(16,111,t.dataModel.linkMainImageIdSrc)),j),o(2),d("ngIf",(t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0),o(3),M(g(21,113,"TITLE.Profile_Picture")),o(2),d("placeholder",x(g(24,115,"TITLE.ID_OF_PROFILE_PHOTO_FILE"))),b("ngModel",t.dataModel.linkMainImageId),o(3),d("language",t.appLanguage)("isPopup",!0),b("openForm",t.fileManagerOpenForm),d("tree",t.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",t.selectFileTypeMainImage)("openFilemanagerButtonView",!1),o(3),M(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),b("ngModel",t.dataModel.title),d("disabled",!(t.fieldsInfo.title!=null&&t.fieldsInfo.title.accessEditField)),o(2),d("ngIf",!s.value),o(),d("ngIf",s.value),o(2),d("ngIf",s.errors==null?null:s.errors.required),o(3),M(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),b("ngModel",t.dataModel.description),d("disabled",!(t.fieldsInfo.description!=null&&t.fieldsInfo.description.accessEditField)),o(4),y("",h.value.length," / 500"),o(),d("ngIf",h.errors==null?null:h.errors.required),o(),d("ngIf",t.fieldsInfo.descriptionHidden==null?null:t.fieldsInfo.descriptionHidden.accessWatchField),o(),d("ngIf",t.tokenHelper.isAdminSite),o(3),M(t.fieldsInfo.joinId==null?null:t.fieldsInfo.joinId.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.joinId==null?null:t.fieldsInfo.joinId.fieldTitle)),b("ngModel",t.dataModel.joinId),d("disabled",!(t.fieldsInfo.joinId!=null&&t.fieldsInfo.joinId.accessEditField)),o(3),y("",p.value.length," / 64"),o(3),M(t.fieldsInfo.serialRfId==null?null:t.fieldsInfo.serialRfId.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.serialRfId==null?null:t.fieldsInfo.serialRfId.fieldTitle)),b("ngModel",t.dataModel.serialRfId),d("disabled",!(t.fieldsInfo.serialRfId!=null&&t.fieldsInfo.serialRfId.accessEditField)),o(3),y("",D.value.length," / 64"),o(3),M(t.fieldsInfo.serialNumber==null?null:t.fieldsInfo.serialNumber.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.serialNumber==null?null:t.fieldsInfo.serialNumber.fieldTitle)),b("ngModel",t.dataModel.serialNumber),d("disabled",!(t.fieldsInfo.serialNumber!=null&&t.fieldsInfo.serialNumber.accessEditField)),o(3),y("",z.value.length," / 64"),o(3),M(t.fieldsInfo.placeProduction==null?null:t.fieldsInfo.placeProduction.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.placeProduction==null?null:t.fieldsInfo.placeProduction.fieldTitle)),b("ngModel",t.dataModel.placeProduction),d("disabled",!(t.fieldsInfo.placeProduction!=null&&t.fieldsInfo.placeProduction.accessEditField)),o(3),y("",he.value.length," / 64"),o(3),M(t.fieldsInfo.phoneNumber==null?null:t.fieldsInfo.phoneNumber.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.phoneNumber==null?null:t.fieldsInfo.phoneNumber.fieldTitle)),b("ngModel",t.dataModel.phoneNumber),d("disabled",!(t.fieldsInfo.phoneNumber!=null&&t.fieldsInfo.phoneNumber.accessEditField)),o(3),y("",je.value.length," / 64"),o(3),M(t.fieldsInfo.mobileNumber==null?null:t.fieldsInfo.mobileNumber.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.mobileNumber==null?null:t.fieldsInfo.mobileNumber.fieldTitle)),b("ngModel",t.dataModel.mobileNumber),d("disabled",!(t.fieldsInfo.mobileNumber!=null&&t.fieldsInfo.mobileNumber.accessAddField)),o(3),y("",Ge.value.length," / 64"),o(3),M(t.fieldsInfo.address==null?null:t.fieldsInfo.address.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.address==null?null:t.fieldsInfo.address.fieldTitle)),b("ngModel",t.dataModel.address),d("disabled",!(t.fieldsInfo.address!=null&&t.fieldsInfo.address.accessAddField)),o(3),d("ngIf",!s.value),o(),d("ngIf",s.value),o(2),y("",mt.value.length," / 500"),o(),d("ngIf",mt.errors==null?null:mt.errors.required),o(),d("optionSelectForce",t.dataModel.linkLocationId)("optionPlaceholder",g(100,117,"TITLE.Geographical_Region"))("optionDisabled",!(t.fieldsInfo.linkLocationId!=null&&t.fieldsInfo.linkLocationId.accessAddField)),o(3),y(" ",g(103,119,"TITLE.COVERED_AREAS")," "),o(2),d("optionSelectForce",t.dataModel.linkLocationWorkAreaIds)("optionPlaceholder",g(105,121,"TITLE.Region")),o(3),d("ngIf",t.tokenHelper.isAdminSite||t.tokenHelper.isSupportSite),o(),d("ngIf",t.tokenHelper.isAdminSite||t.tokenHelper.isSupportSite),o(),d("ngIf",t.tokenHelper.isAdminSite||t.tokenHelper.isSupportSite),o(),d("ngIf",t.tokenHelper.isAdminSite||t.tokenHelper.isSupportSite),o(),d("ngIf",t.tokenHelper.isAdminSite||t.tokenHelper.isSupportSite),o(2),d("ngIf",t.tokenHelper.isAdminSite||t.tokenHelper.isSupportSite),o(),d("ngIf",t.tokenHelper.isAdminSite||t.tokenHelper.isSupportSite),o(3),M(g(118,123,"TITLE.Click_on_the_map_to_specify_the_location")),o(2),d("optonCenter",t.mapOptonCenter),o(),d("label",x(g(121,125,"TITLE.Property_personnel"))),o(3),d("optionDisabled",!t.tokenHelper.isAdminSite)("optionPlaceholder",g(124,127,"TITLE.Property_agency")),o(2),d("ngIf",t.tokenHelper.isAdminSite||t.tokenHelper.isSupportSite),o(),d("ngIf",t.tokenHelper.isAdminSite||t.tokenHelper.isSupportSite),o(),d("ngIf",t.dataEstateAccountAgencyExpertModel.linkEstateExpertId&&t.dataEstateAccountAgencyExpertModel.linkEstateExpertId.length>0),o(),d("ngIf",!t.publicHelper.processService.process.inRunAll),o(3),d("ngIf",t.formInfo.formSubmitAllow)}},dependencies:[se,N,tt,ke,Y,Ht,q,Te,de,De,Ae,ce,Pe,Je,we,Ee,Q,Ji,Xi,Zi,it,ot,st,rt,nt,dt,at,lt,ct,pt,or,si,Qt,$i,Ci,U,en,ut,Sn,He,O,Ie,rr,dr,cr],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});var vc=Wa;function lg(n,l){n&1&&C(0,"div",10)}var Ga=class Ga{constructor(l,e,i,t,s,h){this.headerService=l;this.publicHelper=e;this.cdr=i;this.translate=t;this.cmsToastrService=s;this.dialog=h;this.constructorInfoAreaId=this.constructor.name;this.optionId="";this.dataModelResult=new G;this.fieldsInfo=new Map;this.publicHelper.processService.cdr=this.cdr}ngOnInit(){this.optionId?.length>0&&this.DataGetOneContent()}DataGetOneContent(){let l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(l,e,this.constructorInfoAreaId)}),this.headerService.setAccessLoad(),this.headerService.ServiceGetOneById(this.optionId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),e.isSuccess?this.dataModelResult=e:this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(l)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(l,!1)}})}};Ga.\u0275fac=function(e){return new(e||Ga)(v(Dn),v(F),v(B),v(L),v(V),v(xe))},Ga.\u0275cmp=R({type:Ga,selectors:[["app-estate-account-agency-header"]],inputs:{optionId:"optionId"},standalone:!1,decls:32,vars:10,consts:[[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content"],[1,"table"],[1,"tr"],[1,"td","small-width"],[1,"svg-icon","svg-icon-3x","svg-icon-primary",3,"inlineSVG"],[1,"td","large-width",2,"color","darkblue"],["class","td",4,"ngIf"],[1,"td","large-width"],[1,"td"],[2,"clear","both"],[1,"td",2,"text-align","left"],[1,"divider","divider-margins"]],template:function(e,i){e&1&&(r(0,"div",0),C(1,"app-progress-spinner",1),r(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),C(6,"span",6),a(),r(7,"div",7)(8,"h5")(9,"b"),c(10),_(11,"translate"),a()()(),S(12,lg,1,0,"div",8),a(),r(13,"div",4)(14,"div",5)(15,"b"),c(16),a(),c(17,": "),a(),r(18,"div",9),c(19),a(),C(20,"div",10)(21,"div",11),a(),r(22,"div",4)(23,"div",5)(24,"b"),c(25),a(),c(26," : "),a(),r(27,"div",9),c(28),a(),C(29,"div",12)(30,"div",11),a()()()(),C(31,"div",13)),e&2&&(o(),d("optionsInfoAreaId",i.constructorInfoAreaId),o(5),d("inlineSVG","./assets/media/svg/icons/Communication/Flag.svg"),o(4),M(g(11,8,"TITLE.Selected_Agency")),o(2),d("ngIf",i.dataModelResult==null||i.dataModelResult.item==null?null:i.dataModelResult.item.id),o(4),y("",i.fieldsInfo.id==null?null:i.fieldsInfo.id.fieldTitle," "),o(3),M(i.dataModelResult==null||i.dataModelResult.item==null?null:i.dataModelResult.item.id),o(6),M(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(3),M(i.dataModelResult==null||i.dataModelResult.item==null?null:i.dataModelResult.item.title))},dependencies:[N,U,cn,O],styles:[".table[_ngcontent-%COMP%]{display:table;border:1px solid #40A1F5;padding:2px;background:#fff;border-radius:5px}.table[_ngcontent-%COMP%]   .th[_ngcontent-%COMP%]{display:table-row;background-color:#40a1f577;color:#fff;font-weight:700}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f9f9f9}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]{display:table-row;border-bottom:1px solid #000}.table[_ngcontent-%COMP%]   .td[_ngcontent-%COMP%]{display:table-cell;padding:15px;border-bottom:1px solid #40A1F5}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:last-child   .td[_ngcontent-%COMP%]{border:0}.small-width[_ngcontent-%COMP%]{width:90px}.large-width[_ngcontent-%COMP%]{width:400px}.clear[_ngcontent-%COMP%]{clear:both}"]});var Ec=Ga;var dg=()=>["expandedTitle"],cg=()=>["expandedDetail"],pg=()=>[5,10,20,100],mg=n=>({display:n});function ug(n,l){if(n&1&&C(0,"app-estate-account-agency-header",46),n&2){let e=m();d("optionId",e.requestLinkAccountAgencyId)}}function fg(n,l){if(n&1){let e=I();r(0,"div",18)(1,"a",47),E("click",function(){u(e);let t=m();return f(t.onActionButtonNewRow())}),C(2,"i",48)(3,"br"),a(),r(4,"p",21),c(5),_(6,"translate"),a()()}n&2&&(o(5),M(g(6,1,"ACTION.ADD")))}function _g(n,l){if(n&1){let e=I();r(0,"div",18)(1,"a",49),E("click",function(){u(e);let t=m();return f(t.onActionButtonEditRow(t.tableRowSelected))}),C(2,"i",50)(3,"br"),a(),r(4,"p",21),c(5),_(6,"translate"),a()()}n&2&&(o(5),M(g(6,1,"ACTION.EDIT")))}function gg(n,l){if(n&1){let e=I();r(0,"div",18)(1,"a",51),E("click",function(){u(e);let t=m();return f(t.onActionButtonDeleteRow(t.tableRowSelected))}),C(2,"i",52)(3,"br"),a(),r(4,"p",21),c(5),_(6,"translate"),a()()}n&2&&(o(5),M(g(6,1,"ACTION.DELETE")))}function hg(n,l){n&1&&(r(0,"mat-header-cell"),c(1),_(2,"translate"),a()),n&2&&(o(),y(" ",g(2,1,"TITLE.MENU")," "))}function yg(n,l){if(n&1){let e=I();r(0,"mat-cell")(1,"button",53),E("click",function(){let t=u(e).$implicit,s=m();return f(s.onActionTableRowSelectActionMenu(t))}),C(2,"i",54),a()()}}function Cg(n,l){n&1&&(r(0,"mat-header-cell",55),c(1),_(2,"translate"),a()),n&2&&(o(),y(" ",g(2,1,"TITLE.PICTURE")," "))}function Sg(n,l){if(n&1&&(C(0,"img",57),_(1,"cmsthumbnail")),n&2){let e=m().$implicit;d("src",x(g(1,2,e.linkMainImageIdSrc)),j)}}function vg(n,l){if(n&1&&(r(0,"mat-cell"),S(1,Sg,2,4,"img",56),a()),n&2){let e=l.$implicit;o(),d("ngIf",(e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0)}}function Eg(n,l){if(n&1&&(r(0,"mat-header-cell",55),c(1),a()),n&2){let e=m();o(),y(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function Ig(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),y(" ",e.id," ")}}function Mg(n,l){if(n&1&&(r(0,"mat-header-cell",55),c(1),a()),n&2){let e=m();o(),y(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," ")}}function bg(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),y(" ",e.title," ")}}function Tg(n,l){if(n&1&&(r(0,"mat-header-cell",55),c(1),a()),n&2){let e=m();o(),y(" ",e.fieldsInfo.linkCmsUserId==null?null:e.fieldsInfo.linkCmsUserId.fieldTitle," ")}}function wg(n,l){if(n&1&&(r(0,"mat-cell"),c(1),_(2,"cmsuserinfo"),_(3,"async"),a()),n&2){let e=l.$implicit;o(),y(" ",g(3,3,g(2,1,e.linkCmsUserId))," ")}}function xg(n,l){if(n&1&&(r(0,"mat-header-cell",55),c(1),a()),n&2){let e=m();o(),y(" ",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle," ")}}function Ag(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),y(" ",e.description," ")}}function Pg(n,l){n&1&&(r(0,"mat-header-cell"),c(1),_(2,"translate"),a()),n&2&&(o(),y(" ",g(2,1,"TITLE.OPTION")," "))}function kg(n,l){if(n&1&&(r(0,"mat-cell",58)(1,"button",59)(2,"mat-icon"),c(3,"more_vert"),a()(),C(4,"mat-menu",null,2),a()),n&2){let e=k(5);o(),d("matMenuTriggerFor",e)}}function Dg(n,l){if(n&1&&(r(0,"mat-cell"),c(1),_(2,"translate"),_(3,"cmsuserinfo"),_(4,"async"),a()),n&2){let e=l.$implicit;o(),$(" ",g(2,2,"TITLE.User-Id-Cms"),": ",g(4,6,g(3,4,e.linkCmsUserId))," ")}}function Rg(n,l){if(n&1&&(C(0,"img",64),_(1,"cmsthumbnail")),n&2){let e=m().$implicit;d("src",x(g(1,2,e.linkMainImageIdSrc)),j)}}function Lg(n,l){if(n&1&&(r(0,"tr"),C(1,"td"),r(2,"td"),c(3),a()()),n&2){let e=m().$implicit,i=m();o(3),$("",i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle," : ",e.description," ")}}function Vg(n,l){if(n&1&&(r(0,"tr"),C(1,"td"),r(2,"td"),c(3),_(4,"translate"),a()()),n&2){let e=m().$implicit;o(3),$("",g(4,2,"TITLE.Address")," : ",e.address," ")}}function Og(n,l){if(n&1&&(r(0,"tr"),C(1,"td"),r(2,"td"),c(3),a()()),n&2){let e=m().$implicit,i=m();o(3),$("",i.fieldsInfo.phoneNumber==null?null:i.fieldsInfo.phoneNumber.fieldTitle," : ",e.phoneNumber," ")}}function Fg(n,l){if(n&1&&(r(0,"tr"),C(1,"td"),r(2,"td"),c(3),a()()),n&2){let e=m().$implicit,i=m();o(3),$("",i.fieldsInfo.mobileNumber==null?null:i.fieldsInfo.mobileNumber.fieldTitle," : ",e.mobileNumber," ")}}function Bg(n,l){if(n&1){let e=I();r(0,"mat-cell")(1,"div")(2,"table")(3,"tr")(4,"th"),S(5,Rg,2,4,"img",60),a(),r(6,"th")(7,"span",61),E("click",function(){u(e);let t=m();return f(t.onActionCopied())}),C(8,"i",62),a(),c(9),a()(),r(10,"tr"),C(11,"td"),r(12,"td"),c(13),a()(),S(14,Lg,4,2,"tr",63)(15,Vg,5,4,"tr",63)(16,Og,4,2,"tr",63)(17,Fg,4,2,"tr",63),r(18,"tr"),C(19,"td")(20,"td"),a()()()()}if(n&2){let e=l.$implicit,i=m();o(5),d("ngIf",(e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0),o(2),d("cdkCopyToClipboard",e.id),o(2),y(" ",e.id," "),o(4),$("",i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle," : ",e.title," "),o(),d("ngIf",e.description),o(),d("ngIf",e.address),o(),d("ngIf",e.phoneNumber),o(),d("ngIf",e.mobileNumber)}}function Ng(n,l){n&1&&C(0,"mat-header-row")}function Hg(n,l){if(n&1){let e=I();r(0,"mat-row",65),E("click",function(){let t=u(e).$implicit,s=m();return f(s.onActionTableRowSelect(t))})("mouseenter",function(){let t=u(e).$implicit,s=m();return f(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=u(e).$implicit,s=m();return f(s.onActionTableRowMouseLeave(t))}),a()}if(n&2){let e=l.$implicit,i=l.dataIndex,t=m();Se("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",e.id===(t.tableRowSelected==null?null:t.tableRowSelected.id))}}function Wg(n,l){if(n&1){let e=I();r(0,"mat-row",65),E("click",function(){let t=u(e).$implicit,s=m();return f(s.onActionTableRowSelect(t))})("mouseenter",function(){let t=u(e).$implicit,s=m();return f(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=u(e).$implicit,s=m();return f(s.onActionTableRowMouseLeave(t))}),a()}if(n&2){let e=l.$implicit,i=l.dataIndex,t=m();Se("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",e.id===(t.tableRowSelected==null?null:t.tableRowSelected.id))}}function Gg(n,l){if(n&1){let e=I();r(0,"mat-row",66),E("click",function(){let t=u(e).$implicit,s=m();return f(s.onActionTableRowSelect(t))})("mouseenter",function(){let t=u(e).$implicit,s=m();return f(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=u(e).$implicit,s=m();return f(s.onActionTableRowMouseLeave(t))}),a()}if(n&2){let e=l.$implicit,i=l.dataIndex,t=m();Se("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",e.id===(t.tableRowSelected==null?null:t.tableRowSelected.id)),d("ngStyle",ze(7,mg,e.expanded===!0?"":"none"))}}var Ua=class Ua extends bt{constructor(e,i,t,s,h,p,D,z,he,je,Ge,mt,Nt){super(e,new so,mt,h,D);this.contentService=e;this.cmsConfirmationDialogService=i;this.cmsToastrService=t;this.router=s;this.tokenHelper=h;this.cdr=p;this.translate=D;this.activatedRoute=z;this.cmsStoreService=he;this.themeService=je;this.pageInfo=Ge;this.publicHelper=mt;this.dialog=Nt;this.requestLinkAccountAgencyId="";this.constructorInfoAreaId=this.constructor.name;this.optionloadComponent=!0;this.optionloadByRoute=!0;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new sa;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["LinkMainImageIdSrc","Title","Description","action_menu"];this.tabledisplayedColumnsMobileSource=["LinkMainImageIdSrc","Title","Description","action_menu"];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:Rt=>this.onSubmitOptionsSearch(Rt)},this.requestLinkAccountAgencyId=this.activatedRoute.snapshot.paramMap.get("LinkAccountAgencyId"),this.filteModelContent.sortColumn="Id",this.filteModelContent.sortType=X.Descending}set optionLinkLocationWorkAreaIds(e){this.requestLinkLocationWorkAreaIds=[],e&&e.length>0&&(this.requestLinkLocationWorkAreaIds=e),this.requestLinkLocationWorkAreaIds&&this.requestLinkLocationWorkAreaIds.length>0&&(this.filteModelContent.linkLocationWorkAreaIds=this.requestLinkLocationWorkAreaIds)}set optionLinkLocationWorkAreaId(e){this.requestLinkLocationWorkAreaIds=[],e&&e>0&&this.requestLinkLocationWorkAreaIds.push(e),this.requestLinkLocationWorkAreaIds&&this.requestLinkLocationWorkAreaIds.length>0&&(this.filteModelContent.linkLocationWorkAreaIds=this.requestLinkLocationWorkAreaIds)}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.cmsApiStoreSubscribe=this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>re(this,null,function*(){this.tokenInfo=e,this.DataGetAll()}))}ngOnDestroy(){this.cmsApiStoreSubscribe&&this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){if(this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),!this.optionloadComponent)return;this.tableRowsSelected=[],this.onActionTableRowSelect(new so);let e=this.constructor.name+"main";if(this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0,this.requestLinkAccountAgencyId&&this.requestLinkAccountAgencyId.length>0){let t=new H;t.propertyAnyName="AccountAgencyUser",t.propertyName="linkEstateAccountAgencyId",t.value=this.requestLinkAccountAgencyId,this.filteModelContent.filters.push(t)}let i=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.setAccessDataType(Be.Editor),this.contentService.ServiceGetAll(i).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),t.isSuccess?(this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=X.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=X.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=X.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionSelectorLocation(e){this.filteModelContent.linkLocationIds=e}onActionSelectorLocationWorkArea(e){this.filteModelContent.linkLocationWorkAreaIds=e}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(Sc,{height:"90%",panelClass:e,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(vc,{height:"90%",panelClass:i,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(s=>{this.cmsToastrService.typeErrorSelected(s)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(s=>{i=s["MESSAGE.Please_Confirm"],t=s["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(s=>{if(s){let h=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(p=>{this.publicHelper.processService.processStart(h,p,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:p=>{p.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(h)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(h,!1)}})}}).catch(()=>{})}onActionButtonAgencyRow(e=this.tableRowSelected,i){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.tableRowSelected=e,this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}i?.ctrlKey?(this.link="/#/estate/account-agency/LinkAccountUserId/"+this.tableRowSelected.id,window.open(this.link,"_blank")):this.router.navigate(["/estate/account-agency/LinkAccountUserId",this.tableRowSelected.id])}onActionButtonHistoryRow(e=this.tableRowSelected,i){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.tableRowSelected=e,this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}i?.ctrlKey?(this.link="/#/estate/property-history/LinkEstateExpertId/"+this.tableRowSelected.id,window.open(this.link,"_blank")):this.router.navigate(["/estate/property-history/LinkEstateExpertId",this.tableRowSelected.id])}onActionButtonPropertyRow(e=this.tableRowSelected,i){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.tableRowSelected=e,this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}i?.ctrlKey?(this.link="/#/estate/property/LinkEstateExpertId/"+this.tableRowSelected.id,window.open(this.link,"_blank")):this.router.navigate(["/estate/property/LinkEstateExpertId",this.tableRowSelected.id])}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(p=>{i.set(p,0)}),this.translate.get("MESSAGE.All").subscribe(p=>{i.set(p,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(p=>{this.publicHelper.processService.processStart(t,p,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:p=>{p.isSuccess?(this.translate.get("MESSAGE.All").subscribe(D=>{i.set(D,p.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(p.errorMessage),this.publicHelper.processService.processStop(t)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(t,!1)}});let s=JSON.parse(JSON.stringify(this.filteModelContent)),h=new H;h.propertyName="RecordStatus",h.value=qe.Available,s.filters.push(h),this.contentService.ServiceGetCount(s).subscribe({next:p=>{p.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(D=>{i.set(D,p.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(p.errorMessage),this.publicHelper.processService.processStop(t)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(t,!1)}})}onActionCopied(){this.cmsToastrService.typeSuccessCopedToClipboard()}onActionButtonReload(){this.optionloadComponent=!0,this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0&&(this.filteModelContent.filters=[...this.filteModelContent.filters,...e]),this.DataGetAll()}};Ua.\u0275fac=function(i){return new(i||Ua)(v(un),v(Mt),v(V),v(Ze),v(K),v(B),v(L),v(jt),v(Z),v(kt),v(ht),v(F),v(xe))},Ua.\u0275cmp=R({type:Ua,selectors:[["app-estate-account-expert-list"]],inputs:{optionloadComponent:"optionloadComponent",optionloadByRoute:"optionloadByRoute",optionLinkLocationWorkAreaIds:"optionLinkLocationWorkAreaIds",optionLinkLocationWorkAreaId:"optionLinkLocationWorkAreaId"},standalone:!1,features:[ne],decls:94,vars:57,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionId",4,"ngIf"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionActionRowDisplayMenuAct","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-home","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-clock-rotate-left","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],[3,"optionChange","optionSelectForce","optionPlaceholder"],["cms-body",""],["matSort","","multiTemplateDataRows","",3,"matSortChange","dataSource"],["matColumnDef","action_menu"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkMainImageIdSrc"],["mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","Id"],["matColumnDef","Title"],["matColumnDef","LinkCmsUserId"],["matColumnDef","Description"],["matColumnDef","Action"],["class"," Action",4,"matCellDef"],["matColumnDef","expandedTitle"],["matColumnDef","expandedDetail"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","ngStyle","click","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],[3,"optionId"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"click"],[1,"fa","fa-bars","font-18"],["mat-sort-header",""],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","40","width","40",3,"src",4,"ngIf"],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","80","width","80",3,"src",4,"ngIf"],[1,"navi-icon","pointer",3,"click","cdkCopyToClipboard"],[1,"flaticon2-copy"],[4,"ngIf"],["aria-hidden","","height","80","width","80",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"click","mouseenter","mouseleave"],[3,"click","mouseenter","mouseleave","ngStyle"]],template:function(i,t){if(i&1){let s=I();S(0,ug,1,1,"app-estate-account-agency-header",3),r(1,"app-cms-html-list",4),w("optionActionGuideNoticeDisplayChange",function(p){return u(s),T(t.viewGuideNotice,p)||(t.viewGuideNotice=p),f(p)}),E("optionOnActionButtonMemoRow",function(){return u(s),f(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return u(s),f(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return u(s),f(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return u(s),f(t.onActionButtonPrintRow())}),A(2,5),c(3," -------------------------------------- "),P(),Qe(4,6)(5,7),A(6,8),r(7,"a",9),E("click",function(){return u(s),f(t.viewGuideNotice=!t.viewGuideNotice)}),C(8,"i",10),a(),r(9,"a",9),E("click",function(){return u(s),f(t.onActionButtonReload())}),C(10,"i",11),a(),P(),A(11,12),r(12,"a",13),E("click",function(){return u(s),f(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),C(13,"mat-slide-toggle",14),c(14),_(15,"translate"),a(),r(16,"a",13),E("click",function(){return u(s),f(t.onActionButtonStatist())}),C(17,"mat-slide-toggle",14),c(18),_(19,"translate"),a(),P(),A(20,15),S(21,fg,7,3,"div",16),P(),A(22,17),S(23,_g,7,3,"div",16)(24,gg,7,3,"div",16),r(25,"div",18)(26,"a",19),E("click",function(p){return u(s),f(t.onActionButtonAgencyRow(t.tableRowSelected,p))}),C(27,"i",20)(28,"br"),a(),r(29,"p",21),c(30),_(31,"translate"),a()(),r(32,"div",18)(33,"a",19),E("click",function(p){return u(s),f(t.onActionButtonHistoryRow(t.tableRowSelected,p))}),C(34,"i",22)(35,"br"),a(),r(36,"p",21),c(37),_(38,"translate"),a()(),r(39,"div",18)(40,"a",19),E("click",function(p){return u(s),f(t.onActionButtonPropertyRow(t.tableRowSelected,p))}),C(41,"i",20)(42,"br"),a(),r(43,"p",21),c(44),_(45,"translate"),a()(),P(),A(46,23),r(47,"app-cms-search-list",24),w("optionsChange",function(p){return u(s),T(t.optionsSearch,p)||(t.optionsSearch=p),f(p)}),c(48),_(49,"translate"),r(50,"app-cms-location-autocomplete",25),_(51,"translate"),E("optionChange",function(p){return u(s),f(t.onActionSelectorLocation(p))}),a(),C(52,"br"),c(53),_(54,"translate"),r(55,"app-cms-location-autocomplete",25),_(56,"translate"),E("optionChange",function(p){return u(s),f(t.onActionSelectorLocationWorkArea(p))}),a(),C(57,"hr"),a(),r(58,"app-cms-statist-list",24),w("optionsChange",function(p){return u(s),T(t.optionsStatist,p)||(t.optionsStatist=p),f(p)}),a(),P(),A(59,26),r(60,"mat-table",27,0),E("matSortChange",function(){u(s);let p=k(61);return f(t.onTableSortData(p))}),A(62,28),S(63,hg,3,3,"mat-header-cell",29)(64,yg,3,0,"mat-cell",30),P(),A(65,31),S(66,Cg,3,3,"mat-header-cell",32)(67,vg,2,1,"mat-cell",30),P(),A(68,33),S(69,Eg,2,1,"mat-header-cell",32)(70,Ig,2,1,"mat-cell",30),P(),A(71,34),S(72,Mg,2,1,"mat-header-cell",32)(73,bg,2,1,"mat-cell",30),P(),A(74,35),S(75,Tg,2,1,"mat-header-cell",32)(76,wg,4,5,"mat-cell",30),P(),A(77,36),S(78,xg,2,1,"mat-header-cell",32)(79,Ag,2,1,"mat-cell",30),P(),A(80,37),S(81,Pg,3,3,"mat-header-cell",29)(82,kg,6,1,"mat-cell",38),P(),A(83,39),S(84,Dg,5,8,"mat-cell",30),P(),A(85,40),S(86,Bg,21,9,"mat-cell",30),P(),S(87,Ng,1,0,"mat-header-row",41)(88,Hg,1,6,"mat-row",42)(89,Wg,1,6,"mat-row",42)(90,Gg,1,9,"mat-row",43),a(),P(),A(91,44),r(92,"mat-paginator",45,1),E("page",function(p){return u(s),f(t.onTablePageingData(p))}),a(),P(),a()}i&2&&(d("ngIf",(t.requestLinkAccountAgencyId==null?null:t.requestLinkAccountAgencyId.length)>0),o(),d("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey","accountuser.content.list"),b("optionActionGuideNoticeDisplay",t.viewGuideNotice),d("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelectDoubleClick)("optionActionRowDisplayMenuAct",t.tableRowSelectActionMenuClick)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.title),o(12),d("checked",t.optionsSearch.data.show),o(),y("",g(15,36,"ACTION.SEARCH")," "),o(3),d("checked",t.optionsStatist.data.show),o(),y("",g(19,38,"ACTION.STATIST")," "),o(3),d("ngIf",t.optionloadByRoute&&t.dataModelResult.access.accessAddRow),o(2),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),o(),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),o(6),M(g(31,40,"ACTION.AGENCY")),o(7),M(g(38,42,"ACTION.HISTORY")),o(7),M(g(45,44,"ACTION.CONNECT_TO_PROPERTY")),o(3),b("options",t.optionsSearch),o(),y(" ",g(49,46,"ACTION.LOCATION")," "),o(2),d("optionSelectForce",t.filteModelContent.linkLocationIds)("optionPlaceholder",g(51,48,"TITLE.Region")),o(3),y(" ",g(54,50,"ACTION.LOCATION_WORK_ACTIVITY")," "),o(2),d("optionSelectForce",t.filteModelContent.linkLocationWorkAreaIds)("optionPlaceholder",g(56,52,"TITLE.Region")),o(3),b("options",t.optionsStatist),o(2),d("dataSource",t.tableSource),o(27),d("matHeaderRowDef",t.tabledisplayedColumns),o(),d("matRowDefColumns",le(54,dg)),o(),d("matRowDefColumns",t.tabledisplayedColumns),o(),d("matRowDefColumns",le(55,cg)),o(2),d("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",le(56,pg)))},dependencies:[N,tt,Je,Ee,At,Pt,vt,gt,Et,It,it,ot,st,rt,nt,dt,at,lt,ct,pt,ci,Tt,wt,Qt,xt,Ec,He,O,Ai,Ie],encapsulation:2});var po=Ua;var Ug=["vform"],jg=()=>["fa"];function qg(n,l){n&1&&C(0,"i",29)}function Qg(n,l){n&1&&C(0,"i",30)}function zg(n,l){n&1&&(r(0,"mat-error"),c(1," Title is "),r(2,"strong"),c(3),_(4,"translate"),a()()),n&2&&(o(3),M(g(4,1,"MESSAGE.required")))}function Yg(n,l){n&1&&C(0,"i",29)}function Kg(n,l){n&1&&C(0,"i",30)}function Zg(n,l){n&1&&(r(0,"mat-error"),c(1," TitleResourceLanguage is "),r(2,"strong"),c(3),_(4,"translate"),a()()),n&2&&(o(3),M(g(4,1,"MESSAGE.required")))}function Jg(n,l){if(n&1){let e=I();r(0,"div",13)(1,"label",31),c(2),a(),r(3,"input",32,4),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.titleResourceLanguage,t)||(s.dataModel.titleResourceLanguage=t),f(t)}),a(),S(5,Yg,1,0,"i",16)(6,Kg,1,0,"i",17),r(7,"em"),c(8),a(),S(9,Zg,5,3,"mat-error",18),a()}if(n&2){let e=k(4),i=m(),t=k(14);o(2),M(i.fieldsInfo.titleResourceLanguage==null?null:i.fieldsInfo.titleResourceLanguage.fieldTitle),o(),d("placeholder",x(i.fieldsInfo.titleResourceLanguage==null?null:i.fieldsInfo.titleResourceLanguage.fieldTitle)),b("ngModel",i.dataModel.titleResourceLanguage),d("disabled",!(i.fieldsInfo.titleResourceLanguage!=null&&i.fieldsInfo.titleResourceLanguage.accessEditField)),o(2),d("ngIf",!t.value),o(),d("ngIf",t.value),o(2),y("",e.value.length," / 100"),o(),d("ngIf",e.errors==null?null:e.errors.required)}}function Xg(n,l){if(n&1){let e=I();r(0,"div",13)(1,"label",33),c(2),a(),r(3,"input",34,5),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.iconFont,t)||(s.dataModel.iconFont=t),f(t)}),E("iconPickerSelect",function(t){u(e);let s=m();return f(s.onIconPickerSelect(t))}),a(),r(5,"span",35),C(6,"i",36),a()()}if(n&2){let e=m();o(2),M(e.fieldsInfo.iconFont==null?null:e.fieldsInfo.iconFont.fieldTitle),o(),d("placeholder",x(e.fieldsInfo.iconFont==null?null:e.fieldsInfo.iconFont.fieldTitle)),b("ngModel",e.dataModel.iconFont),d("iconPicker",e.dataModel.iconFont)("ipIconPack",le(9,jg))("ipPosition","top")("disabled",!(e.fieldsInfo.iconFont!=null&&e.fieldsInfo.iconFont.accessAddField)),o(3),d("ngClass",e.dataModel.iconFont)}}function $g(n,l){if(n&1){let e=I();r(0,"div",13)(1,"label",37),c(2),a(),r(3,"div",38)(4,"div",39)(5,"input",40,6),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.iconColor,t)||(s.dataModel.iconColor=t),f(t)}),a()(),r(7,"div",41),C(8,"ngx-mat-color-toggle",42)(9,"ngx-mat-color-picker",43,7),a()()()}if(n&2){let e=k(10),i=m();o(2),M(i.fieldsInfo.iconColor==null?null:i.fieldsInfo.iconColor.fieldTitle),o(3),ye("background",i.dataModel.iconColor),d("placeholder",x(i.fieldsInfo.iconColor==null?null:i.fieldsInfo.iconColor.fieldTitle)),b("ngModel",i.dataModel.iconColor),d("ngxMatColorPicker",e)("disabled",!(i.fieldsInfo.iconColor!=null&&i.fieldsInfo.iconColor.accessAddField)),o(3),d("for",e),o(),d("touchUi",!0)("color","primary")}}function e1(n,l){n&1&&(r(0,"mat-error"),c(1," Description is "),r(2,"strong"),c(3),_(4,"translate"),a()()),n&2&&(o(3),M(g(4,1,"MESSAGE.required")))}function t1(n,l){if(n&1&&(C(0,"img",44),_(1,"cmsthumbnail")),n&2){let e=m();d("src",x(g(1,2,e.dataModel.linkMainImageIdSrc)),j)}}function i1(n,l){if(n&1){let e=I();r(0,"div",45)(1,"button",46),E("click",function(){u(e);let t=m();return f(t.onFormCancel())}),C(2,"i",47),c(3),_(4,"translate"),a(),r(5,"button",48),C(6,"i",49),c(7),_(8,"translate"),a()()}if(n&2){m();let e=k(9);o(3),y(" ",g(4,3,"ACTION.CANCEL")," "),o(2),d("disabled",!e.form.valid),o(2),y(" ",g(8,5,"ACTION.SAVE")," ")}}var ja=class ja extends Dt{constructor(e,i,t,s,h,p,D,z){super(s,new En,p,z);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.estateActivityTypeService=s;this.cmsToastrService=h;this.publicHelper=p;this.cdr=D;this.translate=z;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new G;this.dataModel=new En;this.formInfo=new me;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess()}onActionFileSelected(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}DataAddContent(){this.dataModel.iconColor=this.dataModel.iconColor?.toString(),this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estateActivityTypeService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.formAlert=t}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e),this.formInfo.formSubmitAllow=!0},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onIconPickerSelect(e){this.dataModel.iconFont=e}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};ja.\u0275fac=function(i){return new(i||ja)(v(be),v(Me),v(J),v(qn),v(V),v(F),v(B),v(L))},ja.\u0275cmp=R({type:ja,selectors:[["app-estate-activity-type-add"]],viewQuery:function(i,t){if(i&1&&ee(Ug,5),i&2){let s;te(s=ie())&&(t.formGroup=s.first)}},standalone:!1,features:[ne],decls:45,vars:44,consts:[["vform","ngForm"],["Title",""],["Description",""],["LinkMainImageId",""],["TitleResourceLanguage",""],["IconFont",""],["iconColor",""],["iconColorPicker",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","fa fa-times  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],[4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],["for","dataModel.linkMainImageId",1,"color-highlight"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],["class","form-actions",4,"ngIf"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.titleResourceLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleResourceLanguage","type","text","minlength","3","maxlength","100","required","","id","dataModel.titleResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.iconFont",1,"color-highlight"],["matInput","","type","text","name","dataModel.iconFont","type","text","id","dataModel.iconFont",1,"form-control","validate-name",3,"ngModelChange","iconPickerSelect","ngModel","iconPicker","ipIconPack","ipPosition","placeholder","disabled"],[1,"input-group-addon"],[3,"ngClass"],["for","dataModel.iconColor",1,"color-highlight"],[1,"row","mb-0"],[1,"col-11","pe-0"],["matInput","","type","text","name","dataModel.iconColor","type","text","id","dataModel.iconColor",1,"form-control","validate-name",3,"ngModelChange","ngModel","ngxMatColorPicker","placeholder","disabled"],[1,"col-1","ps-0"],["matSuffix","",3,"for"],[3,"touchUi","color"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=I();r(0,"div",8),C(1,"app-progress-spinner",9),r(2,"div",10)(3,"p",11),c(4),a(),r(5,"p"),c(6),_(7,"translate"),a(),r(8,"form",12,0),E("ngSubmit",function(){return u(s),f(t.onFormSubmit())}),r(10,"div",13)(11,"label",14),c(12),a(),r(13,"input",15,1),w("ngModelChange",function(p){return u(s),T(t.dataModel.title,p)||(t.dataModel.title=p),f(p)}),a(),S(15,qg,1,0,"i",16)(16,Qg,1,0,"i",17),r(17,"em"),c(18),a(),S(19,zg,5,3,"mat-error",18),a(),S(20,Jg,10,9,"div",19)(21,Xg,7,10,"div",19)(22,$g,11,11,"div",19),r(23,"div",13)(24,"label",20),c(25),a(),r(26,"textarea",21,2),w("ngModelChange",function(p){return u(s),T(t.dataModel.description,p)||(t.dataModel.description=p),f(p)}),c(28,"        "),a(),r(29,"em"),c(30),a(),S(31,e1,5,3,"mat-error",18),a(),r(32,"div",22)(33,"a",23),_(34,"cmsthumbnail"),S(35,t1,2,4,"img",24),a()(),r(36,"div",13)(37,"label",25),c(38),_(39,"translate"),a(),r(40,"input",26,3),_(42,"translate"),w("ngModelChange",function(p){return u(s),T(t.dataModel.linkMainImageId,p)||(t.dataModel.linkMainImageId=p),f(p)}),E("click",function(){return u(s),f(t.fileManagerOpenForm=!0)}),a(),r(43,"cms-file-manager",27),E("itemSelected",function(p){return u(s),f(t.onActionFileSelected(p))}),w("openFormChange",function(p){return u(s),T(t.fileManagerOpenForm,p)||(t.fileManagerOpenForm=p),f(p)}),a()(),S(44,i1,9,7,"div",28),a()()()}if(i&2){let s=k(14),h=k(27);o(),d("optionsInfoAreaId",t.constructorInfoAreaId),o(3),y(" ",t.formInfo.formTitle," "),o(2),y(" ",g(7,36,"TITLE.Be_Careful_When_Entering_Information")," "),o(6),M(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),b("ngModel",t.dataModel.title),o(2),d("ngIf",!s.value),o(),d("ngIf",s.value),o(2),y("",s.value.length," / 100"),o(),d("ngIf",s.errors==null?null:s.errors.required),o(),d("ngIf",t.fieldsInfo.titleResourceLanguage==null?null:t.fieldsInfo.titleResourceLanguage.accessWatchField),o(),d("ngIf",t.fieldsInfo.iconFont==null?null:t.fieldsInfo.iconFont.accessWatchField),o(),d("ngIf",t.fieldsInfo.iconColor==null?null:t.fieldsInfo.iconColor.accessWatchField),o(3),M(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),b("ngModel",t.dataModel.description),o(4),y("",h.value.length," / 500"),o(),d("ngIf",h.errors==null?null:h.errors.required),o(2),d("href",x(g(34,38,t.dataModel.linkMainImageIdSrc)),j),o(2),d("ngIf",(t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0),o(3),M(g(39,40,"TITLE.PICTURE")),o(2),d("placeholder",x(g(42,42,"TITLE.Original_File_ID"))),b("ngModel",t.dataModel.linkMainImageId),o(3),d("language",t.appLanguage)("isPopup",!0),b("openForm",t.fileManagerOpenForm),d("tree",t.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",t.selectFileTypeMainImage)("openFilemanagerButtonView",!1),o(),d("ngIf",t.formInfo.formSubmitAllow)}},dependencies:[se,N,ke,Y,q,Te,de,De,Ae,ce,Pe,we,et,Q,U,ni,$t,Xt,Jt,ut,O,Ie],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});var qa=ja;var n1=["vform"],o1=()=>["fa"];function r1(n,l){n&1&&C(0,"i",33)}function a1(n,l){n&1&&C(0,"i",34)}function l1(n,l){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),_(4,"translate"),a()()),n&2){let e=m();o(),y(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," is "),o(2),M(g(4,2,"MESSAGE.required"))}}function s1(n,l){n&1&&C(0,"i",33)}function d1(n,l){n&1&&C(0,"i",34)}function c1(n,l){n&1&&(r(0,"mat-error"),c(1," TitleResourceLanguage is "),r(2,"strong"),c(3),_(4,"translate"),a()()),n&2&&(o(3),M(g(4,1,"MESSAGE.required")))}function p1(n,l){if(n&1){let e=I();r(0,"div",13)(1,"label",35),c(2),a(),r(3,"input",36,5),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.iconFont,t)||(s.dataModel.iconFont=t),f(t)}),E("iconPickerSelect",function(t){u(e);let s=m();return f(s.onIconPickerSelect(t))}),a(),r(5,"span",37),C(6,"i",38),a()()}if(n&2){let e=m();o(2),M(e.fieldsInfo.iconFont==null?null:e.fieldsInfo.iconFont.fieldTitle),o(),d("placeholder",x(e.fieldsInfo.iconFont==null?null:e.fieldsInfo.iconFont.fieldTitle)),b("ngModel",e.dataModel.iconFont),d("iconPicker",e.dataModel.iconFont)("ipIconPack",le(9,o1))("ipPosition","top")("disabled",!(e.fieldsInfo.iconFont!=null&&e.fieldsInfo.iconFont.accessEditField)),o(3),d("ngClass",e.dataModel.iconFont)}}function m1(n,l){if(n&1){let e=I();r(0,"div",13)(1,"label",39),c(2),a(),r(3,"div",40)(4,"div",41)(5,"input",42,6),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.iconColor,t)||(s.dataModel.iconColor=t),f(t)}),a()(),r(7,"div",43),C(8,"ngx-mat-color-toggle",44)(9,"ngx-mat-color-picker",45,7),a()()()}if(n&2){let e=k(10),i=m();o(2),M(i.fieldsInfo.iconColor==null?null:i.fieldsInfo.iconColor.fieldTitle),o(3),ye("background",i.dataModel.iconColor),d("placeholder",x(i.fieldsInfo.iconColor==null?null:i.fieldsInfo.iconColor.fieldTitle)),b("ngModel",i.dataModel.iconColor),d("ngxMatColorPicker",e)("disabled",!(i.fieldsInfo.iconColor!=null&&i.fieldsInfo.iconColor.accessEditField)),o(3),d("for",e),o(),d("touchUi",!0)("color","primary")}}function u1(n,l){n&1&&(r(0,"mat-error"),c(1," Description is "),r(2,"strong"),c(3),_(4,"translate"),a()()),n&2&&(o(3),M(g(4,1,"MESSAGE.required")))}function f1(n,l){if(n&1&&(C(0,"img",46),_(1,"cmsthumbnail")),n&2){let e=m();d("src",x(g(1,2,e.dataModel.linkMainImageIdSrc)),j)}}function _1(n,l){if(n&1){let e=I();r(0,"div",47)(1,"button",48),E("click",function(){u(e);let t=m();return f(t.onFormCancel())}),C(2,"i",49),c(3),_(4,"translate"),a(),r(5,"button",50),C(6,"i",51),c(7),_(8,"translate"),a()()}if(n&2){m();let e=k(9);o(3),y(" ",g(4,3,"ACTION.CANCEL")," "),o(2),d("disabled",!e.form.valid),o(2),y(" ",g(8,5,"ACTION.SAVE")," ")}}var Qa=class Qa extends Bt{constructor(e,i,t,s,h,p,D,z,he){super(s,new En,D,he);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.estateActivityTypeService=s;this.estatePropertyTypeService=h;this.cmsToastrService=p;this.publicHelper=D;this.cdr=z;this.translate=he;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new Ft;this.dataModel=new En;this.formInfo=new me;this.fileManagerOpenForm=!1;this.dataEstatePropertyTypeUsageIds=[];this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.DataGetAllEstatePropertyUsage()}onActionFileSelected(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estateActivityTypeService.setAccessLoad(),this.estateActivityTypeService.setAccessDataType(Be.Editor),this.estateActivityTypeService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataGetAllEstatePropertyUsage(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(s=>{this.formInfo.formAlert=s}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(s=>{this.publicHelper.processService.processStart(e,s,this.constructorInfoAreaId)});let i=new pe,t=new H;t.propertyName="LinkActivityTypeId",t.value=this.requestId,i.filters.push(t),this.estatePropertyTypeService.ServiceGetAll(i).subscribe({next:s=>{this.dataEstatePropertyTypeModel=s.listItems;let h=[];this.dataEstatePropertyTypeModel.forEach(p=>{h.push(p.linkPropertyTypeUsageId)}),this.dataEstatePropertyTypeUsageIds=h,s.isSuccess?this.formInfo.formAlert="":(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(p=>{this.formInfo.formAlert=p}),this.formInfo.formError=s.errorMessage,this.cmsToastrService.typeErrorMessage(s.errorMessage)),this.publicHelper.processService.processStop(e)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.dataModel.iconColor=this.dataModel.iconColor?.toString(),this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estateActivityTypeService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.formAlert=t}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e),this.formInfo.formSubmitAllow=!0},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorUserCategorySelect(e){this.dataEstatePropertyTypeUsageModel=e}onIconPickerSelect(e){this.dataModel.iconFont=e}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Qa.\u0275fac=function(i){return new(i||Qa)(v(be),v(Me),v(J),v(qn),v(dn),v(V),v(F),v(B),v(L))},Qa.\u0275cmp=R({type:Qa,selectors:[["app-estate-activity-type-edit"]],viewQuery:function(i,t){if(i&1&&ee(n1,5),i&2){let s;te(s=ie())&&(t.formGroup=s.first)}},standalone:!1,features:[ne],decls:58,vars:54,consts:[["vform","ngForm"],["Title",""],["TitleResourceLanguage",""],["Description",""],["LinkMainImageId",""],["IconFont",""],["iconColor",""],["iconColorPicker",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","fa fa-times  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],[4,"ngIf"],["for","dataModel.titleML",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleML","type","text","id","dataModel.titleML",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.titleResourceLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleResourceLanguage","type","text","minlength","3","maxlength","100","required","","id","dataModel.titleResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],["class","form-actions",4,"ngIf"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.iconFont",1,"color-highlight"],["matInput","","type","text","name","dataModel.iconFont","type","text","id","dataModel.iconFont",1,"form-control","validate-name",3,"ngModelChange","iconPickerSelect","ngModel","iconPicker","ipIconPack","ipPosition","placeholder","disabled"],[1,"input-group-addon"],[3,"ngClass"],["for","dataModel.iconColor",1,"color-highlight"],[1,"row","mb-0"],[1,"col-11","pe-0"],["matInput","","type","text","name","dataModel.iconColor","type","text","id","dataModel.iconColor",1,"form-control","validate-name",3,"ngModelChange","ngModel","ngxMatColorPicker","placeholder","disabled"],[1,"col-1","ps-0"],["matSuffix","",3,"for"],[3,"touchUi","color"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=I();r(0,"div",8),C(1,"app-progress-spinner",9),r(2,"div",10)(3,"p",11),c(4),a(),r(5,"p"),c(6),_(7,"translate"),a(),r(8,"form",12,0),E("ngSubmit",function(){return u(s),f(t.onFormSubmit())}),r(10,"div",13)(11,"label",14),c(12),a(),r(13,"input",15,1),w("ngModelChange",function(p){return u(s),T(t.dataModel.title,p)||(t.dataModel.title=p),f(p)}),a(),S(15,r1,1,0,"i",16)(16,a1,1,0,"i",17),r(17,"em"),c(18),a(),S(19,l1,5,4,"mat-error",18),a(),r(20,"div",13)(21,"label",19),c(22,"TitleML"),a(),r(23,"input",20),w("ngModelChange",function(p){return u(s),T(t.dataModel.titleML,p)||(t.dataModel.titleML=p),f(p)}),a()(),r(24,"div",13)(25,"label",21),c(26),a(),r(27,"input",22,2),w("ngModelChange",function(p){return u(s),T(t.dataModel.titleResourceLanguage,p)||(t.dataModel.titleResourceLanguage=p),f(p)}),a(),S(29,s1,1,0,"i",16)(30,d1,1,0,"i",17),r(31,"em"),c(32),a(),S(33,c1,5,3,"mat-error",18),a(),S(34,p1,7,10,"div",23)(35,m1,11,11,"div",23),r(36,"div",13)(37,"label",24),c(38),a(),r(39,"textarea",25,3),w("ngModelChange",function(p){return u(s),T(t.dataModel.description,p)||(t.dataModel.description=p),f(p)}),c(41,"        "),a(),r(42,"em"),c(43),a(),S(44,u1,5,3,"mat-error",18),a(),r(45,"div",26)(46,"a",27),_(47,"cmsthumbnail"),S(48,f1,2,4,"img",28),a()(),r(49,"div",13)(50,"label",29),E("click",function(){return u(s),f(t.fileManagerOpenForm=!0)}),c(51),_(52,"translate"),a(),r(53,"input",30,4),_(55,"translate"),w("ngModelChange",function(p){return u(s),T(t.dataModel.linkMainImageId,p)||(t.dataModel.linkMainImageId=p),f(p)}),E("click",function(){return u(s),f(t.fileManagerOpenForm=!0)}),a(),r(56,"cms-file-manager",31),E("itemSelected",function(p){return u(s),f(t.onActionFileSelected(p))}),w("openFormChange",function(p){return u(s),T(t.fileManagerOpenForm,p)||(t.fileManagerOpenForm=p),f(p)}),a()(),S(57,_1,9,7,"div",32),a()()()}if(i&2){let s=k(14),h=k(28),p=k(40);o(),d("optionsInfoAreaId",t.constructorInfoAreaId),o(3),y(" ",t.formInfo.formTitle," "),o(2),y(" ",g(7,46,"TITLE.Be_Careful_When_Entering_Information")," "),o(6),M(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),b("ngModel",t.dataModel.title),o(2),d("ngIf",!s.value),o(),d("ngIf",s.value),o(2),y("",s.value.length," / 100"),o(),d("ngIf",s.errors==null?null:s.errors.required),o(4),b("ngModel",t.dataModel.titleML),d("disabled",!0),o(3),M(t.fieldsInfo.titleResourceLanguage==null?null:t.fieldsInfo.titleResourceLanguage.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.titleResourceLanguage==null?null:t.fieldsInfo.titleResourceLanguage.fieldTitle)),b("ngModel",t.dataModel.titleResourceLanguage),d("disabled",!(t.fieldsInfo.titleResourceLanguage!=null&&t.fieldsInfo.titleResourceLanguage.accessEditField)),o(2),d("ngIf",!s.value),o(),d("ngIf",s.value),o(2),y("",h.value.length," / 100"),o(),d("ngIf",h.errors==null?null:h.errors.required),o(),d("ngIf",t.fieldsInfo.iconFont==null?null:t.fieldsInfo.iconFont.accessWatchField),o(),d("ngIf",t.fieldsInfo.iconColor==null?null:t.fieldsInfo.iconColor.accessWatchField),o(3),M(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),b("ngModel",t.dataModel.description),o(4),y("",p.value.length," / 500"),o(),d("ngIf",p.errors==null?null:p.errors.required),o(2),d("href",x(g(47,48,t.dataModel.linkMainImageIdSrc)),j),o(2),d("ngIf",(t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0),o(3),M(g(52,50,"TITLE.PICTURE")),o(2),d("placeholder",x(g(55,52,"TITLE.Original_File_ID"))),b("ngModel",t.dataModel.linkMainImageId),o(3),d("language",t.appLanguage)("isPopup",!0),b("openForm",t.fileManagerOpenForm),d("tree",t.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",t.selectFileTypeMainImage)("openFilemanagerButtonView",!1),o(),d("ngIf",t.formInfo.formSubmitAllow)}},dependencies:[se,N,ke,Y,q,Te,de,De,Ae,ce,Pe,we,et,Q,U,ni,$t,Xt,Jt,ut,O,Ie],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});var za=Qa;var g1=()=>[5,10,20,100];function h1(n,l){if(n&1){let e=I();r(0,"div",17)(1,"a",40),E("click",function(){u(e);let t=m();return f(t.onActionButtonNewRow())}),C(2,"i",41)(3,"br"),a(),r(4,"p",20),c(5),_(6,"translate"),a()()}n&2&&(o(5),M(g(6,1,"ACTION.ADD")))}function y1(n,l){if(n&1){let e=I();r(0,"div",17)(1,"a",42),E("click",function(){u(e);let t=m();return f(t.onActionButtonEditRow(t.tableRowSelected))}),C(2,"i",43)(3,"br"),a(),r(4,"p",20),c(5),_(6,"translate"),a()()}n&2&&(o(5),M(g(6,1,"ACTION.EDIT")))}function C1(n,l){if(n&1){let e=I();r(0,"div",17)(1,"a",44),E("click",function(){u(e);let t=m();return f(t.onActionButtonDeleteRow(t.tableRowSelected))}),C(2,"i",45)(3,"br"),a(),r(4,"p",20),c(5),_(6,"translate"),a()()}n&2&&(o(5),M(g(6,1,"ACTION.DELETE")))}function S1(n,l){n&1&&(r(0,"mat-header-cell",46),c(1),_(2,"translate"),a()),n&2&&(o(),y(" ",g(2,1,"TITLE.PICTURE")," "))}function v1(n,l){if(n&1&&(C(0,"img",48),_(1,"cmsthumbnail")),n&2){let e=m().$implicit;d("src",x(g(1,2,e.linkMainImageIdSrc)),j)}}function E1(n,l){if(n&1&&(r(0,"mat-cell"),S(1,v1,2,4,"img",47),a()),n&2){let e=l.$implicit;o(),d("ngIf",(e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0)}}function I1(n,l){if(n&1&&(r(0,"mat-header-cell",46),c(1),a()),n&2){let e=m();o(),y(" ",e.fieldsInfo.iconFont==null?null:e.fieldsInfo.iconFont.fieldTitle," ")}}function M1(n,l){if(n&1&&(r(0,"mat-cell"),C(1,"i",49),a()),n&2){let e=l.$implicit;o(),ye("color",e.iconColor),d("ngClass",e.iconFont)}}function b1(n,l){if(n&1&&(r(0,"mat-header-cell",46),c(1),a()),n&2){let e=m();o(),y(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function T1(n,l){if(n&1&&(r(0,"mat-cell"),C(1,"i",49),a()),n&2){let e=l.$implicit;o(),ye("color",e.iconColor),d("ngClass",e.iconFont)}}function w1(n,l){if(n&1&&(r(0,"mat-header-cell",46),c(1),a()),n&2){let e=m();o(),y(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," ")}}function x1(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),y(" ",e.title," ")}}function A1(n,l){if(n&1&&(r(0,"mat-header-cell",46),c(1),a()),n&2){let e=m();o(),y(" ",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle," ")}}function P1(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),y(" ",e.description," ")}}function k1(n,l){n&1&&(r(0,"mat-header-cell"),c(1),_(2,"translate"),a()),n&2&&(o(),y(" ",g(2,1,"TITLE.OPTION")," "))}function D1(n,l){if(n&1&&(r(0,"mat-cell",50)(1,"button",51)(2,"mat-icon"),c(3,"more_vert"),a()(),C(4,"mat-menu",null,2),a()),n&2){let e=k(5);o(),d("matMenuTriggerFor",e)}}function R1(n,l){n&1&&C(0,"mat-header-row")}function L1(n,l){if(n&1){let e=I();r(0,"mat-row",52),E("click",function(){let t=u(e).$implicit,s=m();return f(s.onActionTableRowSelect(t))}),a()}if(n&2){let e=l.$implicit,i=l.dataIndex,t=m();Se("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",e.id===(t.tableRowSelected==null?null:t.tableRowSelected.id))}}var Ya=class Ya extends bt{constructor(e,i,t,s,h,p,D,z,he,je,Ge,mt){super(e,new En,Ge,h,D);this.contentService=e;this.cmsConfirmationDialogService=i;this.cmsToastrService=t;this.router=s;this.tokenHelper=h;this.cdr=p;this.translate=D;this.cmsStoreService=z;this.themeService=he;this.pageInfo=je;this.publicHelper=Ge;this.dialog=mt;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new pe;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["LinkMainImageIdSrc","IconFont","Description"];this.tabledisplayedColumnsMobileSource=["LinkMainImageIdSrc","IconFont","Description"];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:Nt=>this.onSubmitOptionsSearch(Nt)},this.filteModelContent.sortColumn="Id",this.filteModelContent.sortType=X.Descending}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.cmsApiStoreSubscribe=this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>re(this,null,function*(){this.tokenInfo=e,this.DataGetAll()}))}ngOnDestroy(){this.cmsApiStoreSubscribe&&this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new En);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),t.isSuccess?(this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=X.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=X.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=X.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(qa,{height:"90%",panelClass:e,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(za,{height:"90%",panelClass:i,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(s=>{this.cmsToastrService.typeErrorSelected(s)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(s=>{i=s["MESSAGE.Please_Confirm"],t=s["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(s=>{if(s){let h=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(p=>{this.publicHelper.processService.processStart(h,p,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:p=>{p.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(h)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(h,!1)}})}}).catch(()=>{})}onActionButtonContentDetailList(e=this.tableRowSelected,i){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}this.onActionTableRowSelect(e),i?.ctrlKey?(this.link="/#/estate/property-detail/LinkActivityTypeId/"+this.tableRowSelected.id,window.open(this.link,"_blank")):this.router.navigate(["/estate/property-detail/LinkActivityTypeId/",this.tableRowSelected.id])}onActionButtonContentList(e=this.tableRowSelected,i){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}this.onActionTableRowSelect(e),i?.ctrlKey?(this.link="/#/estate/property/LinkActivityTypeId/"+this.tableRowSelected.id,window.open(this.link,"_blank")):this.router.navigate(["/estate/property/LinkActivityTypeId/",this.tableRowSelected.id])}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(p=>{i.set(p,0)}),this.translate.get("MESSAGE.All").subscribe(p=>{i.set(p,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(p=>{this.publicHelper.processService.processStart(t,p,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:p=>{p.isSuccess?(this.translate.get("MESSAGE.All").subscribe(D=>{i.set(D,p.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(p.errorMessage),this.publicHelper.processService.processStop(t)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(t,!1)}});let s=JSON.parse(JSON.stringify(this.filteModelContent)),h=new H;h.propertyName="RecordStatus",h.value=qe.Available,s.filters.push(h),this.contentService.ServiceGetCount(s).subscribe({next:p=>{p.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(D=>{i.set(D,p.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(p.errorMessage),this.publicHelper.processService.processStop(t)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0&&(this.filteModelContent.filters=[...this.filteModelContent.filters,...e]),this.DataGetAll()}};Ya.\u0275fac=function(i){return new(i||Ya)(v(qn),v(Mt),v(V),v(Ze),v(K),v(B),v(L),v(Z),v(kt),v(ht),v(F),v(xe))},Ya.\u0275cmp=R({type:Ya,selectors:[["app-estate-activity-type-list"]],standalone:!1,features:[ne],decls:67,vars:34,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-memo-circle-info","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-buildings","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","LinkMainImageIdSrc"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","IconFont"],["matColumnDef","Id"],["matColumnDef","Title"],["matColumnDef","Description"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","40","width","40",3,"src",4,"ngIf"],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["aria-hidden","true",3,"ngClass"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[3,"click"]],template:function(i,t){if(i&1){let s=I();r(0,"app-cms-html-list",3),w("optionActionGuideNoticeDisplayChange",function(p){return u(s),T(t.viewGuideNotice,p)||(t.viewGuideNotice=p),f(p)}),E("optionOnActionButtonMemoRow",function(){return u(s),f(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return u(s),f(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return u(s),f(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return u(s),f(t.onActionButtonPrintRow())}),A(1,4),c(2," -------------------------------------- "),P(),Qe(3,5)(4,6),A(5,7),r(6,"a",8),E("click",function(){return u(s),f(t.viewGuideNotice=!t.viewGuideNotice)}),C(7,"i",9),a(),r(8,"a",8),E("click",function(){return u(s),f(t.onActionButtonReload())}),C(9,"i",10),a(),P(),A(10,11),r(11,"a",12),E("click",function(){return u(s),f(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),C(12,"mat-slide-toggle",13),c(13),_(14,"translate"),a(),r(15,"a",12),E("click",function(){return u(s),f(t.onActionButtonStatist())}),C(16,"mat-slide-toggle",13),c(17),_(18,"translate"),a(),P(),A(19,14),S(20,h1,7,3,"div",15),P(),A(21,16),S(22,y1,7,3,"div",15)(23,C1,7,3,"div",15),r(24,"div",17)(25,"a",18),E("click",function(p){return u(s),f(t.onActionButtonContentDetailList(t.tableRowSelected,p))}),C(26,"i",19)(27,"br"),a(),r(28,"p",20),c(29),_(30,"translate"),a()(),r(31,"div",17)(32,"a",18),E("click",function(p){return u(s),f(t.onActionButtonContentList(t.tableRowSelected,p))}),C(33,"i",21)(34,"br"),a(),r(35,"p",20),c(36),_(37,"translate"),a()(),P(),A(38,22),r(39,"app-cms-search-list",23),w("optionsChange",function(p){return u(s),T(t.optionsSearch,p)||(t.optionsSearch=p),f(p)}),a(),r(40,"app-cms-statist-list",23),w("optionsChange",function(p){return u(s),T(t.optionsStatist,p)||(t.optionsStatist=p),f(p)}),a(),P(),A(41,24),r(42,"mat-table",25,0),E("matSortChange",function(){u(s);let p=k(43);return f(t.onTableSortData(p))}),A(44,26),S(45,S1,3,3,"mat-header-cell",27)(46,E1,2,1,"mat-cell",28),P(),A(47,29),S(48,I1,2,1,"mat-header-cell",27)(49,M1,2,3,"mat-cell",28),P(),A(50,30),S(51,b1,2,1,"mat-header-cell",27)(52,T1,2,3,"mat-cell",28),P(),A(53,31),S(54,w1,2,1,"mat-header-cell",27)(55,x1,2,1,"mat-cell",28),P(),A(56,32),S(57,A1,2,1,"mat-header-cell",27)(58,P1,2,1,"mat-cell",28),P(),A(59,33),S(60,k1,3,3,"mat-header-cell",34)(61,D1,6,1,"mat-cell",35),P(),S(62,R1,1,0,"mat-header-row",36)(63,L1,1,6,"mat-row",37),a(),P(),A(64,38),r(65,"mat-paginator",39,1),E("page",function(p){return u(s),f(t.onTablePageingData(p))}),a(),P(),a()}i&2&&(d("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),b("optionActionGuideNoticeDisplay",t.viewGuideNotice),d("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelectDoubleClick)("optionSelectRowItemTitle",(t.tableRowSelected==null||t.tableRowSelected.title==null?null:t.tableRowSelected.title.length)>0?t.tableRowSelected==null?null:t.tableRowSelected.title:t.tableRowSelected==null?null:t.tableRowSelected.id),o(12),d("checked",t.optionsSearch.data.show),o(),y("",g(14,25,"ACTION.SEARCH")," "),o(3),d("checked",t.optionsStatist.data.show),o(),y("",g(18,27,"ACTION.STATIST")," "),o(3),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessAddRow),o(2),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),o(),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),o(6),M(g(30,29,"ACTION.DETAIL")),o(7),M(g(37,31,"ACTION.PROPERTYLIST")),o(3),b("options",t.optionsSearch),o(),b("options",t.optionsStatist),o(2),d("dataSource",t.tableSource),o(20),d("matHeaderRowDef",t.tabledisplayedColumns),o(),d("matRowDefColumns",t.tabledisplayedColumns),o(2),d("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",le(33,g1)))},dependencies:[se,N,Je,Ee,At,Pt,vt,gt,Et,It,it,ot,st,rt,nt,dt,at,lt,ct,pt,Tt,wt,xt,O,Ie],encapsulation:2});var Ic=Ya;var O1=["vform"];function F1(n,l){n&1&&C(0,"i",38)}function B1(n,l){n&1&&C(0,"i",39)}function N1(n,l){n&1&&(r(0,"mat-error"),c(1," Title is "),r(2,"strong"),c(3),_(4,"translate"),a()()),n&2&&(o(3),M(g(4,1,"MESSAGE.required")))}function H1(n,l){if(n&1){let e=I();r(0,"div",14)(1,"label",34),c(2),a(),r(3,"input",35,3),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.title,t)||(s.dataModel.title=t),f(t)}),a(),S(5,F1,1,0,"i",36)(6,B1,1,0,"i",37),r(7,"em"),c(8),a(),S(9,N1,5,3,"mat-error",17),a()}if(n&2){let e=k(4),i=m();o(2),M(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(),d("placeholder",x(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle))("disabled",x(!(i.fieldsInfo.title!=null&&i.fieldsInfo.title.accessAddField))),b("ngModel",i.dataModel.title),o(2),d("ngIf",!e.value),o(),d("ngIf",e.value),o(2),y("",e.value.length," / 100"),o(),d("ngIf",e.errors==null?null:e.errors.required)}}function W1(n,l){n&1&&(r(0,"mat-error"),c(1," Description is "),r(2,"strong"),c(3),_(4,"translate"),a()()),n&2&&(o(3),M(g(4,1,"MESSAGE.required")))}function G1(n,l){if(n&1){let e=I();r(0,"div",14)(1,"label",40),c(2),a(),r(3,"input",41,4),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.stationLevel,t)||(s.dataModel.stationLevel=t),f(t)}),a()()}if(n&2){let e=m();o(2),M(e.fieldsInfo.stationLevel==null?null:e.fieldsInfo.stationLevel.fieldTitle),o(),d("placeholder",x(e.fieldsInfo.stationLevel==null?null:e.fieldsInfo.stationLevel.fieldTitle)),b("ngModel",e.dataModel.stationLevel),d("disabled",!(e.fieldsInfo.stationLevel!=null&&e.fieldsInfo.stationLevel.accessEditField))}}function U1(n,l){if(n&1&&(r(0,"mat-list-item",42),c(1),a()),n&2){let e=l.$implicit;o(),M(e)}}function j1(n,l){if(n&1){let e=I();r(0,"div",14)(1,"label",43),c(2),a(),r(3,"input",44,5),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.viewLevel,t)||(s.dataModel.viewLevel=t),f(t)}),a()()}if(n&2){let e=m();o(2),M(e.fieldsInfo.viewLevel==null?null:e.fieldsInfo.viewLevel.fieldTitle),o(),d("placeholder",x(e.fieldsInfo.viewLevel==null?null:e.fieldsInfo.viewLevel.fieldTitle)),b("ngModel",e.dataModel.viewLevel),d("disabled",!(e.fieldsInfo.viewLevel!=null&&e.fieldsInfo.viewLevel.accessEditField))}}function q1(n,l){if(n&1&&(r(0,"mat-list-item",42),c(1),a()),n&2){let e=l.$implicit;o(),M(e)}}function Q1(n,l){if(n&1){let e=I();r(0,"div",14)(1,"label",45),c(2),a(),r(3,"input",46,6),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.dayOfActivity,t)||(s.dataModel.dayOfActivity=t),f(t)}),a()()}if(n&2){let e=m();o(2),M(e.fieldsInfo.dayOfActivity==null?null:e.fieldsInfo.dayOfActivity.fieldTitle),o(),d("placeholder",x(e.fieldsInfo.dayOfActivity==null?null:e.fieldsInfo.dayOfActivity.fieldTitle)),b("ngModel",e.dataModel.dayOfActivity),d("disabled",!(e.fieldsInfo.dayOfActivity!=null&&e.fieldsInfo.dayOfActivity.accessEditField))}}function z1(n,l){if(n&1){let e=I();r(0,"div",14)(1,"label",47),c(2),a(),r(3,"input",48,7),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.salePrice,t)||(s.dataModel.salePrice=t),f(t)}),a()()}if(n&2){let e=m();o(2),M(e.fieldsInfo.salePrice==null?null:e.fieldsInfo.salePrice.fieldTitle),o(),d("placeholder",x(e.fieldsInfo.salePrice==null?null:e.fieldsInfo.salePrice.fieldTitle)),b("ngModel",e.dataModel.salePrice),d("disabled",!(e.fieldsInfo.salePrice!=null&&e.fieldsInfo.salePrice.accessEditField))}}function Y1(n,l){if(n&1&&(C(0,"img",49),_(1,"cmsthumbnail")),n&2){let e=m();d("src",x(g(1,2,e.dataModel.linkMainImageIdSrc)),j)}}function K1(n,l){if(n&1&&(r(0,"button",54),C(1,"i",55),c(2),_(3,"translate"),a()),n&2){m(2);let e=k(9);d("disabled",!e.form.valid),o(2),y(" ",g(3,2,"ACTION.SAVE")," ")}}function Z1(n,l){if(n&1){let e=I();r(0,"div",50)(1,"button",51),E("click",function(){u(e);let t=m();return f(t.onFormCancel())}),C(2,"i",52),c(3),_(4,"translate"),a(),S(5,K1,4,4,"button",53),a()}if(n&2){let e=m();o(3),y(" ",g(4,2,"ACTION.CANCEL")," "),o(2),d("ngIf",e.formInfo.formSubmitAllow)}}var Ka=class Ka extends Dt{constructor(e,i,t,s,h,p,D,z){super(s,new In,p,z);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.estateAdsTypeService=s;this.cmsToastrService=h;this.publicHelper=p;this.cdr=D;this.translate=z;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new G;this.dataModel=new In;this.formInfo=new me;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess()}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estateAdsTypeService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.formAlert=t}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e),this.formInfo.formSubmitAllow=!0},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}onActionFileSelected(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}};Ka.\u0275fac=function(i){return new(i||Ka)(v(be),v(Me),v(J),v(Qn),v(V),v(F),v(B),v(L))},Ka.\u0275cmp=R({type:Ka,selectors:[["app-estate-ads-type-add"]],viewQuery:function(i,t){if(i&1&&ee(O1,5),i&2){let s;te(s=ie())&&(t.formGroup=s.first)}},standalone:!1,features:[ne],decls:48,vars:44,consts:[["vform","ngForm"],["Description",""],["LinkMainImageId",""],["Title",""],["StationLevel",""],["ViewLevel",""],["DayOfActivity",""],["SalePrice",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[4,"ngIf"],["role","list"],["role","listitem",4,"ngFor","ngForOf"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.paymentForMainSite",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.paymentForMainSite","name","dataModel.paymentForMainSite",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.paymentForMainSite",1,"custom-control-label"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","selectFileType","isPopup","openForm","openDirectUploadView","tree","openFilemanagerButtonLabelKey","openFilemanagerButtonView"],["class","form-actions",4,"ngIf"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["class","fa fa-times  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.stationLevel",1,"color-highlight"],["matInput","","type","number","name","dataModel.stationLevel","id","dataModel.stationLevel",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["role","listitem"],["for","dataModel.viewLevel",1,"color-highlight"],["matInput","","type","number","name","dataModel.viewLevel","id","dataModel.viewLevel",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.dayOfActivity",1,"color-highlight"],["matInput","","type","number","name","dataModel.dayOfActivity","id","dataModel.dayOfActivity",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.salePrice",1,"color-highlight"],["matInput","","type","number","name","dataModel.salePrice","id","dataModel.salePrice",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-green",3,"disabled",4,"ngIf"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=I();r(0,"div",8),C(1,"app-progress-spinner",9),r(2,"div",10)(3,"p",11),c(4),a(),r(5,"p"),c(6),_(7,"translate"),a(),r(8,"form",12,0),E("ngSubmit",function(){return u(s),f(t.onFormSubmit())}),S(10,H1,10,10,"div",13),r(11,"div",14)(12,"label",15),c(13),a(),r(14,"textarea",16,1),w("ngModelChange",function(p){return u(s),T(t.dataModel.description,p)||(t.dataModel.description=p),f(p)}),a(),r(16,"em"),c(17),a(),S(18,W1,5,3,"mat-error",17),a(),S(19,G1,5,5,"div",13),r(20,"mat-list",18),S(21,U1,2,1,"mat-list-item",19),a(),S(22,j1,5,5,"div",13),r(23,"mat-list",18),S(24,q1,2,1,"mat-list-item",19),a(),S(25,Q1,5,5,"div",13)(26,z1,5,5,"div",13),r(27,"div",20)(28,"div",21)(29,"h5",22),c(30),a()(),r(31,"div",23)(32,"div",24)(33,"input",25),w("ngModelChange",function(p){return u(s),T(t.dataModel.paymentForMainSite,p)||(t.dataModel.paymentForMainSite=p),f(p)}),a(),C(34,"label",26),a()()(),r(35,"div",27)(36,"a",28),_(37,"cmsthumbnail"),S(38,Y1,2,4,"img",29),a()(),r(39,"div",14)(40,"label",30),E("click",function(){return u(s),f(t.fileManagerOpenForm=!0)}),c(41),_(42,"translate"),a(),r(43,"input",31,2),_(45,"translate"),w("ngModelChange",function(p){return u(s),T(t.dataModel.linkMainImageId,p)||(t.dataModel.linkMainImageId=p),f(p)}),E("click",function(){return u(s),f(t.fileManagerOpenForm=!0)}),a(),r(46,"cms-file-manager",32),E("itemSelected",function(p){return u(s),f(t.onActionFileSelected(p))}),w("openFormChange",function(p){return u(s),T(t.fileManagerOpenForm,p)||(t.fileManagerOpenForm=p),f(p)}),a()(),S(47,Z1,6,4,"div",33),a()()()}if(i&2){let s=k(15);o(),d("optionsInfoAreaId",t.constructorInfoAreaId),o(3),y(" ",t.formInfo.formTitle," "),o(2),y(" ",g(7,36,"TITLE.Be_Careful_When_Entering_Information")," "),o(4),d("ngIf",t.fieldsInfo.title==null?null:t.fieldsInfo.title.accessWatchField),o(3),M(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle))("disabled",x(!(t.fieldsInfo.description!=null&&t.fieldsInfo.description.accessAddField))),b("ngModel",t.dataModel.description),o(3),y("",s.value.length," / 500"),o(),d("ngIf",s.errors==null?null:s.errors.required),o(),d("ngIf",t.fieldsInfo.stationLevel==null?null:t.fieldsInfo.stationLevel.accessWatchField),o(2),d("ngForOf",t.dataModel.stationLevelDescription),o(),d("ngIf",t.fieldsInfo.viewLevel==null?null:t.fieldsInfo.viewLevel.accessWatchField),o(2),d("ngForOf",t.dataModel.viewLevelDescription),o(),d("ngIf",t.fieldsInfo.dayOfActivity==null?null:t.fieldsInfo.dayOfActivity.accessWatchField),o(),d("ngIf",t.fieldsInfo.salePrice==null?null:t.fieldsInfo.salePrice.accessWatchField),o(4),y(" ",t.fieldsInfo.paymentForMainSite==null?null:t.fieldsInfo.paymentForMainSite.fieldTitle),o(3),b("ngModel",t.dataModel.paymentForMainSite),o(3),d("href",x(g(37,38,t.dataModel.linkMainImageIdSrc)),j),o(2),d("ngIf",(t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0),o(3),M(g(42,40,"TITLE.Original_Photo")),o(2),d("placeholder",x(g(45,42,"TITLE.Original_File_ID"))),b("ngModel",t.dataModel.linkMainImageId),o(3),d("language",t.appLanguage)("selectFileType",t.selectFileTypeMainImage)("isPopup",!0),b("openForm",t.fileManagerOpenForm),d("openDirectUploadView",!0)("tree",t.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openFilemanagerButtonView",!1),o(),d("ngIf",!t.publicHelper.processService.process.inRunAll)}},dependencies:[Ne,N,ke,Y,Ot,Ht,q,Te,de,De,Ae,ce,Pe,we,Q,dc,cc,U,ut,O,Ie],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});var Mc=Ka;var J1=["vform"];function X1(n,l){n&1&&C(0,"i",38)}function $1(n,l){n&1&&C(0,"i",39)}function eh(n,l){n&1&&(r(0,"mat-error"),c(1," Title is "),r(2,"strong"),c(3),_(4,"translate"),a()()),n&2&&(o(3),M(g(4,1,"MESSAGE.required")))}function th(n,l){n&1&&(r(0,"mat-error"),c(1," Description is "),r(2,"strong"),c(3),_(4,"translate"),a()()),n&2&&(o(3),M(g(4,1,"MESSAGE.required")))}function ih(n,l){if(n&1){let e=I();r(0,"div",13)(1,"label",40),c(2),a(),r(3,"input",41,4),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.stationLevel,t)||(s.dataModel.stationLevel=t),f(t)}),a()()}if(n&2){let e=m();o(2),M(e.fieldsInfo.stationLevel==null?null:e.fieldsInfo.stationLevel.fieldTitle),o(),d("placeholder",x(e.fieldsInfo.stationLevel==null?null:e.fieldsInfo.stationLevel.fieldTitle)),b("ngModel",e.dataModel.stationLevel),d("disabled",!(e.fieldsInfo.stationLevel!=null&&e.fieldsInfo.stationLevel.accessEditField))}}function nh(n,l){if(n&1&&(r(0,"mat-list-item",42),c(1),a()),n&2){let e=l.$implicit;o(),M(e)}}function oh(n,l){if(n&1){let e=I();r(0,"div",13)(1,"label",43),c(2),a(),r(3,"input",44,5),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.viewLevel,t)||(s.dataModel.viewLevel=t),f(t)}),a()()}if(n&2){let e=m();o(2),M(e.fieldsInfo.viewLevel==null?null:e.fieldsInfo.viewLevel.fieldTitle),o(),d("placeholder",x(e.fieldsInfo.viewLevel==null?null:e.fieldsInfo.viewLevel.fieldTitle)),b("ngModel",e.dataModel.viewLevel),d("disabled",!(e.fieldsInfo.viewLevel!=null&&e.fieldsInfo.viewLevel.accessEditField))}}function rh(n,l){if(n&1&&(r(0,"mat-list-item",42),c(1),a()),n&2){let e=l.$implicit;o(),M(e)}}function ah(n,l){if(n&1){let e=I();r(0,"div",13)(1,"label",45),c(2),a(),r(3,"input",46,6),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.dayOfActivity,t)||(s.dataModel.dayOfActivity=t),f(t)}),a()()}if(n&2){let e=m();o(2),M(e.fieldsInfo.dayOfActivity==null?null:e.fieldsInfo.dayOfActivity.fieldTitle),o(),d("placeholder",x(e.fieldsInfo.dayOfActivity==null?null:e.fieldsInfo.dayOfActivity.fieldTitle)),b("ngModel",e.dataModel.dayOfActivity),d("disabled",!(e.fieldsInfo.dayOfActivity!=null&&e.fieldsInfo.dayOfActivity.accessEditField))}}function lh(n,l){if(n&1){let e=I();r(0,"div",13)(1,"label",47),c(2),a(),r(3,"input",48,7),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.salePrice,t)||(s.dataModel.salePrice=t),f(t)}),a()()}if(n&2){let e=m();o(2),M(e.fieldsInfo.salePrice==null?null:e.fieldsInfo.salePrice.fieldTitle),o(),d("placeholder",x(e.fieldsInfo.salePrice==null?null:e.fieldsInfo.salePrice.fieldTitle)),b("ngModel",e.dataModel.salePrice),d("disabled",!(e.fieldsInfo.salePrice!=null&&e.fieldsInfo.salePrice.accessEditField))}}function sh(n,l){if(n&1&&(C(0,"img",49),_(1,"cmsthumbnail")),n&2){let e=m();d("src",x(g(1,2,e.dataModel.linkMainImageIdSrc)),j)}}function dh(n,l){if(n&1&&(r(0,"button",54),C(1,"i",55),c(2),_(3,"translate"),a()),n&2){m(2);let e=k(9);d("disabled",!e.form.valid),o(2),y(" ",g(3,2,"ACTION.SAVE")," ")}}function ch(n,l){if(n&1){let e=I();r(0,"div",50)(1,"button",51),E("click",function(){u(e);let t=m();return f(t.onFormCancel())}),C(2,"i",52),c(3),_(4,"translate"),a(),S(5,dh,4,4,"button",53),a()}if(n&2){let e=m();o(3),y(" ",g(4,2,"ACTION.CANCEL")," "),o(2),d("ngIf",e.formInfo.formSubmitAllow)}}var Za=class Za extends Bt{constructor(e,i,t,s,h,p,D,z){super(s,new In,p,z);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.estateAdsTypeService=s;this.cmsToastrService=h;this.publicHelper=p;this.cdr=D;this.translate=z;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new Ft;this.dataModel=new In;this.formInfo=new me;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estateAdsTypeService.setAccessLoad(),this.estateAdsTypeService.setAccessDataType(Be.Editor),this.estateAdsTypeService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estateAdsTypeService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.formAlert=t}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e),this.formInfo.formSubmitAllow=!0},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}onActionFileSelected(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}};Za.\u0275fac=function(i){return new(i||Za)(v(be),v(Me),v(J),v(Qn),v(V),v(F),v(B),v(L))},Za.\u0275cmp=R({type:Za,selectors:[["app-estate-ads-type-edit"]],viewQuery:function(i,t){if(i&1&&ee(J1,5),i&2){let s;te(s=ie())&&(t.formGroup=s.first)}},standalone:!1,features:[ne],decls:57,vars:49,consts:[["vform","ngForm"],["Title",""],["Description",""],["LinkMainImageId",""],["StationLevel",""],["ViewLevel",""],["DayOfActivity",""],["SalePrice",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","fa fa-times  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],[4,"ngIf"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["role","list"],["role","listitem",4,"ngFor","ngForOf"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.includeAllSite",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.paymentForMainSite","name","dataModel.paymentForMainSite",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.paymentForMainSite",1,"custom-control-label"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","selectFileType","isPopup","openForm","openDirectUploadView","tree","openFilemanagerButtonLabelKey","openFilemanagerButtonView"],["class","form-actions",4,"ngIf"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.stationLevel",1,"color-highlight"],["matInput","","type","number","name","dataModel.stationLevel","id","dataModel.stationLevel",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["role","listitem"],["for","dataModel.viewLevel",1,"color-highlight"],["matInput","","type","number","name","dataModel.viewLevel","id","dataModel.viewLevel",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.dayOfActivity",1,"color-highlight"],["matInput","","type","number","name","dataModel.dayOfActivity","id","dataModel.dayOfActivity",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.salePrice",1,"color-highlight"],["matInput","","type","number","name","dataModel.salePrice","id","dataModel.salePrice",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-green",3,"disabled",4,"ngIf"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=I();r(0,"div",8),C(1,"app-progress-spinner",9),r(2,"div",10)(3,"p",11),c(4),a(),r(5,"p"),c(6),_(7,"translate"),a(),r(8,"form",12,0),E("ngSubmit",function(){return u(s),f(t.onFormSubmit())}),r(10,"div",13)(11,"label",14),c(12),a(),r(13,"input",15,1),w("ngModelChange",function(p){return u(s),T(t.dataModel.title,p)||(t.dataModel.title=p),f(p)}),a(),S(15,X1,1,0,"i",16)(16,$1,1,0,"i",17),r(17,"em"),c(18),a(),S(19,eh,5,3,"mat-error",18),a(),r(20,"div",13)(21,"label",19),c(22),a(),r(23,"textarea",20,2),w("ngModelChange",function(p){return u(s),T(t.dataModel.description,p)||(t.dataModel.description=p),f(p)}),a(),r(25,"em"),c(26),a(),S(27,th,5,3,"mat-error",18),a(),S(28,ih,5,5,"div",21),r(29,"mat-list",22),S(30,nh,2,1,"mat-list-item",23),a(),S(31,oh,5,5,"div",21),r(32,"mat-list",22),S(33,rh,2,1,"mat-list-item",23),a(),S(34,ah,5,5,"div",21)(35,lh,5,5,"div",21),r(36,"div",24)(37,"div",25)(38,"h5",26),c(39),a()(),r(40,"div",27)(41,"div",28)(42,"input",29),w("ngModelChange",function(p){return u(s),T(t.dataModel.paymentForMainSite,p)||(t.dataModel.paymentForMainSite=p),f(p)}),a(),C(43,"label",30),a()()(),r(44,"div",31)(45,"a",32),_(46,"cmsthumbnail"),S(47,sh,2,4,"img",33),a()(),r(48,"div",13)(49,"label",34),E("click",function(){return u(s),f(t.fileManagerOpenForm=!0)}),c(50),_(51,"translate"),a(),r(52,"input",35,3),_(54,"translate"),w("ngModelChange",function(p){return u(s),T(t.dataModel.linkMainImageId,p)||(t.dataModel.linkMainImageId=p),f(p)}),E("click",function(){return u(s),f(t.fileManagerOpenForm=!0)}),a(),r(55,"cms-file-manager",36),E("itemSelected",function(p){return u(s),f(t.onActionFileSelected(p))}),w("openFormChange",function(p){return u(s),T(t.fileManagerOpenForm,p)||(t.fileManagerOpenForm=p),f(p)}),a()(),S(56,ch,6,4,"div",37),a()()()}if(i&2){let s=k(14),h=k(24);o(),d("optionsInfoAreaId",t.constructorInfoAreaId),o(3),y(" ",t.formInfo.formTitle," "),o(2),y(" ",g(7,41,"TITLE.Be_Careful_When_Entering_Information")," "),o(6),M(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),b("ngModel",t.dataModel.title),o(2),d("ngIf",!s.value),o(),d("ngIf",s.value),o(2),y("",s.value.length," / 100"),o(),d("ngIf",s.errors==null?null:s.errors.required),o(3),M(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),b("ngModel",t.dataModel.description),o(3),y("",h.value.length," / 500"),o(),d("ngIf",h.errors==null?null:h.errors.required),o(),d("ngIf",t.fieldsInfo.stationLevel==null?null:t.fieldsInfo.stationLevel.accessWatchField),o(2),d("ngForOf",t.dataModel.stationLevelDescription),o(),d("ngIf",t.fieldsInfo.viewLevel==null?null:t.fieldsInfo.viewLevel.accessWatchField),o(2),d("ngForOf",t.dataModel.viewLevelDescription),o(),d("ngIf",t.fieldsInfo.dayOfActivity==null?null:t.fieldsInfo.dayOfActivity.accessWatchField),o(),d("ngIf",t.fieldsInfo.salePrice==null?null:t.fieldsInfo.salePrice.accessWatchField),o(4),y(" ",t.fieldsInfo.paymentForMainSite==null?null:t.fieldsInfo.paymentForMainSite.fieldTitle),o(3),b("ngModel",t.dataModel.paymentForMainSite),o(3),d("href",x(g(46,43,t.dataModel.linkMainImageIdSrc)),j),o(2),d("ngIf",(t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0),o(3),M(g(51,45,"TITLE.PHOTO_FILE")),o(2),d("placeholder",x(g(54,47,"TITLE.Icon_File_ID"))),b("ngModel",t.dataModel.linkMainImageId),o(3),d("language",t.appLanguage)("selectFileType",t.selectFileTypeMainImage)("isPopup",!0),b("openForm",t.fileManagerOpenForm),d("openDirectUploadView",!0)("tree",t.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openFilemanagerButtonView",!1),o(),d("ngIf",!t.publicHelper.processService.process.inRunAll)}},dependencies:[Ne,N,ke,Y,Ot,Ht,q,Te,de,De,Ae,ce,Pe,we,Q,dc,cc,U,ut,O,Ie],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});var bc=Za;var ph=()=>[5,10,20,100];function mh(n,l){if(n&1){let e=I();r(0,"div",17)(1,"a",42),E("click",function(){u(e);let t=m();return f(t.onActionButtonNewRow())}),C(2,"i",43)(3,"br"),a(),r(4,"p",20),c(5),_(6,"translate"),a()()}n&2&&(o(5),M(g(6,1,"ACTION.ADD")))}function uh(n,l){if(n&1){let e=I();r(0,"div",17)(1,"a",44),E("click",function(){u(e);let t=m();return f(t.onActionButtonEditRow(t.tableRowSelected))}),C(2,"i",45)(3,"br"),a(),r(4,"p",20),c(5),_(6,"translate"),a()()}n&2&&(o(5),M(g(6,1,"ACTION.EDIT")))}function fh(n,l){if(n&1){let e=I();r(0,"div",17)(1,"a",46),E("click",function(){u(e);let t=m();return f(t.onActionButtonDeleteRow(t.tableRowSelected))}),C(2,"i",47)(3,"br"),a(),r(4,"p",20),c(5),_(6,"translate"),a()()}n&2&&(o(5),M(g(6,1,"ACTION.DELETE")))}function _h(n,l){n&1&&(r(0,"mat-header-cell",48),c(1),_(2,"translate"),a()),n&2&&(o(),y(" ",g(2,1,"TITLE.PICTURE")," "))}function gh(n,l){if(n&1&&(C(0,"img",50),_(1,"cmsthumbnail")),n&2){let e=m().$implicit;d("src",x(g(1,2,e.linkMainImageIdSrc)),j)}}function hh(n,l){if(n&1&&(r(0,"mat-cell"),S(1,gh,2,4,"img",49),a()),n&2){let e=l.$implicit;o(),d("ngIf",(e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0)}}function yh(n,l){if(n&1&&(r(0,"mat-header-cell",48),c(1),a()),n&2){let e=m();o(),y(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function Ch(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),y(" ",e.id," ")}}function Sh(n,l){if(n&1&&(r(0,"mat-header-cell",48),c(1),a()),n&2){let e=m();o(),y(" ",e.fieldsInfo.linkPropertyId==null?null:e.fieldsInfo.linkPropertyId.fieldTitle," ")}}function vh(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),y(" ",e.linkPropertyId," ")}}function Eh(n,l){if(n&1&&(r(0,"mat-header-cell",48),c(1),a()),n&2){let e=m();o(),y(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," ")}}function Ih(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),y(" ",e.title," ")}}function Mh(n,l){if(n&1&&(r(0,"mat-header-cell",48),c(1),a()),n&2){let e=m();o(),y(" ",e.fieldsInfo.stationLevel==null?null:e.fieldsInfo.stationLevel.fieldTitle," ")}}function bh(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),y(" ",e.stationLevel," ")}}function Th(n,l){if(n&1&&(r(0,"mat-header-cell",48),c(1),a()),n&2){let e=m();o(),y(" ",e.fieldsInfo.viewLevel==null?null:e.fieldsInfo.viewLevel.fieldTitle," ")}}function wh(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),y(" ",e.viewLevel," ")}}function xh(n,l){if(n&1&&(r(0,"mat-header-cell",48),c(1),a()),n&2){let e=m();o(),y(" ",e.fieldsInfo.dayOfActivity==null?null:e.fieldsInfo.dayOfActivity.fieldTitle," ")}}function Ah(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),y(" ",e.dayOfActivity," ")}}function Ph(n,l){if(n&1&&(r(0,"mat-header-cell",48),c(1),a()),n&2){let e=m();o(),y(" ",e.fieldsInfo.salePrice==null?null:e.fieldsInfo.salePrice.fieldTitle," ")}}function kh(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),y(" ",e.salePrice," ")}}function Dh(n,l){n&1&&(r(0,"mat-header-cell"),c(1),_(2,"translate"),a()),n&2&&(o(),y(" ",g(2,1,"TITLE.OPTION")," "))}function Rh(n,l){if(n&1&&(r(0,"mat-cell",51)(1,"button",52)(2,"mat-icon"),c(3,"more_vert"),a()(),C(4,"mat-menu",null,2),a()),n&2){let e=k(5);o(),d("matMenuTriggerFor",e)}}function Lh(n,l){n&1&&C(0,"mat-header-row")}function Vh(n,l){if(n&1){let e=I();r(0,"mat-row",53),E("click",function(){let t=u(e).$implicit,s=m();return f(s.onActionTableRowSelect(t))}),a()}if(n&2){let e=l.$implicit,i=l.dataIndex,t=m();Se("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",e.id===(t.tableRowSelected==null?null:t.tableRowSelected.id))}}var Ja=class Ja extends bt{constructor(e,i,t,s,h,p,D,z,he,je,Ge,mt){super(e,new In,Ge,s,z);this.contentService=e;this.cmsConfirmationDialogService=i;this.cmsToastrService=t;this.tokenHelper=s;this.router=h;this.cdr=p;this.themeService=D;this.translate=z;this.cmsStoreService=he;this.pageInfo=je;this.publicHelper=Ge;this.dialog=mt;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new pe;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["LinkMainImageIdSrc","StationLevel","ViewLevel","LinkPropertyId","DayOfActivity","SalePrice"];this.tabledisplayedColumnsMobileSource=["LinkMainImageIdSrc","StationLevel","SalePrice"];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:Nt=>this.onSubmitOptionsSearch(Nt)},this.filteModelContent.sortColumn="Id",this.filteModelContent.sortType=X.Descending}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.cmsApiStoreSubscribe=this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>re(this,null,function*(){this.tokenInfo=e,this.DataGetAll()}))}ngOnDestroy(){this.cmsApiStoreSubscribe&&this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new In);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),t.isSuccess&&(this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=X.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=X.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=X.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(Mc,{height:"90%",panelClass:e,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(bc,{height:"90%",panelClass:i,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(s=>{this.cmsToastrService.typeErrorSelected(s)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(s=>{i=s["MESSAGE.Please_Confirm"],t=s["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(s=>{if(s){let h=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(p=>{this.publicHelper.processService.processStart(h,p,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:p=>{p.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(h)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(h,!1)}})}}).catch(()=>{})}onActionButtonContentList(e=this.tableRowSelected,i){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}this.onActionTableRowSelect(e),i?.ctrlKey?(this.link="/#/estate/property/LinkAdsTypeId/"+this.tableRowSelected.id,window.open(this.link,"_blank")):this.router.navigate(["/estate/property/LinkAdsTypeId/",this.tableRowSelected.id])}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(p=>{i.set(p,0)}),this.translate.get("MESSAGE.All").subscribe(p=>{i.set(p,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(p=>{this.publicHelper.processService.processStart(t,p,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:p=>{p.isSuccess?(this.translate.get("MESSAGE.All").subscribe(D=>{i.set(D,p.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(p.errorMessage),this.publicHelper.processService.processStop(t)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(t,!1)}});let s=JSON.parse(JSON.stringify(this.filteModelContent)),h=new H;h.propertyName="RecordStatus",h.value=qe.Available,s.filters.push(h),this.contentService.ServiceGetCount(s).subscribe({next:p=>{p.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(D=>{i.set(D,p.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(p.errorMessage),this.publicHelper.processService.processStop(t)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0&&(this.filteModelContent.filters=[...this.filteModelContent.filters,...e]),this.DataGetAll()}};Ja.\u0275fac=function(i){return new(i||Ja)(v(Qn),v(Mt),v(V),v(K),v(Ze),v(B),v(kt),v(L),v(Z),v(ht),v(F),v(xe))},Ja.\u0275cmp=R({type:Ja,selectors:[["app-estate-ads-type-list"]],standalone:!1,features:[ne],decls:69,vars:31,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-list","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","LinkMainImageIdSrc"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","Id"],["matColumnDef","LinkPropertyId"],["matColumnDef","Title"],["matColumnDef","StationLevel"],["matColumnDef","ViewLevel"],["matColumnDef","DayOfActivity"],["matColumnDef","SalePrice"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","40","width","40",3,"src",4,"ngIf"],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[3,"click"]],template:function(i,t){if(i&1){let s=I();r(0,"app-cms-html-list",3),w("optionActionGuideNoticeDisplayChange",function(p){return u(s),T(t.viewGuideNotice,p)||(t.viewGuideNotice=p),f(p)}),E("optionOnActionButtonMemoRow",function(){return u(s),f(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return u(s),f(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return u(s),f(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return u(s),f(t.onActionButtonPrintRow())}),A(1,4),c(2," -------------------------------------- "),P(),Qe(3,5)(4,6),A(5,7),r(6,"a",8),E("click",function(){return u(s),f(t.viewGuideNotice=!t.viewGuideNotice)}),C(7,"i",9),a(),r(8,"a",8),E("click",function(){return u(s),f(t.onActionButtonReload())}),C(9,"i",10),a(),P(),A(10,11),r(11,"a",12),E("click",function(){return u(s),f(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),C(12,"mat-slide-toggle",13),c(13),_(14,"translate"),a(),r(15,"a",12),E("click",function(){return u(s),f(t.onActionButtonStatist())}),C(16,"mat-slide-toggle",13),c(17),_(18,"translate"),a(),P(),A(19,14),S(20,mh,7,3,"div",15),P(),A(21,16),S(22,uh,7,3,"div",15)(23,fh,7,3,"div",15),r(24,"div",17)(25,"a",18),E("click",function(p){return u(s),f(t.onActionButtonContentList(t.tableRowSelected,p))}),C(26,"i",19)(27,"br"),a(),r(28,"p",20),c(29),_(30,"translate"),a()(),P(),A(31,21),r(32,"app-cms-search-list",22),w("optionsChange",function(p){return u(s),T(t.optionsSearch,p)||(t.optionsSearch=p),f(p)}),a(),r(33,"app-cms-statist-list",22),w("optionsChange",function(p){return u(s),T(t.optionsStatist,p)||(t.optionsStatist=p),f(p)}),a(),P(),A(34,23),r(35,"mat-table",24,0),E("matSortChange",function(){u(s);let p=k(36);return f(t.onTableSortData(p))}),A(37,25),S(38,_h,3,3,"mat-header-cell",26)(39,hh,2,1,"mat-cell",27),P(),A(40,28),S(41,yh,2,1,"mat-header-cell",26)(42,Ch,2,1,"mat-cell",27),P(),A(43,29),S(44,Sh,2,1,"mat-header-cell",26)(45,vh,2,1,"mat-cell",27),P(),A(46,30),S(47,Eh,2,1,"mat-header-cell",26)(48,Ih,2,1,"mat-cell",27),P(),A(49,31),S(50,Mh,2,1,"mat-header-cell",26)(51,bh,2,1,"mat-cell",27),P(),A(52,32),S(53,Th,2,1,"mat-header-cell",26)(54,wh,2,1,"mat-cell",27),P(),A(55,33),S(56,xh,2,1,"mat-header-cell",26)(57,Ah,2,1,"mat-cell",27),P(),A(58,34),S(59,Ph,2,1,"mat-header-cell",26)(60,kh,2,1,"mat-cell",27),P(),A(61,35),S(62,Dh,3,3,"mat-header-cell",36)(63,Rh,6,1,"mat-cell",37),P(),S(64,Lh,1,0,"mat-header-row",38)(65,Vh,1,6,"mat-row",39),a(),P(),A(66,40),r(67,"mat-paginator",41,1),E("page",function(p){return u(s),f(t.onTablePageingData(p))}),a(),P(),a()}i&2&&(d("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),b("optionActionGuideNoticeDisplay",t.viewGuideNotice),d("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelectDoubleClick)("optionSelectRowItemTitle",(t.tableRowSelected==null||t.tableRowSelected.title==null?null:t.tableRowSelected.title.length)>0?t.tableRowSelected==null?null:t.tableRowSelected.title:t.tableRowSelected==null?null:t.tableRowSelected.id),o(12),d("checked",t.optionsSearch.data.show),o(),y("",g(14,24,"ACTION.SEARCH")," "),o(3),d("checked",t.optionsStatist.data.show),o(),y("",g(18,26,"ACTION.STATIST")," "),o(3),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessAddRow),o(2),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),o(),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),o(6),M(g(30,28,"ACTION.Property_to_be_traded")),o(3),b("options",t.optionsSearch),o(),b("options",t.optionsStatist),o(2),d("dataSource",t.tableSource),o(29),d("matHeaderRowDef",t.tabledisplayedColumns),o(),d("matRowDefColumns",t.tabledisplayedColumns),o(2),d("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",le(30,ph)))},dependencies:[N,Je,Ee,At,Pt,vt,gt,Et,It,it,ot,st,rt,nt,dt,at,lt,ct,pt,Tt,wt,xt,O,Ie],encapsulation:2});var Tc=Ja;var s0=["*","*"];function Oh(n,l){if(n&1&&(r(0,"label",15),c(1),a()),n&2){let e=m(2);d("for",ve("app-cms-site-selector-",e.id)),o(),M(e.optionLabel)}}function Fh(n,l){if(n&1&&(C(0,"img",16),_(1,"cmsthumbnail")),n&2){let e=m(2);d("src",x(g(1,2,e.dataModelSelect==null?null:e.dataModelSelect.linkMainImageIdSrc)),j)}}function Bh(n,l){if(n&1&&(C(0,"img",16),_(1,"cmsthumbnail")),n&2){let e=m().$implicit;d("src",x(g(1,2,e.linkMainImageIdSrc)),j)}}function Nh(n,l){if(n&1&&(r(0,"mat-option",17),S(1,Bh,2,4,"img",7),r(2,"span"),c(3),a()()),n&2){let e=l.$implicit,i=m(2);d("value",e)("disabled",i.optionDisabled),o(),d("ngIf",e.linkMainImageIdSrc),o(2),M(i.displayOption(e))}}function Hh(n,l){n&1&&C(0,"i",18)}function Wh(n,l){n&1&&C(0,"i",19)}function Gh(n,l){if(n&1){let e=I();r(0,"i",20),E("click",function(){u(e);let t=m(2);return f(t.onActionSelectClear())}),a()}}function Uh(n,l){n&1&&(r(0,"em"),c(1),_(2,"translate"),a()),n&2&&(o(),y("(",g(2,1,"TITLE.Necessary"),")"))}function jh(n,l){if(n&1){let e=I();r(0,"div",3),C(1,"app-progress-spinner",4),S(2,Oh,2,3,"label",5),r(3,"span",6),S(4,Fh,2,4,"img",7),c(5," \xA0"),a(),C(6,"input",8),r(7,"mat-autocomplete",9,0),E("optionSelected",function(t){u(e);let s=m();return f(s.onActionSelect(t.option.value))}),S(9,Nh,4,4,"mat-option",10),_(10,"async"),a(),S(11,Hh,1,0,"i",11)(12,Wh,1,0,"i",12)(13,Gh,1,0,"i",13)(14,Uh,3,3,"em",14),ai(15),a()}if(n&2){let e=k(8),i=m();o(),d("optionsInfoAreaId",i.constructorInfoAreaId),o(),d("ngIf",(i.optionLabel==null?null:i.optionLabel.length)>0),o(2),d("ngIf",i.dataModelSelect&&(i.dataModelSelect==null?null:i.dataModelSelect.linkMainImageIdSrc)),o(2),d("placeholder",x(i.optionPlaceholder))("id",ve("app-cms-site-selector-",i.id))("formControl",i.formControl)("matAutocomplete",e)("required",i.optionRequired),yt("disabled",i.optionDisabled?!0:null),o(),d("displayWith",i.displayFn),o(2),d("ngForOf",g(10,17,i.filteredOptions)),o(2),d("ngIf",!i.formControl.valid),o(),d("ngIf",i.optionRequired&&i.formControl.valid),o(),d("ngIf",(i.dataModelSelect==null||i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0),o(),d("ngIf",i.optionRequired&&(!i.dataModelSelect||!i.dataModelSelect.id||(i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)==0))}}function qh(n,l){if(n&1){let e=I();r(0,"div",23)(1,"a",24),E("click",function(){let t=u(e).$implicit,s=m(2);return f(s.onActionSelect(t))}),c(2),a()()}if(n&2){let e=l.$implicit,i=m(2);o(),d("ngClass",e.id===(i.dataModelSelect==null?null:i.dataModelSelect.id)?"btn font-13 font-600 btn-s m-1 rounded-xl shadow-xl border-0 gradient-highlight btn-full":"btn font-13 font-600 btn-s m-1 rounded-xl shadow-xl border-blue-dark color-blue-dark bg-theme btn-border btn-full"),yt("disabled",i.optionDisabled?!0:null),o(),M(i.displayOption(e))}}function Qh(n,l){if(n&1&&(r(0,"div",21),S(1,qh,3,3,"div",22),_(2,"async"),ai(3,1),a()),n&2){let e=m();o(),d("ngForOf",g(2,1,e.filteredOptions))}}var Wr=class Wr{constructor(l,e,i,t,s,h,p,D){this.coreEnumService=l;this.cmsToastrService=e;this.cdr=i;this.publicHelper=t;this.translate=s;this.tokenHelper=h;this.cmsStoreService=p;this.categoryService=D;this.id=++Wr.nextId;this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new G;this.dataModelSelect=new En;this.formControl=new Ct;this.optionDisabled=!1;this.optionRequired=!1;this.optionSelectFirstItem=!1;this.optionPlaceholder="";this.optionLabel="";this.optionChange=new Xe;this.optionTypeView=1;this.typeUsageId="";this.optionReload=()=>this.onActionButtonReload();this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(l){this.onActionSelectForce(l)}set optionTypeUsageId(l){this.typeUsageId=l,this.loadOptions()}ngOnInit(){this.loadOptions(),this.cmsApiStoreSubscribe=this.cmsStoreService.getState(l=>l.tokenInfoStore).subscribe(l=>re(this,null,function*(){this.loadOptions()}))}ngOnDestroy(){this.cmsApiStoreSubscribe&&this.cmsApiStoreSubscribe.unsubscribe()}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(Kt(""),Yt(1500),Ii(),Zt(l=>typeof l=="string"||typeof l=="number"?this.DataGetAll(l||""):[]))}displayFn(l){return l?l.titleML:void 0}displayOption(l){return l?l.titleML:void 0}DataGetAll(l){return re(this,null,function*(){let e=new pe;e.rowPerPage=20,e.accessLoad=!0;let i=new H,t=new H;l&&l.length>0&&(i.propertyName="Title",i.value=l,i.searchType=Oe.Contains,i.clauseType=Ve.Or,t.filters.push(i),i=new H,i.propertyName="Id",i.value=l,i.searchType=Oe.Equal,i.clauseType=Ve.Or,t.filters.push(i),e.filters.push(t)),this.typeUsageId&&this.typeUsageId.length>0&&(i=new H,i.propertyName="PropertyTypes",i.propertyAnyName="LinkPropertyTypeUsageId",i.value=this.typeUsageId,i.searchType=Oe.Equal,i.clauseType=Ve.And,e.filters.push(i));let s=this.constructor.name+"main";return this.translate.get("MESSAGE.Receiving_information").subscribe(h=>{this.publicHelper.processService.processStart(s,h,this.constructorInfoAreaId)}),yield Ei(this.categoryService.ServiceGetAll(e)).then(h=>(this.dataModelResult=h,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||this.dataModelSelect.id.length===0)&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0])},1e3),this.onActionSelect(this.dataModelResult.listItems[0])),this.publicHelper.processService.processStop(s),h.listItems))})}onActionSelect(l){this.optionDisabled||(this.dataModelSelect=l,this.optionChange.emit(this.dataModelSelect))}onActionSelectClear(){this.optionDisabled||(this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null))}push(l){return this.filteredOptions.pipe(Lt(e=>(e.find(i=>i.id===l.id)||e.push(l),e)))}onActionSelectForce(l){if((!l||typeof l=="string"&&l.length===0)&&(this.dataModelSelect=new En),typeof l=="string"&&l.length>0){if(this.dataModelSelect&&this.dataModelSelect.id===l)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(e=>e.id===l)){let e=this.dataModelResult.listItems.find(i=>i.id===l);this.dataModelSelect=e,this.formControl.setValue(e);return}this.categoryService.ServiceGetOneById(l).subscribe({next:e=>{e.isSuccess?(this.filteredOptions=this.push(e.item),this.dataModelSelect=e.item,this.formControl.setValue(e.item),this.optionChange.emit(e.item)):this.cmsToastrService.typeErrorMessage(e.errorMessage)}});return}if(typeof l==typeof En){this.filteredOptions=this.push(l),this.dataModelSelect=l,this.formControl.setValue(l);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new En,this.loadOptions()}};Wr.nextId=0,Wr.\u0275fac=function(e){return new(e||Wr)(v(J),v(V),v(B),v(F),v(L),v(K),v(Z),v(qn))},Wr.\u0275cmp=R({type:Wr,selectors:[["app-estate-activity-type-selector"]],inputs:{optionSelectForce:"optionSelectForce",optionTypeUsageId:"optionTypeUsageId",optionDisabled:"optionDisabled",optionRequired:"optionRequired",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionLabel:"optionLabel",optionTypeView:"optionTypeView",optionReload:"optionReload"},outputs:{optionChange:"optionChange"},standalone:!1,ngContentSelectors:s0,decls:2,vars:2,consts:[["matauto","matAutocomplete"],["class","input-style has-borders has-icon input-style-always-active validate-field mb-4 loader-container",4,"ngIf"],["class","row mb-0",4,"ngIf"],[1,"input-style","has-borders","has-icon","input-style-always-active","validate-field","mb-4","loader-container"],[3,"optionsInfoAreaId"],["class","color-highlight",3,"for",4,"ngIf"],["matPrefix",""],["style","vertical-align: middle","class","ntk-hover-zoom","aria-hidden","","height","25","width","25",3,"src",4,"ngIf"],["type","text","aria-label","Assignee","matInput","",3,"placeholder","formControl","matAutocomplete","required","id"],[3,"optionSelected","displayWith"],[3,"value","disabled",4,"ngFor","ngForOf"],["class","fa fa-info invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],["class","fa fa-times action color-red-dark",3,"click",4,"ngIf"],[4,"ngIf"],[1,"color-highlight",3,"for"],["aria-hidden","","height","25","width","25",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"value","disabled"],[1,"fa","fa-info","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"fa","fa-times","action","color-red-dark",3,"click"],[1,"row","mb-0"],["class","col-xl-2 col-lg-3 col-md-4 col-sm-12 pe-1",4,"ngFor","ngForOf"],[1,"col-xl-2","col-lg-3","col-md-4","col-sm-12","pe-1"],[3,"click","ngClass"]],template:function(e,i){e&1&&(gi(s0),S(0,jh,16,19,"div",1)(1,Qh,4,3,"div",2)),e&2&&(d("ngIf",i.optionTypeView===1),o(),d("ngIf",i.optionTypeView===2))},dependencies:[se,Ne,N,Y,q,de,Wt,ti,ei,ii,zi,Q,U,He,O,Ie],encapsulation:2});var Xa=Wr;var zh=["*"];function Yh(n,l){if(n&1&&(r(0,"label",13),c(1),a()),n&2){let e=m();d("for",ve("app-cms-site-selector-",e.id)),o(),M(e.optionLabel)}}function Kh(n,l){if(n&1&&(C(0,"img",14),_(1,"cmsthumbnail")),n&2){let e=m();d("src",x(g(1,2,e.dataModelSelect==null?null:e.dataModelSelect.linkMainImageIdSrc)),j)}}function Zh(n,l){if(n&1&&(C(0,"img",14),_(1,"cmsthumbnail")),n&2){let e=m().$implicit;d("src",x(g(1,2,e.linkMainImageIdSrc)),j)}}function Jh(n,l){if(n&1&&(r(0,"mat-option",15),S(1,Zh,2,4,"img",5),r(2,"span"),c(3),a()()),n&2){let e=l.$implicit,i=m();d("value",e)("disabled",i.optionDisabled),o(),d("ngIf",e.linkMainImageIdSrc),o(2),M(i.displayOption(e))}}function Xh(n,l){n&1&&C(0,"i",16)}function $h(n,l){n&1&&C(0,"i",17)}function ey(n,l){if(n&1){let e=I();r(0,"i",18),E("click",function(){u(e);let t=m();return f(t.onActionSelectClear())}),a()}}function ty(n,l){n&1&&(r(0,"em"),c(1),_(2,"translate"),a()),n&2&&(o(),y("(",g(2,1,"TITLE.Necessary"),")"))}var Gr=class Gr{constructor(l,e,i,t,s,h,p,D){this.coreEnumService=l;this.cmsToastrService=e;this.cdr=i;this.publicHelper=t;this.tokenHelper=s;this.cmsStoreService=h;this.translate=p;this.categoryService=D;this.id=++Gr.nextId;this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new G;this.dataModelSelect=new Ki;this.formControl=new Ct;this.optionDisabled=!1;this.optionRequired=!1;this.optionSelectFirstItem=!1;this.optionPlaceholder="";this.optionLabel="";this.optionChange=new Xe;this.optionReload=()=>this.onActionButtonReload();this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(l){this.onActionSelectForce(l)}ngOnInit(){this.loadOptions(),this.cmsApiStoreSubscribe=this.cmsStoreService.getState(l=>l.tokenInfoStore).subscribe(l=>re(this,null,function*(){this.loadOptions()})),(!this.optionLabel||this.optionLabel.length==0&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder)}ngOnDestroy(){this.cmsApiStoreSubscribe&&this.cmsApiStoreSubscribe.unsubscribe()}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(Kt(""),Yt(1500),Ii(),Zt(l=>typeof l=="string"||typeof l=="number"?this.DataGetAll(l||""):[]))}displayFn(l){return l?l.title+" # "+l.caseCode:void 0}displayOption(l){return l?l.title+" # "+l.caseCode:void 0}DataGetAll(l){return re(this,null,function*(){let e=new ao;e.rowPerPage=20,e.accessLoad=!0;let i=new H;i.propertyName="Name",i.value=l,i.searchType=Oe.Contains,e.filters.push(i),i=new H,i.propertyName="Id",i.value=l,i.searchType=Oe.Equal,i.clauseType=Ve.Or,e.filters.push(i),i=new H,i.propertyName="CaseCode",i.value=l,i.searchType=Oe.Equal,i.clauseType=Ve.Or,e.filters.push(i),i=new H,i.propertyName="Title",i.value=l,i.searchType=Oe.Contains,i.clauseType=Ve.Or,e.filters.push(i),l?.length>0&&(i=new H,i.propertyName="LinkCmsUserId",i.value=l,i.searchType=Oe.Equal,i.clauseType=Ve.Or,e.filters.push(i),i=new H,i.propertyName="aboutCustomerTel",i.value=l,i.searchType=Oe.Contains,i.clauseType=Ve.Or,e.filters.push(i),i=new H,i.propertyName="aboutCustomerMobile",i.value=l,i.searchType=Oe.Contains,i.clauseType=Ve.Or,e.filters.push(i));let t=this.constructor.name+"main";return this.translate.get("MESSAGE.Receiving_information").subscribe(s=>{this.publicHelper.processService.processStart(t,s,this.constructorInfoAreaId)}),yield Ei(this.categoryService.ServiceGetAll(e)).then(s=>(this.dataModelResult=s,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||this.dataModelSelect.id.length===0)&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0])},1e3),this.onActionSelect(this.dataModelResult.listItems[0])),this.publicHelper.processService.processStop(t),s.listItems))})}onActionSelect(l){this.optionDisabled||(this.dataModelSelect=l,this.optionChange.emit(this.dataModelSelect))}onActionSelectClear(){this.optionDisabled||(this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null))}push(l){return this.filteredOptions.pipe(Lt(e=>(e.find(i=>i.id===l.id)||e.push(l),e)))}onActionSelectForce(l){if(typeof l=="string"&&l.length>0){if(this.dataModelSelect&&this.dataModelSelect.id===l)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(e=>e.id===l)){let e=this.dataModelResult.listItems.find(i=>i.id===l);this.dataModelSelect=e,this.formControl.setValue(e);return}this.categoryService.ServiceGetOneById(l).subscribe({next:e=>{e.isSuccess?(this.filteredOptions=this.push(e.item),this.dataModelSelect=e.item,this.formControl.setValue(e.item),this.optionChange.emit(e.item)):this.cmsToastrService.typeErrorMessage(e.errorMessage)}});return}if(typeof l==typeof Ki){this.filteredOptions=this.push(l),this.dataModelSelect=l,this.formControl.setValue(l);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new Ki,this.loadOptions()}};Gr.nextId=0,Gr.\u0275fac=function(e){return new(e||Gr)(v(J),v(V),v(B),v(F),v(K),v(Z),v(L),v(ui))},Gr.\u0275cmp=R({type:Gr,selectors:[["app-estate-property-selector"]],inputs:{optionDisabled:"optionDisabled",optionRequired:"optionRequired",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionLabel:"optionLabel",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange"},standalone:!1,ngContentSelectors:zh,decls:16,vars:19,consts:[["matauto","matAutocomplete"],[1,"input-style","has-borders","has-icon","input-style-always-active","validate-field","mb-4","loader-container"],[3,"optionsInfoAreaId"],["class","color-highlight",3,"for",4,"ngIf"],["matPrefix",""],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","25","width","25",3,"src",4,"ngIf"],["type","text","aria-label","Assignee","matInput","",3,"placeholder","formControl","matAutocomplete","required","id"],[3,"optionSelected","displayWith"],[3,"value","disabled",4,"ngFor","ngForOf"],["class","fa fa-info  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],["class","fa fa-times  action color-red-dark",3,"click",4,"ngIf"],[4,"ngIf"],[1,"color-highlight",3,"for"],["aria-hidden","","height","25","width","25",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"value","disabled"],[1,"fa","fa-info","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"fa","fa-times","action","color-red-dark",3,"click"]],template:function(e,i){if(e&1){let t=I();gi(),r(0,"div",1),C(1,"app-progress-spinner",2),S(2,Yh,2,3,"label",3),r(3,"span",4),S(4,Kh,2,4,"img",5),c(5," \xA0"),a(),C(6,"input",6),r(7,"mat-autocomplete",7,0),E("optionSelected",function(h){return u(t),f(i.onActionSelect(h.option.value))}),S(9,Jh,4,4,"mat-option",8),_(10,"async"),a(),S(11,Xh,1,0,"i",9)(12,$h,1,0,"i",10)(13,ey,1,0,"i",11)(14,ty,3,3,"em",12),ai(15),a()}if(e&2){let t=k(8);o(),d("optionsInfoAreaId",i.constructorInfoAreaId),o(),d("ngIf",(i.optionLabel==null?null:i.optionLabel.length)>0),o(2),d("ngIf",i.dataModelSelect&&(i.dataModelSelect==null?null:i.dataModelSelect.linkMainImageIdSrc)),o(2),d("placeholder",x(i.optionPlaceholder))("id",ve("app-cms-site-selector-",i.id))("formControl",i.formControl)("matAutocomplete",t)("required",i.optionRequired),yt("disabled",i.optionDisabled?!0:null),o(),d("displayWith",i.displayFn),o(2),d("ngForOf",g(10,17,i.filteredOptions)),o(2),d("ngIf",!i.formControl.valid),o(),d("ngIf",i.optionRequired&&i.formControl.valid),o(),d("ngIf",(i.dataModelSelect==null||i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0),o(),d("ngIf",i.optionRequired&&(!i.dataModelSelect||!i.dataModelSelect.id||(i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)===0))}},dependencies:[Ne,N,Y,q,de,Wt,ti,ei,ii,zi,Q,U,He,O,Ie],encapsulation:2});var ur=Gr;var iy=["*"];function ny(n,l){if(n&1&&(r(0,"label",11),c(1),a()),n&2){let e=m();d("for",ve("app-cms-site-selector-",e.id)),o(),M(e.optionLabel)}}function oy(n,l){if(n&1&&(r(0,"mat-option",12)(1,"span"),c(2),a()()),n&2){let e=l.$implicit,i=m();d("value",e)("disabled",i.optionDisabled),o(2),M(i.displayOption(e))}}function ry(n,l){n&1&&C(0,"i",13)}function ay(n,l){n&1&&C(0,"i",14)}function ly(n,l){if(n&1){let e=I();r(0,"i",15),E("click",function(){u(e);let t=m();return f(t.onActionSelectClear())}),a()}}function sy(n,l){n&1&&(r(0,"em"),c(1),_(2,"translate"),a()),n&2&&(o(),y("(",g(2,1,"TITLE.Necessary"),")"))}var Ur=class Ur{constructor(l,e,i,t,s,h){this.coreEnumService=l;this.cmsToastrService=e;this.translate=i;this.cdr=t;this.publicHelper=s;this.categoryService=h;this.id=++Ur.nextId;this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new G;this.dataModelSelect=new Mn;this.formControl=new Ct;this.optionDisabled=!1;this.optionRequired=!1;this.optionSelectFirstItem=!1;this.optionPlaceholder="";this.optionLabel="";this.optionChange=new Xe;this.optionReload=()=>this.onActionButtonReload();this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(l){this.onActionSelectForce(l)}ngOnInit(){this.loadOptions(),(!this.optionLabel||this.optionLabel.length==0&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder)}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(Kt(""),Yt(1500),Ii(),Zt(l=>typeof l=="string"||typeof l=="number"?this.DataGetAll(l||""):[]))}displayFn(l){return l?l.title:void 0}displayOption(l){return l?l.title:void 0}DataGetAll(l){return re(this,null,function*(){let e=new er;e.rowPerPage=20,e.accessLoad=!0;let i=new H;l&&l.length>0&&(i.propertyName="Title",i.value=l,i.searchType=Oe.Contains,i.clauseType=Ve.Or,e.filters.push(i),i=new H,i.propertyName="Id",i.value=l,i.searchType=Oe.Equal,i.clauseType=Ve.Or,e.filters.push(i),i=new H,i.propertyName="description",i.value=l,i.searchType=Oe.Contains,i.clauseType=Ve.Or,e.filters.push(i),i=new H,i.propertyName="descriptionHidden",i.value=l,i.searchType=Oe.Contains,i.clauseType=Ve.Or,e.filters.push(i),i=new H,i.propertyName="LinkCmsUserId",i.value=l,i.searchType=Oe.Equal,i.clauseType=Ve.Or,e.filters.push(i),i=new H,i.propertyName="contactMobiles",i.value=l,i.searchType=Oe.Contains,i.clauseType=Ve.Or,e.filters.push(i));let t=this.constructor.name+"main";return this.translate.get("MESSAGE.Receiving_information").subscribe(s=>{this.publicHelper.processService.processStart(t,s,this.constructorInfoAreaId)}),yield Ei(this.categoryService.ServiceGetAll(e)).then(s=>(this.dataModelResult=s,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||this.dataModelSelect.id.length===0)&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0])},1e3),this.onActionSelect(this.dataModelResult.listItems[0])),this.publicHelper.processService.processStop(t),s.listItems))})}onActionSelect(l){this.optionDisabled||(this.dataModelSelect=l,this.optionChange.emit(this.dataModelSelect))}onActionSelectClear(){this.optionDisabled||(this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null))}push(l){return this.filteredOptions.pipe(Lt(e=>(e.find(i=>i.id===l.id)||e.push(l),e)))}onActionSelectForce(l){if(typeof l=="string"&&l.length>0){if(this.dataModelSelect&&this.dataModelSelect.id===l)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(e=>e.id===l)){let e=this.dataModelResult.listItems.find(i=>i.id===l);this.dataModelSelect=e,this.formControl.setValue(e);return}this.categoryService.ServiceGetOneById(l).subscribe({next:e=>{e.isSuccess?(this.filteredOptions=this.push(e.item),this.dataModelSelect=e.item,this.formControl.setValue(e.item),this.optionChange.emit(e.item)):this.cmsToastrService.typeErrorMessage(e.errorMessage)}});return}if(typeof l==typeof Mn){this.filteredOptions=this.push(l),this.dataModelSelect=l,this.formControl.setValue(l);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new Mn,this.loadOptions()}};Ur.nextId=0,Ur.\u0275fac=function(e){return new(e||Ur)(v(J),v(V),v(L),v(B),v(F),v(Yi))},Ur.\u0275cmp=R({type:Ur,selectors:[["app-estate-customer-order-selector"]],inputs:{optionDisabled:"optionDisabled",optionRequired:"optionRequired",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionLabel:"optionLabel",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange"},standalone:!1,ngContentSelectors:iy,decls:13,vars:18,consts:[["matauto","matAutocomplete"],[1,"input-style","has-borders","has-icon","input-style-always-active","validate-field","mb-4","loader-container"],[3,"optionsInfoAreaId"],["class","color-highlight",3,"for",4,"ngIf"],["type","text","aria-label","Assignee","matInput","",3,"placeholder","formControl","matAutocomplete","required","id"],[3,"optionSelected","displayWith"],[3,"value","disabled",4,"ngFor","ngForOf"],["class","fa fa-info  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],["class","fa fa-times  action color-red-dark",3,"click",4,"ngIf"],[4,"ngIf"],[1,"color-highlight",3,"for"],[3,"value","disabled"],[1,"fa","fa-info","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"fa","fa-times","action","color-red-dark",3,"click"]],template:function(e,i){if(e&1){let t=I();gi(),r(0,"div",1),C(1,"app-progress-spinner",2),S(2,ny,2,3,"label",3),C(3,"input",4),r(4,"mat-autocomplete",5,0),E("optionSelected",function(h){return u(t),f(i.onActionSelect(h.option.value))}),S(6,oy,3,3,"mat-option",6),_(7,"async"),a(),S(8,ry,1,0,"i",7)(9,ay,1,0,"i",8)(10,ly,1,0,"i",9)(11,sy,3,3,"em",10),ai(12),a()}if(e&2){let t=k(5);o(),d("optionsInfoAreaId",i.constructorInfoAreaId),o(),d("ngIf",(i.optionLabel==null?null:i.optionLabel.length)>0),o(),d("placeholder",x(i.optionPlaceholder))("id",ve("app-cms-site-selector-",i.id))("formControl",i.formControl)("matAutocomplete",t)("required",i.optionRequired),yt("disabled",i.optionDisabled?!0:null),o(),d("displayWith",i.displayFn),o(2),d("ngForOf",g(7,16,i.filteredOptions)),o(2),d("ngIf",!i.formControl.valid),o(),d("ngIf",i.optionRequired&&i.formControl.valid),o(),d("ngIf",(i.dataModelSelect==null||i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0),o(),d("ngIf",i.optionRequired&&(!i.dataModelSelect||!i.dataModelSelect.id||(i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)===0))}},dependencies:[Ne,N,Y,q,de,Wt,ti,ei,ii,Q,U,He,O],encapsulation:2});var $a=Ur;var dy=["*"];function cy(n,l){if(n&1&&(C(0,"img",13),_(1,"cmsthumbnail")),n&2){let e=m();d("src",x(g(1,2,e.dataModelSelect==null?null:e.dataModelSelect.linkMainImageIdSrc)),j)}}function py(n,l){if(n&1&&(C(0,"img",13),_(1,"cmsthumbnail")),n&2){let e=m().$implicit;d("src",x(g(1,2,e.linkMainImageIdSrc)),j)}}function my(n,l){if(n&1&&(r(0,"mat-option",14),S(1,py,2,4,"img",4),r(2,"span"),c(3),a()()),n&2){let e=l.$implicit,i=m();d("value",e)("disabled",i.optionDisabled),o(),d("ngIf",e.linkMainImageIdSrc),o(2),M(i.displayOption(e))}}function uy(n,l){n&1&&C(0,"i",15)}function fy(n,l){n&1&&C(0,"i",16)}function _y(n,l){if(n&1){let e=I();r(0,"i",17),E("click",function(){u(e);let t=m();return f(t.onActionSelectClear())}),a()}}function gy(n,l){n&1&&(r(0,"em"),c(1),_(2,"translate"),a()),n&2&&(o(),y("(",g(2,1,"TITLE.Necessary"),")"))}var el=class el{constructor(l,e,i,t,s,h){this.coreEnumService=l;this.cmsToastrService=e;this.cdr=i;this.publicHelper=t;this.translate=s;this.categoryService=h;this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new G;this.dataModelSelect=new lo;this.formControl=new Ct;this.optionDisabled=!1;this.optionSelectFirstItem=!1;this.optionPlaceholder="";this.optionLabel="";this.optionRequired=!1;this.optionChange=new Xe;this.optionReload=()=>this.onActionButtonReload();this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(l){this.forceSelect=l,this.onActionSelectForce(l)}set optionSelectUserId(l){(!this.forceSelect||this.forceSelect!==null)&&this.DataGetAll(l)}ngOnInit(){this.loadOptions(),(!this.optionLabel||this.optionLabel.length==0&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder)}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(Kt(""),Yt(1500),Ii(),Zt(l=>typeof l=="string"||typeof l=="number"?this.DataGetAll(l||""):[]))}displayFn(l){return l?l.title:void 0}displayOption(l){return l?l.title:void 0}DataGetAll(l){return re(this,null,function*(){let e=new ba;e.rowPerPage=20,e.accessLoad=!0;let i=new H;typeof l=="string"&&l.length>0&&(i.propertyName="Title",i.value=l,i.searchType=Oe.Contains,e.filters.push(i),i=new H,i.propertyName="Id",i.value=l,i.searchType=Oe.Equal,i.clauseType=Ve.Or,e.filters.push(i)),l?.length>0&&(i=new H,i.propertyName="LinkCmsUserId",i.value=l,i.searchType=Oe.Equal,i.clauseType=Ve.Or,e.filters.push(i),i=new H,i.propertyName="mobileNumber",i.value=l,i.searchType=Oe.Contains,i.clauseType=Ve.Or,e.filters.push(i),i=new H,i.propertyName="phoneNumber",i.value=l,i.searchType=Oe.Contains,i.clauseType=Ve.Or,e.filters.push(i));let t=this.constructor.name+"main";return this.translate.get("MESSAGE.Receiving_information").subscribe(s=>{this.publicHelper.processService.processStart(t,s,this.constructorInfoAreaId)}),yield Ei(this.categoryService.ServiceGetAll(e)).then(s=>(this.dataModelResult=s,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||this.dataModelSelect.id.length===0)&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0])},1e3),this.onActionSelect(this.dataModelResult.listItems[0])),this.publicHelper.processService.processStop(t),s.listItems))})}onActionSelect(l){this.optionDisabled||(this.dataModelSelect=l,this.optionChange.emit(this.dataModelSelect))}onActionSelectClear(){this.optionDisabled||(this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null))}push(l){return this.filteredOptions.pipe(Lt(e=>(e.find(i=>i.id===l.id)||e.push(l),e)))}onActionSelectForce(l){if(typeof l=="string"&&l.length>0){if(this.dataModelSelect&&this.dataModelSelect.id===l)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(e=>e.id===l)){let e=this.dataModelResult.listItems.find(i=>i.id===l);this.dataModelSelect=e,this.formControl.setValue(e);return}this.categoryService.ServiceGetOneById(l).subscribe({next:e=>{e.isSuccess?(this.filteredOptions=this.push(e.item),this.dataModelSelect=e.item,this.formControl.setValue(e.item),this.optionChange.emit(e.item)):this.cmsToastrService.typeErrorMessage(e.errorMessage)}});return}if(typeof l==typeof lo){this.filteredOptions=this.push(l),this.dataModelSelect=l,this.formControl.setValue(l);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new lo,this.loadOptions()}};el.\u0275fac=function(e){return new(e||el)(v(J),v(V),v(B),v(F),v(L),v(Dn))},el.\u0275cmp=R({type:el,selectors:[["app-estate-account-agency-selector"]],inputs:{optionDisabled:"optionDisabled",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionLabel:"optionLabel",optionRequired:"optionRequired",optionReload:"optionReload",optionSelectForce:"optionSelectForce",optionSelectUserId:"optionSelectUserId"},outputs:{optionChange:"optionChange"},standalone:!1,ngContentSelectors:dy,decls:17,vars:17,consts:[["matauto","matAutocomplete"],[1,"input-style","has-borders","has-icon","input-style-always-active","validate-field","mb-4","loader-container"],[3,"optionsInfoAreaId"],["matPrefix",""],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","25","width","25",3,"src",4,"ngIf"],["type","text","aria-label","Assignee","matInput","",3,"placeholder","formControl","matAutocomplete","required"],["for","forminput",1,"color-highlight"],[3,"optionSelected","displayWith"],[3,"value","disabled",4,"ngFor","ngForOf"],["class","fa fa-info  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],["class","fa fa-times  action color-red-dark",3,"click",4,"ngIf"],[4,"ngIf"],["aria-hidden","","height","25","width","25",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"value","disabled"],[1,"fa","fa-info","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"fa","fa-times","action","color-red-dark",3,"click"]],template:function(e,i){if(e&1){let t=I();gi(),r(0,"div",1),C(1,"app-progress-spinner",2),r(2,"span",3),S(3,cy,2,4,"img",4),c(4," \xA0"),a(),C(5,"input",5),r(6,"label",6),c(7),a(),r(8,"mat-autocomplete",7,0),E("optionSelected",function(h){return u(t),f(i.onActionSelect(h.option.value))}),S(10,my,4,4,"mat-option",8),_(11,"async"),a(),S(12,uy,1,0,"i",9)(13,fy,1,0,"i",10)(14,_y,1,0,"i",11)(15,gy,3,3,"em",12),ai(16),a()}if(e&2){let t=k(9);o(),d("optionsInfoAreaId",i.constructorInfoAreaId),o(2),d("ngIf",i.dataModelSelect&&(i.dataModelSelect==null?null:i.dataModelSelect.linkMainImageIdSrc)),o(2),d("placeholder",x(i.optionPlaceholder))("formControl",i.formControl)("matAutocomplete",t)("required",i.optionRequired),yt("disabled",i.optionDisabled?!0:null),o(2),M(i.optionLabel),o(),d("displayWith",i.displayFn),o(2),d("ngForOf",g(11,15,i.filteredOptions)),o(2),d("ngIf",!i.formControl.valid),o(),d("ngIf",i.optionRequired&&i.formControl.valid),o(),d("ngIf",(i.dataModelSelect==null||i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0),o(),d("ngIf",i.optionRequired&&(!i.dataModelSelect||!i.dataModelSelect.id||i.dataModelSelect.id.length<=0))}},dependencies:[Ne,N,Y,q,de,Wt,ti,ei,ii,zi,Q,U,He,O,Ie],encapsulation:2});var Xn=el;var hy=["vform"],yy=n=>({direction:n});function Cy(n,l){n&1&&C(0,"i",27)}function Sy(n,l){n&1&&C(0,"i",28)}function vy(n,l){n&1&&(r(0,"mat-error"),c(1," Title is "),r(2,"strong"),c(3),_(4,"translate"),a()()),n&2&&(o(3),M(g(4,1,"MESSAGE.required")))}function Ey(n,l){n&1&&(r(0,"mat-error"),c(1," Description is "),r(2,"strong"),c(3),_(4,"translate"),a()()),n&2&&(o(3),M(g(4,1,"MESSAGE.required")))}function Iy(n,l){n&1&&(r(0,"mat-error"),c(1," DescriptionHidden is "),r(2,"strong"),c(3),_(4,"translate"),a()()),n&2&&(o(3),M(g(4,1,"MESSAGE.required")))}function My(n,l){if(n&1){let e=I();r(0,"div",11)(1,"label",29),c(2),a(),r(3,"textarea",30,3),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.descriptionHidden,t)||(s.dataModel.descriptionHidden=t),f(t)}),a(),r(5,"em"),c(6),a(),S(7,Iy,5,3,"mat-error",16),a()}if(n&2){let e=k(4),i=m();o(2),M(i.fieldsInfo.descriptionHidden==null?null:i.fieldsInfo.descriptionHidden.fieldTitle),o(),d("placeholder",x(i.fieldsInfo.descriptionHidden==null?null:i.fieldsInfo.descriptionHidden.fieldTitle)),b("ngModel",i.dataModel.descriptionHidden),o(3),y("",e.value.length," / 500"),o(),d("ngIf",e.errors==null?null:e.errors.required)}}function by(n,l){if(n&1){let e=I();r(0,"app-cms-enum-x-selector",31),w("modelChange",function(t){u(e);let s=m();return T(s.dataModel.activityStatus,t)||(s.dataModel.activityStatus=t),f(t)}),a()}if(n&2){let e=m();d("optionDataListResult",e.dataModelEstateActivityStatusEnumResult),b("model",e.dataModel.activityStatus),d("optionDisabled",!1)("optionLabel",e.fieldsInfo.activityStatus==null?null:e.fieldsInfo.activityStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Ty(n,l){if(n&1){let e=I();r(0,"app-estate-account-expert-selector",21),_(1,"translate"),E("optionChange",function(t){u(e);let s=m();return f(s.onActionSelectorEstateUser(t))}),a()}if(n&2){let e=m();d("optionSelectForce",e.dataModel.linkEstateExpertId)("optionPlaceholder",g(1,2,"TITLE.USER"))}}function wy(n,l){if(n&1){let e=I();r(0,"app-estate-account-agency-selector",32),_(1,"translate"),E("optionChange",function(t){u(e);let s=m();return f(s.onActionSelectorEstateAgency(t))}),a()}if(n&2){let e=m();d("optionSelectForce",e.dataModel.linkEstateAgencyId)("optionSelectUserId",e.tokenInfo.access.userId)("optionPlaceholder",g(1,3,"TITLE.Property_agency"))}}function xy(n,l){if(n&1){let e=I();r(0,"app-estate-property-selector",21),_(1,"translate"),E("optionChange",function(t){u(e);let s=m();return f(s.onActionSelectorProperty(t))}),a()}if(n&2){let e=m();d("optionSelectForce",e.dataModel.linkPropertyId)("optionPlaceholder",g(1,2,"TITLE.Property"))}}function Ay(n,l){if(n&1){let e=I();r(0,"app-estate-customer-order-selector",21),_(1,"translate"),E("optionChange",function(t){u(e);let s=m();return f(s.onActionSelectorCustomerOrderId(t))}),a()}if(n&2){let e=m();d("optionSelectForce",e.dataModel.linkCustomerOrderId)("optionPlaceholder",g(1,2,"TITLE.Customer"))}}function Py(n,l){if(n&1){let e=I();r(0,"div",33)(1,"label",34),c(2),a(),r(3,"input",35),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.appointmentDateFrom,t)||(s.dataModel.appointmentDateFrom=t),f(t)}),a(),C(4,"mat-datepicker-toggle",36)(5,"mat-datepicker",37,4),a()}if(n&2){let e=k(6),i=m();o(2),M(i.fieldsInfo.appointmentDateFrom==null?null:i.fieldsInfo.appointmentDateFrom.fieldTitle),o(),d("matDatepicker",e),b("ngModel",i.dataModel.appointmentDateFrom),d("formControl",i.date),o(),d("for",e)}}function ky(n,l){if(n&1){let e=I();r(0,"div",33)(1,"label",38),c(2),a(),r(3,"input",39),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.appointmentDateTo,t)||(s.dataModel.appointmentDateTo=t),f(t)}),a(),C(4,"mat-datepicker-toggle",36)(5,"mat-datepicker",37,5),a()}if(n&2){let e=k(6),i=m();o(2),M(i.fieldsInfo.appointmentDateTo==null?null:i.fieldsInfo.appointmentDateTo.fieldTitle),o(),d("matDatepicker",e),b("ngModel",i.dataModel.appointmentDateTo),d("formControl",i.date),o(),d("for",e)}}function Dy(n,l){if(n&1){let e=I();r(0,"div",40)(1,"button",41),E("click",function(){u(e);let t=m();return f(t.onFormCancel())}),C(2,"i",42),c(3),_(4,"translate"),a(),r(5,"button",43),C(6,"i",44),c(7),_(8,"translate"),a()()}if(n&2){m();let e=k(9);o(3),y(" ",g(4,3,"ACTION.CANCEL")," "),o(2),d("disabled",!e.form.valid),o(2),y(" ",g(8,5,"ACTION.SAVE")," ")}}var il=class il extends Dt{constructor(e,i,t,s,h,p,D,z,he,je,Ge,mt,Nt){super(s,new nr,mt,he);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.estatePropertyHistoryService=s;this.cmsToastrService=h;this.estateEnumService=p;this.cdr=D;this.tokenHelper=z;this.translate=he;this.cmsStoreService=je;this.pageInfo=Ge;this.publicHelper=mt;this.dialog=Nt;this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.tokenInfo=new St;this.dataFileModelFiles=new Map;this.formInfo=new me;this.fileManagerOpenForm=!1;this.date=new Ct(new Date);this.dataModelEstateActivityStatusEnumResult=new G;this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,e&&(this.dataModel.linkActivityTypeId=e.linkActivityTypeId,this.dataModel.linkPropertyId=e.linkPropertyId,this.dataModel.linkEstateExpertId=e.linkEstateExpertId,this.dataModel.linkCustomerOrderId=e.linkCustomerOrderId,this.dataModel.linkEstateAgencyId=e.linkEstateAgencyId)}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(e=>{this.formInfo.formTitle=e}),this.getEstateActivityStatusEnum()}getEstateActivityStatusEnum(){this.estateEnumService.ServiceEstateActivityStatusEnum().subscribe({next:e=>{this.dataModelEstateActivityStatusEnumResult=e}})}DataAddContent(){if(this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="",this.dataFileModelFiles){let i=Array.from(this.dataFileModelFiles.keys());i&&i.length>0&&(this.dataModel.linkFileIds=i.join(","))}let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estatePropertyHistoryService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.formAlert=t}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e),this.formInfo.formSubmitAllow=!0},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorSelect(e){if(!e||e.id.length<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkActivityTypeId=e.id}onActionSelectorEstateUser(e){this.dataModel.linkEstateExpertId=null,e&&e.id?.length>0&&(this.dataModel.linkEstateExpertId=e.id)}onActionSelectorEstateAgency(e){this.dataModel.linkEstateAgencyId=null,!(!e||!e.id||e.id.length<=0)&&(this.dataModel.linkEstateAgencyId=e.id)}onActionSelectorProperty(e){this.dataModel.linkPropertyId=null,e&&e.id?.length>0&&(this.dataModel.linkPropertyId=e.id)}onActionSelectorCustomerOrderId(e){this.dataModel.linkCustomerOrderId=null,e&&e.id?.length>0&&(this.dataModel.linkCustomerOrderId=e.id)}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};il.\u0275fac=function(i){return new(i||il)(v(be),v(Me),v(J),v(zn),v(V),v(sn),v(B),v(K),v(L),v(Z),v(ht),v(F),v(xe))},il.\u0275cmp=R({type:il,selectors:[["app-estate-property-history-add"]],viewQuery:function(i,t){if(i&1&&ee(hy,5),i&2){let s;te(s=ie())&&(t.formGroup=s.first)}},standalone:!1,features:[ne],decls:44,vars:40,consts:[["vform","ngForm"],["Title",""],["Description",""],["DescriptionHidden",""],["AppointmentDateFrom",""],["AppointmentDateTo",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit","ngStyle"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["type","text","name","dataModel.title","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","fa fa-times  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],[4,"ngIf"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[3,"optionDataListResult","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionChange","optionSelectForce","optionPlaceholder"],[3,"optionSelectForce","optionPlaceholder","optionChange",4,"ngIf"],[3,"optionSelectForce","optionSelectUserId","optionPlaceholder","optionChange",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4 cms-input-group",4,"ngIf"],[3,"dataFileModelChange","dataFileModel","openDirectUploadView"],["class","form-actions",4,"ngIf"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.descriptionHidden",1,"color-highlight"],["matInput","","name","dataModel.descriptionHidden","type","text","minlength","0","maxlength","1000","rows","5","id","dataModel.descriptionHidden",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[3,"modelChange","optionDataListResult","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"optionChange","optionSelectForce","optionSelectUserId","optionPlaceholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],["for","dataModel.appointmentDateFrom",1,"color-highlight"],["matInput","","name","dataModel.appointmentDateFrom","id","dataModel.appointmentDateFrom",1,"form-control","validate-name",3,"ngModelChange","matDatepicker","ngModel","formControl"],["matSuffix","",3,"for"],["touchUi",""],["for","dataModel.appointmentDateTo",1,"color-highlight"],["matInput","","name","dataModel.appointmentDateTo","id","dataModel.appointmentDateTo",1,"form-control","validate-name",3,"ngModelChange","matDatepicker","ngModel","formControl"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=I();r(0,"div",6),C(1,"app-progress-spinner",7),r(2,"div",8)(3,"p",9),c(4),a(),r(5,"p"),c(6),_(7,"translate"),a(),r(8,"form",10,0),E("ngSubmit",function(){return u(s),f(t.onFormSubmit())}),r(10,"div",11)(11,"label",12),c(12),a(),r(13,"input",13,1),w("ngModelChange",function(p){return u(s),T(t.dataModel.title,p)||(t.dataModel.title=p),f(p)}),a(),S(15,Cy,1,0,"i",14)(16,Sy,1,0,"i",15),r(17,"em"),c(18),a(),S(19,vy,5,3,"mat-error",16),a(),r(20,"div",11)(21,"label",17),c(22),a(),r(23,"textarea",18,2),w("ngModelChange",function(p){return u(s),T(t.dataModel.description,p)||(t.dataModel.description=p),f(p)}),c(25,"        "),a(),r(26,"em"),c(27),a(),S(28,Ey,5,3,"mat-error",16),a(),S(29,My,8,6,"div",19)(30,by,1,6,"app-cms-enum-x-selector",20),r(31,"app-estate-activity-type-selector",21),_(32,"translate"),E("optionChange",function(p){return u(s),f(t.onActionSelectorSelect(p))}),a(),S(33,Ty,2,4,"app-estate-account-expert-selector",22)(34,wy,2,5,"app-estate-account-agency-selector",23)(35,xy,2,4,"app-estate-property-selector",22)(36,Ay,2,4,"app-estate-customer-order-selector",22)(37,Py,7,5,"div",24)(38,ky,7,5,"div",24),r(39,"p"),c(40),_(41,"translate"),a(),r(42,"app-cms-files-selector",25),w("dataFileModelChange",function(p){return u(s),T(t.dataFileModelFiles,p)||(t.dataFileModelFiles=p),f(p)}),a(),S(43,Dy,9,7,"div",26),a()()()}if(i&2){let s=k(14),h=k(24);o(),d("optionsInfoAreaId",t.constructorInfoAreaId),o(3),y(" ",t.formInfo.formTitle," "),o(2),y(" ",g(7,32,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),d("ngStyle",ze(38,yy,t.tokenInfo.access.direction)),o(4),M(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),b("ngModel",t.dataModel.title),o(2),d("ngIf",!s.value),o(),d("ngIf",s.value),o(2),y("",s.value.length," / 100"),o(),d("ngIf",s.errors==null?null:s.errors.required),o(3),M(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),b("ngModel",t.dataModel.description),o(4),y("",h.value.length," / 500"),o(),d("ngIf",h.errors==null?null:h.errors.required),o(),d("ngIf",t.fieldsInfo.descriptionHidden==null?null:t.fieldsInfo.descriptionHidden.accessAddField),o(),d("ngIf",t.fieldsInfo.activityStatus==null?null:t.fieldsInfo.activityStatus.accessWatchField),o(),d("optionSelectForce",t.dataModel.linkActivityTypeId)("optionPlaceholder",g(32,34,"TITLE.Category")),o(2),d("ngIf",t.fieldsInfo.linkEstateExpertId==null?null:t.fieldsInfo.linkEstateExpertId.accessAddField),o(),d("ngIf",t.fieldsInfo.linkEstateAgencyId==null?null:t.fieldsInfo.linkEstateAgencyId.accessWatchField),o(),d("ngIf",t.fieldsInfo.linkPropertyId==null?null:t.fieldsInfo.linkPropertyId.accessAddField),o(),d("ngIf",t.fieldsInfo.linkCustomerOrderId==null?null:t.fieldsInfo.linkCustomerOrderId.accessAddField),o(),d("ngIf",t.fieldsInfo.appointmentDateFrom==null?null:t.fieldsInfo.appointmentDateFrom.accessWatchField),o(),d("ngIf",t.fieldsInfo.appointmentDateTo==null?null:t.fieldsInfo.appointmentDateTo.accessWatchField),o(2),M(g(41,36,"TITLE.List_of_attached_files")),o(2),b("dataFileModel",t.dataFileModelFiles),d("openDirectUploadView",!0),o(),d("ngIf",t.formInfo.formSubmitAllow)}},dependencies:[N,tt,ke,Y,q,Te,de,De,Ae,ce,Pe,Wt,Pn,kn,ln,we,et,Q,Wo,U,mn,Xa,ur,$a,Sn,Xn,O],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});var mo=il;var Ry=()=>({standalone:!0});function Ly(n,l){n&1&&(r(0,"em"),c(1),_(2,"translate"),a()),n&2&&(o(),y("(",g(2,1,"TITLE.Necessary"),")"))}function Vy(n,l){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),_(4,"translate"),a()()),n&2){let e=m(2);o(),y(" ",e.optionLabel," "),o(2),M(g(4,2,"MESSAGE.required"))}}function Oy(n,l){if(n&1){let e=I();A(0),r(1,"div",2)(2,"label",3),c(3),a(),r(4,"input",4,0),w("ngModelChange",function(t){u(e);let s=m();return T(s.modelDate,t)||(s.modelDate=t),f(t)}),a(),S(6,Ly,3,3,"em",1)(7,Vy,5,4,"mat-error",1),a(),P()}if(n&2){let e=k(5),i=m();o(2),d("for",ve("string-",i.id)),o(),M(i.optionLabel),o(),d("placeholder",x(i.optionPlaceholder))("id",ve("string-",i.id)),b("ngModel",i.modelDate),d("disabled",i.optionDisabled)("ngModelOptions",le(13,Ry))("required",i.optionRequired),o(2),d("ngIf",i.optionRequired),o(),d("ngIf",e.errors==null?null:e.errors.required)}}function Fy(n,l){if(n&1&&(r(0,"div",6),C(1,"input",7),r(2,"label",8),c(3),a(),C(4,"i",9)(5,"i",10),a()),n&2){let e=l.$implicit,i=l.index,t=m(3);o(),d("id",bd("string-",t.id,"-",i))("value",e),o(),d("for",bd("string-",t.id,"-",i)),o(),M(e)}}function By(n,l){if(n&1&&(A(0),S(1,Fy,6,8,"div",5),P()),n&2){let e=m(2);o(),d("ngForOf",e.optionDefaultValue)}}function Ny(n,l){if(n&1){let e=I();r(0,"div",13),E("change",function(){u(e);let t=m().$implicit,s=m(3);return f(s.onActionSelect(t))}),r(1,"input",14),w("ngModelChange",function(t){u(e);let s=m().$implicit,h=m(3);return T(h.itemSelected[s],t)||(h.itemSelected[s]=t),f(t)}),a(),r(2,"label",8),c(3),a(),C(4,"i",15)(5,"i",16),a()}if(n&2){let e=m(),i=e.$implicit,t=e.index,s=m(3);o(),d("id",bd("string-",s.id,"-",t))("disabled",s.optionDisabled),b("ngModel",s.itemSelected[i]),o(),d("for",bd("string-",s.id,"-",t)),o(),M(i)}}function Hy(n,l){if(n&1&&(A(0),S(1,Ny,6,9,"div",12),P()),n&2){let e=l.$implicit,i=m(3);o(),d("ngIf",!i.optionDisplayOnlyValid||i.itemSelected[e])}}function Wy(n,l){if(n&1&&(A(0),S(1,Hy,2,1,"ng-container",11),P()),n&2){let e=m(2);o(),d("ngForOf",e.optionDefaultValue)}}function Gy(n,l){if(n&1&&(A(0),r(1,"label"),c(2),a(),C(3,"br"),S(4,By,2,1,"ng-container",1)(5,Wy,2,1,"ng-container",1),P()),n&2){let e=m();o(),Vt(ve("color:'",e.optionIconColor,"';")),o(),y("",e.optionLabel," :"),o(2),d("ngIf",!e.optionMultipleChoice),o(),d("ngIf",e.optionMultipleChoice)}}var jr=class jr{constructor(){this.id=++jr.nextId;this.modelChange=new Xe;this.optionMultipleChoice=!1;this.optionForceUseDefaultValue=!1;this.optionDefaultValue=[];this.optionRequired=!1;this.optionDisplayOnlyValid=!1;this.optionDisabled=!1;this.optionLabel="";this.optionPlaceholder="";this.optionIconColor="";this.privateModelDate="";this.itemSelected=new Map;this.colors=["primary","accent","warn","primary","accent","warn","primary","accent","warn"]}set model(l){l&&l.split(",").forEach(e=>{this.itemSelected[e]=!0}),this.privateModelDate=l}get modelDate(){return this.privateModelDate}set modelDate(l){this.privateModelDate=l,this.modelChange.emit(l)}ngOnInit(){}onActionSelect(l){let e=[];this.optionDefaultValue.forEach(i=>{this.itemSelected[i]&&this.itemSelected[i]===!0&&e.push(i)}),this.modelDate=e.join(",")}};jr.nextId=0,jr.\u0275fac=function(e){return new(e||jr)},jr.\u0275cmp=R({type:jr,selectors:[["app-input-string"]],inputs:{model:"model",optionMultipleChoice:"optionMultipleChoice",optionForceUseDefaultValue:"optionForceUseDefaultValue",optionDefaultValue:"optionDefaultValue",optionRequired:"optionRequired",optionDisplayOnlyValid:"optionDisplayOnlyValid",optionDisabled:"optionDisabled",optionLabel:"optionLabel",optionPlaceholder:"optionPlaceholder",optionIconColor:"optionIconColor"},outputs:{modelChange:"modelChange"},standalone:!1,decls:2,vars:2,consts:[["string",""],[4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],[1,"color-highlight",3,"for"],["name","string","type","text",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","id","disabled","ngModelOptions","required"],["class","form-check icon-check",4,"ngFor","ngForOf"],[1,"form-check","icon-check"],["type","radio","name","inlineRadioOptions",1,"form-check-input",3,"value","id"],[1,"form-check-label",3,"for"],[1,"icon-check-1","far","fa-circle","color-gray-dark","font-16"],[1,"icon-check-2","far","fa-check-circle","font-16","color-highlight"],[4,"ngFor","ngForOf"],["class","form-check icon-check",3,"change",4,"ngIf"],[1,"form-check","icon-check",3,"change"],["type","checkbox",1,"form-check-input",3,"ngModelChange","disabled","ngModel","id"],[1,"icon-check-1","far","fa-square","color-gray-dark","font-16"],[1,"icon-check-2","far","fa-check-square","font-16","color-highlight"]],template:function(e,i){e&1&&S(0,Oy,8,14,"ng-container",1)(1,Gy,6,6,"ng-container",1),e&2&&(d("ngIf",!i.optionDefaultValue||i.optionDefaultValue.length===0),o(),d("ngIf",i.optionDefaultValue&&i.optionDefaultValue.length>0))},dependencies:[Ne,N,Y,Ht,q,de,ce,we,O],encapsulation:2});var $n=jr;var Uy=()=>({standalone:!0});function jy(n,l){n&1&&(r(0,"em"),c(1),_(2,"translate"),a()),n&2&&(o(),y("(",g(2,1,"TITLE.Necessary"),")"))}function qy(n,l){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),_(4,"translate"),a()()),n&2){let e=m();o(),y(" ",e.optionLabel," "),o(2),M(g(4,2,"MESSAGE.required"))}}var qr=class qr{constructor(){this.id=++qr.nextId;this.modelChange=new Xe;this.optionValueMin=null;this.optionValueMax=null;this.optionRequired=!1;this.optionDisabled=!1;this.optionLabel="";this.optionPlaceholder=""}set model(l){this.privateModelDate=l}get modelDate(){return this.privateModelDate}set modelDate(l){this.optionValueMin&&l<this.optionValueMin&&(l=this.optionValueMin),this.optionValueMax&&l>this.optionValueMax&&(l=this.optionValueMax),this.privateModelDate=l,this.modelChange.emit(l)}ngOnInit(){}};qr.nextId=0,qr.\u0275fac=function(e){return new(e||qr)},qr.\u0275cmp=R({type:qr,selectors:[["app-input-int"]],inputs:{model:"model",optionValueMin:"optionValueMin",optionValueMax:"optionValueMax",optionRequired:"optionRequired",optionDisabled:"optionDisabled",optionLabel:"optionLabel",optionPlaceholder:"optionPlaceholder"},outputs:{modelChange:"modelChange"},standalone:!1,decls:7,vars:14,consts:[["number",""],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],[1,"color-highlight",3,"for"],["matInput","","name","number","type","number",1,"form-control","validate-name",3,"ngModelChange","ngModel","id","placeholder","disabled","ngModelOptions","required"],[4,"ngIf"]],template:function(e,i){if(e&1){let t=I();r(0,"div",1)(1,"label",2),c(2),a(),r(3,"input",3,0),w("ngModelChange",function(h){return u(t),T(i.modelDate,h)||(i.modelDate=h),f(h)}),a(),S(5,jy,3,3,"em",4)(6,qy,5,4,"mat-error",4),a()}if(e&2){let t=k(4);o(),d("for",ve("int-",i.id)),o(),M(i.optionLabel),o(),d("id",ve("int-",i.id))("placeholder",x(i.optionPlaceholder)),b("ngModel",i.modelDate),d("disabled",i.optionDisabled)("ngModelOptions",le(13,Uy))("required",i.optionRequired),o(2),d("ngIf",i.optionRequired),o(),d("ngIf",t.errors==null?null:t.errors.required)}},dependencies:[N,Y,Ot,q,de,ce,we,Q,O],encapsulation:2});var eo=qr;var Qy=["*"],Qr=class Qr{constructor(){this.id=++Qr.nextId;this.optionDisabled=!1;this.optionLabel="";this.modelChange=new Xe;this.isChecked=!1}set model(l){l&&(l===!0||l==="true"||l===1||l==="1")&&(this.isChecked=!0)}ngOnInit(){}setValueToggle(l){l==="true"?(this.isChecked=!0,this.modelChange.emit(!0)):(this.isChecked=!1,this.modelChange.emit(!1))}};Qr.nextId=0,Qr.\u0275fac=function(e){return new(e||Qr)},Qr.\u0275cmp=R({type:Qr,selectors:[["app-input-boolean"]],inputs:{optionDisabled:"optionDisabled",optionLabel:"optionLabel",model:"model"},outputs:{modelChange:"modelChange"},standalone:!1,ngContentSelectors:Qy,decls:9,vars:8,consts:[[1,"d-flex","mb-3"],[1,"pt-1"],[1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox",1,"ios-input",3,"ngModelChange","change","id","ngModel","disabled"],[1,"custom-control-label",3,"for"]],template:function(e,i){e&1&&(gi(),r(0,"div",0)(1,"div",1)(2,"h5",2),ai(3),c(4),a()(),r(5,"div",3)(6,"div",4)(7,"input",5),w("ngModelChange",function(s){return T(i.isChecked,s)||(i.isChecked=s),s}),E("change",function(){return i.setValueToggle(i.isChecked?"true":"false")}),a(),C(8,"label",6),a()()()),e&2&&(o(2),yt("data-trigger-switch","boolean-"+i.id),o(2),y("",i.optionLabel," "),o(3),d("id",ve("boolean-",i.id)),b("ngModel",i.isChecked),d("disabled",i.optionDisabled),o(),d("for",ve("boolean-",i.id)))},dependencies:[Ht,q,ce],encapsulation:2});var to=Qr;var zy=()=>({standalone:!0});function Yy(n,l){n&1&&(r(0,"em"),c(1),_(2,"translate"),a()),n&2&&(o(),y("(",g(2,1,"TITLE.Necessary"),")"))}function Ky(n,l){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),_(4,"translate"),a()()),n&2){let e=m();o(),y(" ",e.optionLabel," "),o(2),M(g(4,2,"MESSAGE.required"))}}var zr=class zr{constructor(){this.id=++zr.nextId;this.modelChange=new Xe;this.optionValueMin=null;this.optionValueMax=null;this.optionRequired=!1;this.optionDisabled=!1;this.optionLabel="";this.optionPlaceholder=""}set model(l){this.privateModelDate=l}get modelDate(){return this.privateModelDate}set modelDate(l){this.optionValueMin&&l<this.optionValueMin&&(l=this.optionValueMin),this.optionValueMax&&l>this.optionValueMax&&(l=this.optionValueMax),this.privateModelDate=l,this.modelChange.emit(l)}ngOnInit(){}};zr.nextId=0,zr.\u0275fac=function(e){return new(e||zr)},zr.\u0275cmp=R({type:zr,selectors:[["app-input-float"]],inputs:{model:"model",optionValueMin:"optionValueMin",optionValueMax:"optionValueMax",optionRequired:"optionRequired",optionDisabled:"optionDisabled",optionLabel:"optionLabel",optionPlaceholder:"optionPlaceholder"},outputs:{modelChange:"modelChange"},standalone:!1,decls:7,vars:14,consts:[["number",""],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],[1,"color-highlight",3,"for"],["matInput","","name","number","type","number","step","0.01",1,"form-control","validate-name",3,"ngModelChange","ngModel","id","placeholder","disabled","ngModelOptions","required"],[4,"ngIf"]],template:function(e,i){if(e&1){let t=I();r(0,"div",1)(1,"label",2),c(2),a(),r(3,"input",3,0),w("ngModelChange",function(h){return u(t),T(i.modelDate,h)||(i.modelDate=h),f(h)}),a(),S(5,Yy,3,3,"em",4)(6,Ky,5,4,"mat-error",4),a()}if(e&2){let t=k(4);o(),d("for",ve("float-",i.id)),o(),M(i.optionLabel),o(),d("id",ve("float-",i.id))("placeholder",x(i.optionPlaceholder)),b("ngModel",i.modelDate),d("disabled",i.optionDisabled)("ngModelOptions",le(13,zy))("required",i.optionRequired),o(2),d("ngIf",i.optionRequired),o(),d("ngIf",t.errors==null?null:t.errors.required)}},dependencies:[N,Y,Ot,q,de,ce,we,Q,O],encapsulation:2});var io=zr;var Zy=()=>({standalone:!0}),ll=class ll{constructor(){this.modelChange=new Xe;this.optionRequired=!1;this.optionDisabled=!1}set model(l){this.privateModelDate=l}get modelDate(){return this.privateModelDate}set modelDate(l){this.privateModelDate=l,this.modelChange.emit(l)}ngOnInit(){}};ll.\u0275fac=function(e){return new(e||ll)},ll.\u0275cmp=R({type:ll,selectors:[["app-input-date"]],inputs:{model:"model",optionRequired:"optionRequired",optionDisabled:"optionDisabled"},outputs:{modelChange:"modelChange"},standalone:!1,decls:4,vars:6,consts:[["ExpireDate",""],["matInput","",3,"ngModelChange","matDatepicker","ngModel","ngModelOptions"],["matSuffix","",3,"for","disabled"],["touchUi",""]],template:function(e,i){if(e&1){let t=I();r(0,"input",1),w("ngModelChange",function(h){return u(t),T(i.modelDate,h)||(i.modelDate=h),f(h)}),a(),C(1,"mat-datepicker-toggle",2)(2,"mat-datepicker",3,0)}if(e&2){let t=k(3);d("matDatepicker",t),b("ngModel",i.modelDate),d("ngModelOptions",le(5,Zy)),o(),d("for",t)("disabled",i.optionDisabled)}},dependencies:[Y,q,ce,Pn,kn,ln,et,Q],encapsulation:2});var no=ll;var Jy=()=>({standalone:!0});function Xy(n,l){n&1&&(r(0,"em"),c(1),_(2,"translate"),a()),n&2&&(o(),y("(",g(2,1,"TITLE.Necessary"),")"))}function $y(n,l){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),_(4,"translate"),a()()),n&2){let e=m();o(),y(" ",e.optionLabel," "),o(2),M(g(4,2,"MESSAGE.required"))}}var Yr=class Yr{constructor(){this.id=++Yr.nextId;this.modelChange=new Xe;this.optionRequired=!1;this.optionDisabled=!1;this.optionLabel="";this.optionPlaceholder="";this.privateModelDate=""}set model(l){this.privateModelDate=l}get modelDate(){return this.privateModelDate}set modelDate(l){this.privateModelDate=l,this.modelChange.emit(l)}ngOnInit(){}};Yr.nextId=0,Yr.\u0275fac=function(e){return new(e||Yr)},Yr.\u0275cmp=R({type:Yr,selectors:[["app-input-textarea"]],inputs:{model:"model",optionRequired:"optionRequired",optionDisabled:"optionDisabled",optionLabel:"optionLabel",optionPlaceholder:"optionPlaceholder"},outputs:{modelChange:"modelChange"},standalone:!1,decls:7,vars:14,consts:[["string",""],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],[1,"color-highlight",3,"for"],["name","string","type","text","rows","5",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","id","disabled","ngModelOptions","required"],[4,"ngIf"]],template:function(e,i){if(e&1){let t=I();r(0,"div",1)(1,"label",2),c(2),a(),r(3,"textarea",3,0),w("ngModelChange",function(h){return u(t),T(i.modelDate,h)||(i.modelDate=h),f(h)}),a(),S(5,Xy,3,3,"em",4)(6,$y,5,4,"mat-error",4),a()}if(e&2){let t=k(4);o(),d("for",ve("textarea-",i.id)),o(),M(i.optionLabel),o(),d("placeholder",x(i.optionPlaceholder))("id",ve("textarea-",i.id)),b("ngModel",i.modelDate),d("disabled",i.optionDisabled)("ngModelOptions",le(13,Jy))("required",i.optionRequired),o(2),d("ngIf",i.optionRequired),o(),d("ngIf",t.errors==null?null:t.errors.required)}},dependencies:[N,Y,q,de,ce,we,O],encapsulation:2});var oo=Yr;var eC=["vform"];function tC(n,l){if(n&1){let e=I();r(0,"button",24),E("click",function(){u(e);let t=m(2);return f(t.onActionNext())}),C(1,"i",25),c(2," < "),a()}}function iC(n,l){if(n&1){let e=I();r(0,"button",24),E("click",function(){u(e);let t=m(2);return f(t.onActionPervious())}),C(1,"i",25),c(2," > "),a()}}function nC(n,l){if(n&1&&(r(0,"tr")(1,"td"),c(2),a(),r(3,"td"),c(4),_(5,"localeDateTime"),a()()),n&2){let e=m(2);o(2),y("",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle,":"),o(2),M(g(5,2,e.dataModel.updatedDate))}}function oC(n,l){if(n&1&&(r(0,"tr")(1,"td"),c(2),_(3,"translate"),a(),r(4,"td"),c(5),a()()),n&2){let e=m(2);o(2),y("",g(3,2,"TITLE.CreatedYaer"),":"),o(3),M(e.dataModel.createdYaer)}}function rC(n,l){if(n&1&&(r(0,"tr")(1,"td"),c(2),_(3,"translate"),a(),r(4,"td"),c(5),a()()),n&2){let e=m(2);o(2),y("",g(3,2,"TITLE.ROOM"),":"),o(3),M(e.dataModel.partition)}}function aC(n,l){if(n&1&&(r(0,"tr")(1,"td"),c(2),a(),r(3,"td"),c(4),a()()),n&2){let e=m(2);o(2),y("",e.fieldsInfo.area==null?null:e.fieldsInfo.area.fieldTitle,":"),o(2),M(e.dataModel.area)}}function lC(n,l){if(n&1&&(r(0,"tr")(1,"td"),c(2),a(),r(3,"td",14),c(4),a()()),n&2){let e=m(2);o(2),y("",e.fieldsInfo.aboutAgentMobile==null?null:e.fieldsInfo.aboutAgentMobile.fieldTitle,":"),o(2),M(e.dataModel.aboutAgentMobile)}}function sC(n,l){if(n&1&&(r(0,"tr")(1,"td"),c(2),a(),r(3,"td",14),c(4),a()()),n&2){let e=m(2);o(2),y("",e.fieldsInfo.aboutAgentTel==null?null:e.fieldsInfo.aboutAgentTel.fieldTitle,":"),o(2),M(e.dataModel.aboutAgentTel)}}function dC(n,l){if(n&1&&(r(0,"tr")(1,"td"),c(2),a(),r(3,"td",14),c(4),a()()),n&2){let e=m(2);o(2),y("",e.fieldsInfo.aboutCustomerMobile==null?null:e.fieldsInfo.aboutCustomerMobile.fieldTitle,":"),o(2),M(e.dataModel.aboutCustomerMobile)}}function cC(n,l){if(n&1&&(r(0,"tr")(1,"td"),c(2),a(),r(3,"td",14),c(4),a()()),n&2){let e=m(2);o(2),y("",e.fieldsInfo.aboutCustomerTel==null?null:e.fieldsInfo.aboutCustomerTel.fieldTitle,":"),o(2),M(e.dataModel.aboutCustomerTel)}}function pC(n,l){if(n&1&&(r(0,"tr")(1,"td"),c(2),a(),r(3,"td"),c(4),a()()),n&2){let e=m(2);o(2),y("",e.fieldsInfo.address==null?null:e.fieldsInfo.address.fieldTitle,":"),o(2),M(e.dataModel.address)}}function mC(n,l){if(n&1&&(r(0,"tr")(1,"td"),c(2),_(3,"translate"),a(),r(4,"td"),c(5),a()()),n&2){let e=m(2);o(2),y("",g(3,2,"TITLE.General_Description"),":"),o(3),M(e.dataModel.description)}}function uC(n,l){if(n&1&&(r(0,"tr")(1,"td"),c(2),_(3,"translate"),a(),r(4,"td"),c(5),a()()),n&2){let e=m(2);o(2),y("",g(3,2,"TITLE.Description_Hidden"),":"),o(3),M(e.dataModel.descriptionHidden)}}function fC(n,l){if(n&1&&(r(0,"tr")(1,"td"),c(2),a(),r(3,"td"),c(4),a()()),n&2){let e=m(2);o(2),y("",e.fieldsInfo.addressHidden==null?null:e.fieldsInfo.addressHidden.fieldTitle,":"),o(2),M(e.dataModel.addressHidden)}}function _C(n,l){n&1&&(r(0,"mat-header-cell"),c(1),_(2,"translate"),a()),n&2&&(o(),y(" ",g(2,1,"TITLE.Contract")," "))}function gC(n,l){if(n&1&&(r(0,"mat-cell"),c(1),_(2,"cmstitle"),a()),n&2){let e=l.$implicit,i=m(3);o(),y(" ",oi(2,1,e.linkEstateContractTypeId,i.dataModelEstateContractTypeResult.listItems)," ")}}function hC(n,l){n&1&&(r(0,"mat-header-cell"),c(1),_(2,"translate"),a()),n&2&&(o(),y(" ",g(2,1,"TITLE.Price")," "))}function yC(n,l){if(n&1&&(A(0),c(1),_(2,"translate"),_(3,"number"),P()),n&2){let e=m(2).$implicit,i=m(3);o(),$(" (",g(2,2,"TITLE.SQUARE_METERS")," :",oi(3,4,e.salePrice/i.dataModel.area,"1.0-0"),") ")}}function CC(n,l){if(n&1&&(A(0),c(1),_(2,"translate"),_(3,"number"),C(4,"br"),c(5),S(6,yC,4,7,"ng-container",8),P()),n&2){let e=m().$implicit,i=m(3);o(),$(" ",g(2,5,"TITLE.SalePrice"),": ",g(3,7,e.salePrice)," "),o(4),$("( ",e.currencyTitle," ",e.currencySymbol," ) "),o(),d("ngIf",i.dataModel.area>0)}}function SC(n,l){n&1&&(A(0),c(1),_(2,"translate"),_(3,"translate"),P()),n&2&&(o(),$(" ",g(2,2,"TITLE.SalePrice"),": ",g(3,4,"TITLE.PriceByAgreement")," "))}function vC(n,l){if(n&1&&(A(0),c(1),_(2,"translate"),_(3,"number"),C(4,"br"),c(5),P()),n&2){let e=m().$implicit;o(),$(" ",g(2,4,"TITLE.DepositPrice"),": ",g(3,6,e.depositPrice)),o(4),$(" ( ",e.currencyTitle," ",e.currencySymbol," ) ")}}function EC(n,l){n&1&&(A(0),c(1),_(2,"translate"),_(3,"translate"),P()),n&2&&(o(),$(" ",g(2,2,"TITLE.DepositPrice"),": ",g(3,4,"TITLE.PriceByAgreement")," "))}function IC(n,l){if(n&1&&(A(0),c(1),_(2,"translate"),_(3,"number"),C(4,"br"),c(5),P()),n&2){let e=m().$implicit;o(),$(" ",g(2,4,"TITLE.RentPrice")," ",g(3,6,e.rentPrice)),o(4),$(" ( ",e.currencyTitle," ",e.currencySymbol," ) ")}}function MC(n,l){n&1&&(A(0),c(1),_(2,"translate"),_(3,"translate"),P()),n&2&&(o(),$(" ",g(2,2,"TITLE.RentPrice")," ",g(3,4,"TITLE.PriceByAgreement")," "))}function bC(n,l){if(n&1&&(A(0),c(1),_(2,"translate"),_(3,"number"),C(4,"br"),c(5),P()),n&2){let e=m().$implicit;o(),$(" ",g(2,4,"TITLE.PeriodPrice"),": ",g(3,6,e.periodPrice)," "),o(4),$(" ( ",e.currencyTitle," ",e.currencySymbol,") ")}}function TC(n,l){n&1&&(A(0),c(1),_(2,"translate"),_(3,"translate"),P()),n&2&&(o(),$(" ",g(2,2,"TITLE.PeriodPrice"),": ",g(3,4,"TITLE.PriceByAgreement")," "))}function wC(n,l){if(n&1&&(r(0,"mat-cell"),S(1,CC,7,9,"ng-container",8)(2,SC,4,6,"ng-container",8),C(3,"br"),S(4,vC,6,8,"ng-container",8)(5,EC,4,6,"ng-container",8),C(6,"br"),S(7,IC,6,8,"ng-container",8)(8,MC,4,6,"ng-container",8),C(9,"br"),S(10,bC,6,8,"ng-container",8)(11,TC,4,6,"ng-container",8),a()),n&2){let e=l.$implicit;o(),d("ngIf",e.salePrice>0),o(),d("ngIf",e.salePriceByAgreement),o(2),d("ngIf",e.depositPrice>0),o(),d("ngIf",e.depositPriceByAgreement),o(2),d("ngIf",e.rentPrice>0),o(),d("ngIf",e.rentPriceByAgreement),o(2),d("ngIf",e.periodPrice>0),o(),d("ngIf",e.periodPriceByAgreement)}}function xC(n,l){n&1&&(r(0,"mat-header-cell"),c(1),_(2,"translate"),a()),n&2&&(o(),y(" ",g(2,1,"TITLE.SalePrice")," "))}function AC(n,l){if(n&1&&(A(0),c(1),_(2,"number"),C(3,"br"),c(4),P()),n&2){let e=m().$implicit;o(),y(" ",g(2,3,e.salePrice)," "),o(3),$("( ",e.currencyTitle," ",e.currencySymbol," ) ")}}function PC(n,l){n&1&&(A(0),c(1),_(2,"translate"),P()),n&2&&(o(),y(" ",g(2,1,"TITLE.PriceByAgreement")," "))}function kC(n,l){if(n&1&&(r(0,"mat-cell"),S(1,AC,5,5,"ng-container",8)(2,PC,3,3,"ng-container",8),a()),n&2){let e=l.$implicit;o(),d("ngIf",e.salePrice>0),o(),d("ngIf",e.salePriceByAgreement)}}function DC(n,l){n&1&&(r(0,"mat-header-cell"),c(1),_(2,"translate"),a()),n&2&&(o(),y(" ",g(2,1,"TITLE.DepositPrice")," "))}function RC(n,l){if(n&1&&(A(0),c(1),_(2,"number"),C(3,"br"),c(4),P()),n&2){let e=m().$implicit;o(),y(" ",g(2,3,e.depositPrice)),o(3),$(" ( ",e.currencyTitle," ",e.currencySymbol," ) ")}}function LC(n,l){n&1&&(A(0),c(1),_(2,"translate"),P()),n&2&&(o(),y(" ",g(2,1,"TITLE.PriceByAgreement")," "))}function VC(n,l){if(n&1&&(r(0,"mat-cell"),S(1,RC,5,5,"ng-container",8)(2,LC,3,3,"ng-container",8),a()),n&2){let e=l.$implicit;o(),d("ngIf",e.depositPrice>0),o(),d("ngIf",e.depositPriceByAgreement)}}function OC(n,l){n&1&&(r(0,"mat-header-cell"),c(1),_(2,"translate"),a()),n&2&&(o(),y(" ",g(2,1,"TITLE.RentPrice")," "))}function FC(n,l){if(n&1&&(A(0),c(1),_(2,"number"),C(3,"br"),c(4),P()),n&2){let e=m().$implicit;o(),y(" ",g(2,3,e.rentPrice)),o(3),$(" ( ",e.currencyTitle," ",e.currencySymbol," ) ")}}function BC(n,l){n&1&&(A(0),c(1),_(2,"translate"),P()),n&2&&(o(),y(" ",g(2,1,"TITLE.PriceByAgreement")," "))}function NC(n,l){if(n&1&&(r(0,"mat-cell"),S(1,FC,5,5,"ng-container",8)(2,BC,3,3,"ng-container",8),a()),n&2){let e=l.$implicit;o(),d("ngIf",e.rentPrice>0),o(),d("ngIf",e.rentPriceByAgreement)}}function HC(n,l){n&1&&(r(0,"mat-header-cell"),c(1),_(2,"translate"),a()),n&2&&(o(),y(" ",g(2,1,"TITLE.PeriodPrice")," "))}function WC(n,l){if(n&1&&(A(0),c(1),_(2,"number"),C(3,"br"),c(4),P()),n&2){let e=m().$implicit;o(),y(" ",g(2,3,e.periodPrice)," "),o(3),$(" ( ",e.currencyTitle," ",e.currencySymbol,") ")}}function GC(n,l){n&1&&(A(0),c(1),_(2,"translate"),P()),n&2&&(o(),y(" ",g(2,1,"TITLE.PriceByAgreement")," "))}function UC(n,l){if(n&1&&(r(0,"mat-cell"),S(1,WC,5,5,"ng-container",8)(2,GC,3,3,"ng-container",8),a()),n&2){let e=l.$implicit;o(),d("ngIf",e.periodPrice>0),o(),d("ngIf",e.periodPriceByAgreement)}}function jC(n,l){n&1&&C(0,"mat-header-row")}function qC(n,l){if(n&1&&C(0,"mat-row"),n&2){let e=l.dataIndex;Se("ntk-row-odd",e%2)("ntk-row-even",!(e%2))}}function QC(n,l){if(n&1&&(r(0,"div",26)(1,"mat-table",27),A(2,28),S(3,_C,3,3,"mat-header-cell",29)(4,gC,3,4,"mat-cell",30),P(),A(5,31),S(6,hC,3,3,"mat-header-cell",29)(7,wC,12,8,"mat-cell",30),P(),A(8,32),S(9,xC,3,3,"mat-header-cell",29)(10,kC,3,2,"mat-cell",30),P(),A(11,33),S(12,DC,3,3,"mat-header-cell",29)(13,VC,3,2,"mat-cell",30),P(),A(14,34),S(15,OC,3,3,"mat-header-cell",29)(16,NC,3,2,"mat-cell",30),P(),A(17,35),S(18,HC,3,3,"mat-header-cell",29)(19,UC,3,2,"mat-cell",30),P(),S(20,jC,1,0,"mat-header-row",36)(21,qC,1,4,"mat-row",37),a()()),n&2){let e=m(2);o(),d("dataSource",e.optionTabledataSource),o(19),d("matHeaderRowDef",e.optionTabledisplayedColumns),o(),d("matRowDefColumns",e.optionTabledisplayedColumns)}}function zC(n,l){if(n&1){let e=I();r(0,"div",46),C(1,"i",47),c(2,"\xA0 "),r(3,"app-input-string",48),w("modelChange",function(t){u(e);let s=m(2).$implicit,h=m(3);return T(h.propertyDetails[s.id],t)||(h.propertyDetails[s.id]=t),f(t)}),a()()}if(n&2){let e=m(2).$implicit,i=m(3);o(),ye("color",e.iconColor),d("ngClass",e.iconFont),o(2),Vt(ve("color:'",e.iconColor,"';")),b("model",i.propertyDetails[e.id]),d("optionForceUseDefaultValue",e.configValueForceUseDefaultValue)("optionMultipleChoice",e.configValueMultipleChoice)("optionDefaultValue",e.configValueDefaultValues)("optionDisabled",!0)("optionDisplayOnlyValid",!0)("optionLabel",e.title)}}function YC(n,l){if(n&1){let e=I();r(0,"div",46),C(1,"i",47),c(2,"\xA0 "),r(3,"app-input-int",49),w("modelChange",function(t){u(e);let s=m(2).$implicit,h=m(3);return T(h.propertyDetails[s.id],t)||(h.propertyDetails[s.id]=t),f(t)}),a()()}if(n&2){let e=m(2).$implicit,i=m(3);o(),ye("color",e.iconColor),d("ngClass",e.iconFont),o(2),Vt(ve("color:'",e.iconColor,"';")),b("model",i.propertyDetails[e.id]),d("optionDisabled",!0)("optionLabel",e.title)}}function KC(n,l){if(n&1){let e=I();A(0),C(1,"i",47),c(2,"\xA0 "),r(3,"app-input-boolean",50),w("modelChange",function(t){u(e);let s=m(3).$implicit,h=m(3);return T(h.propertyDetails[s.id],t)||(h.propertyDetails[s.id]=t),f(t)}),c(4),a(),P()}if(n&2){let e=m(3).$implicit,i=m(3);o(),ye("color",e.iconColor),d("ngClass",e.iconFont),o(2),b("model",i.propertyDetails[e.id]),d("optionDisabled",!0),o(),y("",e.title," ")}}function ZC(n,l){if(n&1&&(r(0,"div",46),S(1,KC,5,6,"ng-container",8),a()),n&2){let e=m(2).$implicit,i=m(3);o(),d("ngIf",i.propertyDetails[e.id]==="true")}}function JC(n,l){if(n&1){let e=I();r(0,"div",46),C(1,"i",47),c(2,"\xA0 "),r(3,"app-input-float",49),w("modelChange",function(t){u(e);let s=m(2).$implicit,h=m(3);return T(h.propertyDetails[s.id],t)||(h.propertyDetails[s.id]=t),f(t)}),a()()}if(n&2){let e=m(2).$implicit,i=m(3);o(),ye("color",e.iconColor),d("ngClass",e.iconFont),o(2),Vt(ve("color:'",e.iconColor,"';")),b("model",i.propertyDetails[e.id]),d("optionDisabled",!0)("optionLabel",e.title)}}function XC(n,l){if(n&1){let e=I();r(0,"div",46),C(1,"i",47),c(2,"\xA0 "),r(3,"label"),c(4),a(),r(5,"app-input-date",50),w("modelChange",function(t){u(e);let s=m(2).$implicit,h=m(3);return T(h.propertyDetails[s.id],t)||(h.propertyDetails[s.id]=t),f(t)}),a()()}if(n&2){let e=m(2).$implicit,i=m(3);o(),ye("color",e.iconColor),d("ngClass",e.iconFont),o(2),Vt(ve("color:'",e.iconColor,"';")),o(),M(e.title),o(),b("model",i.propertyDetails[e.id]),d("optionDisabled",!0)}}function $C(n,l){if(n&1){let e=I();r(0,"div",46),C(1,"i",47),c(2,"\xA0 "),r(3,"app-input-textarea",49),w("modelChange",function(t){u(e);let s=m(2).$implicit,h=m(3);return T(h.propertyDetails[s.id],t)||(h.propertyDetails[s.id]=t),f(t)}),a()()}if(n&2){let e=m(2).$implicit,i=m(3);o(),ye("color",e.iconColor),d("ngClass",e.iconFont),o(2),Vt(ve("color:'",e.iconColor,"';")),b("model",i.propertyDetails[e.id]),d("optionDisabled",!0)("optionLabel",e.title)}}function eS(n,l){if(n&1){let e=I();r(0,"div",46),C(1,"i",47),c(2,"\xA0 "),r(3,"app-input-string",51),w("modelChange",function(t){u(e);let s=m(2).$implicit,h=m(3);return T(h.propertyDetails[s.id],t)||(h.propertyDetails[s.id]=t),f(t)}),a()()}if(n&2){let e=m(2).$implicit,i=m(3);o(),ye("color",e.iconColor),d("ngClass",e.iconFont),o(2),Vt(ve("color:'",e.iconColor,"';")),b("model",i.propertyDetails[e.id]),d("optionForceUseDefaultValue",e.configValueForceUseDefaultValue)("optionMultipleChoice",e.configValueMultipleChoice)("optionDefaultValue",e.configValueDefaultValues)("optionDisabled",!0)("optionLabel",e.title)}}function tS(n,l){if(n&1&&(A(0,43),S(1,zC,4,13,"div",44)(2,YC,4,9,"div",44)(3,ZC,2,1,"div",44)(4,JC,4,9,"div",44)(5,XC,6,9,"div",44)(6,$C,4,9,"div",44)(7,eS,4,12,"div",45),P()),n&2){let e=m().$implicit,i=m(3);d("ngSwitch",e.inputDataType),o(),d("ngSwitchCase",i.enumInputDataType.String),o(),d("ngSwitchCase",i.enumInputDataType.Int),o(),d("ngSwitchCase",i.enumInputDataType.Boolean),o(),d("ngSwitchCase",i.enumInputDataType.Float),o(),d("ngSwitchCase",i.enumInputDataType.Date),o(),d("ngSwitchCase",i.enumInputDataType.TextArea)}}function iS(n,l){if(n&1&&(A(0),S(1,tS,8,7,"ng-container",42),P()),n&2){let e=l.$implicit,i=m(3);o(),d("ngIf",i.propertyDetails[e.id]&&i.propertyDetails[e.id].length>0)}}function nS(n,l){if(n&1){let e=I();r(0,"button",52),E("click",function(){u(e);let t=m(3);return f(t.prevStep())}),c(1),_(2,"translate"),a()}n&2&&(o(),M(g(2,1,"ACTION.PREVIOUS")))}function oS(n,l){if(n&1){let e=I();r(0,"button",53),E("click",function(){u(e);let t=m(3);return f(t.nextStep())}),c(1),_(2,"translate"),a()}n&2&&(o(),M(g(2,1,"ACTION.NEXT")))}function rS(n,l){if(n&1){let e=I();r(0,"button",53),E("click",function(){u(e);let t=m(3);return f(t.nextStep())}),c(1),_(2,"translate"),a()}n&2&&(o(),M(g(2,1,"ACTION.END")))}function aS(n,l){if(n&1){let e=I();r(0,"mat-expansion-panel",38),E("opened",function(){let t=u(e).index,s=m(2);return f(s.setStep(t))}),r(1,"mat-expansion-panel-header")(2,"mat-panel-title"),c(3),a(),r(4,"mat-panel-description"),c(5),r(6,"mat-icon"),c(7),a()()(),S(8,iS,2,1,"ng-container",39),r(9,"mat-action-row"),S(10,nS,3,3,"button",40)(11,oS,3,3,"button",41)(12,rS,3,3,"button",41),a()()}if(n&2){let e=l.$implicit,i=l.index,t=m(2);d("expanded",t.step===i),o(3),y(" ",e.title," "),o(2),y(" ",e.description," "),o(2),M(e.iconFont),o(),d("ngForOf",e.propertyDetails),o(2),d("ngIf",i>0),o(),d("ngIf",i+1<t.dataModel.propertyDetailGroups.length),o(),d("ngIf",i+1===t.dataModel.propertyDetailGroups.length)}}function lS(n,l){if(n&1){let e=I();r(0,"button",24),E("click",function(){u(e);let t=m(3);return f(t.onActionNext())}),C(1,"i",25),c(2," < "),a()}}function sS(n,l){if(n&1){let e=I();r(0,"button",24),E("click",function(){u(e);let t=m(3);return f(t.onActionPervious())}),C(1,"i",25),c(2," > "),a()}}function dS(n,l){if(n&1){let e=I();r(0,"div",19)(1,"button",24),E("click",function(){u(e);let t=m(2);return f(t.onFormCancel())}),C(2,"i",25),c(3),_(4,"translate"),a(),S(5,lS,3,0,"button",10)(6,sS,3,0,"button",10),a()}if(n&2){let e=m(2);o(3),y(" ",g(4,3,"ACTION.CANCEL")," "),o(2),d("ngIf",e.requestNextItem&&(e.requestNextItem==null||e.requestNextItem.id==null?null:e.requestNextItem.id.length)>0),o(),d("ngIf",e.requestPerviousItem&&(e.requestPerviousItem==null||e.requestPerviousItem.id==null?null:e.requestPerviousItem.id.length)>0)}}function cS(n,l){if(n&1&&(A(0),r(1,"div",9),S(2,tC,3,0,"button",10)(3,iC,3,0,"button",10),C(4,"hr"),a(),r(5,"div",11)(6,"table",12)(7,"tbody")(8,"tr")(9,"td")(10,"b"),c(11),_(12,"translate"),a()(),r(13,"td")(14,"b"),c(15),a()()(),r(16,"tr")(17,"td")(18,"b"),c(19),a()(),r(20,"td")(21,"b"),c(22),a()()(),r(23,"tr")(24,"td"),c(25),_(26,"translate"),a(),r(27,"td"),c(28),a()(),r(29,"tr")(30,"td"),c(31),a(),r(32,"td"),C(33,"i",13),_(34,"statusIconClass"),a()(),r(35,"tr")(36,"td"),c(37),a(),r(38,"td"),c(39),a()(),r(40,"tr")(41,"td"),c(42),a(),r(43,"td"),c(44),_(45,"localeDateTime"),a()(),S(46,nC,6,4,"tr",8),r(47,"tr")(48,"td"),c(49),a(),r(50,"td",14),c(51),_(52,"cmsuserinfo"),_(53,"async"),a()(),S(54,oC,6,4,"tr",8),r(55,"tr")(56,"td"),c(57),_(58,"translate"),a(),r(59,"td"),c(60),C(61,"br"),c(62),a()(),S(63,rC,6,4,"tr",8)(64,aC,5,2,"tr",8)(65,lC,5,2,"tr",8)(66,sC,5,2,"tr",8)(67,dC,5,2,"tr",8)(68,cC,5,2,"tr",8)(69,pC,5,2,"tr",8)(70,mC,6,4,"tr",8)(71,uC,6,4,"tr",8)(72,fC,5,2,"tr",8),a()(),C(73,"hr"),r(74,"p"),c(75),_(76,"translate"),a(),S(77,QC,22,3,"div",15),C(78,"hr"),r(79,"mat-accordion",16),S(80,aS,13,8,"mat-expansion-panel",17),C(81,"br"),a()(),r(82,"div",18)(83,"div",19)(84,"small",20),c(85),a(),r(86,"small",21),c(87),a()()(),r(88,"div",22),S(89,dS,7,5,"div",23),a(),P()),n&2){let e=m();o(2),d("ngIf",e.requestNextItem&&(e.requestNextItem==null||e.requestNextItem.id==null?null:e.requestNextItem.id.length)>0),o(),d("ngIf",e.requestPerviousItem&&(e.requestPerviousItem==null||e.requestPerviousItem.id==null?null:e.requestPerviousItem.id.length)>0),o(8),y(" ",g(12,37,"TITLE.Sharing_Key"),":"),o(4),M(e.dataModel.sharingKey),o(4),y("",e.fieldsInfo.caseCode==null?null:e.fieldsInfo.caseCode.fieldTitle,":"),o(3),M(e.dataModel.caseCode),o(3),y("",g(26,39,"TITLE.Property_Type"),":"),o(3),M(e.propertyTypeLanduse),o(3),y("",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle,":"),o(2),d("ngClass",g(34,41,e.dataModel.recordStatus)),o(4),y("",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle,":"),o(2),M(e.dataModel.title),o(3),y("",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle,":"),o(2),M(g(45,43,e.dataModel.createdDate)),o(2),d("ngIf",e.fieldsInfo.descriptionHidden==null?null:e.fieldsInfo.descriptionHidden.accessWatchField),o(3),y("",e.fieldsInfo.createdBy==null?null:e.fieldsInfo.createdBy.fieldTitle,":"),o(2),M(g(53,47,g(52,45,e.dataModel.createdBy))),o(3),d("ngIf",e.dataModel.createdYaer>0),o(3),y("",g(58,49,"TITLE.Region"),":"),o(3),M(e.dataModel.linkLocationIdParentTitle),o(2),M(e.dataModel.linkLocationIdTitle),o(),d("ngIf",e.dataModel.partition>0),o(),d("ngIf",e.dataModel.area>0),o(),d("ngIf",(e.dataModel.aboutAgentMobile==null?null:e.dataModel.aboutAgentMobile.length)>0),o(),d("ngIf",(e.dataModel.aboutAgentTel==null?null:e.dataModel.aboutAgentTel.length)>0),o(),d("ngIf",(e.dataModel.aboutCustomerMobile==null?null:e.dataModel.aboutCustomerMobile.length)>0),o(),d("ngIf",(e.dataModel.aboutCustomerTel==null?null:e.dataModel.aboutCustomerTel.length)>0),o(),d("ngIf",(e.dataModel.address==null?null:e.dataModel.address.length)>0),o(),d("ngIf",(e.dataModel.description==null?null:e.dataModel.description.length)>0),o(),d("ngIf",e.fieldsInfo.descriptionHidden==null?null:e.fieldsInfo.descriptionHidden.accessWatchField),o(),d("ngIf",e.fieldsInfo.addressHidden==null?null:e.fieldsInfo.addressHidden.accessWatchField),o(3),y(" ",g(76,51,"TITLE.List_Of_Transaction_Details_Of_This_Property")," "),o(2),d("ngIf",!e.publicHelper.processService.process.inRunAll),o(3),d("ngForOf",e.dataModel.propertyDetailGroups),o(5),y("",e.formInfo.formAlert," "),o(2),y("",e.formInfo.formError," "),o(2),d("ngIf",e.formInfo.formSubmitAllow&&!e.publicHelper.processService.process.inRunAll)}}var cl=class cl{constructor(l,e,i,t,s,h,p,D,z,he,je){this.data=l;this.dialogRef=e;this.coreEnumService=i;this.estatePropertyService=t;this.estateContractTypeService=s;this.cmsToastrService=h;this.tokenHelper=p;this.cmsStoreService=D;this.cdr=z;this.publicHelper=he;this.translate=je;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.tokenInfo=new St;this.dataModelResult=new G;this.dataModelEstateContractTypeResult=new G;this.dataModel=new Ki;this.formInfo=new me;this.fieldsInfo=new Map;this.optionTabledataSource=new li;this.optionTabledisplayedColumns=["LinkEstateContractTypeId","Price"];this.fileManagerOpenForm=!1;this.errorMessage="";this.propertyTypeLanduse="";this.contractType="";this.propertyDetails=new Map;this.enumInputDataType=Ri;this.step=0;this.publicHelper.processService.cdr=this.cdr,l&&(this.requestId=l.id+"",this.requestPerviousItem=l.perviousItem,this.requestNextItem=l.nextItem)}ngOnInit(){if(this.translate.get("TITLE.QUICK_VIEW").subscribe(l=>{this.formInfo.formTitle=l}),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.getEstateContractType(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.cmsApiStoreSubscribe=this.cmsStoreService.getState(l=>l.tokenInfoStore).subscribe(l=>re(this,null,function*(){this.tokenInfo=l,this.getEstateContractType()}))}ngOnDestroy(){this.cmsApiStoreSubscribe&&this.cmsApiStoreSubscribe.unsubscribe()}keyEvent(l){(l?.key==="39"||l?.key==="ArrowRight")&&this.onActionNext(),(l?.key==="37"||l?.key==="ArrowLeft")&&this.onActionPervious()}getEstateContractType(){let l=this.constructor.name+"getEstateContractType";this.translate.get("TITLE.Get_Estate_Contract_Type").subscribe(e=>{this.publicHelper.processService.processStart(l,e,this.constructorInfoAreaId)}),this.estateContractTypeService.ServiceGetAll(null).subscribe({next:e=>{this.dataModelEstateContractTypeResult=e,this.publicHelper.processService.processStop(l)},error:e=>{this.publicHelper.processService.processStop(l)}})}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError="";let l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(l,e,this.constructorInfoAreaId)}),this.estatePropertyService.setAccessLoad(),this.estatePropertyService.setAccessDataType(Be.Editor),this.estatePropertyService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModel=e.item,this.propertyTypeLanduse=this.dataModel.propertyTypeLanduse?.titleML,e.isSuccess?(this.optionTabledataSource.data=this.dataModel.contracts,this.formInfo.formTitle=this.formInfo.formTitle,this.formInfo.formAlert="",this.dataModel.propertyDetailGroups&&this.dataModel.propertyDetailGroups.forEach(i=>{i.propertyDetails.forEach(t=>{if(this.propertyDetails[t.id]=0,this.dataModel.propertyDetailValues){let s=this.dataModel.propertyDetailValues.find(h=>h.linkPropertyDetailId===t.id);s&&(this.propertyDetails[t.id]=s.value)}})})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError=e.errorMessage,this.errorMessage=e.errorMessage+"<br> ( "+e.errorTypeTitle+" ) ",this.cmsToastrService.typeErrorMessage(this.errorMessage)),this.publicHelper.processService.processStop(l)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(l,!1)}})}setStep(l){this.step=l}nextStep(){this.step++}prevStep(){this.step--}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}onActionNext(){this.dialogRef.close({dialogChangedDate:!0,onActionOpenItem:this.requestNextItem})}onActionPervious(){this.dialogRef.close({dialogChangedDate:!0,onActionOpenItem:this.requestPerviousItem})}};cl.\u0275fac=function(e){return new(e||cl)(v(be),v(Me),v(J),v(ui),v(xi),v(V),v(K),v(Z),v(B),v(F),v(L))},cl.\u0275cmp=R({type:cl,selectors:[["app-estate-property-quick-view"]],viewQuery:function(e,i){if(e&1&&ee(eC,5),e&2){let t;te(t=ie())&&(i.formGroup=t.first)}},hostBindings:function(e,i){e&1&&E("keyup",function(s){return i.keyEvent(s)},Jp)},standalone:!1,decls:12,vars:4,consts:[[1,"card","card-style","loader-container",2,"height","100vh","overflow-y","auto"],[3,"optionsInfoAreaId"],[1,"menu-title"],[1,"color-highlight"],[1,"close-menu",3,"click"],[1,"fa","fa-times-circle"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[4,"ngIf"],[1,"ntk-cms-html-card-header"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray",3,"click",4,"ngIf"],["dir","rtl",1,"ntk-cms-html-card-body","ntk-allow-text-selection"],[1,"table","table-striped","ntk-cms-html-table"],[3,"ngClass"],[1,"input-ltr-right"],["class","example-container mat-elevation-z8",4,"ngIf"],[1,"example-headers-align"],[3,"expanded","opened",4,"ngFor","ngForOf"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],[1,"example-container","mat-elevation-z8"],["multiTemplateDataRows","",3,"dataSource"],["matColumnDef","LinkEstateContractTypeId"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","Price"],["matColumnDef","SalePrice"],["matColumnDef","DepositPrice"],["matColumnDef","RentPrice"],["matColumnDef","PeriodPrice"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even",4,"matRowDef","matRowDefColumns"],[3,"opened","expanded"],[4,"ngFor","ngForOf"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-teal",3,"click",4,"ngIf"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-blue",3,"click",4,"ngIf"],[3,"ngSwitch",4,"ngIf"],[3,"ngSwitch"],["class","ntk-full-width",4,"ngSwitchCase"],["class","ntk-full-width",4,"ngSwitchDefault"],[1,"ntk-full-width"],["aria-hidden","true",3,"ngClass"],[3,"modelChange","model","optionForceUseDefaultValue","optionMultipleChoice","optionDefaultValue","optionDisabled","optionDisplayOnlyValid","optionLabel"],[3,"modelChange","model","optionDisabled","optionLabel"],[3,"modelChange","model","optionDisabled"],[3,"modelChange","model","optionForceUseDefaultValue","optionMultipleChoice","optionDefaultValue","optionDisabled","optionLabel"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue",3,"click"]],template:function(e,i){e&1&&(r(0,"div",0),C(1,"app-progress-spinner",1),r(2,"div",2)(3,"p",3),c(4),a(),r(5,"a",4),E("click",function(){return i.onFormCancel()}),C(6,"i",5),a(),C(7,"hr"),a(),r(8,"div",6)(9,"p",7),c(10),a(),S(11,cS,90,53,"ng-container",8),a()()),e&2&&(o(),d("optionsInfoAreaId",i.constructorInfoAreaId),o(3),y("",i.formInfo.formTitle," "),o(6),y(" ",i.formInfo.formDescription," "),o(),d("ngIf",!i.publicHelper.processService.process.inRunAll))},dependencies:[se,Ne,N,fo,_o,go,di,wo,Eo,Io,Mo,To,bo,Ee,it,ot,st,rt,nt,dt,at,lt,ct,pt,U,$n,eo,to,io,no,oo,He,ho,O,On,Ai,Jn,qt],encapsulation:2});var qo=cl;var pS=["vform"],mS=n=>({direction:n}),uS=()=>["fa"];function fS(n,l){n&1&&C(0,"i",35)}function _S(n,l){n&1&&C(0,"i",36)}function gS(n,l){n&1&&(r(0,"mat-error"),c(1," Title is "),r(2,"strong"),c(3),_(4,"translate"),a()()),n&2&&(o(3),M(g(4,1,"MESSAGE.required")))}function hS(n,l){n&1&&C(0,"i",35)}function yS(n,l){n&1&&C(0,"i",36)}function CS(n,l){n&1&&(r(0,"mat-error"),c(1," TitleResourceLanguage is "),r(2,"strong"),c(3),_(4,"translate"),a()()),n&2&&(o(3),M(g(4,1,"MESSAGE.required")))}function SS(n,l){if(n&1){let e=I();r(0,"div",18)(1,"label",37),c(2),a(),r(3,"input",38,4),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.titleResourceLanguage,t)||(s.dataModel.titleResourceLanguage=t),f(t)}),a(),S(5,hS,1,0,"i",21)(6,yS,1,0,"i",22),r(7,"em"),c(8),a(),S(9,CS,5,3,"mat-error",23),a()}if(n&2){let e=k(4),i=m();o(2),M(i.fieldsInfo.titleResourceLanguage==null?null:i.fieldsInfo.titleResourceLanguage.fieldTitle),o(),d("placeholder",x(i.fieldsInfo.titleResourceLanguage==null?null:i.fieldsInfo.titleResourceLanguage.fieldTitle)),b("ngModel",i.dataModel.titleResourceLanguage),d("disabled",!(i.fieldsInfo.titleResourceLanguage!=null&&i.fieldsInfo.titleResourceLanguage.accessEditField)),o(2),d("ngIf",!e.value),o(),d("ngIf",e.value),o(2),y("",e.value.length," / 100"),o(),d("ngIf",e.errors==null?null:e.errors.required)}}function vS(n,l){if(n&1){let e=I();r(0,"div",39)(1,"div",40)(2,"h5",41),c(3),a()(),r(4,"div",42)(5,"div",43)(6,"input",44),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.createdYearActive,t)||(s.dataModel.createdYearActive=t),f(t)}),a(),C(7,"label",45),a()()()}if(n&2){let e=m();o(3),M(e.fieldsInfo.createdYearActive==null?null:e.fieldsInfo.createdYearActive.fieldTitle),o(3),b("ngModel",e.dataModel.createdYearActive)}}function ES(n,l){n&1&&C(0,"i",35)}function IS(n,l){n&1&&C(0,"i",36)}function MS(n,l){n&1&&(r(0,"mat-error"),c(1," TitleCreatedYaer is "),r(2,"strong"),c(3),_(4,"translate"),a()()),n&2&&(o(3),M(g(4,1,"MESSAGE.required")))}function bS(n,l){if(n&1){let e=I();r(0,"div",18)(1,"label",46),c(2),a(),r(3,"input",47,5),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.titleCreatedYaer,t)||(s.dataModel.titleCreatedYaer=t),f(t)}),a(),S(5,ES,1,0,"i",21)(6,IS,1,0,"i",22),r(7,"em"),c(8),a(),S(9,MS,5,3,"mat-error",23),a()}if(n&2){let e=k(4),i=m();o(2),M(i.fieldsInfo.titleCreatedYaer==null?null:i.fieldsInfo.titleCreatedYaer.fieldTitle),o(),d("placeholder",x(i.fieldsInfo.titleCreatedYaer==null?null:i.fieldsInfo.titleCreatedYaer.fieldTitle)),b("ngModel",i.dataModel.titleCreatedYaer),o(2),d("ngIf",!e.value),o(),d("ngIf",e.value),o(2),y("",e.value.length," / 100"),o(),d("ngIf",e.errors==null?null:e.errors.required)}}function TS(n,l){if(n&1){let e=I();r(0,"div",18)(1,"label",48),c(2,"TitleCreatedYaerML"),a(),r(3,"input",49,6),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.titleCreatedYaerML,t)||(s.dataModel.titleCreatedYaerML=t),f(t)}),a()()}if(n&2){let e=m();o(3),d("placeholder",x(e.fieldsInfo.titleCreatedYaerML==null?null:e.fieldsInfo.titleCreatedYaerML.fieldTitle)),b("ngModel",e.dataModel.titleCreatedYaerML),d("disabled",!0)}}function wS(n,l){n&1&&C(0,"i",35)}function xS(n,l){n&1&&C(0,"i",36)}function AS(n,l){n&1&&(r(0,"mat-error"),c(1," TitleCreatedYaerResourceLanguage is "),r(2,"strong"),c(3),_(4,"translate"),a()()),n&2&&(o(3),M(g(4,1,"MESSAGE.required")))}function PS(n,l){if(n&1){let e=I();r(0,"div",18)(1,"label",50),c(2),a(),r(3,"input",51,7),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.titleCreatedYaerResourceLanguage,t)||(s.dataModel.titleCreatedYaerResourceLanguage=t),f(t)}),a(),S(5,wS,1,0,"i",21)(6,xS,1,0,"i",22),r(7,"em"),c(8),a(),S(9,AS,5,3,"mat-error",23),a()}if(n&2){let e=k(4),i=m();o(2),M(i.fieldsInfo.titleCreatedYaerResourceLanguage==null?null:i.fieldsInfo.titleCreatedYaerResourceLanguage.fieldTitle),o(),d("placeholder",x(i.fieldsInfo.titleCreatedYaerResourceLanguage==null?null:i.fieldsInfo.titleCreatedYaerResourceLanguage.fieldTitle)),b("ngModel",i.dataModel.titleCreatedYaerResourceLanguage),d("disabled",!(i.fieldsInfo.titleCreatedYaerResourceLanguage!=null&&i.fieldsInfo.titleCreatedYaerResourceLanguage.accessEditField)),o(2),d("ngIf",!e.value),o(),d("ngIf",e.value),o(2),y("",e.value.length," / 100"),o(),d("ngIf",e.errors==null?null:e.errors.required)}}function kS(n,l){if(n&1){let e=I();r(0,"div",39)(1,"div",40)(2,"h5",52),c(3),a()(),r(4,"div",42)(5,"div",43)(6,"input",53),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.partitionActive,t)||(s.dataModel.partitionActive=t),f(t)}),a(),C(7,"label",54),a()()()}if(n&2){let e=m();o(3),y(" ",e.fieldsInfo.partitionActive==null?null:e.fieldsInfo.partitionActive.fieldTitle),o(3),b("ngModel",e.dataModel.partitionActive)}}function DS(n,l){n&1&&C(0,"i",35)}function RS(n,l){n&1&&C(0,"i",36)}function LS(n,l){n&1&&(r(0,"mat-error"),c(1," TitlePartition is "),r(2,"strong"),c(3),_(4,"translate"),a()()),n&2&&(o(3),M(g(4,1,"MESSAGE.required")))}function VS(n,l){if(n&1){let e=I();r(0,"div",18)(1,"label",55),c(2),a(),r(3,"input",56,8),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.titlePartition,t)||(s.dataModel.titlePartition=t),f(t)}),a(),S(5,DS,1,0,"i",21)(6,RS,1,0,"i",22),r(7,"em"),c(8),a(),S(9,LS,5,3,"mat-error",23),a()}if(n&2){let e=k(4),i=m();o(2),M(i.fieldsInfo.titlePartition==null?null:i.fieldsInfo.titlePartition.fieldTitle),o(),d("placeholder",x(i.fieldsInfo.titlePartition==null?null:i.fieldsInfo.titlePartition.fieldTitle)),b("ngModel",i.dataModel.titlePartition),o(2),d("ngIf",!e.value),o(),d("ngIf",e.value),o(2),y("",e.value.length," / 100"),o(),d("ngIf",e.errors==null?null:e.errors.required)}}function OS(n,l){if(n&1){let e=I();r(0,"div",18)(1,"label",57),c(2,"TitlePartitionML"),a(),r(3,"input",58),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.titlePartitionML,t)||(s.dataModel.titlePartitionML=t),f(t)}),a()()}if(n&2){let e=m();o(3),b("ngModel",e.dataModel.titlePartitionML),d("disabled",!0)}}function FS(n,l){n&1&&C(0,"i",35)}function BS(n,l){n&1&&C(0,"i",36)}function NS(n,l){n&1&&(r(0,"mat-error"),c(1," TitlePartitionResourceLanguage is "),r(2,"strong"),c(3),_(4,"translate"),a()()),n&2&&(o(3),M(g(4,1,"MESSAGE.required")))}function HS(n,l){if(n&1){let e=I();r(0,"div",18)(1,"label",59),c(2),a(),r(3,"input",60,9),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.titlePartitionResourceLanguage,t)||(s.dataModel.titlePartitionResourceLanguage=t),f(t)}),a(),S(5,FS,1,0,"i",21)(6,BS,1,0,"i",22),r(7,"em"),c(8),a(),S(9,NS,5,3,"mat-error",23),a()}if(n&2){let e=k(4),i=m();o(2),M(i.fieldsInfo.titlePartitionResourceLanguage==null?null:i.fieldsInfo.titlePartitionResourceLanguage.fieldTitle),o(),d("placeholder",x(i.fieldsInfo.titlePartitionResourceLanguage==null?null:i.fieldsInfo.titlePartitionResourceLanguage.fieldTitle)),b("ngModel",i.dataModel.titlePartitionResourceLanguage),d("disabled",!(i.fieldsInfo.titlePartitionResourceLanguage!=null&&i.fieldsInfo.titlePartitionResourceLanguage.accessEditField)),o(2),d("ngIf",!e.value),o(),d("ngIf",e.value),o(2),y("",e.value.length," / 100"),o(),d("ngIf",e.errors==null?null:e.errors.required)}}function WS(n,l){n&1&&(r(0,"mat-error"),c(1," Description is "),r(2,"strong"),c(3),_(4,"translate"),a()()),n&2&&(o(3),M(g(4,1,"MESSAGE.required")))}function GS(n,l){if(n&1){let e=I();r(0,"div",18)(1,"label",61),c(2),a(),r(3,"input",62,10),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.iconFont,t)||(s.dataModel.iconFont=t),f(t)}),E("iconPickerSelect",function(t){u(e);let s=m();return f(s.onIconPickerSelect(t))}),a(),r(5,"span",63),C(6,"i",64),a()()}if(n&2){let e=m();o(2),M(e.fieldsInfo.iconFont==null?null:e.fieldsInfo.iconFont.fieldTitle),o(),d("placeholder",x(e.fieldsInfo.iconFont==null?null:e.fieldsInfo.iconFont.fieldTitle)),b("ngModel",e.dataModel.iconFont),d("iconPicker",e.dataModel.iconFont)("ipIconPack",le(9,uS))("ipPosition","top")("disabled",!(e.fieldsInfo.iconFont!=null&&e.fieldsInfo.iconFont.accessAddField)),o(3),d("ngClass",e.dataModel.iconFont)}}function US(n,l){if(n&1){let e=I();r(0,"div",18)(1,"label",65),c(2),a(),r(3,"div",66)(4,"div",67)(5,"input",68,11),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.iconColor,t)||(s.dataModel.iconColor=t),f(t)}),a()(),r(7,"div",69),C(8,"ngx-mat-color-toggle",70)(9,"ngx-mat-color-picker",71,12),a()()()}if(n&2){let e=k(10),i=m();o(2),M(i.fieldsInfo.iconColor==null?null:i.fieldsInfo.iconColor.fieldTitle),o(3),ye("background",i.dataModel.iconColor),d("placeholder",x(i.fieldsInfo.iconColor==null?null:i.fieldsInfo.iconColor.fieldTitle)),b("ngModel",i.dataModel.iconColor),d("ngxMatColorPicker",e)("disabled",!(i.fieldsInfo.iconColor!=null&&i.fieldsInfo.iconColor.accessAddField)),o(3),d("for",e),o(),d("touchUi",!0)("color","primary")}}function jS(n,l){if(n&1&&(C(0,"img",72),_(1,"cmsthumbnail")),n&2){let e=m();d("src",x(g(1,2,e.dataModel.linkMainImageIdSrc)),j)}}function qS(n,l){if(n&1){let e=I();r(0,"div",73)(1,"button",74),E("click",function(){u(e);let t=m();return f(t.onFormCancel())}),C(2,"i",75),c(3),_(4,"translate"),a(),r(5,"button",76),C(6,"i",77),c(7),_(8,"translate"),a()()}if(n&2){m();let e=k(9);o(3),y(" ",g(4,3,"ACTION.CANCEL")," "),o(2),d("disabled",!e.form.valid),o(2),y(" ",g(8,5,"ACTION.SAVE")," ")}}var ml=class ml extends Dt{constructor(e,i,t,s,h,p,D,z,he,je){super(s,new Gt,D,je);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.estatePropertyTypeLanduseService=s;this.cmsToastrService=h;this.cmsStoreService=p;this.publicHelper=D;this.cdr=z;this.tokenHelper=he;this.translate=je;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.tokenInfo=new St;this.dataModelResult=new G;this.dataModel=new Gt;this.formInfo=new me;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess()}onActionFileSelected(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}DataAddContent(){this.dataModel.iconColor=this.dataModel.iconColor?.toString(),this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estatePropertyTypeLanduseService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.formAlert=t}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e),this.formInfo.formSubmitAllow=!0},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onIconPickerSelect(e){this.dataModel.iconFont=e}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};ml.\u0275fac=function(i){return new(i||ml)(v(be),v(Me),v(J),v(yi),v(V),v(Z),v(F),v(B),v(K),v(L))},ml.\u0275cmp=R({type:ml,selectors:[["app-estate-property-type-landuse-add"]],viewQuery:function(i,t){if(i&1&&ee(pS,5),i&2){let s;te(s=ie())&&(t.formGroup=s.first)}},standalone:!1,features:[ne],decls:53,vars:55,consts:[["vform","ngForm"],["Title",""],["Description",""],["LinkMainImageId",""],["TitleResourceLanguage",""],["TitleCreatedYaer",""],["TitleCreatedYaerML",""],["TitleCreatedYaerResourceLanguage",""],["TitlePartition",""],["TitlePartitionResourceLanguage",""],["IconFont",""],["iconColor",""],["iconColorPicker",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit","ngStyle"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["type","text","name","dataModel.title","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","fa fa-times  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],[4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["class","d-flex mb-3",4,"ngIf"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openDirectUploadView","openForm","tree","openFilemanagerButtonLabelKey","selectFileType","openFilemanagerButtonView"],["class","form-actions",4,"ngIf"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.titleResourceLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleResourceLanguage","type","text","minlength","3","maxlength","100","required","","id","dataModel.titleResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.createdYearActive",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.createdYearActive","name","dataModel.createdYearActive",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.createdYearActive",1,"custom-control-label"],["for","dataModel.titleCreatedYaer",1,"color-highlight"],["type","text","name","dataModel.titleCreatedYaer","minlength","3","maxlength","100","required","","id","dataModel.titleCreatedYaer",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.titleCreatedYaerML",1,"color-highlight"],["type","text","name","dataModel.titleCreatedYaerML","id","dataModel.titleCreatedYaerML",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.titleCreatedYaerResourceLanguage",1,"color-highlight"],["type","text","name","dataModel.titleCreatedYaerResourceLanguage","minlength","3","maxlength","100","required","","id","dataModel.titleCreatedYaerResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["data-trigger-switch","dataModel.partitionActive",1,"font-600","font-14"],["type","checkbox","id","dataModel.partitionActive","name","dataModel.partitionActive",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.partitionActive",1,"custom-control-label"],["for","dataModel.titlePartition",1,"color-highlight"],["type","text","name","dataModel.titlePartition","minlength","3","maxlength","100","required","","id","dataModel.titlePartition",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.titlePartitionML",1,"color-highlight"],["type","text","name","dataModel.titlePartitionML","id","dataModel.titlePartitionML",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.titlePartitionResourceLanguage",1,"color-highlight"],["type","text","name","dataModel.titlePartitionResourceLanguage","minlength","3","maxlength","100","required","","id","dataModel.titlePartitionResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.iconFont",1,"color-highlight"],["matInput","","type","text","name","dataModel.iconFont","type","text","id","dataModel.iconFont",1,"form-control","validate-name",3,"ngModelChange","iconPickerSelect","ngModel","iconPicker","ipIconPack","ipPosition","placeholder","disabled"],[1,"input-group-addon"],[3,"ngClass"],["for","dataModel.iconColor",1,"color-highlight"],[1,"row","mb-0"],[1,"col-11","pe-0"],["matInput","","type","text","name","dataModel.iconColor","type","text","id","dataModel.iconColor",1,"form-control","validate-name",3,"ngModelChange","ngModel","ngxMatColorPicker","placeholder","disabled"],[1,"col-1","ps-0"],["matSuffix","",3,"for"],[3,"touchUi","color"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=I();r(0,"div",13),C(1,"app-progress-spinner",14),r(2,"div",15)(3,"p",16),c(4),a(),r(5,"p"),c(6),_(7,"translate"),a(),r(8,"form",17,0),E("ngSubmit",function(){return u(s),f(t.onFormSubmit())}),r(10,"div",18)(11,"label",19),c(12),a(),r(13,"input",20,1),w("ngModelChange",function(p){return u(s),T(t.dataModel.title,p)||(t.dataModel.title=p),f(p)}),a(),S(15,fS,1,0,"i",21)(16,_S,1,0,"i",22),r(17,"em"),c(18),a(),S(19,gS,5,3,"mat-error",23),a(),S(20,SS,10,9,"div",24)(21,vS,8,2,"div",25)(22,bS,10,8,"div",24)(23,TS,5,4,"div",24)(24,PS,10,9,"div",24)(25,kS,8,2,"div",25)(26,VS,10,8,"div",24)(27,OS,4,2,"div",24)(28,HS,10,9,"div",24),r(29,"div",18)(30,"label",26),c(31),a(),r(32,"textarea",27,2),w("ngModelChange",function(p){return u(s),T(t.dataModel.description,p)||(t.dataModel.description=p),f(p)}),c(34,"          "),a(),r(35,"em"),c(36),a(),S(37,WS,5,3,"mat-error",23),a(),S(38,GS,7,10,"div",24)(39,US,11,11,"div",24),r(40,"div",28)(41,"a",29),_(42,"cmsthumbnail"),S(43,jS,2,4,"img",30),a()(),r(44,"div",18)(45,"label",31),E("click",function(){return u(s),f(t.fileManagerOpenForm=!0)}),c(46),_(47,"translate"),a(),r(48,"input",32,3),_(50,"translate"),w("ngModelChange",function(p){return u(s),T(t.dataModel.linkMainImageId,p)||(t.dataModel.linkMainImageId=p),f(p)}),E("click",function(){return u(s),f(t.fileManagerOpenForm=!0)}),a(),r(51,"cms-file-manager",33),E("itemSelected",function(p){return u(s),f(t.onActionFileSelected(p))}),w("openFormChange",function(p){return u(s),T(t.fileManagerOpenForm,p)||(t.fileManagerOpenForm=p),f(p)}),a()(),S(52,qS,9,7,"div",34),a()()()}if(i&2){let s=k(14),h=k(33);o(),d("optionsInfoAreaId",t.constructorInfoAreaId),o(3),y(" ",t.formInfo.formTitle," "),o(2),y(" ",g(7,45,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),d("ngStyle",ze(53,mS,t.tokenInfo.access.direction)),o(4),M(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),b("ngModel",t.dataModel.title),o(2),d("ngIf",!s.value),o(),d("ngIf",s.value),o(2),y("",s.value.length," / 100"),o(),d("ngIf",s.errors==null?null:s.errors.required),o(),d("ngIf",t.fieldsInfo.titleResourceLanguage==null?null:t.fieldsInfo.titleResourceLanguage.accessWatchField),o(),d("ngIf",t.tokenHelper.isAdminSite||t.tokenHelper.isSupportSite),o(),d("ngIf",t.dataModel.createdYearActive),o(),d("ngIf",t.dataModel.createdYearActive),o(),d("ngIf",(t.fieldsInfo.titleCreatedYaerResourceLanguage==null?null:t.fieldsInfo.titleCreatedYaerResourceLanguage.accessWatchField)&&t.dataModel.createdYearActive),o(),d("ngIf",t.tokenHelper.isAdminSite||t.tokenHelper.isSupportSite),o(),d("ngIf",t.dataModel.partitionActive),o(),d("ngIf",t.dataModel.partitionActive),o(),d("ngIf",(t.fieldsInfo.titlePartitionResourceLanguage==null?null:t.fieldsInfo.titlePartitionResourceLanguage.accessWatchField)&&t.dataModel.partitionActive),o(3),M(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),b("ngModel",t.dataModel.description),o(4),y("",h.value.length," / 500"),o(),d("ngIf",h.errors==null?null:h.errors.required),o(),d("ngIf",t.fieldsInfo.iconFont==null?null:t.fieldsInfo.iconFont.accessWatchField),o(),d("ngIf",t.fieldsInfo.iconColor==null?null:t.fieldsInfo.iconColor.accessWatchField),o(2),d("href",x(g(42,47,t.dataModel.linkMainImageIdSrc)),j),o(2),d("ngIf",(t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0),o(3),M(g(47,49,"TITLE.PICTURE")),o(2),d("placeholder",x(g(50,51,"TITLE.Original_File_ID"))),b("ngModel",t.dataModel.linkMainImageId),o(3),d("language",t.appLanguage)("isPopup",!0)("openDirectUploadView",!0),b("openForm",t.fileManagerOpenForm),d("tree",t.fileManagerTree)("openFilemanagerButtonLabelKey","select")("selectFileType",t.selectFileTypeMainImage)("openFilemanagerButtonView",!1),o(),d("ngIf",t.formInfo.formSubmitAllow)}},dependencies:[se,N,tt,ke,Y,Ht,q,Te,de,De,Ae,ce,Pe,we,et,Q,U,ni,$t,Xt,Jt,ut,O,Ie],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});var ul=ml;function QS(n,l){if(n&1){let e=I();r(0,"li")(1,"mat-checkbox",1),E("change",function(){let t=u(e).$implicit,s=m();return f(s.onActionSelect(t))}),c(2),a()()}if(n&2){let e=l.$implicit,i=m();o(),d("checked",i.fieldsStatus.get(e.id))("disabled",i.optionDisabled),o(),y(" ",e.titleML," ")}}var fl=class fl{constructor(l,e,i,t,s,h,p,D){this.coreEnumService=l;this.categoryService=e;this.cdr=i;this.publicHelper=t;this.translate=s;this.tokenHelper=h;this.cmsStoreService=p;this.cmsToastrService=D;this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new G;this.dataModelSelect=[];this.dataIdsSelect=[];this.formControl=new Ct;this.fieldsStatus=new Map;this.optionDisabled=!1;this.optionSelectFirstItem=!1;this.optionPlaceholder="";this.optionChange=new Xe;this.optionSelectAdded=new Xe;this.optionSelectRemoved=new Xe;this.optionReload=()=>this.onActionButtonReload();this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(l){this.onActionSelectForce(l)}ngOnInit(){setTimeout(()=>{this.DataGetAll()},500),this.cmsApiStoreSubscribe=this.cmsStoreService.getState(l=>l.tokenInfoStore).subscribe(l=>re(this,null,function*(){this.DataGetAll()}))}ngOnDestroy(){this.cmsApiStoreSubscribe&&this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){let l=new pe;l.rowPerPage=50,l.accessLoad=!0;let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.categoryService.ServiceGetAll(l).subscribe({next:i=>{i.isSuccess?(this.dataModelResult=i,this.dataModelResult.listItems.forEach(t=>this.fieldsStatus.set(t.id,!1)),this.dataIdsSelect.forEach(t=>this.fieldsStatus.set(t,!0)),this.dataModelResult.listItems.forEach(t=>{this.fieldsStatus.get(t.id)&&this.dataModelSelect.push(t)})):this.cmsToastrService.typeErrorMessage(i.errorMessage),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelect(l){this.fieldsStatus.get(l.id)?(this.fieldsStatus.set(l.id,!1),this.optionSelectRemoved.emit(l),this.dataModelSelect.splice(this.dataModelSelect.indexOf(l),1)):(this.fieldsStatus.set(l.id,!0),this.optionSelectAdded.emit(l),this.dataModelSelect.push(l)),this.optionChange.emit(this.dataModelSelect)}onActionSelectForce(l){typeof l==typeof Array(String)?l.forEach(e=>{this.dataIdsSelect.push(e)}):typeof l==typeof Array(bn)&&l.forEach(e=>{this.dataIdsSelect.push(e.id)}),this.dataIdsSelect.forEach(e=>this.fieldsStatus.set(e,!0))}onActionButtonReload(){this.DataGetAll()}};fl.\u0275fac=function(e){return new(e||fl)(v(J),v(gn),v(B),v(F),v(L),v(K),v(Z),v(V))},fl.\u0275cmp=R({type:fl,selectors:[["app-estate-property-type-usage-selectionlist"]],inputs:{optionDisabled:"optionDisabled",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange",optionSelectAdded:"optionSelectAdded",optionSelectRemoved:"optionSelectRemoved"},standalone:!1,decls:2,vars:1,consts:[[4,"ngFor","ngForOf"],[3,"change","checked","disabled"]],template:function(e,i){e&1&&(r(0,"ul"),S(1,QS,3,3,"li",0),a()),e&2&&(o(),d("ngForOf",i.dataModelResult.listItems))},dependencies:[Ne,Aa],encapsulation:2});var xc=fl;var YS=["vform"],KS=n=>({direction:n}),ZS=()=>["fa"];function JS(n,l){n&1&&C(0,"i",39)}function XS(n,l){n&1&&C(0,"i",40)}function $S(n,l){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),_(4,"translate"),a()()),n&2){let e=m();o(),y(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," is "),o(2),M(g(4,2,"MESSAGE.required"))}}function ev(n,l){n&1&&C(0,"i",39)}function tv(n,l){n&1&&C(0,"i",40)}function iv(n,l){n&1&&(r(0,"mat-error"),c(1," TitleResourceLanguage is "),r(2,"strong"),c(3),_(4,"translate"),a()()),n&2&&(o(3),M(g(4,1,"MESSAGE.required")))}function nv(n,l){if(n&1){let e=I();r(0,"div",19)(1,"label",41),c(2),a(),r(3,"input",42,5),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.titleResourceLanguage,t)||(s.dataModel.titleResourceLanguage=t),f(t)}),a(),S(5,ev,1,0,"i",22)(6,tv,1,0,"i",23),r(7,"em"),c(8),a(),S(9,iv,5,3,"mat-error",24),a()}if(n&2){let e=k(4),i=m();o(2),M(i.fieldsInfo.titleResourceLanguage==null?null:i.fieldsInfo.titleResourceLanguage.fieldTitle),o(),d("placeholder",x(i.fieldsInfo.titleResourceLanguage==null?null:i.fieldsInfo.titleResourceLanguage.fieldTitle)),b("ngModel",i.dataModel.titleResourceLanguage),d("disabled",!(i.fieldsInfo.titleResourceLanguage!=null&&i.fieldsInfo.titleResourceLanguage.accessEditField)),o(2),d("ngIf",!e.value),o(),d("ngIf",e.value),o(2),y("",e.value.length," / 100"),o(),d("ngIf",e.errors==null?null:e.errors.required)}}function ov(n,l){if(n&1){let e=I();r(0,"div",43)(1,"div",44)(2,"h5",45),c(3),a()(),r(4,"div",46)(5,"div",47)(6,"input",48),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.createdYearActive,t)||(s.dataModel.createdYearActive=t),f(t)}),a(),C(7,"label",49),a()()()}if(n&2){let e=m();o(3),y(" ",e.fieldsInfo.createdYearActive==null?null:e.fieldsInfo.createdYearActive.fieldTitle),o(3),b("ngModel",e.dataModel.createdYearActive)}}function rv(n,l){n&1&&C(0,"i",39)}function av(n,l){n&1&&C(0,"i",40)}function lv(n,l){n&1&&(r(0,"mat-error"),c(1," TitleCreatedYaer is "),r(2,"strong"),c(3),_(4,"translate"),a()()),n&2&&(o(3),M(g(4,1,"MESSAGE.required")))}function sv(n,l){if(n&1){let e=I();r(0,"div",19)(1,"label",50),c(2),a(),r(3,"input",51,6),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.titleCreatedYaer,t)||(s.dataModel.titleCreatedYaer=t),f(t)}),a(),S(5,rv,1,0,"i",22)(6,av,1,0,"i",23),r(7,"em"),c(8),a(),S(9,lv,5,3,"mat-error",24),a()}if(n&2){let e=k(4),i=m();o(2),M(i.fieldsInfo.titleCreatedYaer==null?null:i.fieldsInfo.titleCreatedYaer.fieldTitle),o(),d("placeholder",x(i.fieldsInfo.titleCreatedYaer==null?null:i.fieldsInfo.titleCreatedYaer.fieldTitle)),b("ngModel",i.dataModel.titleCreatedYaer),o(2),d("ngIf",!e.value),o(),d("ngIf",e.value),o(2),y("",e.value.length," / 100"),o(),d("ngIf",e.errors==null?null:e.errors.required)}}function dv(n,l){if(n&1){let e=I();r(0,"div",19)(1,"label",52),c(2,"TitleCreatedYaerML"),a(),r(3,"input",53,7),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.titleCreatedYaerML,t)||(s.dataModel.titleCreatedYaerML=t),f(t)}),a()()}if(n&2){let e=m();o(3),d("placeholder",x(e.fieldsInfo.titleCreatedYaerML==null?null:e.fieldsInfo.titleCreatedYaerML.fieldTitle)),b("ngModel",e.dataModel.titleCreatedYaerML),d("disabled",!0)}}function cv(n,l){n&1&&C(0,"i",39)}function pv(n,l){n&1&&C(0,"i",40)}function mv(n,l){n&1&&(r(0,"mat-error"),c(1," TitleCreatedYaerResourceLanguage is "),r(2,"strong"),c(3),_(4,"translate"),a()()),n&2&&(o(3),M(g(4,1,"MESSAGE.required")))}function uv(n,l){if(n&1){let e=I();r(0,"div",19)(1,"label",54),c(2),a(),r(3,"input",55,8),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.titleCreatedYaerResourceLanguage,t)||(s.dataModel.titleCreatedYaerResourceLanguage=t),f(t)}),a(),S(5,cv,1,0,"i",22)(6,pv,1,0,"i",23),r(7,"em"),c(8),a(),S(9,mv,5,3,"mat-error",24),a()}if(n&2){let e=k(4),i=m();o(2),M(i.fieldsInfo.titleCreatedYaerResourceLanguage==null?null:i.fieldsInfo.titleCreatedYaerResourceLanguage.fieldTitle),o(),d("placeholder",x(i.fieldsInfo.titleCreatedYaerResourceLanguage==null?null:i.fieldsInfo.titleCreatedYaerResourceLanguage.fieldTitle)),b("ngModel",i.dataModel.titleCreatedYaerResourceLanguage),d("disabled",!(i.fieldsInfo.titleCreatedYaerResourceLanguage!=null&&i.fieldsInfo.titleCreatedYaerResourceLanguage.accessEditField)),o(2),d("ngIf",!e.value),o(),d("ngIf",e.value),o(2),y("",e.value.length," / 100"),o(),d("ngIf",e.errors==null?null:e.errors.required)}}function fv(n,l){if(n&1){let e=I();r(0,"div",43)(1,"div",44)(2,"h5",56),c(3),a()(),r(4,"div",46)(5,"div",47)(6,"input",57),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.partitionActive,t)||(s.dataModel.partitionActive=t),f(t)}),a(),C(7,"label",58),a()()()}if(n&2){let e=m();o(3),y(" ",e.fieldsInfo.partitionActive==null?null:e.fieldsInfo.partitionActive.fieldTitle),o(3),b("ngModel",e.dataModel.partitionActive)}}function _v(n,l){n&1&&C(0,"i",39)}function gv(n,l){n&1&&C(0,"i",40)}function hv(n,l){n&1&&(r(0,"mat-error"),c(1," TitlePartition is "),r(2,"strong"),c(3),_(4,"translate"),a()()),n&2&&(o(3),M(g(4,1,"MESSAGE.required")))}function yv(n,l){if(n&1){let e=I();r(0,"div",19)(1,"label",59),c(2),a(),r(3,"input",60,9),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.titlePartition,t)||(s.dataModel.titlePartition=t),f(t)}),a(),S(5,_v,1,0,"i",22)(6,gv,1,0,"i",23),r(7,"em"),c(8),a(),S(9,hv,5,3,"mat-error",24),a()}if(n&2){let e=k(4),i=m();o(2),M(i.fieldsInfo.titlePartition==null?null:i.fieldsInfo.titlePartition.fieldTitle),o(),d("placeholder",x(i.fieldsInfo.titlePartition==null?null:i.fieldsInfo.titlePartition.fieldTitle)),b("ngModel",i.dataModel.titlePartition),o(2),d("ngIf",!e.value),o(),d("ngIf",e.value),o(2),y("",e.value.length," / 100"),o(),d("ngIf",e.errors==null?null:e.errors.required)}}function Cv(n,l){if(n&1){let e=I();r(0,"div",19)(1,"label",61),c(2,"TitlePartitionML"),a(),r(3,"input",62),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.titlePartitionML,t)||(s.dataModel.titlePartitionML=t),f(t)}),a()()}if(n&2){let e=m();o(3),b("ngModel",e.dataModel.titlePartitionML),d("disabled",!0)}}function Sv(n,l){n&1&&C(0,"i",39)}function vv(n,l){n&1&&C(0,"i",40)}function Ev(n,l){n&1&&(r(0,"mat-error"),c(1," TitlePartitionResourceLanguage is "),r(2,"strong"),c(3),_(4,"translate"),a()()),n&2&&(o(3),M(g(4,1,"MESSAGE.required")))}function Iv(n,l){if(n&1){let e=I();r(0,"div",19)(1,"label",63),c(2),a(),r(3,"input",64,10),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.titlePartitionResourceLanguage,t)||(s.dataModel.titlePartitionResourceLanguage=t),f(t)}),a(),S(5,Sv,1,0,"i",22)(6,vv,1,0,"i",23),r(7,"em"),c(8),a(),S(9,Ev,5,3,"mat-error",24),a()}if(n&2){let e=k(4),i=m();o(2),M(i.fieldsInfo.titlePartitionResourceLanguage==null?null:i.fieldsInfo.titlePartitionResourceLanguage.fieldTitle),o(),d("placeholder",x(i.fieldsInfo.titlePartitionResourceLanguage==null?null:i.fieldsInfo.titlePartitionResourceLanguage.fieldTitle)),b("ngModel",i.dataModel.titlePartitionResourceLanguage),d("disabled",!(i.fieldsInfo.titlePartitionResourceLanguage!=null&&i.fieldsInfo.titlePartitionResourceLanguage.accessEditField)),o(2),d("ngIf",!e.value),o(),d("ngIf",e.value),o(2),y("",e.value.length," / 100"),o(),d("ngIf",e.errors==null?null:e.errors.required)}}function Mv(n,l){n&1&&(r(0,"mat-error"),c(1," Description is "),r(2,"strong"),c(3),_(4,"translate"),a()()),n&2&&(o(3),M(g(4,1,"MESSAGE.required")))}function bv(n,l){if(n&1){let e=I();r(0,"div",19)(1,"label",65),c(2),a(),r(3,"input",66,11),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.iconFont,t)||(s.dataModel.iconFont=t),f(t)}),E("iconPickerSelect",function(t){u(e);let s=m();return f(s.onIconPickerSelect(t))}),a(),r(5,"span",67),C(6,"i",68),a()()}if(n&2){let e=m();o(2),M(e.fieldsInfo.iconFont==null?null:e.fieldsInfo.iconFont.fieldTitle),o(),d("placeholder",x(e.fieldsInfo.iconFont==null?null:e.fieldsInfo.iconFont.fieldTitle)),b("ngModel",e.dataModel.iconFont),d("iconPicker",e.dataModel.iconFont)("ipIconPack",le(9,ZS))("ipPosition","top")("disabled",!(e.fieldsInfo.iconFont!=null&&e.fieldsInfo.iconFont.accessAddField)),o(3),d("ngClass",e.dataModel.iconFont)}}function Tv(n,l){if(n&1){let e=I();r(0,"div",19)(1,"label",69),c(2),a(),r(3,"div",70)(4,"div",71)(5,"input",72,12),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.iconColor,t)||(s.dataModel.iconColor=t),f(t)}),a()(),r(7,"div",73),C(8,"ngx-mat-color-toggle",74)(9,"ngx-mat-color-picker",75,13),a()()()}if(n&2){let e=k(10),i=m();o(2),M(i.fieldsInfo.iconColor==null?null:i.fieldsInfo.iconColor.fieldTitle),o(3),ye("background",i.dataModel.iconColor),d("placeholder",x(i.fieldsInfo.iconColor==null?null:i.fieldsInfo.iconColor.fieldTitle)),b("ngModel",i.dataModel.iconColor),d("ngxMatColorPicker",e)("disabled",!(i.fieldsInfo.iconColor!=null&&i.fieldsInfo.iconColor.accessAddField)),o(3),d("for",e),o(),d("touchUi",!0)("color","primary")}}function wv(n,l){if(n&1&&(C(0,"img",76),_(1,"cmsthumbnail")),n&2){let e=m();d("src",x(g(1,2,e.dataModel.linkMainImageIdSrc)),j)}}function xv(n,l){if(n&1){let e=I();r(0,"div",77)(1,"button",78),E("click",function(){u(e);let t=m();return f(t.onFormCancel())}),C(2,"i",79),c(3),_(4,"translate"),a(),r(5,"button",80),C(6,"i",81),c(7),_(8,"translate"),a()()}if(n&2){m();let e=k(9);o(3),y(" ",g(4,3,"ACTION.CANCEL")," "),o(2),d("disabled",!e.form.valid),o(2),y(" ",g(8,5,"ACTION.SAVE")," ")}}var _l=class _l extends Bt{constructor(e,i,t,s,h,p,D,z,he,je,Ge){super(s,new Gt,z,Ge);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.estatePropertyTypeLanduseService=s;this.estatePropertyTypeService=h;this.cmsToastrService=p;this.cmsStoreService=D;this.publicHelper=z;this.cdr=he;this.tokenHelper=je;this.translate=Ge;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new Ft;this.dataModel=new Gt;this.formInfo=new me;this.fileManagerOpenForm=!1;this.dataEstatePropertyTypeUsageIds=[];this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore}ngOnInit(){if(this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.DataGetAllEstatePropertyUsage()}onActionFileSelected(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estatePropertyTypeLanduseService.setAccessLoad(),this.estatePropertyTypeLanduseService.setAccessDataType(Be.Editor),this.estatePropertyTypeLanduseService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataGetAllEstatePropertyUsage(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(s=>{this.formInfo.formAlert=s}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(s=>{this.publicHelper.processService.processStart(e,s,this.constructorInfoAreaId)});let i=new pe,t=new H;t.propertyName="LinkPropertyTypeLanduseId",t.value=this.requestId,i.filters.push(t),this.estatePropertyTypeService.ServiceGetAll(i).subscribe({next:s=>{this.dataEstatePropertyTypeModel=s.listItems;let h=[];this.dataEstatePropertyTypeModel.forEach(p=>{h.push(p.linkPropertyTypeUsageId)}),this.dataEstatePropertyTypeUsageIds=h,s.isSuccess?this.formInfo.formAlert="":(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(p=>{this.formInfo.formAlert=p}),this.formInfo.formError=s.errorMessage,this.cmsToastrService.typeErrorMessage(s.errorMessage)),this.publicHelper.processService.processStop(e)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.dataModel.iconColor=this.dataModel.iconColor?.toString(),this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estatePropertyTypeLanduseService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.formAlert=t}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e),this.formInfo.formSubmitAllow=!0},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorUserCategorySelect(e){this.dataEstatePropertyTypeUsageModel=e}onActionSelectorUserCategorySelectAdded(e){let i=new Br;i.linkPropertyTypeUsageId=e.id,i.linkPropertyTypeLanduseId=this.dataModel.id,this.estatePropertyTypeService.ServiceAdd(i).subscribe({next:t=>{t.isSuccess?(this.translate.get("MESSAGE.registration_in_this_group_was_successful").subscribe(s=>{this.formInfo.formAlert=s}),this.cmsToastrService.typeSuccessEdit()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(s=>{this.formInfo.formAlert=s}),this.formInfo.formError=t.errorMessage,this.cmsToastrService.typeErrorMessage(t.errorMessage))},error:t=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(t)}})}onActionSelectorUserCategorySelectRemoved(e){let i=new Br;i.linkPropertyTypeUsageId=e.id,i.linkPropertyTypeLanduseId=this.dataModel.id,this.estatePropertyTypeService.ServiceDeleteEntity(i).subscribe({next:t=>{t.isSuccess?(this.translate.get("MESSAGE.Deletion_from_this_group_Was_Successful").subscribe(s=>{this.formInfo.formAlert=s}),this.cmsToastrService.typeSuccessEdit()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(s=>{this.formInfo.formAlert=s}),this.formInfo.formError=t.errorMessage,this.cmsToastrService.typeErrorMessage(t.errorMessage))},error:t=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(t)}})}onIconPickerSelect(e){this.dataModel.iconFont=e}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};_l.\u0275fac=function(i){return new(i||_l)(v(be),v(Me),v(J),v(yi),v(dn),v(V),v(Z),v(F),v(B),v(K),v(L))},_l.\u0275cmp=R({type:_l,selectors:[["app-estate-property-type-landuse-edit"]],viewQuery:function(i,t){if(i&1&&ee(YS,5),i&2){let s;te(s=ie())&&(t.formGroup=s.first)}},standalone:!1,features:[ne],decls:59,vars:61,consts:[["vform","ngForm"],["Title",""],["TitleML",""],["Description",""],["LinkMainImageId",""],["TitleResourceLanguage",""],["TitleCreatedYaer",""],["TitleCreatedYaerML",""],["TitleCreatedYaerResourceLanguage",""],["TitlePartition",""],["TitlePartitionResourceLanguage",""],["IconFont",""],["iconColor",""],["iconColorPicker",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit","ngStyle"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["type","text","name","dataModel.title","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","fa fa-times  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],[4,"ngIf"],["for","dataModel.titleML",1,"color-highlight"],["type","text","name","dataModel.titleML","minlength","3","maxlength","100","required","","id","dataModel.titleML",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["class","d-flex mb-3",4,"ngIf"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openDirectUploadView","openForm","tree","openFilemanagerButtonLabelKey","selectFileType","openFilemanagerButtonView"],[3,"optionChange","optionSelectAdded","optionSelectRemoved","optionSelectForce","optionDisabled"],["class","form-actions",4,"ngIf"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.titleResourceLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleResourceLanguage","type","text","minlength","3","maxlength","100","required","","id","dataModel.titleResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.createdYearActive",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.createdYearActive","name","dataModel.createdYearActive",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.createdYearActive",1,"custom-control-label"],["for","dataModel.titleCreatedYaer",1,"color-highlight"],["type","text","name","dataModel.titleCreatedYaer","minlength","3","maxlength","100","required","","id","dataModel.titleCreatedYaer",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.titleCreatedYaerML",1,"color-highlight"],["type","text","name","dataModel.titleCreatedYaerML","id","dataModel.titleCreatedYaerML",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.titleCreatedYaerResourceLanguage",1,"color-highlight"],["type","text","name","dataModel.titleCreatedYaerResourceLanguage","minlength","3","maxlength","100","required","","id","dataModel.titleCreatedYaerResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["data-trigger-switch","dataModel.partitionActive",1,"font-600","font-14"],["type","checkbox","id","dataModel.partitionActive","name","dataModel.partitionActive",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.partitionActive",1,"custom-control-label"],["for","dataModel.titlePartition",1,"color-highlight"],["type","text","name","dataModel.titlePartition","minlength","3","maxlength","100","required","","id","dataModel.titlePartition",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.titlePartitionML",1,"color-highlight"],["type","text","name","dataModel.titlePartitionML","id","dataModel.titlePartitionML",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.titlePartitionResourceLanguage",1,"color-highlight"],["type","text","name","dataModel.titlePartitionResourceLanguage","minlength","3","maxlength","100","required","","id","dataModel.titlePartitionResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.iconFont",1,"color-highlight"],["matInput","","type","text","name","dataModel.iconFont","type","text","id","dataModel.iconFont",1,"form-control","validate-name",3,"ngModelChange","iconPickerSelect","ngModel","iconPicker","ipIconPack","ipPosition","placeholder","disabled"],[1,"input-group-addon"],[3,"ngClass"],["for","dataModel.iconColor",1,"color-highlight"],[1,"row","mb-0"],[1,"col-11","pe-0"],["matInput","","type","text","name","dataModel.iconColor","type","text","id","dataModel.iconColor",1,"form-control","validate-name",3,"ngModelChange","ngModel","ngxMatColorPicker","placeholder","disabled"],[1,"col-1","ps-0"],["matSuffix","",3,"for"],[3,"touchUi","color"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=I();r(0,"div",14),C(1,"app-progress-spinner",15),r(2,"div",16)(3,"p",17),c(4),a(),r(5,"p"),c(6),_(7,"translate"),a(),r(8,"form",18,0),E("ngSubmit",function(){return u(s),f(t.onFormSubmit())}),r(10,"div",19)(11,"label",20),c(12),a(),r(13,"input",21,1),w("ngModelChange",function(p){return u(s),T(t.dataModel.title,p)||(t.dataModel.title=p),f(p)}),a(),S(15,JS,1,0,"i",22)(16,XS,1,0,"i",23),r(17,"em"),c(18),a(),S(19,$S,5,4,"mat-error",24),a(),r(20,"div",19)(21,"label",25),c(22,"TitleML"),a(),r(23,"input",26,2),w("ngModelChange",function(p){return u(s),T(t.dataModel.titleML,p)||(t.dataModel.titleML=p),f(p)}),a()(),S(25,nv,10,9,"div",27)(26,ov,8,2,"div",28)(27,sv,10,8,"div",27)(28,dv,5,4,"div",27)(29,uv,10,9,"div",27)(30,fv,8,2,"div",28)(31,yv,10,8,"div",27)(32,Cv,4,2,"div",27)(33,Iv,10,9,"div",27),r(34,"div",19)(35,"label",29),c(36),a(),r(37,"textarea",30,3),w("ngModelChange",function(p){return u(s),T(t.dataModel.description,p)||(t.dataModel.description=p),f(p)}),c(39,"          "),a(),r(40,"em"),c(41),a(),S(42,Mv,5,3,"mat-error",24),a(),S(43,bv,7,10,"div",27)(44,Tv,11,11,"div",27),r(45,"div",31)(46,"a",32),_(47,"cmsthumbnail"),S(48,wv,2,4,"img",33),a()(),r(49,"div",19)(50,"label",34),E("click",function(){return u(s),f(t.fileManagerOpenForm=!0)}),c(51),_(52,"translate"),a(),r(53,"input",35,4),_(55,"translate"),w("ngModelChange",function(p){return u(s),T(t.dataModel.linkMainImageId,p)||(t.dataModel.linkMainImageId=p),f(p)}),E("click",function(){return u(s),f(t.fileManagerOpenForm=!0)}),a(),r(56,"cms-file-manager",36),E("itemSelected",function(p){return u(s),f(t.onActionFileSelected(p))}),w("openFormChange",function(p){return u(s),T(t.fileManagerOpenForm,p)||(t.fileManagerOpenForm=p),f(p)}),a()(),r(57,"app-estate-property-type-usage-selectionlist",37),E("optionChange",function(p){return u(s),f(t.onActionSelectorUserCategorySelect(p))})("optionSelectAdded",function(p){return u(s),f(t.onActionSelectorUserCategorySelectAdded(p))})("optionSelectRemoved",function(p){return u(s),f(t.onActionSelectorUserCategorySelectRemoved(p))}),a(),S(58,xv,9,7,"div",38),a()()()}if(i&2){let s=k(14),h=k(38);o(),d("optionsInfoAreaId",t.constructorInfoAreaId),o(3),y(" ",t.formInfo.formTitle," "),o(2),y(" ",g(7,51,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),d("ngStyle",ze(59,KS,t.tokenInfo.access.direction)),o(4),M(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),b("ngModel",t.dataModel.title),o(2),d("ngIf",!s.value),o(),d("ngIf",s.value),o(2),y("",s.value.length," / 100"),o(),d("ngIf",s.errors==null?null:s.errors.required),o(4),d("placeholder",x(t.fieldsInfo.titleML==null?null:t.fieldsInfo.titleML.fieldTitle)),b("ngModel",t.dataModel.titleML),d("disabled",!0),o(2),d("ngIf",t.fieldsInfo.titleResourceLanguage==null?null:t.fieldsInfo.titleResourceLanguage.accessWatchField),o(),d("ngIf",t.tokenHelper.isAdminSite||t.tokenHelper.isSupportSite),o(),d("ngIf",t.dataModel.createdYearActive),o(),d("ngIf",t.dataModel.createdYearActive),o(),d("ngIf",(t.fieldsInfo.titleCreatedYaerResourceLanguage==null?null:t.fieldsInfo.titleCreatedYaerResourceLanguage.accessWatchField)&&t.dataModel.createdYearActive),o(),d("ngIf",t.tokenHelper.isAdminSite||t.tokenHelper.isSupportSite),o(),d("ngIf",t.dataModel.partitionActive),o(),d("ngIf",t.dataModel.partitionActive),o(),d("ngIf",(t.fieldsInfo.titlePartitionResourceLanguage==null?null:t.fieldsInfo.titlePartitionResourceLanguage.accessWatchField)&&t.dataModel.partitionActive),o(3),M(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),b("ngModel",t.dataModel.description),o(4),y("",h.value.length," / 500"),o(),d("ngIf",h.errors==null?null:h.errors.required),o(),d("ngIf",t.fieldsInfo.iconFont==null?null:t.fieldsInfo.iconFont.accessWatchField),o(),d("ngIf",t.fieldsInfo.iconColor==null?null:t.fieldsInfo.iconColor.accessWatchField),o(2),d("href",x(g(47,53,t.dataModel.linkMainImageIdSrc)),j),o(2),d("ngIf",(t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0),o(3),M(g(52,55,"TITLE.PICTURE")),o(2),d("placeholder",x(g(55,57,"TITLE.Original_File_ID"))),b("ngModel",t.dataModel.linkMainImageId),o(3),d("language",t.appLanguage)("isPopup",!0)("openDirectUploadView",!0),b("openForm",t.fileManagerOpenForm),d("tree",t.fileManagerTree)("openFilemanagerButtonLabelKey","select")("selectFileType",t.selectFileTypeMainImage)("openFilemanagerButtonView",!1),o(),d("optionSelectForce",t.dataEstatePropertyTypeUsageIds)("optionDisabled",!1),o(),d("ngIf",t.formInfo.formSubmitAllow)}},dependencies:[se,N,tt,ke,Y,Ht,q,Te,de,De,Ae,ce,Pe,we,et,Q,U,ni,$t,Xt,Jt,ut,xc,O,Ie],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});var gl=_l;function Av(n,l){if(n&1){let e=I();r(0,"button",13),E("click",function(){u(e);let t=m();return f(t.onActionAdd())}),c(1),_(2,"translate"),a()}n&2&&(o(),M(g(2,1,"ACTION.ADD")))}function Pv(n,l){if(n&1){let e=I();r(0,"button",14),E("click",function(){u(e);let t=m();return f(t.onActionEdit())}),c(1),_(2,"translate"),a()}n&2&&(o(),M(g(2,1,"ACTION.EDIT")))}function kv(n,l){if(n&1){let e=I();r(0,"button",15),E("click",function(){u(e);let t=m();return f(t.onActionDelete())}),c(1),_(2,"translate"),a()}n&2&&(o(),M(g(2,1,"ACTION.DELETE")))}function Dv(n,l){if(n&1){let e=I();r(0,"button",16),E("click",function(){u(e);let t=m();return f(t.onActionButtonReload())}),r(1,"mat-icon",17),_(2,"translate"),c(3,"refresh"),a()()}n&2&&(o(),d("title",x(g(2,2,"ACTION.RELOAD"))))}function Rv(n,l){if(n&1){let e=I();r(0,"mat-tree-node",18),E("click",function(){let t=u(e).$implicit,s=m();return f(s.onActionSelect(t))}),C(1,"button",19)(2,"i",20),c(3),a()}if(n&2){let e=l.$implicit,i=l.dataIndex,t=m();Se("ntk-tree-odd",i%2)("ntk-tree-even",!(i%2))("ntk-tree-selected",(t.dataModelSelect.id==null?null:t.dataModelSelect.id.length)>0&&(t.dataModelSelect==null?null:t.dataModelSelect.id)===e.id),o(2),ye("color",e.IconColor),d("ngClass",e.IconFont),o(),y(" ",e.title," ")}}function Lv(n,l){if(n&1){let e=I();r(0,"mat-nested-tree-node")(1,"li")(2,"div",21),E("click",function(){let t=u(e).$implicit,s=m();return f(s.onActionSelect(t))}),r(3,"button",22),E("click",function(){let t=u(e).$implicit,s=m();return f(s.onActionSelect(t))}),r(4,"mat-icon",23),c(5),a()(),C(6,"i",20),c(7),a(),r(8,"ul"),Qe(9,24),a()()()}if(n&2){let e=l.$implicit,i=m();o(2),Se("ntk-tree-selected",(i.dataModelSelect==null||i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0&&(i.dataModelSelect==null?null:i.dataModelSelect.id)===e.id),o(),yt("aria-label","Toggle "+e.title),o(2),y(" ",i.treeControl.isExpanded(e)?"expand_more":"chevron_right"," "),o(),ye("color",e.IconColor),d("ngClass",e.IconFont),o(),y(" ",e.title," "),o(),Se("category-tree-invisible",!i.treeControl.isExpanded(e))}}var hl=class hl{constructor(l,e,i,t,s,h,p,D,z,he){this.cmsToastrService=l;this.coreEnumService=e;this.categoryService=i;this.cmsConfirmationDialogService=t;this.dialog=s;this.cdr=h;this.publicHelper=p;this.translate=D;this.tokenHelper=z;this.cmsStoreService=he;this.constructorInfoAreaId=this.constructor.name;this.dataModelSelect=new Gt;this.dataModelResult=new G;this.filterModel=new pe;this.treeControl=new xo(l=>null);this.dataSource=new Oo;this.optionChange=new Xe;this.optionReload=()=>this.onActionButtonReload();this.hasChild=(l,e)=>!1;this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(l){this.onActionSelectForce(l)}ngOnInit(){setTimeout(()=>{this.DataGetAll()},500),this.cmsApiStoreSubscribe=this.cmsStoreService.getState(l=>l.tokenInfoStore).subscribe(l=>re(this,null,function*(){this.DataGetAll()}))}ngOnDestroy(){this.cmsApiStoreSubscribe&&this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.filterModel.rowPerPage=200,this.filterModel.accessLoad=!0;let l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(l,e,this.constructorInfoAreaId)}),this.categoryService.ServiceGetAll(this.filterModel).subscribe({next:e=>{e.isSuccess?(this.dataModelResult=e,this.dataSource.data=this.dataModelResult.listItems):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(l)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(l,!1)}})}onActionSelect(l){this.dataModelSelect=l,this.optionChange.emit(this.dataModelSelect)}onActionButtonReload(){this.onActionSelect(null),this.dataModelSelect=new Gt,this.DataGetAll()}onActionSelectForce(l){}onActionAdd(){var l="";this.publicHelper.isMobile?l="dialog-fullscreen":l="dialog-min",this.dialog.open(ul,{height:"90%",panelClass:l,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(i=>{i&&i.dialogChangedDate&&this.DataGetAll()})}onActionEdit(){let l="";if(this.dataModelSelect&&this.dataModelSelect.id&&this.dataModelSelect.id.length>0&&(l=this.dataModelSelect.id),l===""){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorCategoryNotSelected").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(gl,{height:"90%",panelClass:e,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:l}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionDelete(){let l="";if(this.dataModelSelect&&this.dataModelSelect.id&&this.dataModelSelect.id.length>0&&(l=this.dataModelSelect.id),l===""){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorCategoryNotSelected").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}var e="",i="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(t=>{e=t["MESSAGE.Please_Confirm"],i=t["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.dataModelSelect.title+" ) ",this.cmsConfirmationDialogService.confirm(e,i).then(s=>{if(s){let h=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(p=>{this.publicHelper.processService.processStart(h,p,this.constructorInfoAreaId)}),this.categoryService.ServiceDelete(this.dataModelSelect.id).subscribe({next:p=>{p.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(h)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(h,!1)}})}}).catch(()=>{})})}};hl.\u0275fac=function(e){return new(e||hl)(v(V),v(J),v(yi),v(Mt),v(xe),v(B),v(F),v(L),v(K),v(Z))},hl.\u0275cmp=R({type:hl,selectors:[["app-estate-property-type-landuse-tree"]],inputs:{optionSelectForce:"optionSelectForce",optionReload:"optionReload"},outputs:{optionChange:"optionChange"},standalone:!1,decls:15,vars:14,consts:[[3,"optionHeaderDisplay","optionActionMainDisplay","optionFooterDisplay"],["cms-tree-header",""],["cms-tree-action",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-teal",3,"click",4,"ngIf"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-magenta",3,"click",4,"ngIf"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-red",3,"click",4,"ngIf"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-highlight",3,"click",4,"ngIf"],["cms-tree-body","",1,"loader-container"],[3,"optionsInfoAreaId"],[1,"category-tree","cursor-pointer",3,"dataSource","treeControl"],["matTreeNodePadding","",3,"ntk-tree-odd","ntk-tree-even","ntk-tree-selected","click",4,"matTreeNodeDef"],[4,"matTreeNodeDef","matTreeNodeDefWhen"],["cms-tree-footer",""],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[2,"font-size","20px","margin","-6px",3,"title"],["matTreeNodePadding","",3,"click"],["type","button","mat-icon-button","","disabled",""],["aria-hidden","true",3,"ngClass"],[1,"mat-tree-node",3,"click"],["type","button","mat-icon-button","","matTreeNodeToggle","",3,"click"],[1,"mat-icon-rtl-mirror"],["matTreeNodeOutlet",""]],template:function(e,i){e&1&&(r(0,"app-cms-html-tree",0),A(1,1),c(2),_(3,"translate"),P(),A(4,2),S(5,Av,3,3,"button",3)(6,Pv,3,3,"button",4)(7,kv,3,3,"button",5)(8,Dv,4,4,"button",6),P(),A(9,7),C(10,"app-progress-spinner",8),r(11,"mat-tree",9),S(12,Rv,4,10,"mat-tree-node",10)(13,Lv,10,10,"mat-nested-tree-node",11),a(),P(),Qe(14,12),a()),e&2&&(d("optionHeaderDisplay",!0)("optionActionMainDisplay",!0)("optionFooterDisplay",!1),o(2),y(" ",g(3,12,"TABLE."+(i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.moduleEntityName))," "),o(3),d("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessAddRow),o(),d("ngIf",(i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessEditRow)&&(i.dataModelSelect==null?null:i.dataModelSelect.id)>0),o(),d("ngIf",(i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessDeleteRow)&&i.dataModelSelect.id&&(i.dataModelSelect==null||i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0),o(),d("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessWatchRow),o(2),d("optionsInfoAreaId",i.constructorInfoAreaId),o(),d("dataSource",i.dataSource)("treeControl",i.treeControl),o(2),d("matTreeNodeDefWhen",i.hasChild))},dependencies:[se,N,Je,Ee,ko,Po,Do,Vo,Lo,Ao,Ro,U,Ho,O],encapsulation:2});var yl=hl;function Vv(n,l){n&1&&C(0,"div",10)}var Cl=class Cl{constructor(l,e,i,t,s,h){this.headerService=l;this.publicHelper=e;this.cdr=i;this.cmsToastrService=t;this.translate=s;this.dialog=h;this.constructorInfoAreaId=this.constructor.name;this.optionId="";this.dataModelResult=new G;this.fieldsInfo=new Map;this.publicHelper.processService.cdr=this.cdr}ngOnInit(){this.optionId?.length>0&&this.DataGetOneContent()}DataGetOneContent(){let l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(l,e,this.constructorInfoAreaId)}),this.headerService.setAccessLoad(),this.headerService.ServiceGetOneById(this.optionId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),e.isSuccess?this.dataModelResult=e:this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(l)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(l,!1)}})}};Cl.\u0275fac=function(e){return new(e||Cl)(v(yi),v(F),v(B),v(V),v(L),v(xe))},Cl.\u0275cmp=R({type:Cl,selectors:[["app-estate-property-type-landuse-header"]],inputs:{optionId:"optionId"},standalone:!1,decls:30,vars:10,consts:[[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content"],[1,"table"],[1,"tr"],[1,"td","small-width"],[1,"svg-icon","svg-icon-3x","svg-icon-primary",3,"inlineSVG"],[1,"td","large-width",2,"color","darkblue"],["class","td",4,"ngIf"],[1,"td","large-width"],[1,"td"],[2,"clear","both"],[1,"divider","divider-margins"]],template:function(e,i){e&1&&(r(0,"div",0),C(1,"app-progress-spinner",1),r(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),C(6,"span",6),a(),r(7,"div",7)(8,"h5")(9,"b"),c(10),_(11,"translate"),a()()(),S(12,Vv,1,0,"div",8),a(),r(13,"div",4)(14,"div",5)(15,"b"),c(16),a()(),r(17,"div",9),c(18),a(),C(19,"div",10)(20,"div",11),a(),r(21,"div",4)(22,"div",5)(23,"b"),c(24),a()(),r(25,"div",9),c(26),a(),C(27,"div",10)(28,"div",11),a()()()(),C(29,"div",12)),e&2&&(o(),d("optionsInfoAreaId",i.constructorInfoAreaId),o(5),d("inlineSVG","./assets/media/svg/icons/Communication/Flag.svg"),o(4),M(g(11,8,"TITLE.Property_Type_Selected")),o(2),d("ngIf",i.dataModelResult==null||i.dataModelResult.item==null?null:i.dataModelResult.item.id),o(4),y("",i.fieldsInfo.id==null?null:i.fieldsInfo.id.fieldTitle," : "),o(2),M(i.dataModelResult==null||i.dataModelResult.item==null?null:i.dataModelResult.item.id),o(6),y("",i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle," : "),o(2),M(i.dataModelResult==null||i.dataModelResult.item==null?null:i.dataModelResult.item.title))},dependencies:[N,U,cn,O],styles:[".table[_ngcontent-%COMP%]{display:table;border:1px solid #40A1F5;padding:2px;background:#fff;border-radius:5px}.table[_ngcontent-%COMP%]   .th[_ngcontent-%COMP%]{display:table-row;background-color:#40a1f577;color:#fff;font-weight:700}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f9f9f9}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]{display:table-row;border-bottom:1px solid #000}.table[_ngcontent-%COMP%]   .td[_ngcontent-%COMP%]{display:table-cell;padding:15px;border-bottom:1px solid #40A1F5;color:#3d7c7a}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:last-child   .td[_ngcontent-%COMP%]{border:0}.small-width[_ngcontent-%COMP%]{width:90px}.large-width[_ngcontent-%COMP%]{width:400px}.clear[_ngcontent-%COMP%]{clear:both}"]});var Sl=Cl;var vl=class vl{constructor(l,e,i,t,s,h,p,D){this.headerService=l;this.publicHelper=e;this.cdr=i;this.tokenHelper=t;this.cmsStoreService=s;this.cmsToastrService=h;this.dialog=p;this.translate=D;this.constructorInfoAreaId=this.constructor.name;this.optionId="";this.dataModelResult=new G;this.fieldsInfo=new Map;this.publicHelper.processService.cdr=this.cdr}ngOnInit(){this.optionId.length>0&&(this.DataGetOneContent(),this.cmsApiStoreSubscribe=this.cmsStoreService.getState(l=>l.tokenInfoStore).subscribe(l=>re(this,null,function*(){this.DataGetOneContent()})))}ngOnDestroy(){this.cmsApiStoreSubscribe&&this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){let l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(l,e,this.constructorInfoAreaId)}),this.headerService.setAccessLoad(),this.headerService.ServiceGetOneById(this.optionId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),e.isSuccess?this.dataModelResult=e:this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(l)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(l,!1)}})}};vl.\u0275fac=function(e){return new(e||vl)(v(_n),v(F),v(B),v(K),v(Z),v(V),v(xe),v(L))},vl.\u0275cmp=R({type:vl,selectors:[["app-estate-property-project-header"]],inputs:{optionId:"optionId"},standalone:!1,decls:27,vars:9,consts:[[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content"],[1,"table"],[1,"tr"],[1,"td","small-width"],[1,"svg-icon","svg-icon-3x","svg-icon-primary",3,"inlineSVG"],[1,"td","large-width",2,"color","darkblue"],[1,"td",2,"text-align","left"],[1,"td","large-width"],[1,"td"],[2,"clear","both"],[1,"divider","divider-margins"]],template:function(e,i){e&1&&(r(0,"div",0),C(1,"app-progress-spinner",1),r(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),C(6,"span",6),a(),r(7,"div",7)(8,"h5")(9,"b"),c(10),_(11,"translate"),a()()(),C(12,"div",8),a(),r(13,"div",4)(14,"div",5),c(15),a(),r(16,"div",9),c(17),a(),C(18,"div",10)(19,"div",11),a(),r(20,"div",4)(21,"div",5),c(22),a(),r(23,"div",9),c(24),a(),C(25,"div",11),a()()()(),C(26,"div",12)),e&2&&(o(),d("optionsInfoAreaId",i.constructorInfoAreaId),o(5),d("inlineSVG","./assets/media/svg/icons/Communication/Flag.svg"),o(4),M(g(11,7,"TITLE.Selected_Project")),o(5),y("",i.fieldsInfo.id==null?null:i.fieldsInfo.id.fieldTitle," : "),o(2),M(i.dataModelResult==null||i.dataModelResult.item==null?null:i.dataModelResult.item.id),o(5),y("",i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle," : "),o(2),M(i.dataModelResult==null||i.dataModelResult.item==null?null:i.dataModelResult.item.title))},dependencies:[U,cn,O],styles:[".table[_ngcontent-%COMP%]{display:table;border:1px solid #40A1F5;padding:2px;background:#fff;border-radius:5px}.table[_ngcontent-%COMP%]   .th[_ngcontent-%COMP%]{display:table-row;background-color:#40a1f577;color:#fff;font-weight:700}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f9f9f9}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]{display:table-row;border-bottom:1px solid #000}.table[_ngcontent-%COMP%]   .td[_ngcontent-%COMP%]{display:table-cell;padding:15px;border-bottom:1px solid #40A1F5;color:#3d7c7a}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:last-child   .td[_ngcontent-%COMP%]{border:0}.small-width[_ngcontent-%COMP%]{width:90px}.large-width[_ngcontent-%COMP%]{width:400px}.clear[_ngcontent-%COMP%]{clear:both}"]});var Kr=vl;function Ov(n,l){n&1&&C(0,"div",10)}var El=class El{constructor(l,e,i,t,s,h,p,D){this.headerService=l;this.publicHelper=e;this.cdr=i;this.cmsToastrService=t;this.dialog=s;this.translate=h;this.cmsStoreService=p;this.tokenHelper=D;this.constructorInfoAreaId=this.constructor.name;this.optionId="";this.dataModelResult=new G;this.fieldsInfo=new Map;this.publicHelper.processService.cdr=this.cdr}ngOnInit(){this.optionId?.length>0&&this.DataGetOneContent(),this.cmsApiStoreSubscribe=this.cmsStoreService.getState(l=>l.tokenInfoStore).subscribe(l=>re(this,null,function*(){this.DataGetOneContent()}))}ngOnDestroy(){this.cmsApiStoreSubscribe&&this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){let l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(l,e,this.constructorInfoAreaId)}),this.headerService.setAccessLoad(),this.headerService.ServiceGetOneById(this.optionId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),e.isSuccess?this.dataModelResult=e:this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(l)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(l,!1)}})}};El.\u0275fac=function(e){return new(e||El)(v(gn),v(F),v(B),v(V),v(xe),v(L),v(Z),v(K))},El.\u0275cmp=R({type:El,selectors:[["app-estate-property-type-usage-header"]],inputs:{optionId:"optionId"},standalone:!1,decls:30,vars:10,consts:[[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content"],[1,"table"],[1,"tr"],[1,"td","small-width"],[1,"svg-icon","svg-icon-3x","svg-icon-primary",3,"inlineSVG"],[1,"td","large-width",2,"color","darkblue"],["class","td",4,"ngIf"],[1,"td","large-width"],[1,"td"],[2,"clear","both"],[1,"divider","divider-margins"]],template:function(e,i){e&1&&(r(0,"div",0),C(1,"app-progress-spinner",1),r(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),C(6,"span",6),a(),r(7,"div",7)(8,"h5")(9,"b"),c(10),_(11,"translate"),a()()(),S(12,Ov,1,0,"div",8),a(),r(13,"div",4)(14,"div",5)(15,"b"),c(16),a()(),r(17,"div",9),c(18),a(),C(19,"div",10)(20,"div",11),a(),r(21,"div",4)(22,"div",5)(23,"b"),c(24),a()(),r(25,"div",9),c(26),a(),C(27,"div",10)(28,"div",11),a()()()(),C(29,"div",12)),e&2&&(o(),d("optionsInfoAreaId",i.constructorInfoAreaId),o(5),d("inlineSVG","./assets/media/svg/icons/Communication/Flag.svg"),o(4),y("",g(11,8,"TITLE.Selected_User_Type")," "),o(2),d("ngIf",i.dataModelResult==null||i.dataModelResult.item==null?null:i.dataModelResult.item.id),o(4),y("",i.fieldsInfo.id==null?null:i.fieldsInfo.id.fieldTitle," : "),o(2),M(i.dataModelResult==null||i.dataModelResult.item==null?null:i.dataModelResult.item.id),o(6),y("",i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle," : "),o(2),M(i.dataModelResult==null||i.dataModelResult.item==null?null:i.dataModelResult.item.title))},dependencies:[N,U,cn,O],styles:[".table[_ngcontent-%COMP%]{display:table;border:1px solid #40A1F5;padding:2px;background:#fff;border-radius:5px}.table[_ngcontent-%COMP%]   .th[_ngcontent-%COMP%]{display:table-row;background-color:#40a1f577;color:#fff;font-weight:700}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f9f9f9}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]{display:table-row;border-bottom:1px solid #000}.table[_ngcontent-%COMP%]   .td[_ngcontent-%COMP%]{display:table-cell;padding:15px;border-bottom:1px solid #40A1F5;color:#3d7c7a}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:last-child   .td[_ngcontent-%COMP%]{border:0}.small-width[_ngcontent-%COMP%]{width:90px}.large-width[_ngcontent-%COMP%]{width:400px}.clear[_ngcontent-%COMP%]{clear:both}"]});var Il=El;function Fv(n,l){n&1&&C(0,"div",9)}var Ml=class Ml{constructor(l,e,i,t,s,h){this.headerService=l;this.publicHelper=e;this.cdr=i;this.cmsToastrService=t;this.translate=s;this.dialog=h;this.constructorInfoAreaId=this.constructor.name;this.optionId="";this.dataModelResult=new G;this.fieldsInfo=new Map;this.publicHelper.processService.cdr=this.cdr}ngOnInit(){this.optionId?.length>0&&this.DataGetOneContent()}DataGetOneContent(){let l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(l,e,this.constructorInfoAreaId)}),this.headerService.setAccessLoad(),this.headerService.ServiceGetOneById(this.optionId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),e.isSuccess?this.dataModelResult=e:this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(l)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(l,!1)}})}};Ml.\u0275fac=function(e){return new(e||Ml)(v(xi),v(F),v(B),v(V),v(L),v(xe))},Ml.\u0275cmp=R({type:Ml,selectors:[["app-estate-contract-type-header"]],inputs:{optionId:"optionId"},standalone:!1,decls:27,vars:10,consts:[[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content"],[1,"table"],[1,"tr"],[1,"td","small-width"],[1,"svg-icon","svg-icon-3x","svg-icon-primary",3,"inlineSVG"],[1,"td","large-width"],["class","td",4,"ngIf"],[1,"td"],[2,"clear","both"],[1,"divider","divider-margins"]],template:function(e,i){e&1&&(r(0,"div",0),C(1,"app-progress-spinner",1),r(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),C(6,"span",6),a(),r(7,"div",7)(8,"h5"),c(9),_(10,"translate"),a()(),S(11,Fv,1,0,"div",8),a(),r(12,"div",4)(13,"div",5),c(14),a(),r(15,"div",7),c(16),a(),C(17,"div",9)(18,"div",10),a(),r(19,"div",4)(20,"div",5),c(21),a(),r(22,"div",7),c(23),a(),C(24,"div",9)(25,"div",10),a()()()(),C(26,"div",11)),e&2&&(o(),d("optionsInfoAreaId",i.constructorInfoAreaId),o(5),d("inlineSVG","./assets/media/svg/icons/Communication/Flag.svg"),o(3),M(g(10,8,"TITLE.The_type_of_contract_selected")),o(2),d("ngIf",i.dataModelResult==null||i.dataModelResult.item==null?null:i.dataModelResult.item.id),o(3),y("",i.fieldsInfo.id==null?null:i.fieldsInfo.id.fieldTitle," : "),o(2),M(i.dataModelResult==null||i.dataModelResult.item==null?null:i.dataModelResult.item.id),o(5),y("",i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle," : "),o(2),M(i.dataModelResult==null||i.dataModelResult.item==null?null:i.dataModelResult.item.title))},dependencies:[N,U,cn,O],styles:[".table[_ngcontent-%COMP%]{display:table;border:1px solid #40A1F5;padding:2px;background:#fff;border-radius:5px}.table[_ngcontent-%COMP%]   .th[_ngcontent-%COMP%]{display:table-row;background-color:#40a1f577;color:#fff;font-weight:700}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f9f9f9}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]{display:table-row;border-bottom:1px solid #000}.table[_ngcontent-%COMP%]   .td[_ngcontent-%COMP%]{display:table-cell;padding:15px;border-bottom:1px solid #40A1F5}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:last-child   .td[_ngcontent-%COMP%]{border:0}.small-width[_ngcontent-%COMP%]{width:90px}.large-width[_ngcontent-%COMP%]{width:400px}.clear[_ngcontent-%COMP%]{clear:both}"]});var bl=Ml;function Bv(n,l){n&1&&C(0,"div",10)}function Nv(n,l){if(n&1){let e=I();r(0,"button",16),E("click",function(){u(e);let t=m();return f(t.onActionButtonLinkTo())}),r(1,"mat-icon"),c(2,"\u2197 "),a()()}}var Tl=class Tl{constructor(l,e,i,t,s,h,p,D,z){this.headerService=l;this.publicHelper=e;this.cdr=i;this.cmsToastrService=t;this.themeService=s;this.dialog=h;this.translate=p;this.cmsStoreService=D;this.tokenHelper=z;this.constructorInfoAreaId=this.constructor.name;this.optionId="";this.dataModelResult=new G;this.fieldsInfo=new Map;this.publicHelper.processService.cdr=this.cdr}ngOnInit(){this.optionId?.length>0&&this.DataGetOneContent(),this.cmsApiStoreSubscribe=this.cmsStoreService.getState(l=>l.tokenInfoStore).subscribe(l=>re(this,null,function*(){this.DataGetOneContent()}))}ngOnDestroy(){this.cmsApiStoreSubscribe&&this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){let l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(l,e,this.constructorInfoAreaId)}),this.headerService.setAccessLoad(),this.headerService.ServiceGetOneById(this.optionId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),e.isSuccess?this.dataModelResult=e:this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(l)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(l,!1)}})}onActionButtonLinkTo(l=this.dataModelResult.item){if(!l||!l.id||l.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(l.recordStatus!=qe.Available){this.cmsToastrService.typeWarningRecordStatusNoAvailable();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(pn,{height:"90%",panelClass:e,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{title:l.title,urlViewContentQRCodeBase64:l.urlViewContentQRCodeBase64,urlViewContent:l.urlViewContent}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate})}};Tl.\u0275fac=function(e){return new(e||Tl)(v(Xo),v(F),v(B),v(V),v(kt),v(xe),v(L),v(Z),v(K))},Tl.\u0275cmp=R({type:Tl,selectors:[["app-estate-billboard-header"]],inputs:{optionId:"optionId"},standalone:!1,decls:34,vars:11,consts:[[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content"],[1,"table"],[1,"tr"],[1,"td","small-width"],[1,"svg-icon","svg-icon-3x","svg-icon-primary",3,"inlineSVG"],[1,"td","large-width",2,"color","darkblue"],["class","td",4,"ngIf"],[1,"td","large-width"],[1,"td"],[2,"clear","both"],[1,"td",2,"text-align","left"],["title","link to"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-highlight",3,"click",4,"ngIf"],[1,"divider","divider-margins"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"]],template:function(e,i){e&1&&(r(0,"div",0),C(1,"app-progress-spinner",1),r(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),C(6,"span",6),a(),r(7,"div",7)(8,"h5")(9,"b"),c(10),_(11,"translate"),a()()(),S(12,Bv,1,0,"div",8),a(),r(13,"div",4)(14,"div",5)(15,"b"),c(16),a(),c(17,": "),a(),r(18,"div",9),c(19),a(),C(20,"div",10)(21,"div",11),a(),r(22,"div",4)(23,"div",5)(24,"b"),c(25),a(),c(26," : "),a(),r(27,"div",9),c(28),a(),r(29,"div",12)(30,"abbr",13),S(31,Nv,3,0,"button",14),a()(),C(32,"div",11),a()()()(),C(33,"div",15)),e&2&&(o(),d("optionsInfoAreaId",i.constructorInfoAreaId),o(5),d("inlineSVG","./assets/media/svg/icons/Communication/Flag.svg"),o(4),M(g(11,9,"TITLE.Selected_Billboard")),o(2),d("ngIf",i.dataModelResult==null||i.dataModelResult.item==null?null:i.dataModelResult.item.id),o(4),y("",i.fieldsInfo.id==null?null:i.fieldsInfo.id.fieldTitle," "),o(3),M(i.dataModelResult==null||i.dataModelResult.item==null?null:i.dataModelResult.item.id),o(6),M(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(3),M(i.dataModelResult==null||i.dataModelResult.item==null?null:i.dataModelResult.item.title),o(3),d("ngIf",i.dataModelResult==null||i.dataModelResult.item==null?null:i.dataModelResult.item.id))},dependencies:[N,Ee,U,cn,O],styles:[".table[_ngcontent-%COMP%]{display:table;border:1px solid #40A1F5;padding:2px;background:#fff;border-radius:5px}.table[_ngcontent-%COMP%]   .th[_ngcontent-%COMP%]{display:table-row;background-color:#40a1f577;color:#fff;font-weight:700}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f9f9f9}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]{display:table-row;border-bottom:1px solid #000}.table[_ngcontent-%COMP%]   .td[_ngcontent-%COMP%]{display:table-cell;padding:15px;border-bottom:1px solid #40A1F5}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:last-child   .td[_ngcontent-%COMP%]{border:0}.small-width[_ngcontent-%COMP%]{width:90px}.large-width[_ngcontent-%COMP%]{width:400px}.clear[_ngcontent-%COMP%]{clear:both}"]});var wl=Tl;function Hv(n,l){n&1&&C(0,"div",10)}function Wv(n,l){if(n&1){let e=I();r(0,"button",16),E("click",function(){u(e);let t=m();return f(t.onActionButtonLinkTo())}),r(1,"mat-icon"),c(2,"\u2197 "),a()()}}var xl=class xl{constructor(l,e,i,t,s,h,p){this.headerService=l;this.publicHelper=e;this.cdr=i;this.translate=t;this.themeService=s;this.cmsToastrService=h;this.dialog=p;this.constructorInfoAreaId=this.constructor.name;this.optionId="";this.dataModelResult=new G;this.fieldsInfo=new Map;this.publicHelper.processService.cdr=this.cdr}ngOnInit(){this.optionId?.length>0&&this.DataGetOneContent()}DataGetOneContent(){let l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(l,e,this.constructorInfoAreaId)}),this.headerService.setAccessLoad(),this.headerService.ServiceGetOneById(this.optionId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),e.isSuccess?this.dataModelResult=e:this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(l)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(l,!1)}})}onActionButtonLinkTo(l=this.dataModelResult.item){if(!l||!l.id||l.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(l.recordStatus!=qe.Available){this.cmsToastrService.typeWarningRecordStatusNoAvailable();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(pn,{height:"90%",panelClass:e,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{title:l.title,urlViewContentQRCodeBase64:l.urlViewContentQRCodeBase64,urlViewContent:l.urlViewContent}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate})}};xl.\u0275fac=function(e){return new(e||xl)(v(Yi),v(F),v(B),v(L),v(kt),v(V),v(xe))},xl.\u0275cmp=R({type:xl,selectors:[["app-estate-customer-order-header"]],inputs:{optionId:"optionId"},standalone:!1,decls:34,vars:11,consts:[[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content"],[1,"table"],[1,"tr"],[1,"td","small-width"],[1,"svg-icon","svg-icon-3x","svg-icon-primary",3,"inlineSVG"],[1,"td","large-width",2,"color","darkblue"],["class","td",4,"ngIf"],[1,"td","large-width"],[1,"td"],[2,"clear","both"],[1,"td",2,"text-align","left"],["title","link to"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-highlight",3,"click",4,"ngIf"],[1,"divider","divider-margins"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"]],template:function(e,i){e&1&&(r(0,"div",0),C(1,"app-progress-spinner",1),r(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),C(6,"span",6),a(),r(7,"div",7)(8,"h5")(9,"b"),c(10),_(11,"translate"),a()()(),S(12,Hv,1,0,"div",8),a(),r(13,"div",4)(14,"div",5)(15,"b"),c(16),a(),c(17,": "),a(),r(18,"div",9),c(19),a(),C(20,"div",10)(21,"div",11),a(),r(22,"div",4)(23,"div",5)(24,"b"),c(25),a(),c(26," : "),a(),r(27,"div",9),c(28),a(),r(29,"div",12)(30,"abbr",13),S(31,Wv,3,0,"button",14),a()(),C(32,"div",11),a()()()(),C(33,"div",15)),e&2&&(o(),d("optionsInfoAreaId",i.constructorInfoAreaId),o(5),d("inlineSVG","./assets/media/svg/icons/Communication/Flag.svg"),o(4),M(g(11,9,"TITLE.Selected_Customer")),o(2),d("ngIf",i.dataModelResult==null||i.dataModelResult.item==null?null:i.dataModelResult.item.id),o(4),y("",i.fieldsInfo.id==null?null:i.fieldsInfo.id.fieldTitle," "),o(3),M(i.dataModelResult==null||i.dataModelResult.item==null?null:i.dataModelResult.item.id),o(6),M(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(3),M(i.dataModelResult==null||i.dataModelResult.item==null?null:i.dataModelResult.item.title),o(3),d("ngIf",i.dataModelResult==null||i.dataModelResult.item==null?null:i.dataModelResult.item.id))},dependencies:[N,Ee,U,cn,O],styles:[".table[_ngcontent-%COMP%]{display:table;border:1px solid #40A1F5;padding:2px;background:#fff;border-radius:5px}.table[_ngcontent-%COMP%]   .th[_ngcontent-%COMP%]{display:table-row;background-color:#40a1f577;color:#fff;font-weight:700}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f9f9f9}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]{display:table-row;border-bottom:1px solid #000}.table[_ngcontent-%COMP%]   .td[_ngcontent-%COMP%]{display:table-cell;padding:15px;border-bottom:1px solid #40A1F5}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:last-child   .td[_ngcontent-%COMP%]{border:0}.small-width[_ngcontent-%COMP%]{width:90px}.large-width[_ngcontent-%COMP%]{width:400px}.clear[_ngcontent-%COMP%]{clear:both}"]});var fr=xl;var Gv=()=>["expandedTitle"],Uv=()=>["expandedDetail"],jv=()=>[5,10,20,100],h0=n=>({display:n});function qv(n,l){if(n&1&&C(0,"app-estate-billboard-header",73),n&2){let e=m();d("optionId",e.requestLinkBillboardId)}}function Qv(n,l){if(n&1&&C(0,"app-estate-contract-type-header",73),n&2){let e=m();d("optionId",e.requestLinkContractTypeId)}}function zv(n,l){if(n&1&&C(0,"app-estate-customer-order-header",73),n&2){let e=m();d("optionId",e.requestLinkCustomerOrderId)}}function Yv(n,l){if(n&1&&C(0,"app-estate-property-type-landuse-header",73),n&2){let e=m();d("optionId",e.requestLinkPropertyTypeLanduseId)}}function Kv(n,l){if(n&1&&C(0,"app-estate-property-type-usage-header",73),n&2){let e=m();d("optionId",e.requestLinkPropertyTypeUsageId)}}function Zv(n,l){if(n&1&&C(0,"app-estate-property-project-header",73),n&2){let e=m();d("optionId",e.requestLinkProjectId)}}function Jv(n,l){if(n&1){let e=I();r(0,"a",74),E("click",function(){u(e);let t=m();return f(t.onActionBackToParent())}),C(1,"i",75),a()}}function Xv(n,l){if(n&1){let e=I();r(0,"div",29)(1,"a",76),E("click",function(){u(e);let t=m();return f(t.onActionButtonNewRow())}),C(2,"i",77)(3,"br"),a(),r(4,"p",32),c(5),_(6,"translate"),a()()}n&2&&(o(5),M(g(6,1,"ACTION.ADD")))}function $v(n,l){if(n&1){let e=I();r(0,"div",29)(1,"a",78),E("click",function(){u(e);let t=m();return f(t.onActionButtonActionSendSmsToCustomerOrder())}),C(2,"i",77)(3,"br"),a(),r(4,"p",32),c(5),_(6,"translate"),a()()}n&2&&(o(5),M(g(6,1,"ACTION.ActionSendSmsToCustomerOrder")))}function eE(n,l){if(n&1){let e=I();r(0,"div",29)(1,"a",30),E("click",function(t){u(e);let s=m();return f(s.onActionButtonAdsRow(s.tableRowSelected,t))}),C(2,"i",79)(3,"br"),a(),r(4,"p",32),c(5),_(6,"translate"),a()()}n&2&&(o(5),M(g(6,1,"ACTION.ADS")))}function tE(n,l){if(n&1){let e=I();r(0,"div",29)(1,"a",80),E("click",function(t){u(e);let s=m();return f(s.onActionButtonEditRow(s.tableRowSelected,t))}),C(2,"i",81)(3,"br"),a(),r(4,"p",32),c(5),_(6,"translate"),a()()}n&2&&(o(5),M(g(6,1,"ACTION.EDIT")))}function iE(n,l){if(n&1){let e=I();r(0,"div",29)(1,"a",82),E("click",function(){u(e);let t=m();return f(t.onActionButtonDeleteRow(t.tableRowSelected))}),C(2,"i",83)(3,"br"),a(),r(4,"p",32),c(5),_(6,"translate"),a()()}n&2&&(o(5),M(g(6,1,"ACTION.DELETE")))}function nE(n,l){n&1&&(r(0,"mat-header-cell"),c(1),_(2,"translate"),a()),n&2&&(o(),y(" ",g(2,1,"TITLE.MENU")," "))}function oE(n,l){if(n&1){let e=I();r(0,"mat-cell")(1,"button",84),E("click",function(){let t=u(e).$implicit,s=m();return f(s.onActionTableRowSelectActionMenu(t))}),C(2,"i",85),a()()}}function rE(n,l){n&1&&(r(0,"mat-header-cell",86),c(1),_(2,"translate"),a()),n&2&&(o(),y(" ",g(2,1,"TITLE.PICTURE")," "))}function aE(n,l){if(n&1&&(C(0,"img",88),_(1,"cmsthumbnail")),n&2){let e=m().$implicit;d("src",x(g(1,2,e.linkMainImageIdSrc)),j)}}function lE(n,l){if(n&1&&(r(0,"mat-cell"),S(1,aE,2,4,"img",87),a()),n&2){let e=l.$implicit;o(),d("ngIf",(e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0)}}function sE(n,l){if(n&1&&(r(0,"mat-header-cell",86),c(1),a()),n&2){let e=m();o(),y(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function dE(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),y(" ",e.id," ")}}function cE(n,l){if(n&1&&(r(0,"mat-header-cell",86),c(1),a()),n&2){let e=m();o(),y(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function pE(n,l){if(n&1&&(r(0,"mat-cell"),c(1),_(2,"cmssiteinfo"),_(3,"async"),a()),n&2){let e=l.$implicit;o(),y(" ",g(3,3,g(2,1,e.linkSiteId))," ")}}function mE(n,l){if(n&1&&(r(0,"mat-header-cell",86),c(1),a()),n&2){let e=m();o(),y(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function uE(n,l){if(n&1&&C(0,"select",91),n&2){let e=m().$implicit,i=m();d("contentService",i.contentService)("row",e)("ngStyle",ze(3,h0,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function fE(n,l){if(n&1&&(r(0,"mat-cell",89),_(1,"statusCellClass"),C(2,"i",89),_(3,"statusIconClass"),S(4,uE,1,5,"select",90),a()),n&2){let e=l.$implicit,i=m();d("ngClass",g(1,3,e.recordStatus)),o(2),d("ngClass",g(3,5,e.recordStatus)),o(2),d("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessEditRow)}}function _E(n,l){if(n&1&&(r(0,"mat-header-cell",86),c(1),a()),n&2){let e=m();o(),y(" ",e.fieldsInfo.mainAdminRecordStatus==null?null:e.fieldsInfo.mainAdminRecordStatus.fieldTitle," ")}}function gE(n,l){if(n&1&&(r(0,"mat-cell"),C(1,"i",89),_(2,"statusIconClass"),a()),n&2){let e=l.$implicit;o(),d("ngClass",g(2,1,e.mainAdminRecordStatus))}}function hE(n,l){if(n&1&&(r(0,"mat-header-cell",86),c(1),a()),n&2){let e=m();o(),y(" ",e.fieldsInfo.isSoldIt==null?null:e.fieldsInfo.isSoldIt.fieldTitle," ")}}function yE(n,l){if(n&1&&(r(0,"mat-cell"),C(1,"i",89),_(2,"boolclass"),a()),n&2){let e=l.$implicit;o(),d("ngClass",g(2,1,e.isSoldIt))}}function CE(n,l){if(n&1&&(r(0,"mat-header-cell",86),c(1),a()),n&2){let e=m();o(),y(" ",e.fieldsInfo.viewConfigHiddenInList==null?null:e.fieldsInfo.viewConfigHiddenInList.fieldTitle," ")}}function SE(n,l){if(n&1&&(r(0,"mat-cell"),C(1,"i",89),_(2,"boolclass"),a()),n&2){let e=l.$implicit;o(),d("ngClass",g(2,1,e.viewConfigHiddenInList))}}function vE(n,l){if(n&1&&(r(0,"mat-header-cell",86),c(1),a()),n&2){let e=m();o(),y(" ",e.fieldsInfo.viewCount==null?null:e.fieldsInfo.viewCount.fieldTitle," ")}}function EE(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),y(" ",e.viewCount," ")}}function IE(n,l){n&1&&(r(0,"mat-header-cell",86),c(1),_(2,"translate"),a()),n&2&&(o(),y(" ",g(2,1,"TITLE.Is_Special")," "))}function ME(n,l){if(n&1&&(r(0,"mat-cell"),C(1,"i",89),_(2,"boolclass"),a()),n&2){let e=l.$implicit;o(),ye("color",e.adsActive?"#f7db25":"#ff0000"),d("ngClass",g(2,3,e.adsActive))}}function bE(n,l){if(n&1&&(r(0,"mat-header-cell",86),c(1),a()),n&2){let e=m();o(),y(" ",e.fieldsInfo.caseCode==null?null:e.fieldsInfo.caseCode.fieldTitle," ")}}function TE(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),y(" ",e.caseCode," ")}}function wE(n,l){if(n&1&&(r(0,"mat-header-cell",86),c(1),a()),n&2){let e=m();o(),y(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function xE(n,l){if(n&1&&(r(0,"mat-cell",92),c(1),_(2,"localeDateTime"),a()),n&2){let e=l.$implicit;o(),y(" ",g(2,1,e.createdDate)," ")}}function AE(n,l){if(n&1&&(r(0,"mat-header-cell",86),c(1),a()),n&2){let e=m();o(),y(" ",e.fieldsInfo.updatedDate==null?null:e.fieldsInfo.updatedDate.fieldTitle," ")}}function PE(n,l){if(n&1&&(r(0,"mat-cell",92),c(1),_(2,"localeDateTime"),a()),n&2){let e=l.$implicit;o(),y(" ",g(2,1,e.updatedDate)," ")}}function kE(n,l){n&1&&(r(0,"mat-header-cell"),c(1),_(2,"translate"),a()),n&2&&(o(),y(" ",g(2,1,"TITLE.OPTION")," "))}function DE(n,l){if(n&1&&(r(0,"mat-cell",93)(1,"button",94)(2,"mat-icon"),c(3,"more_vert"),a()(),C(4,"mat-menu",null,2),a()),n&2){let e=k(5);o(),d("matMenuTriggerFor",e)}}function RE(n,l){n&1&&(r(0,"mat-header-cell",86),c(1),_(2,"translate"),a()),n&2&&(o(),y(" ",g(2,1,"TITLE.LINKTO")," "))}function LE(n,l){if(n&1){let e=I();r(0,"mat-cell")(1,"button",95),E("click",function(){let t=u(e).$implicit,s=m();return f(s.onActionButtonLinkTo(t))}),r(2,"mat-icon",96),c(3,"\u2197"),a()()()}}function VE(n,l){n&1&&(r(0,"mat-header-cell",86),c(1),_(2,"translate"),a()),n&2&&(o(),y(" ",g(2,1,"TITLE.QUICK_VIEW")," "))}function OE(n,l){if(n&1){let e=I();r(0,"mat-cell")(1,"button",95),E("click",function(){let t=u(e).$implicit,s=m();return f(s.onActionButtonQuickViewRow(t))}),r(2,"mat-icon",96),c(3,"visibility"),a()()()}}function FE(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),y(" ",e.title," ")}}function BE(n,l){if(n&1&&(C(0,"img",101),_(1,"cmsthumbnail")),n&2){let e=m().$implicit;d("src",x(g(1,2,e.linkMainImageIdSrc)),j)}}function NE(n,l){if(n&1&&(r(0,"tr")(1,"td"),c(2),_(3,"translate"),a(),r(4,"td"),c(5),a()()),n&2){let e=m().$implicit;o(2),M(g(3,2,"TITLE.SquareMeters")),o(3),y(" ",e.area," ")}}function HE(n,l){if(n&1&&(r(0,"tr")(1,"td"),c(2),_(3,"translate"),a(),r(4,"td"),c(5),a()()),n&2){let e=m().$implicit;o(2),M(g(3,2,"TITLE.CreatedYaer")),o(3),y(" ",e.createdYaer," ")}}function WE(n,l){if(n&1){let e=I();r(0,"mat-cell")(1,"div")(2,"table")(3,"tr")(4,"th"),S(5,BE,2,4,"img",97),a(),r(6,"th"),c(7),r(8,"span",98),E("click",function(){u(e);let t=m();return f(t.onActionCopied())}),C(9,"i",99),a()()(),r(10,"tr"),C(11,"td"),r(12,"td"),c(13),a()(),S(14,NE,6,4,"tr",100)(15,HE,6,4,"tr",100),r(16,"tr"),C(17,"td"),r(18,"td"),c(19),a()(),r(20,"tr"),C(21,"td"),r(22,"td"),c(23),a()(),r(24,"tr")(25,"td"),c(26),_(27,"translate"),a(),r(28,"td"),c(29),a()(),r(30,"tr"),C(31,"td"),r(32,"td"),c(33),_(34,"cmsuserinfo"),_(35,"async"),a()(),r(36,"tr"),C(37,"td")(38,"td"),a()()()()}if(n&2){let e=l.$implicit;o(5),d("ngIf",(e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0),o(2),y(" ",e.id," "),o(),d("cdkCopyToClipboard",e.id),o(5),y(" ",e.title," "),o(),d("ngIf",e.area&&e.area>0),o(),d("ngIf",e.createdYaer&&e.createdYaer>0),o(4),y(" ",e.linkLocationIdParentTitle," "),o(4),y(" ",e.linkLocationIdTitle," "),o(3),y("",g(27,11,"TITLE.Address"),":"),o(3),y(" ",e.address," "),o(4),y(" ",g(35,15,g(34,13,e.createdBy))," ")}}function GE(n,l){n&1&&C(0,"mat-header-row")}function UE(n,l){if(n&1){let e=I();r(0,"mat-row",102),E("click",function(){let t=u(e).$implicit,s=m();return f(s.onActionTableRowSelect(t))})("mouseenter",function(){let t=u(e).$implicit,s=m();return f(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=u(e).$implicit,s=m();return f(s.onActionTableRowMouseLeave(t))}),a()}if(n&2){let e=l.$implicit,i=l.dataIndex,t=m();Se("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",e.id===(t.tableRowSelected==null?null:t.tableRowSelected.id))}}function jE(n,l){if(n&1){let e=I();r(0,"mat-row",102),E("click",function(){let t=u(e).$implicit,s=m();return f(s.onActionTableRowSelect(t))})("mouseenter",function(){let t=u(e).$implicit,s=m();return f(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=u(e).$implicit,s=m();return f(s.onActionTableRowMouseLeave(t))}),a()}if(n&2){let e=l.$implicit,i=l.dataIndex,t=m();Se("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",e.id===(t.tableRowSelected==null?null:t.tableRowSelected.id))}}function qE(n,l){if(n&1){let e=I();r(0,"mat-row",103),E("click",function(){let t=u(e).$implicit,s=m();return f(s.onActionTableRowSelect(t))})("mouseenter",function(){let t=u(e).$implicit,s=m();return f(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=u(e).$implicit,s=m();return f(s.onActionTableRowMouseLeave(t))}),a()}if(n&2){let e=l.$implicit,i=l.dataIndex,t=m();Se("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",e.id===(t.tableRowSelected==null?null:t.tableRowSelected.id)),d("ngStyle",ze(7,h0,e.expanded===!0?"":"none"))}}function QE(n,l){if(n&1){let e=I();r(0,"div",68)(1,"button",104),E("click",function(){u(e);let t=m();return f(t.onFormCancel())}),C(2,"i",105),c(3),_(4,"translate"),a()()}n&2&&(o(3),y(" ",g(4,1,"ACTION.CANCEL")," "))}var Al=class Al extends bt{constructor(e,i,t,s,h,p,D,z,he,je,Ge,mt,Nt,Rt,Ut){super(t,new Ki,Rt,D,mt);this.data=e;this.dialogRef=i;this.contentService=t;this.activatedRoute=s;this.cmsToastrService=h;this.cmsConfirmationDialogService=p;this.tokenHelper=D;this.cmsStoreService=z;this.themeService=he;this.router=je;this.cdr=Ge;this.translate=mt;this.pageInfo=Nt;this.publicHelper=Rt;this.dialog=Ut;this.requestSearchTitle="";this.requestSearchCustomerTel="";this.requestSearchCaseCode="";this.requestLinkPropertyTypeLanduseId="";this.requestLinkPropertyTypeUsageId="";this.requestLinkContractTypeId="";this.requestLinkBillboardId="";this.requestLinkCustomerOrderId="";this.requestLinkProjectId="";this.requestLinkUserId=0;this.requestInChecking=!1;this.constructorInfoAreaId=this.constructor.name;this.optionloadComponent=!0;this.optionloadByRoute=!0;this.flag=!1;this.tablePropertySelected=[];this.searchInCheckingChecked=!1;this.filteModelContent=new pe;this.formInfo=new me;this.optionsSearch=new ar;this.optionsStatist=new lr;this.tokenInfo=new St;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["LinkMainImageIdSrc","Id","RecordStatus","MainAdminRecordStatus","IsSoldIt","ViewConfigHiddenInList","LinkSiteId","AdsActive","ViewCount","CaseCode","CreatedDate","UpdatedDate","LinkTo","QuickView","action_menu"];this.tabledisplayedColumnsMobileSource=["LinkMainImageIdSrc","IsSoldIt","CaseCode","LinkTo","QuickView","action_menu"];this.fieldsInfo=new Map;if(this.publicHelper.processService.cdr=this.cdr,e&&(e.searchTitle&&(this.requestSearchTitle=e.searchTitle+""),e.searchCustomerTel&&(this.requestSearchCustomerTel=e.searchCustomerTel+""),e.searchCaseCode&&(this.requestSearchCaseCode=e.searchCaseCode+"")),this.requestLinkPropertyTypeLanduseId=this.activatedRoute.snapshot.paramMap.get("LinkPropertyTypeLanduseId"),this.requestLinkPropertyTypeUsageId=this.activatedRoute.snapshot.paramMap.get("LinkPropertyTypeUsageId"),this.requestLinkContractTypeId=this.activatedRoute.snapshot.paramMap.get("LinkContractTypeId"),this.requestLinkBillboardId=this.activatedRoute.snapshot.paramMap.get("LinkBillboardId"),this.requestLinkCustomerOrderId=this.activatedRoute.snapshot.paramMap.get("LinkCustomerOrderId"),this.requestLinkProjectId=this.activatedRoute.snapshot.paramMap.get("LinkProjectId"),this.requestLinkUserId=+this.activatedRoute.snapshot.paramMap.get("LinkUserId")|0,this.activatedRoute.snapshot.paramMap.get("InChecking")&&(this.searchInCheckingChecked=this.activatedRoute.snapshot.paramMap.get("InChecking")==="true"),this.optionsSearch.parentMethods={onSubmit:Fe=>this.onSubmitOptionsSearch(Fe)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=X.Descending,this.requestLinkPropertyTypeLanduseId&&this.requestLinkPropertyTypeLanduseId.length>0){let Fe=new H;Fe.propertyName="LinkPropertyTypeLanduseId",Fe.value=this.requestLinkPropertyTypeLanduseId,this.filteModelContent.filters.push(Fe)}if(this.requestLinkPropertyTypeUsageId&&this.requestLinkPropertyTypeUsageId.length>0){let Fe=new H;Fe.propertyName="LinkPropertyTypeUsageId",Fe.value=this.requestLinkPropertyTypeUsageId,this.filteModelContent.filters.push(Fe)}if(this.requestLinkContractTypeId&&this.requestLinkContractTypeId.length>0){let Fe=new H;Fe.propertyName="Contracts",Fe.propertyAnyName="LinkEstateContractTypeId",Fe.value=this.requestLinkContractTypeId,this.filteModelContent.filters.push(Fe)}if(this.requestLinkUserId&&this.requestLinkUserId>0){let Fe=new H;Fe.propertyName="linkCmsUserId",Fe.value=this.requestLinkUserId,this.filteModelContent.filters.push(Fe)}if(this.requestLinkProjectId&&this.requestLinkProjectId.length>0){let Fe=new H;Fe.propertyName="linkPropertyProjectId",Fe.value=this.requestLinkProjectId,this.filteModelContent.filters.push(Fe)}if(this.requestSearchTitle&&this.requestSearchTitle.length>0){let Fe=new H;Fe.propertyName="Title",Fe.value=this.requestSearchTitle,Fe.searchType=Oe.Contains,this.filteModelContent.filters.push(Fe)}if(this.requestSearchCaseCode&&this.requestSearchCaseCode.length>0){let Fe=new H;Fe.propertyName="caseCode",Fe.value=this.requestSearchCaseCode,this.filteModelContent.filters.push(Fe)}if(this.requestSearchCustomerTel&&this.requestSearchCustomerTel.length>0){let Fe=new H,an=new H;an.propertyName="aboutCustomerTel",an.value=this.requestSearchCustomerTel,an.searchType=Oe.Contains,an.clauseType=Ve.Or,Fe.filters.push(an);let Ui=new H;Ui.propertyName="aboutCustomerMobile",Ui.value=this.requestSearchCustomerTel,Ui.searchType=Oe.Contains,Ui.clauseType=Ve.Or,Fe.filters.push(Ui),this.filteModelContent.filters.push(Fe)}}set optionLinkCustomerOrderId(e){e&&e.length>0&&(this.requestLinkCustomerOrderId=e)}set optionLinkBillboardId(e){e&&e.length>0&&(this.requestLinkBillboardId=e)}ngOnInit(){this.translate.get("TITLE.QUICK_VIEW").subscribe(e=>{this.formInfo.formTitle=e}),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.cmsApiStoreSubscribe=this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>re(this,null,function*(){this.tokenInfo=e,this.DataGetAll()}))}ngOnDestroy(){this.cmsApiStoreSubscribe&&this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){if(this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),!this.optionloadComponent)return;this.tableRowsSelected=[],this.onActionTableRowSelect(new Ki);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));if(this.categoryModelSelected&&this.categoryModelSelected.id&&this.categoryModelSelected.id.length>0){let t=new H;t.propertyName="LinkPropertyTypeLanduseId",t.value=this.categoryModelSelected.id,i.filters.push(t)}if(this.searchInCheckingChecked){let t=new H;t.propertyName="RecordStatus",t.value=qe.Available,t.searchType=Oe.NotEqual,i.filters.push(t);let s=new H;s.propertyName="RecordStatus",s.value=qe.DeniedConfirmed,s.searchType=Oe.NotEqual,i.filters.push(s)}this.requestLinkBillboardId&&this.requestLinkBillboardId.length>0?this.contentService.ServiceGetAllWithCoverBillboardId(this.requestLinkBillboardId,i).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),t.isSuccess?(this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorGetAll(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e)}}):this.requestLinkCustomerOrderId&&this.requestLinkCustomerOrderId.length>0?this.contentService.ServiceGetAllWithCoverCustomerOrderId(this.requestLinkCustomerOrderId,i).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),t.isSuccess?(this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorGetAll(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e)}}):this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),t.isSuccess?(this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorGetAll(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=X.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=X.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=X.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.categoryModelSelected==null&&this.categoryModelSelected&&this.categoryModelSelected.id&&this.categoryModelSelected.id.length===0&&(this.requestLinkPropertyTypeLanduseId==null||this.requestLinkPropertyTypeLanduseId.length===0)){this.translate.get("MESSAGE.Content_not_selected").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}let e=this.requestLinkPropertyTypeLanduseId;this.categoryModelSelected&&this.categoryModelSelected.id.length>0&&(e=this.categoryModelSelected.id),e&&e.length>0?this.router.navigate(["/estate/property/add/LinkPropertyTypeLanduseId",e]):this.router.navigate(["/estate/property/add"])}onActionSelectorSelect(e){var i=this.filteModelContent.sortColumn,t=this.filteModelContent.sortType;this.filteModelContent=new pe,this.filteModelContent.sortColumn=i,this.filteModelContent.sortType=t,this.categoryModelSelected=e,this.DataGetAll()}onActionButtonEditRow(e=this.tableRowSelected,i){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.tableRowSelected=e,this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}i?.ctrlKey?(this.link="/#/estate/property/edit/"+this.tableRowSelected.id,window.open(this.link,"_blank")):this.router.navigate(["/estate/property/edit",this.tableRowSelected.id])}onActionButtonQuickViewRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(qo,{height:"90%",panelClass:i,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate})}onActionButtonAdsRow(e=this.tableRowSelected,i){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.tableRowSelected=e,this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}i?.ctrlKey?(this.link="/#/estate/property-ads/LinkPropertyId/"+this.tableRowSelected.id,window.open(this.link,"_blank")):this.router.navigate(["/estate/property-ads/LinkPropertyId",this.tableRowSelected.id])}onActionButtonHistoryRow(e=this.tableRowSelected,i){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.tableRowSelected=e,this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}i?.ctrlKey?(this.link="/#/estate/property-history/LinkPropertyId/"+this.tableRowSelected.id,window.open(this.link,"_blank")):this.router.navigate(["/estate/property-history/LinkPropertyId",this.tableRowSelected.id])}onActionButtonDeleteRow(e=this.tableRowSelected){if(e==null||!e.id||e.id.length===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}if(this.tableRowSelected=e,this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(s=>{i=s["MESSAGE.Please_Confirm"],t=s["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(s=>{if(s){let h=this.constructor.name+"main";this.translate.get("MESSAGE.Deleting_information").subscribe(p=>{this.publicHelper.processService.processStart(h,p,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:p=>{p.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(h)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(h)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;i.set("Active",0),i.set("All",0),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:h=>{h.isSuccess?(i.set("All",h.totalRowCount),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(h.errorMessage)},error:h=>{this.cmsToastrService.typeError(h)}});let t=JSON.parse(JSON.stringify(this.filteModelContent)),s=new H;s.propertyName="RecordStatus",s.value=qe.Available,t.filters.push(s),this.contentService.ServiceGetCount(t).subscribe({next:h=>{h.isSuccess?(i.set("Active",h.totalRowCount),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(h.errorMessage)},error:h=>{this.cmsToastrService.typeError(h)}})}onActionButtonActionSendSmsToCustomerOrder(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}let i=this.constructor.name+"main";this.translate.get("ACTION.ActionSendSmsToCustomerOrder").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructorInfoAreaId)}),this.contentService.ServiceActionSendSmsToCustomerOrder(e.id).subscribe({next:t=>{t.isSuccess?this.cmsToastrService.typeSuccessMessage(t.errorMessage):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(i)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(i,!1)}})}onActionButtonViewOtherUserAdvertise(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.requestLinkUserId=e.linkCmsUserId,this.requestLinkUserId&&this.requestLinkUserId>0){let i=new H;i.propertyName="linkCmsUserId",i.value=this.requestLinkUserId,this.filteModelContent.filters.push(i)}this.DataGetAll()}onActionButtonInChecking(e){this.searchInCheckingChecked=e,this.DataGetAll()}onActionButtonReload(){this.optionloadComponent=!0,this.DataGetAll()}onActionCopied(){this.cmsToastrService.typeSuccessCopedToClipboard()}onSubmitOptionsSearch(e){e&&e.length>0&&(this.filteModelContent.filters=[...this.filteModelContent.filters,...e]),this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/ticketing/departemen/"])}onActionButtonLinkTo(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(e.recordStatus!=qe.Available){this.cmsToastrService.typeWarningRecordStatusNoAvailable();return}this.onActionTableRowSelect(e);let i=this.constructor.name+"ServiceGetOneById";this.translate.get("MESSAGE.get_state_information").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructorInfoAreaId)}),this.contentService.setAccessDataType(Be.Editor),this.contentService.ServiceGetOneById(e.id).subscribe({next:t=>{if(t.isSuccess){var s="";this.publicHelper.isMobile?s="dialog-fullscreen":s="dialog-min",this.dialog.open(pn,{height:"90%",panelClass:s,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{title:t.item.title,urlViewContentQRCodeBase64:t.item.urlViewContentQRCodeBase64,urlViewContent:t.item.urlViewContent}}).afterClosed().subscribe(p=>{p&&p.dialogChangedDate&&this.DataGetAll()})}else this.cmsToastrService.typeErrorMessage(t.errorMessage);this.publicHelper.processService.processStop(i)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(i,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Al.\u0275fac=function(i){return new(i||Al)(v(be),v(Me),v(ui),v(jt),v(V),v(Mt),v(K),v(Z),v(kt),v(Ze),v(B),v(L),v(ht),v(F),v(xe))},Al.\u0275cmp=R({type:Al,selectors:[["app-estate-property-quick-list"]],inputs:{optionloadComponent:"optionloadComponent",optionloadByRoute:"optionloadByRoute",optionLinkCustomerOrderId:"optionLinkCustomerOrderId",optionLinkBillboardId:"optionLinkBillboardId"},standalone:!1,features:[ne],decls:133,vars:57,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection","loader-container"],[3,"optionId",4,"ngIf"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionActionRowDisplayMenuAct","optionSelectRowItemTitle"],["cms-tree",""],[3,"optionChange"],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-maximize","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-minimize","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[1,"custom-slide-toggle",3,"ngModelChange","ngModel"],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],[1,"col-4"],["mat-menu-item","","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-clock-rotate-left","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-share","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","","multiTemplateDataRows","",3,"matSortChange","dataSource"],["matColumnDef","action_menu"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkMainImageIdSrc"],["mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","Id"],["matColumnDef","LinkSiteId"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","MainAdminRecordStatus"],["matColumnDef","IsSoldIt"],["matColumnDef","ViewConfigHiddenInList"],["matColumnDef","ViewCount"],["matColumnDef","AdsActive"],["matColumnDef","CaseCode"],["matColumnDef","CreatedDate"],["style","direction:ltr",4,"matCellDef"],["matColumnDef","UpdatedDate"],["matColumnDef","Action"],["class","Action",4,"matCellDef"],["matColumnDef","LinkTo"],["matColumnDef","QuickView"],["matColumnDef","expandedTitle"],["matColumnDef","expandedDetail"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","ngStyle","click","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],[3,"optionId"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#FFFFFF"],["type","button",1,"btn","btn-outline-danger","BTN-text","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-bullseye-pointer","font-18",2,"color","#ffffff"],["mat-menu-item","","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["mat-menu-item","","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"click"],[1,"fa","fa-bars","font-18"],["mat-sort-header",""],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","40","width","40",3,"src",4,"ngIf"],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[2,"direction","ltr"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],["type","button","mat-icon-button","",3,"click"],[2,"color","#ff671f"],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","80","width","80",3,"src",4,"ngIf"],[1,"navi-icon","pointer",3,"click","cdkCopyToClipboard"],[1,"flaticon2-copy"],[4,"ngIf"],["aria-hidden","","height","80","width","80",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"click","mouseenter","mouseleave"],[3,"click","mouseenter","mouseleave","ngStyle"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(i,t){if(i&1){let s=I();r(0,"div",3),C(1,"app-progress-spinner",4),r(2,"div",5),c(3),a(),r(4,"div",6),S(5,qv,1,1,"app-estate-billboard-header",7)(6,Qv,1,1,"app-estate-contract-type-header",7)(7,zv,1,1,"app-estate-customer-order-header",7)(8,Yv,1,1,"app-estate-property-type-landuse-header",7)(9,Kv,1,1,"app-estate-property-type-usage-header",7)(10,Zv,1,1,"app-estate-property-project-header",7),r(11,"app-cms-html-list",8),w("optionActionGuideNoticeDisplayChange",function(p){return u(s),T(t.viewGuideNotice,p)||(t.viewGuideNotice=p),f(p)}),E("optionOnActionButtonMemoRow",function(){return u(s),f(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return u(s),f(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return u(s),f(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return u(s),f(t.onActionButtonPrintRow())}),A(12,9),r(13,"app-estate-property-type-landuse-tree",10),E("optionChange",function(p){return u(s),f(t.onActionSelectorSelect(p))}),a(),P(),Qe(14,11)(15,12),A(16,13),S(17,Jv,2,0,"a",14),r(18,"a",15),E("click",function(){return u(s),f(t.viewGuideNotice=!t.viewGuideNotice)}),C(19,"i",16),a(),r(20,"a",15),E("click",function(){return u(s),f(t.onActionButtonReload())}),C(21,"i",17),a(),r(22,"a",18),E("click",function(){return u(s),f(t.onActionGridExpandRows(!0))}),C(23,"i",19),a(),r(24,"a",18),E("click",function(){return u(s),f(t.onActionGridExpandRows(!1))}),C(25,"i",20),a(),P(),A(26,21),r(27,"a",22)(28,"mat-slide-toggle",23),w("ngModelChange",function(p){return u(s),T(t.optionsSearch.data.show,p)||(t.optionsSearch.data.show=p),f(p)}),a(),c(29),_(30,"translate"),a(),r(31,"a",24),E("click",function(){return u(s),f(t.onActionButtonStatist())}),C(32,"mat-slide-toggle",25),c(33),_(34,"translate"),a(),r(35,"a",22),C(36,"mat-slide-toggle",25),c(37),_(38,"translate"),a(),P(),A(39,26),S(40,Xv,7,3,"div",27)(41,$v,7,3,"div",27),P(),A(42,28),S(43,eE,7,3,"div",27)(44,tE,7,3,"div",27)(45,iE,7,3,"div",27),r(46,"div",29)(47,"a",30),E("click",function(p){return u(s),f(t.onActionButtonHistoryRow(t.tableRowSelected,p))}),C(48,"i",31)(49,"br"),a(),r(50,"p",32),c(51),_(52,"translate"),a()(),r(53,"div",29)(54,"a",15),E("click",function(){return u(s),f(t.onActionButtonLinkTo(t.tableRowSelected))}),C(55,"i",33)(56,"br"),a(),r(57,"p",32),c(58),_(59,"translate"),a()(),P(),A(60,34),r(61,"app-cms-search-list",35),w("optionsChange",function(p){return u(s),T(t.optionsSearch,p)||(t.optionsSearch=p),f(p)}),a(),r(62,"app-cms-statist-list",35),w("optionsChange",function(p){return u(s),T(t.optionsStatist,p)||(t.optionsStatist=p),f(p)}),a(),P(),A(63,36),r(64,"mat-table",37,0),E("matSortChange",function(){u(s);let p=k(65);return f(t.onTableSortData(p))}),A(66,38),S(67,nE,3,3,"mat-header-cell",39)(68,oE,3,0,"mat-cell",40),P(),A(69,41),S(70,rE,3,3,"mat-header-cell",42)(71,lE,2,1,"mat-cell",40),P(),A(72,43),S(73,sE,2,1,"mat-header-cell",42)(74,dE,2,1,"mat-cell",40),P(),A(75,44),S(76,cE,2,1,"mat-header-cell",42)(77,pE,4,5,"mat-cell",40),P(),A(78,45),S(79,mE,2,1,"mat-header-cell",42)(80,fE,5,7,"mat-cell",46),P(),A(81,47),S(82,_E,2,1,"mat-header-cell",42)(83,gE,3,3,"mat-cell",40),P(),A(84,48),S(85,hE,2,1,"mat-header-cell",42)(86,yE,3,3,"mat-cell",40),P(),A(87,49),S(88,CE,2,1,"mat-header-cell",42)(89,SE,3,3,"mat-cell",40),P(),A(90,50),S(91,vE,2,1,"mat-header-cell",42)(92,EE,2,1,"mat-cell",40),P(),A(93,51),S(94,IE,3,3,"mat-header-cell",42)(95,ME,3,5,"mat-cell",40),P(),A(96,52),S(97,bE,2,1,"mat-header-cell",42)(98,TE,2,1,"mat-cell",40),P(),A(99,53),S(100,wE,2,1,"mat-header-cell",42)(101,xE,3,3,"mat-cell",54),P(),A(102,55),S(103,AE,2,1,"mat-header-cell",42)(104,PE,3,3,"mat-cell",54),P(),A(105,56),S(106,kE,3,3,"mat-header-cell",39)(107,DE,6,1,"mat-cell",57),P(),A(108,58),S(109,RE,3,3,"mat-header-cell",42)(110,LE,4,0,"mat-cell",40),P(),A(111,59),S(112,VE,3,3,"mat-header-cell",42)(113,OE,4,0,"mat-cell",40),P(),A(114,60),S(115,FE,2,1,"mat-cell",40),P(),A(116,61),S(117,WE,39,17,"mat-cell",40),P(),S(118,GE,1,0,"mat-header-row",62)(119,UE,1,6,"mat-row",63)(120,jE,1,6,"mat-row",63)(121,qE,1,9,"mat-row",64),a(),P(),A(122,65),r(123,"mat-paginator",66,1),E("page",function(p){return u(s),f(t.onTablePageingData(p))}),a(),P(),a()(),r(125,"div",67)(126,"div",68)(127,"small",69),c(128),a(),r(129,"small",70),c(130),a()()(),r(131,"div",71),S(132,QE,5,3,"div",72),a()()}i&2&&(o(),d("optionsInfoAreaId",t.constructorInfoAreaId),o(2),y(" ",t.formInfo.formTitle," "),o(2),d("ngIf",(t.requestLinkBillboardId==null?null:t.requestLinkBillboardId.length)>0),o(),d("ngIf",(t.requestLinkContractTypeId==null?null:t.requestLinkContractTypeId.length)>0),o(),d("ngIf",(t.requestLinkCustomerOrderId==null?null:t.requestLinkCustomerOrderId.length)>0),o(),d("ngIf",(t.requestLinkPropertyTypeLanduseId==null?null:t.requestLinkPropertyTypeLanduseId.length)>0),o(),d("ngIf",(t.requestLinkPropertyTypeUsageId==null?null:t.requestLinkPropertyTypeUsageId.length)>0),o(),d("ngIf",(t.requestLinkProjectId==null?null:t.requestLinkProjectId.length)>0),o(),d("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),b("optionActionGuideNoticeDisplay",t.viewGuideNotice),d("optionTreeDisplay",(t.requestLinkPropertyTypeLanduseId==null?null:t.requestLinkPropertyTypeLanduseId.length)===0)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelectDoubleClick)("optionActionRowDisplayMenuAct",t.tableRowSelectActionMenuClick)("optionSelectRowItemTitle",(t.tableRowSelected==null||t.tableRowSelected.title==null?null:t.tableRowSelected.title.length)>0?t.tableRowSelected==null?null:t.tableRowSelected.title:t.tableRowSelected==null?null:t.tableRowSelected.id),o(6),d("ngIf",(t.requestLinkPropertyTypeLanduseId==null?null:t.requestLinkPropertyTypeLanduseId.length)>0),o(11),b("ngModel",t.optionsSearch.data.show),o(),y("",g(30,44,"ACTION.SEARCH")," "),o(3),d("checked",t.optionsStatist.data.show),o(),y("",g(34,46,"ACTION.STATIST")," "),o(3),d("checked",t.searchInCheckingChecked),o(),y(" ",g(38,48,"ACTION.INCHECKING")," "),o(3),d("ngIf",(t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessAddRow)&&t.optionloadByRoute),o(),d("ngIf",t.tokenHelper.isAdminSite&&t.optionloadByRoute&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0),o(2),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),o(),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),o(),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),o(6),M(g(52,50,"ACTION.HISTORY")),o(7),M(g(59,52,"TITLE.LINKTO")),o(3),b("options",t.optionsSearch),o(),b("options",t.optionsStatist),o(2),d("dataSource",t.tableSource),o(54),d("matHeaderRowDef",t.tabledisplayedColumns),o(),d("matRowDefColumns",le(54,Gv)),o(),d("matRowDefColumns",t.tabledisplayedColumns),o(),d("matRowDefColumns",le(55,Uv)),o(2),d("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",le(56,jv)),o(5),y("",t.formInfo.formAlert," "),o(2),y("",t.formInfo.formError," "),o(2),d("ngIf",t.formInfo.formSubmitAllow))},dependencies:[se,N,tt,q,ce,Je,Ee,Q,At,jm,Pt,vt,gt,Et,It,it,ot,st,rt,nt,dt,at,lt,ct,pt,ci,Tt,wt,U,xt,Oi,yl,Sl,Kr,Il,bl,wl,fr,He,O,Ai,tn,Ie,Jn,qt,Bn,rr],encapsulation:2});var An=Al;var y0=["*","*"];function zE(n,l){if(n&1&&(r(0,"label",15),c(1),a()),n&2){let e=m(2);d("for",ve("app-cms-site-selector-",e.id)),o(),M(e.optionLabel)}}function YE(n,l){if(n&1&&(C(0,"img",16),_(1,"cmsthumbnail")),n&2){let e=m(2);d("src",x(g(1,2,e.dataModelSelect==null?null:e.dataModelSelect.linkMainImageIdSrc)),j)}}function KE(n,l){if(n&1&&(C(0,"img",16),_(1,"cmsthumbnail")),n&2){let e=m().$implicit;d("src",x(g(1,2,e.linkMainImageIdSrc)),j)}}function ZE(n,l){if(n&1&&(r(0,"mat-option",17),S(1,KE,2,4,"img",7),r(2,"span"),c(3),a()()),n&2){let e=l.$implicit,i=m(2);d("value",e)("disabled",i.optionDisabled),o(),d("ngIf",e.linkMainImageIdSrc),o(2),M(i.displayOption(e))}}function JE(n,l){n&1&&C(0,"i",18)}function XE(n,l){n&1&&C(0,"i",19)}function $E(n,l){if(n&1){let e=I();r(0,"i",20),E("click",function(){u(e);let t=m(2);return f(t.onActionSelectClear())}),a()}}function eI(n,l){n&1&&(r(0,"em"),c(1),_(2,"translate"),a()),n&2&&(o(),y("(",g(2,1,"TITLE.Necessary"),")"))}function tI(n,l){if(n&1){let e=I();r(0,"div",3),C(1,"app-progress-spinner",4),S(2,zE,2,3,"label",5),r(3,"span",6),S(4,YE,2,4,"img",7),c(5," \xA0"),a(),C(6,"input",8),r(7,"mat-autocomplete",9,0),E("optionSelected",function(t){u(e);let s=m();return f(s.onActionSelect(t.option.value))}),S(9,ZE,4,4,"mat-option",10),_(10,"async"),a(),S(11,JE,1,0,"i",11)(12,XE,1,0,"i",12)(13,$E,1,0,"i",13)(14,eI,3,3,"em",14),ai(15),a()}if(n&2){let e=k(8),i=m();o(),d("optionsInfoAreaId",i.constructorInfoAreaId),o(),d("ngIf",(i.optionLabel==null?null:i.optionLabel.length)>0),o(2),d("ngIf",i.dataModelSelect&&(i.dataModelSelect==null?null:i.dataModelSelect.linkMainImageIdSrc)),o(2),d("placeholder",x(i.optionPlaceholder))("id",ve("app-cms-site-selector-",i.id))("formControl",i.formControl)("matAutocomplete",e)("required",i.optionRequired),yt("disabled",i.optionDisabled?!0:null),o(),d("displayWith",i.displayFn),o(2),d("ngForOf",g(10,17,i.filteredOptions)),o(2),d("ngIf",!i.formControl.valid),o(),d("ngIf",i.optionRequired&&i.formControl.valid),o(),d("ngIf",(i.dataModelSelect==null||i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0),o(),d("ngIf",i.optionRequired&&(!i.dataModelSelect||!i.dataModelSelect.id||(i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)===0))}}function iI(n,l){if(n&1){let e=I();r(0,"div",23)(1,"a",24),E("click",function(){let t=u(e).$implicit,s=m(2);return f(s.onActionSelect(t))}),c(2),a()()}if(n&2){let e=l.$implicit,i=m(2);o(),d("ngClass",e.id===(i.dataModelSelect==null?null:i.dataModelSelect.id)?"btn font-13 font-600 btn-s m-1 rounded-xl shadow-xl border-0 gradient-highlight btn-full":"btn font-13 font-600 btn-s m-1 rounded-xl shadow-xl border-blue-dark color-blue-dark bg-theme btn-border btn-full"),yt("disabled",i.optionDisabled?!0:null),o(),M(i.displayOption(e))}}function nI(n,l){if(n&1){let e=I();r(0,"i",20),E("click",function(){u(e);let t=m(2);return f(t.onActionSelectClear())}),a()}}function oI(n,l){if(n&1&&(r(0,"div",21),S(1,iI,3,3,"div",22),_(2,"async"),S(3,nI,1,0,"i",13),ai(4,1),a()),n&2){let e=m();o(),d("ngForOf",g(2,2,e.filteredOptions)),o(2),d("ngIf",(e.dataModelSelect==null||e.dataModelSelect.id==null?null:e.dataModelSelect.id.length)>0)}}var Zr=class Zr{constructor(l,e,i,t,s,h,p,D){this.coreEnumService=l;this.cmsToastrService=e;this.cdr=i;this.publicHelper=t;this.translate=s;this.tokenHelper=h;this.cmsStoreService=p;this.categoryService=D;this.id=++Zr.nextId;this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new G;this.dataModelSelect=new Gt;this.formControl=new Ct;this.optionDisabled=!1;this.optionRequired=!1;this.optionSelectFirstItem=!1;this.optionPlaceholder="";this.optionLabel="";this.optionChange=new Xe;this.optionTypeView=1;this.optionAllowUnSelect=!1;this.typeUsageId="";this.optionReload=()=>this.onActionButtonReload();this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(l){l&&(typeof l=="string"&&l.length>0||typeof l==typeof Gt)&&this.onActionSelectForce(l)}set optionTypeUsageId(l){this.typeUsageId=l,this.loadOptions()}ngOnInit(){this.loadOptions(),(!this.optionLabel||this.optionLabel.length==0&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder),this.cmsApiStoreSubscribe=this.cmsStoreService.getState(l=>l.tokenInfoStore).subscribe(l=>re(this,null,function*(){this.loadOptions()}))}ngOnDestroy(){this.cmsApiStoreSubscribe&&this.cmsApiStoreSubscribe.unsubscribe()}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(Kt(""),Yt(1500),Ii(),Zt(l=>typeof l=="string"||typeof l=="number"?this.DataGetAll(l||""):[]))}displayFn(l){return l?l.titleML:void 0}displayOption(l){return l?l.titleML:void 0}DataGetAll(l){return re(this,null,function*(){let e=new pe;e.rowPerPage=20,e.accessLoad=!0;let i=new H,t=new H;l&&l.length>0&&(i.propertyName="Title",i.value=l,i.searchType=Oe.Contains,i.clauseType=Ve.Or,t.filters.push(i),i=new H,i.propertyName="Id",i.value=l,i.searchType=Oe.Equal,i.clauseType=Ve.Or,t.filters.push(i),e.filters.push(t)),this.typeUsageId&&this.typeUsageId.length>0&&(i=new H,i.propertyName="PropertyTypes",i.propertyAnyName="LinkPropertyTypeUsageId",i.value=this.typeUsageId,i.searchType=Oe.Equal,i.clauseType=Ve.And,e.filters.push(i));let s=this.constructor.name+"main";return this.translate.get("MESSAGE.Receiving_information").subscribe(h=>{this.publicHelper.processService.processStart(s,h,this.constructorInfoAreaId)}),yield Ei(this.categoryService.ServiceGetAll(e)).then(h=>(this.dataModelResult=h,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||this.dataModelSelect.id.length===0)&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0])},1e3),this.onActionSelect(this.dataModelResult.listItems[0])),this.publicHelper.processService.processStop(s),h.listItems))})}onActionSelect(l){this.optionDisabled||(this.optionAllowUnSelect&&this.dataModelSelect&&this.dataModelSelect.id==l.id&&this.onActionSelectClear(),this.dataModelSelect=l,this.optionChange.emit(this.dataModelSelect))}onActionSelectClear(){this.optionDisabled||(this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null))}push(l){return this.filteredOptions.pipe(Lt(e=>(e.find(i=>i.id===l.id)||e.push(l),e)))}onActionSelectForce(l){if((!l||typeof l=="string"&&l.length===0)&&(this.dataModelSelect=new Gt),typeof l=="string"&&l.length>0){if(this.dataModelSelect&&this.dataModelSelect.id===l)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(e=>e.id===l)){let e=this.dataModelResult.listItems.find(i=>i.id===l);this.dataModelSelect=e,this.formControl.setValue(e);return}this.categoryService.ServiceGetOneById(l).subscribe({next:e=>{e.isSuccess?(this.filteredOptions=this.push(e.item),this.dataModelSelect=e.item,this.formControl.setValue(e.item),this.optionChange.emit(e.item)):this.cmsToastrService.typeErrorMessage(e.errorMessage)}});return}if(typeof l==typeof Gt){this.filteredOptions=this.push(l),this.dataModelSelect=l,this.formControl.setValue(l);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new Gt,this.loadOptions()}};Zr.nextId=0,Zr.\u0275fac=function(e){return new(e||Zr)(v(J),v(V),v(B),v(F),v(L),v(K),v(Z),v(yi))},Zr.\u0275cmp=R({type:Zr,selectors:[["app-estate-property-type-landuse-selector"]],inputs:{optionSelectForce:"optionSelectForce",optionTypeUsageId:"optionTypeUsageId",optionDisabled:"optionDisabled",optionRequired:"optionRequired",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionLabel:"optionLabel",optionTypeView:"optionTypeView",optionAllowUnSelect:"optionAllowUnSelect",optionReload:"optionReload"},outputs:{optionChange:"optionChange"},standalone:!1,ngContentSelectors:y0,decls:2,vars:2,consts:[["matauto","matAutocomplete"],["class","input-style has-borders has-icon input-style-always-active validate-field mb-4 loader-container",4,"ngIf"],["class","row mb-0",4,"ngIf"],[1,"input-style","has-borders","has-icon","input-style-always-active","validate-field","mb-4","loader-container"],[3,"optionsInfoAreaId"],["class","color-highlight",3,"for",4,"ngIf"],["matPrefix",""],["style","vertical-align: middle","class","ntk-hover-zoom","aria-hidden","","height","25","width","25",3,"src",4,"ngIf"],["type","text","aria-label","Assignee","matInput","",3,"placeholder","formControl","matAutocomplete","required","id"],[3,"optionSelected","displayWith"],[3,"value","disabled",4,"ngFor","ngForOf"],["class","fa fa-info invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],["class","fa fa-times action color-red-dark",3,"click",4,"ngIf"],[4,"ngIf"],[1,"color-highlight",3,"for"],["aria-hidden","","height","25","width","25",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"value","disabled"],[1,"fa","fa-info","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"fa","fa-times","action","color-red-dark",3,"click"],[1,"row","mb-0"],["class","col-xl-2 col-lg-3 col-md-4 col-sm-12 pe-1",4,"ngFor","ngForOf"],[1,"col-xl-2","col-lg-3","col-md-4","col-sm-12","pe-1"],[3,"click","ngClass"]],template:function(e,i){e&1&&(gi(y0),S(0,tI,16,19,"div",1)(1,oI,5,4,"div",2)),e&2&&(d("ngIf",i.optionTypeView===1),o(),d("ngIf",i.optionTypeView===2))},dependencies:[se,Ne,N,Y,q,de,Wt,ti,ei,ii,zi,Q,U,He,O,Ie],encapsulation:2});var _i=Zr;var C0=["*","*"];function rI(n,l){if(n&1&&(r(0,"label",15),c(1),a()),n&2){let e=m(2);d("for",ve("app-cms-site-selector-",e.id)),o(),M(e.optionLabel)}}function aI(n,l){if(n&1&&(C(0,"img",16),_(1,"cmsthumbnail")),n&2){let e=m(2);d("src",x(g(1,2,e.dataModelSelect==null?null:e.dataModelSelect.linkMainImageIdSrc)),j)}}function lI(n,l){if(n&1&&(C(0,"img",16),_(1,"cmsthumbnail")),n&2){let e=m().$implicit;d("src",x(g(1,2,e.linkMainImageIdSrc)),j)}}function sI(n,l){if(n&1&&(r(0,"mat-option",17),S(1,lI,2,4,"img",7),r(2,"span"),c(3),a()()),n&2){let e=l.$implicit,i=m(2);d("value",e)("disabled",i.optionDisabled),o(),d("ngIf",e.linkMainImageIdSrc),o(2),M(i.displayOption(e))}}function dI(n,l){n&1&&C(0,"i",18)}function cI(n,l){n&1&&C(0,"i",19)}function pI(n,l){if(n&1){let e=I();r(0,"i",20),E("click",function(){u(e);let t=m(2);return f(t.onActionSelectClear())}),a()}}function mI(n,l){n&1&&(r(0,"em"),c(1),_(2,"translate"),a()),n&2&&(o(),y("(",g(2,1,"TITLE.Necessary"),")"))}function uI(n,l){if(n&1){let e=I();r(0,"div",3),C(1,"app-progress-spinner",4),S(2,rI,2,3,"label",5),r(3,"span",6),S(4,aI,2,4,"img",7),c(5," \xA0"),a(),C(6,"input",8),r(7,"mat-autocomplete",9,0),E("optionSelected",function(t){u(e);let s=m();return f(s.onActionSelect(t.option.value))}),S(9,sI,4,4,"mat-option",10),_(10,"async"),a(),S(11,dI,1,0,"i",11)(12,cI,1,0,"i",12)(13,pI,1,0,"i",13)(14,mI,3,3,"em",14),ai(15),a()}if(n&2){let e=k(8),i=m();o(),d("optionsInfoAreaId",i.constructorInfoAreaId),o(),d("ngIf",(i.optionLabel==null?null:i.optionLabel.length)>0),o(2),d("ngIf",i.dataModelSelect&&(i.dataModelSelect==null?null:i.dataModelSelect.linkMainImageIdSrc)),o(2),d("placeholder",x(i.optionPlaceholder))("id",ve("app-cms-site-selector-",i.id))("formControl",i.formControl)("matAutocomplete",e)("required",i.optionRequired),yt("disabled",i.optionDisabled?!0:null),o(),d("displayWith",i.displayFn),o(2),d("ngForOf",g(10,17,i.filteredOptions)),o(2),d("ngIf",!i.formControl.valid),o(),d("ngIf",i.optionRequired&&i.formControl.valid),o(),d("ngIf",(i.dataModelSelect==null||i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0),o(),d("ngIf",i.optionRequired&&(!i.dataModelSelect||!i.dataModelSelect.id||(i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)==0))}}function fI(n,l){if(n&1){let e=I();r(0,"div",23)(1,"a",24),E("click",function(){let t=u(e).$implicit,s=m(2);return f(s.onActionSelect(t))}),c(2),a()()}if(n&2){let e=l.$implicit,i=m(2);o(),d("ngClass",e.id===(i.dataModelSelect==null?null:i.dataModelSelect.id)?"btn font-13 font-600 btn-s m-1 rounded-xl shadow-xl border-0 gradient-highlight btn-full":"btn font-13 font-600 btn-s m-1 rounded-xl shadow-xl border-blue-dark color-blue-dark bg-theme btn-border btn-full"),yt("disabled",i.optionDisabled?!0:null),o(),M(i.displayOption(e))}}function _I(n,l){if(n&1){let e=I();r(0,"i",20),E("click",function(){u(e);let t=m(2);return f(t.onActionSelectClear())}),a()}}function gI(n,l){if(n&1&&(r(0,"div",21),S(1,fI,3,3,"div",22),_(2,"async"),S(3,_I,1,0,"i",13),ai(4,1),a()),n&2){let e=m();o(),d("ngForOf",g(2,2,e.filteredOptions)),o(2),d("ngIf",(e.dataModelSelect==null||e.dataModelSelect.id==null?null:e.dataModelSelect.id.length)>0)}}var Jr=class Jr{constructor(l,e,i,t,s,h,p,D){this.coreEnumService=l;this.cmsToastrService=e;this.cdr=i;this.publicHelper=t;this.translate=s;this.tokenHelper=h;this.cmsStoreService=p;this.categoryService=D;this.id=++Jr.nextId;this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new G;this.dataModelSelect=new bn;this.formControl=new Ct;this.optionTypeView=1;this.optionAllowUnSelect=!1;this.optionDisabled=!1;this.optionRequired=!1;this.optionSelectFirstItem=!1;this.optionPlaceholder="";this.optionLabel="";this.optionChange=new Xe;this.optionReload=()=>this.onActionButtonReload();this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(l){l&&(typeof l=="string"&&l.length>0||typeof l==typeof bn)&&this.onActionSelectForce(l)}ngOnInit(){this.loadOptions(),(!this.optionLabel||this.optionLabel.length==0&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder),this.cmsApiStoreSubscribe=this.cmsStoreService.getState(l=>l.tokenInfoStore).subscribe(l=>re(this,null,function*(){this.loadOptions()}))}ngOnDestroy(){this.cmsApiStoreSubscribe&&this.cmsApiStoreSubscribe.unsubscribe()}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(Kt(""),Yt(1500),Ii(),Zt(l=>typeof l=="string"||typeof l=="number"?this.DataGetAll(l||""):[]))}displayFn(l){return l?l.titleML:void 0}displayOption(l){return l?l.titleML:void 0}DataGetAll(l){return re(this,null,function*(){let e=new pe;if(e.rowPerPage=20,e.accessLoad=!0,typeof l=="string"&&l.length>0){let t=new H;t.propertyName="Name",t.value=l,t.searchType=Oe.Contains,e.filters.push(t),t=new H,t.propertyName="Id",t.value=l,t.searchType=Oe.Equal,t.clauseType=Ve.Or,e.filters.push(t)}let i=this.constructor.name+"main";return this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructorInfoAreaId)}),yield Ei(this.categoryService.ServiceGetAll(e)).then(t=>(this.dataModelResult=t,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||this.dataModelSelect.id.length===0)&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0])},1e3),this.onActionSelect(this.dataModelResult.listItems[0])),this.publicHelper.processService.processStop(i),t.listItems))})}onActionSelect(l){this.optionDisabled||(this.optionAllowUnSelect&&this.dataModelSelect&&this.dataModelSelect.id==l.id&&this.onActionSelectClear(),this.dataModelSelect=l,this.optionChange.emit(this.dataModelSelect))}onActionSelectClear(){this.optionDisabled||(this.dataModelSelect=null,this.formControl.patchValue(""),this.optionChange.emit(null),Promise.resolve().then(()=>this.cdr.detectChanges()))}push(l){return this.filteredOptions.pipe(Lt(e=>(e.find(i=>i.id===l.id)||e.push(l),e)))}onActionSelectForce(l){if((!l||typeof l=="string"&&l.length===0)&&(this.dataModelSelect=new bn),typeof l=="string"&&l.length>0){if(this.dataModelSelect&&this.dataModelSelect.id===l)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(e=>e.id===l)){let e=this.dataModelResult.listItems.find(i=>i.id===l);this.dataModelSelect=e,this.formControl.setValue(e);return}this.categoryService.ServiceGetOneById(l).subscribe({next:e=>{e.isSuccess?(this.filteredOptions=this.push(e.item),this.dataModelSelect=e.item,this.formControl.setValue(e.item),this.optionChange.emit(e.item)):this.cmsToastrService.typeErrorMessage(e.errorMessage)}});return}if(typeof l==typeof bn){this.filteredOptions=this.push(l),this.dataModelSelect=l,this.formControl.setValue(l);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new bn,this.loadOptions()}};Jr.nextId=0,Jr.\u0275fac=function(e){return new(e||Jr)(v(J),v(V),v(B),v(F),v(L),v(K),v(Z),v(gn))},Jr.\u0275cmp=R({type:Jr,selectors:[["app-estate-property-type-usage-selector"]],inputs:{optionTypeView:"optionTypeView",optionAllowUnSelect:"optionAllowUnSelect",optionDisabled:"optionDisabled",optionRequired:"optionRequired",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionLabel:"optionLabel",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange"},standalone:!1,ngContentSelectors:C0,decls:2,vars:2,consts:[["matauto","matAutocomplete"],["class","input-style has-borders has-icon  input-style-always-active validate-field mb-4 loader-container",4,"ngIf"],["class","row mb-0",4,"ngIf"],[1,"input-style","has-borders","has-icon","input-style-always-active","validate-field","mb-4","loader-container"],[3,"optionsInfoAreaId"],["class","color-highlight",3,"for",4,"ngIf"],["matPrefix",""],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","25","width","25",3,"src",4,"ngIf"],["type","text","aria-label","Assignee","matInput","",3,"placeholder","formControl","matAutocomplete","required","id"],[3,"optionSelected","displayWith"],[3,"value","disabled",4,"ngFor","ngForOf"],["class","fa fa-info  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],["class","fa fa-times  action color-red-dark",3,"click",4,"ngIf"],[4,"ngIf"],[1,"color-highlight",3,"for"],["aria-hidden","","height","25","width","25",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"value","disabled"],[1,"fa","fa-info","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"fa","fa-times","action","color-red-dark",3,"click"],[1,"row","mb-0"],["class","col-xl-2 col-lg-3 col-md-4 col-sm-12 pe-1",4,"ngFor","ngForOf"],[1,"col-xl-2","col-lg-3","col-md-4","col-sm-12","pe-1"],[3,"click","ngClass"]],template:function(e,i){e&1&&(gi(C0),S(0,uI,16,19,"div",1)(1,gI,5,4,"div",2)),e&2&&(d("ngIf",i.optionTypeView===1),o(),d("ngIf",i.optionTypeView===2))},dependencies:[se,Ne,N,Y,q,de,Wt,ti,ei,ii,zi,Q,U,He,O,Ie],encapsulation:2});var nn=Jr;var S0=["*","*"];function hI(n,l){if(n&1&&(r(0,"label",13),c(1),a()),n&2){let e=m(2);d("for",ve("app-cms-site-selector-",e.id)),o(),M(e.optionLabel)}}function yI(n,l){if(n&1&&(r(0,"mat-option",14)(1,"span"),c(2),a()()),n&2){let e=l.$implicit,i=m(2);d("value",e)("disabled",i.optionDisabled),o(2),M(i.displayOption(e))}}function CI(n,l){n&1&&C(0,"i",15)}function SI(n,l){n&1&&C(0,"i",16)}function vI(n,l){if(n&1){let e=I();r(0,"i",17),E("click",function(){u(e);let t=m(2);return f(t.onActionSelectClear())}),a()}}function EI(n,l){n&1&&(r(0,"em"),c(1),_(2,"translate"),a()),n&2&&(o(),y("(",g(2,1,"TITLE.Necessary"),")"))}function II(n,l){if(n&1){let e=I();r(0,"div",3),C(1,"app-progress-spinner",4),S(2,hI,2,3,"label",5),C(3,"input",6),r(4,"mat-autocomplete",7,0),E("optionSelected",function(t){u(e);let s=m();return f(s.onActionSelect(t.option.value))}),S(6,yI,3,3,"mat-option",8),_(7,"async"),a(),S(8,CI,1,0,"i",9)(9,SI,1,0,"i",10)(10,vI,1,0,"i",11)(11,EI,3,3,"em",12),ai(12),a()}if(n&2){let e=k(5),i=m();o(),d("optionsInfoAreaId",i.constructorInfoAreaId),o(),d("ngIf",(i.optionLabel==null?null:i.optionLabel.length)>0),o(),d("placeholder",x(i.optionPlaceholder))("id",ve("app-cms-site-selector-",i.id))("formControl",i.formControl)("matAutocomplete",e)("required",i.optionRequired),yt("disabled",i.optionDisabled?!0:null),o(),d("displayWith",i.displayFn),o(2),d("ngForOf",g(7,16,i.filteredOptions)),o(2),d("ngIf",!i.formControl.valid),o(),d("ngIf",i.optionRequired&&i.formControl.valid),o(),d("ngIf",(i.dataModelSelect==null||i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0),o(),d("ngIf",i.optionRequired&&(!i.dataModelSelect||!i.dataModelSelect.id||(i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)==0))}}function MI(n,l){if(n&1){let e=I();r(0,"div",20)(1,"a",21),E("click",function(){let t=u(e).$implicit,s=m(2);return f(s.onActionSelect(t))}),c(2),a()()}if(n&2){let e=l.$implicit,i=m(2);o(),d("ngClass",e.id===(i.dataModelSelect==null?null:i.dataModelSelect.id)?"btn font-13 font-600 btn-s m-1 rounded-xl shadow-xl border-0 gradient-highlight btn-full":"btn font-13 font-600 btn-s m-1 rounded-xl shadow-xl border-blue-dark color-blue-dark bg-theme btn-border btn-full"),yt("disabled",i.optionDisabled?!0:null),o(),M(i.displayOption(e))}}function bI(n,l){if(n&1){let e=I();r(0,"i",17),E("click",function(){u(e);let t=m(2);return f(t.onActionSelectClear())}),a()}}function TI(n,l){if(n&1&&(r(0,"div",18),S(1,MI,3,3,"div",19),_(2,"async"),S(3,bI,1,0,"i",11),ai(4,1),a()),n&2){let e=m();o(),d("ngForOf",g(2,2,e.filteredOptions)),o(2),d("ngIf",(e.dataModelSelect==null||e.dataModelSelect.id==null?null:e.dataModelSelect.id.length)>0)}}var Xr=class Xr{constructor(l,e,i,t,s,h,p,D){this.coreEnumService=l;this.cmsToastrService=e;this.tokenHelper=i;this.cmsStoreService=t;this.translate=s;this.cdr=h;this.publicHelper=p;this.categoryService=D;this.id=++Xr.nextId;this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new G;this.dataModelSelect=new Gn;this.formControl=new Ct;this.optionDisabled=!1;this.optionRequired=!1;this.optionSelectFirstItem=!1;this.optionPlaceholder="";this.optionLabel="";this.optionChange=new Xe;this.optionAllowUnSelect=!1;this.optionTypeView=1;this.typeUsageId="";this.optionReload=()=>this.onActionButtonReload();this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(l){l&&(typeof l=="string"&&l.length>0||typeof l==typeof Gn)&&this.onActionSelectForce(l)}set optionTypeUsageId(l){this.typeUsageId=l,this.loadOptions()}ngOnInit(){this.loadOptions(),(!this.optionLabel||this.optionLabel.length==0&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder),this.cmsApiStoreSubscribe=this.cmsStoreService.getState(l=>l.tokenInfoStore).subscribe(l=>re(this,null,function*(){this.loadOptions()}))}ngOnDestroy(){this.cmsApiStoreSubscribe&&this.cmsApiStoreSubscribe.unsubscribe()}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(Kt(""),Yt(1500),Ii(),Zt(l=>typeof l=="string"||typeof l=="number"?this.DataGetAll(l||""):[]))}displayFn(l){return l?l.titleML:void 0}displayOption(l){return l?l.titleML:void 0}DataGetAll(l){return re(this,null,function*(){let e=new pe;e.rowPerPage=20,e.accessLoad=!0;let i=new H,t=new H;l&&l.length>0&&(i.propertyName="Title",i.value=l,i.searchType=Oe.Contains,i.clauseType=Ve.Or,t.filters.push(i),i=new H,i.propertyName="Id",i.value=l,i.searchType=Oe.Equal,i.clauseType=Ve.Or,t.filters.push(i),e.filters.push(t)),this.typeUsageId&&this.typeUsageId.length>0&&(i=new H,i.propertyName="PropertyTypes",i.propertyAnyName="LinkPropertyTypeUsageId",i.value=this.typeUsageId,i.searchType=Oe.Equal,i.clauseType=Ve.And,e.filters.push(i));let s=this.constructor.name+"main";return this.translate.get("MESSAGE.Receiving_information").subscribe(h=>{this.publicHelper.processService.processStart(s,h,this.constructorInfoAreaId)}),yield Ei(this.categoryService.ServiceGetAll(e)).then(h=>(this.dataModelResult=h,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||this.dataModelSelect.id.length===0)&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0])},1e3),this.onActionSelect(this.dataModelResult.listItems[0])),this.publicHelper.processService.processStop(s),h.listItems))})}onActionSelect(l){this.optionDisabled||(this.optionAllowUnSelect&&this.dataModelSelect&&this.dataModelSelect.id==l.id&&this.onActionSelectClear(),this.dataModelSelect=l,this.optionChange.emit(this.dataModelSelect))}onActionSelectClear(){this.optionDisabled||(this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null))}push(l){return this.filteredOptions.pipe(Lt(e=>(e.find(i=>i.id===l.id)||e.push(l),e)))}onActionSelectForce(l){if((!l||typeof l=="string"&&l.length===0)&&(this.dataModelSelect=new Gn),typeof l=="string"&&l.length>0){if(this.dataModelSelect&&this.dataModelSelect.id===l)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(e=>e.id===l)){let e=this.dataModelResult.listItems.find(i=>i.id===l);this.dataModelSelect=e,this.formControl.setValue(e);return}this.categoryService.ServiceGetOneById(l).subscribe({next:e=>{e.isSuccess?(this.filteredOptions=this.push(e.item),this.dataModelSelect=e.item,this.formControl.setValue(e.item),this.optionChange.emit(e.item)):this.cmsToastrService.typeErrorMessage(e.errorMessage)}});return}if(typeof l==typeof Gn){this.filteredOptions=this.push(l),this.dataModelSelect=l,this.formControl.setValue(l);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new Gn,this.loadOptions()}};Xr.nextId=0,Xr.\u0275fac=function(e){return new(e||Xr)(v(J),v(V),v(K),v(Z),v(L),v(B),v(F),v(xi))},Xr.\u0275cmp=R({type:Xr,selectors:[["app-estate-contract-type-selector"]],inputs:{optionSelectForce:"optionSelectForce",optionTypeUsageId:"optionTypeUsageId",optionDisabled:"optionDisabled",optionRequired:"optionRequired",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionLabel:"optionLabel",optionAllowUnSelect:"optionAllowUnSelect",optionTypeView:"optionTypeView",optionReload:"optionReload"},outputs:{optionChange:"optionChange"},standalone:!1,ngContentSelectors:S0,decls:2,vars:2,consts:[["matauto","matAutocomplete"],["class","input-style has-borders has-icon input-style-always-active validate-field mb-4 loader-container",4,"ngIf"],["class","row mb-0",4,"ngIf"],[1,"input-style","has-borders","has-icon","input-style-always-active","validate-field","mb-4","loader-container"],[3,"optionsInfoAreaId"],["class","color-highlight",3,"for",4,"ngIf"],["type","text","aria-label","Assignee","matInput","",3,"placeholder","formControl","matAutocomplete","required","id"],[3,"optionSelected","displayWith"],[3,"value","disabled",4,"ngFor","ngForOf"],["class","fa fa-info invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],["class","fa fa-times action color-red-dark",3,"click",4,"ngIf"],[4,"ngIf"],[1,"color-highlight",3,"for"],[3,"value","disabled"],[1,"fa","fa-info","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"fa","fa-times","action","color-red-dark",3,"click"],[1,"row","mb-0"],["class","col-xl-2 col-lg-3 col-md-4 col-sm-12 pe-1",4,"ngFor","ngForOf"],[1,"col-xl-2","col-lg-3","col-md-4","col-sm-12","pe-1"],[3,"click","ngClass"]],template:function(e,i){e&1&&(gi(S0),S(0,II,13,18,"div",1)(1,TI,5,4,"div",2)),e&2&&(d("ngIf",i.optionTypeView===1),o(),d("ngIf",i.optionTypeView===2))},dependencies:[se,Ne,N,Y,q,de,Wt,ti,ei,ii,Q,U,He,O],encapsulation:2});var on=Xr;var wI=["vform"],xI=n=>({direction:n}),AI=()=>["descriptionDetail"];function PI(n,l){n&1&&(r(0,"p"),c(1),_(2,"translate"),a()),n&2&&(o(),y(" ",g(2,1,"TITLE.Property_Type")))}function kI(n,l){if(n&1){let e=I();r(0,"div",41)(1,"a",42),E("click",function(){let t=u(e).$implicit,s=m(2);return f(s.onActionSelectorSelectLanduse(t))}),c(2),a()()}if(n&2){let e=l.$implicit,i=m(2);o(),d("ngClass",e.id===i.dataModel.linkPropertyTypeLanduseId?"btn font-13 font-600 btn-s m-1 rounded-xl shadow-xl border-0 gradient-highlight btn-full":"btn font-13 font-600 btn-s m-1 rounded-xl shadow-xl border-blue-dark color-blue-dark bg-theme btn-border btn-full"),yt("disabled",i.fieldsInfo.linkPropertyTypeLanduseId!=null&&i.fieldsInfo.linkPropertyTypeLanduseId.accessAddField?null:!0),o(),M(e.titleML)}}function DI(n,l){if(n&1&&(r(0,"div",39),S(1,kI,3,3,"div",40),a()),n&2){let e=m();o(),d("ngForOf",e.listTypeLanduse)}}function RI(n,l){if(n&1){let e=I();r(0,"app-estate-property-type-landuse-selector",43),_(1,"translate"),E("optionChange",function(t){u(e);let s=m();return f(s.onActionSelectorSelectLanduse(t))}),a()}if(n&2){let e=m();d("optionDisabled",!(e.fieldsInfo.linkPropertyTypeLanduseId!=null&&e.fieldsInfo.linkPropertyTypeLanduseId.accessAddField))("optionTypeView",2)("optionSelectForce",e.dataModel.linkPropertyTypeLanduseId)("optionPlaceholder",g(1,5,"TITLE.Property_Type"))("optionTypeUsageId",e.dataModel.linkPropertyTypeUsageId)}}function LI(n,l){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),_(4,"translate"),a()()),n&2){let e=m(3);o(),y(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," "),o(2),M(g(4,2,"MESSAGE.required"))}}function VI(n,l){if(n&1){let e=I();r(0,"div",52)(1,"label",55),c(2),a(),r(3,"input",56,3),w("ngModelChange",function(t){u(e);let s=m(2);return T(s.dataModel.title,t)||(s.dataModel.title=t),f(t)}),a(),r(5,"em"),c(6),a(),S(7,LI,5,4,"mat-error",24),a()}if(n&2){let e=k(4),i=m(2);o(2),M(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(),d("disabled",x(!(i.fieldsInfo.title!=null&&i.fieldsInfo.title.accessAddField)))("placeholder",x(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle)),b("ngModel",i.dataModel.title),o(3),y("",e.value.length," / 100"),o(),d("ngIf",e.errors==null?null:e.errors.required)}}function OI(n,l){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),_(4,"translate"),a()()),n&2){let e=m(3);o(),y(" ",e.fieldsInfo.caseCode==null?null:e.fieldsInfo.caseCode.fieldTitle," "),o(2),M(g(4,2,"MESSAGE.required"))}}function FI(n,l){if(n&1){let e=I();r(0,"div",52)(1,"label",57),c(2),a(),r(3,"input",58,4),w("ngModelChange",function(t){u(e);let s=m(2);return T(s.dataModel.caseCode,t)||(s.dataModel.caseCode=t),f(t)}),a(),r(5,"em"),c(6),a(),S(7,OI,5,4,"mat-error",24),a()}if(n&2){let e=k(4),i=m(2);o(2),M(i.fieldsInfo.caseCode==null?null:i.fieldsInfo.caseCode.fieldTitle),o(),d("disabled",x(!(i.fieldsInfo.caseCode!=null&&i.fieldsInfo.caseCode.accessAddField)))("placeholder",x(i.fieldsInfo.caseCode==null?null:i.fieldsInfo.caseCode.fieldTitle)),b("ngModel",i.dataModel.caseCode),o(3),y("",e.value.length," / 100"),o(),d("ngIf",e.errors==null?null:e.errors.required)}}function BI(n,l){if(n&1){let e=I();r(0,"div",52)(1,"label",59),c(2),a(),r(3,"input",60,5),w("ngModelChange",function(t){u(e);let s=m(2);return T(s.dataModel.createdYaer,t)||(s.dataModel.createdYaer=t),f(t)}),a()()}if(n&2){let e=m(2);o(2),M(e.PropertyTypeSelected.titleCreatedYaer),o(),d("placeholder",x(e.fieldsInfo.createdYaer==null?null:e.fieldsInfo.createdYaer.fieldTitle)),b("ngModel",e.dataModel.createdYaer)}}function NI(n,l){if(n&1){let e=I();r(0,"div",52)(1,"label",61),c(2),a(),r(3,"input",62,6),w("ngModelChange",function(t){u(e);let s=m(2);return T(s.dataModel.partition,t)||(s.dataModel.partition=t),f(t)}),a()()}if(n&2){let e=m(2);o(2),M(e.PropertyTypeSelected.titlePartition),o(),d("placeholder",x(e.PropertyTypeSelected.titlePartition)),b("ngModel",e.dataModel.partition)}}function HI(n,l){if(n&1){let e=I();r(0,"div",52)(1,"label",63),c(2),a(),r(3,"input",64,7),w("ngModelChange",function(t){u(e);let s=m(2);return T(s.dataModel.area,t)||(s.dataModel.area=t),f(t)}),a()()}if(n&2){let e=m(2);o(2),M(e.fieldsInfo.area==null?null:e.fieldsInfo.area.fieldTitle),o(),d("disabled",x(!(e.fieldsInfo.area!=null&&e.fieldsInfo.area.accessAddField)))("placeholder",x(e.fieldsInfo.area==null?null:e.fieldsInfo.area.fieldTitle)),b("ngModel",e.dataModel.area)}}function WI(n,l){if(n&1){let e=I();r(0,"div",52)(1,"label",65),c(2),a(),r(3,"textarea",66,8),w("ngModelChange",function(t){u(e);let s=m(2);return T(s.dataModel.address,t)||(s.dataModel.address=t),f(t)}),a(),r(5,"em"),c(6),a()()}if(n&2){let e=k(4),i=m(2);o(2),M(i.fieldsInfo.address==null?null:i.fieldsInfo.address.fieldTitle),o(),d("placeholder",x(i.fieldsInfo.address==null?null:i.fieldsInfo.address.fieldTitle)),b("ngModel",i.dataModel.address),d("disabled",!(i.fieldsInfo.address!=null&&i.fieldsInfo.address.accessAddField)),o(3),y("",e.value.length," / 500")}}function GI(n,l){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),_(4,"translate"),a()()),n&2){let e=m(2);o(),y(" ",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle," "),o(2),M(g(4,2,"MESSAGE.required"))}}function UI(n,l){if(n&1){let e=I();r(0,"div"),c(1," close "),S(2,VI,8,8,"div",29)(3,FI,8,8,"div",29),r(4,"div",44)(5,"div",45)(6,"h5",46),c(7),a()(),r(8,"div",47)(9,"div",48)(10,"input",49),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.viewConfigHiddenInList,t)||(s.dataModel.viewConfigHiddenInList=t),f(t)}),a(),C(11,"label",50),a()()(),S(12,BI,5,4,"div",29)(13,NI,5,4,"div",29)(14,HI,5,6,"div",29),r(15,"app-cms-location-selector",51),_(16,"translate"),E("optionChange",function(t){u(e);let s=m();return f(s.onActionSelectorLocation(t))}),a(),S(17,WI,7,6,"div",29),r(18,"div",52)(19,"label",53),c(20),_(21,"translate"),a(),r(22,"textarea",54,2),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.description,t)||(s.dataModel.description=t),f(t)}),a(),r(24,"em"),c(25),a(),S(26,GI,5,4,"mat-error",24),a()()}if(n&2){let e=k(23),i=m();o(2),d("ngIf",i.fieldsInfo.title==null?null:i.fieldsInfo.title.accessWatchField),o(),d("ngIf",i.fieldsInfo.caseCode==null?null:i.fieldsInfo.caseCode.accessWatchField),o(4),y(" ",i.fieldsInfo.viewConfigHiddenInList==null?null:i.fieldsInfo.viewConfigHiddenInList.fieldTitle),o(3),b("ngModel",i.dataModel.viewConfigHiddenInList),o(2),d("ngIf",i.dataModel.linkPropertyTypeLanduseId&&i.PropertyTypeSelected.titleCreatedYaer.length>1&&i.PropertyTypeSelected.titleCreatedYaer!=="---"),o(),d("ngIf",i.dataModel.linkPropertyTypeLanduseId&&i.PropertyTypeSelected.titlePartition.length>1&&i.PropertyTypeSelected.titleCreatedYaer!=="---"),o(),d("ngIf",i.fieldsInfo.area==null?null:i.fieldsInfo.area.accessWatchField),o(),d("optionDisabled",!(i.fieldsInfo.linkLocationId!=null&&i.fieldsInfo.linkLocationId.accessAddField))("optionSelectForce",i.dataModel.linkLocationId)("optionPlaceholder",g(16,19,"TITLE.Region")),o(2),d("ngIf",i.fieldsInfo.address==null?null:i.fieldsInfo.address.accessWatchField),o(3),M(g(21,21,"TITLE.General_Description")),o(2),d("disabled",x(!(i.fieldsInfo.description!=null&&i.fieldsInfo.description.accessAddField)))("placeholder",x(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle)),b("ngModel",i.dataModel.description),o(3),y("",e.value.length," / 2000"),o(),d("ngIf",e.errors==null?null:e.errors.required)}}function jI(n,l){if(n&1&&(r(0,"button",70),c(1),_(2,"translate"),a()),n&2){m(2);let e=k(11);d("disabled",!e.form.valid),o(),y(" ",g(2,2,"ACTION.NEXT")," ")}}function qI(n,l){if(n&1){let e=I();r(0,"div",67)(1,"button",68),E("click",function(){u(e);let t=m();return f(t.onActionBackToParent())}),c(2),_(3,"translate"),a(),S(4,jI,3,4,"button",69),a()}if(n&2){let e=m();o(2),y(" ",g(3,2,"ACTION.CANCEL")," "),o(2),d("ngIf",e.dataModel.linkPropertyTypeUsageId&&e.dataModel.linkPropertyTypeUsageId.length>0)}}function QI(n,l){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),_(4,"translate"),a()()),n&2){let e=m(3);o(),y(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," "),o(2),M(g(4,2,"MESSAGE.required"))}}function zI(n,l){if(n&1){let e=I();r(0,"div",52)(1,"label",78),c(2),a(),r(3,"input",79,9),w("ngModelChange",function(t){u(e);let s=m(2);return T(s.dataModel.linkSiteId,t)||(s.dataModel.linkSiteId=t),f(t)}),a(),r(5,"em"),c(6),a(),S(7,QI,5,4,"mat-error",24),a()}if(n&2){let e=k(4),i=m(2);o(2),M(i.fieldsInfo.linkSiteId==null?null:i.fieldsInfo.linkSiteId.fieldTitle),o(),d("disabled",x(!(i.fieldsInfo.linkSiteId!=null&&i.fieldsInfo.linkSiteId.accessAddField)))("placeholder",x(i.fieldsInfo.linkSiteId==null?null:i.fieldsInfo.linkSiteId.fieldTitle)),b("ngModel",i.dataModel.linkSiteId),o(3),y("",e.value.length," / 100"),o(),d("ngIf",e.errors==null?null:e.errors.required)}}function YI(n,l){if(n&1){let e=I();r(0,"app-cms-enum-record-status-selector",80),w("modelChange",function(t){u(e);let s=m(2);return T(s.dataModel.mainAdminRecordStatus,t)||(s.dataModel.mainAdminRecordStatus=t),f(t)}),a()}if(n&2){let e=m(2);b("model",e.dataModel.mainAdminRecordStatus),d("optionDisabled",!1)("optionLabel",e.fieldsInfo.mainAdminRecordStatus==null?null:e.fieldsInfo.mainAdminRecordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function KI(n,l){if(n&1&&(r(0,"button",70),c(1),_(2,"translate"),a()),n&2){m(3);let e=k(11);d("disabled",!e.form.valid),o(),y(" ",g(2,2,"ACTION.NEXT")," ")}}function ZI(n,l){if(n&1&&(r(0,"div",67)(1,"button",81),c(2),_(3,"translate"),a(),S(4,KI,3,4,"button",69),a()),n&2){let e=m(2);o(2),y(" ",g(3,2,"ACTION.BEFOR")," "),o(2),d("ngIf",e.dataModel.linkPropertyTypeUsageId&&e.dataModel.linkPropertyTypeUsageId.length>0)}}function JI(n,l){if(n&1){let e=I();r(0,"mat-step",22),_(1,"translate"),S(2,zI,8,8,"div",29),r(3,"div",44)(4,"div",45)(5,"h5",71),c(6),a()(),r(7,"div",47)(8,"div",48)(9,"input",72),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.viewContentHidden,t)||(s.dataModel.viewContentHidden=t),f(t)}),a(),C(10,"label",73),a()()(),r(11,"div",44)(12,"div",45)(13,"h5",74),c(14),a()(),r(15,"div",47)(16,"div",48)(17,"input",75),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.siteAdminViewContentHidden,t)||(s.dataModel.siteAdminViewContentHidden=t),f(t)}),a(),C(18,"label",76),a()()(),S(19,YI,1,5,"app-cms-enum-record-status-selector",77)(20,ZI,5,4,"div",27),a()}if(n&2){let e=m();d("label",x(g(1,9,"TITLE.Admin_Config"))),o(2),d("ngIf",(e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.accessWatchField)&&e.tokenHelper.isAdminSite),o(4),y(" ",e.fieldsInfo.viewContentHidden==null?null:e.fieldsInfo.viewContentHidden.fieldTitle),o(3),b("ngModel",e.dataModel.viewContentHidden),o(5),y(" ",e.fieldsInfo.siteAdminViewContentHidden==null?null:e.fieldsInfo.siteAdminViewContentHidden.fieldTitle),o(3),b("ngModel",e.dataModel.siteAdminViewContentHidden),o(2),d("ngIf",e.fieldsInfo.mainAdminRecordStatus==null?null:e.fieldsInfo.mainAdminRecordStatus.accessWatchField),o(),d("ngIf",e.formInfo.formSubmitAllow)}}function XI(n,l){if(n&1){let e=I();r(0,"div",52)(1,"label",82),c(2),a(),r(3,"input",83,10),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.aboutCustomerMobile,t)||(s.dataModel.aboutCustomerMobile=t),f(t)}),a(),r(5,"em"),c(6),a()()}if(n&2){let e=k(4),i=m();o(2),M(i.fieldsInfo.aboutCustomerMobile==null?null:i.fieldsInfo.aboutCustomerMobile.fieldTitle),o(),d("disabled",x(!(i.fieldsInfo.aboutCustomerMobile!=null&&i.fieldsInfo.aboutCustomerMobile.accessAddField)))("placeholder",x(i.fieldsInfo.aboutCustomerMobile==null?null:i.fieldsInfo.aboutCustomerMobile.fieldTitle)),b("ngModel",i.dataModel.aboutCustomerMobile),o(3),y("",e.value.length," / 100")}}function $I(n,l){if(n&1){let e=I();r(0,"div",52)(1,"label",84),c(2),a(),r(3,"input",85,11),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.aboutCustomerTel,t)||(s.dataModel.aboutCustomerTel=t),f(t)}),a(),r(5,"em"),c(6),a()()}if(n&2){let e=k(4),i=m();o(2),M(i.fieldsInfo.aboutCustomerTel==null?null:i.fieldsInfo.aboutCustomerTel.fieldTitle),o(),d("disabled",x(!(i.fieldsInfo.aboutCustomerTel!=null&&i.fieldsInfo.aboutCustomerTel.accessAddField)))("placeholder",x(i.fieldsInfo.aboutCustomerTel==null?null:i.fieldsInfo.aboutCustomerTel.fieldTitle)),b("ngModel",i.dataModel.aboutCustomerTel),o(3),y("",e.value.length," / 100")}}function eM(n,l){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),_(4,"translate"),a()()),n&2){let e=m(2);o(),y(" ",e.fieldsInfo.descriptionHidden==null?null:e.fieldsInfo.descriptionHidden.fieldTitle," "),o(2),M(g(4,2,"MESSAGE.required"))}}function tM(n,l){if(n&1){let e=I();r(0,"div",52)(1,"label",86),c(2),_(3,"translate"),a(),r(4,"textarea",87,12),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.descriptionHidden,t)||(s.dataModel.descriptionHidden=t),f(t)}),a(),r(6,"em"),c(7),a(),S(8,eM,5,4,"mat-error",24),a()}if(n&2){let e=k(5),i=m();o(2),M(g(3,6,"TITLE.Description_Hidden")),o(2),d("placeholder",x(i.fieldsInfo.descriptionHidden==null?null:i.fieldsInfo.descriptionHidden.fieldTitle)),b("ngModel",i.dataModel.descriptionHidden),o(3),y("",e.value.length," / 2000"),o(),d("ngIf",e.errors==null?null:e.errors.required)}}function iM(n,l){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),_(4,"translate"),a()()),n&2){let e=m(2);o(),y(" ",e.fieldsInfo.addressHidden==null?null:e.fieldsInfo.addressHidden.fieldTitle," "),o(2),M(g(4,2,"MESSAGE.required"))}}function nM(n,l){if(n&1){let e=I();r(0,"div",52)(1,"label",88),c(2),_(3,"translate"),a(),r(4,"textarea",89,13),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.addressHidden,t)||(s.dataModel.addressHidden=t),f(t)}),a(),r(6,"em"),c(7),a(),S(8,iM,5,4,"mat-error",24),a()}if(n&2){let e=k(5),i=m();o(2),M(g(3,6,"TITLE.Address_Hidden")),o(2),d("placeholder",x(i.fieldsInfo.addressHidden==null?null:i.fieldsInfo.addressHidden.fieldTitle)),b("ngModel",i.dataModel.addressHidden),o(3),y("",e.value.length," / 2000"),o(),d("ngIf",e.errors==null?null:e.errors.required)}}function oM(n,l){if(n&1&&(r(0,"button",70),c(1),_(2,"translate"),a()),n&2){m(2);let e=k(11);d("disabled",!e.form.valid),o(),y(" ",g(2,2,"ACTION.NEXT")," ")}}function rM(n,l){if(n&1&&(r(0,"div",67)(1,"button",81),c(2),_(3,"translate"),a(),S(4,oM,3,4,"button",69),a()),n&2){let e=m();o(2),y(" ",g(3,2,"ACTION.BEFOR")," "),o(2),d("ngIf",e.dataModel.linkPropertyTypeUsageId&&e.dataModel.linkPropertyTypeUsageId.length>0)}}function aM(n,l){if(n&1){let e=I();r(0,"div",100)(1,"div",44)(2,"div",45)(3,"h5",101),c(4),_(5,"translate"),a()(),r(6,"div",47)(7,"div",48)(8,"input",102),w("ngModelChange",function(t){u(e);let s=m(4);return T(s.contractDataModel.salePriceByAgreement,t)||(s.contractDataModel.salePriceByAgreement=t),f(t)}),a(),C(9,"label",103),a()()()()}if(n&2){let e=m(4);o(4),y(" ",g(5,2,"TITLE.Agreement")),o(4),b("ngModel",e.contractDataModel.salePriceByAgreement)}}function lM(n,l){if(n&1){let e=I();r(0,"div",95)(1,"div",96)(2,"div",52)(3,"label",97),c(4),a(),r(5,"input",98),w("ngModelChange",function(t){u(e);let s=m(3);return T(s.contractDataModel.salePrice,t)||(s.contractDataModel.salePrice=t),f(t)}),a(),r(6,"label"),c(7),a()()(),S(8,aM,10,4,"div",99),a()}if(n&2){let e=m(3);o(4),M(e.contractTypeSelected.titleSalePriceML),o(),b("ngModel",e.contractDataModel.salePrice),d("disabled",e.contractDataModel.salePriceByAgreement),o(2),$(" (",e.dataModelCorCurrencySelector.titleML," ",e.dataModelCorCurrencySelector.symbol," ) "),o(),d("ngIf",e.contractTypeSelected.salePriceAllowAgreement)}}function sM(n,l){if(n&1){let e=I();r(0,"div",100)(1,"div",44)(2,"div",45)(3,"h5",106),c(4),_(5,"translate"),a()(),r(6,"div",47)(7,"div",48)(8,"input",107),w("ngModelChange",function(t){u(e);let s=m(4);return T(s.contractDataModel.depositPriceByAgreement,t)||(s.contractDataModel.depositPriceByAgreement=t),f(t)}),a(),C(9,"label",108),a()()()()}if(n&2){let e=m(4);o(4),y(" ",g(5,2,"TITLE.Agreement")),o(4),b("ngModel",e.contractDataModel.depositPriceByAgreement)}}function dM(n,l){if(n&1){let e=I();r(0,"div",95)(1,"div",96)(2,"div",52)(3,"label",104),c(4),a(),r(5,"input",105),w("ngModelChange",function(t){u(e);let s=m(3);return T(s.contractDataModel.depositPrice,t)||(s.contractDataModel.depositPrice=t),f(t)}),a(),r(6,"label"),c(7),a()()(),S(8,sM,10,4,"div",99),a()}if(n&2){let e=m(3);o(4),M(e.contractTypeSelected.titleDepositPriceML),o(),b("ngModel",e.contractDataModel.depositPrice),d("disabled",e.contractDataModel.depositPriceByAgreement),o(2),$(" (",e.dataModelCorCurrencySelector.titleML," ",e.dataModelCorCurrencySelector.symbol," ) "),o(),d("ngIf",e.contractTypeSelected.depositPriceAllowAgreement)}}function cM(n,l){if(n&1){let e=I();r(0,"div",100)(1,"div",44)(2,"div",45)(3,"h5",111),c(4),_(5,"translate"),a()(),r(6,"div",47)(7,"div",48)(8,"input",112),w("ngModelChange",function(t){u(e);let s=m(4);return T(s.contractDataModel.rentPriceByAgreement,t)||(s.contractDataModel.rentPriceByAgreement=t),f(t)}),a(),C(9,"label",113),a()()()()}if(n&2){let e=m(4);o(4),y(" ",g(5,2,"TITLE.Agreement")),o(4),b("ngModel",e.contractDataModel.rentPriceByAgreement)}}function pM(n,l){if(n&1){let e=I();r(0,"div",95)(1,"div",96)(2,"div",52)(3,"label",109),c(4),a(),r(5,"input",110),w("ngModelChange",function(t){u(e);let s=m(3);return T(s.contractDataModel.rentPrice,t)||(s.contractDataModel.rentPrice=t),f(t)}),a(),r(6,"label"),c(7),a()()(),S(8,cM,10,4,"div",99),a()}if(n&2){let e=m(3);o(4),M(e.contractTypeSelected.titleRentPriceML),o(),b("ngModel",e.contractDataModel.rentPrice),d("disabled",e.contractDataModel.rentPriceByAgreement),o(2),$(" (",e.dataModelCorCurrencySelector.titleML," ",e.dataModelCorCurrencySelector.symbol," ) "),o(),d("ngIf",e.contractTypeSelected.rentPriceAllowAgreement)}}function mM(n,l){if(n&1){let e=I();r(0,"div",100)(1,"div",44)(2,"div",45)(3,"h5",116),c(4),_(5,"translate"),a()(),r(6,"div",47)(7,"div",48)(8,"input",117),w("ngModelChange",function(t){u(e);let s=m(4);return T(s.contractDataModel.periodPriceByAgreement,t)||(s.contractDataModel.periodPriceByAgreement=t),f(t)}),a(),C(9,"label",118),a()()()()}if(n&2){let e=m(4);o(4),y(" ",g(5,2,"TITLE.Agreement")),o(4),b("ngModel",e.contractDataModel.periodPriceByAgreement)}}function uM(n,l){if(n&1){let e=I();r(0,"div",95)(1,"div",96)(2,"div",52)(3,"label",114),c(4),a(),r(5,"input",115),w("ngModelChange",function(t){u(e);let s=m(3);return T(s.contractDataModel.periodPrice,t)||(s.contractDataModel.periodPrice=t),f(t)}),a(),r(6,"label"),c(7),a()()(),S(8,mM,10,4,"div",99),a()}if(n&2){let e=m(3);o(4),M(e.contractTypeSelected.titlePeriodPriceML),o(),b("ngModel",e.contractDataModel.periodPrice),d("disabled",e.contractDataModel.periodPriceByAgreement),o(2),$(" (",e.dataModelCorCurrencySelector.titleML," ",e.dataModelCorCurrencySelector.symbol," ) "),o(),d("ngIf",e.contractTypeSelected.hasPeriodPrice&&e.contractTypeSelected.periodPriceAllowAgreement)}}function fM(n,l){if(n&1){let e=I();r(0,"div"),S(1,lM,9,6,"div",92)(2,dM,9,6,"div",92)(3,pM,9,6,"div",92)(4,uM,9,6,"div",92),C(5,"hr"),r(6,"div",52)(7,"label",93),c(8),a(),r(9,"textarea",94,14),w("ngModelChange",function(t){u(e);let s=m(2);return T(s.contractDataModel.description,t)||(s.contractDataModel.description=t),f(t)}),a(),r(11,"em"),c(12),a()()()}if(n&2){let e=k(10),i=m(2);o(),d("ngIf",i.contractTypeSelected.hasSalePrice),o(),d("ngIf",i.contractTypeSelected.hasDepositPrice),o(),d("ngIf",i.contractTypeSelected.hasRentPrice),o(),d("ngIf",i.contractTypeSelected.hasPeriodPrice),o(4),M(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle),o(),d("placeholder",x(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle)),b("ngModel",i.contractDataModel.description),o(3),y("",e.value.length," / 500")}}function _M(n,l){if(n&1){let e=I();r(0,"div",90),C(1,"br")(2,"br"),r(3,"app-cms-currency-selector",91),_(4,"translate"),E("optionChange",function(t){u(e);let s=m();return f(s.onActionSelectCurrency(t))}),a(),S(5,fM,13,9,"div",24),C(6,"br")(7,"br"),a()}if(n&2){let e=m();o(3),d("optionSelectFirstItem",e.currencyOptionSelectFirstItem)("optionSelectForce",e.contractDataModel.linkCoreCurrencyId)("optionPlaceholder",g(4,4,"TITLE.Specify_the_transaction_currency")),o(2),d("ngIf",e.contractDataModel.linkCoreCurrencyId>0)}}function gM(n,l){if(n&1){let e=I();r(0,"button",119),E("click",function(){u(e);let t=m();return f(t.onActionOptionAddToList())}),c(1),_(2,"translate"),a()}n&2&&(o(),y(" ",g(2,1,"ACTION.Add_To_List")," ... "))}function hM(n,l){n&1&&(r(0,"mat-header-cell"),c(1),_(2,"translate"),a()),n&2&&(o(),y(" ",g(2,1,"TITLE.Contract")," "))}function yM(n,l){if(n&1&&(r(0,"mat-cell"),c(1),_(2,"cmstitle"),a()),n&2){let e=l.$implicit,i=m(2);o(),y(" ",oi(2,1,e.linkEstateContractTypeId,i.dataModelEstateContractTypeResult.listItems)," ")}}function CM(n,l){n&1&&(r(0,"mat-header-cell"),c(1),_(2,"translate"),a()),n&2&&(o(),y(" ",g(2,1,"TITLE.SalePrice")," "))}function SM(n,l){if(n&1&&(A(0),c(1),_(2,"number"),C(3,"br"),c(4),P()),n&2){let e=m().$implicit;o(),y(" ",g(2,3,e.salePrice)," "),o(3),$(" ( ",e.currencyTitle," ",e.currencySymbol,") ")}}function vM(n,l){n&1&&(A(0),c(1),_(2,"translate"),P()),n&2&&(o(),y(" ",g(2,1,"TITLE.PriceByAgreement")," "))}function EM(n,l){if(n&1&&(r(0,"mat-cell"),S(1,SM,5,5,"ng-container",24)(2,vM,3,3,"ng-container",24),a()),n&2){let e=l.$implicit;o(),d("ngIf",e.salePrice>0),o(),d("ngIf",e.salePriceByAgreement)}}function IM(n,l){n&1&&(r(0,"mat-header-cell"),c(1),_(2,"translate"),a()),n&2&&(o(),y(" ",g(2,1,"TITLE.DepositPrice")," "))}function MM(n,l){if(n&1&&(A(0),c(1),_(2,"number"),C(3,"br"),c(4),P()),n&2){let e=m().$implicit;o(),y(" ",g(2,3,e.depositPrice)," "),o(3),$(" ( ",e.currencyTitle," ",e.currencySymbol,") ")}}function bM(n,l){n&1&&(A(0),c(1),_(2,"translate"),P()),n&2&&(o(),y(" ",g(2,1,"TITLE.PriceByAgreement")," "))}function TM(n,l){if(n&1&&(r(0,"mat-cell"),S(1,MM,5,5,"ng-container",24)(2,bM,3,3,"ng-container",24),a()),n&2){let e=l.$implicit;o(),d("ngIf",e.depositPrice>0),o(),d("ngIf",e.depositPriceByAgreement)}}function wM(n,l){n&1&&(r(0,"mat-header-cell"),c(1),_(2,"translate"),a()),n&2&&(o(),y(" ",g(2,1,"TITLE.RentPrice")," "))}function xM(n,l){if(n&1&&(A(0),c(1),_(2,"number"),C(3,"br"),c(4),P()),n&2){let e=m().$implicit;o(),y(" ",g(2,3,e.rentPrice)," "),o(3),$(" ( ",e.currencyTitle," ",e.currencySymbol,") ")}}function AM(n,l){n&1&&(A(0),c(1),_(2,"translate"),P()),n&2&&(o(),y(" ",g(2,1,"TITLE.PriceByAgreement")," "))}function PM(n,l){if(n&1&&(r(0,"mat-cell"),S(1,xM,5,5,"ng-container",24)(2,AM,3,3,"ng-container",24),a()),n&2){let e=l.$implicit;o(),d("ngIf",e.rentPrice>0),o(),d("ngIf",e.rentPriceByAgreement)}}function kM(n,l){n&1&&(r(0,"mat-header-cell"),c(1),_(2,"translate"),a()),n&2&&(o(),y(" ",g(2,1,"TITLE.PeriodPrice")," "))}function DM(n,l){if(n&1&&(A(0),c(1),_(2,"number"),C(3,"br"),c(4),P()),n&2){let e=m().$implicit;o(),y(" ",g(2,3,e.periodPrice)," "),o(3),$(" ( ",e.currencyTitle," ",e.currencySymbol,") ")}}function RM(n,l){n&1&&(A(0),c(1),_(2,"translate"),P()),n&2&&(o(),y(" ",g(2,1,"TITLE.PriceByAgreement")," "))}function LM(n,l){if(n&1&&(r(0,"mat-cell"),S(1,DM,5,5,"ng-container",24)(2,RM,3,3,"ng-container",24),a()),n&2){let e=l.$implicit;o(),d("ngIf",e.periodPrice>0),o(),d("ngIf",e.periodPriceByAgreement)}}function VM(n,l){n&1&&(r(0,"mat-header-cell"),c(1),_(2,"translate"),a()),n&2&&(o(),y(" ",g(2,1,"TITLE.OPTION")," "))}function OM(n,l){if(n&1){let e=I();r(0,"mat-cell",135)(1,"button",136),E("click",function(){let t=u(e).index,s=m(2);return f(s.onActionOptionRemoveFromList(t))}),r(2,"small")(3,"mat-icon",137),_(4,"translate"),c(5,"delete"),a()()()()}n&2&&(o(3),d("matTooltip",x(g(4,2,"ACTION.DELETE"))))}function FM(n,l){if(n&1&&(A(0),c(1),P()),n&2){let e=m().$implicit;o(),y(" ",e.description," ")}}function BM(n,l){if(n&1&&(r(0,"mat-cell",138),c(1),_(2,"translate"),S(3,FM,2,1,"ng-container",24),a()),n&2){let e=l.$implicit;o(),y(" ",g(2,2,"TITLE.DESCRIPTION")," : "),o(2),d("ngIf",e.description)}}function NM(n,l){n&1&&C(0,"mat-header-row")}function HM(n,l){if(n&1&&C(0,"mat-row"),n&2){let e=l.dataIndex;Se("ntk-row-odd",e%2)("ntk-row-even",!(e%2))}}function WM(n,l){if(n&1&&C(0,"mat-row"),n&2){let e=l.dataIndex;Se("ntk-row-odd",e%2)("ntk-row-even",!(e%2))}}function GM(n,l){if(n&1&&(r(0,"div",120)(1,"mat-table",121),A(2,122),S(3,hM,3,3,"mat-header-cell",123)(4,yM,3,4,"mat-cell",124),P(),A(5,125),S(6,CM,3,3,"mat-header-cell",123)(7,EM,3,2,"mat-cell",124),P(),A(8,126),S(9,IM,3,3,"mat-header-cell",123)(10,TM,3,2,"mat-cell",124),P(),A(11,127),S(12,wM,3,3,"mat-header-cell",123)(13,PM,3,2,"mat-cell",124),P(),A(14,128),S(15,kM,3,3,"mat-header-cell",123)(16,LM,3,2,"mat-cell",124),P(),A(17,129),S(18,VM,3,3,"mat-header-cell",123)(19,OM,6,4,"mat-cell",130),P(),A(20,131),S(21,BM,4,4,"mat-cell",132),P(),S(22,NM,1,0,"mat-header-row",133)(23,HM,1,4,"mat-row",134)(24,WM,1,4,"mat-row",134),a()()),n&2){let e=m();o(),d("dataSource",e.optionTabledataSource),o(21),d("matHeaderRowDef",e.optionTabledisplayedColumns),o(),d("matRowDefColumns",e.optionTabledisplayedColumns),o(),d("matRowDefColumns",le(4,AI))}}function UM(n,l){if(n&1&&(r(0,"button",140),c(1),_(2,"translate"),a()),n&2){m(2);let e=k(11);d("disabled",!e.form.valid),o(),y(" ",g(2,2,"ACTION.SAVE")," ")}}function jM(n,l){if(n&1&&(r(0,"div",67)(1,"button",81),c(2),_(3,"translate"),a(),S(4,UM,3,4,"button",139),a()),n&2){let e=m();o(2),y(" ",g(3,2,"ACTION.BEFOR")," "),o(2),d("ngIf",e.dataModel.contracts&&e.dataModel.contracts.length>0)}}function qM(n,l){n&1&&(r(0,"mat-icon"),c(1,"call_end"),a())}function QM(n,l){n&1&&(r(0,"mat-icon"),c(1,"call_end"),a())}function zM(n,l){n&1&&(r(0,"mat-icon"),c(1,"forum"),a())}function YM(n,l){n&1&&(r(0,"mat-icon"),c(1,"forum"),a())}var Pl=class Pl extends Dt{constructor(e,i,t,s,h,p,D,z,he,je,Ge,mt,Nt,Rt,Ut){super(p,new Br,Ge,Ut);this.dialogRef=e;this.coreEnumService=i;this.estateContractTypeService=t;this.estatePropertyService=s;this.estatePropertyDetailGroupService=h;this.estatePropertyTypeService=p;this.estatePropertyTypeLanduseService=D;this.cmsToastrService=z;this.cmsStoreService=he;this.themeService=je;this.publicHelper=Ge;this.cdr=mt;this.dialog=Nt;this.tokenHelper=Rt;this.translate=Ut;this.constructorInfoAreaId=this.constructor.name;this.currencyOptionSelectFirstItem=!0;this.fieldsInfo=new Map;this.enumInputDataType=Ri;this.tokenInfo=new St;this.appLanguage="fa";this.formMatcher=new ka;this.dataModelResult=new G;this.dataModelEstateContractTypeResult=new G;this.dataModelEstatePropertyTypeResult=new G;this.dataModelEstatePropertyTypeLanduseResult=new G;this.dataModel=new Ki;this.formInfo=new me;this.dataModelCorCurrencySelector=new Di;this.PropertyTypeSelected=new Gt;this.contractDataModel=new Kn;this.optionActionTitle="";this.optionTabledataSource=new li;this.optionTabledisplayedColumns=["LinkEstateContractTypeId","SalePrice","RentPrice","DepositPrice","PeriodPrice","Action"];this.propertyDetails=new Map;this.step=0;this.listTypeLanduse=[];this.hidden=!0;this.publicHelper.processService.cdr=this.cdr,this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore}ngOnInit(){this.translate.get("TITLE.Submit_New_Content").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess(),this.getEstateContractType(),this.getEstatePropertyType(),this.getEstatePropertyTypeLanduse(),this.dataModel.caseCode=this.publicHelper.StringRandomGenerator(5,!0),this.cmsApiStoreSubscribe=this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>re(this,null,function*(){this.DataGetAccess(),this.getEstateContractType(),this.getEstatePropertyType(),this.getEstatePropertyTypeLanduse(),this.translate.get("ACTION.Add_To_List").subscribe(i=>{this.optionActionTitle=i}),this.tokenInfo=e}))}ngOnDestroy(){this.cmsApiStoreSubscribe&&this.cmsApiStoreSubscribe.unsubscribe()}getEstateContractType(){let e=this.constructor.name+"getEstateContractType";this.translate.get("TITLE.Get_Estate_Contract_Type").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estateContractTypeService.ServiceGetAll(null).subscribe({next:i=>{this.dataModelEstateContractTypeResult=i,this.publicHelper.processService.processStop(e)},error:i=>{this.publicHelper.processService.processStop(e)}})}getEstatePropertyType(){let e=this.constructor.name+"getEstatePropertyType";this.translate.get("TITLE.Get_Estate_property_Type").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estatePropertyTypeService.ServiceGetAll(null).subscribe({next:i=>{this.dataModelEstatePropertyTypeResult=i,this.publicHelper.processService.processStop(e)},error:i=>{this.publicHelper.processService.processStop(e)}})}getEstatePropertyTypeLanduse(){let e=this.constructor.name+"getEstatePropertyType";this.translate.get("TITLE.Get_Estate_user_Type").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estatePropertyTypeLanduseService.ServiceGetAll(null).subscribe({next:i=>{this.dataModelEstatePropertyTypeLanduseResult=i,this.publicHelper.processService.processStop(e)},error:i=>{this.publicHelper.processService.processStop(e)}})}DataGetPropertyDetailGroup(e){let i=new pe,t=new H;t.propertyName="LinkPropertyTypeLanduseId",t.value=e,i.filters.push(t),this.dataModel.propertyDetailGroups=[];let s=this.constructor.name+"DataGetPropertyDetailGroup";this.translate.get("TITLE.Get_Details").subscribe(h=>{this.publicHelper.processService.processStart(s,h,this.constructorInfoAreaId)}),this.estatePropertyDetailGroupService.ServiceGetAll(i).subscribe({next:h=>{h.isSuccess?this.dataModel.propertyDetailGroups=h.listItems:this.cmsToastrService.typeErrorGetAccess(h.errorMessage),this.publicHelper.processService.processStop(s)},error:h=>{this.cmsToastrService.typeErrorGetAccess(h),this.publicHelper.processService.processStop(s,!1)}})}DataAdd(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"ServiceAdd";this.translate.get("TITLE.Property_registration").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estatePropertyService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.formAlert=t}),this.cmsToastrService.typeSuccessAdd(),setTimeout(()=>this.dialogRef.close({dialogChangedDate:!0}),1e3)):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorSelectUsage(e){if(!e||!e.id||e.id.length<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkPropertyTypeUsageId=e.id,this.dataModelEstatePropertyTypeResult.isSuccess&&this.dataModelEstatePropertyTypeLanduseResult.isSuccess&&(this.listTypeLanduse=[],this.dataModelEstatePropertyTypeResult.listItems.forEach(i=>{i.linkPropertyTypeUsageId===e.id&&this.dataModelEstatePropertyTypeLanduseResult.listItems.forEach(t=>{t.id===i.linkPropertyTypeLanduseId&&this.listTypeLanduse.push(t)})}))}onActionSelectorSelectLanduse(e){if(!e||!e.id||e.id.length<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.PropertyTypeSelected=e,this.dataModel.linkPropertyTypeLanduseId=e.id,this.DataGetPropertyDetailGroup(e.id)}onActionSelectorCmsUser(e){if(!e||!e.id||e.id<=0){this.dataModel.linkCmsUserId=null;return}this.dataModel.linkCmsUserId=e.id}onActionSelectorLocation(e){if(!e||!e.id||e.id<=0){this.translate.get("MESSAGE.information_area_is_not_clear").subscribe(i=>{this.cmsToastrService.typeWarningSelected(i)}),this.dataModel.linkLocationId=null;return}this.dataModel.linkLocationId=e.id}onActionSelectorProject(e){if(!e||!e.id||e.id.length<=0){this.dataModel.linkPropertyProjectId=null;return}this.dataModel.linkPropertyProjectId=e.id}onActionSelectorCompany(e){if(!e||!e.id||e.id.length<=0){this.dataModel.linkPropertyCompanyId=null;return}this.dataModel.linkPropertyCompanyId=e.id}onActionSelectorEstateUser(e){this.dataModel.linkEstateExpertId=null,!(!e||!e.id||e.id.length<=0)&&(this.dataModel.linkEstateExpertId=e.id)}onActionSelectorEstateAgency(e){this.dataModel.linkEstateAgencyId=null,!(!e||!e.id||e.id.length<=0)&&(this.dataModel.linkEstateAgencyId=e.id)}onActionSelectorContractType(e){if(this.contractTypeSelected=null,!e||!e.id||e.id.length<=0){this.translate.get("MESSAGE.Type_of_property_transaction_is_not_known").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.currencyOptionSelectFirstItem=!0,this.contractTypeSelected=e,this.contractDataModel=new Kn,this.contractDataModel.contractType=this.contractTypeSelected,this.contractDataModel.linkEstateContractTypeId=this.contractTypeSelected.id}onFormSubmit(){if(this.formGroup.valid){if(this.formInfo.formSubmitAllow=!1,this.dataModel.propertyDetailValues=[],this.dataModel.propertyDetailGroups&&this.dataModel.propertyDetailGroups.forEach(e=>{e.propertyDetails.forEach(i=>{let t=new So;t.linkPropertyDetailId=i.id,t.value=this.propertyDetails[i.id],this.dataModel.propertyDetailValues.push(t)})}),(!this.dataModel.contracts||this.dataModel.contracts.length===0)&&this.onActionOptionAddToList(!1),!this.dataModel.contracts||this.dataModel.contracts.length===0){this.translate.get("MESSAGE.Type_of_property_transaction_is_not_known").subscribe(e=>{this.cmsToastrService.typeErrorSelected(e)}),this.formInfo.formSubmitAllow=!0;return}this.DataAdd()}}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}onActionOptionAddToList(e=!0){if(!this.contractTypeSelected||this.contractTypeSelected.id.length===0){this.translate.get("MESSAGE.Type_of_property_transaction_is_not_known").subscribe(t=>{e&&this.cmsToastrService.typeErrorSelected(t)});return}this.dataModel.contracts||(this.dataModel.contracts=[]);var i=!1;if(this.contractTypeSelected.hasSalePrice&&(this.contractDataModel.salePrice&&this.contractDataModel.salePrice>0&&(i=!0),this.contractTypeSelected.salePriceAllowAgreement&&this.contractDataModel.salePriceByAgreement&&(i=!0),!i)){this.translate.get("MESSAGE.Sales_amount_is_not_entered_correctly").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(i=!1,this.contractTypeSelected.hasRentPrice&&(this.contractDataModel.rentPrice&&this.contractDataModel.rentPrice>0&&(i=!0),this.contractTypeSelected.rentPriceAllowAgreement&&this.contractDataModel.rentPriceByAgreement&&(i=!0),!i)){this.translate.get("MESSAGE.Rent_amount_is_not_entered_correctly").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(i=!1,this.contractTypeSelected.hasPeriodPrice&&(this.contractDataModel.periodPrice&&this.contractDataModel.periodPrice>0&&(i=!0),this.contractTypeSelected.periodPriceAllowAgreement&&this.contractDataModel.periodPriceByAgreement&&(i=!0),!i)){this.translate.get("MESSAGE.Period_amount_is_not_entered_correctly").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(i=!1,this.contractTypeSelected.hasDepositPrice&&(this.contractDataModel.depositPrice&&this.contractDataModel.depositPrice>0&&(i=!0),this.contractTypeSelected.depositPriceAllowAgreement&&this.contractDataModel.depositPriceByAgreement&&(i=!0),!i)){this.translate.get("MESSAGE.Deposit_amount_is_not_entered_correctly").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}this.dataModel.contracts.push(this.contractDataModel),this.contractDataModel=new Kn,this.optionTabledataSource.data=this.dataModel.contracts,this.contractTypeSelected=null}onActionOptionRemoveFromList(e){e<0||!this.dataModel.contracts||this.dataModel.contracts.length===0||(this.contractDataModel=this.dataModel.contracts[e],this.dataModel.contracts.splice(e,1),this.contractDataModel=new Kn,this.optionTabledataSource.data=this.dataModel.contracts)}onStepClick(e,i){e.previouslySelectedIndex<e.selectedIndex&&((!this.dataModel.linkPropertyTypeUsageId||this.dataModel.linkPropertyTypeUsageId.length===0)&&(this.translate.get("TITLE.Select_the_Property_Type_Usage").subscribe(t=>{this.cmsToastrService.typeErrorFormInvalid(t)}),setTimeout(()=>{i.selectedIndex=e.previouslySelectedIndex},10)),(!this.dataModel.linkPropertyTypeLanduseId||this.dataModel.linkPropertyTypeLanduseId.length===0)&&(this.translate.get("TITLE.Select_the_Property_Type_Landuse").subscribe(t=>{this.cmsToastrService.typeErrorFormInvalid(t)}),setTimeout(()=>{i.selectedIndex=e.previouslySelectedIndex},10)),this.formGroup.valid||(this.cmsToastrService.typeErrorFormInvalid(),setTimeout(()=>{i.selectedIndex=e.previouslySelectedIndex},10))),(!this.dataModel.contracts||this.dataModel.contracts.length==0)&&e.previouslySelectedStep.state=="contract"&&e.previouslySelectedIndex<e.selectedIndex&&(this.translate.get("TITLE.Select_the_transaction_type").subscribe(t=>{this.cmsToastrService.typeErrorFormInvalid(t)}),setTimeout(()=>{i.selectedIndex=e.previouslySelectedIndex},10))}onActionBackToParent(){this.dialogRef.close({dialogChangedDate:!1})}setStep(e){this.step=e}nextStep(){this.step++}prevStep(){this.step--}onActionClickSalePriceAllowAgreement(){this.contractDataModel.salePriceByAgreement&&(this.contractDataModel.salePrice=0)}onActionClickRentPriceAllowAgreement(){this.contractDataModel.rentPriceByAgreement&&(this.contractDataModel.rentPrice=0)}onActionClickPeriodPriceAllowAgreement(){this.contractDataModel.periodPriceByAgreement&&(this.contractDataModel.periodPrice=0)}onActionClickDepositPriceByAgreement(){this.contractDataModel.depositPriceByAgreement&&(this.contractDataModel.depositPrice=0)}onActionSelectCurrency(e){if(!e||e.id<=0){this.cmsToastrService.typeErrorSelected(),this.dataModelCorCurrencySelector=null,this.contractDataModel.linkCoreCurrencyId=null;return}this.dataModelCorCurrencySelector=e,this.contractDataModel.linkCoreCurrencyId=e.id}onActionButtonQuickListSearchTitle(){if(!this.dataModel||!this.dataModel.title||this.dataModel.title.length===0){this.cmsToastrService.typeErrorSelectedRow();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(An,{height:"90%",panelClass:e,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{searchTitle:this.dataModel.title}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate})}onActionButtonQuickListSearchCustomerTel(){if(!this.dataModel||!this.dataModel.aboutCustomerTel||this.dataModel.aboutCustomerTel.length===0){this.cmsToastrService.typeErrorSelectedRow();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(An,{height:"90%",panelClass:e,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{searchCustomerTel:this.dataModel.aboutCustomerTel}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate})}onActionButtonQuickListSearchCustomerMobile(){if(!this.dataModel||!this.dataModel.aboutCustomerMobile||this.dataModel.aboutCustomerMobile.length===0){this.cmsToastrService.typeErrorSelectedRow();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(An,{height:"90%",panelClass:e,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{searchCustomerTel:this.dataModel.aboutCustomerMobile}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate})}onActionButtonQuickListSearchCaseCode(){if(!this.dataModel||!this.dataModel.caseCode||this.dataModel.caseCode.length===0){this.cmsToastrService.typeErrorSelectedRow();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(An,{height:"90%",panelClass:e,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{searchCaseCode:this.dataModel.caseCode}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate})}};Pl.\u0275fac=function(i){return new(i||Pl)(v(Me),v(J),v(xi),v(ui),v(hi),v(dn),v(yi),v(V),v(Z),v(kt),v(F),v(B),v(xe),v(K),v(L))},Pl.\u0275cmp=R({type:Pl,selectors:[["app-estate-property-quick-add"]],viewQuery:function(i,t){if(i&1&&ee(wI,5),i&2){let s;te(s=ie())&&(t.formGroup=s.first)}},standalone:!1,features:[ne],decls:52,vars:57,consts:[["vform","ngForm"],["stepper",""],["Description",""],["Title",""],["CaseCode",""],["CreatedYaer",""],["Partition",""],["Area",""],["Address",""],["LinkSiteId",""],["AboutCustomerMobile",""],["AboutCustomerTel",""],["DescriptionHidden",""],["AddressHidden",""],["contractDataModel_Description",""],[3,"Key","svg","ngStyle"],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"selectionChange"],["state","main",3,"label"],[3,"optionChange","optionDisabled","optionTypeView","optionSelectForce","optionPlaceholder"],[4,"ngIf"],["class","row mb-0",4,"ngIf"],[3,"optionDisabled","optionTypeView","optionSelectForce","optionPlaceholder","optionTypeUsageId","optionChange",4,"ngIf"],["class","form-actions",4,"ngIf"],["state","main",3,"label",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["state","contract",3,"label"],[3,"optionChange","optionTypeView","optionDisabled","optionPlaceholder","optionSelectForce"],["class","container",4,"ngIf"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-highlight",3,"click",4,"ngIf"],["class","example-container mat-elevation-z8",4,"ngIf"],["matStepperIcon","main"],["matStepperIcon","seo"],["matStepperIcon","file"],["matStepperIcon","loaction"],[1,"row","mb-0"],["class","col-xl-2 col-lg-3 col-md-4 col-sm-12 pe-1",4,"ngFor","ngForOf"],[1,"col-xl-2","col-lg-3","col-md-4","col-sm-12","pe-1"],[3,"click","ngClass"],[3,"optionChange","optionDisabled","optionTypeView","optionSelectForce","optionPlaceholder","optionTypeUsageId"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.viewConfigHiddenInList",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.viewConfigHiddenInList","name","dataModel.viewConfigHiddenInList",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.viewConfigHiddenInList",1,"custom-control-label"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","2000","rows","5","id","dataModel.description","required","",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled","placeholder"],["for","dataModel.title",1,"color-highlight"],["matInput","","name","dataModel.title","type","text","minlength","3","maxlength","100","id","dataModel.title","required","",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled","placeholder"],["for","dataModel.caseCode",1,"color-highlight"],["matInput","","name","dataModel.caseCode","type","text","minlength","3","maxlength","100","id","dataModel.caseCode",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled","placeholder"],["for","dataModel.createdYaer",1,"color-highlight"],["matInput","","name","dataModel.createdYaer","type","number","id","dataModel.createdYaer",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.partition",1,"color-highlight"],["matInput","","name","dataModel.partition","type","number","id","dataModel.partition",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.area",1,"color-highlight"],["matInput","","name","dataModel.area","type","text","currencyMask","","id","dataModel.area",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel","disabled","placeholder"],["for","dataModel.address",1,"color-highlight"],["matInput","","name","dataModel.address","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.address",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-blue","matStepperNext","",3,"disabled",4,"ngIf"],["type","button","matStepperNext","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue",3,"disabled"],["data-trigger-switch","dataModel.viewContentHidden",1,"font-600","font-14"],["type","checkbox","id","dataModel.viewContentHidden","name","dataModel.viewContentHidden",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.viewContentHidden",1,"custom-control-label"],["data-trigger-switch","dataModel.siteAdminViewContentHidden",1,"font-600","font-14"],["type","checkbox","id","dataModel.siteAdminViewContentHidden","name","dataModel.siteAdminViewContentHidden",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.siteAdminViewContentHidden",1,"custom-control-label"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],["for","dataModel.linkSiteId",1,"color-highlight"],["matInput","","name","dataModel.linkSiteId","type","text","minlength","3","maxlength","100","id","dataModel.linkSiteId",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled","placeholder"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["type","button","matStepperPrevious","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue"],["for","dataModel.aboutCustomerMobile",1,"color-highlight"],["matInput","","name","dataModel.aboutCustomerMobile","type","text","minlength","0","maxlength","100","id","dataModel.aboutCustomerMobile",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled","placeholder"],["for","dataModel.aboutCustomerTel",1,"color-highlight"],["matInput","","name","dataModel.aboutCustomerTel","type","text","minlength","0","maxlength","100","id","dataModel.aboutCustomerTel",1,"input-Mobile",3,"ngModelChange","ngModel","disabled","placeholder"],["for","dataModel.descriptionHidden",1,"color-highlight"],["matInput","","name","dataModel.descriptionHidden","type","text","minlength","1","maxlength","2000","rows","5","id","dataModel.descriptionHidden",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.addressHidden",1,"color-highlight"],["matInput","","name","dataModel.addressHidden","type","text","minlength","1","maxlength","2000","rows","5","id","dataModel.addressHidden",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"container"],[3,"optionChange","optionSelectFirstItem","optionSelectForce","optionPlaceholder"],["class","row",4,"ngIf"],["for","contractDataModel.description",1,"color-highlight"],["matInput","","name","contractDataModel.description","type","text","minlength","0","maxlength","500","rows","5","id","contractDataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"row"],[1,"col-6"],["for","contractDataModel.salePrice",1,"color-highlight"],["matInput","","name","contractDataModel.salePrice","type","text","currencyMask","","placeholder","0","id","contractDataModel.salePrice",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel","disabled"],["class","col-3",4,"ngIf"],[1,"col-3"],["data-trigger-switch","contractDataModel.salePriceByAgreement",1,"font-600","font-14"],["type","checkbox","id","contractDataModel.salePriceByAgreement","name","contractDataModel.salePriceByAgreement",1,"ios-input",3,"ngModelChange","ngModel"],["for","contractDataModel.salePriceByAgreement",1,"custom-control-label"],["for","contractDataModel.depositPrice",1,"color-highlight"],["matInput","","name","contractDataModel.depositPrice","type","text","currencyMask","","placeholder","0","id","contractDataModel.depositPrice",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel","disabled"],["data-trigger-switch","contractDataModel.depositPriceByAgreement",1,"font-600","font-14"],["type","checkbox","id","contractDataModel.depositPriceByAgreement","name","contractDataModel.depositPriceByAgreement",1,"ios-input",3,"ngModelChange","ngModel"],["for","contractDataModel.depositPriceByAgreement",1,"custom-control-label"],["for","contractDataModel.rentPrice",1,"color-highlight"],["matInput","","name","contractDataModel.rentPrice","type","text","currencyMask","","placeholder","0","id","contractDataModel.rentPrice",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel","disabled"],["data-trigger-switch","contractDataModel.rentPriceAllowAgreement",1,"font-600","font-14"],["type","checkbox","id","contractDataModel.rentPriceAllowAgreement","name","contractDataModel.rentPriceAllowAgreement",1,"ios-input",3,"ngModelChange","ngModel"],["for","contractDataModel.rentPriceAllowAgreement",1,"custom-control-label"],["for","contractDataModel.periodPrice",1,"color-highlight"],["matInput","","name","contractDataModel.periodPrice","type","text","currencyMask","","placeholder","0","id","contractDataModel.periodPriceByAgreement",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel","disabled"],["data-trigger-switch","contractDataModel.periodPriceByAgreement",1,"font-600","font-14"],["type","checkbox","id","contractDataModel.periodPriceByAgreement","name","contractDataModel.periodPriceByAgreement",1,"ios-input",3,"ngModelChange","ngModel"],["for","contractDataModel.periodPriceByAgreement",1,"custom-control-label"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"example-container","mat-elevation-z8"],["multiTemplateDataRows","",3,"dataSource"],["matColumnDef","LinkEstateContractTypeId"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","SalePrice"],["matColumnDef","DepositPrice"],["matColumnDef","RentPrice"],["matColumnDef","PeriodPrice"],["matColumnDef","Action"],["class","Action",4,"matCellDef"],["matColumnDef","descriptionDetail"],["colspan","6",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even",4,"matRowDef","matRowDefColumns"],[1,"Action"],["type","button","mat-icon-button","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],["matTooltipPosition","before","aria-hidden","false",2,"color","red",3,"matTooltip"],["colspan","6"],["type","submit","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-green",3,"disabled",4,"ngIf"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"]],template:function(i,t){if(i&1){let s=I();C(0,"app-cms-guide-notice",15),r(1,"div",16),C(2,"app-progress-spinner",17),r(3,"div",18)(4,"p",19),c(5),_(6,"translate"),a(),r(7,"p"),c(8),_(9,"translate"),a(),r(10,"form",20,0),E("ngSubmit",function(){return u(s),f(t.onFormSubmit())}),r(12,"mat-vertical-stepper",21,1),E("selectionChange",function(p){u(s);let D=k(13);return f(t.onStepClick(p,D))}),r(14,"mat-step",22),_(15,"translate"),r(16,"app-estate-property-type-usage-selector",23),_(17,"translate"),E("optionChange",function(p){return u(s),f(t.onActionSelectorSelectUsage(p))}),a(),S(18,PI,3,3,"p",24)(19,DI,2,1,"div",25)(20,RI,2,7,"app-estate-property-type-landuse-selector",26),C(21,"br")(22,"br"),S(23,UI,27,23,"div",24)(24,qI,5,4,"div",27),a(),S(25,JI,21,11,"mat-step",28),r(26,"mat-step",22),_(27,"translate"),S(28,XI,7,7,"div",29)(29,$I,7,7,"div",29)(30,tM,9,8,"div",29)(31,nM,9,8,"div",29)(32,rM,5,4,"div",27),a(),r(33,"mat-step",30),_(34,"translate"),r(35,"p"),c(36),_(37,"translate"),a(),r(38,"app-estate-contract-type-selector",31),_(39,"translate"),E("optionChange",function(p){return u(s),f(t.onActionSelectorContractType(p))}),a(),S(40,_M,8,6,"div",32)(41,gM,3,3,"button",33),C(42,"hr"),r(43,"p"),c(44),_(45,"translate"),a(),S(46,GM,25,5,"div",34)(47,jM,5,4,"div",27),a(),S(48,qM,2,0,"ng-template",35)(49,QM,2,0,"ng-template",36)(50,zM,2,0,"ng-template",37)(51,YM,2,0,"ng-template",38),a()()()()}i&2&&(d("Key","estate.property.list.add")("svg","assets/media/svg/icons/General/Notifications1.svg")("ngStyle",ze(55,xI,t.tokenInfo.access.direction)),o(2),d("optionsInfoAreaId",t.constructorInfoAreaId),o(3),y(" ",g(6,37,"TITLE.EDIT_USER_ACCOUNT")," "),o(3),y(" ",g(9,39,"TITLE.Be_Careful_When_Entering_Information")," "),o(6),d("label",x(g(15,41,"TITLE.REQUIRED_INFORMATION"))),o(2),d("optionDisabled",!(t.fieldsInfo.linkPropertyTypeUsageId!=null&&t.fieldsInfo.linkPropertyTypeUsageId.accessAddField))("optionTypeView",2)("optionSelectForce",t.dataModel.linkPropertyTypeUsageId)("optionPlaceholder",g(17,43,"TITLE.Type_Usage")),o(2),d("ngIf",t.dataModel.linkPropertyTypeUsageId&&t.dataModel.linkPropertyTypeUsageId.length>0&&t.listTypeLanduse&&t.listTypeLanduse.length>0),o(),d("ngIf",t.dataModel.linkPropertyTypeUsageId&&t.dataModel.linkPropertyTypeUsageId.length>0&&t.listTypeLanduse&&t.listTypeLanduse.length>0),o(),d("ngIf",(!t.listTypeLanduse||t.listTypeLanduse.length===0)&&t.dataModel.linkPropertyTypeUsageId&&t.dataModel.linkPropertyTypeUsageId.length>0),o(3),d("ngIf",t.dataModel.linkPropertyTypeLanduseId&&t.dataModel.linkPropertyTypeLanduseId.length>0),o(),d("ngIf",t.formInfo.formSubmitAllow),o(),d("ngIf",t.tokenHelper.isAdminSite),o(),d("label",x(g(27,45,"TITLE.SECRET_INFORMATION"))),o(2),d("ngIf",t.fieldsInfo.aboutCustomerMobile==null?null:t.fieldsInfo.aboutCustomerMobile.accessWatchField),o(),d("ngIf",t.fieldsInfo.aboutCustomerTel==null?null:t.fieldsInfo.aboutCustomerTel.accessWatchField),o(),d("ngIf",t.fieldsInfo.descriptionHidden==null?null:t.fieldsInfo.descriptionHidden.accessWatchField),o(),d("ngIf",t.fieldsInfo.addressHidden==null?null:t.fieldsInfo.addressHidden.accessWatchField),o(),d("ngIf",t.formInfo.formSubmitAllow),o(),d("label",x(g(34,47,"TITLE.Transaction"))),o(3),M(g(37,49,"TITLE.Specify_the_type_of_transaction_for_this_property")),o(2),d("optionTypeView",2)("optionDisabled",!1)("optionPlaceholder",g(39,51,"TITLE.Type_Of_Transaction"))("optionSelectForce",t.contractDataModel.linkEstateContractTypeId),o(2),d("ngIf",t.contractTypeSelected&&t.contractTypeSelected.id.length>0),o(),d("ngIf",t.contractTypeSelected&&t.contractTypeSelected.id.length>0),o(3),y(" ",g(45,53,"TITLE.List_Of_Transaction_Details_Of_This_Property")," "),o(2),d("ngIf",!t.publicHelper.processService.process.inRunAll),o(),d("ngIf",t.formInfo.formSubmitAllow))},dependencies:[se,Ne,N,tt,ke,Y,Ot,Ht,q,Te,de,De,Ae,ce,Pe,Je,we,Ee,Q,Ji,Xi,hn,yn,Zi,it,ot,st,rt,nt,dt,at,lt,ct,pt,or,Fi,Vi,si,U,No,en,yo,_i,nn,on,ho,O,On],encapsulation:2});var Pc=Pl;var KM=()=>["expandedTitle"],ZM=()=>["expandedDetail"],JM=()=>[5,10,20,100],v0=n=>({display:n});function XM(n,l){n&1&&(r(0,"mat-header-cell"),c(1),_(2,"translate"),a()),n&2&&(o(),y(" ",g(2,1,"TITLE.MENU")," "))}function $M(n,l){if(n&1){let e=I();r(0,"mat-cell")(1,"button",57),E("click",function(){let t=u(e).$implicit,s=m();return f(s.onActionTableRowSelectActionMenu(t))}),C(2,"i",58),a()()}}function eb(n,l){n&1&&(r(0,"mat-header-cell",59),c(1),_(2,"translate"),a()),n&2&&(o(),y(" ",g(2,1,"TITLE.PICTURE")," "))}function tb(n,l){if(n&1&&(C(0,"img",61),_(1,"cmsthumbnail")),n&2){let e=m().$implicit;d("src",x(g(1,2,e.linkMainImageIdSrc)),j)}}function ib(n,l){if(n&1&&(r(0,"mat-cell"),S(1,tb,2,4,"img",60),a()),n&2){let e=l.$implicit;o(),d("ngIf",(e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0)}}function nb(n,l){if(n&1&&(r(0,"mat-header-cell",59),c(1),a()),n&2){let e=m();o(),y(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function ob(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),y(" ",e.id," ")}}function rb(n,l){if(n&1&&(r(0,"mat-header-cell",59),c(1),a()),n&2){let e=m();o(),y(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function ab(n,l){if(n&1&&(r(0,"mat-cell"),c(1),_(2,"cmssiteinfo"),_(3,"async"),a()),n&2){let e=l.$implicit;o(),y(" ",g(3,3,g(2,1,e.linkSiteId))," ")}}function lb(n,l){if(n&1&&(r(0,"mat-header-cell",59),c(1),a()),n&2){let e=m();o(),y(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function sb(n,l){if(n&1&&C(0,"select",64),n&2){let e=m().$implicit,i=m();d("contentService",i.contentService)("row",e)("ngStyle",ze(3,v0,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function db(n,l){if(n&1&&(r(0,"mat-cell",62),_(1,"statusCellClass"),C(2,"i",62),_(3,"statusIconClass"),S(4,sb,1,5,"select",63),a()),n&2){let e=l.$implicit,i=m();d("ngClass",g(1,3,e.recordStatus)),o(2),d("ngClass",g(3,5,e.recordStatus)),o(2),d("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessEditRow)}}function cb(n,l){if(n&1&&(r(0,"mat-header-cell",59),c(1),a()),n&2){let e=m();o(),y(" ",e.fieldsInfo.name==null?null:e.fieldsInfo.name.fieldTitle," ")}}function pb(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),y(" ",e.name," ")}}function mb(n,l){if(n&1&&(r(0,"mat-header-cell",59),c(1),a()),n&2){let e=m();o(),y(" ",e.fieldsInfo.lastName==null?null:e.fieldsInfo.lastName.fieldTitle," ")}}function ub(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),y(" ",e.lastName," ")}}function fb(n,l){if(n&1&&(r(0,"mat-header-cell",59),c(1),a()),n&2){let e=m();o(),y(" ",e.fieldsInfo.companyName==null?null:e.fieldsInfo.companyName.fieldTitle," ")}}function _b(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),y(" ",e.companyName," ")}}function gb(n,l){if(n&1&&(r(0,"mat-header-cell",59),c(1),a()),n&2){let e=m();o(),y(" ",e.fieldsInfo.email==null?null:e.fieldsInfo.email.fieldTitle," ")}}function hb(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),y(" ",e.email," ")}}function yb(n,l){if(n&1&&(r(0,"mat-header-cell",59),c(1),a()),n&2){let e=m();o(),y(" ",e.fieldsInfo.mobile==null?null:e.fieldsInfo.mobile.fieldTitle," ")}}function Cb(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),y(" ",e.mobile," ")}}function Sb(n,l){if(n&1&&(r(0,"mat-header-cell",59),c(1),a()),n&2){let e=m();o(),y(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function vb(n,l){if(n&1&&(r(0,"mat-cell"),c(1),_(2,"localeDate"),a()),n&2){let e=l.$implicit;o(),y(" ",g(2,1,e.createdDate)," ")}}function Eb(n,l){if(n&1&&(r(0,"mat-header-cell",59),c(1),a()),n&2){let e=m();o(),y(" ",e.fieldsInfo.updatedDate==null?null:e.fieldsInfo.updatedDate.fieldTitle," ")}}function Ib(n,l){if(n&1&&(r(0,"mat-cell"),c(1),_(2,"localeDate"),a()),n&2){let e=l.$implicit;o(),y(" ",g(2,1,e.updatedDate)," ")}}function Mb(n,l){n&1&&(r(0,"mat-header-cell"),c(1),_(2,"translate"),a()),n&2&&(o(),y(" ",g(2,1,"TITLE.OPTION")," "))}function bb(n,l){if(n&1&&(r(0,"mat-cell",65)(1,"button",66)(2,"mat-icon"),c(3,"more_vert"),a()(),C(4,"mat-menu",null,2),a()),n&2){let e=k(5);o(),d("matMenuTriggerFor",e)}}function Tb(n,l){if(n&1&&(r(0,"mat-cell"),c(1),_(2,"translate"),_(3,"localeDate"),a()),n&2){let e=l.$implicit;o(),$(" ",g(2,2,"TITLE.CreationDate")," : ",g(3,4,e.createdDate)," ")}}function wb(n,l){if(n&1&&(C(0,"img",70),_(1,"cmsthumbnail")),n&2){let e=m().$implicit;d("src",x(g(1,2,e.linkMainImageIdSrc)),j)}}function xb(n,l){if(n&1){let e=I();r(0,"mat-cell")(1,"div")(2,"table")(3,"tr")(4,"th"),S(5,wb,2,4,"img",67),a(),r(6,"th")(7,"span",68),E("click",function(){u(e);let t=m();return f(t.onActionCopied())}),C(8,"i",69),a(),c(9),a()(),r(10,"tr"),C(11,"td"),r(12,"td"),c(13),a()(),r(14,"tr"),C(15,"td"),r(16,"td"),c(17),a()(),r(18,"tr"),C(19,"td"),r(20,"td"),c(21),a()(),r(22,"tr"),C(23,"td"),r(24,"td"),c(25),a()(),r(26,"tr"),C(27,"td"),r(28,"td"),c(29),a()(),r(30,"tr"),C(31,"td"),r(32,"td"),c(33),a()(),r(34,"tr"),C(35,"td")(36,"td"),a()()()()}if(n&2){let e=l.$implicit,i=m();o(5),d("ngIf",(e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0),o(2),d("cdkCopyToClipboard",e.id),o(2),y(" ",e.id," "),o(4),$("",i.fieldsInfo.username==null?null:i.fieldsInfo.username.fieldTitle," : ",e.username," "),o(4),$("",i.fieldsInfo.name==null?null:i.fieldsInfo.name.fieldTitle," : ",e.name," "),o(4),$("",i.fieldsInfo.lastName==null?null:i.fieldsInfo.lastName.fieldTitle," : ",e.lastName," "),o(4),$("",i.fieldsInfo.mobile==null?null:i.fieldsInfo.mobile.fieldTitle," : ",e.mobile," "),o(4),$("",i.fieldsInfo.email==null?null:i.fieldsInfo.email.fieldTitle," : ",e.email," "),o(4),$("",i.fieldsInfo.companyName==null?null:i.fieldsInfo.companyName.fieldTitle," : ",e.companyName," ")}}function Ab(n,l){n&1&&C(0,"mat-header-row")}function Pb(n,l){if(n&1){let e=I();r(0,"mat-row",71),E("click",function(){let t=u(e).$implicit,s=m();return f(s.onActionTableRowSelect(t))})("mouseenter",function(){let t=u(e).$implicit,s=m();return f(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=u(e).$implicit,s=m();return f(s.onActionTableRowMouseLeave(t))}),a()}if(n&2){let e=l.$implicit,i=l.dataIndex,t=m();Se("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",e.id===(t.tableRowSelected==null?null:t.tableRowSelected.id))}}function kb(n,l){if(n&1){let e=I();r(0,"mat-row",71),E("click",function(){let t=u(e).$implicit,s=m();return f(s.onActionTableRowSelect(t))})("mouseenter",function(){let t=u(e).$implicit,s=m();return f(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=u(e).$implicit,s=m();return f(s.onActionTableRowMouseLeave(t))}),a()}if(n&2){let e=l.$implicit,i=l.dataIndex,t=m();Se("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",e.id===(t.tableRowSelected==null?null:t.tableRowSelected.id))}}function Db(n,l){if(n&1){let e=I();r(0,"mat-row",72),E("click",function(){let t=u(e).$implicit,s=m();return f(s.onActionTableRowSelect(t))})("mouseenter",function(){let t=u(e).$implicit,s=m();return f(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=u(e).$implicit,s=m();return f(s.onActionTableRowMouseLeave(t))}),a()}if(n&2){let e=l.$implicit,i=l.dataIndex,t=m();Se("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",e.id===(t.tableRowSelected==null?null:t.tableRowSelected.id)),d("ngStyle",ze(7,v0,e.expanded===!0?"":"none"))}}function Rb(n,l){if(n&1){let e=I();r(0,"div",52)(1,"button",73),E("click",function(){u(e);let t=m();return f(t.onFormCancel())}),C(2,"i",74),c(3),_(4,"translate"),a()()}n&2&&(o(3),y(" ",g(4,1,"ACTION.CANCEL")," "))}var kl=class kl extends bt{constructor(e,i,t,s,h,p,D,z,he,je,Ge,mt){super(t,new Ir,Ge,p,he);this.data=e;this.dialogRef=i;this.contentService=t;this.cmsToastrService=s;this.cmsStoreService=h;this.tokenHelper=p;this.router=D;this.cdr=z;this.translate=he;this.pageInfo=je;this.publicHelper=Ge;this.dialog=mt;this.requestTitle="";this.requestPropertyId="";this.constructorInfoAreaId=this.constructor.name;this.tablePropertySelected=[];this.filteModelContent=new pe;this.formInfo=new me;this.optionsSearch=new ar;this.optionsStatist=new lr;this.tokenInfo=new St;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["LinkMainImageIdSrc","Id","RecordStatus","Name","LastName","CompanyName","email","mobile","action_menu"];this.tabledisplayedColumnsMobileSource=["Id","RecordStatus","Name","LastName","action_menu"];this.fieldsInfo=new Map;this.publicHelper.processService.cdr=this.cdr,e&&(e.title&&(this.requestTitle=e.title+""),e.id&&(this.requestPropertyId=e.id+"")),this.optionsSearch.parentMethods={onSubmit:Nt=>this.onSubmitOptionsSearch(Nt)}}ngOnInit(){this.translate.get("TITLE.QUICK_VIEW").subscribe(e=>{this.formInfo.formTitle=e}),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.cmsApiStoreSubscribe=this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>re(this,null,function*(){this.tokenInfo=e,this.DataGetAll()}))}ngOnDestroy(){this.cmsApiStoreSubscribe&&this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Ir);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllResponsibleUserId(this.requestPropertyId,i).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),t.isSuccess?(this.dataModelResult=t,this.tableSource.data=t.listItems):this.cmsToastrService.typeErrorGetAll(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=X.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=X.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=X.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonReload(){this.DataGetAll()}onActionCopied(){this.cmsToastrService.typeSuccessCopedToClipboard()}onSubmitOptionsSearch(e){e&&e.length>0&&(this.filteModelContent.filters=[...this.filteModelContent.filters,...e]),this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/ticketing/departemen/"])}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};kl.\u0275fac=function(i){return new(i||kl)(v(be),v(Me),v(ui),v(V),v(Z),v(K),v(Ze),v(B),v(L),v(ht),v(F),v(xe))},kl.\u0275cmp=R({type:kl,selectors:[["app-estate-property-responsible-user-list"]],standalone:!1,features:[ne],decls:87,vars:31,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection","loader-container"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionActionRowDisplayMenuAct","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-maximize","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-minimize","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[1,"custom-slide-toggle",3,"ngModelChange","ngModel"],["cms-action-main",""],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","","multiTemplateDataRows","",3,"matSortChange","dataSource"],["matColumnDef","action_menu"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkMainImageIdSrc"],["mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","Id"],["matColumnDef","LinkSiteId"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","Name"],["matColumnDef","LastName"],["matColumnDef","CompanyName"],["matColumnDef","email"],["matColumnDef","mobile"],["matColumnDef","CreatedDate"],["matColumnDef","UpdatedDate"],["matColumnDef","Action"],["class"," Action",4,"matCellDef"],["matColumnDef","expandedTitle"],["matColumnDef","expandedDetail"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","ngStyle","click","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"click"],[1,"fa","fa-bars","font-18"],["mat-sort-header",""],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","40","width","40",3,"src",4,"ngIf"],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","80","width","80",3,"src",4,"ngIf"],[1,"navi-icon","pointer",3,"click","cdkCopyToClipboard"],[1,"flaticon2-copy"],["aria-hidden","","height","80","width","80",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"click","mouseenter","mouseleave"],[3,"click","mouseenter","mouseleave","ngStyle"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(i,t){if(i&1){let s=I();r(0,"div",3),C(1,"app-progress-spinner",4),r(2,"div",5),c(3),a(),r(4,"div",6)(5,"app-cms-html-list",7),w("optionActionGuideNoticeDisplayChange",function(p){return u(s),T(t.viewGuideNotice,p)||(t.viewGuideNotice=p),f(p)}),E("optionOnActionButtonMemoRow",function(){return u(s),f(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return u(s),f(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return u(s),f(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return u(s),f(t.onActionButtonPrintRow())}),Qe(6,8)(7,9)(8,10),A(9,11),r(10,"a",12),E("click",function(){return u(s),f(t.onActionButtonReload())}),C(11,"i",13),a(),r(12,"a",14),E("click",function(){return u(s),f(t.onActionGridExpandRows(!0))}),C(13,"i",15),a(),r(14,"a",14),E("click",function(){return u(s),f(t.onActionGridExpandRows(!1))}),C(15,"i",16),a(),P(),A(16,17),r(17,"a",18)(18,"mat-slide-toggle",19),w("ngModelChange",function(p){return u(s),T(t.optionsSearch.data.show,p)||(t.optionsSearch.data.show=p),f(p)}),a(),c(19),_(20,"translate"),a(),P(),Qe(21,20)(22,21),A(23,22),r(24,"app-cms-search-list",23),w("optionsChange",function(p){return u(s),T(t.optionsSearch,p)||(t.optionsSearch=p),f(p)}),a(),r(25,"app-cms-statist-list",23),w("optionsChange",function(p){return u(s),T(t.optionsStatist,p)||(t.optionsStatist=p),f(p)}),a(),P(),A(26,24),r(27,"mat-table",25,0),E("matSortChange",function(){u(s);let p=k(28);return f(t.onTableSortData(p))}),A(29,26),S(30,XM,3,3,"mat-header-cell",27)(31,$M,3,0,"mat-cell",28),P(),A(32,29),S(33,eb,3,3,"mat-header-cell",30)(34,ib,2,1,"mat-cell",28),P(),A(35,31),S(36,nb,2,1,"mat-header-cell",30)(37,ob,2,1,"mat-cell",28),P(),A(38,32),S(39,rb,2,1,"mat-header-cell",30)(40,ab,4,5,"mat-cell",28),P(),A(41,33),S(42,lb,2,1,"mat-header-cell",30)(43,db,5,7,"mat-cell",34),P(),A(44,35),S(45,cb,2,1,"mat-header-cell",30)(46,pb,2,1,"mat-cell",28),P(),A(47,36),S(48,mb,2,1,"mat-header-cell",30)(49,ub,2,1,"mat-cell",28),P(),A(50,37),S(51,fb,2,1,"mat-header-cell",30)(52,_b,2,1,"mat-cell",28),P(),A(53,38),S(54,gb,2,1,"mat-header-cell",30)(55,hb,2,1,"mat-cell",28),P(),A(56,39),S(57,yb,2,1,"mat-header-cell",30)(58,Cb,2,1,"mat-cell",28),P(),A(59,40),S(60,Sb,2,1,"mat-header-cell",30)(61,vb,3,3,"mat-cell",28),P(),A(62,41),S(63,Eb,2,1,"mat-header-cell",30)(64,Ib,3,3,"mat-cell",28),P(),A(65,42),S(66,Mb,3,3,"mat-header-cell",27)(67,bb,6,1,"mat-cell",43),P(),A(68,44),S(69,Tb,4,6,"mat-cell",28),P(),A(70,45),S(71,xb,37,15,"mat-cell",28),P(),S(72,Ab,1,0,"mat-header-row",46)(73,Pb,1,6,"mat-row",47)(74,kb,1,6,"mat-row",47)(75,Db,1,9,"mat-row",48),a(),P(),A(76,49),r(77,"mat-paginator",50,1),E("page",function(p){return u(s),f(t.onTablePageingData(p))}),a(),P(),a()(),r(79,"div",51)(80,"div",52)(81,"small",53),c(82),a(),r(83,"small",54),c(84),a()()(),r(85,"div",55),S(86,Rb,5,3,"div",56),a()()}i&2&&(o(),d("optionsInfoAreaId",t.constructorInfoAreaId),o(2),y(" ",t.formInfo.formTitle," "),o(2),d("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),b("optionActionGuideNoticeDisplay",t.viewGuideNotice),d("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelectDoubleClick)("optionActionRowDisplayMenuAct",t.tableRowSelectActionMenuClick)("optionSelectRowItemTitle",(t.tableRowSelected==null||t.tableRowSelected.username==null?null:t.tableRowSelected.username.length)>0?t.tableRowSelected==null?null:t.tableRowSelected.username:t.tableRowSelected==null?null:t.tableRowSelected.id),o(13),b("ngModel",t.optionsSearch.data.show),o(),y("",g(20,26,"ACTION.SEARCH")," "),o(5),b("options",t.optionsSearch),o(),b("options",t.optionsStatist),o(2),d("dataSource",t.tableSource),o(45),d("matHeaderRowDef",t.tabledisplayedColumns),o(),d("matRowDefColumns",le(28,KM)),o(),d("matRowDefColumns",t.tabledisplayedColumns),o(),d("matRowDefColumns",le(29,ZM)),o(2),d("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",le(30,JM)),o(5),y("",t.formInfo.formAlert," "),o(2),y("",t.formInfo.formError," "),o(2),d("ngIf",t.formInfo.formSubmitAllow))},dependencies:[se,N,tt,q,ce,Je,Ee,Q,At,Pt,vt,gt,Et,It,it,ot,st,rt,nt,dt,at,lt,ct,pt,ci,Tt,wt,U,xt,Oi,He,O,tn,Ie,Fn,qt,Bn],encapsulation:2});var kc=kl;var Dl=class Dl{constructor(l,e,i,t,s,h,p,D){this.headerService=l;this.publicHelper=e;this.cdr=i;this.tokenHelper=t;this.cmsStoreService=s;this.cmsToastrService=h;this.dialog=p;this.translate=D;this.constructorInfoAreaId=this.constructor.name;this.optionId="";this.dataModelResult=new G;this.fieldsInfo=new Map;this.publicHelper.processService.cdr=this.cdr}ngOnInit(){this.optionId.length>0&&(this.DataGetOneContent(),this.cmsApiStoreSubscribe=this.cmsStoreService.getState(l=>l.tokenInfoStore).subscribe(l=>re(this,null,function*(){this.DataGetOneContent()})))}ngOnDestroy(){this.cmsApiStoreSubscribe&&this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){let l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(l,e,this.constructorInfoAreaId)}),this.headerService.setAccessLoad(),this.headerService.ServiceGetOneById(this.optionId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),e.isSuccess?this.dataModelResult=e:this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(l)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(l,!1)}})}};Dl.\u0275fac=function(e){return new(e||Dl)(v(fn),v(F),v(B),v(K),v(Z),v(V),v(xe),v(L))},Dl.\u0275cmp=R({type:Dl,selectors:[["app-estate-property-company-header"]],inputs:{optionId:"optionId"},standalone:!1,decls:27,vars:9,consts:[[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content"],[1,"table"],[1,"tr"],[1,"td","small-width"],[1,"svg-icon","svg-icon-3x","svg-icon-primary",3,"inlineSVG"],[1,"td","large-width",2,"color","darkblue"],[1,"td",2,"text-align","left"],[1,"td","large-width"],[1,"td"],[2,"clear","both"],[1,"divider","divider-margins"]],template:function(e,i){e&1&&(r(0,"div",0),C(1,"app-progress-spinner",1),r(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),C(6,"span",6),a(),r(7,"div",7)(8,"h5")(9,"b"),c(10),_(11,"translate"),a()()(),C(12,"div",8),a(),r(13,"div",4)(14,"div",5),c(15),a(),r(16,"div",9),c(17),a(),C(18,"div",10)(19,"div",11),a(),r(20,"div",4)(21,"div",5),c(22),a(),r(23,"div",9),c(24),a(),C(25,"div",11),a()()()(),C(26,"div",12)),e&2&&(o(),d("optionsInfoAreaId",i.constructorInfoAreaId),o(5),d("inlineSVG","./assets/media/svg/icons/Communication/Flag.svg"),o(4),M(g(11,7,"TITLE.Selected_Company")),o(5),y("",i.fieldsInfo.id==null?null:i.fieldsInfo.id.fieldTitle," : "),o(2),M(i.dataModelResult==null||i.dataModelResult.item==null?null:i.dataModelResult.item.id),o(5),y("",i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle," : "),o(2),M(i.dataModelResult==null||i.dataModelResult.item==null?null:i.dataModelResult.item.title))},dependencies:[U,cn,O],styles:[".table[_ngcontent-%COMP%]{display:table;border:1px solid #40A1F5;padding:2px;background:#fff;border-radius:5px}.table[_ngcontent-%COMP%]   .th[_ngcontent-%COMP%]{display:table-row;background-color:#40a1f577;color:#fff;font-weight:700}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f9f9f9}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]{display:table-row;border-bottom:1px solid #000}.table[_ngcontent-%COMP%]   .td[_ngcontent-%COMP%]{display:table-cell;padding:15px;border-bottom:1px solid #40A1F5;color:#3d7c7a}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:last-child   .td[_ngcontent-%COMP%]{border:0}.small-width[_ngcontent-%COMP%]{width:90px}.large-width[_ngcontent-%COMP%]{width:400px}.clear[_ngcontent-%COMP%]{clear:both}"]});var Dc=Dl;var Vb=()=>["expandedTitle"],Ob=()=>["expandedDetail"],Fb=()=>[5,10,20,100],E0=n=>({display:n}),Bb=n=>({background:n});function Nb(n,l){if(n&1&&C(0,"app-estate-billboard-header",88),n&2){let e=m();d("optionId",e.requestLinkBillboardId)}}function Hb(n,l){if(n&1&&C(0,"app-estate-contract-type-header",88),n&2){let e=m();d("optionId",e.requestLinkContractTypeId)}}function Wb(n,l){if(n&1&&C(0,"app-estate-customer-order-header",88),n&2){let e=m();d("optionId",e.requestLinkCustomerOrderId)}}function Gb(n,l){if(n&1&&C(0,"app-estate-property-type-landuse-header",88),n&2){let e=m();d("optionId",e.requestLinkPropertyTypeLanduseId)}}function Ub(n,l){if(n&1&&C(0,"app-estate-property-type-usage-header",88),n&2){let e=m();d("optionId",e.requestLinkPropertyTypeUsageId)}}function jb(n,l){if(n&1&&C(0,"app-estate-property-project-header",88),n&2){let e=m();d("optionId",e.requestLinkProjectId)}}function qb(n,l){if(n&1&&C(0,"app-estate-property-company-header",88),n&2){let e=m();d("optionId",e.requestLinkCompanyId)}}function Qb(n,l){if(n&1){let e=I();r(0,"a",89),E("click",function(){u(e);let t=m();return f(t.onActionBackToParent())}),C(1,"i",90),a()}}function zb(n,l){if(n&1){let e=I();r(0,"div",35)(1,"a",91),E("click",function(t){u(e);let s=m();return f(s.onActionButtonNewRow(t))}),C(2,"i",92)(3,"br"),a(),r(4,"p",37),c(5),_(6,"translate"),a()()}n&2&&(o(5),M(g(6,1,"ACTION.ADD")))}function Yb(n,l){if(n&1){let e=I();r(0,"div",35)(1,"a",93),E("click",function(t){u(e);let s=m();return f(s.onActionButtonQuickAddRow(t))}),C(2,"i",92)(3,"br"),a(),r(4,"p",37),c(5),_(6,"translate"),a()()}n&2&&(o(5),M(g(6,1,"ACTION.QUICK_ADD")))}function Kb(n,l){if(n&1){let e=I();r(0,"div",35)(1,"a",94),E("click",function(t){u(e);let s=m();return f(s.onActionButtonEditRow(s.tableRowSelected,t))}),C(2,"i",95)(3,"br"),a(),r(4,"p",37),c(5),_(6,"translate"),a()()}n&2&&(o(5),M(g(6,1,"ACTION.EDIT")))}function Zb(n,l){if(n&1){let e=I();r(0,"div",35)(1,"a",96),E("click",function(){u(e);let t=m();return f(t.onActionButtonDeleteRow(t.tableRowSelected))}),C(2,"i",97)(3,"br"),a(),r(4,"p",37),c(5),_(6,"translate"),a()()}n&2&&(o(5),M(g(6,1,"ACTION.DELETE")))}function Jb(n,l){if(n&1){let e=I();r(0,"div",35)(1,"a",23),E("click",function(){u(e);let t=m();return f(t.onActionButtonActionSendSmsToCustomerOrder())}),C(2,"i",98)(3,"br"),a(),r(4,"p",37),c(5),_(6,"translate"),a()()}n&2&&(o(5),M(g(6,1,"ACTION.ActionSendSmsToCustomerOrder")))}function Xb(n,l){if(n&1){let e=I();r(0,"div",35)(1,"a",23),E("click",function(t){u(e);let s=m();return f(s.onActionButtonAdsRow(s.tableRowSelected,t))}),C(2,"i",99)(3,"br"),a(),r(4,"p",37),c(5),_(6,"translate"),a()()}n&2&&(o(5),M(g(6,1,"ACTION.ADS")))}function $b(n,l){if(n&1&&(A(0),r(1,"button",40),c(2),_(3,"translate"),a(),P()),n&2){let e=m();o(),d("routerLink",x("/core/site/edit/"+(e.tableRowSelected==null?null:e.tableRowSelected.linkSiteId))),o(),y(" ",g(3,3,"ACTION.VIEW_SITE")," ")}}function e2(n,l){if(n&1){let e=I();r(0,"mat-icon",100),E("click",function(){u(e);let t=m();return f(t.filteModelContent.caseCode="")}),c(1," close"),a()}}function t2(n,l){if(n&1){let e=I();r(0,"app-cms-user-selector",102),_(1,"translate"),E("optionChange",function(t){u(e);let s=m(2);return f(s.filteModelContent.linkResponsibleUserId=t==null?null:t.id)}),a()}n&2&&d("optionPlaceholder",g(1,1,"TITLE.InResponsibleTo"))}function i2(n,l){if(n&1){let e=I();r(0,"div",110)(1,"label",111),c(2),a(),r(3,"input",112,3),w("ngModelChange",function(t){u(e);let s=m(2);return T(s.filteModelContent.createdYaer,t)||(s.filteModelContent.createdYaer=t),f(t)}),a()()}if(n&2){let e=m(2);o(2),M(e.PropertyTypeSelected.titleCreatedYaer),o(),d("placeholder",x(e.fieldsInfo.createdYaer==null?null:e.fieldsInfo.createdYaer.fieldTitle)),b("ngModel",e.filteModelContent.createdYaer)}}function n2(n,l){if(n&1){let e=I();r(0,"div",110)(1,"label",113),c(2),a(),r(3,"input",114,4),w("ngModelChange",function(t){u(e);let s=m(2);return T(s.filteModelContent.partition,t)||(s.filteModelContent.partition=t),f(t)}),a()()}if(n&2){let e=m(2);o(2),M(e.PropertyTypeSelected.titlePartition),o(),d("placeholder",x(e.PropertyTypeSelected.titlePartition)),b("ngModel",e.filteModelContent.partition)}}function o2(n,l){if(n&1){let e=I();r(0,"div",110)(1,"label",115),c(2),a(),r(3,"input",116,5),w("ngModelChange",function(t){u(e);let s=m(2);return T(s.filteModelContent.area,t)||(s.filteModelContent.area=t),f(t)}),a(),r(5,"em"),c(6),a()()}if(n&2){let e=m(2);o(2),M(e.fieldsInfo.area==null?null:e.fieldsInfo.area.fieldTitle),o(),d("placeholder",x(e.fieldsInfo.area==null?null:e.fieldsInfo.area.fieldTitle)),b("ngModel",e.filteModelContent.area),o(3),M(e.fieldsInfo.area==null?null:e.fieldsInfo.area.fieldDescription)}}function r2(n,l){if(n&1){let e=I();r(0,"div",110)(1,"label",117),c(2),_(3,"translate"),a(),r(4,"input",118,6),w("ngModelChange",function(t){u(e);let s=m(2);return T(s.filteModelContent.salePriceMin,t)||(s.filteModelContent.salePriceMin=t),f(t)}),a()()}if(n&2){let e=m(2);o(2),M(g(3,2,"TITLE.SalePriceMin")),o(2),b("ngModel",e.filteModelContent.salePriceMin)}}function a2(n,l){if(n&1){let e=I();r(0,"div",110)(1,"label",119),c(2),_(3,"translate"),a(),r(4,"input",120,7),w("ngModelChange",function(t){u(e);let s=m(2);return T(s.filteModelContent.rentPriceMin,t)||(s.filteModelContent.rentPriceMin=t),f(t)}),a()()}if(n&2){let e=m(2);o(2),M(g(3,2,"TITLE.RentPriceMin")),o(2),b("ngModel",e.filteModelContent.rentPriceMin)}}function l2(n,l){if(n&1){let e=I();r(0,"div",110)(1,"label",121),c(2),_(3,"translate"),a(),r(4,"input",122,8),w("ngModelChange",function(t){u(e);let s=m(2);return T(s.filteModelContent.depositPriceMin,t)||(s.filteModelContent.depositPriceMin=t),f(t)}),a()()}if(n&2){let e=m(2);o(2),M(g(3,2,"TITLE.DepositPriceMin")),o(2),b("ngModel",e.filteModelContent.depositPriceMin)}}function s2(n,l){if(n&1){let e=I();r(0,"div",110)(1,"label",123),c(2),_(3,"translate"),a(),r(4,"input",124,9),w("ngModelChange",function(t){u(e);let s=m(2);return T(s.filteModelContent.periodPriceMin,t)||(s.filteModelContent.periodPriceMin=t),f(t)}),a()()}if(n&2){let e=m(2);o(2),M(g(3,2,"TITLE.PeriodPriceMin")),o(2),b("ngModel",e.filteModelContent.periodPriceMin)}}function d2(n,l){if(n&1){let e=I();r(0,"div",110)(1,"label",125),c(2),_(3,"translate"),a(),r(4,"input",126,10),w("ngModelChange",function(t){u(e);let s=m(2);return T(s.filteModelContent.salePriceMax,t)||(s.filteModelContent.salePriceMax=t),f(t)}),a()()}if(n&2){let e=m(2);o(2),M(g(3,2,"TITLE.SalePriceMax")),o(2),b("ngModel",e.filteModelContent.salePriceMax)}}function c2(n,l){if(n&1){let e=I();r(0,"div",110)(1,"label",127),c(2),_(3,"translate"),a(),r(4,"input",128,11),w("ngModelChange",function(t){u(e);let s=m(2);return T(s.filteModelContent.rentPriceMax,t)||(s.filteModelContent.rentPriceMax=t),f(t)}),a()()}if(n&2){let e=m(2);o(2),y("",g(3,2,"TITLE.RentPriceMax")," "),o(2),b("ngModel",e.filteModelContent.rentPriceMax)}}function p2(n,l){if(n&1){let e=I();r(0,"div",110)(1,"label",129),c(2),_(3,"translate"),a(),r(4,"input",130,12),w("ngModelChange",function(t){u(e);let s=m(2);return T(s.filteModelContent.depositPriceMax,t)||(s.filteModelContent.depositPriceMax=t),f(t)}),a()()}if(n&2){let e=m(2);o(2),M(g(3,2,"TITLE.DepositPriceMax")),o(2),b("ngModel",e.filteModelContent.depositPriceMax)}}function m2(n,l){if(n&1){let e=I();r(0,"div",110)(1,"label",131),c(2),_(3,"translate"),a(),r(4,"input",132,13),w("ngModelChange",function(t){u(e);let s=m(2);return T(s.filteModelContent.periodPriceMax,t)||(s.filteModelContent.periodPriceMax=t),f(t)}),a()()}if(n&2){let e=m(2);o(2),M(g(3,2,"TITLE.PeriodPriceMax")),o(2),b("ngModel",e.filteModelContent.periodPriceMax)}}function u2(n,l){if(n&1){let e=I();r(0,"div",45),C(1,"i",141),c(2,"\xA0 "),r(3,"app-input-string",142),w("modelChange",function(t){u(e);let s=m().$implicit,h=m(3);return T(h.propertyDetails[s.id],t)||(h.propertyDetails[s.id]=t),f(t)}),a()()}if(n&2){let e=m().$implicit,i=m(3);o(),ye("color",e.iconColor),d("ngClass",e.iconFont),o(2),Vt(ve("color:'",e.iconColor,"';")),b("model",i.propertyDetails[e.id]),d("optionForceUseDefaultValue",e.configValueForceUseDefaultValue)("optionMultipleChoice",e.configValueMultipleChoice)("optionDefaultValue",e.configValueDefaultValues)("optionRequired",e.required)("optionLabel",e.title)}}function f2(n,l){if(n&1){let e=I();r(0,"div",45),C(1,"i",141),c(2,"\xA0 "),r(3,"app-input-int",143),w("modelChange",function(t){u(e);let s=m().$implicit,h=m(3);return T(h.propertyDetails[s.id],t)||(h.propertyDetails[s.id]=t),f(t)}),a()()}if(n&2){let e=m().$implicit,i=m(3);o(),ye("color",e.iconColor),d("ngClass",e.iconFont),o(2),Vt(ve("color:'",e.iconColor,"';")),b("model",i.propertyDetails[e.id]),d("optionRequired",e.required)("optionLabel",e.title)}}function _2(n,l){if(n&1){let e=I();r(0,"div",45),C(1,"i",141),c(2,"\xA0 "),r(3,"app-input-boolean",144),w("modelChange",function(t){u(e);let s=m().$implicit,h=m(3);return T(h.propertyDetails[s.id],t)||(h.propertyDetails[s.id]=t),f(t)}),c(4),a()()}if(n&2){let e=m().$implicit,i=m(3);o(),ye("color",e.iconColor),d("ngClass",e.iconFont),o(2),b("model",i.propertyDetails[e.id]),o(),y("",e.title," ")}}function g2(n,l){if(n&1){let e=I();r(0,"div",45),C(1,"i",141),c(2,"\xA0 "),r(3,"app-input-float",143),w("modelChange",function(t){u(e);let s=m().$implicit,h=m(3);return T(h.propertyDetails[s.id],t)||(h.propertyDetails[s.id]=t),f(t)}),a()()}if(n&2){let e=m().$implicit,i=m(3);o(),ye("color",e.iconColor),d("ngClass",e.iconFont),o(2),Vt(ve("color:'",e.iconColor,"';")),b("model",i.propertyDetails[e.id]),d("optionRequired",e.required)("optionLabel",e.title)}}function h2(n,l){if(n&1){let e=I();r(0,"div",45),C(1,"i",141),c(2,"\xA0 "),r(3,"label"),c(4),a(),r(5,"app-input-date",145),w("modelChange",function(t){u(e);let s=m().$implicit,h=m(3);return T(h.propertyDetails[s.id],t)||(h.propertyDetails[s.id]=t),f(t)}),a()()}if(n&2){let e=m().$implicit,i=m(3);o(),ye("color",e.iconColor),d("ngClass",e.iconFont),o(2),Vt(ve("color:'",e.iconColor,"';")),o(),M(e.title),o(),b("model",i.propertyDetails[e.id]),d("optionRequired",e.required)}}function y2(n,l){if(n&1){let e=I();r(0,"div",45),C(1,"i",141),c(2,"\xA0 "),r(3,"app-input-textarea",143),w("modelChange",function(t){u(e);let s=m().$implicit,h=m(3);return T(h.propertyDetails[s.id],t)||(h.propertyDetails[s.id]=t),f(t)}),a()()}if(n&2){let e=m().$implicit,i=m(3);o(),ye("color",e.iconColor),d("ngClass",e.iconFont),o(2),Vt(ve("color:'",e.iconColor,"';")),b("model",i.propertyDetails[e.id]),d("optionRequired",e.required)("optionLabel",e.title)}}function C2(n,l){if(n&1){let e=I();r(0,"div",45),C(1,"i",141),c(2,"\xA0 "),r(3,"app-input-string",142),w("modelChange",function(t){u(e);let s=m().$implicit,h=m(3);return T(h.propertyDetails[s.id],t)||(h.propertyDetails[s.id]=t),f(t)}),a()()}if(n&2){let e=m().$implicit,i=m(3);o(),ye("color",e.iconColor),d("ngClass",e.iconFont),o(2),Vt(ve("color:'",e.iconColor,"';")),b("model",i.propertyDetails[e.id]),d("optionForceUseDefaultValue",e.configValueForceUseDefaultValue)("optionMultipleChoice",e.configValueMultipleChoice)("optionDefaultValue",e.configValueDefaultValues)("optionRequired",e.required)("optionLabel",e.title)}}function S2(n,l){if(n&1&&(A(0)(1,138),S(2,u2,4,12,"div",139)(3,f2,4,9,"div",139)(4,_2,5,5,"div",139)(5,g2,4,9,"div",139)(6,h2,6,9,"div",139)(7,y2,4,9,"div",139)(8,C2,4,12,"div",140),P()()),n&2){let e=l.$implicit,i=m(3);o(),d("ngSwitch",e.inputDataType),o(),d("ngSwitchCase",i.enumInputDataType.String),o(),d("ngSwitchCase",i.enumInputDataType.Int),o(),d("ngSwitchCase",i.enumInputDataType.Boolean),o(),d("ngSwitchCase",i.enumInputDataType.Float),o(),d("ngSwitchCase",i.enumInputDataType.Date),o(),d("ngSwitchCase",i.enumInputDataType.TextArea)}}function v2(n,l){if(n&1){let e=I();r(0,"button",146),E("click",function(){u(e);let t=m(3);return f(t.prevStep())}),c(1),_(2,"translate"),a()}n&2&&(o(),M(g(2,1,"ACTION.PREVIOUS")))}function E2(n,l){if(n&1){let e=I();r(0,"button",147),E("click",function(){u(e);let t=m(3);return f(t.nextStep())}),c(1),_(2,"translate"),a()}n&2&&(o(),M(g(2,1,"ACTION.NEXT")))}function I2(n,l){if(n&1){let e=I();r(0,"button",147),E("click",function(){u(e);let t=m(3);return f(t.nextStep())}),c(1),_(2,"translate"),a()}n&2&&(o(),M(g(2,1,"ACTION.END")))}function M2(n,l){if(n&1){let e=I();r(0,"mat-expansion-panel",133),E("opened",function(){let t=u(e).index,s=m(2);return f(s.setStep(t))}),r(1,"mat-expansion-panel-header")(2,"mat-panel-title"),c(3),a(),r(4,"mat-panel-description"),c(5),r(6,"mat-icon",134),c(7),a()()(),S(8,S2,9,7,"ng-container",135),r(9,"mat-action-row"),S(10,v2,3,3,"button",136)(11,E2,3,3,"button",137)(12,I2,3,3,"button",137),a()()}if(n&2){let e=l.$implicit,i=l.index,t=m(2);d("expanded",t.step===i),o(3),y(" ",e.title," "),o(2),y(" ",e.description," "),o(2),M(e.iconFont),o(),d("ngForOf",e.propertyDetails),o(2),d("ngIf",i>0),o(),d("ngIf",i+1<t.dataModelPropertyDetailGroups.length),o(),d("ngIf",i+1===t.dataModelPropertyDetailGroups.length)}}function b2(n,l){if(n&1){let e=I();r(0,"div")(1,"P"),c(2),_(3,"translate"),a(),S(4,t2,2,3,"app-cms-user-selector",101),r(5,"app-cms-location-autocomplete",102),_(6,"translate"),E("optionChange",function(t){u(e);let s=m();return f(s.onActionSelectorLocation(t))}),a(),C(7,"hr"),r(8,"app-estate-property-type-usage-selector",103),_(9,"translate"),E("optionChange",function(t){u(e);let s=m();return f(s.onActionSelectorSelectUsage(t))}),a(),C(10,"br")(11,"br")(12,"br"),r(13,"app-estate-property-type-landuse-selector",103),_(14,"translate"),E("optionChange",function(t){u(e);let s=m();return f(s.onActionSelectorSelectLanduse(t))}),a(),C(15,"br")(16,"br")(17,"br"),r(18,"app-estate-contract-type-selector",103),_(19,"translate"),E("optionChange",function(t){u(e);let s=m();return f(s.onActionSelectorContarctType(t))}),a(),C(20,"br")(21,"br")(22,"br"),S(23,i2,5,4,"div",104)(24,n2,5,4,"div",104)(25,o2,7,5,"div",104),C(26,"hr"),r(27,"app-cms-currency-selector",105),_(28,"translate"),E("optionChange",function(t){u(e);let s=m();return f(s.onActionSelectCurrency(t))}),a(),r(29,"div",106)(30,"div",107),S(31,r2,6,4,"div",104)(32,a2,6,4,"div",104)(33,l2,6,4,"div",104)(34,s2,6,4,"div",104),a(),r(35,"div",107),S(36,d2,6,4,"div",104)(37,c2,6,4,"div",104)(38,p2,6,4,"div",104)(39,m2,6,4,"div",104),a(),r(40,"mat-accordion",108),S(41,M2,13,8,"mat-expansion-panel",109),C(42,"br"),a()()()}if(n&2){let e=m();o(2),y("",g(3,24,"MESSAGE.Selecting_any_of_the_following_will_make_the_search_results_range_smaller")," "),o(2),d("ngIf",e.tokenHelper.isAdminSite),o(),d("optionPlaceholder",g(6,26,"TITLE.Region")),o(3),d("optionTypeView",2)("optionPlaceholder",g(9,28,"TITLE.Type_Usage")),o(5),d("optionTypeView",2)("optionPlaceholder",g(14,30,"TITLE.Property_Type")),o(5),d("optionTypeView",2)("optionPlaceholder",g(19,32,"TITLE.Transaction_type")),o(5),d("ngIf",e.filteModelContent.linkPropertyTypeLanduseId&&(e.PropertyTypeSelected==null||e.PropertyTypeSelected.titleCreatedYaer==null?null:e.PropertyTypeSelected.titleCreatedYaer.length)>1),o(),d("ngIf",e.filteModelContent.linkPropertyTypeLanduseId&&(e.PropertyTypeSelected==null||e.PropertyTypeSelected.titlePartition==null?null:e.PropertyTypeSelected.titlePartition.length)>1),o(),d("ngIf",e.fieldsInfo.area==null?null:e.fieldsInfo.area.accessWatchField),o(2),d("optionSelectFirstItem",!1)("optionSelectForce",e.filteModelContent.linkCoreCurrencyId)("optionPlaceholder",g(28,34,"TITLE.Specify_the_transaction_currency")),o(4),d("ngIf",e.contractTypeSelected==null?null:e.contractTypeSelected.hasSalePrice),o(),d("ngIf",e.contractTypeSelected==null?null:e.contractTypeSelected.hasRentPrice),o(),d("ngIf",e.contractTypeSelected==null?null:e.contractTypeSelected.hasDepositPrice),o(),d("ngIf",e.contractTypeSelected==null?null:e.contractTypeSelected.hasDepositPrice),o(2),d("ngIf",e.contractTypeSelected==null?null:e.contractTypeSelected.hasSalePrice),o(),d("ngIf",e.contractTypeSelected==null?null:e.contractTypeSelected.hasRentPrice),o(),d("ngIf",e.contractTypeSelected==null?null:e.contractTypeSelected.hasDepositPrice),o(),d("ngIf",e.contractTypeSelected==null?null:e.contractTypeSelected.hasDepositPrice),o(2),d("ngForOf",e.dataModelPropertyDetailGroups)}}function T2(n,l){n&1&&C(0,"mat-header-row")}function w2(n,l){if(n&1){let e=I();r(0,"mat-row",148),E("click",function(){let t=u(e).$implicit,s=m();return f(s.onActionTableRowSelect(t))})("mouseenter",function(){let t=u(e).$implicit,s=m();return f(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=u(e).$implicit,s=m();return f(s.onActionTableRowMouseLeave(t))}),a()}if(n&2){let e=l.$implicit,i=l.dataIndex,t=m();Se("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",e.id===(t.tableRowSelected==null?null:t.tableRowSelected.id))}}function x2(n,l){if(n&1){let e=I();r(0,"mat-row",148),E("click",function(){let t=u(e).$implicit,s=m();return f(s.onActionTableRowSelect(t))})("mouseenter",function(){let t=u(e).$implicit,s=m();return f(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=u(e).$implicit,s=m();return f(s.onActionTableRowMouseLeave(t))}),a()}if(n&2){let e=l.$implicit,i=l.dataIndex,t=m();Se("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",e.id===(t.tableRowSelected==null?null:t.tableRowSelected.id))}}function A2(n,l){if(n&1){let e=I();r(0,"mat-row",149),E("click",function(){let t=u(e).$implicit,s=m();return f(s.onActionTableRowSelect(t))})("mouseenter",function(){let t=u(e).$implicit,s=m();return f(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=u(e).$implicit,s=m();return f(s.onActionTableRowMouseLeave(t))}),a()}if(n&2){let e=l.$implicit,i=l.dataIndex,t=m();Se("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",e.id===(t.tableRowSelected==null?null:t.tableRowSelected.id)),d("ngStyle",ze(7,E0,e.expanded===!0?"":"none"))}}function P2(n,l){n&1&&(r(0,"mat-header-cell"),c(1),_(2,"translate"),a()),n&2&&(o(),y(" ",g(2,1,"TITLE.MENU")," "))}function k2(n,l){if(n&1){let e=I();r(0,"mat-cell")(1,"button",150),E("click",function(){let t=u(e).$implicit,s=m();return f(s.onActionTableRowSelectActionMenu(t))}),C(2,"i",151),a()()}}function D2(n,l){n&1&&(r(0,"mat-header-cell",152),c(1),_(2,"translate"),a()),n&2&&(o(),y(" ",g(2,1,"TITLE.PICTURE")," "))}function R2(n,l){if(n&1&&(C(0,"img",154),_(1,"cmsthumbnail")),n&2){let e=m().$implicit;d("ngSrc",x(g(1,2,e.linkMainImageIdSrc)))}}function L2(n,l){if(n&1&&(r(0,"mat-cell"),S(1,R2,2,4,"img",153),a()),n&2){let e=l.$implicit;o(),d("ngIf",(e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0)}}function V2(n,l){if(n&1&&(r(0,"mat-header-cell",152),c(1),a()),n&2){let e=m();o(),y(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function O2(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),y(" ",e.id," ")}}function F2(n,l){if(n&1&&(r(0,"mat-header-cell",152),c(1),a()),n&2){let e=m();o(),y(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function B2(n,l){if(n&1&&(r(0,"mat-cell",155),c(1),_(2,"cmssiteinfo"),_(3,"async"),a()),n&2){let e=l.$implicit;o(),y(" ",g(3,3,g(2,1,e.linkSiteId))," ")}}function N2(n,l){if(n&1&&(r(0,"mat-header-cell",152),c(1),a()),n&2){let e=m();o(),y(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function H2(n,l){if(n&1&&C(0,"select",158),n&2){let e=m().$implicit,i=m();d("contentService",i.contentService)("row",e)("ngStyle",ze(3,E0,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function W2(n,l){if(n&1&&(r(0,"mat-cell",156),_(1,"statusCellClass"),C(2,"i",156),_(3,"statusIconClass"),S(4,H2,1,5,"select",157),a()),n&2){let e=l.$implicit,i=m();d("ngClass",g(1,3,e.recordStatus)),o(2),d("ngClass",g(3,5,e.recordStatus)),o(2),d("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessEditRow)}}function G2(n,l){if(n&1&&(r(0,"mat-header-cell",152),c(1),a()),n&2){let e=m();o(),y(" ",e.fieldsInfo.mainAdminRecordStatus==null?null:e.fieldsInfo.mainAdminRecordStatus.fieldTitle," ")}}function U2(n,l){if(n&1&&(r(0,"mat-cell"),C(1,"i",156),_(2,"statusIconClass"),a()),n&2){let e=l.$implicit;o(),d("ngClass",g(2,1,e.mainAdminRecordStatus))}}function j2(n,l){if(n&1&&(r(0,"mat-header-cell",152),c(1),a()),n&2){let e=m();o(),y(" ",e.fieldsInfo.isSoldIt==null?null:e.fieldsInfo.isSoldIt.fieldTitle," ")}}function q2(n,l){if(n&1&&(r(0,"mat-cell"),C(1,"i",156),_(2,"boolclass"),a()),n&2){let e=l.$implicit;o(),d("ngClass",g(2,1,e.isSoldIt))}}function Q2(n,l){if(n&1&&(r(0,"mat-header-cell",152),c(1),a()),n&2){let e=m();o(),y(" ",e.fieldsInfo.viewConfigHiddenInList==null?null:e.fieldsInfo.viewConfigHiddenInList.fieldTitle," ")}}function z2(n,l){if(n&1&&(r(0,"mat-cell"),C(1,"i",156),_(2,"boolclass"),a()),n&2){let e=l.$implicit;o(),d("ngClass",g(2,1,e.viewConfigHiddenInList))}}function Y2(n,l){if(n&1&&(r(0,"mat-header-cell",152),c(1),a()),n&2){let e=m();o(),y(" ",e.fieldsInfo.viewCount==null?null:e.fieldsInfo.viewCount.fieldTitle," ")}}function K2(n,l){if(n&1&&(r(0,"mat-cell",155),c(1),a()),n&2){let e=l.$implicit;o(),y(" ",e.viewCount," ")}}function Z2(n,l){n&1&&(r(0,"mat-header-cell",152),c(1),_(2,"translate"),a()),n&2&&(o(),y(" ",g(2,1,"TITLE.Is_Special")," "))}function J2(n,l){if(n&1&&(r(0,"mat-cell"),C(1,"i",156),_(2,"boolclass"),a()),n&2){let e=l.$implicit;o(),d("ngClass",g(2,1,e.adsActive))}}function X2(n,l){if(n&1&&(r(0,"mat-header-cell",152),c(1),a()),n&2){let e=m();o(),y(" ",e.fieldsInfo.caseCode==null?null:e.fieldsInfo.caseCode.fieldTitle," ")}}function $2(n,l){if(n&1&&(r(0,"mat-cell",159),c(1),a()),n&2){let e=l.$implicit;d("ngStyle",ze(3,Bb,e.ActiveDataStyle)),o(),$(" ",e.caseCode," ",e.ActiveDataText)}}function eT(n,l){if(n&1&&(r(0,"mat-header-cell",152),c(1),a()),n&2){let e=m();o(),y(" ",e.fieldsInfo.scoreEstateLocation==null?null:e.fieldsInfo.scoreEstateLocation.fieldTitle," ")}}function tT(n,l){if(n&1&&(r(0,"mat-cell",156),c(1),a()),n&2){let e=l.$implicit;d("ngClass","cms-cell-score-"+e.scoreEstateLocation),o(),y(" ",e.scoreEstateLocation," ")}}function iT(n,l){if(n&1&&(r(0,"mat-header-cell",152),c(1),a()),n&2){let e=m();o(),y(" ",e.fieldsInfo.scoreEstateBuild==null?null:e.fieldsInfo.scoreEstateBuild.fieldTitle," ")}}function nT(n,l){if(n&1&&(r(0,"mat-cell",156),c(1),a()),n&2){let e=l.$implicit;d("ngClass","cms-cell-score-"+e.scoreEstateBuild),o(),y(" ",e.scoreEstateBuild," ")}}function oT(n,l){if(n&1&&(r(0,"mat-header-cell",152),c(1),a()),n&2){let e=m();o(),y(" ",e.fieldsInfo.scoreEstatePrice==null?null:e.fieldsInfo.scoreEstatePrice.fieldTitle," ")}}function rT(n,l){if(n&1&&(r(0,"mat-cell",156),c(1),a()),n&2){let e=l.$implicit;d("ngClass","cms-cell-score-"+e.scoreEstatePrice),o(),y(" ",e.scoreEstatePrice," ")}}function aT(n,l){if(n&1&&(r(0,"mat-header-cell",152),c(1),a()),n&2){let e=m();o(),y(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function lT(n,l){if(n&1&&(r(0,"mat-cell",160),c(1),_(2,"localeDateTime"),a()),n&2){let e=l.$implicit;o(),y(" ",g(2,1,e.createdDate)," ")}}function sT(n,l){if(n&1&&(r(0,"mat-header-cell",152),c(1),a()),n&2){let e=m();o(),y(" ",e.fieldsInfo.updatedDate==null?null:e.fieldsInfo.updatedDate.fieldTitle," ")}}function dT(n,l){if(n&1&&(r(0,"mat-cell",160),c(1),_(2,"localeDateTime"),a()),n&2){let e=l.$implicit;o(),y(" ",g(2,1,e.updatedDate)," ")}}function cT(n,l){n&1&&(r(0,"mat-header-cell",161),c(1),_(2,"translate"),a()),n&2&&(o(),y(" ",g(2,1,"TITLE.OPTION")," "))}function pT(n,l){if(n&1&&(r(0,"mat-cell",162)(1,"button",163)(2,"mat-icon"),c(3,"more_vert"),a()(),C(4,"mat-menu",null,14),a()),n&2){let e=k(5);o(),d("matMenuTriggerFor",e)}}function mT(n,l){n&1&&(r(0,"mat-header-cell",152),c(1),_(2,"translate"),a()),n&2&&(o(),y(" ",g(2,1,"TITLE.LINKTO")," "))}function uT(n,l){if(n&1){let e=I();r(0,"mat-cell")(1,"button",164),E("click",function(){let t=u(e).$implicit,s=m();return f(s.onActionButtonLinkTo(t))}),r(2,"mat-icon",165),c(3,"\u2197"),a()()()}}function fT(n,l){n&1&&(r(0,"mat-header-cell",152),c(1),_(2,"translate"),a()),n&2&&(o(),y(" ",g(2,1,"TITLE.QUICK_VIEW")," "))}function _T(n,l){if(n&1){let e=I();r(0,"mat-cell")(1,"button",164),E("click",function(){let t=u(e).$implicit,s=m();return f(s.onActionButtonQuickViewRow(t))}),r(2,"mat-icon",165),c(3,"visibility"),a()()()}}function gT(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),y(" ",e.title," ")}}function hT(n,l){if(n&1&&(C(0,"img",169),_(1,"cmsthumbnail")),n&2){let e=m().$implicit;d("ngSrc",x(g(1,2,e.linkMainImageIdSrc)))}}function yT(n,l){if(n&1&&(r(0,"tr")(1,"td",155),c(2),_(3,"translate"),a(),r(4,"td",155),c(5),a()()),n&2){let e=m().$implicit;o(2),M(g(3,2,"TITLE.SquareMeters")),o(3),y(" ",e.area," ")}}function CT(n,l){if(n&1&&(r(0,"tr")(1,"td",155),c(2),_(3,"translate"),a(),r(4,"td",155),c(5),a()()),n&2){let e=m().$implicit;o(2),M(g(3,2,"TITLE.CreatedYaer")),o(3),y(" ",e.createdYaer," ")}}function ST(n,l){if(n&1){let e=I();r(0,"mat-cell")(1,"div")(2,"table")(3,"tr")(4,"th"),S(5,hT,2,4,"img",166),a(),r(6,"th",155)(7,"span",167),E("click",function(){u(e);let t=m();return f(t.onActionCopied())}),C(8,"i",168),a(),c(9),a()(),r(10,"tr"),C(11,"td"),r(12,"td",155),c(13),a()(),r(14,"tr")(15,"td"),c(16),a(),r(17,"td",155),c(18),a()(),S(19,yT,6,4,"tr",42)(20,CT,6,4,"tr",42),r(21,"tr"),C(22,"td"),r(23,"td",155),c(24),a()(),r(25,"tr"),C(26,"td"),r(27,"td",155),c(28),a()(),r(29,"tr")(30,"td",155),c(31),_(32,"translate"),a(),r(33,"td",155),c(34),a()(),r(35,"tr"),C(36,"td"),r(37,"td",155),c(38),_(39,"cmsuserinfo"),_(40,"async"),a()(),r(41,"tr")(42,"td",155),c(43),_(44,"translate"),a(),r(45,"td",155),c(46),a()(),r(47,"tr"),C(48,"td")(49,"td"),a()()()()}if(n&2){let e=l.$implicit,i=m();o(5),d("ngIf",(e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0),o(2),d("cdkCopyToClipboard",e.id),o(2),y(" ",e.id," "),o(4),y(" ",e.title," "),o(3),M(i.fieldsInfo.caseCode==null?null:i.fieldsInfo.caseCode.fieldTitle),o(2),y(" ",e.caseCode," "),o(),d("ngIf",e.area&&e.area>0),o(),d("ngIf",e.createdYaer&&e.createdYaer>0),o(4),y(" ",e.linkLocationIdParentTitle," "),o(4),y(" ",e.linkLocationIdTitle," "),o(3),y("",g(32,15,"TITLE.ADDRESS")," :"),o(3),y(" ",e.address," "),o(4),y(" ",g(40,19,g(39,17,e.createdBy))," "),o(5),y("",g(44,21,"TITLE.HISTORY")," :"),o(3),y(" ",e.historyTotalCount," ")}}var Rl=class Rl extends bt{constructor(e,i,t,s,h,p,D,z,he,je,Ge,mt,Nt,Rt,Ut){super(e,new Ki,h,he,Rt);this.contentService=e;this.configService=i;this.themeService=t;this.activatedRoute=s;this.publicHelper=h;this.cmsToastrService=p;this.cmsConfirmationDialogService=D;this.estatePropertyDetailGroupService=z;this.tokenHelper=he;this.cmsStoreService=je;this.router=Ge;this.cdr=mt;this.dialog=Nt;this.translate=Rt;this.pageInfo=Ut;this.requestLinkPropertyTypeLanduseId="";this.requestLinkPropertyTypeUsageId="";this.requestLinkContractTypeId="";this.requestLinkBillboardId="";this.requestLinkCustomerOrderId="";this.requestLinkCustomerOrderIdHaveHistory="";this.requestLinkProjectId="";this.requestLinkCompanyId="";this.requestLinkEstateExpertId="";this.requestLinkEstateAgencyId="";this.requestLinkUserId=0;this.requestInChecking=!1;this.requestAction="";this.constructorInfoAreaId=this.constructor.name;this.optionloadComponent=!0;this.optionloadByRoute=!0;this.optionsortType=X.Descending;this.responsibleUserId=0;this.flag=!1;this.tablePropertySelected=[];this.searchInCheckingChecked=!1;this.searchInResponsibleChecked=!1;this.filteModelContent=new ao;this.dataModelPropertyDetailGroups=[];this.dataConfigSiteValuesModel=new Dm;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["LinkMainImageIdSrc","Id","RecordStatus","MainAdminRecordStatus","IsSoldIt","ViewConfigHiddenInList","LinkSiteId","AdsActive","ViewCount","caseCode","scoreEstateLocation","scoreEstateBuild","scoreEstatePrice","CreatedDate","UpdatedDate","LinkTo","QuickView","action_menu"];this.tabledisplayedColumnsMobileSource=["LinkMainImageIdSrc","IsSoldIt","caseCode","LinkTo","QuickView","action_menu"];this.propertyDetails=new Map;this.enumInputDataType=Ri;this.step=0;this.actionbuttonExportOn=!1;this.PropertyTypeSelected=new Gt;this.dataModelCorCurrencySelector=new Di;if(this.publicHelper.processService.cdr=this.cdr,this.requestLinkPropertyTypeLanduseId=this.activatedRoute.snapshot.paramMap.get("LinkPropertyTypeLanduseId"),this.requestLinkPropertyTypeUsageId=this.activatedRoute.snapshot.paramMap.get("LinkPropertyTypeUsageId"),this.requestLinkContractTypeId=this.activatedRoute.snapshot.paramMap.get("LinkContractTypeId"),this.requestLinkBillboardId=this.activatedRoute.snapshot.paramMap.get("LinkBillboardId"),this.requestLinkCustomerOrderId=this.activatedRoute.snapshot.paramMap.get("LinkCustomerOrderId"),this.requestLinkProjectId=this.activatedRoute.snapshot.paramMap.get("LinkProjectId"),this.requestLinkCompanyId=this.activatedRoute.snapshot.paramMap.get("LinkCompanyId"),this.requestLinkEstateExpertId=this.activatedRoute.snapshot.paramMap.get("LinkEstateExpertId"),this.requestLinkEstateAgencyId=this.activatedRoute.snapshot.paramMap.get("LinkEstateAgencyId"),this.requestLinkUserId=+this.activatedRoute.snapshot.paramMap.get("LinkUserId")|0,this.requestAction=this.activatedRoute.snapshot.paramMap.get("Action"),this.activatedRoute.snapshot.paramMap.get("InChecking")&&(this.searchInCheckingChecked=this.activatedRoute.snapshot.paramMap.get("InChecking")==="true"),this.optionsSearch.parentMethods={onSubmit:Fe=>this.onSubmitOptionsSearch(Fe)},this.responsibleUserId=+this.activatedRoute.snapshot.paramMap.get("ResponsibleUserId"),this.requestRecordStatus=qe[this.activatedRoute.snapshot.paramMap.get("RecordStatus")+""],this.requestRecordStatus&&(this.optionsSearch.data.show=!0,this.optionsSearch.data.defaultQuery='{"condition":"and","rules":[{"field":"RecordStatus","type":"select","operator":"equal","value":"'+this.requestRecordStatus+'"}]}',this.requestRecordStatus=null),this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=X.Descending,this.requestLinkPropertyTypeLanduseId&&this.requestLinkPropertyTypeLanduseId.length>0){let Fe=new H;Fe.propertyName="LinkPropertyTypeLanduseId",Fe.value=this.requestLinkPropertyTypeLanduseId,this.filteModelContent.filters.push(Fe)}if(this.requestLinkPropertyTypeUsageId&&this.requestLinkPropertyTypeUsageId.length>0){let Fe=new H;Fe.propertyName="LinkPropertyTypeUsageId",Fe.value=this.requestLinkPropertyTypeUsageId,this.filteModelContent.filters.push(Fe)}if(this.requestLinkContractTypeId&&this.requestLinkContractTypeId.length>0){let Fe=new H;Fe.propertyName="Contracts",Fe.propertyAnyName="LinkEstateContractTypeId",Fe.value=this.requestLinkContractTypeId,this.filteModelContent.filters.push(Fe)}if(this.requestLinkUserId&&this.requestLinkUserId>0){let Fe=new H;Fe.propertyName="linkCmsUserId",Fe.value=this.requestLinkUserId,this.filteModelContent.filters.push(Fe)}if(this.requestLinkProjectId&&this.requestLinkProjectId.length>0){let Fe=new H;Fe.propertyName="linkPropertyProjectId",Fe.value=this.requestLinkProjectId,this.filteModelContent.filters.push(Fe)}if(this.requestLinkCompanyId&&this.requestLinkCompanyId.length>0){let Fe=new H;Fe.propertyName="linkPropertyCompanyId",Fe.value=this.requestLinkCompanyId,this.filteModelContent.filters.push(Fe)}if(this.requestLinkEstateExpertId&&this.requestLinkEstateExpertId.length>0){let Fe=new H;Fe.propertyName="linkEstateExpertId",Fe.value=this.requestLinkEstateExpertId,this.filteModelContent.filters.push(Fe)}if(this.requestLinkEstateAgencyId&&this.requestLinkEstateAgencyId.length>0){let Fe=new H;Fe.propertyName="linkEstateAgencyId",Fe.value=this.requestLinkEstateAgencyId,this.filteModelContent.filters.push(Fe)}}set optionLinkCustomerOrderId(e){e&&e.length>0&&(this.requestLinkCustomerOrderId=e)}set optionLinkCustomerOrderIdHaveHistory(e){e&&e.length>0&&(this.requestLinkCustomerOrderIdHaveHistory=e)}set optionLinkBillboardId(e){e&&e.length>0&&(this.requestLinkBillboardId=e)}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&(this.tokenInfo?.access?.siteId>0&&this.GetServiceSiteConfig(this.tokenInfo.access.siteId),this.DataGetAll(),!this.tokenHelper.isAdminSite&&!this.tokenHelper.isSupportSite&&(this.tabledisplayedColumnsSource=this.publicHelper.listRemoveIfExist(this.tabledisplayedColumnsSource,"scoreEstateLocation"),this.tabledisplayedColumnsSource=this.publicHelper.listRemoveIfExist(this.tabledisplayedColumnsSource,"scoreEstateBuild"),this.tabledisplayedColumnsSource=this.publicHelper.listRemoveIfExist(this.tabledisplayedColumnsSource,"scoreEstatePrice"))),this.tokenInfo.access.direction,this.cmsApiStoreSubscribe=this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>re(this,null,function*(){this.tokenInfo=e,this.tokenInfo?.access?.siteId>0&&this.GetServiceSiteConfig(this.tokenInfo.access.siteId),this.DataGetAll(),!this.tokenHelper.isAdminSite&&!this.tokenHelper.isSupportSite&&(this.tabledisplayedColumnsSource=this.publicHelper.listRemoveIfExist(this.tabledisplayedColumnsSource,"scoreEstateLocation"),this.tabledisplayedColumnsSource=this.publicHelper.listRemoveIfExist(this.tabledisplayedColumnsSource,"scoreEstateBuild"),this.tabledisplayedColumnsSource=this.publicHelper.listRemoveIfExist(this.tabledisplayedColumnsSource,"scoreEstatePrice"))}))}ngOnDestroy(){this.cmsApiStoreSubscribe&&this.cmsApiStoreSubscribe.unsubscribe()}GetServiceSiteConfig(e){let i=this.constructor.name+"ServiceSiteConfig";this.translate.get("MESSAGE.get_module_setting").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructorInfoAreaId)}),this.configService.ServiceSiteConfig(e).subscribe({next:t=>{t.isSuccess?(this.dataConfigSiteValuesModel=t.item,this.RowStyleActiveData()):this.cmsToastrService.typeErrorGetOne(t.errorMessage),this.publicHelper.processService.processStop(i)},error:t=>{this.cmsToastrService.typeErrorGetOne(t),this.publicHelper.processService.processStop(i,!1)}})}DataGetAll(){if(this.themeService.onActionScrollTopList(!0,1e4),this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),!this.optionloadComponent)return;var e=0;this.searchInResponsibleChecked?e=this.tokenInfo.access.userId:this.responsibleUserId>0&&(e=this.responsibleUserId),this.optionsortType&&(this.filteModelContent.sortType=this.optionsortType),this.tableRowsSelected=[],this.onActionTableRowSelect(new Ki);let i=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(h=>{this.publicHelper.processService.processStart(i,h,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let t=JSON.parse(JSON.stringify(this.filteModelContent));if(this.categoryModelSelected&&this.categoryModelSelected.id&&this.categoryModelSelected.id.length>0){let h=new H;h.propertyName="LinkPropertyTypeLanduseId",h.value=this.categoryModelSelected.id,t.filters.push(h)}if(this.searchInCheckingChecked){let h=new H;h.propertyName="RecordStatus",h.value=qe.Pending,t.filters.push(h)}if(e>0)this.contentService.ServiceGetAllWithResponsibleUserId(e,t).subscribe({next:h=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(h.access),h.isSuccess?(this.dataModelResult=h,this.RowStyleActiveData(),this.tableSource.data=h.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(h.access)},1e3)):this.cmsToastrService.typeErrorMessage(h.errorMessage),this.publicHelper.processService.processStop(i)},error:h=>{this.cmsToastrService.typeError(h),this.publicHelper.processService.processStop(i,!1)}});else if(this.requestLinkBillboardId&&this.requestLinkBillboardId.length>0)this.actionbuttonExportOn=!1,this.contentService.setAccessDataType(Be.Editor),this.contentService.ServiceGetAllWithCoverBillboardId(this.requestLinkBillboardId,t).subscribe({next:h=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(h.access),h.isSuccess?(this.dataModelResult=h,this.RowStyleActiveData(),this.tableSource.data=h.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(h.access)},1e3)):this.cmsToastrService.typeErrorGetAll(h.errorMessage),this.publicHelper.processService.processStop(i)},error:h=>{this.cmsToastrService.typeError(h),this.publicHelper.processService.processStop(i)}});else if(this.requestLinkCustomerOrderId&&this.requestLinkCustomerOrderId.length>0)this.actionbuttonExportOn=!1,this.contentService.setAccessDataType(Be.Editor),this.contentService.ServiceGetAllWithCoverCustomerOrderId(this.requestLinkCustomerOrderId,t).subscribe({next:h=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(h.access),h.isSuccess?(this.dataModelResult=h,this.RowStyleActiveData(),this.tableSource.data=h.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(h.access)},1e3)):this.cmsToastrService.typeErrorGetAll(h.errorMessage),this.publicHelper.processService.processStop(i)},error:h=>{this.cmsToastrService.typeError(h),this.publicHelper.processService.processStop(i)}});else if(this.requestLinkCustomerOrderIdHaveHistory&&this.requestLinkCustomerOrderIdHaveHistory.length>0)this.actionbuttonExportOn=!1,this.contentService.setAccessDataType(Be.Editor),this.contentService.ServiceGetAllWithCoverCustomerOrderIdHaveHistory(this.requestLinkCustomerOrderIdHaveHistory,t).subscribe({next:h=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(h.access),h.isSuccess?(this.dataModelResult=h,this.RowStyleActiveData(),this.tableSource.data=h.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(h.access)},1e3)):this.cmsToastrService.typeErrorGetAll(h.errorMessage),this.publicHelper.processService.processStop(i)},error:h=>{this.cmsToastrService.typeError(h),this.publicHelper.processService.processStop(i)}});else{var s=[];this.dataModelPropertyDetailGroups&&this.dataModelPropertyDetailGroups.forEach(h=>{h.propertyDetails.forEach(p=>{let D=new So;D.linkPropertyDetailId=p.id,D.value=this.propertyDetails[p.id],s.push(D)})}),t.propertyDetailValues=s,this.contentService.setAccessDataType(Be.Editor),this.contentService.ServiceGetAll(t).subscribe({next:h=>{this.actionbuttonExportOn=!0,this.fieldsInfo=this.publicHelper.fieldInfoConvertor(h.access),h.isSuccess?(this.dataModelResult=h,this.RowStyleActiveData(),this.tableSource.data=h.listItems,this.requestAction?.length>0&&this.requestAction==="quick-add"&&(this.requestAction="",this.onActionButtonQuickAddRow()),this.optionsSearch.data.show&&this.optionsStatist.data.show&&(this.optionsStatist.data.show=!this.optionsStatist.data.show,this.onActionButtonStatist()),this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(h.access)},1e3)):this.cmsToastrService.typeErrorGetAll(h.errorMessage),this.publicHelper.processService.processStop(i)},error:h=>{this.cmsToastrService.typeError(h),this.publicHelper.processService.processStop(i,!1)}})}}DataGetPropertyDetailGroup(e){let i=new pe,t=new H;t.propertyName="LinkPropertyTypeLanduseId",t.value=e,i.filters.push(t),this.dataModelPropertyDetailGroups=[];let s=this.constructor.name+"DataGetPropertyDetailGroup";this.translate.get("MESSAGE.Get_detailed_information").subscribe(h=>{this.publicHelper.processService.processStart(s,h,this.constructorInfoAreaId)}),this.estatePropertyDetailGroupService.ServiceGetAllFastSearch(i).subscribe({next:h=>{h.isSuccess?(this.dataModelPropertyDetailGroups=h.listItems,this.dataModelPropertyDetailGroups&&this.dataModelPropertyDetailGroups.forEach(p=>{p.propertyDetails.forEach(D=>{this.propertyDetails[D.id]=0})})):this.cmsToastrService.typeErrorGetAccess(h.errorMessage),this.publicHelper.processService.processStop(s)},error:h=>{this.cmsToastrService.typeErrorGetAccess(h),this.publicHelper.processService.processStop(s,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=X.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=X.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=X.Descending),this.filteModelContent.sortColumn=="AdsActive"&&(this.filteModelContent.sortColumn="AdsExpireDate"),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(e){if(this.categoryModelSelected==null&&this.categoryModelSelected&&this.categoryModelSelected.id&&this.categoryModelSelected.id.length===0&&(this.requestLinkPropertyTypeLanduseId==null||this.requestLinkPropertyTypeLanduseId.length===0)){this.translate.get("MESSAGE.Content_not_selected").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}let i=this.requestLinkPropertyTypeLanduseId;this.categoryModelSelected&&this.categoryModelSelected.id.length>0&&(i=this.categoryModelSelected.id),i&&i.length>0?e?.ctrlKey?(this.link="/#/estate/property/add/LinkPropertyTypeLanduseId/"+i,window.open(this.link,"_blank")):this.router.navigate(["/estate/property/add/LinkPropertyTypeLanduseId",i]):e?.ctrlKey?(this.link="/#/estate/property/add/",window.open(this.link,"_blank")):this.router.navigate(["/estate/property/add"])}onActionSelectorSelect(e){var i=this.filteModelContent.sortColumn,t=this.filteModelContent.sortType;this.filteModelContent=new ao,this.filteModelContent.sortColumn=i,this.filteModelContent.sortType=t,this.categoryModelSelected=e,this.DataGetAll()}onActionButtonEditRow(e=this.tableRowSelected,i){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.tableRowSelected=e,this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}i?.ctrlKey?(this.link="/#/estate/property/edit/"+this.tableRowSelected.id,window.open(this.link,"_blank")):this.router.navigate(["/estate/property/edit",this.tableRowSelected.id])}onActionButtonQuickViewRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.tableRowSelected=e,this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var i=this.publicHelper.InfoNextRowInList(this.dataModelResult.listItems,this.tableRowSelected),t=this.publicHelper.InfoPerviousRowInList(this.dataModelResult.listItems,this.tableRowSelected),s="";this.publicHelper.isMobile?s="dialog-fullscreen":s="dialog-min",this.dialog.open(qo,{height:"90%",panelClass:s,data:{id:this.tableRowSelected.id,perviousItem:t,nextItem:i}}).afterClosed().subscribe(p=>{p&&p.dialogChangedDate&&p.onActionOpenItem&&p.onActionOpenItem.id.length>0&&this.onActionButtonQuickViewRow(p.onActionOpenItem)})}onActionButtonQuickAddRow(e){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}e?.ctrlKey&&(this.link="/#/estate/property/add/",window.open(this.link,"_blank"));var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Pc,{height:"90%",enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,panelClass:i,data:{}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate&&this.DataGetAll()})}onActionButtonQuickHistoryAddRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}this.tableRowSelected=e,this.onActionTableRowSelect(e);var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(mo,{height:"90%",panelClass:i,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{linkActivityTypeId:null,linkPropertyId:e.id,linkEstateExpertId:null,linkCustomerOrderId:null,linkEstateAgencyId:null}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate})}onActionButtonAdsRow(e=this.tableRowSelected,i){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.tableRowSelected=e,this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}i?.ctrlKey?(this.link="/#/estate/property-ads/LinkPropertyId/"+this.tableRowSelected.id,window.open(this.link,"_blank")):this.router.navigate(["/estate/property-ads/LinkPropertyId",this.tableRowSelected.id])}onActionButtonHistoryRow(e=this.tableRowSelected,i){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.tableRowSelected=e,this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}i?.ctrlKey?(this.link="/#/estate/property-history/LinkPropertyId/"+this.tableRowSelected.id,window.open(this.link,"_blank")):this.router.navigate(["/estate/property-history/LinkPropertyId",this.tableRowSelected.id])}onActionButtonDeleteRow(e=this.tableRowSelected){if(e==null||!e.id||e.id.length===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}if(this.tableRowSelected=e,this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(s=>{i=s["MESSAGE.Please_Confirm"],t=s["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(s=>{if(s){let h=this.constructor.name+"main";this.translate.get("MESSAGE.Deleting_information").subscribe(p=>{this.publicHelper.processService.processStart(h,p,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:p=>{p.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(h)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(h)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.property_list").subscribe(Rt=>{this.publicHelper.processService.processStart(this.constructor.name+"All",Rt,this.constructorInfoAreaId)}),this.contentService.setAccessDataType(Be.Editor);let t=JSON.parse(JSON.stringify(this.filteModelContent)),s=this.contentService.ServiceGetCount(t),h=JSON.parse(JSON.stringify(this.filteModelContent)),p=new H;p.propertyName="RecordStatus",p.value=qe.Available,h.filters.push(p);let D=this.contentService.ServiceGetCount(h),z=JSON.parse(JSON.stringify(this.filteModelContent)),he=new H;he.propertyName="RecordStatus",he.value=qe.Disable,z.filters.push(he);let je=this.contentService.ServiceGetCount(z),Ge=JSON.parse(JSON.stringify(this.filteModelContent)),mt=new H;mt.propertyName="RecordStatus",mt.value=qe.Pending,Ge.filters.push(mt);let Nt=this.contentService.ServiceGetCount(Ge);Ud([s,D,je,Nt]).subscribe(Rt=>{var Ut=Rt[0];Ut.isSuccess?this.translate.get("TITLE.All").subscribe(Fe=>{i.set(Fe,Ut.totalRowCount)}):this.cmsToastrService.typeErrorMessage(Ut.errorMessage);var Ut=Rt[1];Ut.isSuccess?this.translate.get("TITLE.Number_of_rows_in_the_recordstatus_available").subscribe(Fe=>{i.set(Fe,Ut.totalRowCount)}):this.cmsToastrService.typeErrorMessage(Ut.errorMessage),Ut=Rt[2],Ut.isSuccess?this.translate.get("TITLE.Number_of_rows_in_the_recordstatus_disable").subscribe(Fe=>{i.set(Fe,Ut.totalRowCount)}):this.cmsToastrService.typeErrorMessage(Ut.errorMessage),Ut=Rt[3],Ut.isSuccess?this.translate.get("TITLE.Number_of_rows_in_the_recordstatus_pending").subscribe(Fe=>{i.set(Fe,Ut.totalRowCount)}):this.cmsToastrService.typeErrorMessage(Ut.errorMessage),this.optionsStatist.childMethods.setStatistValue(i),this.publicHelper.processService.processStop(this.constructor.name+"All")})}onActionButtonActionSendSmsToCustomerOrder(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}this.tableRowSelected=e;let i=this.constructor.name+"main";this.translate.get("ACTION.ActionSendSmsToCustomerOrder").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructorInfoAreaId)}),this.contentService.setAccessDataType(Be.Editor),this.contentService.ServiceActionSendSmsToCustomerOrder(e.id).subscribe({next:t=>{t.isSuccess?this.cmsToastrService.typeSuccessMessage(t.errorMessage):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(i)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(i,!1)}})}onActionButtonViewOtherUserAdvertise(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.tableRowSelected=e,e.linkCmsUserId&&e.linkCmsUserId>0?this.requestLinkUserId=e.linkCmsUserId:this.requestLinkUserId=e.createdBy,e.linkCmsUserId&&e.linkCmsUserId>0){let i=new H;i.propertyName="linkCmsUserId",i.value=e.linkCmsUserId,i.clauseType=Ve.Or,this.filteModelContent.filters.push(i);let t=new H;t.propertyName="createdBy",t.value=e.linkCmsUserId,t.clauseType=Ve.Or,this.filteModelContent.filters.push(i)}if(e.createdBy&&e.createdBy>0){let i=new H;i.propertyName="linkCmsUserId",i.value=e.createdBy,i.clauseType=Ve.Or,this.filteModelContent.filters.push(i);let t=new H;t.propertyName="createdBy",t.value=e.createdBy,t.clauseType=Ve.Or,this.filteModelContent.filters.push(i)}this.DataGetAll()}onActionButtonInChecking(e=this.searchInCheckingChecked){this.searchInCheckingChecked=e,this.DataGetAll()}onActionButtonInResponsible(e=this.searchInResponsibleChecked){this.searchInResponsibleChecked=e,this.DataGetAll()}onActionButtonReload(){this.optionloadComponent=!0,this.DataGetAll()}onActionCopied(){this.cmsToastrService.typeSuccessCopedToClipboard()}onSubmitOptionsSearch(e){e&&e.length>0&&(this.filteModelContent.filters=[...this.filteModelContent.filters,...e]),this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/ticketing/departemen/"])}onActionButtonLinkTo(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(e.recordStatus!=qe.Available){this.cmsToastrService.typeWarningRecordStatusNoAvailable();return}this.onActionTableRowSelect(e);let i=this.constructor.name+"ServiceGetOneById";this.translate.get("MESSAGE.get_state_information").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructorInfoAreaId)}),this.contentService.setAccessDataType(Be.Editor),this.contentService.ServiceGetOneById(e.id).subscribe({next:t=>{if(t.isSuccess){var s="";this.publicHelper.isMobile?s="dialog-fullscreen":s="dialog-min",this.dialog.open(pn,{height:"90%",panelClass:s,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{title:t.item.title,urlViewContentQRCodeBase64:t.item.urlViewContentQRCodeBase64,urlViewContent:t.item.urlViewContent}}).afterClosed().subscribe(p=>{p&&p.dialogChangedDate&&this.DataGetAll()})}else this.cmsToastrService.typeErrorMessage(t.errorMessage);this.publicHelper.processService.processStop(i)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(i,!1)}})}onActionSelectorLocation(e){this.filteModelContent.linkLocationIds=e}onActionSelectorSelectUsage(e){if(!e||!e.id||e.id.length<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(i=>{this.cmsToastrService.typeWarningSelected(i)});return}this.filteModelContent.linkPropertyTypeUsageId=e.id}onActionSelectorSelectLanduse(e){if(this.dataModelPropertyDetailGroups=[],this.PropertyTypeSelected=null,this.filteModelContent.linkPropertyTypeLanduseId=null,!e||!e.id||e.id.length<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(i=>{this.cmsToastrService.typeWarningSelected(i)});return}this.DataGetPropertyDetailGroup(e.id),this.PropertyTypeSelected=e,this.filteModelContent.linkPropertyTypeLanduseId=e.id}onActionSelectorContarctType(e){if(this.contractTypeSelected=null,this.filteModelContent.linkContractTypeId=null,!e||!e.id||e.id.length<=0){this.translate.get("MESSAGE.Type_of_property_transaction_is_not_known").subscribe(i=>{this.cmsToastrService.typeWarningSelected(i)});return}this.contractTypeSelected=e,this.filteModelContent.linkContractTypeId=e.id}onActionSelectCurrency(e){if(!e||e.id<=0){this.dataModelCorCurrencySelector=null,this.filteModelContent.linkCoreCurrencyId=null;return}this.dataModelCorCurrencySelector=e,this.filteModelContent.linkCoreCurrencyId=e.id}onActionButtonResponsibleUserlistView(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}this.tableRowSelected=e;var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(kc,{height:"90%",panelClass:i,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{title:this.tableRowSelected.title,id:this.tableRowSelected.id}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate})}setStep(e){this.step=e}nextStep(){this.step++}prevStep(){this.step--}onSearchCaseCodeChange(e){e&&e.length>0&&(this.filteModelContent=new ao,this.filteModelContent.caseCode=e,this.dataModelPropertyDetailGroups=[])}RowStyleActiveData(){if(!(!this.dataModelResult.listItems||this.dataModelResult.listItems.length===0||!this.dataConfigSiteValuesModel||this.dataConfigSiteValuesModel.autoArchiveDataDay<=0)){var e=new Date;e.setDate(e.getDate()-this.dataConfigSiteValuesModel.autoArchiveDataDay);for(let i=0;i<this.dataModelResult.listItems.length;i++){let t=this.dataModelResult.listItems[i];this.dataModelResult.listItems[i].ActiveDataStyle="",this.dataModelResult.listItems[i].ActiveDataText="",t.updatedDate?new Date(t.updatedDate)<e&&(this.dataModelResult.listItems[i].ActiveDataStyle="#ff9c91",this.dataModelResult.listItems[i].ActiveDataText="\u0622\u0631\u0634\u06CC\u0648 \u062E\u0648\u062F\u06A9\u0627\u0631  \u0633\u06CC\u0633\u062A\u0645\u06CC"):new Date(t.createdDate)<e&&(this.dataModelResult.listItems[i].ActiveDataStyle="#ff9c01",this.dataModelResult.listItems[i].ActiveDataText="\u0622\u0631\u0634\u06CC\u0648 \u062E\u0648\u062F\u06A9\u0627\u0631  \u0633\u06CC\u0633\u062A\u0645\u06CC")}}}};Rl.\u0275fac=function(i){return new(i||Rl)(v(ui),v(oc),v(kt),v(jt),v(F),v(V),v(Mt),v(hi),v(K),v(Z),v(Ze),v(B),v(xe),v(L),v(ht))},Rl.\u0275cmp=R({type:Rl,selectors:[["app-estate-property-list"]],inputs:{optionloadComponent:"optionloadComponent",optionloadByRoute:"optionloadByRoute",optionsortType:"optionsortType",optionLinkCustomerOrderId:"optionLinkCustomerOrderId",optionLinkCustomerOrderIdHaveHistory:"optionLinkCustomerOrderIdHaveHistory",optionLinkBillboardId:"optionLinkBillboardId"},standalone:!1,features:[ne],decls:190,vars:89,consts:[["caseCode",""],["tableSort","matSort"],["paginator",""],["CreatedYaer",""],["Partition",""],["Area",""],["SalePriceMin",""],["RentPriceMin",""],["DepositPriceMin",""],["PeriodPriceMin",""],["SalePriceMax",""],["RentPriceMax",""],["DepositPriceMax",""],["PeriodPriceMax",""],["actionMenu","matMenu"],[3,"optionId",4,"ngIf"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionActionRowDisplayMenuAct","optionSelectRowItemTitle"],["cms-tree",""],[3,"optionChange"],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-maximize","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-minimize","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],[1,"col-4"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-clock-rotate-left","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"routerLink"],[1,"fa-solid","fa-share","font-18",2,"color","#ffffff"],[4,"ngIf"],["cms-action-area",""],[3,"optionsChange","options"],[1,"ntk-full-width"],["matInput","","name","filteModelContent.caseCode","type","text","step","1",3,"input","ngModelChange","ngModel","placeholder"],["matPrefix","","matPrefix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],["matPrefix",""],["matSuffix","",1,"info-field-icon"],[1,"info-field-text"],["cms-body",""],["matSort","","multiTemplateDataRows","",1,"ntk-cms-html-table",3,"matSortChange","dataSource"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","ngStyle","click","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["matColumnDef","action_menu"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkMainImageIdSrc"],["mat-sort-header","","class","form-label",4,"matHeaderCellDef"],["matColumnDef","Id"],["matColumnDef","LinkSiteId"],["class","col-form-label",4,"matCellDef"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","MainAdminRecordStatus"],["matColumnDef","IsSoldIt"],["matColumnDef","ViewConfigHiddenInList"],["matColumnDef","ViewCount"],["matColumnDef","AdsActive"],["matColumnDef","caseCode"],["class","col-form-label",3,"ngStyle",4,"matCellDef"],["matColumnDef","scoreEstateLocation"],["matColumnDef","scoreEstateBuild"],["matColumnDef","scoreEstatePrice"],["matColumnDef","CreatedDate"],["class","col-form-label","style","direction: ltr; justify-content: center; text-align: center;",4,"matCellDef"],["matColumnDef","UpdatedDate"],["matColumnDef","Action"],["class","form-label",4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],["matColumnDef","LinkTo"],["matColumnDef","QuickView"],["matColumnDef","expandedTitle"],["matColumnDef","expandedDetail"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],[3,"optionId"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#FFFFFF"],["type","button","target","_blank","id","openModalButton","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],[1,"fa-light","fa-message-lines","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-bullseye-pointer","font-18",2,"color","#ffffff"],["matPrefix","","matPrefix","","mat-icon-button","","aria-label","Clear",3,"click"],[3,"optionPlaceholder","optionChange",4,"ngIf"],[3,"optionChange","optionPlaceholder"],[3,"optionChange","optionTypeView","optionPlaceholder"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[3,"optionChange","optionSelectFirstItem","optionSelectForce","optionPlaceholder"],[1,"row",2,"direction","rtl"],[1,"col-md-6","col-sm-6","col-xs-9"],[1,"example-headers-align"],[3,"expanded","opened",4,"ngFor","ngForOf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","filteModelContent.createdYaer",1,"color-highlight"],["matInput","","name","filteModelContent.createdYaer","type","number","id","filteModelContent.createdYaer",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","filteModelContent.partition",1,"color-highlight"],["matInput","","name","filteModelContent.partition","type","number","id","filteModelContent.partition",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","filteModelContent.area",1,"color-highlight"],["matInput","","name","filteModelContent.area","type","text","currencyMask","","step","10","id","filteModelContent.area",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel","placeholder"],["for","filteModelContent.salePriceMin",1,"color-highlight"],["matInput","","name","filteModelContent.salePriceMin","type","text","currencyMask","","step","1000000","id","filteModelContent.salePriceMin",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel"],["for","filteModelContent.rentPriceMin",1,"color-highlight"],["matInput","","name","filteModelContent.rentPriceMin","type","text","currencyMask","","step","1000000","id","filteModelContent.rentPriceMin",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel"],["for","filteModelContent.depositPriceMin",1,"color-highlight"],["matInput","","name","filteModelContent.depositPriceMin","type","text","currencyMask","","step","1000000","id","filteModelContent.depositPriceMin",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel"],["for","filteModelContent.periodPriceMin",1,"color-highlight"],["matInput","","name","filteModelContent.periodPriceMin","type","text","currencyMask","","step","1000000","id","filteModelContent.periodPriceMin",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel"],["for","filteModelContent.salePriceMax",1,"color-highlight"],["matInput","","name","filteModelContent.salePriceMax","type","text","currencyMask","","step","1000000","id","filteModelContent.salePriceMax",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel"],["for","filteModelContent.rentPriceMax",1,"color-highlight"],["matInput","","name","filteModelContent.rentPriceMax","type","text","currencyMask","","step","1000000","id","filteModelContent.rentPriceMax",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel"],["for","filteModelContent.depositPriceMax",1,"color-highlight"],["matInput","","name","filteModelContent.depositPriceMax","type","text","currencyMask","","step","1000000","id","filteModelContent.depositPriceMax",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel"],["for","filteModelContent.periodPriceMax",1,"color-highlight"],["matInput","","name","filteModelContent.periodPriceMax","type","text","currencyMask","","step","1000000","id","filteModelContent.periodPriceMax",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel"],[3,"opened","expanded"],[2,"width","100px"],[4,"ngFor","ngForOf"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-teal",3,"click",4,"ngIf"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-blue",3,"click",4,"ngIf"],[3,"ngSwitch"],["class","ntk-full-width",4,"ngSwitchCase"],["class","ntk-full-width",4,"ngSwitchDefault"],["aria-hidden","true",3,"ngClass"],[3,"modelChange","model","optionForceUseDefaultValue","optionMultipleChoice","optionDefaultValue","optionRequired","optionLabel"],[3,"modelChange","model","optionRequired","optionLabel"],[3,"modelChange","model"],[3,"modelChange","model","optionRequired"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue",3,"click"],[3,"click","mouseenter","mouseleave"],[3,"click","mouseenter","mouseleave","ngStyle"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"click"],[1,"fa","fa-bars","font-18"],["mat-sort-header","",1,"form-label"],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","40","width","40",3,"ngSrc",4,"ngIf"],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"ngSrc"],[1,"col-form-label"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"col-form-label",3,"ngStyle"],[1,"col-form-label",2,"direction","ltr","justify-content","center","text-align","center"],[1,"form-label"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",1,"text-dark",3,"matMenuTriggerFor"],["type","button","mat-icon-button","",1,"text-dark",3,"click"],[2,"color","#ff671f"],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","80","width","80",3,"ngSrc",4,"ngIf"],[1,"navi-icon","pointer",3,"click","cdkCopyToClipboard"],[1,"flaticon2-copy"],["aria-hidden","","height","80","width","80",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"ngSrc"]],template:function(i,t){if(i&1){let s=I();S(0,Nb,1,1,"app-estate-billboard-header",15)(1,Hb,1,1,"app-estate-contract-type-header",15)(2,Wb,1,1,"app-estate-customer-order-header",15)(3,Gb,1,1,"app-estate-property-type-landuse-header",15)(4,Ub,1,1,"app-estate-property-type-usage-header",15)(5,jb,1,1,"app-estate-property-project-header",15)(6,qb,1,1,"app-estate-property-company-header",15),r(7,"app-cms-html-list",16),w("optionActionGuideNoticeDisplayChange",function(p){return u(s),T(t.viewGuideNotice,p)||(t.viewGuideNotice=p),f(p)}),E("optionOnActionButtonMemoRow",function(){return u(s),f(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return u(s),f(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return u(s),f(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return u(s),f(t.onActionButtonPrintRow())}),A(8,17),r(9,"app-estate-property-type-landuse-tree",18),E("optionChange",function(p){return u(s),f(t.onActionSelectorSelect(p))}),a(),P(),Qe(10,19)(11,20),A(12,21),S(13,Qb,2,0,"a",22),r(14,"a",23),E("click",function(){return u(s),f(t.viewGuideNotice=!t.viewGuideNotice)}),C(15,"i",24),a(),r(16,"a",23),E("click",function(){return u(s),f(t.onActionButtonReload())}),C(17,"i",25),a(),r(18,"a",26),E("click",function(){return u(s),f(t.onActionGridExpandRows(!0))}),C(19,"i",27),a(),r(20,"a",26),E("click",function(){return u(s),f(t.onActionGridExpandRows(!1))}),C(21,"i",28),a(),P(),A(22,29),r(23,"a",30),E("click",function(){return u(s),f(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),C(24,"mat-slide-toggle",31),c(25),_(26,"translate"),a(),r(27,"a",30),E("click",function(){return u(s),f(t.onActionButtonStatist())}),C(28,"mat-slide-toggle",31),c(29),_(30,"translate"),a(),r(31,"a",30),E("click",function(){return u(s),f(t.onActionButtonInChecking(!t.searchInCheckingChecked))}),C(32,"mat-slide-toggle",31),c(33),_(34,"translate"),a(),r(35,"a",30),E("click",function(){return u(s),f(t.onActionButtonInResponsible(!t.searchInResponsibleChecked))}),C(36,"mat-slide-toggle",31),c(37),_(38,"translate"),a(),P(),A(39,32),S(40,zb,7,3,"div",33)(41,Yb,7,3,"div",33),P(),A(42,34),r(43,"div",35)(44,"a",23),E("click",function(){return u(s),f(t.onActionButtonQuickViewRow(t.tableRowSelected))}),C(45,"i",36)(46,"br"),a(),r(47,"p",37),c(48),_(49,"translate"),a()(),S(50,Kb,7,3,"div",33)(51,Zb,7,3,"div",33)(52,Jb,7,3,"div",33)(53,Xb,7,3,"div",33),r(54,"div",35)(55,"a",23),E("click",function(){return u(s),f(t.onActionButtonQuickHistoryAddRow(t.tableRowSelected))}),C(56,"i",38)(57,"br"),a(),r(58,"p",37),c(59),_(60,"translate"),a()(),r(61,"div",35)(62,"a",23),E("click",function(p){return u(s),f(t.onActionButtonHistoryRow(t.tableRowSelected,p))}),C(63,"i",38)(64,"br"),a(),r(65,"p",37),c(66),_(67,"translate"),a()(),r(68,"div",35)(69,"a",23),E("click",function(){return u(s),f(t.onActionButtonViewOtherUserAdvertise(t.tableRowSelected))}),C(70,"i",39)(71,"br"),a(),r(72,"p",37),c(73),_(74,"translate"),a()(),r(75,"div",35)(76,"a",40),C(77,"i",39)(78,"br"),a(),r(79,"p",37),c(80),_(81,"translate"),a()(),r(82,"div",35)(83,"a",23),E("click",function(){return u(s),f(t.onActionButtonLinkTo(t.tableRowSelected))}),C(84,"i",41)(85,"br"),a(),r(86,"p",37),c(87),_(88,"translate"),a()(),r(89,"div",35)(90,"a",23),E("click",function(){return u(s),f(t.onActionButtonResponsibleUserlistView(t.tableRowSelected))}),C(91,"i",41)(92,"br"),a(),r(93,"p",37),c(94),_(95,"translate"),a()(),S(96,$b,4,5,"ng-container",42),P(),A(97,43),r(98,"app-cms-search-list",44),w("optionsChange",function(p){return u(s),T(t.optionsSearch,p)||(t.optionsSearch=p),f(p)}),C(99,"hr"),r(100,"p"),c(101),_(102,"translate"),a(),r(103,"mat-form-field",45)(104,"mat-label"),c(105),a(),r(106,"input",46,0),E("input",function(p){return u(s),f(t.onSearchCaseCodeChange(p.target.value))}),w("ngModelChange",function(p){return u(s),T(t.filteModelContent.caseCode,p)||(t.filteModelContent.caseCode=p),f(p)}),a(),S(108,e2,2,0,"mat-icon",47),r(109,"mat-icon",48),c(110," mode_edit"),a(),r(111,"mat-hint")(112,"mat-icon",49),c(113),_(114,"translate"),a(),r(115,"strong",50),c(116),a()()(),S(117,b2,43,36,"div",42),a(),r(118,"app-cms-statist-list",44),w("optionsChange",function(p){return u(s),T(t.optionsStatist,p)||(t.optionsStatist=p),f(p)}),a(),P(),A(119,51),r(120,"mat-table",52,1),E("matSortChange",function(){u(s);let p=k(121);return f(t.onTableSortData(p))}),S(122,T2,1,0,"mat-header-row",53)(123,w2,1,6,"mat-row",54)(124,x2,1,6,"mat-row",54)(125,A2,1,9,"mat-row",55),A(126,56),S(127,P2,3,3,"mat-header-cell",57)(128,k2,3,0,"mat-cell",58),P(),A(129,59),S(130,D2,3,3,"mat-header-cell",60)(131,L2,2,1,"mat-cell",58),P(),A(132,61),S(133,V2,2,1,"mat-header-cell",60)(134,O2,2,1,"mat-cell",58),P(),A(135,62),S(136,F2,2,1,"mat-header-cell",60)(137,B2,4,5,"mat-cell",63),P(),A(138,64),S(139,N2,2,1,"mat-header-cell",60)(140,W2,5,7,"mat-cell",65),P(),A(141,66),S(142,G2,2,1,"mat-header-cell",60)(143,U2,3,3,"mat-cell",58),P(),A(144,67),S(145,j2,2,1,"mat-header-cell",60)(146,q2,3,3,"mat-cell",58),P(),A(147,68),S(148,Q2,2,1,"mat-header-cell",60)(149,z2,3,3,"mat-cell",58),P(),A(150,69),S(151,Y2,2,1,"mat-header-cell",60)(152,K2,2,1,"mat-cell",63),P(),A(153,70),S(154,Z2,3,3,"mat-header-cell",60)(155,J2,3,3,"mat-cell",58),P(),A(156,71),S(157,X2,2,1,"mat-header-cell",60)(158,$2,2,5,"mat-cell",72),P(),A(159,73),S(160,eT,2,1,"mat-header-cell",60)(161,tT,2,2,"mat-cell",65),P(),A(162,74),S(163,iT,2,1,"mat-header-cell",60)(164,nT,2,2,"mat-cell",65),P(),A(165,75),S(166,oT,2,1,"mat-header-cell",60)(167,rT,2,2,"mat-cell",65),P(),A(168,76),S(169,aT,2,1,"mat-header-cell",60)(170,lT,3,3,"mat-cell",77),P(),A(171,78),S(172,sT,2,1,"mat-header-cell",60)(173,dT,3,3,"mat-cell",77),P(),A(174,79),S(175,cT,3,3,"mat-header-cell",80)(176,pT,6,1,"mat-cell",81),P(),A(177,82),S(178,mT,3,3,"mat-header-cell",60)(179,uT,4,0,"mat-cell",58),P(),A(180,83),S(181,fT,3,3,"mat-header-cell",60)(182,_T,4,0,"mat-cell",58),P(),A(183,84),S(184,gT,2,1,"mat-cell",58),P(),A(185,85),S(186,ST,50,23,"mat-cell",58),P(),a(),P(),A(187,86),r(188,"mat-paginator",87,2),E("page",function(p){return u(s),f(t.onTablePageingData(p))}),a(),P(),a()}i&2&&(d("ngIf",(t.requestLinkBillboardId==null?null:t.requestLinkBillboardId.length)>0),o(),d("ngIf",(t.requestLinkContractTypeId==null?null:t.requestLinkContractTypeId.length)>0),o(),d("ngIf",(t.requestLinkCustomerOrderId==null?null:t.requestLinkCustomerOrderId.length)>0),o(),d("ngIf",(t.requestLinkPropertyTypeLanduseId==null?null:t.requestLinkPropertyTypeLanduseId.length)>0),o(),d("ngIf",(t.requestLinkPropertyTypeUsageId==null?null:t.requestLinkPropertyTypeUsageId.length)>0),o(),d("ngIf",(t.requestLinkProjectId==null?null:t.requestLinkProjectId.length)>0),o(),d("ngIf",(t.requestLinkCompanyId==null?null:t.requestLinkCompanyId.length)>0),o(),d("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey","estate.property.list"),b("optionActionGuideNoticeDisplay",t.viewGuideNotice),d("optionTreeDisplay",(t.requestLinkPropertyTypeLanduseId==null?null:t.requestLinkPropertyTypeLanduseId.length)===0)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelectDoubleClick)("optionActionRowDisplayMenuAct",t.tableRowSelectActionMenuClick)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.title),o(6),d("ngIf",(t.requestLinkPropertyTypeLanduseId==null?null:t.requestLinkPropertyTypeLanduseId.length)>0),o(11),d("checked",t.optionsSearch.data.show),o(),y("",g(26,60,"ACTION.SEARCH")," "),o(3),d("checked",t.optionsStatist.data.show),o(),y("",g(30,62,"ACTION.STATIST")," "),o(3),d("checked",t.searchInCheckingChecked),o(),y(" ",g(34,64,"ACTION.INCHECKING")," "),o(3),d("checked",t.searchInResponsibleChecked),o(),y(" ",g(38,66,"ACTION.InResponsible")," "),o(3),d("ngIf",(t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessAddRow)&&t.optionloadByRoute),o(),d("ngIf",(t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessAddRow)&&t.optionloadByRoute),o(7),M(g(49,68,"ACTION.QUICK_VIEW")),o(2),d("ngIf",(t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow)&&((t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0||(t.requestLinkPropertyTypeLanduseId==null?null:t.requestLinkPropertyTypeLanduseId.length)>0)),o(),d("ngIf",(t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow)&&t.optionloadByRoute&&((t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0||(t.requestLinkPropertyTypeLanduseId==null?null:t.requestLinkPropertyTypeLanduseId.length)>0)),o(),d("ngIf",t.tokenHelper.isAdminSite&&t.optionloadByRoute&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0),o(),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),o(6),M(g(60,70,"ACTION.HISTORY_ADD")),o(7),M(g(67,72,"ACTION.HISTORY_LIST")),o(7),M(g(74,74,"ACTION.VIEW_OTHER_USER_ADVERTISE")),o(3),d("routerLink",x("/core/user/edit/"+(t.tableRowSelected==null?null:t.tableRowSelected.createdBy))),o(4),M(g(81,76,"ACTION.VIEW_USER")),o(7),M(g(88,78,"TITLE.LINKTO")),o(7),M(g(95,80,"TITLE.ResponsibleUsers")),o(2),d("ngIf",t.tableRowSelected&&(t.tokenInfo==null||t.tokenInfo.access==null?null:t.tokenInfo.access.siteId)>0&&(t.tableRowSelected==null?null:t.tableRowSelected.linkSiteId)!==t.tokenInfo.access.siteId),o(2),b("options",t.optionsSearch),o(3),M(g(102,82,"MESSAGE.Content_of_your_choice_to_display")),o(4),M(t.fieldsInfo.caseCode==null?null:t.fieldsInfo.caseCode.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.caseCode==null?null:t.fieldsInfo.caseCode.fieldTitle)),b("ngModel",t.filteModelContent.caseCode),o(2),d("ngIf",t.filteModelContent.caseCode),o(5),M(g(114,84,"TITLE.info")),o(3),M(t.fieldsInfo.caseCode==null?null:t.fieldsInfo.caseCode.fieldDescription),o(),d("ngIf",!t.filteModelContent.caseCode||t.filteModelContent.caseCode.length===0),o(),b("options",t.optionsStatist),o(2),d("dataSource",t.tableSource),o(2),d("matHeaderRowDef",t.tabledisplayedColumns),o(),d("matRowDefColumns",le(86,Vb)),o(),d("matRowDefColumns",t.tabledisplayedColumns),o(),d("matRowDefColumns",le(87,Ob)),o(63),d("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",le(88,Fb)))},dependencies:[se,Ne,N,tt,fo,_o,go,sm,Y,Ot,q,ce,Je,wo,Eo,Io,Mo,To,bo,mi,pi,Xd,zi,et,Ee,Q,At,Pt,vt,gt,Et,It,it,ot,st,rt,nt,dt,at,lt,ct,pt,ci,Tt,wt,Fi,Qt,$i,xt,$n,eo,to,io,no,oo,Oi,yo,im,_i,yl,Sl,Kr,Dc,nn,Il,on,bl,wl,fr,He,O,Ai,tn,Ie,Jn,qt,Bn,rr],encapsulation:2});var vi=Rl;var vT=["tagInput"];function ET(n,l){if(n&1){let e=I();r(0,"mat-chip",9),E("removed",function(){let t=u(e).$implicit,s=m();return f(s.remove(t))}),c(1),r(2,"button",10)(3,"mat-icon"),c(4,"cancel"),a()()()}if(n&2){let e=l.$implicit;o(),y(" ",e.display," ")}}function IT(n,l){if(n&1&&(r(0,"mat-option",11),c(1),a()),n&2){let e=l.$implicit;d("value",e),o(),y(" ",e.display," ")}}var Ll=class Ll{constructor(l,e,i){this.service=l;this.cmsToastrService=e;this.translate=i;this.constructorInfoAreaId=this.constructor.name;this.optionDisabled=!1;this.optionPlaceholder="+ Tag";this.optionLabel="";this.optionChange=new Xe;this.tagDataModel=[];this.tagLastDataModel=[];this.selectForceStatus=!0;this.separatorKeysCodes=[13];this.tagCtrl=new Ct("");this.addOnBlur=!0;this.filteredOptions=this.tagCtrl.valueChanges.pipe(Kt(null),Yt(400),Zt(t=>this.filter(t||"")))}set optionSelectForce(l){this.onActionSelectForce(l)}ngOnInit(){(!this.optionLabel||this.optionLabel.length==0&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder)}filter(l){let e=new pe;e.rowPerPage=20,e.accessLoad=!0;let i=new H;return l&&l.length>0&&(i.propertyName="Title",i.value=l,i.searchType=Oe.Contains,i.clauseType=Ve.Or,e.filters.push(i)),l&&typeof l=="string"&&l.length>10&&(i=new H,i.propertyName="Id",i.value=l,i.searchType=Oe.Equal,i.clauseType=Ve.Or,e.filters.push(i)),this.service.ServiceGetAll(e).pipe(Lt(t=>(this.tagLastDataModel=t.listItems.map(s=>({display:s.titleML,value:s.id})),this.tagLastDataModel)))}checkIndex(l){let e=0,i=-1;return this.tagDataModel.forEach(t=>{t.value==l&&(i=e),e++}),i}add(l){let e;l.value&&this.tagLastDataModel.forEach(i=>{(i.display==l.value||i.value+""==l.value)&&(e=i)}),e&&this.checkIndex(e.value)<0&&(this.tagDataModel.push(e),this.onActionChange()),l.chipInput.clear(),this.tagCtrl.setValue(null)}remove(l){let e=this.checkIndex(l.value);e>=0&&(this.tagDataModel.splice(e,1),this.onActionChange())}selected(l){let e=l.option.value;this.checkIndex(e.value)<0&&this.tagDataModel.push(e),this.tagInput.nativeElement.value="",this.tagCtrl.setValue(null),this.onActionChange()}onActionChange(){let l=[];this.tagDataModel.forEach(e=>{l.findIndex(i=>i==e.value)<0&&l.push(e.value)}),this.selectForceStatus=!1,this.optionChange.emit(l)}onActionSelectForce(l){if(!this.selectForceStatus||!l||l.length===0)return;let e=new pe;l.forEach(i=>{if(i.length>0){let t=new H;t.propertyName="Id",t.value=i,t.clauseType=Ve.Or,e.filters.push(t)}}),this.service.ServiceGetAll(e).subscribe({next:i=>{i.isSuccess?i.listItems.forEach(t=>{this.tagDataModel.findIndex(s=>s.value==t.id)<0&&this.tagDataModel.push({value:t.id,display:t.titleML})}):this.cmsToastrService.typeErrorGetAll(i.errorMessage)},error:i=>{this.cmsToastrService.typeErrorGetAll(i)}})}};Ll.\u0275fac=function(e){return new(e||Ll)(v(yi),v(V),v(L))},Ll.\u0275cmp=R({type:Ll,selectors:[["app-estate-property-type-landuse-autocomplete"]],viewQuery:function(e,i){if(e&1&&ee(vT,5),e&2){let t;te(t=ie())&&(i.tagInput=t.first)}},inputs:{optionDisabled:"optionDisabled",optionPlaceholder:"optionPlaceholder",optionLabel:"optionLabel",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange"},standalone:!1,decls:12,vars:12,consts:[["chipList",""],["tagInput",""],["auto","matAutocomplete"],["appearance","fill",2,"width","100%"],["aria-label","tag selection",3,"disabled"],[3,"removed",4,"ngFor","ngForOf"],[3,"matChipInputTokenEnd","placeholder","matChipInputAddOnBlur","formControl","matAutocomplete","matChipInputFor","matChipInputSeparatorKeyCodes"],[3,"optionSelected"],[3,"value",4,"ngFor","ngForOf"],[3,"removed"],["type","button","matChipRemove",""],[3,"value"]],template:function(e,i){if(e&1){let t=I();r(0,"mat-form-field",3)(1,"mat-label"),c(2),a(),r(3,"mat-chip-grid",4,0),S(5,ET,5,1,"mat-chip",5),r(6,"input",6,1),E("matChipInputTokenEnd",function(h){return u(t),f(i.add(h))}),a()(),r(8,"mat-autocomplete",7,2),E("optionSelected",function(h){return u(t),f(i.selected(h))}),S(10,IT,2,2,"mat-option",8),_(11,"async"),a()()}if(e&2){let t=k(4),s=k(9);o(2),M(i.optionLabel),o(),d("disabled",i.optionDisabled),o(2),d("ngForOf",i.tagDataModel),o(),d("placeholder"," + "+i.optionPlaceholder)("matChipInputAddOnBlur",i.addOnBlur)("formControl",i.tagCtrl)("matAutocomplete",s)("matChipInputFor",t)("matChipInputSeparatorKeyCodes",i.separatorKeysCodes),o(4),d("ngForOf",g(11,10,i.filteredOptions))}},dependencies:[Ne,Y,q,Wt,ti,ei,ii,bi,Ti,wi,Mi,mi,pi,Ee,He],encapsulation:2});var Vl=Ll;var MT=["tagInput"];function bT(n,l){if(n&1){let e=I();r(0,"mat-chip",9),E("removed",function(){let t=u(e).$implicit,s=m();return f(s.remove(t))}),c(1),r(2,"button",10)(3,"mat-icon"),c(4,"cancel"),a()()()}if(n&2){let e=l.$implicit;o(),y(" ",e.display," ")}}function TT(n,l){if(n&1&&(r(0,"mat-option",11),c(1),a()),n&2){let e=l.$implicit;d("value",e),o(),y(" ",e.display," ")}}var Ol=class Ol{constructor(l,e,i){this.service=l;this.cmsToastrService=e;this.translate=i;this.constructorInfoAreaId=this.constructor.name;this.optionDisabled=!1;this.optionPlaceholder="+ Tag";this.optionLabel="";this.optionChange=new Xe;this.tagDataModel=[];this.tagLastDataModel=[];this.selectForceStatus=!0;this.separatorKeysCodes=[13];this.tagCtrl=new Ct("");this.addOnBlur=!0;this.filteredOptions=this.tagCtrl.valueChanges.pipe(Kt(null),Yt(400),Zt(t=>this.filter(t||"")))}set optionSelectForce(l){this.onActionSelectForce(l)}ngOnInit(){(!this.optionLabel||this.optionLabel.length==0&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder)}filter(l){let e=new pe;e.rowPerPage=20,e.accessLoad=!0;let i=new H;return l&&l.length>0&&(i.propertyName="Title",i.value=l,i.searchType=Oe.Contains,i.clauseType=Ve.Or,e.filters.push(i)),l&&typeof l=="string"&&l.length>10&&(i=new H,i.propertyName="Id",i.value=l,i.searchType=Oe.Equal,i.clauseType=Ve.Or,e.filters.push(i)),this.service.ServiceGetAll(e).pipe(Lt(t=>(this.tagLastDataModel=t.listItems.map(s=>({display:s.titleML,value:s.id})),this.tagLastDataModel)))}checkIndex(l){var e=0,i=-1;return this.tagDataModel.forEach(t=>{t.value==l&&(i=e),e++}),i}add(l){var e;l.value&&this.tagLastDataModel.forEach(i=>{(i.display==l.value||i.value+""==l.value)&&(e=i)}),e&&this.checkIndex(e.value)<0&&(this.tagDataModel.push(e),this.onActionChange()),l.chipInput.clear(),this.tagCtrl.setValue(null)}remove(l){let e=this.checkIndex(l.value);e>=0&&(this.tagDataModel.splice(e,1),this.onActionChange())}selected(l){let e=l.option.value;this.checkIndex(e.value)<0&&this.tagDataModel.push(e),this.tagInput.nativeElement.value="",this.tagCtrl.setValue(null),this.onActionChange()}onActionChange(){let l=[];this.tagDataModel.forEach(e=>{l.findIndex(i=>i==e.value)<0&&l.push(e.value)}),this.selectForceStatus=!1,this.optionChange.emit(l)}onActionSelectForce(l){if(!this.selectForceStatus||!l||l.length===0)return;let e=new pe;l.forEach(i=>{if(i.length>0){let t=new H;t.propertyName="Id",t.value=i,t.clauseType=Ve.Or,e.filters.push(t)}}),this.service.ServiceGetAll(e).subscribe({next:i=>{i.isSuccess?i.listItems.forEach(t=>{this.tagDataModel.findIndex(s=>s.value==t.id)<0&&this.tagDataModel.push({value:t.id,display:t.titleML})}):this.cmsToastrService.typeErrorGetAll(i.errorMessage)},error:i=>{this.cmsToastrService.typeErrorGetAll(i)}})}};Ol.\u0275fac=function(e){return new(e||Ol)(v(gn),v(V),v(L))},Ol.\u0275cmp=R({type:Ol,selectors:[["app-estate-property-type-usage-autocomplete"]],viewQuery:function(e,i){if(e&1&&ee(MT,5),e&2){let t;te(t=ie())&&(i.tagInput=t.first)}},inputs:{optionDisabled:"optionDisabled",optionPlaceholder:"optionPlaceholder",optionLabel:"optionLabel",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange"},standalone:!1,decls:12,vars:12,consts:[["chipList",""],["tagInput",""],["auto","matAutocomplete"],["appearance","fill",2,"width","100%"],["aria-label","tag selection",3,"disabled"],[3,"removed",4,"ngFor","ngForOf"],[3,"matChipInputTokenEnd","placeholder","matChipInputAddOnBlur","formControl","matAutocomplete","matChipInputFor","matChipInputSeparatorKeyCodes"],[3,"optionSelected"],[3,"value",4,"ngFor","ngForOf"],[3,"removed"],["type","button","matChipRemove",""],[3,"value"]],template:function(e,i){if(e&1){let t=I();r(0,"mat-form-field",3)(1,"mat-label"),c(2),a(),r(3,"mat-chip-grid",4,0),S(5,bT,5,1,"mat-chip",5),r(6,"input",6,1),E("matChipInputTokenEnd",function(h){return u(t),f(i.add(h))}),a()(),r(8,"mat-autocomplete",7,2),E("optionSelected",function(h){return u(t),f(i.selected(h))}),S(10,TT,2,2,"mat-option",8),_(11,"async"),a()()}if(e&2){let t=k(4),s=k(9);o(2),M(i.optionLabel),o(),d("disabled",i.optionDisabled),o(2),d("ngForOf",i.tagDataModel),o(),d("placeholder"," + "+i.optionPlaceholder)("matChipInputAddOnBlur",i.addOnBlur)("formControl",i.tagCtrl)("matAutocomplete",s)("matChipInputFor",t)("matChipInputSeparatorKeyCodes",i.separatorKeysCodes),o(4),d("ngForOf",g(11,10,i.filteredOptions))}},dependencies:[Ne,Y,q,Wt,ti,ei,ii,bi,Ti,wi,Mi,mi,pi,Ee,He],encapsulation:2});var Fl=Ol;var wT=["tagInput"];function xT(n,l){if(n&1){let e=I();r(0,"mat-chip",9),E("removed",function(){let t=u(e).$implicit,s=m();return f(s.remove(t))}),c(1),r(2,"button",10)(3,"mat-icon"),c(4,"cancel"),a()()()}if(n&2){let e=l.$implicit;o(),y(" ",e.display," ")}}function AT(n,l){if(n&1&&(r(0,"mat-option",11),c(1),a()),n&2){let e=l.$implicit;d("value",e),o(),y(" ",e.display," ")}}var $r=class $r{constructor(l,e,i){this.service=l;this.cmsToastrService=e;this.translate=i;this.id=++$r.nextId;this.constructorInfoAreaId=this.constructor.name;this.optionDisabled=!1;this.optionPlaceholder="+ Tag";this.optionLabel="";this.optionRequired=!1;this.optionChange=new Xe;this.tagDataModel=[];this.tagLastDataModel=[];this.selectForceStatus=!0;this.separatorKeysCodes=[13];this.tagCtrl=new Ct("");this.addOnBlur=!0;this.filteredOptions=this.tagCtrl.valueChanges.pipe(Kt(null),Yt(400),Zt(t=>this.filter(t||"")))}set optionSelectForce(l){this.onActionSelectForce(l)}ngOnInit(){(!this.optionLabel||this.optionLabel.length==0&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder)}filter(l){let e=new ao;e.rowPerPage=20,e.accessLoad=!0;let i=new H;return i.propertyName="Title",i.value=l,i.searchType=Oe.Contains,i.clauseType=Ve.Or,e.filters.push(i),l&&typeof l=="string"&&(i=new H,i.propertyName="Id",i.value=l,i.searchType=Oe.Equal,i.clauseType=Ve.Or,e.filters.push(i)),l&&typeof+l=="number"&&+l>0&&(i=new H,i.propertyName="caseCode",i.value=l,i.searchType=Oe.Contains,i.clauseType=Ve.Or,e.filters.push(i)),this.service.ServiceGetAll(e).pipe(Lt(t=>(this.tagLastDataModel=t.listItems.map(s=>({display:s.title,value:s.id})),this.tagLastDataModel)))}checkIndex(l){var e=0,i=-1;return this.tagDataModel.forEach(t=>{t.value==l&&(i=e),e++}),i}add(l){var e;l.value&&this.tagLastDataModel.forEach(i=>{(i.display==l.value||i.value+""==l.value)&&(e=i)}),e&&this.checkIndex(e.value)<0&&(this.tagDataModel.push(e),this.onActionChange()),l.chipInput.clear(),this.tagCtrl.setValue(null)}remove(l){let e=this.checkIndex(l.value);e>=0&&(this.tagDataModel.splice(e,1),this.onActionChange())}selected(l){let e=l.option.value;this.checkIndex(e.value)<0&&this.tagDataModel.push(e),this.tagInput.nativeElement.value="",this.tagCtrl.setValue(null),this.onActionChange()}onActionChange(){let l=[];this.tagDataModel.forEach(e=>{l.findIndex(i=>i==e.value)<0&&l.push(e.value)}),this.selectForceStatus=!1,this.optionChange.emit(l)}onActionSelectForce(l){if(!this.selectForceStatus||!l||l.length===0)return;let e=new ao;l.forEach(i=>{if(i.length>0){let t=new H;t.propertyName="Id",t.value=i,t.clauseType=Ve.Or,e.filters.push(t)}}),this.service.ServiceGetAll(e).subscribe({next:i=>{i.isSuccess?i.listItems.forEach(t=>{this.tagDataModel.findIndex(s=>s.value==t.id)<0&&this.tagDataModel.push({value:t.id,display:t.title})}):this.cmsToastrService.typeErrorGetAll(i.errorMessage)},error:i=>{this.cmsToastrService.typeErrorGetAll(i)}})}};$r.nextId=0,$r.\u0275fac=function(e){return new(e||$r)(v(ui),v(V),v(L))},$r.\u0275cmp=R({type:$r,selectors:[["app-estate-property-autocomplete"]],viewQuery:function(e,i){if(e&1&&ee(wT,5),e&2){let t;te(t=ie())&&(i.tagInput=t.first)}},inputs:{optionDisabled:"optionDisabled",optionPlaceholder:"optionPlaceholder",optionLabel:"optionLabel",optionRequired:"optionRequired",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange"},standalone:!1,decls:12,vars:12,consts:[["chipList",""],["tagInput",""],["auto","matAutocomplete"],["appearance","fill",2,"width","100%"],["aria-label","tag selection",3,"disabled"],[3,"removed",4,"ngFor","ngForOf"],[3,"matChipInputTokenEnd","placeholder","matChipInputAddOnBlur","formControl","matAutocomplete","matChipInputFor","matChipInputSeparatorKeyCodes"],[3,"optionSelected"],[3,"value",4,"ngFor","ngForOf"],[3,"removed"],["type","button","matChipRemove",""],[3,"value"]],template:function(e,i){if(e&1){let t=I();r(0,"mat-form-field",3)(1,"mat-label"),c(2),a(),r(3,"mat-chip-grid",4,0),S(5,xT,5,1,"mat-chip",5),r(6,"input",6,1),E("matChipInputTokenEnd",function(h){return u(t),f(i.add(h))}),a()(),r(8,"mat-autocomplete",7,2),E("optionSelected",function(h){return u(t),f(i.selected(h))}),S(10,AT,2,2,"mat-option",8),_(11,"async"),a()()}if(e&2){let t=k(4),s=k(9);o(2),M(i.optionLabel),o(),d("disabled",i.optionDisabled),o(2),d("ngForOf",i.tagDataModel),o(),d("placeholder"," + "+i.optionPlaceholder)("matChipInputAddOnBlur",i.addOnBlur)("formControl",i.tagCtrl)("matAutocomplete",s)("matChipInputFor",t)("matChipInputSeparatorKeyCodes",i.separatorKeysCodes),o(4),d("ngForOf",g(11,10,i.filteredOptions))}},dependencies:[Ne,Y,q,Wt,ti,ei,ii,bi,Ti,wi,Mi,mi,pi,Ee,He],encapsulation:2});var ea=$r;var PT=["tagInput"];function kT(n,l){if(n&1){let e=I();r(0,"mat-chip",9),E("removed",function(){let t=u(e).$implicit,s=m();return f(s.remove(t))}),c(1),r(2,"button",10)(3,"mat-icon"),c(4,"cancel"),a()()()}if(n&2){let e=l.$implicit;o(),y(" ",e.display," ")}}function DT(n,l){if(n&1&&(r(0,"mat-option",11),c(1),a()),n&2){let e=l.$implicit;d("value",e),o(),y(" ",e.display," ")}}var Bl=class Bl{constructor(l,e,i){this.service=l;this.cmsToastrService=e;this.translate=i;this.constructorInfoAreaId=this.constructor.name;this.optionDisabled=!1;this.optionPlaceholder="+ Tag";this.optionLabel="";this.optionChange=new Xe;this.tagDataModel=[];this.tagLastDataModel=[];this.selectForceStatus=!0;this.separatorKeysCodes=[13];this.tagCtrl=new Ct("");this.addOnBlur=!0;this.filteredOptions=this.tagCtrl.valueChanges.pipe(Kt(null),Yt(400),Zt(t=>this.filter(t||"")))}set optionSelectForce(l){this.onActionSelectForce(l)}ngOnInit(){(!this.optionLabel||this.optionLabel.length==0&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder)}filter(l){let e=new pe;e.rowPerPage=20,e.accessLoad=!0;let i=new H;return i.propertyName="Title",i.value=l,i.searchType=Oe.Contains,i.clauseType=Ve.Or,e.filters.push(i),l&&typeof+l=="number"&&+l>0&&(i=new H,i.propertyName="Id",i.value=l,i.searchType=Oe.Equal,i.clauseType=Ve.Or,e.filters.push(i)),this.service.ServiceGetAll(e).pipe(Lt(t=>(this.tagLastDataModel=t.listItems.map(s=>({display:s.titleML,value:s.id})),this.tagLastDataModel)))}checkIndex(l){var e=0,i=-1;return this.tagDataModel.forEach(t=>{t.value==l&&(i=e),e++}),i}add(l){var e;l.value&&this.tagLastDataModel.forEach(i=>{(i.display==l.value||i.value+""==l.value)&&(e=i)}),e&&this.checkIndex(e.value)<0&&(this.tagDataModel.push(e),this.onActionChange()),l.chipInput.clear(),this.tagCtrl.setValue(null)}remove(l){let e=this.checkIndex(l.value);e>=0&&(this.tagDataModel.splice(e,1),this.onActionChange())}selected(l){let e=l.option.value;this.checkIndex(e.value)<0&&this.tagDataModel.push(e),this.tagInput.nativeElement.value="",this.tagCtrl.setValue(null),this.onActionChange()}onActionChange(){let l=[];this.tagDataModel.forEach(e=>{l.findIndex(i=>i==e.value)<0&&l.push(e.value)}),this.selectForceStatus=!1,this.optionChange.emit(l)}onActionSelectForce(l){if(!this.selectForceStatus||!l||l.length===0)return;let e=new pe;l.forEach(i=>{if(i.length>0){let t=new H;t.propertyName="Id",t.value=i,t.clauseType=Ve.Or,e.filters.push(t)}}),this.service.ServiceGetAll(e).subscribe({next:i=>{i.isSuccess?i.listItems.forEach(t=>{this.tagDataModel.findIndex(s=>s.value==t.id)<0&&this.tagDataModel.push({value:t.id,display:t.titleML})}):this.cmsToastrService.typeErrorGetAll(i.errorMessage)},error:i=>{this.cmsToastrService.typeErrorGetAll(i)}})}};Bl.\u0275fac=function(e){return new(e||Bl)(v(xi),v(V),v(L))},Bl.\u0275cmp=R({type:Bl,selectors:[["app-estate-contract-type-autocomplete"]],viewQuery:function(e,i){if(e&1&&ee(PT,5),e&2){let t;te(t=ie())&&(i.tagInput=t.first)}},inputs:{optionDisabled:"optionDisabled",optionPlaceholder:"optionPlaceholder",optionLabel:"optionLabel",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange"},standalone:!1,decls:12,vars:12,consts:[["chipList",""],["tagInput",""],["auto","matAutocomplete"],["appearance","fill",2,"width","100%"],["aria-label","tag selection",3,"disabled"],[3,"removed",4,"ngFor","ngForOf"],[3,"matChipInputTokenEnd","placeholder","matChipInputAddOnBlur","formControl","matAutocomplete","matChipInputFor","matChipInputSeparatorKeyCodes"],[3,"optionSelected"],[3,"value",4,"ngFor","ngForOf"],[3,"removed"],["type","button","matChipRemove",""],[3,"value"]],template:function(e,i){if(e&1){let t=I();r(0,"mat-form-field",3)(1,"mat-label"),c(2),a(),r(3,"mat-chip-grid",4,0),S(5,kT,5,1,"mat-chip",5),r(6,"input",6,1),E("matChipInputTokenEnd",function(h){return u(t),f(i.add(h))}),a()(),r(8,"mat-autocomplete",7,2),E("optionSelected",function(h){return u(t),f(i.selected(h))}),S(10,DT,2,2,"mat-option",8),_(11,"async"),a()()}if(e&2){let t=k(4),s=k(9);o(2),M(i.optionLabel),o(),d("disabled",i.optionDisabled),o(2),d("ngForOf",i.tagDataModel),o(),d("placeholder"," + "+i.optionPlaceholder)("matChipInputAddOnBlur",i.addOnBlur)("formControl",i.tagCtrl)("matAutocomplete",s)("matChipInputFor",t)("matChipInputSeparatorKeyCodes",i.separatorKeysCodes),o(4),d("ngForOf",g(11,10,i.filteredOptions))}},dependencies:[Ne,Y,q,Wt,ti,ei,ii,bi,Ti,wi,Mi,mi,pi,Ee,He],encapsulation:2});var Nl=Bl;var Hl=class Hl{constructor(l){this.sanitizer=l}transform(l,e=!1){let i="";switch(l){case 0:i="fa fa-sort-amount-desc";break;case 1:i="fa fa-sort-amount-asc";break;case 2:i="fa fa-random";break;default:i="fa fa-sort-amount-desc"}return i}};Hl.\u0275fac=function(e){return new(e||Hl)(v(nm,16))},Hl.\u0275pipe=Jo({name:"sortTypeIconClass",type:Hl,pure:!0,standalone:!1});var ta=Hl;var RT=["vform"];function LT(n,l){n&1&&C(0,"i",48)}function VT(n,l){n&1&&C(0,"i",49)}function OT(n,l){n&1&&(r(0,"mat-error"),c(1," Title is "),r(2,"strong"),c(3),_(4,"translate"),a()()),n&2&&(o(3),M(g(4,1,"MESSAGE.required")))}function FT(n,l){n&1&&(r(0,"mat-error"),c(1," Description is "),r(2,"strong"),c(3),_(4,"translate"),a()()),n&2&&(o(3),M(g(4,1,"MESSAGE.required")))}function BT(n,l){n&1&&(r(0,"mat-error"),c(1," DescriptionHidden is "),r(2,"strong"),c(3),_(4,"translate"),a()()),n&2&&(o(3),M(g(4,1,"MESSAGE.required")))}function NT(n,l){if(n&1){let e=I();r(0,"div",14)(1,"label",50),c(2),_(3,"translate"),a(),r(4,"textarea",51,5),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.descriptionHidden,t)||(s.dataModel.descriptionHidden=t),f(t)}),a(),r(6,"em"),c(7),a(),S(8,BT,5,3,"mat-error",19),a()}if(n&2){let e=k(5),i=m();o(2),M(g(3,6,"TITLE.Description_Hidden")),o(2),d("placeholder",x(i.fieldsInfo.descriptionHidden==null?null:i.fieldsInfo.descriptionHidden.fieldTitle)),b("ngModel",i.dataModel.descriptionHidden),o(3),y("",e.value.length," / 500"),o(),d("ngIf",e.errors==null?null:e.errors.required)}}function HT(n,l){if(n&1){let e=I();r(0,"div",14)(1,"label",52),c(2),a(),r(3,"input",53,6),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.speedView,t)||(s.dataModel.speedView=t),f(t)}),a()()}if(n&2){let e=m();o(2),M(e.fieldsInfo.speedView==null?null:e.fieldsInfo.speedView.fieldTitle),o(),d("placeholder",x(e.fieldsInfo.speedView==null?null:e.fieldsInfo.speedView.fieldTitle)),b("ngModel",e.dataModel.speedView),d("disabled",!(e.fieldsInfo.speedView!=null&&e.fieldsInfo.speedView.accessAddField))}}function WT(n,l){if(n&1){let e=I();r(0,"div",14)(1,"label",54),c(2),a(),r(3,"input",55,7),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.reloadViewPerMin,t)||(s.dataModel.reloadViewPerMin=t),f(t)}),a()()}if(n&2){let e=m();o(2),M(e.fieldsInfo.reloadViewPerMin==null?null:e.fieldsInfo.reloadViewPerMin.fieldTitle),o(),d("placeholder",x(e.fieldsInfo.reloadViewPerMin==null?null:e.fieldsInfo.reloadViewPerMin.fieldTitle)),b("ngModel",e.dataModel.reloadViewPerMin),d("disabled",!(e.fieldsInfo.reloadViewPerMin!=null&&e.fieldsInfo.reloadViewPerMin.accessAddField))}}function GT(n,l){if(n&1&&(C(0,"img",56),_(1,"cmsthumbnail")),n&2){let e=m();d("src",x(g(1,2,e.dataModel.linkMainImageIdSrc)),j)}}function UT(n,l){n&1&&(r(0,"p"),c(1),_(2,"translate"),a()),n&2&&(o(),y("",g(2,1,"MESSAGE.Content_of_your_choice_to_display_On_this_billboard")," "))}function jT(n,l){n&1&&(r(0,"P"),c(1),_(2,"translate"),a()),n&2&&(o(),y(" ",g(2,1,"MESSAGE.Selecting_any_of_the_following_will_make_the_search_results_range_smaller")))}function qT(n,l){if(n&1){let e=I();r(0,"app-estate-property-type-usage-autocomplete",57),_(1,"translate"),E("optionChange",function(t){u(e);let s=m();return f(s.onActionSelectorSelectUsage(t))}),a()}if(n&2){let e=m();d("optionDisabled",!(e.fieldsInfo.linkPropertyTypeUsageIds!=null&&e.fieldsInfo.linkPropertyTypeUsageIds.accessAddField))("optionSelectForce",e.dataModel.linkPropertyTypeUsageIds)("optionPlaceholder",g(1,3,"TITLE.Type_Usage"))}}function QT(n,l){if(n&1){let e=I();r(0,"app-estate-property-type-landuse-autocomplete",57),_(1,"translate"),E("optionChange",function(t){u(e);let s=m();return f(s.onActionSelectorSelectLanduse(t))}),a()}if(n&2){let e=m();d("optionDisabled",!(e.fieldsInfo.linkPropertyTypeLanduseIds!=null&&e.fieldsInfo.linkPropertyTypeLanduseIds.accessAddField))("optionSelectForce",e.dataModel.linkPropertyTypeLanduseIds)("optionPlaceholder",g(1,3,"TITLE.Property_Type"))}}function zT(n,l){if(n&1){let e=I();r(0,"app-estate-contract-type-autocomplete",57),_(1,"translate"),E("optionChange",function(t){u(e);let s=m();return f(s.onActionSelectorContarctType(t))}),a()}if(n&2){let e=m();d("optionDisabled",!(e.fieldsInfo.linkContractTypeIds!=null&&e.fieldsInfo.linkContractTypeIds.accessAddField))("optionSelectForce",e.dataModel.linkContractTypeIds)("optionPlaceholder",g(1,3,"TITLE.Transaction_type"))}}function YT(n,l){if(n&1){let e=I();r(0,"app-cms-currency-selector",58),_(1,"translate"),E("optionChange",function(t){u(e);let s=m();return f(s.onActionSelectCurrency(t))}),a()}if(n&2){let e=m();d("optionSelectFirstItem",!0)("optionSelectForce",e.dataModel.linkCoreCurrencyId)("optionPlaceholder",g(1,3,"TITLE.Specify_the_transaction_currency"))}}function KT(n,l){if(n&1){let e=I();r(0,"app-cms-location-autocomplete",57),_(1,"translate"),E("optionChange",function(t){u(e);let s=m();return f(s.onActionSelectorLocation(t))}),a()}if(n&2){let e=m();d("optionDisabled",!(e.fieldsInfo.linkLocationIds!=null&&e.fieldsInfo.linkLocationIds.accessAddField))("optionSelectForce",e.dataModel.linkLocationIds)("optionPlaceholder",g(1,3,"TITLE.Region"))}}function ZT(n,l){if(n&1&&(r(0,"option",59),c(1),a()),n&2){let e=l.$implicit;d("value",e.fieldName),o(),y(" ",e.fieldTitle," ")}}function JT(n,l){if(n&1){let e=I();r(0,"div",60)(1,"a",61),E("click",function(){u(e);let t=m();return f(t.onActionSortArrow())}),C(2,"i",62),_(3,"sortTypeIconClass"),a()()}if(n&2){let e=m();o(2),d("ngClass",g(3,1,e.dataModel.resultSortType))}}function XT(n,l){if(n&1){let e=I();r(0,"div",63)(1,"button",64),E("click",function(){u(e);let t=m();return f(t.onFormCancel())}),C(2,"i",65),c(3),_(4,"translate"),a(),r(5,"button",66),C(6,"i",67),c(7),_(8,"translate"),a()()}if(n&2){m();let e=k(10);o(3),y(" ",g(4,3,"ACTION.CANCEL")," "),o(2),d("disabled",!e.form.valid),o(2),y(" ",g(8,5,"ACTION.SAVE")," ")}}var Wl=class Wl extends Dt{constructor(e,i,t,s,h,p,D,z){super(t,new Mr,p,z);this.router=e;this.coreEnumService=i;this.estateBillboardService=t;this.cmsToastrService=s;this.activatedRoute=h;this.publicHelper=p;this.cdr=D;this.translate=z;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModel=new Mr;this.dataModelCorCurrencySelector=new Di;this.formInfo=new me;this.fileManagerOpenForm=!1;this.LinkPropertyIdsInUse=!1;this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),this.requestId=this.activatedRoute.snapshot.paramMap.get("id")}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess(),this.requestId&&this.requestId.length>0&&this.DataGetOneContent()}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estateBillboardService.ServiceAdd(this.dataModel).subscribe({next:i=>{i.isSuccess?(this.DataGetOneContent(),this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.formAlert=t}),this.cmsToastrService.typeSuccessAdd(),this.router.navigate(["/estate/billboard/edit",i.item.id])):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e),this.formInfo.formSubmitAllow=!0},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estateBillboardService.setAccessLoad(),this.estateBillboardService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estateBillboardService.ServiceEdit(this.dataModel).subscribe({next:i=>{i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.formAlert=t}),this.cmsToastrService.typeSuccessEdit()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e),this.formInfo.formSubmitAllow=!0},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionFileSelected(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}onActionSelectorSelectUsage(e){this.dataModel.linkPropertyTypeUsageIds=e}onActionSelectorContarctType(e){this.dataModel.linkContractTypeIds=e}onActionSelectorSelectLanduse(e){this.dataModel.linkPropertyTypeLanduseIds=e}onActionSelectorLocation(e){this.dataModel.linkLocationIds=e}onActionSelectorProperty(e){this.dataModel.linkPropertyIds=e,this.dataModel.linkPropertyIds&&this.dataModel.linkPropertyIds.length>0?(this.LinkPropertyIdsInUse=!0,this.dataModel.linkPropertyTypeUsageIds=null,this.dataModel.linkContractTypeIds=null,this.dataModel.linkPropertyTypeLanduseIds=null,this.dataModel.linkLocationIds=null):this.LinkPropertyIdsInUse=!1}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.dataModel.id&&this.dataModel.id.length>0?this.DataEditContent():this.DataAddContent())}onFormCancel(){this.router.navigate(["/estate/billboard/"])}onActionSelectCurrency(e){if(!e||e.id<=0){this.dataModelCorCurrencySelector=null,this.dataModel.linkCoreCurrencyId=null;return}this.dataModelCorCurrencySelector=e,this.dataModel.linkCoreCurrencyId=e.id}onActionSortArrow(){this.dataModel.resultSortType==X.Ascending?this.dataModel.resultSortType=X.Descending:this.dataModel.resultSortType==X.Descending?this.dataModel.resultSortType=X.Random:this.dataModel.resultSortType==X.Random?this.dataModel.resultSortType=X.Ascending:this.dataModel.resultSortType=X.Ascending}};Wl.\u0275fac=function(i){return new(i||Wl)(v(Ze),v(J),v(Xo),v(V),v(jt),v(F),v(B),v(L))},Wl.\u0275cmp=R({type:Wl,selectors:[["app-estate-billboard-add"]],viewQuery:function(i,t){if(i&1&&(ee(RT,5),ee(vi,5)),i&2){let s;te(s=ie())&&(t.formGroup=s.first),te(s=ie())&&(t.estatePropertyList=s.first)}},standalone:!1,features:[ne],decls:83,vars:70,consts:[["vform","ngForm"],["Title",""],["Description",""],["LinkMainImageId",""],["ResultSortColumn","ngModel"],["DescriptionHidden",""],["SpeedView",""],["ReloadViewPerMin",""],[3,"Key","svg"],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["type","text","name","dataModel.title","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","fa fa-times  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],[4,"ngIf"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","0","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],[3,"optionChange","optionDisabled","optionPlaceholder","optionSelectForce"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.includeAllSite",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.includeAllSite","name","dataModel.includeAllSite",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.includeAllSite",1,"custom-control-label"],[3,"optionDisabled","optionSelectForce","optionPlaceholder","optionChange",4,"ngIf"],[3,"optionSelectFirstItem","optionSelectForce","optionPlaceholder","optionChange",4,"ngIf"],[1,"row","mb-0"],[1,"col-10","pe-0"],["for","dataModel.resultSortColumn",1,"color-highlight"],["id","dataModel.resultSortColumn","name","dataModel.resultSortColumn",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[1,"fa","fa-chevron-down"],[1,"col-2","ps-0"],["class","col-md-2 col-sm-2 col-xs-2 resultSortIcon","style","margin: auto",4,"ngIf"],["class","form-actions",4,"ngIf"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.descriptionHidden",1,"color-highlight"],["matInput","","name","dataModel.descriptionHidden","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.descriptionHidden",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.speedView",1,"color-highlight"],["type","number","name","dataModel.speedView","min","3","max","10","id","dataModel.speedView",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.reloadViewPerMin",1,"color-highlight"],["type","number","name","dataModel.reloadViewPerMin","min","1","max","10","id","dataModel.reloadViewPerMin",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],[3,"optionChange","optionSelectFirstItem","optionSelectForce","optionPlaceholder"],[3,"value"],[1,"col-md-2","col-sm-2","col-xs-2","resultSortIcon",2,"margin","auto"],[3,"click"],[2,"color","black",3,"ngClass"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=I();C(0,"app-cms-guide-notice",8),r(1,"div",9),C(2,"app-progress-spinner",10),r(3,"div",11)(4,"p",12),c(5),a(),r(6,"p"),c(7),_(8,"translate"),a(),r(9,"form",13,0),E("ngSubmit",function(){return u(s),f(t.onFormSubmit())}),r(11,"div",14)(12,"label",15),c(13),a(),r(14,"input",16,1),w("ngModelChange",function(p){return u(s),T(t.dataModel.title,p)||(t.dataModel.title=p),f(p)}),a(),S(16,LT,1,0,"i",17)(17,VT,1,0,"i",18),r(18,"em"),c(19),a(),S(20,OT,5,3,"mat-error",19),a(),r(21,"div",14)(22,"label",20),c(23),a(),r(24,"textarea",21,2),w("ngModelChange",function(p){return u(s),T(t.dataModel.description,p)||(t.dataModel.description=p),f(p)}),a(),r(26,"em"),c(27),a(),S(28,FT,5,3,"mat-error",19),a(),S(29,NT,9,8,"div",22)(30,HT,5,5,"div",22)(31,WT,5,5,"div",22),r(32,"div",23)(33,"a",24),_(34,"cmsthumbnail"),S(35,GT,2,4,"img",25),a()(),r(36,"div",14)(37,"label",26),E("click",function(){return u(s),f(t.fileManagerOpenForm=!0)}),c(38),_(39,"translate"),a(),r(40,"input",27,3),_(42,"translate"),w("ngModelChange",function(p){return u(s),T(t.dataModel.linkMainImageId,p)||(t.dataModel.linkMainImageId=p),f(p)}),E("click",function(){return u(s),f(t.fileManagerOpenForm=!0)}),a(),r(43,"cms-file-manager",28),E("itemSelected",function(p){return u(s),f(t.onActionFileSelected(p))}),w("openFormChange",function(p){return u(s),T(t.fileManagerOpenForm,p)||(t.fileManagerOpenForm=p),f(p)}),a()(),r(44,"p"),c(45),_(46,"translate"),a(),r(47,"app-estate-property-autocomplete",29),_(48,"translate"),E("optionChange",function(p){return u(s),f(t.onActionSelectorProperty(p))}),a(),r(49,"p"),c(50),_(51,"translate"),a(),C(52,"hr"),r(53,"div",30)(54,"div",31)(55,"h5",32),c(56),a()(),r(57,"div",33)(58,"div",34)(59,"input",35),w("ngModelChange",function(p){return u(s),T(t.dataModel.includeAllSite,p)||(t.dataModel.includeAllSite=p),f(p)}),a(),C(60,"label",36),a()()(),S(61,UT,3,3,"p",19)(62,jT,3,3,"P",19)(63,qT,2,5,"app-estate-property-type-usage-autocomplete",37)(64,QT,2,5,"app-estate-property-type-landuse-autocomplete",37),C(65,"br"),S(66,zT,2,5,"app-estate-contract-type-autocomplete",37)(67,YT,2,5,"app-cms-currency-selector",38)(68,KT,2,5,"app-cms-location-autocomplete",37),r(69,"div",39)(70,"div",40)(71,"div",14)(72,"label",41),c(73),a(),r(74,"select",42,4),w("ngModelChange",function(p){return u(s),T(t.dataModel.resultSortColumn,p)||(t.dataModel.resultSortColumn=p),f(p)}),S(76,ZT,2,2,"option",43),a(),r(77,"span"),C(78,"i",44),a(),C(79,"em"),a()(),r(80,"div",45),S(81,JT,4,3,"div",46),a()(),S(82,XT,9,7,"div",47),a()()()}if(i&2){let s=k(15),h=k(25);d("Key","estate.billboard.list.add")("svg","assets/media/svg/icons/General/Notifications1.svg"),o(2),d("optionsInfoAreaId",t.constructorInfoAreaId),o(3),y(" ",t.formInfo.formTitle," "),o(2),y(" ",g(8,56,"TITLE.Be_Careful_When_Entering_Information")," "),o(6),M(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),b("ngModel",t.dataModel.title),o(2),d("ngIf",!s.value),o(),d("ngIf",s.value),o(2),y("",s.value.length," / 100"),o(),d("ngIf",s.errors==null?null:s.errors.required),o(3),M(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),b("ngModel",t.dataModel.description),o(3),y("",h.value.length," / 500"),o(),d("ngIf",h.errors==null?null:h.errors.required),o(),d("ngIf",t.fieldsInfo.descriptionHidden==null?null:t.fieldsInfo.descriptionHidden.accessWatchField),o(),d("ngIf",t.fieldsInfo.speedView==null?null:t.fieldsInfo.speedView.accessWatchField),o(),d("ngIf",t.fieldsInfo.reloadViewPerMin==null?null:t.fieldsInfo.reloadViewPerMin.accessWatchField),o(2),d("href",x(g(34,58,t.dataModel.linkMainImageIdSrc)),j),o(2),d("ngIf",(t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0),o(3),M(g(39,60,"TITLE.PHOTO_FILE")),o(2),d("placeholder",x(g(42,62,"TITLE.Original_File_ID"))),b("ngModel",t.dataModel.linkMainImageId),o(3),d("language",t.appLanguage)("isPopup",!0),b("openForm",t.fileManagerOpenForm),d("tree",t.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",t.selectFileTypeMainImage)("openFilemanagerButtonView",!1),o(2),M(g(46,64,"TITLE.specific_property_list")),o(2),d("optionDisabled",!(t.fieldsInfo.linkPropertyIds!=null&&t.fieldsInfo.linkPropertyIds.accessAddField))("optionPlaceholder",g(48,66,"TITLE.Property"))("optionSelectForce",t.dataModel.linkPropertyIds),o(3),M(g(51,68,"MESSAGE.Selecting_specific_property_will_remove_all_search_fields")),o(6),y(" ",t.fieldsInfo.includeAllSite==null?null:t.fieldsInfo.includeAllSite.fieldTitle),o(3),b("ngModel",t.dataModel.includeAllSite),o(2),d("ngIf",!t.LinkPropertyIdsInUse),o(),d("ngIf",!t.LinkPropertyIdsInUse),o(),d("ngIf",!t.LinkPropertyIdsInUse),o(),d("ngIf",!t.LinkPropertyIdsInUse),o(2),d("ngIf",!t.LinkPropertyIdsInUse),o(),d("ngIf",!t.LinkPropertyIdsInUse),o(),d("ngIf",!t.LinkPropertyIdsInUse),o(5),M(t.fieldsInfo.resultSortColumn==null?null:t.fieldsInfo.resultSortColumn.fieldTitle),o(),b("ngModel",t.dataModel.resultSortColumn),o(2),d("ngForOf",t.dataFieldInfoModel),o(5),d("ngIf",(t.dataModel==null||t.dataModel.resultSortColumn==null?null:t.dataModel.resultSortColumn.length)>0),o(),d("ngIf",t.formInfo.formSubmitAllow)}},dependencies:[se,Ne,N,ke,Ca,Sa,Y,Ot,Ht,ya,q,Te,de,De,Ae,Jd,Zd,ce,Pe,we,Q,Fi,Qt,U,No,ut,Vl,Fl,ea,Nl,O,Ie,ta],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});var Rd=Wl;function $T(n,l){if(n&1){let e=I();r(0,"button",9),E("click",function(){u(e);let t=m(2);return f(t.onActionSendUrlToQDoc())}),r(1,"span"),c(2),_(3,"translate"),a(),C(4,"i",10),a()}n&2&&(o(2),M(g(3,1,"ACTION.VIEW")))}function ew(n,l){if(n&1){let e=I();r(0,"div")(1,"p"),c(2),_(3,"translate"),a(),r(4,"div",2)(5,"ng-otp-input",3,0),E("onInputChange",function(t){u(e);let s=m();return f(s.onOtpChange(t))}),a()(),r(7,"div",4),S(8,$T,5,3,"button",5),a(),r(9,"h5",6),c(10),_(11,"translate"),a(),r(12,"p",7),c(13),_(14,"translate"),r(15,"a",8),c(16," https://qdoc.ir "),a(),c(17),_(18,"translate"),a()()}if(n&2){let e=m();o(2),M(g(3,6,"TITLE.Code_of_Knowledge")),o(3),d("config",e.otpConfig),o(3),d("ngIf",e.optionUrl&&e.optionUrl.length>0&&(e.QDocModel.username==null?null:e.QDocModel.username.length)===5),o(2),y("",g(11,8,"TITLE.Description"),":"),o(3),y(" ",g(14,10,"TITLE.To_do_this_it_is_enough_to_enter_the_site_on_the_device_that_you_want_your_content_to_be_displayed_on")," "),o(4),y(" ",g(18,12,"TITLE.Enter_the_display_code_in_this_section_so_that_your_content_will_be_displayed_on_the_monitor_of_the_device_in_question")," ")}}var ia=class ia{constructor(l,e,i){this.cmsToastrService=l;this.http=e;this.translate=i;this.id=++ia.nextId;this.optionUrl="";this.QDocModel={};this.otpConfig={allowNumbersOnly:!0,length:5,isPasswordInput:!1,disableAutoFocus:!0,placeholder:"",inputStyles:{width:"50px",height:"50px",margin:"5px"}}}ngOnInit(){}onActionSendUrlToQDoc(){if(this.QDocModel.message=this.optionUrl,!this.QDocModel.username&&this.QDocModel.username.length<=0){this.cmsToastrService.typeWarningSelected("\u06A9\u062F \u0634\u0646\u0627\u0633\u0647 \u0631\u0627 \u0627\u0632 \u0648\u0628\u0633\u0627\u06CC\u062A https://Qdoc.ir \u062F\u0631\u06CC\u0627\u0641\u062A \u0646\u0645\u0627\u06CC\u06CC\u062F");return}this.http.post(W.cmsServerConfig.configQDocServerPath,this.QDocModel,{headers:{}}).subscribe({next:l=>{this.translate.get("MESSAGE.The_order_was_sent_to_the_website").subscribe(e=>{this.cmsToastrService.typeSuccessMessage(e)})},error:l=>{this.cmsToastrService.typeErrorMessage("\u0628\u0631\u0631\u0648\u0632 \u062E\u0637\u0627 \u062F\u0631 \u0627\u0631\u0633\u0627\u0644 \u062F\u0633\u062A\u0648\u0631",l)}})}onOtpChange(l){this.QDocModel.username=l}};ia.nextId=0,ia.\u0275fac=function(e){return new(e||ia)(v(V),v(ga),v(L))},ia.\u0275cmp=R({type:ia,selectors:[["app-cms-qdoc"]],inputs:{optionUrl:"optionUrl"},standalone:!1,decls:1,vars:1,consts:[["ngOtpInput",""],[4,"ngIf"],[2,"text-align","center"],[3,"onInputChange","config"],[1,"col-m-4","col-sm-12"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-highlight",3,"click",4,"ngIf"],[2,"text-align","right"],["dir","rtl",2,"font-size","15px"],["href","https://qdoc.ir","target","_blank"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fas","fa-street-view"]],template:function(e,i){e&1&&S(0,ew,19,14,"div",1),e&2&&d("ngIf",i.optionUrl&&i.optionUrl.length>0)},dependencies:[N,di,Ym,O],encapsulation:2});var Gl=ia;var tw=["vform"];function iw(n,l){n&1&&C(0,"i",45)}function nw(n,l){n&1&&C(0,"i",46)}function ow(n,l){n&1&&(r(0,"mat-error"),c(1," Title is "),r(2,"strong"),c(3),_(4,"translate"),a()()),n&2&&(o(3),M(g(4,1,"MESSAGE.required")))}function rw(n,l){n&1&&(r(0,"mat-error"),c(1," Description is "),r(2,"strong"),c(3),_(4,"translate"),a()()),n&2&&(o(3),M(g(4,1,"MESSAGE.required")))}function aw(n,l){n&1&&(r(0,"mat-error"),c(1," DescriptionHidden is "),r(2,"strong"),c(3),_(4,"translate"),a()()),n&2&&(o(3),M(g(4,1,"MESSAGE.required")))}function lw(n,l){if(n&1){let e=I();r(0,"div",14)(1,"label",47),c(2),_(3,"translate"),a(),r(4,"textarea",48,5),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.descriptionHidden,t)||(s.dataModel.descriptionHidden=t),f(t)}),c(6,"         "),a(),r(7,"em"),c(8),a(),S(9,aw,5,3,"mat-error",19),a()}if(n&2){let e=k(5),i=m();o(2),M(g(3,6,"TITLE.Description_Hidden")),o(2),d("placeholder",x(i.fieldsInfo.descriptionHidden==null?null:i.fieldsInfo.descriptionHidden.fieldTitle)),b("ngModel",i.dataModel.descriptionHidden),o(4),y("",e.value.length," / 500"),o(),d("ngIf",e.errors==null?null:e.errors.required)}}function sw(n,l){if(n&1){let e=I();r(0,"div",14)(1,"label",49),c(2),a(),r(3,"input",50,6),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.speedView,t)||(s.dataModel.speedView=t),f(t)}),a()()}if(n&2){let e=m();o(2),M(e.fieldsInfo.speedView==null?null:e.fieldsInfo.speedView.fieldTitle),o(),d("placeholder",x(e.fieldsInfo.speedView==null?null:e.fieldsInfo.speedView.fieldTitle)),b("ngModel",e.dataModel.speedView),d("disabled",!(e.fieldsInfo.speedView!=null&&e.fieldsInfo.speedView.accessEditField))}}function dw(n,l){if(n&1){let e=I();r(0,"div",14)(1,"label",51),c(2),a(),r(3,"input",52,7),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.reloadViewPerMin,t)||(s.dataModel.reloadViewPerMin=t),f(t)}),a()()}if(n&2){let e=m();o(2),M(e.fieldsInfo.reloadViewPerMin==null?null:e.fieldsInfo.reloadViewPerMin.fieldTitle),o(),d("placeholder",x(e.fieldsInfo.reloadViewPerMin==null?null:e.fieldsInfo.reloadViewPerMin.fieldTitle)),b("ngModel",e.dataModel.reloadViewPerMin),d("disabled",!(e.fieldsInfo.reloadViewPerMin!=null&&e.fieldsInfo.reloadViewPerMin.accessEditField))}}function cw(n,l){n&1&&(r(0,"p"),c(1),_(2,"translate"),a()),n&2&&(o(),y("",g(2,1,"MESSAGE.Content_of_your_choice_to_display_On_this_billboard")," "))}function pw(n,l){n&1&&(r(0,"P"),c(1),_(2,"translate"),a()),n&2&&(o(),y(" ",g(2,1,"MESSAGE.Selecting_any_of_the_following_will_make_the_search_results_range_smaller")," "))}function mw(n,l){if(n&1){let e=I();r(0,"app-estate-property-type-usage-autocomplete",53),_(1,"translate"),E("optionChange",function(t){u(e);let s=m();return f(s.onActionSelectorSelectUsage(t))}),a()}if(n&2){let e=m();d("optionDisabled",!(e.fieldsInfo.linkPropertyTypeUsageIds!=null&&e.fieldsInfo.linkPropertyTypeUsageIds.accessEditField))("optionSelectForce",e.dataModel.linkPropertyTypeUsageIds)("optionPlaceholder",g(1,3,"TITLE.Type_Usage"))}}function uw(n,l){if(n&1){let e=I();r(0,"app-estate-property-type-landuse-autocomplete",53),_(1,"translate"),E("optionChange",function(t){u(e);let s=m();return f(s.onActionSelectorSelectLanduse(t))}),a()}if(n&2){let e=m();d("optionDisabled",!(e.fieldsInfo.linkPropertyTypeLanduseIds!=null&&e.fieldsInfo.linkPropertyTypeLanduseIds.accessEditField))("optionSelectForce",e.dataModel.linkPropertyTypeLanduseIds)("optionPlaceholder",g(1,3,"TITLE.Property_Type"))}}function fw(n,l){if(n&1){let e=I();r(0,"app-estate-contract-type-autocomplete",53),_(1,"translate"),E("optionChange",function(t){u(e);let s=m();return f(s.onActionSelectorContarctType(t))}),a()}if(n&2){let e=m();d("optionDisabled",!(e.fieldsInfo.linkContractTypeIds!=null&&e.fieldsInfo.linkContractTypeIds.accessEditField))("optionSelectForce",e.dataModel.linkContractTypeIds)("optionPlaceholder",g(1,3,"TITLE.Transaction_type"))}}function _w(n,l){if(n&1){let e=I();r(0,"app-cms-currency-selector",54),_(1,"translate"),E("optionChange",function(t){u(e);let s=m();return f(s.onActionSelectCurrency(t))}),a()}if(n&2){let e=m();d("optionSelectFirstItem",!0)("optionSelectForce",e.dataModel.linkCoreCurrencyId)("optionPlaceholder",g(1,3,"TITLE.Specify_the_transaction_currency"))}}function gw(n,l){if(n&1){let e=I();r(0,"app-cms-location-autocomplete",53),_(1,"translate"),E("optionChange",function(t){u(e);let s=m();return f(s.onActionSelectorLocation(t))}),a()}if(n&2){let e=m();d("optionDisabled",!(e.fieldsInfo.linkLocationIds!=null&&e.fieldsInfo.linkLocationIds.accessEditField))("optionSelectForce",e.dataModel.linkLocationIds)("optionPlaceholder",g(1,3,"TITLE.Region"))}}function hw(n,l){if(n&1&&(r(0,"option",55),c(1),a()),n&2){let e=l.$implicit;d("value",e.fieldName),o(),y(" ",e.fieldTitle," ")}}function yw(n,l){if(n&1){let e=I();r(0,"div",56)(1,"a",57),E("click",function(){u(e);let t=m();return f(t.onActionSortArrow())}),C(2,"i",58),_(3,"sortTypeIconClass"),a()()}if(n&2){let e=m();o(2),d("ngClass",g(3,1,e.dataModel.resultSortType))}}function Cw(n,l){if(n&1){let e=I();r(0,"div",59)(1,"a",60),C(2,"img",61),_(3,"translate"),a(),r(4,"span",62),E("click",function(){u(e);let t=m();return f(t.onActionCopied())}),C(5,"i",63),a(),r(6,"h5",64),c(7),_(8,"translate"),a(),r(9,"p",65),c(10),_(11,"translate"),a(),r(12,"p",65),c(13),_(14,"translate"),C(15,"br"),c(16),_(17,"translate"),C(18,"br"),c(19),_(20,"translate"),C(21,"br"),c(22),_(23,"translate"),C(24,"br"),c(25),_(26,"translate"),a(),C(27,"hr")(28,"app-cms-qdoc",66),a()}if(n&2){let e=m();o(),d("href",x(e.dataModel.urlViewContent),j),o(),d("alt",x(g(3,14,"TITLE.Scan_the_barcode")))("src",e.dataModel.urlViewContentQRCodeBase64,j),o(2),d("cdkCopyToClipboard",e.dataModel.urlViewContent),o(3),y("",g(8,16,"TITLE.DESCRIPTION"),":"),o(3),y(" ",g(11,18,"TITLE.You_can_view_the_output_of_your_billboard")," "),o(3),y(" ",g(14,20,"TITLE.In_the_title_section_you_can_edit_the_title_of_your_billboard_and_write_a_description_for_it")," "),o(3),y(" ",g(17,22,"TITLE.In_the_next_section_you_can_set_the_speed_of_scrolling_the_page_and_reloading_the_page_every_minute_and_choose_a_picture_for_it")," "),o(3),y(" ",g(20,24,"TITLE.In_the_next_section_you_can_see_your_display_content_for_the_billboard")," "),o(3),y(" ",g(23,26,"TITLE.You_can_narrow_your_search_by_filling_in_any_of_the_fields")," "),o(3),y(" ",g(26,28,"TITLE.Finally_by_clicking_on_the_view_option_you_can_see_the_advertisements_you_want_and_by_clicking_on_the_save_option_you_can_create_your_own_billboard")," "),o(3),d("optionUrl",e.dataModel.urlViewContent)}}function Sw(n,l){if(n&1){let e=I();r(0,"button",73),E("click",function(){u(e);let t=m(2);return f(t.onFormLoadResult())}),C(1,"i",69),c(2),_(3,"translate"),a()}n&2&&(o(2),y(" ",g(3,1,"ACTION.VIEW")," "))}function vw(n,l){if(n&1){let e=I();r(0,"div",67)(1,"button",68),E("click",function(){u(e);let t=m();return f(t.onFormCancel())}),C(2,"i",69),c(3),_(4,"translate"),a(),r(5,"button",70),C(6,"i",71),c(7),_(8,"translate"),a(),S(9,Sw,4,3,"button",72),a()}if(n&2){let e=m(),i=k(10);o(3),y(" ",g(4,4,"ACTION.CANCEL")," "),o(2),d("disabled",!i.form.valid),o(2),y(" ",g(8,6,"ACTION.SAVE")," "),o(2),d("ngIf",(e.dataModel==null||e.dataModel.id==null?null:e.dataModel.id.length)>0)}}function Ew(n,l){n&1&&(r(0,"div",74),C(1,"div",75),a())}var Ul=class Ul extends Bt{constructor(e,i,t,s,h,p,D,z,he,je){super(s,new Mr,p,he);this.router=e;this.estatePropertyDetailGroupService=i;this.coreEnumService=t;this.estateBillboardService=s;this.cmsToastrService=h;this.publicHelper=p;this.cdr=D;this.activatedRoute=z;this.translate=he;this.http=je;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new Ft;this.dataModel=new Mr;this.dataModelCorCurrencySelector=new Di;this.formInfo=new me;this.fileManagerOpenForm=!1;this.optionloadComponent=!1;this.loadResult="";this.LinkPropertyIdsInUse=!1;this.optionReload=()=>{this.estatePropertyList.optionloadComponent=!0,this.estatePropertyList.DataGetAll()};this.publicHelper.processService.cdr=this.cdr,this.requestId=this.activatedRoute.snapshot.paramMap.get("id"),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.router.navigate(["/estate/billboard/"]);return}this.DataGetOneContent()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estateBillboardService.setAccessLoad(),this.estateBillboardService.setAccessDataType(Be.Editor),this.estateBillboardService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataFieldInfoModel=i.access.fieldsInfo,this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.dataModel.linkPropertyIds&&this.dataModel.linkPropertyIds.length>0&&(this.LinkPropertyIdsInUse=!0),this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estateBillboardService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.formAlert=t}),this.cmsToastrService.typeSuccessEdit(),this.optionReload()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e),this.formInfo.formSubmitAllow=!0},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionCopied(){this.cmsToastrService.typeSuccessCopedToClipboard()}onActionFileSelected(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}onActionSelectorSelectUsage(e){this.dataModel.linkPropertyTypeUsageIds=e}onActionSelectorContarctType(e){this.dataModel.linkContractTypeIds=e}onActionSelectorSelectLanduse(e){this.dataModel.linkPropertyTypeLanduseIds=e}onActionSelectorLocation(e){this.dataModel.linkLocationIds=e}onActionSelectorProperty(e){this.dataModel.linkPropertyIds=e,this.dataModel.linkPropertyIds&&this.dataModel.linkPropertyIds.length>0?(this.LinkPropertyIdsInUse=!0,this.dataModel.linkPropertyTypeUsageIds=null,this.dataModel.linkContractTypeIds=null,this.dataModel.linkPropertyTypeLanduseIds=null,this.dataModel.linkLocationIds=null):this.LinkPropertyIdsInUse=!1}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataEditContent())}onFormCancel(){this.router.navigate(["/estate/billboard/"])}onFormLoadResult(){this.loadResult="estatePropertyList",this.estatePropertyList.optionloadComponent=!0,this.estatePropertyList.DataGetAll()}onActionSelectCurrency(e){if(!e||e.id<=0){this.dataModelCorCurrencySelector=null,this.dataModel.linkCoreCurrencyId=null;return}this.dataModelCorCurrencySelector=e,this.dataModel.linkCoreCurrencyId=e.id}onActionSortArrow(){this.dataModel.resultSortType==X.Ascending?this.dataModel.resultSortType=X.Descending:this.dataModel.resultSortType==X.Descending?this.dataModel.resultSortType=X.Random:this.dataModel.resultSortType==X.Random?this.dataModel.resultSortType=X.Ascending:this.dataModel.resultSortType=X.Ascending}};Ul.\u0275fac=function(i){return new(i||Ul)(v(Ze),v(hi),v(J),v(Xo),v(V),v(F),v(B),v(jt),v(L),v(ga))},Ul.\u0275cmp=R({type:Ul,selectors:[["app-estate-billboard-edit"]],viewQuery:function(i,t){if(i&1&&(ee(tw,5),ee(vi,5)),i&2){let s;te(s=ie())&&(t.formGroup=s.first),te(s=ie())&&(t.estatePropertyList=s.first)}},standalone:!1,features:[ne],decls:80,vars:58,consts:[["vform","ngForm"],["Title",""],["Description",""],["ResultSortColumn","ngModel"],["estatePropertyList",""],["DescriptionHidden",""],["SpeedView",""],["ReloadViewPerMin",""],[3,"Key","svg"],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["type","text","name","dataModel.title","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","fa fa-times  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],[4,"ngIf"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","0","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[3,"optionChange","optionDisabled","optionPlaceholder","optionSelectForce"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.includeAllSite",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.includeAllSite","name","dataModel.includeAllSite",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.includeAllSite",1,"custom-control-label"],[3,"optionDisabled","optionSelectForce","optionPlaceholder","optionChange",4,"ngIf"],[3,"optionSelectFirstItem","optionSelectForce","optionPlaceholder","optionChange",4,"ngIf"],[1,"row","mb-0"],[1,"col-10","pe-0"],["for","dataModel.resultSortColumn",1,"color-highlight"],["id","dataModel.resultSortColumn","name","dataModel.resultSortColumn",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[1,"fa","fa-chevron-down"],[1,"col-2","ps-0"],["class","col-md-2 col-sm-2 col-xs-2 resultSortIcon","style","margin: auto",4,"ngIf"],["class","col-md-6 col-sm-6 col-xs-9","style","text-align: center;",4,"ngIf"],["class","form-actions",4,"ngIf"],[3,"optionLinkBillboardId","optionloadComponent","optionsortType","optionloadByRoute"],["class","row alert alert-custom alert-white alert-shadow gutter-b",4,"ngIf"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.descriptionHidden",1,"color-highlight"],["matInput","","name","dataModel.descriptionHidden","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.descriptionHidden",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.speedView",1,"color-highlight"],["type","number","name","dataModel.speedView","min","3","max","10","id","dataModel.speedView",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.reloadViewPerMin",1,"color-highlight"],["type","number","name","dataModel.reloadViewPerMin","min","1","max","10","id","dataModel.reloadViewPerMin",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],[3,"optionChange","optionSelectFirstItem","optionSelectForce","optionPlaceholder"],[3,"value"],[1,"col-md-2","col-sm-2","col-xs-2","resultSortIcon",2,"margin","auto"],[3,"click"],[2,"color","black",3,"ngClass"],[1,"col-md-6","col-sm-6","col-xs-9",2,"text-align","center"],["target","_blank",3,"href"],["height","300px","width","300px",3,"src","alt"],[1,"navi-icon","pointer",3,"click","cdkCopyToClipboard"],[1,"flaticon2-copy"],[2,"text-align","right"],["dir","rtl",2,"font-size","17px"],[3,"optionUrl"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",3,"disabled"],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-highlight",3,"click",4,"ngIf"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"row","alert","alert-custom","alert-white","alert-shadow","gutter-b"],[1,"col-md-12","col-sm-12","col-xs-18"]],template:function(i,t){if(i&1){let s=I();C(0,"app-cms-guide-notice",8),r(1,"div",9),C(2,"app-progress-spinner",10),r(3,"div",11)(4,"p",12),c(5),a(),r(6,"p"),c(7),_(8,"translate"),a(),r(9,"form",13,0),E("ngSubmit",function(){return u(s),f(t.onFormSubmit())}),r(11,"div",14)(12,"label",15),c(13),a(),r(14,"input",16,1),w("ngModelChange",function(p){return u(s),T(t.dataModel.title,p)||(t.dataModel.title=p),f(p)}),a(),S(16,iw,1,0,"i",17)(17,nw,1,0,"i",18),r(18,"em"),c(19),a(),S(20,ow,5,3,"mat-error",19),a(),r(21,"div",14)(22,"label",20),c(23),a(),r(24,"textarea",21,2),w("ngModelChange",function(p){return u(s),T(t.dataModel.description,p)||(t.dataModel.description=p),f(p)}),c(26,"          "),a(),r(27,"em"),c(28),a(),S(29,rw,5,3,"mat-error",19),a(),S(30,lw,10,8,"div",22)(31,sw,5,5,"div",22)(32,dw,5,5,"div",22),r(33,"p"),c(34),_(35,"translate"),a(),r(36,"app-estate-property-autocomplete",23),_(37,"translate"),E("optionChange",function(p){return u(s),f(t.onActionSelectorProperty(p))}),a(),r(38,"p"),c(39),_(40,"translate"),a(),C(41,"hr"),r(42,"div",24)(43,"div",25)(44,"h5",26),c(45),a()(),r(46,"div",27)(47,"div",28)(48,"input",29),w("ngModelChange",function(p){return u(s),T(t.dataModel.includeAllSite,p)||(t.dataModel.includeAllSite=p),f(p)}),a(),C(49,"label",30),a()()(),S(50,cw,3,3,"p",19)(51,pw,3,3,"P",19)(52,mw,2,5,"app-estate-property-type-usage-autocomplete",31)(53,uw,2,5,"app-estate-property-type-landuse-autocomplete",31),C(54,"br"),S(55,fw,2,5,"app-estate-contract-type-autocomplete",31)(56,_w,2,5,"app-cms-currency-selector",32)(57,gw,2,5,"app-cms-location-autocomplete",31),C(58,"br"),c(59),_(60,"translate"),C(61,"hr"),r(62,"div",33)(63,"div",34)(64,"div",14)(65,"label",35),c(66),a(),r(67,"select",36,3),w("ngModelChange",function(p){return u(s),T(t.dataModel.resultSortColumn,p)||(t.dataModel.resultSortColumn=p),f(p)}),S(69,hw,2,2,"option",37),a(),r(70,"span"),C(71,"i",38),a(),C(72,"em"),a()(),r(73,"div",39),S(74,yw,4,3,"div",40),a()(),S(75,Cw,29,30,"div",41)(76,vw,10,8,"div",42),a(),C(77,"app-estate-property-list",43,4),a()(),S(79,Ew,2,0,"div",44)}if(i&2){let s=k(15),h=k(25);d("Key","estate.billboard.list.edit")("svg","assets/media/svg/icons/General/Notifications1.svg"),o(2),d("optionsInfoAreaId",t.constructorInfoAreaId),o(3),y(" ",t.formInfo.formTitle," "),o(2),y(" ",g(8,48,"TITLE.Be_Careful_When_Entering_Information")," "),o(6),M(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),b("ngModel",t.dataModel.title),o(2),d("ngIf",!s.value),o(),d("ngIf",s.value),o(2),y("",s.value.length," / 100"),o(),d("ngIf",s.errors==null?null:s.errors.required),o(3),M(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),b("ngModel",t.dataModel.description),o(4),y("",h.value.length," / 500"),o(),d("ngIf",h.errors==null?null:h.errors.required),o(),d("ngIf",t.fieldsInfo.descriptionHidden==null?null:t.fieldsInfo.descriptionHidden.accessWatchField),o(),d("ngIf",t.fieldsInfo.speedView==null?null:t.fieldsInfo.speedView.accessWatchField),o(),d("ngIf",t.fieldsInfo.reloadViewPerMin==null?null:t.fieldsInfo.reloadViewPerMin.accessWatchField),o(2),y(" ",g(35,50,"TITLE.specific_property_list")," "),o(2),d("optionDisabled",!(t.fieldsInfo.linkPropertyIds!=null&&t.fieldsInfo.linkPropertyIds.accessEditField))("optionPlaceholder",g(37,52,"TITLE.Property"))("optionSelectForce",t.dataModel.linkPropertyIds),o(3),M(g(40,54,"MESSAGE.Selecting_specific_property_will_remove_all_search_fields")),o(6),y(" ",t.fieldsInfo.includeAllSite==null?null:t.fieldsInfo.includeAllSite.fieldTitle),o(3),b("ngModel",t.dataModel.includeAllSite),o(2),d("ngIf",!t.LinkPropertyIdsInUse),o(),d("ngIf",!t.LinkPropertyIdsInUse),o(),d("ngIf",!t.LinkPropertyIdsInUse),o(),d("ngIf",!t.LinkPropertyIdsInUse),o(2),d("ngIf",!t.LinkPropertyIdsInUse),o(),d("ngIf",!t.LinkPropertyIdsInUse),o(),d("ngIf",!t.LinkPropertyIdsInUse),o(2),y(" ",g(60,56,"ACTION.SEARCH"),": "),o(7),M(t.fieldsInfo.resultSortColumn==null?null:t.fieldsInfo.resultSortColumn.fieldTitle),o(),b("ngModel",t.dataModel.resultSortColumn),o(2),d("ngForOf",t.dataFieldInfoModel),o(5),d("ngIf",(t.dataModel==null||t.dataModel.resultSortColumn==null?null:t.dataModel.resultSortColumn.length)>0),o(),d("ngIf",(t.dataModel==null||t.dataModel.urlViewContentQRCodeBase64==null?null:t.dataModel.urlViewContentQRCodeBase64.length)>0&&(t.dataModel==null||t.dataModel.urlViewContent==null?null:t.dataModel.urlViewContent.length)>0),o(),d("ngIf",t.formInfo.formSubmitAllow),o(),d("optionLinkBillboardId",t.dataModel.id)("optionloadComponent",t.optionloadComponent)("optionsortType",t.dataModel.resultSortType)("optionloadByRoute",!1),o(2),d("ngIf",t.loadResult==="estatePropertyList")}},dependencies:[se,Ne,N,ke,Ca,Sa,Y,Ot,Ht,ya,q,Te,de,De,Ae,Jd,Zd,ce,Pe,di,we,Q,ci,Fi,Qt,Gl,U,No,Vl,Fl,vi,ea,Nl,O,ta],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}.resultSortIcon[_ngcontent-%COMP%]{font-size:20px;align-self:center}"]});var Rc=Ul;var Iw=()=>["expandedTitle"],Mw=()=>["expandedDetail"],bw=()=>[5,10,20,100],A0=n=>({display:n});function Tw(n,l){if(n&1){let e=I();r(0,"div",20)(1,"a",54),E("click",function(t){u(e);let s=m();return f(s.onActionButtonNewRow(t))}),C(2,"i",55)(3,"br"),a(),r(4,"p",22),c(5),_(6,"translate"),a()()}n&2&&(o(5),M(g(6,1,"ACTION.ADD")))}function ww(n,l){if(n&1){let e=I();r(0,"a",56),E("click",function(t){u(e);let s=m();return f(s.onActionButtonEditRow(s.tableRowSelected,t))}),C(1,"i",57)(2,"br"),a()}}function xw(n,l){if(n&1){let e=I();r(0,"a",58),E("click",function(){u(e);let t=m();return f(t.onActionButtonDeleteRow(t.tableRowSelected))}),C(1,"i",59)(2,"br"),a()}}function Aw(n,l){if(n&1){let e=I();r(0,"a",60),E("click",function(t){u(e);let s=m();return f(s.onActionButtonCopyNewRow(s.tableRowSelected,t))}),C(1,"i",61)(2,"br"),a()}}function Pw(n,l){n&1&&(r(0,"mat-header-cell"),c(1),_(2,"translate"),a()),n&2&&(o(),y(" ",g(2,1,"TITLE.MENU")," "))}function kw(n,l){if(n&1){let e=I();r(0,"mat-cell")(1,"button",62),E("click",function(){let t=u(e).$implicit,s=m();return f(s.onActionTableRowSelectActionMenu(t))}),C(2,"i",63),a()()}}function Dw(n,l){n&1&&(r(0,"mat-header-cell",64),c(1),_(2,"translate"),a()),n&2&&(o(),y(" ",g(2,1,"TITLE.PICTURE")," "))}function Rw(n,l){if(n&1&&(C(0,"img",66),_(1,"cmsthumbnail")),n&2){let e=m().$implicit;d("src",x(g(1,2,e.linkMainImageIdSrc)),j)}}function Lw(n,l){if(n&1&&(r(0,"mat-cell"),S(1,Rw,2,4,"img",65),a()),n&2){let e=l.$implicit;o(),d("ngIf",(e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0)}}function Vw(n,l){if(n&1&&(r(0,"mat-header-cell",64),c(1),a()),n&2){let e=m();o(),y(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function Ow(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),y(" ",e.id," ")}}function Fw(n,l){if(n&1&&(r(0,"mat-header-cell",64),c(1),a()),n&2){let e=m();o(),y(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function Bw(n,l){if(n&1&&(r(0,"mat-cell"),c(1),_(2,"cmssiteinfo"),_(3,"async"),a()),n&2){let e=l.$implicit;o(),y(" ",g(3,3,g(2,1,e.linkSiteId))," ")}}function Nw(n,l){if(n&1&&(r(0,"mat-header-cell",64),c(1),a()),n&2){let e=m();o(),y(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function Hw(n,l){if(n&1&&C(0,"select",69),n&2){let e=m().$implicit,i=m();d("contentService",i.contentService)("row",e)("ngStyle",ze(3,A0,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function Ww(n,l){if(n&1&&(r(0,"mat-cell",67),_(1,"statusCellClass"),C(2,"i",67),_(3,"statusIconClass"),S(4,Hw,1,5,"select",68),a()),n&2){let e=l.$implicit,i=m();d("ngClass",g(1,3,e.recordStatus)),o(2),d("ngClass",g(3,5,e.recordStatus)),o(2),d("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessEditRow)}}function Gw(n,l){if(n&1&&(r(0,"mat-header-cell",64),c(1),a()),n&2){let e=m();o(),y(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," ")}}function Uw(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),y(" ",e.title," ")}}function jw(n,l){if(n&1&&(r(0,"mat-header-cell",64),c(1),a()),n&2){let e=m();o(),y(" ",e.fieldsInfo.speedView==null?null:e.fieldsInfo.speedView.fieldTitle," ")}}function qw(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),y(" ",e.speedView)}}function Qw(n,l){if(n&1&&(r(0,"mat-header-cell",64),c(1),a()),n&2){let e=m();o(),y(" ",e.fieldsInfo.reloadViewPerMin==null?null:e.fieldsInfo.reloadViewPerMin.fieldTitle," ")}}function zw(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),y(" ",e.reloadViewPerMin)}}function Yw(n,l){n&1&&(r(0,"mat-header-cell"),c(1),_(2,"translate"),a()),n&2&&(o(),y(" ",g(2,1,"TITLE.OPTION")," "))}function Kw(n,l){if(n&1&&(r(0,"mat-cell",70)(1,"button",71)(2,"mat-icon"),c(3,"more_vert"),a()(),C(4,"mat-menu",null,2),a()),n&2){let e=k(5);o(),d("matMenuTriggerFor",e)}}function Zw(n,l){n&1&&(r(0,"mat-header-cell",64),c(1),_(2,"translate"),a()),n&2&&(o(),y(" ",g(2,1,"TITLE.LINKTO")," "))}function Jw(n,l){if(n&1){let e=I();r(0,"mat-cell")(1,"button",72),E("click",function(){let t=u(e).$implicit,s=m();return f(s.onActionButtonLinkTo(t))}),r(2,"mat-icon",73),c(3,"\u2197"),a()()()}}function Xw(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),y(" ",e.title," ")}}function $w(n,l){if(n&1&&(C(0,"img",78),_(1,"cmsthumbnail")),n&2){let e=m().$implicit;d("src",x(g(1,2,e.linkMainImageIdSrc)),j)}}function ex(n,l){if(n&1&&(r(0,"tr"),C(1,"td"),r(2,"td"),c(3),a()()),n&2){let e=m().$implicit,i=m();o(3),$("",i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle," : ",e.description," ")}}function tx(n,l){if(n&1&&(r(0,"tr"),C(1,"td"),r(2,"td"),c(3),_(4,"translate"),a()()),n&2){let e=m().$implicit;o(3),$("",g(4,2,"TITLE.Description_Hidden")," : ",e.descriptionHidden," ")}}function ix(n,l){if(n&1){let e=I();r(0,"mat-cell")(1,"div")(2,"table")(3,"tr")(4,"th"),S(5,$w,2,4,"img",74),a(),r(6,"th")(7,"span",75),E("click",function(){u(e);let t=m();return f(t.onActionCopied())}),C(8,"i",76),a(),c(9),a()(),r(10,"tr"),C(11,"td"),r(12,"td"),c(13),a()(),S(14,ex,4,2,"tr",77)(15,tx,5,4,"tr",77),r(16,"tr"),C(17,"td")(18,"td"),a()()()()}if(n&2){let e=l.$implicit,i=m();o(5),d("ngIf",(e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0),o(2),d("cdkCopyToClipboard",e.id),o(2),y(" ",e.id," "),o(4),$("",i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle," : ",e.title," "),o(),d("ngIf",e.description),o(),d("ngIf",i.fieldsInfo.descriptionHidden==null?null:i.fieldsInfo.descriptionHidden.accessWatchField)}}function nx(n,l){n&1&&C(0,"mat-header-row")}function ox(n,l){if(n&1){let e=I();r(0,"mat-row",79),E("click",function(){let t=u(e).$implicit,s=m();return f(s.onActionTableRowSelect(t))})("mouseenter",function(){let t=u(e).$implicit,s=m();return f(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=u(e).$implicit,s=m();return f(s.onActionTableRowMouseLeave(t))}),a()}if(n&2){let e=l.$implicit,i=l.dataIndex,t=m();Se("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",e.id===(t.tableRowSelected==null?null:t.tableRowSelected.id))}}function rx(n,l){if(n&1){let e=I();r(0,"mat-row",79),E("click",function(){let t=u(e).$implicit,s=m();return f(s.onActionTableRowSelect(t))})("mouseenter",function(){let t=u(e).$implicit,s=m();return f(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=u(e).$implicit,s=m();return f(s.onActionTableRowMouseLeave(t))}),a()}if(n&2){let e=l.$implicit,i=l.dataIndex,t=m();Se("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",e.id===(t.tableRowSelected==null?null:t.tableRowSelected.id))}}function ax(n,l){if(n&1){let e=I();r(0,"mat-row",80),E("click",function(){let t=u(e).$implicit,s=m();return f(s.onActionTableRowSelect(t))})("mouseenter",function(){let t=u(e).$implicit,s=m();return f(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=u(e).$implicit,s=m();return f(s.onActionTableRowMouseLeave(t))}),a()}if(n&2){let e=l.$implicit,i=l.dataIndex,t=m();Se("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",e.id===(t.tableRowSelected==null?null:t.tableRowSelected.id)),d("ngStyle",ze(7,A0,e.expanded===!0?"":"none"))}}var jl=class jl extends bt{constructor(e,i,t,s,h,p,D,z,he,je,Ge,mt){super(e,new Mr,Ge,s,D);this.contentService=e;this.cmsConfirmationDialogService=i;this.cmsToastrService=t;this.tokenHelper=s;this.router=h;this.cdr=p;this.translate=D;this.themeService=z;this.cmsStoreService=he;this.pageInfo=je;this.publicHelper=Ge;this.dialog=mt;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new pe;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["LinkMainImageIdSrc","Id","LinkSiteId","RecordStatus","SpeedView","ReloadViewPerMin","LinkTo","action_menu"];this.tabledisplayedColumnsMobileSource=["LinkMainImageIdSrc","SpeedView","ReloadViewPerMin","LinkTo","action_menu"];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:Nt=>this.onSubmitOptionsSearch(Nt)},this.filteModelContent.sortColumn="Id",this.filteModelContent.sortType=X.Descending}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.cmsApiStoreSubscribe=this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>re(this,null,function*(){this.tokenInfo=e,this.DataGetAll()}))}ngOnDestroy(){this.cmsApiStoreSubscribe&&this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Mr);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),t.isSuccess?(this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=X.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=X.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=X.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(e){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}e?.ctrlKey?(this.link="/#/estate/billboard/add/",window.open(this.link,"_blank")):this.router.navigate(["/estate/billboard/add"])}onActionButtonEditRow(e=this.tableRowSelected,i){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}i?.ctrlKey?(this.link="/#/estate/billboard/edit/"+this.tableRowSelected.id,window.open(this.link,"_blank")):this.router.navigate(["/estate/billboard/edit",this.tableRowSelected.id])}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(s=>{this.cmsToastrService.typeErrorSelected(s)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(s=>{i=s["MESSAGE.Please_Confirm"],t=s["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(s=>{if(s){let h=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(p=>{this.publicHelper.processService.processStart(h,p,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:p=>{p.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(h)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(h,!1)}})}}).catch(()=>{})}onActionButtonContentList(e=this.tableRowSelected,i){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}this.onActionTableRowSelect(e),i?.ctrlKey?(this.link="/#/estate/property/LinkBillboardId/"+this.tableRowSelected.id,window.open(this.link,"_blank")):this.router.navigate(["/estate/property/LinkBillboardId/",this.tableRowSelected.id])}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(p=>{i.set(p,0)}),this.translate.get("MESSAGE.All").subscribe(p=>{i.set(p,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(p=>{this.publicHelper.processService.processStart(t,p,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:p=>{p.isSuccess?(this.translate.get("MESSAGE.All").subscribe(D=>{i.set(D,p.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(p.errorMessage),this.publicHelper.processService.processStop(t)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(t,!1)}});let s=JSON.parse(JSON.stringify(this.filteModelContent)),h=new H;h.propertyName="RecordStatus",h.value=qe.Available,s.filters.push(h),this.contentService.ServiceGetCount(s).subscribe({next:p=>{p.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(D=>{i.set(D,p.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(p.errorMessage),this.publicHelper.processService.processStop(t)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonOpenBillboard(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.onActionTableRowSelect(e),window.open(this.tableRowSelected.urlViewContent,"_blank")}onActionButtonCopyNewRow(e=this.tableRowSelected,i){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}this.onActionTableRowSelect(e),i?.ctrlKey?(this.link="/#/estate/billboard/add-copy/"+this.tableRowSelected.id,window.open(this.link,"_blank")):this.router.navigate(["/estate/billboard/add-copy",this.tableRowSelected.id])}onActionButtonReload(){this.DataGetAll()}onActionCopied(){this.cmsToastrService.typeSuccessCopedToClipboard()}onSubmitOptionsSearch(e){e&&e.length>0&&(this.filteModelContent.filters=[...this.filteModelContent.filters,...e]),this.DataGetAll()}onActionButtonLinkTo(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(e.recordStatus!=qe.Available){this.cmsToastrService.typeWarningRecordStatusNoAvailable();return}this.onActionTableRowSelect(e);let i=this.constructor.name+"ServiceGetOneById";this.translate.get("MESSAGE.get_billboards_information").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructorInfoAreaId)}),this.contentService.ServiceGetOneById(e.id).subscribe({next:t=>{if(t.isSuccess){var s="";this.publicHelper.isMobile?s="dialog-fullscreen":s="dialog-min",this.dialog.open(pn,{height:"90%",panelClass:s,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{title:t.item.title,urlViewContentQRCodeBase64:t.item.urlViewContentQRCodeBase64,urlViewContent:t.item.urlViewContent}}).afterClosed().subscribe(p=>{p&&p.dialogChangedDate&&this.DataGetAll()})}else this.cmsToastrService.typeErrorMessage(t.errorMessage);this.publicHelper.processService.processStop(i)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(i,!1)}})}};jl.\u0275fac=function(i){return new(i||jl)(v(Xo),v(Mt),v(V),v(K),v(Ze),v(B),v(L),v(kt),v(Z),v(ht),v(F),v(xe))},jl.\u0275cmp=R({type:jl,selectors:[["app-estate-billboard-list"]],standalone:!1,features:[ne],decls:109,vars:52,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionActionRowDisplayMenuAct","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-maximize","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-minimize","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],[1,"col-4"],["class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-magenta","target","_blank",3,"click",4,"ngIf"],[1,"font-11","text-center","opacity-70"],["class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-red","target","_blank",3,"click",4,"ngIf"],[1,"fa-solid","fa-buildings","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-billboard","font-18",2,"color","#ffffff"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-highlight","target","_blank","id","openModalButton","data-toggle","modal","data-target","#categoryModal",3,"click",4,"ngIf"],[1,"fa-solid","fa-share","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","","multiTemplateDataRows","",3,"matSortChange","dataSource"],["matColumnDef","action_menu"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkMainImageIdSrc"],["mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","Id"],["matColumnDef","LinkSiteId"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","Title"],["matColumnDef","SpeedView"],["matColumnDef","ReloadViewPerMin"],["matColumnDef","Action"],["class"," Action",4,"matCellDef"],["matColumnDef","LinkTo"],["matColumnDef","expandedTitle"],["matColumnDef","expandedDetail"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","ngStyle","click","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","target","_blank","id","openModalButton","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-copy","font-18",2,"color","#ffffff"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"click"],[1,"fa","fa-bars","font-18"],["mat-sort-header",""],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","40","width","40",3,"src",4,"ngIf"],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],["type","button","mat-icon-button","",3,"click"],[2,"color","#ff671f"],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","80","width","80",3,"src",4,"ngIf"],[1,"navi-icon","pointer",3,"click","cdkCopyToClipboard"],[1,"flaticon2-copy"],[4,"ngIf"],["aria-hidden","","height","80","width","80",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"click","mouseenter","mouseleave"],[3,"click","mouseenter","mouseleave","ngStyle"]],template:function(i,t){if(i&1){let s=I();r(0,"app-cms-html-list",3),w("optionActionGuideNoticeDisplayChange",function(p){return u(s),T(t.viewGuideNotice,p)||(t.viewGuideNotice=p),f(p)}),E("optionOnActionButtonMemoRow",function(){return u(s),f(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return u(s),f(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return u(s),f(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return u(s),f(t.onActionButtonPrintRow())}),A(1,4),c(2," -------------------------------------- "),P(),Qe(3,5)(4,6),A(5,7),r(6,"a",8),E("click",function(){return u(s),f(t.viewGuideNotice=!t.viewGuideNotice)}),C(7,"i",9),a(),r(8,"a",8),E("click",function(){return u(s),f(t.onActionButtonReload())}),C(9,"i",10),a(),r(10,"a",11),E("click",function(){return u(s),f(t.onActionGridExpandRows(!0))}),C(11,"i",12),a(),r(12,"a",11),E("click",function(){return u(s),f(t.onActionGridExpandRows(!1))}),C(13,"i",13),a(),P(),A(14,14),r(15,"a",15),E("click",function(){return u(s),f(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),C(16,"mat-slide-toggle",16),c(17),_(18,"translate"),a(),r(19,"a",15),E("click",function(){return u(s),f(t.onActionButtonStatist())}),C(20,"mat-slide-toggle",16),c(21),_(22,"translate"),a(),P(),A(23,17),S(24,Tw,7,3,"div",18),P(),A(25,19),r(26,"div",20),S(27,ww,3,0,"a",21),r(28,"p",22),c(29),_(30,"translate"),a()(),r(31,"div",20),S(32,xw,3,0,"a",23),r(33,"p",22),c(34),_(35,"translate"),a()(),r(36,"div",20)(37,"a",11),E("click",function(p){return u(s),f(t.onActionButtonContentList(t.tableRowSelected,p))}),C(38,"i",24)(39,"br"),a(),r(40,"p",22),c(41),_(42,"translate"),a()(),r(43,"div",20)(44,"a",11),E("click",function(){return u(s),f(t.onActionButtonOpenBillboard(t.tableRowSelected))}),C(45,"i",25)(46,"br"),a(),r(47,"p",22),c(48),_(49,"translate"),a()(),r(50,"div",20),S(51,Aw,3,0,"a",26),r(52,"p",22),c(53),_(54,"translate"),a()(),r(55,"div",20)(56,"a",8),E("click",function(){return u(s),f(t.onActionButtonLinkTo(t.tableRowSelected))}),C(57,"i",27)(58,"br"),a(),r(59,"p",22),c(60),_(61,"translate"),a()(),P(),A(62,28),r(63,"app-cms-search-list",29),w("optionsChange",function(p){return u(s),T(t.optionsSearch,p)||(t.optionsSearch=p),f(p)}),a(),r(64,"app-cms-statist-list",29),w("optionsChange",function(p){return u(s),T(t.optionsStatist,p)||(t.optionsStatist=p),f(p)}),a(),P(),A(65,30),r(66,"mat-table",31,0),E("matSortChange",function(){u(s);let p=k(67);return f(t.onTableSortData(p))}),A(68,32),S(69,Pw,3,3,"mat-header-cell",33)(70,kw,3,0,"mat-cell",34),P(),A(71,35),S(72,Dw,3,3,"mat-header-cell",36)(73,Lw,2,1,"mat-cell",34),P(),A(74,37),S(75,Vw,2,1,"mat-header-cell",36)(76,Ow,2,1,"mat-cell",34),P(),A(77,38),S(78,Fw,2,1,"mat-header-cell",36)(79,Bw,4,5,"mat-cell",34),P(),A(80,39),S(81,Nw,2,1,"mat-header-cell",36)(82,Ww,5,7,"mat-cell",40),P(),A(83,41),S(84,Gw,2,1,"mat-header-cell",36)(85,Uw,2,1,"mat-cell",34),P(),A(86,42),S(87,jw,2,1,"mat-header-cell",36)(88,qw,2,1,"mat-cell",34),P(),A(89,43),S(90,Qw,2,1,"mat-header-cell",36)(91,zw,2,1,"mat-cell",34),P(),A(92,44),S(93,Yw,3,3,"mat-header-cell",33)(94,Kw,6,1,"mat-cell",45),P(),A(95,46),S(96,Zw,3,3,"mat-header-cell",36)(97,Jw,4,0,"mat-cell",34),P(),A(98,47),S(99,Xw,2,1,"mat-cell",34),P(),A(100,48),S(101,ix,19,7,"mat-cell",34),P(),S(102,nx,1,0,"mat-header-row",49)(103,ox,1,6,"mat-row",50)(104,rx,1,6,"mat-row",50)(105,ax,1,9,"mat-row",51),a(),P(),A(106,52),r(107,"mat-paginator",53,1),E("page",function(p){return u(s),f(t.onTablePageingData(p))}),a(),P(),a()}i&2&&(d("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey","estate.billboard.list"),b("optionActionGuideNoticeDisplay",t.viewGuideNotice),d("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelectDoubleClick)("optionActionRowDisplayMenuAct",t.tableRowSelectActionMenuClick)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.title),o(16),d("checked",t.optionsSearch.data.show),o(),y("",g(18,33,"ACTION.SEARCH")," "),o(3),d("checked",t.optionsStatist.data.show),o(),y("",g(22,35,"ACTION.STATIST")," "),o(3),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessAddRow),o(3),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),o(2),M(g(30,37,"ACTION.EDIT")),o(3),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),o(2),M(g(35,39,"ACTION.DELETE")),o(7),M(g(42,41,"ACTION.SHOWPROPERTIES")),o(7),M(g(49,43,"ACTION.BILLBOARDDISPLAY")),o(3),d("ngIf",(t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessAddRow)&&(t.tableRowSelected==null?null:t.tableRowSelected.id)&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0),o(2),M(g(54,45,"ACTION.COPY")),o(7),M(g(61,47,"TITLE.LINKTO")),o(3),b("options",t.optionsSearch),o(),b("options",t.optionsStatist),o(2),d("dataSource",t.tableSource),o(36),d("matHeaderRowDef",t.tabledisplayedColumns),o(),d("matRowDefColumns",le(49,Iw)),o(),d("matRowDefColumns",t.tabledisplayedColumns),o(),d("matRowDefColumns",le(50,Mw)),o(2),d("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",le(51,bw)))},dependencies:[se,N,tt,Je,Ee,Q,At,Pt,vt,gt,Et,It,it,ot,st,rt,nt,dt,at,lt,ct,pt,ci,Tt,wt,xt,Oi,He,O,tn,Ie,qt,Bn],encapsulation:2});var Lc=jl;var lx=["vform"],sx=()=>["fa"];function dx(n,l){if(n&1&&(C(0,"img",28),_(1,"cmsthumbnail")),n&2){let e=m();d("src",x(g(1,2,e.dataModel.linkMainImageIdSrc)),j)}}function cx(n,l){n&1&&C(0,"i",29)}function px(n,l){n&1&&C(0,"i",30)}function mx(n,l){n&1&&(r(0,"mat-error"),c(1," Title is "),r(2,"strong"),c(3),_(4,"translate"),a()()),n&2&&(o(3),M(g(4,1,"MESSAGE.required")))}function ux(n,l){if(n&1){let e=I();r(0,"div",15)(1,"label",31),c(2),a(),r(3,"input",32,4),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.iconFont,t)||(s.dataModel.iconFont=t),f(t)}),E("iconPickerSelect",function(t){u(e);let s=m();return f(s.onIconPickerSelect(t))}),a(),r(5,"span",33),C(6,"i",34),a()()}if(n&2){let e=m();o(2),M(e.fieldsInfo.iconFont==null?null:e.fieldsInfo.iconFont.fieldTitle),o(),d("placeholder",x(e.fieldsInfo.iconFont==null?null:e.fieldsInfo.iconFont.fieldTitle)),b("ngModel",e.dataModel.iconFont),d("iconPicker",e.dataModel.iconFont)("ipIconPack",le(9,sx))("ipPosition","top")("disabled",!(e.fieldsInfo.iconFont!=null&&e.fieldsInfo.iconFont.accessAddField)),o(3),d("ngClass",e.dataModel.iconFont)}}function fx(n,l){if(n&1){let e=I();r(0,"div",15)(1,"label",35),c(2),a(),r(3,"div",36)(4,"div",37)(5,"input",38,5),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.iconColor,t)||(s.dataModel.iconColor=t),f(t)}),a()(),r(7,"div",39),C(8,"ngx-mat-color-toggle",40)(9,"ngx-mat-color-picker",41,6),a()()()}if(n&2){let e=k(10),i=m();o(2),M(i.fieldsInfo.iconColor==null?null:i.fieldsInfo.iconColor.fieldTitle),o(3),ye("background",i.dataModel.iconColor),d("placeholder",x(i.fieldsInfo.iconColor==null?null:i.fieldsInfo.iconColor.fieldTitle)),b("ngModel",i.dataModel.iconColor),d("ngxMatColorPicker",e)("disabled",!(i.fieldsInfo.iconColor!=null&&i.fieldsInfo.iconColor.accessAddField)),o(3),d("for",e),o(),d("touchUi",!0)("color","primary")}}function _x(n,l){n&1&&(r(0,"mat-error"),c(1," Description is "),r(2,"strong"),c(3),_(4,"translate"),a()()),n&2&&(o(3),M(g(4,1,"MESSAGE.required")))}function gx(n,l){if(n&1){let e=I();r(0,"div",42)(1,"button",43),E("click",function(){u(e);let t=m();return f(t.onFormCancel())}),C(2,"i",44),c(3),_(4,"translate"),a(),r(5,"button",45),C(6,"i",46),c(7),_(8,"translate"),a()()}if(n&2){m();let e=k(9);o(3),y(" ",g(4,3,"ACTION.CANCEL")," "),o(2),d("disabled",!e.form.valid),o(2),y(" ",g(8,5,"ACTION.SAVE")," ")}}var ql=class ql extends Dt{constructor(e,i,t,s,h,p,D,z){super(s,new br,p,z);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.estateCategoryRackService=s;this.cmsToastrService=h;this.publicHelper=p;this.cdr=D;this.translate=z;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new G;this.dataModel=new br;this.formInfo=new me;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess()}onActionFileSelected(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}DataAddContent(){this.dataModel.iconColor=this.dataModel.iconColor?.toString(),this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estateCategoryRackService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.formAlert=t}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e),this.formInfo.formSubmitAllow=!0},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onIconPickerSelect(e){this.dataModel.iconFont=e}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};ql.\u0275fac=function(i){return new(i||ql)(v(be),v(Me),v(J),v(Vr),v(V),v(F),v(B),v(L))},ql.\u0275cmp=R({type:ql,selectors:[["app-estate-category-rack-add"]],viewQuery:function(i,t){if(i&1&&ee(lx,5),i&2){let s;te(s=ie())&&(t.formGroup=s.first)}},standalone:!1,features:[ne],decls:45,vars:46,consts:[["vform","ngForm"],["LinkMainImageId",""],["Title",""],["Description",""],["IconFont",""],["iconColor",""],["iconColorPicker",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openSelectFileDescription","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","fa fa-times  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],[4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","form-actions",4,"ngIf"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.iconFont",1,"color-highlight"],["matInput","","type","text","name","dataModel.iconFont","type","text","id","dataModel.iconFont",1,"form-control","validate-name",3,"ngModelChange","iconPickerSelect","ngModel","iconPicker","ipIconPack","ipPosition","placeholder","disabled"],[1,"input-group-addon"],[3,"ngClass"],["for","dataModel.iconColor",1,"color-highlight"],[1,"row","mb-0"],[1,"col-11","pe-0"],["matInput","","type","text","name","dataModel.iconColor","type","text","id","dataModel.iconColor",1,"form-control","validate-name",3,"ngModelChange","ngModel","ngxMatColorPicker","placeholder","disabled"],[1,"col-1","ps-0"],["matSuffix","",3,"for"],[3,"touchUi","color"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=I();r(0,"div",7),C(1,"app-progress-spinner",8),r(2,"div",9)(3,"p",10),c(4),a(),r(5,"p"),c(6),_(7,"translate"),a(),r(8,"form",11,0),E("ngSubmit",function(){return u(s),f(t.onFormSubmit())}),r(10,"div",12)(11,"a",13),_(12,"cmsthumbnail"),S(13,dx,2,4,"img",14),a()(),r(14,"div",15)(15,"label",16),E("click",function(){return u(s),f(t.fileManagerOpenForm=!0)}),c(16),_(17,"translate"),a(),r(18,"input",17,1),_(20,"translate"),w("ngModelChange",function(p){return u(s),T(t.dataModel.linkMainImageId,p)||(t.dataModel.linkMainImageId=p),f(p)}),E("click",function(){return u(s),f(t.fileManagerOpenForm=!0)}),a(),r(21,"cms-file-manager",18),_(22,"translate"),E("itemSelected",function(p){return u(s),f(t.onActionFileSelected(p))}),w("openFormChange",function(p){return u(s),T(t.fileManagerOpenForm,p)||(t.fileManagerOpenForm=p),f(p)}),a()(),r(23,"div",15)(24,"label",19),c(25),a(),r(26,"input",20,2),w("ngModelChange",function(p){return u(s),T(t.dataModel.title,p)||(t.dataModel.title=p),f(p)}),a(),S(28,cx,1,0,"i",21)(29,px,1,0,"i",22),r(30,"em"),c(31),a(),S(32,mx,5,3,"mat-error",23),a(),S(33,ux,7,10,"div",24)(34,fx,11,11,"div",24),r(35,"div",15)(36,"label",25),c(37),a(),r(38,"textarea",26,3),w("ngModelChange",function(p){return u(s),T(t.dataModel.description,p)||(t.dataModel.description=p),f(p)}),c(40,"            "),a(),r(41,"em"),c(42),a(),S(43,_x,5,3,"mat-error",23),a(),S(44,gx,9,7,"div",27),a()()()}if(i&2){let s=k(27),h=k(39);o(),d("optionsInfoAreaId",t.constructorInfoAreaId),o(3),y(" ",t.formInfo.formTitle," "),o(2),y(" ",g(7,36,"TITLE.Be_Careful_When_Entering_Information")," "),o(5),d("href",x(g(12,38,t.dataModel.linkMainImageIdSrc)),j),o(2),d("ngIf",(t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0),o(3),M(g(17,40,"TITLE.PICTURE")),o(2),d("placeholder",x(g(20,42,"TITLE.Original_File_ID"))),b("ngModel",t.dataModel.linkMainImageId),o(3),d("language",t.appLanguage)("isPopup",!0)("openSelectFileDescription",g(22,44,"TITLE.The_dimensions_of_the_photo_should_be_600_x_600")),b("openForm",t.fileManagerOpenForm),d("tree",t.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",t.selectFileTypeMainImage)("openFilemanagerButtonView",!1),o(4),M(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),b("ngModel",t.dataModel.title),o(2),d("ngIf",!s.value),o(),d("ngIf",s.value),o(2),y("",s.value.length," / 100"),o(),d("ngIf",s.errors==null?null:s.errors.required),o(),d("ngIf",t.fieldsInfo.iconFont==null?null:t.fieldsInfo.iconFont.accessWatchField),o(),d("ngIf",t.fieldsInfo.iconColor==null?null:t.fieldsInfo.iconColor.accessWatchField),o(3),M(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),b("ngModel",t.dataModel.description),o(4),y("",h.value.length," / 500"),o(),d("ngIf",h.errors==null?null:h.errors.required),o(),d("ngIf",t.formInfo.formSubmitAllow)}},dependencies:[se,N,ke,Y,q,Te,de,De,Ae,ce,Pe,we,et,Q,U,ni,$t,Xt,Jt,ut,O,Ie],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});var Vc=ql;var hx=["vform"],yx=()=>["fa"];function Cx(n,l){if(n&1&&(C(0,"img",28),_(1,"cmsthumbnail")),n&2){let e=m();d("src",x(g(1,2,e.dataModel.linkMainImageIdSrc)),j)}}function Sx(n,l){n&1&&C(0,"i",29)}function vx(n,l){n&1&&C(0,"i",30)}function Ex(n,l){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),_(4,"translate"),a()()),n&2){let e=m();o(),y(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," is "),o(2),M(g(4,2,"MESSAGE.required"))}}function Ix(n,l){if(n&1){let e=I();r(0,"div",15)(1,"label",31),c(2),a(),r(3,"input",32,4),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.iconFont,t)||(s.dataModel.iconFont=t),f(t)}),E("iconPickerSelect",function(t){u(e);let s=m();return f(s.onIconPickerSelect(t))}),a(),r(5,"span",33),C(6,"i",34),a()()}if(n&2){let e=m();o(2),M(e.fieldsInfo.iconFont==null?null:e.fieldsInfo.iconFont.fieldTitle),o(),d("placeholder",x(e.fieldsInfo.iconFont==null?null:e.fieldsInfo.iconFont.fieldTitle)),b("ngModel",e.dataModel.iconFont),d("iconPicker",e.dataModel.iconFont)("ipIconPack",le(9,yx))("ipPosition","top")("disabled",!(e.fieldsInfo.iconFont!=null&&e.fieldsInfo.iconFont.accessEditField)),o(3),d("ngClass",e.dataModel.iconFont)}}function Mx(n,l){if(n&1){let e=I();r(0,"div",15)(1,"label",35),c(2),a(),r(3,"div",36)(4,"div",37)(5,"input",38,5),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.iconColor,t)||(s.dataModel.iconColor=t),f(t)}),a()(),r(7,"div",39),C(8,"ngx-mat-color-toggle",40)(9,"ngx-mat-color-picker",41,6),a()()()}if(n&2){let e=k(10),i=m();o(2),M(i.fieldsInfo.iconColor==null?null:i.fieldsInfo.iconColor.fieldTitle),o(3),ye("background",i.dataModel.iconColor),d("placeholder",x(i.fieldsInfo.iconColor==null?null:i.fieldsInfo.iconColor.fieldTitle)),b("ngModel",i.dataModel.iconColor),d("ngxMatColorPicker",e)("disabled",!(i.fieldsInfo.iconColor!=null&&i.fieldsInfo.iconColor.accessEditField)),o(3),d("for",e),o(),d("touchUi",!0)("color","primary")}}function bx(n,l){n&1&&(r(0,"mat-error"),c(1," Description is "),r(2,"strong"),c(3),_(4,"translate"),a()()),n&2&&(o(3),M(g(4,1,"MESSAGE.required")))}function Tx(n,l){if(n&1){let e=I();r(0,"div",42)(1,"button",43),E("click",function(){u(e);let t=m();return f(t.onFormCancel())}),C(2,"i",44),c(3),_(4,"translate"),a(),r(5,"button",45),C(6,"i",46),c(7),_(8,"translate"),a()()}if(n&2){m();let e=k(9);o(3),y(" ",g(4,3,"ACTION.CANCEL")," "),o(2),d("disabled",!e.form.valid),o(2),y(" ",g(8,5,"ACTION.SAVE")," ")}}var Ql=class Ql extends Bt{constructor(e,i,t,s,h,p,D,z,he){super(s,new br,D,he);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.estateCategoryRackService=s;this.estatePropertyTypeService=h;this.cmsToastrService=p;this.publicHelper=D;this.cdr=z;this.translate=he;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new Ft;this.dataModel=new br;this.formInfo=new me;this.fileManagerOpenForm=!1;this.dataEstatePropertyTypeUsageIds=[];this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.DataGetAllEstatePropertyUsage()}onActionFileSelected(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estateCategoryRackService.setAccessLoad(),this.estateCategoryRackService.setAccessDataType(Be.Editor),this.estateCategoryRackService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataGetAllEstatePropertyUsage(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(s=>{this.formInfo.formAlert=s}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(s=>{this.publicHelper.processService.processStart(e,s,this.constructorInfoAreaId)});let i=new pe,t=new H;t.propertyName="LinkCategoryRackId",t.value=this.requestId,i.filters.push(t),this.estatePropertyTypeService.ServiceGetAll(i).subscribe({next:s=>{this.dataEstatePropertyTypeModel=s.listItems;let h=[];this.dataEstatePropertyTypeModel.forEach(p=>{h.push(p.linkPropertyTypeUsageId)}),this.dataEstatePropertyTypeUsageIds=h,s.isSuccess?this.formInfo.formAlert="":(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(p=>{this.formInfo.formAlert=p}),this.formInfo.formError=s.errorMessage,this.cmsToastrService.typeErrorMessage(s.errorMessage)),this.publicHelper.processService.processStop(e)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.dataModel.iconColor=this.dataModel.iconColor?.toString(),this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estateCategoryRackService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.formAlert=t}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e),this.formInfo.formSubmitAllow=!0},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorUserCategorySelect(e){this.dataEstatePropertyTypeUsageModel=e}onIconPickerSelect(e){this.dataModel.iconFont=e}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Ql.\u0275fac=function(i){return new(i||Ql)(v(be),v(Me),v(J),v(Vr),v(dn),v(V),v(F),v(B),v(L))},Ql.\u0275cmp=R({type:Ql,selectors:[["app-estate-category-rack-edit"]],viewQuery:function(i,t){if(i&1&&ee(hx,5),i&2){let s;te(s=ie())&&(t.formGroup=s.first)}},standalone:!1,features:[ne],decls:45,vars:46,consts:[["vform","ngForm"],["LinkMainImageId",""],["Title",""],["Description",""],["IconFont",""],["iconColor",""],["iconColorPicker",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openSelectFileDescription","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","fa fa-times  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],[4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","form-actions",4,"ngIf"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.iconFont",1,"color-highlight"],["matInput","","type","text","name","dataModel.iconFont","type","text","id","dataModel.iconFont",1,"form-control","validate-name",3,"ngModelChange","iconPickerSelect","ngModel","iconPicker","ipIconPack","ipPosition","placeholder","disabled"],[1,"input-group-addon"],[3,"ngClass"],["for","dataModel.iconColor",1,"color-highlight"],[1,"row","mb-0"],[1,"col-11","pe-0"],["matInput","","type","text","name","dataModel.iconColor","type","text","id","dataModel.iconColor",1,"form-control","validate-name",3,"ngModelChange","ngModel","ngxMatColorPicker","placeholder","disabled"],[1,"col-1","ps-0"],["matSuffix","",3,"for"],[3,"touchUi","color"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=I();r(0,"div",7),C(1,"app-progress-spinner",8),r(2,"div",9)(3,"p",10),c(4),a(),r(5,"p"),c(6),_(7,"translate"),a(),r(8,"form",11,0),E("ngSubmit",function(){return u(s),f(t.onFormSubmit())}),r(10,"div",12)(11,"a",13),_(12,"cmsthumbnail"),S(13,Cx,2,4,"img",14),a()(),r(14,"div",15)(15,"label",16),E("click",function(){return u(s),f(t.fileManagerOpenForm=!0)}),c(16),_(17,"translate"),a(),r(18,"input",17,1),_(20,"translate"),w("ngModelChange",function(p){return u(s),T(t.dataModel.linkMainImageId,p)||(t.dataModel.linkMainImageId=p),f(p)}),E("click",function(){return u(s),f(t.fileManagerOpenForm=!0)}),a(),r(21,"cms-file-manager",18),_(22,"translate"),E("itemSelected",function(p){return u(s),f(t.onActionFileSelected(p))}),w("openFormChange",function(p){return u(s),T(t.fileManagerOpenForm,p)||(t.fileManagerOpenForm=p),f(p)}),a()(),r(23,"div",15)(24,"label",19),c(25),a(),r(26,"input",20,2),w("ngModelChange",function(p){return u(s),T(t.dataModel.title,p)||(t.dataModel.title=p),f(p)}),a(),S(28,Sx,1,0,"i",21)(29,vx,1,0,"i",22),r(30,"em"),c(31),a(),S(32,Ex,5,4,"mat-error",23),a(),S(33,Ix,7,10,"div",24)(34,Mx,11,11,"div",24),r(35,"div",15)(36,"label",25),c(37),a(),r(38,"textarea",26,3),w("ngModelChange",function(p){return u(s),T(t.dataModel.description,p)||(t.dataModel.description=p),f(p)}),c(40,"          "),a(),r(41,"em"),c(42),a(),S(43,bx,5,3,"mat-error",23),a(),S(44,Tx,9,7,"div",27),a()()()}if(i&2){let s=k(27),h=k(39);o(),d("optionsInfoAreaId",t.constructorInfoAreaId),o(3),y(" ",t.formInfo.formTitle," "),o(2),y(" ",g(7,36,"TITLE.Be_Careful_When_Entering_Information")," "),o(5),d("href",x(g(12,38,t.dataModel.linkMainImageIdSrc)),j),o(2),d("ngIf",(t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0),o(3),M(g(17,40,"TITLE.PICTURE")),o(2),d("placeholder",x(g(20,42,"TITLE.Original_File_ID"))),b("ngModel",t.dataModel.linkMainImageId),o(3),d("language",t.appLanguage)("isPopup",!0)("openSelectFileDescription",g(22,44,"TITLE.The_dimensions_of_the_photo_should_be_600_x_600")),b("openForm",t.fileManagerOpenForm),d("tree",t.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",t.selectFileTypeMainImage)("openFilemanagerButtonView",!1),o(4),M(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),b("ngModel",t.dataModel.title),o(2),d("ngIf",!s.value),o(),d("ngIf",s.value),o(2),y("",s.value.length," / 100"),o(),d("ngIf",s.errors==null?null:s.errors.required),o(),d("ngIf",t.fieldsInfo.iconFont==null?null:t.fieldsInfo.iconFont.accessWatchField),o(),d("ngIf",t.fieldsInfo.iconColor==null?null:t.fieldsInfo.iconColor.accessWatchField),o(3),M(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),b("ngModel",t.dataModel.description),o(4),y("",h.value.length," / 500"),o(),d("ngIf",h.errors==null?null:h.errors.required),o(),d("ngIf",t.formInfo.formSubmitAllow)}},dependencies:[se,N,ke,Y,q,Te,de,De,Ae,ce,Pe,we,et,Q,U,ni,$t,Xt,Jt,ut,O,Ie],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});var Oc=Ql;var wx=()=>[5,10,20,100],xx=n=>({background:n});function Ax(n,l){if(n&1){let e=I();r(0,"div",17)(1,"a",40),E("click",function(){u(e);let t=m();return f(t.onActionButtonNewRow())}),C(2,"i",41)(3,"br"),a(),r(4,"p",20),c(5),_(6,"translate"),a()()}n&2&&(o(5),M(g(6,1,"ACTION.ADD")))}function Px(n,l){if(n&1){let e=I();r(0,"div",17)(1,"a",42),E("click",function(){u(e);let t=m();return f(t.onActionButtonEditRow(t.tableRowSelected))}),C(2,"i",43)(3,"br"),a(),r(4,"p",20),c(5),_(6,"translate"),a()()}n&2&&(o(5),M(g(6,1,"ACTION.EDIT")))}function kx(n,l){if(n&1){let e=I();r(0,"div",17)(1,"a",44),E("click",function(){u(e);let t=m();return f(t.onActionButtonDeleteRow(t.tableRowSelected))}),C(2,"i",45)(3,"br"),a(),r(4,"p",20),c(5),_(6,"translate"),a()()}n&2&&(o(5),M(g(6,1,"ACTION.DELETE")))}function Dx(n,l){n&1&&(r(0,"mat-header-cell",46),c(1),_(2,"translate"),a()),n&2&&(o(),y(" ",g(2,1,"TITLE.PICTURE")," "))}function Rx(n,l){if(n&1&&(C(0,"img",48),_(1,"cmsthumbnail")),n&2){let e=m().$implicit;d("src",x(g(1,2,e.linkMainImageIdSrc)),j)}}function Lx(n,l){if(n&1&&(r(0,"mat-cell"),S(1,Rx,2,4,"img",47),a()),n&2){let e=l.$implicit;o(),d("ngIf",(e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0)}}function Vx(n,l){if(n&1&&(r(0,"mat-header-cell",46),c(1),a()),n&2){let e=m();o(),y(" ",e.fieldsInfo.iconFont==null?null:e.fieldsInfo.iconFont.fieldTitle," ")}}function Ox(n,l){if(n&1&&(r(0,"mat-cell"),C(1,"i",49),a()),n&2){let e=l.$implicit;o(),ye("color",e.iconColor),d("ngClass",e.iconFont)}}function Fx(n,l){if(n&1&&(r(0,"mat-header-cell",46),c(1),a()),n&2){let e=m();o(),y(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function Bx(n,l){if(n&1&&(r(0,"mat-cell"),C(1,"i",49),a()),n&2){let e=l.$implicit;o(),ye("color",e.iconColor),d("ngClass",e.iconFont)}}function Nx(n,l){if(n&1&&(r(0,"mat-header-cell",46),c(1),a()),n&2){let e=m();o(),y(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," ")}}function Hx(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),y(" ",e.title," ")}}function Wx(n,l){if(n&1&&(r(0,"mat-header-cell",46),c(1),a()),n&2){let e=m();o(),y(" ",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle," ")}}function Gx(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),y(" ",e.description," ")}}function Ux(n,l){n&1&&(r(0,"mat-header-cell"),c(1),_(2,"translate"),a()),n&2&&(o(),y(" ",g(2,1,"TITLE.OPTION")," "))}function jx(n,l){if(n&1&&(r(0,"mat-cell",50)(1,"button",51)(2,"mat-icon"),c(3,"more_vert"),a()(),C(4,"mat-menu",null,2),a()),n&2){let e=k(5);o(),d("matMenuTriggerFor",e)}}function qx(n,l){n&1&&C(0,"mat-header-row")}function Qx(n,l){if(n&1){let e=I();r(0,"mat-row",52),E("click",function(){let t=u(e).$implicit,s=m();return f(s.onActionTableRowSelect(t))}),a()}if(n&2){let e=l.$implicit,i=l.dataIndex,t=m();Se("ntk-row-odd",i%2)("ntk-row-even",!(i%2)),d("ngStyle",ze(5,xx,e.id===(t.tableRowSelected==null?null:t.tableRowSelected.id)?"#d3d3da":""))}}var zl=class zl extends bt{constructor(e,i,t,s,h,p,D,z,he,je,Ge,mt){super(e,new br,Ge,h,D);this.contentService=e;this.cmsConfirmationDialogService=i;this.cmsToastrService=t;this.router=s;this.tokenHelper=h;this.cdr=p;this.translate=D;this.themeService=z;this.cmsStoreService=he;this.pageInfo=je;this.publicHelper=Ge;this.dialog=mt;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new pe;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["LinkMainImageIdSrc","IconFont","Description"];this.tabledisplayedColumnsMobileSource=["LinkMainImageIdSrc","IconFont","Description"];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:Nt=>this.onSubmitOptionsSearch(Nt)},this.filteModelContent.sortColumn="Id",this.filteModelContent.sortType=X.Descending}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.cmsApiStoreSubscribe=this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>re(this,null,function*(){this.tokenInfo=e,this.DataGetAll()}))}ngOnDestroy(){this.cmsApiStoreSubscribe&&this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new br);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),t.isSuccess?(this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=X.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=X.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=X.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(Vc,{height:"90%",panelClass:e,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Oc,{height:"90%",panelClass:i,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(s=>{this.cmsToastrService.typeErrorSelected(s)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(s=>{i=s["MESSAGE.Please_Confirm"],t=s["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(s=>{if(s){let h=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(p=>{this.publicHelper.processService.processStart(h,p,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:p=>{p.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(h)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(h,!1)}})}}).catch(()=>{})}onActionButtonContentDetailList(e=this.tableRowSelected,i){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}this.onActionTableRowSelect(e),i?.ctrlKey?(this.link="/#/estate/property-detail/LinkCategoryRackId/"+this.tableRowSelected.id,window.open(this.link,"_blank")):this.router.navigate(["/estate/property-detail/LinkCategoryRackId/",this.tableRowSelected.id])}onActionButtonContentList(e=this.tableRowSelected,i){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}this.onActionTableRowSelect(e),i?.ctrlKey?(this.link="/#/estate/property/LinkCategoryRackId/"+this.tableRowSelected.id,window.open(this.link,"_blank")):this.router.navigate(["/estate/property/LinkCategoryRackId/",this.tableRowSelected.id])}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(p=>{i.set(p,0)}),this.translate.get("MESSAGE.All").subscribe(p=>{i.set(p,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(p=>{this.publicHelper.processService.processStart(t,p,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:p=>{p.isSuccess?(this.translate.get("MESSAGE.All").subscribe(D=>{i.set(D,p.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(p.errorMessage),this.publicHelper.processService.processStop(t)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(t,!1)}});let s=JSON.parse(JSON.stringify(this.filteModelContent)),h=new H;h.propertyName="RecordStatus",h.value=qe.Available,s.filters.push(h),this.contentService.ServiceGetCount(s).subscribe({next:p=>{p.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(D=>{i.set(D,p.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(p.errorMessage),this.publicHelper.processService.processStop(t)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0&&(this.filteModelContent.filters=[...this.filteModelContent.filters,...e]),this.DataGetAll()}};zl.\u0275fac=function(i){return new(i||zl)(v(Vr),v(Mt),v(V),v(Ze),v(K),v(B),v(L),v(kt),v(Z),v(ht),v(F),v(xe))},zl.\u0275cmp=R({type:zl,selectors:[["app-estate-category-rack-list"]],standalone:!1,features:[ne],decls:67,vars:34,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-memo-circle-info","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-buildings","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","LinkMainImageIdSrc"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","IconFont"],["matColumnDef","Id"],["matColumnDef","Title"],["matColumnDef","Description"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ngStyle","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],["style","vertical-align: middle","class","ntk-hover-zoom","aria-hidden","","height","40","width","40",3,"src",4,"ngIf"],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["aria-hidden","true",3,"ngClass"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[3,"click","ngStyle"]],template:function(i,t){if(i&1){let s=I();r(0,"app-cms-html-list",3),w("optionActionGuideNoticeDisplayChange",function(p){return u(s),T(t.viewGuideNotice,p)||(t.viewGuideNotice=p),f(p)}),E("optionOnActionButtonMemoRow",function(){return u(s),f(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return u(s),f(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return u(s),f(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return u(s),f(t.onActionButtonPrintRow())}),A(1,4),c(2," -------------------------------------- "),P(),Qe(3,5)(4,6),A(5,7),r(6,"a",8),E("click",function(){return u(s),f(t.viewGuideNotice=!t.viewGuideNotice)}),C(7,"i",9),a(),r(8,"a",8),E("click",function(){return u(s),f(t.onActionButtonReload())}),C(9,"i",10),a(),P(),A(10,11),r(11,"a",12),E("click",function(){return u(s),f(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),C(12,"mat-slide-toggle",13),c(13),_(14,"translate"),a(),r(15,"a",12),E("click",function(){return u(s),f(t.onActionButtonStatist())}),C(16,"mat-slide-toggle",13),c(17),_(18,"translate"),a(),P(),A(19,14),S(20,Ax,7,3,"div",15),P(),A(21,16),S(22,Px,7,3,"div",15)(23,kx,7,3,"div",15),r(24,"div",17)(25,"a",18),E("click",function(p){return u(s),f(t.onActionButtonContentDetailList(t.tableRowSelected,p))}),C(26,"i",19)(27,"br"),a(),r(28,"p",20),c(29),_(30,"translate"),a()(),r(31,"div",17)(32,"a",18),E("click",function(p){return u(s),f(t.onActionButtonContentList(t.tableRowSelected,p))}),C(33,"i",21)(34,"br"),a(),r(35,"p",20),c(36),_(37,"translate"),a()(),P(),A(38,22),r(39,"app-cms-search-list",23),w("optionsChange",function(p){return u(s),T(t.optionsSearch,p)||(t.optionsSearch=p),f(p)}),a(),r(40,"app-cms-statist-list",23),w("optionsChange",function(p){return u(s),T(t.optionsStatist,p)||(t.optionsStatist=p),f(p)}),a(),P(),A(41,24),r(42,"mat-table",25,0),E("matSortChange",function(){u(s);let p=k(43);return f(t.onTableSortData(p))}),A(44,26),S(45,Dx,3,3,"mat-header-cell",27)(46,Lx,2,1,"mat-cell",28),P(),A(47,29),S(48,Vx,2,1,"mat-header-cell",27)(49,Ox,2,3,"mat-cell",28),P(),A(50,30),S(51,Fx,2,1,"mat-header-cell",27)(52,Bx,2,3,"mat-cell",28),P(),A(53,31),S(54,Nx,2,1,"mat-header-cell",27)(55,Hx,2,1,"mat-cell",28),P(),A(56,32),S(57,Wx,2,1,"mat-header-cell",27)(58,Gx,2,1,"mat-cell",28),P(),A(59,33),S(60,Ux,3,3,"mat-header-cell",34)(61,jx,6,1,"mat-cell",35),P(),S(62,qx,1,0,"mat-header-row",36)(63,Qx,1,7,"mat-row",37),a(),P(),A(64,38),r(65,"mat-paginator",39,1),E("page",function(p){return u(s),f(t.onTablePageingData(p))}),a(),P(),a()}i&2&&(d("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),b("optionActionGuideNoticeDisplay",t.viewGuideNotice),d("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelectDoubleClick)("optionSelectRowItemTitle",(t.tableRowSelected==null||t.tableRowSelected.title==null?null:t.tableRowSelected.title.length)>0?t.tableRowSelected==null?null:t.tableRowSelected.title:t.tableRowSelected==null?null:t.tableRowSelected.id),o(12),d("checked",t.optionsSearch.data.show),o(),y("",g(14,25,"ACTION.SEARCH")," "),o(3),d("checked",t.optionsStatist.data.show),o(),y("",g(18,27,"ACTION.STATIST")," "),o(3),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessAddRow),o(2),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),o(),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),o(6),M(g(30,29,"ACTION.DETAIL")),o(7),M(g(37,31,"ACTION.PROPERTYLIST")),o(3),b("options",t.optionsSearch),o(),b("options",t.optionsStatist),o(2),d("dataSource",t.tableSource),o(20),d("matHeaderRowDef",t.tabledisplayedColumns),o(),d("matRowDefColumns",t.tabledisplayedColumns),o(2),d("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",le(33,wx)))},dependencies:[se,N,tt,Je,Ee,At,Pt,vt,gt,Et,It,it,ot,st,rt,nt,dt,at,lt,ct,pt,Tt,wt,xt,O,Ie],encapsulation:2});var Fc=zl;var zx=["vform"],Yx=()=>["fa"];function Kx(n,l){if(n&1&&(C(0,"img",29),_(1,"cmsthumbnail")),n&2){let e=m();d("src",x(g(1,2,e.dataModel.linkMainImageIdSrc)),j)}}function Zx(n,l){n&1&&C(0,"i",30)}function Jx(n,l){n&1&&C(0,"i",31)}function Xx(n,l){n&1&&(r(0,"mat-error"),c(1," Title is "),r(2,"strong"),c(3),_(4,"translate"),a()()),n&2&&(o(3),M(g(4,1,"MESSAGE.required")))}function $x(n,l){if(n&1){let e=I();r(0,"div",15)(1,"label",32),c(2),a(),r(3,"input",33,4),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.iconFont,t)||(s.dataModel.iconFont=t),f(t)}),E("iconPickerSelect",function(t){u(e);let s=m();return f(s.onIconPickerSelect(t))}),a(),r(5,"span",34),C(6,"i",35),a()()}if(n&2){let e=m();o(2),M(e.fieldsInfo.iconFont==null?null:e.fieldsInfo.iconFont.fieldTitle),o(),d("placeholder",x(e.fieldsInfo.iconFont==null?null:e.fieldsInfo.iconFont.fieldTitle)),b("ngModel",e.dataModel.iconFont),d("iconPicker",e.dataModel.iconFont)("ipIconPack",le(9,Yx))("ipPosition","top")("disabled",!(e.fieldsInfo.iconFont!=null&&e.fieldsInfo.iconFont.accessAddField)),o(3),d("ngClass",e.dataModel.iconFont)}}function e3(n,l){if(n&1){let e=I();r(0,"div",15)(1,"label",36),c(2),a(),r(3,"div",37)(4,"div",38)(5,"input",39,5),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.iconColor,t)||(s.dataModel.iconColor=t),f(t)}),a()(),r(7,"div",40),C(8,"ngx-mat-color-toggle",41)(9,"ngx-mat-color-picker",42,6),a()()()}if(n&2){let e=k(10),i=m();o(2),M(i.fieldsInfo.iconColor==null?null:i.fieldsInfo.iconColor.fieldTitle),o(3),ye("background",i.dataModel.iconColor),d("placeholder",x(i.fieldsInfo.iconColor==null?null:i.fieldsInfo.iconColor.fieldTitle)),b("ngModel",i.dataModel.iconColor),d("ngxMatColorPicker",e)("disabled",!(i.fieldsInfo.iconColor!=null&&i.fieldsInfo.iconColor.accessAddField)),o(3),d("for",e),o(),d("touchUi",!0)("color","primary")}}function t3(n,l){n&1&&(r(0,"mat-error"),c(1," Description is "),r(2,"strong"),c(3),_(4,"translate"),a()()),n&2&&(o(3),M(g(4,1,"MESSAGE.required")))}function i3(n,l){if(n&1){let e=I();r(0,"div",43)(1,"button",44),E("click",function(){u(e);let t=m();return f(t.onFormCancel())}),C(2,"i",45),c(3),_(4,"translate"),a(),r(5,"button",46),C(6,"i",47),c(7),_(8,"translate"),a()()}if(n&2){m();let e=k(9);o(3),y(" ",g(4,3,"ACTION.CANCEL")," "),o(2),d("disabled",!e.form.valid),o(2),y(" ",g(8,5,"ACTION.SAVE")," ")}}var Yl=class Yl extends Dt{constructor(e,i,t,s,h,p,D,z){super(s,new Tr,p,z);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.estateCategoryZoneService=s;this.cmsToastrService=h;this.publicHelper=p;this.cdr=D;this.translate=z;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new G;this.dataModel=new Tr;this.formInfo=new me;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess()}onActionFileSelected(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)});this.dataModel.iconColor=this.dataModel.iconColor?.toString(),this.estateCategoryZoneService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.formAlert=t}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e),this.formInfo.formSubmitAllow=!0},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onIconPickerSelect(e){this.dataModel.iconFont=e}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}onActionSelectorLocation(e){this.dataModel.linkLocationIds=e}};Yl.\u0275fac=function(i){return new(i||Yl)(v(be),v(Me),v(J),v(Or),v(V),v(F),v(B),v(L))},Yl.\u0275cmp=R({type:Yl,selectors:[["app-estate-category-zone-add"]],viewQuery:function(i,t){if(i&1&&ee(zx,5),i&2){let s;te(s=ie())&&(t.formGroup=s.first)}},standalone:!1,features:[ne],decls:50,vars:57,consts:[["vform","ngForm"],["LinkMainImageId",""],["Title",""],["Description",""],["IconFont",""],["iconColor",""],["iconColorPicker",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openSelectFileDescription","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","fa fa-times  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],[4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder","optionLabel"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","form-actions",4,"ngIf"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.iconFont",1,"color-highlight"],["matInput","","type","text","name","dataModel.iconFont","type","text","id","dataModel.iconFont",1,"form-control","validate-name",3,"ngModelChange","iconPickerSelect","ngModel","iconPicker","ipIconPack","ipPosition","placeholder","disabled"],[1,"input-group-addon"],[3,"ngClass"],["for","dataModel.iconColor",1,"color-highlight"],[1,"row","mb-0"],[1,"col-11","pe-0"],["matInput","","type","text","name","dataModel.iconColor","type","text","id","dataModel.iconColor",1,"form-control","validate-name",3,"ngModelChange","ngModel","ngxMatColorPicker","placeholder","disabled"],[1,"col-1","ps-0"],["matSuffix","",3,"for"],[3,"touchUi","color"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=I();r(0,"div",7),C(1,"app-progress-spinner",8),r(2,"div",9)(3,"p",10),c(4),a(),r(5,"p"),c(6),_(7,"translate"),a(),r(8,"form",11,0),E("ngSubmit",function(){return u(s),f(t.onFormSubmit())}),r(10,"div",12)(11,"a",13),_(12,"cmsthumbnail"),S(13,Kx,2,4,"img",14),a()(),r(14,"div",15)(15,"label",16),E("click",function(){return u(s),f(t.fileManagerOpenForm=!0)}),c(16),_(17,"translate"),a(),r(18,"input",17,1),_(20,"translate"),w("ngModelChange",function(p){return u(s),T(t.dataModel.linkMainImageId,p)||(t.dataModel.linkMainImageId=p),f(p)}),E("click",function(){return u(s),f(t.fileManagerOpenForm=!0)}),a(),r(21,"cms-file-manager",18),_(22,"translate"),E("itemSelected",function(p){return u(s),f(t.onActionFileSelected(p))}),w("openFormChange",function(p){return u(s),T(t.fileManagerOpenForm,p)||(t.fileManagerOpenForm=p),f(p)}),a()(),r(23,"div",15)(24,"label",19),c(25),a(),r(26,"input",20,2),w("ngModelChange",function(p){return u(s),T(t.dataModel.title,p)||(t.dataModel.title=p),f(p)}),a(),S(28,Zx,1,0,"i",21)(29,Jx,1,0,"i",22),r(30,"em"),c(31),a(),S(32,Xx,5,3,"mat-error",23),a(),S(33,$x,7,10,"div",24)(34,e3,11,11,"div",24),c(35),_(36,"translate"),r(37,"app-cms-location-autocomplete",25),_(38,"translate"),_(39,"translate"),E("optionChange",function(p){return u(s),f(t.onActionSelectorLocation(p))}),a(),r(40,"div",15)(41,"label",26),c(42),a(),r(43,"textarea",27,3),w("ngModelChange",function(p){return u(s),T(t.dataModel.description,p)||(t.dataModel.description=p),f(p)}),c(45,"          "),a(),r(46,"em"),c(47),a(),S(48,t3,5,3,"mat-error",23),a(),S(49,i3,9,7,"div",28),a()()()}if(i&2){let s=k(27),h=k(44);o(),d("optionsInfoAreaId",t.constructorInfoAreaId),o(3),y(" ",t.formInfo.formTitle," "),o(2),y(" ",g(7,41,"TITLE.Be_Careful_When_Entering_Information")," "),o(5),d("href",x(g(12,43,t.dataModel.linkMainImageIdSrc)),j),o(2),d("ngIf",(t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0),o(3),M(g(17,45,"TITLE.PICTURE")),o(2),d("placeholder",x(g(20,47,"TITLE.Original_File_ID"))),b("ngModel",t.dataModel.linkMainImageId),o(3),d("language",t.appLanguage)("isPopup",!0)("openSelectFileDescription",g(22,49,"TITLE.The_dimensions_of_the_photo_should_be_600_x_600")),b("openForm",t.fileManagerOpenForm),d("tree",t.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",t.selectFileTypeMainImage)("openFilemanagerButtonView",!1),o(4),M(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),b("ngModel",t.dataModel.title),o(2),d("ngIf",!s.value),o(),d("ngIf",s.value),o(2),y("",s.value.length," / 100"),o(),d("ngIf",s.errors==null?null:s.errors.required),o(),d("ngIf",t.fieldsInfo.iconFont==null?null:t.fieldsInfo.iconFont.accessWatchField),o(),d("ngIf",t.fieldsInfo.iconColor==null?null:t.fieldsInfo.iconColor.accessWatchField),o(),y(" ",g(36,51,"TITLE.Geographical_Areas")," : "),o(2),d("optionDisabled",!(t.fieldsInfo.linkLocationIds!=null&&t.fieldsInfo.linkLocationIds.accessAddField))("optionSelectForce",t.dataModel.linkLocationIds)("optionPlaceholder",g(38,53,"TITLE.Region"))("optionLabel",g(39,55,"TITLE.Geographical_Areas")),o(5),M(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),b("ngModel",t.dataModel.description),o(4),y("",h.value.length," / 500"),o(),d("ngIf",h.errors==null?null:h.errors.required),o(),d("ngIf",t.formInfo.formSubmitAllow)}},dependencies:[se,N,ke,Y,q,Te,de,De,Ae,ce,Pe,we,et,Q,Qt,U,ni,$t,Xt,Jt,ut,O,Ie],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});var Bc=Yl;var n3=["vform"],o3=()=>["fa"];function r3(n,l){if(n&1&&(C(0,"img",29),_(1,"cmsthumbnail")),n&2){let e=m();d("src",x(g(1,2,e.dataModel.linkMainImageIdSrc)),j)}}function a3(n,l){n&1&&C(0,"i",30)}function l3(n,l){n&1&&C(0,"i",31)}function s3(n,l){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),_(4,"translate"),a()()),n&2){let e=m();o(),y(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," is "),o(2),M(g(4,2,"MESSAGE.required"))}}function d3(n,l){if(n&1){let e=I();r(0,"div",15)(1,"label",32),c(2),a(),r(3,"input",33,4),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.iconFont,t)||(s.dataModel.iconFont=t),f(t)}),E("iconPickerSelect",function(t){u(e);let s=m();return f(s.onIconPickerSelect(t))}),a(),r(5,"span",34),C(6,"i",35),a()()}if(n&2){let e=m();o(2),y(" ",e.fieldsInfo.iconFont==null?null:e.fieldsInfo.iconFont.fieldTitle),o(),d("placeholder",x(e.fieldsInfo.iconFont==null?null:e.fieldsInfo.iconFont.fieldTitle)),b("ngModel",e.dataModel.iconFont),d("iconPicker",e.dataModel.iconFont)("ipIconPack",le(9,o3))("ipPosition","top")("disabled",!(e.fieldsInfo.iconFont!=null&&e.fieldsInfo.iconFont.accessEditField)),o(3),d("ngClass",e.dataModel.iconFont)}}function c3(n,l){if(n&1){let e=I();r(0,"div",15)(1,"label",36),c(2),a(),r(3,"div",37)(4,"div",38)(5,"input",39,5),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.iconColor,t)||(s.dataModel.iconColor=t),f(t)}),a()(),r(7,"div",40),C(8,"ngx-mat-color-toggle",41)(9,"ngx-mat-color-picker",42,6),a()()()}if(n&2){let e=k(10),i=m();o(2),M(i.fieldsInfo.iconColor==null?null:i.fieldsInfo.iconColor.fieldTitle),o(3),ye("background",i.dataModel.iconColor),d("placeholder",x(i.fieldsInfo.iconColor==null?null:i.fieldsInfo.iconColor.fieldTitle)),b("ngModel",i.dataModel.iconColor),d("ngxMatColorPicker",e)("disabled",!(i.fieldsInfo.iconColor!=null&&i.fieldsInfo.iconColor.accessEditField)),o(3),d("for",e),o(),d("touchUi",!0)("color","primary")}}function p3(n,l){n&1&&(r(0,"mat-error"),c(1," Description is "),r(2,"strong"),c(3),_(4,"translate"),a()()),n&2&&(o(3),M(g(4,1,"MESSAGE.required")))}function m3(n,l){if(n&1){let e=I();r(0,"div",43)(1,"button",44),E("click",function(){u(e);let t=m();return f(t.onFormCancel())}),C(2,"i",45),c(3),_(4,"translate"),a(),r(5,"button",46),C(6,"i",47),c(7),_(8,"translate"),a()()}if(n&2){m();let e=k(9);o(3),y(" ",g(4,3,"ACTION.CANCEL")," "),o(2),d("disabled",!e.form.valid),o(2),y(" ",g(8,5,"ACTION.SAVE")," ")}}var Kl=class Kl extends Bt{constructor(e,i,t,s,h,p,D,z,he){super(s,new Tr,D,he);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.estateCategoryZoneService=s;this.estatePropertyTypeService=h;this.cmsToastrService=p;this.publicHelper=D;this.cdr=z;this.translate=he;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new Ft;this.dataModel=new Tr;this.formInfo=new me;this.fileManagerOpenForm=!1;this.dataEstatePropertyTypeUsageIds=[];this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.DataGetAllEstatePropertyUsage()}onActionFileSelected(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estateCategoryZoneService.setAccessLoad(),this.estateCategoryZoneService.setAccessDataType(Be.Editor),this.estateCategoryZoneService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataGetAllEstatePropertyUsage(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(s=>{this.formInfo.formAlert=s}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(s=>{this.publicHelper.processService.processStart(e,s,this.constructorInfoAreaId)});let i=new pe,t=new H;t.propertyName="LinkCategoryZoneId",t.value=this.requestId,i.filters.push(t),this.estatePropertyTypeService.ServiceGetAll(i).subscribe({next:s=>{this.dataEstatePropertyTypeModel=s.listItems;let h=[];this.dataEstatePropertyTypeModel.forEach(p=>{h.push(p.linkPropertyTypeUsageId)}),this.dataEstatePropertyTypeUsageIds=h,s.isSuccess?this.formInfo.formAlert="":(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(p=>{this.formInfo.formAlert=p}),this.formInfo.formError=s.errorMessage,this.cmsToastrService.typeErrorMessage(s.errorMessage)),this.publicHelper.processService.processStop(e)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.dataModel.iconColor=this.dataModel.iconColor?.toString(),this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estateCategoryZoneService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.formAlert=t}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e),this.formInfo.formSubmitAllow=!0},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorUserCategorySelect(e){this.dataEstatePropertyTypeUsageModel=e}onIconPickerSelect(e){this.dataModel.iconFont=e}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}onActionSelectorLocation(e){this.dataModel.linkLocationIds=e}};Kl.\u0275fac=function(i){return new(i||Kl)(v(be),v(Me),v(J),v(Or),v(dn),v(V),v(F),v(B),v(L))},Kl.\u0275cmp=R({type:Kl,selectors:[["app-estate-category-zone-edit"]],viewQuery:function(i,t){if(i&1&&ee(n3,5),i&2){let s;te(s=ie())&&(t.formGroup=s.first)}},standalone:!1,features:[ne],decls:50,vars:57,consts:[["vform","ngForm"],["LinkMainImageId",""],["Title",""],["Description",""],["IconFont",""],["iconColor",""],["iconColorPicker",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openSelectFileDescription","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","fa fa-times  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],[4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder","optionLabel"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","form-actions",4,"ngIf"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.iconFont",1,"color-highlight"],["matInput","","type","text","name","dataModel.iconFont","type","text","id","dataModel.iconFont",1,"form-control","validate-name",3,"ngModelChange","iconPickerSelect","ngModel","iconPicker","ipIconPack","ipPosition","placeholder","disabled"],[1,"input-group-addon"],[3,"ngClass"],["for","dataModel.iconColor",1,"color-highlight"],[1,"row","mb-0"],[1,"col-11","pe-0"],["matInput","","type","text","name","dataModel.iconColor","type","text","id","dataModel.iconColor",1,"form-control","validate-name",3,"ngModelChange","ngModel","ngxMatColorPicker","placeholder","disabled"],[1,"col-1","ps-0"],["matSuffix","",3,"for"],[3,"touchUi","color"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=I();r(0,"div",7),C(1,"app-progress-spinner",8),r(2,"div",9)(3,"p",10),c(4),a(),r(5,"p"),c(6),_(7,"translate"),a(),r(8,"form",11,0),E("ngSubmit",function(){return u(s),f(t.onFormSubmit())}),r(10,"div",12)(11,"a",13),_(12,"cmsthumbnail"),S(13,r3,2,4,"img",14),a()(),r(14,"div",15)(15,"label",16),E("click",function(){return u(s),f(t.fileManagerOpenForm=!0)}),c(16),_(17,"translate"),a(),r(18,"input",17,1),_(20,"translate"),w("ngModelChange",function(p){return u(s),T(t.dataModel.linkMainImageId,p)||(t.dataModel.linkMainImageId=p),f(p)}),E("click",function(){return u(s),f(t.fileManagerOpenForm=!0)}),a(),r(21,"cms-file-manager",18),_(22,"translate"),E("itemSelected",function(p){return u(s),f(t.onActionFileSelected(p))}),w("openFormChange",function(p){return u(s),T(t.fileManagerOpenForm,p)||(t.fileManagerOpenForm=p),f(p)}),a()(),r(23,"div",15)(24,"label",19),c(25),a(),r(26,"input",20,2),w("ngModelChange",function(p){return u(s),T(t.dataModel.title,p)||(t.dataModel.title=p),f(p)}),a(),S(28,a3,1,0,"i",21)(29,l3,1,0,"i",22),r(30,"em"),c(31),a(),S(32,s3,5,4,"mat-error",23),a(),S(33,d3,7,10,"div",24)(34,c3,11,11,"div",24),c(35),_(36,"translate"),r(37,"app-cms-location-autocomplete",25),_(38,"translate"),_(39,"translate"),E("optionChange",function(p){return u(s),f(t.onActionSelectorLocation(p))}),a(),r(40,"div",15)(41,"label",26),c(42),a(),r(43,"textarea",27,3),w("ngModelChange",function(p){return u(s),T(t.dataModel.description,p)||(t.dataModel.description=p),f(p)}),c(45,"      "),a(),r(46,"em"),c(47),a(),S(48,p3,5,3,"mat-error",23),a(),S(49,m3,9,7,"div",28),a()()()}if(i&2){let s=k(27),h=k(44);o(),d("optionsInfoAreaId",t.constructorInfoAreaId),o(3),y(" ",t.formInfo.formTitle," "),o(2),y(" ",g(7,41,"TITLE.Be_Careful_When_Entering_Information")," "),o(5),d("href",x(g(12,43,t.dataModel.linkMainImageIdSrc)),j),o(2),d("ngIf",(t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0),o(3),M(g(17,45,"TITLE.PICTURE")),o(2),d("placeholder",x(g(20,47,"TITLE.Original_File_ID"))),b("ngModel",t.dataModel.linkMainImageId),o(3),d("language",t.appLanguage)("isPopup",!0)("openSelectFileDescription",g(22,49,"TITLE.The_dimensions_of_the_photo_should_be_600_x_600")),b("openForm",t.fileManagerOpenForm),d("tree",t.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",t.selectFileTypeMainImage)("openFilemanagerButtonView",!1),o(4),M(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),b("ngModel",t.dataModel.title),o(2),d("ngIf",!s.value),o(),d("ngIf",s.value),o(2),y("",s.value.length," / 100"),o(),d("ngIf",s.errors==null?null:s.errors.required),o(),d("ngIf",t.fieldsInfo.iconFont==null?null:t.fieldsInfo.iconFont.accessWatchField),o(),d("ngIf",t.fieldsInfo.iconColor==null?null:t.fieldsInfo.iconColor.accessWatchField),o(),y(" ",g(36,51,"TITLE.Geographical_Areas")," : "),o(2),d("optionDisabled",!(t.fieldsInfo.linkLocationIds!=null&&t.fieldsInfo.linkLocationIds.accessEditField))("optionSelectForce",t.dataModel.linkLocationIds)("optionPlaceholder",g(38,53,"TITLE.Region"))("optionLabel",g(39,55,"TITLE.Geographical_Areas")),o(5),M(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),b("ngModel",t.dataModel.description),o(4),y("",h.value.length," / 500"),o(),d("ngIf",h.errors==null?null:h.errors.required),o(),d("ngIf",t.formInfo.formSubmitAllow)}},dependencies:[se,N,ke,Y,q,Te,de,De,Ae,ce,Pe,we,et,Q,Qt,U,ni,$t,Xt,Jt,ut,O,Ie],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});var Nc=Kl;var u3=()=>[5,10,20,100];function f3(n,l){if(n&1){let e=I();r(0,"div",17)(1,"a",40),E("click",function(){u(e);let t=m();return f(t.onActionButtonNewRow())}),C(2,"i",41)(3,"br"),a(),r(4,"p",20),c(5),_(6,"translate"),a()()}n&2&&(o(5),M(g(6,1,"ACTION.ADD")))}function _3(n,l){if(n&1){let e=I();r(0,"div",17)(1,"a",42),E("click",function(){u(e);let t=m();return f(t.onActionButtonEditRow(t.tableRowSelected))}),C(2,"i",43)(3,"br"),a(),r(4,"p",20),c(5),_(6,"translate"),a()()}n&2&&(o(5),M(g(6,1,"ACTION.EDIT")))}function g3(n,l){if(n&1){let e=I();r(0,"div",17)(1,"a",44),E("click",function(){u(e);let t=m();return f(t.onActionButtonDeleteRow(t.tableRowSelected))}),C(2,"i",45)(3,"br"),a(),r(4,"p",20),c(5),_(6,"translate"),a()()}n&2&&(o(5),M(g(6,1,"ACTION.DELETE")))}function h3(n,l){n&1&&(r(0,"mat-header-cell",46),c(1),_(2,"translate"),a()),n&2&&(o(),y(" ",g(2,1,"TITLE.PICTURE")," "))}function y3(n,l){if(n&1&&(C(0,"img",48),_(1,"cmsthumbnail")),n&2){let e=m().$implicit;d("src",x(g(1,2,e.linkMainImageIdSrc)),j)}}function C3(n,l){if(n&1&&(r(0,"mat-cell"),S(1,y3,2,4,"img",47),a()),n&2){let e=l.$implicit;o(),d("ngIf",(e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0)}}function S3(n,l){if(n&1&&(r(0,"mat-header-cell",46),c(1),a()),n&2){let e=m();o(),y(" ",e.fieldsInfo.iconFont==null?null:e.fieldsInfo.iconFont.fieldTitle," ")}}function v3(n,l){if(n&1&&(r(0,"mat-cell"),C(1,"i",49),a()),n&2){let e=l.$implicit;o(),ye("color",e.iconColor),d("ngClass",e.iconFont)}}function E3(n,l){if(n&1&&(r(0,"mat-header-cell",46),c(1),a()),n&2){let e=m();o(),y(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function I3(n,l){if(n&1&&(r(0,"mat-cell"),C(1,"i",49),a()),n&2){let e=l.$implicit;o(),ye("color",e.iconColor),d("ngClass",e.iconFont)}}function M3(n,l){if(n&1&&(r(0,"mat-header-cell",46),c(1),a()),n&2){let e=m();o(),y(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," ")}}function b3(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),y(" ",e.title," ")}}function T3(n,l){if(n&1&&(r(0,"mat-header-cell",46),c(1),a()),n&2){let e=m();o(),y(" ",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle," ")}}function w3(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),y(" ",e.description," ")}}function x3(n,l){n&1&&(r(0,"mat-header-cell"),c(1),_(2,"translate"),a()),n&2&&(o(),y(" ",g(2,1,"TITLE.OPTION")," "))}function A3(n,l){if(n&1&&(r(0,"mat-cell",50)(1,"button",51)(2,"mat-icon"),c(3,"more_vert"),a()(),C(4,"mat-menu",null,2),a()),n&2){let e=k(5);o(),d("matMenuTriggerFor",e)}}function P3(n,l){n&1&&C(0,"mat-header-row")}function k3(n,l){if(n&1){let e=I();r(0,"mat-row",52),E("click",function(){let t=u(e).$implicit,s=m();return f(s.onActionTableRowSelect(t))}),a()}if(n&2){let e=l.$implicit,i=l.dataIndex,t=m();Se("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",e.id===(t.tableRowSelected==null?null:t.tableRowSelected.id))}}var Zl=class Zl extends bt{constructor(e,i,t,s,h,p,D,z,he,je,Ge,mt){super(e,new Tr,Ge,h,D);this.contentService=e;this.cmsConfirmationDialogService=i;this.cmsToastrService=t;this.router=s;this.tokenHelper=h;this.cdr=p;this.translate=D;this.themeService=z;this.cmsStoreService=he;this.pageInfo=je;this.publicHelper=Ge;this.dialog=mt;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new pe;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["LinkMainImageIdSrc","IconFont","Description"];this.tabledisplayedColumnsMobileSource=["LinkMainImageIdSrc","IconFont","Description"];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:Nt=>this.onSubmitOptionsSearch(Nt)},this.filteModelContent.sortColumn="Title",this.filteModelContent.sortType=X.Ascending}ngOnInit(){this.filteModelContent.sortColumn="Title",this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.cmsApiStoreSubscribe=this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>re(this,null,function*(){this.tokenInfo=e,this.DataGetAll()}))}ngOnDestroy(){this.cmsApiStoreSubscribe&&this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Tr);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),t.isSuccess?(this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=X.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=X.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=X.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-wide",this.dialog.open(Bc,{height:"90%",panelClass:e,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Nc,{height:"90%",panelClass:i,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(s=>{this.cmsToastrService.typeErrorSelected(s)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(s=>{i=s["MESSAGE.Please_Confirm"],t=s["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(s=>{if(s){let h=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(p=>{this.publicHelper.processService.processStart(h,p,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:p=>{p.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(h)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(h,!1)}})}}).catch(()=>{})}onActionButtonContentDetailList(e=this.tableRowSelected,i){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}this.onActionTableRowSelect(e),i?.ctrlKey?(this.link="/#/estate/property-detail/LinkCategoryZoneId/"+this.tableRowSelected.id,window.open(this.link,"_blank")):this.router.navigate(["/estate/property-detail/LinkCategoryZoneId/",this.tableRowSelected.id])}onActionButtonContentList(e=this.tableRowSelected,i){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}this.onActionTableRowSelect(e),i?.ctrlKey?(this.link="/#/estate/property/LinkCategoryZoneId/"+this.tableRowSelected.id,window.open(this.link,"_blank")):this.router.navigate(["/estate/property/LinkCategoryZoneId/",this.tableRowSelected.id])}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(p=>{i.set(p,0)}),this.translate.get("MESSAGE.All").subscribe(p=>{i.set(p,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(p=>{this.publicHelper.processService.processStart(t,p,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:p=>{p.isSuccess?(this.translate.get("MESSAGE.All").subscribe(D=>{i.set(D,p.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(p.errorMessage),this.publicHelper.processService.processStop(t)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(t,!1)}});let s=JSON.parse(JSON.stringify(this.filteModelContent)),h=new H;h.propertyName="RecordStatus",h.value=qe.Available,s.filters.push(h),this.contentService.ServiceGetCount(s).subscribe({next:p=>{p.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(D=>{i.set(D,p.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(p.errorMessage),this.publicHelper.processService.processStop(t)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0&&(this.filteModelContent.filters=[...this.filteModelContent.filters,...e]),this.DataGetAll()}};Zl.\u0275fac=function(i){return new(i||Zl)(v(Or),v(Mt),v(V),v(Ze),v(K),v(B),v(L),v(kt),v(Z),v(ht),v(F),v(xe))},Zl.\u0275cmp=R({type:Zl,selectors:[["app-estate-category-zone-list"]],standalone:!1,features:[ne],decls:67,vars:34,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-memo-circle-info","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-buildings","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","LinkMainImageIdSrc"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","IconFont"],["matColumnDef","Id"],["matColumnDef","Title"],["matColumnDef","Description"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","40","width","40",3,"src",4,"ngIf"],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["aria-hidden","true",3,"ngClass"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[3,"click"]],template:function(i,t){if(i&1){let s=I();r(0,"app-cms-html-list",3),w("optionActionGuideNoticeDisplayChange",function(p){return u(s),T(t.viewGuideNotice,p)||(t.viewGuideNotice=p),f(p)}),E("optionOnActionButtonMemoRow",function(){return u(s),f(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return u(s),f(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return u(s),f(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return u(s),f(t.onActionButtonPrintRow())}),A(1,4),c(2," -------------------------------------- "),P(),Qe(3,5)(4,6),A(5,7),r(6,"a",8),E("click",function(){return u(s),f(t.viewGuideNotice=!t.viewGuideNotice)}),C(7,"i",9),a(),r(8,"a",8),E("click",function(){return u(s),f(t.onActionButtonReload())}),C(9,"i",10),a(),P(),A(10,11),r(11,"a",12),E("click",function(){return u(s),f(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),C(12,"mat-slide-toggle",13),c(13),_(14,"translate"),a(),r(15,"a",12),E("click",function(){return u(s),f(t.onActionButtonStatist())}),C(16,"mat-slide-toggle",13),c(17),_(18,"translate"),a(),P(),A(19,14),S(20,f3,7,3,"div",15),P(),A(21,16),S(22,_3,7,3,"div",15)(23,g3,7,3,"div",15),r(24,"div",17)(25,"a",18),E("click",function(p){return u(s),f(t.onActionButtonContentDetailList(t.tableRowSelected,p))}),C(26,"i",19)(27,"br"),a(),r(28,"p",20),c(29),_(30,"translate"),a()(),r(31,"div",17)(32,"a",18),E("click",function(p){return u(s),f(t.onActionButtonContentList(t.tableRowSelected,p))}),C(33,"i",21)(34,"br"),a(),r(35,"p",20),c(36),_(37,"translate"),a()(),P(),A(38,22),r(39,"app-cms-search-list",23),w("optionsChange",function(p){return u(s),T(t.optionsSearch,p)||(t.optionsSearch=p),f(p)}),a(),r(40,"app-cms-statist-list",23),w("optionsChange",function(p){return u(s),T(t.optionsStatist,p)||(t.optionsStatist=p),f(p)}),a(),P(),A(41,24),r(42,"mat-table",25,0),E("matSortChange",function(){u(s);let p=k(43);return f(t.onTableSortData(p))}),A(44,26),S(45,h3,3,3,"mat-header-cell",27)(46,C3,2,1,"mat-cell",28),P(),A(47,29),S(48,S3,2,1,"mat-header-cell",27)(49,v3,2,3,"mat-cell",28),P(),A(50,30),S(51,E3,2,1,"mat-header-cell",27)(52,I3,2,3,"mat-cell",28),P(),A(53,31),S(54,M3,2,1,"mat-header-cell",27)(55,b3,2,1,"mat-cell",28),P(),A(56,32),S(57,T3,2,1,"mat-header-cell",27)(58,w3,2,1,"mat-cell",28),P(),A(59,33),S(60,x3,3,3,"mat-header-cell",34)(61,A3,6,1,"mat-cell",35),P(),S(62,P3,1,0,"mat-header-row",36)(63,k3,1,6,"mat-row",37),a(),P(),A(64,38),r(65,"mat-paginator",39,1),E("page",function(p){return u(s),f(t.onTablePageingData(p))}),a(),P(),a()}i&2&&(d("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),b("optionActionGuideNoticeDisplay",t.viewGuideNotice),d("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelectDoubleClick)("optionSelectRowItemTitle",(t.tableRowSelected==null||t.tableRowSelected.title==null?null:t.tableRowSelected.title.length)>0?t.tableRowSelected==null?null:t.tableRowSelected.title:t.tableRowSelected==null?null:t.tableRowSelected.id),o(12),d("checked",t.optionsSearch.data.show),o(),y("",g(14,25,"ACTION.SEARCH")," "),o(3),d("checked",t.optionsStatist.data.show),o(),y("",g(18,27,"ACTION.STATIST")," "),o(3),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessAddRow),o(2),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),o(),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),o(6),M(g(30,29,"ACTION.DETAIL")),o(7),M(g(37,31,"ACTION.PROPERTYLIST")),o(3),b("options",t.optionsSearch),o(),b("options",t.optionsStatist),o(2),d("dataSource",t.tableSource),o(20),d("matHeaderRowDef",t.tabledisplayedColumns),o(),d("matRowDefColumns",t.tabledisplayedColumns),o(2),d("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",le(33,u3)))},dependencies:[se,N,Je,Ee,At,Pt,vt,gt,Et,It,it,ot,st,rt,nt,dt,at,lt,ct,pt,Tt,wt,xt,O,Ie],encapsulation:2});var Hc=Zl;var D3=["vform"],R3=n=>({direction:n});function L3(n,l){n&1&&C(0,"i",59)}function V3(n,l){n&1&&C(0,"i",60)}function O3(n,l){n&1&&(r(0,"mat-error"),c(1," Title is "),r(2,"strong"),c(3),_(4,"translate"),a()()),n&2&&(o(3),M(g(4,1,"MESSAGE.required")))}function F3(n,l){n&1&&C(0,"i",59)}function B3(n,l){n&1&&C(0,"i",60)}function N3(n,l){n&1&&(r(0,"mat-error"),c(1," titleResourceLanguage is "),r(2,"strong"),c(3),_(4,"translate"),a()()),n&2&&(o(3),M(g(4,1,"MESSAGE.required")))}function H3(n,l){n&1&&C(0,"i",59)}function W3(n,l){n&1&&C(0,"i",60)}function G3(n,l){n&1&&(r(0,"mat-error"),c(1," orderTitle is "),r(2,"strong"),c(3),_(4,"translate"),a()()),n&2&&(o(3),M(g(4,1,"MESSAGE.required")))}function U3(n,l){n&1&&C(0,"i",59)}function j3(n,l){n&1&&C(0,"i",60)}function q3(n,l){n&1&&(r(0,"mat-error"),c(1," orderTitleResourceLanguage is "),r(2,"strong"),c(3),_(4,"translate"),a()()),n&2&&(o(3),M(g(4,1,"MESSAGE.required")))}function Q3(n,l){n&1&&C(0,"i",59)}function z3(n,l){n&1&&C(0,"i",60)}function Y3(n,l){n&1&&(r(0,"mat-error"),c(1," TitleSoldIt is "),r(2,"strong"),c(3),_(4,"translate"),a()()),n&2&&(o(3),M(g(4,1,"MESSAGE.required")))}function K3(n,l){n&1&&C(0,"i",59)}function Z3(n,l){n&1&&C(0,"i",60)}function J3(n,l){n&1&&(r(0,"mat-error"),c(1," titleSoldItResourceLanguage is "),r(2,"strong"),c(3),_(4,"translate"),a()()),n&2&&(o(3),M(g(4,1,"MESSAGE.required")))}function X3(n,l){if(n&1){let e=I();r(0,"div",61)(1,"div",62)(2,"h5",63),c(3),a()(),r(4,"div",64)(5,"div",65)(6,"input",66),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.allowPriceInquiryCalculate,t)||(s.dataModel.allowPriceInquiryCalculate=t),f(t)}),a(),C(7,"label",67),a()()()}if(n&2){let e=m();o(3),y(" ",e.fieldsInfo.allowPriceInquiryCalculate==null?null:e.fieldsInfo.allowPriceInquiryCalculate.fieldTitle),o(3),b("ngModel",e.dataModel.allowPriceInquiryCalculate)}}function $3(n,l){if(n&1){let e=I();r(0,"div",61)(1,"div",62)(2,"h5",63),c(3),a()(),r(4,"div",64)(5,"div",65)(6,"input",68),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.hasSalePrice,t)||(s.dataModel.hasSalePrice=t),f(t)}),a(),C(7,"label",69),a()()()}if(n&2){let e=m();o(3),y(" ",e.fieldsInfo.hasSalePrice==null?null:e.fieldsInfo.hasSalePrice.fieldTitle),o(3),b("ngModel",e.dataModel.hasSalePrice)}}function eA(n,l){if(n&1){let e=I();r(0,"div",61)(1,"div",62)(2,"h5",63),c(3),a()(),r(4,"div",64)(5,"div",65)(6,"input",70),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.hasRentPrice,t)||(s.dataModel.hasRentPrice=t),f(t)}),a(),C(7,"label",71),a()()()}if(n&2){let e=m();o(3),y(" ",e.fieldsInfo.hasRentPrice==null?null:e.fieldsInfo.hasRentPrice.fieldTitle),o(3),b("ngModel",e.dataModel.hasRentPrice)}}function tA(n,l){if(n&1){let e=I();r(0,"div",61)(1,"div",62)(2,"h5",63),c(3),a()(),r(4,"div",64)(5,"div",65)(6,"input",72),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.hasDepositPrice,t)||(s.dataModel.hasDepositPrice=t),f(t)}),a(),C(7,"label",73),a()()()}if(n&2){let e=m();o(3),y(" ",e.fieldsInfo.hasDepositPrice==null?null:e.fieldsInfo.hasDepositPrice.fieldTitle),o(3),b("ngModel",e.dataModel.hasDepositPrice)}}function iA(n,l){if(n&1){let e=I();r(0,"div",61)(1,"div",62)(2,"h5",63),c(3),a()(),r(4,"div",64)(5,"div",65)(6,"input",74),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.hasPeriodPrice,t)||(s.dataModel.hasPeriodPrice=t),f(t)}),a(),C(7,"label",75),a()()()}if(n&2){let e=m();o(3),y(" ",e.fieldsInfo.hasPeriodPrice==null?null:e.fieldsInfo.hasPeriodPrice.fieldTitle),o(3),b("ngModel",e.dataModel.hasPeriodPrice)}}function nA(n,l){n&1&&(r(0,"mat-error"),c(1," Description is "),r(2,"strong"),c(3),_(4,"translate"),a()()),n&2&&(o(3),M(g(4,1,"MESSAGE.required")))}function oA(n,l){n&1&&C(0,"hr")}function rA(n,l){if(n&1){let e=I();r(0,"div",61)(1,"div",62)(2,"h5",76),c(3),a()(),r(4,"div",64)(5,"div",65)(6,"input",77),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.salePriceAllowAgreement,t)||(s.dataModel.salePriceAllowAgreement=t),f(t)}),a(),C(7,"label",78),a()()()}if(n&2){let e=m();o(3),y(" ",e.fieldsInfo.salePriceAllowAgreement==null?null:e.fieldsInfo.salePriceAllowAgreement.fieldTitle),o(3),b("ngModel",e.dataModel.salePriceAllowAgreement)}}function aA(n,l){if(n&1){let e=I();r(0,"div",22)(1,"label",79),c(2),a(),r(3,"input",80,8),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.titleSalePrice,t)||(s.dataModel.titleSalePrice=t),f(t)}),a(),r(5,"em"),c(6),a()()}if(n&2){let e=k(4),i=m();o(2),M(i.fieldsInfo.titleSalePrice==null?null:i.fieldsInfo.titleSalePrice.fieldTitle),o(),d("placeholder",x(i.fieldsInfo.titleSalePrice==null?null:i.fieldsInfo.titleSalePrice.fieldTitle)),b("ngModel",i.dataModel.titleSalePrice),o(3),y("",e.value.length," / 100")}}function lA(n,l){if(n&1){let e=I();r(0,"div",22)(1,"label",81),c(2),a(),r(3,"input",82,9),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.titleSalePriceResourceLanguage,t)||(s.dataModel.titleSalePriceResourceLanguage=t),f(t)}),a(),r(5,"em"),c(6),a()()}if(n&2){let e=k(4),i=m();o(2),M(i.fieldsInfo.titleSalePriceResourceLanguage==null?null:i.fieldsInfo.titleSalePriceResourceLanguage.fieldTitle),o(),d("placeholder",x(i.fieldsInfo.titleSalePriceResourceLanguage==null?null:i.fieldsInfo.titleSalePriceResourceLanguage.fieldTitle)),b("ngModel",i.dataModel.titleSalePriceResourceLanguage),o(3),y("",e.value.length," / 100")}}function sA(n,l){n&1&&C(0,"hr")}function dA(n,l){if(n&1){let e=I();r(0,"div",61)(1,"div",62)(2,"h5",83),c(3),a()(),r(4,"div",64)(5,"div",65)(6,"input",84),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.rentPriceAllowAgreement,t)||(s.dataModel.rentPriceAllowAgreement=t),f(t)}),a(),C(7,"label",85),a()()()}if(n&2){let e=m();o(3),y(" ",e.fieldsInfo.rentPriceAllowAgreement==null?null:e.fieldsInfo.rentPriceAllowAgreement.fieldTitle),o(3),b("ngModel",e.dataModel.rentPriceAllowAgreement)}}function cA(n,l){if(n&1){let e=I();r(0,"div",22)(1,"label",86),c(2),a(),r(3,"input",87,8),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.titleRentPrice,t)||(s.dataModel.titleRentPrice=t),f(t)}),a()()}if(n&2){let e=m();o(2),M(e.fieldsInfo.titleRentPrice==null?null:e.fieldsInfo.titleRentPrice.fieldTitle),o(),d("placeholder",x(e.fieldsInfo.titleRentPrice==null?null:e.fieldsInfo.titleRentPrice.fieldTitle)),b("ngModel",e.dataModel.titleRentPrice)}}function pA(n,l){if(n&1){let e=I();r(0,"div",22)(1,"label",88),c(2),a(),r(3,"input",89,10),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.titleRentPriceResourceLanguage,t)||(s.dataModel.titleRentPriceResourceLanguage=t),f(t)}),a(),r(5,"em"),c(6),a()()}if(n&2){let e=k(4),i=m();o(2),M(i.fieldsInfo.titleRentPriceResourceLanguage==null?null:i.fieldsInfo.titleRentPriceResourceLanguage.fieldTitle),o(),d("placeholder",x(i.fieldsInfo.titleRentPrice==null?null:i.fieldsInfo.titleRentPrice.fieldTitle)),b("ngModel",i.dataModel.titleRentPriceResourceLanguage),o(3),y("",e.value.length," / 100")}}function mA(n,l){if(n&1){let e=I();r(0,"div",22)(1,"label",90),c(2),a(),r(3,"input",91,11),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.rentPricePriodTitle,t)||(s.dataModel.rentPricePriodTitle=t),f(t)}),a(),r(5,"em"),c(6),a()()}if(n&2){let e=k(4),i=m();o(2),M(i.fieldsInfo.rentPricePriodTitle==null?null:i.fieldsInfo.rentPricePriodTitle.fieldTitle),o(),d("placeholder",x(i.fieldsInfo.titleRentPrice==null?null:i.fieldsInfo.titleRentPrice.fieldTitle)),b("ngModel",i.dataModel.rentPricePriodTitle),o(3),y("",e.value.length," / 100")}}function uA(n,l){if(n&1){let e=I();r(0,"div",22)(1,"label",92),c(2),a(),r(3,"input",93,12),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.rentPricePriodTitleResourceLanguage,t)||(s.dataModel.rentPricePriodTitleResourceLanguage=t),f(t)}),a(),r(5,"em"),c(6),a()()}if(n&2){let e=k(4),i=m();o(2),M(i.fieldsInfo.rentPricePriodTitleResourceLanguage==null?null:i.fieldsInfo.rentPricePriodTitleResourceLanguage.fieldTitle),o(),d("placeholder",x(i.fieldsInfo.titleRentPrice==null?null:i.fieldsInfo.titleRentPrice.fieldTitle)),b("ngModel",i.dataModel.rentPricePriodTitleResourceLanguage),o(3),y("",e.value.length," / 100")}}function fA(n,l){n&1&&C(0,"hr")}function _A(n,l){if(n&1){let e=I();r(0,"div",61)(1,"div",62)(2,"h5",83),c(3),a()(),r(4,"div",64)(5,"div",65)(6,"input",94),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.depositPriceAllowAgreement,t)||(s.dataModel.depositPriceAllowAgreement=t),f(t)}),a(),C(7,"label",95),a()()()}if(n&2){let e=m();o(3),y(" ",e.fieldsInfo.depositPriceAllowAgreement==null?null:e.fieldsInfo.depositPriceAllowAgreement.fieldTitle),o(3),b("ngModel",e.dataModel.depositPriceAllowAgreement)}}function gA(n,l){if(n&1){let e=I();r(0,"div",22)(1,"label",96),c(2),a(),r(3,"input",97,13),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.titleDepositPrice,t)||(s.dataModel.titleDepositPrice=t),f(t)}),a(),r(5,"em"),c(6),a()()}if(n&2){let e=k(4),i=m();o(2),M(i.fieldsInfo.titleDepositPrice==null?null:i.fieldsInfo.titleDepositPrice.fieldTitle),o(),d("placeholder",x(i.fieldsInfo.titleDepositPrice==null?null:i.fieldsInfo.titleDepositPrice.fieldTitle)),b("ngModel",i.dataModel.titleDepositPrice),o(3),y("",e.value.length," / 100")}}function hA(n,l){if(n&1){let e=I();r(0,"div",22)(1,"label",98),c(2),a(),r(3,"input",99,14),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.titleDepositPriceResourceLanguage,t)||(s.dataModel.titleDepositPriceResourceLanguage=t),f(t)}),a(),r(5,"em"),c(6),a()()}if(n&2){let e=k(4),i=m();o(2),M(i.fieldsInfo.titleDepositPriceResourceLanguage==null?null:i.fieldsInfo.titleDepositPriceResourceLanguage.fieldTitle),o(),d("placeholder",x(i.fieldsInfo.titleDepositPriceResourceLanguage==null?null:i.fieldsInfo.titleDepositPriceResourceLanguage.fieldTitle)),b("ngModel",i.dataModel.titleDepositPriceResourceLanguage),o(3),y("",e.value.length," / 100")}}function yA(n,l){n&1&&C(0,"hr")}function CA(n,l){if(n&1){let e=I();r(0,"div",61)(1,"div",62)(2,"h5",83),c(3),a()(),r(4,"div",64)(5,"div",65)(6,"input",100),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.periodPriceAllowAgreement,t)||(s.dataModel.periodPriceAllowAgreement=t),f(t)}),a(),C(7,"label",101),a()()()}if(n&2){let e=m();o(3),y(" ",e.fieldsInfo.periodPriceAllowAgreement==null?null:e.fieldsInfo.periodPriceAllowAgreement.fieldTitle),o(3),b("ngModel",e.dataModel.periodPriceAllowAgreement)}}function SA(n,l){if(n&1){let e=I();r(0,"div",22)(1,"label",102),c(2),a(),r(3,"input",103,15),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.titlePeriodPrice,t)||(s.dataModel.titlePeriodPrice=t),f(t)}),a(),r(5,"em"),c(6),a()()}if(n&2){let e=k(4),i=m();o(2),M(i.fieldsInfo.titlePeriodPrice==null?null:i.fieldsInfo.titlePeriodPrice.fieldTitle),o(),d("placeholder",x(i.fieldsInfo.titlePeriodPrice==null?null:i.fieldsInfo.titlePeriodPrice.fieldTitle)),b("ngModel",i.dataModel.titlePeriodPrice),o(3),y("",e.value.length," / 100")}}function vA(n,l){if(n&1){let e=I();r(0,"div",22)(1,"label",104),c(2),a(),r(3,"input",105,16),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.titlePeriodPriceResourceLanguage,t)||(s.dataModel.titlePeriodPriceResourceLanguage=t),f(t)}),a(),r(5,"em"),c(6),a()()}if(n&2){let e=k(4),i=m();o(2),M(i.fieldsInfo.titlePeriodPriceResourceLanguage==null?null:i.fieldsInfo.titlePeriodPriceResourceLanguage.fieldTitle),o(),d("placeholder",x(i.fieldsInfo.titlePeriodPriceResourceLanguage==null?null:i.fieldsInfo.titlePeriodPriceResourceLanguage.fieldTitle)),b("ngModel",i.dataModel.titlePeriodPriceResourceLanguage),o(3),y("",e.value.length," / 100")}}function EA(n,l){if(n&1&&(r(0,"button",110),C(1,"i",111),c(2),_(3,"translate"),a()),n&2){m(2);let e=k(9);d("disabled",!e.form.valid),o(2),y(" ",g(3,2,"ACTION.SAVE")," ")}}function IA(n,l){if(n&1){let e=I();r(0,"div",106)(1,"button",107),E("click",function(){u(e);let t=m();return f(t.onFormCancel())}),C(2,"i",108),c(3),_(4,"translate"),a(),S(5,EA,4,4,"button",109),a()}if(n&2){let e=m();o(3),y(" ",g(4,2,"ACTION.CANCEL")," "),o(2),d("ngIf",e.formInfo.formSubmitAllow)}}var Jl=class Jl extends Dt{constructor(e,i,t,s,h,p,D,z,he,je){super(s,new Gn,D,je);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.estateContractTypeService=s;this.cmsToastrService=h;this.cmsStoreService=p;this.publicHelper=D;this.cdr=z;this.tokenHelper=he;this.translate=je;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.tokenInfo=new St;this.dataModelResult=new G;this.dataModel=new Gn;this.formInfo=new me;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess()}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estateContractTypeService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.formAlert=t}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e),this.formInfo.formSubmitAllow=!0},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Jl.\u0275fac=function(i){return new(i||Jl)(v(be),v(Me),v(J),v(xi),v(V),v(Z),v(F),v(B),v(K),v(L))},Jl.\u0275cmp=R({type:Jl,selectors:[["app-estate-contract-type-add"]],viewQuery:function(i,t){if(i&1&&ee(D3,5),i&2){let s;te(s=ie())&&(t.formGroup=s.first)}},standalone:!1,features:[ne],decls:139,vars:115,consts:[["vform","ngForm"],["Title",""],["titleResourceLanguage",""],["orderTitle",""],["orderTitleResourceLanguage",""],["TitleSoldIt",""],["titleSoldItResourceLanguage",""],["Description",""],["TitleSalePrice",""],["titleSalePriceResourceLanguage",""],["titleRentPriceResourceLanguage",""],["rentPricePriodTitle",""],["rentPricePriodTitleResourceLanguage",""],["TitleDepositPrice",""],["titleDepositPriceResourceLanguage",""],["TitlePeriodPrice",""],["titlePeriodPriceResourceLanguage",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit","ngStyle"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","fa fa-times  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],[4,"ngIf"],["for","dataModel.titleML",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleML","id","dataModel.titleML",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.titleResourceLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleResourceLanguage","minlength","1","maxlength","100","required","","id","dataModel.titleResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled","placeholder"],["for","dataModel.orderTitle",1,"color-highlight"],["matInput","","type","text","name","dataModel.orderTitle","minlength","3","maxlength","100","required","","id","dataModel.orderTitle",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled","placeholder"],["for","dataModel.orderTitleML",1,"color-highlight"],["matInput","","type","text","name","dataModel.orderTitleML","id","dataModel.orderTitleML",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.orderTitleResourceLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.orderTitleResourceLanguage","minlength","1","maxlength","100","required","","id","dataModel.orderTitleResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled","placeholder"],["for","dataModel.titleSoldIt",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleSoldIt","minlength","1","maxlength","100","required","","id","dataModel.titleSoldIt",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.titleSoldItML",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleSoldItML","id","dataModel.titleSoldItML",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.titleSoldItResourceLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleSoldItResourceLanguage","minlength","1","maxlength","100","required","","id","dataModel.titleSoldItResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","d-flex mb-3",4,"ngIf"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["for","dataModel.titleSalePriceML",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleSalePriceML","id","dataModel.titleSalePriceML",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.titleRentPriceML",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleRentPriceML","id","dataModel.titleRentPriceML",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.rentPricePriodTitleML",1,"color-highlight"],["matInput","","type","text","name","dataModel.rentPricePriodTitleML","id","dataModel.rentPricePriodTitleML",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.titleDepositPriceML",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleDepositPriceML","id","dataModel.titleDepositPriceML",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.titlePeriodPriceML",1,"color-highlight"],["matInput","","type","text","name","dataModel.titlePeriodPriceML","id","dataModel.titlePeriodPriceML",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["class","form-actions",4,"ngIf"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.hasPeriodPrice",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.allowPriceInquiryCalculate","name","dataModel.allowPriceInquiryCalculate",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.allowPriceInquiryCalculate",1,"custom-control-label"],["type","checkbox","id","dataModel.hasSalePrice","name","dataModel.hasSalePrice",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.hasSalePrice",1,"custom-control-label"],["type","checkbox","id","dataModel.hasRentPrice","name","dataModel.hasRentPrice",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.hasRentPrice",1,"custom-control-label"],["type","checkbox","id","dataModel.hasDepositPrice","name","dataModel.hasDepositPrice",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.hasDepositPrice",1,"custom-control-label"],["type","checkbox","id","dataModel.hasPeriodPrice","name","dataModel.hasPeriodPrice",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.hasPeriodPrice",1,"custom-control-label"],["data-trigger-switch","dataModel.salePriceAllowAgreement",1,"font-600","font-14"],["type","checkbox","id","dataModel.salePriceAllowAgreement","name","dataModel.salePriceAllowAgreement",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.salePriceAllowAgreement",1,"custom-control-label"],["for","dataModel.titleSalePrice",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleSalePrice","minlength","1","maxlength","100","id","dataModel.titleSalePrice",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.titleSalePriceResourceLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleSalePriceResourceLanguage","minlength","1","maxlength","100","id","dataModel.titleSalePriceResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["data-trigger-switch","dataModel.rentPriceAllowAgreement",1,"font-600","font-14"],["type","checkbox","id","dataModel.rentPriceAllowAgreement","name","dataModel.rentPriceAllowAgreement",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.rentPriceAllowAgreement",1,"custom-control-label"],["for","dataModel.titleRentPrice",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleRentPrice","minlength","1","maxlength","100","id","dataModel.titleRentPrice",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.titleRentPriceResourceLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleRentPriceResourceLanguage","minlength","1","maxlength","100","id","dataModel.titleRentPriceResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.rentPricePriodTitle",1,"color-highlight"],["matInput","","type","text","name","dataModel.rentPricePriodTitle","minlength","1","maxlength","100","id","dataModel.rentPricePriodTitle",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.rentPricePriodTitleResourceLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.rentPricePriodTitleResourceLanguage","minlength","1","maxlength","100","id","dataModel.rentPricePriodTitleResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["type","checkbox","id","dataModel.depositPriceAllowAgreement","name","dataModel.depositPriceAllowAgreement",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.depositPriceAllowAgreement",1,"custom-control-label"],["for","dataModel.titleDepositPrice",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleDepositPrice","minlength","1","maxlength","100","id","dataModel.titleDepositPrice",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.titleDepositPriceResourceLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleDepositPriceResourceLanguage","minlength","1","maxlength","100","id","dataModel.titleDepositPriceResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["type","checkbox","id","dataModel.periodPriceAllowAgreement","name","dataModel.periodPriceAllowAgreement",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.periodPriceAllowAgreement",1,"custom-control-label"],["for","dataModel.titlePeriodPrice",1,"color-highlight"],["matInput","","type","text","name","dataModel.titlePeriodPrice","minlength","1","maxlength","100","id","dataModel.titlePeriodPrice",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.titlePeriodPriceResourceLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.titlePeriodPriceResourceLanguage","minlength","1","maxlength","100","id","dataModel.titlePeriodPriceResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-green",3,"disabled",4,"ngIf"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=I();r(0,"div",17),C(1,"app-progress-spinner",18),r(2,"div",19)(3,"p",20),c(4),a(),r(5,"p"),c(6),_(7,"translate"),a(),r(8,"form",21,0),E("ngSubmit",function(){return u(s),f(t.onFormSubmit())}),r(10,"div",22)(11,"label",23),c(12),a(),r(13,"input",24,1),w("ngModelChange",function(p){return u(s),T(t.dataModel.title,p)||(t.dataModel.title=p),f(p)}),a(),S(15,L3,1,0,"i",25)(16,V3,1,0,"i",26),r(17,"em"),c(18),a(),S(19,O3,5,3,"mat-error",27),a(),r(20,"div",22)(21,"label",28),c(22),a(),r(23,"input",29),w("ngModelChange",function(p){return u(s),T(t.dataModel.titleML,p)||(t.dataModel.titleML=p),f(p)}),a()(),r(24,"div",22)(25,"label",30),c(26),a(),r(27,"input",31,2),w("ngModelChange",function(p){return u(s),T(t.dataModel.titleResourceLanguage,p)||(t.dataModel.titleResourceLanguage=p),f(p)}),a(),S(29,F3,1,0,"i",25)(30,B3,1,0,"i",26),r(31,"em"),c(32),a(),S(33,N3,5,3,"mat-error",27),a(),C(34,"hr"),r(35,"div",22)(36,"label",32),c(37),a(),r(38,"input",33,3),w("ngModelChange",function(p){return u(s),T(t.dataModel.orderTitle,p)||(t.dataModel.orderTitle=p),f(p)}),a(),S(40,H3,1,0,"i",25)(41,W3,1,0,"i",26),r(42,"em"),c(43),a(),S(44,G3,5,3,"mat-error",27),a(),r(45,"div",22)(46,"label",34),c(47),a(),r(48,"input",35),w("ngModelChange",function(p){return u(s),T(t.dataModel.orderTitleML,p)||(t.dataModel.orderTitleML=p),f(p)}),a()(),r(49,"div",22)(50,"label",36),c(51),a(),r(52,"input",37,4),w("ngModelChange",function(p){return u(s),T(t.dataModel.orderTitleResourceLanguage,p)||(t.dataModel.orderTitleResourceLanguage=p),f(p)}),a(),S(54,U3,1,0,"i",25)(55,j3,1,0,"i",26),r(56,"em"),c(57),a(),S(58,q3,5,3,"mat-error",27),a(),r(59,"div",22)(60,"label",38),c(61),a(),r(62,"input",39,5),w("ngModelChange",function(p){return u(s),T(t.dataModel.titleSoldIt,p)||(t.dataModel.titleSoldIt=p),f(p)}),a(),S(64,Q3,1,0,"i",25)(65,z3,1,0,"i",26),r(66,"em"),c(67),a(),S(68,Y3,5,3,"mat-error",27),a(),r(69,"div",22)(70,"label",40),c(71),a(),r(72,"input",41,5),w("ngModelChange",function(p){return u(s),T(t.dataModel.titleSoldItML,p)||(t.dataModel.titleSoldItML=p),f(p)}),a()(),r(74,"div",22)(75,"label",42),c(76),a(),r(77,"input",43,6),w("ngModelChange",function(p){return u(s),T(t.dataModel.titleSoldItResourceLanguage,p)||(t.dataModel.titleSoldItResourceLanguage=p),f(p)}),a(),S(79,K3,1,0,"i",25)(80,Z3,1,0,"i",26),r(81,"em"),c(82),a(),S(83,J3,5,3,"mat-error",27),a(),S(84,X3,8,2,"div",44)(85,$3,8,2,"div",44)(86,eA,8,2,"div",44)(87,tA,8,2,"div",44)(88,iA,8,2,"div",44),r(89,"div",22)(90,"label",45),c(91),a(),r(92,"textarea",46,7),w("ngModelChange",function(p){return u(s),T(t.dataModel.description,p)||(t.dataModel.description=p),f(p)}),a(),r(94,"em"),c(95),a(),S(96,nA,5,3,"mat-error",27),a(),S(97,oA,1,0,"hr",27)(98,rA,8,2,"div",44)(99,aA,7,5,"div",47),r(100,"div",22)(101,"label",48),c(102),a(),r(103,"input",49,8),w("ngModelChange",function(p){return u(s),T(t.dataModel.titleSalePriceML,p)||(t.dataModel.titleSalePriceML=p),f(p)}),a(),r(105,"em"),c(106),a()(),S(107,lA,7,5,"div",47)(108,sA,1,0,"hr",27)(109,dA,8,2,"div",44)(110,cA,5,4,"div",47),r(111,"div",22)(112,"label",50),c(113),a(),r(114,"input",51),w("ngModelChange",function(p){return u(s),T(t.dataModel.titleRentPriceML,p)||(t.dataModel.titleRentPriceML=p),f(p)}),a()(),S(115,pA,7,5,"div",47)(116,mA,7,5,"div",47),r(117,"div",22)(118,"label",52),c(119),a(),r(120,"input",53),w("ngModelChange",function(p){return u(s),T(t.dataModel.rentPricePriodTitleML,p)||(t.dataModel.rentPricePriodTitleML=p),f(p)}),a()(),S(121,uA,7,5,"div",47)(122,fA,1,0,"hr",27)(123,_A,8,2,"div",44)(124,gA,7,5,"div",47),r(125,"div",22)(126,"label",54),c(127),a(),r(128,"input",55),w("ngModelChange",function(p){return u(s),T(t.dataModel.titleDepositPriceML,p)||(t.dataModel.titleDepositPriceML=p),f(p)}),a()(),S(129,hA,7,5,"div",47)(130,yA,1,0,"hr",27)(131,CA,8,2,"div",44)(132,SA,7,5,"div",47),r(133,"div",22)(134,"label",56),c(135),a(),r(136,"input",57),w("ngModelChange",function(p){return u(s),T(t.dataModel.titlePeriodPriceML,p)||(t.dataModel.titlePeriodPriceML=p),f(p)}),a()(),S(137,vA,7,5,"div",47)(138,IA,6,4,"div",58),a()()()}if(i&2){let s=k(14),h=k(28),p=k(39),D=k(53),z=k(63),he=k(78),je=k(93),Ge=k(104);o(),d("optionsInfoAreaId",t.constructorInfoAreaId),o(3),y(" ",t.formInfo.formTitle," "),o(2),y(" ",g(7,111,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),d("ngStyle",ze(113,R3,t.tokenInfo.access.direction)),o(4),M(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),b("ngModel",t.dataModel.title),o(2),d("ngIf",!s.value),o(),d("ngIf",s.value),o(2),y("",s.value.length," / 100"),o(),d("ngIf",s.errors==null?null:s.errors.required),o(3),M(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),b("ngModel",t.dataModel.titleML),d("disabled",!0),o(3),M(t.fieldsInfo.titleResourceLanguage==null?null:t.fieldsInfo.titleResourceLanguage.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.titleResourceLanguage==null?null:t.fieldsInfo.titleResourceLanguage.fieldTitle)),b("ngModel",t.dataModel.titleResourceLanguage),d("disabled",!0),o(2),d("ngIf",!h.value),o(),d("ngIf",h.value),o(2),y("",h.value.length," / 100"),o(),d("ngIf",h.errors==null?null:h.errors.required),o(4),M(t.fieldsInfo.orderTitle==null?null:t.fieldsInfo.orderTitle.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.orderTitle==null?null:t.fieldsInfo.orderTitle.fieldTitle)),b("ngModel",t.dataModel.orderTitle),d("disabled",!0),o(2),d("ngIf",!p.value),o(),d("ngIf",p.value),o(2),y("",p.value.length," / 100"),o(),d("ngIf",p.errors==null?null:p.errors.required),o(3),M(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),b("ngModel",t.dataModel.orderTitleML),d("disabled",!0)("disabled",!0),o(3),M(t.fieldsInfo.orderTitleResourceLanguage==null?null:t.fieldsInfo.orderTitleResourceLanguage.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.orderTitleResourceLanguage==null?null:t.fieldsInfo.orderTitleResourceLanguage.fieldTitle)),b("ngModel",t.dataModel.orderTitleResourceLanguage),d("disabled",!0),o(2),d("ngIf",!D.value),o(),d("ngIf",D.value),o(2),y("",D.value.length," / 100"),o(),d("ngIf",D.errors==null?null:D.errors.required),o(3),M(t.fieldsInfo.titleSoldIt==null?null:t.fieldsInfo.titleSoldIt.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.titleSoldIt==null?null:t.fieldsInfo.titleSoldIt.fieldTitle)),b("ngModel",t.dataModel.titleSoldIt),o(2),d("ngIf",!z.value),o(),d("ngIf",z.value),o(2),y("",z.value.length," / 100"),o(),d("ngIf",z.errors==null?null:z.errors.required),o(3),M(t.fieldsInfo.titleSoldIt==null?null:t.fieldsInfo.titleSoldIt.fieldTitle),o(),b("ngModel",t.dataModel.titleSoldItML),d("disabled",!0),o(4),M(t.fieldsInfo.titleSoldItResourceLanguage==null?null:t.fieldsInfo.titleSoldItResourceLanguage.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.titleSoldItResourceLanguage==null?null:t.fieldsInfo.titleSoldItResourceLanguage.fieldTitle)),b("ngModel",t.dataModel.titleSoldItResourceLanguage),o(2),d("ngIf",!z.value),o(),d("ngIf",z.value),o(2),y("",he.value.length," / 100"),o(),d("ngIf",he.errors==null?null:he.errors.required),o(),d("ngIf",t.fieldsInfo.allowPriceInquiryCalculate==null?null:t.fieldsInfo.allowPriceInquiryCalculate.accessWatchField),o(),d("ngIf",t.fieldsInfo.hasSalePrice==null?null:t.fieldsInfo.hasSalePrice.accessWatchField),o(),d("ngIf",t.fieldsInfo.hasRentPrice==null?null:t.fieldsInfo.hasRentPrice.accessWatchField),o(),d("ngIf",t.fieldsInfo.hasDepositPrice==null?null:t.fieldsInfo.hasDepositPrice.accessWatchField),o(),d("ngIf",t.fieldsInfo.hasPeriodPrice==null?null:t.fieldsInfo.hasPeriodPrice.accessWatchField),o(3),M(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),b("ngModel",t.dataModel.description),o(3),y("",je.value.length," / 500"),o(),d("ngIf",je.errors==null?null:je.errors.required),o(),d("ngIf",t.dataModel.hasSalePrice),o(),d("ngIf",t.fieldsInfo.salePriceAllowAgreement==null?null:t.fieldsInfo.salePriceAllowAgreement.accessWatchField),o(),d("ngIf",t.dataModel.hasSalePrice),o(3),M(t.fieldsInfo.titleSalePrice==null?null:t.fieldsInfo.titleSalePrice.fieldTitle),o(),b("ngModel",t.dataModel.titleSalePriceML),d("disabled",!0),o(3),y("",Ge.value.length," / 100"),o(),d("ngIf",t.dataModel.hasSalePrice),o(),d("ngIf",t.dataModel.hasRentPrice),o(),d("ngIf",t.fieldsInfo.rentPriceAllowAgreement==null?null:t.fieldsInfo.rentPriceAllowAgreement.accessWatchField),o(),d("ngIf",t.dataModel.hasRentPrice),o(3),M(t.fieldsInfo.titleRentPrice==null?null:t.fieldsInfo.titleRentPrice.fieldTitle),o(),b("ngModel",t.dataModel.titleRentPriceML),d("disabled",!0),o(),d("ngIf",t.dataModel.hasRentPrice),o(),d("ngIf",t.dataModel.hasRentPrice),o(3),M(t.fieldsInfo.rentPricePriodTitle==null?null:t.fieldsInfo.rentPricePriodTitle.fieldTitle),o(),b("ngModel",t.dataModel.rentPricePriodTitleML),d("disabled",!0),o(),d("ngIf",t.dataModel.hasRentPrice),o(),d("ngIf",t.dataModel.hasDepositPrice),o(),d("ngIf",t.fieldsInfo.depositPriceAllowAgreement==null?null:t.fieldsInfo.depositPriceAllowAgreement.accessWatchField),o(),d("ngIf",t.dataModel.hasDepositPrice),o(3),M(t.fieldsInfo.titleDepositPriceML==null?null:t.fieldsInfo.titleDepositPriceML.fieldTitle),o(),b("ngModel",t.dataModel.titleDepositPriceML),d("disabled",!0),o(),d("ngIf",t.dataModel.hasDepositPrice),o(),d("ngIf",t.dataModel.hasPeriodPrice),o(),d("ngIf",t.fieldsInfo.periodPriceAllowAgreement==null?null:t.fieldsInfo.periodPriceAllowAgreement.accessWatchField),o(),d("ngIf",t.dataModel.hasPeriodPrice),o(3),M(t.fieldsInfo.titlePeriodPriceML==null?null:t.fieldsInfo.titlePeriodPriceML.fieldTitle),o(),b("ngModel",t.dataModel.titlePeriodPriceML),d("disabled",!0),o(),d("ngIf",t.dataModel.hasPeriodPrice),o(),d("ngIf",!t.publicHelper.processService.process.inRunAll)}},dependencies:[N,tt,ke,Y,Ht,q,Te,de,De,Ae,ce,Pe,we,Q,U,O],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});var Wc=Jl;var MA=["vform"],bA=n=>({direction:n});function TA(n,l){n&1&&C(0,"i",59)}function wA(n,l){n&1&&C(0,"i",60)}function xA(n,l){n&1&&(r(0,"mat-error"),c(1," Title is "),r(2,"strong"),c(3),_(4,"translate"),a()()),n&2&&(o(3),M(g(4,1,"MESSAGE.required")))}function AA(n,l){n&1&&C(0,"i",59)}function PA(n,l){n&1&&C(0,"i",60)}function kA(n,l){n&1&&(r(0,"mat-error"),c(1," titleResourceLanguage is "),r(2,"strong"),c(3),_(4,"translate"),a()()),n&2&&(o(3),M(g(4,1,"MESSAGE.required")))}function DA(n,l){n&1&&C(0,"i",59)}function RA(n,l){n&1&&C(0,"i",60)}function LA(n,l){n&1&&(r(0,"mat-error"),c(1," orderTitle is "),r(2,"strong"),c(3),_(4,"translate"),a()()),n&2&&(o(3),M(g(4,1,"MESSAGE.required")))}function VA(n,l){n&1&&C(0,"i",59)}function OA(n,l){n&1&&C(0,"i",60)}function FA(n,l){n&1&&(r(0,"mat-error"),c(1," orderTitleResourceLanguage is "),r(2,"strong"),c(3),_(4,"translate"),a()()),n&2&&(o(3),M(g(4,1,"MESSAGE.required")))}function BA(n,l){n&1&&C(0,"i",59)}function NA(n,l){n&1&&C(0,"i",60)}function HA(n,l){n&1&&(r(0,"mat-error"),c(1," TitleSoldIt is "),r(2,"strong"),c(3),_(4,"translate"),a()()),n&2&&(o(3),M(g(4,1,"MESSAGE.required")))}function WA(n,l){n&1&&C(0,"i",59)}function GA(n,l){n&1&&C(0,"i",60)}function UA(n,l){n&1&&(r(0,"mat-error"),c(1," titleSoldItResourceLanguage is "),r(2,"strong"),c(3),_(4,"translate"),a()()),n&2&&(o(3),M(g(4,1,"MESSAGE.required")))}function jA(n,l){if(n&1){let e=I();r(0,"div",61)(1,"div",62)(2,"h5",63),c(3),a()(),r(4,"div",64)(5,"div",65)(6,"input",66),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.allowPriceInquiryCalculate,t)||(s.dataModel.allowPriceInquiryCalculate=t),f(t)}),a(),C(7,"label",67),a()()()}if(n&2){let e=m();o(3),y(" ",e.fieldsInfo.allowPriceInquiryCalculate==null?null:e.fieldsInfo.allowPriceInquiryCalculate.fieldTitle),o(3),b("ngModel",e.dataModel.allowPriceInquiryCalculate)}}function qA(n,l){if(n&1){let e=I();r(0,"div",61)(1,"div",62)(2,"h5",63),c(3),a()(),r(4,"div",64)(5,"div",65)(6,"input",68),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.hasSalePrice,t)||(s.dataModel.hasSalePrice=t),f(t)}),a(),C(7,"label",69),a()()()}if(n&2){let e=m();o(3),y(" ",e.fieldsInfo.hasSalePrice==null?null:e.fieldsInfo.hasSalePrice.fieldTitle),o(3),b("ngModel",e.dataModel.hasSalePrice)}}function QA(n,l){if(n&1){let e=I();r(0,"div",61)(1,"div",62)(2,"h5",63),c(3),a()(),r(4,"div",64)(5,"div",65)(6,"input",70),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.hasRentPrice,t)||(s.dataModel.hasRentPrice=t),f(t)}),a(),C(7,"label",71),a()()()}if(n&2){let e=m();o(3),y(" ",e.fieldsInfo.hasRentPrice==null?null:e.fieldsInfo.hasRentPrice.fieldTitle),o(3),b("ngModel",e.dataModel.hasRentPrice)}}function zA(n,l){if(n&1){let e=I();r(0,"div",61)(1,"div",62)(2,"h5",63),c(3),a()(),r(4,"div",64)(5,"div",65)(6,"input",72),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.hasDepositPrice,t)||(s.dataModel.hasDepositPrice=t),f(t)}),a(),C(7,"label",73),a()()()}if(n&2){let e=m();o(3),y(" ",e.fieldsInfo.hasDepositPrice==null?null:e.fieldsInfo.hasDepositPrice.fieldTitle),o(3),b("ngModel",e.dataModel.hasDepositPrice)}}function YA(n,l){if(n&1){let e=I();r(0,"div",61)(1,"div",62)(2,"h5",63),c(3),a()(),r(4,"div",64)(5,"div",65)(6,"input",74),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.hasPeriodPrice,t)||(s.dataModel.hasPeriodPrice=t),f(t)}),a(),C(7,"label",75),a()()()}if(n&2){let e=m();o(3),y(" ",e.fieldsInfo.hasPeriodPrice==null?null:e.fieldsInfo.hasPeriodPrice.fieldTitle),o(3),b("ngModel",e.dataModel.hasPeriodPrice)}}function KA(n,l){n&1&&(r(0,"mat-error"),c(1," Description is "),r(2,"strong"),c(3),_(4,"translate"),a()()),n&2&&(o(3),M(g(4,1,"MESSAGE.required")))}function ZA(n,l){n&1&&C(0,"hr")}function JA(n,l){if(n&1){let e=I();r(0,"div",61)(1,"div",62)(2,"h5",76),c(3),a()(),r(4,"div",64)(5,"div",65)(6,"input",77),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.salePriceAllowAgreement,t)||(s.dataModel.salePriceAllowAgreement=t),f(t)}),a(),C(7,"label",78),a()()()}if(n&2){let e=m();o(3),y(" ",e.fieldsInfo.salePriceAllowAgreement==null?null:e.fieldsInfo.salePriceAllowAgreement.fieldTitle),o(3),b("ngModel",e.dataModel.salePriceAllowAgreement)}}function XA(n,l){if(n&1){let e=I();r(0,"div",22)(1,"label",79),c(2),a(),r(3,"input",80,8),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.titleSalePrice,t)||(s.dataModel.titleSalePrice=t),f(t)}),a(),r(5,"em"),c(6),a()()}if(n&2){let e=k(4),i=m();o(2),M(i.fieldsInfo.titleSalePrice==null?null:i.fieldsInfo.titleSalePrice.fieldTitle),o(),d("placeholder",x(i.fieldsInfo.titleSalePrice==null?null:i.fieldsInfo.titleSalePrice.fieldTitle)),b("ngModel",i.dataModel.titleSalePrice),o(3),y("",e.value.length," / 100")}}function $A(n,l){if(n&1){let e=I();r(0,"div",22)(1,"label",81),c(2),a(),r(3,"input",82,9),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.titleSalePriceResourceLanguage,t)||(s.dataModel.titleSalePriceResourceLanguage=t),f(t)}),a(),r(5,"em"),c(6),a()()}if(n&2){let e=k(4),i=m();o(2),M(i.fieldsInfo.titleSalePriceResourceLanguage==null?null:i.fieldsInfo.titleSalePriceResourceLanguage.fieldTitle),o(),d("placeholder",x(i.fieldsInfo.titleSalePriceResourceLanguage==null?null:i.fieldsInfo.titleSalePriceResourceLanguage.fieldTitle)),b("ngModel",i.dataModel.titleSalePriceResourceLanguage),o(3),y("",e.value.length," / 100")}}function eP(n,l){n&1&&C(0,"hr")}function tP(n,l){if(n&1){let e=I();r(0,"div",61)(1,"div",62)(2,"h5",83),c(3),a()(),r(4,"div",64)(5,"div",65)(6,"input",84),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.rentPriceAllowAgreement,t)||(s.dataModel.rentPriceAllowAgreement=t),f(t)}),a(),C(7,"label",85),a()()()}if(n&2){let e=m();o(3),y(" ",e.fieldsInfo.rentPriceAllowAgreement==null?null:e.fieldsInfo.rentPriceAllowAgreement.fieldTitle),o(3),b("ngModel",e.dataModel.rentPriceAllowAgreement)}}function iP(n,l){if(n&1){let e=I();r(0,"div",22)(1,"label",86),c(2),a(),r(3,"input",87,8),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.titleRentPrice,t)||(s.dataModel.titleRentPrice=t),f(t)}),a()()}if(n&2){let e=m();o(2),M(e.fieldsInfo.titleRentPrice==null?null:e.fieldsInfo.titleRentPrice.fieldTitle),o(),d("placeholder",x(e.fieldsInfo.titleRentPrice==null?null:e.fieldsInfo.titleRentPrice.fieldTitle)),b("ngModel",e.dataModel.titleRentPrice)}}function nP(n,l){if(n&1){let e=I();r(0,"div",22)(1,"label",88),c(2),a(),r(3,"input",89,10),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.titleRentPriceResourceLanguage,t)||(s.dataModel.titleRentPriceResourceLanguage=t),f(t)}),a(),r(5,"em"),c(6),a()()}if(n&2){let e=k(4),i=m();o(2),M(i.fieldsInfo.titleRentPriceResourceLanguage==null?null:i.fieldsInfo.titleRentPriceResourceLanguage.fieldTitle),o(),d("placeholder",x(i.fieldsInfo.titleRentPrice==null?null:i.fieldsInfo.titleRentPrice.fieldTitle)),b("ngModel",i.dataModel.titleRentPriceResourceLanguage),o(3),y("",e.value.length," / 100")}}function oP(n,l){if(n&1){let e=I();r(0,"div",22)(1,"label",90),c(2),a(),r(3,"input",91,11),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.rentPricePriodTitle,t)||(s.dataModel.rentPricePriodTitle=t),f(t)}),a(),r(5,"em"),c(6),a()()}if(n&2){let e=k(4),i=m();o(2),M(i.fieldsInfo.rentPricePriodTitle==null?null:i.fieldsInfo.rentPricePriodTitle.fieldTitle),o(),d("placeholder",x(i.fieldsInfo.titleRentPrice==null?null:i.fieldsInfo.titleRentPrice.fieldTitle)),b("ngModel",i.dataModel.rentPricePriodTitle),o(3),y("",e.value.length," / 100")}}function rP(n,l){if(n&1){let e=I();r(0,"div",22)(1,"label",92),c(2),a(),r(3,"input",93,12),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.rentPricePriodTitleResourceLanguage,t)||(s.dataModel.rentPricePriodTitleResourceLanguage=t),f(t)}),a(),r(5,"em"),c(6),a()()}if(n&2){let e=k(4),i=m();o(2),M(i.fieldsInfo.rentPricePriodTitleResourceLanguage==null?null:i.fieldsInfo.rentPricePriodTitleResourceLanguage.fieldTitle),o(),d("placeholder",x(i.fieldsInfo.titleRentPrice==null?null:i.fieldsInfo.titleRentPrice.fieldTitle)),b("ngModel",i.dataModel.rentPricePriodTitleResourceLanguage),o(3),y("",e.value.length," / 100")}}function aP(n,l){n&1&&C(0,"hr")}function lP(n,l){if(n&1){let e=I();r(0,"div",61)(1,"div",62)(2,"h5",83),c(3),a()(),r(4,"div",64)(5,"div",65)(6,"input",94),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.depositPriceAllowAgreement,t)||(s.dataModel.depositPriceAllowAgreement=t),f(t)}),a(),C(7,"label",95),a()()()}if(n&2){let e=m();o(3),y(" ",e.fieldsInfo.depositPriceAllowAgreement==null?null:e.fieldsInfo.depositPriceAllowAgreement.fieldTitle),o(3),b("ngModel",e.dataModel.depositPriceAllowAgreement)}}function sP(n,l){if(n&1){let e=I();r(0,"div",22)(1,"label",96),c(2),a(),r(3,"input",97,13),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.titleDepositPrice,t)||(s.dataModel.titleDepositPrice=t),f(t)}),a(),r(5,"em"),c(6),a()()}if(n&2){let e=k(4),i=m();o(2),M(i.fieldsInfo.titleDepositPrice==null?null:i.fieldsInfo.titleDepositPrice.fieldTitle),o(),d("placeholder",x(i.fieldsInfo.titleDepositPrice==null?null:i.fieldsInfo.titleDepositPrice.fieldTitle)),b("ngModel",i.dataModel.titleDepositPrice),o(3),y("",e.value.length," / 100")}}function dP(n,l){if(n&1){let e=I();r(0,"div",22)(1,"label",98),c(2),a(),r(3,"input",99,14),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.titleDepositPriceResourceLanguage,t)||(s.dataModel.titleDepositPriceResourceLanguage=t),f(t)}),a(),r(5,"em"),c(6),a()()}if(n&2){let e=k(4),i=m();o(2),M(i.fieldsInfo.titleDepositPriceResourceLanguage==null?null:i.fieldsInfo.titleDepositPriceResourceLanguage.fieldTitle),o(),d("placeholder",x(i.fieldsInfo.titleDepositPriceResourceLanguage==null?null:i.fieldsInfo.titleDepositPriceResourceLanguage.fieldTitle)),b("ngModel",i.dataModel.titleDepositPriceResourceLanguage),o(3),y("",e.value.length," / 100")}}function cP(n,l){n&1&&C(0,"hr")}function pP(n,l){if(n&1){let e=I();r(0,"div",61)(1,"div",62)(2,"h5",83),c(3),a()(),r(4,"div",64)(5,"div",65)(6,"input",100),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.periodPriceAllowAgreement,t)||(s.dataModel.periodPriceAllowAgreement=t),f(t)}),a(),C(7,"label",101),a()()()}if(n&2){let e=m();o(3),y(" ",e.fieldsInfo.periodPriceAllowAgreement==null?null:e.fieldsInfo.periodPriceAllowAgreement.fieldTitle),o(3),b("ngModel",e.dataModel.periodPriceAllowAgreement)}}function mP(n,l){if(n&1){let e=I();r(0,"div",22)(1,"label",102),c(2),a(),r(3,"input",103,15),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.titlePeriodPrice,t)||(s.dataModel.titlePeriodPrice=t),f(t)}),a(),r(5,"em"),c(6),a()()}if(n&2){let e=k(4),i=m();o(2),M(i.fieldsInfo.titlePeriodPrice==null?null:i.fieldsInfo.titlePeriodPrice.fieldTitle),o(),d("placeholder",x(i.fieldsInfo.titlePeriodPrice==null?null:i.fieldsInfo.titlePeriodPrice.fieldTitle)),b("ngModel",i.dataModel.titlePeriodPrice),o(3),y("",e.value.length," / 100")}}function uP(n,l){if(n&1){let e=I();r(0,"div",22)(1,"label",104),c(2),a(),r(3,"input",105,16),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.titlePeriodPriceResourceLanguage,t)||(s.dataModel.titlePeriodPriceResourceLanguage=t),f(t)}),a(),r(5,"em"),c(6),a()()}if(n&2){let e=k(4),i=m();o(2),M(i.fieldsInfo.titlePeriodPriceResourceLanguage==null?null:i.fieldsInfo.titlePeriodPriceResourceLanguage.fieldTitle),o(),d("placeholder",x(i.fieldsInfo.titlePeriodPriceResourceLanguage==null?null:i.fieldsInfo.titlePeriodPriceResourceLanguage.fieldTitle)),b("ngModel",i.dataModel.titlePeriodPriceResourceLanguage),o(3),y("",e.value.length," / 100")}}function fP(n,l){if(n&1){let e=I();r(0,"div",106)(1,"button",107),E("click",function(){u(e);let t=m();return f(t.onFormCancel())}),C(2,"i",108),c(3),_(4,"translate"),a(),r(5,"button",109),C(6,"i",110),c(7),_(8,"translate"),a()()}if(n&2){m();let e=k(9);o(3),y(" ",g(4,3,"ACTION.CANCEL")," "),o(2),d("disabled",!e.form.valid),o(2),y(" ",g(8,5,"ACTION.SAVE")," ")}}var Xl=class Xl extends Bt{constructor(e,i,t,s,h,p,D,z,he,je){super(s,new Gn,p,je);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.estateContractTypeService=s;this.cmsToastrService=h;this.publicHelper=p;this.cdr=D;this.tokenHelper=z;this.cmsStoreService=he;this.translate=je;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new Ft;this.dataModel=new Gn;this.formInfo=new me;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore}ngOnInit(){if(this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estateContractTypeService.setAccessLoad(),this.estateContractTypeService.setAccessDataType(Be.Editor),this.estateContractTypeService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estateContractTypeService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.formAlert=t}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e),this.formInfo.formSubmitAllow=!0},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Xl.\u0275fac=function(i){return new(i||Xl)(v(be),v(Me),v(J),v(xi),v(V),v(F),v(B),v(K),v(Z),v(L))},Xl.\u0275cmp=R({type:Xl,selectors:[["app-estate-contract-type-edit"]],viewQuery:function(i,t){if(i&1&&ee(MA,5),i&2){let s;te(s=ie())&&(t.formGroup=s.first)}},standalone:!1,features:[ne],decls:136,vars:114,consts:[["vform","ngForm"],["Title",""],["titleResourceLanguage",""],["orderTitle",""],["orderTitleResourceLanguage",""],["TitleSoldIt",""],["titleSoldItResourceLanguage",""],["Description",""],["TitleSalePrice",""],["titleSalePriceResourceLanguage",""],["titleRentPriceResourceLanguage",""],["rentPricePriodTitle",""],["rentPricePriodTitleResourceLanguage",""],["TitleDepositPrice",""],["titleDepositPriceResourceLanguage",""],["TitlePeriodPrice",""],["titlePeriodPriceResourceLanguage",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit","ngStyle"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","fa fa-times  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],[4,"ngIf"],["for","dataModel.titleML",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleML","id","dataModel.titleML",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.titleResourceLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleResourceLanguage","minlength","1","maxlength","100","required","","id","dataModel.titleResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled","placeholder"],["for","dataModel.orderTitle",1,"color-highlight"],["matInput","","type","text","name","dataModel.orderTitle","minlength","3","maxlength","100","required","","id","dataModel.orderTitle",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled","placeholder"],["for","dataModel.orderTitleML",1,"color-highlight"],["matInput","","type","text","name","dataModel.orderTitleML","id","dataModel.orderTitleML",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.orderTitleResourceLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.orderTitleResourceLanguage","minlength","1","maxlength","100","required","","id","dataModel.orderTitleResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled","placeholder"],["for","dataModel.titleSoldIt",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleSoldIt","minlength","3","maxlength","100","required","","id","dataModel.titleSoldIt",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.titleSoldItML",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleSoldItML","id","dataModel.titleSoldItML",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.titleSoldItResourceLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleSoldItResourceLanguage","minlength","1","maxlength","100","required","","id","dataModel.titleSoldItResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","d-flex mb-3",4,"ngIf"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["for","dataModel.titleSalePriceML",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleSalePriceML","id","dataModel.titleSalePriceML",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.titleRentPriceML",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleRentPriceML","id","dataModel.titleRentPriceML",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.rentPricePriodTitleML",1,"color-highlight"],["matInput","","type","text","name","dataModel.rentPricePriodTitleML","id","dataModel.rentPricePriodTitleML",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.titleDepositPriceML",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleDepositPriceML","id","dataModel.titleDepositPriceML",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.titlePeriodPriceML",1,"color-highlight"],["matInput","","type","text","name","dataModel.titlePeriodPriceML","id","dataModel.titlePeriodPriceML",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["class","form-actions",4,"ngIf"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.hasPeriodPrice",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.allowPriceInquiryCalculate","name","dataModel.allowPriceInquiryCalculate",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.allowPriceInquiryCalculate",1,"custom-control-label"],["type","checkbox","id","dataModel.hasSalePrice","name","dataModel.hasSalePrice",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.hasSalePrice",1,"custom-control-label"],["type","checkbox","id","dataModel.hasRentPrice","name","dataModel.hasRentPrice",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.hasRentPrice",1,"custom-control-label"],["type","checkbox","id","dataModel.hasDepositPrice","name","dataModel.hasDepositPrice",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.hasDepositPrice",1,"custom-control-label"],["type","checkbox","id","dataModel.hasPeriodPrice","name","dataModel.hasPeriodPrice",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.hasPeriodPrice",1,"custom-control-label"],["data-trigger-switch","dataModel.salePriceAllowAgreement",1,"font-600","font-14"],["type","checkbox","id","dataModel.salePriceAllowAgreement","name","dataModel.salePriceAllowAgreement",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.salePriceAllowAgreement",1,"custom-control-label"],["for","dataModel.titleSalePrice",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleSalePrice","minlength","1","maxlength","100","id","dataModel.titleSalePrice",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.titleSalePriceResourceLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleSalePriceResourceLanguage","minlength","1","maxlength","100","id","dataModel.titleSalePriceResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["data-trigger-switch","dataModel.rentPriceAllowAgreement",1,"font-600","font-14"],["type","checkbox","id","dataModel.rentPriceAllowAgreement","name","dataModel.rentPriceAllowAgreement",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.rentPriceAllowAgreement",1,"custom-control-label"],["for","dataModel.titleRentPrice",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleRentPrice","minlength","1","maxlength","100","id","dataModel.titleRentPrice",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.titleRentPriceResourceLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleRentPriceResourceLanguage","minlength","1","maxlength","100","id","dataModel.titleRentPriceResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.rentPricePriodTitle",1,"color-highlight"],["matInput","","type","text","name","dataModel.rentPricePriodTitle","minlength","1","maxlength","100","id","dataModel.rentPricePriodTitle",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.rentPricePriodTitleResourceLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.rentPricePriodTitleResourceLanguage","minlength","1","maxlength","100","id","dataModel.rentPricePriodTitleResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["type","checkbox","id","dataModel.depositPriceAllowAgreement","name","dataModel.depositPriceAllowAgreement",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.depositPriceAllowAgreement",1,"custom-control-label"],["for","dataModel.titleDepositPrice",1,"color-highlight"],["matInput","","type","text","name","dataModel.   titleDepositPrice","minlength","1","maxlength","100","id","dataModel.titleDepositPrice",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.titleDepositPriceResourceLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleDepositPriceResourceLanguage","minlength","1","maxlength","100","id","dataModel.titleDepositPriceResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["type","checkbox","id","dataModel.periodPriceAllowAgreement","name","dataModel.periodPriceAllowAgreement",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.periodPriceAllowAgreement",1,"custom-control-label"],["for","dataModel.titlePeriodPrice",1,"color-highlight"],["matInput","","type","text","name","dataModel.titlePeriodPrice","minlength","1","maxlength","100","id","dataModel.titlePeriodPrice",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.titlePeriodPriceResourceLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.titlePeriodPriceResourceLanguage","minlength","1","maxlength","100","id","dataModel.titlePeriodPriceResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=I();r(0,"div",17),C(1,"app-progress-spinner",18),r(2,"div",19)(3,"p",20),c(4),a(),r(5,"p"),c(6),_(7,"translate"),a(),r(8,"form",21,0),E("ngSubmit",function(){return u(s),f(t.onFormSubmit())}),r(10,"div",22)(11,"label",23),c(12),a(),r(13,"input",24,1),w("ngModelChange",function(p){return u(s),T(t.dataModel.title,p)||(t.dataModel.title=p),f(p)}),a(),S(15,TA,1,0,"i",25)(16,wA,1,0,"i",26),r(17,"em"),c(18),a(),S(19,xA,5,3,"mat-error",27),a(),r(20,"div",22)(21,"label",28),c(22),a(),r(23,"input",29),w("ngModelChange",function(p){return u(s),T(t.dataModel.titleML,p)||(t.dataModel.titleML=p),f(p)}),a()(),r(24,"div",22)(25,"label",30),c(26),a(),r(27,"input",31,2),w("ngModelChange",function(p){return u(s),T(t.dataModel.titleResourceLanguage,p)||(t.dataModel.titleResourceLanguage=p),f(p)}),a(),S(29,AA,1,0,"i",25)(30,PA,1,0,"i",26),r(31,"em"),c(32),a(),S(33,kA,5,3,"mat-error",27),a(),C(34,"hr"),r(35,"div",22)(36,"label",32),c(37),a(),r(38,"input",33,3),w("ngModelChange",function(p){return u(s),T(t.dataModel.orderTitle,p)||(t.dataModel.orderTitle=p),f(p)}),a(),S(40,DA,1,0,"i",25)(41,RA,1,0,"i",26),r(42,"em"),c(43),a(),S(44,LA,5,3,"mat-error",27),a(),r(45,"div",22)(46,"label",34),c(47),a(),r(48,"input",35),w("ngModelChange",function(p){return u(s),T(t.dataModel.orderTitleML,p)||(t.dataModel.orderTitleML=p),f(p)}),a()(),r(49,"div",22)(50,"label",36),c(51),a(),r(52,"input",37,4),w("ngModelChange",function(p){return u(s),T(t.dataModel.orderTitleResourceLanguage,p)||(t.dataModel.orderTitleResourceLanguage=p),f(p)}),a(),S(54,VA,1,0,"i",25)(55,OA,1,0,"i",26),r(56,"em"),c(57),a(),S(58,FA,5,3,"mat-error",27),a(),r(59,"div",22)(60,"label",38),c(61),a(),r(62,"input",39,5),w("ngModelChange",function(p){return u(s),T(t.dataModel.titleSoldIt,p)||(t.dataModel.titleSoldIt=p),f(p)}),a(),S(64,BA,1,0,"i",25)(65,NA,1,0,"i",26),r(66,"em"),c(67),a(),S(68,HA,5,3,"mat-error",27),a(),r(69,"div",22)(70,"label",40),c(71),a(),r(72,"input",41,5),w("ngModelChange",function(p){return u(s),T(t.dataModel.titleSoldItML,p)||(t.dataModel.titleSoldItML=p),f(p)}),a()(),r(74,"div",22)(75,"label",42),c(76),a(),r(77,"input",43,6),w("ngModelChange",function(p){return u(s),T(t.dataModel.titleSoldItResourceLanguage,p)||(t.dataModel.titleSoldItResourceLanguage=p),f(p)}),a(),S(79,WA,1,0,"i",25)(80,GA,1,0,"i",26),r(81,"em"),c(82),a(),S(83,UA,5,3,"mat-error",27),a(),S(84,jA,8,2,"div",44)(85,qA,8,2,"div",44)(86,QA,8,2,"div",44)(87,zA,8,2,"div",44)(88,YA,8,2,"div",44),r(89,"div",22)(90,"label",45),c(91),a(),r(92,"textarea",46,7),w("ngModelChange",function(p){return u(s),T(t.dataModel.description,p)||(t.dataModel.description=p),f(p)}),a(),r(94,"em"),c(95),a(),S(96,KA,5,3,"mat-error",27),a(),S(97,ZA,1,0,"hr",27)(98,JA,8,2,"div",44)(99,XA,7,5,"div",47),r(100,"div",22)(101,"label",48),c(102),a(),r(103,"input",49),w("ngModelChange",function(p){return u(s),T(t.dataModel.titleSalePriceML,p)||(t.dataModel.titleSalePriceML=p),f(p)}),a()(),S(104,$A,7,5,"div",47)(105,eP,1,0,"hr",27)(106,tP,8,2,"div",44)(107,iP,5,4,"div",47),r(108,"div",22)(109,"label",50),c(110),a(),r(111,"input",51),w("ngModelChange",function(p){return u(s),T(t.dataModel.titleRentPriceML,p)||(t.dataModel.titleRentPriceML=p),f(p)}),a()(),S(112,nP,7,5,"div",47)(113,oP,7,5,"div",47),r(114,"div",22)(115,"label",52),c(116),a(),r(117,"input",53),w("ngModelChange",function(p){return u(s),T(t.dataModel.rentPricePriodTitleML,p)||(t.dataModel.rentPricePriodTitleML=p),f(p)}),a()(),S(118,rP,7,5,"div",47)(119,aP,1,0,"hr",27)(120,lP,8,2,"div",44)(121,sP,7,5,"div",47),r(122,"div",22)(123,"label",54),c(124),a(),r(125,"input",55),w("ngModelChange",function(p){return u(s),T(t.dataModel.titleDepositPriceML,p)||(t.dataModel.titleDepositPriceML=p),f(p)}),a()(),S(126,dP,7,5,"div",47)(127,cP,1,0,"hr",27)(128,pP,8,2,"div",44)(129,mP,7,5,"div",47),r(130,"div",22)(131,"label",56),c(132),a(),r(133,"input",57),w("ngModelChange",function(p){return u(s),T(t.dataModel.titlePeriodPriceML,p)||(t.dataModel.titlePeriodPriceML=p),f(p)}),a()(),S(134,uP,7,5,"div",47)(135,fP,9,7,"div",58),a()()()}if(i&2){let s=k(14),h=k(28),p=k(39),D=k(53),z=k(63),he=k(78),je=k(93);o(),d("optionsInfoAreaId",t.constructorInfoAreaId),o(3),y(" ",t.formInfo.formTitle," "),o(2),y(" ",g(7,110,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),d("ngStyle",ze(112,bA,t.tokenInfo.access.direction)),o(4),M(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),b("ngModel",t.dataModel.title),o(2),d("ngIf",!s.value),o(),d("ngIf",s.value),o(2),y("",s.value.length," / 100"),o(),d("ngIf",s.errors==null?null:s.errors.required),o(3),M(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),b("ngModel",t.dataModel.titleML),d("disabled",!0),o(3),M(t.fieldsInfo.titleResourceLanguage==null?null:t.fieldsInfo.titleResourceLanguage.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.titleResourceLanguage==null?null:t.fieldsInfo.titleResourceLanguage.fieldTitle)),b("ngModel",t.dataModel.titleResourceLanguage),d("disabled",!0),o(2),d("ngIf",!h.value),o(),d("ngIf",h.value),o(2),y("",h.value.length," / 100"),o(),d("ngIf",h.errors==null?null:h.errors.required),o(4),M(t.fieldsInfo.orderTitle==null?null:t.fieldsInfo.orderTitle.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.orderTitle==null?null:t.fieldsInfo.orderTitle.fieldTitle)),b("ngModel",t.dataModel.orderTitle),d("disabled",!0),o(2),d("ngIf",!p.value),o(),d("ngIf",p.value),o(2),y("",p.value.length," / 100"),o(),d("ngIf",p.errors==null?null:p.errors.required),o(3),M(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),b("ngModel",t.dataModel.orderTitleML),d("disabled",!0)("disabled",!0),o(3),M(t.fieldsInfo.orderTitleResourceLanguage==null?null:t.fieldsInfo.orderTitleResourceLanguage.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.orderTitleResourceLanguage==null?null:t.fieldsInfo.orderTitleResourceLanguage.fieldTitle)),b("ngModel",t.dataModel.orderTitleResourceLanguage),d("disabled",!0),o(2),d("ngIf",!D.value),o(),d("ngIf",D.value),o(2),y("",D.value.length," / 100"),o(),d("ngIf",D.errors==null?null:D.errors.required),o(3),M(t.fieldsInfo.titleSoldIt==null?null:t.fieldsInfo.titleSoldIt.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.titleSoldIt==null?null:t.fieldsInfo.titleSoldIt.fieldTitle)),b("ngModel",t.dataModel.titleSoldIt),o(2),d("ngIf",!z.value),o(),d("ngIf",z.value),o(2),y("",z.value.length," / 100"),o(),d("ngIf",z.errors==null?null:z.errors.required),o(3),M(t.fieldsInfo.titleSoldIt==null?null:t.fieldsInfo.titleSoldIt.fieldTitle),o(),b("ngModel",t.dataModel.titleSoldItML),d("disabled",!0),o(4),M(t.fieldsInfo.titleSoldItResourceLanguage==null?null:t.fieldsInfo.titleSoldItResourceLanguage.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.titleSoldItResourceLanguage==null?null:t.fieldsInfo.titleSoldItResourceLanguage.fieldTitle)),b("ngModel",t.dataModel.titleSoldItResourceLanguage),o(2),d("ngIf",!z.value),o(),d("ngIf",z.value),o(2),y("",he.value.length," / 100"),o(),d("ngIf",he.errors==null?null:he.errors.required),o(),d("ngIf",t.fieldsInfo.allowPriceInquiryCalculate==null?null:t.fieldsInfo.allowPriceInquiryCalculate.accessWatchField),o(),d("ngIf",t.fieldsInfo.hasSalePrice==null?null:t.fieldsInfo.hasSalePrice.accessWatchField),o(),d("ngIf",t.fieldsInfo.hasRentPrice==null?null:t.fieldsInfo.hasRentPrice.accessWatchField),o(),d("ngIf",t.fieldsInfo.hasDepositPrice==null?null:t.fieldsInfo.hasDepositPrice.accessWatchField),o(),d("ngIf",t.fieldsInfo.hasPeriodPrice==null?null:t.fieldsInfo.hasPeriodPrice.accessWatchField),o(3),M(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),b("ngModel",t.dataModel.description),o(3),y("",je.value.length," / 500"),o(),d("ngIf",je.errors==null?null:je.errors.required),o(),d("ngIf",t.dataModel.hasSalePrice),o(),d("ngIf",t.fieldsInfo.salePriceAllowAgreement==null?null:t.fieldsInfo.salePriceAllowAgreement.accessWatchField),o(),d("ngIf",t.dataModel.hasSalePrice),o(3),M(t.fieldsInfo.titleSalePrice==null?null:t.fieldsInfo.titleSalePrice.fieldTitle),o(),b("ngModel",t.dataModel.titleSalePriceML),d("disabled",!0),o(),d("ngIf",t.dataModel.hasSalePrice),o(),d("ngIf",t.dataModel.hasRentPrice),o(),d("ngIf",t.fieldsInfo.rentPriceAllowAgreement==null?null:t.fieldsInfo.rentPriceAllowAgreement.accessWatchField),o(),d("ngIf",t.dataModel.hasRentPrice),o(3),M(t.fieldsInfo.titleRentPrice==null?null:t.fieldsInfo.titleRentPrice.fieldTitle),o(),b("ngModel",t.dataModel.titleRentPriceML),d("disabled",!0),o(),d("ngIf",t.dataModel.hasRentPrice),o(),d("ngIf",t.dataModel.hasRentPrice),o(3),M(t.fieldsInfo.rentPricePriodTitle==null?null:t.fieldsInfo.rentPricePriodTitle.fieldTitle),o(),b("ngModel",t.dataModel.rentPricePriodTitleML),d("disabled",!0),o(),d("ngIf",t.dataModel.hasRentPrice),o(),d("ngIf",t.dataModel.hasDepositPrice),o(),d("ngIf",t.fieldsInfo.depositPriceAllowAgreement==null?null:t.fieldsInfo.depositPriceAllowAgreement.accessWatchField),o(),d("ngIf",t.dataModel.hasDepositPrice),o(3),M(t.fieldsInfo.titleDepositPriceML==null?null:t.fieldsInfo.titleDepositPriceML.fieldTitle),o(),b("ngModel",t.dataModel.titleDepositPriceML),d("disabled",!0),o(),d("ngIf",t.dataModel.hasDepositPrice),o(),d("ngIf",t.dataModel.hasPeriodPrice),o(),d("ngIf",t.fieldsInfo.periodPriceAllowAgreement==null?null:t.fieldsInfo.periodPriceAllowAgreement.accessWatchField),o(),d("ngIf",t.dataModel.hasPeriodPrice),o(3),M(t.fieldsInfo.titlePeriodPriceML==null?null:t.fieldsInfo.titlePeriodPriceML.fieldTitle),o(),b("ngModel",t.dataModel.titlePeriodPriceML),d("disabled",!0),o(),d("ngIf",t.dataModel.hasPeriodPrice),o(),d("ngIf",t.formInfo.formSubmitAllow)}},dependencies:[N,tt,ke,Y,Ht,q,Te,de,De,Ae,ce,Pe,we,Q,U,O],styles:[".backgroundColor[_ngcontent-%COMP%]{background-color:#d3d3d3}.form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});var Gc=Xl;var _P=()=>[5,10,20,100];function gP(n,l){if(n&1){let e=I();r(0,"div",17)(1,"a",40),E("click",function(){u(e);let t=m();return f(t.onActionButtonNewRow())}),C(2,"i",41)(3,"br"),a(),r(4,"p",20),c(5),_(6,"translate"),a()()}n&2&&(o(5),M(g(6,1,"ACTION.ADD")))}function hP(n,l){if(n&1){let e=I();r(0,"div",17)(1,"a",42),E("click",function(){u(e);let t=m();return f(t.onActionButtonEditRow(t.tableRowSelected))}),C(2,"i",43)(3,"br"),a(),r(4,"p",20),c(5),_(6,"translate"),a()()}n&2&&(o(5),M(g(6,1,"ACTION.EDIT")))}function yP(n,l){if(n&1){let e=I();r(0,"div",17)(1,"a",44),E("click",function(){u(e);let t=m();return f(t.onActionButtonDeleteRow(t.tableRowSelected))}),C(2,"i",45)(3,"br"),a(),r(4,"p",20),c(5),_(6,"translate"),a()()}n&2&&(o(5),M(g(6,1,"ACTION.DELETE")))}function CP(n,l){if(n&1&&(r(0,"mat-header-cell",46),c(1),a()),n&2){let e=m();o(),y(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function SP(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),y(" ",e.id," ")}}function vP(n,l){if(n&1&&(r(0,"mat-header-cell",46),c(1),a()),n&2){let e=m();o(),y(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," ")}}function EP(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),$(" ",e.title," / ",e.orderTitle," ")}}function IP(n,l){if(n&1&&(r(0,"mat-header-cell",46),c(1),a()),n&2){let e=m();o(),y(" ",e.fieldsInfo.hasSalePrice==null?null:e.fieldsInfo.hasSalePrice.fieldTitle," ")}}function MP(n,l){if(n&1&&(r(0,"mat-cell"),C(1,"i",47),_(2,"boolclass"),a()),n&2){let e=l.$implicit;o(),d("ngClass",g(2,1,e.hasSalePrice))}}function bP(n,l){if(n&1&&(r(0,"mat-header-cell",46),c(1),a()),n&2){let e=m();o(),y(" ",e.fieldsInfo.hasDepositPrice==null?null:e.fieldsInfo.hasDepositPrice.fieldTitle," ")}}function TP(n,l){if(n&1&&(r(0,"mat-cell"),C(1,"i",47),_(2,"boolclass"),a()),n&2){let e=l.$implicit;o(),d("ngClass",g(2,1,e.hasDepositPrice))}}function wP(n,l){if(n&1&&(r(0,"mat-header-cell",46),c(1),a()),n&2){let e=m();o(),y(" ",e.fieldsInfo.hasPeriodPrice==null?null:e.fieldsInfo.hasPeriodPrice.fieldTitle," ")}}function xP(n,l){if(n&1&&(r(0,"mat-cell"),C(1,"i",47),_(2,"boolclass"),a()),n&2){let e=l.$implicit;o(),d("ngClass",g(2,1,e.hasPeriodPrice))}}function AP(n,l){if(n&1&&(r(0,"mat-header-cell",46),c(1),a()),n&2){let e=m();o(),y(" ",e.fieldsInfo.hasRentPrice==null?null:e.fieldsInfo.hasRentPrice.fieldTitle," ")}}function PP(n,l){if(n&1&&(r(0,"mat-cell"),C(1,"i",47),_(2,"boolclass"),a()),n&2){let e=l.$implicit;o(),d("ngClass",g(2,1,e.hasRentPrice))}}function kP(n,l){n&1&&(r(0,"mat-header-cell"),c(1),_(2,"translate"),a()),n&2&&(o(),y(" ",g(2,1,"TITLE.OPTION")," "))}function DP(n,l){if(n&1&&(r(0,"mat-cell",48)(1,"button",49)(2,"mat-icon"),c(3,"more_vert"),a()(),C(4,"mat-menu",null,2),a()),n&2){let e=k(5);o(),d("matMenuTriggerFor",e)}}function RP(n,l){n&1&&C(0,"mat-header-row")}function LP(n,l){if(n&1){let e=I();r(0,"mat-row",50),E("click",function(){let t=u(e).$implicit,s=m();return f(s.onActionTableRowSelect(t))}),a()}if(n&2){let e=l.$implicit,i=l.dataIndex,t=m();Se("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",e.id===(t.tableRowSelected==null?null:t.tableRowSelected.id))}}var $l=class $l extends bt{constructor(e,i,t,s,h,p,D,z,he,je,Ge,mt){super(e,new Gn,Ge,h,z);this.contentService=e;this.cmsConfirmationDialogService=i;this.cmsToastrService=t;this.cmsStoreService=s;this.tokenHelper=h;this.router=p;this.cdr=D;this.translate=z;this.pageInfo=he;this.themeService=je;this.publicHelper=Ge;this.dialog=mt;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new pe;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["HasSalePrice","HasDepositPrice","HasRentPrice","HasPeriodPrice"];this.tabledisplayedColumnsMobileSource=["HasSalePrice","HasDepositPrice","HasRentPrice","HasPeriodPrice"];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:Nt=>this.onSubmitOptionsSearch(Nt)},this.filteModelContent.sortColumn="Title",this.filteModelContent.sortType=X.Ascending}ngOnInit(){this.filteModelContent.sortColumn="Title",this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.cmsApiStoreSubscribe=this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>re(this,null,function*(){this.tokenInfo=e,this.DataGetAll()}))}ngOnDestroy(){this.cmsApiStoreSubscribe&&this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Gn);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),t.isSuccess?(this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=X.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=X.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=X.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(Wc,{height:"90%",panelClass:e,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Gc,{height:"90%",panelClass:i,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(s=>{this.cmsToastrService.typeErrorSelected(s)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(s=>{i=s["MESSAGE.Please_Confirm"],t=s["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(s=>{if(s){let h=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(p=>{this.publicHelper.processService.processStart(h,p,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:p=>{p.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(h)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(h,!1)}})}}).catch(()=>{})}onActionButtonContentList(e=this.tableRowSelected,i){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}this.onActionTableRowSelect(e),i?.ctrlKey?(this.link="/#/estate/property/LinkContractTypeId/"+this.tableRowSelected.id,window.open(this.link,"_blank")):this.router.navigate(["/estate/property/LinkContractTypeId/",this.tableRowSelected.id])}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(p=>{i.set(p,0)}),this.translate.get("MESSAGE.All").subscribe(p=>{i.set(p,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(p=>{this.publicHelper.processService.processStart(t,p,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:p=>{p.isSuccess?(this.translate.get("MESSAGE.All").subscribe(D=>{i.set(D,p.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(p.errorMessage),this.publicHelper.processService.processStop(t)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(t,!1)}});let s=JSON.parse(JSON.stringify(this.filteModelContent)),h=new H;h.propertyName="RecordStatus",h.value=qe.Available,s.filters.push(h),this.contentService.ServiceGetCount(s).subscribe({next:p=>{p.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(D=>{i.set(D,p.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(p.errorMessage),this.publicHelper.processService.processStop(t)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0&&(this.filteModelContent.filters=[...this.filteModelContent.filters,...e]),this.DataGetAll()}};$l.\u0275fac=function(i){return new(i||$l)(v(xi),v(Mt),v(V),v(Z),v(K),v(Ze),v(B),v(L),v(ht),v(kt),v(F),v(xe))},$l.\u0275cmp=R({type:$l,selectors:[["app-estate-contract-type-list"]],standalone:!1,features:[ne],decls:63,vars:31,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-list","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","Title"],["matColumnDef","HasSalePrice"],["matColumnDef","HasDepositPrice"],["matColumnDef","HasPeriodPrice"],["matColumnDef","HasRentPrice"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[3,"click"]],template:function(i,t){if(i&1){let s=I();r(0,"app-cms-html-list",3),w("optionActionGuideNoticeDisplayChange",function(p){return u(s),T(t.viewGuideNotice,p)||(t.viewGuideNotice=p),f(p)}),E("optionOnActionButtonMemoRow",function(){return u(s),f(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return u(s),f(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return u(s),f(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return u(s),f(t.onActionButtonPrintRow())}),A(1,4),c(2," -------------------------------------- "),P(),Qe(3,5)(4,6),A(5,7),r(6,"a",8),E("click",function(){return u(s),f(t.viewGuideNotice=!t.viewGuideNotice)}),C(7,"i",9),a(),r(8,"a",8),E("click",function(){return u(s),f(t.onActionButtonReload())}),C(9,"i",10),a(),P(),A(10,11),r(11,"a",12),E("click",function(){return u(s),f(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),C(12,"mat-slide-toggle",13),c(13),_(14,"translate"),a(),r(15,"a",12),E("click",function(){return u(s),f(t.onActionButtonStatist())}),C(16,"mat-slide-toggle",13),c(17),_(18,"translate"),a(),P(),A(19,14),S(20,gP,7,3,"div",15),P(),A(21,16),S(22,hP,7,3,"div",15)(23,yP,7,3,"div",15),r(24,"div",17)(25,"a",18),E("click",function(p){return u(s),f(t.onActionButtonContentList(t.tableRowSelected,p))}),C(26,"i",19)(27,"br"),a(),r(28,"p",20),c(29),_(30,"translate"),a()(),P(),A(31,21),r(32,"app-cms-search-list",22),w("optionsChange",function(p){return u(s),T(t.optionsSearch,p)||(t.optionsSearch=p),f(p)}),a(),r(33,"app-cms-statist-list",22),w("optionsChange",function(p){return u(s),T(t.optionsStatist,p)||(t.optionsStatist=p),f(p)}),a(),P(),A(34,23),r(35,"mat-table",24,0),E("matSortChange",function(){u(s);let p=k(36);return f(t.onTableSortData(p))}),A(37,25),S(38,CP,2,1,"mat-header-cell",26)(39,SP,2,1,"mat-cell",27),P(),A(40,28),S(41,vP,2,1,"mat-header-cell",26)(42,EP,2,2,"mat-cell",27),P(),A(43,29),S(44,IP,2,1,"mat-header-cell",26)(45,MP,3,3,"mat-cell",27),P(),A(46,30),S(47,bP,2,1,"mat-header-cell",26)(48,TP,3,3,"mat-cell",27),P(),A(49,31),S(50,wP,2,1,"mat-header-cell",26)(51,xP,3,3,"mat-cell",27),P(),A(52,32),S(53,AP,2,1,"mat-header-cell",26)(54,PP,3,3,"mat-cell",27),P(),A(55,33),S(56,kP,3,3,"mat-header-cell",34)(57,DP,6,1,"mat-cell",35),P(),S(58,RP,1,0,"mat-header-row",36)(59,LP,1,6,"mat-row",37),a(),P(),A(60,38),r(61,"mat-paginator",39,1),E("page",function(p){return u(s),f(t.onTablePageingData(p))}),a(),P(),a()}i&2&&(d("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),b("optionActionGuideNoticeDisplay",t.viewGuideNotice),d("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelectDoubleClick)("optionSelectRowItemTitle",(t.tableRowSelected==null||t.tableRowSelected.title==null?null:t.tableRowSelected.title.length)>0?t.tableRowSelected==null?null:t.tableRowSelected.title:t.tableRowSelected==null?null:t.tableRowSelected.id),o(12),d("checked",t.optionsSearch.data.show),o(),y("",g(14,24,"ACTION.SEARCH")," "),o(3),d("checked",t.optionsStatist.data.show),o(),y("",g(18,26,"ACTION.STATIST")," "),o(3),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessAddRow),o(2),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),o(),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),o(6),M(g(30,28,"ACTION.Property_to_be_traded")),o(3),b("options",t.optionsSearch),o(),b("options",t.optionsStatist),o(2),d("dataSource",t.tableSource),o(23),d("matHeaderRowDef",t.tabledisplayedColumns),o(),d("matRowDefColumns",t.tabledisplayedColumns),o(2),d("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",le(30,_P)))},dependencies:[se,N,Je,Ee,At,Pt,vt,gt,Et,It,it,ot,st,rt,nt,dt,at,lt,ct,pt,Tt,wt,xt,O,rr],encapsulation:2});var Uc=$l;var VP=["vform"];function OP(n,l){if(n&1){let e=I();r(0,"div",7)(1,"button",12),E("click",function(){u(e);let t=m();return f(t.onFormCancel())}),C(2,"i",13),c(3),_(4,"translate"),a()()}n&2&&(o(3),y(" ",g(4,1,"ACTION.CANCEL")," "))}var es=class es{constructor(l,e,i,t,s,h,p,D,z,he){this.data=l;this.dialogRef=e;this.coreEnumService=i;this.estateCustomerOrderResultService=t;this.cmsToastrService=s;this.tokenHelper=h;this.cmsStoreService=p;this.cdr=D;this.publicHelper=z;this.translate=he;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.tokenInfo=new St;this.dataModelResult=new G;this.dataModel=new Td;this.formInfo=new me;this.fieldsInfo=new Map;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,l&&(this.requestId=l.id+"")}ngOnInit(){if(this.translate.get("aaaaaaaaaTITLE.VIEWaaaaa").subscribe(l=>{this.formInfo.formTitle=l}),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.cmsApiStoreSubscribe=this.cmsStoreService.getState(l=>l.tokenInfoStore).subscribe(l=>re(this,null,function*(){this.tokenInfo=l}))}ngOnDestroy(){this.cmsApiStoreSubscribe&&this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError="";let l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(l,e,this.constructorInfoAreaId)}),this.estateCustomerOrderResultService.setAccessLoad(),this.estateCustomerOrderResultService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModel=e.item,e.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+e.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError=e.errorMessage,this.cmsToastrService.typeErrorMessage(e.errorMessage)),this.publicHelper.processService.processStop(l)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(l,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};es.\u0275fac=function(e){return new(e||es)(v(be),v(Me),v(J),v(Ia),v(V),v(K),v(Z),v(B),v(F),v(L))},es.\u0275cmp=R({type:es,selectors:[["app-estate-customer-order-result-view"]],viewQuery:function(e,i){if(e&1&&ee(VP,5),e&2){let t;te(t=ie())&&(i.formGroup=t.first)}},standalone:!1,decls:18,vars:10,consts:[[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,i){e&1&&(r(0,"div",0),C(1,"app-progress-spinner",1),r(2,"div",2)(3,"p",3),c(4),a(),r(5,"p"),c(6),_(7,"translate"),a(),r(8,"div",4),C(9,"app-cms-json-list",5),a(),r(10,"div",6)(11,"div",7)(12,"small",8),c(13),a(),r(14,"small",9),c(15),a()()(),r(16,"div",10),S(17,OP,5,3,"div",11),a()()()),e&2&&(o(),d("optionsInfoAreaId",i.constructorInfoAreaId),o(3),y(" ",i.formInfo.formTitle," "),o(2),y(" ",g(7,8,"TITLE.Be_Careful_When_Entering_Information")," "),o(3),d("dataModel",i.dataModel)("optionMethod",1),o(4),y("",i.formInfo.formAlert," "),o(2),y("",i.formInfo.formError," "),o(2),d("ngIf",i.formInfo.formSubmitAllow))},dependencies:[N,U,Xm,O],encapsulation:2});var jc=es;var FP=()=>[5,10,20,100];function BP(n,l){if(n&1&&C(0,"app-estate-customer-order-header",30),n&2){let e=m();d("optionId",e.requestLinkCustomerOrder)}}function NP(n,l){if(n&1){let e=I();r(0,"div",31)(1,"a",32),E("click",function(){u(e);let t=m();return f(t.onActionButtonViewRow(t.tableRowSelected))}),C(2,"i",33)(3,"br"),a(),r(4,"p",34),c(5),_(6,"translate"),a()()}n&2&&(o(5),M(g(6,1,"ACTION.VIEW")))}function HP(n,l){if(n&1){let e=I();r(0,"div",31)(1,"a",35),E("click",function(){u(e);let t=m();return f(t.onActionButtonDeleteRow(t.tableRowSelected))}),C(2,"i",36)(3,"br"),a(),r(4,"p",34),c(5),_(6,"translate"),a()()}n&2&&(o(5),M(g(6,1,"ACTION.DELETE")))}function WP(n,l){if(n&1&&(r(0,"mat-header-cell",37),c(1),a()),n&2){let e=m();o(),y(" ",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle," ")}}function GP(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),y(" ",e.description," ")}}function UP(n,l){n&1&&C(0,"mat-header-row")}function jP(n,l){if(n&1){let e=I();r(0,"mat-row",38),E("click",function(){let t=u(e).$implicit,s=m();return f(s.onActionTableRowSelect(t))}),a()}if(n&2){let e=l.$implicit,i=l.dataIndex,t=m();Se("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",e.id===(t.tableRowSelected==null?null:t.tableRowSelected.id))}}var ts=class ts extends bt{constructor(e,i,t,s,h,p,D,z,he,je,Ge,mt,Nt){super(e,new Td,mt,p,z);this.contentService=e;this.activatedRoute=i;this.cmsToastrService=t;this.cmsConfirmationDialogService=s;this.router=h;this.tokenHelper=p;this.cdr=D;this.translate=z;this.cmsStoreService=he;this.themeService=je;this.pageInfo=Ge;this.publicHelper=mt;this.dialog=Nt;this.requestLinkCustomerOrder="";this.requestLinkProperty="";this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new pe;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["Description"];this.tabledisplayedColumnsMobileSource=["Description"];if(this.publicHelper.processService.cdr=this.cdr,this.requestLinkCustomerOrder=this.activatedRoute.snapshot.paramMap.get("LinkCustomerOrder"),this.requestLinkProperty=this.activatedRoute.snapshot.paramMap.get("LinkProperty"),this.optionsSearch.parentMethods={onSubmit:Rt=>this.onSubmitOptionsSearch(Rt)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=X.Descending,this.requestLinkCustomerOrder&&this.requestLinkCustomerOrder.length>0){let Rt=new H;this.requestLinkCustomerOrder&&this.requestLinkCustomerOrder.length>0&&(Rt.propertyName="LinkCustomerOrder",Rt.value=this.requestLinkCustomerOrder,this.filteModelContent.filters.push(Rt))}if(this.requestLinkProperty&&this.requestLinkProperty.length>0){let Rt=new H;this.requestLinkProperty&&this.requestLinkProperty.length>0&&(Rt.propertyName="LinkProperty",Rt.value=this.requestLinkProperty,this.filteModelContent.filters.push(Rt))}}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.cmsApiStoreSubscribe=this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>re(this,null,function*(){this.tokenInfo=e,this.DataGetAll()}))}ngOnDestroy(){this.cmsApiStoreSubscribe&&this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Td);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAll(i).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),t.isSuccess?(this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=X.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=X.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=X.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(s=>{this.cmsToastrService.typeErrorSelected(s)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(s=>{i=s["MESSAGE.Please_Confirm"],t=s["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(s=>{if(s){let h=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(p=>{this.publicHelper.processService.processStart(h,p,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:p=>{p.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(h)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(h,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(p=>{i.set(p,0)}),this.translate.get("MESSAGE.All").subscribe(p=>{i.set(p,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(p=>{this.publicHelper.processService.processStart(t,p,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:p=>{p.isSuccess?(this.translate.get("MESSAGE.All").subscribe(D=>{i.set(D,p.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(p.errorMessage),this.publicHelper.processService.processStop(t)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(t,!1)}});let s=JSON.parse(JSON.stringify(this.filteModelContent)),h=new H;h.propertyName="RecordStatus",h.value=qe.Available,s.filters.push(h),this.contentService.ServiceGetCount(s).subscribe({next:p=>{p.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(D=>{i.set(D,p.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(p.errorMessage),this.publicHelper.processService.processStop(t)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonViewRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(jc,{height:"90%",panelClass:i,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0&&(this.filteModelContent.filters=[...this.filteModelContent.filters,...e]),this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/estate/customer-order/"])}};ts.\u0275fac=function(i){return new(i||ts)(v(Ia),v(jt),v(V),v(Mt),v(Ze),v(K),v(B),v(L),v(Z),v(kt),v(ht),v(F),v(xe))},ts.\u0275cmp=R({type:ts,selectors:[["app-estate-customer-order-result-list"]],standalone:!1,features:[ne],decls:39,vars:28,consts:[["tableSort","matSort"],["paginator",""],[3,"optionId",4,"ngIf"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","Description"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],[3,"optionId"],[1,"col-4"],["type","button","target","_blank","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"click"]],template:function(i,t){if(i&1){let s=I();S(0,BP,1,1,"app-estate-customer-order-header",2),r(1,"app-cms-html-list",3),w("optionActionGuideNoticeDisplayChange",function(p){return u(s),T(t.viewGuideNotice,p)||(t.viewGuideNotice=p),f(p)}),E("optionOnActionButtonMemoRow",function(){return u(s),f(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return u(s),f(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return u(s),f(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return u(s),f(t.onActionButtonPrintRow())}),Qe(2,4)(3,5)(4,6),A(5,7),r(6,"a",8),E("click",function(){return u(s),f(t.onActionBackToParent())}),C(7,"i",9),a(),r(8,"a",10),E("click",function(){return u(s),f(t.viewGuideNotice=!t.viewGuideNotice)}),C(9,"i",11),a(),r(10,"a",10),E("click",function(){return u(s),f(t.onActionButtonReload())}),C(11,"i",12),a(),P(),A(12,13),r(13,"a",14),E("click",function(){return u(s),f(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),C(14,"mat-slide-toggle",15),c(15),_(16,"translate"),a(),r(17,"a",14),E("click",function(){return u(s),f(t.onActionButtonStatist())}),C(18,"mat-slide-toggle",15),c(19),_(20,"translate"),a(),P(),Qe(21,16),A(22,17),S(23,NP,7,3,"div",18)(24,HP,7,3,"div",18),P(),A(25,19),r(26,"app-cms-search-list",20),w("optionsChange",function(p){return u(s),T(t.optionsSearch,p)||(t.optionsSearch=p),f(p)}),a(),r(27,"app-cms-statist-list",20),w("optionsChange",function(p){return u(s),T(t.optionsStatist,p)||(t.optionsStatist=p),f(p)}),a(),P(),A(28,21),r(29,"mat-table",22,0),E("matSortChange",function(){u(s);let p=k(30);return f(t.onTableSortData(p))}),A(31,23),S(32,WP,2,1,"mat-header-cell",24)(33,GP,2,1,"mat-cell",25),P(),S(34,UP,1,0,"mat-header-row",26)(35,jP,1,6,"mat-row",27),a(),P(),A(36,28),r(37,"mat-paginator",29,1),E("page",function(p){return u(s),f(t.onTablePageingData(p))}),a(),P(),a()}i&2&&(d("ngIf",(t.requestLinkCustomerOrder==null?null:t.requestLinkCustomerOrder.length)>0),o(),d("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),b("optionActionGuideNoticeDisplay",t.viewGuideNotice),d("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelectDoubleClick)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),o(13),d("checked",t.optionsSearch.data.show),o(),y("",g(16,23,"ACTION.SEARCH")," "),o(3),d("checked",t.optionsStatist.data.show),o(),y("",g(20,25,"ACTION.STATIST")," "),o(4),d("ngIf",(t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessWatchRow)&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0),o(),d("ngIf",(t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow)&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0),o(2),b("options",t.optionsSearch),o(),b("options",t.optionsStatist),o(2),d("dataSource",t.tableSource),o(5),d("matHeaderRowDef",t.tabledisplayedColumns),o(),d("matRowDefColumns",t.tabledisplayedColumns),o(2),d("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",le(27,FP)))},dependencies:[N,vt,gt,Et,It,it,ot,st,rt,nt,dt,at,lt,ct,pt,Tt,wt,xt,fr,O],encapsulation:2});var Ld=ts;var qP=["vform"];function QP(n,l){if(n&1){let e=I();r(0,"button",19),E("click",function(){u(e);let t=m(3);return f(t.onActionNext())}),C(1,"i",20),c(2," < "),a()}}function zP(n,l){if(n&1){let e=I();r(0,"button",19),E("click",function(){u(e);let t=m(3);return f(t.onActionPervious())}),C(1,"i",20),c(2," > "),a()}}function YP(n,l){if(n&1){let e=I();r(0,"div",15)(1,"button",19),E("click",function(){u(e);let t=m(2);return f(t.onFormCancel())}),C(2,"i",20),c(3),_(4,"translate"),a(),S(5,QP,3,0,"button",21)(6,zP,3,0,"button",21),a()}if(n&2){let e=m(2);o(3),y(" ",g(4,3,"ACTION.CANCEL")," "),o(2),d("ngIf",e.requestNextItem&&(e.requestNextItem==null||e.requestNextItem.id==null?null:e.requestNextItem.id.length)>0),o(),d("ngIf",e.requestPerviousItem&&(e.requestPerviousItem==null||e.requestPerviousItem.id==null?null:e.requestPerviousItem.id.length)>0)}}function KP(n,l){if(n&1&&(r(0,"tr")(1,"td"),c(2),_(3,"translate"),a(),r(4,"td"),c(5),a()()),n&2){let e=m(2);o(2),y("",g(3,2,"TITLE.Description_Hidden"),":"),o(3),M(e.dataModel.descriptionHidden)}}function ZP(n,l){if(n&1){let e=I();r(0,"button",19),E("click",function(){u(e);let t=m(3);return f(t.onActionNext())}),C(1,"i",20),c(2," < "),a()}}function JP(n,l){if(n&1){let e=I();r(0,"button",19),E("click",function(){u(e);let t=m(3);return f(t.onActionPervious())}),C(1,"i",20),c(2," > "),a()}}function XP(n,l){if(n&1){let e=I();r(0,"div",15)(1,"button",19),E("click",function(){u(e);let t=m(2);return f(t.onFormCancel())}),C(2,"i",20),c(3),_(4,"translate"),a(),S(5,ZP,3,0,"button",21)(6,JP,3,0,"button",21),a()}if(n&2){let e=m(2);o(3),y(" ",g(4,3,"ACTION.CANCEL")," "),o(2),d("ngIf",e.requestNextItem&&(e.requestNextItem==null||e.requestNextItem.id==null?null:e.requestNextItem.id.length)>0),o(),d("ngIf",e.requestPerviousItem&&(e.requestPerviousItem==null||e.requestPerviousItem.id==null?null:e.requestPerviousItem.id.length)>0)}}function $P(n,l){if(n&1&&(A(0),r(1,"div",9),S(2,YP,7,5,"div",10),a(),r(3,"div",11)(4,"table",12)(5,"tbody")(6,"tr")(7,"td"),c(8),a(),r(9,"td"),C(10,"i",13),_(11,"statusIconClass"),a()(),r(12,"tr")(13,"td"),c(14),a(),r(15,"td"),c(16),a()(),r(17,"tr")(18,"td")(19,"b"),c(20),a()(),r(21,"td")(22,"b"),c(23),a()()(),r(24,"tr")(25,"td"),c(26),a(),r(27,"td"),c(28),_(29,"cmsuserinfo"),_(30,"async"),a()(),r(31,"tr")(32,"td"),c(33),a(),r(34,"td"),c(35),a()(),r(36,"tr")(37,"td"),c(38),_(39,"translate"),a(),r(40,"td"),c(41),a()(),S(42,KP,6,4,"tr",8),a()()(),r(43,"div",14)(44,"div",15)(45,"small",16),c(46),a(),r(47,"small",17),c(48),a()()(),r(49,"div",18),S(50,XP,7,5,"div",10),a(),P()),n&2){let e=m();o(2),d("ngIf",e.formInfo.formSubmitAllow),o(6),y("",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle,":"),o(2),d("ngClass",g(11,17,e.dataModel.recordStatus)),o(4),y("",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle,":"),o(2),M(e.dataModel.title),o(4),y(" ",e.fieldsInfo.caseCode==null?null:e.fieldsInfo.caseCode.fieldTitle,":"),o(3),M(e.dataModel.caseCode),o(3),y("",e.fieldsInfo.createdBy==null?null:e.fieldsInfo.createdBy.fieldTitle,":"),o(2),M(g(30,21,g(29,19,e.dataModel.createdBy))),o(5),y("",e.fieldsInfo.linkEstateExpertId==null?null:e.fieldsInfo.linkEstateExpertId.fieldTitle,":"),o(2),M(e.dataModel.linkEstateExpertId),o(3),y("",g(39,23,"TITLE.General_Description"),":"),o(3),M(e.dataModel.description),o(),d("ngIf",e.fieldsInfo.descriptionHidden==null?null:e.fieldsInfo.descriptionHidden.accessWatchField),o(4),y("",e.formInfo.formAlert," "),o(2),y("",e.formInfo.formError," "),o(2),d("ngIf",e.formInfo.formSubmitAllow)}}var is=class is{constructor(l,e,i,t,s,h,p,D,z,he){this.data=l;this.dialogRef=e;this.coreEnumService=i;this.estateCustomerOrderService=t;this.cmsToastrService=s;this.tokenHelper=h;this.cmsStoreService=p;this.cdr=D;this.publicHelper=z;this.translate=he;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.tokenInfo=new St;this.dataModelResult=new G;this.dataModelEstateContractTypeResult=new G;this.dataModel=new Mn;this.formInfo=new me;this.fieldsInfo=new Map;this.optionTabledataSource=new li;this.optionTabledisplayedColumns=["LinkEstateContractTypeId","Price"];this.fileManagerOpenForm=!1;this.errorMessage="";this.enumInputDataType=Ri;this.step=0;this.publicHelper.processService.cdr=this.cdr,l&&(this.requestId=l.id+"",this.requestPerviousItem=l.perviousItem,this.requestNextItem=l.nextItem)}ngOnInit(){if(this.translate.get("TITLE.QUICK_VIEW").subscribe(l=>{this.formInfo.formTitle=l}),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.cmsApiStoreSubscribe=this.cmsStoreService.getState(l=>l.tokenInfoStore).subscribe(l=>re(this,null,function*(){this.tokenInfo=l}))}ngOnDestroy(){this.cmsApiStoreSubscribe&&this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError="";let l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(l,e,this.constructorInfoAreaId)}),this.estateCustomerOrderService.setAccessLoad(),this.estateCustomerOrderService.setAccessDataType(Be.Editor),this.estateCustomerOrderService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModel=e.item,e.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError=e.errorMessage,this.errorMessage=e.errorMessage+"<br> ( "+e.errorTypeTitle+" ) ",this.cmsToastrService.typeErrorMessage(this.errorMessage)),this.publicHelper.processService.processStop(l)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(l,!1)}})}setStep(l){this.step=l}nextStep(){this.step++}prevStep(){this.step--}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}onActionNext(){this.dialogRef.close({dialogChangedDate:!0,onActionOpenItem:this.requestNextItem})}onActionPervious(){this.dialogRef.close({dialogChangedDate:!0,onActionOpenItem:this.requestPerviousItem})}};is.\u0275fac=function(e){return new(e||is)(v(be),v(Me),v(J),v(Yi),v(V),v(K),v(Z),v(B),v(F),v(L))},is.\u0275cmp=R({type:is,selectors:[["app-estate-property-history-quick-view"]],viewQuery:function(e,i){if(e&1&&ee(qP,5),e&2){let t;te(t=ie())&&(i.formGroup=t.first)}},standalone:!1,decls:12,vars:4,consts:[[1,"card","card-style","loader-container",2,"height","100vh","overflow-y","auto"],[3,"optionsInfoAreaId"],[1,"menu-title"],[1,"color-highlight"],[1,"close-menu",3,"click"],[1,"fa","fa-times-circle"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[4,"ngIf"],[1,"ntk-cms-html-card-header"],["class","form-actions",4,"ngIf"],["dir","rtl",1,"ntk-cms-html-card-body","ntk-allow-text-selection"],[1,"table","table-striped"],[3,"ngClass"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray",3,"click",4,"ngIf"]],template:function(e,i){e&1&&(r(0,"div",0),C(1,"app-progress-spinner",1),r(2,"div",2)(3,"p",3),c(4),a(),r(5,"a",4),E("click",function(){return i.onFormCancel()}),C(6,"i",5),a(),C(7,"hr"),a(),r(8,"div",6)(9,"p",7),c(10),a(),S(11,$P,51,25,"ng-container",8),a()()),e&2&&(o(),d("optionsInfoAreaId",i.constructorInfoAreaId),o(3),y("",i.formInfo.formTitle," "),o(6),y(" ",i.formInfo.formDescription," "),o(),d("ngIf",!i.publicHelper.processService.process.inRunAll))},dependencies:[se,N,di,U,He,O,Ai,qt],encapsulation:2});var yr=is;var e4=["vform"],t4=n=>({direction:n});function i4(n,l){n&1&&C(0,"i",27)}function n4(n,l){n&1&&C(0,"i",28)}function o4(n,l){n&1&&(r(0,"mat-error"),c(1," Title is "),r(2,"strong"),c(3),_(4,"translate"),a()()),n&2&&(o(3),M(g(4,1,"MESSAGE.required")))}function r4(n,l){n&1&&(r(0,"mat-error"),c(1," Description is "),r(2,"strong"),c(3),_(4,"translate"),a()()),n&2&&(o(3),M(g(4,1,"MESSAGE.required")))}function a4(n,l){n&1&&(r(0,"mat-error"),c(1," DescriptionHidden is "),r(2,"strong"),c(3),_(4,"translate"),a()()),n&2&&(o(3),M(g(4,1,"MESSAGE.required")))}function l4(n,l){if(n&1){let e=I();r(0,"div",11)(1,"label",29),c(2),a(),r(3,"textarea",30,3),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.descriptionHidden,t)||(s.dataModel.descriptionHidden=t),f(t)}),a(),r(5,"em"),c(6),a(),S(7,a4,5,3,"mat-error",16),a()}if(n&2){let e=k(4),i=m();o(2),M(i.fieldsInfo.descriptionHidden==null?null:i.fieldsInfo.descriptionHidden.fieldTitle),o(),d("placeholder",x(i.fieldsInfo.descriptionHidden==null?null:i.fieldsInfo.descriptionHidden.fieldTitle)),b("ngModel",i.dataModel.descriptionHidden),d("disabled",!(i.fieldsInfo.descriptionHidden!=null&&i.fieldsInfo.descriptionHidden.accessEditField)),o(3),y("",e.value.length," / 500"),o(),d("ngIf",e.errors==null?null:e.errors.required)}}function s4(n,l){if(n&1){let e=I();r(0,"app-cms-enum-x-selector",31),w("modelChange",function(t){u(e);let s=m();return T(s.dataModel.activityStatus,t)||(s.dataModel.activityStatus=t),f(t)}),a()}if(n&2){let e=m();d("optionDataListResult",e.dataModelEstateActivityStatusEnumResult),b("model",e.dataModel.activityStatus),d("optionDisabled",!1)("optionLabel",e.fieldsInfo.activityStatus==null?null:e.fieldsInfo.activityStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function d4(n,l){if(n&1){let e=I();r(0,"app-estate-account-expert-selector",21),_(1,"translate"),E("optionChange",function(t){u(e);let s=m();return f(s.onActionSelectorEstateUser(t))}),a()}if(n&2){let e=m();d("optionSelectForce",e.dataModel.linkEstateExpertId)("optionPlaceholder",g(1,2,"TITLE.USER"))}}function c4(n,l){if(n&1){let e=I();r(0,"app-estate-account-agency-selector",32),_(1,"translate"),E("optionChange",function(t){u(e);let s=m();return f(s.onActionSelectorEstateAgency(t))}),a()}if(n&2){let e=m();d("optionSelectForce",e.dataModel.linkEstateAgencyId)("optionSelectUserId",e.tokenInfo.access.userId)("optionPlaceholder",g(1,3,"TITLE.Property_agency"))}}function p4(n,l){if(n&1){let e=I();r(0,"app-estate-property-selector",21),_(1,"translate"),E("optionChange",function(t){u(e);let s=m();return f(s.onActionSelectorProperty(t))}),a()}if(n&2){let e=m();d("optionSelectForce",e.dataModel.linkPropertyId)("optionPlaceholder",g(1,2,"TITLE.Property"))}}function m4(n,l){if(n&1){let e=I();r(0,"app-estate-customer-order-selector",21),_(1,"translate"),E("optionChange",function(t){u(e);let s=m();return f(s.onActionSelectorCustomerOrderId(t))}),a()}if(n&2){let e=m();d("optionSelectForce",e.dataModel.linkCustomerOrderId)("optionPlaceholder",g(1,2,"TITLE.Customer"))}}function u4(n,l){if(n&1){let e=I();r(0,"div",33)(1,"label",34),c(2),a(),r(3,"input",35),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.appointmentDateFrom,t)||(s.dataModel.appointmentDateFrom=t),f(t)}),a(),C(4,"mat-datepicker-toggle",36)(5,"mat-datepicker",37,4),a()}if(n&2){let e=k(6),i=m();o(2),M(i.fieldsInfo.appointmentDateFrom==null?null:i.fieldsInfo.appointmentDateFrom.fieldTitle),o(),d("matDatepicker",e),b("ngModel",i.dataModel.appointmentDateFrom),d("formControl",i.date),o(),d("for",e)}}function f4(n,l){if(n&1){let e=I();r(0,"div",33)(1,"label",38),c(2),a(),r(3,"input",39),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.appointmentDateTo,t)||(s.dataModel.appointmentDateTo=t),f(t)}),a(),C(4,"mat-datepicker-toggle",36)(5,"mat-datepicker",37,5),a()}if(n&2){let e=k(6),i=m();o(2),M(i.fieldsInfo.appointmentDateTo==null?null:i.fieldsInfo.appointmentDateTo.fieldTitle),o(),d("matDatepicker",e),b("ngModel",i.dataModel.appointmentDateTo),d("formControl",i.date),o(),d("for",e)}}function _4(n,l){if(n&1){let e=I();r(0,"div",40)(1,"button",41),E("click",function(){u(e);let t=m();return f(t.onFormCancel())}),C(2,"i",42),c(3),_(4,"translate"),a(),r(5,"button",43),C(6,"i",44),c(7),_(8,"translate"),a()()}if(n&2){m();let e=k(9);o(3),y(" ",g(4,3,"ACTION.CANCEL")," "),o(2),d("disabled",!e.form.valid),o(2),y(" ",g(8,5,"ACTION.SAVE")," ")}}var ns=class ns extends Bt{constructor(e,i,t,s,h,p,D,z,he,je,Ge,mt,Nt){super(s,new nr,mt,he);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.estatePropertyHistoryService=s;this.cmsToastrService=h;this.estateEnumService=p;this.cdr=D;this.tokenHelper=z;this.translate=he;this.cmsStoreService=je;this.pageInfo=Ge;this.publicHelper=mt;this.dialog=Nt;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModel=new nr;this.dataFileModelFiles=new Map;this.formInfo=new me;this.fileManagerOpenForm=!1;this.date=new Ct(new Date);this.dataModelEstateActivityStatusEnumResult=new G;this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore}ngOnInit(){if(this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.getEstateActivityStatusEnum()}getEstateActivityStatusEnum(){this.estateEnumService.ServiceEstateActivityStatusEnum().subscribe({next:e=>{this.dataModelEstateActivityStatusEnumResult=e}})}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estatePropertyHistoryService.setAccessLoad(),this.estatePropertyHistoryService.setAccessDataType(Be.Editor),this.estatePropertyHistoryService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.formAlert="",this.dataModel.linkFileIds&&this.dataModel.linkFileIds.length>0&&this.dataModel.linkFileIds.split(",").forEach((t,s)=>{let h="";this.dataModel.linkFileIdsSrc.length>=this.dataModel.linkFileIdsSrc.length&&(h=this.dataModel.linkFileIdsSrc[s]),this.dataFileModelFiles.set(+t,h)})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){if(this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="",this.dataFileModelFiles){let i=Array.from(this.dataFileModelFiles.keys());i&&i.length>0&&(this.dataModel.linkFileIds=i.join(","))}let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estatePropertyHistoryService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.formAlert=t}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e),this.formInfo.formSubmitAllow=!0},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorEstateUser(e){this.dataModel.linkEstateExpertId=null,e&&e.id?.length>0&&(this.dataModel.linkEstateExpertId=e.id)}onActionSelectorProperty(e){this.dataModel.linkPropertyId=null,e&&e.id?.length>0&&(this.dataModel.linkPropertyId=e.id)}onActionSelectorCustomerOrderId(e){this.dataModel.linkCustomerOrderId=null,e&&e.id?.length>0&&(this.dataModel.linkCustomerOrderId=e.id)}onActionSelectorEstateAgency(e){this.dataModel.linkEstateAgencyId=null,!(!e||!e.id||e.id.length<=0)&&(this.dataModel.linkEstateAgencyId=e.id)}onActionSelectorSelect(e){if(!e||e.id.length<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkActivityTypeId=e.id}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};ns.\u0275fac=function(i){return new(i||ns)(v(be),v(Me),v(J),v(zn),v(V),v(sn),v(B),v(K),v(L),v(Z),v(ht),v(F),v(xe))},ns.\u0275cmp=R({type:ns,selectors:[["app-estate-property-history-edit"]],viewQuery:function(i,t){if(i&1&&ee(e4,5),i&2){let s;te(s=ie())&&(t.formGroup=s.first)}},standalone:!1,features:[ne],decls:44,vars:40,consts:[["vform","ngForm"],["Title",""],["Description",""],["DescriptionHidden",""],["AppointmentDateFrom",""],["AppointmentDateTo",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit","ngStyle"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["type","text","name","dataModel.title","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","fa fa-times  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],[4,"ngIf"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","1000","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[3,"optionDataListResult","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionChange","optionSelectForce","optionPlaceholder"],[3,"optionSelectForce","optionPlaceholder","optionChange",4,"ngIf"],[3,"optionSelectForce","optionSelectUserId","optionPlaceholder","optionChange",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4 cms-input-group",4,"ngIf"],[3,"dataFileModelChange","dataFileModel","openDirectUploadView"],["class","form-actions",4,"ngIf"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.descriptionHidden",1,"color-highlight"],["matInput","","name","dataModel.descriptionHidden","type","text","minlength","0","maxlength","1000","rows","5","id","dataModel.descriptionHidden",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[3,"modelChange","optionDataListResult","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"optionChange","optionSelectForce","optionSelectUserId","optionPlaceholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],["for","dataModel.appointmentDateFrom",1,"color-highlight"],["matInput","","name","dataModel.appointmentDateFrom","id","dataModel.appointmentDateFrom",1,"form-control","validate-name",3,"ngModelChange","matDatepicker","ngModel","formControl"],["matSuffix","",3,"for"],["touchUi",""],["for","dataModel.appointmentDateTo",1,"color-highlight"],["matInput","","name","dataModel.appointmentDateTo","id","dataModel.appointmentDateTo",1,"form-control","validate-name",3,"ngModelChange","matDatepicker","ngModel","formControl"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=I();r(0,"div",6),C(1,"app-progress-spinner",7),r(2,"div",8)(3,"p",9),c(4),a(),r(5,"p"),c(6),_(7,"translate"),a(),r(8,"form",10,0),E("ngSubmit",function(){return u(s),f(t.onFormSubmit())}),r(10,"div",11)(11,"label",12),c(12),a(),r(13,"input",13,1),w("ngModelChange",function(p){return u(s),T(t.dataModel.title,p)||(t.dataModel.title=p),f(p)}),a(),S(15,i4,1,0,"i",14)(16,n4,1,0,"i",15),r(17,"em"),c(18),a(),S(19,o4,5,3,"mat-error",16),a(),r(20,"div",11)(21,"label",17),c(22),a(),r(23,"textarea",18,2),w("ngModelChange",function(p){return u(s),T(t.dataModel.description,p)||(t.dataModel.description=p),f(p)}),c(25,"            "),a(),r(26,"em"),c(27),a(),S(28,r4,5,3,"mat-error",16),a(),S(29,l4,8,7,"div",19)(30,s4,1,6,"app-cms-enum-x-selector",20),r(31,"app-estate-activity-type-selector",21),_(32,"translate"),E("optionChange",function(p){return u(s),f(t.onActionSelectorSelect(p))}),a(),S(33,d4,2,4,"app-estate-account-expert-selector",22)(34,c4,2,5,"app-estate-account-agency-selector",23)(35,p4,2,4,"app-estate-property-selector",22)(36,m4,2,4,"app-estate-customer-order-selector",22)(37,u4,7,5,"div",24)(38,f4,7,5,"div",24),r(39,"p"),c(40),_(41,"translate"),a(),r(42,"app-cms-files-selector",25),w("dataFileModelChange",function(p){return u(s),T(t.dataFileModelFiles,p)||(t.dataFileModelFiles=p),f(p)}),a(),S(43,_4,9,7,"div",26),a()()()}if(i&2){let s=k(14),h=k(24);o(),d("optionsInfoAreaId",t.constructorInfoAreaId),o(3),y(" ",t.formInfo.formTitle," "),o(2),y(" ",g(7,32,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),d("ngStyle",ze(38,t4,t.tokenInfo.access.direction)),o(4),M(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),b("ngModel",t.dataModel.title),o(2),d("ngIf",!s.value),o(),d("ngIf",s.value),o(2),y("",s.value.length," / 100"),o(),d("ngIf",s.errors==null?null:s.errors.required),o(3),M(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),b("ngModel",t.dataModel.description),o(4),y("",h.value.length," / 500"),o(),d("ngIf",h.errors==null?null:h.errors.required),o(),d("ngIf",t.fieldsInfo.descriptionHidden==null?null:t.fieldsInfo.descriptionHidden.accessWatchField),o(),d("ngIf",t.fieldsInfo.activityStatus==null?null:t.fieldsInfo.activityStatus.accessWatchField),o(),d("optionSelectForce",t.dataModel.linkActivityTypeId)("optionPlaceholder",g(32,34,"TITLE.Category")),o(2),d("ngIf",t.fieldsInfo.linkEstateExpertId==null?null:t.fieldsInfo.linkEstateExpertId.accessWatchField),o(),d("ngIf",t.fieldsInfo.linkEstateAgencyId==null?null:t.fieldsInfo.linkEstateAgencyId.accessWatchField),o(),d("ngIf",t.fieldsInfo.linkPropertyId==null?null:t.fieldsInfo.linkPropertyId.accessWatchField),o(),d("ngIf",t.fieldsInfo.linkCustomerOrderId==null?null:t.fieldsInfo.linkCustomerOrderId.accessWatchField),o(),d("ngIf",t.fieldsInfo.appointmentDateFrom==null?null:t.fieldsInfo.appointmentDateFrom.accessWatchField),o(),d("ngIf",t.fieldsInfo.appointmentDateTo==null?null:t.fieldsInfo.appointmentDateTo.accessWatchField),o(2),M(g(41,36,"TITLE.List_of_attached_files")),o(2),b("dataFileModel",t.dataFileModelFiles),d("openDirectUploadView",!0),o(),d("ngIf",t.formInfo.formSubmitAllow)}},dependencies:[N,tt,ke,Y,q,Te,de,De,Ae,ce,Pe,Wt,Pn,kn,ln,we,et,Q,Wo,U,mn,Xa,ur,$a,Sn,Xn,O],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});var Vd=ns;var os=class os{constructor(l){this.service=l}transform(l){return!l||l.length<=0?new Lr:this.service.ServiceGetOneById(l,1e6).pipe(Lt(e=>{var i="";return e.isSuccess&&e.item.title&&e.item.title.length>0&&(i=e.item.title),i},e=>""))}};os.\u0275fac=function(e){return new(e||os)(v(Yi,16))},os.\u0275pipe=Jo({name:"estateCustomerOrderInfo",type:os,pure:!0,standalone:!1});var rs=os;var as=class as{constructor(l){this.service=l}transform(l){return!l||l.length<=0?new Lr:this.service.ServiceGetOneById(l,1e6).pipe(Lt(e=>{var i="";return e.isSuccess&&e.item.title&&e.item.title.length>0&&(i=e.item.title),i},e=>""))}};as.\u0275fac=function(e){return new(e||as)(v(ui,16))},as.\u0275pipe=Jo({name:"estatePropertyInfo",type:as,pure:!0,standalone:!1});var ls=as;var g4=["vform"];function h4(n,l){if(n&1){let e=I();r(0,"button",20),E("click",function(){u(e);let t=m(3);return f(t.onActionNext())}),C(1,"i",21),c(2," < "),a()}}function y4(n,l){if(n&1){let e=I();r(0,"button",20),E("click",function(){u(e);let t=m(3);return f(t.onActionPervious())}),C(1,"i",21),c(2," > "),a()}}function C4(n,l){if(n&1){let e=I();r(0,"div",16)(1,"button",20),E("click",function(){u(e);let t=m(2);return f(t.onFormCancel())}),C(2,"i",21),c(3),_(4,"translate"),a(),S(5,h4,3,0,"button",22)(6,y4,3,0,"button",22),a()}if(n&2){let e=m(2);o(3),y(" ",g(4,3,"ACTION.CANCEL")," "),o(2),d("ngIf",e.requestNextItem&&(e.requestNextItem==null||e.requestNextItem.id==null?null:e.requestNextItem.id.length)>0),o(),d("ngIf",e.requestPerviousItem&&(e.requestPerviousItem==null||e.requestPerviousItem.id==null?null:e.requestPerviousItem.id.length)>0)}}function S4(n,l){if(n&1&&(r(0,"tr")(1,"td"),c(2),a(),r(3,"td"),c(4),_(5,"localeDateTime"),a()()),n&2){let e=m(2);o(2),y("",e.fieldsInfo.appointmentDateFrom==null?null:e.fieldsInfo.appointmentDateFrom.fieldTitle,":"),o(2),M(g(5,2,e.dataModel.appointmentDateFrom))}}function v4(n,l){if(n&1&&(r(0,"tr")(1,"td"),c(2),a(),r(3,"td"),c(4),_(5,"localeDateTime"),a()()),n&2){let e=m(2);o(2),y("",e.fieldsInfo.appointmentDateTo==null?null:e.fieldsInfo.appointmentDateTo.fieldTitle,":"),o(2),M(g(5,2,e.dataModel.appointmentDateTo))}}function E4(n,l){if(n&1&&(r(0,"tr")(1,"td"),c(2),a(),r(3,"td",14),c(4),_(5,"cmsuserinfo"),_(6,"async"),a()()),n&2){let e=m(2);o(2),y("",e.fieldsInfo.updatedBy==null?null:e.fieldsInfo.updatedBy.fieldTitle,":"),o(2),M(g(6,4,g(5,2,e.dataModel.updatedBy)))}}function I4(n,l){if(n&1&&(r(0,"tr")(1,"td"),c(2),a(),r(3,"td",14),c(4),_(5,"estateAccountExpertInfo"),_(6,"async"),a()()),n&2){let e=m(2);o(2),y("",e.fieldsInfo.linkEstateExpertId==null?null:e.fieldsInfo.linkEstateExpertId.fieldTitle,":"),o(2),M(g(6,4,g(5,2,e.dataModel.linkEstateExpertId)))}}function M4(n,l){if(n&1&&(r(0,"tr")(1,"td"),c(2),a(),r(3,"td",14),c(4),_(5,"estateAccountAgencyInfo"),_(6,"async"),a()()),n&2){let e=m(2);o(2),y("",e.fieldsInfo.linkEstateAgencyId==null?null:e.fieldsInfo.linkEstateAgencyId.fieldTitle,":"),o(2),M(g(6,4,g(5,2,e.dataModel.linkEstateAgencyId)))}}function b4(n,l){if(n&1){let e=I();r(0,"tr")(1,"td"),c(2),a(),r(3,"td"),c(4),_(5,"estatePropertyInfo"),_(6,"async"),r(7,"button",23),E("click",function(){u(e);let t=m(2);return f(t.onActionButtonPropertyQuickViewRow(t.dataModel.linkPropertyId))}),r(8,"mat-icon"),c(9,"visibility"),a()()()()}if(n&2){let e=m(2);o(2),y("",e.fieldsInfo.linkPropertyId==null?null:e.fieldsInfo.linkPropertyId.fieldTitle,":"),o(2),y("",g(6,4,g(5,2,e.dataModel.linkPropertyId))," ")}}function T4(n,l){if(n&1){let e=I();r(0,"tr")(1,"td"),c(2),a(),r(3,"td"),c(4),_(5,"estateCustomerOrderInfo"),_(6,"async"),r(7,"button",23),E("click",function(){u(e);let t=m(2);return f(t.onActionButtonCustomerOrderQuickViewRow(t.dataModel.linkCustomerOrderId))}),r(8,"mat-icon"),c(9,"visibility"),a()()()()}if(n&2){let e=m(2);o(2),y("",e.fieldsInfo.linkCustomerOrderId==null?null:e.fieldsInfo.linkCustomerOrderId.fieldTitle,":"),o(2),y("",g(6,4,g(5,2,e.dataModel.linkCustomerOrderId))," ")}}function w4(n,l){if(n&1&&(r(0,"tr")(1,"td"),c(2),_(3,"translate"),a(),r(4,"td"),c(5),a()()),n&2){let e=m(2);o(2),y("",g(3,2,"TITLE.General_Description"),":"),o(3),M(e.dataModel.description)}}function x4(n,l){if(n&1&&(r(0,"tr")(1,"td"),c(2),_(3,"translate"),a(),r(4,"td"),c(5),a()()),n&2){let e=m(2);o(2),y("",g(3,2,"TITLE.Description_Hidden"),":"),o(3),M(e.dataModel.descriptionHidden)}}function A4(n,l){if(n&1){let e=I();r(0,"button",20),E("click",function(){u(e);let t=m(3);return f(t.onActionNext())}),C(1,"i",21),c(2," < "),a()}}function P4(n,l){if(n&1){let e=I();r(0,"button",20),E("click",function(){u(e);let t=m(3);return f(t.onActionPervious())}),C(1,"i",21),c(2," > "),a()}}function k4(n,l){if(n&1){let e=I();r(0,"div",16)(1,"button",20),E("click",function(){u(e);let t=m(2);return f(t.onFormCancel())}),C(2,"i",21),c(3),_(4,"translate"),a(),S(5,A4,3,0,"button",22)(6,P4,3,0,"button",22),a()}if(n&2){let e=m(2);o(3),y(" ",g(4,3,"ACTION.CANCEL")," "),o(2),d("ngIf",e.requestNextItem&&(e.requestNextItem==null||e.requestNextItem.id==null?null:e.requestNextItem.id.length)>0),o(),d("ngIf",e.requestPerviousItem&&(e.requestPerviousItem==null||e.requestPerviousItem.id==null?null:e.requestPerviousItem.id.length)>0)}}function D4(n,l){if(n&1&&(A(0),r(1,"div",9),S(2,C4,7,5,"div",10),a(),r(3,"div",11)(4,"table",12)(5,"tbody")(6,"tr")(7,"td"),c(8),a(),r(9,"td"),C(10,"i",13),_(11,"statusIconClass"),a()(),r(12,"tr")(13,"td"),c(14),a(),r(15,"td"),c(16),a()(),r(17,"tr")(18,"td")(19,"b"),c(20),a()(),r(21,"td")(22,"b"),c(23),a()()(),S(24,S4,6,4,"tr",8)(25,v4,6,4,"tr",8),r(26,"tr")(27,"td"),c(28),a(),r(29,"td",14),c(30),_(31,"cmsuserinfo"),_(32,"async"),a()(),S(33,E4,7,6,"tr",8)(34,I4,7,6,"tr",8)(35,M4,7,6,"tr",8)(36,b4,10,6,"tr",8)(37,T4,10,6,"tr",8)(38,w4,6,4,"tr",8)(39,x4,6,4,"tr",8),a()()(),r(40,"div",15)(41,"div",16)(42,"small",17),c(43),a(),r(44,"small",18),c(45),a()()(),r(46,"div",19),S(47,k4,7,5,"div",10),a(),P()),n&2){let e=m();o(2),d("ngIf",e.formInfo.formSubmitAllow),o(6),y("",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle,":"),o(2),d("ngClass",g(11,21,e.dataModel.recordStatus)),o(4),y("",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle,":"),o(2),M(e.dataModel.title),o(4),y(" ",e.fieldsInfo.linkActivityTypeId==null?null:e.fieldsInfo.linkActivityTypeId.fieldTitle,":"),o(3),M(e.dataModel.linkActivityTypeId),o(),d("ngIf",e.dataModel.appointmentDateFrom),o(),d("ngIf",e.dataModel.appointmentDateTo),o(3),y("",e.fieldsInfo.createdBy==null?null:e.fieldsInfo.createdBy.fieldTitle,":"),o(2),M(g(32,25,g(31,23,e.dataModel.createdBy))),o(3),d("ngIf",e.dataModel.updatedBy),o(),d("ngIf",(e.dataModel.linkEstateExpertId==null?null:e.dataModel.linkEstateExpertId.length)>0),o(),d("ngIf",(e.dataModel.linkEstateAgencyId==null?null:e.dataModel.linkEstateAgencyId.length)>0),o(),d("ngIf",(e.dataModel.linkPropertyId==null?null:e.dataModel.linkPropertyId.length)>0),o(),d("ngIf",(e.dataModel.linkCustomerOrderId==null?null:e.dataModel.linkCustomerOrderId.length)>0),o(),d("ngIf",(e.dataModel.description==null?null:e.dataModel.description.length)>0),o(),d("ngIf",e.fieldsInfo.descriptionHidden==null?null:e.fieldsInfo.descriptionHidden.accessWatchField),o(4),y("",e.formInfo.formAlert," "),o(2),y("",e.formInfo.formError," "),o(2),d("ngIf",e.formInfo.formSubmitAllow)}}var ss=class ss{constructor(l,e,i,t,s,h,p,D,z,he,je){this.data=l;this.dialogRef=e;this.dialog=i;this.coreEnumService=t;this.estatePropertyHistoryService=s;this.cmsToastrService=h;this.tokenHelper=p;this.cmsStoreService=D;this.cdr=z;this.publicHelper=he;this.translate=je;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.tokenInfo=new St;this.dataModelResult=new G;this.dataModelEstateContractTypeResult=new G;this.dataModel=new nr;this.formInfo=new me;this.fieldsInfo=new Map;this.optionTabledataSource=new li;this.optionTabledisplayedColumns=["LinkEstateContractTypeId","Price"];this.fileManagerOpenForm=!1;this.errorMessage="";this.enumInputDataType=Ri;this.step=0;this.publicHelper.processService.cdr=this.cdr,l&&(this.requestId=l.id+"",this.requestPerviousItem=l.perviousItem,this.requestNextItem=l.nextItem)}ngOnInit(){if(this.translate.get("TITLE.QUICK_VIEW").subscribe(l=>{this.formInfo.formTitle=l}),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.cmsApiStoreSubscribe=this.cmsStoreService.getState(l=>l.tokenInfoStore).subscribe(l=>re(this,null,function*(){this.tokenInfo=l}))}ngOnDestroy(){this.cmsApiStoreSubscribe&&this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError="";let l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(l,e,this.constructorInfoAreaId)}),this.estatePropertyHistoryService.setAccessLoad(),this.estatePropertyHistoryService.setAccessDataType(Be.Editor),this.estatePropertyHistoryService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModel=e.item,e.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError=e.errorMessage,this.errorMessage=e.errorMessage+"<br> ( "+e.errorTypeTitle+" ) ",this.cmsToastrService.typeErrorMessage(this.errorMessage)),this.publicHelper.processService.processStop(l)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(l,!1)}})}setStep(l){this.step=l}nextStep(){this.step++}prevStep(){this.step--}onActionButtonPropertyQuickViewRow(l){if(!l||l.length===0){this.cmsToastrService.typeErrorSelectedRow();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(qo,{height:"90%",panelClass:e,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:l}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate})}onActionButtonCustomerOrderQuickViewRow(l){if(!l||l.length===0){this.cmsToastrService.typeErrorSelectedRow();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(yr,{height:"90%",panelClass:e,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:l}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}onActionNext(){this.dialogRef.close({dialogChangedDate:!0,onActionOpenItem:this.requestNextItem})}onActionPervious(){this.dialogRef.close({dialogChangedDate:!0,onActionOpenItem:this.requestPerviousItem})}};ss.\u0275fac=function(e){return new(e||ss)(v(be),v(Me),v(xe),v(J),v(zn),v(V),v(K),v(Z),v(B),v(F),v(L))},ss.\u0275cmp=R({type:ss,selectors:[["app-estate-property-history-quick-view"]],viewQuery:function(e,i){if(e&1&&ee(g4,5),e&2){let t;te(t=ie())&&(i.formGroup=t.first)}},standalone:!1,decls:12,vars:4,consts:[[1,"card","card-style","loader-container",2,"height","100vh","overflow-y","auto"],[3,"optionsInfoAreaId"],[1,"menu-title"],[1,"color-highlight"],[1,"close-menu",3,"click"],[1,"fa","fa-times-circle"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[4,"ngIf"],[1,"ntk-cms-html-card-header"],["class","form-actions",4,"ngIf"],["dir","rtl",1,"ntk-cms-html-card-body","ntk-allow-text-selection"],[1,"table","table-striped"],[3,"ngClass"],[1,"input-ltr-right"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray",3,"click",4,"ngIf"],["type","button","mat-icon-button","",3,"click"]],template:function(e,i){e&1&&(r(0,"div",0),C(1,"app-progress-spinner",1),r(2,"div",2)(3,"p",3),c(4),a(),r(5,"a",4),E("click",function(){return i.onFormCancel()}),C(6,"i",5),a(),C(7,"hr"),a(),r(8,"div",6)(9,"p",7),c(10),a(),S(11,D4,48,27,"ng-container",8),a()()),e&2&&(o(),d("optionsInfoAreaId",i.constructorInfoAreaId),o(3),y("",i.formInfo.formTitle," "),o(6),y(" ",i.formInfo.formDescription," "),o(),d("ngIf",!i.publicHelper.processService.process.inRunAll))},dependencies:[se,N,di,Je,Ee,U,He,O,Ai,Jn,qt,dr,cr,rs,ls],encapsulation:2});var ds=ss;var R4=()=>["expandedTitle"],L4=()=>["expandedDetail"],V4=()=>[5,10,20,100],D0=n=>({display:n});function O4(n,l){n&1&&(r(0,"mat-header-cell"),c(1),_(2,"translate"),a()),n&2&&(o(),y(" ",g(2,1,"TITLE.MENU")," "))}function F4(n,l){if(n&1){let e=I();r(0,"mat-cell")(1,"button",57),E("click",function(){let t=u(e).$implicit,s=m();return f(s.onActionTableRowSelectActionMenu(t))}),C(2,"i",58),a()()}}function B4(n,l){n&1&&(r(0,"mat-header-cell",59),c(1),_(2,"translate"),a()),n&2&&(o(),y(" ",g(2,1,"TITLE.PICTURE")," "))}function N4(n,l){if(n&1&&(C(0,"img",61),_(1,"cmsthumbnail")),n&2){let e=m().$implicit;d("src",x(g(1,2,e.linkMainImageIdSrc)),j)}}function H4(n,l){if(n&1&&(r(0,"mat-cell"),S(1,N4,2,4,"img",60),a()),n&2){let e=l.$implicit;o(),d("ngIf",(e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0)}}function W4(n,l){if(n&1&&(r(0,"mat-header-cell",59),c(1),a()),n&2){let e=m();o(),y(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function G4(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),y(" ",e.id," ")}}function U4(n,l){if(n&1&&(r(0,"mat-header-cell",59),c(1),a()),n&2){let e=m();o(),y(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function j4(n,l){if(n&1&&(r(0,"mat-cell"),c(1),_(2,"cmssiteinfo"),_(3,"async"),a()),n&2){let e=l.$implicit;o(),y(" ",g(3,3,g(2,1,e.linkSiteId))," ")}}function q4(n,l){if(n&1&&(r(0,"mat-header-cell",59),c(1),a()),n&2){let e=m();o(),y(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function Q4(n,l){if(n&1&&C(0,"select",64),n&2){let e=m().$implicit,i=m();d("contentService",i.contentService)("row",e)("ngStyle",ze(3,D0,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function z4(n,l){if(n&1&&(r(0,"mat-cell",62),_(1,"statusCellClass"),C(2,"i",62),_(3,"statusIconClass"),S(4,Q4,1,5,"select",63),a()),n&2){let e=l.$implicit,i=m();d("ngClass",g(1,3,e.recordStatus)),o(2),d("ngClass",g(3,5,e.recordStatus)),o(2),d("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessEditRow)}}function Y4(n,l){if(n&1&&(r(0,"mat-header-cell",59),c(1),a()),n&2){let e=m();o(),y(" ",e.fieldsInfo.name==null?null:e.fieldsInfo.name.fieldTitle," ")}}function K4(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),y(" ",e.name," ")}}function Z4(n,l){if(n&1&&(r(0,"mat-header-cell",59),c(1),a()),n&2){let e=m();o(),y(" ",e.fieldsInfo.lastName==null?null:e.fieldsInfo.lastName.fieldTitle," ")}}function J4(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),y(" ",e.lastName," ")}}function X4(n,l){if(n&1&&(r(0,"mat-header-cell",59),c(1),a()),n&2){let e=m();o(),y(" ",e.fieldsInfo.companyName==null?null:e.fieldsInfo.companyName.fieldTitle," ")}}function $4(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),y(" ",e.companyName," ")}}function ek(n,l){if(n&1&&(r(0,"mat-header-cell",59),c(1),a()),n&2){let e=m();o(),y(" ",e.fieldsInfo.email==null?null:e.fieldsInfo.email.fieldTitle," ")}}function tk(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),y(" ",e.email," ")}}function ik(n,l){if(n&1&&(r(0,"mat-header-cell",59),c(1),a()),n&2){let e=m();o(),y(" ",e.fieldsInfo.mobile==null?null:e.fieldsInfo.mobile.fieldTitle," ")}}function nk(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),y(" ",e.mobile," ")}}function ok(n,l){if(n&1&&(r(0,"mat-header-cell",59),c(1),a()),n&2){let e=m();o(),y(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function rk(n,l){if(n&1&&(r(0,"mat-cell"),c(1),_(2,"localeDate"),a()),n&2){let e=l.$implicit;o(),y(" ",g(2,1,e.createdDate)," ")}}function ak(n,l){if(n&1&&(r(0,"mat-header-cell",59),c(1),a()),n&2){let e=m();o(),y(" ",e.fieldsInfo.updatedDate==null?null:e.fieldsInfo.updatedDate.fieldTitle," ")}}function lk(n,l){if(n&1&&(r(0,"mat-cell"),c(1),_(2,"localeDate"),a()),n&2){let e=l.$implicit;o(),y(" ",g(2,1,e.updatedDate)," ")}}function sk(n,l){n&1&&(r(0,"mat-header-cell"),c(1),_(2,"translate"),a()),n&2&&(o(),y(" ",g(2,1,"TITLE.OPTION")," "))}function dk(n,l){if(n&1&&(r(0,"mat-cell",65)(1,"button",66)(2,"mat-icon"),c(3,"more_vert"),a()(),C(4,"mat-menu",null,2),a()),n&2){let e=k(5);o(),d("matMenuTriggerFor",e)}}function ck(n,l){if(n&1&&(r(0,"mat-cell"),c(1),_(2,"translate"),_(3,"localeDate"),a()),n&2){let e=l.$implicit;o(),$(" ",g(2,2,"TITLE.CreationDate")," : ",g(3,4,e.createdDate)," ")}}function pk(n,l){if(n&1&&(C(0,"img",70),_(1,"cmsthumbnail")),n&2){let e=m().$implicit;d("src",x(g(1,2,e.linkMainImageIdSrc)),j)}}function mk(n,l){if(n&1){let e=I();r(0,"mat-cell")(1,"div")(2,"table")(3,"tr")(4,"th"),S(5,pk,2,4,"img",67),a(),r(6,"th")(7,"span",68),E("click",function(){u(e);let t=m();return f(t.onActionCopied())}),C(8,"i",69),a(),c(9),a()(),r(10,"tr"),C(11,"td"),r(12,"td"),c(13),a()(),r(14,"tr"),C(15,"td"),r(16,"td"),c(17),a()(),r(18,"tr"),C(19,"td"),r(20,"td"),c(21),a()(),r(22,"tr"),C(23,"td"),r(24,"td"),c(25),a()(),r(26,"tr"),C(27,"td"),r(28,"td"),c(29),a()(),r(30,"tr"),C(31,"td"),r(32,"td"),c(33),a()(),r(34,"tr"),C(35,"td")(36,"td"),a()()()()}if(n&2){let e=l.$implicit,i=m();o(5),d("ngIf",(e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0),o(2),d("cdkCopyToClipboard",e.id),o(2),y(" ",e.id," "),o(4),$("",i.fieldsInfo.username==null?null:i.fieldsInfo.username.fieldTitle," : ",e.username," "),o(4),$("",i.fieldsInfo.name==null?null:i.fieldsInfo.name.fieldTitle," : ",e.name," "),o(4),$("",i.fieldsInfo.lastName==null?null:i.fieldsInfo.lastName.fieldTitle," : ",e.lastName," "),o(4),$("",i.fieldsInfo.mobile==null?null:i.fieldsInfo.mobile.fieldTitle," : ",e.mobile," "),o(4),$("",i.fieldsInfo.email==null?null:i.fieldsInfo.email.fieldTitle," : ",e.email," "),o(4),$("",i.fieldsInfo.companyName==null?null:i.fieldsInfo.companyName.fieldTitle," : ",e.companyName," ")}}function uk(n,l){n&1&&C(0,"mat-header-row")}function fk(n,l){if(n&1){let e=I();r(0,"mat-row",71),E("click",function(){let t=u(e).$implicit,s=m();return f(s.onActionTableRowSelect(t))})("mouseenter",function(){let t=u(e).$implicit,s=m();return f(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=u(e).$implicit,s=m();return f(s.onActionTableRowMouseLeave(t))}),a()}if(n&2){let e=l.$implicit,i=l.dataIndex,t=m();Se("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",e.id===(t.tableRowSelected==null?null:t.tableRowSelected.id))}}function _k(n,l){if(n&1){let e=I();r(0,"mat-row",71),E("click",function(){let t=u(e).$implicit,s=m();return f(s.onActionTableRowSelect(t))})("mouseenter",function(){let t=u(e).$implicit,s=m();return f(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=u(e).$implicit,s=m();return f(s.onActionTableRowMouseLeave(t))}),a()}if(n&2){let e=l.$implicit,i=l.dataIndex,t=m();Se("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",e.id===(t.tableRowSelected==null?null:t.tableRowSelected.id))}}function gk(n,l){if(n&1){let e=I();r(0,"mat-row",72),E("click",function(){let t=u(e).$implicit,s=m();return f(s.onActionTableRowSelect(t))})("mouseenter",function(){let t=u(e).$implicit,s=m();return f(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=u(e).$implicit,s=m();return f(s.onActionTableRowMouseLeave(t))}),a()}if(n&2){let e=l.$implicit,i=l.dataIndex,t=m();Se("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",e.id===(t.tableRowSelected==null?null:t.tableRowSelected.id)),d("ngStyle",ze(7,D0,e.expanded===!0?"":"none"))}}function hk(n,l){if(n&1){let e=I();r(0,"div",52)(1,"button",73),E("click",function(){u(e);let t=m();return f(t.onFormCancel())}),C(2,"i",74),c(3),_(4,"translate"),a()()}n&2&&(o(3),y(" ",g(4,1,"ACTION.CANCEL")," "))}var cs=class cs extends bt{constructor(e,i,t,s,h,p,D,z,he,je,Ge,mt){super(t,new Ir,Ge,h,z);this.data=e;this.dialogRef=i;this.contentService=t;this.cmsToastrService=s;this.tokenHelper=h;this.router=p;this.cdr=D;this.translate=z;this.cmsStoreService=he;this.pageInfo=je;this.publicHelper=Ge;this.dialog=mt;this.requestTitle="";this.requestPropertyId="";this.constructorInfoAreaId=this.constructor.name;this.tablePropertySelected=[];this.filteModelContent=new pe;this.formInfo=new me;this.optionsSearch=new ar;this.optionsStatist=new lr;this.tokenInfo=new St;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["LinkMainImageIdSrc","Id","RecordStatus","Name","LastName","CompanyName","email","mobile","action_menu"];this.tabledisplayedColumnsMobileSource=["Id","RecordStatus","Name","LastName","action_menu"];this.fieldsInfo=new Map;this.publicHelper.processService.cdr=this.cdr,e&&(e.title&&(this.requestTitle=e.title+""),e.id&&(this.requestPropertyId=e.id+"")),this.optionsSearch.parentMethods={onSubmit:Nt=>this.onSubmitOptionsSearch(Nt)}}ngOnInit(){this.translate.get("TITLE.QUICK_VIEW").subscribe(e=>{this.formInfo.formTitle=e}),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.cmsApiStoreSubscribe=this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>re(this,null,function*(){this.tokenInfo=e,this.DataGetAll()}))}ngOnDestroy(){this.cmsApiStoreSubscribe&&this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Ir);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllResponsibleUserId(this.requestPropertyId,i).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),t.isSuccess?(this.dataModelResult=t,this.tableSource.data=t.listItems):this.cmsToastrService.typeErrorGetAll(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=X.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=X.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=X.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonReload(){this.DataGetAll()}onActionCopied(){this.cmsToastrService.typeSuccessCopedToClipboard()}onSubmitOptionsSearch(e){e&&e.length>0&&(this.filteModelContent.filters=[...this.filteModelContent.filters,...e]),this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/ticketing/departemen/"])}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};cs.\u0275fac=function(i){return new(i||cs)(v(be),v(Me),v(zn),v(V),v(K),v(Ze),v(B),v(L),v(Z),v(ht),v(F),v(xe))},cs.\u0275cmp=R({type:cs,selectors:[["app-estate-property-history-responsible-user-list"]],standalone:!1,features:[ne],decls:87,vars:31,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection","loader-container"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionActionRowDisplayMenuAct","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-maximize","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-minimize","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[1,"custom-slide-toggle",3,"ngModelChange","ngModel"],["cms-action-main",""],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","","multiTemplateDataRows","",3,"matSortChange","dataSource"],["matColumnDef","action_menu"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkMainImageIdSrc"],["mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","Id"],["matColumnDef","LinkSiteId"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","Name"],["matColumnDef","LastName"],["matColumnDef","CompanyName"],["matColumnDef","email"],["matColumnDef","mobile"],["matColumnDef","CreatedDate"],["matColumnDef","UpdatedDate"],["matColumnDef","Action"],["class"," Action",4,"matCellDef"],["matColumnDef","expandedTitle"],["matColumnDef","expandedDetail"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","ngStyle","click","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"click"],[1,"fa","fa-bars","font-18"],["mat-sort-header",""],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","40","width","40",3,"src",4,"ngIf"],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","80","width","80",3,"src",4,"ngIf"],[1,"navi-icon","pointer",3,"click","cdkCopyToClipboard"],[1,"flaticon2-copy"],["aria-hidden","","height","80","width","80",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"click","mouseenter","mouseleave"],[3,"click","mouseenter","mouseleave","ngStyle"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(i,t){if(i&1){let s=I();r(0,"div",3),C(1,"app-progress-spinner",4),r(2,"div",5),c(3),a(),r(4,"div",6)(5,"app-cms-html-list",7),w("optionActionGuideNoticeDisplayChange",function(p){return u(s),T(t.viewGuideNotice,p)||(t.viewGuideNotice=p),f(p)}),E("optionOnActionButtonMemoRow",function(){return u(s),f(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return u(s),f(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return u(s),f(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return u(s),f(t.onActionButtonPrintRow())}),Qe(6,8)(7,9)(8,10),A(9,11),r(10,"a",12),E("click",function(){return u(s),f(t.onActionButtonReload())}),C(11,"i",13),a(),r(12,"a",14),E("click",function(){return u(s),f(t.onActionGridExpandRows(!0))}),C(13,"i",15),a(),r(14,"a",14),E("click",function(){return u(s),f(t.onActionGridExpandRows(!1))}),C(15,"i",16),a(),P(),A(16,17),r(17,"a",18)(18,"mat-slide-toggle",19),w("ngModelChange",function(p){return u(s),T(t.optionsSearch.data.show,p)||(t.optionsSearch.data.show=p),f(p)}),a(),c(19),_(20,"translate"),a(),P(),Qe(21,20)(22,21),A(23,22),r(24,"app-cms-search-list",23),w("optionsChange",function(p){return u(s),T(t.optionsSearch,p)||(t.optionsSearch=p),f(p)}),a(),r(25,"app-cms-statist-list",23),w("optionsChange",function(p){return u(s),T(t.optionsStatist,p)||(t.optionsStatist=p),f(p)}),a(),P(),A(26,24),r(27,"mat-table",25,0),E("matSortChange",function(){u(s);let p=k(28);return f(t.onTableSortData(p))}),A(29,26),S(30,O4,3,3,"mat-header-cell",27)(31,F4,3,0,"mat-cell",28),P(),A(32,29),S(33,B4,3,3,"mat-header-cell",30)(34,H4,2,1,"mat-cell",28),P(),A(35,31),S(36,W4,2,1,"mat-header-cell",30)(37,G4,2,1,"mat-cell",28),P(),A(38,32),S(39,U4,2,1,"mat-header-cell",30)(40,j4,4,5,"mat-cell",28),P(),A(41,33),S(42,q4,2,1,"mat-header-cell",30)(43,z4,5,7,"mat-cell",34),P(),A(44,35),S(45,Y4,2,1,"mat-header-cell",30)(46,K4,2,1,"mat-cell",28),P(),A(47,36),S(48,Z4,2,1,"mat-header-cell",30)(49,J4,2,1,"mat-cell",28),P(),A(50,37),S(51,X4,2,1,"mat-header-cell",30)(52,$4,2,1,"mat-cell",28),P(),A(53,38),S(54,ek,2,1,"mat-header-cell",30)(55,tk,2,1,"mat-cell",28),P(),A(56,39),S(57,ik,2,1,"mat-header-cell",30)(58,nk,2,1,"mat-cell",28),P(),A(59,40),S(60,ok,2,1,"mat-header-cell",30)(61,rk,3,3,"mat-cell",28),P(),A(62,41),S(63,ak,2,1,"mat-header-cell",30)(64,lk,3,3,"mat-cell",28),P(),A(65,42),S(66,sk,3,3,"mat-header-cell",27)(67,dk,6,1,"mat-cell",43),P(),A(68,44),S(69,ck,4,6,"mat-cell",28),P(),A(70,45),S(71,mk,37,15,"mat-cell",28),P(),S(72,uk,1,0,"mat-header-row",46)(73,fk,1,6,"mat-row",47)(74,_k,1,6,"mat-row",47)(75,gk,1,9,"mat-row",48),a(),P(),A(76,49),r(77,"mat-paginator",50,1),E("page",function(p){return u(s),f(t.onTablePageingData(p))}),a(),P(),a()(),r(79,"div",51)(80,"div",52)(81,"small",53),c(82),a(),r(83,"small",54),c(84),a()()(),r(85,"div",55),S(86,hk,5,3,"div",56),a()()}i&2&&(o(),d("optionsInfoAreaId",t.constructorInfoAreaId),o(2),y(" ",t.formInfo.formTitle," "),o(2),d("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),b("optionActionGuideNoticeDisplay",t.viewGuideNotice),d("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelectDoubleClick)("optionActionRowDisplayMenuAct",t.tableRowSelectActionMenuClick)("optionSelectRowItemTitle",(t.tableRowSelected==null||t.tableRowSelected.username==null?null:t.tableRowSelected.username.length)>0?t.tableRowSelected==null?null:t.tableRowSelected.username:t.tableRowSelected==null?null:t.tableRowSelected.id),o(13),b("ngModel",t.optionsSearch.data.show),o(),y("",g(20,26,"ACTION.SEARCH")," "),o(5),b("options",t.optionsSearch),o(),b("options",t.optionsStatist),o(2),d("dataSource",t.tableSource),o(45),d("matHeaderRowDef",t.tabledisplayedColumns),o(),d("matRowDefColumns",le(28,R4)),o(),d("matRowDefColumns",t.tabledisplayedColumns),o(),d("matRowDefColumns",le(29,L4)),o(2),d("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",le(30,V4)),o(5),y("",t.formInfo.formAlert," "),o(2),y("",t.formInfo.formError," "),o(2),d("ngIf",t.formInfo.formSubmitAllow))},dependencies:[se,N,tt,q,ce,Je,Ee,Q,At,Pt,vt,gt,Et,It,it,ot,st,rt,nt,dt,at,lt,ct,pt,ci,Tt,wt,U,xt,Oi,He,O,tn,Ie,Fn,qt,Bn],encapsulation:2});var qc=cs;function yk(n,l){if(n&1){let e=I();r(0,"button",13),E("click",function(){u(e);let t=m();return f(t.onActionAdd())}),c(1),_(2,"translate"),a()}n&2&&(o(),M(g(2,1,"ACTION.ADD")))}function Ck(n,l){if(n&1){let e=I();r(0,"button",14),E("click",function(){u(e);let t=m();return f(t.onActionEdit())}),c(1),_(2,"translate"),a()}n&2&&(o(),M(g(2,1,"ACTION.EDIT")))}function Sk(n,l){if(n&1){let e=I();r(0,"button",15),E("click",function(){u(e);let t=m();return f(t.onActionDelete())}),c(1),_(2,"translate"),a()}n&2&&(o(),M(g(2,1,"ACTION.DELETE")))}function vk(n,l){if(n&1){let e=I();r(0,"button",16),E("click",function(){u(e);let t=m();return f(t.onActionButtonReload())}),r(1,"mat-icon",17),_(2,"translate"),c(3,"refresh"),a()()}n&2&&(o(),d("title",x(g(2,2,"ACTION.RELOAD"))))}function Ek(n,l){if(n&1){let e=I();r(0,"mat-tree-node",18),E("click",function(){let t=u(e).$implicit,s=m();return f(s.onActionSelect(t))}),C(1,"button",19)(2,"i",20),c(3),a()}if(n&2){let e=l.$implicit,i=l.dataIndex,t=m();Se("ntk-tree-odd",i%2)("ntk-tree-even",!(i%2))("ntk-tree-selected",(t.dataModelSelect.id==null?null:t.dataModelSelect.id.length)>0&&(t.dataModelSelect==null?null:t.dataModelSelect.id)===e.id),o(2),ye("color",e.iconColor),d("ngClass",e.iconFont),o(),y(" \xA0\xA0\xA0\xA0 ",e.title," ")}}function Ik(n,l){if(n&1){let e=I();r(0,"mat-nested-tree-node")(1,"li")(2,"div",21),E("click",function(){let t=u(e).$implicit,s=m();return f(s.onActionSelect(t))}),r(3,"button",22),E("click",function(){let t=u(e).$implicit,s=m();return f(s.onActionSelect(t))}),r(4,"mat-icon",23),c(5),a()(),C(6,"i",20),c(7),a(),r(8,"ul"),Qe(9,24),a()()()}if(n&2){let e=l.$implicit,i=m();o(2),Se("ntk-tree-selected",(i.dataModelSelect==null||i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0&&(i.dataModelSelect==null?null:i.dataModelSelect.id)===e.id),o(),yt("aria-label","Toggle "+e.title),o(2),y(" ",i.treeControl.isExpanded(e)?"expand_more":"chevron_right"," "),o(),ye("color",e.iconColor),d("ngClass",e.iconFont),o(),y(" \xA0\xA0\xA0\xA0 ",e.title," "),o(),Se("category-tree-invisible",!i.treeControl.isExpanded(e))}}var ps=class ps{constructor(l,e,i,t,s,h,p,D,z,he,je){this.cmsToastrService=l;this.coreEnumService=e;this.categoryService=i;this.cmsConfirmationDialogService=t;this.themeService=s;this.dialog=h;this.cdr=p;this.publicHelper=D;this.translate=z;this.tokenHelper=he;this.cmsStoreService=je;this.constructorInfoAreaId=this.constructor.name;this.dataModelSelect=new En;this.dataModelResult=new G;this.filterModel=new pe;this.treeControl=new xo(l=>null);this.dataSource=new Oo;this.optionChange=new Xe;this.optionReload=()=>this.onActionButtonReload();this.hasChild=(l,e)=>!1;this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(l){this.onActionSelectForce(l)}ngOnInit(){setTimeout(()=>{this.DataGetAll()},500),this.cmsApiStoreSubscribe=this.cmsStoreService.getState(l=>l.tokenInfoStore).subscribe(l=>re(this,null,function*(){this.DataGetAll()}))}ngOnDestroy(){this.cmsApiStoreSubscribe&&this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.filterModel.rowPerPage=200,this.filterModel.accessLoad=!0;let l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(l,e,this.constructorInfoAreaId)}),this.categoryService.ServiceGetAll(this.filterModel).subscribe({next:e=>{e.isSuccess?(this.dataModelResult=e,this.dataSource.data=this.dataModelResult.listItems):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(l)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(l,!1)}})}onActionSelect(l){this.dataModelSelect=l,this.optionChange.emit(this.dataModelSelect)}onActionButtonReload(){this.onActionSelect(null),this.dataModelSelect=new En,this.DataGetAll()}onActionSelectForce(l){}onActionAdd(){var l="";this.publicHelper.isMobile?l="dialog-fullscreen":l="dialog-min",this.dialog.open(qa,{height:"90%",panelClass:l,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(i=>{i&&i.dialogChangedDate&&this.DataGetAll()})}onActionEdit(){let l="";if(this.dataModelSelect&&this.dataModelSelect.id&&this.dataModelSelect.id.length>0&&(l=this.dataModelSelect.id),l===""){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorCategoryNotSelected").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(za,{height:"90%",panelClass:e,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:l}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionDelete(){let l="";if(this.dataModelSelect&&this.dataModelSelect.id&&this.dataModelSelect.id.length>0&&(l=this.dataModelSelect.id),l===""){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorCategoryNotSelected").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}var e="",i="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(t=>{e=t["MESSAGE.Please_Confirm"],i=t["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.dataModelSelect.title+" ) ",this.cmsConfirmationDialogService.confirm(e,i).then(s=>{if(s){let h=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(p=>{this.publicHelper.processService.processStart(h,p,this.constructorInfoAreaId)}),this.categoryService.ServiceDelete(this.dataModelSelect.id).subscribe({next:p=>{p.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(h)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(h,!1)}})}}).catch(()=>{})})}};ps.\u0275fac=function(e){return new(e||ps)(v(V),v(J),v(qn),v(Mt),v(kt),v(xe),v(B),v(F),v(L),v(K),v(Z))},ps.\u0275cmp=R({type:ps,selectors:[["app-estate-activity-type-tree"]],inputs:{optionSelectForce:"optionSelectForce",optionReload:"optionReload"},outputs:{optionChange:"optionChange"},standalone:!1,decls:15,vars:14,consts:[[3,"optionHeaderDisplay","optionActionMainDisplay","optionFooterDisplay"],["cms-tree-header",""],["cms-tree-action",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-teal",3,"click",4,"ngIf"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-magenta",3,"click",4,"ngIf"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-red",3,"click",4,"ngIf"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-highlight",3,"click",4,"ngIf"],["cms-tree-body","",1,"loader-container"],[3,"optionsInfoAreaId"],[1,"category-tree","cursor-pointer",3,"dataSource","treeControl"],["matTreeNodePadding","",3,"ntk-tree-odd","ntk-tree-even","ntk-tree-selected","click",4,"matTreeNodeDef"],[4,"matTreeNodeDef","matTreeNodeDefWhen"],["cms-tree-footer",""],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"title"],["matTreeNodePadding","",3,"click"],["type","button","mat-icon-button","","disabled",""],["aria-hidden","true",3,"ngClass"],[1,"mat-tree-node",3,"click"],["type","button","mat-icon-button","","matTreeNodeToggle","",3,"click"],[1,"mat-icon-rtl-mirror"],["matTreeNodeOutlet",""]],template:function(e,i){e&1&&(r(0,"app-cms-html-tree",0),A(1,1),c(2),_(3,"translate"),P(),A(4,2),S(5,yk,3,3,"button",3)(6,Ck,3,3,"button",4)(7,Sk,3,3,"button",5)(8,vk,4,4,"button",6),P(),A(9,7),C(10,"app-progress-spinner",8),r(11,"mat-tree",9),S(12,Ek,4,10,"mat-tree-node",10)(13,Ik,10,10,"mat-nested-tree-node",11),a(),P(),Qe(14,12),a()),e&2&&(d("optionHeaderDisplay",!0)("optionActionMainDisplay",!0)("optionFooterDisplay",!1),o(2),y(" ",g(3,12,"TABLE."+(i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.moduleEntityName))," "),o(3),d("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessAddRow),o(),d("ngIf",(i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessEditRow)&&(i.dataModelSelect==null?null:i.dataModelSelect.id)>0),o(),d("ngIf",(i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessDeleteRow)&&i.dataModelSelect.id&&(i.dataModelSelect==null||i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0),o(),d("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessWatchRow),o(2),d("optionsInfoAreaId",i.constructorInfoAreaId),o(),d("dataSource",i.dataSource)("treeControl",i.treeControl),o(2),d("matTreeNodeDefWhen",i.hasChild))},dependencies:[se,N,Je,Ee,ko,Po,Do,Vo,Lo,Ao,Ro,U,Ho,O],encapsulation:2});var Qc=ps;function bk(n,l){n&1&&C(0,"div",10)}function Tk(n,l){if(n&1){let e=I();r(0,"button",16),E("click",function(){u(e);let t=m();return f(t.onActionButtonLinkTo())}),r(1,"mat-icon"),c(2,"\u2197 "),a()()}}var ms=class ms{constructor(l,e,i,t,s,h,p,D,z){this.headerService=l;this.publicHelper=e;this.cdr=i;this.cmsToastrService=t;this.translate=s;this.cmsStoreService=h;this.themeService=p;this.dialog=D;this.tokenHelper=z;this.constructorInfoAreaId=this.constructor.name;this.optionId="";this.dataModelResult=new G;this.fieldsInfo=new Map;this.publicHelper.processService.cdr=this.cdr}ngOnInit(){this.optionId?.length>0&&this.DataGetOneContent(),this.cmsApiStoreSubscribe=this.cmsStoreService.getState(l=>l.tokenInfoStore).subscribe(l=>re(this,null,function*(){this.DataGetOneContent()}))}ngOnDestroy(){this.cmsApiStoreSubscribe&&this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){let l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(l,e,this.constructorInfoAreaId)}),this.headerService.setAccessLoad(),this.headerService.ServiceGetOneById(this.optionId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),e.isSuccess?this.dataModelResult=e:this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(l)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(l,!1)}})}onActionButtonLinkTo(l=this.dataModelResult.item){if(!l||!l.id||l.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(l.recordStatus!=qe.Available){this.cmsToastrService.typeWarningRecordStatusNoAvailable();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(pn,{height:"90%",panelClass:e,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{title:l.title,urlViewContentQRCodeBase64:l.urlViewContentQRCodeBase64,urlViewContent:l.urlViewContent}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate})}};ms.\u0275fac=function(e){return new(e||ms)(v(ui),v(F),v(B),v(V),v(L),v(Z),v(kt),v(xe),v(K))},ms.\u0275cmp=R({type:ms,selectors:[["app-estate-property-header"]],inputs:{optionId:"optionId"},standalone:!1,decls:34,vars:11,consts:[[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content"],[1,"table"],[1,"tr"],[1,"td","small-width"],[1,"svg-icon","svg-icon-3x","svg-icon-primary",3,"inlineSVG"],[1,"td","large-width",2,"color","darkblue"],["class","td",4,"ngIf"],[1,"td","large-width"],[1,"td"],[2,"clear","both"],[1,"td",2,"text-align","left"],["title","link to"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-highlight",3,"click",4,"ngIf"],[1,"divider","divider-margins"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"]],template:function(e,i){e&1&&(r(0,"div",0),C(1,"app-progress-spinner",1),r(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),C(6,"span",6),a(),r(7,"div",7)(8,"h5")(9,"b"),c(10),_(11,"translate"),a()()(),S(12,bk,1,0,"div",8),a(),r(13,"div",4)(14,"div",5)(15,"b"),c(16),a(),c(17,": "),a(),r(18,"div",9),c(19),a(),C(20,"div",10)(21,"div",11),a(),r(22,"div",4)(23,"div",5)(24,"b"),c(25),a(),c(26," : "),a(),r(27,"div",9),c(28),a(),r(29,"div",12)(30,"abbr",13),S(31,Tk,3,0,"button",14),a()(),C(32,"div",11),a()()()(),C(33,"div",15)),e&2&&(o(),d("optionsInfoAreaId",i.constructorInfoAreaId),o(5),d("inlineSVG","./assets/media/svg/icons/Communication/Flag.svg"),o(4),M(g(11,9,"TITLE.Selected_Property")),o(2),d("ngIf",i.dataModelResult==null||i.dataModelResult.item==null?null:i.dataModelResult.item.id),o(4),y("",i.fieldsInfo.id==null?null:i.fieldsInfo.id.fieldTitle," "),o(3),M(i.dataModelResult==null||i.dataModelResult.item==null?null:i.dataModelResult.item.id),o(6),M(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(3),M(i.dataModelResult==null||i.dataModelResult.item==null?null:i.dataModelResult.item.title),o(3),d("ngIf",i.dataModelResult==null||i.dataModelResult.item==null?null:i.dataModelResult.item.id))},dependencies:[N,Ee,U,cn,O],styles:[".table[_ngcontent-%COMP%]{display:table;border:1px solid #40A1F5;padding:2px;background:#fff;border-radius:5px}.table[_ngcontent-%COMP%]   .th[_ngcontent-%COMP%]{display:table-row;background-color:#40a1f577;color:#fff;font-weight:700}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f9f9f9}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]{display:table-row;border-bottom:1px solid #000}.table[_ngcontent-%COMP%]   .td[_ngcontent-%COMP%]{display:table-cell;padding:15px;border-bottom:1px solid #40A1F5;color:#3d7c7a}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:last-child   .td[_ngcontent-%COMP%]{border:0}.small-width[_ngcontent-%COMP%]{width:90px}.large-width[_ngcontent-%COMP%]{width:400px}.clear[_ngcontent-%COMP%]{clear:both}"]});var us=ms;var wk=()=>["expandedTitle"],xk=()=>["expandedDetail"],Ak=()=>[5,10,20,100],V0=n=>({display:n});function Pk(n,l){if(n&1&&C(0,"app-estate-property-header",58),n&2){let e=m();d("optionId",e.requestLinkPropertyId)}}function kk(n,l){if(n&1&&C(0,"app-estate-customer-order-header",58),n&2){let e=m();d("optionId",e.requestLinkCustomerOrderId)}}function Dk(n,l){if(n&1&&C(0,"app-estate-account-expert-header",58),n&2){let e=m();d("optionId",e.requestLinkEstateExpertId)}}function Rk(n,l){if(n&1){let e=I();r(0,"div",25)(1,"a",59),E("click",function(){u(e);let t=m();return f(t.onActionButtonNewRow())}),C(2,"i",60)(3,"br"),a(),r(4,"p",27),c(5),_(6,"translate"),a()()}n&2&&(o(5),M(g(6,1,"ACTION.ADD")))}function Lk(n,l){if(n&1){let e=I();r(0,"div",25)(1,"a",61),E("click",function(){u(e);let t=m();return f(t.onActionButtonEditRow(t.tableRowSelected))}),C(2,"i",62)(3,"br"),a(),r(4,"p",27),c(5),_(6,"translate"),a()()}n&2&&(o(5),M(g(6,1,"ACTION.EDIT")))}function Vk(n,l){if(n&1){let e=I();r(0,"div",25)(1,"a",63),E("click",function(){u(e);let t=m();return f(t.onActionButtonDeleteRow(t.tableRowSelected))}),C(2,"i",64)(3,"br"),a(),r(4,"p",27),c(5),_(6,"translate"),a()()}n&2&&(o(5),M(g(6,1,"ACTION.DELETE")))}function Ok(n,l){n&1&&(r(0,"mat-error"),c(1),_(2,"translate"),a()),n&2&&(o(),M(g(2,1,"MESSAGE.InvalidStartDate")))}function Fk(n,l){n&1&&(r(0,"mat-error"),c(1),_(2,"translate"),a()),n&2&&(o(),M(g(2,1,"MESSAGE.InvalidEndDate")))}function Bk(n,l){if(n&1){let e=I();r(0,"div",65)(1,"div",66),c(2),_(3,"translate"),a(),r(4,"mat-form-field",67)(5,"mat-label"),c(6),_(7,"translate"),a(),r(8,"mat-date-range-input",68),C(9,"input",69),_(10,"translate"),C(11,"input",70),_(12,"translate"),a(),C(13,"mat-datepicker-toggle",71)(14,"mat-date-range-picker",null,2),S(16,Ok,3,3,"mat-error",72)(17,Fk,3,3,"mat-error",72),a(),r(18,"button",73),E("click",function(){u(e);let t=m();return f(t.onActionNext())}),C(19,"i",74),a(),r(20,"button",73),E("click",function(){u(e);let t=m();return f(t.onActionPervious())}),C(21,"i",74),c(22," > "),a(),C(23,"br"),r(24,"a",75),E("click",function(){u(e);let t=m();return f(t.onActionButtonInCheckingOnDateSearch())}),c(25),_(26,"translate"),a()()}if(n&2){let e=k(15),i=m();o(2),M(g(3,12,"TITLE.SearchInCheckingOnDay")),o(4),M(g(7,14,"TITLE.Enter_a_date_range")),o(2),d("formGroup",i.checkingOnDayRange)("rangePicker",e),o(),d("placeholder",x(g(10,16,"TITLE.Start_Date"))),o(2),d("placeholder",x(g(12,18,"TITLE.Start_Date"))),o(2),d("for",e),o(3),d("ngIf",i.checkingOnDayRange.controls.start.hasError("matStartDateInvalid")),o(),d("ngIf",i.checkingOnDayRange.controls.end.hasError("matEndDateInvalid")),o(8),M(g(26,20,"ACTION.SEARCH"))}}function Nk(n,l){n&1&&(r(0,"mat-header-cell"),c(1),_(2,"translate"),a()),n&2&&(o(),y(" ",g(2,1,"TITLE.MENU")," "))}function Hk(n,l){if(n&1){let e=I();r(0,"mat-cell")(1,"button",76),E("click",function(){let t=u(e).$implicit,s=m();return f(s.onActionTableRowSelectActionMenu(t))}),C(2,"i",77),a()()}}function Wk(n,l){if(n&1&&(r(0,"mat-header-cell",78),c(1),a()),n&2){let e=m();o(),y(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function Gk(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),y(" ",e.id," ")}}function Uk(n,l){if(n&1&&(r(0,"mat-header-cell",78),c(1),a()),n&2){let e=m();o(),y(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function jk(n,l){if(n&1&&C(0,"select",81),n&2){let e=m().$implicit,i=m();d("contentService",i.contentService)("row",e)("ngStyle",ze(3,V0,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function qk(n,l){if(n&1&&(r(0,"mat-cell",79),_(1,"statusCellClass"),C(2,"i",79),_(3,"statusIconClass"),S(4,jk,1,5,"select",80),a()),n&2){let e=l.$implicit,i=m();d("ngClass",g(1,3,e.recordStatus)),o(2),d("ngClass",g(3,5,e.recordStatus)),o(2),d("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessEditRow)}}function Qk(n,l){if(n&1&&(r(0,"mat-header-cell",78),c(1),a()),n&2){let e=m();o(),y(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," ")}}function zk(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),y(" ",e.title," ")}}function Yk(n,l){if(n&1&&(r(0,"mat-header-cell",78),c(1),a()),n&2){let e=m();o(),y(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function Kk(n,l){if(n&1&&(r(0,"mat-cell",82),c(1),_(2,"localeDateTime"),a()),n&2){let e=l.$implicit;o(),y(" ",g(2,1,e.createdDate)," ")}}function Zk(n,l){if(n&1&&(r(0,"mat-header-cell",78),c(1),a()),n&2){let e=m();o(),y(" ",e.fieldsInfo.appointmentDateFrom==null?null:e.fieldsInfo.appointmentDateFrom.fieldTitle," ")}}function Jk(n,l){if(n&1&&(r(0,"mat-cell"),c(1),_(2,"localeDate"),a()),n&2){let e=l.$implicit,i=m();o(),$(" ",g(2,2,e.appointmentDateFrom)," ",i.publicHelper.getTime(e.appointmentDateFrom))}}function Xk(n,l){if(n&1&&(r(0,"mat-header-cell",78),c(1),a()),n&2){let e=m();o(),y(" ",e.fieldsInfo.appointmentDateTo==null?null:e.fieldsInfo.appointmentDateTo.fieldTitle," ")}}function $k(n,l){if(n&1&&(r(0,"mat-cell"),c(1),_(2,"localeDate"),a()),n&2){let e=l.$implicit,i=m();o(),$(" ",g(2,2,e.appointmentDateTo)," ",i.publicHelper.getTime(e.appointmentDateTo)," ")}}function eD(n,l){if(n&1&&(r(0,"mat-header-cell",78),c(1),a()),n&2){let e=m();o(),y(" ",e.fieldsInfo.linkActivityTypeId==null?null:e.fieldsInfo.linkActivityTypeId.fieldTitle," ")}}function tD(n,l){if(n&1&&(r(0,"mat-cell"),c(1),_(2,"cmstitle"),a()),n&2){let e=l.$implicit,i=m();o(),y(" ",oi(2,1,e.linkActivityTypeId,i.dataModelActivityTypeResult.listItems)," ")}}function iD(n,l){if(n&1&&(r(0,"mat-header-cell",78),c(1),a()),n&2){let e=m();o(),y(" ",e.fieldsInfo.activityStatus==null?null:e.fieldsInfo.activityStatus.fieldTitle," ")}}function nD(n,l){if(n&1&&(r(0,"mat-cell"),c(1),_(2,"enums"),a()),n&2){let e=l.$implicit,i=m();o(),y(" ",oi(2,1,e.activityStatus,i.dataModelEstateActivityStatusEnumResult.listItems)," ")}}function oD(n,l){n&1&&(r(0,"mat-header-cell"),c(1),_(2,"translate"),a()),n&2&&(o(),y(" ",g(2,1,"TITLE.OPTION")," "))}function rD(n,l){if(n&1&&(r(0,"mat-cell",83)(1,"button",84)(2,"mat-icon"),c(3,"more_vert"),a()(),C(4,"mat-menu",null,3),a()),n&2){let e=k(5);o(),d("matMenuTriggerFor",e)}}function aD(n,l){n&1&&(r(0,"mat-header-cell",85),c(1),_(2,"translate"),a()),n&2&&(o(),y(" ",g(2,1,"TITLE.QUICK_VIEW")," "))}function lD(n,l){if(n&1){let e=I();r(0,"mat-cell")(1,"button",86),E("click",function(){let t=u(e).$implicit,s=m();return f(s.onActionButtonQuickViewRow(t))}),r(2,"mat-icon",87),c(3,"visibility"),a()()()}}function sD(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),y(" ",e.title," ")}}function dD(n,l){if(n&1){let e=I();r(0,"tr")(1,"td"),c(2),_(3,"translate"),a(),r(4,"td")(5,"span",88),E("click",function(){u(e);let t=m(2);return f(t.onActionCopied())}),c(6),_(7,"estatePropertyInfo"),_(8,"async"),C(9,"i",90),a(),r(10,"button",91),E("click",function(){u(e);let t=m().$implicit,s=m();return f(s.onActionButtonPropertyQuickViewRow(t.linkPropertyId))}),r(11,"mat-icon"),c(12,"visibility"),a()()()()}if(n&2){let e=m().$implicit;o(2),y("",g(3,3,"TITLE.Property_Id"),":"),o(3),d("cdkCopyToClipboard",e.linkPropertyId),o(),y(" ",g(8,7,g(7,5,e.linkPropertyId))," \xA0 ")}}function cD(n,l){if(n&1){let e=I();r(0,"tr")(1,"td"),c(2),_(3,"translate"),a(),r(4,"td")(5,"span",88),E("click",function(){u(e);let t=m(2);return f(t.onActionCopied())}),c(6),_(7,"estateCustomerOrderInfo"),_(8,"async"),C(9,"i",89),a(),r(10,"button",91),E("click",function(){u(e);let t=m().$implicit,s=m();return f(s.onActionButtonCustomerOrderQuickViewRow(t.linkCustomerOrderId))}),r(11,"mat-icon"),c(12,"visibility"),a()()()()}if(n&2){let e=m().$implicit;o(2),y(" ",g(3,3,"TITLE.Customer_Order_Id"),":"),o(3),d("cdkCopyToClipboard",e.linkCustomerOrderId),o(),y(" ",g(8,7,g(7,5,e.linkCustomerOrderId))," \xA0 ")}}function pD(n,l){if(n&1){let e=I();r(0,"tr")(1,"td"),c(2),_(3,"translate"),a(),r(4,"td")(5,"span",88),E("click",function(){u(e);let t=m(2);return f(t.onActionCopied())}),c(6),_(7,"estateAccountExpertInfo"),_(8,"async"),C(9,"i",89),a()()()}if(n&2){let e=m().$implicit;o(2),y("",g(3,3,"TITLE.Expert_Id"),":"),o(3),d("cdkCopyToClipboard",e.linkCustomerOrderId),o(),y(" ",g(8,7,g(7,5,e.linkEstateExpertId))," \xA0 ")}}function mD(n,l){if(n&1){let e=I();r(0,"tr")(1,"td"),c(2),_(3,"translate"),a(),r(4,"td")(5,"span",88),E("click",function(){u(e);let t=m(2);return f(t.onActionCopied())}),c(6),_(7,"estateAccountAgencyInfo"),_(8,"async"),C(9,"i",89),a()()()}if(n&2){let e=m().$implicit;o(2),y("",g(3,3,"TITLE.Agency_Id"),":"),o(3),d("cdkCopyToClipboard",e.linkCustomerOrderId),o(),y(" ",g(8,7,g(7,5,e.linkEstateAgencyId))," \xA0 ")}}function uD(n,l){if(n&1&&(r(0,"tr")(1,"td"),c(2),a(),r(3,"td"),c(4),a()()),n&2){let e=m().$implicit,i=m();o(2),y("",i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle,":"),o(2),y(" ",e.title," ")}}function fD(n,l){if(n&1&&(r(0,"tr")(1,"td"),c(2),a(),r(3,"td"),c(4),a()()),n&2){let e=m().$implicit,i=m();o(2),y("",i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle,": "),o(2),y(" ",e.description," ")}}function _D(n,l){if(n&1){let e=I();r(0,"mat-cell")(1,"div")(2,"table")(3,"tr")(4,"td"),c(5),_(6,"translate"),a(),r(7,"td")(8,"span",88),E("click",function(){u(e);let t=m();return f(t.onActionCopied())}),c(9," \xA0 "),C(10,"i",89),a(),c(11),a()(),S(12,dD,13,9,"tr",72)(13,cD,13,9,"tr",72)(14,pD,10,9,"tr",72)(15,mD,10,9,"tr",72)(16,uD,5,2,"tr",72)(17,fD,5,2,"tr",72),r(18,"tr"),C(19,"td"),r(20,"td"),c(21),_(22,"cmsuserinfo"),_(23,"async"),a()(),r(24,"tr"),C(25,"td")(26,"td"),a()()()()}if(n&2){let e=l.$implicit;o(5),y("",g(6,10,"TITLE.Id"),":"),o(3),d("cdkCopyToClipboard",e.id),o(3),y("",e.id," "),o(),d("ngIf",e.linkPropertyId&&e.linkPropertyId.length>0),o(),d("ngIf",e.linkCustomerOrderId&&e.linkCustomerOrderId.length>0),o(),d("ngIf",e.linkEstateExpertId&&e.linkEstateExpertId.length>0),o(),d("ngIf",e.linkEstateAgencyId&&e.linkEstateAgencyId.length>0),o(),d("ngIf",e.title&&e.title.length>0),o(),d("ngIf",e.description&&e.description.length>0),o(4),y(" ",g(23,14,g(22,12,e.createdBy))," ")}}function gD(n,l){n&1&&C(0,"mat-header-row")}function hD(n,l){if(n&1){let e=I();r(0,"mat-row",92),E("click",function(){let t=u(e).$implicit,s=m();return f(s.onActionTableRowSelect(t))})("mouseenter",function(){let t=u(e).$implicit,s=m();return f(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=u(e).$implicit,s=m();return f(s.onActionTableRowMouseLeave(t))}),a()}if(n&2){let e=l.$implicit,i=l.dataIndex,t=m();Se("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",e.id===(t.tableRowSelected==null?null:t.tableRowSelected.id))}}function yD(n,l){if(n&1){let e=I();r(0,"mat-row",92),E("click",function(){let t=u(e).$implicit,s=m();return f(s.onActionTableRowSelect(t))})("mouseenter",function(){let t=u(e).$implicit,s=m();return f(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=u(e).$implicit,s=m();return f(s.onActionTableRowMouseLeave(t))}),a()}if(n&2){let e=l.$implicit,i=l.dataIndex,t=m();Se("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",e.id===(t.tableRowSelected==null?null:t.tableRowSelected.id))}}function CD(n,l){if(n&1){let e=I();r(0,"mat-row",93),E("click",function(){let t=u(e).$implicit,s=m();return f(s.onActionTableRowSelect(t))})("mouseenter",function(){let t=u(e).$implicit,s=m();return f(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=u(e).$implicit,s=m();return f(s.onActionTableRowMouseLeave(t))}),a()}if(n&2){let e=l.$implicit,i=l.dataIndex,t=m();Se("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",e.id===(t.tableRowSelected==null?null:t.tableRowSelected.id)),d("ngStyle",ze(7,V0,e.expanded===!0?"":"none"))}}var fs=class fs extends bt{constructor(e,i,t,s,h,p,D,z,he,je,Ge,mt,Nt){super(e,new nr,mt,p,je);this.contentService=e;this.cmsConfirmationDialogService=i;this.cmsToastrService=t;this.estateActivityTypeService=s;this.estateEnumService=h;this.tokenHelper=p;this.activatedRoute=D;this.cmsStoreService=z;this.cdr=he;this.translate=je;this.pageInfo=Ge;this.publicHelper=mt;this.dialog=Nt;this.requestLinkPropertyId="";this.requestLinkEstateExpertId="";this.requestLinkCustomerOrderId="";this.requestLinkEstateAgencyId="";this.responsibleUserId=0;this.constructorInfoAreaId=this.constructor.name;this.optionloadComponent=!0;this.optionloadByRoute=!0;this.popupAdd=!1;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new wa;this.dataModelActivityTypeResult=new G;this.searchInCheckingOnDay=!1;this.searchInCheckingPlanedToDay=!1;this.searchInCheckingPlanedToDayUserId=0;this.searchInCheckingOnDayChecked=!1;this.searchInCheckingPlanedToDayChecked=!1;this.searchInResponsibleChecked=!1;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["Id","RecordStatus","CreatedDate","AppointmentDateFrom","AppointmentDateTo","LinkActivityTypeId","ActivityStatus","QuickView","action_menu"];this.tabledisplayedColumnsMobileSource=["Id","RecordStatus","CreatedDate","ActivityStatus","QuickView","action_menu"];this.dataModelEstateActivityStatusEnumResult=new G;this.checkingOnDayRange=new zd({start:new Ct(null),end:new Ct(null)});Ge.updateContentService(e),this.publicHelper.processService.cdr=this.cdr,this.requestLinkPropertyId=this.activatedRoute.snapshot.paramMap.get("LinkPropertyId"),this.requestLinkEstateExpertId=this.activatedRoute.snapshot.paramMap.get("LinkEstateExpertId"),this.requestLinkCustomerOrderId=this.activatedRoute.snapshot.paramMap.get("LinkCustomerOrderId"),this.requestLinkEstateAgencyId=this.activatedRoute.snapshot.paramMap.get("LinkEstateAgencyId"),this.popupAdd=this.activatedRoute.snapshot.paramMap.get("Action")?.toLowerCase()==="add",this.requestRecordStatus=qe[this.activatedRoute.snapshot.paramMap.get("RecordStatus")+""],this.responsibleUserId=+this.activatedRoute.snapshot.paramMap.get("ResponsibleUserId"),this.requestRecordStatus&&(this.optionsSearch.data.show=!0,this.optionsSearch.data.defaultQuery='{"condition":"and","rules":[{"field":"RecordStatus","type":"select","operator":"equal","value":"'+this.requestRecordStatus+'"}]}',this.requestRecordStatus=null),this.requestActivityStatus=ac[this.activatedRoute.snapshot.paramMap.get("ActivityStatus")+""],this.optionsSearch.parentMethods={onSubmit:Rt=>this.onSubmitOptionsSearch(Rt)},this.activatedRoute.snapshot.paramMap.get("InCheckingOnDay")&&(this.searchInCheckingOnDay=this.activatedRoute.snapshot.paramMap.get("InCheckingOnDay")==="true"),this.activatedRoute.snapshot.paramMap.get("InCheckingPlanedToDay")&&(this.searchInCheckingPlanedToDay=!0,this.searchInCheckingPlanedToDayUserId=+this.activatedRoute.snapshot.paramMap.get("InCheckingPlanedToDay")|0),this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=X.Descending}set optionLinkCustomerOrderId(e){e&&e.length>0&&(this.requestLinkCustomerOrderId=e)}set optionLinkPropertyId(e){e&&e.length>0&&(this.requestLinkPropertyId=e)}ngOnInit(){this.filteModelContent.sortColumn="CreatedDate",this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.cmsApiStoreSubscribe=this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>re(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})),this.getEstateActivityStatusEnum(),this.getActivityTypeList()}ngOnDestroy(){this.cmsApiStoreSubscribe&&this.cmsApiStoreSubscribe.unsubscribe()}ngAfterViewInit(){this.searchInCheckingOnDay&&(this.searchInCheckingOnDayChecked=!0),this.searchInCheckingPlanedToDay&&(this.searchInCheckingPlanedToDayChecked=!0)}getEstateActivityStatusEnum(){this.estateEnumService.ServiceEstateActivityStatusEnum().subscribe({next:e=>{this.dataModelEstateActivityStatusEnumResult=e}})}getActivityTypeList(){let e=new pe;e.rowPerPage=100,this.estateActivityTypeService.ServiceGetAllEditor(e).subscribe({next:i=>{this.dataModelActivityTypeResult=i}})}DataGetAll(){if(this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),!this.optionloadComponent)return;this.tableRowsSelected=[],this.onActionTableRowSelect(new nr);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));if(this.requestActivityStatus!=null){let t=new H;t.propertyName="activityStatus",t.value=ac.Planned,i.filters.push(t)}if(this.searchInCheckingPlanedToDay){let t=new H,s=48;i.onDateTimeFrom=new Date(new Date().setHours(0,0,0,0)-s*60*60*1e3),i.onDateTimeTo=new Date(new Date().setHours(23,59,59,999)),this.searchInCheckingPlanedToDayUserId===0?i.linkResponsibleUserId=this.tokenInfo.access.userId:i.linkResponsibleUserId=this.searchInCheckingPlanedToDayUserId,t.propertyName="activityStatus",t.value=ac.Planned,t.searchType=Oe.Equal,i.filters.push(t)}if(this.requestLinkPropertyId&&this.requestLinkPropertyId.length>0){let t=new H;t.propertyName="LinkPropertyId",t.value=this.requestLinkPropertyId,i.filters.push(t)}if(this.requestLinkEstateExpertId&&this.requestLinkEstateExpertId.length>0){let t=new H;t.propertyName="linkEstateExpertId",t.value=this.requestLinkEstateExpertId,i.filters.push(t)}if(this.requestLinkCustomerOrderId&&this.requestLinkCustomerOrderId.length>0){let t=new H;t.propertyName="linkCustomerOrderId",t.value=this.requestLinkCustomerOrderId,i.filters.push(t)}if(this.requestLinkEstateAgencyId&&this.requestLinkEstateAgencyId.length>0){let t=new H;t.propertyName="linkEstateAgencyId",t.value=this.requestLinkEstateAgencyId,i.filters.push(t)}if(this.searchInResponsibleChecked?i.linkResponsibleUserId=this.tokenInfo.access.userId:this.responsibleUserId>0&&(i.linkResponsibleUserId=this.responsibleUserId),this.categoryModelSelected&&this.categoryModelSelected.id.length>0){let t=new H;t.propertyName="LinkActivityTypeId",t.value=this.categoryModelSelected.id,i.filters.push(t)}if(this.searchInCheckingOnDay){let t=new wa;t=i,this.checkingOnDayRange.controls.start?.value||this.checkingOnDayRange.controls.start.setValue(new Date),this.checkingOnDayRange.controls.end?.value||this.checkingOnDayRange.controls.end.setValue(new Date),t.onDateTimeFrom=this.checkingOnDayRange.controls.start.value,t.onDateTimeTo=this.checkingOnDayRange.controls.end.value,this.contentService.ServiceGetAll(t).subscribe({next:s=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(s.access),s.isSuccess?(this.dataModelResult=s,this.tableSource.data=s.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(s.access)},1e3)):this.cmsToastrService.typeErrorMessage(s.errorMessage),this.publicHelper.processService.processStop(e),this.popupAdd&&this.onActionButtonNewRow()},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(e,!1)}})}else this.contentService.ServiceGetAll(i).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),t.isSuccess?(this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e),this.popupAdd&&this.onActionButtonNewRow()},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=X.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=X.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=X.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.popupAdd=!1,this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.publicHelper.isMobile?this.dialog.open(mo,{height:"90%",panelClass:e,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{linkActivityTypeId:this.categoryModelSelected?.id,linkPropertyId:this.requestLinkPropertyId,linkEstateExpertId:this.requestLinkEstateExpertId,linkCustomerOrderId:this.requestLinkCustomerOrderId,linkEstateAgencyId:this.requestLinkEstateAgencyId}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()}):this.dialog.open(mo,{height:"90%",panelClass:e,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{linkActivityTypeId:this.categoryModelSelected?.id,linkPropertyId:this.requestLinkPropertyId,linkEstateExpertId:this.requestLinkEstateExpertId,linkCustomerOrderId:this.requestLinkCustomerOrderId,linkEstateAgencyId:this.requestLinkEstateAgencyId}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.publicHelper.isMobile?this.dialog.open(Vd,{height:"90%",panelClass:i,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate&&this.DataGetAll()}):this.dialog.open(Vd,{height:"90%",panelClass:i,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(s=>{this.cmsToastrService.typeErrorSelected(s)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(s=>{i=s["MESSAGE.Please_Confirm"],t=s["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(s=>{if(s){let h=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(p=>{this.publicHelper.processService.processStart(h,p,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:p=>{p.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(h)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(h)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(p=>{i.set(p,0)}),this.translate.get("MESSAGE.All").subscribe(p=>{i.set(p,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(p=>{this.publicHelper.processService.processStart(t,p,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:p=>{p.isSuccess?(this.translate.get("MESSAGE.All").subscribe(D=>{i.set(D,p.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(p.errorMessage),this.publicHelper.processService.processStop(t)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(t,!1)}});let s=JSON.parse(JSON.stringify(this.filteModelContent)),h=new H;h.propertyName="RecordStatus",h.value=qe.Available,s.filters.push(h),this.contentService.ServiceGetCount(s).subscribe({next:p=>{p.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(D=>{i.set(D,p.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(p.errorMessage),this.publicHelper.processService.processStop(t)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonPropertyQuickViewRow(e){if(!e||e.length===0){this.cmsToastrService.typeErrorSelectedRow();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(qo,{height:"90%",panelClass:i,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:e}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate})}onActionButtonQuickViewRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.tableRowSelected=e,this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var i=this.publicHelper.InfoNextRowInList(this.dataModelResult.listItems,this.tableRowSelected),t=this.publicHelper.InfoPerviousRowInList(this.dataModelResult.listItems,this.tableRowSelected),s="";this.publicHelper.isMobile?s="dialog-fullscreen":s="dialog-min",this.dialog.open(ds,{height:"90%",panelClass:s,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id,perviousItem:t,nextItem:i}}).afterClosed().subscribe(p=>{p&&p.dialogChangedDate&&p.onActionOpenItem&&p.onActionOpenItem.id.length>0&&this.onActionButtonQuickViewRow(p.onActionOpenItem)})}onActionButtonCustomerOrderQuickViewRow(e){if(!e||e.length===0){this.cmsToastrService.typeErrorSelectedRow();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(yr,{height:"90%",panelClass:i,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:e}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate})}onActionSelectorSelect(e){var i=this.filteModelContent.sortColumn,t=this.filteModelContent.sortType;this.filteModelContent=new wa,this.filteModelContent.sortColumn=i,this.filteModelContent.sortType=t,this.categoryModelSelected=e,this.DataGetAll()}onActionButtonReload(){this.optionloadComponent=!0,this.DataGetAll()}onActionCopied(){this.cmsToastrService.typeSuccessCopedToClipboard()}onSubmitOptionsSearch(e){e&&e.length>0&&(this.filteModelContent.filters=[...this.filteModelContent.filters,...e]),this.DataGetAll()}onActionButtonInCheckingOnDate(e){this.searchInCheckingOnDay=e,this.searchInCheckingOnDay?(this.checkingOnDayRange.controls.start?.value||this.checkingOnDayRange.controls.start.setValue(new Date),this.checkingOnDayRange.controls.end?.value||this.checkingOnDayRange.controls.end.setValue(new Date)):this.DataGetAll()}onActionButtonInCheckingPlaned(e){this.searchInCheckingPlanedToDay=e,this.DataGetAll()}onActionButtonInResponsible(e){this.searchInResponsibleChecked=e,this.DataGetAll()}onActionButtonInCheckingOnDateSearch(){this.searchInCheckingOnDay&&this.DataGetAll()}onActionNext(){this.checkingOnDayRange.controls.start?.value||this.checkingOnDayRange.controls.start.setValue(new Date),this.checkingOnDayRange.controls.end?.value||this.checkingOnDayRange.controls.end.setValue(new Date),this.checkingOnDayRange.controls.start.setValue(this.addDays(this.checkingOnDayRange.controls.start.value,1)),this.checkingOnDayRange.controls.end.setValue(this.addDays(this.checkingOnDayRange.controls.end.value,1))}onActionPervious(){this.checkingOnDayRange.controls.start?.value||this.checkingOnDayRange.controls.start.setValue(new Date),this.checkingOnDayRange.controls.end?.value||this.checkingOnDayRange.controls.end.setValue(new Date),this.checkingOnDayRange.controls.start.setValue(this.addDays(this.checkingOnDayRange.controls.start.value,-1)),this.checkingOnDayRange.controls.end.setValue(this.addDays(this.checkingOnDayRange.controls.end.value,-1))}addDays(e,i){let t=new Date(e);return t.setDate(t.getDate()+i),t}onActionButtonResponsibleUserlistView(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}this.tableRowSelected=e;var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(qc,{height:"90%",panelClass:i,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{title:this.tableRowSelected.title,id:this.tableRowSelected.id}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate})}};fs.\u0275fac=function(i){return new(i||fs)(v(zn),v(Mt),v(V),v(qn),v(sn),v(K),v(jt),v(Z),v(B),v(L),v(ht),v(F),v(xe))},fs.\u0275cmp=R({type:fs,selectors:[["app-estate-property-history-list"]],inputs:{optionloadComponent:"optionloadComponent",optionloadByRoute:"optionloadByRoute",optionLinkCustomerOrderId:"optionLinkCustomerOrderId",optionLinkPropertyId:"optionLinkPropertyId"},standalone:!1,features:[ne],decls:101,vars:52,consts:[["tableSort","matSort"],["paginator",""],["picker",""],["actionMenu","matMenu"],[3,"optionId",4,"ngIf"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionActionRowDisplayMenuAct","optionSelectRowItemTitle"],["cms-tree",""],[3,"optionChange"],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-maximize","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-minimize","font-18",2,"color","#ffffff"],["cms-action-header-end",""],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[3,"click","checked"],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],[1,"col-4"],[1,"fa-solid","fa-share","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["cms-action-area",""],["class","alert alert-info",4,"ngIf"],[3,"optionsChange","options"],["cms-body",""],["matSort","","multiTemplateDataRows","",3,"matSortChange","dataSource"],["matColumnDef","action_menu"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","Title"],["matColumnDef","CreatedDate"],["style","direction: ltr; justify-content: center; text-align: center;",4,"matCellDef"],["matColumnDef","AppointmentDateFrom"],["matColumnDef","AppointmentDateTo"],["matColumnDef","LinkActivityTypeId"],["matColumnDef","ActivityStatus"],["matColumnDef","Action"],["class"," Action",4,"matCellDef"],["matColumnDef","QuickView"],["mat-sort-header","","class","form-label",4,"matHeaderCellDef"],["matColumnDef","expandedTitle"],["matColumnDef","expandedDetail"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","ngStyle","click","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],[3,"optionId"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#FFFFFF"],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],[1,"alert","alert-info"],[2,"font-size","30px"],["appearance","fill"],[3,"formGroup","rangePicker"],["matStartDate","","formControlName","start",3,"placeholder"],["matEndDate","","formControlName","end",3,"placeholder"],["matIconSuffix","",3,"for"],[4,"ngIf"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["href","javascript:void(0)",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"click"],[1,"fa","fa-bars","font-18"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[2,"direction","ltr","justify-content","center","text-align","center"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],["mat-sort-header","",1,"form-label"],["type","button","mat-icon-button","",1,"text-dark",3,"click"],[2,"color","#ff671f"],[1,"navi-icon","pointer",3,"click","cdkCopyToClipboard"],[1,"flaticon2-copy","brown-color"],[1,"flaticon2-copy","brown-color",2,"color","brown"],["type","button","mat-icon-button","",3,"click"],[3,"click","mouseenter","mouseleave"],[3,"click","mouseenter","mouseleave","ngStyle"]],template:function(i,t){if(i&1){let s=I();S(0,Pk,1,1,"app-estate-property-header",4)(1,kk,1,1,"app-estate-customer-order-header",4)(2,Dk,1,1,"app-estate-account-expert-header",4),r(3,"app-cms-html-list",5),w("optionActionGuideNoticeDisplayChange",function(p){return u(s),T(t.viewGuideNotice,p)||(t.viewGuideNotice=p),f(p)}),E("optionOnActionButtonMemoRow",function(){return u(s),f(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return u(s),f(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return u(s),f(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return u(s),f(t.onActionButtonPrintRow())}),A(4,6),r(5,"app-estate-activity-type-tree",7),E("optionChange",function(p){return u(s),f(t.onActionSelectorSelect(p))}),a(),P(),Qe(6,8)(7,9),A(8,10),r(9,"a",11),E("click",function(){return u(s),f(t.viewGuideNotice=!t.viewGuideNotice)}),C(10,"i",12),a(),r(11,"a",11),E("click",function(){return u(s),f(t.onActionButtonReload())}),C(12,"i",13),a(),r(13,"a",14),E("click",function(){return u(s),f(t.onActionGridExpandRows(!0))}),C(14,"i",15),a(),r(15,"a",14),E("click",function(){return u(s),f(t.onActionGridExpandRows(!1))}),C(16,"i",16),a(),P(),A(17,17),r(18,"a",18)(19,"mat-slide-toggle",19),E("click",function(){return u(s),f(t.onActionButtonInCheckingOnDate(!t.searchInCheckingOnDay))}),c(20),_(21,"translate"),a()(),r(22,"a",18)(23,"mat-slide-toggle",19),E("click",function(){return u(s),f(t.onActionButtonInCheckingPlaned(!t.searchInCheckingPlanedToDay))}),c(24),_(25,"translate"),a()(),r(26,"a",20),E("click",function(){return u(s),f(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),C(27,"mat-slide-toggle",21),c(28),_(29,"translate"),a(),r(30,"a",20),E("click",function(){return u(s),f(t.onActionButtonStatist())}),C(31,"mat-slide-toggle",21),c(32),_(33,"translate"),a(),r(34,"a",20),E("click",function(){return u(s),f(t.onActionButtonInResponsible(!t.searchInResponsibleChecked))}),C(35,"mat-slide-toggle",21),c(36),_(37,"translate"),a(),P(),A(38,22),S(39,Rk,7,3,"div",23),P(),A(40,24),S(41,Lk,7,3,"div",23)(42,Vk,7,3,"div",23),r(43,"div",25)(44,"a",11),E("click",function(){return u(s),f(t.onActionButtonResponsibleUserlistView(t.tableRowSelected))}),C(45,"i",26)(46,"br"),a(),r(47,"p",27),c(48),_(49,"translate"),a()(),P(),A(50,28),S(51,Bk,27,22,"div",29),r(52,"app-cms-search-list",30),w("optionsChange",function(p){return u(s),T(t.optionsSearch,p)||(t.optionsSearch=p),f(p)}),a(),r(53,"app-cms-statist-list",30),w("optionsChange",function(p){return u(s),T(t.optionsStatist,p)||(t.optionsStatist=p),f(p)}),a(),P(),A(54,31),r(55,"mat-table",32,0),E("matSortChange",function(){u(s);let p=k(56);return f(t.onTableSortData(p))}),A(57,33),S(58,Nk,3,3,"mat-header-cell",34)(59,Hk,3,0,"mat-cell",35),P(),A(60,36),S(61,Wk,2,1,"mat-header-cell",37)(62,Gk,2,1,"mat-cell",35),P(),A(63,38),S(64,Uk,2,1,"mat-header-cell",37)(65,qk,5,7,"mat-cell",39),P(),A(66,40),S(67,Qk,2,1,"mat-header-cell",37)(68,zk,2,1,"mat-cell",35),P(),A(69,41),S(70,Yk,2,1,"mat-header-cell",37)(71,Kk,3,3,"mat-cell",42),P(),A(72,43),S(73,Zk,2,1,"mat-header-cell",37)(74,Jk,3,4,"mat-cell",35),P(),A(75,44),S(76,Xk,2,1,"mat-header-cell",37)(77,$k,3,4,"mat-cell",35),P(),A(78,45),S(79,eD,2,1,"mat-header-cell",37)(80,tD,3,4,"mat-cell",35),P(),A(81,46),S(82,iD,2,1,"mat-header-cell",37)(83,nD,3,4,"mat-cell",35),P(),A(84,47),S(85,oD,3,3,"mat-header-cell",34)(86,rD,6,1,"mat-cell",48),P(),A(87,49),S(88,aD,3,3,"mat-header-cell",50)(89,lD,4,0,"mat-cell",35),P(),A(90,51),S(91,sD,2,1,"mat-cell",35),P(),A(92,52),S(93,_D,27,16,"mat-cell",35),P(),S(94,gD,1,0,"mat-header-row",53)(95,hD,1,6,"mat-row",54)(96,yD,1,6,"mat-row",54)(97,CD,1,9,"mat-row",55),a(),P(),A(98,56),r(99,"mat-paginator",57,1),E("page",function(p){return u(s),f(t.onTablePageingData(p))}),a(),P(),a()}i&2&&(d("ngIf",(t.requestLinkPropertyId==null?null:t.requestLinkPropertyId.length)>0),o(),d("ngIf",(t.requestLinkCustomerOrderId==null?null:t.requestLinkCustomerOrderId.length)>0),o(),d("ngIf",(t.requestLinkEstateExpertId==null?null:t.requestLinkEstateExpertId.length)>0),o(),d("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey","estate.propertyhistory.list"),b("optionActionGuideNoticeDisplay",t.viewGuideNotice),d("optionTreeDisplay",t.optionloadByRoute)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelectDoubleClick)("optionActionRowDisplayMenuAct",t.tableRowSelectActionMenuClick)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.title),o(16),d("checked",t.searchInCheckingOnDayChecked),o(),y(" ",g(21,37,"ACTION.SearchOnDay")," "),o(3),d("checked",t.searchInCheckingPlanedToDayChecked),o(),y(" ",g(25,39,"ACTION.Planned")," "),o(3),d("checked",t.optionsSearch.data.show),o(),y("",g(29,41,"ACTION.SEARCH")," "),o(3),d("checked",t.optionsStatist.data.show),o(),y("",g(33,43,"ACTION.STATIST")," "),o(3),d("checked",t.searchInResponsibleChecked),o(),y(" ",g(37,45,"ACTION.InResponsible")," "),o(3),d("ngIf",t.optionloadByRoute&&t.dataModelResult.access.accessAddRow),o(2),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),o(),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),o(6),M(g(49,47,"TITLE.ResponsibleUsers")),o(3),d("ngIf",t.searchInCheckingOnDay),o(),b("options",t.optionsSearch),o(),b("options",t.optionsStatist),o(2),d("dataSource",t.tableSource),o(39),d("matHeaderRowDef",t.tabledisplayedColumns),o(),d("matRowDefColumns",le(49,wk)),o(),d("matRowDefColumns",t.tabledisplayedColumns),o(),d("matRowDefColumns",le(50,xk)),o(2),d("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",le(51,Ak)))},dependencies:[se,N,tt,Y,q,Te,Yd,Kd,Je,ln,$d,ec,tc,ic,mi,pi,we,et,Ee,Q,At,Pt,vt,gt,Et,It,it,ot,st,rt,nt,dt,at,lt,ct,pt,ci,Tt,wt,xt,Oi,Qc,us,fr,Ba,He,O,Pa,On,Ai,Fn,Jn,qt,Bn,dr,cr,rs,ls],encapsulation:2});var rn=fs;var SD=["vform"];function vD(n,l){if(n&1){let e=I();r(0,"div")(1,"div",9),C(2,"br"),r(3,"mat-slide-toggle",22),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.actionSendSmsToAreaEstateAgency,t)||(s.dataModel.actionSendSmsToAreaEstateAgency=t),f(t)}),c(4),_(5,"translate"),a()(),r(6,"div",9),C(7,"br"),r(8,"mat-slide-toggle",23),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.actionSendSmsToAreaEstateAgent,t)||(s.dataModel.actionSendSmsToAreaEstateAgent=t),f(t)}),c(9),_(10,"translate"),a()()()}if(n&2){let e=m();o(3),b("ngModel",e.dataModel.actionSendSmsToAreaEstateAgency),o(),y(" ",g(5,4,"ACTION.SEND_TO_NEAR_AGENCY")," "),o(4),b("ngModel",e.dataModel.actionSendSmsToAreaEstateAgent),o(),y(" ",g(10,6,"ACTION.SEND_TO_NEAR_EMPLOYE_AGENCY")," ")}}function ED(n,l){if(n&1){let e=I();r(0,"div",17)(1,"button",24),E("click",function(){u(e);let t=m();return f(t.onFormCancel())}),C(2,"i",25),c(3),_(4,"translate"),a(),r(5,"button",26),C(6,"i",27),c(7),_(8,"translate"),a()()}if(n&2){m();let e=k(9);o(3),y(" ",g(4,3,"ACTION.CANCEL")," "),o(2),d("disabled",!e.form.valid),o(2),y(" ",g(8,5,"ACTION.Send_Message")," ")}}var _s=class _s{constructor(l,e,i,t,s,h,p){this.data=l;this.dialogRef=e;this.service=i;this.publicHelper=t;this.translate=s;this.cmsToastrService=h;this.cdr=p;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.dataModel=new Lm;this.dataModelCustomerOrder=new Mn;this.formInfo=new me;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,l&&(this.dataModelCustomerOrder=l.model,this.dataModel.id=this.dataModelCustomerOrder.id)}ngOnInit(){this.translate.get("TITLE.Activities").subscribe(l=>{this.formInfo.formTitle=l}),(!this.dataModel||!this.dataModel.id||this.dataModel.id.length==0)&&(this.cmsToastrService.typeErrorMessage("\u0634\u0646\u0627\u0633\u0647 \u0645\u0634\u062E\u0635 \u0646\u0645\u06CC \u0628\u0627\u0634\u062F"),this.dialogRef.close({dialogChangedDate:!1}))}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataSend())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}DataSend(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError="";let l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(l,e,this.constructorInfoAreaId)}),this.service.ServiceActionSendSms(this.dataModel).subscribe({next:e=>{e.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(i=>{this.formInfo.formAlert=i}),this.cmsToastrService.typeSuccessAdd()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError=e.errorMessage,this.cmsToastrService.typeErrorMessage(e.errorMessage)),this.publicHelper.processService.processStop(l),this.formInfo.formSubmitAllow=!0,this.dialogRef.close({dialogChangedDate:!0})},error:e=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(l,!1)}})}};_s.\u0275fac=function(e){return new(e||_s)(v(be),v(Me),v(Yi),v(F),v(L),v(V),v(B))},_s.\u0275cmp=R({type:_s,selectors:[["app-estate-customer-order-action"]],viewQuery:function(e,i){if(e&1&&ee(SD,5),e&2){let t;te(t=ie())&&(i.formGroup=t.first)}},standalone:!1,decls:50,vars:30,consts:[["vform","ngForm"],["ActionSendSmsToContactNumber",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection"],[1,"ntk-full-width"],["name","dataModel.actionSendSmsToMe",3,"ngModelChange","ngModel"],["name","dataModel.actionSendSmsToEstateAgent",3,"ngModelChange","ngModel"],["name","dataModel.actionSendSmsToEstateAgency",3,"ngModelChange","ngModel"],["name","dataModel.actionSendSmsToEstateCustomer",3,"ngModelChange","ngModel"],[4,"ngIf"],["matInput","","name","dataModel.actionSendSmsToContactNumber","type","text","rows","5","maxlength","100","placeholder","09123456789",1,"text-line",3,"ngModelChange","ngModel"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["name","dataModel.actionSendSmsToAreaEstateAgency",3,"ngModelChange","ngModel"],["name","dataModel.actionSendSmsToAreaEstateAgent",3,"ngModelChange","ngModel"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(e,i){if(e&1){let t=I();r(0,"div",2),C(1,"app-progress-spinner",3),r(2,"div",4)(3,"p",5),c(4),a(),r(5,"p"),c(6),_(7,"translate"),a(),r(8,"form",6,0),E("ngSubmit",function(){return u(t),f(i.onFormSubmit())}),r(10,"div",7),c(11),a(),r(12,"div",8)(13,"div",9),C(14,"br"),r(15,"mat-slide-toggle",10),w("ngModelChange",function(h){return u(t),T(i.dataModel.actionSendSmsToMe,h)||(i.dataModel.actionSendSmsToMe=h),f(h)}),c(16),_(17,"translate"),a()(),r(18,"div",9),C(19,"br"),r(20,"mat-slide-toggle",11),w("ngModelChange",function(h){return u(t),T(i.dataModel.actionSendSmsToEstateAgent,h)||(i.dataModel.actionSendSmsToEstateAgent=h),f(h)}),c(21),_(22,"translate"),a()(),r(23,"div",9),C(24,"br"),r(25,"mat-slide-toggle",12),w("ngModelChange",function(h){return u(t),T(i.dataModel.actionSendSmsToEstateAgency,h)||(i.dataModel.actionSendSmsToEstateAgency=h),f(h)}),c(26),_(27,"translate"),a()(),r(28,"div",9),C(29,"br"),r(30,"mat-slide-toggle",13),w("ngModelChange",function(h){return u(t),T(i.dataModel.actionSendSmsToEstateCustomer,h)||(i.dataModel.actionSendSmsToEstateCustomer=h),f(h)}),c(31),_(32,"translate"),a()(),C(33,"hr"),S(34,vD,11,8,"div",14),C(35,"hr"),r(36,"div",9),c(37),_(38,"translate"),C(39,"br"),r(40,"textarea",15,1),w("ngModelChange",function(h){return u(t),T(i.dataModel.actionSendSmsToContactNumber,h)||(i.dataModel.actionSendSmsToContactNumber=h),f(h)}),a()()(),r(42,"div",16)(43,"div",17)(44,"small",18),c(45),a(),r(46,"small",19),c(47),a()()(),r(48,"div",20),S(49,ED,9,7,"div",21),a()()()()}e&2&&(o(),d("optionsInfoAreaId",i.constructorInfoAreaId),o(3),y(" ",i.formInfo.formTitle," "),o(2),y(" ",g(7,18,"TITLE.Be_Careful_When_Entering_Information")," "),o(5),y(" ",i.formInfo.formTitle," "),o(4),b("ngModel",i.dataModel.actionSendSmsToMe),o(),y(" ",g(17,20,"ACTION.SEND_TO_ME")," "),o(4),b("ngModel",i.dataModel.actionSendSmsToEstateAgent),o(),y(" ",g(22,22,"ACTION.SEND_TO_ESTATE")," "),o(4),b("ngModel",i.dataModel.actionSendSmsToEstateAgency),o(),y(" ",g(27,24,"ACTION.SEND_TO_AGENCY")," "),o(4),b("ngModel",i.dataModel.actionSendSmsToEstateCustomer),o(),y(" ",g(32,26,"ACTION.SEND_TO_CLIENT")," "),o(3),d("ngIf",i.dataModelCustomerOrder.linkLocationIds&&i.dataModelCustomerOrder.linkLocationIds.length>0),o(3),y(" ",g(38,28,"TITLE.Send_link_message_to_the_special_number")," "),o(3),b("ngModel",i.dataModel.actionSendSmsToContactNumber),o(5),y("",i.formInfo.formAlert," "),o(2),y("",i.formInfo.formError," "),o(2),d("ngIf",i.formInfo.formSubmitAllow))},dependencies:[N,ke,Y,q,Te,Ae,ce,Pe,Q,gt,U,O],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}.text-line[_ngcontent-%COMP%]{background-color:transparent;outline:none;outline-style:none;border-top:none;border-left:none;border-right:none;border-bottom:solid #eeeeee 1px;padding:3px 10px}"]});var zc=_s;var F0=["*","*"];function ID(n,l){if(n&1&&(r(0,"mat-option",13)(1,"span"),c(2),a()()),n&2){let e=l.$implicit,i=m(2);d("value",e)("disabled",i.optionDisabled),o(2),M(i.displayOption(e))}}function MD(n,l){n&1&&C(0,"i",14)}function bD(n,l){n&1&&C(0,"i",15)}function TD(n,l){if(n&1){let e=I();r(0,"i",16),E("click",function(){u(e);let t=m(2);return f(t.onActionSelectClear())}),a()}}function wD(n,l){n&1&&(r(0,"em"),c(1),_(2,"translate"),a()),n&2&&(o(),y(" ",g(2,1,"TITLE.Necessary")," "))}function xD(n,l){if(n&1){let e=I();r(0,"div",3),C(1,"app-progress-spinner",4)(2,"input",5),r(3,"label",6),c(4),a(),r(5,"mat-autocomplete",7,0),E("optionSelected",function(t){u(e);let s=m();return f(s.onActionSelect(t.option.value))}),S(7,ID,3,3,"mat-option",8),_(8,"async"),a(),S(9,MD,1,0,"i",9)(10,bD,1,0,"i",10)(11,TD,1,0,"i",11)(12,wD,3,3,"em",12),ai(13),a()}if(n&2){let e=k(6),i=m();o(),d("optionsInfoAreaId",i.constructorInfoAreaId),o(),d("placeholder",x(i.optionPlaceholder))("formControl",i.formControl)("matAutocomplete",e)("required",i.optionRequired),yt("disabled",i.optionDisabled?!0:null),o(2),M(i.optionLabel),o(),d("displayWith",i.displayFn),o(2),d("ngForOf",g(8,14,i.filteredOptions)),o(2),d("ngIf",!i.formControl.valid),o(),d("ngIf",i.optionRequired&&i.formControl.valid),o(),d("ngIf",(i.dataModelSelect==null||i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0),o(),d("ngIf",i.optionRequired&&(!i.dataModelSelect||!i.dataModelSelect.id||i.dataModelSelect.id.length<=0))}}function AD(n,l){if(n&1){let e=I();r(0,"div",19)(1,"a",20),E("click",function(){let t=u(e).$implicit,s=m(2);return f(s.onActionSelect(t))}),c(2),a()()}if(n&2){let e=l.$implicit,i=m(2);o(),d("ngClass",e.id===(i.dataModelSelect==null?null:i.dataModelSelect.id)?"btn font-13 font-600 btn-s m-1 rounded-xl shadow-xl border-0 gradient-highlight btn-full":"btn font-13 font-600 btn-s m-1 rounded-xl shadow-xl border-blue-dark color-blue-dark bg-theme btn-border btn-full"),yt("disabled",i.optionDisabled?!0:null),o(),M(i.displayOption(e))}}function PD(n,l){if(n&1&&(r(0,"div",17),S(1,AD,3,3,"div",18),_(2,"async"),ai(3,1),a()),n&2){let e=m();o(),d("ngForOf",g(2,1,e.filteredOptions))}}var gs=class gs{constructor(l,e,i,t,s,h,p,D){this.coreEnumService=l;this.cmsToastrService=e;this.cdr=i;this.publicHelper=t;this.translate=s;this.tokenHelper=h;this.cmsStoreService=p;this.categoryService=D;this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new G;this.dataModelSelect=new Zn;this.formControl=new Ct;this.optionDisabled=!1;this.optionSelectFirstItem=!1;this.optionPlaceholder="";this.optionLabel="";this.optionRequired=!1;this.optionChange=new Xe;this.optionTypeView=1;this.typeUsageId="";this.optionReload=()=>this.onActionButtonReload();this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(l){this.onActionSelectForce(l)}set optionTypeUsageId(l){this.typeUsageId=l,this.loadOptions()}ngOnInit(){this.loadOptions(),this.cmsApiStoreSubscribe=this.cmsStoreService.getState(l=>l.tokenInfoStore).subscribe(l=>re(this,null,function*(){this.loadOptions()})),(!this.optionLabel||this.optionLabel.length==0&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder)}ngOnDestroy(){this.cmsApiStoreSubscribe&&this.cmsApiStoreSubscribe.unsubscribe()}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(Kt(""),Yt(1500),Ii(),Zt(l=>typeof l=="string"||typeof l=="number"?this.DataGetAll(l||""):[]))}displayFn(l){return l?l.title:void 0}displayOption(l){return l?l.title:void 0}DataGetAll(l){return re(this,null,function*(){let e=new pe;e.rowPerPage=20,e.accessLoad=!0;let i=new H,t=new H;l&&l.length>0&&(i.propertyName="Title",i.value=l,i.searchType=Oe.Contains,i.clauseType=Ve.Or,t.filters.push(i),i=new H,i.propertyName="Id",i.value=l,i.searchType=Oe.Equal,i.clauseType=Ve.Or,t.filters.push(i),e.filters.push(t)),this.typeUsageId&&this.typeUsageId.length>0&&(i=new H,i.propertyName="PropertyTypes",i.propertyAnyName="LinkPropertyTypeUsageId",i.value=this.typeUsageId,i.searchType=Oe.Equal,i.clauseType=Ve.And,e.filters.push(i));let s=this.constructor.name+"main";return this.translate.get("MESSAGE.Receiving_information").subscribe(h=>{this.publicHelper.processService.processStart(s,h,this.constructorInfoAreaId)}),yield Ei(this.categoryService.ServiceGetAll(e)).then(h=>(this.dataModelResult=h,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||this.dataModelSelect.id.length===0)&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0])},1e3),this.onActionSelect(this.dataModelResult.listItems[0])),this.publicHelper.processService.processStop(s),h.listItems))})}onActionSelect(l){this.optionDisabled||(this.dataModelSelect=l,this.optionChange.emit(this.dataModelSelect))}onActionSelectClear(){this.optionDisabled||(this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null))}push(l){return this.filteredOptions.pipe(Lt(e=>(e.find(i=>i.id===l.id)||e.push(l),e)))}onActionSelectForce(l){if((!l||typeof l=="string"&&l.length===0)&&(this.dataModelSelect=new Zn),typeof l=="string"&&l.length>0){if(this.dataModelSelect&&this.dataModelSelect.id===l)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(e=>e.id===l)){let e=this.dataModelResult.listItems.find(i=>i.id===l);this.dataModelSelect=e,this.formControl.setValue(e);return}this.categoryService.ServiceGetOneById(l).subscribe({next:e=>{e.isSuccess?(this.filteredOptions=this.push(e.item),this.dataModelSelect=e.item,this.formControl.setValue(e.item),this.optionChange.emit(e.item)):this.cmsToastrService.typeErrorMessage(e.errorMessage)}});return}if(typeof l==typeof Zn){this.filteredOptions=this.push(l),this.dataModelSelect=l,this.formControl.setValue(l);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new Zn,this.loadOptions()}};gs.\u0275fac=function(e){return new(e||gs)(v(J),v(V),v(B),v(F),v(L),v(K),v(Z),v($o))},gs.\u0275cmp=R({type:gs,selectors:[["app-estate-customer-category-selector"]],inputs:{optionSelectForce:"optionSelectForce",optionTypeUsageId:"optionTypeUsageId",optionDisabled:"optionDisabled",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionLabel:"optionLabel",optionRequired:"optionRequired",optionTypeView:"optionTypeView",optionReload:"optionReload"},outputs:{optionChange:"optionChange"},standalone:!1,ngContentSelectors:F0,decls:2,vars:2,consts:[["matauto","matAutocomplete"],["class","input-style has-borders has-icon input-style-always-active validate-field mb-4 loader-container",4,"ngIf"],["class","row mb-0",4,"ngIf"],[1,"input-style","has-borders","has-icon","input-style-always-active","validate-field","mb-4","loader-container"],[3,"optionsInfoAreaId"],["type","text","aria-label","Assignee","matInput","",3,"placeholder","formControl","matAutocomplete","required"],["for","forminput",1,"color-highlight"],[3,"optionSelected","displayWith"],[3,"value","disabled",4,"ngFor","ngForOf"],["class","fa fa-info invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],["class","fa fa-times action color-red-dark",3,"click",4,"ngIf"],[4,"ngIf"],[3,"value","disabled"],[1,"fa","fa-info","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"fa","fa-times","action","color-red-dark",3,"click"],[1,"row","mb-0"],["class","col-xl-2 col-lg-3 col-md-4 col-sm-12 pe-1",4,"ngFor","ngForOf"],[1,"col-xl-2","col-lg-3","col-md-4","col-sm-12","pe-1"],[3,"click","ngClass"]],template:function(e,i){e&1&&(gi(F0),S(0,xD,14,16,"div",1)(1,PD,4,3,"div",2)),e&2&&(d("ngIf",i.optionTypeView===1),o(),d("ngIf",i.optionTypeView===2))},dependencies:[se,Ne,N,Y,q,de,Wt,ti,ei,ii,Q,U,He,O],encapsulation:2});var hs=gs;var kD=["vform"];function DD(n,l){n&1&&C(0,"i",67)}function RD(n,l){n&1&&C(0,"i",68)}function LD(n,l){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),_(4,"translate"),a()()),n&2){let e=m();o(),y(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," "),o(2),M(g(4,2,"MESSAGE.required"))}}function VD(n,l){n&1&&C(0,"i",67)}function OD(n,l){n&1&&C(0,"i",68)}function FD(n,l){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),_(4,"translate"),a()()),n&2){let e=m(2);o(),y(" ",e.fieldsInfo.caseCode==null?null:e.fieldsInfo.caseCode.fieldTitle," "),o(2),M(g(4,2,"MESSAGE.required"))}}function BD(n,l){if(n&1){let e=I();r(0,"div",39)(1,"input",69,4),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.caseCode,t)||(s.dataModel.caseCode=t),f(t)}),a(),r(3,"label",70),c(4),a(),S(5,VD,1,0,"i",42)(6,OD,1,0,"i",43),C(7,"em"),S(8,FD,5,4,"mat-error",44),a()}if(n&2){let e=k(2),i=m();o(),d("disabled",x(!(i.fieldsInfo.caseCode!=null&&i.fieldsInfo.caseCode.accessEditField)))("placeholder",x(i.fieldsInfo.caseCode==null?null:i.fieldsInfo.caseCode.fieldTitle)),b("ngModel",i.dataModel.caseCode),o(3),M(i.fieldsInfo.caseCode==null?null:i.fieldsInfo.caseCode.fieldTitle),o(),d("ngIf",!e.value),o(),d("ngIf",e.value),o(2),d("ngIf",e.errors==null?null:e.errors.required)}}function ND(n,l){if(n&1){let e=I();r(0,"div",39)(1,"label",71),c(2),_(3,"translate"),a(),r(4,"textarea",72,5),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.descriptionHidden,t)||(s.dataModel.descriptionHidden=t),f(t)}),a(),r(6,"em"),c(7),a()()}if(n&2){let e=k(5),i=m();o(2),M(g(3,5,"TITLE.Description_Hidden")),o(2),d("placeholder",x(i.fieldsInfo.descriptionHidden==null?null:i.fieldsInfo.descriptionHidden.fieldTitle)),b("ngModel",i.dataModel.descriptionHidden),o(3),y("",e.value.length," / 500")}}function HD(n,l){if(n&1){let e=I();r(0,"div")(1,"div",73)(2,"label",74),c(3),_(4,"translate"),a(),C(5,"i",75)(6,"i",76),r(7,"input",77,6),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.scoreRushToBuy,t)||(s.dataModel.scoreRushToBuy=t),f(t)}),a()(),r(9,"div",73)(10,"label",78),c(11),_(12,"translate"),a(),C(13,"i",75)(14,"i",76),r(15,"input",79,7),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.scorePurchaseDecision,t)||(s.dataModel.scorePurchaseDecision=t),f(t)}),a()(),r(17,"div",73)(18,"label",80),c(19),_(20,"translate"),a(),C(21,"i",75)(22,"i",76),r(23,"input",81,8),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.scoreLiquidityPower,t)||(s.dataModel.scoreLiquidityPower=t),f(t)}),a()(),r(25,"div",73)(26,"label",82),c(27),_(28,"translate"),a(),C(29,"i",75)(30,"i",76),r(31,"input",83,9),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.scorePurchasingPower,t)||(s.dataModel.scorePurchasingPower=t),f(t)}),a()()()}if(n&2){let e=m();o(3),M(g(4,20,"MESSAGE.POINT_HURRY")),o(4),d("ngClass",ve("cms-range-score-",e.dataModel.scoreRushToBuy)),b("ngModel",e.dataModel.scoreRushToBuy),d("disabled",!(e.fieldsInfo.scoreRushToBuy!=null&&e.fieldsInfo.scoreRushToBuy.accessEditField)),o(4),M(g(12,22,"MESSAGE.POINT_DECIDE")),o(4),d("ngClass",ve("cms-range-score-",e.dataModel.scorePurchaseDecision)),b("ngModel",e.dataModel.scorePurchaseDecision),d("disabled",!(e.fieldsInfo.scorePurchaseDecision!=null&&e.fieldsInfo.scorePurchaseDecision.accessEditField)),o(4),M(g(20,24,"MESSAGE.POINT_Liquidity")),o(4),d("ngClass",ve("cms-range-score-",e.dataModel.scoreLiquidityPower)),b("ngModel",e.dataModel.scoreLiquidityPower),d("disabled",!(e.fieldsInfo.scoreLiquidityPower!=null&&e.fieldsInfo.scoreLiquidityPower.accessEditField)),o(4),M(g(28,26,"MESSAGE.POINT_BUYING")),o(4),d("ngClass",ve("cms-range-score-",e.dataModel.scorePurchasingPower)),b("ngModel",e.dataModel.scorePurchasingPower),d("disabled",!(e.fieldsInfo.scorePurchasingPower!=null&&e.fieldsInfo.scorePurchasingPower.accessEditField))}}function WD(n,l){if(n&1){let e=I();r(0,"app-estate-account-agency-selector",84),_(1,"translate"),E("optionChange",function(t){u(e);let s=m();return f(s.onActionSelectorEstateAgency(t))}),a()}if(n&2){let e=m();d("optionDisabled",!(e.fieldsInfo.linkEstateAgencyId!=null&&e.fieldsInfo.linkEstateAgencyId.accessEditField))("optionSelectForce",e.dataModel.linkEstateAgencyId)("optionSelectUserId",e.tokenInfo.access.userId)("optionPlaceholder",g(1,4,"TITLE.Property_agency"))}}function GD(n,l){n&1&&(r(0,"mat-error"),c(1," ContactMobiles is "),r(2,"strong"),c(3),_(4,"translate"),a()()),n&2&&(o(3),M(g(4,1,"MESSAGE.required")))}function UD(n,l){if(n&1){let e=I();r(0,"app-cms-user-selector",50),_(1,"translate"),E("optionChange",function(t){u(e);let s=m(2);return f(s.onActionSelectorCmsUser(t))}),a()}if(n&2){let e=m(2);d("optionDisabled",!(e.fieldsInfo.linkCmsUserId!=null&&e.fieldsInfo.linkCmsUserId.accessAddField))("optionSelectForce",e.dataModel.linkCmsUserId)("optionPlaceholder",g(1,3,"TITLE.user"))}}function jD(n,l){n&1&&C(0,"i",67)}function qD(n,l){n&1&&C(0,"i",68)}function QD(n,l){n&1&&(r(0,"mat-error")(1,"strong"),c(2),_(3,"translate"),a()()),n&2&&(o(2),M(g(3,1,"MESSAGE.required")))}function zD(n,l){if(n&1){let e=I();r(0,"div",39)(1,"label",94),c(2),_(3,"translate"),a(),r(4,"input",95,10),_(6,"translate"),w("ngModelChange",function(t){u(e);let s=m(2);return T(s.dataModel.actionCreateNewCmsUserFirstName,t)||(s.dataModel.actionCreateNewCmsUserFirstName=t),f(t)}),a(),S(7,jD,1,0,"i",42)(8,qD,1,0,"i",43),r(9,"em"),c(10),a(),S(11,QD,4,3,"mat-error",44),a()}if(n&2){let e=k(5),i=m(2);o(2),M(g(3,8,"TITLE.FIRST_NAME")),o(2),d("placeholder",x(g(6,10,"TITLE.FIRST_NAME"))),b("ngModel",i.dataModel.actionCreateNewCmsUserFirstName),o(3),d("ngIf",!e.value),o(),d("ngIf",e.value),o(2),y("",e.value.length," / 50"),o(),d("ngIf",e.errors==null?null:e.errors.required)}}function YD(n,l){n&1&&C(0,"i",67)}function KD(n,l){n&1&&C(0,"i",68)}function ZD(n,l){n&1&&(r(0,"mat-error")(1,"strong"),c(2),_(3,"translate"),a()()),n&2&&(o(2),M(g(3,1,"MESSAGE.required")))}function JD(n,l){if(n&1){let e=I();r(0,"div",39)(1,"label",96),c(2),_(3,"translate"),a(),r(4,"input",97,11),_(6,"translate"),w("ngModelChange",function(t){u(e);let s=m(2);return T(s.dataModel.actionCreateNewCmsUserLastName,t)||(s.dataModel.actionCreateNewCmsUserLastName=t),f(t)}),a(),S(7,YD,1,0,"i",42)(8,KD,1,0,"i",43),r(9,"em"),c(10),a(),S(11,ZD,4,3,"mat-error",44),a()}if(n&2){let e=k(5),i=m(2);o(2),M(g(3,8,"TITLE.LAST_NAME")),o(2),d("placeholder",x(g(6,10,"TITLE.LAST_NAME"))),b("ngModel",i.dataModel.actionCreateNewCmsUserLastName),o(3),d("ngIf",!e.value),o(),d("ngIf",e.value),o(2),y("",e.value.length," / 50"),o(),d("ngIf",e.errors==null?null:e.errors.required)}}function XD(n,l){n&1&&C(0,"i",67)}function $D(n,l){n&1&&C(0,"i",68)}function eR(n,l){n&1&&(r(0,"mat-error")(1,"strong"),c(2),_(3,"translate"),a()()),n&2&&(o(2),M(g(3,1,"MESSAGE.required")))}function tR(n,l){if(n&1){let e=I();r(0,"div",39)(1,"label",98),c(2),_(3,"translate"),a(),r(4,"input",99,12),w("ngModelChange",function(t){u(e);let s=m(2);return T(s.dataModel.actionCreateNewCmsUserMobile,t)||(s.dataModel.actionCreateNewCmsUserMobile=t),f(t)}),a(),S(6,XD,1,0,"i",42)(7,$D,1,0,"i",43),r(8,"em"),c(9),a(),S(10,eR,4,3,"mat-error",44),a()}if(n&2){let e=k(5),i=m(2);o(2),M(g(3,6,"TITLE.MOBILE_NUMBER")),o(2),b("ngModel",i.dataModel.actionCreateNewCmsUserMobile),o(2),d("ngIf",!e.value),o(),d("ngIf",e.value),o(2),y("",e.value.length," / 20"),o(),d("ngIf",e.errors==null?null:e.errors.required)}}function iR(n,l){if(n&1){let e=I();r(0,"div",85)(1,"div",86)(2,"div",87)(3,"h5",88),c(4),_(5,"translate"),a()(),r(6,"div",89)(7,"div",90)(8,"input",91),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.actionCreateNewCmsUser,t)||(s.dataModel.actionCreateNewCmsUser=t),f(t)}),a(),C(9,"label",92),a()()(),S(10,UD,2,5,"app-cms-user-selector",93)(11,zD,12,12,"div",46)(12,JD,12,12,"div",46)(13,tR,11,8,"div",46),a()}if(n&2){let e=m();o(4),y("",g(5,6,"TITLE.CREATE_NEW_USER")," "),o(4),b("ngModel",e.dataModel.actionCreateNewCmsUser),o(2),d("ngIf",!e.dataModel.actionCreateNewCmsUser),o(),d("ngIf",e.dataModel.actionCreateNewCmsUser),o(),d("ngIf",e.dataModel.actionCreateNewCmsUser),o(),d("ngIf",e.dataModel.actionCreateNewCmsUser)}}function nR(n,l){if(n&1){let e=I();r(0,"div",86)(1,"div",87)(2,"h5",100),c(3),a()(),r(4,"div",89)(5,"div",90)(6,"input",101),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.includeAllSite,t)||(s.dataModel.includeAllSite=t),f(t)}),a(),C(7,"label",102),a()()()}if(n&2){let e=m();o(3),M(e.fieldsInfo.includeAllSite==null?null:e.fieldsInfo.includeAllSite.fieldTitle),o(3),b("ngModel",e.dataModel.includeAllSite)}}function oR(n,l){if(n&1){let e=I();r(0,"div",39)(1,"label",103),c(2),a(),r(3,"textarea",104,13),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.areaAddress,t)||(s.dataModel.areaAddress=t),f(t)}),a(),r(5,"em"),c(6),a()()}if(n&2){let e=k(4),i=m();o(2),M(i.fieldsInfo.areaAddress==null?null:i.fieldsInfo.areaAddress.fieldTitle),o(),d("placeholder",x(i.fieldsInfo.areaAddress==null?null:i.fieldsInfo.areaAddress.fieldTitle)),b("ngModel",i.dataModel.areaAddress),o(3),y("",e.value.length," / 500")}}function rR(n,l){if(n&1){let e=I();r(0,"div",39)(1,"label",120),c(2),_(3,"translate"),a(),r(4,"input",121,15),w("ngModelChange",function(t){u(e);let s=m(2);return T(s.dataModel.salePriceMin,t)||(s.dataModel.salePriceMin=t),f(t)}),a(),C(6,"em"),a()}if(n&2){let e=m(2);o(2),$("",e.contractTypeSelected.titleSalePriceML," ",g(3,6,"TITLE.Minimum")),o(2),d("placeholder",x(e.fieldsInfo.salePriceMin==null?null:e.fieldsInfo.salePriceMin.fieldTitle)),b("ngModel",e.dataModel.salePriceMin),d("disabled",!(e.fieldsInfo.salePriceMin!=null&&e.fieldsInfo.salePriceMin.accessEditField))}}function aR(n,l){if(n&1){let e=I();r(0,"div",39)(1,"label",122),c(2),_(3,"translate"),a(),r(4,"input",123,16),w("ngModelChange",function(t){u(e);let s=m(2);return T(s.dataModel.rentPriceMin,t)||(s.dataModel.rentPriceMin=t),f(t)}),a(),C(6,"em"),a()}if(n&2){let e=m(2);o(2),$("",e.contractTypeSelected.titleRentPriceML," ",g(3,6,"TITLE.Minimum")),o(2),d("placeholder",x(e.fieldsInfo.rentPriceMin==null?null:e.fieldsInfo.rentPriceMin.fieldTitle)),b("ngModel",e.dataModel.rentPriceMin),d("disabled",!(e.fieldsInfo.rentPriceMin!=null&&e.fieldsInfo.rentPriceMin.accessEditField))}}function lR(n,l){if(n&1){let e=I();r(0,"div",39)(1,"label",124),c(2),_(3,"translate"),a(),r(4,"input",125,17),w("ngModelChange",function(t){u(e);let s=m(2);return T(s.dataModel.depositPriceMin,t)||(s.dataModel.depositPriceMin=t),f(t)}),a(),C(6,"em"),a()}if(n&2){let e=m(2);o(2),$(" ",e.contractTypeSelected.titleDepositPriceML," ",g(3,6,"TITLE.Minimum")),o(2),d("placeholder",x(e.fieldsInfo.depositPriceMin==null?null:e.fieldsInfo.depositPriceMin.fieldTitle)),b("ngModel",e.dataModel.depositPriceMin),d("disabled",!(e.fieldsInfo.depositPriceMin!=null&&e.fieldsInfo.depositPriceMin.accessEditField))}}function sR(n,l){if(n&1){let e=I();r(0,"div",39)(1,"label",126),c(2),_(3,"translate"),a(),r(4,"input",127,18),w("ngModelChange",function(t){u(e);let s=m(2);return T(s.dataModel.periodPriceMin,t)||(s.dataModel.periodPriceMin=t),f(t)}),a(),C(6,"em"),a()}if(n&2){let e=m(2);o(2),$(" ",e.contractTypeSelected.titlePeriodPriceML," ",g(3,6,"TITLE.Minimum")),o(2),d("placeholder",x(e.fieldsInfo.periodPriceMin==null?null:e.fieldsInfo.periodPriceMin.fieldTitle)),b("ngModel",e.dataModel.periodPriceMin),d("disabled",!(e.fieldsInfo.periodPriceMin!=null&&e.fieldsInfo.periodPriceMin.accessEditField))}}function dR(n,l){if(n&1){let e=I();r(0,"div",39)(1,"label",128),c(2),_(3,"translate"),a(),r(4,"input",129,19),w("ngModelChange",function(t){u(e);let s=m(2);return T(s.dataModel.salePriceMax,t)||(s.dataModel.salePriceMax=t),f(t)}),a(),C(6,"em"),a()}if(n&2){let e=m(2);o(2),$("",e.contractTypeSelected.titleSalePriceML," ",g(3,6,"TITLE.Maximum")),o(2),d("placeholder",x(e.fieldsInfo.salePriceMax==null?null:e.fieldsInfo.salePriceMax.fieldTitle)),b("ngModel",e.dataModel.salePriceMax),d("disabled",!(e.fieldsInfo.salePriceMax!=null&&e.fieldsInfo.salePriceMax.accessEditField))}}function cR(n,l){if(n&1){let e=I();r(0,"div",39)(1,"label",130),c(2),_(3,"translate"),a(),r(4,"input",131,20),w("ngModelChange",function(t){u(e);let s=m(2);return T(s.dataModel.rentPriceMax,t)||(s.dataModel.rentPriceMax=t),f(t)}),a(),C(6,"em"),a()}if(n&2){let e=m(2);o(2),$(" ",e.contractTypeSelected.titleRentPriceML," ",g(3,6,"TITLE.Maximum")),o(2),d("placeholder",x(e.fieldsInfo.rentPriceMax==null?null:e.fieldsInfo.rentPriceMax.fieldTitle)),b("ngModel",e.dataModel.rentPriceMax),d("disabled",!(e.fieldsInfo.rentPriceMax!=null&&e.fieldsInfo.rentPriceMax.accessEditField))}}function pR(n,l){if(n&1){let e=I();r(0,"div",39)(1,"label",132),c(2),_(3,"translate"),a(),r(4,"input",133,21),w("ngModelChange",function(t){u(e);let s=m(2);return T(s.dataModel.depositPriceMax,t)||(s.dataModel.depositPriceMax=t),f(t)}),a(),C(6,"em"),a()}if(n&2){let e=m(2);o(2),$(" ",e.contractTypeSelected.titleDepositPriceML," ",g(3,6,"TITLE.Maximum")),o(2),d("placeholder",x(e.fieldsInfo.depositPriceMax==null?null:e.fieldsInfo.depositPriceMax.fieldTitle)),b("ngModel",e.dataModel.depositPriceMax),d("disabled",!(e.fieldsInfo.depositPriceMax!=null&&e.fieldsInfo.depositPriceMax.accessEditField))}}function mR(n,l){if(n&1){let e=I();r(0,"div",39)(1,"label",134),c(2),_(3,"translate"),a(),r(4,"input",135,22),w("ngModelChange",function(t){u(e);let s=m(2);return T(s.dataModel.periodPriceMax,t)||(s.dataModel.periodPriceMax=t),f(t)}),a(),C(6,"em"),a()}if(n&2){let e=m(2);o(2),$(" ",e.contractTypeSelected.titlePeriodPriceML," ",g(3,6,"TITLE.Maximum")),o(2),d("placeholder",x(e.fieldsInfo.periodPriceMax==null?null:e.fieldsInfo.periodPriceMax.fieldTitle)),b("ngModel",e.dataModel.periodPriceMax),d("disabled",!(e.fieldsInfo.periodPriceMax!=null&&e.fieldsInfo.periodPriceMax.accessEditField))}}function uR(n,l){if(n&1){let e=I();r(0,"div",39)(1,"label",136),c(2),a(),r(3,"input",137,23),w("ngModelChange",function(t){u(e);let s=m(2);return T(s.dataModel.createdYaer,t)||(s.dataModel.createdYaer=t),f(t)}),a(),C(5,"em"),a()}if(n&2){let e=m(2);o(2),y(" ",e.PropertyTypeSelected.titleCreatedYaer),o(),d("placeholder",x(e.fieldsInfo.createdYaer==null?null:e.fieldsInfo.createdYaer.fieldTitle)),b("ngModel",e.dataModel.createdYaer)}}function fR(n,l){if(n&1){let e=I();r(0,"div",39)(1,"label",138),c(2),a(),r(3,"input",139,24),w("ngModelChange",function(t){u(e);let s=m(2);return T(s.dataModel.partition,t)||(s.dataModel.partition=t),f(t)}),a(),C(5,"em"),a()}if(n&2){let e=m(2);o(2),M(e.PropertyTypeSelected.titlePartition),o(),d("placeholder",x(e.PropertyTypeSelected.titlePartition)),b("ngModel",e.dataModel.partition)}}function _R(n,l){if(n&1){let e=I();r(0,"div",39)(1,"label",140),c(2),a(),r(3,"input",141,25),w("ngModelChange",function(t){u(e);let s=m(2);return T(s.dataModel.area,t)||(s.dataModel.area=t),f(t)}),a(),C(5,"em"),a()}if(n&2){let e=m(2);o(2),M(e.fieldsInfo.area==null?null:e.fieldsInfo.area.fieldTitle),o(),d("disabled",x(!(e.fieldsInfo.area!=null&&e.fieldsInfo.area.accessEditField)))("placeholder",x(e.fieldsInfo.area==null?null:e.fieldsInfo.area.fieldTitle)),b("ngModel",e.dataModel.area)}}function gR(n,l){if(n&1){let e=I();r(0,"div",150),C(1,"i",151),c(2,"\xA0 "),r(3,"app-input-string",152),w("modelChange",function(t){u(e);let s=m().$implicit,h=m(3);return T(h.propertyDetails[s.id],t)||(h.propertyDetails[s.id]=t),f(t)}),a()()}if(n&2){let e=m().$implicit,i=m(3);o(),ye("color",e.iconColor),d("ngClass",e.iconFont),o(2),Vt(ve("color:'",e.iconColor,"';")),b("model",i.propertyDetails[e.id]),d("optionForceUseDefaultValue",e.configValueForceUseDefaultValue)("optionMultipleChoice",e.configValueMultipleChoice)("optionDefaultValue",e.configValueDefaultValues)("optionRequired",e.required)("optionLabel",e.title)}}function hR(n,l){if(n&1){let e=I();r(0,"div",150),C(1,"i",151),c(2,"\xA0 "),r(3,"app-input-int",153),w("modelChange",function(t){u(e);let s=m().$implicit,h=m(3);return T(h.propertyDetails[s.id],t)||(h.propertyDetails[s.id]=t),f(t)}),a()()}if(n&2){let e=m().$implicit,i=m(3);o(),ye("color",e.iconColor),d("ngClass",e.iconFont),o(2),Vt(ve("color:'",e.iconColor,"';")),b("model",i.propertyDetails[e.id]),d("optionRequired",e.required)("optionLabel",e.title)}}function yR(n,l){if(n&1){let e=I();r(0,"div",150),C(1,"i",151),c(2,"\xA0 "),r(3,"app-input-boolean",154),w("modelChange",function(t){u(e);let s=m().$implicit,h=m(3);return T(h.propertyDetails[s.id],t)||(h.propertyDetails[s.id]=t),f(t)}),c(4),a()()}if(n&2){let e=m().$implicit,i=m(3);o(),ye("color",e.iconColor),d("ngClass",e.iconFont),o(2),b("model",i.propertyDetails[e.id]),o(),y("",e.title," ")}}function CR(n,l){if(n&1){let e=I();r(0,"div",150),C(1,"i",151),c(2,"\xA0 "),r(3,"app-input-float",153),w("modelChange",function(t){u(e);let s=m().$implicit,h=m(3);return T(h.propertyDetails[s.id],t)||(h.propertyDetails[s.id]=t),f(t)}),a()()}if(n&2){let e=m().$implicit,i=m(3);o(),ye("color",e.iconColor),d("ngClass",e.iconFont),o(2),Vt(ve("color:'",e.iconColor,"';")),b("model",i.propertyDetails[e.id]),d("optionRequired",e.required)("optionLabel",e.title)}}function SR(n,l){if(n&1){let e=I();r(0,"div",150),C(1,"i",151),c(2,"\xA0 "),r(3,"label"),c(4),a(),r(5,"app-input-date",155),w("modelChange",function(t){u(e);let s=m().$implicit,h=m(3);return T(h.propertyDetails[s.id],t)||(h.propertyDetails[s.id]=t),f(t)}),a()()}if(n&2){let e=m().$implicit,i=m(3);o(),ye("color",e.iconColor),d("ngClass",e.iconFont),o(2),Vt(ve("color:'",e.iconColor,"';")),o(),M(e.title),o(),b("model",i.propertyDetails[e.id]),d("optionRequired",e.required)}}function vR(n,l){if(n&1){let e=I();r(0,"div",150),C(1,"i",151),c(2,"\xA0 "),r(3,"app-input-textarea",153),w("modelChange",function(t){u(e);let s=m().$implicit,h=m(3);return T(h.propertyDetails[s.id],t)||(h.propertyDetails[s.id]=t),f(t)}),a()()}if(n&2){let e=m().$implicit,i=m(3);o(),ye("color",e.iconColor),d("ngClass",e.iconFont),o(2),Vt(ve("color:'",e.iconColor,"';")),b("model",i.propertyDetails[e.id]),d("optionRequired",e.required)("optionLabel",e.title)}}function ER(n,l){if(n&1){let e=I();r(0,"div",150),C(1,"i",151),c(2,"\xA0 "),r(3,"app-input-string",152),w("modelChange",function(t){u(e);let s=m().$implicit,h=m(3);return T(h.propertyDetails[s.id],t)||(h.propertyDetails[s.id]=t),f(t)}),a()()}if(n&2){let e=m().$implicit,i=m(3);o(),ye("color",e.iconColor),d("ngClass",e.iconFont),o(2),Vt(ve("color:'",e.iconColor,"';")),b("model",i.propertyDetails[e.id]),d("optionForceUseDefaultValue",e.configValueForceUseDefaultValue)("optionMultipleChoice",e.configValueMultipleChoice)("optionDefaultValue",e.configValueDefaultValues)("optionRequired",e.required)("optionLabel",e.title)}}function IR(n,l){if(n&1&&(A(0)(1,147),S(2,gR,4,12,"div",148)(3,hR,4,9,"div",148)(4,yR,5,5,"div",148)(5,CR,4,9,"div",148)(6,SR,6,9,"div",148)(7,vR,4,9,"div",148)(8,ER,4,12,"div",149),P()()),n&2){let e=l.$implicit,i=m(3);o(),d("ngSwitch",e.inputDataType),o(),d("ngSwitchCase",i.enumInputDataType.String),o(),d("ngSwitchCase",i.enumInputDataType.Int),o(),d("ngSwitchCase",i.enumInputDataType.Boolean),o(),d("ngSwitchCase",i.enumInputDataType.Float),o(),d("ngSwitchCase",i.enumInputDataType.Date),o(),d("ngSwitchCase",i.enumInputDataType.TextArea)}}function MR(n,l){if(n&1){let e=I();r(0,"button",156),E("click",function(){u(e);let t=m(3);return f(t.prevStep())}),c(1),_(2,"translate"),a()}n&2&&(o(),y(" ",g(2,1,"ACTION.PREVIOUS")," "))}function bR(n,l){if(n&1){let e=I();r(0,"button",157),E("click",function(){u(e);let t=m(3);return f(t.nextStep())}),c(1),_(2,"translate"),a()}n&2&&(o(),y(" ",g(2,1,"ACTION.NEXT")," "))}function TR(n,l){if(n&1){let e=I();r(0,"button",157),E("click",function(){u(e);let t=m(3);return f(t.nextStep())}),c(1),_(2,"translate"),a()}n&2&&(o(),y(" ",g(2,1,"ACTION.END")," "))}function wR(n,l){if(n&1){let e=I();r(0,"mat-expansion-panel",142),E("opened",function(){let t=u(e).index,s=m(2);return f(s.setStep(t))}),r(1,"mat-expansion-panel-header")(2,"mat-panel-title"),c(3),a(),r(4,"mat-panel-description"),c(5),r(6,"mat-icon",143),c(7),a()()(),S(8,IR,9,7,"ng-container",144),r(9,"mat-action-row"),S(10,MR,3,3,"button",145)(11,bR,3,3,"button",146)(12,TR,3,3,"button",146),a()()}if(n&2){let e=l.$implicit,i=l.index,t=m(2);d("expanded",t.step===i),o(3),y(" ",e.title," "),o(2),y(" ",e.description," "),o(2),M(e.iconFont),o(),d("ngForOf",e.propertyDetails),o(2),d("ngIf",i>0),o(),d("ngIf",i+1<t.dataModel.propertyDetailGroups.length),o(),d("ngIf",i+1===t.dataModel.propertyDetailGroups.length)}}function xR(n,l){if(n&1&&(r(0,"option",158),c(1),a()),n&2){let e=l.$implicit;d("value",e.fieldName),o(),y(" ",e.fieldTitle," ")}}function AR(n,l){if(n&1){let e=I();r(0,"div",159)(1,"a",160),E("click",function(){u(e);let t=m(2);return f(t.onActionSortArrow())}),C(2,"i",161),_(3,"sortTypeIconClass"),a()()}if(n&2){let e=m(2);o(2),d("ngClass",g(3,1,e.dataModel.resultSortType))}}function PR(n,l){if(n&1){let e=I();A(0),r(1,"p"),c(2),_(3,"translate"),a(),r(4,"P"),c(5),_(6,"translate"),a(),C(7,"hr"),r(8,"app-estate-property-type-usage-selector",105),_(9,"translate"),E("optionChange",function(t){u(e);let s=m();return f(s.onActionSelectorSelectUsage(t))}),a(),C(10,"br")(11,"br")(12,"br"),r(13,"app-estate-property-type-landuse-selector",106),_(14,"translate"),E("optionChange",function(t){u(e);let s=m();return f(s.onActionSelectorSelectLanduse(t))}),a(),C(15,"br")(16,"br")(17,"br"),r(18,"app-estate-contract-type-selector",107),_(19,"translate"),E("optionChange",function(t){u(e);let s=m();return f(s.onActionSelectorContarctType(t))}),a(),C(20,"br")(21,"br"),r(22,"app-cms-currency-selector",108),_(23,"translate"),E("optionChange",function(t){u(e);let s=m();return f(s.onActionSelectCurrency(t))}),a(),S(24,rR,7,8,"div",46)(25,aR,7,8,"div",46)(26,lR,7,8,"div",46)(27,sR,7,8,"div",46)(28,dR,7,8,"div",46)(29,cR,7,8,"div",46)(30,pR,7,8,"div",46)(31,mR,7,8,"div",46)(32,uR,6,4,"div",46)(33,fR,6,4,"div",46)(34,_R,6,6,"div",46),C(35,"br"),r(36,"app-cms-location-autocomplete",109),_(37,"translate"),_(38,"translate"),E("optionChange",function(t){u(e);let s=m();return f(s.onActionSelectorLocation(t))}),a(),r(39,"mat-accordion",110),S(40,wR,13,8,"mat-expansion-panel",111),C(41,"br"),a(),r(42,"p"),c(43),_(44,"translate"),a(),r(45,"p"),c(46),_(47,"translate"),C(48,"br"),c(49),_(50,"translate"),a(),r(51,"app-estate-property-autocomplete",55),_(52,"translate"),E("optionChange",function(t){u(e);let s=m();return f(s.onActionSelectorPropertyIgnored(t))}),a(),r(53,"div"),c(54),_(55,"translate"),C(56,"hr")(57,"br"),a(),r(58,"div",112)(59,"div",113)(60,"div",39)(61,"label",114),c(62),a(),r(63,"select",115,14),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.resultSortColumn,t)||(s.dataModel.resultSortColumn=t),f(t)}),S(65,xR,2,2,"option",116),a(),r(66,"span"),C(67,"i",117),a(),C(68,"em"),a()(),r(69,"div",118),S(70,AR,4,3,"div",119),a()(),P()}if(n&2){let e=m();o(2),M(g(3,48,"MESSAGE.Content_of_your_choice_to_display")),o(3),M(g(6,50,"MESSAGE.Selecting_any_of_the_following_will_make_the_search_results_range_smaller")),o(3),d("optionAllowUnSelect",!0)("optionDisabled",!(e.fieldsInfo.linkPropertyTypeUsageId!=null&&e.fieldsInfo.linkPropertyTypeUsageId.accessEditField))("optionTypeView",2)("optionSelectForce",e.dataModel.linkPropertyTypeUsageId)("optionPlaceholder",g(9,52,"TITLE.Type_Usage")),o(5),d("optionAllowUnSelect",!0)("optionDisabled",!(e.fieldsInfo.linkPropertyTypeLanduseId!=null&&e.fieldsInfo.linkPropertyTypeLanduseId.accessEditField))("optionTypeView",2)("optionSelectForce",e.dataModel.linkPropertyTypeLanduseId)("optionTypeUsageId",e.dataModel.linkPropertyTypeUsageId)("optionPlaceholder",g(14,54,"TITLE.Type_Property")),o(5),d("optionTypeView",2)("optionAllowUnSelect",!0)("optionDisabled",!(e.fieldsInfo.linkContractTypeId!=null&&e.fieldsInfo.linkContractTypeId.accessEditField))("optionSelectForce",e.dataModel.linkContractTypeId)("optionPlaceholder",g(19,56,"TITLE.Type_Transaction")),o(4),d("optionSelectFirstItem",!0)("optionSelectForce",e.dataModel.linkCoreCurrencyId)("optionPlaceholder",g(23,58,"TITLE.Specify_the_transaction_currency")),o(2),d("ngIf",(e.fieldsInfo.salePriceMin==null?null:e.fieldsInfo.salePriceMin.accessWatchField)&&(e.contractTypeSelected==null?null:e.contractTypeSelected.hasSalePrice)),o(),d("ngIf",(e.fieldsInfo.rentPriceMin==null?null:e.fieldsInfo.rentPriceMin.accessWatchField)&&(e.contractTypeSelected==null?null:e.contractTypeSelected.hasRentPrice)),o(),d("ngIf",(e.fieldsInfo.depositPriceMin==null?null:e.fieldsInfo.depositPriceMin.accessWatchField)&&(e.contractTypeSelected==null?null:e.contractTypeSelected.hasDepositPrice)),o(),d("ngIf",(e.fieldsInfo.periodPriceMin==null?null:e.fieldsInfo.periodPriceMin.accessWatchField)&&(e.contractTypeSelected==null?null:e.contractTypeSelected.hasDepositPrice)),o(),d("ngIf",(e.fieldsInfo.salePriceMax==null?null:e.fieldsInfo.salePriceMax.accessWatchField)&&(e.contractTypeSelected==null?null:e.contractTypeSelected.hasSalePrice)),o(),d("ngIf",(e.fieldsInfo.rentPriceMax==null?null:e.fieldsInfo.rentPriceMax.accessWatchField)&&(e.contractTypeSelected==null?null:e.contractTypeSelected.hasRentPrice)),o(),d("ngIf",(e.fieldsInfo.depositPriceMax==null?null:e.fieldsInfo.depositPriceMax.accessWatchField)&&(e.contractTypeSelected==null?null:e.contractTypeSelected.hasDepositPrice)),o(),d("ngIf",(e.fieldsInfo.periodPriceMax==null?null:e.fieldsInfo.periodPriceMax.accessWatchField)&&(e.contractTypeSelected==null?null:e.contractTypeSelected.hasDepositPrice)),o(),d("ngIf",e.dataModel.linkPropertyTypeLanduseId&&(e.PropertyTypeSelected==null||e.PropertyTypeSelected.titleCreatedYaer==null?null:e.PropertyTypeSelected.titleCreatedYaer.length)>1),o(),d("ngIf",e.dataModel.linkPropertyTypeLanduseId&&(e.PropertyTypeSelected==null||e.PropertyTypeSelected.titlePartition==null?null:e.PropertyTypeSelected.titlePartition.length)>1),o(),d("ngIf",e.fieldsInfo.area==null?null:e.fieldsInfo.area.accessWatchField),o(2),d("optionDisabled",!(e.fieldsInfo.linkLocationIds!=null&&e.fieldsInfo.linkLocationIds.accessEditField))("optionSelectForce",e.dataModel.linkLocationIds)("optionPlaceholder",g(37,60,"TITLE.Region"))("optionLabel",g(38,62,"TITLE.Geographical_Areas")),o(4),d("ngForOf",e.dataModel.propertyDetailGroups),o(3),y(" ",g(44,64,"TITLE.ignored_property_list")," "),o(3),y(" ",g(47,66,"TITLE.DESCRIPTION"),": "),o(3),y(" ",g(50,68,"TITLE.ignored_property_list_DESCRIPTION")," "),o(2),d("optionDisabled",!(e.fieldsInfo.linkPropertyIdsIgnored!=null&&e.fieldsInfo.linkPropertyIdsIgnored.accessEditField))("optionPlaceholder",g(52,70,"TITLE.Property"))("optionSelectForce",e.dataModel.linkPropertyIdsIgnored),o(3),y(" ",g(55,72,"ACTION.SEARCH"),": "),o(8),M(e.fieldsInfo.resultSortColumn==null?null:e.fieldsInfo.resultSortColumn.fieldTitle),o(),b("ngModel",e.dataModel.resultSortColumn),o(2),d("ngForOf",e.dataFieldInfoModel),o(5),d("ngIf",(e.dataModel==null||e.dataModel.resultSortColumn==null?null:e.dataModel.resultSortColumn.length)>0)}}function kR(n,l){if(n&1){let e=I();r(0,"div",162)(1,"a",163),C(2,"img",164),_(3,"translate"),a(),r(4,"span",165),E("click",function(){u(e);let t=m();return f(t.onActionCopied())}),C(5,"i",166),a(),r(6,"h5",167),c(7),_(8,"translate"),a(),r(9,"p",168),c(10),_(11,"translate"),a(),r(12,"p",168),c(13),_(14,"translate"),C(15,"br"),c(16),_(17,"translate"),C(18,"br"),c(19),_(20,"translate"),C(21,"br"),c(22),_(23,"translate"),a(),C(24,"hr")(25,"app-cms-qdoc",169),a()}if(n&2){let e=m();o(),d("href",x(e.dataModel.urlViewContent),j),o(),d("alt",x(g(3,13,"TITLE.Scan_the_barcode")))("src",e.dataModel.urlViewContentQRCodeBase64,j),o(2),d("cdkCopyToClipboard",e.dataModel.urlViewContent),o(3),y(" ",g(8,15,"TITLE.DESCRIPTION"),": "),o(3),y(" ",g(11,17,"TITLE.You_can_view_the_output_of_your_billboard")," "),o(3),y(" ",g(14,19,"TITLE.In_the_title_section_you_can_edit_the_title_of_your_screen_and_write_the_address_and_description_for_that_staff")," "),o(3),y(" ",g(17,21,"TITLE.In_the_next_section_you_can_see_your_display_content_for_the_billboard")," "),o(3),y(" ",g(20,23,"TITLE.You_can_narrow_your_search_by_filling_in_any_of_the_fields")," "),o(3),y(" ",g(23,25,"TITLE.Finally_by_clicking_on_the_view_option_you_can_see_the_advertisements_you_want_and_by_clicking_on_the_save_option_you_can_create_your_own_billboard")," "),o(3),d("optionUrl",e.dataModel.urlViewContent)}}function DR(n,l){if(n&1){let e=I();r(0,"div",170)(1,"button",171),E("click",function(){u(e);let t=m();return f(t.onFormCancel())}),C(2,"i",172),c(3),_(4,"translate"),a(),r(5,"button",173),C(6,"i",174),c(7),_(8,"translate"),a()()}if(n&2){m();let e=k(10);o(3),y(" ",g(4,3,"ACTION.BACK")," "),o(2),d("disabled",!e.form.valid),o(2),y(" ",g(8,5,"ACTION.SAVE")," ")}}function RR(n,l){if(n&1){let e=I();r(0,"button",175),E("click",function(){u(e);let t=m();return f(t.onFormLoadEstateResult())}),C(1,"i",172),c(2),_(3,"translate"),a()}n&2&&(o(2),y(" ",g(3,1,"ACTION.VIEW_Estates")," "))}function LR(n,l){if(n&1){let e=I();r(0,"button",175),E("click",function(){u(e);let t=m();return f(t.onFormLoadEstateHaveHistoryResult())}),C(1,"i",172),c(2),_(3,"translate"),a()}n&2&&(o(2),y(" ",g(3,1,"ACTION.VIEW_Estate_Have_Histories")," "))}function VR(n,l){if(n&1){let e=I();r(0,"button",175),E("click",function(){u(e);let t=m();return f(t.onFormLoadEstateHistoryResult())}),C(1,"i",172),c(2),_(3,"translate"),a()}n&2&&(o(2),y(" ",g(3,1,"ACTION.VIEW_Estate_Histories")," "))}function OR(n,l){if(n&1){let e=I();r(0,"button",175),E("click",function(){u(e);let t=m();return f(t.onFormLoadEstateAgencyResult())}),C(1,"i",172),c(2),_(3,"translate"),a()}n&2&&(o(2),y(" ",g(3,1,"ACTION.VIEW_Estate_Agencys")," "))}function FR(n,l){if(n&1){let e=I();r(0,"button",175),E("click",function(){u(e);let t=m();return f(t.onFormLoadEstateUserResult())}),C(1,"i",172),c(2),_(3,"translate"),a()}n&2&&(o(2),y(" ",g(3,1,"ACTION.VIEW_Estate_Users")," "))}function BR(n,l){if(n&1){let e=I();r(0,"button",175),E("click",function(){u(e);let t=m();return f(t.onFormSendMessage())}),C(1,"i",172),c(2),_(3,"translate"),a()}n&2&&(o(2),y(" ",g(3,1,"ACTION.Send_Message")," "))}function NR(n,l){if(n&1){let e=I();r(0,"button",175),E("click",function(){u(e);let t=m();return f(t.onActionButtonQuickHistoryAddRow())}),C(1,"i",172),c(2),_(3,"translate"),a()}n&2&&(o(2),y(" ",g(3,1,"ACTION.HISTORY_ADD")," "))}function HR(n,l){if(n&1&&(r(0,"div",61),C(1,"app-estate-property-list",176,26),a()),n&2){let e=m();o(),d("optionLinkCustomerOrderId",e.dataModel.id)("optionloadComponent",e.optionloadComponent)("optionsortType",e.dataModel.resultSortType)("optionloadByRoute",!1)}}function WR(n,l){if(n&1&&(r(0,"div",61),C(1,"app-estate-property-list",177,27),a()),n&2){let e=m();o(),d("optionLinkCustomerOrderIdHaveHistory",e.dataModel.id)("optionloadComponent",e.optionloadComponent)("optionsortType",e.dataModel.resultSortType)("optionloadByRoute",!1)}}function GR(n,l){if(n&1&&(r(0,"div",61),C(1,"app-estate-account-agency-list",178,28),a()),n&2){let e=m();o(),d("optionLinkLocationWorkAreaIds",e.dataModel.linkLocationIds)("optionloadComponent",e.optionloadComponent)("optionloadByRoute",!1)}}function UR(n,l){if(n&1&&(r(0,"div",61),C(1,"app-estate-account-expert-list",178,29),a()),n&2){let e=m();o(),d("optionLinkLocationWorkAreaIds",e.dataModel.linkLocationIds)("optionloadComponent",e.optionloadComponent)("optionloadByRoute",!1)}}function jR(n,l){if(n&1&&(r(0,"div",61),C(1,"app-estate-property-history-list",179,30),a()),n&2){let e=m();o(),d("optionLinkCustomerOrderId",e.dataModel.id)("optionloadComponent",!1)("optionloadByRoute",!1)}}var ys=class ys extends Bt{constructor(e,i,t,s,h,p,D,z,he,je,Ge,mt,Nt,Rt,Ut,Fe){super(t,new Mn,he,Ut);this.router=e;this.coreEnumService=i;this.estateCustomerOrderService=t;this.estateContractTypeService=s;this.estatePropertyService=h;this.estatePropertyDetailGroupService=p;this.cmsToastrService=D;this.themeService=z;this.publicHelper=he;this.cdr=je;this.activatedRoute=Ge;this.cmsStoreService=mt;this.http=Nt;this.tokenHelper=Rt;this.translate=Ut;this.dialog=Fe;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.allowActionSend=!1;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.enumInputDataType=Ri;this.numbers=[0,1,2,3,4,5,6,7,8,9,10];this.appLanguage="fa";this.dataModelResult=new Ft;this.dataModel=new Mn;this.dataModelCorCurrencySelector=new Di;this.formInfo=new me;this.fileManagerOpenForm=!1;this.propertyDetails=new Map;this.PropertyTypeSelected=new Gt;this.optionloadComponent=!1;this.LinkPropertyIdsInUse=!1;this.areaAddressView=!1;this.step=0;this.hidden=!0;this.optionReload=()=>{this.loadResult=""};this.loadResult="";this.publicHelper.processService.cdr=this.cdr,this.requestId=this.activatedRoute.snapshot.paramMap.get("id"),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore}ngOnInit(){if(this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),setTimeout(()=>this.router.navigate(["/estate/customer-order"]),1e3);return}this.DataGetOneContent(),this.DataGetAccessEstate()}DataGetAccessEstate(){this.estatePropertyService.ServiceViewModel().subscribe({next:e=>{e.isSuccess?this.dataFieldInfoModel=e.access.fieldsInfo:this.cmsToastrService.typeErrorGetAccess(e.errorMessage),Promise.resolve().then(()=>this.cdr.detectChanges())},error:e=>{this.cmsToastrService.typeErrorGetAccess(e)}})}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estateCustomerOrderService.setAccessLoad(),this.estateCustomerOrderService.setAccessDataType(Be.Editor),this.estateCustomerOrderService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.lastRecordStatus=i.item.recordStatus,this.dataModel=i.item,i.isSuccess?((!this.dataModel.caseCode||this.dataModel.caseCode.length<=0)&&(this.dataModel.caseCode=this.publicHelper.StringRandomGenerator(5,!0)),this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.dataModel.linkPropertyIds&&this.dataModel.linkPropertyIds.length>0&&(this.LinkPropertyIdsInUse=!0),this.formInfo.formAlert="",this.dataModel.propertyDetailGroups&&this.dataModel.propertyDetailGroups.forEach(t=>{t.propertyDetails.forEach(s=>{if(this.propertyDetails[s.id]=0,this.dataModel.propertyDetailValues){let h=this.dataModel.propertyDetailValues.find(p=>p.linkPropertyDetailId===s.id);h&&(this.propertyDetails[s.id]=h.value)}})}),this.dataModel.linkContractTypeId.length>0&&this.estateContractTypeService.ServiceGetOneById(this.dataModel.linkContractTypeId).subscribe({next:t=>{t.isSuccess?this.contractTypeSelected=t.item:this.cmsToastrService.typeErrorMessage(t.errorMessage)}}),Promise.resolve().then(()=>this.cdr.detectChanges())):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(e=!1){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError="";let i=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructorInfoAreaId)}),this.estateCustomerOrderService.ServiceEdit(this.dataModel).subscribe({next:t=>{if(this.dataModelResult=t,t.isSuccess){if(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(h=>{this.formInfo.formAlert=h}),this.cmsToastrService.typeSuccessEdit(),this.optionReload(),(this.tokenHelper.isAdminSite||this.tokenHelper.isSupportSite||this.tokenInfo.access.userAccessUserType==Er.ResellerCpSite||this.tokenInfo.access.userAccessUserType==Er.ResellerEmployeeCpSite)&&this.dataModel.recordStatus==qe.Available){var s="";this.publicHelper.isMobile?s="dialog-fullscreen":s="dialog-min",this.dialog.open(zc,{panelClass:s,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{model:this.dataModel}}).afterClosed().subscribe(p=>{this.formInfo.formSubmitAllow=!0,this.publicHelper.processService.processStop(i)})}Promise.resolve().then(()=>this.cdr.detectChanges())}else this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(h=>{this.formInfo.formAlert=h}),this.formInfo.formError=t.errorMessage,this.cmsToastrService.typeErrorMessage(t.errorMessage);this.publicHelper.processService.processStop(i),this.formInfo.formSubmitAllow=!0},error:t=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(i,!1)}})}DataGetPropertyDetailGroup(e){let i=new pe,t=new H;t.propertyName="LinkPropertyTypeLanduseId",t.value=e,i.filters.push(t),this.dataModel.propertyDetailGroups=[];let s=this.constructor.name+"DataGetPropertyDetailGroup";this.translate.get("MESSAGE.Get_detailed_information").subscribe(h=>{this.publicHelper.processService.processStart(s,h,this.constructorInfoAreaId)}),this.estatePropertyDetailGroupService.ServiceGetAll(i).subscribe({next:h=>{h.isSuccess?(this.dataModel.propertyDetailGroups=h.listItems,this.dataModel.propertyDetailGroups&&this.dataModel.propertyDetailGroups.forEach(p=>{p.propertyDetails.forEach(D=>{if(this.propertyDetails[D.id]=0,this.dataModel.propertyDetailValues){let z=this.dataModel.propertyDetailValues.find(he=>he.linkPropertyDetailId===D.id);z&&(this.propertyDetails[D.id]=z.value)}})})):this.cmsToastrService.typeErrorGetAccess(h.errorMessage),Promise.resolve().then(()=>this.cdr.detectChanges()),this.publicHelper.processService.processStop(s)},error:h=>{this.cmsToastrService.typeErrorGetAccess(h),this.publicHelper.processService.processStop(s,!1)}})}onActionCopied(){this.cmsToastrService.typeSuccessCopedToClipboard()}onActionSelectorSelectUsage(e){if(!e||!e.id||e.id.length<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(i=>{this.cmsToastrService.typeWarningSelected(i)});return}this.dataModel.linkPropertyTypeUsageId=e.id,Promise.resolve().then(()=>this.cdr.detectChanges())}onActionSelectorSelectLanduse(e){if(this.PropertyTypeSelected=null,this.dataModel.linkPropertyTypeLanduseId=null,!e||!e.id||e.id.length<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(i=>{this.cmsToastrService.typeWarningSelected(i)});return}this.PropertyTypeSelected=e,this.dataModel.linkPropertyTypeLanduseId=e.id,this.DataGetPropertyDetailGroup(e.id),Promise.resolve().then(()=>this.cdr.detectChanges())}onActionSelectorContarctType(e){if(this.contractTypeSelected=null,this.dataModel.linkContractTypeId=null,!e||!e.id||e.id.length<=0){this.translate.get("MESSAGE.Type_of_property_transaction_is_not_known").subscribe(i=>{this.cmsToastrService.typeWarningSelected(i)});return}this.contractTypeSelected=e,this.dataModel.linkContractTypeId=e.id,Promise.resolve().then(()=>this.cdr.detectChanges())}onActionSelectorEstateUser(e){this.dataModel.linkEstateExpertId=null,!(!e||!e.id||e.id.length<=0)&&(this.dataModel.linkEstateExpertId=e.id)}onActionSelectorEstateAgency(e){this.dataModel.linkEstateAgencyId=null,!(!e||!e.id||e.id.length<=0)&&(this.dataModel.linkEstateAgencyId=e.id)}onActionSelectorLocation(e){this.dataModel.linkLocationIds=e}onActionSelectorProperty(e){this.dataModel.linkPropertyIds=e,this.dataModel.linkPropertyIds&&this.dataModel.linkPropertyIds.length>0?this.LinkPropertyIdsInUse=!0:this.LinkPropertyIdsInUse=!1}onActionSelectorPropertyIgnored(e){this.dataModel.linkPropertyIdsIgnored=e}setStep(e){this.step=e}nextStep(){this.step++}prevStep(){this.step--}onFormSendMessage(){this.onFormSubmit(!0)}onFormSubmit(e=!1){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.dataModel.propertyDetailValues=[],this.dataModel.propertyDetailGroups&&this.dataModel.propertyDetailGroups.forEach(i=>{i.propertyDetails.forEach(t=>{let s=new So;s.linkPropertyDetailId=t.id,s.value=this.propertyDetails[t.id],this.dataModel.propertyDetailValues.push(s)})}),this.DataEditContent(e))}onActionSelectorSelect(e){if(!e||e.id.length<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkEstateCustomerCategoryId=e.id}onFormCancel(){this.router.navigate(["/estate/customer-order/"])}onFormLoadEstateResult(){this.loadResult="estatePropertyList",Promise.resolve().then(()=>this.cdr.detectChanges()),this.estatePropertyListComponent.optionloadComponent=!0,this.estatePropertyListComponent.DataGetAll()}onFormLoadEstateHaveHistoryResult(){this.loadResult="estatePropertyHaveHistoryList",Promise.resolve().then(()=>this.cdr.detectChanges()),this.estatePropertyHaveHistoryListComponent.optionloadComponent=!0,this.estatePropertyHaveHistoryListComponent.DataGetAll()}onActionSelectCurrency(e){if(!e||e.id<=0){this.dataModelCorCurrencySelector=null,this.dataModel.linkCoreCurrencyId=null;return}this.dataModelCorCurrencySelector=e,this.dataModel.linkCoreCurrencyId=e.id}onFormLoadEstateAgencyResult(){this.loadResult="estateAccountAgencyList",Promise.resolve().then(()=>this.cdr.detectChanges()),this.estateAccountAgencyListComponent.optionloadComponent=!0,this.estateAccountAgencyListComponent.DataGetAll()}onFormLoadEstateUserResult(){this.loadResult="estateAccountExpertList",Promise.resolve().then(()=>this.cdr.detectChanges()),this.estateAccountExpertListComponent.optionloadComponent=!0,this.estateAccountExpertListComponent.DataGetAll()}onFormLoadEstateHistoryResult(){this.loadResult="estateHistoryList",Promise.resolve().then(()=>this.cdr.detectChanges()),this.estatePropertyHistoryListComponent.optionloadComponent=!0,this.estatePropertyHistoryListComponent.DataGetAll()}onActionSelectorCmsUser(e){if(!e||!e.id||e.id<=0){this.dataModel.linkCmsUserId=null;return}this.dataModel.linkCmsUserId=e.id}onActionButtonQuickHistoryAddRow(){var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(mo,{height:"90%",panelClass:e,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{linkActivityTypeId:null,linkPropertyId:null,linkEstateExpertId:null,linkCustomerOrderId:this.dataModel.id,linkEstateAgencyId:null}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate})}onActionSortArrow(){this.dataModel.resultSortType==X.Ascending?this.dataModel.resultSortType=X.Descending:this.dataModel.resultSortType==X.Descending?this.dataModel.resultSortType=X.Random:this.dataModel.resultSortType==X.Random?this.dataModel.resultSortType=X.Ascending:this.dataModel.resultSortType=X.Ascending}};ys.\u0275fac=function(i){return new(i||ys)(v(Ze),v(J),v(Yi),v(xi),v(ui),v(hi),v(V),v(kt),v(F),v(B),v(jt),v(Z),v(ga),v(K),v(L),v(xe))},ys.\u0275cmp=R({type:ys,selectors:[["app-estate-customer-order-edit"]],viewQuery:function(i,t){if(i&1&&(ee(kD,5),ee(vi,5),ee(vi,5),ee(co,5),ee(po,5),ee(rn,5)),i&2){let s;te(s=ie())&&(t.formGroup=s.first),te(s=ie())&&(t.estatePropertyListComponent=s.first),te(s=ie())&&(t.estatePropertyHaveHistoryListComponent=s.first),te(s=ie())&&(t.estateAccountAgencyListComponent=s.first),te(s=ie())&&(t.estateAccountExpertListComponent=s.first),te(s=ie())&&(t.estatePropertyHistoryListComponent=s.first)}},standalone:!1,features:[ne],decls:90,vars:82,consts:[["vform","ngForm"],["Title",""],["Description",""],["ContactMobiles",""],["CaseCode",""],["DescriptionHidden",""],["scoreRushToBuy","ngModel"],["scorePurchaseDecision","ngModel"],["scoreLiquidityPower","ngModel"],["scorePurchasingPower","ngModel"],["actionCreateNewCmsUserFirstName",""],["actionCreateNewCmsUserLastName",""],["actionCreateNewCmsUserMobile",""],["areaAddress",""],["ResultSortColumn","ngModel"],["SalePriceMin",""],["RentPriceMin",""],["DepositPriceMin",""],["PeriodPriceMin",""],["SalePriceMax",""],["RentPriceMax",""],["DepositPriceMax",""],["PeriodPriceMax",""],["CreatedYaer",""],["Partition",""],["Area",""],["estatePropertyListComponent",""],["estatePropertyHaveHistoryListComponent",""],["estateAccountAgencyListComponent",""],["estateAccountExpertListComponent",""],["estatePropertyHistoryListComponent",""],[3,"Key","svg"],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[1,"mt-5","mb-3"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["type","name","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","fa fa-times  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],[4,"ngIf"],[3,"optionChange","optionSelectForce","optionPlaceholder"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","0","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[3,"optionDisabled","optionSelectForce","optionSelectUserId","optionPlaceholder","optionChange",4,"ngIf"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],["for","dataModel.contactMobiles",1,"color-highlight"],["matInput","","name","dataModel.contactMobiles","type","text","minlength","0","maxlength","100","rows","5","id","dataModel.contactMobiles",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","blockquote",4,"ngIf"],["class","d-flex mb-3",4,"ngIf"],[3,"optionChange","optionDisabled","optionPlaceholder","optionSelectForce"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection"],[1,"row","alert","alert-custom","alert-shadow","gutter-b"],[1,"row"],[1,"col-md-10","col-sm-10","col-xs-16"],["class","col-md-6 col-sm-6 col-xs-9","style","text-align: center",4,"ngIf"],[1,"col-md-12","col-sm-12","col-xs-18"],["class","form-actions",4,"ngIf"],[1,"ntk-cms-html-card-footer"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-highlight",3,"click",4,"ngIf"],[1,"row","alert","alert-custom","alert-white","alert-shadow","gutter-b"],["class","col-md-12 col-sm-12 col-xs-18",4,"ngIf"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["matInput","","name","dataModel.caseCode","type","text","minlength","3","maxlength","100","required","","id","dataModel.caseCode",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled","placeholder"],["for","dataModel.caseCode",1,"color-highlight"],["for","dataModel.descriptionHidden",1,"color-highlight"],["matInput","","name","dataModel.descriptionHidden","type","text","minlength","0","maxlength","500","rows","5","id","dataModel.descriptionHidden",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"range-slider","bottom-15","range-slider-icons"],["for","dataModel.scoreRushToBuy",1,"color-highlight"],[1,"fa","fa-range-icon-1","fa-angle-down","color-theme"],[1,"fa","fa-range-icon-2","fa-angle-up","color-theme"],["type","range","min","0","max","10","id","dataModel.scoreRushToBuy","name","dataModel.scoreRushToBuy",1,"ios-slider","input-ltr",3,"ngModelChange","ngModel","disabled","ngClass"],["for","dataModel.scorePurchaseDecision",1,"color-highlight"],["type","range","min","0","max","10","id","dataModel.scorePurchaseDecision","name","dataModel.scorePurchaseDecision",1,"ios-slider","input-ltr",3,"ngModelChange","ngModel","disabled","ngClass"],["for","dataModel.scoreLiquidityPower",1,"color-highlight"],["type","range","min","0","max","10","id","dataModel.scoreLiquidityPower","name","dataModel.scoreLiquidityPower",1,"ios-slider","input-ltr",3,"ngModelChange","ngModel","disabled","ngClass"],["for","dataModel.scorePurchasingPower",1,"color-highlight"],["type","range","min","0","max","10","id","dataModel.scorePurchasingPower","name","dataModel.scorePurchasingPower",1,"ios-slider","input-ltr",3,"ngModelChange","ngModel","disabled","ngClass"],[3,"optionChange","optionDisabled","optionSelectForce","optionSelectUserId","optionPlaceholder"],[1,"blockquote"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.actionCreateNewCmsUser",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.actionCreateNewCmsUser","name","dataModel.actionCreateNewCmsUser",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.actionCreateNewCmsUser",1,"custom-control-label"],[3,"optionDisabled","optionSelectForce","optionPlaceholder","optionChange",4,"ngIf"],["for","dataModel.actionCreateNewCmsUserFirstName",1,"color-highlight"],["matInput","","type","text","name","dataModel.actionCreateNewCmsUserFirstName","type","text","minlength","3","maxlength","50","id","dataModel.actionCreateNewCmsUserFirstName",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.actionCreateNewCmsUserLastName",1,"color-highlight"],["matInput","","type","text","name","dataModel.actionCreateNewCmsUserLastName","type","text","minlength","3","maxlength","50","id","dataModel.actionCreateNewCmsUserLastName",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.actionCreateNewCmsUserMobile",1,"color-highlight"],["matInput","","type","text","name","dataModel.actionCreateNewCmsUserMobile","type","text","placeholder","0912","minlength","3","maxlength","20","id","dataModel.actionCreateNewCmsUserMobile",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["data-trigger-switch","dataModel.includeAllSite",1,"font-600","font-14"],["type","checkbox","id","dataModel.includeAllSite","name","dataModel.includeAllSite",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.includeAllSite",1,"custom-control-label"],["for","dataModel.areaAddress",1,"color-highlight"],["matInput","","name","dataModel.areaAddress","type","text","minlength","0","maxlength","500","rows","5","id","dataModel.areaAddress",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[3,"optionChange","optionAllowUnSelect","optionDisabled","optionTypeView","optionSelectForce","optionPlaceholder"],[3,"optionChange","optionAllowUnSelect","optionDisabled","optionTypeView","optionSelectForce","optionTypeUsageId","optionPlaceholder"],[3,"optionChange","optionTypeView","optionAllowUnSelect","optionDisabled","optionSelectForce","optionPlaceholder"],[3,"optionChange","optionSelectFirstItem","optionSelectForce","optionPlaceholder"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder","optionLabel"],[1,"example-headers-align"],[3,"expanded","opened",4,"ngFor","ngForOf"],[1,"row","mb-0"],[1,"col-10","pe-0"],["for","dataModel.resultSortColumn",1,"color-highlight"],["id","dataModel.resultSortColumn","name","dataModel.resultSortColumn",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[1,"fa","fa-chevron-down"],[1,"col-2","ps-0"],["class","col-md-2 col-sm-2 col-xs-2 resultSortIcon","style","margin: auto",4,"ngIf"],["for","dataModel.salePriceMin",1,"color-highlight"],["matInput","","name","dataModel.salePriceMin","type","text","currencyMask","","id","dataModel.salePriceMin",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel","disabled","placeholder"],["for","dataModel.rentPriceMin",1,"color-highlight"],["matInput","","name","dataModel.rentPriceMin","type","text","currencyMask","","id","dataModel.rentPriceMin",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel","disabled","placeholder"],["for","dataModel.depositPriceMin",1,"color-highlight"],["matInput","","name","dataModel.depositPriceMin","type","text","currencyMask","","id","dataModel.depositPriceMin",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel","disabled","placeholder"],["for","dataModel.periodPriceMin",1,"color-highlight"],["matInput","","name","dataModel.periodPriceMin","type","text","currencyMask","","id","dataModel.periodPriceMin",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel","disabled","placeholder"],["for","dataModel.salePriceMax",1,"color-highlight"],["matInput","","name","dataModel.salePriceMax","type","text","currencyMask","","id","dataModel.salePriceMax",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel","disabled","placeholder"],["for","dataModel.rentPriceMax",1,"color-highlight"],["matInput","","name","dataModel.rentPriceMax","type","text","currencyMask","","id","dataModel.rentPriceMax",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel","disabled","placeholder"],["for","dataModel.depositPriceMax",1,"color-highlight"],["matInput","","name","dataModel.depositPriceMax","type","text","currencyMask","","id","dataModel.depositPriceMax",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel","disabled","placeholder"],["for","dataModel.periodPriceMax",1,"color-highlight"],["matInput","","name","dataModel.periodPriceMax","type","text","currencyMask","","id","dataModel.periodPriceMax",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel","disabled","placeholder"],["for","dataModel.createdYaer",1,"color-highlight"],["matInput","","name","dataModel.createdYaer","type","number","id","dataModel.createdYaer",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.partition",1,"color-highlight"],["matInput","","name","dataModel.partition","type","number","id","dataModel.partition",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.area",1,"color-highlight"],["matInput","","name","dataModel.partition","type","text","currencyMask","","id","dataModel.area",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel","disabled","placeholder"],[3,"opened","expanded"],[2,"width","100px"],[4,"ngFor","ngForOf"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-teal",3,"click",4,"ngIf"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-blue",3,"click",4,"ngIf"],[3,"ngSwitch"],["class","ntk-full-width",4,"ngSwitchCase"],["class","ntk-full-width",4,"ngSwitchDefault"],[1,"ntk-full-width"],["aria-hidden","true",3,"ngClass"],[3,"modelChange","model","optionForceUseDefaultValue","optionMultipleChoice","optionDefaultValue","optionRequired","optionLabel"],[3,"modelChange","model","optionRequired","optionLabel"],[3,"modelChange","model"],[3,"modelChange","model","optionRequired"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue",3,"click"],[3,"value"],[1,"col-md-2","col-sm-2","col-xs-2","resultSortIcon",2,"margin","auto"],[3,"click"],[2,"color","black",3,"ngClass"],[1,"col-md-6","col-sm-6","col-xs-9",2,"text-align","center"],["target","_blank",3,"href"],["height","300px","width","300px",3,"src","alt"],[1,"navi-icon",3,"click","cdkCopyToClipboard"],[1,"flaticon2-copy"],[2,"text-align","right"],["dir","rtl",2,"font-size","17px"],[3,"optionUrl"],[1,"form-actions"],["type","button",1,"btn","font-13","btn-s","font-600","m-1","rounded-s","border-0","shadow-xl","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-angle-left"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"optionLinkCustomerOrderId","optionloadComponent","optionsortType","optionloadByRoute"],[3,"optionLinkCustomerOrderIdHaveHistory","optionloadComponent","optionsortType","optionloadByRoute"],[3,"optionLinkLocationWorkAreaIds","optionloadComponent","optionloadByRoute"],[3,"optionLinkCustomerOrderId","optionloadComponent","optionloadByRoute"]],template:function(i,t){if(i&1){let s=I();C(0,"app-cms-guide-notice",31),r(1,"div",32),C(2,"app-progress-spinner",33),r(3,"div",34)(4,"p",35),c(5),a(),r(6,"p"),c(7),_(8,"translate"),a(),r(9,"form",36,0),E("ngSubmit",function(){return u(s),f(t.onFormSubmit())}),r(11,"div",37)(12,"app-cms-enum-record-status-selector",38),w("modelChange",function(p){return u(s),T(t.dataModel.recordStatus,p)||(t.dataModel.recordStatus=p),f(p)}),a(),r(13,"div",39)(14,"label",40),c(15),a(),r(16,"input",41,1),w("ngModelChange",function(p){return u(s),T(t.dataModel.title,p)||(t.dataModel.title=p),f(p)}),a(),S(18,DD,1,0,"i",42)(19,RD,1,0,"i",43),C(20,"em"),S(21,LD,5,4,"mat-error",44),a(),r(22,"app-estate-customer-category-selector",45),_(23,"translate"),E("optionChange",function(p){return u(s),f(t.onActionSelectorSelect(p))}),a(),S(24,BD,9,9,"div",46),r(25,"div",39)(26,"label",47),c(27),a(),r(28,"textarea",48,2),w("ngModelChange",function(p){return u(s),T(t.dataModel.description,p)||(t.dataModel.description=p),f(p)}),a(),r(30,"em"),c(31),a()(),S(32,ND,8,7,"div",46)(33,HD,33,28,"div",44)(34,WD,2,6,"app-estate-account-agency-selector",49),r(35,"app-estate-account-expert-selector",50),_(36,"translate"),E("optionChange",function(p){return u(s),f(t.onActionSelectorEstateUser(p))}),a(),r(37,"div",39)(38,"label",51),c(39),_(40,"translate"),a(),r(41,"textarea",52,3),_(43,"translate"),w("ngModelChange",function(p){return u(s),T(t.dataModel.contactMobiles,p)||(t.dataModel.contactMobiles=p),f(p)}),a(),r(44,"em"),c(45),a(),S(46,GD,5,3,"mat-error",44),a(),S(47,iR,14,8,"div",53)(48,nR,8,2,"div",54)(49,oR,7,5,"div",46),C(50,"br"),r(51,"p"),c(52),_(53,"translate"),a(),r(54,"p"),c(55),_(56,"translate"),C(57,"br"),c(58),_(59,"translate"),a(),r(60,"p"),c(61),_(62,"translate"),a(),r(63,"app-estate-property-autocomplete",55),_(64,"translate"),E("optionChange",function(p){return u(s),f(t.onActionSelectorProperty(p))}),a(),C(65,"br"),S(66,PR,71,74,"ng-container",44),r(67,"div",56)(68,"div",57)(69,"div")(70,"div",58),C(71,"div",59),a()()()(),S(72,kR,26,27,"div",60),r(73,"div",58)(74,"div",61),S(75,DR,9,7,"div",62),a()(),r(76,"div",63),S(77,RR,4,3,"button",64)(78,LR,4,3,"button",64)(79,VR,4,3,"button",64)(80,OR,4,3,"button",64)(81,FR,4,3,"button",64)(82,BR,4,3,"button",64)(83,NR,4,3,"button",64),a()()()()(),r(84,"div",65),S(85,HR,3,4,"div",66)(86,WR,3,4,"div",66)(87,GR,3,3,"div",66)(88,UR,3,3,"div",66)(89,jR,3,3,"div",66),a()}if(i&2){let s=k(17),h=k(29),p=k(42);d("Key","customerorder.content.list.edit")("svg","assets/media/svg/icons/General/Notifications1.svg"),o(2),d("optionsInfoAreaId",t.constructorInfoAreaId),o(3),y(" ",t.formInfo.formTitle," "),o(2),y(" ",g(8,62,"TITLE.Be_Careful_When_Entering_Information")," "),o(5),b("model",t.dataModel.recordStatus),d("optionDisabled",!1)("optionLabel",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0),o(3),M(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),b("ngModel",t.dataModel.title),o(2),d("ngIf",!s.value),o(),d("ngIf",s.value),o(2),d("ngIf",s.errors==null?null:s.errors.required),o(),d("optionSelectForce",t.dataModel.linkEstateCustomerCategoryId)("optionPlaceholder",g(23,64,"TITLE.Category")),o(2),d("ngIf",t.fieldsInfo.caseCode==null?null:t.fieldsInfo.caseCode.accessWatchField),o(3),M(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),b("ngModel",t.dataModel.description),o(3),y("",h.value.length," / 500"),o(),d("ngIf",t.fieldsInfo.descriptionHidden==null?null:t.fieldsInfo.descriptionHidden.accessWatchField),o(),d("ngIf",t.tokenHelper.isAdminSite||t.tokenHelper.isSupportSite),o(),d("ngIf",t.tokenHelper.isAdminSite),o(),d("optionDisabled",!(t.fieldsInfo.linkEstateExpertId!=null&&t.fieldsInfo.linkEstateExpertId.accessEditField))("optionSelectForce",t.dataModel.linkEstateExpertId)("optionPlaceholder",g(36,66,"TITLE.Real_estate_customer_personnel")),o(4),M(g(40,68,"TITLE.Mobile_customer")),o(2),d("placeholder",x(g(43,70,"TITLE.Mobile_customer"))),b("ngModel",t.dataModel.contactMobiles),o(4),y("",p.value.length," / 100"),o(),d("ngIf",p.errors==null?null:p.errors.required),o(),d("ngIf",t.fieldsInfo.actionCreateNewCmsUser==null?null:t.fieldsInfo.actionCreateNewCmsUser.accessWatchField),o(),d("ngIf",t.tokenHelper.isAdminSite||t.tokenHelper.isSupportSite),o(),d("ngIf",t.areaAddressView),o(3),M(g(53,72,"TITLE.specific_property_list")),o(3),y(" ",g(56,74,"TITLE.DESCRIPTION"),":"),o(3),y("",g(59,76,"TITLE.The_specific_property_section_allows_you_to_search_for_registered_property")," "),o(3),y(" ",g(62,78,"MESSAGE.Selecting_specific_property_will_remove_all_search_fields")," "),o(2),d("optionDisabled",!(t.fieldsInfo.linkPropertyIds!=null&&t.fieldsInfo.linkPropertyIds.accessEditField))("optionPlaceholder",g(64,80,"TITLE.Property"))("optionSelectForce",t.dataModel.linkPropertyIds),o(3),d("ngIf",!t.LinkPropertyIdsInUse),o(6),d("ngIf",(t.dataModel==null||t.dataModel.urlViewContentQRCodeBase64==null?null:t.dataModel.urlViewContentQRCodeBase64.length)>0&&(t.dataModel==null||t.dataModel.urlViewContent==null?null:t.dataModel.urlViewContent.length)>0),o(3),d("ngIf",t.formInfo.formSubmitAllow),o(2),d("ngIf",(t.dataModel==null||t.dataModel.id==null?null:t.dataModel.id.length)>0),o(),d("ngIf",(t.dataModel==null||t.dataModel.id==null?null:t.dataModel.id.length)>0),o(),d("ngIf",(t.dataModel==null||t.dataModel.id==null?null:t.dataModel.id.length)>0),o(),d("ngIf",(t.dataModel==null||t.dataModel.id==null?null:t.dataModel.id.length)>0&&(t.dataModel==null?null:t.dataModel.linkLocationIds)&&(t.dataModel==null?null:t.dataModel.linkLocationIds.length)>0),o(),d("ngIf",(t.dataModel==null||t.dataModel.id==null?null:t.dataModel.id.length)>0&&(t.dataModel==null?null:t.dataModel.linkLocationIds)&&(t.dataModel==null?null:t.dataModel.linkLocationIds.length)>0),o(),d("ngIf",(t.dataModel==null||t.dataModel.id==null?null:t.dataModel.id.length)>0&&t.tokenHelper.isAdminSite),o(),d("ngIf",(t.dataModel==null||t.dataModel.id==null?null:t.dataModel.id.length)>0),o(2),d("ngIf",t.loadResult==="estatePropertyList"),o(),d("ngIf",t.loadResult==="estatePropertyHaveHistoryList"),o(),d("ngIf",t.loadResult==="estateAccountAgencyList"),o(),d("ngIf",t.loadResult==="estateAccountExpertList"),o(),d("ngIf",t.loadResult==="estateHistoryList")}},dependencies:[se,Ne,N,fo,_o,go,ke,Ca,Sa,Y,Ot,ha,Ht,ya,q,Te,de,De,Ae,ce,Pe,di,wo,Eo,Io,Mo,To,bo,we,Ee,Q,ci,Fi,Vi,Qt,$i,Gl,U,No,$n,eo,to,io,no,oo,yo,_i,nn,vi,ea,rn,on,po,Sn,co,Xn,hs,O,ta],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}.resultSortIcon[_ngcontent-%COMP%]{font-size:20px;align-self:center}"]});var Yc=ys;var qR=["vform"];function QR(n,l){n&1&&C(0,"i",29)}function zR(n,l){n&1&&C(0,"i",30)}function YR(n,l){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),_(4,"translate"),a()()),n&2){let e=m();o(),y(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," "),o(2),M(g(4,2,"MESSAGE.required"))}}function KR(n,l){if(n&1){let e=I();r(0,"div",14)(1,"label",31),c(2),_(3,"translate"),a(),r(4,"textarea",32,4),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.descriptionHidden,t)||(s.dataModel.descriptionHidden=t),f(t)}),a(),r(6,"em"),c(7),a()()}if(n&2){let e=k(5),i=m();o(2),M(g(3,5,"TITLE.Description_Hidden")),o(2),d("placeholder",x(i.fieldsInfo.descriptionHidden==null?null:i.fieldsInfo.descriptionHidden.fieldTitle)),b("ngModel",i.dataModel.descriptionHidden),o(3),y("",e.value.length," / 500")}}function ZR(n,l){if(n&1){let e=I();r(0,"app-estate-account-agency-selector",33),_(1,"translate"),E("optionChange",function(t){u(e);let s=m();return f(s.onActionSelectorEstateAgency(t))}),a()}if(n&2){let e=m();d("optionDisabled",!(e.fieldsInfo.linkEstateAgencyId!=null&&e.fieldsInfo.linkEstateAgencyId.accessAddField))("optionSelectForce",e.dataModel.linkEstateAgencyId)("optionSelectUserId",e.tokenInfo.access.userId)("optionPlaceholder",g(1,4,"TITLE.Property_agency"))}}function JR(n,l){n&1&&(r(0,"mat-error"),c(1," ContactMobiles is "),r(2,"strong"),c(3),_(4,"translate"),a()()),n&2&&(o(3),M(g(4,1,"MESSAGE.required")))}function XR(n,l){if(n&1){let e=I();r(0,"app-cms-user-selector",24),_(1,"translate"),E("optionChange",function(t){u(e);let s=m(2);return f(s.onActionSelectorCmsUser(t))}),a()}if(n&2){let e=m(2);d("optionDisabled",!(e.fieldsInfo.linkCmsUserId!=null&&e.fieldsInfo.linkCmsUserId.accessAddField))("optionSelectForce",e.dataModel.linkCmsUserId)("optionPlaceholder",g(1,3,"TITLE.user"))}}function $R(n,l){n&1&&C(0,"i",29)}function eL(n,l){n&1&&C(0,"i",30)}function tL(n,l){n&1&&(r(0,"mat-error")(1,"strong"),c(2),_(3,"translate"),a()()),n&2&&(o(2),M(g(3,1,"MESSAGE.required")))}function iL(n,l){if(n&1){let e=I();r(0,"div",14)(1,"label",43),c(2),_(3,"translate"),a(),r(4,"input",44,5),_(6,"translate"),w("ngModelChange",function(t){u(e);let s=m(2);return T(s.dataModel.actionCreateNewCmsUserFirstName,t)||(s.dataModel.actionCreateNewCmsUserFirstName=t),f(t)}),a(),S(7,$R,1,0,"i",17)(8,eL,1,0,"i",18),r(9,"em"),c(10),a(),S(11,tL,4,3,"mat-error",19),a()}if(n&2){let e=k(5),i=m(2);o(2),M(g(3,8,"TITLE.FIRST_NAME")),o(2),d("placeholder",x(g(6,10,"TITLE.FIRST_NAME"))),b("ngModel",i.dataModel.actionCreateNewCmsUserFirstName),o(3),d("ngIf",!e.value),o(),d("ngIf",e.value),o(2),y("",e.value.length," / 50"),o(),d("ngIf",e.errors==null?null:e.errors.required)}}function nL(n,l){n&1&&C(0,"i",29)}function oL(n,l){n&1&&C(0,"i",30)}function rL(n,l){n&1&&(r(0,"mat-error")(1,"strong"),c(2),_(3,"translate"),a()()),n&2&&(o(2),M(g(3,1,"MESSAGE.required")))}function aL(n,l){if(n&1){let e=I();r(0,"div",14)(1,"label",45),c(2),_(3,"translate"),a(),r(4,"input",46,6),_(6,"translate"),w("ngModelChange",function(t){u(e);let s=m(2);return T(s.dataModel.actionCreateNewCmsUserLastName,t)||(s.dataModel.actionCreateNewCmsUserLastName=t),f(t)}),a(),S(7,nL,1,0,"i",17)(8,oL,1,0,"i",18),r(9,"em"),c(10),a(),S(11,rL,4,3,"mat-error",19),a()}if(n&2){let e=k(5),i=m(2);o(2),M(g(3,8,"TITLE.LAST_NAME")),o(2),d("placeholder",x(g(6,10,"TITLE.LAST_NAME"))),b("ngModel",i.dataModel.actionCreateNewCmsUserLastName),o(3),d("ngIf",!e.value),o(),d("ngIf",e.value),o(2),y("",e.value.length," / 50"),o(),d("ngIf",e.errors==null?null:e.errors.required)}}function lL(n,l){n&1&&C(0,"i",29)}function sL(n,l){n&1&&C(0,"i",30)}function dL(n,l){n&1&&(r(0,"mat-error")(1,"strong"),c(2),_(3,"translate"),a()()),n&2&&(o(2),M(g(3,1,"MESSAGE.required")))}function cL(n,l){if(n&1){let e=I();r(0,"div",14)(1,"label",47),c(2),_(3,"translate"),a(),r(4,"input",48,7),w("ngModelChange",function(t){u(e);let s=m(2);return T(s.dataModel.actionCreateNewCmsUserMobile,t)||(s.dataModel.actionCreateNewCmsUserMobile=t),f(t)}),a(),S(6,lL,1,0,"i",17)(7,sL,1,0,"i",18),r(8,"em"),c(9),a(),S(10,dL,4,3,"mat-error",19),a()}if(n&2){let e=k(5),i=m(2);o(2),M(g(3,6,"TITLE.MOBILE_NUMBER")),o(2),b("ngModel",i.dataModel.actionCreateNewCmsUserMobile),o(2),d("ngIf",!e.value),o(),d("ngIf",e.value),o(2),y("",e.value.length," / 20"),o(),d("ngIf",e.errors==null?null:e.errors.required)}}function pL(n,l){if(n&1){let e=I();r(0,"div",34)(1,"div",35)(2,"div",36)(3,"h5",37),c(4),_(5,"translate"),a()(),r(6,"div",38)(7,"div",39)(8,"input",40),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.actionCreateNewCmsUser,t)||(s.dataModel.actionCreateNewCmsUser=t),f(t)}),a(),C(9,"label",41),a()()(),S(10,XR,2,5,"app-cms-user-selector",42)(11,iL,12,12,"div",22)(12,aL,12,12,"div",22)(13,cL,11,8,"div",22),a()}if(n&2){let e=m();o(4),y("",g(5,6,"TITLE.CREATE_NEW_USER")," "),o(4),b("ngModel",e.dataModel.actionCreateNewCmsUser),o(2),d("ngIf",!e.dataModel.actionCreateNewCmsUser),o(),d("ngIf",e.dataModel.actionCreateNewCmsUser),o(),d("ngIf",e.dataModel.actionCreateNewCmsUser),o(),d("ngIf",e.dataModel.actionCreateNewCmsUser)}}function mL(n,l){if(n&1){let e=I();r(0,"div",49)(1,"button",50),E("click",function(){u(e);let t=m();return f(t.onFormCancel())}),C(2,"i",51),c(3),_(4,"translate"),a(),r(5,"button",52),C(6,"i",53),c(7),_(8,"translate"),a()()}if(n&2){m();let e=k(9);o(3),y(" ",g(4,3,"ACTION.CANCEL")," "),o(2),d("disabled",!e.form.valid),o(2),y(" ",g(8,5,"ACTION.SAVE")," ")}}var Cs=class Cs extends Dt{constructor(e,i,t,s,h,p,D,z,he,je){super(s,new Mn,D,he);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.estateCustomerOrderService=s;this.cmsToastrService=h;this.cmsStoreService=p;this.publicHelper=D;this.cdr=z;this.translate=he;this.tokenHelper=je;this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new G;this.dataModel=new Mn;this.formInfo=new me;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,e&&e.linkEstateCustomerCategoryId?.length>0&&(this.dataModel.linkEstateCustomerCategoryId=e.linkEstateCustomerCategoryId),e&&e.copyId?.length>0&&this.DataGetOneContent(e.copyId),this.dataModel.caseCode=this.publicHelper.StringRandomGenerator(5,!0)}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess()}DataGetOneContent(e){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError="";let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructorInfoAreaId)}),this.estateCustomerOrderService.setAccessLoad(),this.estateCustomerOrderService.setAccessDataType(Be.Editor),this.estateCustomerOrderService.ServiceGetOneById(e).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModel=t.item,this.dataModel.title="Copy of "+this.dataModel.title,t.isSuccess?Promise.resolve().then(()=>this.cdr.detectChanges()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(s=>{this.formInfo.formAlert=s}),this.formInfo.formError=t.errorMessage,this.cmsToastrService.typeErrorMessage(t.errorMessage)),this.publicHelper.processService.processStop(i)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(i,!1)}})}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.dataModel.scoreLiquidityPower=5,this.dataModel.scorePurchaseDecision=5,this.dataModel.scorePurchasingPower=5,this.dataModel.scoreRushToBuy=5,this.estateCustomerOrderService.ServiceAdd(this.dataModel).subscribe({next:i=>{i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.formAlert=t}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({id:i.item.id,dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e),this.formInfo.formSubmitAllow=!0},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}onActionSelectorSelect(e){if(!e||e.id.length<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkEstateCustomerCategoryId=e.id}onActionSelectorCmsUser(e){if(!e||!e.id||e.id<=0){this.dataModel.linkCmsUserId=null;return}this.dataModel.linkCmsUserId=e.id}onActionSelectorEstateAgency(e){this.dataModel.linkEstateAgencyId=null,!(!e||!e.id||e.id.length<=0)&&(this.dataModel.linkEstateAgencyId=e.id)}onActionSelectorEstateUser(e){this.dataModel.linkEstateExpertId=null,!(!e||!e.id||e.id.length<=0)&&(this.dataModel.linkEstateExpertId=e.id)}};Cs.\u0275fac=function(i){return new(i||Cs)(v(be),v(Me),v(J),v(Yi),v(V),v(Z),v(F),v(B),v(L),v(K))},Cs.\u0275cmp=R({type:Cs,selectors:[["app-estate-customer-order-add-to-edit"]],viewQuery:function(i,t){if(i&1&&ee(qR,5),i&2){let s;te(s=ie())&&(t.formGroup=s.first)}},standalone:!1,features:[ne],decls:45,vars:40,consts:[["vform","ngForm"],["Title",""],["Description",""],["ContactMobiles",""],["DescriptionHidden",""],["actionCreateNewCmsUserFirstName",""],["actionCreateNewCmsUserLastName",""],["actionCreateNewCmsUserMobile",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"optionChange","optionSelectForce","optionPlaceholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","fa fa-times  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],[4,"ngIf"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","0","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[3,"optionDisabled","optionSelectForce","optionSelectUserId","optionPlaceholder","optionChange",4,"ngIf"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],["for","dataModel.contactMobiles",1,"color-highlight"],["matInput","","name","dataModel.contactMobiles","type","text","minlength","0","maxlength","100","rows","5","id","dataModel.contactMobiles",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","blockquote",4,"ngIf"],["class","form-actions",4,"ngIf"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.descriptionHidden",1,"color-highlight"],["matInput","","name","dataModel.descriptionHidden","type","text","minlength","0","maxlength","500","rows","5","id","dataModel.descriptionHidden",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[3,"optionChange","optionDisabled","optionSelectForce","optionSelectUserId","optionPlaceholder"],[1,"blockquote"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.actionCreateNewCmsUser",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.actionCreateNewCmsUser","name","dataModel.actionCreateNewCmsUser",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.actionCreateNewCmsUser",1,"custom-control-label"],[3,"optionDisabled","optionSelectForce","optionPlaceholder","optionChange",4,"ngIf"],["for","dataModel.actionCreateNewCmsUserFirstName",1,"color-highlight"],["matInput","","type","text","name","dataModel.actionCreateNewCmsUserFirstName","type","text","minlength","3","maxlength","50","id","dataModel.actionCreateNewCmsUserFirstName",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.actionCreateNewCmsUserLastName",1,"color-highlight"],["matInput","","type","text","name","dataModel.actionCreateNewCmsUserLastName","type","text","minlength","3","maxlength","50","id","dataModel.actionCreateNewCmsUserLastName",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.actionCreateNewCmsUserMobile",1,"color-highlight"],["matInput","","type","text","name","dataModel.actionCreateNewCmsUserMobile","type","text","placeholder","0912","minlength","3","maxlength","20","id","dataModel.actionCreateNewCmsUserMobile",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=I();r(0,"div",8),C(1,"app-progress-spinner",9),r(2,"div",10)(3,"p",11),c(4),a(),r(5,"p"),c(6),_(7,"translate"),a(),r(8,"form",12,0),E("ngSubmit",function(){return u(s),f(t.onFormSubmit())}),r(10,"app-estate-customer-category-selector",13),_(11,"translate"),E("optionChange",function(p){return u(s),f(t.onActionSelectorSelect(p))}),a(),r(12,"div",14)(13,"label",15),c(14),a(),r(15,"input",16,1),w("ngModelChange",function(p){return u(s),T(t.dataModel.title,p)||(t.dataModel.title=p),f(p)}),a(),S(17,QR,1,0,"i",17)(18,zR,1,0,"i",18),C(19,"em"),S(20,YR,5,4,"mat-error",19),a(),r(21,"div",14)(22,"label",20),c(23),a(),r(24,"textarea",21,2),w("ngModelChange",function(p){return u(s),T(t.dataModel.description,p)||(t.dataModel.description=p),f(p)}),a(),r(26,"em"),c(27),a()(),S(28,KR,8,7,"div",22),C(29,"hr"),S(30,ZR,2,6,"app-estate-account-agency-selector",23),r(31,"app-estate-account-expert-selector",24),_(32,"translate"),E("optionChange",function(p){return u(s),f(t.onActionSelectorEstateUser(p))}),a(),r(33,"div",14)(34,"label",25),c(35),_(36,"translate"),a(),r(37,"textarea",26,3),_(39,"translate"),w("ngModelChange",function(p){return u(s),T(t.dataModel.contactMobiles,p)||(t.dataModel.contactMobiles=p),f(p)}),a(),r(40,"em"),c(41),a(),S(42,JR,5,3,"mat-error",19),a(),S(43,pL,14,8,"div",27)(44,mL,9,7,"div",28),a()()()}if(i&2){let s=k(16),h=k(25),p=k(38);o(),d("optionsInfoAreaId",t.constructorInfoAreaId),o(3),y(" ",t.formInfo.formTitle," "),o(2),y(" ",g(7,30,"TITLE.Be_Careful_When_Entering_Information")," "),o(4),d("optionSelectForce",t.dataModel.linkEstateCustomerCategoryId)("optionPlaceholder",g(11,32,"TITLE.Category")),o(4),M(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),b("ngModel",t.dataModel.title),o(2),d("ngIf",!s.value),o(),d("ngIf",s.value),o(2),d("ngIf",s.errors==null?null:s.errors.required),o(3),M(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),b("ngModel",t.dataModel.description),o(3),y("",h.value.length," / 500"),o(),d("ngIf",t.fieldsInfo.descriptionHidden==null?null:t.fieldsInfo.descriptionHidden.accessWatchField),o(2),d("ngIf",t.tokenHelper.isAdminSite),o(),d("optionDisabled",!(t.fieldsInfo.linkEstateExpertId!=null&&t.fieldsInfo.linkEstateExpertId.accessAddField))("optionSelectForce",t.dataModel.linkEstateExpertId)("optionPlaceholder",g(32,34,"TITLE.Real_estate_customer_personnel")),o(4),M(g(36,36,"TITLE.Mobile_customer")),o(2),d("placeholder",x(g(39,38,"TITLE.Mobile_customer"))),b("ngModel",t.dataModel.contactMobiles),o(4),y("",p.value.length," / 100"),o(),d("ngIf",p.errors==null?null:p.errors.required),o(),d("ngIf",t.fieldsInfo.actionCreateNewCmsUser==null?null:t.fieldsInfo.actionCreateNewCmsUser.accessWatchField),o(),d("ngIf",t.formInfo.formSubmitAllow)}},dependencies:[N,ke,Y,Ht,q,Te,de,De,Ae,ce,Pe,we,Q,$i,U,Sn,Xn,hs,O],encapsulation:2});var Od=Cs;var uL=()=>["expandedTitle"],fL=()=>["expandedDetail"],_L=()=>[5,10,20,100],N0=n=>({display:n});function gL(n,l){n&1&&(r(0,"mat-header-cell"),c(1),_(2,"translate"),a()),n&2&&(o(),y(" ",g(2,1,"TITLE.MENU")," "))}function hL(n,l){if(n&1){let e=I();r(0,"mat-cell")(1,"button",57),E("click",function(){let t=u(e).$implicit,s=m();return f(s.onActionTableRowSelectActionMenu(t))}),C(2,"i",58),a()()}}function yL(n,l){n&1&&(r(0,"mat-header-cell",59),c(1),_(2,"translate"),a()),n&2&&(o(),y(" ",g(2,1,"TITLE.PICTURE")," "))}function CL(n,l){if(n&1&&(C(0,"img",61),_(1,"cmsthumbnail")),n&2){let e=m().$implicit;d("src",x(g(1,2,e.linkMainImageIdSrc)),j)}}function SL(n,l){if(n&1&&(r(0,"mat-cell"),S(1,CL,2,4,"img",60),a()),n&2){let e=l.$implicit;o(),d("ngIf",(e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0)}}function vL(n,l){if(n&1&&(r(0,"mat-header-cell",59),c(1),a()),n&2){let e=m();o(),y(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function EL(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),y(" ",e.id," ")}}function IL(n,l){if(n&1&&(r(0,"mat-header-cell",59),c(1),a()),n&2){let e=m();o(),y(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function ML(n,l){if(n&1&&(r(0,"mat-cell"),c(1),_(2,"cmssiteinfo"),_(3,"async"),a()),n&2){let e=l.$implicit;o(),y(" ",g(3,3,g(2,1,e.linkSiteId))," ")}}function bL(n,l){if(n&1&&(r(0,"mat-header-cell",59),c(1),a()),n&2){let e=m();o(),y(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function TL(n,l){if(n&1&&C(0,"select",64),n&2){let e=m().$implicit,i=m();d("contentService",i.contentService)("row",e)("ngStyle",ze(3,N0,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function wL(n,l){if(n&1&&(r(0,"mat-cell",62),_(1,"statusCellClass"),C(2,"i",62),_(3,"statusIconClass"),S(4,TL,1,5,"select",63),a()),n&2){let e=l.$implicit,i=m();d("ngClass",g(1,3,e.recordStatus)),o(2),d("ngClass",g(3,5,e.recordStatus)),o(2),d("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessEditRow)}}function xL(n,l){if(n&1&&(r(0,"mat-header-cell",59),c(1),a()),n&2){let e=m();o(),y(" ",e.fieldsInfo.name==null?null:e.fieldsInfo.name.fieldTitle," ")}}function AL(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),y(" ",e.name," ")}}function PL(n,l){if(n&1&&(r(0,"mat-header-cell",59),c(1),a()),n&2){let e=m();o(),y(" ",e.fieldsInfo.lastName==null?null:e.fieldsInfo.lastName.fieldTitle," ")}}function kL(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),y(" ",e.lastName," ")}}function DL(n,l){if(n&1&&(r(0,"mat-header-cell",59),c(1),a()),n&2){let e=m();o(),y(" ",e.fieldsInfo.companyName==null?null:e.fieldsInfo.companyName.fieldTitle," ")}}function RL(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),y(" ",e.companyName," ")}}function LL(n,l){if(n&1&&(r(0,"mat-header-cell",59),c(1),a()),n&2){let e=m();o(),y(" ",e.fieldsInfo.email==null?null:e.fieldsInfo.email.fieldTitle," ")}}function VL(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),y(" ",e.email," ")}}function OL(n,l){if(n&1&&(r(0,"mat-header-cell",59),c(1),a()),n&2){let e=m();o(),y(" ",e.fieldsInfo.mobile==null?null:e.fieldsInfo.mobile.fieldTitle," ")}}function FL(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),y(" ",e.mobile," ")}}function BL(n,l){if(n&1&&(r(0,"mat-header-cell",59),c(1),a()),n&2){let e=m();o(),y(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function NL(n,l){if(n&1&&(r(0,"mat-cell"),c(1),_(2,"localeDate"),a()),n&2){let e=l.$implicit;o(),y(" ",g(2,1,e.createdDate)," ")}}function HL(n,l){if(n&1&&(r(0,"mat-header-cell",59),c(1),a()),n&2){let e=m();o(),y(" ",e.fieldsInfo.updatedDate==null?null:e.fieldsInfo.updatedDate.fieldTitle," ")}}function WL(n,l){if(n&1&&(r(0,"mat-cell"),c(1),_(2,"localeDate"),a()),n&2){let e=l.$implicit;o(),y(" ",g(2,1,e.updatedDate)," ")}}function GL(n,l){n&1&&(r(0,"mat-header-cell"),c(1),_(2,"translate"),a()),n&2&&(o(),y(" ",g(2,1,"TITLE.OPTION")," "))}function UL(n,l){if(n&1&&(r(0,"mat-cell",65)(1,"button",66)(2,"mat-icon"),c(3,"more_vert"),a()(),C(4,"mat-menu",null,2),a()),n&2){let e=k(5);o(),d("matMenuTriggerFor",e)}}function jL(n,l){if(n&1&&(r(0,"mat-cell"),c(1),_(2,"translate"),_(3,"localeDate"),a()),n&2){let e=l.$implicit;o(),$(" ",g(2,2,"TITLE.CreationDate")," : ",g(3,4,e.createdDate)," ")}}function qL(n,l){if(n&1&&(C(0,"img",70),_(1,"cmsthumbnail")),n&2){let e=m().$implicit;d("src",x(g(1,2,e.linkMainImageIdSrc)),j)}}function QL(n,l){if(n&1){let e=I();r(0,"mat-cell")(1,"div")(2,"table")(3,"tr")(4,"th"),S(5,qL,2,4,"img",67),a(),r(6,"th")(7,"span",68),E("click",function(){u(e);let t=m();return f(t.onActionCopied())}),C(8,"i",69),a(),c(9),a()(),r(10,"tr"),C(11,"td"),r(12,"td"),c(13),a()(),r(14,"tr"),C(15,"td"),r(16,"td"),c(17),a()(),r(18,"tr"),C(19,"td"),r(20,"td"),c(21),a()(),r(22,"tr"),C(23,"td"),r(24,"td"),c(25),a()(),r(26,"tr"),C(27,"td"),r(28,"td"),c(29),a()(),r(30,"tr"),C(31,"td"),r(32,"td"),c(33),a()(),r(34,"tr"),C(35,"td")(36,"td"),a()()()()}if(n&2){let e=l.$implicit,i=m();o(5),d("ngIf",(e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0),o(2),d("cdkCopyToClipboard",e.id),o(2),y(" ",e.id," "),o(4),$("",i.fieldsInfo.username==null?null:i.fieldsInfo.username.fieldTitle," : ",e.username," "),o(4),$("",i.fieldsInfo.name==null?null:i.fieldsInfo.name.fieldTitle," : ",e.name," "),o(4),$("",i.fieldsInfo.lastName==null?null:i.fieldsInfo.lastName.fieldTitle," : ",e.lastName," "),o(4),$("",i.fieldsInfo.mobile==null?null:i.fieldsInfo.mobile.fieldTitle," : ",e.mobile," "),o(4),$("",i.fieldsInfo.email==null?null:i.fieldsInfo.email.fieldTitle," : ",e.email," "),o(4),$("",i.fieldsInfo.companyName==null?null:i.fieldsInfo.companyName.fieldTitle," : ",e.companyName," ")}}function zL(n,l){n&1&&C(0,"mat-header-row")}function YL(n,l){if(n&1){let e=I();r(0,"mat-row",71),E("click",function(){let t=u(e).$implicit,s=m();return f(s.onActionTableRowSelect(t))})("mouseenter",function(){let t=u(e).$implicit,s=m();return f(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=u(e).$implicit,s=m();return f(s.onActionTableRowMouseLeave(t))}),a()}if(n&2){let e=l.$implicit,i=l.dataIndex,t=m();Se("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",e.id===(t.tableRowSelected==null?null:t.tableRowSelected.id))}}function KL(n,l){if(n&1){let e=I();r(0,"mat-row",71),E("click",function(){let t=u(e).$implicit,s=m();return f(s.onActionTableRowSelect(t))})("mouseenter",function(){let t=u(e).$implicit,s=m();return f(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=u(e).$implicit,s=m();return f(s.onActionTableRowMouseLeave(t))}),a()}if(n&2){let e=l.$implicit,i=l.dataIndex,t=m();Se("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",e.id===(t.tableRowSelected==null?null:t.tableRowSelected.id))}}function ZL(n,l){if(n&1){let e=I();r(0,"mat-row",72),E("click",function(){let t=u(e).$implicit,s=m();return f(s.onActionTableRowSelect(t))})("mouseenter",function(){let t=u(e).$implicit,s=m();return f(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=u(e).$implicit,s=m();return f(s.onActionTableRowMouseLeave(t))}),a()}if(n&2){let e=l.$implicit,i=l.dataIndex,t=m();Se("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",e.id===(t.tableRowSelected==null?null:t.tableRowSelected.id)),d("ngStyle",ze(7,N0,e.expanded===!0?"":"none"))}}function JL(n,l){if(n&1){let e=I();r(0,"div",52)(1,"button",73),E("click",function(){u(e);let t=m();return f(t.onFormCancel())}),C(2,"i",74),c(3),_(4,"translate"),a()()}n&2&&(o(3),y(" ",g(4,1,"ACTION.CANCEL")," "))}var Ss=class Ss extends bt{constructor(e,i,t,s,h,p,D,z,he,je,Ge,mt){super(t,new Ir,Ge,h,he);this.data=e;this.dialogRef=i;this.contentService=t;this.cmsToastrService=s;this.tokenHelper=h;this.router=p;this.cdr=D;this.cmsStoreService=z;this.translate=he;this.pageInfo=je;this.publicHelper=Ge;this.dialog=mt;this.requestTitle="";this.requestPropertyId="";this.constructorInfoAreaId=this.constructor.name;this.tablePropertySelected=[];this.filteModelContent=new pe;this.formInfo=new me;this.optionsSearch=new ar;this.optionsStatist=new lr;this.tokenInfo=new St;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["LinkMainImageIdSrc","Id","RecordStatus","Name","LastName","CompanyName","email","mobile","action_menu"];this.tabledisplayedColumnsMobileSource=["Id","RecordStatus","Name","LastName","action_menu"];this.fieldsInfo=new Map;this.publicHelper.processService.cdr=this.cdr,e&&(e.title&&(this.requestTitle=e.title+""),e.id&&(this.requestPropertyId=e.id+"")),this.optionsSearch.parentMethods={onSubmit:Nt=>this.onSubmitOptionsSearch(Nt)}}ngOnInit(){this.translate.get("TITLE.QUICK_VIEW").subscribe(e=>{this.formInfo.formTitle=e}),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.cmsApiStoreSubscribe=this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>re(this,null,function*(){this.tokenInfo=e,this.DataGetAll()}))}ngOnDestroy(){this.cmsApiStoreSubscribe&&this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Ir);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllResponsibleUserId(this.requestPropertyId,i).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),t.isSuccess?(this.dataModelResult=t,this.tableSource.data=t.listItems):this.cmsToastrService.typeErrorGetAll(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=X.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=X.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=X.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonReload(){this.DataGetAll()}onActionCopied(){this.cmsToastrService.typeSuccessCopedToClipboard()}onSubmitOptionsSearch(e){e&&e.length>0&&(this.filteModelContent.filters=[...this.filteModelContent.filters,...e]),this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/ticketing/departemen/"])}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Ss.\u0275fac=function(i){return new(i||Ss)(v(be),v(Me),v(Yi),v(V),v(K),v(Ze),v(B),v(Z),v(L),v(ht),v(F),v(xe))},Ss.\u0275cmp=R({type:Ss,selectors:[["app-estate-customer-order-responsible-user-list"]],standalone:!1,features:[ne],decls:87,vars:31,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[1,"card","card-style","loader-container"],[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection","loader-container"],[3,"optionsInfoAreaId"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionActionRowDisplayMenuAct","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-maximize","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-minimize","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[1,"custom-slide-toggle",3,"ngModelChange","ngModel"],["cms-action-main",""],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","","multiTemplateDataRows","",3,"matSortChange","dataSource"],["matColumnDef","action_menu"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkMainImageIdSrc"],["mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","Id"],["matColumnDef","LinkSiteId"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","Name"],["matColumnDef","LastName"],["matColumnDef","CompanyName"],["matColumnDef","email"],["matColumnDef","mobile"],["matColumnDef","CreatedDate"],["matColumnDef","UpdatedDate"],["matColumnDef","Action"],["class"," Action",4,"matCellDef"],["matColumnDef","expandedTitle"],["matColumnDef","expandedDetail"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","ngStyle","click","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"click"],[1,"fa","fa-bars","font-18"],["mat-sort-header",""],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","40","width","40",3,"src",4,"ngIf"],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","80","width","80",3,"src",4,"ngIf"],[1,"navi-icon","pointer",3,"click","cdkCopyToClipboard"],[1,"flaticon2-copy"],["aria-hidden","","height","80","width","80",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"click","mouseenter","mouseleave"],[3,"click","mouseenter","mouseleave","ngStyle"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(i,t){if(i&1){let s=I();r(0,"div",3)(1,"div",4),c(2),a(),r(3,"div",5),C(4,"app-progress-spinner",6),r(5,"app-cms-html-list",7),w("optionActionGuideNoticeDisplayChange",function(p){return u(s),T(t.viewGuideNotice,p)||(t.viewGuideNotice=p),f(p)}),E("optionOnActionButtonMemoRow",function(){return u(s),f(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return u(s),f(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return u(s),f(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return u(s),f(t.onActionButtonPrintRow())}),Qe(6,8)(7,9)(8,10),A(9,11),r(10,"a",12),E("click",function(){return u(s),f(t.onActionButtonReload())}),C(11,"i",13),a(),r(12,"a",14),E("click",function(){return u(s),f(t.onActionGridExpandRows(!0))}),C(13,"i",15),a(),r(14,"a",14),E("click",function(){return u(s),f(t.onActionGridExpandRows(!1))}),C(15,"i",16),a(),P(),A(16,17),r(17,"a",18)(18,"mat-slide-toggle",19),w("ngModelChange",function(p){return u(s),T(t.optionsSearch.data.show,p)||(t.optionsSearch.data.show=p),f(p)}),a(),c(19),_(20,"translate"),a(),P(),Qe(21,20)(22,21),A(23,22),r(24,"app-cms-search-list",23),w("optionsChange",function(p){return u(s),T(t.optionsSearch,p)||(t.optionsSearch=p),f(p)}),a(),r(25,"app-cms-statist-list",23),w("optionsChange",function(p){return u(s),T(t.optionsStatist,p)||(t.optionsStatist=p),f(p)}),a(),P(),A(26,24),r(27,"mat-table",25,0),E("matSortChange",function(){u(s);let p=k(28);return f(t.onTableSortData(p))}),A(29,26),S(30,gL,3,3,"mat-header-cell",27)(31,hL,3,0,"mat-cell",28),P(),A(32,29),S(33,yL,3,3,"mat-header-cell",30)(34,SL,2,1,"mat-cell",28),P(),A(35,31),S(36,vL,2,1,"mat-header-cell",30)(37,EL,2,1,"mat-cell",28),P(),A(38,32),S(39,IL,2,1,"mat-header-cell",30)(40,ML,4,5,"mat-cell",28),P(),A(41,33),S(42,bL,2,1,"mat-header-cell",30)(43,wL,5,7,"mat-cell",34),P(),A(44,35),S(45,xL,2,1,"mat-header-cell",30)(46,AL,2,1,"mat-cell",28),P(),A(47,36),S(48,PL,2,1,"mat-header-cell",30)(49,kL,2,1,"mat-cell",28),P(),A(50,37),S(51,DL,2,1,"mat-header-cell",30)(52,RL,2,1,"mat-cell",28),P(),A(53,38),S(54,LL,2,1,"mat-header-cell",30)(55,VL,2,1,"mat-cell",28),P(),A(56,39),S(57,OL,2,1,"mat-header-cell",30)(58,FL,2,1,"mat-cell",28),P(),A(59,40),S(60,BL,2,1,"mat-header-cell",30)(61,NL,3,3,"mat-cell",28),P(),A(62,41),S(63,HL,2,1,"mat-header-cell",30)(64,WL,3,3,"mat-cell",28),P(),A(65,42),S(66,GL,3,3,"mat-header-cell",27)(67,UL,6,1,"mat-cell",43),P(),A(68,44),S(69,jL,4,6,"mat-cell",28),P(),A(70,45),S(71,QL,37,15,"mat-cell",28),P(),S(72,zL,1,0,"mat-header-row",46)(73,YL,1,6,"mat-row",47)(74,KL,1,6,"mat-row",47)(75,ZL,1,9,"mat-row",48),a(),P(),A(76,49),r(77,"mat-paginator",50,1),E("page",function(p){return u(s),f(t.onTablePageingData(p))}),a(),P(),a()(),r(79,"div",51)(80,"div",52)(81,"small",53),c(82),a(),r(83,"small",54),c(84),a()()(),r(85,"div",55),S(86,JL,5,3,"div",56),a()()}i&2&&(o(2),y(" ",t.formInfo.formTitle," "),o(2),d("optionsInfoAreaId",t.constructorInfoAreaId),o(),d("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),b("optionActionGuideNoticeDisplay",t.viewGuideNotice),d("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelectDoubleClick)("optionActionRowDisplayMenuAct",t.tableRowSelectActionMenuClick)("optionSelectRowItemTitle",(t.tableRowSelected==null||t.tableRowSelected.username==null?null:t.tableRowSelected.username.length)>0?t.tableRowSelected==null?null:t.tableRowSelected.username:t.tableRowSelected==null?null:t.tableRowSelected.id),o(13),b("ngModel",t.optionsSearch.data.show),o(),y("",g(20,26,"ACTION.SEARCH")," "),o(5),b("options",t.optionsSearch),o(),b("options",t.optionsStatist),o(2),d("dataSource",t.tableSource),o(45),d("matHeaderRowDef",t.tabledisplayedColumns),o(),d("matRowDefColumns",le(28,uL)),o(),d("matRowDefColumns",t.tabledisplayedColumns),o(),d("matRowDefColumns",le(29,fL)),o(2),d("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",le(30,_L)),o(5),y("",t.formInfo.formAlert," "),o(2),y("",t.formInfo.formError," "),o(2),d("ngIf",t.formInfo.formSubmitAllow))},dependencies:[se,N,tt,q,ce,Je,Ee,Q,At,Pt,vt,gt,Et,It,it,ot,st,rt,nt,dt,at,lt,ct,pt,ci,Tt,wt,U,xt,Oi,He,O,tn,Ie,Fn,qt,Bn],encapsulation:2});var Kc=Ss;var XL=["vform"],$L=()=>["fa"];function e5(n,l){if(n&1&&(C(0,"img",28),_(1,"cmsthumbnail")),n&2){let e=m();d("src",x(g(1,2,e.dataModel.linkMainImageIdSrc)),j)}}function t5(n,l){n&1&&C(0,"i",29)}function i5(n,l){n&1&&C(0,"i",30)}function n5(n,l){n&1&&(r(0,"mat-error"),c(1," Title is "),r(2,"strong"),c(3),_(4,"translate"),a()()),n&2&&(o(3),M(g(4,1,"MESSAGE.required")))}function o5(n,l){if(n&1){let e=I();r(0,"div",15)(1,"label",31),c(2),a(),r(3,"input",32,4),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.iconFont,t)||(s.dataModel.iconFont=t),f(t)}),E("iconPickerSelect",function(t){u(e);let s=m();return f(s.onIconPickerSelect(t))}),a(),r(5,"span",33),C(6,"i",34),a()()}if(n&2){let e=m();o(2),M(e.fieldsInfo.iconFont==null?null:e.fieldsInfo.iconFont.fieldTitle),o(),d("placeholder",x(e.fieldsInfo.iconFont==null?null:e.fieldsInfo.iconFont.fieldTitle)),b("ngModel",e.dataModel.iconFont),d("iconPicker",e.dataModel.iconFont)("ipIconPack",le(9,$L))("ipPosition","top")("disabled",!(e.fieldsInfo.iconFont!=null&&e.fieldsInfo.iconFont.accessAddField)),o(3),d("ngClass",e.dataModel.iconFont)}}function r5(n,l){if(n&1){let e=I();r(0,"div",15)(1,"label",35),c(2),a(),r(3,"div",36)(4,"div",37)(5,"input",38,5),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.iconColor,t)||(s.dataModel.iconColor=t),f(t)}),a()(),r(7,"div",39),C(8,"ngx-mat-color-toggle",40)(9,"ngx-mat-color-picker",41,6),a()()()}if(n&2){let e=k(10),i=m();o(2),M(i.fieldsInfo.iconColor==null?null:i.fieldsInfo.iconColor.fieldTitle),o(3),ye("background",i.dataModel.iconColor),d("placeholder",x(i.fieldsInfo.iconColor==null?null:i.fieldsInfo.iconColor.fieldTitle)),b("ngModel",i.dataModel.iconColor),d("ngxMatColorPicker",e)("disabled",!(i.fieldsInfo.iconColor!=null&&i.fieldsInfo.iconColor.accessAddField)),o(3),d("for",e),o(),d("touchUi",!0)("color","primary")}}function a5(n,l){n&1&&(r(0,"mat-error"),c(1," Description is "),r(2,"strong"),c(3),_(4,"translate"),a()()),n&2&&(o(3),M(g(4,1,"MESSAGE.required")))}function l5(n,l){if(n&1){let e=I();r(0,"div",42)(1,"button",43),E("click",function(){u(e);let t=m();return f(t.onFormCancel())}),C(2,"i",44),c(3),_(4,"translate"),a(),r(5,"button",45),C(6,"i",46),c(7),_(8,"translate"),a()()}if(n&2){m();let e=k(9);o(3),y(" ",g(4,3,"ACTION.CANCEL")," "),o(2),d("disabled",!e.form.valid),o(2),y(" ",g(8,5,"ACTION.SAVE")," ")}}var vs=class vs extends Dt{constructor(e,i,t,s,h,p,D,z){super(s,new Zn,p,z);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.estateCustomerCategoryService=s;this.cmsToastrService=h;this.publicHelper=p;this.cdr=D;this.translate=z;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new G;this.dataModel=new Zn;this.formInfo=new me;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess()}onActionFileSelected(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}DataAddContent(){this.dataModel.iconColor=this.dataModel.iconColor?.toString(),this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estateCustomerCategoryService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.formAlert=t}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e),this.formInfo.formSubmitAllow=!0},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onIconPickerSelect(e){this.dataModel.iconFont=e}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};vs.\u0275fac=function(i){return new(i||vs)(v(be),v(Me),v(J),v($o),v(V),v(F),v(B),v(L))},vs.\u0275cmp=R({type:vs,selectors:[["app-estate-customer-category-add"]],viewQuery:function(i,t){if(i&1&&ee(XL,5),i&2){let s;te(s=ie())&&(t.formGroup=s.first)}},standalone:!1,features:[ne],decls:44,vars:43,consts:[["vform","ngForm"],["LinkMainImageId",""],["Title",""],["Description",""],["IconFont",""],["iconColor",""],["iconColorPicker",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","fa fa-times  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],[4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","form-actions",4,"ngIf"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.iconFont",1,"color-highlight"],["matInput","","type","text","name","dataModel.iconFont","type","text","id","dataModel.iconFont",1,"form-control","validate-name",3,"ngModelChange","iconPickerSelect","ngModel","iconPicker","ipIconPack","ipPosition","placeholder","disabled"],[1,"input-group-addon"],[3,"ngClass"],["for","dataModel.iconColor",1,"color-highlight"],[1,"row","mb-0"],[1,"col-11","pe-0"],["matInput","","type","text","name","dataModel.iconColor","type","text","id","dataModel.iconColor",1,"form-control","validate-name",3,"ngModelChange","ngModel","ngxMatColorPicker","placeholder","disabled"],[1,"col-1","ps-0"],["matSuffix","",3,"for"],[3,"touchUi","color"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=I();r(0,"div",7),C(1,"app-progress-spinner",8),r(2,"div",9)(3,"p",10),c(4),a(),r(5,"p"),c(6),_(7,"translate"),a(),r(8,"form",11,0),E("ngSubmit",function(){return u(s),f(t.onFormSubmit())}),r(10,"div",12)(11,"a",13),_(12,"cmsthumbnail"),S(13,e5,2,4,"img",14),a()(),r(14,"div",15)(15,"label",16),E("click",function(){return u(s),f(t.fileManagerOpenForm=!0)}),c(16),_(17,"translate"),a(),r(18,"input",17,1),_(20,"translate"),w("ngModelChange",function(p){return u(s),T(t.dataModel.linkMainImageId,p)||(t.dataModel.linkMainImageId=p),f(p)}),E("click",function(){return u(s),f(t.fileManagerOpenForm=!0)}),a(),r(21,"cms-file-manager",18),E("itemSelected",function(p){return u(s),f(t.onActionFileSelected(p))}),w("openFormChange",function(p){return u(s),T(t.fileManagerOpenForm,p)||(t.fileManagerOpenForm=p),f(p)}),a()(),r(22,"div",15)(23,"label",19),c(24),a(),r(25,"input",20,2),w("ngModelChange",function(p){return u(s),T(t.dataModel.title,p)||(t.dataModel.title=p),f(p)}),a(),S(27,t5,1,0,"i",21)(28,i5,1,0,"i",22),r(29,"em"),c(30),a(),S(31,n5,5,3,"mat-error",23),a(),S(32,o5,7,10,"div",24)(33,r5,11,11,"div",24),r(34,"div",15)(35,"label",25),c(36),a(),r(37,"textarea",26,3),w("ngModelChange",function(p){return u(s),T(t.dataModel.description,p)||(t.dataModel.description=p),f(p)}),c(39,"        "),a(),r(40,"em"),c(41),a(),S(42,a5,5,3,"mat-error",23),a(),S(43,l5,9,7,"div",27),a()()()}if(i&2){let s=k(26),h=k(38);o(),d("optionsInfoAreaId",t.constructorInfoAreaId),o(3),y(" ",t.formInfo.formTitle," "),o(2),y(" ",g(7,35,"TITLE.Be_Careful_When_Entering_Information")," "),o(5),d("href",x(g(12,37,t.dataModel.linkMainImageIdSrc)),j),o(2),d("ngIf",(t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0),o(3),M(g(17,39,"TITLE.PICTURE")),o(2),d("placeholder",x(g(20,41,"TITLE.Original_File_ID"))),b("ngModel",t.dataModel.linkMainImageId),o(3),d("language",t.appLanguage)("isPopup",!0),b("openForm",t.fileManagerOpenForm),d("tree",t.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",t.selectFileTypeMainImage)("openFilemanagerButtonView",!1),o(3),M(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),b("ngModel",t.dataModel.title),o(2),d("ngIf",!s.value),o(),d("ngIf",s.value),o(2),y("",s.value.length," / 100"),o(),d("ngIf",s.errors==null?null:s.errors.required),o(),d("ngIf",t.fieldsInfo.iconFont==null?null:t.fieldsInfo.iconFont.accessWatchField),o(),d("ngIf",t.fieldsInfo.iconColor==null?null:t.fieldsInfo.iconColor.accessWatchField),o(3),M(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),b("ngModel",t.dataModel.description),o(4),y("",h.value.length," / 500"),o(),d("ngIf",h.errors==null?null:h.errors.required),o(),d("ngIf",t.formInfo.formSubmitAllow)}},dependencies:[se,N,ke,Y,q,Te,de,De,Ae,ce,Pe,we,et,Q,U,ni,$t,Xt,Jt,ut,O,Ie],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});var Zc=vs;var s5=["vform"],d5=()=>["fa"];function c5(n,l){if(n&1&&(C(0,"img",28),_(1,"cmsthumbnail")),n&2){let e=m();d("src",x(g(1,2,e.dataModel.linkMainImageIdSrc)),j)}}function p5(n,l){n&1&&C(0,"i",29)}function m5(n,l){n&1&&C(0,"i",30)}function u5(n,l){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),_(4,"translate"),a()()),n&2){let e=m();o(),y(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," is "),o(2),M(g(4,2,"MESSAGE.required"))}}function f5(n,l){if(n&1){let e=I();r(0,"div",15)(1,"label",31),c(2),a(),r(3,"input",32,4),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.iconFont,t)||(s.dataModel.iconFont=t),f(t)}),E("iconPickerSelect",function(t){u(e);let s=m();return f(s.onIconPickerSelect(t))}),a(),r(5,"span",33),C(6,"i",34),a()()}if(n&2){let e=m();o(2),M(e.fieldsInfo.iconFont==null?null:e.fieldsInfo.iconFont.fieldTitle),o(),d("placeholder",x(e.fieldsInfo.iconFont==null?null:e.fieldsInfo.iconFont.fieldTitle)),b("ngModel",e.dataModel.iconFont),d("iconPicker",e.dataModel.iconFont)("ipIconPack",le(9,d5))("ipPosition","top")("disabled",!(e.fieldsInfo.iconFont!=null&&e.fieldsInfo.iconFont.accessEditField)),o(3),d("ngClass",e.dataModel.iconFont)}}function _5(n,l){if(n&1){let e=I();r(0,"div",15)(1,"label",35),c(2),a(),r(3,"div",36)(4,"div",37)(5,"input",38,5),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.iconColor,t)||(s.dataModel.iconColor=t),f(t)}),a()(),r(7,"div",39),C(8,"ngx-mat-color-toggle",40)(9,"ngx-mat-color-picker",41,6),a()()()}if(n&2){let e=k(10),i=m();o(2),M(i.fieldsInfo.iconColor==null?null:i.fieldsInfo.iconColor.fieldTitle),o(3),ye("background",i.dataModel.iconColor),d("placeholder",x(i.fieldsInfo.iconColor==null?null:i.fieldsInfo.iconColor.fieldTitle)),b("ngModel",i.dataModel.iconColor),d("ngxMatColorPicker",e)("disabled",!(i.fieldsInfo.iconColor!=null&&i.fieldsInfo.iconColor.accessEditField)),o(3),d("for",e),o(),d("touchUi",!0)("color","primary")}}function g5(n,l){n&1&&(r(0,"mat-error"),c(1," Description is "),r(2,"strong"),c(3),_(4,"translate"),a()()),n&2&&(o(3),M(g(4,1,"MESSAGE.required")))}function h5(n,l){if(n&1){let e=I();r(0,"div",42)(1,"button",43),E("click",function(){u(e);let t=m();return f(t.onFormCancel())}),C(2,"i",44),c(3),_(4,"translate"),a(),r(5,"button",45),C(6,"i",46),c(7),_(8,"translate"),a()()}if(n&2){m();let e=k(9);o(3),y(" ",g(4,3,"ACTION.CANCEL")," "),o(2),d("disabled",!e.form.valid),o(2),y(" ",g(8,5,"ACTION.SAVE")," ")}}var Es=class Es extends Bt{constructor(e,i,t,s,h,p,D,z,he){super(s,new Zn,D,he);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.estateCustomerCategoryService=s;this.estatePropertyTypeService=h;this.cmsToastrService=p;this.publicHelper=D;this.cdr=z;this.translate=he;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new Ft;this.dataModel=new Zn;this.formInfo=new me;this.fileManagerOpenForm=!1;this.dataEstatePropertyTypeUsageIds=[];this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.DataGetAllEstatePropertyUsage()}onActionFileSelected(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estateCustomerCategoryService.setAccessLoad(),this.estateCustomerCategoryService.setAccessDataType(Be.Editor),this.estateCustomerCategoryService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataGetAllEstatePropertyUsage(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(s=>{this.formInfo.formAlert=s}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(s=>{this.publicHelper.processService.processStart(e,s,this.constructorInfoAreaId)});let i=new pe,t=new H;t.propertyName="LinkCustomerCategoryId",t.value=this.requestId,i.filters.push(t),this.estatePropertyTypeService.ServiceGetAll(i).subscribe({next:s=>{this.dataEstatePropertyTypeModel=s.listItems;let h=[];this.dataEstatePropertyTypeModel.forEach(p=>{h.push(p.linkPropertyTypeUsageId)}),this.dataEstatePropertyTypeUsageIds=h,s.isSuccess?this.formInfo.formAlert="":(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(p=>{this.formInfo.formAlert=p}),this.formInfo.formError=s.errorMessage,this.cmsToastrService.typeErrorMessage(s.errorMessage)),this.publicHelper.processService.processStop(e)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.dataModel.iconColor=this.dataModel.iconColor?.toString(),this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estateCustomerCategoryService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.formAlert=t}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e),this.formInfo.formSubmitAllow=!0},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorUserCategorySelect(e){this.dataEstatePropertyTypeUsageModel=e}onIconPickerSelect(e){this.dataModel.iconFont=e}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Es.\u0275fac=function(i){return new(i||Es)(v(be),v(Me),v(J),v($o),v(dn),v(V),v(F),v(B),v(L))},Es.\u0275cmp=R({type:Es,selectors:[["app-estate-customer-category-edit"]],viewQuery:function(i,t){if(i&1&&ee(s5,5),i&2){let s;te(s=ie())&&(t.formGroup=s.first)}},standalone:!1,features:[ne],decls:44,vars:43,consts:[["vform","ngForm"],["LinkMainImageId",""],["Title",""],["Description",""],["IconFont",""],["iconColor",""],["iconColorPicker",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","fa fa-times  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],[4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","form-actions",4,"ngIf"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.iconFont",1,"color-highlight"],["matInput","","type","text","name","dataModel.iconFont","type","text","id","dataModel.iconFont",1,"form-control","validate-name",3,"ngModelChange","iconPickerSelect","ngModel","iconPicker","ipIconPack","ipPosition","placeholder","disabled"],[1,"input-group-addon"],[3,"ngClass"],["for","dataModel.iconColor",1,"color-highlight"],[1,"row","mb-0"],[1,"col-11","pe-0"],["matInput","","type","text","name","dataModel.iconColor","type","text","id","dataModel.iconColor",1,"form-control","validate-name",3,"ngModelChange","ngModel","ngxMatColorPicker","placeholder","disabled"],[1,"col-1","ps-0"],["matSuffix","",3,"for"],[3,"touchUi","color"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=I();r(0,"div",7),C(1,"app-progress-spinner",8),r(2,"div",9)(3,"p",10),c(4),a(),r(5,"p"),c(6),_(7,"translate"),a(),r(8,"form",11,0),E("ngSubmit",function(){return u(s),f(t.onFormSubmit())}),r(10,"div",12)(11,"a",13),_(12,"cmsthumbnail"),S(13,c5,2,4,"img",14),a()(),r(14,"div",15)(15,"label",16),E("click",function(){return u(s),f(t.fileManagerOpenForm=!0)}),c(16),_(17,"translate"),a(),r(18,"input",17,1),_(20,"translate"),w("ngModelChange",function(p){return u(s),T(t.dataModel.linkMainImageId,p)||(t.dataModel.linkMainImageId=p),f(p)}),E("click",function(){return u(s),f(t.fileManagerOpenForm=!0)}),a(),r(21,"cms-file-manager",18),E("itemSelected",function(p){return u(s),f(t.onActionFileSelected(p))}),w("openFormChange",function(p){return u(s),T(t.fileManagerOpenForm,p)||(t.fileManagerOpenForm=p),f(p)}),a()(),r(22,"div",15)(23,"label",19),c(24),a(),r(25,"input",20,2),w("ngModelChange",function(p){return u(s),T(t.dataModel.title,p)||(t.dataModel.title=p),f(p)}),a(),S(27,p5,1,0,"i",21)(28,m5,1,0,"i",22),r(29,"em"),c(30),a(),S(31,u5,5,4,"mat-error",23),a(),S(32,f5,7,10,"div",24)(33,_5,11,11,"div",24),r(34,"div",15)(35,"label",25),c(36),a(),r(37,"textarea",26,3),w("ngModelChange",function(p){return u(s),T(t.dataModel.description,p)||(t.dataModel.description=p),f(p)}),c(39,"        "),a(),r(40,"em"),c(41),a(),S(42,g5,5,3,"mat-error",23),a(),S(43,h5,9,7,"div",27),a()()()}if(i&2){let s=k(26),h=k(38);o(),d("optionsInfoAreaId",t.constructorInfoAreaId),o(3),y(" ",t.formInfo.formTitle," "),o(2),y(" ",g(7,35,"TITLE.Be_Careful_When_Entering_Information")," "),o(5),d("href",x(g(12,37,t.dataModel.linkMainImageIdSrc)),j),o(2),d("ngIf",(t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0),o(3),M(g(17,39,"TITLE.PICTURE")),o(2),d("placeholder",x(g(20,41,"TITLE.Original_File_ID"))),b("ngModel",t.dataModel.linkMainImageId),o(3),d("language",t.appLanguage)("isPopup",!0),b("openForm",t.fileManagerOpenForm),d("tree",t.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",t.selectFileTypeMainImage)("openFilemanagerButtonView",!1),o(3),M(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),b("ngModel",t.dataModel.title),o(2),d("ngIf",!s.value),o(),d("ngIf",s.value),o(2),y("",s.value.length," / 100"),o(),d("ngIf",s.errors==null?null:s.errors.required),o(),d("ngIf",t.fieldsInfo.iconFont==null?null:t.fieldsInfo.iconFont.accessWatchField),o(),d("ngIf",t.fieldsInfo.iconColor==null?null:t.fieldsInfo.iconColor.accessWatchField),o(3),M(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),b("ngModel",t.dataModel.description),o(4),y("",h.value.length," / 500"),o(),d("ngIf",h.errors==null?null:h.errors.required),o(),d("ngIf",t.formInfo.formSubmitAllow)}},dependencies:[se,N,ke,Y,q,Te,de,De,Ae,ce,Pe,we,et,Q,U,ni,$t,Xt,Jt,ut,O,Ie],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});var Jc=Es;function y5(n,l){if(n&1){let e=I();r(0,"button",14),E("click",function(){u(e);let t=m();return f(t.onActionAdd())}),c(1),_(2,"translate"),a()}n&2&&(o(),M(g(2,1,"ACTION.ADD")))}function C5(n,l){if(n&1){let e=I();r(0,"button",15),E("click",function(){u(e);let t=m();return f(t.onActionEdit())}),c(1),_(2,"translate"),a()}n&2&&(o(),M(g(2,1,"ACTION.EDIT")))}function S5(n,l){if(n&1){let e=I();r(0,"button",16),E("click",function(){u(e);let t=m();return f(t.onActionDelete())}),c(1),_(2,"translate"),a()}n&2&&(o(),M(g(2,1,"ACTION.DELETE")))}function v5(n,l){if(n&1){let e=I();r(0,"mat-tree-node",17),E("click",function(){let t=u(e).$implicit,s=m();return f(s.onActionSelect(t))}),C(1,"button",18)(2,"i",19),c(3),a()}if(n&2){let e=l.$implicit,i=l.dataIndex,t=m();Se("ntk-tree-odd",i%2)("ntk-tree-even",!(i%2))("ntk-tree-selected",(t.dataModelSelect.id==null?null:t.dataModelSelect.id.length)>0&&(t.dataModelSelect==null?null:t.dataModelSelect.id)===e.id),o(2),ye("color",e.iconColor),d("ngClass",e.iconFont),o(),y(" \xA0\xA0\xA0\xA0 ",e.title," ")}}function E5(n,l){if(n&1){let e=I();r(0,"mat-nested-tree-node")(1,"li")(2,"div",20),E("click",function(){let t=u(e).$implicit,s=m();return f(s.onActionSelect(t))}),r(3,"button",21),E("click",function(){let t=u(e).$implicit,s=m();return f(s.onActionSelect(t))}),r(4,"mat-icon",22),c(5),a()(),C(6,"i",19),c(7),a(),r(8,"ul"),Qe(9,23),a()()()}if(n&2){let e=l.$implicit,i=m();o(2),Se("ntk-tree-selected",(i.dataModelSelect==null||i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0&&(i.dataModelSelect==null?null:i.dataModelSelect.id)===e.id),o(),yt("aria-label","Toggle "+e.title),o(2),y(" ",i.treeControl.isExpanded(e)?"expand_more":"chevron_right"," "),o(),ye("color",e.iconColor),d("ngClass",e.iconFont),o(),y(" \xA0\xA0\xA0\xA0 ",e.title," "),o(),Se("category-tree-invisible",!i.treeControl.isExpanded(e))}}var Is=class Is{constructor(l,e,i,t,s,h,p,D,z,he,je){this.cmsToastrService=l;this.coreEnumService=e;this.categoryService=i;this.cmsConfirmationDialogService=t;this.dialog=s;this.cdr=h;this.publicHelper=p;this.themeService=D;this.translate=z;this.tokenHelper=he;this.cmsStoreService=je;this.constructorInfoAreaId=this.constructor.name;this.dataModelSelect=new Zn;this.dataModelResult=new G;this.filterModel=new pe;this.treeControl=new xo(l=>null);this.dataSource=new Oo;this.optionChange=new Xe;this.optionReload=()=>this.onActionButtonReload();this.hasChild=(l,e)=>!1;this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(l){this.onActionSelectForce(l)}ngOnInit(){setTimeout(()=>{this.DataGetAll()},500),this.cmsApiStoreSubscribe=this.cmsStoreService.getState(l=>l.tokenInfoStore).subscribe(l=>re(this,null,function*(){this.DataGetAll()}))}ngOnDestroy(){this.cmsApiStoreSubscribe&&this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.filterModel.rowPerPage=200,this.filterModel.accessLoad=!0;let l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(l,e,this.constructorInfoAreaId)}),this.categoryService.ServiceGetAll(this.filterModel).subscribe({next:e=>{e.isSuccess?(this.dataModelResult=e,this.dataSource.data=this.dataModelResult.listItems):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(l)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(l,!1)}})}onActionSelect(l){this.dataModelSelect=l,this.optionChange.emit(this.dataModelSelect)}onActionButtonReload(){this.onActionSelect(null),this.dataModelSelect=new Zn,this.DataGetAll()}onActionSelectForce(l){}onActionAdd(){var l="";this.publicHelper.isMobile?l="dialog-fullscreen":l="dialog-min",this.dialog.open(Zc,{height:"90%",panelClass:l,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(i=>{i&&i.dialogChangedDate&&this.DataGetAll()})}onActionEdit(){let l="";if(this.dataModelSelect&&this.dataModelSelect.id&&this.dataModelSelect.id.length>0&&(l=this.dataModelSelect.id),l===""){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorCategoryNotSelected").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(Jc,{height:"90%",panelClass:e,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:l}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionDelete(){let l="";if(this.dataModelSelect&&this.dataModelSelect.id&&this.dataModelSelect.id.length>0&&(l=this.dataModelSelect.id),l===""){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorCategoryNotSelected").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}var e="",i="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(t=>{e=t["MESSAGE.Please_Confirm"],i=t["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.dataModelSelect.title+" ) "}),this.cmsConfirmationDialogService.confirm(e,i).then(t=>{if(t){let s=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(h=>{this.publicHelper.processService.processStart(s,h,this.constructorInfoAreaId)}),this.categoryService.ServiceDelete(this.dataModelSelect.id).subscribe({next:h=>{h.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(s)},error:h=>{this.cmsToastrService.typeError(h),this.publicHelper.processService.processStop(s,!1)}})}}).catch(()=>{})}};Is.\u0275fac=function(e){return new(e||Is)(v(V),v(J),v($o),v(Mt),v(xe),v(B),v(F),v(kt),v(L),v(K),v(Z))},Is.\u0275cmp=R({type:Is,selectors:[["app-estate-customer-category-tree"]],inputs:{optionSelectForce:"optionSelectForce",optionReload:"optionReload"},outputs:{optionChange:"optionChange"},standalone:!1,decls:16,vars:13,consts:[[3,"optionHeaderDisplay","optionActionMainDisplay","optionFooterDisplay"],["cms-tree-header",""],["cms-tree-action",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-teal",3,"click",4,"ngIf"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-magenta",3,"click",4,"ngIf"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-red",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-tree-body","",1,"loader-container"],[3,"optionsInfoAreaId"],[1,"category-tree","cursor-pointer",3,"dataSource","treeControl"],["matTreeNodePadding","",3,"ntk-tree-odd","ntk-tree-even","ntk-tree-selected","click",4,"matTreeNodeDef"],[4,"matTreeNodeDef","matTreeNodeDefWhen"],["cms-tree-footer",""],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],["matTreeNodePadding","",3,"click"],["type","button","mat-icon-button","","disabled",""],["aria-hidden","true",3,"ngClass"],[1,"mat-tree-node",3,"click"],["type","button","mat-icon-button","","matTreeNodeToggle","",3,"click"],[1,"mat-icon-rtl-mirror"],["matTreeNodeOutlet",""]],template:function(e,i){e&1&&(r(0,"app-cms-html-tree",0),A(1,1),c(2),_(3,"translate"),P(),A(4,2),S(5,y5,3,3,"button",3)(6,C5,3,3,"button",4)(7,S5,3,3,"button",5),r(8,"a",6),E("click",function(){return i.onActionButtonReload()}),C(9,"i",7),a(),P(),A(10,8),C(11,"app-progress-spinner",9),r(12,"mat-tree",10),S(13,v5,4,10,"mat-tree-node",11)(14,E5,10,10,"mat-nested-tree-node",12),a(),P(),Qe(15,13),a()),e&2&&(d("optionHeaderDisplay",!0)("optionActionMainDisplay",!0)("optionFooterDisplay",!1),o(2),y(" ",g(3,11,"TABLE."+(i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.moduleEntityName))," "),o(3),d("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessAddRow),o(),d("ngIf",(i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessEditRow)&&i.dataModelSelect.id&&(i.dataModelSelect==null||i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0),o(),d("ngIf",(i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessDeleteRow)&&i.dataModelSelect.id&&(i.dataModelSelect==null||i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0),o(4),d("optionsInfoAreaId",i.constructorInfoAreaId),o(),d("dataSource",i.dataSource)("treeControl",i.treeControl),o(2),d("matTreeNodeDefWhen",i.hasChild))},dependencies:[se,N,Je,Ee,ko,Po,Do,Vo,Lo,Ao,Ro,U,Ho,O],encapsulation:2});var Xc=Is;var M5=()=>["expandedTitle"],b5=()=>["expandedDetail"],T5=()=>[5,10,20,100],H0=n=>({display:n});function w5(n,l){if(n&1){let e=I();r(0,"a",28),E("click",function(){u(e);let t=m();return f(t.onActionButtonInResponsible(!t.searchInResponsibleChecked))}),C(1,"mat-slide-toggle",29),c(2),_(3,"translate"),a()}if(n&2){let e=m();o(),d("checked",e.searchInResponsibleChecked),o(),y(" ",g(3,2,"ACTION.InResponsible")," ")}}function x5(n,l){if(n&1){let e=I();r(0,"div",34)(1,"a",82),E("click",function(t){u(e);let s=m();return f(s.onActionButtonNewRow(t))}),C(2,"i",83)(3,"br"),a(),r(4,"p",36),c(5),_(6,"translate"),a()()}n&2&&(o(5),M(g(6,1,"ACTION.ADD")))}function A5(n,l){if(n&1){let e=I();r(0,"div",34)(1,"a",84),E("click",function(t){u(e);let s=m();return f(s.onActionButtonEditRow(s.tableRowSelected,t))}),C(2,"i",85)(3,"br"),a(),r(4,"p",36),c(5),_(6,"translate"),a()()}n&2&&(o(5),M(g(6,1,"ACTION.EDIT")))}function P5(n,l){if(n&1){let e=I();r(0,"a",86),E("click",function(t){u(e);let s=m();return f(s.onActionButtonCopyNewRow(s.tableRowSelected,t))}),C(1,"i",87)(2,"br"),a()}}function k5(n,l){if(n&1){let e=I();r(0,"div",34)(1,"a",88),E("click",function(){u(e);let t=m();return f(t.onActionButtonDeleteRow(t.tableRowSelected))}),C(2,"i",89)(3,"br"),a(),r(4,"p",36),c(5),_(6,"translate"),a()()}n&2&&(o(5),M(g(6,1,"ACTION.DELETE")))}function D5(n,l){if(n&1){let e=I();r(0,"mat-icon",90),E("click",function(){u(e);let t=m();return f(t.filteModelContent.caseCode="")}),c(1," close"),a()}}function R5(n,l){if(n&1){let e=I();r(0,"app-cms-user-selector",92),_(1,"translate"),E("optionChange",function(t){u(e);let s=m(2);return f(s.filteModelContent.linkResponsibleUserId=t==null?null:t.id)}),a()}n&2&&d("optionPlaceholder",g(1,1,"TITLE.InResponsibleTo"))}function L5(n,l){if(n&1){let e=I();r(0,"div",100)(1,"label",101),c(2),a(),r(3,"input",102,3),w("ngModelChange",function(t){u(e);let s=m(2);return T(s.filteModelContent.createdYaer,t)||(s.filteModelContent.createdYaer=t),f(t)}),a()()}if(n&2){let e=m(2);o(2),M(e.PropertyTypeSelected.titleCreatedYaer),o(),d("placeholder",x(e.fieldsInfo.createdYaer==null?null:e.fieldsInfo.createdYaer.fieldTitle)),b("ngModel",e.filteModelContent.createdYaer)}}function V5(n,l){if(n&1){let e=I();r(0,"div",100)(1,"label",103),c(2),a(),r(3,"input",104,4),w("ngModelChange",function(t){u(e);let s=m(2);return T(s.filteModelContent.partition,t)||(s.filteModelContent.partition=t),f(t)}),a()()}if(n&2){let e=m(2);o(2),M(e.PropertyTypeSelected.titlePartition),o(),d("placeholder",x(e.PropertyTypeSelected.titlePartition)),b("ngModel",e.filteModelContent.partition)}}function O5(n,l){if(n&1){let e=I();r(0,"div",100)(1,"label",105),c(2),a(),r(3,"input",106,5),w("ngModelChange",function(t){u(e);let s=m(2);return T(s.filteModelContent.area,t)||(s.filteModelContent.area=t),f(t)}),a(),r(5,"em"),c(6),a()()}if(n&2){let e=m(2);o(2),M(e.fieldsInfo.area==null?null:e.fieldsInfo.area.fieldTitle),o(),d("placeholder",x(e.fieldsInfo.area==null?null:e.fieldsInfo.area.fieldTitle)),b("ngModel",e.filteModelContent.area),o(3),M(e.fieldsInfo.area==null?null:e.fieldsInfo.area.fieldDescription)}}function F5(n,l){if(n&1){let e=I();r(0,"div",100)(1,"label",107),c(2),_(3,"translate"),a(),r(4,"input",108,6),w("ngModelChange",function(t){u(e);let s=m(2);return T(s.filteModelContent.salePriceMin,t)||(s.filteModelContent.salePriceMin=t),f(t)}),a()()}if(n&2){let e=m(2);o(2),y("",g(3,2,"TITLE.SalePriceMin")," "),o(2),b("ngModel",e.filteModelContent.salePriceMin)}}function B5(n,l){if(n&1){let e=I();r(0,"div",100)(1,"label",109),c(2),_(3,"translate"),a(),r(4,"input",110,7),w("ngModelChange",function(t){u(e);let s=m(2);return T(s.filteModelContent.rentPriceMin,t)||(s.filteModelContent.rentPriceMin=t),f(t)}),a()()}if(n&2){let e=m(2);o(2),M(g(3,2,"TITLE.RentPriceMin")),o(2),b("ngModel",e.filteModelContent.rentPriceMin)}}function N5(n,l){if(n&1){let e=I();r(0,"div",100)(1,"label",111),c(2,"ImageThumbnailSizeHeight"),a(),r(3,"input",112,8),w("ngModelChange",function(t){u(e);let s=m(2);return T(s.filteModelContent.depositPriceMin,t)||(s.filteModelContent.depositPriceMin=t),f(t)}),a()()}if(n&2){let e=m(2);o(3),b("ngModel",e.filteModelContent.depositPriceMin)}}function H5(n,l){if(n&1){let e=I();r(0,"div",100)(1,"label",113),c(2),_(3,"translate"),a(),r(4,"input",114,9),w("ngModelChange",function(t){u(e);let s=m(2);return T(s.filteModelContent.periodPriceMin,t)||(s.filteModelContent.periodPriceMin=t),f(t)}),a()()}if(n&2){let e=m(2);o(2),y("",g(3,2,"TITLE.PeriodPriceMin")," "),o(2),b("ngModel",e.filteModelContent.periodPriceMin)}}function W5(n,l){if(n&1){let e=I();r(0,"div",100)(1,"label",115),c(2),_(3,"translate"),a(),r(4,"input",116,10),w("ngModelChange",function(t){u(e);let s=m(2);return T(s.filteModelContent.salePriceMax,t)||(s.filteModelContent.salePriceMax=t),f(t)}),a()()}if(n&2){let e=m(2);o(2),y(" ",g(3,2,"TITLE.SalePriceMax")),o(2),b("ngModel",e.filteModelContent.salePriceMax)}}function G5(n,l){if(n&1){let e=I();r(0,"div",100)(1,"label",117),c(2),_(3,"translate"),a(),r(4,"input",118,11),w("ngModelChange",function(t){u(e);let s=m(2);return T(s.filteModelContent.rentPriceMax,t)||(s.filteModelContent.rentPriceMax=t),f(t)}),a()()}if(n&2){let e=m(2);o(2),y("",g(3,2,"TITLE.RentPriceMax")," "),o(2),b("ngModel",e.filteModelContent.rentPriceMax)}}function U5(n,l){if(n&1){let e=I();r(0,"div",100)(1,"label",119),c(2),_(3,"translate"),a(),r(4,"input",120,12),w("ngModelChange",function(t){u(e);let s=m(2);return T(s.filteModelContent.depositPriceMax,t)||(s.filteModelContent.depositPriceMax=t),f(t)}),a()()}if(n&2){let e=m(2);o(2),M(g(3,2,"TITLE.DepositPriceMax")),o(2),b("ngModel",e.filteModelContent.depositPriceMax)}}function j5(n,l){if(n&1){let e=I();r(0,"div",100)(1,"label",121),c(2),_(3,"translate"),a(),r(4,"input",122,13),w("ngModelChange",function(t){u(e);let s=m(2);return T(s.filteModelContent.periodPriceMax,t)||(s.filteModelContent.periodPriceMax=t),f(t)}),a()()}if(n&2){let e=m(2);o(2),y("",g(3,2,"TITLE.PeriodPriceMax")," "),o(2),b("ngModel",e.filteModelContent.periodPriceMax)}}function q5(n,l){if(n&1){let e=I();r(0,"div",44),C(1,"i",131),c(2,"\xA0 "),r(3,"app-input-string",132),w("modelChange",function(t){u(e);let s=m().$implicit,h=m(3);return T(h.propertyDetails[s.id],t)||(h.propertyDetails[s.id]=t),f(t)}),a()()}if(n&2){let e=m().$implicit,i=m(3);o(),ye("color",e.iconColor),d("ngClass",e.iconFont),o(2),Vt(ve("color:'",e.iconColor,"';")),b("model",i.propertyDetails[e.id]),d("optionForceUseDefaultValue",e.configValueForceUseDefaultValue)("optionMultipleChoice",e.configValueMultipleChoice)("optionDefaultValue",e.configValueDefaultValues)("optionRequired",e.required)("optionLabel",e.title)}}function Q5(n,l){if(n&1){let e=I();r(0,"div",44),C(1,"i",131),c(2,"\xA0 "),r(3,"app-input-int",133),w("modelChange",function(t){u(e);let s=m().$implicit,h=m(3);return T(h.propertyDetails[s.id],t)||(h.propertyDetails[s.id]=t),f(t)}),a()()}if(n&2){let e=m().$implicit,i=m(3);o(),ye("color",e.iconColor),d("ngClass",e.iconFont),o(2),Vt(ve("color:'",e.iconColor,"';")),b("model",i.propertyDetails[e.id]),d("optionRequired",e.required)("optionLabel",e.title)}}function z5(n,l){if(n&1){let e=I();r(0,"div",44),C(1,"i",131),c(2,"\xA0 "),r(3,"app-input-boolean",134),w("modelChange",function(t){u(e);let s=m().$implicit,h=m(3);return T(h.propertyDetails[s.id],t)||(h.propertyDetails[s.id]=t),f(t)}),c(4),a()()}if(n&2){let e=m().$implicit,i=m(3);o(),ye("color",e.iconColor),d("ngClass",e.iconFont),o(2),b("model",i.propertyDetails[e.id]),o(),y("",e.title," ")}}function Y5(n,l){if(n&1){let e=I();r(0,"div",44),C(1,"i",131),c(2,"\xA0 "),r(3,"app-input-float",133),w("modelChange",function(t){u(e);let s=m().$implicit,h=m(3);return T(h.propertyDetails[s.id],t)||(h.propertyDetails[s.id]=t),f(t)}),a()()}if(n&2){let e=m().$implicit,i=m(3);o(),ye("color",e.iconColor),d("ngClass",e.iconFont),o(2),Vt(ve("color:'",e.iconColor,"';")),b("model",i.propertyDetails[e.id]),d("optionRequired",e.required)("optionLabel",e.title)}}function K5(n,l){if(n&1){let e=I();r(0,"div",44),C(1,"i",131),c(2,"\xA0 "),r(3,"label"),c(4),a(),r(5,"app-input-date",135),w("modelChange",function(t){u(e);let s=m().$implicit,h=m(3);return T(h.propertyDetails[s.id],t)||(h.propertyDetails[s.id]=t),f(t)}),a()()}if(n&2){let e=m().$implicit,i=m(3);o(),ye("color",e.iconColor),d("ngClass",e.iconFont),o(2),Vt(ve("color:'",e.iconColor,"';")),o(),M(e.title),o(),b("model",i.propertyDetails[e.id]),d("optionRequired",e.required)}}function Z5(n,l){if(n&1){let e=I();r(0,"div",44),C(1,"i",131),c(2,"\xA0 "),r(3,"app-input-textarea",133),w("modelChange",function(t){u(e);let s=m().$implicit,h=m(3);return T(h.propertyDetails[s.id],t)||(h.propertyDetails[s.id]=t),f(t)}),a()()}if(n&2){let e=m().$implicit,i=m(3);o(),ye("color",e.iconColor),d("ngClass",e.iconFont),o(2),Vt(ve("color:'",e.iconColor,"';")),b("model",i.propertyDetails[e.id]),d("optionRequired",e.required)("optionLabel",e.title)}}function J5(n,l){if(n&1){let e=I();r(0,"div",44),C(1,"i",131),c(2,"\xA0 "),r(3,"app-input-string",132),w("modelChange",function(t){u(e);let s=m().$implicit,h=m(3);return T(h.propertyDetails[s.id],t)||(h.propertyDetails[s.id]=t),f(t)}),a()()}if(n&2){let e=m().$implicit,i=m(3);o(),ye("color",e.iconColor),d("ngClass",e.iconFont),o(2),Vt(ve("color:'",e.iconColor,"';")),b("model",i.propertyDetails[e.id]),d("optionForceUseDefaultValue",e.configValueForceUseDefaultValue)("optionMultipleChoice",e.configValueMultipleChoice)("optionDefaultValue",e.configValueDefaultValues)("optionRequired",e.required)("optionLabel",e.title)}}function X5(n,l){if(n&1&&(A(0)(1,128),S(2,q5,4,12,"div",129)(3,Q5,4,9,"div",129)(4,z5,5,5,"div",129)(5,Y5,4,9,"div",129)(6,K5,6,9,"div",129)(7,Z5,4,9,"div",129)(8,J5,4,12,"div",130),P()()),n&2){let e=l.$implicit,i=m(3);o(),d("ngSwitch",e.inputDataType),o(),d("ngSwitchCase",i.enumInputDataType.String),o(),d("ngSwitchCase",i.enumInputDataType.Int),o(),d("ngSwitchCase",i.enumInputDataType.Boolean),o(),d("ngSwitchCase",i.enumInputDataType.Float),o(),d("ngSwitchCase",i.enumInputDataType.Date),o(),d("ngSwitchCase",i.enumInputDataType.TextArea)}}function $5(n,l){if(n&1){let e=I();r(0,"button",136),E("click",function(){u(e);let t=m(3);return f(t.prevStep())}),c(1),_(2,"translate"),a()}n&2&&(o(),M(g(2,1,"ACTION.PREVIOUS")))}function eV(n,l){if(n&1){let e=I();r(0,"button",137),E("click",function(){u(e);let t=m(3);return f(t.nextStep())}),c(1),_(2,"translate"),a()}n&2&&(o(),M(g(2,1,"ACTION.NEXT")))}function tV(n,l){if(n&1){let e=I();r(0,"button",137),E("click",function(){u(e);let t=m(3);return f(t.nextStep())}),c(1),_(2,"translate"),a()}n&2&&(o(),M(g(2,1,"ACTION.END")))}function iV(n,l){if(n&1){let e=I();r(0,"mat-expansion-panel",123),E("opened",function(){let t=u(e).index,s=m(2);return f(s.setStep(t))}),r(1,"mat-expansion-panel-header")(2,"mat-panel-title"),c(3),a(),r(4,"mat-panel-description"),c(5),r(6,"mat-icon",124),c(7),a()()(),S(8,X5,9,7,"ng-container",125),r(9,"mat-action-row"),S(10,$5,3,3,"button",126)(11,eV,3,3,"button",127)(12,tV,3,3,"button",127),a()()}if(n&2){let e=l.$implicit,i=l.index,t=m(2);d("expanded",t.step===i),o(3),y(" ",e.title," "),o(2),y(" ",e.description," "),o(2),M(e.iconFont),o(),d("ngForOf",e.propertyDetails),o(2),d("ngIf",i>0),o(),d("ngIf",i+1<t.dataModelPropertyDetailGroups.length),o(),d("ngIf",i+1===t.dataModelPropertyDetailGroups.length)}}function nV(n,l){if(n&1){let e=I();r(0,"div")(1,"P"),c(2),_(3,"translate"),a(),S(4,R5,2,3,"app-cms-user-selector",91),r(5,"app-cms-location-autocomplete",92),_(6,"translate"),E("optionChange",function(t){u(e);let s=m();return f(s.onActionSelectorLocation(t))}),a(),C(7,"hr"),r(8,"app-estate-property-type-usage-selector",93),_(9,"translate"),E("optionChange",function(t){u(e);let s=m();return f(s.onActionSelectorSelectUsage(t))}),a(),C(10,"br")(11,"br")(12,"br"),r(13,"app-estate-property-type-landuse-selector",93),_(14,"translate"),E("optionChange",function(t){u(e);let s=m();return f(s.onActionSelectorSelectLanduse(t))}),a(),C(15,"br")(16,"br")(17,"br"),r(18,"app-estate-contract-type-selector",93),_(19,"translate"),E("optionChange",function(t){u(e);let s=m();return f(s.onActionSelectorContarctType(t))}),a(),C(20,"br")(21,"br")(22,"br"),S(23,L5,5,4,"div",94)(24,V5,5,4,"div",94)(25,O5,7,5,"div",94),C(26,"hr"),r(27,"app-cms-currency-selector",95),_(28,"translate"),E("optionChange",function(t){u(e);let s=m();return f(s.onActionSelectCurrency(t))}),a(),r(29,"div",96)(30,"div",97),S(31,F5,6,4,"div",94)(32,B5,6,4,"div",94)(33,N5,5,1,"div",94)(34,H5,6,4,"div",94),a(),r(35,"div",97),S(36,W5,6,4,"div",94)(37,G5,6,4,"div",94)(38,U5,6,4,"div",94)(39,j5,6,4,"div",94),a(),r(40,"mat-accordion",98),S(41,iV,13,8,"mat-expansion-panel",99),C(42,"br"),a()()()}if(n&2){let e=m();o(2),y("",g(3,24,"MESSAGE.Selecting_any_of_the_following_will_make_the_search_results_range_smaller")," "),o(2),d("ngIf",e.tokenHelper.isAdminSite),o(),d("optionPlaceholder",g(6,26,"TITLE.Region")),o(3),d("optionTypeView",2)("optionPlaceholder",g(9,28,"TITLE.Type_Usage")),o(5),d("optionTypeView",2)("optionPlaceholder",g(14,30,"TITLE.Property_Type")),o(5),d("optionTypeView",2)("optionPlaceholder",g(19,32,"TITLE.Transaction_type")),o(5),d("ngIf",e.filteModelContent.linkPropertyTypeLanduseId&&(e.PropertyTypeSelected==null||e.PropertyTypeSelected.titleCreatedYaer==null?null:e.PropertyTypeSelected.titleCreatedYaer.length)>1),o(),d("ngIf",e.filteModelContent.linkPropertyTypeLanduseId&&(e.PropertyTypeSelected==null||e.PropertyTypeSelected.titlePartition==null?null:e.PropertyTypeSelected.titlePartition.length)>1),o(),d("ngIf",e.fieldsInfo.area==null?null:e.fieldsInfo.area.accessWatchField),o(2),d("optionSelectFirstItem",!1)("optionSelectForce",e.filteModelContent.linkCoreCurrencyId)("optionPlaceholder",g(28,34,"TITLE.Specify_the_transaction_currency")),o(4),d("ngIf",e.contractTypeSelected==null?null:e.contractTypeSelected.hasSalePrice),o(),d("ngIf",e.contractTypeSelected==null?null:e.contractTypeSelected.hasRentPrice),o(),d("ngIf",e.contractTypeSelected==null?null:e.contractTypeSelected.hasDepositPrice),o(),d("ngIf",e.contractTypeSelected==null?null:e.contractTypeSelected.hasDepositPrice),o(2),d("ngIf",e.contractTypeSelected==null?null:e.contractTypeSelected.hasSalePrice),o(),d("ngIf",e.contractTypeSelected==null?null:e.contractTypeSelected.hasRentPrice),o(),d("ngIf",e.contractTypeSelected==null?null:e.contractTypeSelected.hasDepositPrice),o(),d("ngIf",e.contractTypeSelected==null?null:e.contractTypeSelected.hasDepositPrice),o(2),d("ngForOf",e.dataModelPropertyDetailGroups)}}function oV(n,l){n&1&&(r(0,"mat-header-cell"),c(1),_(2,"translate"),a()),n&2&&(o(),y(" ",g(2,1,"TITLE.MENU")," "))}function rV(n,l){if(n&1){let e=I();r(0,"mat-cell")(1,"button",138),E("click",function(){let t=u(e).$implicit,s=m();return f(s.onActionTableRowSelectActionMenu(t))}),C(2,"i",139),a()()}}function aV(n,l){if(n&1&&(r(0,"mat-header-cell",140),c(1),a()),n&2){let e=m();o(),y(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function lV(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),y(" ",e.id," ")}}function sV(n,l){if(n&1&&(r(0,"mat-header-cell",140),c(1),a()),n&2){let e=m();o(),y(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function dV(n,l){if(n&1&&(r(0,"mat-cell"),c(1),_(2,"cmssiteinfo"),_(3,"async"),a()),n&2){let e=l.$implicit;o(),y(" ",g(3,3,g(2,1,e.linkSiteId))," ")}}function cV(n,l){if(n&1&&(r(0,"mat-header-cell",140),c(1),a()),n&2){let e=m();o(),y(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function pV(n,l){if(n&1&&C(0,"select",143),n&2){let e=m().$implicit,i=m();d("contentService",i.contentService)("row",e)("ngStyle",ze(3,H0,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function mV(n,l){if(n&1&&(r(0,"mat-cell",141),_(1,"statusCellClass"),C(2,"i",141),_(3,"statusIconClass"),S(4,pV,1,5,"select",142),a()),n&2){let e=l.$implicit,i=m();d("ngClass",g(1,3,e.recordStatus)),o(2),d("ngClass",g(3,5,e.recordStatus)),o(2),d("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessEditRow)}}function uV(n,l){if(n&1&&(r(0,"mat-header-cell",140),c(1),a()),n&2){let e=m();o(),y(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," ")}}function fV(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),y(" ",e.title," ")}}function _V(n,l){if(n&1&&(r(0,"mat-header-cell",140),c(1),a()),n&2){let e=m();o(),y(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function gV(n,l){if(n&1&&(r(0,"mat-cell"),c(1),_(2,"localeDateTime"),a()),n&2){let e=l.$implicit;o(),y(" ",g(2,1,e.createdDate)," ")}}function hV(n,l){if(n&1&&(r(0,"mat-header-cell",140),c(1),a()),n&2){let e=m();o(),y(" ",e.fieldsInfo.scoreRushToBuy==null?null:e.fieldsInfo.scoreRushToBuy.fieldTitle," ")}}function yV(n,l){if(n&1&&(r(0,"mat-cell",141),c(1),a()),n&2){let e=l.$implicit;d("ngClass","cms-cell-score-"+e.scoreRushToBuy),o(),y(" ",e.scoreRushToBuy," ")}}function CV(n,l){if(n&1&&(r(0,"mat-header-cell",140),c(1),a()),n&2){let e=m();o(),y(" ",e.fieldsInfo.scorePurchaseDecision==null?null:e.fieldsInfo.scorePurchaseDecision.fieldTitle," ")}}function SV(n,l){if(n&1&&(r(0,"mat-cell",141),c(1),a()),n&2){let e=l.$implicit;d("ngClass","cms-cell-score-"+e.scorePurchaseDecision),o(),y(" ",e.scorePurchaseDecision," ")}}function vV(n,l){if(n&1&&(r(0,"mat-header-cell",140),c(1),a()),n&2){let e=m();o(),y(" ",e.fieldsInfo.scoreLiquidityPower==null?null:e.fieldsInfo.scoreLiquidityPower.fieldTitle," ")}}function EV(n,l){if(n&1&&(r(0,"mat-cell",141),c(1),a()),n&2){let e=l.$implicit;d("ngClass","cms-cell-score-"+e.scoreLiquidityPower),o(),y(" ",e.scoreLiquidityPower," ")}}function IV(n,l){if(n&1&&(r(0,"mat-header-cell",140),c(1),a()),n&2){let e=m();o(),y(" ",e.fieldsInfo.scorePurchasingPower==null?null:e.fieldsInfo.scorePurchasingPower.fieldTitle," ")}}function MV(n,l){if(n&1&&(r(0,"mat-cell",141),c(1),a()),n&2){let e=l.$implicit;d("ngClass","cms-cell-score-"+e.scorePurchasingPower),o(),y(" ",e.scorePurchasingPower," ")}}function bV(n,l){if(n&1&&(r(0,"mat-header-cell",140),c(1),a()),n&2){let e=m();o(),y(" ",e.fieldsInfo.updatedDate==null?null:e.fieldsInfo.updatedDate.fieldTitle," ")}}function TV(n,l){if(n&1&&(r(0,"mat-cell",144),c(1),_(2,"localeDateTime"),a()),n&2){let e=l.$implicit;o(),y(" ",g(2,1,e.updatedDate)," ")}}function wV(n,l){if(n&1&&(r(0,"mat-header-cell",140),c(1),a()),n&2){let e=m();o(),y(" ",e.fieldsInfo.caseCode==null?null:e.fieldsInfo.caseCode.fieldTitle," ")}}function xV(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),y(" ",e.caseCode," ")}}function AV(n,l){n&1&&(r(0,"mat-header-cell",145),c(1),_(2,"translate"),a()),n&2&&(o(),y(" ",g(2,1,"TITLE.OPTION")," "))}function PV(n,l){if(n&1&&(r(0,"mat-cell",146)(1,"button",147)(2,"mat-icon"),c(3,"more_vert"),a()(),C(4,"mat-menu",null,14),a()),n&2){let e=k(5);o(),d("matMenuTriggerFor",e)}}function kV(n,l){n&1&&(r(0,"mat-header-cell",140),c(1),_(2,"translate"),a()),n&2&&(o(),y(" ",g(2,1,"TITLE.LINKTO")," "))}function DV(n,l){if(n&1){let e=I();r(0,"mat-cell")(1,"button",148),E("click",function(){let t=u(e).$implicit,s=m();return f(s.onActionButtonLinkTo(t))}),r(2,"mat-icon",149),c(3,"\u2197"),a()()()}}function RV(n,l){n&1&&(r(0,"mat-header-cell",140),c(1),_(2,"translate"),a()),n&2&&(o(),y(" ",g(2,1,"TITLE.QUICK_VIEW")," "))}function LV(n,l){if(n&1){let e=I();r(0,"mat-cell")(1,"button",150),E("click",function(){let t=u(e).$implicit,s=m();return f(s.onActionButtonQuickViewRow(t))}),r(2,"mat-icon",149),c(3,"visibility"),a()()()}}function VV(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),y(" ",e.title," ")}}function OV(n,l){if(n&1&&(C(0,"img",156),_(1,"cmsthumbnail")),n&2){let e=m().$implicit;d("src",x(g(1,2,e.linkMainImageIdSrc)),j)}}function FV(n,l){if(n&1&&(r(0,"tr"),C(1,"td"),r(2,"td"),c(3),a()()),n&2){let e=m().$implicit,i=m();o(3),$("",i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle," : ",e.description," ")}}function BV(n,l){if(n&1&&(r(0,"tr"),C(1,"td"),r(2,"td"),c(3),_(4,"translate"),a()()),n&2){let e=m().$implicit;o(3),$("",g(4,2,"TITLE.Description_Hidden")," : ",e.descriptionHidden," ")}}function NV(n,l){if(n&1&&(r(0,"tr"),C(1,"td"),r(2,"td"),c(3),_(4,"translate"),a()()),n&2){let e=m().$implicit;o(3),$("",g(4,2,"TITLE.Contact_Mobiles")," : ",e.contactMobiles," ")}}function HV(n,l){if(n&1){let e=I();r(0,"mat-cell")(1,"div")(2,"table")(3,"tr")(4,"th"),S(5,OV,2,4,"img",151),a(),r(6,"th")(7,"span",152),E("click",function(){u(e);let t=m();return f(t.onActionCopied())}),C(8,"i",153),a(),c(9),a()(),r(10,"tr"),C(11,"td"),r(12,"td"),c(13),a()(),S(14,FV,4,2,"tr",50)(15,BV,5,4,"tr",50)(16,NV,5,4,"tr",50),r(17,"tr"),C(18,"td"),r(19,"td",154),c(20),_(21,"cmsuserinfo"),_(22,"async"),a()(),r(23,"tr")(24,"td",155),c(25),_(26,"translate"),a(),r(27,"td",155),c(28),a()(),r(29,"tr"),C(30,"td")(31,"td"),a()()()()}if(n&2){let e=l.$implicit,i=m();o(5),d("ngIf",(e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0),o(2),d("cdkCopyToClipboard",e.id),o(2),y(" ",e.id," "),o(4),$("",i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle," : ",e.title," "),o(),d("ngIf",e.description),o(),d("ngIf",i.fieldsInfo.descriptionHidden==null?null:i.fieldsInfo.descriptionHidden.accessWatchField),o(),d("ngIf",i.fieldsInfo.contactMobiles==null?null:i.fieldsInfo.contactMobiles.accessWatchField),o(4),y(" ",g(22,13,g(21,11,e.createdBy))," "),o(5),y("",g(26,15,"TITLE.HISTORY")," :"),o(3),y(" ",e.historyTotalCount," ")}}function WV(n,l){n&1&&C(0,"mat-header-row")}function GV(n,l){if(n&1){let e=I();r(0,"mat-row",157),E("click",function(){let t=u(e).$implicit,s=m();return f(s.onActionTableRowSelect(t))})("mouseenter",function(){let t=u(e).$implicit,s=m();return f(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=u(e).$implicit,s=m();return f(s.onActionTableRowMouseLeave(t))}),a()}if(n&2){let e=l.$implicit,i=l.dataIndex,t=m();Se("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",e.id===(t.tableRowSelected==null?null:t.tableRowSelected.id))}}function UV(n,l){if(n&1){let e=I();r(0,"mat-row",157),E("click",function(){let t=u(e).$implicit,s=m();return f(s.onActionTableRowSelect(t))})("mouseenter",function(){let t=u(e).$implicit,s=m();return f(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=u(e).$implicit,s=m();return f(s.onActionTableRowMouseLeave(t))}),a()}if(n&2){let e=l.$implicit,i=l.dataIndex,t=m();Se("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",e.id===(t.tableRowSelected==null?null:t.tableRowSelected.id))}}function jV(n,l){if(n&1){let e=I();r(0,"mat-row",158),E("click",function(){let t=u(e).$implicit,s=m();return f(s.onActionTableRowSelect(t))})("mouseenter",function(){let t=u(e).$implicit,s=m();return f(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=u(e).$implicit,s=m();return f(s.onActionTableRowMouseLeave(t))}),a()}if(n&2){let e=l.$implicit,i=l.dataIndex,t=m();Se("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",e.id===(t.tableRowSelected==null?null:t.tableRowSelected.id)),d("ngStyle",ze(7,H0,e.expanded===!0?"":"none"))}}var Ms=class Ms extends bt{constructor(e,i,t,s,h,p,D,z,he,je,Ge,mt,Nt,Rt){super(e,new Mn,Nt,h,z);this.contentService=e;this.cmsConfirmationDialogService=i;this.estatePropertyDetailGroupService=t;this.cmsToastrService=s;this.tokenHelper=h;this.router=p;this.cdr=D;this.translate=z;this.activatedRoute=he;this.cmsStoreService=je;this.themeService=Ge;this.pageInfo=mt;this.publicHelper=Nt;this.dialog=Rt;this.constructorInfoAreaId=this.constructor.name;this.responsibleUserId=0;this.searchInResponsibleChecked=!1;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new er;this.dataModelPropertyDetailGroups=[];this.enumInputDataType=Ri;this.tabledisplayedColumns=[];this.step=0;this.tabledisplayedColumnsSource=["Id","LinkSiteId","RecordStatus","CreatedDate","UpdatedDate","scoreRushToBuy","scorePurchaseDecision","scoreLiquidityPower","scorePurchasingPower","CaseCode","LinkTo","QuickView","action_menu"];this.tabledisplayedColumnsMobileSource=["RecordStatus","Title","CaseCode","LinkTo","QuickView","action_menu"];this.propertyDetails=new Map;this.optionloadComponent=!0;this.optionloadByRoute=!0;this.PropertyTypeSelected=new Gt;this.dataModelCorCurrencySelector=new Di;this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:Ut=>this.onSubmitOptionsSearch(Ut)},this.responsibleUserId=+this.activatedRoute.snapshot.paramMap.get("ResponsibleUserId"),this.requestRecordStatus=qe[this.activatedRoute.snapshot.paramMap.get("RecordStatus")+""],this.requestRecordStatus&&(this.optionsSearch.data.show=!0,this.optionsSearch.data.defaultQuery='{"condition":"and","rules":[{"field":"RecordStatus","type":"select","operator":"equal","value":"'+this.requestRecordStatus+'"}]}',this.requestRecordStatus=null),this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=X.Descending}set optionLinkPropertyId(e){e&&e.length>0&&(this.requestLinkPropertyId=e)}set optionLinkPropertyIdHaveHistory(e){e&&e.length>0&&(this.requestLinkPropertyIdHaveHistory=e)}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&(!this.tokenHelper.isAdminSite&&!this.tokenHelper.isSupportSite&&(this.tabledisplayedColumnsSource=this.publicHelper.listRemoveIfExist(this.tabledisplayedColumnsSource,"scoreRushToBuy"),this.tabledisplayedColumnsSource=this.publicHelper.listRemoveIfExist(this.tabledisplayedColumnsSource,"scorePurchaseDecision"),this.tabledisplayedColumnsSource=this.publicHelper.listRemoveIfExist(this.tabledisplayedColumnsSource,"scoreLiquidityPower"),this.tabledisplayedColumnsSource=this.publicHelper.listRemoveIfExist(this.tabledisplayedColumnsSource,"scorePurchasingPower")),this.DataGetAll()),this.cmsApiStoreSubscribe=this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>re(this,null,function*(){this.tokenInfo=e,!this.tokenHelper.isAdminSite&&this.tokenHelper.isSupportSite&&(this.tabledisplayedColumnsSource=this.publicHelper.listRemoveIfExist(this.tabledisplayedColumnsSource,"scoreRushToBuy"),this.tabledisplayedColumnsSource=this.publicHelper.listRemoveIfExist(this.tabledisplayedColumnsSource,"scorePurchaseDecision"),this.tabledisplayedColumnsSource=this.publicHelper.listRemoveIfExist(this.tabledisplayedColumnsSource,"scoreLiquidityPower"),this.tabledisplayedColumnsSource=this.publicHelper.listRemoveIfExist(this.tabledisplayedColumnsSource,"scorePurchasingPower")),this.DataGetAll()}))}ngOnDestroy(){this.cmsApiStoreSubscribe&&this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){if(this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),!this.optionloadComponent)return;this.tableRowsSelected=[],this.onActionTableRowSelect(new Mn);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(h=>{this.publicHelper.processService.processStart(e,h,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));if(this.categoryModelSelected&&this.categoryModelSelected.id.length>0){let h=new H;h.propertyName="linkEstateCustomerCategoryId",h.value=this.categoryModelSelected.id,i.filters.push(h)}var t=0;if(this.searchInResponsibleChecked?t=this.tokenInfo.access.userId:this.responsibleUserId>0&&(t=this.responsibleUserId),this.requestLinkPropertyId&&this.requestLinkPropertyId.length>0)this.contentService.ServiceGetAllWithCoverPropertyId(this.requestLinkPropertyId,i).subscribe({next:h=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(h.access),h.isSuccess?(this.dataModelResult=h,this.tableSource.data=h.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(h.access)},1e3)):this.cmsToastrService.typeErrorMessage(h.errorMessage),this.publicHelper.processService.processStop(e)},error:h=>{this.cmsToastrService.typeError(h),this.publicHelper.processService.processStop(e,!1)}});else if(this.requestLinkPropertyIdHaveHistory&&this.requestLinkPropertyIdHaveHistory.length>0)this.contentService.ServiceGetAllWithCoverPropertyIdHaveHistory(this.requestLinkPropertyIdHaveHistory,i).subscribe({next:h=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(h.access),h.isSuccess?(this.dataModelResult=h,this.tableSource.data=h.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(h.access)},1e3)):this.cmsToastrService.typeErrorMessage(h.errorMessage),this.publicHelper.processService.processStop(e)},error:h=>{this.cmsToastrService.typeError(h),this.publicHelper.processService.processStop(e,!1)}});else if(t>0)this.contentService.ServiceGetAllWithResponsibleUserId(t,i).subscribe({next:h=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(h.access),h.isSuccess?(this.dataModelResult=h,this.tableSource.data=h.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(h.access)},1e3)):this.cmsToastrService.typeErrorMessage(h.errorMessage),this.publicHelper.processService.processStop(e)},error:h=>{this.cmsToastrService.typeError(h),this.publicHelper.processService.processStop(e,!1)}});else{var s=[];this.dataModelPropertyDetailGroups&&this.dataModelPropertyDetailGroups.forEach(h=>{h.propertyDetails.forEach(p=>{let D=new So;D.linkPropertyDetailId=p.id,D.value=this.propertyDetails[p.id],s.push(D)})}),i.propertyDetailValues=s,this.contentService.setAccessDataType(Be.Editor),this.contentService.ServiceGetAll(i).subscribe({next:h=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(h.access),h.isSuccess?(this.dataModelResult=h,this.tableSource.data=h.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(h.access)},1e3)):this.cmsToastrService.typeErrorMessage(h.errorMessage),this.publicHelper.processService.processStop(e)},error:h=>{this.cmsToastrService.typeError(h),this.publicHelper.processService.processStop(e,!1)}})}}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=X.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=X.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=X.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(e){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Od,{height:"90%",panelClass:i,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{linkEstateCustomerCategoryId:this.categoryModelSelected?.id}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate&&this.router.navigate(["/estate/customer-order/edit/",s.id])})}onActionButtonCopyNewRow(e=this.tableRowSelected,i){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}this.onActionTableRowSelect(e);var t="";this.publicHelper.isMobile?t="dialog-fullscreen":t="dialog-min",this.dialog.open(Od,{height:"90%",panelClass:t,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{copyId:e.id,linkEstateCustomerCategoryId:this.categoryModelSelected?.id}}).afterClosed().subscribe(h=>{h&&h.dialogChangedDate&&this.router.navigate(["/estate/customer-order/edit/",h.id])})}onActionButtonEditRow(e=this.tableRowSelected,i){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}i?.ctrlKey?(this.link="/#/estate/customer-order/edit/"+this.tableRowSelected.id,window.open(this.link,"_blank")):this.router.navigate(["/estate/customer-order/edit",this.tableRowSelected.id])}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(s=>{this.cmsToastrService.typeErrorSelected(s)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(s=>{i=s["MESSAGE.Please_Confirm"],t=s["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(s=>{if(s){let h=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(p=>{this.publicHelper.processService.processStart(h,p,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(e.id).subscribe({next:p=>{p.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(h)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(h,!1)}})}}).catch(()=>{})}onActionButtonHistoryRow(e=this.tableRowSelected,i){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}i?.ctrlKey?(this.link="/#/estate/property-history/LinkCustomerOrderId/"+this.tableRowSelected.id,window.open(this.link,"_blank")):this.router.navigate(["/estate/property-history/LinkCustomerOrderId",this.tableRowSelected.id])}onActionButtonOpenCustomerOrder(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.onActionTableRowSelect(e),window.open(this.tableRowSelected.urlViewContent,"_blank")}onActionButtonContentList(e=this.tableRowSelected,i){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}this.onActionTableRowSelect(e),i?.ctrlKey?(this.link="/#/estate/property/LinkCustomerOrderId/"+this.tableRowSelected.id,window.open(this.link,"_blank")):this.router.navigate(["/estate/property/LinkCustomerOrderId/",this.tableRowSelected.id])}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.property_list").subscribe(an=>{this.publicHelper.processService.processStart(this.constructor.name+"All",an,this.constructorInfoAreaId)}),this.contentService.setAccessDataType(Be.Editor);let t=JSON.parse(JSON.stringify(this.filteModelContent)),s=this.contentService.ServiceGetCount(t),h=JSON.parse(JSON.stringify(this.filteModelContent)),p=new H;p.propertyName="RecordStatus",p.value=qe.Available,h.filters.push(p);let D=this.contentService.ServiceGetCount(h),z=JSON.parse(JSON.stringify(this.filteModelContent)),he=new H;he.propertyName="RecordStatus",he.value=qe.Archive,z.filters.push(he);let je=this.contentService.ServiceGetCount(z),Ge=JSON.parse(JSON.stringify(this.filteModelContent)),mt=new H;mt.propertyName="RecordStatus",mt.value=qe.Pending,Ge.filters.push(mt);let Nt=this.contentService.ServiceGetCount(Ge),Rt=JSON.parse(JSON.stringify(this.filteModelContent)),Ut=new H;Ut.propertyName="RecordStatus",Ut.value=qe.Disable,Rt.filters.push(Ut);let Fe=this.contentService.ServiceGetCount(Rt);Ud([s,D,je,Nt,Fe]).subscribe(an=>{var Ui=an[0];Ui.isSuccess&&this.translate.get("MESSAGE.customer_order_list").subscribe(Sr=>{i.set(Sr,Ui.totalRowCount)});var Ui=an[1];Ui.isSuccess&&this.translate.get("MESSAGE.customer_order_list_active").subscribe(Sr=>{i.set(Sr,Ui.totalRowCount)}),Ui=an[2],Ui.isSuccess?this.translate.get("MESSAGE.customer_order_list_close").subscribe(Sr=>{i.set(Sr,Ui.totalRowCount)}):this.cmsToastrService.typeErrorMessage(Ui.errorMessage),Ui=an[3],Ui.isSuccess?this.translate.get("MESSAGE.customer_order_needs_approval").subscribe(Sr=>{i.set(Sr,Ui.totalRowCount)}):this.cmsToastrService.typeErrorMessage(Ui.errorMessage),Ui=an[4],Ui.isSuccess?this.translate.get("MESSAGE.customer_order_list_disable").subscribe(Sr=>{i.set(Sr,Ui.totalRowCount)}):this.cmsToastrService.typeErrorMessage(Ui.errorMessage),this.publicHelper.processService.processStop(this.constructor.name+"All"),this.optionsStatist.childMethods.setStatistValue(i)})}onActionButtonInResponsible(e){this.searchInResponsibleChecked=e,this.DataGetAll()}onActionSelectorSelect(e){var i=this.filteModelContent.sortColumn,t=this.filteModelContent.sortType,i=this.filteModelContent.sortColumn,t=this.filteModelContent.sortType;this.filteModelContent=new er,this.filteModelContent.sortColumn=i,this.filteModelContent.sortType=t,this.filteModelContent.sortColumn=i,this.filteModelContent.sortType=t,this.categoryModelSelected=e,this.DataGetAll()}onActionButtonReload(){this.optionloadComponent=!0,this.DataGetAll()}onActionCopied(){this.cmsToastrService.typeSuccessCopedToClipboard()}onSubmitOptionsSearch(e){e&&e.length>0&&(this.filteModelContent.filters=[...this.filteModelContent.filters,...e]),this.DataGetAll()}onActionButtonLinkTo(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(e.recordStatus!=qe.Available){this.cmsToastrService.typeWarningRecordStatusNoAvailable();return}this.tableRowSelected=e;let i=this.constructor.name+"ServiceGetOneById";this.translate.get("MESSAGE.get_customer_information").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructorInfoAreaId)}),this.contentService.ServiceGetOneById(e.id).subscribe({next:t=>{if(t.isSuccess){var s="";this.publicHelper.isMobile?s="dialog-fullscreen":s="dialog-min",this.dialog.open(pn,{height:"90%",panelClass:s,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{title:t.item.title,urlViewContentQRCodeBase64:t.item.urlViewContentQRCodeBase64,urlViewContent:t.item.urlViewContent}}).afterClosed().subscribe(p=>{p&&p.dialogChangedDate&&this.DataGetAll()})}else this.cmsToastrService.typeErrorMessage(t.errorMessage);this.publicHelper.processService.processStop(i)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(i,!1)}})}onActionSelectorLocation(e){this.filteModelContent.linkLocationIds=e}onActionSelectorSelectUsage(e){if(!e||!e.id||e.id.length<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(i=>{this.cmsToastrService.typeWarningSelected(i)});return}this.filteModelContent.linkPropertyTypeUsageId=e.id}onSearchCaseCodeChange(e){e&&e.length>0&&(this.filteModelContent=new er,this.filteModelContent.caseCode=e,this.dataModelPropertyDetailGroups=[])}onActionSelectorSelectLanduse(e){if(this.dataModelPropertyDetailGroups=[],this.PropertyTypeSelected=null,this.filteModelContent.linkPropertyTypeLanduseId=null,!e||!e.id||e.id.length<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(i=>{this.cmsToastrService.typeWarningSelected(i)});return}this.DataGetPropertyDetailGroup(e.id),this.PropertyTypeSelected=e,this.filteModelContent.linkPropertyTypeLanduseId=e.id}DataGetPropertyDetailGroup(e){let i=new pe,t=new H;t.propertyName="LinkPropertyTypeLanduseId",t.value=e,i.filters.push(t),this.dataModelPropertyDetailGroups=[];let s=this.constructor.name+"DataGetPropertyDetailGroup";this.translate.get("MESSAGE.Get_detailed_information").subscribe(h=>{this.publicHelper.processService.processStart(s,h,this.constructorInfoAreaId)}),this.estatePropertyDetailGroupService.ServiceGetAllFastSearch(i).subscribe({next:h=>{h.isSuccess?(this.dataModelPropertyDetailGroups=h.listItems,this.dataModelPropertyDetailGroups&&this.dataModelPropertyDetailGroups.forEach(p=>{p.propertyDetails.forEach(D=>{this.propertyDetails[D.id]=0})})):this.cmsToastrService.typeErrorGetAccess(h.errorMessage),this.publicHelper.processService.processStop(s)},error:h=>{this.cmsToastrService.typeErrorGetAccess(h),this.publicHelper.processService.processStop(s,!1)}})}onActionSelectorContarctType(e){if(this.contractTypeSelected=null,this.filteModelContent.linkContractTypeId=null,!e||!e.id||e.id.length<=0){this.translate.get("MESSAGE.Type_of_property_transaction_is_not_known").subscribe(i=>{this.cmsToastrService.typeWarningSelected(i)});return}this.contractTypeSelected=e,this.filteModelContent.linkContractTypeId=e.id}onActionSelectCurrency(e){if(!e||e.id<=0){this.dataModelCorCurrencySelector=null,this.filteModelContent.linkCoreCurrencyId=null;return}this.dataModelCorCurrencySelector=e,this.filteModelContent.linkCoreCurrencyId=e.id}onActionButtonQuickHistoryAddRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}this.onActionTableRowSelect(e);var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(mo,{height:"90%",panelClass:i,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{linkActivityTypeId:this.categoryModelSelected?.id,linkPropertyId:null,linkEstateExpertId:null,linkCustomerOrderId:e.id,linkEstateAgencyId:null}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate})}onActionButtonQuickViewRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.tableRowSelected=e,this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var i=this.publicHelper.InfoNextRowInList(this.dataModelResult.listItems,this.tableRowSelected),t=this.publicHelper.InfoPerviousRowInList(this.dataModelResult.listItems,this.tableRowSelected),s="";this.publicHelper.isMobile?s="dialog-fullscreen":s="dialog-min",this.dialog.open(yr,{height:"90%",panelClass:s,data:{id:this.tableRowSelected.id,perviousItem:t,nextItem:i}}).afterClosed().subscribe(p=>{p&&p.dialogChangedDate&&p.onActionOpenItem&&p.onActionOpenItem.id.length>0&&this.onActionButtonQuickViewRow(p.onActionOpenItem)})}onActionButtonResponsibleUserlistView(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}this.tableRowSelected=e;var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Kc,{height:"90%",panelClass:i,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{title:this.tableRowSelected.title,id:this.tableRowSelected.id}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate})}setStep(e){this.step=e}nextStep(){this.step++}prevStep(){this.step--}};Ms.\u0275fac=function(i){return new(i||Ms)(v(Yi),v(Mt),v(hi),v(V),v(K),v(Ze),v(B),v(L),v(jt),v(Z),v(kt),v(ht),v(F),v(xe))},Ms.\u0275cmp=R({type:Ms,selectors:[["app-estate-customer-order-list"]],inputs:{optionloadComponent:"optionloadComponent",optionloadByRoute:"optionloadByRoute",optionLinkPropertyId:"optionLinkPropertyId",optionLinkPropertyIdHaveHistory:"optionLinkPropertyIdHaveHistory"},standalone:!1,features:[ne],decls:164,vars:72,consts:[["caseCode",""],["tableSort","matSort"],["paginator",""],["CreatedYaer",""],["Partition",""],["Area",""],["SalePriceMin",""],["RentPriceMin",""],["DepositPriceMin",""],["PeriodPriceMin",""],["SalePriceMax",""],["RentPriceMax",""],["DepositPriceMax",""],["PeriodPriceMax",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionActionRowDisplayMenuAct","optionSelectRowItemTitle"],["cms-tree",""],[3,"optionChange"],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-maximize","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-minimize","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-highlight",3,"click",4,"ngIf"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],[1,"col-4"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-highlight","target","_blank","id","openModalButton","data-toggle","modal","data-target","#categoryModal",3,"click",4,"ngIf"],[1,"fa-solid","fa-clock-rotate-left","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-buildings","font-18",2,"color","#ffffff"],[1,"fa-light","fa-clapperboard-play","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-share","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],[1,"ntk-full-width"],["matInput","","name","filteModelContent.caseCode","type","text","step","1",3,"input","ngModelChange","ngModel","placeholder"],["matPrefix","","matPrefix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],["matPrefix",""],["matSuffix","",1,"info-field-icon"],[1,"info-field-text"],[4,"ngIf"],["cms-body",""],["matSort","","multiTemplateDataRows","",1,"ntk-cms-html-table",3,"matSortChange","dataSource"],["matColumnDef","action_menu"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","Id"],["mat-sort-header","","class","form-label",4,"matHeaderCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","Title"],["matColumnDef","CreatedDate"],["matColumnDef","scoreRushToBuy"],["matColumnDef","scorePurchaseDecision"],["matColumnDef","scoreLiquidityPower"],["matColumnDef","scorePurchasingPower"],["matColumnDef","UpdatedDate"],["style","direction:ltr",4,"matCellDef"],["matColumnDef","CaseCode"],["matColumnDef","Action"],["class","form-label",4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],["matColumnDef","LinkTo"],["matColumnDef","QuickView"],["matColumnDef","expandedTitle"],["matColumnDef","expandedDetail"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","ngStyle","click","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["type","button","target","_blank","id","openModalButton","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-copy","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["matPrefix","","matPrefix","","mat-icon-button","","aria-label","Clear",3,"click"],[3,"optionPlaceholder","optionChange",4,"ngIf"],[3,"optionChange","optionPlaceholder"],[3,"optionChange","optionTypeView","optionPlaceholder"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[3,"optionChange","optionSelectFirstItem","optionSelectForce","optionPlaceholder"],[1,"row",2,"direction","rtl"],[1,"col-md-6","col-sm-6","col-xs-9"],[1,"example-headers-align"],[3,"expanded","opened",4,"ngFor","ngForOf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","filteModelContent.createdYaer",1,"color-highlight"],["matInput","","name","filteModelContent.createdYaer","type","number","id","filteModelContent.createdYaer",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","filteModelContent.partition",1,"color-highlight"],["matInput","","name","filteModelContent.partition","type","number","id","filteModelContent.partition",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","filteModelContent.area",1,"color-highlight"],["matInput","","name","filteModelContent.area","type","text","currencyMask","","pattern","(d{3})","step","10","id","filteModelContent.area",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel","placeholder"],["for","filteModelContent.salePriceMin",1,"color-highlight"],["matInput","","name","filteModelContent.salePriceMin","type","text","currencyMask","","step","1000000","id","filteModelContent.salePriceMin",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel"],["for","filteModelContent.rentPriceMin",1,"color-highlight"],["matInput","","name","filteModelContent.rentPriceMin","type","text","currencyMask","","step","1000000","id","filteModelContent.rentPriceMin",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel"],["for","filteModelContent.depositPriceMin",1,"color-highlight"],["matInput","","name","filteModelContent.depositPriceMin","type","text","currencyMask","","step","1000000","id","filteModelContent.depositPriceMin",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel"],["for","filteModelContent.periodPriceMin",1,"color-highlight"],["matInput","","name","filteModelContent.periodPriceMin","type","text","currencyMask","","step","1000000","id","filteModelContent.periodPriceMin",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel"],["for","filteModelContent.salePriceMax",1,"color-highlight"],["matInput","","name","filteModelContent.salePriceMax","type","text","currencyMask","","step","1000000","id","filteModelContent.salePriceMax",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel"],["for","filteModelContent.rentPriceMax",1,"color-highlight"],["matInput","","name","filteModelContent.rentPriceMax","type","text","currencyMask","","step","1000000","id","filteModelContent.rentPriceMax",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel"],["for","filteModelContent.depositPriceMax",1,"color-highlight"],["matInput","","name","filteModelContent.depositPriceMax","type","text","currencyMask","","step","1000000","id","filteModelContent.depositPriceMax",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel"],["for","filteModelContent.periodPriceMax",1,"color-highlight"],["matInput","","name","filteModelContent.periodPriceMax","type","text","currencyMask","","step","1000000","id","filteModelContent.periodPriceMax",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel"],[3,"opened","expanded"],[2,"width","100px"],[4,"ngFor","ngForOf"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-teal",3,"click",4,"ngIf"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-blue",3,"click",4,"ngIf"],[3,"ngSwitch"],["class","ntk-full-width",4,"ngSwitchCase"],["class","ntk-full-width",4,"ngSwitchDefault"],["aria-hidden","true",3,"ngClass"],[3,"modelChange","model","optionForceUseDefaultValue","optionMultipleChoice","optionDefaultValue","optionRequired","optionLabel"],[3,"modelChange","model","optionRequired","optionLabel"],[3,"modelChange","model"],[3,"modelChange","model","optionRequired"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue",3,"click"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"click"],[1,"fa","fa-bars","font-18"],["mat-sort-header","",1,"form-label"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[2,"direction","ltr"],[1,"form-label"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],["type","button","mat-icon-button","",3,"click"],[2,"color","#ff671f"],["type","button","mat-icon-button","",1,"text-dark",3,"click"],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","80","width","80",3,"src",4,"ngIf"],[1,"navi-icon","pointer",3,"click","cdkCopyToClipboard"],[1,"flaticon2-copy"],[1,"input-Mobile"],[1,"col-form-label"],["aria-hidden","","height","80","width","80",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"click","mouseenter","mouseleave"],[3,"click","mouseenter","mouseleave","ngStyle"]],template:function(i,t){if(i&1){let s=I();r(0,"app-cms-html-list",15),w("optionActionGuideNoticeDisplayChange",function(p){return u(s),T(t.viewGuideNotice,p)||(t.viewGuideNotice=p),f(p)}),E("optionOnActionButtonMemoRow",function(){return u(s),f(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return u(s),f(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return u(s),f(t.onActionButtonExport())}),A(1,16),r(2,"app-estate-customer-category-tree",17),E("optionChange",function(p){return u(s),f(t.onActionSelectorSelect(p))}),a(),P(),Qe(3,18)(4,19),A(5,20),r(6,"a",21),E("click",function(){return u(s),f(t.viewGuideNotice=!t.viewGuideNotice)}),C(7,"i",22),a(),r(8,"a",21),E("click",function(){return u(s),f(t.onActionButtonReload())}),C(9,"i",23),a(),r(10,"a",24),E("click",function(){return u(s),f(t.onActionGridExpandRows(!0))}),C(11,"i",25),a(),r(12,"a",24),E("click",function(){return u(s),f(t.onActionGridExpandRows(!1))}),C(13,"i",26),a(),P(),A(14,27),r(15,"a",28),E("click",function(){return u(s),f(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),C(16,"mat-slide-toggle",29),c(17),_(18,"translate"),a(),r(19,"a",28),E("click",function(){return u(s),f(t.onActionButtonStatist())}),C(20,"mat-slide-toggle",29),c(21),_(22,"translate"),a(),S(23,w5,4,4,"a",30),P(),A(24,31),S(25,x5,7,3,"div",32),P(),A(26,33),r(27,"div",34)(28,"a",21),E("click",function(){return u(s),f(t.onActionButtonQuickViewRow(t.tableRowSelected))}),C(29,"i",35)(30,"br"),a(),r(31,"p",36),c(32),_(33,"translate"),a()(),S(34,A5,7,3,"div",32),r(35,"div",34),S(36,P5,3,0,"a",37),r(37,"p",36),c(38),_(39,"translate"),a()(),S(40,k5,7,3,"div",32),r(41,"div",34)(42,"a",24),E("click",function(){return u(s),f(t.onActionButtonQuickHistoryAddRow(t.tableRowSelected))}),C(43,"i",38)(44,"br"),a(),r(45,"p",36),c(46),_(47,"translate"),a()(),r(48,"div",34)(49,"a",24),E("click",function(p){return u(s),f(t.onActionButtonHistoryRow(t.tableRowSelected,p))}),C(50,"i",38)(51,"br"),a(),r(52,"p",36),c(53),_(54,"translate"),a()(),r(55,"div",34)(56,"a",24),E("click",function(p){return u(s),f(t.onActionButtonContentList(t.tableRowSelected,p))}),C(57,"i",39)(58,"br"),a(),r(59,"p",36),c(60),_(61,"translate"),a()(),r(62,"div",34)(63,"a",24),E("click",function(){return u(s),f(t.onActionButtonOpenCustomerOrder(t.tableRowSelected))}),C(64,"i",40)(65,"br"),a(),r(66,"p",36),c(67),_(68,"translate"),a()(),r(69,"div",34)(70,"a",21),E("click",function(){return u(s),f(t.onActionButtonLinkTo(t.tableRowSelected))}),C(71,"i",41)(72,"br"),a(),r(73,"p",36),c(74),_(75,"translate"),a()(),r(76,"div",34)(77,"a",21),E("click",function(){return u(s),f(t.onActionButtonResponsibleUserlistView(t.tableRowSelected))}),C(78,"i",41)(79,"br"),a(),r(80,"p",36),c(81),_(82,"translate"),a()(),P(),A(83,42),r(84,"app-cms-search-list",43),w("optionsChange",function(p){return u(s),T(t.optionsSearch,p)||(t.optionsSearch=p),f(p)}),C(85,"hr"),r(86,"p"),c(87),_(88,"translate"),a(),r(89,"mat-form-field",44)(90,"mat-label"),c(91),a(),r(92,"input",45,0),E("input",function(p){return u(s),f(t.onSearchCaseCodeChange(p.target.value))}),w("ngModelChange",function(p){return u(s),T(t.filteModelContent.caseCode,p)||(t.filteModelContent.caseCode=p),f(p)}),a(),S(94,D5,2,0,"mat-icon",46),r(95,"mat-icon",47),c(96," mode_edit"),a(),r(97,"mat-hint")(98,"mat-icon",48),c(99),_(100,"translate"),a(),r(101,"strong",49),c(102),a()()(),S(103,nV,43,36,"div",50),a(),r(104,"app-cms-statist-list",43),w("optionsChange",function(p){return u(s),T(t.optionsStatist,p)||(t.optionsStatist=p),f(p)}),a(),P(),A(105,51),r(106,"mat-table",52,1),E("matSortChange",function(){u(s);let p=k(107);return f(t.onTableSortData(p))}),A(108,53),S(109,oV,3,3,"mat-header-cell",54)(110,rV,3,0,"mat-cell",55),P(),A(111,56),S(112,aV,2,1,"mat-header-cell",57)(113,lV,2,1,"mat-cell",55),P(),A(114,58),S(115,sV,2,1,"mat-header-cell",57)(116,dV,4,5,"mat-cell",55),P(),A(117,59),S(118,cV,2,1,"mat-header-cell",57)(119,mV,5,7,"mat-cell",60),P(),A(120,61),S(121,uV,2,1,"mat-header-cell",57)(122,fV,2,1,"mat-cell",55),P(),A(123,62),S(124,_V,2,1,"mat-header-cell",57)(125,gV,3,3,"mat-cell",55),P(),A(126,63),S(127,hV,2,1,"mat-header-cell",57)(128,yV,2,2,"mat-cell",60),P(),A(129,64),S(130,CV,2,1,"mat-header-cell",57)(131,SV,2,2,"mat-cell",60),P(),A(132,65),S(133,vV,2,1,"mat-header-cell",57)(134,EV,2,2,"mat-cell",60),P(),A(135,66),S(136,IV,2,1,"mat-header-cell",57)(137,MV,2,2,"mat-cell",60),P(),A(138,67),S(139,bV,2,1,"mat-header-cell",57)(140,TV,3,3,"mat-cell",68),P(),A(141,69),S(142,wV,2,1,"mat-header-cell",57)(143,xV,2,1,"mat-cell",55),P(),A(144,70),S(145,AV,3,3,"mat-header-cell",71)(146,PV,6,1,"mat-cell",72),P(),A(147,73),S(148,kV,3,3,"mat-header-cell",57)(149,DV,4,0,"mat-cell",55),P(),A(150,74),S(151,RV,3,3,"mat-header-cell",57)(152,LV,4,0,"mat-cell",55),P(),A(153,75),S(154,VV,2,1,"mat-cell",55),P(),A(155,76),S(156,HV,32,17,"mat-cell",55),P(),S(157,WV,1,0,"mat-header-row",77)(158,GV,1,6,"mat-row",78)(159,UV,1,6,"mat-row",78)(160,jV,1,9,"mat-row",79),a(),P(),A(161,80),r(162,"mat-paginator",81,2),E("page",function(p){return u(s),f(t.onTablePageingData(p))}),a(),P(),a()}i&2&&(d("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey","customerorder.content.list"),b("optionActionGuideNoticeDisplay",t.viewGuideNotice),d("optionTreeDisplay",t.optionloadByRoute)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelectDoubleClick)("optionActionRowDisplayMenuAct",t.tableRowSelectActionMenuClick)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.title),o(16),d("checked",t.optionsSearch.data.show),o(),y("",g(18,45,"ACTION.SEARCH")," "),o(3),d("checked",t.optionsStatist.data.show),o(),y("",g(22,47,"ACTION.STATIST")," "),o(2),d("ngIf",!t.requestLinkPropertyId||t.requestLinkPropertyId.length===0),o(2),d("ngIf",t.optionloadByRoute&&t.dataModelResult.access.accessAddRow),o(7),M(g(33,49,"ACTION.QUICK_VIEW")),o(2),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),o(2),d("ngIf",(t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessAddRow)&&(t.tableRowSelected==null?null:t.tableRowSelected.id)&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0),o(2),M(g(39,51,"ACTION.COPY")),o(2),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),o(6),M(g(47,53,"ACTION.HISTORY_ADD")),o(7),M(g(54,55,"ACTION.HISTORY_LIST")),o(7),M(g(61,57,"ACTION.THEPROPERTY_INCLUDESVIEWS")),o(7),M(g(68,59,"ACTION.DISPLAYCLIENTPAGE")),o(7),M(g(75,61,"TITLE.LINKTO")),o(7),M(g(82,63,"TITLE.ResponsibleUsers")),o(3),b("options",t.optionsSearch),o(3),M(g(88,65,"MESSAGE.Content_of_your_choice_to_display")),o(4),M(t.fieldsInfo.caseCode==null?null:t.fieldsInfo.caseCode.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.caseCode==null?null:t.fieldsInfo.caseCode.fieldTitle)),b("ngModel",t.filteModelContent.caseCode),o(2),d("ngIf",t.filteModelContent.caseCode),o(5),M(g(100,67,"TITLE.info")),o(3),M(t.fieldsInfo.caseCode==null?null:t.fieldsInfo.caseCode.fieldDescription),o(),d("ngIf",!t.filteModelContent.caseCode||t.filteModelContent.caseCode.length===0),o(),b("options",t.optionsStatist),o(2),d("dataSource",t.tableSource),o(51),d("matHeaderRowDef",t.tabledisplayedColumns),o(),d("matRowDefColumns",le(69,M5)),o(),d("matRowDefColumns",t.tabledisplayedColumns),o(),d("matRowDefColumns",le(70,b5)),o(2),d("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",le(71,T5)))},dependencies:[se,Ne,N,tt,fo,_o,go,Y,Ot,q,om,ce,Je,wo,Eo,Io,Mo,To,bo,mi,pi,Xd,zi,et,Ee,Q,At,Pt,vt,gt,Et,It,it,ot,st,rt,nt,dt,at,lt,ct,pt,ci,Tt,wt,Fi,Qt,$i,xt,$n,eo,to,io,no,oo,Oi,yo,_i,nn,on,Xc,He,O,Ai,tn,Ie,Jn,qt,Bn],encapsulation:2});var Qo=Ms;var bs=class bs{constructor(){this.constructorInfoAreaId=this.constructor.name}ngOnInit(){}};bs.\u0275fac=function(e){return new(e||bs)},bs.\u0275cmp=R({type:bs,selectors:[["app-estate"]],standalone:!1,decls:1,vars:0,template:function(e,i){e&1&&C(0,"router-outlet")},dependencies:[lm],encapsulation:2});var $c=bs;var QV=["vform"];function zV(n,l){if(n&1){let e=I();r(0,"button",19),E("click",function(){u(e);let t=m(3);return f(t.onActionNext())}),C(1,"i",20),c(2," < "),a()}}function YV(n,l){if(n&1){let e=I();r(0,"button",19),E("click",function(){u(e);let t=m(3);return f(t.onActionPervious())}),C(1,"i",20),c(2," > "),a()}}function KV(n,l){if(n&1){let e=I();r(0,"div",15)(1,"button",19),E("click",function(){u(e);let t=m(2);return f(t.onFormCancel())}),C(2,"i",20),c(3),_(4,"translate"),a(),S(5,zV,3,0,"button",21)(6,YV,3,0,"button",21),a()}if(n&2){let e=m(2);o(3),y(" ",g(4,3,"ACTION.CANCEL")," "),o(2),d("ngIf",e.requestNextItem&&(e.requestNextItem==null||e.requestNextItem.id==null?null:e.requestNextItem.id.length)>0),o(),d("ngIf",e.requestPerviousItem&&(e.requestPerviousItem==null||e.requestPerviousItem.id==null?null:e.requestPerviousItem.id.length)>0)}}function ZV(n,l){if(n&1&&(r(0,"tr")(1,"td"),c(2),a(),r(3,"td"),c(4),_(5,"cmsuserinfo"),_(6,"async"),a()()),n&2){let e=m(2);o(2),y("",e.fieldsInfo.updatedBy==null?null:e.fieldsInfo.updatedBy.fieldTitle,":"),o(2),M(g(6,4,g(5,2,e.dataModel.updatedBy)))}}function JV(n,l){if(n&1&&(r(0,"tr")(1,"td"),c(2),a(),r(3,"td"),c(4),_(5,"cmsuserinfo"),_(6,"async"),a()()),n&2){let e=m(2);o(2),y("",e.fieldsInfo.linkCmsUserId==null?null:e.fieldsInfo.linkCmsUserId.fieldTitle,":"),o(2),M(g(6,4,g(5,2,e.dataModel.linkCmsUserId)))}}function XV(n,l){if(n&1&&(r(0,"tr")(1,"td"),c(2),_(3,"translate"),a(),r(4,"td"),c(5),a()()),n&2){let e=m(2);o(2),y("",g(3,2,"TITLE.General_Description"),":"),o(3),M(e.dataModel.description)}}function $V(n,l){if(n&1){let e=I();r(0,"button",19),E("click",function(){u(e);let t=m(3);return f(t.onActionNext())}),C(1,"i",20),c(2," < "),a()}}function e6(n,l){if(n&1){let e=I();r(0,"button",19),E("click",function(){u(e);let t=m(3);return f(t.onActionPervious())}),C(1,"i",20),c(2," > "),a()}}function t6(n,l){if(n&1){let e=I();r(0,"div",15)(1,"button",19),E("click",function(){u(e);let t=m(2);return f(t.onFormCancel())}),C(2,"i",20),c(3),_(4,"translate"),a(),S(5,$V,3,0,"button",21)(6,e6,3,0,"button",21),a()}if(n&2){let e=m(2);o(3),y(" ",g(4,3,"ACTION.CANCEL")," "),o(2),d("ngIf",e.requestNextItem&&(e.requestNextItem==null||e.requestNextItem.id==null?null:e.requestNextItem.id.length)>0),o(),d("ngIf",e.requestPerviousItem&&(e.requestPerviousItem==null||e.requestPerviousItem.id==null?null:e.requestPerviousItem.id.length)>0)}}function i6(n,l){if(n&1&&(A(0),r(1,"div",9),S(2,KV,7,5,"div",10),a(),r(3,"div",11)(4,"table",12)(5,"tbody")(6,"tr")(7,"td"),c(8),a(),r(9,"td"),C(10,"i",13),_(11,"statusIconClass"),a()(),r(12,"tr")(13,"td"),c(14),a(),r(15,"td"),c(16),a()(),r(17,"tr")(18,"td"),c(19),a(),r(20,"td"),c(21),_(22,"cmsuserinfo"),_(23,"async"),a()(),S(24,ZV,7,6,"tr",8)(25,JV,7,6,"tr",8)(26,XV,6,4,"tr",8),a()()(),r(27,"div",14)(28,"div",15)(29,"small",16),c(30),a(),r(31,"small",17),c(32),a()()(),r(33,"div",18),S(34,t6,7,5,"div",10),a(),P()),n&2){let e=m();o(2),d("ngIf",e.formInfo.formSubmitAllow),o(6),y("",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle,":"),o(2),d("ngClass",g(11,13,e.dataModel.recordStatus)),o(4),y("",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle,":"),o(2),M(e.dataModel.title),o(3),y("",e.fieldsInfo.createdBy==null?null:e.fieldsInfo.createdBy.fieldTitle,":"),o(2),M(g(23,17,g(22,15,e.dataModel.createdBy))),o(3),d("ngIf",e.dataModel.updatedBy),o(),d("ngIf",e.dataModel.linkCmsUserId>0),o(),d("ngIf",(e.dataModel.description==null?null:e.dataModel.description.length)>0),o(4),y("",e.formInfo.formAlert," "),o(2),y("",e.formInfo.formError," "),o(2),d("ngIf",e.formInfo.formSubmitAllow)}}var Ts=class Ts{constructor(l,e,i,t,s,h,p,D,z,he){this.data=l;this.dialogRef=e;this.coreEnumService=i;this.estatePropertyCompanyService=t;this.cmsToastrService=s;this.tokenHelper=h;this.cmsStoreService=p;this.cdr=D;this.publicHelper=z;this.translate=he;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.tokenInfo=new St;this.dataModelResult=new G;this.dataModelEstateContractTypeResult=new G;this.dataModel=new Rn;this.formInfo=new me;this.fieldsInfo=new Map;this.optionTabledataSource=new li;this.optionTabledisplayedColumns=["LinkEstateContractTypeId","Price"];this.fileManagerOpenForm=!1;this.errorMessage="";this.enumInputDataType=Ri;this.step=0;this.publicHelper.processService.cdr=this.cdr,l&&(this.requestId=l.id+"",this.requestPerviousItem=l.perviousItem,this.requestNextItem=l.nextItem)}ngOnInit(){if(this.translate.get("TITLE.QUICK_VIEW").subscribe(l=>{this.formInfo.formTitle=l}),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.cmsApiStoreSubscribe=this.cmsStoreService.getState(l=>l.tokenInfoStore).subscribe(l=>re(this,null,function*(){this.tokenInfo=l}))}ngOnDestroy(){this.cmsApiStoreSubscribe&&this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError="";let l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(l,e,this.constructorInfoAreaId)}),this.estatePropertyCompanyService.setAccessLoad(),this.estatePropertyCompanyService.setAccessDataType(Be.Editor),this.estatePropertyCompanyService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModel=e.item,e.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError=e.errorMessage,this.errorMessage=e.errorMessage+"<br> ( "+e.errorTypeTitle+" ) ",this.cmsToastrService.typeErrorMessage(this.errorMessage)),this.publicHelper.processService.processStop(l)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(l,!1)}})}setStep(l){this.step=l}nextStep(){this.step++}prevStep(){this.step--}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}onActionNext(){this.dialogRef.close({dialogChangedDate:!0,onActionOpenItem:this.requestNextItem})}onActionPervious(){this.dialogRef.close({dialogChangedDate:!0,onActionOpenItem:this.requestPerviousItem})}};Ts.\u0275fac=function(e){return new(e||Ts)(v(be),v(Me),v(J),v(fn),v(V),v(K),v(Z),v(B),v(F),v(L))},Ts.\u0275cmp=R({type:Ts,selectors:[["app-estate-property-company-quick-view"]],viewQuery:function(e,i){if(e&1&&ee(QV,5),e&2){let t;te(t=ie())&&(i.formGroup=t.first)}},standalone:!1,decls:12,vars:4,consts:[[1,"card","card-style","loader-container",2,"height","100vh","overflow-y","auto"],[3,"optionsInfoAreaId"],[1,"menu-title"],[1,"color-highlight"],[1,"close-menu",3,"click"],[1,"fa","fa-times-circle"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[4,"ngIf"],[1,"ntk-cms-html-card-header"],["class","form-actions",4,"ngIf"],["dir","rtl",1,"ntk-cms-html-card-body","ntk-allow-text-selection"],[1,"table","table-striped"],[3,"ngClass"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray",3,"click",4,"ngIf"]],template:function(e,i){e&1&&(r(0,"div",0),C(1,"app-progress-spinner",1),r(2,"div",2)(3,"p",3),c(4),a(),r(5,"a",4),E("click",function(){return i.onFormCancel()}),C(6,"i",5),a(),C(7,"hr"),a(),r(8,"div",6)(9,"p",7),c(10),a(),S(11,i6,35,19,"ng-container",8),a()()),e&2&&(o(),d("optionsInfoAreaId",i.constructorInfoAreaId),o(3),y("",i.formInfo.formTitle," "),o(6),y(" ",i.formInfo.formDescription," "),o(),d("ngIf",!i.publicHelper.processService.process.inRunAll))},dependencies:[se,N,di,U,He,O,Ai,qt],encapsulation:2});var ep=Ts;var n6=["vform"];function o6(n,l){if(n&1){let e=I();r(0,"button",20),E("click",function(){u(e);let t=m(2);return f(t.onActionNext())}),C(1,"i",21),c(2," < "),a()}}function r6(n,l){if(n&1){let e=I();r(0,"button",20),E("click",function(){u(e);let t=m(2);return f(t.onActionPervious())}),C(1,"i",21),c(2," > "),a()}}function a6(n,l){if(n&1&&(r(0,"tr")(1,"td"),c(2),a(),r(3,"td"),c(4),_(5,"cmsuserinfo"),_(6,"async"),a()()),n&2){let e=m(2);o(2),y("",e.fieldsInfo.updatedBy==null?null:e.fieldsInfo.updatedBy.fieldTitle,":"),o(2),M(g(6,4,g(5,2,e.dataModel.updatedBy)))}}function l6(n,l){if(n&1&&(r(0,"tr")(1,"td"),c(2),a(),r(3,"td"),c(4),_(5,"cmsuserinfo"),_(6,"async"),a()()),n&2){let e=m(2);o(2),y("",e.fieldsInfo.linkCmsUserId==null?null:e.fieldsInfo.linkCmsUserId.fieldTitle,":"),o(2),M(g(6,4,g(5,2,e.dataModel.linkCmsUserId)))}}function s6(n,l){if(n&1&&(r(0,"tr")(1,"td"),c(2),_(3,"translate"),a(),r(4,"td"),c(5),a()()),n&2){let e=m(2);o(2),y("",g(3,2,"TITLE.General_Description"),":"),o(3),M(e.dataModel.description)}}function d6(n,l){if(n&1){let e=I();r(0,"button",20),E("click",function(){u(e);let t=m(3);return f(t.onActionNext())}),C(1,"i",21),c(2," < "),a()}}function c6(n,l){if(n&1){let e=I();r(0,"button",20),E("click",function(){u(e);let t=m(3);return f(t.onActionPervious())}),C(1,"i",21),c(2," > "),a()}}function p6(n,l){if(n&1){let e=I();r(0,"div",15)(1,"button",20),E("click",function(){u(e);let t=m(2);return f(t.onFormCancel())}),C(2,"i",21),c(3),_(4,"translate"),a(),S(5,d6,3,0,"button",10)(6,c6,3,0,"button",10),a()}if(n&2){let e=m(2);o(3),y(" ",g(4,3,"ACTION.CANCEL")," "),o(2),d("ngIf",e.requestNextItem&&(e.requestNextItem==null||e.requestNextItem.id==null?null:e.requestNextItem.id.length)>0),o(),d("ngIf",e.requestPerviousItem&&(e.requestPerviousItem==null||e.requestPerviousItem.id==null?null:e.requestPerviousItem.id.length)>0)}}function m6(n,l){if(n&1&&(A(0),r(1,"div",9),S(2,o6,3,0,"button",10)(3,r6,3,0,"button",10),C(4,"hr"),a(),r(5,"div",11)(6,"table",12)(7,"tbody")(8,"tr")(9,"td"),c(10),a(),r(11,"td"),C(12,"i",13),_(13,"statusIconClass"),a()(),r(14,"tr")(15,"td"),c(16),a(),r(17,"td"),c(18),a()(),r(19,"tr")(20,"td"),c(21),a(),r(22,"td"),c(23),_(24,"cmsuserinfo"),_(25,"async"),a()(),S(26,a6,7,6,"tr",8)(27,l6,7,6,"tr",8)(28,s6,6,4,"tr",8),a()()(),r(29,"div",14)(30,"div",15)(31,"small",16),c(32),a(),r(33,"small",17),c(34),a()()(),r(35,"div",18),S(36,p6,7,5,"div",19),a(),P()),n&2){let e=m();o(2),d("ngIf",e.requestNextItem&&(e.requestNextItem==null||e.requestNextItem.id==null?null:e.requestNextItem.id.length)>0),o(),d("ngIf",e.requestPerviousItem&&(e.requestPerviousItem==null||e.requestPerviousItem.id==null?null:e.requestPerviousItem.id.length)>0),o(7),y("",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle,":"),o(2),d("ngClass",g(13,14,e.dataModel.recordStatus)),o(4),y("",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle,":"),o(2),M(e.dataModel.title),o(3),y("",e.fieldsInfo.createdBy==null?null:e.fieldsInfo.createdBy.fieldTitle,":"),o(2),M(g(25,18,g(24,16,e.dataModel.createdBy))),o(3),d("ngIf",e.dataModel.updatedBy),o(),d("ngIf",e.dataModel.linkCmsUserId>0),o(),d("ngIf",(e.dataModel.description==null?null:e.dataModel.description.length)>0),o(4),y("",e.formInfo.formAlert," "),o(2),y("",e.formInfo.formError," "),o(2),d("ngIf",e.formInfo.formSubmitAllow&&!e.publicHelper.processService.process.inRunAll)}}var ws=class ws{constructor(l,e,i,t,s,h,p,D,z,he){this.data=l;this.dialogRef=e;this.coreEnumService=i;this.estatePropertyProjectService=t;this.cmsToastrService=s;this.tokenHelper=h;this.cmsStoreService=p;this.cdr=D;this.publicHelper=z;this.translate=he;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.tokenInfo=new St;this.dataModelResult=new G;this.dataModelEstateContractTypeResult=new G;this.dataModel=new Vn;this.formInfo=new me;this.fieldsInfo=new Map;this.optionTabledataSource=new li;this.optionTabledisplayedColumns=["LinkEstateContractTypeId","Price"];this.fileManagerOpenForm=!1;this.errorMessage="";this.enumInputDataType=Ri;this.step=0;this.publicHelper.processService.cdr=this.cdr,l&&(this.requestId=l.id+"",this.requestPerviousItem=l.perviousItem,this.requestNextItem=l.nextItem)}ngOnInit(){if(this.translate.get("TITLE.QUICK_VIEW").subscribe(l=>{this.formInfo.formTitle=l}),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.cmsApiStoreSubscribe=this.cmsStoreService.getState(l=>l.tokenInfoStore).subscribe(l=>re(this,null,function*(){this.tokenInfo=l}))}ngOnDestroy(){this.cmsApiStoreSubscribe&&this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError="";let l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(l,e,this.constructorInfoAreaId)}),this.estatePropertyProjectService.setAccessLoad(),this.estatePropertyProjectService.setAccessDataType(Be.Editor),this.estatePropertyProjectService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModel=e.item,e.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError=e.errorMessage,this.errorMessage=e.errorMessage+"<br> ( "+e.errorTypeTitle+" ) ",this.cmsToastrService.typeErrorMessage(this.errorMessage)),this.publicHelper.processService.processStop(l)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(l,!1)}})}setStep(l){this.step=l}nextStep(){this.step++}prevStep(){this.step--}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}onActionNext(){this.dialogRef.close({dialogChangedDate:!0,onActionOpenItem:this.requestNextItem})}onActionPervious(){this.dialogRef.close({dialogChangedDate:!0,onActionOpenItem:this.requestPerviousItem})}};ws.\u0275fac=function(e){return new(e||ws)(v(be),v(Me),v(J),v(_n),v(V),v(K),v(Z),v(B),v(F),v(L))},ws.\u0275cmp=R({type:ws,selectors:[["app-estate-property-project-quick-view"]],viewQuery:function(e,i){if(e&1&&ee(n6,5),e&2){let t;te(t=ie())&&(i.formGroup=t.first)}},standalone:!1,decls:12,vars:4,consts:[[1,"card","card-style","loader-container",2,"height","100vh","overflow-y","auto"],[3,"optionsInfoAreaId"],[1,"menu-title"],[1,"color-highlight"],[1,"close-menu",3,"click"],[1,"fa","fa-times-circle"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[4,"ngIf"],[1,"ntk-cms-html-card-header"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray",3,"click",4,"ngIf"],["dir","rtl",1,"ntk-cms-html-card-body","ntk-allow-text-selection"],[1,"table","table-striped"],[3,"ngClass"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,i){e&1&&(r(0,"div",0),C(1,"app-progress-spinner",1),r(2,"div",2)(3,"p",3),c(4),a(),r(5,"a",4),E("click",function(){return i.onFormCancel()}),C(6,"i",5),a(),C(7,"hr"),a(),r(8,"div",6)(9,"p",7),c(10),a(),S(11,m6,37,20,"ng-container",8),a()()),e&2&&(o(),d("optionsInfoAreaId",i.constructorInfoAreaId),o(3),y("",i.formInfo.formTitle," "),o(6),y(" ",i.formInfo.formDescription," "),o(),d("ngIf",!i.publicHelper.processService.process.inRunAll))},dependencies:[se,N,di,U,He,O,Ai,qt],encapsulation:2});var tp=ws;var u6=["vform"];function f6(n,l){if(n&1){let e=I();r(0,"button",19),E("click",function(){u(e);let t=m(3);return f(t.onActionNext())}),C(1,"i",20),c(2," < "),a()}}function _6(n,l){if(n&1){let e=I();r(0,"button",19),E("click",function(){u(e);let t=m(3);return f(t.onActionPervious())}),C(1,"i",20),c(2," > "),a()}}function g6(n,l){if(n&1){let e=I();r(0,"div",15)(1,"button",19),E("click",function(){u(e);let t=m(2);return f(t.onFormCancel())}),C(2,"i",20),c(3),_(4,"translate"),a(),S(5,f6,3,0,"button",21)(6,_6,3,0,"button",21),a()}if(n&2){let e=m(2);o(3),y(" ",g(4,3,"ACTION.CANCEL")," "),o(2),d("ngIf",e.requestNextItem&&(e.requestNextItem==null||e.requestNextItem.id==null?null:e.requestNextItem.id.length)>0),o(),d("ngIf",e.requestPerviousItem&&(e.requestPerviousItem==null||e.requestPerviousItem.id==null?null:e.requestPerviousItem.id.length)>0)}}function h6(n,l){if(n&1&&(r(0,"tr")(1,"td"),c(2),a(),r(3,"td"),c(4),_(5,"cmsuserinfo"),_(6,"async"),a()()),n&2){let e=m(2);o(2),y("",e.fieldsInfo.updatedBy==null?null:e.fieldsInfo.updatedBy.fieldTitle,":"),o(2),M(g(6,4,g(5,2,e.dataModel.updatedBy)))}}function y6(n,l){if(n&1&&(r(0,"tr")(1,"td"),c(2),a(),r(3,"td"),c(4),_(5,"cmsuserinfo"),_(6,"async"),a()()),n&2){let e=m(2);o(2),y("",e.fieldsInfo.linkCmsUserId==null?null:e.fieldsInfo.linkCmsUserId.fieldTitle,":"),o(2),M(g(6,4,g(5,2,e.dataModel.linkCmsUserId)))}}function C6(n,l){if(n&1&&(r(0,"tr")(1,"td"),c(2),_(3,"translate"),a(),r(4,"td"),c(5),a()()),n&2){let e=m(2);o(2),y("",g(3,2,"TITLE.General_Description"),":"),o(3),M(e.dataModel.description)}}function S6(n,l){if(n&1){let e=I();r(0,"button",19),E("click",function(){u(e);let t=m(3);return f(t.onActionNext())}),C(1,"i",20),c(2," < "),a()}}function v6(n,l){if(n&1){let e=I();r(0,"button",19),E("click",function(){u(e);let t=m(3);return f(t.onActionPervious())}),C(1,"i",20),c(2," > "),a()}}function E6(n,l){if(n&1){let e=I();r(0,"div",15)(1,"button",19),E("click",function(){u(e);let t=m(2);return f(t.onFormCancel())}),C(2,"i",20),c(3),_(4,"translate"),a(),S(5,S6,3,0,"button",21)(6,v6,3,0,"button",21),a()}if(n&2){let e=m(2);o(3),y(" ",g(4,3,"ACTION.CANCEL")," "),o(2),d("ngIf",e.requestNextItem&&(e.requestNextItem==null||e.requestNextItem.id==null?null:e.requestNextItem.id.length)>0),o(),d("ngIf",e.requestPerviousItem&&(e.requestPerviousItem==null||e.requestPerviousItem.id==null?null:e.requestPerviousItem.id.length)>0)}}function I6(n,l){if(n&1&&(A(0),r(1,"div",9),S(2,g6,7,5,"div",10),a(),r(3,"div",11)(4,"table",12)(5,"tbody")(6,"tr")(7,"td"),c(8),a(),r(9,"td"),C(10,"i",13),_(11,"statusIconClass"),a()(),r(12,"tr")(13,"td"),c(14),a(),r(15,"td"),c(16),a()(),r(17,"tr")(18,"td"),c(19),a(),r(20,"td"),c(21),_(22,"cmsuserinfo"),_(23,"async"),a()(),S(24,h6,7,6,"tr",8)(25,y6,7,6,"tr",8)(26,C6,6,4,"tr",8),a()()(),r(27,"div",14)(28,"div",15)(29,"small",16),c(30),a(),r(31,"small",17),c(32),a()()(),r(33,"div",18),S(34,E6,7,5,"div",10),a(),P()),n&2){let e=m();o(2),d("ngIf",e.formInfo.formSubmitAllow),o(6),y("",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle,":"),o(2),d("ngClass",g(11,13,e.dataModel.recordStatus)),o(4),y("",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle,":"),o(2),M(e.dataModel.title),o(3),y("",e.fieldsInfo.createdBy==null?null:e.fieldsInfo.createdBy.fieldTitle,":"),o(2),M(g(23,17,g(22,15,e.dataModel.createdBy))),o(3),d("ngIf",e.dataModel.updatedBy),o(),d("ngIf",e.dataModel.linkCmsUserId>0),o(),d("ngIf",(e.dataModel.description==null?null:e.dataModel.description.length)>0),o(4),y("",e.formInfo.formAlert," "),o(2),y("",e.formInfo.formError," "),o(2),d("ngIf",e.formInfo.formSubmitAllow)}}var xs=class xs{constructor(l,e,i,t,s,h,p,D,z,he){this.data=l;this.dialogRef=e;this.coreEnumService=i;this.estatePropertySupplierService=t;this.cmsToastrService=s;this.tokenHelper=h;this.cmsStoreService=p;this.cdr=D;this.publicHelper=z;this.translate=he;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.tokenInfo=new St;this.dataModelResult=new G;this.dataModelEstateContractTypeResult=new G;this.dataModel=new vo;this.formInfo=new me;this.fieldsInfo=new Map;this.optionTabledataSource=new li;this.optionTabledisplayedColumns=["LinkEstateContractTypeId","Price"];this.fileManagerOpenForm=!1;this.errorMessage="";this.enumInputDataType=Ri;this.step=0;this.publicHelper.processService.cdr=this.cdr,l&&(this.requestId=l.id+"",this.requestPerviousItem=l.perviousItem,this.requestNextItem=l.nextItem)}ngOnInit(){if(this.translate.get("TITLE.QUICK_VIEW").subscribe(l=>{this.formInfo.formTitle=l}),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.cmsApiStoreSubscribe=this.cmsStoreService.getState(l=>l.tokenInfoStore).subscribe(l=>re(this,null,function*(){this.tokenInfo=l}))}ngOnDestroy(){this.cmsApiStoreSubscribe&&this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError="";let l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(l,e,this.constructorInfoAreaId)}),this.estatePropertySupplierService.setAccessLoad(),this.estatePropertySupplierService.setAccessDataType(Be.Editor),this.estatePropertySupplierService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModel=e.item,e.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError=e.errorMessage,this.errorMessage=e.errorMessage+"<br> ( "+e.errorTypeTitle+" ) ",this.cmsToastrService.typeErrorMessage(this.errorMessage)),this.publicHelper.processService.processStop(l)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(l,!1)}})}setStep(l){this.step=l}nextStep(){this.step++}prevStep(){this.step--}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}onActionNext(){this.dialogRef.close({dialogChangedDate:!0,onActionOpenItem:this.requestNextItem})}onActionPervious(){this.dialogRef.close({dialogChangedDate:!0,onActionOpenItem:this.requestPerviousItem})}};xs.\u0275fac=function(e){return new(e||xs)(v(be),v(Me),v(J),v(Yn),v(V),v(K),v(Z),v(B),v(F),v(L))},xs.\u0275cmp=R({type:xs,selectors:[["app-estate-property-supplier-quick-view"]],viewQuery:function(e,i){if(e&1&&ee(u6,5),e&2){let t;te(t=ie())&&(i.formGroup=t.first)}},standalone:!1,decls:12,vars:4,consts:[[1,"card","card-style","loader-container",2,"height","100vh","overflow-y","auto"],[3,"optionsInfoAreaId"],[1,"menu-title"],[1,"color-highlight"],[1,"close-menu",3,"click"],[1,"fa","fa-times-circle"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[4,"ngIf"],[1,"ntk-cms-html-card-header"],["class","form-actions",4,"ngIf"],["dir","rtl",1,"ntk-cms-html-card-body","ntk-allow-text-selection"],[1,"table","table-striped"],[3,"ngClass"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray",3,"click",4,"ngIf"]],template:function(e,i){e&1&&(r(0,"div",0),C(1,"app-progress-spinner",1),r(2,"div",2)(3,"p",3),c(4),a(),r(5,"a",4),E("click",function(){return i.onFormCancel()}),C(6,"i",5),a(),C(7,"hr"),a(),r(8,"div",6)(9,"p",7),c(10),a(),S(11,I6,35,19,"ng-container",8),a()()),e&2&&(o(),d("optionsInfoAreaId",i.constructorInfoAreaId),o(3),y("",i.formInfo.formTitle," "),o(6),y(" ",i.formInfo.formDescription," "),o(),d("ngIf",!i.publicHelper.processService.process.inRunAll))},dependencies:[se,N,di,U,He,O,Ai,qt],encapsulation:2});var ip=xs;function M6(n,l){n&1&&(r(0,"mat-error"),c(1),_(2,"translate"),a()),n&2&&(o(),M(g(2,1,"MESSAGE.InvalidStartDate")))}function b6(n,l){n&1&&(r(0,"mat-error"),c(1),_(2,"translate"),a()),n&2&&(o(),M(g(2,1,"MESSAGE.InvalidEndDate")))}function T6(n,l){if(n&1){let e=I();r(0,"button",20),E("click",function(){u(e);let t=m();return f(t.onActionNext())}),C(1,"i",21),c(2," < "),a()}}function w6(n,l){if(n&1){let e=I();r(0,"button",20),E("click",function(){u(e);let t=m();return f(t.onActionPervious())}),C(1,"i",21),c(2," > "),a()}}function x6(n,l){if(n&1){let e=I();r(0,"button",20),E("click",function(){u(e);let t=m();return f(t.onActionToDay())}),C(1,"i",21),c(2),_(3,"translate"),a()}n&2&&(o(2),y(" ",g(3,1,"TITLE.Today")," "))}function A6(n,l){if(n&1){let e=I();r(0,"app-cms-user-selector",22),_(1,"translate"),E("optionChange",function(t){u(e);let s=m();return f(s.onActionSelectorUser(t))}),a()}if(n&2){let e=m();d("optionSelectForce",e.linkCmsUserId)("optionPlaceholder",g(1,2,"TITLE.USER"))}}function P6(n,l){if(n&1){let e=I();r(0,"a",23),E("click",function(){u(e);let t=m();return f(t.onActionButtonOnDateSearch())}),c(1),_(2,"translate"),a()}n&2&&(o(),M(g(2,1,"ACTION.SEARCH")))}function k6(n,l){if(n&1&&(r(0,"div",14),c(1),_(2,"translate"),_(3,"localeDateTime"),_(4,"translate"),_(5,"localeDateTime"),a()),n&2){let e=m();o(),$p(" ",g(2,4,"TITLE.From_Date")," ",g(3,6,e.checkingOnDayRange.controls.start.value)," - ",g(4,8,"TITLE.To_Date")," ",g(5,10,e.checkingOnDayRange.controls.end.value)," ")}}function D6(n,l){if(n&1&&(r(0,"div",14),c(1),_(2,"cmsuserinfo"),_(3,"async"),a()),n&2){let e=m();o(),y(" ",g(3,3,g(2,1,e.linkCmsUserId))," ")}}function R6(n,l){n&1&&C(0,"i",34)}function L6(n,l){if(n&1&&(r(0,"b"),c(1),a()),n&2){let e=m(2).$implicit,i=m(3);o(),y("",i.publicHelper.LocaleDate(e.createdDate)," ")}}function V6(n,l){if(n&1&&(r(0,"p",5),c(1),_(2,"translate"),S(3,L6,2,1,"b",13),c(4),a()),n&2){let e=m().$implicit,i=m(3);o(),y(" ",g(2,3,"TITLE.ADD"),":"),o(2),d("ngIf",!i.viewOnlyTime),o(),y(" ",i.publicHelper.getTime(e.createdDate))}}function O6(n,l){if(n&1&&(r(0,"b"),c(1),a()),n&2){let e=m(2).$implicit,i=m(3);o(),y("",i.publicHelper.LocaleDate(e.updatedDate)," ")}}function F6(n,l){if(n&1&&(r(0,"p",5),c(1),_(2,"translate"),S(3,O6,2,1,"b",13),c(4),a()),n&2){let e=m().$implicit,i=m(3);o(),y(" ",g(2,3,"TITLE.Edit"),":"),o(2),d("ngIf",!i.viewOnlyTime),o(),y(" ",i.publicHelper.getTime(e.updatedDate))}}function B6(n,l){if(n&1&&(r(0,"p"),c(1),_(2,"translate"),r(3,"b",39),c(4),_(5,"cmsuserinfo"),_(6,"async"),a()()),n&2){let e=m().$implicit;o(),y(" ",g(2,2,"TITLE.Edit"),": "),o(3),y(" ",g(6,6,g(5,4,e.updatedBy))," ")}}function N6(n,l){if(n&1){let e=I();A(0),C(1,"div",35),S(2,V6,5,5,"p",36)(3,F6,5,5,"p",36),r(4,"h4",37),E("click",function(t){let s=u(e).$implicit,h=m(3);return f(h.onActionButtonProperty(s,h.dataModelPropertyResult.listItems,t))}),c(5),r(6,"i",38),_(7,"statusIconClass"),E("click",function(t){let s=u(e).$implicit,h=m(3);return f(h.onActionButtonProperty(s,h.dataModelPropertyResult.listItems,t))}),a()(),r(8,"p"),c(9),a(),r(10,"p"),c(11),_(12,"translate"),r(13,"b",39),c(14),_(15,"cmsuserinfo"),_(16,"async"),a()(),S(17,B6,7,8,"p",13),P()}if(n&2){let e=l.$implicit;o(2),d("ngIf",!e.updatedBy||e.updatedBy<=0),o(),d("ngIf",e.updatedBy>0),o(2),y(" ",e.title),o(),d("ngClass",g(7,8,e.recordStatus)),o(3),y(" ",e.description," "),o(2),y(" ",g(12,10,"TITLE.USER"),": "),o(3),y(" ",g(16,14,g(15,12,e.createdBy))," "),o(3),d("ngIf",e.updatedBy>0&&e.createdBy!==e.updatedBy)}}function H6(n,l){if(n&1&&(r(0,"div",7)(1,"div",2),C(2,"app-progress-spinner",3),r(3,"div",25)(4,"div",26)(5,"div",27)(6,"button",28),C(7,"i",29),c(8),_(9,"translate"),r(10,"span",30),c(11),a(),c(12),_(13,"translate"),S(14,R6,1,0,"i",31),a(),r(15,"div",32),S(16,N6,18,16,"ng-container",33),a()()()()()()),n&2){let e=m(2);o(2),d("optionsInfoAreaId","dataModelPropertyResult"),o(6),y(" ",g(9,6,"TITLE.Property")," "),o(3),M(e.dataModelPropertyResult.totalRowCount),o(),y(" ",g(13,8,"TITLE.Number")," "),o(2),d("ngIf",e.dataModelPropertyResult.totalRowCount>0),o(2),d("ngForOf",e.dataModelPropertyResult.listItems)}}function W6(n,l){n&1&&C(0,"i",34)}function G6(n,l){if(n&1&&(r(0,"b"),c(1),a()),n&2){let e=m(2).$implicit,i=m(3);o(),y("",i.publicHelper.LocaleDate(e.createdDate)," ")}}function U6(n,l){if(n&1&&(r(0,"p",5),c(1),_(2,"translate"),S(3,G6,2,1,"b",13),c(4),a()),n&2){let e=m().$implicit,i=m(3);o(),y(" ",g(2,3,"TITLE.ADD"),":"),o(2),d("ngIf",!i.viewOnlyTime),o(),y(" ",i.publicHelper.getTime(e.createdDate))}}function j6(n,l){if(n&1&&(r(0,"b"),c(1),a()),n&2){let e=m(2).$implicit,i=m(3);o(),y("",i.publicHelper.LocaleDate(e.updatedDate)," ")}}function q6(n,l){if(n&1&&(r(0,"p",5),c(1),_(2,"translate"),S(3,j6,2,1,"b",13),c(4),a()),n&2){let e=m().$implicit,i=m(3);o(),y(" ",g(2,3,"TITLE.Edit"),":"),o(2),d("ngIf",!i.viewOnlyTime),o(),y(" ",i.publicHelper.getTime(e.updatedDate))}}function Q6(n,l){if(n&1&&(r(0,"p"),c(1),_(2,"translate"),r(3,"b",39),c(4),_(5,"cmsuserinfo"),_(6,"async"),a()()),n&2){let e=m().$implicit;o(),y(" ",g(2,2,"TITLE.Edit"),": "),o(3),y(" ",g(6,6,g(5,4,e.updatedBy))," ")}}function z6(n,l){if(n&1){let e=I();A(0),C(1,"div",35),S(2,U6,5,5,"p",36)(3,q6,5,5,"p",36),r(4,"h4",37),E("click",function(t){let s=u(e).$implicit,h=m(3);return f(h.onActionButtonProperty(s,h.dataModelPropertyResultAvailable.listItems,t))}),c(5),r(6,"i",38),_(7,"statusIconClass"),E("click",function(t){let s=u(e).$implicit,h=m(3);return f(h.onActionButtonProperty(s,h.dataModelPropertyResultAvailable.listItems,t))}),a()(),r(8,"p"),c(9),a(),r(10,"p"),c(11),_(12,"translate"),r(13,"b",39),c(14),_(15,"cmsuserinfo"),_(16,"async"),a()(),S(17,Q6,7,8,"p",13),P()}if(n&2){let e=l.$implicit;o(2),d("ngIf",!e.updatedBy||e.updatedBy<=0),o(),d("ngIf",e.updatedBy>0),o(2),y(" ",e.title),o(),d("ngClass",g(7,8,e.recordStatus)),o(3),y(" ",e.description," "),o(2),y(" ",g(12,10,"TITLE.USER"),": "),o(3),y(" ",g(16,14,g(15,12,e.createdBy))," "),o(3),d("ngIf",e.updatedBy>0&&e.createdBy!==e.updatedBy)}}function Y6(n,l){if(n&1&&(r(0,"div",7)(1,"div",2),C(2,"app-progress-spinner",3),r(3,"div",25)(4,"div",40)(5,"div",27)(6,"button",41),C(7,"i",29),c(8),_(9,"translate"),r(10,"span",30),c(11),a(),c(12),_(13,"translate"),S(14,W6,1,0,"i",31),a(),r(15,"div",42),S(16,z6,18,16,"ng-container",33),a()()()()()()),n&2){let e=m(2);o(2),d("optionsInfoAreaId","dataModelPropertyResultAvailable"),o(6),y(" ",g(9,6,"TITLE.Property_Available")," "),o(3),M(e.dataModelPropertyResultAvailable.totalRowCount),o(),y(" ",g(13,8,"TITLE.Number")," "),o(2),d("ngIf",e.dataModelPropertyResultAvailable.totalRowCount>0),o(2),d("ngForOf",e.dataModelPropertyResultAvailable.listItems)}}function K6(n,l){n&1&&C(0,"i",34)}function Z6(n,l){if(n&1&&(r(0,"b"),c(1),a()),n&2){let e=m(2).$implicit,i=m(3);o(),y("",i.publicHelper.LocaleDate(e.createdDate)," ")}}function J6(n,l){if(n&1&&(r(0,"p",5),c(1),_(2,"translate"),S(3,Z6,2,1,"b",13),c(4),a()),n&2){let e=m().$implicit,i=m(3);o(),y(" ",g(2,3,"TITLE.ADD"),":"),o(2),d("ngIf",!i.viewOnlyTime),o(),y(" ",i.publicHelper.getTime(e.createdDate))}}function X6(n,l){if(n&1&&(r(0,"b"),c(1),a()),n&2){let e=m(2).$implicit,i=m(3);o(),y("",i.publicHelper.LocaleDate(e.updatedDate)," ")}}function $6(n,l){if(n&1&&(r(0,"p",5),c(1),_(2,"translate"),S(3,X6,2,1,"b",13),c(4),a()),n&2){let e=m().$implicit,i=m(3);o(),y(" ",g(2,3,"TITLE.Edit"),":"),o(2),d("ngIf",!i.viewOnlyTime),o(),y(" ",i.publicHelper.getTime(e.updatedDate))}}function e7(n,l){if(n&1&&(r(0,"p"),c(1),_(2,"translate"),r(3,"b",39),c(4),_(5,"cmsuserinfo"),_(6,"async"),a()()),n&2){let e=m().$implicit;o(),y(" ",g(2,2,"TITLE.Edit"),": "),o(3),y(" ",g(6,6,g(5,4,e.updatedBy))," ")}}function t7(n,l){if(n&1){let e=I();A(0),C(1,"div",35),S(2,J6,5,5,"p",36)(3,$6,5,5,"p",36),r(4,"h4",37),E("click",function(t){let s=u(e).$implicit,h=m(3);return f(h.onActionButtonProperty(s,h.dataModelPropertyResultNotAvailable.listItems,t))}),c(5),r(6,"i",38),_(7,"statusIconClass"),E("click",function(t){let s=u(e).$implicit,h=m(3);return f(h.onActionButtonProperty(s,h.dataModelPropertyResultNotAvailable.listItems,t))}),a()(),r(8,"p"),c(9),a(),r(10,"p"),c(11),_(12,"translate"),r(13,"b",39),c(14),_(15,"cmsuserinfo"),_(16,"async"),a()(),S(17,e7,7,8,"p",13),P()}if(n&2){let e=l.$implicit;o(2),d("ngIf",!e.updatedBy||e.updatedBy<=0),o(),d("ngIf",e.updatedBy>0),o(2),y(" ",e.title),o(),d("ngClass",g(7,8,e.recordStatus)),o(3),y(" ",e.description," "),o(2),y(" ",g(12,10,"TITLE.USER"),": "),o(3),y(" ",g(16,14,g(15,12,e.createdBy))," "),o(3),d("ngIf",e.updatedBy>0&&e.createdBy!==e.updatedBy)}}function i7(n,l){if(n&1&&(r(0,"div",7)(1,"div",2),C(2,"app-progress-spinner",3),r(3,"div",25)(4,"div",43)(5,"div",27)(6,"button",44),C(7,"i",29),c(8),_(9,"translate"),r(10,"span",30),c(11),a(),c(12),_(13,"translate"),S(14,K6,1,0,"i",31),a(),r(15,"div",45),S(16,t7,18,16,"ng-container",33),a()()()()()()),n&2){let e=m(2);o(2),d("optionsInfoAreaId","dataModelPropertyResultNotAvailable"),o(6),y(" ",g(9,6,"TITLE.Property_NotAvailable")," "),o(3),M(e.dataModelPropertyResultNotAvailable.totalRowCount),o(),y(" ",g(13,8,"TITLE.Number")," "),o(2),d("ngIf",e.dataModelPropertyResultNotAvailable.totalRowCount>0),o(2),d("ngForOf",e.dataModelPropertyResultNotAvailable.listItems)}}function n7(n,l){n&1&&C(0,"i",34)}function o7(n,l){if(n&1&&(r(0,"b"),c(1),a()),n&2){let e=m(2).$implicit,i=m(3);o(),y("",i.publicHelper.LocaleDate(e.createdDate)," ")}}function r7(n,l){if(n&1&&(r(0,"p",5),c(1),_(2,"translate"),S(3,o7,2,1,"b",13),c(4),a()),n&2){let e=m().$implicit,i=m(3);o(),y(" ",g(2,3,"TITLE.ADD"),":"),o(2),d("ngIf",!i.viewOnlyTime),o(),y(" ",i.publicHelper.getTime(e.createdDate))}}function a7(n,l){if(n&1&&(r(0,"b"),c(1),a()),n&2){let e=m(2).$implicit,i=m(3);o(),y("",i.publicHelper.LocaleDate(e.updatedDate)," ")}}function l7(n,l){if(n&1&&(r(0,"p",5),c(1),_(2,"translate"),S(3,a7,2,1,"b",13),c(4),a()),n&2){let e=m().$implicit,i=m(3);o(),y(" ",g(2,3,"TITLE.Edit"),":"),o(2),d("ngIf",!i.viewOnlyTime),o(),y(" ",i.publicHelper.getTime(e.updatedDate))}}function s7(n,l){if(n&1&&(r(0,"p"),c(1),_(2,"translate"),r(3,"b",39),c(4),_(5,"cmsuserinfo"),_(6,"async"),a()()),n&2){let e=m().$implicit;o(),y(" ",g(2,2,"TITLE.Edit"),": "),o(3),y(" ",g(6,6,g(5,4,e.updatedBy))," ")}}function d7(n,l){if(n&1){let e=I();A(0),C(1,"div",35),S(2,r7,5,5,"p",36)(3,l7,5,5,"p",36),r(4,"h4",37),E("click",function(t){let s=u(e).$implicit,h=m(3);return f(h.onActionButtonCustomerOrder(s,h.dataModelCustomerOrderResult.listItems,t))}),c(5),r(6,"i",38),_(7,"statusIconClass"),E("click",function(t){let s=u(e).$implicit,h=m(3);return f(h.onActionButtonCustomerOrder(s,h.dataModelCustomerOrderResult.listItems,t))}),a()(),r(8,"p"),c(9),a(),r(10,"p"),c(11),_(12,"translate"),r(13,"b",39),c(14),_(15,"cmsuserinfo"),_(16,"async"),a()(),S(17,s7,7,8,"p",13),P()}if(n&2){let e=l.$implicit;o(2),d("ngIf",!e.updatedBy||e.updatedBy<=0),o(),d("ngIf",e.updatedBy>0),o(2),y(" ",e.title),o(),d("ngClass",g(7,8,e.recordStatus)),o(3),y(" ",e.description," "),o(2),y(" ",g(12,10,"TITLE.USER"),": "),o(3),y(" ",g(16,14,g(15,12,e.createdBy))," "),o(3),d("ngIf",e.updatedBy>0&&e.createdBy!==e.updatedBy)}}function c7(n,l){if(n&1&&(r(0,"div",7)(1,"div",2),C(2,"app-progress-spinner",3),r(3,"div",25)(4,"div",46)(5,"div",27)(6,"button",47),C(7,"i",29),c(8),_(9,"translate"),r(10,"span",30),c(11),a(),c(12),_(13,"translate"),S(14,n7,1,0,"i",31),a(),r(15,"div",48),S(16,d7,18,16,"ng-container",33),a()()()()()()),n&2){let e=m(2);o(2),d("optionsInfoAreaId","dataModelCustomerOrderResult"),o(6),y(" ",g(9,6,"TITLE.Customer_Order")," "),o(3),M(e.dataModelCustomerOrderResult.totalRowCount),o(),y(" ",g(13,8,"TITLE.Number")," "),o(2),d("ngIf",e.dataModelCustomerOrderResult.totalRowCount>0),o(2),d("ngForOf",e.dataModelCustomerOrderResult.listItems)}}function p7(n,l){n&1&&C(0,"i",34)}function m7(n,l){if(n&1&&(r(0,"b"),c(1),a()),n&2){let e=m(2).$implicit,i=m(3);o(),y("",i.publicHelper.LocaleDate(e.createdDate)," ")}}function u7(n,l){if(n&1&&(r(0,"p",5),c(1),_(2,"translate"),S(3,m7,2,1,"b",13),c(4),a()),n&2){let e=m().$implicit,i=m(3);o(),y(" ",g(2,3,"TITLE.ADD"),":"),o(2),d("ngIf",!i.viewOnlyTime),o(),y(" ",i.publicHelper.getTime(e.createdDate))}}function f7(n,l){if(n&1&&(r(0,"b"),c(1),a()),n&2){let e=m(2).$implicit,i=m(3);o(),y("",i.publicHelper.LocaleDate(e.updatedDate)," ")}}function _7(n,l){if(n&1&&(r(0,"p",5),c(1),_(2,"translate"),S(3,f7,2,1,"b",13),c(4),a()),n&2){let e=m().$implicit,i=m(3);o(),y(" ",g(2,3,"TITLE.Edit"),":"),o(2),d("ngIf",!i.viewOnlyTime),o(),y(" ",i.publicHelper.getTime(e.updatedDate))}}function g7(n,l){if(n&1&&(r(0,"p"),c(1),_(2,"translate"),r(3,"b",39),c(4),_(5,"cmsuserinfo"),_(6,"async"),a()()),n&2){let e=m().$implicit;o(),y(" ",g(2,2,"TITLE.Edit"),": "),o(3),y(" ",g(6,6,g(5,4,e.updatedBy))," ")}}function h7(n,l){if(n&1){let e=I();A(0),C(1,"div",35),S(2,u7,5,5,"p",36)(3,_7,5,5,"p",36),r(4,"h4",37),E("click",function(t){let s=u(e).$implicit,h=m(3);return f(h.onActionButtonCustomerOrder(s,h.dataModelCustomerOrderResultAvailable.listItems,t))}),c(5),r(6,"i",38),_(7,"statusIconClass"),E("click",function(t){let s=u(e).$implicit,h=m(3);return f(h.onActionButtonCustomerOrder(s,h.dataModelCustomerOrderResultAvailable.listItems,t))}),a()(),r(8,"p"),c(9),a(),r(10,"p"),c(11),_(12,"translate"),r(13,"b",39),c(14),_(15,"cmsuserinfo"),_(16,"async"),a()(),S(17,g7,7,8,"p",13),P()}if(n&2){let e=l.$implicit;o(2),d("ngIf",!e.updatedBy||e.updatedBy<=0),o(),d("ngIf",e.updatedBy>0),o(2),y(" ",e.title),o(),d("ngClass",g(7,8,e.recordStatus)),o(3),y(" ",e.description," "),o(2),y(" ",g(12,10,"TITLE.USER"),": "),o(3),y(" ",g(16,14,g(15,12,e.createdBy))," "),o(3),d("ngIf",e.updatedBy>0&&e.createdBy!==e.updatedBy)}}function y7(n,l){if(n&1&&(r(0,"div",7)(1,"div",2),C(2,"app-progress-spinner",3),r(3,"div",25)(4,"div",49)(5,"div",27)(6,"button",50),C(7,"i",29),c(8),_(9,"translate"),r(10,"span",30),c(11),a(),c(12),_(13,"translate"),S(14,p7,1,0,"i",31),a(),r(15,"div",51),S(16,h7,18,16,"ng-container",33),a()()()()()()),n&2){let e=m(2);o(2),d("optionsInfoAreaId","dataModelCustomerOrderResultAvailable"),o(6),y(" ",g(9,6,"TITLE.Customer_Order_Available")," "),o(3),M(e.dataModelCustomerOrderResultAvailable.totalRowCount),o(),y(" ",g(13,8,"TITLE.Number")," "),o(2),d("ngIf",e.dataModelCustomerOrderResultAvailable.totalRowCount>0),o(2),d("ngForOf",e.dataModelCustomerOrderResultAvailable.listItems)}}function C7(n,l){n&1&&C(0,"i",34)}function S7(n,l){if(n&1&&(r(0,"b"),c(1),a()),n&2){let e=m(2).$implicit,i=m(3);o(),y("",i.publicHelper.LocaleDate(e.createdDate)," ")}}function v7(n,l){if(n&1&&(r(0,"p",5),c(1),_(2,"translate"),S(3,S7,2,1,"b",13),c(4),a()),n&2){let e=m().$implicit,i=m(3);o(),y(" ",g(2,3,"TITLE.ADD"),":"),o(2),d("ngIf",!i.viewOnlyTime),o(),y(" ",i.publicHelper.getTime(e.createdDate))}}function E7(n,l){if(n&1&&(r(0,"b"),c(1),a()),n&2){let e=m(2).$implicit,i=m(3);o(),y("",i.publicHelper.LocaleDate(e.updatedDate)," ")}}function I7(n,l){if(n&1&&(r(0,"p",5),c(1),_(2,"translate"),S(3,E7,2,1,"b",13),c(4),a()),n&2){let e=m().$implicit,i=m(3);o(),y(" ",g(2,3,"TITLE.Edit"),":"),o(2),d("ngIf",!i.viewOnlyTime),o(),y(" ",i.publicHelper.getTime(e.updatedDate))}}function M7(n,l){if(n&1&&(r(0,"p"),c(1),_(2,"translate"),r(3,"b",39),c(4),_(5,"cmsuserinfo"),_(6,"async"),a()()),n&2){let e=m().$implicit;o(),y(" ",g(2,2,"TITLE.Edit"),": "),o(3),y(" ",g(6,6,g(5,4,e.updatedBy))," ")}}function b7(n,l){if(n&1){let e=I();A(0),C(1,"div",35),S(2,v7,5,5,"p",36)(3,I7,5,5,"p",36),r(4,"h4",37),E("click",function(t){let s=u(e).$implicit,h=m(3);return f(h.onActionButtonCustomerOrder(s,h.dataModelCustomerOrderResultNotAvailable.listItems,t))}),c(5),r(6,"i",38),_(7,"statusIconClass"),E("click",function(t){let s=u(e).$implicit,h=m(3);return f(h.onActionButtonCustomerOrder(s,h.dataModelCustomerOrderResultNotAvailable.listItems,t))}),a()(),r(8,"p"),c(9),a(),r(10,"p"),c(11),_(12,"translate"),r(13,"b",39),c(14),_(15,"cmsuserinfo"),_(16,"async"),a()(),S(17,M7,7,8,"p",13),P()}if(n&2){let e=l.$implicit;o(2),d("ngIf",!e.updatedBy||e.updatedBy<=0),o(),d("ngIf",e.updatedBy>0),o(2),y(" ",e.title),o(),d("ngClass",g(7,8,e.recordStatus)),o(3),y(" ",e.description," "),o(2),y(" ",g(12,10,"TITLE.USER"),": "),o(3),y(" ",g(16,14,g(15,12,e.createdBy))," "),o(3),d("ngIf",e.updatedBy>0&&e.createdBy!==e.updatedBy)}}function T7(n,l){if(n&1&&(r(0,"div",7)(1,"div",2),C(2,"app-progress-spinner",3),r(3,"div",25)(4,"div",52)(5,"div",27)(6,"button",53),C(7,"i",29),c(8),_(9,"translate"),r(10,"span",30),c(11),a(),c(12),_(13,"translate"),S(14,C7,1,0,"i",31),a(),r(15,"div",54),S(16,b7,18,16,"ng-container",33),a()()()()()()),n&2){let e=m(2);o(2),d("optionsInfoAreaId","dataModelCustomerOrderResultNotAvailable"),o(6),y(" ",g(9,6,"TITLE.Customer_Order_NotAvailable")," "),o(3),M(e.dataModelCustomerOrderResultNotAvailable.totalRowCount),o(),y(" ",g(13,8,"TITLE.Number")," "),o(2),d("ngIf",e.dataModelCustomerOrderResultNotAvailable.totalRowCount>0),o(2),d("ngForOf",e.dataModelCustomerOrderResultNotAvailable.listItems)}}function w7(n,l){n&1&&C(0,"i",34)}function x7(n,l){if(n&1&&(r(0,"b"),c(1),a()),n&2){let e=m(2).$implicit,i=m(3);o(),y("",i.publicHelper.LocaleDate(e.createdDate)," ")}}function A7(n,l){if(n&1&&(r(0,"p",5),c(1),_(2,"translate"),S(3,x7,2,1,"b",13),c(4),a()),n&2){let e=m().$implicit,i=m(3);o(),y(" ",g(2,3,"TITLE.ADD"),":"),o(2),d("ngIf",!i.viewOnlyTime),o(),y(" ",i.publicHelper.getTime(e.createdDate))}}function P7(n,l){if(n&1&&(r(0,"b"),c(1),a()),n&2){let e=m(2).$implicit,i=m(3);o(),y("",i.publicHelper.LocaleDate(e.updatedDate)," ")}}function k7(n,l){if(n&1&&(r(0,"p",5),c(1),_(2,"translate"),S(3,P7,2,1,"b",13),c(4),a()),n&2){let e=m().$implicit,i=m(3);o(),y(" ",g(2,3,"TITLE.Edit"),":"),o(2),d("ngIf",!i.viewOnlyTime),o(),y(" ",i.publicHelper.getTime(e.updatedDate))}}function D7(n,l){if(n&1&&(r(0,"p"),c(1),_(2,"translate"),r(3,"b",39),c(4),_(5,"cmsuserinfo"),_(6,"async"),a()()),n&2){let e=m().$implicit;o(),y(" ",g(2,2,"TITLE.Edit"),": "),o(3),y(" ",g(6,6,g(5,4,e.updatedBy))," ")}}function R7(n,l){if(n&1){let e=I();A(0),C(1,"div",35),S(2,A7,5,5,"p",36)(3,k7,5,5,"p",36),r(4,"h4",37),E("click",function(t){let s=u(e).$implicit,h=m(3);return f(h.onActionButtonHistory(s,t))}),c(5),r(6,"i",38),_(7,"statusIconClass"),E("click",function(t){let s=u(e).$implicit,h=m(3);return f(h.onActionButtonHistory(s,t))}),a()(),r(8,"p"),c(9),a(),r(10,"p"),c(11),_(12,"translate"),r(13,"b",39),c(14),_(15,"cmsuserinfo"),_(16,"async"),a()(),S(17,D7,7,8,"p",13),P()}if(n&2){let e=l.$implicit;o(2),d("ngIf",!e.updatedBy||e.updatedBy<=0),o(),d("ngIf",e.updatedBy>0),o(2),y(" ",e.title),o(),d("ngClass",g(7,8,e.recordStatus)),o(3),y(" ",e.description," "),o(2),y(" ",g(12,10,"TITLE.USER"),": "),o(3),y(" ",g(16,14,g(15,12,e.createdBy))," "),o(3),d("ngIf",e.updatedBy>0&&e.createdBy!==e.updatedBy)}}function L7(n,l){if(n&1&&(r(0,"div",7)(1,"div",2),C(2,"app-progress-spinner",3),r(3,"div",25)(4,"div",55)(5,"div",27)(6,"button",56),C(7,"i",29),c(8),_(9,"translate"),r(10,"span",30),c(11),a(),c(12),_(13,"translate"),S(14,w7,1,0,"i",31),a(),r(15,"div",57),S(16,R7,18,16,"ng-container",33),a()()()()()()),n&2){let e=m(2);o(2),d("optionsInfoAreaId","dataModelHistoryResult"),o(6),y(" ",g(9,6,"TITLE.History")," "),o(3),M(e.dataModelHistoryResult.totalRowCount),o(),y(" ",g(13,8,"TITLE.Number")," "),o(2),d("ngIf",e.dataModelHistoryResult.totalRowCount>0),o(2),d("ngForOf",e.dataModelHistoryResult.listItems)}}function V7(n,l){n&1&&C(0,"i",34)}function O7(n,l){if(n&1&&(r(0,"b"),c(1),a()),n&2){let e=m(2).$implicit,i=m(3);o(),y("",i.publicHelper.LocaleDate(e.createdDate)," ")}}function F7(n,l){if(n&1&&(r(0,"p",5),c(1),_(2,"translate"),S(3,O7,2,1,"b",13),c(4),a()),n&2){let e=m().$implicit,i=m(3);o(),y(" ",g(2,3,"TITLE.ADD"),":"),o(2),d("ngIf",!i.viewOnlyTime),o(),y(" ",i.publicHelper.getTime(e.createdDate))}}function B7(n,l){if(n&1&&(r(0,"b"),c(1),a()),n&2){let e=m(2).$implicit,i=m(3);o(),y("",i.publicHelper.LocaleDate(e.updatedDate)," ")}}function N7(n,l){if(n&1&&(r(0,"p",5),c(1),_(2,"translate"),S(3,B7,2,1,"b",13),c(4),a()),n&2){let e=m().$implicit,i=m(3);o(),y(" ",g(2,3,"TITLE.Edit"),":"),o(2),d("ngIf",!i.viewOnlyTime),o(),y(" ",i.publicHelper.getTime(e.updatedDate))}}function H7(n,l){if(n&1&&(r(0,"p"),c(1),_(2,"translate"),r(3,"b",39),c(4),_(5,"cmsuserinfo"),_(6,"async"),a()()),n&2){let e=m().$implicit;o(),y(" ",g(2,2,"TITLE.Edit"),": "),o(3),y(" ",g(6,6,g(5,4,e.updatedBy))," ")}}function W7(n,l){if(n&1){let e=I();A(0),C(1,"div",35),S(2,F7,5,5,"p",36)(3,N7,5,5,"p",36),r(4,"h4",37),E("click",function(t){let s=u(e).$implicit,h=m(3);return f(h.onActionButtonAccountAgency(s,t))}),c(5),r(6,"i",38),_(7,"statusIconClass"),E("click",function(t){let s=u(e).$implicit,h=m(3);return f(h.onActionButtonAccountAgency(s,t))}),a()(),r(8,"p"),c(9),a(),r(10,"p"),c(11),_(12,"translate"),r(13,"b",39),c(14),_(15,"cmsuserinfo"),_(16,"async"),a()(),S(17,H7,7,8,"p",13),P()}if(n&2){let e=l.$implicit;o(2),d("ngIf",!e.updatedBy||e.updatedBy<=0),o(),d("ngIf",e.updatedBy>0),o(2),y(" ",e.title),o(),d("ngClass",g(7,8,e.recordStatus)),o(3),y(" ",e.description," "),o(2),y(" ",g(12,10,"TITLE.USER"),": "),o(3),y(" ",g(16,14,g(15,12,e.createdBy))," "),o(3),d("ngIf",e.updatedBy>0&&e.createdBy!==e.updatedBy)}}function G7(n,l){if(n&1&&(r(0,"div",7)(1,"div",2),C(2,"app-progress-spinner",3),r(3,"div",25)(4,"div",58)(5,"div",27)(6,"button",59),C(7,"i",29),c(8),_(9,"translate"),r(10,"span",30),c(11),a(),c(12),_(13,"translate"),S(14,V7,1,0,"i",31),a(),r(15,"div",60),S(16,W7,18,16,"ng-container",33),a()()()()()()),n&2){let e=m(2);o(2),d("optionsInfoAreaId","dataModelAccountAgencyResult"),o(6),y(" ",g(9,6,"TITLE.Property_agency")," "),o(3),M(e.dataModelAccountAgencyResult.totalRowCount),o(),y(" ",g(13,8,"TITLE.Number")," "),o(2),d("ngIf",e.dataModelAccountAgencyResult.totalRowCount>0),o(2),d("ngForOf",e.dataModelAccountAgencyResult.listItems)}}function U7(n,l){n&1&&C(0,"i",34)}function j7(n,l){if(n&1&&(r(0,"b"),c(1),a()),n&2){let e=m(2).$implicit,i=m(3);o(),y("",i.publicHelper.LocaleDate(e.createdDate)," ")}}function q7(n,l){if(n&1&&(r(0,"p",5),c(1),_(2,"translate"),S(3,j7,2,1,"b",13),c(4),a()),n&2){let e=m().$implicit,i=m(3);o(),y(" ",g(2,3,"TITLE.ADD"),":"),o(2),d("ngIf",!i.viewOnlyTime),o(),y(" ",i.publicHelper.getTime(e.createdDate))}}function Q7(n,l){if(n&1&&(r(0,"b"),c(1),a()),n&2){let e=m(2).$implicit,i=m(3);o(),y("",i.publicHelper.LocaleDate(e.updatedDate)," ")}}function z7(n,l){if(n&1&&(r(0,"p",5),c(1),_(2,"translate"),S(3,Q7,2,1,"b",13),c(4),a()),n&2){let e=m().$implicit,i=m(3);o(),y(" ",g(2,3,"TITLE.Edit"),":"),o(2),d("ngIf",!i.viewOnlyTime),o(),y(" ",i.publicHelper.getTime(e.updatedDate))}}function Y7(n,l){if(n&1&&(r(0,"p"),c(1),_(2,"translate"),r(3,"b",39),c(4),_(5,"cmsuserinfo"),_(6,"async"),a()()),n&2){let e=m().$implicit;o(),y(" ",g(2,2,"TITLE.Edit"),": "),o(3),y(" ",g(6,6,g(5,4,e.updatedBy))," ")}}function K7(n,l){if(n&1){let e=I();A(0),C(1,"div",35),S(2,q7,5,5,"p",36)(3,z7,5,5,"p",36),r(4,"h4",37),E("click",function(t){let s=u(e).$implicit,h=m(3);return f(h.onActionButtonAccountUser(s,t))}),c(5),r(6,"i",38),_(7,"statusIconClass"),E("click",function(t){let s=u(e).$implicit,h=m(3);return f(h.onActionButtonAccountUser(s,t))}),a()(),r(8,"p"),c(9),a(),r(10,"p"),c(11),_(12,"translate"),r(13,"b",39),c(14),_(15,"cmsuserinfo"),_(16,"async"),a()(),S(17,Y7,7,8,"p",13),P()}if(n&2){let e=l.$implicit;o(2),d("ngIf",!e.updatedBy||e.updatedBy<=0),o(),d("ngIf",e.updatedBy>0),o(2),y(" ",e.title),o(),d("ngClass",g(7,8,e.recordStatus)),o(3),y(" ",e.description," "),o(2),y(" ",g(12,10,"TITLE.USER"),": "),o(3),y(" ",g(16,14,g(15,12,e.createdBy))," "),o(3),d("ngIf",e.updatedBy>0&&e.createdBy!==e.updatedBy)}}function Z7(n,l){if(n&1&&(r(0,"div",7)(1,"div",2),C(2,"app-progress-spinner",3),r(3,"div",25)(4,"div",61)(5,"div",27)(6,"button",62),C(7,"i",29),c(8),_(9,"translate"),r(10,"span",30),c(11),a(),c(12),_(13,"translate"),S(14,U7,1,0,"i",31),a(),r(15,"div",63),S(16,K7,18,16,"ng-container",33),a()()()()()()),n&2){let e=m(2);o(2),d("optionsInfoAreaId","dataModelAccountUserResult"),o(6),y(" ",g(9,6,"TITLE.Property_expert")," "),o(3),M(e.dataModelAccountUserResult.totalRowCount),o(),y(" ",g(13,8,"TITLE.Number")," "),o(2),d("ngIf",e.dataModelAccountUserResult.totalRowCount>0),o(2),d("ngForOf",e.dataModelAccountUserResult.listItems)}}function J7(n,l){n&1&&C(0,"i",34)}function X7(n,l){if(n&1&&(r(0,"b"),c(1),a()),n&2){let e=m(2).$implicit,i=m(3);o(),y("",i.publicHelper.LocaleDate(e.createdDate)," ")}}function $7(n,l){if(n&1&&(r(0,"p",5),c(1),_(2,"translate"),S(3,X7,2,1,"b",13),c(4),a()),n&2){let e=m().$implicit,i=m(3);o(),y(" ",g(2,3,"TITLE.ADD"),":"),o(2),d("ngIf",!i.viewOnlyTime),o(),y(" ",i.publicHelper.getTime(e.createdDate))}}function eO(n,l){if(n&1&&(r(0,"b"),c(1),a()),n&2){let e=m(2).$implicit,i=m(3);o(),y("",i.publicHelper.LocaleDate(e.updatedDate)," ")}}function tO(n,l){if(n&1&&(r(0,"p",5),c(1),_(2,"translate"),S(3,eO,2,1,"b",13),c(4),a()),n&2){let e=m().$implicit,i=m(3);o(),y(" ",g(2,3,"TITLE.Edit"),":"),o(2),d("ngIf",!i.viewOnlyTime),o(),y(" ",i.publicHelper.getTime(e.updatedDate))}}function iO(n,l){if(n&1&&(r(0,"p"),c(1),_(2,"translate"),r(3,"b",39),c(4),_(5,"cmsuserinfo"),_(6,"async"),a()()),n&2){let e=m().$implicit;o(),y(" ",g(2,2,"TITLE.Edit"),": "),o(3),y(" ",g(6,6,g(5,4,e.updatedBy))," ")}}function nO(n,l){if(n&1){let e=I();A(0),C(1,"div",35),S(2,$7,5,5,"p",36)(3,tO,5,5,"p",36),r(4,"h4",37),E("click",function(t){let s=u(e).$implicit,h=m(3);return f(h.onActionButtonPropertyCompany(s,t))}),c(5),r(6,"i",38),_(7,"statusIconClass"),E("click",function(t){let s=u(e).$implicit,h=m(3);return f(h.onActionButtonPropertyCompany(s,t))}),a()(),r(8,"p"),c(9),a(),r(10,"p"),c(11),_(12,"translate"),r(13,"b",39),c(14),_(15,"cmsuserinfo"),_(16,"async"),a()(),S(17,iO,7,8,"p",13),P()}if(n&2){let e=l.$implicit;o(2),d("ngIf",!e.updatedBy||e.updatedBy<=0),o(),d("ngIf",e.updatedBy>0),o(2),y(" ",e.title),o(),d("ngClass",g(7,8,e.recordStatus)),o(3),y(" ",e.description," "),o(2),y(" ",g(12,10,"TITLE.USER"),": "),o(3),y(" ",g(16,14,g(15,12,e.createdBy))," "),o(3),d("ngIf",e.updatedBy>0&&e.createdBy!==e.updatedBy)}}function oO(n,l){if(n&1&&(r(0,"div",7)(1,"div",2),C(2,"app-progress-spinner",3),r(3,"div",25)(4,"div",64)(5,"div",27)(6,"button",65),C(7,"i",29),c(8),_(9,"translate"),r(10,"span",30),c(11),a(),c(12),_(13,"translate"),S(14,J7,1,0,"i",31),a(),r(15,"div",66),S(16,nO,18,16,"ng-container",33),a()()()()()()),n&2){let e=m(2);o(2),d("optionsInfoAreaId","dataModelPropertyCompanyResult"),o(6),y(" ",g(9,6,"TITLE.Property_Company")," "),o(3),M(e.dataModelPropertyCompanyResult.totalRowCount),o(),y(" ",g(13,8,"TITLE.Number")," "),o(2),d("ngIf",e.dataModelPropertyCompanyResult.totalRowCount>0),o(2),d("ngForOf",e.dataModelPropertyCompanyResult.listItems)}}function rO(n,l){n&1&&C(0,"i",34)}function aO(n,l){if(n&1&&(r(0,"b"),c(1),a()),n&2){let e=m(2).$implicit,i=m(3);o(),y("",i.publicHelper.LocaleDate(e.createdDate)," ")}}function lO(n,l){if(n&1&&(r(0,"p",5),c(1),_(2,"translate"),S(3,aO,2,1,"b",13),c(4),a()),n&2){let e=m().$implicit,i=m(3);o(),y(" ",g(2,3,"TITLE.ADD"),":"),o(2),d("ngIf",!i.viewOnlyTime),o(),y(" ",i.publicHelper.getTime(e.createdDate))}}function sO(n,l){if(n&1&&(r(0,"b"),c(1),a()),n&2){let e=m(2).$implicit,i=m(3);o(),y("",i.publicHelper.LocaleDate(e.updatedDate)," ")}}function dO(n,l){if(n&1&&(r(0,"p",5),c(1),_(2,"translate"),S(3,sO,2,1,"b",13),c(4),a()),n&2){let e=m().$implicit,i=m(3);o(),y(" ",g(2,3,"TITLE.Edit"),":"),o(2),d("ngIf",!i.viewOnlyTime),o(),y(" ",i.publicHelper.getTime(e.updatedDate))}}function cO(n,l){if(n&1&&(r(0,"p"),c(1),_(2,"translate"),r(3,"b",39),c(4),_(5,"cmsuserinfo"),_(6,"async"),a()()),n&2){let e=m().$implicit;o(),y(" ",g(2,2,"TITLE.Edit"),": "),o(3),y(" ",g(6,6,g(5,4,e.updatedBy))," ")}}function pO(n,l){if(n&1){let e=I();A(0),C(1,"div",35),S(2,lO,5,5,"p",36)(3,dO,5,5,"p",36),r(4,"h4",37),E("click",function(t){let s=u(e).$implicit,h=m(3);return f(h.onActionButtonPropertySupplier(s,t))}),c(5),r(6,"i",38),_(7,"statusIconClass"),E("click",function(t){let s=u(e).$implicit,h=m(3);return f(h.onActionButtonPropertySupplier(s,t))}),a()(),r(8,"p"),c(9),a(),r(10,"p"),c(11),_(12,"translate"),r(13,"b",39),c(14),_(15,"cmsuserinfo"),_(16,"async"),a()(),S(17,cO,7,8,"p",13),P()}if(n&2){let e=l.$implicit;o(2),d("ngIf",!e.updatedBy||e.updatedBy<=0),o(),d("ngIf",e.updatedBy>0),o(2),y(" ",e.title),o(),d("ngClass",g(7,8,e.recordStatus)),o(3),y(" ",e.description," "),o(2),y(" ",g(12,10,"TITLE.USER"),": "),o(3),y(" ",g(16,14,g(15,12,e.createdBy))," "),o(3),d("ngIf",e.updatedBy>0&&e.createdBy!==e.updatedBy)}}function mO(n,l){if(n&1&&(r(0,"div",7)(1,"div",2),C(2,"app-progress-spinner",3),r(3,"div",25)(4,"div",67)(5,"div",27)(6,"button",68),C(7,"i",29),c(8),_(9,"translate"),r(10,"span",30),c(11),a(),c(12),_(13,"translate"),S(14,rO,1,0,"i",31),a(),r(15,"div",69),S(16,pO,18,16,"ng-container",33),a()()()()()()),n&2){let e=m(2);o(2),d("optionsInfoAreaId","dataModelPropertySupplierResult"),o(6),y(" ",g(9,6,"TITLE.Property_Supplier")," "),o(3),M(e.dataModelPropertySupplierResult.totalRowCount),o(),y(" ",g(13,8,"TITLE.Number")," "),o(2),d("ngIf",e.dataModelPropertySupplierResult.totalRowCount>0),o(2),d("ngForOf",e.dataModelPropertySupplierResult.listItems)}}function uO(n,l){n&1&&C(0,"i",34)}function fO(n,l){if(n&1&&(r(0,"b"),c(1),a()),n&2){let e=m(2).$implicit,i=m(3);o(),y("",i.publicHelper.LocaleDate(e.createdDate)," ")}}function _O(n,l){if(n&1&&(r(0,"p",5),c(1),_(2,"translate"),S(3,fO,2,1,"b",13),c(4),a()),n&2){let e=m().$implicit,i=m(3);o(),y(" ",g(2,3,"TITLE.ADD"),":"),o(2),d("ngIf",!i.viewOnlyTime),o(),y(" ",i.publicHelper.getTime(e.createdDate))}}function gO(n,l){if(n&1&&(r(0,"b"),c(1),a()),n&2){let e=m(2).$implicit,i=m(3);o(),y("",i.publicHelper.LocaleDate(e.updatedDate)," ")}}function hO(n,l){if(n&1&&(r(0,"p",5),c(1),_(2,"translate"),S(3,gO,2,1,"b",13),c(4),a()),n&2){let e=m().$implicit,i=m(3);o(),y(" ",g(2,3,"TITLE.Edit"),":"),o(2),d("ngIf",!i.viewOnlyTime),o(),y(" ",i.publicHelper.getTime(e.updatedDate))}}function yO(n,l){if(n&1&&(r(0,"p"),c(1),_(2,"translate"),r(3,"b",39),c(4),_(5,"cmsuserinfo"),_(6,"async"),a()()),n&2){let e=m().$implicit;o(),y(" ",g(2,2,"TITLE.Edit"),": "),o(3),y(" ",g(6,6,g(5,4,e.updatedBy))," ")}}function CO(n,l){if(n&1){let e=I();A(0),C(1,"div",35),S(2,_O,5,5,"p",36)(3,hO,5,5,"p",36),r(4,"h4",37),E("click",function(t){let s=u(e).$implicit,h=m(3);return f(h.onActionButtonPropertyProject(s,t))}),c(5),r(6,"i",38),_(7,"statusIconClass"),E("click",function(t){let s=u(e).$implicit,h=m(3);return f(h.onActionButtonPropertyProject(s,t))}),a()(),r(8,"p"),c(9),a(),r(10,"p"),c(11),_(12,"translate"),r(13,"b",39),c(14),_(15,"cmsuserinfo"),_(16,"async"),a()(),S(17,yO,7,8,"p",13),P()}if(n&2){let e=l.$implicit;o(2),d("ngIf",!e.updatedBy||e.updatedBy<=0),o(),d("ngIf",e.updatedBy>0),o(2),y(" ",e.title),o(),d("ngClass",g(7,8,e.recordStatus)),o(3),y(" ",e.description," "),o(2),y(" ",g(12,10,"TITLE.USER"),": "),o(3),y(" ",g(16,14,g(15,12,e.createdBy))," "),o(3),d("ngIf",e.updatedBy>0&&e.createdBy!==e.updatedBy)}}function SO(n,l){if(n&1&&(r(0,"div",7)(1,"div",2),C(2,"app-progress-spinner",3),r(3,"div",25)(4,"div",70)(5,"div",27)(6,"button",71),C(7,"i",29),c(8),_(9,"translate"),r(10,"span",30),c(11),a(),c(12),_(13,"translate"),S(14,uO,1,0,"i",31),a(),r(15,"div",72),S(16,CO,18,16,"ng-container",33),a()()()()()()),n&2){let e=m(2);o(2),d("optionsInfoAreaId","dataModelPropertyProjectResult"),o(6),y(" ",g(9,6,"TITLE.Property_Project")," "),o(3),M(e.dataModelPropertyProjectResult.totalRowCount),o(),y(" ",g(13,8,"TITLE.Number")," "),o(2),d("ngIf",e.dataModelPropertyProjectResult.totalRowCount>0),o(2),d("ngForOf",e.dataModelPropertyProjectResult.listItems)}}function vO(n,l){if(n&1&&(r(0,"div",6),S(1,H6,17,10,"div",24)(2,Y6,17,10,"div",24)(3,i7,17,10,"div",24)(4,c7,17,10,"div",24)(5,y7,17,10,"div",24)(6,T7,17,10,"div",24)(7,L7,17,10,"div",24)(8,G7,17,10,"div",24)(9,Z7,17,10,"div",24)(10,oO,17,10,"div",24)(11,mO,17,10,"div",24)(12,SO,17,10,"div",24),a()),n&2){let e=m();o(),d("ngIf",e.dataModelPropertyResult.totalRowCount>0),o(),d("ngIf",e.dataModelPropertyResultAvailable.totalRowCount>0),o(),d("ngIf",e.dataModelPropertyResultNotAvailable.totalRowCount>0),o(),d("ngIf",e.dataModelCustomerOrderResult.totalRowCount>0),o(),d("ngIf",e.dataModelCustomerOrderResultAvailable.totalRowCount>0),o(),d("ngIf",e.dataModelCustomerOrderResultNotAvailable.totalRowCount>0),o(),d("ngIf",e.dataModelHistoryResult.totalRowCount>0),o(),d("ngIf",e.dataModelAccountAgencyResult.totalRowCount>0),o(),d("ngIf",e.dataModelAccountUserResult.totalRowCount>0),o(),d("ngIf",e.dataModelPropertyCompanyResult.totalRowCount>0),o(),d("ngIf",e.dataModelPropertySupplierResult.totalRowCount>0),o(),d("ngIf",e.dataModelPropertyProjectResult.totalRowCount>0)}}function EO(n,l){n&1&&(r(0,"div",6)(1,"div",73)(2,"div",2),C(3,"app-progress-spinner",3),r(4,"div",25)(5,"div",43)(6,"div",27),c(7),_(8,"translate"),a()()()()()()),n&2&&(o(3),d("optionsInfoAreaId","dataModelPropertyResultNotAvailable"),o(4),y(" ",g(8,2,"MESSAGE.NO_STATISTICAL_DATA_FOUND")," "))}var As=class As{constructor(l,e,i,t,s,h,p,D,z,he,je,Ge,mt,Nt,Rt,Ut,Fe){this.estatePropertyService=l;this.estatePropertyHistoryService=e;this.estatePropertyCompanyService=i;this.estatePropertySupplierService=t;this.estatePropertyProjectService=s;this.estateCustomerOrderService=h;this.estateAccountExpertService=p;this.estateAccountAgencyService=D;this.publicHelper=z;this.cdr=he;this.cmsToastrService=je;this.themeService=Ge;this.router=mt;this.dialog=Nt;this.translate=Rt;this.tokenHelper=Ut;this.cmsStoreService=Fe;this.constructorInfoAreaId=this.constructor.name;this.unsubscribe=[];this.tokenInfo=new St;this.dataModelPropertyResult=new G;this.dataModelCustomerOrderResult=new G;this.dataModelHistoryResult=new G;this.dataModelAccountUserResult=new G;this.dataModelAccountAgencyResult=new G;this.dataModelPropertyCompanyResult=new G;this.dataModelPropertySupplierResult=new G;this.dataModelPropertyProjectResult=new G;this.dataModelPropertyResultAvailable=new G;this.dataModelCustomerOrderResultAvailable=new G;this.dataModelPropertyResultNotAvailable=new G;this.dataModelCustomerOrderResultNotAvailable=new G;this.fieldsInfo=new Map;this.checkingOnDayRange=new zd({start:new Ct(null),end:new Ct(null)});this.todayStart=new Date(new Date().setHours(0,0,0,0));this.todayEnd=new Date(new Date().setHours(23,59,59,999));this.viewOnlyTime=!1;this.linkCmsUserId=0;this.publicHelper.processService.cdr=this.cdr,this.filterChildrecordStatus=new H,this.filterChildrecordStatusAvailable=new H,this.filterChildrecordStatusAvailable.propertyName="recordStatus",this.filterChildrecordStatusAvailable.value=qe.Available,this.filterChildrecordStatusAvailable.searchType=Oe.Equal,this.filterChildrecordStatusNotAvailable=new H,this.filterChildrecordStatusNotAvailable.propertyName="recordStatus",this.filterChildrecordStatusNotAvailable.value=qe.Available,this.filterChildrecordStatusNotAvailable.searchType=Oe.NotEqual,this.tokenInfo=Fe.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(an=>an.tokenInfoStore).subscribe(an=>re(this,null,function*(){this.tokenInfo=an})))}ngOnInit(){this.checkingOnDayRange.controls.start?.value||this.checkingOnDayRange.controls.start.setValue(this.todayStart),this.checkingOnDayRange.controls.end?.value||this.checkingOnDayRange.controls.end.setValue(this.todayEnd);var l=this.publicHelper.getComponentLocalStorageMap(this.constructor.name,"linkCmsUserId");this.cmsApiStoreSubscribe=this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>re(this,null,function*(){this.linkCmsUserId=e.access.userId,Number.isFinite(l)&&+l>=0&&(this.linkCmsUserId=+l),this.onActionButtonOnDateSearch()})),this.tokenInfo?.access.userId>0&&(this.linkCmsUserId=this.tokenInfo.access.userId),Number.isFinite(l)&&+l>=0&&(this.linkCmsUserId=+l),this.onActionButtonOnDateSearch()}DataGetAllProperty(){let l=this.constructor.name+"DataGetAllProperty",e=new ao;this.checkingOnDayRange.controls.start?.value||this.checkingOnDayRange.controls.start.setValue(this.todayStart),this.checkingOnDayRange.controls.end?.value||this.checkingOnDayRange.controls.end.setValue(this.todayEnd),e.onDateTimeFrom=this.checkingOnDayRange.controls.start.value,e.onDateTimeTo=this.checkingOnDayRange.controls.end.value,e.countLoad=!0,this.linkCmsUserId>0&&(e.linkResponsibleUserId=this.linkCmsUserId),e.filters.push(this.filterChildrecordStatus),this.publicHelper.processService.processStart(l,"\u062F\u0631\u06CC\u0627\u0641\u062A \u0627\u0637\u0644\u0627\u0639\u0627\u062A \u0627\u0645\u0644\u0627\u06A9","dataModelPropertyResult"),this.estatePropertyService.ServiceGetAll(e).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),i.isSuccess&&(this.dataModelPropertyResult=i,this.publicHelper.processService.processStop(l))}})}DataGetAllPropertyAvailable(){let l=this.constructor.name+"DataGetAllPropertyAvailable",e=new ao;this.checkingOnDayRange.controls.start?.value||this.checkingOnDayRange.controls.start.setValue(this.todayStart),this.checkingOnDayRange.controls.end?.value||this.checkingOnDayRange.controls.end.setValue(this.todayEnd),e.onDateTimeFrom=this.checkingOnDayRange.controls.start.value,e.onDateTimeTo=this.checkingOnDayRange.controls.end.value,e.countLoad=!0,this.linkCmsUserId>0&&(e.linkResponsibleUserId=this.linkCmsUserId),e.filters.push(this.filterChildrecordStatusAvailable),this.publicHelper.processService.processStart(l,"\u062F\u0631\u06CC\u0627\u0641\u062A \u0627\u0637\u0644\u0627\u0639\u0627\u062A \u0627\u0645\u0644\u0627\u06A9","dataModelPropertyResultAvailable"),this.estatePropertyService.ServiceGetAll(e).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),i.isSuccess&&(this.dataModelPropertyResultAvailable=i,this.publicHelper.processService.processStop(l))}})}DataGetAllPropertyNotAvailable(){let l=this.constructor.name+"DataGetAllPropertyNotAvailable",e=new ao;this.checkingOnDayRange.controls.start?.value||this.checkingOnDayRange.controls.start.setValue(this.todayStart),this.checkingOnDayRange.controls.end?.value||this.checkingOnDayRange.controls.end.setValue(this.todayEnd),e.onDateTimeFrom=this.checkingOnDayRange.controls.start.value,e.onDateTimeTo=this.checkingOnDayRange.controls.end.value,e.countLoad=!0,this.linkCmsUserId>0&&(e.linkResponsibleUserId=this.linkCmsUserId),e.filters.push(this.filterChildrecordStatusNotAvailable),this.publicHelper.processService.processStart(l,"\u062F\u0631\u06CC\u0627\u0641\u062A \u0627\u0637\u0644\u0627\u0639\u0627\u062A \u0627\u0645\u0644\u0627\u06A9","dataModelPropertyResultNotAvailable"),this.estatePropertyService.ServiceGetAll(e).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),i.isSuccess&&(this.dataModelPropertyResultNotAvailable=i,this.publicHelper.processService.processStop(l))}})}DataGetAllCustomerOrder(){let l=this.constructor.name+"DataGetAllCustomerOrder",e=new er;this.checkingOnDayRange.controls.start?.value||this.checkingOnDayRange.controls.start.setValue(this.todayStart),this.checkingOnDayRange.controls.end?.value||this.checkingOnDayRange.controls.end.setValue(this.todayEnd),e.onDateTimeFrom=this.checkingOnDayRange.controls.start.value,e.onDateTimeTo=this.checkingOnDayRange.controls.end.value,e.countLoad=!0,this.linkCmsUserId>0&&(e.linkResponsibleUserId=this.linkCmsUserId),e.filters.push(this.filterChildrecordStatus),this.publicHelper.processService.processStart(l,"\u062F\u0631\u06CC\u0627\u0641\u062A \u0627\u0637\u0644\u0627\u0639\u0627\u062A \u0633\u0641\u0627\u0631\u0634\u0627\u062A","dataModelCustomerOrderResult"),this.estateCustomerOrderService.ServiceGetAll(e).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),i.isSuccess&&(this.dataModelCustomerOrderResult=i,this.publicHelper.processService.processStop(l))}})}DataGetAllCustomerOrderAvailable(){let l=this.constructor.name+"DataGetAllCustomerOrderAvailable",e=new er;this.checkingOnDayRange.controls.start?.value||this.checkingOnDayRange.controls.start.setValue(this.todayStart),this.checkingOnDayRange.controls.end?.value||this.checkingOnDayRange.controls.end.setValue(this.todayEnd),e.onDateTimeFrom=this.checkingOnDayRange.controls.start.value,e.onDateTimeTo=this.checkingOnDayRange.controls.end.value,e.countLoad=!0,this.linkCmsUserId>0&&(e.linkResponsibleUserId=this.linkCmsUserId),e.filters.push(this.filterChildrecordStatusAvailable),this.publicHelper.processService.processStart(l,"\u062F\u0631\u06CC\u0627\u0641\u062A \u0627\u0637\u0644\u0627\u0639\u0627\u062A \u0633\u0641\u0627\u0631\u0634\u0627\u062A","dataModelCustomerOrderResultAvailable"),this.estateCustomerOrderService.ServiceGetAll(e).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),i.isSuccess&&(this.dataModelCustomerOrderResultAvailable=i,this.publicHelper.processService.processStop(l))}})}DataGetAllCustomerOrderNotAvailable(){let l=this.constructor.name+"DataGetAllCustomerOrderNotAvailable",e=new er;this.checkingOnDayRange.controls.start?.value||this.checkingOnDayRange.controls.start.setValue(this.todayStart),this.checkingOnDayRange.controls.end?.value||this.checkingOnDayRange.controls.end.setValue(this.todayEnd),e.onDateTimeFrom=this.checkingOnDayRange.controls.start.value,e.onDateTimeTo=this.checkingOnDayRange.controls.end.value,e.countLoad=!0,this.linkCmsUserId>0&&(e.linkResponsibleUserId=this.linkCmsUserId),e.filters.push(this.filterChildrecordStatusNotAvailable),this.publicHelper.processService.processStart(l,"\u062F\u0631\u06CC\u0627\u0641\u062A \u0627\u0637\u0644\u0627\u0639\u0627\u062A \u0633\u0641\u0627\u0631\u0634\u0627\u062A","dataModelCustomerOrderResultNotAvailable"),this.estateCustomerOrderService.ServiceGetAll(e).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),i.isSuccess&&(this.dataModelCustomerOrderResultNotAvailable=i,this.publicHelper.processService.processStop(l))}})}DataGetAllPropertyHistory(){let l=this.constructor.name+"DataGetAllPropertyHistory",e=new wa;this.checkingOnDayRange.controls.start?.value||this.checkingOnDayRange.controls.start.setValue(this.todayStart),this.checkingOnDayRange.controls.end?.value||this.checkingOnDayRange.controls.end.setValue(this.todayEnd),e.onDateTimeFrom=this.checkingOnDayRange.controls.start.value,e.onDateTimeTo=this.checkingOnDayRange.controls.end.value,e.countLoad=!0,this.linkCmsUserId>0&&(e.linkResponsibleUserId=this.linkCmsUserId),e.filters.push(this.filterChildrecordStatus),this.publicHelper.processService.processStart(l,"\u062F\u0631\u06CC\u0627\u0641\u062A \u0627\u0637\u0644\u0627\u0639\u0627\u062A \u062A\u0627\u0631\u06CC\u062E\u0686\u0647","dataModelHistoryResult"),this.estatePropertyHistoryService.ServiceGetAll(e).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),i.isSuccess&&(this.dataModelHistoryResult=i,this.publicHelper.processService.processStop(l))}})}DataGetAllPropertyCompany(){let l=this.constructor.name+"DataGetAllPropertyCompany",e=new Ta;this.checkingOnDayRange.controls.start?.value||this.checkingOnDayRange.controls.start.setValue(this.todayStart),this.checkingOnDayRange.controls.end?.value||this.checkingOnDayRange.controls.end.setValue(this.todayEnd),e.onDateTimeFrom=this.checkingOnDayRange.controls.start.value,e.onDateTimeTo=this.checkingOnDayRange.controls.end.value,e.countLoad=!0,this.linkCmsUserId>0&&(e.linkResponsibleUserId=this.linkCmsUserId),e.filters.push(this.filterChildrecordStatus),this.publicHelper.processService.processStart(l,"\u062F\u0631\u06CC\u0627\u0641\u062A \u0627\u0637\u0644\u0627\u0639\u0627\u062A \u0634\u0631\u06A9\u062A \u0647\u0627\u06CC \u0633\u0627\u062E\u062A\u0645\u0627\u0646\u06CC","dataModelPropertyCompanyResult"),this.estatePropertyCompanyService.ServiceGetAll(e).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),i.isSuccess&&(this.dataModelPropertyCompanyResult=i,this.publicHelper.processService.processStop(l))}})}DataGetAllPropertySupplier(){let l=this.constructor.name+"DataGetAllPropertySupplier",e=new lc;this.checkingOnDayRange.controls.start?.value||this.checkingOnDayRange.controls.start.setValue(this.todayStart),this.checkingOnDayRange.controls.end?.value||this.checkingOnDayRange.controls.end.setValue(this.todayEnd),e.onDateTimeFrom=this.checkingOnDayRange.controls.start.value,e.onDateTimeTo=this.checkingOnDayRange.controls.end.value,e.countLoad=!0,this.linkCmsUserId>0&&(e.linkResponsibleUserId=this.linkCmsUserId),e.filters.push(this.filterChildrecordStatus),this.publicHelper.processService.processStart(l,"\u062F\u0631\u06CC\u0627\u0641\u062A \u0627\u0637\u0644\u0627\u0639\u0627\u062A \u062A\u0627\u0645\u06CC\u0646 \u06A9\u0646\u0646\u062F","dataModelPropertySupplierResult"),this.estatePropertySupplierService.ServiceGetAll(e).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),i.isSuccess&&(this.dataModelPropertySupplierResult=i,this.publicHelper.processService.processStop(l))}})}DataGetAllPropertyProject(){let l=this.constructor.name+"DataGetAllPropertyProject",e=new xa;this.checkingOnDayRange.controls.start?.value||this.checkingOnDayRange.controls.start.setValue(this.todayStart),this.checkingOnDayRange.controls.end?.value||this.checkingOnDayRange.controls.end.setValue(this.todayEnd),e.onDateTimeFrom=this.checkingOnDayRange.controls.start.value,e.onDateTimeTo=this.checkingOnDayRange.controls.end.value,e.countLoad=!0,this.linkCmsUserId>0&&(e.linkResponsibleUserId=this.linkCmsUserId),e.filters.push(this.filterChildrecordStatus),this.publicHelper.processService.processStart(l,"\u062F\u0631\u06CC\u0627\u0641\u062A \u0627\u0637\u0644\u0627\u0639\u0627\u062A \u067E\u0631\u0648\u0698\u0647 \u0647\u0627","dataModelPropertyProjectResult"),this.estatePropertyProjectService.ServiceGetAll(e).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),i.isSuccess&&(this.dataModelPropertyProjectResult=i,this.publicHelper.processService.processStop(l))}})}DataGetAllAccountUser(){let l=this.constructor.name+"DataGetAllAccountUser",e=new sa;this.checkingOnDayRange.controls.start?.value||this.checkingOnDayRange.controls.start.setValue(this.todayStart),this.checkingOnDayRange.controls.end?.value||this.checkingOnDayRange.controls.end.setValue(this.todayEnd),e.onDateTimeFrom=this.checkingOnDayRange.controls.start.value,e.onDateTimeTo=this.checkingOnDayRange.controls.end.value,e.countLoad=!0,this.linkCmsUserId>0&&(e.linkResponsibleUserId=this.linkCmsUserId),e.filters.push(this.filterChildrecordStatus),this.publicHelper.processService.processStart(l,"\u062F\u0631\u06CC\u0627\u0641\u062A \u0627\u0637\u0644\u0627\u0639\u0627\u062A \u062D\u0633\u0627\u0628 \u06A9\u0627\u0631\u0628\u0631\u06CC","dataModelAccountUserResult"),this.estateAccountExpertService.ServiceGetAll(e).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),i.isSuccess&&(this.dataModelAccountUserResult=i,this.publicHelper.processService.processStop(l))}})}DataGetAllAccountAgency(){let l=this.constructor.name+"DataGetAllAccountAgency",e=new ba;this.checkingOnDayRange.controls.start?.value||this.checkingOnDayRange.controls.start.setValue(this.todayStart),this.checkingOnDayRange.controls.end?.value||this.checkingOnDayRange.controls.end.setValue(this.todayEnd),e.onDateTimeFrom=this.checkingOnDayRange.controls.start.value,e.onDateTimeTo=this.checkingOnDayRange.controls.end.value,e.countLoad=!0,this.linkCmsUserId>0&&(e.linkResponsibleUserId=this.linkCmsUserId),e.filters.push(this.filterChildrecordStatus),this.publicHelper.processService.processStart(l,"\u062F\u0631\u06CC\u0627\u0641\u062A \u0627\u0637\u0644\u0627\u0639\u0627\u062A \u06A9\u0627\u0631\u0634\u0646\u0627\u0633","dataModelAccountAgencyResult"),this.estateAccountAgencyService.ServiceGetAll(e).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),i.isSuccess&&(this.dataModelAccountAgencyResult=i,this.publicHelper.processService.processStop(l))}})}ngOnDestroy(){this.cmsApiStoreSubscribe&&this.cmsApiStoreSubscribe.unsubscribe(),this.unsubscribe&&this.unsubscribe.forEach(l=>l.unsubscribe())}onActionButtonOnDateSearch(){this.viewOnlyTime=!1,this.checkingOnDayRange.controls.start?.value&&this.checkingOnDayRange.controls.end?.value&&this.checkingOnDayRange.controls.start.value?.toISOString()===this.checkingOnDayRange.controls.end.value?.toISOString()&&(this.viewOnlyTime=!0),this.DataGetAllProperty(),this.DataGetAllPropertyAvailable(),this.DataGetAllPropertyNotAvailable(),this.DataGetAllCustomerOrder(),this.DataGetAllCustomerOrderAvailable(),this.DataGetAllCustomerOrderNotAvailable(),this.DataGetAllPropertyHistory(),this.DataGetAllAccountUser(),this.DataGetAllAccountAgency(),this.DataGetAllPropertyCompany(),this.DataGetAllPropertySupplier(),this.DataGetAllPropertyProject()}onActionSelectorUser(l){this.linkCmsUserId=0,l&&l.id>0&&(this.linkCmsUserId=l.id),this.publicHelper.setComponentLocalStorageMap(this.constructor.name,"linkCmsUserId",this.linkCmsUserId),this.onActionButtonOnDateSearch()}onActionToDay(){this.checkingOnDayRange.controls.start.setValue(this.todayStart),this.checkingOnDayRange.controls.end.setValue(this.todayEnd),this.onActionButtonOnDateSearch()}onActionNext(){this.checkingOnDayRange.controls.start?.value||this.checkingOnDayRange.controls.start.setValue(this.todayStart),this.checkingOnDayRange.controls.end?.value||this.checkingOnDayRange.controls.end.setValue(this.todayEnd),this.checkingOnDayRange.controls.start.setValue(this.addDays(this.checkingOnDayRange.controls.start.value,1)),this.checkingOnDayRange.controls.end.setValue(this.addDays(this.checkingOnDayRange.controls.end.value,1)),this.onActionButtonOnDateSearch()}onActionPervious(){this.checkingOnDayRange.controls.start?.value||this.checkingOnDayRange.controls.start.setValue(this.todayStart),this.checkingOnDayRange.controls.end?.value||this.checkingOnDayRange.controls.end.setValue(this.todayEnd),this.checkingOnDayRange.controls.start.setValue(this.addDays(this.checkingOnDayRange.controls.start.value,-1)),this.checkingOnDayRange.controls.end.setValue(this.addDays(this.checkingOnDayRange.controls.end.value,-1)),this.onActionButtonOnDateSearch()}addDays(l,e){let i=new Date(l);return i.setDate(i.getDate()+e),i}onActionButtonProperty(l,e,i){if(!l||!l.id||l.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(D=>{this.cmsToastrService.typeErrorSelected(D)});return}var t=this.publicHelper.InfoNextRowInList(e,l),s=this.publicHelper.InfoPerviousRowInList(e,l),h="";this.publicHelper.isMobile?h="dialog-fullscreen":h="dialog-min",this.dialog.open(qo,{height:"90%",panelClass:h,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:l.id,perviousItem:s,nextItem:t}}).afterClosed().subscribe(D=>{D&&D.dialogChangedDate&&D.onActionOpenItem&&D.onActionOpenItem.id.length>0&&this.onActionButtonProperty(D.onActionOpenItem,e)})}onActionButtonCustomerOrder(l,e,i){if(!l||!l.id||l.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(D=>{this.cmsToastrService.typeErrorSelected(D)});return}var t=this.publicHelper.InfoNextRowInList(e,l),s=this.publicHelper.InfoPerviousRowInList(e,l),h="";this.publicHelper.isMobile?h="dialog-fullscreen":h="dialog-min",this.dialog.open(yr,{height:"90%",panelClass:h,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:l.id,perviousItem:s,nextItem:t}}).afterClosed().subscribe(D=>{D&&D.dialogChangedDate&&D.onActionOpenItem&&D.onActionOpenItem.id.length>0&&this.onActionButtonCustomerOrder(D.onActionOpenItem,e)})}onActionButtonHistory(l,e){if(!l||!l.id||l.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(p=>{this.cmsToastrService.typeErrorSelected(p)});return}var i=this.publicHelper.InfoNextRowInList(this.dataModelHistoryResult.listItems,l),t=this.publicHelper.InfoPerviousRowInList(this.dataModelHistoryResult.listItems,l),s="";this.publicHelper.isMobile?s="dialog-fullscreen":s="dialog-min",this.dialog.open(ds,{height:"90%",panelClass:s,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:l.id,perviousItem:t,nextItem:i}}).afterClosed().subscribe(p=>{p&&p.dialogChangedDate&&p.onActionOpenItem&&p.onActionOpenItem.id.length>0&&this.onActionButtonHistory(p.onActionOpenItem)})}onActionButtonAccountAgency(l,e){if(!l||!l.id||l.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(e?.ctrlKey){var i="/#/estate/account-agency/LinkCustomerOrderId/"+l.id;window.open(i,"_blank")}else this.router.navigate(["/estate/account-agency/LinkCustomerOrderId/",l.id])}onActionButtonAccountUser(l,e){if(!l||!l.id||l.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(e?.ctrlKey){var i="/#/estate/account-user/LinkCustomerOrderId/"+l.id;window.open(i,"_blank")}else this.router.navigate(["/estate/account-user/LinkCustomerOrderId/",l.id])}onActionButtonPropertyProject(l,e){if(!l||!l.id||l.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(p=>{this.cmsToastrService.typeErrorSelected(p)});return}var i=this.publicHelper.InfoNextRowInList(this.dataModelPropertyProjectResult.listItems,l),t=this.publicHelper.InfoPerviousRowInList(this.dataModelPropertyProjectResult.listItems,l),s="";this.publicHelper.isMobile?s="dialog-fullscreen":s="dialog-min",this.dialog.open(tp,{height:"90%",panelClass:s,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:l.id,perviousItem:t,nextItem:i}}).afterClosed().subscribe(p=>{p&&p.dialogChangedDate&&p.onActionOpenItem&&p.onActionOpenItem.id.length>0&&this.onActionButtonPropertyProject(p.onActionOpenItem)})}onActionButtonPropertySupplier(l,e){if(!l||!l.id||l.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(p=>{this.cmsToastrService.typeErrorSelected(p)});return}var i=this.publicHelper.InfoNextRowInList(this.dataModelPropertySupplierResult.listItems,l),t=this.publicHelper.InfoPerviousRowInList(this.dataModelPropertySupplierResult.listItems,l),s="";this.publicHelper.isMobile?s="dialog-fullscreen":s="dialog-min",this.dialog.open(ip,{height:"90%",panelClass:s,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:l.id,perviousItem:t,nextItem:i}}).afterClosed().subscribe(p=>{p&&p.dialogChangedDate&&p.onActionOpenItem&&p.onActionOpenItem.id.length>0&&this.onActionButtonPropertySupplier(p.onActionOpenItem)})}onActionButtonPropertyCompany(l,e){if(!l||!l.id||l.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(p=>{this.cmsToastrService.typeErrorSelected(p)});return}var i=this.publicHelper.InfoNextRowInList(this.dataModelPropertyCompanyResult.listItems,l),t=this.publicHelper.InfoPerviousRowInList(this.dataModelPropertyCompanyResult.listItems,l),s="";this.publicHelper.isMobile?s="dialog-fullscreen":s="dialog-min",this.dialog.open(ep,{height:"90%",panelClass:s,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:l.id,perviousItem:t,nextItem:i}}).afterClosed().subscribe(p=>{p&&p.dialogChangedDate&&p.onActionOpenItem&&p.onActionOpenItem.id.length>0&&this.onActionButtonPropertyCompany(p.onActionOpenItem)})}};As.\u0275fac=function(e){return new(e||As)(v(ui),v(zn),v(fn),v(Yn),v(_n),v(Yi),v(un),v(Dn),v(F),v(B),v(V),v(kt),v(Ze),v(xe),v(L),v(K),v(Z))},As.\u0275cmp=R({type:As,selectors:[["app-estate-overview-events"]],standalone:!1,decls:35,vars:29,consts:[["picker",""],["other_content",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[1,"row"],[1,"col-12","col-sm-12","col-md-6","col-lg-6"],["appearance","fill"],[3,"formGroup","rangePicker"],["matStartDate","","formControlName","start",3,"placeholder"],["matEndDate","","formControlName","end",3,"placeholder"],["matIconSuffix","",3,"for"],[4,"ngIf"],[1,"col-12","col-sm-12","col-md-6","col-lg-6","loader-container"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray",3,"click",4,"ngIf"],[3,"optionSelectForce","optionPlaceholder","optionChange",4,"ngIf"],["href","javascript:void(0)","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-highlight",3,"click",4,"ngIf"],["class","col-12 col-sm-12 col-md-6 col-lg-6 loader-container",4,"ngIf"],["class","row ",4,"ngIf","ngIfElse"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],[3,"optionChange","optionSelectForce","optionPlaceholder"],["href","javascript:void(0)",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],["class","col-12 col-sm-12 col-md-6 col-lg-6 ",4,"ngIf"],[1,"content"],["id","accordion-1A",1,"accordion"],[1,"mb-2"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapse1A",1,"btn","accordion-btn","no-effect","color-theme"],[1,"fa","fa-cloud","color-blue-dark","me-2"],[1,"text-muted","fw-bold","fs-7"],["class","fa fa-arrow-down font-10 accordion-icon",4,"ngIf"],["id","collapse1A","data-bs-parent","#accordion-1",1,"collapse"],[4,"ngFor","ngForOf"],[1,"fa","fa-arrow-down","font-10","accordion-icon"],[1,"divider","divider-margins","bg-highlight"],["class","mb-0 color-highlight font-600 font-12",4,"ngIf"],[2,"cursor","pointer",3,"click"],[1,"float-end",3,"click","ngClass"],["dir","ltr"],["id","accordion-1B",1,"accordion"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapse1B",1,"btn","accordion-btn","no-effect","color-theme"],["id","collapse1B","data-bs-parent","#accordion-1",1,"collapse"],["id","accordion-1C",1,"accordion"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapse1C",1,"btn","accordion-btn","no-effect","color-theme"],["id","collapse1C","data-bs-parent","#accordion-1",1,"collapse"],["id","accordion-2A",1,"accordion"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapse2A",1,"btn","accordion-btn","no-effect","color-theme"],["id","collapse2A","data-bs-parent","#accordion-2",1,"collapse"],["id","accordion-2B",1,"accordion"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapse2B",1,"btn","accordion-btn","no-effect","color-theme"],["id","collapse2B","data-bs-parent","#accordion-2",1,"collapse"],["id","accordion-2C",1,"accordion"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapse2C",1,"btn","accordion-btn","no-effect","color-theme"],["id","collapse2C","data-bs-parent","#accordion-2",1,"collapse"],["id","accordion-3",1,"accordion"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapse3",1,"btn","accordion-btn","no-effect","color-theme"],["id","collapse3","data-bs-parent","#accordion-3",1,"collapse"],["id","accordion-4",1,"accordion"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapse4",1,"btn","accordion-btn","no-effect","color-theme"],["id","collapse4","data-bs-parent","#accordion-4",1,"collapse"],["id","accordion-5",1,"accordion"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapse5",1,"btn","accordion-btn","no-effect","color-theme"],["id","collapse5","data-bs-parent","#accordion-5",1,"collapse"],["id","accordion-6",1,"accordion"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapse6",1,"btn","accordion-btn","no-effect","color-theme"],["id","collapse6","data-bs-parent","#accordion-6",1,"collapse"],["id","accordion-7",1,"accordion"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapse7",1,"btn","accordion-btn","no-effect","color-theme"],["id","collapse7","data-bs-parent","#accordion-7",1,"collapse"],["id","accordion-8",1,"accordion"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapse8",1,"btn","accordion-btn","no-effect","color-theme"],["id","collapse8","data-bs-parent","#accordion-8",1,"collapse"],[1,"col-12","col-sm-12"]],template:function(e,i){if(e&1&&(r(0,"div",2),C(1,"app-progress-spinner",3),r(2,"div",4)(3,"p",5),c(4),_(5,"translate"),a(),r(6,"div",6)(7,"div",7)(8,"mat-form-field",8)(9,"mat-label"),c(10),_(11,"translate"),a(),r(12,"mat-date-range-input",9),C(13,"input",10),_(14,"translate"),C(15,"input",11),_(16,"translate"),a(),C(17,"mat-datepicker-toggle",12)(18,"mat-date-range-picker",null,0),S(20,M6,3,3,"mat-error",13)(21,b6,3,3,"mat-error",13),a()(),r(22,"div",14),S(23,T6,3,0,"button",15)(24,w6,3,0,"button",15)(25,x6,4,3,"button",15),a(),r(26,"div",14),S(27,A6,2,4,"app-cms-user-selector",16),a(),r(28,"div",14),S(29,P6,3,3,"a",17),a()(),S(30,k6,6,12,"div",18)(31,D6,4,5,"div",18),a()(),S(32,vO,13,12,"div",19)(33,EO,9,4,"ng-template",null,1,em)),e&2){let t=k(19),s=k(34);o(),d("optionsInfoAreaId",i.constructorInfoAreaId),o(3),y(" ",g(5,21,"TITLE.Event_Review")," "),o(6),M(g(11,23,"TITLE.Enter_a_date_range")),o(2),d("formGroup",i.checkingOnDayRange)("rangePicker",t),o(),d("placeholder",x(g(14,25,"TITLE.Start_Date"))),o(2),d("placeholder",x(g(16,27,"TITLE.Start_Date"))),o(2),d("for",t),o(3),d("ngIf",i.checkingOnDayRange.controls.start.hasError("matStartDateInvalid")),o(),d("ngIf",i.checkingOnDayRange.controls.end.hasError("matEndDateInvalid")),o(2),d("ngIf",!i.publicHelper.processService.process.inRunAll),o(),d("ngIf",!i.publicHelper.processService.process.inRunAll),o(),d("ngIf",!i.publicHelper.processService.process.inRunAll),o(2),d("ngIf",i.tokenHelper.isAdminSite),o(2),d("ngIf",!i.publicHelper.processService.process.inRunAll),o(),d("ngIf",i.checkingOnDayRange==null||i.checkingOnDayRange.controls==null||i.checkingOnDayRange.controls.start==null?null:i.checkingOnDayRange.controls.start.value),o(),d("ngIf",i.linkCmsUserId>0),o(),d("ngIf",i.dataModelPropertyProjectResult.totalRowCount>0||i.dataModelPropertySupplierResult.totalRowCount>0||i.dataModelPropertyCompanyResult.totalRowCount>0||i.dataModelAccountUserResult.totalRowCount>0||i.dataModelAccountAgencyResult.totalRowCount>0||i.dataModelHistoryResult.totalRowCount>0||i.dataModelCustomerOrderResultNotAvailable.totalRowCount>0||i.dataModelCustomerOrderResultAvailable.totalRowCount>0||i.dataModelCustomerOrderResult.totalRowCount>0||i.dataModelPropertyResultNotAvailable.totalRowCount>0||i.dataModelPropertyResultAvailable.totalRowCount>0||i.dataModelPropertyResult.totalRowCount>0)("ngIfElse",s)}},dependencies:[se,Ne,N,Y,q,Te,Yd,Kd,di,ln,$d,ec,tc,ic,mi,pi,we,et,$i,U,He,O,Ai,Jn,qt],styles:["table[_ngcontent-%COMP%]{border:2px solid black}th[_ngcontent-%COMP%]{text-align:center}.timeline-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{display:none}.timeline-content[_ngcontent-%COMP%]:hover   p[_ngcontent-%COMP%]{display:inline-block}.card-body-3d[_ngcontent-%COMP%]{transform:perspective(750px) translateZ(-250px) rotateX(27deg) scale(.9);border-radius:20px;border:5px solid #e6e6e6;box-shadow:0 70px 40px -20px #0003;transition:.4s ease-in-out transform}.card-body-3d[_ngcontent-%COMP%]:hover{transform:translateZ(-250px)}"]});var np=As;var Ps=class Ps{constructor(l,e,i,t,s,h){this.publicHelper=l;this.cdr=e;this.cmsToastrService=i;this.dialog=t;this.translate=s;this.tokenHelper=h;this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new G;this.fieldsInfo=new Map;this.publicHelper.processService.cdr=this.cdr}ngOnInit(){}ngOnDestroy(){this.cmsApiStoreSubscribe&&this.cmsApiStoreSubscribe.unsubscribe()}};Ps.\u0275fac=function(e){return new(e||Ps)(v(F),v(B),v(V),v(xe),v(L),v(K))},Ps.\u0275cmp=R({type:Ps,selectors:[["app-estate-overview-summary"]],standalone:!1,decls:1,vars:0,template:function(e,i){e&1&&c(0,"summary.componentsummary.componentsummary.componentsummary.componentsummary.componentsummary.componentsummary.component")},encapsulation:2});var op=Ps;var IO=["*"];function MO(n,l){if(n&1&&(r(0,"label",13),c(1),a()),n&2){let e=m();d("for",ve("app-cms-site-selector-",e.id)),o(),M(e.optionLabel)}}function bO(n,l){if(n&1&&(C(0,"img",14),_(1,"cmsthumbnail")),n&2){let e=m();d("src",x(g(1,2,e.dataModelSelect==null?null:e.dataModelSelect.linkMainImageIdSrc)),j)}}function TO(n,l){if(n&1&&(C(0,"img",14),_(1,"cmsthumbnail")),n&2){let e=m().$implicit;d("src",x(g(1,2,e.linkMainImageIdSrc)),j)}}function wO(n,l){if(n&1&&(r(0,"mat-option",15),S(1,TO,2,4,"img",5),r(2,"span"),c(3),a()()),n&2){let e=l.$implicit,i=m();d("value",e)("disabled",i.optionDisabled),o(),d("ngIf",e.linkMainImageIdSrc),o(2),M(i.displayOption(e))}}function xO(n,l){n&1&&C(0,"i",16)}function AO(n,l){n&1&&C(0,"i",17)}function PO(n,l){if(n&1){let e=I();r(0,"i",18),E("click",function(){u(e);let t=m();return f(t.onActionSelectClear())}),a()}}function kO(n,l){n&1&&(r(0,"em"),c(1),_(2,"translate"),a()),n&2&&(o(),y("(",g(2,1,"TITLE.Necessary"),")"))}var na=class na{constructor(l,e,i,t,s,h){this.coreEnumService=l;this.cmsToastrService=e;this.translate=i;this.cdr=t;this.publicHelper=s;this.categoryService=h;this.id=++na.nextId;this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new G;this.dataModelSelect=new In;this.formControl=new Ct;this.optionDisabled=!1;this.optionRequired=!1;this.optionSelectFirstItem=!1;this.optionPlaceholder="";this.optionLabel="";this.optionChange=new Xe;this.optionReload=()=>this.onActionButtonReload();this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(l){this.onActionSelectForce(l)}ngOnInit(){this.loadOptions(),(!this.optionLabel||this.optionLabel.length==0&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder)}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(Kt(""),Yt(1500),Ii(),Zt(l=>typeof l=="string"||typeof l=="number"?this.DataGetAll(l||""):[]))}displayFn(l){return l?l.title:void 0}displayOption(l){return l?l.title:void 0}DataGetAll(l){return re(this,null,function*(){let e=new pe;e.rowPerPage=20,e.accessLoad=!0;let i=new H;l&&l.length>0&&(i.propertyName="Title",i.value=l,i.searchType=Oe.Contains,e.filters.push(i),i=new H,i.propertyName="Id",i.value=l,i.searchType=Oe.Equal,i.clauseType=Ve.Or,e.filters.push(i));let t=this.constructor.name+"main";return this.translate.get("MESSAGE.Receiving_information").subscribe(s=>{this.publicHelper.processService.processStart(t,s,this.constructorInfoAreaId)}),yield Ei(this.categoryService.ServiceGetAll(e)).then(s=>(this.dataModelResult=s,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||this.dataModelSelect.id.length===0)&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0])},1e3),this.onActionSelect(this.dataModelResult.listItems[0])),this.publicHelper.processService.processStop(t),s.listItems))})}onActionSelect(l){this.optionDisabled||(this.dataModelSelect=l,this.optionChange.emit(this.dataModelSelect))}onActionSelectClear(){this.optionDisabled||(this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null))}push(l){return this.filteredOptions.pipe(Lt(e=>(e.find(i=>i.id===l.id)||e.push(l),e)))}onActionSelectForce(l){if(typeof l=="string"&&l.length>0){if(this.dataModelSelect&&this.dataModelSelect.id===l)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(e=>e.id===l)){let e=this.dataModelResult.listItems.find(i=>i.id===l);this.dataModelSelect=e,this.formControl.setValue(e);return}this.categoryService.ServiceGetOneById(l).subscribe({next:e=>{e.isSuccess?(this.filteredOptions=this.push(e.item),this.dataModelSelect=e.item,this.formControl.setValue(e.item),this.optionChange.emit(e.item)):this.cmsToastrService.typeErrorMessage(e.errorMessage)}});return}if(typeof l==typeof In){this.filteredOptions=this.push(l),this.dataModelSelect=l,this.formControl.setValue(l);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new In,this.loadOptions()}};na.nextId=0,na.\u0275fac=function(e){return new(e||na)(v(J),v(V),v(L),v(B),v(F),v(Qn))},na.\u0275cmp=R({type:na,selectors:[["app-estate-ads-type-selector"]],inputs:{optionDisabled:"optionDisabled",optionRequired:"optionRequired",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionLabel:"optionLabel",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange"},standalone:!1,ngContentSelectors:IO,decls:16,vars:19,consts:[["matauto","matAutocomplete"],[1,"input-style","has-borders","has-icon","input-style-always-active","validate-field","mb-4","loader-container"],[3,"optionsInfoAreaId"],["class","color-highlight",3,"for",4,"ngIf"],["matPrefix",""],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","25","width","25",3,"src",4,"ngIf"],["type","text","aria-label","Assignee","matInput","",3,"placeholder","formControl","matAutocomplete","required","id"],[3,"optionSelected","displayWith"],[3,"value","disabled",4,"ngFor","ngForOf"],["class","fa fa-info  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],["class","fa fa-times  action color-red-dark",3,"click",4,"ngIf"],[4,"ngIf"],[1,"color-highlight",3,"for"],["aria-hidden","","height","25","width","25",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"value","disabled"],[1,"fa","fa-info","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"fa","fa-times","action","color-red-dark",3,"click"]],template:function(e,i){if(e&1){let t=I();gi(),r(0,"div",1),C(1,"app-progress-spinner",2),S(2,MO,2,3,"label",3),r(3,"span",4),S(4,bO,2,4,"img",5),c(5," \xA0"),a(),C(6,"input",6),r(7,"mat-autocomplete",7,0),E("optionSelected",function(h){return u(t),f(i.onActionSelect(h.option.value))}),S(9,wO,4,4,"mat-option",8),_(10,"async"),a(),S(11,xO,1,0,"i",9)(12,AO,1,0,"i",10)(13,PO,1,0,"i",11)(14,kO,3,3,"em",12),ai(15),a()}if(e&2){let t=k(8);o(),d("optionsInfoAreaId",i.constructorInfoAreaId),o(),d("ngIf",(i.optionLabel==null?null:i.optionLabel.length)>0),o(2),d("ngIf",i.dataModelSelect&&(i.dataModelSelect==null?null:i.dataModelSelect.linkMainImageIdSrc)),o(2),d("placeholder",x(i.optionPlaceholder))("id",ve("app-cms-site-selector-",i.id))("formControl",i.formControl)("matAutocomplete",t)("required",i.optionRequired),yt("disabled",i.optionDisabled?!0:null),o(),d("displayWith",i.displayFn),o(2),d("ngForOf",g(10,17,i.filteredOptions)),o(2),d("ngIf",!i.formControl.valid),o(),d("ngIf",i.optionRequired&&i.formControl.valid),o(),d("ngIf",(i.dataModelSelect==null||i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0),o(),d("ngIf",i.optionRequired&&(!i.dataModelSelect||!i.dataModelSelect.id||(i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)===0))}},dependencies:[Ne,N,Y,q,de,Wt,ti,ei,ii,zi,Q,U,He,O,Ie],encapsulation:2});var ks=na;var DO=["vform"];function RO(n,l){n&1&&C(0,"i",29)}function LO(n,l){n&1&&C(0,"i",30)}function VO(n,l){n&1&&(r(0,"mat-error"),c(1," Title is "),r(2,"strong"),c(3),_(4,"translate"),a()()),n&2&&(o(3),M(g(4,1,"MESSAGE.required")))}function OO(n,l){if(n&1){let e=I();r(0,"div",12)(1,"label",31),c(2),a(),r(3,"input",32,4),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.stationLevel,t)||(s.dataModel.stationLevel=t),f(t)}),a()()}if(n&2){let e=m();o(2),M(e.fieldsInfo.stationLevel==null?null:e.fieldsInfo.stationLevel.fieldTitle),o(),d("placeholder",x(e.fieldsInfo.stationLevel==null?null:e.fieldsInfo.stationLevel.fieldTitle)),b("ngModel",e.dataModel.stationLevel),d("disabled",!(e.fieldsInfo.stationLevel!=null&&e.fieldsInfo.stationLevel.accessEditField))}}function FO(n,l){if(n&1){let e=I();r(0,"div",12)(1,"label",33),c(2),a(),r(3,"input",34,5),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.viewLevel,t)||(s.dataModel.viewLevel=t),f(t)}),a()()}if(n&2){let e=m();o(2),M(e.fieldsInfo.viewLevel==null?null:e.fieldsInfo.viewLevel.fieldTitle),o(),d("placeholder",x(e.fieldsInfo.viewLevel==null?null:e.fieldsInfo.viewLevel.fieldTitle)),b("ngModel",e.dataModel.viewLevel),d("disabled",!(e.fieldsInfo.viewLevel!=null&&e.fieldsInfo.viewLevel.accessEditField))}}function BO(n,l){if(n&1){let e=I();r(0,"div",20)(1,"label",35),c(2),a(),r(3,"input",36),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.expireDate,t)||(s.dataModel.expireDate=t),f(t)}),a(),C(4,"mat-datepicker-toggle",23)(5,"mat-datepicker",24,6),a()}if(n&2){let e=k(6),i=m();o(2),M(i.fieldsInfo.expireDate==null?null:i.fieldsInfo.expireDate.fieldTitle),o(),d("matDatepicker",e),b("ngModel",i.dataModel.expireDate),o(),d("for",e)}}function NO(n,l){n&1&&(r(0,"mat-error"),c(1," Description is "),r(2,"strong"),c(3),_(4,"translate"),a()()),n&2&&(o(3),M(g(4,1,"MESSAGE.required")))}function HO(n,l){if(n&1){let e=I();r(0,"div",37)(1,"button",38),E("click",function(){u(e);let t=m();return f(t.onFormCancel())}),C(2,"i",39),c(3),_(4,"translate"),a(),r(5,"button",40),C(6,"i",41),c(7),_(8,"translate"),a()()}if(n&2){m();let e=k(9);o(3),y(" ",g(4,3,"ACTION.CANCEL")," "),o(2),d("disabled",!e.form.valid),o(2),y(" ",g(8,5,"ACTION.SAVE")," ")}}var Ds=class Ds extends Dt{constructor(e,i,t,s,h,p,D,z){super(s,new wr,p,z);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.estatePropertyAdsService=s;this.cmsToastrService=h;this.publicHelper=p;this.cdr=D;this.translate=z;this.requestLinkPropertyId="";this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new G;this.dataModel=new wr;this.formInfo=new me;this.fileManagerOpenForm=!1;this.AdsTypeTitle="";this.PropertyTitle="";this.publicHelper.processService.cdr=this.cdr,e&&e.linkPropertyId&&(this.requestLinkPropertyId=e.linkPropertyId),this.requestLinkPropertyId.length>0&&(this.dataModel.linkPropertyId=this.requestLinkPropertyId),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess()}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estatePropertyAdsService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.formAlert=t}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e),this.formInfo.formSubmitAllow=!0},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorSelectLinkPropertyId(e){if(!e||!e.id||e.id.length<=0){this.translate.get("MESSAGE.Property_ID_is_unknown").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkPropertyId=e.id,this.PropertyTitle=e.title,this.dataModel.title=e.title+"_"+this.AdsTypeTitle}onActionSelectorSelectLinkAdsTypeId(e){if(!e||!e.id||e.id.length<=0){this.translate.get("MESSAGE.Advertisement_ID_is_unknown").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkAdsTypeId=e.id,this.AdsTypeTitle=e.title,this.dataModel.title=this.PropertyTitle+"_"+e.title}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Ds.\u0275fac=function(i){return new(i||Ds)(v(be),v(Me),v(J),v(tr),v(V),v(F),v(B),v(L))},Ds.\u0275cmp=R({type:Ds,selectors:[["app-estate-property-ads-add"]],viewQuery:function(i,t){if(i&1&&ee(DO,5),i&2){let s;te(s=ie())&&(t.formGroup=s.first)}},standalone:!1,features:[ne],decls:44,vars:37,consts:[["vform","ngForm"],["Title",""],["FromDate",""],["Description",""],["StationLevel",""],["ViewLevel",""],["ExpireDate",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["type","text","name","dataModel.title","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","fa fa-times  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],[4,"ngIf"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],["for","dataModel.fromDate",1,"color-highlight"],["matInput","","name","dataModel.fromDate","id","dataModel.fromDate",1,"form-control","validate-name",3,"ngModelChange","matDatepicker","ngModel"],["matSuffix","",3,"for"],["touchUi",""],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4 cms-input-group",4,"ngIf"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","form-actions",4,"ngIf"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.stationLevel",1,"color-highlight"],["matInput","","name","dataModel.stationLevel","type","number","id","dataModel.stationLevel",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.viewLevel",1,"color-highlight"],["matInput","","name","dataModel.viewLevel","type","number","id","dataModel.viewLevel",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.expireDate",1,"color-highlight"],["matInput","","name","dataModel.expireDate","id","dataModel.expireDate",1,"form-control","validate-name",3,"ngModelChange","matDatepicker","ngModel"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=I();r(0,"div",7),C(1,"app-progress-spinner",8),r(2,"div",9)(3,"p",10),c(4),a(),r(5,"p"),c(6),_(7,"translate"),a(),r(8,"form",11,0),E("ngSubmit",function(){return u(s),f(t.onFormSubmit())}),r(10,"div",12)(11,"label",13),c(12),a(),r(13,"input",14,1),w("ngModelChange",function(p){return u(s),T(t.dataModel.title,p)||(t.dataModel.title=p),f(p)}),a(),S(15,RO,1,0,"i",15)(16,LO,1,0,"i",16),r(17,"em"),c(18),a(),S(19,VO,5,3,"mat-error",17),a(),r(20,"app-estate-ads-type-selector",18),_(21,"translate"),E("optionChange",function(p){return u(s),f(t.onActionSelectorSelectLinkAdsTypeId(p))}),a(),r(22,"app-estate-property-selector",18),_(23,"translate"),E("optionChange",function(p){return u(s),f(t.onActionSelectorSelectLinkPropertyId(p))}),a(),S(24,OO,5,5,"div",19)(25,FO,5,5,"div",19),r(26,"div",20)(27,"label",21),c(28),a(),r(29,"input",22),w("ngModelChange",function(p){return u(s),T(t.dataModel.fromDate,p)||(t.dataModel.fromDate=p),f(p)}),a(),C(30,"mat-datepicker-toggle",23)(31,"mat-datepicker",24,2),a(),S(33,BO,7,4,"div",25),r(34,"div",12)(35,"label",26),c(36),a(),r(37,"textarea",27,3),w("ngModelChange",function(p){return u(s),T(t.dataModel.description,p)||(t.dataModel.description=p),f(p)}),c(39,"                "),a(),r(40,"em"),c(41),a(),S(42,NO,5,3,"mat-error",17),a(),S(43,HO,9,7,"div",28),a()()()}if(i&2){let s=k(14),h=k(32),p=k(38);o(),d("optionsInfoAreaId",t.constructorInfoAreaId),o(3),y(" ",t.formInfo.formTitle," "),o(2),y(" ",g(7,31,"TITLE.Be_Careful_When_Entering_Information")," "),o(6),M(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),b("ngModel",t.dataModel.title),o(2),d("ngIf",!s.value),o(),d("ngIf",s.value),o(2),y("",s.value.length," / 100"),o(),d("ngIf",s.errors==null?null:s.errors.required),o(),d("optionDisabled",!(t.fieldsInfo.linkAdsTypeId!=null&&t.fieldsInfo.linkAdsTypeId.accessAddField))("optionSelectForce",t.dataModel.linkAdsTypeId)("optionPlaceholder",g(21,33,"TITLE.Ad_type_ID")),o(2),d("optionDisabled",!(t.fieldsInfo.linkPropertyId!=null&&t.fieldsInfo.linkPropertyId.accessAddField))("optionSelectForce",t.dataModel.linkPropertyId)("optionPlaceholder",g(23,35,"TITLE.Property_ID")),o(2),d("ngIf",t.fieldsInfo.stationLevel==null?null:t.fieldsInfo.stationLevel.accessWatchField),o(),d("ngIf",t.fieldsInfo.viewLevel==null?null:t.fieldsInfo.viewLevel.accessWatchField),o(3),M(t.fieldsInfo.fromDate==null?null:t.fieldsInfo.fromDate.fieldTitle),o(),d("matDatepicker",h),b("ngModel",t.dataModel.fromDate),o(),d("for",h),o(3),d("ngIf",t.fieldsInfo.expireDate==null?null:t.fieldsInfo.expireDate.accessWatchField),o(3),M(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),b("ngModel",t.dataModel.description),o(4),y("",p.value.length," / 500"),o(),d("ngIf",p.errors==null?null:p.errors.required),o(),d("ngIf",t.formInfo.formSubmitAllow)}},dependencies:[N,ke,Y,Ot,q,Te,de,De,Ae,ce,Pe,Pn,kn,ln,we,et,Q,U,ur,ks,O],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});var rp=Ds;var WO=["vform"];function GO(n,l){n&1&&C(0,"i",29)}function UO(n,l){n&1&&C(0,"i",30)}function jO(n,l){n&1&&(r(0,"mat-error"),c(1," Title is "),r(2,"strong"),c(3),_(4,"translate"),a()()),n&2&&(o(3),M(g(4,1,"MESSAGE.required")))}function qO(n,l){if(n&1){let e=I();r(0,"div",12)(1,"label",31),c(2),a(),r(3,"input",32,4),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.stationLevel,t)||(s.dataModel.stationLevel=t),f(t)}),a()()}if(n&2){let e=m();o(2),M(e.fieldsInfo.stationLevel==null?null:e.fieldsInfo.stationLevel.fieldTitle),o(),d("placeholder",x(e.fieldsInfo.stationLevel==null?null:e.fieldsInfo.stationLevel.fieldTitle)),b("ngModel",e.dataModel.stationLevel),d("disabled",!(e.fieldsInfo.stationLevel!=null&&e.fieldsInfo.stationLevel.accessEditField))}}function QO(n,l){if(n&1){let e=I();r(0,"div",12)(1,"label",33),c(2),a(),r(3,"input",34,5),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.viewLevel,t)||(s.dataModel.viewLevel=t),f(t)}),a()()}if(n&2){let e=m();o(2),M(e.fieldsInfo.viewLevel==null?null:e.fieldsInfo.viewLevel.fieldTitle),o(),d("placeholder",x(e.fieldsInfo.viewLevel==null?null:e.fieldsInfo.viewLevel.fieldTitle)),b("ngModel",e.dataModel.viewLevel),d("disabled",!(e.fieldsInfo.viewLevel!=null&&e.fieldsInfo.viewLevel.accessEditField))}}function zO(n,l){if(n&1){let e=I();r(0,"div",20)(1,"label",35),c(2),a(),r(3,"input",36),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.expireDate,t)||(s.dataModel.expireDate=t),f(t)}),a(),C(4,"mat-datepicker-toggle",23)(5,"mat-datepicker",24,6),a()}if(n&2){let e=k(6),i=m();o(2),M(i.fieldsInfo.expireDate==null?null:i.fieldsInfo.expireDate.fieldTitle),o(),d("matDatepicker",e),b("ngModel",i.dataModel.expireDate),o(),d("for",e)}}function YO(n,l){n&1&&(r(0,"mat-error"),c(1," Description is "),r(2,"strong"),c(3),_(4,"translate"),a()()),n&2&&(o(3),M(g(4,1,"MESSAGE.required")))}function KO(n,l){if(n&1){let e=I();r(0,"div",37)(1,"button",38),E("click",function(){u(e);let t=m();return f(t.onFormCancel())}),C(2,"i",39),c(3),_(4,"translate"),a(),r(5,"button",40),C(6,"i",41),c(7),_(8,"translate"),a()()}if(n&2){m();let e=k(9);o(3),y(" ",g(4,3,"ACTION.CANCEL")," "),o(2),d("disabled",!e.form.valid),o(2),y(" ",g(8,5,"ACTION.SAVE")," ")}}var Rs=class Rs extends Bt{constructor(e,i,t,s,h,p,D,z){super(s,new wr,p,z);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.estatePropertyAdsService=s;this.cmsToastrService=h;this.publicHelper=p;this.cdr=D;this.translate=z;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new Ft;this.dataModel=new wr;this.formInfo=new me;this.fileManagerOpenForm=!1;this.AdsTypeTitle="";this.PropertyTitle="";this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estatePropertyAdsService.setAccessLoad(),this.estatePropertyAdsService.setAccessDataType(Be.Editor),this.estatePropertyAdsService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estatePropertyAdsService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.formAlert=t}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e),this.formInfo.formSubmitAllow=!0},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorSelectLinkPropertyId(e){if(!e||!e.id||e.id.length<=0){this.translate.get("MESSAGE.Property_ID_is_unknown").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkPropertyId=e.id,this.PropertyTitle=e.title,this.dataModel.title=e.title+"_"+this.AdsTypeTitle}onActionSelectorSelectLinkAdsTypeId(e){if(!e||!e.id||e.id.length<=0){this.translate.get("MESSAGE.Advertisement_ID_is_unknown").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkAdsTypeId=e.id,this.AdsTypeTitle=e.title,this.dataModel.title=this.PropertyTitle+"_"+e.title}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Rs.\u0275fac=function(i){return new(i||Rs)(v(be),v(Me),v(J),v(tr),v(V),v(F),v(B),v(L))},Rs.\u0275cmp=R({type:Rs,selectors:[["app-estate-property-ads-edit"]],viewQuery:function(i,t){if(i&1&&ee(WO,5),i&2){let s;te(s=ie())&&(t.formGroup=s.first)}},standalone:!1,features:[ne],decls:44,vars:37,consts:[["vform","ngForm"],["Title",""],["FromDate",""],["Description",""],["StationLevel",""],["ViewLevel",""],["ExpireDate",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["type","text","name","dataModel.title","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","fa fa-times  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],[4,"ngIf"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],["for","dataModel.fromDate",1,"color-highlight"],["matInput","","name","dataModel.fromDate","id","dataModel.fromDate",1,"form-control","validate-name",3,"ngModelChange","matDatepicker","ngModel"],["matSuffix","",3,"for"],["touchUi",""],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4 cms-input-group",4,"ngIf"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","form-actions",4,"ngIf"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.stationLevel",1,"color-highlight"],["matInput","","name","dataModel.stationLevel","type","number","id","dataModel.stationLevel",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.viewLevel",1,"color-highlight"],["matInput","","name","dataModel.viewLevel","type","number","id","dataModel.viewLevel",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.expireDate",1,"color-highlight"],["matInput","","name","dataModel.expireDate","id","dataModel.expireDate",1,"form-control","validate-name",3,"ngModelChange","matDatepicker","ngModel"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=I();r(0,"div",7),C(1,"app-progress-spinner",8),r(2,"div",9)(3,"p",10),c(4),a(),r(5,"p"),c(6),_(7,"translate"),a(),r(8,"form",11,0),E("ngSubmit",function(){return u(s),f(t.onFormSubmit())}),r(10,"div",12)(11,"label",13),c(12),a(),r(13,"input",14,1),w("ngModelChange",function(p){return u(s),T(t.dataModel.title,p)||(t.dataModel.title=p),f(p)}),a(),S(15,GO,1,0,"i",15)(16,UO,1,0,"i",16),r(17,"em"),c(18),a(),S(19,jO,5,3,"mat-error",17),a(),r(20,"app-estate-ads-type-selector",18),_(21,"translate"),E("optionChange",function(p){return u(s),f(t.onActionSelectorSelectLinkAdsTypeId(p))}),a(),r(22,"app-estate-property-selector",18),_(23,"translate"),E("optionChange",function(p){return u(s),f(t.onActionSelectorSelectLinkPropertyId(p))}),a(),S(24,qO,5,5,"div",19)(25,QO,5,5,"div",19),r(26,"div",20)(27,"label",21),c(28),a(),r(29,"input",22),w("ngModelChange",function(p){return u(s),T(t.dataModel.fromDate,p)||(t.dataModel.fromDate=p),f(p)}),a(),C(30,"mat-datepicker-toggle",23)(31,"mat-datepicker",24,2),a(),S(33,zO,7,4,"div",25),r(34,"div",12)(35,"label",26),c(36),a(),r(37,"textarea",27,3),w("ngModelChange",function(p){return u(s),T(t.dataModel.description,p)||(t.dataModel.description=p),f(p)}),c(39,"                "),a(),r(40,"em"),c(41),a(),S(42,YO,5,3,"mat-error",17),a(),S(43,KO,9,7,"div",28),a()()()}if(i&2){let s=k(14),h=k(32),p=k(38);o(),d("optionsInfoAreaId",t.constructorInfoAreaId),o(3),y(" ",t.formInfo.formTitle," "),o(2),y(" ",g(7,31,"TITLE.Be_Careful_When_Entering_Information")," "),o(6),M(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),b("ngModel",t.dataModel.title),o(2),d("ngIf",!s.value),o(),d("ngIf",s.value),o(2),y("",s.value.length," / 100"),o(),d("ngIf",s.errors==null?null:s.errors.required),o(),d("optionDisabled",!(t.fieldsInfo.linkAdsTypeId!=null&&t.fieldsInfo.linkAdsTypeId.accessAddField))("optionSelectForce",t.dataModel.linkAdsTypeId)("optionPlaceholder",g(21,33,"TITLE.Ad_type_ID")),o(2),d("optionDisabled",!(t.fieldsInfo.linkPropertyId!=null&&t.fieldsInfo.linkPropertyId.accessAddField))("optionSelectForce",t.dataModel.linkPropertyId)("optionPlaceholder",g(23,35,"TITLE.Property_ID")),o(2),d("ngIf",t.fieldsInfo.stationLevel==null?null:t.fieldsInfo.stationLevel.accessWatchField),o(),d("ngIf",t.fieldsInfo.viewLevel==null?null:t.fieldsInfo.viewLevel.accessWatchField),o(3),M(t.fieldsInfo.fromDate==null?null:t.fieldsInfo.fromDate.fieldTitle),o(),d("matDatepicker",h),b("ngModel",t.dataModel.fromDate),o(),d("for",h),o(3),d("ngIf",t.fieldsInfo.expireDate==null?null:t.fieldsInfo.expireDate.accessWatchField),o(3),M(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),b("ngModel",t.dataModel.description),o(4),y("",p.value.length," / 500"),o(),d("ngIf",p.errors==null?null:p.errors.required),o(),d("ngIf",t.formInfo.formSubmitAllow)}},dependencies:[N,ke,Y,Ot,q,Te,de,De,Ae,ce,Pe,Pn,kn,ln,we,et,Q,U,ur,ks,O],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});var ap=Rs;var ZO=()=>[5,10,20,100],JO=n=>({background:n});function XO(n,l){if(n&1&&C(0,"app-estate-property-header",45),n&2){let e=m();d("optionId",e.requestLinkPropertyId)}}function $O(n,l){if(n&1){let e=I();r(0,"div",20)(1,"a",46),E("click",function(){u(e);let t=m();return f(t.onActionButtonNewRow())}),C(2,"i",47)(3,"br"),a(),r(4,"p",23),c(5),_(6,"translate"),a()()}n&2&&(o(5),M(g(6,1,"ACTION.ADD")))}function eF(n,l){if(n&1){let e=I();r(0,"div",20)(1,"a",48),E("click",function(){u(e);let t=m();return f(t.onActionButtonBuy())}),C(2,"i",49)(3,"br"),a(),r(4,"p",23),c(5),_(6,"translate"),a()()}n&2&&(o(5),M(g(6,1,"ACTION.BUY")))}function tF(n,l){if(n&1){let e=I();r(0,"div",20)(1,"a",50),E("click",function(){u(e);let t=m();return f(t.onActionButtonEditRow(t.tableRowSelected))}),C(2,"i",51)(3,"br"),a(),r(4,"p",23),c(5),_(6,"translate"),a()()}n&2&&(o(5),M(g(6,1,"ACTION.EDIT")))}function iF(n,l){if(n&1){let e=I();r(0,"div",20)(1,"a",52),E("click",function(){u(e);let t=m();return f(t.onActionButtonDeleteRow(t.tableRowSelected))}),C(2,"i",53)(3,"br"),a(),r(4,"p",23),c(5),_(6,"translate"),a()()}n&2&&(o(5),M(g(6,1,"ACTION.DELETE")))}function nF(n,l){if(n&1&&(r(0,"mat-header-cell",54),c(1),a()),n&2){let e=m();o(),y(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function oF(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),y(" ",e.id," ")}}function rF(n,l){if(n&1&&(r(0,"mat-header-cell",54),c(1),a()),n&2){let e=m();o(),y(" ",e.fieldsInfo.linkPropertyId==null?null:e.fieldsInfo.linkPropertyId.fieldTitle," ")}}function aF(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),y(" ",e.linkPropertyId," ")}}function lF(n,l){if(n&1&&(r(0,"mat-header-cell",54),c(1),a()),n&2){let e=m();o(),y(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," ")}}function sF(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),y(" ",e.title," ")}}function dF(n,l){if(n&1&&(r(0,"mat-header-cell",54),c(1),a()),n&2){let e=m();o(),y(" ",e.fieldsInfo.stationLevel==null?null:e.fieldsInfo.stationLevel.fieldTitle," ")}}function cF(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),y(" ",e.stationLevel," ")}}function pF(n,l){if(n&1&&(r(0,"mat-header-cell",54),c(1),a()),n&2){let e=m();o(),y(" ",e.fieldsInfo.viewLevel==null?null:e.fieldsInfo.viewLevel.fieldTitle," ")}}function mF(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),y(" ",e.viewLevel," ")}}function uF(n,l){if(n&1&&(r(0,"mat-header-cell",54),c(1),a()),n&2){let e=m();o(),y(" ",e.fieldsInfo.fromDate==null?null:e.fieldsInfo.fromDate.fieldTitle," ")}}function fF(n,l){if(n&1&&(r(0,"mat-cell"),c(1),_(2,"persianDate"),a()),n&2){let e=l.$implicit;o(),y(" ",g(2,1,e.fromDate)," ")}}function _F(n,l){if(n&1&&(r(0,"mat-header-cell",54),c(1),a()),n&2){let e=m();o(),y(" ",e.fieldsInfo.expireDate==null?null:e.fieldsInfo.expireDate.fieldTitle," ")}}function gF(n,l){if(n&1&&(r(0,"mat-cell",55),c(1),_(2,"persianDate"),a()),n&2){let e=l.$implicit,i=m();d("ngStyle",ze(4,JO,i.publicHelper.RowStyleExpireDate(e.expireDate))),o(),y(" ",g(2,2,e.expireDate)," ")}}function hF(n,l){n&1&&(r(0,"mat-header-cell"),c(1),_(2,"translate"),a()),n&2&&(o(),y(" ",g(2,1,"TITLE.OPTION")," "))}function yF(n,l){if(n&1&&(r(0,"mat-cell",56)(1,"button",57)(2,"mat-icon"),c(3,"more_vert"),a()(),C(4,"mat-menu",null,2),a()),n&2){let e=k(5);o(),d("matMenuTriggerFor",e)}}function CF(n,l){n&1&&C(0,"mat-header-row")}function SF(n,l){if(n&1){let e=I();r(0,"mat-row",58),E("click",function(){let t=u(e).$implicit,s=m();return f(s.onActionTableRowSelect(t))}),a()}if(n&2){let e=l.$implicit,i=l.dataIndex,t=m();Se("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",e.id===(t.tableRowSelected==null?null:t.tableRowSelected.id))}}var Ls=class Ls extends bt{constructor(e,i,t,s,h,p,D,z,he,je,Ge,mt,Nt){super(e,new wr,mt,p,he);this.contentService=e;this.cmsConfirmationDialogService=i;this.activatedRoute=t;this.cmsToastrService=s;this.themeService=h;this.tokenHelper=p;this.router=D;this.cdr=z;this.translate=he;this.cmsStoreService=je;this.pageInfo=Ge;this.publicHelper=mt;this.dialog=Nt;this.requestLinkPropertyId="";this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new pe;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["StationLevel","ViewLevel","LinkPropertyId","FromDate","ExpireDate"];this.tabledisplayedColumnsMobileSource=["StationLevel","ViewLevel","LinkPropertyId","FromDate","ExpireDate"];if(this.publicHelper.processService.cdr=this.cdr,this.requestLinkPropertyId=this.activatedRoute.snapshot.paramMap.get("LinkPropertyId"),this.optionsSearch.parentMethods={onSubmit:Rt=>this.onSubmitOptionsSearch(Rt)},this.filteModelContent.sortColumn="Id",this.filteModelContent.sortType=X.Descending,this.requestLinkPropertyId&&this.requestLinkPropertyId.length>0){let Rt=new H;Rt.propertyName="LinkPropertyId",Rt.value=this.requestLinkPropertyId,this.filteModelContent.filters.push(Rt)}}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.cmsApiStoreSubscribe=this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>re(this,null,function*(){this.tokenInfo=e,this.DataGetAll()}))}ngOnDestroy(){this.cmsApiStoreSubscribe&&this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new wr);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),t.isSuccess?(this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=X.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=X.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=X.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(rp,{height:"90%",panelClass:e,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{linkPropertyId:this.requestLinkPropertyId}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(ap,{height:"90%",panelClass:i,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(s=>{this.cmsToastrService.typeErrorSelected(s)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(s=>{i=s["MESSAGE.Please_Confirm"],t=s["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(s=>{if(s){let h=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(p=>{this.publicHelper.processService.processStart(h,p,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:p=>{p.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(h)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(h,!1)}})}}).catch(()=>{})}onActionButtonContentList(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.onActionTableRowSelect(e),this.router.navigate(["/estate/property/LinkPropertyAdsId/",this.tableRowSelected.id])}onActionButtonBuy(){this.router.navigate(["/estate/property-ads/sale/",this.requestLinkPropertyId])}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(p=>{i.set(p,0)}),this.translate.get("MESSAGE.All").subscribe(p=>{i.set(p,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(p=>{this.publicHelper.processService.processStart(t,p,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:p=>{p.isSuccess?(this.translate.get("MESSAGE.All").subscribe(D=>{i.set(D,p.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(p.errorMessage),this.publicHelper.processService.processStop(t)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(t,!1)}});let s=JSON.parse(JSON.stringify(this.filteModelContent)),h=new H;h.propertyName="RecordStatus",h.value=qe.Available,s.filters.push(h),this.contentService.ServiceGetCount(s).subscribe({next:p=>{p.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(D=>{i.set(D,p.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(p.errorMessage),this.publicHelper.processService.processStop(t)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0&&(this.filteModelContent.filters=[...this.filteModelContent.filters,...e]),this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/estate/property/"])}};Ls.\u0275fac=function(i){return new(i||Ls)(v(tr),v(Mt),v(jt),v(V),v(kt),v(K),v(Ze),v(B),v(L),v(Z),v(ht),v(F),v(xe))},Ls.\u0275cmp=R({type:Ls,selectors:[["app-estate-property-ads-list"]],standalone:!1,features:[ne],decls:70,vars:33,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionId",4,"ngIf"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-list","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkPropertyId"],["matColumnDef","Title"],["matColumnDef","StationLevel"],["matColumnDef","ViewLevel"],["matColumnDef","FromDate"],["matColumnDef","ExpireDate"],[3,"ngStyle",4,"matCellDef"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],[3,"optionId"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#FFFFFF"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-cart-shopping","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[3,"click"]],template:function(i,t){if(i&1){let s=I();S(0,XO,1,1,"app-estate-property-header",3),r(1,"app-cms-html-list",4),w("optionActionGuideNoticeDisplayChange",function(p){return u(s),T(t.viewGuideNotice,p)||(t.viewGuideNotice=p),f(p)}),E("optionOnActionButtonMemoRow",function(){return u(s),f(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return u(s),f(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return u(s),f(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return u(s),f(t.onActionButtonPrintRow())}),A(2,5),c(3," -------------------------------------- "),P(),Qe(4,6)(5,7),A(6,8),r(7,"a",9),E("click",function(){return u(s),f(t.onActionBackToParent())}),C(8,"i",10),a(),r(9,"a",11),E("click",function(){return u(s),f(t.viewGuideNotice=!t.viewGuideNotice)}),C(10,"i",12),a(),r(11,"a",11),E("click",function(){return u(s),f(t.onActionButtonReload())}),C(12,"i",13),a(),P(),A(13,14),r(14,"a",15),E("click",function(){return u(s),f(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),C(15,"mat-slide-toggle",16),c(16),_(17,"translate"),a(),r(18,"a",15),E("click",function(){return u(s),f(t.onActionButtonStatist())}),C(19,"mat-slide-toggle",16),c(20),_(21,"translate"),a(),P(),A(22,17),S(23,$O,7,3,"div",18)(24,eF,7,3,"div",18),P(),A(25,19),S(26,tF,7,3,"div",18)(27,iF,7,3,"div",18),r(28,"div",20)(29,"a",21),E("click",function(){return u(s),f(t.onActionButtonContentList(t.tableRowSelected))}),C(30,"i",22)(31,"br"),a(),r(32,"p",23),c(33),_(34,"translate"),a()(),P(),A(35,24),r(36,"app-cms-search-list",25),w("optionsChange",function(p){return u(s),T(t.optionsSearch,p)||(t.optionsSearch=p),f(p)}),a(),r(37,"app-cms-statist-list",25),w("optionsChange",function(p){return u(s),T(t.optionsStatist,p)||(t.optionsStatist=p),f(p)}),a(),P(),A(38,26),r(39,"mat-table",27,0),E("matSortChange",function(){u(s);let p=k(40);return f(t.onTableSortData(p))}),A(41,28),S(42,nF,2,1,"mat-header-cell",29)(43,oF,2,1,"mat-cell",30),P(),A(44,31),S(45,rF,2,1,"mat-header-cell",29)(46,aF,2,1,"mat-cell",30),P(),A(47,32),S(48,lF,2,1,"mat-header-cell",29)(49,sF,2,1,"mat-cell",30),P(),A(50,33),S(51,dF,2,1,"mat-header-cell",29)(52,cF,2,1,"mat-cell",30),P(),A(53,34),S(54,pF,2,1,"mat-header-cell",29)(55,mF,2,1,"mat-cell",30),P(),A(56,35),S(57,uF,2,1,"mat-header-cell",29)(58,fF,3,3,"mat-cell",30),P(),A(59,36),S(60,_F,2,1,"mat-header-cell",29)(61,gF,3,6,"mat-cell",37),P(),A(62,38),S(63,hF,3,3,"mat-header-cell",39)(64,yF,6,1,"mat-cell",40),P(),S(65,CF,1,0,"mat-header-row",41)(66,SF,1,6,"mat-row",42),a(),P(),A(67,43),r(68,"mat-paginator",44,1),E("page",function(p){return u(s),f(t.onTablePageingData(p))}),a(),P(),a()}i&2&&(d("ngIf",(t.requestLinkPropertyId==null?null:t.requestLinkPropertyId.length)>0),o(),d("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),b("optionActionGuideNoticeDisplay",t.viewGuideNotice),d("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelectDoubleClick)("optionSelectRowItemTitle",(t.tableRowSelected==null||t.tableRowSelected.title==null?null:t.tableRowSelected.title.length)>0?t.tableRowSelected==null?null:t.tableRowSelected.title:t.tableRowSelected==null?null:t.tableRowSelected.id),o(14),d("checked",t.optionsSearch.data.show),o(),y("",g(17,26,"ACTION.SEARCH")," "),o(3),d("checked",t.optionsStatist.data.show),o(),y("",g(21,28,"ACTION.STATIST")," "),o(3),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessAddRow),o(),d("ngIf",t.requestLinkPropertyId&&t.requestLinkPropertyId.length>0),o(2),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),o(),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),o(6),M(g(34,30,"ACTION.Property_to_be_traded")),o(3),b("options",t.optionsSearch),o(),b("options",t.optionsStatist),o(2),d("dataSource",t.tableSource),o(26),d("matHeaderRowDef",t.tabledisplayedColumns),o(),d("matRowDefColumns",t.tabledisplayedColumns),o(2),d("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",le(32,ZO)))},dependencies:[N,tt,Je,Ee,At,Pt,vt,gt,Et,It,it,ot,st,rt,nt,dt,at,lt,ct,pt,Tt,wt,xt,us,O,Km],encapsulation:2});var Fd=Ls;function vF(n,l){if(n&1&&(r(0,"div"),c(1),_(2,"translate"),_(3,"currency"),a()),n&2){let e=m(2);o(),$(" ",g(2,2,"TITLE.FEETAX"),": ",oi(3,4,e.dataModelCalculateResult.item==null?null:e.dataModelCalculateResult.item.feeTax," "+(e.dataModelCalculateResult.item==null?null:e.dataModelCalculateResult.item.currency)+" ")," ")}}function EF(n,l){if(n&1&&(r(0,"div"),c(1),_(2,"translate"),_(3,"currency"),a()),n&2){let e=m(2);o(),$(" ",g(2,2,"TITLE.Amount_pure"),": ",oi(3,4,e.dataModelCalculateResult.item==null?null:e.dataModelCalculateResult.item.amountPure," "+(e.dataModelCalculateResult.item==null?null:e.dataModelCalculateResult.item.currency)+" ")," ")}}function IF(n,l){if(n&1&&(r(0,"div"),c(1),_(2,"translate"),_(3,"currency"),a()),n&2){let e=m(2);o(),$(" ",g(2,2,"TITLE.Fee_transport"),": ",oi(3,4,e.dataModelCalculateResult.item==null?null:e.dataModelCalculateResult.item.feeTransport," "+(e.dataModelCalculateResult.item==null?null:e.dataModelCalculateResult.item.currency)+" ")," ")}}function MF(n,l){if(n&1&&(r(0,"div"),c(1),_(2,"translate"),_(3,"currency"),a()),n&2){let e=m(2);o(),$(" ",g(2,2,"TITLE.Final_Amount"),": ",oi(3,4,e.dataModelCalculateResult.item==null?null:e.dataModelCalculateResult.item.amount," "+(e.dataModelCalculateResult.item==null?null:e.dataModelCalculateResult.item.currency)+" ")," ")}}function bF(n,l){if(n&1&&(r(0,"div"),S(1,vF,4,7,"div",9),C(2,"br"),S(3,EF,4,7,"div",9),C(4,"br"),S(5,IF,4,7,"div",9),C(6,"hr"),S(7,MF,4,7,"div",9),a()),n&2){let e=m();o(),d("ngIf",(e.dataModelCalculateResult.item==null?null:e.dataModelCalculateResult.item.feeTax)>0),o(2),d("ngIf",(e.dataModelCalculateResult.item==null?null:e.dataModelCalculateResult.item.amountPure)>0),o(2),d("ngIf",(e.dataModelCalculateResult.item==null?null:e.dataModelCalculateResult.item.feeTransport)>0),o(2),d("ngIf",(e.dataModelCalculateResult.item==null?null:e.dataModelCalculateResult.item.amount)>0)}}function TF(n,l){if(n&1){let e=I();r(0,"div",11)(1,"button",15),E("click",function(){u(e);let t=m();return f(t.onFormCancel())}),C(2,"i",16),c(3),_(4,"translate"),a(),r(5,"button",17),E("click",function(){u(e);let t=m();return f(t.onActionSelectBankPayment())}),C(6,"i",18),c(7),_(8,"translate"),a()()}if(n&2){let e=m();o(3),y(" ",g(4,3,"ACTION.CANCEL")," "),o(2),d("disabled",!e.viewCalculate),o(2),y(" ",g(8,5,"ACTION.PAYMENT")," ")}}var Vs=class Vs{constructor(l,e,i,t,s,h,p,D,z){this.data=l;this.document=e;this.dialogRef=i;this.estateAdsTypeService=t;this.estatePropertyAdsService=s;this.cmsToastrService=h;this.translate=p;this.cdr=D;this.publicHelper=z;this.requestLinkPropertyId="";this.requestLinkAdsTypeId="";this.requestBankPrivateMaster=!1;this.constructorInfoAreaId=this.constructor.name;this.viewCalculate=!1;this.dataModelResult=new G;this.dataModelCalculateResult=new G;this.dataModelPaymentResult=new G;this.dataModelCalculate=new wm;this.dataModelPayment=new xm;this.formInfo=new me;if(this.publicHelper.processService.cdr=this.cdr,l&&(l.linkPropertyId&&l.linkPropertyId.length>0&&(this.requestLinkPropertyId=l.linkPropertyId),l.linkAdsTypeId&&l.linkAdsTypeId.length>0&&(this.requestLinkAdsTypeId=l.linkAdsTypeId),l.bankPrivateMaster&&l.bankPrivateMaster===!0&&(this.requestBankPrivateMaster=!0)),this.requestLinkPropertyId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}if(this.requestLinkAdsTypeId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.dataModelCalculate.linkAdsTypeId=this.requestLinkAdsTypeId,this.dataModelCalculate.linkPropertyId=this.requestLinkPropertyId,this.dataModelPayment.linkAdsTypeId=this.requestLinkAdsTypeId,this.dataModelPayment.linkPropertyId=this.requestLinkPropertyId,this.dataModelPayment.lastUrlAddressInUse=this.document.location.href}ngOnInit(){this.translate.get("TITLE.Select_Payment_Gateway").subscribe(l=>{this.formInfo.formTitle=l})}DataCalculate(){this.viewCalculate=!1;let l=this.constructor.name+"ServiceOrderCalculate";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(l,e,this.constructorInfoAreaId)}),this.estatePropertyAdsService.ServiceOrderCalculate(this.dataModelCalculate).subscribe({next:e=>{e.isSuccess?(this.dataModelCalculateResult=e,this.viewCalculate=!0):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(l)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(l,!1)}})}DataPayment(){let l=this.constructor.name+"ServiceOrderPayment";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(l,e,this.constructorInfoAreaId)}),this.estatePropertyAdsService.ServiceOrderPayment(this.dataModelPayment).subscribe({next:e=>{e.isSuccess?(this.dataModelPaymentResult=e,this.translate.get("MESSAGE.Transferring_to_the_payment_gateway").subscribe(i=>{this.cmsToastrService.typeSuccessMessage(i)}),localStorage.setItem("TransactionId",e.item.transactionId.toString()),this.document.location.href=this.dataModelPaymentResult.item.urlToPay):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(l)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(l,!1)}})}onActionSelectCalculate(l){this.dataModelCalculate.bankPaymentPrivateId=l.id,this.dataModelPayment.bankPaymentPrivateId=l.id,this.DataCalculate()}onActionSelectBankPayment(){this.DataPayment()}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Vs.\u0275fac=function(e){return new(e||Vs)(v(be),v(Zp),v(Me),v(Qn),v(tr),v(V),v(L),v(B),v(F))},Vs.\u0275cmp=R({type:Vs,selectors:[["app-estate-property-ads-salepayment"]],standalone:!1,decls:21,vars:8,consts:[[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"menu-title"],[1,"color-highlight"],[1,"close-menu",3,"click"],[1,"fa","fa-times-circle"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"optionChange","optionMasterItem"],[4,"ngIf"],[2,"text-align","left"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],["class","form-actions",4,"ngIf"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"click","disabled"],[1,"fa","fa-check-square-o"]],template:function(e,i){e&1&&(r(0,"div",0),C(1,"app-progress-spinner",1),r(2,"div",2)(3,"p",3),c(4),a(),r(5,"a",4),E("click",function(){return i.onFormCancel()}),C(6,"i",5),a(),C(7,"hr"),a(),r(8,"div",6)(9,"p",7),c(10),a(),r(11,"mat-dialog-content")(12,"app-cms-bankpayment-grid",8),E("optionChange",function(s){return i.onActionSelectCalculate(s)}),a(),S(13,bF,8,4,"div",9),a(),r(14,"mat-dialog-actions",10)(15,"div",11)(16,"small",12),c(17),a(),r(18,"small",13),c(19),a()(),S(20,TF,9,7,"div",14),a()()()),e&2&&(o(),d("optionsInfoAreaId",i.constructorInfoAreaId),o(3),y("",i.formInfo.formTitle," "),o(6),y(" ",i.formInfo.formDescription," "),o(2),d("optionMasterItem",i.requestBankPrivateMaster),o(),d("ngIf",i.viewCalculate),o(4),y("",i.formInfo.formAlert," "),o(2),y("",i.formInfo.formError," "),o(),d("ngIf",i.formInfo.formSubmitAllow))},dependencies:[N,pm,cm,U,n0,Qd,O],styles:[".example-card[_ngcontent-%COMP%]{max-width:200px}"]});var lp=Vs;function wF(n,l){if(n&1){let e=I();r(0,"div",7)(1,"mat-card",8)(2,"mat-card-header")(3,"mat-card-title"),c(4),a(),r(5,"mat-card-subtitle"),c(6),_(7,"currency"),a()(),C(8,"img",9),r(9,"mat-card-content")(10,"p"),c(11),a()(),r(12,"mat-card-actions")(13,"button",10),E("click",function(){let t=u(e).$implicit,s=m();return f(s.onActionButtonBuy(t))}),c(14),_(15,"translate"),a()()()()}if(n&2){let e=l.$implicit,i=m();o(4),M(e.title),o(2),M(oi(7,6,e.salePrice," "+i.currency+" ")),o(2),d("src",x(e.linkMainImageIdSrc),j),o(3),y(" ",e.description," "),o(3),M(g(15,9,"ACTION.BUY"))}}var Os=class Os{constructor(l,e,i,t,s,h,p,D,z,he,je,Ge,mt){this.estateAdsTypeService=l;this.publicHelper=e;this.cmsToastrService=i;this.coreEnumService=t;this.coreSiteService=s;this.cmsStoreService=h;this.tokenHelper=p;this.router=D;this.themeService=z;this.translate=he;this.cdr=je;this.activatedRoute=Ge;this.dialog=mt;this.requestLinkPropertyId="";this.constructorInfoAreaId=this.constructor.name;this.showBuy=!1;this.flag=!1;this.tableContentSelected=[];this.dataModelResult=new G;this.tokenInfo=new St;this.tableRowSelected=new In;this.categoryModelSelected=new In;this.dataModelEnumCmsModuleSaleItemTypeResult=new G;this.tabledisplayedColumns=["LinkModuleId","EnumCmsModuleSaleItemType","FromDate","ExpireDate"];this.currency="";this.publicHelper.processService.cdr=this.cdr,this.requestLinkPropertyId=this.activatedRoute.snapshot.paramMap.get("LinkPropertyId")}ngOnInit(){if(!this.requestLinkPropertyId||this.requestLinkPropertyId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.router.navigate(["/estate/property"]);return}this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.cmsApiStoreSubscribe=this.cmsStoreService.getState(i=>i.tokenInfoStore).subscribe(i=>re(this,null,function*(){this.tokenInfo=i,this.DataGetAll()})),setTimeout(()=>{this.DataGetAll()},500),this.DataGetCurrency();let l=+localStorage.getItem("TransactionId");if(l>0){var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(i0,{panelClass:e,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:l}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&localStorage.removeItem("TransactionId")})}}DataGetCurrency(){this.coreSiteService.ServiceGetCurrencyMaster().subscribe({next:l=>{l.isSuccess?this.currency=l.item:this.cmsToastrService.typeErrorMessage(l.errorMessage)},error:l=>{this.cmsToastrService.typeError(l)}})}getEnumCmsModuleSaleItemType(){this.coreEnumService.ServiceCmsModuleSaleItemTypeEnum().subscribe({next:l=>{this.dataModelEnumCmsModuleSaleItemTypeResult=l}})}ngOnDestroy(){this.cmsApiStoreSubscribe&&this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tableRowSelected=new In;let l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(l,i,this.constructorInfoAreaId)}),this.showBuy=!1;let e=new pe;this.estateAdsTypeService.ServiceGetAllSale(e).subscribe({next:i=>{i.isSuccess?(this.showBuy=!0,this.dataModelResult=i):this.cmsToastrService.typeErrorMessage(i.errorMessage),this.publicHelper.processService.processStop(l)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(l,!1)}})}onActionButtonBuy(l){this.tableRowSelected=l;var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(lp,{height:"90%",panelClass:e,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{linkPropertyId:this.requestLinkPropertyId,linkAdsTypeId:l.id,bankPrivateMaster:l.paymentForMainSite}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate})}onActionBackToParent(){this.router.navigate(["/estate/property-ads/LinkPropertyId/"+this.requestLinkPropertyId])}};Os.\u0275fac=function(e){return new(e||Os)(v(Qn),v(F),v(V),v(J),v(hm),v(Z),v(K),v(Ze),v(kt),v(L),v(B),v(jt),v(xe))},Os.\u0275cmp=R({type:Os,selectors:[["app-estate-property-ads-salelist"]],standalone:!1,decls:16,vars:12,consts:[[3,"svg"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],[1,"row"],["Class","col-xl-12"],[3,"optionsInfoAreaId"],["class","col",4,"ngFor","ngForOf"],[1,"col"],[1,"example-card"],["mat-card-image","",3,"src"],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"click"]],template:function(e,i){e&1&&(r(0,"app-cms-html-notice",0)(1,"h4"),c(2),_(3,"translate"),a(),c(4),_(5,"translate"),C(6,"br"),r(7,"button",1),E("click",function(){return i.onActionBackToParent()}),C(8,"i",2),c(9),_(10,"translate"),a()(),r(11,"div",3)(12,"div",4),C(13,"app-progress-spinner",5),r(14,"div",3),S(15,wF,16,11,"div",6),a()()()),e&2&&(d("svg","assets/media/svg/icons/Shopping/Sale2.svg"),o(2),y(" ",g(3,6,"MESSAGE.ADS")),o(2),y(" ",g(5,8,"MESSAGE.Make_purchases_according_to_your_needs_and_duration")," "),o(5),y(" ",g(10,10,"ACTION.BACK")," "),o(4),d("optionsInfoAreaId",i.constructorInfoAreaId),o(2),d("ngForOf",i.dataModelResult.listItems))},dependencies:[Ne,Fm,Wm,Nm,Gm,Um,Hm,Bm,U,Jm,Qd,O],styles:[".example-card[_ngcontent-%COMP%]{max-width:200px}"]});var sp=Os;var G0=uo(Fo());var xF=["vform"];function AF(n,l){if(n&1){let e=I();r(0,"app-cms-enum-record-status-selector",62),w("modelChange",function(t){u(e);let s=m();return T(s.dataModel.recordStatus,t)||(s.dataModel.recordStatus=t),f(t)}),a()}if(n&2){let e=m();b("model",e.dataModel.recordStatus),d("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function PF(n,l){if(n&1){let e=I();r(0,"app-cms-enum-record-status-selector",62),w("modelChange",function(t){u(e);let s=m();return T(s.dataModel.mainAdminRecordStatus,t)||(s.dataModel.mainAdminRecordStatus=t),f(t)}),a()}if(n&2){let e=m();b("model",e.dataModel.mainAdminRecordStatus),d("optionDisabled",!1)("optionLabel",e.fieldsInfo.mainAdminRecordStatus==null?null:e.fieldsInfo.mainAdminRecordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function kF(n,l){n&1&&C(0,"i",65)}function DF(n,l){n&1&&C(0,"i",66)}function RF(n,l){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),_(4,"translate"),a()()),n&2){let e=m(2);o(),y(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," "),o(2),M(g(4,2,"MESSAGE.required"))}}function LF(n,l){if(n&1){let e=I();r(0,"div",24)(1,"label",63),c(2),a(),r(3,"input",64,10),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.title,t)||(s.dataModel.title=t),f(t)}),a(),S(5,kF,1,0,"i",31)(6,DF,1,0,"i",32),r(7,"em"),c(8),a(),S(9,RF,5,4,"mat-error",33),a()}if(n&2){let e=k(4),i=m();o(2),M(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(),d("placeholder",x(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle))("disabled",x(!(i.fieldsInfo.title!=null&&i.fieldsInfo.title.accessAddField))),b("ngModel",i.dataModel.title),o(2),d("ngIf",!e.value),o(),d("ngIf",e.value),o(2),y("",e.value.length," / 100"),o(),d("ngIf",e.errors==null?null:e.errors.required)}}function VF(n,l){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),_(4,"translate"),a()()),n&2){let e=m(2);o(),y(" ",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle," "),o(2),M(g(4,2,"MESSAGE.required"))}}function OF(n,l){if(n&1){let e=I();r(0,"div",24)(1,"label",67),c(2),a(),r(3,"textarea",68,11),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.description,t)||(s.dataModel.description=t),f(t)}),a(),r(5,"em"),c(6),a(),S(7,VF,5,4,"mat-error",33),a()}if(n&2){let e=k(4),i=m();o(2),M(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle),o(),d("placeholder",x(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle))("disabled",x(!(i.fieldsInfo.description!=null&&i.fieldsInfo.description.accessAddField))),b("ngModel",i.dataModel.description),o(3),y("",e.value.length," / 500"),o(),d("ngIf",e.errors==null?null:e.errors.required)}}function FF(n,l){if(n&1){let e=I();r(0,"div",24)(1,"label",69),c(2),_(3,"translate"),a(),r(4,"textarea",70,12),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.descriptionHidden,t)||(s.dataModel.descriptionHidden=t),f(t)}),a(),r(6,"em"),c(7),a()()}if(n&2){let e=k(5),i=m();o(2),M(g(3,5,"TITLE.Description_Hidden")),o(2),d("placeholder",x(i.fieldsInfo.descriptionHidden==null?null:i.fieldsInfo.descriptionHidden.fieldTitle)),b("ngModel",i.dataModel.descriptionHidden),o(3),y("",e.value.length," / 500")}}function BF(n,l){n&1&&C(0,"i",65)}function NF(n,l){n&1&&C(0,"i",66)}function HF(n,l){n&1&&(r(0,"mat-error"),c(1," Address is "),r(2,"strong"),c(3),_(4,"translate"),a()()),n&2&&(o(3),M(g(4,1,"MESSAGE.required")))}function WF(n,l){if(n&1){let e=I();r(0,"div",71)(1,"button",72),E("click",function(){u(e);let t=m();return f(t.onActionBackToParent())}),c(2),_(3,"translate"),a(),r(4,"button",73),c(5),_(6,"translate"),a()()}if(n&2){m();let e=k(9);o(2),y(" ",g(3,3,"ACTION.BACK")," "),o(2),d("disabled",!e.form.valid),o(),y(" ",g(6,5,"ACTION.NEXT")," ")}}function GF(n,l){if(n&1){let e=I();r(0,"div",24)(1,"label",74),c(2),_(3,"translate"),a(),r(4,"input",75,13),_(6,"translate"),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.source,t)||(s.dataModel.source=t),f(t)}),a(),r(7,"em"),c(8),a()()}if(n&2){let e=k(5),i=m();o(2),M(g(3,7,"TITLE.Source_page_address")),o(2),d("placeholder",x(g(6,9,"TITLE.Content_reference_website_link")))("disabled",x(!(i.fieldsInfo.source!=null&&i.fieldsInfo.source.accessAddField))),b("ngModel",i.dataModel.source),o(4),y("",e.value.length," / 500")}}function UF(n,l){if(n&1){let e=I();r(0,"mat-chip",76),E("removed",function(){let t=u(e).$implicit,s=m();return f(s.removeTag(t))}),c(1),r(2,"button",77)(3,"mat-icon"),c(4,"cancel"),a()()()}if(n&2){let e=l.$implicit;o(),y(" ",e," ")}}function jF(n,l){if(n&1&&(r(0,"div",71)(1,"button",78),c(2),_(3,"translate"),a(),r(4,"button",73),c(5),_(6,"translate"),a()()),n&2){m();let e=k(9);o(2),y(" ",g(3,3,"ACTION.BEFOR")," "),o(2),d("disabled",!e.form.valid),o(),y(" ",g(6,5,"ACTION.NEXT")," ")}}function qF(n,l){if(n&1&&(C(0,"img",79),_(1,"cmsthumbnail")),n&2){let e=m();d("src",x(g(1,2,e.dataModel.linkMainImageIdSrc)),j)}}function QF(n,l){n&1&&(r(0,"p"),c(1),_(2,"translate"),a()),n&2&&(o(),y(" ",g(2,1,"TITLE.List_of_attached_photos")," "))}function zF(n,l){if(n&1&&(r(0,"audio",80),C(1,"source",81),_(2,"cmsthumbnail"),c(3," Your browser does not support the audio tag. "),a()),n&2){let e=m();o(),d("src",x(g(2,2,e.dataModel.linkFilePodcastIdSrc)),j)}}function YF(n,l){if(n&1&&(r(0,"video",80),C(1,"source",82),c(2," Your browser does not support the video tag. "),a()),n&2){let e=m();o(),d("src",x(e.dataModel.linkFileMovieIdSrc),j)}}function KF(n,l){if(n&1&&(r(0,"div",71)(1,"button",78),c(2),_(3,"translate"),a(),r(4,"button",73),c(5),_(6,"translate"),a()()),n&2){m();let e=k(9);o(2),y(" ",g(3,3,"ACTION.BEFOR")," "),o(2),d("disabled",!e.form.valid),o(),y(" ",g(6,5,"ACTION.NEXT")," ")}}function ZF(n,l){if(n&1&&(r(0,"div",71)(1,"button",78),c(2),_(3,"translate"),a(),r(4,"button",83),c(5),_(6,"translate"),a()()),n&2){m();let e=k(9);o(2),y(" ",g(3,3,"ACTION.BEFOR")," "),o(2),d("disabled",!e.form.valid),o(),y(" ",g(6,5,"ACTION.SAVE")," ")}}function JF(n,l){n&1&&(r(0,"mat-icon"),c(1,"call_end"),a())}function XF(n,l){n&1&&(r(0,"mat-icon"),c(1,"call_end"),a())}function $F(n,l){n&1&&(r(0,"mat-icon"),c(1,"forum"),a())}function eB(n,l){n&1&&(r(0,"mat-icon"),c(1,"forum"),a())}var Fs=class Fs extends Dt{constructor(e,i,t,s,h,p,D){super(t,new Rn,i,D);this.coreEnumService=e;this.publicHelper=i;this.contentService=t;this.cmsToastrService=s;this.router=h;this.cdr=p;this.translate=D;this.constructorInfoAreaId=this.constructor.name;this.dataModel=new Rn;this.dataModelResult=new G;this.dataFileModelImgaes=new Map;this.dataFileModelFiles=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.selectFileTypePodcast=["mp3"];this.selectFileTypeMovie=["mp4","webm"];this.formInfo=new me;this.fileManagerOpenForm=!1;this.fileManagerOpenFormPodcast=!1;this.fileManagerOpenFormMovie=!1;this.fieldsInfo=new Map;this.keywordDataModel=[];this.tagDataModel=[];this.similarDataModel=new Array;this.otherInfoTabledisplayedColumns=["Title","TypeId","Action"];this.similarTabledisplayedColumns=["LinkMainImageIdSrc","Id","RecordStatus","Title","Action"];this.similarTabledataSource=new li;this.appLanguage="fa";this.viewMap=!1;this.mapMarkerPoints=[];this.mapOptonCenter=new Li;this.addOnBlurTag=!0;this.separatorKeysCodes=[13];this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.DataGetAccess()}onActionTagChange(e){this.tagDataModel=e}onActionFileSelectedLinkMainImageId(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}onActionFileSelectedLinkFilePodcastId(e){this.dataModel.linkFilePodcastId=e.id,this.dataModel.linkFilePodcastIdSrc=e.downloadLinksrc}onActionFileSelectedLinkFileMovieId(e){this.dataModel.linkFileMovieId=e.id,this.dataModel.linkFileMovieIdSrc=e.downloadLinksrc}receiveMap(e=this.mapModel){e&&(this.mapModel=e,this.mapModel.on("click",i=>{let t=i.latlng.lat,s=i.latlng.lng;if(this.mapMarker!==void 0&&this.mapModel.removeLayer(this.mapMarker),t===this.dataModel.geolocationlatitude&&s===this.dataModel.geolocationlongitude){this.dataModel.geolocationlatitude=null,this.dataModel.geolocationlongitude=null;return}this.mapMarker=G0.marker([t,s]).addTo(this.mapModel),this.dataModel.geolocationlatitude=t,this.dataModel.geolocationlongitude=s}))}receiveZoom(e){}onFormSubmit(){if(!this.formGroup.valid){this.cmsToastrService.typeErrorFormInvalid();return}if(this.dataModel.keyword="",this.keywordDataModel&&this.keywordDataModel.length>0){let e=[];this.keywordDataModel.forEach(i=>{i.display?e.push(i.display):e.push(i)}),e&&e.length>0&&(this.dataModel.keyword=e.join(","))}this.DataAddContent()}DataAddContent(){this.formInfo.formSubmitAllow=!1,this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";if(this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.dataFileModelFiles){let i=Array.from(this.dataFileModelFiles.keys());i&&i.length>0&&(this.dataModel.linkFileIds=i.join(","))}if(this.dataFileModelImgaes){let i=Array.from(this.dataFileModelImgaes.keys());i&&i.length>0&&(this.dataModel.linkExtraImageIds=i.join(","))}this.contentService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.publicHelper.processService.processStop(e),this.formInfo.formSubmitAllow=!i.isSuccess,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.formAlert=t}),this.cmsToastrService.typeSuccessAdd(),setTimeout(()=>this.router.navigate(["/estate/property-company/"]),1e3)):this.cmsToastrService.typeErrorAdd(i.errorMessage),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeErrorAdd(i),this.publicHelper.processService.processStop(e)}})}onActionContentSimilarRemoveFromLIst(e){if(!e||e.id.length<=0||!this.similarDataModel||this.similarDataModel.length===0)return;let i=new Array;this.similarDataModel.forEach(t=>{t.id!==e.id&&i.push(t)}),this.similarDataModel=i,this.similarTabledataSource.data=this.similarDataModel}onStepClick(e,i){e.previouslySelectedIndex<e.selectedIndex&&(this.formGroup.valid||(this.cmsToastrService.typeErrorFormInvalid(),setTimeout(()=>{i.selectedIndex=e.previouslySelectedIndex},10)))}onActionBackToParent(){this.router.navigate(["/estate/property-company/"])}onActionSelectorLocation(e){if(!e||!e.id||e.id<=0){this.translate.get("MESSAGE.Information_area_deleted").subscribe(i=>{this.cmsToastrService.typeWarningSelected(i)}),this.dataModel.linkLocationId=null;return}this.dataModel.linkLocationId=e.id}onActionSelectorLocationWorkArea(e){this.dataModel.linkLocationIds=e}addTag(e){let i=(e.value||"").trim();i&&this.keywordDataModel.push(i),e.chipInput.clear()}removeTag(e){let i=this.keywordDataModel.indexOf(e);i>=0&&this.keywordDataModel.splice(i,1)}};Fs.\u0275fac=function(i){return new(i||Fs)(v(J),v(F),v(fn),v(V),v(Ze),v(B),v(L))},Fs.\u0275cmp=R({type:Fs,selectors:[["app-estate-property-company-add"]],viewQuery:function(i,t){if(i&1&&ee(xF,5),i&2){let s;te(s=ie())&&(t.formGroup=s.first)}},standalone:!1,features:[ne],decls:134,vars:158,consts:[["vform","ngForm"],["stepper",""],["PhoneNumber",""],["mobileNumber",""],["Address",""],["chipList",""],["tagInput",""],["LinkMainImageId",""],["LinkFilePodcastId",""],["LinkFileMovieId",""],["Title",""],["Description",""],["DescriptionHidden",""],["Source",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"selectionChange"],["state","main",3,"label"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.phoneNumber",1,"color-highlight"],["matInput","","type","text","name","dataModel.phoneNumber","type","text","minlength","0","maxlength","64","id","dataModel.phoneNumber",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.mobileNumber",1,"color-highlight"],["matInput","","type","text","name","dataModel.mobileNumber","type","text","minlength","3","maxlength","64","id","dataModel.mobileNumber",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.address",1,"color-highlight"],["matInput","","name","dataModel.address","type","text","minlength","1","maxlength","500","rows","5","required","","id","dataModel.address",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["class","fa fa-times invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],[4,"ngIf"],[1,"pb-5"],["id","main","name","dataModel.body",3,"ngModelChange","placeholder","config","ngModel"],["class","ntk-button-row",4,"ngIf"],["state","seo",3,"label"],["appearance","fill",2,"width","100%"],["aria-label","'TITLE.key_word'|translate"],[3,"removed",4,"ngFor","ngForOf"],[3,"matChipInputTokenEnd","placeholder","matChipInputAddOnBlur","matChipInputFor","matChipInputSeparatorKeyCodes"],["state","file",3,"label"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align: middle","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openDirectUploadView","openFilemanagerButtonLabelKey","selectFileType","openFilemanagerButtonView"],[3,"dataFileModelChange","dataFileModel","openDirectUploadView","optionFileType"],[3,"dataFileModelChange","dataFileModel","openDirectUploadView"],["controls","",4,"ngIf"],["matInput","","type","text","name","dataModel.linkFilePodcastId","id","dataModel.linkFilePodcastId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],["matInput","","type","text","name","dataModel.linkFileMovieId","id","dataModel.linkFileMovieId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"dataModelChange","dataModel"],[3,"dataModelChange","dataModel","dataImageModel"],["state","loaction",3,"label"],["id","main-map",3,"map$","zoom$","optonCenter"],["matStepperIcon","main"],["matStepperIcon","seo"],["matStepperIcon","file"],["matStepperIcon","loaction"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.descriptionHidden",1,"color-highlight"],["matInput","","name","dataModel.descriptionHidden","type","text","minlength","0","maxlength","500","rows","5","id","dataModel.descriptionHidden",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"ntk-button-row"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],["type","button","matStepperNext","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue",3,"disabled"],["for","dataModel.source",1,"color-highlight"],["matInput","","type","text","name","dataModel.source","type","text","dir","ltr","minlength","3","maxlength","500","id","dataModel.source",1,"form-control","validate-name","input-ltr",2,"text-align","left",3,"ngModelChange","ngModel","placeholder","disabled"],[3,"removed"],["type","button","matChipRemove","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"],["type","button","matStepperPrevious","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["controls",""],["type","audio/mp3",3,"src"],["type","video/mp4",3,"src"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"]],template:function(i,t){if(i&1){let s=I();r(0,"div",14),C(1,"app-progress-spinner",15),r(2,"div",16)(3,"p",17),c(4),a(),r(5,"p"),c(6),_(7,"translate"),a(),r(8,"form",18,0),E("ngSubmit",function(){return u(s),f(t.onFormSubmit())}),r(10,"mat-vertical-stepper",19,1),E("selectionChange",function(p){u(s);let D=k(11);return f(t.onStepClick(p,D))}),r(12,"mat-step",20),_(13,"translate"),S(14,AF,1,5,"app-cms-enum-record-status-selector",21)(15,PF,1,5,"app-cms-enum-record-status-selector",21)(16,LF,10,10,"div",22)(17,OF,8,8,"div",22)(18,FF,8,7,"div",22),r(19,"app-cms-location-selector",23),_(20,"translate"),E("optionChange",function(p){return u(s),f(t.onActionSelectorLocation(p))}),a(),c(21),_(22,"translate"),r(23,"app-cms-location-autocomplete",23),_(24,"translate"),E("optionChange",function(p){return u(s),f(t.onActionSelectorLocationWorkArea(p))}),a(),r(25,"div",24)(26,"label",25),c(27),a(),r(28,"input",26,2),w("ngModelChange",function(p){return u(s),T(t.dataModel.phoneNumber,p)||(t.dataModel.phoneNumber=p),f(p)}),a(),r(30,"em"),c(31),a()(),r(32,"div",24)(33,"label",27),c(34),a(),r(35,"input",28,3),w("ngModelChange",function(p){return u(s),T(t.dataModel.mobileNumber,p)||(t.dataModel.mobileNumber=p),f(p)}),a(),r(37,"em"),c(38),a()(),r(39,"div",24)(40,"label",29),c(41),a(),r(42,"textarea",30,4),w("ngModelChange",function(p){return u(s),T(t.dataModel.address,p)||(t.dataModel.address=p),f(p)}),a(),r(44,"em"),c(45),a(),S(46,BF,1,0,"i",31)(47,NF,1,0,"i",32)(48,HF,5,3,"mat-error",33),a(),C(49,"hr",34),r(50,"label"),c(51),a(),r(52,"angular-editor",35),_(53,"translate"),w("ngModelChange",function(p){return u(s),T(t.dataModel.body,p)||(t.dataModel.body=p),f(p)}),a(),S(54,WF,7,7,"div",36),a(),r(55,"mat-step",37),_(56,"translate"),r(57,"p"),c(58),_(59,"translate"),a(),S(60,GF,9,11,"div",22),r(61,"mat-form-field",38)(62,"mat-label"),c(63),_(64,"translate"),a(),r(65,"mat-chip-grid",39,5),S(67,UF,5,1,"mat-chip",40),r(68,"input",41,6),_(70,"translate"),E("matChipInputTokenEnd",function(p){return u(s),f(t.addTag(p))}),a()()(),S(71,jF,7,7,"div",36),a(),r(72,"mat-step",42),_(73,"translate"),r(74,"p"),c(75),_(76,"translate"),a(),r(77,"div",43)(78,"a",44),_(79,"cmsthumbnail"),S(80,qF,2,4,"img",45),a()(),r(81,"div",24)(82,"label",46),E("click",function(){return u(s),f(t.fileManagerOpenForm=!0)}),c(83),_(84,"translate"),a(),r(85,"input",47,7),_(87,"translate"),w("ngModelChange",function(p){return u(s),T(t.dataModel.linkMainImageId,p)||(t.dataModel.linkMainImageId=p),f(p)}),E("click",function(){return u(s),f(t.fileManagerOpenForm=!0)}),a(),r(88,"cms-file-manager",48),E("itemSelected",function(p){return u(s),f(t.onActionFileSelectedLinkMainImageId(p))}),w("openFormChange",function(p){return u(s),T(t.fileManagerOpenForm,p)||(t.fileManagerOpenForm=p),f(p)}),a()(),C(89,"hr"),S(90,QF,3,3,"p",33),r(91,"app-cms-files-selector",49),w("dataFileModelChange",function(p){return u(s),T(t.dataFileModelImgaes,p)||(t.dataFileModelImgaes=p),f(p)}),a(),C(92,"hr"),r(93,"div")(94,"p"),c(95),_(96,"translate"),a(),r(97,"app-cms-files-selector",50),w("dataFileModelChange",function(p){return u(s),T(t.dataFileModelFiles,p)||(t.dataFileModelFiles=p),f(p)}),a(),C(98,"br"),a(),r(99,"div",43),S(100,zF,4,4,"audio",51),a(),r(101,"div",24)(102,"input",52,8),_(104,"translate"),w("ngModelChange",function(p){return u(s),T(t.dataModel.linkFilePodcastId,p)||(t.dataModel.linkFilePodcastId=p),f(p)}),E("click",function(){return u(s),f(t.fileManagerOpenFormPodcast=!0)}),a(),r(105,"cms-file-manager",48),E("itemSelected",function(p){return u(s),f(t.onActionFileSelectedLinkFilePodcastId(p))}),w("openFormChange",function(p){return u(s),T(t.fileManagerOpenFormPodcast,p)||(t.fileManagerOpenFormPodcast=p),f(p)}),a()(),r(106,"div",43),S(107,YF,3,2,"video",51),a(),r(108,"div",24)(109,"input",53,9),_(111,"translate"),w("ngModelChange",function(p){return u(s),T(t.dataModel.linkFileMovieId,p)||(t.dataModel.linkFileMovieId=p),f(p)}),E("click",function(){return u(s),f(t.fileManagerOpenFormMovie=!0)}),a(),r(112,"cms-file-manager",48),E("itemSelected",function(p){return u(s),f(t.onActionFileSelectedLinkFileMovieId(p))}),w("openFormChange",function(p){return u(s),T(t.fileManagerOpenFormMovie,p)||(t.fileManagerOpenFormMovie=p),f(p)}),a()(),r(113,"h3"),c(114),_(115,"translate"),a(),r(116,"app-cms-360-image-list",54),w("dataModelChange",function(p){return u(s),T(t.dataModel.file360Views,p)||(t.dataModel.file360Views=p),f(p)}),a(),C(117,"br"),r(118,"h3"),c(119),_(120,"translate"),a(),r(121,"app-cms-360-tour-list",55),w("dataModelChange",function(p){return u(s),T(t.dataModel.file360Tour,p)||(t.dataModel.file360Tour=p),f(p)}),a(),S(122,KF,7,7,"div",36),a(),r(123,"mat-step",56),_(124,"translate"),r(125,"p"),c(126),_(127,"translate"),a(),r(128,"app-cms-map",57),E("map$",function(p){return u(s),f(t.receiveMap(p))})("zoom$",function(p){return u(s),f(t.receiveZoom(p))}),a(),S(129,ZF,7,7,"div",36),a(),S(130,JF,2,0,"ng-template",58)(131,XF,2,0,"ng-template",59)(132,$F,2,0,"ng-template",60)(133,eB,2,0,"ng-template",61),a()()()()}if(i&2){let s=k(29),h=k(36),p=k(43),D=k(66);o(),d("optionsInfoAreaId",t.constructorInfoAreaId),o(3),y(" ",t.formInfo.formTitle," "),o(2),y(" ",g(7,114,"TITLE.Be_Careful_When_Entering_Information")," "),o(6),d("label",x(g(13,116,"TITLE.REQUIRED_INFORMATION"))),o(2),d("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),o(),d("ngIf",t.fieldsInfo.mainAdminRecordStatus==null?null:t.fieldsInfo.mainAdminRecordStatus.accessWatchField),o(),d("ngIf",t.fieldsInfo.title==null?null:t.fieldsInfo.title.accessWatchField),o(),d("ngIf",t.fieldsInfo.description==null?null:t.fieldsInfo.description.accessWatchField),o(),d("ngIf",t.fieldsInfo.descriptionHidden==null?null:t.fieldsInfo.descriptionHidden.accessWatchField),o(),d("optionDisabled",!(t.fieldsInfo.linkLocationId!=null&&t.fieldsInfo.linkLocationId.accessAddField))("optionSelectForce",t.dataModel.linkLocationId)("optionPlaceholder",g(20,118,"TITLE.Region")),o(2),y(" ",g(22,120,"TITLE.Geographical_Areas")," : "),o(2),d("optionDisabled",!(t.fieldsInfo.linkLocationIds!=null&&t.fieldsInfo.linkLocationIds.accessAddField))("optionSelectForce",t.dataModel.linkLocationIds)("optionPlaceholder",g(24,122,"TITLE.Region")),o(4),M(t.fieldsInfo.phoneNumber==null?null:t.fieldsInfo.phoneNumber.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.phoneNumber==null?null:t.fieldsInfo.phoneNumber.fieldTitle)),b("ngModel",t.dataModel.phoneNumber),d("disabled",!(t.fieldsInfo.phoneNumber!=null&&t.fieldsInfo.phoneNumber.accessAddField)),o(3),y("",s.value.length," / 64"),o(3),M(t.fieldsInfo.mobileNumber==null?null:t.fieldsInfo.mobileNumber.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.mobileNumber==null?null:t.fieldsInfo.mobileNumber.fieldTitle)),b("ngModel",t.dataModel.mobileNumber),d("disabled",!(t.fieldsInfo.mobileNumber!=null&&t.fieldsInfo.mobileNumber.accessAddField)),o(3),y("",h.value.length," / 64"),o(3),M(t.fieldsInfo.address==null?null:t.fieldsInfo.address.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.address==null?null:t.fieldsInfo.address.fieldTitle)),b("ngModel",t.dataModel.address),d("disabled",!(t.fieldsInfo.address!=null&&t.fieldsInfo.address.accessAddField)),o(3),y("",p.value.length," / 500"),o(),d("ngIf",!p.value),o(),d("ngIf",p.value),o(),d("ngIf",p.errors==null?null:p.errors.required),o(3),y(" ",t.fieldsInfo.body==null?null:t.fieldsInfo.body.fieldTitle," "),o(),d("placeholder",g(53,124,"TITLE.Enter_Text"))("config",t.publicHelper.editorConfig),b("ngModel",t.dataModel.body),o(2),d("ngIf",t.formInfo.formSubmitAllow),o(),d("label",x(g(56,126,"TITLE.Search_Engines"))),o(3),y(" ",g(59,128,"TITLE.This_section_helps_search_engines_better_index_content")," "),o(2),d("ngIf",t.fieldsInfo.source==null?null:t.fieldsInfo.source.accessWatchField),o(3),M(g(64,130,"TITLE.Choose_keywords_relative_to_the_content")),o(4),d("ngForOf",t.keywordDataModel),o(),d("placeholder",g(70,132,"TITLE.key_word"))("matChipInputAddOnBlur",t.addOnBlurTag)("matChipInputFor",D)("matChipInputSeparatorKeyCodes",t.separatorKeysCodes),o(3),d("ngIf",t.formInfo.formSubmitAllow),o(),d("label",x(g(73,134,"TITLE.ATTACH_FILES"))),o(3),M(g(76,136,"TITLE.CONTENT_ATTACH_FILES")),o(3),d("href",x(g(79,138,t.dataModel.linkMainImageIdSrc)),j),o(2),d("ngIf",(t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0),o(3),M(g(84,140,"TITLE.Original_Photo")),o(2),d("placeholder",x(g(87,142,"TITLE.Original_File_ID"))),b("ngModel",t.dataModel.linkMainImageId),o(3),d("language",t.appLanguage)("isPopup",!0),b("openForm",t.fileManagerOpenForm),d("tree",t.fileManagerTree)("openDirectUploadView",!0)("openFilemanagerButtonLabelKey","select")("selectFileType",t.selectFileTypeMainImage)("openFilemanagerButtonView",!1),o(2),d("ngIf",t.dataFileModelImgaes&&t.dataFileModelImgaes.size>0),o(),b("dataFileModel",t.dataFileModelImgaes),d("openDirectUploadView",!0)("optionFileType",t.selectFileTypeMainImage),o(4),M(g(96,144,"TITLE.List_of_attached_files")),o(2),b("dataFileModel",t.dataFileModelFiles),d("openDirectUploadView",!0),o(3),d("ngIf",(t.dataModel==null||t.dataModel.linkFilePodcastIdSrc==null?null:t.dataModel.linkFilePodcastIdSrc.length)>0),o(2),d("placeholder",x(g(104,146,"TITLE.Audio_File_ID"))),b("ngModel",t.dataModel.linkFilePodcastId),o(3),d("language",t.appLanguage)("isPopup",!0),b("openForm",t.fileManagerOpenFormPodcast),d("tree",t.fileManagerTree)("openDirectUploadView",!0)("openFilemanagerButtonLabelKey","select")("selectFileType",t.selectFileTypePodcast)("openFilemanagerButtonView",!1),o(2),d("ngIf",(t.dataModel==null||t.dataModel.linkFileMovieIdSrc==null?null:t.dataModel.linkFileMovieIdSrc.length)>0),o(2),d("placeholder",x(g(111,148,"TITLE.Video_File_ID"))),b("ngModel",t.dataModel.linkFileMovieId),o(3),d("language",t.appLanguage)("isPopup",!0),b("openForm",t.fileManagerOpenFormMovie),d("tree",t.fileManagerTree)("openDirectUploadView",!0)("openFilemanagerButtonLabelKey","select")("selectFileType",t.selectFileTypeMovie)("openFilemanagerButtonView",!1),o(2),M(g(115,150,"TITLE.image_360")),o(2),b("dataModel",t.dataModel.file360Views),o(3),M(g(120,152,"TITLE.virtual_tour")),o(2),b("dataModel",t.dataModel.file360Tour),d("dataImageModel",t.dataModel.file360Views),o(),d("ngIf",t.formInfo.formSubmitAllow),o(),d("label",ve("",g(124,154,"TITLE.Location")," ")),o(3),y(" ",g(127,156,"TITLE.Click_on_the_map_to_specify_the_location")," "),o(2),d("optonCenter",t.mapOptonCenter),o(),d("ngIf",t.formInfo.formSubmitAllow)}},dependencies:[Ne,N,ke,Y,q,Te,de,De,Ae,ce,Pe,di,bi,Ti,wi,Mi,mi,pi,we,Ee,Q,Ji,Xi,hn,yn,Zi,Vi,si,Qt,Nn,Hn,Ci,U,mn,en,Bo,ut,O,Ie],styles:["@media (max-width: 1399px){.wizard.wizard-4[_ngcontent-%COMP%]   .wizard-nav[_ngcontent-%COMP%]   .wizard-steps[_ngcontent-%COMP%]   .wizard-step[_ngcontent-%COMP%]{flex:0 0 calc(25% - .25rem)}}form[_ngcontent-%COMP%]{text-align:right}.wrapper[_ngcontent-%COMP%]{display:flex;padding-top:15px}.lbl-status[_ngcontent-%COMP%]{width:100px;display:flex;align-items:flex-end;justify-content:center;margin-top:5px}.status-select[_ngcontent-%COMP%]{width:970px}textarea[_ngcontent-%COMP%]{resize:none}.calender-select[_ngcontent-%COMP%]{width:252px}.next-modal[_ngcontent-%COMP%]{width:100px;margin-right:15px}.pb-4[_ngcontent-%COMP%], .py-4[_ngcontent-%COMP%]{padding-bottom:7px!important;padding-top:7px!important}tag-input[_ngcontent-%COMP%]{width:1000px}.leaflet-pane[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute!important}.fs-container[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;top:0;left:0}.lbl-content[_ngcontent-%COMP%]{width:100px;display:flex;align-items:flex-end;justify-content:center;margin-top:25px}@media (min-width: 1400px){.col-xxl-7[_ngcontent-%COMP%]{max-width:100%!important;flex:0 0 100%}}.heroes[_ngcontent-%COMP%]{margin:0 0 2em;list-style-type:none;padding:0;width:15em}.heroes[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{cursor:pointer;position:relative;left:0;background-color:#eee;margin:.5em;padding:.3em 0;height:1.6em;border-radius:4px}.heroes[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{color:#607d8b;background-color:#ddd;left:.1em}.heroes[_ngcontent-%COMP%]   li.selected[_ngcontent-%COMP%]{background-color:#cfd8dc;color:#fff}.heroes[_ngcontent-%COMP%]   li.selected[_ngcontent-%COMP%]:hover{background-color:#bbd8dc;color:#fff}.heroes[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{display:inline-block;font-size:small;color:#fff;padding:.8em .7em 0;background-color:#405061;line-height:1em;position:relative;left:-1px;top:-4px;height:1.8em;margin-right:.8em;border-radius:4px 0 0 4px}"]});var dp=Fs;var qp=uo(Fo());var tB=["vform"];function iB(n,l){if(n&1){let e=I();r(0,"app-cms-enum-record-status-selector",62),w("modelChange",function(t){u(e);let s=m();return T(s.dataModel.recordStatus,t)||(s.dataModel.recordStatus=t),f(t)}),a()}if(n&2){let e=m();b("model",e.dataModel.recordStatus),d("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function nB(n,l){if(n&1){let e=I();r(0,"app-cms-enum-record-status-selector",62),w("modelChange",function(t){u(e);let s=m();return T(s.dataModel.mainAdminRecordStatus,t)||(s.dataModel.mainAdminRecordStatus=t),f(t)}),a()}if(n&2){let e=m();b("model",e.dataModel.mainAdminRecordStatus),d("optionDisabled",!1)("optionLabel",e.fieldsInfo.mainAdminRecordStatus==null?null:e.fieldsInfo.mainAdminRecordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function oB(n,l){n&1&&C(0,"i",65)}function rB(n,l){n&1&&C(0,"i",66)}function aB(n,l){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),_(4,"translate"),a()()),n&2){let e=m(2);o(),y(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," "),o(2),M(g(4,2,"MESSAGE.required"))}}function lB(n,l){if(n&1){let e=I();r(0,"div",24)(1,"label",63),c(2),a(),r(3,"input",64,10),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.title,t)||(s.dataModel.title=t),f(t)}),a(),S(5,oB,1,0,"i",31)(6,rB,1,0,"i",32),r(7,"em"),c(8),a(),S(9,aB,5,4,"mat-error",33),a()}if(n&2){let e=k(4),i=m();o(2),M(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(),d("placeholder",x(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle))("disabled",x(!(i.fieldsInfo.title!=null&&i.fieldsInfo.title.accessEditField))),b("ngModel",i.dataModel.title),o(2),d("ngIf",!e.value),o(),d("ngIf",e.value),o(2),y("",e.value.length," / 100"),o(),d("ngIf",e.errors==null?null:e.errors.required)}}function sB(n,l){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),_(4,"translate"),a()()),n&2){let e=m(2);o(),y(" ",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle," "),o(2),M(g(4,2,"MESSAGE.required"))}}function dB(n,l){if(n&1){let e=I();r(0,"div",24)(1,"label",67),c(2),a(),r(3,"textarea",68,11),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.description,t)||(s.dataModel.description=t),f(t)}),a(),r(5,"em"),c(6),a(),S(7,sB,5,4,"mat-error",33),a()}if(n&2){let e=k(4),i=m();o(2),M(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle),o(),d("placeholder",x(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle))("disabled",x(!(i.fieldsInfo.description!=null&&i.fieldsInfo.description.accessEditField))),b("ngModel",i.dataModel.description),o(3),y("",e.value.length," / 500"),o(),d("ngIf",e.errors==null?null:e.errors.required)}}function cB(n,l){if(n&1){let e=I();r(0,"div",24)(1,"label",69),c(2),_(3,"translate"),a(),r(4,"textarea",70,12),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.descriptionHidden,t)||(s.dataModel.descriptionHidden=t),f(t)}),a(),r(6,"em"),c(7),a()()}if(n&2){let e=k(5),i=m();o(2),M(g(3,7,"TITLE.Description_Hidden")),o(2),d("placeholder",x(i.fieldsInfo.descriptionHidden==null?null:i.fieldsInfo.descriptionHidden.fieldTitle))("disabled",x(!(i.fieldsInfo.descriptionHidden!=null&&i.fieldsInfo.descriptionHidden.accessEditField))),b("ngModel",i.dataModel.descriptionHidden),o(3),y("",e.value.length," / 500")}}function pB(n,l){n&1&&C(0,"i",65)}function mB(n,l){n&1&&C(0,"i",66)}function uB(n,l){n&1&&(r(0,"mat-error"),c(1," Address is "),r(2,"strong"),c(3),_(4,"translate"),a()()),n&2&&(o(3),M(g(4,1,"MESSAGE.required")))}function fB(n,l){if(n&1&&(r(0,"button",75),c(1),_(2,"translate"),a()),n&2){m(2);let e=k(9);d("disabled",!e.form.valid),o(),y(" ",g(2,2,"ACTION.SAVE")," ")}}function _B(n,l){if(n&1){let e=I();r(0,"div",71)(1,"button",72),E("click",function(){u(e);let t=m();return f(t.onActionBackToParent())}),c(2),_(3,"translate"),a(),r(4,"button",73),c(5),_(6,"translate"),a(),S(7,fB,3,4,"button",74),a()}if(n&2){let e=m(),i=k(9);o(2),y(" ",g(3,4,"ACTION.BACK")," "),o(2),d("disabled",!i.form.valid),o(),y(" ",g(6,6,"ACTION.NEXT")," "),o(2),d("ngIf",e.formInfo.formSubmitAllow)}}function gB(n,l){if(n&1){let e=I();r(0,"div",24)(1,"label",76),c(2),a(),r(3,"input",77,13),_(5,"translate"),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.source,t)||(s.dataModel.source=t),f(t)}),a(),r(6,"em"),c(7),a()()}if(n&2){let e=k(4),i=m();o(2),M(i.fieldsInfo.source==null?null:i.fieldsInfo.source.fieldTitle),o(),d("placeholder",x(g(5,7,"TITLE.Content_reference_website_link")))("disabled",x(!(i.fieldsInfo.source!=null&&i.fieldsInfo.source.accessEditField))),b("ngModel",i.dataModel.source),o(4),y("",e.value.length," / 500")}}function hB(n,l){if(n&1){let e=I();r(0,"mat-chip",78),E("removed",function(){let t=u(e).$implicit,s=m();return f(s.removeTag(t))}),c(1),r(2,"button",79)(3,"mat-icon"),c(4,"cancel"),a()()()}if(n&2){let e=l.$implicit;o(),y(" ",e," ")}}function yB(n,l){if(n&1&&(r(0,"div",71)(1,"button",80),c(2),_(3,"translate"),a(),r(4,"button",73),c(5),_(6,"translate"),a()()),n&2){m();let e=k(9);o(2),y(" ",g(3,3,"ACTION.BEFOR")," "),o(2),d("disabled",!e.form.valid),o(),y(" ",g(6,5,"ACTION.NEXT")," ")}}function CB(n,l){if(n&1&&(C(0,"img",81),_(1,"cmsthumbnail")),n&2){let e=m();d("src",x(g(1,2,e.dataModel.linkMainImageIdSrc)),j)}}function SB(n,l){n&1&&(r(0,"p"),c(1),_(2,"translate"),a()),n&2&&(o(),y(" ",g(2,1,"TITLE.List_of_attached_photos")," "))}function vB(n,l){if(n&1&&(r(0,"audio",82),C(1,"source",83),_(2,"cmsthumbnail"),c(3," Your browser does not support the audio tag. "),a()),n&2){let e=m();o(),d("src",x(g(2,2,e.dataModel.linkFilePodcastIdSrc)),j)}}function EB(n,l){if(n&1&&(r(0,"video",82),C(1,"source",84),c(2," Your browser does not support the video tag. "),a()),n&2){let e=m();o(),d("src",x(e.dataModel.linkFileMovieIdSrc),j)}}function IB(n,l){if(n&1&&(r(0,"div",71)(1,"button",80),c(2),_(3,"translate"),a(),r(4,"button",73),c(5),_(6,"translate"),a()()),n&2){m();let e=k(9);o(2),y(" ",g(3,3,"ACTION.BEFOR")," "),o(2),d("disabled",!e.form.valid),o(),y(" ",g(6,5,"ACTION.NEXT")," ")}}function MB(n,l){if(n&1&&(r(0,"button",75),c(1),_(2,"translate"),a()),n&2){m(2);let e=k(9);d("disabled",!e.form.valid),o(),y(" ",g(2,2,"ACTION.SAVE")," ")}}function bB(n,l){if(n&1){let e=I();r(0,"div",71)(1,"button",72),E("click",function(){u(e);let t=m();return f(t.onActionBackToParent())}),c(2),_(3,"translate"),a(),r(4,"button",80),c(5),_(6,"translate"),a(),S(7,MB,3,4,"button",74),a()}if(n&2){let e=m();o(2),y(" ",g(3,3,"ACTION.BACK")," "),o(3),y(" ",g(6,5,"ACTION.BEFOR")," "),o(2),d("ngIf",e.formInfo.formSubmitAllow)}}function TB(n,l){n&1&&(r(0,"mat-icon"),c(1,"call_end"),a())}function wB(n,l){n&1&&(r(0,"mat-icon"),c(1,"call_end"),a())}function xB(n,l){n&1&&(r(0,"mat-icon"),c(1,"forum"),a())}function AB(n,l){n&1&&(r(0,"mat-icon"),c(1,"forum"),a())}var Bs=class Bs extends Bt{constructor(e,i,t,s,h,p,D){super(t,new Rn,i,D);this.activatedRoute=e;this.publicHelper=i;this.contentService=t;this.cmsToastrService=s;this.router=h;this.cdr=p;this.translate=D;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.dataModel=new Rn;this.dataModelResult=new Ft;this.dataContentCategoryModel=[];this.dataFileModelImgaes=new Map;this.dataFileModelFiles=new Map;this.similarDataModel=new Array;this.contentSimilarSelected=new Rn;this.otherInfoTabledisplayedColumns=["Id","Title","TypeId","Action"];this.similarTabledisplayedColumns=["LinkMainImageIdSrc","Id","RecordStatus","Title","Action"];this.similarTabledataSource=new li;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.selectFileTypePodcast=["mp3"];this.selectFileTypeMovie=["mp4","webm"];this.formInfo=new me;this.fileManagerOpenForm=!1;this.fileManagerOpenFormPodcast=!1;this.fileManagerOpenFormMovie=!1;this.keywordDataModel=[];this.appLanguage="fa";this.viewMap=!1;this.mapMarkerPoints=[];this.mapOptonCenter=new Li;this.addOnBlurTag=!0;this.separatorKeysCodes=[13];this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),this.requestId=this.activatedRoute.snapshot.paramMap.get("id")}ngOnInit(){if(this.requestId?.length===0){this.cmsToastrService.typeErrorAddRowParentIsNull();return}this.DataGetOne()}onActionFileSelectedLinkMainImageId(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}onActionFileSelectedLinkFilePodcastId(e){this.dataModel.linkFilePodcastId=e.id,this.dataModel.linkFilePodcastIdSrc=e.downloadLinksrc}onActionFileSelectedLinkFileMovieId(e){this.dataModel.linkFileMovieId=e.id,this.dataModel.linkFileMovieIdSrc=e.downloadLinksrc}onFormSubmit(){if(this.requestId?.length<=0){this.cmsToastrService.typeErrorAddRowParentIsNull();return}if(!this.formGroup.valid){this.cmsToastrService.typeErrorFormInvalid();return}if(this.dataModel.keyword="",this.keywordDataModel&&this.keywordDataModel.length>0){let e=[];this.keywordDataModel.forEach(i=>{i.display?e.push(i.display):e.push(i)}),e&&e.length>0&&(this.dataModel.keyword=e.join(","))}this.DataEditContent()}DataGetOne(){this.formInfo.formSubmitAllow=!1,this.translate.get("MESSAGE.get_information_from_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.contentService.setAccessLoad(),this.contentService.setAccessDataType(Be.Editor),this.contentService.ServiceGetOneById(this.requestId).subscribe({next:i=>{if(this.dataAccessModel=i.access,this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.publicHelper.processService.processStop(e),this.dataModelResult=i,this.formInfo.formSubmitAllow=!0,i.isSuccess){this.dataModel=i.item;let t=this.dataModel.geolocationlatitude,s=this.dataModel.geolocationlongitude;t>0&&s>0&&(this.mapMarkerPoints=[],this.mapMarkerPoints.push({lat:t,lon:s}),this.receiveMap()),this.dataModel.keyword=this.dataModel.keyword+"",this.keywordDataModel=this.dataModel.keyword.split(","),this.dataModel.linkFileIds&&this.dataModel.linkFileIds.length>0&&this.dataModel.linkFileIds.split(",").forEach((h,p)=>{let D="";this.dataModel.linkFileIdsSrc.length>=this.dataModel.linkFileIdsSrc.length&&(D=this.dataModel.linkFileIdsSrc[p]),this.dataFileModelFiles.set(+h,D)}),this.dataModel.linkExtraImageIdsSrc&&this.dataModel.linkExtraImageIdsSrc.length>0&&this.dataModel.linkExtraImageIds.split(",").forEach((h,p)=>{let D="";this.dataModel.linkExtraImageIdsSrc.length>=this.dataModel.linkExtraImageIdsSrc.length&&(D=this.dataModel.linkExtraImageIdsSrc[p]),this.dataFileModelImgaes.set(+h,D)})}else this.cmsToastrService.typeErrorGetOne(i.errorMessage);this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeErrorGetOne(i),this.publicHelper.processService.processStop(e,!1)}})}DataSimilarGetAll(e){if(!e||e.length===0)return;this.formInfo.formSubmitAllow=!1,this.translate.get("MESSAGE.get_other_information_from_the_server").subscribe(s=>{this.formInfo.formAlert=s}),this.formInfo.formError="";let i=this.constructor.name+"main";this.translate.get("MESSAGE.get_other_information_from_the_server").subscribe(s=>{this.publicHelper.processService.processStart(i,s,this.constructorInfoAreaId)});let t=new Ta;e.forEach(s=>{if(s>0){let h=new H;h.propertyName="Id",h.value=s,h.clauseType=Ve.Or,t.filters.push(h)}}),this.contentService.ServiceGetAll(t).subscribe({next:s=>{this.formInfo.formSubmitAllow=!0,s.isSuccess?(this.similarDataModel=s.listItems,this.similarTabledataSource.data=s.listItems):this.cmsToastrService.typeErrorGetAll(s.errorMessage),this.publicHelper.processService.processStop(i)},error:s=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeErrorGetAll(s),this.publicHelper.processService.processStop(i)}})}DataEditContent(){if(this.formInfo.formSubmitAllow=!1,this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="",this.dataFileModelFiles){let i=Array.from(this.dataFileModelFiles.keys());i&&i.length>0&&(this.dataModel.linkFileIds=i.join(","))}if(this.dataFileModelImgaes){let i=Array.from(this.dataFileModelImgaes.keys());i&&i.length>0&&(this.dataModel.linkExtraImageIds=i.join(","))}let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.contentService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.publicHelper.processService.processStop(e),this.formInfo.formSubmitAllow=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.formAlert=t}),this.cmsToastrService.typeSuccessEdit(),setTimeout(()=>this.router.navigate(["/estate/property-company"]),1e3)):this.cmsToastrService.typeErrorEdit(i.errorMessage),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeErrorEdit(i),this.publicHelper.processService.processStop(e)}})}onActionTagChange(e){this.tagIdsData=e}onActionContentSimilarSelect(e){!e||e.id.length<=0||(this.contentSimilarSelected=e)}onActionContentSimilarAddToLIst(){if(!(!this.contentSimilarSelected||this.contentSimilarSelected.id.length<=0)){if(this.similarDataModel.find(e=>e.id===this.contentSimilarSelected.id)){this.cmsToastrService.typeErrorAddDuplicate();return}this.similarDataModel.push(this.contentSimilarSelected),this.similarTabledataSource.data=this.similarDataModel}}onActionContentSimilarRemoveFromLIst(e){if(!e||e.id.length<=0||!this.similarDataModel||this.similarDataModel.length===0)return;let i=new Array;this.similarDataModel.forEach(t=>{t.id!==e.id&&i.push(t)}),this.similarDataModel=i,this.similarTabledataSource.data=this.similarDataModel}onStepClick(e,i){e.previouslySelectedIndex<e.selectedIndex&&(this.formGroup.valid||(this.cmsToastrService.typeErrorFormInvalid(),setTimeout(()=>{i.selectedIndex=e.previouslySelectedIndex},10)))}onActionBackToParent(){this.router.navigate(["/estate/property-company/"])}receiveMap(e=this.mapModel){e&&(this.mapModel=e,this.mapMarkerPoints&&this.mapMarkerPoints.length>0&&(this.mapMarkerPoints.forEach(i=>{this.mapMarker=qp.marker([i.lat,i.lon]).addTo(this.mapModel)}),this.mapOptonCenter=this.mapMarkerPoints[0],this.mapMarkerPoints=[]),this.mapModel.on("click",i=>{let t=i.latlng.lat,s=i.latlng.lng;if(this.mapMarker!==void 0&&this.mapModel.removeLayer(this.mapMarker),t===this.dataModel.geolocationlatitude&&s===this.dataModel.geolocationlongitude){this.dataModel.geolocationlatitude=null,this.dataModel.geolocationlongitude=null;return}this.mapMarker=qp.marker([t,s]).addTo(this.mapModel),this.dataModel.geolocationlatitude=t,this.dataModel.geolocationlongitude=s}))}receiveZoom(e){}onActionSelectorLocation(e){if(!e||!e.id||e.id<=0){this.translate.get("MESSAGE.Information_area_deleted").subscribe(i=>{this.cmsToastrService.typeWarningSelected(i)}),this.dataModel.linkLocationId=null;return}this.dataModel.linkLocationId=e.id}onActionSelectorLocationWorkArea(e){this.dataModel.linkLocationIds=e}addTag(e){let i=(e.value||"").trim();i&&this.keywordDataModel.push(i),e.chipInput.clear()}removeTag(e){let i=this.keywordDataModel.indexOf(e);i>=0&&this.keywordDataModel.splice(i,1)}};Bs.\u0275fac=function(i){return new(i||Bs)(v(jt),v(F),v(fn),v(V),v(Ze),v(B),v(L))},Bs.\u0275cmp=R({type:Bs,selectors:[["app-estate-property-company-edit"]],viewQuery:function(i,t){if(i&1&&ee(tB,5),i&2){let s;te(s=ie())&&(t.formGroup=s.first)}},standalone:!1,features:[ne],decls:132,vars:158,consts:[["vform","ngForm"],["stepper",""],["PhoneNumber",""],["mobileNumber",""],["Address",""],["chipList",""],["tagInput",""],["LinkMainImageId",""],["LinkFilePodcastId",""],["LinkFileMovieId",""],["Title",""],["Description",""],["DescriptionHidden",""],["Source",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"selectionChange"],["state","main",3,"label"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.phoneNumber",1,"color-highlight"],["matInput","","type","text","name","dataModel.phoneNumber","type","text","minlength","0","maxlength","64","id","dataModel.phoneNumber",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.mobileNumber",1,"color-highlight"],["matInput","","type","text","name","dataModel.mobileNumber","type","text","minlength","0","maxlength","64","id","dataModel.mobileNumber",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.address",1,"color-highlight"],["matInput","","name","dataModel.address","type","text","minlength","1","maxlength","500","rows","5","required","","id","dataModel.address",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["class","fa fa-times invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],[4,"ngIf"],[1,"pb-5"],["id","main","name","dataModel.body",3,"ngModelChange","placeholder","config","ngModel"],["class","ntk-button-row",4,"ngIf"],["state","seo",3,"label"],["appearance","fill",2,"width","100%"],["aria-label","'TITLE.key_word'|translate"],[3,"removed",4,"ngFor","ngForOf"],[3,"matChipInputTokenEnd","placeholder","matChipInputAddOnBlur","matChipInputFor","matChipInputSeparatorKeyCodes"],["state","file",3,"label"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align: middle","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openDirectUploadView","openFilemanagerButtonLabelKey","selectFileType","openFilemanagerButtonView"],[3,"dataFileModelChange","dataFileModel","openDirectUploadView","optionFileType"],[3,"dataFileModelChange","dataFileModel","openDirectUploadView"],["controls","",4,"ngIf"],["matInput","","type","text","name","dataModel.linkFilePodcastId","id","dataModel.linkFilePodcastId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],["matInput","","type","text","name","dataModel.linkFileMovieId","id","dataModel.linkFileMovieId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"dataModelChange","dataModel"],[3,"dataModelChange","dataModel","dataImageModel"],["state","loaction",3,"label"],["id","main-map",3,"map$","zoom$","optonCenter"],["matStepperIcon","main"],["matStepperIcon","seo"],["matStepperIcon","file"],["matStepperIcon","loaction"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.descriptionHidden",1,"color-highlight"],["matInput","","name","dataModel.descriptionHidden","type","text","minlength","0","maxlength","500","rows","5","id","dataModel.descriptionHidden",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"ntk-button-row"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],["type","button","matStepperNext","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue",3,"disabled"],["type","submit","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-green",3,"disabled",4,"ngIf"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],["for","dataModel.source",1,"color-highlight"],["matInput","","type","text","name","dataModel.source","type","text","dir","ltr","minlength","3","maxlength","500","id","dataModel.source",1,"form-control","validate-name","input-ltr",2,"text-align","left",3,"ngModelChange","ngModel","placeholder","disabled"],[3,"removed"],["type","button","matChipRemove","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"],["type","button","matStepperPrevious","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["controls",""],["type","audio/mp3",3,"src"],["type","video/mp4",3,"src"]],template:function(i,t){if(i&1){let s=I();r(0,"div",14),C(1,"app-progress-spinner",15),r(2,"div",16)(3,"p",17),c(4),a(),r(5,"p"),c(6),_(7,"translate"),a(),r(8,"form",18,0),E("ngSubmit",function(){return u(s),f(t.onFormSubmit())}),r(10,"mat-vertical-stepper",19,1),E("selectionChange",function(p){u(s);let D=k(11);return f(t.onStepClick(p,D))}),r(12,"mat-step",20),_(13,"translate"),S(14,iB,1,5,"app-cms-enum-record-status-selector",21)(15,nB,1,5,"app-cms-enum-record-status-selector",21)(16,lB,10,10,"div",22)(17,dB,8,8,"div",22)(18,cB,8,9,"div",22),r(19,"app-cms-location-selector",23),_(20,"translate"),E("optionChange",function(p){return u(s),f(t.onActionSelectorLocation(p))}),a(),c(21),_(22,"translate"),r(23,"app-cms-location-autocomplete",23),_(24,"translate"),E("optionChange",function(p){return u(s),f(t.onActionSelectorLocationWorkArea(p))}),a(),r(25,"div",24)(26,"label",25),c(27),a(),r(28,"input",26,2),w("ngModelChange",function(p){return u(s),T(t.dataModel.phoneNumber,p)||(t.dataModel.phoneNumber=p),f(p)}),a(),r(30,"em"),c(31),a()(),r(32,"div",24)(33,"label",27),c(34),a(),r(35,"input",28,3),w("ngModelChange",function(p){return u(s),T(t.dataModel.mobileNumber,p)||(t.dataModel.mobileNumber=p),f(p)}),a(),r(37,"em"),c(38),a()(),r(39,"div",24)(40,"label",29),c(41),a(),r(42,"textarea",30,4),w("ngModelChange",function(p){return u(s),T(t.dataModel.address,p)||(t.dataModel.address=p),f(p)}),a(),r(44,"em"),c(45),a(),S(46,pB,1,0,"i",31)(47,mB,1,0,"i",32)(48,uB,5,3,"mat-error",33),a(),C(49,"hr",34),r(50,"label"),c(51),a(),r(52,"angular-editor",35),_(53,"translate"),w("ngModelChange",function(p){return u(s),T(t.dataModel.body,p)||(t.dataModel.body=p),f(p)}),a(),S(54,_B,8,8,"div",36),a(),r(55,"mat-step",37),_(56,"translate"),r(57,"p"),c(58),_(59,"translate"),a(),S(60,gB,8,9,"div",22),r(61,"mat-form-field",38)(62,"mat-label"),c(63),_(64,"translate"),a(),r(65,"mat-chip-grid",39,5),S(67,hB,5,1,"mat-chip",40),r(68,"input",41,6),_(70,"translate"),E("matChipInputTokenEnd",function(p){return u(s),f(t.addTag(p))}),a()()(),S(71,yB,7,7,"div",36),a(),r(72,"mat-step",42),_(73,"translate"),r(74,"p"),c(75),_(76,"translate"),a(),r(77,"div",43)(78,"a",44),_(79,"cmsthumbnail"),S(80,CB,2,4,"img",45),a()(),r(81,"div",24)(82,"label",46),E("click",function(){return u(s),f(t.fileManagerOpenForm=!0)}),c(83),_(84,"translate"),a(),r(85,"input",47,7),_(87,"translate"),w("ngModelChange",function(p){return u(s),T(t.dataModel.linkMainImageId,p)||(t.dataModel.linkMainImageId=p),f(p)}),E("click",function(){return u(s),f(t.fileManagerOpenForm=!0)}),a(),r(88,"cms-file-manager",48),E("itemSelected",function(p){return u(s),f(t.onActionFileSelectedLinkMainImageId(p))}),w("openFormChange",function(p){return u(s),T(t.fileManagerOpenForm,p)||(t.fileManagerOpenForm=p),f(p)}),a()(),S(89,SB,3,3,"p",33),r(90,"app-cms-files-selector",49),w("dataFileModelChange",function(p){return u(s),T(t.dataFileModelImgaes,p)||(t.dataFileModelImgaes=p),f(p)}),a(),C(91,"br"),r(92,"div")(93,"p"),c(94),_(95,"translate"),a(),r(96,"app-cms-files-selector",50),w("dataFileModelChange",function(p){return u(s),T(t.dataFileModelFiles,p)||(t.dataFileModelFiles=p),f(p)}),a()(),r(97,"div",43),S(98,vB,4,4,"audio",51),a(),r(99,"div",24)(100,"input",52,8),_(102,"translate"),w("ngModelChange",function(p){return u(s),T(t.dataModel.linkFilePodcastId,p)||(t.dataModel.linkFilePodcastId=p),f(p)}),E("click",function(){return u(s),f(t.fileManagerOpenFormPodcast=!0)}),a(),r(103,"cms-file-manager",48),E("itemSelected",function(p){return u(s),f(t.onActionFileSelectedLinkFilePodcastId(p))}),w("openFormChange",function(p){return u(s),T(t.fileManagerOpenFormPodcast,p)||(t.fileManagerOpenFormPodcast=p),f(p)}),a()(),r(104,"div",43),S(105,EB,3,2,"video",51),a(),r(106,"div",24)(107,"input",53,9),_(109,"translate"),w("ngModelChange",function(p){return u(s),T(t.dataModel.linkFileMovieId,p)||(t.dataModel.linkFileMovieId=p),f(p)}),E("click",function(){return u(s),f(t.fileManagerOpenFormMovie=!0)}),a(),r(110,"cms-file-manager",48),E("itemSelected",function(p){return u(s),f(t.onActionFileSelectedLinkFileMovieId(p))}),w("openFormChange",function(p){return u(s),T(t.fileManagerOpenFormMovie,p)||(t.fileManagerOpenFormMovie=p),f(p)}),a()(),r(111,"h3"),c(112),_(113,"translate"),a(),r(114,"app-cms-360-image-list",54),w("dataModelChange",function(p){return u(s),T(t.dataModel.file360Views,p)||(t.dataModel.file360Views=p),f(p)}),a(),C(115,"br"),r(116,"h3"),c(117),_(118,"translate"),a(),r(119,"app-cms-360-tour-list",55),w("dataModelChange",function(p){return u(s),T(t.dataModel.file360Tour,p)||(t.dataModel.file360Tour=p),f(p)}),a(),S(120,IB,7,7,"div",36),a(),r(121,"mat-step",56),_(122,"translate"),r(123,"p"),c(124),_(125,"translate"),a(),r(126,"app-cms-map",57),E("map$",function(p){return u(s),f(t.receiveMap(p))})("zoom$",function(p){return u(s),f(t.receiveZoom(p))}),a(),S(127,bB,8,7,"div",36),a(),S(128,TB,2,0,"ng-template",58)(129,wB,2,0,"ng-template",59)(130,xB,2,0,"ng-template",60)(131,AB,2,0,"ng-template",61),a()()()()}if(i&2){let s=k(29),h=k(36),p=k(43),D=k(66);o(),d("optionsInfoAreaId",t.constructorInfoAreaId),o(3),y(" ",t.formInfo.formTitle," "),o(2),y(" ",g(7,114,"TITLE.Be_Careful_When_Entering_Information")," "),o(6),d("label",x(g(13,116,"TITLE.REQUIRED_INFORMATION"))),o(2),d("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),o(),d("ngIf",t.fieldsInfo.mainAdminRecordStatus==null?null:t.fieldsInfo.mainAdminRecordStatus.accessWatchField),o(),d("ngIf",t.fieldsInfo.title==null?null:t.fieldsInfo.title.accessWatchField),o(),d("ngIf",t.fieldsInfo.description==null?null:t.fieldsInfo.description.accessWatchField),o(),d("ngIf",t.fieldsInfo.descriptionHidden==null?null:t.fieldsInfo.descriptionHidden.accessWatchField),o(),d("optionDisabled",!(t.fieldsInfo.linkLocationId!=null&&t.fieldsInfo.linkLocationId.accessEditField))("optionSelectForce",t.dataModel.linkLocationId)("optionPlaceholder",g(20,118,"TITLE.Region")),o(2),y(" ",g(22,120,"TITLE.Geographical_Areas")," : "),o(2),d("optionDisabled",!(t.fieldsInfo.linkLocationIds!=null&&t.fieldsInfo.linkLocationIds.accessEditField))("optionSelectForce",t.dataModel.linkLocationIds)("optionPlaceholder",g(24,122,"TITLE.Region")),o(4),M(t.fieldsInfo.phoneNumber==null?null:t.fieldsInfo.phoneNumber.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.phoneNumber==null?null:t.fieldsInfo.phoneNumber.fieldTitle)),b("ngModel",t.dataModel.phoneNumber),d("disabled",!(t.fieldsInfo.phoneNumber!=null&&t.fieldsInfo.phoneNumber.accessEditField)),o(3),y("",s.value.length," / 64"),o(3),M(t.fieldsInfo.mobileNumber==null?null:t.fieldsInfo.mobileNumber.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.mobileNumber==null?null:t.fieldsInfo.mobileNumber.fieldTitle)),b("ngModel",t.dataModel.mobileNumber),d("disabled",!(t.fieldsInfo.mobileNumber!=null&&t.fieldsInfo.mobileNumber.accessEditField)),o(3),y("",h.value.length," / 64"),o(3),M(t.fieldsInfo.address==null?null:t.fieldsInfo.address.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.address==null?null:t.fieldsInfo.address.fieldTitle)),b("ngModel",t.dataModel.address),d("disabled",!(t.fieldsInfo.address!=null&&t.fieldsInfo.address.accessEditField)),o(3),y("",p.value.length," / 500"),o(),d("ngIf",!p.value),o(),d("ngIf",p.value),o(),d("ngIf",p.errors==null?null:p.errors.required),o(3),y(" ",t.fieldsInfo.body==null?null:t.fieldsInfo.body.fieldTitle," "),o(),d("placeholder",g(53,124,"TITLE.Enter_Text"))("config",t.publicHelper.editorConfig),b("ngModel",t.dataModel.body),o(2),d("ngIf",!t.publicHelper.processService.process.inRunAll),o(),d("label",x(g(56,126,"TITLE.Search_Engines"))),o(3),y(" ",g(59,128,"TITLE.This_section_helps_search_engines_better_index_content")," "),o(2),d("ngIf",t.fieldsInfo.source==null?null:t.fieldsInfo.source.accessWatchField),o(3),M(g(64,130,"TITLE.Choose_keywords_relative_to_the_content")),o(4),d("ngForOf",t.keywordDataModel),o(),d("placeholder",g(70,132,"TITLE.key_word"))("matChipInputAddOnBlur",t.addOnBlurTag)("matChipInputFor",D)("matChipInputSeparatorKeyCodes",t.separatorKeysCodes),o(3),d("ngIf",t.formInfo.formSubmitAllow),o(),d("label",x(g(73,134,"TITLE.ATTACH_FILES"))),o(3),M(g(76,136,"TITLE.CONTENT_ATTACH_FILES")),o(3),d("href",x(g(79,138,t.dataModel.linkMainImageIdSrc)),j),o(2),d("ngIf",(t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0),o(3),M(g(84,140,"TITLE.Original_Photo")),o(2),d("placeholder",x(g(87,142,"TITLE.Original_File_ID"))),b("ngModel",t.dataModel.linkMainImageId),o(3),d("language",t.appLanguage)("isPopup",!0),b("openForm",t.fileManagerOpenForm),d("tree",t.fileManagerTree)("openDirectUploadView",!0)("openFilemanagerButtonLabelKey","select")("selectFileType",t.selectFileTypeMainImage)("openFilemanagerButtonView",!1),o(),d("ngIf",t.dataFileModelImgaes&&t.dataFileModelImgaes.size>0),o(),b("dataFileModel",t.dataFileModelImgaes),d("openDirectUploadView",!0)("optionFileType",t.selectFileTypeMainImage),o(4),M(g(95,144,"TITLE.List_of_attached_files")),o(2),b("dataFileModel",t.dataFileModelFiles),d("openDirectUploadView",!0),o(2),d("ngIf",(t.dataModel==null||t.dataModel.linkFilePodcastIdSrc==null?null:t.dataModel.linkFilePodcastIdSrc.length)>0),o(2),d("placeholder",x(g(102,146,"TITLE.Audio_File_ID"))),b("ngModel",t.dataModel.linkFilePodcastId),o(3),d("language",t.appLanguage)("isPopup",!0),b("openForm",t.fileManagerOpenFormPodcast),d("tree",t.fileManagerTree)("openDirectUploadView",!0)("openFilemanagerButtonLabelKey","select")("selectFileType",t.selectFileTypePodcast)("openFilemanagerButtonView",!1),o(2),d("ngIf",(t.dataModel==null||t.dataModel.linkFileMovieIdSrc==null?null:t.dataModel.linkFileMovieIdSrc.length)>0),o(2),d("placeholder",x(g(109,148,"TITLE.Video_File_ID"))),b("ngModel",t.dataModel.linkFileMovieId),o(3),d("language",t.appLanguage)("isPopup",!0),b("openForm",t.fileManagerOpenFormMovie),d("tree",t.fileManagerTree)("openDirectUploadView",!0)("openFilemanagerButtonLabelKey","select")("selectFileType",t.selectFileTypeMovie)("openFilemanagerButtonView",!1),o(2),M(g(113,150,"TITLE.image_360")),o(2),b("dataModel",t.dataModel.file360Views),o(3),M(g(118,152,"TITLE.virtual_tour")),o(2),b("dataModel",t.dataModel.file360Tour),d("dataImageModel",t.dataModel.file360Views),o(),d("ngIf",t.formInfo.formSubmitAllow),o(),d("label",ve("",g(122,154,"TITLE.Location")," ")),o(3),y(" ",g(125,156,"TITLE.Click_on_the_map_to_specify_the_location")," "),o(2),d("optonCenter",t.mapOptonCenter),o(),d("ngIf",!t.publicHelper.processService.process.inRunAll)}},dependencies:[Ne,N,ke,Y,q,Te,de,De,Ae,ce,Pe,di,bi,Ti,wi,Mi,mi,pi,we,Ee,Q,Ji,Xi,hn,yn,Zi,Vi,si,Qt,Nn,Hn,Ci,U,mn,en,Bo,ut,O,Ie],styles:["@media (max-width: 1399px){.wizard.wizard-4[_ngcontent-%COMP%]   .wizard-nav[_ngcontent-%COMP%]   .wizard-steps[_ngcontent-%COMP%]   .wizard-step[_ngcontent-%COMP%]{flex:0 0 calc(25% - .25rem)}}form[_ngcontent-%COMP%]{text-align:right}.wizard[_ngcontent-%COMP%]{margin-top:20%}.wrapper[_ngcontent-%COMP%]{display:flex;padding-top:15px}.lbl-status[_ngcontent-%COMP%]{width:100px;display:flex;align-items:flex-end;justify-content:center;margin-top:5px}.status-select[_ngcontent-%COMP%]{width:970px}textarea[_ngcontent-%COMP%]{resize:none}.calender-select[_ngcontent-%COMP%]{width:252px}.next-modal[_ngcontent-%COMP%]{width:100px;margin-right:15px}.pb-4[_ngcontent-%COMP%], .py-4[_ngcontent-%COMP%]{padding-bottom:7px!important;padding-top:7px!important}tag-input[_ngcontent-%COMP%]{width:1000px}#map[_ngcontent-%COMP%]{width:100%;height:600px}.lbl-content[_ngcontent-%COMP%]{width:100px;display:flex;align-items:flex-end;justify-content:center;margin-top:25px}"]});var cp=Bs;var PB=["vform"];function kB(n,l){if(n&1){let e=I();A(0),r(1,"div",8)(2,"label",9),c(3),a(),r(4,"input",10,0),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModelResultContent.item.title,t)||(s.dataModelResultContent.item.title=t),f(t)}),a()(),r(6,"div",8)(7,"label",11),c(8),a(),r(9,"textarea",12,1),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModelResultContent.item.description,t)||(s.dataModelResultContent.item.description=t),f(t)}),c(11," "),a()(),P()}if(n&2){let e=m();o(3),M(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),o(),d("placeholder",x(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle)),b("ngModel",e.dataModelResultContent.item.title),o(4),M(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),o(),d("placeholder",x(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle)),b("ngModel",e.dataModelResultContent.item.description)}}function DB(n,l){if(n&1){let e=I();r(0,"div",13)(1,"button",14),E("click",function(){u(e);let t=m();return f(t.onFormDelete())}),C(2,"i",15),c(3),_(4,"translate"),a(),r(5,"button",16),E("click",function(){u(e);let t=m();return f(t.onFormCancel())}),C(6,"i",17),c(7),_(8,"translate"),a()()}if(n&2){let e=m();o(),d("disabled",!e.formInfo.buttonSubmittedEnabled),o(2),y(" ",g(4,3,"ACTION.DELETE")," "),o(4),y(" ",g(8,5,"ACTION.CANCEL")," ")}}var Ns=class Ns{constructor(l,e,i,t,s,h,p){this.data=l;this.dialogRef=e;this.publicHelper=i;this.contentService=t;this.cdr=s;this.cmsToastrService=h;this.translate=p;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.dataModelResultContent=new G;this.formInfo=new me;this.publicHelper.processService.cdr=this.cdr,l&&(this.requestId=l.id)}ngOnInit(){if(this.requestId.length<=0){this.cmsToastrService.typeErrorDeleteRowIsNull(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOne()}DataGetOne(){if(this.requestId.length===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.translate.get("TITLE.Loading_Information").subscribe(e=>{this.formInfo.formAlert=e});let l=this.constructor.name+"fieldInfoConvertor";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(l,e,this.constructorInfoAreaId)}),this.contentService.setAccessLoad(),this.contentService.setAccessDataType(Be.Editor),this.contentService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModelResultContent=e,e.isSuccess?this.formInfo.formAlert="":(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError=e.errorMessage,this.formInfo.formErrorStatus=!0,this.cmsToastrService.typeErrorGetOne()),this.publicHelper.processService.processStop(l)},error:e=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formErrorStatus=!0,this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(l,!1)}})}onFormDelete(){if(this.requestId.length===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.formInfo.formSubmitAllow=!1,this.formInfo.buttonSubmittedEnabled=!1;let l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(l,e,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.requestId).subscribe({next:e=>{this.formInfo.formSubmitAllow=!e.isSuccess,e.isSuccess?(this.translate.get("MESSAGE.Deletion_Was_Successful").subscribe(i=>{this.formInfo.formAlert=i}),this.cmsToastrService.typeSuccessRemove(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError=e.errorMessage,this.cmsToastrService.typeErrorRemove()),this.formInfo.buttonSubmittedEnabled=!0,this.publicHelper.processService.processStop(l)},error:e=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(e),this.formInfo.buttonSubmittedEnabled=!0,this.publicHelper.processService.processStop(l)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Ns.\u0275fac=function(e){return new(e||Ns)(v(be),v(Me),v(F),v(fn),v(B),v(V),v(L))},Ns.\u0275cmp=R({type:Ns,selectors:[["app-estate-property-company-delete"]],viewQuery:function(e,i){if(e&1&&ee(PB,5),e&2){let t;te(t=ie())&&(i.formGroup=t.first)}},standalone:!1,decls:10,vars:7,consts:[["Writer",""],["Content",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[4,"ngIf"],["class","form-actions",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModelResultContent.item.title",1,"color-highlight"],["matInput","","name","dataModelResultContent.item.title","type","text","required","","readonly","","id","dataModelResultContent.item.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModelResultContent.item.description",1,"color-highlight"],["matInput","","name","dataModelResultContent.item.description","type","text","minlength","1","maxlength","100","readonly","","required","","rows","5","id","dataModelResultContent.item.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click","disabled"],[1,"fa","fa-check-square-o"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,i){e&1&&(r(0,"div",2),C(1,"app-progress-spinner",3),r(2,"div",4)(3,"p",5),c(4),a(),r(5,"p"),c(6),_(7,"translate"),a(),S(8,kB,12,8,"ng-container",6)(9,DB,9,7,"div",7),a()()),e&2&&(o(),d("optionsInfoAreaId",i.constructorInfoAreaId),o(3),y(" ",i.formInfo.formTitle," "),o(2),y(" ",g(7,5,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),d("ngIf",i.dataModelResultContent==null?null:i.dataModelResultContent.item),o(),d("ngIf",i.formInfo.formSubmitAllow))},dependencies:[N,Y,q,de,De,Ae,ce,Q,U,O],encapsulation:2});var pp=Ns;var RB=()=>["expandedTitle"],LB=()=>["expandedDetail"],VB=()=>[5,10,20,100],U0=n=>({display:n});function OB(n,l){if(n&1){let e=I();r(0,"div",20)(1,"a",50),E("click",function(t){u(e);let s=m();return f(s.onActionButtonNewRow(t))}),C(2,"i",51)(3,"br"),a(),r(4,"p",22),c(5),_(6,"translate"),a()()}n&2&&(o(5),M(g(6,1,"ACTION.ADD")))}function FB(n,l){if(n&1){let e=I();r(0,"div",20)(1,"a",52),E("click",function(){u(e);let t=m();return f(t.onActionButtonWithHierarchy())}),C(2,"i",53)(3,"br"),a(),r(4,"p",22),c(5),_(6,"translate"),a()()}n&2&&(o(5),M(g(6,1,"ACTION.BATCHVIEW")))}function BB(n,l){if(n&1){let e=I();r(0,"div",20)(1,"a",54),E("click",function(t){u(e);let s=m();return f(s.onActionButtonEditRow(s.tableRowSelected,t))}),C(2,"i",55)(3,"br"),a(),r(4,"p",22),c(5),_(6,"translate"),a()()}n&2&&(o(5),M(g(6,1,"ACTION.EDIT")))}function NB(n,l){if(n&1){let e=I();r(0,"div",20)(1,"a",56),E("click",function(){u(e);let t=m();return f(t.onActionButtonDeleteRow(t.tableRowSelected))}),C(2,"i",57)(3,"br"),a(),r(4,"p",22),c(5),_(6,"translate"),a()()}n&2&&(o(5),M(g(6,1,"ACTION.DELETE")))}function HB(n,l){n&1&&(r(0,"mat-header-cell"),c(1),_(2,"translate"),a()),n&2&&(o(),y(" ",g(2,1,"TITLE.MENU")," "))}function WB(n,l){if(n&1){let e=I();r(0,"mat-cell")(1,"button",58),E("click",function(){let t=u(e).$implicit,s=m();return f(s.onActionTableRowSelectActionMenu(t))}),C(2,"i",59),a()()}}function GB(n,l){n&1&&(r(0,"mat-header-cell",60),c(1),_(2,"translate"),a()),n&2&&(o(),y(" ",g(2,1,"TITLE.PICTURE")," "))}function UB(n,l){if(n&1&&(C(0,"img",62),_(1,"cmsthumbnail")),n&2){let e=m().$implicit;d("src",x(g(1,2,e.linkMainImageIdSrc)),j)}}function jB(n,l){if(n&1&&(r(0,"mat-cell"),S(1,UB,2,4,"img",61),a()),n&2){let e=l.$implicit;o(),d("ngIf",(e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0)}}function qB(n,l){if(n&1&&(r(0,"mat-header-cell",60),c(1),a()),n&2){let e=m();o(),y(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function QB(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),y(" ",e.id," ")}}function zB(n,l){if(n&1&&(r(0,"mat-header-cell",60),c(1),a()),n&2){let e=m();o(),y(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function YB(n,l){if(n&1&&(r(0,"mat-cell"),c(1),_(2,"cmssiteinfo"),_(3,"async"),a()),n&2){let e=l.$implicit;o(),y(" ",g(3,3,g(2,1,e.linkSiteId))," ")}}function KB(n,l){if(n&1&&(r(0,"mat-header-cell",60),c(1),a()),n&2){let e=m();o(),y(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function ZB(n,l){if(n&1&&C(0,"select",65),n&2){let e=m().$implicit,i=m();d("contentService",i.contentService)("row",e)("ngStyle",ze(3,U0,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function JB(n,l){if(n&1&&(r(0,"mat-cell"),C(1,"i",63),_(2,"statusIconClass"),S(3,ZB,1,5,"select",64),a()),n&2){let e=l.$implicit,i=m();o(),d("ngClass",g(2,2,e.recordStatus)),o(2),d("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessEditRow)}}function XB(n,l){if(n&1&&(r(0,"mat-header-cell",60),c(1),a()),n&2){let e=m();o(),y(" ",e.fieldsInfo.mainAdminRecordStatus==null?null:e.fieldsInfo.mainAdminRecordStatus.fieldTitle," ")}}function $B(n,l){if(n&1&&(r(0,"mat-cell"),C(1,"i",63),_(2,"statusIconClass"),a()),n&2){let e=l.$implicit;o(),d("ngClass",g(2,1,e.mainAdminRecordStatus))}}function e8(n,l){if(n&1&&(r(0,"mat-header-cell",60),c(1),a()),n&2){let e=m();o(),y(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," ")}}function t8(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),y(" ",e.title," ")}}function i8(n,l){if(n&1&&(r(0,"mat-header-cell",60),c(1),a()),n&2){let e=m();o(),y(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function n8(n,l){if(n&1&&(r(0,"mat-cell"),c(1),_(2,"localeDate"),a()),n&2){let e=l.$implicit;o(),y(" ",g(2,1,e.createdDate)," ")}}function o8(n,l){n&1&&(r(0,"mat-header-cell"),c(1),_(2,"translate"),a()),n&2&&(o(),y(" ",g(2,1,"TITLE.OPTION")," "))}function r8(n,l){if(n&1&&(r(0,"mat-cell",66)(1,"button",67)(2,"mat-icon"),c(3,"more_vert"),a()(),C(4,"mat-menu",null,2),a()),n&2){let e=k(5);o(),d("matMenuTriggerFor",e)}}function a8(n,l){n&1&&(r(0,"mat-header-cell",68),c(1),_(2,"translate"),a()),n&2&&(o(),y(" ",g(2,1,"TITLE.LINKTO")," "))}function l8(n,l){if(n&1){let e=I();r(0,"mat-cell")(1,"button",69),E("click",function(){let t=u(e).$implicit,s=m();return f(s.onActionButtonLinkTo(t))}),r(2,"mat-icon",70),c(3,"\u2197"),a()()()}}function s8(n,l){if(n&1&&(r(0,"mat-cell"),c(1),C(2,"br"),c(3),_(4,"translate"),_(5,"localeDate"),a()),n&2){let e=l.$implicit;o(),y(" ",e.title," "),o(2),$(" ",g(4,3,"TITLE.CreationDate")," : ",g(5,5,e.createdDate)," ")}}function d8(n,l){if(n&1&&(C(0,"img",75),_(1,"cmsthumbnail")),n&2){let e=m().$implicit;d("src",x(g(1,2,e.linkMainImageIdSrc)),j)}}function c8(n,l){if(n&1&&(r(0,"tr"),C(1,"td"),r(2,"td"),c(3),_(4,"localeDate"),a()()),n&2){let e=m().$implicit,i=m();o(3),$(" ",i.fieldsInfo.updatedDate==null?null:i.fieldsInfo.updatedDate.fieldTitle," : ",g(4,2,e.updatedDate)," ")}}function p8(n,l){if(n&1){let e=I();r(0,"mat-cell")(1,"div")(2,"table")(3,"tr")(4,"th"),S(5,d8,2,4,"img",71),a(),r(6,"th")(7,"span",72),E("click",function(){u(e);let t=m();return f(t.onActionCopied())}),C(8,"i",73),a(),c(9),a()(),S(10,c8,5,4,"tr",74),r(11,"tr"),C(12,"td"),r(13,"td"),c(14),a()(),r(15,"tr"),C(16,"td"),r(17,"td"),c(18),a()(),r(19,"tr"),C(20,"td")(21,"td"),a()()()()}if(n&2){let e=l.$implicit;o(5),d("ngIf",(e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0),o(2),d("cdkCopyToClipboard",e.id),o(2),y(" ",e.id," "),o(),d("ngIf",e.updatedDate),o(4),y(" ",e.title," "),o(4),y(" ",e.description," ")}}function m8(n,l){n&1&&C(0,"mat-header-row")}function u8(n,l){if(n&1){let e=I();r(0,"mat-row",76),E("click",function(){let t=u(e).$implicit,s=m();return f(s.onActionTableRowSelect(t))})("mouseenter",function(){let t=u(e).$implicit,s=m();return f(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=u(e).$implicit,s=m();return f(s.onActionTableRowMouseLeave(t))}),a()}if(n&2){let e=l.$implicit,i=l.dataIndex,t=m();Se("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",e.id===(t.tableRowSelected==null?null:t.tableRowSelected.id))}}function f8(n,l){if(n&1){let e=I();r(0,"mat-row",76),E("click",function(){let t=u(e).$implicit,s=m();return f(s.onActionTableRowSelect(t))})("mouseenter",function(){let t=u(e).$implicit,s=m();return f(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=u(e).$implicit,s=m();return f(s.onActionTableRowMouseLeave(t))}),a()}if(n&2){let e=l.$implicit,i=l.dataIndex,t=m();Se("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",e.id===(t.tableRowSelected==null?null:t.tableRowSelected.id))}}function _8(n,l){if(n&1){let e=I();r(0,"mat-row",77),E("click",function(){let t=u(e).$implicit,s=m();return f(s.onActionTableRowSelect(t))})("mouseenter",function(){let t=u(e).$implicit,s=m();return f(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=u(e).$implicit,s=m();return f(s.onActionTableRowMouseLeave(t))}),a()}if(n&2){let e=l.$implicit,i=l.dataIndex,t=m();Se("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",e.id===(t.tableRowSelected==null?null:t.tableRowSelected.id)),d("ngStyle",ze(7,U0,e.expanded===!0?"":"none"))}}var Hs=class Hs extends bt{constructor(e,i,t,s,h,p,D,z,he,je){super(e,new Rn,he,s,p);this.contentService=e;this.cmsToastrService=i;this.router=t;this.tokenHelper=s;this.cdr=h;this.translate=p;this.cmsStoreService=D;this.pageInfo=z;this.publicHelper=he;this.dialog=je;this.constructorInfoAreaId=this.constructor.name;this.filteModelContent=new pe;this.optionsSearch=new ar;this.optionsStatist=new lr;this.tokenInfo=new St;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["LinkMainImageIdSrc","Id","RecordStatus","mainAdminRecordStatus","LinkTo","action_menu"];this.tabledisplayedColumnsMobileSource=["LinkMainImageIdSrc","Id","RecordStatus","mainAdminRecordStatus","LinkTo","action_menu"];this.fieldsInfo=new Map;this.GetAllWithHierarchyCategoryId=!1;this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:Ge=>this.onSubmitOptionsSearch(Ge)},this.filteModelContent.sortColumn="Id",this.filteModelContent.sortType=X.Descending}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.cmsApiStoreSubscribe=this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>re(this,null,function*(){this.tokenInfo=e,this.DataGetAll()}))}ngOnDestroy(){this.cmsApiStoreSubscribe&&this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Rn);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));if(this.categoryModelSelected&&this.categoryModelSelected.id.length>0){let t=new H;t.propertyName="linkEstateCompanyCategoryId",t.value=this.categoryModelSelected.id,i.filters.push(t)}this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),t.isSuccess?(this.dataModelResult=t,this.tableSource.data=t.listItems,setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=X.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=X.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=X.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(e){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}e?.ctrlKey?(this.link="/#/estate/property-company/add/",window.open(this.link,"_blank")):this.router.navigate(["/estate/property-company/add"])}onActionButtonEditRow(e=this.tableRowSelected,i){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}i?.ctrlKey?(this.link="/#/estate/property-company/edit/"+this.tableRowSelected.id,window.open(this.link,"_blank")):this.router.navigate(["/estate/property-company/edit",this.tableRowSelected.id])}onActionButtonProperty(e=this.tableRowSelected,i){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}i?.ctrlKey?(this.link="/#/estate/property/LinkCompanyId/"+this.tableRowSelected.id,window.open(this.link,"_blank")):this.router.navigate(["/estate/property/LinkCompanyId",this.tableRowSelected.id])}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(s=>{this.cmsToastrService.typeErrorSelected(s)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(pp,{panelClass:i,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate&&this.DataGetAll()})}onActionButtonStatist(){if(this.optionsStatist.data.show=!this.optionsStatist.data.show,!this.optionsStatist.data.show)return;let e=new Map;this.translate.get("MESSAGE.Active").subscribe(h=>{e.set(h,0)}),this.translate.get("MESSAGE.All").subscribe(h=>{e.set(h,0)});let i=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(h=>{this.publicHelper.processService.processStart(i,h,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:h=>{h.isSuccess?(this.translate.get("MESSAGE.All").subscribe(p=>{e.set(p,h.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(e)):this.cmsToastrService.typeErrorMessage(h.errorMessage),this.publicHelper.processService.processStop(i)},error:h=>{this.cmsToastrService.typeError(h),this.publicHelper.processService.processStop(i,!1)}});let t=JSON.parse(JSON.stringify(this.filteModelContent)),s=new H;s.propertyName="RecordStatus",s.value=qe.Available,t.filters.push(s),this.contentService.ServiceGetCount(t).subscribe({next:h=>{h.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(p=>{e.set(p,h.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(e)):this.cmsToastrService.typeErrorMessage(h.errorMessage),this.publicHelper.processService.processStop(i)},error:h=>{this.cmsToastrService.typeError(h),this.publicHelper.processService.processStop(i,!1)}})}onActionButtonWithHierarchy(){this.GetAllWithHierarchyCategoryId=!this.GetAllWithHierarchyCategoryId,this.DataGetAll()}onActionSelectorSelect(e){var i=this.filteModelContent.sortColumn,t=this.filteModelContent.sortType;this.filteModelContent=new pe,this.filteModelContent.sortColumn=i,this.filteModelContent.sortType=t,this.categoryModelSelected=e,this.DataGetAll()}onActionButtonReload(){this.DataGetAll()}onActionCopied(){this.cmsToastrService.typeSuccessCopedToClipboard()}onSubmitOptionsSearch(e){e&&e.length>0&&(this.filteModelContent.filters=[...this.filteModelContent.filters,...e]),this.DataGetAll()}onActionButtonLinkTo(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(e.recordStatus!=qe.Available){this.cmsToastrService.typeWarningRecordStatusNoAvailable();return}this.onActionTableRowSelect(e);let i=this.constructor.name+"ServiceGetOneById";this.translate.get("MESSAGE.get_state_information").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructorInfoAreaId)}),this.contentService.setAccessDataType(Be.Editor),this.contentService.ServiceGetOneById(e.id).subscribe({next:t=>{if(t.isSuccess){var s="";this.publicHelper.isMobile?s="dialog-fullscreen":s="dialog-min",this.dialog.open(pn,{height:"90%",enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,panelClass:s,data:{title:t.item.title,urlViewContentQRCodeBase64:t.item.urlViewContentQRCodeBase64,urlViewContent:t.item.urlViewContent}}).afterClosed().subscribe(p=>{p&&p.dialogChangedDate&&this.DataGetAll()})}else this.cmsToastrService.typeErrorMessage(t.errorMessage);this.publicHelper.processService.processStop(i)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(i,!1)}})}};Hs.\u0275fac=function(i){return new(i||Hs)(v(fn),v(V),v(Ze),v(K),v(B),v(L),v(Z),v(ht),v(F),v(xe))},Hs.\u0275cmp=R({type:Hs,selectors:[["app-estate-property-company-list"]],standalone:!1,features:[ne],decls:89,vars:40,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionActionRowDisplayMenuAct","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-maximize","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-minimize","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],[1,"col-4"],[1,"fa-solid","fa-apartment","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-share","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","","multiTemplateDataRows","",3,"matSortChange","dataSource"],["matColumnDef","action_menu"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkMainImageIdSrc"],["mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","Id"],["matColumnDef","LinkSiteId"],["matColumnDef","RecordStatus"],["matColumnDef","mainAdminRecordStatus"],["matColumnDef","Title"],["matColumnDef","CreatedDate"],["matColumnDef","Action"],["class","Action",4,"matCellDef"],["matColumnDef","LinkTo"],["mat-sort-header","","class","form-label",4,"matHeaderCellDef"],["matColumnDef","expandedTitle"],["matColumnDef","expandedDetail"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","ngStyle","click","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#FFFFFF"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-layer-group","font-18",2,"color","#FFFFFF"],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"click"],[1,"fa","fa-bars","font-18"],["mat-sort-header",""],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","40","width","40",3,"src",4,"ngIf"],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],["mat-sort-header","",1,"form-label"],["type","button","mat-icon-button","",1,"text-dark",3,"click"],[2,"color","#ff671f"],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","80","width","80",3,"src",4,"ngIf"],[1,"navi-icon","pointer",3,"click","cdkCopyToClipboard"],[1,"flaticon2-copy"],[4,"ngIf"],["aria-hidden","","height","80","width","80",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"click","mouseenter","mouseleave"],[3,"click","mouseenter","mouseleave","ngStyle"]],template:function(i,t){if(i&1){let s=I();r(0,"app-cms-html-list",3),w("optionActionGuideNoticeDisplayChange",function(p){return u(s),T(t.viewGuideNotice,p)||(t.viewGuideNotice=p),f(p)}),E("optionOnActionButtonMemoRow",function(){return u(s),f(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return u(s),f(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return u(s),f(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return u(s),f(t.onActionButtonPrintRow())}),Qe(1,4)(2,5)(3,6),A(4,7),r(5,"a",8),E("click",function(){return u(s),f(t.viewGuideNotice=!t.viewGuideNotice)}),C(6,"i",9),a(),r(7,"a",8),E("click",function(){return u(s),f(t.onActionButtonReload())}),C(8,"i",10),a(),r(9,"a",11),E("click",function(){return u(s),f(t.onActionGridExpandRows(!0))}),C(10,"i",12),a(),r(11,"a",11),E("click",function(){return u(s),f(t.onActionGridExpandRows(!1))}),C(12,"i",13),a(),P(),A(13,14),r(14,"a",15),E("click",function(){return u(s),f(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),C(15,"mat-slide-toggle",16),c(16),_(17,"translate"),a(),r(18,"a",15),E("click",function(){return u(s),f(t.onActionButtonStatist())}),C(19,"mat-slide-toggle",16),c(20),_(21,"translate"),a(),P(),A(22,17),S(23,OB,7,3,"div",18)(24,FB,7,3,"div",18),P(),A(25,19),S(26,BB,7,3,"div",18)(27,NB,7,3,"div",18),r(28,"div",20)(29,"a",15),E("click",function(p){return u(s),f(t.onActionButtonProperty(t.tableRowSelected,p))}),C(30,"i",21)(31,"br"),a(),r(32,"p",22),c(33),_(34,"translate"),a()(),r(35,"div",20)(36,"a",8),E("click",function(){return u(s),f(t.onActionButtonLinkTo(t.tableRowSelected))}),C(37,"i",23)(38,"br"),a(),r(39,"p",22),c(40),_(41,"translate"),a()(),P(),A(42,24),r(43,"app-cms-search-list",25),w("optionsChange",function(p){return u(s),T(t.optionsSearch,p)||(t.optionsSearch=p),f(p)}),a(),r(44,"app-cms-statist-list",25),w("optionsChange",function(p){return u(s),T(t.optionsStatist,p)||(t.optionsStatist=p),f(p)}),a(),P(),A(45,26),r(46,"mat-table",27,0),E("matSortChange",function(){u(s);let p=k(47);return f(t.onTableSortData(p))}),A(48,28),S(49,HB,3,3,"mat-header-cell",29)(50,WB,3,0,"mat-cell",30),P(),A(51,31),S(52,GB,3,3,"mat-header-cell",32)(53,jB,2,1,"mat-cell",30),P(),A(54,33),S(55,qB,2,1,"mat-header-cell",32)(56,QB,2,1,"mat-cell",30),P(),A(57,34),S(58,zB,2,1,"mat-header-cell",32)(59,YB,4,5,"mat-cell",30),P(),A(60,35),S(61,KB,2,1,"mat-header-cell",32)(62,JB,4,4,"mat-cell",30),P(),A(63,36),S(64,XB,2,1,"mat-header-cell",32)(65,$B,3,3,"mat-cell",30),P(),A(66,37),S(67,e8,2,1,"mat-header-cell",32)(68,t8,2,1,"mat-cell",30),P(),A(69,38),S(70,i8,2,1,"mat-header-cell",32)(71,n8,3,3,"mat-cell",30),P(),A(72,39),S(73,o8,3,3,"mat-header-cell",29)(74,r8,6,1,"mat-cell",40),P(),A(75,41),S(76,a8,3,3,"mat-header-cell",42)(77,l8,4,0,"mat-cell",30),P(),A(78,43),S(79,s8,6,7,"mat-cell",30),P(),A(80,44),S(81,p8,22,6,"mat-cell",30),P(),S(82,m8,1,0,"mat-header-row",45)(83,u8,1,6,"mat-row",46)(84,f8,1,6,"mat-row",46)(85,_8,1,9,"mat-row",47),a(),P(),A(86,48),r(87,"mat-paginator",49,1),E("page",function(p){return u(s),f(t.onTablePageingData(p))}),a(),P(),a()}i&2&&(d("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey","estate.propertycompany.list"),b("optionActionGuideNoticeDisplay",t.viewGuideNotice),d("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelectDoubleClick)("optionActionRowDisplayMenuAct",t.tableRowSelectActionMenuClick)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.title),o(15),d("checked",t.optionsSearch.data.show),o(),y("",g(17,29,"ACTION.SEARCH")," "),o(3),d("checked",t.optionsStatist.data.show),o(),y("",g(21,31,"ACTION.STATIST")," "),o(3),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessAddRow),o(),d("ngIf",(t.tableRowSelected==null?null:t.tableRowSelected.id)>0),o(2),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),o(),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),o(6),M(g(34,33,"ACTION.PROPERTY")),o(7),M(g(41,35,"TITLE.LINKTO")),o(3),b("options",t.optionsSearch),o(),b("options",t.optionsStatist),o(2),d("dataSource",t.tableSource),o(36),d("matHeaderRowDef",t.tabledisplayedColumns),o(),d("matRowDefColumns",le(37,RB)),o(),d("matRowDefColumns",t.tabledisplayedColumns),o(),d("matRowDefColumns",le(38,LB)),o(2),d("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",le(39,VB)))},dependencies:[se,N,tt,Je,Ee,Q,At,Pt,vt,gt,Et,It,it,ot,st,rt,nt,dt,at,lt,ct,pt,ci,Tt,wt,xt,Oi,He,O,tn,Ie,Fn,qt],encapsulation:2});var Nd=Hs;var g8=["vform"],h8=()=>["fa"];function y8(n,l){n&1&&C(0,"i",23)}function C8(n,l){n&1&&C(0,"i",24)}function S8(n,l){n&1&&(r(0,"mat-error"),c(1," Title is "),r(2,"strong"),c(3),_(4,"translate"),a()()),n&2&&(o(3),M(g(4,1,"MESSAGE.required")))}function v8(n,l){if(n&1){let e=I();r(0,"div",12)(1,"label",25),c(2),a(),r(3,"input",26,3),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.iconFont,t)||(s.dataModel.iconFont=t),f(t)}),E("iconPickerSelect",function(t){u(e);let s=m();return f(s.onIconPickerSelect(t))}),a(),r(5,"span",27),C(6,"i",28),a()()}if(n&2){let e=m();o(2),M(e.fieldsInfo.iconFont==null?null:e.fieldsInfo.iconFont.fieldTitle),o(),d("placeholder",x(e.fieldsInfo.iconFont==null?null:e.fieldsInfo.iconFont.fieldTitle)),b("ngModel",e.dataModel.iconFont),d("iconPicker",e.dataModel.iconFont)("ipIconPack",le(9,h8))("ipPosition","top")("disabled",!(e.fieldsInfo.iconFont!=null&&e.fieldsInfo.iconFont.accessAddField)),o(3),d("ngClass",e.dataModel.iconFont)}}function E8(n,l){if(n&1){let e=I();r(0,"div",12)(1,"label",29),c(2),a(),r(3,"div",30)(4,"div",31)(5,"input",32,4),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.iconColor,t)||(s.dataModel.iconColor=t),f(t)}),a()(),r(7,"div",33),C(8,"ngx-mat-color-toggle",34)(9,"ngx-mat-color-picker",35,5),a()()()}if(n&2){let e=k(10),i=m();o(2),M(i.fieldsInfo.iconColor==null?null:i.fieldsInfo.iconColor.fieldTitle),o(3),ye("background",i.dataModel.iconColor),d("placeholder",x(i.fieldsInfo.iconColor==null?null:i.fieldsInfo.iconColor.fieldTitle)),b("ngModel",i.dataModel.iconColor),d("ngxMatColorPicker",e)("disabled",!(i.fieldsInfo.iconColor!=null&&i.fieldsInfo.iconColor.accessAddField)),o(3),d("for",e),o(),d("touchUi",!0)("color","primary")}}function I8(n,l){if(n&1){let e=I();r(0,"div",12)(1,"label",36),c(2),a(),r(3,"input",37,6),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.showInFormOrder,t)||(s.dataModel.showInFormOrder=t),f(t)}),a()()}if(n&2){let e=m();o(2),M(e.fieldsInfo.showInFormOrder==null?null:e.fieldsInfo.showInFormOrder.fieldTitle),o(),d("placeholder",x(e.fieldsInfo.showInFormOrder==null?null:e.fieldsInfo.showInFormOrder.fieldTitle)),b("ngModel",e.dataModel.showInFormOrder)}}function M8(n,l){n&1&&(r(0,"mat-error"),c(1," Description is "),r(2,"strong"),c(3),_(4,"translate"),a()()),n&2&&(o(3),M(g(4,1,"MESSAGE.required")))}function b8(n,l){if(n&1){let e=I();r(0,"div",38)(1,"button",39),E("click",function(){u(e);let t=m();return f(t.onFormCancel())}),C(2,"i",40),c(3),_(4,"translate"),a(),r(5,"button",41),C(6,"i",42),c(7),_(8,"translate"),a()()}if(n&2){m();let e=k(9);o(3),y(" ",g(4,3,"ACTION.CANCEL")," "),o(2),d("disabled",!e.form.valid),o(2),y(" ",g(8,5,"ACTION.SAVE")," ")}}var Ws=class Ws extends Dt{constructor(e,i,t,s,h,p,D,z){super(s,new Ln,p,z);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.estatePropertyDetailGroupService=s;this.cmsToastrService=h;this.publicHelper=p;this.cdr=D;this.translate=z;this.requestLinkPropertyTypeLanduseId="";this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new G;this.dataModel=new Ln;this.formInfo=new me;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),e&&(this.requestLinkPropertyTypeLanduseId=e.linkPropertyTypeLanduseId),this.requestLinkPropertyTypeLanduseId.length>0&&(this.dataModel.linkPropertyTypeLanduseId=this.requestLinkPropertyTypeLanduseId)}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess()}DataAddContent(){this.dataModel.iconColor=this.dataModel.iconColor?.toString(),this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estatePropertyDetailGroupService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.formAlert=t}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e),this.formInfo.formSubmitAllow=!0},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorSelect(e){if(!e||!e.id||e.id.length<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkPropertyTypeLanduseId=e.id}onIconPickerSelect(e){this.dataModel.iconFont=e}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Ws.\u0275fac=function(i){return new(i||Ws)(v(be),v(Me),v(J),v(hi),v(V),v(F),v(B),v(L))},Ws.\u0275cmp=R({type:Ws,selectors:[["app-estate-property-detail-group-add"]],viewQuery:function(i,t){if(i&1&&ee(g8,5),i&2){let s;te(s=ie())&&(t.formGroup=s.first)}},standalone:!1,features:[ne],decls:35,vars:27,consts:[["vform","ngForm"],["Title",""],["Description",""],["IconFont",""],["iconColor",""],["iconColorPicker",""],["ShowInFormOrder",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["type","text","name","dataModel.title","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","fa fa-times  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],[4,"ngIf"],[3,"optionChange","optionSelectForce","optionPlaceholder"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","form-actions",4,"ngIf"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.iconFont",1,"color-highlight"],["matInput","","type","text","name","dataModel.iconFont","type","text","id","dataModel.iconFont",1,"form-control","validate-name",3,"ngModelChange","iconPickerSelect","ngModel","iconPicker","ipIconPack","ipPosition","placeholder","disabled"],[1,"input-group-addon"],[3,"ngClass"],["for","dataModel.iconColor",1,"color-highlight"],[1,"row","mb-0"],[1,"col-11","pe-0"],["matInput","","type","text","name","dataModel.iconColor","type","text","id","dataModel.iconColor",1,"form-control","validate-name",3,"ngModelChange","ngModel","ngxMatColorPicker","placeholder","disabled"],[1,"col-1","ps-0"],["matSuffix","",3,"for"],[3,"touchUi","color"],["for","dataModel.showInFormOrder",1,"color-highlight"],["type","number","name","dataModel.showInFormOrder","id","dataModel.showInFormOrder",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=I();r(0,"div",7),C(1,"app-progress-spinner",8),r(2,"div",9)(3,"p",10),c(4),a(),r(5,"p"),c(6),_(7,"translate"),a(),r(8,"form",11,0),E("ngSubmit",function(){return u(s),f(t.onFormSubmit())}),r(10,"div",12)(11,"label",13),c(12),a(),r(13,"input",14,1),w("ngModelChange",function(p){return u(s),T(t.dataModel.title,p)||(t.dataModel.title=p),f(p)}),a(),S(15,y8,1,0,"i",15)(16,C8,1,0,"i",16),r(17,"em"),c(18),a(),S(19,S8,5,3,"mat-error",17),a(),r(20,"app-estate-property-type-landuse-selector",18),_(21,"translate"),E("optionChange",function(p){return u(s),f(t.onActionSelectorSelect(p))}),a(),S(22,v8,7,10,"div",19)(23,E8,11,11,"div",19)(24,I8,5,4,"div",19),r(25,"div",12)(26,"label",20),c(27),a(),r(28,"textarea",21,2),w("ngModelChange",function(p){return u(s),T(t.dataModel.description,p)||(t.dataModel.description=p),f(p)}),c(30,"          "),a(),r(31,"em"),c(32),a(),S(33,M8,5,3,"mat-error",17),a(),S(34,b8,9,7,"div",22),a()()()}if(i&2){let s=k(14),h=k(29);o(),d("optionsInfoAreaId",t.constructorInfoAreaId),o(3),y(" ",t.formInfo.formTitle," "),o(2),y(" ",g(7,23,"TITLE.Be_Careful_When_Entering_Information")," "),o(6),M(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),b("ngModel",t.dataModel.title),o(2),d("ngIf",!s.value),o(),d("ngIf",s.value),o(2),y("",s.value.length," / 100"),o(),d("ngIf",s.errors==null?null:s.errors.required),o(),d("optionSelectForce",t.dataModel.linkPropertyTypeLanduseId)("optionPlaceholder",g(21,25,"TITLE.Category")),o(2),d("ngIf",t.fieldsInfo.iconFont==null?null:t.fieldsInfo.iconFont.accessWatchField),o(),d("ngIf",t.fieldsInfo.iconColor==null?null:t.fieldsInfo.iconColor.accessWatchField),o(),d("ngIf",t.fieldsInfo.showInFormOrder==null?null:t.fieldsInfo.showInFormOrder.accessWatchField),o(3),M(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),b("ngModel",t.dataModel.description),o(4),y("",h.value.length," / 500"),o(),d("ngIf",h.errors==null?null:h.errors.required),o(),d("ngIf",t.formInfo.formSubmitAllow)}},dependencies:[se,N,ke,Y,Ot,q,Te,de,De,Ae,ce,Pe,we,et,Q,U,ni,$t,Xt,Jt,_i,O],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});var Gs=Ws;var T8=["vform"],w8=()=>["fa"];function x8(n,l){n&1&&C(0,"i",23)}function A8(n,l){n&1&&C(0,"i",24)}function P8(n,l){n&1&&(r(0,"mat-error"),c(1," Title is "),r(2,"strong"),c(3),_(4,"translate"),a()()),n&2&&(o(3),M(g(4,1,"MESSAGE.required")))}function k8(n,l){if(n&1){let e=I();r(0,"div",12)(1,"label",25),c(2),a(),r(3,"input",26,3),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.iconFont,t)||(s.dataModel.iconFont=t),f(t)}),E("iconPickerSelect",function(t){u(e);let s=m();return f(s.onIconPickerSelect(t))}),a(),r(5,"span",27),C(6,"i",28),a()()}if(n&2){let e=m();o(2),M(e.fieldsInfo.iconFont==null?null:e.fieldsInfo.iconFont.fieldTitle),o(),d("placeholder",x(e.fieldsInfo.iconFont==null?null:e.fieldsInfo.iconFont.fieldTitle)),b("ngModel",e.dataModel.iconFont),d("iconPicker",e.dataModel.iconFont)("ipIconPack",le(9,w8))("ipPosition","top")("disabled",!(e.fieldsInfo.iconFont!=null&&e.fieldsInfo.iconFont.accessEditField)),o(3),d("ngClass",e.dataModel.iconFont)}}function D8(n,l){if(n&1){let e=I();r(0,"div",12)(1,"label",29),c(2),a(),r(3,"div",30)(4,"div",31)(5,"input",32,4),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.iconColor,t)||(s.dataModel.iconColor=t),f(t)}),a()(),r(7,"div",33),C(8,"ngx-mat-color-toggle",34)(9,"ngx-mat-color-picker",35,5),a()()()}if(n&2){let e=k(10),i=m();o(2),M(i.fieldsInfo.iconColor==null?null:i.fieldsInfo.iconColor.fieldTitle),o(3),ye("background",i.dataModel.iconColor),d("placeholder",x(i.fieldsInfo.iconColor==null?null:i.fieldsInfo.iconColor.fieldTitle)),b("ngModel",i.dataModel.iconColor),d("ngxMatColorPicker",e)("disabled",!(i.fieldsInfo.iconColor!=null&&i.fieldsInfo.iconColor.accessEditField)),o(3),d("for",e),o(),d("touchUi",!0)("color","primary")}}function R8(n,l){if(n&1){let e=I();r(0,"div",12)(1,"label",13),c(2),a(),r(3,"input",36,6),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.showInFormOrder,t)||(s.dataModel.showInFormOrder=t),f(t)}),a()()}if(n&2){let e=m();o(2),M(e.fieldsInfo.showInFormOrder==null?null:e.fieldsInfo.showInFormOrder.fieldTitle),o(),d("placeholder",x(e.fieldsInfo.showInFormOrder==null?null:e.fieldsInfo.showInFormOrder.fieldTitle)),b("ngModel",e.dataModel.showInFormOrder),d("disabled",!(e.fieldsInfo.showInFormOrder!=null&&e.fieldsInfo.showInFormOrder.accessEditField))}}function L8(n,l){n&1&&(r(0,"mat-error"),c(1," Description is "),r(2,"strong"),c(3),_(4,"translate"),a()()),n&2&&(o(3),M(g(4,1,"MESSAGE.required")))}function V8(n,l){if(n&1){let e=I();r(0,"div",37)(1,"button",38),E("click",function(){u(e);let t=m();return f(t.onFormCancel())}),C(2,"i",39),c(3),_(4,"translate"),a(),r(5,"button",40),C(6,"i",41),c(7),_(8,"translate"),a()()}if(n&2){m();let e=k(9);o(3),y(" ",g(4,3,"ACTION.CANCEL")," "),o(2),d("disabled",!e.form.valid),o(2),y(" ",g(8,5,"ACTION.SAVE")," ")}}var Us=class Us extends Bt{constructor(e,i,t,s,h,p,D,z){super(s,new Ln,p,z);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.estatePropertyDetailGroupService=s;this.cmsToastrService=h;this.publicHelper=p;this.cdr=D;this.translate=z;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new Ft;this.dataModel=new Ln;this.formInfo=new me;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estatePropertyDetailGroupService.setAccessLoad(),this.estatePropertyDetailGroupService.setAccessDataType(Be.Editor),this.estatePropertyDetailGroupService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.dataModel.iconColor=this.dataModel.iconColor?.toString(),this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estatePropertyDetailGroupService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.formAlert=t}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e),this.formInfo.formSubmitAllow=!0},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorSelect(e){if(!e||!e.id||e.id.length<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkPropertyTypeLanduseId=e.id}onIconPickerSelect(e){this.dataModel.iconFont=e}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Us.\u0275fac=function(i){return new(i||Us)(v(be),v(Me),v(J),v(hi),v(V),v(F),v(B),v(L))},Us.\u0275cmp=R({type:Us,selectors:[["app-estate-property-detail-group-edit"]],viewQuery:function(i,t){if(i&1&&ee(T8,5),i&2){let s;te(s=ie())&&(t.formGroup=s.first)}},standalone:!1,features:[ne],decls:35,vars:28,consts:[["vform","ngForm"],["Title",""],["Description",""],["IconFont",""],["iconColor",""],["iconColorPicker",""],["ShowInFormOrder",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["type","text","name","dataModel.title","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","fa fa-times  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],[4,"ngIf"],[3,"optionChange","optionSelectForce","optionPlaceholder","optionDisabled"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","form-actions",4,"ngIf"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.iconFont",1,"color-highlight"],["matInput","","type","text","name","dataModel.iconFont","type","text","id","dataModel.iconFont",1,"form-control","validate-name",3,"ngModelChange","iconPickerSelect","ngModel","iconPicker","ipIconPack","ipPosition","placeholder","disabled"],[1,"input-group-addon"],[3,"ngClass"],["for","dataModel.iconColor",1,"color-highlight"],[1,"row","mb-0"],[1,"col-11","pe-0"],["matInput","","type","text","name","dataModel.iconColor","type","text","id","dataModel.iconColor",1,"form-control","validate-name",3,"ngModelChange","ngModel","ngxMatColorPicker","placeholder","disabled"],[1,"col-1","ps-0"],["matSuffix","",3,"for"],[3,"touchUi","color"],["type","number","name","dataModel.showInFormOrder","id","dataModel.showInFormOrder",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=I();r(0,"div",7),C(1,"app-progress-spinner",8),r(2,"div",9)(3,"p",10),c(4),a(),r(5,"p"),c(6),_(7,"translate"),a(),r(8,"form",11,0),E("ngSubmit",function(){return u(s),f(t.onFormSubmit())}),r(10,"div",12)(11,"label",13),c(12),a(),r(13,"input",14,1),w("ngModelChange",function(p){return u(s),T(t.dataModel.title,p)||(t.dataModel.title=p),f(p)}),a(),S(15,x8,1,0,"i",15)(16,A8,1,0,"i",16),r(17,"em"),c(18),a(),S(19,P8,5,3,"mat-error",17),a(),r(20,"app-estate-property-type-landuse-selector",18),_(21,"translate"),E("optionChange",function(p){return u(s),f(t.onActionSelectorSelect(p))}),a(),S(22,k8,7,10,"div",19)(23,D8,11,11,"div",19)(24,R8,5,5,"div",19),r(25,"div",12)(26,"label",20),c(27),a(),r(28,"textarea",21,2),w("ngModelChange",function(p){return u(s),T(t.dataModel.description,p)||(t.dataModel.description=p),f(p)}),c(30,"        "),a(),r(31,"em"),c(32),a(),S(33,L8,5,3,"mat-error",17),a(),S(34,V8,9,7,"div",22),a()()()}if(i&2){let s=k(14),h=k(29);o(),d("optionsInfoAreaId",t.constructorInfoAreaId),o(3),y(" ",t.formInfo.formTitle," "),o(2),y(" ",g(7,24,"TITLE.Be_Careful_When_Entering_Information")," "),o(6),M(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),b("ngModel",t.dataModel.title),o(2),d("ngIf",!s.value),o(),d("ngIf",s.value),o(2),y("",s.value.length," / 100"),o(),d("ngIf",s.errors==null?null:s.errors.required),o(),d("optionSelectForce",t.dataModel.linkPropertyTypeLanduseId)("optionPlaceholder",g(21,26,"TITLE.Category"))("optionDisabled",!(t.fieldsInfo.linkPropertyTypeLanduseId!=null&&t.fieldsInfo.linkPropertyTypeLanduseId.accessEditField)),o(2),d("ngIf",t.fieldsInfo.iconFont==null?null:t.fieldsInfo.iconFont.accessWatchField),o(),d("ngIf",t.fieldsInfo.iconColor==null?null:t.fieldsInfo.iconColor.accessWatchField),o(),d("ngIf",t.fieldsInfo.showInFormOrder==null?null:t.fieldsInfo.showInFormOrder.accessWatchField),o(3),M(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),b("ngModel",t.dataModel.description),o(4),y("",h.value.length," / 500"),o(),d("ngIf",h.errors==null?null:h.errors.required),o(),d("ngIf",t.formInfo.formSubmitAllow)}},dependencies:[se,N,ke,Y,Ot,q,Te,de,De,Ae,ce,Pe,we,et,Q,U,ni,$t,Xt,Jt,_i,O],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});var js=Us;var F8=()=>[5,10,20,100];function B8(n,l){if(n&1){let e=I();r(0,"div",20)(1,"a",43),E("click",function(){u(e);let t=m();return f(t.onActionButtonNewRow())}),C(2,"i",44)(3,"br"),a(),r(4,"p",23),c(5),_(6,"translate"),a()()}n&2&&(o(5),M(g(6,1,"ACTION.ADD")))}function N8(n,l){if(n&1){let e=I();r(0,"div",20)(1,"a",45),E("click",function(){u(e);let t=m();return f(t.onActionButtonEditRow(t.tableRowSelected))}),C(2,"i",46)(3,"br"),a(),r(4,"p",23),c(5),_(6,"translate"),a()()}n&2&&(o(5),M(g(6,1,"ACTION.EDIT")))}function H8(n,l){if(n&1){let e=I();r(0,"div",20)(1,"a",47),E("click",function(){u(e);let t=m();return f(t.onActionButtonDeleteRow(t.tableRowSelected))}),C(2,"i",48)(3,"br"),a(),r(4,"p",23),c(5),_(6,"translate"),a()()}n&2&&(o(5),M(g(6,1,"ACTION.DELETE")))}function W8(n,l){if(n&1&&(r(0,"mat-header-cell",49),c(1),a()),n&2){let e=m();o(),y(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function G8(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),y(" ",e.id," ")}}function U8(n,l){if(n&1&&(r(0,"mat-header-cell",49),c(1),a()),n&2){let e=m();o(),y(" ",e.fieldsInfo.iconFont==null?null:e.fieldsInfo.iconFont.fieldTitle," ")}}function j8(n,l){if(n&1&&(r(0,"mat-cell"),C(1,"i",50),a()),n&2){let e=l.$implicit;o(),ye("color",e.iconColor),d("ngClass",e.iconFont)}}function q8(n,l){if(n&1&&(r(0,"mat-header-cell",49),c(1),a()),n&2){let e=m();o(),y(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," ")}}function Q8(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),y(" ",e.title," ")}}function z8(n,l){if(n&1&&(r(0,"mat-header-cell",49),c(1),a()),n&2){let e=m();o(),y(" ",e.fieldsInfo.showInFormOrder==null?null:e.fieldsInfo.showInFormOrder.fieldTitle," ")}}function Y8(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),y(" ",e.showInFormOrder," ")}}function K8(n,l){if(n&1&&(r(0,"mat-header-cell",49),c(1),a()),n&2){let e=m();o(),y(" ",e.fieldsInfo.linkPropertyTypeLanduseId==null?null:e.fieldsInfo.linkPropertyTypeLanduseId.fieldTitle," ")}}function Z8(n,l){if(n&1&&(r(0,"mat-cell"),c(1),_(2,"cmstitle"),a()),n&2){let e=l.$implicit,i=m();o(),y(" ",oi(2,1,e.linkPropertyTypeLanduseId,i.dataModelEstatePropertyTypeLanduseResult.listItems)," ")}}function J8(n,l){n&1&&(r(0,"mat-header-cell"),c(1),_(2,"translate"),a()),n&2&&(o(),y(" ",g(2,1,"TITLE.OPTION")," "))}function X8(n,l){if(n&1&&(r(0,"mat-cell",51)(1,"button",52)(2,"mat-icon"),c(3,"more_vert"),a()(),C(4,"mat-menu",null,2),a()),n&2){let e=k(5);o(),d("matMenuTriggerFor",e)}}function $8(n,l){n&1&&(r(0,"mat-header-cell",49),c(1,". "),a())}function e9(n,l){n&1&&(r(0,"mat-cell")(1,"mat-icon",53),c(2,"reorder"),a()())}function t9(n,l){n&1&&C(0,"mat-header-row")}function i9(n,l){if(n&1){let e=I();r(0,"mat-row",54),E("click",function(){let t=u(e).$implicit,s=m();return f(s.onActionTableRowSelect(t))}),a()}if(n&2){let e=l.$implicit,i=l.dataIndex,t=m();Se("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",e.id===(t.tableRowSelected==null?null:t.tableRowSelected.id))}}var qs=class qs extends bt{constructor(e,i,t,s,h,p,D,z,he,je,Ge,mt){super(e,new Ln,Ge,h,z);this.contentService=e;this.estatePropertyTypeLanduseService=i;this.cmsConfirmationDialogService=t;this.cmsToastrService=s;this.tokenHelper=h;this.router=p;this.cdr=D;this.translate=z;this.cmsStoreService=he;this.pageInfo=je;this.publicHelper=Ge;this.dialog=mt;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new pe;this.dataModelEstatePropertyTypeLanduseResult=new G;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["IconFont","ShowInFormOrder","LinkPropertyTypeLanduseId"];this.tabledisplayedColumnsMobileSource=["IconFont","ShowInFormOrder","LinkPropertyTypeLanduseId"];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:Nt=>this.onSubmitOptionsSearch(Nt)},this.filteModelContent.sortColumn="ShowInFormOrder",this.filteModelContent.sortType=X.Ascending}ngOnInit(){this.filteModelContent.sortColumn="ShowInFormOrder",this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.cmsApiStoreSubscribe=this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>re(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})),this.getPropertyType()}getPropertyType(){let e=new pe;e.rowPerPage=100,this.estatePropertyTypeLanduseService.ServiceGetAll(e).subscribe({next:i=>{this.dataModelEstatePropertyTypeLanduseResult=i}})}ngOnDestroy(){this.cmsApiStoreSubscribe&&this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Ln);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),t.isSuccess?(this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=X.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=X.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=X.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onTableDropRow(e){let i=this.tableSource.data.findIndex(s=>s===e.item.data),t=new nc;t.id=this.tableSource.data[i].id,t.centerId=this.tableSource.data[e.currentIndex].id,i>e.currentIndex?t.actionGo=va.GoUp:t.actionGo=va.GoDown,this.contentService.ServiceEditStep(t).subscribe({next:s=>{s.isSuccess?(pc(this.tableSource.data,i,e.currentIndex),this.tableSource.data=this.tableSource.data.slice()):this.cmsToastrService.typeErrorMessage(s.errorMessage)},error:s=>{this.cmsToastrService.typeError(s)}})}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(Gs,{height:"90%",panelClass:e,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(js,{height:"90%",panelClass:i,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(s=>{this.cmsToastrService.typeErrorSelected(s)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(s=>{i=s["MESSAGE.Please_Confirm"],t=s["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(s=>{if(s){let h=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(p=>{this.publicHelper.processService.processStart(h,p,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:p=>{p.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(h)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(h,!1)}})}}).catch(()=>{})}onActionButtonContentList(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.onActionTableRowSelect(e),this.router.navigate(["/hypershop/content/PareintId/",this.tableRowSelected.id])}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(p=>{i.set(p,0)}),this.translate.get("MESSAGE.All").subscribe(p=>{i.set(p,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(p=>{this.publicHelper.processService.processStart(t,p,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:p=>{p.isSuccess?(this.translate.get("MESSAGE.All").subscribe(D=>{i.set(D,p.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(p.errorMessage),this.publicHelper.processService.processStop(t)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(t,!1)}});let s=JSON.parse(JSON.stringify(this.filteModelContent)),h=new H;h.propertyName="RecordStatus",h.value=qe.Available,s.filters.push(h),this.contentService.ServiceGetCount(s).subscribe({next:p=>{p.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(D=>{i.set(D,p.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(p.errorMessage),this.publicHelper.processService.processStop(t)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0&&(this.filteModelContent.filters=[...this.filteModelContent.filters,...e]),this.DataGetAll()}};qs.\u0275fac=function(i){return new(i||qs)(v(hi),v(yi),v(Mt),v(V),v(K),v(Ze),v(B),v(L),v(Z),v(ht),v(F),v(xe))},qs.\u0275cmp=R({type:qs,selectors:[["app-estate-property-detail-group-list"]],standalone:!1,features:[ne],decls:66,vars:32,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],[1,"d-flex","justify-content-between","flex-wrap"],[1,"justify-content-end"],[1,"justify-content-start"],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-cubes","font-18",2,"color","#FFFFFF"],[1,"font-11","text-center","opacity-70"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","","cdkDropList","",3,"matSortChange","cdkDropListDropped","dataSource","cdkDropListData"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","IconFont"],["matColumnDef","Title"],["matColumnDef","ShowInFormOrder"],["matColumnDef","LinkPropertyTypeLanduseId"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],["matColumnDef","position"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],["aria-hidden","true",3,"ngClass"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],["cdkDragHandle","",2,"pointer-events","all"],[3,"click"]],template:function(i,t){if(i&1){let s=I();r(0,"app-cms-html-list",3),w("optionActionGuideNoticeDisplayChange",function(p){return u(s),T(t.viewGuideNotice,p)||(t.viewGuideNotice=p),f(p)}),E("optionOnActionButtonMemoRow",function(){return u(s),f(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return u(s),f(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return u(s),f(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return u(s),f(t.onActionButtonPrintRow())}),Qe(1,4)(2,5),A(3,6),r(4,"div",7),C(5,"div",8)(6,"div",9),a(),P(),Qe(7,6),A(8,10),r(9,"a",11),E("click",function(){return u(s),f(t.viewGuideNotice=!t.viewGuideNotice)}),C(10,"i",12),a(),r(11,"a",11),E("click",function(){return u(s),f(t.onActionButtonReload())}),C(12,"i",13),a(),P(),A(13,14),r(14,"a",15),E("click",function(){return u(s),f(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),C(15,"mat-slide-toggle",16),c(16),_(17,"translate"),a(),r(18,"a",15),E("click",function(){return u(s),f(t.onActionButtonStatist())}),C(19,"mat-slide-toggle",16),c(20),_(21,"translate"),a(),P(),A(22,17),S(23,B8,7,3,"div",18),P(),A(24,19),S(25,N8,7,3,"div",18)(26,H8,7,3,"div",18),r(27,"div",20)(28,"a",21),E("click",function(){return u(s),f(t.onActionButtonContentList(t.tableRowSelected))}),C(29,"i",22)(30,"br"),a(),r(31,"p",23),c(32),_(33,"translate"),a()(),P(),A(34,24),r(35,"app-cms-search-list",25),w("optionsChange",function(p){return u(s),T(t.optionsSearch,p)||(t.optionsSearch=p),f(p)}),a(),r(36,"app-cms-statist-list",25),w("optionsChange",function(p){return u(s),T(t.optionsStatist,p)||(t.optionsStatist=p),f(p)}),a(),P(),A(37,26),r(38,"mat-table",27,0),E("matSortChange",function(){u(s);let p=k(39);return f(t.onTableSortData(p))})("cdkDropListDropped",function(p){return u(s),f(t.onTableDropRow(p))}),A(40,28),S(41,W8,2,1,"mat-header-cell",29)(42,G8,2,1,"mat-cell",30),P(),A(43,31),S(44,U8,2,1,"mat-header-cell",29)(45,j8,2,3,"mat-cell",30),P(),A(46,32),S(47,q8,2,1,"mat-header-cell",29)(48,Q8,2,1,"mat-cell",30),P(),A(49,33),S(50,z8,2,1,"mat-header-cell",29)(51,Y8,2,1,"mat-cell",30),P(),A(52,34),S(53,K8,2,1,"mat-header-cell",29)(54,Z8,3,4,"mat-cell",30),P(),A(55,35),S(56,J8,3,3,"mat-header-cell",36)(57,X8,6,1,"mat-cell",37),P(),A(58,38),S(59,$8,2,0,"mat-header-cell",29)(60,e9,3,0,"mat-cell",30),P(),S(61,t9,1,0,"mat-header-row",39)(62,i9,1,6,"mat-row",40),a(),P(),A(63,41),r(64,"mat-paginator",42,1),E("page",function(p){return u(s),f(t.onTablePageingData(p))}),a(),P(),a()}i&2&&(d("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),b("optionActionGuideNoticeDisplay",t.viewGuideNotice),d("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelectDoubleClick)("optionSelectRowItemTitle",(t.tableRowSelected==null||t.tableRowSelected.title==null?null:t.tableRowSelected.title.length)>0?t.tableRowSelected==null?null:t.tableRowSelected.title:t.tableRowSelected==null?null:t.tableRowSelected.id),o(15),d("checked",t.optionsSearch.data.show),o(),y("",g(17,25,"ACTION.SEARCH")," "),o(3),d("checked",t.optionsStatist.data.show),o(),y("",g(21,27,"ACTION.STATIST")," "),o(3),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessAddRow),o(2),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),o(),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),o(6),M(g(33,29,"ACTION.PRODUCTS")),o(3),b("options",t.optionsSearch),o(),b("options",t.optionsStatist),o(2),d("dataSource",t.tableSource)("cdkDropListData",t.tableSource),o(23),d("matHeaderRowDef",t.tabledisplayedColumns),o(),d("matRowDefColumns",t.tabledisplayedColumns),o(2),d("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",le(31,F8)))},dependencies:[se,N,Je,Ee,At,Pt,vt,gt,Et,It,it,ot,st,rt,nt,dt,at,lt,ct,pt,Tt,wt,xt,uc,mc,O,On],encapsulation:2});var mp=qs;var j0=["*","*"];function n9(n,l){if(n&1&&(r(0,"label",13),c(1),a()),n&2){let e=m(2);d("for",ve("app-cms-site-selector-",e.id)),o(),M(e.optionLabel)}}function o9(n,l){if(n&1&&(r(0,"mat-option",14)(1,"span"),c(2),a()()),n&2){let e=l.$implicit,i=m(2);d("value",e)("disabled",i.optionDisabled),o(2),M(i.displayOption(e))}}function r9(n,l){n&1&&C(0,"i",15)}function a9(n,l){n&1&&C(0,"i",16)}function l9(n,l){if(n&1){let e=I();r(0,"i",17),E("click",function(){u(e);let t=m(2);return f(t.onActionSelectClear())}),a()}}function s9(n,l){n&1&&(r(0,"em"),c(1),_(2,"translate"),a()),n&2&&(o(),y("(",g(2,1,"TITLE.Necessary"),")"))}function d9(n,l){if(n&1){let e=I();r(0,"div",3),C(1,"app-progress-spinner",4),S(2,n9,2,3,"label",5),C(3,"input",6),r(4,"mat-autocomplete",7,0),E("optionSelected",function(t){u(e);let s=m();return f(s.onActionSelect(t.option.value))}),S(6,o9,3,3,"mat-option",8),_(7,"async"),a(),S(8,r9,1,0,"i",9)(9,a9,1,0,"i",10)(10,l9,1,0,"i",11)(11,s9,3,3,"em",12),ai(12),a()}if(n&2){let e=k(5),i=m();o(),d("optionsInfoAreaId",i.constructorInfoAreaId),o(),d("ngIf",(i.optionLabel==null?null:i.optionLabel.length)>0),o(),d("placeholder",x(i.optionPlaceholder))("id",ve("app-cms-site-selector-",i.id))("formControl",i.formControl)("matAutocomplete",e)("required",i.optionRequired),yt("disabled",i.optionDisabled?!0:null),o(),d("displayWith",i.displayFn),o(2),d("ngForOf",g(7,16,i.filteredOptions)),o(2),d("ngIf",!i.formControl.valid),o(),d("ngIf",i.optionRequired&&i.formControl.valid),o(),d("ngIf",(i.dataModelSelect==null||i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0),o(),d("ngIf",i.optionRequired&&(!i.dataModelSelect||!i.dataModelSelect.id||(i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)==0))}}function c9(n,l){if(n&1){let e=I();r(0,"div",20)(1,"a",21),E("click",function(){let t=u(e).$implicit,s=m(2);return f(s.onActionSelect(t))}),c(2),a()()}if(n&2){let e=l.$implicit,i=m(2);o(),d("ngClass",e.id===(i.dataModelSelect==null?null:i.dataModelSelect.id)?"btn font-13 font-600 btn-s m-1 rounded-xl shadow-xl border-0 gradient-highlight btn-full":"btn font-13 font-600 btn-s m-1 rounded-xl shadow-xl border-blue-dark color-blue-dark bg-theme btn-border btn-full"),yt("disabled",i.optionDisabled?!0:null),o(),M(i.displayOption(e))}}function p9(n,l){if(n&1&&(r(0,"div",18),S(1,c9,3,3,"div",19),_(2,"async"),ai(3,1),a()),n&2){let e=m();o(),d("ngForOf",g(2,1,e.filteredOptions))}}var oa=class oa{constructor(l,e,i,t,s,h){this.coreEnumService=l;this.cmsToastrService=e;this.translate=i;this.cdr=t;this.publicHelper=s;this.categoryService=h;this.id=++oa.nextId;this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new G;this.dataModelSelect=new Ln;this.formControl=new Ct;this.optionTypeView=1;this.optionDisabled=!1;this.optionRequired=!1;this.optionSelectFirstItem=!1;this.optionPlaceholder="";this.optionLabel="";this.optionChange=new Xe;this.optionReload=()=>this.onActionButtonReload();this.linkPropertyTypeLanduseId="";this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(l){this.onActionSelectForce(l)}set optionSelectParentForce(l){this.linkPropertyTypeLanduseId=l,this.loadOptions()}ngOnInit(){this.loadOptions(),(!this.optionLabel||this.optionLabel.length==0&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder)}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(Kt(""),Yt(1500),Ii(),Zt(l=>typeof l=="string"||typeof l=="number"?this.DataGetAll(l||""):[]))}displayFn(l){return l?l.title:void 0}displayOption(l){return l?l.title:void 0}DataGetAll(l){return re(this,null,function*(){let e=new pe;if(e.rowPerPage=20,e.accessLoad=!0,typeof l=="string"&&l.length>0){let s=new H;s.propertyName="Name",s.value=l,s.searchType=Oe.Contains,e.filters.push(s)}if(this.linkPropertyTypeLanduseId&&this.linkPropertyTypeLanduseId.length>0){var i=new H;i.propertyName="linkPropertyTypeLanduseId",i.value=this.linkPropertyTypeLanduseId,i.searchType=Oe.Equal,e.filters.push(i)}let t=this.constructor.name+"main";return this.translate.get("MESSAGE.Receiving_information").subscribe(s=>{this.publicHelper.processService.processStart(t,s,this.constructorInfoAreaId)}),yield Ei(this.categoryService.ServiceGetAll(e)).then(s=>(this.dataModelResult=s,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||this.dataModelSelect.id.length===0)&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0])},1e3),this.onActionSelect(this.dataModelResult.listItems[0])),this.publicHelper.processService.processStop(t),s.listItems))})}onActionSelect(l){this.optionDisabled||(this.dataModelSelect=l,this.optionChange.emit(this.dataModelSelect))}onActionSelectClear(){this.optionDisabled||(this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null))}push(l){return this.filteredOptions.pipe(Lt(e=>(e.find(i=>i.id===l.id)||e.push(l),e)))}onActionSelectForce(l){if(typeof l=="string"&&l.length>0){if(this.dataModelSelect&&this.dataModelSelect.id===l)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(e=>e.id===l)){let e=this.dataModelResult.listItems.find(i=>i.id===l);this.dataModelSelect=e,this.formControl.setValue(e);return}this.categoryService.ServiceGetOneById(l).subscribe({next:e=>{e.isSuccess?(this.filteredOptions=this.push(e.item),this.dataModelSelect=e.item,this.formControl.setValue(e.item),this.optionChange.emit(e.item)):this.cmsToastrService.typeErrorMessage(e.errorMessage)}});return}if(typeof l==typeof Ln){this.filteredOptions=this.push(l),this.dataModelSelect=l,this.formControl.setValue(l);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new Ln,this.loadOptions()}};oa.nextId=0,oa.\u0275fac=function(e){return new(e||oa)(v(J),v(V),v(L),v(B),v(F),v(hi))},oa.\u0275cmp=R({type:oa,selectors:[["app-estate-property-detail-group-selector"]],inputs:{optionTypeView:"optionTypeView",optionDisabled:"optionDisabled",optionRequired:"optionRequired",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionLabel:"optionLabel",optionReload:"optionReload",optionSelectForce:"optionSelectForce",optionSelectParentForce:"optionSelectParentForce"},outputs:{optionChange:"optionChange"},standalone:!1,ngContentSelectors:j0,decls:2,vars:2,consts:[["matauto","matAutocomplete"],["class","input-style has-borders has-icon input-style-always-active validate-field mb-4 loader-container",4,"ngIf"],["class","row mb-0",4,"ngIf"],[1,"input-style","has-borders","has-icon","input-style-always-active","validate-field","mb-4","loader-container"],[3,"optionsInfoAreaId"],["class","color-highlight",3,"for",4,"ngIf"],["type","text","aria-label","Assignee","matInput","",3,"placeholder","formControl","matAutocomplete","required","id"],[3,"optionSelected","displayWith"],[3,"value","disabled",4,"ngFor","ngForOf"],["class","fa fa-info invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],["class","fa fa-times action color-red-dark",3,"click",4,"ngIf"],[4,"ngIf"],[1,"color-highlight",3,"for"],[3,"value","disabled"],[1,"fa","fa-info","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"fa","fa-times","action","color-red-dark",3,"click"],[1,"row","mb-0"],["class","col-xl-2 col-lg-3 col-md-4 col-sm-12 pe-1",4,"ngFor","ngForOf"],[1,"col-xl-2","col-lg-3","col-md-4","col-sm-12","pe-1"],[3,"click","ngClass"]],template:function(e,i){e&1&&(gi(j0),S(0,d9,13,18,"div",1)(1,p9,4,3,"div",2)),e&2&&(d("ngIf",i.optionTypeView===1),o(),d("ngIf",i.optionTypeView===2))},dependencies:[se,Ne,N,Y,q,de,Wt,ti,ei,ii,Q,U,He,O],encapsulation:2});var Qs=oa;var m9=["vform"],u9=()=>["fa"];function f9(n,l){n&1&&C(0,"i",35)}function _9(n,l){n&1&&C(0,"i",36)}function g9(n,l){n&1&&(r(0,"mat-error"),c(1," Title is "),r(2,"strong"),c(3),_(4,"translate"),a()()),n&2&&(o(3),M(g(4,1,"MESSAGE.required")))}function h9(n,l){if(n&1){let e=I();r(0,"div",15)(1,"label",37),c(2),a(),r(3,"input",38,5),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.iconFont,t)||(s.dataModel.iconFont=t),f(t)}),E("iconPickerSelect",function(t){u(e);let s=m();return f(s.onIconPickerSelect(t))}),a(),r(5,"span",39),C(6,"i",40),a()()}if(n&2){let e=m();o(2),M(e.fieldsInfo.iconFont==null?null:e.fieldsInfo.iconFont.fieldTitle),o(),d("placeholder",x(e.fieldsInfo.iconFont==null?null:e.fieldsInfo.iconFont.fieldTitle)),b("ngModel",e.dataModel.iconFont),d("iconPicker",e.dataModel.iconFont)("ipIconPack",le(9,u9))("ipPosition","top")("disabled",!(e.fieldsInfo.iconFont!=null&&e.fieldsInfo.iconFont.accessAddField)),o(3),d("ngClass",e.dataModel.iconFont)}}function y9(n,l){if(n&1){let e=I();r(0,"div",15)(1,"label",41),c(2),a(),r(3,"div",42)(4,"div",43)(5,"input",44,6),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.iconColor,t)||(s.dataModel.iconColor=t),f(t)}),a()(),r(7,"div",45),C(8,"ngx-mat-color-toggle",46)(9,"ngx-mat-color-picker",47,7),a()()()}if(n&2){let e=k(10),i=m();o(2),M(i.fieldsInfo.iconColor==null?null:i.fieldsInfo.iconColor.fieldTitle),o(3),ye("background",i.dataModel.iconColor),d("placeholder",x(i.fieldsInfo.iconColor==null?null:i.fieldsInfo.iconColor.fieldTitle)),b("ngModel",i.dataModel.iconColor),d("ngxMatColorPicker",e)("disabled",!(i.fieldsInfo.iconColor!=null&&i.fieldsInfo.iconColor.accessAddField)),o(3),d("for",e),o(),d("touchUi",!0)("color","primary")}}function C9(n,l){if(n&1){let e=I();r(0,"div",15)(1,"label",48),c(2),a(),r(3,"input",49,8),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.showInFormOrder,t)||(s.dataModel.showInFormOrder=t),f(t)}),a()()}if(n&2){let e=m();o(2),M(e.fieldsInfo.showInFormOrder==null?null:e.fieldsInfo.showInFormOrder.fieldTitle),o(),d("placeholder",x(e.fieldsInfo.showInFormOrder==null?null:e.fieldsInfo.showInFormOrder.fieldTitle)),b("ngModel",e.dataModel.showInFormOrder),d("disabled",!(e.fieldsInfo.showInFormOrder!=null&&e.fieldsInfo.showInFormOrder.accessAddField))}}function S9(n,l){if(n&1){let e=I();r(0,"app-cms-enum-x-selector",50),w("modelChange",function(t){u(e);let s=m();return T(s.dataModel.inputDataType,t)||(s.dataModel.inputDataType=t),f(t)}),a()}if(n&2){let e=m();d("optionDataListResult",e.dataModelInputDataTypeEnumResult),b("model",e.dataModel.inputDataType),d("optionDisabled",!1)("optionLabel",e.fieldsInfo.inputDataType==null?null:e.fieldsInfo.inputDataType.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function v9(n,l){if(n&1){let e=I();r(0,"div",15)(1,"label",51),c(2),a(),r(3,"input",52,9),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.configValueIntValueMin,t)||(s.dataModel.configValueIntValueMin=t),f(t)}),a(),r(5,"em"),c(6),a()()}if(n&2){let e=m(),i=k(32);o(2),M(e.fieldsInfo.configValueIntValueMin==null?null:e.fieldsInfo.configValueIntValueMin.fieldTitle),o(),d("placeholder",x(e.fieldsInfo.configValueIntValueMin==null?null:e.fieldsInfo.configValueIntValueMin.fieldTitle)),b("ngModel",e.dataModel.configValueIntValueMin),o(3),y("",i.value.length," / 64")}}function E9(n,l){if(n&1){let e=I();r(0,"div",15)(1,"label",53),c(2),a(),r(3,"input",54,9),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.configValueIntValueMax,t)||(s.dataModel.configValueIntValueMax=t),f(t)}),a(),r(5,"em"),c(6),a()()}if(n&2){let e=m(),i=k(32);o(2),M(e.fieldsInfo.configValueIntValueMax==null?null:e.fieldsInfo.configValueIntValueMax.fieldTitle),o(),d("placeholder",x(e.fieldsInfo.configValueIntValueMax==null?null:e.fieldsInfo.configValueIntValueMax.fieldTitle)),b("ngModel",e.dataModel.configValueIntValueMax),o(3),y("",i.value.length," / 64")}}function I9(n,l){if(n&1){let e=I();r(0,"app-cms-enum-x-selector",50),w("modelChange",function(t){u(e);let s=m(2);return T(s.dataModel.inputDataType,t)||(s.dataModel.inputDataType=t),f(t)}),a()}if(n&2){let e=m(2);d("optionDataListResult",e.dataModelInputDataTypeEnumResult),b("model",e.dataModel.inputDataType),d("optionDisabled",!1)("optionLabel",e.fieldsInfo.inputDataType==null?null:e.fieldsInfo.inputDataType.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function M9(n,l){if(n&1){let e=I();r(0,"div",15)(1,"label",51),c(2),a(),r(3,"input",52,9),w("ngModelChange",function(t){u(e);let s=m(2);return T(s.dataModel.configValueIntValueMin,t)||(s.dataModel.configValueIntValueMin=t),f(t)}),a(),r(5,"em"),c(6),a()()}if(n&2){m();let e=k(9),i=m();o(2),M(i.fieldsInfo.configValueIntValueMin==null?null:i.fieldsInfo.configValueIntValueMin.fieldTitle),o(),d("placeholder",x(i.fieldsInfo.configValueIntValueMin==null?null:i.fieldsInfo.configValueIntValueMin.fieldTitle)),b("ngModel",i.dataModel.configValueIntValueMin),o(3),y("",e.value.length," / 64")}}function b9(n,l){if(n&1){let e=I();r(0,"div",15)(1,"label",53),c(2),a(),r(3,"input",54,9),w("ngModelChange",function(t){u(e);let s=m(2);return T(s.dataModel.configValueIntValueMax,t)||(s.dataModel.configValueIntValueMax=t),f(t)}),a(),r(5,"em"),c(6),a()()}if(n&2){m();let e=k(9),i=m();o(2),M(i.fieldsInfo.configValueIntValueMax==null?null:i.fieldsInfo.configValueIntValueMax.fieldTitle),o(),d("placeholder",x(i.fieldsInfo.configValueIntValueMax==null?null:i.fieldsInfo.configValueIntValueMax.fieldTitle)),b("ngModel",i.dataModel.configValueIntValueMax),o(3),y("",e.value.length," / 64")}}function T9(n,l){if(n&1){let e=I();r(0,"div",55)(1,"div",56)(2,"h5",57),c(3),a()(),r(4,"div",58)(5,"div",59)(6,"input",60),w("ngModelChange",function(t){u(e);let s=m(2);return T(s.dataModel.invisibleForEndUser,t)||(s.dataModel.invisibleForEndUser=t),f(t)}),a(),C(7,"label",61),a()()()}if(n&2){let e=m(2);o(3),y(" ",e.fieldsInfo.invisibleForEndUser==null?null:e.fieldsInfo.invisibleForEndUser.fieldTitle),o(3),b("ngModel",e.dataModel.invisibleForEndUser)}}function w9(n,l){if(n&1){let e=I();r(0,"div",55)(1,"div",56)(2,"h5",57),c(3),a()(),S(4,I9,1,6,"app-cms-enum-x-selector",23),r(5,"div",15)(6,"label",24),c(7),a(),r(8,"input",25,2),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.unit,t)||(s.dataModel.unit=t),f(t)}),a(),r(10,"em"),c(11),a()(),S(12,M9,7,5,"div",22)(13,b9,7,5,"div",22)(14,T9,8,2,"div",26),a()}if(n&2){let e=k(9),i=m();o(3),y(" ",i.fieldsInfo.invisibleForEndUser==null?null:i.fieldsInfo.invisibleForEndUser.fieldTitle),o(),d("ngIf",i.fieldsInfo.inputDataType==null?null:i.fieldsInfo.inputDataType.accessWatchField),o(3),M(i.fieldsInfo.unit==null?null:i.fieldsInfo.unit.fieldTitle),o(),d("placeholder",x(i.fieldsInfo.unit==null?null:i.fieldsInfo.unit.fieldTitle)),b("ngModel",i.dataModel.unit),o(3),y("",e.value.length," / 64"),o(),d("ngIf",i.dataModel.inputDataType===1||i.dataModel.inputDataType===3),o(),d("ngIf",i.dataModel.inputDataType===1||i.dataModel.inputDataType===3),o(),d("ngIf",i.fieldsInfo.invisibleForEndUser==null?null:i.fieldsInfo.invisibleForEndUser.accessWatchField)}}function x9(n,l){if(n&1){let e=I();r(0,"div",55)(1,"div",56)(2,"h5",62),c(3),a()(),r(4,"div",58)(5,"div",59)(6,"input",63),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.invisibleForSubmiter,t)||(s.dataModel.invisibleForSubmiter=t),f(t)}),a(),C(7,"label",64),a()()()}if(n&2){let e=m();o(3),y(" ",e.fieldsInfo.invisibleForSubmiter==null?null:e.fieldsInfo.invisibleForSubmiter.fieldTitle),o(3),b("ngModel",e.dataModel.invisibleForSubmiter)}}function A9(n,l){if(n&1){let e=I();r(0,"div",55)(1,"div",56)(2,"h5",65),c(3),a()(),r(4,"div",58)(5,"div",59)(6,"input",66),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.required,t)||(s.dataModel.required=t),f(t)}),a(),C(7,"label",67),a()()()}if(n&2){let e=m();o(3),y(" ",e.fieldsInfo.required==null?null:e.fieldsInfo.required.fieldTitle),o(3),b("ngModel",e.dataModel.required)}}function P9(n,l){if(n&1){let e=I();r(0,"div",55)(1,"div",56)(2,"h5",68),c(3),a()(),r(4,"div",58)(5,"div",59)(6,"input",69),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.isHistoryable,t)||(s.dataModel.isHistoryable=t),f(t)}),a(),C(7,"label",70),a()()()}if(n&2){let e=m();o(3),y(" ",e.fieldsInfo.isHistoryable==null?null:e.fieldsInfo.isHistoryable.fieldTitle),o(3),b("ngModel",e.dataModel.isHistoryable)}}function k9(n,l){if(n&1){let e=I();r(0,"div",55)(1,"div",56)(2,"h5",71),c(3),a()(),r(4,"div",58)(5,"div",59)(6,"input",72),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.showInFastSearch,t)||(s.dataModel.showInFastSearch=t),f(t)}),a(),C(7,"label",73),a()()()}if(n&2){let e=m();o(3),y(" ",e.fieldsInfo.showInFastSearch==null?null:e.fieldsInfo.showInFastSearch.fieldTitle),o(3),b("ngModel",e.dataModel.showInFastSearch)}}function D9(n,l){if(n&1){let e=I();r(0,"div",55)(1,"div",56)(2,"h5",74),c(3),a()(),r(4,"div",58)(5,"div",59)(6,"input",75),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.configValueForceUseDefaultValue,t)||(s.dataModel.configValueForceUseDefaultValue=t),f(t)}),a(),C(7,"label",76),a()()()}if(n&2){let e=m();o(3),y(" ",e.fieldsInfo.configValueForceUseDefaultValue==null?null:e.fieldsInfo.configValueForceUseDefaultValue.fieldTitle),o(3),b("ngModel",e.dataModel.configValueForceUseDefaultValue)}}function R9(n,l){if(n&1){let e=I();r(0,"div",55)(1,"div",56)(2,"h5",77),c(3),a()(),r(4,"div",58)(5,"div",59)(6,"input",78),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.configValueMultipleChoice,t)||(s.dataModel.configValueMultipleChoice=t),f(t)}),a(),C(7,"label",79),a()()()}if(n&2){let e=m();o(3),y(" ",e.fieldsInfo.configValueMultipleChoice==null?null:e.fieldsInfo.configValueMultipleChoice.fieldTitle),o(3),b("ngModel",e.dataModel.configValueMultipleChoice)}}function L9(n,l){if(n&1){let e=I();r(0,"mat-chip",80),E("removed",function(){let t=u(e).$implicit,s=m();return f(s.removeTagDefault(t))}),c(1),r(2,"button",81)(3,"mat-icon"),c(4,"cancel"),a()()()}if(n&2){let e=l.$implicit;o(),y(" ",e," ")}}function V9(n,l){if(n&1){let e=I();r(0,"mat-chip",80),E("removed",function(){let t=u(e).$implicit,s=m();return f(s.removeTagNull(t))}),c(1),r(2,"button",81)(3,"mat-icon"),c(4,"cancel"),a()()()}if(n&2){let e=l.$implicit;o(),y(" ",e," ")}}function O9(n,l){n&1&&(r(0,"mat-error"),c(1," Description is "),r(2,"strong"),c(3),_(4,"translate"),a()()),n&2&&(o(3),M(g(4,1,"MESSAGE.required")))}function F9(n,l){if(n&1&&(r(0,"button",86),C(1,"i",87),c(2),_(3,"translate"),a()),n&2){m(2);let e=k(9);d("disabled",!e.form.valid),o(2),y(" ",g(3,2,"ACTION.SAVE")," ")}}function B9(n,l){if(n&1){let e=I();r(0,"div",82)(1,"button",83),E("click",function(){u(e);let t=m();return f(t.onFormCancel())}),C(2,"i",84),c(3),_(4,"translate"),a(),S(5,F9,4,4,"button",85),a()}if(n&2){let e=m();o(3),y(" ",g(4,2,"ACTION.CANCEL")," "),o(2),d("ngIf",e.formInfo.formSubmitAllow)}}var zs=class zs extends Dt{constructor(e,i,t,s,h,p,D,z,he){super(s,new xr,D,he);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.estatePropertyDetailService=s;this.cmsToastrService=h;this.estateEnumService=p;this.publicHelper=D;this.cdr=z;this.translate=he;this.requestLinkPropertyTypeLanduseId="";this.requestLinkPropertyDetailGroupId="";this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new G;this.dataModel=new xr;this.formInfo=new me;this.fileManagerOpenForm=!1;this.dataModelInputDataTypeEnumResult=new G;this.keywordDefaultDataModel=[];this.keywordNullDataModel=[];this.addOnBlurTag=!0;this.separatorKeysCodes=[13];this.publicHelper.processService.cdr=this.cdr,e&&(this.requestLinkPropertyTypeLanduseId=e.linkPropertyTypeLanduseId,this.requestLinkPropertyDetailGroupId=e.linkPropertyDetailGroupId),this.requestLinkPropertyTypeLanduseId&&this.requestLinkPropertyTypeLanduseId.length>0&&(this.dataModel.linkPropertyTypeLanduseId=this.requestLinkPropertyTypeLanduseId),this.requestLinkPropertyDetailGroupId&&this.requestLinkPropertyDetailGroupId.length>0&&(this.dataModel.linkPropertyDetailGroupId=this.requestLinkPropertyDetailGroupId),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess(),this.getInputDataTypeEnum()}getInputDataTypeEnum(){this.coreEnumService.ServiceInputDataTypeEnum().subscribe({next:e=>{this.dataModelInputDataTypeEnumResult=e}})}DataAddContent(){this.dataModel.iconColor=this.dataModel.iconColor?.toString(),this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estatePropertyDetailService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.formAlert=t}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e),this.formInfo.formSubmitAllow=!0},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorSelect(e){if(!e||!e.id||e.id.length<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkPropertyTypeLanduseId=e.id}onActionSelectorDetailGroup(e){if(!e||!e.id||e.id.length<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkPropertyDetailGroupId=e.id}onIconPickerSelect(e){this.dataModel.iconFont=e}onFormSubmit(){if(this.formGroup.valid){if(this.formInfo.formSubmitAllow=!1,this.dataModel.configValueDefaultValueJson="",this.keywordDefaultDataModel&&this.keywordDefaultDataModel.length>0){let e=[];this.keywordDefaultDataModel.forEach(i=>{i.display?e.push(i.display):e.push(i)}),e&&e.length>0&&(this.dataModel.configValueDefaultValueJson=e.join(","))}if(this.dataModel.configValueNullValueJson="",this.keywordNullDataModel&&this.keywordNullDataModel.length>0){let e=[];this.keywordNullDataModel.forEach(i=>{i.display?e.push(i.display):e.push(i)}),e&&e.length>0&&(this.dataModel.configValueNullValueJson=e.join(","))}this.DataAddContent()}}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}addTagDefault(e){let i=(e.value||"").trim();i&&this.keywordDefaultDataModel.push(i),e.chipInput.clear()}removeTagDefault(e){let i=this.keywordDefaultDataModel.indexOf(e);i>=0&&this.keywordDefaultDataModel.splice(i,1)}addTagNull(e){let i=(e.value||"").trim();i&&this.keywordNullDataModel.push(i),e.chipInput.clear()}removeTagNull(e){let i=this.keywordNullDataModel.indexOf(e);i>=0&&this.keywordNullDataModel.splice(i,1)}};zs.\u0275fac=function(i){return new(i||zs)(v(be),v(Me),v(J),v(Fr),v(V),v(sn),v(F),v(B),v(L))},zs.\u0275cmp=R({type:zs,selectors:[["app-estate-property-detail-add"]],viewQuery:function(i,t){if(i&1&&ee(m9,5),i&2){let s;te(s=ie())&&(t.formGroup=s.first)}},standalone:!1,features:[ne],decls:71,vars:68,consts:[["vform","ngForm"],["Title",""],["Unit",""],["chipList",""],["Description",""],["IconFont",""],["iconColor",""],["iconColorPicker",""],["ShowInFormOrder",""],["ConfigValueIntValueMax",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","fa fa-times  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],[4,"ngIf"],[3,"optionChange","optionSelectForce","optionPlaceholder"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[3,"optionDataListResult","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],["for","dataModel.unit",1,"color-highlight"],["matInput","","type","text","name","dataModel.unit","minlength","1","maxlength","64","id","dataModel.unit",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","d-flex mb-3",4,"ngIf"],["appearance","fill",1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4",2,"width","100%"],[1,"color-highlight"],["aria-label","'TITLE.key_word'|translate"],[3,"removed",4,"ngFor","ngForOf"],[3,"matChipInputTokenEnd","placeholder","matChipInputFor","matChipInputSeparatorKeyCodes","matChipInputAddOnBlur"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","form-actions",4,"ngIf"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.iconFont",1,"color-highlight"],["matInput","","type","text","name","dataModel.iconFont","type","text","id","dataModel.iconFont",1,"form-control","validate-name",3,"ngModelChange","iconPickerSelect","ngModel","iconPicker","ipIconPack","ipPosition","placeholder","disabled"],[1,"input-group-addon"],[3,"ngClass"],["for","dataModel.iconColor",1,"color-highlight"],[1,"row","mb-0"],[1,"col-11","pe-0"],["matInput","","type","text","name","dataModel.iconColor","type","text","id","dataModel.iconColor",1,"form-control","validate-name",3,"ngModelChange","ngModel","ngxMatColorPicker","placeholder","disabled"],[1,"col-1","ps-0"],["matSuffix","",3,"for"],[3,"touchUi","color"],["for","dataModel.showInFormOrder",1,"color-highlight"],["matInput","","type","number","name","dataModel.showInFormOrder","id","dataModel.showInFormOrder",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[3,"modelChange","optionDataListResult","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.configValueIntValueMin",1,"color-highlight"],["matInput","","type","number","name","dataModel.configValueIntValueMin","id","dataModel.configValueIntValueMin",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.configValueIntValueMax",1,"color-highlight"],["matInput","","type","number","name","dataModel.configValueIntValueMax","id","dataModel.configValueIntValueMax",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.invisibleForEndUser",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.invisibleForEndUser","name","dataModel.invisibleForEndUser",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.invisibleForEndUser",1,"custom-control-label"],["data-trigger-switch","dataModel.invisibleForSubmiter",1,"font-600","font-14"],["type","checkbox","id","dataModel.invisibleForSubmiter","name","dataModel.invisibleForSubmiter",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.invisibleForSubmiter",1,"custom-control-label"],["data-trigger-switch","dataModel.required",1,"font-600","font-14"],["type","checkbox","id","dataModel.required","name","dataModel.required",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.required",1,"custom-control-label"],["data-trigger-switch","dataModel.isHistoryable",1,"font-600","font-14"],["type","checkbox","id","dataModel.isHistoryable","name","dataModel.isHistoryable",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.isHistoryable",1,"custom-control-label"],["data-trigger-switch","dataModel.showInFastSearch",1,"font-600","font-14"],["type","checkbox","id","dataModel.showInFastSearch","name","dataModel.showInFastSearch",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.showInFastSearch",1,"custom-control-label"],["data-trigger-switch","dataModel.configValueForceUseDefaultValue",1,"font-600","font-14"],["type","checkbox","id","dataModel.configValueForceUseDefaultValue","name","dataModel.configValueForceUseDefaultValue",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.configValueForceUseDefaultValue",1,"custom-control-label"],["data-trigger-switch","dataModel.configValueMultipleChoice",1,"font-600","font-14"],["type","checkbox","id","dataModel.configValueMultipleChoice","name","dataModel.configValueMultipleChoice",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.configValueMultipleChoice",1,"custom-control-label"],[3,"removed"],["type","button","matChipRemove",""],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-green",3,"disabled",4,"ngIf"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=I();r(0,"div",10),C(1,"app-progress-spinner",11),r(2,"div",12)(3,"p",13),c(4),a(),r(5,"p"),c(6),_(7,"translate"),a(),r(8,"form",14,0),E("ngSubmit",function(){return u(s),f(t.onFormSubmit())}),r(10,"div",15)(11,"label",16),c(12),a(),r(13,"input",17,1),w("ngModelChange",function(p){return u(s),T(t.dataModel.title,p)||(t.dataModel.title=p),f(p)}),a(),S(15,f9,1,0,"i",18)(16,_9,1,0,"i",19),r(17,"em"),c(18),a(),S(19,g9,5,3,"mat-error",20),a(),r(20,"app-estate-property-type-landuse-selector",21),_(21,"translate"),E("optionChange",function(p){return u(s),f(t.onActionSelectorSelect(p))}),a(),r(22,"app-estate-property-detail-group-selector",21),_(23,"translate"),E("optionChange",function(p){return u(s),f(t.onActionSelectorDetailGroup(p))}),a(),S(24,h9,7,10,"div",22)(25,y9,11,11,"div",22)(26,C9,5,5,"div",22)(27,S9,1,6,"app-cms-enum-x-selector",23),r(28,"div",15)(29,"label",24),c(30),a(),r(31,"input",25,2),w("ngModelChange",function(p){return u(s),T(t.dataModel.unit,p)||(t.dataModel.unit=p),f(p)}),a(),r(33,"em"),c(34),a()(),S(35,v9,7,5,"div",22)(36,E9,7,5,"div",22)(37,w9,15,10,"div",26)(38,x9,8,2,"div",26)(39,A9,8,2,"div",26)(40,P9,8,2,"div",26)(41,k9,8,2,"div",26)(42,D9,8,2,"div",26)(43,R9,8,2,"div",26),r(44,"div",27)(45,"label",28),c(46),_(47,"translate"),a(),r(48,"mat-chip-grid",29,3),S(50,L9,5,1,"mat-chip",30),r(51,"input",31),_(52,"translate"),E("matChipInputTokenEnd",function(p){return u(s),f(t.addTagDefault(p))}),a()()(),r(53,"div",27)(54,"label",28),c(55),_(56,"translate"),a(),r(57,"mat-chip-grid",29,3),S(59,V9,5,1,"mat-chip",30),r(60,"input",31),_(61,"translate"),E("matChipInputTokenEnd",function(p){return u(s),f(t.addTagNull(p))}),a()()(),r(62,"div",15)(63,"label",32),c(64),a(),r(65,"textarea",33,4),w("ngModelChange",function(p){return u(s),T(t.dataModel.description,p)||(t.dataModel.description=p),f(p)}),a(),r(67,"em"),c(68),a(),S(69,O9,5,3,"mat-error",20),a(),S(70,B9,6,4,"div",34),a()()()}if(i&2){let s=k(14),h=k(32),p=k(49),D=k(66);o(),d("optionsInfoAreaId",t.constructorInfoAreaId),o(3),y(" ",t.formInfo.formTitle," "),o(2),y(" ",g(7,54,"TITLE.Be_Careful_When_Entering_Information")," "),o(6),M(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),b("ngModel",t.dataModel.title),o(2),d("ngIf",!s.value),o(),d("ngIf",s.value),o(2),y("",s.value.length," / 100"),o(),d("ngIf",s.errors==null?null:s.errors.required),o(),d("optionSelectForce",t.dataModel.linkPropertyTypeLanduseId)("optionPlaceholder",g(21,56,"TITLE.USER")),o(2),d("optionSelectForce",t.dataModel.linkPropertyDetailGroupId)("optionPlaceholder",g(23,58,"TITLE.Category")),o(2),d("ngIf",t.fieldsInfo.iconFont==null?null:t.fieldsInfo.iconFont.accessWatchField),o(),d("ngIf",t.fieldsInfo.iconColor==null?null:t.fieldsInfo.iconColor.accessWatchField),o(),d("ngIf",t.fieldsInfo.showInFormOrder==null?null:t.fieldsInfo.showInFormOrder.accessWatchField),o(),d("ngIf",t.fieldsInfo.inputDataType==null?null:t.fieldsInfo.inputDataType.accessWatchField),o(3),M(t.fieldsInfo.unit==null?null:t.fieldsInfo.unit.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.unit==null?null:t.fieldsInfo.unit.fieldTitle)),b("ngModel",t.dataModel.unit),o(3),y("",h.value.length," / 64"),o(),d("ngIf",t.dataModel.inputDataType===1||t.dataModel.inputDataType===3),o(),d("ngIf",t.dataModel.inputDataType===1||t.dataModel.inputDataType===3),o(),d("ngIf",t.fieldsInfo.invisibleForEndUser==null?null:t.fieldsInfo.invisibleForEndUser.accessWatchField),o(),d("ngIf",t.fieldsInfo.invisibleForSubmiter==null?null:t.fieldsInfo.invisibleForSubmiter.accessWatchField),o(),d("ngIf",t.fieldsInfo.required==null?null:t.fieldsInfo.required.accessWatchField),o(),d("ngIf",t.fieldsInfo.isHistoryable==null?null:t.fieldsInfo.isHistoryable.accessWatchField),o(),d("ngIf",t.fieldsInfo.showInFastSearch==null?null:t.fieldsInfo.showInFastSearch.accessWatchField),o(),d("ngIf",t.fieldsInfo.configValueForceUseDefaultValue==null?null:t.fieldsInfo.configValueForceUseDefaultValue.accessWatchField),o(),d("ngIf",t.dataModel.configValueForceUseDefaultValue&&(t.fieldsInfo.configValueMultipleChoice==null?null:t.fieldsInfo.configValueMultipleChoice.accessWatchField)),o(3),M(g(47,60,"TITLE.Choose_keywords_relative_to_the_content")),o(4),d("ngForOf",t.keywordDefaultDataModel),o(),d("placeholder",ve("",g(52,62,"TITLE.key_word"),"+"))("matChipInputFor",p)("matChipInputSeparatorKeyCodes",t.separatorKeysCodes)("matChipInputAddOnBlur",t.addOnBlurTag),o(4),M(g(56,64,"TITLE.Choose_keywords_relative_to_null_content")),o(4),d("ngForOf",t.keywordNullDataModel),o(),d("placeholder",ve("",g(61,66,"TITLE.key_word"),"+"))("matChipInputFor",p)("matChipInputSeparatorKeyCodes",t.separatorKeysCodes)("matChipInputAddOnBlur",t.addOnBlurTag),o(4),M(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),b("ngModel",t.dataModel.description),o(3),y("",D.value.length," / 500"),o(),d("ngIf",D.errors==null?null:D.errors.required),o(),d("ngIf",!t.publicHelper.processService.process.inRunAll)}},dependencies:[se,Ne,N,ke,Y,Ot,Ht,q,Te,de,De,Ae,ce,Pe,bi,Ti,wi,Mi,we,et,Ee,Q,Wo,U,ni,$t,Xt,Jt,_i,Qs,O],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});var up=zs;var N9=["vform"],H9=()=>["fa"];function W9(n,l){n&1&&C(0,"i",36)}function G9(n,l){n&1&&C(0,"i",37)}function U9(n,l){n&1&&(r(0,"mat-error"),c(1," Title is "),r(2,"strong"),c(3),_(4,"translate"),a()()),n&2&&(o(3),M(g(4,1,"MESSAGE.required")))}function j9(n,l){if(n&1){let e=I();r(0,"div",15)(1,"label",38),c(2),a(),r(3,"input",39,5),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.iconFont,t)||(s.dataModel.iconFont=t),f(t)}),E("iconPickerSelect",function(t){u(e);let s=m();return f(s.onIconPickerSelect(t))}),a(),r(5,"span",40),C(6,"i",41),a()()}if(n&2){let e=m();o(2),M(e.fieldsInfo.iconFont==null?null:e.fieldsInfo.iconFont.fieldTitle),o(),d("placeholder",x(e.fieldsInfo.iconFont==null?null:e.fieldsInfo.iconFont.fieldTitle)),b("ngModel",e.dataModel.iconFont),d("iconPicker",e.dataModel.iconFont)("ipIconPack",le(9,H9))("ipPosition","top")("disabled",!(e.fieldsInfo.iconFont!=null&&e.fieldsInfo.iconFont.accessEditField)),o(3),d("ngClass",e.dataModel.iconFont)}}function q9(n,l){if(n&1){let e=I();r(0,"div",15)(1,"label",42),c(2),a(),r(3,"div",43)(4,"div",44)(5,"input",45,6),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.iconColor,t)||(s.dataModel.iconColor=t),f(t)}),a()(),r(7,"div",46),C(8,"ngx-mat-color-toggle",47)(9,"ngx-mat-color-picker",48,7),a()()()}if(n&2){let e=k(10),i=m();o(2),M(i.fieldsInfo.iconColor==null?null:i.fieldsInfo.iconColor.fieldTitle),o(3),ye("background",i.dataModel.iconColor),d("placeholder",x(i.fieldsInfo.iconColor==null?null:i.fieldsInfo.iconColor.fieldTitle)),b("ngModel",i.dataModel.iconColor),d("ngxMatColorPicker",e)("disabled",!(i.fieldsInfo.iconColor!=null&&i.fieldsInfo.iconColor.accessEditField)),o(3),d("for",e),o(),d("touchUi",!0)("color","primary")}}function Q9(n,l){if(n&1){let e=I();r(0,"div",15)(1,"label",49),c(2),a(),r(3,"input",50,8),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.showInFormOrder,t)||(s.dataModel.showInFormOrder=t),f(t)}),a()()}if(n&2){let e=m();o(2),M(e.fieldsInfo.showInFormOrder==null?null:e.fieldsInfo.showInFormOrder.fieldTitle),o(),d("placeholder",x(e.fieldsInfo.showInFormOrder==null?null:e.fieldsInfo.showInFormOrder.fieldTitle)),b("ngModel",e.dataModel.showInFormOrder),d("disabled",!(e.fieldsInfo.showInFormOrder!=null&&e.fieldsInfo.showInFormOrder.accessEditField))}}function z9(n,l){if(n&1){let e=I();r(0,"app-cms-enum-x-selector",51),w("modelChange",function(t){u(e);let s=m();return T(s.dataModel.inputDataType,t)||(s.dataModel.inputDataType=t),f(t)}),a()}if(n&2){let e=m();d("optionDataListResult",e.dataModelInputDataTypeEnumResult),b("model",e.dataModel.inputDataType),d("optionDisabled",!1)("optionLabel",e.fieldsInfo.inputDataType==null?null:e.fieldsInfo.inputDataType.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Y9(n,l){if(n&1){let e=I();r(0,"div",15)(1,"label",52),c(2),a(),r(3,"input",53,9),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.configValueIntValueMin,t)||(s.dataModel.configValueIntValueMin=t),f(t)}),a(),r(5,"em"),c(6),a()()}if(n&2){let e=m(),i=k(33);o(2),M(e.fieldsInfo.configValueIntValueMin==null?null:e.fieldsInfo.configValueIntValueMin.fieldTitle),o(),d("placeholder",x(e.fieldsInfo.configValueIntValueMin==null?null:e.fieldsInfo.configValueIntValueMin.fieldTitle)),b("ngModel",e.dataModel.configValueIntValueMin),o(3),y("",i.value.length," / 64")}}function K9(n,l){if(n&1){let e=I();r(0,"div",15)(1,"label",54),c(2),a(),r(3,"input",55,9),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.configValueIntValueMax,t)||(s.dataModel.configValueIntValueMax=t),f(t)}),a(),r(5,"em"),c(6),a()()}if(n&2){let e=m(),i=k(33);o(2),M(e.fieldsInfo.configValueIntValueMax==null?null:e.fieldsInfo.configValueIntValueMax.fieldTitle),o(),d("placeholder",x(e.fieldsInfo.configValueIntValueMax==null?null:e.fieldsInfo.configValueIntValueMax.fieldTitle)),b("ngModel",e.dataModel.configValueIntValueMax),o(3),y("",i.value.length," / 64")}}function Z9(n,l){if(n&1){let e=I();r(0,"div",56)(1,"div",57)(2,"h5",58),c(3),a()(),r(4,"div",59)(5,"div",60)(6,"input",61),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.invisibleForEndUser,t)||(s.dataModel.invisibleForEndUser=t),f(t)}),a(),C(7,"label",62),a()()()}if(n&2){let e=m();o(3),y(" ",e.fieldsInfo.invisibleForEndUser==null?null:e.fieldsInfo.invisibleForEndUser.fieldTitle),o(3),b("ngModel",e.dataModel.invisibleForEndUser)}}function J9(n,l){if(n&1){let e=I();r(0,"div",56)(1,"div",57)(2,"h5",63),c(3),a()(),r(4,"div",59)(5,"div",60)(6,"input",64),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.invisibleForSubmiter,t)||(s.dataModel.invisibleForSubmiter=t),f(t)}),a(),C(7,"label",65),a()()()}if(n&2){let e=m();o(3),y(" ",e.fieldsInfo.invisibleForSubmiter==null?null:e.fieldsInfo.invisibleForSubmiter.fieldTitle),o(3),b("ngModel",e.dataModel.invisibleForSubmiter)}}function X9(n,l){if(n&1){let e=I();r(0,"div",56)(1,"div",57)(2,"h5",66),c(3),a()(),r(4,"div",59)(5,"div",60)(6,"input",67),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.required,t)||(s.dataModel.required=t),f(t)}),a(),C(7,"label",68),a()()()}if(n&2){let e=m();o(3),y(" ",e.fieldsInfo.required==null?null:e.fieldsInfo.required.fieldTitle),o(3),b("ngModel",e.dataModel.required)}}function $9(n,l){if(n&1){let e=I();r(0,"div",56)(1,"div",57)(2,"h5",69),c(3),a()(),r(4,"div",59)(5,"div",60)(6,"input",70),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.isHistoryable,t)||(s.dataModel.isHistoryable=t),f(t)}),a(),C(7,"label",71),a()()()}if(n&2){let e=m();o(3),y(" ",e.fieldsInfo.isHistoryable==null?null:e.fieldsInfo.isHistoryable.fieldTitle),o(3),b("ngModel",e.dataModel.isHistoryable)}}function eN(n,l){if(n&1){let e=I();r(0,"div",56)(1,"div",57)(2,"h5",72),c(3),a()(),r(4,"div",59)(5,"div",60)(6,"input",73),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.showInFastSearch,t)||(s.dataModel.showInFastSearch=t),f(t)}),a(),C(7,"label",74),a()()()}if(n&2){let e=m();o(3),y(" ",e.fieldsInfo.showInFastSearch==null?null:e.fieldsInfo.showInFastSearch.fieldTitle),o(3),b("ngModel",e.dataModel.showInFastSearch)}}function tN(n,l){if(n&1){let e=I();r(0,"div",56)(1,"div",57)(2,"h5",75),c(3),a()(),r(4,"div",59)(5,"div",60)(6,"input",76),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.configValueForceUseDefaultValue,t)||(s.dataModel.configValueForceUseDefaultValue=t),f(t)}),a(),C(7,"label",77),a()()()}if(n&2){let e=m();o(3),y(" ",e.fieldsInfo.configValueForceUseDefaultValue==null?null:e.fieldsInfo.configValueForceUseDefaultValue.fieldTitle),o(3),b("ngModel",e.dataModel.configValueForceUseDefaultValue)}}function iN(n,l){if(n&1){let e=I();r(0,"div",56)(1,"div",57)(2,"h5",78),c(3),a()(),r(4,"div",59)(5,"div",60)(6,"input",79),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.configValueMultipleChoice,t)||(s.dataModel.configValueMultipleChoice=t),f(t)}),a(),C(7,"label",80),a()()()}if(n&2){let e=m();o(3),y(" ",e.fieldsInfo.configValueMultipleChoice==null?null:e.fieldsInfo.configValueMultipleChoice.fieldTitle),o(3),b("ngModel",e.dataModel.configValueMultipleChoice)}}function nN(n,l){if(n&1){let e=I();r(0,"mat-chip",81),E("removed",function(){let t=u(e).$implicit,s=m();return f(s.removeTagDefault(t))}),c(1),r(2,"button",82)(3,"mat-icon"),c(4,"cancel"),a()()()}if(n&2){let e=l.$implicit;o(),y(" ",e," ")}}function oN(n,l){if(n&1){let e=I();r(0,"mat-chip",81),E("removed",function(){let t=u(e).$implicit,s=m();return f(s.removeTagNull(t))}),c(1),r(2,"button",82)(3,"mat-icon"),c(4,"cancel"),a()()()}if(n&2){let e=l.$implicit;o(),y(" ",e," ")}}function rN(n,l){n&1&&(r(0,"mat-error"),c(1," Description is "),r(2,"strong"),c(3),_(4,"translate"),a()()),n&2&&(o(3),M(g(4,1,"MESSAGE.required")))}function aN(n,l){if(n&1){let e=I();r(0,"div",83)(1,"button",84),E("click",function(){u(e);let t=m();return f(t.onFormCancel())}),C(2,"i",85),c(3),_(4,"translate"),a(),r(5,"button",86),C(6,"i",87),c(7),_(8,"translate"),a()()}if(n&2){m();let e=k(9);o(3),y(" ",g(4,3,"ACTION.CANCEL")," "),o(2),d("disabled",!e.form.valid),o(2),y(" ",g(8,5,"ACTION.SAVE")," ")}}var Ys=class Ys extends Bt{constructor(e,i,t,s,h,p,D,z){super(s,new xr,p,z);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.estatePropertyDetailService=s;this.cmsToastrService=h;this.publicHelper=p;this.cdr=D;this.translate=z;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new Ft;this.dataModel=new xr;this.formInfo=new me;this.dataModelInputDataTypeEnumResult=new G;this.keywordDefaultDataModel=[];this.keywordNullDataModel=[];this.fileManagerOpenForm=!1;this.addOnBlurTag=!0;this.separatorKeysCodes=[13];this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.getInputDataTypeEnum()}getInputDataTypeEnum(){this.coreEnumService.ServiceInputDataTypeEnum().subscribe({next:e=>{this.dataModelInputDataTypeEnumResult=e}})}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estatePropertyDetailService.setAccessLoad(),this.estatePropertyDetailService.setAccessDataType(Be.Editor),this.estatePropertyDetailService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.dataModel.configValueDefaultValueJson=this.dataModel.configValueDefaultValueJson+"",this.dataModel.configValueNullValueJson=this.dataModel.configValueNullValueJson+"",this.keywordDefaultDataModel=this.dataModel.configValueDefaultValueJson.split(","),this.keywordNullDataModel=this.dataModel.configValueNullValueJson.split(","),this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.dataModel.iconColor=this.dataModel.iconColor?.toString(),this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estatePropertyDetailService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.formAlert=t}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e),this.formInfo.formSubmitAllow=!0},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorSelect(e){if(!e||!e.id||e.id.length<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkPropertyTypeLanduseId=e.id}onActionSelectorDetailGroup(e){if(!e||!e.id||e.id.length<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkPropertyDetailGroupId=e.id}onIconPickerSelect(e){this.dataModel.iconFont=e}onFormSubmit(){if(this.formGroup.valid){if(this.dataModel.configValueDefaultValueJson="",this.keywordDefaultDataModel&&this.keywordDefaultDataModel.length>0){let e=[];this.keywordDefaultDataModel.forEach(i=>{i.display?e.push(i.display):e.push(i)}),e&&e.length>0&&(this.dataModel.configValueDefaultValueJson=e.join(","))}if(this.dataModel.configValueNullValueJson="",this.keywordNullDataModel&&this.keywordNullDataModel.length>0){let e=[];this.keywordNullDataModel.forEach(i=>{i.display?e.push(i.display):e.push(i)}),e&&e.length>0&&(this.dataModel.configValueNullValueJson=e.join(","))}this.formInfo.formSubmitAllow=!1,this.DataEditContent()}}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}addTagDefault(e){let i=(e.value||"").trim();i&&this.keywordDefaultDataModel.push(i),e.chipInput.clear()}removeTagDefault(e){let i=this.keywordDefaultDataModel.indexOf(e);i>=0&&this.keywordDefaultDataModel.splice(i,1)}addTagNull(e){let i=(e.value||"").trim();i&&this.keywordNullDataModel.push(i),e.chipInput.clear()}removeTagNull(e){let i=this.keywordNullDataModel.indexOf(e);i>=0&&this.keywordNullDataModel.splice(i,1)}};Ys.\u0275fac=function(i){return new(i||Ys)(v(be),v(Me),v(J),v(Fr),v(V),v(F),v(B),v(L))},Ys.\u0275cmp=R({type:Ys,selectors:[["app-estate-property-detail-edit"]],viewQuery:function(i,t){if(i&1&&ee(N9,5),i&2){let s;te(s=ie())&&(t.formGroup=s.first)}},standalone:!1,features:[ne],decls:72,vars:71,consts:[["vform","ngForm"],["Title",""],["Unit",""],["chipList",""],["Description",""],["IconFont",""],["iconColor",""],["iconColorPicker",""],["ShowInFormOrder",""],["ConfigValueIntValueMax",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","fa fa-times  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],[4,"ngIf"],[3,"optionChange","optionSelectForce","optionPlaceholder","optionDisabled"],[3,"optionChange","optionSelectForce","optionSelectParentForce","optionPlaceholder","optionDisabled"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[3,"optionDataListResult","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],["for","dataModel.unit",1,"color-highlight"],["matInput","","type","text","name","dataModel.unit","minlength","1","maxlength","64","id","dataModel.unit",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","d-flex mb-3",4,"ngIf"],["appearance","fill",1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4",2,"width","100%"],[1,"color-highlight"],["aria-label","'TITLE.key_word'|translate"],[3,"removed",4,"ngFor","ngForOf"],[3,"matChipInputTokenEnd","placeholder","matChipInputFor","matChipInputSeparatorKeyCodes","matChipInputAddOnBlur"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","form-actions",4,"ngIf"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.iconFont",1,"color-highlight"],["matInput","","type","text","name","dataModel.iconFont","type","text","id","dataModel.iconFont",1,"form-control","validate-name",3,"ngModelChange","iconPickerSelect","ngModel","iconPicker","ipIconPack","ipPosition","placeholder","disabled"],[1,"input-group-addon"],[3,"ngClass"],["for","dataModel.iconColor",1,"color-highlight"],[1,"row","mb-0"],[1,"col-11","pe-0"],["matInput","","type","text","name","dataModel.iconColor","type","text","id","dataModel.iconColor",1,"form-control","validate-name",3,"ngModelChange","ngModel","ngxMatColorPicker","placeholder","disabled"],[1,"col-1","ps-0"],["matSuffix","",3,"for"],[3,"touchUi","color"],["for","dataModel.showInFormOrder",1,"color-highlight"],["matInput","","type","number","name","dataModel.showInFormOrder","id","dataModel.showInFormOrder",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[3,"modelChange","optionDataListResult","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.configValueIntValueMin",1,"color-highlight"],["matInput","","type","number","name","dataModel.configValueIntValueMin","id","dataModel.configValueIntValueMin",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.configValueIntValueMax",1,"color-highlight"],["matInput","","type","number","name","dataModel.configValueIntValueMax","id","dataModel.configValueIntValueMax",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.invisibleForEndUser",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.invisibleForEndUser","name","dataModel.invisibleForEndUser",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.invisibleForEndUser",1,"custom-control-label"],["data-trigger-switch","dataModel.invisibleForSubmiter",1,"font-600","font-14"],["type","checkbox","id","dataModel.invisibleForSubmiter","name","dataModel.invisibleForSubmiter",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.invisibleForSubmiter",1,"custom-control-label"],["data-trigger-switch","dataModel.required",1,"font-600","font-14"],["type","checkbox","id","dataModel.required","name","dataModel.required",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.required",1,"custom-control-label"],["data-trigger-switch","dataModel.isHistoryable",1,"font-600","font-14"],["type","checkbox","id","dataModel.isHistoryable","name","dataModel.isHistoryable",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.isHistoryable",1,"custom-control-label"],["data-trigger-switch","dataModel.showInFastSearch",1,"font-600","font-14"],["type","checkbox","id","dataModel.showInFastSearch","name","dataModel.showInFastSearch",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.showInFastSearch",1,"custom-control-label"],["data-trigger-switch","dataModel.configValueForceUseDefaultValue",1,"font-600","font-14"],["type","checkbox","id","dataModel.configValueForceUseDefaultValue","name","dataModel.configValueForceUseDefaultValue",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.configValueForceUseDefaultValue",1,"custom-control-label"],["data-trigger-switch","dataModel.configValueMultipleChoice",1,"font-600","font-14"],["type","checkbox","id","dataModel.configValueMultipleChoice","name","dataModel.configValueMultipleChoice",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.configValueMultipleChoice",1,"custom-control-label"],[3,"removed"],["type","button","matChipRemove",""],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=I();r(0,"div",10),C(1,"app-progress-spinner",11),r(2,"div",12)(3,"p",13),c(4),a(),r(5,"p"),c(6),_(7,"translate"),a(),r(8,"form",14,0),E("ngSubmit",function(){return u(s),f(t.onFormSubmit())}),r(10,"div",15)(11,"label",16),c(12),a(),r(13,"input",17,1),w("ngModelChange",function(p){return u(s),T(t.dataModel.title,p)||(t.dataModel.title=p),f(p)}),a(),S(15,W9,1,0,"i",18)(16,G9,1,0,"i",19),r(17,"em"),c(18),a(),S(19,U9,5,3,"mat-error",20),a(),r(20,"app-estate-property-type-landuse-selector",21),_(21,"translate"),E("optionChange",function(p){return u(s),f(t.onActionSelectorSelect(p))}),C(22,"br"),a(),r(23,"app-estate-property-detail-group-selector",22),_(24,"translate"),E("optionChange",function(p){return u(s),f(t.onActionSelectorDetailGroup(p))}),a(),S(25,j9,7,10,"div",23)(26,q9,11,11,"div",23)(27,Q9,5,5,"div",23)(28,z9,1,6,"app-cms-enum-x-selector",24),r(29,"div",15)(30,"label",25),c(31),a(),r(32,"input",26,2),w("ngModelChange",function(p){return u(s),T(t.dataModel.unit,p)||(t.dataModel.unit=p),f(p)}),a(),r(34,"em"),c(35),a()(),S(36,Y9,7,5,"div",23)(37,K9,7,5,"div",23)(38,Z9,8,2,"div",27)(39,J9,8,2,"div",27)(40,X9,8,2,"div",27)(41,$9,8,2,"div",27)(42,eN,8,2,"div",27)(43,tN,8,2,"div",27)(44,iN,8,2,"div",27),r(45,"div",28)(46,"label",29),c(47),_(48,"translate"),a(),r(49,"mat-chip-grid",30,3),S(51,nN,5,1,"mat-chip",31),r(52,"input",32),_(53,"translate"),E("matChipInputTokenEnd",function(p){return u(s),f(t.addTagDefault(p))}),a()()(),r(54,"div",28)(55,"label",29),c(56),_(57,"translate"),a(),r(58,"mat-chip-grid",30,3),S(60,oN,5,1,"mat-chip",31),r(61,"input",32),_(62,"translate"),E("matChipInputTokenEnd",function(p){return u(s),f(t.addTagNull(p))}),a()()(),r(63,"div",15)(64,"label",33),c(65),a(),r(66,"textarea",34,4),w("ngModelChange",function(p){return u(s),T(t.dataModel.description,p)||(t.dataModel.description=p),f(p)}),a(),r(68,"em"),c(69),a(),S(70,rN,5,3,"mat-error",20),a(),S(71,aN,9,7,"div",35),a()()()}if(i&2){let s=k(14),h=k(33),p=k(50),D=k(67);o(),d("optionsInfoAreaId",t.constructorInfoAreaId),o(3),y(" ",t.formInfo.formTitle," "),o(2),y(" ",g(7,57,"TITLE.Be_Careful_When_Entering_Information")," "),o(6),M(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),b("ngModel",t.dataModel.title),o(2),d("ngIf",!s.value),o(),d("ngIf",s.value),o(2),y("",s.value.length," / 100"),o(),d("ngIf",s.errors==null?null:s.errors.required),o(),d("optionSelectForce",t.dataModel.linkPropertyTypeLanduseId)("optionPlaceholder",g(21,59,"TITLE.USER"))("optionDisabled",!(t.fieldsInfo.linkPropertyTypeLanduseId!=null&&t.fieldsInfo.linkPropertyTypeLanduseId.accessEditField)),o(3),d("optionSelectForce",t.dataModel.linkPropertyDetailGroupId)("optionSelectParentForce",t.dataModel.linkPropertyTypeLanduseId)("optionPlaceholder",g(24,61,"TITLE.Category"))("optionDisabled",!(t.fieldsInfo.linkPropertyDetailGroupId!=null&&t.fieldsInfo.linkPropertyDetailGroupId.accessEditField)),o(2),d("ngIf",t.fieldsInfo.iconFont==null?null:t.fieldsInfo.iconFont.accessWatchField),o(),d("ngIf",t.fieldsInfo.iconColor==null?null:t.fieldsInfo.iconColor.accessWatchField),o(),d("ngIf",t.fieldsInfo.showInFormOrder==null?null:t.fieldsInfo.showInFormOrder.accessWatchField),o(),d("ngIf",t.fieldsInfo.inputDataType==null?null:t.fieldsInfo.inputDataType.accessWatchField),o(3),M(t.fieldsInfo.unit==null?null:t.fieldsInfo.unit.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.unit==null?null:t.fieldsInfo.unit.fieldTitle)),b("ngModel",t.dataModel.unit),o(3),y("",h.value.length," / 64"),o(),d("ngIf",t.dataModel.inputDataType===1||t.dataModel.inputDataType===3),o(),d("ngIf",t.dataModel.inputDataType===1||t.dataModel.inputDataType===3),o(),d("ngIf",t.fieldsInfo.invisibleForEndUser==null?null:t.fieldsInfo.invisibleForEndUser.accessWatchField),o(),d("ngIf",t.fieldsInfo.invisibleForSubmiter==null?null:t.fieldsInfo.invisibleForSubmiter.accessWatchField),o(),d("ngIf",t.fieldsInfo.required==null?null:t.fieldsInfo.required.accessWatchField),o(),d("ngIf",t.fieldsInfo.isHistoryable==null?null:t.fieldsInfo.isHistoryable.accessWatchField),o(),d("ngIf",t.fieldsInfo.showInFastSearch==null?null:t.fieldsInfo.showInFastSearch.accessWatchField),o(),d("ngIf",t.fieldsInfo.configValueForceUseDefaultValue==null?null:t.fieldsInfo.configValueForceUseDefaultValue.accessWatchField),o(),d("ngIf",t.dataModel.configValueForceUseDefaultValue&&(t.fieldsInfo.configValueMultipleChoice==null?null:t.fieldsInfo.configValueMultipleChoice.accessWatchField)),o(3),M(g(48,63,"TITLE.Choose_keywords_relative_to_the_content")),o(4),d("ngForOf",t.keywordDefaultDataModel),o(),d("placeholder",ve("",g(53,65,"TITLE.key_word"),"+"))("matChipInputFor",p)("matChipInputSeparatorKeyCodes",t.separatorKeysCodes)("matChipInputAddOnBlur",t.addOnBlurTag),o(4),M(g(57,67,"TITLE.Choose_keywords_relative_to_null_content")),o(4),d("ngForOf",t.keywordNullDataModel),o(),d("placeholder",ve("",g(62,69,"TITLE.key_word"),"+"))("matChipInputFor",p)("matChipInputSeparatorKeyCodes",t.separatorKeysCodes)("matChipInputAddOnBlur",t.addOnBlurTag),o(4),M(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),b("ngModel",t.dataModel.description),o(3),y("",D.value.length," / 500"),o(),d("ngIf",D.errors==null?null:D.errors.required),o(),d("ngIf",t.formInfo.formSubmitAllow)}},dependencies:[se,Ne,N,ke,Y,Ot,Ht,q,Te,de,De,Ae,ce,Pe,bi,Ti,wi,Mi,we,et,Ee,Q,Wo,U,ni,$t,Xt,Jt,_i,Qs,O],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});var fp=Ys;function lN(n,l){if(n&1){let e=I();r(0,"button",13),E("click",function(){u(e);let t=m();return f(t.onActionAdd())}),c(1),_(2,"translate"),a()}n&2&&(o(),M(g(2,1,"ACTION.ADD")))}function sN(n,l){if(n&1){let e=I();r(0,"button",14),E("click",function(){u(e);let t=m();return f(t.onActionEdit())}),c(1),_(2,"translate"),a()}n&2&&(o(),M(g(2,1,"ACTION.EDIT")))}function dN(n,l){if(n&1){let e=I();r(0,"button",15),E("click",function(){u(e);let t=m();return f(t.onActionDelete())}),c(1),_(2,"translate"),a()}n&2&&(o(),M(g(2,1,"ACTION.DELETE")))}function cN(n,l){if(n&1){let e=I();r(0,"button",16),E("click",function(){u(e);let t=m();return f(t.onActionButtonReload())}),r(1,"mat-icon",17),_(2,"translate"),c(3,"refresh"),a()()}n&2&&(o(),d("title",x(g(2,2,"ACTION.RELOAD"))))}function pN(n,l){if(n&1){let e=I();r(0,"mat-tree-node",18),E("click",function(){let t=u(e).$implicit,s=m();return f(s.onActionSelect(t))}),C(1,"button",19)(2,"i",20),c(3),a()}if(n&2){let e=l.$implicit,i=l.dataIndex,t=m();Se("ntk-tree-odd",i%2)("ntk-tree-even",!(i%2))("ntk-tree-selected",(t.dataModelSelect.id==null?null:t.dataModelSelect.id.length)>0&&t.dataModelSelect.id===e.id),o(2),ye("color",e.IconColor),d("ngClass",e.IconFont),o(),y(" ",e.title," ")}}function mN(n,l){if(n&1){let e=I();r(0,"mat-nested-tree-node")(1,"li")(2,"div",21),E("click",function(){let t=u(e).$implicit,s=m();return f(s.onActionSelect(t))}),r(3,"button",22),E("click",function(){let t=u(e).$implicit,s=m();return f(s.onActionSelect(t))}),r(4,"mat-icon",23),c(5),a()(),C(6,"i",20),c(7),a(),r(8,"ul"),Qe(9,24),a()()()}if(n&2){let e=l.$implicit,i=m();o(2),Se("ntk-tree-selected",(i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0&&i.dataModelSelect.id===e.id),o(),yt("aria-label","Toggle "+e.title),o(2),y(" ",i.treeControl.isExpanded(e)?"expand_more":"chevron_right"," "),o(),ye("color",e.IconColor),d("ngClass",e.IconFont),o(),y(" ",e.title," "),o(),Se("category-tree-invisible",!i.treeControl.isExpanded(e))}}var Ks=class Ks{constructor(l,e,i,t,s,h,p,D,z,he){this.cmsToastrService=l;this.coreEnumService=e;this.categoryService=i;this.cmsConfirmationDialogService=t;this.dialog=s;this.cdr=h;this.publicHelper=p;this.translate=D;this.tokenHelper=z;this.cmsStoreService=he;this.requestLinkPropertyTypeLanduseId="";this.constructorInfoAreaId=this.constructor.name;this.dataModelSelect=new Ln;this.dataModelResult=new G;this.filterModel=new pe;this.treeControl=new xo(l=>null);this.dataSource=new Oo;this.optionChange=new Xe;this.optionReload=()=>this.onActionButtonReload();this.hasChild=(l,e)=>!1;this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(l){this.onActionSelectForce(l)}set optionLinkPropertyTypeLanduseId(l){if(this.requestLinkPropertyTypeLanduseId=l,this.filterModel=new pe,l&&l.length>0){let e=new H;e.propertyName="LinkPropertyTypeLanduseId",e.value=l,this.filterModel.filters.push(e)}}ngOnInit(){setTimeout(()=>{this.DataGetAll()},500),this.cmsApiStoreSubscribe=this.cmsStoreService.getState(l=>l.tokenInfoStore).subscribe(l=>re(this,null,function*(){this.DataGetAll()}))}ngOnDestroy(){this.cmsApiStoreSubscribe&&this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.filterModel.rowPerPage=200,this.filterModel.accessLoad=!0;let l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(l,e,this.constructorInfoAreaId)}),this.categoryService.ServiceGetAll(this.filterModel).subscribe({next:e=>{e.isSuccess?(this.dataModelResult=e,this.dataSource.data=this.dataModelResult.listItems):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(l)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(l,!1)}})}onActionSelect(l){this.dataModelSelect=l,this.optionChange.emit(this.dataModelSelect)}onActionButtonReload(){this.onActionSelect(null),this.dataModelSelect=new Ln,this.DataGetAll()}onActionSelectForce(l){}onActionAdd(){var l="";this.publicHelper.isMobile?l="dialog-fullscreen":l="dialog-min",this.dialog.open(Gs,{height:"90%",panelClass:l,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{linkPropertyTypeLanduseId:this.requestLinkPropertyTypeLanduseId}}).afterClosed().subscribe(i=>{i&&i.dialogChangedDate&&this.DataGetAll()})}onActionEdit(){let l="";if(this.dataModelSelect&&this.dataModelSelect.id&&this.dataModelSelect.id.length>0&&(l=this.dataModelSelect.id),l===""){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorCategoryNotSelected").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(js,{height:"90%",panelClass:e,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:l}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionDelete(){let l="";if(this.dataModelSelect&&this.dataModelSelect.id&&this.dataModelSelect.id.length>0&&(l=this.dataModelSelect.id),l===""){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorCategoryNotSelected").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}var e="",i="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(t=>{e=t["MESSAGE.Please_Confirm"],i=t["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.dataModelSelect.title+" ) "}),this.cmsConfirmationDialogService.confirm(e,i).then(t=>{if(t){let s=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(h=>{this.publicHelper.processService.processStart(s,h,this.constructorInfoAreaId)}),this.categoryService.ServiceDelete(this.dataModelSelect.id).subscribe({next:h=>{h.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(s)},error:h=>{this.cmsToastrService.typeError(h),this.publicHelper.processService.processStop(s,!1)}})}}).catch(()=>{})}};Ks.\u0275fac=function(e){return new(e||Ks)(v(V),v(J),v(hi),v(Mt),v(xe),v(B),v(F),v(L),v(K),v(Z))},Ks.\u0275cmp=R({type:Ks,selectors:[["app-estate-property-detail-group-tree"]],inputs:{optionSelectForce:"optionSelectForce",optionLinkPropertyTypeLanduseId:"optionLinkPropertyTypeLanduseId",optionReload:"optionReload"},outputs:{optionChange:"optionChange"},standalone:!1,decls:15,vars:14,consts:[[3,"optionHeaderDisplay","optionActionMainDisplay","optionFooterDisplay"],["cms-tree-header",""],["cms-tree-action",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-teal",3,"click",4,"ngIf"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-magenta",3,"click",4,"ngIf"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-red",3,"click",4,"ngIf"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-highlight",3,"click",4,"ngIf"],["cms-tree-body","",1,"loader-container"],[3,"optionsInfoAreaId"],[1,"category-tree","cursor-pointer",3,"dataSource","treeControl"],["matTreeNodePadding","",3,"ntk-tree-odd","ntk-tree-even","ntk-tree-selected","click",4,"matTreeNodeDef"],[4,"matTreeNodeDef","matTreeNodeDefWhen"],["cms-tree-footer",""],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[2,"font-size","20px","margin","-6px",3,"title"],["matTreeNodePadding","",3,"click"],["type","button","mat-icon-button","","disabled",""],["aria-hidden","true",3,"ngClass"],[1,"mat-tree-node",3,"click"],["type","button","mat-icon-button","","matTreeNodeToggle","",3,"click"],[1,"mat-icon-rtl-mirror"],["matTreeNodeOutlet",""]],template:function(e,i){e&1&&(r(0,"app-cms-html-tree",0),A(1,1),c(2),_(3,"translate"),P(),A(4,2),S(5,lN,3,3,"button",3)(6,sN,3,3,"button",4)(7,dN,3,3,"button",5)(8,cN,4,4,"button",6),P(),A(9,7),C(10,"app-progress-spinner",8),r(11,"mat-tree",9),S(12,pN,4,10,"mat-tree-node",10)(13,mN,10,10,"mat-nested-tree-node",11),a(),P(),Qe(14,12),a()),e&2&&(d("optionHeaderDisplay",!0)("optionActionMainDisplay",!0)("optionFooterDisplay",!1),o(2),y(" ",g(3,12,"TABLE."+(i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.moduleEntityName))," "),o(3),d("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessAddRow),o(),d("ngIf",(i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessEditRow)&&(i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0),o(),d("ngIf",(i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessDeleteRow)&&(i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0),o(),d("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessWatchRow),o(2),d("optionsInfoAreaId",i.constructorInfoAreaId),o(),d("dataSource",i.dataSource)("treeControl",i.treeControl),o(2),d("matTreeNodeDefWhen",i.hasChild))},dependencies:[se,N,Je,Ee,ko,Po,Do,Vo,Lo,Ao,Ro,U,Ho,O],encapsulation:2});var _p=Ks;var fN=()=>[5,10,20,100];function _N(n,l){if(n&1){let e=I();r(0,"a",40),E("click",function(){u(e);let t=m();return f(t.onActionBackToParent())}),C(1,"i",41),a()}}function gN(n,l){if(n&1){let e=I();r(0,"div",42)(1,"a",43),E("click",function(){u(e);let t=m();return f(t.onActionButtonNewRow())}),C(2,"i",44)(3,"br"),a(),r(4,"p",45),c(5),_(6,"translate"),a()()}n&2&&(o(5),M(g(6,1,"ACTION.ADD")))}function hN(n,l){if(n&1){let e=I();r(0,"div",42)(1,"a",46),E("click",function(){u(e);let t=m();return f(t.onActionButtonEditRow(t.tableRowSelected))}),C(2,"i",47)(3,"br"),a(),r(4,"p",45),c(5),_(6,"translate"),a()()}n&2&&(o(5),M(g(6,1,"ACTION.EDIT")))}function yN(n,l){if(n&1){let e=I();r(0,"div",42)(1,"a",48),E("click",function(){u(e);let t=m();return f(t.onActionButtonDeleteRow(t.tableRowSelected))}),C(2,"i",49)(3,"br"),a(),r(4,"p",45),c(5),_(6,"translate"),a()()}n&2&&(o(5),M(g(6,1,"ACTION.DELETE")))}function CN(n,l){if(n&1&&(r(0,"mat-header-cell",50),c(1),a()),n&2){let e=m();o(),y(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function SN(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),y(" ",e.id," ")}}function vN(n,l){if(n&1&&(r(0,"mat-header-cell",50),c(1),a()),n&2){let e=m();o(),y(" ",e.fieldsInfo.iconFont==null?null:e.fieldsInfo.iconFont.fieldTitle," ")}}function EN(n,l){if(n&1&&(r(0,"mat-cell"),C(1,"i",51),a()),n&2){let e=l.$implicit;o(),ye("color",e.iconColor),d("ngClass",e.iconFont)}}function IN(n,l){if(n&1&&(r(0,"mat-header-cell",50),c(1),a()),n&2){let e=m();o(),y(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," ")}}function MN(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),y(" ",e.title," ")}}function bN(n,l){if(n&1&&(r(0,"mat-header-cell",50),c(1),a()),n&2){let e=m();o(),y(" ",e.fieldsInfo.unit==null?null:e.fieldsInfo.unit.fieldTitle," ")}}function TN(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),y(" ",e.unit," ")}}function wN(n,l){if(n&1&&(r(0,"mat-header-cell",50),c(1),a()),n&2){let e=m();o(),y(" ",e.fieldsInfo.showInFormOrder==null?null:e.fieldsInfo.showInFormOrder.fieldTitle," ")}}function xN(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),y(" ",e.showInFormOrder," ")}}function AN(n,l){if(n&1&&(r(0,"mat-header-cell",50),c(1),a()),n&2){let e=m();o(),y(" ",e.fieldsInfo.linkPropertyTypeLanduseId==null?null:e.fieldsInfo.linkPropertyTypeLanduseId.fieldTitle," ")}}function PN(n,l){if(n&1&&(r(0,"mat-cell"),c(1),_(2,"cmstitle"),a()),n&2){let e=l.$implicit,i=m();o(),y(" ",oi(2,1,e.linkPropertyTypeLanduseId,i.dataModelEstatePropertyTypeLanduseResult.listItems)," ")}}function kN(n,l){if(n&1&&(r(0,"mat-header-cell",50),c(1),a()),n&2){let e=m();o(),y(" ",e.fieldsInfo.linkPropertyDetailGroupId==null?null:e.fieldsInfo.linkPropertyDetailGroupId.fieldTitle," ")}}function DN(n,l){if(n&1&&(r(0,"mat-cell"),c(1),_(2,"cmstitle"),a()),n&2){let e=l.$implicit,i=m();o(),y(" ",oi(2,1,e.linkPropertyDetailGroupId,i.dataModelEstatePropertyDetailGroupResult.listItems)," ")}}function RN(n,l){n&1&&(r(0,"mat-header-cell"),c(1),_(2,"translate"),a()),n&2&&(o(),y(" ",g(2,1,"TITLE.OPTION")," "))}function LN(n,l){if(n&1&&(r(0,"mat-cell",52)(1,"button",53)(2,"mat-icon"),c(3,"more_vert"),a()(),C(4,"mat-menu",null,2),a()),n&2){let e=k(5);o(),d("matMenuTriggerFor",e)}}function VN(n,l){n&1&&(r(0,"mat-header-cell",50),c(1,". "),a())}function ON(n,l){n&1&&(r(0,"mat-cell")(1,"mat-icon",54),c(2,"reorder"),a()())}function FN(n,l){n&1&&C(0,"mat-header-row")}function BN(n,l){if(n&1){let e=I();r(0,"mat-row",55),E("click",function(){let t=u(e).$implicit,s=m();return f(s.onActionTableRowSelect(t))}),a()}if(n&2){let e=l.$implicit,i=l.dataIndex,t=m();Se("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",e.id===(t.tableRowSelected==null?null:t.tableRowSelected.id))}}var Zs=class Zs extends bt{constructor(e,i,t,s,h,p,D,z,he,je,Ge,mt,Nt,Rt){super(e,new xr,Nt,D,Ge);this.contentService=e;this.estatePropertyDetailGroupService=i;this.estatePropertyTypeLanduseService=t;this.cmsConfirmationDialogService=s;this.activatedRoute=h;this.cmsToastrService=p;this.tokenHelper=D;this.cmsStoreService=z;this.router=he;this.cdr=je;this.translate=Ge;this.pageInfo=mt;this.publicHelper=Nt;this.dialog=Rt;this.requestLinkPropertyTypeLanduseId="";this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new pe;this.dataModelEstatePropertyTypeLanduseResult=new G;this.dataModelEstatePropertyDetailGroupResult=new G;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["IconFont","Title","Unit","ShowInFormOrder","LinkPropertyTypeLanduseId","LinkPropertyDetailGroupId"];this.tabledisplayedColumnsMobileSource=["IconFont","Title","Unit","ShowInFormOrder","LinkPropertyTypeLanduseId","LinkPropertyDetailGroupId"];this.publicHelper.processService.cdr=this.cdr,this.requestLinkPropertyTypeLanduseId=this.activatedRoute.snapshot.paramMap.get("LinkPropertyTypeLanduseId"),this.optionsSearch.parentMethods={onSubmit:Fe=>this.onSubmitOptionsSearch(Fe)},this.filteModelContent.sortColumn="ShowInFormOrder",this.filteModelContent.sortType=X.Ascending;let Ut=new H;this.requestLinkPropertyTypeLanduseId&&this.requestLinkPropertyTypeLanduseId.length>0&&(Ut.propertyName="LinkPropertyTypeLanduseId",Ut.value=this.requestLinkPropertyTypeLanduseId,this.filteModelContent.filters.push(Ut))}ngOnInit(){this.filteModelContent.sortColumn="ShowInFormOrder",this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.cmsApiStoreSubscribe=this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>re(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})),this.getPropertyType(),this.getPropertyDetailGroup()}getPropertyType(){let e=new pe;e.rowPerPage=100,this.estatePropertyTypeLanduseService.ServiceGetAll(e).subscribe({next:i=>{this.dataModelEstatePropertyTypeLanduseResult=i}})}getPropertyDetailGroup(){let e=new pe;e.rowPerPage=100,this.estatePropertyDetailGroupService.ServiceGetAll(e).subscribe({next:i=>{this.dataModelEstatePropertyDetailGroupResult=i}})}ngOnDestroy(){this.cmsApiStoreSubscribe&&this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new xr);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));if(this.categoryModelSelected&&this.categoryModelSelected.id.length>0){let t=new H;t.propertyName="LinkPropertyDetailGroupId",t.value=this.categoryModelSelected.id,i.filters.push(t)}this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),t.isSuccess?(this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=X.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=X.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=X.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onTableDropRow(e){let i=this.tableSource.data.findIndex(s=>s===e.item.data),t=new nc;t.id=this.tableSource.data[i].id,t.centerId=this.tableSource.data[e.currentIndex].id,i>e.currentIndex?t.actionGo=va.GoUp:t.actionGo=va.GoDown,this.contentService.ServiceEditStep(t).subscribe({next:s=>{s.isSuccess?(pc(this.tableSource.data,i,e.currentIndex),this.tableSource.data=this.tableSource.data.slice()):this.cmsToastrService.typeErrorMessage(s.errorMessage)},error:s=>{this.cmsToastrService.typeError(s)}})}onActionSelectorSelect(e){var i=this.filteModelContent.sortColumn,t=this.filteModelContent.sortType;this.filteModelContent=new pe,this.filteModelContent.sortColumn=i,this.filteModelContent.sortType=t,this.categoryModelSelected=e,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(up,{height:"90%",panelClass:e,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{linkPropertyTypeLanduseId:this.requestLinkPropertyTypeLanduseId,linkPropertyDetailGroupId:this.categoryModelSelected.id}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(fp,{height:"90%",panelClass:i,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(s=>{this.cmsToastrService.typeErrorSelected(s)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(s=>{i=s["MESSAGE.Please_Confirm"],t=s["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(s=>{if(s){let h=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(p=>{this.publicHelper.processService.processStart(h,p,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:p=>{p.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(h)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(h,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(p=>{i.set(p,0)}),this.translate.get("MESSAGE.All").subscribe(p=>{i.set(p,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(p=>{this.publicHelper.processService.processStart(t,p,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:p=>{p.isSuccess?(this.translate.get("MESSAGE.All").subscribe(D=>{i.set(D,p.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(p.errorMessage),this.publicHelper.processService.processStop(t)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(t,!1)}});let s=JSON.parse(JSON.stringify(this.filteModelContent)),h=new H;h.propertyName="RecordStatus",h.value=qe.Available,s.filters.push(h),this.contentService.ServiceGetCount(s).subscribe({next:p=>{p.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(D=>{i.set(D,p.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(p.errorMessage),this.publicHelper.processService.processStop(t)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0&&(this.filteModelContent.filters=[...this.filteModelContent.filters,...e]),this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/estate/property-type-landuse/"])}};Zs.\u0275fac=function(i){return new(i||Zs)(v(Fr),v(hi),v(yi),v(Mt),v(jt),v(V),v(K),v(Z),v(Ze),v(B),v(L),v(ht),v(F),v(xe))},Zs.\u0275cmp=R({type:Zs,selectors:[["app-estate-property-detail-list"]],standalone:!1,features:[ne],decls:63,vars:31,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],[3,"optionChange","optionLinkPropertyTypeLanduseId"],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","","cdkDropList","",3,"matSortChange","cdkDropListDropped","dataSource","cdkDropListData"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","IconFont"],["matColumnDef","Title"],["matColumnDef","Unit"],["matColumnDef","ShowInFormOrder"],["matColumnDef","LinkPropertyTypeLanduseId"],["matColumnDef","LinkPropertyDetailGroupId"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],["matColumnDef","position"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],[1,"col-4"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#FFFFFF"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],["aria-hidden","true",3,"ngClass"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],["cdkDragHandle","",2,"pointer-events","all"],[3,"click"]],template:function(i,t){if(i&1){let s=I();r(0,"app-cms-html-list",3),w("optionActionGuideNoticeDisplayChange",function(p){return u(s),T(t.viewGuideNotice,p)||(t.viewGuideNotice=p),f(p)}),E("optionOnActionButtonMemoRow",function(){return u(s),f(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return u(s),f(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return u(s),f(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return u(s),f(t.onActionButtonPrintRow())}),A(1,4),r(2,"app-estate-property-detail-group-tree",5),E("optionChange",function(p){return u(s),f(t.onActionSelectorSelect(p))}),a(),P(),Qe(3,6)(4,7),A(5,8),S(6,_N,2,0,"a",9),r(7,"a",10),E("click",function(){return u(s),f(t.viewGuideNotice=!t.viewGuideNotice)}),C(8,"i",11),a(),r(9,"a",10),E("click",function(){return u(s),f(t.onActionButtonReload())}),C(10,"i",12),a(),P(),A(11,13),r(12,"a",14),E("click",function(){return u(s),f(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),C(13,"mat-slide-toggle",15),c(14),_(15,"translate"),a(),r(16,"a",14),E("click",function(){return u(s),f(t.onActionButtonStatist())}),C(17,"mat-slide-toggle",15),c(18),_(19,"translate"),a(),P(),A(20,16),S(21,gN,7,3,"div",17),P(),A(22,18),S(23,hN,7,3,"div",17)(24,yN,7,3,"div",17),P(),A(25,19),r(26,"app-cms-search-list",20),w("optionsChange",function(p){return u(s),T(t.optionsSearch,p)||(t.optionsSearch=p),f(p)}),a(),r(27,"app-cms-statist-list",20),w("optionsChange",function(p){return u(s),T(t.optionsStatist,p)||(t.optionsStatist=p),f(p)}),a(),P(),A(28,21),r(29,"mat-table",22,0),E("matSortChange",function(){u(s);let p=k(30);return f(t.onTableSortData(p))})("cdkDropListDropped",function(p){return u(s),f(t.onTableDropRow(p))}),A(31,23),S(32,CN,2,1,"mat-header-cell",24)(33,SN,2,1,"mat-cell",25),P(),A(34,26),S(35,vN,2,1,"mat-header-cell",24)(36,EN,2,3,"mat-cell",25),P(),A(37,27),S(38,IN,2,1,"mat-header-cell",24)(39,MN,2,1,"mat-cell",25),P(),A(40,28),S(41,bN,2,1,"mat-header-cell",24)(42,TN,2,1,"mat-cell",25),P(),A(43,29),S(44,wN,2,1,"mat-header-cell",24)(45,xN,2,1,"mat-cell",25),P(),A(46,30),S(47,AN,2,1,"mat-header-cell",24)(48,PN,3,4,"mat-cell",25),P(),A(49,31),S(50,kN,2,1,"mat-header-cell",24)(51,DN,3,4,"mat-cell",25),P(),A(52,32),S(53,RN,3,3,"mat-header-cell",33)(54,LN,6,1,"mat-cell",34),P(),A(55,35),S(56,VN,2,0,"mat-header-cell",24)(57,ON,3,0,"mat-cell",25),P(),S(58,FN,1,0,"mat-header-row",36)(59,BN,1,6,"mat-row",37),a(),P(),A(60,38),r(61,"mat-paginator",39,1),E("page",function(p){return u(s),f(t.onTablePageingData(p))}),a(),P(),a()}i&2&&(d("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),b("optionActionGuideNoticeDisplay",t.viewGuideNotice),d("optionTreeDisplay",!0)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelectDoubleClick)("optionSelectRowItemTitle",(t.tableRowSelected==null||t.tableRowSelected.title==null?null:t.tableRowSelected.title.length)>0?t.tableRowSelected==null?null:t.tableRowSelected.title:t.tableRowSelected==null?null:t.tableRowSelected.id),o(2),d("optionLinkPropertyTypeLanduseId",t.requestLinkPropertyTypeLanduseId),o(4),d("ngIf",(t.requestLinkPropertyTypeLanduseId==null?null:t.requestLinkPropertyTypeLanduseId.length)>0),o(7),d("checked",t.optionsSearch.data.show),o(),y("",g(15,26,"ACTION.SEARCH")," "),o(3),d("checked",t.optionsStatist.data.show),o(),y("",g(19,28,"ACTION.STATIST")," "),o(3),d("ngIf",(t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessAddRow)&&(t.categoryModelSelected==null?null:t.categoryModelSelected.id.length)>0),o(2),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),o(),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),o(2),b("options",t.optionsSearch),o(),b("options",t.optionsStatist),o(2),d("dataSource",t.tableSource)("cdkDropListData",t.tableSource),o(29),d("matHeaderRowDef",t.tabledisplayedColumns),o(),d("matRowDefColumns",t.tabledisplayedColumns),o(2),d("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",le(30,fN)))},dependencies:[se,N,Je,Ee,At,Pt,vt,gt,Et,It,it,ot,st,rt,nt,dt,at,lt,ct,pt,Tt,wt,xt,uc,mc,_p,O,On],encapsulation:2});var Hd=Zs;var NN=["vform"],HN=n=>({direction:n});function WN(n,l){if(n&1){let e=I();r(0,"app-cms-enum-record-status-selector",34),w("modelChange",function(t){u(e);let s=m();return T(s.dataModel.recordStatus,t)||(s.dataModel.recordStatus=t),f(t)}),a()}if(n&2){let e=m();b("model",e.dataModel.recordStatus),d("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function GN(n,l){if(n&1){let e=I();r(0,"app-cms-enum-x-selector",35),w("modelChange",function(t){u(e);let s=m();return T(s.dataModel.expertPriceType,t)||(s.dataModel.expertPriceType=t),f(t)}),a()}if(n&2){let e=m();d("optionDataListResult",e.dataModelEstatePropertyExpertPriceTypeEnumResult),b("model",e.dataModel.expertPriceType),d("optionDisabled",!1)("optionLabel",e.fieldsInfo.expertPriceType==null?null:e.fieldsInfo.expertPriceType.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function UN(n,l){if(n&1){let e=I();r(0,"mat-icon",36),E("click",function(){u(e);let t=m();return f(t.dataModel.linkContractTypeId=null)}),c(1,"close "),a()}}function jN(n,l){if(n&1){let e=I();r(0,"mat-icon",36),E("click",function(){u(e);let t=m();return f(t.dataModel.linkPropertyTypeUsageId=null)}),c(1,"close "),a()}}function qN(n,l){if(n&1){let e=I();r(0,"mat-icon",36),E("click",function(){u(e);let t=m();return f(t.onActionSelectorSelectLanduse(null))}),c(1,"close "),a()}}function QN(n,l){if(n&1){let e=I();r(0,"tr")(1,"td")(2,"div",23)(3,"label",38),c(4),a(),r(5,"input",39,3),w("ngModelChange",function(t){u(e);let s=m(2);return T(s.dataModel.salePriceMin,t)||(s.dataModel.salePriceMin=t),f(t)}),a()()(),r(7,"td")(8,"div",23)(9,"label",40),c(10),a(),r(11,"input",41,4),w("ngModelChange",function(t){u(e);let s=m(2);return T(s.dataModel.salePriceMax,t)||(s.dataModel.salePriceMax=t),f(t)}),a()()(),r(13,"td")(14,"div",23)(15,"label",42),c(16),a(),r(17,"input",43,5),w("ngModelChange",function(t){u(e);let s=m(2);return T(s.dataModel.salePriceAverage,t)||(s.dataModel.salePriceAverage=t),f(t)}),a()()()()}if(n&2){let e=m(2);o(4),M(e.fieldsInfo.salePriceMin==null?null:e.fieldsInfo.salePriceMin.fieldTitle),o(),b("ngModel",e.dataModel.salePriceMin),o(5),M(e.fieldsInfo.salePriceMax==null?null:e.fieldsInfo.salePriceMax.fieldTitle),o(),b("ngModel",e.dataModel.salePriceMax),o(5),M(e.fieldsInfo.salePriceAverage==null?null:e.fieldsInfo.salePriceAverage.fieldTitle),o(),b("ngModel",e.dataModel.salePriceAverage)}}function zN(n,l){if(n&1){let e=I();r(0,"tr")(1,"td")(2,"div",23)(3,"label",44),c(4),a(),r(5,"input",45,6),w("ngModelChange",function(t){u(e);let s=m(2);return T(s.dataModel.rentPriceMin,t)||(s.dataModel.rentPriceMin=t),f(t)}),a()()(),r(7,"td")(8,"div",23)(9,"label",46),c(10),a(),r(11,"input",47,7),w("ngModelChange",function(t){u(e);let s=m(2);return T(s.dataModel.rentPriceMax,t)||(s.dataModel.rentPriceMax=t),f(t)}),a()()(),r(13,"td")(14,"div",23)(15,"label",48),c(16),a(),r(17,"input",49,8),w("ngModelChange",function(t){u(e);let s=m(2);return T(s.dataModel.rentPriceAverage,t)||(s.dataModel.rentPriceAverage=t),f(t)}),a()()()()}if(n&2){let e=m(2);o(4),M(e.fieldsInfo.rentPriceMin==null?null:e.fieldsInfo.rentPriceMin.fieldTitle),o(),b("ngModel",e.dataModel.rentPriceMin),o(5),M(e.fieldsInfo.rentPriceMax==null?null:e.fieldsInfo.rentPriceMax.fieldTitle),o(),b("ngModel",e.dataModel.rentPriceMax),o(5),M(e.fieldsInfo.rentPriceAverage==null?null:e.fieldsInfo.rentPriceAverage.fieldTitle),o(),b("ngModel",e.dataModel.rentPriceAverage)}}function YN(n,l){if(n&1){let e=I();r(0,"tr")(1,"td")(2,"div",23)(3,"label",50),c(4),a(),r(5,"input",51,9),w("ngModelChange",function(t){u(e);let s=m(2);return T(s.dataModel.depositPriceMin,t)||(s.dataModel.depositPriceMin=t),f(t)}),a()()(),r(7,"td")(8,"div",23)(9,"label",52),c(10),a(),r(11,"input",53,10),w("ngModelChange",function(t){u(e);let s=m(2);return T(s.dataModel.depositPriceMax,t)||(s.dataModel.depositPriceMax=t),f(t)}),a()()(),r(13,"td")(14,"div",23)(15,"label",54),c(16),a(),r(17,"input",55,11),w("ngModelChange",function(t){u(e);let s=m(2);return T(s.dataModel.depositPriceAverage,t)||(s.dataModel.depositPriceAverage=t),f(t)}),a()()()()}if(n&2){let e=m(2);o(4),M(e.fieldsInfo.depositPriceMin==null?null:e.fieldsInfo.depositPriceMin.fieldTitle),o(),b("ngModel",e.dataModel.depositPriceMin),o(5),M(e.fieldsInfo.depositPriceMax==null?null:e.fieldsInfo.depositPriceMax.fieldTitle),o(),b("ngModel",e.dataModel.depositPriceMax),o(5),M(e.fieldsInfo.depositPriceAverage==null?null:e.fieldsInfo.depositPriceAverage.fieldTitle),o(),b("ngModel",e.dataModel.depositPriceAverage)}}function KN(n,l){if(n&1){let e=I();r(0,"tr")(1,"td")(2,"div",23)(3,"label",56),c(4),a(),r(5,"input",57,12),w("ngModelChange",function(t){u(e);let s=m(2);return T(s.dataModel.periodPriceMin,t)||(s.dataModel.periodPriceMin=t),f(t)}),a()()(),r(7,"td")(8,"div",23)(9,"label",58),c(10),a(),r(11,"input",59,13),w("ngModelChange",function(t){u(e);let s=m(2);return T(s.dataModel.periodPriceMax,t)||(s.dataModel.periodPriceMax=t),f(t)}),a()()(),r(13,"td")(14,"div",23)(15,"label",60),c(16),_(17,"translate"),a(),r(18,"input",61,14),w("ngModelChange",function(t){u(e);let s=m(2);return T(s.dataModel.periodPriceAverage,t)||(s.dataModel.periodPriceAverage=t),f(t)}),a()()()()}if(n&2){let e=m(2);o(4),M(e.fieldsInfo.periodPriceMin==null?null:e.fieldsInfo.periodPriceMin.fieldTitle),o(),b("ngModel",e.dataModel.periodPriceMin),o(5),M(e.fieldsInfo.periodPriceMax==null?null:e.fieldsInfo.periodPriceMax.fieldTitle),o(),b("ngModel",e.dataModel.periodPriceMax),o(5),M(g(17,6,"TITLE.Period_Price_Average")),o(2),b("ngModel",e.dataModel.periodPriceAverage)}}function ZN(n,l){if(n&1&&(r(0,"div")(1,"table",37),S(2,QN,19,6,"tr",30)(3,zN,19,6,"tr",30)(4,YN,19,6,"tr",30)(5,KN,20,8,"tr",30),a()()),n&2){let e=m();o(2),d("ngIf",e.contractTypeSelected.hasSalePrice),o(),d("ngIf",e.contractTypeSelected.hasRentPrice),o(),d("ngIf",e.contractTypeSelected.hasDepositPrice),o(),d("ngIf",e.contractTypeSelected.hasPeriodPrice)}}function JN(n,l){n&1&&(r(0,"mat-error"),c(1," Description is "),r(2,"strong"),c(3),_(4,"translate"),a()()),n&2&&(o(3),M(g(4,1,"MESSAGE.required")))}function XN(n,l){if(n&1){let e=I();r(0,"div",62)(1,"button",63),E("click",function(){u(e);let t=m();return f(t.onFormCancel())}),C(2,"i",64),c(3),_(4,"translate"),a(),r(5,"button",65),C(6,"i",66),c(7),_(8,"translate"),a()()}if(n&2){m();let e=k(9);o(3),y(" ",g(4,3,"ACTION.CANCEL")," "),o(2),d("disabled",!e.form.valid),o(2),y(" ",g(8,5,"ACTION.SAVE")," ")}}var Js=class Js extends Dt{constructor(e,i,t,s,h,p,D,z,he,je,Ge){super(s,new Ar,p,Ge);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.estatePropertyExpertPriceService=s;this.cmsToastrService=h;this.publicHelper=p;this.cdr=D;this.estateEnumService=z;this.cmsStoreService=he;this.tokenHelper=je;this.translate=Ge;this.requestTargetCategoryId=0;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.tokenInfo=new St;this.dataModelResult=new G;this.dataModel=new Ar;this.dataModelEstatePropertyExpertPriceTypeEnumResult=new G;this.formInfo=new me;this.PropertyTypeSelected=new Gt;this.dataModelCorCurrencySelector=new Di;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore}ngOnInit(){this.translate.get("TITLE.Register_New_Categories").subscribe(e=>{this.formInfo.formTitle=e}),this.getEstatePropertyExpertPriceTypeEnum(),this.DataGetAccess()}getEstatePropertyExpertPriceTypeEnum(){this.estateEnumService.ServiceEstatePropertyExpertPriceTypeEnum().subscribe({next:e=>{this.dataModelEstatePropertyExpertPriceTypeEnumResult=e}})}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estatePropertyExpertPriceService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.formAlert=t}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorSelectUsage(e){if(!e||!e.id||e.id.length<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(i=>{this.cmsToastrService.typeWarningSelected(i)});return}this.dataModel.linkPropertyTypeUsageId=e.id}onActionSelectorSelectLanduse(e){if(this.PropertyTypeSelected=null,this.dataModel.linkPropertyTypeLanduseId=null,!e||!e.id||e.id.length<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(i=>{this.cmsToastrService.typeWarningSelected(i)});return}this.PropertyTypeSelected=e,this.dataModel.linkPropertyTypeLanduseId=e.id}onActionSelectorContarctType(e){if(this.dataModel.linkContractTypeId=null,this.contractTypeSelected=null,!e||!e.id||e.id.length<=0){this.translate.get("MESSAGE.Type_of_property_transaction_is_not_known").subscribe(i=>{this.cmsToastrService.typeWarningSelected(i)});return}this.contractTypeSelected=e,this.dataModel.linkContractTypeId=e.id,this.dataModel.rentPriceMin=0,this.dataModel.rentPriceMax=0,this.dataModel.rentPriceAverage=0,this.dataModel.salePriceMin=0,this.dataModel.salePriceMax=0,this.dataModel.salePriceAverage=0,this.dataModel.depositPriceMin=0,this.dataModel.depositPriceMax=0,this.dataModel.depositPriceAverage=0,this.dataModel.periodPriceMin=0,this.dataModel.periodPriceMax=0,this.dataModel.periodPriceAverage=0}onActionSelectorLocation(e){this.dataModel.linkLocationId=null,e&&e.id>0&&(this.dataModel.linkLocationId=e.id)}onActionSelectCurrency(e){if(!e||e.id<=0){this.dataModelCorCurrencySelector=null,this.dataModel.linkCoreCurrencyId=null;return}this.dataModelCorCurrencySelector=e,this.dataModel.linkCoreCurrencyId=e.id}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Js.\u0275fac=function(i){return new(i||Js)(v(be),v(Me),v(J),v(Co),v(V),v(F),v(B),v(sn),v(Z),v(K),v(L))},Js.\u0275cmp=R({type:Js,selectors:[["app-estate-property-expert-price-add"]],viewQuery:function(i,t){if(i&1&&ee(NN,5),i&2){let s;te(s=ie())&&(t.formGroup=s.first)}},standalone:!1,features:[ne],decls:46,vars:53,consts:[["vform","ngForm"],["CreatedYaer",""],["Description",""],["SalePriceMin",""],["SalePriceMax",""],["SalePriceAverage",""],["RentPriceMin",""],["RentPriceMax",""],["RentPriceAverage",""],["DepositPriceMin",""],["DepositPriceMax",""],["DepositPriceAverage",""],["PeriodPriceMin",""],["PeriodPriceMax",""],["PeriodPriceAverage",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit","ngStyle"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionDataListResult","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionChange","optionSelectForce","optionPlaceholder","optionDisabled"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.CreatedYaer",1,"color-highlight"],["type","number","name","dataModel.CreatedYaer","placeholder","0","id","dataModel.createdYaer",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[3,"optionChange","optionSelectFirstItem","optionSelectForce","optionPlaceholder"],[3,"optionChange","optionTypeView","optionDisabled","optionSelectForce","optionPlaceholder"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],[3,"optionChange","optionDisabled","optionTypeView","optionSelectForce","optionPlaceholder"],[4,"ngIf"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","1000","rows","5","required","","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"modelChange","optionDataListResult","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"],["cellspacing","0",1,"ntk-full-width"],["for","dataModel.salePriceMin",1,"color-highlight"],["matInput","","name","dataModel.salePriceMin","type","number","placeholder","0","id","dataModel.salePriceMin",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel"],["for","dataModel.salePriceMax",1,"color-highlight"],["matInput","","name","dataModel.salePriceMax","type","number","placeholder","0","id","dataModel.salePriceMax",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel"],["for","dataModel.salePriceAverage",1,"color-highlight"],["matInput","","name","dataModel.salePriceAverage","type","number","placeholder","0","id","dataModel.salePriceAverage",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel"],["for","dataModel.rentPriceMin",1,"color-highlight"],["matInput","","name","dataModel.rentPriceMin","type","number","placeholder","0","id","dataModel.rentPriceMin",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel"],["for","dataModel.rentPriceMax",1,"color-highlight"],["matInput","","name","dataModel.rentPriceMax","type","number","placeholder","0","id","dataModel.rentPriceMax",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel"],["for","dataModel.rentPriceAverage",1,"color-highlight"],["matInput","","name","dataModel.rentPriceAverage","type","number","placeholder","0","id","dataModel.rentPriceAverage",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel"],["for","dataModel.depositPriceMin",1,"color-highlight"],["matInput","","name","dataModel.depositPriceMin","type","number","placeholder","0","id","dataModel.depositPriceMin",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel"],["for","dataModel.depositPriceMax",1,"color-highlight"],["matInput","","name","dataModel.depositPriceMax","type","number","placeholder","0","id","dataModel.depositPriceMax",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel"],["for","dataModel.depositPriceAverage",1,"color-highlight"],["matInput","","name","dataModel.depositPriceAverage","type","number","placeholder","0","id","dataModel.depositPriceAverage",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel"],["for","dataModel.periodPriceMin",1,"color-highlight"],["matInput","","name","dataModel.periodPriceMin","type","number","placeholder","0","id","dataModel.periodPriceMin",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel"],["for","dataModel.periodPriceMax",1,"color-highlight"],["matInput","","name","dataModel.periodPriceMax","type","number","placeholder","0","id","dataModel.periodPriceMax",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel"],["for","dataModel.periodPriceAverage",1,"color-highlight"],["matInput","","name","dataModel.periodPriceAverage","type","number","placeholder","0","id","dataModel.periodPriceAverage",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=I();r(0,"div",15),C(1,"app-progress-spinner",16),r(2,"div",17)(3,"p",18),c(4),a(),r(5,"p"),c(6),_(7,"translate"),a(),r(8,"form",19,0),E("ngSubmit",function(){return u(s),f(t.onFormSubmit())}),S(10,WN,1,5,"app-cms-enum-record-status-selector",20)(11,GN,1,6,"app-cms-enum-x-selector",21),r(12,"app-cms-location-selector",22),_(13,"translate"),E("optionChange",function(p){return u(s),f(t.onActionSelectorLocation(p))}),a(),r(14,"div",23)(15,"label",24),c(16),_(17,"translate"),a(),r(18,"input",25,1),w("ngModelChange",function(p){return u(s),T(t.dataModel.createdYaer,p)||(t.dataModel.createdYaer=p),f(p)}),a()(),C(20,"br"),r(21,"app-cms-currency-selector",26),_(22,"translate"),E("optionChange",function(p){return u(s),f(t.onActionSelectCurrency(p))}),a(),C(23,"br"),r(24,"app-estate-contract-type-selector",27),_(25,"translate"),E("optionChange",function(p){return u(s),f(t.onActionSelectorContarctType(p))}),S(26,UN,2,0,"mat-icon",28),a(),r(27,"app-estate-property-type-usage-selector",29),_(28,"translate"),E("optionChange",function(p){return u(s),f(t.onActionSelectorSelectUsage(p))}),S(29,jN,2,0,"mat-icon",28),a(),r(30,"app-estate-property-type-landuse-selector",29),_(31,"translate"),E("optionChange",function(p){return u(s),f(t.onActionSelectorSelectLanduse(p))}),S(32,qN,2,0,"mat-icon",28),a(),C(33,"hr"),S(34,ZN,6,4,"div",30),C(35,"hr"),r(36,"div",23)(37,"label",31),c(38),a(),r(39,"textarea",32,2),w("ngModelChange",function(p){return u(s),T(t.dataModel.description,p)||(t.dataModel.description=p),f(p)}),c(41,"          "),a(),r(42,"em"),c(43),a(),S(44,JN,5,3,"mat-error",30),a(),S(45,XN,9,7,"div",33),a()()()}if(i&2){let s=k(40);o(),d("optionsInfoAreaId",t.constructorInfoAreaId),o(3),y(" ",t.formInfo.formTitle," "),o(2),y(" ",g(7,37,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),d("ngStyle",ze(51,HN,t.tokenInfo.access.direction)),o(2),d("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),o(),d("ngIf",t.fieldsInfo.expertPriceType==null?null:t.fieldsInfo.expertPriceType.accessWatchField),o(),d("optionSelectForce",t.dataModel.linkLocationId)("optionPlaceholder",g(13,39,"TITLE.Geographical_Region"))("optionDisabled",!(t.fieldsInfo.linkLocationId!=null&&t.fieldsInfo.linkLocationId.accessAddField)),o(4),M(g(17,41,"TITLE.CreatedYaer")),o(2),b("ngModel",t.dataModel.createdYaer),o(3),d("optionSelectFirstItem",!0)("optionSelectForce",t.dataModel.linkCoreCurrencyId)("optionPlaceholder",g(22,43,"TITLE.Specify_the_transaction_currency")),o(3),d("optionTypeView",1)("optionDisabled",!(t.fieldsInfo.linkContractTypeId!=null&&t.fieldsInfo.linkContractTypeId.accessAddField))("optionSelectForce",t.dataModel.linkContractTypeId)("optionPlaceholder",g(25,45,"TITLE.Transaction_type")),o(2),d("ngIf",t.dataModel.linkContractTypeId&&(t.dataModel.linkContractTypeId==null?null:t.dataModel.linkContractTypeId.length)>0),o(),d("optionDisabled",!(t.fieldsInfo.linkPropertyTypeUsageId!=null&&t.fieldsInfo.linkPropertyTypeUsageId.accessEditField))("optionTypeView",1)("optionSelectForce",t.dataModel.linkPropertyTypeUsageId)("optionPlaceholder",g(28,47,"TITLE.Type_Usage")),o(2),d("ngIf",t.dataModel.linkPropertyTypeUsageId&&(t.dataModel.linkPropertyTypeUsageId==null?null:t.dataModel.linkPropertyTypeUsageId.length)>0),o(),d("optionDisabled",!(t.fieldsInfo.linkPropertyTypeLanduseId!=null&&t.fieldsInfo.linkPropertyTypeLanduseId.accessEditField))("optionTypeView",1)("optionSelectForce",t.dataModel.linkPropertyTypeLanduseId)("optionPlaceholder",g(31,49,"TITLE.Property_Type")),o(2),d("ngIf",t.dataModel.linkPropertyTypeLanduseId&&(t.dataModel.linkPropertyTypeLanduseId==null?null:t.dataModel.linkPropertyTypeLanduseId.length)>0),o(2),d("ngIf",t.contractTypeSelected&&t.contractTypeSelected.id.length>0),o(4),M(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),b("ngModel",t.dataModel.description),o(4),y("",s.value.length," / 1000"),o(),d("ngIf",s.errors==null?null:s.errors.required),o(),d("ngIf",t.formInfo.formSubmitAllow)}},dependencies:[N,tt,ke,Y,Ot,q,Te,de,De,Ae,ce,Pe,we,et,Ee,Q,Fi,Vi,Wo,si,U,_i,nn,on,O],styles:["@media (max-width: 1399px){.wizard.wizard-4[_ngcontent-%COMP%]   .wizard-nav[_ngcontent-%COMP%]   .wizard-steps[_ngcontent-%COMP%]   .wizard-step[_ngcontent-%COMP%]{flex:0 0 calc(25% - .25rem)}}form[_ngcontent-%COMP%]{text-align:right}.wrapper[_ngcontent-%COMP%]{display:flex;padding-top:15px}.lbl-status[_ngcontent-%COMP%]{width:100px;display:flex;align-items:flex-end;justify-content:center;margin-top:5px}.status-select[_ngcontent-%COMP%]{width:970px}textarea[_ngcontent-%COMP%]{resize:none}.calender-select[_ngcontent-%COMP%]{width:252px}.next-modal[_ngcontent-%COMP%]{width:100px;margin-right:15px}.pb-4[_ngcontent-%COMP%], .py-4[_ngcontent-%COMP%]{padding-bottom:7px!important;padding-top:7px!important}tag-input[_ngcontent-%COMP%]{width:1000px}.leaflet-pane[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute!important}.fs-container[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;top:0;left:0}.lbl-content[_ngcontent-%COMP%]{width:100px;display:flex;align-items:flex-end;justify-content:center;margin-top:25px}@media (min-width: 1400px){.col-xxl-7[_ngcontent-%COMP%]{max-width:100%!important;flex:0 0 100%}}.heroes[_ngcontent-%COMP%]{margin:0 0 2em;list-style-type:none;padding:0;width:15em}.heroes[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{cursor:pointer;position:relative;left:0;background-color:#eee;margin:.5em;padding:.3em 0;height:1.6em;border-radius:4px}.heroes[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{color:#607d8b;background-color:#ddd;left:.1em}.heroes[_ngcontent-%COMP%]   li.selected[_ngcontent-%COMP%]{background-color:#cfd8dc;color:#fff}.heroes[_ngcontent-%COMP%]   li.selected[_ngcontent-%COMP%]:hover{background-color:#bbd8dc;color:#fff}.heroes[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{display:inline-block;font-size:small;color:#fff;padding:.8em .7em 0;background-color:#405061;line-height:1em;position:relative;left:-1px;top:-4px;height:1.8em;margin-right:.8em;border-radius:4px 0 0 4px}"]});var gp=Js;var $N=["vform"],eH=n=>({direction:n});function tH(n,l){if(n&1){let e=I();r(0,"app-cms-enum-record-status-selector",63),w("modelChange",function(t){u(e);let s=m();return T(s.dataModel.recordStatus,t)||(s.dataModel.recordStatus=t),f(t)}),a()}if(n&2){let e=m();b("model",e.dataModel.recordStatus),d("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function iH(n,l){if(n&1){let e=I();r(0,"app-cms-enum-x-selector",64),w("modelChange",function(t){u(e);let s=m();return T(s.dataModel.expertPriceType,t)||(s.dataModel.expertPriceType=t),f(t)}),a()}if(n&2){let e=m();d("optionDataListResult",e.dataModelEstatePropertyExpertPriceTypeEnumResult),b("model",e.dataModel.expertPriceType),d("optionDisabled",!1)("optionLabel",e.fieldsInfo.expertPriceType==null?null:e.fieldsInfo.expertPriceType.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function nH(n,l){n&1&&(r(0,"mat-error"),c(1," Description is "),r(2,"strong"),c(3),_(4,"translate"),a()()),n&2&&(o(3),M(g(4,1,"MESSAGE.required")))}function oH(n,l){if(n&1&&(r(0,"button",68),C(1,"i",69),c(2),_(3,"translate"),a()),n&2){m(2);let e=k(9);d("disabled",!e.form.valid),o(2),y(" ",g(3,2,"ACTION.SAVE")," ")}}function rH(n,l){if(n&1){let e=I();r(0,"div",58)(1,"button",65),E("click",function(){u(e);let t=m();return f(t.onFormCancel())}),C(2,"i",66),c(3),_(4,"translate"),a(),S(5,oH,4,4,"button",67),a()}if(n&2){let e=m();o(3),y(" ",g(4,2,"ACTION.CANCEL")," "),o(2),d("ngIf",e.formInfo.formSubmitAllow)}}var Xs=class Xs extends Bt{constructor(e,i,t,s,h,p,D,z,he,je,Ge){super(s,new Ar,z,Ge);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.estatePropertyExpertPriceService=s;this.cmsToastrService=h;this.estateEnumService=p;this.cmsStoreService=D;this.publicHelper=z;this.cdr=he;this.tokenHelper=je;this.translate=Ge;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new Ft;this.dataModel=new Ar;this.dataModelEstatePropertyExpertPriceTypeEnumResult=new G;this.formInfo=new me;this.dataModelCorCurrencySelector=new Di;this.PropertyTypeSelected=new Gt;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore}ngOnInit(){if(this.requestId.length>0)this.translate.get("TITLE.Edit_Categories").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.getEstatePropertyExpertPriceTypeEnum()}getEstatePropertyExpertPriceTypeEnum(){this.estateEnumService.ServiceEstatePropertyExpertPriceTypeEnum().subscribe({next:e=>{this.dataModelEstatePropertyExpertPriceTypeEnumResult=e}})}DataGetOneContent(){if(this.requestId.length<=0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estatePropertyExpertPriceService.setAccessLoad(),this.estatePropertyExpertPriceService.setAccessDataType(Be.Editor),this.estatePropertyExpertPriceService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estatePropertyExpertPriceService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.formAlert=t}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorSelectUsage(e){if(!e||!e.id||e.id.length<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(i=>{this.cmsToastrService.typeWarningSelected(i)});return}this.dataModel.linkPropertyTypeUsageId=e.id}onActionSelectorSelectLanduse(e){if(this.PropertyTypeSelected=null,this.dataModel.linkPropertyTypeLanduseId=null,!e||!e.id||e.id.length<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(i=>{this.cmsToastrService.typeWarningSelected(i)});return}this.PropertyTypeSelected=e,this.dataModel.linkPropertyTypeLanduseId=e.id}onActionSelectorContarctType(e){if(this.dataModel.linkContractTypeId=null,!e||!e.id||e.id.length<=0){this.translate.get("MESSAGE.Type_of_property_transaction_is_not_known").subscribe(i=>{this.cmsToastrService.typeWarningSelected(i)});return}this.dataModel.linkContractTypeId=e.id}onActionSelectorLocation(e){this.dataModel.linkLocationId=null,e&&e.id>0&&(this.dataModel.linkLocationId=e.id)}onActionSelectCurrency(e){if(!e||e.id<=0){this.dataModelCorCurrencySelector=null,this.dataModel.linkCoreCurrencyId=null;return}this.dataModelCorCurrencySelector=e,this.dataModel.linkCoreCurrencyId=e.id}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Xs.\u0275fac=function(i){return new(i||Xs)(v(be),v(Me),v(J),v(Co),v(V),v(sn),v(Z),v(F),v(B),v(K),v(L))},Xs.\u0275cmp=R({type:Xs,selectors:[["app-estate-property-expert-price-edit"]],viewQuery:function(i,t){if(i&1&&ee($N,5),i&2){let s;te(s=ie())&&(t.formGroup=s.first)}},standalone:!1,features:[ne],decls:130,vars:77,consts:[["vform","ngForm"],["CreatedYaer",""],["SalePriceMin",""],["SalePriceMax",""],["SalePriceAverage",""],["RentPriceMin",""],["RentPriceMax",""],["RentPriceAverage",""],["DepositPriceMin",""],["DepositPriceMax",""],["DepositPriceAverage",""],["PeriodPriceMin",""],["PeriodPriceMax",""],["PeriodPriceAverage",""],["Description",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit","ngStyle"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionDataListResult","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionChange","optionSelectForce","optionPlaceholder","optionDisabled"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.CreatedYaer",1,"color-highlight"],["type","number","name","dataModel.CreatedYaer","placeholder","0","id","dataModel.createdYaer",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[3,"optionChange","optionSelectFirstItem","optionSelectForce","optionPlaceholder"],[3,"optionChange","optionTypeView","optionDisabled","optionSelectForce","optionPlaceholder"],[3,"optionChange","optionDisabled","optionTypeView","optionSelectForce","optionPlaceholder"],["cellspacing","0",1,"ntk-full-width"],["for","dataModel.salePriceMin",1,"color-highlight"],["matInput","","name","dataModel.salePriceMin","type","number","placeholder","0","id","dataModel.salePriceMin",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel"],["for","dataModel.salePriceMax",1,"color-highlight"],["matInput","","name","dataModel.salePriceMax","type","number","placeholder","0","id","dataModel.salePriceMax",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel"],["for","dataModel.salePriceAverage",1,"color-highlight"],["matInput","","name","dataModel.salePriceAverage","type","number","placeholder","0","id","dataModel.salePriceAverage",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel"],["for","dataModel.rentPriceMin",1,"color-highlight"],["matInput","","name","dataModel.rentPriceMin","type","number","placeholder","0","id","dataModel.rentPriceMin",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel"],["for","dataModel.rentPriceMax",1,"color-highlight"],["matInput","","name","dataModel.rentPriceMax","type","number","placeholder","0","id","dataModel.rentPriceMax",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel"],["for","dataModel.rentPriceAverage",1,"color-highlight"],["matInput","","name","dataModel.rentPriceAverage","type","number","placeholder","0","id","dataModel.rentPriceAverage",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel"],["for","dataModel.depositPriceMin",1,"color-highlight"],["matInput","","name","dataModel.depositPriceMin","type","number","placeholder","0","id","dataModel.depositPriceMin",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel"],["for","dataModel.depositPriceMax",1,"color-highlight"],["matInput","","name","dataModel.depositPriceMax","type","number","placeholder","0","id","dataModel.depositPriceMax",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel"],["for","dataModel.depositPriceAverage",1,"color-highlight"],["matInput","","name","dataModel.depositPriceAverage","type","number","placeholder","0","id","dataModel.depositPriceAverage",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel"],["for","dataModel.periodPriceMin",1,"color-highlight"],["matInput","","name","dataModel.periodPriceMin","type","number","placeholder","0","id","dataModel.periodPriceMin",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel"],["for","dataModel.periodPriceMax",1,"color-highlight"],["matInput","","name","dataModel.periodPriceMax","type","number","placeholder","0","id","dataModel.periodPriceMax",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel"],["for","dataModel.periodPriceAverage",1,"color-highlight"],["matInput","","name","dataModel.periodPriceAverage","type","number","placeholder","0","id","dataModel.periodPriceAverage",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","1000","rows","5","required","","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[4,"ngIf"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"modelChange","optionDataListResult","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-green",3,"disabled",4,"ngIf"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=I();r(0,"div",15),C(1,"app-progress-spinner",16),r(2,"div",17)(3,"p",18),c(4),a(),r(5,"p"),c(6),_(7,"translate"),a(),r(8,"form",19,0),E("ngSubmit",function(){return u(s),f(t.onFormSubmit())}),S(10,tH,1,5,"app-cms-enum-record-status-selector",20)(11,iH,1,6,"app-cms-enum-x-selector",21),r(12,"app-cms-location-selector",22),_(13,"translate"),E("optionChange",function(p){return u(s),f(t.onActionSelectorLocation(p))}),a(),C(14,"br"),r(15,"div",23)(16,"label",24),c(17),_(18,"translate"),a(),r(19,"input",25,1),w("ngModelChange",function(p){return u(s),T(t.dataModel.createdYaer,p)||(t.dataModel.createdYaer=p),f(p)}),a()(),C(21,"br"),r(22,"app-cms-currency-selector",26),_(23,"translate"),E("optionChange",function(p){return u(s),f(t.onActionSelectCurrency(p))}),a(),C(24,"br"),r(25,"app-estate-contract-type-selector",27),_(26,"translate"),E("optionChange",function(p){return u(s),f(t.onActionSelectorContarctType(p))}),a(),r(27,"app-estate-property-type-usage-selector",28),_(28,"translate"),E("optionChange",function(p){return u(s),f(t.onActionSelectorSelectUsage(p))}),a(),C(29,"br")(30,"br"),r(31,"app-estate-property-type-landuse-selector",28),_(32,"translate"),E("optionChange",function(p){return u(s),f(t.onActionSelectorSelectLanduse(p))}),a(),C(33,"hr"),r(34,"table",29)(35,"tr")(36,"td")(37,"div",23)(38,"label",30),c(39),a(),r(40,"input",31,2),w("ngModelChange",function(p){return u(s),T(t.dataModel.salePriceMin,p)||(t.dataModel.salePriceMin=p),f(p)}),a()()(),r(42,"td")(43,"div",23)(44,"label",32),c(45),a(),r(46,"input",33,3),w("ngModelChange",function(p){return u(s),T(t.dataModel.salePriceMax,p)||(t.dataModel.salePriceMax=p),f(p)}),a()()(),r(48,"td")(49,"div",23)(50,"label",34),c(51),a(),r(52,"input",35,4),w("ngModelChange",function(p){return u(s),T(t.dataModel.salePriceAverage,p)||(t.dataModel.salePriceAverage=p),f(p)}),a()()()(),r(54,"tr")(55,"td")(56,"div",23)(57,"label",36),c(58),a(),r(59,"input",37,5),w("ngModelChange",function(p){return u(s),T(t.dataModel.rentPriceMin,p)||(t.dataModel.rentPriceMin=p),f(p)}),a()()(),r(61,"td")(62,"div",23)(63,"label",38),c(64),a(),r(65,"input",39,6),w("ngModelChange",function(p){return u(s),T(t.dataModel.rentPriceMax,p)||(t.dataModel.rentPriceMax=p),f(p)}),a()()(),r(67,"td")(68,"div",23)(69,"label",40),c(70),a(),r(71,"input",41,7),w("ngModelChange",function(p){return u(s),T(t.dataModel.rentPriceAverage,p)||(t.dataModel.rentPriceAverage=p),f(p)}),a()()()(),r(73,"tr")(74,"td")(75,"div",23)(76,"label",42),c(77),a(),r(78,"input",43,8),w("ngModelChange",function(p){return u(s),T(t.dataModel.depositPriceMin,p)||(t.dataModel.depositPriceMin=p),f(p)}),a()()(),r(80,"td")(81,"div",23)(82,"label",44),c(83),a(),r(84,"input",45,9),w("ngModelChange",function(p){return u(s),T(t.dataModel.depositPriceMax,p)||(t.dataModel.depositPriceMax=p),f(p)}),a()()(),r(86,"td")(87,"div",23)(88,"label",46),c(89),a(),r(90,"input",47,10),w("ngModelChange",function(p){return u(s),T(t.dataModel.depositPriceAverage,p)||(t.dataModel.depositPriceAverage=p),f(p)}),a()()()(),r(92,"tr")(93,"td")(94,"div",23)(95,"label",48),c(96),a(),r(97,"input",49,11),w("ngModelChange",function(p){return u(s),T(t.dataModel.periodPriceMin,p)||(t.dataModel.periodPriceMin=p),f(p)}),a()()(),r(99,"td")(100,"div",23)(101,"label",50),c(102),a(),r(103,"input",51,12),w("ngModelChange",function(p){return u(s),T(t.dataModel.periodPriceMax,p)||(t.dataModel.periodPriceMax=p),f(p)}),a()()(),r(105,"td")(106,"div",23)(107,"label",52),c(108),_(109,"translate"),a(),r(110,"input",53,13),w("ngModelChange",function(p){return u(s),T(t.dataModel.periodPriceAverage,p)||(t.dataModel.periodPriceAverage=p),f(p)}),a()()()()(),C(112,"hr"),r(113,"div",23)(114,"label",54),c(115),a(),r(116,"textarea",55,14),w("ngModelChange",function(p){return u(s),T(t.dataModel.description,p)||(t.dataModel.description=p),f(p)}),c(118,"            "),a(),r(119,"em"),c(120),a(),S(121,nH,5,3,"mat-error",56),a()()(),r(122,"div",57)(123,"div",58)(124,"small",59),c(125),a(),r(126,"small",60),c(127),a()()(),r(128,"div",61),S(129,rH,6,4,"div",62),a()()}if(i&2){let s=k(117);o(),d("optionsInfoAreaId",t.constructorInfoAreaId),o(3),y(" ",t.formInfo.formTitle," "),o(2),y(" ",g(7,59,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),d("ngStyle",ze(75,eH,t.tokenInfo.access.direction)),o(2),d("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),o(),d("ngIf",t.fieldsInfo.expertPriceType==null?null:t.fieldsInfo.expertPriceType.accessWatchField),o(),d("optionSelectForce",t.dataModel.linkLocationId)("optionPlaceholder",g(13,61,"TITLE.Geographical_Region"))("optionDisabled",!(t.fieldsInfo.linkLocationId!=null&&t.fieldsInfo.linkLocationId.accessEditField)),o(5),M(g(18,63,"TITLE.CreatedYaer")),o(2),b("ngModel",t.dataModel.createdYaer),o(3),d("optionSelectFirstItem",!0)("optionSelectForce",t.dataModel.linkCoreCurrencyId)("optionPlaceholder",g(23,65,"TITLE.Specify_the_transaction_currency")),o(3),d("optionTypeView",2)("optionDisabled",!(t.fieldsInfo.linkContractTypeId!=null&&t.fieldsInfo.linkContractTypeId.accessEditField))("optionSelectForce",t.dataModel.linkContractTypeId)("optionPlaceholder",g(26,67,"TITLE.Transaction_type")),o(2),d("optionDisabled",!(t.fieldsInfo.linkPropertyTypeUsageId!=null&&t.fieldsInfo.linkPropertyTypeUsageId.accessEditField))("optionTypeView",2)("optionSelectForce",t.dataModel.linkPropertyTypeUsageId)("optionPlaceholder",g(28,69,"TITLE.Type_Usage")),o(4),d("optionDisabled",!(t.fieldsInfo.linkPropertyTypeLanduseId!=null&&t.fieldsInfo.linkPropertyTypeLanduseId.accessEditField))("optionTypeView",2)("optionSelectForce",t.dataModel.linkPropertyTypeLanduseId)("optionPlaceholder",g(32,71,"TITLE.Property_Type")),o(8),M(t.fieldsInfo.salePriceMin==null?null:t.fieldsInfo.salePriceMin.fieldTitle),o(),b("ngModel",t.dataModel.salePriceMin),o(5),M(t.fieldsInfo.salePriceMax==null?null:t.fieldsInfo.salePriceMax.fieldTitle),o(),b("ngModel",t.dataModel.salePriceMax),o(5),M(t.fieldsInfo.salePriceAverage==null?null:t.fieldsInfo.salePriceAverage.fieldTitle),o(),b("ngModel",t.dataModel.salePriceAverage),o(6),M(t.fieldsInfo.rentPriceMin==null?null:t.fieldsInfo.rentPriceMin.fieldTitle),o(),b("ngModel",t.dataModel.rentPriceMin),o(5),M(t.fieldsInfo.rentPriceMax==null?null:t.fieldsInfo.rentPriceMax.fieldTitle),o(),b("ngModel",t.dataModel.rentPriceMax),o(5),M(t.fieldsInfo.rentPriceAverage==null?null:t.fieldsInfo.rentPriceAverage.fieldTitle),o(),b("ngModel",t.dataModel.rentPriceAverage),o(6),M(t.fieldsInfo.depositPriceMin==null?null:t.fieldsInfo.depositPriceMin.fieldTitle),o(),b("ngModel",t.dataModel.depositPriceMin),o(5),M(t.fieldsInfo.depositPriceMax==null?null:t.fieldsInfo.depositPriceMax.fieldTitle),o(),b("ngModel",t.dataModel.depositPriceMax),o(5),M(t.fieldsInfo.depositPriceAverage==null?null:t.fieldsInfo.depositPriceAverage.fieldTitle),o(),b("ngModel",t.dataModel.depositPriceAverage),o(6),M(t.fieldsInfo.periodPriceMin==null?null:t.fieldsInfo.periodPriceMin.fieldTitle),o(),b("ngModel",t.dataModel.periodPriceMin),o(5),M(t.fieldsInfo.periodPriceMax==null?null:t.fieldsInfo.periodPriceMax.fieldTitle),o(),b("ngModel",t.dataModel.periodPriceMax),o(5),M(g(109,73,"TITLE.Period_Price_Average")),o(2),b("ngModel",t.dataModel.periodPriceAverage),o(5),M(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),b("ngModel",t.dataModel.description),o(4),y("",s.value.length," / 1000"),o(),d("ngIf",s.errors==null?null:s.errors.required),o(4),y("",t.formInfo.formAlert," "),o(2),y("",t.formInfo.formError," "),o(2),d("ngIf",!t.publicHelper.processService.process.inRunAll)}},dependencies:[N,tt,ke,Y,Ot,q,Te,de,De,Ae,ce,Pe,we,Q,Fi,Vi,Wo,si,U,_i,nn,on,O],styles:["@media (max-width: 1399px){.wizard.wizard-4[_ngcontent-%COMP%]   .wizard-nav[_ngcontent-%COMP%]   .wizard-steps[_ngcontent-%COMP%]   .wizard-step[_ngcontent-%COMP%]{flex:0 0 calc(25% - .25rem)}}form[_ngcontent-%COMP%]{text-align:right}.wizard[_ngcontent-%COMP%]{margin-top:20%}.wrapper[_ngcontent-%COMP%]{display:flex;padding-top:15px}.lbl-status[_ngcontent-%COMP%]{width:100px;display:flex;align-items:flex-end;justify-content:center;margin-top:5px}.status-select[_ngcontent-%COMP%]{width:970px}textarea[_ngcontent-%COMP%]{resize:none}.calender-select[_ngcontent-%COMP%]{width:252px}.next-modal[_ngcontent-%COMP%]{width:100px;margin-right:15px}.pb-4[_ngcontent-%COMP%], .py-4[_ngcontent-%COMP%]{padding-bottom:7px!important;padding-top:7px!important}tag-input[_ngcontent-%COMP%]{width:1000px}#map[_ngcontent-%COMP%]{width:100%;height:600px}.lbl-content[_ngcontent-%COMP%]{width:100px;display:flex;align-items:flex-end;justify-content:center;margin-top:25px}"]});var hp=Xs;var aH=["vform"];function lH(n,l){if(n&1){let e=I();r(0,"mat-icon",18),E("click",function(){u(e);let t=m(2);return f(t.dataModel.linkContractTypeId=null)}),c(1,"close "),a()}}function sH(n,l){if(n&1){let e=I();r(0,"app-estate-contract-type-selector",17),_(1,"translate"),E("optionChange",function(t){u(e);let s=m();return f(s.onActionSelectorContarctType(t))}),S(2,lH,2,0,"mat-icon",15),a()}if(n&2){let e=m();d("optionTypeView",1)("optionDisabled",!1)("optionSelectForce",e.dataModel.linkContractTypeId)("optionPlaceholder",g(1,5,"TITLE.Transaction_type")),o(2),d("ngIf",e.dataModel.linkContractTypeId&&(e.dataModel.linkContractTypeId==null?null:e.dataModel.linkContractTypeId.length)>0)}}function dH(n,l){if(n&1){let e=I();r(0,"mat-icon",18),E("click",function(){u(e);let t=m(2);return f(t.dataModel.linkPropertyTypeUsageId=null)}),c(1,"close "),a()}}function cH(n,l){if(n&1){let e=I();r(0,"app-estate-property-type-usage-selector",14),_(1,"translate"),E("optionChange",function(t){u(e);let s=m();return f(s.onActionSelectorSelectUsage(t))}),S(2,dH,2,0,"mat-icon",15),a()}if(n&2){let e=m();d("optionDisabled",!1)("optionTypeView",1)("optionSelectForce",e.dataModel.linkPropertyTypeUsageId)("optionPlaceholder",g(1,5,"TITLE.Type_Usage")),o(2),d("ngIf",e.dataModel.linkPropertyTypeUsageId&&(e.dataModel.linkPropertyTypeUsageId==null?null:e.dataModel.linkPropertyTypeUsageId.length)>0)}}function pH(n,l){if(n&1){let e=I();r(0,"mat-icon",18),E("click",function(){u(e);let t=m();return f(t.onActionSelectorSelectLanduse(null))}),c(1,"close "),a()}}function mH(n,l){if(n&1&&(r(0,"button",23),C(1,"i",24),c(2),_(3,"translate"),a()),n&2){m(2);let e=k(9);d("disabled",!e.form.valid),o(2),y(" ",g(3,2,"ACTION.SAVE")," ")}}function uH(n,l){if(n&1){let e=I();r(0,"div",19)(1,"button",20),E("click",function(){u(e);let t=m();return f(t.onFormCancel())}),C(2,"i",21),c(3),_(4,"translate"),a(),S(5,mH,4,4,"button",22),a()}if(n&2){let e=m();o(3),y(" ",g(4,2,"ACTION.CANCEL")," "),o(2),d("ngIf",e.formInfo.formSubmitAllow)}}var $s=class $s{constructor(l,e,i,t,s,h,p,D,z){this.data=l;this.dialogRef=e;this.coreEnumService=i;this.estatePropertyExpertPriceService=t;this.cmsToastrService=s;this.estateEnumService=h;this.publicHelper=p;this.cdr=D;this.translate=z;this.constructorInfoAreaId=this.constructor.name;this.appLanguage="fa";this.dataModelResult=new Ft;this.dataModel=new Ma;this.dataModelEstatePropertyExpertPriceTypeEnumResult=new G;this.formInfo=new me;this.PropertyTypeSelected=new Gt;this.dataModelCorCurrencySelector=new Di;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,l&&(this.dataModel.linkLocationId=+l.linkLocationId|0,this.dataModel.linkCoreCurrencyId=+l.linkCoreCurrencyId|0,this.dataModel.createdYaer=+l.createdYaer|0,this.dataModel.linkContractTypeId=l.linkContractTypeId,this.dataModel.linkPropertyTypeLanduseId=l.linkPropertyTypeLanduseId,this.dataModel.linkPropertyTypeUsageId=l.linkPropertyTypeUsageId)}ngOnInit(){this.translate.get("TITLE.Register_New_Categories").subscribe(l=>{this.formInfo.formTitle=l}),this.getEstatePropertyExpertPriceTypeEnum()}getEstatePropertyExpertPriceTypeEnum(){this.estateEnumService.ServiceEstatePropertyExpertPriceTypeEnum().subscribe({next:l=>{this.dataModelEstatePropertyExpertPriceTypeEnumResult=l}})}DataGetAll(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError="";let l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(l,e,this.constructorInfoAreaId)}),this.estatePropertyExpertPriceService.ServicePriceInquiryCalculate(this.dataModel).subscribe({next:e=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=e,e.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(i=>{this.formInfo.formAlert=i}),this.cmsToastrService.typeSuccessAdd()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError=e.errorMessage,this.cmsToastrService.typeErrorMessage(e.errorMessage)),this.publicHelper.processService.processStop(l)},error:e=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(l,!1)}})}onActionSelectorSelectUsage(l){if(!l||!l.id||l.id.length<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(e=>{this.cmsToastrService.typeWarningSelected(e)});return}this.dataModel.linkPropertyTypeUsageId=l.id}onActionSelectorSelectLanduse(l){if(this.PropertyTypeSelected=null,this.dataModel.linkPropertyTypeLanduseId=null,!l||!l.id||l.id.length<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(e=>{this.cmsToastrService.typeWarningSelected(e)});return}this.PropertyTypeSelected=l,this.dataModel.linkPropertyTypeLanduseId=l.id}onActionSelectorContarctType(l){if(this.dataModel.linkContractTypeId=null,!l||!l.id||l.id.length<=0){this.translate.get("MESSAGE.Type_of_property_transaction_is_not_known").subscribe(e=>{this.cmsToastrService.typeWarningSelected(e)});return}this.dataModel.linkContractTypeId=l.id}onActionSelectorLocation(l){this.dataModel.linkLocationId=null,l&&l.id>0&&(this.dataModel.linkLocationId=l.id)}onActionSelectCurrency(l){if(!l||l.id<=0){this.dataModelCorCurrencySelector=null,this.dataModel.linkCoreCurrencyId=null;return}this.dataModelCorCurrencySelector=l,this.dataModel.linkCoreCurrencyId=l.id}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataGetAll())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};$s.\u0275fac=function(e){return new(e||$s)(v(be),v(Me),v(J),v(Co),v(V),v(sn),v(F),v(B),v(L))},$s.\u0275cmp=R({type:$s,selectors:[["app-estate-property-expert-price-inquiry-calculate"]],viewQuery:function(e,i){if(e&1&&ee(aH,5),e&2){let t;te(t=ie())&&(i.formGroup=t.first)}},standalone:!1,decls:32,vars:29,consts:[["vform","ngForm"],["CreatedYaer",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"optionChange","optionSelectForce","optionPlaceholder","optionDisabled"],[3,"optionChange","optionSelectFirstItem","optionSelectForce","optionPlaceholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.createdYaer",1,"color-highlight"],["matInput","","name","dataModel.CreatedYaer","type","number","placeholder","0","id","dataModel.createdYaer",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[3,"optionTypeView","optionDisabled","optionSelectForce","optionPlaceholder","optionChange",4,"ngIf"],[3,"optionDisabled","optionTypeView","optionSelectForce","optionPlaceholder","optionChange",4,"ngIf"],[3,"optionChange","optionDisabled","optionTypeView","optionSelectForce","optionPlaceholder"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],["class","form-actions",4,"ngIf"],[3,"optionChange","optionTypeView","optionDisabled","optionSelectForce","optionPlaceholder"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-green",3,"disabled",4,"ngIf"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(e,i){if(e&1){let t=I();r(0,"div",2),C(1,"app-progress-spinner",3),r(2,"div",4)(3,"p",5),c(4),a(),r(5,"p"),c(6),_(7,"translate"),a(),r(8,"form",6,0),E("ngSubmit",function(){return u(t),f(i.onFormSubmit())}),r(10,"app-cms-location-selector",7),_(11,"translate"),E("optionChange",function(h){return u(t),f(i.onActionSelectorLocation(h))}),C(12,"br"),a(),r(13,"app-cms-currency-selector",8),_(14,"translate"),E("optionChange",function(h){return u(t),f(i.onActionSelectCurrency(h))}),a(),C(15,"br"),r(16,"div",9)(17,"label",10),c(18),_(19,"translate"),a(),r(20,"input",11,1),w("ngModelChange",function(h){return u(t),T(i.dataModel.createdYaer,h)||(i.dataModel.createdYaer=h),f(h)}),a()(),C(22,"br"),S(23,sH,3,7,"app-estate-contract-type-selector",12),C(24,"br"),S(25,cH,3,7,"app-estate-property-type-usage-selector",13),C(26,"br"),r(27,"app-estate-property-type-landuse-selector",14),_(28,"translate"),E("optionChange",function(h){return u(t),f(i.onActionSelectorSelectLanduse(h))}),S(29,pH,2,0,"mat-icon",15),a(),C(30,"hr"),S(31,uH,6,4,"div",16),a()()()}e&2&&(o(),d("optionsInfoAreaId",i.constructorInfoAreaId),o(3),y(" ",i.formInfo.formTitle," "),o(2),y(" ",g(7,19,"TITLE.Be_Careful_When_Entering_Information")," "),o(4),d("optionSelectForce",i.dataModel.linkLocationId)("optionPlaceholder",g(11,21,"TITLE.Geographical_Region"))("optionDisabled",!1),o(3),d("optionSelectFirstItem",!0)("optionSelectForce",i.dataModel.linkCoreCurrencyId)("optionPlaceholder",g(14,23,"TITLE.Specify_the_transaction_currency")),o(5),M(g(19,25,"TITLE.CreatedYaer")),o(2),b("ngModel",i.dataModel.createdYaer),o(3),d("ngIf",i.dataModel.linkCoreCurrencyId&&i.dataModel.linkCoreCurrencyId>0),o(2),d("ngIf",i.dataModel.linkCoreCurrencyId&&i.dataModel.linkCoreCurrencyId>0),o(2),d("optionDisabled",!1)("optionTypeView",1)("optionSelectForce",i.dataModel.linkPropertyTypeLanduseId)("optionPlaceholder",g(28,27,"TITLE.Property_Type")),o(2),d("ngIf",i.dataModel.linkPropertyTypeLanduseId&&(i.dataModel.linkPropertyTypeLanduseId==null?null:i.dataModel.linkPropertyTypeLanduseId.length)>0),o(2),d("ngIf",!i.publicHelper.processService.process.inRunAll))},dependencies:[N,ke,Y,Ot,q,Te,ce,Pe,et,Ee,Q,Fi,si,U,_i,nn,on,O],styles:["@media (max-width: 1399px){.wizard.wizard-4[_ngcontent-%COMP%]   .wizard-nav[_ngcontent-%COMP%]   .wizard-steps[_ngcontent-%COMP%]   .wizard-step[_ngcontent-%COMP%]{flex:0 0 calc(25% - .25rem)}}form[_ngcontent-%COMP%]{text-align:right}.wrapper[_ngcontent-%COMP%]{display:flex;padding-top:15px}.lbl-status[_ngcontent-%COMP%]{width:100px;display:flex;align-items:flex-end;justify-content:center;margin-top:5px}.status-select[_ngcontent-%COMP%]{width:970px}textarea[_ngcontent-%COMP%]{resize:none}.calender-select[_ngcontent-%COMP%]{width:252px}.next-modal[_ngcontent-%COMP%]{width:100px;margin-right:15px}.pb-4[_ngcontent-%COMP%], .py-4[_ngcontent-%COMP%]{padding-bottom:7px!important;padding-top:7px!important}tag-input[_ngcontent-%COMP%]{width:1000px}.leaflet-pane[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute!important}.fs-container[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;top:0;left:0}.lbl-content[_ngcontent-%COMP%]{width:100px;display:flex;align-items:flex-end;justify-content:center;margin-top:25px}@media (min-width: 1400px){.col-xxl-7[_ngcontent-%COMP%]{max-width:100%!important;flex:0 0 100%}}.heroes[_ngcontent-%COMP%]{margin:0 0 2em;list-style-type:none;padding:0;width:15em}.heroes[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{cursor:pointer;position:relative;left:0;background-color:#eee;margin:.5em;padding:.3em 0;height:1.6em;border-radius:4px}.heroes[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{color:#607d8b;background-color:#ddd;left:.1em}.heroes[_ngcontent-%COMP%]   li.selected[_ngcontent-%COMP%]{background-color:#cfd8dc;color:#fff}.heroes[_ngcontent-%COMP%]   li.selected[_ngcontent-%COMP%]:hover{background-color:#bbd8dc;color:#fff}.heroes[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{display:inline-block;font-size:small;color:#fff;padding:.8em .7em 0;background-color:#405061;line-height:1em;position:relative;left:-1px;top:-4px;height:1.8em;margin-right:.8em;border-radius:4px 0 0 4px}"]});var yp=$s;var fH=["vform"];function _H(n,l){if(n&1){let e=I();r(0,"mat-icon",19),E("click",function(){u(e);let t=m(2);return f(t.dataModel.linkContractTypeId=null)}),c(1,"close "),a()}}function gH(n,l){if(n&1){let e=I();r(0,"app-estate-contract-type-selector",18),_(1,"translate"),E("optionChange",function(t){u(e);let s=m();return f(s.onActionSelectorContarctType(t))}),S(2,_H,2,0,"mat-icon",15),a()}if(n&2){let e=m();d("optionTypeView",1)("optionDisabled",!1)("optionSelectForce",e.dataModel.linkContractTypeId)("optionPlaceholder",g(1,5,"TITLE.Transaction_type")),o(2),d("ngIf",e.dataModel.linkContractTypeId&&(e.dataModel.linkContractTypeId==null?null:e.dataModel.linkContractTypeId.length)>0)}}function hH(n,l){if(n&1){let e=I();r(0,"mat-icon",19),E("click",function(){u(e);let t=m(2);return f(t.dataModel.linkPropertyTypeUsageId=null)}),c(1,"close "),a()}}function yH(n,l){if(n&1){let e=I();r(0,"app-estate-property-type-usage-selector",14),_(1,"translate"),E("optionChange",function(t){u(e);let s=m();return f(s.onActionSelectorSelectUsage(t))}),S(2,hH,2,0,"mat-icon",15),a()}if(n&2){let e=m();d("optionDisabled",!1)("optionTypeView",1)("optionSelectForce",e.dataModel.linkPropertyTypeUsageId)("optionPlaceholder",g(1,5,"TITLE.Type_Usage")),o(2),d("ngIf",e.dataModel.linkPropertyTypeUsageId&&(e.dataModel.linkPropertyTypeUsageId==null?null:e.dataModel.linkPropertyTypeUsageId.length)>0)}}function CH(n,l){if(n&1){let e=I();r(0,"mat-icon",19),E("click",function(){u(e);let t=m();return f(t.onActionSelectorSelectLanduse(null))}),c(1,"close "),a()}}function SH(n,l){if(n&1&&(r(0,"div"),c(1),_(2,"translate"),_(3,"number"),a()),n&2){let e=m().$implicit;o(),$("",g(2,2,"TITLE.SalePrice")," : ",g(3,4,e.salePriceMin)," ")}}function vH(n,l){if(n&1&&(r(0,"div"),c(1),_(2,"translate"),_(3,"number"),a()),n&2){let e=m().$implicit;o(),$("",g(2,2,"TITLE.RentPrice")," : ",g(3,4,e.rentPriceMin)," ")}}function EH(n,l){if(n&1&&(r(0,"div"),c(1),_(2,"translate"),_(3,"number"),a()),n&2){let e=m().$implicit;o(),$("",g(2,2,"TITLE.DepositPrice")," : ",g(3,4,e.depositPriceMin)," ")}}function IH(n,l){if(n&1&&(r(0,"div"),c(1),_(2,"translate"),_(3,"number"),a()),n&2){let e=m().$implicit;o(),$("",g(2,2,"TITLE.PeriodPrice"),": ",g(3,4,e.periodPriceMin)," ")}}function MH(n,l){if(n&1&&(r(0,"div"),c(1),_(2,"translate"),_(3,"number"),a()),n&2){let e=m().$implicit;o(),$("",g(2,2,"TITLE.SalePrice")," : ",g(3,4,e.salePriceAverage)," ")}}function bH(n,l){if(n&1&&(r(0,"div"),c(1),_(2,"translate"),_(3,"number"),a()),n&2){let e=m().$implicit;o(),$("",g(2,2,"TITLE.RentPrice")," : ",g(3,4,e.rentPriceAverage)," ")}}function TH(n,l){if(n&1&&(r(0,"div"),c(1),_(2,"translate"),_(3,"number"),a()),n&2){let e=m().$implicit;o(),$(" ",g(2,2,"TITLE.DepositPrice")," : ",g(3,4,e.depositPriceAverage)," ")}}function wH(n,l){if(n&1&&(r(0,"div"),c(1),_(2,"translate"),_(3,"number"),a()),n&2){let e=m().$implicit;o(),$(" ",g(2,2,"TITLE.PeriodPrice"),": ",g(3,4,e.periodPriceAverage)," ")}}function xH(n,l){if(n&1&&(r(0,"div"),c(1),_(2,"translate"),_(3,"number"),a()),n&2){let e=m().$implicit;o(),$("",g(2,2,"TITLE.SalePrice")," : ",g(3,4,e.salePriceMax)," ")}}function AH(n,l){if(n&1&&(r(0,"div"),c(1),_(2,"translate"),_(3,"number"),a()),n&2){let e=m().$implicit;o(),$("",g(2,2,"TITLE.RentPrice")," : ",g(3,4,e.rentPriceMax)," ")}}function PH(n,l){if(n&1&&(r(0,"div"),c(1),_(2,"translate"),_(3,"number"),a()),n&2){let e=m().$implicit;o(),$("",g(2,2,"TITLE.DepositPrice")," : ",g(3,4,e.depositPriceMax)," ")}}function kH(n,l){if(n&1&&(r(0,"div"),c(1),_(2,"translate"),_(3,"number"),a()),n&2){let e=m().$implicit;o(),$("",g(2,2,"TITLE.PeriodPrice"),": ",g(3,4,e.periodPriceMax)," ")}}function DH(n,l){if(n&1&&(r(0,"tr")(1,"td"),c(2),_(3,"enums"),a(),r(4,"td"),c(5),a(),r(6,"td"),S(7,SH,4,6,"div",20)(8,vH,4,6,"div",20)(9,EH,4,6,"div",20)(10,IH,4,6,"div",20),a(),r(11,"td"),S(12,MH,4,6,"div",20)(13,bH,4,6,"div",20)(14,TH,4,6,"div",20)(15,wH,4,6,"div",20),a(),r(16,"td"),S(17,xH,4,6,"div",20)(18,AH,4,6,"div",20)(19,PH,4,6,"div",20)(20,kH,4,6,"div",20),a()()),n&2){let e=l.$implicit,i=m();o(2),y("",oi(3,14,e.expertPriceType,i.dataModelEstatePropertyExpertPriceTypeEnumResult.listItems)," "),o(3),M(e.createdYaer),o(2),d("ngIf",e.salePriceMin&&e.salePriceMin>0),o(),d("ngIf",e.rentPriceMin&&e.rentPriceMin>0),o(),d("ngIf",e.depositPriceMin&&e.depositPriceMin>0),o(),d("ngIf",e.periodPriceMin&&e.periodPriceMin>0),o(2),d("ngIf",e.salePriceAverage&&e.salePriceAverage>0),o(),d("ngIf",e.rentPriceAverage&&e.rentPriceAverage>0),o(),d("ngIf",e.depositPriceAverage&&e.depositPriceAverage>0),o(),d("ngIf",e.periodPriceAverage&&e.periodPriceAverage>0),o(2),d("ngIf",e.salePriceMax&&e.salePriceMax>0),o(),d("ngIf",e.rentPriceMax&&e.rentPriceMax>0),o(),d("ngIf",e.depositPriceMax&&e.depositPriceMax>0),o(),d("ngIf",e.periodPriceMax&&e.periodPriceMax>0)}}function RH(n,l){if(n&1&&(r(0,"button",25),C(1,"i",26),c(2),_(3,"translate"),a()),n&2){m(2);let e=k(9);d("disabled",!e.form.valid),o(2),y(" ",g(3,2,"ACTION.Inquiry")," ")}}function LH(n,l){if(n&1){let e=I();r(0,"div",21)(1,"button",22),E("click",function(){u(e);let t=m();return f(t.onFormCancel())}),C(2,"i",23),c(3),_(4,"translate"),a(),S(5,RH,4,4,"button",24),a()}if(n&2){let e=m();o(3),y(" ",g(4,2,"ACTION.CANCEL")," "),o(2),d("ngIf",e.formInfo.formSubmitAllow)}}var ed=class ed{constructor(l,e,i,t,s,h,p,D,z){this.data=l;this.dialogRef=e;this.coreEnumService=i;this.estatePropertyExpertPriceService=t;this.estateEnumService=s;this.cmsToastrService=h;this.publicHelper=p;this.cdr=D;this.translate=z;this.constructorInfoAreaId=this.constructor.name;this.appLanguage="fa";this.dataModel=new Ma;this.dataModelResult=new G;this.dataModelEstatePropertyExpertPriceTypeEnumResult=new G;this.formInfo=new me;this.PropertyTypeSelected=new Gt;this.dataModelCorCurrencySelector=new Di;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,l&&(this.dataModel.linkLocationId=+l.linkLocationId|0,this.dataModel.linkCoreCurrencyId=+l.linkCoreCurrencyId|0,this.dataModel.createdYaer=+l.createdYaer|0,this.dataModel.linkContractTypeId=l.linkContractTypeId,this.dataModel.linkPropertyTypeLanduseId=l.linkPropertyTypeLanduseId,this.dataModel.linkPropertyTypeUsageId=l.linkPropertyTypeUsageId)}ngOnInit(){this.translate.get("TITLE.Expert_Price_Inquiry").subscribe(l=>{this.formInfo.formTitle=l}),this.getEstatePropertyExpertPriceTypeEnum(),this.dataModel.linkLocationId>0&&this.dataModel.linkCoreCurrencyId>0&&this.dataModel.createdYaer>0&&this.dataModel.linkContractTypeId&&this.dataModel.linkContractTypeId.length>0&&this.dataModel.linkPropertyTypeLanduseId&&this.dataModel.linkPropertyTypeLanduseId.length>0&&this.dataModel.linkPropertyTypeUsageId&&this.dataModel.linkPropertyTypeUsageId.length>0&&this.DataActionContent()}getEstatePropertyExpertPriceTypeEnum(){this.estateEnumService.ServiceEstatePropertyExpertPriceTypeEnum().subscribe({next:l=>{this.dataModelEstatePropertyExpertPriceTypeEnumResult=l}})}DataActionContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError="";let l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(l,e,this.constructorInfoAreaId)}),this.dataModelResult=new G,this.estatePropertyExpertPriceService.ServicePriceInquiryList(this.dataModel).subscribe({next:e=>{this.formInfo.formSubmitAllow=!0,e.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(i=>{this.formInfo.formAlert=i}),e.listItems&&e.listItems.length>0?this.dataModelResult=e:(this.translate.get("MESSAGE.PriceInquiryCalculateNotFind").subscribe(i=>{this.cmsToastrService.typeWarningMessage(i)}),this.dialogRef.close({dialogChangedDate:!0}))):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError=e.errorMessage,this.cmsToastrService.typeErrorMessage(e.errorMessage)),this.publicHelper.processService.processStop(l)},error:e=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(l,!1)}})}onActionSelectorSelectUsage(l){if(!l||!l.id||l.id.length<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(e=>{this.cmsToastrService.typeWarningSelected(e)});return}this.dataModel.linkPropertyTypeUsageId=l.id}onActionSelectorSelectLanduse(l){if(this.PropertyTypeSelected=null,this.dataModel.linkPropertyTypeLanduseId=null,!l||!l.id||l.id.length<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(e=>{this.cmsToastrService.typeWarningSelected(e)});return}this.PropertyTypeSelected=l,this.dataModel.linkPropertyTypeLanduseId=l.id}onActionSelectorContarctType(l){if(this.dataModel.linkContractTypeId=null,!l||!l.id||l.id.length<=0){this.translate.get("MESSAGE.Type_of_property_transaction_is_not_known").subscribe(e=>{this.cmsToastrService.typeWarningSelected(e)});return}this.dataModel.linkContractTypeId=l.id}onActionSelectorLocation(l){this.dataModel.linkLocationId=null,l&&l.id>0&&(this.dataModel.linkLocationId=l.id)}onActionSelectCurrency(l){if(!l||l.id<=0){this.dataModelCorCurrencySelector=null,this.dataModel.linkCoreCurrencyId=null;return}this.dataModelCorCurrencySelector=l,this.dataModel.linkCoreCurrencyId=l.id}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataActionContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};ed.\u0275fac=function(e){return new(e||ed)(v(be),v(Me),v(J),v(Co),v(sn),v(V),v(F),v(B),v(L))},ed.\u0275cmp=R({type:ed,selectors:[["app-estate-property-expert-price-inquiry-list"]],viewQuery:function(e,i){if(e&1&&ee(fH,5),e&2){let t;te(t=ie())&&(i.formGroup=t.first)}},standalone:!1,decls:50,vars:45,consts:[["vform","ngForm"],["CreatedYaer",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.createdYaer",1,"color-highlight"],["matInput","","name","dataModel.SalePriceAverage","type","number","id","dataModel.createdYaer","placeholder","0",3,"ngModelChange","ngModel"],[3,"optionChange","optionSelectForce","optionPlaceholder","optionDisabled"],[3,"optionChange","optionSelectFirstItem","optionSelectForce","optionPlaceholder"],[3,"optionTypeView","optionDisabled","optionSelectForce","optionPlaceholder","optionChange",4,"ngIf"],[3,"optionDisabled","optionTypeView","optionSelectForce","optionPlaceholder","optionChange",4,"ngIf"],[3,"optionChange","optionDisabled","optionTypeView","optionSelectForce","optionPlaceholder"],["class","margin-top","matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],[4,"ngFor","ngForOf"],["class","form-actions",4,"ngIf"],[3,"optionChange","optionTypeView","optionDisabled","optionSelectForce","optionPlaceholder"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",1,"margin-top",3,"click"],[4,"ngIf"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-green",3,"disabled",4,"ngIf"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(e,i){if(e&1){let t=I();r(0,"div",2),C(1,"app-progress-spinner",3),r(2,"div",4)(3,"p",5),c(4),a(),r(5,"p"),c(6),_(7,"translate"),a(),r(8,"form",6,0),E("ngSubmit",function(){return u(t),f(i.onFormSubmit())}),r(10,"div",7)(11,"label",8),c(12),_(13,"translate"),a(),r(14,"input",9,1),w("ngModelChange",function(h){return u(t),T(i.dataModel.createdYaer,h)||(i.dataModel.createdYaer=h),f(h)}),a()(),C(16,"br"),r(17,"app-cms-location-selector",10),_(18,"translate"),E("optionChange",function(h){return u(t),f(i.onActionSelectorLocation(h))}),C(19,"br"),a(),r(20,"app-cms-currency-selector",11),_(21,"translate"),E("optionChange",function(h){return u(t),f(i.onActionSelectCurrency(h))}),a(),C(22,"br"),S(23,gH,3,7,"app-estate-contract-type-selector",12),C(24,"br"),S(25,yH,3,7,"app-estate-property-type-usage-selector",13),C(26,"br"),r(27,"app-estate-property-type-landuse-selector",14),_(28,"translate"),E("optionChange",function(h){return u(t),f(i.onActionSelectorSelectLanduse(h))}),S(29,CH,2,0,"mat-icon",15),a(),C(30,"hr"),r(31,"table")(32,"tr")(33,"td"),c(34),_(35,"translate"),a(),r(36,"td"),c(37),_(38,"translate"),a(),r(39,"td"),c(40),_(41,"translate"),a(),r(42,"td"),c(43),_(44,"translate"),a(),r(45,"td"),c(46),_(47,"translate"),a()(),S(48,DH,21,17,"tr",16),a(),S(49,LH,6,4,"div",17),a()()()}e&2&&(o(),d("optionsInfoAreaId",i.constructorInfoAreaId),o(3),y(" ",i.formInfo.formTitle," "),o(2),y(" ",g(7,25,"TITLE.Be_Careful_When_Entering_Information")," "),o(6),M(g(13,27,"TITLE.CreatedYaer")),o(2),b("ngModel",i.dataModel.createdYaer),o(3),d("optionSelectForce",i.dataModel.linkLocationId)("optionPlaceholder",g(18,29,"TITLE.Geographical_Region"))("optionDisabled",!1),o(3),d("optionSelectFirstItem",!1)("optionSelectForce",i.dataModel.linkCoreCurrencyId)("optionPlaceholder",g(21,31,"TITLE.Specify_the_transaction_currency")),o(3),d("ngIf",i.dataModel.linkCoreCurrencyId&&i.dataModel.linkCoreCurrencyId>0),o(2),d("ngIf",i.dataModel.linkCoreCurrencyId&&i.dataModel.linkCoreCurrencyId>0),o(2),d("optionDisabled",!1)("optionTypeView",1)("optionSelectForce",i.dataModel.linkPropertyTypeLanduseId)("optionPlaceholder",g(28,33,"TITLE.Property_Type")),o(2),d("ngIf",i.dataModel.linkPropertyTypeLanduseId&&(i.dataModel.linkPropertyTypeLanduseId==null?null:i.dataModel.linkPropertyTypeLanduseId.length)>0),o(5),M(g(35,35,"TITLE.Expert_Type")),o(3),M(g(38,37,"TITLE.CreatedYaer")),o(3),M(g(41,39,"TITLE.Minimum")),o(3),M(g(44,41,"TITLE.Average")),o(3),M(g(47,43,"TITLE.Maximum")),o(2),d("ngForOf",i.dataModelResult.listItems),o(),d("ngIf",!i.publicHelper.processService.process.inRunAll))},dependencies:[Ne,N,ke,Y,Ot,q,Te,ce,Pe,et,Ee,Q,Fi,si,U,_i,nn,on,ho,O,Pa],styles:["@media (max-width: 1399px){.wizard.wizard-4[_ngcontent-%COMP%]   .wizard-nav[_ngcontent-%COMP%]   .wizard-steps[_ngcontent-%COMP%]   .wizard-step[_ngcontent-%COMP%]{flex:0 0 calc(25% - .25rem)}}form[_ngcontent-%COMP%]{text-align:right}.wrapper[_ngcontent-%COMP%]{display:flex;padding-top:15px}.lbl-status[_ngcontent-%COMP%]{width:100px;display:flex;align-items:flex-end;justify-content:center;margin-top:5px}.status-select[_ngcontent-%COMP%]{width:970px}textarea[_ngcontent-%COMP%]{resize:none}.calender-select[_ngcontent-%COMP%]{width:252px}.next-modal[_ngcontent-%COMP%]{width:100px;margin-right:15px}.pb-4[_ngcontent-%COMP%], .py-4[_ngcontent-%COMP%]{padding-bottom:7px!important;padding-top:7px!important}tag-input[_ngcontent-%COMP%]{width:1000px}.leaflet-pane[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute!important}.fs-container[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;top:0;left:0}.lbl-content[_ngcontent-%COMP%]{width:100px;display:flex;align-items:flex-end;justify-content:center;margin-top:25px}@media (min-width: 1400px){.col-xxl-7[_ngcontent-%COMP%]{max-width:100%!important;flex:0 0 100%}}.heroes[_ngcontent-%COMP%]{margin:0 0 2em;list-style-type:none;padding:0;width:15em}.heroes[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{cursor:pointer;position:relative;left:0;background-color:#eee;margin:.5em;padding:.3em 0;height:1.6em;border-radius:4px}.heroes[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{color:#607d8b;background-color:#ddd;left:.1em}.heroes[_ngcontent-%COMP%]   li.selected[_ngcontent-%COMP%]{background-color:#cfd8dc;color:#fff}.heroes[_ngcontent-%COMP%]   li.selected[_ngcontent-%COMP%]:hover{background-color:#bbd8dc;color:#fff}.heroes[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{display:inline-block;font-size:small;color:#fff;padding:.8em .7em 0;background-color:#405061;line-height:1em;position:relative;left:-1px;top:-4px;height:1.8em;margin-right:.8em;border-radius:4px 0 0 4px}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border:2px solid black;padding:15px}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:2px solid black;padding:15px;text-align:center}.margin-top[_ngcontent-%COMP%]{margin-top:10px}"]});var ra=ed;var VH=()=>["expandedTitle"],OH=()=>["expandedDetail"],FH=()=>[5,10,20,100],Q0=n=>({display:n});function BH(n,l){if(n&1){let e=I();r(0,"div",50)(1,"a",51),E("click",function(){u(e);let t=m();return f(t.onActionButtonNewRow())}),C(2,"i",52)(3,"br"),a(),r(4,"p",53),c(5),_(6,"translate"),a()()}n&2&&(o(5),M(g(6,1,"ACTION.ADD")))}function NH(n,l){if(n&1){let e=I();r(0,"div",50)(1,"a",54),E("click",function(){u(e);let t=m();return f(t.onActionButtonEditRow(t.tableRowSelected))}),C(2,"i",55)(3,"br"),a(),r(4,"p",53),c(5),_(6,"translate"),a()()}n&2&&(o(5),M(g(6,1,"ACTION.EDIT")))}function HH(n,l){if(n&1){let e=I();r(0,"div",50)(1,"a",56),E("click",function(){u(e);let t=m();return f(t.onActionButtonDeleteRow(t.tableRowSelected))}),C(2,"i",57)(3,"br"),a(),r(4,"p",53),c(5),_(6,"translate"),a()()}n&2&&(o(5),M(g(6,1,"ACTION.DELETE")))}function WH(n,l){if(n&1){let e=I();r(0,"div",50)(1,"a",58),E("click",function(){u(e);let t=m();return f(t.onActionPriceInquiryCalculate())}),C(2,"i",59)(3,"br"),a(),r(4,"p",53),c(5),_(6,"translate"),a()()}n&2&&(o(5),M(g(6,1,"ACTION.PriceInquiryCalculate")))}function GH(n,l){n&1&&(r(0,"mat-header-cell"),c(1),_(2,"translate"),a()),n&2&&(o(),y(" ",g(2,1,"TITLE.MENU")," "))}function UH(n,l){if(n&1){let e=I();r(0,"mat-cell")(1,"button",60),E("click",function(){let t=u(e).$implicit,s=m();return f(s.onActionTableRowSelectActionMenu(t))}),C(2,"i",61),a()()}}function jH(n,l){n&1&&(r(0,"mat-header-cell",62),c(1),_(2,"translate"),a()),n&2&&(o(),y(" ",g(2,1,"TITLE.PICTURE")," "))}function qH(n,l){if(n&1&&(C(0,"img",64),_(1,"cmsthumbnail")),n&2){let e=m().$implicit;d("src",x(g(1,2,e.linkMainImageIdSrc)),j)}}function QH(n,l){if(n&1&&(r(0,"mat-cell"),S(1,qH,2,4,"img",63),a()),n&2){let e=l.$implicit;o(),d("ngIf",(e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0)}}function zH(n,l){if(n&1&&(r(0,"mat-header-cell",62),c(1),a()),n&2){let e=m();o(),y(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function YH(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),y(" ",e.id," ")}}function KH(n,l){if(n&1&&(r(0,"mat-header-cell",62),c(1),a()),n&2){let e=m();o(),y(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function ZH(n,l){if(n&1&&(r(0,"mat-cell"),c(1),_(2,"cmssiteinfo"),_(3,"async"),a()),n&2){let e=l.$implicit;o(),y(" ",g(3,3,g(2,1,e.linkSiteId))," ")}}function JH(n,l){if(n&1&&(r(0,"mat-header-cell",62),c(1),a()),n&2){let e=m();o(),y(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function XH(n,l){if(n&1&&C(0,"select",67),n&2){let e=m().$implicit,i=m();d("contentService",i.contentService)("row",e)("ngStyle",ze(3,Q0,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function $H(n,l){if(n&1&&(r(0,"mat-cell"),C(1,"i",65),_(2,"statusIconClass"),S(3,XH,1,5,"select",66),a()),n&2){let e=l.$implicit,i=m();o(),d("ngClass",g(2,2,e.recordStatus)),o(2),d("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessEditRow)}}function eW(n,l){if(n&1&&(r(0,"mat-header-cell",62),c(1),a()),n&2){let e=m();o(),y(" ",e.fieldsInfo.expertPriceType==null?null:e.fieldsInfo.expertPriceType.fieldTitle," ")}}function tW(n,l){if(n&1&&(r(0,"mat-cell"),c(1),_(2,"enums"),a()),n&2){let e=l.$implicit,i=m();o(),y(" ",oi(2,1,e.expertPriceType,i.dataModelEstatePropertyExpertPriceTypeEnumResult.listItems)," ")}}function iW(n,l){if(n&1&&(r(0,"mat-header-cell",62),c(1),a()),n&2){let e=m();o(),y(" ",e.fieldsInfo.createdYaer==null?null:e.fieldsInfo.createdYaer.fieldTitle," ")}}function nW(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),y(" ",e.createdYaer," ")}}function oW(n,l){if(n&1&&(r(0,"mat-header-cell",62),c(1),a()),n&2){let e=m();o(),y(" ",e.fieldsInfo.linkLocationId==null?null:e.fieldsInfo.linkLocationId.fieldTitle," ")}}function rW(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),$(" ",e.linkLocationIdTitle," / ",e.linkLocationIdParentTitle)}}function aW(n,l){if(n&1&&(r(0,"mat-header-cell",62),c(1),a()),n&2){let e=m();o(),y(" ",e.fieldsInfo.linkPropertyTypeUsageId==null?null:e.fieldsInfo.linkPropertyTypeUsageId.fieldTitle," ")}}function lW(n,l){if(n&1&&(r(0,"mat-cell"),c(1),_(2,"cmstitle"),a()),n&2){let e=l.$implicit,i=m();o(),y(" ",oi(2,1,e.linkPropertyTypeUsageId,i.dataModelEstatePropertyTypeUsageResult.listItems)," ")}}function sW(n,l){if(n&1&&(r(0,"mat-header-cell",62),c(1),a()),n&2){let e=m();o(),y(" ",e.fieldsInfo.linkPropertyTypeLanduseId==null?null:e.fieldsInfo.linkPropertyTypeLanduseId.fieldTitle," ")}}function dW(n,l){if(n&1&&(r(0,"mat-cell"),c(1),_(2,"cmstitle"),a()),n&2){let e=l.$implicit,i=m();o(),y(" ",oi(2,1,e.linkPropertyTypeLanduseId,i.dataModelEstatePropertyTypeLanduseResult.listItems)," ")}}function cW(n,l){if(n&1&&(r(0,"mat-header-cell",62),c(1),a()),n&2){let e=m();o(),y(" ",e.fieldsInfo.linkContractTypeId==null?null:e.fieldsInfo.linkContractTypeId.fieldTitle," ")}}function pW(n,l){if(n&1&&(r(0,"mat-cell"),c(1),_(2,"cmstitle"),a()),n&2){let e=l.$implicit,i=m();o(),y(" ",oi(2,1,e.linkContractTypeId,i.dataModelEstateContractTypeResult.listItems)," ")}}function mW(n,l){if(n&1&&(r(0,"mat-header-cell",62),c(1),a()),n&2){let e=m();o(),y(" ",e.fieldsInfo.linkCoreCurrencyId==null?null:e.fieldsInfo.linkCoreCurrencyId.fieldTitle," ")}}function uW(n,l){if(n&1&&(r(0,"mat-cell"),c(1),_(2,"cmstitle"),a()),n&2){let e=l.$implicit,i=m();o(),y(" ",oi(2,1,e.linkCoreCurrencyId,i.dataModelCoreCurrencyResult.listItems)," ")}}function fW(n,l){if(n&1&&(r(0,"mat-header-cell",62),c(1),a()),n&2){let e=m();o(),y(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function _W(n,l){if(n&1&&(r(0,"mat-cell"),c(1),_(2,"localeDate"),a()),n&2){let e=l.$implicit;o(),y(" ",g(2,1,e.createdDate)," ")}}function gW(n,l){n&1&&(r(0,"mat-header-cell"),c(1),_(2,"translate"),a()),n&2&&(o(),y(" ",g(2,1,"TITLE.OPTION")," "))}function hW(n,l){if(n&1&&(r(0,"mat-cell",68)(1,"button",69)(2,"mat-icon"),c(3,"more_vert"),a()(),C(4,"mat-menu",null,2),a()),n&2){let e=k(5);o(),d("matMenuTriggerFor",e)}}function yW(n,l){if(n&1&&(r(0,"mat-cell"),c(1),_(2,"translate"),C(3,"br"),c(4),_(5,"translate"),_(6,"localeDate"),C(7,"br"),c(8),_(9,"translate"),_(10,"cmstitle"),C(11,"br"),a()),n&2){let e=l.$implicit,i=m();o(),Xp(" ",g(2,7,"TITLE.LocationId")," : ",e.linkLocationIdTitle," / ",e.linkLocationIdParentTitle," "),o(3),$(" ",g(5,9,"TITLE.CreationDate")," : ",g(6,11,e.createdDate)," "),o(4),$(" ",g(9,13,"TITLE.LinkAgreementTypeIdentifier")," : ",oi(10,15,e.linkContractTypeId,i.dataModelEstateContractTypeResult.listItems)," ")}}function CW(n,l){if(n&1&&(r(0,"div"),c(1),_(2,"translate"),_(3,"number"),a()),n&2){let e=m().$implicit;o(),$("",g(2,2,"TITLE.SalePrice")," : ",g(3,4,e.salePriceMin)," ")}}function SW(n,l){if(n&1&&(r(0,"div"),c(1),_(2,"translate"),_(3,"number"),a()),n&2){let e=m().$implicit;o(),$("",g(2,2,"TITLE.RentPrice")," : ",g(3,4,e.rentPriceMin)," ")}}function vW(n,l){if(n&1&&(r(0,"div"),c(1),_(2,"translate"),_(3,"number"),a()),n&2){let e=m().$implicit;o(),$(" ",g(2,2,"TITLE.DepositPrice")," : ",g(3,4,e.depositPriceMin)," ")}}function EW(n,l){if(n&1&&(r(0,"div"),c(1),_(2,"translate"),_(3,"number"),a()),n&2){let e=m().$implicit;o(),$(" ",g(2,2,"TITLE.PeriodPrice"),": ",g(3,4,e.periodPriceMin)," ")}}function IW(n,l){if(n&1&&(r(0,"div"),c(1),_(2,"translate"),_(3,"number"),a()),n&2){let e=m().$implicit;o(),$(" ",g(2,2,"TITLE.SalePrice")," : ",g(3,4,e.salePriceAverage)," ")}}function MW(n,l){if(n&1&&(r(0,"div"),c(1),_(2,"translate"),_(3,"number"),a()),n&2){let e=m().$implicit;o(),$(" ",g(2,2,"TITLE.RentPrice")," : ",g(3,4,e.rentPriceAverage)," ")}}function bW(n,l){if(n&1&&(r(0,"div"),c(1),_(2,"translate"),_(3,"number"),a()),n&2){let e=m().$implicit;o(),$(" ",g(2,2,"TITLE.DepositPrice")," : ",g(3,4,e.depositPriceAverage)," ")}}function TW(n,l){if(n&1&&(r(0,"div"),c(1),_(2,"translate"),_(3,"number"),a()),n&2){let e=m().$implicit;o(),$(" ",g(2,2,"TITLE.PeriodPrice"),": ",g(3,4,e.periodPriceAverage)," ")}}function wW(n,l){if(n&1&&(r(0,"div"),c(1),_(2,"translate"),_(3,"number"),a()),n&2){let e=m().$implicit;o(),$("",g(2,2,"TITLE.SalePrice")," : ",g(3,4,e.salePriceMax)," ")}}function xW(n,l){if(n&1&&(r(0,"div"),c(1),_(2,"translate"),_(3,"number"),a()),n&2){let e=m().$implicit;o(),$("",g(2,2,"TITLE.RentPrice")," : ",g(3,4,e.rentPriceMax)," ")}}function AW(n,l){if(n&1&&(r(0,"div"),c(1),_(2,"translate"),_(3,"number"),a()),n&2){let e=m().$implicit;o(),$(" ",g(2,2,"TITLE.DepositPrice")," : ",g(3,4,e.depositPriceMax)," ")}}function PW(n,l){if(n&1&&(r(0,"div"),c(1),_(2,"translate"),_(3,"number"),a()),n&2){let e=m().$implicit;o(),$(" ",g(2,2,"TITLE.PeriodPrice"),": ",g(3,4,e.periodPriceMax)," ")}}function kW(n,l){if(n&1){let e=I();r(0,"mat-cell")(1,"div")(2,"table",70)(3,"tr")(4,"td"),c(5),_(6,"translate"),a(),r(7,"td"),c(8),_(9,"translate"),a(),r(10,"td"),c(11),_(12,"translate"),a()(),r(13,"tr")(14,"td"),S(15,CW,4,6,"div",71)(16,SW,4,6,"div",71)(17,vW,4,6,"div",71)(18,EW,4,6,"div",71),a(),r(19,"td"),S(20,IW,4,6,"div",71)(21,MW,4,6,"div",71)(22,bW,4,6,"div",71)(23,TW,4,6,"div",71),a(),r(24,"td"),S(25,wW,4,6,"div",71)(26,xW,4,6,"div",71)(27,AW,4,6,"div",71)(28,PW,4,6,"div",71),a()()(),C(29,"br"),r(30,"div")(31,"span",72),E("click",function(){u(e);let t=m();return f(t.onActionCopied())}),C(32,"i",73),a(),c(33),a(),r(34,"div"),c(35),_(36,"translate"),_(37,"enums"),a(),r(38,"div"),c(39),_(40,"translate"),_(41,"cmstitle"),a(),C(42,"br"),a()()}if(n&2){let e=l.$implicit,i=m();o(5),M(g(6,21,"TITLE.Minimum")),o(3),M(g(9,23,"TITLE.Average")),o(3),M(g(12,25,"TITLE.Maximum")),o(4),d("ngIf",e.salePriceMin&&e.salePriceMin>0),o(),d("ngIf",e.rentPriceMin&&e.rentPriceMin>0),o(),d("ngIf",e.depositPriceMin&&e.depositPriceMin>0),o(),d("ngIf",e.periodPriceMin&&e.periodPriceMin>0),o(2),d("ngIf",e.salePriceAverage&&e.salePriceAverage>0),o(),d("ngIf",e.rentPriceAverage&&e.rentPriceAverage>0),o(),d("ngIf",e.depositPriceAverage&&e.depositPriceAverage>0),o(),d("ngIf",e.periodPriceAverage&&e.periodPriceAverage>0),o(2),d("ngIf",e.salePriceMax&&e.salePriceMax>0),o(),d("ngIf",e.rentPriceMax&&e.rentPriceMax>0),o(),d("ngIf",e.depositPriceMax&&e.depositPriceMax>0),o(),d("ngIf",e.periodPriceMax&&e.periodPriceMax>0),o(3),d("cdkCopyToClipboard",e.id),o(2),y(" ",e.id," "),o(2),$(" ",g(36,27,"TITLE.ExpertPriceType")," : ",oi(37,29,e.expertPriceType,i.dataModelEstatePropertyExpertPriceTypeEnumResult.listItems)," "),o(4),$(" ",g(40,32,"TITLE.TheUsageIdentifierOfTheLinkAssetType")," : ",oi(41,34,e.linkPropertyTypeUsageId,i.dataModelEstatePropertyTypeUsageResult.listItems)," ")}}function DW(n,l){n&1&&C(0,"mat-header-row")}function RW(n,l){if(n&1){let e=I();r(0,"mat-row",74),E("click",function(){let t=u(e).$implicit,s=m();return f(s.onActionTableRowSelect(t))})("mouseenter",function(){let t=u(e).$implicit,s=m();return f(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=u(e).$implicit,s=m();return f(s.onActionTableRowMouseLeave(t))}),a()}if(n&2){let e=l.$implicit,i=l.dataIndex,t=m();Se("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",e.id===(t.tableRowSelected==null?null:t.tableRowSelected.id))}}function LW(n,l){if(n&1){let e=I();r(0,"mat-row",74),E("click",function(){let t=u(e).$implicit,s=m();return f(s.onActionTableRowSelect(t))})("mouseenter",function(){let t=u(e).$implicit,s=m();return f(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=u(e).$implicit,s=m();return f(s.onActionTableRowMouseLeave(t))}),a()}if(n&2){let e=l.$implicit,i=l.dataIndex,t=m();Se("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",e.id===(t.tableRowSelected==null?null:t.tableRowSelected.id))}}function VW(n,l){if(n&1){let e=I();r(0,"mat-row",75),E("click",function(){let t=u(e).$implicit,s=m();return f(s.onActionTableRowSelect(t))})("mouseenter",function(){let t=u(e).$implicit,s=m();return f(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=u(e).$implicit,s=m();return f(s.onActionTableRowMouseLeave(t))}),a()}if(n&2){let e=l.$implicit,i=l.dataIndex,t=m();Se("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",e.id===(t.tableRowSelected==null?null:t.tableRowSelected.id)),d("ngStyle",ze(7,Q0,e.expanded===!0?"":"none"))}}var td=class td extends bt{constructor(e,i,t,s,h,p,D,z,he,je,Ge,mt,Nt,Rt,Ut){super(e,new Ar,Rt,he,Ge);this.contentService=e;this.cmsToastrService=i;this.estateEnumService=t;this.cmsConfirmationDialogService=s;this.coreCurrencyService=h;this.estateContractTypeService=p;this.estatePropertyTypeUsageService=D;this.estatePropertyTypeLanduseService=z;this.tokenHelper=he;this.cdr=je;this.translate=Ge;this.cmsStoreService=mt;this.pageInfo=Nt;this.publicHelper=Rt;this.dialog=Ut;this.constructorInfoAreaId=this.constructor.name;this.filteModelContent=new Vm;this.dataModelEstatePropertyExpertPriceTypeEnumResult=new G;this.dataModelEstatePropertyTypeUsageResult=new G;this.dataModelEstatePropertyTypeLanduseResult=new G;this.dataModelEstateContractTypeResult=new G;this.dataModelCoreCurrencyResult=new G;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["LinkMainImageIdSrc","Id","RecordStatus","ExpertPriceType","CreatedYaer","LinkPropertyTypeUsageId","LinkPropertyTypeLanduseId","LinkContractTypeId","action_menu"];this.tabledisplayedColumnsMobileSource=["LinkMainImageIdSrc","Id","RecordStatus","CreatedYaer","LinkPropertyTypeLanduseId","action_menu"];this.dataModelInquiry=new Ma;this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:Fe=>this.onSubmitOptionsSearch(Fe)},this.filteModelContent.sortColumn="CreatedYaer",this.filteModelContent.sortType=X.Descending}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.cmsApiStoreSubscribe=this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>re(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})),this.getEstatePropertyExpertPriceTypeEnum(),this.getEstatePropertyTypeUsages(),this.getEstatePropertyTypeLanduses(),this.getEstateContractTypes(),this.getCoreCurrency()}ngOnDestroy(){this.cmsApiStoreSubscribe&&this.cmsApiStoreSubscribe.unsubscribe()}getEstatePropertyExpertPriceTypeEnum(){this.estateEnumService.ServiceEstatePropertyExpertPriceTypeEnum().subscribe({next:e=>{this.dataModelEstatePropertyExpertPriceTypeEnumResult=e}})}getEstatePropertyTypeUsages(){let e=this.constructor.name+"getCoreCurrency",i=new pe;i.rowPerPage=100,this.estatePropertyTypeUsageService.setAccessLoad(),this.estatePropertyTypeUsageService.ServiceGetAllEditor(i).subscribe({next:t=>{t.isSuccess?this.dataModelEstatePropertyTypeUsageResult=t:this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}getEstatePropertyTypeLanduses(){let e=this.constructor.name+"getCoreCurrency",i=new pe;i.rowPerPage=100,this.estatePropertyTypeLanduseService.ServiceGetAllEditor(i).subscribe({next:t=>{t.isSuccess?this.dataModelEstatePropertyTypeLanduseResult=t:this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}getEstateContractTypes(){let e=this.constructor.name+"getCoreCurrency",i=new pe;i.rowPerPage=100,this.estateContractTypeService.ServiceGetAllEditor(i).subscribe({next:t=>{t.isSuccess?this.dataModelEstateContractTypeResult=t:this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}getCoreCurrency(){let e=this.constructor.name+"getCoreCurrency",i=new pe;i.rowPerPage=100,this.coreCurrencyService.ServiceGetAllEditor(i).subscribe({next:t=>{t.isSuccess?this.dataModelCoreCurrencyResult=t:this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Ar);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.setAccessLoad(),this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),t.isSuccess?(this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=X.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=X.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=X.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}let e=new vr;e.disableClose=!0,e.autoFocus=!0,e.height="90%",e.data={};var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(gp,e).afterClosed().subscribe(s=>{s&&s.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}let i=new vr;i.disableClose=!0,i.autoFocus=!0,i.height="90%",i.data={id:this.tableRowSelected.id};var t="";this.publicHelper.isMobile?t="dialog-fullscreen":t="dialog-min",this.dialog.open(hp,i).afterClosed().subscribe(h=>{h&&h.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(s=>{this.cmsToastrService.typeErrorSelected(s)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(s=>{i=s["MESSAGE.Please_Confirm"],t=s["MESSAGE.Do_you_want_to_delete_this_content"]+"?"}),this.cmsConfirmationDialogService.confirm(i,t).then(s=>{if(s){let h=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(p=>{this.publicHelper.processService.processStart(h,p,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:p=>{p.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(h)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(h,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(p=>{i.set(p,0)}),this.translate.get("MESSAGE.All").subscribe(p=>{i.set(p,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(p=>{this.publicHelper.processService.processStart(t,p,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:p=>{p.isSuccess?(this.translate.get("MESSAGE.All").subscribe(D=>{i.set(D,p.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(p.errorMessage),this.publicHelper.processService.processStop(t)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(t,!1)}});let s=JSON.parse(JSON.stringify(this.filteModelContent)),h=new H;h.propertyName="RecordStatus",h.value=qe.Available,s.filters.push(h),this.contentService.ServiceGetCount(s).subscribe({next:p=>{p.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(D=>{i.set(D,p.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(p.errorMessage),this.publicHelper.processService.processStop(t)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(t,!1)}})}onActionSelectorLocation(e){this.filteModelContent.linkLocationIds=e}onActionButtonReload(){this.DataGetAll()}onActionCopied(){this.cmsToastrService.typeSuccessCopedToClipboard()}onSubmitOptionsSearch(e){e&&e.length>0&&(this.filteModelContent.filters=[...this.filteModelContent.filters,...e]),this.DataGetAll()}onActionPriceInquiryCalculate(){if(this.dataModelResult==null||this.dataModelResult.access==null){this.cmsToastrService.typeErrorAccessAdd();return}let e=new vr;e.disableClose=!0,e.autoFocus=!0,e.height="90%",e.data={id:this.tableRowSelected.id};var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(yp,e).afterClosed().subscribe(s=>{s&&s.dialogChangedDate&&this.DataGetAll()})}onActionPriceInquiryList(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}let e=new vr;e.disableClose=!0,e.autoFocus=!0,e.height="90%",e.data={id:this.tableRowSelected.id};var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(ra,e).afterClosed().subscribe(s=>{s&&s.dialogChangedDate})}};td.\u0275fac=function(i){return new(i||td)(v(Co),v(V),v(sn),v(Mt),v(fm),v(xi),v(gn),v(yi),v(K),v(B),v(L),v(Z),v(ht),v(F),v(xe))},td.\u0275cmp=R({type:td,selectors:[["app-estate-property-expert-price-list"]],standalone:!1,features:[ne],decls:91,vars:41,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionActionRowDisplayMenuAct","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-maximize","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-minimize","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],[3,"optionChange","optionSelectForce","optionPlaceholder"],["cms-body",""],["matSort","","multiTemplateDataRows","",3,"matSortChange","dataSource"],["matColumnDef","action_menu"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkMainImageIdSrc"],["mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","Id"],["matColumnDef","LinkSiteId"],["matColumnDef","RecordStatus"],["matColumnDef","ExpertPriceType"],["matColumnDef","CreatedYaer"],["matColumnDef","LinkLocationId"],["matColumnDef","LinkPropertyTypeUsageId"],["matColumnDef","LinkPropertyTypeLanduseId"],["matColumnDef","LinkContractTypeId"],["matColumnDef","LinkCoreCurrencyId"],["matColumnDef","CreatedDate"],["matColumnDef","Action"],["class","Action",4,"matCellDef"],["matColumnDef","expandedTitle"],["matColumnDef","expandedDetail"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","ngStyle","click","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],[1,"col-4"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#FFFFFF"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","target","_blank","id","openModalButton","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-calculator","font-18",2,"color","#ffffff"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"click"],[1,"fa","fa-bars","font-18"],["mat-sort-header",""],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","40","width","40",3,"src",4,"ngIf"],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],["id","table1",2,"border-collapse","collapse"],[4,"ngIf"],[1,"navi-icon","pointer",3,"click","cdkCopyToClipboard"],[1,"flaticon2-copy"],[3,"click","mouseenter","mouseleave"],[3,"click","mouseenter","mouseleave","ngStyle"]],template:function(i,t){if(i&1){let s=I();r(0,"app-cms-html-list",3),w("optionActionGuideNoticeDisplayChange",function(p){return u(s),T(t.viewGuideNotice,p)||(t.viewGuideNotice=p),f(p)}),E("optionOnActionButtonMemoRow",function(){return u(s),f(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return u(s),f(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return u(s),f(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return u(s),f(t.onActionButtonPrintRow())}),Qe(1,4)(2,5)(3,6),A(4,7),r(5,"a",8),E("click",function(){return u(s),f(t.viewGuideNotice=!t.viewGuideNotice)}),C(6,"i",9),a(),r(7,"a",8),E("click",function(){return u(s),f(t.onActionButtonReload())}),C(8,"i",10),a(),r(9,"a",11),E("click",function(){return u(s),f(t.onActionGridExpandRows(!0))}),C(10,"i",12),a(),r(11,"a",11),E("click",function(){return u(s),f(t.onActionGridExpandRows(!1))}),C(12,"i",13),a(),P(),A(13,14),r(14,"a",15),E("click",function(){return u(s),f(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),C(15,"mat-slide-toggle",16),c(16),_(17,"translate"),a(),r(18,"a",15),E("click",function(){return u(s),f(t.onActionButtonStatist())}),C(19,"mat-slide-toggle",16),c(20),_(21,"translate"),a(),P(),A(22,17),S(23,BH,7,3,"div",18),P(),A(24,19),S(25,NH,7,3,"div",18)(26,HH,7,3,"div",18)(27,WH,7,3,"div",18),P(),A(28,20),r(29,"app-cms-search-list",21),w("optionsChange",function(p){return u(s),T(t.optionsSearch,p)||(t.optionsSearch=p),f(p)}),c(30),_(31,"translate"),r(32,"app-cms-location-autocomplete",22),_(33,"translate"),E("optionChange",function(p){return u(s),f(t.onActionSelectorLocation(p))}),a()(),r(34,"app-cms-statist-list",21),w("optionsChange",function(p){return u(s),T(t.optionsStatist,p)||(t.optionsStatist=p),f(p)}),a(),P(),A(35,23),r(36,"mat-table",24,0),E("matSortChange",function(){u(s);let p=k(37);return f(t.onTableSortData(p))}),A(38,25),S(39,GH,3,3,"mat-header-cell",26)(40,UH,3,0,"mat-cell",27),P(),A(41,28),S(42,jH,3,3,"mat-header-cell",29)(43,QH,2,1,"mat-cell",27),P(),A(44,30),S(45,zH,2,1,"mat-header-cell",29)(46,YH,2,1,"mat-cell",27),P(),A(47,31),S(48,KH,2,1,"mat-header-cell",29)(49,ZH,4,5,"mat-cell",27),P(),A(50,32),S(51,JH,2,1,"mat-header-cell",29)(52,$H,4,4,"mat-cell",27),P(),A(53,33),S(54,eW,2,1,"mat-header-cell",29)(55,tW,3,4,"mat-cell",27),P(),A(56,34),S(57,iW,2,1,"mat-header-cell",29)(58,nW,2,1,"mat-cell",27),P(),A(59,35),S(60,oW,2,1,"mat-header-cell",29)(61,rW,2,2,"mat-cell",27),P(),A(62,36),S(63,aW,2,1,"mat-header-cell",29)(64,lW,3,4,"mat-cell",27),P(),A(65,37),S(66,sW,2,1,"mat-header-cell",29)(67,dW,3,4,"mat-cell",27),P(),A(68,38),S(69,cW,2,1,"mat-header-cell",29)(70,pW,3,4,"mat-cell",27),P(),A(71,39),S(72,mW,2,1,"mat-header-cell",29)(73,uW,3,4,"mat-cell",27),P(),A(74,40),S(75,fW,2,1,"mat-header-cell",29)(76,_W,3,3,"mat-cell",27),P(),A(77,41),S(78,gW,3,3,"mat-header-cell",26)(79,hW,6,1,"mat-cell",42),P(),A(80,43),S(81,yW,12,18,"mat-cell",27),P(),A(82,44),S(83,kW,43,37,"mat-cell",27),P(),S(84,DW,1,0,"mat-header-row",45)(85,RW,1,6,"mat-row",46)(86,LW,1,6,"mat-row",46)(87,VW,1,9,"mat-row",47),a(),P(),A(88,48),r(89,"mat-paginator",49,1),E("page",function(p){return u(s),f(t.onTablePageingData(p))}),a(),P(),a()}i&2&&(d("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey","estate.propertyexpertprice.list"),b("optionActionGuideNoticeDisplay",t.viewGuideNotice),d("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelectDoubleClick)("optionActionRowDisplayMenuAct",t.tableRowSelectActionMenuClick)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),o(15),d("checked",t.optionsSearch.data.show),o(),y("",g(17,30,"ACTION.SEARCH")," "),o(3),d("checked",t.optionsStatist.data.show),o(),y("",g(21,32,"ACTION.STATIST")," "),o(3),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessAddRow),o(2),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),o(),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),o(),d("ngIf",(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0),o(2),b("options",t.optionsSearch),o(),y(" ",g(31,34,"ACTION.LOCATION")," "),o(2),d("optionSelectForce",t.filteModelContent.linkLocationIds)("optionPlaceholder",g(33,36,"TITLE.Region")),o(2),b("options",t.optionsStatist),o(2),d("dataSource",t.tableSource),o(48),d("matHeaderRowDef",t.tabledisplayedColumns),o(),d("matRowDefColumns",le(38,VH)),o(),d("matRowDefColumns",t.tabledisplayedColumns),o(),d("matRowDefColumns",le(39,OH)),o(2),d("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",le(40,FH)))},dependencies:[se,N,tt,Je,Ee,Q,At,Pt,vt,gt,Et,It,it,ot,st,rt,nt,dt,at,lt,ct,pt,ci,Tt,wt,Qt,xt,Oi,He,ho,O,Pa,On,tn,Ie,Fn,qt],styles:[".float-left[_ngcontent-%COMP%]{float:left!important}.pointer[_ngcontent-%COMP%]{cursor:pointer}#table1[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border:2px solid black;padding:15px}#table1[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:2px solid black;padding:15px;text-align:center}"]});var Cp=td;var z0=uo(Fo());var OW=["*"];function FW(n,l){if(n&1&&(r(0,"label",13),c(1),a()),n&2){let e=m();d("for",ve("app-cms-site-selector-",e.id)),o(),M(e.optionLabel)}}function BW(n,l){if(n&1&&(C(0,"img",14),_(1,"cmsthumbnail")),n&2){let e=m();d("src",x(g(1,2,e.dataModelSelect==null?null:e.dataModelSelect.linkMainImageIdSrc)),j)}}function NW(n,l){if(n&1&&(C(0,"img",14),_(1,"cmsthumbnail")),n&2){let e=m().$implicit;d("src",x(g(1,2,e.linkMainImageIdSrc)),j)}}function HW(n,l){if(n&1&&(r(0,"mat-option",15),S(1,NW,2,4,"img",5),r(2,"span"),c(3),a()()),n&2){let e=l.$implicit,i=m();d("value",e)("disabled",i.optionDisabled),o(),d("ngIf",e.linkMainImageIdSrc),o(2),M(i.displayOption(e))}}function WW(n,l){n&1&&C(0,"i",16)}function GW(n,l){n&1&&C(0,"i",17)}function UW(n,l){if(n&1){let e=I();r(0,"i",18),E("click",function(){u(e);let t=m();return f(t.onActionSelectClear())}),a()}}function jW(n,l){n&1&&(r(0,"em"),c(1),_(2,"translate"),a()),n&2&&(o(),y("(",g(2,1,"TITLE.Necessary"),")"))}var aa=class aa{constructor(l,e,i,t,s,h){this.coreEnumService=l;this.cmsToastrService=e;this.cdr=i;this.publicHelper=t;this.translate=s;this.contentService=h;this.id=++aa.nextId;this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new G;this.dataModelSelect=new Rn;this.formControl=new Ct;this.optionPlaceholder="";this.optionLabel="";this.optionSelectFirstItem=!1;this.optionDisabled=!1;this.optionRequired=!1;this.optionChange=new Xe;this.optionReload=()=>this.onActionButtonReload();this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(l){this.onActionSelectForce(l)}ngOnInit(){this.loadOptions()}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(Kt(""),Yt(1500),Ii(),Zt(l=>typeof l=="string"||typeof l=="number"?this.DataGetAll(l||""):[]))}displayFn(l){return l?l.title:void 0}displayOption(l){return l?l.title:void 0}DataGetAll(l){return re(this,null,function*(){let e=new Ta;e.rowPerPage=20,e.accessLoad=!0;let i=new H;i.propertyName="Title",i.value=l,i.searchType=Oe.Contains,i.clauseType=Ve.Or,e.filters.push(i),l&&typeof l=="string"&&l.length>0&&(i=new H,i.propertyName="Id",i.value=l,i.searchType=Oe.Equal,i.clauseType=Ve.Or,e.filters.push(i)),l?.length>0&&(i=new H,i.propertyName="LinkCmsUserId",i.value=l,i.searchType=Oe.Equal,i.clauseType=Ve.Or,e.filters.push(i),i=new H,i.propertyName="mobileNumber",i.value=l,i.searchType=Oe.Contains,i.clauseType=Ve.Or,e.filters.push(i),i=new H,i.propertyName="phoneNumber",i.value=l,i.searchType=Oe.Contains,i.clauseType=Ve.Or,e.filters.push(i));let t=this.constructor.name+"main";return this.translate.get("MESSAGE.Receiving_information").subscribe(s=>{this.publicHelper.processService.processStart(t,s,this.constructorInfoAreaId)}),Ei(this.contentService.ServiceGetAll(e)).then(s=>(this.dataModelResult=s,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||this.dataModelSelect.id.length<=0)&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0])},1e3),this.onActionSelect(this.dataModelResult.listItems[0])),this.publicHelper.processService.processStop(t),s.listItems))})}onActionSelect(l){this.dataModelSelect=l,this.optionChange.emit(this.dataModelSelect)}onActionSelectClear(){this.dataModelSelect.linkMainImageIdSrc="",this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null)}push(l){return this.filteredOptions.pipe(Lt(e=>(e.find(i=>i.id===l.id)||e.push(l),e)))}onActionSelectForce(l){if(typeof l=="string"&&l.length>0){this.contentService.ServiceGetOneById(l).subscribe({next:e=>{e.isSuccess?(this.filteredOptions=this.push(e.item),this.dataModelSelect=e.item,this.formControl.setValue(e.item)):this.cmsToastrService.typeErrorMessage(e.errorMessage)}});return}if(typeof l==typeof Rn){this.filteredOptions=this.push(l),this.dataModelSelect=l,this.formControl.setValue(l);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new Rn,this.loadOptions()}};aa.nextId=0,aa.\u0275fac=function(e){return new(e||aa)(v(J),v(V),v(B),v(F),v(L),v(fn))},aa.\u0275cmp=R({type:aa,selectors:[["app-estate-property-company-selector"]],inputs:{optionPlaceholder:"optionPlaceholder",optionLabel:"optionLabel",optionSelectFirstItem:"optionSelectFirstItem",optionDisabled:"optionDisabled",optionRequired:"optionRequired",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange"},standalone:!1,ngContentSelectors:OW,decls:16,vars:19,consts:[["matauto","matAutocomplete"],[1,"input-style","has-borders","has-icon","input-style-always-active","validate-field","mb-4","loader-container"],[3,"optionsInfoAreaId"],["class","color-highlight",3,"for",4,"ngIf"],["matPrefix",""],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","25","width","25",3,"src",4,"ngIf"],["type","text","aria-label","Assignee","matInput","",3,"placeholder","formControl","matAutocomplete","required","id"],[3,"optionSelected","displayWith"],[3,"value","disabled",4,"ngFor","ngForOf"],["class","fa fa-info  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],["class","fa fa-times  action color-red-dark",3,"click",4,"ngIf"],[4,"ngIf"],[1,"color-highlight",3,"for"],["aria-hidden","","height","25","width","25",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"value","disabled"],[1,"fa","fa-info","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"fa","fa-times","action","color-red-dark",3,"click"]],template:function(e,i){if(e&1){let t=I();gi(),r(0,"div",1),C(1,"app-progress-spinner",2),S(2,FW,2,3,"label",3),r(3,"span",4),S(4,BW,2,4,"img",5),c(5," \xA0"),a(),C(6,"input",6),r(7,"mat-autocomplete",7,0),E("optionSelected",function(h){return u(t),f(i.onActionSelect(h.option.value))}),S(9,HW,4,4,"mat-option",8),_(10,"async"),a(),S(11,WW,1,0,"i",9)(12,GW,1,0,"i",10)(13,UW,1,0,"i",11)(14,jW,3,3,"em",12),ai(15),a()}if(e&2){let t=k(8);o(),d("optionsInfoAreaId",i.constructorInfoAreaId),o(),d("ngIf",(i.optionLabel==null?null:i.optionLabel.length)>0),o(2),d("ngIf",i.dataModelSelect&&(i.dataModelSelect==null?null:i.dataModelSelect.linkMainImageIdSrc)),o(2),d("placeholder",x(i.optionPlaceholder))("id",ve("app-cms-site-selector-",i.id))("formControl",i.formControl)("matAutocomplete",t)("required",i.optionRequired),yt("disabled",i.optionDisabled?!0:null),o(),d("displayWith",i.displayFn),o(2),d("ngForOf",g(10,17,i.filteredOptions)),o(2),d("ngIf",!i.formControl.valid),o(),d("ngIf",i.optionRequired&&i.formControl.valid),o(),d("ngIf",(i.dataModelSelect==null||i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0),o(),d("ngIf",i.optionRequired&&(!i.dataModelSelect||!i.dataModelSelect.id||(i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)===0))}},dependencies:[Ne,N,Y,q,de,Wt,ti,ei,ii,zi,Q,U,He,O,Ie],encapsulation:2});var Cr=aa;var qW=["vform"];function QW(n,l){if(n&1){let e=I();r(0,"app-cms-enum-record-status-selector",57),w("modelChange",function(t){u(e);let s=m();return T(s.dataModel.recordStatus,t)||(s.dataModel.recordStatus=t),f(t)}),a()}if(n&2){let e=m();b("model",e.dataModel.recordStatus),d("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function zW(n,l){if(n&1){let e=I();r(0,"app-cms-enum-record-status-selector",57),w("modelChange",function(t){u(e);let s=m();return T(s.dataModel.mainAdminRecordStatus,t)||(s.dataModel.mainAdminRecordStatus=t),f(t)}),a()}if(n&2){let e=m();b("model",e.dataModel.mainAdminRecordStatus),d("optionDisabled",!1)("optionLabel",e.fieldsInfo.mainAdminRecordStatus==null?null:e.fieldsInfo.mainAdminRecordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function YW(n,l){n&1&&C(0,"i",62)}function KW(n,l){n&1&&C(0,"i",63)}function ZW(n,l){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),_(4,"translate"),a()()),n&2){let e=m(2);o(),y(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," "),o(2),M(g(4,2,"MESSAGE.required"))}}function JW(n,l){if(n&1){let e=I();r(0,"div",23)(1,"label",58),c(2),a(),r(3,"input",59,8),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.title,t)||(s.dataModel.title=t),f(t)}),a(),S(5,YW,1,0,"i",60)(6,KW,1,0,"i",61),r(7,"em"),c(8),a(),S(9,ZW,5,4,"mat-error",26),a()}if(n&2){let e=k(4),i=m();o(2),M(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(),d("placeholder",x(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle))("disabled",x(!(i.fieldsInfo.title!=null&&i.fieldsInfo.title.accessAddField))),b("ngModel",i.dataModel.title),o(2),d("ngIf",!e.value),o(),d("ngIf",e.value),o(2),y("",e.value.length," / 100"),o(),d("ngIf",e.errors==null?null:e.errors.required)}}function XW(n,l){if(n&1){let e=I();r(0,"app-estate-property-company-selector",64),_(1,"translate"),E("optionChange",function(t){u(e);let s=m();return f(s.onActionSelectorCompany(t))}),a()}if(n&2){let e=m();d("optionSelectForce",e.dataModel.linkPropertyCompanyId)("optionPlaceholder",g(1,2,"TITLE.Company"))}}function $W(n,l){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),_(4,"translate"),a()()),n&2){let e=m();o(),y(" ",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle," "),o(2),M(g(4,2,"MESSAGE.required"))}}function eG(n,l){if(n&1){let e=I();r(0,"div",23)(1,"label",65),c(2),_(3,"translate"),a(),r(4,"textarea",66,9),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.descriptionHidden,t)||(s.dataModel.descriptionHidden=t),f(t)}),a(),r(6,"em"),c(7),a()()}if(n&2){let e=k(5),i=m();o(2),M(g(3,5,"TITLE.Description_Hidden")),o(2),d("placeholder",x(i.fieldsInfo.descriptionHidden==null?null:i.fieldsInfo.descriptionHidden.fieldTitle)),b("ngModel",i.dataModel.descriptionHidden),o(3),y("",e.value.length," / 500")}}function tG(n,l){if(n&1){let e=I();r(0,"div",67)(1,"label",68),c(2),a(),r(3,"input",69),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.fromDate,t)||(s.dataModel.fromDate=t),f(t)}),a(),C(4,"mat-datepicker-toggle",70)(5,"mat-datepicker",71,10),a()}if(n&2){let e=k(6),i=m();o(2),M(i.fieldsInfo.fromDate==null?null:i.fieldsInfo.fromDate.fieldTitle),o(),d("placeholder",x(i.fieldsInfo.fromDate==null?null:i.fieldsInfo.fromDate.fieldTitle))("disabled",x(!(i.fieldsInfo.fromDate!=null&&i.fieldsInfo.fromDate.accessAddField)))("matDatepicker",e),b("ngModel",i.dataModel.fromDate),o(),d("for",e)}}function iG(n,l){if(n&1){let e=I();r(0,"div",67)(1,"label",72),c(2),a(),r(3,"input",73,11),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.expireDate,t)||(s.dataModel.expireDate=t),f(t)}),a(),C(5,"mat-datepicker-toggle",70),a()}if(n&2){let e=k(4),i=m();o(2),M(i.fieldsInfo.expireDate==null?null:i.fieldsInfo.expireDate.fieldTitle),o(),d("placeholder",x(i.fieldsInfo.expireDate==null?null:i.fieldsInfo.expireDate.fieldTitle))("disabled",x(!(i.fieldsInfo.expireDate!=null&&i.fieldsInfo.expireDate.accessAddField)))("matDatepicker",e),b("ngModel",i.dataModel.expireDate),o(2),d("for",e)}}function nG(n,l){if(n&1){let e=I();r(0,"div",74)(1,"button",75),E("click",function(){u(e);let t=m();return f(t.onActionBackToParent())}),c(2),_(3,"translate"),a(),r(4,"button",76),c(5),_(6,"translate"),a()()}if(n&2){m();let e=k(9);o(2),y(" ",g(3,3,"ACTION.BACK")," "),o(2),d("disabled",!e.form.valid),o(),y(" ",g(6,5,"ACTION.NEXT")," ")}}function oG(n,l){if(n&1){let e=I();r(0,"div",23)(1,"label",77),c(2),_(3,"translate"),a(),r(4,"input",78,12),_(6,"translate"),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.source,t)||(s.dataModel.source=t),f(t)}),a(),r(7,"em"),c(8),a()()}if(n&2){let e=k(5),i=m();o(2),M(g(3,7,"TITLE.Source_page_address")),o(2),d("placeholder",x(g(6,9,"TITLE.Content_reference_website_link")))("disabled",x(!(i.fieldsInfo.source!=null&&i.fieldsInfo.source.accessAddField))),b("ngModel",i.dataModel.source),o(4),y("",e.value.length," / 500")}}function rG(n,l){if(n&1){let e=I();r(0,"mat-chip",79),E("removed",function(){let t=u(e).$implicit,s=m();return f(s.removeTag(t))}),c(1),r(2,"button",80)(3,"mat-icon"),c(4,"cancel"),a()()()}if(n&2){let e=l.$implicit;o(),y(" ",e," ")}}function aG(n,l){if(n&1&&(r(0,"div",74)(1,"button",81),c(2),_(3,"translate"),a(),r(4,"button",76),c(5),_(6,"translate"),a()()),n&2){m();let e=k(9);o(2),y(" ",g(3,3,"ACTION.BEFOR")," "),o(2),d("disabled",!e.form.valid),o(),y(" ",g(6,5,"ACTION.NEXT")," ")}}function lG(n,l){if(n&1&&(C(0,"img",82),_(1,"cmsthumbnail")),n&2){let e=m();d("src",x(g(1,2,e.dataModel.linkMainImageIdSrc)),j)}}function sG(n,l){n&1&&(r(0,"p"),c(1),_(2,"translate"),a()),n&2&&(o(),y(" ",g(2,1,"TITLE.List_of_attached_photos")," "))}function dG(n,l){if(n&1&&(r(0,"audio",83),C(1,"source",84),_(2,"cmsthumbnail"),c(3," Your browser does not support the audio tag. "),a()),n&2){let e=m();o(),d("src",x(g(2,2,e.dataModel.linkFilePodcastIdSrc)),j)}}function cG(n,l){if(n&1&&(r(0,"video",83),C(1,"source",85),c(2," Your browser does not support the video tag. "),a()),n&2){let e=m();o(),d("src",x(e.dataModel.linkFileMovieIdSrc),j)}}function pG(n,l){if(n&1&&(r(0,"div",74)(1,"button",81),c(2),_(3,"translate"),a(),r(4,"button",76),c(5),_(6,"translate"),a()()),n&2){m();let e=k(9);o(2),y(" ",g(3,3,"ACTION.BEFOR")," "),o(2),d("disabled",!e.form.valid),o(),y(" ",g(6,5,"ACTION.NEXT")," ")}}function mG(n,l){if(n&1&&(r(0,"button",87),c(1),_(2,"translate"),a()),n&2){m(2);let e=k(9);d("disabled",!e.form.valid),o(),y(" ",g(2,2,"ACTION.SAVE")," ")}}function uG(n,l){if(n&1&&(r(0,"div",74)(1,"button",81),c(2),_(3,"translate"),a(),S(4,mG,3,4,"button",86),a()),n&2){let e=m();o(2),y(" ",g(3,2,"ACTION.BEFOR")," "),o(2),d("ngIf",e.formInfo.formSubmitAllow)}}function fG(n,l){n&1&&(r(0,"mat-icon"),c(1,"call_end"),a())}function _G(n,l){n&1&&(r(0,"mat-icon"),c(1,"call_end"),a())}function gG(n,l){n&1&&(r(0,"mat-icon"),c(1,"forum"),a())}function hG(n,l){n&1&&(r(0,"mat-icon"),c(1,"forum"),a())}var id=class id extends Dt{constructor(e,i,t,s,h,p,D,z,he){super(t,new Vn,i,he);this.coreEnumService=e;this.publicHelper=i;this.contentService=t;this.cmsToastrService=s;this.cmsStoreService=h;this.tokenHelper=p;this.router=D;this.cdr=z;this.translate=he;this.constructorInfoAreaId=this.constructor.name;this.dataModel=new Vn;this.dataModelResult=new G;this.dataFileModelImgaes=new Map;this.dataFileModelFiles=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.selectFileTypePodcast=["mp3"];this.selectFileTypeMovie=["mp4","webm"];this.formInfo=new me;this.fileManagerOpenForm=!1;this.fileManagerOpenFormPodcast=!1;this.fileManagerOpenFormMovie=!1;this.fieldsInfo=new Map;this.keywordDataModel=[];this.tagDataModel=[];this.similarDataModel=new Array;this.otherInfoTabledisplayedColumns=["Title","TypeId","Action"];this.similarTabledisplayedColumns=["LinkMainImageIdSrc","Id","RecordStatus","Title","Action"];this.similarTabledataSource=new li;this.appLanguage="fa";this.tokenInfo=new St;this.viewMap=!1;this.mapMarkerPoints=[];this.mapOptonCenter=new Li;this.addOnBlurTag=!0;this.separatorKeysCodes=[13];this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore}ngOnInit(){this.DataGetAccess()}onActionTagChange(e){this.tagDataModel=e}onActionFileSelectedLinkMainImageId(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}onActionFileSelectedLinkFilePodcastId(e){this.dataModel.linkFilePodcastId=e.id,this.dataModel.linkFilePodcastIdSrc=e.downloadLinksrc}onActionFileSelectedLinkFileMovieId(e){this.dataModel.linkFileMovieId=e.id,this.dataModel.linkFileMovieIdSrc=e.downloadLinksrc}receiveMap(e=this.mapModel){e&&(this.mapModel=e,this.mapModel.on("click",i=>{let t=i.latlng.lat,s=i.latlng.lng;if(this.mapMarker!==void 0&&this.mapModel.removeLayer(this.mapMarker),t===this.dataModel.geolocationlatitude&&s===this.dataModel.geolocationlongitude){this.dataModel.geolocationlatitude=null,this.dataModel.geolocationlongitude=null;return}this.mapMarker=z0.marker([t,s]).addTo(this.mapModel),this.dataModel.geolocationlatitude=t,this.dataModel.geolocationlongitude=s}))}receiveZoom(e){}onFormSubmit(){if(!this.formGroup.valid){this.cmsToastrService.typeErrorFormInvalid();return}if(this.dataModel.keyword="",this.keywordDataModel&&this.keywordDataModel.length>0){let e=[];this.keywordDataModel.forEach(i=>{i.display?e.push(i.display):e.push(i)}),e&&e.length>0&&(this.dataModel.keyword=e.join(","))}this.DataAddContent()}DataAddContent(){this.formInfo.formSubmitAllow=!1,this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";if(this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.dataFileModelFiles){let i=Array.from(this.dataFileModelFiles.keys());i&&i.length>0&&(this.dataModel.linkFileIds=i.join(","))}if(this.dataFileModelImgaes){let i=Array.from(this.dataFileModelImgaes.keys());i&&i.length>0&&(this.dataModel.linkExtraImageIds=i.join(","))}this.contentService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.publicHelper.processService.processStop(e),this.formInfo.formSubmitAllow=!i.isSuccess,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.formAlert=t}),this.cmsToastrService.typeSuccessAdd(),setTimeout(()=>this.router.navigate(["/estate/property-project/"]),1e3)):this.cmsToastrService.typeErrorAdd(i.errorMessage),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeErrorAdd(i),this.publicHelper.processService.processStop(e)}})}onActionSelectorCompany(e){if(!e||!e.id||e.id.length<=0){this.translate.get("MESSAGE.information_area_is_not_clear").subscribe(i=>{this.cmsToastrService.typeWarningSelected(i)}),this.dataModel.linkPropertyCompanyId=null;return}this.dataModel.linkPropertyCompanyId=e.id}onActionContentSimilarRemoveFromLIst(e){if(!e||e.id.length<=0||!this.similarDataModel||this.similarDataModel.length===0)return;let i=new Array;this.similarDataModel.forEach(t=>{t.id!==e.id&&i.push(t)}),this.similarDataModel=i,this.similarTabledataSource.data=this.similarDataModel}onStepClick(e,i){e.previouslySelectedIndex<e.selectedIndex&&(this.formGroup.valid||(this.cmsToastrService.typeErrorFormInvalid(),setTimeout(()=>{i.selectedIndex=e.previouslySelectedIndex},10)))}onActionBackToParent(){this.router.navigate(["/estate/property-project/"])}onActionSelectorLocation(e){if(!e||!e.id||e.id<=0){this.translate.get("MESSAGE.Information_area_deleted").subscribe(i=>{this.cmsToastrService.typeWarningSelected(i)}),this.dataModel.linkLocationId=null;return}this.dataModel.linkLocationId=e.id}addTag(e){let i=(e.value||"").trim();i&&this.keywordDataModel.push(i),e.chipInput.clear()}removeTag(e){let i=this.keywordDataModel.indexOf(e);i>=0&&this.keywordDataModel.splice(i,1)}};id.\u0275fac=function(i){return new(i||id)(v(J),v(F),v(_n),v(V),v(Z),v(K),v(Ze),v(B),v(L))},id.\u0275cmp=R({type:id,selectors:[["app-estate-property-project-add"]],viewQuery:function(i,t){if(i&1&&ee(qW,5),i&2){let s;te(s=ie())&&(t.formGroup=s.first)}},standalone:!1,features:[ne],decls:116,vars:139,consts:[["vform","ngForm"],["stepper",""],["Description",""],["chipList",""],["tagInput",""],["LinkMainImageId",""],["LinkFilePodcastId",""],["LinkFileMovieId",""],["Title",""],["DescriptionHidden",""],["FromDate",""],["ExpireDate",""],["Source",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"selectionChange"],["state","main",3,"label"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[3,"optionSelectForce","optionPlaceholder","optionChange",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[4,"ngIf"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4 cms-input-group",4,"ngIf"],[1,"pb-5"],["id","main","name","dataModel.body",3,"ngModelChange","placeholder","config","ngModel"],["class","ntk-button-row",4,"ngIf"],["state","seo",3,"label"],["appearance","fill",2,"width","100%"],["aria-label","'TITLE.key_word'|translate"],[3,"removed",4,"ngFor","ngForOf"],[3,"matChipInputTokenEnd","placeholder","matChipInputAddOnBlur","matChipInputFor","matChipInputSeparatorKeyCodes"],["state","file",3,"label"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align: middle","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openDirectUploadView","openFilemanagerButtonLabelKey","selectFileType","openFilemanagerButtonView"],[3,"dataFileModelChange","dataFileModel","openDirectUploadView","optionFileType"],[3,"dataFileModelChange","dataFileModel","openDirectUploadView"],["controls","",4,"ngIf"],["matInput","","type","text","name","dataModel.linkFilePodcastId","id","dataModel.linkFilePodcastId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],["matInput","","type","text","name","dataModel.linkFileMovieId","id","dataModel.linkFileMovieId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"dataModelChange","dataModel"],[3,"dataModelChange","dataModel","dataImageModel"],["state","loaction",3,"label"],["id","main-map",3,"map$","zoom$","optonCenter"],["matStepperIcon","main"],["matStepperIcon","seo"],["matStepperIcon","file"],["matStepperIcon","loaction"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["class","fa fa-times invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[3,"optionChange","optionSelectForce","optionPlaceholder"],["for","dataModel.descriptionHidden",1,"color-highlight"],["matInput","","name","dataModel.descriptionHidden","type","text","minlength","0","maxlength","500","rows","5","id","dataModel.descriptionHidden",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],["for","dataModel.fromDate",1,"color-highlight"],["matInput","","type","text","name","dataModel.fromDate","id","dataModel.fromDate",1,"form-control","validate-name",3,"ngModelChange","matDatepicker","ngModel","placeholder","disabled"],["matSuffix","",3,"for"],["touchUi",""],["for","dataModel.expireDate",1,"color-highlight"],["matInput","","type","text","name","dataModel.expireDate","id","dataModel.expireDate",1,"form-control","validate-name",3,"ngModelChange","matDatepicker","ngModel","placeholder","disabled"],[1,"ntk-button-row"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],["type","button","matStepperNext","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue",3,"disabled"],["for","dataModel.source",1,"color-highlight"],["matInput","","type","text","name","dataModel.source","type","text","dir","ltr","minlength","3","maxlength","500","id","dataModel.source",1,"form-control","validate-name","input-ltr",2,"text-align","left",3,"ngModelChange","ngModel","placeholder","disabled"],[3,"removed"],["type","button","matChipRemove","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"],["type","button","matStepperPrevious","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["controls",""],["type","audio/mp3",3,"src"],["type","video/mp4",3,"src"],["type","submit","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-green",3,"disabled",4,"ngIf"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"]],template:function(i,t){if(i&1){let s=I();r(0,"div",13),C(1,"app-progress-spinner",14),r(2,"div",15)(3,"p",16),c(4),a(),r(5,"p"),c(6),_(7,"translate"),a(),r(8,"form",17,0),E("ngSubmit",function(){return u(s),f(t.onFormSubmit())}),r(10,"mat-vertical-stepper",18,1),E("selectionChange",function(p){u(s);let D=k(11);return f(t.onStepClick(p,D))}),r(12,"mat-step",19),_(13,"translate"),S(14,QW,1,5,"app-cms-enum-record-status-selector",20)(15,zW,1,5,"app-cms-enum-record-status-selector",20)(16,JW,10,10,"div",21)(17,XW,2,4,"app-estate-property-company-selector",22),r(18,"div",23)(19,"label",24),c(20),a(),r(21,"textarea",25,2),w("ngModelChange",function(p){return u(s),T(t.dataModel.description,p)||(t.dataModel.description=p),f(p)}),a(),r(23,"em"),c(24),a(),S(25,$W,5,4,"mat-error",26),a(),S(26,eG,8,7,"div",21),r(27,"app-cms-location-selector",27),_(28,"translate"),E("optionChange",function(p){return u(s),f(t.onActionSelectorLocation(p))}),a(),S(29,tG,7,8,"div",28)(30,iG,6,8,"div",28),C(31,"hr",29),r(32,"label"),c(33),a(),r(34,"angular-editor",30),_(35,"translate"),w("ngModelChange",function(p){return u(s),T(t.dataModel.body,p)||(t.dataModel.body=p),f(p)}),a(),S(36,nG,7,7,"div",31),a(),r(37,"mat-step",32),_(38,"translate"),r(39,"p"),c(40),_(41,"translate"),a(),S(42,oG,9,11,"div",21),r(43,"mat-form-field",33)(44,"mat-label"),c(45),_(46,"translate"),a(),r(47,"mat-chip-grid",34,3),S(49,rG,5,1,"mat-chip",35),r(50,"input",36,4),_(52,"translate"),E("matChipInputTokenEnd",function(p){return u(s),f(t.addTag(p))}),a()()(),S(53,aG,7,7,"div",31),a(),r(54,"mat-step",37),_(55,"translate"),r(56,"p"),c(57),_(58,"translate"),a(),r(59,"div",38)(60,"a",39),_(61,"cmsthumbnail"),S(62,lG,2,4,"img",40),a()(),r(63,"div",23)(64,"label",41),E("click",function(){return u(s),f(t.fileManagerOpenForm=!0)}),c(65),_(66,"translate"),a(),r(67,"input",42,5),_(69,"translate"),w("ngModelChange",function(p){return u(s),T(t.dataModel.linkMainImageId,p)||(t.dataModel.linkMainImageId=p),f(p)}),E("click",function(){return u(s),f(t.fileManagerOpenForm=!0)}),a(),r(70,"cms-file-manager",43),E("itemSelected",function(p){return u(s),f(t.onActionFileSelectedLinkMainImageId(p))}),w("openFormChange",function(p){return u(s),T(t.fileManagerOpenForm,p)||(t.fileManagerOpenForm=p),f(p)}),a()(),C(71,"hr"),S(72,sG,3,3,"p",26),r(73,"app-cms-files-selector",44),w("dataFileModelChange",function(p){return u(s),T(t.dataFileModelImgaes,p)||(t.dataFileModelImgaes=p),f(p)}),a(),C(74,"hr"),r(75,"div")(76,"p"),c(77),_(78,"translate"),a(),r(79,"app-cms-files-selector",45),w("dataFileModelChange",function(p){return u(s),T(t.dataFileModelFiles,p)||(t.dataFileModelFiles=p),f(p)}),a(),C(80,"br"),a(),r(81,"div",38),S(82,dG,4,4,"audio",46),a(),r(83,"div",23)(84,"input",47,6),_(86,"translate"),w("ngModelChange",function(p){return u(s),T(t.dataModel.linkFilePodcastId,p)||(t.dataModel.linkFilePodcastId=p),f(p)}),E("click",function(){return u(s),f(t.fileManagerOpenFormPodcast=!0)}),a(),r(87,"cms-file-manager",43),E("itemSelected",function(p){return u(s),f(t.onActionFileSelectedLinkFilePodcastId(p))}),w("openFormChange",function(p){return u(s),T(t.fileManagerOpenFormPodcast,p)||(t.fileManagerOpenFormPodcast=p),f(p)}),a()(),r(88,"div",38),S(89,cG,3,2,"video",46),a(),r(90,"div",23)(91,"input",48,7),_(93,"translate"),w("ngModelChange",function(p){return u(s),T(t.dataModel.linkFileMovieId,p)||(t.dataModel.linkFileMovieId=p),f(p)}),E("click",function(){return u(s),f(t.fileManagerOpenFormMovie=!0)}),a(),r(94,"cms-file-manager",43),E("itemSelected",function(p){return u(s),f(t.onActionFileSelectedLinkFileMovieId(p))}),w("openFormChange",function(p){return u(s),T(t.fileManagerOpenFormMovie,p)||(t.fileManagerOpenFormMovie=p),f(p)}),a()(),r(95,"h3"),c(96),_(97,"translate"),a(),r(98,"app-cms-360-image-list",49),w("dataModelChange",function(p){return u(s),T(t.dataModel.file360Views,p)||(t.dataModel.file360Views=p),f(p)}),a(),C(99,"br"),r(100,"h3"),c(101),_(102,"translate"),a(),r(103,"app-cms-360-tour-list",50),w("dataModelChange",function(p){return u(s),T(t.dataModel.file360Tour,p)||(t.dataModel.file360Tour=p),f(p)}),a(),S(104,pG,7,7,"div",31),a(),r(105,"mat-step",51),_(106,"translate"),r(107,"p"),c(108),_(109,"translate"),a(),r(110,"app-cms-map",52),E("map$",function(p){return u(s),f(t.receiveMap(p))})("zoom$",function(p){return u(s),f(t.receiveZoom(p))}),a(),S(111,uG,5,4,"div",31),a(),S(112,fG,2,0,"ng-template",53)(113,_G,2,0,"ng-template",54)(114,gG,2,0,"ng-template",55)(115,hG,2,0,"ng-template",56),a()()()()}if(i&2){let s=k(22),h=k(48);o(),d("optionsInfoAreaId",t.constructorInfoAreaId),o(3),y(" ",t.formInfo.formTitle," "),o(2),y(" ",g(7,99,"TITLE.Be_Careful_When_Entering_Information")," "),o(6),d("label",x(g(13,101,"TITLE.REQUIRED_INFORMATION"))),o(2),d("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),o(),d("ngIf",t.fieldsInfo.mainAdminRecordStatus==null?null:t.fieldsInfo.mainAdminRecordStatus.accessWatchField),o(),d("ngIf",t.fieldsInfo.title==null?null:t.fieldsInfo.title.accessWatchField),o(),d("ngIf",t.tokenHelper.isAdminSite),o(3),M(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle))("disabled",x(!(t.fieldsInfo.description!=null&&t.fieldsInfo.description.accessAddField))),b("ngModel",t.dataModel.description),o(3),y("",s.value.length," / 500"),o(),d("ngIf",s.errors==null?null:s.errors.required),o(),d("ngIf",t.fieldsInfo.descriptionHidden==null?null:t.fieldsInfo.descriptionHidden.accessWatchField),o(),d("optionDisabled",!(t.fieldsInfo.linkLocationId!=null&&t.fieldsInfo.linkLocationId.accessEditField))("optionSelectForce",t.dataModel.linkLocationId)("optionPlaceholder",g(28,103,"TITLE.Region")),o(2),d("ngIf",t.fieldsInfo.fromDate==null?null:t.fieldsInfo.fromDate.accessWatchField),o(),d("ngIf",t.fieldsInfo.expireDate==null?null:t.fieldsInfo.expireDate.accessWatchField),o(3),y(" ",t.fieldsInfo.body==null?null:t.fieldsInfo.body.fieldTitle," "),o(),d("placeholder",g(35,105,"TITLE.Enter_Text"))("config",t.publicHelper.editorConfig),b("ngModel",t.dataModel.body),o(2),d("ngIf",t.formInfo.formSubmitAllow),o(),d("label",x(g(38,107,"TITLE.Search_Engines"))),o(3),y(" ",g(41,109,"TITLE.This_section_helps_search_engines_better_index_content")," "),o(2),d("ngIf",t.fieldsInfo.source==null?null:t.fieldsInfo.source.accessWatchField),o(3),M(g(46,111,"TITLE.Choose_keywords_relative_to_the_content")),o(4),d("ngForOf",t.keywordDataModel),o(),d("placeholder",g(52,113,"TITLE.key_word"))("matChipInputAddOnBlur",t.addOnBlurTag)("matChipInputFor",h)("matChipInputSeparatorKeyCodes",t.separatorKeysCodes),o(3),d("ngIf",t.formInfo.formSubmitAllow),o(),d("label",x(g(55,115,"TITLE.ATTACH_FILES"))),o(3),M(g(58,117,"TITLE.CONTENT_ATTACH_FILES")),o(3),d("href",x(g(61,119,t.dataModel.linkMainImageIdSrc)),j),o(2),d("ngIf",(t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0),o(3),M(g(66,121,"TITLE.Original_Photo")),o(2),d("placeholder",x(g(69,123,"TITLE.Original_File_ID"))),b("ngModel",t.dataModel.linkMainImageId),o(3),d("language",t.appLanguage)("isPopup",!0),b("openForm",t.fileManagerOpenForm),d("tree",t.fileManagerTree)("openDirectUploadView",!0)("openFilemanagerButtonLabelKey","select")("selectFileType",t.selectFileTypeMainImage)("openFilemanagerButtonView",!1),o(2),d("ngIf",t.dataFileModelImgaes&&t.dataFileModelImgaes.size>0),o(),b("dataFileModel",t.dataFileModelImgaes),d("openDirectUploadView",!0)("optionFileType",t.selectFileTypeMainImage),o(4),M(g(78,125,"TITLE.List_of_attached_files")),o(2),b("dataFileModel",t.dataFileModelFiles),d("openDirectUploadView",!0),o(3),d("ngIf",(t.dataModel==null||t.dataModel.linkFilePodcastIdSrc==null?null:t.dataModel.linkFilePodcastIdSrc.length)>0),o(2),d("placeholder",x(g(86,127,"TITLE.Audio_File_ID"))),b("ngModel",t.dataModel.linkFilePodcastId),o(3),d("language",t.appLanguage)("isPopup",!0),b("openForm",t.fileManagerOpenFormPodcast),d("tree",t.fileManagerTree)("openDirectUploadView",!0)("openFilemanagerButtonLabelKey","select")("selectFileType",t.selectFileTypePodcast)("openFilemanagerButtonView",!1),o(2),d("ngIf",(t.dataModel==null||t.dataModel.linkFileMovieIdSrc==null?null:t.dataModel.linkFileMovieIdSrc.length)>0),o(2),d("placeholder",x(g(93,129,"TITLE.Video_File_ID"))),b("ngModel",t.dataModel.linkFileMovieId),o(3),d("language",t.appLanguage)("isPopup",!0),b("openForm",t.fileManagerOpenFormMovie),d("tree",t.fileManagerTree)("openDirectUploadView",!0)("openFilemanagerButtonLabelKey","select")("selectFileType",t.selectFileTypeMovie)("openFilemanagerButtonView",!1),o(2),M(g(97,131,"TITLE.image_360")),o(2),b("dataModel",t.dataModel.file360Views),o(3),M(g(102,133,"TITLE.virtual_tour")),o(2),b("dataModel",t.dataModel.file360Tour),d("dataImageModel",t.dataModel.file360Views),o(),d("ngIf",t.formInfo.formSubmitAllow),o(),d("label",ve("",g(106,135,"TITLE.Location")," ")),o(3),y(" ",g(109,137,"TITLE.Click_on_the_map_to_specify_the_location")," "),o(2),d("optonCenter",t.mapOptonCenter),o(),d("ngIf",!t.publicHelper.processService.process.inRunAll)}},dependencies:[Ne,N,ke,Y,q,Te,de,De,Ae,ce,Pe,di,bi,Ti,wi,Mi,Pn,kn,ln,mi,pi,we,et,Ee,Q,Ji,Xi,hn,yn,Zi,Vi,si,Nn,Hn,Ci,U,mn,en,Bo,ut,Cr,O,Ie],styles:["@media (max-width: 1399px){.wizard.wizard-4[_ngcontent-%COMP%]   .wizard-nav[_ngcontent-%COMP%]   .wizard-steps[_ngcontent-%COMP%]   .wizard-step[_ngcontent-%COMP%]{flex:0 0 calc(25% - .25rem)}}form[_ngcontent-%COMP%]{text-align:right}.wrapper[_ngcontent-%COMP%]{display:flex;padding-top:15px}.lbl-status[_ngcontent-%COMP%]{width:100px;display:flex;align-items:flex-end;justify-content:center;margin-top:5px}.status-select[_ngcontent-%COMP%]{width:970px}textarea[_ngcontent-%COMP%]{resize:none}.calender-select[_ngcontent-%COMP%]{width:252px}.next-modal[_ngcontent-%COMP%]{width:100px;margin-right:15px}.pb-4[_ngcontent-%COMP%], .py-4[_ngcontent-%COMP%]{padding-bottom:7px!important;padding-top:7px!important}tag-input[_ngcontent-%COMP%]{width:1000px}.leaflet-pane[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute!important}.fs-container[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;top:0;left:0}.lbl-content[_ngcontent-%COMP%]{width:100px;display:flex;align-items:flex-end;justify-content:center;margin-top:25px}@media (min-width: 1400px){.col-xxl-7[_ngcontent-%COMP%]{max-width:100%!important;flex:0 0 100%}}.heroes[_ngcontent-%COMP%]{margin:0 0 2em;list-style-type:none;padding:0;width:15em}.heroes[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{cursor:pointer;position:relative;left:0;background-color:#eee;margin:.5em;padding:.3em 0;height:1.6em;border-radius:4px}.heroes[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{color:#607d8b;background-color:#ddd;left:.1em}.heroes[_ngcontent-%COMP%]   li.selected[_ngcontent-%COMP%]{background-color:#cfd8dc;color:#fff}.heroes[_ngcontent-%COMP%]   li.selected[_ngcontent-%COMP%]:hover{background-color:#bbd8dc;color:#fff}.heroes[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{display:inline-block;font-size:small;color:#fff;padding:.8em .7em 0;background-color:#405061;line-height:1em;position:relative;left:-1px;top:-4px;height:1.8em;margin-right:.8em;border-radius:4px 0 0 4px}"]});var vp=id;var Qp=uo(Fo());var yG=["vform"];function CG(n,l){if(n&1){let e=I();r(0,"app-cms-enum-record-status-selector",57),w("modelChange",function(t){u(e);let s=m();return T(s.dataModel.recordStatus,t)||(s.dataModel.recordStatus=t),f(t)}),a()}if(n&2){let e=m();b("model",e.dataModel.recordStatus),d("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function SG(n,l){if(n&1){let e=I();r(0,"app-cms-enum-record-status-selector",57),w("modelChange",function(t){u(e);let s=m();return T(s.dataModel.mainAdminRecordStatus,t)||(s.dataModel.mainAdminRecordStatus=t),f(t)}),a()}if(n&2){let e=m();b("model",e.dataModel.mainAdminRecordStatus),d("optionDisabled",!1)("optionLabel",e.fieldsInfo.mainAdminRecordStatus==null?null:e.fieldsInfo.mainAdminRecordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function vG(n,l){n&1&&C(0,"i",62)}function EG(n,l){n&1&&C(0,"i",63)}function IG(n,l){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),_(4,"translate"),a()()),n&2){let e=m(2);o(),y(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," "),o(2),M(g(4,2,"MESSAGE.required"))}}function MG(n,l){if(n&1){let e=I();r(0,"div",22)(1,"label",58),c(2),a(),r(3,"input",59,8),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.title,t)||(s.dataModel.title=t),f(t)}),a(),S(5,vG,1,0,"i",60)(6,EG,1,0,"i",61),r(7,"em"),c(8),a(),S(9,IG,5,4,"mat-error",25),a()}if(n&2){let e=k(4),i=m();o(2),M(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(),d("placeholder",x(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle))("disabled",x(!(i.fieldsInfo.title!=null&&i.fieldsInfo.title.accessEditField))),b("ngModel",i.dataModel.title),o(2),d("ngIf",!e.value),o(),d("ngIf",e.value),o(2),y("",e.value.length," / 100"),o(),d("ngIf",e.errors==null?null:e.errors.required)}}function bG(n,l){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),_(4,"translate"),a()()),n&2){let e=m();o(),y(" ",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle," "),o(2),M(g(4,2,"MESSAGE.required"))}}function TG(n,l){if(n&1){let e=I();r(0,"div",22)(1,"label",64),c(2),_(3,"translate"),a(),r(4,"textarea",65,9),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.descriptionHidden,t)||(s.dataModel.descriptionHidden=t),f(t)}),a(),r(6,"em"),c(7),a()()}if(n&2){let e=k(5),i=m();o(2),M(g(3,7,"TITLE.Description_Hidden")),o(2),d("placeholder",x(i.fieldsInfo.descriptionHidden==null?null:i.fieldsInfo.descriptionHidden.fieldTitle))("disabled",x(!(i.fieldsInfo.descriptionHidden!=null&&i.fieldsInfo.descriptionHidden.accessEditField))),b("ngModel",i.dataModel.descriptionHidden),o(3),y("",e.value.length," / 500")}}function wG(n,l){if(n&1){let e=I();r(0,"app-estate-property-company-selector",66),_(1,"translate"),E("optionChange",function(t){u(e);let s=m();return f(s.onActionSelectorCompany(t))}),a()}if(n&2){let e=m();d("optionSelectForce",e.dataModel.linkPropertyCompanyId)("optionPlaceholder",g(1,2,"TITLE.Company"))}}function xG(n,l){if(n&1){let e=I();r(0,"div",67)(1,"label",68),c(2),a(),r(3,"input",69),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.fromDate,t)||(s.dataModel.fromDate=t),f(t)}),a(),C(4,"mat-datepicker-toggle",70)(5,"mat-datepicker",71,10),a()}if(n&2){let e=k(6),i=m();o(2),M(i.fieldsInfo.fromDate==null?null:i.fieldsInfo.fromDate.fieldTitle),o(),d("placeholder",x(i.fieldsInfo.fromDate==null?null:i.fieldsInfo.fromDate.fieldTitle))("disabled",x(!(i.fieldsInfo.fromDate!=null&&i.fieldsInfo.fromDate.accessEditField)))("matDatepicker",e),b("ngModel",i.dataModel.fromDate),o(),d("for",e)}}function AG(n,l){if(n&1){let e=I();r(0,"div",67)(1,"label",72),c(2),a(),r(3,"input",73),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.expireDate,t)||(s.dataModel.expireDate=t),f(t)}),a(),C(4,"mat-datepicker-toggle",70)(5,"mat-datepicker",71,11),a()}if(n&2){let e=k(6),i=m();o(2),M(i.fieldsInfo.expireDate==null?null:i.fieldsInfo.expireDate.fieldTitle),o(),d("placeholder",x(i.fieldsInfo.expireDate==null?null:i.fieldsInfo.expireDate.fieldTitle))("disabled",x(!(i.fieldsInfo.expireDate!=null&&i.fieldsInfo.expireDate.accessEditField)))("matDatepicker",e),b("ngModel",i.dataModel.expireDate),o(),d("for",e)}}function PG(n,l){if(n&1){let e=I();r(0,"div",74)(1,"button",75),E("click",function(){u(e);let t=m();return f(t.onActionBackToParent())}),c(2),_(3,"translate"),a(),r(4,"button",76),c(5),_(6,"translate"),a(),r(7,"button",77),c(8),_(9,"translate"),a()()}if(n&2){m();let e=k(9);o(2),y(" ",g(3,5,"ACTION.BACK")," "),o(2),d("disabled",!e.form.valid),o(),y(" ",g(6,7,"ACTION.NEXT")," "),o(2),d("disabled",!e.form.valid),o(),y(" ",g(9,9,"ACTION.SAVE")," ")}}function kG(n,l){if(n&1){let e=I();r(0,"div",22)(1,"label",78),c(2),_(3,"translate"),a(),r(4,"input",79,12),_(6,"translate"),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.source,t)||(s.dataModel.source=t),f(t)}),a(),r(7,"em"),c(8),a()()}if(n&2){let e=k(5),i=m();o(2),M(g(3,7,"TITLE.Source_page_address")),o(2),d("placeholder",x(g(6,9,"TITLE.Content_reference_website_link")))("disabled",x(!(i.fieldsInfo.source!=null&&i.fieldsInfo.source.accesseEditField))),b("ngModel",i.dataModel.source),o(4),y("",e.value.length," / 500")}}function DG(n,l){if(n&1){let e=I();r(0,"mat-chip",80),E("removed",function(){let t=u(e).$implicit,s=m();return f(s.removeTag(t))}),c(1),r(2,"button",81)(3,"mat-icon"),c(4,"cancel"),a()()()}if(n&2){let e=l.$implicit;o(),y(" ",e," ")}}function RG(n,l){if(n&1&&(r(0,"div",74)(1,"button",82),c(2),_(3,"translate"),a(),r(4,"button",76),c(5),_(6,"translate"),a()()),n&2){m();let e=k(9);o(2),y(" ",g(3,3,"ACTION.BEFOR")," "),o(2),d("disabled",!e.form.valid),o(),y(" ",g(6,5,"ACTION.NEXT")," ")}}function LG(n,l){if(n&1&&(C(0,"img",83),_(1,"cmsthumbnail")),n&2){let e=m();d("src",x(g(1,2,e.dataModel.linkMainImageIdSrc)),j)}}function VG(n,l){n&1&&(r(0,"p"),c(1),_(2,"translate"),a()),n&2&&(o(),y(" ",g(2,1,"TITLE.List_of_attached_photos")," "))}function OG(n,l){if(n&1&&(r(0,"audio",84),C(1,"source",85),_(2,"cmsthumbnail"),c(3," Your browser does not support the audio tag. "),a()),n&2){let e=m();o(),d("src",x(g(2,2,e.dataModel.linkFilePodcastIdSrc)),j)}}function FG(n,l){if(n&1&&(r(0,"video",84),C(1,"source",86),c(2," Your browser does not support the video tag. "),a()),n&2){let e=m();o(),d("src",x(e.dataModel.linkFileMovieIdSrc),j)}}function BG(n,l){if(n&1&&(r(0,"div",74)(1,"button",82),c(2),_(3,"translate"),a(),r(4,"button",76),c(5),_(6,"translate"),a()()),n&2){m();let e=k(9);o(2),y(" ",g(3,3,"ACTION.BEFOR")," "),o(2),d("disabled",!e.form.valid),o(),y(" ",g(6,5,"ACTION.NEXT")," ")}}function NG(n,l){if(n&1&&(r(0,"button",77),c(1),_(2,"translate"),a()),n&2){m(2);let e=k(9);d("disabled",!e.form.valid),o(),y(" ",g(2,2,"ACTION.SAVE")," ")}}function HG(n,l){if(n&1){let e=I();r(0,"div",74)(1,"button",75),E("click",function(){u(e);let t=m();return f(t.onActionBackToParent())}),c(2),_(3,"translate"),a(),r(4,"button",82),c(5),_(6,"translate"),a(),S(7,NG,3,4,"button",87),a()}if(n&2){let e=m();o(2),y(" ",g(3,3,"ACTION.BACK")," "),o(3),y(" ",g(6,5,"ACTION.BEFOR")," "),o(2),d("ngIf",e.formInfo.formSubmitAllow)}}function WG(n,l){n&1&&(r(0,"mat-icon"),c(1,"call_end"),a())}function GG(n,l){n&1&&(r(0,"mat-icon"),c(1,"call_end"),a())}function UG(n,l){n&1&&(r(0,"mat-icon"),c(1,"forum"),a())}function jG(n,l){n&1&&(r(0,"mat-icon"),c(1,"forum"),a())}var nd=class nd extends Bt{constructor(e,i,t,s,h,p,D,z,he){super(t,new Vn,i,he);this.activatedRoute=e;this.publicHelper=i;this.contentService=t;this.cmsToastrService=s;this.cmsStoreService=h;this.router=p;this.cdr=D;this.tokenHelper=z;this.translate=he;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.dataModel=new Vn;this.dataModelResult=new Ft;this.dataContentCategoryModel=[];this.dataFileModelImgaes=new Map;this.dataFileModelFiles=new Map;this.similarDataModel=new Array;this.contentSimilarSelected=new Vn;this.otherInfoTabledisplayedColumns=["Id","Title","TypeId","Action"];this.similarTabledisplayedColumns=["LinkMainImageIdSrc","Id","RecordStatus","Title","Action"];this.similarTabledataSource=new li;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.selectFileTypePodcast=["mp3"];this.selectFileTypeMovie=["mp4","webm"];this.formInfo=new me;this.fileManagerOpenForm=!1;this.fileManagerOpenFormPodcast=!1;this.fileManagerOpenFormMovie=!1;this.keywordDataModel=[];this.appLanguage="fa";this.viewMap=!1;this.mapMarkerPoints=[];this.mapOptonCenter=new Li;this.addOnBlurTag=!0;this.separatorKeysCodes=[13];this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),this.requestId=this.activatedRoute.snapshot.paramMap.get("id"),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore}ngOnInit(){if(this.requestId?.length===0){this.cmsToastrService.typeErrorAddRowParentIsNull();return}this.DataGetOne()}onActionFileSelectedLinkMainImageId(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}onActionFileSelectedLinkFilePodcastId(e){this.dataModel.linkFilePodcastId=e.id,this.dataModel.linkFilePodcastIdSrc=e.downloadLinksrc}onActionFileSelectedLinkFileMovieId(e){this.dataModel.linkFileMovieId=e.id,this.dataModel.linkFileMovieIdSrc=e.downloadLinksrc}onFormSubmit(){if(this.requestId?.length<=0){this.cmsToastrService.typeErrorAddRowParentIsNull();return}if(!this.formGroup.valid){this.cmsToastrService.typeErrorFormInvalid();return}if(this.dataModel.keyword="",this.keywordDataModel&&this.keywordDataModel.length>0){let e=[];this.keywordDataModel.forEach(i=>{i.display?e.push(i.display):e.push(i)}),e&&e.length>0&&(this.dataModel.keyword=e.join(","))}this.DataEditContent()}DataGetOne(){this.formInfo.formSubmitAllow=!1,this.translate.get("MESSAGE.get_information_from_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.contentService.setAccessLoad(),this.contentService.setAccessDataType(Be.Editor),this.contentService.ServiceGetOneById(this.requestId).subscribe({next:i=>{if(this.dataAccessModel=i.access,this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.publicHelper.processService.processStop(e),this.dataModelResult=i,this.formInfo.formSubmitAllow=!0,i.isSuccess){this.dataModel=i.item;let t=this.dataModel.geolocationlatitude,s=this.dataModel.geolocationlongitude;t>0&&s>0&&(this.mapMarkerPoints=[],this.mapMarkerPoints.push({lat:t,lon:s}),this.receiveMap()),this.dataModel.keyword=this.dataModel.keyword+"",this.keywordDataModel=this.dataModel.keyword.split(","),this.dataModel.linkFileIds&&this.dataModel.linkFileIds.length>0&&this.dataModel.linkFileIds.split(",").forEach((h,p)=>{let D="";this.dataModel.linkFileIdsSrc.length>=this.dataModel.linkFileIdsSrc.length&&(D=this.dataModel.linkFileIdsSrc[p]),this.dataFileModelFiles.set(+h,D)}),this.dataModel.linkExtraImageIdsSrc&&this.dataModel.linkExtraImageIdsSrc.length>0&&this.dataModel.linkExtraImageIds.split(",").forEach((h,p)=>{let D="";this.dataModel.linkExtraImageIdsSrc.length>=this.dataModel.linkExtraImageIdsSrc.length&&(D=this.dataModel.linkExtraImageIdsSrc[p]),this.dataFileModelImgaes.set(+h,D)})}else this.cmsToastrService.typeErrorGetOne(i.errorMessage);this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeErrorGetOne(i),this.publicHelper.processService.processStop(e,!1)}})}DataSimilarGetAll(e){if(!e||e.length===0)return;this.formInfo.formSubmitAllow=!1,this.translate.get("MESSAGE.get_other_information_from_the_server").subscribe(s=>{this.formInfo.formAlert=s}),this.formInfo.formError="";let i=this.constructor.name+"main";this.translate.get("MESSAGE.get_other_information_from_the_server").subscribe(s=>{this.publicHelper.processService.processStart(i,s,this.constructorInfoAreaId)});let t=new xa;e.forEach(s=>{if(s>0){let h=new H;h.propertyName="Id",h.value=s,h.clauseType=Ve.Or,t.filters.push(h)}}),this.contentService.ServiceGetAll(t).subscribe({next:s=>{this.formInfo.formSubmitAllow=!0,s.isSuccess?(this.similarDataModel=s.listItems,this.similarTabledataSource.data=s.listItems):this.cmsToastrService.typeErrorGetAll(s.errorMessage),this.publicHelper.processService.processStop(i)},error:s=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeErrorGetAll(s),this.publicHelper.processService.processStop(i)}})}DataEditContent(){if(this.formInfo.formSubmitAllow=!1,this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="",this.dataFileModelFiles){let i=Array.from(this.dataFileModelFiles.keys());i&&i.length>0&&(this.dataModel.linkFileIds=i.join(","))}if(this.dataFileModelImgaes){let i=Array.from(this.dataFileModelImgaes.keys());i&&i.length>0&&(this.dataModel.linkExtraImageIds=i.join(","))}let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.contentService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.publicHelper.processService.processStop(e),this.formInfo.formSubmitAllow=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.formAlert=t}),this.cmsToastrService.typeSuccessEdit(),setTimeout(()=>this.router.navigate(["/estate/property-project"]),1e3)):this.cmsToastrService.typeErrorEdit(i.errorMessage),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeErrorEdit(i),this.publicHelper.processService.processStop(e)}})}onActionTagChange(e){this.tagIdsData=e}onActionContentSimilarSelect(e){!e||e.id.length<=0||(this.contentSimilarSelected=e)}onActionContentSimilarAddToLIst(){if(!(!this.contentSimilarSelected||this.contentSimilarSelected.id.length<=0)){if(this.similarDataModel.find(e=>e.id===this.contentSimilarSelected.id)){this.cmsToastrService.typeErrorAddDuplicate();return}this.similarDataModel.push(this.contentSimilarSelected),this.similarTabledataSource.data=this.similarDataModel}}onActionContentSimilarRemoveFromLIst(e){if(!e||e.id.length<=0||!this.similarDataModel||this.similarDataModel.length===0)return;let i=new Array;this.similarDataModel.forEach(t=>{t.id!==e.id&&i.push(t)}),this.similarDataModel=i,this.similarTabledataSource.data=this.similarDataModel}onStepClick(e,i){e.previouslySelectedIndex<e.selectedIndex&&(this.formGroup.valid||(this.cmsToastrService.typeErrorFormInvalid(),setTimeout(()=>{i.selectedIndex=e.previouslySelectedIndex},10)))}onActionBackToParent(){this.router.navigate(["/estate/property-project/"])}receiveMap(e=this.mapModel){e&&(this.mapModel=e,this.mapMarkerPoints&&this.mapMarkerPoints.length>0&&(this.mapMarkerPoints.forEach(i=>{this.mapMarker=Qp.marker([i.lat,i.lon]).addTo(this.mapModel)}),this.mapOptonCenter=this.mapMarkerPoints[0],this.mapMarkerPoints=[]),this.mapModel.on("click",i=>{let t=i.latlng.lat,s=i.latlng.lng;if(this.mapMarker!==void 0&&this.mapModel.removeLayer(this.mapMarker),t===this.dataModel.geolocationlatitude&&s===this.dataModel.geolocationlongitude){this.dataModel.geolocationlatitude=null,this.dataModel.geolocationlongitude=null;return}this.mapMarker=Qp.marker([t,s]).addTo(this.mapModel),this.dataModel.geolocationlatitude=t,this.dataModel.geolocationlongitude=s}))}receiveZoom(e){}onActionSelectorCompany(e){if(!e||!e.id||e.id.length<=0){this.translate.get("MESSAGE.information_area_is_not_clear").subscribe(i=>{this.cmsToastrService.typeWarningSelected(i)}),this.dataModel.linkPropertyCompanyId=null;return}this.dataModel.linkPropertyCompanyId=e.id}onActionSelectorLocation(e){if(!e||!e.id||e.id<=0){this.translate.get("MESSAGE.Information_area_deleted").subscribe(i=>{this.cmsToastrService.typeWarningSelected(i)}),this.dataModel.linkLocationId=null;return}this.dataModel.linkLocationId=e.id}addTag(e){let i=(e.value||"").trim();i&&this.keywordDataModel.push(i),e.chipInput.clear()}removeTag(e){let i=this.keywordDataModel.indexOf(e);i>=0&&this.keywordDataModel.splice(i,1)}};nd.\u0275fac=function(i){return new(i||nd)(v(jt),v(F),v(_n),v(V),v(Z),v(Ze),v(B),v(K),v(L))},nd.\u0275cmp=R({type:nd,selectors:[["app-estate-property-project-edit"]],viewQuery:function(i,t){if(i&1&&ee(yG,5),i&2){let s;te(s=ie())&&(t.formGroup=s.first)}},standalone:!1,features:[ne],decls:114,vars:139,consts:[["vform","ngForm"],["stepper",""],["Description",""],["chipList",""],["tagInput",""],["LinkMainImageId",""],["LinkFilePodcastId",""],["LinkFileMovieId",""],["Title",""],["DescriptionHidden",""],["FromDate",""],["ExpireDate",""],["Source",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"selectionChange"],["state","main",3,"label"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[4,"ngIf"],[3,"optionSelectForce","optionPlaceholder","optionChange",4,"ngIf"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4 cms-input-group",4,"ngIf"],[1,"pb-5"],["id","main","name","dataModel.body",3,"ngModelChange","placeholder","config","ngModel"],["class","ntk-button-row",4,"ngIf"],["state","seo",3,"label"],["appearance","fill",2,"width","100%"],["aria-label","'TITLE.key_word'|translate"],[3,"removed",4,"ngFor","ngForOf"],[3,"matChipInputTokenEnd","placeholder","matChipInputAddOnBlur","matChipInputFor","matChipInputSeparatorKeyCodes"],["state","file",3,"label"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align: middle","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openDirectUploadView","openFilemanagerButtonLabelKey","selectFileType","openFilemanagerButtonView"],[3,"dataFileModelChange","dataFileModel","openDirectUploadView","optionFileType"],[3,"dataFileModelChange","dataFileModel","openDirectUploadView"],["controls","",4,"ngIf"],["matInput","","type","text","name","dataModel.linkFilePodcastId","id","dataModel.linkFilePodcastId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],["matInput","","type","text","name","dataModel.linkFileMovieId","id","dataModel.linkFileMovieId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"dataModelChange","dataModel"],[3,"dataModelChange","dataModel","dataImageModel"],["state","loaction",3,"label"],["id","main-map",3,"map$","zoom$","optonCenter"],["matStepperIcon","main"],["matStepperIcon","seo"],["matStepperIcon","file"],["matStepperIcon","loaction"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["class","fa fa-times invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.descriptionHidden",1,"color-highlight"],["matInput","","name","dataModel.descriptionHidden","type","text","minlength","0","maxlength","500","rows","5","id","dataModel.descriptionHidden",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[3,"optionChange","optionSelectForce","optionPlaceholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],["for","dataModel.fromDate",1,"color-highlight"],["matInput","","type","text","name","dataModel.fromDate","id","dataModel.fromDate",1,"form-control","validate-name",3,"ngModelChange","matDatepicker","ngModel","placeholder","disabled"],["matSuffix","",3,"for"],["touchUi",""],["for","dataModel.expireDate",1,"color-highlight"],["matInput","","type","text","name","dataModel.expireDate","id","dataModel.expireDate",1,"form-control","validate-name",3,"ngModelChange","matDatepicker","ngModel","placeholder","disabled"],[1,"ntk-button-row"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],["type","button","matStepperNext","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue",3,"disabled"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],["for","dataModel.source",1,"color-highlight"],["matInput","","type","text","name","dataModel.source","type","text","dir","ltr","minlength","3","maxlength","500","id","dataModel.source",1,"form-control","validate-name","input-ltr",2,"text-align","left",3,"ngModelChange","ngModel","placeholder","disabled"],[3,"removed"],["type","button","matChipRemove","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"],["type","button","matStepperPrevious","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["controls",""],["type","audio/mp3",3,"src"],["type","video/mp4",3,"src"],["type","submit","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-green",3,"disabled",4,"ngIf"]],template:function(i,t){if(i&1){let s=I();r(0,"div",13),C(1,"app-progress-spinner",14),r(2,"div",15)(3,"p",16),c(4),a(),r(5,"p"),c(6),_(7,"translate"),a(),r(8,"form",17,0),E("ngSubmit",function(){return u(s),f(t.onFormSubmit())}),r(10,"mat-vertical-stepper",18,1),E("selectionChange",function(p){u(s);let D=k(11);return f(t.onStepClick(p,D))}),r(12,"mat-step",19),_(13,"translate"),S(14,CG,1,5,"app-cms-enum-record-status-selector",20)(15,SG,1,5,"app-cms-enum-record-status-selector",20)(16,MG,10,10,"div",21),r(17,"div",22)(18,"label",23),c(19),a(),r(20,"textarea",24,2),w("ngModelChange",function(p){return u(s),T(t.dataModel.description,p)||(t.dataModel.description=p),f(p)}),a(),r(22,"em"),c(23),a(),S(24,bG,5,4,"mat-error",25),a(),S(25,TG,8,9,"div",21)(26,wG,2,4,"app-estate-property-company-selector",26),r(27,"app-cms-location-selector",27),_(28,"translate"),E("optionChange",function(p){return u(s),f(t.onActionSelectorLocation(p))}),a(),S(29,xG,7,8,"div",28)(30,AG,7,8,"div",28),C(31,"hr",29),r(32,"label"),c(33),a(),r(34,"angular-editor",30),_(35,"translate"),w("ngModelChange",function(p){return u(s),T(t.dataModel.body,p)||(t.dataModel.body=p),f(p)}),a(),S(36,PG,10,11,"div",31),a(),r(37,"mat-step",32),_(38,"translate"),r(39,"p"),c(40),_(41,"translate"),a(),S(42,kG,9,11,"div",21),r(43,"mat-form-field",33)(44,"mat-label"),c(45),_(46,"translate"),a(),r(47,"mat-chip-grid",34,3),S(49,DG,5,1,"mat-chip",35),r(50,"input",36,4),_(52,"translate"),E("matChipInputTokenEnd",function(p){return u(s),f(t.addTag(p))}),a()()(),S(53,RG,7,7,"div",31),a(),r(54,"mat-step",37),_(55,"translate"),r(56,"p"),c(57),_(58,"translate"),a(),r(59,"div",38)(60,"a",39),_(61,"cmsthumbnail"),S(62,LG,2,4,"img",40),a()(),r(63,"div",22)(64,"label",41),E("click",function(){return u(s),f(t.fileManagerOpenForm=!0)}),c(65),_(66,"translate"),a(),r(67,"input",42,5),_(69,"translate"),w("ngModelChange",function(p){return u(s),T(t.dataModel.linkMainImageId,p)||(t.dataModel.linkMainImageId=p),f(p)}),E("click",function(){return u(s),f(t.fileManagerOpenForm=!0)}),a(),r(70,"cms-file-manager",43),E("itemSelected",function(p){return u(s),f(t.onActionFileSelectedLinkMainImageId(p))}),w("openFormChange",function(p){return u(s),T(t.fileManagerOpenForm,p)||(t.fileManagerOpenForm=p),f(p)}),a()(),S(71,VG,3,3,"p",25),r(72,"app-cms-files-selector",44),w("dataFileModelChange",function(p){return u(s),T(t.dataFileModelImgaes,p)||(t.dataFileModelImgaes=p),f(p)}),a(),C(73,"br"),r(74,"div")(75,"p"),c(76),_(77,"translate"),a(),r(78,"app-cms-files-selector",45),w("dataFileModelChange",function(p){return u(s),T(t.dataFileModelFiles,p)||(t.dataFileModelFiles=p),f(p)}),a()(),r(79,"div",38),S(80,OG,4,4,"audio",46),a(),r(81,"div",22)(82,"input",47,6),_(84,"translate"),w("ngModelChange",function(p){return u(s),T(t.dataModel.linkFilePodcastId,p)||(t.dataModel.linkFilePodcastId=p),f(p)}),E("click",function(){return u(s),f(t.fileManagerOpenFormPodcast=!0)}),a(),r(85,"cms-file-manager",43),E("itemSelected",function(p){return u(s),f(t.onActionFileSelectedLinkFilePodcastId(p))}),w("openFormChange",function(p){return u(s),T(t.fileManagerOpenFormPodcast,p)||(t.fileManagerOpenFormPodcast=p),f(p)}),a()(),r(86,"div",38),S(87,FG,3,2,"video",46),a(),r(88,"div",22)(89,"input",48,7),_(91,"translate"),w("ngModelChange",function(p){return u(s),T(t.dataModel.linkFileMovieId,p)||(t.dataModel.linkFileMovieId=p),f(p)}),E("click",function(){return u(s),f(t.fileManagerOpenFormMovie=!0)}),a(),r(92,"cms-file-manager",43),E("itemSelected",function(p){return u(s),f(t.onActionFileSelectedLinkFileMovieId(p))}),w("openFormChange",function(p){return u(s),T(t.fileManagerOpenFormMovie,p)||(t.fileManagerOpenFormMovie=p),f(p)}),a()(),r(93,"h3"),c(94),_(95,"translate"),a(),r(96,"app-cms-360-image-list",49),w("dataModelChange",function(p){return u(s),T(t.dataModel.file360Views,p)||(t.dataModel.file360Views=p),f(p)}),a(),C(97,"br"),r(98,"h3"),c(99),_(100,"translate"),a(),r(101,"app-cms-360-tour-list",50),w("dataModelChange",function(p){return u(s),T(t.dataModel.file360Tour,p)||(t.dataModel.file360Tour=p),f(p)}),a(),S(102,BG,7,7,"div",31),a(),r(103,"mat-step",51),_(104,"translate"),r(105,"p"),c(106),_(107,"translate"),a(),r(108,"app-cms-map",52),E("map$",function(p){return u(s),f(t.receiveMap(p))})("zoom$",function(p){return u(s),f(t.receiveZoom(p))}),a(),S(109,HG,8,7,"div",31),a(),S(110,WG,2,0,"ng-template",53)(111,GG,2,0,"ng-template",54)(112,UG,2,0,"ng-template",55)(113,jG,2,0,"ng-template",56),a()()()()}if(i&2){let s=k(21),h=k(48);o(),d("optionsInfoAreaId",t.constructorInfoAreaId),o(3),y(" ",t.formInfo.formTitle," "),o(2),y(" ",g(7,99,"TITLE.Be_Careful_When_Entering_Information")," "),o(6),d("label",x(g(13,101,"TITLE.REQUIRED_INFORMATION"))),o(2),d("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),o(),d("ngIf",t.fieldsInfo.mainAdminRecordStatus==null?null:t.fieldsInfo.mainAdminRecordStatus.accessWatchField),o(),d("ngIf",t.fieldsInfo.title==null?null:t.fieldsInfo.title.accessWatchField),o(3),M(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle))("disabled",x(!(t.fieldsInfo.description!=null&&t.fieldsInfo.description.accessEditField))),b("ngModel",t.dataModel.description),o(3),y("",s.value.length," / 500"),o(),d("ngIf",s.errors==null?null:s.errors.required),o(),d("ngIf",t.fieldsInfo.descriptionHidden==null?null:t.fieldsInfo.descriptionHidden.accessWatchField),o(),d("ngIf",t.tokenHelper.isAdminSite),o(),d("optionDisabled",!(t.fieldsInfo.linkLocationId!=null&&t.fieldsInfo.linkLocationId.accessEditField))("optionSelectForce",t.dataModel.linkLocationId)("optionPlaceholder",g(28,103,"TITLE.Region")),o(2),d("ngIf",t.fieldsInfo.fromDate==null?null:t.fieldsInfo.fromDate.accessWatchField),o(),d("ngIf",t.fieldsInfo.expireDate==null?null:t.fieldsInfo.expireDate.accessWatchField),o(3),y(" ",t.fieldsInfo.body==null?null:t.fieldsInfo.body.fieldTitle," "),o(),d("placeholder",g(35,105,"TITLE.Enter_Text"))("config",t.publicHelper.editorConfig),b("ngModel",t.dataModel.body),o(2),d("ngIf",t.formInfo.formSubmitAllow),o(),d("label",x(g(38,107,"TITLE.Search_Engines"))),o(3),y(" ",g(41,109,"TITLE.This_section_helps_search_engines_better_index_content")," "),o(2),d("ngIf",t.fieldsInfo.source==null?null:t.fieldsInfo.source.accessWatchField),o(3),M(g(46,111,"TITLE.Choose_keywords_relative_to_the_content")),o(4),d("ngForOf",t.keywordDataModel),o(),d("placeholder",g(52,113,"TITLE.key_word"))("matChipInputAddOnBlur",t.addOnBlurTag)("matChipInputFor",h)("matChipInputSeparatorKeyCodes",t.separatorKeysCodes),o(3),d("ngIf",t.formInfo.formSubmitAllow),o(),d("label",x(g(55,115,"TITLE.ATTACH_FILES"))),o(3),M(g(58,117,"TITLE.CONTENT_ATTACH_FILES")),o(3),d("href",x(g(61,119,t.dataModel.linkMainImageIdSrc)),j),o(2),d("ngIf",(t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0),o(3),M(g(66,121,"TITLE.Original_Photo")),o(2),d("placeholder",x(g(69,123,"TITLE.Original_File_ID"))),b("ngModel",t.dataModel.linkMainImageId),o(3),d("language",t.appLanguage)("isPopup",!0),b("openForm",t.fileManagerOpenForm),d("tree",t.fileManagerTree)("openDirectUploadView",!0)("openFilemanagerButtonLabelKey","select")("selectFileType",t.selectFileTypeMainImage)("openFilemanagerButtonView",!1),o(),d("ngIf",t.dataFileModelImgaes&&t.dataFileModelImgaes.size>0),o(),b("dataFileModel",t.dataFileModelImgaes),d("openDirectUploadView",!0)("optionFileType",t.selectFileTypeMainImage),o(4),M(g(77,125,"TITLE.List_of_attached_files")),o(2),b("dataFileModel",t.dataFileModelFiles),d("openDirectUploadView",!0),o(2),d("ngIf",(t.dataModel==null||t.dataModel.linkFilePodcastIdSrc==null?null:t.dataModel.linkFilePodcastIdSrc.length)>0),o(2),d("placeholder",x(g(84,127,"TITLE.Audio_File_ID"))),b("ngModel",t.dataModel.linkFilePodcastId),o(3),d("language",t.appLanguage)("isPopup",!0),b("openForm",t.fileManagerOpenFormPodcast),d("tree",t.fileManagerTree)("openDirectUploadView",!0)("openFilemanagerButtonLabelKey","select")("selectFileType",t.selectFileTypePodcast)("openFilemanagerButtonView",!1),o(2),d("ngIf",(t.dataModel==null||t.dataModel.linkFileMovieIdSrc==null?null:t.dataModel.linkFileMovieIdSrc.length)>0),o(2),d("placeholder",x(g(91,129,"TITLE.Video_File_ID"))),b("ngModel",t.dataModel.linkFileMovieId),o(3),d("language",t.appLanguage)("isPopup",!0),b("openForm",t.fileManagerOpenFormMovie),d("tree",t.fileManagerTree)("openDirectUploadView",!0)("openFilemanagerButtonLabelKey","select")("selectFileType",t.selectFileTypeMovie)("openFilemanagerButtonView",!1),o(2),M(g(95,131,"TITLE.image_360")),o(2),b("dataModel",t.dataModel.file360Views),o(3),M(g(100,133,"TITLE.virtual_tour")),o(2),b("dataModel",t.dataModel.file360Tour),d("dataImageModel",t.dataModel.file360Views),o(),d("ngIf",t.formInfo.formSubmitAllow),o(),d("label",ve("",g(104,135,"TITLE.Location")," ")),o(3),y(" ",g(107,137,"TITLE.Click_on_the_map_to_specify_the_location")," "),o(2),d("optonCenter",t.mapOptonCenter),o(),d("ngIf",!t.publicHelper.processService.process.inRunAll)}},dependencies:[Ne,N,ke,Y,q,Te,de,De,Ae,ce,Pe,di,bi,Ti,wi,Mi,Pn,kn,ln,mi,pi,we,et,Ee,Q,Ji,Xi,hn,yn,Zi,Vi,si,Nn,Hn,Ci,U,mn,en,Bo,ut,Cr,O,Ie],styles:["@media (max-width: 1399px){.wizard.wizard-4[_ngcontent-%COMP%]   .wizard-nav[_ngcontent-%COMP%]   .wizard-steps[_ngcontent-%COMP%]   .wizard-step[_ngcontent-%COMP%]{flex:0 0 calc(25% - .25rem)}}form[_ngcontent-%COMP%]{text-align:right}.wizard[_ngcontent-%COMP%]{margin-top:20%}.wrapper[_ngcontent-%COMP%]{display:flex;padding-top:15px}.lbl-status[_ngcontent-%COMP%]{width:100px;display:flex;align-items:flex-end;justify-content:center;margin-top:5px}.status-select[_ngcontent-%COMP%]{width:970px}textarea[_ngcontent-%COMP%]{resize:none}.calender-select[_ngcontent-%COMP%]{width:252px}.next-modal[_ngcontent-%COMP%]{width:100px;margin-right:15px}.pb-4[_ngcontent-%COMP%], .py-4[_ngcontent-%COMP%]{padding-bottom:7px!important;padding-top:7px!important}tag-input[_ngcontent-%COMP%]{width:1000px}#map[_ngcontent-%COMP%]{width:100%;height:600px}.lbl-content[_ngcontent-%COMP%]{width:100px;display:flex;align-items:flex-end;justify-content:center;margin-top:25px}"]});var Ep=nd;var qG=["vform"];function QG(n,l){if(n&1){let e=I();A(0),r(1,"div",8)(2,"label",9),c(3),a(),r(4,"input",10,0),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModelResultContent.item.title,t)||(s.dataModelResultContent.item.title=t),f(t)}),a()(),r(6,"div",8)(7,"label",11),c(8),a(),r(9,"textarea",12,1),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModelResultContent.item.description,t)||(s.dataModelResultContent.item.description=t),f(t)}),a()(),P()}if(n&2){let e=m();o(3),M(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),o(),d("placeholder",x(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle)),b("ngModel",e.dataModelResultContent.item.title),o(4),M(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),o(),d("placeholder",x(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle)),b("ngModel",e.dataModelResultContent.item.description)}}function zG(n,l){if(n&1){let e=I();r(0,"div",13)(1,"button",14),E("click",function(){u(e);let t=m();return f(t.onFormDelete())}),C(2,"i",15),c(3),_(4,"translate"),a(),r(5,"button",16),E("click",function(){u(e);let t=m();return f(t.onFormCancel())}),C(6,"i",17),c(7),_(8,"translate"),a()()}if(n&2){let e=m();o(),d("disabled",!e.formInfo.buttonSubmittedEnabled),o(2),y(" ",g(4,3,"ACTION.DELETE")," "),o(4),y(" ",g(8,5,"ACTION.CANCEL")," ")}}var od=class od{constructor(l,e,i,t,s,h,p,D,z){this.data=l;this.dialogRef=e;this.publicHelper=i;this.contentService=t;this.cdr=s;this.cmsToastrService=h;this.cmsStoreService=p;this.tokenHelper=D;this.translate=z;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.tokenInfo=new St;this.dataModelResultContent=new G;this.formInfo=new me;this.publicHelper.processService.cdr=this.cdr,l&&(this.requestId=l.id),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore}ngOnInit(){if(this.requestId.length<=0){this.cmsToastrService.typeErrorDeleteRowIsNull(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOne()}DataGetOne(){if(this.requestId.length===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.translate.get("TITLE.Loading_Information").subscribe(e=>{this.formInfo.formAlert=e});let l=this.constructor.name+"fieldInfoConvertor";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(l,e,this.constructorInfoAreaId)}),this.contentService.setAccessLoad(),this.contentService.setAccessDataType(Be.Editor),this.contentService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModelResultContent=e,e.isSuccess?this.formInfo.formAlert="":(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError=e.errorMessage,this.formInfo.formErrorStatus=!0,this.cmsToastrService.typeErrorGetOne()),this.publicHelper.processService.processStop(l)},error:e=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formErrorStatus=!0,this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(l,!1)}})}onFormDelete(){if(this.requestId.length===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.formInfo.formSubmitAllow=!1,this.formInfo.buttonSubmittedEnabled=!1;let l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(l,e,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.requestId).subscribe({next:e=>{this.formInfo.formSubmitAllow=!e.isSuccess,e.isSuccess?(this.translate.get("MESSAGE.Deletion_Was_Successful").subscribe(i=>{this.formInfo.formAlert=i}),this.cmsToastrService.typeSuccessRemove(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError=e.errorMessage,this.cmsToastrService.typeErrorRemove()),this.formInfo.buttonSubmittedEnabled=!0,this.publicHelper.processService.processStop(l)},error:e=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(e),this.formInfo.buttonSubmittedEnabled=!0,this.publicHelper.processService.processStop(l)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};od.\u0275fac=function(e){return new(e||od)(v(be),v(Me),v(F),v(_n),v(B),v(V),v(Z),v(K),v(L))},od.\u0275cmp=R({type:od,selectors:[["app-estate-property-project-delete"]],viewQuery:function(e,i){if(e&1&&ee(qG,5),e&2){let t;te(t=ie())&&(i.formGroup=t.first)}},standalone:!1,decls:10,vars:7,consts:[["Writer",""],["Content",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[4,"ngIf"],["class","form-actions",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModelResultContent.item.title",1,"color-highlight"],["matInput","","name","dataModelResultContent.item.title","type","text","required","","readonly","","id","dataModelResultContent.item.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModelResultContent.item.description",1,"color-highlight"],["matInput","","name","dataModelResultContent.item.description","type","text","minlength","1","maxlength","100","readonly","","required","","rows","5","id","dataModelResultContent.item.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click","disabled"],[1,"fa","fa-check-square-o"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,i){e&1&&(r(0,"div",2),C(1,"app-progress-spinner",3),r(2,"div",4)(3,"p",5),c(4),a(),r(5,"p"),c(6),_(7,"translate"),a(),S(8,QG,11,8,"ng-container",6)(9,zG,9,7,"div",7),a()()),e&2&&(o(),d("optionsInfoAreaId",i.constructorInfoAreaId),o(3),y(" ",i.formInfo.formTitle," "),o(2),y(" ",g(7,5,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),d("ngIf",i.dataModelResultContent==null?null:i.dataModelResultContent.item),o(),d("ngIf",i.formInfo.formSubmitAllow))},dependencies:[N,Y,q,de,De,Ae,ce,Q,U,O],encapsulation:2});var Ip=od;var YG=()=>["expandedTitle"],KG=()=>["expandedDetail"],ZG=()=>[5,10,20,100],Y0=n=>({display:n});function JG(n,l){if(n&1){let e=I();r(0,"a",52)(1,"mat-slide-toggle",53),E("click",function(){u(e);let t=m();return f(t.onActionButtonWithHierarchy())}),a(),c(2),_(3,"translate"),a()}n&2&&(o(2),y("",g(3,1,"ACTION.BATCHVIEW")," "))}function XG(n,l){if(n&1){let e=I();r(0,"div",21)(1,"a",54),E("click",function(t){u(e);let s=m();return f(s.onActionButtonNewRow(t))}),C(2,"i",55)(3,"br"),a(),r(4,"p",23),c(5),_(6,"translate"),a()()}n&2&&(o(5),M(g(6,1,"ACTION.ADD")))}function $G(n,l){if(n&1){let e=I();r(0,"div",21)(1,"a",56),E("click",function(t){u(e);let s=m();return f(s.onActionButtonEditRow(s.tableRowSelected,t))}),C(2,"i",57)(3,"br"),a(),r(4,"p",23),c(5),_(6,"translate"),a()()}n&2&&(o(5),M(g(6,1,"ACTION.EDIT")))}function eU(n,l){if(n&1){let e=I();r(0,"div",21)(1,"a",58),E("click",function(){u(e);let t=m();return f(t.onActionButtonDeleteRow(t.tableRowSelected))}),C(2,"i",59)(3,"br"),a(),r(4,"p",23),c(5),_(6,"translate"),a()()}n&2&&(o(5),M(g(6,1,"ACTION.DELETE")))}function tU(n,l){n&1&&(r(0,"mat-header-cell"),c(1),_(2,"translate"),a()),n&2&&(o(),y(" ",g(2,1,"TITLE.MENU")," "))}function iU(n,l){if(n&1){let e=I();r(0,"mat-cell")(1,"button",60),E("click",function(){let t=u(e).$implicit,s=m();return f(s.onActionTableRowSelectActionMenu(t))}),C(2,"i",61),a()()}}function nU(n,l){n&1&&(r(0,"mat-header-cell",62),c(1),_(2,"translate"),a()),n&2&&(o(),y(" ",g(2,1,"TITLE.PICTURE")," "))}function oU(n,l){if(n&1&&(C(0,"img",64),_(1,"cmsthumbnail")),n&2){let e=m().$implicit;d("src",x(g(1,2,e.linkMainImageIdSrc)),j)}}function rU(n,l){if(n&1&&(r(0,"mat-cell"),S(1,oU,2,4,"img",63),a()),n&2){let e=l.$implicit;o(),d("ngIf",(e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0)}}function aU(n,l){if(n&1&&(r(0,"mat-header-cell",62),c(1),a()),n&2){let e=m();o(),y(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function lU(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),y(" ",e.id," ")}}function sU(n,l){if(n&1&&(r(0,"mat-header-cell",62),c(1),a()),n&2){let e=m();o(),y(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function dU(n,l){if(n&1&&(r(0,"mat-cell"),c(1),_(2,"cmssiteinfo"),_(3,"async"),a()),n&2){let e=l.$implicit;o(),y(" ",g(3,3,g(2,1,e.linkSiteId))," ")}}function cU(n,l){if(n&1&&(r(0,"mat-header-cell",62),c(1),a()),n&2){let e=m();o(),y(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function pU(n,l){if(n&1&&C(0,"select",67),n&2){let e=m().$implicit,i=m();d("contentService",i.contentService)("row",e)("ngStyle",ze(3,Y0,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function mU(n,l){if(n&1&&(r(0,"mat-cell"),C(1,"i",65),_(2,"statusIconClass"),S(3,pU,1,5,"select",66),a()),n&2){let e=l.$implicit,i=m();o(),d("ngClass",g(2,2,e.recordStatus)),o(2),d("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessEditRow)}}function uU(n,l){if(n&1&&(r(0,"mat-header-cell",62),c(1),a()),n&2){let e=m();o(),y(" ",e.fieldsInfo.mainAdminRecordStatus==null?null:e.fieldsInfo.mainAdminRecordStatus.fieldTitle," ")}}function fU(n,l){if(n&1&&(r(0,"mat-cell"),C(1,"i",65),_(2,"statusIconClass"),a()),n&2){let e=l.$implicit;o(),d("ngClass",g(2,1,e.mainAdminRecordStatus))}}function _U(n,l){if(n&1&&(r(0,"mat-header-cell",62),c(1),a()),n&2){let e=m();o(),y(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," ")}}function gU(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),y(" ",e.title," ")}}function hU(n,l){if(n&1&&(r(0,"mat-header-cell",62),c(1),a()),n&2){let e=m();o(),y(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function yU(n,l){if(n&1&&(r(0,"mat-cell"),c(1),_(2,"localeDate"),a()),n&2){let e=l.$implicit;o(),y(" ",g(2,1,e.createdDate)," ")}}function CU(n,l){n&1&&(r(0,"mat-header-cell"),c(1),_(2,"translate"),a()),n&2&&(o(),y(" ",g(2,1,"TITLE.OPTION")," "))}function SU(n,l){if(n&1&&(r(0,"mat-cell",68)(1,"button",69)(2,"mat-icon"),c(3,"more_vert"),a()(),C(4,"mat-menu",null,2),a()),n&2){let e=k(5);o(),d("matMenuTriggerFor",e)}}function vU(n,l){n&1&&(r(0,"mat-header-cell",70),c(1),_(2,"translate"),a()),n&2&&(o(),y(" ",g(2,1,"TITLE.LINKTO")," "))}function EU(n,l){if(n&1){let e=I();r(0,"mat-cell")(1,"button",71),E("click",function(){let t=u(e).$implicit,s=m();return f(s.onActionButtonLinkTo(t))}),r(2,"mat-icon",72),c(3,"\u2197"),a()()()}}function IU(n,l){if(n&1&&(r(0,"mat-cell"),c(1),C(2,"br"),c(3),_(4,"translate"),_(5,"localeDate"),a()),n&2){let e=l.$implicit;o(),y(" ",e.title," "),o(2),$(" ",g(4,3,"TITLE.CreationDate")," : ",g(5,5,e.createdDate)," ")}}function MU(n,l){if(n&1&&(C(0,"img",77),_(1,"cmsthumbnail")),n&2){let e=m().$implicit;d("src",x(g(1,2,e.linkMainImageIdSrc)),j)}}function bU(n,l){if(n&1&&(r(0,"tr"),C(1,"td"),r(2,"td"),c(3),_(4,"localeDate"),a()()),n&2){let e=m().$implicit,i=m();o(3),$(" ",i.fieldsInfo.updatedDate==null?null:i.fieldsInfo.updatedDate.fieldTitle," : ",g(4,2,e.updatedDate)," ")}}function TU(n,l){if(n&1){let e=I();r(0,"mat-cell")(1,"div")(2,"table")(3,"tr")(4,"th"),S(5,MU,2,4,"img",73),a(),r(6,"th")(7,"span",74),E("click",function(){u(e);let t=m();return f(t.onActionCopied())}),C(8,"i",75),a(),c(9),a()(),S(10,bU,5,4,"tr",76),r(11,"tr"),C(12,"td"),r(13,"td"),c(14),a()(),r(15,"tr"),C(16,"td"),r(17,"td"),c(18),a()(),r(19,"tr"),C(20,"td")(21,"td"),a()()()()}if(n&2){let e=l.$implicit;o(5),d("ngIf",(e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0),o(2),d("cdkCopyToClipboard",e.id),o(2),y(" ",e.id," "),o(),d("ngIf",e.updatedDate),o(4),y(" ",e.title," "),o(4),y(" ",e.description," ")}}function wU(n,l){n&1&&C(0,"mat-header-row")}function xU(n,l){if(n&1){let e=I();r(0,"mat-row",78),E("click",function(){let t=u(e).$implicit,s=m();return f(s.onActionTableRowSelect(t))})("mouseenter",function(){let t=u(e).$implicit,s=m();return f(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=u(e).$implicit,s=m();return f(s.onActionTableRowMouseLeave(t))}),a()}if(n&2){let e=l.$implicit,i=l.dataIndex,t=m();Se("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",e.id===(t.tableRowSelected==null?null:t.tableRowSelected.id))}}function AU(n,l){if(n&1){let e=I();r(0,"mat-row",78),E("click",function(){let t=u(e).$implicit,s=m();return f(s.onActionTableRowSelect(t))})("mouseenter",function(){let t=u(e).$implicit,s=m();return f(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=u(e).$implicit,s=m();return f(s.onActionTableRowMouseLeave(t))}),a()}if(n&2){let e=l.$implicit,i=l.dataIndex,t=m();Se("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",e.id===(t.tableRowSelected==null?null:t.tableRowSelected.id))}}function PU(n,l){if(n&1){let e=I();r(0,"mat-row",79),E("click",function(){let t=u(e).$implicit,s=m();return f(s.onActionTableRowSelect(t))})("mouseenter",function(){let t=u(e).$implicit,s=m();return f(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=u(e).$implicit,s=m();return f(s.onActionTableRowMouseLeave(t))}),a()}if(n&2){let e=l.$implicit,i=l.dataIndex,t=m();Se("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",e.id===(t.tableRowSelected==null?null:t.tableRowSelected.id)),d("ngStyle",ze(7,Y0,e.expanded===!0?"":"none"))}}var rd=class rd extends bt{constructor(e,i,t,s,h,p,D,z,he,je){super(e,new Vn,he,s,p);this.contentService=e;this.cmsToastrService=i;this.router=t;this.tokenHelper=s;this.cdr=h;this.translate=p;this.cmsStoreService=D;this.pageInfo=z;this.publicHelper=he;this.dialog=je;this.constructorInfoAreaId=this.constructor.name;this.filteModelContent=new pe;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["LinkMainImageIdSrc","Id","RecordStatus","mainAdminRecordStatus","LinkTo","action_menu"];this.tabledisplayedColumnsMobileSource=["LinkMainImageIdSrc","Id","RecordStatus","mainAdminRecordStatus","LinkTo","action_menu"];this.GetAllWithHierarchyCategoryId=!1;this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:Ge=>this.onSubmitOptionsSearch(Ge)},this.filteModelContent.sortColumn="Id",this.filteModelContent.sortType=X.Descending}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.cmsApiStoreSubscribe=this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>re(this,null,function*(){this.tokenInfo=e,this.DataGetAll()}))}ngOnDestroy(){this.cmsApiStoreSubscribe&&this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Vn);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));if(this.categoryModelSelected&&this.categoryModelSelected.id.length>0){let t=new H;t.propertyName="linkEstateProjectCategoryId",t.value=this.categoryModelSelected.id,i.filters.push(t)}this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),t.isSuccess?(this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=X.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=X.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=X.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(e){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}e?.ctrlKey?(this.link="/#/estate/property-project/add/",window.open(this.link,"_blank")):this.router.navigate(["/estate/property-project/add"])}onActionButtonEditRow(e=this.tableRowSelected,i){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}i?.ctrlKey?(this.link="/#/estate/property-project/edit/"+this.tableRowSelected.id,window.open(this.link,"_blank")):this.router.navigate(["/estate/property-project/edit",this.tableRowSelected.id])}onActionButtonProperty(e=this.tableRowSelected,i){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}i?.ctrlKey?(this.link="/#/estate/property/LinkProjectId/"+this.tableRowSelected.id,window.open(this.link,"_blank")):this.router.navigate(["/estate/property/LinkProjectId",this.tableRowSelected.id])}onActionButtonPropertyCompany(e=this.tableRowSelected,i){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}i?.ctrlKey?(this.link="/#/estate/property-company/LinkProjectId/"+this.tableRowSelected.id,window.open(this.link,"_blank")):this.router.navigate(["/estate/property-company/LinkProjectId",this.tableRowSelected.id])}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(s=>{this.cmsToastrService.typeErrorSelected(s)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Ip,{panelClass:i,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate&&this.DataGetAll()})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(p=>{i.set(p,0)}),this.translate.get("MESSAGE.All").subscribe(p=>{i.set(p,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(p=>{this.publicHelper.processService.processStart(t,p,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:p=>{p.isSuccess?(this.translate.get("MESSAGE.All").subscribe(D=>{i.set(D,p.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(p.errorMessage),this.publicHelper.processService.processStop(t)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(t,!1)}});let s=JSON.parse(JSON.stringify(this.filteModelContent)),h=new H;h.propertyName="RecordStatus",h.value=qe.Available,s.filters.push(h),this.contentService.ServiceGetCount(s).subscribe({next:p=>{p.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(D=>{i.set(D,p.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(p.errorMessage),this.publicHelper.processService.processStop(t)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonWithHierarchy(){this.GetAllWithHierarchyCategoryId=!this.GetAllWithHierarchyCategoryId,this.DataGetAll()}onActionSelectorSelect(e){var i=this.filteModelContent.sortColumn,t=this.filteModelContent.sortType;this.filteModelContent=new pe,this.filteModelContent.sortColumn=i,this.filteModelContent.sortType=t,this.categoryModelSelected=e,this.DataGetAll()}onActionButtonReload(){this.DataGetAll()}onActionCopied(){this.cmsToastrService.typeSuccessCopedToClipboard()}onSubmitOptionsSearch(e){e&&e.length>0&&(this.filteModelContent.filters=[...this.filteModelContent.filters,...e]),this.DataGetAll()}onActionButtonLinkTo(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(e.recordStatus!=qe.Available){this.cmsToastrService.typeWarningRecordStatusNoAvailable();return}this.onActionTableRowSelect(e);let i=this.constructor.name+"ServiceGetOneById";this.translate.get("MESSAGE.get_state_information").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructorInfoAreaId)}),this.contentService.setAccessDataType(Be.Editor),this.contentService.ServiceGetOneById(e.id).subscribe({next:t=>{if(t.isSuccess){var s="";this.publicHelper.isMobile?s="dialog-fullscreen":s="dialog-min",this.dialog.open(pn,{height:"90%",panelClass:s,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{title:t.item.title,urlViewContentQRCodeBase64:t.item.urlViewContentQRCodeBase64,urlViewContent:t.item.urlViewContent}}).afterClosed().subscribe(p=>{p&&p.dialogChangedDate&&this.DataGetAll()})}else this.cmsToastrService.typeErrorMessage(t.errorMessage);this.publicHelper.processService.processStop(i)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(i,!1)}})}};rd.\u0275fac=function(i){return new(i||rd)(v(_n),v(V),v(Ze),v(K),v(B),v(L),v(Z),v(ht),v(F),v(xe))},rd.\u0275cmp=R({type:rd,selectors:[["app-estate-property-project-list"]],standalone:!1,features:[ne],decls:96,vars:43,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionActionRowDisplayMenuAct","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-maximize","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-minimize","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-highlight","target","_blank",4,"ngIf"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],[1,"col-4"],[1,"fa-solid","fa-apartment","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-building","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-share","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","","multiTemplateDataRows","",3,"matSortChange","dataSource"],["matColumnDef","action_menu"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkMainImageIdSrc"],["mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","Id"],["matColumnDef","LinkSiteId"],["matColumnDef","RecordStatus"],["matColumnDef","mainAdminRecordStatus"],["matColumnDef","Title"],["matColumnDef","CreatedDate"],["matColumnDef","Action"],["class","Action",4,"matCellDef"],["matColumnDef","LinkTo"],["mat-sort-header","","class","form-label",4,"matHeaderCellDef"],["matColumnDef","expandedTitle"],["matColumnDef","expandedDetail"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","ngStyle","click","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[3,"click"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"click"],[1,"fa","fa-bars","font-18"],["mat-sort-header",""],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","40","width","40",3,"src",4,"ngIf"],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],["mat-sort-header","",1,"form-label"],["type","button","mat-icon-button","",1,"text-dark",3,"click"],[2,"color","#ff671f"],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","80","width","80",3,"src",4,"ngIf"],[1,"navi-icon","pointer",3,"click","cdkCopyToClipboard"],[1,"flaticon2-copy"],[4,"ngIf"],["aria-hidden","","height","80","width","80",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"click","mouseenter","mouseleave"],[3,"click","mouseenter","mouseleave","ngStyle"]],template:function(i,t){if(i&1){let s=I();r(0,"app-cms-html-list",3),w("optionActionGuideNoticeDisplayChange",function(p){return u(s),T(t.viewGuideNotice,p)||(t.viewGuideNotice=p),f(p)}),E("optionOnActionButtonMemoRow",function(){return u(s),f(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return u(s),f(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return u(s),f(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return u(s),f(t.onActionButtonPrintRow())}),Qe(1,4)(2,5)(3,6),A(4,7),r(5,"a",8),E("click",function(){return u(s),f(t.viewGuideNotice=!t.viewGuideNotice)}),C(6,"i",9),a(),r(7,"a",8),E("click",function(){return u(s),f(t.onActionButtonReload())}),C(8,"i",10),a(),r(9,"a",11),E("click",function(){return u(s),f(t.onActionGridExpandRows(!0))}),C(10,"i",12),a(),r(11,"a",11),E("click",function(){return u(s),f(t.onActionGridExpandRows(!1))}),C(12,"i",13),a(),P(),A(13,14),r(14,"a",15),E("click",function(){return u(s),f(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),C(15,"mat-slide-toggle",16),c(16),_(17,"translate"),a(),r(18,"a",15),E("click",function(){return u(s),f(t.onActionButtonStatist())}),C(19,"mat-slide-toggle",16),c(20),_(21,"translate"),a(),S(22,JG,4,3,"a",17),P(),A(23,18),S(24,XG,7,3,"div",19),P(),A(25,20),S(26,$G,7,3,"div",19)(27,eU,7,3,"div",19),r(28,"div",21)(29,"a",11),E("click",function(p){return u(s),f(t.onActionButtonProperty(t.tableRowSelected,p))}),C(30,"i",22)(31,"br"),a(),r(32,"p",23),c(33),_(34,"translate"),a()(),r(35,"div",21)(36,"a",11),E("click",function(p){return u(s),f(t.onActionButtonPropertyCompany(t.tableRowSelected,p))}),C(37,"i",24)(38,"br"),a(),r(39,"p",23),c(40),_(41,"translate"),a()(),r(42,"div",21)(43,"a",8),E("click",function(){return u(s),f(t.onActionButtonLinkTo(t.tableRowSelected))}),C(44,"i",25)(45,"br"),a(),r(46,"p",23),c(47),_(48,"translate"),a()(),P(),A(49,26),r(50,"app-cms-search-list",27),w("optionsChange",function(p){return u(s),T(t.optionsSearch,p)||(t.optionsSearch=p),f(p)}),a(),r(51,"app-cms-statist-list",27),w("optionsChange",function(p){return u(s),T(t.optionsStatist,p)||(t.optionsStatist=p),f(p)}),a(),P(),A(52,28),r(53,"mat-table",29,0),E("matSortChange",function(){u(s);let p=k(54);return f(t.onTableSortData(p))}),A(55,30),S(56,tU,3,3,"mat-header-cell",31)(57,iU,3,0,"mat-cell",32),P(),A(58,33),S(59,nU,3,3,"mat-header-cell",34)(60,rU,2,1,"mat-cell",32),P(),A(61,35),S(62,aU,2,1,"mat-header-cell",34)(63,lU,2,1,"mat-cell",32),P(),A(64,36),S(65,sU,2,1,"mat-header-cell",34)(66,dU,4,5,"mat-cell",32),P(),A(67,37),S(68,cU,2,1,"mat-header-cell",34)(69,mU,4,4,"mat-cell",32),P(),A(70,38),S(71,uU,2,1,"mat-header-cell",34)(72,fU,3,3,"mat-cell",32),P(),A(73,39),S(74,_U,2,1,"mat-header-cell",34)(75,gU,2,1,"mat-cell",32),P(),A(76,40),S(77,hU,2,1,"mat-header-cell",34)(78,yU,3,3,"mat-cell",32),P(),A(79,41),S(80,CU,3,3,"mat-header-cell",31)(81,SU,6,1,"mat-cell",42),P(),A(82,43),S(83,vU,3,3,"mat-header-cell",44)(84,EU,4,0,"mat-cell",32),P(),A(85,45),S(86,IU,6,7,"mat-cell",32),P(),A(87,46),S(88,TU,22,6,"mat-cell",32),P(),S(89,wU,1,0,"mat-header-row",47)(90,xU,1,6,"mat-row",48)(91,AU,1,6,"mat-row",48)(92,PU,1,9,"mat-row",49),a(),P(),A(93,50),r(94,"mat-paginator",51,1),E("page",function(p){return u(s),f(t.onTablePageingData(p))}),a(),P(),a()}i&2&&(d("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey","estate.propertyproject.list"),b("optionActionGuideNoticeDisplay",t.viewGuideNotice),d("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelectDoubleClick)("optionActionRowDisplayMenuAct",t.tableRowSelectActionMenuClick)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.title),o(15),d("checked",t.optionsSearch.data.show),o(),y("",g(17,30,"ACTION.SEARCH")," "),o(3),d("checked",t.optionsStatist.data.show),o(),y("",g(21,32,"ACTION.STATIST")," "),o(2),d("ngIf",(t.tableRowSelected==null?null:t.tableRowSelected.id)>0),o(2),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessAddRow),o(2),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),o(),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),o(6),M(g(34,34,"ACTION.PROPERTY")),o(7),M(g(41,36,"ACTION.COMPANY")),o(7),M(g(48,38,"TITLE.LINKTO")),o(3),b("options",t.optionsSearch),o(),b("options",t.optionsStatist),o(2),d("dataSource",t.tableSource),o(36),d("matHeaderRowDef",t.tabledisplayedColumns),o(),d("matRowDefColumns",le(40,YG)),o(),d("matRowDefColumns",t.tabledisplayedColumns),o(),d("matRowDefColumns",le(41,KG)),o(2),d("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",le(42,ZG)))},dependencies:[se,N,tt,Je,Ee,Q,At,Pt,vt,gt,Et,It,it,ot,st,rt,nt,dt,at,lt,ct,pt,ci,Tt,wt,xt,Oi,He,O,tn,Ie,Fn,qt],encapsulation:2});var Mp=rd;var Z0=uo(Fo());function kU(n,l){if(n&1){let e=I();r(0,"mat-tree-node",9),C(1,"button",10),r(2,"mat-checkbox",11),E("change",function(){let t=u(e).$implicit,s=m();return f(s.checklistSelection.toggle(t))}),c(3),a()()}if(n&2){let e=l.$implicit,i=l.dataIndex,t=m();Se("ntk-tree-odd",i%2)("ntk-tree-even",!(i%2)),o(2),d("checked",t.checklistSelection.isSelected(e)),o(),M(e.title)}}function DU(n,l){if(n&1){let e=I();r(0,"mat-nested-tree-node")(1,"li")(2,"div",12)(3,"button",13)(4,"mat-icon",14),c(5),a()(),r(6,"mat-checkbox",15),E("change",function(){let t=u(e).$implicit,s=m();return f(s.todoItemSelectionToggle(t))}),c(7),a()(),r(8,"ul"),Qe(9,16),a()()()}if(n&2){let e=l.$implicit,i=m();o(3),yt("aria-label","Toggle "+e.title),o(2),y(" ",i.treeControl.isExpanded(e)?"expand_more":"chevron_right"," "),o(),d("checked",i.checklistSelection.isSelected(e))("indeterminate",i.descendantsPartiallySelected(e)),o(),y(" ",e.title),o(),Se("category-tree-invisible",!i.treeControl.isExpanded(e))}}var ad=class ad{constructor(l,e,i,t,s,h,p,D,z){this.cmsToastrService=l;this.coreEnumService=e;this.categoryService=i;this.cdr=t;this.publicHelper=s;this.tokenHelper=h;this.cmsStoreService=p;this.dialog=D;this.translate=z;this.constructorInfoAreaId=this.constructor.name;this.dataModelSelect=[];this.dataModelResult=new G;this.filterModel=new pe;this.treeControl=new xo(l=>l.children);this.dataSource=new Oo;this.runComplate=!1;this.optionSelectChecked=new Xe;this.optionSelectDisChecked=new Xe;this.optionModelChange=new Xe;this.checklistSelection=new Om(!0);this.hasChild=(l,e)=>!!e.children&&e.children.length>0;this.hasNoContent=(l,e)=>e.children;this.publicHelper.processService.cdr=this.cdr,this.checklistSelection.changed.subscribe(he=>{if(!this.runComplate)return;let je=[];this.checklistSelection.selected.forEach(Ge=>{je.push(Ge.id)}),this.optionModelChange.emit(je),he.added&&he.added.length>0&&he.added.forEach(Ge=>{this.optionSelectChecked.emit(Ge.id)}),he.removed&&he.removed.length>0&&he.removed.forEach(Ge=>{this.optionSelectDisChecked.emit(Ge.id)})})}set optionModel(l){this.dataModelSelect=l,this.loadCheked()}ngOnInit(){setTimeout(()=>{this.DataGetAll()},500),this.cmsApiStoreSubscribe=this.cmsStoreService.getState(l=>l.tokenInfoStore).subscribe(l=>re(this,null,function*(){this.DataGetAll()}))}ngOnDestroy(){this.cmsApiStoreSubscribe&&this.cmsApiStoreSubscribe.unsubscribe()}loadCheked(l=this.treeControl.dataNodes){this.runComplate=!1,this.treeControl.dataNodes&&this.dataModelSelect&&this.dataModelSelect.length>0&&l.forEach(e=>{this.dataModelSelect.find(t=>t===e.id)&&this.checklistSelection.select(e),e.children&&e.children.length>0&&this.loadCheked(e.children)}),this.runComplate=!0}DataGetAll(){this.filterModel.rowPerPage=200,this.filterModel.accessLoad=!0;let l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(l,e,this.constructorInfoAreaId)}),this.categoryService.ServiceGetAll(this.filterModel).subscribe({next:e=>{e.isSuccess?(this.dataModelResult=e,this.dataSource.data=this.dataModelResult.listItems,this.treeControl.dataNodes=this.dataModelResult.listItems,this.loadCheked()):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(l)},error:e=>{this.publicHelper.processService.processStop(l),this.cmsToastrService.typeError(e)}})}descendantsAllSelected(l){return this.treeControl.getDescendants(l).every(i=>this.checklistSelection.isSelected(i))}descendantsPartiallySelected(l){return this.treeControl.getDescendants(l).some(t=>this.checklistSelection.isSelected(t))&&!this.descendantsAllSelected(l)}todoItemSelectionToggle(l){this.checklistSelection.toggle(l);let e=this.treeControl.getDescendants(l);this.checklistSelection.isSelected(l)?this.checklistSelection.select(...e):this.checklistSelection.deselect(...e)}};ad.\u0275fac=function(e){return new(e||ad)(v(V),v(J),v(ir),v(B),v(F),v(K),v(Z),v(xe),v(L))},ad.\u0275cmp=R({type:ad,selectors:[["app-estate-property-supplier-category-treeselector"]],inputs:{optionModel:"optionModel"},outputs:{optionSelectChecked:"optionSelectChecked",optionSelectDisChecked:"optionSelectDisChecked",optionModelChange:"optionModelChange"},standalone:!1,decls:11,vars:10,consts:[[3,"optionHeaderDisplay","optionActionMainDisplay","optionFooterDisplay"],["cms-tree-header",""],["cms-tree-action",""],["cms-tree-body","",1,"loader-container"],[3,"optionsInfoAreaId"],[1,"category-tree","cursor-pointer",3,"dataSource","treeControl"],["matTreeNodePadding","",3,"ntk-tree-odd","ntk-tree-even",4,"matTreeNodeDef"],[4,"matTreeNodeDef","matTreeNodeDefWhen"],["cms-tree-footer",""],["matTreeNodePadding",""],["type","button","mat-icon-button","","disabled",""],[1,"checklist-leaf-node",3,"change","checked"],[1,"mat-tree-node"],["type","button","mat-icon-button","","matTreeNodeToggle",""],[1,"mat-icon-rtl-mirror"],[3,"change","checked","indeterminate"],["matTreeNodeOutlet",""]],template:function(e,i){e&1&&(r(0,"app-cms-html-tree",0),A(1,1),c(2),_(3,"translate"),P(),Qe(4,2),A(5,3),C(6,"app-progress-spinner",4),r(7,"mat-tree",5),S(8,kU,4,6,"mat-tree-node",6)(9,DU,10,7,"mat-nested-tree-node",7),a(),P(),Qe(10,8),a()),e&2&&(d("optionHeaderDisplay",!0)("optionActionMainDisplay",!1)("optionFooterDisplay",!1),o(2),y(" ",g(3,8,"TABLE."+(i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.moduleEntityName))," "),o(4),d("optionsInfoAreaId",i.constructorInfoAreaId),o(),d("dataSource",i.dataSource)("treeControl",i.treeControl),o(2),d("matTreeNodeDefWhen",i.hasChild))},dependencies:[Je,Aa,Ee,ko,Po,Do,Vo,Lo,Ao,Ro,U,Ho,O],encapsulation:2});var ld=ad;var RU=["vform"];function LU(n,l){if(n&1){let e=I();r(0,"app-cms-enum-record-status-selector",67),w("modelChange",function(t){u(e);let s=m();return T(s.dataModel.recordStatus,t)||(s.dataModel.recordStatus=t),f(t)}),a()}if(n&2){let e=m();b("model",e.dataModel.recordStatus),d("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function VU(n,l){if(n&1){let e=I();r(0,"app-cms-enum-record-status-selector",67),w("modelChange",function(t){u(e);let s=m();return T(s.dataModel.mainAdminRecordStatus,t)||(s.dataModel.mainAdminRecordStatus=t),f(t)}),a()}if(n&2){let e=m();b("model",e.dataModel.mainAdminRecordStatus),d("optionDisabled",!1)("optionLabel",e.fieldsInfo.mainAdminRecordStatus==null?null:e.fieldsInfo.mainAdminRecordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function OU(n,l){n&1&&C(0,"i",68)}function FU(n,l){n&1&&C(0,"i",69)}function BU(n,l){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),_(4,"translate"),a()()),n&2){let e=m();o(),y(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," "),o(2),M(g(4,2,"MESSAGE.required"))}}function NU(n,l){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),_(4,"translate"),a()()),n&2){let e=m();o(),y(" ",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle," "),o(2),M(g(4,2,"MESSAGE.required"))}}function HU(n,l){if(n&1){let e=I();r(0,"div",22)(1,"label",70),c(2),_(3,"translate"),a(),r(4,"textarea",71,12),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.descriptionHidden,t)||(s.dataModel.descriptionHidden=t),f(t)}),a(),r(6,"em"),c(7),a()()}if(n&2){let e=k(5),i=m();o(2),M(g(3,5,"TITLE.Description_Hidden")),o(2),d("placeholder",x(i.fieldsInfo.descriptionHidden==null?null:i.fieldsInfo.descriptionHidden.fieldTitle)),b("ngModel",i.dataModel.descriptionHidden),o(3),y("",e.value.length," / 500")}}function WU(n,l){n&1&&C(0,"i",68)}function GU(n,l){n&1&&C(0,"i",69)}function UU(n,l){n&1&&(r(0,"mat-error"),c(1," Address is "),r(2,"strong"),c(3),_(4,"translate"),a()()),n&2&&(o(3),M(g(4,1,"MESSAGE.required")))}function jU(n,l){if(n&1){let e=I();r(0,"div",72)(1,"button",73),E("click",function(){u(e);let t=m();return f(t.onActionBackToParent())}),c(2),_(3,"translate"),a(),r(4,"button",74),c(5),_(6,"translate"),a()()}if(n&2){m();let e=k(9);o(2),y(" ",g(3,3,"ACTION.BACK")," "),o(2),d("disabled",!e.form.valid),o(),y(" ",g(6,5,"ACTION.NEXT")," ")}}function qU(n,l){if(n&1&&(r(0,"div",72)(1,"button",75),c(2),_(3,"translate"),a(),r(4,"button",74),c(5),_(6,"translate"),a()()),n&2){m();let e=k(9);o(2),y(" ",g(3,3,"ACTION.BEFOR")," "),o(2),d("disabled",!e.form.valid),o(),y(" ",g(6,5,"ACTION.NEXT")," ")}}function QU(n,l){if(n&1){let e=I();r(0,"div",22)(1,"label",76),c(2),_(3,"translate"),a(),r(4,"input",77,13),_(6,"translate"),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.source,t)||(s.dataModel.source=t),f(t)}),a(),r(7,"em"),c(8),a()()}if(n&2){let e=k(5),i=m();o(2),M(g(3,7,"TITLE.Source_page_address")),o(2),d("placeholder",x(g(6,9,"TITLE.Content_reference_website_link")))("disabled",x(!(i.fieldsInfo.source!=null&&i.fieldsInfo.source.accessAddField))),b("ngModel",i.dataModel.source),o(4),y("",e.value.length," / 500")}}function zU(n,l){if(n&1){let e=I();r(0,"mat-chip",78),E("removed",function(){let t=u(e).$implicit,s=m();return f(s.removeTag(t))}),c(1),r(2,"button",79)(3,"mat-icon"),c(4,"cancel"),a()()()}if(n&2){let e=l.$implicit;o(),y(" ",e," ")}}function YU(n,l){if(n&1&&(r(0,"div",72)(1,"button",75),c(2),_(3,"translate"),a(),r(4,"button",74),c(5),_(6,"translate"),a()()),n&2){m();let e=k(9);o(2),y(" ",g(3,3,"ACTION.BEFOR")," "),o(2),d("disabled",!e.form.valid),o(),y(" ",g(6,5,"ACTION.NEXT")," ")}}function KU(n,l){if(n&1&&(C(0,"img",80),_(1,"cmsthumbnail")),n&2){let e=m();d("src",x(g(1,2,e.dataModel.linkMainImageIdSrc)),j)}}function ZU(n,l){n&1&&(r(0,"p"),c(1),_(2,"translate"),a()),n&2&&(o(),y(" ",g(2,1,"TITLE.List_of_attached_photos")," "))}function JU(n,l){if(n&1&&(r(0,"audio",81),C(1,"source",82),_(2,"cmsthumbnail"),c(3," Your browser does not support the audio tag. "),a()),n&2){let e=m();o(),d("src",x(g(2,2,e.dataModel.linkFilePodcastIdSrc)),j)}}function XU(n,l){if(n&1&&(r(0,"video",81),C(1,"source",83),c(2," Your browser does not support the video tag. "),a()),n&2){let e=m();o(),d("src",x(e.dataModel.linkFileMovieIdSrc),j)}}function $U(n,l){if(n&1&&(r(0,"div",72)(1,"button",75),c(2),_(3,"translate"),a(),r(4,"button",74),c(5),_(6,"translate"),a()()),n&2){m();let e=k(9);o(2),y(" ",g(3,3,"ACTION.BEFOR")," "),o(2),d("disabled",!e.form.valid),o(),y(" ",g(6,5,"ACTION.NEXT")," ")}}function ej(n,l){if(n&1&&(r(0,"button",85),c(1),_(2,"translate"),a()),n&2){m(2);let e=k(9);d("disabled",!e.form.valid),o(),y(" ",g(2,2,"ACTION.SAVE")," ")}}function tj(n,l){if(n&1&&(r(0,"div",72)(1,"button",75),c(2),_(3,"translate"),a(),S(4,ej,3,4,"button",84),a()),n&2){let e=m();o(2),y(" ",g(3,2,"ACTION.BEFOR")," "),o(2),d("ngIf",e.formInfo.formSubmitAllow)}}function ij(n,l){n&1&&(r(0,"mat-icon"),c(1,"call_end"),a())}function nj(n,l){n&1&&(r(0,"mat-icon"),c(1,"call_end"),a())}function oj(n,l){n&1&&(r(0,"mat-icon"),c(1,"forum"),a())}function rj(n,l){n&1&&(r(0,"mat-icon"),c(1,"forum"),a())}var sd=class sd extends Dt{constructor(e,i,t,s,h,p,D){super(t,new vo,i,D);this.coreEnumService=e;this.publicHelper=i;this.contentService=t;this.cmsToastrService=s;this.router=h;this.cdr=p;this.translate=D;this.constructorInfoAreaId=this.constructor.name;this.dataModel=new vo;this.dataModelResult=new G;this.dataFileModelImgaes=new Map;this.dataFileModelFiles=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.selectFileTypePodcast=["mp3"];this.selectFileTypeMovie=["mp4","webm"];this.formInfo=new me;this.fileManagerOpenForm=!1;this.fileManagerOpenFormPodcast=!1;this.fileManagerOpenFormMovie=!1;this.fieldsInfo=new Map;this.keywordDataModel=[];this.tagDataModel=[];this.similarDataModel=new Array;this.otherInfoTabledisplayedColumns=["Title","TypeId","Action"];this.similarTabledisplayedColumns=["LinkMainImageIdSrc","Id","RecordStatus","Title","Action"];this.similarTabledataSource=new li;this.appLanguage="fa";this.viewMap=!1;this.mapMarkerPoints=[];this.mapOptonCenter=new Li;this.addOnBlurTag=!0;this.separatorKeysCodes=[13];this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.DataGetAccess()}onActionTagChange(e){this.tagDataModel=e}onActionFileSelectedLinkMainImageId(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}onActionFileSelectedLinkFilePodcastId(e){this.dataModel.linkFilePodcastId=e.id,this.dataModel.linkFilePodcastIdSrc=e.downloadLinksrc}onActionFileSelectedLinkFileMovieId(e){this.dataModel.linkFileMovieId=e.id,this.dataModel.linkFileMovieIdSrc=e.downloadLinksrc}receiveMap(e=this.mapModel){e&&(this.mapModel=e,this.mapModel.on("click",i=>{let t=i.latlng.lat,s=i.latlng.lng;if(this.mapMarker!==void 0&&this.mapModel.removeLayer(this.mapMarker),t===this.dataModel.geolocationlatitude&&s===this.dataModel.geolocationlongitude){this.dataModel.geolocationlatitude=null,this.dataModel.geolocationlongitude=null;return}this.mapMarker=Z0.marker([t,s]).addTo(this.mapModel),this.dataModel.geolocationlatitude=t,this.dataModel.geolocationlongitude=s}))}receiveZoom(e){}onFormSubmit(){if(!this.formGroup.valid){this.cmsToastrService.typeErrorFormInvalid();return}if(this.dataModel.keyword="",this.keywordDataModel&&this.keywordDataModel.length>0){let e=[];this.keywordDataModel.forEach(i=>{i.display?e.push(i.display):e.push(i)}),e&&e.length>0&&(this.dataModel.keyword=e.join(","))}this.DataAddContent()}DataAddContent(){this.formInfo.formSubmitAllow=!1,this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";if(this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.dataFileModelFiles){let i=Array.from(this.dataFileModelFiles.keys());i&&i.length>0&&(this.dataModel.linkFileIds=i.join(","))}if(this.dataFileModelImgaes){let i=Array.from(this.dataFileModelImgaes.keys());i&&i.length>0&&(this.dataModel.linkExtraImageIds=i.join(","))}this.contentService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.publicHelper.processService.processStop(e),this.formInfo.formSubmitAllow=!i.isSuccess,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.formAlert=t}),this.cmsToastrService.typeSuccessAdd(),setTimeout(()=>this.router.navigate(["/estate/property-supplier/"]),1e3)):this.cmsToastrService.typeErrorAdd(i.errorMessage),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeErrorAdd(i),this.publicHelper.processService.processStop(e)}})}onActionContentSimilarRemoveFromLIst(e){if(!e||e.id.length<=0||!this.similarDataModel||this.similarDataModel.length===0)return;let i=new Array;this.similarDataModel.forEach(t=>{t.id!==e.id&&i.push(t)}),this.similarDataModel=i,this.similarTabledataSource.data=this.similarDataModel}onStepClick(e,i){e.previouslySelectedIndex<e.selectedIndex&&(this.formGroup.valid||(this.cmsToastrService.typeErrorFormInvalid(),setTimeout(()=>{i.selectedIndex=e.previouslySelectedIndex},10)))}onActionBackToParent(){this.router.navigate(["/estate/property-supplier/"])}onActionSelectorLocation(e){if(!e||!e.id||e.id<=0){this.translate.get("MESSAGE.Information_area_deleted").subscribe(i=>{this.cmsToastrService.typeWarningSelected(i)}),this.dataModel.linkLocationId=null;return}this.dataModel.linkLocationId=e.id}onActionSelectorLocationWorkArea(e){this.dataModel.linkLocationIds=e}addTag(e){let i=(e.value||"").trim();i&&this.keywordDataModel.push(i),e.chipInput.clear()}removeTag(e){let i=this.keywordDataModel.indexOf(e);i>=0&&this.keywordDataModel.splice(i,1)}};sd.\u0275fac=function(i){return new(i||sd)(v(J),v(F),v(Yn),v(V),v(Ze),v(B),v(L))},sd.\u0275cmp=R({type:sd,selectors:[["app-estate-property-supplier-add"]],viewQuery:function(i,t){if(i&1&&ee(RU,5),i&2){let s;te(s=ie())&&(t.formGroup=s.first)}},standalone:!1,features:[ne],decls:155,vars:178,consts:[["vform","ngForm"],["stepper",""],["Title",""],["Description",""],["PhoneNumber",""],["mobileNumber",""],["Address",""],["chipList",""],["tagInput",""],["LinkMainImageId",""],["LinkFilePodcastId",""],["LinkFileMovieId",""],["DescriptionHidden",""],["Source",""],[3,"optionsInfoAreaId"],[1,"card","card-style","loader-container"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"selectionChange"],["state","main",3,"label"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","fa fa-times invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],[4,"ngIf"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],["for","dataModel.phoneNumber",1,"color-highlight"],["matInput","","type","text","name","dataModel.phoneNumber","type","text","minlength","0","maxlength","64","id","dataModel.phoneNumber",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.mobileNumber",1,"color-highlight"],["matInput","","type","text","name","dataModel.mobileNumber","type","text","minlength","3","maxlength","64","id","dataModel.mobileNumber",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.address",1,"color-highlight"],["matInput","","name","dataModel.address","type","text","minlength","1","maxlength","500","rows","5","required","","id","dataModel.address",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"pb-5"],["id","main","name","dataModel.body",3,"ngModelChange","placeholder","config","ngModel"],["class","ntk-button-row",4,"ngIf"],["state","seo",3,"label"],[3,"optionModelChange","optionModel"],["appearance","fill",2,"width","100%"],["aria-label","'TITLE.key_word'|translate"],[3,"removed",4,"ngFor","ngForOf"],[3,"matChipInputTokenEnd","placeholder","matChipInputAddOnBlur","matChipInputFor","matChipInputSeparatorKeyCodes"],["state","file",3,"label"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align: middle","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openDirectUploadView","openFilemanagerButtonLabelKey","selectFileType","openFilemanagerButtonView"],[3,"dataFileModelChange","dataFileModel","openDirectUploadView","optionFileType"],[3,"dataFileModelChange","dataFileModel","openDirectUploadView"],["controls","",4,"ngIf"],["matInput","","type","text","name","dataModel.linkFilePodcastId","id","dataModel.linkFilePodcastId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],["matInput","","type","text","name","dataModel.linkFileMovieId","id","dataModel.linkFileMovieId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"dataModelChange","dataModel"],[3,"dataModelChange","dataModel","dataImageModel"],["state","loaction",3,"label"],["id","main-map",3,"map$","zoom$","optonCenter"],["matStepperIcon","main"],["matStepperIcon","seo"],["matStepperIcon","file"],["matStepperIcon","loaction"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.descriptionHidden",1,"color-highlight"],["matInput","","name","dataModel.descriptionHidden","type","text","minlength","0","maxlength","500","rows","5","id","dataModel.descriptionHidden",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"ntk-button-row"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],["type","button","matStepperNext","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue",3,"disabled"],["type","button","matStepperPrevious","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue"],["for","dataModel.source",1,"color-highlight"],["matInput","","type","text","name","dataModel.source","type","text","dir","ltr","minlength","3","maxlength","500","id","dataModel.source",1,"form-control","validate-name","input-ltr",2,"text-align","left",3,"ngModelChange","ngModel","placeholder","disabled"],[3,"removed"],["type","button","matChipRemove","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["controls",""],["type","audio/mp3",3,"src"],["type","video/mp4",3,"src"],["type","submit","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-green",3,"disabled",4,"ngIf"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"]],template:function(i,t){if(i&1){let s=I();C(0,"app-progress-spinner",14),r(1,"div",15)(2,"div",16)(3,"p",17),c(4),a(),r(5,"p"),c(6),_(7,"translate"),a(),r(8,"form",18,0),E("ngSubmit",function(){return u(s),f(t.onFormSubmit())}),r(10,"mat-vertical-stepper",19,1),E("selectionChange",function(p){u(s);let D=k(11);return f(t.onStepClick(p,D))}),r(12,"mat-step",20),_(13,"translate"),S(14,LU,1,5,"app-cms-enum-record-status-selector",21)(15,VU,1,5,"app-cms-enum-record-status-selector",21),r(16,"div",22)(17,"label",23),c(18),a(),r(19,"input",24,2),w("ngModelChange",function(p){return u(s),T(t.dataModel.title,p)||(t.dataModel.title=p),f(p)}),a(),S(21,OU,1,0,"i",25)(22,FU,1,0,"i",26),r(23,"em"),c(24),a(),S(25,BU,5,4,"mat-error",27),a(),r(26,"div",22)(27,"label",28),c(28),a(),r(29,"textarea",29,3),w("ngModelChange",function(p){return u(s),T(t.dataModel.description,p)||(t.dataModel.description=p),f(p)}),a(),r(31,"em"),c(32),a(),S(33,NU,5,4,"mat-error",27),a(),S(34,HU,8,7,"div",30),r(35,"app-cms-location-selector",31),_(36,"translate"),E("optionChange",function(p){return u(s),f(t.onActionSelectorLocation(p))}),a(),c(37),_(38,"translate"),r(39,"app-cms-location-autocomplete",31),_(40,"translate"),E("optionChange",function(p){return u(s),f(t.onActionSelectorLocationWorkArea(p))}),a(),r(41,"div",22)(42,"label",32),c(43),a(),r(44,"input",33,4),w("ngModelChange",function(p){return u(s),T(t.dataModel.phoneNumber,p)||(t.dataModel.phoneNumber=p),f(p)}),a(),r(46,"em"),c(47),a()(),r(48,"div",22)(49,"label",34),c(50),a(),r(51,"input",35,5),w("ngModelChange",function(p){return u(s),T(t.dataModel.mobileNumber,p)||(t.dataModel.mobileNumber=p),f(p)}),a(),r(53,"em"),c(54),a()(),r(55,"div",22)(56,"label",36),c(57),a(),r(58,"textarea",37,6),w("ngModelChange",function(p){return u(s),T(t.dataModel.address,p)||(t.dataModel.address=p),f(p)}),a(),r(60,"em"),c(61),a(),S(62,WU,1,0,"i",25)(63,GU,1,0,"i",26)(64,UU,5,3,"mat-error",27),a(),C(65,"hr",38),r(66,"label"),c(67),a(),r(68,"angular-editor",39),_(69,"translate"),w("ngModelChange",function(p){return u(s),T(t.dataModel.body,p)||(t.dataModel.body=p),f(p)}),a(),S(70,jU,7,7,"div",40),a(),r(71,"mat-step",41),_(72,"translate"),r(73,"app-estate-property-supplier-category-treeselector",42),w("optionModelChange",function(p){return u(s),T(t.dataModel.linkEstatePropertySupplierCategoryIds,p)||(t.dataModel.linkEstatePropertySupplierCategoryIds=p),f(p)}),a(),C(74,"br"),S(75,qU,7,7,"div",40),a(),r(76,"mat-step",41),_(77,"translate"),r(78,"p"),c(79),_(80,"translate"),a(),S(81,QU,9,11,"div",30),r(82,"mat-form-field",43)(83,"mat-label"),c(84),_(85,"translate"),a(),r(86,"mat-chip-grid",44,7),S(88,zU,5,1,"mat-chip",45),r(89,"input",46,8),_(91,"translate"),E("matChipInputTokenEnd",function(p){return u(s),f(t.addTag(p))}),a()()(),S(92,YU,7,7,"div",40),a(),r(93,"mat-step",47),_(94,"translate"),r(95,"p"),c(96),_(97,"translate"),a(),r(98,"div",48)(99,"a",49),_(100,"cmsthumbnail"),S(101,KU,2,4,"img",50),a()(),r(102,"div",22)(103,"label",51),E("click",function(){return u(s),f(t.fileManagerOpenForm=!0)}),c(104),_(105,"translate"),a(),r(106,"input",52,9),_(108,"translate"),w("ngModelChange",function(p){return u(s),T(t.dataModel.linkMainImageId,p)||(t.dataModel.linkMainImageId=p),f(p)}),E("click",function(){return u(s),f(t.fileManagerOpenForm=!0)}),a(),r(109,"cms-file-manager",53),E("itemSelected",function(p){return u(s),f(t.onActionFileSelectedLinkMainImageId(p))}),w("openFormChange",function(p){return u(s),T(t.fileManagerOpenForm,p)||(t.fileManagerOpenForm=p),f(p)}),a()(),C(110,"hr"),S(111,ZU,3,3,"p",27),r(112,"app-cms-files-selector",54),w("dataFileModelChange",function(p){return u(s),T(t.dataFileModelImgaes,p)||(t.dataFileModelImgaes=p),f(p)}),a(),C(113,"hr"),r(114,"div")(115,"p"),c(116),_(117,"translate"),a(),r(118,"app-cms-files-selector",55),w("dataFileModelChange",function(p){return u(s),T(t.dataFileModelFiles,p)||(t.dataFileModelFiles=p),f(p)}),a(),C(119,"br"),a(),r(120,"div",48),S(121,JU,4,4,"audio",56),a(),r(122,"div",22)(123,"input",57,10),_(125,"translate"),w("ngModelChange",function(p){return u(s),T(t.dataModel.linkFilePodcastId,p)||(t.dataModel.linkFilePodcastId=p),f(p)}),E("click",function(){return u(s),f(t.fileManagerOpenFormPodcast=!0)}),a(),r(126,"cms-file-manager",53),E("itemSelected",function(p){return u(s),f(t.onActionFileSelectedLinkFilePodcastId(p))}),w("openFormChange",function(p){return u(s),T(t.fileManagerOpenFormPodcast,p)||(t.fileManagerOpenFormPodcast=p),f(p)}),a()(),r(127,"div",48),S(128,XU,3,2,"video",56),a(),r(129,"div",22)(130,"input",58,11),_(132,"translate"),w("ngModelChange",function(p){return u(s),T(t.dataModel.linkFileMovieId,p)||(t.dataModel.linkFileMovieId=p),f(p)}),E("click",function(){return u(s),f(t.fileManagerOpenFormMovie=!0)}),a(),r(133,"cms-file-manager",53),E("itemSelected",function(p){return u(s),f(t.onActionFileSelectedLinkFileMovieId(p))}),w("openFormChange",function(p){return u(s),T(t.fileManagerOpenFormMovie,p)||(t.fileManagerOpenFormMovie=p),f(p)}),a()(),r(134,"h3"),c(135),_(136,"translate"),a(),r(137,"app-cms-360-image-list",59),w("dataModelChange",function(p){return u(s),T(t.dataModel.file360Views,p)||(t.dataModel.file360Views=p),f(p)}),a(),C(138,"br"),r(139,"h3"),c(140),_(141,"translate"),a(),r(142,"app-cms-360-tour-list",60),w("dataModelChange",function(p){return u(s),T(t.dataModel.file360Tour,p)||(t.dataModel.file360Tour=p),f(p)}),a(),S(143,$U,7,7,"div",40),a(),r(144,"mat-step",61),_(145,"translate"),r(146,"p"),c(147),_(148,"translate"),a(),r(149,"app-cms-map",62),E("map$",function(p){return u(s),f(t.receiveMap(p))})("zoom$",function(p){return u(s),f(t.receiveZoom(p))}),a(),S(150,tj,5,4,"div",40),a(),S(151,ij,2,0,"ng-template",63)(152,nj,2,0,"ng-template",64)(153,oj,2,0,"ng-template",65)(154,rj,2,0,"ng-template",66),a()()()()}if(i&2){let s=k(20),h=k(30),p=k(45),D=k(52),z=k(59),he=k(87);d("optionsInfoAreaId",t.constructorInfoAreaId),o(4),y(" ",t.formInfo.formTitle," "),o(2),y(" ",g(7,132,"TITLE.Be_Careful_When_Entering_Information")," "),o(6),d("label",x(g(13,134,"TITLE.REQUIRED_INFORMATION"))),o(2),d("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),o(),d("ngIf",t.fieldsInfo.mainAdminRecordStatus==null?null:t.fieldsInfo.mainAdminRecordStatus.accessWatchField),o(3),M(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),b("ngModel",t.dataModel.title),o(2),d("ngIf",!s.value),o(),d("ngIf",s.value),o(2),y("",s.value.length," / 100"),o(),d("ngIf",s.errors==null?null:s.errors.required),o(3),M(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle))("disabled",x(!(t.fieldsInfo.description!=null&&t.fieldsInfo.description.accessAddField))),b("ngModel",t.dataModel.description),o(3),y("",h.value.length," / 500"),o(),d("ngIf",h.errors==null?null:h.errors.required),o(),d("ngIf",t.fieldsInfo.descriptionHidden==null?null:t.fieldsInfo.descriptionHidden.accessWatchField),o(),d("optionDisabled",!(t.fieldsInfo.linkLocationId!=null&&t.fieldsInfo.linkLocationId.accessAddField))("optionSelectForce",t.dataModel.linkLocationId)("optionPlaceholder",g(36,136,"TITLE.Region")),o(2),y(" ",g(38,138,"TITLE.Geographical_Areas")," : "),o(2),d("optionDisabled",!(t.fieldsInfo.linkLocationIds!=null&&t.fieldsInfo.linkLocationIds.accessAddField))("optionSelectForce",t.dataModel.linkLocationIds)("optionPlaceholder",g(40,140,"TITLE.Region")),o(4),M(t.fieldsInfo.phoneNumber==null?null:t.fieldsInfo.phoneNumber.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.phoneNumber==null?null:t.fieldsInfo.phoneNumber.fieldTitle)),b("ngModel",t.dataModel.phoneNumber),d("disabled",!(t.fieldsInfo.phoneNumber!=null&&t.fieldsInfo.phoneNumber.accessAddField)),o(3),y("",p.value.length," / 64"),o(3),M(t.fieldsInfo.mobileNumber==null?null:t.fieldsInfo.mobileNumber.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.mobileNumber==null?null:t.fieldsInfo.mobileNumber.fieldTitle)),b("ngModel",t.dataModel.mobileNumber),d("disabled",!(t.fieldsInfo.mobileNumber!=null&&t.fieldsInfo.mobileNumber.accessAddField)),o(3),y("",D.value.length," / 64"),o(3),M(t.fieldsInfo.address==null?null:t.fieldsInfo.address.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.address==null?null:t.fieldsInfo.address.fieldTitle)),b("ngModel",t.dataModel.address),d("disabled",!(t.fieldsInfo.address!=null&&t.fieldsInfo.address.accessAddField)),o(3),y("",z.value.length," / 500"),o(),d("ngIf",!z.value),o(),d("ngIf",z.value),o(),d("ngIf",z.errors==null?null:z.errors.required),o(3),y(" ",t.fieldsInfo.body==null?null:t.fieldsInfo.body.fieldTitle," "),o(),d("placeholder",g(69,142,"TITLE.Enter_Text"))("config",t.publicHelper.editorConfig),b("ngModel",t.dataModel.body),o(2),d("ngIf",t.formInfo.formSubmitAllow),o(),d("label",x(g(72,144,"TITLE.Categories"))),o(2),b("optionModel",t.dataModel.linkEstatePropertySupplierCategoryIds),o(2),d("ngIf",t.formInfo.formSubmitAllow),o(),d("label",x(g(77,146,"TITLE.Search_Engines"))),o(3),y(" ",g(80,148,"TITLE.This_section_helps_search_engines_better_index_content")," "),o(2),d("ngIf",t.fieldsInfo.source==null?null:t.fieldsInfo.source.accessWatchField),o(3),M(g(85,150,"TITLE.Choose_keywords_relative_to_the_content")),o(4),d("ngForOf",t.keywordDataModel),o(),d("placeholder",g(91,152,"TITLE.key_word"))("matChipInputAddOnBlur",t.addOnBlurTag)("matChipInputFor",he)("matChipInputSeparatorKeyCodes",t.separatorKeysCodes),o(3),d("ngIf",t.formInfo.formSubmitAllow),o(),d("label",x(g(94,154,"TITLE.ATTACH_FILES"))),o(3),M(g(97,156,"TITLE.CONTENT_ATTACH_FILES")),o(3),d("href",x(g(100,158,t.dataModel.linkMainImageIdSrc)),j),o(2),d("ngIf",(t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0),o(3),M(g(105,160,"TITLE.Original_Photo")),o(2),d("placeholder",x(g(108,162,"TITLE.Original_File_ID"))),b("ngModel",t.dataModel.linkMainImageId),o(3),d("language",t.appLanguage)("isPopup",!0),b("openForm",t.fileManagerOpenForm),d("tree",t.fileManagerTree)("openDirectUploadView",!0)("openFilemanagerButtonLabelKey","select")("selectFileType",t.selectFileTypeMainImage)("openFilemanagerButtonView",!1),o(2),d("ngIf",t.dataFileModelImgaes&&t.dataFileModelImgaes.size>0),o(),b("dataFileModel",t.dataFileModelImgaes),d("openDirectUploadView",!0)("optionFileType",t.selectFileTypeMainImage),o(4),M(g(117,164,"TITLE.List_of_attached_files")),o(2),b("dataFileModel",t.dataFileModelFiles),d("openDirectUploadView",!0),o(3),d("ngIf",(t.dataModel==null||t.dataModel.linkFilePodcastIdSrc==null?null:t.dataModel.linkFilePodcastIdSrc.length)>0),o(2),d("placeholder",x(g(125,166,"TITLE.Audio_File_ID"))),b("ngModel",t.dataModel.linkFilePodcastId),o(3),d("language",t.appLanguage)("isPopup",!0),b("openForm",t.fileManagerOpenFormPodcast),d("tree",t.fileManagerTree)("openDirectUploadView",!0)("openFilemanagerButtonLabelKey","select")("selectFileType",t.selectFileTypePodcast)("openFilemanagerButtonView",!1),o(2),d("ngIf",(t.dataModel==null||t.dataModel.linkFileMovieIdSrc==null?null:t.dataModel.linkFileMovieIdSrc.length)>0),o(2),d("placeholder",x(g(132,168,"TITLE.Video_File_ID"))),b("ngModel",t.dataModel.linkFileMovieId),o(3),d("language",t.appLanguage)("isPopup",!0),b("openForm",t.fileManagerOpenFormMovie),d("tree",t.fileManagerTree)("openDirectUploadView",!0)("openFilemanagerButtonLabelKey","select")("selectFileType",t.selectFileTypeMovie)("openFilemanagerButtonView",!1),o(2),M(g(136,170,"TITLE.image_360")),o(2),b("dataModel",t.dataModel.file360Views),o(3),M(g(141,172,"TITLE.virtual_tour")),o(2),b("dataModel",t.dataModel.file360Tour),d("dataImageModel",t.dataModel.file360Views),o(),d("ngIf",t.formInfo.formSubmitAllow),o(),d("label",ve("",g(145,174,"TITLE.Location")," ")),o(3),y(" ",g(148,176,"TITLE.Click_on_the_map_to_specify_the_location")," "),o(2),d("optonCenter",t.mapOptonCenter),o(),d("ngIf",!t.publicHelper.processService.process.inRunAll)}},dependencies:[Ne,N,ke,Y,q,Te,de,De,Ae,ce,Pe,di,bi,Ti,wi,Mi,mi,pi,we,Ee,Q,Ji,Xi,hn,yn,Zi,Vi,si,Qt,Nn,Hn,Ci,U,mn,en,Bo,ut,ld,O,Ie],styles:["@media (max-width: 1399px){.wizard.wizard-4[_ngcontent-%COMP%]   .wizard-nav[_ngcontent-%COMP%]   .wizard-steps[_ngcontent-%COMP%]   .wizard-step[_ngcontent-%COMP%]{flex:0 0 calc(25% - .25rem)}}form[_ngcontent-%COMP%]{text-align:right}.wrapper[_ngcontent-%COMP%]{display:flex;padding-top:15px}.lbl-status[_ngcontent-%COMP%]{width:100px;display:flex;align-items:flex-end;justify-content:center;margin-top:5px}.status-select[_ngcontent-%COMP%]{width:970px}textarea[_ngcontent-%COMP%]{resize:none}.calender-select[_ngcontent-%COMP%]{width:252px}.next-modal[_ngcontent-%COMP%]{width:100px;margin-right:15px}.pb-4[_ngcontent-%COMP%], .py-4[_ngcontent-%COMP%]{padding-bottom:7px!important;padding-top:7px!important}tag-input[_ngcontent-%COMP%]{width:1000px}.leaflet-pane[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute!important}.fs-container[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;top:0;left:0}.lbl-content[_ngcontent-%COMP%]{width:100px;display:flex;align-items:flex-end;justify-content:center;margin-top:25px}@media (min-width: 1400px){.col-xxl-7[_ngcontent-%COMP%]{max-width:100%!important;flex:0 0 100%}}.heroes[_ngcontent-%COMP%]{margin:0 0 2em;list-style-type:none;padding:0;width:15em}.heroes[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{cursor:pointer;position:relative;left:0;background-color:#eee;margin:.5em;padding:.3em 0;height:1.6em;border-radius:4px}.heroes[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{color:#607d8b;background-color:#ddd;left:.1em}.heroes[_ngcontent-%COMP%]   li.selected[_ngcontent-%COMP%]{background-color:#cfd8dc;color:#fff}.heroes[_ngcontent-%COMP%]   li.selected[_ngcontent-%COMP%]:hover{background-color:#bbd8dc;color:#fff}.heroes[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{display:inline-block;font-size:small;color:#fff;padding:.8em .7em 0;background-color:#405061;line-height:1em;position:relative;left:-1px;top:-4px;height:1.8em;margin-right:.8em;border-radius:4px 0 0 4px}"]});var bp=sd;var zp=uo(Fo());var aj=["vform"];function lj(n,l){if(n&1){let e=I();r(0,"app-cms-enum-record-status-selector",63),w("modelChange",function(t){u(e);let s=m();return T(s.dataModel.recordStatus,t)||(s.dataModel.recordStatus=t),f(t)}),a()}if(n&2){let e=m();b("model",e.dataModel.recordStatus),d("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function sj(n,l){if(n&1){let e=I();r(0,"app-cms-enum-record-status-selector",63),w("modelChange",function(t){u(e);let s=m();return T(s.dataModel.mainAdminRecordStatus,t)||(s.dataModel.mainAdminRecordStatus=t),f(t)}),a()}if(n&2){let e=m();b("model",e.dataModel.mainAdminRecordStatus),d("optionDisabled",!1)("optionLabel",e.fieldsInfo.mainAdminRecordStatus==null?null:e.fieldsInfo.mainAdminRecordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function dj(n,l){n&1&&C(0,"i",66)}function cj(n,l){n&1&&C(0,"i",67)}function pj(n,l){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),_(4,"translate"),a()()),n&2){let e=m(2);o(),y(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," "),o(2),M(g(4,2,"MESSAGE.required"))}}function mj(n,l){if(n&1){let e=I();r(0,"div",24)(1,"label",64),c(2),a(),r(3,"input",65,10),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.title,t)||(s.dataModel.title=t),f(t)}),a(),S(5,dj,1,0,"i",31)(6,cj,1,0,"i",32),r(7,"em"),c(8),a(),S(9,pj,5,4,"mat-error",33),a()}if(n&2){let e=k(4),i=m();o(2),M(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(),d("placeholder",x(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle))("disabled",x(!(i.fieldsInfo.title!=null&&i.fieldsInfo.title.accessEditField))),b("ngModel",i.dataModel.title),o(2),d("ngIf",!e.value),o(),d("ngIf",e.value),o(2),y("",e.value.length," / 100"),o(),d("ngIf",e.errors==null?null:e.errors.required)}}function uj(n,l){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),_(4,"translate"),a()()),n&2){let e=m(2);o(),y(" ",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle," "),o(2),M(g(4,2,"MESSAGE.required"))}}function fj(n,l){if(n&1){let e=I();r(0,"div",24)(1,"label",68),c(2),a(),r(3,"textarea",69,11),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.description,t)||(s.dataModel.description=t),f(t)}),a(),r(5,"em"),c(6),a(),S(7,uj,5,4,"mat-error",33),a()}if(n&2){let e=k(4),i=m();o(2),M(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle),o(),d("placeholder",x(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle))("disabled",x(!(i.fieldsInfo.description!=null&&i.fieldsInfo.description.accessEditField))),b("ngModel",i.dataModel.description),o(3),y("",e.value.length," / 500"),o(),d("ngIf",e.errors==null?null:e.errors.required)}}function _j(n,l){if(n&1){let e=I();r(0,"div",24)(1,"label",70),c(2),_(3,"translate"),a(),r(4,"textarea",71,12),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.descriptionHidden,t)||(s.dataModel.descriptionHidden=t),f(t)}),a(),r(6,"em"),c(7),a()()}if(n&2){let e=k(5),i=m();o(2),M(g(3,7,"TITLE.Description_Hidden")),o(2),d("placeholder",x(i.fieldsInfo.descriptionHidden==null?null:i.fieldsInfo.descriptionHidden.fieldTitle))("disabled",x(!(i.fieldsInfo.descriptionHidden!=null&&i.fieldsInfo.descriptionHidden.accessEditField))),b("ngModel",i.dataModel.descriptionHidden),o(3),y("",e.value.length," / 500")}}function gj(n,l){n&1&&C(0,"i",66)}function hj(n,l){n&1&&C(0,"i",67)}function yj(n,l){n&1&&(r(0,"mat-error"),c(1," Address is "),r(2,"strong"),c(3),_(4,"translate"),a()()),n&2&&(o(3),M(g(4,1,"MESSAGE.required")))}function Cj(n,l){if(n&1&&(r(0,"button",76),c(1),_(2,"translate"),a()),n&2){m(2);let e=k(9);d("disabled",!e.form.valid),o(),y(" ",g(2,2,"ACTION.SAVE")," ")}}function Sj(n,l){if(n&1){let e=I();r(0,"div",72)(1,"button",73),E("click",function(){u(e);let t=m();return f(t.onActionBackToParent())}),c(2),_(3,"translate"),a(),r(4,"button",74),c(5),_(6,"translate"),a(),S(7,Cj,3,4,"button",75),a()}if(n&2){let e=m(),i=k(9);o(2),y(" ",g(3,4,"ACTION.BACK")," "),o(2),d("disabled",!i.form.valid),o(),y(" ",g(6,6,"ACTION.NEXT")," "),o(2),d("ngIf",e.formInfo.formSubmitAllow)}}function vj(n,l){if(n&1&&(r(0,"div",72)(1,"button",77),c(2),_(3,"translate"),a(),r(4,"button",74),c(5),_(6,"translate"),a()()),n&2){m();let e=k(9);o(2),y(" ",g(3,3,"ACTION.BEFOR")," "),o(2),d("disabled",!e.form.valid),o(),y(" ",g(6,5,"ACTION.NEXT")," ")}}function Ej(n,l){if(n&1){let e=I();r(0,"div",24)(1,"label",78),c(2),a(),r(3,"input",79,13),_(5,"translate"),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.source,t)||(s.dataModel.source=t),f(t)}),a(),r(6,"em"),c(7),a()()}if(n&2){let e=k(4),i=m();o(2),M(i.fieldsInfo.source==null?null:i.fieldsInfo.source.fieldTitle),o(),d("placeholder",x(g(5,7,"TITLE.Content_reference_website_link")))("disabled",x(!(i.fieldsInfo.source!=null&&i.fieldsInfo.source.accessEditField))),b("ngModel",i.dataModel.source),o(4),y("",e.value.length," / 500")}}function Ij(n,l){if(n&1){let e=I();r(0,"mat-chip",80),E("removed",function(){let t=u(e).$implicit,s=m();return f(s.removeTag(t))}),c(1),r(2,"button",81)(3,"mat-icon"),c(4,"cancel"),a()()()}if(n&2){let e=l.$implicit;o(),y(" ",e," ")}}function Mj(n,l){if(n&1&&(r(0,"div",72)(1,"button",77),c(2),_(3,"translate"),a(),r(4,"button",74),c(5),_(6,"translate"),a()()),n&2){m();let e=k(9);o(2),y(" ",g(3,3,"ACTION.BEFOR")," "),o(2),d("disabled",!e.form.valid),o(),y(" ",g(6,5,"ACTION.NEXT")," ")}}function bj(n,l){if(n&1&&(C(0,"img",82),_(1,"cmsthumbnail")),n&2){let e=m();d("src",x(g(1,2,e.dataModel.linkMainImageIdSrc)),j)}}function Tj(n,l){n&1&&(r(0,"p"),c(1),_(2,"translate"),a()),n&2&&(o(),y(" ",g(2,1,"TITLE.List_of_attached_photos")," "))}function wj(n,l){if(n&1&&(r(0,"audio",83),C(1,"source",84),_(2,"cmsthumbnail"),c(3," Your browser does not support the audio tag. "),a()),n&2){let e=m();o(),d("src",x(g(2,2,e.dataModel.linkFilePodcastIdSrc)),j)}}function xj(n,l){if(n&1&&(r(0,"video",83),C(1,"source",85),c(2," Your browser does not support the video tag. "),a()),n&2){let e=m();o(),d("src",x(e.dataModel.linkFileMovieIdSrc),j)}}function Aj(n,l){if(n&1&&(r(0,"div",72)(1,"button",77),c(2),_(3,"translate"),a(),r(4,"button",74),c(5),_(6,"translate"),a()()),n&2){m();let e=k(9);o(2),y(" ",g(3,3,"ACTION.BEFOR")," "),o(2),d("disabled",!e.form.valid),o(),y(" ",g(6,5,"ACTION.NEXT")," ")}}function Pj(n,l){if(n&1&&(r(0,"button",76),c(1),_(2,"translate"),a()),n&2){m(2);let e=k(9);d("disabled",!e.form.valid),o(),y(" ",g(2,2,"ACTION.SAVE")," ")}}function kj(n,l){if(n&1){let e=I();r(0,"div",72)(1,"button",73),E("click",function(){u(e);let t=m();return f(t.onActionBackToParent())}),c(2),_(3,"translate"),a(),r(4,"button",77),c(5),_(6,"translate"),a(),S(7,Pj,3,4,"button",75),a()}if(n&2){let e=m();o(2),y(" ",g(3,3,"ACTION.BACK")," "),o(3),y(" ",g(6,5,"ACTION.BEFOR")," "),o(2),d("ngIf",e.formInfo.formSubmitAllow)}}function Dj(n,l){n&1&&(r(0,"mat-icon"),c(1,"call_end"),a())}function Rj(n,l){n&1&&(r(0,"mat-icon"),c(1,"call_end"),a())}function Lj(n,l){n&1&&(r(0,"mat-icon"),c(1,"forum"),a())}function Vj(n,l){n&1&&(r(0,"mat-icon"),c(1,"forum"),a())}var dd=class dd extends Bt{constructor(e,i,t,s,h,p,D){super(t,new vo,i,D);this.activatedRoute=e;this.publicHelper=i;this.contentService=t;this.cmsToastrService=s;this.router=h;this.cdr=p;this.translate=D;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.dataModel=new vo;this.dataModelResult=new Ft;this.dataContentCategoryModel=[];this.dataFileModelImgaes=new Map;this.dataFileModelFiles=new Map;this.similarDataModel=new Array;this.contentSimilarSelected=new vo;this.otherInfoTabledisplayedColumns=["Id","Title","TypeId","Action"];this.similarTabledisplayedColumns=["LinkMainImageIdSrc","Id","RecordStatus","Title","Action"];this.similarTabledataSource=new li;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.selectFileTypePodcast=["mp3"];this.selectFileTypeMovie=["mp4","webm"];this.formInfo=new me;this.fileManagerOpenForm=!1;this.fileManagerOpenFormPodcast=!1;this.fileManagerOpenFormMovie=!1;this.keywordDataModel=[];this.appLanguage="fa";this.viewMap=!1;this.mapMarkerPoints=[];this.mapOptonCenter=new Li;this.addOnBlurTag=!0;this.separatorKeysCodes=[13];this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),this.requestId=this.activatedRoute.snapshot.paramMap.get("id")}ngOnInit(){if(this.requestId?.length===0){this.cmsToastrService.typeErrorAddRowParentIsNull();return}this.DataGetOne()}onActionFileSelectedLinkMainImageId(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}onActionFileSelectedLinkFilePodcastId(e){this.dataModel.linkFilePodcastId=e.id,this.dataModel.linkFilePodcastIdSrc=e.downloadLinksrc}onActionFileSelectedLinkFileMovieId(e){this.dataModel.linkFileMovieId=e.id,this.dataModel.linkFileMovieIdSrc=e.downloadLinksrc}onFormSubmit(){if(this.requestId?.length<=0){this.cmsToastrService.typeErrorAddRowParentIsNull();return}if(!this.formGroup.valid){this.cmsToastrService.typeErrorFormInvalid();return}if(this.dataModel.keyword="",this.keywordDataModel&&this.keywordDataModel.length>0){let e=[];this.keywordDataModel.forEach(i=>{i.display?e.push(i.display):e.push(i)}),e&&e.length>0&&(this.dataModel.keyword=e.join(","))}this.DataEditContent()}DataGetOne(){this.formInfo.formSubmitAllow=!1,this.translate.get("MESSAGE.get_information_from_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.contentService.setAccessLoad(),this.contentService.setAccessDataType(Be.Editor),this.contentService.ServiceGetOneById(this.requestId).subscribe({next:i=>{if(this.dataAccessModel=i.access,this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.publicHelper.processService.processStop(e),this.dataModelResult=i,this.formInfo.formSubmitAllow=!0,i.isSuccess){this.dataModel=i.item;let t=this.dataModel.geolocationlatitude,s=this.dataModel.geolocationlongitude;t>0&&s>0&&(this.mapMarkerPoints=[],this.mapMarkerPoints.push({lat:t,lon:s}),this.receiveMap()),this.dataModel.keyword=this.dataModel.keyword+"",this.keywordDataModel=this.dataModel.keyword.split(","),this.dataModel.linkFileIds&&this.dataModel.linkFileIds.length>0&&this.dataModel.linkFileIds.split(",").forEach((h,p)=>{let D="";this.dataModel.linkFileIdsSrc.length>=this.dataModel.linkFileIdsSrc.length&&(D=this.dataModel.linkFileIdsSrc[p]),this.dataFileModelFiles.set(+h,D)}),this.dataModel.linkExtraImageIdsSrc&&this.dataModel.linkExtraImageIdsSrc.length>0&&this.dataModel.linkExtraImageIds.split(",").forEach((h,p)=>{let D="";this.dataModel.linkExtraImageIdsSrc.length>=this.dataModel.linkExtraImageIdsSrc.length&&(D=this.dataModel.linkExtraImageIdsSrc[p]),this.dataFileModelImgaes.set(+h,D)})}else this.cmsToastrService.typeErrorGetOne(i.errorMessage);this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeErrorGetOne(i),this.publicHelper.processService.processStop(e,!1)}})}DataSimilarGetAll(e){if(!e||e.length===0)return;this.formInfo.formSubmitAllow=!1,this.translate.get("MESSAGE.get_other_information_from_the_server").subscribe(s=>{this.formInfo.formAlert=s}),this.formInfo.formError="";let i=this.constructor.name+"main";this.translate.get("MESSAGE.get_other_information_from_the_server").subscribe(s=>{this.publicHelper.processService.processStart(i,s,this.constructorInfoAreaId)});let t=new lc;e.forEach(s=>{if(s>0){let h=new H;h.propertyName="Id",h.value=s,h.clauseType=Ve.Or,t.filters.push(h)}}),this.contentService.ServiceGetAll(t).subscribe({next:s=>{this.formInfo.formSubmitAllow=!0,s.isSuccess?(this.similarDataModel=s.listItems,this.similarTabledataSource.data=s.listItems):this.cmsToastrService.typeErrorGetAll(s.errorMessage),this.publicHelper.processService.processStop(i)},error:s=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeErrorGetAll(s),this.publicHelper.processService.processStop(i)}})}DataEditContent(){if(this.formInfo.formSubmitAllow=!1,this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="",this.dataFileModelFiles){let i=Array.from(this.dataFileModelFiles.keys());i&&i.length>0&&(this.dataModel.linkFileIds=i.join(","))}if(this.dataFileModelImgaes){let i=Array.from(this.dataFileModelImgaes.keys());i&&i.length>0&&(this.dataModel.linkExtraImageIds=i.join(","))}let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.contentService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.publicHelper.processService.processStop(e),this.formInfo.formSubmitAllow=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.formAlert=t}),this.cmsToastrService.typeSuccessEdit(),setTimeout(()=>this.router.navigate(["/estate/property-supplier"]),1e3)):this.cmsToastrService.typeErrorEdit(i.errorMessage),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeErrorEdit(i),this.publicHelper.processService.processStop(e)}})}onActionTagChange(e){this.tagIdsData=e}onActionContentSimilarSelect(e){!e||e.id.length<=0||(this.contentSimilarSelected=e)}onActionContentSimilarAddToLIst(){if(!(!this.contentSimilarSelected||this.contentSimilarSelected.id.length<=0)){if(this.similarDataModel.find(e=>e.id===this.contentSimilarSelected.id)){this.cmsToastrService.typeErrorAddDuplicate();return}this.similarDataModel.push(this.contentSimilarSelected),this.similarTabledataSource.data=this.similarDataModel}}onActionContentSimilarRemoveFromLIst(e){if(!e||e.id.length<=0||!this.similarDataModel||this.similarDataModel.length===0)return;let i=new Array;this.similarDataModel.forEach(t=>{t.id!==e.id&&i.push(t)}),this.similarDataModel=i,this.similarTabledataSource.data=this.similarDataModel}onStepClick(e,i){e.previouslySelectedIndex<e.selectedIndex&&(this.formGroup.valid||(this.cmsToastrService.typeErrorFormInvalid(),setTimeout(()=>{i.selectedIndex=e.previouslySelectedIndex},10)))}onActionBackToParent(){this.router.navigate(["/estate/property-supplier/"])}receiveMap(e=this.mapModel){e&&(this.mapModel=e,this.mapMarkerPoints&&this.mapMarkerPoints.length>0&&(this.mapMarkerPoints.forEach(i=>{this.mapMarker=zp.marker([i.lat,i.lon]).addTo(this.mapModel)}),this.mapOptonCenter=this.mapMarkerPoints[0],this.mapMarkerPoints=[]),this.mapModel.on("click",i=>{let t=i.latlng.lat,s=i.latlng.lng;if(this.mapMarker!==void 0&&this.mapModel.removeLayer(this.mapMarker),t===this.dataModel.geolocationlatitude&&s===this.dataModel.geolocationlongitude){this.dataModel.geolocationlatitude=null,this.dataModel.geolocationlongitude=null;return}this.mapMarker=zp.marker([t,s]).addTo(this.mapModel),this.dataModel.geolocationlatitude=t,this.dataModel.geolocationlongitude=s}))}receiveZoom(e){}onActionSelectorLocation(e){if(!e||!e.id||e.id<=0){this.translate.get("MESSAGE.Information_area_deleted").subscribe(i=>{this.cmsToastrService.typeWarningSelected(i)}),this.dataModel.linkLocationId=null;return}this.dataModel.linkLocationId=e.id}onActionSelectorLocationWorkArea(e){this.dataModel.linkLocationIds=e}addTag(e){let i=(e.value||"").trim();i&&this.keywordDataModel.push(i),e.chipInput.clear()}removeTag(e){let i=this.keywordDataModel.indexOf(e);i>=0&&this.keywordDataModel.splice(i,1)}};dd.\u0275fac=function(i){return new(i||dd)(v(jt),v(F),v(Yn),v(V),v(Ze),v(B),v(L))},dd.\u0275cmp=R({type:dd,selectors:[["app-estate-property-supplier-edit"]],viewQuery:function(i,t){if(i&1&&ee(aj,5),i&2){let s;te(s=ie())&&(t.formGroup=s.first)}},standalone:!1,features:[ne],decls:137,vars:164,consts:[["vform","ngForm"],["stepper",""],["PhoneNumber",""],["mobileNumber",""],["Address",""],["chipList",""],["tagInput",""],["LinkMainImageId",""],["LinkFilePodcastId",""],["LinkFileMovieId",""],["Title",""],["Description",""],["DescriptionHidden",""],["Source",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"selectionChange"],["state","main",3,"label"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.phoneNumber",1,"color-highlight"],["matInput","","type","text","name","dataModel.phoneNumber","type","text","minlength","0","maxlength","64","id","dataModel.phoneNumber",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.mobileNumber",1,"color-highlight"],["matInput","","type","text","name","dataModel.mobileNumber","type","text","minlength","3","maxlength","64","id","dataModel.mobileNumber",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.address",1,"color-highlight"],["matInput","","name","dataModel.address","type","text","minlength","1","maxlength","500","rows","5","required","","id","dataModel.address",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["class","fa fa-times invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],[4,"ngIf"],[1,"pb-5"],["id","main","name","dataModel.body",3,"ngModelChange","placeholder","config","ngModel"],["class","ntk-button-row",4,"ngIf"],["state","seo",3,"label"],[3,"optionModelChange","optionModel"],["appearance","fill",2,"width","100%"],["aria-label","'TITLE.key_word'|translate"],[3,"removed",4,"ngFor","ngForOf"],[3,"matChipInputTokenEnd","placeholder","matChipInputAddOnBlur","matChipInputFor","matChipInputSeparatorKeyCodes"],["state","file",3,"label"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align: middle","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openDirectUploadView","openFilemanagerButtonLabelKey","selectFileType","openFilemanagerButtonView"],[3,"dataFileModelChange","dataFileModel","openDirectUploadView","optionFileType"],[3,"dataFileModelChange","dataFileModel","openDirectUploadView"],["controls","",4,"ngIf"],["matInput","","type","text","name","dataModel.linkFilePodcastId","id","dataModel.linkFilePodcastId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],["matInput","","type","text","name","dataModel.linkFileMovieId","id","dataModel.linkFileMovieId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"dataModelChange","dataModel"],[3,"dataModelChange","dataModel","dataImageModel"],["state","loaction",3,"label"],["id","main-map",3,"map$","zoom$","optonCenter"],["matStepperIcon","main"],["matStepperIcon","seo"],["matStepperIcon","file"],["matStepperIcon","loaction"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.descriptionHidden",1,"color-highlight"],["matInput","","name","dataModel.descriptionHidden","type","text","minlength","0","maxlength","500","rows","5","id","dataModel.descriptionHidden",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"ntk-button-row"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],["type","button","matStepperNext","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue",3,"disabled"],["type","submit","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-green",3,"disabled",4,"ngIf"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],["type","button","matStepperPrevious","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue"],["for","dataModel.source",1,"color-highlight"],["matInput","","type","text","name","dataModel.source","type","text","dir","ltr","minlength","3","maxlength","500","id","dataModel.source",1,"form-control","validate-name","input-ltr",2,"text-align","left",3,"ngModelChange","ngModel","placeholder","disabled"],[3,"removed"],["type","button","matChipRemove","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["controls",""],["type","audio/mp3",3,"src"],["type","video/mp4",3,"src"]],template:function(i,t){if(i&1){let s=I();r(0,"div",14),C(1,"app-progress-spinner",15),r(2,"div",16)(3,"p",17),c(4),a(),r(5,"p"),c(6),_(7,"translate"),a(),r(8,"form",18,0),E("ngSubmit",function(){return u(s),f(t.onFormSubmit())}),r(10,"mat-vertical-stepper",19,1),E("selectionChange",function(p){u(s);let D=k(11);return f(t.onStepClick(p,D))}),r(12,"mat-step",20),_(13,"translate"),S(14,lj,1,5,"app-cms-enum-record-status-selector",21)(15,sj,1,5,"app-cms-enum-record-status-selector",21)(16,mj,10,10,"div",22)(17,fj,8,8,"div",22)(18,_j,8,9,"div",22),r(19,"app-cms-location-selector",23),_(20,"translate"),E("optionChange",function(p){return u(s),f(t.onActionSelectorLocation(p))}),a(),c(21),_(22,"translate"),r(23,"app-cms-location-autocomplete",23),_(24,"translate"),E("optionChange",function(p){return u(s),f(t.onActionSelectorLocationWorkArea(p))}),a(),r(25,"div",24)(26,"label",25),c(27),a(),r(28,"input",26,2),w("ngModelChange",function(p){return u(s),T(t.dataModel.phoneNumber,p)||(t.dataModel.phoneNumber=p),f(p)}),a(),r(30,"em"),c(31),a()(),r(32,"div",24)(33,"label",27),c(34),a(),r(35,"input",28,3),w("ngModelChange",function(p){return u(s),T(t.dataModel.mobileNumber,p)||(t.dataModel.mobileNumber=p),f(p)}),a(),r(37,"em"),c(38),a()(),r(39,"div",24)(40,"label",29),c(41),a(),r(42,"textarea",30,4),w("ngModelChange",function(p){return u(s),T(t.dataModel.address,p)||(t.dataModel.address=p),f(p)}),a(),r(44,"em"),c(45),a(),S(46,gj,1,0,"i",31)(47,hj,1,0,"i",32)(48,yj,5,3,"mat-error",33),a(),C(49,"hr",34),r(50,"label"),c(51),a(),r(52,"angular-editor",35),_(53,"translate"),w("ngModelChange",function(p){return u(s),T(t.dataModel.body,p)||(t.dataModel.body=p),f(p)}),a(),S(54,Sj,8,8,"div",36),a(),r(55,"mat-step",37),_(56,"translate"),r(57,"app-estate-property-supplier-category-treeselector",38),w("optionModelChange",function(p){return u(s),T(t.dataModel.linkEstatePropertySupplierCategoryIds,p)||(t.dataModel.linkEstatePropertySupplierCategoryIds=p),f(p)}),a(),C(58,"br"),S(59,vj,7,7,"div",36),a(),r(60,"mat-step",37),_(61,"translate"),r(62,"p"),c(63),_(64,"translate"),a(),S(65,Ej,8,9,"div",22),r(66,"mat-form-field",39)(67,"mat-label"),c(68),_(69,"translate"),a(),r(70,"mat-chip-grid",40,5),S(72,Ij,5,1,"mat-chip",41),r(73,"input",42,6),_(75,"translate"),E("matChipInputTokenEnd",function(p){return u(s),f(t.addTag(p))}),a()()(),S(76,Mj,7,7,"div",36),a(),r(77,"mat-step",43),_(78,"translate"),r(79,"p"),c(80),_(81,"translate"),a(),r(82,"div",44)(83,"a",45),_(84,"cmsthumbnail"),S(85,bj,2,4,"img",46),a()(),r(86,"div",24)(87,"label",47),E("click",function(){return u(s),f(t.fileManagerOpenForm=!0)}),c(88),_(89,"translate"),a(),r(90,"input",48,7),_(92,"translate"),w("ngModelChange",function(p){return u(s),T(t.dataModel.linkMainImageId,p)||(t.dataModel.linkMainImageId=p),f(p)}),E("click",function(){return u(s),f(t.fileManagerOpenForm=!0)}),a(),r(93,"cms-file-manager",49),E("itemSelected",function(p){return u(s),f(t.onActionFileSelectedLinkMainImageId(p))}),w("openFormChange",function(p){return u(s),T(t.fileManagerOpenForm,p)||(t.fileManagerOpenForm=p),f(p)}),a()(),S(94,Tj,3,3,"p",33),r(95,"app-cms-files-selector",50),w("dataFileModelChange",function(p){return u(s),T(t.dataFileModelImgaes,p)||(t.dataFileModelImgaes=p),f(p)}),a(),C(96,"br"),r(97,"div")(98,"p"),c(99),_(100,"translate"),a(),r(101,"app-cms-files-selector",51),w("dataFileModelChange",function(p){return u(s),T(t.dataFileModelFiles,p)||(t.dataFileModelFiles=p),f(p)}),a()(),r(102,"div",44),S(103,wj,4,4,"audio",52),a(),r(104,"div",24)(105,"input",53,8),_(107,"translate"),w("ngModelChange",function(p){return u(s),T(t.dataModel.linkFilePodcastId,p)||(t.dataModel.linkFilePodcastId=p),f(p)}),E("click",function(){return u(s),f(t.fileManagerOpenFormPodcast=!0)}),a(),r(108,"cms-file-manager",49),E("itemSelected",function(p){return u(s),f(t.onActionFileSelectedLinkFilePodcastId(p))}),w("openFormChange",function(p){return u(s),T(t.fileManagerOpenFormPodcast,p)||(t.fileManagerOpenFormPodcast=p),f(p)}),a()(),r(109,"div",44),S(110,xj,3,2,"video",52),a(),r(111,"div",24)(112,"input",54,9),_(114,"translate"),w("ngModelChange",function(p){return u(s),T(t.dataModel.linkFileMovieId,p)||(t.dataModel.linkFileMovieId=p),f(p)}),E("click",function(){return u(s),f(t.fileManagerOpenFormMovie=!0)}),a(),r(115,"cms-file-manager",49),E("itemSelected",function(p){return u(s),f(t.onActionFileSelectedLinkFileMovieId(p))}),w("openFormChange",function(p){return u(s),T(t.fileManagerOpenFormMovie,p)||(t.fileManagerOpenFormMovie=p),f(p)}),a()(),r(116,"h3"),c(117),_(118,"translate"),a(),r(119,"app-cms-360-image-list",55),w("dataModelChange",function(p){return u(s),T(t.dataModel.file360Views,p)||(t.dataModel.file360Views=p),f(p)}),a(),C(120,"br"),r(121,"h3"),c(122),_(123,"translate"),a(),r(124,"app-cms-360-tour-list",56),w("dataModelChange",function(p){return u(s),T(t.dataModel.file360Tour,p)||(t.dataModel.file360Tour=p),f(p)}),a(),S(125,Aj,7,7,"div",36),a(),r(126,"mat-step",57),_(127,"translate"),r(128,"p"),c(129),_(130,"translate"),a(),r(131,"app-cms-map",58),E("map$",function(p){return u(s),f(t.receiveMap(p))})("zoom$",function(p){return u(s),f(t.receiveZoom(p))}),a(),S(132,kj,8,7,"div",36),a(),S(133,Dj,2,0,"ng-template",59)(134,Rj,2,0,"ng-template",60)(135,Lj,2,0,"ng-template",61)(136,Vj,2,0,"ng-template",62),a()()()()}if(i&2){let s=k(29),h=k(36),p=k(43),D=k(71);o(),d("optionsInfoAreaId",t.constructorInfoAreaId),o(3),y(" ",t.formInfo.formTitle," "),o(2),y(" ",g(7,118,"TITLE.Be_Careful_When_Entering_Information")," "),o(6),d("label",x(g(13,120,"TITLE.REQUIRED_INFORMATION"))),o(2),d("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),o(),d("ngIf",t.fieldsInfo.mainAdminRecordStatus==null?null:t.fieldsInfo.mainAdminRecordStatus.accessWatchField),o(),d("ngIf",t.fieldsInfo.title==null?null:t.fieldsInfo.title.accessWatchField),o(),d("ngIf",t.fieldsInfo.description==null?null:t.fieldsInfo.description.accessWatchField),o(),d("ngIf",t.fieldsInfo.descriptionHidden==null?null:t.fieldsInfo.descriptionHidden.accessWatchField),o(),d("optionDisabled",!(t.fieldsInfo.linkLocationId!=null&&t.fieldsInfo.linkLocationId.accessEditField))("optionSelectForce",t.dataModel.linkLocationId)("optionPlaceholder",g(20,122,"TITLE.Region")),o(2),y(" ",g(22,124,"TITLE.Geographical_Areas")," : "),o(2),d("optionDisabled",!(t.fieldsInfo.linkLocationIds!=null&&t.fieldsInfo.linkLocationIds.accessEditField))("optionSelectForce",t.dataModel.linkLocationIds)("optionPlaceholder",g(24,126,"TITLE.Region")),o(4),M(t.fieldsInfo.phoneNumber==null?null:t.fieldsInfo.phoneNumber.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.phoneNumber==null?null:t.fieldsInfo.phoneNumber.fieldTitle)),b("ngModel",t.dataModel.phoneNumber),d("disabled",!(t.fieldsInfo.phoneNumber!=null&&t.fieldsInfo.phoneNumber.accessEditField)),o(3),y("",s.value.length," / 64"),o(3),M(t.fieldsInfo.mobileNumber==null?null:t.fieldsInfo.mobileNumber.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.mobileNumber==null?null:t.fieldsInfo.mobileNumber.fieldTitle)),b("ngModel",t.dataModel.mobileNumber),d("disabled",!(t.fieldsInfo.mobileNumber!=null&&t.fieldsInfo.mobileNumber.accessEditField)),o(3),y("",h.value.length," / 64"),o(3),M(t.fieldsInfo.address==null?null:t.fieldsInfo.address.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.address==null?null:t.fieldsInfo.address.fieldTitle)),b("ngModel",t.dataModel.address),d("disabled",!(t.fieldsInfo.address!=null&&t.fieldsInfo.address.accessEditField)),o(3),y("",p.value.length," / 500"),o(),d("ngIf",!p.value),o(),d("ngIf",p.value),o(),d("ngIf",p.errors==null?null:p.errors.required),o(3),y(" ",t.fieldsInfo.body==null?null:t.fieldsInfo.body.fieldTitle," "),o(),d("placeholder",g(53,128,"TITLE.Enter_Text"))("config",t.publicHelper.editorConfig),b("ngModel",t.dataModel.body),o(2),d("ngIf",!t.publicHelper.processService.process.inRunAll),o(),d("label",x(g(56,130,"TITLE.Categories"))),o(2),b("optionModel",t.dataModel.linkEstatePropertySupplierCategoryIds),o(2),d("ngIf",t.formInfo.formSubmitAllow),o(),d("label",x(g(61,132,"TITLE.Search_Engines"))),o(3),y(" ",g(64,134,"TITLE.This_section_helps_search_engines_better_index_content")," "),o(2),d("ngIf",t.fieldsInfo.source==null?null:t.fieldsInfo.source.accessWatchField),o(3),M(g(69,136,"TITLE.Choose_keywords_relative_to_the_content")),o(4),d("ngForOf",t.keywordDataModel),o(),d("placeholder",g(75,138,"TITLE.key_word"))("matChipInputAddOnBlur",t.addOnBlurTag)("matChipInputFor",D)("matChipInputSeparatorKeyCodes",t.separatorKeysCodes),o(3),d("ngIf",t.formInfo.formSubmitAllow),o(),d("label",x(g(78,140,"TITLE.ATTACH_FILES"))),o(3),M(g(81,142,"TITLE.CONTENT_ATTACH_FILES")),o(3),d("href",x(g(84,144,t.dataModel.linkMainImageIdSrc)),j),o(2),d("ngIf",(t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0),o(3),M(g(89,146,"TITLE.Original_Photo")),o(2),d("placeholder",x(g(92,148,"TITLE.Original_File_ID"))),b("ngModel",t.dataModel.linkMainImageId),o(3),d("language",t.appLanguage)("isPopup",!0),b("openForm",t.fileManagerOpenForm),d("tree",t.fileManagerTree)("openDirectUploadView",!0)("openFilemanagerButtonLabelKey","select")("selectFileType",t.selectFileTypeMainImage)("openFilemanagerButtonView",!1),o(),d("ngIf",t.dataFileModelImgaes&&t.dataFileModelImgaes.size>0),o(),b("dataFileModel",t.dataFileModelImgaes),d("openDirectUploadView",!0)("optionFileType",t.selectFileTypeMainImage),o(4),M(g(100,150,"TITLE.List_of_attached_files")),o(2),b("dataFileModel",t.dataFileModelFiles),d("openDirectUploadView",!0),o(2),d("ngIf",(t.dataModel==null||t.dataModel.linkFilePodcastIdSrc==null?null:t.dataModel.linkFilePodcastIdSrc.length)>0),o(2),d("placeholder",x(g(107,152,"TITLE.Audio_File_ID"))),b("ngModel",t.dataModel.linkFilePodcastId),o(3),d("language",t.appLanguage)("isPopup",!0),b("openForm",t.fileManagerOpenFormPodcast),d("tree",t.fileManagerTree)("openDirectUploadView",!0)("openFilemanagerButtonLabelKey","select")("selectFileType",t.selectFileTypePodcast)("openFilemanagerButtonView",!1),o(2),d("ngIf",(t.dataModel==null||t.dataModel.linkFileMovieIdSrc==null?null:t.dataModel.linkFileMovieIdSrc.length)>0),o(2),d("placeholder",x(g(114,154,"TITLE.Video_File_ID"))),b("ngModel",t.dataModel.linkFileMovieId),o(3),d("language",t.appLanguage)("isPopup",!0),b("openForm",t.fileManagerOpenFormMovie),d("tree",t.fileManagerTree)("openDirectUploadView",!0)("openFilemanagerButtonLabelKey","select")("selectFileType",t.selectFileTypeMovie)("openFilemanagerButtonView",!1),o(2),M(g(118,156,"TITLE.image_360")),o(2),b("dataModel",t.dataModel.file360Views),o(3),M(g(123,158,"TITLE.virtual_tour")),o(2),b("dataModel",t.dataModel.file360Tour),d("dataImageModel",t.dataModel.file360Views),o(),d("ngIf",t.formInfo.formSubmitAllow),o(),d("label",ve("",g(127,160,"TITLE.Location")," ")),o(3),y(" ",g(130,162,"TITLE.Click_on_the_map_to_specify_the_location")," "),o(2),d("optonCenter",t.mapOptonCenter),o(),d("ngIf",!t.publicHelper.processService.process.inRunAll)}},dependencies:[Ne,N,ke,Y,q,Te,de,De,Ae,ce,Pe,di,bi,Ti,wi,Mi,mi,pi,we,Ee,Q,Ji,Xi,hn,yn,Zi,Vi,si,Qt,Nn,Hn,Ci,U,mn,en,Bo,ut,ld,O,Ie],styles:["@media (max-width: 1399px){.wizard.wizard-4[_ngcontent-%COMP%]   .wizard-nav[_ngcontent-%COMP%]   .wizard-steps[_ngcontent-%COMP%]   .wizard-step[_ngcontent-%COMP%]{flex:0 0 calc(25% - .25rem)}}form[_ngcontent-%COMP%]{text-align:right}.wizard[_ngcontent-%COMP%]{margin-top:20%}.wrapper[_ngcontent-%COMP%]{display:flex;padding-top:15px}.lbl-status[_ngcontent-%COMP%]{width:100px;display:flex;align-items:flex-end;justify-content:center;margin-top:5px}.status-select[_ngcontent-%COMP%]{width:970px}textarea[_ngcontent-%COMP%]{resize:none}.calender-select[_ngcontent-%COMP%]{width:252px}.next-modal[_ngcontent-%COMP%]{width:100px;margin-right:15px}.pb-4[_ngcontent-%COMP%], .py-4[_ngcontent-%COMP%]{padding-bottom:7px!important;padding-top:7px!important}tag-input[_ngcontent-%COMP%]{width:1000px}#map[_ngcontent-%COMP%]{width:100%;height:600px}.lbl-content[_ngcontent-%COMP%]{width:100px;display:flex;align-items:flex-end;justify-content:center;margin-top:25px}"]});var Tp=dd;var Oj=["vform"];function Fj(n,l){if(n&1){let e=I();A(0),r(1,"div",8)(2,"label",9),c(3),a(),r(4,"input",10,0),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModelResultContent.item.title,t)||(s.dataModelResultContent.item.title=t),f(t)}),a()(),r(6,"div",8)(7,"label",11),c(8),a(),r(9,"textarea",12,1),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModelResultContent.item.description,t)||(s.dataModelResultContent.item.description=t),f(t)}),a()(),P()}if(n&2){let e=m();o(3),M(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),o(),d("placeholder",x(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle)),b("ngModel",e.dataModelResultContent.item.title),o(4),M(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),o(),d("placeholder",x(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle)),b("ngModel",e.dataModelResultContent.item.description)}}function Bj(n,l){if(n&1){let e=I();r(0,"div",13)(1,"button",14),E("click",function(){u(e);let t=m();return f(t.onFormDelete())}),C(2,"i",15),c(3),_(4,"translate"),a(),r(5,"button",16),E("click",function(){u(e);let t=m();return f(t.onFormCancel())}),C(6,"i",17),c(7),_(8,"translate"),a()()}if(n&2){let e=m();o(),d("disabled",!e.formInfo.buttonSubmittedEnabled),o(2),y(" ",g(4,3,"ACTION.DELETE")," "),o(4),y(" ",g(8,5,"ACTION.CANCEL")," ")}}var cd=class cd{constructor(l,e,i,t,s,h,p){this.data=l;this.dialogRef=e;this.publicHelper=i;this.contentService=t;this.cdr=s;this.cmsToastrService=h;this.translate=p;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.dataModelResultContent=new G;this.formInfo=new me;this.publicHelper.processService.cdr=this.cdr,l&&(this.requestId=l.id)}ngOnInit(){if(this.requestId.length<=0){this.cmsToastrService.typeErrorDeleteRowIsNull(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOne()}DataGetOne(){if(this.requestId.length===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.translate.get("TITLE.Loading_Information").subscribe(e=>{this.formInfo.formAlert=e});let l=this.constructor.name+"fieldInfoConvertor";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(l,e,this.constructorInfoAreaId)}),this.contentService.setAccessLoad(),this.contentService.setAccessDataType(Be.Editor),this.contentService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModelResultContent=e,e.isSuccess?this.formInfo.formAlert="":(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError=e.errorMessage,this.formInfo.formErrorStatus=!0,this.cmsToastrService.typeErrorGetOne()),this.publicHelper.processService.processStop(l)},error:e=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formErrorStatus=!0,this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(l,!1)}})}onFormDelete(){if(this.requestId.length===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.formInfo.formSubmitAllow=!1,this.formInfo.buttonSubmittedEnabled=!1;let l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(l,e,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.requestId).subscribe({next:e=>{this.formInfo.formSubmitAllow=!e.isSuccess,e.isSuccess?(this.translate.get("MESSAGE.Deletion_Was_Successful").subscribe(i=>{this.formInfo.formAlert=i}),this.cmsToastrService.typeSuccessRemove(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError=e.errorMessage,this.cmsToastrService.typeErrorRemove()),this.formInfo.buttonSubmittedEnabled=!0,this.publicHelper.processService.processStop(l)},error:e=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(e),this.formInfo.buttonSubmittedEnabled=!0,this.publicHelper.processService.processStop(l)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};cd.\u0275fac=function(e){return new(e||cd)(v(be),v(Me),v(F),v(Yn),v(B),v(V),v(L))},cd.\u0275cmp=R({type:cd,selectors:[["app-estate-property-supplier-delete"]],viewQuery:function(e,i){if(e&1&&ee(Oj,5),e&2){let t;te(t=ie())&&(i.formGroup=t.first)}},standalone:!1,decls:10,vars:7,consts:[["Writer",""],["Content",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[4,"ngIf"],["class","form-actions",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModelResultContent.item.title",1,"color-highlight"],["matInput","","name","dataModelResultContent.item.title","type","text","required","","readonly","","id","dataModelResultContent.item.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModelResultContent.item.description",1,"color-highlight"],["matInput","","name","dataModelResultContent.item.description","type","text","minlength","1","maxlength","100","readonly","","required","","rows","5","id","dataModelResultContent.item.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click","disabled"],[1,"fa","fa-check-square-o"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,i){e&1&&(r(0,"div",2),C(1,"app-progress-spinner",3),r(2,"div",4)(3,"p",5),c(4),a(),r(5,"p"),c(6),_(7,"translate"),a(),S(8,Fj,11,8,"ng-container",6)(9,Bj,9,7,"div",7),a()()),e&2&&(o(),d("optionsInfoAreaId",i.constructorInfoAreaId),o(3),y(" ",i.formInfo.formTitle," "),o(2),y(" ",g(7,5,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),d("ngIf",i.dataModelResultContent==null?null:i.dataModelResultContent.item),o(),d("ngIf",i.formInfo.formSubmitAllow))},dependencies:[N,Y,q,de,De,Ae,ce,Q,U,O],encapsulation:2});var wp=cd;var Nj=["vform"],Hj=()=>["fa"];function Wj(n,l){if(n&1&&(C(0,"img",28),_(1,"cmsthumbnail")),n&2){let e=m();d("src",x(g(1,2,e.dataModel.linkMainImageIdSrc)),j)}}function Gj(n,l){n&1&&C(0,"i",29)}function Uj(n,l){n&1&&C(0,"i",30)}function jj(n,l){n&1&&(r(0,"mat-error"),c(1," Title is "),r(2,"strong"),c(3),_(4,"translate"),a()()),n&2&&(o(3),M(g(4,1,"MESSAGE.required")))}function qj(n,l){if(n&1){let e=I();r(0,"div",15)(1,"label",31),c(2),a(),r(3,"input",32,4),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.iconFont,t)||(s.dataModel.iconFont=t),f(t)}),E("iconPickerSelect",function(t){u(e);let s=m();return f(s.onIconPickerSelect(t))}),a(),r(5,"span",33),C(6,"i",34),a()()}if(n&2){let e=m();o(2),M(e.fieldsInfo.iconFont==null?null:e.fieldsInfo.iconFont.fieldTitle),o(),d("placeholder",x(e.fieldsInfo.iconFont==null?null:e.fieldsInfo.iconFont.fieldTitle)),b("ngModel",e.dataModel.iconFont),d("iconPicker",e.dataModel.iconFont)("ipIconPack",le(9,Hj))("ipPosition","top")("disabled",!(e.fieldsInfo.iconFont!=null&&e.fieldsInfo.iconFont.accessAddField)),o(3),d("ngClass",e.dataModel.iconFont)}}function Qj(n,l){if(n&1){let e=I();r(0,"div",15)(1,"label",35),c(2),a(),r(3,"div",36)(4,"div",37)(5,"input",38,5),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.iconColor,t)||(s.dataModel.iconColor=t),f(t)}),a()(),r(7,"div",39),C(8,"ngx-mat-color-toggle",40)(9,"ngx-mat-color-picker",41,6),a()()()}if(n&2){let e=k(10),i=m();o(2),M(i.fieldsInfo.iconColor==null?null:i.fieldsInfo.iconColor.fieldTitle),o(3),ye("background",i.dataModel.iconColor),d("placeholder",x(i.fieldsInfo.iconColor==null?null:i.fieldsInfo.iconColor.fieldTitle)),b("ngModel",i.dataModel.iconColor),d("ngxMatColorPicker",e)("disabled",!(i.fieldsInfo.iconColor!=null&&i.fieldsInfo.iconColor.accessAddField)),o(3),d("for",e),o(),d("touchUi",!0)("color","primary")}}function zj(n,l){n&1&&C(0,"i",29)}function Yj(n,l){n&1&&C(0,"i",30)}function Kj(n,l){n&1&&(r(0,"mat-error"),c(1," Description is "),r(2,"strong"),c(3),_(4,"translate"),a()()),n&2&&(o(3),M(g(4,1,"MESSAGE.required")))}function Zj(n,l){if(n&1){let e=I();r(0,"div",42)(1,"button",43),E("click",function(){u(e);let t=m();return f(t.onFormCancel())}),C(2,"i",44),c(3),_(4,"translate"),a(),r(5,"button",45),C(6,"i",46),c(7),_(8,"translate"),a()()}if(n&2){m();let e=k(9);o(3),y(" ",g(4,3,"ACTION.CANCEL")," "),o(2),d("disabled",!e.form.valid),o(2),y(" ",g(8,5,"ACTION.SAVE")," ")}}var pd=class pd extends Dt{constructor(e,i,t,s,h,p,D,z){super(s,new Pr,p,z);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.estatePropertySupplierCategoryService=s;this.cmsToastrService=h;this.publicHelper=p;this.cdr=D;this.translate=z;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new G;this.dataModel=new Pr;this.formInfo=new me;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess()}onActionFileSelected(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}DataAddContent(){this.dataModel.iconColor=this.dataModel.iconColor?.toString(),this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estatePropertySupplierCategoryService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.formAlert=t}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e),this.formInfo.formSubmitAllow=!0},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onIconPickerSelect(e){this.dataModel.iconFont=e}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};pd.\u0275fac=function(i){return new(i||pd)(v(be),v(Me),v(J),v(ir),v(V),v(F),v(B),v(L))},pd.\u0275cmp=R({type:pd,selectors:[["app-estate-property-supplier-category-add"]],viewQuery:function(i,t){if(i&1&&ee(Nj,5),i&2){let s;te(s=ie())&&(t.formGroup=s.first)}},standalone:!1,features:[ne],decls:47,vars:49,consts:[["vform","ngForm"],["LinkMainImageId",""],["Title",""],["Description",""],["IconFont",""],["iconColor",""],["iconColorPicker",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["class","fa fa-times  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],[4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","required","","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","form-actions",4,"ngIf"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.iconFont",1,"color-highlight"],["matInput","","type","text","name","dataModel.iconFont","type","text","id","dataModel.iconFont",1,"form-control","validate-name",3,"ngModelChange","iconPickerSelect","ngModel","iconPicker","ipIconPack","ipPosition","placeholder","disabled"],[1,"input-group-addon"],[3,"ngClass"],["for","dataModel.iconColor",1,"color-highlight"],[1,"row","mb-0"],[1,"col-11","pe-0"],["matInput","","type","text","name","dataModel.iconColor","type","text","id","dataModel.iconColor",1,"form-control","validate-name",3,"ngModelChange","ngModel","ngxMatColorPicker","placeholder","disabled"],[1,"col-1","ps-0"],["matSuffix","",3,"for"],[3,"touchUi","color"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=I();r(0,"div",7),C(1,"app-progress-spinner",8),r(2,"div",9)(3,"p",10),c(4),a(),r(5,"p"),c(6),_(7,"translate"),a(),r(8,"form",11,0),E("ngSubmit",function(){return u(s),f(t.onFormSubmit())}),r(10,"div",12)(11,"a",13),_(12,"cmsthumbnail"),S(13,Wj,2,4,"img",14),a()(),r(14,"div",15)(15,"label",16),E("click",function(){return u(s),f(t.fileManagerOpenForm=!0)}),c(16),_(17,"translate"),a(),r(18,"input",17,1),_(20,"translate"),w("ngModelChange",function(p){return u(s),T(t.dataModel.linkMainImageId,p)||(t.dataModel.linkMainImageId=p),f(p)}),E("click",function(){return u(s),f(t.fileManagerOpenForm=!0)}),a(),r(21,"cms-file-manager",18),E("itemSelected",function(p){return u(s),f(t.onActionFileSelected(p))}),w("openFormChange",function(p){return u(s),T(t.fileManagerOpenForm,p)||(t.fileManagerOpenForm=p),f(p)}),a()(),r(22,"div",15)(23,"label",19),c(24),a(),r(25,"input",20,2),w("ngModelChange",function(p){return u(s),T(t.dataModel.title,p)||(t.dataModel.title=p),f(p)}),a(),S(27,Gj,1,0,"i",21)(28,Uj,1,0,"i",22),r(29,"em"),c(30),a(),S(31,jj,5,3,"mat-error",23),a(),S(32,qj,7,10,"div",24)(33,Qj,11,11,"div",24),r(34,"div",15)(35,"label",25),c(36),_(37,"translate"),a(),r(38,"textarea",26,3),w("ngModelChange",function(p){return u(s),T(t.dataModel.description,p)||(t.dataModel.description=p),f(p)}),c(40,"        "),a(),r(41,"em"),c(42),a(),S(43,zj,1,0,"i",21)(44,Yj,1,0,"i",22)(45,Kj,5,3,"mat-error",23),a(),S(46,Zj,9,7,"div",27),a()()()}if(i&2){let s=k(26),h=k(39);o(),d("optionsInfoAreaId",t.constructorInfoAreaId),o(3),y(" ",t.formInfo.formTitle," "),o(2),y(" ",g(7,39,"TITLE.Be_Careful_When_Entering_Information")," "),o(5),d("href",x(g(12,41,t.dataModel.linkMainImageIdSrc)),j),o(2),d("ngIf",(t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0),o(3),M(g(17,43,"TITLE.PICTURE")),o(2),d("placeholder",x(g(20,45,"TITLE.Original_File_ID"))),b("ngModel",t.dataModel.linkMainImageId),o(3),d("language",t.appLanguage)("isPopup",!0),b("openForm",t.fileManagerOpenForm),d("tree",t.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",t.selectFileTypeMainImage)("openFilemanagerButtonView",!1),o(3),M(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle))("disabled",x(!(t.fieldsInfo.title!=null&&t.fieldsInfo.title.accessAddField))),b("ngModel",t.dataModel.title),o(2),d("ngIf",!s.value),o(),d("ngIf",s.value),o(2),y("",s.value.length," / 100"),o(),d("ngIf",s.errors==null?null:s.errors.required),o(),d("ngIf",t.fieldsInfo.iconFont==null?null:t.fieldsInfo.iconFont.accessWatchField),o(),d("ngIf",t.fieldsInfo.iconColor==null?null:t.fieldsInfo.iconColor.accessWatchField),o(3),M(g(37,47,"TITLE.General_Description")),o(2),d("placeholder",x(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),b("ngModel",t.dataModel.description),o(4),y("",h.value.length," / 500"),o(),d("ngIf",!h.value),o(),d("ngIf",h.value),o(),d("ngIf",h.errors==null?null:h.errors.required),o(),d("ngIf",t.formInfo.formSubmitAllow)}},dependencies:[se,N,ke,Y,q,Te,de,De,Ae,ce,Pe,we,et,Q,U,ni,$t,Xt,Jt,ut,O,Ie],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});var xp=pd;var Jj=["vform"],Xj=()=>["fa"];function $j(n,l){if(n&1&&(C(0,"img",28),_(1,"cmsthumbnail")),n&2){let e=m();d("src",x(g(1,2,e.dataModel.linkMainImageIdSrc)),j)}}function eq(n,l){n&1&&C(0,"i",29)}function tq(n,l){n&1&&C(0,"i",30)}function iq(n,l){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),_(4,"translate"),a()()),n&2){let e=m();o(),y(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," is "),o(2),M(g(4,2,"MESSAGE.required"))}}function nq(n,l){if(n&1){let e=I();r(0,"div",15)(1,"label",31),c(2),a(),r(3,"input",32,4),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.iconFont,t)||(s.dataModel.iconFont=t),f(t)}),E("iconPickerSelect",function(t){u(e);let s=m();return f(s.onIconPickerSelect(t))}),a(),r(5,"span",33),C(6,"i",34),a()()}if(n&2){let e=m();o(2),M(e.fieldsInfo.iconFont==null?null:e.fieldsInfo.iconFont.fieldTitle),o(),d("placeholder",x(e.fieldsInfo.iconFont==null?null:e.fieldsInfo.iconFont.fieldTitle)),b("ngModel",e.dataModel.iconFont),d("iconPicker",e.dataModel.iconFont)("ipIconPack",le(9,Xj))("ipPosition","top")("disabled",!(e.fieldsInfo.iconFont!=null&&e.fieldsInfo.iconFont.accessEditField)),o(3),d("ngClass",e.dataModel.iconFont)}}function oq(n,l){if(n&1){let e=I();r(0,"div",15)(1,"label",35),c(2),a(),r(3,"div",36)(4,"div",37)(5,"input",38,5),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.iconColor,t)||(s.dataModel.iconColor=t),f(t)}),a()(),r(7,"div",39),C(8,"ngx-mat-color-toggle",40)(9,"ngx-mat-color-picker",41,6),a()()()}if(n&2){let e=k(10),i=m();o(2),M(i.fieldsInfo.iconColor==null?null:i.fieldsInfo.iconColor.fieldTitle),o(3),ye("background",i.dataModel.iconColor),d("placeholder",x(i.fieldsInfo.iconColor==null?null:i.fieldsInfo.iconColor.fieldTitle)),b("ngModel",i.dataModel.iconColor),d("ngxMatColorPicker",e)("disabled",!(i.fieldsInfo.iconColor!=null&&i.fieldsInfo.iconColor.accessEditField)),o(3),d("for",e),o(),d("touchUi",!0)("color","primary")}}function rq(n,l){n&1&&(r(0,"mat-error"),c(1," Description is "),r(2,"strong"),c(3),_(4,"translate"),a()()),n&2&&(o(3),M(g(4,1,"MESSAGE.required")))}function aq(n,l){if(n&1){let e=I();r(0,"div",42)(1,"button",43),E("click",function(){u(e);let t=m();return f(t.onFormCancel())}),C(2,"i",44),c(3),_(4,"translate"),a(),r(5,"button",45),C(6,"i",46),c(7),_(8,"translate"),a()()}if(n&2){m();let e=k(9);o(3),y(" ",g(4,3,"ACTION.CANCEL")," "),o(2),d("disabled",!e.form.valid),o(2),y(" ",g(8,5,"ACTION.SAVE")," ")}}var md=class md extends Bt{constructor(e,i,t,s,h,p,D,z,he){super(s,new Pr,D,he);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.estatePropertySupplierCategoryService=s;this.estatePropertyTypeService=h;this.cmsToastrService=p;this.publicHelper=D;this.cdr=z;this.translate=he;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new Ft;this.dataModel=new Pr;this.formInfo=new me;this.fileManagerOpenForm=!1;this.dataEstatePropertyTypeUsageIds=[];this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.DataGetAllEstatePropertyUsage()}onActionFileSelected(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estatePropertySupplierCategoryService.setAccessLoad(),this.estatePropertySupplierCategoryService.setAccessDataType(Be.Editor),this.estatePropertySupplierCategoryService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataGetAllEstatePropertyUsage(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(s=>{this.formInfo.formAlert=s}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(s=>{this.publicHelper.processService.processStart(e,s,this.constructorInfoAreaId)});let i=new pe,t=new H;t.propertyName="LinkPropertySupplierCategoryId",t.value=this.requestId,i.filters.push(t),this.estatePropertyTypeService.ServiceGetAll(i).subscribe({next:s=>{this.dataEstatePropertyTypeModel=s.listItems;let h=[];this.dataEstatePropertyTypeModel.forEach(p=>{h.push(p.linkPropertyTypeUsageId)}),this.dataEstatePropertyTypeUsageIds=h,s.isSuccess?this.formInfo.formAlert="":(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(p=>{this.formInfo.formAlert=p}),this.formInfo.formError=s.errorMessage,this.cmsToastrService.typeErrorMessage(s.errorMessage)),this.publicHelper.processService.processStop(e)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.dataModel.iconColor=this.dataModel.iconColor?.toString(),this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estatePropertySupplierCategoryService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.formAlert=t}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e),this.formInfo.formSubmitAllow=!0},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorUserCategorySelect(e){this.dataEstatePropertyTypeUsageModel=e}onIconPickerSelect(e){this.dataModel.iconFont=e}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};md.\u0275fac=function(i){return new(i||md)(v(be),v(Me),v(J),v(ir),v(dn),v(V),v(F),v(B),v(L))},md.\u0275cmp=R({type:md,selectors:[["app-estate-property-supplier-category-edit"]],viewQuery:function(i,t){if(i&1&&ee(Jj,5),i&2){let s;te(s=ie())&&(t.formGroup=s.first)}},standalone:!1,features:[ne],decls:45,vars:45,consts:[["vform","ngForm"],["LinkMainImageId",""],["Title",""],["Description",""],["IconFont",""],["iconColor",""],["iconColorPicker",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openDirectUploadView","openForm","tree","openFilemanagerButtonLabelKey","selectFileType","openFilemanagerButtonView"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","fa fa-times  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],[4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","form-actions",4,"ngIf"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.iconFont",1,"color-highlight"],["matInput","","type","text","name","dataModel.iconFont","type","text","id","dataModel.iconFont",1,"form-control","validate-name",3,"ngModelChange","iconPickerSelect","ngModel","iconPicker","ipIconPack","ipPosition","placeholder","disabled"],[1,"input-group-addon"],[3,"ngClass"],["for","dataModel.iconColor",1,"color-highlight"],[1,"row","mb-0"],[1,"col-11","pe-0"],["matInput","","type","text","name","dataModel.iconColor","type","text","id","dataModel.iconColor",1,"form-control","validate-name",3,"ngModelChange","ngModel","ngxMatColorPicker","placeholder","disabled"],[1,"col-1","ps-0"],["matSuffix","",3,"for"],[3,"touchUi","color"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=I();r(0,"div",7),C(1,"app-progress-spinner",8),r(2,"div",9)(3,"p",10),c(4),a(),r(5,"p"),c(6),_(7,"translate"),a(),r(8,"form",11,0),E("ngSubmit",function(){return u(s),f(t.onFormSubmit())}),r(10,"div",12)(11,"a",13),_(12,"cmsthumbnail"),S(13,$j,2,4,"img",14),a()(),r(14,"div",15)(15,"label",16),E("click",function(){return u(s),f(t.fileManagerOpenForm=!0)}),c(16),_(17,"translate"),a(),r(18,"input",17,1),_(20,"translate"),w("ngModelChange",function(p){return u(s),T(t.dataModel.linkMainImageId,p)||(t.dataModel.linkMainImageId=p),f(p)}),E("click",function(){return u(s),f(t.fileManagerOpenForm=!0)}),a(),r(21,"cms-file-manager",18),E("itemSelected",function(p){return u(s),f(t.onActionFileSelected(p))}),w("openFormChange",function(p){return u(s),T(t.fileManagerOpenForm,p)||(t.fileManagerOpenForm=p),f(p)}),a()(),r(22,"div",15)(23,"label",19),c(24),a(),r(25,"input",20,2),w("ngModelChange",function(p){return u(s),T(t.dataModel.title,p)||(t.dataModel.title=p),f(p)}),a(),S(27,eq,1,0,"i",21)(28,tq,1,0,"i",22),r(29,"em"),c(30),a(),S(31,iq,5,4,"mat-error",23),a(),S(32,nq,7,10,"div",24)(33,oq,11,11,"div",24),r(34,"div",15)(35,"label",25),c(36),_(37,"translate"),a(),r(38,"textarea",26,3),w("ngModelChange",function(p){return u(s),T(t.dataModel.description,p)||(t.dataModel.description=p),f(p)}),c(40,"        "),a(),r(41,"em"),c(42),a(),S(43,rq,5,3,"mat-error",23),a(),S(44,aq,9,7,"div",27),a()()()}if(i&2){let s=k(26),h=k(39);o(),d("optionsInfoAreaId",t.constructorInfoAreaId),o(3),y(" ",t.formInfo.formTitle," "),o(2),y(" ",g(7,35,"TITLE.Be_Careful_When_Entering_Information")," "),o(5),d("href",x(g(12,37,t.dataModel.linkMainImageIdSrc)),j),o(2),d("ngIf",(t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0),o(3),M(g(17,39,"TITLE.PICTURE")),o(2),d("placeholder",x(g(20,41,"TITLE.Original_File_ID"))),b("ngModel",t.dataModel.linkMainImageId),o(3),d("language",t.appLanguage)("isPopup",!0)("openDirectUploadView",!0),b("openForm",t.fileManagerOpenForm),d("tree",t.fileManagerTree)("openFilemanagerButtonLabelKey","select")("selectFileType",t.selectFileTypeMainImage)("openFilemanagerButtonView",!1),o(3),M(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),b("ngModel",t.dataModel.title),o(2),d("ngIf",!s.value),o(),d("ngIf",s.value),o(2),y("",s.value.length," / 100"),o(),d("ngIf",s.errors==null?null:s.errors.required),o(),d("ngIf",t.fieldsInfo.iconFont==null?null:t.fieldsInfo.iconFont.accessWatchField),o(),d("ngIf",t.fieldsInfo.iconColor==null?null:t.fieldsInfo.iconColor.accessWatchField),o(3),M(g(37,43,"TITLE.General_Description")),o(2),d("placeholder",x(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),b("ngModel",t.dataModel.description),o(4),y("",h.value.length," / 500"),o(),d("ngIf",h.errors==null?null:h.errors.required),o(),d("ngIf",t.formInfo.formSubmitAllow)}},dependencies:[se,N,ke,Y,q,Te,de,De,Ae,ce,Pe,we,et,Q,U,ni,$t,Xt,Jt,ut,O,Ie],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});var Ap=md;function lq(n,l){if(n&1){let e=I();r(0,"button",13),E("click",function(){u(e);let t=m();return f(t.onActionAdd())}),c(1),_(2,"translate"),a()}n&2&&(o(),M(g(2,1,"ACTION.ADD")))}function sq(n,l){if(n&1){let e=I();r(0,"button",14),E("click",function(){u(e);let t=m();return f(t.onActionEdit())}),c(1),_(2,"translate"),a()}n&2&&(o(),M(g(2,1,"ACTION.EDIT")))}function dq(n,l){if(n&1){let e=I();r(0,"button",15),E("click",function(){u(e);let t=m();return f(t.onActionDelete())}),c(1),_(2,"translate"),a()}n&2&&(o(),M(g(2,1,"ACTION.DELETE")))}function cq(n,l){if(n&1){let e=I();r(0,"button",16),E("click",function(){u(e);let t=m();return f(t.onActionButtonReload())}),r(1,"mat-icon",17),_(2,"translate"),c(3,"refresh"),a()()}n&2&&(o(),d("title",x(g(2,2,"ACTION.RELOAD"))))}function pq(n,l){if(n&1){let e=I();r(0,"mat-tree-node",18),E("click",function(){let t=u(e).$implicit,s=m();return f(s.onActionSelect(t))}),C(1,"button",19)(2,"i",20),c(3),a()}if(n&2){let e=l.$implicit,i=l.dataIndex,t=m();Se("ntk-tree-odd",i%2)("ntk-tree-even",!(i%2))("ntk-tree-selected",(t.dataModelSelect.id==null?null:t.dataModelSelect.id.length)>0&&(t.dataModelSelect==null?null:t.dataModelSelect.id)===e.id),o(2),ye("color",e.iconColor),d("ngClass",e.iconFont),o(),y(" \xA0\xA0\xA0\xA0 ",e.title," ")}}function mq(n,l){if(n&1){let e=I();r(0,"mat-nested-tree-node")(1,"li")(2,"div",21),E("click",function(){let t=u(e).$implicit,s=m();return f(s.onActionSelect(t))}),r(3,"button",22),E("click",function(){let t=u(e).$implicit,s=m();return f(s.onActionSelect(t))}),r(4,"mat-icon",23),c(5),a()(),C(6,"i",20),c(7),a(),r(8,"ul"),Qe(9,24),a()()()}if(n&2){let e=l.$implicit,i=m();o(2),Se("ntk-tree-selected",(i.dataModelSelect==null||i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0&&(i.dataModelSelect==null?null:i.dataModelSelect.id)===e.id),o(),yt("aria-label","Toggle "+e.title),o(2),y(" ",i.treeControl.isExpanded(e)?"expand_more":"chevron_right"," "),o(),ye("color",e.iconColor),d("ngClass",e.iconFont),o(),y(" \xA0\xA0\xA0\xA0 ",e.title," "),o(),Se("category-tree-invisible",!i.treeControl.isExpanded(e))}}var ud=class ud{constructor(l,e,i,t,s,h,p,D,z,he){this.cmsToastrService=l;this.coreEnumService=e;this.categoryService=i;this.cmsConfirmationDialogService=t;this.dialog=s;this.cdr=h;this.publicHelper=p;this.translate=D;this.tokenHelper=z;this.cmsStoreService=he;this.constructorInfoAreaId=this.constructor.name;this.dataModelSelect=new Pr;this.dataModelResult=new G;this.filterModel=new pe;this.treeControl=new xo(l=>null);this.dataSource=new Oo;this.optionChange=new Xe;this.optionReload=()=>this.onActionButtonReload();this.hasChild=(l,e)=>!1;this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(l){this.onActionSelectForce(l)}ngOnInit(){setTimeout(()=>{this.DataGetAll()},500),this.cmsApiStoreSubscribe=this.cmsStoreService.getState(l=>l.tokenInfoStore).subscribe(l=>re(this,null,function*(){this.DataGetAll()}))}ngOnDestroy(){this.cmsApiStoreSubscribe&&this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.filterModel.rowPerPage=200,this.filterModel.accessLoad=!0;let l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(l,e,this.constructorInfoAreaId)}),this.categoryService.ServiceGetAll(this.filterModel).subscribe({next:e=>{e.isSuccess?(this.dataModelResult=e,this.dataSource.data=this.dataModelResult.listItems):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(l)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(l,!1)}})}onActionSelect(l){this.dataModelSelect=l,this.optionChange.emit(this.dataModelSelect)}onActionButtonReload(){this.onActionSelect(null),this.dataModelSelect=new Pr,this.DataGetAll()}onActionSelectForce(l){}onActionAdd(){var l="";this.publicHelper.isMobile?l="dialog-fullscreen":l="dialog-min",this.dialog.open(xp,{height:"90%",panelClass:l,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(i=>{i&&i.dialogChangedDate&&this.DataGetAll()})}onActionEdit(){let l="";if(this.dataModelSelect&&this.dataModelSelect.id&&this.dataModelSelect.id.length>0&&(l=this.dataModelSelect.id),l===""){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorCategoryNotSelected").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(Ap,{height:"90%",panelClass:e,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:l}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionDelete(){let l="";if(this.dataModelSelect&&this.dataModelSelect.id&&this.dataModelSelect.id.length>0&&(l=this.dataModelSelect.id),l===""){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorCategoryNotSelected").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}var e="",i="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(t=>{e=t["MESSAGE.Please_Confirm"],i=t["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.dataModelSelect.title+" ) ",this.cmsConfirmationDialogService.confirm(e,i).then(s=>{if(s){let h=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(p=>{this.publicHelper.processService.processStart(h,p,this.constructorInfoAreaId)}),this.categoryService.ServiceDelete(this.dataModelSelect.id).subscribe({next:p=>{p.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(h)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(h,!1)}})}}).catch(()=>{})})}};ud.\u0275fac=function(e){return new(e||ud)(v(V),v(J),v(ir),v(Mt),v(xe),v(B),v(F),v(L),v(K),v(Z))},ud.\u0275cmp=R({type:ud,selectors:[["app-estate-property-supplier-category-tree"]],inputs:{optionSelectForce:"optionSelectForce",optionReload:"optionReload"},outputs:{optionChange:"optionChange"},standalone:!1,decls:15,vars:14,consts:[[3,"optionHeaderDisplay","optionActionMainDisplay","optionFooterDisplay"],["cms-tree-header",""],["cms-tree-action",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-teal",3,"click",4,"ngIf"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-magenta",3,"click",4,"ngIf"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-red",3,"click",4,"ngIf"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-highlight",3,"click",4,"ngIf"],["cms-tree-body","",1,"loader-container"],[3,"optionsInfoAreaId"],[1,"category-tree","cursor-pointer",3,"dataSource","treeControl"],["matTreeNodePadding","",3,"ntk-tree-odd","ntk-tree-even","ntk-tree-selected","click",4,"matTreeNodeDef"],[4,"matTreeNodeDef","matTreeNodeDefWhen"],["cms-tree-footer",""],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"title"],["matTreeNodePadding","",3,"click"],["type","button","mat-icon-button","","type","button","disabled",""],["aria-hidden","true",3,"ngClass"],[1,"mat-tree-node",3,"click"],["type","button","mat-icon-button","","type","button","matTreeNodeToggle","",3,"click"],[1,"mat-icon-rtl-mirror"],["matTreeNodeOutlet",""]],template:function(e,i){e&1&&(r(0,"app-cms-html-tree",0),A(1,1),c(2),_(3,"translate"),P(),A(4,2),S(5,lq,3,3,"button",3)(6,sq,3,3,"button",4)(7,dq,3,3,"button",5)(8,cq,4,4,"button",6),P(),A(9,7),C(10,"app-progress-spinner",8),r(11,"mat-tree",9),S(12,pq,4,10,"mat-tree-node",10)(13,mq,10,10,"mat-nested-tree-node",11),a(),P(),Qe(14,12),a()),e&2&&(d("optionHeaderDisplay",!0)("optionActionMainDisplay",!0)("optionFooterDisplay",!1),o(2),y(" ",g(3,12,"TABLE."+(i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.moduleEntityName))," "),o(3),d("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessAddRow),o(),d("ngIf",(i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessEditRow)&&(i.dataModelSelect==null?null:i.dataModelSelect.id)>0),o(),d("ngIf",(i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessDeleteRow)&&i.dataModelSelect.id&&(i.dataModelSelect==null||i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0),o(),d("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessWatchRow),o(2),d("optionsInfoAreaId",i.constructorInfoAreaId),o(),d("dataSource",i.dataSource)("treeControl",i.treeControl),o(2),d("matTreeNodeDefWhen",i.hasChild))},dependencies:[se,N,Je,Ee,ko,Po,Do,Vo,Lo,Ao,Ro,U,Ho,O],encapsulation:2});var Pp=ud;var fq=()=>["expandedTitle"],_q=()=>["expandedDetail"],gq=()=>[5,10,20,100],J0=n=>({display:n});function hq(n,l){if(n&1&&C(0,"app-estate-property-project-header",53),n&2){let e=m();d("optionId",e.requestLinkProjectId)}}function yq(n,l){if(n&1){let e=I();r(0,"a",54)(1,"mat-slide-toggle",55),E("click",function(){u(e);let t=m();return f(t.onActionButtonWithHierarchy())}),a(),c(2),_(3,"translate"),a()}n&2&&(o(2),y("",g(3,1,"ACTION.BATCHVIEW")," "))}function Cq(n,l){if(n&1){let e=I();r(0,"div",23)(1,"a",56),E("click",function(t){u(e);let s=m();return f(s.onActionButtonNewRow(t))}),C(2,"i",57)(3,"br"),a(),r(4,"p",25),c(5),_(6,"translate"),a()()}n&2&&(o(5),M(g(6,1,"ACTION.ADD")))}function Sq(n,l){if(n&1){let e=I();r(0,"div",23)(1,"a",58),E("click",function(t){u(e);let s=m();return f(s.onActionButtonEditRow(s.tableRowSelected,t))}),C(2,"i",59)(3,"br"),a(),r(4,"p",25),c(5),_(6,"translate"),a()()}n&2&&(o(5),M(g(6,1,"ACTION.EDIT")))}function vq(n,l){if(n&1){let e=I();r(0,"div",23)(1,"a",60),E("click",function(){u(e);let t=m();return f(t.onActionButtonDeleteRow(t.tableRowSelected))}),C(2,"i",61)(3,"br"),a(),r(4,"p",25),c(5),_(6,"translate"),a()()}n&2&&(o(5),M(g(6,1,"ACTION.DELETE")))}function Eq(n,l){n&1&&(r(0,"mat-header-cell"),c(1),_(2,"translate"),a()),n&2&&(o(),y(" ",g(2,1,"TITLE.MENU")," "))}function Iq(n,l){if(n&1){let e=I();r(0,"mat-cell")(1,"button",62),E("click",function(){let t=u(e).$implicit,s=m();return f(s.onActionTableRowSelectActionMenu(t))}),C(2,"i",63),a()()}}function Mq(n,l){n&1&&(r(0,"mat-header-cell",64),c(1),_(2,"translate"),a()),n&2&&(o(),y(" ",g(2,1,"TITLE.PICTURE")," "))}function bq(n,l){if(n&1&&(C(0,"img",66),_(1,"cmsthumbnail")),n&2){let e=m().$implicit;d("src",x(g(1,2,e.linkMainImageIdSrc)),j)}}function Tq(n,l){if(n&1&&(r(0,"mat-cell"),S(1,bq,2,4,"img",65),a()),n&2){let e=l.$implicit;o(),d("ngIf",(e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0)}}function wq(n,l){if(n&1&&(r(0,"mat-header-cell",64),c(1),a()),n&2){let e=m();o(),y(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function xq(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),y(" ",e.id," ")}}function Aq(n,l){if(n&1&&(r(0,"mat-header-cell",64),c(1),a()),n&2){let e=m();o(),y(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function Pq(n,l){if(n&1&&(r(0,"mat-cell"),c(1),_(2,"cmssiteinfo"),_(3,"async"),a()),n&2){let e=l.$implicit;o(),y(" ",g(3,3,g(2,1,e.linkSiteId))," ")}}function kq(n,l){if(n&1&&(r(0,"mat-header-cell",64),c(1),a()),n&2){let e=m();o(),y(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function Dq(n,l){if(n&1&&C(0,"select",69),n&2){let e=m().$implicit,i=m();d("contentService",i.contentService)("row",e)("ngStyle",ze(3,J0,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function Rq(n,l){if(n&1&&(r(0,"mat-cell"),C(1,"i",67),_(2,"statusIconClass"),S(3,Dq,1,5,"select",68),a()),n&2){let e=l.$implicit,i=m();o(),d("ngClass",g(2,2,e.recordStatus)),o(2),d("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessEditRow)}}function Lq(n,l){if(n&1&&(r(0,"mat-header-cell",64),c(1),a()),n&2){let e=m();o(),y(" ",e.fieldsInfo.mainAdminRecordStatus==null?null:e.fieldsInfo.mainAdminRecordStatus.fieldTitle," ")}}function Vq(n,l){if(n&1&&(r(0,"mat-cell"),C(1,"i",67),_(2,"statusIconClass"),a()),n&2){let e=l.$implicit;o(),d("ngClass",g(2,1,e.mainAdminRecordStatus))}}function Oq(n,l){if(n&1&&(r(0,"mat-header-cell",64),c(1),a()),n&2){let e=m();o(),y(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," ")}}function Fq(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),y(" ",e.title," ")}}function Bq(n,l){if(n&1&&(r(0,"mat-header-cell",64),c(1),a()),n&2){let e=m();o(),y(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function Nq(n,l){if(n&1&&(r(0,"mat-cell"),c(1),_(2,"localeDate"),a()),n&2){let e=l.$implicit;o(),y(" ",g(2,1,e.createdDate)," ")}}function Hq(n,l){n&1&&(r(0,"mat-header-cell"),c(1),_(2,"translate"),a()),n&2&&(o(),y(" ",g(2,1,"TITLE.OPTION")," "))}function Wq(n,l){if(n&1&&(r(0,"mat-cell",70)(1,"button",71)(2,"mat-icon"),c(3,"more_vert"),a()(),C(4,"mat-menu",null,2),a()),n&2){let e=k(5);o(),d("matMenuTriggerFor",e)}}function Gq(n,l){n&1&&(r(0,"mat-header-cell",72),c(1),_(2,"translate"),a()),n&2&&(o(),y(" ",g(2,1,"TITLE.LINKTO")," "))}function Uq(n,l){if(n&1){let e=I();r(0,"mat-cell")(1,"button",73),E("click",function(){let t=u(e).$implicit,s=m();return f(s.onActionButtonLinkTo(t))}),r(2,"mat-icon",74),c(3,"\u2197"),a()()()}}function jq(n,l){if(n&1&&(r(0,"mat-cell"),c(1),C(2,"br"),c(3),_(4,"translate"),_(5,"localeDate"),a()),n&2){let e=l.$implicit;o(),y(" ",e.title," "),o(2),$(" ",g(4,3,"TITLE.CreationDate")," : ",g(5,5,e.createdDate)," ")}}function qq(n,l){if(n&1&&(C(0,"img",79),_(1,"cmsthumbnail")),n&2){let e=m().$implicit;d("src",x(g(1,2,e.linkMainImageIdSrc)),j)}}function Qq(n,l){if(n&1&&(r(0,"tr"),C(1,"td"),r(2,"td"),c(3),_(4,"localeDate"),a()()),n&2){let e=m().$implicit,i=m();o(3),$(" ",i.fieldsInfo.updatedDate==null?null:i.fieldsInfo.updatedDate.fieldTitle," : ",g(4,2,e.updatedDate)," ")}}function zq(n,l){if(n&1){let e=I();r(0,"mat-cell")(1,"div")(2,"table")(3,"tr")(4,"th"),S(5,qq,2,4,"img",75),a(),r(6,"th")(7,"span",76),E("click",function(){u(e);let t=m();return f(t.onActionCopied())}),C(8,"i",77),a(),c(9),a()(),S(10,Qq,5,4,"tr",78),r(11,"tr"),C(12,"td"),r(13,"td"),c(14),a()(),r(15,"tr"),C(16,"td"),r(17,"td"),c(18),a()(),r(19,"tr"),C(20,"td")(21,"td"),a()()()()}if(n&2){let e=l.$implicit;o(5),d("ngIf",(e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0),o(2),d("cdkCopyToClipboard",e.id),o(2),y(" ",e.id," "),o(),d("ngIf",e.updatedDate),o(4),y(" ",e.title," "),o(4),y(" ",e.description," ")}}function Yq(n,l){n&1&&C(0,"mat-header-row")}function Kq(n,l){if(n&1){let e=I();r(0,"mat-row",80),E("click",function(){let t=u(e).$implicit,s=m();return f(s.onActionTableRowSelect(t))})("mouseenter",function(){let t=u(e).$implicit,s=m();return f(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=u(e).$implicit,s=m();return f(s.onActionTableRowMouseLeave(t))}),a()}if(n&2){let e=l.$implicit,i=l.dataIndex,t=m();Se("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",e.id===(t.tableRowSelected==null?null:t.tableRowSelected.id))}}function Zq(n,l){if(n&1){let e=I();r(0,"mat-row",80),E("click",function(){let t=u(e).$implicit,s=m();return f(s.onActionTableRowSelect(t))})("mouseenter",function(){let t=u(e).$implicit,s=m();return f(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=u(e).$implicit,s=m();return f(s.onActionTableRowMouseLeave(t))}),a()}if(n&2){let e=l.$implicit,i=l.dataIndex,t=m();Se("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",e.id===(t.tableRowSelected==null?null:t.tableRowSelected.id))}}function Jq(n,l){if(n&1){let e=I();r(0,"mat-row",81),E("click",function(){let t=u(e).$implicit,s=m();return f(s.onActionTableRowSelect(t))})("mouseenter",function(){let t=u(e).$implicit,s=m();return f(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=u(e).$implicit,s=m();return f(s.onActionTableRowMouseLeave(t))}),a()}if(n&2){let e=l.$implicit,i=l.dataIndex,t=m();Se("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",e.id===(t.tableRowSelected==null?null:t.tableRowSelected.id)),d("ngStyle",ze(7,J0,e.expanded===!0?"":"none"))}}var fd=class fd extends bt{constructor(e,i,t,s,h,p,D,z,he,je,Ge){super(e,new vo,je,h,D);this.contentService=e;this.cmsToastrService=i;this.activatedRoute=t;this.router=s;this.tokenHelper=h;this.cdr=p;this.translate=D;this.cmsStoreService=z;this.pageInfo=he;this.publicHelper=je;this.dialog=Ge;this.requestLinkProjectId="";this.constructorInfoAreaId=this.constructor.name;this.filteModelContent=new pe;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["LinkMainImageIdSrc","Id","RecordStatus","mainAdminRecordStatus","LinkTo","action_menu"];this.tabledisplayedColumnsMobileSource=["LinkMainImageIdSrc","Id","RecordStatus","mainAdminRecordStatus","LinkTo","action_menu"];this.GetAllWithHierarchyCategoryId=!1;if(this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:mt=>this.onSubmitOptionsSearch(mt)},this.requestLinkProjectId=this.activatedRoute.snapshot.paramMap.get("LinkProjectId"),this.requestLinkProjectId&&this.requestLinkProjectId.length>0){let mt=new H;mt.propertyName="linkPropertyProjectId",mt.value=this.requestLinkProjectId,this.filteModelContent.filters.push(mt)}this.filteModelContent.sortColumn="Id",this.filteModelContent.sortType=X.Descending}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.cmsApiStoreSubscribe=this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>re(this,null,function*(){this.tokenInfo=e,this.DataGetAll()}))}ngOnDestroy(){this.cmsApiStoreSubscribe&&this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new vo);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));if(this.categoryModelSelected&&this.categoryModelSelected.id.length>0){let t=new H;t.propertyName="linkEstatePropertySupplierCategoryIds",t.value=this.categoryModelSelected.id,i.filters.push(t)}this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),t.isSuccess?(this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=X.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=X.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=X.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(e){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}e?.ctrlKey?(this.link="/#/estate/property-supplier/add/",window.open(this.link,"_blank")):this.router.navigate(["/estate/property-supplier/add"])}onActionButtonEditRow(e=this.tableRowSelected,i){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}i?.ctrlKey?(this.link="/#/estate/property-supplier/edit/"+this.tableRowSelected.id,window.open(this.link,"_blank")):this.router.navigate(["/estate/property-supplier/edit",this.tableRowSelected.id])}onActionButtonProperty(e=this.tableRowSelected,i){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}i?.ctrlKey?(this.link="/#/estate/property/LinkSupplierId/"+this.tableRowSelected.id,window.open(this.link,"_blank")):this.router.navigate(["/estate/property/LinkSupplierId",this.tableRowSelected.id])}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(s=>{this.cmsToastrService.typeErrorSelected(s)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(wp,{panelClass:i,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate&&this.DataGetAll()})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(p=>{i.set(p,0)}),this.translate.get("MESSAGE.All").subscribe(p=>{i.set(p,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(p=>{this.publicHelper.processService.processStart(t,p,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:p=>{p.isSuccess?(this.translate.get("MESSAGE.All").subscribe(D=>{i.set(D,p.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(p.errorMessage),this.publicHelper.processService.processStop(t)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(t,!1)}});let s=JSON.parse(JSON.stringify(this.filteModelContent)),h=new H;h.propertyName="RecordStatus",h.value=qe.Available,s.filters.push(h),this.contentService.ServiceGetCount(s).subscribe({next:p=>{p.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(D=>{i.set(D,p.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(p.errorMessage),this.publicHelper.processService.processStop(t)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonWithHierarchy(){this.GetAllWithHierarchyCategoryId=!this.GetAllWithHierarchyCategoryId,this.DataGetAll()}onActionSelectorSelect(e){var i=this.filteModelContent.sortColumn,t=this.filteModelContent.sortType;this.filteModelContent=new pe,this.filteModelContent.sortColumn=i,this.filteModelContent.sortType=t,this.categoryModelSelected=e,this.DataGetAll()}onActionButtonReload(){this.DataGetAll()}onActionCopied(){this.cmsToastrService.typeSuccessCopedToClipboard()}onSubmitOptionsSearch(e){e&&e.length>0&&(this.filteModelContent.filters=[...this.filteModelContent.filters,...e]),this.DataGetAll()}onActionButtonLinkTo(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(e.recordStatus!=qe.Available){this.cmsToastrService.typeWarningRecordStatusNoAvailable();return}this.onActionTableRowSelect(e);let i=this.constructor.name+"ServiceGetOneById";this.translate.get("MESSAGE.get_state_information").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructorInfoAreaId)}),this.contentService.setAccessDataType(Be.Editor),this.contentService.ServiceGetOneById(e.id).subscribe({next:t=>{if(t.isSuccess){var s="";this.publicHelper.isMobile?s="dialog-fullscreen":s="dialog-min",this.dialog.open(pn,{height:"90%",panelClass:s,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{title:t.item.title,urlViewContentQRCodeBase64:t.item.urlViewContentQRCodeBase64,urlViewContent:t.item.urlViewContent}}).afterClosed().subscribe(p=>{p&&p.dialogChangedDate&&this.DataGetAll()})}else this.cmsToastrService.typeErrorMessage(t.errorMessage);this.publicHelper.processService.processStop(i)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(i,!1)}})}};fd.\u0275fac=function(i){return new(i||fd)(v(Yn),v(V),v(jt),v(Ze),v(K),v(B),v(L),v(Z),v(ht),v(F),v(xe))},fd.\u0275cmp=R({type:fd,selectors:[["app-estate-property-supplier-list"]],standalone:!1,features:[ne],decls:91,vars:41,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionId",4,"ngIf"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionActionRowDisplayMenuAct","optionSelectRowItemTitle"],["cms-tree",""],[3,"optionChange"],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-maximize","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-minimize","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-highlight","target","_blank",4,"ngIf"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],[1,"col-4"],[1,"fa-solid","fa-apartment","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-share","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","","multiTemplateDataRows","",3,"matSortChange","dataSource"],["matColumnDef","action_menu"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkMainImageIdSrc"],["mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","Id"],["matColumnDef","LinkSiteId"],["matColumnDef","RecordStatus"],["matColumnDef","mainAdminRecordStatus"],["matColumnDef","Title"],["matColumnDef","CreatedDate"],["matColumnDef","Action"],["class","Action",4,"matCellDef"],["matColumnDef","LinkTo"],["mat-sort-header","","class","form-label",4,"matHeaderCellDef"],["matColumnDef","expandedTitle"],["matColumnDef","expandedDetail"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","ngStyle","click","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],[3,"optionId"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[3,"click"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"click"],[1,"fa","fa-bars","font-18"],["mat-sort-header",""],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","40","width","40",3,"src",4,"ngIf"],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","type","button","aria-label","Action Menu",3,"matMenuTriggerFor"],["mat-sort-header","",1,"form-label"],["type","button","mat-icon-button","",1,"text-dark",3,"click"],[2,"color","#ff671f"],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","80","width","80",3,"src",4,"ngIf"],[1,"navi-icon","pointer",3,"click","cdkCopyToClipboard"],[1,"flaticon2-copy"],[4,"ngIf"],["aria-hidden","","height","80","width","80",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"click","mouseenter","mouseleave"],[3,"click","mouseenter","mouseleave","ngStyle"]],template:function(i,t){if(i&1){let s=I();S(0,hq,1,1,"app-estate-property-project-header",3),r(1,"app-cms-html-list",4),w("optionActionGuideNoticeDisplayChange",function(p){return u(s),T(t.viewGuideNotice,p)||(t.viewGuideNotice=p),f(p)}),E("optionOnActionButtonMemoRow",function(){return u(s),f(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return u(s),f(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return u(s),f(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return u(s),f(t.onActionButtonPrintRow())}),A(2,5),r(3,"app-estate-property-supplier-category-tree",6),E("optionChange",function(p){return u(s),f(t.onActionSelectorSelect(p))}),a(),P(),Qe(4,7)(5,8),A(6,9),r(7,"a",10),E("click",function(){return u(s),f(t.viewGuideNotice=!t.viewGuideNotice)}),C(8,"i",11),a(),r(9,"a",10),E("click",function(){return u(s),f(t.onActionButtonReload())}),C(10,"i",12),a(),r(11,"a",13),E("click",function(){return u(s),f(t.onActionGridExpandRows(!0))}),C(12,"i",14),a(),r(13,"a",13),E("click",function(){return u(s),f(t.onActionGridExpandRows(!1))}),C(14,"i",15),a(),P(),A(15,16),r(16,"a",17),E("click",function(){return u(s),f(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),C(17,"mat-slide-toggle",18),c(18),_(19,"translate"),a(),r(20,"a",17),E("click",function(){return u(s),f(t.onActionButtonStatist())}),C(21,"mat-slide-toggle",18),c(22),_(23,"translate"),a(),S(24,yq,4,3,"a",19),P(),A(25,20),S(26,Cq,7,3,"div",21),P(),A(27,22),S(28,Sq,7,3,"div",21)(29,vq,7,3,"div",21),r(30,"div",23)(31,"a",13),E("click",function(p){return u(s),f(t.onActionButtonProperty(t.tableRowSelected,p))}),C(32,"i",24)(33,"br"),a(),r(34,"p",25),c(35),_(36,"translate"),a()(),r(37,"div",23)(38,"a",10),E("click",function(){return u(s),f(t.onActionButtonLinkTo(t.tableRowSelected))}),C(39,"i",26)(40,"br"),a(),r(41,"p",25),c(42),_(43,"translate"),a()(),P(),A(44,27),r(45,"app-cms-search-list",28),w("optionsChange",function(p){return u(s),T(t.optionsSearch,p)||(t.optionsSearch=p),f(p)}),a(),r(46,"app-cms-statist-list",28),w("optionsChange",function(p){return u(s),T(t.optionsStatist,p)||(t.optionsStatist=p),f(p)}),a(),P(),A(47,29),r(48,"mat-table",30,0),E("matSortChange",function(){u(s);let p=k(49);return f(t.onTableSortData(p))}),A(50,31),S(51,Eq,3,3,"mat-header-cell",32)(52,Iq,3,0,"mat-cell",33),P(),A(53,34),S(54,Mq,3,3,"mat-header-cell",35)(55,Tq,2,1,"mat-cell",33),P(),A(56,36),S(57,wq,2,1,"mat-header-cell",35)(58,xq,2,1,"mat-cell",33),P(),A(59,37),S(60,Aq,2,1,"mat-header-cell",35)(61,Pq,4,5,"mat-cell",33),P(),A(62,38),S(63,kq,2,1,"mat-header-cell",35)(64,Rq,4,4,"mat-cell",33),P(),A(65,39),S(66,Lq,2,1,"mat-header-cell",35)(67,Vq,3,3,"mat-cell",33),P(),A(68,40),S(69,Oq,2,1,"mat-header-cell",35)(70,Fq,2,1,"mat-cell",33),P(),A(71,41),S(72,Bq,2,1,"mat-header-cell",35)(73,Nq,3,3,"mat-cell",33),P(),A(74,42),S(75,Hq,3,3,"mat-header-cell",32)(76,Wq,6,1,"mat-cell",43),P(),A(77,44),S(78,Gq,3,3,"mat-header-cell",45)(79,Uq,4,0,"mat-cell",33),P(),A(80,46),S(81,jq,6,7,"mat-cell",33),P(),A(82,47),S(83,zq,22,6,"mat-cell",33),P(),S(84,Yq,1,0,"mat-header-row",48)(85,Kq,1,6,"mat-row",49)(86,Zq,1,6,"mat-row",49)(87,Jq,1,9,"mat-row",50),a(),P(),A(88,51),r(89,"mat-paginator",52,1),E("page",function(p){return u(s),f(t.onTablePageingData(p))}),a(),P(),a()}i&2&&(d("ngIf",(t.requestLinkProjectId==null?null:t.requestLinkProjectId.length)>0),o(),d("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey","estate.propertysupplier.list"),b("optionActionGuideNoticeDisplay",t.viewGuideNotice),d("optionTreeDisplay",!0)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelectDoubleClick)("optionActionRowDisplayMenuAct",t.tableRowSelectActionMenuClick)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.title),o(16),d("checked",t.optionsSearch.data.show),o(),y("",g(19,30,"ACTION.SEARCH")," "),o(3),d("checked",t.optionsStatist.data.show),o(),y("",g(23,32,"ACTION.STATIST")," "),o(2),d("ngIf",(t.tableRowSelected==null?null:t.tableRowSelected.id)>0),o(2),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessAddRow),o(2),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),o(),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),o(6),M(g(36,34,"ACTION.PROPERTY")),o(7),M(g(43,36,"TITLE.LINKTO")),o(3),b("options",t.optionsSearch),o(),b("options",t.optionsStatist),o(2),d("dataSource",t.tableSource),o(36),d("matHeaderRowDef",t.tabledisplayedColumns),o(),d("matRowDefColumns",le(38,fq)),o(),d("matRowDefColumns",t.tabledisplayedColumns),o(),d("matRowDefColumns",le(39,_q)),o(2),d("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",le(40,gq)))},dependencies:[se,N,tt,Je,Ee,Q,At,Pt,vt,gt,Et,It,it,ot,st,rt,nt,dt,at,lt,ct,pt,ci,Tt,wt,xt,Oi,Kr,Pp,He,O,tn,Ie,Fn,qt],encapsulation:2});var Wd=fd;var Xq=()=>[5,10,20,100];function $q(n,l){if(n&1){let e=I();r(0,"div",17)(1,"a",40),E("click",function(){u(e);let t=m();return f(t.onActionButtonNewRow())}),C(2,"i",41)(3,"br"),a(),r(4,"p",20),c(5),_(6,"translate"),a()()}n&2&&(o(5),M(g(6,1,"ACTION.ADD")))}function eQ(n,l){if(n&1){let e=I();r(0,"div",17)(1,"a",42),E("click",function(){u(e);let t=m();return f(t.onActionButtonEditRow(t.tableRowSelected))}),C(2,"i",43)(3,"br"),a(),r(4,"p",20),c(5),_(6,"translate"),a()()}n&2&&(o(5),M(g(6,1,"ACTION.EDIT")))}function tQ(n,l){if(n&1){let e=I();r(0,"div",17)(1,"a",44),E("click",function(){u(e);let t=m();return f(t.onActionButtonDeleteRow(t.tableRowSelected))}),C(2,"i",45)(3,"br"),a(),r(4,"p",20),c(5),_(6,"translate"),a()()}n&2&&(o(5),M(g(6,1,"ACTION.DELETE")))}function iQ(n,l){n&1&&(r(0,"mat-header-cell",46),c(1),_(2,"translate"),a()),n&2&&(o(),y(" ",g(2,1,"TITLE.PICTURE")," "))}function nQ(n,l){if(n&1&&(C(0,"img",48),_(1,"cmsthumbnail")),n&2){let e=m().$implicit;d("src",x(g(1,2,e.linkMainImageIdSrc)),j)}}function oQ(n,l){if(n&1&&(r(0,"mat-cell"),S(1,nQ,2,4,"img",47),a()),n&2){let e=l.$implicit;o(),d("ngIf",(e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0)}}function rQ(n,l){if(n&1&&(r(0,"mat-header-cell",46),c(1),a()),n&2){let e=m();o(),y(" ",e.fieldsInfo.iconFont==null?null:e.fieldsInfo.iconFont.fieldTitle," ")}}function aQ(n,l){if(n&1&&(r(0,"mat-cell"),C(1,"i",49),a()),n&2){let e=l.$implicit;o(),ye("color",e.iconColor),d("ngClass",e.iconFont)}}function lQ(n,l){if(n&1&&(r(0,"mat-header-cell",46),c(1),a()),n&2){let e=m();o(),y(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function sQ(n,l){if(n&1&&(r(0,"mat-cell"),C(1,"i",49),a()),n&2){let e=l.$implicit;o(),ye("color",e.iconColor),d("ngClass",e.iconFont)}}function dQ(n,l){if(n&1&&(r(0,"mat-header-cell",46),c(1),a()),n&2){let e=m();o(),y(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," ")}}function cQ(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),y(" ",e.title," ")}}function pQ(n,l){if(n&1&&(r(0,"mat-header-cell",46),c(1),a()),n&2){let e=m();o(),y(" ",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle," ")}}function mQ(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),y(" ",e.description," ")}}function uQ(n,l){n&1&&(r(0,"mat-header-cell"),c(1),_(2,"translate"),a()),n&2&&(o(),y(" ",g(2,1,"TITLE.OPTION")," "))}function fQ(n,l){if(n&1&&(r(0,"mat-cell",50)(1,"button",51)(2,"mat-icon"),c(3,"more_vert"),a()(),C(4,"mat-menu",null,2),a()),n&2){let e=k(5);o(),d("matMenuTriggerFor",e)}}function _Q(n,l){n&1&&C(0,"mat-header-row")}function gQ(n,l){if(n&1){let e=I();r(0,"mat-row",52),E("click",function(){let t=u(e).$implicit,s=m();return f(s.onActionTableRowSelect(t))}),a()}if(n&2){let e=l.$implicit,i=l.dataIndex,t=m();Se("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",e.id===(t.tableRowSelected==null?null:t.tableRowSelected.id))}}var _d=class _d extends bt{constructor(e,i,t,s,h,p,D,z,he,je,Ge){super(e,new Gt,je,h,D);this.contentService=e;this.cmsConfirmationDialogService=i;this.cmsToastrService=t;this.router=s;this.tokenHelper=h;this.cdr=p;this.translate=D;this.cmsStoreService=z;this.pageInfo=he;this.publicHelper=je;this.dialog=Ge;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new pe;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["LinkMainImageIdSrc","IconFont","Title","Description"];this.tabledisplayedColumnsMobileSource=["LinkMainImageIdSrc","IconFont","Title","Description"];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:mt=>this.onSubmitOptionsSearch(mt)},this.filteModelContent.sortColumn="Title",this.filteModelContent.sortType=X.Ascending}ngOnInit(){this.filteModelContent.sortColumn="Title",this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.cmsApiStoreSubscribe=this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>re(this,null,function*(){this.tokenInfo=e,this.DataGetAll()}))}ngOnDestroy(){this.cmsApiStoreSubscribe&&this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Gt);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),t.isSuccess?(this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=X.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=X.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=X.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(ul,{height:"90%",panelClass:e,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(gl,{height:"90%",panelClass:i,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(s=>{this.cmsToastrService.typeErrorSelected(s)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(s=>{i=s["MESSAGE.Please_Confirm"],t=s["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(s=>{if(s){let h=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(p=>{this.publicHelper.processService.processStart(h,p,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:p=>{p.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(h)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(h,!1)}})}}).catch(()=>{})}onActionButtonContentDetailList(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.onActionTableRowSelect(e),this.router.navigate(["/estate/property-detail/LinkPropertyTypeLanduseId/",this.tableRowSelected.id])}onActionButtonContentList(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.onActionTableRowSelect(e),this.router.navigate(["/estate/property/LinkPropertyTypeLanduseId/",this.tableRowSelected.id])}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(p=>{i.set(p,0)}),this.translate.get("MESSAGE.All").subscribe(p=>{i.set(p,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(p=>{this.publicHelper.processService.processStart(t,p,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:p=>{p.isSuccess?(this.translate.get("MESSAGE.All").subscribe(D=>{i.set(D,p.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(p.errorMessage),this.publicHelper.processService.processStop(t)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(t,!1)}});let s=JSON.parse(JSON.stringify(this.filteModelContent)),h=new H;h.propertyName="RecordStatus",h.value=qe.Available,s.filters.push(h),this.contentService.ServiceGetCount(s).subscribe({next:p=>{p.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(D=>{i.set(D,p.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(p.errorMessage),this.publicHelper.processService.processStop(t)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0&&(this.filteModelContent.filters=[...this.filteModelContent.filters,...e]),this.DataGetAll()}};_d.\u0275fac=function(i){return new(i||_d)(v(yi),v(Mt),v(V),v(Ze),v(K),v(B),v(L),v(Z),v(ht),v(F),v(xe))},_d.\u0275cmp=R({type:_d,selectors:[["app-estate-property-type-landuse-list"]],standalone:!1,features:[ne],decls:67,vars:34,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-memo-circle-info","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-buildings","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","LinkMainImageIdSrc"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","IconFont"],["matColumnDef","Id"],["matColumnDef","Title"],["matColumnDef","Description"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","40","width","40",3,"src",4,"ngIf"],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["aria-hidden","true",3,"ngClass"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[3,"click"]],template:function(i,t){if(i&1){let s=I();r(0,"app-cms-html-list",3),w("optionActionGuideNoticeDisplayChange",function(p){return u(s),T(t.viewGuideNotice,p)||(t.viewGuideNotice=p),f(p)}),E("optionOnActionButtonMemoRow",function(){return u(s),f(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return u(s),f(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return u(s),f(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return u(s),f(t.onActionButtonPrintRow())}),A(1,4),c(2," -------------------------------------- "),P(),Qe(3,5)(4,6),A(5,7),r(6,"a",8),E("click",function(){return u(s),f(t.viewGuideNotice=!t.viewGuideNotice)}),C(7,"i",9),a(),r(8,"a",8),E("click",function(){return u(s),f(t.onActionButtonReload())}),C(9,"i",10),a(),P(),A(10,11),r(11,"a",12),E("click",function(){return u(s),f(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),C(12,"mat-slide-toggle",13),c(13),_(14,"translate"),a(),r(15,"a",12),E("click",function(){return u(s),f(t.onActionButtonStatist())}),C(16,"mat-slide-toggle",13),c(17),_(18,"translate"),a(),P(),A(19,14),S(20,$q,7,3,"div",15),P(),A(21,16),S(22,eQ,7,3,"div",15)(23,tQ,7,3,"div",15),r(24,"div",17)(25,"a",18),E("click",function(){return u(s),f(t.onActionButtonContentDetailList(t.tableRowSelected))}),C(26,"i",19)(27,"br"),a(),r(28,"p",20),c(29),_(30,"translate"),a()(),r(31,"div",17)(32,"a",18),E("click",function(){return u(s),f(t.onActionButtonContentList(t.tableRowSelected))}),C(33,"i",21)(34,"br"),a(),r(35,"p",20),c(36),_(37,"translate"),a()(),P(),A(38,22),r(39,"app-cms-search-list",23),w("optionsChange",function(p){return u(s),T(t.optionsSearch,p)||(t.optionsSearch=p),f(p)}),a(),r(40,"app-cms-statist-list",23),w("optionsChange",function(p){return u(s),T(t.optionsStatist,p)||(t.optionsStatist=p),f(p)}),a(),P(),A(41,24),r(42,"mat-table",25,0),E("matSortChange",function(){u(s);let p=k(43);return f(t.onTableSortData(p))}),A(44,26),S(45,iQ,3,3,"mat-header-cell",27)(46,oQ,2,1,"mat-cell",28),P(),A(47,29),S(48,rQ,2,1,"mat-header-cell",27)(49,aQ,2,3,"mat-cell",28),P(),A(50,30),S(51,lQ,2,1,"mat-header-cell",27)(52,sQ,2,3,"mat-cell",28),P(),A(53,31),S(54,dQ,2,1,"mat-header-cell",27)(55,cQ,2,1,"mat-cell",28),P(),A(56,32),S(57,pQ,2,1,"mat-header-cell",27)(58,mQ,2,1,"mat-cell",28),P(),A(59,33),S(60,uQ,3,3,"mat-header-cell",34)(61,fQ,6,1,"mat-cell",35),P(),S(62,_Q,1,0,"mat-header-row",36)(63,gQ,1,6,"mat-row",37),a(),P(),A(64,38),r(65,"mat-paginator",39,1),E("page",function(p){return u(s),f(t.onTablePageingData(p))}),a(),P(),a()}i&2&&(d("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),b("optionActionGuideNoticeDisplay",t.viewGuideNotice),d("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelectDoubleClick)("optionSelectRowItemTitle",(t.tableRowSelected==null||t.tableRowSelected.title==null?null:t.tableRowSelected.title.length)>0?t.tableRowSelected==null?null:t.tableRowSelected.title:t.tableRowSelected==null?null:t.tableRowSelected.id),o(12),d("checked",t.optionsSearch.data.show),o(),y("",g(14,25,"ACTION.SEARCH")," "),o(3),d("checked",t.optionsStatist.data.show),o(),y("",g(18,27,"ACTION.STATIST")," "),o(3),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessAddRow),o(2),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),o(),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),o(6),M(g(30,29,"ACTION.DETAIL")),o(7),M(g(37,31,"ACTION.PROPERTYLIST")),o(3),b("options",t.optionsSearch),o(),b("options",t.optionsStatist),o(2),d("dataSource",t.tableSource),o(20),d("matHeaderRowDef",t.tabledisplayedColumns),o(),d("matRowDefColumns",t.tabledisplayedColumns),o(2),d("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",le(33,Xq)))},dependencies:[se,N,Je,Ee,At,Pt,vt,gt,Et,It,it,ot,st,rt,nt,dt,at,lt,ct,pt,Tt,wt,xt,O,Ie],encapsulation:2});var kp=_d;var hQ=["vform"],yQ=n=>({direction:n}),CQ=()=>["fa"];function SQ(n,l){n&1&&C(0,"i",28)}function vQ(n,l){n&1&&C(0,"i",29)}function EQ(n,l){n&1&&(r(0,"mat-error"),c(1," Title is "),r(2,"strong"),c(3),_(4,"translate"),a()()),n&2&&(o(3),M(g(4,1,"MESSAGE.required")))}function IQ(n,l){if(n&1){let e=I();r(0,"div",12)(1,"label",30),c(2),a(),r(3,"input",31,4),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.iconFont,t)||(s.dataModel.iconFont=t),f(t)}),E("iconPickerSelect",function(t){u(e);let s=m();return f(s.onIconPickerSelect(t))}),a(),r(5,"span",32),C(6,"i",33),a()()}if(n&2){let e=m();o(2),M(e.fieldsInfo.iconFont==null?null:e.fieldsInfo.iconFont.fieldTitle),o(),d("placeholder",x(e.fieldsInfo.iconFont==null?null:e.fieldsInfo.iconFont.fieldTitle)),b("ngModel",e.dataModel.iconFont),d("iconPicker",e.dataModel.iconFont)("ipIconPack",le(9,CQ))("ipPosition","top")("disabled",!(e.fieldsInfo.iconFont!=null&&e.fieldsInfo.iconFont.accessAddField)),o(3),d("ngClass",e.dataModel.iconFont)}}function MQ(n,l){if(n&1){let e=I();r(0,"div",12)(1,"label",34),c(2),a(),r(3,"div",35)(4,"div",36)(5,"input",37,5),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.iconColor,t)||(s.dataModel.iconColor=t),f(t)}),a()(),r(7,"div",38),C(8,"ngx-mat-color-toggle",39)(9,"ngx-mat-color-picker",40,6),a()()()}if(n&2){let e=k(10),i=m();o(2),M(i.fieldsInfo.iconColor==null?null:i.fieldsInfo.iconColor.fieldTitle),o(3),ye("background",i.dataModel.iconColor),d("placeholder",x(i.fieldsInfo.iconColor==null?null:i.fieldsInfo.iconColor.fieldTitle)),b("ngModel",i.dataModel.iconColor),d("ngxMatColorPicker",e)("disabled",!(i.fieldsInfo.iconColor!=null&&i.fieldsInfo.iconColor.accessAddField)),o(3),d("for",e),o(),d("touchUi",!0)("color","primary")}}function bQ(n,l){n&1&&(r(0,"mat-error"),c(1," Description is "),r(2,"strong"),c(3),_(4,"translate"),a()()),n&2&&(o(3),M(g(4,1,"MESSAGE.required")))}function TQ(n,l){if(n&1&&(C(0,"img",41),_(1,"cmsthumbnail")),n&2){let e=m();d("src",x(g(1,2,e.dataModel.linkMainImageIdSrc)),j)}}function wQ(n,l){if(n&1){let e=I();r(0,"div",42)(1,"button",43),E("click",function(){u(e);let t=m();return f(t.onFormCancel())}),C(2,"i",44),c(3),_(4,"translate"),a(),r(5,"button",45),C(6,"i",46),c(7),_(8,"translate"),a()()}if(n&2){m();let e=k(9);o(3),y(" ",g(4,3,"ACTION.CANCEL")," "),o(2),d("disabled",!e.form.valid),o(2),y(" ",g(8,5,"ACTION.SAVE")," ")}}var gd=class gd extends Dt{constructor(e,i,t,s,h,p,D,z,he,je){super(s,new bn,D,je);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.estatePropertyTypeUsageService=s;this.cmsToastrService=h;this.cmsStoreService=p;this.publicHelper=D;this.cdr=z;this.tokenHelper=he;this.translate=je;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.tokenInfo=new St;this.dataModelResult=new G;this.dataModel=new bn;this.formInfo=new me;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess()}onActionFileSelected(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}DataAddContent(){this.dataModel.iconColor=this.dataModel.iconColor?.toString(),this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estatePropertyTypeUsageService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.formAlert=t}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e),this.formInfo.formSubmitAllow=!0},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onIconPickerSelect(e){this.dataModel.iconFont=e}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};gd.\u0275fac=function(i){return new(i||gd)(v(be),v(Me),v(J),v(gn),v(V),v(Z),v(F),v(B),v(K),v(L))},gd.\u0275cmp=R({type:gd,selectors:[["app-estate-property-type-usage-add"]],viewQuery:function(i,t){if(i&1&&ee(hQ,5),i&2){let s;te(s=ie())&&(t.formGroup=s.first)}},standalone:!1,features:[ne],decls:44,vars:46,consts:[["vform","ngForm"],["Title",""],["Description",""],["LinkMainImageId",""],["IconFont",""],["iconColor",""],["iconColorPicker",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit","ngStyle"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["type","text","name","dataModel.title","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","fa fa-times  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],[4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openDirectUploadView","openForm","tree","openFilemanagerButtonLabelKey","selectFileType","openFilemanagerButtonView"],["class","form-actions",4,"ngIf"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.iconFont",1,"color-highlight"],["matInput","","type","text","name","dataModel.iconFont","type","text","id","dataModel.iconFont",1,"form-control","validate-name",3,"ngModelChange","iconPickerSelect","ngModel","iconPicker","ipIconPack","ipPosition","placeholder","disabled"],[1,"input-group-addon"],[3,"ngClass"],["for","dataModel.iconColor",1,"color-highlight"],[1,"row","mb-0"],[1,"col-11","pe-0"],["matInput","","type","text","name","dataModel.iconColor","type","text","id","dataModel.iconColor",1,"form-control","validate-name",3,"ngModelChange","ngModel","ngxMatColorPicker","placeholder","disabled"],[1,"col-1","ps-0"],["matSuffix","",3,"for"],[3,"touchUi","color"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=I();r(0,"div",7),C(1,"app-progress-spinner",8),r(2,"div",9)(3,"p",10),c(4),a(),r(5,"p"),c(6),_(7,"translate"),a(),r(8,"form",11,0),E("ngSubmit",function(){return u(s),f(t.onFormSubmit())}),r(10,"div",12)(11,"label",13),c(12),a(),r(13,"input",14,1),w("ngModelChange",function(p){return u(s),T(t.dataModel.title,p)||(t.dataModel.title=p),f(p)}),a(),S(15,SQ,1,0,"i",15)(16,vQ,1,0,"i",16),r(17,"em"),c(18),a(),S(19,EQ,5,3,"mat-error",17),a(),S(20,IQ,7,10,"div",18)(21,MQ,11,11,"div",18),r(22,"div",12)(23,"label",19),c(24),a(),r(25,"textarea",20,2),w("ngModelChange",function(p){return u(s),T(t.dataModel.description,p)||(t.dataModel.description=p),f(p)}),c(27,"          "),a(),r(28,"em"),c(29),a(),S(30,bQ,5,3,"mat-error",17),a(),r(31,"div",21)(32,"a",22),_(33,"cmsthumbnail"),S(34,TQ,2,4,"img",23),a()(),r(35,"div",12)(36,"label",24),E("click",function(){return u(s),f(t.fileManagerOpenForm=!0)}),c(37),_(38,"translate"),a(),r(39,"input",25,3),_(41,"translate"),w("ngModelChange",function(p){return u(s),T(t.dataModel.linkMainImageId,p)||(t.dataModel.linkMainImageId=p),f(p)}),E("click",function(){return u(s),f(t.fileManagerOpenForm=!0)}),a(),r(42,"cms-file-manager",26),E("itemSelected",function(p){return u(s),f(t.onActionFileSelected(p))}),w("openFormChange",function(p){return u(s),T(t.fileManagerOpenForm,p)||(t.fileManagerOpenForm=p),f(p)}),a()(),S(43,wQ,9,7,"div",27),a()()()}if(i&2){let s=k(14),h=k(26);o(),d("optionsInfoAreaId",t.constructorInfoAreaId),o(3),y(" ",t.formInfo.formTitle," "),o(2),y(" ",g(7,36,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),d("ngStyle",ze(44,yQ,t.tokenInfo.access.direction)),o(4),M(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),b("ngModel",t.dataModel.title),o(2),d("ngIf",!s.value),o(),d("ngIf",s.value),o(2),y("",s.value.length," / 100"),o(),d("ngIf",s.errors==null?null:s.errors.required),o(),d("ngIf",t.fieldsInfo.iconFont==null?null:t.fieldsInfo.iconFont.accessWatchField),o(),d("ngIf",t.fieldsInfo.iconColor==null?null:t.fieldsInfo.iconColor.accessWatchField),o(3),M(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),b("ngModel",t.dataModel.description),o(4),y("",h.value.length," / 500"),o(),d("ngIf",h.errors==null?null:h.errors.required),o(2),d("href",x(g(33,38,t.dataModel.linkMainImageIdSrc)),j),o(2),d("ngIf",(t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0),o(3),M(g(38,40,"TITLE.PICTURE")),o(2),d("placeholder",x(g(41,42,"TITLE.Original_File_ID"))),b("ngModel",t.dataModel.linkMainImageId),o(3),d("language",t.appLanguage)("isPopup",!0)("openDirectUploadView",!0),b("openForm",t.fileManagerOpenForm),d("tree",t.fileManagerTree)("openFilemanagerButtonLabelKey","select")("selectFileType",t.selectFileTypeMainImage)("openFilemanagerButtonView",!1),o(),d("ngIf",t.formInfo.formSubmitAllow)}},dependencies:[se,N,tt,ke,Y,q,Te,de,De,Ae,ce,Pe,we,et,Q,U,ni,$t,Xt,Jt,ut,O,Ie],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});var Dp=gd;function xQ(n,l){if(n&1){let e=I();r(0,"li")(1,"mat-checkbox",1),E("change",function(){let t=u(e).$implicit,s=m();return f(s.onActionSelect(t))}),c(2),a()()}if(n&2){let e=l.$implicit,i=m();o(),d("checked",i.fieldsStatus.get(e.id))("disabled",i.optionDisabled),o(),y(" ",e.titleML," ")}}var hd=class hd{constructor(l,e,i,t,s,h,p,D){this.coreEnumService=l;this.categoryService=e;this.cdr=i;this.publicHelper=t;this.tokenHelper=s;this.translate=h;this.cmsStoreService=p;this.cmsToastrService=D;this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new G;this.dataModelSelect=[];this.dataIdsSelect=[];this.formControl=new Ct;this.fieldsStatus=new Map;this.optionDisabled=!1;this.optionSelectFirstItem=!1;this.optionPlaceholder="";this.optionChange=new Xe;this.optionSelectAdded=new Xe;this.optionSelectRemoved=new Xe;this.optionReload=()=>this.onActionButtonReload();this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(l){this.onActionSelectForce(l)}ngOnInit(){setTimeout(()=>{this.DataGetAll()},500),this.cmsApiStoreSubscribe=this.cmsStoreService.getState(l=>l.tokenInfoStore).subscribe(l=>re(this,null,function*(){this.DataGetAll()}))}ngOnDestroy(){this.cmsApiStoreSubscribe&&this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){let l=new pe;l.rowPerPage=50,l.accessLoad=!0;let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.categoryService.ServiceGetAll(l).subscribe({next:i=>{i.isSuccess?(this.dataModelResult=i,this.dataModelResult.listItems.forEach(t=>this.fieldsStatus.set(t.id,!1)),this.dataIdsSelect.forEach(t=>this.fieldsStatus.set(t,!0)),this.dataModelResult.listItems.forEach(t=>{this.fieldsStatus.get(t.id)&&this.dataModelSelect.push(t)})):this.cmsToastrService.typeErrorMessage(i.errorMessage),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelect(l){this.fieldsStatus.get(l.id)?(this.fieldsStatus.set(l.id,!1),this.optionSelectRemoved.emit(l),this.dataModelSelect.splice(this.dataModelSelect.indexOf(l),1)):(this.fieldsStatus.set(l.id,!0),this.optionSelectAdded.emit(l),this.dataModelSelect.push(l)),this.optionChange.emit(this.dataModelSelect)}onActionSelectForce(l){typeof l==typeof Array(String)?l.forEach(e=>{this.dataIdsSelect.push(e)}):typeof l==typeof Array(Gt)&&l.forEach(e=>{this.dataIdsSelect.push(e.id)}),this.dataIdsSelect.forEach(e=>this.fieldsStatus.set(e,!0))}onActionButtonReload(){this.DataGetAll()}};hd.\u0275fac=function(e){return new(e||hd)(v(J),v(yi),v(B),v(F),v(K),v(L),v(Z),v(V))},hd.\u0275cmp=R({type:hd,selectors:[["app-estate-property-type-landuse-selectionlist"]],inputs:{optionDisabled:"optionDisabled",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange",optionSelectAdded:"optionSelectAdded",optionSelectRemoved:"optionSelectRemoved"},standalone:!1,decls:2,vars:1,consts:[[4,"ngFor","ngForOf"],[3,"change","checked","disabled"]],template:function(e,i){e&1&&(r(0,"ul"),S(1,xQ,3,3,"li",0),a()),e&2&&(o(),d("ngForOf",i.dataModelResult.listItems))},dependencies:[Ne,Aa],encapsulation:2});var Rp=hd;var PQ=["vform"],kQ=n=>({direction:n}),DQ=()=>["fa"];function RQ(n,l){n&1&&C(0,"i",29)}function LQ(n,l){n&1&&C(0,"i",30)}function VQ(n,l){n&1&&(r(0,"mat-error"),c(1," Title is "),r(2,"strong"),c(3),_(4,"translate"),a()()),n&2&&(o(3),M(g(4,1,"MESSAGE.required")))}function OQ(n,l){if(n&1){let e=I();r(0,"div",12)(1,"label",31),c(2),a(),r(3,"input",32,4),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.iconFont,t)||(s.dataModel.iconFont=t),f(t)}),E("iconPickerSelect",function(t){u(e);let s=m();return f(s.onIconPickerSelect(t))}),a(),r(5,"span",33),C(6,"i",34),a()()}if(n&2){let e=m();o(2),M(e.fieldsInfo.iconFont==null?null:e.fieldsInfo.iconFont.fieldTitle),o(),d("placeholder",x(e.fieldsInfo.iconFont==null?null:e.fieldsInfo.iconFont.fieldTitle)),b("ngModel",e.dataModel.iconFont),d("iconPicker",e.dataModel.iconFont)("ipIconPack",le(9,DQ))("ipPosition","top")("disabled",!(e.fieldsInfo.iconFont!=null&&e.fieldsInfo.iconFont.accessEditField)),o(3),d("ngClass",e.dataModel.iconFont)}}function FQ(n,l){if(n&1){let e=I();r(0,"div",12)(1,"label",35),c(2),a(),r(3,"div",36)(4,"div",37)(5,"input",38,5),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.iconColor,t)||(s.dataModel.iconColor=t),f(t)}),a()(),r(7,"div",39),C(8,"ngx-mat-color-toggle",40)(9,"ngx-mat-color-picker",41,6),a()()()}if(n&2){let e=k(10),i=m();o(2),M(i.fieldsInfo.iconColor==null?null:i.fieldsInfo.iconColor.fieldTitle),o(3),ye("background",i.dataModel.iconColor),d("placeholder",x(i.fieldsInfo.iconColor==null?null:i.fieldsInfo.iconColor.fieldTitle)),b("ngModel",i.dataModel.iconColor),d("ngxMatColorPicker",e)("disabled",!(i.fieldsInfo.iconColor!=null&&i.fieldsInfo.iconColor.accessEditField)),o(3),d("for",e),o(),d("touchUi",!0)("color","primary")}}function BQ(n,l){n&1&&(r(0,"mat-error"),c(1," Description is "),r(2,"strong"),c(3),_(4,"translate"),a()()),n&2&&(o(3),M(g(4,1,"MESSAGE.required")))}function NQ(n,l){if(n&1&&(C(0,"img",42),_(1,"cmsthumbnail")),n&2){let e=m();d("src",x(g(1,2,e.dataModel.linkMainImageIdSrc)),j)}}function HQ(n,l){if(n&1){let e=I();r(0,"div",43)(1,"button",44),E("click",function(){u(e);let t=m();return f(t.onFormCancel())}),C(2,"i",45),c(3),_(4,"translate"),a(),r(5,"button",46),C(6,"i",47),c(7),_(8,"translate"),a()()}if(n&2){m();let e=k(9);o(3),y(" ",g(4,3,"ACTION.CANCEL")," "),o(2),d("disabled",!e.form.valid),o(2),y(" ",g(8,5,"ACTION.SAVE")," ")}}var yd=class yd extends Bt{constructor(e,i,t,s,h,p,D,z,he,je,Ge){super(s,new bn,z,Ge);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.estatePropertyTypeUsageService=s;this.estatePropertyTypeService=h;this.cmsToastrService=p;this.cmsStoreService=D;this.publicHelper=z;this.cdr=he;this.tokenHelper=je;this.translate=Ge;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new Ft;this.dataModel=new bn;this.formInfo=new me;this.fileManagerOpenForm=!1;this.dataEstatePropertyTypeLandUseIds=[];this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore}ngOnInit(){if(this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.DataGetAllEstatePropertyUsage()}onActionFileSelected(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estatePropertyTypeUsageService.setAccessLoad(),this.estatePropertyTypeUsageService.setAccessDataType(Be.Editor),this.estatePropertyTypeUsageService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.dataModel.iconColor=this.dataModel.iconColor?.toString(),this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estatePropertyTypeUsageService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.formAlert=t}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e),this.formInfo.formSubmitAllow=!0},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataGetAllEstatePropertyUsage(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(s=>{this.formInfo.formAlert=s}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(s=>{this.publicHelper.processService.processStart(e,s,this.constructorInfoAreaId)});let i=new pe,t=new H;t.propertyName="LinkPropertyTypeUsageId",t.value=this.requestId,i.filters.push(t),this.estatePropertyTypeService.ServiceGetAll(i).subscribe({next:s=>{this.dataEstatePropertyTypeModel=s.listItems;let h=[];this.dataEstatePropertyTypeModel.forEach(p=>{h.push(p.linkPropertyTypeLanduseId)}),this.dataEstatePropertyTypeLandUseIds=h,s.isSuccess?this.formInfo.formAlert="":(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(p=>{this.formInfo.formAlert=p}),this.formInfo.formError=s.errorMessage,this.cmsToastrService.typeErrorMessage(s.errorMessage)),this.publicHelper.processService.processStop(e)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorUserCategorySelect(e){this.dataEstatePropertyTypeLanduseModel=e}onActionSelectorUserCategorySelectAdded(e){let i=new Br;i.linkPropertyTypeUsageId=this.dataModel.id,i.linkPropertyTypeLanduseId=e.id,this.estatePropertyTypeService.ServiceAdd(i).subscribe({next:t=>{t.isSuccess?(this.translate.get("MESSAGE.registration_in_this_group_was_successful").subscribe(s=>{this.formInfo.formAlert=s}),this.cmsToastrService.typeSuccessEdit()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(s=>{this.formInfo.formAlert=s}),this.formInfo.formError=t.errorMessage,this.cmsToastrService.typeErrorMessage(t.errorMessage))},error:t=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(t)}})}onActionSelectorUserCategorySelectRemoved(e){let i=new Br;i.linkPropertyTypeUsageId=this.dataModel.id,i.linkPropertyTypeLanduseId=e.id,this.estatePropertyTypeService.ServiceDeleteEntity(i).subscribe({next:t=>{t.isSuccess?(this.translate.get("MESSAGE.Deletion_from_this_group_Was_Successful").subscribe(s=>{this.formInfo.formAlert=s}),this.cmsToastrService.typeSuccessEdit()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(s=>{this.formInfo.formAlert=s}),this.formInfo.formError=t.errorMessage,this.cmsToastrService.typeErrorMessage(t.errorMessage))},error:t=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(t)}})}onIconPickerSelect(e){this.dataModel.iconFont=e}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};yd.\u0275fac=function(i){return new(i||yd)(v(be),v(Me),v(J),v(gn),v(dn),v(V),v(Z),v(F),v(B),v(K),v(L))},yd.\u0275cmp=R({type:yd,selectors:[["app-estate-property-type-usage-edit"]],viewQuery:function(i,t){if(i&1&&ee(PQ,5),i&2){let s;te(s=ie())&&(t.formGroup=s.first)}},standalone:!1,features:[ne],decls:45,vars:48,consts:[["vform","ngForm"],["Title",""],["Description",""],["LinkMainImageId",""],["IconFont",""],["iconColor",""],["iconColorPicker",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit","ngStyle"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["type","text","name","dataModel.title","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","fa fa-times  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],[4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],[3,"optionChange","optionSelectAdded","optionSelectRemoved","optionSelectForce","optionDisabled"],["class","form-actions",4,"ngIf"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.iconFont",1,"color-highlight"],["matInput","","type","text","name","dataModel.iconFont","type","text","id","dataModel.iconFont",1,"form-control","validate-name",3,"ngModelChange","iconPickerSelect","ngModel","iconPicker","ipIconPack","ipPosition","placeholder","disabled"],[1,"input-group-addon"],[3,"ngClass"],["for","dataModel.iconColor",1,"color-highlight"],[1,"row","mb-0"],[1,"col-11","pe-0"],["matInput","","type","text","name","dataModel.iconColor","type","text","id","dataModel.iconColor",1,"form-control","validate-name",3,"ngModelChange","ngModel","ngxMatColorPicker","placeholder","disabled"],[1,"col-1","ps-0"],["matSuffix","",3,"for"],[3,"touchUi","color"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=I();r(0,"div",7),C(1,"app-progress-spinner",8),r(2,"div",9)(3,"p",10),c(4),a(),r(5,"p"),c(6),_(7,"translate"),a(),r(8,"form",11,0),E("ngSubmit",function(){return u(s),f(t.onFormSubmit())}),r(10,"div",12)(11,"label",13),c(12),a(),r(13,"input",14,1),w("ngModelChange",function(p){return u(s),T(t.dataModel.title,p)||(t.dataModel.title=p),f(p)}),a(),S(15,RQ,1,0,"i",15)(16,LQ,1,0,"i",16),r(17,"em"),c(18),a(),S(19,VQ,5,3,"mat-error",17),a(),S(20,OQ,7,10,"div",18)(21,FQ,11,11,"div",18),r(22,"div",12)(23,"label",19),c(24),a(),r(25,"textarea",20,2),w("ngModelChange",function(p){return u(s),T(t.dataModel.description,p)||(t.dataModel.description=p),f(p)}),c(27,"        "),a(),r(28,"em"),c(29),a(),S(30,BQ,5,3,"mat-error",17),a(),r(31,"div",21)(32,"a",22),_(33,"cmsthumbnail"),S(34,NQ,2,4,"img",23),a()(),r(35,"div",12)(36,"label",24),E("click",function(){return u(s),f(t.fileManagerOpenForm=!0)}),c(37),_(38,"translate"),a(),r(39,"input",25,3),_(41,"translate"),w("ngModelChange",function(p){return u(s),T(t.dataModel.linkMainImageId,p)||(t.dataModel.linkMainImageId=p),f(p)}),E("click",function(){return u(s),f(t.fileManagerOpenForm=!0)}),a(),r(42,"cms-file-manager",26),E("itemSelected",function(p){return u(s),f(t.onActionFileSelected(p))}),w("openFormChange",function(p){return u(s),T(t.fileManagerOpenForm,p)||(t.fileManagerOpenForm=p),f(p)}),a()(),r(43,"app-estate-property-type-landuse-selectionlist",27),E("optionChange",function(p){return u(s),f(t.onActionSelectorUserCategorySelect(p))})("optionSelectAdded",function(p){return u(s),f(t.onActionSelectorUserCategorySelectAdded(p))})("optionSelectRemoved",function(p){return u(s),f(t.onActionSelectorUserCategorySelectRemoved(p))}),a(),S(44,HQ,9,7,"div",28),a()()()}if(i&2){let s=k(14),h=k(26);o(),d("optionsInfoAreaId",t.constructorInfoAreaId),o(3),y(" ",t.formInfo.formTitle," "),o(2),y(" ",g(7,38,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),d("ngStyle",ze(46,kQ,t.tokenInfo.access.direction)),o(4),M(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),b("ngModel",t.dataModel.title),o(2),d("ngIf",!s.value),o(),d("ngIf",s.value),o(2),y("",s.value.length," / 100"),o(),d("ngIf",s.errors==null?null:s.errors.required),o(),d("ngIf",t.fieldsInfo.iconFont==null?null:t.fieldsInfo.iconFont.accessWatchField),o(),d("ngIf",t.fieldsInfo.iconColor==null?null:t.fieldsInfo.iconColor.accessWatchField),o(3),M(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),d("placeholder",x(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),b("ngModel",t.dataModel.description),o(4),y("",h.value.length," / 500"),o(),d("ngIf",h.errors==null?null:h.errors.required),o(2),d("href",x(g(33,40,t.dataModel.linkMainImageIdSrc)),j),o(2),d("ngIf",(t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0),o(3),M(g(38,42,"TITLE.PICTURE")),o(2),d("placeholder",x(g(41,44,"TITLE.Original_File_ID"))),b("ngModel",t.dataModel.linkMainImageId),o(3),d("language",t.appLanguage)("isPopup",!0),b("openForm",t.fileManagerOpenForm),d("tree",t.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",t.selectFileTypeMainImage)("openFilemanagerButtonView",!1),o(),d("optionSelectForce",t.dataEstatePropertyTypeLandUseIds)("optionDisabled",!1),o(),d("ngIf",t.formInfo.formSubmitAllow)}},dependencies:[se,N,tt,ke,Y,q,Te,de,De,Ae,ce,Pe,we,et,Q,U,ni,$t,Xt,Jt,ut,Rp,O,Ie],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});var Lp=yd;var WQ=()=>[5,10,20,100];function GQ(n,l){if(n&1){let e=I();r(0,"div",17)(1,"a",39),E("click",function(){u(e);let t=m();return f(t.onActionButtonNewRow())}),C(2,"i",40)(3,"br"),a(),r(4,"p",20),c(5),_(6,"translate"),a()()}n&2&&(o(5),M(g(6,1,"ACTION.ADD")))}function UQ(n,l){if(n&1){let e=I();r(0,"div",17)(1,"a",41),E("click",function(){u(e);let t=m();return f(t.onActionButtonEditRow(t.tableRowSelected))}),C(2,"i",42)(3,"br"),a(),r(4,"p",20),c(5),_(6,"translate"),a()()}n&2&&(o(5),M(g(6,1,"ACTION.EDIT")))}function jQ(n,l){if(n&1){let e=I();r(0,"div",17)(1,"a",43),E("click",function(){u(e);let t=m();return f(t.onActionButtonDeleteRow(t.tableRowSelected))}),C(2,"i",44)(3,"br"),a(),r(4,"p",20),c(5),_(6,"translate"),a()()}n&2&&(o(5),M(g(6,1,"ACTION.DELETE")))}function qQ(n,l){n&1&&(r(0,"mat-header-cell",45),c(1),_(2,"translate"),a()),n&2&&(o(),y(" ",g(2,1,"TITLE.PICTURE")," "))}function QQ(n,l){if(n&1&&(C(0,"img",47),_(1,"cmsthumbnail")),n&2){let e=m().$implicit;d("src",x(g(1,2,e.linkMainImageIdSrc)),j)}}function zQ(n,l){if(n&1&&(r(0,"mat-cell"),S(1,QQ,2,4,"img",46),a()),n&2){let e=l.$implicit;o(),d("ngIf",(e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0)}}function YQ(n,l){if(n&1&&(r(0,"mat-header-cell",45),c(1),a()),n&2){let e=m();o(),y(" ",e.fieldsInfo.iconFont==null?null:e.fieldsInfo.iconFont.fieldTitle," ")}}function KQ(n,l){if(n&1&&(r(0,"mat-cell"),C(1,"i",48),a()),n&2){let e=l.$implicit;o(),ye("color",e.iconColor),d("ngClass",e.iconFont)}}function ZQ(n,l){if(n&1&&(r(0,"mat-header-cell",45),c(1),a()),n&2){let e=m();o(),y(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function JQ(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),y(" ",e.id," ")}}function XQ(n,l){if(n&1&&(r(0,"mat-header-cell",45),c(1),a()),n&2){let e=m();o(),y(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," ")}}function $Q(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),y(" ",e.title," ")}}function ez(n,l){if(n&1&&(r(0,"mat-header-cell",45),c(1),a()),n&2){let e=m();o(),y(" ",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle," ")}}function tz(n,l){if(n&1&&(r(0,"mat-cell"),c(1),a()),n&2){let e=l.$implicit;o(),y(" ",e.description," ")}}function iz(n,l){n&1&&(r(0,"mat-header-cell"),c(1),_(2,"translate"),a()),n&2&&(o(),y(" ",g(2,1,"TITLE.OPTION")," "))}function nz(n,l){if(n&1&&(r(0,"mat-cell",49)(1,"button",50)(2,"mat-icon"),c(3,"more_vert"),a()(),C(4,"mat-menu",null,2),a()),n&2){let e=k(5);o(),d("matMenuTriggerFor",e)}}function oz(n,l){n&1&&C(0,"mat-header-row")}function rz(n,l){if(n&1){let e=I();r(0,"mat-row",51),E("click",function(){let t=u(e).$implicit,s=m();return f(s.onActionTableRowSelect(t))}),a()}if(n&2){let e=l.$implicit,i=l.dataIndex,t=m();Se("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",e.id===(t.tableRowSelected==null?null:t.tableRowSelected.id))}}var Cd=class Cd extends bt{constructor(e,i,t,s,h,p,D,z,he,je,Ge){super(e,new bn,je,p,z);this.contentService=e;this.cmsConfirmationDialogService=i;this.router=t;this.cmsToastrService=s;this.cmsStoreService=h;this.tokenHelper=p;this.cdr=D;this.translate=z;this.pageInfo=he;this.publicHelper=je;this.dialog=Ge;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new pe;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["LinkMainImageIdSrc","IconFont","Title","Description"];this.tabledisplayedColumnsMobileSource=["LinkMainImageIdSrc","IconFont","Title","Description"];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:mt=>this.onSubmitOptionsSearch(mt)},this.filteModelContent.sortColumn="Title",this.filteModelContent.sortType=X.Ascending}ngOnInit(){this.filteModelContent.sortColumn="Title",this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.cmsApiStoreSubscribe=this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>re(this,null,function*(){this.tokenInfo=e,this.DataGetAll()}))}ngOnDestroy(){this.cmsApiStoreSubscribe&&this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new bn);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),t.isSuccess?(this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=X.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=X.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=X.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(Dp,{height:"90%",panelClass:e,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Lp,{height:"90%",panelClass:i,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(s=>{this.cmsToastrService.typeErrorSelected(s)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(s=>{i=s["MESSAGE.Please_Confirm"],t=s["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(s=>{if(s){let h=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(p=>{this.publicHelper.processService.processStart(h,p,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:p=>{p.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(h)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(h,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(p=>{i.set(p,0)}),this.translate.get("MESSAGE.All").subscribe(p=>{i.set(p,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(p=>{this.publicHelper.processService.processStart(t,p,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:p=>{p.isSuccess?(this.translate.get("MESSAGE.All").subscribe(D=>{i.set(D,p.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(p.errorMessage),this.publicHelper.processService.processStop(t)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(t,!1)}});let s=JSON.parse(JSON.stringify(this.filteModelContent)),h=new H;h.propertyName="RecordStatus",h.value=qe.Available,s.filters.push(h),this.contentService.ServiceGetCount(s).subscribe({next:p=>{p.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(D=>{i.set(D,p.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(p.errorMessage),this.publicHelper.processService.processStop(t)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0&&(this.filteModelContent.filters=[...this.filteModelContent.filters,...e]),this.DataGetAll()}onActionButtonContentDetailList(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.onActionTableRowSelect(e),this.router.navigate(["/estate/property/LinkPropertyTypeUsageId/",this.tableRowSelected.id])}};Cd.\u0275fac=function(i){return new(i||Cd)(v(gn),v(Mt),v(Ze),v(V),v(Z),v(K),v(B),v(L),v(ht),v(F),v(xe))},Cd.\u0275cmp=R({type:Cd,selectors:[["app-hstate-propertytypeusage-list"]],standalone:!1,features:[ne],decls:60,vars:31,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-memo-circle-info","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","LinkMainImageIdSrc"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","IconFont"],["matColumnDef","Id"],["matColumnDef","Title"],["matColumnDef","Description"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","40","width","40",3,"src",4,"ngIf"],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["aria-hidden","true",3,"ngClass"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[3,"click"]],template:function(i,t){if(i&1){let s=I();r(0,"app-cms-html-list",3),w("optionActionGuideNoticeDisplayChange",function(p){return u(s),T(t.viewGuideNotice,p)||(t.viewGuideNotice=p),f(p)}),E("optionOnActionButtonMemoRow",function(){return u(s),f(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return u(s),f(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return u(s),f(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return u(s),f(t.onActionButtonPrintRow())}),A(1,4),c(2," -------------------------------------- "),P(),Qe(3,5),A(4,6),r(5,"a",7),E("click",function(){return u(s),f(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),C(6,"mat-slide-toggle",8),c(7),_(8,"translate"),a(),r(9,"a",7),E("click",function(){return u(s),f(t.onActionButtonStatist())}),C(10,"mat-slide-toggle",8),c(11),_(12,"translate"),a(),P(),A(13,9),r(14,"a",10),E("click",function(){return u(s),f(t.viewGuideNotice=!t.viewGuideNotice)}),C(15,"i",11),a(),r(16,"a",10),E("click",function(){return u(s),f(t.onActionButtonReload())}),C(17,"i",12),a(),P(),Qe(18,13),A(19,14),S(20,GQ,7,3,"div",15),P(),A(21,16),S(22,UQ,7,3,"div",15)(23,jQ,7,3,"div",15),r(24,"div",17)(25,"a",18),E("click",function(){return u(s),f(t.onActionButtonContentDetailList(t.tableRowSelected))}),C(26,"i",19)(27,"br"),a(),r(28,"p",20),c(29),_(30,"translate"),a()(),P(),A(31,21),r(32,"app-cms-search-list",22),w("optionsChange",function(p){return u(s),T(t.optionsSearch,p)||(t.optionsSearch=p),f(p)}),a(),r(33,"app-cms-statist-list",22),w("optionsChange",function(p){return u(s),T(t.optionsStatist,p)||(t.optionsStatist=p),f(p)}),a(),P(),A(34,23),r(35,"mat-table",24,0),E("matSortChange",function(){u(s);let p=k(36);return f(t.onTableSortData(p))}),A(37,25),S(38,qQ,3,3,"mat-header-cell",26)(39,zQ,2,1,"mat-cell",27),P(),A(40,28),S(41,YQ,2,1,"mat-header-cell",26)(42,KQ,2,3,"mat-cell",27),P(),A(43,29),S(44,ZQ,2,1,"mat-header-cell",26)(45,JQ,2,1,"mat-cell",27),P(),A(46,30),S(47,XQ,2,1,"mat-header-cell",26)(48,$Q,2,1,"mat-cell",27),P(),A(49,31),S(50,ez,2,1,"mat-header-cell",26)(51,tz,2,1,"mat-cell",27),P(),A(52,32),S(53,iz,3,3,"mat-header-cell",33)(54,nz,6,1,"mat-cell",34),P(),S(55,oz,1,0,"mat-header-row",35)(56,rz,1,6,"mat-row",36),a(),P(),A(57,37),r(58,"mat-paginator",38,1),E("page",function(p){return u(s),f(t.onTablePageingData(p))}),a(),P(),a()}i&2&&(d("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),b("optionActionGuideNoticeDisplay",t.viewGuideNotice),d("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelectDoubleClick)("optionSelectRowItemTitle",(t.tableRowSelected==null||t.tableRowSelected.title==null?null:t.tableRowSelected.title.length)>0?t.tableRowSelected==null?null:t.tableRowSelected.title:t.tableRowSelected==null?null:t.tableRowSelected.id),o(6),d("checked",t.optionsSearch.data.show),o(),y("",g(8,24,"ACTION.SEARCH")," "),o(3),d("checked",t.optionsStatist.data.show),o(),y("",g(12,26,"ACTION.STATIST")," "),o(9),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessAddRow),o(2),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),o(),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),o(6),M(g(30,28,"ACTION.DETAIL")),o(3),b("options",t.optionsSearch),o(),b("options",t.optionsStatist),o(2),d("dataSource",t.tableSource),o(20),d("matHeaderRowDef",t.tabledisplayedColumns),o(),d("matRowDefColumns",t.tabledisplayedColumns),o(2),d("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",le(30,WQ)))},dependencies:[se,N,Je,Ee,At,Pt,vt,gt,Et,It,it,ot,st,rt,nt,dt,at,lt,ct,pt,Tt,wt,xt,O,Ie],encapsulation:2});var Vp=Cd;var Yp=uo(Fo());var az=["vform"];function lz(n,l){if(n&1){let e=I();r(0,"div")(1,"div",8),C(2,"br"),r(3,"mat-slide-toggle",22),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.actionSendSmsToAreaEstateAgency,t)||(s.dataModel.actionSendSmsToAreaEstateAgency=t),f(t)}),c(4),_(5,"translate"),a()(),r(6,"div",8),C(7,"br"),r(8,"mat-slide-toggle",23),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.actionSendSmsToAreaEstateAgent,t)||(s.dataModel.actionSendSmsToAreaEstateAgent=t),f(t)}),c(9),_(10,"translate"),a()()()}if(n&2){let e=m();o(3),b("ngModel",e.dataModel.actionSendSmsToAreaEstateAgency),o(),y(" ",g(5,4,"ACTION.SEND_TO_NEAR_AGENCY")," "),o(4),b("ngModel",e.dataModel.actionSendSmsToAreaEstateAgent),o(),y(" ",g(10,6,"ACTION.SEND_TO_NEAR_EMPLOYE_AGENCY")," ")}}function sz(n,l){if(n&1){let e=I();r(0,"div",17)(1,"button",24),E("click",function(){u(e);let t=m();return f(t.onFormCancel())}),C(2,"i",25),c(3),_(4,"translate"),a(),r(5,"button",26),C(6,"i",27),c(7),_(8,"translate"),a()()}if(n&2){m();let e=k(9);o(3),y(" ",g(4,3,"ACTION.CANCEL")," "),o(2),d("disabled",!e.form.valid),o(2),y(" ",g(8,5,"ACTION.Send_Message")," ")}}var Sd=class Sd{constructor(l,e,i,t,s,h,p){this.data=l;this.dialogRef=e;this.service=i;this.publicHelper=t;this.translate=s;this.cmsToastrService=h;this.cdr=p;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.dataModelProperty=new Ki;this.dataModel=new Rm;this.formInfo=new me;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,l&&(this.dataModelProperty=l.model,this.dataModel.id=this.dataModelProperty.id)}ngOnInit(){this.translate.get("TITLE.Activities").subscribe(l=>{this.formInfo.formTitle=l}),(!this.dataModel||!this.dataModel.id||this.dataModel.id.length==0)&&(this.cmsToastrService.typeErrorMessage("\u0634\u0646\u0627\u0633\u0647 \u0645\u0634\u062E\u0635 \u0646\u0645\u06CC \u0628\u0627\u0634\u062F"),this.dialogRef.close({dialogChangedDate:!1}))}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataSend())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}DataSend(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError="";let l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(l,e,this.constructorInfoAreaId)}),this.service.ServiceActionSendSms(this.dataModel).subscribe({next:e=>{e.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(i=>{this.formInfo.formAlert=i}),this.cmsToastrService.typeSuccessAdd()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError=e.errorMessage,this.cmsToastrService.typeErrorMessage(e.errorMessage)),this.publicHelper.processService.processStop(l),this.formInfo.formSubmitAllow=!0,this.dialogRef.close({dialogChangedDate:!0})},error:e=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(l,!1)}})}};Sd.\u0275fac=function(e){return new(e||Sd)(v(be),v(Me),v(ui),v(F),v(L),v(V),v(B))},Sd.\u0275cmp=R({type:Sd,selectors:[["app-estate-property-action"]],viewQuery:function(e,i){if(e&1&&ee(az,5),e&2){let t;te(t=ie())&&(i.formGroup=t.first)}},standalone:!1,decls:52,vars:33,consts:[["vform","ngForm"],["ActionSendSmsToContactNumber",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection"],[1,"ntk-full-width"],["name","dataModel.actionSendSmsToMe",3,"ngModelChange","ngModel"],["name","dataModel.actionSendSmsToEstateAgent",3,"ngModelChange","ngModel"],["name","dataModel.actionSendSmsToEstateAgency",3,"ngModelChange","ngModel"],["name","dataModel.actionSendSmsToEstateCustomer",3,"ngModelChange","ngModel"],[4,"ngIf"],["name","dataModel.actionSendSmsToCustomerOrder",3,"ngModelChange","ngModel"],["matInput","","name","dataModel.actionSendSmsToContactNumber","type","text","rows","5","maxlength","100","placeholder","09123456789",1,"text-line",3,"ngModelChange","ngModel"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["name","dataModel.actionSendSmsToAreaEstateAgency",3,"ngModelChange","ngModel"],["name","dataModel.actionSendSmsToAreaEstateAgent",3,"ngModelChange","ngModel"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(e,i){if(e&1){let t=I();r(0,"div",2),C(1,"app-progress-spinner",3),r(2,"div",4)(3,"p",5),c(4),a(),r(5,"p"),c(6),_(7,"translate"),a(),r(8,"form",6,0),E("ngSubmit",function(){return u(t),f(i.onFormSubmit())}),r(10,"div",7)(11,"div",8),C(12,"br"),r(13,"mat-slide-toggle",9),w("ngModelChange",function(h){return u(t),T(i.dataModel.actionSendSmsToMe,h)||(i.dataModel.actionSendSmsToMe=h),f(h)}),c(14),_(15,"translate"),a()(),r(16,"div",8),C(17,"br"),r(18,"mat-slide-toggle",10),w("ngModelChange",function(h){return u(t),T(i.dataModel.actionSendSmsToEstateAgent,h)||(i.dataModel.actionSendSmsToEstateAgent=h),f(h)}),c(19),_(20,"translate"),a()(),r(21,"div",8),C(22,"br"),r(23,"mat-slide-toggle",11),w("ngModelChange",function(h){return u(t),T(i.dataModel.actionSendSmsToEstateAgency,h)||(i.dataModel.actionSendSmsToEstateAgency=h),f(h)}),c(24),_(25,"translate"),a()(),r(26,"div",8),C(27,"br"),r(28,"mat-slide-toggle",12),w("ngModelChange",function(h){return u(t),T(i.dataModel.actionSendSmsToEstateCustomer,h)||(i.dataModel.actionSendSmsToEstateCustomer=h),f(h)}),c(29),_(30,"translate"),a()(),C(31,"hr"),S(32,lz,11,8,"div",13),r(33,"div",8),C(34,"br"),r(35,"mat-slide-toggle",14),w("ngModelChange",function(h){return u(t),T(i.dataModel.actionSendSmsToCustomerOrder,h)||(i.dataModel.actionSendSmsToCustomerOrder=h),f(h)}),c(36),_(37,"translate"),a()(),r(38,"div",8),c(39),_(40,"translate"),C(41,"br"),r(42,"textarea",15,1),w("ngModelChange",function(h){return u(t),T(i.dataModel.actionSendSmsToContactNumber,h)||(i.dataModel.actionSendSmsToContactNumber=h),f(h)}),a()()(),r(44,"div",16)(45,"div",17)(46,"small",18),c(47),a(),r(48,"small",19),c(49),a()()(),r(50,"div",20),S(51,sz,9,7,"div",21),a()()()()}e&2&&(o(),d("optionsInfoAreaId",i.constructorInfoAreaId),o(3),y(" ",i.formInfo.formTitle," "),o(2),y(" ",g(7,19,"TITLE.Be_Careful_When_Entering_Information")," "),o(7),b("ngModel",i.dataModel.actionSendSmsToMe),o(),y(" ",g(15,21,"ACTION.SEND_TO_ME")," "),o(4),b("ngModel",i.dataModel.actionSendSmsToEstateAgent),o(),y(" ",g(20,23,"ACTION.SEND_TO_ESTATE")," "),o(4),b("ngModel",i.dataModel.actionSendSmsToEstateAgency),o(),y(" ",g(25,25,"ACTION.SEND_TO_AGENCY")," "),o(4),b("ngModel",i.dataModel.actionSendSmsToEstateCustomer),o(),y(" ",g(30,27,"ACTION.SEND_TO_CLIENT")," "),o(3),d("ngIf",i.dataModelProperty.linkLocationId&&i.dataModelProperty.linkLocationId>0),o(3),b("ngModel",i.dataModel.actionSendSmsToCustomerOrder),o(),y(" ",g(37,29,"TITLE.SMS_to_the_list_of_applicants_for_this_property")," "),o(3),y(" ",g(40,31,"TITLE.Send_link_message_to_the_special_number")," "),o(3),b("ngModel",i.dataModel.actionSendSmsToContactNumber),o(5),y("",i.formInfo.formAlert," "),o(2),y("",i.formInfo.formError," "),o(2),d("ngIf",i.formInfo.formSubmitAllow))},dependencies:[N,ke,Y,q,Te,Ae,ce,Pe,Q,gt,U,O],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}.text-line[_ngcontent-%COMP%]{background-color:transparent;outline:none;outline-style:none;border-top:none;border-left:none;border-right:none;border-bottom:solid #eeeeee 1px;padding:3px 10px}"]});var vd=Sd;var dz=["*"];function cz(n,l){if(n&1&&(r(0,"label",13),c(1),a()),n&2){let e=m();d("for",ve("app-cms-site-selector-",e.id)),o(),M(e.optionLabel)}}function pz(n,l){if(n&1&&(C(0,"img",14),_(1,"cmsthumbnail")),n&2){let e=m();d("src",x(g(1,2,e.dataModelSelect==null?null:e.dataModelSelect.linkMainImageIdSrc)),j)}}function mz(n,l){if(n&1&&(C(0,"img",14),_(1,"cmsthumbnail")),n&2){let e=m().$implicit;d("src",x(g(1,2,e.linkMainImageIdSrc)),j)}}function uz(n,l){if(n&1&&(r(0,"mat-option",15),S(1,mz,2,4,"img",5),r(2,"span"),c(3),a()()),n&2){let e=l.$implicit,i=m();d("value",e)("disabled",i.optionDisabled),o(),d("ngIf",e.linkMainImageIdSrc),o(2),M(i.displayOption(e))}}function fz(n,l){n&1&&C(0,"i",16)}function _z(n,l){n&1&&C(0,"i",17)}function gz(n,l){if(n&1){let e=I();r(0,"i",18),E("click",function(){u(e);let t=m();return f(t.onActionSelectClear())}),a()}}function hz(n,l){n&1&&(r(0,"em"),c(1),_(2,"translate"),a()),n&2&&(o(),y("(",g(2,1,"TITLE.Necessary"),")"))}var la=class la{constructor(l,e,i,t,s,h){this.coreEnumService=l;this.cmsToastrService=e;this.cdr=i;this.publicHelper=t;this.translate=s;this.contentService=h;this.id=++la.nextId;this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new G;this.dataModelSelect=new Vn;this.formControl=new Ct;this.optionPlaceholder="";this.optionLabel="";this.optionSelectFirstItem=!1;this.optionDisabled=!1;this.optionRequired=!1;this.optionChange=new Xe;this.optionReload=()=>this.onActionButtonReload();this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(l){this.onActionSelectForce(l)}ngOnInit(){this.loadOptions()}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(Kt(""),Yt(1500),Ii(),Zt(l=>typeof l=="string"||typeof l=="number"?this.DataGetAll(l||""):[]))}displayFn(l){return l?l.title:void 0}displayOption(l){return l?l.title:void 0}DataGetAll(l){return re(this,null,function*(){let e=new xa;e.rowPerPage=20,e.accessLoad=!0;let i=new H;i.propertyName="Title",i.value=l,i.searchType=Oe.Contains,i.clauseType=Ve.Or,e.filters.push(i),l&&typeof l=="string"&&l.length>0&&(i=new H,i.propertyName="Id",i.value=l,i.searchType=Oe.Equal,i.clauseType=Ve.Or,e.filters.push(i));let t=this.constructor.name+"main";return this.translate.get("MESSAGE.Receiving_information").subscribe(s=>{this.publicHelper.processService.processStart(t,s,this.constructorInfoAreaId)}),Ei(this.contentService.ServiceGetAll(e)).then(s=>(this.dataModelResult=s,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||this.dataModelSelect.id.length<=0)&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0])},1e3),this.onActionSelect(this.dataModelResult.listItems[0])),this.publicHelper.processService.processStop(t),s.listItems))})}onActionSelect(l){this.dataModelSelect=l,this.optionChange.emit(this.dataModelSelect)}onActionSelectClear(){this.dataModelSelect.linkMainImageIdSrc="",this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null)}push(l){return this.filteredOptions.pipe(Lt(e=>(e.find(i=>i.id===l.id)||e.push(l),e)))}onActionSelectForce(l){if(typeof l=="string"&&l.length>0){this.contentService.ServiceGetOneById(l).subscribe({next:e=>{e.isSuccess?(this.filteredOptions=this.push(e.item),this.dataModelSelect=e.item,this.formControl.setValue(e.item)):this.cmsToastrService.typeErrorMessage(e.errorMessage)}});return}if(typeof l==typeof Vn){this.filteredOptions=this.push(l),this.dataModelSelect=l,this.formControl.setValue(l);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new Vn,this.loadOptions()}};la.nextId=0,la.\u0275fac=function(e){return new(e||la)(v(J),v(V),v(B),v(F),v(L),v(_n))},la.\u0275cmp=R({type:la,selectors:[["app-estate-property-project-selector"]],inputs:{optionPlaceholder:"optionPlaceholder",optionLabel:"optionLabel",optionSelectFirstItem:"optionSelectFirstItem",optionDisabled:"optionDisabled",optionRequired:"optionRequired",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange"},standalone:!1,ngContentSelectors:dz,decls:16,vars:19,consts:[["matauto","matAutocomplete"],[1,"input-style","has-borders","has-icon","input-style-always-active","validate-field","mb-4","loader-container"],[3,"optionsInfoAreaId"],["class","color-highlight",3,"for",4,"ngIf"],["matPrefix",""],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","25","width","25",3,"src",4,"ngIf"],["type","text","aria-label","Assignee","matInput","",3,"placeholder","formControl","matAutocomplete","required","id"],[3,"optionSelected","displayWith"],[3,"value","disabled",4,"ngFor","ngForOf"],["class","fa fa-info  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],["class","fa fa-times  action color-red-dark",3,"click",4,"ngIf"],[4,"ngIf"],[1,"color-highlight",3,"for"],["aria-hidden","","height","25","width","25",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"value","disabled"],[1,"fa","fa-info","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"fa","fa-times","action","color-red-dark",3,"click"]],template:function(e,i){if(e&1){let t=I();gi(),r(0,"div",1),C(1,"app-progress-spinner",2),S(2,cz,2,3,"label",3),r(3,"span",4),S(4,pz,2,4,"img",5),c(5," \xA0"),a(),C(6,"input",6),r(7,"mat-autocomplete",7,0),E("optionSelected",function(h){return u(t),f(i.onActionSelect(h.option.value))}),S(9,uz,4,4,"mat-option",8),_(10,"async"),a(),S(11,fz,1,0,"i",9)(12,_z,1,0,"i",10)(13,gz,1,0,"i",11)(14,hz,3,3,"em",12),ai(15),a()}if(e&2){let t=k(8);o(),d("optionsInfoAreaId",i.constructorInfoAreaId),o(),d("ngIf",(i.optionLabel==null?null:i.optionLabel.length)>0),o(2),d("ngIf",i.dataModelSelect&&(i.dataModelSelect==null?null:i.dataModelSelect.linkMainImageIdSrc)),o(2),d("placeholder",x(i.optionPlaceholder))("id",ve("app-cms-site-selector-",i.id))("formControl",i.formControl)("matAutocomplete",t)("required",i.optionRequired),yt("disabled",i.optionDisabled?!0:null),o(),d("displayWith",i.displayFn),o(2),d("ngForOf",g(10,17,i.filteredOptions)),o(2),d("ngIf",!i.formControl.valid),o(),d("ngIf",i.optionRequired&&i.formControl.valid),o(),d("ngIf",(i.dataModelSelect==null||i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0),o(),d("ngIf",i.optionRequired&&(!i.dataModelSelect||!i.dataModelSelect.id||(i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)===0))}},dependencies:[Ne,N,Y,q,de,Wt,ti,ei,ii,zi,Q,U,He,O,Ie],encapsulation:2});var Ed=la;var yz=["vform"],Cz=()=>["descriptionDetail"];function Sz(n,l){n&1&&(r(0,"p"),c(1),_(2,"translate"),a()),n&2&&(o(),y(" ",g(2,1,"TITLE.Property_Type")))}function vz(n,l){if(n&1){let e=I();r(0,"div",69)(1,"a",70),E("click",function(){let t=u(e).$implicit,s=m(2);return f(s.onActionSelectorSelectLanduse(t))}),c(2),a()()}if(n&2){let e=l.$implicit,i=m(2);o(),d("ngClass",e.id===i.dataModel.linkPropertyTypeLanduseId?"btn font-13 font-600 btn-s m-1 rounded-xl shadow-xl border-0 gradient-highlight btn-full":"btn font-13 font-600 btn-s m-1 rounded-xl shadow-xl border-blue-dark color-blue-dark bg-theme btn-border btn-full"),yt("disabled",i.fieldsInfo.linkPropertyTypeLanduseId!=null&&i.fieldsInfo.linkPropertyTypeLanduseId.accessAddField?null:!0),o(),M(e.titleML)}}function Ez(n,l){if(n&1&&(r(0,"div",67),S(1,vz,3,3,"div",68),a()),n&2){let e=m();o(),d("ngForOf",e.listTypeLanduse)}}function Iz(n,l){if(n&1){let e=I();r(0,"app-estate-property-type-landuse-selector",71),_(1,"translate"),E("optionChange",function(t){u(e);let s=m();return f(s.onActionSelectorSelectLanduse(t))}),a()}if(n&2){let e=m();d("optionDisabled",!(e.fieldsInfo.linkPropertyTypeLanduseId!=null&&e.fieldsInfo.linkPropertyTypeLanduseId.accessAddField))("optionTypeView",2)("optionSelectForce",e.dataModel.linkPropertyTypeLanduseId)("optionPlaceholder",g(1,5,"TITLE.Property_Type"))("optionTypeUsageId",e.dataModel.linkPropertyTypeUsageId)}}function Mz(n,l){if(n&1){let e=I();r(0,"div",79)(1,"div",80)(2,"h5",81),c(3),_(4,"translate"),a()(),r(5,"div",82)(6,"div",83)(7,"input",84),w("ngModelChange",function(t){u(e);let s=m(2);return T(s.dataProfessional,t)||(s.dataProfessional=t),f(t)}),a(),C(8,"label",85),a()()()}if(n&2){let e=m(2);o(3),y(" ",g(4,2,"TITLE.Would_you_like_to_complete_your_information")),o(4),b("ngModel",e.dataProfessional)}}function bz(n,l){if(n&1){let e=I();r(0,"app-cms-enum-record-status-selector",86),w("modelChange",function(t){u(e);let s=m(2);return T(s.dataModel.recordStatus,t)||(s.dataModel.recordStatus=t),f(t)}),a()}if(n&2){let e=m(2);b("model",e.dataModel.recordStatus),d("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Tz(n,l){n&1&&C(0,"i",90)}function wz(n,l){n&1&&C(0,"i",91)}function xz(n,l){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),_(4,"translate"),a()()),n&2){let e=m(3);o(),y(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," "),o(2),M(g(4,2,"MESSAGE.required"))}}function Az(n,l){if(n&1){let e=I();r(0,"mat-icon",92),E("click",function(){u(e);let t=m(3);return f(t.onActionButtonQuickListSearchTitle())}),c(1,"find_replace"),a()}}function Pz(n,l){if(n&1){let e=I();r(0,"div",52)(1,"label",87),c(2),a(),r(3,"input",88,4),w("ngModelChange",function(t){u(e);let s=m(2);return T(s.dataModel.title,t)||(s.dataModel.title=t),f(t)}),a(),S(5,Tz,1,0,"i",77)(6,wz,1,0,"i",78),r(7,"em"),c(8),a(),S(9,xz,5,4,"mat-error",33)(10,Az,2,0,"mat-icon",89),a()}if(n&2){let e=k(4),i=m(2);o(2),M(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(),d("placeholder",x(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle))("disabled",x(!(i.fieldsInfo.title!=null&&i.fieldsInfo.title.accessAddField))),b("ngModel",i.dataModel.title),o(2),d("ngIf",!e.value),o(),d("ngIf",e.value),o(2),y("",e.value.length," / 100"),o(),d("ngIf",e.errors==null?null:e.errors.required),o(),d("ngIf",i.dataModel.title)}}function kz(n,l){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),_(4,"translate"),a()()),n&2){let e=m(3);o(),y(" ",e.fieldsInfo.caseCode==null?null:e.fieldsInfo.caseCode.fieldTitle," "),o(2),M(g(4,2,"MESSAGE.required"))}}function Dz(n,l){if(n&1){let e=I();r(0,"div",52)(1,"label",93),c(2),a(),r(3,"input",94,5),w("ngModelChange",function(t){u(e);let s=m(2);return T(s.dataModel.caseCode,t)||(s.dataModel.caseCode=t),f(t)}),a(),r(5,"em"),c(6),a(),S(7,kz,5,4,"mat-error",33),a()}if(n&2){let e=k(4),i=m(2);o(2),M(i.fieldsInfo.caseCode==null?null:i.fieldsInfo.caseCode.fieldTitle),o(),d("placeholder",x(i.fieldsInfo.caseCode==null?null:i.fieldsInfo.caseCode.fieldTitle))("disabled",x(!(i.fieldsInfo.caseCode!=null&&i.fieldsInfo.caseCode.accessAddField))),b("ngModel",i.dataModel.caseCode),o(3),y("",e.value.length," / 100"),o(),d("ngIf",e.errors==null?null:e.errors.required)}}function Rz(n,l){if(n&1){let e=I();r(0,"div",79)(1,"div",80)(2,"h5",95),c(3),a()(),r(4,"div",82)(5,"div",83)(6,"input",96),w("ngModelChange",function(t){u(e);let s=m(2);return T(s.dataModel.viewConfigHiddenInList,t)||(s.dataModel.viewConfigHiddenInList=t),f(t)}),a(),C(7,"label",97),a()()()}if(n&2){let e=m(2);o(3),M(e.fieldsInfo.viewConfigHiddenInList==null?null:e.fieldsInfo.viewConfigHiddenInList.fieldTitle),o(3),b("ngModel",e.dataModel.viewConfigHiddenInList)}}function Lz(n,l){if(n&1){let e=I();r(0,"div",52)(1,"label",98),c(2),a(),r(3,"input",99,6),w("ngModelChange",function(t){u(e);let s=m(2);return T(s.dataModel.createdYaer,t)||(s.dataModel.createdYaer=t),f(t)}),a()()}if(n&2){let e=m(2);o(2),y(" ",e.PropertyTypeSelected.titleCreatedYaer),o(),d("placeholder",x(e.fieldsInfo.createdYaer==null?null:e.fieldsInfo.createdYaer.fieldTitle)),b("ngModel",e.dataModel.createdYaer)}}function Vz(n,l){if(n&1){let e=I();r(0,"div",52)(1,"label",100),c(2),a(),r(3,"input",101,7),w("ngModelChange",function(t){u(e);let s=m(2);return T(s.dataModel.partition,t)||(s.dataModel.partition=t),f(t)}),a()()}if(n&2){let e=m(2);o(2),y("",e.PropertyTypeSelected.titlePartition," "),o(),d("placeholder",x(e.PropertyTypeSelected.titlePartition)),b("ngModel",e.dataModel.partition)}}function Oz(n,l){if(n&1){let e=I();r(0,"div",52)(1,"label",102),c(2),a(),r(3,"input",103,8),w("ngModelChange",function(t){u(e);let s=m(2);return T(s.dataModel.area,t)||(s.dataModel.area=t),f(t)}),a()()}if(n&2){let e=m(2);o(2),y("",e.fieldsInfo.area==null?null:e.fieldsInfo.area.fieldTitle," "),o(),d("disabled",x(!(e.fieldsInfo.area!=null&&e.fieldsInfo.area.accessAddField)))("placeholder",x(e.fieldsInfo.area==null?null:e.fieldsInfo.area.fieldTitle)),b("ngModel",e.dataModel.area)}}function Fz(n,l){if(n&1){let e=I();r(0,"div",52)(1,"label",104),c(2),a(),r(3,"textarea",105,9),w("ngModelChange",function(t){u(e);let s=m(2);return T(s.dataModel.address,t)||(s.dataModel.address=t),f(t)}),c(5,"                 "),a(),r(6,"em"),c(7),a()()}if(n&2){let e=k(4),i=m(2);o(2),M(i.fieldsInfo.address==null?null:i.fieldsInfo.address.fieldTitle),o(),d("placeholder",x(i.fieldsInfo.address==null?null:i.fieldsInfo.address.fieldTitle)),b("ngModel",i.dataModel.address),d("disabled",!(i.fieldsInfo.address!=null&&i.fieldsInfo.address.accessAddField)),o(4),y("",e.value.length," / 500")}}function Bz(n,l){n&1&&C(0,"i",90)}function Nz(n,l){n&1&&C(0,"i",91)}function Hz(n,l){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),_(4,"translate"),a()()),n&2){let e=m(2);o(),y(" ",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle," "),o(2),M(g(4,2,"MESSAGE.required"))}}function Wz(n,l){if(n&1&&(r(0,"button",109),c(1),_(2,"translate"),a()),n&2){m(3);let e=k(10);d("disabled",!e.form.valid),o(),y(" ",g(2,2,"ACTION.NEXT")," ")}}function Gz(n,l){if(n&1){let e=I();r(0,"div",106)(1,"button",107),E("click",function(){u(e);let t=m(2);return f(t.onActionBackToParent())}),c(2),_(3,"translate"),a(),S(4,Wz,3,4,"button",108),a()}if(n&2){let e=m(2);o(2),y(" ",g(3,2,"ACTION.CANCEL")," "),o(2),d("ngIf",e.dataModel.linkPropertyTypeUsageId&&e.dataModel.linkPropertyTypeUsageId.length>0)}}function Uz(n,l){if(n&1){let e=I();r(0,"div"),S(1,Mz,9,4,"div",72),C(2,"br"),S(3,bz,1,5,"app-cms-enum-record-status-selector",73)(4,Pz,11,11,"div",39)(5,Dz,8,8,"div",39)(6,Rz,8,2,"div",72)(7,Lz,5,4,"div",39)(8,Vz,5,4,"div",39)(9,Oz,5,6,"div",39),r(10,"app-cms-location-selector",74),_(11,"translate"),E("optionChange",function(t){u(e);let s=m();return f(s.onActionSelectorLocation(t))}),a(),S(12,Fz,8,6,"div",39),r(13,"div",52)(14,"label",75),c(15),_(16,"translate"),a(),r(17,"textarea",76,3),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.description,t)||(s.dataModel.description=t),f(t)}),c(19,"                    "),a(),r(20,"em"),c(21),a(),S(22,Bz,1,0,"i",77)(23,Nz,1,0,"i",78)(24,Hz,5,4,"mat-error",33),a(),S(25,Gz,5,4,"div",41),a()}if(n&2){let e=k(18),i=m();o(),d("ngIf",i.tokenHelper.isAdminSite||i.tokenHelper.isSupportSite),o(2),d("ngIf",i.dataProfessional&&(i.fieldsInfo.recordStatus==null?null:i.fieldsInfo.recordStatus.accessWatchField)),o(),d("ngIf",i.fieldsInfo.title==null?null:i.fieldsInfo.title.accessWatchField),o(),d("ngIf",i.fieldsInfo.caseCode==null?null:i.fieldsInfo.caseCode.accessWatchField),o(),d("ngIf",i.tokenHelper.isAdminSite||i.tokenHelper.isSupportSite),o(),d("ngIf",i.dataModel.linkPropertyTypeLanduseId&&i.PropertyTypeSelected.titleCreatedYaer.length>1&&i.PropertyTypeSelected.titleCreatedYaer!=="---"),o(),d("ngIf",i.dataModel.linkPropertyTypeLanduseId&&i.PropertyTypeSelected.titlePartition.length>1&&i.PropertyTypeSelected.titlePartition!=="---"),o(),d("ngIf",i.fieldsInfo.area==null?null:i.fieldsInfo.area.accessWatchField),o(),d("optionDisabled",!(i.fieldsInfo.linkLocationId!=null&&i.fieldsInfo.linkLocationId.accessAddField))("optionSelectForce",i.dataModel.linkLocationId)("optionPlaceholder",g(11,21,"TITLE.Region")),o(2),d("ngIf",i.fieldsInfo.address==null?null:i.fieldsInfo.address.accessWatchField),o(3),M(g(16,23,"TITLE.General_Description")),o(2),d("placeholder",x(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle)),b("ngModel",i.dataModel.description),o(4),y("",e.value.length," / 2000"),o(),d("ngIf",!e.value),o(),d("ngIf",e.value),o(),d("ngIf",e.errors==null?null:e.errors.required),o(),d("ngIf",i.formInfo.formSubmitAllow)}}function jz(n,l){if(n&1){let e=I();r(0,"div",52)(1,"label",87),c(2),a(),r(3,"input",110,10),w("ngModelChange",function(t){u(e);let s=m(2);return T(s.dataModel.linkSiteId,t)||(s.dataModel.linkSiteId=t),f(t)}),a()()}if(n&2){let e=m(2);o(2),M(e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle),o(),d("placeholder",x(e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle))("disabled",x(!(e.fieldsInfo.linkSiteId!=null&&e.fieldsInfo.linkSiteId.accessAddField))),b("ngModel",e.dataModel.linkSiteId)}}function qz(n,l){if(n&1){let e=I();r(0,"div",79)(1,"div",80)(2,"h5",111),c(3),a()(),r(4,"div",82)(5,"div",83)(6,"input",112),w("ngModelChange",function(t){u(e);let s=m(2);return T(s.dataModel.viewContentHidden,t)||(s.dataModel.viewContentHidden=t),f(t)}),a(),C(7,"label",113),a()()()}if(n&2){let e=m(2);o(3),M(e.fieldsInfo.viewContentHidden==null?null:e.fieldsInfo.viewContentHidden.fieldTitle),o(3),b("ngModel",e.dataModel.viewContentHidden)}}function Qz(n,l){if(n&1){let e=I();r(0,"div",79)(1,"div",80)(2,"h5",114),c(3),a()(),r(4,"div",82)(5,"div",83)(6,"input",115),w("ngModelChange",function(t){u(e);let s=m(2);return T(s.dataModel.siteAdminViewContentHidden,t)||(s.dataModel.siteAdminViewContentHidden=t),f(t)}),a(),C(7,"label",116),a()()()}if(n&2){let e=m(2);o(3),y(" ",e.fieldsInfo.siteAdminViewContentHidden==null?null:e.fieldsInfo.siteAdminViewContentHidden.fieldTitle),o(3),b("ngModel",e.dataModel.siteAdminViewContentHidden)}}function zz(n,l){if(n&1){let e=I();r(0,"app-cms-enum-record-status-selector",86),w("modelChange",function(t){u(e);let s=m(2);return T(s.dataModel.mainAdminRecordStatus,t)||(s.dataModel.mainAdminRecordStatus=t),f(t)}),a()}if(n&2){let e=m(2);b("model",e.dataModel.mainAdminRecordStatus),d("optionDisabled",!1)("optionLabel",e.fieldsInfo.mainAdminRecordStatus==null?null:e.fieldsInfo.mainAdminRecordStatus.fieldTitle)("optionRequired",!1)("optionSelectFirstItem",!0)}}function Yz(n,l){if(n&1){let e=I();r(0,"div")(1,"div",117)(2,"label",118),c(3),a(),C(4,"i",119)(5,"i",120),r(6,"input",121,11),w("ngModelChange",function(t){u(e);let s=m(2);return T(s.dataModel.scoreEstateLocation,t)||(s.dataModel.scoreEstateLocation=t),f(t)}),a()(),r(8,"div",117)(9,"label",122),c(10),a(),C(11,"i",119)(12,"i",120),r(13,"input",123,12),w("ngModelChange",function(t){u(e);let s=m(2);return T(s.dataModel.scoreEstateBuild,t)||(s.dataModel.scoreEstateBuild=t),f(t)}),a()(),r(15,"div",117)(16,"label",124),c(17),a(),C(18,"i",119)(19,"i",120),r(20,"input",125,13),w("ngModelChange",function(t){u(e);let s=m(2);return T(s.dataModel.scoreEstatePrice,t)||(s.dataModel.scoreEstatePrice=t),f(t)}),a()()()}if(n&2){let e=m(2);o(3),M(e.fieldsInfo.scoreEstateLocation==null?null:e.fieldsInfo.scoreEstateLocation.fieldTitle),o(3),d("ngClass",ve("cms-range-score-",e.dataModel.scoreEstateLocation)),b("ngModel",e.dataModel.scoreEstateLocation),d("disabled",!(e.fieldsInfo.scoreEstateLocation!=null&&e.fieldsInfo.scoreEstateLocation.accessEditField)),o(4),M(e.fieldsInfo.scoreEstateBuild==null?null:e.fieldsInfo.scoreEstateBuild.fieldTitle),o(3),d("ngClass",ve("cms-range-score-",e.dataModel.scoreEstateBuild)),b("ngModel",e.dataModel.scoreEstateBuild),d("disabled",!(e.fieldsInfo.scoreEstateBuild!=null&&e.fieldsInfo.scoreEstateBuild.accessEditField)),o(4),M(e.fieldsInfo.scoreEstatePrice==null?null:e.fieldsInfo.scoreEstatePrice.fieldTitle),o(3),d("ngClass",ve("cms-range-score-",e.dataModel.scoreEstatePrice)),b("ngModel",e.dataModel.scoreEstatePrice),d("disabled",!(e.fieldsInfo.scoreEstatePrice!=null&&e.fieldsInfo.scoreEstatePrice.accessEditField))}}function Kz(n,l){if(n&1&&(r(0,"button",109),c(1),_(2,"translate"),a()),n&2){m(3);let e=k(10);d("disabled",!e.form.valid),o(),y(" ",g(2,2,"ACTION.NEXT")," ")}}function Zz(n,l){if(n&1&&(r(0,"div",106)(1,"button",126),c(2),_(3,"translate"),a(),S(4,Kz,3,4,"button",108),a()),n&2){let e=m(2);o(2),y(" ",g(3,2,"ACTION.BEFOR")," "),o(2),d("ngIf",e.dataModel.linkPropertyTypeUsageId&&e.dataModel.linkPropertyTypeUsageId.length>0)}}function Jz(n,l){if(n&1&&(r(0,"mat-step",31),_(1,"translate"),S(2,jz,5,6,"div",39)(3,qz,8,2,"div",72)(4,Qz,8,2,"div",72)(5,zz,1,5,"app-cms-enum-record-status-selector",73)(6,Yz,22,15,"div",33)(7,Zz,5,4,"div",41),a()),n&2){let e=m();d("label",x(g(1,8,"TITLE.Admin_Config"))),o(2),d("ngIf",(e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.accessWatchField)&&e.tokenHelper.isAdminSite),o(),d("ngIf",e.fieldsInfo.viewContentHidden==null?null:e.fieldsInfo.viewContentHidden.accessWatchField),o(),d("ngIf",e.tokenHelper.isAdminSite||e.tokenHelper.isSupportSite),o(),d("ngIf",e.fieldsInfo.mainAdminRecordStatus==null?null:e.fieldsInfo.mainAdminRecordStatus.accessWatchField),o(),d("ngIf",e.tokenHelper.isAdminSite||e.tokenHelper.isSupportSite),o(),d("ngIf",e.formInfo.formSubmitAllow)}}function Xz(n,l){if(n&1){let e=I();r(0,"app-estate-account-agency-selector",127),_(1,"translate"),E("optionChange",function(t){u(e);let s=m();return f(s.onActionSelectorEstateAgency(t))}),a()}if(n&2){let e=m();d("optionDisabled",!(e.fieldsInfo.linkEstateAgencyId!=null&&e.fieldsInfo.linkEstateAgencyId.accessAddField))("optionSelectForce",e.dataModel.linkEstateAgencyId)("optionSelectUserId",e.tokenInfo.access.userId)("optionPlaceholder",g(1,4,"TITLE.Property_agency"))}}function $z(n,l){if(n&1){let e=I();r(0,"app-estate-account-expert-selector",74),_(1,"translate"),E("optionChange",function(t){u(e);let s=m();return f(s.onActionSelectorEstateUser(t))}),a()}if(n&2){let e=m();d("optionDisabled",!(e.fieldsInfo.linkEstateExpertId!=null&&e.fieldsInfo.linkEstateExpertId.accessAddField))("optionSelectForce",e.dataModel.linkEstateExpertId)("optionPlaceholder",g(1,3,"TITLE.Property_personnel"))}}function eY(n,l){if(n&1){let e=I();r(0,"div",52)(1,"label",128),c(2),a(),r(3,"input",129,14),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.aboutAgentMobile,t)||(s.dataModel.aboutAgentMobile=t),f(t)}),a(),r(5,"em"),c(6),a()()}if(n&2){let e=k(4),i=m();o(2),M(i.fieldsInfo.aboutAgentMobile==null?null:i.fieldsInfo.aboutAgentMobile.fieldTitle),o(),d("placeholder",x(i.fieldsInfo.aboutAgentMobile==null?null:i.fieldsInfo.aboutAgentMobile.fieldTitle))("disabled",x(!(i.fieldsInfo.aboutAgentMobile!=null&&i.fieldsInfo.aboutAgentMobile.accessAddField))),b("ngModel",i.dataModel.aboutAgentMobile),o(3),y("",e.value.length," / 100")}}function tY(n,l){if(n&1){let e=I();r(0,"div",52)(1,"label",130),c(2),a(),r(3,"input",131,15),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.aboutAgentTel,t)||(s.dataModel.aboutAgentTel=t),f(t)}),a(),r(5,"em"),c(6),a()()}if(n&2){let e=k(4),i=m();o(2),M(i.fieldsInfo.aboutAgentTel==null?null:i.fieldsInfo.aboutAgentTel.fieldTitle),o(),d("placeholder",x(i.fieldsInfo.aboutAgentTel==null?null:i.fieldsInfo.aboutAgentTel.fieldTitle))("disabled",x(!(i.fieldsInfo.aboutAgentTel!=null&&i.fieldsInfo.aboutAgentTel.accessAddField))),b("ngModel",i.dataModel.aboutAgentTel),o(3),y("",e.value.length," / 100")}}function iY(n,l){if(n&1){let e=I();r(0,"mat-icon",92),E("click",function(){u(e);let t=m(2);return f(t.onActionButtonQuickListSearchCustomerMobile())}),c(1,"find_replace"),a()}}function nY(n,l){if(n&1){let e=I();r(0,"div",52)(1,"label",132),c(2),a(),r(3,"input",133,16),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.aboutCustomerMobile,t)||(s.dataModel.aboutCustomerMobile=t),f(t)}),a(),r(5,"em"),c(6),a(),S(7,iY,2,0,"mat-icon",89),a()}if(n&2){let e=k(4),i=m();o(2),M(i.fieldsInfo.aboutCustomerMobile==null?null:i.fieldsInfo.aboutCustomerMobile.fieldTitle),o(),d("placeholder",x(i.fieldsInfo.aboutCustomerMobile==null?null:i.fieldsInfo.aboutCustomerMobile.fieldTitle))("disabled",x(!(i.fieldsInfo.aboutCustomerMobile!=null&&i.fieldsInfo.aboutCustomerMobile.accessAddField))),b("ngModel",i.dataModel.aboutCustomerMobile),o(3),y("",e.value.length," / 100"),o(),d("ngIf",i.dataModel.aboutCustomerMobile)}}function oY(n,l){if(n&1){let e=I();r(0,"mat-icon",92),E("click",function(){u(e);let t=m(2);return f(t.onActionButtonQuickListSearchCustomerTel())}),c(1,"find_replace"),a()}}function rY(n,l){if(n&1){let e=I();r(0,"div",52)(1,"label",134),c(2),a(),r(3,"input",135,17),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.aboutCustomerTel,t)||(s.dataModel.aboutCustomerTel=t),f(t)}),a(),r(5,"em"),c(6),a(),S(7,oY,2,0,"mat-icon",89),a()}if(n&2){let e=k(4),i=m();o(2),M(i.fieldsInfo.aboutCustomerTel==null?null:i.fieldsInfo.aboutCustomerTel.fieldTitle),o(),d("placeholder",x(i.fieldsInfo.aboutCustomerTel==null?null:i.fieldsInfo.aboutCustomerTel.fieldTitle))("disabled",x(!(i.fieldsInfo.aboutCustomerTel!=null&&i.fieldsInfo.aboutCustomerTel.accessAddField))),b("ngModel",i.dataModel.aboutCustomerTel),o(3),y("",e.value.length," / 100"),o(),d("ngIf",i.dataModel.aboutCustomerTel)}}function aY(n,l){if(n&1){let e=I();r(0,"app-cms-user-selector",74),_(1,"translate"),E("optionChange",function(t){u(e);let s=m(2);return f(s.onActionSelectorCmsUser(t))}),a()}if(n&2){let e=m(2);d("optionDisabled",!(e.fieldsInfo.linkCmsUserId!=null&&e.fieldsInfo.linkCmsUserId.accessAddField))("optionSelectForce",e.dataModel.linkCmsUserId)("optionPlaceholder",g(1,3,"TITLE.user"))}}function lY(n,l){n&1&&C(0,"i",90)}function sY(n,l){n&1&&C(0,"i",91)}function dY(n,l){n&1&&(r(0,"mat-error")(1,"strong"),c(2),_(3,"translate"),a()()),n&2&&(o(2),M(g(3,1,"MESSAGE.required")))}function cY(n,l){if(n&1){let e=I();r(0,"div",52)(1,"label",141),c(2),_(3,"translate"),a(),r(4,"input",142,18),_(6,"translate"),w("ngModelChange",function(t){u(e);let s=m(2);return T(s.dataModel.actionCreateNewCmsUserFirstName,t)||(s.dataModel.actionCreateNewCmsUserFirstName=t),f(t)}),a(),S(7,lY,1,0,"i",77)(8,sY,1,0,"i",78),r(9,"em"),c(10),a(),S(11,dY,4,3,"mat-error",33),a()}if(n&2){let e=k(5),i=m(2);o(2),M(g(3,8,"TITLE.FIRST_NAME")),o(2),d("placeholder",x(g(6,10,"TITLE.FIRST_NAME"))),b("ngModel",i.dataModel.actionCreateNewCmsUserFirstName),o(3),d("ngIf",!e.value),o(),d("ngIf",e.value),o(2),y("",e.value.length," / 50"),o(),d("ngIf",e.errors==null?null:e.errors.required)}}function pY(n,l){n&1&&C(0,"i",90)}function mY(n,l){n&1&&C(0,"i",91)}function uY(n,l){n&1&&(r(0,"mat-error")(1,"strong"),c(2),_(3,"translate"),a()()),n&2&&(o(2),M(g(3,1,"MESSAGE.required")))}function fY(n,l){if(n&1){let e=I();r(0,"div",52)(1,"label",143),c(2),_(3,"translate"),a(),r(4,"input",144,19),_(6,"translate"),w("ngModelChange",function(t){u(e);let s=m(2);return T(s.dataModel.actionCreateNewCmsUserLastName,t)||(s.dataModel.actionCreateNewCmsUserLastName=t),f(t)}),a(),S(7,pY,1,0,"i",77)(8,mY,1,0,"i",78),r(9,"em"),c(10),a(),S(11,uY,4,3,"mat-error",33),a()}if(n&2){let e=k(5),i=m(2);o(2),M(g(3,8,"TITLE.LAST_NAME")),o(2),d("placeholder",x(g(6,10,"TITLE.LAST_NAME"))),b("ngModel",i.dataModel.actionCreateNewCmsUserLastName),o(3),d("ngIf",!e.value),o(),d("ngIf",e.value),o(2),y("",e.value.length," / 50"),o(),d("ngIf",e.errors==null?null:e.errors.required)}}function _Y(n,l){n&1&&C(0,"i",90)}function gY(n,l){n&1&&C(0,"i",91)}function hY(n,l){n&1&&(r(0,"mat-error")(1,"strong"),c(2),_(3,"translate"),a()()),n&2&&(o(2),M(g(3,1,"MESSAGE.required")))}function yY(n,l){if(n&1){let e=I();r(0,"div",52)(1,"label",145),c(2),_(3,"translate"),a(),r(4,"input",146,20),w("ngModelChange",function(t){u(e);let s=m(2);return T(s.dataModel.actionCreateNewCmsUserMobile,t)||(s.dataModel.actionCreateNewCmsUserMobile=t),f(t)}),a(),S(6,_Y,1,0,"i",77)(7,gY,1,0,"i",78),r(8,"em"),c(9),a(),S(10,hY,4,3,"mat-error",33),a()}if(n&2){let e=k(5),i=m(2);o(2),M(g(3,6,"TITLE.MOBILE_NUMBER")),o(2),b("ngModel",i.dataModel.actionCreateNewCmsUserMobile),o(2),d("ngIf",!e.value),o(),d("ngIf",e.value),o(2),y("",e.value.length," / 20"),o(),d("ngIf",e.errors==null?null:e.errors.required)}}function CY(n,l){if(n&1){let e=I();r(0,"div",136)(1,"div",79)(2,"div",80)(3,"h5",137),c(4),_(5,"translate"),a()(),r(6,"div",138)(7,"div",83)(8,"input",139),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.actionCreateNewCmsUser,t)||(s.dataModel.actionCreateNewCmsUser=t),f(t)}),a(),C(9,"label",140),a()()(),S(10,aY,2,5,"app-cms-user-selector",38)(11,cY,12,12,"div",39)(12,fY,12,12,"div",39)(13,yY,11,8,"div",39),a()}if(n&2){let e=m();o(4),y("",g(5,6,"TITLE.CREATE_NEW_USER")," "),o(4),b("ngModel",e.dataModel.actionCreateNewCmsUser),o(2),d("ngIf",!e.dataModel.actionCreateNewCmsUser),o(),d("ngIf",e.dataModel.actionCreateNewCmsUser),o(),d("ngIf",e.dataModel.actionCreateNewCmsUser),o(),d("ngIf",e.dataModel.actionCreateNewCmsUser)}}function SY(n,l){if(n&1&&(r(0,"button",109),c(1),_(2,"translate"),a()),n&2){m(2);let e=k(10);d("disabled",!e.form.valid),o(),y(" ",g(2,2,"ACTION.NEXT")," ")}}function vY(n,l){if(n&1&&(r(0,"div",106)(1,"button",126),c(2),_(3,"translate"),a(),S(4,SY,3,4,"button",108),a()),n&2){let e=m();o(2),y(" ",g(3,2,"ACTION.BEFOR")," "),o(2),d("ngIf",e.dataModel.linkPropertyTypeUsageId&&e.dataModel.linkPropertyTypeUsageId.length>0)}}function EY(n,l){if(n&1){let e=I();r(0,"app-estate-property-company-selector",151),_(1,"translate"),E("optionChange",function(t){u(e);let s=m(2);return f(s.onActionSelectorCompany(t))}),a()}if(n&2){let e=m(2);d("optionSelectForce",e.dataModel.linkPropertyCompanyId)("optionPlaceholder",g(1,2,"TITLE.Company"))}}function IY(n,l){if(n&1){let e=I();r(0,"app-estate-property-project-selector",151),_(1,"translate"),E("optionChange",function(t){u(e);let s=m(2);return f(s.onActionSelectorProject(t))}),a()}if(n&2){let e=m(2);d("optionSelectForce",e.dataModel.linkPropertyProjectId)("optionPlaceholder",g(1,2,"TITLE.Project"))}}function MY(n,l){if(n&1){let e=I();r(0,"div",158),C(1,"i",159),c(2,"\xA0\xA0 "),r(3,"app-input-string",160),w("modelChange",function(t){u(e);let s=m().$implicit,h=m(3);return T(h.propertyDetails[s.id],t)||(h.propertyDetails[s.id]=t),f(t)}),a()()}if(n&2){let e=m().$implicit,i=m(3);o(),ye("color",e.iconColor),d("ngClass",e.iconFont),o(2),Vt(ve("color:'",e.iconColor,"';")),b("model",i.propertyDetails[e.id]),d("optionForceUseDefaultValue",e.configValueForceUseDefaultValue)("optionMultipleChoice",e.configValueMultipleChoice)("optionDefaultValue",e.configValueDefaultValues)("optionLabel",e.title)}}function bY(n,l){if(n&1){let e=I();r(0,"div",158),C(1,"i",159),c(2,"\xA0\xA0 "),r(3,"app-input-int",161),w("modelChange",function(t){u(e);let s=m().$implicit,h=m(3);return T(h.propertyDetails[s.id],t)||(h.propertyDetails[s.id]=t),f(t)}),a()()}if(n&2){let e=m().$implicit,i=m(3);o(),ye("color",e.iconColor),d("ngClass",e.iconFont),o(2),Vt(ve("color:'",e.iconColor,"';")),b("model",i.propertyDetails[e.id]),d("optionLabel",e.title)}}function TY(n,l){if(n&1){let e=I();r(0,"div",158),C(1,"i",159),c(2,"\xA0\xA0 "),r(3,"app-input-boolean",162),w("modelChange",function(t){u(e);let s=m().$implicit,h=m(3);return T(h.propertyDetails[s.id],t)||(h.propertyDetails[s.id]=t),f(t)}),c(4),a()()}if(n&2){let e=m().$implicit,i=m(3);o(),ye("color",e.iconColor),d("ngClass",e.iconFont),o(2),b("model",i.propertyDetails[e.id]),o(),y("",e.title," ")}}function wY(n,l){if(n&1){let e=I();r(0,"div",158),C(1,"i",159),c(2,"\xA0\xA0 "),r(3,"app-input-float",161),w("modelChange",function(t){u(e);let s=m().$implicit,h=m(3);return T(h.propertyDetails[s.id],t)||(h.propertyDetails[s.id]=t),f(t)}),a()()}if(n&2){let e=m().$implicit,i=m(3);o(),ye("color",e.iconColor),d("ngClass",e.iconFont),o(2),Vt(ve("color:'",e.iconColor,"';")),b("model",i.propertyDetails[e.id]),d("optionLabel",e.title)}}function xY(n,l){if(n&1){let e=I();r(0,"div",158),C(1,"i",159),c(2,"\xA0\xA0 "),r(3,"label"),c(4),a(),r(5,"app-input-date",162),w("modelChange",function(t){u(e);let s=m().$implicit,h=m(3);return T(h.propertyDetails[s.id],t)||(h.propertyDetails[s.id]=t),f(t)}),a()()}if(n&2){let e=m().$implicit,i=m(3);o(),ye("color",e.iconColor),d("ngClass",e.iconFont),o(2),Vt(ve("color:'",e.iconColor,"';")),o(),M(e.title),o(),b("model",i.propertyDetails[e.id])}}function AY(n,l){if(n&1){let e=I();r(0,"div",158),C(1,"i",159),c(2,"\xA0\xA0 "),r(3,"app-input-textarea",161),w("modelChange",function(t){u(e);let s=m().$implicit,h=m(3);return T(h.propertyDetails[s.id],t)||(h.propertyDetails[s.id]=t),f(t)}),a()()}if(n&2){let e=m().$implicit,i=m(3);o(),ye("color",e.iconColor),d("ngClass",e.iconFont),o(2),Vt(ve("color:'",e.iconColor,"';")),b("model",i.propertyDetails[e.id]),d("optionLabel",e.title)}}function PY(n,l){if(n&1){let e=I();r(0,"div"),C(1,"i",159),c(2,"\xA0\xA0 "),r(3,"app-input-string",161),w("modelChange",function(t){u(e);let s=m().$implicit,h=m(3);return T(h.propertyDetails[s.id],t)||(h.propertyDetails[s.id]=t),f(t)}),a()()}if(n&2){let e=m().$implicit,i=m(3);o(),ye("color",e.iconColor),d("ngClass",e.iconFont),o(2),Vt(ve("color:'",e.iconColor,"';")),b("model",i.propertyDetails[e.id]),d("optionLabel",e.title)}}function kY(n,l){if(n&1&&(A(0)(1,155),S(2,MY,4,11,"div",156)(3,bY,4,8,"div",156)(4,TY,5,5,"div",156),C(5,"br"),S(6,wY,4,8,"div",156)(7,xY,6,8,"div",156)(8,AY,4,8,"div",156)(9,PY,4,8,"div",157),P()()),n&2){let e=l.$implicit,i=m(3);o(),d("ngSwitch",e.inputDataType),o(),d("ngSwitchCase",i.enumInputDataType.String),o(),d("ngSwitchCase",i.enumInputDataType.Int),o(),d("ngSwitchCase",i.enumInputDataType.Boolean),o(2),d("ngSwitchCase",i.enumInputDataType.Float),o(),d("ngSwitchCase",i.enumInputDataType.Date),o(),d("ngSwitchCase",i.enumInputDataType.TextArea)}}function DY(n,l){if(n&1){let e=I();r(0,"button",163),E("click",function(){u(e);let t=m(3);return f(t.prevStep())}),c(1),_(2,"translate"),a()}n&2&&(o(),y(" ",g(2,1,"ACTION.BEFOR")," "))}function RY(n,l){if(n&1){let e=I();r(0,"button",163),E("click",function(){u(e);let t=m(3);return f(t.nextStep())}),c(1),_(2,"translate"),a()}n&2&&(o(),y(" ",g(2,1,"ACTION.NEXT")," "))}function LY(n,l){if(n&1){let e=I();r(0,"button",163),E("click",function(){u(e);let t=m(3);return f(t.nextStep())}),c(1),_(2,"translate"),a()}n&2&&(o(),y(" ",g(2,1,"ACTION.END")," "))}function VY(n,l){if(n&1){let e=I();r(0,"mat-expansion-panel",152),E("opened",function(){let t=u(e).index,s=m(2);return f(s.setStep(t))}),r(1,"mat-expansion-panel-header")(2,"mat-panel-title"),c(3),a(),r(4,"mat-panel-description"),c(5),r(6,"mat-icon"),c(7),a()()(),S(8,kY,10,7,"ng-container",153),r(9,"mat-action-row"),S(10,DY,3,3,"button",154)(11,RY,3,3,"button",154)(12,LY,3,3,"button",154),a()()}if(n&2){let e=l.$implicit,i=l.index,t=m(2);d("expanded",t.step===i),o(3),M(e.title),o(2),y(" ",e.description," "),o(2),M(e.iconFont),o(),d("ngForOf",e.propertyDetails),o(2),d("ngIf",i>0),o(),d("ngIf",i+1<t.dataModel.propertyDetailGroups.length),o(),d("ngIf",i+1===t.dataModel.propertyDetailGroups.length)}}function OY(n,l){if(n&1&&(r(0,"div",106)(1,"button",126),c(2),_(3,"translate"),a(),r(4,"button",109),c(5),_(6,"translate"),a()()),n&2){m(2);let e=k(10);o(2),y(" ",g(3,3,"ACTION.BEFOR")," "),o(2),d("disabled",!e.form.valid),o(),y(" ",g(6,5,"ACTION.NEXT")," ")}}function FY(n,l){if(n&1&&(r(0,"mat-step",147),_(1,"translate"),r(2,"p"),c(3),_(4,"translate"),a(),S(5,EY,2,4,"app-estate-property-company-selector",148)(6,IY,2,4,"app-estate-property-project-selector",148),C(7,"hr"),r(8,"mat-accordion",149),S(9,VY,13,8,"mat-expansion-panel",150),C(10,"br"),a(),S(11,OY,7,7,"div",41),a()),n&2){let e=m();d("label",x(g(1,7,"TITLE.Details"))),o(3),M(g(4,9,"TITLE.Property_details_according_to_the_type_of_property")),o(2),d("ngIf",e.tokenHelper.isAdminSite),o(),d("ngIf",e.tokenHelper.isAdminSite),o(3),d("ngForOf",e.dataModel.propertyDetailGroups),o(2),d("ngIf",e.formInfo.formSubmitAllow)}}function BY(n,l){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),_(4,"translate"),a()()),n&2){let e=m(2);o(),y(" ",e.fieldsInfo.descriptionHidden==null?null:e.fieldsInfo.descriptionHidden.fieldTitle," "),o(2),M(g(4,2,"MESSAGE.required"))}}function NY(n,l){if(n&1){let e=I();r(0,"div",52)(1,"label",164),c(2),_(3,"translate"),a(),r(4,"textarea",165,21),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.descriptionHidden,t)||(s.dataModel.descriptionHidden=t),f(t)}),c(6,"             "),a(),r(7,"em"),c(8),a(),S(9,BY,5,4,"mat-error",33),a()}if(n&2){let e=k(5),i=m();o(2),y("",g(3,6,"TITLE.Description_Hidden")," "),o(2),d("placeholder",x(i.fieldsInfo.descriptionHidden==null?null:i.fieldsInfo.descriptionHidden.fieldTitle)),b("ngModel",i.dataModel.descriptionHidden),o(4),y("",e.value.length," / 2000"),o(),d("ngIf",e.errors==null?null:e.errors.required)}}function HY(n,l){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),_(4,"translate"),a()()),n&2){let e=m(2);o(),y(" ",e.fieldsInfo.addressHidden==null?null:e.fieldsInfo.addressHidden.fieldTitle," "),o(2),M(g(4,2,"MESSAGE.required"))}}function WY(n,l){if(n&1){let e=I();r(0,"div",52)(1,"label",166),c(2),_(3,"translate"),a(),r(4,"textarea",167,22),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.addressHidden,t)||(s.dataModel.addressHidden=t),f(t)}),c(6,"              "),a(),r(7,"em"),c(8),a(),S(9,HY,5,4,"mat-error",33),a()}if(n&2){let e=k(5),i=m();o(2),y(" ",g(3,6,"TITLE.Address_Hidden")," "),o(2),d("placeholder",x(i.fieldsInfo.addressHidden==null?null:i.fieldsInfo.addressHidden.fieldTitle)),b("ngModel",i.dataModel.addressHidden),o(4),y("",e.value.length," / 2000"),o(),d("ngIf",e.errors==null?null:e.errors.required)}}function GY(n,l){if(n&1&&(r(0,"div",106)(1,"button",126),c(2),_(3,"translate"),a(),r(4,"button",109),c(5),_(6,"translate"),a()()),n&2){m();let e=k(10);o(2),y(" ",g(3,3,"ACTION.BEFOR")," "),o(2),d("disabled",!e.form.valid),o(),y(" ",g(6,5,"ACTION.NEXT")," ")}}function UY(n,l){if(n&1){let e=I();r(0,"div",79)(1,"div",80)(2,"h5",178),c(3),_(4,"translate"),a()(),r(5,"div",138)(6,"div",83)(7,"input",179),w("ngModelChange",function(t){u(e);let s=m(4);return T(s.contractDataModel.salePriceByAgreement,t)||(s.contractDataModel.salePriceByAgreement=t),f(t)}),E("change",function(){u(e);let t=m(4);return f(t.onActionClickSalePriceAllowAgreement())}),a(),C(8,"label",180),a()()()}if(n&2){let e=m(4);o(3),M(g(4,2,"TITLE.Agreement")),o(4),b("ngModel",e.contractDataModel.salePriceByAgreement)}}function jY(n,l){if(n&1){let e=I();r(0,"div",173)(1,"div",174)(2,"label",175),c(3,"contractTypeSelected.titleSalePriceML"),a(),r(4,"input",176),w("ngModelChange",function(t){u(e);let s=m(3);return T(s.contractDataModel.salePrice,t)||(s.contractDataModel.salePrice=t),f(t)}),a()(),r(5,"div",177),S(6,UY,9,4,"div",72),a()()}if(n&2){let e=m(3);o(4),b("ngModel",e.contractDataModel.salePrice),d("disabled",e.contractDataModel.salePriceByAgreement),o(2),d("ngIf",e.contractTypeSelected.salePriceAllowAgreement)}}function qY(n,l){if(n&1){let e=I();r(0,"div",79)(1,"div",80)(2,"h5",183),c(3),_(4,"translate"),a()(),r(5,"div",138)(6,"div",83)(7,"input",184),w("ngModelChange",function(t){u(e);let s=m(4);return T(s.contractDataModel.depositPriceByAgreement,t)||(s.contractDataModel.depositPriceByAgreement=t),f(t)}),E("change",function(){u(e);let t=m(4);return f(t.onActionClickDepositPriceByAgreement())}),a(),C(8,"label",185),a()()()}if(n&2){let e=m(4);o(3),M(g(4,2,"TITLE.Agreement")),o(4),b("ngModel",e.contractDataModel.depositPriceByAgreement)}}function QY(n,l){if(n&1){let e=I();r(0,"div",173)(1,"div",174)(2,"label",181),c(3),a(),r(4,"input",182),w("ngModelChange",function(t){u(e);let s=m(3);return T(s.contractDataModel.depositPrice,t)||(s.contractDataModel.depositPrice=t),f(t)}),a()(),r(5,"div",177),S(6,qY,9,4,"div",72),a()()}if(n&2){let e=m(3);o(3),M(e.contractTypeSelected.titleDepositPriceML),o(),b("ngModel",e.contractDataModel.depositPrice),d("disabled",e.contractDataModel.depositPriceByAgreement),o(2),d("ngIf",e.contractTypeSelected.depositPriceAllowAgreement)}}function zY(n,l){if(n&1){let e=I();r(0,"div",79)(1,"div",80)(2,"h5",188),c(3),_(4,"translate"),a()(),r(5,"div",138)(6,"div",83)(7,"input",189),w("ngModelChange",function(t){u(e);let s=m(4);return T(s.contractDataModel.rentPriceByAgreement,t)||(s.contractDataModel.rentPriceByAgreement=t),f(t)}),E("change",function(){u(e);let t=m(4);return f(t.onActionClickRentPriceAllowAgreement())}),a(),C(8,"label",190),a()()()}if(n&2){let e=m(4);o(3),M(g(4,2,"TITLE.Agreement")),o(4),b("ngModel",e.contractDataModel.rentPriceByAgreement)}}function YY(n,l){if(n&1){let e=I();r(0,"div",173)(1,"div",174)(2,"label",186),c(3,"contractTypeSelected.titleRentPriceML"),a(),r(4,"input",187),w("ngModelChange",function(t){u(e);let s=m(3);return T(s.contractDataModel.rentPrice,t)||(s.contractDataModel.rentPrice=t),f(t)}),a()(),r(5,"div",177),S(6,zY,9,4,"div",72),a()()}if(n&2){let e=m(3);o(4),b("ngModel",e.contractDataModel.rentPrice),d("disabled",e.contractDataModel.rentPriceByAgreement),o(2),d("ngIf",e.contractTypeSelected.rentPriceAllowAgreement)}}function KY(n,l){if(n&1){let e=I();r(0,"div",79)(1,"div",80)(2,"h5",193),c(3),_(4,"translate"),a()(),r(5,"div",138)(6,"div",83)(7,"input",194),w("ngModelChange",function(t){u(e);let s=m(4);return T(s.contractDataModel.periodPriceByAgreement,t)||(s.contractDataModel.periodPriceByAgreement=t),f(t)}),E("change",function(){u(e);let t=m(4);return f(t.onActionClickPeriodPriceAllowAgreement())}),a(),C(8,"label",195),a()()()}if(n&2){let e=m(4);o(3),M(g(4,2,"TITLE.Agreement")),o(4),b("ngModel",e.contractDataModel.periodPriceByAgreement)}}function ZY(n,l){if(n&1){let e=I();r(0,"div",173)(1,"div",174)(2,"label",191),c(3,"contractTypeSelected.titlePeriodPriceML"),a(),r(4,"input",192),w("ngModelChange",function(t){u(e);let s=m(3);return T(s.contractDataModel.periodPrice,t)||(s.contractDataModel.periodPrice=t),f(t)}),a()(),r(5,"div",177),S(6,KY,9,4,"div",72),a()()}if(n&2){let e=m(3);o(4),b("ngModel",e.contractDataModel.periodPrice),d("disabled",e.contractDataModel.periodPriceByAgreement),o(2),d("ngIf",e.contractTypeSelected.hasPeriodPrice&&e.contractTypeSelected.periodPriceAllowAgreement)}}function JY(n,l){if(n&1){let e=I();r(0,"div"),S(1,jY,7,3,"div",170)(2,QY,7,4,"div",170)(3,YY,7,3,"div",170)(4,ZY,7,3,"div",170),C(5,"hr"),r(6,"div",52)(7,"label",171),c(8),a(),r(9,"textarea",172,23),w("ngModelChange",function(t){u(e);let s=m(2);return T(s.contractDataModel.description,t)||(s.contractDataModel.description=t),f(t)}),c(11,"                        "),a(),r(12,"em"),c(13),a()()()}if(n&2){let e=k(10),i=m(2);o(),d("ngIf",i.contractTypeSelected.hasSalePrice),o(),d("ngIf",i.contractTypeSelected.hasDepositPrice),o(),d("ngIf",i.contractTypeSelected.hasRentPrice),o(),d("ngIf",i.contractTypeSelected.hasPeriodPrice),o(4),M(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle),o(),d("placeholder",x(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle)),b("ngModel",i.contractDataModel.description),o(4),y("",e.value.length," / 500")}}function XY(n,l){if(n&1){let e=I();r(0,"div",168),C(1,"br")(2,"br"),r(3,"app-cms-currency-selector",169),_(4,"translate"),E("optionChange",function(t){u(e);let s=m();return f(s.onActionSelectCurrency(t))}),a(),S(5,JY,14,9,"div",33),C(6,"br")(7,"br"),a()}if(n&2){let e=m();o(3),d("optionSelectFirstItem",e.currencyOptionSelectFirstItem)("optionSelectForce",e.contractDataModel.linkCoreCurrencyId)("optionPlaceholder",g(4,4,"TITLE.Specify_the_transaction_currency")),o(2),d("ngIf",e.contractDataModel.linkCoreCurrencyId>0)}}function $Y(n,l){if(n&1){let e=I();r(0,"button",62),E("click",function(){u(e);let t=m();return f(t.onActionOptionAddToList())}),c(1),_(2,"translate"),a()}n&2&&(o(),y(" ",g(2,1,"ACTION.Add_To_List")," ... "))}function eK(n,l){n&1&&(r(0,"mat-header-cell"),c(1),_(2,"translate"),a()),n&2&&(o(),y(" ",g(2,1,"TITLE.Contract")," "))}function tK(n,l){if(n&1&&(r(0,"mat-cell"),c(1),_(2,"cmstitle"),a()),n&2){let e=l.$implicit,i=m(2);o(),y(" ",oi(2,1,e.linkEstateContractTypeId,i.dataModelEstateContractTypeResult.listItems)," ")}}function iK(n,l){n&1&&(r(0,"mat-header-cell"),c(1),_(2,"translate"),a()),n&2&&(o(),y(" ",g(2,1,"TITLE.SalePrice")," "))}function nK(n,l){if(n&1&&(A(0),c(1),_(2,"number"),C(3,"br"),c(4),P()),n&2){let e=m().$implicit;o(),y(" ",g(2,3,e.salePrice)," "),o(3),$(" ( ",e.currencyTitle," ",e.currencySymbol,") ")}}function oK(n,l){n&1&&(A(0),c(1),_(2,"translate"),P()),n&2&&(o(),y(" ",g(2,1,"TITLE.PriceByAgreement")," "))}function rK(n,l){if(n&1&&(r(0,"mat-cell"),S(1,nK,5,5,"ng-container",33)(2,oK,3,3,"ng-container",33),a()),n&2){let e=l.$implicit;o(),d("ngIf",e.salePrice>0),o(),d("ngIf",e.salePriceByAgreement)}}function aK(n,l){n&1&&(r(0,"mat-header-cell"),c(1),_(2,"translate"),a()),n&2&&(o(),y(" ",g(2,1,"TITLE.DepositPrice")," "))}function lK(n,l){if(n&1&&(A(0),c(1),_(2,"number"),C(3,"br"),c(4),P()),n&2){let e=m().$implicit;o(),y(" ",g(2,3,e.depositPrice)," "),o(3),$(" ( ",e.currencyTitle," ",e.currencySymbol,") ")}}function sK(n,l){n&1&&(A(0),c(1),_(2,"translate"),P()),n&2&&(o(),y(" ",g(2,1,"TITLE.PriceByAgreement")," "))}function dK(n,l){if(n&1&&(r(0,"mat-cell"),S(1,lK,5,5,"ng-container",33)(2,sK,3,3,"ng-container",33),a()),n&2){let e=l.$implicit;o(),d("ngIf",e.depositPrice>0),o(),d("ngIf",e.depositPriceByAgreement)}}function cK(n,l){n&1&&(r(0,"mat-header-cell"),c(1),_(2,"translate"),a()),n&2&&(o(),y(" ",g(2,1,"TITLE.RentPrice")," "))}function pK(n,l){if(n&1&&(A(0),c(1),_(2,"number"),C(3,"br"),c(4),P()),n&2){let e=m().$implicit;o(),y(" ",g(2,3,e.rentPrice)," "),o(3),$(" ( ",e.currencyTitle," ",e.currencySymbol,") ")}}function mK(n,l){n&1&&(A(0),c(1),_(2,"translate"),P()),n&2&&(o(),y(" ",g(2,1,"TITLE.PriceByAgreement")," "))}function uK(n,l){if(n&1&&(r(0,"mat-cell"),S(1,pK,5,5,"ng-container",33)(2,mK,3,3,"ng-container",33),a()),n&2){let e=l.$implicit;o(),d("ngIf",e.rentPrice>0),o(),d("ngIf",e.rentPriceByAgreement)}}function fK(n,l){n&1&&(r(0,"mat-header-cell"),c(1),_(2,"translate"),a()),n&2&&(o(),y(" ",g(2,1,"TITLE.PeriodPrice")," "))}function _K(n,l){if(n&1&&(A(0),c(1),_(2,"number"),C(3,"br"),c(4),P()),n&2){let e=m().$implicit;o(),y(" ",g(2,3,e.periodPrice)," "),o(3),$(" ( ",e.currencyTitle," ",e.currencySymbol,") ")}}function gK(n,l){n&1&&(A(0),c(1),_(2,"translate"),P()),n&2&&(o(),y(" ",g(2,1,"TITLE.PriceByAgreement")," "))}function hK(n,l){if(n&1&&(r(0,"mat-cell"),S(1,_K,5,5,"ng-container",33)(2,gK,3,3,"ng-container",33),a()),n&2){let e=l.$implicit;o(),d("ngIf",e.periodPrice>0),o(),d("ngIf",e.periodPriceByAgreement)}}function yK(n,l){n&1&&(r(0,"mat-header-cell"),c(1),_(2,"translate"),a()),n&2&&(o(),y(" ",g(2,1,"TITLE.OPTION")," "))}function CK(n,l){if(n&1){let e=I();r(0,"mat-cell",211)(1,"button",212),E("click",function(){let t=u(e).index,s=m(2);return f(s.onActionOptionRemoveFromList(t))}),r(2,"small")(3,"mat-icon",213),_(4,"translate"),c(5,"delete"),a()()()()}n&2&&(o(3),d("matTooltip",x(g(4,2,"ACTION.DELETE"))))}function SK(n,l){if(n&1&&(A(0),c(1),P()),n&2){let e=m().$implicit;o(),y(" ",e.description," ")}}function vK(n,l){if(n&1&&(r(0,"mat-cell",214),c(1),_(2,"translate"),S(3,SK,2,1,"ng-container",33),a()),n&2){let e=l.$implicit;o(),y(" ",g(2,2,"TITLE.DESCRIPTION")," : "),o(2),d("ngIf",e.description)}}function EK(n,l){n&1&&C(0,"mat-header-row")}function IK(n,l){if(n&1&&C(0,"mat-row"),n&2){let e=l.dataIndex;Se("ntk-row-odd",e%2)("ntk-row-even",!(e%2))}}function MK(n,l){if(n&1&&C(0,"mat-row"),n&2){let e=l.dataIndex;Se("ntk-row-odd",e%2)("ntk-row-even",!(e%2))}}function bK(n,l){if(n&1&&(r(0,"div",196)(1,"mat-table",197),A(2,198),S(3,eK,3,3,"mat-header-cell",199)(4,tK,3,4,"mat-cell",200),P(),A(5,201),S(6,iK,3,3,"mat-header-cell",199)(7,rK,3,2,"mat-cell",200),P(),A(8,202),S(9,aK,3,3,"mat-header-cell",199)(10,dK,3,2,"mat-cell",200),P(),A(11,203),S(12,cK,3,3,"mat-header-cell",199)(13,uK,3,2,"mat-cell",200),P(),A(14,204),S(15,fK,3,3,"mat-header-cell",199)(16,hK,3,2,"mat-cell",200),P(),A(17,205),S(18,yK,3,3,"mat-header-cell",199)(19,CK,6,4,"mat-cell",206),P(),A(20,207),S(21,vK,4,4,"mat-cell",208),P(),S(22,EK,1,0,"mat-header-row",209)(23,IK,1,4,"mat-row",210)(24,MK,1,4,"mat-row",210),a()()),n&2){let e=m();o(),d("dataSource",e.optionTabledataSource),o(21),d("matHeaderRowDef",e.optionTabledisplayedColumns),o(),d("matRowDefColumns",e.optionTabledisplayedColumns),o(),d("matRowDefColumns",le(4,Cz))}}function TK(n,l){if(n&1&&(r(0,"button",109),c(1),_(2,"translate"),a()),n&2){m(2);let e=k(10);d("disabled",!e.form.valid),o(),y(" ",g(2,2,"ACTION.NEXT")," ")}}function wK(n,l){if(n&1&&(r(0,"div",106)(1,"button",126),c(2),_(3,"translate"),a(),S(4,TK,3,4,"button",108),a()),n&2){let e=m();o(2),y(" ",g(3,2,"ACTION.BEFOR")," "),o(2),d("ngIf",e.dataModel.contracts&&e.dataModel.contracts.length>0)}}function xK(n,l){if(n&1&&(C(0,"img",215),_(1,"cmsthumbnail")),n&2){let e=m();d("src",x(g(1,2,e.dataModel.linkMainImageIdSrc)),j)}}function AK(n,l){n&1&&(r(0,"p"),c(1),_(2,"translate"),a()),n&2&&(o(),y(" ",g(2,1,"TITLE.List_of_attached_photos")," "))}function PK(n,l){if(n&1){let e=I();r(0,"div")(1,"p"),c(2),_(3,"translate"),a(),r(4,"app-cms-files-selector",216),w("dataFileModelChange",function(t){u(e);let s=m();return T(s.dataFileModelFiles,t)||(s.dataFileModelFiles=t),f(t)}),a(),C(5,"br"),a()}if(n&2){let e=m();o(2),M(g(3,3,"TITLE.List_of_attached_files")),o(2),b("dataFileModel",e.dataFileModelFiles),d("openDirectUploadView",!0)}}function kK(n,l){if(n&1&&(r(0,"div",217)(1,"button",126),c(2),_(3,"translate"),a(),r(4,"button",109),c(5),_(6,"translate"),a(),r(7,"button",218),c(8),_(9,"translate"),a()()),n&2){let e=m(),i=k(10);o(2),y(" ",g(3,5,"ACTION.BEFOR")," "),o(2),d("disabled",!i.form.valid),o(),y(" ",g(6,7,"ACTION.NEXT")," "),o(2),d("disabled",!i.form.valid||!e.connectionStatus.internetConnection),o(),y(" ",g(9,9,"ACTION.SAVE")," ")}}function DK(n,l){if(n&1&&(r(0,"button",220),c(1),_(2,"translate"),a()),n&2){let e=m(2),i=k(10);d("disabled",!i.form.valid||!e.connectionStatus.internetConnection),o(),y(" ",g(2,2,"ACTION.SAVE")," ")}}function RK(n,l){if(n&1&&(r(0,"div",106)(1,"button",126),c(2),_(3,"translate"),a(),S(4,DK,3,4,"button",219),a()),n&2){let e=m();o(2),y(" ",g(3,2,"ACTION.BEFOR")," "),o(2),d("ngIf",e.dataModel.linkPropertyTypeUsageId&&e.dataModel.linkPropertyTypeUsageId.length>0)}}function LK(n,l){n&1&&(r(0,"mat-icon"),c(1,"call_end"),a())}function VK(n,l){n&1&&(r(0,"mat-icon"),c(1,"call_end"),a())}function OK(n,l){n&1&&(r(0,"mat-icon"),c(1,"forum"),a())}function FK(n,l){n&1&&(r(0,"mat-icon"),c(1,"forum"),a())}var Id=class Id extends Dt{constructor(e,i,t,s,h,p,D,z,he,je,Ge,mt,Nt,Rt,Ut,Fe){super(s,new Ki,mt,Fe);this.activatedRoute=e;this.coreEnumService=i;this.estateContractTypeService=t;this.estatePropertyService=s;this.estatePropertyDetailGroupService=h;this.estatePropertyTypeService=p;this.estatePropertyTypeLanduseService=D;this.cmsToastrService=z;this.cmsStoreService=he;this.themeService=je;this.router=Ge;this.publicHelper=mt;this.cdr=Nt;this.dialog=Rt;this.tokenHelper=Ut;this.translate=Fe;this.requestLinkPropertyTypeLanduseId="";this.requestLinkPropertyTypeUsageId="";this.constructorInfoAreaId=this.constructor.name;this.connectionStatus=new sc;this.unsubscribe=[];this.currencyOptionSelectFirstItem=!0;this.fieldsInfo=new Map;this.enumInputDataType=Ri;this.tokenInfo=new St;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.formMatcher=new ka;this.dataModelResult=new G;this.dataModelEstateContractTypeResult=new G;this.dataModelEstatePropertyTypeResult=new G;this.dataModelEstatePropertyTypeLanduseResult=new G;this.dataModel=new Ki;this.dataFileModelImgaes=new Map;this.dataFileModelFiles=new Map;this.formInfo=new me;this.fileManagerOpenForm=!1;this.dataModelCorCurrencySelector=new Di;this.PropertyTypeSelected=new Gt;this.contractDataModel=new Kn;this.optionActionTitle="";this.optionTabledataSource=new li;this.optionTabledisplayedColumns=["LinkEstateContractTypeId","SalePrice","RentPrice","DepositPrice","PeriodPrice","Action"];this.propertyDetails=new Map;this.step=0;this.numbers=[1,2,3,4,5,6,7,8,9,10];this.viewMap=!1;this.mapMarkerPoints=[];this.mapOptonCenter=new Li;this.listTypeLanduse=[];this.dataProfessional=!1;this.hidden=!0;this.publicHelper.processService.cdr=this.cdr,this.requestLinkPropertyTypeLanduseId=this.activatedRoute.snapshot.paramMap.get("LinkPropertyTypeLanduseId"),this.requestLinkPropertyTypeLanduseId&&this.requestLinkPropertyTypeLanduseId.length>0&&(this.dataModel.linkPropertyTypeLanduseId=this.requestLinkPropertyTypeLanduseId),this.requestLinkPropertyTypeUsageId=this.activatedRoute.snapshot.paramMap.get("LinkPropertyTypeUsageId"),this.requestLinkPropertyTypeUsageId&&this.requestLinkPropertyTypeUsageId.length>0&&(this.dataModel.linkPropertyTypeUsageId=this.requestLinkPropertyTypeUsageId),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(an=>an.connectionStatusStore).subscribe(an=>re(this,null,function*(){this.connectionStatus=an})))}ngOnInit(){this.translate.get("TITLE.Submit_New_Content").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess(),this.getEstateContractType(),this.getEstatePropertyType(),this.getEstatePropertyTypeLanduse(),this.dataModel.caseCode=this.publicHelper.StringRandomGenerator(5,!0),this.cmsApiStoreSubscribe=this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>re(this,null,function*(){this.DataGetAccess(),this.getEstateContractType(),this.getEstatePropertyType(),this.getEstatePropertyTypeLanduse(),this.translate.get("ACTION.Add_To_List").subscribe(i=>{this.optionActionTitle=i}),this.tokenInfo=e}))}ngOnDestroy(){this.cmsApiStoreSubscribe&&this.cmsApiStoreSubscribe.unsubscribe(),this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}getEstateContractType(){let e=this.constructor.name+"getEstateContractType";this.translate.get("TITLE.Get_Estate_Contract_Type").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estateContractTypeService.ServiceGetAll(null).subscribe({next:i=>{this.dataModelEstateContractTypeResult=i,this.publicHelper.processService.processStop(e)},error:i=>{this.publicHelper.processService.processStop(e)}})}getEstatePropertyType(){let e=this.constructor.name+"getEstatePropertyType";this.translate.get("TITLE.Get_Estate_property_Type").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estatePropertyTypeService.ServiceGetAll(null).subscribe({next:i=>{this.dataModelEstatePropertyTypeResult=i,this.publicHelper.processService.processStop(e)},error:i=>{this.publicHelper.processService.processStop(e)}})}getEstatePropertyTypeLanduse(){let e=this.constructor.name+"getEstatePropertyType";this.translate.get("TITLE.Get_Estate_user_Type").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estatePropertyTypeLanduseService.ServiceGetAll(null).subscribe({next:i=>{this.dataModelEstatePropertyTypeLanduseResult=i,this.publicHelper.processService.processStop(e)},error:i=>{this.publicHelper.processService.processStop(e)}})}DataGetPropertyDetailGroup(e){let i=new pe,t=new H;t.propertyName="LinkPropertyTypeLanduseId",t.value=e,i.filters.push(t),this.dataModel.propertyDetailGroups=[];let s=this.constructor.name+"DataGetPropertyDetailGroup";this.translate.get("TITLE.Get_Details").subscribe(h=>{this.publicHelper.processService.processStart(s,h,this.constructorInfoAreaId)}),this.estatePropertyDetailGroupService.ServiceGetAll(i).subscribe({next:h=>{h.isSuccess?this.dataModel.propertyDetailGroups=h.listItems:this.cmsToastrService.typeErrorGetAccess(h.errorMessage),this.publicHelper.processService.processStop(s)},error:h=>{this.cmsToastrService.typeErrorGetAccess(h),this.publicHelper.processService.processStop(s,!1)}})}DataAdd(){if(this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="",this.dataFileModelFiles){let i=Array.from(this.dataFileModelFiles.keys());i&&i.length>0&&(this.dataModel.linkFileIds=i.join(","))}if(this.dataFileModelImgaes){let i=Array.from(this.dataFileModelImgaes.keys());i&&i.length>0&&(this.dataModel.linkExtraImageIds=i.join(","))}let e=this.constructor.name+"ServiceAdd";this.translate.get("TITLE.Property_registration").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estatePropertyService.ServiceAdd(this.dataModel).subscribe({next:i=>{if(this.formInfo.formSubmitAllow=!0,this.dataModelResult=i,i.isSuccess)if(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(s=>{this.formInfo.formAlert=s}),this.cmsToastrService.typeSuccessAdd(),(this.tokenHelper.isAdminSite||this.tokenHelper.isSupportSite||this.tokenInfo.access.userAccessUserType==Er.ResellerCpSite||this.tokenInfo.access.userAccessUserType==Er.ResellerEmployeeCpSite)&&this.dataModel.recordStatus==qe.Available){var t="";this.publicHelper.isMobile?t="dialog-fullscreen":t="dialog-min",this.dialog.open(vd,{height:"90%",panelClass:t,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{model:this.dataModelResult.item}}).afterClosed().subscribe(h=>{setTimeout(()=>this.router.navigate(["/estate/property"]),1e3)})}else setTimeout(()=>this.router.navigate(["/estate/property"]),1e3);else this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(s=>{this.formInfo.formAlert=s}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage);this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}receiveMap(e=this.mapModel){e&&(this.mapModel=e,this.mapMarkerPoints&&this.mapMarkerPoints.length>0&&(this.mapMarkerPoints.forEach(i=>{this.mapMarker=Yp.marker([i.lat,i.lon]).addTo(this.mapModel)}),this.mapOptonCenter=this.mapMarkerPoints[0],this.mapMarkerPoints=[]),this.mapModel.on("click",i=>{let t=i.latlng.lat,s=i.latlng.lng;if(this.mapMarker!==void 0&&this.mapModel.removeLayer(this.mapMarker),t===this.dataModel.geolocationlatitude&&s===this.dataModel.geolocationlongitude){this.dataModel.geolocationlatitude=null,this.dataModel.geolocationlongitude=null;return}this.mapMarker=Yp.marker([t,s]).addTo(this.mapModel),this.dataModel.geolocationlatitude=t,this.dataModel.geolocationlongitude=s}))}receiveZoom(e){}onActionSelectorSelectUsage(e){if(!e||!e.id||e.id.length<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkPropertyTypeUsageId=e.id,this.dataModelEstatePropertyTypeResult.isSuccess&&this.dataModelEstatePropertyTypeLanduseResult.isSuccess&&(this.listTypeLanduse=[],this.dataModelEstatePropertyTypeResult.listItems.forEach(i=>{i.linkPropertyTypeUsageId===e.id&&this.dataModelEstatePropertyTypeLanduseResult.listItems.forEach(t=>{t.id===i.linkPropertyTypeLanduseId&&this.listTypeLanduse.push(t)})}))}onActionSelectorSelectLanduse(e){if(!e||!e.id||e.id.length<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.PropertyTypeSelected=e,this.dataModel.linkPropertyTypeLanduseId=e.id,this.DataGetPropertyDetailGroup(e.id)}onActionSelectorCmsUser(e){if(!e||!e.id||e.id<=0){this.dataModel.linkCmsUserId=null;return}this.dataModel.linkCmsUserId=e.id}onActionSelectorLocation(e){if(!e||!e.id||e.id<=0){this.translate.get("MESSAGE.information_area_is_not_clear").subscribe(i=>{this.cmsToastrService.typeWarningSelected(i)}),this.dataModel.linkLocationId=null;return}this.dataModel.linkLocationId=e.id}onActionSelectorProject(e){if(!e||!e.id||e.id.length<=0){this.dataModel.linkPropertyProjectId=null;return}this.dataModel.linkPropertyProjectId=e.id}onActionSelectorCompany(e){if(!e||!e.id||e.id.length<=0){this.dataModel.linkPropertyCompanyId=null;return}this.dataModel.linkPropertyCompanyId=e.id}onActionSelectorEstateUser(e){this.dataModel.linkEstateExpertId=null,!(!e||!e.id||e.id.length<=0)&&(this.dataModel.linkEstateExpertId=e.id)}onActionSelectorEstateAgency(e){this.dataModel.linkEstateAgencyId=null,!(!e||!e.id||e.id.length<=0)&&(this.dataModel.linkEstateAgencyId=e.id)}onActionSelectorContractType(e){if(this.contractTypeSelected=null,!e||!e.id||e.id.length<=0){this.translate.get("MESSAGE.Type_of_property_transaction_is_not_known").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.currencyOptionSelectFirstItem=!0,this.contractTypeSelected=e,this.contractDataModel=new Kn,this.contractDataModel.contractType=this.contractTypeSelected,this.contractDataModel.linkEstateContractTypeId=this.contractTypeSelected.id}onFormSubmit(){if(this.formGroup.valid){if(this.formInfo.formSubmitAllow=!1,this.dataModel.propertyDetailValues=[],this.dataModel.propertyDetailGroups&&this.dataModel.propertyDetailGroups.forEach(e=>{e.propertyDetails.forEach(i=>{let t=new So;t.linkPropertyDetailId=i.id,t.value=this.propertyDetails[i.id],this.dataModel.propertyDetailValues.push(t)})}),(!this.dataModel.contracts||this.dataModel.contracts.length===0)&&this.onActionOptionAddToList(!1),!this.dataModel.contracts||this.dataModel.contracts.length===0){this.translate.get("MESSAGE.Type_of_property_transaction_is_not_known").subscribe(e=>{this.cmsToastrService.typeErrorSelected(e)}),this.formInfo.formSubmitAllow=!0;return}this.DataAdd()}}onFormCancel(){this.router.navigate(["/estate/property"])}onActionOptionAddToList(e=!0){if(!this.contractTypeSelected||this.contractTypeSelected.id.length===0){this.translate.get("MESSAGE.Type_of_property_transaction_is_not_known").subscribe(t=>{e&&this.cmsToastrService.typeErrorSelected(t)});return}this.dataModel.contracts||(this.dataModel.contracts=[]);var i=!1;if(this.contractTypeSelected.hasSalePrice&&(this.contractDataModel.salePrice&&this.contractDataModel.salePrice>0&&(i=!0),this.contractTypeSelected.salePriceAllowAgreement&&this.contractDataModel.salePriceByAgreement&&(i=!0),!i)){this.translate.get("MESSAGE.Sales_amount_is_not_entered_correctly").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(i=!1,this.contractTypeSelected.hasRentPrice&&(this.contractDataModel.rentPrice&&this.contractDataModel.rentPrice>0&&(i=!0),this.contractTypeSelected.rentPriceAllowAgreement&&this.contractDataModel.rentPriceByAgreement&&(i=!0),!i)){this.translate.get("MESSAGE.Rent_amount_is_not_entered_correctly").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(i=!1,this.contractTypeSelected.hasPeriodPrice&&(this.contractDataModel.periodPrice&&this.contractDataModel.periodPrice>0&&(i=!0),this.contractTypeSelected.periodPriceAllowAgreement&&this.contractDataModel.periodPriceByAgreement&&(i=!0),!i)){this.translate.get("MESSAGE.Period_amount_is_not_entered_correctly").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(i=!1,this.contractTypeSelected.hasDepositPrice&&(this.contractDataModel.depositPrice&&this.contractDataModel.depositPrice>0&&(i=!0),this.contractTypeSelected.depositPriceAllowAgreement&&this.contractDataModel.depositPriceByAgreement&&(i=!0),!i)){this.translate.get("MESSAGE.Deposit_amount_is_not_entered_correctly").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}this.dataModel.contracts.push(this.contractDataModel),this.contractDataModel=new Kn,this.optionTabledataSource.data=this.dataModel.contracts,this.contractTypeSelected=null}onActionOptionRemoveFromList(e){e<0||!this.dataModel.contracts||this.dataModel.contracts.length===0||(this.contractDataModel=this.dataModel.contracts[e],this.dataModel.contracts.splice(e,1),this.contractDataModel=new Kn,this.optionTabledataSource.data=this.dataModel.contracts)}onActionFileSelectedLinkMainImageId(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}onStepClick(e,i){e.previouslySelectedIndex<e.selectedIndex&&((!this.dataModel.linkPropertyTypeUsageId||this.dataModel.linkPropertyTypeUsageId.length===0)&&(this.translate.get("TITLE.Select_the_Property_Type_Usage").subscribe(t=>{this.cmsToastrService.typeErrorFormInvalid(t)}),setTimeout(()=>{i.selectedIndex=e.previouslySelectedIndex},10)),(!this.dataModel.linkPropertyTypeLanduseId||this.dataModel.linkPropertyTypeLanduseId.length===0)&&(this.translate.get("TITLE.Select_the_Property_Type_Landuse").subscribe(t=>{this.cmsToastrService.typeErrorFormInvalid(t)}),setTimeout(()=>{i.selectedIndex=e.previouslySelectedIndex},10)),this.formGroup.valid||(this.cmsToastrService.typeErrorFormInvalid(),setTimeout(()=>{i.selectedIndex=e.previouslySelectedIndex},10))),(!this.dataModel.contracts||this.dataModel.contracts.length==0)&&e.previouslySelectedStep.state=="contract"&&e.previouslySelectedIndex<e.selectedIndex&&(this.translate.get("TITLE.Select_the_transaction_type").subscribe(t=>{this.cmsToastrService.typeErrorFormInvalid(t)}),setTimeout(()=>{i.selectedIndex=e.previouslySelectedIndex},10))}onActionBackToParent(){this.router.navigate(["/estate/property/"])}setStep(e){this.step=e}nextStep(){this.step++}prevStep(){this.step--}onActionClickSalePriceAllowAgreement(){this.contractDataModel.salePriceByAgreement&&(this.contractDataModel.salePrice=0)}onActionClickRentPriceAllowAgreement(){this.contractDataModel.rentPriceByAgreement&&(this.contractDataModel.rentPrice=0)}onActionClickPeriodPriceAllowAgreement(){this.contractDataModel.periodPriceByAgreement&&(this.contractDataModel.periodPrice=0)}onActionClickDepositPriceByAgreement(){this.contractDataModel.depositPriceByAgreement&&(this.contractDataModel.depositPrice=0)}ActionCurrentPoint(){this.childMap.getPosition().then(e=>{let i=e.lat,t=e.lon;i>0&&t>0&&(this.mapMarker!==void 0&&this.mapModel.removeLayer(this.mapMarker),this.mapMarkerPoints=[],this.mapMarkerPoints.push({lat:i,lon:t}),this.dataModel.geolocationlatitude=i,this.dataModel.geolocationlongitude=t,this.receiveMap())})}onActionSelectCurrency(e){if(!e||e.id<=0){this.cmsToastrService.typeErrorSelected(),this.dataModelCorCurrencySelector=null,this.contractDataModel.linkCoreCurrencyId=null;return}this.dataModelCorCurrencySelector=e,this.contractDataModel.linkCoreCurrencyId=e.id,this.tokenHelper.isAdminSite&&this.contractTypeSelected.allowPriceInquiryCalculate&&this.onActionPriceInquiryList()}onActionPriceInquiryList(){let e=new vr;e.disableClose=!0,e.autoFocus=!0,e.height="90%",e.data={linkLocationId:this.dataModel.linkLocationId,linkCoreCurrencyId:this.contractDataModel.linkCoreCurrencyId,createdYaer:this.dataModel.createdYaer,linkPropertyTypeUsageId:this.dataModel.linkPropertyTypeUsageId,linkPropertyTypeLanduseId:this.dataModel.linkPropertyTypeLanduseId,linkContractTypeId:this.contractDataModel.linkEstateContractTypeId};var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(ra,e).afterClosed().subscribe(s=>{s&&s.dialogChangedDate})}onActionButtonQuickListSearchTitle(){if(!this.dataModel||!this.dataModel.title||this.dataModel.title.length===0){this.cmsToastrService.typeErrorSelectedRow();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(An,{height:"90%",panelClass:e,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{searchTitle:this.dataModel.title}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate})}onActionButtonQuickListSearchCustomerTel(){if(!this.dataModel||!this.dataModel.aboutCustomerTel||this.dataModel.aboutCustomerTel.length===0){this.cmsToastrService.typeErrorSelectedRow();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(An,{height:"90%",panelClass:e,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{searchCustomerTel:this.dataModel.aboutCustomerTel}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate})}onActionButtonQuickListSearchCustomerMobile(){if(!this.dataModel||!this.dataModel.aboutCustomerMobile||this.dataModel.aboutCustomerMobile.length===0){this.cmsToastrService.typeErrorSelectedRow();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(An,{height:"90%",panelClass:e,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{searchCustomerTel:this.dataModel.aboutCustomerMobile}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate})}onActionButtonQuickListSearchCaseCode(){if(!this.dataModel||!this.dataModel.caseCode||this.dataModel.caseCode.length===0){this.cmsToastrService.typeErrorSelectedRow();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(An,{height:"90%",panelClass:e,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{searchCaseCode:this.dataModel.caseCode}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate})}};Id.\u0275fac=function(i){return new(i||Id)(v(jt),v(J),v(xi),v(ui),v(hi),v(dn),v(yi),v(V),v(Z),v(kt),v(Ze),v(F),v(B),v(xe),v(K),v(L))},Id.\u0275cmp=R({type:Id,selectors:[["app-estate-property-add"]],viewQuery:function(i,t){if(i&1&&(ee(yz,5),ee(Ci,5)),i&2){let s;te(s=ie())&&(t.formGroup=s.first),te(s=ie())&&(t.childMap=s.first)}},standalone:!1,features:[ne],decls:105,vars:120,consts:[["vform","ngForm"],["stepper",""],["LinkMainImageId",""],["Description",""],["Title",""],["CaseCode",""],["CreatedYaer",""],["Partition",""],["Area",""],["Address",""],["LinkSiteId",""],["scoreEstateLocation","ngModel"],["scoreEstateBuild","ngModel"],["scoreEstatePrice","ngModel"],["AboutAgentMobile",""],["AboutAgentTel",""],["AboutCustomerMobile",""],["AboutCustomerTel",""],["actionCreateNewCmsUserFirstName",""],["actionCreateNewCmsUserLastName",""],["actionCreateNewCmsUserMobile",""],["DescriptionHidden",""],["AddressHidden",""],["contractDataModel_Description",""],[3,"Key","svg"],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"selectionChange"],["state","main",3,"label"],[3,"optionChange","optionDisabled","optionTypeView","optionSelectForce","optionPlaceholder"],[4,"ngIf"],["class","row mb-0",4,"ngIf"],[3,"optionDisabled","optionTypeView","optionSelectForce","optionPlaceholder","optionTypeUsageId","optionChange",4,"ngIf"],["state","main",3,"label",4,"ngIf"],[3,"optionDisabled","optionSelectForce","optionSelectUserId","optionPlaceholder","optionChange",4,"ngIf"],[3,"optionDisabled","optionSelectForce","optionPlaceholder","optionChange",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["class","blockquote",4,"ngIf"],["class","form-actions",4,"ngIf"],["state","seo",3,"label",4,"ngIf"],["state","contract",3,"label"],[3,"optionChange","optionTypeView","optionDisabled","optionPlaceholder","optionSelectForce"],["class","container",4,"ngIf"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-highlight",3,"click",4,"ngIf"],["class","example-container mat-elevation-z8",4,"ngIf"],["state","file",3,"label"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","openDirectUploadView","isPopup","openForm","tree","openFilemanagerButtonLabelKey","selectFileType","openFilemanagerButtonView"],[3,"dataFileModelChange","dataFileModel","optionFileType","openDirectUploadView"],[3,"dataModelChange","dataModel"],[3,"dataModelChange","dataModel","dataImageModel"],["class","ntk-button-row",4,"ngIf"],["state","loaction",3,"label"],["id","main-map",3,"map$","zoom$","optonCenter"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],["matStepperIcon","main"],["matStepperIcon","seo"],["matStepperIcon","file"],["matStepperIcon","loaction"],[1,"row","mb-0"],["class","col-xl-2 col-lg-3 col-md-4 col-sm-12 pe-1",4,"ngFor","ngForOf"],[1,"col-xl-2","col-lg-3","col-md-4","col-sm-12","pe-1"],[3,"click","ngClass"],[3,"optionChange","optionDisabled","optionTypeView","optionSelectForce","optionPlaceholder","optionTypeUsageId"],["class","d-flex mb-3",4,"ngIf"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","2000","rows","5","required","","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","fa fa-times  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataProfessional",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2",2,"position","inherit"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataProfessional","name","dataProfessional",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataProfessional",1,"custom-control-label"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["matSuffix","","class","pointer",3,"click",4,"ngIf"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["matSuffix","",1,"pointer",3,"click"],["for","dataModel.caseCode",1,"color-highlight"],["matInput","","type","text","name","dataModel.caseCode","type","text","minlength","3","maxlength","100","id","dataModel.caseCode",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["data-trigger-switch","dataModel.viewConfigHiddenInList",1,"font-600","font-14"],["type","checkbox","id","dataModel.viewConfigHiddenInList","name","dataModel.viewConfigHiddenInList",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.viewConfigHiddenInList",1,"custom-control-label"],["for","dataModel.createdYaer",1,"color-highlight"],["matInput","","name","dataModel.createdYaer","type","number","id","dataModel.createdYaer",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.partition",1,"color-highlight"],["matInput","","name","dataModel.partition","type","number","id","dataModel.partition",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.area",1,"color-highlight"],["matInput","","name","dataModel.area","type","text","currencyMask","","id","dataModel.area",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel","disabled","placeholder"],["for","dataModel.address",1,"color-highlight"],["matInput","","name","dataModel.address","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.address",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-blue","matStepperNext","",3,"disabled",4,"ngIf"],["type","button","matStepperNext","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue",3,"disabled"],["type","text","name","dataModel.linkSiteId","minlength","3","maxlength","100","id","dataModel.linkSiteId",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["data-trigger-switch","dataModel.viewContentHidden",1,"font-600","font-14"],["type","checkbox","id","dataModel.viewContentHidden","name","dataModel.viewContentHidden",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.viewContentHidden",1,"custom-control-label"],["data-trigger-switch","dataModel.siteAdminViewContentHidden",1,"font-600","font-14"],["type","checkbox","id","dataModel.siteAdminViewContentHidden","name","dataModel.siteAdminViewContentHidden",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.siteAdminViewContentHidden",1,"custom-control-label"],[1,"range-slider","bottom-15","range-slider-icons"],["for","dataModel.scoreEstateLocation",1,"color-highlight"],[1,"fa","fa-range-icon-1","fa-angle-down","color-theme"],[1,"fa","fa-range-icon-2","fa-angle-up","color-theme"],["type","range","min","0","max","10","id","dataModel.scoreEstateLocation","name","dataModel.scoreEstateLocation",1,"ios-slider","input-ltr",3,"ngModelChange","ngModel","disabled","ngClass"],["for","dataModel.scoreEstateBuild",1,"color-highlight"],["type","range","min","0","max","10","id","dataModel.scoreEstateBuild","name","dataModel.scoreEstateBuild",1,"ios-slider","input-ltr",3,"ngModelChange","ngModel","disabled","ngClass"],["for","dataModel.scoreEstatePrice",1,"color-highlight"],["type","range","min","0","max","10","id","dataModel.scoreEstatePrice","name","dataModel.scoreEstatePrice",1,"ios-slider","input-ltr",3,"ngModelChange","ngModel","disabled","ngClass"],["type","button","matStepperPrevious","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue"],[3,"optionChange","optionDisabled","optionSelectForce","optionSelectUserId","optionPlaceholder"],["for","dataModel.aboutAgentMobile",1,"color-highlight"],["matInput","","type","text","name","dataModel.aboutAgentMobile","type","text","minlength","0","maxlength","100","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.aboutAgentTel",1,"color-highlight"],["matInput","","type","text","name","dataModel.aboutAgentTel","type","text","minlength","0","maxlength","100","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.aboutCustomerMobile",1,"color-highlight"],["matInput","","type","text","name","dataModel.aboutCustomerMobile","type","text","minlength","0","maxlength","100","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.aboutCustomerTel",1,"color-highlight"],["matInput","","type","text","name","dataModel.aboutCustomerTel","type","text","minlength","0","maxlength","100","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"blockquote"],["data-trigger-switch","dataModel.actionCreateNewCmsUser",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],["type","checkbox","id","dataModel.actionCreateNewCmsUser","name","dataModel.actionCreateNewCmsUser",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.actionCreateNewCmsUser",1,"custom-control-label"],["for","dataModel.actionCreateNewCmsUserFirstName",1,"color-highlight"],["matInput","","type","text","name","dataModel.actionCreateNewCmsUserFirstName","type","text","minlength","3","maxlength","50","id","dataModel.actionCreateNewCmsUserFirstName",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.actionCreateNewCmsUserLastName",1,"color-highlight"],["matInput","","type","text","name","dataModel.actionCreateNewCmsUserLastName","type","text","minlength","3","maxlength","50","id","dataModel.actionCreateNewCmsUserLastName",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.actionCreateNewCmsUserMobile",1,"color-highlight"],["matInput","","type","text","name","dataModel.actionCreateNewCmsUserMobile","type","text","placeholder","0912","minlength","3","maxlength","20","id","dataModel.actionCreateNewCmsUserMobile",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["state","seo",3,"label"],[3,"optionSelectForce","optionPlaceholder","optionChange",4,"ngIf"],[1,"example-headers-align"],[3,"expanded","opened",4,"ngFor","ngForOf"],[3,"optionChange","optionSelectForce","optionPlaceholder"],[3,"opened","expanded"],[4,"ngFor","ngForOf"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-blue",3,"click",4,"ngIf"],[3,"ngSwitch"],["class","ntk-full-width",4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"ntk-full-width"],["aria-hidden","true",3,"ngClass"],[3,"modelChange","model","optionForceUseDefaultValue","optionMultipleChoice","optionDefaultValue","optionLabel"],[3,"modelChange","model","optionLabel"],[3,"modelChange","model"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue",3,"click"],["for","dataModel.descriptionHidden",1,"color-highlight"],["matInput","","name","dataModel.descriptionHidden","type","text","minlength","0","maxlength","2000","rows","5","id","dataModel.descriptionHidden",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.addressHidden",1,"color-highlight"],["matInput","","name","dataModel.addressHidden","type","text","minlength","0","maxlength","2000","rows","5","id","dataModel.addressHidden",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"container"],[3,"optionChange","optionSelectFirstItem","optionSelectForce","optionPlaceholder"],["class","row",4,"ngIf"],["for","contractDataModel.description",1,"color-highlight"],["matInput","","name","contractDataModel. description","type","text","minlength","0","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"row"],[1,"col-6","input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","contractDataModel.salePrice",1,"color-highlight"],["matInput","","type","text","name","contractDataModel.salePrice","currencyMask","","type","text","placeholder","0","id","contractDataModel.salePrice",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel","disabled"],[1,"col-3"],["data-trigger-switch","contractDataModel.salePriceAllowAgreement",1,"font-600","font-14"],["type","checkbox","id","contractDataModel.salePriceAllowAgreement","name","contractDataModel.salePriceAllowAgreement",1,"ios-input",3,"ngModelChange","change","ngModel"],["for","contractDataModel.salePriceAllowAgreement",1,"custom-control-label"],["for","contractDataModel.depositPrice",1,"color-highlight"],["matInput","","type","text","name","contractDataModel.depositPrice","currencyMask","","type","text","placeholder","0","id","contractDataModel.depositPrice",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel","disabled"],["data-trigger-switch","contractDataModel.depositPriceByAgreement",1,"font-600","font-14"],["type","checkbox","id","contractDataModel.depositPriceByAgreement","name","contractDataModel.depositPriceByAgreement",1,"ios-input",3,"ngModelChange","change","ngModel"],["for","contractDataModel.depositPriceByAgreement",1,"custom-control-label"],["for","contractDataModel.rentPrice",1,"color-highlight"],["matInput","","type","text","name","contractDataModel.rentPrice","currencyMask","","type","text","placeholder","0","id","contractDataModel.rentPrice",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel","disabled"],["data-trigger-switch","contractDataModel.rentPriceByAgreement",1,"font-600","font-14"],["type","checkbox","id","contractDataModel.rentPriceByAgreement","name","contractDataModel.rentPriceByAgreement",1,"ios-input",3,"ngModelChange","change","ngModel"],["for","contractDataModel.rentPriceByAgreement",1,"custom-control-label"],["for","contractDataModel.periodPrice",1,"color-highlight"],["matInput","","type","text","name","contractDataModel.periodPrice","currencyMask","","type","text","placeholder","0","id","contractDataModel.periodPrice",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel","disabled"],["data-trigger-switch","contractDataModel.periodPriceByAgreement",1,"font-600","font-14"],["type","checkbox","id","contractDataModel.periodPriceByAgreement","name","contractDataModel.periodPriceByAgreement",1,"ios-input",3,"ngModelChange","change","ngModel"],["for","contractDataModel.periodPriceByAgreement",1,"custom-control-label"],[1,"example-container","mat-elevation-z8"],["multiTemplateDataRows","",3,"dataSource"],["matColumnDef","LinkEstateContractTypeId"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","SalePrice"],["matColumnDef","DepositPrice"],["matColumnDef","RentPrice"],["matColumnDef","PeriodPrice"],["matColumnDef","Action"],["class","Action",4,"matCellDef"],["matColumnDef","descriptionDetail"],["colspan","6",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even",4,"matRowDef","matRowDefColumns"],[1,"Action"],["type","button","mat-icon-button","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],["matTooltipPosition","before","aria-hidden","false",2,"color","red",3,"matTooltip"],["colspan","6"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"dataFileModelChange","dataFileModel","openDirectUploadView"],[1,"ntk-button-row"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],["type","submit","matStepperNext","","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-green",3,"disabled",4,"ngIf"],["type","submit","matStepperNext","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"]],template:function(i,t){if(i&1){let s=I();C(0,"app-cms-guide-notice",24),r(1,"div",25),C(2,"app-progress-spinner",26),r(3,"div",27)(4,"p",28),c(5),a(),r(6,"p"),c(7),_(8,"translate"),a(),r(9,"form",29,0),E("ngSubmit",function(){return u(s),f(t.onFormSubmit())}),r(11,"mat-vertical-stepper",30,1),E("selectionChange",function(p){u(s);let D=k(12);return f(t.onStepClick(p,D))}),r(13,"mat-step",31),_(14,"translate"),r(15,"p"),c(16),_(17,"translate"),a(),r(18,"app-estate-property-type-usage-selector",32),_(19,"translate"),E("optionChange",function(p){return u(s),f(t.onActionSelectorSelectUsage(p))}),a(),S(20,Sz,3,3,"p",33)(21,Ez,2,1,"div",34)(22,Iz,2,7,"app-estate-property-type-landuse-selector",35),C(23,"br")(24,"br")(25,"br"),S(26,Uz,26,25,"div",33),a(),S(27,Jz,8,10,"mat-step",36),r(28,"mat-step",31),_(29,"translate"),S(30,Xz,2,6,"app-estate-account-agency-selector",37)(31,$z,2,5,"app-estate-account-expert-selector",38)(32,eY,7,7,"div",39)(33,tY,7,7,"div",39)(34,nY,8,8,"div",39)(35,rY,8,8,"div",39)(36,CY,14,8,"div",40)(37,vY,5,4,"div",41),a(),S(38,FY,12,11,"mat-step",42),r(39,"mat-step",31),_(40,"translate"),S(41,NY,10,8,"div",39)(42,WY,10,8,"div",39)(43,GY,7,7,"div",41),a(),r(44,"mat-step",43),_(45,"translate"),r(46,"p"),c(47),_(48,"translate"),a(),r(49,"app-estate-contract-type-selector",44),_(50,"async"),E("optionChange",function(p){return u(s),f(t.onActionSelectorContractType(p))}),a(),S(51,XY,8,6,"div",45)(52,$Y,3,3,"button",46),C(53,"hr"),r(54,"p"),c(55),_(56,"translate"),a(),S(57,bK,25,5,"div",47)(58,wK,5,4,"div",41),a(),r(59,"mat-step",48),_(60,"translate"),r(61,"p"),c(62),_(63,"translate"),a(),r(64,"div",49)(65,"a",50),_(66,"cmsthumbnail"),S(67,xK,2,4,"img",51),a()(),r(68,"div",52)(69,"label",53),E("click",function(){return u(s),f(t.fileManagerOpenForm=!0)}),c(70),_(71,"translate"),a(),r(72,"input",54,2),_(74,"translate"),w("ngModelChange",function(p){return u(s),T(t.dataModel.linkMainImageId,p)||(t.dataModel.linkMainImageId=p),f(p)}),E("click",function(){return u(s),f(t.fileManagerOpenForm=!0)}),a(),r(75,"cms-file-manager",55),E("itemSelected",function(p){return u(s),f(t.onActionFileSelectedLinkMainImageId(p))}),w("openFormChange",function(p){return u(s),T(t.fileManagerOpenForm,p)||(t.fileManagerOpenForm=p),f(p)}),a()(),C(76,"hr"),S(77,AK,3,3,"p",33),r(78,"app-cms-files-selector",56),w("dataFileModelChange",function(p){return u(s),T(t.dataFileModelImgaes,p)||(t.dataFileModelImgaes=p),f(p)}),a(),C(79,"hr"),S(80,PK,6,5,"div",33),r(81,"h3"),c(82),_(83,"translate"),a(),r(84,"app-cms-360-image-list",57),w("dataModelChange",function(p){return u(s),T(t.dataModel.file360Views,p)||(t.dataModel.file360Views=p),f(p)}),a(),C(85,"br"),r(86,"h3"),c(87),_(88,"translate"),a(),r(89,"app-cms-360-tour-list",58),w("dataModelChange",function(p){return u(s),T(t.dataModel.file360Tour,p)||(t.dataModel.file360Tour=p),f(p)}),a(),S(90,kK,10,11,"div",59),a(),r(91,"mat-step",60),_(92,"translate"),r(93,"p"),c(94),_(95,"translate"),a(),r(96,"app-cms-map",61),E("map$",function(p){return u(s),f(t.receiveMap(p))})("zoom$",function(p){return u(s),f(t.receiveZoom(p))}),a(),r(97,"button",62),E("click",function(){return u(s),f(t.ActionCurrentPoint())}),c(98),_(99,"translate"),a(),S(100,RK,5,4,"div",41),a(),S(101,LK,2,0,"ng-template",63)(102,VK,2,0,"ng-template",64)(103,OK,2,0,"ng-template",65)(104,FK,2,0,"ng-template",66),a()()()()}i&2&&(d("Key","estate.property.list.add")("svg","assets/media/svg/icons/General/Notifications1.svg"),o(2),d("optionsInfoAreaId",t.constructorInfoAreaId),o(3),y(" ",t.formInfo.formTitle," "),o(2),y(" ",g(8,80,"TITLE.Be_Careful_When_Entering_Information")," "),o(6),d("label",x(g(14,82,"TITLE.REQUIRED_INFORMATION"))),o(3),M(g(17,84,"TITLE.Type_Usage")),o(2),d("optionDisabled",!(t.fieldsInfo.linkPropertyTypeUsageId!=null&&t.fieldsInfo.linkPropertyTypeUsageId.accessAddField))("optionTypeView",2)("optionSelectForce",t.dataModel.linkPropertyTypeUsageId)("optionPlaceholder",g(19,86,"TITLE.Type_Usage")),o(2),d("ngIf",t.dataModel.linkPropertyTypeUsageId&&t.dataModel.linkPropertyTypeUsageId.length>0&&t.listTypeLanduse&&t.listTypeLanduse.length>0),o(),d("ngIf",t.dataModel.linkPropertyTypeUsageId&&t.dataModel.linkPropertyTypeUsageId.length>0&&t.listTypeLanduse&&t.listTypeLanduse.length>0),o(),d("ngIf",(!t.listTypeLanduse||t.listTypeLanduse.length===0)&&t.dataModel.linkPropertyTypeUsageId&&t.dataModel.linkPropertyTypeUsageId.length>0),o(4),d("ngIf",t.dataModel.linkPropertyTypeLanduseId&&t.dataModel.linkPropertyTypeLanduseId.length>0),o(),d("ngIf",t.tokenHelper.isAdminSite),o(),d("label",x(g(29,88,"TITLE.Personal_Information"))),o(2),d("ngIf",t.tokenHelper.isAdminSite),o(),d("ngIf",t.tokenHelper.isAdminSite),o(),d("ngIf",t.fieldsInfo.aboutAgentMobile==null?null:t.fieldsInfo.aboutAgentMobile.accessWatchField),o(),d("ngIf",t.fieldsInfo.aboutAgentTel==null?null:t.fieldsInfo.aboutAgentTel.accessWatchField),o(),d("ngIf",t.fieldsInfo.aboutCustomerMobile==null?null:t.fieldsInfo.aboutCustomerMobile.accessWatchField),o(),d("ngIf",t.fieldsInfo.aboutCustomerTel==null?null:t.fieldsInfo.aboutCustomerTel.accessWatchField),o(),d("ngIf",t.fieldsInfo.actionCreateNewCmsUser==null?null:t.fieldsInfo.actionCreateNewCmsUser.accessWatchField),o(),d("ngIf",t.formInfo.formSubmitAllow),o(),d("ngIf",t.dataModel.propertyDetailGroups&&t.dataModel.propertyDetailGroups.length>0),o(),d("label",x(g(40,90,"TITLE.SECRET_INFORMATION"))),o(2),d("ngIf",t.fieldsInfo.descriptionHidden==null?null:t.fieldsInfo.descriptionHidden.accessWatchField),o(),d("ngIf",t.fieldsInfo.addressHidden==null?null:t.fieldsInfo.addressHidden.accessWatchField),o(),d("ngIf",t.formInfo.formSubmitAllow),o(),d("label",x(g(45,92,"TITLE.Transaction"))),o(3),M(g(48,94,"TITLE.Specify_the_type_of_transaction_for_this_property")),o(2),d("optionTypeView",2)("optionDisabled",!1)("optionPlaceholder",g(50,96,t.translate.get("TITLE.Type_Of_Transaction")))("optionSelectForce",t.contractDataModel.linkEstateContractTypeId),o(2),d("ngIf",t.contractTypeSelected&&t.contractTypeSelected.id.length>0),o(),d("ngIf",t.contractTypeSelected&&t.contractTypeSelected.id.length>0),o(3),y(" ",g(56,98,"TITLE.List_Of_Transaction_Details_Of_This_Property")," "),o(2),d("ngIf",!t.publicHelper.processService.process.inRunAll),o(),d("ngIf",t.formInfo.formSubmitAllow),o(),d("label",x(g(60,100,"TITLE.ATTACH_FILES"))),o(3),M(g(63,102,"TITLE.CONTENT_ATTACH_FILES")),o(3),d("href",x(g(66,104,t.dataModel.linkMainImageIdSrc)),j),o(2),d("ngIf",(t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0),o(3),M(g(71,106,"TITLE.Original_Photo")),o(2),d("placeholder",x(g(74,108,"TITLE.Original_File_ID"))),b("ngModel",t.dataModel.linkMainImageId),o(3),d("language",t.appLanguage)("openDirectUploadView",!0)("isPopup",!0),b("openForm",t.fileManagerOpenForm),d("tree",t.fileManagerTree)("openFilemanagerButtonLabelKey","select")("selectFileType",t.selectFileTypeMainImage)("openFilemanagerButtonView",!1),o(2),d("ngIf",t.dataFileModelImgaes&&t.dataFileModelImgaes.size>0),o(),b("dataFileModel",t.dataFileModelImgaes),d("optionFileType",t.selectFileTypeMainImage)("openDirectUploadView",!0),o(2),d("ngIf",!t.hidden),o(2),M(g(83,110,"TITLE.image_360")),o(2),b("dataModel",t.dataModel.file360Views),o(3),M(g(88,112,"TITLE.virtual_tour")),o(2),b("dataModel",t.dataModel.file360Tour),d("dataImageModel",t.dataModel.file360Views),o(),d("ngIf",t.formInfo.formSubmitAllow),o(),d("label",x(g(92,114,"TITLE.Location"))),o(3),y(" ",g(95,116,"TITLE.Click_on_the_map_to_specify_the_location")," "),o(2),d("optonCenter",t.mapOptonCenter),o(2),y(" ",g(99,118,"ACTION.MY_LOCATION")," "),o(2),d("ngIf",t.formInfo.formSubmitAllow))},dependencies:[se,Ne,N,fo,_o,go,ke,Y,Ot,ha,Ht,q,Te,de,De,Ae,ce,Pe,Je,wo,Eo,Io,Mo,To,bo,we,et,Ee,Q,Ji,Xi,hn,yn,Zi,it,ot,st,rt,nt,dt,at,lt,ct,pt,or,Fi,Vi,si,$i,Nn,Hn,Ci,U,No,mn,$n,eo,to,io,no,oo,en,yo,ut,_i,Ed,Cr,nn,on,Sn,Xn,He,ho,O,On,Ie],encapsulation:2});var Gd=Id;var Kp=uo(Fo());var BK=["vform"],NK=()=>["descriptionDetail"];function HK(n,l){if(n&1){let e=I();r(0,"app-estate-property-type-landuse-selector",86),_(1,"translate"),E("optionChange",function(t){u(e);let s=m();return f(s.onActionSelectorSelectLanduse(t))}),a()}if(n&2){let e=m();d("optionDisabled",!(e.fieldsInfo.linkPropertyTypeLanduseId!=null&&e.fieldsInfo.linkPropertyTypeLanduseId.accessEditField))("optionTypeView",2)("optionSelectForce",e.dataModel.linkPropertyTypeLanduseId)("optionPlaceholder",g(1,5,"TITLE.Property_Type"))("optionTypeUsageId",e.dataModel.linkPropertyTypeUsageId)}}function WK(n,l){if(n&1){let e=I();r(0,"app-cms-enum-record-status-selector",87),w("modelChange",function(t){u(e);let s=m();return T(s.dataModel.recordStatus,t)||(s.dataModel.recordStatus=t),f(t)}),a()}if(n&2){let e=m();b("model",e.dataModel.recordStatus),d("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function GK(n,l){n&1&&C(0,"i",90)}function UK(n,l){n&1&&C(0,"i",91)}function jK(n,l){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),_(4,"translate"),a()()),n&2){let e=m(2);o(),y(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," "),o(2),M(g(4,2,"MESSAGE.required"))}}function qK(n,l){if(n&1){let e=I();r(0,"div",45)(1,"label",88),c(2),a(),r(3,"input",89,4),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.title,t)||(s.dataModel.title=t),f(t)}),a(),S(5,GK,1,0,"i",48)(6,UK,1,0,"i",49),r(7,"em"),c(8),a(),S(9,jK,5,4,"mat-error",50),a()}if(n&2){let e=k(4),i=m();o(2),M(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(),d("placeholder",x(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle))("disabled",x(!(i.fieldsInfo.title!=null&&i.fieldsInfo.title.accessEditField))),b("ngModel",i.dataModel.title),o(2),d("ngIf",!e.value),o(),d("ngIf",e.value),o(2),y("",e.value.length," / 100"),o(),d("ngIf",e.errors==null?null:e.errors.required)}}function QK(n,l){n&1&&C(0,"i",90)}function zK(n,l){n&1&&C(0,"i",91)}function YK(n,l){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),_(4,"translate"),a()()),n&2){let e=m(2);o(),y(" ",e.fieldsInfo.caseCode==null?null:e.fieldsInfo.caseCode.fieldTitle," "),o(2),M(g(4,2,"MESSAGE.required"))}}function KK(n,l){if(n&1){let e=I();r(0,"div",45)(1,"label",92),c(2),a(),r(3,"input",93,5),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.caseCode,t)||(s.dataModel.caseCode=t),f(t)}),a(),S(5,QK,1,0,"i",48)(6,zK,1,0,"i",49),r(7,"em"),c(8),a(),S(9,YK,5,4,"mat-error",50),a()}if(n&2){let e=k(4),i=m();o(2),M(i.fieldsInfo.caseCode==null?null:i.fieldsInfo.caseCode.fieldTitle),o(),d("placeholder",x(i.fieldsInfo.caseCode==null?null:i.fieldsInfo.caseCode.fieldTitle))("disabled",x(!(i.fieldsInfo.caseCode!=null&&i.fieldsInfo.caseCode.accessEditField))),b("ngModel",i.dataModel.caseCode),o(2),d("ngIf",!e.value),o(),d("ngIf",e.value),o(2),y("",e.value.length," / 100"),o(),d("ngIf",e.errors==null?null:e.errors.required)}}function ZK(n,l){n&1&&C(0,"i",90)}function JK(n,l){n&1&&C(0,"i",91)}function XK(n,l){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),_(4,"translate"),a()()),n&2){let e=m(2);o(),y(" ",e.fieldsInfo.sharingKey==null?null:e.fieldsInfo.sharingKey.fieldTitle," "),o(2),M(g(4,2,"MESSAGE.required"))}}function $K(n,l){if(n&1){let e=I();r(0,"div",45)(1,"label",94),c(2),a(),r(3,"input",95,6),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.sharingKey,t)||(s.dataModel.sharingKey=t),f(t)}),a(),S(5,ZK,1,0,"i",48)(6,JK,1,0,"i",49)(7,XK,5,4,"mat-error",50),a()}if(n&2){let e=k(4),i=m();o(2),M(i.fieldsInfo.sharingKey==null?null:i.fieldsInfo.sharingKey.fieldTitle),o(),d("placeholder",x(i.fieldsInfo.sharingKey==null?null:i.fieldsInfo.sharingKey.fieldTitle))("disabled",x(!(i.fieldsInfo.sharingKey!=null&&i.fieldsInfo.sharingKey.accessEditField))),b("ngModel",i.dataModel.sharingKey),o(2),d("ngIf",!e.value),o(),d("ngIf",e.value),o(),d("ngIf",e.errors==null?null:e.errors.required)}}function eZ(n,l){if(n&1){let e=I();r(0,"div",96)(1,"div",97)(2,"h5",98),c(3),a()(),r(4,"div",99)(5,"div",100)(6,"input",101),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.viewConfigHiddenInList,t)||(s.dataModel.viewConfigHiddenInList=t),f(t)}),a(),C(7,"label",102),a()()()}if(n&2){let e=m();o(3),M(e.fieldsInfo.viewConfigHiddenInList==null?null:e.fieldsInfo.viewConfigHiddenInList.fieldTitle),o(3),b("ngModel",e.dataModel.viewConfigHiddenInList)}}function tZ(n,l){if(n&1){let e=I();r(0,"div",45)(1,"label",103),c(2),a(),r(3,"input",104,7),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.createdYaer,t)||(s.dataModel.createdYaer=t),f(t)}),a()()}if(n&2){let e=m();o(2),y(" ",e.PropertyTypeSelected.titleCreatedYaer),o(),d("placeholder",x(e.fieldsInfo.createdYaer==null?null:e.fieldsInfo.createdYaer.fieldTitle))("disabled",x(!(e.fieldsInfo.createdYaer!=null&&e.fieldsInfo.createdYaer.accessEditField))),b("ngModel",e.dataModel.createdYaer)}}function iZ(n,l){if(n&1){let e=I();r(0,"div",45)(1,"label",105),c(2),a(),r(3,"input",106,8),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.partition,t)||(s.dataModel.partition=t),f(t)}),a()()}if(n&2){let e=m();o(2),y("",e.PropertyTypeSelected.titlePartition," "),o(),d("placeholder",x(e.PropertyTypeSelected.titlePartition))("disabled",x(!(e.fieldsInfo.partition!=null&&e.fieldsInfo.partition.accessEditField))),b("ngModel",e.dataModel.partition)}}function nZ(n,l){if(n&1){let e=I();r(0,"div",45)(1,"label",107),c(2),a(),r(3,"input",108,9),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.area,t)||(s.dataModel.area=t),f(t)}),a()()}if(n&2){let e=m();o(2),y("",e.fieldsInfo.area==null?null:e.fieldsInfo.area.fieldTitle," "),o(),d("disabled",x(!(e.fieldsInfo.area!=null&&e.fieldsInfo.area.accessEditField)))("placeholder",x(e.fieldsInfo.area==null?null:e.fieldsInfo.area.fieldTitle)),b("ngModel",e.dataModel.area)}}function oZ(n,l){if(n&1){let e=I();r(0,"div",45)(1,"label",109),c(2),a(),r(3,"textarea",110,10),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.address,t)||(s.dataModel.address=t),f(t)}),c(5,"                          "),a(),r(6,"em"),c(7),a()()}if(n&2){let e=k(4),i=m();o(2),M(i.fieldsInfo.address==null?null:i.fieldsInfo.address.fieldTitle),o(),d("placeholder",x(i.fieldsInfo.address==null?null:i.fieldsInfo.address.fieldTitle)),b("ngModel",i.dataModel.address),d("disabled",!(i.fieldsInfo.address!=null&&i.fieldsInfo.address.accessEditField)),o(4),y("",e.value.length," / 500")}}function rZ(n,l){n&1&&C(0,"i",90)}function aZ(n,l){n&1&&C(0,"i",91)}function lZ(n,l){n&1&&(r(0,"mat-error"),c(1," Description is "),r(2,"strong"),c(3),_(4,"translate"),a()()),n&2&&(o(3),M(g(4,1,"MESSAGE.required")))}function sZ(n,l){if(n&1){let e=I();r(0,"div",111)(1,"button",82),E("click",function(){u(e);let t=m();return f(t.onActionBackToParent())}),c(2),_(3,"translate"),a(),r(4,"button",112),c(5),_(6,"translate"),a(),r(7,"button",113),c(8),_(9,"translate"),a()()}if(n&2){let e=m(),i=k(10);o(2),y(" ",g(3,5,"ACTION.BACK_TO_PROPERTY_LIST")," "),o(2),d("disabled",!i.form.valid),o(),y(" ",g(6,7,"ACTION.NEXT")," "),o(2),d("disabled",!i.form.valid||!e.connectionStatus.internetConnection),o(),y(" ",g(9,9,"ACTION.SAVE")," ")}}function dZ(n,l){if(n&1){let e=I();r(0,"div",45)(1,"label",88),c(2),a(),r(3,"input",114,11),w("ngModelChange",function(t){u(e);let s=m(2);return T(s.dataModel.linkSiteId,t)||(s.dataModel.linkSiteId=t),f(t)}),a()()}if(n&2){let e=m(2);o(2),M(e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle),o(),d("placeholder",x(e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle))("disabled",x(!(e.fieldsInfo.linkSiteId!=null&&e.fieldsInfo.linkSiteId.accessEitField))),b("ngModel",e.dataModel.linkSiteId)}}function cZ(n,l){if(n&1){let e=I();r(0,"div",96)(1,"div",97)(2,"h5",115),c(3),a()(),r(4,"div",99)(5,"div",100)(6,"input",116),w("ngModelChange",function(t){u(e);let s=m(2);return T(s.dataModel.viewContentHidden,t)||(s.dataModel.viewContentHidden=t),f(t)}),a(),C(7,"label",117),a()()()}if(n&2){let e=m(2);o(3),M(e.fieldsInfo.viewContentHidden==null?null:e.fieldsInfo.viewContentHidden.fieldTitle),o(3),b("ngModel",e.dataModel.viewContentHidden)}}function pZ(n,l){if(n&1){let e=I();r(0,"app-cms-enum-record-status-selector",87),w("modelChange",function(t){u(e);let s=m(2);return T(s.dataModel.mainAdminRecordStatus,t)||(s.dataModel.mainAdminRecordStatus=t),f(t)}),a()}if(n&2){let e=m(2);b("model",e.dataModel.mainAdminRecordStatus),d("optionDisabled",!1)("optionLabel",e.fieldsInfo.mainAdminRecordStatus==null?null:e.fieldsInfo.mainAdminRecordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function mZ(n,l){if(n&1){let e=I();r(0,"div")(1,"div",118)(2,"label",119),c(3),a(),C(4,"i",120)(5,"i",121),r(6,"input",122,12),w("ngModelChange",function(t){u(e);let s=m(2);return T(s.dataModel.scoreEstateLocation,t)||(s.dataModel.scoreEstateLocation=t),f(t)}),a()(),r(8,"div",118)(9,"label",123),c(10),a(),C(11,"i",120)(12,"i",121),r(13,"input",124,13),w("ngModelChange",function(t){u(e);let s=m(2);return T(s.dataModel.scoreEstateBuild,t)||(s.dataModel.scoreEstateBuild=t),f(t)}),a()(),r(15,"div",118)(16,"label",125),c(17),a(),C(18,"i",120)(19,"i",121),r(20,"input",126,14),w("ngModelChange",function(t){u(e);let s=m(2);return T(s.dataModel.scoreEstatePrice,t)||(s.dataModel.scoreEstatePrice=t),f(t)}),a()()()}if(n&2){let e=m(2);o(3),M(e.fieldsInfo.scoreEstateLocation==null?null:e.fieldsInfo.scoreEstateLocation.fieldTitle),o(3),d("ngClass",ve("cms-range-score-",e.dataModel.scoreEstateLocation)),b("ngModel",e.dataModel.scoreEstateLocation),d("disabled",!(e.fieldsInfo.scoreEstateLocation!=null&&e.fieldsInfo.scoreEstateLocation.accessEditField)),o(4),M(e.fieldsInfo.scoreEstateBuild==null?null:e.fieldsInfo.scoreEstateBuild.fieldTitle),o(3),d("ngClass",ve("cms-range-score-",e.dataModel.scoreEstateBuild)),b("ngModel",e.dataModel.scoreEstateBuild),d("disabled",!(e.fieldsInfo.scoreEstateBuild!=null&&e.fieldsInfo.scoreEstateBuild.accessEditField)),o(4),M(e.fieldsInfo.scoreEstatePrice==null?null:e.fieldsInfo.scoreEstatePrice.fieldTitle),o(3),d("ngClass",ve("cms-range-score-",e.dataModel.scoreEstatePrice)),b("ngModel",e.dataModel.scoreEstatePrice),d("disabled",!(e.fieldsInfo.scoreEstatePrice!=null&&e.fieldsInfo.scoreEstatePrice.accessEditField))}}function uZ(n,l){if(n&1&&(r(0,"button",112),c(1),_(2,"translate"),a()),n&2){m(3);let e=k(10);d("disabled",!e.form.valid),o(),y(" ",g(2,2,"ACTION.NEXT")," ")}}function fZ(n,l){if(n&1&&(r(0,"div",111)(1,"button",127),c(2),_(3,"translate"),a(),S(4,uZ,3,4,"button",128),a()),n&2){let e=m(2);o(2),y(" ",g(3,2,"ACTION.BEFOR")," "),o(2),d("ngIf",e.dataModel.linkPropertyTypeUsageId&&e.dataModel.linkPropertyTypeUsageId.length>0)}}function _Z(n,l){if(n&1&&(r(0,"mat-step",38),_(1,"translate"),S(2,dZ,5,6,"div",42)(3,cZ,8,2,"div",43)(4,pZ,1,5,"app-cms-enum-record-status-selector",41)(5,mZ,22,15,"div",50)(6,fZ,5,4,"div",51),a()),n&2){let e=m();d("label",x(g(1,7,"TITLE.Admin_Config"))),o(2),d("ngIf",(e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.accessWatchField)&&e.tokenHelper.isAdminSite),o(),d("ngIf",e.fieldsInfo.viewContentHidden==null?null:e.fieldsInfo.viewContentHidden.accessWatchField),o(),d("ngIf",e.fieldsInfo.mainAdminRecordStatus==null?null:e.fieldsInfo.mainAdminRecordStatus.accessWatchField),o(),d("ngIf",e.tokenHelper.isAdminSite||e.tokenHelper.isSupportSite),o(),d("ngIf",e.formInfo.formSubmitAllow)}}function gZ(n,l){if(n&1){let e=I();r(0,"app-estate-account-agency-selector",129),_(1,"translate"),E("optionChange",function(t){u(e);let s=m();return f(s.onActionSelectorEstateAgency(t))}),a()}if(n&2){let e=m();d("optionDisabled",!(e.fieldsInfo.linkEstateAgencyId!=null&&e.fieldsInfo.linkEstateAgencyId.accessEditField))("optionSelectForce",e.dataModel.linkEstateAgencyId)("optionSelectUserId",e.tokenInfo.access.userId)("optionPlaceholder",g(1,4,"TITLE.Property_agency"))}}function hZ(n,l){if(n&1){let e=I();r(0,"app-estate-account-expert-selector",44),_(1,"translate"),E("optionChange",function(t){u(e);let s=m();return f(s.onActionSelectorEstateUser(t))}),a()}if(n&2){let e=m();d("optionDisabled",!(e.fieldsInfo.linkEstateExpertId!=null&&e.fieldsInfo.linkEstateExpertId.accessEditField))("optionSelectForce",e.dataModel.linkEstateExpertId)("optionPlaceholder",g(1,3,"TITLE.Property_personnel"))}}function yZ(n,l){if(n&1){let e=I();r(0,"div",45)(1,"label",130),c(2),a(),r(3,"input",131,15),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.aboutAgentMobile,t)||(s.dataModel.aboutAgentMobile=t),f(t)}),a(),r(5,"em"),c(6),a()()}if(n&2){let e=k(4),i=m();o(2),M(i.fieldsInfo.aboutAgentMobile==null?null:i.fieldsInfo.aboutAgentMobile.fieldTitle),o(),d("placeholder",x(i.fieldsInfo.aboutAgentMobile==null?null:i.fieldsInfo.aboutAgentMobile.fieldTitle))("disabled",x(!(i.fieldsInfo.aboutAgentMobile!=null&&i.fieldsInfo.aboutAgentMobile.accessEditField))),b("ngModel",i.dataModel.aboutAgentMobile),o(3),y("",e.value.length," / 100")}}function CZ(n,l){if(n&1){let e=I();r(0,"div",45)(1,"label",132),c(2),a(),r(3,"input",133,16),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.aboutAgentTel,t)||(s.dataModel.aboutAgentTel=t),f(t)}),a(),r(5,"em"),c(6),a()()}if(n&2){let e=k(4),i=m();o(2),M(i.fieldsInfo.aboutAgentTel==null?null:i.fieldsInfo.aboutAgentTel.fieldTitle),o(),d("placeholder",x(i.fieldsInfo.aboutAgentTel==null?null:i.fieldsInfo.aboutAgentTel.fieldTitle))("disabled",x(!(i.fieldsInfo.aboutAgentTel!=null&&i.fieldsInfo.aboutAgentTel.accessEditField))),b("ngModel",i.dataModel.aboutAgentTel),o(3),y("",e.value.length," / 100")}}function SZ(n,l){if(n&1){let e=I();r(0,"div",45)(1,"label",134),c(2),a(),r(3,"input",135,17),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.aboutCustomerMobile,t)||(s.dataModel.aboutCustomerMobile=t),f(t)}),a(),r(5,"em"),c(6),a()()}if(n&2){let e=k(4),i=m();o(2),M(i.fieldsInfo.aboutCustomerMobile==null?null:i.fieldsInfo.aboutCustomerMobile.fieldTitle),o(),d("placeholder",x(i.fieldsInfo.aboutCustomerMobile==null?null:i.fieldsInfo.aboutCustomerMobile.fieldTitle))("disabled",x(!(i.fieldsInfo.aboutCustomerMobile!=null&&i.fieldsInfo.aboutCustomerMobile.accessEditField))),b("ngModel",i.dataModel.aboutCustomerMobile),o(3),y("",e.value.length," / 100")}}function vZ(n,l){if(n&1){let e=I();r(0,"div",45)(1,"label",136),c(2),a(),r(3,"input",137,18),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.aboutCustomerTel,t)||(s.dataModel.aboutCustomerTel=t),f(t)}),a(),r(5,"em"),c(6),a()()}if(n&2){let e=k(4),i=m();o(2),M(i.fieldsInfo.aboutCustomerTel==null?null:i.fieldsInfo.aboutCustomerTel.fieldTitle),o(),d("placeholder",x(i.fieldsInfo.aboutCustomerTel==null?null:i.fieldsInfo.aboutCustomerTel.fieldTitle))("disabled",x(!(i.fieldsInfo.aboutCustomerTel!=null&&i.fieldsInfo.aboutCustomerTel.accessEditField))),b("ngModel",i.dataModel.aboutCustomerTel),o(3),y("",e.value.length," / 100")}}function EZ(n,l){if(n&1){let e=I();r(0,"app-cms-user-selector",44),_(1,"translate"),E("optionChange",function(t){u(e);let s=m(2);return f(s.onActionSelectorCmsUser(t))}),a()}if(n&2){let e=m(2);d("optionDisabled",!(e.fieldsInfo.linkCmsUserId!=null&&e.fieldsInfo.linkCmsUserId.accessAddField))("optionSelectForce",e.dataModel.linkCmsUserId)("optionPlaceholder",g(1,3,"TITLE.user"))}}function IZ(n,l){n&1&&C(0,"i",90)}function MZ(n,l){n&1&&C(0,"i",91)}function bZ(n,l){n&1&&(r(0,"mat-error")(1,"strong"),c(2),_(3,"translate"),a()()),n&2&&(o(2),M(g(3,1,"MESSAGE.required")))}function TZ(n,l){if(n&1){let e=I();r(0,"div",45)(1,"label",143),c(2),_(3,"translate"),a(),r(4,"input",144,19),_(6,"translate"),w("ngModelChange",function(t){u(e);let s=m(2);return T(s.dataModel.actionCreateNewCmsUserFirstName,t)||(s.dataModel.actionCreateNewCmsUserFirstName=t),f(t)}),a(),S(7,IZ,1,0,"i",48)(8,MZ,1,0,"i",49),r(9,"em"),c(10),a(),S(11,bZ,4,3,"mat-error",50),a()}if(n&2){let e=k(5),i=m(2);o(2),M(g(3,8,"TITLE.FIRST_NAME")),o(2),d("placeholder",x(g(6,10,"TITLE.FIRST_NAME"))),b("ngModel",i.dataModel.actionCreateNewCmsUserFirstName),o(3),d("ngIf",!e.value),o(),d("ngIf",e.value),o(2),y("",e.value.length," / 50"),o(),d("ngIf",e.errors==null?null:e.errors.required)}}function wZ(n,l){n&1&&C(0,"i",90)}function xZ(n,l){n&1&&C(0,"i",91)}function AZ(n,l){n&1&&(r(0,"mat-error")(1,"strong"),c(2),_(3,"translate"),a()()),n&2&&(o(2),M(g(3,1,"MESSAGE.required")))}function PZ(n,l){if(n&1){let e=I();r(0,"div",45)(1,"label",145),c(2),_(3,"translate"),a(),r(4,"input",146,20),_(6,"translate"),w("ngModelChange",function(t){u(e);let s=m(2);return T(s.dataModel.actionCreateNewCmsUserLastName,t)||(s.dataModel.actionCreateNewCmsUserLastName=t),f(t)}),a(),S(7,wZ,1,0,"i",48)(8,xZ,1,0,"i",49),r(9,"em"),c(10),a(),S(11,AZ,4,3,"mat-error",50),a()}if(n&2){let e=k(5),i=m(2);o(2),M(g(3,8,"TITLE.LAST_NAME")),o(2),d("placeholder",x(g(6,10,"TITLE.LAST_NAME"))),b("ngModel",i.dataModel.actionCreateNewCmsUserLastName),o(3),d("ngIf",!e.value),o(),d("ngIf",e.value),o(2),y("",e.value.length," / 50"),o(),d("ngIf",e.errors==null?null:e.errors.required)}}function kZ(n,l){n&1&&C(0,"i",90)}function DZ(n,l){n&1&&C(0,"i",91)}function RZ(n,l){n&1&&(r(0,"mat-error")(1,"strong"),c(2),_(3,"translate"),a()()),n&2&&(o(2),M(g(3,1,"MESSAGE.required")))}function LZ(n,l){if(n&1){let e=I();r(0,"div",45)(1,"label",147),c(2),_(3,"translate"),a(),r(4,"input",148,21),w("ngModelChange",function(t){u(e);let s=m(2);return T(s.dataModel.actionCreateNewCmsUserMobile,t)||(s.dataModel.actionCreateNewCmsUserMobile=t),f(t)}),a(),S(6,kZ,1,0,"i",48)(7,DZ,1,0,"i",49),r(8,"em"),c(9),a(),S(10,RZ,4,3,"mat-error",50),a()}if(n&2){let e=k(5),i=m(2);o(2),M(g(3,6,"TITLE.MOBILE_NUMBER")),o(2),b("ngModel",i.dataModel.actionCreateNewCmsUserMobile),o(2),d("ngIf",!e.value),o(),d("ngIf",e.value),o(2),y("",e.value.length," / 20"),o(),d("ngIf",e.errors==null?null:e.errors.required)}}function VZ(n,l){if(n&1){let e=I();r(0,"div",138)(1,"div",96)(2,"div",97)(3,"h5",139),c(4),_(5,"translate"),a()(),r(6,"div",140)(7,"div",100)(8,"input",141),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.actionCreateNewCmsUser,t)||(s.dataModel.actionCreateNewCmsUser=t),f(t)}),a(),C(9,"label",142),a()()(),S(10,EZ,2,5,"app-cms-user-selector",54)(11,TZ,12,12,"div",42)(12,PZ,12,12,"div",42)(13,LZ,11,8,"div",42),a()}if(n&2){let e=m();o(4),y("",g(5,6,"TITLE.CREATE_NEW_USER")," "),o(4),b("ngModel",e.dataModel.actionCreateNewCmsUser),o(2),d("ngIf",!e.dataModel.actionCreateNewCmsUser),o(),d("ngIf",e.dataModel.actionCreateNewCmsUser),o(),d("ngIf",e.dataModel.actionCreateNewCmsUser),o(),d("ngIf",e.dataModel.actionCreateNewCmsUser)}}function OZ(n,l){if(n&1&&(r(0,"button",112),c(1),_(2,"translate"),a()),n&2){m(2);let e=k(10);d("disabled",!e.form.valid),o(),y(" ",g(2,2,"ACTION.NEXT")," ")}}function FZ(n,l){if(n&1&&(r(0,"div",149)(1,"button",127),c(2),_(3,"translate"),a(),S(4,OZ,3,4,"button",128),a()),n&2){let e=m();o(2),y(" ",g(3,2,"ACTION.BEFOR")," "),o(2),d("ngIf",e.dataModel.linkPropertyTypeUsageId&&e.dataModel.linkPropertyTypeUsageId.length>0)}}function BZ(n,l){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),_(4,"translate"),a()()),n&2){let e=m(2);o(),y(" ",e.fieldsInfo.descriptionHidden==null?null:e.fieldsInfo.descriptionHidden.fieldTitle," "),o(2),M(g(4,2,"MESSAGE.required"))}}function NZ(n,l){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),_(4,"translate"),a()()),n&2){let e=m(2);o(),y(" ",e.fieldsInfo.addressHidden==null?null:e.fieldsInfo.addressHidden.fieldTitle," "),o(2),M(g(4,2,"MESSAGE.required"))}}function HZ(n,l){if(n&1&&(r(0,"div",149)(1,"button",127),c(2),_(3,"translate"),a(),r(4,"button",112),c(5),_(6,"translate"),a()()),n&2){m(2);let e=k(10);o(2),y(" ",g(3,3,"ACTION.BEFOR")," "),o(2),d("disabled",!e.form.valid),o(),y(" ",g(6,5,"ACTION.NEXT")," ")}}function WZ(n,l){if(n&1){let e=I();r(0,"mat-step",38),_(1,"translate"),r(2,"div",45)(3,"label",150),c(4),_(5,"translate"),a(),r(6,"textarea",151,22),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.descriptionHidden,t)||(s.dataModel.descriptionHidden=t),f(t)}),c(8,"                              "),a(),r(9,"em"),c(10),a(),S(11,BZ,5,4,"mat-error",50),a(),r(12,"div",45)(13,"label",152),c(14),_(15,"translate"),a(),r(16,"textarea",153,23),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.addressHidden,t)||(s.dataModel.addressHidden=t),f(t)}),c(18,"                                "),a(),r(19,"em"),c(20),a(),S(21,NZ,5,4,"mat-error",50),a(),S(22,HZ,7,7,"div",56),a()}if(n&2){let e=k(7),i=k(17),t=m();d("label",x(g(1,15,"TITLE.SECRET_INFORMATION"))),o(4),y("",g(5,17,"TITLE.Description_Hidden")," "),o(2),d("placeholder",x(t.fieldsInfo.descriptionHidden==null?null:t.fieldsInfo.descriptionHidden.fieldTitle)),b("ngModel",t.dataModel.descriptionHidden),o(4),y("",e.value.length," / 2000"),o(),d("ngIf",e.errors==null?null:e.errors.required),o(3),y(" ",g(15,19,"TITLE.Address_Hidden")," "),o(2),d("placeholder",x(t.fieldsInfo.addressHidden==null?null:t.fieldsInfo.addressHidden.fieldTitle)),b("ngModel",t.dataModel.addressHidden),o(4),y("",i.value.length," / 2000"),o(),d("ngIf",i.errors==null?null:i.errors.required),o(),d("ngIf",t.formInfo.formSubmitAllow)}}function GZ(n,l){if(n&1){let e=I();r(0,"app-estate-property-company-selector",157),_(1,"translate"),E("optionChange",function(t){u(e);let s=m(2);return f(s.onActionSelectorCompany(t))}),a()}if(n&2){let e=m(2);d("optionSelectForce",e.dataModel.linkPropertyCompanyId)("optionPlaceholder",g(1,2,"TITLE.Company"))}}function UZ(n,l){if(n&1){let e=I();r(0,"app-estate-property-project-selector",157),_(1,"translate"),E("optionChange",function(t){u(e);let s=m(2);return f(s.onActionSelectorProject(t))}),a()}if(n&2){let e=m(2);d("optionSelectForce",e.dataModel.linkPropertyProjectId)("optionPlaceholder",g(1,2,"TITLE.Project"))}}function jZ(n,l){if(n&1){let e=I();r(0,"div",165),C(1,"i",166),c(2,"\xA0\xA0 "),r(3,"app-input-string",167),w("modelChange",function(t){u(e);let s=m().$implicit,h=m(3);return T(h.propertyDetails[s.id],t)||(h.propertyDetails[s.id]=t),f(t)}),a()()}if(n&2){let e=m().$implicit,i=m(3);o(),ye("color",e.iconColor),d("ngClass",e.iconFont),o(2),Vt(ve("color:'",e.iconColor,"';")),b("model",i.propertyDetails[e.id]),d("optionForceUseDefaultValue",e.configValueForceUseDefaultValue)("optionMultipleChoice",e.configValueMultipleChoice)("optionDefaultValue",e.configValueDefaultValues)("optionRequired",e.required)("optionLabel",e.title)}}function qZ(n,l){if(n&1){let e=I();r(0,"div",165),C(1,"i",166),c(2,"\xA0\xA0 "),r(3,"app-input-int",168),w("modelChange",function(t){u(e);let s=m().$implicit,h=m(3);return T(h.propertyDetails[s.id],t)||(h.propertyDetails[s.id]=t),f(t)}),a()()}if(n&2){let e=m().$implicit,i=m(3);o(),ye("color",e.iconColor),d("ngClass",e.iconFont),o(2),Vt(ve("color:'",e.iconColor,"';")),b("model",i.propertyDetails[e.id]),d("optionRequired",e.required)("optionLabel",e.title)}}function QZ(n,l){if(n&1){let e=I();r(0,"div",165),C(1,"i",166),c(2,"\xA0\xA0 "),r(3,"app-input-boolean",169),w("modelChange",function(t){u(e);let s=m().$implicit,h=m(3);return T(h.propertyDetails[s.id],t)||(h.propertyDetails[s.id]=t),f(t)}),c(4),a()()}if(n&2){let e=m().$implicit,i=m(3);o(),ye("color",e.iconColor),d("ngClass",e.iconFont),o(2),b("model",i.propertyDetails[e.id]),o(),y("",e.title," ")}}function zZ(n,l){if(n&1){let e=I();r(0,"div",165),C(1,"i",166),c(2,"\xA0\xA0 "),r(3,"app-input-float",168),w("modelChange",function(t){u(e);let s=m().$implicit,h=m(3);return T(h.propertyDetails[s.id],t)||(h.propertyDetails[s.id]=t),f(t)}),a()()}if(n&2){let e=m().$implicit,i=m(3);o(),ye("color",e.iconColor),d("ngClass",e.iconFont),o(2),Vt(ve("color:'",e.iconColor,"';")),b("model",i.propertyDetails[e.id]),d("optionRequired",e.required)("optionLabel",e.title)}}function YZ(n,l){if(n&1){let e=I();r(0,"div",165),C(1,"i",166),c(2,"\xA0\xA0 "),r(3,"label"),c(4),a(),r(5,"app-input-date",170),w("modelChange",function(t){u(e);let s=m().$implicit,h=m(3);return T(h.propertyDetails[s.id],t)||(h.propertyDetails[s.id]=t),f(t)}),a()()}if(n&2){let e=m().$implicit,i=m(3);o(),ye("color",e.iconColor),d("ngClass",e.iconFont),o(2),Vt(ve("color:'",e.iconColor,"';")),o(),M(e.title),o(),b("model",i.propertyDetails[e.id]),d("optionRequired",e.required)}}function KZ(n,l){if(n&1){let e=I();r(0,"div",165),C(1,"i",166),c(2,"\xA0\xA0 "),r(3,"app-input-textarea",168),w("modelChange",function(t){u(e);let s=m().$implicit,h=m(3);return T(h.propertyDetails[s.id],t)||(h.propertyDetails[s.id]=t),f(t)}),a()()}if(n&2){let e=m().$implicit,i=m(3);o(),ye("color",e.iconColor),d("ngClass",e.iconFont),o(2),Vt(ve("color:'",e.iconColor,"';")),b("model",i.propertyDetails[e.id]),d("optionRequired",e.required)("optionLabel",e.title)}}function ZZ(n,l){if(n&1){let e=I();r(0,"div",165),C(1,"i",166),c(2,"\xA0\xA0 "),r(3,"app-input-string",167),w("modelChange",function(t){u(e);let s=m().$implicit,h=m(3);return T(h.propertyDetails[s.id],t)||(h.propertyDetails[s.id]=t),f(t)}),a()()}if(n&2){let e=m().$implicit,i=m(3);o(),ye("color",e.iconColor),d("ngClass",e.iconFont),o(2),Vt(ve("color:'",e.iconColor,"';")),b("model",i.propertyDetails[e.id]),d("optionForceUseDefaultValue",e.configValueForceUseDefaultValue)("optionMultipleChoice",e.configValueMultipleChoice)("optionDefaultValue",e.configValueDefaultValues)("optionRequired",e.required)("optionLabel",e.title)}}function JZ(n,l){if(n&1&&(A(0)(1,162),S(2,jZ,4,12,"div",163)(3,qZ,4,9,"div",163)(4,QZ,5,5,"div",163)(5,zZ,4,9,"div",163)(6,YZ,6,9,"div",163)(7,KZ,4,9,"div",163)(8,ZZ,4,12,"div",164),P()()),n&2){let e=l.$implicit,i=m(3);o(),d("ngSwitch",e.inputDataType),o(),d("ngSwitchCase",i.enumInputDataType.String),o(),d("ngSwitchCase",i.enumInputDataType.Int),o(),d("ngSwitchCase",i.enumInputDataType.Boolean),o(),d("ngSwitchCase",i.enumInputDataType.Float),o(),d("ngSwitchCase",i.enumInputDataType.Date),o(),d("ngSwitchCase",i.enumInputDataType.TextArea)}}function XZ(n,l){if(n&1){let e=I();r(0,"button",171),E("click",function(){u(e);let t=m(3);return f(t.prevStep())}),c(1),_(2,"translate"),a()}n&2&&(o(),M(g(2,1,"ACTION.PREVIOUS")))}function $Z(n,l){if(n&1){let e=I();r(0,"button",172),E("click",function(){u(e);let t=m(3);return f(t.nextStep())}),c(1),_(2,"translate"),a()}n&2&&(o(),M(g(2,1,"ACTION.NEXT")))}function eJ(n,l){if(n&1){let e=I();r(0,"button",172),E("click",function(){u(e);let t=m(3);return f(t.nextStep())}),c(1),_(2,"translate"),a()}n&2&&(o(),M(g(2,1,"ACTION.END")))}function tJ(n,l){if(n&1){let e=I();r(0,"mat-expansion-panel",158),E("opened",function(){let t=u(e).index,s=m(2);return f(s.setStep(t))}),r(1,"mat-expansion-panel-header")(2,"mat-panel-title"),c(3),a(),r(4,"mat-panel-description"),c(5),r(6,"mat-icon"),c(7),a()()(),S(8,JZ,9,7,"ng-container",159),r(9,"mat-action-row"),S(10,XZ,3,3,"button",160)(11,$Z,3,3,"button",161)(12,eJ,3,3,"button",161),a()()}if(n&2){let e=l.$implicit,i=l.index,t=m(2);d("expanded",t.step===i),o(3),y(" ",e.title," "),o(2),y(" ",e.description," "),o(2),M(e.iconFont),o(),d("ngForOf",e.propertyDetails),o(2),d("ngIf",i>0),o(),d("ngIf",i+1<t.dataModel.propertyDetailGroups.length),o(),d("ngIf",i+1===t.dataModel.propertyDetailGroups.length)}}function iJ(n,l){if(n&1&&(r(0,"div",149)(1,"button",127),c(2),_(3,"translate"),a(),r(4,"button",112),c(5),_(6,"translate"),a()()),n&2){m(2);let e=k(10);o(2),y(" ",g(3,3,"ACTION.BEFOR")," "),o(2),d("disabled",!e.form.valid),o(),y(" ",g(6,5,"ACTION.NEXT")," ")}}function nJ(n,l){if(n&1&&(r(0,"mat-step",58),_(1,"translate"),r(2,"p"),c(3),_(4,"translate"),a(),S(5,GZ,2,4,"app-estate-property-company-selector",154)(6,UZ,2,4,"app-estate-property-project-selector",154),C(7,"hr"),r(8,"mat-accordion",155),S(9,tJ,13,8,"mat-expansion-panel",156),C(10,"br"),a(),S(11,iJ,7,7,"div",56),a()),n&2){let e=m();d("label",x(g(1,7,"TITLE.Details"))),o(3),M(g(4,9,"TITLE.Property_details_according_to_the_type_of_property")),o(2),d("ngIf",e.tokenHelper.isAdminSite),o(),d("ngIf",e.tokenHelper.isAdminSite),o(3),d("ngForOf",e.dataModel.propertyDetailGroups),o(2),d("ngIf",e.formInfo.formSubmitAllow)}}function oJ(n,l){if(n&1){let e=I();r(0,"div",96)(1,"div",97)(2,"h5",173),c(3),a()(),r(4,"div",99)(5,"div",100)(6,"input",174),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.isSoldIt,t)||(s.dataModel.isSoldIt=t),f(t)}),a(),C(7,"label",175),a()()()}if(n&2){let e=m();o(3),M(e.fieldsInfo.isSoldIt==null?null:e.fieldsInfo.isSoldIt.fieldTitle),o(3),b("ngModel",e.dataModel.isSoldIt)}}function rJ(n,l){if(n&1){let e=I();r(0,"div",176)(1,"label",177),c(2),a(),r(3,"input",178,4),w("ngModelChange",function(t){u(e);let s=m();return T(s.dataModel.reviewDataAfterSoldIt,t)||(s.dataModel.reviewDataAfterSoldIt=t),f(t)}),a(),C(5,"mat-datepicker-toggle",179)(6,"mat-datepicker",180,24),a()}if(n&2){let e=k(7),i=m();o(2),M(i.fieldsInfo.reviewDataAfterSoldIt==null?null:i.fieldsInfo.reviewDataAfterSoldIt.fieldTitle),o(),d("matDatepicker",e),b("ngModel",i.dataModel.reviewDataAfterSoldIt),o(2),d("for",e)}}function aJ(n,l){if(n&1){let e=I();r(0,"div",96)(1,"div",97)(2,"h5",191),c(3),_(4,"translate"),a()(),r(5,"div",140)(6,"div",100)(7,"input",192),w("ngModelChange",function(t){u(e);let s=m(4);return T(s.contractDataModel.salePriceByAgreement,t)||(s.contractDataModel.salePriceByAgreement=t),f(t)}),E("change",function(){u(e);let t=m(4);return f(t.onActionClickSalePriceAllowAgreement())}),a(),C(8,"label",193),a()()()}if(n&2){let e=m(4);o(3),M(g(4,2,"TITLE.Agreement")),o(4),b("ngModel",e.contractDataModel.salePriceByAgreement)}}function lJ(n,l){if(n&1){let e=I();r(0,"div",186)(1,"div",187)(2,"label",188),c(3,"contractTypeSelected.titleSalePriceML"),a(),r(4,"input",189),w("ngModelChange",function(t){u(e);let s=m(3);return T(s.contractDataModel.salePrice,t)||(s.contractDataModel.salePrice=t),f(t)}),a()(),r(5,"div",190),S(6,aJ,9,4,"div",43),a()()}if(n&2){let e=m(3);o(4),b("ngModel",e.contractDataModel.salePrice),d("disabled",e.contractDataModel.salePriceByAgreement),o(2),d("ngIf",e.contractTypeSelected.salePriceAllowAgreement)}}function sJ(n,l){if(n&1){let e=I();r(0,"div",96)(1,"div",97)(2,"h5",196),c(3),_(4,"translate"),a()(),r(5,"div",140)(6,"div",100)(7,"input",197),w("ngModelChange",function(t){u(e);let s=m(4);return T(s.contractDataModel.depositPriceByAgreement,t)||(s.contractDataModel.depositPriceByAgreement=t),f(t)}),E("change",function(){u(e);let t=m(4);return f(t.onActionClickDepositPriceByAgreement())}),a(),C(8,"label",198),a()()()}if(n&2){let e=m(4);o(3),M(g(4,2,"TITLE.Agreement")),o(4),b("ngModel",e.contractDataModel.depositPriceByAgreement)}}function dJ(n,l){if(n&1){let e=I();r(0,"div",186)(1,"div",187)(2,"label",194),c(3),a(),r(4,"input",195),w("ngModelChange",function(t){u(e);let s=m(3);return T(s.contractDataModel.depositPrice,t)||(s.contractDataModel.depositPrice=t),f(t)}),a()(),r(5,"div",190),S(6,sJ,9,4,"div",43),a()()}if(n&2){let e=m(3);o(3),M(e.contractTypeSelected.titleDepositPriceML),o(),b("ngModel",e.contractDataModel.depositPrice),d("disabled",e.contractDataModel.depositPriceByAgreement),o(2),d("ngIf",e.contractTypeSelected.depositPriceAllowAgreement)}}function cJ(n,l){if(n&1){let e=I();r(0,"div",96)(1,"div",97)(2,"h5",201),c(3),_(4,"translate"),a()(),r(5,"div",140)(6,"div",100)(7,"input",202),w("ngModelChange",function(t){u(e);let s=m(4);return T(s.contractDataModel.rentPriceByAgreement,t)||(s.contractDataModel.rentPriceByAgreement=t),f(t)}),E("change",function(){u(e);let t=m(4);return f(t.onActionClickRentPriceAllowAgreement())}),a(),C(8,"label",203),a()()()}if(n&2){let e=m(4);o(3),M(g(4,2,"TITLE.Agreement")),o(4),b("ngModel",e.contractDataModel.rentPriceByAgreement)}}function pJ(n,l){if(n&1){let e=I();r(0,"div",186)(1,"div",187)(2,"label",199),c(3,"contractTypeSelected.titleRentPriceML"),a(),r(4,"input",200),w("ngModelChange",function(t){u(e);let s=m(3);return T(s.contractDataModel.rentPrice,t)||(s.contractDataModel.rentPrice=t),f(t)}),a()(),r(5,"div",190),S(6,cJ,9,4,"div",43),a()()}if(n&2){let e=m(3);o(4),b("ngModel",e.contractDataModel.rentPrice),d("disabled",e.contractDataModel.rentPriceByAgreement),o(2),d("ngIf",e.contractTypeSelected.rentPriceAllowAgreement)}}function mJ(n,l){if(n&1){let e=I();r(0,"div",96)(1,"div",97)(2,"h5",206),c(3),_(4,"translate"),a()(),r(5,"div",140)(6,"div",100)(7,"input",207),w("ngModelChange",function(t){u(e);let s=m(4);return T(s.contractDataModel.periodPriceByAgreement,t)||(s.contractDataModel.periodPriceByAgreement=t),f(t)}),E("change",function(){u(e);let t=m(4);return f(t.onActionClickPeriodPriceAllowAgreement())}),a(),C(8,"label",208),a()()()}if(n&2){let e=m(4);o(3),M(g(4,2,"TITLE.Agreement")),o(4),b("ngModel",e.contractDataModel.periodPriceByAgreement)}}function uJ(n,l){if(n&1){let e=I();r(0,"div",186)(1,"div",187)(2,"label",204),c(3,"contractTypeSelected.titlePeriodPriceML"),a(),r(4,"input",205),w("ngModelChange",function(t){u(e);let s=m(3);return T(s.contractDataModel.periodPrice,t)||(s.contractDataModel.periodPrice=t),f(t)}),a()(),r(5,"div",190),S(6,mJ,9,4,"div",43),a()()}if(n&2){let e=m(3);o(4),b("ngModel",e.contractDataModel.periodPrice),d("disabled",e.contractDataModel.periodPriceByAgreement),o(2),d("ngIf",e.contractTypeSelected.hasPeriodPrice&&e.contractTypeSelected.periodPriceAllowAgreement)}}function fJ(n,l){if(n&1){let e=I();r(0,"div"),S(1,lJ,7,3,"div",183)(2,dJ,7,4,"div",183)(3,pJ,7,3,"div",183)(4,uJ,7,3,"div",183),C(5,"hr"),r(6,"div",45)(7,"label",184),c(8),a(),r(9,"textarea",185,25),w("ngModelChange",function(t){u(e);let s=m(2);return T(s.contractDataModel.description,t)||(s.contractDataModel.description=t),f(t)}),c(11,"                                        "),a(),r(12,"em"),c(13),a()()()}if(n&2){let e=k(10),i=m(2);o(),d("ngIf",i.contractTypeSelected.hasSalePrice),o(),d("ngIf",i.contractTypeSelected.hasDepositPrice),o(),d("ngIf",i.contractTypeSelected.hasRentPrice),o(),d("ngIf",i.contractTypeSelected.hasPeriodPrice),o(4),M(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle),o(),d("placeholder",x(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle)),b("ngModel",i.contractDataModel.description),o(4),y("",e.value.length," / 500")}}function _J(n,l){if(n&1){let e=I();r(0,"button",75),E("click",function(){u(e);let t=m(2);return f(t.onActionOptionAddToList())}),c(1),_(2,"translate"),a()}n&2&&(o(),y(" ",g(2,1,"ACTION.Add_To_List")," ... "))}function gJ(n,l){if(n&1){let e=I();r(0,"div",181),C(1,"br")(2,"br"),r(3,"app-cms-currency-selector",182),_(4,"translate"),E("optionChange",function(t){u(e);let s=m();return f(s.onActionSelectCurrency(t))}),a(),S(5,fJ,14,9,"div",50),C(6,"br")(7,"br"),S(8,_J,3,3,"button",83),a()}if(n&2){let e=m();o(3),d("optionSelectFirstItem",e.currencyOptionSelectFirstItem)("optionSelectForce",e.contractDataModel.linkCoreCurrencyId)("optionPlaceholder",g(4,5,"TITLE.Specify_the_transaction_currency")),o(2),d("ngIf",e.contractDataModel.linkCoreCurrencyId>0),o(3),d("ngIf",e.contractTypeSelected&&e.contractTypeSelected.id.length>0)}}function hJ(n,l){n&1&&(r(0,"mat-header-cell"),c(1),_(2,"translate"),a()),n&2&&(o(),y(" ",g(2,1,"TITLE.Contract")," "))}function yJ(n,l){if(n&1&&(r(0,"mat-cell"),c(1),_(2,"cmstitle"),a()),n&2){let e=l.$implicit,i=m(2);o(),y(" ",oi(2,1,e.linkEstateContractTypeId,i.dataModelEstateContractTypeResult.listItems)," ")}}function CJ(n,l){n&1&&(r(0,"mat-header-cell"),c(1),_(2,"translate"),a()),n&2&&(o(),y(" ",g(2,1,"TITLE.SalePrice")," "))}function SJ(n,l){if(n&1&&(A(0),c(1),_(2,"number"),C(3,"br"),c(4),P()),n&2){let e=m().$implicit;o(),y(" ",g(2,3,e.salePrice)," "),o(3),$("( ",e.currencyTitle," ",e.currencySymbol," ) ")}}function vJ(n,l){n&1&&(A(0),c(1),_(2,"translate"),P()),n&2&&(o(),y(" ",g(2,1,"TITLE.PriceByAgreement")," "))}function EJ(n,l){if(n&1&&(A(0),c(1),_(2,"translate"),_(3,"number"),P()),n&2){let e=m().$implicit,i=m(2);o(),$(" (",g(2,2,"TITLE.SQUARE_METERS")," :",g(3,4,e.salePrice/i.dataModel.area),") ")}}function IJ(n,l){if(n&1&&(r(0,"mat-cell"),S(1,SJ,5,5,"ng-container",50)(2,vJ,3,3,"ng-container",50)(3,EJ,4,6,"ng-container",50),a()),n&2){let e=l.$implicit,i=m(2);o(),d("ngIf",e.salePrice>0),o(),d("ngIf",e.salePriceByAgreement),o(),d("ngIf",e.salePrice>0&&i.dataModel.area>0)}}function MJ(n,l){n&1&&(r(0,"mat-header-cell"),c(1),_(2,"translate"),a()),n&2&&(o(),y(" ",g(2,1,"TITLE.DepositPrice")," "))}function bJ(n,l){if(n&1&&(A(0),c(1),_(2,"number"),C(3,"br"),c(4),P()),n&2){let e=m().$implicit;o(),y(" ",g(2,3,e.depositPrice)),o(3),$(" ( ",e.currencyTitle," ",e.currencySymbol," ) ")}}function TJ(n,l){n&1&&(A(0),c(1),_(2,"translate"),P()),n&2&&(o(),y(" ",g(2,1,"TITLE.PriceByAgreement")," "))}function wJ(n,l){if(n&1&&(r(0,"mat-cell"),S(1,bJ,5,5,"ng-container",50)(2,TJ,3,3,"ng-container",50),a()),n&2){let e=l.$implicit;o(),d("ngIf",e.depositPrice>0),o(),d("ngIf",e.depositPriceByAgreement)}}function xJ(n,l){n&1&&(r(0,"mat-header-cell"),c(1),_(2,"translate"),a()),n&2&&(o(),y(" ",g(2,1,"TITLE.RentPrice")," "))}function AJ(n,l){if(n&1&&(A(0),c(1),_(2,"number"),C(3,"br"),c(4),P()),n&2){let e=m().$implicit;o(),y(" ",g(2,3,e.rentPrice)),o(3),$(" ( ",e.currencyTitle," ",e.currencySymbol," ) ")}}function PJ(n,l){n&1&&(A(0),c(1),_(2,"translate"),P()),n&2&&(o(),y(" ",g(2,1,"TITLE.PriceByAgreement")," "))}function kJ(n,l){if(n&1&&(r(0,"mat-cell"),S(1,AJ,5,5,"ng-container",50)(2,PJ,3,3,"ng-container",50),a()),n&2){let e=l.$implicit;o(),d("ngIf",e.rentPrice>0),o(),d("ngIf",e.rentPriceByAgreement)}}function DJ(n,l){n&1&&(r(0,"mat-header-cell"),c(1),_(2,"translate"),a()),n&2&&(o(),y(" ",g(2,1,"TITLE.PeriodPrice")," "))}function RJ(n,l){if(n&1&&(A(0),c(1),_(2,"number"),C(3,"br"),c(4),P()),n&2){let e=m().$implicit;o(),y(" ",g(2,3,e.periodPrice)," "),o(3),$(" ( ",e.currencyTitle," ",e.currencySymbol,") ")}}function LJ(n,l){n&1&&(A(0),c(1),_(2,"translate"),P()),n&2&&(o(),y(" ",g(2,1,"TITLE.PriceByAgreement")," "))}function VJ(n,l){if(n&1&&(r(0,"mat-cell"),S(1,RJ,5,5,"ng-container",50)(2,LJ,3,3,"ng-container",50),a()),n&2){let e=l.$implicit;o(),d("ngIf",e.periodPrice>0),o(),d("ngIf",e.periodPriceByAgreement)}}function OJ(n,l){n&1&&(r(0,"mat-header-cell"),c(1),_(2,"translate"),a()),n&2&&(o(),y(" ",g(2,1,"TITLE.OPTION")," "))}function FJ(n,l){if(n&1){let e=I();r(0,"mat-cell",224)(1,"button",225),E("click",function(){let t=u(e).index,s=m(2);return f(s.onActionOptionRemoveFromList(t))}),r(2,"small")(3,"mat-icon",226),_(4,"translate"),c(5,"delete"),a()()()()}n&2&&(o(3),d("matTooltip",x(g(4,2,"ACTION.DELETE"))))}function BJ(n,l){if(n&1&&(A(0),c(1),P()),n&2){let e=m().$implicit;o(),y(" ",e.description," ")}}function NJ(n,l){if(n&1&&(r(0,"mat-cell",227),c(1),_(2,"translate"),S(3,BJ,2,1,"ng-container",50),a()),n&2){let e=l.$implicit;o(),y(" ",g(2,2,"TITLE.DESCRIPTION")," : "),o(2),d("ngIf",e.description)}}function HJ(n,l){n&1&&C(0,"mat-header-row")}function WJ(n,l){if(n&1&&C(0,"mat-row"),n&2){let e=l.dataIndex;Se("ntk-row-odd",e%2)("ntk-row-even",!(e%2))}}function GJ(n,l){if(n&1&&C(0,"mat-row"),n&2){let e=l.dataIndex;Se("ntk-row-odd",e%2)("ntk-row-even",!(e%2))}}function UJ(n,l){if(n&1&&(r(0,"div",209)(1,"mat-table",210),A(2,211),S(3,hJ,3,3,"mat-header-cell",212)(4,yJ,3,4,"mat-cell",213),P(),A(5,214),S(6,CJ,3,3,"mat-header-cell",212)(7,IJ,4,3,"mat-cell",213),P(),A(8,215),S(9,MJ,3,3,"mat-header-cell",212)(10,wJ,3,2,"mat-cell",213),P(),A(11,216),S(12,xJ,3,3,"mat-header-cell",212)(13,kJ,3,2,"mat-cell",213),P(),A(14,217),S(15,DJ,3,3,"mat-header-cell",212)(16,VJ,3,2,"mat-cell",213),P(),A(17,218),S(18,OJ,3,3,"mat-header-cell",212)(19,FJ,6,4,"mat-cell",219),P(),A(20,220),S(21,NJ,4,4,"mat-cell",221),P(),S(22,HJ,1,0,"mat-header-row",222)(23,WJ,1,4,"mat-row",223)(24,GJ,1,4,"mat-row",223),a()()),n&2){let e=m();o(),d("dataSource",e.optionTabledataSource),o(21),d("matHeaderRowDef",e.optionTabledisplayedColumns),o(),d("matRowDefColumns",e.optionTabledisplayedColumns),o(),d("matRowDefColumns",le(4,NK))}}function jJ(n,l){if(n&1&&(r(0,"button",112),c(1),_(2,"translate"),a()),n&2){m(2);let e=k(10);d("disabled",!e.form.valid),o(),y(" ",g(2,2,"ACTION.NEXT")," ")}}function qJ(n,l){if(n&1&&(r(0,"div",149)(1,"button",127),c(2),_(3,"translate"),a(),S(4,jJ,3,4,"button",128),a()),n&2){let e=m();o(2),y(" ",g(3,2,"ACTION.BEFOR")," "),o(2),d("ngIf",e.dataModel.contracts&&e.dataModel.contracts.length>0)}}function QJ(n,l){if(n&1&&(C(0,"img",228),_(1,"cmsthumbnail")),n&2){let e=m();d("src",x(g(1,2,e.dataModel.linkMainImageIdSrc)),j)}}function zJ(n,l){n&1&&(r(0,"p"),c(1),_(2,"translate"),a()),n&2&&(o(),y("",g(2,1,"TITLE.List_of_attached_photos")," "))}function YJ(n,l){if(n&1){let e=I();r(0,"div")(1,"p"),c(2),_(3,"translate"),a(),r(4,"app-cms-files-selector",229),w("dataFileModelChange",function(t){u(e);let s=m();return T(s.dataFileModelFiles,t)||(s.dataFileModelFiles=t),f(t)}),a()()}if(n&2){let e=m();o(2),M(g(3,3,"TITLE.List_of_attached_files")),o(2),b("dataFileModel",e.dataFileModelFiles),d("openDirectUploadView",!0)}}function KJ(n,l){if(n&1&&(r(0,"div",111)(1,"button",127),c(2),_(3,"translate"),a(),r(4,"button",112),c(5),_(6,"translate"),a(),r(7,"button",113),c(8),_(9,"translate"),a()()),n&2){let e=m(),i=k(10);o(2),y(" ",g(3,5,"ACTION.BEFOR")," "),o(2),d("disabled",!i.form.valid),o(),y(" ",g(6,7,"ACTION.NEXT")," "),o(2),d("disabled",!i.form.valid||!e.connectionStatus.internetConnection),o(),y(" ",g(9,9,"ACTION.SAVE")," ")}}function ZJ(n,l){if(n&1){let e=I();r(0,"button",231),E("click",function(){u(e);let t=m(2);return f(t.onFormSubmitAndMessage())}),c(1),_(2,"translate"),a()}if(n&2){m(2);let e=k(10);d("disabled",!e.form.valid),o(),y(" ",g(2,2,"ACTION.Send_Message")," ")}}function JJ(n,l){if(n&1){let e=I();r(0,"div",111)(1,"button",82),E("click",function(){u(e);let t=m();return f(t.onActionBackToParent())}),c(2),_(3,"translate"),a(),r(4,"button",127),c(5),_(6,"translate"),a(),r(7,"button",113),c(8),_(9,"translate"),a(),S(10,ZJ,3,4,"button",230),a()}if(n&2){let e=m(),i=k(10);o(2),y(" ",g(3,5,"ACTION.BACK")," "),o(3),y(" ",g(6,7,"ACTION.BEFOR")," "),o(2),d("disabled",!i.form.valid||!e.connectionStatus.internetConnection),o(),y(" ",g(9,9,"ACTION.SAVE")," "),o(2),d("ngIf",e.tokenHelper.isAdminSite)}}function XJ(n,l){n&1&&(r(0,"mat-icon"),c(1,"call_end"),a())}function $J(n,l){n&1&&(r(0,"mat-icon"),c(1,"call_end"),a())}function eX(n,l){n&1&&(r(0,"mat-icon"),c(1,"forum"),a())}function tX(n,l){n&1&&(r(0,"mat-icon"),c(1,"forum"),a())}function iX(n,l){if(n&1){let e=I();r(0,"button",75),E("click",function(){u(e);let t=m();return f(t.onFormLoadEstateCustomerOrderResult())}),C(1,"i",232),c(2),_(3,"translate"),a()}n&2&&(o(2),y(" ",g(3,1,"ACTION.VIEW_Estate_Customer_Orders")," "))}function nX(n,l){if(n&1){let e=I();r(0,"button",75),E("click",function(){u(e);let t=m();return f(t.onFormLoadEstateHaveHistoryResult())}),C(1,"i",232),c(2),_(3,"translate"),a()}n&2&&(o(2),y(" ",g(3,1,"ACTION.VIEW_Estate_Customer_Have_Histories")," "))}function oX(n,l){if(n&1){let e=I();r(0,"button",75),E("click",function(){u(e);let t=m();return f(t.onFormLoadEstateHistoryResult())}),C(1,"i",232),c(2),_(3,"translate"),a()}n&2&&(o(2),y(" ",g(3,1,"ACTION.VIEW_Estate_Histories")," "))}function rX(n,l){if(n&1){let e=I();r(0,"button",75),E("click",function(){u(e);let t=m();return f(t.onFormLoadEstateAgencyResult())}),C(1,"i",232),c(2),_(3,"translate"),a()}n&2&&(o(2),y(" ",g(3,1,"ACTION.VIEW_Estate_Agencys")," "))}function aX(n,l){if(n&1){let e=I();r(0,"button",75),E("click",function(){u(e);let t=m();return f(t.onFormLoadEstateUserResult())}),C(1,"i",232),c(2),_(3,"translate"),a()}n&2&&(o(2),y(" ",g(3,1,"ACTION.VIEW_Estate_Users")," "))}function lX(n,l){if(n&1){let e=I();r(0,"button",75),E("click",function(){u(e);let t=m();return f(t.onFormSubmitAndMessage())}),C(1,"i",232),c(2),_(3,"translate"),a()}n&2&&(o(2),y(" ",g(3,1,"ACTION.Send_Message")," "))}function sX(n,l){if(n&1){let e=I();r(0,"button",75),E("click",function(){u(e);let t=m();return f(t.onActionButtonQuickHistoryAddRow())}),C(1,"i",232),c(2),_(3,"translate"),a()}n&2&&(o(2),y(" ",g(3,1,"ACTION.HISTORY_ADD")," "))}function dX(n,l){if(n&1&&(r(0,"div",233),C(1,"app-estate-account-agency-list",234,26),a()),n&2){let e=m();o(),d("optionLinkLocationWorkAreaId",e.dataModel.linkLocationId)("optionloadComponent",!1)("optionloadByRoute",!1)}}function cX(n,l){if(n&1&&(r(0,"div",233),C(1,"app-estate-account-expert-list",234,27),a()),n&2){let e=m();o(),d("optionLinkLocationWorkAreaId",e.dataModel.linkLocationId)("optionloadComponent",!1)("optionloadByRoute",!1)}}function pX(n,l){if(n&1&&(r(0,"div",233),C(1,"app-estate-customer-order-list",235,28),a()),n&2){let e=m();o(),d("optionLinkPropertyId",e.dataModel.id)("optionloadComponent",!1)("optionloadByRoute",!1)}}function mX(n,l){if(n&1&&(r(0,"div",233),C(1,"app-estate-customer-order-list",236,29),a()),n&2){let e=m();o(),d("optionLinkPropertyIdHaveHistory",e.dataModel.id)("optionloadComponent",!1)("optionloadByRoute",!1)}}function uX(n,l){if(n&1&&(r(0,"div",233),C(1,"app-estate-property-history-list",235,30),a()),n&2){let e=m();o(),d("optionLinkPropertyId",e.dataModel.id)("optionloadComponent",!1)("optionloadByRoute",!1)}}var Md=class Md extends Bt{constructor(e,i,t,s,h,p,D,z,he,je,Ge,mt,Nt,Rt){super(s,new Ki,he,Nt);this.activatedRoute=e;this.coreEnumService=i;this.estateContractTypeService=t;this.estatePropertyService=s;this.estatePropertyDetailGroupService=h;this.cmsToastrService=p;this.cmsStoreService=D;this.router=z;this.publicHelper=he;this.cdr=je;this.themeService=Ge;this.tokenHelper=mt;this.translate=Nt;this.dialog=Rt;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.connectionStatus=new sc;this.enumInputDataType=Ri;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.formMatcher=new ka;this.dataModelResult=new Ft;this.dataModelEstateContractTypeResult=new G;this.dataModel=new Ki;this.dataModelCorCurrencySelector=new Di;this.dataFileModelImgaes=new Map;this.dataFileModelFiles=new Map;this.formInfo=new me;this.fileManagerOpenForm=!1;this.currencyOptionSelectFirstItem=!0;this.PropertyTypeSelected=new Gt;this.contractDataModel=new Kn;this.optionTabledataSource=new li;this.optionTabledisplayedColumns=["LinkEstateContractTypeId","SalePrice","DepositPrice","RentPrice","PeriodPrice","Action"];this.propertyDetails=new Map;this.numbers=[0,1,2,3,4,5,6,7,8,9,10];this.viewMap=!1;this.mapMarkerPoints=[];this.mapOptonCenter=new Li;this.step=0;this.hidden=!0;this.unsubscribe=[];this.optionReload=()=>{this.loadResult=""};this.loadResult="";this.publicHelper.processService.cdr=this.cdr,this.requestId=this.activatedRoute.snapshot.paramMap.get("id"),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(Ut=>Ut.connectionStatusStore).subscribe(Ut=>re(this,null,function*(){this.connectionStatus=Ut})))}ngOnInit(){if(this.requestId.length<=0){this.cmsToastrService.typeErrorComponentAction(),this.router.navigate(["/estate/property"]);return}this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOne(),this.getEstateContractType(),this.cmsApiStoreSubscribe=this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>re(this,null,function*(){this.DataGetOne(),this.getEstateContractType()}))}ngOnDestroy(){this.cmsApiStoreSubscribe&&this.cmsApiStoreSubscribe.unsubscribe(),this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}getEstateContractType(){let e=this.constructor.name+"getEstateContractType";this.translate.get("TITLE.Get_Estate_Contract_Type").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estateContractTypeService.ServiceGetAll(null).subscribe({next:i=>{this.dataModelEstateContractTypeResult=i,this.publicHelper.processService.processStop(e)},error:i=>{this.publicHelper.processService.processStop(e)}})}DataGetOne(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"ServiceGetOneById";this.translate.get("MESSAGE.get_state_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estatePropertyService.setAccessLoad(),this.estatePropertyService.setAccessDataType(Be.Editor),this.estatePropertyService.ServiceGetOneById(this.requestId).subscribe({next:i=>{if(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.lastRecordStatus=i.item.recordStatus,this.dataModel=i.item,i.isSuccess){(!this.dataModel.caseCode||this.dataModel.caseCode.length<=0)&&(this.dataModel.caseCode=this.publicHelper.StringRandomGenerator(5,!0)),this.optionTabledataSource.data=this.dataModel.contracts,this.DataGetPropertyDetailGroup(this.dataModel.linkPropertyTypeLanduseId);let t=this.dataModel.geolocationlatitude,s=this.dataModel.geolocationlongitude;t>0&&s>0&&(this.mapMarkerPoints=[],this.mapMarkerPoints.push({lat:t,lon:s}),this.receiveMap()),this.formInfo.formTitle=i.item.title,this.formInfo.formAlert="",this.dataModel.linkFileIds&&this.dataModel.linkFileIds.length>0&&this.dataModel.linkFileIds.split(",").forEach((h,p)=>{let D="";this.dataModel.linkFileIdsSrc.length>=this.dataModel.linkFileIdsSrc.length&&(D=this.dataModel.linkFileIdsSrc[p]),this.dataFileModelFiles.set(+h,D)}),this.dataModel.linkExtraImageIdsSrc&&this.dataModel.linkExtraImageIdsSrc.length>0&&this.dataModel.linkExtraImageIds.split(",").forEach((h,p)=>{let D="";this.dataModel.linkExtraImageIdsSrc.length>=this.dataModel.linkExtraImageIdsSrc.length&&(D=this.dataModel.linkExtraImageIdsSrc[p]),this.dataFileModelImgaes.set(+h,D)})}else this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage);this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataGetPropertyDetailGroup(e){let i=new pe,t=new H;t.propertyName="LinkPropertyTypeLanduseId",t.value=e,i.filters.push(t),this.dataModel.propertyDetailGroups=[];let s=this.constructor.name+"DataGetPropertyDetailGroup";this.translate.get("MESSAGE.Get_detailed_information").subscribe(h=>{this.publicHelper.processService.processStart(s,h,this.constructorInfoAreaId)}),this.estatePropertyDetailGroupService.ServiceGetAll(i).subscribe({next:h=>{h.isSuccess?(this.dataModel.propertyDetailGroups=h.listItems,this.dataModel.propertyDetailGroups&&this.dataModel.propertyDetailGroups.forEach(p=>{p.propertyDetails.forEach(D=>{if(this.propertyDetails[D.id]=0,this.dataModel.propertyDetailValues){let z=this.dataModel.propertyDetailValues.find(he=>he.linkPropertyDetailId===D.id);z&&(this.propertyDetails[D.id]=z.value)}})})):this.cmsToastrService.typeErrorGetAccess(h.errorMessage),this.publicHelper.processService.processStop(s)},error:h=>{this.cmsToastrService.typeErrorGetAccess(h),this.publicHelper.processService.processStop(s,!1)}})}DataEditContent(e=!1){if(this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError="",this.dataFileModelFiles){let t=Array.from(this.dataFileModelFiles.keys());t&&t.length>0&&(this.dataModel.linkFileIds=t.join(","))}if(this.dataFileModelImgaes){let t=Array.from(this.dataFileModelImgaes.keys());t&&t.length>0&&(this.dataModel.linkExtraImageIds=t.join(","))}let i=this.constructor.name+"ServiceEdit";this.translate.get("MESSAGE.registration_chaneges_in_property_information").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructorInfoAreaId)}),this.estatePropertyService.ServiceEdit(this.dataModel).subscribe({next:t=>{if(this.formInfo.formSubmitAllow=!0,this.dataModelResult=t,t.isSuccess){if(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(h=>{this.formInfo.formAlert=h}),this.cmsToastrService.typeSuccessEdit(),(this.tokenHelper.isAdminSite||this.tokenHelper.isSupportSite||this.tokenInfo.access.userAccessUserType==Er.ResellerCpSite||this.tokenInfo.access.userAccessUserType==Er.ResellerEmployeeCpSite)&&(e||this.dataModel.recordStatus==qe.Available&&this.dataModel.recordStatus!=this.lastRecordStatus)){var s="";this.publicHelper.isMobile?s="dialog-fullscreen":s="dialog-min",this.dialog.open(vd,{height:"90%",panelClass:s,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{model:this.dataModel}}).afterClosed().subscribe(p=>{})}}else this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(h=>{this.formInfo.formAlert=h}),this.formInfo.formError=t.errorMessage,this.cmsToastrService.typeErrorMessage(t.errorMessage);this.publicHelper.processService.processStop(i)},error:t=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(i,!1)}})}receiveMap(e=this.mapModel){e&&(this.mapModel=e,this.mapMarkerPoints&&this.mapMarkerPoints.length>0&&(this.mapMarkerPoints.forEach(i=>{this.mapMarker=Kp.marker([i.lat,i.lon]).addTo(this.mapModel)}),this.mapOptonCenter=this.mapMarkerPoints[0],this.mapMarkerPoints=[]),this.mapModel.on("click",i=>{let t=i.latlng.lat,s=i.latlng.lng;if(this.mapMarker!==void 0&&this.mapModel.removeLayer(this.mapMarker),t===this.dataModel.geolocationlatitude&&s===this.dataModel.geolocationlongitude){this.dataModel.geolocationlatitude=null,this.dataModel.geolocationlongitude=null;return}this.mapMarker=Kp.marker([t,s]).addTo(this.mapModel),this.dataModel.geolocationlatitude=t,this.dataModel.geolocationlongitude=s}))}receiveZoom(e){}onActionCopied(){this.cmsToastrService.typeSuccessCopedToClipboard()}onActionSelectorSelectUsage(e){if(!e||!e.id||e.id.length<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkPropertyTypeUsageId=e.id}onActionSelectorSelectLanduse(e){if(!e||!e.id||e.id.length<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.PropertyTypeSelected=e,this.dataModel.linkPropertyTypeLanduseId=e.id,this.DataGetPropertyDetailGroup(e.id)}onActionSelectorCmsUser(e){if(!e||!e.id||e.id<=0){this.dataModel.linkCmsUserId=null;return}this.dataModel.linkCmsUserId=e.id}onActionSelectorLocation(e){if(!e||!e.id||e.id<=0){this.translate.get("MESSAGE.Information_area_deleted").subscribe(i=>{this.cmsToastrService.typeWarningSelected(i)}),this.dataModel.linkLocationId=null;return}this.dataModel.linkLocationId=e.id}onActionSelectorProject(e){if(!e||!e.id||e.id.length<=0){this.dataModel.linkPropertyProjectId=null;return}this.dataModel.linkPropertyProjectId=e.id}onActionSelectorCompany(e){if(!e||!e.id||e.id.length<=0){this.dataModel.linkPropertyCompanyId=null;return}this.dataModel.linkPropertyCompanyId=e.id}onActionSelectorEstateUser(e){this.dataModel.linkEstateExpertId=null,!(!e||!e.id||e.id.length<=0)&&(this.dataModel.linkEstateExpertId=e.id)}onActionSelectorEstateAgency(e){this.dataModel.linkEstateAgencyId=null,!(!e||!e.id||e.id.length<=0)&&(this.dataModel.linkEstateAgencyId=e.id)}onActionSelectorContractType(e){if(this.contractTypeSelected=null,!e||!e.id||e.id.length<=0){this.translate.get("MESSAGE.Type_of_property_transaction_is_not_known").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.currencyOptionSelectFirstItem=!0,this.contractTypeSelected=e,this.contractDataModel=new Kn,this.contractDataModel.contractType=this.contractTypeSelected,this.contractDataModel.linkEstateContractTypeId=this.contractTypeSelected.id}onFormSubmitAndMessage(){this.onFormSubmit(!0)}onFormSubmit(e=!1){if(this.formGroup.valid){if(this.formInfo.formSubmitAllow=!1,this.dataModel.propertyDetailValues=[],this.dataModel.propertyDetailGroups&&this.dataModel.propertyDetailGroups.forEach(i=>{i.propertyDetails.forEach(t=>{let s=new So;s.linkPropertyDetailId=t.id,s.value=this.propertyDetails[t.id],this.dataModel.propertyDetailValues.push(s)})}),(!this.dataModel.contracts||this.dataModel.contracts.length===0)&&this.onActionOptionAddToList(),!this.dataModel.contracts||this.dataModel.contracts.length===0){this.translate.get("MESSAGE.Type_of_property_transaction_is_not_known").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)}),this.formInfo.formSubmitAllow=!0;return}this.DataEditContent(e)}}onFormCancel(){this.router.navigate(["/estate/property"])}onActionOptionAddToList(e=!0){if(!this.contractTypeSelected||this.contractTypeSelected.id.length===0){this.translate.get("MESSAGE.Type_of_property_transaction_is_not_known").subscribe(t=>{e&&this.cmsToastrService.typeErrorSelected(t)});return}this.dataModel.contracts||(this.dataModel.contracts=[]);let i=!1;if(this.contractTypeSelected.hasSalePrice&&(this.contractDataModel.salePrice&&this.contractDataModel.salePrice>0&&(i=!0),this.contractTypeSelected.salePriceAllowAgreement&&this.contractDataModel.salePriceByAgreement&&(i=!0),!i)){this.translate.get("MESSAGE.Sales_amount_is_not_entered_correctly").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(i=!1,this.contractTypeSelected.hasRentPrice&&(this.contractDataModel.rentPrice&&this.contractDataModel.rentPrice>0&&(i=!0),this.contractTypeSelected.rentPriceAllowAgreement&&this.contractDataModel.rentPriceByAgreement&&(i=!0),!i)){this.translate.get("MESSAGE.Rent_amount_is_not_entered_correctly").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(i=!1,this.contractTypeSelected.hasPeriodPrice&&(this.contractDataModel.periodPrice&&this.contractDataModel.periodPrice>0&&(i=!0),this.contractTypeSelected.periodPriceAllowAgreement&&this.contractDataModel.periodPriceByAgreement&&(i=!0),!i)){this.translate.get("MESSAGE.Period_amount_is_not_entered_correctly").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(i=!1,this.contractTypeSelected.hasDepositPrice&&(this.contractDataModel.depositPrice&&this.contractDataModel.depositPrice>0&&(i=!0),this.contractTypeSelected.depositPriceAllowAgreement&&this.contractDataModel.depositPriceByAgreement&&(i=!0),!i)){this.translate.get("MESSAGE.Deposit_amount_is_not_entered_correctly").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}this.dataModel.contracts.push(this.contractDataModel),this.contractDataModel=new Kn,this.optionTabledataSource.data=this.dataModel.contracts,this.contractTypeSelected=null}onActionOptionRemoveFromList(e){if(!(e<0)&&!(!this.dataModel.contracts||this.dataModel.contracts.length===0)){var i;this.contractDataModel=this.dataModel.contracts[e],i=this.dataModel.contracts.splice(e,1),this.contractDataModel=i,this.optionTabledataSource.data=this.dataModel.contracts}}onActionFileSelectedLinkMainImageId(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}onStepClick(e,i){e.previouslySelectedIndex<e.selectedIndex&&((!this.dataModel.linkPropertyTypeUsageId||this.dataModel.linkPropertyTypeUsageId.length===0)&&(this.translate.get("TITLE.Select_the_Property_Type_Usage").subscribe(t=>{this.cmsToastrService.typeErrorFormInvalid(t)}),setTimeout(()=>{i.selectedIndex=e.previouslySelectedIndex},10)),(!this.dataModel.linkPropertyTypeLanduseId||this.dataModel.linkPropertyTypeLanduseId.length===0)&&(this.translate.get("TITLE.Select_the_Property_Type_Landuse").subscribe(t=>{this.cmsToastrService.typeErrorFormInvalid(t)}),setTimeout(()=>{i.selectedIndex=e.previouslySelectedIndex},10)),this.formGroup.valid||(this.cmsToastrService.typeErrorFormInvalid(),setTimeout(()=>{i.selectedIndex=e.previouslySelectedIndex},10)))}onActionBackToParent(){this.router.navigate(["/estate/property/"])}setStep(e){this.step=e}nextStep(){this.step++}prevStep(){this.step--}onActionClickSalePriceAllowAgreement(){this.contractDataModel.salePriceByAgreement&&(this.contractDataModel.salePrice=0)}onActionClickRentPriceAllowAgreement(){this.contractDataModel.rentPriceByAgreement&&(this.contractDataModel.rentPrice=0)}onActionClickPeriodPriceAllowAgreement(){this.contractDataModel.periodPriceByAgreement&&(this.contractDataModel.periodPrice=0)}onActionClickDepositPriceByAgreement(){this.contractDataModel.depositPriceByAgreement&&(this.contractDataModel.depositPrice=0)}ActionCurrentPoint(){this.childMap.getPosition().then(e=>{let i=e.lat,t=e.lon;i>0&&t>0&&(this.mapMarker!==void 0&&this.mapModel.removeLayer(this.mapMarker),this.mapMarkerPoints=[],this.mapMarkerPoints.push({lat:i,lon:t}),this.dataModel.geolocationlatitude=i,this.dataModel.geolocationlongitude=t,this.receiveMap())})}onActionSelectCurrency(e){if(!e||e.id<=0){this.cmsToastrService.typeErrorSelected(),this.dataModelCorCurrencySelector=null,this.contractDataModel.linkCoreCurrencyId=null;return}this.dataModelCorCurrencySelector=e,this.contractDataModel.linkCoreCurrencyId=e.id,this.tokenHelper.isAdminSite&&this.contractTypeSelected.allowPriceInquiryCalculate&&this.onActionPriceInquiryList()}onActionPriceInquiryList(){let e=new vr;e.disableClose=!0,e.autoFocus=!0,e.height="90%",e.data={linkLocationId:this.dataModel.linkLocationId,linkCoreCurrencyId:this.contractDataModel.linkCoreCurrencyId,createdYaer:this.dataModel.createdYaer,linkPropertyTypeUsageId:this.dataModel.linkPropertyTypeUsageId,linkPropertyTypeLanduseId:this.dataModel.linkPropertyTypeLanduseId,linkContractTypeId:this.contractDataModel.linkEstateContractTypeId};var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(ra,e).afterClosed().subscribe(s=>{})}onActionButtonQuickListSearchTitle(){if(!this.dataModel||!this.dataModel.title||this.dataModel.title.length===0){this.cmsToastrService.typeErrorSelectedRow();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(An,{height:"90%",panelClass:e,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{searchTitle:this.dataModel.title}}).afterClosed().subscribe(t=>{})}onActionButtonQuickListSearchCustomerTel(){if(!this.dataModel||!this.dataModel.aboutCustomerTel||this.dataModel.aboutCustomerTel.length===0){this.cmsToastrService.typeErrorSelectedRow();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(An,{height:"90%",panelClass:e,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{searchCustomerTel:this.dataModel.aboutCustomerTel}}).afterClosed().subscribe(t=>{})}onActionButtonQuickListSearchCustomerMobile(){if(!this.dataModel||!this.dataModel.aboutCustomerMobile||this.dataModel.aboutCustomerMobile.length===0){this.cmsToastrService.typeErrorSelectedRow();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(An,{height:"90%",panelClass:e,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{searchCustomerTel:this.dataModel.aboutCustomerMobile}}).afterClosed().subscribe(t=>{})}onActionButtonQuickListSearchCaseCode(){if(!this.dataModel||!this.dataModel.caseCode||this.dataModel.caseCode.length===0){this.cmsToastrService.typeErrorSelectedRow();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(An,{height:"90%",panelClass:e,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{searchCaseCode:this.dataModel.caseCode}}).afterClosed().subscribe(t=>{})}onFormLoadEstateAgencyResult(){this.loadResult="estateAccountAgencyList",Promise.resolve().then(()=>this.cdr.detectChanges()),this.estateAccountAgencyListComponent.optionloadComponent=!0,this.estateAccountAgencyListComponent.DataGetAll()}onFormLoadEstateUserResult(){this.loadResult="estateAccountExpertList",Promise.resolve().then(()=>this.cdr.detectChanges()),this.estateAccountExpertListComponent.optionloadComponent=!0,this.estateAccountExpertListComponent.DataGetAll()}onFormLoadEstateCustomerOrderResult(){this.loadResult="estateCustomerOrderList",Promise.resolve().then(()=>this.cdr.detectChanges()),this.estateCustomerOrderListComponent.optionloadComponent=!0,this.estateCustomerOrderListComponent.DataGetAll()}onFormLoadEstateHaveHistoryResult(){this.loadResult="estateCustomerOrderHaveHistoryList",Promise.resolve().then(()=>this.cdr.detectChanges()),this.estateCustomerOrderHaveHistoryListComponent.optionloadComponent=!0,this.estateCustomerOrderHaveHistoryListComponent.DataGetAll()}onFormLoadEstateHistoryResult(){this.loadResult="estateHistoryList",Promise.resolve().then(()=>this.cdr.detectChanges()),this.estatePropertyHistoryListComponent.optionloadComponent=!0,this.estatePropertyHistoryListComponent.DataGetAll()}onActionButtonQuickHistoryAddRow(){var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(mo,{height:"90%",panelClass:e,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{linkActivityTypeId:null,linkPropertyId:this.dataModel.id,linkEstateExpertId:null,linkCustomerOrderId:null,linkEstateAgencyId:null}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate})}};Md.\u0275fac=function(i){return new(i||Md)(v(jt),v(J),v(xi),v(ui),v(hi),v(V),v(Z),v(Ze),v(F),v(B),v(kt),v(K),v(L),v(xe))},Md.\u0275cmp=R({type:Md,selectors:[["app-estate-property-edit"]],viewQuery:function(i,t){if(i&1&&(ee(BK,5),ee(Ci,5),ee(co,5),ee(po,5),ee(Qo,5),ee(Qo,5),ee(rn,5)),i&2){let s;te(s=ie())&&(t.formGroup=s.first),te(s=ie())&&(t.childMap=s.first),te(s=ie())&&(t.estateAccountAgencyListComponent=s.first),te(s=ie())&&(t.estateAccountExpertListComponent=s.first),te(s=ie())&&(t.estateCustomerOrderListComponent=s.first),te(s=ie())&&(t.estateCustomerOrderHaveHistoryListComponent=s.first),te(s=ie())&&(t.estatePropertyHistoryListComponent=s.first)}},standalone:!1,features:[ne],decls:144,vars:154,consts:[["vform","ngForm"],["stepper",""],["Description",""],["LinkMainImageId",""],["Title",""],["CaseCode",""],["SharingKey",""],["CreatedYaer",""],["Partition",""],["Area",""],["Address",""],["LinkSiteId",""],["scoreEstateLocation","ngModel"],["scoreEstateBuild","ngModel"],["scoreEstatePrice","ngModel"],["AboutAgentMobile",""],["AboutAgentTel",""],["AboutCustomerMobile",""],["AboutCustomerTel",""],["actionCreateNewCmsUserFirstName",""],["actionCreateNewCmsUserLastName",""],["actionCreateNewCmsUserMobile",""],["DescriptionHidden",""],["AddressHidden",""],["ReviewDataAfterSoldIt",""],["contractDataModel_Description",""],["estateAccountAgencyListComponent",""],["estateAccountExpertListComponent",""],["estateCustomerOrderListComponent",""],["estateCustomerOrderHaveHistoryListComponent",""],["estatePropertyHistoryListComponent",""],[3,"Key","svg"],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"selectionChange"],["state","main",3,"label"],[3,"optionChange","optionDisabled","optionTypeView","optionSelectForce","optionPlaceholder"],[3,"optionDisabled","optionTypeView","optionSelectForce","optionPlaceholder","optionTypeUsageId","optionChange",4,"ngIf"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["class","d-flex mb-3",4,"ngIf"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","2000","rows","5","required","","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["class","fa fa-times  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],[4,"ngIf"],["class","ntk-button-row",4,"ngIf"],["state","main",3,"label",4,"ngIf"],[3,"optionDisabled","optionSelectForce","optionSelectUserId","optionPlaceholder","optionChange",4,"ngIf"],[3,"optionDisabled","optionSelectForce","optionPlaceholder","optionChange",4,"ngIf"],["class","blockquote",4,"ngIf"],["class","form-actions",4,"ngIf"],["state","seo",3,"label",4,"ngIf"],["state","seo",3,"label"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4 cms-input-group",4,"ngIf"],[3,"optionChange","optionDisabled","optionTypeView","optionPlaceholder","optionSelectForce"],["class","container",4,"ngIf"],["class","example-container mat-elevation-z8",4,"ngIf"],["state","file",3,"label"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openDirectUploadView","openFilemanagerButtonLabelKey","selectFileType","openFilemanagerButtonView"],[3,"dataFileModelChange","dataFileModel","openDirectUploadView","optionFileType"],[3,"dataModelChange","dataModel"],[3,"dataModelChange","dataModel","dataImageModel"],["state","loaction",3,"label"],["id","main-map",3,"map$","zoom$","optonCenter"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],["matStepperIcon","main"],["matStepperIcon","seo"],["matStepperIcon","file"],["matStepperIcon","loaction"],[1,"ntk-cms-html-card-message"],[1,"ntk-cms-html-card-footer"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-highlight",3,"click",4,"ngIf"],[1,"row","alert","alert-custom","alert-white","alert-shadow","gutter-b"],["class","col-md-12 col-sm-12 col-xs-18",4,"ngIf"],[3,"optionChange","optionDisabled","optionTypeView","optionSelectForce","optionPlaceholder","optionTypeUsageId"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.caseCode",1,"color-highlight"],["matInput","","type","text","name","dataModel.caseCode","type","text","minlength","3","maxlength","100","required","","id","dataModel.caseCode",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.sharingKey",1,"color-highlight"],["matInput","","type","text","name","dataModel.sharingKey","type","text","id","dataModel.sharingKey",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.viewConfigHiddenInList",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2",2,"position","inherit"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.viewConfigHiddenInList","name","dataModel.viewConfigHiddenInList",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.viewConfigHiddenInList",1,"custom-control-label"],["for","dataModel.createdYaer",1,"color-highlight"],["matInput","","name","dataModel.createdYaer","type","number","id","dataModel.createdYaer",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.partition",1,"color-highlight"],["matInput","","name","dataModel.partition","type","number","id","dataModel.partition",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.area",1,"color-highlight"],["matInput","","name","dataModel.area","type","text","currencyMask","","id","dataModel.area",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel","disabled","placeholder"],["for","dataModel.address",1,"color-highlight"],["matInput","","name","dataModel.address","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.address",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"ntk-button-row"],["type","button","matStepperNext","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue",3,"disabled"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],["type","text","name","dataModel.linkSiteId","minlength","3","maxlength","100","id","dataModel.linkSiteId",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["data-trigger-switch","dataModel.viewContentHidden",1,"font-600","font-14"],["type","checkbox","id","dataModel.viewContentHidden","name","dataModel.viewContentHidden",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.viewContentHidden",1,"custom-control-label"],[1,"range-slider","bottom-15","range-slider-icons"],["for","dataModel.scoreEstateLocation",1,"color-highlight"],[1,"fa","fa-range-icon-1","fa-angle-down","color-theme"],[1,"fa","fa-range-icon-2","fa-angle-up","color-theme"],["type","range","min","0","max","10","id","dataModel.scoreEstateLocation","name","dataModel.scoreEstateLocation",1,"ios-slider","input-ltr",3,"ngModelChange","ngModel","disabled","ngClass"],["for","dataModel.scoreEstateBuild",1,"color-highlight"],["type","range","min","0","max","10","id","dataModel.scoreEstateBuild","name","dataModel.scoreEstateBuild",1,"ios-slider","input-ltr",3,"ngModelChange","ngModel","disabled","ngClass"],["for","dataModel.scoreEstatePrice",1,"color-highlight"],["type","range","min","0","max","10","id","dataModel.scoreEstatePrice","name","dataModel.scoreEstatePrice",1,"ios-slider","input-ltr",3,"ngModelChange","ngModel","disabled","ngClass"],["type","button","matStepperPrevious","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-blue","matStepperNext","",3,"disabled",4,"ngIf"],[3,"optionChange","optionDisabled","optionSelectForce","optionSelectUserId","optionPlaceholder"],["for","dataModel.aboutAgentMobile",1,"color-highlight"],["matInput","","type","text","name","dataModel.aboutAgentMobile","type","text","minlength","0","maxlength","100","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.aboutAgentTel",1,"color-highlight"],["matInput","","type","text","name","dataModel.  aboutAgentTel","type","text","minlength","0","maxlength","100","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.aboutCustomerMobile",1,"color-highlight"],["matInput","","type","text","name","dataModel.aboutCustomerMobile","type","text","minlength","0","maxlength","100","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.aboutCustomerTel",1,"color-highlight"],["matInput","","type","text","name","dataModel. aboutCustomerTel","type","text","minlength","0","maxlength","100","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"blockquote"],["data-trigger-switch","dataModel.actionCreateNewCmsUser",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],["type","checkbox","id","dataModel.actionCreateNewCmsUser","name","dataModel.actionCreateNewCmsUser",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.actionCreateNewCmsUser",1,"custom-control-label"],["for","dataModel.actionCreateNewCmsUserFirstName",1,"color-highlight"],["matInput","","type","text","name","dataModel.actionCreateNewCmsUserFirstName","type","text","minlength","3","maxlength","50","id","dataModel.actionCreateNewCmsUserFirstName",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.actionCreateNewCmsUserLastName",1,"color-highlight"],["matInput","","type","text","name","dataModel.actionCreateNewCmsUserLastName","type","text","minlength","3","maxlength","50","id","dataModel.actionCreateNewCmsUserLastName",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.actionCreateNewCmsUserMobile",1,"color-highlight"],["matInput","","type","text","name","dataModel.actionCreateNewCmsUserMobile","type","text","placeholder","0912","minlength","3","maxlength","20","id","dataModel.actionCreateNewCmsUserMobile",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[1,"form-actions"],["for","dataModel.descriptionHidden",1,"color-highlight"],["matInput","","name","dataModel.descriptionHidden","type","text","minlength","0","maxlength","2000","rows","5","id","dataModel.descriptionHidden",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.addressHidden",1,"color-highlight"],["matInput","","name","dataModel.addressHidden","type","text","minlength","0","maxlength","2000","rows","5","id","dataModel.addressHidden",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[3,"optionSelectForce","optionPlaceholder","optionChange",4,"ngIf"],[1,"example-headers-align"],[3,"expanded","opened",4,"ngFor","ngForOf"],[3,"optionChange","optionSelectForce","optionPlaceholder"],[3,"opened","expanded"],[4,"ngFor","ngForOf"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-teal",3,"click",4,"ngIf"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-blue",3,"click",4,"ngIf"],[3,"ngSwitch"],["class","ntk-full-width",4,"ngSwitchCase"],["class","ntk-full-width",4,"ngSwitchDefault"],[1,"ntk-full-width"],["aria-hidden","true",3,"ngClass"],[3,"modelChange","model","optionForceUseDefaultValue","optionMultipleChoice","optionDefaultValue","optionRequired","optionLabel"],[3,"modelChange","model","optionRequired","optionLabel"],[3,"modelChange","model"],[3,"modelChange","model","optionRequired"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue",3,"click"],["data-trigger-switch","dataModel.isSoldIt",1,"font-600","font-14"],["type","checkbox","id","dataModel.isSoldIt","name","dataModel.isSoldIt",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.isSoldIt",1,"custom-control-label"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],["for","dataModel.reviewDataAfterSoldIt",1,"color-highlight"],["matInput","","type","text","name","dataModel.reviewDataAfterSoldIt","type","text","id","dataModel.reviewDataAfterSoldIt",1,"form-control","validate-name",3,"ngModelChange","matDatepicker","ngModel"],["matSuffix","",3,"for"],["touchUi",""],[1,"container"],[3,"optionChange","optionSelectFirstItem","optionSelectForce","optionPlaceholder"],["class","row",4,"ngIf"],["for","contractDataModel.description",1,"color-highlight"],["matInput","","name","contractDataModel. description","type","text","minlength","0","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"row"],[1,"col-6","input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","contractDataModel.salePrice",1,"color-highlight"],["matInput","","type","text","name","contractDataModel.salePrice","currencyMask","","type","text","placeholder","0","id","contractDataModel.salePrice",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel","disabled"],[1,"col-3"],["data-trigger-switch","contractDataModel.salePriceAllowAgreement",1,"font-600","font-14"],["type","checkbox","id","contractDataModel.salePriceAllowAgreement","name","contractDataModel.salePriceAllowAgreement",1,"ios-input",3,"ngModelChange","change","ngModel"],["for","contractDataModel.salePriceAllowAgreement",1,"custom-control-label"],["for","contractDataModel.depositPrice",1,"color-highlight"],["matInput","","type","text","name","contractDataModel.depositPrice","currencyMask","","type","text","placeholder","0","id","contractDataModel.depositPrice",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel","disabled"],["data-trigger-switch","contractDataModel.depositPriceByAgreement",1,"font-600","font-14"],["type","checkbox","id","contractDataModel.depositPriceByAgreement","name","contractDataModel.depositPriceByAgreement",1,"ios-input",3,"ngModelChange","change","ngModel"],["for","contractDataModel.depositPriceByAgreement",1,"custom-control-label"],["for","contractDataModel.rentPrice",1,"color-highlight"],["matInput","","type","text","name","contractDataModel.rentPrice","currencyMask","","type","text","placeholder","0","id","contractDataModel.rentPrice",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel","disabled"],["data-trigger-switch","contractDataModel.rentPriceByAgreement",1,"font-600","font-14"],["type","checkbox","id","contractDataModel.rentPriceByAgreement","name","contractDataModel.rentPriceByAgreement",1,"ios-input",3,"ngModelChange","change","ngModel"],["for","contractDataModel.rentPriceByAgreement",1,"custom-control-label"],["for","contractDataModel.periodPrice",1,"color-highlight"],["matInput","","type","text","name","contractDataModel.periodPrice","currencyMask","","type","text","placeholder","0","id","contractDataModel.periodPrice",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel","disabled"],["data-trigger-switch","contractDataModel.periodPriceByAgreement",1,"font-600","font-14"],["type","checkbox","id","contractDataModel.periodPriceByAgreement","name","contractDataModel.periodPriceByAgreement",1,"ios-input",3,"ngModelChange","change","ngModel"],["for","contractDataModel.periodPriceByAgreement",1,"custom-control-label"],[1,"example-container","mat-elevation-z8"],["multiTemplateDataRows","",3,"dataSource"],["matColumnDef","LinkEstateContractTypeId"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","SalePrice"],["matColumnDef","DepositPrice"],["matColumnDef","RentPrice"],["matColumnDef","PeriodPrice"],["matColumnDef","Action"],["class","Action",4,"matCellDef"],["matColumnDef","descriptionDetail"],["colspan","6",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even",4,"matRowDef","matRowDefColumns"],[1,"Action"],["type","button","mat-icon-button","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],["matTooltipPosition","before","aria-hidden","false",2,"color","red",3,"matTooltip"],["colspan","6"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"dataFileModelChange","dataFileModel","openDirectUploadView"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-highlight",3,"disabled","click",4,"ngIf"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click","disabled"],[1,"ft-x"],[1,"col-md-12","col-sm-12","col-xs-18"],[3,"optionLinkLocationWorkAreaId","optionloadComponent","optionloadByRoute"],[3,"optionLinkPropertyId","optionloadComponent","optionloadByRoute"],[3,"optionLinkPropertyIdHaveHistory","optionloadComponent","optionloadByRoute"]],template:function(i,t){if(i&1){let s=I();C(0,"app-cms-guide-notice",31),r(1,"div",32),C(2,"app-progress-spinner",33),r(3,"div",34)(4,"p",35),c(5),a(),r(6,"p"),c(7),_(8,"translate"),a(),r(9,"form",36,0),E("ngSubmit",function(){return u(s),f(t.onFormSubmit())}),r(11,"mat-vertical-stepper",37,1),E("selectionChange",function(p){u(s);let D=k(12);return f(t.onStepClick(p,D))}),r(13,"mat-step",38),_(14,"translate"),r(15,"app-estate-property-type-usage-selector",39),_(16,"translate"),E("optionChange",function(p){return u(s),f(t.onActionSelectorSelectUsage(p))}),a(),C(17,"br"),S(18,HK,2,7,"app-estate-property-type-landuse-selector",40),C(19,"br"),S(20,WK,1,5,"app-cms-enum-record-status-selector",41)(21,qK,10,10,"div",42)(22,KK,10,10,"div",42)(23,$K,8,9,"div",42)(24,eZ,8,2,"div",43)(25,tZ,5,6,"div",42)(26,iZ,5,6,"div",42)(27,nZ,5,6,"div",42),r(28,"app-cms-location-selector",44),_(29,"translate"),E("optionChange",function(p){return u(s),f(t.onActionSelectorLocation(p))}),a(),S(30,oZ,8,6,"div",42),r(31,"div",45)(32,"label",46),c(33),_(34,"translate"),a(),r(35,"textarea",47,2),w("ngModelChange",function(p){return u(s),T(t.dataModel.description,p)||(t.dataModel.description=p),f(p)}),c(37,"                          "),a(),r(38,"em"),c(39),a(),S(40,rZ,1,0,"i",48)(41,aZ,1,0,"i",49)(42,lZ,5,3,"mat-error",50),a(),S(43,sZ,10,11,"div",51),a(),S(44,_Z,7,9,"mat-step",52),r(45,"mat-step",38),_(46,"translate"),S(47,gZ,2,6,"app-estate-account-agency-selector",53)(48,hZ,2,5,"app-estate-account-expert-selector",54)(49,yZ,7,7,"div",42)(50,CZ,7,7,"div",42)(51,SZ,7,7,"div",42)(52,vZ,7,7,"div",42)(53,VZ,14,8,"div",55)(54,FZ,5,4,"div",56),a(),S(55,WZ,23,21,"mat-step",52)(56,nJ,12,11,"mat-step",57),r(57,"mat-step",58),_(58,"translate"),r(59,"p"),c(60),_(61,"translate"),a(),S(62,oJ,8,2,"div",43)(63,rJ,8,4,"div",59),C(64,"hr"),r(65,"p"),c(66),_(67,"translate"),a(),r(68,"app-estate-contract-type-selector",60),_(69,"translate"),E("optionChange",function(p){return u(s),f(t.onActionSelectorContractType(p))}),a(),S(70,gJ,9,7,"div",61),C(71,"hr"),r(72,"p"),c(73),_(74,"translate"),a(),S(75,UJ,25,5,"div",62),C(76,"br"),S(77,qJ,5,4,"div",56),a(),r(78,"mat-step",63),_(79,"translate"),r(80,"p"),c(81),_(82,"translate"),a(),r(83,"div",64)(84,"a",65),_(85,"cmsthumbnail"),S(86,QJ,2,4,"img",66),a()(),r(87,"div",45)(88,"label",67),E("click",function(){return u(s),f(t.fileManagerOpenForm=!0)}),c(89),_(90,"translate"),a(),r(91,"input",68,3),_(93,"translate"),w("ngModelChange",function(p){return u(s),T(t.dataModel.linkMainImageId,p)||(t.dataModel.linkMainImageId=p),f(p)}),E("click",function(){return u(s),f(t.fileManagerOpenForm=!0)}),a(),r(94,"cms-file-manager",69),E("itemSelected",function(p){return u(s),f(t.onActionFileSelectedLinkMainImageId(p))}),w("openFormChange",function(p){return u(s),T(t.fileManagerOpenForm,p)||(t.fileManagerOpenForm=p),f(p)}),a()(),C(95,"hr"),S(96,zJ,3,3,"p",50),r(97,"app-cms-files-selector",70),w("dataFileModelChange",function(p){return u(s),T(t.dataFileModelImgaes,p)||(t.dataFileModelImgaes=p),f(p)}),a(),S(98,YJ,5,5,"div",50),C(99,"br")(100,"hr")(101,"br"),r(102,"h3"),c(103),_(104,"translate"),a(),r(105,"app-cms-360-image-list",71),w("dataModelChange",function(p){return u(s),T(t.dataModel.file360Views,p)||(t.dataModel.file360Views=p),f(p)}),a(),C(106,"br"),r(107,"h3"),c(108),_(109,"translate"),a(),r(110,"app-cms-360-tour-list",72),w("dataModelChange",function(p){return u(s),T(t.dataModel.file360Tour,p)||(t.dataModel.file360Tour=p),f(p)}),a(),S(111,KJ,10,11,"div",51),a(),r(112,"mat-step",73),_(113,"translate"),r(114,"p"),c(115),_(116,"translate"),a(),r(117,"app-cms-map",74),E("map$",function(p){return u(s),f(t.receiveMap(p))})("zoom$",function(p){return u(s),f(t.receiveZoom(p))}),a(),r(118,"button",75),E("click",function(){return u(s),f(t.ActionCurrentPoint())}),c(119),_(120,"translate"),a(),S(121,JJ,11,11,"div",51),a(),S(122,XJ,2,0,"ng-template",76)(123,$J,2,0,"ng-template",77)(124,eX,2,0,"ng-template",78)(125,tX,2,0,"ng-template",79),a()()(),C(126,"div",80),r(127,"div",81)(128,"button",82),E("click",function(){return u(s),f(t.onActionBackToParent())}),c(129),_(130,"translate"),a(),S(131,iX,4,3,"button",83)(132,nX,4,3,"button",83)(133,oX,4,3,"button",83)(134,rX,4,3,"button",83)(135,aX,4,3,"button",83)(136,lX,4,3,"button",83)(137,sX,4,3,"button",83),a()(),r(138,"div",84),S(139,dX,3,3,"div",85)(140,cX,3,3,"div",85)(141,pX,3,3,"div",85)(142,mX,3,3,"div",85)(143,uX,3,3,"div",85),a()}if(i&2){let s=k(36);d("Key","estate.property.list.edit")("svg","assets/media/svg/icons/General/Notifications1.svg"),o(2),d("optionsInfoAreaId",t.constructorInfoAreaId),o(3),y(" ",t.formInfo.formTitle," "),o(2),y(" ",g(8,110,"TITLE.Be_Careful_When_Entering_Information")," "),o(6),d("label",x(g(14,112,"TITLE.REQUIRED_INFORMATION"))),o(2),d("optionDisabled",!(t.fieldsInfo.linkPropertyTypeUsageId!=null&&t.fieldsInfo.linkPropertyTypeUsageId.accessEditField))("optionTypeView",2)("optionSelectForce",t.dataModel.linkPropertyTypeUsageId)("optionPlaceholder",g(16,114,"TITLE.Type_Usage")),o(3),d("ngIf",t.dataModel.linkPropertyTypeUsageId&&t.dataModel.linkPropertyTypeUsageId.length>0),o(2),d("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),o(),d("ngIf",t.fieldsInfo.title==null?null:t.fieldsInfo.title.accessWatchField),o(),d("ngIf",t.fieldsInfo.caseCode==null?null:t.fieldsInfo.caseCode.accessWatchField),o(),d("ngIf",t.fieldsInfo.sharingKey==null?null:t.fieldsInfo.sharingKey.accessWatchField),o(),d("ngIf",t.tokenHelper.isAdminSite||t.tokenHelper.isSupportSite),o(),d("ngIf",t.dataModel.linkPropertyTypeLanduseId&&t.dataModel.linkPropertyTypeLanduseId&&(t.PropertyTypeSelected.titleCreatedYaer==null?null:t.PropertyTypeSelected.titleCreatedYaer.length)>1&&t.PropertyTypeSelected.titleCreatedYaer!=="---"),o(),d("ngIf",t.dataModel.linkPropertyTypeLanduseId&&t.dataModel.linkPropertyTypeLanduseId&&(t.PropertyTypeSelected.titlePartition==null?null:t.PropertyTypeSelected.titlePartition.length)>1&&t.PropertyTypeSelected.titlePartition!=="---"),o(),d("ngIf",t.dataModel.linkPropertyTypeLanduseId),o(),d("optionDisabled",!(t.fieldsInfo.linkLocationId!=null&&t.fieldsInfo.linkLocationId.accessEditField))("optionSelectForce",t.dataModel.linkLocationId)("optionPlaceholder",g(29,116,"TITLE.Region")),o(2),d("ngIf",t.fieldsInfo.address==null?null:t.fieldsInfo.address.accessWatchField),o(3),M(g(34,118,"TITLE.General_Description")),o(2),d("placeholder",x(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle))("disabled",x(!(t.fieldsInfo.description!=null&&t.fieldsInfo.description.accessEditField))),b("ngModel",t.dataModel.description),o(4),y("",s.value.length," / 2000"),o(),d("ngIf",!s.value),o(),d("ngIf",s.value),o(),d("ngIf",s.errors==null?null:s.errors.required),o(),d("ngIf",t.formInfo.formSubmitAllow),o(),d("ngIf",t.tokenHelper.isAdminSite),o(),d("label",x(g(46,120,"TITLE.Personal_Information"))),o(2),d("ngIf",t.tokenHelper.isAdminSite),o(),d("ngIf",t.tokenHelper.isAdminSite),o(),d("ngIf",t.fieldsInfo.aboutAgentMobile==null?null:t.fieldsInfo.aboutAgentMobile.accessWatchField),o(),d("ngIf",t.fieldsInfo.aboutAgentTel==null?null:t.fieldsInfo.aboutAgentTel.accessWatchField),o(),d("ngIf",t.fieldsInfo.aboutCustomerMobile==null?null:t.fieldsInfo.aboutCustomerMobile.accessWatchField),o(),d("ngIf",t.fieldsInfo.aboutCustomerTel==null?null:t.fieldsInfo.aboutCustomerTel.accessWatchField),o(),d("ngIf",t.fieldsInfo.actionCreateNewCmsUser==null?null:t.fieldsInfo.actionCreateNewCmsUser.accessWatchField),o(),d("ngIf",t.formInfo.formSubmitAllow),o(),d("ngIf",(t.fieldsInfo.descriptionHidden==null?null:t.fieldsInfo.descriptionHidden.accessWatchField)&&(t.fieldsInfo.addressHidden==null?null:t.fieldsInfo.addressHidden.accessWatchField)),o(),d("ngIf",t.dataModel.propertyDetailGroups&&t.dataModel.propertyDetailGroups.length>0),o(),d("label",x(g(58,122,"TITLE.Contract"))),o(3),M(g(61,124,"TITLE.If_you_sell_your_property_activate_the_option_below")),o(2),d("ngIf",t.fieldsInfo.isSoldIt==null?null:t.fieldsInfo.isSoldIt.accessWatchField),o(),d("ngIf",(t.fieldsInfo.reviewDataAfterSoldIt==null?null:t.fieldsInfo.reviewDataAfterSoldIt.accessWatchField)&&t.dataModel.isSoldIt),o(3),M(g(67,126,"TITLE.Specify_the_type_of_transaction_for_this_property")),o(2),d("optionDisabled",!1)("optionTypeView",2)("optionPlaceholder",g(69,128,"TITLE.Type_Of_Transaction"))("optionSelectForce",t.contractDataModel.linkEstateContractTypeId),o(2),d("ngIf",t.contractTypeSelected&&t.contractTypeSelected.id.length>0),o(3),y(" ",g(74,130,"TITLE.List_Of_Transaction_Details_Of_This_Property")," "),o(2),d("ngIf",!t.publicHelper.processService.process.inRunAll),o(2),d("ngIf",t.formInfo.formSubmitAllow),o(),d("label",x(g(79,132,"TITLE.ATTACH_FILES"))),o(3),M(g(82,134,"TITLE.CONTENT_ATTACH_FILES")),o(3),d("href",x(g(85,136,t.dataModel.linkMainImageIdSrc)),j),o(2),d("ngIf",(t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0),o(3),M(g(90,138,"TITLE.Original_Photo")),o(2),d("placeholder",x(g(93,140,"TITLE.Original_File_ID"))),b("ngModel",t.dataModel.linkMainImageId),o(3),d("language",t.appLanguage)("isPopup",!0),b("openForm",t.fileManagerOpenForm),d("tree",t.fileManagerTree)("openDirectUploadView",!0)("openFilemanagerButtonLabelKey","select")("selectFileType",t.selectFileTypeMainImage)("openFilemanagerButtonView",!1),o(2),d("ngIf",t.dataFileModelImgaes&&t.dataFileModelImgaes.size>0),o(),b("dataFileModel",t.dataFileModelImgaes),d("openDirectUploadView",!0)("optionFileType",t.selectFileTypeMainImage),o(),d("ngIf",!t.hidden),o(5),M(g(104,142,"TITLE.image_360")),o(2),b("dataModel",t.dataModel.file360Views),o(3),M(g(109,144,"TITLE.virtual_tour")),o(2),b("dataModel",t.dataModel.file360Tour),d("dataImageModel",t.dataModel.file360Views),o(),d("ngIf",t.formInfo.formSubmitAllow),o(),d("label",x(g(113,146,"TITLE.Location"))),o(3),M(g(116,148,"TITLE.Click_on_the_map_to_specify_the_location")),o(2),d("optonCenter",t.mapOptonCenter),o(2),y(" ",g(120,150,"ACTION.MY_LOCATION")),o(2),d("ngIf",t.formInfo.formSubmitAllow),o(8),y(" ",g(130,152,"ACTION.BACK_TO_PROPERTY_LIST")," "),o(2),d("ngIf",(t.dataModel==null||t.dataModel.id==null?null:t.dataModel.id.length)>0&&(t.dataModel==null?null:t.dataModel.linkLocationId)&&(t.dataModel==null?null:t.dataModel.linkLocationId)>0),o(),d("ngIf",(t.dataModel==null||t.dataModel.id==null?null:t.dataModel.id.length)>0),o(),d("ngIf",(t.dataModel==null||t.dataModel.id==null?null:t.dataModel.id.length)>0),o(),d("ngIf",(t.dataModel==null||t.dataModel.id==null?null:t.dataModel.id.length)>0&&(t.dataModel==null?null:t.dataModel.linkLocationId)&&(t.dataModel==null?null:t.dataModel.linkLocationId)>0),o(),d("ngIf",(t.dataModel==null||t.dataModel.id==null?null:t.dataModel.id.length)>0&&(t.dataModel==null?null:t.dataModel.linkLocationId)&&(t.dataModel==null?null:t.dataModel.linkLocationId)>0),o(),d("ngIf",(t.dataModel==null||t.dataModel.id==null?null:t.dataModel.id.length)>0&&t.tokenHelper.isAdminSite),o(),d("ngIf",(t.dataModel==null||t.dataModel.id==null?null:t.dataModel.id.length)>0),o(2),d("ngIf",t.loadResult==="estateAccountAgencyList"),o(),d("ngIf",t.loadResult==="estateAccountExpertList"),o(),d("ngIf",t.loadResult==="estateCustomerOrderList"),o(),d("ngIf",t.loadResult==="estateCustomerOrderHaveHistoryList"),o(),d("ngIf",t.loadResult==="estateHistoryList")}},dependencies:[se,Ne,N,fo,_o,go,ke,Y,Ot,ha,Ht,q,Te,de,De,Ae,ce,Pe,Je,Pn,kn,ln,wo,Eo,Io,Mo,To,bo,we,et,Ee,Q,Ji,Xi,hn,yn,Zi,it,ot,st,rt,nt,dt,at,lt,ct,pt,or,Fi,Vi,si,$i,Nn,Hn,Ci,U,No,mn,$n,eo,to,io,no,oo,en,yo,ut,_i,Ed,Cr,nn,rn,on,Qo,po,Sn,co,Xn,ho,O,On,Ie],encapsulation:2});var Op=Md;var fX=[{path:"",component:$c,data:{title:"ROUTE.ESTATE"},children:[{path:"config",loadChildren:()=>import("./chunk-XEK6JSFP.js").then(n=>n.EstateConfigModule),data:{title:"ROUTE.ESTATE"}},{path:"overview-events",component:np,data:{title:"ROUTE.ESTATE.EVENTS"}},{path:"overview-summary",component:op,data:{title:"ROUTE.ESTATE.SUMMARY"}},{path:"property",component:vi,data:{title:"ROUTE.ESTATE.PROPERTY"}},{path:"property/Action/:Action",component:vi},{path:"property/LinkPropertyTypeLanduseId/:LinkPropertyTypeLanduseId",component:vi,data:{title:"ROUTE.ESTATE.PROPERTY"}},{path:"property/LinkPropertyTypeUsageId/:LinkPropertyTypeUsageId",component:vi,data:{title:"ROUTE.ESTATE.PROPERTY"}},{path:"property/LinkContractTypeId/:LinkContractTypeId",component:vi,data:{title:"ROUTE.ESTATE.PROPERTY"}},{path:"property/LinkBillboardId/:LinkBillboardId",component:vi,data:{title:"ROUTE.ESTATE.PROPERTY"}},{path:"property/LinkCustomerOrderId/:LinkCustomerOrderId",component:vi,data:{title:"ROUTE.ESTATE.PROPERTY"}},{path:"property/LinkUserId/:LinkUserId",component:vi,data:{title:"ROUTE.ESTATE.PROPERTY"}},{path:"property/LinkProjectId/:LinkProjectId",component:vi,data:{title:"ROUTE.ESTATE.PROPERTY"}},{path:"property/LinkCompanyId/:LinkCompanyId",component:vi,data:{title:"ROUTE.ESTATE.PROPERTY"}},{path:"property/LinkEstateExpertId/:LinkEstateExpertId",component:vi,data:{title:"ROUTE.ESTATE.PROPERTY"}},{path:"property/LinkEstateAgencyId/:LinkEstateAgencyId",component:vi,data:{title:"ROUTE.ESTATE.PROPERTY"}},{path:"property/InChecking/:InChecking",component:vi,data:{title:"ROUTE.ESTATE.PROPERTY"}},{path:"property/recordstatus/:RecordStatus",component:vi,data:{title:"ROUTE.ESTATE.PROPERTY"}},{path:"property/add",component:Gd,data:{title:"ROUTE.ESTATE.PROPERTYADD"}},{path:"property/add/LinkPropertyTypeLanduseId/:LinkPropertyTypeLanduseId",component:Gd,data:{title:"ROUTE.ESTATE.PROPERTYADD"}},{path:"property/edit/:id",component:Op,data:{title:"ROUTE.ESTATE.PROPERTYEDIT"}},{path:"property-type-usage",component:Vp,data:{title:"ROUTE.ESTATE.TYPEUSAGE"}},{path:"property-type-landuse",component:kp,data:{title:"ROUTE.ESTATE.LANDUSE"}},{path:"property-ads/LinkPropertyId/:LinkPropertyId",component:Fd,data:{title:"ROUTE.ESTATE.PROPERTYADS"}},{path:"property-ads",component:Fd,data:{title:"ROUTE.ESTATE.PROPERTYADS"}},{path:"property-ads/sale/:LinkPropertyId",component:sp,data:{title:"ROUTE.ESTATE.PROPERTYADS"}},{path:"activity-type",component:Ic,data:{title:"ROUTE.ESTATE.ACTIVITYTYPE"}},{path:"property-company",component:Nd,data:{title:"ROUTE.ESTATE.COMPANY"}},{path:"property-company/LinkProjectId/:LinkProjectId",component:Nd,data:{title:"ROUTE.ESTATE.COMPANY"}},{path:"property-company/add",component:dp,data:{title:"ROUTE.ESTATE.COMPANY"}},{path:"property-company/edit/:id",component:cp,data:{title:"ROUTE.ESTATE.COMPANY"}},{path:"property-supplier",component:Wd,data:{title:"ROUTE.ESTATE.SUPPLIER"}},{path:"property-supplier/LinkProjectId/:LinkProjectId",component:Wd,data:{title:"ROUTE.ESTATE.SUPPLIER"}},{path:"property-supplier/add",component:bp,data:{title:"ROUTE.ESTATE.SUPPLIER"}},{path:"property-supplier/edit/:id",component:Tp,data:{title:"ROUTE.ESTATE.SUPPLIER"}},{path:"property-history",component:rn,data:{title:"ROUTE.ESTATE.HISTORY"}},{path:"property-history/InCheckingOnDay/:InCheckingOnDay",component:rn,data:{title:"ROUTE.ESTATE.HISTORY"}},{path:"property-history/InCheckingPlanedToDay/:InCheckingPlanedToDay",component:rn,data:{title:"ROUTE.ESTATE.HISTORY"}},{path:"property-history/LinkPropertyId/:LinkPropertyId",component:rn,data:{title:"ROUTE.ESTATE.HISTORY"}},{path:"property-history/LinkEstateExpertId/:LinkEstateExpertId",component:rn,data:{title:"ROUTE.ESTATE.HISTORY"}},{path:"property-history/LinkCustomerOrderId/:LinkCustomerOrderId",component:rn,data:{title:"ROUTE.ESTATE.HISTORY"}},{path:"property-history/LinkEstateAgencyId/:LinkEstateAgencyId",component:rn,data:{title:"ROUTE.ESTATE.HISTORY"}},{path:"property-history/recordstatus/:RecordStatus",component:rn,data:{title:"ROUTE.ESTATE.HISTORY"}},{path:"property-history/responsibleUserId/:ResponsibleUserId",component:rn,data:{title:"ROUTE.ESTATE.HISTORY"}},{path:"property-history/activitystatus/:ActivityStatus",component:rn,data:{title:"ROUTE.ESTATE.HISTORY"}},{path:"property-history/action/:Action",component:rn,data:{title:"ROUTE.ESTATE.HISTORY"}},{path:"expert-price",component:Cp,data:{title:"ROUTE.EXPERT.PRICE"}},{path:"ads-type",component:Tc,data:{title:"ROUTE.ESTATE.ADSTYPE"}},{path:"account-agency",component:co,data:{title:"ROUTE.ESTATE.ACCOUNTAGENCY"}},{path:"account-agency/LinkAccountUserId/:LinkAccountUserId",component:co,data:{title:"ROUTE.ESTATE.ACCOUNTAGENCY"}},{path:"account-user",component:po,data:{title:"ROUTE.ESTATE.ACCOUNTUSER"}},{path:"account-user/LinkAccountAgencyId/:LinkAccountAgencyId",component:po,data:{title:"ROUTE.ESTATE.ACCOUNTUSER"}},{path:"contract-type",component:Uc,data:{title:"ROUTE.ESTATE.CONTRACTTYPE"}},{path:"billboard",component:Lc,data:{title:"ROUTE.ESTATE.BILLBOARD"}},{path:"billboard/add",component:Rd,data:{title:"ROUTE.ESTATE.BILLBOARD"}},{path:"billboard/add-copy/:id",component:Rd,data:{title:"ROUTE.ESTATE.BILLBOARD"}},{path:"billboard/edit/:id",component:Rc,data:{title:"ROUTE.ESTATE.BILLBOARD"}},{path:"property-project",component:Mp,data:{title:"ROUTE.ESTATE.PROJECT"}},{path:"property-project/add",component:vp,data:{title:"ROUTE.ESTATE.PROJECT"}},{path:"property-project/edit/:id",component:Ep,data:{title:"ROUTE.ESTATE.PROJECT"}},{path:"category-zone",component:Hc,data:{title:"ROUTE.ESTATE.CATEGORY.ZONE"}},{path:"category-rack",component:Fc,data:{title:"ROUTE.ESTATE.CATEGORY.RACK"}},{path:"customer-order",component:Qo,data:{title:"ROUTE.ESTATE.CUSTOMER.ORDER"}},{path:"customer-order/recordstatus/:RecordStatus",component:Qo,data:{title:"ROUTE.ESTATE.CUSTOMER.ORDER"}},{path:"customer-order/recordstatus/:RecordStatus/:ResponsibleUserId",component:Qo,data:{title:"ROUTE.ESTATE.CUSTOMER.ORDER"}},{path:"customer-order/responsibleUserId/:ResponsibleUserId",component:Qo,data:{title:"ROUTE.ESTATE.CUSTOMER.ORDER"}},{path:"customer-order/edit/:id",component:Yc,data:{title:"ROUTE.ESTATE.CUSTOMER.ORDER"}},{path:"customer-order-result/LinkCustomerOrder/:LinkCustomerOrder",component:Ld,data:{title:"ROUTE.ESTATE.CUSTOMER.ORDERRESULT"}},{path:"customer-order-result/LinkProperty/:LinkProperty",component:Ld,data:{title:"ROUTE.ESTATE.CUSTOMER.ORDERRESULT"}},{path:"property-detail-group",component:mp,data:{title:"ROUTE.ESTATE.DETAIL.GROUP"}},{path:"property-detail",component:Hd,data:{title:"ROUTE.ESTATE.PROPERTYDETAIL"}},{path:"property-detail/LinkPropertyTypeLanduseId/:LinkPropertyTypeLanduseId",component:Hd,data:{title:"ROUTE.ESTATE.PROPERTYDETAIL"}}]}];var fa=class fa{};fa.\u0275fac=function(e){return new(e||fa)},fa.\u0275mod=qd({type:fa}),fa.\u0275inj=jd({imports:[Bp.forChild(fX),Bp]});var Fp=fa;var _a=class _a{};_a.\u0275fac=function(e){return new(e||_a)},_a.\u0275mod=qd({type:_a}),_a.\u0275inj=jd({providers:[gm,Sm,J,ym,oc,Dn,Ea,Im,Mm,un,bm,xi,sn,Xo,$o,Or,Vr,Yi,Ia,ui,Tm,hi,Fr,Co,zn,Am,Pm,km,_n,fn,Yn,ir,yi,qn,gn,dn,tr,Qn,Em,Mt,Cm,vm],imports:[tm,Fp,rm,am.withConfig({warnOnNgModelWithFormControl:"never"}),zm,Zm,um,mm,dm,qm,t0,$m,e0,Qm]});var $0=_a;export{$0 as EstateModule};
