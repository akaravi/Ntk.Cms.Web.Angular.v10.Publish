import{$b as Ye,Bc as Ze,Cc as et,Fc as B,Ic as it,Kc as ee,La as We,Ma as qe,Na as ze,Oa as Ke,Qb as Je,Rb as $e,ac as Qe,xc as ge,yc as Xe}from"./chunk-A57DJJYQ.js";import{C as Ie,Dc as Me,Fa as r,Fc as Be,Fd as De,Ha as me,Ic as Fe,Id as ke,Jc as Le,Kc as Oe,La as _e,M as be,Ma as q,Na as Te,Nb as m,Oa as g,Ob as b,Od as ue,Pb as S,Qa as we,Qb as xe,Rl as X,Sa as z,Sl as Z,T as Ee,Td as Ne,Ua as Ae,Va as Ve,Vd as Ue,X as E,Xc as Y,Ya as M,Yc as N,Zb as Re,_ as u,ad as Pe,cc as s,da as pe,dc as a,e as y,ea as de,fd as Q,jb as l,kb as c,lb as p,m as Se,mb as h,md as je,n as ve,nq as He,p as ce,q as Ce,qb as K,ra as H,rb as J,tb as fe,ua as W,uq as C,vc as Ge,wb as $,wq as tt,xa as ye,yb as _}from"./chunk-VFD7HG72.js";import{i as le}from"./chunk-SEDBTTTN.js";var te=class{constructor(){this.inRunAll=!1;this.inRunArea=[];this.infoArea=[];this.infoAll=new Map}};var A=class A{constructor(e){this.cmsStoreService=e;this.process=new te;let t=this.cmsStoreService.getStateSnapshot();t.processInfoStore&&(this.process.infoAll=t.processInfoStore),this.processSubject=new y(this.process),this.processSubject.subscribe(()=>{try{this.cdr&&Promise.resolve().then(()=>this.cdr.detectChanges())}catch(i){console.log("cdr error",i)}})}getProcessInfoOnChange(){return this.cmsStoreService.getState(e=>(C.ProgressConsoleLog&&console.log("getProcessInfoOnChange "),e.processInfoStore))}processStart(e,t="",i="global"){let n=new ue;(!t||t.length===0)&&(t="loading data"),n.isComplate=!1,n.title=t,n.infoAreaId=i,C.ProgressConsoleLog&&console.log("#### processStart #### "+e+" "+JSON.stringify(n)),this.process.inRunAll=!0,this.process.infoAll.set(e,n),this.ensureInfoAreaMap(n.infoAreaId).set(e,n),this.process.inRunArea[n.infoAreaId]=!0;let o=this.process;C.ProgressConsoleLog&&console.log("value in processStart ",o),this.processSubject.next(o),this.cmsStoreService.setState({type:ge,payload:this.process.infoAll})}processStop(e,t=!0){var i=this.process.infoAll.get(e);if(!i){i=new ue;return}i.isComplate=!0,i.isSuccess=t,C.ProgressConsoleLog&&console.log("#### processStop #### "+e+" "+JSON.stringify(i)),this.process.infoAll.set(e,i),this.ensureInfoAreaMap(i.infoAreaId).set(e,i);var n=!1,o=!1;for(let[f,v]of this.process.infoAll)v&&v.isComplate===!1&&(n=!0),v&&v.isComplate===!1&&v.infoAreaId===i.infoAreaId&&(o=!0);this.processSubject.next(this.process),this.process.inRunAll=n,this.process.inRunArea[i.infoAreaId]=o,C.ProgressConsoleLog&&console.log("value in service ",this.process),this.processSubject.next(this.process),this.cmsStoreService.setState({type:ge,payload:this.process.infoAll})}ensureInfoAreaMap(e){let t=this.process.infoArea[e];if(t&&typeof t?.set=="function")return t;let i=new Map;return this.process.infoArea[e]=i,i}};A.\u0275fac=function(t){return new(t||A)(u(B))},A.\u0275prov=E({token:A,factory:A.\u0275fac,providedIn:"root"});var ie=A;var ne=class{constructor(e,t,i,n,o){this.contentHidden=!1;this.id=e,this.title=t,this.contentHidden=i,this.description=n,this.contentUrl=o}};var V=class V{constructor(){this.title=new y(".");this.description=new y("");this.breadcrumbs=new y([]);this.contentService=new y(null);this.contentInfo=new y(new ne("","",!1,"",""))}setTitle(e){this.title.next(e)}updateTitle(e){this.setTitle(e)}setContentService(e){this.contentService.next(e)}updateContentService(e){setTimeout(()=>{this.setContentService(e)},1)}setContentInfo(e){this.contentInfo.next(e)}updateContentInfo(e){setTimeout(()=>{this.setContentInfo(e)},1)}setDescription(e){this.description.next(e)}updateDescription(e){setTimeout(()=>{this.setDescription(e)},1)}setBreadcrumbs(e){this.breadcrumbs.next(e)}updateBreadcrumbs(e){setTimeout(()=>{this.setBreadcrumbs(e)},20)}calculateTitle(){let e=this.calculateTitleInMenu("asideMenu"),t=this.calculateTitleInMenu("#kt_header_menu"),i=e||t||"";this.setTitle(i)}calculateTitleInMenu(e){let t=document.getElementById(e);if(!t)return null;let i=Array.from(t.querySelectorAll("a.menu-link")).filter(o=>o.classList.contains("active"));if(!i||i.length===0)return null;let n=i[0].querySelector("span.menu-title");return n?n.innerText:null}calculateBreadcrumbs(){let e=this.calculateBreadcrumbsInMenu("asideMenu"),t=this.calculateBreadcrumbsInMenu("#kt_header_menu"),i=e&&e.length>0?e:t;if(!i){this.setBreadcrumbs([]);return}this.setBreadcrumbs(i)}calculateBreadcrumbsInMenu(e){let t=[],i=document.getElementById(e);if(!i)return null;let n=Array.from(i.querySelectorAll("div.menu-item")).filter(o=>o.classList.contains("here"));return!n||n.length===0?null:(n.forEach(o=>{let f=o.querySelector("span.menu-title");if(!f)return null;let v=f.innerText,G=f.getAttribute("data-link");if(!G)return null;t.push({title:v,path:G,isSeparator:!1,isActive:!1}),t.push({title:"",path:"",isSeparator:!0,isActive:!1})}),t)}};V.\u0275fac=function(t){return new(t||V)},V.\u0275prov=E({token:V,factory:V.\u0275fac,providedIn:"root"});var re=V;function rt(d){return d.charAt(0)==="#"||d.indexOf(".svg#")>-1}function ot(){return typeof SVGRect<"u"}function st(d,e,t){let i=e.querySelector(`[id="${t}"]`);if(!i)throw new Error(`Symbol "${t}" not found`);let n=d.createElement("svg","svg");d.appendChild(n,i);let o=d.createElement("use","svg");return d.setAttribute(o,"href",`#${t}`,"xlink"),d.appendChild(n,o),n}function he(d,e){for(let i=0;i<e.length;i++)d.getAttribute(e[i])&&d.removeAttribute(e[i]);let t=d.getElementsByTagName("*");for(let i=0;i<t.length;i++)he(t[i],e)}function at(d,e){for(let t in e)d.setAttribute(t,e[t])}var F=class{};var I=class I{constructor(e,t,i,n,o,f){this._appBase=e;this._location=t;this._config=i;this._http=i&&!i.bypassHttpClientInterceptorChain?n:new Q(o),this._renderer=f.createRenderer(null,null),this.setBaseUrl(),I._cache||(I._cache=new Map),I._inProgressReqs||(I._inProgressReqs=new Map)}getSVG(e,t,i=!0){let n=(t?this.getAbsoluteUrl(e):e).replace(/#.+$/,"");if(i&&I._cache.has(n))return Se(this._cloneSVG(I._cache.get(n)));if(I._inProgressReqs.has(n))return I._inProgressReqs.get(n);let o=this._http.get(n,{responseType:"text"}).pipe(Ee(()=>{I._inProgressReqs.delete(n)}),Ie(f=>(I._inProgressReqs.delete(n),ve(f.message))),be(),Ce(f=>{let v=this._svgElementFromString(f);return I._cache.set(n,v),this._cloneSVG(v)}));return I._inProgressReqs.set(n,o),o}setBaseUrl(){this._config?this._baseUrl=this._config.baseUrl:this._appBase!==null?this._baseUrl=this._appBase:this._location!==null&&(this._baseUrl=this._location.getBaseHrefFromDOM())}getAbsoluteUrl(e){this._baseUrl&&!/^https?:\/\//i.test(e)&&(e=this._baseUrl+e,e.indexOf("//")===0&&(e=e.substring(1)));let t=this._renderer.createElement("BASE");return t.href=e,t.href}_svgElementFromString(e){let t=this._renderer.createElement("DIV");t.innerHTML=e;let i=t.querySelector("svg");if(!i)throw new Error("No SVG found in loaded contents");return i}_cloneSVG(e){return e.cloneNode(!0)}};I.\u0275fac=function(t){return new(t||I)(u(Be,8),u(Me,8),u(F,8),u(Q),u(Pe),u(q))},I.\u0275prov=E({token:I,factory:I.\u0275fac,providedIn:"root"});var L=I;var x=class x{constructor(e){this._ranScripts={};this._renderer=e.createRenderer(null,null)}insertEl(e,t,i,n,o){if(n&&!o){let f=e._prevSVG&&e._prevSVG.parentNode;f&&this._renderer.removeChild(f,e._prevSVG),t.innerHTML=""}o?this._renderer.insertBefore(t,i,t.firstChild):this._renderer.appendChild(t,i),i.nodeName==="svg"&&(e._prevSVG=i)}evalScripts(e,t,i){let n=e.querySelectorAll("script"),o=[];for(let f=0;f<n.length;f++){let v=n[f].getAttribute("type");if(!v||v==="application/ecmascript"||v==="application/javascript"){let G=n[f].innerText||n[f].textContent;o.push(G),this._renderer.removeChild(n[f].parentNode,n[f])}}if(o.length>0&&(i==="always"||i==="once"&&!this._ranScripts[t])){for(let f=0;f<o.length;f++)new Function(o[f])(window);this._ranScripts[t]=!0}}};x.\u0275fac=function(t){return new(t||x)(u(q))},x.\u0275prov=E({token:x,factory:x.\u0275fac,providedIn:"root"});var O=x;var P=class P{constructor(e,t){this._inlineSVGService=e;this.el=t;this._el=t}ngAfterViewInit(){this._updateContent()}ngOnChanges(e){e.content&&this._updateContent()}_updateContent(){this._inlineSVGService.insertEl(this.context,this._el.nativeElement,this.content,this.replaceContents,this.prepend)}};P.\u0275fac=function(t){return new(t||P)(g(O),g(W))},P.\u0275cmp=z({type:P,selectors:[["inline-svg"]],inputs:{context:"context",content:"content",replaceContents:"replaceContents",prepend:"prepend"},standalone:!1,features:[H],decls:0,vars:0,template:function(t,i){},encapsulation:2});var U=P;var j=class j{constructor(e,t,i,n,o,f,v,G){this._el=e;this._viewContainerRef=t;this._resolver=i;this._svgCache=n;this._renderer=o;this._inlineSVGService=f;this._config=v;this.platformId=G;this.resolveSVGUrl=!0;this.replaceContents=!0;this.prepend=!1;this.injectComponent=!1;this.cacheSVG=!0;this.forceEvalStyles=!1;this.evalScripts="always";this.onSVGInserted=new me;this.onSVGFailed=new me;this._supportsSVG=ot(),!N(this.platformId)&&!this._supportsSVG&&this._fail("Embed SVG are not supported by this browser")}ngOnInit(){!this._isValidPlatform()||this._isSSRDisabled()||this._insertSVG()}ngOnChanges(e){if(!this._isValidPlatform()||this._isSSRDisabled())return;let t=!!e.setSVGAttributes;(e.inlineSVG||t)&&this._insertSVG(t)}ngOnDestroy(){this._subscription&&this._subscription.unsubscribe()}_insertSVG(e=!1){if(!(!N(this.platformId)&&!this._supportsSVG)){if(!this.inlineSVG){this._fail("No URL passed to [inlineSVG]");return}!e&&this.inlineSVG===this._prevUrl||(this._prevUrl=this.inlineSVG,this._subscription=this._svgCache.getSVG(this.inlineSVG,this.resolveSVGUrl,this.cacheSVG).subscribe(t=>{if(rt(this.inlineSVG)){let i=this.inlineSVG.split("#")[1];t=st(this._renderer,t,i)}this._processSvg(t)},t=>{this._fail(t)}))}}_processSvg(e){if(e){if(this.removeSVGAttributes&&Y(this.platformId)&&he(e,this.removeSVGAttributes),this.setSVGAttributes&&at(e,this.setSVGAttributes),this.onSVGLoaded&&(e=this.onSVGLoaded(e,this._el.nativeElement)),this._insertEl(e),Y(this.platformId)&&this._inlineSVGService.evalScripts(e,this.inlineSVG,this.evalScripts),this.forceEvalStyles){let t=e.querySelectorAll("style");Array.from(t).forEach(i=>i.textContent+="")}this.onSVGInserted.emit(e)}}_insertEl(e){if(this.injectComponent){if(!this._svgComp){let t=this._resolver.resolveComponentFactory(U);this._svgComp=this._viewContainerRef.createComponent(t)}this._svgComp.instance.context=this,this._svgComp.instance.replaceContents=this.replaceContents,this._svgComp.instance.prepend=this.prepend,this._svgComp.instance.content=e,this._renderer.appendChild(this._el.nativeElement,this._svgComp.injector.get(U)._el.nativeElement)}else this._inlineSVGService.insertEl(this,this._el.nativeElement,e,this.replaceContents,this.prepend)}_fail(e){if(this.onSVGFailed.emit(e),this.fallbackImgUrl){let t=this._renderer.createElement("IMG");this._renderer.setAttribute(t,"src",this.fallbackImgUrl),this._insertEl(t)}else this.fallbackSVG&&this.fallbackSVG!==this.inlineSVG&&(this.inlineSVG=this.fallbackSVG,this._insertSVG())}_isValidPlatform(){return N(this.platformId)||Y(this.platformId)}_isSSRDisabled(){return N(this.platformId)&&this._config&&this._config.clientOnly}};j.\u0275fac=function(t){return new(t||j)(g(W),g(we),g(_e),g(L),g(Te),g(O),g(F,8),g(ye))},j.\u0275dir=Ae({type:j,selectors:[["","inlineSVG",""]],inputs:{inlineSVG:"inlineSVG",resolveSVGUrl:"resolveSVGUrl",replaceContents:"replaceContents",prepend:"prepend",injectComponent:"injectComponent",cacheSVG:"cacheSVG",setSVGAttributes:"setSVGAttributes",removeSVGAttributes:"removeSVGAttributes",forceEvalStyles:"forceEvalStyles",evalScripts:"evalScripts",fallbackImgUrl:"fallbackImgUrl",fallbackSVG:"fallbackSVG",onSVGLoaded:"onSVGLoaded"},outputs:{onSVGInserted:"onSVGInserted",onSVGFailed:"onSVGFailed"},standalone:!1,features:[Re([L]),H]});var oe=j;var D=class D{constructor(e){this.sanitizer=e}transform(e){return e===!0?"fa fa-check ":"fa fa-square"}};D.\u0275fac=function(t){return new(t||D)(g(je,16))},D.\u0275pipe=Ve({name:"boolclass",type:D,pure:!0,standalone:!1});var se=D;function yt(d,e){if(d&1&&(K(0),h(1,"span",11),J()),d&2){let t=_(2);r(),l("inlineSVG",t.svg)}}function _t(d,e){if(d&1&&(K(0),h(1,"i",6),J()),d&2){let t=_(2);r(),l("ngClass",t.icon)}}function Tt(d,e){if(d&1&&(K(0),c(1,"div",10),M(2,yt,2,1,"ng-container",1)(3,_t,2,1,"ng-container",1),p(),J()),d&2){let t=_();r(2),l("ngIf",t.svg),r(),l("ngIf",t.icon)}}function wt(d,e){if(d&1&&(c(0,"tr")(1,"th",3),m(2),p(),c(3,"td",5),m(4),s(5,"translate"),h(6,"i",6),s(7,"boolclass"),p(),c(8,"td",5),m(9),s(10,"translate"),h(11,"i",6),s(12,"boolclass"),p(),c(13,"td",5),m(14),s(15,"translate"),h(16,"i",6),s(17,"boolclass"),p(),c(18,"td",5),m(19),s(20,"translate"),h(21,"i",6),s(22,"boolclass"),p()()),d&2){let t=e.$implicit,i=_(2);r(2),b(t.fieldName),r(),l("ngClass",i.detectColor(t.accessWatchField)),r(),S(" ",a(5,13,"TITLE.Access_Watch_Field"),": "),r(2),l("ngClass",a(7,15,t.accessWatchField)),r(2),l("ngClass",i.detectColor(t.accessAddField)),r(),S(" ",a(10,17,"TITLE.Access_Add_Field"),": "),r(2),l("ngClass",a(12,19,t.accessAddField)),r(2),l("ngClass",i.detectColor(t.accessEditField)),r(),S(" ",a(15,21,"TITLE.Access_Edit_Field"),": "),r(2),l("ngClass",a(17,23,t.accessEditField)),r(2),l("ngClass",i.detectColor(t.accessSearchField)),r(),S(" ",a(20,25,"TITLE.Access_Search_Field"),": "),r(2),l("ngClass",a(22,27,t.accessSearchField))}}function At(d,e){if(d&1&&(c(0,"table",4)(1,"thead")(2,"tr")(3,"td",3),m(4),s(5,"translate"),p(),c(6,"td",3),m(7),s(8,"translate"),p(),c(9,"td",3),m(10),s(11,"translate"),p(),c(12,"td",3),m(13),s(14,"translate"),p(),c(15,"td",3),m(16),s(17,"translate"),p()()(),c(18,"tbody"),M(19,wt,23,29,"tr",12),p()()),d&2){let t=_();r(4),b(a(5,6,"TITLE.Field_Name")),r(3),b(a(8,8,"TITLE.Watch")),r(3),b(a(11,10,"TITLE.ADD")),r(3),b(a(14,12,"TITLE.Edit")),r(3),b(a(17,14,"TITLE.Search")),r(3),l("ngForOf",t.access.fieldsInfo)}}function Vt(d,e){if(d&1){let t=fe();c(0,"button",13),$("click",function(){pe(t);let n=_();return de(n.onActionMoreBottunClick())}),m(1),s(2,"translate"),p()}d&2&&(r(),S(" ",a(2,1,"TITLE.More")," "))}function xt(d,e){if(d&1){let t=fe();c(0,"button",13),$("click",function(){pe(t);let n=_();return de(n.onActionLessBottunClick())}),m(1),s(2,"translate"),p()}d&2&&(r(),S(" ",a(2,1,"TITLE.inferior")," "))}var w=class w{constructor(e,t,i,n,o,f){this.data=e;this.dialogRef=t;this.tokenHelper=i;this.cmsStoreService=n;this.cdr=o;this.cmsToastrService=f;this.id=++w.nextId;this.bodyShow=!1;e&&e.access&&(this.access=e.access)}ngOnInit(){}onActionMoreBottunClick(){this.bodyShow=!0,Promise.resolve().then(()=>this.cdr.detectChanges())}onActionLessBottunClick(){this.bodyShow=!1,Promise.resolve().then(()=>this.cdr.detectChanges())}onActionCloseBottunClick(){this.dialogRef.close({dialogChangedDate:!1}),Promise.resolve().then(()=>this.cdr.detectChanges())}detectColor(e){return e===!0?"table-success":"table-danger"}};w.nextId=0,w.\u0275fac=function(t){return new(t||w)(g(ze),g(qe),g(it),g(B),g(Ge),g(ee))},w.\u0275cmp=z({type:w,selectors:[["app-cms-access-info"]],inputs:{access:"access",title:"title",classes:"classes",icon:"icon",svg:"svg"},standalone:!1,decls:112,vars:115,consts:[[1,"card","card-style","loader-container",2,"height","100vh","overflow-y","auto"],[4,"ngIf"],[1,"alert-text"],[1,"text-center"],[1,"table","table-bordered"],[1,"grid-row-ltr",3,"ngClass"],[3,"ngClass"],["class","table table-bordered",4,"ngIf"],["type","button",1,"btn","btn-outline-primary","ms-2",3,"click"],["type","button","class","btn btn btn-secondary",3,"click",4,"ngIf"],[1,"alert-icon","alert-icon-top"],[1,"svg-icon","svg-icon-3x","svg-icon-primary",3,"inlineSVG"],[4,"ngFor","ngForOf"],["type","button",1,"btn","btn","btn-secondary",3,"click"]],template:function(t,i){t&1&&(c(0,"div",0),M(1,Tt,4,2,"ng-container",1),c(2,"div",2)(3,"h4",3),m(4),p(),c(5,"div")(6,"table",4)(7,"tr")(8,"td",3),m(9),s(10,"translate"),p(),c(11,"td",3),m(12),s(13,"translate"),p(),c(14,"td",3),m(15),s(16,"translate"),p(),c(17,"td",3),m(18),s(19,"translate"),p(),c(20,"td",3),m(21),s(22,"translate"),p()(),c(23,"tr")(24,"td",5),m(25),s(26,"translate"),h(27,"i",6),s(28,"boolclass"),p(),c(29,"td",5),m(30),s(31,"translate"),h(32,"i",6),s(33,"boolclass"),p(),c(34,"td",5),m(35),s(36,"translate"),h(37,"i",6),s(38,"boolclass"),p(),c(39,"td",5),m(40),s(41,"translate"),h(42,"i",6),s(43,"boolclass"),p(),c(44,"td",5),m(45),s(46,"translate"),h(47,"i",6),s(48,"boolclass"),p()(),c(49,"tr")(50,"td",5),m(51),s(52,"translate"),h(53,"i",6),s(54,"boolclass"),p(),c(55,"td",5),m(56),s(57,"translate"),h(58,"i",6),s(59,"boolclass"),p(),c(60,"td"),m(61,"-"),p(),c(62,"td",5),m(63),s(64,"translate"),h(65,"i",6),s(66,"boolclass"),p(),c(67,"td",5),m(68),s(69,"translate"),h(70,"i",6),s(71,"boolclass"),p()(),c(72,"tr")(73,"td",5),m(74),s(75,"translate"),h(76,"i",6),s(77,"boolclass"),p(),c(78,"td",5),m(79),s(80,"translate"),h(81,"i",6),s(82,"boolclass"),p(),c(83,"td"),m(84,"-"),p(),c(85,"td",5),m(86),s(87,"translate"),h(88,"i",6),s(89,"boolclass"),p(),c(90,"td"),m(91,"-"),p()(),c(92,"tr")(93,"td",5),m(94),s(95,"translate"),h(96,"i",6),s(97,"boolclass"),p(),c(98,"td"),m(99,"-"),p(),c(100,"td"),m(101,"-"),p(),c(102,"td"),m(103,"-"),p()()()(),h(104,"hr"),M(105,At,20,16,"table",7),c(106,"div")(107,"button",8),$("click",function(){return i.onActionCloseBottunClick()}),m(108),s(109,"translate"),p(),M(110,Vt,3,3,"button",9)(111,xt,3,3,"button",9),p()()()),t&2&&(r(),l("ngIf",i.icon||i.svg),r(3),xe(" F9 Keyboard Event Access Check ( Module Name:",i.access.moduleName," Module Entity Name: ",i.access.moduleEntityName," ) "),r(5),b(a(10,51,"TITLE.Watch")),r(3),b(a(13,53,"TITLE.Count")),r(3),b(a(16,55,"TITLE.ADD")),r(3),b(a(19,57,"TITLE.Edit")),r(3),b(a(22,59,"TITLE.Delete")),r(3),l("ngClass",i.detectColor(i.access.accessWatchRow)),r(),S(" ",a(26,61,"TITLE.Access_Watch_Row")," :"),r(2),l("ngClass",a(28,63,i.access.accessWatchRow)),r(2),l("ngClass",i.detectColor(i.access.accessCountRow)),r(),S(" ",a(31,65,"TITLE.Access_Count_Row")," : "),r(2),l("ngClass",a(33,67,i.access.accessCountRow)),r(2),l("ngClass",i.detectColor(i.access.accessAddRow)),r(),S(" ",a(36,69,"TITLE.Access_Add_Row")," : "),r(2),l("ngClass",a(38,71,i.access.accessAddRow)),r(2),l("ngClass",i.detectColor(i.access.accessEditRow)),r(),S(" ",a(41,73,"TITLE.Access_Edit_Row")," : "),r(2),l("ngClass",a(43,75,i.access.accessEditRow)),r(2),l("ngClass",i.detectColor(i.access.accessDeleteRow)),r(),S(" ",a(46,77,"TITLE.Access_Delete_Row")," : "),r(2),l("ngClass",a(48,79,i.access.accessDeleteRow)),r(3),l("ngClass",i.detectColor(i.access.accessWatchRowOtherCreatedBy)),r(),S(" ",a(52,81,"TITLE.Access_Watch_Row_Other_Created_By")," : "),r(2),l("ngClass",a(54,83,i.access.accessWatchRowOtherCreatedBy)),r(2),l("ngClass",i.detectColor(i.access.accessCountRowOtherCreatedBy)),r(),S(" ",a(57,85,"TITLE.Access_Count_Row_Other_Created_By")," : "),r(2),l("ngClass",a(59,87,i.access.accessCountRowOtherCreatedBy)),r(4),l("ngClass",i.detectColor(i.access.accessEditRowOtherCreatedBy)),r(),S(" ",a(64,89,"TITLE.Access_Edit_Row_Other_Created_By")," : "),r(2),l("ngClass",a(66,91,i.access.accessEditRowOtherCreatedBy)),r(2),l("ngClass",i.detectColor(i.access.accessDeleteRowOtherCreatedBy)),r(),S(" ",a(69,93,"TITLE.Access_Delete_Row_Other_Created_By")," : "),r(2),l("ngClass",a(71,95,i.access.accessDeleteRowOtherCreatedBy)),r(3),l("ngClass",i.detectColor(i.access.accessWatchRowOtherSiteId)),r(),S(" ",a(75,97,"TITLE.Access_Watch_Row_Other_Site_Id")," : "),r(2),l("ngClass",a(77,99,i.access.accessWatchRowOtherSiteId)),r(2),l("ngClass",i.detectColor(i.access.accessCountRowOtherSiteId)),r(),S(" ",a(80,101,"TITLE.Access_Count_Row_Other_Site_Id")," : "),r(2),l("ngClass",a(82,103,i.access.accessCountRowOtherSiteId)),r(4),l("ngClass",i.detectColor(i.access.accessEditRowOtherSiteId)),r(),S(" ",a(87,105,"TITLE.Access_Edit_Row_Other_Site_Id")," : "),r(2),l("ngClass",a(89,107,i.access.accessEditRowOtherSiteId)),r(5),l("ngClass",i.detectColor(i.access.accessRowWatchInSharingCategory)),r(),S(" ",a(95,109,"TITLE.Access_Row_Watch_In_Sharing_Category")," : "),r(2),l("ngClass",a(97,111,i.access.accessRowWatchInSharingCategory)),r(9),l("ngIf",i.bodyShow),r(3),S(" ",a(109,113,"TITLE.close")," "),r(2),l("ngIf",!i.bodyShow),r(),l("ngIf",i.bodyShow))},dependencies:[Fe,Le,Oe,oe,$e,se],encapsulation:2});var ae=w;var k=class{constructor(){this.componentValues=new Map}};var R=class R{constructor(e,t,i,n,o,f,v,G,Rt){this.router=e;this.cmsToastrService=t;this.translate=i;this.coreEnumService=n;this.coreCurrencyService=o;this.processService=f;this.dialog=v;this.pageInfo=G;this.cmsStoreService=Rt;this.appClientVersion=C.appVersion;this.appServerVersion="";this.editorConfig={editable:!0,spellcheck:!1,height:"auto",minHeight:"50",maxHeight:"auto",width:"auto",minWidth:"0",translate:"no",enableToolbar:!0,showToolbar:!0,placeholder:"\u0645\u062A\u0646 \u0631\u0627 \u0648\u0627\u0631\u062F \u06A9\u0646\u06CC\u062F ...",defaultParagraphSeparator:"",defaultFontName:"",defaultFontSize:"",fonts:[{class:"arial",name:"Arial"},{class:"times-new-roman",name:"Times New Roman"},{class:"calibri",name:"Calibri"},{class:"comic-sans-ms",name:"Comic Sans MS"}],customClasses:[{name:"quote",class:"quote"},{name:"redText",class:"redText"},{name:"titleText",class:"titleText",tag:"h1"}],sanitize:!1,toolbarPosition:"top",toolbarHiddenButtons:[["bold","italic"],["fontSize"]]};this.env=C;this.editorConfigFull={editable:!0,spellcheck:!1,height:"auto",minHeight:"50",maxHeight:"auto",width:"auto",minWidth:"0",translate:"no",enableToolbar:!0,showToolbar:!0,placeholder:"\u0645\u062A\u0646 \u0631\u0627 \u0648\u0627\u0631\u062F \u06A9\u0646\u06CC\u062F ...",defaultParagraphSeparator:"",defaultFontName:"",defaultFontSize:"",fonts:[{class:"arial",name:"Arial"},{class:"times-new-roman",name:"Times New Roman"},{class:"calibri",name:"Calibri"},{class:"comic-sans-ms",name:"Comic Sans MS"}],customClasses:[{name:"quote",class:"quote"},{name:"redText",class:"redText"},{name:"titleText",class:"titleText",tag:"h1"}],sanitize:!1,toolbarPosition:"top",toolbarHiddenButtons:[["redo"],["removeFormat"]]};this.treefileConfig={baseURL:C.cmsServerConfig.configApiServerPath,baseUploadURL:C.cmsServerConfig.configFileServerPath,api:{listFile:"FileContent/GetAll",listFolder:"FileCategory/GetAll",uploadFile:"upload",downloadFile:"download",deleteFile:"FileContent",deleteFolder:"FileCategory",createFolder:"FileCategory",createFile:"FileContent",getOneFile:"FileContent",getOneFolder:"FileCategory",renameFile:"FileContent",renameFolder:"FileCategory",searchFiles:"FileCategory/GetAll"},options:{title:"Select File",allowFolderDownload:Qe.DOWNLOAD_FILES,showFilesInsideTree:!1,showSelectFile:!0,showSelectFolder:!1,fileUplodExtensions:[],fileUplodTypeAccept:"",fileUplodMaxCount:20,captions:{dropzone:{title:"Select File",or:"or",browse:"Browse"},cropper:{crop:"Crop",cancel:"Cancel"},previewCard:{remove:"Remove",uploadError:"Upload Error"}}}};this.getCurrencyActionIndo=!1;this.persianNumbers=[/۰/g,/۱/g,/۲/g,/۳/g,/۴/g,/۵/g,/۶/g,/۷/g,/۸/g,/۹/g];this.arabicNumbers=[/٠/g,/١/g,/٢/g,/٣/g,/٤/g,/٥/g,/٦/g,/٧/g,/٨/g,/٩/g];this.getEnumRecordStatusActionIndo=!1;this.fileManagerTreeConfig=new Ye(this.treefileConfig),this.appClientVersion=C.appVersion}get isMobile(){return window.innerWidth<C.cmsViewConfig.mobileWindowInnerWidth}GetfileManagerTreeConfig(){return this.fileManagerTreeConfig.config.baseURL=C.cmsServerConfig.configApiServerPath,this.fileManagerTreeConfig.config.baseUploadURL=C.cmsServerConfig.configFileServerPath,this.fileManagerTreeConfig}getGuid(){return Math.floor(Math.random()*new Date().getTime()).toString()}SplitAllChar(e){return e&&e.length>0?e.replace(/\n/g,",").split(","):[]}LocaleDate(e){if(!e)return"";try{return new Date(e).toLocaleDateString("fa-Ir")}catch{}return""}getTime(e){if(!e)return"";try{let t=new Date(e);return t.getHours()+":"+t.getMinutes()}catch{}return""}LocaleDateTime(e){if(!e)return"";try{let t=new Date(e);return t.toLocaleDateString("fa-Ir")+" "+t.getHours()+":"+t.getMinutes()}catch{}return""}Truncate(e,t=20,i="..."){return e.length>t?e.substring(0,t)+i:e}listAddIfNotExist(e,t,i){return e.indexOf(t)<0&&e.splice(i,0,t),e}listRemoveIfExist(e,t){let i=e.indexOf(t);return i<0||e.splice(i,1),e}fieldInfo(e,t){let i=new ke;if(!e||!e.fieldsInfo||e.fieldsInfo.length===0)return i;let n=e.fieldsInfo.find(o=>o.fieldName===t);return n||i}fieldInfoConvertor(e){let t=new Map;if(!e||!e.fieldsInfo||e.fieldsInfo.length===0)return t;if(e.fieldsInfo.forEach(i=>t[this.toLowerCaseFirstChar(i.fieldName)]=i),C.checkAccess||localStorage.getItem(tt)?.length>0){let i=new We;i.disableClose=!1,i.autoFocus=!0,i.data={access:e},i.height="70%",this.dialog.open(ae,i).afterClosed().subscribe(o=>{o&&o.dialogChangedDate})}return t}toLowerCaseFirstChar(e){return!e||e.length==0?"":e.length==1?e.toLowerCase():e[0].toLowerCase()+e.slice(1)}RowStyleExpireDate(e){if(!e)return"";let t=new Date;return new Date(e)<t?"#fc6868":(t.setMonth(t.getMonth()+1),new Date(e)<t?"#ffc691":(t.setMonth(t.getMonth()+2),new Date(e)<t?"#ffe291":(t.setMonth(t.getMonth()+12),new Date(e)<t?"#d7ff91":"#91ffa5")))}RowStyleTicketStatus(e){return e==X.Answered?"#91ffa5":e==X.Read?"#FFFF99":e==X.Ended?"#CCCCCC":"#fc6868"}RowStyleAnswerStatus(e){return e==Z.Answered?"#91ffa5":e==Z.Read?"#FFFF99":e==Z.Ended?"#CCCCCC":"#fc6868"}generateId(){return(new Date().getTime()/1e3|0).toString(16)+"xxxxxxxxxxxxxxxx".replace(/[x]/g,i=>(Math.random()*16|0).toString(16)).toLowerCase()}getCurrency(){return le(this,null,function*(){for(var e=0;this.getCurrencyActionIndo;)setTimeout(()=>{},1e4),e++,e==100&&(this.getCurrencyActionIndo=!1);let t=this.cmsStoreService.getStateSnapshot();return t?.currencyResultStore?.isSuccess&&t?.currencyResultStore?.listItems?.length>0?t.currencyResultStore:(this.getCurrencyActionIndo=!0,yield ce(this.coreCurrencyService.ServiceGetAll(null)).then(i=>(this.getCurrencyActionIndo=!1,this.cmsStoreService.setState({type:Ze,payload:i}),i)))})}parseNumberArabic(e){if(typeof e=="string")for(var t=0;t<10;t++)e=e.replace(this.persianNumbers[t],t).replace(this.arabicNumbers[t],t);return e}getEnumRecordStatus(){return le(this,null,function*(){for(var e=0;this.getEnumRecordStatusActionIndo;)setTimeout(()=>{},1e5),e++,e==100&&(this.getEnumRecordStatusActionIndo=!1);let t=this.cmsStoreService.getStateSnapshot();return t?.enumRecordStatusResultStore?.listItems?.length>0?t.enumRecordStatusResultStore:(this.getEnumRecordStatusActionIndo=!0,yield ce(this.coreEnumService.ServiceRecordStatusEnum(1e6)).then(i=>(this.getEnumRecordStatusActionIndo=!1,this.cmsStoreService.setState({type:et,payload:i}),i)).catch(()=>new De))})}setProcessOrder(e){let t=this.cmsStoreService.getStateSnapshot();var i=[];t?.processOrderStore?.length>0&&(i=t.processOrderStore.filter(n=>n.id!=e.id)),i=i.filter(n=>!n.isComplate),i.push(e),this.cmsStoreService.setState({type:Xe,payload:i})}StringRandomGenerator(e=10,t=!1){let i="0123456789abcdefghijklmnopqrstuvwxyz";t===!0&&(i="0123456789");let n="";for(let o=0;o<=e;o++){let f=Math.floor(Math.random()*i.length);n+=i.substring(f,f+1)}return t===!0&&n.indexOf("0")==0&&(n="1"+n.substring(1)),n}StringPasswordGenerator(e=10){let t="0123456789abcdefghijklmnopqrstuvwxyz",i="";for(let n=0;n<=e;n++){let o=Math.floor(Math.random()*t.length);i+=t.substring(o,o+1)}return i}checkIsHTML(e){return/<(\"[^\"]*\"|'[^']*'|[^'\">])*>/g.test(e)}checkModule(e){return!(C.cmsServerConfig.modules&&C.cmsServerConfig.modules.length>0&&C.cmsServerConfig.modules.findIndex(t=>t.toLowerCase()==e.toLowerCase())<0)}TableDisplayedColumns(e,t,i,n){(!i||i.length==0)&&(i=[]);var o=[];if(window.innerWidth<C.cmsViewConfig.mobileWindowInnerWidth&&t&&t.length>0?o=JSON.parse(JSON.stringify(t)):e&&e.length>0&&(o=JSON.parse(JSON.stringify(e))),i.length==0&&(o.indexOf("Id")>=0&&i.push("Id"),o.indexOf("LinkSiteId")>=0&&i.push("LinkSiteId")),n.access&&(n.access.userAccessAdminAllowToAllData||n.access.userAccessAdminAllowToProfessionalData)){var f=0;i.forEach(v=>{o=this.listAddIfNotExist(o,v,++f)})}else i.forEach(v=>{o=this.listRemoveIfExist(o,v)});return o}OpenNewTabByClick(e,t){e?.ctrlKey?window.open("/#"+t,"_blank"):this.router.url===t?this.router.navigate([t]):(this.pageInfo.updateContentService(null),this.router.navigate([t]))}InfoPerviousRowInList(e,t){if(!t||!t.id||!e||e.length<=1)return null;var i=e.findIndex(n=>n.id===t.id);return i<=0?null:e[i-1]}InfoNextRowInList(e,t){if(!t||!t.id||!e||e.length<=1)return null;var i=e.findIndex(n=>n.id===t.id);return i<0||i==e.length-1?null:e[i+1]}setComponentLocalStorage(e,t){localStorage.setItem(e,JSON.stringify(t))}getComponentLocalStorage(e){let t=localStorage.getItem(e);var i=new k;return t&&(i=JSON.parse(t)),i||(i=new k),i}setComponentLocalStorageMap(e,t,i){var n=this.getComponentLocalStorage(e);n.componentValues||(n.componentValues=new Map),n.componentValues[t]=i,this.setComponentLocalStorage(e,n)}getComponentLocalStorageMap(e,t){let i=localStorage.getItem(e);var n=new k;return i&&(n=JSON.parse(i)),n&&n.componentValues?n.componentValues[t]:""}};R.\u0275fac=function(t){return new(t||R)(u(He),u(ee),u(Je),u(Ne),u(Ue),u(ie),u(Ke),u(re),u(B))},R.\u0275prov=E({token:R,factory:R.\u0275fac,providedIn:"root"});var pt=R;export{oe as a,se as b,ie as c,ne as d,re as e,pt as f};
