import{a as br}from"./chunk-E7DIHELD.js";import{a as Sr}from"./chunk-WT2JFPO7.js";import{a as qn,b as hr}from"./chunk-S733GR5G.js";import{a as Un}from"./chunk-E76H3NZS.js";import{a as jn}from"./chunk-INXS65BZ.js";import{a as Mr}from"./chunk-RMSWU6EK.js";import{a as fr}from"./chunk-2T5JK5JT.js";import{a as ur}from"./chunk-ADDDWXWK.js";import{a as _r}from"./chunk-PTWIQLRN.js";import{a as gr}from"./chunk-UPGHEQFR.js";import{a as Wi}from"./chunk-ZL6QEETI.js";import{c as mr}from"./chunk-BHWJBCYT.js";import{a as ar}from"./chunk-7636DQMO.js";import{a as lr,b as sr,c as dr,d as cr,e as pr}from"./chunk-CDPN4KCN.js";import{j as Gn,k as Fn,l as Nn}from"./chunk-IVAYZTWW.js";import{a as rr}from"./chunk-OXO57L36.js";import{a as On}from"./chunk-EUIXYW5P.js";import"./chunk-Z27J7NCY.js";import{a as Hn}from"./chunk-HQ7WEEHM.js";import{a as Vt}from"./chunk-67YYOOXX.js";import{a as yt}from"./chunk-EN2OY6HN.js";import{a as Ke}from"./chunk-N2OY6R2Z.js";import{c as vt,d as je,e as Ue,g as Qe,h as ze}from"./chunk-Y6IJ3JK7.js";import{a as Lt,b as or}from"./chunk-U7LJWR3M.js";import{a as Wt,b as tr,c as ir}from"./chunk-2Z2XM2XQ.js";import{a as kt}from"./chunk-6KPN7GOQ.js";import{a as Ie}from"./chunk-KXUP4254.js";import{b as nr}from"./chunk-ZKRK4OAF.js";import{a as si}from"./chunk-TLC6JAZY.js";import{a as Ri}from"./chunk-SBFB6SUC.js";import{a as qe}from"./chunk-YB37TQTT.js";import{a as q}from"./chunk-CE2VYQXV.js";import{b as Pi,e as Ct,f as B}from"./chunk-BD3TJERA.js";import{$a as ae,Aa as Wn,Ab as ht,Bb as Mt,C as Po,Cb as St,D as Ro,Db as bt,F as Wo,Fc as Re,I as $,Ib as zo,Ic as We,J as _e,Jb as Ko,K as he,Kb as Jo,Kc as N,La as qo,Lb as Yo,M as ko,Ma as Se,Mb as Xo,Mc as It,N as Lo,Na as be,Nb as Zo,Nc as er,Oa as Oe,Qb as V,Rb as k,U as ni,Z as En,_ as Me,_a as jo,ab as Uo,ba as Tn,bb as G,bc as Bn,ca as xn,cc as $o,da as oi,ea as ri,fa as Ae,gb as lt,hb as st,jb as He,l as Rt,la as Vo,lb as Pe,m as Z,ma as Bo,mb as dt,na as Go,nb as ct,oa as Fo,ob as kn,p as K,pa as No,pb as ai,q as ce,qa as Oo,qb as li,ra as Ho,rb as Ln,s as pe,sb as Vn,t as ei,tb as Qo,u as me,ub as pt,v as ue,vb as mt,w as ti,wb as ut,xa as An,xb as ft,ya as Pn,yb as gt,z as ii,za as Rn,zb as _t}from"./chunk-AZOW3G2P.js";import{$b as $e,$n as $t,Ab as Xt,Bd as At,Ca as ye,Cb as ie,Db as ne,Eb as oe,Ed as Ti,F as Qt,Fa as o,Fd as F,Ha as Et,I as zt,Ib as A,Ic as De,Jb as Bt,Jc as Be,Jd as O,Kb as z,Kc as W,Kd as J,Ld as re,Me as yo,Nb as c,Oa as I,Ob as w,Oc as et,P as Kt,Pb as g,Q as Jt,Qb as Zt,Qc as tt,Qd as vo,Sa as R,Ta as vn,Tb as E,Td as Q,Tf as wo,Ub as T,Vb as x,Wa as U,Wb as P,Wc as bo,Xb as Ve,Xd as yn,Xn as xi,Y as Cn,Ya as b,Zn as To,_b as Ce,_n as Ai,ae as Dn,af as Do,ao as nt,bo as ot,cc as h,co as Pt,da as u,db as Tt,dc as M,do as rt,ea as f,eb as wi,ec as xt,eg as Eo,eo as wn,fb as Ei,fd as Io,iq as at,jb as d,jo as mn,jq as Ao,kb as r,ko as Gt,kq as Ne,lb as l,lo as xe,mb as S,mo as Ye,nd as Ge,no as Xe,oo as Ze,p as jt,pd as po,po as mo,q as Ut,qb as y,qo as xo,qq as uo,rb as D,rq as X,sa as So,sb as Ee,sd as Fe,tb as v,vc as L,vd as it,wb as C,xd as H,yb as p,zb as Yt,zd as Co}from"./chunk-4YZDTEB7.js";import{i as te}from"./chunk-SEDBTTTN.js";var xr=["vform"];function Ar(n,a){if(n&1){let e=v();r(0,"app-cms-enum-record-status-selector",22),x("modelChange",function(t){u(e);let s=p();return T(s.dataModel.recordStatus,t)||(s.dataModel.recordStatus=t),f(t)}),l()}if(n&2){let e=p();E("model",e.dataModel.recordStatus),d("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Pr(n,a){n&1&&S(0,"i",29)}function Rr(n,a){n&1&&S(0,"i",30)}function Wr(n,a){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),h(4,"translate"),l()()),n&2){let e=p(2);o(),g(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," is "),o(2),w(M(4,2,"MESSAGE.required"))}}function kr(n,a){if(n&1){let e=v();r(0,"div",23)(1,"label",24),c(2),l(),r(3,"input",25,2),x("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.title,t)||(s.dataModel.title=t),f(t)}),l(),b(5,Pr,1,0,"i",26)(6,Rr,1,0,"i",27),r(7,"em"),c(8),l(),b(9,Wr,5,4,"mat-error",28),l()}if(n&2){let e=A(4),i=p();o(2),w(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(),d("placeholder",P(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle)),E("ngModel",i.dataModel.title),d("disabled",!(i.fieldsInfo.title!=null&&i.fieldsInfo.title.accessAddField)),o(2),d("ngIf",!e.value),o(),d("ngIf",e.value),o(2),g("",e.value.length," / 100"),o(),d("ngIf",e.errors==null?null:e.errors.required)}}function Lr(n,a){if(n&1){let e=v();r(0,"div",23)(1,"label",31),c(2),l(),r(3,"input",32,3),x("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.linkPageId,t)||(s.dataModel.linkPageId=t),f(t)}),l(),r(5,"em"),c(6),l()()}if(n&2){let e=A(4),i=p();o(2),w(i.fieldsInfo.linkPageId==null?null:i.fieldsInfo.linkPageId.fieldTitle),o(),E("ngModel",i.dataModel.linkPageId),d("disabled",!(i.fieldsInfo.linkPageId!=null&&i.fieldsInfo.linkPageId.accessAddField)),o(3),g("",e.value.length," / 100")}}function Vr(n,a){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),h(4,"translate"),l()()),n&2){let e=p(2);o(),g(" ",e.fieldsInfo.priority==null?null:e.fieldsInfo.priority.fieldTitle," is "),o(2),w(M(4,2,"MESSAGE.required"))}}function Br(n,a){if(n&1){let e=v();r(0,"div",23)(1,"label",33),c(2),l(),r(3,"input",34,4),h(5,"translate"),x("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.priority,t)||(s.dataModel.priority=t),f(t)}),l(),b(6,Vr,5,4,"mat-error",28),l()}if(n&2){let e=A(4),i=p();o(2),w(i.fieldsInfo.priority==null?null:i.fieldsInfo.priority.fieldTitle),o(),d("placeholder",P(M(5,6,"TITLE.priority"))),E("ngModel",i.dataModel.priority),d("disabled",!(i.fieldsInfo.priority!=null&&i.fieldsInfo.priority.accessAddField)),o(3),d("ngIf",e.errors==null?null:e.errors.required)}}function Gr(n,a){n&1&&S(0,"i",29)}function Fr(n,a){n&1&&S(0,"i",30)}function Nr(n,a){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),h(4,"translate"),l()()),n&2){let e=p(2);o(),g(" ",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle," is "),o(2),w(M(4,2,"MESSAGE.required"))}}function Or(n,a){if(n&1){let e=v();r(0,"div",23)(1,"label",35),c(2),h(3,"translate"),l(),r(4,"textarea",36,5),x("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.description,t)||(s.dataModel.description=t),f(t)}),c(6,"            "),l(),r(7,"em"),c(8),l(),b(9,Gr,1,0,"i",26)(10,Fr,1,0,"i",27)(11,Nr,5,4,"mat-error",28),l()}if(n&2){let e=A(5),i=p();o(2),w(M(3,9,"TITLE.General_Description")),o(2),d("placeholder",P(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle)),E("ngModel",i.dataModel.description),d("disabled",!(i.fieldsInfo.description!=null&&i.fieldsInfo.description.accessAddField)),o(4),g("",e.value.length," / 100"),o(),d("ngIf",!e.value),o(),d("ngIf",e.value),o(),d("ngIf",e.errors==null?null:e.errors.required)}}function Hr(n,a){if(n&1){let e=v();r(0,"div",37)(1,"button",38),C("click",function(){u(e);let t=p();return f(t.onActionBackToParent())}),c(2),h(3,"translate"),l(),r(4,"button",39),c(5),h(6,"translate"),l()()}if(n&2){p();let e=A(9);o(2),g(" ",M(3,3,"ACTION.BACK")," "),o(2),d("disabled",!e.form.valid),o(),g(" ",M(6,5,"ACTION.NEXT")," ")}}function qr(n,a){if(n&1&&(S(0,"img",40),h(1,"cmsthumbnail")),n&2){let e=p();d("src",P(M(1,2,e.dataModel.linkMainImageIdSrc)),ye)}}function jr(n,a){if(n&1){let e=v();r(0,"div",23)(1,"label",41),C("click",function(){u(e);let t=p();return f(t.fileManagerOpenForm=!0)}),c(2),h(3,"translate"),l(),r(4,"input",42,6),h(6,"translate"),x("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.linkMainImageId,t)||(s.dataModel.linkMainImageId=t),f(t)}),C("click",function(){u(e);let t=p();return f(t.fileManagerOpenForm=!0)}),l(),r(7,"cms-file-manager",43),C("itemSelected",function(t){u(e);let s=p();return f(s.onActionFileSelectedLinkMainImageId(t))}),x("openFormChange",function(t){u(e);let s=p();return T(s.fileManagerOpenForm,t)||(s.fileManagerOpenForm=t),f(t)}),l()()}if(n&2){let e=p();o(2),w(M(3,12,"TITLE.Icon_File")),o(2),d("placeholder",P(M(6,14,"TITLE.Original_File_ID"))),E("ngModel",e.dataModel.linkMainImageId),o(3),d("language",e.appLanguage)("isPopup",!0),E("openForm",e.fileManagerOpenForm),d("tree",e.fileManagerTree)("openDirectUploadView",!0)("openFilemanagerButtonLabelKey","select")("selectFileType",e.selectFileTypeMainImage)("openFilemanagerButtonView",!1)}}function Ur(n,a){if(n&1&&(S(0,"img",40),h(1,"cmsthumbnail")),n&2){let e=p();d("src",P(M(1,2,e.dataModel.linkMainVideoIdSrc)),ye)}}function Qr(n,a){if(n&1){let e=v();r(0,"div",23)(1,"label",44),C("click",function(){u(e);let t=p();return f(t.fileManagerOpenFormVideo=!0)}),c(2),l(),r(3,"input",45,7),h(5,"translate"),x("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.linkMainVideoId,t)||(s.dataModel.linkMainVideoId=t),f(t)}),C("click",function(){u(e);let t=p();return f(t.fileManagerOpenFormVideo=!0)}),l(),r(6,"cms-file-manager",43),C("itemSelected",function(t){u(e);let s=p();return f(s.onActionFileSelectedLinkMainVideoId(t))}),x("openFormChange",function(t){u(e);let s=p();return T(s.fileManagerOpenFormVideo,t)||(s.fileManagerOpenFormVideo=t),f(t)}),l()()}if(n&2){let e=p();o(2),w(e.fieldsInfo.linkMainVideoId==null?null:e.fieldsInfo.linkMainVideoId.fieldTitle),o(),d("placeholder",P(M(5,13,"TITLE.Original_File_ID"))),E("ngModel",e.dataModel.linkMainVideoId),d("disabled",!(e.fieldsInfo.linkMainVideoId!=null&&e.fieldsInfo.linkMainVideoId.accessAddField)),o(3),d("language",e.appLanguage)("isPopup",!0),E("openForm",e.fileManagerOpenFormVideo),d("tree",e.fileManagerTree)("openDirectUploadView",!0)("openFilemanagerButtonLabelKey","select")("selectFileType",e.selectFileTypeMainVideo)("openFilemanagerButtonView",!1)}}function zr(n,a){if(n&1&&(r(0,"div",37)(1,"button",46),c(2),h(3,"translate"),l(),r(4,"button",47),c(5),h(6,"translate"),l()()),n&2){p();let e=A(9);o(2),g(" ",M(3,3,"ACTION.BEFOR")," "),o(2),d("disabled",!e.form.valid),o(),g(" ",M(6,5,"ACTION.SAVE")," ")}}var ki=class ki extends kt{constructor(e,i,t,s,_,m,j,Y){super(s,new Gt,i,Y);this.activatedRoute=e;this.publicHelper=i;this.coreEnumService=t;this.webDesignerMainIntroService=s;this.cmsToastrService=_;this.router=m;this.cdr=j;this.translate=Y;this.requestLinkPageId="";this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.formInfo=new re;this.dataModel=new Gt;this.dataModelResult=new F;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.selectFileTypeMainVideo=["mp4"];this.fileManagerOpenForm=!1;this.fileManagerOpenFormVideo=!1;this.appLanguage="fa";this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.activatedRoute.snapshot.paramMap.get("LinkPageId")&&(this.requestLinkPageId=this.activatedRoute.snapshot.paramMap.get("LinkPageId")),this.requestLinkPageId.length>0&&(this.dataModel.linkPageId=this.requestLinkPageId),this.DataGetAccess()}onFormSubmit(){if(!this.formGroup.valid){this.cmsToastrService.typeErrorFormInvalid();return}this.DataAddContent()}DataAddContent(){this.formInfo.submitButtonEnabled=!1,this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.webDesignerMainIntroService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!i.isSuccess,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.cmsToastrService.typeSuccessEdit(),setTimeout(()=>this.router.navigate(["/webdesigner/intro/"]),1e3)):this.cmsToastrService.typeErrorEdit(i.errorMessage),this.publicHelper.processService.processStop(e)},error:i=>{this.publicHelper.processService.processStop(e),this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeErrorEdit(i)}})}onStepClick(e,i){e.previouslySelectedIndex<e.selectedIndex}onActionBackToParent(){this.router.navigate(["/webdesigner/intro/"])}onActionFileSelectedLinkMainImageId(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}onActionFileSelectedLinkMainVideoId(e){this.dataModel.linkMainVideoId=e.id,this.dataModel.linkMainVideoIdSrc=e.downloadLinksrc}};ki.\u0275fac=function(i){return new(i||ki)(I(at),I(B),I(Q),I($t),I(N),I(Ne),I(L),I(V))},ki.\u0275cmp=R({type:ki,selectors:[["app-webdesigner-intro-add"]],viewQuery:function(i,t){if(i&1&&ie(xr,5),i&2){let s;ne(s=oe())&&(t.formGroup=s.first)}},standalone:!1,features:[U],decls:34,vars:31,consts:[["vform","ngForm"],["stepper",""],["Title",""],["LinkPageId",""],["Priority",""],["Description",""],["LinkMainImageId",""],["LinkMainVideoId",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"selectionChange"],["state","main",3,"label"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["class","form-actions",4,"ngIf"],["state","file",3,"label"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align: middle","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["class","fa fa-times invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],[4,"ngIf"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.linkPageId",1,"color-highlight"],["matInput","","type","text","name","dataModel.linkPageId","placeholder","Page Id","minlength","3","maxlength","100","id","dataModel.linkPageId",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.priority",1,"color-highlight"],["matInput","","type","number","name","dataModel.priority","id","dataModel.priority",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","3","maxlength","100","rows","10","required","","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],["type","button","matStepperNext","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue",3,"disabled"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openDirectUploadView","openFilemanagerButtonLabelKey","selectFileType","openFilemanagerButtonView"],["for","dataModel.linkMainVideoId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainVideoId","autocomplete","off","id","dataModel.linkMainVideoId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder","disabled"],["type","button","matStepperPrevious","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"]],template:function(i,t){if(i&1){let s=v();r(0,"div",8),S(1,"app-progress-spinner",9),r(2,"div",10)(3,"p",11),c(4),l(),r(5,"p"),c(6),h(7,"translate"),l(),r(8,"form",12,0),C("ngSubmit",function(){return u(s),f(t.onFormSubmit())}),r(10,"mat-horizontal-stepper",13,1),C("selectionChange",function(m){u(s);let j=A(11);return f(t.onStepClick(m,j))}),r(12,"mat-step",14),h(13,"translate"),b(14,Ar,1,5,"app-cms-enum-record-status-selector",15)(15,kr,10,9,"div",16)(16,Lr,7,4,"div",16)(17,Br,7,8,"div",16)(18,Or,12,11,"div",16)(19,Hr,7,7,"div",17),l(),r(20,"mat-step",18),h(21,"translate"),r(22,"p"),c(23),h(24,"translate"),l(),r(25,"div",19)(26,"a",20),h(27,"cmsthumbnail"),b(28,qr,2,4,"img",21),l()(),b(29,jr,8,16,"div",16),r(30,"div",19),b(31,Ur,2,4,"img",21),l(),b(32,Qr,7,15,"div",16)(33,zr,7,7,"div",17),l()()()()()}i&2&&(o(),d("optionsInfoAreaId",t.constructorInfoAreaId),o(3),g(" ",t.formInfo.formTitle," "),o(2),g(" ",M(7,21,"TITLE.Be_Careful_When_Entering_Information")," "),o(6),d("label",P(M(13,23,"TITLE.REQUIRED_INFORMATION"))),o(2),d("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),o(),d("ngIf",t.fieldsInfo.title==null?null:t.fieldsInfo.title.accessWatchField),o(),d("ngIf",t.fieldsInfo.linkPageId==null?null:t.fieldsInfo.linkPageId.accessWatchField),o(),d("ngIf",t.fieldsInfo.priority==null?null:t.fieldsInfo.priority.accessWatchField),o(),d("ngIf",t.fieldsInfo.description==null?null:t.fieldsInfo.description.accessWatchField),o(),d("ngIf",t.formInfo.submitButtonEnabled),o(),d("label",P(M(21,25,"TITLE.ATTACH_FILES"))),o(3),w(M(24,27,"TITLE.Photos_And_Application_Files")),o(3),d("href",P(M(27,29,t.dataModel.linkMainImageIdSrc)),ye),o(2),d("ngIf",(t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0),o(),d("ngIf",t.fieldsInfo.linkMainImageId==null?null:t.fieldsInfo.linkMainImageId.accessWatchField),o(2),d("ngIf",(t.dataModel==null||t.dataModel.linkMainVideoIdSrc==null?null:t.dataModel.linkMainVideoIdSrc.length)>0),o(),d("ngIf",t.fieldsInfo.linkMainVideoId==null?null:t.fieldsInfo.linkMainVideoId.accessWatchField),o(),d("ngIf",t.formInfo.submitButtonEnabled))},dependencies:[W,ue,Z,ti,K,ce,$,_e,he,me,pe,Me,G,ai,li,Ln,Vn,Ie,q,si,Bn,k,Wt],encapsulation:2});var un=ki;var Kr=["vform"];function Jr(n,a){if(n&1){let e=v();r(0,"app-cms-enum-record-status-selector",22),x("modelChange",function(t){u(e);let s=p();return T(s.dataModel.recordStatus,t)||(s.dataModel.recordStatus=t),f(t)}),l()}if(n&2){let e=p();E("model",e.dataModel.recordStatus),d("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Yr(n,a){n&1&&S(0,"i",29)}function Xr(n,a){n&1&&S(0,"i",30)}function Zr(n,a){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),h(4,"translate"),l()()),n&2){let e=p(2);o(),g(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," is "),o(2),w(M(4,2,"MESSAGE.required"))}}function $r(n,a){if(n&1){let e=v();r(0,"div",23)(1,"label",24),c(2),l(),r(3,"input",25,2),x("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.title,t)||(s.dataModel.title=t),f(t)}),l(),b(5,Yr,1,0,"i",26)(6,Xr,1,0,"i",27),r(7,"em"),c(8),l(),b(9,Zr,5,4,"mat-error",28),l()}if(n&2){let e=A(4),i=p();o(2),w(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(),d("placeholder",P(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle)),E("ngModel",i.dataModel.title),d("disabled",!(i.fieldsInfo.title!=null&&i.fieldsInfo.title.accessEditField)),o(2),d("ngIf",!e.value),o(),d("ngIf",e.value),o(2),g("",e.value.length," / 100"),o(),d("ngIf",e.errors==null?null:e.errors.required)}}function ea(n,a){if(n&1){let e=v();r(0,"div",23)(1,"label",31),c(2),l(),r(3,"input",32,3),x("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.linkPageId,t)||(s.dataModel.linkPageId=t),f(t)}),l(),r(5,"em"),c(6),l()()}if(n&2){let e=A(4),i=p();o(2),w(i.fieldsInfo.linkPageId==null?null:i.fieldsInfo.linkPageId.fieldTitle),o(),E("ngModel",i.dataModel.linkPageId),d("disabled",!(i.fieldsInfo.linkPageId!=null&&i.fieldsInfo.linkPageId.accessEditField)),o(3),g("",e.value.length," / 100")}}function ta(n,a){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),h(4,"translate"),l()()),n&2){let e=p(2);o(),g(" ",e.fieldsInfo.priority==null?null:e.fieldsInfo.priority.fieldTitle," is "),o(2),w(M(4,2,"MESSAGE.required"))}}function ia(n,a){if(n&1){let e=v();r(0,"div",23)(1,"label",33),c(2),l(),r(3,"input",34,4),h(5,"translate"),x("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.priority,t)||(s.dataModel.priority=t),f(t)}),l(),b(6,ta,5,4,"mat-error",28),l()}if(n&2){let e=A(4),i=p();o(2),w(i.fieldsInfo.priority==null?null:i.fieldsInfo.priority.fieldTitle),o(),d("placeholder",P(M(5,6,"TITLE.priority"))),E("ngModel",i.dataModel.priority),d("disabled",!(i.fieldsInfo.priority!=null&&i.fieldsInfo.priority.accessEditField)),o(3),d("ngIf",e.errors==null?null:e.errors.required)}}function na(n,a){n&1&&S(0,"i",29)}function oa(n,a){n&1&&S(0,"i",30)}function ra(n,a){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),h(4,"translate"),l()()),n&2){let e=p(2);o(),g(" ",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle," is "),o(2),w(M(4,2,"MESSAGE.required"))}}function aa(n,a){if(n&1){let e=v();r(0,"div",23)(1,"label",35),c(2),h(3,"translate"),l(),r(4,"textarea",36,5),x("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.description,t)||(s.dataModel.description=t),f(t)}),c(6,"            "),l(),r(7,"em"),c(8),l(),b(9,na,1,0,"i",26)(10,oa,1,0,"i",27)(11,ra,5,4,"mat-error",28),l()}if(n&2){let e=A(5),i=p();o(2),w(M(3,9,"TITLE.General_Description")),o(2),d("placeholder",P(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle)),E("ngModel",i.dataModel.description),d("disabled",!(i.fieldsInfo.description!=null&&i.fieldsInfo.description.accessEditField)),o(4),g("",e.value.length," / 100"),o(),d("ngIf",!e.value),o(),d("ngIf",e.value),o(),d("ngIf",e.errors==null?null:e.errors.required)}}function la(n,a){if(n&1){let e=v();r(0,"div",37)(1,"button",38),C("click",function(){u(e);let t=p();return f(t.onActionBackToParent())}),c(2),h(3,"translate"),l(),r(4,"button",39),c(5),h(6,"translate"),l()()}if(n&2){p();let e=A(9);o(2),g(" ",M(3,3,"ACTION.BACK")," "),o(2),d("disabled",!e.form.valid),o(),g(" ",M(6,5,"ACTION.NEXT")," ")}}function sa(n,a){if(n&1&&(S(0,"img",40),h(1,"cmsthumbnail")),n&2){let e=p();d("src",P(M(1,2,e.dataModel.linkMainImageIdSrc)),ye)}}function da(n,a){if(n&1){let e=v();r(0,"div",23)(1,"label",41),C("click",function(){u(e);let t=p();return f(t.fileManagerOpenForm=!0)}),c(2),l(),r(3,"input",42,6),h(5,"translate"),x("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.linkMainImageId,t)||(s.dataModel.linkMainImageId=t),f(t)}),C("click",function(){u(e);let t=p();return f(t.fileManagerOpenForm=!0)}),l(),r(6,"cms-file-manager",43),C("itemSelected",function(t){u(e);let s=p();return f(s.onActionFileSelectedLinkMainImageId(t))}),x("openFormChange",function(t){u(e);let s=p();return T(s.fileManagerOpenForm,t)||(s.fileManagerOpenForm=t),f(t)}),l()()}if(n&2){let e=p();o(2),w(e.fieldsInfo.linkMainImageId==null?null:e.fieldsInfo.linkMainImageId.fieldTitle),o(),d("placeholder",P(M(5,12,"TITLE.Original_File_ID"))),E("ngModel",e.dataModel.linkMainImageId),o(3),d("language",e.appLanguage)("isPopup",!0),E("openForm",e.fileManagerOpenForm),d("tree",e.fileManagerTree)("openDirectUploadView",!0)("openFilemanagerButtonLabelKey","select")("selectFileType",e.selectFileTypeMainImage)("openFilemanagerButtonView",!1)}}function ca(n,a){if(n&1&&(S(0,"img",40),h(1,"cmsthumbnail")),n&2){let e=p();d("src",P(M(1,2,e.dataModel.linkMainVideoIdSrc)),ye)}}function pa(n,a){if(n&1){let e=v();r(0,"div",23)(1,"label",44),C("click",function(){u(e);let t=p();return f(t.fileManagerOpenFormVideo=!0)}),c(2),l(),r(3,"input",45,7),h(5,"translate"),x("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.linkMainVideoId,t)||(s.dataModel.linkMainVideoId=t),f(t)}),C("click",function(){u(e);let t=p();return f(t.fileManagerOpenFormVideo=!0)}),l(),r(6,"cms-file-manager",43),C("itemSelected",function(t){u(e);let s=p();return f(s.onActionFileSelectedLinkMainVideoId(t))}),x("openFormChange",function(t){u(e);let s=p();return T(s.fileManagerOpenFormVideo,t)||(s.fileManagerOpenFormVideo=t),f(t)}),l()()}if(n&2){let e=p();o(2),w(e.fieldsInfo.linkMainVideoId==null?null:e.fieldsInfo.linkMainVideoId.fieldTitle),o(),d("placeholder",P(M(5,13,"TITLE.Original_File_ID"))),E("ngModel",e.dataModel.linkMainVideoId),d("disabled",!(e.fieldsInfo.linkMainVideoId!=null&&e.fieldsInfo.linkMainVideoId.accessAddField)),o(3),d("language",e.appLanguage)("isPopup",!0),E("openForm",e.fileManagerOpenFormVideo),d("tree",e.fileManagerTree)("openDirectUploadView",!0)("openFilemanagerButtonLabelKey","select")("selectFileType",e.selectFileTypeMainVideo)("openFilemanagerButtonView",!1)}}function ma(n,a){if(n&1&&(r(0,"div",37)(1,"button",46),c(2),h(3,"translate"),l(),r(4,"button",47),c(5),h(6,"translate"),l()()),n&2){p();let e=A(9);o(2),g(" ",M(3,3,"ACTION.BEFOR")," "),o(2),d("disabled",!e.form.valid),o(),g(" ",M(6,5,"ACTION.SAVE")," ")}}var Li=class Li extends Lt{constructor(e,i,t,s,_,m,j,Y){super(s,new Gt,i,Y);this.activatedRoute=e;this.publicHelper=i;this.coreEnumService=t;this.webDesignerMainIntroService=s;this.cmsToastrService=_;this.router=m;this.cdr=j;this.translate=Y;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.formInfo=new re;this.dataModel=new Gt;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.selectFileTypeMainVideo=["mp4"];this.fileManagerOpenForm=!1;this.fileManagerOpenFormVideo=!1;this.appLanguage="fa";this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),this.activatedRoute.snapshot.paramMap.get("Id")&&(this.requestId=this.activatedRoute.snapshot.paramMap.get("Id"))}ngOnInit(){if(this.requestId.length===0){this.cmsToastrService.typeErrorAddRowParentIsNull();return}this.DataGetOne(this.requestId)}onFormSubmit(){if(!this.formGroup.valid){this.cmsToastrService.typeErrorFormInvalid();return}this.DataEditContent()}DataGetOne(e){this.formInfo.submitButtonEnabled=!1,this.translate.get("MESSAGE.get_information_from_the_server").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage="";let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructorInfoAreaId)}),this.webDesignerMainIntroService.setAccessLoad(),this.webDesignerMainIntroService.setAccessDataType(At.Editor),this.webDesignerMainIntroService.ServiceGetOneById(e).subscribe({next:t=>{this.dataAccessModel=t.access,this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.publicHelper.processService.processStop(i),this.dataModelResult=t,this.formInfo.submitButtonEnabled=!0,t.isSuccess?this.dataModel=t.item:this.cmsToastrService.typeErrorGetOne(t.errorMessage)},error:t=>{this.publicHelper.processService.processStop(i),this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeErrorGetOne(t)}})}DataEditContent(){this.formInfo.submitButtonEnabled=!1,this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.webDesignerMainIntroService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!i.isSuccess,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.cmsToastrService.typeSuccessEdit(),setTimeout(()=>this.router.navigate(["/webdesigner/intro/"]),1e3)):this.cmsToastrService.typeErrorEdit(i.errorMessage),this.publicHelper.processService.processStop(e)},error:i=>{this.publicHelper.processService.processStop(e),this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeErrorEdit(i)}})}onStepClick(e,i){e.previouslySelectedIndex<e.selectedIndex}onActionBackToParent(){this.router.navigate(["/webdesigner/intro/"])}onActionFileSelectedLinkMainImageId(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}onActionFileSelectedLinkMainVideoId(e){this.dataModel.linkMainVideoId=e.id,this.dataModel.linkMainVideoIdSrc=e.downloadLinksrc}};Li.\u0275fac=function(i){return new(i||Li)(I(at),I(B),I(Q),I($t),I(N),I(Ne),I(L),I(V))},Li.\u0275cmp=R({type:Li,selectors:[["app-webdesigner-intro-edit"]],viewQuery:function(i,t){if(i&1&&ie(Kr,5),i&2){let s;ne(s=oe())&&(t.formGroup=s.first)}},standalone:!1,features:[U],decls:34,vars:31,consts:[["vform","ngForm"],["stepper",""],["Title",""],["LinkPageId",""],["Priority",""],["Description",""],["LinkMainImageId",""],["LinkMainVideoId",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"selectionChange"],["state","main",3,"label"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["class","form-actions",4,"ngIf"],["state","file",3,"label"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align: middle","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["class","fa fa-times invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],[4,"ngIf"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.linkPageId",1,"color-highlight"],["matInput","","type","text","name","dataModel.linkPageId","placeholder","Page Id","minlength","3","maxlength","100","id","dataModel.linkPageId",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.priority",1,"color-highlight"],["matInput","","type","number","name","dataModel.priority","id","dataModel.priority",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","3","maxlength","100","rows","10","required","","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],["type","button","matStepperNext","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue",3,"disabled"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openDirectUploadView","openFilemanagerButtonLabelKey","selectFileType","openFilemanagerButtonView"],["for","dataModel.linkMainVideoId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainVideoId","autocomplete","off","id","dataModel.linkMainVideoId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder","disabled"],["type","button","matStepperPrevious","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"]],template:function(i,t){if(i&1){let s=v();r(0,"div",8),S(1,"app-progress-spinner",9),r(2,"div",10)(3,"p",11),c(4),l(),r(5,"p"),c(6),h(7,"translate"),l(),r(8,"form",12,0),C("ngSubmit",function(){return u(s),f(t.onFormSubmit())}),r(10,"mat-horizontal-stepper",13,1),C("selectionChange",function(m){u(s);let j=A(11);return f(t.onStepClick(m,j))}),r(12,"mat-step",14),h(13,"translate"),b(14,Jr,1,5,"app-cms-enum-record-status-selector",15)(15,$r,10,9,"div",16)(16,ea,7,4,"div",16)(17,ia,7,8,"div",16)(18,aa,12,11,"div",16)(19,la,7,7,"div",17),l(),r(20,"mat-step",18),h(21,"translate"),r(22,"p"),c(23),h(24,"translate"),l(),r(25,"div",19)(26,"a",20),h(27,"cmsthumbnail"),b(28,sa,2,4,"img",21),l()(),b(29,da,7,14,"div",16),r(30,"div",19),b(31,ca,2,4,"img",21),l(),b(32,pa,7,15,"div",16)(33,ma,7,7,"div",17),l()()()()()}i&2&&(o(),d("optionsInfoAreaId",t.constructorInfoAreaId),o(3),g(" ",t.formInfo.formTitle," "),o(2),g(" ",M(7,21,"TITLE.Be_Careful_When_Entering_Information")," "),o(6),d("label",P(M(13,23,"TITLE.REQUIRED_INFORMATION"))),o(2),d("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),o(),d("ngIf",t.fieldsInfo.title==null?null:t.fieldsInfo.title.accessWatchField),o(),d("ngIf",t.fieldsInfo.linkPageId==null?null:t.fieldsInfo.linkPageId.accessWatchField),o(),d("ngIf",t.fieldsInfo.priority==null?null:t.fieldsInfo.priority.accessWatchField),o(),d("ngIf",t.fieldsInfo.description==null?null:t.fieldsInfo.description.accessWatchField),o(),d("ngIf",t.formInfo.submitButtonEnabled),o(),d("label",P(M(21,25,"TITLE.ATTACH_FILES"))),o(3),w(M(24,27,"TITLE.Photos_And_Application_Files")),o(3),d("href",P(M(27,29,t.dataModel.linkMainImageIdSrc)),ye),o(2),d("ngIf",(t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0),o(),d("ngIf",t.fieldsInfo.linkMainImageId==null?null:t.fieldsInfo.linkMainImageId.accessWatchField),o(2),d("ngIf",(t.dataModel==null||t.dataModel.linkMainVideoIdSrc==null?null:t.dataModel.linkMainVideoIdSrc.length)>0),o(),d("ngIf",t.fieldsInfo.linkMainVideoId==null?null:t.fieldsInfo.linkMainVideoId.accessWatchField),o(),d("ngIf",t.formInfo.submitButtonEnabled))},dependencies:[W,ue,Z,ti,K,ce,$,_e,he,me,pe,Me,G,ai,li,Ln,Vn,Ie,q,si,Bn,k,Wt],encapsulation:2});var zn=Li;var ga=()=>[5,10,20,100],_a=n=>({display:n});function ha(n,a){if(n&1){let e=v();r(0,"a",41),C("click",function(){u(e);let t=p();return f(t.onActionBackToParent())}),S(1,"i",42),l()}}function Ma(n,a){if(n&1){let e=v();r(0,"div",43)(1,"a",44),C("click",function(){u(e);let t=p();return f(t.onActionButtonNewRow())}),S(2,"i",45)(3,"br"),l(),r(4,"p",46),c(5),h(6,"translate"),l()()}n&2&&(o(5),g(" ",M(6,1,"ACTION.ADD")," "))}function Sa(n,a){if(n&1){let e=v();r(0,"div",43)(1,"a",47),C("click",function(){u(e);let t=p();return f(t.onActionButtonEditRow(t.tableRowSelected))}),S(2,"i",48)(3,"br"),l(),r(4,"p",46),c(5),h(6,"translate"),l()()}n&2&&(o(5),g(" ",M(6,1,"ACTION.EDIT")," "))}function ba(n,a){if(n&1){let e=v();r(0,"div",43)(1,"a",49),C("click",function(){u(e);let t=p();return f(t.onActionButtonDeleteRow(t.tableRowSelected))}),S(2,"i",50)(3,"br"),l(),r(4,"p",46),c(5),h(6,"translate"),l()()}n&2&&(o(5),g(" ",M(6,1,"ACTION.DELETE")," "))}function Ia(n,a){n&1&&(r(0,"mat-header-cell",51),c(1),h(2,"translate"),l()),n&2&&(o(),g(" ",M(2,1,"TITLE.PICTURE")," "))}function Ca(n,a){if(n&1&&(S(0,"img",53),h(1,"cmsthumbnail")),n&2){let e=p().$implicit;d("src",P(M(1,2,e.linkMainImageIdSrc)),ye)}}function va(n,a){if(n&1&&(r(0,"mat-cell"),b(1,Ca,2,4,"img",52),l()),n&2){let e=a.$implicit;o(),d("ngIf",(e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0)}}function ya(n,a){if(n&1&&(r(0,"mat-header-cell",54),c(1),l()),n&2){let e=p();o(),g(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function Da(n,a){if(n&1&&(r(0,"mat-cell"),c(1),l()),n&2){let e=a.$implicit;o(),g(" ",e.id," ")}}function wa(n,a){if(n&1&&(r(0,"mat-header-cell",54),c(1),l()),n&2){let e=p();o(),g(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function Ea(n,a){if(n&1&&(r(0,"mat-cell"),c(1),h(2,"cmssiteinfo"),h(3,"async"),l()),n&2){let e=a.$implicit;o(),g(" ",M(3,3,M(2,1,e.linkSiteId))," ")}}function Ta(n,a){if(n&1&&(r(0,"mat-header-cell",54),c(1),l()),n&2){let e=p();o(),g(" ",e.fieldsInfo.linkPageId==null?null:e.fieldsInfo.linkPageId.fieldTitle," ")}}function xa(n,a){if(n&1&&(r(0,"mat-cell"),c(1),l()),n&2){let e=a.$implicit;o(),g(" ",e.linkPageId," ")}}function Aa(n,a){if(n&1&&(r(0,"mat-header-cell",54),c(1),l()),n&2){let e=p();o(),g(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function Pa(n,a){if(n&1&&S(0,"select",57),n&2){let e=p().$implicit,i=p();d("contentService",i.contentService)("row",e)("ngStyle",$e(3,_a,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function Ra(n,a){if(n&1&&(r(0,"mat-cell",55),h(1,"statusCellClass"),S(2,"i",55),h(3,"statusIconClass"),b(4,Pa,1,5,"select",56),l()),n&2){let e=a.$implicit,i=p();d("ngClass",M(1,3,e.recordStatus)),o(2),d("ngClass",M(3,5,e.recordStatus)),o(2),d("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessEditRow)}}function Wa(n,a){if(n&1&&(r(0,"mat-header-cell",54),c(1),l()),n&2){let e=p();o(),g(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," ")}}function ka(n,a){if(n&1&&(r(0,"mat-cell"),c(1),l()),n&2){let e=a.$implicit;o(),g(" ",e.title," ")}}function La(n,a){if(n&1&&(r(0,"mat-header-cell",54),c(1),l()),n&2){let e=p();o(),g(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function Va(n,a){if(n&1&&(r(0,"mat-cell"),c(1),h(2,"localeDate"),l()),n&2){let e=a.$implicit;o(),g(" ",M(2,1,e.createdDate)," ")}}function Ba(n,a){if(n&1&&(r(0,"mat-header-cell",54),c(1),l()),n&2){let e=p();o(),g(" ",e.fieldsInfo.updatedDate==null?null:e.fieldsInfo.updatedDate.fieldTitle," ")}}function Ga(n,a){if(n&1&&(r(0,"mat-cell"),c(1),h(2,"localeDate"),l()),n&2){let e=a.$implicit;o(),g(" ",M(2,1,e.updatedDate)," ")}}function Fa(n,a){n&1&&(r(0,"mat-header-cell"),c(1),h(2,"translate"),l()),n&2&&(o(),g(" ",M(2,1,"TITLE.OPTION")," "))}function Na(n,a){if(n&1&&(r(0,"mat-cell",58)(1,"button",59)(2,"mat-icon"),c(3,"more_vert"),l()(),S(4,"mat-menu",null,2),l()),n&2){let e=A(5);o(),d("matMenuTriggerFor",e)}}function Oa(n,a){n&1&&S(0,"mat-header-row")}function Ha(n,a){if(n&1){let e=v();r(0,"mat-row",60),C("click",function(t){let s=u(e).$implicit,_=p();return f(_.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=u(e).$implicit,_=p();return f(_.onActionTableRowSelect(s,t))}),l()}if(n&2){let e=a.$implicit,i=p();z("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var Vi=class Vi extends vt{constructor(e,i,t,s,_,m,j,Y,wt,gi,Ht,_i){super(e,new Gt,Ht,_,Y);this.contentService=e;this.activatedRoute=i;this.cmsToastrService=t;this.router=s;this.tokenHelper=_;this.cmsConfirmationDialogService=m;this.cdr=j;this.translate=Y;this.cmsStoreService=wt;this.pageInfo=gi;this.publicHelper=Ht;this.dialog=_i;this.requestLinkPageId=0;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new J;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["LinkMainImageIdSrc","Id","RecordStatus","LinkPageId","CreatedDate","UpdatedDate"];this.tabledisplayedColumnsMobileSource=["LinkMainImageIdSrc","Id","RecordStatus","LinkPageId","CreatedDate","UpdatedDate"];this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:qt=>this.onSubmitOptionsSearch(qt)},this.filteModelContent.sortColumn="Id",this.filteModelContent.sortType=H.Descending}ngOnInit(){this.requestLinkPageId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkPageId"));let e=new O;this.requestLinkPageId>0&&(e.propertyName="LinkPageId",e.value=this.requestLinkPageId,this.filteModelContent.filters.push(e)),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(i=>i.tokenInfoStore).subscribe(i=>te(this,null,function*(){this.tokenInfo=i,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.requestLinkPageId===0&&(this.tabledisplayedColumns=this.publicHelper.listRemoveIfExist(this.tabledisplayedColumns,"LinkPageId")),this.tableRowsSelected=[],this.onActionTableRowSelect(new Gt);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),t.isSuccess&&(this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=H.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=H.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=H.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}this.requestLinkPageId>0?this.router.navigate(["/webdesigner/intro/add/",this.requestLinkPageId]):this.router.navigate(["/webdesigner/intro/add/"])}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}this.router.navigate(["/webdesigner/intro/edit/",this.tableRowSelected.id])}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.No_row_selected_for_editing").subscribe(s=>{this.cmsToastrService.typeErrorSelected(s)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(s=>{i=s["MESSAGE.Please_Confirm"],t=s["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(s=>{if(s){let _=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(m=>{this.publicHelper.processService.processStart(_,m,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:m=>{m.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(_)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(_)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(m=>{i.set(m,0)}),this.translate.get("MESSAGE.All").subscribe(m=>{i.set(m,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(m=>{this.publicHelper.processService.processStart(t,m,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:m=>{m.isSuccess&&(i.set("All",m.totalRowCount),this.optionsStatist.childMethods.setStatistValue(i)),this.publicHelper.processService.processStop(t)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(t)}});let s=JSON.parse(JSON.stringify(this.filteModelContent)),_=new O;_.propertyName="RecordStatus",_.value=it.Available,s.filters.push(_),this.contentService.ServiceGetCount(s).subscribe({next:m=>{m.isSuccess&&(i.set("Active",m.totalRowCount),this.optionsStatist.childMethods.setStatistValue(i)),this.publicHelper.processService.processStop(t)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(t)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};Vi.\u0275fac=function(i){return new(i||Vi)(I($t),I(at),I(N),I(Ne),I(We),I(qe),I(L),I(V),I(Re),I(Ct),I(B),I(Oe))},Vi.\u0275cmp=R({type:Vi,selectors:[["app-webdesigner-intro-list"]],standalone:!1,features:[U],decls:63,vars:31,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","LinkMainImageIdSrc"],["mat-sort-hea","","der","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","LinkPageId"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","Title"],["matColumnDef","CreatedDate"],["matColumnDef","UpdatedDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],[1,"col-4"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-hea","","der",""],["style","vertical-align: middle","class","ntk-hover-zoom","aria-hidden","","height","40","width","40",3,"src",4,"ngIf"],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(i,t){if(i&1){let s=v();r(0,"app-cms-html-list",3),x("optionActionGuideNoticeDisplayChange",function(m){return u(s),T(t.viewGuideNotice,m)||(t.viewGuideNotice=m),f(m)}),C("optionOnActionButtonMemoRow",function(){return u(s),f(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return u(s),f(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return u(s),f(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return u(s),f(t.onActionButtonPrintRow())}),y(1,4),c(2," -------------------------------------- "),D(),Ee(3,5)(4,6),y(5,7),b(6,ha,2,0,"a",8),r(7,"a",9),C("click",function(){return u(s),f(t.viewGuideNotice=!t.viewGuideNotice)}),S(8,"i",10),l(),r(9,"a",9),C("click",function(){return u(s),f(t.onActionButtonReload())}),S(10,"i",11),l(),D(),y(11,12),r(12,"a",13),C("click",function(){return u(s),f(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),S(13,"mat-slide-toggle",14),c(14),h(15,"translate"),l(),r(16,"a",13),C("click",function(){return u(s),f(t.onActionButtonStatist())}),S(17,"mat-slide-toggle",14),c(18),h(19,"translate"),l(),D(),y(20,15),b(21,Ma,7,3,"div",16),D(),y(22,17),b(23,Sa,7,3,"div",16)(24,ba,7,3,"div",16),D(),y(25,18),r(26,"app-cms-search-list",19),x("optionsChange",function(m){return u(s),T(t.optionsSearch,m)||(t.optionsSearch=m),f(m)}),l(),r(27,"app-cms-statist-list",19),x("optionsChange",function(m){return u(s),T(t.optionsStatist,m)||(t.optionsStatist=m),f(m)}),l(),D(),y(28,20),r(29,"mat-table",21,0),C("matSortChange",function(){u(s);let m=A(30);return f(t.onTableSortData(m))}),y(31,22),b(32,Ia,3,3,"mat-header-cell",23)(33,va,2,1,"mat-cell",24),D(),y(34,25),b(35,ya,2,1,"mat-header-cell",26)(36,Da,2,1,"mat-cell",24),D(),y(37,27),b(38,wa,2,1,"mat-header-cell",26)(39,Ea,4,5,"mat-cell",24),D(),y(40,28),b(41,Ta,2,1,"mat-header-cell",26)(42,xa,2,1,"mat-cell",24),D(),y(43,29),b(44,Aa,2,1,"mat-header-cell",26)(45,Ra,5,7,"mat-cell",30),D(),y(46,31),b(47,Wa,2,1,"mat-header-cell",26)(48,ka,2,1,"mat-cell",24),D(),y(49,32),b(50,La,2,1,"mat-header-cell",26)(51,Va,3,3,"mat-cell",24),D(),y(52,33),b(53,Ba,2,1,"mat-header-cell",26)(54,Ga,3,3,"mat-cell",24),D(),y(55,34),b(56,Fa,3,3,"mat-header-cell",35)(57,Na,6,1,"mat-cell",36),D(),b(58,Oa,1,0,"mat-header-row",37)(59,Ha,1,2,"mat-row",38),l(),D(),y(60,39),r(61,"mat-paginator",40,1),C("page",function(m){return u(s),f(t.onTablePageingData(m))}),l(),D(),l()}i&2&&(d("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),E("optionActionGuideNoticeDisplay",t.viewGuideNotice),d("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.title),o(6),d("ngIf",t.requestLinkPageId>0),o(4),z("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(3),d("checked",t.optionsSearch.data.show),o(),g("",M(15,26,"ACTION.SEARCH")," "),o(3),d("checked",t.optionsStatist.data.show),o(),g("",M(19,28,"ACTION.STATIST")," "),o(3),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessAddRow),o(2),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),o(),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),o(2),E("options",t.optionsSearch),o(),E("options",t.optionsStatist),o(2),d("dataSource",t.tableSource),o(29),d("matHeaderRowDef",t.tabledisplayedColumns),o(),d("matRowDefColumns",t.tabledisplayedColumns),o(2),d("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",Ce(30,ga)))},dependencies:[De,W,et,Ae,ae,G,lt,st,He,Pe,dt,ct,pt,ut,ht,ft,mt,Mt,gt,_t,St,bt,je,Ue,Qe,ze,yt,tt,k,On,Wt,Hn,Ke,Vt],encapsulation:2});var fn=Vi;var qa=["vform"];function ja(n,a){if(n&1&&(r(0,"div",9),S(1,"i",13),r(2,"span",14),c(3),l()()),n&2){let e=p(2);o(3),w(e.formInfo.submitResultMessage)}}function Ua(n,a){if(n&1&&(r(0,"div",10),S(1,"i",15),r(2,"span",14),c(3),l()()),n&2){let e=p(2);o(3),w(e.formInfo.submitResultMessage)}}function Qa(n,a){if(n&1&&(r(0,"div",11),S(1,"i",16),r(2,"span",14),c(3),l()()),n&2){let e=p(2);o(3),w(e.formInfo.submitResultMessage)}}function za(n,a){if(n&1&&(r(0,"div",12),S(1,"i",17),r(2,"span",14),c(3),l()()),n&2){let e=p(2);o(3),w(e.formInfo.submitResultMessage)}}function Ka(n,a){if(n&1&&wi(0,ja,4,1,"div",9)(1,Ua,4,1,"div",10)(2,Qa,4,1,"div",11)(3,za,4,1,"div",12),n&2){let e,i=p();Ei((e=i.formInfo.submitResult)==="success"?0:e==="error"?1:e==="warning"?2:3)}}function Ja(n,a){if(n&1){let e=v();r(0,"div",18)(1,"button",19),C("click",function(){u(e);let t=p();return f(t.onFormCancel())}),S(2,"i",20),c(3),h(4,"translate"),l()()}n&2&&(o(3),g(" ",M(4,1,"ACTION.CANCEL")," "))}var qi=class qi{constructor(a,e,i,t,s,_,m,j,Y,wt){this.data=a;this.dialogRef=e;this.coreEnumService=i;this.webDesignerLogMemberInfoService=t;this.cdr=s;this.cmsToastrService=_;this.tokenHelper=m;this.cmsStoreService=j;this.publicHelper=Y;this.translate=wt;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.tokenInfo=new wo;this.dataModelResult=new F;this.dataModel=new mn;this.formInfo=new re;this.dataModelEnumSendSmsStatusTypeResult=new F;this.fieldsInfo=new Map;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,a&&(this.requestId=a.id+"")}ngOnInit(){if(this.translate.get("TITLE.VIEW").subscribe(a=>{this.formInfo.formTitle=a}),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(a=>a.tokenInfoStore).subscribe(a=>te(this,null,function*(){this.tokenInfo=a}))),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:a=>{this.dataModelEnumSendSmsStatusTypeResult=a}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(a=>a.unsubscribe())}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage="";let a=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(a,e,this.constructorInfoAreaId)}),this.webDesignerLogMemberInfoService.setAccessLoad(),this.webDesignerLogMemberInfoService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModel=e.item,e.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+e.item.id,this.formInfo.submitResultMessage=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.cmsToastrService.typeErrorMessage(e.errorMessage)),this.publicHelper.processService.processStop(a)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(a,!1)}})}onActionSelectorLocation(a){if(!a||!a.id||a.id<=0){this.translate.get("MESSAGE.Information_area_deleted").subscribe(e=>{this.cmsToastrService.typeWarningSelected(e)}),this.dataModel.linkLocationId=null;return}this.dataModel.linkLocationId=a.id}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};qi.\u0275fac=function(e){return new(e||qi)(I(be),I(Se),I(Q),I(Ai),I(L),I(N),I(We),I(Re),I(B),I(V))},qi.\u0275cmp=R({type:qi,selectors:[["app-webdesigner-logmemberinfo-view"]],viewQuery:function(e,i){if(e&1&&ie(qa,5),e&2){let t;ne(t=oe())&&(i.formGroup=t.first)}},standalone:!1,decls:15,vars:21,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection","loader-container"],[3,"optionsInfoAreaId"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],[3,"dataModel","optionMethod"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],[1,"ntk-cms-html-card-message"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],[1,"chip","chip-s","bg-green-dark"],[1,"chip","chip-s","bg-red-dark"],[1,"chip","chip-s","bg-yellow-dark"],[1,"chip","chip-s","bg-gray-dark"],[1,"fa","fa-check","color-white","bg-green-light"],[1,"color-white"],[1,"fa","fa-check","color-white","bg-red-light"],[1,"fa","fa-check","color-white","bg-yellow-light"],[1,"fa","fa-check","color-white","bg-gray-light"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,i){e&1&&(r(0,"div",0),c(1),l(),r(2,"div",1),S(3,"app-progress-spinner",2)(4,"app-cms-site-selector",3),h(5,"translate"),S(6,"app-cms-user-selector",3),h(7,"translate"),S(8,"app-cms-json-list",4),r(9,"app-cms-location-selector",5),h(10,"translate"),C("optionChange",function(s){return i.onActionSelectorLocation(s)}),l()(),r(11,"div",6),wi(12,Ka,4,1),l(),r(13,"div",7),b(14,Ja,5,3,"div",8),l()),e&2&&(o(),g(" ",i.formInfo.formTitle," "),o(2),d("optionsInfoAreaId",i.constructorInfoAreaId),o(),d("optionDisabled",!0)("optionSelectForce",i.dataModel.linkSiteId)("optionPlaceholder",M(5,15,"TITLE.SITE")),o(2),d("optionDisabled",!0)("optionSelectForce",i.dataModel.linkUserId)("optionPlaceholder",M(7,17,"TITLE.USER")),o(2),d("dataModel",i.dataModel)("optionMethod",1),o(),d("optionDisabled",!(i.fieldsInfo.linkLocationId!=null&&i.fieldsInfo.linkLocationId.accessEditField))("optionSelectForce",i.dataModel.linkLocationId)("optionPlaceholder",M(10,19,"TITLE.Region")),o(3),Ei((i.formInfo==null||i.formInfo.submitResultMessage==null?null:i.formInfo.submitResultMessage.length)>0?12:-1),o(2),d("ngIf",i.formInfo.submitButtonEnabled))},dependencies:[W,tr,Sr,or,q,rr,k],encapsulation:2});var Jn=qi;var Ya=()=>[5,10,20,100],Xa=n=>({display:n});function Za(n,a){if(n&1){let e=v();r(0,"div",46)(1,"a",47),C("click",function(){u(e);let t=p();return f(t.onActionButtonViewRow(t.tableRowSelected))}),S(2,"i",48)(3,"br"),l(),r(4,"p",49),c(5),h(6,"translate"),l()()}n&2&&(o(5),g(" ",M(6,1,"ACTION.VIEW")," "))}function $a(n,a){if(n&1){let e=v();r(0,"div",46)(1,"a",50),C("click",function(){u(e);let t=p();return f(t.onActionButtonDeleteRow(t.tableRowSelected))}),S(2,"i",51)(3,"br"),l(),r(4,"p",49),c(5),h(6,"translate"),l()()}n&2&&(o(5),g(" ",M(6,1,"ACTION.DELETE")," "))}function el(n,a){if(n&1&&(r(0,"mat-header-cell",52),c(1),l()),n&2){let e=p();o(),g(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function tl(n,a){if(n&1&&(r(0,"mat-cell"),c(1),l()),n&2){let e=a.$implicit;o(),g(" ",e.id," ")}}function il(n,a){if(n&1&&(r(0,"mat-header-cell",52),c(1),l()),n&2){let e=p();o(),g(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function nl(n,a){if(n&1&&(r(0,"mat-cell"),c(1),h(2,"cmssiteinfo"),h(3,"async"),l()),n&2){let e=a.$implicit;o(),g(" ",M(3,3,M(2,1,e.linkSiteId))," ")}}function ol(n,a){if(n&1&&(r(0,"mat-header-cell",52),c(1),l()),n&2){let e=p();o(),g(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function rl(n,a){if(n&1&&S(0,"select",55),n&2){let e=p().$implicit,i=p();d("contentService",i.contentService)("row",e)("ngStyle",$e(3,Xa,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function al(n,a){if(n&1&&(r(0,"mat-cell",53),h(1,"statusCellClass"),S(2,"i",53),h(3,"statusIconClass"),b(4,rl,1,5,"select",54),l()),n&2){let e=a.$implicit,i=p();d("ngClass",M(1,3,e.recordStatus)),o(2),d("ngClass",M(3,5,e.recordStatus)),o(2),d("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessEditRow)}}function ll(n,a){if(n&1&&(r(0,"mat-header-cell",52),c(1),l()),n&2){let e=p();o(),g(" ",e.fieldsInfo.linkUserId==null?null:e.fieldsInfo.linkUserId.fieldTitle," ")}}function sl(n,a){if(n&1&&(r(0,"mat-cell"),c(1),h(2,"cmsuserinfo"),h(3,"async"),l()),n&2){let e=a.$implicit;o(),g(" ",M(3,3,M(2,1,e.linkUserId))," ")}}function dl(n,a){if(n&1&&(r(0,"mat-header-cell",52),c(1),l()),n&2){let e=p();o(),g(" ",e.fieldsInfo.linkMemberId==null?null:e.fieldsInfo.linkMemberId.fieldTitle," ")}}function cl(n,a){if(n&1&&(r(0,"mat-cell"),c(1),l()),n&2){let e=a.$implicit;o(),g(" ",e.linkMemberId," ")}}function pl(n,a){if(n&1&&(r(0,"mat-header-cell",52),c(1),l()),n&2){let e=p();o(),g(" ",e.fieldsInfo.linkLocationIdTitle==null?null:e.fieldsInfo.linkLocationIdTitle.fieldTitle," ")}}function ml(n,a){if(n&1&&(r(0,"mat-cell"),c(1),l()),n&2){let e=a.$implicit;o(),g(" ",e.linkLocationIdTitle," ")}}function ul(n,a){if(n&1&&(r(0,"mat-header-cell",52),c(1),l()),n&2){let e=p();o(),g(" ",e.fieldsInfo.linkLocationIdParentTitle==null?null:e.fieldsInfo.linkLocationIdParentTitle.fieldTitle," ")}}function fl(n,a){if(n&1&&(r(0,"mat-cell"),c(1),l()),n&2){let e=a.$implicit;o(),g(" ",e.linkLocationIdParentTitle," ")}}function gl(n,a){if(n&1&&(r(0,"mat-header-cell",52),c(1),l()),n&2){let e=p();o(),g(" ",e.fieldsInfo.deviceStatus==null?null:e.fieldsInfo.deviceStatus.fieldTitle," ")}}function _l(n,a){if(n&1&&(r(0,"mat-cell"),c(1),l()),n&2){let e=a.$implicit;o(),g(" ",e.deviceStatus," ")}}function hl(n,a){if(n&1&&(r(0,"mat-header-cell",52),c(1),l()),n&2){let e=p();o(),g(" ",e.fieldsInfo.deviceId==null?null:e.fieldsInfo.deviceId.fieldTitle," ")}}function Ml(n,a){if(n&1&&(r(0,"mat-cell"),c(1),l()),n&2){let e=a.$implicit;o(),g(" ",e.deviceId," ")}}function Sl(n,a){if(n&1&&(r(0,"mat-header-cell",52),c(1),l()),n&2){let e=p();o(),g(" ",e.fieldsInfo.deviceBrand==null?null:e.fieldsInfo.deviceBrand.fieldTitle," ")}}function bl(n,a){if(n&1&&(r(0,"mat-cell"),c(1),l()),n&2){let e=a.$implicit;o(),g(" ",e.deviceBrand," ")}}function Il(n,a){if(n&1&&(r(0,"mat-header-cell",52),c(1),l()),n&2){let e=p();o(),g(" ",e.fieldsInfo.simCard==null?null:e.fieldsInfo.simCard.fieldTitle," ")}}function Cl(n,a){if(n&1&&(r(0,"mat-cell"),c(1),l()),n&2){let e=a.$implicit;o(),g(" ",e.simCard," ")}}function vl(n,a){if(n&1&&(r(0,"mat-header-cell",52),c(1),l()),n&2){let e=p();o(),g(" ",e.fieldsInfo.appBuildVer==null?null:e.fieldsInfo.appBuildVer.fieldTitle," ")}}function yl(n,a){if(n&1&&(r(0,"mat-cell"),c(1),l()),n&2){let e=a.$implicit;o(),g(" ",e.appBuildVer," ")}}function Dl(n,a){if(n&1&&(r(0,"mat-header-cell",52),c(1),l()),n&2){let e=p();o(),g(" ",e.fieldsInfo.appSourceVer==null?null:e.fieldsInfo.appSourceVer.fieldTitle," ")}}function wl(n,a){if(n&1&&(r(0,"mat-cell"),c(1),l()),n&2){let e=a.$implicit;o(),g(" ",e.appSourceVer," ")}}function El(n,a){if(n&1&&(r(0,"mat-header-cell",52),c(1),l()),n&2){let e=p();o(),g(" ",e.fieldsInfo.scorePercent==null?null:e.fieldsInfo.scorePercent.fieldTitle," ")}}function Tl(n,a){if(n&1&&(r(0,"mat-cell"),c(1),l()),n&2){let e=a.$implicit;o(),g(" ",e.scorePercent," %")}}function xl(n,a){if(n&1&&(r(0,"mat-header-cell",52),c(1),l()),n&2){let e=p();o(),g(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function Al(n,a){if(n&1&&(r(0,"mat-cell"),c(1),h(2,"localeDate"),l()),n&2){let e=a.$implicit;o(),g(" ",M(2,1,e.createdDate)," ")}}function Pl(n,a){n&1&&(r(0,"mat-header-cell"),c(1),h(2,"translate"),l()),n&2&&(o(),g(" ",M(2,1,"TITLE.OPTION")," "))}function Rl(n,a){if(n&1&&(r(0,"mat-cell",56)(1,"button",57)(2,"mat-icon"),c(3,"more_vert"),l()(),S(4,"mat-menu",null,2),l()),n&2){let e=A(5);o(),d("matMenuTriggerFor",e)}}function Wl(n,a){n&1&&S(0,"mat-header-row")}function kl(n,a){if(n&1){let e=v();r(0,"mat-row",58),C("click",function(t){let s=u(e).$implicit,_=p();return f(_.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=u(e).$implicit,_=p();return f(_.onActionTableRowSelect(s,t))}),l()}if(n&2){let e=a.$implicit,i=p();z("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var ji=class ji extends vt{constructor(e,i,t,s,_,m,j,Y,wt,gi,Ht,_i,qt){super(e,new mn,_i,gi,_);this.contentService=e;this.cmsConfirmationDialogService=i;this.activatedRoute=t;this.cdr=s;this.translate=_;this.themeService=m;this.cmsToastrService=j;this.cmsStoreService=Y;this.router=wt;this.tokenHelper=gi;this.pageInfo=Ht;this.publicHelper=_i;this.dialog=qt;this.requestLinkMemberId=0;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new J;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["Id","RecordStatus","LinkUserId","LinkMemberId","DeviceStatus","DeviceId","DeviceBrand","SimCard","AppBuildVer","AppSourceVer","ScorePercent","CreatedDate"];this.tabledisplayedColumnsMobileSource=["Id","RecordStatus","LinkUserId","LinkMemberId","DeviceStatus","DeviceId","DeviceBrand","SimCard","AppBuildVer","AppSourceVer","ScorePercent","CreatedDate"];this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:pn=>this.onSubmitOptionsSearch(pn)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=H.Descending}ngOnInit(){this.requestLinkMemberId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkMemberId"));let e=new O;this.requestLinkMemberId>0&&(e.propertyName="LinkMemberId",e.value=this.requestLinkMemberId,this.filteModelContent.filters.push(e)),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(i=>i.tokenInfoStore).subscribe(i=>te(this,null,function*(){this.tokenInfo=i,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new mn);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),t.isSuccess?(this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=H.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=H.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=H.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonViewRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Jn,{height:"90%",panelClass:i,enterAnimationDuration:X.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:X.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(s=>{this.cmsToastrService.typeErrorSelected(s)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(s=>{i=s["MESSAGE.Please_Confirm"],t=s["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(s=>{if(s){let _=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(m=>{this.publicHelper.processService.processStart(_,m,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:m=>{m.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(_)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(_,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(m=>{i.set(m,0)}),this.translate.get("MESSAGE.All").subscribe(m=>{i.set(m,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(m=>{this.publicHelper.processService.processStart(t,m,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:m=>{m.isSuccess?(this.translate.get("MESSAGE.All").subscribe(j=>{i.set(j,m.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(m.errorMessage),this.publicHelper.processService.processStop(t)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(t,!1)}});let s=JSON.parse(JSON.stringify(this.filteModelContent)),_=new O;_.propertyName="RecordStatus",_.value=it.Available,s.filters.push(_),this.contentService.ServiceGetCount(s).subscribe({next:m=>{m.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(j=>{i.set(j,m.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(m.errorMessage),this.publicHelper.processService.processStop(t)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/application/app/"])}};ji.\u0275fac=function(i){return new(i||ji)(I(Ai),I(qe),I(at),I(L),I(V),I(It),I(N),I(Re),I(Ne),I(We),I(Ct),I(B),I(Oe))},ji.\u0275cmp=R({type:ji,selectors:[["app-webdesigner-logmemberinfo-list"]],standalone:!1,features:[U],decls:81,vars:29,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","LinkUserId"],["matColumnDef","LinkMemberId"],["matColumnDef","LinkLocationIdTitle"],["matColumnDef","LinkLocationIdParentTitle"],["matColumnDef","DeviceStatus"],["matColumnDef","DeviceId"],["matColumnDef","DeviceBrand"],["matColumnDef","SimCard"],["matColumnDef","AppBuildVer"],["matColumnDef","AppSourceVer"],["matColumnDef","ScorePercent"],["matColumnDef","CreatedDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(i,t){if(i&1){let s=v();r(0,"app-cms-html-list",3),x("optionActionGuideNoticeDisplayChange",function(m){return u(s),T(t.viewGuideNotice,m)||(t.viewGuideNotice=m),f(m)}),C("optionOnActionButtonMemoRow",function(){return u(s),f(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return u(s),f(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return u(s),f(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return u(s),f(t.onActionButtonPrintRow())}),Ee(1,4)(2,5)(3,6),y(4,7),r(5,"a",8),C("click",function(){return u(s),f(t.viewGuideNotice=!t.viewGuideNotice)}),S(6,"i",9),l(),r(7,"a",8),C("click",function(){return u(s),f(t.onActionButtonReload())}),S(8,"i",10),l(),D(),y(9,11),r(10,"a",12),C("click",function(){return u(s),f(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),S(11,"mat-slide-toggle",13),c(12),h(13,"translate"),l(),r(14,"a",12),C("click",function(){return u(s),f(t.onActionButtonStatist())}),S(15,"mat-slide-toggle",13),c(16),h(17,"translate"),l(),D(),Ee(18,14),y(19,15),b(20,Za,7,3,"div",16)(21,$a,7,3,"div",16),D(),y(22,17),r(23,"app-cms-search-list",18),x("optionsChange",function(m){return u(s),T(t.optionsSearch,m)||(t.optionsSearch=m),f(m)}),l(),r(24,"app-cms-statist-list",18),x("optionsChange",function(m){return u(s),T(t.optionsStatist,m)||(t.optionsStatist=m),f(m)}),l(),D(),y(25,19),r(26,"mat-table",20,0),C("matSortChange",function(){u(s);let m=A(27);return f(t.onTableSortData(m))}),y(28,21),b(29,el,2,1,"mat-header-cell",22)(30,tl,2,1,"mat-cell",23),D(),y(31,24),b(32,il,2,1,"mat-header-cell",22)(33,nl,4,5,"mat-cell",23),D(),y(34,25),b(35,ol,2,1,"mat-header-cell",22)(36,al,5,7,"mat-cell",26),D(),y(37,27),b(38,ll,2,1,"mat-header-cell",22)(39,sl,4,5,"mat-cell",23),D(),y(40,28),b(41,dl,2,1,"mat-header-cell",22)(42,cl,2,1,"mat-cell",23),D(),y(43,29),b(44,pl,2,1,"mat-header-cell",22)(45,ml,2,1,"mat-cell",23),D(),y(46,30),b(47,ul,2,1,"mat-header-cell",22)(48,fl,2,1,"mat-cell",23),D(),y(49,31),b(50,gl,2,1,"mat-header-cell",22)(51,_l,2,1,"mat-cell",23),D(),y(52,32),b(53,hl,2,1,"mat-header-cell",22)(54,Ml,2,1,"mat-cell",23),D(),y(55,33),b(56,Sl,2,1,"mat-header-cell",22)(57,bl,2,1,"mat-cell",23),D(),y(58,34),b(59,Il,2,1,"mat-header-cell",22)(60,Cl,2,1,"mat-cell",23),D(),y(61,35),b(62,vl,2,1,"mat-header-cell",22)(63,yl,2,1,"mat-cell",23),D(),y(64,36),b(65,Dl,2,1,"mat-header-cell",22)(66,wl,2,1,"mat-cell",23),D(),y(67,37),b(68,El,2,1,"mat-header-cell",22)(69,Tl,2,1,"mat-cell",23),D(),y(70,38),b(71,xl,2,1,"mat-header-cell",22)(72,Al,3,3,"mat-cell",23),D(),y(73,39),b(74,Pl,3,3,"mat-header-cell",40)(75,Rl,6,1,"mat-cell",41),D(),b(76,Wl,1,0,"mat-header-row",42)(77,kl,1,2,"mat-row",43),l(),D(),y(78,44),r(79,"mat-paginator",45,1),C("page",function(m){return u(s),f(t.onTablePageingData(m))}),l(),D(),l()}i&2&&(d("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),E("optionActionGuideNoticeDisplay",t.viewGuideNotice),d("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),o(8),z("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(3),d("checked",t.optionsSearch.data.show),o(),g("",M(13,24,"ACTION.SEARCH")," "),o(3),d("checked",t.optionsStatist.data.show),o(),g("",M(17,26,"ACTION.STATIST")," "),o(4),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessWatchRow),o(),d("ngIf",(t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow)&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0),o(2),E("options",t.optionsSearch),o(),E("options",t.optionsStatist),o(2),d("dataSource",t.tableSource),o(50),d("matHeaderRowDef",t.tabledisplayedColumns),o(),d("matRowDefColumns",t.tabledisplayedColumns),o(2),d("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",Ce(28,Ya)))},dependencies:[De,W,et,Ae,ae,G,lt,st,He,Pe,dt,ct,pt,ut,ht,ft,mt,Mt,gt,_t,St,bt,je,Ue,Qe,ze,yt,tt,k,ir,On,Hn,Ke,Vt],encapsulation:2});var Yn=ji;var Ll=["*"];function Vl(n,a){if(n&1&&(r(0,"label",12),c(1),l()),n&2){let e=p();d("for",Ve("app-cms-site-selector-",e.id)),o(),w(e.optionLabel)}}function Bl(n,a){if(n&1&&(r(0,"mat-option",13)(1,"span"),c(2),l()()),n&2){let e=a.$implicit,i=p();d("value",e)("disabled",i.optionDisabled),o(2),w(i.displayOption(e))}}function Gl(n,a){n&1&&S(0,"i",14)}function Fl(n,a){n&1&&S(0,"i",15)}function Nl(n,a){if(n&1){let e=v();r(0,"i",16),C("click",function(){u(e);let t=p();return f(t.onActionSelectClear())}),l()}}function Ol(n,a){n&1&&(r(0,"em"),c(1),h(2,"translate"),l()),n&2&&(o(),g("(",M(2,1,"TITLE.Necessary"),")"))}var di=class di{constructor(a,e,i,t,s){this.coreEnumService=a;this.cdr=e;this.publicHelper=i;this.translate=t;this.categoryService=s;this.id=++di.nextId;this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new F;this.dataModelSelect=new xe;this.formControl=new ei;this.optionDisabled=!1;this.optionRequired=!1;this.optionSelectFirstItem=!1;this.optionPlaceholder="";this.optionLabel="";this.optionChange=new Et;this.optionReload=()=>this.onActionButtonReload();this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(a){this.onActionSelectForce(a)}ngOnInit(){this.loadOptions(),(!this.optionLabel||this.optionLabel.length==0&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder)}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(Kt(""),Qt(1500),zt(),Jt(a=>typeof a=="string"||typeof a=="number"?this.DataGetAll(a||""):[]))}displayFn(a){return a?a.title:void 0}displayOption(a){return a?a.title:void 0}DataGetAll(a){return te(this,null,function*(){let e=new J;e.rowPerPage=20,e.accessLoad=!0;let i=new O;i.propertyName="Title",i.value=a,i.searchType=Fe.Contains,i.clauseType=Ge.Or,e.filters.push(i),a&&typeof+a=="number"&&+a>0&&(i=new O,i.propertyName="Id",i.value=a,i.searchType=Fe.Equal,i.clauseType=Ge.Or,e.filters.push(i));let t=this.constructor.name+"main";return this.translate.get("MESSAGE.Receiving_information").subscribe(s=>{this.publicHelper.processService.processStart(t,s,this.constructorInfoAreaId)}),yield jt(this.categoryService.ServiceGetAll(e)).then(s=>(this.dataModelResult=s,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||this.dataModelSelect?.id?.length<=0)&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0])},1e3),this.onActionSelect(this.dataModelResult.listItems[0])),this.publicHelper.processService.processStop(t),s.listItems))})}onActionSelect(a){this.dataModelSelect=a,this.optionChange.emit(this.dataModelSelect)}onActionSelectClear(){this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null)}push(a){return this.filteredOptions.pipe(Ut(e=>(e.find(i=>i.id===a.id)||e.push(a),e)))}onActionSelectForce(a){if(typeof a=="string"&&a.length>0){if(this.dataModelSelect&&this.dataModelSelect.id===a)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(e=>e.id===a)){let e=this.dataModelResult.listItems.find(i=>i.id===a);this.dataModelSelect=e,this.formControl.setValue(e);return}this.categoryService.ServiceGetOneById(a).subscribe({next:e=>{e.isSuccess&&(this.filteredOptions=this.push(e.item),this.dataModelSelect=e.item,this.formControl.setValue(e.item),this.optionChange.emit(e.item))}});return}if(typeof a==typeof xe){this.filteredOptions=this.push(a),this.dataModelSelect=a,this.formControl.setValue(a);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new xe,this.loadOptions()}};di.nextId=0,di.\u0275fac=function(e){return new(e||di)(I(Q),I(L),I(B),I(V),I(nt))},di.\u0275cmp=R({type:di,selectors:[["app-webdesigner-menu-selector"]],inputs:{optionDisabled:"optionDisabled",optionRequired:"optionRequired",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionLabel:"optionLabel",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange"},standalone:!1,ngContentSelectors:Ll,decls:15,vars:24,consts:[["matauto","matAutocomplete"],[1,"input-style","has-borders","has-icon","input-style-always-active","validate-field","mb-4","loader-container"],[3,"optionsInfoAreaId"],["class","color-highlight",3,"for",4,"ngIf"],["type","text","aria-label","Assignee","matInput","",3,"placeholder","formControl","matAutocomplete","required","id"],[3,"optionSelected","displayWith"],[3,"value","disabled",4,"ngFor","ngForOf"],["class","fa fa-info invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],["class","fa fa-times action color-red-dark",3,"click",4,"ngIf"],[1,"fa","fa-rotate-right","action","color-green-dark",2,"margin-left","20px",3,"click","title"],[4,"ngIf"],[1,"color-highlight",3,"for"],[3,"value","disabled"],[1,"fa","fa-info","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"fa","fa-times","action","color-red-dark",3,"click"]],template:function(e,i){if(e&1){let t=v();Yt(),r(0,"div",1),S(1,"app-progress-spinner",2),b(2,Vl,2,3,"label",3),S(3,"input",4),r(4,"mat-autocomplete",5,0),C("optionSelected",function(_){return u(t),f(i.onActionSelect(_.option.value))}),b(6,Bl,3,3,"mat-option",6),h(7,"async"),l(),b(8,Gl,1,0,"i",7)(9,Fl,1,0,"i",8)(10,Nl,1,0,"i",9),r(11,"i",10),h(12,"translate"),C("click",function(){return u(t),f(i.onActionButtonReload())}),l(),b(13,Ol,3,3,"em",11),Xt(14),l()}if(e&2){let t=A(5);o(),d("optionsInfoAreaId",i.constructorInfoAreaId),o(),d("ngIf",(i.optionLabel==null?null:i.optionLabel.length)>0),o(),d("placeholder",P(i.optionPlaceholder))("id",Ve("app-cms-site-selector-",i.id))("formControl",i.formControl)("matAutocomplete",t)("required",i.optionRequired),Tt("disabled",i.optionDisabled?!0:null),o(),d("displayWith",i.displayFn),o(2),d("ngForOf",M(7,20,i.filteredOptions)),o(2),d("ngIf",!i.formControl.valid),o(),d("ngIf",i.optionRequired&&i.formControl.valid),o(),d("ngIf",(i.dataModelSelect==null||i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0),o(),z("rotation360",i.publicHelper.processService.process.inRunArea[i.constructorInfoAreaId]),d("title",P(M(12,22,"ACTION.RELOAD"))),o(2),d("ngIf",i.optionRequired&&(!i.dataModelSelect||!i.dataModelSelect.id||(i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)===0))}},dependencies:[Be,W,Z,K,$,ii,oi,ni,ri,G,q,tt,k],encapsulation:2});var Ui=di;var jl=["vform"],Ul=()=>["fa"];function Ql(n,a){if(n&1){let e=v();r(0,"app-cms-enum-record-status-selector",30),x("modelChange",function(t){u(e);let s=p();return T(s.dataModel.recordStatus,t)||(s.dataModel.recordStatus=t),f(t)}),l()}if(n&2){let e=p();E("model",e.dataModel.recordStatus),d("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function zl(n,a){n&1&&S(0,"i",36)}function Kl(n,a){n&1&&S(0,"i",37)}function Jl(n,a){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),h(4,"translate"),l()()),n&2){let e=p(2);o(),g(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," is "),o(2),w(M(4,2,"MESSAGE.required"))}}function Yl(n,a){if(n&1){let e=v();r(0,"div",20)(1,"label",31),c(2),l(),r(3,"input",32,2),x("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.title,t)||(s.dataModel.title=t),f(t)}),l(),b(5,zl,1,0,"i",33)(6,Kl,1,0,"i",34),r(7,"em"),c(8),l(),b(9,Jl,5,4,"mat-error",35),l()}if(n&2){let e=A(4),i=p();o(2),w(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(),d("placeholder",P(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle)),E("ngModel",i.dataModel.title),d("disabled",!(i.fieldsInfo.title!=null&&i.fieldsInfo.title.accessEditField)),o(2),d("ngIf",!e.value),o(),d("ngIf",e.value),o(2),g("",e.value.length," / 100"),o(),d("ngIf",e.errors==null?null:e.errors.required)}}function Xl(n,a){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),h(4,"translate"),l()()),n&2){let e=p(2);o(),g(" ",e.fieldsInfo.titleResourceLanguage==null?null:e.fieldsInfo.titleResourceLanguage.fieldTitle," is "),o(2),w(M(4,2,"MESSAGE.required"))}}function Zl(n,a){if(n&1){let e=v();r(0,"div",20)(1,"label",38),c(2),l(),r(3,"input",39,3),x("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.titleResourceLanguage,t)||(s.dataModel.titleResourceLanguage=t),f(t)}),l(),b(5,Xl,5,4,"mat-error",35),l()}if(n&2){let e=A(4),i=p();o(2),w(i.fieldsInfo.titleResourceLanguage==null?null:i.fieldsInfo.titleResourceLanguage.fieldTitle),o(),d("placeholder",P(i.fieldsInfo.titleResourceLanguage==null?null:i.fieldsInfo.titleResourceLanguage.fieldTitle)),E("ngModel",i.dataModel.titleResourceLanguage),d("disabled",!(i.fieldsInfo.titleResourceLanguage!=null&&i.fieldsInfo.titleResourceLanguage.accessEditField)),o(2),d("ngIf",e.errors==null?null:e.errors.required)}}function $l(n,a){if(n&1){let e=v();r(0,"div",20)(1,"label",40),c(2),l(),r(3,"input",41,4),x("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.routeAddressLink,t)||(s.dataModel.routeAddressLink=t),f(t)}),l(),r(5,"em"),c(6),l()()}if(n&2){let e=A(4),i=p();o(2),w(i.fieldsInfo.routeAddressLink==null?null:i.fieldsInfo.routeAddressLink.fieldTitle),o(),d("placeholder",P(i.fieldsInfo.routeAddressLink==null?null:i.fieldsInfo.routeAddressLink.fieldTitle)),E("ngModel",i.dataModel.routeAddressLink),d("disabled",!(i.fieldsInfo.routeAddressLink!=null&&i.fieldsInfo.routeAddressLink.accessEditField)),o(3),g("",e.value.length," / 500")}}function es(n,a){if(n&1){let e=v();r(0,"div",42)(1,"div",43)(2,"h5",44),c(3),l()(),r(4,"div",45)(5,"div",46)(6,"input",47),x("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.routeAddressBlankPage,t)||(s.dataModel.routeAddressBlankPage=t),f(t)}),l(),S(7,"label",48),l()()()}if(n&2){let e=p();o(3),g(" ",e.fieldsInfo.routeAddressBlankPage==null?null:e.fieldsInfo.routeAddressBlankPage.fieldTitle," "),o(3),E("ngModel",e.dataModel.routeAddressBlankPage)}}function ts(n,a){if(n&1){let e=v();r(0,"div",49)(1,"label",50),c(2),l(),r(3,"input",51,5),x("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.color,t)||(s.dataModel.color=t),f(t)}),l(),S(5,"ngx-mat-color-toggle",52)(6,"ngx-mat-color-picker",53,6),l()}if(n&2){let e=A(7),i=p();o(2),w(i.fieldsInfo.routeAddressLink==null?null:i.fieldsInfo.routeAddressLink.fieldTitle),o(),Bt("background",i.dataModel.color),d("placeholder",P(i.fieldsInfo.color==null?null:i.fieldsInfo.color.fieldTitle))("ngxMatColorPicker",e),E("ngModel",i.dataModel.color),d("disabled",!(i.fieldsInfo.color!=null&&i.fieldsInfo.color.accessAddField)),o(2),d("for",e),o(),d("touchUi",!0)("color","primary")}}function is(n,a){if(n&1){let e=v();r(0,"div",20)(1,"label",54),c(2),l(),r(3,"input",55,7),C("iconPickerSelect",function(t){u(e);let s=p();return f(s.onIconPickerSelect(t))}),x("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.icon,t)||(s.dataModel.icon=t),f(t)}),l()()}if(n&2){let e=p();o(2),w(e.fieldsInfo.icon==null?null:e.fieldsInfo.icon.fieldTitle),o(),d("placeholder",P(e.fieldsInfo.icon==null?null:e.fieldsInfo.icon.fieldTitle))("iconPicker",e.dataModel.icon)("ipIconPack",Ce(8,Ul))("ipPosition","top"),E("ngModel",e.dataModel.icon),d("disabled",!(e.fieldsInfo.icon!=null&&e.fieldsInfo.icon.accessEditField))}}function ns(n,a){if(n&1){let e=v();r(0,"div",20)(1,"label",56),c(2),l(),r(3,"input",57,8),x("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.showInMenuOrder,t)||(s.dataModel.showInMenuOrder=t),f(t)}),l()()}if(n&2){let e=p();o(2),w(e.fieldsInfo.showInMenuOrder==null?null:e.fieldsInfo.showInMenuOrder.fieldTitle),o(),d("placeholder",P(e.fieldsInfo.showInMenuOrder==null?null:e.fieldsInfo.showInMenuOrder.fieldTitle)),E("ngModel",e.dataModel.showInMenuOrder),d("disabled",!(e.fieldsInfo.showInMenuOrder!=null&&e.fieldsInfo.showInMenuOrder.accessEditField))}}function os(n,a){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),h(4,"translate"),l()()),n&2){let e=p(2);o(),g(" ",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle," is "),o(2),w(M(4,2,"MESSAGE.required"))}}function rs(n,a){if(n&1){let e=v();r(0,"div",20)(1,"label",58),c(2),l(),r(3,"textarea",59,9),x("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.description,t)||(s.dataModel.description=t),f(t)}),c(5,"            "),l(),r(6,"em"),c(7),l(),b(8,os,5,4,"mat-error",35),l()}if(n&2){let e=A(4),i=p();o(2),w(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle),o(),d("placeholder",P(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle)),E("ngModel",i.dataModel.description),o(4),g("",e.value.length," / 500"),o(),d("ngIf",e.errors==null?null:e.errors.required)}}function as(n,a){if(n&1){let e=v();r(0,"div",60)(1,"button",61),C("click",function(){u(e);let t=p();return f(t.onFormCancel())}),c(2),h(3,"translate"),l(),r(4,"button",62),c(5),h(6,"translate"),l()()}if(n&2){p();let e=A(9);o(2),g(" ",M(3,3,"ACTION.BACK")," "),o(2),d("disabled",!e.form.valid),o(),g(" ",M(6,5,"ACTION.SAVE")," ")}}function ls(n,a){n&1&&(r(0,"mat-icon"),c(1,"call_end"),l())}function ss(n,a){n&1&&(r(0,"mat-icon"),c(1,"call_end"),l())}function ds(n,a){n&1&&(r(0,"mat-icon"),c(1,"forum"),l())}function cs(n,a){n&1&&(r(0,"mat-icon"),c(1,"forum"),l())}var Qi=class Qi extends kt{constructor(e,i,t,s,_,m,j,Y){super(s,new xe,m,Y);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.webDesignerMainMenuService=s;this.cmsToastrService=_;this.publicHelper=m;this.cdr=j;this.translate=Y;this.requestParentId="";this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.dataModelResult=new F;this.dataModel=new xe;this.formInfo=new re;this.dataModelEnumMenuPlaceTypeResult=new F;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,e&&(this.requestParentId=e.parentId+""),this.requestParentId.length>0&&(this.dataModel.linkParentId=this.requestParentId)}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(e=>{this.formInfo.formTitle=e}),this.getEnumMenuPlaceType(),this.DataGetAccess()}getEnumMenuPlaceType(){this.coreEnumService.ServiceMenuPlaceTypeEnum().subscribe({next:e=>{this.dataModelEnumMenuPlaceTypeResult=e}})}DataAddContent(){this.dataModel.color=this.dataModel.color?.toString(),this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.webDesignerMainMenuService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorSelect(e){this.dataModel.linkParentId=null,e&&e.id?.length>0&&(this.dataModel.linkParentId=e.id)}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}onStepClick(e,i){e.previouslySelectedIndex<e.selectedIndex&&(this.formGroup.valid||(this.cmsToastrService.typeErrorFormInvalid(),setTimeout(()=>{i.selectedIndex=e.previouslySelectedIndex},10)))}onIconPickerSelect(e){this.dataModel.icon=e}};Qi.\u0275fac=function(i){return new(i||Qi)(I(be),I(Se),I(Q),I(nt),I(N),I(B),I(L),I(V))},Qi.\u0275cmp=R({type:Qi,selectors:[["app-webdesigner-menu-add"]],viewQuery:function(i,t){if(i&1&&ie(jl,5),i&2){let s;ne(s=oe())&&(t.formGroup=s.first)}},standalone:!1,features:[U],decls:35,vars:29,consts:[["vform","ngForm"],["stepper",""],["Title",""],["TitleResourceLanguage",""],["RouteAddressLink",""],["color",""],["colorPicker",""],["icon",""],["ShowInMenuOrder",""],["Description",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"selectionChange"],["state","main",3,"label"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.titleML",1,"color-highlight"],["matInput","","type","text","cmsKeyboardForce","en","name","dataModel.titleML","id","dataModel.titleML",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["class","d-flex mb-3",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4 cms-input-group",4,"ngIf"],["class","form-actions",4,"ngIf"],["matStepperIcon","main"],["matStepperIcon","seo"],["matStepperIcon","file"],["matStepperIcon","loaction"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["class","fa fa-times invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],[4,"ngIf"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.titleResourceLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleResourceLanguage","id","dataModel.titleResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.routeAddressLink",1,"color-highlight"],["matInput","","type","text","name","dataModel.routeAddressLink","minlength","0","maxlength","500","id","dataModel.routeAddressLink",1,"form-control","validate-name",2,"direction","ltr","text-align","left",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.routeAddressBlankPage",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.routeAddressBlankPage","name","dataModel.routeAddressBlankPage",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.routeAddressBlankPage",1,"custom-control-label"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],["for","dataModel.color",1,"color-highlight"],["matInput","","type","text","name","dataModel.color","id","dataModel.color",1,"form-control","validate-name",3,"ngModelChange","ngxMatColorPicker","ngModel","placeholder","disabled"],["matSuffix","",3,"for"],[3,"touchUi","color"],["for","dataModel.icon",1,"color-highlight"],["matInput","","type","text","name","dataModel.icon","id","dataModel.icon",1,"form-control","validate-name",3,"iconPickerSelect","ngModelChange","iconPicker","ipIconPack","ipPosition","ngModel","placeholder","disabled"],["for","dataModel.showInMenuOrder",1,"color-highlight"],["matInput","","type","number","name","dataModel.showInMenuOrder","id","dataModel.showInMenuOrder",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","1","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"]],template:function(i,t){if(i&1){let s=v();r(0,"div",10),S(1,"app-progress-spinner",11),r(2,"div",12)(3,"p",13),c(4),l(),r(5,"p"),c(6),h(7,"translate"),l(),r(8,"form",14,0),C("ngSubmit",function(){return u(s),f(t.onFormSubmit())}),r(10,"mat-horizontal-stepper",15,1),C("selectionChange",function(m){u(s);let j=A(11);return f(t.onStepClick(m,j))}),r(12,"mat-step",16),h(13,"translate"),b(14,Ql,1,5,"app-cms-enum-record-status-selector",17),r(15,"app-webdesigner-menu-selector",18),h(16,"translate"),C("optionChange",function(m){return u(s),f(t.onActionSelectorSelect(m))}),l(),b(17,Yl,10,9,"div",19),r(18,"div",20)(19,"label",21),c(20),h(21,"translate"),l(),r(22,"input",22),x("ngModelChange",function(m){return u(s),T(t.dataModel.titleML,m)||(t.dataModel.titleML=m),f(m)}),l()(),b(23,Zl,6,6,"div",19)(24,$l,7,6,"div",19)(25,es,8,2,"div",23)(26,ts,8,11,"div",24)(27,is,5,9,"div",19)(28,ns,5,5,"div",19)(29,rs,9,6,"div",19)(30,as,7,7,"div",25),l(),b(31,ls,2,0,"ng-template",26)(32,ss,2,0,"ng-template",27)(33,ds,2,0,"ng-template",28)(34,cs,2,0,"ng-template",29),l()()()()}i&2&&(o(),d("optionsInfoAreaId",t.constructorInfoAreaId),o(3),g(" ",t.formInfo.formTitle," "),o(2),g(" ",M(7,21,"TITLE.Be_Careful_When_Entering_Information")," "),o(6),d("label",P(M(13,23,"TITLE.Menu_Profile"))),o(2),d("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),o(),d("optionDisabled",!1)("optionSelectForce",t.dataModel.linkParentId)("optionPlaceholder",M(16,25,"TITLE.Parent_Menu")),o(2),d("ngIf",t.fieldsInfo.title==null?null:t.fieldsInfo.title.accessWatchField),o(3),g(" ",M(21,27,"TITLE.TitleML")),o(2),E("ngModel",t.dataModel.titleML),d("disabled",!0),o(),d("ngIf",t.fieldsInfo.titleResourceLanguage==null?null:t.fieldsInfo.titleResourceLanguage.accessWatchField),o(),d("ngIf",t.fieldsInfo.routeAddressLink==null?null:t.fieldsInfo.routeAddressLink.accessWatchField),o(),d("ngIf",t.fieldsInfo.routeAddressBlankPage==null?null:t.fieldsInfo.routeAddressBlankPage.accessWatchField),o(),d("ngIf",t.fieldsInfo.color==null?null:t.fieldsInfo.color.accessWatchField),o(),d("ngIf",t.fieldsInfo.icon==null?null:t.fieldsInfo.icon.accessWatchField),o(),d("ngIf",t.fieldsInfo.showInMenuOrder==null?null:t.fieldsInfo.showInMenuOrder.accessWatchField),o(),d("ngIf",t.fieldsInfo.description==null?null:t.fieldsInfo.description.accessWatchField),o(),d("ngIf",t.formInfo.submitButtonEnabled))},dependencies:[W,ue,Z,ti,Rt,K,ce,$,_e,he,me,pe,Me,Tn,ae,G,ai,li,kn,Ie,q,Ri,si,Nn,Fn,Gn,qn,Ui,k],encapsulation:2});var zi=Qi;var ps=["vform"],ms=()=>["fa"];function us(n,a){if(n&1){let e=v();r(0,"app-cms-enum-record-status-selector",30),x("modelChange",function(t){u(e);let s=p();return T(s.dataModel.recordStatus,t)||(s.dataModel.recordStatus=t),f(t)}),l()}if(n&2){let e=p();E("model",e.dataModel.recordStatus),d("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function fs(n,a){n&1&&S(0,"i",36)}function gs(n,a){n&1&&S(0,"i",37)}function _s(n,a){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),h(4,"translate"),l()()),n&2){let e=p(2);o(),g(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," is "),o(2),w(M(4,2,"MESSAGE.required"))}}function hs(n,a){if(n&1){let e=v();r(0,"div",20)(1,"label",31),c(2),l(),r(3,"input",32,2),x("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.title,t)||(s.dataModel.title=t),f(t)}),l(),b(5,fs,1,0,"i",33)(6,gs,1,0,"i",34),r(7,"em"),c(8),l(),b(9,_s,5,4,"mat-error",35),l()}if(n&2){let e=A(4),i=p();o(2),w(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(),d("placeholder",P(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle)),E("ngModel",i.dataModel.title),d("disabled",!(i.fieldsInfo.title!=null&&i.fieldsInfo.title.accessEditField)),o(2),d("ngIf",!e.value),o(),d("ngIf",e.value),o(2),g("",e.value.length," / 100"),o(),d("ngIf",e.errors==null?null:e.errors.required)}}function Ms(n,a){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),h(4,"translate"),l()()),n&2){let e=p(2);o(),g(" ",e.fieldsInfo.titleResourceLanguage==null?null:e.fieldsInfo.titleResourceLanguage.fieldTitle," is "),o(2),w(M(4,2,"MESSAGE.required"))}}function Ss(n,a){if(n&1){let e=v();r(0,"div",20)(1,"label",38),c(2),l(),r(3,"input",39,3),x("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.titleResourceLanguage,t)||(s.dataModel.titleResourceLanguage=t),f(t)}),l(),b(5,Ms,5,4,"mat-error",35),l()}if(n&2){let e=A(4),i=p();o(2),w(i.fieldsInfo.titleResourceLanguage==null?null:i.fieldsInfo.titleResourceLanguage.fieldTitle),o(),d("placeholder",P(i.fieldsInfo.titleResourceLanguage==null?null:i.fieldsInfo.titleResourceLanguage.fieldTitle)),E("ngModel",i.dataModel.titleResourceLanguage),d("disabled",!(i.fieldsInfo.titleResourceLanguage!=null&&i.fieldsInfo.titleResourceLanguage.accessEditField)),o(2),d("ngIf",e.errors==null?null:e.errors.required)}}function bs(n,a){if(n&1){let e=v();r(0,"div",20)(1,"label",40),c(2),l(),r(3,"input",41,4),x("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.routeAddressLink,t)||(s.dataModel.routeAddressLink=t),f(t)}),l(),r(5,"em"),c(6),l()()}if(n&2){let e=A(4),i=p();o(2),w(i.fieldsInfo.routeAddressLink==null?null:i.fieldsInfo.routeAddressLink.fieldTitle),o(),d("placeholder",P(i.fieldsInfo.routeAddressLink==null?null:i.fieldsInfo.routeAddressLink.fieldTitle)),E("ngModel",i.dataModel.routeAddressLink),d("disabled",!(i.fieldsInfo.routeAddressLink!=null&&i.fieldsInfo.routeAddressLink.accessEditField)),o(3),g("",e.value.length," / 500")}}function Is(n,a){if(n&1){let e=v();r(0,"div",42)(1,"div",43)(2,"h5",44),c(3),l()(),r(4,"div",45)(5,"div",46)(6,"input",47),x("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.routeAddressBlankPage,t)||(s.dataModel.routeAddressBlankPage=t),f(t)}),l(),S(7,"label",48),l()()()}if(n&2){let e=p();o(3),g(" ",e.fieldsInfo.routeAddressBlankPage==null?null:e.fieldsInfo.routeAddressBlankPage.fieldTitle," "),o(3),E("ngModel",e.dataModel.routeAddressBlankPage)}}function Cs(n,a){if(n&1){let e=v();r(0,"div",49)(1,"label",50),c(2),l(),r(3,"input",51,5),x("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.color,t)||(s.dataModel.color=t),f(t)}),l(),S(5,"ngx-mat-color-toggle",52)(6,"ngx-mat-color-picker",53,6),l()}if(n&2){let e=A(7),i=p();o(2),w(i.fieldsInfo.routeAddressLink==null?null:i.fieldsInfo.routeAddressLink.fieldTitle),o(),Bt("background",i.dataModel.color),d("placeholder",P(i.fieldsInfo.color==null?null:i.fieldsInfo.color.fieldTitle))("ngxMatColorPicker",e),E("ngModel",i.dataModel.color),d("disabled",!(i.fieldsInfo.color!=null&&i.fieldsInfo.color.accessAddField)),o(2),d("for",e),o(),d("touchUi",!0)("color","primary")}}function vs(n,a){if(n&1){let e=v();r(0,"div",20)(1,"label",54),c(2),l(),r(3,"input",55,7),C("iconPickerSelect",function(t){u(e);let s=p();return f(s.onIconPickerSelect(t))}),x("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.icon,t)||(s.dataModel.icon=t),f(t)}),l()()}if(n&2){let e=p();o(2),w(e.fieldsInfo.icon==null?null:e.fieldsInfo.icon.fieldTitle),o(),d("placeholder",P(e.fieldsInfo.icon==null?null:e.fieldsInfo.icon.fieldTitle))("iconPicker",e.dataModel.icon)("ipIconPack",Ce(8,ms))("ipPosition","top"),E("ngModel",e.dataModel.icon),d("disabled",!(e.fieldsInfo.icon!=null&&e.fieldsInfo.icon.accessEditField))}}function ys(n,a){if(n&1){let e=v();r(0,"div",20)(1,"label",56),c(2),l(),r(3,"input",57,8),x("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.showInMenuOrder,t)||(s.dataModel.showInMenuOrder=t),f(t)}),l()()}if(n&2){let e=p();o(2),w(e.fieldsInfo.showInMenuOrder==null?null:e.fieldsInfo.showInMenuOrder.fieldTitle),o(),d("placeholder",P(e.fieldsInfo.showInMenuOrder==null?null:e.fieldsInfo.showInMenuOrder.fieldTitle)),E("ngModel",e.dataModel.showInMenuOrder),d("disabled",!(e.fieldsInfo.showInMenuOrder!=null&&e.fieldsInfo.showInMenuOrder.accessEditField))}}function Ds(n,a){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),h(4,"translate"),l()()),n&2){let e=p(2);o(),g(" ",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle," is "),o(2),w(M(4,2,"MESSAGE.required"))}}function ws(n,a){if(n&1){let e=v();r(0,"div",20)(1,"label",58),c(2),l(),r(3,"textarea",59,9),x("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.description,t)||(s.dataModel.description=t),f(t)}),c(5,"            "),l(),r(6,"em"),c(7),l(),b(8,Ds,5,4,"mat-error",35),l()}if(n&2){let e=A(4),i=p();o(2),w(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle),o(),d("placeholder",P(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle)),E("ngModel",i.dataModel.description),o(4),g("",e.value.length," / 500"),o(),d("ngIf",e.errors==null?null:e.errors.required)}}function Es(n,a){if(n&1){let e=v();r(0,"div",60)(1,"button",61),C("click",function(){u(e);let t=p();return f(t.onFormCancel())}),c(2),h(3,"translate"),l(),r(4,"button",62),c(5),h(6,"translate"),l()()}if(n&2){p();let e=A(9);o(2),g(" ",M(3,3,"ACTION.BACK")," "),o(2),d("disabled",!e.form.valid),o(),g(" ",M(6,5,"ACTION.SAVE")," ")}}function Ts(n,a){n&1&&(r(0,"mat-icon"),c(1,"call_end"),l())}function xs(n,a){n&1&&(r(0,"mat-icon"),c(1,"call_end"),l())}function As(n,a){n&1&&(r(0,"mat-icon"),c(1,"forum"),l())}function Ps(n,a){n&1&&(r(0,"mat-icon"),c(1,"forum"),l())}var Ki=class Ki extends Lt{constructor(e,i,t,s,_,m,j,Y){super(s,new xe,_,Y);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.webDesignerMainMenuService=s;this.publicHelper=_;this.cmsToastrService=m;this.cdr=j;this.translate=Y;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.appLanguage="fa";this.dataModelResult=new Ti;this.dataModel=new xe;this.formInfo=new re;this.dataModelEnumMenuPlaceTypeResult=new F;this.fileManagerOpenForm=!1;this.dataWebDesignerMainMenuIds=[];this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id+"")}ngOnInit(){if(this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.getEnumMenuPlaceType()}getEnumMenuPlaceType(){this.coreEnumService.ServiceMenuPlaceTypeEnum().subscribe({next:e=>{this.dataModelEnumMenuPlaceTypeResult=e}})}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.webDesignerMainMenuService.setAccessLoad(),this.webDesignerMainMenuService.setAccessDataType(At.Editor),this.webDesignerMainMenuService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.dataAccessModel=i.access,this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.submitResultMessage=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.dataModel.color=this.dataModel.color?.toString(),this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.webDesignerMainMenuService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}onStepClick(e,i){e.previouslySelectedIndex<e.selectedIndex&&(this.formGroup.valid||(this.cmsToastrService.typeErrorFormInvalid(),setTimeout(()=>{i.selectedIndex=e.previouslySelectedIndex},10)))}onActionSelectorSelect(e){this.dataModel.linkParentId=null,e&&e.id?.length>0&&(this.dataModel.linkParentId=e.id)}onActionSelectorUserCategorySelect(e){this.dataWebDesignerMainMenuModel=e}onIconPickerSelect(e){this.dataModel.icon=e}};Ki.\u0275fac=function(i){return new(i||Ki)(I(be),I(Se),I(Q),I(nt),I(B),I(N),I(L),I(V))},Ki.\u0275cmp=R({type:Ki,selectors:[["app-webdesigner-menu-edit"]],viewQuery:function(i,t){if(i&1&&ie(ps,5),i&2){let s;ne(s=oe())&&(t.formGroup=s.first)}},standalone:!1,features:[U],decls:35,vars:29,consts:[["vform","ngForm"],["stepper",""],["Title",""],["TitleResourceLanguage",""],["RouteAddressLink",""],["color",""],["colorPicker",""],["icon",""],["ShowInMenuOrder",""],["Description",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"selectionChange"],["state","main",3,"label"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.titleML",1,"color-highlight"],["matInput","","type","text","cmsKeyboardForce","en","name","dataModel.titleML","id","dataModel.titleML",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["class","d-flex mb-3",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4 cms-input-group",4,"ngIf"],["class","form-actions",4,"ngIf"],["matStepperIcon","main"],["matStepperIcon","seo"],["matStepperIcon","file"],["matStepperIcon","loaction"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["class","fa fa-times invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],[4,"ngIf"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.titleResourceLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleResourceLanguage","id","dataModel.titleResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.routeAddressLink",1,"color-highlight"],["matInput","","type","text","name","dataModel.routeAddressLink","minlength","0","maxlength","500","id","dataModel.routeAddressLink",1,"form-control","validate-name",2,"direction","ltr","text-align","left",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.routeAddressBlankPage",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.routeAddressBlankPage","name","dataModel.routeAddressBlankPage",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.routeAddressBlankPage",1,"custom-control-label"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],["for","dataModel.color",1,"color-highlight"],["matInput","","type","text","name","dataModel.color","id","dataModel.color",1,"form-control","validate-name",3,"ngModelChange","ngxMatColorPicker","ngModel","placeholder","disabled"],["matSuffix","",3,"for"],[3,"touchUi","color"],["for","dataModel.icon",1,"color-highlight"],["matInput","","type","text","name","dataModel.icon","id","dataModel.icon",1,"form-control","validate-name",3,"iconPickerSelect","ngModelChange","iconPicker","ipIconPack","ipPosition","ngModel","placeholder","disabled"],["for","dataModel.showInMenuOrder",1,"color-highlight"],["matInput","","type","number","name","dataModel.showInMenuOrder","id","dataModel.showInMenuOrder",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","1","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"]],template:function(i,t){if(i&1){let s=v();r(0,"div",10),S(1,"app-progress-spinner",11),r(2,"div",12)(3,"p",13),c(4),l(),r(5,"p"),c(6),h(7,"translate"),l(),r(8,"form",14,0),C("ngSubmit",function(){return u(s),f(t.onFormSubmit())}),r(10,"mat-horizontal-stepper",15,1),C("selectionChange",function(m){u(s);let j=A(11);return f(t.onStepClick(m,j))}),r(12,"mat-step",16),h(13,"translate"),b(14,us,1,5,"app-cms-enum-record-status-selector",17),r(15,"app-webdesigner-menu-selector",18),h(16,"translate"),C("optionChange",function(m){return u(s),f(t.onActionSelectorSelect(m))}),l(),b(17,hs,10,9,"div",19),r(18,"div",20)(19,"label",21),c(20),h(21,"translate"),l(),r(22,"input",22),x("ngModelChange",function(m){return u(s),T(t.dataModel.titleML,m)||(t.dataModel.titleML=m),f(m)}),l()(),b(23,Ss,6,6,"div",19)(24,bs,7,6,"div",19)(25,Is,8,2,"div",23)(26,Cs,8,11,"div",24)(27,vs,5,9,"div",19)(28,ys,5,5,"div",19)(29,ws,9,6,"div",19)(30,Es,7,7,"div",25),l(),b(31,Ts,2,0,"ng-template",26)(32,xs,2,0,"ng-template",27)(33,As,2,0,"ng-template",28)(34,Ps,2,0,"ng-template",29),l()()()()}i&2&&(o(),d("optionsInfoAreaId",t.constructorInfoAreaId),o(3),g(" ",t.formInfo.formTitle," "),o(2),g(" ",M(7,21,"TITLE.Be_Careful_When_Entering_Information")," "),o(6),d("label",P(M(13,23,"TITLE.Menu_Profile"))),o(2),d("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),o(),d("optionDisabled",!1)("optionSelectForce",t.dataModel.linkParentId)("optionPlaceholder",M(16,25,"TITLE.Parent_Menu")),o(2),d("ngIf",t.fieldsInfo.title==null?null:t.fieldsInfo.title.accessWatchField),o(3),g(" ",M(21,27,"TITLE.TitleML")),o(2),E("ngModel",t.dataModel.titleML),d("disabled",!0),o(),d("ngIf",t.fieldsInfo.titleResourceLanguage==null?null:t.fieldsInfo.titleResourceLanguage.accessWatchField),o(),d("ngIf",t.fieldsInfo.routeAddressLink==null?null:t.fieldsInfo.routeAddressLink.accessWatchField),o(),d("ngIf",t.fieldsInfo.routeAddressBlankPage==null?null:t.fieldsInfo.routeAddressBlankPage.accessWatchField),o(),d("ngIf",t.fieldsInfo.color==null?null:t.fieldsInfo.color.accessWatchField),o(),d("ngIf",t.fieldsInfo.icon==null?null:t.fieldsInfo.icon.accessWatchField),o(),d("ngIf",t.fieldsInfo.showInMenuOrder==null?null:t.fieldsInfo.showInMenuOrder.accessWatchField),o(),d("ngIf",t.fieldsInfo.description==null?null:t.fieldsInfo.description.accessWatchField),o(),d("ngIf",t.formInfo.submitButtonEnabled))},dependencies:[W,ue,Z,ti,Rt,K,ce,$,_e,he,me,pe,Me,Tn,ae,G,ai,li,kn,Ie,q,Ri,si,Nn,Fn,Gn,qn,Ui,k],encapsulation:2});var Ji=Ki;function Rs(n,a){if(n&1){let e=v();r(0,"button",13),C("click",function(){u(e);let t=p();return f(t.onActionAdd())}),c(1),h(2,"translate"),l()}n&2&&(o(),g(" ",M(2,1,"ACTION.ADD")," "))}function Ws(n,a){if(n&1){let e=v();r(0,"button",14),C("click",function(){u(e);let t=p();return f(t.onActionEdit())}),c(1),h(2,"translate"),l()}n&2&&(o(),g(" ",M(2,1,"ACTION.EDIT")," "))}function ks(n,a){if(n&1){let e=v();r(0,"button",15),C("click",function(){u(e);let t=p();return f(t.onActionButtonReload())}),r(1,"mat-icon",16),h(2,"translate"),c(3,"refresh"),l()()}if(n&2){let e=p();o(),z("rotation360",e.publicHelper.processService.process.inRunArea[e.constructorInfoAreaId]),d("title",P(M(2,4,"ACTION.RELOAD")))}}function Ls(n,a){if(n&1){let e=v();r(0,"mat-tree-node",17),S(1,"button",18),r(2,"span",19),C("click",function(){let t=u(e).$implicit,s=p();return f(s.onActionSelect(t))}),S(3,"i",20),c(4),l()()}if(n&2){let e=a.$implicit,i=p();z("ntk-tree-selected",i.dataModelSelect.id.length>0&&i.dataModelSelect.id===e.id),o(3),Bt("color",e.color),d("ngClass",e.icon),o(),g(" \xA0\xA0\xA0\xA0 ",e.title)}}function Vs(n,a){if(n&1){let e=v();r(0,"mat-tree-node",21)(1,"button",22)(2,"mat-icon",23),c(3),l()(),r(4,"span",19),C("click",function(){let t=u(e).$implicit,s=p();return f(s.onActionSelect(t))}),S(5,"i",20),c(6),l()()}if(n&2){let e=a.$implicit,i=p(),t=A(11);z("ntk-tree-selected",i.dataModelSelect.id.length>0&&i.dataModelSelect.id===e.id),d("cdkTreeNodeTypeaheadLabel",e.title),o(),Tt("type","button")("aria-label","Toggle "+e.title),o(2),g(" ",t.isExpanded(e)?"expand_more":"chevron_right"," "),o(2),Bt("color",e.color),d("ngClass",e.icon),o(),g(" \xA0\xA0\xA0\xA0 ",e.title)}}var Yi=class Yi{constructor(a,e,i,t,s,_,m,j,Y,wt){this.cmsToastrService=a;this.coreEnumService=e;this.categoryService=i;this.dialog=t;this.cdr=s;this.publicHelper=_;this.tokenHelper=m;this.themeService=j;this.cmsStoreService=Y;this.translate=wt;this.constructorInfoAreaId=this.constructor.name;this.dataModelSelect=new xe;this.dataModelResult=new F;this.filterModel=new J;this.dataSource=new Zo;this.optionChange=new Et;this.unsubscribe=[];this.optionReload=()=>this.onActionButtonReload();this.hasChild=(a,e)=>!!e.children&&e.children.length>0;this.childrenAccessor=a=>a.children??[];this.publicHelper.processService.cdr=this.cdr,this.filterModel.sortColumn="ShowInMenuOrder",this.filterModel.sortType=H.Ascending}set optionSelectForce(a){this.onActionSelectForce(a)}ngOnInit(){setTimeout(()=>{this.DataGetAll()},500),this.unsubscribe.push(this.cmsStoreService.getState(a=>a.tokenInfoStore).subscribe(a=>te(this,null,function*(){this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(a=>a.unsubscribe())}DataGetAll(){this.filterModel.rowPerPage=200,this.filterModel.accessLoad=!0;let a=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(a,e,this.constructorInfoAreaId)}),this.categoryService.ServiceGetAllTree(this.filterModel).subscribe({next:e=>{e.isSuccess&&(this.dataModelResult=e,this.dataSource.data=this.dataModelResult.listItems),this.publicHelper.processService.processStop(a)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(a)}})}onActionSelect(a){this.dataModelSelect=a,this.optionChange.emit(this.dataModelSelect)}onActionButtonReload(){this.onActionSelect(null),this.dataModelSelect=new xe,this.DataGetAll()}onActionSelectForce(a){}onActionAdd(){let a="";this.dataModelSelect&&this.dataModelSelect?.id?.length>0&&(a=this.dataModelSelect.id);let e=new qo;e.disableClose=!0,e.autoFocus=!0,e.data={parentId:a},this.dialog.open(zi,e).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionEdit(){let a="";if(this.dataModelSelect&&this.dataModelSelect?.id?.length>0&&(a=this.dataModelSelect.id),a.length===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorCategoryNotSelected").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(Ji,{height:"90%",panelClass:e,enterAnimationDuration:X.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:X.cmsViewConfig.exitAnimationDuration,data:{id:a}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionDelete(){let a="";if(this.dataModelSelect&&this.dataModelSelect?.id?.length>0&&(a=this.dataModelSelect.id),a.length===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorCategoryNotSelected").subscribe(e=>{this.cmsToastrService.typeErrorSelected(e)});return}}};Yi.\u0275fac=function(e){return new(e||Yi)(I(N),I(Q),I(nt),I(Oe),I(L),I(B),I(We),I(It),I(Re),I(V))},Yi.\u0275cmp=R({type:Yi,selectors:[["app-webdesigner-menu-tree"]],inputs:{optionSelectForce:"optionSelectForce",optionReload:"optionReload"},outputs:{optionChange:"optionChange"},standalone:!1,decls:15,vars:13,consts:[["treeTagControl",""],[3,"optionHeaderDisplay","optionActionMainDisplay","optionFooterDisplay"],["cms-tree-header",""],["cms-tree-action",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-teal",3,"click",4,"ngIf"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-magenta",3,"click",4,"ngIf"],["type","button","class","btn btn-outline-secondary",3,"click",4,"ngIf"],["cms-tree-body","",1,"loader-container"],[3,"optionsInfoAreaId"],[3,"dataSource","childrenAccessor"],["matTreeNodePadding","",3,"ntk-tree-selected",4,"matTreeNodeDef"],["matTreeNodePadding","","matTreeNodeToggle","",3,"cdkTreeNodeTypeaheadLabel","ntk-tree-selected",4,"matTreeNodeDef","matTreeNodeDefWhen"],["cms-tree-footer",""],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],["type","button",1,"btn","btn-outline-secondary",3,"click"],[2,"font-size","20px","margin","-6px",3,"title"],["matTreeNodePadding",""],["matIconButton","","disabled",""],[3,"click"],["aria-hidden","true",3,"ngClass"],["matTreeNodePadding","","matTreeNodeToggle","",3,"cdkTreeNodeTypeaheadLabel"],["matIconButton","","matTreeNodeToggle",""],[1,"mat-icon-rtl-mirror"]],template:function(e,i){e&1&&(r(0,"app-cms-html-tree",1),y(1,2),c(2),h(3,"translate"),D(),y(4,3),b(5,Rs,3,3,"button",4)(6,Ws,3,3,"button",5)(7,ks,4,6,"button",6),D(),y(8,7),S(9,"app-progress-spinner",8),r(10,"mat-tree",9,0),b(12,Ls,5,6,"mat-tree-node",10)(13,Vs,7,10,"mat-tree-node",11),l(),D(),Ee(14,12),l()),e&2&&(d("optionHeaderDisplay",!0)("optionActionMainDisplay",!0)("optionFooterDisplay",!1),o(2),g(" ",M(3,11,"TABLE."+(i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.moduleEntityName))," "),o(3),d("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessAddRow),o(),d("ngIf",(i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessEditRow)&&(i.dataModelSelect==null||i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0),o(),d("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessWatchRow),o(2),d("optionsInfoAreaId",i.constructorInfoAreaId),o(),d("dataSource",i.dataSource)("childrenAccessor",i.childrenAccessor),o(3),d("matTreeNodeDefWhen",i.hasChild))},dependencies:[De,W,Ae,ae,Ko,Jo,Xo,Yo,zo,q,ur,k],encapsulation:2});var Xn=Yi;var Gs=()=>["expandedTitle"],Fs=()=>[5,10,20,100],Ns=n=>({display:n});function Os(n,a){if(n&1){let e=v();r(0,"div",41)(1,"a",42),C("click",function(){u(e);let t=p();return f(t.onActionButtonNewRow())}),S(2,"i",43)(3,"br"),l(),r(4,"p",44),c(5),h(6,"translate"),l()()}n&2&&(o(5),g(" ",M(6,1,"ACTION.ADD")," "))}function Hs(n,a){if(n&1){let e=v();r(0,"div",41)(1,"a",45),C("click",function(){u(e);let t=p();return f(t.onActionButtonEditRow(t.tableRowSelected))}),S(2,"i",46)(3,"br"),l(),r(4,"p",44),c(5),h(6,"translate"),l()()}n&2&&(o(5),g(" ",M(6,1,"ACTION.EDIT")," "))}function qs(n,a){if(n&1){let e=v();r(0,"div",41)(1,"a",47),C("click",function(){u(e);let t=p();return f(t.onActionButtonDeleteRow(t.tableRowSelected))}),S(2,"i",48)(3,"br"),l(),r(4,"p",44),c(5),h(6,"translate"),l()()}n&2&&(o(5),g(" ",M(6,1,"ACTION.DELETE")," "))}function js(n,a){if(n&1){let e=v();r(0,"mat-row",49),C("click",function(t){let s=u(e).$implicit,_=p();return f(_.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=u(e).$implicit,_=p();return f(_.onActionTableRowSelect(s,t))})("mouseenter",function(){let t=u(e).$implicit,s=p();return f(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=u(e).$implicit,s=p();return f(s.onActionTableRowMouseLeave(t))}),l()}if(n&2){let e=a.$implicit,i=p();z("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}function Us(n,a){if(n&1&&(r(0,"mat-header-cell",50),c(1),l()),n&2){let e=p();o(),g(" ",e.fieldsInfo.icon==null?null:e.fieldsInfo.icon.fieldTitle," ")}}function Qs(n,a){if(n&1&&(r(0,"mat-cell"),S(1,"i",51),l()),n&2){let e=a.$implicit;o(),Bt("color",e.color),d("ngClass",e.icon)}}function zs(n,a){if(n&1&&(r(0,"mat-header-cell",50),c(1),l()),n&2){let e=p();o(),g(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function Ks(n,a){if(n&1&&(r(0,"mat-cell"),c(1),l()),n&2){let e=a.$implicit;o(),g(" ",e.id," ")}}function Js(n,a){if(n&1&&(r(0,"mat-header-cell",50),c(1),l()),n&2){let e=p();o(),g(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function Ys(n,a){if(n&1&&S(0,"select",54),n&2){let e=p().$implicit,i=p();d("contentService",i.contentService)("row",e)("ngStyle",$e(3,Ns,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function Xs(n,a){if(n&1&&(r(0,"mat-cell"),S(1,"i",52),h(2,"statusIconClass"),b(3,Ys,1,5,"select",53),l()),n&2){let e=a.$implicit,i=p();o(),d("ngClass",M(2,2,e.recordStatus)),o(2),d("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessEditRow)}}function Zs(n,a){if(n&1&&(r(0,"mat-header-cell",50),c(1),l()),n&2){let e=p();o(),g(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle)}}function $s(n,a){if(n&1&&(r(0,"mat-cell"),c(1),l()),n&2){let e=a.$implicit;o(),g(" ",e.title," ")}}function ed(n,a){n&1&&(r(0,"mat-header-cell",50),c(1),h(2,"translate"),l()),n&2&&(o(),g(" ",M(2,1,"TITLE.Show_In_Access_Admin_Allow_To_Professional_Data")))}function td(n,a){if(n&1&&(r(0,"mat-cell"),S(1,"i",52),h(2,"boolclass"),l()),n&2){let e=a.$implicit;o(),d("ngClass",M(2,1,e.showInAccessAdminAllowToProfessionalData))}}function id(n,a){n&1&&(r(0,"mat-header-cell",50),c(1),h(2,"translate"),l()),n&2&&(o(),g(" ",M(2,1,"TITLE.Menu_Place_Type")," "))}function nd(n,a){if(n&1&&(r(0,"mat-cell"),c(1),h(2,"enums"),l()),n&2){let e=a.$implicit,i=p();o(),g(" ",xt(2,1,e.menuPlaceType,i.dataModelEnumMenuPlaceTypeResult.listItems)," ")}}function od(n,a){if(n&1&&(r(0,"mat-header-cell",50),c(1),l()),n&2){let e=p();o(),g(" ",e.fieldsInfo.showInMenuOrder==null?null:e.fieldsInfo.showInMenuOrder.fieldTitle," ")}}function rd(n,a){if(n&1&&(r(0,"mat-cell"),c(1),l()),n&2){let e=a.$implicit;o(),g(" ",e.showInMenuOrder," ")}}function ad(n,a){n&1&&(r(0,"mat-header-cell"),c(1),h(2,"translate"),l()),n&2&&(o(),g(" ",M(2,1,"TITLE.OPTION")," "))}function ld(n,a){if(n&1&&(r(0,"mat-cell",55)(1,"button",56)(2,"mat-icon"),c(3,"more_vert"),l()(),S(4,"mat-menu",null,2),l()),n&2){let e=A(5);o(),d("matMenuTriggerFor",e)}}function sd(n,a){n&1&&(r(0,"mat-header-cell",50),c(1),h(2,"translate"),l()),n&2&&(o(),g("",M(2,1,"ACTION.ORDERING")," "))}function dd(n,a){n&1&&(r(0,"mat-cell")(1,"mat-icon",57),c(2,"reorder"),l()())}function cd(n,a){n&1&&S(0,"mat-header-row")}function pd(n,a){if(n&1){let e=v();r(0,"mat-row",58),C("click",function(t){let s=u(e).$implicit,_=p();return f(_.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=u(e).$implicit,_=p();return f(_.onActionTableRowSelect(s,t))}),l()}if(n&2){let e=a.$implicit,i=p();z("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)),d("cdkDragData",e)}}function md(n,a){if(n&1&&(r(0,"mat-cell"),c(1),h(2,"translate"),S(3,"br"),c(4),h(5,"translate"),S(6,"br"),c(7),h(8,"translate"),l()),n&2){let e=a.$implicit;o(),Zt(" ",M(2,6,"TITLE.Id")," : ",e.id," "),o(3),Zt(" ",M(5,8,"TITLE.title")," : ",e.title," "),o(3),Zt(" ",M(8,10,"TITLE.DisplayInThePriorityMenu")," : ",e.ShowInMenuOrder," ")}}var Xi=class Xi extends vt{constructor(e,i,t,s,_,m,j,Y,wt,gi,Ht,_i){super(e,new xe,Ht,s,j);this.contentService=e;this.cmsConfirmationDialogService=i;this.cmsToastrService=t;this.tokenHelper=s;this.coreEnumService=_;this.cdr=m;this.translate=j;this.themeService=Y;this.cmsStoreService=wt;this.pageInfo=gi;this.publicHelper=Ht;this.dialog=_i;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new J;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["Icon","RecordStatus","ShowInAccessAdminAllowToProfessionalData","MenuPlaceType","position"];this.tabledisplayedColumnsMobileSource=["Icon","RecordStatus","ShowInAccessAdminAllowToProfessionalData","MenuPlaceType","position"];this.dataModelEnumMenuPlaceTypeResult=new F;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:qt=>this.onSubmitOptionsSearch(qt)},this.filteModelContent.sortColumn="ShowInMenuOrder",this.filteModelContent.sortType=H.Ascending}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>te(this,null,function*(){this.tokenInfo=e,this.DataGetAll()}))),this.getEnumMenuPlaceType()}getEnumMenuPlaceType(){this.coreEnumService.ServiceMenuPlaceTypeEnum().subscribe({next:e=>{this.dataModelEnumMenuPlaceTypeResult=e}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new xe);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));if(this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.categoryModelSelected&&this.categoryModelSelected.id.length>0){let t=new O;t.propertyName="LinkParentId",t.value=this.categoryModelSelected.id,i.filters.push(t)}this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{t.isSuccess&&(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=H.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=H.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=H.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onTableDropRow(e){let i=this.tableSource.data.findIndex(s=>s===e.item.data),t=new vo;t.id=this.tableSource.data[i].id,t.centerId=this.tableSource.data[e.currentIndex].id,i>e.currentIndex?t.actionGo=po.GoUp:t.actionGo=po.GoDown,this.contentService.ServiceEditStep(t).subscribe({next:s=>{s.isSuccess&&(lr(this.tableSource.data,i,e.currentIndex),this.tableSource.data=this.tableSource.data.slice())},error:s=>{this.cmsToastrService.typeError(s)}})}onActionSelectorSelect(e){var i=this.filteModelContent.sortColumn,t=this.filteModelContent.sortType;this.filteModelContent=new J,this.filteModelContent.sortColumn=i,this.filteModelContent.sortType=t,this.categoryModelSelected=e,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(zi,{height:"90%",panelClass:e,enterAnimationDuration:X.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:X.cmsViewConfig.exitAnimationDuration,data:{parentId:this.categoryModelSelected.id}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Ji,{height:"90%",panelClass:i,enterAnimationDuration:X.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:X.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(e==null||!e.id||e.id.length===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}if(this.tableRowSelected=e,this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(s=>{i=s["MESSAGE.Please_Confirm"],t=s["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(s=>{if(s){let _=this.constructor.name+"contentService.ServiceDelete";this.translate.get("MESSAGE.Receiving_information").subscribe(m=>{this.publicHelper.processService.processStart(_,m,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:m=>{m.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(_)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(_,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(m=>{i.set(m,0)}),this.translate.get("MESSAGE.All").subscribe(m=>{i.set(m,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(m=>{this.publicHelper.processService.processStart(t,m,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:m=>{m.isSuccess&&(i.set("All",m.totalRowCount),this.optionsStatist.childMethods.setStatistValue(i)),this.publicHelper.processService.processStop(t)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(t,!1)}});let s=JSON.parse(JSON.stringify(this.filteModelContent)),_=new O;_.propertyName="RecordStatus",_.value=it.Available,s.filters.push(_),this.contentService.ServiceGetCount(s).subscribe({next:m=>{m.isSuccess&&(i.set("Active",m.totalRowCount),this.optionsStatist.childMethods.setStatistValue(i)),this.publicHelper.processService.processStop(t)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonReload(){this.filteModelContent.sortColumn="ShowInMenuOrder",this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}};Xi.\u0275fac=function(i){return new(i||Xi)(I(nt),I(qe),I(N),I(We),I(Q),I(L),I(V),I(It),I(Re),I(Ct),I(B),I(Oe))},Xi.\u0275cmp=R({type:Xi,selectors:[["app-webdesigner-menu-list"]],standalone:!1,features:[U],decls:65,vars:33,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],[3,"optionChange"],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","","multiTemplateDataRows","","cdkDropList","",3,"matSortChange","cdkDropListDropped","dataSource","cdkDropListData"],["class","ntk-row-expandedTitle",3,"ntk-row-selected","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["matColumnDef","Icon"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","Id"],["matColumnDef","RecordStatus"],["matColumnDef","Title"],["matColumnDef","ShowInAccessAdminAllowToProfessionalData"],["matColumnDef","MenuPlaceType"],["matColumnDef","ShowInMenuOrder"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],["matColumnDef","position"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild","cdkDrag","",3,"ntk-row-selected","cdkDragData","click","rtclick",4,"matRowDef","matRowDefColumns"],["matColumnDef","expandedTitle"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],[1,"col-4"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],[1,"ntk-row-expandedTitle",3,"click","rtclick","mouseenter","mouseleave"],["mat-sort-header",""],["aria-hidden","true",3,"ngClass"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],["cdkDragHandle","",2,"pointer-events","all"],["cdkDrag","",1,"ntk-row-mainfild",3,"click","rtclick","cdkDragData"]],template:function(i,t){if(i&1){let s=v();r(0,"app-cms-html-list",3),x("optionActionGuideNoticeDisplayChange",function(m){return u(s),T(t.viewGuideNotice,m)||(t.viewGuideNotice=m),f(m)}),C("optionOnActionButtonMemoRow",function(){return u(s),f(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return u(s),f(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return u(s),f(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return u(s),f(t.onActionButtonPrintRow())}),y(1,4),r(2,"app-webdesigner-menu-tree",5),C("optionChange",function(m){return u(s),f(t.onActionSelectorSelect(m))}),l(),D(),Ee(3,6)(4,7),y(5,8),r(6,"a",9),C("click",function(){return u(s),f(t.viewGuideNotice=!t.viewGuideNotice)}),S(7,"i",10),l(),r(8,"a",9),C("click",function(){return u(s),f(t.onActionButtonReload())}),S(9,"i",11),l(),D(),y(10,12),r(11,"a",13),C("click",function(){return u(s),f(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),S(12,"mat-slide-toggle",14),c(13),h(14,"translate"),l(),r(15,"a",13),C("click",function(){return u(s),f(t.onActionButtonStatist())}),S(16,"mat-slide-toggle",14),c(17),h(18,"translate"),l(),D(),y(19,15),b(20,Os,7,3,"div",16),D(),y(21,17),b(22,Hs,7,3,"div",16)(23,qs,7,3,"div",16),D(),y(24,18),r(25,"app-cms-search-list",19),x("optionsChange",function(m){return u(s),T(t.optionsSearch,m)||(t.optionsSearch=m),f(m)}),l(),r(26,"app-cms-statist-list",19),x("optionsChange",function(m){return u(s),T(t.optionsStatist,m)||(t.optionsStatist=m),f(m)}),l(),D(),y(27,20),r(28,"mat-table",21,0),C("matSortChange",function(){u(s);let m=A(29);return f(t.onTableSortData(m))})("cdkDropListDropped",function(m){return u(s),f(t.onTableDropRow(m))}),b(30,js,1,2,"mat-row",22),y(31,23),b(32,Us,2,1,"mat-header-cell",24)(33,Qs,2,3,"mat-cell",25),D(),y(34,26),b(35,zs,2,1,"mat-header-cell",24)(36,Ks,2,1,"mat-cell",25),D(),y(37,27),b(38,Js,2,1,"mat-header-cell",24)(39,Xs,4,4,"mat-cell",25),D(),y(40,28),b(41,Zs,2,1,"mat-header-cell",24)(42,$s,2,1,"mat-cell",25),D(),y(43,29),b(44,ed,3,3,"mat-header-cell",24)(45,td,3,3,"mat-cell",25),D(),y(46,30),b(47,id,3,3,"mat-header-cell",24)(48,nd,3,4,"mat-cell",25),D(),y(49,31),b(50,od,2,1,"mat-header-cell",24)(51,rd,2,1,"mat-cell",25),D(),y(52,32),b(53,ad,3,3,"mat-header-cell",33)(54,ld,6,1,"mat-cell",34),D(),y(55,35),b(56,sd,3,3,"mat-header-cell",24)(57,dd,3,0,"mat-cell",25),D(),b(58,cd,1,0,"mat-header-row",36)(59,pd,1,3,"mat-row",37),y(60,38),b(61,md,9,12,"mat-cell",25),D(),l(),D(),y(62,39),r(63,"mat-paginator",40,1),C("page",function(m){return u(s),f(t.onTablePageingData(m))}),l(),D(),l()}i&2&&(d("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey","configuresite.webdesigner.menu"),E("optionActionGuideNoticeDisplay",t.viewGuideNotice),d("optionTreeDisplay",!0)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.title),o(9),z("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(3),d("checked",t.optionsSearch.data.show),o(),g("",M(14,27,"ACTION.SEARCH")," "),o(3),d("checked",t.optionsStatist.data.show),o(),g("",M(18,29,"ACTION.STATIST")," "),o(3),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessAddRow),o(2),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),o(),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),o(2),E("options",t.optionsSearch),o(),E("options",t.optionsStatist),o(2),d("dataSource",t.tableSource)("cdkDropListData",t.tableSource),o(2),d("matRowDefColumns",Ce(31,Gs)),o(28),d("matHeaderRowDef",t.tabledisplayedColumns),o(),d("matRowDefColumns",t.tabledisplayedColumns),o(4),d("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",Ce(32,Fs)))},dependencies:[De,W,et,Ae,ae,G,lt,st,He,Pe,dt,ct,pt,ut,ht,ft,mt,Mt,gt,_t,St,bt,je,Ue,Qe,ze,yt,cr,dr,sr,Xn,k,Mr,Ke,Pi],encapsulation:2});var Zn=Xi;var fd=["vform"];function gd(n,a){if(n&1){let e=v();r(0,"app-cms-enum-record-status-selector",22),x("modelChange",function(t){u(e);let s=p();return T(s.dataModel.recordStatus,t)||(s.dataModel.recordStatus=t),f(t)}),l()}if(n&2){let e=p();E("model",e.dataModel.recordStatus),d("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function _d(n,a){n&1&&S(0,"i",25)}function hd(n,a){n&1&&S(0,"i",26)}function Md(n,a){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),h(4,"translate"),l()()),n&2){let e=p(2);o(),g(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," is "),o(2),w(M(4,2,"MESSAGE.required"))}}function Sd(n,a){if(n&1){let e=v();r(0,"div",13)(1,"label",23),c(2),l(),r(3,"input",24,3),x("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.title,t)||(s.dataModel.title=t),f(t)}),l(),b(5,_d,1,0,"i",16)(6,hd,1,0,"i",17),r(7,"em"),c(8),l(),b(9,Md,5,4,"mat-error",18),l()}if(n&2){let e=A(4),i=p();o(2),w(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(),d("placeholder",P(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle)),E("ngModel",i.dataModel.title),d("disabled",!(i.fieldsInfo.title!=null&&i.fieldsInfo.title.accessAddField)),o(2),d("ngIf",!e.value),o(),d("ngIf",e.value),o(2),g("",e.value.length," / 100"),o(),d("ngIf",e.errors==null?null:e.errors.required)}}function bd(n,a){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),h(4,"translate"),l()()),n&2){let e=p(2);o(),g(" ",e.fieldsInfo.titleResourceLanguage==null?null:e.fieldsInfo.titleResourceLanguage.fieldTitle," is "),o(2),w(M(4,2,"MESSAGE.required"))}}function Id(n,a){if(n&1){let e=v();r(0,"div",13)(1,"label",27),c(2),l(),r(3,"input",28,4),x("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.titleResourceLanguage,t)||(s.dataModel.titleResourceLanguage=t),f(t)}),l(),r(5,"em"),c(6),l(),b(7,bd,5,4,"mat-error",18),l()}if(n&2){let e=A(4),i=p();o(2),w(i.fieldsInfo.titleResourceLanguage==null?null:i.fieldsInfo.titleResourceLanguage.fieldTitle),o(),d("placeholder",P(i.fieldsInfo.titleResourceLanguage==null?null:i.fieldsInfo.titleResourceLanguage.fieldTitle)),E("ngModel",i.dataModel.titleResourceLanguage),d("disabled",!(i.fieldsInfo.titleResourceLanguage!=null&&i.fieldsInfo.titleResourceLanguage.accessAddField)),o(3),g("",e.value.length," / 100"),o(),d("ngIf",e.errors==null?null:e.errors.required)}}function Cd(n,a){n&1&&S(0,"i",25)}function vd(n,a){n&1&&S(0,"i",26)}function yd(n,a){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),h(4,"translate"),l()()),n&2){let e=p();o(),g(" ",e.fieldsInfo.cmsModuleClassName==null?null:e.fieldsInfo.cmsModuleClassName.fieldTitle," is "),o(2),w(M(4,2,"MESSAGE.required"))}}function Dd(n,a){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),h(4,"translate"),l()()),n&2){let e=p();o(),g(" ",e.fieldsInfo.classActionName==null?null:e.fieldsInfo.classActionName.fieldTitle," is "),o(2),w(M(4,2,"MESSAGE.required"))}}function wd(n,a){if(n&1){let e=v();r(0,"div",29)(1,"button",30),C("click",function(){u(e);let t=p();return f(t.onFormCancel())}),S(2,"i",31),c(3),h(4,"translate"),l(),r(5,"button",32),S(6,"i",33),c(7),h(8,"translate"),l()()}if(n&2){p();let e=A(9);o(3),g(" ",M(4,3,"ACTION.CANCEL")," "),o(2),d("disabled",!e.form.valid),o(2),g(" ",M(8,5,"ACTION.SAVE")," ")}}var Zi=class Zi extends kt{constructor(e,i,t,s,_,m,j,Y){super(s,new Xe,m,Y);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.webDesignerMainPageDependencyService=s;this.cmsToastrService=_;this.publicHelper=m;this.cdr=j;this.translate=Y;this.requestLinkModuleId=0;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new F;this.dataModel=new Xe;this.formInfo=new re;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),e&&(this.requestLinkModuleId=+e.linkModuleId),this.requestLinkModuleId>0&&(this.dataModel.linkModuleId=this.requestLinkModuleId)}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess()}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.webDesignerMainPageDependencyService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e)}})}onActionSelectModule(e){if(!e||e.id<=0){this.translate.get(["MESSAGE.Specify_the_module","MESSAGE.Information_module_is_not_clear"]).subscribe(i=>{this.cmsToastrService.typeErrorMessage(i["MESSAGE.Specify_the_module"],i["MESSAGE.Information_module_is_not_clear"])});return}this.dataModel.linkModuleId=e.id}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Zi.\u0275fac=function(i){return new(i||Zi)(I(be),I(Se),I(Q),I(Pt),I(N),I(B),I(L),I(V))},Zi.\u0275cmp=R({type:Zi,selectors:[["app-webdesigner-pagedependency-add"]],viewQuery:function(i,t){if(i&1&&ie(fd,5),i&2){let s;ne(s=oe())&&(t.formGroup=s.first)}},standalone:!1,features:[U],decls:32,vars:29,consts:[["vform","ngForm"],["CmsModuleClassName",""],["ClassActionName",""],["Title",""],["TitleResourceLanguage",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[3,"optionChange","optionSelectForce","optionPlaceholder","optionDisabled"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.cmsModuleClassName",1,"color-highlight"],["matInput","","type","text","name","dataModel.cmsModuleClassName","type","text","minlength","3","maxlength","100","required","","id","dataModel.cmsModuleClassName",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["class","fa fa-times invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],[4,"ngIf"],["for","dataModel.classActionName",1,"color-highlight"],["matInput","","type","text","name","dataModel.classActionName","type","text","id","dataModel.classActionName",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.titleResourceLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleResourceLanguage","minlength","3","maxlength","100","required","","id","dataModel.titleResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=v();r(0,"div",5),S(1,"app-progress-spinner",6),r(2,"div",7)(3,"p",8),c(4),l(),r(5,"p"),c(6),h(7,"translate"),l(),r(8,"form",9,0),C("ngSubmit",function(){return u(s),f(t.onFormSubmit())}),b(10,gd,1,5,"app-cms-enum-record-status-selector",10)(11,Sd,10,9,"div",11)(12,Id,8,7,"div",11),r(13,"app-cms-module-selector",12),h(14,"translate"),C("optionChange",function(m){return u(s),f(t.onActionSelectModule(m))}),l(),r(15,"div",13)(16,"label",14),c(17),l(),r(18,"input",15,1),x("ngModelChange",function(m){return u(s),T(t.dataModel.cmsModuleClassName,m)||(t.dataModel.cmsModuleClassName=m),f(m)}),l(),b(20,Cd,1,0,"i",16)(21,vd,1,0,"i",17),r(22,"em"),c(23),l(),b(24,yd,5,4,"mat-error",18),l(),r(25,"div",13)(26,"label",19),c(27),l(),r(28,"input",20,2),x("ngModelChange",function(m){return u(s),T(t.dataModel.classActionName,m)||(t.dataModel.classActionName=m),f(m)}),l(),b(30,Dd,5,4,"mat-error",18),l(),b(31,wd,9,7,"div",21),l()()()}if(i&2){let s=A(19),_=A(29);o(),d("optionsInfoAreaId",t.constructorInfoAreaId),o(3),g(" ",t.formInfo.formTitle," "),o(2),g(" ",M(7,25,"TITLE.Be_Careful_When_Entering_Information")," "),o(4),d("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),o(),d("ngIf",t.fieldsInfo.title==null?null:t.fieldsInfo.title.accessWatchField),o(),d("ngIf",t.fieldsInfo.titleResourceLanguage==null?null:t.fieldsInfo.titleResourceLanguage.accessWatchField),o(),d("optionSelectForce",t.dataModel.linkModuleId)("optionPlaceholder",M(14,27,"TITLE.MODULE"))("optionDisabled",!(t.fieldsInfo.linkModuleId!=null&&t.fieldsInfo.linkModuleId.accessAddField)),o(4),w(t.fieldsInfo.cmsModuleClassName==null?null:t.fieldsInfo.cmsModuleClassName.fieldTitle),o(),d("placeholder",P(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),E("ngModel",t.dataModel.cmsModuleClassName),d("disabled",!(t.fieldsInfo.cmsModuleClassName!=null&&t.fieldsInfo.cmsModuleClassName.accessAddField)),o(2),d("ngIf",!s.value),o(),d("ngIf",s.value),o(2),g("",s.value.length," / 100"),o(),d("ngIf",s.errors==null?null:s.errors.required),o(3),w(t.fieldsInfo.classActionName==null?null:t.fieldsInfo.classActionName.fieldTitle),o(),d("placeholder",P(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),E("ngModel",t.dataModel.classActionName),d("disabled",!(t.fieldsInfo.classActionName!=null&&t.fieldsInfo.classActionName.accessAddField)),o(2),d("ngIf",_.errors==null?null:_.errors.required),o(),d("ngIf",t.formInfo.submitButtonEnabled)}},dependencies:[W,ue,Z,K,ce,$,_e,he,me,pe,Me,G,Ie,jn,q,k],encapsulation:2});var $n=Zi;var Ed=["*"];function Td(n,a){if(n&1&&(r(0,"label",12),c(1),l()),n&2){let e=p();d("for",Ve("app-cms-site-selector-",e.id)),o(),w(e.optionLabel)}}function xd(n,a){if(n&1&&(r(0,"mat-option",13)(1,"span"),c(2),l()()),n&2){let e=a.$implicit,i=p();d("value",e)("disabled",i.optionDisabled),o(2),w(i.displayOption(e))}}function Ad(n,a){n&1&&S(0,"i",14)}function Pd(n,a){n&1&&S(0,"i",15)}function Rd(n,a){if(n&1){let e=v();r(0,"i",16),C("click",function(){u(e);let t=p();return f(t.onActionSelectClear())}),l()}}function Wd(n,a){n&1&&(r(0,"em"),c(1),h(2,"translate"),l()),n&2&&(o(),g("(",M(2,1,"TITLE.Necessary"),")"))}var ci=class ci{constructor(a,e,i,t,s){this.coreEnumService=a;this.cdr=e;this.publicHelper=i;this.translate=t;this.categoryService=s;this.id=++ci.nextId;this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new F;this.dataModelSelect=new Ze;this.formControl=new ei;this.optionDisabled=!1;this.optionRequired=!1;this.optionSelectFirstItem=!1;this.optionPlaceholder="";this.optionLabel="";this.optionChange=new Et;this.optionReload=()=>this.onActionButtonReload();this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(a){this.onActionSelectForce(a)}ngOnInit(){this.loadOptions(),(!this.optionLabel||this.optionLabel.length==0&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder)}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(Kt(""),Qt(1500),zt(),Jt(a=>typeof a=="string"||typeof a=="number"?this.DataGetAll(a||""):[]))}displayFn(a){return a?a.title:void 0}displayOption(a){return a?a.title:void 0}DataGetAll(a){return te(this,null,function*(){let e=new J;e.rowPerPage=20,e.accessLoad=!0;let i=new O;i.propertyName="Title",i.value=a,i.searchType=Fe.Contains,i.clauseType=Ge.Or,e.filters.push(i),a&&typeof+a=="number"&&+a>0&&(i=new O,i.propertyName="Id",i.value=a,i.searchType=Fe.Equal,i.clauseType=Ge.Or,e.filters.push(i));let t=this.constructor.name+"categoryService.ServiceGetAll";return this.translate.get("MESSAGE.Receiving_information").subscribe(s=>{this.publicHelper.processService.processStart(t,s,this.constructorInfoAreaId)}),yield jt(this.categoryService.ServiceGetAll(e)).then(s=>(this.dataModelResult=s,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||this.dataModelSelect.id.length<=0)&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0])},1e3),this.onActionSelect(this.dataModelResult.listItems[0])),this.publicHelper.processService.processStop(t),s.listItems))})}onActionSelect(a){this.optionDisabled||(this.dataModelSelect=a,this.optionChange.emit(this.dataModelSelect))}onActionSelectClear(){this.optionDisabled||(this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null))}push(a){return this.filteredOptions.pipe(Ut(e=>(e.find(i=>i.id===a.id)||e.push(a),e)))}onActionSelectForce(a){if(typeof a=="string"&&a.length>0){if(this.dataModelSelect&&this.dataModelSelect.id===a)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(e=>e.id===a)){let e=this.dataModelResult.listItems.find(i=>i.id===a);this.dataModelSelect=e,this.formControl.setValue(e);return}this.categoryService.ServiceGetOneById(a).subscribe({next:e=>{e.isSuccess&&(this.filteredOptions=this.push(e.item),this.dataModelSelect=e.item,this.formControl.setValue(e.item),this.optionChange.emit(e.item))}});return}if(typeof a==typeof Ze){this.filteredOptions=this.push(a),this.dataModelSelect=a,this.formControl.setValue(a);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new Ze,this.loadOptions()}};ci.nextId=0,ci.\u0275fac=function(e){return new(e||ci)(I(Q),I(L),I(B),I(V),I(rt))},ci.\u0275cmp=R({type:ci,selectors:[["app-webdesigner-pagetemplate-selector"]],inputs:{optionDisabled:"optionDisabled",optionRequired:"optionRequired",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionLabel:"optionLabel",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange"},standalone:!1,ngContentSelectors:Ed,decls:15,vars:24,consts:[["matauto","matAutocomplete"],[1,"input-style","has-borders","has-icon","input-style-always-active","validate-field","mb-4","loader-container"],[3,"optionsInfoAreaId"],["class","color-highlight",3,"for",4,"ngIf"],["type","text","aria-label","Assignee","matInput","",3,"placeholder","formControl","matAutocomplete","required","id"],[3,"optionSelected","displayWith"],[3,"value","disabled",4,"ngFor","ngForOf"],["class","fa fa-info invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],["class","fa fa-times action color-red-dark",3,"click",4,"ngIf"],[1,"fa","fa-rotate-right","action","color-green-dark",2,"margin-left","20px",3,"click","title"],[4,"ngIf"],[1,"color-highlight",3,"for"],[3,"value","disabled"],[1,"fa","fa-info","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"fa","fa-times","action","color-red-dark",3,"click"]],template:function(e,i){if(e&1){let t=v();Yt(),r(0,"div",1),S(1,"app-progress-spinner",2),b(2,Td,2,3,"label",3),S(3,"input",4),r(4,"mat-autocomplete",5,0),C("optionSelected",function(_){return u(t),f(i.onActionSelect(_.option.value))}),b(6,xd,3,3,"mat-option",6),h(7,"async"),l(),b(8,Ad,1,0,"i",7)(9,Pd,1,0,"i",8)(10,Rd,1,0,"i",9),r(11,"i",10),h(12,"translate"),C("click",function(){return u(t),f(i.onActionButtonReload())}),l(),b(13,Wd,3,3,"em",11),Xt(14),l()}if(e&2){let t=A(5);o(),d("optionsInfoAreaId",i.constructorInfoAreaId),o(),d("ngIf",(i.optionLabel==null?null:i.optionLabel.length)>0),o(),d("placeholder",P(i.optionPlaceholder))("id",Ve("app-cms-site-selector-",i.id))("formControl",i.formControl)("matAutocomplete",t)("required",i.optionRequired),Tt("disabled",i.optionDisabled?!0:null),o(),d("displayWith",i.displayFn),o(2),d("ngForOf",M(7,20,i.filteredOptions)),o(2),d("ngIf",!i.formControl.valid),o(),d("ngIf",i.optionRequired&&i.formControl.valid),o(),d("ngIf",(i.dataModelSelect==null||i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0),o(),z("rotation360",i.publicHelper.processService.process.inRunArea[i.constructorInfoAreaId]),d("title",P(M(12,22,"ACTION.RELOAD"))),o(2),d("ngIf",i.optionRequired&&(!i.dataModelSelect||!i.dataModelSelect.id||(i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)===0))}},dependencies:[Be,W,Z,K,$,ii,oi,ni,ri,G,q,tt,k],encapsulation:2});var pi=ci;var kd=["*"];function Ld(n,a){if(n&1&&(r(0,"label",12),c(1),l()),n&2){let e=p();d("for",Ve("app-cms-site-selector-",e.id)),o(),w(e.optionLabel)}}function Vd(n,a){if(n&1&&(r(0,"mat-option",13)(1,"span"),c(2),l()()),n&2){let e=a.$implicit,i=p();d("value",e)("disabled",i.optionDisabled),o(2),w(i.displayOption(e))}}function Bd(n,a){n&1&&S(0,"i",14)}function Gd(n,a){n&1&&S(0,"i",15)}function Fd(n,a){if(n&1){let e=v();r(0,"i",16),C("click",function(){u(e);let t=p();return f(t.onActionSelectClear())}),l()}}function Nd(n,a){n&1&&(r(0,"em"),c(1),h(2,"translate"),l()),n&2&&(o(),g("(",M(2,1,"TITLE.Necessary"),")"))}var mi=class mi{constructor(a,e,i,t,s){this.coreEnumService=a;this.translate=e;this.cdr=i;this.publicHelper=t;this.categoryService=s;this.id=++mi.nextId;this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new F;this.dataModelSelect=new Ye;this.formControl=new ei;this.optionDisabled=!1;this.optionRequired=!1;this.optionSelectFirstItem=!1;this.optionMasterPage=!1;this.optionLabel="";this.optionPlaceholder="";this.optionChange=new Et;this.masterTemplateId="";this.optionReload=()=>this.onActionButtonReload();this.publicHelper.processService.cdr=this.cdr}set optionMasterTemplateId(a){this.masterTemplateId=a,this.loadOptions()}set optionSelectForce(a){this.onActionSelectForce(a)}ngOnInit(){this.loadOptions(),(!this.optionLabel||this.optionLabel.length==0&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder)}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(Kt(""),Qt(1500),zt(),Jt(a=>typeof a=="string"||typeof a=="number"?this.DataGetAll(a||""):[]))}displayFn(a){return a?a.title:void 0}displayOption(a){return a?a.title:void 0}DataGetAll(a){return te(this,null,function*(){let e=new J;e.rowPerPage=20,e.accessLoad=!0;let i=new O,t=new O;a&&a.length>0&&(i.propertyName="Title",i.value=a,i.searchType=Fe.Contains,i.clauseType=Ge.Or,t.filters.push(i)),a&&typeof+a=="number"&&+a>0&&(i=new O,i.propertyName="Id",i.value=a,i.searchType=Fe.Equal,i.clauseType=Ge.Or,t.filters.push(i)),e.filters.push(t),this.optionMasterPage&&(i=new O,i.propertyName="PageAbilityType",i.value=Co.Master,i.searchType=Fe.Equal,i.clauseType=Ge.And,e.filters.push(i)),this.masterTemplateId&&this.masterTemplateId.length>0&&(i=new O,i.propertyName="LinkPageTemplateGuId",i.value=this.masterTemplateId,i.searchType=Fe.Equal,i.clauseType=Ge.And,e.filters.push(i));let s=this.constructor.name+"main";return this.translate.get("MESSAGE.Receiving_information").subscribe(_=>{this.publicHelper.processService.processStart(s,_,this.constructorInfoAreaId)}),yield jt(this.categoryService.ServiceGetAll(e)).then(_=>(this.dataModelResult=_,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||this.dataModelSelect.id.length<=0)&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0])},1e3),this.onActionSelect(this.dataModelResult.listItems[0])),this.publicHelper.processService.processStop(s),_.listItems))})}onActionSelect(a){this.optionDisabled||(this.dataModelSelect=a,this.optionChange.emit(this.dataModelSelect))}onActionSelectClear(){this.optionDisabled||(this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null))}push(a){return this.filteredOptions.pipe(Ut(e=>(e.find(i=>i.id===a.id)||e.push(a),e)))}onActionSelectForce(a){if(typeof a=="string"&&a.length>0){if(this.dataModelSelect&&this.dataModelSelect.id===a)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(e=>e.id===a)){let e=this.dataModelResult.listItems.find(i=>i.id===a);this.dataModelSelect=e,this.formControl.setValue(e);return}this.categoryService.ServiceGetOneById(a).subscribe({next:e=>{e.isSuccess&&(this.filteredOptions=this.push(e.item),this.dataModelSelect=e.item,this.formControl.setValue(e.item),this.optionChange.emit(e.item))}});return}if(typeof a==typeof Ye){this.filteredOptions=this.push(a),this.dataModelSelect=a,this.formControl.setValue(a);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new Ye,this.loadOptions()}};mi.nextId=0,mi.\u0275fac=function(e){return new(e||mi)(I(Q),I(V),I(L),I(B),I(ot))},mi.\u0275cmp=R({type:mi,selectors:[["app-webdesigner-page-selector"]],inputs:{optionMasterTemplateId:"optionMasterTemplateId",optionSelectForce:"optionSelectForce",optionDisabled:"optionDisabled",optionRequired:"optionRequired",optionSelectFirstItem:"optionSelectFirstItem",optionMasterPage:"optionMasterPage",optionLabel:"optionLabel",optionPlaceholder:"optionPlaceholder",optionReload:"optionReload"},outputs:{optionChange:"optionChange"},standalone:!1,ngContentSelectors:kd,decls:15,vars:24,consts:[["matauto","matAutocomplete"],[1,"input-style","has-borders","has-icon","input-style-always-active","validate-field","mb-4","loader-container"],[3,"optionsInfoAreaId"],["class","color-highlight",3,"for",4,"ngIf"],["type","text","aria-label","Assignee","matInput","",3,"placeholder","formControl","matAutocomplete","required","id"],[3,"optionSelected","displayWith"],[3,"value","disabled",4,"ngFor","ngForOf"],["class","fa fa-info invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],["class","fa fa-times action color-red-dark",3,"click",4,"ngIf"],[1,"fa","fa-rotate-right","action","color-green-dark",2,"margin-left","20px",3,"click","title"],[4,"ngIf"],[1,"color-highlight",3,"for"],[3,"value","disabled"],[1,"fa","fa-info","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"fa","fa-times","action","color-red-dark",3,"click"]],template:function(e,i){if(e&1){let t=v();Yt(),r(0,"div",1),S(1,"app-progress-spinner",2),b(2,Ld,2,3,"label",3),S(3,"input",4),r(4,"mat-autocomplete",5,0),C("optionSelected",function(_){return u(t),f(i.onActionSelect(_.option.value))}),b(6,Vd,3,3,"mat-option",6),h(7,"async"),l(),b(8,Bd,1,0,"i",7)(9,Gd,1,0,"i",8)(10,Fd,1,0,"i",9),r(11,"i",10),h(12,"translate"),C("click",function(){return u(t),f(i.onActionButtonReload())}),l(),b(13,Nd,3,3,"em",11),Xt(14),l()}if(e&2){let t=A(5);o(),d("optionsInfoAreaId",i.constructorInfoAreaId),o(),d("ngIf",(i.optionLabel==null?null:i.optionLabel.length)>0),o(),d("placeholder",P(i.optionPlaceholder))("id",Ve("app-cms-site-selector-",i.id))("formControl",i.formControl)("matAutocomplete",t)("required",i.optionRequired),Tt("disabled",i.optionDisabled?!0:null),o(),d("displayWith",i.displayFn),o(2),d("ngForOf",M(7,20,i.filteredOptions)),o(2),d("ngIf",!i.formControl.valid),o(),d("ngIf",i.optionRequired&&i.formControl.valid),o(),d("ngIf",(i.dataModelSelect==null||i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0),o(),z("rotation360",i.publicHelper.processService.process.inRunArea[i.constructorInfoAreaId]),d("title",P(M(12,22,"ACTION.RELOAD"))),o(2),d("ngIf",i.optionRequired&&(!i.dataModelSelect||!i.dataModelSelect.id||(i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)===0))}},dependencies:[Be,W,Z,K,$,ii,oi,ni,ri,G,q,tt,k],encapsulation:2});var ui=mi;var Od=["vform"];function Hd(n,a){if(n&1){let e=v();r(0,"app-webdesigner-page-selector",14),h(1,"translate"),C("optionChange",function(t){u(e);let s=p();return f(s.onActionSelectParent(t))}),l()}if(n&2){let e=p();d("optionMasterPage",!0)("optionMasterTemplateId",e.dataModel.linkPageTemplateGuId)("optionPlaceholder",M(1,4,"TITLE.parent_page"))("optionDisabled",!1)}}function qd(n,a){if(n&1&&(r(0,"div",15),S(1,"i",19),r(2,"span",20),c(3),l()()),n&2){let e=p(2);o(3),w(e.formInfo.submitResultMessage)}}function jd(n,a){if(n&1&&(r(0,"div",16),S(1,"i",21),r(2,"span",20),c(3),l()()),n&2){let e=p(2);o(3),w(e.formInfo.submitResultMessage)}}function Ud(n,a){if(n&1&&(r(0,"div",17),S(1,"i",22),r(2,"span",20),c(3),l()()),n&2){let e=p(2);o(3),w(e.formInfo.submitResultMessage)}}function Qd(n,a){if(n&1&&(r(0,"div",18),S(1,"i",23),r(2,"span",20),c(3),l()()),n&2){let e=p(2);o(3),w(e.formInfo.submitResultMessage)}}function zd(n,a){if(n&1&&wi(0,qd,4,1,"div",15)(1,jd,4,1,"div",16)(2,Ud,4,1,"div",17)(3,Qd,4,1,"div",18),n&2){let e,i=p();Ei((e=i.formInfo.submitResult)==="success"?0:e==="error"?1:e==="warning"?2:3)}}function Kd(n,a){if(n&1){let e=v();r(0,"div",24)(1,"button",25),C("click",function(){u(e);let t=p();return f(t.onFormCancel())}),S(2,"i",26),c(3),h(4,"translate"),l(),r(5,"button",27),S(6,"i",28),c(7),h(8,"translate"),l()()}if(n&2){p();let e=A(9);o(3),g(" ",M(4,3,"ACTION.CANCEL")," "),o(2),d("disabled",!e.form.valid),o(2),g(" ",M(8,5,"ACTION.SAVE")," ")}}var $i=class $i{constructor(a,e,i,t,s,_,m,j){this.data=a;this.dialogRef=e;this.coreEnumService=i;this.webDesignerMainPageService=t;this.cmsToastrService=s;this.publicHelper=_;this.cdr=m;this.translate=j;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new Ti;this.dataModel=new xo;this.formInfo=new re;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.translate.get("TITLE.Automatically_add_all_pages").subscribe(a=>{this.formInfo.formTitle=a})}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage="";let a=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(a,e,this.constructorInfoAreaId)}),this.webDesignerMainPageService.ServiceAutoAdd(this.dataModel).subscribe({next:e=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=e,e.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.cmsToastrService.typeErrorMessage(e.errorMessage)),this.publicHelper.processService.processStop(a)},error:e=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(a)}})}onActionSelectModule(a){if(!a||a.id.length<=0){this.translate.get(["MESSAGE.Specify_the_template","MESSAGE.Information_of_template_is_not_clear"]).subscribe(e=>{this.cmsToastrService.typeErrorMessage(e["MESSAGE.Specify_the_template"],e["MESSAGE.Information_of_template_is_not_clear"])});return}this.dataModel.linkPageTemplateGuId=a.id}onActionSelectParent(a){this.dataModel.linkPageParentGuId="",a&&a.id&&a.id.length>0&&(this.dataModel.linkPageParentGuId=a.id)}onFormSubmit(){if(this.formGroup.valid){if(this.formInfo.submitButtonEnabled=!1,!this.dataModel.linkPageTemplateGuId||this.dataModel.linkPageTemplateGuId.length<=0){this.translate.get(["MESSAGE.Specify_the_template","MESSAGE.Information_of_template_is_not_clear"]).subscribe(a=>{this.cmsToastrService.typeErrorMessage(a["MESSAGE.Specify_the_template"],a["MESSAGE.Information_of_template_is_not_clear"])});return}this.DataAddContent()}}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};$i.\u0275fac=function(e){return new(e||$i)(I(be),I(Se),I(Q),I(ot),I(N),I(B),I(L),I(V))},$i.\u0275cmp=R({type:$i,selectors:[["app-webdesigner-pagedependency-autoaddpage"]],viewQuery:function(e,i){if(e&1&&ie(Od,5),e&2){let t;ne(t=oe())&&(i.formGroup=t.first)}},standalone:!1,decls:21,vars:15,consts:[["vform","ngForm"],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection"],[3,"optionChange","optionSelectForce","optionPlaceholder","optionDisabled"],[3,"optionMasterPage","optionMasterTemplateId","optionPlaceholder","optionDisabled","optionChange",4,"ngIf"],[1,"ntk-full-width"],["name","dataModel.pageDependencyIsDefaultPage",3,"ngModelChange","ngModel"],[1,"ntk-cms-html-card-message"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],[3,"optionChange","optionMasterPage","optionMasterTemplateId","optionPlaceholder","optionDisabled"],[1,"chip","chip-s","bg-green-dark"],[1,"chip","chip-s","bg-red-dark"],[1,"chip","chip-s","bg-yellow-dark"],[1,"chip","chip-s","bg-gray-dark"],[1,"fa","fa-check","color-white","bg-green-light"],[1,"color-white"],[1,"fa","fa-check","color-white","bg-red-light"],[1,"fa","fa-check","color-white","bg-yellow-light"],[1,"fa","fa-check","color-white","bg-gray-light"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(e,i){if(e&1){let t=v();r(0,"div",1),S(1,"app-progress-spinner",2),r(2,"div",3)(3,"p",4),c(4),l(),r(5,"p"),c(6),h(7,"translate"),l(),r(8,"form",5,0),C("ngSubmit",function(){return u(t),f(i.onFormSubmit())}),r(10,"div",6)(11,"app-webdesigner-pagetemplate-selector",7),h(12,"translate"),C("optionChange",function(_){return u(t),f(i.onActionSelectModule(_))}),l(),b(13,Hd,2,6,"app-webdesigner-page-selector",8),r(14,"div",9)(15,"mat-slide-toggle",10),x("ngModelChange",function(_){return u(t),T(i.dataModel.pageDependencyIsDefaultPage,_)||(i.dataModel.pageDependencyIsDefaultPage=_),f(_)}),c(16),l()()(),r(17,"div",11),wi(18,zd,4,1),l(),r(19,"div",12),b(20,Kd,9,7,"div",13),l()()()()}e&2&&(o(),d("optionsInfoAreaId",i.constructorInfoAreaId),o(3),g(" ",i.formInfo.formTitle," "),o(2),g(" ",M(7,11,"TITLE.Be_Careful_When_Entering_Information")," "),o(5),d("optionSelectForce",i.dataModel.linkPageTemplateGuId)("optionPlaceholder",M(12,13,"TITLE.Select_the_template"))("optionDisabled",!1),o(2),d("ngIf",i.dataModel.linkPageTemplateGuId&&i.dataModel.linkPageTemplateGuId.length>0),o(2),E("ngModel",i.dataModel.pageDependencyIsDefaultPage),o(),g(" ",i.fieldsInfo.pageDependencyIsDefaultPage==null?null:i.fieldsInfo.pageDependencyIsDefaultPage.fieldTitle," "),o(2),Ei((i.formInfo==null||i.formInfo.submitResultMessage==null?null:i.formInfo.submitResultMessage.length)>0?18:-1),o(2),d("ngIf",i.formInfo.submitButtonEnabled))},dependencies:[W,ue,K,ce,me,pe,Pe,q,pi,ui,k],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});var eo=$i;var Jd=["vform"];function Yd(n,a){if(n&1){let e=v();r(0,"app-cms-enum-record-status-selector",24),x("modelChange",function(t){u(e);let s=p();return T(s.dataModel.recordStatus,t)||(s.dataModel.recordStatus=t),f(t)}),l()}if(n&2){let e=p();E("model",e.dataModel.recordStatus),d("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Xd(n,a){n&1&&S(0,"i",27)}function Zd(n,a){n&1&&S(0,"i",28)}function $d(n,a){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),h(4,"translate"),l()()),n&2){let e=p(2);o(),g(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," is "),o(2),w(M(4,2,"MESSAGE.required"))}}function ec(n,a){if(n&1){let e=v();r(0,"div",12)(1,"label",25),c(2),l(),r(3,"input",26,3),x("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.title,t)||(s.dataModel.title=t),f(t)}),l(),b(5,Xd,1,0,"i",18)(6,Zd,1,0,"i",19),r(7,"em"),c(8),l(),b(9,$d,5,4,"mat-error",20),l()}if(n&2){let e=A(4),i=p();o(2),w(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(),d("placeholder",P(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle)),E("ngModel",i.dataModel.title),d("disabled",!(i.fieldsInfo.title!=null&&i.fieldsInfo.title.accessEditField)),o(2),d("ngIf",!e.value),o(),d("ngIf",e.value),o(2),g("",e.value.length," / 100"),o(),d("ngIf",e.errors==null?null:e.errors.required)}}function tc(n,a){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),h(4,"translate"),l()()),n&2){let e=p(2);o(),g(" ",e.fieldsInfo.titleResourceLanguage==null?null:e.fieldsInfo.titleResourceLanguage.fieldTitle," is "),o(2),w(M(4,2,"MESSAGE.required"))}}function ic(n,a){if(n&1){let e=v();r(0,"div",12)(1,"label",29),c(2),l(),r(3,"input",30,4),x("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.titleResourceLanguage,t)||(s.dataModel.titleResourceLanguage=t),f(t)}),l(),r(5,"em"),c(6),l(),b(7,tc,5,4,"mat-error",20),l()}if(n&2){let e=A(4),i=p();o(2),w(i.fieldsInfo.titleResourceLanguage==null?null:i.fieldsInfo.titleResourceLanguage.fieldTitle),o(),d("placeholder",P(i.fieldsInfo.titleResourceLanguage==null?null:i.fieldsInfo.titleResourceLanguage.fieldTitle)),E("ngModel",i.dataModel.titleResourceLanguage),d("disabled",!(i.fieldsInfo.titleResourceLanguage!=null&&i.fieldsInfo.titleResourceLanguage.accessEditField)),o(3),g("",e.value.length," / 100"),o(),d("ngIf",e.errors==null?null:e.errors.required)}}function nc(n,a){n&1&&S(0,"i",27)}function oc(n,a){n&1&&S(0,"i",28)}function rc(n,a){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),h(4,"translate"),l()()),n&2){let e=p();o(),g(" ",e.fieldsInfo.cmsModuleClassName==null?null:e.fieldsInfo.cmsModuleClassName.fieldTitle," is "),o(2),w(M(4,2,"MESSAGE.required"))}}function ac(n,a){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),h(4,"translate"),l()()),n&2){let e=p();o(),g(" ",e.fieldsInfo.classActionName==null?null:e.fieldsInfo.classActionName.fieldTitle," is "),o(2),w(M(4,2,"MESSAGE.required"))}}function lc(n,a){if(n&1){let e=v();r(0,"div",31)(1,"button",32),C("click",function(){u(e);let t=p();return f(t.onFormCancel())}),S(2,"i",33),c(3),h(4,"translate"),l(),r(5,"button",34),S(6,"i",35),c(7),h(8,"translate"),l()()}if(n&2){p();let e=A(9);o(3),g(" ",M(4,3,"ACTION.CANCEL")," "),o(2),d("disabled",!e.form.valid),o(2),g(" ",M(8,5,"ACTION.SAVE")," ")}}var en=class en extends Lt{constructor(e,i,t,s,_,m,j,Y){super(s,new Xe,m,Y);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.webDesignerMainPageDependencyService=s;this.cmsToastrService=_;this.publicHelper=m;this.cdr=j;this.translate=Y;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new Ti;this.dataModel=new Xe;this.formInfo=new re;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id+""),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.webDesignerMainPageDependencyService.setAccessLoad(),this.webDesignerMainPageDependencyService.setAccessDataType(At.Editor),this.webDesignerMainPageDependencyService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.submitResultMessage=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.webDesignerMainPageDependencyService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e)}})}onActionSelectModule(e){if(!e||e.id<=0){this.translate.get(["MESSAGE.Specify_the_module","MESSAGE.Information_module_is_not_clear"]).subscribe(i=>{this.cmsToastrService.typeErrorMessage(i["MESSAGE.Specify_the_module"],i["MESSAGE.Information_module_is_not_clear"])});return}this.dataModel.linkModuleId=e.id}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};en.\u0275fac=function(i){return new(i||en)(I(be),I(Se),I(Q),I(Pt),I(N),I(B),I(L),I(V))},en.\u0275cmp=R({type:en,selectors:[["app-webdesigner-pagedependency-edit"]],viewQuery:function(i,t){if(i&1&&ie(Jd,5),i&2){let s;ne(s=oe())&&(t.formGroup=s.first)}},standalone:!1,features:[U],decls:37,vars:34,consts:[["vform","ngForm"],["CmsModuleClassName",""],["ClassActionName",""],["Title",""],["TitleResourceLanguage",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.titleML",1,"color-highlight"],["matInput","","type","text","cmsKeyboardForce","en","name","dataModel.titleML","id","dataModel.titleML",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],[3,"optionChange","optionSelectForce","optionPlaceholder","optionDisabled"],["for","dataModel.cmsModuleClassName",1,"color-highlight"],["matInput","","type","text","name","dataModel.cmsModuleClassName","type","text","minlength","3","maxlength","100","required","","id","dataModel.cmsModuleClassName",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["class","fa fa-times invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],[4,"ngIf"],["for","dataModel.classActionName",1,"color-highlight"],["matInput","","type","text","name","dataModel.classActionName","type","text","id","dataModel.classActionName",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.titleResourceLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleResourceLanguage","minlength","3","maxlength","100","required","","id","dataModel.titleResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=v();r(0,"div",5),S(1,"app-progress-spinner",6),r(2,"div",7)(3,"p",8),c(4),l(),r(5,"p"),c(6),h(7,"translate"),l(),r(8,"form",9,0),C("ngSubmit",function(){return u(s),f(t.onFormSubmit())}),b(10,Yd,1,5,"app-cms-enum-record-status-selector",10)(11,ec,10,9,"div",11),r(12,"div",12)(13,"label",13),c(14),h(15,"translate"),l(),r(16,"input",14),x("ngModelChange",function(m){return u(s),T(t.dataModel.titleML,m)||(t.dataModel.titleML=m),f(m)}),l()(),b(17,ic,8,7,"div",11),r(18,"app-cms-module-selector",15),h(19,"translate"),C("optionChange",function(m){return u(s),f(t.onActionSelectModule(m))}),l(),r(20,"div",12)(21,"label",16),c(22),l(),r(23,"input",17,1),x("ngModelChange",function(m){return u(s),T(t.dataModel.cmsModuleClassName,m)||(t.dataModel.cmsModuleClassName=m),f(m)}),l(),b(25,nc,1,0,"i",18)(26,oc,1,0,"i",19),r(27,"em"),c(28),l(),b(29,rc,5,4,"mat-error",20),l(),r(30,"div",12)(31,"label",21),c(32),l(),r(33,"input",22,2),x("ngModelChange",function(m){return u(s),T(t.dataModel.classActionName,m)||(t.dataModel.classActionName=m),f(m)}),l(),b(35,ac,5,4,"mat-error",20),l(),b(36,lc,9,7,"div",23),l()()()}if(i&2){let s=A(24),_=A(34);o(),d("optionsInfoAreaId",t.constructorInfoAreaId),o(3),g(" ",t.formInfo.formTitle," "),o(2),g(" ",M(7,28,"TITLE.Be_Careful_When_Entering_Information")," "),o(4),d("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),o(),d("ngIf",t.fieldsInfo.title==null?null:t.fieldsInfo.title.accessWatchField),o(3),g(" ",M(15,30,"TITLE.TitleML")),o(2),E("ngModel",t.dataModel.titleML),d("disabled",!0),o(),d("ngIf",t.fieldsInfo.titleResourceLanguage==null?null:t.fieldsInfo.titleResourceLanguage.accessWatchField),o(),d("optionSelectForce",t.dataModel.linkModuleId)("optionPlaceholder",M(19,32,"TITLE.MODULE"))("optionDisabled",!(t.fieldsInfo.linkModuleId!=null&&t.fieldsInfo.linkModuleId.accessEditField)),o(4),w(t.fieldsInfo.cmsModuleClassName==null?null:t.fieldsInfo.cmsModuleClassName.fieldTitle),o(),d("placeholder",P(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),E("ngModel",t.dataModel.cmsModuleClassName),d("disabled",!(t.fieldsInfo.cmsModuleClassName!=null&&t.fieldsInfo.cmsModuleClassName.accessEditField)),o(2),d("ngIf",!s.value),o(),d("ngIf",s.value),o(2),g("",s.value.length," / 100"),o(),d("ngIf",s.errors==null?null:s.errors.required),o(3),w(t.fieldsInfo.classActionName==null?null:t.fieldsInfo.classActionName.fieldTitle),o(),d("placeholder",P(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),E("ngModel",t.dataModel.classActionName),d("disabled",!(t.fieldsInfo.classActionName!=null&&t.fieldsInfo.classActionName.accessEditField)),o(2),d("ngIf",_.errors==null?null:_.errors.required),o(),d("ngIf",t.formInfo.submitButtonEnabled)}},dependencies:[W,ue,Z,K,ce,$,_e,he,me,pe,Me,G,Ie,jn,q,Ri,k],encapsulation:2});var to=en;var sc=()=>[5,10,20,100],dc=n=>({display:n});function cc(n,a){if(n&1&&S(0,"app-core-module-header",46),n&2){let e=p();d("optionId",e.requestLinkModuleId)}}function pc(n,a){if(n&1){let e=v();r(0,"div",19)(1,"a",47),C("click",function(){u(e);let t=p();return f(t.onActionButtonNewRow())}),S(2,"i",48)(3,"br"),l(),r(4,"p",22),c(5),h(6,"translate"),l()()}n&2&&(o(5),g(" ",M(6,1,"ACTION.ADD")," "))}function mc(n,a){if(n&1){let e=v();r(0,"div",19)(1,"a",49),C("click",function(){u(e);let t=p();return f(t.onActionButtonNewRowAutoDependency())}),r(2,"i",48),c(3,"Dependency"),l(),S(4,"br"),l(),r(5,"p",22),c(6),h(7,"translate"),l()()}n&2&&(o(6),g(" ",M(7,1,"ACTION.AUTOADD"),"Dependency "))}function uc(n,a){if(n&1){let e=v();r(0,"div",19)(1,"a",49),C("click",function(){u(e);let t=p();return f(t.onActionButtonNewRowAutoPage())}),r(2,"i",48),c(3,"Page"),l(),S(4,"br"),l(),r(5,"p",22),c(6),h(7,"translate"),l()()}n&2&&(o(6),g(" ",M(7,1,"ACTION.AUTOADD"),"Page "))}function fc(n,a){if(n&1){let e=v();r(0,"div",19)(1,"a",50),C("click",function(){u(e);let t=p();return f(t.onActionButtonEditRow(t.tableRowSelected))}),S(2,"i",51)(3,"br"),l(),r(4,"p",22),c(5),h(6,"translate"),l()()}n&2&&(o(5),g(" ",M(6,1,"ACTION.EDIT")," "))}function gc(n,a){if(n&1){let e=v();r(0,"div",19)(1,"a",52),C("click",function(){u(e);let t=p();return f(t.onActionButtonDeleteRow(t.tableRowSelected))}),S(2,"i",53)(3,"br"),l(),r(4,"p",22),c(5),h(6,"translate"),l()()}n&2&&(o(5),g(" ",M(6,1,"ACTION.DELETE")," "))}function _c(n,a){n&1&&(r(0,"mat-header-cell",54),c(1),h(2,"translate"),l()),n&2&&(o(),g(" ",M(2,1,"TITLE.PICTURE")," "))}function hc(n,a){if(n&1&&(S(0,"img",56),h(1,"cmsthumbnail")),n&2){let e=p().$implicit;d("src",P(M(1,2,e.linkModuleFileLogoIdSrc)),ye)}}function Mc(n,a){if(n&1&&(r(0,"mat-cell"),b(1,hc,2,4,"img",55),l()),n&2){let e=a.$implicit;o(),d("ngIf",(e==null||e.linkModuleFileLogoIdSrc==null?null:e.linkModuleFileLogoIdSrc.length)>0)}}function Sc(n,a){if(n&1&&(r(0,"mat-header-cell",54),c(1),l()),n&2){let e=p();o(),g(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function bc(n,a){if(n&1&&(r(0,"mat-cell"),c(1),l()),n&2){let e=a.$implicit;o(),g(" ",e.id," ")}}function Ic(n,a){if(n&1&&(r(0,"mat-header-cell",54),c(1),l()),n&2){let e=p();o(),g(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function Cc(n,a){if(n&1&&S(0,"select",59),n&2){let e=p().$implicit,i=p();d("contentService",i.contentService)("row",e)("ngStyle",$e(3,dc,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function vc(n,a){if(n&1&&(r(0,"mat-cell",57),h(1,"statusCellClass"),S(2,"i",57),h(3,"statusIconClass"),b(4,Cc,1,5,"select",58),l()),n&2){let e=a.$implicit,i=p();d("ngClass",M(1,3,e.recordStatus)),o(2),d("ngClass",M(3,5,e.recordStatus)),o(2),d("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessEditRow)}}function yc(n,a){if(n&1&&(r(0,"mat-header-cell",54),c(1),l()),n&2){let e=p();o(),g(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," ")}}function Dc(n,a){if(n&1&&(r(0,"mat-cell"),c(1),l()),n&2){let e=a.$implicit;o(),g(" ",e.title," ")}}function wc(n,a){n&1&&(r(0,"mat-header-cell",54),c(1),h(2,"translate"),l()),n&2&&(o(),g(" ",M(2,1,"TITLE.TitleML")," "))}function Ec(n,a){if(n&1&&(r(0,"mat-cell"),c(1),l()),n&2){let e=a.$implicit;o(),g(" ",e.titleML," ")}}function Tc(n,a){if(n&1&&(r(0,"mat-header-cell",54),c(1),l()),n&2){let e=p();o(),g(" ",e.fieldsInfo.linkModuleId==null?null:e.fieldsInfo.linkModuleId.fieldTitle," ")}}function xc(n,a){if(n&1&&(r(0,"mat-cell"),c(1),h(2,"cmstitle"),l()),n&2){let e=a.$implicit,i=p();o(),g(" ",xt(2,1,e.linkModuleId,i.dataModelCoreModuleResult.listItems)," ")}}function Ac(n,a){if(n&1&&(r(0,"mat-header-cell",54),c(1),l()),n&2){let e=p();o(),g(" ",e.fieldsInfo.cmsModuleClassName==null?null:e.fieldsInfo.cmsModuleClassName.fieldTitle," ")}}function Pc(n,a){if(n&1&&(r(0,"mat-cell"),c(1),l()),n&2){let e=a.$implicit;o(),g(" ",e.cmsModuleClassName," ")}}function Rc(n,a){if(n&1&&(r(0,"mat-header-cell",54),c(1),l()),n&2){let e=p();o(),g(" ",e.fieldsInfo.classActionName==null?null:e.fieldsInfo.classActionName.fieldTitle," ")}}function Wc(n,a){if(n&1&&(r(0,"mat-cell"),c(1),l()),n&2){let e=a.$implicit;o(),g(" ",e.classActionName," ")}}function kc(n,a){n&1&&(r(0,"mat-header-cell"),c(1),h(2,"translate"),l()),n&2&&(o(),g(" ",M(2,1,"TITLE.OPTION")," "))}function Lc(n,a){if(n&1&&(r(0,"mat-cell",60)(1,"button",61)(2,"mat-icon"),c(3,"more_vert"),l()(),S(4,"mat-menu",null,2),l()),n&2){let e=A(5);o(),d("matMenuTriggerFor",e)}}function Vc(n,a){n&1&&S(0,"mat-header-row")}function Bc(n,a){if(n&1){let e=v();r(0,"mat-row",62),C("click",function(t){let s=u(e).$implicit,_=p();return f(_.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=u(e).$implicit,_=p();return f(_.onActionTableRowSelect(s,t))}),l()}if(n&2){let e=a.$implicit,i=p();z("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var tn=class tn extends vt{constructor(e,i,t,s,_,m,j,Y,wt,gi,Ht,_i,qt,pn,Er){super(e,new Xe,pn,j,gi);this.contentService=e;this.cmsToastrService=i;this.cmsConfirmationDialogService=t;this.coreModuleService=s;this.activatedRoute=_;this.router=m;this.tokenHelper=j;this.http=Y;this.cdr=wt;this.translate=gi;this.pageInfo=Ht;this.themeService=_i;this.cmsStoreService=qt;this.publicHelper=pn;this.dialog=Er;this.requestLinkModuleId=0;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new J;this.filterDataModelQueryBuilder=[];this.dataModelCoreModuleResult=new F;this.categoryModelSelected=new Do;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["Id","RecordStatus","TitleML","LinkModuleId","CmsModuleClassName","ClassActionName"];this.tabledisplayedColumnsMobileSource=["Id","RecordStatus","TitleML","LinkModuleId","CmsModuleClassName","ClassActionName"];this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.requestLinkModuleId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkModuleId")),this.optionsSearch.parentMethods={onSubmit:Le=>this.onSubmitOptionsSearch(Le)},this.filteModelContent.sortColumn="LinkModuleId",this.filteModelContent.sortType=H.Ascending}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>te(this,null,function*(){this.tokenInfo=e,this.DataGetAll()}))),this.getModuleList()}getModuleList(){let e=new J;e.rowPerPage=100,this.coreModuleService.ServiceGetAllModuleName(e).subscribe({next:i=>{this.dataModelCoreModuleResult=i}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,["Id","RecordStatus","Title","CmsModuleClassName","ClassActionName"],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Xe);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(s=>{this.publicHelper.processService.processStart(e,s,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=new O,t=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(t.filters=[...this.filterDataModelQueryBuilder]),this.categoryModelSelected&&this.categoryModelSelected.id>0&&(i.propertyName="LinkModuleId",i.value=this.categoryModelSelected.id,t.filters.push(i)),this.contentService.ServiceGetAllEditor(t).subscribe({next:s=>{s.isSuccess&&(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(s.access),this.dataModelResult=s,this.tableSource.data=s.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(s.access)},1e3)),this.publicHelper.processService.processStop(e)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(e)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=H.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=H.Ascending):(H,e.start="desc"):(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=H.Descending),H,this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open($n,{height:"90%",panelClass:e,enterAnimationDuration:X.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:X.cmsViewConfig.exitAnimationDuration,data:{linkModuleId:this.categoryModelSelected.id}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionButtonNewRowAutoPage(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(eo,{height:"90%",panelClass:e,enterAnimationDuration:X.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:X.cmsViewConfig.exitAnimationDuration,data:{linkModuleId:this.categoryModelSelected.id}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionButtonNewRowAutoDependency(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=new O;this.contentService.ServiceAutoAdd().subscribe({next:t=>{t.isSuccess&&this.cmsToastrService.typeSuccessAdd(),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e)}})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(to,{height:"90%",panelClass:i,enterAnimationDuration:X.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:X.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(s=>{this.cmsToastrService.typeErrorSelected(s)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(s=>{i=s["MESSAGE.Please_Confirm"],t=s["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(s=>{if(s){let _=this.constructor.name+"contentService.ServiceDelete";this.translate.get("MESSAGE.Receiving_information").subscribe(m=>{this.publicHelper.processService.processStart(_,m,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:m=>{m.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(_)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(_)}})}}).catch(()=>{})}onActionButtonPageList(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.onActionTableRowSelect(e),this.tokenInfo.access.userAccessAdminAllowToAllData?this.router.navigate(["/webdesigner/page/list-grid/LinkPageDependencyGuId",this.tableRowSelected.id]):this.router.navigate(["/webdesigner/page/LinkPageDependencyGuId",this.tableRowSelected.id])}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(m=>{i.set(m,0)}),this.translate.get("MESSAGE.All").subscribe(m=>{i.set(m,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(m=>{this.publicHelper.processService.processStart(t,m,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:m=>{m.isSuccess&&(i.set("All",m.totalRowCount),this.optionsStatist.childMethods.setStatistValue(i)),this.publicHelper.processService.processStop(t)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(t)}});let s=JSON.parse(JSON.stringify(this.filteModelContent)),_=new O;_.propertyName="RecordStatus",_.value=it.Available,s.filters.push(_),this.contentService.ServiceGetCount(s).subscribe({next:m=>{m.isSuccess&&(i.set("Active",m.totalRowCount),this.optionsStatist.childMethods.setStatistValue(i)),this.publicHelper.processService.processStop(t)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(t)}})}onActionButtonSiteRouteView(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorSelected();return}let i=this.tokenInfo.site.currentSiteDomainUrl+"/"+e.cmsModuleClassName+"/"+e.classActionName;window.open(i,"_blank")}onActionSelectorSelect(e){let i=this.filteModelContent.sortColumn,t=this.filteModelContent.sortType;this.filteModelContent=new J,this.filteModelContent.sortColumn=i,this.filteModelContent.sortType=t,this.categoryModelSelected=e,this.DataGetAll()}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}};tn.\u0275fac=function(i){return new(i||tn)(I(Pt),I(N),I(qe),I(yn),I(at),I(Ne),I(We),I(Io),I(L),I(V),I(Ct),I(It),I(Re),I(B),I(Oe))},tn.\u0275cmp=R({type:tn,selectors:[["app-webdesigner-pagedependency-list"]],standalone:!1,features:[U],decls:79,vars:39,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionId",4,"ngIf"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],[3,"optionChange"],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-page","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-globe","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","LinkModuleFileLogoIdSrc"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","Id"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","Title"],["matColumnDef","TitleML"],["matColumnDef","LinkModuleId"],["matColumnDef","CmsModuleClassName"],["matColumnDef","ClassActionName"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],[3,"optionId"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],["type","button","target","_blank","id","openModalButton","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],["style","vertical-align: middle","class","ntk-hover-zoom","aria-hidden","","height","40","width","40",3,"src",4,"ngIf"],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(i,t){if(i&1){let s=v();b(0,cc,1,1,"app-core-module-header",3),r(1,"app-cms-html-list",4),x("optionActionGuideNoticeDisplayChange",function(m){return u(s),T(t.viewGuideNotice,m)||(t.viewGuideNotice=m),f(m)}),C("optionOnActionButtonMemoRow",function(){return u(s),f(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return u(s),f(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return u(s),f(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return u(s),f(t.onActionButtonPrintRow())}),y(2,5),r(3,"app-core-module-tree",6),C("optionChange",function(m){return u(s),f(t.onActionSelectorSelect(m))}),l(),D(),Ee(4,7)(5,8),y(6,9),r(7,"a",10),C("click",function(){return u(s),f(t.viewGuideNotice=!t.viewGuideNotice)}),S(8,"i",11),l(),r(9,"a",10),C("click",function(){return u(s),f(t.onActionButtonReload())}),S(10,"i",12),l(),D(),y(11,13),r(12,"a",14),C("click",function(){return u(s),f(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),S(13,"mat-slide-toggle",15),c(14),h(15,"translate"),l(),r(16,"a",14),C("click",function(){return u(s),f(t.onActionButtonStatist())}),S(17,"mat-slide-toggle",15),c(18),h(19,"translate"),l(),D(),y(20,16),b(21,pc,7,3,"div",17)(22,mc,8,3,"div",17)(23,uc,8,3,"div",17),D(),y(24,18),b(25,fc,7,3,"div",17)(26,gc,7,3,"div",17),r(27,"div",19)(28,"a",20),C("click",function(){return u(s),f(t.onActionButtonPageList(t.tableRowSelected))}),S(29,"i",21)(30,"br"),l(),r(31,"p",22),c(32),h(33,"translate"),l()(),r(34,"div",19)(35,"a",20),C("click",function(){return u(s),f(t.onActionButtonSiteRouteView(t.tableRowSelected))}),S(36,"i",23)(37,"br"),l(),r(38,"p",22),c(39),h(40,"translate"),l()(),D(),y(41,24),r(42,"app-cms-search-list",25),x("optionsChange",function(m){return u(s),T(t.optionsSearch,m)||(t.optionsSearch=m),f(m)}),l(),r(43,"app-cms-statist-list",25),x("optionsChange",function(m){return u(s),T(t.optionsStatist,m)||(t.optionsStatist=m),f(m)}),l(),D(),y(44,26),r(45,"mat-table",27,0),C("matSortChange",function(){u(s);let m=A(46);return f(t.onTableSortData(m))}),y(47,28),b(48,_c,3,3,"mat-header-cell",29)(49,Mc,2,1,"mat-cell",30),D(),y(50,31),b(51,Sc,2,1,"mat-header-cell",29)(52,bc,2,1,"mat-cell",30),D(),y(53,32),b(54,Ic,2,1,"mat-header-cell",29)(55,vc,5,7,"mat-cell",33),D(),y(56,34),b(57,yc,2,1,"mat-header-cell",29)(58,Dc,2,1,"mat-cell",30),D(),y(59,35),b(60,wc,3,3,"mat-header-cell",29)(61,Ec,2,1,"mat-cell",30),D(),y(62,36),b(63,Tc,2,1,"mat-header-cell",29)(64,xc,3,4,"mat-cell",30),D(),y(65,37),b(66,Ac,2,1,"mat-header-cell",29)(67,Pc,2,1,"mat-cell",30),D(),y(68,38),b(69,Rc,2,1,"mat-header-cell",29)(70,Wc,2,1,"mat-cell",30),D(),y(71,39),b(72,kc,3,3,"mat-header-cell",40)(73,Lc,6,1,"mat-cell",41),D(),b(74,Vc,1,0,"mat-header-row",42)(75,Bc,1,2,"mat-row",43),l(),D(),y(76,44),r(77,"mat-paginator",45,1),C("page",function(m){return u(s),f(t.onTablePageingData(m))}),l(),D(),l()}i&2&&(d("ngIf",t.requestLinkModuleId>0),o(),d("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey","configuresite.webdesigner.pagedependency"),E("optionActionGuideNoticeDisplay",t.viewGuideNotice),d("optionTreeDisplay",t.requestLinkModuleId===0)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.title),o(9),z("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(3),d("checked",t.optionsSearch.data.show),o(),g("",M(15,30,"ACTION.SEARCH")," "),o(3),d("checked",t.optionsStatist.data.show),o(),g("",M(19,32,"ACTION.STATIST")," "),o(3),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessAddRow),o(),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessAddRow),o(),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessAddRow),o(2),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),o(),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),o(6),g(" ",M(33,34,"ACTION.PAGES")," "),o(7),g(" ",M(40,36,"ACTION.SHOW_WEB")," "),o(3),E("options",t.optionsSearch),o(),E("options",t.optionsStatist),o(2),d("dataSource",t.tableSource),o(29),d("matHeaderRowDef",t.tabledisplayedColumns),o(),d("matRowDefColumns",t.tabledisplayedColumns),o(2),d("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",Ce(38,sc)))},dependencies:[De,W,et,Ae,ae,G,lt,st,He,Pe,dt,ct,pt,ut,ht,ft,mt,Mt,gt,_t,St,bt,je,Ue,Qe,ze,yt,gr,fr,k,Wi,Wt,Ke,Vt],encapsulation:2});var io=tn;var Gc=["vform"];function Fc(n,a){if(n&1){let e=v();r(0,"app-cms-enum-record-status-selector",21),x("modelChange",function(t){u(e);let s=p();return T(s.dataModel.recordStatus,t)||(s.dataModel.recordStatus=t),f(t)}),l()}if(n&2){let e=p();E("model",e.dataModel.recordStatus),d("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Nc(n,a){n&1&&S(0,"i",24)}function Oc(n,a){n&1&&S(0,"i",25)}function Hc(n,a){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),h(4,"translate"),l()()),n&2){let e=p(2);o(),g(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," is "),o(2),w(M(4,2,"MESSAGE.required"))}}function qc(n,a){if(n&1){let e=v();r(0,"div",12)(1,"label",22),c(2),l(),r(3,"input",23,3),x("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.title,t)||(s.dataModel.title=t),f(t)}),l(),b(5,Nc,1,0,"i",15)(6,Oc,1,0,"i",16),r(7,"em"),c(8),l(),b(9,Hc,5,4,"mat-error",17),l()}if(n&2){let e=A(4),i=p();o(2),w(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(),d("placeholder",P(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle)),E("ngModel",i.dataModel.title),d("disabled",!(i.fieldsInfo.title!=null&&i.fieldsInfo.title.accessAddField)),o(2),d("ngIf",!e.value),o(),d("ngIf",e.value),o(2),g("",e.value.length," / 100"),o(),d("ngIf",e.errors==null?null:e.errors.required)}}function jc(n,a){n&1&&S(0,"i",24)}function Uc(n,a){n&1&&S(0,"i",25)}function Qc(n,a){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),h(4,"translate"),l()()),n&2){let e=p();o(),g(" ",e.fieldsInfo.folder==null?null:e.fieldsInfo.folder.fieldTitle," is "),o(2),w(M(4,2,"MESSAGE.required"))}}function zc(n,a){n&1&&S(0,"i",24)}function Kc(n,a){n&1&&S(0,"i",25)}function Jc(n,a){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),h(4,"translate"),l()()),n&2){let e=p();o(),g(" ",e.fieldsInfo.indexFile==null?null:e.fieldsInfo.indexFile.fieldTitle," is "),o(2),w(M(4,2,"MESSAGE.required"))}}function Yc(n,a){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),h(4,"translate"),l()()),n&2){let e=p(2);o(),g(" ",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle," is "),o(2),w(M(4,2,"MESSAGE.required"))}}function Xc(n,a){if(n&1){let e=v();r(0,"div",12)(1,"label",26),c(2),l(),r(3,"textarea",27,4),x("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.description,t)||(s.dataModel.description=t),f(t)}),c(5,"        "),l(),r(6,"em"),c(7),l(),b(8,Yc,5,4,"mat-error",17),l()}if(n&2){let e=A(4),i=p();o(2),w(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle),o(),d("placeholder",P(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle)),E("ngModel",i.dataModel.description),o(4),g("",e.value.length," / 500"),o(),d("ngIf",e.errors==null?null:e.errors.required)}}function Zc(n,a){if(n&1){let e=v();r(0,"div",28)(1,"button",29),C("click",function(){u(e);let t=p();return f(t.onFormCancel())}),S(2,"i",30),c(3),h(4,"translate"),l(),r(5,"button",31),S(6,"i",32),c(7),h(8,"translate"),l()()}if(n&2){p();let e=A(9);o(3),g(" ",M(4,3,"ACTION.CANCEL")," "),o(2),d("disabled",!e.form.valid),o(2),g(" ",M(8,5,"ACTION.SAVE")," ")}}var nn=class nn extends kt{constructor(e,i,t,s,_,m,j,Y){super(s,new Ze,m,Y);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.webDesignerMainPageTemplateService=s;this.cmsToastrService=_;this.publicHelper=m;this.cdr=j;this.translate=Y;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new F;this.dataModel=new Ze;this.formInfo=new re;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess()}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.webDesignerMainPageTemplateService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};nn.\u0275fac=function(i){return new(i||nn)(I(be),I(Se),I(Q),I(rt),I(N),I(B),I(L),I(V))},nn.\u0275cmp=R({type:nn,selectors:[["app-webdesigner-pagetemplate-add"]],viewQuery:function(i,t){if(i&1&&ie(Gc,5),i&2){let s;ne(s=oe())&&(t.formGroup=s.first)}},standalone:!1,features:[U],decls:35,vars:27,consts:[["vform","ngForm"],["Folder",""],["IndexFile",""],["Title",""],["Description",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.folder",1,"color-highlight"],["matInput","","type","text","name","dataModel.folder","minlength","3","maxlength","100","required","","id","dataModel.folder",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["class","fa fa-times invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],[4,"ngIf"],["for","dataModel.indexFile",1,"color-highlight"],["matInput","","type","text","name","dataModel.indexFile","placeholder","index.html","minlength","3","maxlength","100","required","","id","dataModel.indexFile",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=v();r(0,"div",5),S(1,"app-progress-spinner",6),r(2,"div",7)(3,"p",8),c(4),l(),r(5,"p"),c(6),h(7,"translate"),l(),r(8,"form",9,0),C("ngSubmit",function(){return u(s),f(t.onFormSubmit())}),b(10,Fc,1,5,"app-cms-enum-record-status-selector",10)(11,qc,10,9,"div",11),r(12,"div",12)(13,"label",13),c(14),l(),r(15,"input",14,1),h(17,"translate"),x("ngModelChange",function(m){return u(s),T(t.dataModel.folder,m)||(t.dataModel.folder=m),f(m)}),l(),b(18,jc,1,0,"i",15)(19,Uc,1,0,"i",16),r(20,"em"),c(21),l(),b(22,Qc,5,4,"mat-error",17),l(),r(23,"div",12)(24,"label",18),c(25),l(),r(26,"input",19,2),x("ngModelChange",function(m){return u(s),T(t.dataModel.indexFile,m)||(t.dataModel.indexFile=m),f(m)}),l(),b(28,zc,1,0,"i",15)(29,Kc,1,0,"i",16),r(30,"em"),c(31),l(),b(32,Jc,5,4,"mat-error",17),l(),b(33,Xc,9,6,"div",11)(34,Zc,9,7,"div",20),l()()()}if(i&2){let s=A(16),_=A(27);o(),d("optionsInfoAreaId",t.constructorInfoAreaId),o(3),g(" ",t.formInfo.formTitle," "),o(2),g(" ",M(7,23,"TITLE.Be_Careful_When_Entering_Information")," "),o(4),d("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),o(),d("ngIf",t.fieldsInfo.title==null?null:t.fieldsInfo.title.accessWatchField),o(3),w(t.fieldsInfo.folder==null?null:t.fieldsInfo.folder.fieldTitle),o(),d("placeholder",P(M(17,25,"TITLE.branch_path"))),E("ngModel",t.dataModel.folder),d("disabled",!(t.fieldsInfo.folder!=null&&t.fieldsInfo.folder.accessAddField)),o(3),d("ngIf",!s.value),o(),d("ngIf",s.value),o(2),g("",s.value.length," / 100"),o(),d("ngIf",s.errors==null?null:s.errors.required),o(3),w(t.fieldsInfo.indexFile==null?null:t.fieldsInfo.indexFile.fieldTitle),o(),E("ngModel",t.dataModel.indexFile),d("disabled",!(t.fieldsInfo.indexFile!=null&&t.fieldsInfo.indexFile.accessAddField)),o(2),d("ngIf",!_.value),o(),d("ngIf",_.value),o(2),g("",s.value.length," / 100"),o(),d("ngIf",_.errors==null?null:_.errors.required),o(),d("ngIf",t.fieldsInfo.description==null?null:t.fieldsInfo.description.accessWatchField),o(),d("ngIf",t.formInfo.submitButtonEnabled)}},dependencies:[W,ue,Z,K,ce,$,_e,he,me,pe,Me,G,Ie,q,k],encapsulation:2});var no=nn;var $c=["vform"];function ep(n,a){if(n&1){let e=v();r(0,"app-cms-enum-record-status-selector",24),x("modelChange",function(t){u(e);let s=p();return T(s.dataModel.recordStatus,t)||(s.dataModel.recordStatus=t),f(t)}),l()}if(n&2){let e=p();E("model",e.dataModel.recordStatus),d("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function tp(n,a){n&1&&S(0,"i",27)}function ip(n,a){n&1&&S(0,"i",28)}function np(n,a){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),h(4,"translate"),l()()),n&2){let e=p(2);o(),g(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," is "),o(2),w(M(4,2,"MESSAGE.required"))}}function op(n,a){if(n&1){let e=v();r(0,"div",13)(1,"label",25),c(2),l(),r(3,"input",26,3),x("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.title,t)||(s.dataModel.title=t),f(t)}),l(),b(5,tp,1,0,"i",16)(6,ip,1,0,"i",17),r(7,"em"),c(8),l(),b(9,np,5,4,"mat-error",18),l()}if(n&2){let e=A(4),i=p();o(2),w(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(),d("placeholder",P(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle)),E("ngModel",i.dataModel.title),d("disabled",!(i.fieldsInfo.title!=null&&i.fieldsInfo.title.accessEditField)),o(2),d("ngIf",!e.value),o(),d("ngIf",e.value),o(2),g("",e.value.length," / 100"),o(),d("ngIf",e.errors==null?null:e.errors.required)}}function rp(n,a){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),h(4,"translate"),l()()),n&2){let e=p(2);o(),g(" ",e.fieldsInfo.titleResourceLanguage==null?null:e.fieldsInfo.titleResourceLanguage.fieldTitle," is "),o(2),w(M(4,2,"MESSAGE.required"))}}function ap(n,a){if(n&1){let e=v();r(0,"div",13)(1,"label",29),c(2),l(),r(3,"input",30,4),x("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.titleResourceLanguage,t)||(s.dataModel.titleResourceLanguage=t),f(t)}),l(),r(5,"em"),c(6),l(),b(7,rp,5,4,"mat-error",18),l()}if(n&2){let e=A(4),i=p();o(2),w(i.fieldsInfo.titleResourceLanguage==null?null:i.fieldsInfo.titleResourceLanguage.fieldTitle),o(),d("placeholder",P(i.fieldsInfo.titleResourceLanguage==null?null:i.fieldsInfo.titleResourceLanguage.fieldTitle)),E("ngModel",i.dataModel.titleResourceLanguage),d("disabled",!(i.fieldsInfo.titleResourceLanguage!=null&&i.fieldsInfo.titleResourceLanguage.accessEditField)),o(3),g("",e.value.length," / 100"),o(),d("ngIf",e.errors==null?null:e.errors.required)}}function lp(n,a){n&1&&S(0,"i",27)}function sp(n,a){n&1&&S(0,"i",28)}function dp(n,a){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),h(4,"translate"),l()()),n&2){let e=p();o(),g(" ",e.fieldsInfo.folder==null?null:e.fieldsInfo.folder.fieldTitle," is "),o(2),w(M(4,2,"MESSAGE.required"))}}function cp(n,a){n&1&&S(0,"i",27)}function pp(n,a){n&1&&S(0,"i",28)}function mp(n,a){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),h(4,"translate"),l()()),n&2){let e=p();o(),g(" ",e.fieldsInfo.indexFile==null?null:e.fieldsInfo.indexFile.fieldTitle," is "),o(2),w(M(4,2,"MESSAGE.required"))}}function up(n,a){if(n&1){let e=v();r(0,"div",31)(1,"div",32)(2,"h5",33),c(3),l()(),r(4,"div",34)(5,"div",35)(6,"input",36),x("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.isPublish,t)||(s.dataModel.isPublish=t),f(t)}),l(),S(7,"label",37),l()()()}if(n&2){let e=p();o(3),g(" ",e.fieldsInfo.isPublish==null?null:e.fieldsInfo.isPublish.fieldTitle," "),o(3),E("ngModel",e.dataModel.isPublish)}}function fp(n,a){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),h(4,"translate"),l()()),n&2){let e=p(2);o(),g(" ",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle," is "),o(2),w(M(4,2,"MESSAGE.required"))}}function gp(n,a){if(n&1){let e=v();r(0,"div",13)(1,"label",38),c(2),l(),r(3,"textarea",39,5),x("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.description,t)||(s.dataModel.description=t),f(t)}),c(5,"        "),l(),r(6,"em"),c(7),l(),b(8,fp,5,4,"mat-error",18),l()}if(n&2){let e=A(4),i=p();o(2),w(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle),o(),d("placeholder",P(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle)),E("ngModel",i.dataModel.description),o(4),g("",e.value.length," / 500"),o(),d("ngIf",e.errors==null?null:e.errors.required)}}function _p(n,a){if(n&1){let e=v();r(0,"div",40)(1,"button",41),C("click",function(){u(e);let t=p();return f(t.onFormCancel())}),S(2,"i",42),c(3),h(4,"translate"),l(),r(5,"button",43),S(6,"i",44),c(7),h(8,"translate"),l()()}if(n&2){p();let e=A(9);o(3),g(" ",M(4,3,"ACTION.CANCEL")," "),o(2),d("disabled",!e.form.valid),o(2),g(" ",M(8,5,"ACTION.SAVE")," ")}}var on=class on extends Lt{constructor(e,i,t,s,_,m,j,Y,wt){super(s,new Ze,j,wt);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.webDesignerMainPageTemplateService=s;this.webDesignerMainPageTemplateSiteCategoryService=_;this.cmsToastrService=m;this.publicHelper=j;this.cdr=Y;this.translate=wt;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModel=new Ze;this.formInfo=new re;this.fileManagerOpenForm=!1;this.dataCoreSiteCategoryIds=[];this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id+""),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetAllSourceSiteCategory()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.webDesignerMainPageTemplateService.setAccessLoad(),this.webDesignerMainPageTemplateService.setAccessDataType(At.Editor),this.webDesignerMainPageTemplateService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.submitResultMessage=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.webDesignerMainPageTemplateService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e)}})}DataGetAllSourceSiteCategory(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(s=>{this.formInfo.submitResultMessage=s}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"webDesignerMainPageTemplateSiteCategoryService";this.translate.get("MESSAGE.Receiving_information").subscribe(s=>{this.publicHelper.processService.processStart(e,s,this.constructorInfoAreaId)});let i=new J,t=new O;t.propertyName="LinkPageTemplateId",t.value=this.requestId,i.filters.push(t),this.webDesignerMainPageTemplateSiteCategoryService.ServiceGetAll(i).subscribe({next:s=>{this.dataWebDesignerMainPageTemplateSiteCategoryModel=s.listItems;let _=[];this.dataWebDesignerMainPageTemplateSiteCategoryModel.forEach(m=>{_.push(m.linkSiteCagegoryId)}),this.dataCoreSiteCategoryIds=_,s.isSuccess?this.formInfo.submitResultMessage="":(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(m=>{this.formInfo.submitResultMessage=m}),this.formInfo.submitResultMessage=s.errorMessage,this.cmsToastrService.typeErrorMessage(s.errorMessage)),this.publicHelper.processService.processStop(e)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(e)}})}onActionSelectorUserCategorySelect(e){this.dataCoreSiteCategoryModel=e}onActionSelectorUserCategorySelectAdded(e){let i=new mo;i.linkSiteCagegoryId=e.id,i.linkPageTemplateId=this.dataModel.id;let t=this.constructor.name+"webDesignerMainPageTemplateSiteCategoryService.ServiceAdd";this.translate.get("MESSAGE.Receiving_information").subscribe(s=>{this.publicHelper.processService.processStart(t,s,this.constructorInfoAreaId)}),this.webDesignerMainPageTemplateSiteCategoryService.ServiceAdd(i).subscribe({next:s=>{s.isSuccess?(this.translate.get("MESSAGE.registration_in_this_group_was_successful").subscribe(_=>{this.formInfo.submitResultMessage=_}),this.cmsToastrService.typeSuccessEdit()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(_=>{this.formInfo.submitResultMessage=_}),this.formInfo.submitResultMessage=s.errorMessage,this.cmsToastrService.typeErrorMessage(s.errorMessage)),this.publicHelper.processService.processStop(t)},error:s=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(t)}})}onActionSelectorUserCategorySelectRemoved(e){let i=new mo;i.linkSiteCagegoryId=e.id,i.linkPageTemplateId=this.dataModel.id;let t=this.constructor.name+"webDesignerMainPageTemplateSiteCategoryService.ServiceDeleteEntity";this.translate.get("MESSAGE.Receiving_information").subscribe(s=>{this.publicHelper.processService.processStart(t,s,this.constructorInfoAreaId)}),this.webDesignerMainPageTemplateSiteCategoryService.ServiceDeleteEntity(i).subscribe({next:s=>{s.isSuccess?(this.translate.get("MESSAGE.Deletion_from_this_group_Was_Successful").subscribe(_=>{this.formInfo.submitResultMessage=_}),this.cmsToastrService.typeSuccessEdit()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(_=>{this.formInfo.submitResultMessage=_}),this.formInfo.submitResultMessage=s.errorMessage,this.cmsToastrService.typeErrorMessage(s.errorMessage)),this.publicHelper.processService.processStop(t)},error:s=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(t)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};on.\u0275fac=function(i){return new(i||on)(I(be),I(Se),I(Q),I(rt),I(wn),I(N),I(B),I(L),I(V))},on.\u0275cmp=R({type:on,selectors:[["app-webdesigner-pagetemplate-edit"]],viewQuery:function(i,t){if(i&1&&ie($c,5),i&2){let s;ne(s=oe())&&(t.formGroup=s.first)}},standalone:!1,features:[U],decls:41,vars:34,consts:[["vform","ngForm"],["Folder",""],["IndexFile",""],["Title",""],["TitleResourceLanguage",""],["Description",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.folder",1,"color-highlight"],["matInput","","type","text","name","dataModel.folder","minlength","3","maxlength","100","required","","id","dataModel.folder",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["class","fa fa-times invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],[4,"ngIf"],["for","dataModel.indexFile",1,"color-highlight"],["matInput","","type","text","name","dataModel.indexFile","placeholder","index.html","minlength","3","maxlength","100","required","","id","dataModel.indexFile",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["class","d-flex mb-3",4,"ngIf"],[3,"optionChange","optionSelectAdded","optionSelectRemoved","optionSelectForce","optionDisabled"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.titleResourceLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleResourceLanguage","minlength","3","maxlength","100","required","","id","dataModel.titleResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.isPublish",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.isPublish","name","dataModel.isPublish",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.isPublish",1,"custom-control-label"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=v();r(0,"div",6),S(1,"app-progress-spinner",7),r(2,"div",8)(3,"p",9),c(4),l(),r(5,"p"),c(6),h(7,"translate"),l(),r(8,"form",10,0),C("ngSubmit",function(){return u(s),f(t.onFormSubmit())}),b(10,ep,1,5,"app-cms-enum-record-status-selector",11)(11,op,10,9,"div",12)(12,ap,8,7,"div",12),r(13,"div",13)(14,"label",14),c(15),l(),r(16,"input",15,1),h(18,"translate"),x("ngModelChange",function(m){return u(s),T(t.dataModel.folder,m)||(t.dataModel.folder=m),f(m)}),l(),b(19,lp,1,0,"i",16)(20,sp,1,0,"i",17),r(21,"em"),c(22),l(),b(23,dp,5,4,"mat-error",18),l(),r(24,"div",13)(25,"label",19),c(26),l(),r(27,"input",20,2),x("ngModelChange",function(m){return u(s),T(t.dataModel.indexFile,m)||(t.dataModel.indexFile=m),f(m)}),l(),b(29,cp,1,0,"i",16)(30,pp,1,0,"i",17),r(31,"em"),c(32),l(),b(33,mp,5,4,"mat-error",18),l(),b(34,up,8,2,"div",21)(35,gp,9,6,"div",12),c(36),h(37,"translate"),S(38,"br"),r(39,"app-cms-sitecategory-selectionlist",22),C("optionChange",function(m){return u(s),f(t.onActionSelectorUserCategorySelect(m))})("optionSelectAdded",function(m){return u(s),f(t.onActionSelectorUserCategorySelectAdded(m))})("optionSelectRemoved",function(m){return u(s),f(t.onActionSelectorUserCategorySelectRemoved(m))}),l(),b(40,_p,9,7,"div",23),l()()()}if(i&2){let s=A(17),_=A(28);o(),d("optionsInfoAreaId",t.constructorInfoAreaId),o(3),g(" ",t.formInfo.formTitle," "),o(2),g(" ",M(7,28,"TITLE.Be_Careful_When_Entering_Information")," "),o(4),d("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),o(),d("ngIf",t.fieldsInfo.title==null?null:t.fieldsInfo.title.accessWatchField),o(),d("ngIf",t.fieldsInfo.titleResourceLanguage==null?null:t.fieldsInfo.titleResourceLanguage.accessWatchField),o(3),w(t.fieldsInfo.folder==null?null:t.fieldsInfo.folder.fieldTitle),o(),d("placeholder",P(M(18,30,"TITLE.branch_path"))),E("ngModel",t.dataModel.folder),d("disabled",!(t.fieldsInfo.folder!=null&&t.fieldsInfo.folder.accessEditField)),o(3),d("ngIf",!s.value),o(),d("ngIf",s.value),o(2),g("",s.value.length," / 100"),o(),d("ngIf",s.errors==null?null:s.errors.required),o(3),w(t.fieldsInfo.indexFile==null?null:t.fieldsInfo.indexFile.fieldTitle),o(),E("ngModel",t.dataModel.indexFile),d("disabled",!(t.fieldsInfo.indexFile!=null&&t.fieldsInfo.indexFile.accessEditField)),o(2),d("ngIf",!_.value),o(),d("ngIf",_.value),o(2),g("",s.value.length," / 100"),o(),d("ngIf",_.errors==null?null:_.errors.required),o(),d("ngIf",t.fieldsInfo.isPublish==null?null:t.fieldsInfo.isPublish.accessWatchField),o(),d("ngIf",t.fieldsInfo.description==null?null:t.fieldsInfo.description.accessWatchField),o(),g(" ",M(37,32,"TITLE.It_should_be_used_on_sites_with_the_following_categories")," "),o(3),d("optionSelectForce",t.dataCoreSiteCategoryIds)("optionDisabled",!1),o(),d("ngIf",t.formInfo.submitButtonEnabled)}},dependencies:[W,ue,Z,Rt,K,ce,$,_e,he,me,pe,Me,G,Ie,br,q,k],encapsulation:2});var oo=on;var hp=()=>[5,10,20,100],Mp=n=>({display:n});function Sp(n,a){if(n&1){let e=v();r(0,"div",17)(1,"a",41),C("click",function(){u(e);let t=p();return f(t.onActionButtonNewRow())}),S(2,"i",42)(3,"br"),l(),r(4,"p",20),c(5),h(6,"translate"),l()()}n&2&&(o(5),g(" ",M(6,1,"ACTION.ADD")," "))}function bp(n,a){if(n&1){let e=v();r(0,"div",17)(1,"a",43),C("click",function(){u(e);let t=p();return f(t.onActionButtonEditRow(t.tableRowSelected))}),S(2,"i",44)(3,"br"),l(),r(4,"p",20),c(5),h(6,"translate"),l()()}n&2&&(o(5),g(" ",M(6,1,"ACTION.EDIT")," "))}function Ip(n,a){if(n&1){let e=v();r(0,"div",17)(1,"a",45),C("click",function(){u(e);let t=p();return f(t.onActionButtonDeleteRow(t.tableRowSelected))}),S(2,"i",46)(3,"br"),l(),r(4,"p",20),c(5),h(6,"translate"),l()()}n&2&&(o(5),g(" ",M(6,1,"ACTION.DELETE")," "))}function Cp(n,a){n&1&&(r(0,"mat-header-cell",47),c(1),h(2,"translate"),l()),n&2&&(o(),g(" ",M(2,1,"TITLE.PICTURE")," "))}function vp(n,a){if(n&1&&(S(0,"img",49),h(1,"cmsthumbnail")),n&2){let e=p().$implicit;d("src",P(M(1,2,e.linkModuleFileLogoIdSrc)),ye)}}function yp(n,a){if(n&1&&(r(0,"mat-cell"),b(1,vp,2,4,"img",48),l()),n&2){let e=a.$implicit;o(),d("ngIf",(e==null||e.linkModuleFileLogoIdSrc==null?null:e.linkModuleFileLogoIdSrc.length)>0)}}function Dp(n,a){if(n&1&&(r(0,"mat-header-cell",47),c(1),l()),n&2){let e=p();o(),g(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function wp(n,a){if(n&1&&(r(0,"mat-cell"),c(1),l()),n&2){let e=a.$implicit;o(),g(" ",e.id," ")}}function Ep(n,a){if(n&1&&(r(0,"mat-header-cell",47),c(1),l()),n&2){let e=p();o(),g(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function Tp(n,a){if(n&1&&S(0,"select",52),n&2){let e=p().$implicit,i=p();d("contentService",i.contentService)("row",e)("ngStyle",$e(3,Mp,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function xp(n,a){if(n&1&&(r(0,"mat-cell",50),h(1,"statusCellClass"),S(2,"i",50),h(3,"statusIconClass"),b(4,Tp,1,5,"select",51),l()),n&2){let e=a.$implicit,i=p();d("ngClass",M(1,3,e.recordStatus)),o(2),d("ngClass",M(3,5,e.recordStatus)),o(2),d("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessEditRow)}}function Ap(n,a){if(n&1&&(r(0,"mat-header-cell",47),c(1),l()),n&2){let e=p();o(),g(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," ")}}function Pp(n,a){if(n&1&&(r(0,"mat-cell"),c(1),l()),n&2){let e=a.$implicit;o(),g(" ",e.title," ")}}function Rp(n,a){if(n&1&&(r(0,"mat-header-cell",47),c(1),l()),n&2){let e=p();o(),g(" ",e.fieldsInfo.folder==null?null:e.fieldsInfo.folder.fieldTitle," ")}}function Wp(n,a){if(n&1&&(r(0,"mat-cell"),c(1),l()),n&2){let e=a.$implicit;o(),g(" ",e.folder," ")}}function kp(n,a){if(n&1&&(r(0,"mat-header-cell",47),c(1),l()),n&2){let e=p();o(),g(" ",e.fieldsInfo.indexFile==null?null:e.fieldsInfo.indexFile.fieldTitle," ")}}function Lp(n,a){if(n&1&&(r(0,"mat-cell"),c(1),l()),n&2){let e=a.$implicit;o(),g(" ",e.indexFile," ")}}function Vp(n,a){n&1&&(r(0,"mat-header-cell"),c(1),h(2,"translate"),l()),n&2&&(o(),g(" ",M(2,1,"TITLE.OPTION")," "))}function Bp(n,a){if(n&1&&(r(0,"mat-cell",53)(1,"button",54)(2,"mat-icon"),c(3,"more_vert"),l()(),S(4,"mat-menu",null,2),l()),n&2){let e=A(5);o(),d("matMenuTriggerFor",e)}}function Gp(n,a){n&1&&S(0,"mat-header-row")}function Fp(n,a){if(n&1){let e=v();r(0,"mat-row",55),C("click",function(t){let s=u(e).$implicit,_=p();return f(_.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=u(e).$implicit,_=p();return f(_.onActionTableRowSelect(s,t))}),l()}if(n&2){let e=a.$implicit,i=p();z("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var rn=class rn extends vt{constructor(e,i,t,s,_,m,j,Y,wt,gi,Ht,_i){super(e,new Ze,Ht,s,Y);this.contentService=e;this.cmsToastrService=i;this.cmsConfirmationDialogService=t;this.tokenHelper=s;this.cmsStoreService=_;this.router=m;this.cdr=j;this.translate=Y;this.pageInfo=wt;this.themeService=gi;this.publicHelper=Ht;this.dialog=_i;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new J;this.filterDataModelQueryBuilder=[];this.dataModelCoreModuleResult=new F;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["Id","RecordStatus","Folder","IndexFile"];this.tabledisplayedColumnsMobileSource=["Id","RecordStatus","Folder","IndexFile"];this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:qt=>this.onSubmitOptionsSearch(qt)},this.filteModelContent.sortColumn="Id",this.filteModelContent.sortType=H.Descending}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>te(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Ze);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{t.isSuccess&&(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=H.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=H.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=H.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(no,{height:"90%",panelClass:e,enterAnimationDuration:X.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:X.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(oo,{height:"90%",panelClass:i,enterAnimationDuration:X.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:X.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(s=>{this.cmsToastrService.typeErrorSelected(s)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(s=>{i=s["MESSAGE.Please_Confirm"],t=s["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(s=>{if(s){let _=this.constructor.name+"contentService.ServiceDelete";this.translate.get("MESSAGE.Receiving_information").subscribe(m=>{this.publicHelper.processService.processStart(_,m,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:m=>{m.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(_)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(_)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(m=>{i.set(m,0)}),this.translate.get("MESSAGE.All").subscribe(m=>{i.set(m,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(m=>{this.publicHelper.processService.processStart(t,m,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:m=>{m.isSuccess&&(i.set("All",m.totalRowCount),this.optionsStatist.childMethods.setStatistValue(i)),this.publicHelper.processService.processStop(t)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(t)}});let s=JSON.parse(JSON.stringify(this.filteModelContent)),_=new O;_.propertyName="RecordStatus",_.value=it.Available,s.filters.push(_),this.contentService.ServiceGetCount(s).subscribe({next:m=>{m.isSuccess&&(i.set("Active",m.totalRowCount),this.optionsStatist.childMethods.setStatistValue(i)),this.publicHelper.processService.processStop(t)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(t)}})}onActionButtonPageList(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorSelected();return}this.router.navigate(["/webdesigner/page/LinkPageTemplateGuId",this.tableRowSelected.id])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}};rn.\u0275fac=function(i){return new(i||rn)(I(rt),I(N),I(qe),I(We),I(Re),I(Ne),I(L),I(V),I(Ct),I(It),I(B),I(Oe))},rn.\u0275cmp=R({type:rn,selectors:[["app-webdesigner-pagetemplate-list"]],standalone:!1,features:[U],decls:63,vars:33,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-page","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","LinkModuleFileLogoIdSrc"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","Id"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","Title"],["matColumnDef","Folder"],["matColumnDef","IndexFile"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],["style","vertical-align: middle","class","ntk-hover-zoom","aria-hidden","","height","40","width","40",3,"src",4,"ngIf"],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(i,t){if(i&1){let s=v();r(0,"app-cms-html-list",3),x("optionActionGuideNoticeDisplayChange",function(m){return u(s),T(t.viewGuideNotice,m)||(t.viewGuideNotice=m),f(m)}),C("optionOnActionButtonMemoRow",function(){return u(s),f(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return u(s),f(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return u(s),f(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return u(s),f(t.onActionButtonPrintRow())}),y(1,4),c(2," -------------------------------------- "),D(),Ee(3,5)(4,6),y(5,7),r(6,"a",8),C("click",function(){return u(s),f(t.viewGuideNotice=!t.viewGuideNotice)}),S(7,"i",9),l(),r(8,"a",8),C("click",function(){return u(s),f(t.onActionButtonReload())}),S(9,"i",10),l(),D(),y(10,11),r(11,"a",12),C("click",function(){return u(s),f(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),S(12,"mat-slide-toggle",13),c(13),h(14,"translate"),l(),r(15,"a",12),C("click",function(){return u(s),f(t.onActionButtonStatist())}),S(16,"mat-slide-toggle",13),c(17),h(18,"translate"),l(),D(),y(19,14),b(20,Sp,7,3,"div",15),D(),y(21,16),b(22,bp,7,3,"div",15)(23,Ip,7,3,"div",15),r(24,"div",17)(25,"a",18),C("click",function(){return u(s),f(t.onActionButtonPageList(t.tableRowSelected))}),S(26,"i",19)(27,"br"),l(),r(28,"p",20),c(29),h(30,"translate"),l()(),D(),y(31,21),r(32,"app-cms-search-list",22),x("optionsChange",function(m){return u(s),T(t.optionsSearch,m)||(t.optionsSearch=m),f(m)}),l(),r(33,"app-cms-statist-list",22),x("optionsChange",function(m){return u(s),T(t.optionsStatist,m)||(t.optionsStatist=m),f(m)}),l(),D(),y(34,23),r(35,"mat-table",24,0),C("matSortChange",function(){u(s);let m=A(36);return f(t.onTableSortData(m))}),y(37,25),b(38,Cp,3,3,"mat-header-cell",26)(39,yp,2,1,"mat-cell",27),D(),y(40,28),b(41,Dp,2,1,"mat-header-cell",26)(42,wp,2,1,"mat-cell",27),D(),y(43,29),b(44,Ep,2,1,"mat-header-cell",26)(45,xp,5,7,"mat-cell",30),D(),y(46,31),b(47,Ap,2,1,"mat-header-cell",26)(48,Pp,2,1,"mat-cell",27),D(),y(49,32),b(50,Rp,2,1,"mat-header-cell",26)(51,Wp,2,1,"mat-cell",27),D(),y(52,33),b(53,kp,2,1,"mat-header-cell",26)(54,Lp,2,1,"mat-cell",27),D(),y(55,34),b(56,Vp,3,3,"mat-header-cell",35)(57,Bp,6,1,"mat-cell",36),D(),b(58,Gp,1,0,"mat-header-row",37)(59,Fp,1,2,"mat-row",38),l(),D(),y(60,39),r(61,"mat-paginator",40,1),C("page",function(m){return u(s),f(t.onTablePageingData(m))}),l(),D(),l()}i&2&&(d("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),E("optionActionGuideNoticeDisplay",t.viewGuideNotice),d("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.title),o(9),z("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(3),d("checked",t.optionsSearch.data.show),o(),g("",M(14,26,"ACTION.SEARCH")," "),o(3),d("checked",t.optionsStatist.data.show),o(),g("",M(18,28,"ACTION.STATIST")," "),o(3),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessAddRow),o(2),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),o(),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),o(6),g(" ",M(30,30,"ACTION.PAGES")," "),o(3),E("options",t.optionsSearch),o(),E("options",t.optionsStatist),o(2),d("dataSource",t.tableSource),o(23),d("matHeaderRowDef",t.tabledisplayedColumns),o(),d("matRowDefColumns",t.tabledisplayedColumns),o(2),d("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",Ce(32,hp)))},dependencies:[De,W,et,Ae,ae,G,lt,st,He,Pe,dt,ct,pt,ut,ht,ft,mt,Mt,gt,_t,St,bt,je,Ue,Qe,ze,yt,k,Wt,Ke,Vt],encapsulation:2});var ro=rn;var Np=["*"];function Op(n,a){if(n&1&&(r(0,"label",12),c(1),l()),n&2){let e=p();d("for",Ve("app-cms-site-selector-",e.id)),o(),w(e.optionLabel)}}function Hp(n,a){if(n&1&&(r(0,"mat-option",13)(1,"span"),c(2),l()()),n&2){let e=a.$implicit,i=p();d("value",e)("disabled",i.optionDisabled),o(2),w(i.displayOption(e))}}function qp(n,a){n&1&&S(0,"i",14)}function jp(n,a){n&1&&S(0,"i",15)}function Up(n,a){if(n&1){let e=v();r(0,"i",16),C("click",function(){u(e);let t=p();return f(t.onActionSelectClear())}),l()}}function Qp(n,a){n&1&&(r(0,"em"),c(1),h(2,"translate"),l()),n&2&&(o(),g("(",M(2,1,"TITLE.Necessary"),")"))}var fi=class fi{constructor(a,e,i,t,s){this.coreEnumService=a;this.translate=e;this.cdr=i;this.publicHelper=t;this.categoryService=s;this.id=++fi.nextId;this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new F;this.dataModelSelect=new Xe;this.formControl=new ei;this.optionDisabled=!1;this.optionRequired=!1;this.optionSelectFirstItem=!1;this.optionPlaceholder="";this.optionLabel="";this.optionChange=new Et;this.optionReload=()=>this.onActionButtonReload();this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(a){this.onActionSelectForce(a)}ngOnInit(){this.loadOptions(),(!this.optionLabel||this.optionLabel.length==0&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder)}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(Kt(""),Qt(1500),zt(),Jt(a=>typeof a=="string"||typeof a=="number"?this.DataGetAll(a||""):[]))}displayFn(a){return a?a.titleML:void 0}displayOption(a){return a?a.titleML:void 0}DataGetAll(a){return te(this,null,function*(){let e=new J;e.rowPerPage=20,e.accessLoad=!0;let i=new O;i.propertyName="Title",i.value=a,i.searchType=Fe.Contains,i.clauseType=Ge.Or,e.filters.push(i),a&&typeof+a=="number"&&+a>0&&(i=new O,i.propertyName="Id",i.value=a,i.searchType=Fe.Equal,i.clauseType=Ge.Or,e.filters.push(i));let t=this.constructor.name+"categoryService.ServiceGetAll";return this.translate.get("MESSAGE.Receiving_information").subscribe(s=>{this.publicHelper.processService.processStart(t,s,this.constructorInfoAreaId)}),yield jt(this.categoryService.ServiceGetAll(e)).then(s=>(this.dataModelResult=s,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||this.dataModelSelect.id.length<=0)&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0])},1e3),this.onActionSelect(this.dataModelResult.listItems[0])),this.publicHelper.processService.processStop(t),s.listItems))})}onActionSelect(a){this.optionDisabled||(this.dataModelSelect=a,this.optionChange.emit(this.dataModelSelect))}onActionSelectClear(){this.optionDisabled||(this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null))}push(a){return this.filteredOptions.pipe(Ut(e=>(e.find(i=>i.id===a.id)||e.push(a),e)))}onActionSelectForce(a){if(typeof a=="string"&&a.length>0){if(this.dataModelSelect&&this.dataModelSelect.id===a)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(e=>e.id===a)){let e=this.dataModelResult.listItems.find(i=>i.id===a);this.dataModelSelect=e,this.formControl.setValue(e);return}this.categoryService.ServiceGetOneById(a).subscribe({next:e=>{e.isSuccess&&(this.filteredOptions=this.push(e.item),this.dataModelSelect=e.item,this.formControl.setValue(e.item),this.optionChange.emit(e.item))}});return}if(typeof a==typeof Xe){this.filteredOptions=this.push(a),this.dataModelSelect=a,this.formControl.setValue(a);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new Xe,this.loadOptions()}};fi.nextId=0,fi.\u0275fac=function(e){return new(e||fi)(I(Q),I(V),I(L),I(B),I(Pt))},fi.\u0275cmp=R({type:fi,selectors:[["app-webdesigner-pagedependency-selector"]],inputs:{optionDisabled:"optionDisabled",optionRequired:"optionRequired",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionLabel:"optionLabel",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange"},standalone:!1,ngContentSelectors:Np,decls:15,vars:24,consts:[["matauto","matAutocomplete"],[1,"input-style","has-borders","has-icon","input-style-always-active","validate-field","mb-4","loader-container"],[3,"optionsInfoAreaId"],["class","color-highlight",3,"for",4,"ngIf"],["type","text","aria-label","Assignee","matInput","",3,"placeholder","formControl","matAutocomplete","required","id"],[3,"optionSelected","displayWith"],[3,"value","disabled",4,"ngFor","ngForOf"],["class","fa fa-info invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],["class","fa fa-times action color-red-dark",3,"click",4,"ngIf"],[1,"fa","fa-rotate-right","action","color-green-dark",2,"margin-left","20px",3,"click","title"],[4,"ngIf"],[1,"color-highlight",3,"for"],[3,"value","disabled"],[1,"fa","fa-info","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"fa","fa-times","action","color-red-dark",3,"click"]],template:function(e,i){if(e&1){let t=v();Yt(),r(0,"div",1),S(1,"app-progress-spinner",2),b(2,Op,2,3,"label",3),S(3,"input",4),r(4,"mat-autocomplete",5,0),C("optionSelected",function(_){return u(t),f(i.onActionSelect(_.option.value))}),b(6,Hp,3,3,"mat-option",6),h(7,"async"),l(),b(8,qp,1,0,"i",7)(9,jp,1,0,"i",8)(10,Up,1,0,"i",9),r(11,"i",10),h(12,"translate"),C("click",function(){return u(t),f(i.onActionButtonReload())}),l(),b(13,Qp,3,3,"em",11),Xt(14),l()}if(e&2){let t=A(5);o(),d("optionsInfoAreaId",i.constructorInfoAreaId),o(),d("ngIf",(i.optionLabel==null?null:i.optionLabel.length)>0),o(),d("placeholder",P(i.optionPlaceholder))("id",Ve("app-cms-site-selector-",i.id))("formControl",i.formControl)("matAutocomplete",t)("required",i.optionRequired),Tt("disabled",i.optionDisabled?!0:null),o(),d("displayWith",i.displayFn),o(2),d("ngForOf",M(7,20,i.filteredOptions)),o(2),d("ngIf",!i.formControl.valid),o(),d("ngIf",i.optionRequired&&i.formControl.valid),o(),d("ngIf",(i.dataModelSelect==null||i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0),o(),z("rotation360",i.publicHelper.processService.process.inRunArea[i.constructorInfoAreaId]),d("title",P(M(12,22,"ACTION.RELOAD"))),o(2),d("ngIf",i.optionRequired&&(!i.dataModelSelect||!i.dataModelSelect.id||(i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)===0))}},dependencies:[Be,W,Z,K,$,ii,oi,ni,ri,G,q,tt,k],encapsulation:2});var an=fi;var Yp=["vform"];function Xp(n,a){if(n&1){let e=v();r(0,"app-cms-enum-record-status-selector",29),x("modelChange",function(t){u(e);let s=p();return T(s.dataModel.recordStatus,t)||(s.dataModel.recordStatus=t),f(t)}),l()}if(n&2){let e=p();E("model",e.dataModel.recordStatus),d("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Zp(n,a){n&1&&S(0,"i",35)}function $p(n,a){n&1&&S(0,"i",36)}function em(n,a){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),h(4,"translate"),l()()),n&2){let e=p(2);o(),g(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," is "),o(2),w(M(4,2,"MESSAGE.required"))}}function tm(n,a){if(n&1){let e=v();r(0,"div",23)(1,"label",30),c(2),l(),r(3,"input",31,5),x("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.title,t)||(s.dataModel.title=t),f(t)}),l(),b(5,Zp,1,0,"i",32)(6,$p,1,0,"i",33),r(7,"em"),c(8),l(),b(9,em,5,4,"mat-error",34),l()}if(n&2){let e=A(4),i=p();o(2),w(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(),d("placeholder",P(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle)),E("ngModel",i.dataModel.title),d("disabled",!(i.fieldsInfo.title!=null&&i.fieldsInfo.title.accessAddField)),o(2),d("ngIf",!e.value),o(),d("ngIf",e.value),o(2),g("",e.value.length," / 100"),o(),d("ngIf",e.errors==null?null:e.errors.required)}}function im(n,a){if(n&1){let e=v();r(0,"app-webdesigner-page-selector",37),h(1,"translate"),C("optionChange",function(t){u(e);let s=p();return f(s.onActionSelectParent(t))}),l()}if(n&2){let e=p();d("optionDisabled",!(e.fieldsInfo.linkPageParentGuId!=null&&e.fieldsInfo.linkPageParentGuId.accessAddField))("optionSelectForce",e.dataModel.linkPageParentGuId)("optionMasterPage",!0)("optionMasterTemplateId",e.dataModel.linkPageTemplateGuId)("optionPlaceholder",M(1,5,"TITLE.parent_page"))}}function nm(n,a){if(n&1){let e=v();r(0,"div",38)(1,"div",39)(2,"h5",40),c(3),l()(),r(4,"div",41)(5,"div",42)(6,"input",43),x("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.pageDependencyIsDefaultPage,t)||(s.dataModel.pageDependencyIsDefaultPage=t),f(t)}),l(),S(7,"label",44),l()()()}if(n&2){let e=p();o(3),g(" ",e.fieldsInfo.pageDependencyIsDefaultPage==null?null:e.fieldsInfo.pageDependencyIsDefaultPage.fieldTitle," "),o(3),E("ngModel",e.dataModel.pageDependencyIsDefaultPage)}}function om(n,a){if(n&1){let e=v();r(0,"app-cms-sitecategory-selector",45),h(1,"translate"),C("optionChange",function(t){u(e);let s=p();return f(s.onActionSelectCategory(t))}),l()}if(n&2){let e=p();d("optionSelectForce",e.dataModel.pageDependencyIsDefaultPageLinkSiteCategoryId)("optionPlaceholder",M(1,3,"TITLE.Website_Type"))("optionDisabled",!(e.fieldsInfo.pageDependencyIsDefaultPageLinkSiteCategoryId!=null&&e.fieldsInfo.pageDependencyIsDefaultPageLinkSiteCategoryId.accessAddField))}}function rm(n,a){if(n&1){let e=v();r(0,"mat-chip",46),C("removed",function(){let t=u(e).$implicit,s=p();return f(s.removeTag(t))}),c(1),r(2,"button",47)(3,"mat-icon"),c(4,"cancel"),l()()()}if(n&2){let e=a.$implicit;o(),g(" ",e," ")}}function am(n,a){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),h(4,"translate"),l()()),n&2){let e=p(2);o(),g(" ",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle," is "),o(2),w(M(4,2,"MESSAGE.required"))}}function lm(n,a){if(n&1){let e=v();r(0,"div",23)(1,"label",48),c(2),l(),r(3,"textarea",49,6),x("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.description,t)||(s.dataModel.description=t),f(t)}),c(5,"        "),l(),r(6,"em"),c(7),l(),b(8,am,5,4,"mat-error",34),l()}if(n&2){let e=A(4),i=p();o(2),w(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle),o(),d("placeholder",P(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle)),E("ngModel",i.dataModel.description),o(4),g("",e.value.length," / 500"),o(),d("ngIf",e.errors==null?null:e.errors.required)}}function sm(n,a){if(n&1){let e=v();r(0,"div",50)(1,"button",51),C("click",function(){u(e);let t=p();return f(t.onFormCancel())}),S(2,"i",52),c(3),h(4,"translate"),l(),r(5,"button",53),S(6,"i",54),c(7),h(8,"translate"),l()()}if(n&2){p();let e=A(9);o(3),g(" ",M(4,3,"ACTION.CANCEL")," "),o(2),d("disabled",!e.form.valid),o(2),g(" ",M(8,5,"ACTION.SAVE")," ")}}var ln=class ln extends kt{constructor(e,i,t,s,_,m,j,Y){super(s,new Ye,m,Y);this.data=e;this.dialogRef=i;this.webDesignerEnumService=t;this.webDesignerMainPageService=s;this.cmsToastrService=_;this.publicHelper=m;this.cdr=j;this.translate=Y;this.requestLinkPageDependencyGuId="";this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.keywordDataModel=[];this.appLanguage="fa";this.dataModelResult=new F;this.dataModel=new Ye;this.formInfo=new re;this.dataModelEnumPageAbilityTypeResult=new F;this.fileManagerOpenForm=!1;this.addOnBlurTag=!0;this.separatorKeysCodes=[13];this.publicHelper.processService.cdr=this.cdr,e&&(this.requestLinkPageDependencyGuId=e.linkPageDependencyGuId+""),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),this.requestLinkPageDependencyGuId.length>0&&(this.dataModel.linkPageDependencyGuId=this.requestLinkPageDependencyGuId)}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess(),this.getEnumPageAbilityType()}getEnumPageAbilityType(){this.webDesignerEnumService.ServicePageAbilityTypeEnum().subscribe({next:e=>{this.dataModelEnumPageAbilityTypeResult=e}})}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"webDesignerMainPageService.ServiceAdd";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.webDesignerMainPageService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e)}})}onActionSelectDependency(e){if(!e||e.id?.length<=0){this.translate.get(["MESSAGE.Specify_the_display_location","MESSAGE.information_screen_is_not_clear"]).subscribe(i=>{this.cmsToastrService.typeErrorMessage(i["MESSAGE.Specify_the_display_location"],i["MESSAGE.information_screen_is_not_clear"])});return}this.dataModel.linkPageDependencyGuId=e.id}onActionSelectTemplate(e){if(!e||e.id?.length<=0){this.translate.get(["MESSAGE.Specify_the_template","MESSAGE.Screen_template_is_not_clear"]).subscribe(i=>{this.cmsToastrService.typeErrorMessage(i["MESSAGE.Specify_the_template"],i["MESSAGE.Screen_template_is_not_clear"])});return}this.dataModel.linkPageTemplateGuId=e.id}onActionSelectParent(e){this.dataModel.linkPageParentGuId="",e&&e.id&&e.id.length>0&&(this.dataModel.linkPageParentGuId=e.id)}onFormSubmit(){if(this.formGroup.valid){if(this.formInfo.submitButtonEnabled=!1,this.dataModel.keyword="",this.keywordDataModel&&this.keywordDataModel.length>0){let e=[];this.keywordDataModel.forEach(i=>{i.display?e.push(i.display):e.push(i)}),e&&e.length>0&&(this.dataModel.keyword=e.join(","))}this.DataAddContent()}}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}onActionSelectCategory(e){if(!e||e.id<=0){this.translate.get("MESSAGE.category_of_site_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.pageDependencyIsDefaultPageLinkSiteCategoryId=e.id}addTag(e){let i=(e.value||"").trim();i&&this.keywordDataModel.push(i),e.chipInput.clear()}removeTag(e){let i=this.keywordDataModel.indexOf(e);i>=0&&this.keywordDataModel.splice(i,1)}};ln.\u0275fac=function(i){return new(i||ln)(I(be),I(Se),I(xi),I(ot),I(N),I(B),I(L),I(V))},ln.\u0275cmp=R({type:ln,selectors:[["app-webdesigner-page-add"]],viewQuery:function(i,t){if(i&1&&ie(Yp,5),i&2){let s;ne(s=oe())&&(t.formGroup=s.first)}},standalone:!1,features:[U],decls:45,vars:41,consts:[["vform","ngForm"],["chipList",""],["tagInput",""],["SpecialIdendity",""],["SpecialUrlParameter",""],["Title",""],["Description",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder","optionSelectFirstItem"],[3,"optionDisabled","optionSelectForce","optionMasterPage","optionMasterTemplateId","optionPlaceholder","optionChange",4,"ngIf"],["class","d-flex mb-3",4,"ngIf"],[3,"optionSelectForce","optionPlaceholder","optionDisabled","optionChange",4,"ngIf"],["appearance","fill",2,"width","100%"],["aria-label","'TITLE.key_word'|translate"],[3,"removed",4,"ngFor","ngForOf"],[3,"matChipInputTokenEnd","placeholder","matChipInputAddOnBlur","matChipInputFor","matChipInputSeparatorKeyCodes"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.specialIdendity",1,"color-highlight"],["matInput","","type","text","name","dataModel.specialIdendity","type","text","placeholder","32323","minlength","0","maxlength","500","id","dataModel.specialIdendity",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.specialUrlParameter",1,"color-highlight"],["matInput","","type","text","name","dataModel.specialUrlParameter","type","text","placeholder","esfahan","minlength","0","maxlength","500","id","dataModel.specialUrlParameter",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["class","fa fa-times invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],[4,"ngIf"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[3,"optionChange","optionDisabled","optionSelectForce","optionMasterPage","optionMasterTemplateId","optionPlaceholder"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.pageDependencyIsDefaultPage",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.pageDependencyIsDefaultPage","name","dataModel.pageDependencyIsDefaultPage",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.pageDependencyIsDefaultPage",1,"custom-control-label"],[3,"optionChange","optionSelectForce","optionPlaceholder","optionDisabled"],[3,"removed"],["type","button","matChipRemove","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=v();r(0,"div",7),S(1,"app-progress-spinner",8),r(2,"div",9)(3,"p",10),c(4),l(),r(5,"p"),c(6),h(7,"translate"),l(),r(8,"form",11,0),C("ngSubmit",function(){return u(s),f(t.onFormSubmit())}),b(10,Xp,1,5,"app-cms-enum-record-status-selector",12)(11,tm,10,9,"div",13),r(12,"app-webdesigner-pagedependency-selector",14),h(13,"translate"),C("optionChange",function(m){return u(s),f(t.onActionSelectDependency(m))}),l(),r(14,"app-webdesigner-pagetemplate-selector",15),h(15,"translate"),C("optionChange",function(m){return u(s),f(t.onActionSelectTemplate(m))}),l(),b(16,im,2,7,"app-webdesigner-page-selector",16)(17,nm,8,2,"div",17)(18,om,2,5,"app-cms-sitecategory-selector",18),r(19,"mat-form-field",19)(20,"mat-label"),c(21),h(22,"translate"),l(),r(23,"mat-chip-grid",20,1),b(25,rm,5,1,"mat-chip",21),r(26,"input",22,2),h(28,"translate"),C("matChipInputTokenEnd",function(m){return u(s),f(t.addTag(m))}),l()()(),r(29,"div",23)(30,"label",24),c(31),l(),r(32,"input",25,3),x("ngModelChange",function(m){return u(s),T(t.dataModel.specialIdendity,m)||(t.dataModel.specialIdendity=m),f(m)}),l(),r(34,"em"),c(35),l()(),r(36,"div",23)(37,"label",26),c(38),l(),r(39,"input",27,4),x("ngModelChange",function(m){return u(s),T(t.dataModel.specialUrlParameter,m)||(t.dataModel.specialUrlParameter=m),f(m)}),l(),r(41,"em"),c(42),l()(),b(43,lm,9,6,"div",13)(44,sm,9,7,"div",28),l()()()}if(i&2){let s=A(24),_=A(33),m=A(40);o(),d("optionsInfoAreaId",t.constructorInfoAreaId),o(3),g(" ",t.formInfo.formTitle," "),o(2),g(" ",M(7,31,"TITLE.Be_Careful_When_Entering_Information")," "),o(4),d("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),o(),d("ngIf",t.fieldsInfo.title==null?null:t.fieldsInfo.title.accessWatchField),o(),d("optionDisabled",!(t.fieldsInfo.linkPageDependencyGuId!=null&&t.fieldsInfo.linkPageDependencyGuId.accessAddField))("optionSelectForce",t.dataModel.linkPageDependencyGuId)("optionPlaceholder",M(13,33,"TITLE.Show_place")),o(2),d("optionDisabled",!(t.fieldsInfo.linkPageTemplateGuId!=null&&t.fieldsInfo.linkPageTemplateGuId.accessAddField))("optionSelectForce",t.dataModel.linkPageTemplateGuId)("optionPlaceholder",M(15,35,"TITLE.Page_template"))("optionSelectFirstItem",!0),o(2),d("ngIf",t.dataModel.linkPageTemplateGuId&&t.dataModel.linkPageTemplateGuId.length>0),o(),d("ngIf",t.fieldsInfo.pageDependencyIsDefaultPage==null?null:t.fieldsInfo.pageDependencyIsDefaultPage.accessWatchField),o(),d("ngIf",t.dataModel.pageDependencyIsDefaultPage&&(t.fieldsInfo.pageDependencyIsDefaultPageLinkSiteCategoryId==null?null:t.fieldsInfo.pageDependencyIsDefaultPageLinkSiteCategoryId.accessWatchField)),o(3),w(M(22,37,"TITLE.Choose_keywords_relative_to_the_content")),o(4),d("ngForOf",t.keywordDataModel),o(),d("placeholder",M(28,39,"TITLE.key_word"))("matChipInputAddOnBlur",t.addOnBlurTag)("matChipInputFor",s)("matChipInputSeparatorKeyCodes",t.separatorKeysCodes),o(5),w(t.fieldsInfo.specialIdendity==null?null:t.fieldsInfo.specialIdendity.fieldTitle),o(),E("ngModel",t.dataModel.specialIdendity),d("disabled",!(t.fieldsInfo.specialIdendity!=null&&t.fieldsInfo.specialIdendity.accessAddField)),o(3),g("",_.value.length," / 500"),o(3),w(t.fieldsInfo.specialUrlParameter==null?null:t.fieldsInfo.specialUrlParameter.fieldTitle),o(),E("ngModel",t.dataModel.specialUrlParameter),d("disabled",!(t.fieldsInfo.specialUrlParameter!=null&&t.fieldsInfo.specialUrlParameter.accessAddField)),o(3),g("",m.value.length," / 500"),o(),d("ngIf",t.fieldsInfo.description==null?null:t.fieldsInfo.description.accessWatchField),o(),d("ngIf",t.formInfo.submitButtonEnabled)}},dependencies:[Be,W,ue,Z,Rt,K,ce,$,_e,he,me,pe,Pn,Rn,Wn,An,xn,En,Me,ae,G,Ie,Un,q,pi,an,ui,k],encapsulation:2});var ao=ln;var dm=["vform"];function cm(n,a){if(n&1){let e=v();r(0,"app-cms-enum-record-status-selector",33),x("modelChange",function(t){u(e);let s=p();return T(s.dataModel.recordStatus,t)||(s.dataModel.recordStatus=t),f(t)}),l()}if(n&2){let e=p();E("model",e.dataModel.recordStatus),d("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function pm(n,a){if(n&1&&(r(0,"option",34),c(1),l()),n&2){let e=a.$implicit;d("ngValue",e.value),o(),g(" ",e.description," ")}}function mm(n,a){n&1&&(r(0,"mat-error"),c(1," PageAbilityType is "),r(2,"strong"),c(3),h(4,"translate"),l()()),n&2&&(o(3),w(M(4,1,"MESSAGE.required")))}function um(n,a){n&1&&S(0,"i",39)}function fm(n,a){n&1&&S(0,"i",40)}function gm(n,a){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),h(4,"translate"),l()()),n&2){let e=p(2);o(),g(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," is "),o(2),w(M(4,2,"MESSAGE.required"))}}function _m(n,a){if(n&1){let e=v();r(0,"div",14)(1,"label",35),c(2),l(),r(3,"input",36,6),x("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.title,t)||(s.dataModel.title=t),f(t)}),l(),b(5,um,1,0,"i",37)(6,fm,1,0,"i",38),r(7,"em"),c(8),l(),b(9,gm,5,4,"mat-error",18),l()}if(n&2){let e=A(4),i=p();o(2),w(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(),d("placeholder",P(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle)),E("ngModel",i.dataModel.title),d("disabled",!(i.fieldsInfo.title!=null&&i.fieldsInfo.title.accessEditField)),o(2),d("ngIf",!e.value),o(),d("ngIf",e.value),o(2),g("",e.value.length," / 100"),o(),d("ngIf",e.errors==null?null:e.errors.required)}}function hm(n,a){if(n&1){let e=v();r(0,"app-webdesigner-page-selector",41),h(1,"translate"),C("optionChange",function(t){u(e);let s=p();return f(s.onActionSelectParent(t))}),l()}if(n&2){let e=p();d("optionDisabled",!(e.fieldsInfo.linkPageParentGuId!=null&&e.fieldsInfo.linkPageParentGuId.accessEditField))("optionSelectForce",e.dataModel.linkPageParentGuId)("optionMasterPage",!0)("optionMasterTemplateId",e.dataModel.linkPageTemplateGuId)("optionPlaceholder",M(1,5,"TITLE.parent_page"))}}function Mm(n,a){if(n&1){let e=v();r(0,"div",42)(1,"div",43)(2,"h5",44),c(3),l()(),r(4,"div",45)(5,"div",46)(6,"input",47),x("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.pageDependencyIsDefaultPage,t)||(s.dataModel.pageDependencyIsDefaultPage=t),f(t)}),l(),S(7,"label",48),l()()()}if(n&2){let e=p();o(3),g(" ",e.fieldsInfo.pageDependencyIsDefaultPage==null?null:e.fieldsInfo.pageDependencyIsDefaultPage.fieldTitle," "),o(3),E("ngModel",e.dataModel.pageDependencyIsDefaultPage)}}function Sm(n,a){if(n&1){let e=v();r(0,"app-cms-sitecategory-selector",49),h(1,"translate"),C("optionChange",function(t){u(e);let s=p();return f(s.onActionSelectCategory(t))}),l()}if(n&2){let e=p();d("optionSelectForce",e.dataModel.pageDependencyIsDefaultPageLinkSiteCategoryId)("optionPlaceholder",M(1,3,"TITLE.Website_Type"))("optionDisabled",!(e.fieldsInfo.pageDependencyIsDefaultPageLinkSiteCategoryId!=null&&e.fieldsInfo.pageDependencyIsDefaultPageLinkSiteCategoryId.accessEditField))}}function bm(n,a){if(n&1){let e=v();r(0,"mat-chip",50),C("removed",function(){let t=u(e).$implicit,s=p();return f(s.removeTag(t))}),c(1),r(2,"button",51)(3,"mat-icon"),c(4,"cancel"),l()()()}if(n&2){let e=a.$implicit;o(),g(" ",e," ")}}function Im(n,a){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),h(4,"translate"),l()()),n&2){let e=p(2);o(),g(" ",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle," is "),o(2),w(M(4,2,"MESSAGE.required"))}}function Cm(n,a){if(n&1){let e=v();r(0,"div",14)(1,"label",52),c(2),l(),r(3,"textarea",53,7),x("ngModelChange",function(t){u(e);let s=p();return T(s.dataModel.description,t)||(s.dataModel.description=t),f(t)}),c(5,"        "),l(),r(6,"em"),c(7),l(),b(8,Im,5,4,"mat-error",18),l()}if(n&2){let e=A(4),i=p();o(2),w(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle),o(),d("placeholder",P(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle)),E("ngModel",i.dataModel.description),o(4),g("",e.value.length," / 500"),o(),d("ngIf",e.errors==null?null:e.errors.required)}}function vm(n,a){if(n&1){let e=v();r(0,"div",54)(1,"button",55),C("click",function(){u(e);let t=p();return f(t.onFormCancel())}),S(2,"i",56),c(3),h(4,"translate"),l(),r(5,"button",57),S(6,"i",58),c(7),h(8,"translate"),l()()}if(n&2){p();let e=A(9);o(3),g(" ",M(4,3,"ACTION.CANCEL")," "),o(2),d("disabled",!e.form.valid),o(2),g(" ",M(8,5,"ACTION.SAVE")," ")}}var sn=class sn extends Lt{constructor(e,i,t,s,_,m,j,Y){super(s,new Ye,Y,m);this.data=e;this.dialogRef=i;this.webDesignerEnumService=t;this.webDesignerMainPageService=s;this.cmsToastrService=_;this.translate=m;this.cdr=j;this.publicHelper=Y;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.keywordDataModel=[];this.appLanguage="fa";this.dataModel=new Ye;this.formInfo=new re;this.dataModelEnumPageAbilityTypeResult=new F;this.fileManagerOpenForm=!1;this.addOnBlurTag=!0;this.separatorKeysCodes=[13];this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id+""),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.getEnumPageAbilityType()}getEnumPageAbilityType(){this.webDesignerEnumService.ServicePageAbilityTypeEnum().subscribe({next:e=>{this.dataModelEnumPageAbilityTypeResult=e}})}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"webDesignerMainPageService.ServiceGetOneById";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.webDesignerMainPageService.setAccessLoad(),this.webDesignerMainPageService.setAccessDataType(At.Editor),this.webDesignerMainPageService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.keywordDataModel=[],this.dataModel.keyword&&this.dataModel.keyword.length>0&&(this.keywordDataModel=this.dataModel.keyword.split(",")),this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.submitResultMessage=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.webDesignerMainPageService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e)}})}onActionSelectParent(e){this.dataModel.linkPageParentGuId=e.id}onActionSelectDependency(e){if(!e||e.id?.length<=0){this.translate.get(["MESSAGE.Specify_the_display_location","MESSAGE.information_screen_is_not_clear"]).subscribe(i=>{this.cmsToastrService.typeErrorMessage(i["MESSAGE.Specify_the_display_location"],i["MESSAGE.information_screen_is_not_clear"])});return}this.dataModel.linkPageDependencyGuId=e.id}onActionSelectTemplate(e){if(!e||e.id?.length<=0){this.translate.get(["MESSAGE.Specify_the_template","MESSAGE.Screen_template_is_not_clear"]).subscribe(i=>{this.cmsToastrService.typeErrorMessage(i["MESSAGE.Specify_the_template"],i["MESSAGE.Screen_template_is_not_clear"])});return}this.dataModel.linkPageTemplateGuId=e.id}onFormSubmit(){if(this.formGroup.valid){if(this.formInfo.submitButtonEnabled=!1,this.dataModel.keyword="",this.keywordDataModel&&this.keywordDataModel.length>0){let e=[];this.keywordDataModel.forEach(i=>{i.display?e.push(i.display):e.push(i)}),e&&e.length>0&&(this.dataModel.keyword=e.join(","))}this.DataEditContent()}}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}onActionSelectCategory(e){if(!e||e.id<=0){this.translate.get("MESSAGE.category_of_site_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.pageDependencyIsDefaultPageLinkSiteCategoryId=e.id}addTag(e){let i=(e.value||"").trim();i&&this.keywordDataModel.push(i),e.chipInput.clear()}removeTag(e){let i=this.keywordDataModel.indexOf(e);i>=0&&this.keywordDataModel.splice(i,1)}};sn.\u0275fac=function(i){return new(i||sn)(I(be),I(Se),I(xi),I(ot),I(N),I(V),I(L),I(B))},sn.\u0275cmp=R({type:sn,selectors:[["app-webdesigner-page-edit"]],viewQuery:function(i,t){if(i&1&&ie(dm,5),i&2){let s;ne(s=oe())&&(t.formGroup=s.first)}},standalone:!1,features:[U],decls:53,vars:49,consts:[["vform","ngForm"],["PageAbilityType","ngModel"],["chipList",""],["tagInput",""],["SpecialIdendity",""],["SpecialUrlParameter",""],["Title",""],["Description",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["id","dataModel.pageAbilityType","name","dataModel.pageAbilityType",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled","ngClass"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"mt-n3"],[4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],[3,"optionDisabled","optionSelectForce","optionMasterPage","optionMasterTemplateId","optionPlaceholder","optionChange",4,"ngIf"],["class","d-flex mb-3",4,"ngIf"],[3,"optionSelectForce","optionPlaceholder","optionDisabled","optionChange",4,"ngIf"],["appearance","fill",2,"width","100%"],["aria-label","'TITLE.key_word'|translate"],[3,"removed",4,"ngFor","ngForOf"],[3,"matChipInputTokenEnd","placeholder","matChipInputAddOnBlur","matChipInputFor","matChipInputSeparatorKeyCodes"],["for","dataModel.specialIdendity",1,"color-highlight"],["matInput","","type","text","name","dataModel.specialIdendity","type","text","placeholder","32323","minlength","0","maxlength","500","id","dataModel.specialIdendity",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.specialUrlParameter",1,"color-highlight"],["matInput","","type","text","name","dataModel.specialUrlParameter","type","text","placeholder","esfahan","minlength","0","maxlength","500","id","dataModel.specialUrlParameter",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"ngValue"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["class","fa fa-times invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[3,"optionChange","optionDisabled","optionSelectForce","optionMasterPage","optionMasterTemplateId","optionPlaceholder"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.pageDependencyIsDefaultPage",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.pageDependencyIsDefaultPage","name","dataModel.pageDependencyIsDefaultPage",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.pageDependencyIsDefaultPage",1,"custom-control-label"],[3,"optionChange","optionSelectForce","optionPlaceholder","optionDisabled"],[3,"removed"],["type","button","matChipRemove","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=v();r(0,"div",8),S(1,"app-progress-spinner",9),r(2,"div",10)(3,"p",11),c(4),l(),r(5,"p"),c(6),h(7,"translate"),l(),r(8,"form",12,0),C("ngSubmit",function(){return u(s),f(t.onFormSubmit())}),b(10,cm,1,5,"app-cms-enum-record-status-selector",13),r(11,"div",14)(12,"select",15,1),x("ngModelChange",function(m){return u(s),T(t.dataModel.pageAbilityType,m)||(t.dataModel.pageAbilityType=m),f(m)}),b(14,pm,2,2,"option",16),l(),r(15,"em",17),c(16),h(17,"translate"),l(),b(18,mm,5,3,"mat-error",18),l(),b(19,_m,10,9,"div",19),r(20,"app-webdesigner-pagedependency-selector",20),h(21,"translate"),C("optionChange",function(m){return u(s),f(t.onActionSelectDependency(m))}),l(),r(22,"app-webdesigner-pagetemplate-selector",20),h(23,"translate"),C("optionChange",function(m){return u(s),f(t.onActionSelectTemplate(m))}),l(),b(24,hm,2,7,"app-webdesigner-page-selector",21)(25,Mm,8,2,"div",22)(26,Sm,2,5,"app-cms-sitecategory-selector",23),r(27,"mat-form-field",24)(28,"mat-label"),c(29),h(30,"translate"),l(),r(31,"mat-chip-grid",25,2),b(33,bm,5,1,"mat-chip",26),r(34,"input",27,3),h(36,"translate"),C("matChipInputTokenEnd",function(m){return u(s),f(t.addTag(m))}),l()()(),r(37,"div",14)(38,"label",28),c(39),l(),r(40,"input",29,4),x("ngModelChange",function(m){return u(s),T(t.dataModel.specialIdendity,m)||(t.dataModel.specialIdendity=m),f(m)}),l(),r(42,"em"),c(43),l()(),r(44,"div",14)(45,"label",30),c(46),l(),r(47,"input",31,5),x("ngModelChange",function(m){return u(s),T(t.dataModel.specialUrlParameter,m)||(t.dataModel.specialUrlParameter=m),f(m)}),l(),r(49,"em"),c(50),l()(),b(51,Cm,9,6,"div",19)(52,vm,9,7,"div",32),l()()()}if(i&2){let s=A(13),_=A(32),m=A(41),j=A(48);o(),d("optionsInfoAreaId",t.constructorInfoAreaId),o(3),g(" ",t.formInfo.formTitle," "),o(2),g(" ",M(7,37,"TITLE.Be_Careful_When_Entering_Information")," "),o(4),d("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),o(2),d("ngClass",Ve("cms-RecordStatusEnum-selector-",t.dataModel.recordStatus)),E("ngModel",t.dataModel.pageAbilityType),d("disabled",!0),o(2),d("ngForOf",t.dataModelEnumPageAbilityTypeResult.listItems),o(2),g("",M(17,39,"TITLE.Select_the_functionality_of_this_content")," "),o(2),d("ngIf",s.errors==null?null:s.errors.required),o(),d("ngIf",t.fieldsInfo.title==null?null:t.fieldsInfo.title.accessWatchField),o(),d("optionDisabled",!(t.fieldsInfo.linkPageDependencyGuId!=null&&t.fieldsInfo.linkPageDependencyGuId.accessEditField))("optionSelectForce",t.dataModel.linkPageDependencyGuId)("optionPlaceholder",M(21,41,"TITLE.Show_place")),o(2),d("optionDisabled",!(t.fieldsInfo.linkPageTemplateGuId!=null&&t.fieldsInfo.linkPageTemplateGuId.accessEditField))("optionSelectForce",t.dataModel.linkPageTemplateGuId)("optionPlaceholder",M(23,43,"TITLE.Page_template")),o(2),d("ngIf",t.dataModel.linkPageTemplateGuId&&t.dataModel.linkPageTemplateGuId.length>0),o(),d("ngIf",t.fieldsInfo.pageDependencyIsDefaultPage==null?null:t.fieldsInfo.pageDependencyIsDefaultPage.accessWatchField),o(),d("ngIf",t.dataModel.pageDependencyIsDefaultPage&&(t.fieldsInfo.pageDependencyIsDefaultPageLinkSiteCategoryId==null?null:t.fieldsInfo.pageDependencyIsDefaultPageLinkSiteCategoryId.accessWatchField)),o(3),w(M(30,45,"TITLE.Choose_keywords_relative_to_the_content")),o(4),d("ngForOf",t.keywordDataModel),o(),d("placeholder",M(36,47,"TITLE.key_word"))("matChipInputAddOnBlur",t.addOnBlurTag)("matChipInputFor",_)("matChipInputSeparatorKeyCodes",t.separatorKeysCodes),o(5),w(t.fieldsInfo.specialIdendity==null?null:t.fieldsInfo.specialIdendity.fieldTitle),o(),E("ngModel",t.dataModel.specialIdendity),d("disabled",!(t.fieldsInfo.specialIdendity!=null&&t.fieldsInfo.specialIdendity.accessEditField)),o(3),g("",m.value.length," / 500"),o(3),w(t.fieldsInfo.specialUrlParameter==null?null:t.fieldsInfo.specialUrlParameter.fieldTitle),o(),E("ngModel",t.dataModel.specialUrlParameter),d("disabled",!(t.fieldsInfo.specialUrlParameter!=null&&t.fieldsInfo.specialUrlParameter.accessEditField)),o(3),g("",j.value.length," / 500"),o(),d("ngIf",t.fieldsInfo.description==null?null:t.fieldsInfo.description.accessWatchField),o(),d("ngIf",t.formInfo.submitButtonEnabled)}},dependencies:[De,Be,W,ue,Ro,Wo,Z,Rt,Po,K,ce,$,_e,he,me,pe,Pn,Rn,Wn,An,xn,En,Me,ae,G,Ie,Un,q,pi,an,ui,k],encapsulation:2});var lo=sn;var ym=()=>[5,10,20,100],Dm=n=>({display:n});function wm(n,a){if(n&1){let e=v();r(0,"a",47),C("click",function(){u(e);let t=p();return f(t.onActionBackToParentTemplate())}),S(1,"i",48),l()}}function Em(n,a){if(n&1){let e=v();r(0,"a",47),C("click",function(){u(e);let t=p();return f(t.onActionBackToParentDependency())}),S(1,"i",48),l()}}function Tm(n,a){if(n&1){let e=v();r(0,"div",18)(1,"a",49),C("click",function(){u(e);let t=p();return f(t.onActionButtonNewRow())}),S(2,"i",50)(3,"br"),l(),r(4,"p",21),c(5),h(6,"translate"),l()()}n&2&&(o(5),g(" ",M(6,1,"ACTION.ADD")," "))}function xm(n,a){if(n&1){let e=v();r(0,"div",18)(1,"a",51),C("click",function(){u(e);let t=p();return f(t.onActionButtonEditRow(t.tableRowSelected))}),S(2,"i",52)(3,"br"),l(),r(4,"p",21),c(5),h(6,"translate"),l()()}n&2&&(o(5),g(" ",M(6,1,"ACTION.EDIT")," "))}function Am(n,a){if(n&1){let e=v();r(0,"div",18)(1,"a",53),C("click",function(){u(e);let t=p();return f(t.onActionButtonDeleteRow(t.tableRowSelected))}),S(2,"i",54)(3,"br"),l(),r(4,"p",21),c(5),h(6,"translate"),l()()}n&2&&(o(5),g(" ",M(6,1,"ACTION.DELETE")," "))}function Pm(n,a){if(n&1){let e=v();r(0,"div",18)(1,"a",19),C("click",function(){u(e);let t=p();return f(t.onActionButtonHtmlViewWithOutParent(t.tableRowSelected))}),S(2,"i",20)(3,"br"),l(),r(4,"p",21),c(5),h(6,"translate"),l()()}n&2&&(o(5),g(" ",M(6,1,"ACTION.DISPLAY_PAGE_WITHOUT_PARENT")," "))}function Rm(n,a){n&1&&(r(0,"mat-header-cell",55),c(1),h(2,"translate"),l()),n&2&&(o(),g(" ",M(2,1,"TITLE.PICTURE")," "))}function Wm(n,a){if(n&1&&S(0,"img",57),n&2){let e=p().$implicit;d("src",P(e.thumbnailImageSrc),ye)}}function km(n,a){if(n&1&&(r(0,"mat-cell"),b(1,Wm,1,2,"img",56),l()),n&2){let e=a.$implicit;o(),d("ngIf",(e==null||e.ThumbnailImageSrc==null?null:e.ThumbnailImageSrc.length)>0)}}function Lm(n,a){if(n&1&&(r(0,"mat-header-cell",55),c(1),l()),n&2){let e=p();o(),g(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function Vm(n,a){if(n&1&&(r(0,"mat-cell"),c(1),l()),n&2){let e=a.$implicit;o(),g(" ",e.id," ")}}function Bm(n,a){if(n&1&&(r(0,"mat-header-cell",55),c(1),l()),n&2){let e=p();o(),g(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function Gm(n,a){if(n&1&&S(0,"select",60),n&2){let e=p().$implicit,i=p();d("contentService",i.contentService)("row",e)("ngStyle",$e(3,Dm,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function Fm(n,a){if(n&1&&(r(0,"mat-cell",58),h(1,"statusCellClass"),S(2,"i",58),h(3,"statusIconClass"),b(4,Gm,1,5,"select",59),l()),n&2){let e=a.$implicit,i=p();d("ngClass",M(1,3,e.recordStatus)),o(2),d("ngClass",M(3,5,e.recordStatus)),o(2),d("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessEditRow)}}function Nm(n,a){if(n&1&&(r(0,"mat-header-cell",55),c(1),l()),n&2){let e=p();o(),g(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," ")}}function Om(n,a){if(n&1&&(r(0,"mat-cell"),c(1),l()),n&2){let e=a.$implicit;o(),g(" ",e.title," ")}}function Hm(n,a){if(n&1&&(r(0,"mat-header-cell",55),c(1),l()),n&2){let e=p();o(),g(" ",e.fieldsInfo.linkPageParentGuId==null?null:e.fieldsInfo.linkPageParentGuId.fieldTitle," ")}}function qm(n,a){if(n&1&&(r(0,"mat-cell"),c(1),l()),n&2){let e=a.$implicit;o(),g(" ",e.linkPageParentGuId," ")}}function jm(n,a){if(n&1&&(r(0,"mat-header-cell",55),c(1),l()),n&2){let e=p();o(),g(" ",e.fieldsInfo.linkPageDependencyGuId==null?null:e.fieldsInfo.linkPageDependencyGuId.fieldTitle," ")}}function Um(n,a){if(n&1&&(r(0,"mat-cell"),c(1),l()),n&2){let e=a.$implicit;o(),g(" ",e.linkPageDependencyGuId," ")}}function Qm(n,a){if(n&1&&(r(0,"mat-header-cell",55),c(1),l()),n&2){let e=p();o(),g(" ",e.fieldsInfo.linkPageTemplateGuId==null?null:e.fieldsInfo.linkPageTemplateGuId.fieldTitle," ")}}function zm(n,a){if(n&1&&(r(0,"mat-cell"),c(1),h(2,"cmstitle"),l()),n&2){let e=a.$implicit,i=p();o(),g(" ",xt(2,1,e.linkPageTemplateGuId,i.dataModelWebDesignerMainPageTemplateResult.listItems)," ")}}function Km(n,a){if(n&1&&(r(0,"mat-header-cell",55),c(1),l()),n&2){let e=p();o(),g(" ",e.fieldsInfo.pageDependencyIsDefaultPageLinkSiteCategoryId==null?null:e.fieldsInfo.pageDependencyIsDefaultPageLinkSiteCategoryId.fieldTitle," ")}}function Jm(n,a){if(n&1&&(r(0,"mat-cell"),c(1),h(2,"cmstitle"),l()),n&2){let e=a.$implicit,i=p();o(),g(" ",xt(2,1,e.pageDependencyIsDefaultPageLinkSiteCategoryId,i.dataModelCoreSiteCategoryResult.listItems)," ")}}function Ym(n,a){if(n&1&&(r(0,"mat-header-cell",55),c(1),l()),n&2){let e=p();o(),g(" ",e.fieldsInfo.pageDependencyIsDefaultPage==null?null:e.fieldsInfo.pageDependencyIsDefaultPage.fieldTitle," ")}}function Xm(n,a){if(n&1&&(r(0,"mat-cell"),S(1,"i",58),h(2,"boolclass"),l()),n&2){let e=a.$implicit;o(),d("ngClass",M(2,1,e.pageDependencyIsDefaultPage))}}function Zm(n,a){if(n&1&&(r(0,"mat-header-cell",55),c(1),l()),n&2){let e=p();o(),g(" ",e.fieldsInfo.classActionName==null?null:e.fieldsInfo.classActionName.fieldTitle," ")}}function $m(n,a){if(n&1&&(r(0,"mat-cell"),c(1),l()),n&2){let e=a.$implicit;o(),g(" ",e.classActionName," ")}}function e0(n,a){n&1&&(r(0,"mat-header-cell"),c(1),h(2,"translate"),l()),n&2&&(o(),g(" ",M(2,1,"TITLE.OPTION")," "))}function t0(n,a){if(n&1&&(r(0,"mat-cell",61)(1,"button",62)(2,"mat-icon"),c(3,"more_vert"),l()(),S(4,"mat-menu",null,2),l()),n&2){let e=A(5);o(),d("matMenuTriggerFor",e)}}function i0(n,a){n&1&&S(0,"mat-header-row")}function n0(n,a){if(n&1){let e=v();r(0,"mat-row",63),C("click",function(t){let s=u(e).$implicit,_=p();return f(_.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=u(e).$implicit,_=p();return f(_.onActionTableRowSelect(s,t))}),l()}if(n&2){let e=a.$implicit,i=p();z("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var dn=class dn extends vt{constructor(e,i,t,s,_,m,j,Y,wt,gi,Ht,_i,qt,pn,Er){super(e,new Ye,pn,_i,wt);this.contentService=e;this.cmsToastrService=i;this.cmsConfirmationDialogService=t;this.webDesignerMainPageTemplateService=s;this.coreSiteCategoryService=_;this.activatedRoute=m;this.router=j;this.cdr=Y;this.translate=wt;this.cmsStoreService=gi;this.themeService=Ht;this.tokenHelper=_i;this.pageInfo=qt;this.publicHelper=pn;this.dialog=Er;this.requestLinkPageParentGuId="";this.requestLinkPageTemplateGuId="";this.requestLinkPageDependencyGuId="";this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new J;this.filterDataModelQueryBuilder=[];this.dataModelWebDesignerMainPageTemplateResult=new F;this.dataModelCoreSiteCategoryResult=new F;this.tabledisplayedColumns=["ThumbnailImageSrc","Id","RecordStatus","Title","LinkPageTemplateGuId","PageDependencyIsDefaultPage","PageDependencyIsDefaultPageLinkSiteCategoryId"];this.unsubscribe=[];if(this.publicHelper.processService.cdr=this.cdr,this.activatedRoute.snapshot.paramMap.get("LinkPageTemplateGuId")&&(this.requestLinkPageTemplateGuId=this.activatedRoute.snapshot.paramMap.get("LinkPageTemplateGuId")),this.activatedRoute.snapshot.paramMap.get("LinkPageDependencyGuId")&&(this.requestLinkPageDependencyGuId=this.activatedRoute.snapshot.paramMap.get("LinkPageDependencyGuId")),this.activatedRoute.snapshot.paramMap.get("LinkPageParentGuId")&&(this.requestLinkPageParentGuId=this.activatedRoute.snapshot.paramMap.get("LinkPageParentGuId")),this.optionsSearch.parentMethods={onSubmit:Le=>this.onSubmitOptionsSearch(Le)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=H.Descending,this.requestLinkPageTemplateGuId.length>0){let Le=new O;Le.propertyName="LinkPageTemplateGuId",Le.value=this.requestLinkPageTemplateGuId,this.filteModelContent.filters.push(Le)}if(this.requestLinkPageDependencyGuId.length>0){let Le=new O;Le.propertyName="LinkPageDependencyGuId",Le.value=this.requestLinkPageDependencyGuId,this.filteModelContent.filters.push(Le)}if(this.requestLinkPageParentGuId.length>0){let Le=new O;Le.propertyName="LinkPageParentGuId",Le.value=this.requestLinkPageParentGuId,this.filteModelContent.filters.push(Le)}}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>te(this,null,function*(){this.tokenInfo=e,this.DataGetAll()}))),this.getModuleList(),this.getSiteCategory()}getModuleList(){let e=new J;e.rowPerPage=100,this.webDesignerMainPageTemplateService.ServiceGetAll(e).subscribe({next:i=>{this.dataModelWebDesignerMainPageTemplateResult=i}})}getSiteCategory(){let e=new J;e.rowPerPage=100,this.coreSiteCategoryService.ServiceGetAll(e).subscribe({next:i=>{this.dataModelCoreSiteCategoryResult=i}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tableRowsSelected=[],this.onActionTableRowSelect(new Ye);let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{t.isSuccess&&(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=H.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=H.Ascending):(H,e.start="desc"):(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=H.Descending),H,this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(ao,{height:"90%",panelClass:e,enterAnimationDuration:X.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:X.cmsViewConfig.exitAnimationDuration,data:{linkPageDependencyGuId:this.requestLinkPageDependencyGuId}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(lo,{height:"90%",panelClass:i,enterAnimationDuration:X.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:X.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(s=>{this.cmsToastrService.typeErrorSelected(s)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(s=>{i=s["MESSAGE.Please_Confirm"],t=s["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(s=>{if(s){let _=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(m=>{this.publicHelper.processService.processStart(_,m,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:m=>{m.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(_)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(_)}})}}).catch(()=>{})}onActionButtonGoToSiteCategoryList(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.onActionTableRowSelect(e),this.router.navigate(["/core/siteSiteCategory/",this.tableRowSelected.id])}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(m=>{i.set(m,0)}),this.translate.get("MESSAGE.All").subscribe(m=>{i.set(m,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(m=>{this.publicHelper.processService.processStart(t,m,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:m=>{m.isSuccess&&(i.set("All",m.totalRowCount),this.optionsStatist.childMethods.setStatistValue(i)),this.publicHelper.processService.processStop(t)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(t)}});let s=JSON.parse(JSON.stringify(this.filteModelContent)),_=new O;_.propertyName="RecordStatus",_.value=it.Available,s.filters.push(_),this.contentService.ServiceGetCount(s).subscribe({next:m=>{m.isSuccess&&(i.set("Active",m.totalRowCount),this.optionsStatist.childMethods.setStatistValue(i)),this.publicHelper.processService.processStop(t)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(t)}})}onActionButtonHtmlEditor(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorSelected();return}window.open(e.htmlBuilderUrl,"_blank")}onActionButtonHtmlView(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorSelected();return}window.open(this.dataModelResult.item.htmlPreviewByMasterUrl,"_blank")}onActionButtonSiteRouteView(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorSelected();return}this.contentService.ServiceWebRoute(e.id).subscribe({next:i=>{i.isSuccess?window.open(i.item,"_blank"):this.cmsToastrService.typeError(i.errorMessage)},error:i=>{this.cmsToastrService.typeError(i)}})}onActionButtonHtmlViewWithOutParent(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorSelected();return}window.open(this.dataModelResult.item.htmlPreviewUrl,"_blank")}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParentTemplate(){this.router.navigate(["/webdesigner/pagetemplate"])}onActionBackToParentDependency(){this.router.navigate(["/webdesigner/pagedependency"])}};dn.\u0275fac=function(i){return new(i||dn)(I(ot),I(N),I(qe),I(rt),I(Dn),I(at),I(Ne),I(L),I(V),I(Re),I(It),I(We),I(Ct),I(B),I(Oe))},dn.\u0275cmp=R({type:dn,selectors:[["app-webdesigner-page-list-grid"]],standalone:!1,features:[U],decls:92,vars:42,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-page","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-globe","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","ThumbnailImageSrc"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","Id"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","Title"],["matColumnDef","LinkPageParentGuId"],["matColumnDef","LinkPageDependencyGuId"],["matColumnDef","LinkPageTemplateGuId"],["matColumnDef","PageDependencyIsDefaultPageLinkSiteCategoryId"],["matColumnDef","PageDependencyIsDefaultPage"],["matColumnDef","ClassActionName"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],["style","vertical-align: middle","class","ntk-hover-zoom","aria-hidden","","height","40","width","40",3,"src",4,"ngIf"],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(i,t){if(i&1){let s=v();r(0,"app-cms-html-list",3),x("optionActionGuideNoticeDisplayChange",function(m){return u(s),T(t.viewGuideNotice,m)||(t.viewGuideNotice=m),f(m)}),C("optionOnActionButtonMemoRow",function(){return u(s),f(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return u(s),f(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return u(s),f(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return u(s),f(t.onActionButtonPrintRow())}),y(1,4),c(2," -------------------------------------- "),D(),Ee(3,5)(4,6),y(5,7),b(6,wm,2,0,"a",8)(7,Em,2,0,"a",8),r(8,"a",9),C("click",function(){return u(s),f(t.viewGuideNotice=!t.viewGuideNotice)}),S(9,"i",10),l(),r(10,"a",9),C("click",function(){return u(s),f(t.onActionButtonReload())}),S(11,"i",11),l(),D(),y(12,12),r(13,"a",13),C("click",function(){return u(s),f(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),S(14,"mat-slide-toggle",14),c(15),h(16,"translate"),l(),r(17,"a",13),C("click",function(){return u(s),f(t.onActionButtonStatist())}),S(18,"mat-slide-toggle",14),c(19),h(20,"translate"),l(),D(),y(21,15),b(22,Tm,7,3,"div",16),D(),y(23,17),b(24,xm,7,3,"div",16)(25,Am,7,3,"div",16),r(26,"div",18)(27,"a",19),C("click",function(){return u(s),f(t.onActionButtonHtmlEditor(t.tableRowSelected))}),S(28,"i",20)(29,"br"),l(),r(30,"p",21),c(31),h(32,"translate"),l()(),r(33,"div",18)(34,"a",19),C("click",function(){return u(s),f(t.onActionButtonHtmlView(t.tableRowSelected))}),S(35,"i",20)(36,"br"),l(),r(37,"p",21),c(38),h(39,"translate"),l()(),b(40,Pm,7,3,"div",16),r(41,"div",18)(42,"a",19),C("click",function(){return u(s),f(t.onActionButtonSiteRouteView(t.tableRowSelected))}),S(43,"i",22)(44,"br"),l(),r(45,"p",21),c(46),h(47,"translate"),l()(),D(),y(48,23),r(49,"app-cms-search-list",24),x("optionsChange",function(m){return u(s),T(t.optionsSearch,m)||(t.optionsSearch=m),f(m)}),l(),r(50,"app-cms-statist-list",24),x("optionsChange",function(m){return u(s),T(t.optionsStatist,m)||(t.optionsStatist=m),f(m)}),l(),D(),y(51,25),r(52,"mat-table",26,0),C("matSortChange",function(){u(s);let m=A(53);return f(t.onTableSortData(m))}),y(54,27),b(55,Rm,3,3,"mat-header-cell",28)(56,km,2,1,"mat-cell",29),D(),y(57,30),b(58,Lm,2,1,"mat-header-cell",28)(59,Vm,2,1,"mat-cell",29),D(),y(60,31),b(61,Bm,2,1,"mat-header-cell",28)(62,Fm,5,7,"mat-cell",32),D(),y(63,33),b(64,Nm,2,1,"mat-header-cell",28)(65,Om,2,1,"mat-cell",29),D(),y(66,34),b(67,Hm,2,1,"mat-header-cell",28)(68,qm,2,1,"mat-cell",29),D(),y(69,35),b(70,jm,2,1,"mat-header-cell",28)(71,Um,2,1,"mat-cell",29),D(),y(72,36),b(73,Qm,2,1,"mat-header-cell",28)(74,zm,3,4,"mat-cell",29),D(),y(75,37),b(76,Km,2,1,"mat-header-cell",28)(77,Jm,3,4,"mat-cell",29),D(),y(78,38),b(79,Ym,2,1,"mat-header-cell",28)(80,Xm,3,3,"mat-cell",29),D(),y(81,39),b(82,Zm,2,1,"mat-header-cell",28)(83,$m,2,1,"mat-cell",29),D(),y(84,40),b(85,e0,3,3,"mat-header-cell",41)(86,t0,6,1,"mat-cell",42),D(),b(87,i0,1,0,"mat-header-row",43)(88,n0,1,2,"mat-row",44),l(),D(),y(89,45),r(90,"mat-paginator",46,1),C("page",function(m){return u(s),f(t.onTablePageingData(m))}),l(),D(),l()}i&2&&(d("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),E("optionActionGuideNoticeDisplay",t.viewGuideNotice),d("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.title),o(6),d("ngIf",(t.requestLinkPageTemplateGuId==null?null:t.requestLinkPageTemplateGuId.length)>0),o(),d("ngIf",(t.requestLinkPageDependencyGuId==null?null:t.requestLinkPageDependencyGuId.length)>0),o(4),z("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(3),d("checked",t.optionsSearch.data.show),o(),g("",M(16,31,"ACTION.SEARCH")," "),o(3),d("checked",t.optionsStatist.data.show),o(),g("",M(20,33,"ACTION.STATIST")," "),o(3),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessAddRow),o(2),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),o(),d("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),o(6),g(" ",M(32,35,"ACTION.PAGE_DESIGN")," "),o(7),g(" ",M(39,37,"ACTION.SHOW_PAGE")," "),o(2),d("ngIf",(t.tableRowSelected==null||t.tableRowSelected.linkPageParentGuId==null?null:t.tableRowSelected.linkPageParentGuId.length)>0),o(6),g(" ",M(47,39,"ACTION.SHOW_WEB")," "),o(3),E("options",t.optionsSearch),o(),E("options",t.optionsStatist),o(2),d("dataSource",t.tableSource),o(35),d("matHeaderRowDef",t.tabledisplayedColumns),o(),d("matRowDefColumns",t.tabledisplayedColumns),o(2),d("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",Ce(41,ym)))},dependencies:[De,W,et,Ae,ae,G,lt,st,He,Pe,dt,ct,pt,ut,ht,ft,mt,Mt,gt,_t,St,bt,je,Ue,Qe,ze,yt,k,Wi,Ke,Vt,Pi],encapsulation:2});var Ot=dn;var o0=()=>[5,10,20,100];function r0(n,a){if(n&1){let e=v();r(0,"a",30),C("click",function(){u(e);let t=p();return f(t.onActionBackToParentTemplate())}),S(1,"i",31),l()}}function a0(n,a){if(n&1){let e=v();r(0,"a",30),C("click",function(){u(e);let t=p();return f(t.onActionBackToParentDependency())}),S(1,"i",31),l()}}function l0(n,a){if(n&1){let e=v();r(0,"div",16)(1,"a",32),C("click",function(){u(e);let t=p();return f(t.onActionButtonNewRow())}),S(2,"i",33)(3,"br"),l(),r(4,"p",19),c(5),h(6,"translate"),l()()}n&2&&(o(5),g(" ",M(6,1,"ACTION.ADD")," "))}function s0(n,a){if(n&1){let e=v();r(0,"div",16)(1,"a",34),C("click",function(){u(e);let t=p();return f(t.onActionButtonEditRow(t.tableRowSelected))}),S(2,"i",35)(3,"br"),l(),r(4,"p",19),c(5),h(6,"translate"),l()()}n&2&&(o(5),g(" ",M(6,1,"ACTION.EDIT")," "))}function d0(n,a){if(n&1){let e=v();r(0,"div",16)(1,"a",36),C("click",function(){u(e);let t=p();return f(t.onActionButtonDeleteRow(t.tableRowSelected))}),S(2,"i",37)(3,"br"),l(),r(4,"p",19),c(5),h(6,"translate"),l()()}n&2&&(o(5),g(" ",M(6,1,"ACTION.DELETE")," "))}function c0(n,a){if(n&1){let e=v();r(0,"div",16)(1,"a",17),C("click",function(){u(e);let t=p();return f(t.onActionButtonHtmlViewWithOutParent(t.tableRowSelected))}),S(2,"i",18)(3,"br"),l(),r(4,"p",19),c(5),h(6,"translate"),l()()}n&2&&(o(5),g(" ",M(6,1,"ACTION.DISPLAY_PAGE_WITHOUT_PARENT")," "))}function p0(n,a){if(n&1){let e=v();r(0,"div",38)(1,"mat-card",39)(2,"mat-card-header")(3,"mat-card-title"),c(4),S(5,"i",40),h(6,"statusIconClass"),l(),r(7,"mat-card-subtitle"),c(8),h(9,"translate"),l()(),S(10,"img",41),r(11,"mat-card-content"),c(12),h(13,"translate"),h(14,"cmstitle"),S(15,"br"),c(16),h(17,"translate"),h(18,"cmstitle"),S(19,"br"),c(20),h(21,"translate"),S(22,"i",40),h(23,"boolclass"),r(24,"p"),c(25),l()(),r(26,"mat-card-actions")(27,"button",42),C("click",function(t){let s=u(e).$implicit,_=p();return f(_.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=u(e).$implicit,_=p();return f(_.onActionTableRowSelect(s,t))}),r(28,"mat-icon"),c(29,"more_vert"),l()()()()()}if(n&2){let e=a.$implicit,i=p();o(4),g(" ",e.title," "),o(),d("ngClass",M(6,13,e.recordStatus)),o(3),Zt(" ",M(9,15,"TITLE.Id"),": ",e.id),o(2),d("src",P(e.thumbnailImageSrc),ye),o(2),Zt(" ",M(13,17,"TITLE.Template")," : ",xt(14,19,e.linkPageTemplateGuId,i.dataModelWebDesignerMainPageTemplateResult.listItems)," "),o(4),Zt(" ",M(17,22,"TITLE.Default_template_classification_system")," : ",xt(18,24,e.pageDependencyIsDefaultPageLinkSiteCategoryId,i.dataModelCoreSiteCategoryResult.listItems)," "),o(4),g(" ",M(21,27,"TITLE.System_default")," : "),o(2),d("ngClass",M(23,29,e.pageDependencyIsDefaultPage)),o(3),g(" ",e.description," ")}}var Ci=class Ci extends Ot{};Ci.\u0275fac=(()=>{let a;return function(i){return(a||(a=So(Ci)))(i||Ci)}})(),Ci.\u0275cmp=R({type:Ci,selectors:[["app-webdesigner-page-list"]],standalone:!1,features:[U],decls:60,vars:42,consts:[["paginator",""],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionClassBody","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-page","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-globe","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],[1,"row"],["Class","col-xl-12"],[3,"optionsInfoAreaId"],["class","col-sm-12 col-md-6 col-lg-4 col-xl-3",4,"ngFor","ngForOf"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],[1,"col-sm-12","col-md-6","col-lg-4","col-xl-3"],[1,"example-card",2,"border","groove"],[3,"ngClass"],["mat-card-image","",2,"max-height","300px",3,"src"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"click","rtclick"]],template:function(e,i){if(e&1){let t=v();r(0,"app-cms-html-list",1),x("optionActionGuideNoticeDisplayChange",function(_){return u(t),T(i.viewGuideNotice,_)||(i.viewGuideNotice=_),f(_)}),C("optionOnActionButtonMemoRow",function(){return u(t),f(i.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return u(t),f(i.onActionButtonMemo())})("optionOnActionButtonExport",function(){return u(t),f(i.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return u(t),f(i.onActionButtonPrintRow())}),y(1,2),c(2," -------------------------------------- "),D(),Ee(3,3)(4,4),y(5,5),b(6,r0,2,0,"a",6)(7,a0,2,0,"a",6),r(8,"a",7),C("click",function(){return u(t),f(i.viewGuideNotice=!i.viewGuideNotice)}),S(9,"i",8),l(),r(10,"a",7),C("click",function(){return u(t),f(i.onActionButtonReload())}),S(11,"i",9),l(),D(),y(12,10),r(13,"a",11),C("click",function(){return u(t),f(i.optionsSearch.data.show=!i.optionsSearch.data.show)}),S(14,"mat-slide-toggle",12),c(15),h(16,"translate"),l(),r(17,"a",11),C("click",function(){return u(t),f(i.onActionButtonStatist())}),S(18,"mat-slide-toggle",12),c(19),h(20,"translate"),l(),D(),y(21,13),b(22,l0,7,3,"div",14),D(),y(23,15),b(24,s0,7,3,"div",14)(25,d0,7,3,"div",14),r(26,"div",16)(27,"a",17),C("click",function(){return u(t),f(i.onActionButtonHtmlEditor(i.tableRowSelected))}),S(28,"i",18)(29,"br"),l(),r(30,"p",19),c(31),h(32,"translate"),l()(),r(33,"div",16)(34,"a",17),C("click",function(){return u(t),f(i.onActionButtonHtmlView(i.tableRowSelected))}),S(35,"i",18)(36,"br"),l(),r(37,"p",19),c(38),h(39,"translate"),l()(),b(40,c0,7,3,"div",14),r(41,"div",16)(42,"a",17),C("click",function(){return u(t),f(i.onActionButtonSiteRouteView(i.tableRowSelected))}),S(43,"i",20)(44,"br"),l(),r(45,"p",19),c(46),h(47,"translate"),l()(),D(),y(48,21),r(49,"app-cms-search-list",22),x("optionsChange",function(_){return u(t),T(i.optionsSearch,_)||(i.optionsSearch=_),f(_)}),l(),r(50,"app-cms-statist-list",22),x("optionsChange",function(_){return u(t),T(i.optionsStatist,_)||(i.optionsStatist=_),f(_)}),l(),D(),y(51,23),r(52,"div",24)(53,"div",25),S(54,"app-progress-spinner",26),r(55,"div",24),b(56,p0,30,31,"div",27),l()()(),D(),y(57,28),r(58,"mat-paginator",29,0),C("page",function(_){return u(t),f(i.onTablePageingData(_))}),l(),D(),l()}e&2&&(d("optionsListInfoAreaId",i.constructorInfoAreaId)("optionGuideNoticeKey",""),E("optionActionGuideNoticeDisplay",i.viewGuideNotice),d("optionTreeDisplay",!1)("optionClassBody","")("optionActionRowId",i.tableRowSelected==null?null:i.tableRowSelected.id)("optionActionRowDisplayMenu",i.tableRowSelect2Click)("optionSelectRowItemTitle",i.tableRowSelected==null?null:i.tableRowSelected.title),o(6),d("ngIf",(i.requestLinkPageTemplateGuId==null?null:i.requestLinkPageTemplateGuId.length)>0),o(),d("ngIf",(i.requestLinkPageDependencyGuId==null?null:i.requestLinkPageDependencyGuId.length)>0),o(4),z("rotation360",i.publicHelper.processService.process.inRunArea[i.constructorInfoAreaId]),o(3),d("checked",i.optionsSearch.data.show),o(),g("",M(16,31,"ACTION.SEARCH")," "),o(3),d("checked",i.optionsStatist.data.show),o(),g("",M(20,33,"ACTION.STATIST")," "),o(3),d("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessAddRow),o(2),d("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessEditRow),o(),d("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessDeleteRow),o(6),g(" ",M(32,35,"ACTION.PAGE_DESIGN")," "),o(7),g(" ",M(39,37,"ACTION.SHOW_PAGE")," "),o(2),d("ngIf",(i.tableRowSelected==null||i.tableRowSelected.linkPageParentGuId==null?null:i.tableRowSelected.linkPageParentGuId.length)>0),o(6),g(" ",M(47,39,"ACTION.SHOW_WEB")," "),o(3),E("options",i.optionsSearch),o(),E("options",i.optionsStatist),o(4),d("optionsInfoAreaId",i.constructorInfoAreaId),o(2),d("ngForOf",i.dataModelResult.listItems),o(2),d("length",i.dataModelResult.totalRowCount)("pageIndex",i.dataModelResult.currentPageNumber-1)("pageSize",i.dataModelResult.rowPerPage)("pageSizeOptions",Ce(41,o0)))},dependencies:[De,Be,W,Ae,Vo,No,Go,Oo,Ho,Fo,Bo,ae,He,Pe,je,Ue,q,Qe,ze,k,Wi,Ke,Pi],encapsulation:2});var vi=Ci;var cn=class cn{constructor(){this.constructorInfoAreaId=this.constructor.name}ngOnInit(){}};cn.\u0275fac=function(e){return new(e||cn)},cn.\u0275cmp=R({type:cn,selectors:[["app-web-designer"]],standalone:!1,decls:1,vars:0,template:function(e,i){e&1&&S(0,"router-outlet")},dependencies:[Ao],encapsulation:2});var so=cn;var m0=[{path:"",component:so,data:{title:"ROUTE.WEBDESIGNER"},children:[{path:"config",loadChildren:()=>import("./chunk-WJD3GJYQ.js").then(n=>n.WebDesignerConfigModule),data:{title:"ROUTE.WEBDESIGNER"}},{path:"intro",component:fn,data:{title:"ROUTE.WEBDESIGNER.INTRO"}},{path:"intro/LinkPageId/:LinkPageId",component:fn,data:{title:"ROUTE.WEBDESIGNER.INTRO"}},{path:"intro/add",component:un,data:{title:"ROUTE.WEBDESIGNER.INTRO"}},{path:"intro/add/:LinkPageId",component:un,data:{title:"ROUTE.WEBDESIGNER.INTRO"}},{path:"intro/edit/:Id",component:zn,data:{title:"ROUTE.WEBDESIGNER.INTRO"}},{path:"menu",component:Zn,data:{title:"ROUTE.WEBDESIGNER.MENU"}},{path:"logmemberinfo",component:Yn,data:{title:"ROUTE.WEBDESIGNER.LOGMEMBERINFO"}},{path:"pagetemplate",component:ro,data:{title:"ROUTE.WEBDESIGNER.PAGETEMPLATE"}},{path:"pagedependency",component:io,data:{title:"ROUTE.WEBDESIGNER.PAGEDEPENDENCY"}},{path:"page",component:vi,data:{title:"ROUTE.WEBDESIGNER.PAGE"}},{path:"page/LinkPageTemplateGuId/:LinkPageTemplateGuId",component:vi,data:{title:"ROUTE.WEBDESIGNER.PAGE"}},{path:"page/LinkPageParentGuId/:LinkPageParentGuId",component:vi,data:{title:"ROUTE.WEBDESIGNER.PAGE"}},{path:"page/LinkPageDependencyGuId/:LinkPageDependencyGuId",component:vi,data:{title:"ROUTE.WEBDESIGNER.PAGE"}},{path:"page/list-grid",component:Ot,data:{title:"ROUTE.WEBDESIGNER.PAGE"}},{path:"page/list-grid/LinkPageTemplateGuId/:LinkPageTemplateGuId",component:Ot,data:{title:"ROUTE.WEBDESIGNER.PAGE"}},{path:"page/list-grid/LinkPageParentGuId/:LinkPageParentGuId",component:Ot,data:{title:"ROUTE.WEBDESIGNER.PAGE"}},{path:"page/list-grid/LinkPageDependencyGuId/:LinkPageDependencyGuId",component:Ot,data:{title:"ROUTE.WEBDESIGNER.PAGE"}}]}],yi=class yi{};yi.\u0275fac=function(e){return new(e||yi)},yi.\u0275mod=vn({type:yi}),yi.\u0275inj=Cn({imports:[uo.forChild(m0),uo]});var co=yi;var Di=class Di{};Di.\u0275fac=function(e){return new(e||Di)},Di.\u0275mod=vn({type:Di}),Di.\u0275inj=Cn({providers:[yn,Q,yo,qe,Eo,Dn,To,Ai,$t,nt,ot,Pt,rt,wn,xi],imports:[bo,co,ko,Lo.withConfig({warnOnNgModelWithFormControl:"never"}),er,ar,nr,Uo,jo,Qo,_r,hr,pr,mr,$o]});var wr=Di;export{wr as WebDesignerModule};
