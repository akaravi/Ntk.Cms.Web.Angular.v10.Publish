import{a as L}from"./chunk-AHANMT4X.js";import{a as G}from"./chunk-SH5H7URI.js";import{f as B}from"./chunk-Y6D2OAVU.js";import{$a as H,Fc as A,Ic as j,Kc as V,Oa as x,Qb as k,Rb as w}from"./chunk-XCUKUAEM.js";import{$d as P,Fa as r,Fd as y,Kc as E,Nb as a,Oa as l,Ob as p,Pb as _,Sa as h,Ya as f,cc as R,da as g,dc as T,ea as S,jb as m,kb as o,lb as n,mb as s,tb as C,vc as D,vd as O,wb as I,yb as M,yq as v}from"./chunk-KSVKKJSG.js";import{i as b}from"./chunk-SEDBTTTN.js";function F(u,e){u&1&&s(0,"div",5)}function Q(u,e){if(u&1){let t=C();o(0,"button",14),I("click",function(){g(t);let c=M();return S(c.onActionButtonLinkTo())}),o(1,"mat-icon"),a(2,"\u2197 "),n()()}}var d=class d{constructor(e,t,i,c,U,W,q,z){this.headerService=e;this.publicHelper=t;this.cdr=i;this.cmsToastrService=c;this.dialog=U;this.translate=W;this.cmsStoreService=q;this.tokenHelper=z;this.constructorInfoAreaId=this.constructor.name;this.optionId=0;this.dataModelResult=new y;this.fieldsInfo=new Map;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr}ngOnInit(){this.optionId>0&&this.DataGetOneContent(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>b(this,null,function*(){this.DataGetOneContent()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetOneContent(){let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.headerService.setAccessLoad(),this.headerService.ServiceGetOneById(this.optionId).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),t.isSuccess?this.dataModelResult=t:this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onActionButtonLinkTo(e=this.dataModelResult.item){if(!e||!e.id||e.id>0){this.cmsToastrService.typeErrorSelectedRow();return}if(e.recordStatus!=O.Available){this.cmsToastrService.typeWarningRecordStatusNoAvailable();return}var t="";this.publicHelper.isMobile?t="dialog-fullscreen":t="dialog-min",this.dialog.open(L,{height:"90%",width:"90%",panelClass:t,enterAnimationDuration:v.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:v.cmsViewConfig.exitAnimationDuration,data:{title:e.title,urlViewContentQRCodeBase64:"",urlViewContent:e.currentSiteDomainUrl}}).afterClosed().subscribe(c=>{c&&c.dialogChangedDate})}};d.\u0275fac=function(t){return new(t||d)(l(P),l(B),l(D),l(V),l(x),l(k),l(A),l(j))},d.\u0275cmp=h({type:d,selectors:[["app-core-site-header"]],inputs:{optionId:"optionId"},standalone:!1,decls:33,vars:10,consts:[[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content"],[1,"table"],[1,"tr"],[1,"td"],[1,"td","align",2,"color","darkblue"],["class","td",4,"ngIf"],[1,"td","align"],[2,"clear","both"],[1,"td",2,"text-align","left"],["title","link to"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-highlight",3,"click",4,"ngIf"],[1,"divider","divider-margins"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"]],template:function(t,i){t&1&&(o(0,"div",0),s(1,"app-progress-spinner",1),o(2,"div",2)(3,"div",3)(4,"div",4),s(5,"div",5),o(6,"div",6)(7,"h5")(8,"b"),a(9),R(10,"translate"),n()()(),f(11,F,1,0,"div",7),n(),o(12,"div",4)(13,"div",5)(14,"b"),a(15),n(),a(16,": "),n(),o(17,"div",8),a(18),n(),s(19,"div",5)(20,"div",9),n(),o(21,"div",4)(22,"div",5)(23,"b"),a(24),n(),a(25," : "),n(),o(26,"div",8),a(27),n(),o(28,"div",10)(29,"abbr",11),f(30,Q,3,0,"button",12),n()(),s(31,"div",9),n()()()(),s(32,"div",13)),t&2&&(r(),m("optionsInfoAreaId",i.constructorInfoAreaId),r(8),p(T(10,8,"TITLE.Selected_Site")),r(2),m("ngIf",i.dataModelResult==null||i.dataModelResult.item==null?null:i.dataModelResult.item.id),r(4),_("",i.fieldsInfo.id==null?null:i.fieldsInfo.id.fieldTitle," "),r(3),p(i.dataModelResult==null||i.dataModelResult.item==null?null:i.dataModelResult.item.id),r(6),p(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),r(3),p(i.dataModelResult==null||i.dataModelResult.item==null?null:i.dataModelResult.item.title),r(3),m("ngIf",i.dataModelResult==null||i.dataModelResult.item==null?null:i.dataModelResult.item.id))},dependencies:[E,H,G,w],styles:[".table[_ngcontent-%COMP%]{display:table;border:1px solid #40a1f5;padding:2px;background:#fff;border-radius:5px}.table[_ngcontent-%COMP%]   .th[_ngcontent-%COMP%]{display:table-row;background-color:#40a1f577;color:#fff;font-weight:700}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f9f9f9}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]{display:table-row;border-bottom:1px solid #000}.table[_ngcontent-%COMP%]   .td[_ngcontent-%COMP%]{display:table-cell;padding:15px;border-bottom:1px solid #40a1f5;color:#3d7c7a}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:last-child   .td[_ngcontent-%COMP%]{border:0}.align[_ngcontent-%COMP%]{text-align:center}.clear[_ngcontent-%COMP%]{clear:both}"]});var N=d;export{N as a};
