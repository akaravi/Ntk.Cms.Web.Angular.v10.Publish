import{a as ar}from"./chunk-HJBIKAYH.js";import{a as rr,b as Ia}from"./chunk-IZAL2AV2.js";import{a as ba}from"./chunk-2JTWFKVB.js";import{a as Fi}from"./chunk-WDXY425S.js";import{a as Ko,b as Jo,c as Xo,d as Zo,e as er,f as tr,g as ir,h as yn,i as _a,j as Ca,k as ha}from"./chunk-NLZ3WR2A.js";import{a as nr,b as gn,c as vn,d as Sa,g as ya,h as ga,i as Hi,j as va,k as Ea}from"./chunk-AEHIZJD7.js";import{a as or}from"./chunk-7WEWVCA3.js";import{a as ua,b as fa}from"./chunk-S333X75T.js";import{a as li}from"./chunk-VEET42KU.js";import{a as zo}from"./chunk-6CNAHWIL.js";import{a as Yo}from"./chunk-UKCOQHTJ.js";import{a as $o}from"./chunk-646PI7XV.js";import{a as ma}from"./chunk-LH445WTQ.js";import{a as ai}from"./chunk-PP3CW4KD.js";import{a as Qo}from"./chunk-4GII3CGW.js";import{a as Sn}from"./chunk-BLPOPNDW.js";import{a as Bi}from"./chunk-7P6JSIHA.js";import{a as Yt}from"./chunk-HOX4TJ5C.js";import{a as zt}from"./chunk-6LEH56JV.js";import{a as $t}from"./chunk-6HZ6LAVJ.js";import{a as Qt}from"./chunk-XFC4RPO2.js";import{a as Vi,b as Oi,c as Ut,d as qt,e as Wt,f as pa,g as jt}from"./chunk-U4DJRPB4.js";import{a as jo}from"./chunk-DQ535E7R.js";import{a as hn}from"./chunk-SWLU2HNH.js";import{j as Uo,k as qo,l as Wo}from"./chunk-AJ356A6Z.js";import{a as Fe,b as ki,d as Ri}from"./chunk-D4UKUU3U.js";import{a as Di}from"./chunk-EWZCMXUC.js";import{a as ca}from"./chunk-F5LFLLSW.js";import{a as da}from"./chunk-5PAJK6M7.js";import{a as Li}from"./chunk-6TC4ZHRG.js";import{a as Gt}from"./chunk-FJIRYNIP.js";import{a as Ne}from"./chunk-I64KJG6Z.js";import{a as W,d as sa}from"./chunk-YXO3YZK5.js";import{a as yt,b as Go,e as Ze,f as U}from"./chunk-JFE6MAT6.js";import{$ as Ai,$a as Oo,$b as Cn,A as Je,Aa as zr,B as Ur,Ba as $r,Bb as ta,C as qr,Cb as ia,Db as na,Ea as Yr,Eb as oa,Fb as ra,Hb as ct,Ia as Ro,Ib as dt,J as ke,Ja as Do,Jb as pt,K as oi,Ka as dn,Kb as mt,L as ri,La as Kr,Lb as ut,M as Wr,Ma as Jr,Mb as ft,Na as Xr,Nb as _t,Oa as Zr,Ob as Ct,Pb as ht,Qb as St,R as kt,Ra as He,Sa as ze,Sb as aa,Ta as Z,Tc as Y,W as Pi,Wb as pn,Wc as K,X as Rt,Xb as mn,Y as ko,Yb as un,Yc as F,Z as pi,Za as Lo,Zb as fn,_ as st,_a as Vo,_b as _n,_c as Xe,a as xt,aa as Dt,ab as Bo,ba as Lt,bb as Ho,c as Nr,cb as Fo,cc as H,da as Be,dc as N,eb as de,gb as te,hc as la,kb as ea,lb as Vt,m as Ao,mb as Ot,n as oe,pb as Bt,pc as No,q as X,r as lt,s as Gr,t as Pt,u as Ue,v as xe,vb as Ht,w as At,x as xi,xa as jr,xb as Ft,ya as Qr,yb as Nt}from"./chunk-EFYREMMZ.js";import{$n as an,Ab as d,Bb as ti,Ca as ie,Cb as nt,Cd as Ie,Ce as Si,Dn as on,Eb as ot,F as Et,Fa as o,Fb as rt,Fd as Rr,Fn as Ii,Gb as at,Gd as Q,Gn as Jt,Ha as je,I as ei,Kb as D,Kc as se,Kd as L,Kn as si,Kr as O,Lb as ve,Ld as re,Mb as j,Mn as rn,Nb as Mt,Nn as To,Oa as g,Od as ee,P as bt,Pb as c,Q as It,Qb as M,Qc as Qe,Rb as h,Rn as wo,Sa as B,Sb as q,Sc as be,Td as J,Va as wr,Vb as P,Wa as we,Wb as A,Wc as Mo,Xb as k,Xd as ae,Ya as x,Yb as R,Zb as ge,Zf as Ei,_d as Ye,ac as ne,ad as xr,an as Dr,bc as Ee,bo as Vr,da as m,db as Ae,ea as u,eo as Or,fb as v,fc as _,fo as ln,gb as E,gc as C,go as Mi,hc as Ki,hn as bi,ho as di,ib as he,id as Pr,ig as ni,jb as Se,jo as Ti,kb as ye,kn as tn,ko as wt,lb as f,mb as a,mn as yi,nb as l,no as Br,ob as S,p as Zt,pd as Ar,pe as ce,po as sn,q as vt,qo as Hr,ro as wi,sb as T,sn as Lr,so as Fr,tb as w,td as vi,u as Io,ub as Le,ug as en,un as go,vb as I,vd as ii,vn as nn,vo as xo,wd as kr,wn as Tt,wo as cn,xc as G,xn as ci,xo as Po,yb as b}from"./chunk-UZHVWIGE.js";import{i as $}from"./chunk-SEDBTTTN.js";var ol=["*"];function rl(n,r){if(n&1&&(a(0,"label",3),c(1),l()),n&2){let e=d();f("for",ge("app-cms-site-selector-",e.id)),o(),M(e.optionLabel)}}function al(n,r){if(n&1&&(S(0,"img",5),_(1,"cmsthumbnail")),n&2){let e=d();f("src",R(C(1,2,e.dataModelSelect==null?null:e.dataModelSelect.linkMainImageIdSrc)),ie)}}function ll(n,r){if(n&1&&(S(0,"img",5),_(1,"cmsthumbnail")),n&2){let e=d().$implicit;f("src",R(C(1,2,e.linkMainImageIdSrc)),ie)}}function sl(n,r){if(n&1&&(a(0,"mat-option",8),v(1,ll,2,4,"img",5),a(2,"span"),c(3),l()()),n&2){let e=r.$implicit,i=d();f("value",e)("disabled",i.optionDisabled),o(),E(e.linkMainImageIdSrc?1:-1),o(2),M(i.displayOption(e))}}function cl(n,r){n&1&&S(0,"i",9)}function dl(n,r){n&1&&S(0,"i",10)}function pl(n,r){if(n&1){let e=I();a(0,"i",13),b("click",function(){m(e);let t=d();return u(t.onActionSelectClear())}),l()}}function ml(n,r){n&1&&(a(0,"em"),c(1),_(2,"translate"),l()),n&2&&(o(),h("(",C(2,1,"TITLE.Necessary"),")"))}var Ni=class Ni{constructor(r,e,i,t,s,p,y,z){this.coreEnumService=r;this.cmsToastrService=e;this.cdr=i;this.publicHelper=t;this.tokenHelper=s;this.cmsStoreService=p;this.translate=y;this.categoryService=z;this.id=++Ni.nextId;this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new Q;this.dataModelSelect=new Jt;this.formControl=new Ue;this.optionDisabled=!1;this.optionRequired=!1;this.optionSelectFirstItem=!1;this.optionPlaceholder="";this.optionLabel="";this.optionChange=new je;this.optionReload=()=>this.onActionButtonReload();this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(r){this.onActionSelectForce(r)}ngOnInit(){this.loadOptions(),this.unsubscribe.push(this.cmsStoreService.getState(r=>r.tokenInfoStore).subscribe(()=>$(this,null,function*(){this.loadOptions()}))),(!this.optionLabel||this.optionLabel.length==0&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder)}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(r=>r.unsubscribe())}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(bt(""),Et(1500),ei(),It(r=>typeof r=="string"||typeof r=="number"?this.DataGetAll(r||""):[]))}displayFn(r){return r?r.title+" # "+r.caseCode:void 0}displayOption(r){return r?r.title+" # "+r.caseCode:void 0}DataGetAll(r){return $(this,null,function*(){let e=new yi;e.rowPerPage=20,e.accessLoad=!0;let i=new L;i.propertyName="Name",i.value=r,i.searchType=J.Contains,e.filters.push(i),i=new L,i.propertyName="id",i.value=r,i.searchType=J.Equal,i.clauseType=ee.Or,e.filters.push(i),i=new L,i.propertyName="CaseCode",i.value=r,i.searchType=J.Equal,i.clauseType=ee.Or,e.filters.push(i),i=new L,i.propertyName="title",i.value=r,i.searchType=J.Contains,i.clauseType=ee.Or,e.filters.push(i),r?.length>0&&(i=new L,i.propertyName="LinkCmsUserId",i.value=r,i.searchType=J.Equal,i.clauseType=ee.Or,e.filters.push(i),i=new L,i.propertyName="aboutCustomerTel",i.value=r,i.searchType=J.Contains,i.clauseType=ee.Or,e.filters.push(i),i=new L,i.propertyName="aboutCustomerMobile",i.value=r,i.searchType=J.Contains,i.clauseType=ee.Or,e.filters.push(i));let t=this.constructor.name+"main";return this.translate.get("MESSAGE.Receiving_information").subscribe(s=>{this.publicHelper.processService.processStart(t,s,this.constructorInfoAreaId)}),yield Zt(this.categoryService.ServiceGetAll(e)).then(s=>(this.dataModelResult=s,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||this.dataModelSelect.id.length===0)&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0])},1e3),this.onActionSelect(this.dataModelResult.listItems[0])),this.publicHelper.processService.processStop(t),s.listItems))})}onActionSelect(r){this.optionDisabled||(this.dataModelSelect=r,this.optionChange.emit(this.dataModelSelect))}onActionSelectClear(){this.optionDisabled||(this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null))}push(r){return this.filteredOptions.pipe(vt(e=>(e.find(i=>i.id===r.id)||e.push(r),e)))}onActionSelectForce(r){if(typeof r=="string"&&r.length>0){if(this.dataModelSelect&&this.dataModelSelect.id===r)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(e=>e.id===r)){let e=this.dataModelResult.listItems.find(i=>i.id===r);this.dataModelSelect=e,this.formControl.setValue(e);return}this.categoryService.ServiceGetOneById(r).subscribe({next:e=>{e.isSuccess?(this.filteredOptions=this.push(e.item),this.dataModelSelect=e.item,this.formControl.setValue(e.item),this.optionChange.emit(e.item)):this.cmsToastrService.typeErrorMessage(e.errorMessage)}});return}if(typeof r==typeof Jt){this.filteredOptions=this.push(r),this.dataModelSelect=r,this.formControl.setValue(r);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new Jt,this.loadOptions()}};Ni.nextId=0,Ni.\u0275fac=function(e){return new(e||Ni)(g(ce),g(F),g(G),g(U),g(K),g(Y),g(H),g(wt))},Ni.\u0275cmp=B({type:Ni,selectors:[["app-estate-property-selector"]],inputs:{optionDisabled:"optionDisabled",optionRequired:"optionRequired",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionLabel:"optionLabel",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange"},standalone:!1,ngContentSelectors:ol,decls:18,vars:24,consts:[["matauto","matAutocomplete"],[1,"input-style","has-borders","has-icon","input-style-always-active","validate-field","mb-4","loader-container"],[3,"optionsInfoAreaId"],[1,"color-highlight",3,"for"],["matPrefix",""],["aria-hidden","","height","25","width","25",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["type","text","aria-label","Assignee","matInput","",3,"placeholder","formControl","matAutocomplete","required","id"],[3,"optionSelected","displayWith"],[3,"value","disabled"],[1,"fa","fa-info","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"fa","fa-times","action","color-red-dark"],[1,"fa","fa-rotate-right","action","color-green-dark",2,"margin-left","20px",3,"click","title"],[1,"fa","fa-times","action","color-red-dark",3,"click"]],template:function(e,i){if(e&1){let t=I();ti(),a(0,"div",1),S(1,"app-progress-spinner",2),v(2,rl,2,3,"label",3),a(3,"span",4),v(4,al,2,4,"img",5),l(),S(5,"input",6),a(6,"mat-autocomplete",7,0),b("optionSelected",function(p){return m(t),u(i.onActionSelect(p.option.value))}),Se(8,sl,4,4,"mat-option",8,he),_(10,"async"),l(),v(11,cl,1,0,"i",9),v(12,dl,1,0,"i",10),v(13,pl,1,0,"i",11),a(14,"i",12),_(15,"translate"),b("click",function(){return m(t),u(i.onActionButtonReload())}),l(),v(16,ml,3,3,"em"),nt(17),l()}if(e&2){let t=D(7);o(),f("optionsInfoAreaId",i.constructorInfoAreaId),o(),E((i.optionLabel==null?null:i.optionLabel.length)>0?2:-1),o(2),E(i.dataModelSelect&&(i.dataModelSelect!=null&&i.dataModelSelect.linkMainImageIdSrc)?4:-1),o(),f("placeholder",R(i.optionPlaceholder))("id",ge("app-cms-site-selector-",i.id))("formControl",i.formControl)("matAutocomplete",t)("required",i.optionRequired),Ae("disabled",i.optionDisabled?!0:null),o(),f("displayWith",i.displayFn),o(2),ye(C(10,20,i.filteredOptions)),o(3),E(i.formControl.valid?-1:11),o(),E(i.optionRequired&&i.formControl.valid?12:-1),o(),E((i.dataModelSelect==null||i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0?13:-1),o(),j("rotation360",i.publicHelper.processService.process.inRunArea[i.constructorInfoAreaId]),f("title",R(C(15,22,"ACTION.RELOAD"))),o(2),E(i.optionRequired&&(!i.dataModelSelect||!i.dataModelSelect.id||(i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)===0)?16:-1)}},dependencies:[oe,X,ke,Je,Dt,kt,Lt,pi,te,W,be,N,Fe],encapsulation:2});var En=Ni;var ul=["*"];function fl(n,r){if(n&1&&(a(0,"label",3),c(1),l()),n&2){let e=d();f("for",ge("app-cms-site-selector-",e.id)),o(),M(e.optionLabel)}}function _l(n,r){if(n&1&&(a(0,"mat-option",6)(1,"span"),c(2),l()()),n&2){let e=r.$implicit,i=d();f("value",e)("disabled",i.optionDisabled),o(2),M(i.displayOption(e))}}function Cl(n,r){n&1&&S(0,"i",7)}function hl(n,r){n&1&&S(0,"i",8)}function Sl(n,r){if(n&1){let e=I();a(0,"i",11),b("click",function(){m(e);let t=d();return u(t.onActionSelectClear())}),l()}}function yl(n,r){n&1&&(a(0,"em"),c(1),_(2,"translate"),l()),n&2&&(o(),h("(",C(2,1,"TITLE.Necessary"),")"))}var Gi=class Gi{constructor(r,e,i,t,s,p){this.coreEnumService=r;this.cmsToastrService=e;this.translate=i;this.cdr=t;this.publicHelper=s;this.categoryService=p;this.id=++Gi.nextId;this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new Q;this.dataModelSelect=new ci;this.formControl=new Ue;this.optionDisabled=!1;this.optionRequired=!1;this.optionSelectFirstItem=!1;this.optionPlaceholder="";this.optionLabel="";this.optionChange=new je;this.optionReload=()=>this.onActionButtonReload();this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(r){this.onActionSelectForce(r)}ngOnInit(){this.loadOptions(),(!this.optionLabel||this.optionLabel.length==0&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder)}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(bt(""),Et(1500),ei(),It(r=>typeof r=="string"||typeof r=="number"?this.DataGetAll(r||""):[]))}displayFn(r){return r?r.title:void 0}displayOption(r){return r?r.title:void 0}DataGetAll(r){return $(this,null,function*(){let e=new tn;e.rowPerPage=20,e.accessLoad=!0;let i=new L;r&&r.length>0&&(i.propertyName="title",i.value=r,i.searchType=J.Contains,i.clauseType=ee.Or,e.filters.push(i),i=new L,i.propertyName="id",i.value=r,i.searchType=J.Equal,i.clauseType=ee.Or,e.filters.push(i),i=new L,i.propertyName="description",i.value=r,i.searchType=J.Contains,i.clauseType=ee.Or,e.filters.push(i),i=new L,i.propertyName="descriptionHidden",i.value=r,i.searchType=J.Contains,i.clauseType=ee.Or,e.filters.push(i),i=new L,i.propertyName="LinkCmsUserId",i.value=r,i.searchType=J.Equal,i.clauseType=ee.Or,e.filters.push(i),i=new L,i.propertyName="contactMobiles",i.value=r,i.searchType=J.Contains,i.clauseType=ee.Or,e.filters.push(i));let t=this.constructor.name+"main";return this.translate.get("MESSAGE.Receiving_information").subscribe(s=>{this.publicHelper.processService.processStart(t,s,this.constructorInfoAreaId)}),yield Zt(this.categoryService.ServiceGetAll(e)).then(s=>(this.dataModelResult=s,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||this.dataModelSelect.id.length===0)&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0])},1e3),this.onActionSelect(this.dataModelResult.listItems[0])),this.publicHelper.processService.processStop(t),s.listItems))})}onActionSelect(r){this.optionDisabled||(this.dataModelSelect=r,this.optionChange.emit(this.dataModelSelect))}onActionSelectClear(){this.optionDisabled||(this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null))}push(r){return this.filteredOptions.pipe(vt(e=>(e.find(i=>i.id===r.id)||e.push(r),e)))}onActionSelectForce(r){if(typeof r=="string"&&r.length>0){if(this.dataModelSelect&&this.dataModelSelect.id===r)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(e=>e.id===r)){let e=this.dataModelResult.listItems.find(i=>i.id===r);this.dataModelSelect=e,this.formControl.setValue(e);return}this.categoryService.ServiceGetOneById(r).subscribe({next:e=>{e.isSuccess?(this.filteredOptions=this.push(e.item),this.dataModelSelect=e.item,this.formControl.setValue(e.item),this.optionChange.emit(e.item)):this.cmsToastrService.typeErrorMessage(e.errorMessage)}});return}if(typeof r==typeof ci){this.filteredOptions=this.push(r),this.dataModelSelect=r,this.formControl.setValue(r);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new ci,this.loadOptions()}};Gi.nextId=0,Gi.\u0275fac=function(e){return new(e||Gi)(g(ce),g(F),g(H),g(G),g(U),g(di))},Gi.\u0275cmp=B({type:Gi,selectors:[["app-estate-customer-order-selector"]],inputs:{optionDisabled:"optionDisabled",optionRequired:"optionRequired",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionLabel:"optionLabel",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange"},standalone:!1,ngContentSelectors:ul,decls:16,vars:23,consts:[["matauto","matAutocomplete"],[1,"input-style","has-borders","has-icon","input-style-always-active","validate-field","mb-4","loader-container"],[3,"optionsInfoAreaId"],[1,"color-highlight",3,"for"],["type","text","aria-label","Assignee","matInput","",3,"placeholder","formControl","matAutocomplete","required","id"],[3,"optionSelected","displayWith"],[3,"value","disabled"],[1,"fa","fa-info","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"fa","fa-times","action","color-red-dark"],[1,"fa","fa-rotate-right","action","color-green-dark",2,"margin-left","20px",3,"click","title"],[1,"fa","fa-times","action","color-red-dark",3,"click"]],template:function(e,i){if(e&1){let t=I();ti(),a(0,"div",1),S(1,"app-progress-spinner",2),v(2,fl,2,3,"label",3),S(3,"input",4),a(4,"mat-autocomplete",5,0),b("optionSelected",function(p){return m(t),u(i.onActionSelect(p.option.value))}),Se(6,_l,3,3,"mat-option",6,he),_(8,"async"),l(),v(9,Cl,1,0,"i",7),v(10,hl,1,0,"i",8),v(11,Sl,1,0,"i",9),a(12,"i",10),_(13,"translate"),b("click",function(){return m(t),u(i.onActionButtonReload())}),l(),v(14,yl,3,3,"em"),nt(15),l()}if(e&2){let t=D(5);o(),f("optionsInfoAreaId",i.constructorInfoAreaId),o(),E((i.optionLabel==null?null:i.optionLabel.length)>0?2:-1),o(),f("placeholder",R(i.optionPlaceholder))("id",ge("app-cms-site-selector-",i.id))("formControl",i.formControl)("matAutocomplete",t)("required",i.optionRequired),Ae("disabled",i.optionDisabled?!0:null),o(),f("displayWith",i.displayFn),o(2),ye(C(8,19,i.filteredOptions)),o(3),E(i.formControl.valid?-1:9),o(),E(i.optionRequired&&i.formControl.valid?10:-1),o(),E((i.dataModelSelect==null||i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0?11:-1),o(),j("rotation360",i.publicHelper.processService.process.inRunArea[i.constructorInfoAreaId]),f("title",R(C(13,21,"ACTION.RELOAD"))),o(2),E(i.optionRequired&&(!i.dataModelSelect||!i.dataModelSelect.id||(i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)===0)?14:-1)}},dependencies:[oe,X,ke,Je,Dt,kt,Lt,te,W,be,N],encapsulation:2});var In=Gi;var wa=["*","*"];function gl(n,r){if(n&1&&(a(0,"label",4),c(1),l()),n&2){let e=d(2);f("for",ge("app-cms-site-selector-",e.id)),o(),M(e.optionLabel)}}function vl(n,r){if(n&1&&(S(0,"img",6),_(1,"cmsthumbnail")),n&2){let e=d(2);f("src",R(C(1,2,e.dataModelSelect==null?null:e.dataModelSelect.linkMainImageIdSrc)),ie)}}function El(n,r){if(n&1&&(S(0,"img",6),_(1,"cmsthumbnail")),n&2){let e=d().$implicit;f("src",R(C(1,2,e.linkMainImageIdSrc)),ie)}}function bl(n,r){if(n&1&&(a(0,"mat-option",9),v(1,El,2,4,"img",6),a(2,"span"),c(3),l()()),n&2){let e=r.$implicit,i=d(2);f("value",e)("disabled",i.optionDisabled),o(),E(e.linkMainImageIdSrc?1:-1),o(2),M(i.displayOption(e))}}function Il(n,r){n&1&&S(0,"i",10)}function Ml(n,r){n&1&&S(0,"i",11)}function Tl(n,r){if(n&1){let e=I();a(0,"i",14),b("click",function(){m(e);let t=d(2);return u(t.onActionSelectClear())}),l()}}function wl(n,r){n&1&&(a(0,"em"),c(1),_(2,"translate"),l()),n&2&&(o(),h("(",C(2,1,"TITLE.Necessary"),")"))}function xl(n,r){if(n&1){let e=I();a(0,"div",1),S(1,"app-progress-spinner",3),v(2,gl,2,3,"label",4),a(3,"span",5),v(4,vl,2,4,"img",6),l(),S(5,"input",7),a(6,"mat-autocomplete",8,0),b("optionSelected",function(t){m(e);let s=d();return u(s.onActionSelect(t.option.value))}),Se(8,bl,4,4,"mat-option",9,he),_(10,"async"),l(),v(11,Il,1,0,"i",10),v(12,Ml,1,0,"i",11),v(13,Tl,1,0,"i",12),a(14,"i",13),_(15,"translate"),b("click",function(){m(e);let t=d();return u(t.onActionButtonReload())}),l(),v(16,wl,3,3,"em"),nt(17),l()}if(n&2){let e=D(7),i=d();o(),f("optionsInfoAreaId",i.constructorInfoAreaId),o(),E((i.optionLabel==null?null:i.optionLabel.length)>0?2:-1),o(2),E(i.dataModelSelect&&(i.dataModelSelect!=null&&i.dataModelSelect.linkMainImageIdSrc)?4:-1),o(),f("placeholder",R(i.optionPlaceholder))("id",ge("app-cms-site-selector-",i.id))("formControl",i.formControl)("matAutocomplete",e)("required",i.optionRequired),Ae("disabled",i.optionDisabled?!0:null),o(),f("displayWith",i.displayFn),o(2),ye(C(10,20,i.filteredOptions)),o(3),E(i.formControl.valid?-1:11),o(),E(i.optionRequired&&i.formControl.valid?12:-1),o(),E((i.dataModelSelect==null||i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0?13:-1),o(),j("rotation360",i.publicHelper.processService.process.inRunArea[i.constructorInfoAreaId]),f("title",R(C(15,22,"ACTION.RELOAD"))),o(2),E(i.optionRequired&&(!i.dataModelSelect||!i.dataModelSelect.id||(i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)==0)?16:-1)}}function Pl(n,r){if(n&1){let e=I();a(0,"div",15)(1,"a",16),b("click",function(){let t=m(e).$implicit,s=d(2);return u(s.onActionSelect(t))}),c(2),l()()}if(n&2){let e=r.$implicit,i=d(2);o(),f("ngClass",e.id===(i.dataModelSelect==null?null:i.dataModelSelect.id)?"btn font-13 font-600 btn-s m-1 rounded-xl shadow-xl border-0 gradient-highlight btn-full":"btn font-13 font-600 btn-s m-1 rounded-xl shadow-xl border-blue-dark color-blue-dark bg-theme btn-border btn-full"),Ae("disabled",i.optionDisabled?!0:null),o(),M(i.displayOption(e))}}function Al(n,r){if(n&1&&(a(0,"div",2),Se(1,Pl,3,3,"div",15,he),_(3,"async"),nt(4,1),l()),n&2){let e=d();o(),ye(C(3,0,e.filteredOptions))}}var Ui=class Ui{constructor(r,e,i,t,s,p,y,z){this.coreEnumService=r;this.cmsToastrService=e;this.cdr=i;this.publicHelper=t;this.translate=s;this.tokenHelper=p;this.cmsStoreService=y;this.categoryService=z;this.id=++Ui.nextId;this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new Q;this.dataModelSelect=new bi;this.formControl=new Ue;this.optionDisabled=!1;this.optionRequired=!1;this.optionSelectFirstItem=!1;this.optionPlaceholder="";this.optionLabel="";this.optionChange=new je;this.optionTypeView=1;this.typeUsageId="";this.optionReload=()=>this.onActionButtonReload();this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(r){this.onActionSelectForce(r)}set optionTypeUsageId(r){this.typeUsageId=r,this.loadOptions()}ngOnInit(){this.loadOptions(),this.unsubscribe.push(this.cmsStoreService.getState(r=>r.tokenInfoStore).subscribe(()=>$(this,null,function*(){this.loadOptions()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(r=>r.unsubscribe())}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(bt(""),Et(1500),ei(),It(r=>typeof r=="string"||typeof r=="number"?this.DataGetAll(r||""):[]))}displayFn(r){return r?r.titleML:void 0}displayOption(r){return r?r.titleML:void 0}DataGetAll(r){return $(this,null,function*(){let e=new re;e.rowPerPage=20,e.accessLoad=!0;let i=new L,t=new L;r&&r.length>0&&(i.propertyName="title",i.value=r,i.searchType=J.Contains,i.clauseType=ee.Or,t.filters.push(i),i=new L,i.propertyName="id",i.value=r,i.searchType=J.Equal,i.clauseType=ee.Or,t.filters.push(i),e.filters.push(t)),this.typeUsageId&&this.typeUsageId.length>0&&(i=new L,i.propertyName="PropertyTypes",i.propertyAnyName="LinkPropertyTypeUsageId",i.value=this.typeUsageId,i.searchType=J.Equal,i.clauseType=ee.And,e.filters.push(i));let s=this.constructor.name+"main";return this.translate.get("MESSAGE.Receiving_information").subscribe(p=>{this.publicHelper.processService.processStart(s,p,this.constructorInfoAreaId)}),yield Zt(this.categoryService.ServiceGetAll(e)).then(p=>(this.dataModelResult=p,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||this.dataModelSelect.id.length===0)&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0])},1e3),this.onActionSelect(this.dataModelResult.listItems[0])),this.publicHelper.processService.processStop(s),p.listItems))})}onActionSelect(r){this.optionDisabled||(this.dataModelSelect=r,this.optionChange.emit(this.dataModelSelect))}onActionSelectClear(){this.optionDisabled||(this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null))}push(r){return this.filteredOptions.pipe(vt(e=>(e.find(i=>i.id===r.id)||e.push(r),e)))}onActionSelectForce(r){if((!r||typeof r=="string"&&r.length===0)&&(this.dataModelSelect=new bi),typeof r=="string"&&r.length>0){if(this.dataModelSelect&&this.dataModelSelect.id===r)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(e=>e.id===r)){let e=this.dataModelResult.listItems.find(i=>i.id===r);this.dataModelSelect=e,this.formControl.setValue(e);return}this.categoryService.ServiceGetOneById(r).subscribe({next:e=>{e.isSuccess?(this.filteredOptions=this.push(e.item),this.dataModelSelect=e.item,this.formControl.setValue(e.item),this.optionChange.emit(e.item)):this.cmsToastrService.typeErrorMessage(e.errorMessage)}});return}if(typeof r==typeof bi){this.filteredOptions=this.push(r),this.dataModelSelect=r,this.formControl.setValue(r);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new bi,this.loadOptions()}};Ui.nextId=0,Ui.\u0275fac=function(e){return new(e||Ui)(g(ce),g(F),g(G),g(U),g(H),g(K),g(Y),g(an))},Ui.\u0275cmp=B({type:Ui,selectors:[["app-estate-activity-type-selector"]],inputs:{optionSelectForce:"optionSelectForce",optionTypeUsageId:"optionTypeUsageId",optionDisabled:"optionDisabled",optionRequired:"optionRequired",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionLabel:"optionLabel",optionTypeView:"optionTypeView",optionReload:"optionReload"},outputs:{optionChange:"optionChange"},standalone:!1,ngContentSelectors:wa,decls:2,vars:2,consts:[["matauto","matAutocomplete"],[1,"input-style","has-borders","has-icon","input-style-always-active","validate-field","mb-4","loader-container"],[1,"row","mb-0"],[3,"optionsInfoAreaId"],[1,"color-highlight",3,"for"],["matPrefix",""],["aria-hidden","","height","25","width","25",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["type","text","aria-label","Assignee","matInput","",3,"placeholder","formControl","matAutocomplete","required","id"],[3,"optionSelected","displayWith"],[3,"value","disabled"],[1,"fa","fa-info","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"fa","fa-times","action","color-red-dark"],[1,"fa","fa-rotate-right","action","color-green-dark",2,"margin-left","20px",3,"click","title"],[1,"fa","fa-times","action","color-red-dark",3,"click"],[1,"col-xl-2","col-lg-3","col-md-4","col-sm-12","pe-1"],[3,"click","ngClass"]],template:function(e,i){e&1&&(ti(wa),v(0,xl,18,24,"div",1),v(1,Al,5,2,"div",2)),e&2&&(E(i.optionTypeView===1?0:-1),o(),E(i.optionTypeView===2?1:-1))},dependencies:[se,oe,X,ke,Je,Dt,kt,Lt,pi,te,W,be,N,Fe],encapsulation:2});var Mn=Ui;var Dl=["vform"],Ll=n=>({direction:n});function Vl(n,r){n&1&&S(0,"i",15)}function Ol(n,r){n&1&&S(0,"i",16)}function Bl(n,r){n&1&&(a(0,"mat-error"),c(1," Title is "),a(2,"strong"),c(3),_(4,"translate"),l()()),n&2&&(o(3),M(C(4,1,"MESSAGE.required")))}function Hl(n,r){n&1&&(a(0,"mat-error"),c(1," Description is "),a(2,"strong"),c(3),_(4,"translate"),l()()),n&2&&(o(3),M(C(4,1,"MESSAGE.required")))}function Fl(n,r){n&1&&(a(0,"mat-error"),c(1," DescriptionHidden is "),a(2,"strong"),c(3),_(4,"translate"),l()()),n&2&&(o(3),M(C(4,1,"MESSAGE.required")))}function Nl(n,r){if(n&1){let e=I();a(0,"div",12)(1,"label",26),c(2),l(),a(3,"textarea",27,3),k("ngModelChange",function(t){m(e);let s=d();return A(s.dataModel.descriptionHidden,t)||(s.dataModel.descriptionHidden=t),u(t)}),l(),a(5,"em"),c(6),l(),v(7,Fl,5,3,"mat-error"),l()}if(n&2){let e=D(4),i=d();o(2),M(i.fieldsInfo.descriptionHidden==null?null:i.fieldsInfo.descriptionHidden.fieldTitle),o(),f("placeholder",R(i.fieldsInfo.descriptionHidden==null?null:i.fieldsInfo.descriptionHidden.fieldTitle)),P("ngModel",i.dataModel.descriptionHidden),o(3),h("",e.value.length," / 500"),o(),E(e.errors!=null&&e.errors.required?7:-1)}}function Gl(n,r){if(n&1){let e=I();a(0,"app-cms-enum-x-selector",28),k("modelChange",function(t){m(e);let s=d();return A(s.dataModel.activityStatus,t)||(s.dataModel.activityStatus=t),u(t)}),l()}if(n&2){let e=d();f("optionDataListResult",e.dataModelEstateActivityStatusEnumResult),P("model",e.dataModel.activityStatus),f("optionDisabled",!1)("optionLabel",e.fieldsInfo.activityStatus==null?null:e.fieldsInfo.activityStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Ul(n,r){if(n&1){let e=I();a(0,"app-estate-account-expert-selector",20),_(1,"translate"),b("optionChange",function(t){m(e);let s=d();return u(s.onActionSelectorEstateUser(t))}),l()}if(n&2){let e=d();f("optionSelectForce",e.dataModel.linkEstateExpertId)("optionPlaceholder",C(1,2,"TITLE.USER"))}}function ql(n,r){if(n&1){let e=I();a(0,"app-estate-account-agency-selector",29),_(1,"translate"),b("optionChange",function(t){m(e);let s=d();return u(s.onActionSelectorEstateAgency(t))}),l()}if(n&2){let e=d();f("optionSelectForce",e.dataModel.linkEstateAgencyId)("optionSelectUserId",e.tokenInfo.access.userId)("optionPlaceholder",C(1,3,"TITLE.Property_agency"))}}function Wl(n,r){if(n&1){let e=I();a(0,"app-estate-property-selector",20),_(1,"translate"),b("optionChange",function(t){m(e);let s=d();return u(s.onActionSelectorProperty(t))}),l()}if(n&2){let e=d();f("optionSelectForce",e.dataModel.linkPropertyId)("optionPlaceholder",C(1,2,"TITLE.Property"))}}function jl(n,r){if(n&1){let e=I();a(0,"app-estate-customer-order-selector",20),_(1,"translate"),b("optionChange",function(t){m(e);let s=d();return u(s.onActionSelectorCustomerOrderId(t))}),l()}if(n&2){let e=d();f("optionSelectForce",e.dataModel.linkCustomerOrderId)("optionPlaceholder",C(1,2,"TITLE.Customer"))}}function Ql(n,r){if(n&1){let e=I();a(0,"div",23)(1,"label",30),c(2),l(),a(3,"input",31),k("ngModelChange",function(t){m(e);let s=d();return A(s.dataModel.appointmentDateFrom,t)||(s.dataModel.appointmentDateFrom=t),u(t)}),l(),S(4,"mat-datepicker-toggle",32)(5,"mat-datepicker",33,4),l()}if(n&2){let e=D(6),i=d();o(2),M(i.fieldsInfo.appointmentDateFrom==null?null:i.fieldsInfo.appointmentDateFrom.fieldTitle),o(),f("matDatepicker",e),P("ngModel",i.dataModel.appointmentDateFrom),f("formControl",i.date),o(),f("for",e),o(),f("calendarHeaderComponent",i.datapickerHeader)}}function zl(n,r){if(n&1){let e=I();a(0,"div",23)(1,"label",34),c(2),l(),a(3,"input",35),k("ngModelChange",function(t){m(e);let s=d();return A(s.dataModel.appointmentDateTo,t)||(s.dataModel.appointmentDateTo=t),u(t)}),l(),S(4,"mat-datepicker-toggle",32)(5,"mat-datepicker",33,5),l()}if(n&2){let e=D(6),i=d();o(2),M(i.fieldsInfo.appointmentDateTo==null?null:i.fieldsInfo.appointmentDateTo.fieldTitle),o(),f("matDatepicker",e),P("ngModel",i.dataModel.appointmentDateTo),f("formControl",i.date),o(),f("for",e),o(),f("calendarHeaderComponent",i.datapickerHeader)}}function $l(n,r){if(n&1){let e=I();a(0,"div",25)(1,"button",36),b("click",function(){m(e);let t=d();return u(t.onFormCancel())}),S(2,"i",37),c(3),_(4,"translate"),l(),a(5,"button",38),S(6,"i",39),c(7),_(8,"translate"),l()()}if(n&2){d();let e=D(10);o(3),h(" ",C(4,3,"ACTION.CANCEL")," "),o(2),f("disabled",!e.form.valid),o(2),h(" ",C(8,5,"ACTION.SAVE")," ")}}var Tn=class Tn extends Di{constructor(e,i,t,s,p,y,z,Me,Ce,et,We,Ge,tt){super(s,new Ii,Ge,Ce);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.estatePropertyHistoryService=s;this.cmsToastrService=p;this.estateEnumService=y;this.cdr=z;this.tokenHelper=Me;this.translate=Ce;this.cmsStoreService=et;this.pageInfo=We;this.publicHelper=Ge;this.dialog=tt;this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.tokenInfo=new ni;this.dataFileModelFiles=new Map;this.fileManagerOpenForm=!1;this.date=new Ue(new Date);this.dataModelEstateActivityStatusEnumResult=new Q;this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,e&&(this.dataModel.linkActivityTypeId=e.linkActivityTypeId,this.dataModel.linkPropertyId=e.linkPropertyId,this.dataModel.linkEstateExpertId=e.linkEstateExpertId,this.dataModel.linkCustomerOrderId=e.linkCustomerOrderId,this.dataModel.linkEstateAgencyId=e.linkEstateAgencyId)}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(e=>{this.formInfo.formTitle=e}),this.getEstateActivityStatusEnum()}getEstateActivityStatusEnum(){this.estateEnumService.ServiceEstateActivityStatusEnum().subscribe({next:e=>{this.dataModelEstateActivityStatusEnumResult=e}})}DataAddContent(){if(this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="",this.dataFileModelFiles){let i=Array.from(this.dataFileModelFiles.keys());i&&i.length>0&&(this.dataModel.linkFileIds=i.join(","))}let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estatePropertyHistoryService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e),this.formInfo.submitButtonEnabled=!0},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorSelect(e){if(!e||e.id.length<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkActivityTypeId=e.id}onActionSelectorEstateUser(e){this.dataModel.linkEstateExpertId=null,e&&e.id?.length>0&&(this.dataModel.linkEstateExpertId=e.id)}onActionSelectorEstateAgency(e){this.dataModel.linkEstateAgencyId=null,!(!e||!e.id||e.id.length<=0)&&(this.dataModel.linkEstateAgencyId=e.id)}onActionSelectorProperty(e){this.dataModel.linkPropertyId=null,e&&e.id?.length>0&&(this.dataModel.linkPropertyId=e.id)}onActionSelectorCustomerOrderId(e){this.dataModel.linkCustomerOrderId=null,e&&e.id?.length>0&&(this.dataModel.linkCustomerOrderId=e.id)}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Tn.\u0275fac=function(i){return new(i||Tn)(g(ze),g(He),g(ce),g(wi),g(F),g(Ti),g(G),g(K),g(H),g(Y),g(Ze),g(U),g(Z))},Tn.\u0275cmp=B({type:Tn,selectors:[["app-estate-property-history-add"]],viewQuery:function(i,t){if(i&1&&ot(Dl,5),i&2){let s;rt(s=at())&&(t.formGroup=s.first)}},standalone:!1,features:[we],decls:45,vars:41,consts:[["vform","ngForm"],["Title",""],["Description",""],["DescriptionHidden",""],["AppointmentDateFrom",""],["AppointmentDateTo",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit","ngStyle"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["type","text","name","dataModel.title","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[3,"optionDataListResult","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"optionChange","optionSelectForce","optionPlaceholder"],[3,"optionSelectForce","optionPlaceholder"],[3,"optionSelectForce","optionSelectUserId","optionPlaceholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],[3,"dataFileModelChange","dataFileModel","openDirectUploadView"],[1,"form-actions"],["for","dataModel.descriptionHidden",1,"color-highlight"],["matInput","","name","dataModel.descriptionHidden","type","text","minlength","0","maxlength","1000","rows","5","id","dataModel.descriptionHidden",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[3,"modelChange","optionDataListResult","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"optionChange","optionSelectForce","optionSelectUserId","optionPlaceholder"],["for","dataModel.appointmentDateFrom",1,"color-highlight"],["matInput","","name","dataModel.appointmentDateFrom","id","dataModel.appointmentDateFrom",1,"form-control","validate-name",3,"ngModelChange","matDatepicker","ngModel","formControl"],["matSuffix","",3,"for"],["touchUi","",3,"calendarHeaderComponent"],["for","dataModel.appointmentDateTo",1,"color-highlight"],["matInput","","name","dataModel.appointmentDateTo","id","dataModel.appointmentDateTo",1,"form-control","validate-name",3,"ngModelChange","matDatepicker","ngModel","formControl"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=I();a(0,"div",6),S(1,"app-progress-spinner",7),a(2,"div",8)(3,"p",9),c(4),l(),a(5,"p"),c(6),_(7,"translate"),l(),S(8,"app-cms-form-result-message",10),a(9,"form",11,0),b("ngSubmit",function(){return m(s),u(t.onFormSubmit())}),a(11,"div",12)(12,"label",13),c(13),l(),a(14,"input",14,1),k("ngModelChange",function(y){return m(s),A(t.dataModel.title,y)||(t.dataModel.title=y),u(y)}),l(),v(16,Vl,1,0,"i",15),v(17,Ol,1,0,"i",16),a(18,"em"),c(19),l(),v(20,Bl,5,3,"mat-error"),l(),a(21,"div",12)(22,"label",17),c(23),l(),a(24,"textarea",18,2),k("ngModelChange",function(y){return m(s),A(t.dataModel.description,y)||(t.dataModel.description=y),u(y)}),c(26,"          "),l(),a(27,"em"),c(28),l(),v(29,Hl,5,3,"mat-error"),l(),v(30,Nl,8,6,"div",12),v(31,Gl,1,6,"app-cms-enum-x-selector",19),a(32,"app-estate-activity-type-selector",20),_(33,"translate"),b("optionChange",function(y){return m(s),u(t.onActionSelectorSelect(y))}),l(),v(34,Ul,2,4,"app-estate-account-expert-selector",21),v(35,ql,2,5,"app-estate-account-agency-selector",22),v(36,Wl,2,4,"app-estate-property-selector",21),v(37,jl,2,4,"app-estate-customer-order-selector",21),v(38,Ql,7,6,"div",23),v(39,zl,7,6,"div",23),a(40,"p"),c(41),_(42,"translate"),l(),a(43,"app-cms-files-selector",24),k("dataFileModelChange",function(y){return m(s),A(t.dataFileModelFiles,y)||(t.dataFileModelFiles=y),u(y)}),l(),v(44,$l,9,7,"div",25),l()()()}if(i&2){let s=D(15),p=D(25);o(),f("optionsInfoAreaId",t.constructorInfoAreaId),o(3),h(" ",t.formInfo.formTitle," "),o(2),h(" ",C(7,33,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),f("formInfo",t.formInfo),o(),f("ngStyle",Ee(39,Ll,t.tokenInfo.access.direction)),o(4),M(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),f("placeholder",R(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),P("ngModel",t.dataModel.title),o(2),E(s.value?-1:16),o(),E(s.value?17:-1),o(2),h("",s.value.length," / 100"),o(),E(s.errors!=null&&s.errors.required?20:-1),o(3),M(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),f("placeholder",R(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),P("ngModel",t.dataModel.description),o(4),h("",p.value.length," / 500"),o(),E(p.errors!=null&&p.errors.required?29:-1),o(),E(t.fieldsInfo.descriptionHidden!=null&&t.fieldsInfo.descriptionHidden.accessAddField?30:-1),o(),E(t.fieldsInfo.activityStatus!=null&&t.fieldsInfo.activityStatus.accessWatchField?31:-1),o(),f("optionSelectForce",t.dataModel.linkActivityTypeId)("optionPlaceholder",C(33,35,"TITLE.Category")),o(2),E(t.fieldsInfo.linkEstateExpertId!=null&&t.fieldsInfo.linkEstateExpertId.accessAddField?34:-1),o(),E(t.fieldsInfo.linkEstateAgencyId!=null&&t.fieldsInfo.linkEstateAgencyId.accessWatchField?35:-1),o(),E(t.fieldsInfo.linkPropertyId!=null&&t.fieldsInfo.linkPropertyId.accessAddField?36:-1),o(),E(t.fieldsInfo.linkCustomerOrderId!=null&&t.fieldsInfo.linkCustomerOrderId.accessAddField?37:-1),o(),E(t.fieldsInfo.appointmentDateFrom!=null&&t.fieldsInfo.appointmentDateFrom.accessWatchField?38:-1),o(),E(t.fieldsInfo.appointmentDateTo!=null&&t.fieldsInfo.appointmentDateTo.accessWatchField?39:-1),o(2),M(C(42,37,"TITLE.List_of_attached_files")),o(2),P("dataFileModel",t.dataFileModelFiles),f("openDirectUploadView",!0),o(),E(t.formInfo.submitButtonEnabled?44:-1)}},dependencies:[Qe,At,oe,X,lt,ke,oi,ri,xe,Pt,Je,Ro,Do,dn,Rt,st,te,Yo,W,Ne,ar,En,In,gn,vn,Mn,N],encapsulation:2});var gi=Tn;var Ra=["*","*"];function Yl(n,r){if(n&1&&(a(0,"mat-option",7)(1,"span"),c(2),l()()),n&2){let e=r.$implicit,i=d(2);f("value",e)("disabled",i.optionDisabled),o(2),M(i.displayOption(e))}}function Kl(n,r){n&1&&S(0,"i",8)}function Jl(n,r){n&1&&S(0,"i",9)}function Xl(n,r){if(n&1){let e=I();a(0,"i",12),b("click",function(){m(e);let t=d(2);return u(t.onActionSelectClear())}),l()}}function Zl(n,r){n&1&&(a(0,"em"),c(1),_(2,"translate"),l()),n&2&&(o(),h(" ",C(2,1,"TITLE.Necessary")," "))}function es(n,r){if(n&1){let e=I();a(0,"div",1),S(1,"app-progress-spinner",3)(2,"input",4),a(3,"label",5),c(4),l(),a(5,"mat-autocomplete",6,0),b("optionSelected",function(t){m(e);let s=d();return u(s.onActionSelect(t.option.value))}),Se(7,Yl,3,3,"mat-option",7,he),_(9,"async"),l(),v(10,Kl,1,0,"i",8),v(11,Jl,1,0,"i",9),v(12,Xl,1,0,"i",10),a(13,"i",11),_(14,"translate"),b("click",function(){m(e);let t=d();return u(t.onActionButtonReload())}),l(),v(15,Zl,3,3,"em"),nt(16),l()}if(n&2){let e=D(6),i=d();o(),f("optionsInfoAreaId",i.constructorInfoAreaId),o(),f("placeholder",R(i.optionPlaceholder))("formControl",i.formControl)("matAutocomplete",e)("required",i.optionRequired),Ae("disabled",i.optionDisabled?!0:null),o(2),M(i.optionLabel),o(),f("displayWith",i.displayFn),o(2),ye(C(9,17,i.filteredOptions)),o(3),E(i.formControl.valid?-1:10),o(),E(i.optionRequired&&i.formControl.valid?11:-1),o(),E((i.dataModelSelect==null||i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0?12:-1),o(),j("rotation360",i.publicHelper.processService.process.inRunArea[i.constructorInfoAreaId]),f("title",R(C(14,19,"ACTION.RELOAD"))),o(2),E(i.optionRequired&&(!i.dataModelSelect||!i.dataModelSelect.id||i.dataModelSelect.id.length<=0)?15:-1)}}function ts(n,r){if(n&1){let e=I();a(0,"div",13)(1,"a",14),b("click",function(){let t=m(e).$implicit,s=d(2);return u(s.onActionSelect(t))}),c(2),l()()}if(n&2){let e=r.$implicit,i=d(2);o(),f("ngClass",e.id===(i.dataModelSelect==null?null:i.dataModelSelect.id)?"btn font-13 font-600 btn-s m-1 rounded-xl shadow-xl border-0 gradient-highlight btn-full":"btn font-13 font-600 btn-s m-1 rounded-xl shadow-xl border-blue-dark color-blue-dark bg-theme btn-border btn-full"),Ae("disabled",i.optionDisabled?!0:null),o(),M(i.displayOption(e))}}function is(n,r){if(n&1&&(a(0,"div",2),Se(1,ts,3,3,"div",13,he),_(3,"async"),nt(4,1),l()),n&2){let e=d();o(),ye(C(3,0,e.filteredOptions))}}var wn=class wn{constructor(r,e,i,t,s,p,y,z){this.coreEnumService=r;this.cmsToastrService=e;this.cdr=i;this.publicHelper=t;this.translate=s;this.tokenHelper=p;this.cmsStoreService=y;this.categoryService=z;this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new Q;this.dataModelSelect=new Tt;this.formControl=new Ue;this.optionDisabled=!1;this.optionSelectFirstItem=!1;this.optionPlaceholder="";this.optionLabel="";this.optionRequired=!1;this.optionChange=new je;this.optionTypeView=1;this.typeUsageId="";this.optionReload=()=>this.onActionButtonReload();this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(r){this.onActionSelectForce(r)}set optionTypeUsageId(r){this.typeUsageId=r,this.loadOptions()}ngOnInit(){this.loadOptions(),this.unsubscribe.push(this.cmsStoreService.getState(r=>r.tokenInfoStore).subscribe(()=>$(this,null,function*(){this.loadOptions()}))),(!this.optionLabel||this.optionLabel.length==0&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder)}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(r=>r.unsubscribe())}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(bt(""),Et(1500),ei(),It(r=>typeof r=="string"||typeof r=="number"?this.DataGetAll(r||""):[]))}displayFn(r){return r?r.title:void 0}displayOption(r){return r?r.title:void 0}DataGetAll(r){return $(this,null,function*(){let e=new re;e.rowPerPage=20,e.accessLoad=!0;let i=new L,t=new L;r&&r.length>0&&(i.propertyName="title",i.value=r,i.searchType=J.Contains,i.clauseType=ee.Or,t.filters.push(i),i=new L,i.propertyName="id",i.value=r,i.searchType=J.Equal,i.clauseType=ee.Or,t.filters.push(i),e.filters.push(t)),this.typeUsageId&&this.typeUsageId.length>0&&(i=new L,i.propertyName="PropertyTypes",i.propertyAnyName="LinkPropertyTypeUsageId",i.value=this.typeUsageId,i.searchType=J.Equal,i.clauseType=ee.And,e.filters.push(i));let s=this.constructor.name+"main";return this.translate.get("MESSAGE.Receiving_information").subscribe(p=>{this.publicHelper.processService.processStart(s,p,this.constructorInfoAreaId)}),yield Zt(this.categoryService.ServiceGetAll(e)).then(p=>(this.dataModelResult=p,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||this.dataModelSelect.id.length===0)&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0])},1e3),this.onActionSelect(this.dataModelResult.listItems[0])),this.publicHelper.processService.processStop(s),p.listItems))})}onActionSelect(r){this.optionDisabled||(this.dataModelSelect=r,this.optionChange.emit(this.dataModelSelect))}onActionSelectClear(){this.optionDisabled||(this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null))}push(r){return this.filteredOptions.pipe(vt(e=>(e.find(i=>i.id===r.id)||e.push(r),e)))}onActionSelectForce(r){if((!r||typeof r=="string"&&r.length===0)&&(this.dataModelSelect=new Tt),typeof r=="string"&&r.length>0){if(this.dataModelSelect&&this.dataModelSelect.id===r)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(e=>e.id===r)){let e=this.dataModelResult.listItems.find(i=>i.id===r);this.dataModelSelect=e,this.formControl.setValue(e);return}this.categoryService.ServiceGetOneById(r).subscribe({next:e=>{e.isSuccess?(this.filteredOptions=this.push(e.item),this.dataModelSelect=e.item,this.formControl.setValue(e.item),this.optionChange.emit(e.item)):this.cmsToastrService.typeErrorMessage(e.errorMessage)}});return}if(typeof r==typeof Tt){this.filteredOptions=this.push(r),this.dataModelSelect=r,this.formControl.setValue(r);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new Tt,this.loadOptions()}};wn.\u0275fac=function(e){return new(e||wn)(g(ce),g(F),g(G),g(U),g(H),g(K),g(Y),g(Mi))},wn.\u0275cmp=B({type:wn,selectors:[["app-estate-customer-category-selector"]],inputs:{optionSelectForce:"optionSelectForce",optionTypeUsageId:"optionTypeUsageId",optionDisabled:"optionDisabled",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionLabel:"optionLabel",optionRequired:"optionRequired",optionTypeView:"optionTypeView",optionReload:"optionReload"},outputs:{optionChange:"optionChange"},standalone:!1,ngContentSelectors:Ra,decls:2,vars:2,consts:[["matauto","matAutocomplete"],[1,"input-style","has-borders","has-icon","input-style-always-active","validate-field","mb-4","loader-container"],[1,"row","mb-0"],[3,"optionsInfoAreaId"],["type","text","aria-label","Assignee","matInput","",3,"placeholder","formControl","matAutocomplete","required"],["for","forminput",1,"color-highlight"],[3,"optionSelected","displayWith"],[3,"value","disabled"],[1,"fa","fa-info","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"fa","fa-times","action","color-red-dark"],[1,"fa","fa-rotate-right","action","color-green-dark",2,"margin-left","20px",3,"click","title"],[1,"fa","fa-times","action","color-red-dark",3,"click"],[1,"col-xl-2","col-lg-3","col-md-4","col-sm-12","pe-1"],[3,"click","ngClass"]],template:function(e,i){e&1&&(ti(Ra),v(0,es,17,21,"div",1),v(1,is,5,2,"div",2)),e&2&&(E(i.optionTypeView===1?0:-1),o(),E(i.optionTypeView===2?1:-1))},dependencies:[se,oe,X,ke,Je,Dt,kt,Lt,te,W,be,N],encapsulation:2});var lr=wn;var os=["vform"];function rs(n,r){n&1&&S(0,"i",18)}function as(n,r){n&1&&S(0,"i",19)}function ls(n,r){if(n&1&&(a(0,"mat-error"),c(1),a(2,"strong"),c(3),_(4,"translate"),l()()),n&2){let e=d();o(),h(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," "),o(2),M(C(4,2,"MESSAGE.required"))}}function ss(n,r){if(n&1){let e=I();a(0,"div",15)(1,"label",28),c(2),_(3,"translate"),l(),a(4,"textarea",29,4),k("ngModelChange",function(t){m(e);let s=d();return A(s.dataModel.descriptionHidden,t)||(s.dataModel.descriptionHidden=t),u(t)}),l(),a(6,"em"),c(7),l()()}if(n&2){let e=D(5),i=d();o(2),M(C(3,5,"TITLE.Description_Hidden")),o(2),f("placeholder",R(i.fieldsInfo.descriptionHidden==null?null:i.fieldsInfo.descriptionHidden.fieldTitle)),P("ngModel",i.dataModel.descriptionHidden),o(3),h("",e.value.length," / 500")}}function cs(n,r){if(n&1){let e=I();a(0,"app-estate-account-agency-selector",30),_(1,"translate"),b("optionChange",function(t){m(e);let s=d();return u(s.onActionSelectorEstateAgency(t))}),l()}if(n&2){let e=d();f("optionDisabled",!(e.fieldsInfo.linkEstateAgencyId!=null&&e.fieldsInfo.linkEstateAgencyId.accessAddField))("optionSelectForce",e.dataModel.linkEstateAgencyId)("optionSelectUserId",e.tokenInfo.access.userId)("optionPlaceholder",C(1,4,"TITLE.Property_agency"))}}function ds(n,r){n&1&&(a(0,"mat-error"),c(1," ContactMobiles is "),a(2,"strong"),c(3),_(4,"translate"),l()()),n&2&&(o(3),M(C(4,1,"MESSAGE.required")))}function ps(n,r){if(n&1){let e=I();a(0,"app-cms-user-selector",23),_(1,"translate"),b("optionChange",function(t){m(e);let s=d(2);return u(s.onActionSelectorCmsUser(t))}),l()}if(n&2){let e=d(2);f("optionDisabled",!(e.fieldsInfo.linkCmsUserId!=null&&e.fieldsInfo.linkCmsUserId.accessAddField))("optionSelectForce",e.dataModel.linkCmsUserId)("optionPlaceholder",C(1,3,"TITLE.user"))}}function ms(n,r){n&1&&S(0,"i",18)}function us(n,r){n&1&&S(0,"i",19)}function fs(n,r){n&1&&(a(0,"mat-error")(1,"strong"),c(2),_(3,"translate"),l()()),n&2&&(o(2),M(C(3,1,"MESSAGE.required")))}function _s(n,r){if(n&1){let e=I();a(0,"div",15)(1,"label",39),c(2),_(3,"translate"),l(),a(4,"input",40,5),_(6,"translate"),k("ngModelChange",function(t){m(e);let s=d(2);return A(s.dataModel.actionCreateNewCmsUserFirstName,t)||(s.dataModel.actionCreateNewCmsUserFirstName=t),u(t)}),l(),v(7,ms,1,0,"i",18),v(8,us,1,0,"i",19),a(9,"em"),c(10),l(),v(11,fs,4,3,"mat-error"),l()}if(n&2){let e=D(5),i=d(2);o(2),M(C(3,8,"TITLE.FIRST_NAME")),o(2),f("placeholder",R(C(6,10,"TITLE.FIRST_NAME"))),P("ngModel",i.dataModel.actionCreateNewCmsUserFirstName),o(3),E(e.value?-1:7),o(),E(e.value?8:-1),o(2),h("",e.value.length," / 50"),o(),E(e.errors!=null&&e.errors.required?11:-1)}}function Cs(n,r){n&1&&S(0,"i",18)}function hs(n,r){n&1&&S(0,"i",19)}function Ss(n,r){n&1&&(a(0,"mat-error")(1,"strong"),c(2),_(3,"translate"),l()()),n&2&&(o(2),M(C(3,1,"MESSAGE.required")))}function ys(n,r){if(n&1){let e=I();a(0,"div",15)(1,"label",41),c(2),_(3,"translate"),l(),a(4,"input",42,6),_(6,"translate"),k("ngModelChange",function(t){m(e);let s=d(2);return A(s.dataModel.actionCreateNewCmsUserLastName,t)||(s.dataModel.actionCreateNewCmsUserLastName=t),u(t)}),l(),v(7,Cs,1,0,"i",18),v(8,hs,1,0,"i",19),a(9,"em"),c(10),l(),v(11,Ss,4,3,"mat-error"),l()}if(n&2){let e=D(5),i=d(2);o(2),M(C(3,8,"TITLE.LAST_NAME")),o(2),f("placeholder",R(C(6,10,"TITLE.LAST_NAME"))),P("ngModel",i.dataModel.actionCreateNewCmsUserLastName),o(3),E(e.value?-1:7),o(),E(e.value?8:-1),o(2),h("",e.value.length," / 50"),o(),E(e.errors!=null&&e.errors.required?11:-1)}}function gs(n,r){n&1&&S(0,"i",18)}function vs(n,r){n&1&&S(0,"i",19)}function Es(n,r){n&1&&(a(0,"mat-error")(1,"strong"),c(2),_(3,"translate"),l()()),n&2&&(o(2),M(C(3,1,"MESSAGE.required")))}function bs(n,r){if(n&1){let e=I();a(0,"div",15)(1,"label",43),c(2),_(3,"translate"),l(),a(4,"input",44,7),k("ngModelChange",function(t){m(e);let s=d(2);return A(s.dataModel.actionCreateNewCmsUserMobile,t)||(s.dataModel.actionCreateNewCmsUserMobile=t),u(t)}),l(),v(6,gs,1,0,"i",18),v(7,vs,1,0,"i",19),a(8,"em"),c(9),l(),v(10,Es,4,3,"mat-error"),l()}if(n&2){let e=D(5),i=d(2);o(2),M(C(3,6,"TITLE.MOBILE_NUMBER")),o(2),P("ngModel",i.dataModel.actionCreateNewCmsUserMobile),o(2),E(e.value?-1:6),o(),E(e.value?7:-1),o(2),h("",e.value.length," / 20"),o(),E(e.errors!=null&&e.errors.required?10:-1)}}function Is(n,r){if(n&1){let e=I();a(0,"div",26)(1,"div",31)(2,"div",32)(3,"h5",33),c(4),_(5,"translate"),l()(),a(6,"div",34)(7,"div",35)(8,"input",36),k("ngModelChange",function(t){m(e);let s=d();return A(s.dataModel.actionCreateNewCmsUser,t)||(s.dataModel.actionCreateNewCmsUser=t),u(t)}),l(),S(9,"label",37),l()()(),v(10,ps,2,5,"app-cms-user-selector",38),v(11,_s,12,12,"div",15),v(12,ys,12,12,"div",15),v(13,bs,11,8,"div",15),l()}if(n&2){let e=d();o(4),h(" ",C(5,6,"TITLE.CREATE_NEW_USER")," "),o(4),P("ngModel",e.dataModel.actionCreateNewCmsUser),o(2),E(e.dataModel.actionCreateNewCmsUser?-1:10),o(),E(e.dataModel.actionCreateNewCmsUser?11:-1),o(),E(e.dataModel.actionCreateNewCmsUser?12:-1),o(),E(e.dataModel.actionCreateNewCmsUser?13:-1)}}function Ms(n,r){if(n&1){let e=I();a(0,"div",27)(1,"button",45),b("click",function(){m(e);let t=d();return u(t.onFormCancel())}),S(2,"i",46),c(3),_(4,"translate"),l(),a(5,"button",47),S(6,"i",48),c(7),_(8,"translate"),l()()}if(n&2){d();let e=D(10);o(3),h(" ",C(4,3,"ACTION.CANCEL")," "),o(2),f("disabled",!e.form.valid),o(2),h(" ",C(8,5,"ACTION.SAVE")," ")}}var xn=class xn extends Di{constructor(e,i,t,s,p,y,z,Me,Ce,et){super(s,new ci,z,Ce);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.estateCustomerOrderService=s;this.cmsToastrService=p;this.cmsStoreService=y;this.publicHelper=z;this.cdr=Me;this.translate=Ce;this.tokenHelper=et;this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new Q;this.dataModel=new ci;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,e&&e.linkEstateCustomerCategoryId?.length>0&&(this.dataModel.linkEstateCustomerCategoryId=e.linkEstateCustomerCategoryId),e&&e.copyId?.length>0&&this.DataGetOneContent(e.copyId),this.dataModel.caseCode=this.publicHelper.StringRandomGenerator(5,!0)}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess()}DataGetOneContent(e){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage="";let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructorInfoAreaId)}),this.estateCustomerOrderService.setAccessLoad(),this.estateCustomerOrderService.setAccessDataType(Ye.Editor),this.estateCustomerOrderService.ServiceGetOneById(e).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModel=t.item,this.dataModel.title="Copy of "+this.dataModel.title,t.isSuccess?Promise.resolve().then(()=>this.cdr.detectChanges()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(s=>{this.formInfo.submitResultMessage=s}),this.formInfo.submitResultMessage=t.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(t.errorMessage)),this.publicHelper.processService.processStop(i)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(i,!1)}})}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.dataModel.scoreLiquidityPower=5,this.dataModel.scorePurchaseDecision=5,this.dataModel.scorePurchasingPower=5,this.dataModel.scoreRushToBuy=5,this.estateCustomerOrderService.ServiceAdd(this.dataModel).subscribe({next:i=>{i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({id:i.item.id,dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e),this.formInfo.submitButtonEnabled=!0},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}onActionSelectorSelect(e){if(!e||e.id.length<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkEstateCustomerCategoryId=e.id}onActionSelectorCmsUser(e){if(!e||!e.id||e.id<=0){this.dataModel.linkCmsUserId=null;return}this.dataModel.linkCmsUserId=e.id}onActionSelectorEstateAgency(e){this.dataModel.linkEstateAgencyId=null,!(!e||!e.id||e.id.length<=0)&&(this.dataModel.linkEstateAgencyId=e.id)}onActionSelectorEstateUser(e){this.dataModel.linkEstateExpertId=null,!(!e||!e.id||e.id.length<=0)&&(this.dataModel.linkEstateExpertId=e.id)}};xn.\u0275fac=function(i){return new(i||xn)(g(ze),g(He),g(ce),g(di),g(F),g(Y),g(U),g(G),g(H),g(K))},xn.\u0275cmp=B({type:xn,selectors:[["app-estate-customer-order-add-to-edit"]],viewQuery:function(i,t){if(i&1&&ot(os,5),i&2){let s;rt(s=at())&&(t.formGroup=s.first)}},standalone:!1,features:[we],decls:46,vars:41,consts:[["vform","ngForm"],["Title",""],["Description",""],["ContactMobiles",""],["DescriptionHidden",""],["actionCreateNewCmsUserFirstName",""],["actionCreateNewCmsUserLastName",""],["actionCreateNewCmsUserMobile",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"optionChange","optionSelectForce","optionPlaceholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","0","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[3,"optionDisabled","optionSelectForce","optionSelectUserId","optionPlaceholder"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],["for","dataModel.contactMobiles",1,"color-highlight"],["matInput","","name","dataModel.contactMobiles","type","text","minlength","0","maxlength","100","rows","5","id","dataModel.contactMobiles",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"blockquote"],[1,"form-actions"],["for","dataModel.descriptionHidden",1,"color-highlight"],["matInput","","name","dataModel.descriptionHidden","type","text","minlength","0","maxlength","500","rows","5","id","dataModel.descriptionHidden",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[3,"optionChange","optionDisabled","optionSelectForce","optionSelectUserId","optionPlaceholder"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.actionCreateNewCmsUser",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.actionCreateNewCmsUser","name","dataModel.actionCreateNewCmsUser",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.actionCreateNewCmsUser",1,"custom-control-label"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],["for","dataModel.actionCreateNewCmsUserFirstName",1,"color-highlight"],["matInput","","type","text","name","dataModel.actionCreateNewCmsUserFirstName","type","text","minlength","3","maxlength","50","id","dataModel.actionCreateNewCmsUserFirstName",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.actionCreateNewCmsUserLastName",1,"color-highlight"],["matInput","","type","text","name","dataModel.actionCreateNewCmsUserLastName","type","text","minlength","3","maxlength","50","id","dataModel.actionCreateNewCmsUserLastName",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.actionCreateNewCmsUserMobile",1,"color-highlight"],["matInput","","type","text","name","dataModel.actionCreateNewCmsUserMobile","type","text","placeholder","0912","minlength","3","maxlength","20","id","dataModel.actionCreateNewCmsUserMobile",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=I();a(0,"div",8),S(1,"app-progress-spinner",9),a(2,"div",10)(3,"p",11),c(4),l(),a(5,"p"),c(6),_(7,"translate"),l(),S(8,"app-cms-form-result-message",12),a(9,"form",13,0),b("ngSubmit",function(){return m(s),u(t.onFormSubmit())}),a(11,"app-estate-customer-category-selector",14),_(12,"translate"),b("optionChange",function(y){return m(s),u(t.onActionSelectorSelect(y))}),l(),a(13,"div",15)(14,"label",16),c(15),l(),a(16,"input",17,1),k("ngModelChange",function(y){return m(s),A(t.dataModel.title,y)||(t.dataModel.title=y),u(y)}),l(),v(18,rs,1,0,"i",18),v(19,as,1,0,"i",19),S(20,"em"),v(21,ls,5,4,"mat-error"),l(),a(22,"div",15)(23,"label",20),c(24),l(),a(25,"textarea",21,2),k("ngModelChange",function(y){return m(s),A(t.dataModel.description,y)||(t.dataModel.description=y),u(y)}),l(),a(27,"em"),c(28),l()(),v(29,ss,8,7,"div",15),S(30,"hr"),v(31,cs,2,6,"app-estate-account-agency-selector",22),a(32,"app-estate-account-expert-selector",23),_(33,"translate"),b("optionChange",function(y){return m(s),u(t.onActionSelectorEstateUser(y))}),l(),a(34,"div",15)(35,"label",24),c(36),_(37,"translate"),l(),a(38,"textarea",25,3),_(40,"translate"),k("ngModelChange",function(y){return m(s),A(t.dataModel.contactMobiles,y)||(t.dataModel.contactMobiles=y),u(y)}),l(),a(41,"em"),c(42),l(),v(43,ds,5,3,"mat-error"),l(),v(44,Is,14,8,"div",26),v(45,Ms,9,7,"div",27),l()()()}if(i&2){let s=D(17),p=D(26),y=D(39);o(),f("optionsInfoAreaId",t.constructorInfoAreaId),o(3),h(" ",t.formInfo.formTitle," "),o(2),h(" ",C(7,31,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),f("formInfo",t.formInfo),o(3),f("optionSelectForce",t.dataModel.linkEstateCustomerCategoryId)("optionPlaceholder",C(12,33,"TITLE.Category")),o(4),M(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),f("placeholder",R(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),P("ngModel",t.dataModel.title),o(2),E(s.value?-1:18),o(),E(s.value?19:-1),o(2),E(s.errors!=null&&s.errors.required?21:-1),o(3),M(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),f("placeholder",R(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),P("ngModel",t.dataModel.description),o(3),h("",p.value.length," / 500"),o(),E(t.fieldsInfo.descriptionHidden!=null&&t.fieldsInfo.descriptionHidden.accessWatchField?29:-1),o(2),E(t.tokenHelper.isAdminSite?31:-1),o(),f("optionDisabled",!(t.fieldsInfo.linkEstateExpertId!=null&&t.fieldsInfo.linkEstateExpertId.accessAddField))("optionSelectForce",t.dataModel.linkEstateExpertId)("optionPlaceholder",C(33,35,"TITLE.Real_estate_customer_personnel")),o(4),M(C(37,37,"TITLE.Mobile_customer")),o(2),f("placeholder",R(C(40,39,"TITLE.Mobile_customer"))),P("ngModel",t.dataModel.contactMobiles),o(4),h("",y.value.length," / 100"),o(),E(y.errors!=null&&y.errors.required?43:-1),o(),E(t.fieldsInfo.actionCreateNewCmsUser!=null&&t.fieldsInfo.actionCreateNewCmsUser.accessWatchField?44:-1),o(),E(t.formInfo.submitButtonEnabled?45:-1)}},dependencies:[At,oe,Ao,X,lt,ke,oi,ri,xe,Pt,Rt,te,hn,W,Ne,lr,gn,vn,N],encapsulation:2});var vo=xn;var Ts=()=>["expandedTitle"],ws=()=>["expandedDetail"],xs=()=>[5,10,20,100],La=n=>({display:n});function Ps(n,r){n&1&&(a(0,"mat-header-cell"),c(1),_(2,"translate"),l()),n&2&&(o(),h(" ",C(2,1,"TITLE.MENU")," "))}function As(n,r){if(n&1){let e=I();a(0,"mat-cell")(1,"button",56),b("click",function(){let t=m(e).$implicit,s=d();return u(s.onActionTableRowSelectActionMenu(t))}),S(2,"i",57),l()()}}function ks(n,r){n&1&&(a(0,"mat-header-cell",58),c(1),_(2,"translate"),l()),n&2&&(o(),h(" ",C(2,1,"TITLE.PICTURE")," "))}function Rs(n,r){if(n&1&&(S(0,"img",59),_(1,"cmsthumbnail")),n&2){let e=d().$implicit;f("src",R(C(1,2,e.linkMainImageIdSrc)),ie)}}function Ds(n,r){if(n&1&&(a(0,"mat-cell"),v(1,Rs,2,4,"img",59),l()),n&2){let e=r.$implicit;o(),E((e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0?1:-1)}}function Ls(n,r){if(n&1&&(a(0,"mat-header-cell",58),c(1),l()),n&2){let e=d();o(),h(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function Vs(n,r){if(n&1&&(a(0,"mat-cell"),c(1),l()),n&2){let e=r.$implicit;o(),h(" ",e.id," ")}}function Os(n,r){if(n&1&&(a(0,"mat-header-cell",58),c(1),l()),n&2){let e=d();o(),h(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function Bs(n,r){if(n&1&&(a(0,"mat-cell"),c(1),_(2,"cmssiteinfo"),_(3,"async"),l()),n&2){let e=r.$implicit;o(),h(" ",C(3,3,C(2,1,e.linkSiteId))," ")}}function Hs(n,r){if(n&1&&(a(0,"mat-header-cell",58),c(1),l()),n&2){let e=d();o(),h(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function Fs(n,r){if(n&1&&S(0,"select",61),n&2){let e=d().$implicit,i=d();f("contentService",i.contentService)("row",e)("ngStyle",Ee(3,La,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function Ns(n,r){if(n&1&&(a(0,"mat-cell",60),_(1,"statusCellClass"),S(2,"i",60),_(3,"statusIconClass"),v(4,Fs,1,5,"select",61),l()),n&2){let e=r.$implicit,i=d();f("ngClass",C(1,3,e.recordStatus)),o(2),f("ngClass",C(3,5,e.recordStatus)),o(2),E(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessEditRow?4:-1)}}function Gs(n,r){if(n&1&&(a(0,"mat-header-cell",58),c(1),l()),n&2){let e=d();o(),h(" ",e.fieldsInfo.name==null?null:e.fieldsInfo.name.fieldTitle," ")}}function Us(n,r){if(n&1&&(a(0,"mat-cell"),c(1),l()),n&2){let e=r.$implicit;o(),h(" ",e.name," ")}}function qs(n,r){if(n&1&&(a(0,"mat-header-cell",58),c(1),l()),n&2){let e=d();o(),h(" ",e.fieldsInfo.lastName==null?null:e.fieldsInfo.lastName.fieldTitle," ")}}function Ws(n,r){if(n&1&&(a(0,"mat-cell"),c(1),l()),n&2){let e=r.$implicit;o(),h(" ",e.lastName," ")}}function js(n,r){if(n&1&&(a(0,"mat-header-cell",58),c(1),l()),n&2){let e=d();o(),h(" ",e.fieldsInfo.companyName==null?null:e.fieldsInfo.companyName.fieldTitle," ")}}function Qs(n,r){if(n&1&&(a(0,"mat-cell"),c(1),l()),n&2){let e=r.$implicit;o(),h(" ",e.companyName," ")}}function zs(n,r){if(n&1&&(a(0,"mat-header-cell",58),c(1),l()),n&2){let e=d();o(),h(" ",e.fieldsInfo.email==null?null:e.fieldsInfo.email.fieldTitle," ")}}function $s(n,r){if(n&1&&(a(0,"mat-cell"),c(1),l()),n&2){let e=r.$implicit;o(),h(" ",e.email," ")}}function Ys(n,r){if(n&1&&(a(0,"mat-header-cell",58),c(1),l()),n&2){let e=d();o(),h(" ",e.fieldsInfo.mobile==null?null:e.fieldsInfo.mobile.fieldTitle," ")}}function Ks(n,r){if(n&1&&(a(0,"mat-cell"),c(1),l()),n&2){let e=r.$implicit;o(),h(" ",e.mobile," ")}}function Js(n,r){if(n&1&&(a(0,"mat-header-cell",58),c(1),l()),n&2){let e=d();o(),h(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function Xs(n,r){if(n&1&&(a(0,"mat-cell"),c(1),_(2,"localeDate"),l()),n&2){let e=r.$implicit;o(),h(" ",C(2,1,e.createdDate)," ")}}function Zs(n,r){if(n&1&&(a(0,"mat-header-cell",58),c(1),l()),n&2){let e=d();o(),h(" ",e.fieldsInfo.updatedDate==null?null:e.fieldsInfo.updatedDate.fieldTitle," ")}}function ec(n,r){if(n&1&&(a(0,"mat-cell"),c(1),_(2,"localeDate"),l()),n&2){let e=r.$implicit;o(),h(" ",C(2,1,e.updatedDate)," ")}}function tc(n,r){n&1&&(a(0,"mat-header-cell"),c(1),_(2,"translate"),l()),n&2&&(o(),h(" ",C(2,1,"TITLE.OPTION")," "))}function ic(n,r){if(n&1&&(a(0,"mat-cell",62)(1,"button",63)(2,"mat-icon"),c(3,"more_vert"),l()(),S(4,"mat-menu",null,2),l()),n&2){let e=D(5);o(),f("matMenuTriggerFor",e)}}function nc(n,r){if(n&1&&(a(0,"mat-cell"),c(1),_(2,"translate"),_(3,"localeDate"),l()),n&2){let e=r.$implicit;o(),q(" ",C(2,2,"TITLE.CreationDate")," : ",C(3,4,e.createdDate)," ")}}function oc(n,r){if(n&1&&(S(0,"img",64),_(1,"cmsthumbnail")),n&2){let e=d().$implicit;f("src",R(C(1,2,e.linkMainImageIdSrc)),ie)}}function rc(n,r){if(n&1){let e=I();a(0,"mat-cell")(1,"div")(2,"table")(3,"tr")(4,"th"),v(5,oc,2,4,"img",64),l(),a(6,"th")(7,"span",65),b("click",function(){m(e);let t=d();return u(t.onActionCopied())}),S(8,"i",66),l(),c(9),l()(),a(10,"tr"),S(11,"td"),a(12,"td"),c(13),l()(),a(14,"tr"),S(15,"td"),a(16,"td"),c(17),l()(),a(18,"tr"),S(19,"td"),a(20,"td"),c(21),l()(),a(22,"tr"),S(23,"td"),a(24,"td"),c(25),l()(),a(26,"tr"),S(27,"td"),a(28,"td"),c(29),l()(),a(30,"tr"),S(31,"td"),a(32,"td"),c(33),l()(),a(34,"tr"),S(35,"td")(36,"td"),l()()()()}if(n&2){let e=r.$implicit,i=d();o(5),E((e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0?5:-1),o(2),f("cdkCopyToClipboard",e.id),o(2),h(" ",e.id," "),o(4),q(" ",i.fieldsInfo.username==null?null:i.fieldsInfo.username.fieldTitle," : ",e.username," "),o(4),q(" ",i.fieldsInfo.name==null?null:i.fieldsInfo.name.fieldTitle," : ",e.name," "),o(4),q(" ",i.fieldsInfo.lastName==null?null:i.fieldsInfo.lastName.fieldTitle," : ",e.lastName," "),o(4),q(" ",i.fieldsInfo.mobile==null?null:i.fieldsInfo.mobile.fieldTitle," : ",e.mobile," "),o(4),q(" ",i.fieldsInfo.email==null?null:i.fieldsInfo.email.fieldTitle," : ",e.email," "),o(4),q(" ",i.fieldsInfo.companyName==null?null:i.fieldsInfo.companyName.fieldTitle," : ",e.companyName," ")}}function ac(n,r){n&1&&S(0,"mat-header-row")}function lc(n,r){if(n&1){let e=I();a(0,"mat-row",67),b("click",function(t){let s=m(e).$implicit,p=d();return u(p.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=m(e).$implicit,p=d();return u(p.onActionTableRowSelect(s,t))})("mouseenter",function(){let t=m(e).$implicit,s=d();return u(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=m(e).$implicit,s=d();return u(s.onActionTableRowMouseLeave(t))}),l()}if(n&2){let e=r.$implicit,i=r.dataIndex,t=d();j("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",e.id===(t.tableRowSelected==null?null:t.tableRowSelected.id))}}function sc(n,r){if(n&1){let e=I();a(0,"mat-row",68),b("click",function(t){let s=m(e).$implicit,p=d();return u(p.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=m(e).$implicit,p=d();return u(p.onActionTableRowSelect(s,t))})("mouseenter",function(){let t=m(e).$implicit,s=d();return u(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=m(e).$implicit,s=d();return u(s.onActionTableRowMouseLeave(t))}),l()}if(n&2){let e=r.$implicit,i=r.dataIndex,t=d();j("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",e.id===(t.tableRowSelected==null?null:t.tableRowSelected.id))}}function cc(n,r){if(n&1){let e=I();a(0,"mat-row",69),b("click",function(t){let s=m(e).$implicit,p=d();return u(p.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=m(e).$implicit,p=d();return u(p.onActionTableRowSelect(s,t))})("mouseenter",function(){let t=m(e).$implicit,s=d();return u(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=m(e).$implicit,s=d();return u(s.onActionTableRowMouseLeave(t))}),l()}if(n&2){let e=r.$implicit,i=r.dataIndex,t=d();j("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",e.id===(t.tableRowSelected==null?null:t.tableRowSelected.id)),f("ngStyle",Ee(7,La,e.expanded===!0?"":"none"))}}function dc(n,r){if(n&1){let e=I();a(0,"div",55)(1,"button",70),b("click",function(){m(e);let t=d();return u(t.onFormCancel())}),S(2,"i",71),c(3),_(4,"translate"),l()()}n&2&&(o(3),h(" ",C(4,1,"ACTION.CANCEL")," "))}var Pn=class Pn extends Ut{constructor(e,i,t,s,p,y,z,Me,Ce,et,We,Ge){super(t,new Si,We,p,Ce);this.data=e;this.dialogRef=i;this.contentService=t;this.cmsToastrService=s;this.tokenHelper=p;this.router=y;this.cdr=z;this.cmsStoreService=Me;this.translate=Ce;this.pageInfo=et;this.publicHelper=We;this.dialog=Ge;this.requestTitle="";this.requestPropertyId="";this.constructorInfoAreaId=this.constructor.name;this.tablePropertySelected=[];this.filteModelContent=new re;this.filterDataModelQueryBuilder=[];this.optionsSearch=new Vi;this.optionsStatist=new Oi;this.tokenInfo=new ni;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["linkMainImageIdSrc","id","recordStatus","Name","LastName","CompanyName","email","mobile","action_menu"];this.tabledisplayedColumnsMobileSource=["id","recordStatus","Name","LastName","action_menu"];this.fieldsInfo=new Map;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,e&&(e.title&&(this.requestTitle=e.title+""),e.id&&(this.requestPropertyId=e.id+"")),this.optionsSearch.parentMethods={onSubmit:tt=>this.onSubmitOptionsSearch(tt)}}ngOnInit(){this.translate.get("TITLE.QUICK_VIEW").subscribe(e=>{this.formInfo.formTitle=e}),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>$(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Si);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.contentService.ServiceGetAllResponsibleUserId(this.requestPropertyId,i).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),t.isSuccess?(this.dataModelResult=t,this.tableSource.data=t.listItems):this.cmsToastrService.typeErrorGetAll(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=ae.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=ae.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=ae.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonReload(){this.DataGetAll()}onActionCopied(){this.cmsToastrService.typeSuccessCopedToClipboard()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/ticketing/departemen/"])}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Pn.\u0275fac=function(i){return new(i||Pn)(g(ze),g(He),g(di),g(F),g(K),g(ii),g(G),g(Y),g(H),g(Ze),g(U),g(Z))},Pn.\u0275cmp=B({type:Pn,selectors:[["app-estate-customer-order-responsible-user-list"]],standalone:!1,features:[we],decls:83,vars:30,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[1,"card","card-style","loader-container"],[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection","loader-container"],[3,"optionsInfoAreaId"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionActionRowDisplayMenuAct","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-maximize","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-minimize","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[1,"custom-slide-toggle",3,"ngModelChange","ngModel"],["cms-action-main",""],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","","multiTemplateDataRows","",3,"matSortChange","dataSource"],["matColumnDef","action_menu"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","linkMainImageIdSrc"],["mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","id"],["matColumnDef","linkSiteId"],["matColumnDef","recordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","Name"],["matColumnDef","LastName"],["matColumnDef","CompanyName"],["matColumnDef","email"],["matColumnDef","mobile"],["matColumnDef","createdDate"],["matColumnDef","updatedDate"],["matColumnDef","Action"],["class","Action",4,"matCellDef"],["matColumnDef","expandedTitle"],["matColumnDef","expandedDetail"],[4,"matHeaderRowDef"],["class","ntk-row-expandedTitle",3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["class","ntk-row-expandedDetail",3,"ntk-row-odd","ntk-row-even","ntk-row-selected","ngStyle","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],[1,"ntk-cms-html-card-message"],[3,"formInfo"],[1,"ntk-cms-html-card-footer"],[1,"form-actions"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"click"],[1,"fa","fa-bars","font-18"],["mat-sort-header",""],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],["aria-hidden","","height","80","width","80",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"navi-icon","pointer",3,"click","cdkCopyToClipboard"],[1,"flaticon2-copy"],[1,"ntk-row-expandedTitle",3,"click","rtclick","mouseenter","mouseleave"],[3,"click","rtclick","mouseenter","mouseleave"],[1,"ntk-row-expandedDetail",3,"click","rtclick","mouseenter","mouseleave","ngStyle"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(i,t){if(i&1){let s=I();a(0,"div",3)(1,"div",4),c(2),l(),a(3,"div",5),S(4,"app-progress-spinner",6),a(5,"app-cms-html-list",7),k("optionActionGuideNoticeDisplayChange",function(y){return m(s),A(t.viewGuideNotice,y)||(t.viewGuideNotice=y),u(y)}),b("optionOnActionButtonMemoRow",function(){return m(s),u(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return m(s),u(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return m(s),u(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return m(s),u(t.onActionButtonPrintRow())}),Le(6,8)(7,9)(8,10),T(9,11),a(10,"a",12),b("click",function(){return m(s),u(t.onActionButtonReload())}),S(11,"i",13),l(),a(12,"a",14),b("click",function(){return m(s),u(t.onActionGridExpandRows(!0))}),S(13,"i",15),l(),a(14,"a",14),b("click",function(){return m(s),u(t.onActionGridExpandRows(!1))}),S(15,"i",16),l(),w(),T(16,17),a(17,"a",18)(18,"mat-slide-toggle",19),k("ngModelChange",function(y){return m(s),A(t.optionsSearch.data.show,y)||(t.optionsSearch.data.show=y),u(y)}),l(),c(19),_(20,"translate"),l(),w(),Le(21,20)(22,21),T(23,22),a(24,"app-cms-search-list",23),k("optionsChange",function(y){return m(s),A(t.optionsSearch,y)||(t.optionsSearch=y),u(y)}),l(),a(25,"app-cms-statist-list",23),k("optionsChange",function(y){return m(s),A(t.optionsStatist,y)||(t.optionsStatist=y),u(y)}),l(),w(),T(26,24),a(27,"mat-table",25,0),b("matSortChange",function(){m(s);let y=D(28);return u(t.onTableSortData(y))}),T(29,26),x(30,Ps,3,3,"mat-header-cell",27)(31,As,3,0,"mat-cell",28),w(),T(32,29),x(33,ks,3,3,"mat-header-cell",30)(34,Ds,2,1,"mat-cell",28),w(),T(35,31),x(36,Ls,2,1,"mat-header-cell",30)(37,Vs,2,1,"mat-cell",28),w(),T(38,32),x(39,Os,2,1,"mat-header-cell",30)(40,Bs,4,5,"mat-cell",28),w(),T(41,33),x(42,Hs,2,1,"mat-header-cell",30)(43,Ns,5,7,"mat-cell",34),w(),T(44,35),x(45,Gs,2,1,"mat-header-cell",30)(46,Us,2,1,"mat-cell",28),w(),T(47,36),x(48,qs,2,1,"mat-header-cell",30)(49,Ws,2,1,"mat-cell",28),w(),T(50,37),x(51,js,2,1,"mat-header-cell",30)(52,Qs,2,1,"mat-cell",28),w(),T(53,38),x(54,zs,2,1,"mat-header-cell",30)(55,$s,2,1,"mat-cell",28),w(),T(56,39),x(57,Ys,2,1,"mat-header-cell",30)(58,Ks,2,1,"mat-cell",28),w(),T(59,40),x(60,Js,2,1,"mat-header-cell",30)(61,Xs,3,3,"mat-cell",28),w(),T(62,41),x(63,Zs,2,1,"mat-header-cell",30)(64,ec,3,3,"mat-cell",28),w(),T(65,42),x(66,tc,3,3,"mat-header-cell",27)(67,ic,6,1,"mat-cell",43),w(),T(68,44),x(69,nc,4,6,"mat-cell",28),w(),T(70,45),x(71,rc,37,15,"mat-cell",28),w(),x(72,ac,1,0,"mat-header-row",46)(73,lc,1,6,"mat-row",47)(74,sc,1,6,"mat-row",48)(75,cc,1,9,"mat-row",49),l(),w(),T(76,50),a(77,"mat-paginator",51,1),b("page",function(y){return m(s),u(t.onTablePageingData(y))}),l(),w(),l()(),a(79,"div",52),S(80,"app-cms-form-result-message",53),l(),a(81,"div",54),v(82,dc,5,3,"div",55),l()()}i&2&&(o(2),h(" ",t.formInfo.formTitle," "),o(2),f("optionsInfoAreaId",t.constructorInfoAreaId),o(),f("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),P("optionActionGuideNoticeDisplay",t.viewGuideNotice),f("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionActionRowDisplayMenuAct",t.tableRowSelectActionMenuClick)("optionSelectRowItemTitle",(t.tableRowSelected==null||t.tableRowSelected.username==null?null:t.tableRowSelected.username.length)>0?t.tableRowSelected==null?null:t.tableRowSelected.username:t.tableRowSelected==null?null:t.tableRowSelected.id),o(13),P("ngModel",t.optionsSearch.data.show),o(),h("",C(20,25,"ACTION.SEARCH")," "),o(5),P("options",t.optionsSearch),o(),P("options",t.optionsStatist),o(2),f("dataSource",t.tableSource),o(45),f("matHeaderRowDef",t.tabledisplayedColumns),o(),f("matRowDefColumns",ne(27,Ts)),o(),f("matRowDefColumns",t.tabledisplayedColumns),o(),f("matRowDefColumns",ne(28,ws)),o(2),f("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",ne(29,xs)),o(3),f("formInfo",t.formInfo),o(2),E(t.formInfo.submitButtonEnabled?82:-1))},dependencies:[se,Qe,X,xe,Be,de,te,Vt,Ot,Bt,Ht,Ft,Nt,ct,pt,_t,mt,dt,Ct,ut,ft,ht,St,xt,qt,Wt,W,Ne,jt,Qt,zt,be,N,ai,Fe,Bi,$t,Yt],encapsulation:2});var sr=Pn;var fc=["vform"],_c=()=>["fa"];function Cc(n,r){if(n&1&&(S(0,"img",15),_(1,"cmsthumbnail")),n&2){let e=d();f("src",R(C(1,2,e.dataModel.linkMainImageIdSrc)),ie)}}function hc(n,r){n&1&&S(0,"i",22)}function Sc(n,r){n&1&&S(0,"i",23)}function yc(n,r){n&1&&(a(0,"mat-error"),c(1," Title is "),a(2,"strong"),c(3),_(4,"translate"),l()()),n&2&&(o(3),M(C(4,1,"MESSAGE.required")))}function gc(n,r){if(n&1){let e=I();a(0,"div",16)(1,"label",28),c(2),l(),a(3,"input",29,4),k("ngModelChange",function(t){m(e);let s=d();return A(s.dataModel.iconFont,t)||(s.dataModel.iconFont=t),u(t)}),b("iconPickerSelect",function(t){m(e);let s=d();return u(s.onIconPickerSelect(t))}),l(),a(5,"span",30),S(6,"i",31),l()()}if(n&2){let e=d();o(2),M(e.fieldsInfo.iconFont==null?null:e.fieldsInfo.iconFont.fieldTitle),o(),f("placeholder",R(e.fieldsInfo.iconFont==null?null:e.fieldsInfo.iconFont.fieldTitle)),P("ngModel",e.dataModel.iconFont),f("iconPicker",e.dataModel.iconFont)("ipIconPack",ne(9,_c))("ipPosition","top")("disabled",!(e.fieldsInfo.iconFont!=null&&e.fieldsInfo.iconFont.accessAddField)),o(3),f("ngClass",e.dataModel.iconFont)}}function vc(n,r){if(n&1){let e=I();a(0,"div",24)(1,"label",32),c(2),l(),a(3,"div",33)(4,"div",34)(5,"input",35,5),k("ngModelChange",function(t){m(e);let s=d();return A(s.dataModel.iconColor,t)||(s.dataModel.iconColor=t),u(t)}),l()(),a(7,"div",36),S(8,"ngx-mat-color-toggle",37)(9,"ngx-mat-color-picker",38,6),l()()()}if(n&2){let e=D(10),i=d();o(2),M(i.fieldsInfo.iconColor==null?null:i.fieldsInfo.iconColor.fieldTitle),o(3),ve("background",i.dataModel.iconColor),f("placeholder",R(i.fieldsInfo.iconColor==null?null:i.fieldsInfo.iconColor.fieldTitle)),P("ngModel",i.dataModel.iconColor),f("ngxMatColorPicker",e)("disabled",!(i.fieldsInfo.iconColor!=null&&i.fieldsInfo.iconColor.accessAddField)),o(3),f("for",e),o(),f("touchUi",!0)("color","primary")}}function Ec(n,r){n&1&&(a(0,"mat-error"),c(1," Description is "),a(2,"strong"),c(3),_(4,"translate"),l()()),n&2&&(o(3),M(C(4,1,"MESSAGE.required")))}function bc(n,r){if(n&1){let e=I();a(0,"div",27)(1,"button",39),b("click",function(){m(e);let t=d();return u(t.onFormCancel())}),S(2,"i",40),c(3),_(4,"translate"),l(),a(5,"button",41),S(6,"i",42),c(7),_(8,"translate"),l()()}if(n&2){d();let e=D(10);o(3),h(" ",C(4,3,"ACTION.CANCEL")," "),o(2),f("disabled",!e.form.valid),o(2),h(" ",C(8,5,"ACTION.SAVE")," ")}}var qn=class qn extends Di{constructor(e,i,t,s,p,y,z,Me){super(s,new Tt,y,Me);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.estateCustomerCategoryService=s;this.cmsToastrService=p;this.publicHelper=y;this.cdr=z;this.translate=Me;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new Q;this.dataModel=new Tt;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess()}onActionFileSelected(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}DataAddContent(){this.dataModel.iconColor=this.dataModel.iconColor?.toString(),this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estateCustomerCategoryService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e),this.formInfo.submitButtonEnabled=!0},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onIconPickerSelect(e){this.dataModel.iconFont=e}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};qn.\u0275fac=function(i){return new(i||qn)(g(ze),g(He),g(ce),g(Mi),g(F),g(U),g(G),g(H))},qn.\u0275cmp=B({type:qn,selectors:[["app-estate-customer-category-add"]],viewQuery:function(i,t){if(i&1&&ot(fc,5),i&2){let s;rt(s=at())&&(t.formGroup=s.first)}},standalone:!1,features:[we],decls:45,vars:44,consts:[["vform","ngForm"],["LinkMainImageId",""],["Title",""],["Description",""],["IconFont",""],["iconColor",""],["iconColorPicker",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[1,"mb-3"],["target","_blank",3,"href"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"form-actions"],["for","dataModel.iconFont",1,"color-highlight"],["matInput","","type","text","name","dataModel.iconFont","type","text","id","dataModel.iconFont",1,"form-control","validate-name",3,"ngModelChange","iconPickerSelect","ngModel","iconPicker","ipIconPack","ipPosition","placeholder","disabled"],[1,"input-group-addon"],[3,"ngClass"],["for","dataModel.iconColor",1,"color-highlight"],[1,"row","mb-0"],[1,"col-11","pe-0"],["matInput","","type","text","name","dataModel.iconColor","type","text","id","dataModel.iconColor",1,"form-control","validate-name",3,"ngModelChange","ngModel","ngxMatColorPicker","placeholder","disabled"],[1,"col-1","ps-0"],["matSuffix","",3,"for"],[3,"touchUi","color"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=I();a(0,"div",7),S(1,"app-progress-spinner",8),a(2,"div",9)(3,"p",10),c(4),l(),a(5,"p"),c(6),_(7,"translate"),l(),S(8,"app-cms-form-result-message",11),a(9,"form",12,0),b("ngSubmit",function(){return m(s),u(t.onFormSubmit())}),a(11,"div",13)(12,"a",14),_(13,"cmsthumbnail"),v(14,Cc,2,4,"img",15),l()(),a(15,"div",16)(16,"label",17),b("click",function(){return m(s),u(t.fileManagerOpenForm=!0)}),c(17),_(18,"translate"),l(),a(19,"input",18,1),_(21,"translate"),k("ngModelChange",function(y){return m(s),A(t.dataModel.linkMainImageId,y)||(t.dataModel.linkMainImageId=y),u(y)}),b("click",function(){return m(s),u(t.fileManagerOpenForm=!0)}),l(),a(22,"cms-file-manager",19),b("itemSelected",function(y){return m(s),u(t.onActionFileSelected(y))}),k("openFormChange",function(y){return m(s),A(t.fileManagerOpenForm,y)||(t.fileManagerOpenForm=y),u(y)}),l()(),a(23,"div",16)(24,"label",20),c(25),l(),a(26,"input",21,2),k("ngModelChange",function(y){return m(s),A(t.dataModel.title,y)||(t.dataModel.title=y),u(y)}),l(),v(28,hc,1,0,"i",22),v(29,Sc,1,0,"i",23),a(30,"em"),c(31),l(),v(32,yc,5,3,"mat-error"),l(),v(33,gc,7,10,"div",16),v(34,vc,11,11,"div",24),a(35,"div",16)(36,"label",25),c(37),l(),a(38,"textarea",26,3),k("ngModelChange",function(y){return m(s),A(t.dataModel.description,y)||(t.dataModel.description=y),u(y)}),c(40,"                  "),l(),a(41,"em"),c(42),l(),v(43,Ec,5,3,"mat-error"),l(),v(44,bc,9,7,"div",27),l()()()}if(i&2){let s=D(27),p=D(39);o(),f("optionsInfoAreaId",t.constructorInfoAreaId),o(3),h(" ",t.formInfo.formTitle," "),o(2),h(" ",C(7,36,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),f("formInfo",t.formInfo),o(4),f("href",R(C(13,38,t.dataModel.linkMainImageIdSrc)),ie),o(2),E((t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0?14:-1),o(3),M(C(18,40,"TITLE.PICTURE")),o(2),f("placeholder",R(C(21,42,"TITLE.Original_File_ID"))),P("ngModel",t.dataModel.linkMainImageId),o(3),f("language",t.appLanguage)("isPopup",!0),P("openForm",t.fileManagerOpenForm),f("tree",t.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",t.selectFileTypeMainImage)("openFilemanagerButtonView",!1),o(3),M(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),f("placeholder",R(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),P("ngModel",t.dataModel.title),o(2),E(s.value?-1:28),o(),E(s.value?29:-1),o(2),h("",s.value.length," / 100"),o(),E(s.errors!=null&&s.errors.required?32:-1),o(),E(t.fieldsInfo.iconFont!=null&&t.fieldsInfo.iconFont.accessWatchField?33:-1),o(),E(t.fieldsInfo.iconColor!=null&&t.fieldsInfo.iconColor.accessWatchField?34:-1),o(3),M(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),f("placeholder",R(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),P("ngModel",t.dataModel.description),o(4),h("",p.value.length," / 500"),o(),E(p.errors!=null&&p.errors.required?43:-1),o(),E(t.formInfo.submitButtonEnabled?44:-1)}},dependencies:[se,At,oe,X,lt,ke,oi,ri,xe,Pt,Rt,st,te,W,Ne,zo,Wo,qo,Uo,No,N,Fe],encapsulation:2});var cr=qn;var Ic=["vform"],Mc=()=>["fa"];function Tc(n,r){if(n&1&&(S(0,"img",15),_(1,"cmsthumbnail")),n&2){let e=d();f("src",R(C(1,2,e.dataModel.linkMainImageIdSrc)),ie)}}function wc(n,r){n&1&&S(0,"i",22)}function xc(n,r){n&1&&S(0,"i",23)}function Pc(n,r){if(n&1&&(a(0,"mat-error"),c(1),a(2,"strong"),c(3),_(4,"translate"),l()()),n&2){let e=d();o(),h(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," is "),o(2),M(C(4,2,"MESSAGE.required"))}}function Ac(n,r){if(n&1){let e=I();a(0,"div",16)(1,"label",28),c(2),l(),a(3,"input",29,4),k("ngModelChange",function(t){m(e);let s=d();return A(s.dataModel.iconFont,t)||(s.dataModel.iconFont=t),u(t)}),b("iconPickerSelect",function(t){m(e);let s=d();return u(s.onIconPickerSelect(t))}),l(),a(5,"span",30),S(6,"i",31),l()()}if(n&2){let e=d();o(2),M(e.fieldsInfo.iconFont==null?null:e.fieldsInfo.iconFont.fieldTitle),o(),f("placeholder",R(e.fieldsInfo.iconFont==null?null:e.fieldsInfo.iconFont.fieldTitle)),P("ngModel",e.dataModel.iconFont),f("iconPicker",e.dataModel.iconFont)("ipIconPack",ne(9,Mc))("ipPosition","top")("disabled",!(e.fieldsInfo.iconFont!=null&&e.fieldsInfo.iconFont.accessEditField)),o(3),f("ngClass",e.dataModel.iconFont)}}function kc(n,r){if(n&1){let e=I();a(0,"div",24)(1,"label",32),c(2),l(),a(3,"div",33)(4,"div",34)(5,"input",35,5),k("ngModelChange",function(t){m(e);let s=d();return A(s.dataModel.iconColor,t)||(s.dataModel.iconColor=t),u(t)}),l()(),a(7,"div",36),S(8,"ngx-mat-color-toggle",37)(9,"ngx-mat-color-picker",38,6),l()()()}if(n&2){let e=D(10),i=d();o(2),M(i.fieldsInfo.iconColor==null?null:i.fieldsInfo.iconColor.fieldTitle),o(3),ve("background",i.dataModel.iconColor),f("placeholder",R(i.fieldsInfo.iconColor==null?null:i.fieldsInfo.iconColor.fieldTitle)),P("ngModel",i.dataModel.iconColor),f("ngxMatColorPicker",e)("disabled",!(i.fieldsInfo.iconColor!=null&&i.fieldsInfo.iconColor.accessEditField)),o(3),f("for",e),o(),f("touchUi",!0)("color","primary")}}function Rc(n,r){n&1&&(a(0,"mat-error"),c(1," Description is "),a(2,"strong"),c(3),_(4,"translate"),l()()),n&2&&(o(3),M(C(4,1,"MESSAGE.required")))}function Dc(n,r){if(n&1){let e=I();a(0,"div",27)(1,"button",39),b("click",function(){m(e);let t=d();return u(t.onFormCancel())}),S(2,"i",40),c(3),_(4,"translate"),l(),a(5,"button",41),S(6,"i",42),c(7),_(8,"translate"),l()()}if(n&2){d();let e=D(10);o(3),h(" ",C(4,3,"ACTION.CANCEL")," "),o(2),f("disabled",!e.form.valid),o(2),h(" ",C(8,5,"ACTION.SAVE")," ")}}var Wn=class Wn extends jo{constructor(e,i,t,s,p,y,z,Me,Ce){super(s,new Tt,z,Ce);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.estateCustomerCategoryService=s;this.estatePropertyTypeService=p;this.cmsToastrService=y;this.publicHelper=z;this.cdr=Me;this.translate=Ce;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new Rr;this.dataModel=new Tt;this.fileManagerOpenForm=!1;this.dataEstatePropertyTypeUsageIds=[];this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.DataGetAllEstatePropertyUsage()}onActionFileSelected(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estateCustomerCategoryService.setAccessLoad(),this.estateCustomerCategoryService.setAccessDataType(Ye.Editor),this.estateCustomerCategoryService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataGetAllEstatePropertyUsage(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(s=>{this.formInfo.submitResultMessage=s}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(s=>{this.publicHelper.processService.processStart(e,s,this.constructorInfoAreaId)});let i=new re,t=new L;t.propertyName="LinkCustomerCategoryId",t.value=this.requestId,i.filters.push(t),this.estatePropertyTypeService.ServiceGetAll(i).subscribe({next:s=>{this.dataEstatePropertyTypeModel=s.listItems;let p=[];this.dataEstatePropertyTypeModel.forEach(y=>{p.push(y.linkPropertyTypeUsageId)}),this.dataEstatePropertyTypeUsageIds=p,s.isSuccess?(this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(y=>{this.formInfo.submitResultMessage=y}),this.formInfo.submitResultMessage=s.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(s.errorMessage)),this.publicHelper.processService.processStop(e)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.dataModel.iconColor=this.dataModel.iconColor?.toString(),this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estateCustomerCategoryService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e),this.formInfo.submitButtonEnabled=!0},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorUserCategorySelect(e){this.dataEstatePropertyTypeUsageModel=e}onIconPickerSelect(e){this.dataModel.iconFont=e}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Wn.\u0275fac=function(i){return new(i||Wn)(g(ze),g(He),g(ce),g(Mi),g(xo),g(F),g(U),g(G),g(H))},Wn.\u0275cmp=B({type:Wn,selectors:[["app-estate-customer-category-edit"]],viewQuery:function(i,t){if(i&1&&ot(Ic,5),i&2){let s;rt(s=at())&&(t.formGroup=s.first)}},standalone:!1,features:[we],decls:45,vars:44,consts:[["vform","ngForm"],["LinkMainImageId",""],["Title",""],["Description",""],["IconFont",""],["iconColor",""],["iconColorPicker",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[1,"mb-3"],["target","_blank",3,"href"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"form-actions"],["for","dataModel.iconFont",1,"color-highlight"],["matInput","","type","text","name","dataModel.iconFont","type","text","id","dataModel.iconFont",1,"form-control","validate-name",3,"ngModelChange","iconPickerSelect","ngModel","iconPicker","ipIconPack","ipPosition","placeholder","disabled"],[1,"input-group-addon"],[3,"ngClass"],["for","dataModel.iconColor",1,"color-highlight"],[1,"row","mb-0"],[1,"col-11","pe-0"],["matInput","","type","text","name","dataModel.iconColor","type","text","id","dataModel.iconColor",1,"form-control","validate-name",3,"ngModelChange","ngModel","ngxMatColorPicker","placeholder","disabled"],[1,"col-1","ps-0"],["matSuffix","",3,"for"],[3,"touchUi","color"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=I();a(0,"div",7),S(1,"app-progress-spinner",8),a(2,"div",9)(3,"p",10),c(4),l(),a(5,"p"),c(6),_(7,"translate"),l(),S(8,"app-cms-form-result-message",11),a(9,"form",12,0),b("ngSubmit",function(){return m(s),u(t.onFormSubmit())}),a(11,"div",13)(12,"a",14),_(13,"cmsthumbnail"),v(14,Tc,2,4,"img",15),l()(),a(15,"div",16)(16,"label",17),b("click",function(){return m(s),u(t.fileManagerOpenForm=!0)}),c(17),_(18,"translate"),l(),a(19,"input",18,1),_(21,"translate"),k("ngModelChange",function(y){return m(s),A(t.dataModel.linkMainImageId,y)||(t.dataModel.linkMainImageId=y),u(y)}),b("click",function(){return m(s),u(t.fileManagerOpenForm=!0)}),l(),a(22,"cms-file-manager",19),b("itemSelected",function(y){return m(s),u(t.onActionFileSelected(y))}),k("openFormChange",function(y){return m(s),A(t.fileManagerOpenForm,y)||(t.fileManagerOpenForm=y),u(y)}),l()(),a(23,"div",16)(24,"label",20),c(25),l(),a(26,"input",21,2),k("ngModelChange",function(y){return m(s),A(t.dataModel.title,y)||(t.dataModel.title=y),u(y)}),l(),v(28,wc,1,0,"i",22),v(29,xc,1,0,"i",23),a(30,"em"),c(31),l(),v(32,Pc,5,4,"mat-error"),l(),v(33,Ac,7,10,"div",16),v(34,kc,11,11,"div",24),a(35,"div",16)(36,"label",25),c(37),l(),a(38,"textarea",26,3),k("ngModelChange",function(y){return m(s),A(t.dataModel.description,y)||(t.dataModel.description=y),u(y)}),c(40,"                  "),l(),a(41,"em"),c(42),l(),v(43,Rc,5,3,"mat-error"),l(),v(44,Dc,9,7,"div",27),l()()()}if(i&2){let s=D(27),p=D(39);o(),f("optionsInfoAreaId",t.constructorInfoAreaId),o(3),h(" ",t.formInfo.formTitle," "),o(2),h(" ",C(7,36,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),f("formInfo",t.formInfo),o(4),f("href",R(C(13,38,t.dataModel.linkMainImageIdSrc)),ie),o(2),E((t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0?14:-1),o(3),M(C(18,40,"TITLE.PICTURE")),o(2),f("placeholder",R(C(21,42,"TITLE.Original_File_ID"))),P("ngModel",t.dataModel.linkMainImageId),o(3),f("language",t.appLanguage)("isPopup",!0),P("openForm",t.fileManagerOpenForm),f("tree",t.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",t.selectFileTypeMainImage)("openFilemanagerButtonView",!1),o(3),M(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),f("placeholder",R(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),P("ngModel",t.dataModel.title),o(2),E(s.value?-1:28),o(),E(s.value?29:-1),o(2),h("",s.value.length," / 100"),o(),E(s.errors!=null&&s.errors.required?32:-1),o(),E(t.fieldsInfo.iconFont!=null&&t.fieldsInfo.iconFont.accessWatchField?33:-1),o(),E(t.fieldsInfo.iconColor!=null&&t.fieldsInfo.iconColor.accessWatchField?34:-1),o(3),M(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),f("placeholder",R(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),P("ngModel",t.dataModel.description),o(4),h("",p.value.length," / 500"),o(),E(p.errors!=null&&p.errors.required?43:-1),o(),E(t.formInfo.submitButtonEnabled?44:-1)}},dependencies:[se,At,oe,X,lt,ke,oi,ri,xe,Pt,Rt,st,te,W,Ne,zo,Wo,qo,Uo,No,N,Fe],encapsulation:2});var dr=Wn;function Lc(n,r){if(n&1){let e=I();a(0,"button",15),b("click",function(){m(e);let t=d();return u(t.onActionAdd())}),c(1),_(2,"translate"),l()}n&2&&(o(),h(" ",C(2,1,"ACTION.ADD")," "))}function Vc(n,r){if(n&1){let e=I();a(0,"button",16),b("click",function(){m(e);let t=d();return u(t.onActionEdit())}),c(1),_(2,"translate"),l()}n&2&&(o(),h(" ",C(2,1,"ACTION.EDIT")," "))}function Oc(n,r){if(n&1){let e=I();a(0,"button",17),b("click",function(){m(e);let t=d();return u(t.onActionDelete())}),c(1),_(2,"translate"),l()}n&2&&(o(),h(" ",C(2,1,"ACTION.DELETE")," "))}function Bc(n,r){if(n&1){let e=I();a(0,"mat-tree-node",18),S(1,"button",19),a(2,"span",20),b("click",function(){let t=m(e).$implicit,s=d();return u(s.onActionSelect(t))}),S(3,"img",21)(4,"i",22),c(5),l()()}if(n&2){let e=r.$implicit,i=d();j("ntk-tree-selected",(i.dataModelSelect==null||i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0&&(i.dataModelSelect==null?null:i.dataModelSelect.id)===e.id),o(3),f("src",R(e.linkMainImageIdSrc),ie),o(),ve("color",e.iconColor),f("ngClass",e.iconFont),o(),h("\xA0",e.title)}}function Hc(n,r){if(n&1){let e=I();a(0,"mat-tree-node",23)(1,"button",24)(2,"mat-icon",25),c(3),l()(),a(4,"span",20),b("click",function(){let t=m(e).$implicit,s=d();return u(s.onActionSelect(t))}),S(5,"img",21)(6,"i",22),c(7),l()()}if(n&2){let e=r.$implicit,i=d(),t=D(13);j("ntk-tree-selected",(i.dataModelSelect==null||i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0&&(i.dataModelSelect==null?null:i.dataModelSelect.id)===e.id),f("cdkTreeNodeTypeaheadLabel",e.title)("isExpanded",e.isExpanded??!1),o(),Ae("type","button")("aria-label","Toggle "+e.title),o(2),h(" ",t.isExpanded(e)?"expand_more":"chevron_right"," "),o(2),f("src",R(e.linkMainImageIdSrc),ie),o(),ve("color",e.iconColor),f("ngClass",e.iconFont),o(),h("\xA0",e.title)}}var jn=class jn{constructor(r,e,i,t,s,p,y,z,Me,Ce,et){this.cmsToastrService=r;this.coreEnumService=e;this.categoryService=i;this.cmsConfirmationDialogService=t;this.dialog=s;this.cdr=p;this.publicHelper=y;this.themeService=z;this.translate=Me;this.tokenHelper=Ce;this.cmsStoreService=et;this.constructorInfoAreaId=this.constructor.name;this.dataModelSelect=new Tt;this.dataModelResult=new Q;this.filterModel=new re;this.dataSource=new Cn;this.optionChange=new je;this.unsubscribe=[];this.optionReload=()=>this.onActionButtonReload();this.hasChild=(r,e)=>!1;this.childrenAccessor=r=>[];this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(r){this.onActionSelectForce(r)}ngOnInit(){this.unsubscribe.push(this.cmsStoreService.getState(r=>r.tokenInfoStore).subscribe(()=>$(this,null,function*(){this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(r=>r.unsubscribe())}DataGetAll(){this.filterModel.rowPerPage=200,this.filterModel.accessLoad=!0;let r=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(r,e,this.constructorInfoAreaId)}),this.categoryService.ServiceGetAll(this.filterModel).subscribe({next:e=>{e.isSuccess?(this.dataModelResult=e,this.dataSource.data=this.dataModelResult.listItems):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(r)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(r,!1)}})}onActionSelect(r){r&&this.dataModelSelect&&r.id==this.dataModelSelect.id?(this.dataModelSelect=null,this.optionChange.emit(null)):(this.dataModelSelect=r,this.optionChange.emit(this.dataModelSelect))}onActionButtonReload(){this.onActionSelect(null),this.dataModelSelect=new Tt,this.DataGetAll()}onActionSelectForce(r){}onActionAdd(){var r="";this.publicHelper.isMobile?r="dialog-fullscreen":r="dialog-min",this.dialog.open(cr,{height:"90%",panelClass:r,enterAnimationDuration:O.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:O.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(i=>{i&&i.dialogChangedDate&&this.DataGetAll()})}onActionEdit(){let r="";if(this.dataModelSelect&&this.dataModelSelect.id&&this.dataModelSelect.id.length>0&&(r=this.dataModelSelect.id),r===""){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorCategoryNotSelected").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(dr,{height:"90%",panelClass:e,enterAnimationDuration:O.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:O.cmsViewConfig.exitAnimationDuration,data:{id:r}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionDelete(){let r="";if(this.dataModelSelect&&this.dataModelSelect.id&&this.dataModelSelect.id.length>0&&(r=this.dataModelSelect.id),r===""){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorCategoryNotSelected").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}var e="",i="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(t=>{e=t["MESSAGE.Please_Confirm"],i=t["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.dataModelSelect.title+" ) "}),this.cmsConfirmationDialogService.confirm(e,i).then(t=>{if(t){let s=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(p=>{this.publicHelper.processService.processStart(s,p,this.constructorInfoAreaId)}),this.categoryService.ServiceDelete(this.dataModelSelect.id).subscribe({next:p=>{p.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(s)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(s,!1)}})}}).catch(()=>{})}};jn.\u0275fac=function(e){return new(e||jn)(g(F),g(ce),g(Mi),g(Gt),g(Z),g(G),g(U),g(Xe),g(H),g(K),g(Y))},jn.\u0275cmp=B({type:jn,selectors:[["app-estate-customer-category-tree"]],inputs:{optionSelectForce:"optionSelectForce",optionReload:"optionReload"},outputs:{optionChange:"optionChange"},standalone:!1,decls:17,vars:15,consts:[["treeTagControl",""],[3,"optionHeaderDisplay","optionActionMainDisplay","optionFooterDisplay"],["cms-tree-header",""],["cms-tree-action",""],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-tree-body","",1,"loader-container"],[3,"optionsInfoAreaId"],[3,"dataSource","childrenAccessor"],["matTreeNodePadding","",3,"ntk-tree-selected",4,"matTreeNodeDef"],["matTreeNodePadding","","matTreeNodeToggle","","isExpandable","",3,"cdkTreeNodeTypeaheadLabel","isExpanded","ntk-tree-selected",4,"matTreeNodeDef","matTreeNodeDefWhen"],["cms-tree-footer",""],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],["matTreeNodePadding",""],["matIconButton","","disabled",""],[3,"click"],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["aria-hidden","true",3,"ngClass"],["matTreeNodePadding","","matTreeNodeToggle","","isExpandable","",3,"cdkTreeNodeTypeaheadLabel","isExpanded"],["matIconButton","","matTreeNodeToggle",""],[1,"mat-icon-rtl-mirror"]],template:function(e,i){if(e&1){let t=I();a(0,"app-cms-html-tree",1),T(1,2),c(2),_(3,"translate"),w(),T(4,3),v(5,Lc,3,3,"button",4),v(6,Vc,3,3,"button",5),v(7,Oc,3,3,"button",6),a(8,"a",7),b("click",function(){return m(t),u(i.onActionButtonReload())}),S(9,"i",8),l(),w(),T(10,9),S(11,"app-progress-spinner",10),a(12,"mat-tree",11,0),x(14,Bc,6,8,"mat-tree-node",12)(15,Hc,8,13,"mat-tree-node",13),l(),w(),Le(16,14),l()}e&2&&(f("optionHeaderDisplay",!0)("optionActionMainDisplay",!0)("optionFooterDisplay",!1),o(2),h(" ",C(3,13,"TABLE."+(i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.moduleEntityName))," "),o(3),E(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessAddRow?5:-1),o(),E(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessEditRow&&i.dataModelSelect.id&&(i.dataModelSelect==null||i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0?6:-1),o(),E(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessDeleteRow&&i.dataModelSelect.id&&(i.dataModelSelect==null||i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0?7:-1),o(2),j("rotation360",i.publicHelper.processService.process.inRunArea[i.constructorInfoAreaId]),o(2),f("optionsInfoAreaId",i.constructorInfoAreaId),o(),f("dataSource",i.dataSource)("childrenAccessor",i.childrenAccessor),o(3),f("matTreeNodeDefWhen",i.hasChild))},dependencies:[se,Be,de,mn,un,_n,fn,pn,W,Sn,N],encapsulation:2});var pr=jn;var Ba=["*","*"];function Nc(n,r){if(n&1&&(a(0,"label",4),c(1),l()),n&2){let e=d(2);f("for",ge("app-cms-site-selector-",e.id)),o(),M(e.optionLabel)}}function Gc(n,r){if(n&1&&(S(0,"img",6),_(1,"cmsthumbnail")),n&2){let e=d(2);f("src",R(C(1,2,e.dataModelSelect==null?null:e.dataModelSelect.linkMainImageIdSrc)),ie)}}function Uc(n,r){if(n&1&&(S(0,"img",6),_(1,"cmsthumbnail")),n&2){let e=d().$implicit;f("src",R(C(1,2,e.linkMainImageIdSrc)),ie)}}function qc(n,r){if(n&1&&(a(0,"mat-option",9),v(1,Uc,2,4,"img",6),a(2,"span"),c(3),l()()),n&2){let e=r.$implicit,i=d(2);f("value",e)("disabled",i.optionDisabled),o(),E(e.linkMainImageIdSrc?1:-1),o(2),M(i.displayOption(e))}}function Wc(n,r){n&1&&S(0,"i",10)}function jc(n,r){n&1&&S(0,"i",11)}function Qc(n,r){if(n&1){let e=I();a(0,"i",13),b("click",function(){m(e);let t=d(2);return u(t.onActionSelectClear())}),l()}}function zc(n,r){n&1&&(a(0,"em"),c(1),_(2,"translate"),l()),n&2&&(o(),h("(",C(2,1,"TITLE.Necessary"),")"))}function $c(n,r){if(n&1){let e=I();a(0,"div",1),S(1,"app-progress-spinner",3),v(2,Nc,2,3,"label",4),a(3,"span",5),v(4,Gc,2,4,"img",6),l(),S(5,"input",7),a(6,"mat-autocomplete",8,0),b("optionSelected",function(t){m(e);let s=d();return u(s.onActionSelect(t.option.value))}),Se(8,qc,4,4,"mat-option",9,he),_(10,"async"),l(),v(11,Wc,1,0,"i",10),v(12,jc,1,0,"i",11),v(13,Qc,1,0,"i",12),v(14,zc,3,3,"em"),nt(15),l()}if(n&2){let e=D(7),i=d();o(),f("optionsInfoAreaId",i.constructorInfoAreaId),o(),E((i.optionLabel==null?null:i.optionLabel.length)>0?2:-1),o(2),E(i.dataModelSelect&&(i.dataModelSelect!=null&&i.dataModelSelect.linkMainImageIdSrc)?4:-1),o(),f("placeholder",R(i.optionPlaceholder))("id",ge("app-cms-site-selector-",i.id))("formControl",i.formControl)("matAutocomplete",e)("required",i.optionRequired),Ae("disabled",i.optionDisabled?!0:null),o(),f("displayWith",i.displayFn),o(2),ye(C(10,16,i.filteredOptions)),o(3),E(i.formControl.valid?-1:11),o(),E(i.optionRequired&&i.formControl.valid?12:-1),o(),E(i.optionAllowUnSelect&&(i.dataModelSelect==null||i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0?13:-1),o(),E(i.optionRequired&&(!i.dataModelSelect||!i.dataModelSelect.id||(i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)==0)?14:-1)}}function Yc(n,r){if(n&1){let e=I();a(0,"div",14)(1,"a",15),b("click",function(){let t=m(e).$implicit,s=d(2);return u(s.onActionSelect(t))}),c(2),l()()}if(n&2){let e=r.$implicit,i=d(2);o(),f("ngClass",e.id===(i.dataModelSelect==null?null:i.dataModelSelect.id)?"btn font-13 font-600 btn-s m-1 rounded-xl shadow-xl border-0 gradient-highlight btn-full":"btn font-13 font-600 btn-s m-1 rounded-xl shadow-xl border-blue-dark color-blue-dark bg-theme btn-border btn-full"),Ae("disabled",i.optionDisabled?!0:null),o(),M(i.displayOption(e))}}function Kc(n,r){if(n&1){let e=I();a(0,"i",13),b("click",function(){m(e);let t=d(2);return u(t.onActionSelectClear())}),l()}}function Jc(n,r){if(n&1&&(a(0,"div",2),Se(1,Yc,3,3,"div",14,he),_(3,"async"),v(4,Kc,1,0,"i",12),nt(5,1),l()),n&2){let e=d();o(),ye(C(3,1,e.filteredOptions)),o(3),E(e.optionAllowUnSelect&&(e.dataModelSelect==null||e.dataModelSelect.id==null?null:e.dataModelSelect.id.length)>0?4:-1)}}var ji=class ji{constructor(r,e,i,t,s,p,y,z){this.coreEnumService=r;this.cmsToastrService=e;this.cdr=i;this.publicHelper=t;this.translate=s;this.tokenHelper=p;this.cmsStoreService=y;this.categoryService=z;this.id=++ji.nextId;this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new Q;this.dataModelSelect=new rn;this.formControl=new Ue;this.optionTypeView=1;this.optionAllowUnSelect=!1;this.optionDisabled=!1;this.optionRequired=!1;this.optionSelectFirstItem=!1;this.optionPlaceholder="";this.optionLabel="";this.optionChange=new je;this.optionReload=()=>this.onActionButtonReload();this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(r){r&&(typeof r=="string"&&r.length>0||typeof r==typeof rn)&&this.onActionSelectForce(r)}ngOnInit(){this.loadOptions(),(!this.optionLabel||this.optionLabel.length==0&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder),this.unsubscribe.push(this.cmsStoreService.getState(r=>r.tokenInfoStore).subscribe(()=>$(this,null,function*(){this.loadOptions()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(r=>r.unsubscribe())}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(bt(""),Et(1500),ei(),It(r=>typeof r=="string"||typeof r=="number"?this.DataGetAll(r||""):[]))}displayFn(r){return r?r.titleML:void 0}displayOption(r){return r?r.titleML:void 0}DataGetAll(r){return $(this,null,function*(){let e=new re;if(e.rowPerPage=20,e.accessLoad=!0,typeof r=="string"&&r.length>0){let t=new L;t.propertyName="Name",t.value=r,t.searchType=J.Contains,e.filters.push(t),t=new L,t.propertyName="id",t.value=r,t.searchType=J.Equal,t.clauseType=ee.Or,e.filters.push(t)}let i=this.constructor.name+"main";return this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructorInfoAreaId)}),yield Zt(this.categoryService.ServiceGetAll(e)).then(t=>(this.dataModelResult=t,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||this.dataModelSelect.id.length===0)&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0])},1e3),this.onActionSelect(this.dataModelResult.listItems[0])),this.publicHelper.processService.processStop(i),t.listItems))})}onActionSelect(r){if(!this.optionDisabled){if(this.optionAllowUnSelect&&this.dataModelSelect&&this.dataModelSelect.id==r.id){this.onActionSelectClear();return}this.dataModelSelect=r,this.optionChange.emit(this.dataModelSelect)}}onActionSelectClear(){this.optionDisabled||(this.dataModelSelect=null,this.formControl.patchValue(""),this.optionChange.emit(null),Promise.resolve().then(()=>this.cdr.detectChanges()))}push(r){return this.filteredOptions.pipe(vt(e=>(e.find(i=>i.id===r.id)||e.push(r),e)))}onActionSelectForce(r){if((!r||typeof r=="string"&&r.length===0)&&(this.dataModelSelect=new rn),typeof r=="string"&&r.length>0){if(this.dataModelSelect&&this.dataModelSelect.id===r)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(e=>e.id===r)){let e=this.dataModelResult.listItems.find(i=>i.id===r);this.dataModelSelect=e,this.formControl.setValue(e);return}this.categoryService.ServiceGetOneById(r).subscribe({next:e=>{e.isSuccess?(this.filteredOptions=this.push(e.item),this.dataModelSelect=e.item,this.formControl.setValue(e.item),this.optionChange.emit(e.item)):this.cmsToastrService.typeErrorMessage(e.errorMessage)}});return}if(typeof r==typeof rn){this.filteredOptions=this.push(r),this.dataModelSelect=r,this.formControl.setValue(r);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new rn,this.loadOptions()}};ji.nextId=0,ji.\u0275fac=function(e){return new(e||ji)(g(ce),g(F),g(G),g(U),g(H),g(K),g(Y),g(Po))},ji.\u0275cmp=B({type:ji,selectors:[["app-estate-property-type-usage-selector"]],inputs:{optionTypeView:"optionTypeView",optionAllowUnSelect:"optionAllowUnSelect",optionDisabled:"optionDisabled",optionRequired:"optionRequired",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionLabel:"optionLabel",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange"},standalone:!1,ngContentSelectors:Ba,decls:2,vars:2,consts:[["matauto","matAutocomplete"],[1,"input-style","has-borders","has-icon","input-style-always-active","validate-field","mb-4","loader-container"],[1,"row","mb-0"],[3,"optionsInfoAreaId"],[1,"color-highlight",3,"for"],["matPrefix",""],["aria-hidden","","height","25","width","25",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["type","text","aria-label","Assignee","matInput","",3,"placeholder","formControl","matAutocomplete","required","id"],[3,"optionSelected","displayWith"],[3,"value","disabled"],[1,"fa","fa-info","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"fa","fa-times","action","color-red-dark"],[1,"fa","fa-times","action","color-red-dark",3,"click"],[1,"col-xl-2","col-lg-3","col-md-4","col-sm-12","pe-1"],[3,"click","ngClass"]],template:function(e,i){e&1&&(ti(Ba),v(0,$c,16,18,"div",1),v(1,Jc,6,3,"div",2)),e&2&&(E(i.optionTypeView===1?0:-1),o(),E(i.optionTypeView===2?1:-1))},dependencies:[se,oe,X,ke,Je,Dt,kt,Lt,pi,te,W,be,N,Fe],encapsulation:2});var _i=ji;var Ha=["*","*"];function Xc(n,r){if(n&1&&(a(0,"label",4),c(1),l()),n&2){let e=d(2);f("for",ge("app-cms-site-selector-",e.id)),o(),M(e.optionLabel)}}function Zc(n,r){if(n&1&&(a(0,"mat-option",7)(1,"span"),c(2),l()()),n&2){let e=r.$implicit,i=d(2);f("value",e)("disabled",i.optionDisabled),o(2),M(i.displayOption(e))}}function ed(n,r){n&1&&S(0,"i",8)}function td(n,r){n&1&&S(0,"i",9)}function id(n,r){if(n&1){let e=I();a(0,"i",11),b("click",function(){m(e);let t=d(2);return u(t.onActionSelectClear())}),l()}}function nd(n,r){n&1&&(a(0,"em"),c(1),_(2,"translate"),l()),n&2&&(o(),h("(",C(2,1,"TITLE.Necessary"),")"))}function od(n,r){if(n&1){let e=I();a(0,"div",1),S(1,"app-progress-spinner",3),v(2,Xc,2,3,"label",4),S(3,"input",5),a(4,"mat-autocomplete",6,0),b("optionSelected",function(t){m(e);let s=d();return u(s.onActionSelect(t.option.value))}),Se(6,Zc,3,3,"mat-option",7,he),_(8,"async"),l(),v(9,ed,1,0,"i",8),v(10,td,1,0,"i",9),v(11,id,1,0,"i",10),v(12,nd,3,3,"em"),nt(13),l()}if(n&2){let e=D(5),i=d();o(),f("optionsInfoAreaId",i.constructorInfoAreaId),o(),E((i.optionLabel==null?null:i.optionLabel.length)>0?2:-1),o(),f("placeholder",R(i.optionPlaceholder))("id",ge("app-cms-site-selector-",i.id))("formControl",i.formControl)("matAutocomplete",e)("required",i.optionRequired),Ae("disabled",i.optionDisabled?!0:null),o(),f("displayWith",i.displayFn),o(2),ye(C(8,15,i.filteredOptions)),o(3),E(i.formControl.valid?-1:9),o(),E(i.optionRequired&&i.formControl.valid?10:-1),o(),E(i.optionAllowUnSelect&&(i.dataModelSelect==null||i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0?11:-1),o(),E(i.optionRequired&&(!i.dataModelSelect||!i.dataModelSelect.id||(i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)==0)?12:-1)}}function rd(n,r){if(n&1){let e=I();a(0,"div",12)(1,"a",14),b("click",function(){let t=m(e).$implicit,s=d(2);return u(s.onActionSelect(t))}),c(2),l()()}if(n&2){let e=r.$implicit,i=d(2);o(),f("ngClass",e.id===(i.dataModelSelect==null?null:i.dataModelSelect.id)?"btn font-13 font-600 btn-s m-1 rounded-xl shadow-xl border-0 gradient-highlight btn-full":"btn font-13 font-600 btn-s m-1 rounded-xl shadow-xl border-blue-dark color-blue-dark bg-theme btn-border btn-full"),Ae("disabled",i.optionDisabled?!0:null),o(),M(i.displayOption(e))}}function ad(n,r){if(n&1){let e=I();a(0,"i",11),b("click",function(){m(e);let t=d(2);return u(t.onActionSelectClear())}),l()}}function ld(n,r){if(n&1){let e=I();a(0,"div",2),Se(1,rd,3,3,"div",12,he),_(3,"async"),v(4,ad,1,0,"i",10),a(5,"i",13),_(6,"translate"),b("click",function(){m(e);let t=d();return u(t.onActionButtonReload())}),l(),nt(7,1),l()}if(n&2){let e=d();o(),ye(C(3,5,e.filteredOptions)),o(3),E((e.dataModelSelect==null||e.dataModelSelect.id==null?null:e.dataModelSelect.id.length)>0?4:-1),o(),j("rotation360",e.publicHelper.processService.process.inRunArea[e.constructorInfoAreaId]),f("title",R(C(6,7,"ACTION.RELOAD")))}}var Qi=class Qi{constructor(r,e,i,t,s,p,y,z){this.coreEnumService=r;this.cmsToastrService=e;this.tokenHelper=i;this.cmsStoreService=t;this.translate=s;this.cdr=p;this.publicHelper=y;this.categoryService=z;this.id=++Qi.nextId;this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new Q;this.dataModelSelect=new nn;this.formControl=new Ue;this.optionDisabled=!1;this.optionRequired=!1;this.optionSelectFirstItem=!1;this.optionPlaceholder="";this.optionLabel="";this.optionChange=new je;this.optionAllowUnSelect=!1;this.optionTypeView=1;this.typeUsageId="";this.optionReload=()=>this.onActionButtonReload();this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(r){r&&(typeof r=="string"&&r.length>0||typeof r==typeof nn)&&this.onActionSelectForce(r)}set optionTypeUsageId(r){this.typeUsageId=r,this.loadOptions()}ngOnInit(){this.loadOptions(),(!this.optionLabel||this.optionLabel.length==0&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder),this.unsubscribe.push(this.cmsStoreService.getState(r=>r.tokenInfoStore).subscribe(()=>$(this,null,function*(){this.loadOptions()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(r=>r.unsubscribe())}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(bt(""),Et(1500),ei(),It(r=>typeof r=="string"||typeof r=="number"?this.DataGetAll(r||""):[]))}displayFn(r){return r?r.titleML:void 0}displayOption(r){return r?r.titleML:void 0}DataGetAll(r){return $(this,null,function*(){let e=new re;e.rowPerPage=20,e.accessLoad=!0;let i=new L,t=new L;r&&r.length>0&&(i.propertyName="title",i.value=r,i.searchType=J.Contains,i.clauseType=ee.Or,t.filters.push(i),i=new L,i.propertyName="id",i.value=r,i.searchType=J.Equal,i.clauseType=ee.Or,t.filters.push(i),e.filters.push(t)),this.typeUsageId&&this.typeUsageId.length>0&&(i=new L,i.propertyName="PropertyTypes",i.propertyAnyName="LinkPropertyTypeUsageId",i.value=this.typeUsageId,i.searchType=J.Equal,i.clauseType=ee.And,e.filters.push(i));let s=this.constructor.name+"main";return this.translate.get("MESSAGE.Receiving_information").subscribe(p=>{this.publicHelper.processService.processStart(s,p,this.constructorInfoAreaId)}),yield Zt(this.categoryService.ServiceGetAll(e)).then(p=>(this.dataModelResult=p,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||this.dataModelSelect.id.length===0)&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0])},1e3),this.onActionSelect(this.dataModelResult.listItems[0])),this.publicHelper.processService.processStop(s),p.listItems))})}onActionSelect(r){if(!this.optionDisabled){if(this.optionAllowUnSelect&&this.dataModelSelect&&this.dataModelSelect.id==r.id){this.onActionSelectClear();return}this.dataModelSelect=r,this.optionChange.emit(this.dataModelSelect)}}onActionSelectClear(){this.optionDisabled||(this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null))}push(r){return this.filteredOptions.pipe(vt(e=>(e.find(i=>i.id===r.id)||e.push(r),e)))}onActionSelectForce(r){if((!r||typeof r=="string"&&r.length===0)&&(this.dataModelSelect=new nn),typeof r=="string"&&r.length>0){if(this.dataModelSelect&&this.dataModelSelect.id===r)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(e=>e.id===r)){let e=this.dataModelResult.listItems.find(i=>i.id===r);this.dataModelSelect=e,this.formControl.setValue(e);return}this.categoryService.ServiceGetOneById(r).subscribe({next:e=>{e.isSuccess?(this.filteredOptions=this.push(e.item),this.dataModelSelect=e.item,this.formControl.setValue(e.item),this.optionChange.emit(e.item)):this.cmsToastrService.typeErrorMessage(e.errorMessage)}});return}if(typeof r==typeof nn){this.filteredOptions=this.push(r),this.dataModelSelect=r,this.formControl.setValue(r);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new nn,this.loadOptions()}};Qi.nextId=0,Qi.\u0275fac=function(e){return new(e||Qi)(g(ce),g(F),g(K),g(Y),g(H),g(G),g(U),g(ln))},Qi.\u0275cmp=B({type:Qi,selectors:[["app-estate-contract-type-selector"]],inputs:{optionSelectForce:"optionSelectForce",optionTypeUsageId:"optionTypeUsageId",optionDisabled:"optionDisabled",optionRequired:"optionRequired",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionLabel:"optionLabel",optionAllowUnSelect:"optionAllowUnSelect",optionTypeView:"optionTypeView",optionReload:"optionReload"},outputs:{optionChange:"optionChange"},standalone:!1,ngContentSelectors:Ha,decls:2,vars:2,consts:[["matauto","matAutocomplete"],[1,"input-style","has-borders","has-icon","input-style-always-active","validate-field","mb-4","loader-container"],[1,"row","mb-0"],[3,"optionsInfoAreaId"],[1,"color-highlight",3,"for"],["type","text","aria-label","Assignee","matInput","",3,"placeholder","formControl","matAutocomplete","required","id"],[3,"optionSelected","displayWith"],[3,"value","disabled"],[1,"fa","fa-info","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"fa","fa-times","action","color-red-dark"],[1,"fa","fa-times","action","color-red-dark",3,"click"],[1,"col-xl-2","col-lg-3","col-md-4","col-sm-12","pe-1"],[1,"fa","fa-rotate-right","action","color-green-dark",2,"margin-left","20px",3,"click","title"],[3,"click","ngClass"]],template:function(e,i){e&1&&(ti(Ha),v(0,od,14,17,"div",1),v(1,ld,8,9,"div",2)),e&2&&(E(i.optionTypeView===1?0:-1),o(),E(i.optionTypeView===2?1:-1))},dependencies:[se,oe,X,ke,Je,Dt,kt,Lt,te,W,be,N],encapsulation:2});var Ci=Qi;var Cd=()=>["expandedTitle"],hd=()=>["expandedDetail"],Sd=()=>[5,10,20,100],Na=n=>({display:n});function yd(n,r){if(n&1){let e=I();a(0,"a",28),b("click",function(){m(e);let t=d();return u(t.onActionButtonInResponsible(!t.searchInResponsibleChecked))}),S(1,"mat-slide-toggle",29),c(2),_(3,"translate"),l()}if(n&2){let e=d();o(),f("checked",e.searchInResponsibleChecked),o(),h(" ",C(3,2,"ACTION.InResponsible")," ")}}function gd(n,r){if(n&1){let e=I();a(0,"div",32)(1,"a",80),b("click",function(t){m(e);let s=d();return u(s.onActionButtonNewRow(t))}),S(2,"i",81)(3,"br"),l(),a(4,"p",35),c(5),_(6,"translate"),l()()}n&2&&(o(5),h(" ",C(6,1,"ACTION.ADD")," "))}function vd(n,r){if(n&1){let e=I();a(0,"div",32)(1,"a",82),b("click",function(t){m(e);let s=d();return u(s.onActionButtonEditRow(s.tableRowSelected,t))}),S(2,"i",83)(3,"br"),l(),a(4,"p",35),c(5),_(6,"translate"),l()()}n&2&&(o(5),h(" ",C(6,1,"ACTION.EDIT")," "))}function Ed(n,r){if(n&1){let e=I();a(0,"div",32)(1,"a",84),b("click",function(t){m(e);let s=d();return u(s.onActionButtonCopyNewRow(s.tableRowSelected,t))}),S(2,"i",85)(3,"br"),l(),a(4,"p",35),c(5),_(6,"translate"),l()()}n&2&&(o(5),h(" ",C(6,1,"ACTION.COPY")," "))}function bd(n,r){if(n&1){let e=I();a(0,"div",32)(1,"a",86),b("click",function(){m(e);let t=d();return u(t.onActionButtonDeleteRow(t.tableRowSelected))}),S(2,"i",87)(3,"br"),l(),a(4,"p",35),c(5),_(6,"translate"),l()()}n&2&&(o(5),h(" ",C(6,1,"ACTION.DELETE")," "))}function Id(n,r){if(n&1){let e=I();a(0,"mat-icon",88),b("click",function(){m(e);let t=d();return u(t.filteModelContent.caseCode="")}),c(1," close"),l()}}function Md(n,r){if(n&1){let e=I();a(0,"app-cms-user-selector",90),_(1,"translate"),b("optionChange",function(t){m(e);let s=d(2);return u(s.filteModelContent.linkResponsibleUserId=t==null?null:t.id)}),l()}n&2&&f("optionPlaceholder",C(1,1,"TITLE.InResponsibleTo"))}function Td(n,r){if(n&1){let e=I();a(0,"div",92)(1,"label",98),c(2),l(),a(3,"input",99,3),k("ngModelChange",function(t){m(e);let s=d(2);return A(s.filteModelContent.createdYaer,t)||(s.filteModelContent.createdYaer=t),u(t)}),l()()}if(n&2){let e=d(2);o(2),M(e.PropertyTypeSelected.titleCreatedYaer),o(),f("placeholder",R(e.fieldsInfo.createdYaer==null?null:e.fieldsInfo.createdYaer.fieldTitle)),P("ngModel",e.filteModelContent.createdYaer)}}function wd(n,r){if(n&1){let e=I();a(0,"div",92)(1,"label",100),c(2),l(),a(3,"input",101,4),k("ngModelChange",function(t){m(e);let s=d(2);return A(s.filteModelContent.partition,t)||(s.filteModelContent.partition=t),u(t)}),l()()}if(n&2){let e=d(2);o(2),M(e.PropertyTypeSelected.titlePartition),o(),f("placeholder",R(e.PropertyTypeSelected.titlePartition)),P("ngModel",e.filteModelContent.partition)}}function xd(n,r){if(n&1){let e=I();a(0,"div",92)(1,"label",102),c(2),l(),a(3,"input",103,5),k("ngModelChange",function(t){m(e);let s=d(2);return A(s.filteModelContent.area,t)||(s.filteModelContent.area=t),u(t)}),l(),a(5,"em"),c(6),l()()}if(n&2){let e=d(2);o(2),M(e.fieldsInfo.area==null?null:e.fieldsInfo.area.fieldTitle),o(),f("placeholder",R(e.fieldsInfo.area==null?null:e.fieldsInfo.area.fieldTitle)),P("ngModel",e.filteModelContent.area),o(3),M(e.fieldsInfo.area==null?null:e.fieldsInfo.area.fieldDescription)}}function Pd(n,r){if(n&1){let e=I();a(0,"div",92)(1,"label",104),c(2),_(3,"translate"),l(),a(4,"input",105,6),k("ngModelChange",function(t){m(e);let s=d(2);return A(s.filteModelContent.salePriceMin,t)||(s.filteModelContent.salePriceMin=t),u(t)}),l()()}if(n&2){let e=d(2);o(2),h("",C(3,2,"TITLE.SalePriceMin")," "),o(2),P("ngModel",e.filteModelContent.salePriceMin)}}function Ad(n,r){if(n&1){let e=I();a(0,"div",92)(1,"label",106),c(2),_(3,"translate"),l(),a(4,"input",107,7),k("ngModelChange",function(t){m(e);let s=d(2);return A(s.filteModelContent.rentPriceMin,t)||(s.filteModelContent.rentPriceMin=t),u(t)}),l()()}if(n&2){let e=d(2);o(2),M(C(3,2,"TITLE.RentPriceMin")),o(2),P("ngModel",e.filteModelContent.rentPriceMin)}}function kd(n,r){if(n&1){let e=I();a(0,"div",92)(1,"label",108),c(2,"ImageThumbnailSizeHeight"),l(),a(3,"input",109,8),k("ngModelChange",function(t){m(e);let s=d(2);return A(s.filteModelContent.depositPriceMin,t)||(s.filteModelContent.depositPriceMin=t),u(t)}),l()()}if(n&2){let e=d(2);o(3),P("ngModel",e.filteModelContent.depositPriceMin)}}function Rd(n,r){if(n&1){let e=I();a(0,"div",92)(1,"label",110),c(2),_(3,"translate"),l(),a(4,"input",111,9),k("ngModelChange",function(t){m(e);let s=d(2);return A(s.filteModelContent.periodPriceMin,t)||(s.filteModelContent.periodPriceMin=t),u(t)}),l()()}if(n&2){let e=d(2);o(2),h("",C(3,2,"TITLE.PeriodPriceMin")," "),o(2),P("ngModel",e.filteModelContent.periodPriceMin)}}function Dd(n,r){if(n&1){let e=I();a(0,"div",92)(1,"label",112),c(2),_(3,"translate"),l(),a(4,"input",113,10),k("ngModelChange",function(t){m(e);let s=d(2);return A(s.filteModelContent.salePriceMax,t)||(s.filteModelContent.salePriceMax=t),u(t)}),l()()}if(n&2){let e=d(2);o(2),h(" ",C(3,2,"TITLE.SalePriceMax")),o(2),P("ngModel",e.filteModelContent.salePriceMax)}}function Ld(n,r){if(n&1){let e=I();a(0,"div",92)(1,"label",114),c(2),_(3,"translate"),l(),a(4,"input",115,11),k("ngModelChange",function(t){m(e);let s=d(2);return A(s.filteModelContent.rentPriceMax,t)||(s.filteModelContent.rentPriceMax=t),u(t)}),l()()}if(n&2){let e=d(2);o(2),h("",C(3,2,"TITLE.RentPriceMax")," "),o(2),P("ngModel",e.filteModelContent.rentPriceMax)}}function Vd(n,r){if(n&1){let e=I();a(0,"div",92)(1,"label",116),c(2),_(3,"translate"),l(),a(4,"input",117,12),k("ngModelChange",function(t){m(e);let s=d(2);return A(s.filteModelContent.depositPriceMax,t)||(s.filteModelContent.depositPriceMax=t),u(t)}),l()()}if(n&2){let e=d(2);o(2),M(C(3,2,"TITLE.DepositPriceMax")),o(2),P("ngModel",e.filteModelContent.depositPriceMax)}}function Od(n,r){if(n&1){let e=I();a(0,"div",92)(1,"label",118),c(2),_(3,"translate"),l(),a(4,"input",119,13),k("ngModelChange",function(t){m(e);let s=d(2);return A(s.filteModelContent.periodPriceMax,t)||(s.filteModelContent.periodPriceMax=t),u(t)}),l()()}if(n&2){let e=d(2);o(2),h("",C(3,2,"TITLE.PeriodPriceMax")," "),o(2),P("ngModel",e.filteModelContent.periodPriceMax)}}function Bd(n,r){if(n&1){let e=I();a(0,"div",42),S(1,"i",124),c(2,"\xA0 "),a(3,"app-input-string",125),k("modelChange",function(t){m(e);let s=d().$implicit,p=d(3);return A(p.propertyDetails[s.id],t)||(p.propertyDetails[s.id]=t),u(t)}),l()()}if(n&2){let e=d().$implicit,i=d(3);o(),ve("color",e.iconColor),f("ngClass",e.iconFont),o(2),Mt(ge("color:'",e.iconColor,"';")),P("model",i.propertyDetails[e.id]),f("optionForceUseDefaultValue",e.configValueForceUseDefaultValue)("optionMultipleChoice",e.configValueMultipleChoice)("optionDefaultValue",e.configValueDefaultValues)("optionRequired",e.required)("optionLabel",e.title)}}function Hd(n,r){if(n&1){let e=I();a(0,"div",42),S(1,"i",124),c(2,"\xA0 "),a(3,"app-input-int",126),k("modelChange",function(t){m(e);let s=d().$implicit,p=d(3);return A(p.propertyDetails[s.id],t)||(p.propertyDetails[s.id]=t),u(t)}),l()()}if(n&2){let e=d().$implicit,i=d(3);o(),ve("color",e.iconColor),f("ngClass",e.iconFont),o(2),Mt(ge("color:'",e.iconColor,"';")),P("model",i.propertyDetails[e.id]),f("optionRequired",e.required)("optionLabel",e.title)}}function Fd(n,r){if(n&1){let e=I();a(0,"div",42),S(1,"i",124),c(2,"\xA0 "),a(3,"app-input-boolean",127),k("modelChange",function(t){m(e);let s=d().$implicit,p=d(3);return A(p.propertyDetails[s.id],t)||(p.propertyDetails[s.id]=t),u(t)}),c(4),l()()}if(n&2){let e=d().$implicit,i=d(3);o(),ve("color",e.iconColor),f("ngClass",e.iconFont),o(2),P("model",i.propertyDetails[e.id]),o(),h("",e.title," ")}}function Nd(n,r){if(n&1){let e=I();a(0,"div",42),S(1,"i",124),c(2,"\xA0 "),a(3,"app-input-float",126),k("modelChange",function(t){m(e);let s=d().$implicit,p=d(3);return A(p.propertyDetails[s.id],t)||(p.propertyDetails[s.id]=t),u(t)}),l()()}if(n&2){let e=d().$implicit,i=d(3);o(),ve("color",e.iconColor),f("ngClass",e.iconFont),o(2),Mt(ge("color:'",e.iconColor,"';")),P("model",i.propertyDetails[e.id]),f("optionRequired",e.required)("optionLabel",e.title)}}function Gd(n,r){if(n&1){let e=I();a(0,"div",42),S(1,"i",124),c(2,"\xA0 "),a(3,"label"),c(4),l(),a(5,"app-input-date",128),k("modelChange",function(t){m(e);let s=d().$implicit,p=d(3);return A(p.propertyDetails[s.id],t)||(p.propertyDetails[s.id]=t),u(t)}),l()()}if(n&2){let e=d().$implicit,i=d(3);o(),ve("color",e.iconColor),f("ngClass",e.iconFont),o(2),Mt(ge("color:'",e.iconColor,"';")),o(),M(e.title),o(),P("model",i.propertyDetails[e.id]),f("optionRequired",e.required)}}function Ud(n,r){if(n&1){let e=I();a(0,"div",42),S(1,"i",124),c(2,"\xA0 "),a(3,"app-input-textarea",126),k("modelChange",function(t){m(e);let s=d().$implicit,p=d(3);return A(p.propertyDetails[s.id],t)||(p.propertyDetails[s.id]=t),u(t)}),l()()}if(n&2){let e=d().$implicit,i=d(3);o(),ve("color",e.iconColor),f("ngClass",e.iconFont),o(2),Mt(ge("color:'",e.iconColor,"';")),P("model",i.propertyDetails[e.id]),f("optionRequired",e.required)("optionLabel",e.title)}}function qd(n,r){if(n&1){let e=I();a(0,"div",42),S(1,"i",124),c(2,"\xA0 "),a(3,"app-input-string",125),k("modelChange",function(t){m(e);let s=d().$implicit,p=d(3);return A(p.propertyDetails[s.id],t)||(p.propertyDetails[s.id]=t),u(t)}),l()()}if(n&2){let e=d().$implicit,i=d(3);o(),ve("color",e.iconColor),f("ngClass",e.iconFont),o(2),Mt(ge("color:'",e.iconColor,"';")),P("model",i.propertyDetails[e.id]),f("optionForceUseDefaultValue",e.configValueForceUseDefaultValue)("optionMultipleChoice",e.configValueMultipleChoice)("optionDefaultValue",e.configValueDefaultValues)("optionRequired",e.required)("optionLabel",e.title)}}function Wd(n,r){if(n&1&&v(0,Bd,4,12,"div",42)(1,Hd,4,9,"div",42)(2,Fd,5,5,"div",42)(3,Nd,4,9,"div",42)(4,Gd,6,9,"div",42)(5,Ud,4,9,"div",42)(6,qd,4,12,"div",42),n&2){let e,i=r.$implicit,t=d(3);E((e=i.inputDataType)===t.enumInputDataType.String?0:e===t.enumInputDataType.Int?1:e===t.enumInputDataType.Boolean?2:e===t.enumInputDataType.Float?3:e===t.enumInputDataType.Date?4:e===t.enumInputDataType.TextArea?5:6)}}function jd(n,r){if(n&1){let e=I();a(0,"button",129),b("click",function(){m(e);let t=d(3);return u(t.prevStep())}),c(1),_(2,"translate"),l()}n&2&&(o(),h(" ",C(2,1,"ACTION.PREVIOUS")," "))}function Qd(n,r){if(n&1){let e=I();a(0,"button",130),b("click",function(){m(e);let t=d(3);return u(t.nextStep())}),c(1),_(2,"translate"),l()}n&2&&(o(),h(" ",C(2,1,"ACTION.NEXT")," "))}function zd(n,r){if(n&1){let e=I();a(0,"button",130),b("click",function(){m(e);let t=d(3);return u(t.nextStep())}),c(1),_(2,"translate"),l()}n&2&&(o(),h(" ",C(2,1,"ACTION.END")," "))}function $d(n,r){if(n&1){let e=I();a(0,"mat-expansion-panel",120),b("opened",function(){let t=m(e).$index,s=d(2);return u(s.setStep(t))}),a(1,"mat-expansion-panel-header")(2,"mat-panel-title"),c(3),l(),a(4,"mat-panel-description"),c(5),a(6,"mat-icon",121),c(7),l()()(),Se(8,Wd,7,1,null,null,he),a(10,"mat-action-row"),v(11,jd,3,3,"button",122),v(12,Qd,3,3,"button",123),v(13,zd,3,3,"button",123),l()()}if(n&2){let e=r.$implicit,i=r.$index,t=d(2);f("expanded",t.step===i),o(3),h(" ",e.title," "),o(2),h(" ",e.description," "),o(2),M(e.iconFont),o(),ye(e.propertyDetails),o(3),E(i>0?11:-1),o(),E(i+1<t.dataModelPropertyDetailGroups.length?12:-1),o(),E(i+1===t.dataModelPropertyDetailGroups.length?13:-1)}}function Yd(n,r){if(n&1){let e=I();a(0,"div")(1,"P"),c(2),_(3,"translate"),l(),v(4,Md,2,3,"app-cms-user-selector",89),a(5,"app-cms-location-autocomplete",90),_(6,"translate"),b("optionChange",function(t){m(e);let s=d();return u(s.onActionSelectorLocation(t))}),l(),S(7,"hr"),a(8,"app-estate-property-type-usage-selector",91),_(9,"translate"),b("optionChange",function(t){m(e);let s=d();return u(s.onActionSelectorSelectUsage(t))}),l(),S(10,"br")(11,"br")(12,"br"),a(13,"app-estate-property-type-landuse-selector",91),_(14,"translate"),b("optionChange",function(t){m(e);let s=d();return u(s.onActionSelectorSelectLanduse(t))}),l(),S(15,"br")(16,"br")(17,"br"),a(18,"app-estate-contract-type-selector",91),_(19,"translate"),b("optionChange",function(t){m(e);let s=d();return u(s.onActionSelectorContarctType(t))}),l(),S(20,"br")(21,"br")(22,"br"),v(23,Td,5,4,"div",92),v(24,wd,5,4,"div",92),v(25,xd,7,5,"div",92),S(26,"hr"),a(27,"app-cms-currency-selector",93),_(28,"translate"),b("optionChange",function(t){m(e);let s=d();return u(s.onActionSelectCurrency(t))}),l(),a(29,"div",94)(30,"div",95),v(31,Pd,6,4,"div",92),v(32,Ad,6,4,"div",92),v(33,kd,5,1,"div",92),v(34,Rd,6,4,"div",92),l(),a(35,"div",95),v(36,Dd,6,4,"div",92),v(37,Ld,6,4,"div",92),v(38,Vd,6,4,"div",92),v(39,Od,6,4,"div",92),l(),a(40,"mat-accordion",96),Se(41,$d,14,7,"mat-expansion-panel",97,he),S(43,"br"),l()()()}if(n&2){let e=d();o(2),h("",C(3,23,"MESSAGE.Selecting_any_of_the_following_will_make_the_search_results_range_smaller")," "),o(2),E(e.tokenHelper.isAdminSite?4:-1),o(),f("optionPlaceholder",C(6,25,"TITLE.Region")),o(3),f("optionTypeView",2)("optionPlaceholder",C(9,27,"TITLE.Type_Usage")),o(5),f("optionTypeView",2)("optionPlaceholder",C(14,29,"TITLE.Property_Type")),o(5),f("optionTypeView",2)("optionPlaceholder",C(19,31,"TITLE.Transaction_type")),o(5),E(e.filteModelContent.linkPropertyTypeLanduseId&&(e.PropertyTypeSelected==null||e.PropertyTypeSelected.titleCreatedYaer==null?null:e.PropertyTypeSelected.titleCreatedYaer.length)>1?23:-1),o(),E(e.filteModelContent.linkPropertyTypeLanduseId&&(e.PropertyTypeSelected==null||e.PropertyTypeSelected.titlePartition==null?null:e.PropertyTypeSelected.titlePartition.length)>1?24:-1),o(),E(e.fieldsInfo.area!=null&&e.fieldsInfo.area.accessWatchField?25:-1),o(2),f("optionSelectFirstItem",!1)("optionSelectForce",e.filteModelContent.linkCoreCurrencyId)("optionPlaceholder",C(28,33,"TITLE.Specify_the_transaction_currency")),o(4),E(e.contractTypeSelected!=null&&e.contractTypeSelected.hasSalePrice?31:-1),o(),E(e.contractTypeSelected!=null&&e.contractTypeSelected.hasRentPrice?32:-1),o(),E(e.contractTypeSelected!=null&&e.contractTypeSelected.hasDepositPrice?33:-1),o(),E(e.contractTypeSelected!=null&&e.contractTypeSelected.hasDepositPrice?34:-1),o(2),E(e.contractTypeSelected!=null&&e.contractTypeSelected.hasSalePrice?36:-1),o(),E(e.contractTypeSelected!=null&&e.contractTypeSelected.hasRentPrice?37:-1),o(),E(e.contractTypeSelected!=null&&e.contractTypeSelected.hasDepositPrice?38:-1),o(),E(e.contractTypeSelected!=null&&e.contractTypeSelected.hasDepositPrice?39:-1),o(2),ye(e.dataModelPropertyDetailGroups)}}function Kd(n,r){n&1&&(a(0,"mat-header-cell"),c(1),_(2,"translate"),l()),n&2&&(o(),h(" ",C(2,1,"TITLE.MENU")," "))}function Jd(n,r){if(n&1){let e=I();a(0,"mat-cell")(1,"button",131),b("click",function(){let t=m(e).$implicit,s=d();return u(s.onActionTableRowSelectActionMenu(t))}),S(2,"i",132),l()()}}function Xd(n,r){if(n&1&&(a(0,"mat-header-cell",133),c(1),l()),n&2){let e=d();o(),h(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function Zd(n,r){if(n&1&&(a(0,"mat-cell"),c(1),l()),n&2){let e=r.$implicit;o(),h(" ",e.id," ")}}function ep(n,r){if(n&1&&(a(0,"mat-header-cell",133),c(1),l()),n&2){let e=d();o(),h(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function tp(n,r){if(n&1&&(a(0,"mat-cell"),c(1),_(2,"cmssiteinfo"),_(3,"async"),l()),n&2){let e=r.$implicit;o(),h(" ",C(3,3,C(2,1,e.linkSiteId))," ")}}function ip(n,r){if(n&1&&(a(0,"mat-header-cell",133),c(1),l()),n&2){let e=d();o(),h(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function np(n,r){if(n&1&&S(0,"select",135),n&2){let e=d().$implicit,i=d();f("contentService",i.contentService)("row",e)("ngStyle",Ee(3,Na,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function op(n,r){if(n&1&&(a(0,"mat-cell",134),_(1,"statusCellClass"),S(2,"i",134),_(3,"statusIconClass"),v(4,np,1,5,"select",135),l()),n&2){let e=r.$implicit,i=d();f("ngClass",C(1,3,e.recordStatus)),o(2),f("ngClass",C(3,5,e.recordStatus)),o(2),E(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessEditRow?4:-1)}}function rp(n,r){if(n&1&&(a(0,"mat-header-cell",133),c(1),l()),n&2){let e=d();o(),h(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," ")}}function ap(n,r){if(n&1&&(a(0,"mat-cell"),c(1),l()),n&2){let e=r.$implicit;o(),h(" ",e.title," ")}}function lp(n,r){if(n&1&&(a(0,"mat-header-cell",133),c(1),l()),n&2){let e=d();o(),h(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function sp(n,r){if(n&1&&(a(0,"mat-cell"),c(1),_(2,"localeDateTime"),l()),n&2){let e=r.$implicit;o(),h(" ",C(2,1,e.createdDate)," ")}}function cp(n,r){if(n&1&&(a(0,"mat-header-cell",133),c(1),l()),n&2){let e=d();o(),h(" ",e.fieldsInfo.scoreRushToBuy==null?null:e.fieldsInfo.scoreRushToBuy.fieldTitle," ")}}function dp(n,r){if(n&1&&(a(0,"mat-cell",134),c(1),l()),n&2){let e=r.$implicit;f("ngClass","cms-cell-score-"+e.scoreRushToBuy),o(),h(" ",e.scoreRushToBuy," ")}}function pp(n,r){if(n&1&&(a(0,"mat-header-cell",133),c(1),l()),n&2){let e=d();o(),h(" ",e.fieldsInfo.scorePurchaseDecision==null?null:e.fieldsInfo.scorePurchaseDecision.fieldTitle," ")}}function mp(n,r){if(n&1&&(a(0,"mat-cell",134),c(1),l()),n&2){let e=r.$implicit;f("ngClass","cms-cell-score-"+e.scorePurchaseDecision),o(),h(" ",e.scorePurchaseDecision," ")}}function up(n,r){if(n&1&&(a(0,"mat-header-cell",133),c(1),l()),n&2){let e=d();o(),h(" ",e.fieldsInfo.scoreLiquidityPower==null?null:e.fieldsInfo.scoreLiquidityPower.fieldTitle," ")}}function fp(n,r){if(n&1&&(a(0,"mat-cell",134),c(1),l()),n&2){let e=r.$implicit;f("ngClass","cms-cell-score-"+e.scoreLiquidityPower),o(),h(" ",e.scoreLiquidityPower," ")}}function _p(n,r){if(n&1&&(a(0,"mat-header-cell",133),c(1),l()),n&2){let e=d();o(),h(" ",e.fieldsInfo.scorePurchasingPower==null?null:e.fieldsInfo.scorePurchasingPower.fieldTitle," ")}}function Cp(n,r){if(n&1&&(a(0,"mat-cell",134),c(1),l()),n&2){let e=r.$implicit;f("ngClass","cms-cell-score-"+e.scorePurchasingPower),o(),h(" ",e.scorePurchasingPower," ")}}function hp(n,r){if(n&1&&(a(0,"mat-header-cell",133),c(1),l()),n&2){let e=d();o(),h(" ",e.fieldsInfo.updatedDate==null?null:e.fieldsInfo.updatedDate.fieldTitle," ")}}function Sp(n,r){if(n&1&&(a(0,"mat-cell",136),c(1),_(2,"localeDateTime"),l()),n&2){let e=r.$implicit;o(),h(" ",C(2,1,e.updatedDate)," ")}}function yp(n,r){if(n&1&&(a(0,"mat-header-cell",133),c(1),l()),n&2){let e=d();o(),h(" ",e.fieldsInfo.caseCode==null?null:e.fieldsInfo.caseCode.fieldTitle," ")}}function gp(n,r){if(n&1&&(a(0,"mat-cell"),c(1),l()),n&2){let e=r.$implicit;o(),h(" ",e.caseCode," ")}}function vp(n,r){n&1&&(a(0,"mat-header-cell",137),c(1),_(2,"translate"),l()),n&2&&(o(),h(" ",C(2,1,"TITLE.OPTION")," "))}function Ep(n,r){if(n&1&&(a(0,"mat-cell",138)(1,"button",139)(2,"mat-icon"),c(3,"more_vert"),l()(),S(4,"mat-menu",null,14),l()),n&2){let e=D(5);o(),f("matMenuTriggerFor",e)}}function bp(n,r){n&1&&(a(0,"mat-header-cell",133),c(1),_(2,"translate"),l()),n&2&&(o(),h(" ",C(2,1,"TITLE.LINKTO")," "))}function Ip(n,r){if(n&1){let e=I();a(0,"mat-cell")(1,"button",140),b("click",function(){let t=m(e).$implicit,s=d();return u(s.onActionButtonLinkTo(t))}),a(2,"mat-icon",141),c(3,"\u2197"),l()()()}}function Mp(n,r){n&1&&(a(0,"mat-header-cell",133),c(1),_(2,"translate"),l()),n&2&&(o(),h(" ",C(2,1,"TITLE.QUICK_VIEW")," "))}function Tp(n,r){if(n&1){let e=I();a(0,"mat-cell")(1,"button",142),b("click",function(){let t=m(e).$implicit,s=d();return u(s.onActionButtonQuickViewRow(t))}),a(2,"mat-icon",141),c(3,"visibility"),l()()()}}function wp(n,r){if(n&1&&(a(0,"mat-cell"),c(1),l()),n&2){let e=r.$implicit;o(),h(" ",e.title," ")}}function xp(n,r){if(n&1&&(S(0,"img",143),_(1,"cmsthumbnail")),n&2){let e=d().$implicit;f("src",R(C(1,2,e.linkMainImageIdSrc)),ie)}}function Pp(n,r){if(n&1&&(a(0,"tr"),S(1,"td"),a(2,"td"),c(3),l()()),n&2){let e=d().$implicit,i=d();o(3),q(" ",i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle," : ",e.description," ")}}function Ap(n,r){if(n&1&&(a(0,"tr"),S(1,"td"),a(2,"td"),c(3),_(4,"translate"),l()()),n&2){let e=d().$implicit;o(3),q(" ",C(4,2,"TITLE.Description_Hidden")," : ",e.descriptionHidden," ")}}function kp(n,r){if(n&1&&(a(0,"tr"),S(1,"td"),a(2,"td"),c(3),_(4,"translate"),l()()),n&2){let e=d().$implicit;o(3),q(" ",C(4,2,"TITLE.Contact_Mobiles")," : ",e.contactMobiles," ")}}function Rp(n,r){if(n&1){let e=I();a(0,"mat-cell")(1,"div")(2,"table")(3,"tr")(4,"th"),v(5,xp,2,4,"img",143),l(),a(6,"th")(7,"span",144),b("click",function(){m(e);let t=d();return u(t.onActionCopied())}),S(8,"i",145),l(),c(9),l()(),a(10,"tr"),S(11,"td"),a(12,"td"),c(13),l()(),v(14,Pp,4,2,"tr"),v(15,Ap,5,4,"tr"),v(16,kp,5,4,"tr"),a(17,"tr"),S(18,"td"),a(19,"td",146),c(20),_(21,"cmsuserinfo"),_(22,"async"),l()(),a(23,"tr")(24,"td",147),c(25),_(26,"translate"),l(),a(27,"td",147),c(28),l()(),a(29,"tr"),S(30,"td")(31,"td"),l()()()()}if(n&2){let e=r.$implicit,i=d();o(5),E((e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0?5:-1),o(2),f("cdkCopyToClipboard",e.id),o(2),h(" ",e.id," "),o(4),q("",i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle," : ",e.title),o(),E(e.description?14:-1),o(),E(i.fieldsInfo.descriptionHidden!=null&&i.fieldsInfo.descriptionHidden.accessWatchField?15:-1),o(),E(i.fieldsInfo.contactMobiles!=null&&i.fieldsInfo.contactMobiles.accessWatchField?16:-1),o(4),h(" ",C(22,13,C(21,11,e.createdBy))," "),o(5),h(" ",C(26,15,"TITLE.HISTORY")," : "),o(3),M(e.historyTotalCount)}}function Dp(n,r){n&1&&S(0,"mat-header-row")}function Lp(n,r){if(n&1){let e=I();a(0,"mat-row",148),b("click",function(t){let s=m(e).$implicit,p=d();return u(p.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=m(e).$implicit,p=d();return u(p.onActionTableRowSelect(s,t))})("mouseenter",function(){let t=m(e).$implicit,s=d();return u(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=m(e).$implicit,s=d();return u(s.onActionTableRowMouseLeave(t))}),l()}if(n&2){let e=r.$implicit,i=d();j("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}function Vp(n,r){if(n&1){let e=I();a(0,"mat-row",149),b("click",function(t){let s=m(e).$implicit,p=d();return u(p.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=m(e).$implicit,p=d();return u(p.onActionTableRowSelect(s,t))})("mouseenter",function(){let t=m(e).$implicit,s=d();return u(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=m(e).$implicit,s=d();return u(s.onActionTableRowMouseLeave(t))}),l()}if(n&2){let e=r.$implicit,i=d();j("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}function Op(n,r){if(n&1){let e=I();a(0,"mat-row",150),b("click",function(t){let s=m(e).$implicit,p=d();return u(p.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=m(e).$implicit,p=d();return u(p.onActionTableRowSelect(s,t))})("mouseenter",function(){let t=m(e).$implicit,s=d();return u(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=m(e).$implicit,s=d();return u(s.onActionTableRowMouseLeave(t))}),l()}if(n&2){let e=r.$implicit,i=d();j("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)),f("ngStyle",Ee(3,Na,e.expanded===!0?"":"none"))}}var zn=class zn extends Ut{constructor(e,i,t,s,p,y,z,Me,Ce,et,We,Ge,tt,it){super(e,new ci,tt,p,Me);this.contentService=e;this.cmsConfirmationDialogService=i;this.estatePropertyDetailGroupService=t;this.cmsToastrService=s;this.tokenHelper=p;this.router=y;this.cdr=z;this.translate=Me;this.activatedRoute=Ce;this.cmsStoreService=et;this.themeService=We;this.pageInfo=Ge;this.publicHelper=tt;this.dialog=it;this.constructorInfoAreaId=this.constructor.name;this.responsibleUserId=0;this.searchInResponsibleChecked=!1;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new tn;this.dataModelPropertyDetailGroups=[];this.enumInputDataType=en;this.tabledisplayedColumns=[];this.step=0;this.tabledisplayedColumnsSource=["id","linkSiteId","recordStatus","createdDate","updatedDate","scoreRushToBuy","scorePurchaseDecision","scoreLiquidityPower","scorePurchasingPower","CaseCode","LinkTo","QuickView","action_menu"];this.tabledisplayedColumnsMobileSource=["recordStatus","title","CaseCode","LinkTo","QuickView","action_menu"];this.unsubscribe=[];this.propertyDetails=new Map;this.optionloadComponent=!0;this.optionloadByRoute=!0;this.PropertyTypeSelected=new si;this.dataModelCorCurrencySelector=new Ei;this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:Pe=>this.onSubmitOptionsSearch(Pe)},this.responsibleUserId=+this.activatedRoute.snapshot.paramMap.get("ResponsibleUserId"),this.requestRecordStatus=Ie[this.activatedRoute.snapshot.paramMap.get("recordStatus")+""],this.requestRecordStatus&&(this.optionsSearch.data.show=!0,this.optionsSearch.data.defaultQuery='{"condition":"and","rules":[{"field":"recordStatus","type":"select","operator":"equal","value":"'+this.requestRecordStatus+'"}]}',this.requestRecordStatus=null),this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=ae.Descending}set optionLinkPropertyId(e){e&&e.length>0&&(this.requestLinkPropertyId=e)}set optionLinkPropertyIdHaveHistory(e){e&&e.length>0&&(this.requestLinkPropertyIdHaveHistory=e)}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&(!this.tokenHelper.isAdminSite&&!this.tokenHelper.isSupportSite&&(this.tabledisplayedColumnsSource=this.publicHelper.listRemoveIfExist(this.tabledisplayedColumnsSource,"scoreRushToBuy"),this.tabledisplayedColumnsSource=this.publicHelper.listRemoveIfExist(this.tabledisplayedColumnsSource,"scorePurchaseDecision"),this.tabledisplayedColumnsSource=this.publicHelper.listRemoveIfExist(this.tabledisplayedColumnsSource,"scoreLiquidityPower"),this.tabledisplayedColumnsSource=this.publicHelper.listRemoveIfExist(this.tabledisplayedColumnsSource,"scorePurchasingPower")),this.DataGetAll()),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>$(this,null,function*(){this.tokenInfo=e,!this.tokenHelper.isAdminSite&&this.tokenHelper.isSupportSite&&(this.tabledisplayedColumnsSource=this.publicHelper.listRemoveIfExist(this.tabledisplayedColumnsSource,"scoreRushToBuy"),this.tabledisplayedColumnsSource=this.publicHelper.listRemoveIfExist(this.tabledisplayedColumnsSource,"scorePurchaseDecision"),this.tabledisplayedColumnsSource=this.publicHelper.listRemoveIfExist(this.tabledisplayedColumnsSource,"scoreLiquidityPower"),this.tabledisplayedColumnsSource=this.publicHelper.listRemoveIfExist(this.tabledisplayedColumnsSource,"scorePurchasingPower")),this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){if(this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),!this.optionloadComponent)return;this.tableRowsSelected=[],this.onActionTableRowSelect(new ci);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(p=>{this.publicHelper.processService.processStart(e,p,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));if(this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.categoryModelSelected&&this.categoryModelSelected.id.length>0){let p=new L;p.propertyName="linkEstateCustomerCategoryId",p.value=this.categoryModelSelected.id,i.filters.push(p)}var t=0;if(this.searchInResponsibleChecked?t=this.tokenInfo.access.userId:this.responsibleUserId>0&&(t=this.responsibleUserId),this.requestLinkPropertyId&&this.requestLinkPropertyId.length>0)this.contentService.ServiceGetAllWithCoverPropertyId(this.requestLinkPropertyId,i).subscribe({next:p=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(p.access),p.isSuccess?(this.dataModelResult=p,this.tableSource.data=p.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(p.access)},1e3)):this.cmsToastrService.typeErrorMessage(p.errorMessage),this.publicHelper.processService.processStop(e)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(e,!1)}});else if(this.requestLinkPropertyIdHaveHistory&&this.requestLinkPropertyIdHaveHistory.length>0)this.contentService.ServiceGetAllWithCoverPropertyIdHaveHistory(this.requestLinkPropertyIdHaveHistory,i).subscribe({next:p=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(p.access),p.isSuccess?(this.dataModelResult=p,this.tableSource.data=p.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(p.access)},1e3)):this.cmsToastrService.typeErrorMessage(p.errorMessage),this.publicHelper.processService.processStop(e)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(e,!1)}});else if(t>0)this.contentService.ServiceGetAllWithResponsibleUserId(t,i).subscribe({next:p=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(p.access),p.isSuccess?(this.dataModelResult=p,this.tableSource.data=p.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(p.access)},1e3)):this.cmsToastrService.typeErrorMessage(p.errorMessage),this.publicHelper.processService.processStop(e)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(e,!1)}});else{var s=[];this.dataModelPropertyDetailGroups&&this.dataModelPropertyDetailGroups.forEach(p=>{p.propertyDetails.forEach(y=>{let z=new on;z.linkPropertyDetailId=y.id,z.value=this.propertyDetails[y.id],s.push(z)})}),i.propertyDetailValues=s,this.contentService.setAccessDataType(Ye.Editor),this.contentService.ServiceGetAll(i).subscribe({next:p=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(p.access),p.isSuccess?(this.dataModelResult=p,this.tableSource.data=p.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(p.access)},1e3)):this.cmsToastrService.typeErrorMessage(p.errorMessage),this.publicHelper.processService.processStop(e)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(e,!1)}})}}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=ae.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=ae.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=ae.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(e){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(vo,{height:"90%",panelClass:i,enterAnimationDuration:O.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:O.cmsViewConfig.exitAnimationDuration,data:{linkEstateCustomerCategoryId:this.categoryModelSelected?.id}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate&&this.router.navigate(["/estate/log/customer-order/edit/",s.id])})}onActionButtonCopyNewRow(e=this.tableRowSelected,i){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}this.onActionTableRowSelect(e);var t="";this.publicHelper.isMobile?t="dialog-fullscreen":t="dialog-min",this.dialog.open(vo,{height:"90%",panelClass:t,enterAnimationDuration:O.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:O.cmsViewConfig.exitAnimationDuration,data:{copyId:e.id,linkEstateCustomerCategoryId:this.categoryModelSelected?.id}}).afterClosed().subscribe(p=>{p&&p.dialogChangedDate&&this.router.navigate(["/estate/log/customer-order/edit/",p.id])})}onActionButtonEditRow(e=this.tableRowSelected,i){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}i?.ctrlKey?(this.link="/#/estate/log/customer-order/edit/"+this.tableRowSelected.id,window.open(this.link,"_blank")):this.router.navigate(["/estate/log/customer-order/edit",this.tableRowSelected.id])}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(s=>{this.cmsToastrService.typeErrorSelected(s)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(s=>{i=s["MESSAGE.Please_Confirm"],t=s["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(s=>{if(s){let p=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(y=>{this.publicHelper.processService.processStart(p,y,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(e.id).subscribe({next:y=>{y.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(p)},error:y=>{this.cmsToastrService.typeError(y),this.publicHelper.processService.processStop(p,!1)}})}}).catch(()=>{})}onActionButtonHistoryRow(e=this.tableRowSelected,i){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}i?.ctrlKey?(this.link="/#/estate/log/property-history/LinkCustomerOrderId/"+this.tableRowSelected.id,window.open(this.link,"_blank")):this.router.navigate(["/estate/log/property-history/LinkCustomerOrderId",this.tableRowSelected.id])}onActionButtonOpenCustomerOrder(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.onActionTableRowSelect(e),window.open(this.tableRowSelected.urlViewContent,"_blank")}onActionButtonContentList(e=this.tableRowSelected,i){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}this.onActionTableRowSelect(e),i?.ctrlKey?(this.link="/#/estate/data/property/LinkCustomerOrderId/"+this.tableRowSelected.id,window.open(this.link,"_blank")):this.router.navigate(["/estate/data/property/LinkCustomerOrderId/",this.tableRowSelected.id])}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.property_list").subscribe(Kt=>{this.publicHelper.processService.processStart(this.constructor.name+"All",Kt,this.constructorInfoAreaId)}),this.contentService.setAccessDataType(Ye.Editor);let t=JSON.parse(JSON.stringify(this.filteModelContent)),s=this.contentService.ServiceGetCount(t),p=JSON.parse(JSON.stringify(this.filteModelContent)),y=new L;y.propertyName="recordStatus",y.value=Ie.Available,p.filters.push(y);let z=this.contentService.ServiceGetCount(p),Me=JSON.parse(JSON.stringify(this.filteModelContent)),Ce=new L;Ce.propertyName="recordStatus",Ce.value=Ie.Archive,Me.filters.push(Ce);let et=this.contentService.ServiceGetCount(Me),We=JSON.parse(JSON.stringify(this.filteModelContent)),Ge=new L;Ge.propertyName="recordStatus",Ge.value=Ie.Pending,We.filters.push(Ge);let tt=this.contentService.ServiceGetCount(We),it=JSON.parse(JSON.stringify(this.filteModelContent)),Pe=new L;Pe.propertyName="recordStatus",Pe.value=Ie.Disable,it.filters.push(Pe);let V=this.contentService.ServiceGetCount(it);Io([s,z,et,tt,V]).subscribe(Kt=>{var De=Kt[0];De.isSuccess&&this.translate.get("MESSAGE.customer_order_list").subscribe(hi=>{i.set(hi,De.totalRowCount)});var De=Kt[1];De.isSuccess&&this.translate.get("MESSAGE.customer_order_list_active").subscribe(hi=>{i.set(hi,De.totalRowCount)}),De=Kt[2],De.isSuccess?this.translate.get("MESSAGE.customer_order_list_close").subscribe(hi=>{i.set(hi,De.totalRowCount)}):this.cmsToastrService.typeErrorMessage(De.errorMessage),De=Kt[3],De.isSuccess?this.translate.get("MESSAGE.customer_order_needs_approval").subscribe(hi=>{i.set(hi,De.totalRowCount)}):this.cmsToastrService.typeErrorMessage(De.errorMessage),De=Kt[4],De.isSuccess?this.translate.get("MESSAGE.customer_order_list_disable").subscribe(hi=>{i.set(hi,De.totalRowCount)}):this.cmsToastrService.typeErrorMessage(De.errorMessage),this.publicHelper.processService.processStop(this.constructor.name+"All"),this.optionsStatist.childMethods.setStatistValue(i)})}onActionButtonInResponsible(e){this.searchInResponsibleChecked=e,this.DataGetAll()}onActionSelectorSelect(e){var i=this.filteModelContent.sortColumn,t=this.filteModelContent.sortType,i=this.filteModelContent.sortColumn,t=this.filteModelContent.sortType;this.filteModelContent=new tn,this.filteModelContent.sortColumn=i,this.filteModelContent.sortType=t,this.filteModelContent.sortColumn=i,this.filteModelContent.sortType=t,this.categoryModelSelected=e,this.DataGetAll()}onActionButtonReload(){this.optionloadComponent=!0,this.DataGetAll()}onActionCopied(){this.cmsToastrService.typeSuccessCopedToClipboard()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionButtonLinkTo(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(e.recordStatus!=Ie.Available){this.cmsToastrService.typeWarningRecordStatusNoAvailable();return}this.tableRowSelected=e;let i=this.constructor.name+"ServiceGetOneById";this.translate.get("MESSAGE.get_customer_information").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructorInfoAreaId)}),this.contentService.ServiceGetOneById(e.id).subscribe({next:t=>{if(t.isSuccess){var s="";this.publicHelper.isMobile?s="dialog-fullscreen":s="dialog-min",this.dialog.open(li,{height:"90%",panelClass:s,enterAnimationDuration:O.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:O.cmsViewConfig.exitAnimationDuration,data:{title:t.item.title,urlViewContentQRCodeBase64:t.item.urlViewContentQRCodeBase64,urlViewContent:t.item.urlViewContent}}).afterClosed().subscribe(y=>{y&&y.dialogChangedDate&&this.DataGetAll()})}else this.cmsToastrService.typeErrorMessage(t.errorMessage);this.publicHelper.processService.processStop(i)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(i,!1)}})}onActionSelectorLocation(e){this.filteModelContent.linkLocationIds=e}onActionSelectorSelectUsage(e){if(!e||!e.id||e.id.length<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(i=>{this.cmsToastrService.typeWarningSelected(i)});return}this.filteModelContent.linkPropertyTypeUsageId=e.id}onSearchCaseCodeChange(e){e&&e.length>0&&(this.filteModelContent=new tn,this.filteModelContent.caseCode=e,this.dataModelPropertyDetailGroups=[])}onActionSelectorSelectLanduse(e){if(this.dataModelPropertyDetailGroups=[],this.PropertyTypeSelected=null,this.filteModelContent.linkPropertyTypeLanduseId=null,!e||!e.id||e.id.length<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(i=>{this.cmsToastrService.typeWarningSelected(i)});return}this.DataGetPropertyDetailGroup(e.id),this.PropertyTypeSelected=e,this.filteModelContent.linkPropertyTypeLanduseId=e.id}DataGetPropertyDetailGroup(e){let i=new re,t=new L;t.propertyName="LinkPropertyTypeLanduseId",t.value=e,i.filters.push(t),this.dataModelPropertyDetailGroups=[];let s=this.constructor.name+"DataGetPropertyDetailGroup";this.translate.get("MESSAGE.Get_detailed_information").subscribe(p=>{this.publicHelper.processService.processStart(s,p,this.constructorInfoAreaId)}),this.estatePropertyDetailGroupService.ServiceGetAllFastSearch(i).subscribe({next:p=>{p.isSuccess?(this.dataModelPropertyDetailGroups=p.listItems,this.dataModelPropertyDetailGroups&&this.dataModelPropertyDetailGroups.forEach(y=>{y.propertyDetails.forEach(z=>{this.propertyDetails[z.id]=0})})):this.cmsToastrService.typeErrorGetAccess(p.errorMessage),this.publicHelper.processService.processStop(s)},error:p=>{this.cmsToastrService.typeErrorGetAccess(p),this.publicHelper.processService.processStop(s,!1)}})}onActionSelectorContarctType(e){if(this.contractTypeSelected=null,this.filteModelContent.linkContractTypeId=null,!e||!e.id||e.id.length<=0){this.translate.get("MESSAGE.Type_of_property_transaction_is_not_known").subscribe(i=>{this.cmsToastrService.typeWarningSelected(i)});return}this.contractTypeSelected=e,this.filteModelContent.linkContractTypeId=e.id}onActionSelectCurrency(e){if(!e||e.id<=0){this.dataModelCorCurrencySelector=null,this.filteModelContent.linkCoreCurrencyId=null;return}this.dataModelCorCurrencySelector=e,this.filteModelContent.linkCoreCurrencyId=e.id}onActionButtonQuickHistoryAddRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}this.onActionTableRowSelect(e);var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(gi,{height:"90%",panelClass:i,enterAnimationDuration:O.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:O.cmsViewConfig.exitAnimationDuration,data:{linkActivityTypeId:this.categoryModelSelected?.id,linkPropertyId:null,linkEstateExpertId:null,linkCustomerOrderId:e.id,linkEstateAgencyId:null}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate})}onActionButtonQuickViewRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.tableRowSelected=e,this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var i=this.publicHelper.InfoNextRowInList(this.dataModelResult.listItems,this.tableRowSelected),t=this.publicHelper.InfoPerviousRowInList(this.dataModelResult.listItems,this.tableRowSelected),s="";this.publicHelper.isMobile?s="dialog-fullscreen":s="dialog-min",this.dialog.open(Ko,{height:"90%",panelClass:s,data:{id:this.tableRowSelected.id,perviousItem:t,nextItem:i}}).afterClosed().subscribe(y=>{y&&y.dialogChangedDate&&y.onActionOpenItem&&y.onActionOpenItem.id.length>0&&this.onActionButtonQuickViewRow(y.onActionOpenItem)})}onActionButtonResponsibleUserlistView(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}this.tableRowSelected=e;var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(sr,{height:"90%",panelClass:i,enterAnimationDuration:O.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:O.cmsViewConfig.exitAnimationDuration,data:{title:this.tableRowSelected.title,id:this.tableRowSelected.id}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate})}setStep(e){this.step=e}nextStep(){this.step++}prevStep(){this.step--}};zn.\u0275fac=function(i){return new(i||zn)(g(di),g(Gt),g(sn),g(F),g(K),g(ii),g(G),g(H),g(vi),g(Y),g(Xe),g(Ze),g(U),g(Z))},zn.\u0275cmp=B({type:zn,selectors:[["app-estate-customer-order-list"]],inputs:{optionloadComponent:"optionloadComponent",optionloadByRoute:"optionloadByRoute",optionLinkPropertyId:"optionLinkPropertyId",optionLinkPropertyIdHaveHistory:"optionLinkPropertyIdHaveHistory"},standalone:!1,features:[we],decls:160,vars:71,consts:[["caseCode",""],["tableSort","matSort"],["paginator",""],["CreatedYaer",""],["Partition",""],["Area",""],["SalePriceMin",""],["RentPriceMin",""],["DepositPriceMin",""],["PeriodPriceMin",""],["SalePriceMax",""],["RentPriceMax",""],["DepositPriceMax",""],["PeriodPriceMax",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionActionRowDisplayMenuAct","optionSelectRowItemTitle"],["cms-tree",""],[3,"optionChange"],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-maximize","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-minimize","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-clock-rotate-left","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-buildings","font-18",2,"color","#ffffff"],[1,"fa-light","fa-clapperboard-play","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-share","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],[1,"ntk-full-width"],["matInput","","name","filteModelContent.caseCode","type","text","step","1",3,"input","ngModelChange","ngModel","placeholder"],["matPrefix","","matPrefix","","mat-icon-button","","aria-label","Clear"],["matPrefix",""],["matSuffix","",1,"info-field-icon"],[1,"info-field-text"],["cms-body",""],["matSort","","multiTemplateDataRows","",1,"ntk-cms-html-table",3,"matSortChange","dataSource"],["matColumnDef","action_menu"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","id"],["mat-sort-header","","class","form-label",4,"matHeaderCellDef"],["matColumnDef","linkSiteId"],["matColumnDef","recordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","title"],["matColumnDef","createdDate"],["matColumnDef","scoreRushToBuy"],["matColumnDef","scorePurchaseDecision"],["matColumnDef","scoreLiquidityPower"],["matColumnDef","scorePurchasingPower"],["matColumnDef","updatedDate"],["style","direction: ltr",4,"matCellDef"],["matColumnDef","CaseCode"],["matColumnDef","Action"],["class","form-label",4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],["matColumnDef","LinkTo"],["matColumnDef","QuickView"],["matColumnDef","expandedTitle"],["matColumnDef","expandedDetail"],[4,"matHeaderRowDef"],["class","ntk-row-expandedTitle",3,"ntk-row-selected","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["class","ntk-row-expandedDetail",3,"ntk-row-selected","ngStyle","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["type","button","target","_blank","id","openModalButton","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-copy","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["matPrefix","","matPrefix","","mat-icon-button","","aria-label","Clear",3,"click"],[3,"optionPlaceholder"],[3,"optionChange","optionPlaceholder"],[3,"optionChange","optionTypeView","optionPlaceholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],[3,"optionChange","optionSelectFirstItem","optionSelectForce","optionPlaceholder"],[1,"row",2,"direction","rtl"],[1,"col-md-6","col-sm-6","col-xs-9"],[1,"example-headers-align"],[3,"expanded"],["for","filteModelContent.createdYaer",1,"color-highlight"],["matInput","","name","filteModelContent.createdYaer","type","number","id","filteModelContent.createdYaer",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","filteModelContent.partition",1,"color-highlight"],["matInput","","name","filteModelContent.partition","type","number","id","filteModelContent.partition",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","filteModelContent.area",1,"color-highlight"],["matInput","","name","filteModelContent.area","type","text","currencyMask","","pattern","(d{3})","step","10","id","filteModelContent.area",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel","placeholder"],["for","filteModelContent.salePriceMin",1,"color-highlight"],["matInput","","name","filteModelContent.salePriceMin","type","text","currencyMask","","step","1000000","id","filteModelContent.salePriceMin",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel"],["for","filteModelContent.rentPriceMin",1,"color-highlight"],["matInput","","name","filteModelContent.rentPriceMin","type","text","currencyMask","","step","1000000","id","filteModelContent.rentPriceMin",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel"],["for","filteModelContent.depositPriceMin",1,"color-highlight"],["matInput","","name","filteModelContent.depositPriceMin","type","text","currencyMask","","step","1000000","id","filteModelContent.depositPriceMin",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel"],["for","filteModelContent.periodPriceMin",1,"color-highlight"],["matInput","","name","filteModelContent.periodPriceMin","type","text","currencyMask","","step","1000000","id","filteModelContent.periodPriceMin",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel"],["for","filteModelContent.salePriceMax",1,"color-highlight"],["matInput","","name","filteModelContent.salePriceMax","type","text","currencyMask","","step","1000000","id","filteModelContent.salePriceMax",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel"],["for","filteModelContent.rentPriceMax",1,"color-highlight"],["matInput","","name","filteModelContent.rentPriceMax","type","text","currencyMask","","step","1000000","id","filteModelContent.rentPriceMax",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel"],["for","filteModelContent.depositPriceMax",1,"color-highlight"],["matInput","","name","filteModelContent.depositPriceMax","type","text","currencyMask","","step","1000000","id","filteModelContent.depositPriceMax",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel"],["for","filteModelContent.periodPriceMax",1,"color-highlight"],["matInput","","name","filteModelContent.periodPriceMax","type","text","currencyMask","","step","1000000","id","filteModelContent.periodPriceMax",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel"],[3,"opened","expanded"],[2,"width","100px"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue"],["aria-hidden","true",3,"ngClass"],[3,"modelChange","model","optionForceUseDefaultValue","optionMultipleChoice","optionDefaultValue","optionRequired","optionLabel"],[3,"modelChange","model","optionRequired","optionLabel"],[3,"modelChange","model"],[3,"modelChange","model","optionRequired"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue",3,"click"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"click"],[1,"fa","fa-bars","font-18"],["mat-sort-header","",1,"form-label"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[2,"direction","ltr"],[1,"form-label"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],["type","button","mat-icon-button","",3,"click"],[2,"color","#ff671f"],["type","button","mat-icon-button","",1,"text-dark",3,"click"],["aria-hidden","","height","80","width","80",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"navi-icon","pointer",3,"click","cdkCopyToClipboard"],[1,"flaticon2-copy"],[1,"input-Mobile"],[1,"col-form-label"],[1,"ntk-row-expandedTitle",3,"click","rtclick","mouseenter","mouseleave"],[1,"ntk-row-mainfild",3,"click","rtclick","mouseenter","mouseleave"],[1,"ntk-row-expandedDetail",3,"click","rtclick","mouseenter","mouseleave","ngStyle"]],template:function(i,t){if(i&1){let s=I();a(0,"app-cms-html-list",15),k("optionActionGuideNoticeDisplayChange",function(y){return m(s),A(t.viewGuideNotice,y)||(t.viewGuideNotice=y),u(y)}),b("optionOnActionButtonMemoRow",function(){return m(s),u(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return m(s),u(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return m(s),u(t.onActionButtonExport())}),T(1,16),a(2,"app-estate-customer-category-tree",17),b("optionChange",function(y){return m(s),u(t.onActionSelectorSelect(y))}),l(),w(),Le(3,18)(4,19),T(5,20),a(6,"a",21),b("click",function(){return m(s),u(t.viewGuideNotice=!t.viewGuideNotice)}),S(7,"i",22),l(),a(8,"a",21),b("click",function(){return m(s),u(t.onActionButtonReload())}),S(9,"i",23),l(),a(10,"a",24),b("click",function(){return m(s),u(t.onActionGridExpandRows(!0))}),S(11,"i",25),l(),a(12,"a",24),b("click",function(){return m(s),u(t.onActionGridExpandRows(!1))}),S(13,"i",26),l(),w(),T(14,27),a(15,"a",28),b("click",function(){return m(s),u(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),S(16,"mat-slide-toggle",29),c(17),_(18,"translate"),l(),a(19,"a",28),b("click",function(){return m(s),u(t.onActionButtonStatist())}),S(20,"mat-slide-toggle",29),c(21),_(22,"translate"),l(),v(23,yd,4,4,"a",30),w(),T(24,31),v(25,gd,7,3,"div",32),w(),T(26,33),a(27,"div",32)(28,"a",21),b("click",function(){return m(s),u(t.onActionButtonQuickViewRow(t.tableRowSelected))}),S(29,"i",34)(30,"br"),l(),a(31,"p",35),c(32),_(33,"translate"),l()(),v(34,vd,7,3,"div",32),v(35,Ed,7,3,"div",32),v(36,bd,7,3,"div",32),a(37,"div",32)(38,"a",24),b("click",function(){return m(s),u(t.onActionButtonQuickHistoryAddRow(t.tableRowSelected))}),S(39,"i",36)(40,"br"),l(),a(41,"p",35),c(42),_(43,"translate"),l()(),a(44,"div",32)(45,"a",24),b("click",function(y){return m(s),u(t.onActionButtonHistoryRow(t.tableRowSelected,y))}),S(46,"i",36)(47,"br"),l(),a(48,"p",35),c(49),_(50,"translate"),l()(),a(51,"div",32)(52,"a",24),b("click",function(y){return m(s),u(t.onActionButtonContentList(t.tableRowSelected,y))}),S(53,"i",37)(54,"br"),l(),a(55,"p",35),c(56),_(57,"translate"),l()(),a(58,"div",32)(59,"a",24),b("click",function(){return m(s),u(t.onActionButtonOpenCustomerOrder(t.tableRowSelected))}),S(60,"i",38)(61,"br"),l(),a(62,"p",35),c(63),_(64,"translate"),l()(),a(65,"div",32)(66,"a",21),b("click",function(){return m(s),u(t.onActionButtonLinkTo(t.tableRowSelected))}),S(67,"i",39)(68,"br"),l(),a(69,"p",35),c(70),_(71,"translate"),l()(),a(72,"div",32)(73,"a",21),b("click",function(){return m(s),u(t.onActionButtonResponsibleUserlistView(t.tableRowSelected))}),S(74,"i",39)(75,"br"),l(),a(76,"p",35),c(77),_(78,"translate"),l()(),w(),T(79,40),a(80,"app-cms-search-list",41),k("optionsChange",function(y){return m(s),A(t.optionsSearch,y)||(t.optionsSearch=y),u(y)}),S(81,"hr"),a(82,"p"),c(83),_(84,"translate"),l(),a(85,"mat-form-field",42)(86,"mat-label"),c(87),l(),a(88,"input",43,0),b("input",function(y){return m(s),u(t.onSearchCaseCodeChange(y.target.value))}),k("ngModelChange",function(y){return m(s),A(t.filteModelContent.caseCode,y)||(t.filteModelContent.caseCode=y),u(y)}),l(),v(90,Id,2,0,"mat-icon",44),a(91,"mat-icon",45),c(92," mode_edit"),l(),a(93,"mat-hint")(94,"mat-icon",46),c(95),_(96,"translate"),l(),a(97,"strong",47),c(98),l()()(),v(99,Yd,44,35,"div"),l(),a(100,"app-cms-statist-list",41),k("optionsChange",function(y){return m(s),A(t.optionsStatist,y)||(t.optionsStatist=y),u(y)}),l(),w(),T(101,48),a(102,"mat-table",49,1),b("matSortChange",function(){m(s);let y=D(103);return u(t.onTableSortData(y))}),T(104,50),x(105,Kd,3,3,"mat-header-cell",51)(106,Jd,3,0,"mat-cell",52),w(),T(107,53),x(108,Xd,2,1,"mat-header-cell",54)(109,Zd,2,1,"mat-cell",52),w(),T(110,55),x(111,ep,2,1,"mat-header-cell",54)(112,tp,4,5,"mat-cell",52),w(),T(113,56),x(114,ip,2,1,"mat-header-cell",54)(115,op,5,7,"mat-cell",57),w(),T(116,58),x(117,rp,2,1,"mat-header-cell",54)(118,ap,2,1,"mat-cell",52),w(),T(119,59),x(120,lp,2,1,"mat-header-cell",54)(121,sp,3,3,"mat-cell",52),w(),T(122,60),x(123,cp,2,1,"mat-header-cell",54)(124,dp,2,2,"mat-cell",57),w(),T(125,61),x(126,pp,2,1,"mat-header-cell",54)(127,mp,2,2,"mat-cell",57),w(),T(128,62),x(129,up,2,1,"mat-header-cell",54)(130,fp,2,2,"mat-cell",57),w(),T(131,63),x(132,_p,2,1,"mat-header-cell",54)(133,Cp,2,2,"mat-cell",57),w(),T(134,64),x(135,hp,2,1,"mat-header-cell",54)(136,Sp,3,3,"mat-cell",65),w(),T(137,66),x(138,yp,2,1,"mat-header-cell",54)(139,gp,2,1,"mat-cell",52),w(),T(140,67),x(141,vp,3,3,"mat-header-cell",68)(142,Ep,6,1,"mat-cell",69),w(),T(143,70),x(144,bp,3,3,"mat-header-cell",54)(145,Ip,4,0,"mat-cell",52),w(),T(146,71),x(147,Mp,3,3,"mat-header-cell",54)(148,Tp,4,0,"mat-cell",52),w(),T(149,72),x(150,wp,2,1,"mat-cell",52),w(),T(151,73),x(152,Rp,32,17,"mat-cell",52),w(),x(153,Dp,1,0,"mat-header-row",74)(154,Lp,1,2,"mat-row",75)(155,Vp,1,2,"mat-row",76)(156,Op,1,5,"mat-row",77),l(),w(),T(157,78),a(158,"mat-paginator",79,2),b("page",function(y){return m(s),u(t.onTablePageingData(y))}),l(),w(),l()}i&2&&(f("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey","customerorder.content.list"),P("optionActionGuideNoticeDisplay",t.viewGuideNotice),f("optionTreeDisplay",t.tokenHelper.isAdminSite&&t.optionloadByRoute)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionActionRowDisplayMenuAct",t.tableRowSelectActionMenuClick)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.title),o(9),j("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(7),f("checked",t.optionsSearch.data.show),o(),h("",C(18,46,"ACTION.SEARCH")," "),o(3),f("checked",t.optionsStatist.data.show),o(),h("",C(22,48,"ACTION.STATIST")," "),o(2),E(!t.requestLinkPropertyId||t.requestLinkPropertyId.length===0?23:-1),o(2),E(t.optionloadByRoute&&t.dataModelResult.access.accessAddRow?25:-1),o(7),h(" ",C(33,50,"ACTION.QUICK_VIEW")," "),o(2),E(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?34:-1),o(),E(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessAddRow&&(t.tableRowSelected!=null&&t.tableRowSelected.id)&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0?35:-1),o(),E(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?36:-1),o(6),h(" ",C(43,52,"ACTION.HISTORY_ADD")," "),o(7),h(" ",C(50,54,"ACTION.HISTORY_LIST")," "),o(7),h(" ",C(57,56,"ACTION.THEPROPERTY_INCLUDESVIEWS")," "),o(7),h(" ",C(64,58,"ACTION.DISPLAYCLIENTPAGE")," "),o(7),h(" ",C(71,60,"TITLE.LINKTO")," "),o(7),h(" ",C(78,62,"TITLE.ResponsibleUsers")," "),o(3),P("options",t.optionsSearch),o(3),M(C(84,64,"MESSAGE.Content_of_your_choice_to_display")),o(4),M(t.fieldsInfo.caseCode==null?null:t.fieldsInfo.caseCode.fieldTitle),o(),f("placeholder",R(t.fieldsInfo.caseCode==null?null:t.fieldsInfo.caseCode.fieldTitle)),P("ngModel",t.filteModelContent.caseCode),o(2),E(t.filteModelContent.caseCode?90:-1),o(5),M(C(96,66,"TITLE.info")),o(3),M(t.fieldsInfo.caseCode==null?null:t.fieldsInfo.caseCode.fieldDescription),o(),E(!t.filteModelContent.caseCode||t.filteModelContent.caseCode.length===0?99:-1),o(),P("options",t.optionsStatist),o(2),f("dataSource",t.tableSource),o(51),f("matHeaderRowDef",t.tabledisplayedColumns),o(),f("matRowDefColumns",ne(68,Cd)),o(),f("matRowDefColumns",t.tabledisplayedColumns),o(),f("matRowDefColumns",ne(69,hd)),o(2),f("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",ne(70,Sd)))},dependencies:[se,Qe,oe,xi,X,Wr,xe,Be,Fo,Lo,Vo,Oo,Ho,Bo,Ai,Pi,ko,pi,st,de,te,Vt,Ot,Bt,Ht,Ft,Nt,ct,pt,_t,mt,dt,Ct,ut,ft,ht,St,xt,qt,Wt,Fi,nr,hn,jt,Jo,Xo,Zo,er,tr,ir,Qt,zt,Li,pr,_i,Hi,Ci,be,N,ki,ai,Fe,Ri,$t,Yt],encapsulation:2});var Fa=zn;var Bp=["vform"],Hp=n=>({direction:n});function Fp(n,r){n&1&&S(0,"i",15)}function Np(n,r){n&1&&S(0,"i",16)}function Gp(n,r){n&1&&(a(0,"mat-error"),c(1," Title is "),a(2,"strong"),c(3),_(4,"translate"),l()()),n&2&&(o(3),M(C(4,1,"MESSAGE.required")))}function Up(n,r){n&1&&(a(0,"mat-error"),c(1," Description is "),a(2,"strong"),c(3),_(4,"translate"),l()()),n&2&&(o(3),M(C(4,1,"MESSAGE.required")))}function qp(n,r){n&1&&(a(0,"mat-error"),c(1," DescriptionHidden is "),a(2,"strong"),c(3),_(4,"translate"),l()()),n&2&&(o(3),M(C(4,1,"MESSAGE.required")))}function Wp(n,r){if(n&1){let e=I();a(0,"div",12)(1,"label",26),c(2),l(),a(3,"textarea",27,3),k("ngModelChange",function(t){m(e);let s=d();return A(s.dataModel.descriptionHidden,t)||(s.dataModel.descriptionHidden=t),u(t)}),l(),a(5,"em"),c(6),l(),v(7,qp,5,3,"mat-error"),l()}if(n&2){let e=D(4),i=d();o(2),M(i.fieldsInfo.descriptionHidden==null?null:i.fieldsInfo.descriptionHidden.fieldTitle),o(),f("placeholder",R(i.fieldsInfo.descriptionHidden==null?null:i.fieldsInfo.descriptionHidden.fieldTitle)),P("ngModel",i.dataModel.descriptionHidden),f("disabled",!(i.fieldsInfo.descriptionHidden!=null&&i.fieldsInfo.descriptionHidden.accessEditField)),o(3),h("",e.value.length," / 500"),o(),E(e.errors!=null&&e.errors.required?7:-1)}}function jp(n,r){if(n&1){let e=I();a(0,"app-cms-enum-x-selector",28),k("modelChange",function(t){m(e);let s=d();return A(s.dataModel.activityStatus,t)||(s.dataModel.activityStatus=t),u(t)}),l()}if(n&2){let e=d();f("optionDataListResult",e.dataModelEstateActivityStatusEnumResult),P("model",e.dataModel.activityStatus),f("optionDisabled",!1)("optionLabel",e.fieldsInfo.activityStatus==null?null:e.fieldsInfo.activityStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Qp(n,r){if(n&1){let e=I();a(0,"app-estate-account-expert-selector",20),_(1,"translate"),b("optionChange",function(t){m(e);let s=d();return u(s.onActionSelectorEstateUser(t))}),l()}if(n&2){let e=d();f("optionSelectForce",e.dataModel.linkEstateExpertId)("optionPlaceholder",C(1,2,"TITLE.USER"))}}function zp(n,r){if(n&1){let e=I();a(0,"app-estate-account-agency-selector",29),_(1,"translate"),b("optionChange",function(t){m(e);let s=d();return u(s.onActionSelectorEstateAgency(t))}),l()}if(n&2){let e=d();f("optionSelectForce",e.dataModel.linkEstateAgencyId)("optionSelectUserId",e.tokenInfo.access.userId)("optionPlaceholder",C(1,3,"TITLE.Property_agency"))}}function $p(n,r){if(n&1){let e=I();a(0,"app-estate-property-selector",20),_(1,"translate"),b("optionChange",function(t){m(e);let s=d();return u(s.onActionSelectorProperty(t))}),l()}if(n&2){let e=d();f("optionSelectForce",e.dataModel.linkPropertyId)("optionPlaceholder",C(1,2,"TITLE.Property"))}}function Yp(n,r){if(n&1){let e=I();a(0,"app-estate-customer-order-selector",20),_(1,"translate"),b("optionChange",function(t){m(e);let s=d();return u(s.onActionSelectorCustomerOrderId(t))}),l()}if(n&2){let e=d();f("optionSelectForce",e.dataModel.linkCustomerOrderId)("optionPlaceholder",C(1,2,"TITLE.Customer"))}}function Kp(n,r){if(n&1){let e=I();a(0,"div",23)(1,"label",30),c(2),l(),a(3,"input",31),k("ngModelChange",function(t){m(e);let s=d();return A(s.dataModel.appointmentDateFrom,t)||(s.dataModel.appointmentDateFrom=t),u(t)}),l(),S(4,"mat-datepicker-toggle",32)(5,"mat-datepicker",33,4),l()}if(n&2){let e=D(6),i=d();o(2),M(i.fieldsInfo.appointmentDateFrom==null?null:i.fieldsInfo.appointmentDateFrom.fieldTitle),o(),f("matDatepicker",e),P("ngModel",i.dataModel.appointmentDateFrom),f("formControl",i.date),o(),f("for",e),o(),f("calendarHeaderComponent",i.datapickerHeader)}}function Jp(n,r){if(n&1){let e=I();a(0,"div",23)(1,"label",34),c(2),l(),a(3,"input",35),k("ngModelChange",function(t){m(e);let s=d();return A(s.dataModel.appointmentDateTo,t)||(s.dataModel.appointmentDateTo=t),u(t)}),l(),S(4,"mat-datepicker-toggle",32)(5,"mat-datepicker",33,5),l()}if(n&2){let e=D(6),i=d();o(2),M(i.fieldsInfo.appointmentDateTo==null?null:i.fieldsInfo.appointmentDateTo.fieldTitle),o(),f("matDatepicker",e),P("ngModel",i.dataModel.appointmentDateTo),f("formControl",i.date),o(),f("for",e),o(),f("calendarHeaderComponent",i.datapickerHeader)}}function Xp(n,r){if(n&1){let e=I();a(0,"div",25)(1,"button",36),b("click",function(){m(e);let t=d();return u(t.onFormCancel())}),S(2,"i",37),c(3),_(4,"translate"),l(),a(5,"button",38),S(6,"i",39),c(7),_(8,"translate"),l()()}if(n&2){d();let e=D(10);o(3),h(" ",C(4,3,"ACTION.CANCEL")," "),o(2),f("disabled",!e.form.valid),o(2),h(" ",C(8,5,"ACTION.SAVE")," ")}}var $n=class $n extends jo{constructor(e,i,t,s,p,y,z,Me,Ce,et,We,Ge,tt){super(s,new Ii,Ge,Ce);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.estatePropertyHistoryService=s;this.cmsToastrService=p;this.estateEnumService=y;this.cdr=z;this.tokenHelper=Me;this.translate=Ce;this.cmsStoreService=et;this.pageInfo=We;this.publicHelper=Ge;this.dialog=tt;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModel=new Ii;this.dataFileModelFiles=new Map;this.fileManagerOpenForm=!1;this.date=new Ue(new Date);this.dataModelEstateActivityStatusEnumResult=new Q;this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore}ngOnInit(){if(this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.getEstateActivityStatusEnum()}getEstateActivityStatusEnum(){this.estateEnumService.ServiceEstateActivityStatusEnum().subscribe({next:e=>{this.dataModelEstateActivityStatusEnumResult=e}})}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estatePropertyHistoryService.setAccessLoad(),this.estatePropertyHistoryService.setAccessDataType(Ye.Editor),this.estatePropertyHistoryService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.dataModel.linkFileIds&&this.dataModel.linkFileIds.length>0&&this.dataModel.linkFileIds.split(",").forEach((t,s)=>{let p="";this.dataModel.linkFileIdsSrc.length>=this.dataModel.linkFileIdsSrc.length&&(p=this.dataModel.linkFileIdsSrc[s]),this.dataFileModelFiles.set(+t,p)})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){if(this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="",this.dataFileModelFiles){let i=Array.from(this.dataFileModelFiles.keys());i&&i.length>0&&(this.dataModel.linkFileIds=i.join(","))}let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estatePropertyHistoryService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e),this.formInfo.submitButtonEnabled=!0},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorEstateUser(e){this.dataModel.linkEstateExpertId=null,e&&e.id?.length>0&&(this.dataModel.linkEstateExpertId=e.id)}onActionSelectorProperty(e){this.dataModel.linkPropertyId=null,e&&e.id?.length>0&&(this.dataModel.linkPropertyId=e.id)}onActionSelectorCustomerOrderId(e){this.dataModel.linkCustomerOrderId=null,e&&e.id?.length>0&&(this.dataModel.linkCustomerOrderId=e.id)}onActionSelectorEstateAgency(e){this.dataModel.linkEstateAgencyId=null,!(!e||!e.id||e.id.length<=0)&&(this.dataModel.linkEstateAgencyId=e.id)}onActionSelectorSelect(e){if(!e||e.id.length<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkActivityTypeId=e.id}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};$n.\u0275fac=function(i){return new(i||$n)(g(ze),g(He),g(ce),g(wi),g(F),g(Ti),g(G),g(K),g(H),g(Y),g(Ze),g(U),g(Z))},$n.\u0275cmp=B({type:$n,selectors:[["app-estate-property-history-edit"]],viewQuery:function(i,t){if(i&1&&ot(Bp,5),i&2){let s;rt(s=at())&&(t.formGroup=s.first)}},standalone:!1,features:[we],decls:45,vars:41,consts:[["vform","ngForm"],["Title",""],["Description",""],["DescriptionHidden",""],["AppointmentDateFrom",""],["AppointmentDateTo",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit","ngStyle"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["type","text","name","dataModel.title","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","1000","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[3,"optionDataListResult","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"optionChange","optionSelectForce","optionPlaceholder"],[3,"optionSelectForce","optionPlaceholder"],[3,"optionSelectForce","optionSelectUserId","optionPlaceholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],[3,"dataFileModelChange","dataFileModel","openDirectUploadView"],[1,"form-actions"],["for","dataModel.descriptionHidden",1,"color-highlight"],["matInput","","name","dataModel.descriptionHidden","type","text","minlength","0","maxlength","1000","rows","5","id","dataModel.descriptionHidden",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[3,"modelChange","optionDataListResult","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"optionChange","optionSelectForce","optionSelectUserId","optionPlaceholder"],["for","dataModel.appointmentDateFrom",1,"color-highlight"],["matInput","","name","dataModel.appointmentDateFrom","id","dataModel.appointmentDateFrom",1,"form-control","validate-name",3,"ngModelChange","matDatepicker","ngModel","formControl"],["matSuffix","",3,"for"],["touchUi","",3,"calendarHeaderComponent"],["for","dataModel.appointmentDateTo",1,"color-highlight"],["matInput","","name","dataModel.appointmentDateTo","id","dataModel.appointmentDateTo",1,"form-control","validate-name",3,"ngModelChange","matDatepicker","ngModel","formControl"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=I();a(0,"div",6),S(1,"app-progress-spinner",7),a(2,"div",8)(3,"p",9),c(4),l(),a(5,"p"),c(6),_(7,"translate"),l(),S(8,"app-cms-form-result-message",10),a(9,"form",11,0),b("ngSubmit",function(){return m(s),u(t.onFormSubmit())}),a(11,"div",12)(12,"label",13),c(13),l(),a(14,"input",14,1),k("ngModelChange",function(y){return m(s),A(t.dataModel.title,y)||(t.dataModel.title=y),u(y)}),l(),v(16,Fp,1,0,"i",15),v(17,Np,1,0,"i",16),a(18,"em"),c(19),l(),v(20,Gp,5,3,"mat-error"),l(),a(21,"div",12)(22,"label",17),c(23),l(),a(24,"textarea",18,2),k("ngModelChange",function(y){return m(s),A(t.dataModel.description,y)||(t.dataModel.description=y),u(y)}),c(26,"          "),l(),a(27,"em"),c(28),l(),v(29,Up,5,3,"mat-error"),l(),v(30,Wp,8,7,"div",12),v(31,jp,1,6,"app-cms-enum-x-selector",19),a(32,"app-estate-activity-type-selector",20),_(33,"translate"),b("optionChange",function(y){return m(s),u(t.onActionSelectorSelect(y))}),l(),v(34,Qp,2,4,"app-estate-account-expert-selector",21),v(35,zp,2,5,"app-estate-account-agency-selector",22),v(36,$p,2,4,"app-estate-property-selector",21),v(37,Yp,2,4,"app-estate-customer-order-selector",21),v(38,Kp,7,6,"div",23),v(39,Jp,7,6,"div",23),a(40,"p"),c(41),_(42,"translate"),l(),a(43,"app-cms-files-selector",24),k("dataFileModelChange",function(y){return m(s),A(t.dataFileModelFiles,y)||(t.dataFileModelFiles=y),u(y)}),l(),v(44,Xp,9,7,"div",25),l()()()}if(i&2){let s=D(15),p=D(25);o(),f("optionsInfoAreaId",t.constructorInfoAreaId),o(3),h(" ",t.formInfo.formTitle," "),o(2),h(" ",C(7,33,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),f("formInfo",t.formInfo),o(),f("ngStyle",Ee(39,Hp,t.tokenInfo.access.direction)),o(4),M(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),f("placeholder",R(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),P("ngModel",t.dataModel.title),o(2),E(s.value?-1:16),o(),E(s.value?17:-1),o(2),h("",s.value.length," / 100"),o(),E(s.errors!=null&&s.errors.required?20:-1),o(3),M(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),o(),f("placeholder",R(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),P("ngModel",t.dataModel.description),o(4),h("",p.value.length," / 500"),o(),E(p.errors!=null&&p.errors.required?29:-1),o(),E(t.fieldsInfo.descriptionHidden!=null&&t.fieldsInfo.descriptionHidden.accessWatchField?30:-1),o(),E(t.fieldsInfo.activityStatus!=null&&t.fieldsInfo.activityStatus.accessWatchField?31:-1),o(),f("optionSelectForce",t.dataModel.linkActivityTypeId)("optionPlaceholder",C(33,35,"TITLE.Category")),o(2),E(t.fieldsInfo.linkEstateExpertId!=null&&t.fieldsInfo.linkEstateExpertId.accessWatchField?34:-1),o(),E(t.fieldsInfo.linkEstateAgencyId!=null&&t.fieldsInfo.linkEstateAgencyId.accessWatchField?35:-1),o(),E(t.fieldsInfo.linkPropertyId!=null&&t.fieldsInfo.linkPropertyId.accessWatchField?36:-1),o(),E(t.fieldsInfo.linkCustomerOrderId!=null&&t.fieldsInfo.linkCustomerOrderId.accessWatchField?37:-1),o(),E(t.fieldsInfo.appointmentDateFrom!=null&&t.fieldsInfo.appointmentDateFrom.accessWatchField?38:-1),o(),E(t.fieldsInfo.appointmentDateTo!=null&&t.fieldsInfo.appointmentDateTo.accessWatchField?39:-1),o(2),M(C(42,37,"TITLE.List_of_attached_files")),o(2),P("dataFileModel",t.dataFileModelFiles),f("openDirectUploadView",!0),o(),E(t.formInfo.submitButtonEnabled?44:-1)}},dependencies:[Qe,At,oe,X,lt,ke,oi,ri,xe,Pt,Je,Ro,Do,dn,Rt,st,te,Yo,W,Ne,ar,En,In,gn,vn,Mn,N],encapsulation:2});var bo=$n;var Zp=()=>["expandedTitle"],em=()=>["expandedDetail"],tm=()=>[5,10,20,100],Ga=n=>({display:n});function im(n,r){n&1&&(a(0,"mat-header-cell"),c(1),_(2,"translate"),l()),n&2&&(o(),h(" ",C(2,1,"TITLE.MENU")," "))}function nm(n,r){if(n&1){let e=I();a(0,"mat-cell")(1,"button",56),b("click",function(){let t=m(e).$implicit,s=d();return u(s.onActionTableRowSelectActionMenu(t))}),S(2,"i",57),l()()}}function om(n,r){n&1&&(a(0,"mat-header-cell",58),c(1),_(2,"translate"),l()),n&2&&(o(),h(" ",C(2,1,"TITLE.PICTURE")," "))}function rm(n,r){if(n&1&&(S(0,"img",59),_(1,"cmsthumbnail")),n&2){let e=d().$implicit;f("src",R(C(1,2,e.linkMainImageIdSrc)),ie)}}function am(n,r){if(n&1&&(a(0,"mat-cell"),v(1,rm,2,4,"img",59),l()),n&2){let e=r.$implicit;o(),E((e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0?1:-1)}}function lm(n,r){if(n&1&&(a(0,"mat-header-cell",58),c(1),l()),n&2){let e=d();o(),h(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function sm(n,r){if(n&1&&(a(0,"mat-cell"),c(1),l()),n&2){let e=r.$implicit;o(),h(" ",e.id," ")}}function cm(n,r){if(n&1&&(a(0,"mat-header-cell",58),c(1),l()),n&2){let e=d();o(),h(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function dm(n,r){if(n&1&&(a(0,"mat-cell"),c(1),_(2,"cmssiteinfo"),_(3,"async"),l()),n&2){let e=r.$implicit;o(),h(" ",C(3,3,C(2,1,e.linkSiteId))," ")}}function pm(n,r){if(n&1&&(a(0,"mat-header-cell",58),c(1),l()),n&2){let e=d();o(),h(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function mm(n,r){if(n&1&&S(0,"select",61),n&2){let e=d().$implicit,i=d();f("contentService",i.contentService)("row",e)("ngStyle",Ee(3,Ga,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function um(n,r){if(n&1&&(a(0,"mat-cell",60),_(1,"statusCellClass"),S(2,"i",60),_(3,"statusIconClass"),v(4,mm,1,5,"select",61),l()),n&2){let e=r.$implicit,i=d();f("ngClass",C(1,3,e.recordStatus)),o(2),f("ngClass",C(3,5,e.recordStatus)),o(2),E(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessEditRow?4:-1)}}function fm(n,r){if(n&1&&(a(0,"mat-header-cell",58),c(1),l()),n&2){let e=d();o(),h(" ",e.fieldsInfo.name==null?null:e.fieldsInfo.name.fieldTitle," ")}}function _m(n,r){if(n&1&&(a(0,"mat-cell"),c(1),l()),n&2){let e=r.$implicit;o(),h(" ",e.name," ")}}function Cm(n,r){if(n&1&&(a(0,"mat-header-cell",58),c(1),l()),n&2){let e=d();o(),h(" ",e.fieldsInfo.lastName==null?null:e.fieldsInfo.lastName.fieldTitle," ")}}function hm(n,r){if(n&1&&(a(0,"mat-cell"),c(1),l()),n&2){let e=r.$implicit;o(),h(" ",e.lastName," ")}}function Sm(n,r){if(n&1&&(a(0,"mat-header-cell",58),c(1),l()),n&2){let e=d();o(),h(" ",e.fieldsInfo.companyName==null?null:e.fieldsInfo.companyName.fieldTitle," ")}}function ym(n,r){if(n&1&&(a(0,"mat-cell"),c(1),l()),n&2){let e=r.$implicit;o(),h(" ",e.companyName," ")}}function gm(n,r){if(n&1&&(a(0,"mat-header-cell",58),c(1),l()),n&2){let e=d();o(),h(" ",e.fieldsInfo.email==null?null:e.fieldsInfo.email.fieldTitle," ")}}function vm(n,r){if(n&1&&(a(0,"mat-cell"),c(1),l()),n&2){let e=r.$implicit;o(),h(" ",e.email," ")}}function Em(n,r){if(n&1&&(a(0,"mat-header-cell",58),c(1),l()),n&2){let e=d();o(),h(" ",e.fieldsInfo.mobile==null?null:e.fieldsInfo.mobile.fieldTitle," ")}}function bm(n,r){if(n&1&&(a(0,"mat-cell"),c(1),l()),n&2){let e=r.$implicit;o(),h(" ",e.mobile," ")}}function Im(n,r){if(n&1&&(a(0,"mat-header-cell",58),c(1),l()),n&2){let e=d();o(),h(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function Mm(n,r){if(n&1&&(a(0,"mat-cell"),c(1),_(2,"localeDate"),l()),n&2){let e=r.$implicit;o(),h(" ",C(2,1,e.createdDate)," ")}}function Tm(n,r){if(n&1&&(a(0,"mat-header-cell",58),c(1),l()),n&2){let e=d();o(),h(" ",e.fieldsInfo.updatedDate==null?null:e.fieldsInfo.updatedDate.fieldTitle," ")}}function wm(n,r){if(n&1&&(a(0,"mat-cell"),c(1),_(2,"localeDate"),l()),n&2){let e=r.$implicit;o(),h(" ",C(2,1,e.updatedDate)," ")}}function xm(n,r){n&1&&(a(0,"mat-header-cell"),c(1),_(2,"translate"),l()),n&2&&(o(),h(" ",C(2,1,"TITLE.OPTION")," "))}function Pm(n,r){if(n&1&&(a(0,"mat-cell",62)(1,"button",63)(2,"mat-icon"),c(3,"more_vert"),l()(),S(4,"mat-menu",null,2),l()),n&2){let e=D(5);o(),f("matMenuTriggerFor",e)}}function Am(n,r){if(n&1&&(a(0,"mat-cell"),c(1),_(2,"translate"),_(3,"localeDate"),l()),n&2){let e=r.$implicit;o(),q(" ",C(2,2,"TITLE.CreationDate")," : ",C(3,4,e.createdDate)," ")}}function km(n,r){if(n&1&&(S(0,"img",64),_(1,"cmsthumbnail")),n&2){let e=d().$implicit;f("src",R(C(1,2,e.linkMainImageIdSrc)),ie)}}function Rm(n,r){if(n&1){let e=I();a(0,"mat-cell")(1,"div")(2,"table")(3,"tr")(4,"th"),v(5,km,2,4,"img",64),l(),a(6,"th")(7,"span",65),b("click",function(){m(e);let t=d();return u(t.onActionCopied())}),S(8,"i",66),l(),c(9),l()(),a(10,"tr"),S(11,"td"),a(12,"td"),c(13),l()(),a(14,"tr"),S(15,"td"),a(16,"td"),c(17),l()(),a(18,"tr"),S(19,"td"),a(20,"td"),c(21),l()(),a(22,"tr"),S(23,"td"),a(24,"td"),c(25),l()(),a(26,"tr"),S(27,"td"),a(28,"td"),c(29),l()(),a(30,"tr"),S(31,"td"),a(32,"td"),c(33),l()(),a(34,"tr"),S(35,"td")(36,"td"),l()()()()}if(n&2){let e=r.$implicit,i=d();o(5),E((e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0?5:-1),o(2),f("cdkCopyToClipboard",e.id),o(2),h(" ",e.id," "),o(4),q(" ",i.fieldsInfo.username==null?null:i.fieldsInfo.username.fieldTitle," : ",e.username," "),o(4),q(" ",i.fieldsInfo.name==null?null:i.fieldsInfo.name.fieldTitle," : ",e.name," "),o(4),q(" ",i.fieldsInfo.lastName==null?null:i.fieldsInfo.lastName.fieldTitle," : ",e.lastName," "),o(4),q(" ",i.fieldsInfo.mobile==null?null:i.fieldsInfo.mobile.fieldTitle," : ",e.mobile," "),o(4),q(" ",i.fieldsInfo.email==null?null:i.fieldsInfo.email.fieldTitle," : ",e.email," "),o(4),q(" ",i.fieldsInfo.companyName==null?null:i.fieldsInfo.companyName.fieldTitle," : ",e.companyName," ")}}function Dm(n,r){n&1&&S(0,"mat-header-row")}function Lm(n,r){if(n&1){let e=I();a(0,"mat-row",67),b("click",function(t){let s=m(e).$implicit,p=d();return u(p.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=m(e).$implicit,p=d();return u(p.onActionTableRowSelect(s,t))})("mouseenter",function(){let t=m(e).$implicit,s=d();return u(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=m(e).$implicit,s=d();return u(s.onActionTableRowMouseLeave(t))}),l()}if(n&2){let e=r.$implicit,i=r.dataIndex,t=d();j("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",e.id===(t.tableRowSelected==null?null:t.tableRowSelected.id))}}function Vm(n,r){if(n&1){let e=I();a(0,"mat-row",68),b("click",function(t){let s=m(e).$implicit,p=d();return u(p.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=m(e).$implicit,p=d();return u(p.onActionTableRowSelect(s,t))})("mouseenter",function(){let t=m(e).$implicit,s=d();return u(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=m(e).$implicit,s=d();return u(s.onActionTableRowMouseLeave(t))}),l()}if(n&2){let e=r.$implicit,i=r.dataIndex,t=d();j("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",e.id===(t.tableRowSelected==null?null:t.tableRowSelected.id))}}function Om(n,r){if(n&1){let e=I();a(0,"mat-row",69),b("click",function(t){let s=m(e).$implicit,p=d();return u(p.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=m(e).$implicit,p=d();return u(p.onActionTableRowSelect(s,t))})("mouseenter",function(){let t=m(e).$implicit,s=d();return u(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=m(e).$implicit,s=d();return u(s.onActionTableRowMouseLeave(t))}),l()}if(n&2){let e=r.$implicit,i=r.dataIndex,t=d();j("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",e.id===(t.tableRowSelected==null?null:t.tableRowSelected.id)),f("ngStyle",Ee(7,Ga,e.expanded===!0?"":"none"))}}function Bm(n,r){if(n&1){let e=I();a(0,"div",55)(1,"button",70),b("click",function(){m(e);let t=d();return u(t.onFormCancel())}),S(2,"i",71),c(3),_(4,"translate"),l()()}n&2&&(o(3),h(" ",C(4,1,"ACTION.CANCEL")," "))}var Yn=class Yn extends Ut{constructor(e,i,t,s,p,y,z,Me,Ce,et,We,Ge){super(t,new Si,We,p,Me);this.data=e;this.dialogRef=i;this.contentService=t;this.cmsToastrService=s;this.tokenHelper=p;this.router=y;this.cdr=z;this.translate=Me;this.cmsStoreService=Ce;this.pageInfo=et;this.publicHelper=We;this.dialog=Ge;this.requestTitle="";this.requestPropertyId="";this.constructorInfoAreaId=this.constructor.name;this.tablePropertySelected=[];this.filteModelContent=new re;this.filterDataModelQueryBuilder=[];this.optionsSearch=new Vi;this.optionsStatist=new Oi;this.tokenInfo=new ni;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["linkMainImageIdSrc","id","recordStatus","Name","LastName","CompanyName","email","mobile","action_menu"];this.tabledisplayedColumnsMobileSource=["id","recordStatus","Name","LastName","action_menu"];this.fieldsInfo=new Map;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,e&&(e.title&&(this.requestTitle=e.title+""),e.id&&(this.requestPropertyId=e.id+"")),this.optionsSearch.parentMethods={onSubmit:tt=>this.onSubmitOptionsSearch(tt)}}ngOnInit(){this.translate.get("TITLE.QUICK_VIEW").subscribe(e=>{this.formInfo.formTitle=e}),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>$(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Si);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.contentService.ServiceGetAllResponsibleUserId(this.requestPropertyId,i).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),t.isSuccess?(this.dataModelResult=t,this.tableSource.data=t.listItems):this.cmsToastrService.typeErrorGetAll(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=ae.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=ae.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=ae.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonReload(){this.DataGetAll()}onActionCopied(){this.cmsToastrService.typeSuccessCopedToClipboard()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/ticketing/departemen/"])}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Yn.\u0275fac=function(i){return new(i||Yn)(g(ze),g(He),g(wi),g(F),g(K),g(ii),g(G),g(H),g(Y),g(Ze),g(U),g(Z))},Yn.\u0275cmp=B({type:Yn,selectors:[["app-estate-property-history-responsible-user-list"]],standalone:!1,features:[we],decls:83,vars:30,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection","loader-container"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionActionRowDisplayMenuAct","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-maximize","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-minimize","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[1,"custom-slide-toggle",3,"ngModelChange","ngModel"],["cms-action-main",""],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","","multiTemplateDataRows","",3,"matSortChange","dataSource"],["matColumnDef","action_menu"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","linkMainImageIdSrc"],["mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","id"],["matColumnDef","linkSiteId"],["matColumnDef","recordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","Name"],["matColumnDef","LastName"],["matColumnDef","CompanyName"],["matColumnDef","email"],["matColumnDef","mobile"],["matColumnDef","createdDate"],["matColumnDef","updatedDate"],["matColumnDef","Action"],["class","Action",4,"matCellDef"],["matColumnDef","expandedTitle"],["matColumnDef","expandedDetail"],[4,"matHeaderRowDef"],["class","ntk-row-expandedTitle",3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["class","ntk-row-expandedDetail",3,"ntk-row-odd","ntk-row-even","ntk-row-selected","ngStyle","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],[1,"ntk-cms-html-card-message"],[3,"formInfo"],[1,"ntk-cms-html-card-footer"],[1,"form-actions"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"click"],[1,"fa","fa-bars","font-18"],["mat-sort-header",""],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],["aria-hidden","","height","80","width","80",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"navi-icon","pointer",3,"click","cdkCopyToClipboard"],[1,"flaticon2-copy"],[1,"ntk-row-expandedTitle",3,"click","rtclick","mouseenter","mouseleave"],[3,"click","rtclick","mouseenter","mouseleave"],[1,"ntk-row-expandedDetail",3,"click","rtclick","mouseenter","mouseleave","ngStyle"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(i,t){if(i&1){let s=I();a(0,"div",3),S(1,"app-progress-spinner",4),a(2,"div",5),c(3),l(),a(4,"div",6)(5,"app-cms-html-list",7),k("optionActionGuideNoticeDisplayChange",function(y){return m(s),A(t.viewGuideNotice,y)||(t.viewGuideNotice=y),u(y)}),b("optionOnActionButtonMemoRow",function(){return m(s),u(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return m(s),u(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return m(s),u(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return m(s),u(t.onActionButtonPrintRow())}),Le(6,8)(7,9)(8,10),T(9,11),a(10,"a",12),b("click",function(){return m(s),u(t.onActionButtonReload())}),S(11,"i",13),l(),a(12,"a",14),b("click",function(){return m(s),u(t.onActionGridExpandRows(!0))}),S(13,"i",15),l(),a(14,"a",14),b("click",function(){return m(s),u(t.onActionGridExpandRows(!1))}),S(15,"i",16),l(),w(),T(16,17),a(17,"a",18)(18,"mat-slide-toggle",19),k("ngModelChange",function(y){return m(s),A(t.optionsSearch.data.show,y)||(t.optionsSearch.data.show=y),u(y)}),l(),c(19),_(20,"translate"),l(),w(),Le(21,20)(22,21),T(23,22),a(24,"app-cms-search-list",23),k("optionsChange",function(y){return m(s),A(t.optionsSearch,y)||(t.optionsSearch=y),u(y)}),l(),a(25,"app-cms-statist-list",23),k("optionsChange",function(y){return m(s),A(t.optionsStatist,y)||(t.optionsStatist=y),u(y)}),l(),w(),T(26,24),a(27,"mat-table",25,0),b("matSortChange",function(){m(s);let y=D(28);return u(t.onTableSortData(y))}),T(29,26),x(30,im,3,3,"mat-header-cell",27)(31,nm,3,0,"mat-cell",28),w(),T(32,29),x(33,om,3,3,"mat-header-cell",30)(34,am,2,1,"mat-cell",28),w(),T(35,31),x(36,lm,2,1,"mat-header-cell",30)(37,sm,2,1,"mat-cell",28),w(),T(38,32),x(39,cm,2,1,"mat-header-cell",30)(40,dm,4,5,"mat-cell",28),w(),T(41,33),x(42,pm,2,1,"mat-header-cell",30)(43,um,5,7,"mat-cell",34),w(),T(44,35),x(45,fm,2,1,"mat-header-cell",30)(46,_m,2,1,"mat-cell",28),w(),T(47,36),x(48,Cm,2,1,"mat-header-cell",30)(49,hm,2,1,"mat-cell",28),w(),T(50,37),x(51,Sm,2,1,"mat-header-cell",30)(52,ym,2,1,"mat-cell",28),w(),T(53,38),x(54,gm,2,1,"mat-header-cell",30)(55,vm,2,1,"mat-cell",28),w(),T(56,39),x(57,Em,2,1,"mat-header-cell",30)(58,bm,2,1,"mat-cell",28),w(),T(59,40),x(60,Im,2,1,"mat-header-cell",30)(61,Mm,3,3,"mat-cell",28),w(),T(62,41),x(63,Tm,2,1,"mat-header-cell",30)(64,wm,3,3,"mat-cell",28),w(),T(65,42),x(66,xm,3,3,"mat-header-cell",27)(67,Pm,6,1,"mat-cell",43),w(),T(68,44),x(69,Am,4,6,"mat-cell",28),w(),T(70,45),x(71,Rm,37,15,"mat-cell",28),w(),x(72,Dm,1,0,"mat-header-row",46)(73,Lm,1,6,"mat-row",47)(74,Vm,1,6,"mat-row",48)(75,Om,1,9,"mat-row",49),l(),w(),T(76,50),a(77,"mat-paginator",51,1),b("page",function(y){return m(s),u(t.onTablePageingData(y))}),l(),w(),l()(),a(79,"div",52),S(80,"app-cms-form-result-message",53),l(),a(81,"div",54),v(82,Bm,5,3,"div",55),l()()}i&2&&(o(),f("optionsInfoAreaId",t.constructorInfoAreaId),o(2),h(" ",t.formInfo.formTitle," "),o(2),f("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),P("optionActionGuideNoticeDisplay",t.viewGuideNotice),f("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionActionRowDisplayMenuAct",t.tableRowSelectActionMenuClick)("optionSelectRowItemTitle",(t.tableRowSelected==null||t.tableRowSelected.username==null?null:t.tableRowSelected.username.length)>0?t.tableRowSelected==null?null:t.tableRowSelected.username:t.tableRowSelected==null?null:t.tableRowSelected.id),o(13),P("ngModel",t.optionsSearch.data.show),o(),h("",C(20,25,"ACTION.SEARCH")," "),o(5),P("options",t.optionsSearch),o(),P("options",t.optionsStatist),o(2),f("dataSource",t.tableSource),o(45),f("matHeaderRowDef",t.tabledisplayedColumns),o(),f("matRowDefColumns",ne(27,Zp)),o(),f("matRowDefColumns",t.tabledisplayedColumns),o(),f("matRowDefColumns",ne(28,em)),o(2),f("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",ne(29,tm)),o(3),f("formInfo",t.formInfo),o(2),E(t.formInfo.submitButtonEnabled?82:-1))},dependencies:[se,Qe,X,xe,Be,de,te,Vt,Ot,Bt,Ht,Ft,Nt,ct,pt,_t,mt,dt,Ct,ut,ft,ht,St,xt,qt,Wt,W,Ne,jt,Qt,zt,be,N,ai,Fe,Bi,$t,Yt],encapsulation:2});var fr=Yn;function Hm(n,r){n&1&&S(0,"div",8)}function Fm(n,r){if(n&1){let e=I();a(0,"button",15),b("click",function(){m(e);let t=d();return u(t.onActionButtonLinkTo())}),a(1,"mat-icon"),c(2,"\u2197 "),l()()}}var Kn=class Kn{constructor(r,e,i,t,s,p,y){this.headerService=r;this.publicHelper=e;this.cdr=i;this.translate=t;this.themeService=s;this.cmsToastrService=p;this.dialog=y;this.constructorInfoAreaId=this.constructor.name;this.optionId="";this.dataModelResult=new Q;this.fieldsInfo=new Map;this.publicHelper.processService.cdr=this.cdr}ngOnInit(){this.optionId?.length>0&&this.DataGetOneContent()}DataGetOneContent(){let r=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(r,e,this.constructorInfoAreaId)}),this.headerService.setAccessLoad(),this.headerService.ServiceGetOneById(this.optionId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),e.isSuccess?this.dataModelResult=e:this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(r)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(r,!1)}})}onActionButtonLinkTo(r=this.dataModelResult.item){if(!r||!r.id||r.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(r.recordStatus!=Ie.Available){this.cmsToastrService.typeWarningRecordStatusNoAvailable();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(li,{height:"90%",panelClass:e,enterAnimationDuration:O.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:O.cmsViewConfig.exitAnimationDuration,data:{title:r.title,urlViewContentQRCodeBase64:r.urlViewContentQRCodeBase64,urlViewContent:r.urlViewContent}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate})}};Kn.\u0275fac=function(e){return new(e||Kn)(g(di),g(U),g(G),g(H),g(Xe),g(F),g(Z))},Kn.\u0275cmp=B({type:Kn,selectors:[["app-estate-customer-order-header"]],inputs:{optionId:"optionId"},standalone:!1,decls:34,vars:11,consts:[[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content"],[1,"table"],[1,"tr"],[1,"td","small-width"],[1,"svg-icon","svg-icon-3x","svg-icon-primary",3,"inlineSVG"],[1,"td","large-width",2,"color","darkblue"],[1,"td"],[1,"td","large-width"],[2,"clear","both"],[1,"td",2,"text-align","left"],["title","link to"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[1,"divider","divider-margins"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"]],template:function(e,i){e&1&&(a(0,"div",0),S(1,"app-progress-spinner",1),a(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),S(6,"span",6),l(),a(7,"div",7)(8,"h5")(9,"b"),c(10),_(11,"translate"),l()()(),v(12,Hm,1,0,"div",8),l(),a(13,"div",4)(14,"div",5)(15,"b"),c(16),l(),c(17,": "),l(),a(18,"div",9),c(19),l(),S(20,"div",8)(21,"div",10),l(),a(22,"div",4)(23,"div",5)(24,"b"),c(25),l(),c(26," : "),l(),a(27,"div",9),c(28),l(),a(29,"div",11)(30,"abbr",12),v(31,Fm,3,0,"button",13),l()(),S(32,"div",10),l()()()(),S(33,"div",14)),e&2&&(o(),f("optionsInfoAreaId",i.constructorInfoAreaId),o(5),f("inlineSVG","./assets/media/svg/icons/Communication/Flag.svg"),o(4),M(C(11,9,"TITLE.Selected_Customer")),o(2),E(!(i.dataModelResult==null||i.dataModelResult.item==null)&&i.dataModelResult.item.id?12:-1),o(4),h("",i.fieldsInfo.id==null?null:i.fieldsInfo.id.fieldTitle," "),o(3),M(i.dataModelResult==null||i.dataModelResult.item==null?null:i.dataModelResult.item.id),o(6),M(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(3),M(i.dataModelResult==null||i.dataModelResult.item==null?null:i.dataModelResult.item.title),o(3),E(!(i.dataModelResult==null||i.dataModelResult.item==null)&&i.dataModelResult.item.id?31:-1))},dependencies:[de,W,yt,N],styles:[".table[_ngcontent-%COMP%]{display:table;border:1px solid #40a1f5;padding:2px;background:#fff;border-radius:5px}.table[_ngcontent-%COMP%]   .th[_ngcontent-%COMP%]{display:table-row;background-color:#40a1f577;color:#fff;font-weight:700}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f9f9f9}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]{display:table-row;border-bottom:1px solid #000}.table[_ngcontent-%COMP%]   .td[_ngcontent-%COMP%]{display:table-cell;padding:15px;border-bottom:1px solid #40a1f5}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:last-child   .td[_ngcontent-%COMP%]{border:0}.small-width[_ngcontent-%COMP%]{width:90px}.large-width[_ngcontent-%COMP%]{width:400px}.clear[_ngcontent-%COMP%]{clear:both}"]});var zi=Kn;function Nm(n,r){n&1&&S(0,"div",8)}function Gm(n,r){if(n&1){let e=I();a(0,"button",15),b("click",function(){m(e);let t=d();return u(t.onActionButtonLinkTo())}),a(1,"mat-icon"),c(2,"\u2197 "),l()()}}var Jn=class Jn{constructor(r,e,i,t,s,p,y,z,Me){this.headerService=r;this.publicHelper=e;this.cdr=i;this.cmsToastrService=t;this.translate=s;this.cmsStoreService=p;this.themeService=y;this.dialog=z;this.tokenHelper=Me;this.constructorInfoAreaId=this.constructor.name;this.optionId="";this.dataModelResult=new Q;this.fieldsInfo=new Map;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr}ngOnInit(){this.optionId?.length>0&&this.DataGetOneContent(),this.unsubscribe.push(this.cmsStoreService.getState(r=>r.tokenInfoStore).subscribe(()=>$(this,null,function*(){this.DataGetOneContent()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(r=>r.unsubscribe())}DataGetOneContent(){let r=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(r,e,this.constructorInfoAreaId)}),this.headerService.setAccessLoad(),this.headerService.ServiceGetOneById(this.optionId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),e.isSuccess?this.dataModelResult=e:this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(r)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(r,!1)}})}onActionButtonLinkTo(r=this.dataModelResult.item){if(!r||!r.id||r.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(r.recordStatus!=Ie.Available){this.cmsToastrService.typeWarningRecordStatusNoAvailable();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(li,{height:"90%",panelClass:e,enterAnimationDuration:O.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:O.cmsViewConfig.exitAnimationDuration,data:{title:r.title,urlViewContentQRCodeBase64:r.urlViewContentQRCodeBase64,urlViewContent:r.urlViewContent}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate})}};Jn.\u0275fac=function(e){return new(e||Jn)(g(wt),g(U),g(G),g(F),g(H),g(Y),g(Xe),g(Z),g(K))},Jn.\u0275cmp=B({type:Jn,selectors:[["app-estate-property-header"]],inputs:{optionId:"optionId"},standalone:!1,decls:34,vars:11,consts:[[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content"],[1,"table"],[1,"tr"],[1,"td","small-width"],[1,"svg-icon","svg-icon-3x","svg-icon-primary",3,"inlineSVG"],[1,"td","large-width",2,"color","darkblue"],[1,"td"],[1,"td","large-width"],[2,"clear","both"],[1,"td",2,"text-align","left"],["title","link to"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[1,"divider","divider-margins"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"]],template:function(e,i){e&1&&(a(0,"div",0),S(1,"app-progress-spinner",1),a(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),S(6,"span",6),l(),a(7,"div",7)(8,"h5")(9,"b"),c(10),_(11,"translate"),l()()(),v(12,Nm,1,0,"div",8),l(),a(13,"div",4)(14,"div",5)(15,"b"),c(16),l(),c(17,": "),l(),a(18,"div",9),c(19),l(),S(20,"div",8)(21,"div",10),l(),a(22,"div",4)(23,"div",5)(24,"b"),c(25),l(),c(26," : "),l(),a(27,"div",9),c(28),l(),a(29,"div",11)(30,"abbr",12),v(31,Gm,3,0,"button",13),l()(),S(32,"div",10),l()()()(),S(33,"div",14)),e&2&&(o(),f("optionsInfoAreaId",i.constructorInfoAreaId),o(5),f("inlineSVG","./assets/media/svg/icons/Communication/Flag.svg"),o(4),M(C(11,9,"TITLE.Selected_Property")),o(2),E(!(i.dataModelResult==null||i.dataModelResult.item==null)&&i.dataModelResult.item.id?12:-1),o(4),h("",i.fieldsInfo.id==null?null:i.fieldsInfo.id.fieldTitle," "),o(3),M(i.dataModelResult==null||i.dataModelResult.item==null?null:i.dataModelResult.item.id),o(6),M(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(3),M(i.dataModelResult==null||i.dataModelResult.item==null?null:i.dataModelResult.item.title),o(3),E(!(i.dataModelResult==null||i.dataModelResult.item==null)&&i.dataModelResult.item.id?31:-1))},dependencies:[de,W,yt,N],styles:[".table[_ngcontent-%COMP%]{display:table;border:1px solid #40a1f5;padding:2px;background:#fff;border-radius:5px}.table[_ngcontent-%COMP%]   .th[_ngcontent-%COMP%]{display:table-row;background-color:#40a1f577;color:#fff;font-weight:700}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f9f9f9}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]{display:table-row;border-bottom:1px solid #000}.table[_ngcontent-%COMP%]   .td[_ngcontent-%COMP%]{display:table-cell;padding:15px;border-bottom:1px solid #40a1f5;color:#3d7c7a}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:last-child   .td[_ngcontent-%COMP%]{border:0}.small-width[_ngcontent-%COMP%]{width:90px}.large-width[_ngcontent-%COMP%]{width:400px}.clear[_ngcontent-%COMP%]{clear:both}"]});var _r=Jn;function qm(n,r){if(n&1){let e=I();a(0,"button",14),b("click",function(){m(e);let t=d();return u(t.onActionAdd())}),c(1),_(2,"translate"),l()}n&2&&(o(),h(" ",C(2,1,"ACTION.ADD")," "))}function Wm(n,r){if(n&1){let e=I();a(0,"button",15),b("click",function(){m(e);let t=d();return u(t.onActionEdit())}),c(1),_(2,"translate"),l()}n&2&&(o(),h(" ",C(2,1,"ACTION.EDIT")," "))}function jm(n,r){if(n&1){let e=I();a(0,"button",16),b("click",function(){m(e);let t=d();return u(t.onActionDelete())}),c(1),_(2,"translate"),l()}n&2&&(o(),h(" ",C(2,1,"ACTION.DELETE")," "))}function Qm(n,r){if(n&1){let e=I();a(0,"button",17),b("click",function(){m(e);let t=d();return u(t.onActionButtonReload())}),a(1,"mat-icon",18),_(2,"translate"),c(3,"refresh"),l()()}n&2&&(o(),f("title",R(C(2,2,"ACTION.RELOAD"))))}function zm(n,r){if(n&1){let e=I();a(0,"mat-tree-node",19),S(1,"button",20),a(2,"span",21),b("click",function(){let t=m(e).$implicit,s=d();return u(s.onActionSelect(t))}),c(3),l()()}if(n&2){let e=r.$implicit,i=d();j("ntk-tree-selected",(i.dataModelSelect==null||i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0&&(i.dataModelSelect==null?null:i.dataModelSelect.id)===e.id),o(3),M(e.title)}}function $m(n,r){if(n&1){let e=I();a(0,"mat-tree-node",22)(1,"button",23)(2,"mat-icon",24),c(3),l()(),a(4,"span",21),b("click",function(){let t=m(e).$implicit,s=d();return u(s.onActionSelect(t))}),c(5),l()()}if(n&2){let e=r.$implicit,i=d(),t=D(12);j("ntk-tree-selected",(i.dataModelSelect==null||i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0&&(i.dataModelSelect==null?null:i.dataModelSelect.id)===e.id),f("cdkTreeNodeTypeaheadLabel",e.title)("isExpanded",e.isExpanded??!1),o(),Ae("type","button")("aria-label","Toggle "+e.title),o(2),h(" ",t.isExpanded(e)?"expand_more":"chevron_right"," "),o(2),M(e.title)}}var Xn=class Xn{constructor(r,e,i,t,s,p,y,z,Me,Ce,et){this.cmsToastrService=r;this.coreEnumService=e;this.categoryService=i;this.cmsConfirmationDialogService=t;this.themeService=s;this.dialog=p;this.cdr=y;this.publicHelper=z;this.translate=Me;this.tokenHelper=Ce;this.cmsStoreService=et;this.constructorInfoAreaId=this.constructor.name;this.dataModelSelect=new bi;this.dataModelResult=new Q;this.filterModel=new re;this.dataSource=new Cn;this.optionChange=new je;this.unsubscribe=[];this.optionReload=()=>this.onActionButtonReload();this.hasChild=(r,e)=>!1;this.childrenAccessor=r=>[];this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(r){this.onActionSelectForce(r)}ngOnInit(){this.unsubscribe.push(this.cmsStoreService.getState(r=>r.tokenInfoStore).subscribe(()=>$(this,null,function*(){this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(r=>r.unsubscribe())}DataGetAll(){this.filterModel.rowPerPage=200,this.filterModel.accessLoad=!0;let r=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(r,e,this.constructorInfoAreaId)}),this.categoryService.ServiceGetAll(this.filterModel).subscribe({next:e=>{e.isSuccess?(this.dataModelResult=e,this.dataSource.data=this.dataModelResult.listItems):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(r)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(r,!1)}})}onActionSelect(r){r&&this.dataModelSelect&&r.id==this.dataModelSelect.id?(this.dataModelSelect=null,this.optionChange.emit(null)):(this.dataModelSelect=r,this.optionChange.emit(this.dataModelSelect))}onActionButtonReload(){this.onActionSelect(null),this.dataModelSelect=new bi,this.DataGetAll()}onActionSelectForce(r){}onActionAdd(){var r="";this.publicHelper.isMobile?r="dialog-fullscreen":r="dialog-min",this.dialog.open(ya,{height:"90%",panelClass:r,enterAnimationDuration:O.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:O.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(i=>{i&&i.dialogChangedDate&&this.DataGetAll()})}onActionEdit(){let r="";if(this.dataModelSelect&&this.dataModelSelect.id&&this.dataModelSelect.id.length>0&&(r=this.dataModelSelect.id),r===""){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorCategoryNotSelected").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(ga,{height:"90%",panelClass:e,enterAnimationDuration:O.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:O.cmsViewConfig.exitAnimationDuration,data:{id:r}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionDelete(){let r="";if(this.dataModelSelect&&this.dataModelSelect.id&&this.dataModelSelect.id.length>0&&(r=this.dataModelSelect.id),r===""){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorCategoryNotSelected").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}var e="",i="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(t=>{e=t["MESSAGE.Please_Confirm"],i=t["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.dataModelSelect.title+" ) ",this.cmsConfirmationDialogService.confirm(e,i).then(s=>{if(s){let p=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(y=>{this.publicHelper.processService.processStart(p,y,this.constructorInfoAreaId)}),this.categoryService.ServiceDelete(this.dataModelSelect.id).subscribe({next:y=>{y.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(p)},error:y=>{this.cmsToastrService.typeError(y),this.publicHelper.processService.processStop(p,!1)}})}}).catch(()=>{})})}};Xn.\u0275fac=function(e){return new(e||Xn)(g(F),g(ce),g(an),g(Gt),g(Xe),g(Z),g(G),g(U),g(H),g(K),g(Y))},Xn.\u0275cmp=B({type:Xn,selectors:[["app-estate-activity-type-tree"]],inputs:{optionSelectForce:"optionSelectForce",optionReload:"optionReload"},outputs:{optionChange:"optionChange"},standalone:!1,decls:16,vars:14,consts:[["treeTagControl",""],[3,"optionHeaderDisplay","optionActionMainDisplay","optionFooterDisplay"],["cms-tree-header",""],["cms-tree-action",""],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],["cms-tree-body","",1,"loader-container"],[3,"optionsInfoAreaId"],[3,"dataSource","childrenAccessor"],["matTreeNodePadding","",3,"ntk-tree-selected",4,"matTreeNodeDef"],["matTreeNodePadding","","matTreeNodeToggle","","isExpandable","",3,"cdkTreeNodeTypeaheadLabel","isExpanded","ntk-tree-selected",4,"matTreeNodeDef","matTreeNodeDefWhen"],["cms-tree-footer",""],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"title"],["matTreeNodePadding",""],["matIconButton","","disabled",""],[3,"click"],["matTreeNodePadding","","matTreeNodeToggle","","isExpandable","",3,"cdkTreeNodeTypeaheadLabel","isExpanded"],["matIconButton","","matTreeNodeToggle",""],[1,"mat-icon-rtl-mirror"]],template:function(e,i){e&1&&(a(0,"app-cms-html-tree",1),T(1,2),c(2),_(3,"translate"),w(),T(4,3),v(5,qm,3,3,"button",4),v(6,Wm,3,3,"button",5),v(7,jm,3,3,"button",6),v(8,Qm,4,4,"button",7),w(),T(9,8),S(10,"app-progress-spinner",9),a(11,"mat-tree",10,0),x(13,zm,4,3,"mat-tree-node",11)(14,$m,6,8,"mat-tree-node",12),l(),w(),Le(15,13),l()),e&2&&(f("optionHeaderDisplay",!0)("optionActionMainDisplay",!0)("optionFooterDisplay",!1),o(2),h(" ",C(3,12,"TABLE."+(i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.moduleEntityName))," "),o(3),E(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessAddRow?5:-1),o(),E(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessEditRow&&(i.dataModelSelect==null?null:i.dataModelSelect.id)>0?6:-1),o(),E(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessDeleteRow&&i.dataModelSelect.id&&(i.dataModelSelect==null||i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0?7:-1),o(),E(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessWatchRow?8:-1),o(2),f("optionsInfoAreaId",i.constructorInfoAreaId),o(),f("dataSource",i.dataSource)("childrenAccessor",i.childrenAccessor),o(3),f("matTreeNodeDefWhen",i.hasChild))},dependencies:[Be,de,mn,un,_n,fn,pn,W,Sn,N],encapsulation:2});var Cr=Xn;var Xm=()=>["expandedTitle"],Zm=()=>["expandedDetail"],e0=()=>[5,10,20,100],qa=n=>({display:n});function t0(n,r){if(n&1&&S(0,"app-estate-property-header",4),n&2){let e=d();f("optionId",e.requestLinkPropertyId)}}function i0(n,r){if(n&1&&S(0,"app-estate-customer-order-header",4),n&2){let e=d();f("optionId",e.requestLinkCustomerOrderId)}}function n0(n,r){if(n&1&&S(0,"app-estate-account-expert-header",4),n&2){let e=d();f("optionId",e.requestLinkEstateExpertId)}}function o0(n,r){if(n&1){let e=I();a(0,"div",23)(1,"a",58),b("click",function(){m(e);let t=d();return u(t.onActionButtonNewRow())}),S(2,"i",59)(3,"br"),l(),a(4,"p",26),c(5),_(6,"translate"),l()()}n&2&&(o(5),h(" ",C(6,1,"ACTION.ADD")," "))}function r0(n,r){if(n&1){let e=I();a(0,"div",23)(1,"a",60),b("click",function(){m(e);let t=d();return u(t.onActionButtonEditRow(t.tableRowSelected))}),S(2,"i",61)(3,"br"),l(),a(4,"p",26),c(5),_(6,"translate"),l()()}n&2&&(o(5),h(" ",C(6,1,"ACTION.EDIT")," "))}function a0(n,r){if(n&1){let e=I();a(0,"div",23)(1,"a",62),b("click",function(){m(e);let t=d();return u(t.onActionButtonDeleteRow(t.tableRowSelected))}),S(2,"i",63)(3,"br"),l(),a(4,"p",26),c(5),_(6,"translate"),l()()}n&2&&(o(5),h(" ",C(6,1,"ACTION.DELETE")," "))}function l0(n,r){n&1&&(a(0,"mat-error"),c(1),_(2,"translate"),l()),n&2&&(o(),M(C(2,1,"MESSAGE.InvalidStartDate")))}function s0(n,r){n&1&&(a(0,"mat-error"),c(1),_(2,"translate"),l()),n&2&&(o(),M(C(2,1,"MESSAGE.InvalidEndDate")))}function c0(n,r){if(n&1){let e=I();a(0,"div",28)(1,"div",64),c(2),_(3,"translate"),l(),a(4,"mat-form-field",65)(5,"mat-label"),c(6),_(7,"translate"),l(),a(8,"mat-date-range-input",66),S(9,"input",67),_(10,"translate"),S(11,"input",68),_(12,"translate"),l(),S(13,"mat-datepicker-toggle",69)(14,"mat-date-range-picker",null,2),v(16,l0,3,3,"mat-error"),v(17,s0,3,3,"mat-error"),l(),a(18,"button",70),b("click",function(){m(e);let t=d();return u(t.onActionNext())}),S(19,"i",71),l(),a(20,"button",70),b("click",function(){m(e);let t=d();return u(t.onActionPervious())}),S(21,"i",71),c(22," > "),l(),S(23,"br"),a(24,"a",72),b("click",function(){m(e);let t=d();return u(t.onActionButtonInCheckingOnDateSearch())}),c(25),_(26,"translate"),l()()}if(n&2){let e=D(15),i=d();o(2),h(" ",C(3,12,"TITLE.SearchInCheckingOnDay")," "),o(4),M(C(7,14,"TITLE.Enter_a_date_range")),o(2),f("formGroup",i.checkingOnDayRange)("rangePicker",e),o(),f("placeholder",R(C(10,16,"TITLE.Start_Date"))),o(2),f("placeholder",R(C(12,18,"TITLE.Start_Date"))),o(2),f("for",e),o(3),E(i.checkingOnDayRange.controls.start.hasError("matStartDateInvalid")?16:-1),o(),E(i.checkingOnDayRange.controls.end.hasError("matEndDateInvalid")?17:-1),o(8),M(C(26,20,"ACTION.SEARCH"))}}function d0(n,r){n&1&&(a(0,"mat-header-cell"),c(1),_(2,"translate"),l()),n&2&&(o(),h(" ",C(2,1,"TITLE.MENU")," "))}function p0(n,r){if(n&1){let e=I();a(0,"mat-cell")(1,"button",73),b("click",function(){let t=m(e).$implicit,s=d();return u(s.onActionTableRowSelectActionMenu(t))}),S(2,"i",74),l()()}}function m0(n,r){if(n&1&&(a(0,"mat-header-cell",75),c(1),l()),n&2){let e=d();o(),h(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function u0(n,r){if(n&1&&(a(0,"mat-cell"),c(1),l()),n&2){let e=r.$implicit;o(),h(" ",e.id," ")}}function f0(n,r){if(n&1&&(a(0,"mat-header-cell",75),c(1),l()),n&2){let e=d();o(),h(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function _0(n,r){if(n&1&&S(0,"select",77),n&2){let e=d().$implicit,i=d();f("contentService",i.contentService)("row",e)("ngStyle",Ee(3,qa,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function C0(n,r){if(n&1&&(a(0,"mat-cell",76),_(1,"statusCellClass"),S(2,"i",76),_(3,"statusIconClass"),v(4,_0,1,5,"select",77),l()),n&2){let e=r.$implicit,i=d();f("ngClass",C(1,3,e.recordStatus)),o(2),f("ngClass",C(3,5,e.recordStatus)),o(2),E(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessEditRow?4:-1)}}function h0(n,r){if(n&1&&(a(0,"mat-header-cell",75),c(1),l()),n&2){let e=d();o(),h(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," ")}}function S0(n,r){if(n&1&&(a(0,"mat-cell"),c(1),l()),n&2){let e=r.$implicit;o(),h(" ",e.title," ")}}function y0(n,r){if(n&1&&(a(0,"mat-header-cell",75),c(1),l()),n&2){let e=d();o(),h(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function g0(n,r){if(n&1&&(a(0,"mat-cell",78),c(1),_(2,"localeDateTime"),l()),n&2){let e=r.$implicit;o(),h(" ",C(2,1,e.createdDate)," ")}}function v0(n,r){if(n&1&&(a(0,"mat-header-cell",75),c(1),l()),n&2){let e=d();o(),h(" ",e.fieldsInfo.appointmentDateFrom==null?null:e.fieldsInfo.appointmentDateFrom.fieldTitle," ")}}function E0(n,r){if(n&1&&(a(0,"mat-cell"),c(1),_(2,"localeDate"),l()),n&2){let e=r.$implicit,i=d();o(),q(" ",C(2,2,e.appointmentDateFrom)," ",i.publicHelper.getTime(e.appointmentDateFrom))}}function b0(n,r){if(n&1&&(a(0,"mat-header-cell",75),c(1),l()),n&2){let e=d();o(),h(" ",e.fieldsInfo.appointmentDateTo==null?null:e.fieldsInfo.appointmentDateTo.fieldTitle," ")}}function I0(n,r){if(n&1&&(a(0,"mat-cell"),c(1),_(2,"localeDate"),l()),n&2){let e=r.$implicit,i=d();o(),q(" ",C(2,2,e.appointmentDateTo)," ",i.publicHelper.getTime(e.appointmentDateTo)," ")}}function M0(n,r){if(n&1&&(a(0,"mat-header-cell",75),c(1),l()),n&2){let e=d();o(),h(" ",e.fieldsInfo.linkActivityTypeId==null?null:e.fieldsInfo.linkActivityTypeId.fieldTitle," ")}}function T0(n,r){if(n&1&&(a(0,"mat-cell"),c(1),_(2,"cmstitle"),l()),n&2){let e=r.$implicit,i=d();o(),h(" ",Ki(2,1,e.linkActivityTypeId,i.dataModelActivityTypeResult.listItems)," ")}}function w0(n,r){if(n&1&&(a(0,"mat-header-cell",75),c(1),l()),n&2){let e=d();o(),h(" ",e.fieldsInfo.activityStatus==null?null:e.fieldsInfo.activityStatus.fieldTitle," ")}}function x0(n,r){if(n&1&&(a(0,"mat-cell"),c(1),_(2,"enums"),l()),n&2){let e=r.$implicit,i=d();o(),h(" ",Ki(2,1,e.activityStatus,i.dataModelEstateActivityStatusEnumResult.listItems)," ")}}function P0(n,r){n&1&&(a(0,"mat-header-cell"),c(1),_(2,"translate"),l()),n&2&&(o(),h(" ",C(2,1,"TITLE.OPTION")," "))}function A0(n,r){if(n&1&&(a(0,"mat-cell",79)(1,"button",80)(2,"mat-icon"),c(3,"more_vert"),l()(),S(4,"mat-menu",null,3),l()),n&2){let e=D(5);o(),f("matMenuTriggerFor",e)}}function k0(n,r){n&1&&(a(0,"mat-header-cell",81),c(1),_(2,"translate"),l()),n&2&&(o(),h(" ",C(2,1,"TITLE.QUICK_VIEW")," "))}function R0(n,r){if(n&1){let e=I();a(0,"mat-cell")(1,"button",82),b("click",function(){let t=m(e).$implicit,s=d();return u(s.onActionButtonQuickViewRow(t))}),a(2,"mat-icon",83),c(3,"visibility"),l()()()}}function D0(n,r){if(n&1&&(a(0,"mat-cell"),c(1),l()),n&2){let e=r.$implicit;o(),h(" ",e.title," ")}}function L0(n,r){if(n&1){let e=I();a(0,"tr")(1,"td"),c(2),_(3,"translate"),l(),a(4,"td")(5,"span",84),b("click",function(){m(e);let t=d(2);return u(t.onActionCopied())}),c(6),_(7,"estatePropertyInfo"),_(8,"async"),S(9,"i",86),l(),a(10,"button",87),b("click",function(){m(e);let t=d().$implicit,s=d();return u(s.onActionButtonPropertyQuickViewRow(t.linkPropertyId))}),a(11,"mat-icon"),c(12,"visibility"),l()()()()}if(n&2){let e=d().$implicit;o(2),h("",C(3,3,"TITLE.Property_Id"),":"),o(3),f("cdkCopyToClipboard",e.linkPropertyId),o(),h(" ",C(8,7,C(7,5,e.linkPropertyId))," \xA0 ")}}function V0(n,r){if(n&1){let e=I();a(0,"tr")(1,"td"),c(2),_(3,"translate"),l(),a(4,"td")(5,"span",84),b("click",function(){m(e);let t=d(2);return u(t.onActionCopied())}),c(6),_(7,"estateCustomerOrderInfo"),_(8,"async"),S(9,"i",85),l(),a(10,"button",87),b("click",function(){m(e);let t=d().$implicit,s=d();return u(s.onActionButtonCustomerOrderQuickViewRow(t.linkCustomerOrderId))}),a(11,"mat-icon"),c(12,"visibility"),l()()()()}if(n&2){let e=d().$implicit;o(2),h("",C(3,3,"TITLE.Customer_Order_Id"),":"),o(3),f("cdkCopyToClipboard",e.linkCustomerOrderId),o(),h(" ",C(8,7,C(7,5,e.linkCustomerOrderId))," \xA0 ")}}function O0(n,r){if(n&1){let e=I();a(0,"tr")(1,"td"),c(2),_(3,"translate"),l(),a(4,"td")(5,"span",84),b("click",function(){m(e);let t=d(2);return u(t.onActionCopied())}),c(6),_(7,"estateAccountExpertInfo"),_(8,"async"),S(9,"i",85),l()()()}if(n&2){let e=d().$implicit;o(2),h("",C(3,3,"TITLE.Expert_Id"),":"),o(3),f("cdkCopyToClipboard",e.linkCustomerOrderId),o(),h(" ",C(8,7,C(7,5,e.linkEstateExpertId))," \xA0 ")}}function B0(n,r){if(n&1){let e=I();a(0,"tr")(1,"td"),c(2),_(3,"translate"),l(),a(4,"td")(5,"span",84),b("click",function(){m(e);let t=d(2);return u(t.onActionCopied())}),c(6),_(7,"estateAccountAgencyInfo"),_(8,"async"),S(9,"i",85),l()()()}if(n&2){let e=d().$implicit;o(2),h("",C(3,3,"TITLE.Agency_Id"),":"),o(3),f("cdkCopyToClipboard",e.linkCustomerOrderId),o(),h(" ",C(8,7,C(7,5,e.linkEstateAgencyId))," \xA0 ")}}function H0(n,r){if(n&1&&(a(0,"tr")(1,"td"),c(2),l(),a(3,"td"),c(4),l()()),n&2){let e=d().$implicit,i=d();o(2),h("",i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle,":"),o(2),M(e.title)}}function F0(n,r){if(n&1&&(a(0,"tr")(1,"td"),c(2),l(),a(3,"td"),c(4),l()()),n&2){let e=d().$implicit,i=d();o(2),h("",i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle,":"),o(2),M(e.description)}}function N0(n,r){if(n&1){let e=I();a(0,"mat-cell")(1,"div")(2,"table")(3,"tr")(4,"td"),c(5),_(6,"translate"),l(),a(7,"td")(8,"span",84),b("click",function(){m(e);let t=d();return u(t.onActionCopied())}),c(9," \xA0 "),S(10,"i",85),l(),c(11),l()(),v(12,L0,13,9,"tr"),v(13,V0,13,9,"tr"),v(14,O0,10,9,"tr"),v(15,B0,10,9,"tr"),v(16,H0,5,2,"tr"),v(17,F0,5,2,"tr"),a(18,"tr"),S(19,"td"),a(20,"td"),c(21),_(22,"cmsuserinfo"),_(23,"async"),l()(),a(24,"tr"),S(25,"td")(26,"td"),l()()()()}if(n&2){let e=r.$implicit;o(5),h("",C(6,10,"TITLE.Id"),":"),o(3),f("cdkCopyToClipboard",e.id),o(3),h("",e.id," "),o(),E(e.linkPropertyId&&e.linkPropertyId.length>0?12:-1),o(),E(e.linkCustomerOrderId&&e.linkCustomerOrderId.length>0?13:-1),o(),E(e.linkEstateExpertId&&e.linkEstateExpertId.length>0?14:-1),o(),E(e.linkEstateAgencyId&&e.linkEstateAgencyId.length>0?15:-1),o(),E(e.title&&e.title.length>0?16:-1),o(),E(e.description&&e.description.length>0?17:-1),o(4),M(C(23,14,C(22,12,e.createdBy)))}}function G0(n,r){n&1&&S(0,"mat-header-row")}function U0(n,r){if(n&1){let e=I();a(0,"mat-row",88),b("click",function(t){let s=m(e).$implicit,p=d();return u(p.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=m(e).$implicit,p=d();return u(p.onActionTableRowSelect(s,t))})("mouseenter",function(){let t=m(e).$implicit,s=d();return u(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=m(e).$implicit,s=d();return u(s.onActionTableRowMouseLeave(t))}),l()}if(n&2){let e=r.$implicit,i=d();j("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}function q0(n,r){if(n&1){let e=I();a(0,"mat-row",89),b("click",function(t){let s=m(e).$implicit,p=d();return u(p.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=m(e).$implicit,p=d();return u(p.onActionTableRowSelect(s,t))})("mouseenter",function(){let t=m(e).$implicit,s=d();return u(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=m(e).$implicit,s=d();return u(s.onActionTableRowMouseLeave(t))}),l()}if(n&2){let e=r.$implicit,i=d();j("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}function W0(n,r){if(n&1){let e=I();a(0,"mat-row",90),b("click",function(t){let s=m(e).$implicit,p=d();return u(p.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=m(e).$implicit,p=d();return u(p.onActionTableRowSelect(s,t))})("mouseenter",function(){let t=m(e).$implicit,s=d();return u(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=m(e).$implicit,s=d();return u(s.onActionTableRowMouseLeave(t))}),l()}if(n&2){let e=r.$implicit,i=d();j("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)),f("ngStyle",Ee(3,qa,e.expanded===!0?"":"none"))}}var Zn=class Zn extends Ut{constructor(e,i,t,s,p,y,z,Me,Ce,et,We,Ge,tt){super(e,new Ii,Ge,y,et);this.contentService=e;this.cmsConfirmationDialogService=i;this.cmsToastrService=t;this.estateActivityTypeService=s;this.estateEnumService=p;this.tokenHelper=y;this.activatedRoute=z;this.cmsStoreService=Me;this.cdr=Ce;this.translate=et;this.pageInfo=We;this.publicHelper=Ge;this.dialog=tt;this.requestLinkPropertyId="";this.requestLinkEstateExpertId="";this.requestLinkCustomerOrderId="";this.requestLinkEstateAgencyId="";this.responsibleUserId=0;this.constructorInfoAreaId=this.constructor.name;this.optionloadComponent=!0;this.optionloadByRoute=!0;this.popupAdd=!1;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new wo;this.dataModelActivityTypeResult=new Q;this.searchInCheckingOnDay=!1;this.searchInCheckingPlanedToDay=!1;this.searchInCheckingPlanedToDayUserId=0;this.searchInCheckingOnDayChecked=!1;this.searchInCheckingPlanedToDayChecked=!1;this.searchInResponsibleChecked=!1;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["id","recordStatus","createdDate","AppointmentDateFrom","AppointmentDateTo","LinkActivityTypeId","ActivityStatus","QuickView","action_menu"];this.tabledisplayedColumnsMobileSource=["id","recordStatus","createdDate","ActivityStatus","QuickView","action_menu"];this.dataModelEstateActivityStatusEnumResult=new Q;this.unsubscribe=[];this.checkingOnDayRange=new Gr({start:new Ue(null),end:new Ue(null)});We.updateContentService(e),this.publicHelper.processService.cdr=this.cdr,this.requestLinkPropertyId=this.activatedRoute.snapshot.paramMap.get("LinkPropertyId"),this.requestLinkEstateExpertId=this.activatedRoute.snapshot.paramMap.get("LinkEstateExpertId"),this.requestLinkCustomerOrderId=this.activatedRoute.snapshot.paramMap.get("LinkCustomerOrderId"),this.requestLinkEstateAgencyId=this.activatedRoute.snapshot.paramMap.get("LinkEstateAgencyId"),this.popupAdd=this.activatedRoute.snapshot.paramMap.get("Action")?.toLowerCase()==="add",this.requestRecordStatus=Ie[this.activatedRoute.snapshot.paramMap.get("recordStatus")+""],this.responsibleUserId=+this.activatedRoute.snapshot.paramMap.get("ResponsibleUserId"),this.requestRecordStatus&&(this.optionsSearch.data.show=!0,this.optionsSearch.data.defaultQuery='{"condition":"and","rules":[{"field":"recordStatus","type":"select","operator":"equal","value":"'+this.requestRecordStatus+'"}]}',this.requestRecordStatus=null),this.requestActivityStatus=To[this.activatedRoute.snapshot.paramMap.get("ActivityStatus")+""],this.optionsSearch.parentMethods={onSubmit:it=>this.onSubmitOptionsSearch(it)},this.activatedRoute.snapshot.paramMap.get("InCheckingOnDay")&&(this.searchInCheckingOnDay=this.activatedRoute.snapshot.paramMap.get("InCheckingOnDay")==="true"),this.activatedRoute.snapshot.paramMap.get("InCheckingPlanedToDay")&&(this.searchInCheckingPlanedToDay=!0,this.searchInCheckingPlanedToDayUserId=+this.activatedRoute.snapshot.paramMap.get("InCheckingPlanedToDay")|0),this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=ae.Descending}set optionLinkCustomerOrderId(e){e&&e.length>0&&(this.requestLinkCustomerOrderId=e)}set optionLinkPropertyId(e){e&&e.length>0&&(this.requestLinkPropertyId=e)}ngOnInit(){this.filteModelContent.sortColumn="createdDate",this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>$(this,null,function*(){this.tokenInfo=e,this.DataGetAll()}))),this.getEstateActivityStatusEnum(),this.getActivityTypeList()}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}ngAfterViewInit(){this.searchInCheckingOnDay&&(this.searchInCheckingOnDayChecked=!0),this.searchInCheckingPlanedToDay&&(this.searchInCheckingPlanedToDayChecked=!0)}getEstateActivityStatusEnum(){this.estateEnumService.ServiceEstateActivityStatusEnum().subscribe({next:e=>{this.dataModelEstateActivityStatusEnumResult=e}})}getActivityTypeList(){let e=new re;e.rowPerPage=100,this.estateActivityTypeService.ServiceGetAllEditor(e).subscribe({next:i=>{this.dataModelActivityTypeResult=i}})}DataGetAll(){if(this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),!this.optionloadComponent)return;this.tableRowsSelected=[],this.onActionTableRowSelect(new Ii);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));if(this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.requestActivityStatus!=null){let t=new L;t.propertyName="activityStatus",t.value=To.Planned,i.filters.push(t)}if(this.searchInCheckingPlanedToDay){let t=new L,s=48;i.onDateTimeFrom=new Date(new Date().setHours(0,0,0,0)-s*60*60*1e3),i.onDateTimeTo=new Date(new Date().setHours(23,59,59,999)),this.searchInCheckingPlanedToDayUserId===0?i.linkResponsibleUserId=this.tokenInfo.access.userId:i.linkResponsibleUserId=this.searchInCheckingPlanedToDayUserId,t.propertyName="activityStatus",t.value=To.Planned,t.searchType=J.Equal,i.filters.push(t)}if(this.requestLinkPropertyId&&this.requestLinkPropertyId.length>0){let t=new L;t.propertyName="LinkPropertyId",t.value=this.requestLinkPropertyId,i.filters.push(t)}if(this.requestLinkEstateExpertId&&this.requestLinkEstateExpertId.length>0){let t=new L;t.propertyName="linkEstateExpertId",t.value=this.requestLinkEstateExpertId,i.filters.push(t)}if(this.requestLinkCustomerOrderId?.length>0){let t=new L;t.propertyName="linkCustomerOrderId",t.value=this.requestLinkCustomerOrderId,i.filters.push(t)}if(this.requestLinkEstateAgencyId&&this.requestLinkEstateAgencyId.length>0){let t=new L;t.propertyName="linkEstateAgencyId",t.value=this.requestLinkEstateAgencyId,i.filters.push(t)}if(this.searchInResponsibleChecked?i.linkResponsibleUserId=this.tokenInfo.access.userId:this.responsibleUserId>0&&(i.linkResponsibleUserId=this.responsibleUserId),this.categoryModelSelected&&this.categoryModelSelected.id.length>0){let t=new L;t.propertyName="LinkActivityTypeId",t.value=this.categoryModelSelected.id,i.filters.push(t)}if(this.searchInCheckingOnDay){let t=new wo;t=i,this.checkingOnDayRange.controls.start?.value||this.checkingOnDayRange.controls.start.setValue(new Date),this.checkingOnDayRange.controls.end?.value||this.checkingOnDayRange.controls.end.setValue(new Date),t.onDateTimeFrom=this.checkingOnDayRange.controls.start.value,t.onDateTimeTo=this.checkingOnDayRange.controls.end.value,this.contentService.ServiceGetAll(t).subscribe({next:s=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(s.access),s.isSuccess?(this.dataModelResult=s,this.tableSource.data=s.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(s.access)},1e3)):this.cmsToastrService.typeErrorMessage(s.errorMessage),this.publicHelper.processService.processStop(e),this.popupAdd&&this.onActionButtonNewRow()},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(e,!1)}})}else this.contentService.ServiceGetAll(i).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),t.isSuccess?(this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e),this.popupAdd&&this.onActionButtonNewRow()},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=ae.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=ae.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=ae.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.popupAdd=!1,this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.publicHelper.isMobile?this.dialog.open(gi,{height:"90%",panelClass:e,enterAnimationDuration:O.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:O.cmsViewConfig.exitAnimationDuration,data:{linkActivityTypeId:this.categoryModelSelected?.id,linkPropertyId:this.requestLinkPropertyId,linkEstateExpertId:this.requestLinkEstateExpertId,linkCustomerOrderId:this.requestLinkCustomerOrderId,linkEstateAgencyId:this.requestLinkEstateAgencyId}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()}):this.dialog.open(gi,{height:"90%",panelClass:e,enterAnimationDuration:O.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:O.cmsViewConfig.exitAnimationDuration,data:{linkActivityTypeId:this.categoryModelSelected?.id,linkPropertyId:this.requestLinkPropertyId,linkEstateExpertId:this.requestLinkEstateExpertId,linkCustomerOrderId:this.requestLinkCustomerOrderId,linkEstateAgencyId:this.requestLinkEstateAgencyId}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.publicHelper.isMobile?this.dialog.open(bo,{height:"90%",panelClass:i,enterAnimationDuration:O.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:O.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate&&this.DataGetAll()}):this.dialog.open(bo,{height:"90%",panelClass:i,enterAnimationDuration:O.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:O.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(s=>{this.cmsToastrService.typeErrorSelected(s)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(s=>{i=s["MESSAGE.Please_Confirm"],t=s["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(s=>{if(s){let p=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(y=>{this.publicHelper.processService.processStart(p,y,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:y=>{y.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(p)},error:y=>{this.cmsToastrService.typeError(y),this.publicHelper.processService.processStop(p)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(y=>{i.set(y,0)}),this.translate.get("MESSAGE.All").subscribe(y=>{i.set(y,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(y=>{this.publicHelper.processService.processStart(t,y,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:y=>{y.isSuccess?(this.translate.get("MESSAGE.All").subscribe(z=>{i.set(z,y.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(y.errorMessage),this.publicHelper.processService.processStop(t)},error:y=>{this.cmsToastrService.typeError(y),this.publicHelper.processService.processStop(t,!1)}});let s=JSON.parse(JSON.stringify(this.filteModelContent)),p=new L;p.propertyName="recordStatus",p.value=Ie.Available,s.filters.push(p),this.contentService.ServiceGetCount(s).subscribe({next:y=>{y.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(z=>{i.set(z,y.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(y.errorMessage),this.publicHelper.processService.processStop(t)},error:y=>{this.cmsToastrService.typeError(y),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonPropertyQuickViewRow(e){if(!e||e.length===0){this.cmsToastrService.typeErrorSelectedRow();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(yn,{height:"90%",panelClass:i,enterAnimationDuration:O.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:O.cmsViewConfig.exitAnimationDuration,data:{id:e}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate})}onActionButtonQuickViewRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.tableRowSelected=e,this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var i=this.publicHelper.InfoNextRowInList(this.dataModelResult.listItems,this.tableRowSelected),t=this.publicHelper.InfoPerviousRowInList(this.dataModelResult.listItems,this.tableRowSelected),s="";this.publicHelper.isMobile?s="dialog-fullscreen":s="dialog-min",this.dialog.open(ha,{height:"90%",panelClass:s,enterAnimationDuration:O.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:O.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id,perviousItem:t,nextItem:i}}).afterClosed().subscribe(y=>{y&&y.dialogChangedDate&&y.onActionOpenItem&&y.onActionOpenItem.id.length>0&&this.onActionButtonQuickViewRow(y.onActionOpenItem)})}onActionButtonCustomerOrderQuickViewRow(e){if(!e||e.length===0){this.cmsToastrService.typeErrorSelectedRow();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Ko,{height:"90%",panelClass:i,enterAnimationDuration:O.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:O.cmsViewConfig.exitAnimationDuration,data:{id:e}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate})}onActionSelectorSelect(e){var i=this.filteModelContent.sortColumn,t=this.filteModelContent.sortType;this.filteModelContent=new wo,this.filteModelContent.sortColumn=i,this.filteModelContent.sortType=t,this.categoryModelSelected=e,this.DataGetAll()}onActionButtonReload(){this.optionloadComponent=!0,this.DataGetAll()}onActionCopied(){this.cmsToastrService.typeSuccessCopedToClipboard()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionButtonInCheckingOnDate(e){this.searchInCheckingOnDay=e,this.searchInCheckingOnDay?(this.checkingOnDayRange.controls.start?.value||this.checkingOnDayRange.controls.start.setValue(new Date),this.checkingOnDayRange.controls.end?.value||this.checkingOnDayRange.controls.end.setValue(new Date)):this.DataGetAll()}onActionButtonInCheckingPlaned(e){this.searchInCheckingPlanedToDay=e,this.DataGetAll()}onActionButtonInResponsible(e){this.searchInResponsibleChecked=e,this.DataGetAll()}onActionButtonInCheckingOnDateSearch(){this.searchInCheckingOnDay&&this.DataGetAll()}onActionNext(){this.checkingOnDayRange.controls.start?.value||this.checkingOnDayRange.controls.start.setValue(new Date),this.checkingOnDayRange.controls.end?.value||this.checkingOnDayRange.controls.end.setValue(new Date),this.checkingOnDayRange.controls.start.setValue(this.addDays(this.checkingOnDayRange.controls.start.value,1)),this.checkingOnDayRange.controls.end.setValue(this.addDays(this.checkingOnDayRange.controls.end.value,1))}onActionPervious(){this.checkingOnDayRange.controls.start?.value||this.checkingOnDayRange.controls.start.setValue(new Date),this.checkingOnDayRange.controls.end?.value||this.checkingOnDayRange.controls.end.setValue(new Date),this.checkingOnDayRange.controls.start.setValue(this.addDays(this.checkingOnDayRange.controls.start.value,-1)),this.checkingOnDayRange.controls.end.setValue(this.addDays(this.checkingOnDayRange.controls.end.value,-1))}addDays(e,i){let t=new Date(e);return t.setDate(t.getDate()+i),t}onActionButtonResponsibleUserlistView(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}this.tableRowSelected=e;var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(fr,{height:"90%",panelClass:i,enterAnimationDuration:O.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:O.cmsViewConfig.exitAnimationDuration,data:{title:this.tableRowSelected.title,id:this.tableRowSelected.id}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate})}};Zn.\u0275fac=function(i){return new(i||Zn)(g(wi),g(Gt),g(F),g(an),g(Ti),g(K),g(vi),g(Y),g(G),g(H),g(Ze),g(U),g(Z))},Zn.\u0275cmp=B({type:Zn,selectors:[["app-estate-property-history-list"]],inputs:{optionloadComponent:"optionloadComponent",optionloadByRoute:"optionloadByRoute",optionLinkCustomerOrderId:"optionLinkCustomerOrderId",optionLinkPropertyId:"optionLinkPropertyId"},standalone:!1,features:[we],decls:101,vars:54,consts:[["tableSort","matSort"],["paginator",""],["picker",""],["actionMenu","matMenu"],[3,"optionId"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionActionRowDisplayMenuAct","optionSelectRowItemTitle"],["cms-tree",""],[3,"optionChange"],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-maximize","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-minimize","font-18",2,"color","#ffffff"],["cms-action-header-end",""],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[3,"click","checked"],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],[1,"fa-solid","fa-share","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["cms-action-area",""],[1,"alert","alert-info"],[3,"optionsChange","options"],["cms-body",""],["matSort","","multiTemplateDataRows","",3,"matSortChange","dataSource"],["matColumnDef","action_menu"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","recordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","title"],["matColumnDef","createdDate"],["style","direction: ltr; justify-content: center; text-align: center",4,"matCellDef"],["matColumnDef","AppointmentDateFrom"],["matColumnDef","AppointmentDateTo"],["matColumnDef","LinkActivityTypeId"],["matColumnDef","ActivityStatus"],["matColumnDef","Action"],["class","Action",4,"matCellDef"],["matColumnDef","QuickView"],["mat-sort-header","","class","form-label",4,"matHeaderCellDef"],["matColumnDef","expandedTitle"],["matColumnDef","expandedDetail"],[4,"matHeaderRowDef"],["class","ntk-row-expandedTitle",3,"ntk-row-selected","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["class","ntk-row-expandedDetail",3,"ntk-row-selected","ngStyle","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],[2,"font-size","30px"],["appearance","fill"],[3,"formGroup","rangePicker"],["matStartDate","","formControlName","start",3,"placeholder"],["matEndDate","","formControlName","end",3,"placeholder"],["matIconSuffix","",3,"for"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["href","javascript:void(0)",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"click"],[1,"fa","fa-bars","font-18"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[2,"direction","ltr","justify-content","center","text-align","center"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],["mat-sort-header","",1,"form-label"],["type","button","mat-icon-button","",1,"text-dark",3,"click"],[2,"color","#ff671f"],[1,"navi-icon","pointer",3,"click","cdkCopyToClipboard"],[1,"flaticon2-copy","brown-color"],[1,"flaticon2-copy","brown-color",2,"color","brown"],["type","button","mat-icon-button","",3,"click"],[1,"ntk-row-expandedTitle",3,"click","rtclick","mouseenter","mouseleave"],[1,"ntk-row-mainfild",3,"click","rtclick","mouseenter","mouseleave"],[1,"ntk-row-expandedDetail",3,"click","rtclick","mouseenter","mouseleave","ngStyle"]],template:function(i,t){if(i&1){let s=I();v(0,t0,1,1,"app-estate-property-header",4),v(1,i0,1,1,"app-estate-customer-order-header",4),v(2,n0,1,1,"app-estate-account-expert-header",4),a(3,"app-cms-html-list",5),k("optionActionGuideNoticeDisplayChange",function(y){return m(s),A(t.viewGuideNotice,y)||(t.viewGuideNotice=y),u(y)}),b("optionOnActionButtonMemoRow",function(){return m(s),u(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return m(s),u(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return m(s),u(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return m(s),u(t.onActionButtonPrintRow())}),T(4,6),a(5,"app-estate-activity-type-tree",7),b("optionChange",function(y){return m(s),u(t.onActionSelectorSelect(y))}),l(),w(),Le(6,8)(7,9),T(8,10),a(9,"a",11),b("click",function(){return m(s),u(t.viewGuideNotice=!t.viewGuideNotice)}),S(10,"i",12),l(),a(11,"a",11),b("click",function(){return m(s),u(t.onActionButtonReload())}),S(12,"i",13),l(),a(13,"a",14),b("click",function(){return m(s),u(t.onActionGridExpandRows(!0))}),S(14,"i",15),l(),a(15,"a",14),b("click",function(){return m(s),u(t.onActionGridExpandRows(!1))}),S(16,"i",16),l(),w(),T(17,17),a(18,"a",18)(19,"mat-slide-toggle",19),b("click",function(){return m(s),u(t.onActionButtonInCheckingOnDate(!t.searchInCheckingOnDay))}),c(20),_(21,"translate"),l()(),a(22,"a",18)(23,"mat-slide-toggle",19),b("click",function(){return m(s),u(t.onActionButtonInCheckingPlaned(!t.searchInCheckingPlanedToDay))}),c(24),_(25,"translate"),l()(),a(26,"a",20),b("click",function(){return m(s),u(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),S(27,"mat-slide-toggle",21),c(28),_(29,"translate"),l(),a(30,"a",20),b("click",function(){return m(s),u(t.onActionButtonStatist())}),S(31,"mat-slide-toggle",21),c(32),_(33,"translate"),l(),a(34,"a",20),b("click",function(){return m(s),u(t.onActionButtonInResponsible(!t.searchInResponsibleChecked))}),S(35,"mat-slide-toggle",21),c(36),_(37,"translate"),l(),w(),T(38,22),v(39,o0,7,3,"div",23),w(),T(40,24),v(41,r0,7,3,"div",23),v(42,a0,7,3,"div",23),a(43,"div",23)(44,"a",11),b("click",function(){return m(s),u(t.onActionButtonResponsibleUserlistView(t.tableRowSelected))}),S(45,"i",25)(46,"br"),l(),a(47,"p",26),c(48),_(49,"translate"),l()(),w(),T(50,27),v(51,c0,27,22,"div",28),a(52,"app-cms-search-list",29),k("optionsChange",function(y){return m(s),A(t.optionsSearch,y)||(t.optionsSearch=y),u(y)}),l(),a(53,"app-cms-statist-list",29),k("optionsChange",function(y){return m(s),A(t.optionsStatist,y)||(t.optionsStatist=y),u(y)}),l(),w(),T(54,30),a(55,"mat-table",31,0),b("matSortChange",function(){m(s);let y=D(56);return u(t.onTableSortData(y))}),T(57,32),x(58,d0,3,3,"mat-header-cell",33)(59,p0,3,0,"mat-cell",34),w(),T(60,35),x(61,m0,2,1,"mat-header-cell",36)(62,u0,2,1,"mat-cell",34),w(),T(63,37),x(64,f0,2,1,"mat-header-cell",36)(65,C0,5,7,"mat-cell",38),w(),T(66,39),x(67,h0,2,1,"mat-header-cell",36)(68,S0,2,1,"mat-cell",34),w(),T(69,40),x(70,y0,2,1,"mat-header-cell",36)(71,g0,3,3,"mat-cell",41),w(),T(72,42),x(73,v0,2,1,"mat-header-cell",36)(74,E0,3,4,"mat-cell",34),w(),T(75,43),x(76,b0,2,1,"mat-header-cell",36)(77,I0,3,4,"mat-cell",34),w(),T(78,44),x(79,M0,2,1,"mat-header-cell",36)(80,T0,3,4,"mat-cell",34),w(),T(81,45),x(82,w0,2,1,"mat-header-cell",36)(83,x0,3,4,"mat-cell",34),w(),T(84,46),x(85,P0,3,3,"mat-header-cell",33)(86,A0,6,1,"mat-cell",47),w(),T(87,48),x(88,k0,3,3,"mat-header-cell",49)(89,R0,4,0,"mat-cell",34),w(),T(90,50),x(91,D0,2,1,"mat-cell",34),w(),T(92,51),x(93,N0,27,16,"mat-cell",34),w(),x(94,G0,1,0,"mat-header-row",52)(95,U0,1,2,"mat-row",53)(96,q0,1,2,"mat-row",54)(97,W0,1,5,"mat-row",55),l(),w(),T(98,56),a(99,"mat-paginator",57,1),b("page",function(y){return m(s),u(t.onTablePageingData(y))}),l(),w(),l()}i&2&&(E((t.requestLinkPropertyId==null?null:t.requestLinkPropertyId.length)>0?0:-1),o(),E((t.requestLinkCustomerOrderId==null?null:t.requestLinkCustomerOrderId.length)>0?1:-1),o(),E((t.requestLinkEstateExpertId==null?null:t.requestLinkEstateExpertId.length)>0?2:-1),o(),f("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey","estate.propertyhistory.list"),P("optionActionGuideNoticeDisplay",t.viewGuideNotice),f("optionTreeDisplay",t.tokenHelper.isAdminSite&&t.optionloadByRoute)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionActionRowDisplayMenuAct",t.tableRowSelectActionMenuClick)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.title),o(9),j("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(7),f("checked",t.searchInCheckingOnDayChecked),o(),h(" ",C(21,39,"ACTION.SearchOnDay")," "),o(3),f("checked",t.searchInCheckingPlanedToDayChecked),o(),h(" ",C(25,41,"ACTION.Planned")," "),o(3),f("checked",t.optionsSearch.data.show),o(),h("",C(29,43,"ACTION.SEARCH")," "),o(3),f("checked",t.optionsStatist.data.show),o(),h("",C(33,45,"ACTION.STATIST")," "),o(3),f("checked",t.searchInResponsibleChecked),o(),h(" ",C(37,47,"ACTION.InResponsible")," "),o(3),E(t.optionloadByRoute&&t.dataModelResult.access.accessAddRow?39:-1),o(2),E(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?41:-1),o(),E(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?42:-1),o(6),h(" ",C(49,49,"TITLE.ResponsibleUsers")," "),o(3),E(t.searchInCheckingOnDay?51:-1),o(),P("options",t.optionsSearch),o(),P("options",t.optionsStatist),o(2),f("dataSource",t.tableSource),o(39),f("matHeaderRowDef",t.tabledisplayedColumns),o(),f("matRowDefColumns",ne(51,Xm)),o(),f("matRowDefColumns",t.tabledisplayedColumns),o(),f("matRowDefColumns",ne(52,Zm)),o(2),f("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",ne(53,e0)))},dependencies:[se,Qe,oe,X,lt,Ur,qr,Be,dn,Kr,Jr,Xr,Zr,Ai,Pi,Rt,st,de,te,Vt,Ot,Bt,Ht,Ft,Nt,ct,pt,_t,mt,dt,Ct,ut,ft,ht,St,xt,qt,Wt,jt,Qt,zt,zi,_r,Sa,Cr,be,N,$o,Qo,ki,Bi,Ri,$t,Yt,ua,fa,_a,Ca],encapsulation:2});var Ua=Zn;function j0(n,r){n&1&&S(0,"div",8)}function Q0(n,r){if(n&1){let e=I();a(0,"button",15),b("click",function(){m(e);let t=d();return u(t.onActionButtonLinkTo())}),a(1,"mat-icon"),c(2,"\u2197 "),l()()}}var eo=class eo{constructor(r,e,i,t,s,p,y,z,Me){this.headerService=r;this.publicHelper=e;this.cdr=i;this.cmsToastrService=t;this.themeService=s;this.dialog=p;this.translate=y;this.cmsStoreService=z;this.tokenHelper=Me;this.constructorInfoAreaId=this.constructor.name;this.optionId="";this.dataModelResult=new Q;this.fieldsInfo=new Map;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr}ngOnInit(){this.optionId?.length>0&&this.DataGetOneContent(),this.unsubscribe.push(this.cmsStoreService.getState(r=>r.tokenInfoStore).subscribe(()=>$(this,null,function*(){this.DataGetOneContent()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(r=>r.unsubscribe())}DataGetOneContent(){let r=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(r,e,this.constructorInfoAreaId)}),this.headerService.setAccessLoad(),this.headerService.ServiceGetOneById(this.optionId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),e.isSuccess?this.dataModelResult=e:this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(r)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(r,!1)}})}onActionButtonLinkTo(r=this.dataModelResult.item){if(!r||!r.id||r.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(r.recordStatus!=Ie.Available){this.cmsToastrService.typeWarningRecordStatusNoAvailable();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(li,{height:"90%",panelClass:e,enterAnimationDuration:O.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:O.cmsViewConfig.exitAnimationDuration,data:{title:r.title,urlViewContentQRCodeBase64:r.urlViewContentQRCodeBase64,urlViewContent:r.urlViewContent}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate})}};eo.\u0275fac=function(e){return new(e||eo)(g(Vr),g(U),g(G),g(F),g(Xe),g(Z),g(H),g(Y),g(K))},eo.\u0275cmp=B({type:eo,selectors:[["app-estate-billboard-header"]],inputs:{optionId:"optionId"},standalone:!1,decls:34,vars:11,consts:[[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content"],[1,"table"],[1,"tr"],[1,"td","small-width"],[1,"svg-icon","svg-icon-3x","svg-icon-primary",3,"inlineSVG"],[1,"td","large-width",2,"color","darkblue"],[1,"td"],[1,"td","large-width"],[2,"clear","both"],[1,"td",2,"text-align","left"],["title","link to"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[1,"divider","divider-margins"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"]],template:function(e,i){e&1&&(a(0,"div",0),S(1,"app-progress-spinner",1),a(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),S(6,"span",6),l(),a(7,"div",7)(8,"h5")(9,"b"),c(10),_(11,"translate"),l()()(),v(12,j0,1,0,"div",8),l(),a(13,"div",4)(14,"div",5)(15,"b"),c(16),l(),c(17,": "),l(),a(18,"div",9),c(19),l(),S(20,"div",8)(21,"div",10),l(),a(22,"div",4)(23,"div",5)(24,"b"),c(25),l(),c(26," : "),l(),a(27,"div",9),c(28),l(),a(29,"div",11)(30,"abbr",12),v(31,Q0,3,0,"button",13),l()(),S(32,"div",10),l()()()(),S(33,"div",14)),e&2&&(o(),f("optionsInfoAreaId",i.constructorInfoAreaId),o(5),f("inlineSVG","./assets/media/svg/icons/Communication/Flag.svg"),o(4),M(C(11,9,"TITLE.Selected_Billboard")),o(2),E(!(i.dataModelResult==null||i.dataModelResult.item==null)&&i.dataModelResult.item.id?12:-1),o(4),h("",i.fieldsInfo.id==null?null:i.fieldsInfo.id.fieldTitle," "),o(3),M(i.dataModelResult==null||i.dataModelResult.item==null?null:i.dataModelResult.item.id),o(6),M(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(3),M(i.dataModelResult==null||i.dataModelResult.item==null?null:i.dataModelResult.item.title),o(3),E(!(i.dataModelResult==null||i.dataModelResult.item==null)&&i.dataModelResult.item.id?31:-1))},dependencies:[de,W,yt,N],styles:[".table[_ngcontent-%COMP%]{display:table;border:1px solid #40a1f5;padding:2px;background:#fff;border-radius:5px}.table[_ngcontent-%COMP%]   .th[_ngcontent-%COMP%]{display:table-row;background-color:#40a1f577;color:#fff;font-weight:700}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f9f9f9}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]{display:table-row;border-bottom:1px solid #000}.table[_ngcontent-%COMP%]   .td[_ngcontent-%COMP%]{display:table-cell;padding:15px;border-bottom:1px solid #40a1f5}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:last-child   .td[_ngcontent-%COMP%]{border:0}.small-width[_ngcontent-%COMP%]{width:90px}.large-width[_ngcontent-%COMP%]{width:400px}.clear[_ngcontent-%COMP%]{clear:both}"]});var to=eo;function z0(n,r){n&1&&S(0,"div",8)}var io=class io{constructor(r,e,i,t,s,p){this.headerService=r;this.publicHelper=e;this.cdr=i;this.cmsToastrService=t;this.translate=s;this.dialog=p;this.constructorInfoAreaId=this.constructor.name;this.optionId="";this.dataModelResult=new Q;this.fieldsInfo=new Map;this.publicHelper.processService.cdr=this.cdr}ngOnInit(){this.optionId?.length>0&&this.DataGetOneContent()}DataGetOneContent(){let r=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(r,e,this.constructorInfoAreaId)}),this.headerService.setAccessLoad(),this.headerService.ServiceGetOneById(this.optionId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),e.isSuccess?this.dataModelResult=e:this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(r)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(r,!1)}})}};io.\u0275fac=function(e){return new(e||io)(g(ln),g(U),g(G),g(F),g(H),g(Z))},io.\u0275cmp=B({type:io,selectors:[["app-estate-contract-type-header"]],inputs:{optionId:"optionId"},standalone:!1,decls:27,vars:10,consts:[[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content"],[1,"table"],[1,"tr"],[1,"td","small-width"],[1,"svg-icon","svg-icon-3x","svg-icon-primary",3,"inlineSVG"],[1,"td","large-width"],[1,"td"],[2,"clear","both"],[1,"divider","divider-margins"]],template:function(e,i){e&1&&(a(0,"div",0),S(1,"app-progress-spinner",1),a(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),S(6,"span",6),l(),a(7,"div",7)(8,"h5"),c(9),_(10,"translate"),l()(),v(11,z0,1,0,"div",8),l(),a(12,"div",4)(13,"div",5),c(14),l(),a(15,"div",7),c(16),l(),S(17,"div",8)(18,"div",9),l(),a(19,"div",4)(20,"div",5),c(21),l(),a(22,"div",7),c(23),l(),S(24,"div",8)(25,"div",9),l()()()(),S(26,"div",10)),e&2&&(o(),f("optionsInfoAreaId",i.constructorInfoAreaId),o(5),f("inlineSVG","./assets/media/svg/icons/Communication/Flag.svg"),o(3),M(C(10,8,"TITLE.The_type_of_contract_selected")),o(2),E(!(i.dataModelResult==null||i.dataModelResult.item==null)&&i.dataModelResult.item.id?11:-1),o(3),h("",i.fieldsInfo.id==null?null:i.fieldsInfo.id.fieldTitle," :"),o(2),M(i.dataModelResult==null||i.dataModelResult.item==null?null:i.dataModelResult.item.id),o(5),h(" ",i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle," : "),o(2),M(i.dataModelResult==null||i.dataModelResult.item==null?null:i.dataModelResult.item.title))},dependencies:[W,yt,N],styles:[".table[_ngcontent-%COMP%]{display:table;border:1px solid #40a1f5;padding:2px;background:#fff;border-radius:5px}.table[_ngcontent-%COMP%]   .th[_ngcontent-%COMP%]{display:table-row;background-color:#40a1f577;color:#fff;font-weight:700}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f9f9f9}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]{display:table-row;border-bottom:1px solid #000}.table[_ngcontent-%COMP%]   .td[_ngcontent-%COMP%]{display:table-cell;padding:15px;border-bottom:1px solid #40a1f5}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:last-child   .td[_ngcontent-%COMP%]{border:0}.small-width[_ngcontent-%COMP%]{width:90px}.large-width[_ngcontent-%COMP%]{width:400px}.clear[_ngcontent-%COMP%]{clear:both}"]});var no=io;function $0(n,r){n&1&&S(0,"div",8)}var oo=class oo{constructor(r,e,i,t,s,p){this.headerService=r;this.publicHelper=e;this.cdr=i;this.cmsToastrService=t;this.translate=s;this.dialog=p;this.constructorInfoAreaId=this.constructor.name;this.optionId="";this.dataModelResult=new Q;this.fieldsInfo=new Map;this.publicHelper.processService.cdr=this.cdr}ngOnInit(){this.optionId?.length>0&&this.DataGetOneContent()}DataGetOneContent(){let r=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(r,e,this.constructorInfoAreaId)}),this.headerService.setAccessLoad(),this.headerService.ServiceGetOneById(this.optionId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),e.isSuccess?this.dataModelResult=e:this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(r)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(r,!1)}})}};oo.\u0275fac=function(e){return new(e||oo)(g(cn),g(U),g(G),g(F),g(H),g(Z))},oo.\u0275cmp=B({type:oo,selectors:[["app-estate-property-type-landuse-header"]],inputs:{optionId:"optionId"},standalone:!1,decls:30,vars:10,consts:[[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content"],[1,"table"],[1,"tr"],[1,"td","small-width"],[1,"svg-icon","svg-icon-3x","svg-icon-primary",3,"inlineSVG"],[1,"td","large-width",2,"color","darkblue"],[1,"td"],[1,"td","large-width"],[2,"clear","both"],[1,"divider","divider-margins"]],template:function(e,i){e&1&&(a(0,"div",0),S(1,"app-progress-spinner",1),a(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),S(6,"span",6),l(),a(7,"div",7)(8,"h5")(9,"b"),c(10),_(11,"translate"),l()()(),v(12,$0,1,0,"div",8),l(),a(13,"div",4)(14,"div",5)(15,"b"),c(16),l()(),a(17,"div",9),c(18),l(),S(19,"div",8)(20,"div",10),l(),a(21,"div",4)(22,"div",5)(23,"b"),c(24),l()(),a(25,"div",9),c(26),l(),S(27,"div",8)(28,"div",10),l()()()(),S(29,"div",11)),e&2&&(o(),f("optionsInfoAreaId",i.constructorInfoAreaId),o(5),f("inlineSVG","./assets/media/svg/icons/Communication/Flag.svg"),o(4),M(C(11,8,"TITLE.Property_Type_Selected")),o(2),E(!(i.dataModelResult==null||i.dataModelResult.item==null)&&i.dataModelResult.item.id?12:-1),o(4),h("",i.fieldsInfo.id==null?null:i.fieldsInfo.id.fieldTitle," : "),o(2),M(i.dataModelResult==null||i.dataModelResult.item==null?null:i.dataModelResult.item.id),o(6),h("",i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle," : "),o(2),M(i.dataModelResult==null||i.dataModelResult.item==null?null:i.dataModelResult.item.title))},dependencies:[W,yt,N],styles:[".table[_ngcontent-%COMP%]{display:table;border:1px solid #40a1f5;padding:2px;background:#fff;border-radius:5px}.table[_ngcontent-%COMP%]   .th[_ngcontent-%COMP%]{display:table-row;background-color:#40a1f577;color:#fff;font-weight:700}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f9f9f9}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]{display:table-row;border-bottom:1px solid #000}.table[_ngcontent-%COMP%]   .td[_ngcontent-%COMP%]{display:table-cell;padding:15px;border-bottom:1px solid #40a1f5;color:#3d7c7a}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:last-child   .td[_ngcontent-%COMP%]{border:0}.small-width[_ngcontent-%COMP%]{width:90px}.large-width[_ngcontent-%COMP%]{width:400px}.clear[_ngcontent-%COMP%]{clear:both}"]});var ro=oo;function Y0(n,r){n&1&&S(0,"div",8)}var ao=class ao{constructor(r,e,i,t,s,p,y,z){this.headerService=r;this.publicHelper=e;this.cdr=i;this.cmsToastrService=t;this.dialog=s;this.translate=p;this.cmsStoreService=y;this.tokenHelper=z;this.constructorInfoAreaId=this.constructor.name;this.optionId="";this.dataModelResult=new Q;this.fieldsInfo=new Map;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr}ngOnInit(){this.optionId?.length>0&&this.DataGetOneContent(),this.unsubscribe.push(this.cmsStoreService.getState(r=>r.tokenInfoStore).subscribe(()=>$(this,null,function*(){this.DataGetOneContent()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(r=>r.unsubscribe())}DataGetOneContent(){let r=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(r,e,this.constructorInfoAreaId)}),this.headerService.setAccessLoad(),this.headerService.ServiceGetOneById(this.optionId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),e.isSuccess?this.dataModelResult=e:this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(r)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(r,!1)}})}};ao.\u0275fac=function(e){return new(e||ao)(g(Po),g(U),g(G),g(F),g(Z),g(H),g(Y),g(K))},ao.\u0275cmp=B({type:ao,selectors:[["app-estate-property-type-usage-header"]],inputs:{optionId:"optionId"},standalone:!1,decls:30,vars:10,consts:[[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content"],[1,"table"],[1,"tr"],[1,"td","small-width"],[1,"svg-icon","svg-icon-3x","svg-icon-primary",3,"inlineSVG"],[1,"td","large-width",2,"color","darkblue"],[1,"td"],[1,"td","large-width"],[2,"clear","both"],[1,"divider","divider-margins"]],template:function(e,i){e&1&&(a(0,"div",0),S(1,"app-progress-spinner",1),a(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),S(6,"span",6),l(),a(7,"div",7)(8,"h5")(9,"b"),c(10),_(11,"translate"),l()()(),v(12,Y0,1,0,"div",8),l(),a(13,"div",4)(14,"div",5)(15,"b"),c(16),l()(),a(17,"div",9),c(18),l(),S(19,"div",8)(20,"div",10),l(),a(21,"div",4)(22,"div",5)(23,"b"),c(24),l()(),a(25,"div",9),c(26),l(),S(27,"div",8)(28,"div",10),l()()()(),S(29,"div",11)),e&2&&(o(),f("optionsInfoAreaId",i.constructorInfoAreaId),o(5),f("inlineSVG","./assets/media/svg/icons/Communication/Flag.svg"),o(4),h("",C(11,8,"TITLE.Selected_User_Type")," "),o(2),E(!(i.dataModelResult==null||i.dataModelResult.item==null)&&i.dataModelResult.item.id?12:-1),o(4),h("",i.fieldsInfo.id==null?null:i.fieldsInfo.id.fieldTitle," : "),o(2),M(i.dataModelResult==null||i.dataModelResult.item==null?null:i.dataModelResult.item.id),o(6),h("",i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle," : "),o(2),M(i.dataModelResult==null||i.dataModelResult.item==null?null:i.dataModelResult.item.title))},dependencies:[W,yt,N],styles:[".table[_ngcontent-%COMP%]{display:table;border:1px solid #40a1f5;padding:2px;background:#fff;border-radius:5px}.table[_ngcontent-%COMP%]   .th[_ngcontent-%COMP%]{display:table-row;background-color:#40a1f577;color:#fff;font-weight:700}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f9f9f9}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]{display:table-row;border-bottom:1px solid #000}.table[_ngcontent-%COMP%]   .td[_ngcontent-%COMP%]{display:table-cell;padding:15px;border-bottom:1px solid #40a1f5;color:#3d7c7a}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:last-child   .td[_ngcontent-%COMP%]{border:0}.small-width[_ngcontent-%COMP%]{width:90px}.large-width[_ngcontent-%COMP%]{width:400px}.clear[_ngcontent-%COMP%]{clear:both}"]});var lo=ao;var so=class so{constructor(r,e,i,t,s,p,y,z){this.headerService=r;this.publicHelper=e;this.cdr=i;this.tokenHelper=t;this.cmsStoreService=s;this.cmsToastrService=p;this.dialog=y;this.translate=z;this.constructorInfoAreaId=this.constructor.name;this.optionId="";this.dataModelResult=new Q;this.fieldsInfo=new Map;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr}ngOnInit(){this.optionId.length>0&&(this.DataGetOneContent(),this.unsubscribe.push(this.cmsStoreService.getState(r=>r.tokenInfoStore).subscribe(()=>$(this,null,function*(){this.DataGetOneContent()}))))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(r=>r.unsubscribe())}DataGetOneContent(){let r=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(r,e,this.constructorInfoAreaId)}),this.headerService.setAccessLoad(),this.headerService.ServiceGetOneById(this.optionId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),e.isSuccess?this.dataModelResult=e:this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(r)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(r,!1)}})}};so.\u0275fac=function(e){return new(e||so)(g(Fr),g(U),g(G),g(K),g(Y),g(F),g(Z),g(H))},so.\u0275cmp=B({type:so,selectors:[["app-estate-property-project-header"]],inputs:{optionId:"optionId"},standalone:!1,decls:27,vars:9,consts:[[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content"],[1,"table"],[1,"tr"],[1,"td","small-width"],[1,"svg-icon","svg-icon-3x","svg-icon-primary",3,"inlineSVG"],[1,"td","large-width",2,"color","darkblue"],[1,"td",2,"text-align","left"],[1,"td","large-width"],[1,"td"],[2,"clear","both"],[1,"divider","divider-margins"]],template:function(e,i){e&1&&(a(0,"div",0),S(1,"app-progress-spinner",1),a(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),S(6,"span",6),l(),a(7,"div",7)(8,"h5")(9,"b"),c(10),_(11,"translate"),l()()(),S(12,"div",8),l(),a(13,"div",4)(14,"div",5),c(15),l(),a(16,"div",9),c(17),l(),S(18,"div",10)(19,"div",11),l(),a(20,"div",4)(21,"div",5),c(22),l(),a(23,"div",9),c(24),l(),S(25,"div",11),l()()()(),S(26,"div",12)),e&2&&(o(),f("optionsInfoAreaId",i.constructorInfoAreaId),o(5),f("inlineSVG","./assets/media/svg/icons/Communication/Flag.svg"),o(4),M(C(11,7,"TITLE.Selected_Project")),o(5),h("",i.fieldsInfo.id==null?null:i.fieldsInfo.id.fieldTitle," :"),o(2),M(i.dataModelResult==null||i.dataModelResult.item==null?null:i.dataModelResult.item.id),o(5),h(" ",i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle," : "),o(2),M(i.dataModelResult==null||i.dataModelResult.item==null?null:i.dataModelResult.item.title))},dependencies:[W,yt,N],styles:[".table[_ngcontent-%COMP%]{display:table;border:1px solid #40a1f5;padding:2px;background:#fff;border-radius:5px}.table[_ngcontent-%COMP%]   .th[_ngcontent-%COMP%]{display:table-row;background-color:#40a1f577;color:#fff;font-weight:700}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f9f9f9}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]{display:table-row;border-bottom:1px solid #000}.table[_ngcontent-%COMP%]   .td[_ngcontent-%COMP%]{display:table-cell;padding:15px;border-bottom:1px solid #40a1f5;color:#3d7c7a}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:last-child   .td[_ngcontent-%COMP%]{border:0}.small-width[_ngcontent-%COMP%]{width:90px}.large-width[_ngcontent-%COMP%]{width:400px}.clear[_ngcontent-%COMP%]{clear:both}"]});var co=so;function K0(n,r){if(n&1){let e=I();a(0,"button",14),b("click",function(){m(e);let t=d();return u(t.onActionAdd())}),c(1),_(2,"translate"),l()}n&2&&(o(),h(" ",C(2,1,"ACTION.ADD")," "))}function J0(n,r){if(n&1){let e=I();a(0,"button",15),b("click",function(){m(e);let t=d();return u(t.onActionEdit())}),c(1),_(2,"translate"),l()}n&2&&(o(),h(" ",C(2,1,"ACTION.EDIT")," "))}function X0(n,r){if(n&1){let e=I();a(0,"button",16),b("click",function(){m(e);let t=d();return u(t.onActionDelete())}),c(1),_(2,"translate"),l()}n&2&&(o(),h(" ",C(2,1,"ACTION.DELETE")," "))}function Z0(n,r){if(n&1){let e=I();a(0,"button",17),b("click",function(){m(e);let t=d();return u(t.onActionButtonReload())}),a(1,"mat-icon",18),_(2,"translate"),c(3,"refresh"),l()()}if(n&2){let e=d();o(),j("rotation360",e.publicHelper.processService.process.inRunArea[e.constructorInfoAreaId]),f("title",R(C(2,4,"ACTION.RELOAD")))}}function eu(n,r){if(n&1){let e=I();a(0,"mat-tree-node",19),S(1,"button",20),a(2,"span",21),b("click",function(){let t=m(e).$implicit,s=d();return u(s.onActionSelect(t))}),S(3,"img",22)(4,"i",23),c(5),l()()}if(n&2){let e=r.$implicit,i=d();j("ntk-tree-selected",(i.dataModelSelect==null||i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0&&(i.dataModelSelect==null?null:i.dataModelSelect.id)===e.id),o(3),f("src",R(e.linkMainImageIdSrc),ie),o(),ve("color",e.IconColor),f("ngClass",e.IconFont),o(),h("\xA0",e.title)}}function tu(n,r){if(n&1){let e=I();a(0,"mat-tree-node",24)(1,"button",25)(2,"mat-icon",26),c(3),l()(),a(4,"span",21),b("click",function(){let t=m(e).$implicit,s=d();return u(s.onActionSelect(t))}),S(5,"img",22)(6,"i",23),c(7),l()()}if(n&2){let e=r.$implicit,i=d(),t=D(12);j("ntk-tree-selected",(i.dataModelSelect==null||i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0&&(i.dataModelSelect==null?null:i.dataModelSelect.id)===e.id),f("cdkTreeNodeTypeaheadLabel",e.title)("isExpanded",e.isExpanded??!1),o(),Ae("type","button")("aria-label","Toggle "+e.title),o(2),h(" ",t.isExpanded(e)?"expand_more":"chevron_right"," "),o(2),f("src",R(e.linkMainImageIdSrc),ie),o(),ve("color",e.IconColor),f("ngClass",e.IconFont),o(),h("\xA0",e.title)}}var po=class po{constructor(r,e,i,t,s,p,y,z,Me,Ce){this.cmsToastrService=r;this.coreEnumService=e;this.categoryService=i;this.cmsConfirmationDialogService=t;this.dialog=s;this.cdr=p;this.publicHelper=y;this.translate=z;this.tokenHelper=Me;this.cmsStoreService=Ce;this.constructorInfoAreaId=this.constructor.name;this.dataModelSelect=new si;this.dataModelResult=new Q;this.filterModel=new re;this.dataSource=new Cn;this.optionChange=new je;this.unsubscribe=[];this.optionReload=()=>this.onActionButtonReload();this.hasChild=(r,e)=>!1;this.childrenAccessor=r=>[];this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(r){this.onActionSelectForce(r)}ngOnInit(){this.unsubscribe.push(this.cmsStoreService.getState(r=>r.tokenInfoStore).subscribe(()=>$(this,null,function*(){this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(r=>r.unsubscribe())}DataGetAll(){this.filterModel.rowPerPage=200,this.filterModel.accessLoad=!0;let r=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(r,e,this.constructorInfoAreaId)}),this.categoryService.ServiceGetAll(this.filterModel).subscribe({next:e=>{e.isSuccess?(this.dataModelResult=e,this.dataSource.data=this.dataModelResult.listItems):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(r)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(r,!1)}})}onActionSelect(r){r&&this.dataModelSelect&&r.id==this.dataModelSelect.id?(this.dataModelSelect=null,this.optionChange.emit(null)):(this.dataModelSelect=r,this.optionChange.emit(this.dataModelSelect))}onActionButtonReload(){this.onActionSelect(null),this.dataModelSelect=new si,this.DataGetAll()}onActionSelectForce(r){}onActionAdd(){var r="";this.publicHelper.isMobile?r="dialog-fullscreen":r="dialog-min",this.dialog.open(va,{height:"90%",panelClass:r,enterAnimationDuration:O.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:O.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(i=>{i&&i.dialogChangedDate&&this.DataGetAll()})}onActionEdit(){let r="";if(this.dataModelSelect&&this.dataModelSelect.id&&this.dataModelSelect.id.length>0&&(r=this.dataModelSelect.id),r===""){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorCategoryNotSelected").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(Ea,{height:"90%",panelClass:e,enterAnimationDuration:O.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:O.cmsViewConfig.exitAnimationDuration,data:{id:r}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionDelete(){let r="";if(this.dataModelSelect&&this.dataModelSelect.id&&this.dataModelSelect.id.length>0&&(r=this.dataModelSelect.id),r===""){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorCategoryNotSelected").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}var e="",i="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(t=>{e=t["MESSAGE.Please_Confirm"],i=t["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.dataModelSelect.title+" ) ",this.cmsConfirmationDialogService.confirm(e,i).then(s=>{if(s){let p=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(y=>{this.publicHelper.processService.processStart(p,y,this.constructorInfoAreaId)}),this.categoryService.ServiceDelete(this.dataModelSelect.id).subscribe({next:y=>{y.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(p)},error:y=>{this.cmsToastrService.typeError(y),this.publicHelper.processService.processStop(p,!1)}})}}).catch(()=>{})})}};po.\u0275fac=function(e){return new(e||po)(g(F),g(ce),g(cn),g(Gt),g(Z),g(G),g(U),g(H),g(K),g(Y))},po.\u0275cmp=B({type:po,selectors:[["app-estate-property-type-landuse-tree"]],inputs:{optionSelectForce:"optionSelectForce",optionReload:"optionReload"},outputs:{optionChange:"optionChange"},standalone:!1,decls:16,vars:14,consts:[["treeTagControl",""],[3,"optionHeaderDisplay","optionActionMainDisplay","optionFooterDisplay"],["cms-tree-header",""],["cms-tree-action",""],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],["cms-tree-body","",1,"loader-container"],[3,"optionsInfoAreaId"],[3,"dataSource","childrenAccessor"],["matTreeNodePadding","",3,"ntk-tree-selected",4,"matTreeNodeDef"],["matTreeNodePadding","","matTreeNodeToggle","","isExpandable","",3,"cdkTreeNodeTypeaheadLabel","isExpanded","ntk-tree-selected",4,"matTreeNodeDef","matTreeNodeDefWhen"],["cms-tree-footer",""],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[2,"font-size","20px","margin","-6px",3,"title"],["matTreeNodePadding",""],["matIconButton","","disabled",""],[3,"click"],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["aria-hidden","true",3,"ngClass"],["matTreeNodePadding","","matTreeNodeToggle","","isExpandable","",3,"cdkTreeNodeTypeaheadLabel","isExpanded"],["matIconButton","","matTreeNodeToggle",""],[1,"mat-icon-rtl-mirror"]],template:function(e,i){e&1&&(a(0,"app-cms-html-tree",1),T(1,2),c(2),_(3,"translate"),w(),T(4,3),v(5,K0,3,3,"button",4),v(6,J0,3,3,"button",5),v(7,X0,3,3,"button",6),v(8,Z0,4,6,"button",7),w(),T(9,8),S(10,"app-progress-spinner",9),a(11,"mat-tree",10,0),x(13,eu,6,8,"mat-tree-node",11)(14,tu,8,13,"mat-tree-node",12),l(),w(),Le(15,13),l()),e&2&&(f("optionHeaderDisplay",!0)("optionActionMainDisplay",!0)("optionFooterDisplay",!1),o(2),h(" ",C(3,12,"TABLE."+(i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.moduleEntityName))," "),o(3),E(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessAddRow?5:-1),o(),E(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessEditRow&&(i.dataModelSelect==null?null:i.dataModelSelect.id)>0?6:-1),o(),E(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessDeleteRow&&i.dataModelSelect.id&&(i.dataModelSelect==null||i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0?7:-1),o(),E(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessWatchRow?8:-1),o(2),f("optionsInfoAreaId",i.constructorInfoAreaId),o(),f("dataSource",i.dataSource)("childrenAccessor",i.childrenAccessor),o(3),f("matTreeNodeDefWhen",i.hasChild))},dependencies:[se,Be,de,mn,un,_n,fn,pn,W,Sn,N],encapsulation:2});var mo=po;var ou=()=>["expandedTitle"],ru=()=>["expandedDetail"],au=()=>[5,10,20,100],Ka=n=>({display:n});function lu(n,r){if(n&1&&S(0,"app-estate-billboard-header",7),n&2){let e=d();f("optionId",e.requestLinkBillboardId)}}function su(n,r){if(n&1&&S(0,"app-estate-contract-type-header",7),n&2){let e=d();f("optionId",e.requestLinkContractTypeId)}}function cu(n,r){if(n&1&&S(0,"app-estate-customer-order-header",7),n&2){let e=d();f("optionId",e.requestLinkCustomerOrderId)}}function du(n,r){if(n&1&&S(0,"app-estate-property-type-landuse-header",7),n&2){let e=d();f("optionId",e.requestLinkPropertyTypeLanduseId)}}function pu(n,r){if(n&1&&S(0,"app-estate-property-type-usage-header",7),n&2){let e=d();f("optionId",e.requestLinkPropertyTypeUsageId)}}function mu(n,r){if(n&1&&S(0,"app-estate-property-project-header",7),n&2){let e=d();f("optionId",e.requestLinkProjectId)}}function uu(n,r){if(n&1){let e=I();a(0,"a",71),b("click",function(){m(e);let t=d();return u(t.onActionBackToParent())}),S(1,"i",72),l()}}function fu(n,r){if(n&1){let e=I();a(0,"div",27)(1,"a",73),b("click",function(){m(e);let t=d();return u(t.onActionButtonNewRow())}),S(2,"i",74)(3,"br"),l(),a(4,"p",31),c(5),_(6,"translate"),l()()}n&2&&(o(5),h(" ",C(6,1,"ACTION.ADD")," "))}function _u(n,r){if(n&1){let e=I();a(0,"div",27)(1,"a",75),b("click",function(){m(e);let t=d();return u(t.onActionButtonActionSendSmsToCustomerOrder())}),S(2,"i",74)(3,"br"),l(),a(4,"p",31),c(5),_(6,"translate"),l()()}n&2&&(o(5),h(" ",C(6,1,"ACTION.ActionSendSmsToCustomerOrder")," "))}function Cu(n,r){if(n&1){let e=I();a(0,"div",27)(1,"a",29),b("click",function(t){m(e);let s=d();return u(s.onActionButtonAdsRow(s.tableRowSelected,t))}),S(2,"i",76)(3,"br"),l(),a(4,"p",31),c(5),_(6,"translate"),l()()}n&2&&(o(5),h(" ",C(6,1,"ACTION.ADS")," "))}function hu(n,r){if(n&1){let e=I();a(0,"div",27)(1,"a",77),b("click",function(t){m(e);let s=d();return u(s.onActionButtonEditRow(s.tableRowSelected,t))}),S(2,"i",78)(3,"br"),l(),a(4,"p",31),c(5),_(6,"translate"),l()()}n&2&&(o(5),h(" ",C(6,1,"ACTION.EDIT")," "))}function Su(n,r){if(n&1){let e=I();a(0,"div",27)(1,"a",79),b("click",function(){m(e);let t=d();return u(t.onActionButtonDeleteRow(t.tableRowSelected))}),S(2,"i",80)(3,"br"),l(),a(4,"p",31),c(5),_(6,"translate"),l()()}n&2&&(o(5),h(" ",C(6,1,"ACTION.DELETE")," "))}function yu(n,r){n&1&&(a(0,"mat-header-cell"),c(1),_(2,"translate"),l()),n&2&&(o(),h(" ",C(2,1,"TITLE.MENU")," "))}function gu(n,r){if(n&1){let e=I();a(0,"mat-cell")(1,"button",81),b("click",function(){let t=m(e).$implicit,s=d();return u(s.onActionTableRowSelectActionMenu(t))}),S(2,"i",82),l()()}}function vu(n,r){n&1&&(a(0,"mat-header-cell",83),c(1),_(2,"translate"),l()),n&2&&(o(),h(" ",C(2,1,"TITLE.PICTURE")," "))}function Eu(n,r){if(n&1&&(S(0,"img",84),_(1,"cmsthumbnail")),n&2){let e=d().$implicit;f("src",R(C(1,2,e.linkMainImageIdSrc)),ie)}}function bu(n,r){if(n&1&&(a(0,"mat-cell"),v(1,Eu,2,4,"img",84),l()),n&2){let e=r.$implicit;o(),E((e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0?1:-1)}}function Iu(n,r){if(n&1&&(a(0,"mat-header-cell",83),c(1),l()),n&2){let e=d();o(),h(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function Mu(n,r){if(n&1&&(a(0,"mat-cell"),c(1),l()),n&2){let e=r.$implicit;o(),h(" ",e.id," ")}}function Tu(n,r){if(n&1&&(a(0,"mat-header-cell",83),c(1),l()),n&2){let e=d();o(),h(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function wu(n,r){if(n&1&&(a(0,"mat-cell"),c(1),_(2,"cmssiteinfo"),_(3,"async"),l()),n&2){let e=r.$implicit;o(),h(" ",C(3,3,C(2,1,e.linkSiteId))," ")}}function xu(n,r){if(n&1&&(a(0,"mat-header-cell",83),c(1),l()),n&2){let e=d();o(),h(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function Pu(n,r){if(n&1&&S(0,"select",86),n&2){let e=d().$implicit,i=d();f("contentService",i.contentService)("row",e)("ngStyle",Ee(3,Ka,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function Au(n,r){if(n&1&&(a(0,"mat-cell",85),_(1,"statusCellClass"),S(2,"i",85),_(3,"statusIconClass"),v(4,Pu,1,5,"select",86),l()),n&2){let e=r.$implicit,i=d();f("ngClass",C(1,3,e.recordStatus)),o(2),f("ngClass",C(3,5,e.recordStatus)),o(2),E(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessEditRow?4:-1)}}function ku(n,r){if(n&1&&(a(0,"mat-header-cell",83),c(1),l()),n&2){let e=d();o(),h(" ",e.fieldsInfo.mainAdminRecordStatus==null?null:e.fieldsInfo.mainAdminRecordStatus.fieldTitle," ")}}function Ru(n,r){if(n&1&&(a(0,"mat-cell"),S(1,"i",85),_(2,"adminStatusIconClass"),l()),n&2){let e=r.$implicit;o(),f("ngClass",C(2,1,e.mainAdminRecordStatus))}}function Du(n,r){if(n&1&&(a(0,"mat-header-cell",83),c(1),l()),n&2){let e=d();o(),h(" ",e.fieldsInfo.isSoldIt==null?null:e.fieldsInfo.isSoldIt.fieldTitle," ")}}function Lu(n,r){if(n&1&&(a(0,"mat-cell"),S(1,"i",85),_(2,"boolclass"),l()),n&2){let e=r.$implicit;o(),f("ngClass",C(2,1,e.isSoldIt))}}function Vu(n,r){if(n&1&&(a(0,"mat-header-cell",83),c(1),l()),n&2){let e=d();o(),h(" ",e.fieldsInfo.viewConfigHiddenInList==null?null:e.fieldsInfo.viewConfigHiddenInList.fieldTitle," ")}}function Ou(n,r){if(n&1&&(a(0,"mat-cell"),S(1,"i",85),_(2,"boolclass"),l()),n&2){let e=r.$implicit;o(),f("ngClass",C(2,1,e.viewConfigHiddenInList))}}function Bu(n,r){if(n&1&&(a(0,"mat-header-cell",83),c(1),l()),n&2){let e=d();o(),h(" ",e.fieldsInfo.viewCount==null?null:e.fieldsInfo.viewCount.fieldTitle," ")}}function Hu(n,r){if(n&1&&(a(0,"mat-cell"),c(1),l()),n&2){let e=r.$implicit;o(),h(" ",e.viewCount," ")}}function Fu(n,r){n&1&&(a(0,"mat-header-cell",83),c(1),_(2,"translate"),l()),n&2&&(o(),h(" ",C(2,1,"TITLE.Is_Special")," "))}function Nu(n,r){if(n&1&&(a(0,"mat-cell"),S(1,"i",85),_(2,"boolclass"),l()),n&2){let e=r.$implicit;o(),ve("color",e.adsActive?"#f7db25":"#ff0000"),f("ngClass",C(2,3,e.adsActive))}}function Gu(n,r){if(n&1&&(a(0,"mat-header-cell",83),c(1),l()),n&2){let e=d();o(),h(" ",e.fieldsInfo.caseCode==null?null:e.fieldsInfo.caseCode.fieldTitle," ")}}function Uu(n,r){if(n&1&&(a(0,"mat-cell"),c(1),l()),n&2){let e=r.$implicit;o(),h(" ",e.caseCode," ")}}function qu(n,r){if(n&1&&(a(0,"mat-header-cell",83),c(1),l()),n&2){let e=d();o(),h(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function Wu(n,r){if(n&1&&(a(0,"mat-cell",87),c(1),_(2,"localeDateTime"),l()),n&2){let e=r.$implicit;o(),h(" ",C(2,1,e.createdDate)," ")}}function ju(n,r){if(n&1&&(a(0,"mat-header-cell",83),c(1),l()),n&2){let e=d();o(),h(" ",e.fieldsInfo.updatedDate==null?null:e.fieldsInfo.updatedDate.fieldTitle," ")}}function Qu(n,r){if(n&1&&(a(0,"mat-cell",87),c(1),_(2,"localeDateTime"),l()),n&2){let e=r.$implicit;o(),h(" ",C(2,1,e.updatedDate)," ")}}function zu(n,r){n&1&&(a(0,"mat-header-cell"),c(1),_(2,"translate"),l()),n&2&&(o(),h(" ",C(2,1,"TITLE.OPTION")," "))}function $u(n,r){if(n&1&&(a(0,"mat-cell",88)(1,"button",89)(2,"mat-icon"),c(3,"more_vert"),l()(),S(4,"mat-menu",null,2),l()),n&2){let e=D(5);o(),f("matMenuTriggerFor",e)}}function Yu(n,r){n&1&&(a(0,"mat-header-cell",83),c(1),_(2,"translate"),l()),n&2&&(o(),h(" ",C(2,1,"TITLE.LINKTO")," "))}function Ku(n,r){if(n&1){let e=I();a(0,"mat-cell")(1,"button",90),b("click",function(){let t=m(e).$implicit,s=d();return u(s.onActionButtonLinkTo(t))}),a(2,"mat-icon",91),c(3,"\u2197"),l()()()}}function Ju(n,r){n&1&&(a(0,"mat-header-cell",83),c(1),_(2,"translate"),l()),n&2&&(o(),h(" ",C(2,1,"TITLE.QUICK_VIEW")," "))}function Xu(n,r){if(n&1){let e=I();a(0,"mat-cell")(1,"button",90),b("click",function(){let t=m(e).$implicit,s=d();return u(s.onActionButtonQuickViewRow(t))}),a(2,"mat-icon",91),c(3,"visibility"),l()()()}}function Zu(n,r){if(n&1&&(a(0,"mat-cell"),c(1),l()),n&2){let e=r.$implicit;o(),h(" ",e.title," ")}}function ef(n,r){if(n&1&&(S(0,"img",92),_(1,"cmsthumbnail")),n&2){let e=d().$implicit;f("src",R(C(1,2,e.linkMainImageIdSrc)),ie)}}function tf(n,r){if(n&1&&(a(0,"tr")(1,"td"),c(2),_(3,"translate"),l(),a(4,"td"),c(5),l()()),n&2){let e=d().$implicit;o(2),M(C(3,2,"TITLE.SquareMeters")),o(3),M(e.area)}}function nf(n,r){if(n&1&&(a(0,"tr")(1,"td"),c(2),_(3,"translate"),l(),a(4,"td"),c(5),l()()),n&2){let e=d().$implicit;o(2),M(C(3,2,"TITLE.CreatedYaer")),o(3),M(e.createdYaer)}}function of(n,r){if(n&1){let e=I();a(0,"mat-cell")(1,"div")(2,"table")(3,"tr")(4,"th"),v(5,ef,2,4,"img",92),l(),a(6,"th"),c(7),a(8,"span",93),b("click",function(){m(e);let t=d();return u(t.onActionCopied())}),S(9,"i",94),l()()(),a(10,"tr"),S(11,"td"),a(12,"td"),c(13),l()(),v(14,tf,6,4,"tr"),v(15,nf,6,4,"tr"),a(16,"tr"),S(17,"td"),a(18,"td"),c(19),l()(),a(20,"tr"),S(21,"td"),a(22,"td"),c(23),l()(),a(24,"tr")(25,"td"),c(26),_(27,"translate"),l(),a(28,"td"),c(29),l()(),a(30,"tr"),S(31,"td"),a(32,"td"),c(33),_(34,"cmsuserinfo"),_(35,"async"),l()(),a(36,"tr"),S(37,"td")(38,"td"),l()()()()}if(n&2){let e=r.$implicit;o(5),E((e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0?5:-1),o(2),h(" ",e.id," "),o(),f("cdkCopyToClipboard",e.id),o(5),M(e.title),o(),E(e.area&&e.area>0?14:-1),o(),E(e.createdYaer&&e.createdYaer>0?15:-1),o(4),M(e.linkLocationIdParentTitle),o(4),M(e.linkLocationIdTitle),o(3),h("",C(27,11,"TITLE.Address"),":"),o(3),M(e.address),o(4),M(C(35,15,C(34,13,e.createdBy)))}}function rf(n,r){n&1&&S(0,"mat-header-row")}function af(n,r){if(n&1){let e=I();a(0,"mat-row",95),b("click",function(t){let s=m(e).$implicit,p=d();return u(p.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=m(e).$implicit,p=d();return u(p.onActionTableRowSelect(s,t))})("mouseenter",function(){let t=m(e).$implicit,s=d();return u(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=m(e).$implicit,s=d();return u(s.onActionTableRowMouseLeave(t))}),l()}if(n&2){let e=r.$implicit,i=r.dataIndex,t=d();j("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",e.id===(t.tableRowSelected==null?null:t.tableRowSelected.id))}}function lf(n,r){if(n&1){let e=I();a(0,"mat-row",96),b("click",function(t){let s=m(e).$implicit,p=d();return u(p.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=m(e).$implicit,p=d();return u(p.onActionTableRowSelect(s,t))})("mouseenter",function(){let t=m(e).$implicit,s=d();return u(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=m(e).$implicit,s=d();return u(s.onActionTableRowMouseLeave(t))}),l()}if(n&2){let e=r.$implicit,i=r.dataIndex,t=d();j("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",e.id===(t.tableRowSelected==null?null:t.tableRowSelected.id))}}function sf(n,r){if(n&1){let e=I();a(0,"mat-row",97),b("click",function(t){let s=m(e).$implicit,p=d();return u(p.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=m(e).$implicit,p=d();return u(p.onActionTableRowSelect(s,t))})("mouseenter",function(){let t=m(e).$implicit,s=d();return u(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=m(e).$implicit,s=d();return u(s.onActionTableRowMouseLeave(t))}),l()}if(n&2){let e=r.$implicit,i=r.dataIndex,t=d();j("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",e.id===(t.tableRowSelected==null?null:t.tableRowSelected.id)),f("ngStyle",Ee(7,Ka,e.expanded===!0?"":"none"))}}function cf(n,r){if(n&1){let e=I();a(0,"div",70)(1,"button",98),b("click",function(){m(e);let t=d();return u(t.onFormCancel())}),S(2,"i",99),c(3),_(4,"translate"),l()()}n&2&&(o(3),h(" ",C(4,1,"ACTION.CANCEL")," "))}var uo=class uo extends Ut{constructor(e,i,t,s,p,y,z,Me,Ce,et,We,Ge,tt,it,Pe){super(t,new Jt,it,z,Ge);this.data=e;this.dialogRef=i;this.contentService=t;this.activatedRoute=s;this.cmsToastrService=p;this.cmsConfirmationDialogService=y;this.tokenHelper=z;this.cmsStoreService=Me;this.themeService=Ce;this.router=et;this.cdr=We;this.translate=Ge;this.pageInfo=tt;this.publicHelper=it;this.dialog=Pe;this.requestSearchTitle="";this.requestSearchCustomerTel="";this.requestSearchCaseCode="";this.requestLinkPropertyTypeLanduseId="";this.requestLinkPropertyTypeUsageId="";this.requestLinkContractTypeId="";this.requestLinkBillboardId="";this.requestLinkCustomerOrderId="";this.requestLinkProjectId="";this.requestLinkUserId=0;this.requestInChecking=!1;this.constructorInfoAreaId=this.constructor.name;this.optionloadComponent=!0;this.optionloadByRoute=!0;this.flag=!1;this.tablePropertySelected=[];this.searchInCheckingChecked=!1;this.filteModelContent=new re;this.filterDataModelQueryBuilder=[];this.optionsSearch=new Vi;this.optionsStatist=new Oi;this.tokenInfo=new ni;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["linkMainImageIdSrc","id","recordStatus","mainAdminRecordStatus","IsSoldIt","ViewConfigHiddenInList","linkSiteId","AdsActive","ViewCount","CaseCode","createdDate","updatedDate","LinkTo","QuickView","action_menu"];this.tabledisplayedColumnsMobileSource=["linkMainImageIdSrc","IsSoldIt","CaseCode","LinkTo","QuickView","action_menu"];this.fieldsInfo=new Map;this.unsubscribe=[];if(this.publicHelper.processService.cdr=this.cdr,e&&(e.searchTitle&&(this.requestSearchTitle=e.searchTitle+""),e.searchCustomerTel&&(this.requestSearchCustomerTel=e.searchCustomerTel+""),e.searchCaseCode&&(this.requestSearchCaseCode=e.searchCaseCode+"")),this.requestLinkPropertyTypeLanduseId=this.activatedRoute.snapshot.paramMap.get("LinkPropertyTypeLanduseId"),this.requestLinkPropertyTypeUsageId=this.activatedRoute.snapshot.paramMap.get("LinkPropertyTypeUsageId"),this.requestLinkContractTypeId=this.activatedRoute.snapshot.paramMap.get("LinkContractTypeId"),this.requestLinkBillboardId=this.activatedRoute.snapshot.paramMap.get("LinkBillboardId"),this.requestLinkCustomerOrderId=this.activatedRoute.snapshot.paramMap.get("LinkCustomerOrderId"),this.requestLinkProjectId=this.activatedRoute.snapshot.paramMap.get("LinkProjectId"),this.requestLinkUserId=+this.activatedRoute.snapshot.paramMap.get("LinkUserId")|0,this.activatedRoute.snapshot.paramMap.get("InChecking")&&(this.searchInCheckingChecked=this.activatedRoute.snapshot.paramMap.get("InChecking")==="true"),this.optionsSearch.parentMethods={onSubmit:V=>this.onSubmitOptionsSearch(V)},this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=ae.Descending,this.requestLinkPropertyTypeLanduseId&&this.requestLinkPropertyTypeLanduseId.length>0){let V=new L;V.propertyName="LinkPropertyTypeLanduseId",V.value=this.requestLinkPropertyTypeLanduseId,this.filteModelContent.filters.push(V)}if(this.requestLinkPropertyTypeUsageId&&this.requestLinkPropertyTypeUsageId.length>0){let V=new L;V.propertyName="LinkPropertyTypeUsageId",V.value=this.requestLinkPropertyTypeUsageId,this.filteModelContent.filters.push(V)}if(this.requestLinkContractTypeId&&this.requestLinkContractTypeId.length>0){let V=new L;V.propertyName="Contracts",V.propertyAnyName="LinkEstateContractTypeId",V.value=this.requestLinkContractTypeId,this.filteModelContent.filters.push(V)}if(this.requestLinkUserId&&this.requestLinkUserId>0){let V=new L;V.propertyName="linkCmsUserId",V.value=this.requestLinkUserId,this.filteModelContent.filters.push(V)}if(this.requestLinkProjectId&&this.requestLinkProjectId.length>0){let V=new L;V.propertyName="linkPropertyProjectId",V.value=this.requestLinkProjectId,this.filteModelContent.filters.push(V)}if(this.requestSearchTitle&&this.requestSearchTitle.length>0){let V=new L;V.propertyName="title",V.value=this.requestSearchTitle,V.searchType=J.Contains,this.filteModelContent.filters.push(V)}if(this.requestSearchCaseCode&&this.requestSearchCaseCode.length>0){let V=new L;V.propertyName="caseCode",V.value=this.requestSearchCaseCode,this.filteModelContent.filters.push(V)}if(this.requestSearchCustomerTel&&this.requestSearchCustomerTel.length>0){let V=new L,Kt=new L;Kt.propertyName="aboutCustomerTel",Kt.value=this.requestSearchCustomerTel,Kt.searchType=J.Contains,Kt.clauseType=ee.Or,V.filters.push(Kt);let De=new L;De.propertyName="aboutCustomerMobile",De.value=this.requestSearchCustomerTel,De.searchType=J.Contains,De.clauseType=ee.Or,V.filters.push(De),this.filteModelContent.filters.push(V)}}set optionLinkCustomerOrderId(e){e&&e.length>0&&(this.requestLinkCustomerOrderId=e)}set optionLinkBillboardId(e){e&&e.length>0&&(this.requestLinkBillboardId=e)}ngOnInit(){this.translate.get("TITLE.QUICK_VIEW").subscribe(e=>{this.formInfo.formTitle=e}),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>$(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){if(this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),!this.optionloadComponent)return;this.tableRowsSelected=[],this.onActionTableRowSelect(new Jt);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));if(this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.categoryModelSelected&&this.categoryModelSelected.id&&this.categoryModelSelected.id.length>0){let t=new L;t.propertyName="LinkPropertyTypeLanduseId",t.value=this.categoryModelSelected.id,i.filters.push(t)}if(this.searchInCheckingChecked){let t=new L;t.propertyName="recordStatus",t.value=Ie.Available,t.searchType=J.NotEqual,i.filters.push(t);let s=new L;s.propertyName="recordStatus",s.value=Ie.DeniedConfirmed,s.searchType=J.NotEqual,i.filters.push(s)}this.requestLinkBillboardId&&this.requestLinkBillboardId.length>0?this.contentService.ServiceGetAllWithCoverBillboardId(this.requestLinkBillboardId,i).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),t.isSuccess?(this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorGetAll(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e)}}):this.requestLinkCustomerOrderId?.length>0?this.contentService.ServiceGetAllWithCoverCustomerOrderId(this.requestLinkCustomerOrderId,i).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),t.isSuccess?(this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorGetAll(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e)}}):this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),t.isSuccess?(this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorGetAll(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=ae.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=ae.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=ae.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.categoryModelSelected==null&&this.categoryModelSelected&&this.categoryModelSelected.id&&this.categoryModelSelected.id.length===0&&(this.requestLinkPropertyTypeLanduseId==null||this.requestLinkPropertyTypeLanduseId.length===0)){this.translate.get("MESSAGE.Content_not_selected").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}let e=this.requestLinkPropertyTypeLanduseId;this.categoryModelSelected&&this.categoryModelSelected.id.length>0&&(e=this.categoryModelSelected.id),e&&e.length>0?this.router.navigate(["/estate/data/property/add/LinkPropertyTypeLanduseId",e]):this.router.navigate(["/estate/data/property/add"])}onActionSelectorSelect(e){var i=this.filteModelContent.sortColumn,t=this.filteModelContent.sortType;this.filteModelContent=new re,this.filteModelContent.sortColumn=i,this.filteModelContent.sortType=t,this.categoryModelSelected=e,this.DataGetAll()}onActionButtonEditRow(e=this.tableRowSelected,i){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.tableRowSelected=e,this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}i?.ctrlKey?(this.link="/#/estate/data/property/edit/"+this.tableRowSelected.id,window.open(this.link,"_blank")):this.router.navigate(["/estate/data/property/edit",this.tableRowSelected.id])}onActionButtonQuickViewRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(yn,{height:"90%",panelClass:i,enterAnimationDuration:O.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:O.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate})}onActionButtonAdsRow(e=this.tableRowSelected,i){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.tableRowSelected=e,this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}i?.ctrlKey?(this.link="/#/estate/data/property-ads/LinkPropertyId/"+this.tableRowSelected.id,window.open(this.link,"_blank")):this.router.navigate(["/estate/data/property-ads/LinkPropertyId",this.tableRowSelected.id])}onActionButtonHistoryRow(e=this.tableRowSelected,i){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.tableRowSelected=e,this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}i?.ctrlKey?(this.link="/#/estate/data/property-history/LinkPropertyId/"+this.tableRowSelected.id,window.open(this.link,"_blank")):this.router.navigate(["/estate/data/property-history/LinkPropertyId",this.tableRowSelected.id])}onActionButtonDeleteRow(e=this.tableRowSelected){if(e==null||!e.id||e.id.length===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}if(this.tableRowSelected=e,this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(s=>{i=s["MESSAGE.Please_Confirm"],t=s["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(s=>{if(s){let p=this.constructor.name+"main";this.translate.get("MESSAGE.Deleting_information").subscribe(y=>{this.publicHelper.processService.processStart(p,y,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:y=>{y.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(p)},error:y=>{this.cmsToastrService.typeError(y),this.publicHelper.processService.processStop(p)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;i.set("Active",0),i.set("All",0),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:p=>{p.isSuccess?(i.set("All",p.totalRowCount),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(p.errorMessage)},error:p=>{this.cmsToastrService.typeError(p)}});let t=JSON.parse(JSON.stringify(this.filteModelContent)),s=new L;s.propertyName="recordStatus",s.value=Ie.Available,t.filters.push(s),this.contentService.ServiceGetCount(t).subscribe({next:p=>{p.isSuccess?(i.set("Active",p.totalRowCount),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(p.errorMessage)},error:p=>{this.cmsToastrService.typeError(p)}})}onActionButtonActionSendSmsToCustomerOrder(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}let i=this.constructor.name+"main";this.translate.get("ACTION.ActionSendSmsToCustomerOrder").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructorInfoAreaId)}),this.contentService.ServiceActionSendSmsToCustomerOrder(e.id).subscribe({next:t=>{t.isSuccess?this.cmsToastrService.typeSuccessMessage(t.errorMessage):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(i)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(i,!1)}})}onActionButtonViewOtherUserAdvertise(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.requestLinkUserId=e.linkCmsUserId,this.requestLinkUserId&&this.requestLinkUserId>0){let i=new L;i.propertyName="linkCmsUserId",i.value=this.requestLinkUserId,this.filteModelContent.filters.push(i)}this.DataGetAll()}onActionButtonInChecking(e){this.searchInCheckingChecked=e,this.DataGetAll()}onActionButtonReload(){this.optionloadComponent=!0,this.DataGetAll()}onActionCopied(){this.cmsToastrService.typeSuccessCopedToClipboard()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/ticketing/departemen/"])}onActionButtonLinkTo(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(e.recordStatus!=Ie.Available){this.cmsToastrService.typeWarningRecordStatusNoAvailable();return}this.onActionTableRowSelect(e);let i=this.constructor.name+"ServiceGetOneById";this.translate.get("MESSAGE.get_state_information").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructorInfoAreaId)}),this.contentService.setAccessDataType(Ye.Editor),this.contentService.ServiceGetOneById(e.id).subscribe({next:t=>{if(t.isSuccess){var s="";this.publicHelper.isMobile?s="dialog-fullscreen":s="dialog-min",this.dialog.open(li,{height:"90%",panelClass:s,enterAnimationDuration:O.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:O.cmsViewConfig.exitAnimationDuration,data:{title:t.item.title,urlViewContentQRCodeBase64:t.item.urlViewContentQRCodeBase64,urlViewContent:t.item.urlViewContent}}).afterClosed().subscribe(y=>{y&&y.dialogChangedDate&&this.DataGetAll()})}else this.cmsToastrService.typeErrorMessage(t.errorMessage);this.publicHelper.processService.processStop(i)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(i,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};uo.\u0275fac=function(i){return new(i||uo)(g(ze),g(He),g(wt),g(vi),g(F),g(Gt),g(K),g(Y),g(Xe),g(ii),g(G),g(H),g(Ze),g(U),g(Z))},uo.\u0275cmp=B({type:uo,selectors:[["app-estate-property-quick-list"]],inputs:{optionloadComponent:"optionloadComponent",optionloadByRoute:"optionloadByRoute",optionLinkCustomerOrderId:"optionLinkCustomerOrderId",optionLinkBillboardId:"optionLinkBillboardId"},standalone:!1,features:[we],decls:129,vars:56,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection","loader-container"],[3,"optionId"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionActionRowDisplayMenuAct","optionSelectRowItemTitle"],["cms-tree",""],[3,"optionChange"],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-maximize","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-minimize","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[1,"custom-slide-toggle",3,"ngModelChange","ngModel"],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],["mat-menu-item","","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-clock-rotate-left","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-share","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","","multiTemplateDataRows","",3,"matSortChange","dataSource"],["matColumnDef","action_menu"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","linkMainImageIdSrc"],["mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","id"],["matColumnDef","linkSiteId"],["matColumnDef","recordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","mainAdminRecordStatus"],["matColumnDef","IsSoldIt"],["matColumnDef","ViewConfigHiddenInList"],["matColumnDef","ViewCount"],["matColumnDef","AdsActive"],["matColumnDef","CaseCode"],["matColumnDef","createdDate"],["style","direction: ltr",4,"matCellDef"],["matColumnDef","updatedDate"],["matColumnDef","Action"],["class","Action",4,"matCellDef"],["matColumnDef","LinkTo"],["matColumnDef","QuickView"],["matColumnDef","expandedTitle"],["matColumnDef","expandedDetail"],[4,"matHeaderRowDef"],["class","ntk-row-expandedTitle",3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["class","ntk-row-expandedDetail",3,"ntk-row-odd","ntk-row-even","ntk-row-selected","ngStyle","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],[1,"ntk-cms-html-card-message"],[3,"formInfo"],[1,"ntk-cms-html-card-footer"],[1,"form-actions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],["type","button",1,"btn","btn-outline-danger","BTN-text","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-bullseye-pointer","font-18",2,"color","#ffffff"],["mat-menu-item","","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["mat-menu-item","","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"click"],[1,"fa","fa-bars","font-18"],["mat-sort-header",""],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[2,"direction","ltr"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],["type","button","mat-icon-button","",3,"click"],[2,"color","#ff671f"],["aria-hidden","","height","80","width","80",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"navi-icon","pointer",3,"click","cdkCopyToClipboard"],[1,"flaticon2-copy"],[1,"ntk-row-expandedTitle",3,"click","rtclick","mouseenter","mouseleave"],[3,"click","rtclick","mouseenter","mouseleave"],[1,"ntk-row-expandedDetail",3,"click","rtclick","mouseenter","mouseleave","ngStyle"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(i,t){if(i&1){let s=I();a(0,"div",3),S(1,"app-progress-spinner",4),a(2,"div",5),c(3),l(),a(4,"div",6),v(5,lu,1,1,"app-estate-billboard-header",7),v(6,su,1,1,"app-estate-contract-type-header",7),v(7,cu,1,1,"app-estate-customer-order-header",7),v(8,du,1,1,"app-estate-property-type-landuse-header",7),v(9,pu,1,1,"app-estate-property-type-usage-header",7),v(10,mu,1,1,"app-estate-property-project-header",7),a(11,"app-cms-html-list",8),k("optionActionGuideNoticeDisplayChange",function(y){return m(s),A(t.viewGuideNotice,y)||(t.viewGuideNotice=y),u(y)}),b("optionOnActionButtonMemoRow",function(){return m(s),u(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return m(s),u(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return m(s),u(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return m(s),u(t.onActionButtonPrintRow())}),T(12,9),a(13,"app-estate-property-type-landuse-tree",10),b("optionChange",function(y){return m(s),u(t.onActionSelectorSelect(y))}),l(),w(),Le(14,11)(15,12),T(16,13),v(17,uu,2,0,"a",14),a(18,"a",15),b("click",function(){return m(s),u(t.viewGuideNotice=!t.viewGuideNotice)}),S(19,"i",16),l(),a(20,"a",15),b("click",function(){return m(s),u(t.onActionButtonReload())}),S(21,"i",17),l(),a(22,"a",18),b("click",function(){return m(s),u(t.onActionGridExpandRows(!0))}),S(23,"i",19),l(),a(24,"a",18),b("click",function(){return m(s),u(t.onActionGridExpandRows(!1))}),S(25,"i",20),l(),w(),T(26,21),a(27,"a",22)(28,"mat-slide-toggle",23),k("ngModelChange",function(y){return m(s),A(t.optionsSearch.data.show,y)||(t.optionsSearch.data.show=y),u(y)}),l(),c(29),_(30,"translate"),l(),a(31,"a",24),b("click",function(){return m(s),u(t.onActionButtonStatist())}),S(32,"mat-slide-toggle",25),c(33),_(34,"translate"),l(),a(35,"a",22),S(36,"mat-slide-toggle",25),c(37),_(38,"translate"),l(),w(),T(39,26),v(40,fu,7,3,"div",27),v(41,_u,7,3,"div",27),w(),T(42,28),v(43,Cu,7,3,"div",27),v(44,hu,7,3,"div",27),v(45,Su,7,3,"div",27),a(46,"div",27)(47,"a",29),b("click",function(y){return m(s),u(t.onActionButtonHistoryRow(t.tableRowSelected,y))}),S(48,"i",30)(49,"br"),l(),a(50,"p",31),c(51),_(52,"translate"),l()(),a(53,"div",27)(54,"a",15),b("click",function(){return m(s),u(t.onActionButtonLinkTo(t.tableRowSelected))}),S(55,"i",32)(56,"br"),l(),a(57,"p",31),c(58),_(59,"translate"),l()(),w(),T(60,33),a(61,"app-cms-search-list",34),k("optionsChange",function(y){return m(s),A(t.optionsSearch,y)||(t.optionsSearch=y),u(y)}),l(),a(62,"app-cms-statist-list",34),k("optionsChange",function(y){return m(s),A(t.optionsStatist,y)||(t.optionsStatist=y),u(y)}),l(),w(),T(63,35),a(64,"mat-table",36,0),b("matSortChange",function(){m(s);let y=D(65);return u(t.onTableSortData(y))}),T(66,37),x(67,yu,3,3,"mat-header-cell",38)(68,gu,3,0,"mat-cell",39),w(),T(69,40),x(70,vu,3,3,"mat-header-cell",41)(71,bu,2,1,"mat-cell",39),w(),T(72,42),x(73,Iu,2,1,"mat-header-cell",41)(74,Mu,2,1,"mat-cell",39),w(),T(75,43),x(76,Tu,2,1,"mat-header-cell",41)(77,wu,4,5,"mat-cell",39),w(),T(78,44),x(79,xu,2,1,"mat-header-cell",41)(80,Au,5,7,"mat-cell",45),w(),T(81,46),x(82,ku,2,1,"mat-header-cell",41)(83,Ru,3,3,"mat-cell",39),w(),T(84,47),x(85,Du,2,1,"mat-header-cell",41)(86,Lu,3,3,"mat-cell",39),w(),T(87,48),x(88,Vu,2,1,"mat-header-cell",41)(89,Ou,3,3,"mat-cell",39),w(),T(90,49),x(91,Bu,2,1,"mat-header-cell",41)(92,Hu,2,1,"mat-cell",39),w(),T(93,50),x(94,Fu,3,3,"mat-header-cell",41)(95,Nu,3,5,"mat-cell",39),w(),T(96,51),x(97,Gu,2,1,"mat-header-cell",41)(98,Uu,2,1,"mat-cell",39),w(),T(99,52),x(100,qu,2,1,"mat-header-cell",41)(101,Wu,3,3,"mat-cell",53),w(),T(102,54),x(103,ju,2,1,"mat-header-cell",41)(104,Qu,3,3,"mat-cell",53),w(),T(105,55),x(106,zu,3,3,"mat-header-cell",38)(107,$u,6,1,"mat-cell",56),w(),T(108,57),x(109,Yu,3,3,"mat-header-cell",41)(110,Ku,4,0,"mat-cell",39),w(),T(111,58),x(112,Ju,3,3,"mat-header-cell",41)(113,Xu,4,0,"mat-cell",39),w(),T(114,59),x(115,Zu,2,1,"mat-cell",39),w(),T(116,60),x(117,of,39,17,"mat-cell",39),w(),x(118,rf,1,0,"mat-header-row",61)(119,af,1,6,"mat-row",62)(120,lf,1,6,"mat-row",63)(121,sf,1,9,"mat-row",64),l(),w(),T(122,65),a(123,"mat-paginator",66,1),b("page",function(y){return m(s),u(t.onTablePageingData(y))}),l(),w(),l()(),a(125,"div",67),S(126,"app-cms-form-result-message",68),l(),a(127,"div",69),v(128,cf,5,3,"div",70),l()()}i&2&&(o(),f("optionsInfoAreaId",t.constructorInfoAreaId),o(2),h(" ",t.formInfo.formTitle," "),o(2),E((t.requestLinkBillboardId==null?null:t.requestLinkBillboardId.length)>0?5:-1),o(),E((t.requestLinkContractTypeId==null?null:t.requestLinkContractTypeId.length)>0?6:-1),o(),E((t.requestLinkCustomerOrderId==null?null:t.requestLinkCustomerOrderId.length)>0?7:-1),o(),E((t.requestLinkPropertyTypeLanduseId==null?null:t.requestLinkPropertyTypeLanduseId.length)>0?8:-1),o(),E((t.requestLinkPropertyTypeUsageId==null?null:t.requestLinkPropertyTypeUsageId.length)>0?9:-1),o(),E((t.requestLinkProjectId==null?null:t.requestLinkProjectId.length)>0?10:-1),o(),f("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),P("optionActionGuideNoticeDisplay",t.viewGuideNotice),f("optionTreeDisplay",(t.requestLinkPropertyTypeLanduseId==null?null:t.requestLinkPropertyTypeLanduseId.length)===0)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionActionRowDisplayMenuAct",t.tableRowSelectActionMenuClick)("optionSelectRowItemTitle",(t.tableRowSelected==null||t.tableRowSelected.title==null?null:t.tableRowSelected.title.length)>0?t.tableRowSelected==null?null:t.tableRowSelected.title:t.tableRowSelected==null?null:t.tableRowSelected.id),o(6),E((t.requestLinkPropertyTypeLanduseId==null?null:t.requestLinkPropertyTypeLanduseId.length)>0?17:-1),o(11),P("ngModel",t.optionsSearch.data.show),o(),h("",C(30,43,"ACTION.SEARCH")," "),o(3),f("checked",t.optionsStatist.data.show),o(),h("",C(34,45,"ACTION.STATIST")," "),o(3),f("checked",t.searchInCheckingChecked),o(),h(" ",C(38,47,"ACTION.INCHECKING")," "),o(3),E(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessAddRow&&t.optionloadByRoute?40:-1),o(),E(t.tokenHelper.isAdminSite&&t.optionloadByRoute&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0?41:-1),o(2),E(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?43:-1),o(),E(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?44:-1),o(),E(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?45:-1),o(6),h(" ",C(52,49,"ACTION.HISTORY")," "),o(7),h(" ",C(59,51,"TITLE.LINKTO")," "),o(3),P("options",t.optionsSearch),o(),P("options",t.optionsStatist),o(2),f("dataSource",t.tableSource),o(54),f("matHeaderRowDef",t.tabledisplayedColumns),o(),f("matRowDefColumns",ne(53,ou)),o(),f("matRowDefColumns",t.tabledisplayedColumns),o(),f("matRowDefColumns",ne(54,ru)),o(2),f("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",ne(55,au)),o(3),f("formInfo",t.formInfo),o(2),E(t.formInfo.submitButtonEnabled?128:-1))},dependencies:[se,Qe,X,xe,Be,de,te,Vt,ea,Ot,Bt,Ht,Ft,Nt,ct,pt,_t,mt,dt,Ct,ut,ft,ht,St,xt,qt,Wt,W,Ne,jt,Qt,zt,zi,to,no,ro,lo,co,mo,be,N,ki,ai,Fe,Ri,$t,rr,Yt,Go],encapsulation:2});var Zi=uo;var pf=["vform"],mf=n=>({direction:n}),uf=()=>["descriptionDetail"];function ff(n,r){n&1&&(a(0,"p"),c(1),_(2,"translate"),l()),n&2&&(o(),h(" ",C(2,1,"TITLE.Property_Type")," "))}function _f(n,r){if(n&1){let e=I();a(0,"div",38)(1,"a",39),b("click",function(){let t=m(e).$implicit,s=d(2);return u(s.onActionSelectorSelectLanduse(t))}),c(2),l()()}if(n&2){let e=r.$implicit,i=d(2);o(),f("ngClass",e.id===i.dataModel.linkPropertyTypeLanduseId?"btn font-13 font-600 btn-s m-1 rounded-xl shadow-xl border-0 gradient-highlight btn-full":"btn font-13 font-600 btn-s m-1 rounded-xl shadow-xl border-blue-dark color-blue-dark bg-theme btn-border btn-full"),Ae("disabled",i.fieldsInfo.linkPropertyTypeLanduseId!=null&&i.fieldsInfo.linkPropertyTypeLanduseId.accessAddField?null:!0),o(),M(e.titleML)}}function Cf(n,r){if(n&1&&(a(0,"div",25),Se(1,_f,3,3,"div",38,he),l()),n&2){let e=d();o(),ye(e.listTypeLanduse)}}function hf(n,r){if(n&1){let e=I();a(0,"app-estate-property-type-landuse-selector",40),_(1,"translate"),b("optionChange",function(t){m(e);let s=d();return u(s.onActionSelectorSelectLanduse(t))}),l()}if(n&2){let e=d();f("optionDisabled",!(e.fieldsInfo.linkPropertyTypeLanduseId!=null&&e.fieldsInfo.linkPropertyTypeLanduseId.accessAddField))("optionTypeView",2)("optionSelectForce",e.dataModel.linkPropertyTypeLanduseId)("optionPlaceholder",C(1,5,"TITLE.Property_Type"))("optionTypeUsageId",e.dataModel.linkPropertyTypeUsageId)}}function Sf(n,r){if(n&1&&(a(0,"mat-error"),c(1),a(2,"strong"),c(3),_(4,"translate"),l()()),n&2){let e=d(3);o(),h(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," "),o(2),M(C(4,2,"MESSAGE.required"))}}function yf(n,r){if(n&1){let e=I();a(0,"div",28)(1,"label",51),c(2),l(),a(3,"input",52,3),k("ngModelChange",function(t){m(e);let s=d(2);return A(s.dataModel.title,t)||(s.dataModel.title=t),u(t)}),l(),a(5,"em"),c(6),l(),v(7,Sf,5,4,"mat-error"),l()}if(n&2){let e=D(4),i=d(2);o(2),M(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),o(),f("disabled",R(!(i.fieldsInfo.title!=null&&i.fieldsInfo.title.accessAddField)))("placeholder",R(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle)),P("ngModel",i.dataModel.title),o(3),h("",e.value.length," / 100"),o(),E(e.errors!=null&&e.errors.required?7:-1)}}function gf(n,r){if(n&1&&(a(0,"mat-error"),c(1),a(2,"strong"),c(3),_(4,"translate"),l()()),n&2){let e=d(3);o(),h(" ",e.fieldsInfo.caseCode==null?null:e.fieldsInfo.caseCode.fieldTitle," "),o(2),M(C(4,2,"MESSAGE.required"))}}function vf(n,r){if(n&1){let e=I();a(0,"div",28)(1,"label",53),c(2),l(),a(3,"input",54,4),k("ngModelChange",function(t){m(e);let s=d(2);return A(s.dataModel.caseCode,t)||(s.dataModel.caseCode=t),u(t)}),l(),a(5,"em"),c(6),l(),v(7,gf,5,4,"mat-error"),l()}if(n&2){let e=D(4),i=d(2);o(2),M(i.fieldsInfo.caseCode==null?null:i.fieldsInfo.caseCode.fieldTitle),o(),f("disabled",R(!(i.fieldsInfo.caseCode!=null&&i.fieldsInfo.caseCode.accessAddField)))("placeholder",R(i.fieldsInfo.caseCode==null?null:i.fieldsInfo.caseCode.fieldTitle)),P("ngModel",i.dataModel.caseCode),o(3),h("",e.value.length," / 100"),o(),E(e.errors!=null&&e.errors.required?7:-1)}}function Ef(n,r){if(n&1){let e=I();a(0,"div",28)(1,"label",55),c(2),l(),a(3,"input",56,5),k("ngModelChange",function(t){m(e);let s=d(2);return A(s.dataModel.createdYaer,t)||(s.dataModel.createdYaer=t),u(t)}),l()()}if(n&2){let e=d(2);o(2),M(e.PropertyTypeSelected.titleCreatedYaer),o(),f("placeholder",R(e.fieldsInfo.createdYaer==null?null:e.fieldsInfo.createdYaer.fieldTitle)),P("ngModel",e.dataModel.createdYaer)}}function bf(n,r){if(n&1){let e=I();a(0,"div",28)(1,"label",57),c(2),l(),a(3,"input",58,6),k("ngModelChange",function(t){m(e);let s=d(2);return A(s.dataModel.partition,t)||(s.dataModel.partition=t),u(t)}),l()()}if(n&2){let e=d(2);o(2),M(e.PropertyTypeSelected.titlePartition),o(),f("placeholder",R(e.PropertyTypeSelected.titlePartition)),P("ngModel",e.dataModel.partition)}}function If(n,r){if(n&1){let e=I();a(0,"div",28)(1,"label",59),c(2),l(),a(3,"input",60,7),k("ngModelChange",function(t){m(e);let s=d(2);return A(s.dataModel.area,t)||(s.dataModel.area=t),u(t)}),l()()}if(n&2){let e=d(2);o(2),M(e.fieldsInfo.area==null?null:e.fieldsInfo.area.fieldTitle),o(),f("disabled",R(!(e.fieldsInfo.area!=null&&e.fieldsInfo.area.accessAddField)))("placeholder",R(e.fieldsInfo.area==null?null:e.fieldsInfo.area.fieldTitle)),P("ngModel",e.dataModel.area)}}function Mf(n,r){if(n&1){let e=I();a(0,"div",28)(1,"label",61),c(2),l(),a(3,"textarea",62,8),k("ngModelChange",function(t){m(e);let s=d(2);return A(s.dataModel.address,t)||(s.dataModel.address=t),u(t)}),l(),a(5,"em"),c(6),l()()}if(n&2){let e=D(4),i=d(2);o(2),M(i.fieldsInfo.address==null?null:i.fieldsInfo.address.fieldTitle),o(),f("placeholder",R(i.fieldsInfo.address==null?null:i.fieldsInfo.address.fieldTitle)),P("ngModel",i.dataModel.address),f("disabled",!(i.fieldsInfo.address!=null&&i.fieldsInfo.address.accessAddField)),o(3),h("",e.value.length," / 500")}}function Tf(n,r){if(n&1&&(a(0,"mat-error"),c(1),a(2,"strong"),c(3),_(4,"translate"),l()()),n&2){let e=d(2);o(),h(" ",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle," "),o(2),M(C(4,2,"MESSAGE.required"))}}function wf(n,r){if(n&1){let e=I();a(0,"div"),v(1,yf,8,8,"div",28),v(2,vf,8,8,"div",28),a(3,"div",41)(4,"div",42)(5,"h5",43),c(6),l()(),a(7,"div",44)(8,"div",45)(9,"input",46),k("ngModelChange",function(t){m(e);let s=d();return A(s.dataModel.viewConfigHiddenInList,t)||(s.dataModel.viewConfigHiddenInList=t),u(t)}),l(),S(10,"label",47),l()()(),v(11,Ef,5,4,"div",28),v(12,bf,5,4,"div",28),v(13,If,5,6,"div",28),a(14,"app-cms-location-selector",48),_(15,"translate"),b("optionChange",function(t){m(e);let s=d();return u(s.onActionSelectorLocation(t))}),l(),v(16,Mf,7,6,"div",28),a(17,"div",28)(18,"label",49),c(19),_(20,"translate"),l(),a(21,"textarea",50,2),k("ngModelChange",function(t){m(e);let s=d();return A(s.dataModel.description,t)||(s.dataModel.description=t),u(t)}),l(),a(23,"em"),c(24),l(),v(25,Tf,5,4,"mat-error"),l()()}if(n&2){let e=D(22),i=d();o(),E(i.fieldsInfo.title!=null&&i.fieldsInfo.title.accessWatchField?1:-1),o(),E(i.fieldsInfo.caseCode!=null&&i.fieldsInfo.caseCode.accessWatchField?2:-1),o(4),h(" ",i.fieldsInfo.viewConfigHiddenInList==null?null:i.fieldsInfo.viewConfigHiddenInList.fieldTitle," "),o(3),P("ngModel",i.dataModel.viewConfigHiddenInList),o(2),E(i.dataModel.linkPropertyTypeLanduseId&&i.PropertyTypeSelected.titleCreatedYaer.length>1&&i.PropertyTypeSelected.titleCreatedYaer!=="---"?11:-1),o(),E(i.dataModel.linkPropertyTypeLanduseId&&i.PropertyTypeSelected.titlePartition.length>1&&i.PropertyTypeSelected.titleCreatedYaer!=="---"?12:-1),o(),E(i.fieldsInfo.area!=null&&i.fieldsInfo.area.accessWatchField?13:-1),o(),f("optionDisabled",!(i.fieldsInfo.linkLocationId!=null&&i.fieldsInfo.linkLocationId.accessAddField))("optionSelectForce",i.dataModel.linkLocationId)("optionPlaceholder",C(15,19,"TITLE.Region")),o(2),E(i.fieldsInfo.address!=null&&i.fieldsInfo.address.accessWatchField?16:-1),o(3),M(C(20,21,"TITLE.General_Description")),o(2),f("disabled",R(!(i.fieldsInfo.description!=null&&i.fieldsInfo.description.accessAddField)))("placeholder",R(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle)),P("ngModel",i.dataModel.description),o(3),h("",e.value.length," / 2000"),o(),E(e.errors!=null&&e.errors.required?25:-1)}}function xf(n,r){if(n&1&&(a(0,"button",64),c(1),_(2,"translate"),l()),n&2){d(2);let e=D(12);f("disabled",!e.form.valid),o(),h(" ",C(2,2,"ACTION.NEXT")," ")}}function Pf(n,r){if(n&1){let e=I();a(0,"div",27)(1,"button",63),b("click",function(){m(e);let t=d();return u(t.onActionBackToParent())}),c(2),_(3,"translate"),l(),v(4,xf,3,4,"button",64),l()}if(n&2){let e=d();o(2),h(" ",C(3,2,"ACTION.CANCEL")," "),o(2),E(e.dataModel.linkPropertyTypeUsageId&&e.dataModel.linkPropertyTypeUsageId.length>0?4:-1)}}function Af(n,r){if(n&1&&(a(0,"mat-error"),c(1),a(2,"strong"),c(3),_(4,"translate"),l()()),n&2){let e=d(3);o(),h(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," "),o(2),M(C(4,2,"MESSAGE.required"))}}function kf(n,r){if(n&1){let e=I();a(0,"div",28)(1,"label",72),c(2),l(),a(3,"input",73,9),k("ngModelChange",function(t){m(e);let s=d(2);return A(s.dataModel.linkSiteId,t)||(s.dataModel.linkSiteId=t),u(t)}),l(),a(5,"em"),c(6),l(),v(7,Af,5,4,"mat-error"),l()}if(n&2){let e=D(4),i=d(2);o(2),M(i.fieldsInfo.linkSiteId==null?null:i.fieldsInfo.linkSiteId.fieldTitle),o(),f("disabled",R(!(i.fieldsInfo.linkSiteId!=null&&i.fieldsInfo.linkSiteId.accessAddField)))("placeholder",R(i.fieldsInfo.linkSiteId==null?null:i.fieldsInfo.linkSiteId.fieldTitle)),P("ngModel",i.dataModel.linkSiteId),o(3),h("",e.value.length," / 100"),o(),E(e.errors!=null&&e.errors.required?7:-1)}}function Rf(n,r){if(n&1){let e=I();a(0,"app-cms-enum-record-admin-status-selector",74),k("modelChange",function(t){m(e);let s=d(2);return A(s.dataModel.mainAdminRecordStatus,t)||(s.dataModel.mainAdminRecordStatus=t),u(t)}),l()}if(n&2){let e=d(2);P("model",e.dataModel.mainAdminRecordStatus),f("optionDisabled",!1)("optionLabel",e.fieldsInfo.mainAdminRecordStatus==null?null:e.fieldsInfo.mainAdminRecordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Df(n,r){if(n&1&&(a(0,"button",64),c(1),_(2,"translate"),l()),n&2){d(3);let e=D(12);f("disabled",!e.form.valid),o(),h(" ",C(2,2,"ACTION.NEXT")," ")}}function Lf(n,r){if(n&1&&(a(0,"div",27)(1,"button",75),c(2),_(3,"translate"),l(),v(4,Df,3,4,"button",64),l()),n&2){let e=d(2);o(2),h(" ",C(3,2,"ACTION.BEFOR")," "),o(2),E(e.dataModel.linkPropertyTypeUsageId&&e.dataModel.linkPropertyTypeUsageId.length>0?4:-1)}}function Vf(n,r){if(n&1){let e=I();a(0,"mat-step",23),_(1,"translate"),v(2,kf,8,8,"div",28),a(3,"div",41)(4,"div",42)(5,"h5",65),c(6),l()(),a(7,"div",44)(8,"div",45)(9,"input",66),k("ngModelChange",function(t){m(e);let s=d();return A(s.dataModel.viewContentHidden,t)||(s.dataModel.viewContentHidden=t),u(t)}),l(),S(10,"label",67),l()()(),a(11,"div",41)(12,"div",42)(13,"h5",68),c(14),l()(),a(15,"div",44)(16,"div",45)(17,"input",69),k("ngModelChange",function(t){m(e);let s=d();return A(s.dataModel.siteAdminViewContentHidden,t)||(s.dataModel.siteAdminViewContentHidden=t),u(t)}),l(),S(18,"label",70),l()()(),v(19,Rf,1,5,"app-cms-enum-record-admin-status-selector",71),v(20,Lf,5,4,"div",27),l()}if(n&2){let e=d();f("label",R(C(1,9,"TITLE.Admin_Config"))),o(2),E(e.fieldsInfo.linkSiteId!=null&&e.fieldsInfo.linkSiteId.accessWatchField&&e.tokenHelper.isAdminSite?2:-1),o(4),h(" ",e.fieldsInfo.viewContentHidden==null?null:e.fieldsInfo.viewContentHidden.fieldTitle," "),o(3),P("ngModel",e.dataModel.viewContentHidden),o(5),h(" ",e.fieldsInfo.siteAdminViewContentHidden==null?null:e.fieldsInfo.siteAdminViewContentHidden.fieldTitle," "),o(3),P("ngModel",e.dataModel.siteAdminViewContentHidden),o(2),E(e.fieldsInfo.mainAdminRecordStatus!=null&&e.fieldsInfo.mainAdminRecordStatus.accessWatchField?19:-1),o(),E(e.formInfo.submitButtonEnabled?20:-1)}}function Of(n,r){if(n&1){let e=I();a(0,"div",28)(1,"label",76),c(2),l(),a(3,"input",77,10),k("ngModelChange",function(t){m(e);let s=d();return A(s.dataModel.aboutCustomerMobile,t)||(s.dataModel.aboutCustomerMobile=t),u(t)}),l(),a(5,"em"),c(6),l()()}if(n&2){let e=D(4),i=d();o(2),M(i.fieldsInfo.aboutCustomerMobile==null?null:i.fieldsInfo.aboutCustomerMobile.fieldTitle),o(),f("disabled",R(!(i.fieldsInfo.aboutCustomerMobile!=null&&i.fieldsInfo.aboutCustomerMobile.accessAddField)))("placeholder",R(i.fieldsInfo.aboutCustomerMobile==null?null:i.fieldsInfo.aboutCustomerMobile.fieldTitle)),P("ngModel",i.dataModel.aboutCustomerMobile),o(3),h("",e.value.length," / 100")}}function Bf(n,r){if(n&1){let e=I();a(0,"div",28)(1,"label",78),c(2),l(),a(3,"input",79,11),k("ngModelChange",function(t){m(e);let s=d();return A(s.dataModel.aboutCustomerTel,t)||(s.dataModel.aboutCustomerTel=t),u(t)}),l(),a(5,"em"),c(6),l()()}if(n&2){let e=D(4),i=d();o(2),M(i.fieldsInfo.aboutCustomerTel==null?null:i.fieldsInfo.aboutCustomerTel.fieldTitle),o(),f("disabled",R(!(i.fieldsInfo.aboutCustomerTel!=null&&i.fieldsInfo.aboutCustomerTel.accessAddField)))("placeholder",R(i.fieldsInfo.aboutCustomerTel==null?null:i.fieldsInfo.aboutCustomerTel.fieldTitle)),P("ngModel",i.dataModel.aboutCustomerTel),o(3),h("",e.value.length," / 100")}}function Hf(n,r){if(n&1&&(a(0,"mat-error"),c(1),a(2,"strong"),c(3),_(4,"translate"),l()()),n&2){let e=d(2);o(),h(" ",e.fieldsInfo.descriptionHidden==null?null:e.fieldsInfo.descriptionHidden.fieldTitle," "),o(2),M(C(4,2,"MESSAGE.required"))}}function Ff(n,r){if(n&1){let e=I();a(0,"div",28)(1,"label",80),c(2),_(3,"translate"),l(),a(4,"textarea",81,12),k("ngModelChange",function(t){m(e);let s=d();return A(s.dataModel.descriptionHidden,t)||(s.dataModel.descriptionHidden=t),u(t)}),l(),a(6,"em"),c(7),l(),v(8,Hf,5,4,"mat-error"),l()}if(n&2){let e=D(5),i=d();o(2),M(C(3,6,"TITLE.Description_Hidden")),o(2),f("placeholder",R(i.fieldsInfo.descriptionHidden==null?null:i.fieldsInfo.descriptionHidden.fieldTitle)),P("ngModel",i.dataModel.descriptionHidden),o(3),h("",e.value.length," / 2000"),o(),E(e.errors!=null&&e.errors.required?8:-1)}}function Nf(n,r){if(n&1&&(a(0,"mat-error"),c(1),a(2,"strong"),c(3),_(4,"translate"),l()()),n&2){let e=d(2);o(),h(" ",e.fieldsInfo.addressHidden==null?null:e.fieldsInfo.addressHidden.fieldTitle," "),o(2),M(C(4,2,"MESSAGE.required"))}}function Gf(n,r){if(n&1){let e=I();a(0,"div",28)(1,"label",82),c(2),_(3,"translate"),l(),a(4,"textarea",83,13),k("ngModelChange",function(t){m(e);let s=d();return A(s.dataModel.addressHidden,t)||(s.dataModel.addressHidden=t),u(t)}),l(),a(6,"em"),c(7),l(),v(8,Nf,5,4,"mat-error"),l()}if(n&2){let e=D(5),i=d();o(2),M(C(3,6,"TITLE.Address_Hidden")),o(2),f("placeholder",R(i.fieldsInfo.addressHidden==null?null:i.fieldsInfo.addressHidden.fieldTitle)),P("ngModel",i.dataModel.addressHidden),o(3),h("",e.value.length," / 2000"),o(),E(e.errors!=null&&e.errors.required?8:-1)}}function Uf(n,r){if(n&1&&(a(0,"button",64),c(1),_(2,"translate"),l()),n&2){d(2);let e=D(12);f("disabled",!e.form.valid),o(),h(" ",C(2,2,"ACTION.NEXT")," ")}}function qf(n,r){if(n&1&&(a(0,"div",27)(1,"button",75),c(2),_(3,"translate"),l(),v(4,Uf,3,4,"button",64),l()),n&2){let e=d();o(2),h(" ",C(3,2,"ACTION.BEFOR")," "),o(2),E(e.dataModel.linkPropertyTypeUsageId&&e.dataModel.linkPropertyTypeUsageId.length>0?4:-1)}}function Wf(n,r){if(n&1){let e=I();a(0,"div",91)(1,"div",41)(2,"div",42)(3,"h5",92),c(4),_(5,"translate"),l()(),a(6,"div",44)(7,"div",45)(8,"input",93),k("ngModelChange",function(t){m(e);let s=d(4);return A(s.contractDataModel.salePriceByAgreement,t)||(s.contractDataModel.salePriceByAgreement=t),u(t)}),l(),S(9,"label",94),l()()()()}if(n&2){let e=d(4);o(4),h(" ",C(5,2,"TITLE.Agreement")," "),o(4),P("ngModel",e.contractDataModel.salePriceByAgreement)}}function jf(n,r){if(n&1){let e=I();a(0,"div",85)(1,"div",88)(2,"div",28)(3,"label",89),c(4),l(),a(5,"input",90),k("ngModelChange",function(t){m(e);let s=d(3);return A(s.contractDataModel.salePrice,t)||(s.contractDataModel.salePrice=t),u(t)}),l(),a(6,"label"),c(7),l()()(),v(8,Wf,10,4,"div",91),l()}if(n&2){let e=d(3);o(4),M(e.contractTypeSelected.titleSalePriceML),o(),P("ngModel",e.contractDataModel.salePrice),f("disabled",e.contractDataModel.salePriceByAgreement),o(2),q(" (",e.dataModelCorCurrencySelector.titleML," ",e.dataModelCorCurrencySelector.symbol," ) "),o(),E(e.contractTypeSelected.salePriceAllowAgreement?8:-1)}}function Qf(n,r){if(n&1){let e=I();a(0,"div",91)(1,"div",41)(2,"div",42)(3,"h5",97),c(4),_(5,"translate"),l()(),a(6,"div",44)(7,"div",45)(8,"input",98),k("ngModelChange",function(t){m(e);let s=d(4);return A(s.contractDataModel.depositPriceByAgreement,t)||(s.contractDataModel.depositPriceByAgreement=t),u(t)}),l(),S(9,"label",99),l()()()()}if(n&2){let e=d(4);o(4),h(" ",C(5,2,"TITLE.Agreement")," "),o(4),P("ngModel",e.contractDataModel.depositPriceByAgreement)}}function zf(n,r){if(n&1){let e=I();a(0,"div",85)(1,"div",88)(2,"div",28)(3,"label",95),c(4),l(),a(5,"input",96),k("ngModelChange",function(t){m(e);let s=d(3);return A(s.contractDataModel.depositPrice,t)||(s.contractDataModel.depositPrice=t),u(t)}),l(),a(6,"label"),c(7),l()()(),v(8,Qf,10,4,"div",91),l()}if(n&2){let e=d(3);o(4),M(e.contractTypeSelected.titleDepositPriceML),o(),P("ngModel",e.contractDataModel.depositPrice),f("disabled",e.contractDataModel.depositPriceByAgreement),o(2),q(" (",e.dataModelCorCurrencySelector.titleML," ",e.dataModelCorCurrencySelector.symbol," ) "),o(),E(e.contractTypeSelected.depositPriceAllowAgreement?8:-1)}}function $f(n,r){if(n&1){let e=I();a(0,"div",91)(1,"div",41)(2,"div",42)(3,"h5",102),c(4),_(5,"translate"),l()(),a(6,"div",44)(7,"div",45)(8,"input",103),k("ngModelChange",function(t){m(e);let s=d(4);return A(s.contractDataModel.rentPriceByAgreement,t)||(s.contractDataModel.rentPriceByAgreement=t),u(t)}),l(),S(9,"label",104),l()()()()}if(n&2){let e=d(4);o(4),h(" ",C(5,2,"TITLE.Agreement")," "),o(4),P("ngModel",e.contractDataModel.rentPriceByAgreement)}}function Yf(n,r){if(n&1){let e=I();a(0,"div",85)(1,"div",88)(2,"div",28)(3,"label",100),c(4),l(),a(5,"input",101),k("ngModelChange",function(t){m(e);let s=d(3);return A(s.contractDataModel.rentPrice,t)||(s.contractDataModel.rentPrice=t),u(t)}),l(),a(6,"label"),c(7),l()()(),v(8,$f,10,4,"div",91),l()}if(n&2){let e=d(3);o(4),M(e.contractTypeSelected.titleRentPriceML),o(),P("ngModel",e.contractDataModel.rentPrice),f("disabled",e.contractDataModel.rentPriceByAgreement),o(2),q(" (",e.dataModelCorCurrencySelector.titleML," ",e.dataModelCorCurrencySelector.symbol," ) "),o(),E(e.contractTypeSelected.rentPriceAllowAgreement?8:-1)}}function Kf(n,r){if(n&1){let e=I();a(0,"div",91)(1,"div",41)(2,"div",42)(3,"h5",107),c(4),_(5,"translate"),l()(),a(6,"div",44)(7,"div",45)(8,"input",108),k("ngModelChange",function(t){m(e);let s=d(4);return A(s.contractDataModel.periodPriceByAgreement,t)||(s.contractDataModel.periodPriceByAgreement=t),u(t)}),l(),S(9,"label",109),l()()()()}if(n&2){let e=d(4);o(4),h(" ",C(5,2,"TITLE.Agreement")," "),o(4),P("ngModel",e.contractDataModel.periodPriceByAgreement)}}function Jf(n,r){if(n&1){let e=I();a(0,"div",85)(1,"div",88)(2,"div",28)(3,"label",105),c(4),l(),a(5,"input",106),k("ngModelChange",function(t){m(e);let s=d(3);return A(s.contractDataModel.periodPrice,t)||(s.contractDataModel.periodPrice=t),u(t)}),l(),a(6,"label"),c(7),l()()(),v(8,Kf,10,4,"div",91),l()}if(n&2){let e=d(3);o(4),M(e.contractTypeSelected.titlePeriodPriceML),o(),P("ngModel",e.contractDataModel.periodPrice),f("disabled",e.contractDataModel.periodPriceByAgreement),o(2),q(" (",e.dataModelCorCurrencySelector.titleML," ",e.dataModelCorCurrencySelector.symbol," ) "),o(),E(e.contractTypeSelected.hasPeriodPrice&&e.contractTypeSelected.periodPriceAllowAgreement?8:-1)}}function Xf(n,r){if(n&1){let e=I();a(0,"div"),v(1,jf,9,6,"div",85),v(2,zf,9,6,"div",85),v(3,Yf,9,6,"div",85),v(4,Jf,9,6,"div",85),S(5,"hr"),a(6,"div",28)(7,"label",86),c(8),l(),a(9,"textarea",87,14),k("ngModelChange",function(t){m(e);let s=d(2);return A(s.contractDataModel.description,t)||(s.contractDataModel.description=t),u(t)}),l(),a(11,"em"),c(12),l()()()}if(n&2){let e=D(10),i=d(2);o(),E(i.contractTypeSelected.hasSalePrice?1:-1),o(),E(i.contractTypeSelected.hasDepositPrice?2:-1),o(),E(i.contractTypeSelected.hasRentPrice?3:-1),o(),E(i.contractTypeSelected.hasPeriodPrice?4:-1),o(4),M(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle),o(),f("placeholder",R(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle)),P("ngModel",i.contractDataModel.description),o(3),h("",e.value.length," / 500")}}function Zf(n,r){if(n&1){let e=I();a(0,"div",31),S(1,"br")(2,"br"),a(3,"app-cms-currency-selector",84),_(4,"translate"),b("optionChange",function(t){m(e);let s=d();return u(s.onActionSelectCurrency(t))}),l(),v(5,Xf,13,9,"div"),S(6,"br")(7,"br"),l()}if(n&2){let e=d();o(3),f("optionSelectFirstItem",e.currencyOptionSelectFirstItem)("optionSelectForce",e.contractDataModel.linkCoreCurrencyId)("optionPlaceholder",C(4,4,"TITLE.Specify_the_transaction_currency")),o(2),E(e.contractDataModel.linkCoreCurrencyId>0?5:-1)}}function e_(n,r){if(n&1){let e=I();a(0,"button",110),b("click",function(){m(e);let t=d();return u(t.onActionOptionAddToList())}),c(1),_(2,"translate"),l()}n&2&&(o(),h(" ",C(2,1,"ACTION.Add_To_List")," ... "))}function t_(n,r){n&1&&(a(0,"mat-header-cell"),c(1),_(2,"translate"),l()),n&2&&(o(),h(" ",C(2,1,"TITLE.Contract")," "))}function i_(n,r){if(n&1&&(a(0,"mat-cell"),c(1),_(2,"cmstitle"),l()),n&2){let e=r.$implicit,i=d(2);o(),h(" ",Ki(2,1,e.linkEstateContractTypeId,i.dataModelEstateContractTypeResult.listItems)," ")}}function n_(n,r){n&1&&(a(0,"mat-header-cell"),c(1),_(2,"translate"),l()),n&2&&(o(),h(" ",C(2,1,"TITLE.SalePrice")," "))}function o_(n,r){if(n&1&&(c(0),_(1,"number"),S(2,"br"),c(3)),n&2){let e=d().$implicit;h(" ",C(1,3,e.salePrice)," "),o(3),q(" ( ",e.currencyTitle," ",e.currencySymbol,") ")}}function r_(n,r){n&1&&(c(0),_(1,"translate")),n&2&&h(" ",C(1,1,"TITLE.PriceByAgreement")," ")}function a_(n,r){if(n&1&&(a(0,"mat-cell"),v(1,o_,4,5),v(2,r_,2,3),l()),n&2){let e=r.$implicit;o(),E(e.salePrice>0?1:-1),o(),E(e.salePriceByAgreement?2:-1)}}function l_(n,r){n&1&&(a(0,"mat-header-cell"),c(1),_(2,"translate"),l()),n&2&&(o(),h(" ",C(2,1,"TITLE.DepositPrice")," "))}function s_(n,r){if(n&1&&(c(0),_(1,"number"),S(2,"br"),c(3)),n&2){let e=d().$implicit;h(" ",C(1,3,e.depositPrice)," "),o(3),q(" ( ",e.currencyTitle," ",e.currencySymbol,") ")}}function c_(n,r){n&1&&(c(0),_(1,"translate")),n&2&&h(" ",C(1,1,"TITLE.PriceByAgreement")," ")}function d_(n,r){if(n&1&&(a(0,"mat-cell"),v(1,s_,4,5),v(2,c_,2,3),l()),n&2){let e=r.$implicit;o(),E(e.depositPrice>0?1:-1),o(),E(e.depositPriceByAgreement?2:-1)}}function p_(n,r){n&1&&(a(0,"mat-header-cell"),c(1),_(2,"translate"),l()),n&2&&(o(),h(" ",C(2,1,"TITLE.RentPrice")," "))}function m_(n,r){if(n&1&&(c(0),_(1,"number"),S(2,"br"),c(3)),n&2){let e=d().$implicit;h(" ",C(1,3,e.rentPrice)," "),o(3),q(" ( ",e.currencyTitle," ",e.currencySymbol,") ")}}function u_(n,r){n&1&&(c(0),_(1,"translate")),n&2&&h(" ",C(1,1,"TITLE.PriceByAgreement")," ")}function f_(n,r){if(n&1&&(a(0,"mat-cell"),v(1,m_,4,5),v(2,u_,2,3),l()),n&2){let e=r.$implicit;o(),E(e.rentPrice>0?1:-1),o(),E(e.rentPriceByAgreement?2:-1)}}function __(n,r){n&1&&(a(0,"mat-header-cell"),c(1),_(2,"translate"),l()),n&2&&(o(),h(" ",C(2,1,"TITLE.PeriodPrice")," "))}function C_(n,r){if(n&1&&(c(0),_(1,"number"),S(2,"br"),c(3)),n&2){let e=d().$implicit;h(" ",C(1,3,e.periodPrice)," "),o(3),q(" ( ",e.currencyTitle," ",e.currencySymbol,") ")}}function h_(n,r){n&1&&(c(0),_(1,"translate")),n&2&&h(" ",C(1,1,"TITLE.PriceByAgreement")," ")}function S_(n,r){if(n&1&&(a(0,"mat-cell"),v(1,C_,4,5),v(2,h_,2,3),l()),n&2){let e=r.$implicit;o(),E(e.periodPrice>0?1:-1),o(),E(e.periodPriceByAgreement?2:-1)}}function y_(n,r){n&1&&(a(0,"mat-header-cell"),c(1),_(2,"translate"),l()),n&2&&(o(),h(" ",C(2,1,"TITLE.OPTION")," "))}function g_(n,r){if(n&1){let e=I();a(0,"mat-cell",125)(1,"button",126),b("click",function(){let t=m(e).index,s=d(2);return u(s.onActionOptionRemoveFromList(t))}),a(2,"small")(3,"mat-icon",127),_(4,"translate"),c(5,"delete"),l()()()()}n&2&&(o(3),f("matTooltip",R(C(4,2,"ACTION.DELETE"))))}function v_(n,r){if(n&1&&c(0),n&2){let e=d().$implicit;h(" ",e.description," ")}}function E_(n,r){if(n&1&&(a(0,"mat-cell",128),c(1),_(2,"translate"),v(3,v_,1,1),l()),n&2){let e=r.$implicit;o(),h(" ",C(2,2,"TITLE.DESCRIPTION")," : "),o(2),E(e.description?3:-1)}}function b_(n,r){n&1&&S(0,"mat-header-row")}function I_(n,r){if(n&1&&S(0,"mat-row"),n&2){let e=r.dataIndex;j("ntk-row-odd",e%2)("ntk-row-even",!(e%2))}}function M_(n,r){if(n&1&&S(0,"mat-row"),n&2){let e=r.dataIndex;j("ntk-row-odd",e%2)("ntk-row-even",!(e%2))}}function T_(n,r){if(n&1&&(a(0,"div",33)(1,"mat-table",111),T(2,112),x(3,t_,3,3,"mat-header-cell",113)(4,i_,3,4,"mat-cell",114),w(),T(5,115),x(6,n_,3,3,"mat-header-cell",113)(7,a_,3,2,"mat-cell",114),w(),T(8,116),x(9,l_,3,3,"mat-header-cell",113)(10,d_,3,2,"mat-cell",114),w(),T(11,117),x(12,p_,3,3,"mat-header-cell",113)(13,f_,3,2,"mat-cell",114),w(),T(14,118),x(15,__,3,3,"mat-header-cell",113)(16,S_,3,2,"mat-cell",114),w(),T(17,119),x(18,y_,3,3,"mat-header-cell",113)(19,g_,6,4,"mat-cell",120),w(),T(20,121),x(21,E_,4,4,"mat-cell",122),w(),x(22,b_,1,0,"mat-header-row",123)(23,I_,1,4,"mat-row",124)(24,M_,1,4,"mat-row",124),l()()),n&2){let e=d();o(),f("dataSource",e.optionTabledataSource),o(21),f("matHeaderRowDef",e.optionTabledisplayedColumns),o(),f("matRowDefColumns",e.optionTabledisplayedColumns),o(),f("matRowDefColumns",ne(4,uf))}}function w_(n,r){if(n&1&&(a(0,"button",129),c(1),_(2,"translate"),l()),n&2){d(2);let e=D(12);f("disabled",!e.form.valid),o(),h(" ",C(2,2,"ACTION.SAVE")," ")}}function x_(n,r){if(n&1&&(a(0,"div",27)(1,"button",75),c(2),_(3,"translate"),l(),v(4,w_,3,4,"button",129),l()),n&2){let e=d();o(2),h(" ",C(3,2,"ACTION.BEFOR")," "),o(2),E(e.dataModel.contracts&&e.dataModel.contracts.length>0?4:-1)}}function P_(n,r){n&1&&(a(0,"mat-icon"),c(1,"call_end"),l())}function A_(n,r){n&1&&(a(0,"mat-icon"),c(1,"call_end"),l())}function k_(n,r){n&1&&(a(0,"mat-icon"),c(1,"forum"),l())}function R_(n,r){n&1&&(a(0,"mat-icon"),c(1,"forum"),l())}var fo=class fo extends Di{constructor(e,i,t,s,p,y,z,Me,Ce,et,We,Ge,tt,it,Pe){super(s,new Jt,We,Pe);this.dialogRef=e;this.coreEnumService=i;this.estateContractTypeService=t;this.estatePropertyService=s;this.estatePropertyDetailGroupService=p;this.estatePropertyTypeService=y;this.estatePropertyTypeLanduseService=z;this.cmsToastrService=Me;this.cmsStoreService=Ce;this.themeService=et;this.publicHelper=We;this.cdr=Ge;this.dialog=tt;this.tokenHelper=it;this.translate=Pe;this.constructorInfoAreaId=this.constructor.name;this.currencyOptionSelectFirstItem=!0;this.enumInputDataType=en;this.tokenInfo=new ni;this.appLanguage="fa";this.formMatcher=new ba;this.dataModelResult=new Q;this.dataModelEstateContractTypeResult=new Q;this.dataModelEstatePropertyTypeResult=new Q;this.dataModelEstatePropertyTypeLanduseResult=new Q;this.dataModel=new Jt;this.dataModelCorCurrencySelector=new Ei;this.PropertyTypeSelected=new si;this.contractDataModel=new go;this.optionActionTitle="";this.optionTabledataSource=new aa;this.optionTabledisplayedColumns=["LinkEstateContractTypeId","SalePrice","RentPrice","DepositPrice","PeriodPrice","Action"];this.propertyDetails=new Map;this.step=0;this.listTypeLanduse=[];this.hidden=!0;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore}ngOnInit(){this.translate.get("TITLE.Submit_New_Content").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess(),this.getEstateContractType(),this.getEstatePropertyType(),this.getEstatePropertyTypeLanduse(),this.dataModel.caseCode=this.publicHelper.StringRandomGenerator(5,!0),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>$(this,null,function*(){this.DataGetAccess(),this.getEstateContractType(),this.getEstatePropertyType(),this.getEstatePropertyTypeLanduse(),this.translate.get("ACTION.Add_To_List").subscribe(i=>{this.optionActionTitle=i}),this.tokenInfo=e})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}getEstateContractType(){let e=this.constructor.name+"getEstateContractType";this.translate.get("TITLE.Get_Estate_Contract_Type").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estateContractTypeService.ServiceGetAll(null).subscribe({next:i=>{this.dataModelEstateContractTypeResult=i,this.publicHelper.processService.processStop(e)},error:i=>{this.publicHelper.processService.processStop(e)}})}getEstatePropertyType(){let e=this.constructor.name+"getEstatePropertyType";this.translate.get("TITLE.Get_Estate_property_Type").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estatePropertyTypeService.ServiceGetAll(null).subscribe({next:i=>{this.dataModelEstatePropertyTypeResult=i,this.publicHelper.processService.processStop(e)},error:i=>{this.publicHelper.processService.processStop(e)}})}getEstatePropertyTypeLanduse(){let e=this.constructor.name+"getEstatePropertyType";this.translate.get("TITLE.Get_Estate_user_Type").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estatePropertyTypeLanduseService.ServiceGetAll(null).subscribe({next:i=>{this.dataModelEstatePropertyTypeLanduseResult=i,this.publicHelper.processService.processStop(e)},error:i=>{this.publicHelper.processService.processStop(e)}})}DataGetPropertyDetailGroup(e){let i=new re,t=new L;t.propertyName="LinkPropertyTypeLanduseId",t.value=e,i.filters.push(t),this.dataModel.propertyDetailGroups=[];let s=this.constructor.name+"DataGetPropertyDetailGroup";this.translate.get("TITLE.Get_Details").subscribe(p=>{this.publicHelper.processService.processStart(s,p,this.constructorInfoAreaId)}),this.estatePropertyDetailGroupService.ServiceGetAll(i).subscribe({next:p=>{p.isSuccess?this.dataModel.propertyDetailGroups=p.listItems:this.cmsToastrService.typeErrorGetAccess(p.errorMessage),this.publicHelper.processService.processStop(s)},error:p=>{this.cmsToastrService.typeErrorGetAccess(p),this.publicHelper.processService.processStop(s,!1)}})}DataAdd(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"ServiceAdd";this.translate.get("TITLE.Property_registration").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.estatePropertyService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success}),this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.cmsToastrService.typeSuccessAdd(),setTimeout(()=>this.dialogRef.close({dialogChangedDate:!0}),1e3)):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorSelectUsage(e){if(!e||!e.id||e.id.length<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkPropertyTypeUsageId=e.id,this.dataModelEstatePropertyTypeResult.isSuccess&&this.dataModelEstatePropertyTypeLanduseResult.isSuccess&&(this.listTypeLanduse=[],this.dataModelEstatePropertyTypeResult.listItems.forEach(i=>{i.linkPropertyTypeUsageId===e.id&&this.dataModelEstatePropertyTypeLanduseResult.listItems.forEach(t=>{t.id===i.linkPropertyTypeLanduseId&&this.listTypeLanduse.push(t)})}))}onActionSelectorSelectLanduse(e){if(!e||!e.id||e.id.length<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.PropertyTypeSelected=e,this.dataModel.linkPropertyTypeLanduseId=e.id,this.DataGetPropertyDetailGroup(e.id)}onActionSelectorCmsUser(e){if(!e||!e.id||e.id<=0){this.dataModel.linkCmsUserId=null;return}this.dataModel.linkCmsUserId=e.id}onActionSelectorLocation(e){if(!e||!e.id||e.id<=0){this.translate.get("MESSAGE.information_area_is_not_clear").subscribe(i=>{this.cmsToastrService.typeWarningSelected(i)}),this.dataModel.linkLocationId=null;return}this.dataModel.linkLocationId=e.id}onActionSelectorProject(e){if(!e||!e.id||e.id.length<=0){this.dataModel.linkPropertyProjectId=null;return}this.dataModel.linkPropertyProjectId=e.id}onActionSelectorCompany(e){if(!e||!e.id||e.id.length<=0){this.dataModel.linkPropertyCompanyId=null;return}this.dataModel.linkPropertyCompanyId=e.id}onActionSelectorEstateUser(e){this.dataModel.linkEstateExpertId=null,!(!e||!e.id||e.id.length<=0)&&(this.dataModel.linkEstateExpertId=e.id)}onActionSelectorEstateAgency(e){this.dataModel.linkEstateAgencyId=null,!(!e||!e.id||e.id.length<=0)&&(this.dataModel.linkEstateAgencyId=e.id)}onActionSelectorContractType(e){if(this.contractTypeSelected=null,!e||!e.id||e.id.length<=0){this.translate.get("MESSAGE.Type_of_property_transaction_is_not_known").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.currencyOptionSelectFirstItem=!0,this.contractTypeSelected=e,this.contractDataModel=new go,this.contractDataModel.contractType=this.contractTypeSelected,this.contractDataModel.linkEstateContractTypeId=this.contractTypeSelected.id}onFormSubmit(){if(this.formGroup.valid){if(this.formInfo.submitButtonEnabled=!1,this.dataModel.propertyDetailValues=[],this.dataModel.propertyDetailGroups&&this.dataModel.propertyDetailGroups.forEach(e=>{e.propertyDetails.forEach(i=>{let t=new on;t.linkPropertyDetailId=i.id,t.value=this.propertyDetails[i.id],this.dataModel.propertyDetailValues.push(t)})}),(!this.dataModel.contracts||this.dataModel.contracts.length===0)&&this.onActionOptionAddToList(!1),!this.dataModel.contracts||this.dataModel.contracts.length===0){this.translate.get("MESSAGE.Type_of_property_transaction_is_not_known").subscribe(e=>{this.cmsToastrService.typeErrorSelected(e)}),this.formInfo.submitButtonEnabled=!0;return}this.DataAdd()}}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}onActionOptionAddToList(e=!0){if(!this.contractTypeSelected||this.contractTypeSelected.id.length===0){this.translate.get("MESSAGE.Type_of_property_transaction_is_not_known").subscribe(t=>{e&&this.cmsToastrService.typeErrorSelected(t)});return}this.dataModel.contracts||(this.dataModel.contracts=[]);var i=!1;if(this.contractTypeSelected.hasSalePrice&&(this.contractDataModel.salePrice&&this.contractDataModel.salePrice>0&&(i=!0),this.contractTypeSelected.salePriceAllowAgreement&&this.contractDataModel.salePriceByAgreement&&(i=!0),!i)){this.translate.get("MESSAGE.Sales_amount_is_not_entered_correctly").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(i=!1,this.contractTypeSelected.hasRentPrice&&(this.contractDataModel.rentPrice&&this.contractDataModel.rentPrice>0&&(i=!0),this.contractTypeSelected.rentPriceAllowAgreement&&this.contractDataModel.rentPriceByAgreement&&(i=!0),!i)){this.translate.get("MESSAGE.Rent_amount_is_not_entered_correctly").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(i=!1,this.contractTypeSelected.hasPeriodPrice&&(this.contractDataModel.periodPrice&&this.contractDataModel.periodPrice>0&&(i=!0),this.contractTypeSelected.periodPriceAllowAgreement&&this.contractDataModel.periodPriceByAgreement&&(i=!0),!i)){this.translate.get("MESSAGE.Period_amount_is_not_entered_correctly").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(i=!1,this.contractTypeSelected.hasDepositPrice&&(this.contractDataModel.depositPrice&&this.contractDataModel.depositPrice>0&&(i=!0),this.contractTypeSelected.depositPriceAllowAgreement&&this.contractDataModel.depositPriceByAgreement&&(i=!0),!i)){this.translate.get("MESSAGE.Deposit_amount_is_not_entered_correctly").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}this.dataModel.contracts.push(this.contractDataModel),this.contractDataModel=new go,this.optionTabledataSource.data=this.dataModel.contracts,this.contractTypeSelected=null}onActionOptionRemoveFromList(e){e<0||!this.dataModel.contracts||this.dataModel.contracts.length===0||(this.contractDataModel=this.dataModel.contracts[e],this.dataModel.contracts.splice(e,1),this.contractDataModel=new go,this.optionTabledataSource.data=this.dataModel.contracts)}onStepClick(e,i){e.previouslySelectedIndex<e.selectedIndex&&((!this.dataModel.linkPropertyTypeUsageId||this.dataModel.linkPropertyTypeUsageId.length===0)&&(this.translate.get("TITLE.Select_the_Property_Type_Usage").subscribe(t=>{this.cmsToastrService.typeErrorFormInvalid(t)}),setTimeout(()=>{i.selectedIndex=e.previouslySelectedIndex},10)),(!this.dataModel.linkPropertyTypeLanduseId||this.dataModel.linkPropertyTypeLanduseId.length===0)&&(this.translate.get("TITLE.Select_the_Property_Type_Landuse").subscribe(t=>{this.cmsToastrService.typeErrorFormInvalid(t)}),setTimeout(()=>{i.selectedIndex=e.previouslySelectedIndex},10)),this.formGroup.valid||(this.cmsToastrService.typeErrorFormInvalid(),setTimeout(()=>{i.selectedIndex=e.previouslySelectedIndex},10))),(!this.dataModel.contracts||this.dataModel.contracts.length==0)&&e.previouslySelectedStep.state=="contract"&&e.previouslySelectedIndex<e.selectedIndex&&(this.translate.get("TITLE.Select_the_transaction_type").subscribe(t=>{this.cmsToastrService.typeErrorFormInvalid(t)}),setTimeout(()=>{i.selectedIndex=e.previouslySelectedIndex},10))}onActionBackToParent(){this.dialogRef.close({dialogChangedDate:!1})}setStep(e){this.step=e}nextStep(){this.step++}prevStep(){this.step--}onActionClickSalePriceAllowAgreement(){this.contractDataModel.salePriceByAgreement&&(this.contractDataModel.salePrice=0)}onActionClickRentPriceAllowAgreement(){this.contractDataModel.rentPriceByAgreement&&(this.contractDataModel.rentPrice=0)}onActionClickPeriodPriceAllowAgreement(){this.contractDataModel.periodPriceByAgreement&&(this.contractDataModel.periodPrice=0)}onActionClickDepositPriceByAgreement(){this.contractDataModel.depositPriceByAgreement&&(this.contractDataModel.depositPrice=0)}onActionSelectCurrency(e){if(!e||e.id<=0){this.cmsToastrService.typeErrorSelected(),this.dataModelCorCurrencySelector=null,this.contractDataModel.linkCoreCurrencyId=null;return}this.dataModelCorCurrencySelector=e,this.contractDataModel.linkCoreCurrencyId=e.id}onActionButtonQuickListSearchTitle(){if(!this.dataModel||!this.dataModel.title||this.dataModel.title.length===0){this.cmsToastrService.typeErrorSelectedRow();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(Zi,{height:"90%",panelClass:e,enterAnimationDuration:O.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:O.cmsViewConfig.exitAnimationDuration,data:{searchTitle:this.dataModel.title}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate})}onActionButtonQuickListSearchCustomerTel(){if(!this.dataModel||!this.dataModel.aboutCustomerTel||this.dataModel.aboutCustomerTel.length===0){this.cmsToastrService.typeErrorSelectedRow();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(Zi,{height:"90%",panelClass:e,enterAnimationDuration:O.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:O.cmsViewConfig.exitAnimationDuration,data:{searchCustomerTel:this.dataModel.aboutCustomerTel}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate})}onActionButtonQuickListSearchCustomerMobile(){if(!this.dataModel||!this.dataModel.aboutCustomerMobile||this.dataModel.aboutCustomerMobile.length===0){this.cmsToastrService.typeErrorSelectedRow();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(Zi,{height:"90%",panelClass:e,enterAnimationDuration:O.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:O.cmsViewConfig.exitAnimationDuration,data:{searchCustomerTel:this.dataModel.aboutCustomerMobile}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate})}onActionButtonQuickListSearchCaseCode(){if(!this.dataModel||!this.dataModel.caseCode||this.dataModel.caseCode.length===0){this.cmsToastrService.typeErrorSelectedRow();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(Zi,{height:"90%",panelClass:e,enterAnimationDuration:O.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:O.cmsViewConfig.exitAnimationDuration,data:{searchCaseCode:this.dataModel.caseCode}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate})}};fo.\u0275fac=function(i){return new(i||fo)(g(He),g(ce),g(ln),g(wt),g(sn),g(xo),g(cn),g(F),g(Y),g(Xe),g(U),g(G),g(Z),g(K),g(H))},fo.\u0275cmp=B({type:fo,selectors:[["app-estate-property-quick-add"]],viewQuery:function(i,t){if(i&1&&ot(pf,5),i&2){let s;rt(s=at())&&(t.formGroup=s.first)}},standalone:!1,features:[we],decls:53,vars:58,consts:[["vform","ngForm"],["stepper",""],["Description",""],["Title",""],["CaseCode",""],["CreatedYaer",""],["Partition",""],["Area",""],["Address",""],["LinkSiteId",""],["AboutCustomerMobile",""],["AboutCustomerTel",""],["DescriptionHidden",""],["AddressHidden",""],["contractDataModel_Description",""],[3,"Key","svg","ngStyle"],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"selectionChange"],["state","main",3,"label"],[3,"optionChange","optionDisabled","optionTypeView","optionSelectForce","optionPlaceholder"],[1,"row","mb-0"],[3,"optionDisabled","optionTypeView","optionSelectForce","optionPlaceholder","optionTypeUsageId"],[1,"form-actions"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["state","contract",3,"label"],[3,"optionChange","optionTypeView","optionDisabled","optionPlaceholder","optionSelectForce"],[1,"container"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[1,"example-container","mat-elevation-z8"],["matStepperIcon","main"],["matStepperIcon","seo"],["matStepperIcon","file"],["matStepperIcon","loaction"],[1,"col-xl-2","col-lg-3","col-md-4","col-sm-12","pe-1"],[3,"click","ngClass"],[3,"optionChange","optionDisabled","optionTypeView","optionSelectForce","optionPlaceholder","optionTypeUsageId"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.viewConfigHiddenInList",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.viewConfigHiddenInList","name","dataModel.viewConfigHiddenInList",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.viewConfigHiddenInList",1,"custom-control-label"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","2000","rows","5","id","dataModel.description","required","",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled","placeholder"],["for","dataModel.title",1,"color-highlight"],["matInput","","name","dataModel.title","type","text","minlength","3","maxlength","100","id","dataModel.title","required","",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled","placeholder"],["for","dataModel.caseCode",1,"color-highlight"],["matInput","","name","dataModel.caseCode","type","text","minlength","3","maxlength","100","id","dataModel.caseCode",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled","placeholder"],["for","dataModel.createdYaer",1,"color-highlight"],["matInput","","name","dataModel.createdYaer","type","number","id","dataModel.createdYaer",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.partition",1,"color-highlight"],["matInput","","name","dataModel.partition","type","number","id","dataModel.partition",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.area",1,"color-highlight"],["matInput","","name","dataModel.area","type","text","currencyMask","","id","dataModel.area",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel","disabled","placeholder"],["for","dataModel.address",1,"color-highlight"],["matInput","","name","dataModel.address","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.address",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],["type","button","matStepperNext","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue",3,"disabled"],["data-trigger-switch","dataModel.viewContentHidden",1,"font-600","font-14"],["type","checkbox","id","dataModel.viewContentHidden","name","dataModel.viewContentHidden",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.viewContentHidden",1,"custom-control-label"],["data-trigger-switch","dataModel.siteAdminViewContentHidden",1,"font-600","font-14"],["type","checkbox","id","dataModel.siteAdminViewContentHidden","name","dataModel.siteAdminViewContentHidden",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.siteAdminViewContentHidden",1,"custom-control-label"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.linkSiteId",1,"color-highlight"],["matInput","","name","dataModel.linkSiteId","type","text","minlength","3","maxlength","100","id","dataModel.linkSiteId",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled","placeholder"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["type","button","matStepperPrevious","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue"],["for","dataModel.aboutCustomerMobile",1,"color-highlight"],["matInput","","name","dataModel.aboutCustomerMobile","type","text","minlength","0","maxlength","100","id","dataModel.aboutCustomerMobile",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled","placeholder"],["for","dataModel.aboutCustomerTel",1,"color-highlight"],["matInput","","name","dataModel.aboutCustomerTel","type","text","minlength","0","maxlength","100","id","dataModel.aboutCustomerTel",1,"input-Mobile",3,"ngModelChange","ngModel","disabled","placeholder"],["for","dataModel.descriptionHidden",1,"color-highlight"],["matInput","","name","dataModel.descriptionHidden","type","text","minlength","1","maxlength","2000","rows","5","id","dataModel.descriptionHidden",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.addressHidden",1,"color-highlight"],["matInput","","name","dataModel.addressHidden","type","text","minlength","1","maxlength","2000","rows","5","id","dataModel.addressHidden",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[3,"optionChange","optionSelectFirstItem","optionSelectForce","optionPlaceholder"],[1,"row"],["for","contractDataModel.description",1,"color-highlight"],["matInput","","name","contractDataModel.description","type","text","minlength","0","maxlength","500","rows","5","id","contractDataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"col-6"],["for","contractDataModel.salePrice",1,"color-highlight"],["matInput","","name","contractDataModel.salePrice","type","text","currencyMask","","placeholder","0","id","contractDataModel.salePrice",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel","disabled"],[1,"col-3"],["data-trigger-switch","contractDataModel.salePriceByAgreement",1,"font-600","font-14"],["type","checkbox","id","contractDataModel.salePriceByAgreement","name","contractDataModel.salePriceByAgreement",1,"ios-input",3,"ngModelChange","ngModel"],["for","contractDataModel.salePriceByAgreement",1,"custom-control-label"],["for","contractDataModel.depositPrice",1,"color-highlight"],["matInput","","name","contractDataModel.depositPrice","type","text","currencyMask","","placeholder","0","id","contractDataModel.depositPrice",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel","disabled"],["data-trigger-switch","contractDataModel.depositPriceByAgreement",1,"font-600","font-14"],["type","checkbox","id","contractDataModel.depositPriceByAgreement","name","contractDataModel.depositPriceByAgreement",1,"ios-input",3,"ngModelChange","ngModel"],["for","contractDataModel.depositPriceByAgreement",1,"custom-control-label"],["for","contractDataModel.rentPrice",1,"color-highlight"],["matInput","","name","contractDataModel.rentPrice","type","text","currencyMask","","placeholder","0","id","contractDataModel.rentPrice",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel","disabled"],["data-trigger-switch","contractDataModel.rentPriceAllowAgreement",1,"font-600","font-14"],["type","checkbox","id","contractDataModel.rentPriceAllowAgreement","name","contractDataModel.rentPriceAllowAgreement",1,"ios-input",3,"ngModelChange","ngModel"],["for","contractDataModel.rentPriceAllowAgreement",1,"custom-control-label"],["for","contractDataModel.periodPrice",1,"color-highlight"],["matInput","","name","contractDataModel.periodPrice","type","text","currencyMask","","placeholder","0","id","contractDataModel.periodPriceByAgreement",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel","disabled"],["data-trigger-switch","contractDataModel.periodPriceByAgreement",1,"font-600","font-14"],["type","checkbox","id","contractDataModel.periodPriceByAgreement","name","contractDataModel.periodPriceByAgreement",1,"ios-input",3,"ngModelChange","ngModel"],["for","contractDataModel.periodPriceByAgreement",1,"custom-control-label"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],["multiTemplateDataRows","",3,"dataSource"],["matColumnDef","LinkEstateContractTypeId"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","SalePrice"],["matColumnDef","DepositPrice"],["matColumnDef","RentPrice"],["matColumnDef","PeriodPrice"],["matColumnDef","Action"],["class","Action",4,"matCellDef"],["matColumnDef","descriptionDetail"],["colspan","6",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even",4,"matRowDef","matRowDefColumns"],[1,"Action"],["type","button","mat-icon-button","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],["matTooltipPosition","before","aria-hidden","false",2,"color","red",3,"matTooltip"],["colspan","6"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"]],template:function(i,t){if(i&1){let s=I();S(0,"app-cms-guide-notice",15),a(1,"div",16),S(2,"app-progress-spinner",17),a(3,"div",18)(4,"p",19),c(5),_(6,"translate"),l(),a(7,"p"),c(8),_(9,"translate"),l(),S(10,"app-cms-form-result-message",20),a(11,"form",21,0),b("ngSubmit",function(){return m(s),u(t.onFormSubmit())}),a(13,"mat-vertical-stepper",22,1),b("selectionChange",function(y){m(s);let z=D(14);return u(t.onStepClick(y,z))}),a(15,"mat-step",23),_(16,"translate"),a(17,"app-estate-property-type-usage-selector",24),_(18,"translate"),b("optionChange",function(y){return m(s),u(t.onActionSelectorSelectUsage(y))}),l(),v(19,ff,3,3,"p"),v(20,Cf,3,0,"div",25),v(21,hf,2,7,"app-estate-property-type-landuse-selector",26),S(22,"br")(23,"br"),v(24,wf,26,23,"div"),v(25,Pf,5,4,"div",27),l(),v(26,Vf,21,11,"mat-step",23),a(27,"mat-step",23),_(28,"translate"),v(29,Of,7,7,"div",28),v(30,Bf,7,7,"div",28),v(31,Ff,9,8,"div",28),v(32,Gf,9,8,"div",28),v(33,qf,5,4,"div",27),l(),a(34,"mat-step",29),_(35,"translate"),a(36,"p"),c(37),_(38,"translate"),l(),a(39,"app-estate-contract-type-selector",30),_(40,"translate"),b("optionChange",function(y){return m(s),u(t.onActionSelectorContractType(y))}),l(),v(41,Zf,8,6,"div",31),v(42,e_,3,3,"button",32),S(43,"hr"),a(44,"p"),c(45),_(46,"translate"),l(),v(47,T_,25,5,"div",33),v(48,x_,5,4,"div",27),l(),x(49,P_,2,0,"ng-template",34)(50,A_,2,0,"ng-template",35)(51,k_,2,0,"ng-template",36)(52,R_,2,0,"ng-template",37),l()()()()}i&2&&(f("Key","estate.property.list.add")("svg","assets/media/svg/icons/General/Notifications1.svg")("ngStyle",Ee(56,mf,t.tokenInfo.access.direction)),o(2),f("optionsInfoAreaId",t.constructorInfoAreaId),o(3),h(" ",C(6,38,"TITLE.EDIT_USER_ACCOUNT")," "),o(3),h(" ",C(9,40,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),f("formInfo",t.formInfo),o(5),f("label",R(C(16,42,"TITLE.REQUIRED_INFORMATION"))),o(2),f("optionDisabled",!(t.fieldsInfo.linkPropertyTypeUsageId!=null&&t.fieldsInfo.linkPropertyTypeUsageId.accessAddField))("optionTypeView",2)("optionSelectForce",t.dataModel.linkPropertyTypeUsageId)("optionPlaceholder",C(18,44,"TITLE.Type_Usage")),o(2),E(t.dataModel.linkPropertyTypeUsageId&&t.dataModel.linkPropertyTypeUsageId.length>0&&t.listTypeLanduse&&t.listTypeLanduse.length>0?19:-1),o(),E(t.dataModel.linkPropertyTypeUsageId&&t.dataModel.linkPropertyTypeUsageId.length>0&&t.listTypeLanduse&&t.listTypeLanduse.length>0?20:-1),o(),E((!t.listTypeLanduse||t.listTypeLanduse.length===0)&&t.dataModel.linkPropertyTypeUsageId&&t.dataModel.linkPropertyTypeUsageId.length>0?21:-1),o(3),E(t.dataModel.linkPropertyTypeLanduseId&&t.dataModel.linkPropertyTypeLanduseId.length>0?24:-1),o(),E(t.formInfo.submitButtonEnabled?25:-1),o(),E(t.tokenHelper.isAdminSite?26:-1),o(),f("label",R(C(28,46,"TITLE.SECRET_INFORMATION"))),o(2),E(t.fieldsInfo.aboutCustomerMobile!=null&&t.fieldsInfo.aboutCustomerMobile.accessWatchField?29:-1),o(),E(t.fieldsInfo.aboutCustomerTel!=null&&t.fieldsInfo.aboutCustomerTel.accessWatchField?30:-1),o(),E(t.fieldsInfo.descriptionHidden!=null&&t.fieldsInfo.descriptionHidden.accessWatchField?31:-1),o(),E(t.fieldsInfo.addressHidden!=null&&t.fieldsInfo.addressHidden.accessWatchField?32:-1),o(),E(t.formInfo.submitButtonEnabled?33:-1),o(),f("label",R(C(35,48,"TITLE.Transaction"))),o(3),h(" ",C(38,50,"TITLE.Specify_the_type_of_transaction_for_this_property")," "),o(2),f("optionTypeView",2)("optionDisabled",!1)("optionPlaceholder",C(40,52,"TITLE.Type_Of_Transaction"))("optionSelectForce",t.contractDataModel.linkEstateContractTypeId),o(2),E(t.contractTypeSelected&&t.contractTypeSelected.id.length>0?41:-1),o(),E(t.contractTypeSelected&&t.contractTypeSelected.id.length>0?42:-1),o(3),h(" ",C(46,54,"TITLE.List_Of_Transaction_Details_Of_This_Property")," "),o(2),E(t.publicHelper.processService.process.inRunAll?-1:47),o(),E(t.formInfo.submitButtonEnabled?48:-1))},dependencies:[se,Qe,At,oe,xi,Ao,X,lt,ke,oi,ri,xe,Pt,Be,Rt,de,te,ia,na,oa,ra,ta,ct,pt,_t,mt,dt,Ct,ut,ft,ht,St,Yr,Fi,Ia,or,W,pa,Ne,da,Li,_i,Hi,Ci,la,Mo,N,Qo],encapsulation:2});var hr=fo;var D_=()=>["expandedTitle"],L_=()=>["expandedDetail"],V_=()=>[5,10,20,100],Ja=n=>({display:n});function O_(n,r){n&1&&(a(0,"mat-header-cell"),c(1),_(2,"translate"),l()),n&2&&(o(),h(" ",C(2,1,"TITLE.MENU")," "))}function B_(n,r){if(n&1){let e=I();a(0,"mat-cell")(1,"button",56),b("click",function(){let t=m(e).$implicit,s=d();return u(s.onActionTableRowSelectActionMenu(t))}),S(2,"i",57),l()()}}function H_(n,r){n&1&&(a(0,"mat-header-cell",58),c(1),_(2,"translate"),l()),n&2&&(o(),h(" ",C(2,1,"TITLE.PICTURE")," "))}function F_(n,r){if(n&1&&(S(0,"img",59),_(1,"cmsthumbnail")),n&2){let e=d().$implicit;f("src",R(C(1,2,e.linkMainImageIdSrc)),ie)}}function N_(n,r){if(n&1&&(a(0,"mat-cell"),v(1,F_,2,4,"img",59),l()),n&2){let e=r.$implicit;o(),E((e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0?1:-1)}}function G_(n,r){if(n&1&&(a(0,"mat-header-cell",58),c(1),l()),n&2){let e=d();o(),h(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function U_(n,r){if(n&1&&(a(0,"mat-cell"),c(1),l()),n&2){let e=r.$implicit;o(),h(" ",e.id," ")}}function q_(n,r){if(n&1&&(a(0,"mat-header-cell",58),c(1),l()),n&2){let e=d();o(),h(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function W_(n,r){if(n&1&&(a(0,"mat-cell"),c(1),_(2,"cmssiteinfo"),_(3,"async"),l()),n&2){let e=r.$implicit;o(),h(" ",C(3,3,C(2,1,e.linkSiteId))," ")}}function j_(n,r){if(n&1&&(a(0,"mat-header-cell",58),c(1),l()),n&2){let e=d();o(),h(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function Q_(n,r){if(n&1&&S(0,"select",61),n&2){let e=d().$implicit,i=d();f("contentService",i.contentService)("row",e)("ngStyle",Ee(3,Ja,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function z_(n,r){if(n&1&&(a(0,"mat-cell",60),_(1,"statusCellClass"),S(2,"i",60),_(3,"statusIconClass"),v(4,Q_,1,5,"select",61),l()),n&2){let e=r.$implicit,i=d();f("ngClass",C(1,3,e.recordStatus)),o(2),f("ngClass",C(3,5,e.recordStatus)),o(2),E(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessEditRow?4:-1)}}function $_(n,r){if(n&1&&(a(0,"mat-header-cell",58),c(1),l()),n&2){let e=d();o(),h(" ",e.fieldsInfo.name==null?null:e.fieldsInfo.name.fieldTitle," ")}}function Y_(n,r){if(n&1&&(a(0,"mat-cell"),c(1),l()),n&2){let e=r.$implicit;o(),h(" ",e.name," ")}}function K_(n,r){if(n&1&&(a(0,"mat-header-cell",58),c(1),l()),n&2){let e=d();o(),h(" ",e.fieldsInfo.lastName==null?null:e.fieldsInfo.lastName.fieldTitle," ")}}function J_(n,r){if(n&1&&(a(0,"mat-cell"),c(1),l()),n&2){let e=r.$implicit;o(),h(" ",e.lastName," ")}}function X_(n,r){if(n&1&&(a(0,"mat-header-cell",58),c(1),l()),n&2){let e=d();o(),h(" ",e.fieldsInfo.companyName==null?null:e.fieldsInfo.companyName.fieldTitle," ")}}function Z_(n,r){if(n&1&&(a(0,"mat-cell"),c(1),l()),n&2){let e=r.$implicit;o(),h(" ",e.companyName," ")}}function eC(n,r){if(n&1&&(a(0,"mat-header-cell",58),c(1),l()),n&2){let e=d();o(),h(" ",e.fieldsInfo.email==null?null:e.fieldsInfo.email.fieldTitle," ")}}function tC(n,r){if(n&1&&(a(0,"mat-cell"),c(1),l()),n&2){let e=r.$implicit;o(),h(" ",e.email," ")}}function iC(n,r){if(n&1&&(a(0,"mat-header-cell",58),c(1),l()),n&2){let e=d();o(),h(" ",e.fieldsInfo.mobile==null?null:e.fieldsInfo.mobile.fieldTitle," ")}}function nC(n,r){if(n&1&&(a(0,"mat-cell"),c(1),l()),n&2){let e=r.$implicit;o(),h(" ",e.mobile," ")}}function oC(n,r){if(n&1&&(a(0,"mat-header-cell",58),c(1),l()),n&2){let e=d();o(),h(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function rC(n,r){if(n&1&&(a(0,"mat-cell"),c(1),_(2,"localeDate"),l()),n&2){let e=r.$implicit;o(),h(" ",C(2,1,e.createdDate)," ")}}function aC(n,r){if(n&1&&(a(0,"mat-header-cell",58),c(1),l()),n&2){let e=d();o(),h(" ",e.fieldsInfo.updatedDate==null?null:e.fieldsInfo.updatedDate.fieldTitle," ")}}function lC(n,r){if(n&1&&(a(0,"mat-cell"),c(1),_(2,"localeDate"),l()),n&2){let e=r.$implicit;o(),h(" ",C(2,1,e.updatedDate)," ")}}function sC(n,r){n&1&&(a(0,"mat-header-cell"),c(1),_(2,"translate"),l()),n&2&&(o(),h(" ",C(2,1,"TITLE.OPTION")," "))}function cC(n,r){if(n&1&&(a(0,"mat-cell",62)(1,"button",63)(2,"mat-icon"),c(3,"more_vert"),l()(),S(4,"mat-menu",null,2),l()),n&2){let e=D(5);o(),f("matMenuTriggerFor",e)}}function dC(n,r){if(n&1&&(a(0,"mat-cell"),c(1),_(2,"translate"),_(3,"localeDate"),l()),n&2){let e=r.$implicit;o(),q(" ",C(2,2,"TITLE.CreationDate")," : ",C(3,4,e.createdDate)," ")}}function pC(n,r){if(n&1&&(S(0,"img",64),_(1,"cmsthumbnail")),n&2){let e=d().$implicit;f("src",R(C(1,2,e.linkMainImageIdSrc)),ie)}}function mC(n,r){if(n&1){let e=I();a(0,"mat-cell")(1,"div")(2,"table")(3,"tr")(4,"th"),v(5,pC,2,4,"img",64),l(),a(6,"th")(7,"span",65),b("click",function(){m(e);let t=d();return u(t.onActionCopied())}),S(8,"i",66),l(),c(9),l()(),a(10,"tr"),S(11,"td"),a(12,"td"),c(13),l()(),a(14,"tr"),S(15,"td"),a(16,"td"),c(17),l()(),a(18,"tr"),S(19,"td"),a(20,"td"),c(21),l()(),a(22,"tr"),S(23,"td"),a(24,"td"),c(25),l()(),a(26,"tr"),S(27,"td"),a(28,"td"),c(29),l()(),a(30,"tr"),S(31,"td"),a(32,"td"),c(33),l()(),a(34,"tr"),S(35,"td")(36,"td"),l()()()()}if(n&2){let e=r.$implicit,i=d();o(5),E((e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0?5:-1),o(2),f("cdkCopyToClipboard",e.id),o(2),h(" ",e.id," "),o(4),q(" ",i.fieldsInfo.username==null?null:i.fieldsInfo.username.fieldTitle," : ",e.username," "),o(4),q(" ",i.fieldsInfo.name==null?null:i.fieldsInfo.name.fieldTitle," : ",e.name," "),o(4),q(" ",i.fieldsInfo.lastName==null?null:i.fieldsInfo.lastName.fieldTitle," : ",e.lastName," "),o(4),q(" ",i.fieldsInfo.mobile==null?null:i.fieldsInfo.mobile.fieldTitle," : ",e.mobile," "),o(4),q(" ",i.fieldsInfo.email==null?null:i.fieldsInfo.email.fieldTitle," : ",e.email," "),o(4),q(" ",i.fieldsInfo.companyName==null?null:i.fieldsInfo.companyName.fieldTitle," : ",e.companyName," ")}}function uC(n,r){n&1&&S(0,"mat-header-row")}function fC(n,r){if(n&1){let e=I();a(0,"mat-row",67),b("click",function(t){let s=m(e).$implicit,p=d();return u(p.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=m(e).$implicit,p=d();return u(p.onActionTableRowSelect(s,t))})("mouseenter",function(){let t=m(e).$implicit,s=d();return u(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=m(e).$implicit,s=d();return u(s.onActionTableRowMouseLeave(t))}),l()}if(n&2){let e=r.$implicit,i=r.dataIndex,t=d();j("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",e.id===(t.tableRowSelected==null?null:t.tableRowSelected.id))}}function _C(n,r){if(n&1){let e=I();a(0,"mat-row",68),b("click",function(t){let s=m(e).$implicit,p=d();return u(p.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=m(e).$implicit,p=d();return u(p.onActionTableRowSelect(s,t))})("mouseenter",function(){let t=m(e).$implicit,s=d();return u(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=m(e).$implicit,s=d();return u(s.onActionTableRowMouseLeave(t))}),l()}if(n&2){let e=r.$implicit,i=r.dataIndex,t=d();j("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",e.id===(t.tableRowSelected==null?null:t.tableRowSelected.id))}}function CC(n,r){if(n&1){let e=I();a(0,"mat-row",69),b("click",function(t){let s=m(e).$implicit,p=d();return u(p.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=m(e).$implicit,p=d();return u(p.onActionTableRowSelect(s,t))})("mouseenter",function(){let t=m(e).$implicit,s=d();return u(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=m(e).$implicit,s=d();return u(s.onActionTableRowMouseLeave(t))}),l()}if(n&2){let e=r.$implicit,i=r.dataIndex,t=d();j("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",e.id===(t.tableRowSelected==null?null:t.tableRowSelected.id)),f("ngStyle",Ee(7,Ja,e.expanded===!0?"":"none"))}}function hC(n,r){if(n&1){let e=I();a(0,"div",55)(1,"button",70),b("click",function(){m(e);let t=d();return u(t.onFormCancel())}),S(2,"i",71),c(3),_(4,"translate"),l()()}n&2&&(o(3),h(" ",C(4,1,"ACTION.CANCEL")," "))}var _o=class _o extends Ut{constructor(e,i,t,s,p,y,z,Me,Ce,et,We,Ge){super(t,new Si,We,y,Ce);this.data=e;this.dialogRef=i;this.contentService=t;this.cmsToastrService=s;this.cmsStoreService=p;this.tokenHelper=y;this.router=z;this.cdr=Me;this.translate=Ce;this.pageInfo=et;this.publicHelper=We;this.dialog=Ge;this.requestTitle="";this.requestPropertyId="";this.constructorInfoAreaId=this.constructor.name;this.tablePropertySelected=[];this.filteModelContent=new re;this.filterDataModelQueryBuilder=[];this.optionsSearch=new Vi;this.optionsStatist=new Oi;this.tokenInfo=new ni;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["linkMainImageIdSrc","id","recordStatus","Name","LastName","CompanyName","email","mobile","action_menu"];this.tabledisplayedColumnsMobileSource=["id","recordStatus","Name","LastName","action_menu"];this.fieldsInfo=new Map;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,e&&(e.title&&(this.requestTitle=e.title+""),e.id&&(this.requestPropertyId=e.id+"")),this.optionsSearch.parentMethods={onSubmit:tt=>this.onSubmitOptionsSearch(tt)}}ngOnInit(){this.translate.get("TITLE.QUICK_VIEW").subscribe(e=>{this.formInfo.formTitle=e}),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>$(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Si);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.contentService.ServiceGetAllResponsibleUserId(this.requestPropertyId,i).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),t.isSuccess?(this.dataModelResult=t,this.tableSource.data=t.listItems):this.cmsToastrService.typeErrorGetAll(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=ae.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=ae.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=ae.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonReload(){this.DataGetAll()}onActionCopied(){this.cmsToastrService.typeSuccessCopedToClipboard()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/ticketing/departemen/"])}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};_o.\u0275fac=function(i){return new(i||_o)(g(ze),g(He),g(wt),g(F),g(Y),g(K),g(ii),g(G),g(H),g(Ze),g(U),g(Z))},_o.\u0275cmp=B({type:_o,selectors:[["app-estate-property-responsible-user-list"]],standalone:!1,features:[we],decls:83,vars:30,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection","loader-container"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionActionRowDisplayMenuAct","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-maximize","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-minimize","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[1,"custom-slide-toggle",3,"ngModelChange","ngModel"],["cms-action-main",""],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","","multiTemplateDataRows","",3,"matSortChange","dataSource"],["matColumnDef","action_menu"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","linkMainImageIdSrc"],["mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","id"],["matColumnDef","linkSiteId"],["matColumnDef","recordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","Name"],["matColumnDef","LastName"],["matColumnDef","CompanyName"],["matColumnDef","email"],["matColumnDef","mobile"],["matColumnDef","createdDate"],["matColumnDef","updatedDate"],["matColumnDef","Action"],["class","Action",4,"matCellDef"],["matColumnDef","expandedTitle"],["matColumnDef","expandedDetail"],[4,"matHeaderRowDef"],["class","ntk-row-expandedTitle",3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["class","ntk-row-expandedDetail",3,"ntk-row-odd","ntk-row-even","ntk-row-selected","ngStyle","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],[1,"ntk-cms-html-card-message"],[3,"formInfo"],[1,"ntk-cms-html-card-footer"],[1,"form-actions"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"click"],[1,"fa","fa-bars","font-18"],["mat-sort-header",""],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],["aria-hidden","","height","80","width","80",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"navi-icon","pointer",3,"click","cdkCopyToClipboard"],[1,"flaticon2-copy"],[1,"ntk-row-expandedTitle",3,"click","rtclick","mouseenter","mouseleave"],[3,"click","rtclick","mouseenter","mouseleave"],[1,"ntk-row-expandedDetail",3,"click","rtclick","mouseenter","mouseleave","ngStyle"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(i,t){if(i&1){let s=I();a(0,"div",3),S(1,"app-progress-spinner",4),a(2,"div",5),c(3),l(),a(4,"div",6)(5,"app-cms-html-list",7),k("optionActionGuideNoticeDisplayChange",function(y){return m(s),A(t.viewGuideNotice,y)||(t.viewGuideNotice=y),u(y)}),b("optionOnActionButtonMemoRow",function(){return m(s),u(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return m(s),u(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return m(s),u(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return m(s),u(t.onActionButtonPrintRow())}),Le(6,8)(7,9)(8,10),T(9,11),a(10,"a",12),b("click",function(){return m(s),u(t.onActionButtonReload())}),S(11,"i",13),l(),a(12,"a",14),b("click",function(){return m(s),u(t.onActionGridExpandRows(!0))}),S(13,"i",15),l(),a(14,"a",14),b("click",function(){return m(s),u(t.onActionGridExpandRows(!1))}),S(15,"i",16),l(),w(),T(16,17),a(17,"a",18)(18,"mat-slide-toggle",19),k("ngModelChange",function(y){return m(s),A(t.optionsSearch.data.show,y)||(t.optionsSearch.data.show=y),u(y)}),l(),c(19),_(20,"translate"),l(),w(),Le(21,20)(22,21),T(23,22),a(24,"app-cms-search-list",23),k("optionsChange",function(y){return m(s),A(t.optionsSearch,y)||(t.optionsSearch=y),u(y)}),l(),a(25,"app-cms-statist-list",23),k("optionsChange",function(y){return m(s),A(t.optionsStatist,y)||(t.optionsStatist=y),u(y)}),l(),w(),T(26,24),a(27,"mat-table",25,0),b("matSortChange",function(){m(s);let y=D(28);return u(t.onTableSortData(y))}),T(29,26),x(30,O_,3,3,"mat-header-cell",27)(31,B_,3,0,"mat-cell",28),w(),T(32,29),x(33,H_,3,3,"mat-header-cell",30)(34,N_,2,1,"mat-cell",28),w(),T(35,31),x(36,G_,2,1,"mat-header-cell",30)(37,U_,2,1,"mat-cell",28),w(),T(38,32),x(39,q_,2,1,"mat-header-cell",30)(40,W_,4,5,"mat-cell",28),w(),T(41,33),x(42,j_,2,1,"mat-header-cell",30)(43,z_,5,7,"mat-cell",34),w(),T(44,35),x(45,$_,2,1,"mat-header-cell",30)(46,Y_,2,1,"mat-cell",28),w(),T(47,36),x(48,K_,2,1,"mat-header-cell",30)(49,J_,2,1,"mat-cell",28),w(),T(50,37),x(51,X_,2,1,"mat-header-cell",30)(52,Z_,2,1,"mat-cell",28),w(),T(53,38),x(54,eC,2,1,"mat-header-cell",30)(55,tC,2,1,"mat-cell",28),w(),T(56,39),x(57,iC,2,1,"mat-header-cell",30)(58,nC,2,1,"mat-cell",28),w(),T(59,40),x(60,oC,2,1,"mat-header-cell",30)(61,rC,3,3,"mat-cell",28),w(),T(62,41),x(63,aC,2,1,"mat-header-cell",30)(64,lC,3,3,"mat-cell",28),w(),T(65,42),x(66,sC,3,3,"mat-header-cell",27)(67,cC,6,1,"mat-cell",43),w(),T(68,44),x(69,dC,4,6,"mat-cell",28),w(),T(70,45),x(71,mC,37,15,"mat-cell",28),w(),x(72,uC,1,0,"mat-header-row",46)(73,fC,1,6,"mat-row",47)(74,_C,1,6,"mat-row",48)(75,CC,1,9,"mat-row",49),l(),w(),T(76,50),a(77,"mat-paginator",51,1),b("page",function(y){return m(s),u(t.onTablePageingData(y))}),l(),w(),l()(),a(79,"div",52),S(80,"app-cms-form-result-message",53),l(),a(81,"div",54),v(82,hC,5,3,"div",55),l()()}i&2&&(o(),f("optionsInfoAreaId",t.constructorInfoAreaId),o(2),h(" ",t.formInfo.formTitle," "),o(2),f("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),P("optionActionGuideNoticeDisplay",t.viewGuideNotice),f("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionActionRowDisplayMenuAct",t.tableRowSelectActionMenuClick)("optionSelectRowItemTitle",(t.tableRowSelected==null||t.tableRowSelected.username==null?null:t.tableRowSelected.username.length)>0?t.tableRowSelected==null?null:t.tableRowSelected.username:t.tableRowSelected==null?null:t.tableRowSelected.id),o(13),P("ngModel",t.optionsSearch.data.show),o(),h("",C(20,25,"ACTION.SEARCH")," "),o(5),P("options",t.optionsSearch),o(),P("options",t.optionsStatist),o(2),f("dataSource",t.tableSource),o(45),f("matHeaderRowDef",t.tabledisplayedColumns),o(),f("matRowDefColumns",ne(27,D_)),o(),f("matRowDefColumns",t.tabledisplayedColumns),o(),f("matRowDefColumns",ne(28,L_)),o(2),f("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",ne(29,V_)),o(3),f("formInfo",t.formInfo),o(2),E(t.formInfo.submitButtonEnabled?82:-1))},dependencies:[se,Qe,X,xe,Be,de,te,Vt,Ot,Bt,Ht,Ft,Nt,ct,pt,_t,mt,dt,Ct,ut,ft,ht,St,xt,qt,Wt,W,Ne,jt,Qt,zt,be,N,ai,Fe,Bi,$t,Yt],encapsulation:2});var Sr=_o;var Co=class Co{constructor(r,e,i,t,s,p,y,z){this.headerService=r;this.publicHelper=e;this.cdr=i;this.tokenHelper=t;this.cmsStoreService=s;this.cmsToastrService=p;this.dialog=y;this.translate=z;this.constructorInfoAreaId=this.constructor.name;this.optionId="";this.dataModelResult=new Q;this.fieldsInfo=new Map;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr}ngOnInit(){this.optionId.length>0&&(this.DataGetOneContent(),this.unsubscribe.push(this.cmsStoreService.getState(r=>r.tokenInfoStore).subscribe(()=>$(this,null,function*(){this.DataGetOneContent()}))))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(r=>r.unsubscribe())}DataGetOneContent(){let r=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(r,e,this.constructorInfoAreaId)}),this.headerService.setAccessLoad(),this.headerService.ServiceGetOneById(this.optionId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),e.isSuccess?this.dataModelResult=e:this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(r)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(r,!1)}})}};Co.\u0275fac=function(e){return new(e||Co)(g(Br),g(U),g(G),g(K),g(Y),g(F),g(Z),g(H))},Co.\u0275cmp=B({type:Co,selectors:[["app-estate-property-company-header"]],inputs:{optionId:"optionId"},standalone:!1,decls:27,vars:9,consts:[[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content"],[1,"table"],[1,"tr"],[1,"td","small-width"],[1,"svg-icon","svg-icon-3x","svg-icon-primary",3,"inlineSVG"],[1,"td","large-width",2,"color","darkblue"],[1,"td",2,"text-align","left"],[1,"td","large-width"],[1,"td"],[2,"clear","both"],[1,"divider","divider-margins"]],template:function(e,i){e&1&&(a(0,"div",0),S(1,"app-progress-spinner",1),a(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),S(6,"span",6),l(),a(7,"div",7)(8,"h5")(9,"b"),c(10),_(11,"translate"),l()()(),S(12,"div",8),l(),a(13,"div",4)(14,"div",5),c(15),l(),a(16,"div",9),c(17),l(),S(18,"div",10)(19,"div",11),l(),a(20,"div",4)(21,"div",5),c(22),l(),a(23,"div",9),c(24),l(),S(25,"div",11),l()()()(),S(26,"div",12)),e&2&&(o(),f("optionsInfoAreaId",i.constructorInfoAreaId),o(5),f("inlineSVG","./assets/media/svg/icons/Communication/Flag.svg"),o(4),M(C(11,7,"TITLE.Selected_Company")),o(5),h("",i.fieldsInfo.id==null?null:i.fieldsInfo.id.fieldTitle," :"),o(2),M(i.dataModelResult==null||i.dataModelResult.item==null?null:i.dataModelResult.item.id),o(5),h(" ",i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle," : "),o(2),M(i.dataModelResult==null||i.dataModelResult.item==null?null:i.dataModelResult.item.title))},dependencies:[W,yt,N],styles:[".table[_ngcontent-%COMP%]{display:table;border:1px solid #40a1f5;padding:2px;background:#fff;border-radius:5px}.table[_ngcontent-%COMP%]   .th[_ngcontent-%COMP%]{display:table-row;background-color:#40a1f577;color:#fff;font-weight:700}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f9f9f9}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]{display:table-row;border-bottom:1px solid #000}.table[_ngcontent-%COMP%]   .td[_ngcontent-%COMP%]{display:table-cell;padding:15px;border-bottom:1px solid #40a1f5;color:#3d7c7a}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:last-child   .td[_ngcontent-%COMP%]{border:0}.small-width[_ngcontent-%COMP%]{width:90px}.large-width[_ngcontent-%COMP%]{width:400px}.clear[_ngcontent-%COMP%]{clear:both}"]});var yr=Co;var yC=()=>["expandedTitle"],gC=()=>["expandedDetail"],vC=()=>[5,10,20,100],Za=n=>({display:n}),EC=n=>({background:n});function bC(n,r){if(n&1&&S(0,"app-core-user-header",15),n&2){let e=d();f("optionId",e.requestLinkUserId)}}function IC(n,r){if(n&1&&S(0,"app-estate-billboard-header",15),n&2){let e=d();f("optionId",e.requestLinkBillboardId)}}function MC(n,r){if(n&1&&S(0,"app-estate-contract-type-header",15),n&2){let e=d();f("optionId",e.requestLinkContractTypeId)}}function TC(n,r){if(n&1&&S(0,"app-estate-customer-order-header",15),n&2){let e=d();f("optionId",e.requestLinkCustomerOrderId)}}function wC(n,r){if(n&1&&S(0,"app-estate-property-type-landuse-header",15),n&2){let e=d();f("optionId",e.requestLinkPropertyTypeLanduseId)}}function xC(n,r){if(n&1&&S(0,"app-estate-property-type-usage-header",15),n&2){let e=d();f("optionId",e.requestLinkPropertyTypeUsageId)}}function PC(n,r){if(n&1&&S(0,"app-estate-property-project-header",15),n&2){let e=d();f("optionId",e.requestLinkProjectId)}}function AC(n,r){if(n&1&&S(0,"app-estate-property-company-header",15),n&2){let e=d();f("optionId",e.requestLinkCompanyId)}}function kC(n,r){if(n&1){let e=I();a(0,"a",87),b("click",function(){m(e);let t=d();return u(t.onActionBackToParent())}),S(1,"i",88),l()}}function RC(n,r){if(n&1){let e=I();a(0,"div",33)(1,"a",89),b("click",function(t){m(e);let s=d();return u(s.onActionButtonNewRow(t))}),S(2,"i",90)(3,"br"),l(),a(4,"p",36),c(5),_(6,"translate"),l()()}n&2&&(o(5),h(" ",C(6,1,"ACTION.ADD")," "))}function DC(n,r){if(n&1){let e=I();a(0,"div",33)(1,"a",91),b("click",function(t){m(e);let s=d();return u(s.onActionButtonQuickAddRow(t))}),S(2,"i",90)(3,"br"),l(),a(4,"p",36),c(5),_(6,"translate"),l()()}n&2&&(o(5),h(" ",C(6,1,"ACTION.QUICK_ADD")," "))}function LC(n,r){if(n&1){let e=I();a(0,"div",33)(1,"a",92),b("click",function(t){m(e);let s=d();return u(s.onActionButtonEditRow(s.tableRowSelected,t))}),S(2,"i",93)(3,"br"),l(),a(4,"p",36),c(5),_(6,"translate"),l()()}n&2&&(o(5),h(" ",C(6,1,"ACTION.EDIT")," "))}function VC(n,r){if(n&1){let e=I();a(0,"div",33)(1,"a",94),b("click",function(){m(e);let t=d();return u(t.onActionButtonDeleteRow(t.tableRowSelected))}),S(2,"i",95)(3,"br"),l(),a(4,"p",36),c(5),_(6,"translate"),l()()}n&2&&(o(5),h(" ",C(6,1,"ACTION.DELETE")," "))}function OC(n,r){if(n&1){let e=I();a(0,"div",33)(1,"a",23),b("click",function(){m(e);let t=d();return u(t.onActionButtonActionSendSmsToCustomerOrder())}),S(2,"i",96)(3,"br"),l(),a(4,"p",36),c(5),_(6,"translate"),l()()}n&2&&(o(5),h(" ",C(6,1,"ACTION.ActionSendSmsToCustomerOrder")," "))}function BC(n,r){if(n&1){let e=I();a(0,"div",33)(1,"a",23),b("click",function(t){m(e);let s=d();return u(s.onActionButtonAdsRow(s.tableRowSelected,t))}),S(2,"i",97)(3,"br"),l(),a(4,"p",36),c(5),_(6,"translate"),l()()}n&2&&(o(5),h(" ",C(6,1,"ACTION.ADS")," "))}function HC(n,r){if(n&1&&(a(0,"button",39),c(1),_(2,"translate"),l()),n&2){let e=d();f("routerLink",R("/core/site/edit/"+(e.tableRowSelected==null?null:e.tableRowSelected.linkSiteId))),o(),h(" ",C(2,3,"ACTION.VIEW_SITE")," ")}}function FC(n,r){if(n&1){let e=I();a(0,"mat-icon",98),b("click",function(){m(e);let t=d();return u(t.filteModelContent.caseCode="")}),c(1," close"),l()}}function NC(n,r){if(n&1){let e=I();a(0,"app-cms-user-selector",100),_(1,"translate"),b("optionChange",function(t){m(e);let s=d(2);return u(s.filteModelContent.linkResponsibleUserId=t==null?null:t.id)}),l()}n&2&&f("optionPlaceholder",C(1,1,"TITLE.InResponsibleTo"))}function GC(n,r){if(n&1){let e=I();a(0,"div",102)(1,"label",108),c(2),l(),a(3,"input",109,3),k("ngModelChange",function(t){m(e);let s=d(2);return A(s.filteModelContent.createdYaer,t)||(s.filteModelContent.createdYaer=t),u(t)}),l()()}if(n&2){let e=d(2);o(2),M(e.PropertyTypeSelected.titleCreatedYaer),o(),f("placeholder",R(e.fieldsInfo.createdYaer==null?null:e.fieldsInfo.createdYaer.fieldTitle)),P("ngModel",e.filteModelContent.createdYaer)}}function UC(n,r){if(n&1){let e=I();a(0,"div",102)(1,"label",110),c(2),l(),a(3,"input",111,4),k("ngModelChange",function(t){m(e);let s=d(2);return A(s.filteModelContent.partition,t)||(s.filteModelContent.partition=t),u(t)}),l()()}if(n&2){let e=d(2);o(2),M(e.PropertyTypeSelected.titlePartition),o(),f("placeholder",R(e.PropertyTypeSelected.titlePartition)),P("ngModel",e.filteModelContent.partition)}}function qC(n,r){if(n&1){let e=I();a(0,"div",102)(1,"label",112),c(2),l(),a(3,"input",113,5),k("ngModelChange",function(t){m(e);let s=d(2);return A(s.filteModelContent.area,t)||(s.filteModelContent.area=t),u(t)}),l(),a(5,"em"),c(6),l()()}if(n&2){let e=d(2);o(2),M(e.fieldsInfo.area==null?null:e.fieldsInfo.area.fieldTitle),o(),f("placeholder",R(e.fieldsInfo.area==null?null:e.fieldsInfo.area.fieldTitle)),P("ngModel",e.filteModelContent.area),o(3),M(e.fieldsInfo.area==null?null:e.fieldsInfo.area.fieldDescription)}}function WC(n,r){if(n&1){let e=I();a(0,"div",102)(1,"label",114),c(2),_(3,"translate"),l(),a(4,"input",115,6),k("ngModelChange",function(t){m(e);let s=d(2);return A(s.filteModelContent.salePriceMin,t)||(s.filteModelContent.salePriceMin=t),u(t)}),l()()}if(n&2){let e=d(2);o(2),M(C(3,2,"TITLE.SalePriceMin")),o(2),P("ngModel",e.filteModelContent.salePriceMin)}}function jC(n,r){if(n&1){let e=I();a(0,"div",102)(1,"label",116),c(2),_(3,"translate"),l(),a(4,"input",117,7),k("ngModelChange",function(t){m(e);let s=d(2);return A(s.filteModelContent.rentPriceMin,t)||(s.filteModelContent.rentPriceMin=t),u(t)}),l()()}if(n&2){let e=d(2);o(2),M(C(3,2,"TITLE.RentPriceMin")),o(2),P("ngModel",e.filteModelContent.rentPriceMin)}}function QC(n,r){if(n&1){let e=I();a(0,"div",102)(1,"label",118),c(2),_(3,"translate"),l(),a(4,"input",119,8),k("ngModelChange",function(t){m(e);let s=d(2);return A(s.filteModelContent.depositPriceMin,t)||(s.filteModelContent.depositPriceMin=t),u(t)}),l()()}if(n&2){let e=d(2);o(2),M(C(3,2,"TITLE.DepositPriceMin")),o(2),P("ngModel",e.filteModelContent.depositPriceMin)}}function zC(n,r){if(n&1){let e=I();a(0,"div",102)(1,"label",120),c(2),_(3,"translate"),l(),a(4,"input",121,9),k("ngModelChange",function(t){m(e);let s=d(2);return A(s.filteModelContent.periodPriceMin,t)||(s.filteModelContent.periodPriceMin=t),u(t)}),l()()}if(n&2){let e=d(2);o(2),M(C(3,2,"TITLE.PeriodPriceMin")),o(2),P("ngModel",e.filteModelContent.periodPriceMin)}}function $C(n,r){if(n&1){let e=I();a(0,"div",102)(1,"label",122),c(2),_(3,"translate"),l(),a(4,"input",123,10),k("ngModelChange",function(t){m(e);let s=d(2);return A(s.filteModelContent.salePriceMax,t)||(s.filteModelContent.salePriceMax=t),u(t)}),l()()}if(n&2){let e=d(2);o(2),M(C(3,2,"TITLE.SalePriceMax")),o(2),P("ngModel",e.filteModelContent.salePriceMax)}}function YC(n,r){if(n&1){let e=I();a(0,"div",102)(1,"label",124),c(2),_(3,"translate"),l(),a(4,"input",125,11),k("ngModelChange",function(t){m(e);let s=d(2);return A(s.filteModelContent.rentPriceMax,t)||(s.filteModelContent.rentPriceMax=t),u(t)}),l()()}if(n&2){let e=d(2);o(2),h("",C(3,2,"TITLE.RentPriceMax")," "),o(2),P("ngModel",e.filteModelContent.rentPriceMax)}}function KC(n,r){if(n&1){let e=I();a(0,"div",102)(1,"label",126),c(2),_(3,"translate"),l(),a(4,"input",127,12),k("ngModelChange",function(t){m(e);let s=d(2);return A(s.filteModelContent.depositPriceMax,t)||(s.filteModelContent.depositPriceMax=t),u(t)}),l()()}if(n&2){let e=d(2);o(2),M(C(3,2,"TITLE.DepositPriceMax")),o(2),P("ngModel",e.filteModelContent.depositPriceMax)}}function JC(n,r){if(n&1){let e=I();a(0,"div",102)(1,"label",128),c(2),_(3,"translate"),l(),a(4,"input",129,13),k("ngModelChange",function(t){m(e);let s=d(2);return A(s.filteModelContent.periodPriceMax,t)||(s.filteModelContent.periodPriceMax=t),u(t)}),l()()}if(n&2){let e=d(2);o(2),M(C(3,2,"TITLE.PeriodPriceMax")),o(2),P("ngModel",e.filteModelContent.periodPriceMax)}}function XC(n,r){if(n&1){let e=I();a(0,"div",43),S(1,"i",134),c(2,"\xA0 "),a(3,"app-input-string",135),k("modelChange",function(t){m(e);let s=d().$implicit,p=d(3);return A(p.propertyDetails[s.id],t)||(p.propertyDetails[s.id]=t),u(t)}),l()()}if(n&2){let e=d().$implicit,i=d(3);o(),ve("color",e.iconColor),f("ngClass",e.iconFont),o(2),Mt(ge("color:'",e.iconColor,"';")),P("model",i.propertyDetails[e.id]),f("optionForceUseDefaultValue",e.configValueForceUseDefaultValue)("optionMultipleChoice",e.configValueMultipleChoice)("optionDefaultValue",e.configValueDefaultValues)("optionRequired",e.required)("optionLabel",e.title)}}function ZC(n,r){if(n&1){let e=I();a(0,"div",43),S(1,"i",134),c(2,"\xA0 "),a(3,"app-input-int",136),k("modelChange",function(t){m(e);let s=d().$implicit,p=d(3);return A(p.propertyDetails[s.id],t)||(p.propertyDetails[s.id]=t),u(t)}),l()()}if(n&2){let e=d().$implicit,i=d(3);o(),ve("color",e.iconColor),f("ngClass",e.iconFont),o(2),Mt(ge("color:'",e.iconColor,"';")),P("model",i.propertyDetails[e.id]),f("optionRequired",e.required)("optionLabel",e.title)}}function e1(n,r){if(n&1){let e=I();a(0,"div",43),S(1,"i",134),c(2,"\xA0 "),a(3,"app-input-boolean",137),k("modelChange",function(t){m(e);let s=d().$implicit,p=d(3);return A(p.propertyDetails[s.id],t)||(p.propertyDetails[s.id]=t),u(t)}),c(4),l()()}if(n&2){let e=d().$implicit,i=d(3);o(),ve("color",e.iconColor),f("ngClass",e.iconFont),o(2),P("model",i.propertyDetails[e.id]),o(),h("",e.title," ")}}function t1(n,r){if(n&1){let e=I();a(0,"div",43),S(1,"i",134),c(2,"\xA0 "),a(3,"app-input-float",136),k("modelChange",function(t){m(e);let s=d().$implicit,p=d(3);return A(p.propertyDetails[s.id],t)||(p.propertyDetails[s.id]=t),u(t)}),l()()}if(n&2){let e=d().$implicit,i=d(3);o(),ve("color",e.iconColor),f("ngClass",e.iconFont),o(2),Mt(ge("color:'",e.iconColor,"';")),P("model",i.propertyDetails[e.id]),f("optionRequired",e.required)("optionLabel",e.title)}}function i1(n,r){if(n&1){let e=I();a(0,"div",43),S(1,"i",134),c(2,"\xA0 "),a(3,"label"),c(4),l(),a(5,"app-input-date",138),k("modelChange",function(t){m(e);let s=d().$implicit,p=d(3);return A(p.propertyDetails[s.id],t)||(p.propertyDetails[s.id]=t),u(t)}),l()()}if(n&2){let e=d().$implicit,i=d(3);o(),ve("color",e.iconColor),f("ngClass",e.iconFont),o(2),Mt(ge("color:'",e.iconColor,"';")),o(),M(e.title),o(),P("model",i.propertyDetails[e.id]),f("optionRequired",e.required)}}function n1(n,r){if(n&1){let e=I();a(0,"div",43),S(1,"i",134),c(2,"\xA0 "),a(3,"app-input-textarea",136),k("modelChange",function(t){m(e);let s=d().$implicit,p=d(3);return A(p.propertyDetails[s.id],t)||(p.propertyDetails[s.id]=t),u(t)}),l()()}if(n&2){let e=d().$implicit,i=d(3);o(),ve("color",e.iconColor),f("ngClass",e.iconFont),o(2),Mt(ge("color:'",e.iconColor,"';")),P("model",i.propertyDetails[e.id]),f("optionRequired",e.required)("optionLabel",e.title)}}function o1(n,r){if(n&1){let e=I();a(0,"div",43),S(1,"i",134),c(2,"\xA0 "),a(3,"app-input-string",135),k("modelChange",function(t){m(e);let s=d().$implicit,p=d(3);return A(p.propertyDetails[s.id],t)||(p.propertyDetails[s.id]=t),u(t)}),l()()}if(n&2){let e=d().$implicit,i=d(3);o(),ve("color",e.iconColor),f("ngClass",e.iconFont),o(2),Mt(ge("color:'",e.iconColor,"';")),P("model",i.propertyDetails[e.id]),f("optionForceUseDefaultValue",e.configValueForceUseDefaultValue)("optionMultipleChoice",e.configValueMultipleChoice)("optionDefaultValue",e.configValueDefaultValues)("optionRequired",e.required)("optionLabel",e.title)}}function r1(n,r){if(n&1&&v(0,XC,4,12,"div",43)(1,ZC,4,9,"div",43)(2,e1,5,5,"div",43)(3,t1,4,9,"div",43)(4,i1,6,9,"div",43)(5,n1,4,9,"div",43)(6,o1,4,12,"div",43),n&2){let e,i=r.$implicit,t=d(3);E((e=i.inputDataType)===t.enumInputDataType.String?0:e===t.enumInputDataType.Int?1:e===t.enumInputDataType.Boolean?2:e===t.enumInputDataType.Float?3:e===t.enumInputDataType.Date?4:e===t.enumInputDataType.TextArea?5:6)}}function a1(n,r){if(n&1){let e=I();a(0,"button",139),b("click",function(){m(e);let t=d(3);return u(t.prevStep())}),c(1),_(2,"translate"),l()}n&2&&(o(),h(" ",C(2,1,"ACTION.PREVIOUS")," "))}function l1(n,r){if(n&1){let e=I();a(0,"button",140),b("click",function(){m(e);let t=d(3);return u(t.nextStep())}),c(1),_(2,"translate"),l()}n&2&&(o(),h(" ",C(2,1,"ACTION.NEXT")," "))}function s1(n,r){if(n&1){let e=I();a(0,"button",140),b("click",function(){m(e);let t=d(3);return u(t.nextStep())}),c(1),_(2,"translate"),l()}n&2&&(o(),h(" ",C(2,1,"ACTION.END")," "))}function c1(n,r){if(n&1){let e=I();a(0,"mat-expansion-panel",130),b("opened",function(){let t=m(e).$index,s=d(2);return u(s.setStep(t))}),a(1,"mat-expansion-panel-header")(2,"mat-panel-title"),c(3),l(),a(4,"mat-panel-description"),c(5),a(6,"mat-icon",131),c(7),l()()(),Se(8,r1,7,1,null,null,he),a(10,"mat-action-row"),v(11,a1,3,3,"button",132),v(12,l1,3,3,"button",133),v(13,s1,3,3,"button",133),l()()}if(n&2){let e=r.$implicit,i=r.$index,t=d(2);f("expanded",t.step===i),o(3),h(" ",e.title," "),o(2),h(" ",e.description," "),o(2),M(e.iconFont),o(),ye(e.propertyDetails),o(3),E(i>0?11:-1),o(),E(i+1<t.dataModelPropertyDetailGroups.length?12:-1),o(),E(i+1===t.dataModelPropertyDetailGroups.length?13:-1)}}function d1(n,r){if(n&1){let e=I();a(0,"div")(1,"P"),c(2),_(3,"translate"),l(),v(4,NC,2,3,"app-cms-user-selector",99),a(5,"app-cms-location-autocomplete",100),_(6,"translate"),b("optionChange",function(t){m(e);let s=d();return u(s.onActionSelectorLocation(t))}),l(),S(7,"hr"),a(8,"app-estate-property-type-usage-selector",101),_(9,"translate"),b("optionChange",function(t){m(e);let s=d();return u(s.onActionSelectorSelectUsage(t))}),l(),S(10,"br")(11,"br")(12,"br"),a(13,"app-estate-property-type-landuse-selector",101),_(14,"translate"),b("optionChange",function(t){m(e);let s=d();return u(s.onActionSelectorSelectLanduse(t))}),l(),S(15,"br")(16,"br")(17,"br"),a(18,"app-estate-contract-type-selector",101),_(19,"translate"),b("optionChange",function(t){m(e);let s=d();return u(s.onActionSelectorContarctType(t))}),l(),S(20,"br")(21,"br")(22,"br"),v(23,GC,5,4,"div",102),v(24,UC,5,4,"div",102),v(25,qC,7,5,"div",102),S(26,"hr"),a(27,"app-cms-currency-selector",103),_(28,"translate"),b("optionChange",function(t){m(e);let s=d();return u(s.onActionSelectCurrency(t))}),l(),a(29,"div",104)(30,"div",105),v(31,WC,6,4,"div",102),v(32,jC,6,4,"div",102),v(33,QC,6,4,"div",102),v(34,zC,6,4,"div",102),l(),a(35,"div",105),v(36,$C,6,4,"div",102),v(37,YC,6,4,"div",102),v(38,KC,6,4,"div",102),v(39,JC,6,4,"div",102),l(),a(40,"mat-accordion",106),Se(41,c1,14,7,"mat-expansion-panel",107,he),S(43,"br"),l()()()}if(n&2){let e=d();o(2),h("",C(3,23,"MESSAGE.Selecting_any_of_the_following_will_make_the_search_results_range_smaller")," "),o(2),E(e.tokenHelper.isAdminSite?4:-1),o(),f("optionPlaceholder",C(6,25,"TITLE.Region")),o(3),f("optionTypeView",2)("optionPlaceholder",C(9,27,"TITLE.Type_Usage")),o(5),f("optionTypeView",2)("optionPlaceholder",C(14,29,"TITLE.Property_Type")),o(5),f("optionTypeView",2)("optionPlaceholder",C(19,31,"TITLE.Transaction_type")),o(5),E(e.filteModelContent.linkPropertyTypeLanduseId&&(e.PropertyTypeSelected==null||e.PropertyTypeSelected.titleCreatedYaer==null?null:e.PropertyTypeSelected.titleCreatedYaer.length)>1?23:-1),o(),E(e.filteModelContent.linkPropertyTypeLanduseId&&(e.PropertyTypeSelected==null||e.PropertyTypeSelected.titlePartition==null?null:e.PropertyTypeSelected.titlePartition.length)>1?24:-1),o(),E(e.fieldsInfo.area!=null&&e.fieldsInfo.area.accessWatchField?25:-1),o(2),f("optionSelectFirstItem",!1)("optionSelectForce",e.filteModelContent.linkCoreCurrencyId)("optionPlaceholder",C(28,33,"TITLE.Specify_the_transaction_currency")),o(4),E(e.contractTypeSelected!=null&&e.contractTypeSelected.hasSalePrice?31:-1),o(),E(e.contractTypeSelected!=null&&e.contractTypeSelected.hasRentPrice?32:-1),o(),E(e.contractTypeSelected!=null&&e.contractTypeSelected.hasDepositPrice?33:-1),o(),E(e.contractTypeSelected!=null&&e.contractTypeSelected.hasDepositPrice?34:-1),o(2),E(e.contractTypeSelected!=null&&e.contractTypeSelected.hasSalePrice?36:-1),o(),E(e.contractTypeSelected!=null&&e.contractTypeSelected.hasRentPrice?37:-1),o(),E(e.contractTypeSelected!=null&&e.contractTypeSelected.hasDepositPrice?38:-1),o(),E(e.contractTypeSelected!=null&&e.contractTypeSelected.hasDepositPrice?39:-1),o(2),ye(e.dataModelPropertyDetailGroups)}}function p1(n,r){n&1&&S(0,"mat-header-row")}function m1(n,r){if(n&1){let e=I();a(0,"mat-row",141),b("click",function(t){let s=m(e).$implicit,p=d();return u(p.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=m(e).$implicit,p=d();return u(p.onActionTableRowSelect(s,t))})("mouseenter",function(){let t=m(e).$implicit,s=d();return u(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=m(e).$implicit,s=d();return u(s.onActionTableRowMouseLeave(t))}),l()}if(n&2){let e=r.$implicit,i=d();j("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}function u1(n,r){if(n&1){let e=I();a(0,"mat-row",142),b("click",function(t){let s=m(e).$implicit,p=d();return u(p.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=m(e).$implicit,p=d();return u(p.onActionTableRowSelect(s,t))})("mouseenter",function(){let t=m(e).$implicit,s=d();return u(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=m(e).$implicit,s=d();return u(s.onActionTableRowMouseLeave(t))}),l()}if(n&2){let e=r.$implicit,i=d();j("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}function f1(n,r){if(n&1){let e=I();a(0,"mat-row",143),b("click",function(t){let s=m(e).$implicit,p=d();return u(p.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=m(e).$implicit,p=d();return u(p.onActionTableRowSelect(s,t))})("mouseenter",function(){let t=m(e).$implicit,s=d();return u(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=m(e).$implicit,s=d();return u(s.onActionTableRowMouseLeave(t))}),l()}if(n&2){let e=r.$implicit,i=d();j("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)),f("ngStyle",Ee(3,Za,e.expanded===!0?"":"none"))}}function _1(n,r){n&1&&(a(0,"mat-header-cell"),c(1),_(2,"translate"),l()),n&2&&(o(),h(" ",C(2,1,"TITLE.MENU")," "))}function C1(n,r){if(n&1){let e=I();a(0,"mat-cell")(1,"button",144),b("click",function(){let t=m(e).$implicit,s=d();return u(s.onActionTableRowSelectActionMenu(t))}),S(2,"i",145),l()()}}function h1(n,r){n&1&&(a(0,"mat-header-cell",146),c(1),_(2,"translate"),l()),n&2&&(o(),h(" ",C(2,1,"TITLE.PICTURE")," "))}function S1(n,r){if(n&1&&(S(0,"img",147),_(1,"cmsthumbnail")),n&2){let e=d().$implicit;f("ngSrc",R(C(1,2,e.linkMainImageIdSrc)))}}function y1(n,r){if(n&1&&(a(0,"mat-cell"),v(1,S1,2,4,"img",147),l()),n&2){let e=r.$implicit;o(),E((e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0?1:-1)}}function g1(n,r){if(n&1&&(a(0,"mat-header-cell",146),c(1),l()),n&2){let e=d();o(),h(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function v1(n,r){if(n&1&&(a(0,"mat-cell"),c(1),l()),n&2){let e=r.$implicit;o(),h(" ",e.id," ")}}function E1(n,r){if(n&1&&(a(0,"mat-header-cell",146),c(1),l()),n&2){let e=d();o(),h(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function b1(n,r){if(n&1&&(a(0,"mat-cell",148),c(1),_(2,"cmssiteinfo"),_(3,"async"),l()),n&2){let e=r.$implicit;o(),h(" ",C(3,3,C(2,1,e.linkSiteId))," ")}}function I1(n,r){if(n&1&&(a(0,"mat-header-cell",146),c(1),l()),n&2){let e=d();o(),h(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function M1(n,r){if(n&1&&S(0,"select",150),n&2){let e=d().$implicit,i=d();f("contentService",i.contentService)("row",e)("ngStyle",Ee(3,Za,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function T1(n,r){if(n&1&&(a(0,"mat-cell",149),_(1,"statusCellClass"),S(2,"i",149),_(3,"statusIconClass"),v(4,M1,1,5,"select",150),l()),n&2){let e=r.$implicit,i=d();f("ngClass",C(1,3,e.recordStatus)),o(2),f("ngClass",C(3,5,e.recordStatus)),o(2),E(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessEditRow?4:-1)}}function w1(n,r){if(n&1&&(a(0,"mat-header-cell",146),c(1),l()),n&2){let e=d();o(),h(" ",e.fieldsInfo.mainAdminRecordStatus==null?null:e.fieldsInfo.mainAdminRecordStatus.fieldTitle," ")}}function x1(n,r){if(n&1&&(a(0,"mat-cell"),S(1,"i",149),_(2,"adminStatusIconClass"),l()),n&2){let e=r.$implicit;o(),f("ngClass",C(2,1,e.mainAdminRecordStatus))}}function P1(n,r){if(n&1&&(a(0,"mat-header-cell",146),c(1),l()),n&2){let e=d();o(),h(" ",e.fieldsInfo.isSoldIt==null?null:e.fieldsInfo.isSoldIt.fieldTitle," ")}}function A1(n,r){if(n&1&&(a(0,"mat-cell"),S(1,"i",149),_(2,"boolclass"),l()),n&2){let e=r.$implicit;o(),f("ngClass",C(2,1,e.isSoldIt))}}function k1(n,r){if(n&1&&(a(0,"mat-header-cell",146),c(1),l()),n&2){let e=d();o(),h(" ",e.fieldsInfo.viewConfigHiddenInList==null?null:e.fieldsInfo.viewConfigHiddenInList.fieldTitle," ")}}function R1(n,r){if(n&1&&(a(0,"mat-cell"),S(1,"i",149),_(2,"boolclass"),l()),n&2){let e=r.$implicit;o(),f("ngClass",C(2,1,e.viewConfigHiddenInList))}}function D1(n,r){if(n&1&&(a(0,"mat-header-cell",146),c(1),l()),n&2){let e=d();o(),h(" ",e.fieldsInfo.viewCount==null?null:e.fieldsInfo.viewCount.fieldTitle," ")}}function L1(n,r){if(n&1&&(a(0,"mat-cell",148),c(1),l()),n&2){let e=r.$implicit;o(),h(" ",e.viewCount," ")}}function V1(n,r){n&1&&(a(0,"mat-header-cell",146),c(1),_(2,"translate"),l()),n&2&&(o(),h(" ",C(2,1,"TITLE.Is_Special")," "))}function O1(n,r){if(n&1&&(a(0,"mat-cell"),S(1,"i",149),_(2,"boolclass"),l()),n&2){let e=r.$implicit;o(),f("ngClass",C(2,1,e.adsActive))}}function B1(n,r){if(n&1&&(a(0,"mat-header-cell",146),c(1),l()),n&2){let e=d();o(),h(" ",e.fieldsInfo.caseCode==null?null:e.fieldsInfo.caseCode.fieldTitle," ")}}function H1(n,r){if(n&1&&(a(0,"mat-cell",151),c(1),l()),n&2){let e=r.$implicit;f("ngStyle",Ee(3,EC,e.ActiveDataStyle)),o(),q(" ",e.caseCode," ",e.ActiveDataText)}}function F1(n,r){if(n&1&&(a(0,"mat-header-cell",146),c(1),l()),n&2){let e=d();o(),h(" ",e.fieldsInfo.scoreEstateLocation==null?null:e.fieldsInfo.scoreEstateLocation.fieldTitle," ")}}function N1(n,r){if(n&1&&(a(0,"mat-cell",149),c(1),l()),n&2){let e=r.$implicit;f("ngClass","cms-cell-score-"+e.scoreEstateLocation),o(),h(" ",e.scoreEstateLocation," ")}}function G1(n,r){if(n&1&&(a(0,"mat-header-cell",146),c(1),l()),n&2){let e=d();o(),h(" ",e.fieldsInfo.scoreEstateBuild==null?null:e.fieldsInfo.scoreEstateBuild.fieldTitle," ")}}function U1(n,r){if(n&1&&(a(0,"mat-cell",149),c(1),l()),n&2){let e=r.$implicit;f("ngClass","cms-cell-score-"+e.scoreEstateBuild),o(),h(" ",e.scoreEstateBuild," ")}}function q1(n,r){if(n&1&&(a(0,"mat-header-cell",146),c(1),l()),n&2){let e=d();o(),h(" ",e.fieldsInfo.scoreEstatePrice==null?null:e.fieldsInfo.scoreEstatePrice.fieldTitle," ")}}function W1(n,r){if(n&1&&(a(0,"mat-cell",149),c(1),l()),n&2){let e=r.$implicit;f("ngClass","cms-cell-score-"+e.scoreEstatePrice),o(),h(" ",e.scoreEstatePrice," ")}}function j1(n,r){if(n&1&&(a(0,"mat-header-cell",146),c(1),l()),n&2){let e=d();o(),h(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function Q1(n,r){if(n&1&&(a(0,"mat-cell",152),c(1),_(2,"localeDateTime"),l()),n&2){let e=r.$implicit;o(),h(" ",C(2,1,e.createdDate)," ")}}function z1(n,r){if(n&1&&(a(0,"mat-header-cell",146),c(1),l()),n&2){let e=d();o(),h(" ",e.fieldsInfo.updatedDate==null?null:e.fieldsInfo.updatedDate.fieldTitle," ")}}function $1(n,r){if(n&1&&(a(0,"mat-cell",152),c(1),_(2,"localeDateTime"),l()),n&2){let e=r.$implicit;o(),h(" ",C(2,1,e.updatedDate)," ")}}function Y1(n,r){n&1&&(a(0,"mat-header-cell",153),c(1),_(2,"translate"),l()),n&2&&(o(),h(" ",C(2,1,"TITLE.OPTION")," "))}function K1(n,r){if(n&1&&(a(0,"mat-cell",154)(1,"button",155)(2,"mat-icon"),c(3,"more_vert"),l()(),S(4,"mat-menu",null,14),l()),n&2){let e=D(5);o(),f("matMenuTriggerFor",e)}}function J1(n,r){n&1&&(a(0,"mat-header-cell",146),c(1),_(2,"translate"),l()),n&2&&(o(),h(" ",C(2,1,"TITLE.LINKTO")," "))}function X1(n,r){if(n&1){let e=I();a(0,"mat-cell")(1,"button",156),b("click",function(){let t=m(e).$implicit,s=d();return u(s.onActionButtonLinkTo(t))}),a(2,"mat-icon",157),c(3,"\u2197"),l()()()}}function Z1(n,r){n&1&&(a(0,"mat-header-cell",146),c(1),_(2,"translate"),l()),n&2&&(o(),h(" ",C(2,1,"TITLE.QUICK_VIEW")," "))}function eh(n,r){if(n&1){let e=I();a(0,"mat-cell")(1,"button",156),b("click",function(){let t=m(e).$implicit,s=d();return u(s.onActionButtonQuickViewRow(t))}),a(2,"mat-icon",157),c(3,"visibility"),l()()()}}function th(n,r){if(n&1&&(a(0,"mat-cell"),c(1),l()),n&2){let e=r.$implicit;o(),h(" ",e.title," ")}}function ih(n,r){if(n&1&&(S(0,"img",158),_(1,"cmsthumbnail")),n&2){let e=d().$implicit;f("ngSrc",R(C(1,2,e.linkMainImageIdSrc)))}}function nh(n,r){if(n&1&&(a(0,"tr")(1,"td",148),c(2),_(3,"translate"),l(),a(4,"td",148),c(5),l()()),n&2){let e=d().$implicit;o(2),h(" ",C(3,2,"TITLE.SquareMeters")," "),o(3),M(e.area)}}function oh(n,r){if(n&1&&(a(0,"tr")(1,"td",148),c(2),_(3,"translate"),l(),a(4,"td",148),c(5),l()()),n&2){let e=d().$implicit;o(2),h(" ",C(3,2,"TITLE.CreatedYaer")," "),o(3),M(e.createdYaer)}}function rh(n,r){if(n&1){let e=I();a(0,"mat-cell")(1,"div")(2,"table")(3,"tr")(4,"th"),v(5,ih,2,4,"img",158),l(),a(6,"th",148)(7,"span",159),b("click",function(){m(e);let t=d();return u(t.onActionCopied())}),S(8,"i",160),l(),c(9),l()(),a(10,"tr"),S(11,"td"),a(12,"td",148),c(13),l()(),a(14,"tr")(15,"td"),c(16),l(),a(17,"td",148),c(18),l()(),v(19,nh,6,4,"tr"),v(20,oh,6,4,"tr"),a(21,"tr"),S(22,"td"),a(23,"td",148),c(24),l()(),a(25,"tr"),S(26,"td"),a(27,"td",148),c(28),l()(),a(29,"tr")(30,"td",148),c(31),_(32,"translate"),l(),a(33,"td",148),c(34),l()(),a(35,"tr"),S(36,"td"),a(37,"td",148),c(38),_(39,"cmsuserinfo"),_(40,"async"),l()(),a(41,"tr")(42,"td",148),c(43),_(44,"translate"),l(),a(45,"td",148),c(46),l()(),a(47,"tr"),S(48,"td")(49,"td"),l()()()()}if(n&2){let e=r.$implicit,i=d();o(5),E((e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0?5:-1),o(2),f("cdkCopyToClipboard",e.id),o(2),h(" ",e.id," "),o(4),M(e.title),o(3),M(i.fieldsInfo.caseCode==null?null:i.fieldsInfo.caseCode.fieldTitle),o(2),M(e.caseCode),o(),E(e.area&&e.area>0?19:-1),o(),E(e.createdYaer&&e.createdYaer>0?20:-1),o(4),h(" ",e.linkLocationIdParentTitle," "),o(4),M(e.linkLocationIdTitle),o(3),h(" ",C(32,15,"TITLE.ADDRESS")," : "),o(3),M(e.address),o(4),h(" ",C(40,19,C(39,17,e.createdBy))," "),o(5),h(" ",C(44,21,"TITLE.HISTORY")," : "),o(3),M(e.historyTotalCount)}}var ho=class ho extends Ut{constructor(e,i,t,s,p,y,z,Me,Ce,et,We,Ge,tt,it,Pe){super(e,new Jt,p,Ce,it);this.contentService=e;this.configService=i;this.themeService=t;this.activatedRoute=s;this.publicHelper=p;this.cmsToastrService=y;this.cmsConfirmationDialogService=z;this.estatePropertyDetailGroupService=Me;this.tokenHelper=Ce;this.cmsStoreService=et;this.router=We;this.cdr=Ge;this.dialog=tt;this.translate=it;this.pageInfo=Pe;this.requestLinkPropertyTypeLanduseId="";this.requestLinkPropertyTypeUsageId="";this.requestLinkContractTypeId="";this.requestLinkBillboardId="";this.requestLinkCustomerOrderId="";this.requestLinkCustomerOrderIdHaveHistory="";this.requestLinkProjectId="";this.requestLinkCompanyId="";this.requestLinkEstateExpertId="";this.requestLinkEstateAgencyId="";this.requestLinkUserId=0;this.requestInChecking=!1;this.requestAction="";this.constructorInfoAreaId=this.constructor.name;this.optionloadComponent=!0;this.optionloadByRoute=!0;this.optionsortType=ae.Descending;this.responsibleUserId=0;this.flag=!1;this.tablePropertySelected=[];this.searchInCheckingChecked=!1;this.searchInResponsibleChecked=!1;this.filteModelContent=new yi;this.dataModelPropertyDetailGroups=[];this.dataConfigSiteValuesModel=new Lr;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["linkMainImageIdSrc","id","recordStatus","mainAdminRecordStatus","IsSoldIt","ViewConfigHiddenInList","linkSiteId","AdsActive","ViewCount","caseCode","scoreEstateLocation","scoreEstateBuild","scoreEstatePrice","createdDate","updatedDate","LinkTo","QuickView","action_menu"];this.tabledisplayedColumnsMobileSource=["linkMainImageIdSrc","IsSoldIt","caseCode","LinkTo","QuickView","action_menu"];this.propertyDetails=new Map;this.enumInputDataType=en;this.step=0;this.unsubscribe=[];this.actionbuttonExportOn=!1;this.PropertyTypeSelected=new si;this.dataModelCorCurrencySelector=new Ei;if(this.publicHelper.processService.cdr=this.cdr,this.requestLinkPropertyTypeLanduseId=this.activatedRoute.snapshot.paramMap.get("LinkPropertyTypeLanduseId"),this.requestLinkPropertyTypeUsageId=this.activatedRoute.snapshot.paramMap.get("LinkPropertyTypeUsageId"),this.requestLinkContractTypeId=this.activatedRoute.snapshot.paramMap.get("LinkContractTypeId"),this.requestLinkBillboardId=this.activatedRoute.snapshot.paramMap.get("LinkBillboardId"),this.requestLinkCustomerOrderId=this.activatedRoute.snapshot.paramMap.get("LinkCustomerOrderId"),this.requestLinkProjectId=this.activatedRoute.snapshot.paramMap.get("LinkProjectId"),this.requestLinkCompanyId=this.activatedRoute.snapshot.paramMap.get("LinkCompanyId"),this.requestLinkEstateExpertId=this.activatedRoute.snapshot.paramMap.get("LinkEstateExpertId"),this.requestLinkEstateAgencyId=this.activatedRoute.snapshot.paramMap.get("LinkEstateAgencyId"),this.requestLinkUserId=+this.activatedRoute.snapshot.paramMap.get("LinkUserId")|0,this.requestAction=this.activatedRoute.snapshot.paramMap.get("Action"),this.activatedRoute.snapshot.paramMap.get("InChecking")&&(this.searchInCheckingChecked=this.activatedRoute.snapshot.paramMap.get("InChecking")==="true"),this.optionsSearch.parentMethods={onSubmit:V=>this.onSubmitOptionsSearch(V)},this.responsibleUserId=+this.activatedRoute.snapshot.paramMap.get("ResponsibleUserId"),this.requestRecordStatus=Ie[this.activatedRoute.snapshot.paramMap.get("recordStatus")+""],this.requestRecordStatus&&(this.optionsSearch.data.show=!0,this.optionsSearch.data.defaultQuery='{"condition":"and","rules":[{"field":"recordStatus","type":"select","operator":"equal","value":"'+this.requestRecordStatus+'"}]}',this.requestRecordStatus=null),this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=ae.Descending,this.requestLinkPropertyTypeLanduseId&&this.requestLinkPropertyTypeLanduseId.length>0){let V=new L;V.propertyName="LinkPropertyTypeLanduseId",V.value=this.requestLinkPropertyTypeLanduseId,this.filteModelContent.filters.push(V)}if(this.requestLinkPropertyTypeUsageId&&this.requestLinkPropertyTypeUsageId.length>0){let V=new L;V.propertyName="LinkPropertyTypeUsageId",V.value=this.requestLinkPropertyTypeUsageId,this.filteModelContent.filters.push(V)}if(this.requestLinkContractTypeId&&this.requestLinkContractTypeId.length>0){let V=new L;V.propertyName="Contracts",V.propertyAnyName="LinkEstateContractTypeId",V.value=this.requestLinkContractTypeId,this.filteModelContent.filters.push(V)}if(this.requestLinkUserId&&this.requestLinkUserId>0){let V=new L;V.propertyName="linkCmsUserId",V.value=this.requestLinkUserId,this.filteModelContent.filters.push(V)}if(this.requestLinkProjectId&&this.requestLinkProjectId.length>0){let V=new L;V.propertyName="linkPropertyProjectId",V.value=this.requestLinkProjectId,this.filteModelContent.filters.push(V)}if(this.requestLinkCompanyId&&this.requestLinkCompanyId.length>0){let V=new L;V.propertyName="linkPropertyCompanyId",V.value=this.requestLinkCompanyId,this.filteModelContent.filters.push(V)}if(this.requestLinkEstateExpertId&&this.requestLinkEstateExpertId.length>0){let V=new L;V.propertyName="linkEstateExpertId",V.value=this.requestLinkEstateExpertId,this.filteModelContent.filters.push(V)}if(this.requestLinkEstateAgencyId&&this.requestLinkEstateAgencyId.length>0){let V=new L;V.propertyName="linkEstateAgencyId",V.value=this.requestLinkEstateAgencyId,this.filteModelContent.filters.push(V)}}set optionLinkCustomerOrderId(e){e&&e.length>0&&(this.requestLinkCustomerOrderId=e)}set optionLinkCustomerOrderIdHaveHistory(e){e&&e.length>0&&(this.requestLinkCustomerOrderIdHaveHistory=e)}set optionLinkBillboardId(e){e&&e.length>0&&(this.requestLinkBillboardId=e)}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&(this.tokenInfo?.access?.siteId>0&&this.GetServiceSiteConfig(this.tokenInfo.access.siteId),this.DataGetAll(),!this.tokenHelper.isAdminSite&&!this.tokenHelper.isSupportSite&&(this.tabledisplayedColumnsSource=this.publicHelper.listRemoveIfExist(this.tabledisplayedColumnsSource,"scoreEstateLocation"),this.tabledisplayedColumnsSource=this.publicHelper.listRemoveIfExist(this.tabledisplayedColumnsSource,"scoreEstateBuild"),this.tabledisplayedColumnsSource=this.publicHelper.listRemoveIfExist(this.tabledisplayedColumnsSource,"scoreEstatePrice"))),this.tokenInfo.access.direction,this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>$(this,null,function*(){this.tokenInfo=e,this.tokenInfo?.access?.siteId>0&&this.GetServiceSiteConfig(this.tokenInfo.access.siteId),this.DataGetAll(),!this.tokenHelper.isAdminSite&&!this.tokenHelper.isSupportSite&&(this.tabledisplayedColumnsSource=this.publicHelper.listRemoveIfExist(this.tabledisplayedColumnsSource,"scoreEstateLocation"),this.tabledisplayedColumnsSource=this.publicHelper.listRemoveIfExist(this.tabledisplayedColumnsSource,"scoreEstateBuild"),this.tabledisplayedColumnsSource=this.publicHelper.listRemoveIfExist(this.tabledisplayedColumnsSource,"scoreEstatePrice"))})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}GetServiceSiteConfig(e){let i=this.constructor.name+"ServiceSiteConfig";this.translate.get("MESSAGE.get_module_setting").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructorInfoAreaId)}),this.configService.ServiceSiteConfig(e).subscribe({next:t=>{t.isSuccess?(this.dataConfigSiteValuesModel=t.item,this.RowStyleActiveData()):this.cmsToastrService.typeErrorGetOne(t.errorMessage),this.publicHelper.processService.processStop(i)},error:t=>{this.cmsToastrService.typeErrorGetOne(t),this.publicHelper.processService.processStop(i,!1)}})}DataGetAll(){if(this.themeService.onActionScrollTopList(!0,1e4),this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),!this.optionloadComponent)return;var e=0;this.searchInResponsibleChecked?e=this.tokenInfo.access.userId:this.responsibleUserId>0&&(e=this.responsibleUserId),this.optionsortType&&(this.filteModelContent.sortType=this.optionsortType),this.tableRowsSelected=[],this.onActionTableRowSelect(new Jt);let i=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(p=>{this.publicHelper.processService.processStart(i,p,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let t=JSON.parse(JSON.stringify(this.filteModelContent));if(this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(t.filters=[...this.filterDataModelQueryBuilder]),this.categoryModelSelected&&this.categoryModelSelected.id&&this.categoryModelSelected.id.length>0){let p=new L;p.propertyName="LinkPropertyTypeLanduseId",p.value=this.categoryModelSelected.id,t.filters.push(p)}if(this.searchInCheckingChecked){let p=new L;p.propertyName="recordStatus",p.value=Ie.Pending,t.filters.push(p)}if(e>0)this.contentService.ServiceGetAllWithResponsibleUserId(e,t).subscribe({next:p=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(p.access),p.isSuccess?(this.dataModelResult=p,this.RowStyleActiveData(),this.tableSource.data=p.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(p.access)},1e3)):this.cmsToastrService.typeErrorMessage(p.errorMessage),this.publicHelper.processService.processStop(i)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(i,!1)}});else if(this.requestLinkBillboardId&&this.requestLinkBillboardId.length>0)this.actionbuttonExportOn=!1,this.contentService.setAccessDataType(Ye.Editor),this.contentService.ServiceGetAllWithCoverBillboardId(this.requestLinkBillboardId,t).subscribe({next:p=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(p.access),p.isSuccess?(this.dataModelResult=p,this.RowStyleActiveData(),this.tableSource.data=p.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(p.access)},1e3)):this.cmsToastrService.typeErrorGetAll(p.errorMessage),this.publicHelper.processService.processStop(i)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(i)}});else if(this.requestLinkCustomerOrderId?.length>0)this.actionbuttonExportOn=!1,this.contentService.setAccessDataType(Ye.Editor),this.contentService.ServiceGetAllWithCoverCustomerOrderId(this.requestLinkCustomerOrderId,t).subscribe({next:p=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(p.access),p.isSuccess?(this.dataModelResult=p,this.RowStyleActiveData(),this.tableSource.data=p.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(p.access)},1e3)):this.cmsToastrService.typeErrorGetAll(p.errorMessage),this.publicHelper.processService.processStop(i)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(i)}});else if(this.requestLinkCustomerOrderIdHaveHistory&&this.requestLinkCustomerOrderIdHaveHistory.length>0)this.actionbuttonExportOn=!1,this.contentService.setAccessDataType(Ye.Editor),this.contentService.ServiceGetAllWithCoverCustomerOrderIdHaveHistory(this.requestLinkCustomerOrderIdHaveHistory,t).subscribe({next:p=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(p.access),p.isSuccess?(this.dataModelResult=p,this.RowStyleActiveData(),this.tableSource.data=p.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(p.access)},1e3)):this.cmsToastrService.typeErrorGetAll(p.errorMessage),this.publicHelper.processService.processStop(i)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(i)}});else{var s=[];this.dataModelPropertyDetailGroups&&this.dataModelPropertyDetailGroups.forEach(p=>{p.propertyDetails.forEach(y=>{let z=new on;z.linkPropertyDetailId=y.id,z.value=this.propertyDetails[y.id],s.push(z)})}),t.propertyDetailValues=s,this.contentService.setAccessDataType(Ye.Editor),this.contentService.ServiceGetAll(t).subscribe({next:p=>{this.actionbuttonExportOn=!0,this.fieldsInfo=this.publicHelper.fieldInfoConvertor(p.access),p.isSuccess?(this.dataModelResult=p,this.RowStyleActiveData(),this.tableSource.data=p.listItems,this.requestAction?.length>0&&this.requestAction==="quick-add"&&(this.requestAction="",this.onActionButtonQuickAddRow()),this.optionsSearch.data.show&&this.optionsStatist.data.show&&(this.optionsStatist.data.show=!this.optionsStatist.data.show,this.onActionButtonStatist()),this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(p.access)},1e3)):this.cmsToastrService.typeErrorGetAll(p.errorMessage),this.publicHelper.processService.processStop(i)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(i,!1)}})}}DataGetPropertyDetailGroup(e){let i=new re,t=new L;t.propertyName="LinkPropertyTypeLanduseId",t.value=e,i.filters.push(t),this.dataModelPropertyDetailGroups=[];let s=this.constructor.name+"DataGetPropertyDetailGroup";this.translate.get("MESSAGE.Get_detailed_information").subscribe(p=>{this.publicHelper.processService.processStart(s,p,this.constructorInfoAreaId)}),this.estatePropertyDetailGroupService.ServiceGetAllFastSearch(i).subscribe({next:p=>{p.isSuccess?(this.dataModelPropertyDetailGroups=p.listItems,this.dataModelPropertyDetailGroups&&this.dataModelPropertyDetailGroups.forEach(y=>{y.propertyDetails.forEach(z=>{this.propertyDetails[z.id]=0})})):this.cmsToastrService.typeErrorGetAccess(p.errorMessage),this.publicHelper.processService.processStop(s)},error:p=>{this.cmsToastrService.typeErrorGetAccess(p),this.publicHelper.processService.processStop(s,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=ae.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=ae.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=ae.Descending),this.filteModelContent.sortColumn=="AdsActive"&&(this.filteModelContent.sortColumn="AdsExpireDate"),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(e){if(this.categoryModelSelected==null&&this.categoryModelSelected&&this.categoryModelSelected.id&&this.categoryModelSelected.id.length===0&&(this.requestLinkPropertyTypeLanduseId==null||this.requestLinkPropertyTypeLanduseId.length===0)){this.translate.get("MESSAGE.Content_not_selected").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}let i=this.requestLinkPropertyTypeLanduseId;this.categoryModelSelected&&this.categoryModelSelected.id.length>0&&(i=this.categoryModelSelected.id),i&&i.length>0?e?.ctrlKey?(this.link="/#/estate/data/property/add/LinkPropertyTypeLanduseId/"+i,window.open(this.link,"_blank")):this.router.navigate(["/estate/data/property/add/LinkPropertyTypeLanduseId",i]):e?.ctrlKey?(this.link="/#/estate/data/property/add/",window.open(this.link,"_blank")):this.router.navigate(["/estate/data/property/add"])}onActionSelectorSelect(e){var i=this.filteModelContent.sortColumn,t=this.filteModelContent.sortType;this.filteModelContent=new yi,this.filteModelContent.sortColumn=i,this.filteModelContent.sortType=t,this.categoryModelSelected=e,this.DataGetAll()}onActionButtonEditRow(e=this.tableRowSelected,i){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.tableRowSelected=e,this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}i?.ctrlKey?(this.link="/#/estate/data/property/edit/"+this.tableRowSelected.id,window.open(this.link,"_blank")):this.router.navigate(["/estate/data/property/edit",this.tableRowSelected.id])}onActionButtonQuickViewRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.tableRowSelected=e,this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var i=this.publicHelper.InfoNextRowInList(this.dataModelResult.listItems,this.tableRowSelected),t=this.publicHelper.InfoPerviousRowInList(this.dataModelResult.listItems,this.tableRowSelected),s="";this.publicHelper.isMobile?s="dialog-fullscreen":s="dialog-min",this.dialog.open(yn,{height:"90%",panelClass:s,data:{id:this.tableRowSelected.id,perviousItem:t,nextItem:i}}).afterClosed().subscribe(y=>{y&&y.dialogChangedDate&&y.onActionOpenItem&&y.onActionOpenItem.id.length>0&&this.onActionButtonQuickViewRow(y.onActionOpenItem)})}onActionButtonQuickAddRow(e){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}e?.ctrlKey&&(this.link="/#/estate/data/property/add/",window.open(this.link,"_blank"));var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(hr,{height:"90%",enterAnimationDuration:O.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:O.cmsViewConfig.exitAnimationDuration,panelClass:i,data:{}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate&&this.DataGetAll()})}onActionButtonQuickHistoryAddRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}this.tableRowSelected=e,this.onActionTableRowSelect(e);var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(gi,{height:"90%",panelClass:i,enterAnimationDuration:O.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:O.cmsViewConfig.exitAnimationDuration,data:{linkActivityTypeId:null,linkPropertyId:e.id,linkEstateExpertId:null,linkCustomerOrderId:null,linkEstateAgencyId:null}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate})}onActionButtonAdsRow(e=this.tableRowSelected,i){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.tableRowSelected=e,this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}i?.ctrlKey?(this.link="/#/estate/data/property-ads/LinkPropertyId/"+this.tableRowSelected.id,window.open(this.link,"_blank")):this.router.navigate(["/estate/data/property-ads/LinkPropertyId",this.tableRowSelected.id])}onActionButtonHistoryRow(e=this.tableRowSelected,i){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.tableRowSelected=e,this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}i?.ctrlKey?(this.link="/#/estate/log/property-history/LinkPropertyId/"+this.tableRowSelected.id,window.open(this.link,"_blank")):this.router.navigate(["/estate/log/property-history/LinkPropertyId",this.tableRowSelected.id])}onActionButtonDeleteRow(e=this.tableRowSelected){if(e==null||!e.id||e.id.length===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}if(this.tableRowSelected=e,this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(s=>{i=s["MESSAGE.Please_Confirm"],t=s["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(s=>{if(s){let p=this.constructor.name+"main";this.translate.get("MESSAGE.Deleting_information").subscribe(y=>{this.publicHelper.processService.processStart(p,y,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:y=>{y.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(p)},error:y=>{this.cmsToastrService.typeError(y),this.publicHelper.processService.processStop(p)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.property_list").subscribe(it=>{this.publicHelper.processService.processStart(this.constructor.name+"All",it,this.constructorInfoAreaId)}),this.contentService.setAccessDataType(Ye.Editor);let t=JSON.parse(JSON.stringify(this.filteModelContent)),s=this.contentService.ServiceGetCount(t),p=JSON.parse(JSON.stringify(this.filteModelContent)),y=new L;y.propertyName="recordStatus",y.value=Ie.Available,p.filters.push(y);let z=this.contentService.ServiceGetCount(p),Me=JSON.parse(JSON.stringify(this.filteModelContent)),Ce=new L;Ce.propertyName="recordStatus",Ce.value=Ie.Disable,Me.filters.push(Ce);let et=this.contentService.ServiceGetCount(Me),We=JSON.parse(JSON.stringify(this.filteModelContent)),Ge=new L;Ge.propertyName="recordStatus",Ge.value=Ie.Pending,We.filters.push(Ge);let tt=this.contentService.ServiceGetCount(We);Io([s,z,et,tt]).subscribe(it=>{var Pe=it[0];Pe.isSuccess?this.translate.get("TITLE.All").subscribe(V=>{i.set(V,Pe.totalRowCount)}):this.cmsToastrService.typeErrorMessage(Pe.errorMessage);var Pe=it[1];Pe.isSuccess?this.translate.get("TITLE.Number_of_rows_in_the_recordstatus_available").subscribe(V=>{i.set(V,Pe.totalRowCount)}):this.cmsToastrService.typeErrorMessage(Pe.errorMessage),Pe=it[2],Pe.isSuccess?this.translate.get("TITLE.Number_of_rows_in_the_recordstatus_disable").subscribe(V=>{i.set(V,Pe.totalRowCount)}):this.cmsToastrService.typeErrorMessage(Pe.errorMessage),Pe=it[3],Pe.isSuccess?this.translate.get("TITLE.Number_of_rows_in_the_recordstatus_pending").subscribe(V=>{i.set(V,Pe.totalRowCount)}):this.cmsToastrService.typeErrorMessage(Pe.errorMessage),this.optionsStatist.childMethods.setStatistValue(i),this.publicHelper.processService.processStop(this.constructor.name+"All")})}onActionButtonActionSendSmsToCustomerOrder(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}this.tableRowSelected=e;let i=this.constructor.name+"main";this.translate.get("ACTION.ActionSendSmsToCustomerOrder").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructorInfoAreaId)}),this.contentService.setAccessDataType(Ye.Editor),this.contentService.ServiceActionSendSmsToCustomerOrder(e.id).subscribe({next:t=>{t.isSuccess?this.cmsToastrService.typeSuccessMessage(t.errorMessage):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(i)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(i,!1)}})}onActionButtonViewOtherUserAdvertise(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.tableRowSelected=e,e.linkCmsUserId&&e.linkCmsUserId>0?this.requestLinkUserId=e.linkCmsUserId:this.requestLinkUserId=e.createdBy,e.linkCmsUserId&&e.linkCmsUserId>0){let i=new L;i.propertyName="linkCmsUserId",i.value=e.linkCmsUserId,i.clauseType=ee.Or,this.filteModelContent.filters.push(i);let t=new L;t.propertyName="createdBy",t.value=e.linkCmsUserId,t.clauseType=ee.Or,this.filteModelContent.filters.push(i)}if(e.createdBy&&e.createdBy>0){let i=new L;i.propertyName="linkCmsUserId",i.value=e.createdBy,i.clauseType=ee.Or,this.filteModelContent.filters.push(i);let t=new L;t.propertyName="createdBy",t.value=e.createdBy,t.clauseType=ee.Or,this.filteModelContent.filters.push(i)}this.DataGetAll()}onActionButtonInChecking(e=this.searchInCheckingChecked){this.searchInCheckingChecked=e,this.DataGetAll()}onActionButtonInResponsible(e=this.searchInResponsibleChecked){this.searchInResponsibleChecked=e,this.DataGetAll()}onActionButtonReload(){this.optionloadComponent=!0,this.DataGetAll()}onActionCopied(){this.cmsToastrService.typeSuccessCopedToClipboard()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/ticketing/departemen/"])}onActionButtonLinkTo(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(e.recordStatus!=Ie.Available){this.cmsToastrService.typeWarningRecordStatusNoAvailable();return}this.onActionTableRowSelect(e);let i=this.constructor.name+"ServiceGetOneById";this.translate.get("MESSAGE.get_state_information").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructorInfoAreaId)}),this.contentService.setAccessDataType(Ye.Editor),this.contentService.ServiceGetOneById(e.id).subscribe({next:t=>{if(t.isSuccess){var s="";this.publicHelper.isMobile?s="dialog-fullscreen":s="dialog-min",this.dialog.open(li,{height:"90%",panelClass:s,enterAnimationDuration:O.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:O.cmsViewConfig.exitAnimationDuration,data:{title:t.item.title,urlViewContentQRCodeBase64:t.item.urlViewContentQRCodeBase64,urlViewContent:t.item.urlViewContent}}).afterClosed().subscribe(y=>{y&&y.dialogChangedDate&&this.DataGetAll()})}else this.cmsToastrService.typeErrorMessage(t.errorMessage);this.publicHelper.processService.processStop(i)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(i,!1)}})}onActionSelectorLocation(e){this.filteModelContent.linkLocationIds=e}onActionSelectorSelectUsage(e){if(!e||!e.id||e.id.length<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(i=>{this.cmsToastrService.typeWarningSelected(i)});return}this.filteModelContent.linkPropertyTypeUsageId=e.id}onActionSelectorSelectLanduse(e){if(this.dataModelPropertyDetailGroups=[],this.PropertyTypeSelected=null,this.filteModelContent.linkPropertyTypeLanduseId=null,!e||!e.id||e.id.length<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(i=>{this.cmsToastrService.typeWarningSelected(i)});return}this.DataGetPropertyDetailGroup(e.id),this.PropertyTypeSelected=e,this.filteModelContent.linkPropertyTypeLanduseId=e.id}onActionSelectorContarctType(e){if(this.contractTypeSelected=null,this.filteModelContent.linkContractTypeId=null,!e||!e.id||e.id.length<=0){this.translate.get("MESSAGE.Type_of_property_transaction_is_not_known").subscribe(i=>{this.cmsToastrService.typeWarningSelected(i)});return}this.contractTypeSelected=e,this.filteModelContent.linkContractTypeId=e.id}onActionSelectCurrency(e){if(!e||e.id<=0){this.dataModelCorCurrencySelector=null,this.filteModelContent.linkCoreCurrencyId=null;return}this.dataModelCorCurrencySelector=e,this.filteModelContent.linkCoreCurrencyId=e.id}onActionButtonResponsibleUserlistView(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}this.tableRowSelected=e;var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Sr,{height:"90%",panelClass:i,enterAnimationDuration:O.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:O.cmsViewConfig.exitAnimationDuration,data:{title:this.tableRowSelected.title,id:this.tableRowSelected.id}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate})}setStep(e){this.step=e}nextStep(){this.step++}prevStep(){this.step--}onSearchCaseCodeChange(e){e&&e.length>0&&(this.filteModelContent=new yi,this.filteModelContent.caseCode=e,this.dataModelPropertyDetailGroups=[])}RowStyleActiveData(){if(!(!this.dataModelResult.listItems||this.dataModelResult.listItems.length===0||!this.dataConfigSiteValuesModel||this.dataConfigSiteValuesModel.autoArchiveDataDay<=0)){var e=new Date;e.setDate(e.getDate()-this.dataConfigSiteValuesModel.autoArchiveDataDay);for(let i=0;i<this.dataModelResult.listItems.length;i++){let t=this.dataModelResult.listItems[i];this.dataModelResult.listItems[i].ActiveDataStyle="",this.dataModelResult.listItems[i].ActiveDataText="",t.updatedDate?new Date(t.updatedDate)<e&&(this.dataModelResult.listItems[i].ActiveDataStyle="#ff9c91",this.dataModelResult.listItems[i].ActiveDataText="\u0622\u0631\u0634\u06CC\u0648 \u062E\u0648\u062F\u06A9\u0627\u0631  \u0633\u06CC\u0633\u062A\u0645\u06CC"):new Date(t.createdDate)<e&&(this.dataModelResult.listItems[i].ActiveDataStyle="#ff9c01",this.dataModelResult.listItems[i].ActiveDataText="\u0622\u0631\u0634\u06CC\u0648 \u062E\u0648\u062F\u06A9\u0627\u0631  \u0633\u06CC\u0633\u062A\u0645\u06CC")}}}};ho.\u0275fac=function(i){return new(i||ho)(g(wt),g(Or),g(Xe),g(vi),g(U),g(F),g(Gt),g(sn),g(K),g(Y),g(ii),g(G),g(Z),g(H),g(Ze))},ho.\u0275cmp=B({type:ho,selectors:[["app-estate-property-list"]],inputs:{optionloadComponent:"optionloadComponent",optionloadByRoute:"optionloadByRoute",optionsortType:"optionsortType",optionLinkCustomerOrderId:"optionLinkCustomerOrderId",optionLinkCustomerOrderIdHaveHistory:"optionLinkCustomerOrderIdHaveHistory",optionLinkBillboardId:"optionLinkBillboardId"},standalone:!1,features:[we],decls:191,vars:92,consts:[["caseCode",""],["tableSort","matSort"],["paginator",""],["CreatedYaer",""],["Partition",""],["Area",""],["SalePriceMin",""],["RentPriceMin",""],["DepositPriceMin",""],["PeriodPriceMin",""],["SalePriceMax",""],["RentPriceMax",""],["DepositPriceMax",""],["PeriodPriceMax",""],["actionMenu","matMenu"],[3,"optionId"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionActionRowDisplayMenuAct","optionSelectRowItemTitle"],["cms-tree",""],[3,"optionChange"],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-maximize","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-minimize","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-clock-rotate-left","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"routerLink"],[1,"fa-solid","fa-share","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],[1,"ntk-full-width"],["matInput","","name","filteModelContent.caseCode","type","text","step","1",3,"input","ngModelChange","ngModel","placeholder"],["matPrefix","","matPrefix","","mat-icon-button","","aria-label","Clear"],["matPrefix",""],["matSuffix","",1,"info-field-icon"],[1,"info-field-text"],["cms-body",""],["matSort","","multiTemplateDataRows","",1,"ntk-cms-html-table",3,"matSortChange","dataSource"],[4,"matHeaderRowDef"],["class","ntk-row-expandedTitle",3,"ntk-row-selected","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["class","ntk-row-expandedDetail",3,"ntk-row-selected","ngStyle","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["matColumnDef","action_menu"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","linkMainImageIdSrc"],["mat-sort-header","","class","form-label",4,"matHeaderCellDef"],["matColumnDef","id"],["matColumnDef","linkSiteId"],["class","col-form-label",4,"matCellDef"],["matColumnDef","recordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","mainAdminRecordStatus"],["matColumnDef","IsSoldIt"],["matColumnDef","ViewConfigHiddenInList"],["matColumnDef","ViewCount"],["matColumnDef","AdsActive"],["matColumnDef","caseCode"],["class","col-form-label",3,"ngStyle",4,"matCellDef"],["matColumnDef","scoreEstateLocation"],["matColumnDef","scoreEstateBuild"],["matColumnDef","scoreEstatePrice"],["matColumnDef","createdDate"],["class","col-form-label","style","direction: ltr; justify-content: center; text-align: center",4,"matCellDef"],["matColumnDef","updatedDate"],["matColumnDef","Action"],["class","form-label",4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],["matColumnDef","LinkTo"],["matColumnDef","QuickView"],["matColumnDef","expandedTitle"],["matColumnDef","expandedDetail"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],["type","button","target","_blank","id","openModalButton","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],[1,"fa-light","fa-message-lines","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-bullseye-pointer","font-18",2,"color","#ffffff"],["matPrefix","","matPrefix","","mat-icon-button","","aria-label","Clear",3,"click"],[3,"optionPlaceholder"],[3,"optionChange","optionPlaceholder"],[3,"optionChange","optionTypeView","optionPlaceholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],[3,"optionChange","optionSelectFirstItem","optionSelectForce","optionPlaceholder"],[1,"row",2,"direction","rtl"],[1,"col-md-6","col-sm-6","col-xs-9"],[1,"example-headers-align"],[3,"expanded"],["for","filteModelContent.createdYaer",1,"color-highlight"],["matInput","","name","filteModelContent.createdYaer","type","number","id","filteModelContent.createdYaer",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","filteModelContent.partition",1,"color-highlight"],["matInput","","name","filteModelContent.partition","type","number","id","filteModelContent.partition",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","filteModelContent.area",1,"color-highlight"],["matInput","","name","filteModelContent.area","type","text","currencyMask","","step","10","id","filteModelContent.area",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel","placeholder"],["for","filteModelContent.salePriceMin",1,"color-highlight"],["matInput","","name","filteModelContent.salePriceMin","type","text","currencyMask","","step","1000000","id","filteModelContent.salePriceMin",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel"],["for","filteModelContent.rentPriceMin",1,"color-highlight"],["matInput","","name","filteModelContent.rentPriceMin","type","text","currencyMask","","step","1000000","id","filteModelContent.rentPriceMin",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel"],["for","filteModelContent.depositPriceMin",1,"color-highlight"],["matInput","","name","filteModelContent.depositPriceMin","type","text","currencyMask","","step","1000000","id","filteModelContent.depositPriceMin",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel"],["for","filteModelContent.periodPriceMin",1,"color-highlight"],["matInput","","name","filteModelContent.periodPriceMin","type","text","currencyMask","","step","1000000","id","filteModelContent.periodPriceMin",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel"],["for","filteModelContent.salePriceMax",1,"color-highlight"],["matInput","","name","filteModelContent.salePriceMax","type","text","currencyMask","","step","1000000","id","filteModelContent.salePriceMax",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel"],["for","filteModelContent.rentPriceMax",1,"color-highlight"],["matInput","","name","filteModelContent.rentPriceMax","type","text","currencyMask","","step","1000000","id","filteModelContent.rentPriceMax",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel"],["for","filteModelContent.depositPriceMax",1,"color-highlight"],["matInput","","name","filteModelContent.depositPriceMax","type","text","currencyMask","","step","1000000","id","filteModelContent.depositPriceMax",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel"],["for","filteModelContent.periodPriceMax",1,"color-highlight"],["matInput","","name","filteModelContent.periodPriceMax","type","text","currencyMask","","step","1000000","id","filteModelContent.periodPriceMax",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel"],[3,"opened","expanded"],[2,"width","100px"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue"],["aria-hidden","true",3,"ngClass"],[3,"modelChange","model","optionForceUseDefaultValue","optionMultipleChoice","optionDefaultValue","optionRequired","optionLabel"],[3,"modelChange","model","optionRequired","optionLabel"],[3,"modelChange","model"],[3,"modelChange","model","optionRequired"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue",3,"click"],[1,"ntk-row-expandedTitle",3,"click","rtclick","mouseenter","mouseleave"],[1,"ntk-row-mainfild",3,"click","rtclick","mouseenter","mouseleave"],[1,"ntk-row-expandedDetail",3,"click","rtclick","mouseenter","mouseleave","ngStyle"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"click"],[1,"fa","fa-bars","font-18"],["mat-sort-header","",1,"form-label"],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"ngSrc"],[1,"col-form-label"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"col-form-label",3,"ngStyle"],[1,"col-form-label",2,"direction","ltr","justify-content","center","text-align","center"],[1,"form-label"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",1,"text-dark",3,"matMenuTriggerFor"],["type","button","mat-icon-button","",1,"text-dark",3,"click"],[2,"color","#ff671f"],["aria-hidden","","height","80","width","80",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"ngSrc"],[1,"navi-icon","pointer",3,"click","cdkCopyToClipboard"],[1,"flaticon2-copy"]],template:function(i,t){if(i&1){let s=I();v(0,bC,1,1,"app-core-user-header",15),v(1,IC,1,1,"app-estate-billboard-header",15),v(2,MC,1,1,"app-estate-contract-type-header",15),v(3,TC,1,1,"app-estate-customer-order-header",15),v(4,wC,1,1,"app-estate-property-type-landuse-header",15),v(5,xC,1,1,"app-estate-property-type-usage-header",15),v(6,PC,1,1,"app-estate-property-project-header",15),v(7,AC,1,1,"app-estate-property-company-header",15),a(8,"app-cms-html-list",16),k("optionActionGuideNoticeDisplayChange",function(y){return m(s),A(t.viewGuideNotice,y)||(t.viewGuideNotice=y),u(y)}),b("optionOnActionButtonMemoRow",function(){return m(s),u(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return m(s),u(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return m(s),u(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return m(s),u(t.onActionButtonPrintRow())}),T(9,17),a(10,"app-estate-property-type-landuse-tree",18),b("optionChange",function(y){return m(s),u(t.onActionSelectorSelect(y))}),l(),w(),Le(11,19)(12,20),T(13,21),v(14,kC,2,0,"a",22),a(15,"a",23),b("click",function(){return m(s),u(t.viewGuideNotice=!t.viewGuideNotice)}),S(16,"i",24),l(),a(17,"a",23),b("click",function(){return m(s),u(t.onActionButtonReload())}),S(18,"i",25),l(),a(19,"a",26),b("click",function(){return m(s),u(t.onActionGridExpandRows(!0))}),S(20,"i",27),l(),a(21,"a",26),b("click",function(){return m(s),u(t.onActionGridExpandRows(!1))}),S(22,"i",28),l(),w(),T(23,29),a(24,"a",30),b("click",function(){return m(s),u(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),S(25,"mat-slide-toggle",31),c(26),_(27,"translate"),l(),a(28,"a",30),b("click",function(){return m(s),u(t.onActionButtonStatist())}),S(29,"mat-slide-toggle",31),c(30),_(31,"translate"),l(),a(32,"a",30),b("click",function(){return m(s),u(t.onActionButtonInChecking(!t.searchInCheckingChecked))}),S(33,"mat-slide-toggle",31),c(34),_(35,"translate"),l(),a(36,"a",30),b("click",function(){return m(s),u(t.onActionButtonInResponsible(!t.searchInResponsibleChecked))}),S(37,"mat-slide-toggle",31),c(38),_(39,"translate"),l(),w(),T(40,32),v(41,RC,7,3,"div",33),v(42,DC,7,3,"div",33),w(),T(43,34),a(44,"div",33)(45,"a",23),b("click",function(){return m(s),u(t.onActionButtonQuickViewRow(t.tableRowSelected))}),S(46,"i",35)(47,"br"),l(),a(48,"p",36),c(49),_(50,"translate"),l()(),v(51,LC,7,3,"div",33),v(52,VC,7,3,"div",33),v(53,OC,7,3,"div",33),v(54,BC,7,3,"div",33),a(55,"div",33)(56,"a",23),b("click",function(){return m(s),u(t.onActionButtonQuickHistoryAddRow(t.tableRowSelected))}),S(57,"i",37)(58,"br"),l(),a(59,"p",36),c(60),_(61,"translate"),l()(),a(62,"div",33)(63,"a",23),b("click",function(y){return m(s),u(t.onActionButtonHistoryRow(t.tableRowSelected,y))}),S(64,"i",37)(65,"br"),l(),a(66,"p",36),c(67),_(68,"translate"),l()(),a(69,"div",33)(70,"a",23),b("click",function(){return m(s),u(t.onActionButtonViewOtherUserAdvertise(t.tableRowSelected))}),S(71,"i",38)(72,"br"),l(),a(73,"p",36),c(74),_(75,"translate"),l()(),a(76,"div",33)(77,"a",39),S(78,"i",38)(79,"br"),l(),a(80,"p",36),c(81),_(82,"translate"),l()(),a(83,"div",33)(84,"a",23),b("click",function(){return m(s),u(t.onActionButtonLinkTo(t.tableRowSelected))}),S(85,"i",40)(86,"br"),l(),a(87,"p",36),c(88),_(89,"translate"),l()(),a(90,"div",33)(91,"a",23),b("click",function(){return m(s),u(t.onActionButtonResponsibleUserlistView(t.tableRowSelected))}),S(92,"i",40)(93,"br"),l(),a(94,"p",36),c(95),_(96,"translate"),l()(),v(97,HC,3,5,"button",39),w(),T(98,41),a(99,"app-cms-search-list",42),k("optionsChange",function(y){return m(s),A(t.optionsSearch,y)||(t.optionsSearch=y),u(y)}),S(100,"hr"),a(101,"p"),c(102),_(103,"translate"),l(),a(104,"mat-form-field",43)(105,"mat-label"),c(106),l(),a(107,"input",44,0),b("input",function(y){return m(s),u(t.onSearchCaseCodeChange(y.target.value))}),k("ngModelChange",function(y){return m(s),A(t.filteModelContent.caseCode,y)||(t.filteModelContent.caseCode=y),u(y)}),l(),v(109,FC,2,0,"mat-icon",45),a(110,"mat-icon",46),c(111," mode_edit"),l(),a(112,"mat-hint")(113,"mat-icon",47),c(114),_(115,"translate"),l(),a(116,"strong",48),c(117),l()()(),v(118,d1,44,35,"div"),l(),a(119,"app-cms-statist-list",42),k("optionsChange",function(y){return m(s),A(t.optionsStatist,y)||(t.optionsStatist=y),u(y)}),l(),w(),T(120,49),a(121,"mat-table",50,1),b("matSortChange",function(){m(s);let y=D(122);return u(t.onTableSortData(y))}),x(123,p1,1,0,"mat-header-row",51)(124,m1,1,2,"mat-row",52)(125,u1,1,2,"mat-row",53)(126,f1,1,5,"mat-row",54),T(127,55),x(128,_1,3,3,"mat-header-cell",56)(129,C1,3,0,"mat-cell",57),w(),T(130,58),x(131,h1,3,3,"mat-header-cell",59)(132,y1,2,1,"mat-cell",57),w(),T(133,60),x(134,g1,2,1,"mat-header-cell",59)(135,v1,2,1,"mat-cell",57),w(),T(136,61),x(137,E1,2,1,"mat-header-cell",59)(138,b1,4,5,"mat-cell",62),w(),T(139,63),x(140,I1,2,1,"mat-header-cell",59)(141,T1,5,7,"mat-cell",64),w(),T(142,65),x(143,w1,2,1,"mat-header-cell",59)(144,x1,3,3,"mat-cell",57),w(),T(145,66),x(146,P1,2,1,"mat-header-cell",59)(147,A1,3,3,"mat-cell",57),w(),T(148,67),x(149,k1,2,1,"mat-header-cell",59)(150,R1,3,3,"mat-cell",57),w(),T(151,68),x(152,D1,2,1,"mat-header-cell",59)(153,L1,2,1,"mat-cell",62),w(),T(154,69),x(155,V1,3,3,"mat-header-cell",59)(156,O1,3,3,"mat-cell",57),w(),T(157,70),x(158,B1,2,1,"mat-header-cell",59)(159,H1,2,5,"mat-cell",71),w(),T(160,72),x(161,F1,2,1,"mat-header-cell",59)(162,N1,2,2,"mat-cell",64),w(),T(163,73),x(164,G1,2,1,"mat-header-cell",59)(165,U1,2,2,"mat-cell",64),w(),T(166,74),x(167,q1,2,1,"mat-header-cell",59)(168,W1,2,2,"mat-cell",64),w(),T(169,75),x(170,j1,2,1,"mat-header-cell",59)(171,Q1,3,3,"mat-cell",76),w(),T(172,77),x(173,z1,2,1,"mat-header-cell",59)(174,$1,3,3,"mat-cell",76),w(),T(175,78),x(176,Y1,3,3,"mat-header-cell",79)(177,K1,6,1,"mat-cell",80),w(),T(178,81),x(179,J1,3,3,"mat-header-cell",59)(180,X1,4,0,"mat-cell",57),w(),T(181,82),x(182,Z1,3,3,"mat-header-cell",59)(183,eh,4,0,"mat-cell",57),w(),T(184,83),x(185,th,2,1,"mat-cell",57),w(),T(186,84),x(187,rh,50,23,"mat-cell",57),w(),l(),w(),T(188,85),a(189,"mat-paginator",86,2),b("page",function(y){return m(s),u(t.onTablePageingData(y))}),l(),w(),l()}i&2&&(E(t.requestLinkUserId>0?0:-1),o(),E((t.requestLinkBillboardId==null?null:t.requestLinkBillboardId.length)>0?1:-1),o(),E((t.requestLinkContractTypeId==null?null:t.requestLinkContractTypeId.length)>0?2:-1),o(),E((t.requestLinkCustomerOrderId==null?null:t.requestLinkCustomerOrderId.length)>0?3:-1),o(),E((t.requestLinkPropertyTypeLanduseId==null?null:t.requestLinkPropertyTypeLanduseId.length)>0?4:-1),o(),E((t.requestLinkPropertyTypeUsageId==null?null:t.requestLinkPropertyTypeUsageId.length)>0?5:-1),o(),E((t.requestLinkProjectId==null?null:t.requestLinkProjectId.length)>0?6:-1),o(),E((t.requestLinkCompanyId==null?null:t.requestLinkCompanyId.length)>0?7:-1),o(),f("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey","estate.property.list"),P("optionActionGuideNoticeDisplay",t.viewGuideNotice),f("optionTreeDisplay",(t.requestLinkPropertyTypeLanduseId==null?null:t.requestLinkPropertyTypeLanduseId.length)===0)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionActionRowDisplayMenuAct",t.tableRowSelectActionMenuClick)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.title),o(6),E((t.requestLinkPropertyTypeLanduseId==null?null:t.requestLinkPropertyTypeLanduseId.length)>0?14:-1),o(4),j("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(7),f("checked",t.optionsSearch.data.show),o(),h("",C(27,63,"ACTION.SEARCH")," "),o(3),f("checked",t.optionsStatist.data.show),o(),h("",C(31,65,"ACTION.STATIST")," "),o(3),f("checked",t.searchInCheckingChecked),o(),h(" ",C(35,67,"ACTION.INCHECKING")," "),o(3),f("checked",t.searchInResponsibleChecked),o(),h(" ",C(39,69,"ACTION.InResponsible")," "),o(3),E(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessAddRow&&t.optionloadByRoute?41:-1),o(),E(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessAddRow&&t.optionloadByRoute?42:-1),o(7),h(" ",C(50,71,"ACTION.QUICK_VIEW")," "),o(2),E(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow&&((t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0||(t.requestLinkPropertyTypeLanduseId==null?null:t.requestLinkPropertyTypeLanduseId.length)>0)?51:-1),o(),E(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow&&t.optionloadByRoute&&((t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0||(t.requestLinkPropertyTypeLanduseId==null?null:t.requestLinkPropertyTypeLanduseId.length)>0)?52:-1),o(),E(t.tokenHelper.isAdminSite&&t.optionloadByRoute&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0?53:-1),o(),E(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?54:-1),o(6),h(" ",C(61,73,"ACTION.HISTORY_ADD")," "),o(7),h(" ",C(68,75,"ACTION.HISTORY_LIST")," "),o(7),h(" ",C(75,77,"ACTION.VIEW_OTHER_USER_ADVERTISE")," "),o(3),f("routerLink",R("/core/user/edit/"+(t.tableRowSelected==null?null:t.tableRowSelected.createdBy))),o(4),h(" ",C(82,79,"ACTION.VIEW_USER")," "),o(7),h(" ",C(89,81,"TITLE.LINKTO")," "),o(7),h(" ",C(96,83,"TITLE.ResponsibleUsers")," "),o(2),E(t.tableRowSelected&&(t.tokenInfo==null||t.tokenInfo.access==null?null:t.tokenInfo.access.siteId)>0&&(t.tableRowSelected==null?null:t.tableRowSelected.linkSiteId)!==t.tokenInfo.access.siteId?97:-1),o(2),P("options",t.optionsSearch),o(3),M(C(103,85,"MESSAGE.Content_of_your_choice_to_display")),o(4),M(t.fieldsInfo.caseCode==null?null:t.fieldsInfo.caseCode.fieldTitle),o(),f("placeholder",R(t.fieldsInfo.caseCode==null?null:t.fieldsInfo.caseCode.fieldTitle)),P("ngModel",t.filteModelContent.caseCode),o(2),E(t.filteModelContent.caseCode?109:-1),o(5),M(C(115,87,"TITLE.info")),o(3),M(t.fieldsInfo.caseCode==null?null:t.fieldsInfo.caseCode.fieldDescription),o(),E(!t.filteModelContent.caseCode||t.filteModelContent.caseCode.length===0?118:-1),o(),P("options",t.optionsStatist),o(2),f("dataSource",t.tableSource),o(2),f("matHeaderRowDef",t.tabledisplayedColumns),o(),f("matRowDefColumns",ne(89,yC)),o(),f("matRowDefColumns",t.tabledisplayedColumns),o(),f("matRowDefColumns",ne(90,gC)),o(63),f("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",ne(91,vC)))},dependencies:[se,Qe,xr,oe,xi,X,xe,kr,Be,Fo,Lo,Vo,Oo,Ho,Bo,Ai,Pi,ko,pi,st,de,te,Vt,Ot,Bt,Ht,Ft,Nt,ct,pt,_t,mt,dt,Ct,ut,ft,ht,St,xt,qt,Wt,Fi,nr,hn,jt,Jo,Xo,Zo,er,tr,ir,Qt,zt,Li,ma,zi,to,no,ro,lo,co,yr,mo,_i,Hi,Ci,be,N,ki,ai,Fe,Ri,$t,rr,Yt,Go],encapsulation:2});var Xa=ho;var ah=["vform"];function lh(n,r){if(n&1){let e=I();a(0,"mat-icon",19),b("click",function(){m(e);let t=d(2);return u(t.dataModel.linkContractTypeId=null)}),c(1,"close "),l()}}function sh(n,r){if(n&1){let e=I();a(0,"app-estate-contract-type-selector",18),_(1,"translate"),b("optionChange",function(t){m(e);let s=d();return u(s.onActionSelectorContarctType(t))}),v(2,lh,2,0,"mat-icon",16),l()}if(n&2){let e=d();f("optionTypeView",1)("optionDisabled",!1)("optionSelectForce",e.dataModel.linkContractTypeId)("optionPlaceholder",C(1,5,"TITLE.Transaction_type")),o(2),E(e.dataModel.linkContractTypeId&&(e.dataModel.linkContractTypeId==null?null:e.dataModel.linkContractTypeId.length)>0?2:-1)}}function ch(n,r){if(n&1){let e=I();a(0,"mat-icon",19),b("click",function(){m(e);let t=d(2);return u(t.dataModel.linkPropertyTypeUsageId=null)}),c(1,"close "),l()}}function dh(n,r){if(n&1){let e=I();a(0,"app-estate-property-type-usage-selector",15),_(1,"translate"),b("optionChange",function(t){m(e);let s=d();return u(s.onActionSelectorSelectUsage(t))}),v(2,ch,2,0,"mat-icon",16),l()}if(n&2){let e=d();f("optionDisabled",!1)("optionTypeView",1)("optionSelectForce",e.dataModel.linkPropertyTypeUsageId)("optionPlaceholder",C(1,5,"TITLE.Type_Usage")),o(2),E(e.dataModel.linkPropertyTypeUsageId&&(e.dataModel.linkPropertyTypeUsageId==null?null:e.dataModel.linkPropertyTypeUsageId.length)>0?2:-1)}}function ph(n,r){if(n&1){let e=I();a(0,"mat-icon",19),b("click",function(){m(e);let t=d();return u(t.onActionSelectorSelectLanduse(null))}),c(1,"close "),l()}}function mh(n,r){if(n&1&&(a(0,"div"),c(1),_(2,"translate"),_(3,"number"),l()),n&2){let e=d().$implicit;o(),q(" ",C(2,2,"TITLE.SalePrice")," : ",C(3,4,e.salePriceMin)," ")}}function uh(n,r){if(n&1&&(a(0,"div"),c(1),_(2,"translate"),_(3,"number"),l()),n&2){let e=d().$implicit;o(),q(" ",C(2,2,"TITLE.RentPrice")," : ",C(3,4,e.rentPriceMin)," ")}}function fh(n,r){if(n&1&&(a(0,"div"),c(1),_(2,"translate"),_(3,"number"),l()),n&2){let e=d().$implicit;o(),q(" ",C(2,2,"TITLE.DepositPrice")," : ",C(3,4,e.depositPriceMin)," ")}}function _h(n,r){if(n&1&&(a(0,"div"),c(1),_(2,"translate"),_(3,"number"),l()),n&2){let e=d().$implicit;o(),q(" ",C(2,2,"TITLE.PeriodPrice"),": ",C(3,4,e.periodPriceMin)," ")}}function Ch(n,r){if(n&1&&(a(0,"div"),c(1),_(2,"translate"),_(3,"number"),l()),n&2){let e=d().$implicit;o(),q(" ",C(2,2,"TITLE.SalePrice")," : ",C(3,4,e.salePriceAverage)," ")}}function hh(n,r){if(n&1&&(a(0,"div"),c(1),_(2,"translate"),_(3,"number"),l()),n&2){let e=d().$implicit;o(),q(" ",C(2,2,"TITLE.RentPrice")," : ",C(3,4,e.rentPriceAverage)," ")}}function Sh(n,r){if(n&1&&(a(0,"div"),c(1),_(2,"translate"),_(3,"number"),l()),n&2){let e=d().$implicit;o(),q(" ",C(2,2,"TITLE.DepositPrice")," : ",C(3,4,e.depositPriceAverage)," ")}}function yh(n,r){if(n&1&&(a(0,"div"),c(1),_(2,"translate"),_(3,"number"),l()),n&2){let e=d().$implicit;o(),q(" ",C(2,2,"TITLE.PeriodPrice"),": ",C(3,4,e.periodPriceAverage)," ")}}function gh(n,r){if(n&1&&(a(0,"div"),c(1),_(2,"translate"),_(3,"number"),l()),n&2){let e=d().$implicit;o(),q(" ",C(2,2,"TITLE.SalePrice")," : ",C(3,4,e.salePriceMax)," ")}}function vh(n,r){if(n&1&&(a(0,"div"),c(1),_(2,"translate"),_(3,"number"),l()),n&2){let e=d().$implicit;o(),q(" ",C(2,2,"TITLE.RentPrice")," : ",C(3,4,e.rentPriceMax)," ")}}function Eh(n,r){if(n&1&&(a(0,"div"),c(1),_(2,"translate"),_(3,"number"),l()),n&2){let e=d().$implicit;o(),q(" ",C(2,2,"TITLE.DepositPrice")," : ",C(3,4,e.depositPriceMax)," ")}}function bh(n,r){if(n&1&&(a(0,"div"),c(1),_(2,"translate"),_(3,"number"),l()),n&2){let e=d().$implicit;o(),q(" ",C(2,2,"TITLE.PeriodPrice"),": ",C(3,4,e.periodPriceMax)," ")}}function Ih(n,r){if(n&1&&(a(0,"tr")(1,"td"),c(2),_(3,"enums"),l(),a(4,"td"),c(5),l(),a(6,"td"),v(7,mh,4,6,"div"),v(8,uh,4,6,"div"),v(9,fh,4,6,"div"),v(10,_h,4,6,"div"),l(),a(11,"td"),v(12,Ch,4,6,"div"),v(13,hh,4,6,"div"),v(14,Sh,4,6,"div"),v(15,yh,4,6,"div"),l(),a(16,"td"),v(17,gh,4,6,"div"),v(18,vh,4,6,"div"),v(19,Eh,4,6,"div"),v(20,bh,4,6,"div"),l()()),n&2){let e=r.$implicit,i=d();o(2),h(" ",Ki(3,14,e.expertPriceType,i.dataModelEstatePropertyExpertPriceTypeEnumResult.listItems)," "),o(3),M(e.createdYaer),o(2),E(e.salePriceMin&&e.salePriceMin>0?7:-1),o(),E(e.rentPriceMin&&e.rentPriceMin>0?8:-1),o(),E(e.depositPriceMin&&e.depositPriceMin>0?9:-1),o(),E(e.periodPriceMin&&e.periodPriceMin>0?10:-1),o(2),E(e.salePriceAverage&&e.salePriceAverage>0?12:-1),o(),E(e.rentPriceAverage&&e.rentPriceAverage>0?13:-1),o(),E(e.depositPriceAverage&&e.depositPriceAverage>0?14:-1),o(),E(e.periodPriceAverage&&e.periodPriceAverage>0?15:-1),o(2),E(e.salePriceMax&&e.salePriceMax>0?17:-1),o(),E(e.rentPriceMax&&e.rentPriceMax>0?18:-1),o(),E(e.depositPriceMax&&e.depositPriceMax>0?19:-1),o(),E(e.periodPriceMax&&e.periodPriceMax>0?20:-1)}}function Mh(n,r){if(n&1&&(a(0,"button",22),S(1,"i",23),c(2),_(3,"translate"),l()),n&2){d(2);let e=D(10);f("disabled",!e.form.valid),o(2),h(" ",C(3,2,"ACTION.Inquiry")," ")}}function Th(n,r){if(n&1){let e=I();a(0,"div",17)(1,"button",20),b("click",function(){m(e);let t=d();return u(t.onFormCancel())}),S(2,"i",21),c(3),_(4,"translate"),l(),v(5,Mh,4,4,"button",22),l()}if(n&2){let e=d();o(3),h(" ",C(4,2,"ACTION.CANCEL")," "),o(2),E(e.formInfo.submitButtonEnabled?5:-1)}}var So=class So{constructor(r,e,i,t,s,p,y,z,Me){this.data=r;this.dialogRef=e;this.coreEnumService=i;this.estatePropertyExpertPriceService=t;this.estateEnumService=s;this.cmsToastrService=p;this.publicHelper=y;this.cdr=z;this.translate=Me;this.constructorInfoAreaId=this.constructor.name;this.appLanguage="fa";this.dataModel=new Dr;this.dataModelResult=new Q;this.dataModelEstatePropertyExpertPriceTypeEnumResult=new Q;this.formInfo=new sa;this.PropertyTypeSelected=new si;this.dataModelCorCurrencySelector=new Ei;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,r&&(this.dataModel.linkLocationId=+r.linkLocationId|0,this.dataModel.linkCoreCurrencyId=+r.linkCoreCurrencyId|0,this.dataModel.createdYaer=+r.createdYaer|0,this.dataModel.linkContractTypeId=r.linkContractTypeId,this.dataModel.linkPropertyTypeLanduseId=r.linkPropertyTypeLanduseId,this.dataModel.linkPropertyTypeUsageId=r.linkPropertyTypeUsageId)}ngOnInit(){this.translate.get("TITLE.Expert_Price_Inquiry").subscribe(r=>{this.formInfo.formTitle=r}),this.getEstatePropertyExpertPriceTypeEnum(),this.dataModel.linkLocationId>0&&this.dataModel.linkCoreCurrencyId>0&&this.dataModel.createdYaer>0&&this.dataModel.linkContractTypeId&&this.dataModel.linkContractTypeId.length>0&&this.dataModel.linkPropertyTypeLanduseId&&this.dataModel.linkPropertyTypeLanduseId.length>0&&this.dataModel.linkPropertyTypeUsageId&&this.dataModel.linkPropertyTypeUsageId.length>0&&this.DataActionContent()}getEstatePropertyExpertPriceTypeEnum(){this.estateEnumService.ServiceEstatePropertyExpertPriceTypeEnum().subscribe({next:r=>{this.dataModelEstatePropertyExpertPriceTypeEnumResult=r}})}DataActionContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage="";let r=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(r,e,this.constructorInfoAreaId)}),this.dataModelResult=new Q,this.estatePropertyExpertPriceService.ServicePriceInquiryList(this.dataModel).subscribe({next:e=>{this.formInfo.submitButtonEnabled=!0,e.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(i=>{this.formInfo.submitResultMessage=i,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1}),e.listItems&&e.listItems.length>0?this.dataModelResult=e:(this.translate.get("MESSAGE.PriceInquiryCalculateNotFind").subscribe(i=>{this.cmsToastrService.typeWarningMessage(i)}),this.dialogRef.close({dialogChangedDate:!0}))):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(e.errorMessage)),this.publicHelper.processService.processStop(r)},error:e=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(r,!1)}})}onActionSelectorSelectUsage(r){if(!r||!r.id||r.id.length<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(e=>{this.cmsToastrService.typeWarningSelected(e)});return}this.dataModel.linkPropertyTypeUsageId=r.id}onActionSelectorSelectLanduse(r){if(this.PropertyTypeSelected=null,this.dataModel.linkPropertyTypeLanduseId=null,!r||!r.id||r.id.length<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(e=>{this.cmsToastrService.typeWarningSelected(e)});return}this.PropertyTypeSelected=r,this.dataModel.linkPropertyTypeLanduseId=r.id}onActionSelectorContarctType(r){if(this.dataModel.linkContractTypeId=null,!r||!r.id||r.id.length<=0){this.translate.get("MESSAGE.Type_of_property_transaction_is_not_known").subscribe(e=>{this.cmsToastrService.typeWarningSelected(e)});return}this.dataModel.linkContractTypeId=r.id}onActionSelectorLocation(r){this.dataModel.linkLocationId=null,r&&r.id>0&&(this.dataModel.linkLocationId=r.id)}onActionSelectCurrency(r){if(!r||r.id<=0){this.dataModelCorCurrencySelector=null,this.dataModel.linkCoreCurrencyId=null;return}this.dataModelCorCurrencySelector=r,this.dataModel.linkCoreCurrencyId=r.id}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataActionContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};So.\u0275fac=function(e){return new(e||So)(g(ze),g(He),g(ce),g(Hr),g(Ti),g(F),g(U),g(G),g(H))},So.\u0275cmp=B({type:So,selectors:[["app-estate-property-expert-price-inquiry-list"]],viewQuery:function(e,i){if(e&1&&ot(ah,5),e&2){let t;rt(t=at())&&(i.formGroup=t.first)}},standalone:!1,decls:52,vars:45,consts:[["vform","ngForm"],["CreatedYaer",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.createdYaer",1,"color-highlight"],["matInput","","name","dataModel.SalePriceAverage","type","number","id","dataModel.createdYaer","placeholder","0",3,"ngModelChange","ngModel"],[3,"optionChange","optionSelectForce","optionPlaceholder","optionDisabled"],[3,"optionChange","optionSelectFirstItem","optionSelectForce","optionPlaceholder"],[3,"optionTypeView","optionDisabled","optionSelectForce","optionPlaceholder"],[3,"optionDisabled","optionTypeView","optionSelectForce","optionPlaceholder"],[3,"optionChange","optionDisabled","optionTypeView","optionSelectForce","optionPlaceholder"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",1,"margin-top"],[1,"form-actions"],[3,"optionChange","optionTypeView","optionDisabled","optionSelectForce","optionPlaceholder"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",1,"margin-top",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(e,i){if(e&1){let t=I();a(0,"div",2),S(1,"app-progress-spinner",3),a(2,"div",4)(3,"p",5),c(4),l(),a(5,"p"),c(6),_(7,"translate"),l(),S(8,"app-cms-form-result-message",6),a(9,"form",7,0),b("ngSubmit",function(){return m(t),u(i.onFormSubmit())}),a(11,"div",8)(12,"label",9),c(13),_(14,"translate"),l(),a(15,"input",10,1),k("ngModelChange",function(p){return m(t),A(i.dataModel.createdYaer,p)||(i.dataModel.createdYaer=p),u(p)}),l()(),S(17,"br"),a(18,"app-cms-location-selector",11),_(19,"translate"),b("optionChange",function(p){return m(t),u(i.onActionSelectorLocation(p))}),S(20,"br"),l(),a(21,"app-cms-currency-selector",12),_(22,"translate"),b("optionChange",function(p){return m(t),u(i.onActionSelectCurrency(p))}),l(),S(23,"br"),v(24,sh,3,7,"app-estate-contract-type-selector",13),S(25,"br"),v(26,dh,3,7,"app-estate-property-type-usage-selector",14),S(27,"br"),a(28,"app-estate-property-type-landuse-selector",15),_(29,"translate"),b("optionChange",function(p){return m(t),u(i.onActionSelectorSelectLanduse(p))}),v(30,ph,2,0,"mat-icon",16),l(),S(31,"hr"),a(32,"table")(33,"tr")(34,"td"),c(35),_(36,"translate"),l(),a(37,"td"),c(38),_(39,"translate"),l(),a(40,"td"),c(41),_(42,"translate"),l(),a(43,"td"),c(44),_(45,"translate"),l(),a(46,"td"),c(47),_(48,"translate"),l()(),Se(49,Ih,21,17,"tr",null,he),l(),v(51,Th,6,4,"div",17),l()()()}e&2&&(o(),f("optionsInfoAreaId",i.constructorInfoAreaId),o(3),h(" ",i.formInfo.formTitle," "),o(2),h(" ",C(7,25,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),f("formInfo",i.formInfo),o(5),M(C(14,27,"TITLE.CreatedYaer")),o(2),P("ngModel",i.dataModel.createdYaer),o(3),f("optionSelectForce",i.dataModel.linkLocationId)("optionPlaceholder",C(19,29,"TITLE.Geographical_Region"))("optionDisabled",!1),o(3),f("optionSelectFirstItem",!1)("optionSelectForce",i.dataModel.linkCoreCurrencyId)("optionPlaceholder",C(22,31,"TITLE.Specify_the_transaction_currency")),o(3),E(i.dataModel.linkCoreCurrencyId&&i.dataModel.linkCoreCurrencyId>0?24:-1),o(2),E(i.dataModel.linkCoreCurrencyId&&i.dataModel.linkCoreCurrencyId>0?26:-1),o(2),f("optionDisabled",!1)("optionTypeView",1)("optionSelectForce",i.dataModel.linkPropertyTypeLanduseId)("optionPlaceholder",C(29,33,"TITLE.Property_Type")),o(2),E(i.dataModel.linkPropertyTypeLanduseId&&(i.dataModel.linkPropertyTypeLanduseId==null?null:i.dataModel.linkPropertyTypeLanduseId.length)>0?30:-1),o(5),M(C(36,35,"TITLE.Expert_Type")),o(3),M(C(39,37,"TITLE.CreatedYaer")),o(3),M(C(42,39,"TITLE.Minimum")),o(3),M(C(45,41,"TITLE.Average")),o(3),M(C(48,43,"TITLE.Maximum")),o(2),ye(i.dataModelResult.listItems),o(2),E(i.publicHelper.processService.process.inRunAll?-1:51))},dependencies:[At,oe,xi,X,lt,xe,Pt,st,de,te,Fi,or,W,Ne,Li,_i,Hi,Ci,Mo,N,$o],styles:["@media (max-width: 1399px){.wizard.wizard-4[_ngcontent-%COMP%]   .wizard-nav[_ngcontent-%COMP%]   .wizard-steps[_ngcontent-%COMP%]   .wizard-step[_ngcontent-%COMP%]{flex:0 0 calc(25% - .25rem)}}form[_ngcontent-%COMP%]{text-align:right}.wrapper[_ngcontent-%COMP%]{display:flex;padding-top:15px}.lbl-status[_ngcontent-%COMP%]{width:100px;display:flex;align-items:flex-end;justify-content:center;margin-top:5px}.status-select[_ngcontent-%COMP%]{width:970px}textarea[_ngcontent-%COMP%]{resize:none}.calender-select[_ngcontent-%COMP%]{width:252px}.next-modal[_ngcontent-%COMP%]{width:100px;margin-right:15px}.pb-4[_ngcontent-%COMP%], .py-4[_ngcontent-%COMP%]{padding-bottom:7px!important;padding-top:7px!important}tag-input[_ngcontent-%COMP%]{width:1000px}.leaflet-pane[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute!important}.fs-container[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;top:0;left:0}.lbl-content[_ngcontent-%COMP%]{width:100px;display:flex;align-items:flex-end;justify-content:center;margin-top:25px}@media (min-width: 1400px){.col-xxl-7[_ngcontent-%COMP%]{max-width:100%!important;flex:0 0 100%}}.heroes[_ngcontent-%COMP%]{margin:0 0 2em;list-style-type:none;padding:0;width:15em}.heroes[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{cursor:pointer;position:relative;left:0;background-color:#eee;margin:.5em;padding:.3em 0;height:1.6em;border-radius:4px}.heroes[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{color:#607d8b;background-color:#ddd;left:.1em}.heroes[_ngcontent-%COMP%]   li.selected[_ngcontent-%COMP%]{background-color:#cfd8dc;color:#fff}.heroes[_ngcontent-%COMP%]   li.selected[_ngcontent-%COMP%]:hover{background-color:#bbd8dc;color:#fff}.heroes[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{display:inline-block;font-size:small;color:#fff;padding:.8em .7em 0;background-color:#405061;line-height:1em;position:relative;left:-1px;top:-4px;height:1.8em;margin-right:.8em;border-radius:4px 0 0 4px}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border:2px solid black;padding:15px}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:2px solid black;padding:15px;text-align:center}.margin-top[_ngcontent-%COMP%]{margin-top:10px}"]});var el=So;var wh=["tagInput"];function xh(n,r){if(n&1){let e=I();a(0,"mat-chip",8),b("removed",function(){let t=m(e).$implicit,s=d();return u(s.remove(t))}),c(1),a(2,"button",9)(3,"mat-icon"),c(4,"cancel"),l()()()}if(n&2){let e=r.$implicit;o(),h(" ",e.display," ")}}function Ph(n,r){if(n&1&&(a(0,"mat-option",7),c(1),l()),n&2){let e=r.$implicit;f("value",e),o(),h(" ",e.display," ")}}var $i=class $i{constructor(r,e,i){this.service=r;this.cmsToastrService=e;this.translate=i;this.id=++$i.nextId;this.constructorInfoAreaId=this.constructor.name;this.optionDisabled=!1;this.optionPlaceholder="+ Tag";this.optionLabel="";this.optionRequired=!1;this.optionChange=new je;this.tagDataModel=[];this.tagLastDataModel=[];this.selectForceStatus=!0;this.separatorKeysCodes=[13];this.tagCtrl=new Ue("");this.addOnBlur=!0;this.filteredOptions=this.tagCtrl.valueChanges.pipe(bt(null),Et(400),It(t=>this.filter(t||"")))}set optionSelectForce(r){this.onActionSelectForce(r)}ngOnInit(){(!this.optionLabel||this.optionLabel.length==0&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder)}filter(r){let e=new yi;e.rowPerPage=20,e.accessLoad=!0;let i=new L;return i.propertyName="title",i.value=r,i.searchType=J.Contains,i.clauseType=ee.Or,e.filters.push(i),r&&typeof r=="string"&&(i=new L,i.propertyName="id",i.value=r,i.searchType=J.Equal,i.clauseType=ee.Or,e.filters.push(i)),r&&typeof+r=="number"&&+r>0&&(i=new L,i.propertyName="caseCode",i.value=r,i.searchType=J.Contains,i.clauseType=ee.Or,e.filters.push(i)),this.service.ServiceGetAll(e).pipe(vt(t=>(this.tagLastDataModel=t.listItems.map(s=>({display:s.title,value:s.id})),this.tagLastDataModel)))}checkIndex(r){var e=0,i=-1;return this.tagDataModel.forEach(t=>{t.value==r&&(i=e),e++}),i}add(r){var e;r.value&&this.tagLastDataModel.forEach(i=>{(i.display==r.value||i.value+""==r.value)&&(e=i)}),e&&this.checkIndex(e.value)<0&&(this.tagDataModel.push(e),this.onActionChange()),r.chipInput.clear(),this.tagCtrl.setValue(null)}remove(r){let e=this.checkIndex(r.value);e>=0&&(this.tagDataModel.splice(e,1),this.onActionChange())}selected(r){let e=r.option.value;this.checkIndex(e.value)<0&&this.tagDataModel.push(e),this.tagInput.nativeElement.value="",this.tagCtrl.setValue(null),this.onActionChange()}onActionChange(){let r=[];this.tagDataModel.forEach(e=>{r.findIndex(i=>i==e.value)<0&&r.push(e.value)}),this.selectForceStatus=!1,this.optionChange.emit(r)}onActionSelectForce(r){if(!this.selectForceStatus||!r||r.length===0)return;let e=new yi;r.forEach(i=>{if(i.length>0){let t=new L;t.propertyName="id",t.value=i,t.clauseType=ee.Or,e.filters.push(t)}}),this.service.ServiceGetAll(e).subscribe({next:i=>{i.isSuccess?i.listItems.forEach(t=>{this.tagDataModel.findIndex(s=>s.value==t.id)<0&&this.tagDataModel.push({value:t.id,display:t.title})}):this.cmsToastrService.typeErrorGetAll(i.errorMessage)},error:i=>{this.cmsToastrService.typeErrorGetAll(i)}})}};$i.nextId=0,$i.\u0275fac=function(e){return new(e||$i)(g(wt),g(F),g(H))},$i.\u0275cmp=B({type:$i,selectors:[["app-estate-property-autocomplete"]],viewQuery:function(e,i){if(e&1&&ot(wh,5),e&2){let t;rt(t=at())&&(i.tagInput=t.first)}},inputs:{optionDisabled:"optionDisabled",optionPlaceholder:"optionPlaceholder",optionLabel:"optionLabel",optionRequired:"optionRequired",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange"},standalone:!1,decls:14,vars:10,consts:[["chipList",""],["tagInput",""],["auto","matAutocomplete"],["appearance","fill",2,"width","100%"],["aria-label","tag selection",3,"disabled"],[3,"matChipInputTokenEnd","placeholder","matChipInputAddOnBlur","formControl","matAutocomplete","matChipInputFor","matChipInputSeparatorKeyCodes"],[3,"optionSelected"],[3,"value"],[3,"removed"],["type","button","matChipRemove",""]],template:function(e,i){if(e&1){let t=I();a(0,"mat-form-field",3)(1,"mat-label"),c(2),l(),a(3,"mat-chip-grid",4,0),Se(5,xh,5,1,"mat-chip",null,he),a(7,"input",5,1),b("matChipInputTokenEnd",function(p){return m(t),u(i.add(p))}),l()(),a(9,"mat-autocomplete",6,2),b("optionSelected",function(p){return m(t),u(i.selected(p))}),Se(11,Ph,2,2,"mat-option",7,he),_(13,"async"),l()()}if(e&2){let t=D(4),s=D(10);o(2),M(i.optionLabel),o(),f("disabled",i.optionDisabled),o(2),ye(i.tagDataModel),o(2),f("placeholder"," + "+i.optionPlaceholder)("matChipInputAddOnBlur",i.addOnBlur)("formControl",i.tagCtrl)("matAutocomplete",s)("matChipInputFor",t)("matChipInputSeparatorKeyCodes",i.separatorKeysCodes),o(4),ye(C(13,8,i.filteredOptions))}},dependencies:[oe,X,Je,Dt,kt,Lt,Qr,zr,$r,jr,Ai,Pi,de,be],encapsulation:2});var tl=$i;var yo=class yo{constructor(r){this.sanitizer=r}transform(r,e=!1){let i="";switch(r){case 0:i="fa fa-sort-amount-desc";break;case 1:i="fa fa-sort-amount-asc";break;case 2:i="fa fa-random";break;default:i="fa fa-sort-amount-desc"}return i}};yo.\u0275fac=function(e){return new(e||yo)(g(Ar,16))},yo.\u0275pipe=wr({name:"sortTypeIconClass",type:yo,pure:!0,standalone:!1});var il=yo;function Ah(n,r){if(n&1){let e=I();a(0,"button",8),b("click",function(){m(e);let t=d(2);return u(t.onActionSendUrlToQDoc())}),a(1,"span"),c(2),_(3,"translate"),l(),S(4,"i",9),l()}n&2&&(o(2),M(C(3,1,"ACTION.VIEW")))}function kh(n,r){if(n&1){let e=I();a(0,"div")(1,"p"),c(2),_(3,"translate"),l(),a(4,"div",1)(5,"ng-otp-input",2,0),b("onInputChange",function(t){m(e);let s=d();return u(s.onOtpChange(t))}),l()(),a(7,"div",3),v(8,Ah,5,3,"button",4),l(),a(9,"h5",5),c(10),_(11,"translate"),l(),a(12,"p",6),c(13),_(14,"translate"),a(15,"a",7),c(16," https://qdoc.ir "),l(),c(17),_(18,"translate"),l()()}if(n&2){let e=d();o(2),M(C(3,6,"TITLE.Code_of_Knowledge")),o(3),f("config",e.otpConfig),o(3),E(e.optionUrl&&e.optionUrl.length>0&&(e.QDocModel.username==null?null:e.QDocModel.username.length)===5?8:-1),o(2),h("",C(11,8,"TITLE.Description"),":"),o(3),h(" ",C(14,10,"TITLE.To_do_this_it_is_enough_to_enter_the_site_on_the_device_that_you_want_your_content_to_be_displayed_on")," "),o(4),h(" ",C(18,12,"TITLE.Enter_the_display_code_in_this_section_so_that_your_content_will_be_displayed_on_the_monitor_of_the_device_in_question")," ")}}var Yi=class Yi{constructor(r,e,i){this.cmsToastrService=r;this.http=e;this.translate=i;this.id=++Yi.nextId;this.optionUrl="";this.QDocModel={};this.otpConfig={allowNumbersOnly:!0,length:5,isPasswordInput:!1,disableAutoFocus:!0,placeholder:"",inputStyles:{width:"50px",height:"50px",margin:"5px"}}}ngOnInit(){}onActionSendUrlToQDoc(){if(this.QDocModel.message=this.optionUrl,!this.QDocModel.username&&this.QDocModel.username.length<=0){this.cmsToastrService.typeWarningSelected("\u06A9\u062F \u0634\u0646\u0627\u0633\u0647 \u0631\u0627 \u0627\u0632 \u0648\u0628\u0633\u0627\u06CC\u062A https://Qdoc.ir \u062F\u0631\u06CC\u0627\u0641\u062A \u0646\u0645\u0627\u06CC\u06CC\u062F");return}this.http.post(O.cmsServerConfig.configQDocServerPath,this.QDocModel,{headers:{}}).subscribe({next:r=>{this.translate.get("MESSAGE.The_order_was_sent_to_the_website").subscribe(e=>{this.cmsToastrService.typeSuccessMessage(e)})},error:r=>{this.cmsToastrService.typeErrorMessage("\u0628\u0631\u0631\u0648\u0632 \u062E\u0637\u0627 \u062F\u0631 \u0627\u0631\u0633\u0627\u0644 \u062F\u0633\u062A\u0648\u0631",r)}})}onOtpChange(r){this.QDocModel.username=r}};Yi.nextId=0,Yi.\u0275fac=function(e){return new(e||Yi)(g(F),g(Pr),g(H))},Yi.\u0275cmp=B({type:Yi,selectors:[["app-cms-qdoc"]],inputs:{optionUrl:"optionUrl"},standalone:!1,decls:1,vars:1,consts:[["ngOtpInput",""],[2,"text-align","center"],[3,"onInputChange","config"],[1,"col-m-4","col-sm-12"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[2,"text-align","right"],["dir","rtl",2,"font-size","15px"],["href","https://qdoc.ir","target","_blank"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fas","fa-street-view"]],template:function(e,i){e&1&&v(0,kh,19,14,"div"),e&2&&E(i.optionUrl&&i.optionUrl.length>0?0:-1)},dependencies:[Nr,ca,N],encapsulation:2});var nl=Yi;export{En as a,_r as b,co as c,_i as d,Ci as e,el as f,zi as g,Zi as h,In as i,gi as j,lr as k,Fa as l,Ua as m,Xa as n,tl as o,il as p,nl as q};
