import{f as P}from"./chunk-YXVNOMNY.js";import{Oc as T,pc as _,v as E,wb as D}from"./chunk-UPR5DKLI.js";import{Ea as n,Hc as M,Ja as s,Lb as b,Nb as y,Oa as f,Pd as R,Ua as C,Ud as A,Wa as c,ae as x,ca as u,da as h,hb as a,ib as l,jb as d,je as F,nf as w,rb as g,tc as I,ub as v,wb as p}from"./chunk-4PHK4ED5.js";function O(m,e){if(m&1){let t=g();l(0,"li")(1,"mat-checkbox",1),v("change",function(){let o=u(t).$implicit,S=p();return h(S.onActionSelect(o))}),b(2),d()()}if(m&2){let t=e.$implicit,i=p();n(),a("checked",i.fieldsStatus.get(t.id))("disabled",i.optionDisabled),n(),y(" ",t.title," ")}}var r=class r{constructor(e,t,i,o,S,j){this.coreEnumService=e;this.categoryService=t;this.cdr=i;this.publicHelper=o;this.cmsToastrService=S;this.translate=j;this.id=++r.nextId;this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new R;this.dataModelSelect=[];this.dataIdsSelect=[];this.formControl=new E;this.fieldsStatus=new Map;this.optionDisabled=!1;this.optionSelectFirstItem=!1;this.optionPlaceholder=new c;this.optionChange=new c;this.optionSelectAdded=new c;this.optionSelectRemoved=new c;this.optionReload=()=>this.onActionButtonReload();this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(e){this.onActionSelectForce(e)}ngOnInit(){this.DataGetAll()}DataGetAll(){let e=new A;e.rowPerPage=50,e.accessLoad=!0;let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.categoryService.ServiceGetAll(e).subscribe({next:i=>{i.isSuccess&&(this.dataModelResult=i,this.dataModelResult.listItems.forEach(o=>this.fieldsStatus.set(o.id,!1)),this.dataIdsSelect.forEach(o=>this.fieldsStatus.set(o,!0)),this.dataModelResult.listItems.forEach(o=>{this.fieldsStatus.get(o.id)&&this.dataModelSelect.push(o)})),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t)}})}onActionSelect(e){this.fieldsStatus.get(e.id)?(this.fieldsStatus.set(e.id,!1),this.optionSelectRemoved.emit(e),this.dataModelSelect.splice(this.dataModelSelect.indexOf(e),1)):(this.fieldsStatus.set(e.id,!0),this.optionSelectAdded.emit(e),this.dataModelSelect.push(e)),this.optionChange.emit(this.dataModelSelect)}onActionSelectForce(e){typeof e==typeof Array(Number)?e.forEach(t=>{this.dataIdsSelect.push(t)}):typeof e==typeof Array(w)&&e.forEach(t=>{this.dataIdsSelect.push(t.id)}),this.dataIdsSelect.forEach(t=>this.fieldsStatus.set(t,!0))}onActionButtonReload(){this.DataGetAll()}};r.nextId=0,r.\u0275fac=function(t){return new(t||r)(s(x),s(F),s(I),s(P),s(T),s(_))},r.\u0275cmp=f({type:r,selectors:[["app-cms-sitecategory-selectionlist"]],inputs:{optionDisabled:"optionDisabled",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange",optionSelectAdded:"optionSelectAdded",optionSelectRemoved:"optionSelectRemoved"},standalone:!1,decls:2,vars:1,consts:[[4,"ngFor","ngForOf"],[3,"change","checked","disabled"]],template:function(t,i){t&1&&(l(0,"ul"),C(1,O,3,3,"li",0),d()),t&2&&(n(),a("ngForOf",i.dataModelResult.listItems))},dependencies:[M,D],encapsulation:2});var H=r;export{H as a};
