import{a as vn}from"./chunk-QOLWSUD7.js";import{a as Qe}from"./chunk-PRBK2CBT.js";import{a as bn}from"./chunk-BWVOELDZ.js";import{a as Cn}from"./chunk-K2ZGWDZO.js";import{a as _n,b as gn}from"./chunk-OZEH7UK7.js";import{a as lt}from"./chunk-HC32IMH6.js";import{a as Dt}from"./chunk-EM6C465B.js";import{a as _i}from"./chunk-H56PQPV2.js";import"./chunk-BO6LOMMS.js";import{a as Pe}from"./chunk-677NQ7D7.js";import{a as hi}from"./chunk-K33TURJC.js";import{a as Fe}from"./chunk-NMFX3PJE.js";import{a as Se}from"./chunk-JEF4OJ24.js";import{a as ii}from"./chunk-QGWAMGAE.js";import{d as ue,e as pe,f as fe,i as at}from"./chunk-SY5ASTU2.js";import{a as Re}from"./chunk-7RXKLOGL.js";import"./chunk-AY4XP33B.js";import{a as se}from"./chunk-CI46G5RR.js";import"./chunk-57KTCDM3.js";import{b as To,d as He}from"./chunk-5A7PFONV.js";import{a as ti}from"./chunk-VA5IWJ7T.js";import{b as hn}from"./chunk-3RHHJRHJ.js";import"./chunk-7DUNEHBM.js";import"./chunk-T2SWGMVG.js";import"./chunk-2UR3ITVJ.js";import{a as Be}from"./chunk-JM7AUYWU.js";import"./chunk-HGNWVODT.js";import{a as Ee,d as yt}from"./chunk-XBBMWE56.js";import{a as Sn,b as Io,e as de,f as H}from"./chunk-LID2Z6NB.js";import{A as Xe,Aa as mn,Ba as Kt,Ca as dn,Cb as q,Da as be,Db as W,Ka as Zt,La as ei,Oa as ce,R as xo,Ua as me,Wa as Ye,Xa as Je,a as ze,da as Yt,db as un,ea as Jt,eb as Ue,fa as Ut,fb as Ke,fc as pn,gb as Ze,hb as et,ib as tt,jb as it,kb as ot,lb as nt,ma as Ie,mb as st,na as Te,nb as rt,oa as ne,rc as Y,uc as J,v as Xt,wc as j,zc as fn}from"./chunk-TSM5A4DZ.js";import{F as ln,G as cn,c as Qt,h as Wt,i as jt,k as qt,m as $t,n as zt}from"./chunk-QRBNL5ZA.js";import{$f as fi,Ag as $e,Bg as Ft,Cc as on,Cg as Lt,Dg as At,Gg as oe,H as O,Ig as nn,K as Tt,Kh as an,La as tn,Mg as sn,Mn as V,Wb as Et,ag as pt,ba as qe,bg as Gt,cg as ft,d as re,dg as St,dh as rn,e as Zo,eg as ht,f as ae,fa as en,l as Vo,m as le,n as so,p as Nt,q as k,u as P,v as G,xg as Ht,yg as Si,zg as Rt}from"./chunk-VH4FEZX5.js";import{Ab as w,Ad as Uo,Bb as Jo,Db as Ne,Dc as _,Eb as Ge,Ec as g,Fb as b,Fc as si,Gb as l,H as $o,Hb as r,Ia as Co,Ib as S,Mb as x,Nb as I,Ob as ee,Pb as T,Qa as It,Sb as v,Td as Ko,Ua as Xo,Ub as m,Va as s,Xc as Q,Yb as Ae,Zb as ye,_b as De,bb as bo,cb as h,cc as X,dc as Po,ec as F,ga as go,hc as u,ib as N,ic as A,jb as vo,jc as C,kb as Mo,kc as R,lb as Yo,ld as Ce,mb as U,nc as y,o as jo,ob as L,oc as D,pa as p,pc as B,qa as f,rd as Vt,t as qo,tc as Ve,td as wo,ua as zo,xb as Le,xc as K,xd as pi,yc as kt,zb as M}from"./chunk-2AL2II5Z.js";import{i as z}from"./chunk-SEDBTTTN.js";var Ln=()=>[5,10,20,100],An=(o,a)=>a.id;function yn(o,a){if(o&1){let e=T();l(0,"div",15)(1,"a",24),v("click",function(){p(e);let t=m();return f(t.onActionButtonNewRow())}),S(2,"i",25)(3,"br"),r(),l(4,"p",26),u(5),_(6,"translate"),r()()}o&2&&(s(5),A(g(6,1,"ACTION.ADD")))}function Dn(o,a){if(o&1){let e=T();l(0,"div",15)(1,"a",27),v("click",function(){p(e);let t=m();return f(t.onActionButtonEditRow(t.tableRowSelected))}),S(2,"i",28)(3,"br"),r(),l(4,"p",26),u(5),_(6,"translate"),r()()}o&2&&(s(5),A(g(6,1,"ACTION.EDIT")))}function Bn(o,a){if(o&1){let e=T();l(0,"div",15)(1,"a",29),v("click",function(){p(e);let t=m();return f(t.onActionButtonDeleteRow(t.tableRowSelected))}),S(2,"i",30)(3,"br"),r(),l(4,"p",26),u(5),_(6,"translate"),r()()}o&2&&(s(5),A(g(6,1,"ACTION.DELETE")))}function kn(o,a){if(o&1){let e=T();l(0,"div",15)(1,"a",31),v("click",function(){p(e);let t=m();return f(t.onActionButtonViewRow(t.tableRowSelected))}),S(2,"i",32)(3,"br"),r(),l(4,"p",26),u(5),_(6,"translate"),r()()}o&2&&(s(5),A(g(6,1,"ACTION.VIEW")))}function On(o,a){if(o&1&&(l(0,"div",39),S(1,"i",41),u(2),r()),o&2){let e=m().$implicit,i=m(2);s(2),R(" ",i.fieldsInfo.id==null?null:i.fieldsInfo.id.fieldTitle,": ",e.id)}}function Pn(o,a){if(o&1&&(l(0,"div",39),S(1,"i",42),u(2),_(3,"localeDate"),r()),o&2){let e=m().$implicit,i=m(2);s(2),R(" ",i.fieldsInfo.createdDate==null?null:i.fieldsInfo.createdDate.fieldTitle,": ",g(3,2,e.createdDate))}}function Vn(o,a){if(o&1&&S(0,"select",44),o&2){let e=m(2).$implicit,i=m(2);b("contentService",i.contentService)("row",e)}}function Nn(o,a){if(o&1&&(l(0,"div",39),S(1,"i",43),_(2,"statusIconClass"),M(3,Vn,1,2,"select",44),r()),o&2){let e=m().$implicit,i=m(2);s(),b("ngClass",g(2,2,e.recordStatus)),s(2),w(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessEditRow&&e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?3:-1)}}function Gn(o,a){if(o&1&&(l(0,"div",39),S(1,"i",47),u(2),_(3,"localeDate"),r()),o&2){let e=m(2).$implicit,i=m(2);s(2),R(" ",i.fieldsInfo.updatedDate==null?null:i.fieldsInfo.updatedDate.fieldTitle,": ",g(3,2,e.updatedDate))}}function Hn(o,a){if(o&1){let e=T();l(0,"div",40),M(1,Gn,4,4,"div",39),l(2,"div",39)(3,"span",45),v("click",function(t){return p(e),m(3).onActionCopied(),f(t.stopPropagation())}),S(4,"i",46),r(),u(5),r()()}if(o&2){let e=m().$implicit;s(),w(e.updatedDate?1:-1),s(2),b("cdkCopyToClipboard",e.id.toString()),s(2),C(" ID: ",e.id)}}function Fn(o,a){if(o&1){let e=T();l(0,"div",34),v("click",function(t){let n=p(e).$implicit,d=m(2);return f(d.onActionTableRowSelect(n,t))})("rtclick",function(t){let n=p(e).$implicit,d=m(2);return f(d.onActionTableRowSelect(n,t))})("mouseenter",function(){let t=p(e).$implicit,n=m(2);return f(n.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=p(e).$implicit,n=m(2);return f(n.onActionTableRowMouseLeave(t))}),l(1,"div",35),S(2,"i",36),_(3,"statusIconClass"),r(),l(4,"div",37)(5,"div",38),u(6),r(),M(7,On,3,2,"div",39),M(8,Pn,4,4,"div",39),M(9,Nn,4,4,"div",39),M(10,Hn,6,3,"div",40),r()()}if(o&2){let e=a.$implicit,i=m(2);F("selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))("bg-fade-highlight-light",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)),Le("aria-label",e.id),s(2),b("ngClass",g(3,11,e.recordStatus)),s(4),A("ID: "+e.id),s(),w(e.id?7:-1),s(),w(e.createdDate?8:-1),s(),w(e.recordStatus!==void 0?9:-1),s(),w(i.getRowExpanded(e)?10:-1)}}function Qn(o,a){if(o&1&&(l(0,"div",20),Ne(1,Fn,11,13,"div",33,An),r()),o&2){let e=m();s(),Ge(e.dataModelResult.listItems)}}function Wn(o,a){o&1&&(l(0,"div",21),u(1),_(2,"translate"),r()),o&2&&(s(),A(g(2,1,"MESSAGE.NoRecord")))}var gi=class gi extends ue{constructor(e,i,t,n,d,c,E,$,ie,We,dt,he,ut){super(e,new fi,he,E,ie);this.contentService=e;this.activatedRoute=i;this.cmsToastrService=t;this.cmsConfirmationDialogService=n;this.smsMainApiPathService=d;this.router=c;this.tokenHelper=E;this.cdr=$;this.translate=ie;this.cmsStoreService=We;this.pageInfo=dt;this.publicHelper=he;this.dialog=ut;this.requestLinkApiPathId="";this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new G;this.filterDataModelQueryBuilder=[];this.dataModelCoreCurrencyResult=new k;this.dataModelPrivateResult=new k;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["id","createdDate","StatusInfo","StatusOutOfServiceActive","StatusOutOfServiceExpire","StatusNotStableActive","StatusNotStableExpire","StatusNotStableCount","action_menu"];this.tabledisplayedColumnsMobileSource=["id","createdDate","StatusInfo","StatusOutOfServiceActive","StatusOutOfServiceExpire","StatusNotStableActive","StatusNotStableExpire","StatusNotStableCount","action_menu"];this.unsubscribe=[];this.pullToRefreshState={isRefreshing:!1,startY:0,currentY:0,pullDistance:0,threshold:80};this.Math=Math;this.swipeState=new Map;this.SWIPE_THRESHOLD=100;this.SWIPE_MAX_OFFSET=120;this.publicHelper.processService.cdr=this.cdr,this.requestLinkApiPathId=this.activatedRoute.snapshot.paramMap.get("LinkApiPathId"),this.optionsSearch.parentMethods={onSubmit:ni=>this.onSubmitOptionsSearch(ni)},this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=O.Descending;let Z=new P;this.requestLinkApiPathId?.length>0&&(Z.propertyName="LinkApiPathId",Z.value=this.requestLinkApiPathId,this.filteModelContent.filters.push(Z))}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>z(this,null,function*(){this.tokenInfo=e,this.DataGetAll()}))),this.getPrivateConfig()}getPrivateConfig(){let e=new G;e.rowPerPage=100,this.smsMainApiPathService.ServiceGetAll(e).subscribe({next:i=>{this.dataModelPrivateResult=i}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new fi);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),t.isSuccess?(this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=O.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=O.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=O.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonDeleteRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(n=>{this.cmsToastrService.typeErrorSelected(n)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(n=>{i=n["MESSAGE.Please_Confirm"],t=n["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(n=>{if(n){let d=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(d,c,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(d)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(d,!1)}})}}).catch(()=>{})}onActionSelectorSelect(e){var i=this.filteModelContent.sortColumn,t=this.filteModelContent.sortType;this.filteModelContent=new G,this.filteModelContent.sortColumn=i,this.filteModelContent.sortType=t,this.categoryModelSelected=e,this.DataGetAll()}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{i.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{i.set(c,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(E=>{i.set(E,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}});let n=JSON.parse(JSON.stringify(this.filteModelContent)),d=new P;d.propertyName="recordStatus",d.value=le.Available,n.filters.push(d),this.contentService.ServiceGetCount(n).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(E=>{i.set(E,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonReload(){this.DataGetAll()}onItemTouchStart(e,i){e.stopPropagation();let t=e.touches[0];this.swipeState.set(i,{startX:t.clientX,currentX:t.clientX,offset:0})}onItemTouchMove(e,i){e.stopPropagation();let t=this.swipeState.get(i);if(!t)return;let n=e.touches[0];t.currentX=n.clientX;let d=t.currentX-t.startX,c=document.documentElement.dir==="rtl",E=c?this.SWIPE_MAX_OFFSET:-this.SWIPE_MAX_OFFSET,$=c?-this.SWIPE_MAX_OFFSET:this.SWIPE_MAX_OFFSET;t.offset=Math.max($,Math.min(E,d))}onItemTouchEnd(e,i){e.stopPropagation();let t=this.swipeState.get(i);if(!t)return;let n=document.documentElement.dir==="rtl",d=n?this.SWIPE_THRESHOLD:-this.SWIPE_THRESHOLD;n&&t.offset>d||!n&&t.offset<d||(t.offset=0),this.swipeState.set(i,t)}onTouchStart(e){let t=e.target.closest(".cms-m-content");t&&t.scrollTop===0&&(this.pullToRefreshState.startY=e.touches[0].clientY,this.pullToRefreshState.isRefreshing=!1)}onTouchMove(e){let t=e.target.closest(".cms-m-content");t&&t.scrollTop===0&&this.pullToRefreshState.startY>0&&(this.pullToRefreshState.currentY=e.touches[0].clientY,this.pullToRefreshState.pullDistance=Math.max(0,this.pullToRefreshState.currentY-this.pullToRefreshState.startY),this.pullToRefreshState.pullDistance>10&&e.preventDefault())}onTouchEnd(e){this.pullToRefreshState.pullDistance>=this.pullToRefreshState.threshold&&!this.pullToRefreshState.isRefreshing?(this.pullToRefreshState.isRefreshing=!0,this.onActionButtonReload(),setTimeout(()=>{this.pullToRefreshState.isRefreshing=!1,this.pullToRefreshState.pullDistance=0,this.pullToRefreshState.startY=0,this.pullToRefreshState.currentY=0},1e3)):(this.pullToRefreshState.pullDistance=0,this.pullToRefreshState.startY=0,this.pullToRefreshState.currentY=0)}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/sms/main/api-path"])}onActionButtonNewRow(e){this.cmsToastrService.typeErrorAccessAdd()}onActionButtonEditRow(e){this.cmsToastrService.typeErrorAccessEdit()}};gi.\u0275fac=function(i){return new(i||gi)(h(Si),h(re),h(j),h(se),h(oe),h(ae),h(J),h(Q),h(q),h(Y),h(de),h(H),h(ne))},gi.\u0275cmp=N({type:gi,selectors:[["app-sms-log-apipath-list-mobile"]],standalone:!1,features:[U],decls:37,vars:31,consts:[["paginator",""],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionOnScrollNearBottom","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplay","optionActionRowDisplayMenu","optionActionRowDisplayMenuAct","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-maximize","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-minimize","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],[1,"cms-m-list"],[1,"cms-m-empty"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],["role","button","tabindex","0",1,"cms-m-list-item","border-highlight",3,"selected","bg-fade-highlight-light"],["role","button","tabindex","0",1,"cms-m-list-item","border-highlight",3,"click","rtclick","mouseenter","mouseleave"],[1,"cms-m-list-item-image-placeholder"],["aria-hidden","true",3,"ngClass"],[1,"cms-m-list-item-content"],[1,"cms-m-list-item-title"],[1,"cms-m-list-item-subtitle"],[1,"cms-m-list-item-expanded"],["aria-hidden","true",1,"fa-solid","fa-hashtag"],["aria-hidden","true",1,"fa-solid","fa-calendar"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none","margin-left","8px",3,"contentService","row"],[1,"navi-icon","pointer",3,"click","cdkCopyToClipboard"],[1,"flaticon2-copy"],["aria-hidden","true",1,"fa-solid","fa-calendar-check"]],template:function(i,t){if(i&1){let n=T();l(0,"app-cms-html-list-mobile",1),B("optionActionGuideNoticeDisplayChange",function(c){return p(n),D(t.viewGuideNotice,c)||(t.viewGuideNotice=c),f(c)}),v("optionOnActionButtonMemoRow",function(){return p(n),f(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return p(n),f(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return p(n),f(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return p(n),f(t.onActionButtonPrintRow())})("optionOnScrollNearBottom",function(){return p(n),f(t.onActionLoadNextPage())}),ee(1,2)(2,3)(3,4),x(4,5),l(5,"a",6),v("click",function(){return p(n),f(t.viewGuideNotice=!t.viewGuideNotice)}),S(6,"i",7),r(),l(7,"a",6),v("click",function(){return p(n),f(t.onActionButtonReload())}),S(8,"i",8),r(),l(9,"a",6),v("click",function(){return p(n),f(t.onActionGridExpandRows(!0))}),S(10,"i",9),r(),l(11,"a",6),v("click",function(){return p(n),f(t.onActionGridExpandRows(!1))}),S(12,"i",10),r(),I(),x(13,11),l(14,"a",12),v("click",function(){return p(n),f(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),S(15,"mat-slide-toggle",13),u(16),_(17,"translate"),r(),l(18,"a",12),v("click",function(){return p(n),f(t.onActionButtonStatist())}),S(19,"mat-slide-toggle",13),u(20),_(21,"translate"),r(),I(),x(22,14),M(23,yn,7,3,"div",15),I(),x(24,16),M(25,Dn,7,3,"div",15),M(26,Bn,7,3,"div",15),M(27,kn,7,3,"div",15),I(),x(28,17),l(29,"app-cms-search-list",18),B("optionsChange",function(c){return p(n),D(t.optionsSearch,c)||(t.optionsSearch=c),f(c)}),r(),l(30,"app-cms-statist-list",18),B("optionsChange",function(c){return p(n),D(t.optionsStatist,c)||(t.optionsStatist=c),f(c)}),r(),I(),x(31,19),M(32,Qn,3,0,"div",20)(33,Wn,3,3,"div",21),I(),x(34,22),l(35,"mat-paginator",23,0),v("page",function(c){return p(n),f(t.onTablePageingData(c))}),r(),I(),r()}i&2&&(b("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey","sms.log.api-path.list"),y("optionActionGuideNoticeDisplay",t.viewGuideNotice),b("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplay",(t.tableRowSelected==null?null:t.tableRowSelected.id)>0)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionActionRowDisplayMenuAct",t.tableRowSelectActionMenuClick)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),s(8),F("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),s(7),b("checked",t.optionsSearch.data.show),s(),A(g(17,26,"ACTION.SEARCH")),s(3),b("checked",t.optionsStatist.data.show),s(),A(g(21,28,"ACTION.STATIST")),s(3),w(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessAddRow?23:-1),s(2),w(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow&&(t.tableRowSelected==null?null:t.tableRowSelected.id)>0?25:-1),s(),w(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow&&(t.tableRowSelected==null?null:t.tableRowSelected.id)>0?26:-1),s(),w(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessWatchRow&&(t.tableRowSelected==null?null:t.tableRowSelected.id)>0?27:-1),s(2),y("options",t.optionsSearch),s(),y("options",t.optionsStatist),s(2),w(!(t.dataModelResult==null||t.dataModelResult.listItems==null)&&t.dataModelResult.listItems.length?32:33),s(3),b("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",K(30,Ln)))},dependencies:[Ce,be,ce,me,ze,pe,fe,lt,Se,Fe,W,Pe,Re],encapsulation:2});var Eo=gi;var jn=["vform"];function qn(o,a){if(o&1){let e=T();l(0,"app-cms-enum-record-status-selector",15),B("modelChange",function(t){p(e);let n=m();return D(n.dataModel.recordStatus,t)||(n.dataModel.recordStatus=t),f(t)}),r()}if(o&2){let e=m();y("model",e.dataModel.recordStatus),b("optionDisabled",!((e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.accessEditField)??!1))("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function $n(o,a){if(o&1){let e=T();l(0,"div",12)(1,"label",16),u(2),r(),l(3,"input",17),B("ngModelChange",function(t){p(e);let n=m();return D(n.dataModel.receiverDate,t)||(n.dataModel.receiverDate=t),f(t)}),r(),S(4,"mat-datepicker-toggle",18)(5,"mat-datepicker",19,1),r()}if(o&2){let e=X(6),i=m();s(2),A(i.fieldsInfo.receiverDate==null?null:i.fieldsInfo.receiverDate.fieldTitle),s(),b("placeholder",Ve(i.fieldsInfo.receiverDate==null?null:i.fieldsInfo.receiverDate.fieldTitle))("disabled",Ve(!(i.fieldsInfo.receiverDate!=null&&i.fieldsInfo.receiverDate.accessEditField)))("matDatepicker",e),y("ngModel",i.dataModel.receiverDate),s(),b("for",e),s(),b("calendarHeaderComponent",i.datapickerHeader)}}function zn(o,a){if(o&1){let e=T();l(0,"div",13)(1,"label",20),u(2),r(),l(3,"input",21,2),B("ngModelChange",function(t){p(e);let n=m();return D(n.dataModel.senderNumber,t)||(n.dataModel.senderNumber=t),f(t)}),r(),l(5,"em",22),u(6),r()()}if(o&2){let e=X(4),i=m();s(2),A(i.fieldsInfo.senderNumber==null?null:i.fieldsInfo.senderNumber.fieldTitle),s(),b("disabled",Ve(!(i.fieldsInfo.senderNumber!=null&&i.fieldsInfo.senderNumber.accessEditField))),y("ngModel",i.dataModel.senderNumber),s(3),C("",e.value.length," / 100")}}function Xn(o,a){if(o&1){let e=T();l(0,"div",13)(1,"label",23),u(2),r(),l(3,"input",24,3),B("ngModelChange",function(t){p(e);let n=m();return D(n.dataModel.receiverNumber,t)||(n.dataModel.receiverNumber=t),f(t)}),r(),l(5,"em",22),u(6),r()()}if(o&2){let e=X(4),i=m();s(2),A(i.fieldsInfo.receiverNumber==null?null:i.fieldsInfo.receiverNumber.fieldTitle),s(),b("disabled",Ve(!(i.fieldsInfo.receiverNumber!=null&&i.fieldsInfo.receiverNumber.accessEditField))),y("ngModel",i.dataModel.receiverNumber),s(3),C("",e.value.length," / 100")}}function Yn(o,a){if(o&1){let e=T();l(0,"div",13)(1,"label",25),u(2),r(),l(3,"input",26,4),B("ngModelChange",function(t){p(e);let n=m();return D(n.dataModel.message,t)||(n.dataModel.message=t),f(t)}),r(),l(5,"em",22),u(6),r()()}if(o&2){let e=X(4),i=m();s(2),A(i.fieldsInfo.message==null?null:i.fieldsInfo.message.fieldTitle),s(),b("disabled",Ve(!(i.fieldsInfo.message!=null&&i.fieldsInfo.message.accessEditField))),y("ngModel",i.dataModel.message),s(3),C("",e.value.length," / 100")}}function Jn(o,a){if(o&1){let e=T();l(0,"div",14)(1,"button",27),v("click",function(){p(e);let t=m();return f(t.onFormCancel())}),S(2,"i",28),u(3),_(4,"translate"),r(),l(5,"button",29),S(6,"i",30),u(7),_(8,"translate"),r()()}if(o&2){m();let e=X(10);s(3),C(" ",g(4,3,"ACTION.CANCEL")," "),s(2),b("disabled",!e.form.valid),s(2),C(" ",g(8,5,"ACTION.SAVE")," ")}}var bi=class bi extends ii{constructor(e,i,t,n,d,c,E,$){super(n,new pt,c,$);this.data=e;this.dialogRef=i;this.smsEnumService=t;this.smsLogInBoxService=n;this.cmsToastrService=d;this.publicHelper=c;this.cdr=E;this.translate=$;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new Nt;this.dataModel=new pt;this.dataModelSmsMessageTypeEnumResult=new k;this.dataModelSmsOutBoxTypeEnumResult=new k;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,e&&e.id&&(this.requestId=e.id),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e});else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.getSmsMessageTypeEnum(),this.getSmsOutBoxTypeEnum()}getSmsMessageTypeEnum(){this.smsEnumService.ServiceSmsMessageTypeEnum().subscribe(e=>{this.dataModelSmsMessageTypeEnumResult=e})}getSmsOutBoxTypeEnum(){this.smsEnumService.ServiceSmsOutBoxTypeEnum().subscribe(e=>{this.dataModelSmsOutBoxTypeEnumResult=e})}DataGetOneContent(){if(this.requestId.length<=0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.smsLogInBoxService.setAccessLoad(),this.smsLogInBoxService.setAccessDataType(Tt.Editor),this.smsLogInBoxService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.smsLogInBoxService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success}),this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorSelectLinkApiNumberId(e){if(!e||e.id.length<=0){this.cmsToastrService.typeErrorSelected("\u0645\u0633\u06CC\u0631 \u0633\u0631\u0648\u06CC\u0633 \u062F\u0647\u0646\u062F\u0647 \u0645\u0634\u062E\u0635 \u0646\u06CC\u0633\u062A");return}this.dataModel.linkApiNumberId=e.id}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};bi.\u0275fac=function(i){return new(i||bi)(h(Te),h(Ie),h(Ht),h(Rt),h(j),h(H),h(Q),h(q))},bi.\u0275cmp=N({type:bi,selectors:[["app-sms-log-inbox-edit"]],viewQuery:function(i,t){if(i&1&&Ae(jn,5),i&2){let n;ye(n=De())&&(t.formGroup=n.first)}},standalone:!1,features:[U],decls:17,vars:12,consts:[["vform","ngForm"],["ReceiverDate",""],["SenderNumber",""],["ReceiverNumber",""],["Message",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],[1,"form-actions"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.receiverDate",1,"color-highlight"],["matInput","","type","text","name","dataModel.receiverDate","id","dataModel.receiverDate",1,"form-control","validate-name",3,"ngModelChange","matDatepicker","ngModel","placeholder","disabled"],["matSuffix","",3,"for"],["touchUi","",3,"calendarHeaderComponent"],["for","dataModel.senderNumber",1,"color-highlight"],["matInput","","type","text","name","dataModel.senderNumber","placeholder","123","id","dataModel.senderNumber",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],[2,"text-align","right"],["for","dataModel.receiverNumber",1,"color-highlight"],["matInput","","type","text","name","dataModel.receiverNumber","placeholder","123","id","dataModel.receiverNumber",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.message",1,"color-highlight"],["matInput","","type","text","name","dataModel.message","placeholder","123","id","dataModel.message",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let n=T();l(0,"div",5),S(1,"app-progress-spinner",6),l(2,"div",7)(3,"p",8),u(4),r(),l(5,"p"),u(6),_(7,"translate"),r(),S(8,"app-cms-form-result-message",9),l(9,"form",10,0),v("ngSubmit",function(){return p(n),f(t.onFormSubmit())}),M(11,qn,1,5,"app-cms-enum-record-status-selector",11),M(12,$n,7,9,"div",12),M(13,zn,7,5,"div",13),M(14,Xn,7,5,"div",13),M(15,Yn,7,5,"div",13),M(16,Jn,9,7,"div",14),r()()()}i&2&&(s(),b("optionsInfoAreaId",t.constructorInfoAreaId),s(3),C(" ",t.formInfo.formTitle," "),s(2),C(" ",g(7,10,"TITLE.Be_Careful_When_Entering_Information")," "),s(2),b("formInfo",t.formInfo),s(3),w(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?11:-1),s(),w(t.fieldsInfo.receiverDate!=null&&t.fieldsInfo.receiverDate.accessWatchField?12:-1),s(),w(t.fieldsInfo.senderNumber!=null&&t.fieldsInfo.senderNumber.accessWatchField?13:-1),s(),w(t.fieldsInfo.receiverNumber!=null&&t.fieldsInfo.receiverNumber.accessWatchField?14:-1),s(),w(t.fieldsInfo.message!=null&&t.fieldsInfo.message.accessWatchField?15:-1),s(),w(t.formInfo.submitButtonEnabled?16:-1))},dependencies:[zt,Qt,Wt,jt,$t,qt,Yt,Jt,Ut,Xt,be,ti,Ee,Be,W],encapsulation:2});var vi=bi;var Un=["vform"];function Kn(o,a){if(o&1){let e=T();l(0,"div",7)(1,"button",8),v("click",function(){p(e);let t=m();return f(t.onFormCancel())}),S(2,"i",9),u(3),_(4,"translate"),r()()}o&2&&(s(3),C(" ",g(4,1,"ACTION.CANCEL")," "))}var Mi=class Mi{constructor(a,e,i,t,n,d,c,E,$,ie){this.data=a;this.dialogRef=e;this.coreEnumService=i;this.smsLogInBoxService=t;this.cmsToastrService=n;this.tokenHelper=d;this.cmsStoreService=c;this.cdr=E;this.publicHelper=$;this.translate=ie;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.tokenInfo=new Et;this.dataModelResult=new k;this.dataModel=new pt;this.formInfo=new yt;this.dataModelEnumSendSmsStatusTypeResult=new k;this.fieldsInfo=new Map;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,a&&(this.requestId=a.id+"")}ngOnInit(){if(this.translate.get("TITLE.VIEW").subscribe(a=>{this.formInfo.formTitle=a}),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(a=>a.tokenInfoStore).subscribe(a=>z(this,null,function*(){this.tokenInfo=a}))),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:a=>{this.dataModelEnumSendSmsStatusTypeResult=a}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(a=>a.unsubscribe())}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage="";let a=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(a,e,this.constructorInfoAreaId)}),this.smsLogInBoxService.setAccessLoad(),this.smsLogInBoxService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModel=e.item,e.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+e.item.id,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(e.errorMessage)),this.publicHelper.processService.processStop(a)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(a,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Mi.\u0275fac=function(e){return new(e||Mi)(h(Te),h(Ie),h(qe),h(Rt),h(j),h(J),h(Y),h(Q),h(H),h(q))},Mi.\u0275cmp=N({type:Mi,selectors:[["app-sms-log-inbox-view"]],viewQuery:function(e,i){if(e&1&&Ae(Un,5),e&2){let t;ye(t=De())&&(i.formGroup=t.first)}},standalone:!1,decls:9,vars:6,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection","loader-container"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[3,"formInfo"],[1,"ntk-cms-html-card-footer"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,i){e&1&&(l(0,"div",0),u(1),r(),l(2,"div",1),S(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),r(),l(5,"div",4),S(6,"app-cms-form-result-message",5),r(),l(7,"div",6),M(8,Kn,5,3,"div",7),r()),e&2&&(s(),C(" ",i.formInfo.formTitle," "),s(2),b("optionsInfoAreaId",i.constructorInfoAreaId),s(),b("dataModel",i.dataModel)("optionMethod",1),s(2),b("formInfo",i.formInfo),s(2),w(i.formInfo.submitButtonEnabled?8:-1))},dependencies:[Ee,Dt,Be,W],encapsulation:2});var wi=Mi;var Zn=()=>[5,10,20,100],es=(o,a)=>a.id;function ts(o,a){if(o&1){let e=T();l(0,"div",15)(1,"a",24),v("click",function(){p(e);let t=m();return f(t.onActionButtonNewRow())}),S(2,"i",25)(3,"br"),r(),l(4,"p",26),u(5),_(6,"translate"),r()()}o&2&&(s(5),A(g(6,1,"ACTION.ADD")))}function is(o,a){if(o&1){let e=T();l(0,"div",15)(1,"a",27),v("click",function(){p(e);let t=m();return f(t.onActionButtonEditRow(t.tableRowSelected))}),S(2,"i",28)(3,"br"),r(),l(4,"p",26),u(5),_(6,"translate"),r()()}o&2&&(s(5),A(g(6,1,"ACTION.EDIT")))}function os(o,a){if(o&1){let e=T();l(0,"div",15)(1,"a",29),v("click",function(){p(e);let t=m();return f(t.onActionButtonDeleteRow(t.tableRowSelected))}),S(2,"i",30)(3,"br"),r(),l(4,"p",26),u(5),_(6,"translate"),r()()}o&2&&(s(5),A(g(6,1,"ACTION.DELETE")))}function ns(o,a){if(o&1){let e=T();l(0,"div",15)(1,"a",31),v("click",function(){p(e);let t=m();return f(t.onActionButtonViewRow(t.tableRowSelected))}),S(2,"i",32)(3,"br"),r(),l(4,"p",26),u(5),_(6,"translate"),r()()}o&2&&(s(5),A(g(6,1,"ACTION.VIEW")))}function ss(o,a){if(o&1&&(l(0,"div",39),S(1,"i",41),u(2),r()),o&2){let e=m().$implicit,i=m(2);s(2),R(" ",i.fieldsInfo.id==null?null:i.fieldsInfo.id.fieldTitle,": ",e.id)}}function rs(o,a){if(o&1&&(l(0,"div",39),S(1,"i",42),u(2),_(3,"localeDate"),r()),o&2){let e=m().$implicit,i=m(2);s(2),R(" ",i.fieldsInfo.createdDate==null?null:i.fieldsInfo.createdDate.fieldTitle,": ",g(3,2,e.createdDate))}}function as(o,a){if(o&1&&S(0,"select",44),o&2){let e=m(2).$implicit,i=m(2);b("contentService",i.contentService)("row",e)}}function ls(o,a){if(o&1&&(l(0,"div",39),S(1,"i",43),_(2,"statusIconClass"),M(3,as,1,2,"select",44),r()),o&2){let e=m().$implicit,i=m(2);s(),b("ngClass",g(2,2,e.recordStatus)),s(2),w(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessEditRow&&e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?3:-1)}}function cs(o,a){if(o&1&&(l(0,"div",39),S(1,"i",47),u(2),_(3,"localeDate"),r()),o&2){let e=m(2).$implicit,i=m(2);s(2),R(" ",i.fieldsInfo.updatedDate==null?null:i.fieldsInfo.updatedDate.fieldTitle,": ",g(3,2,e.updatedDate))}}function ms(o,a){if(o&1){let e=T();l(0,"div",40),M(1,cs,4,4,"div",39),l(2,"div",39)(3,"span",45),v("click",function(t){return p(e),m(3).onActionCopied(),f(t.stopPropagation())}),S(4,"i",46),r(),u(5),r()()}if(o&2){let e=m().$implicit;s(),w(e.updatedDate?1:-1),s(2),b("cdkCopyToClipboard",e.id.toString()),s(2),C(" ID: ",e.id)}}function ds(o,a){if(o&1){let e=T();l(0,"div",34),v("click",function(t){let n=p(e).$implicit,d=m(2);return f(d.onActionTableRowSelect(n,t))})("rtclick",function(t){let n=p(e).$implicit,d=m(2);return f(d.onActionTableRowSelect(n,t))})("mouseenter",function(){let t=p(e).$implicit,n=m(2);return f(n.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=p(e).$implicit,n=m(2);return f(n.onActionTableRowMouseLeave(t))}),l(1,"div",35),S(2,"i",36),_(3,"statusIconClass"),r(),l(4,"div",37)(5,"div",38),u(6),r(),M(7,ss,3,2,"div",39),M(8,rs,4,4,"div",39),M(9,ls,4,4,"div",39),M(10,ms,6,3,"div",40),r()()}if(o&2){let e=a.$implicit,i=m(2);F("selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))("bg-fade-highlight-light",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)),Le("aria-label",e.id),s(2),b("ngClass",g(3,11,e.recordStatus)),s(4),A("ID: "+e.id),s(),w(e.id?7:-1),s(),w(e.createdDate?8:-1),s(),w(e.recordStatus!==void 0?9:-1),s(),w(i.getRowExpanded(e)?10:-1)}}function us(o,a){if(o&1&&(l(0,"div",20),Ne(1,ds,11,13,"div",33,es),r()),o&2){let e=m();s(),Ge(e.dataModelResult.listItems)}}function ps(o,a){o&1&&(l(0,"div",21),u(1),_(2,"translate"),r()),o&2&&(s(),A(g(2,1,"MESSAGE.NoRecord")))}var xi=class xi extends ue{constructor(e,i,t,n,d,c,E,$,ie,We,dt,he,ut){super(e,new pt,he,E,ie);this.contentService=e;this.smsMainApiPathService=i;this.activatedRoute=t;this.cmsToastrService=n;this.cmsConfirmationDialogService=d;this.router=c;this.tokenHelper=E;this.cdr=$;this.translate=ie;this.cmsStoreService=We;this.pageInfo=dt;this.publicHelper=he;this.dialog=ut;this.requestLinkSiteId=0;this.requestLinkPrivateConfigId="";this.requestLinkApiNumberId="";this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new G;this.filterDataModelQueryBuilder=[];this.dataModelCoreCurrencyResult=new k;this.dataModelPrivateResult=new k;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["Message","SenderNumber","ReceiverNumber"];this.tabledisplayedColumnsMobileSource=["Message","SenderNumber","ReceiverNumber"];this.unsubscribe=[];this.pullToRefreshState={isRefreshing:!1,startY:0,currentY:0,pullDistance:0,threshold:80};this.Math=Math;this.swipeState=new Map;this.SWIPE_THRESHOLD=100;this.SWIPE_MAX_OFFSET=120;this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:Z=>this.onSubmitOptionsSearch(Z)},this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=O.Descending}ngOnInit(){this.activatedRoute.snapshot.paramMap.get("LinkSiteId")&&(this.requestLinkSiteId=+this.activatedRoute.snapshot.paramMap.get("LinkSiteId")||0),this.activatedRoute.snapshot.paramMap.get("LinkPrivateConfigId")&&(this.requestLinkPrivateConfigId=this.activatedRoute.snapshot.paramMap.get("LinkPrivateConfigId")),this.activatedRoute.snapshot.paramMap.get("LinkApiNumberId")&&(this.requestLinkApiNumberId=this.activatedRoute.snapshot.paramMap.get("LinkApiNumberId"));let e=new P;if(this.requestLinkPrivateConfigId?.length>0&&(e.propertyName="LinkPrivateConfigId",e.value=this.requestLinkPrivateConfigId,this.filteModelContent.filters.push(e)),this.requestLinkApiNumberId?.length>0){let i=new P;i.propertyName="LinkApiNumberId",i.value=this.requestLinkApiNumberId,this.filteModelContent.filters.push(i)}if(this.requestLinkSiteId>0){let i=new P;i.propertyName="linkSiteId",i.value=this.requestLinkSiteId,this.filteModelContent.filters.push(i)}this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(i=>i.tokenInfoStore).subscribe(i=>z(this,null,function*(){this.tokenInfo=i,this.DataGetAll()}))),this.getPrivateConfig()}getPrivateConfig(){let e=new G;e.rowPerPage=100,this.smsMainApiPathService.ServiceGetAll(e).subscribe({next:i=>{this.dataModelPrivateResult=i}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new pt);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));if(this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.categoryModelSelected&&this.categoryModelSelected.id.length>0){let t=new P;t.propertyName="LinkPrivateConfigId",t.value=this.categoryModelSelected.id,i.filters.push(t)}this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=O.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=O.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=O.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonEditRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(vi,{height:"90%",panelClass:i,enterAnimationDuration:V.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:V.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(n=>{n&&n.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(n=>{this.cmsToastrService.typeErrorSelected(n)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(n=>{i=n["MESSAGE.Please_Confirm"],t=n["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(n=>{if(n){let d=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(d,c,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(d)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(d,!1)}})}}).catch(()=>{})}onActionButtonViewRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(wi,{height:"90%",panelClass:i,enterAnimationDuration:V.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:V.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(n=>{n&&n.dialogChangedDate})}onActionSelectorSelect(e){var i=this.filteModelContent.sortColumn,t=this.filteModelContent.sortType;this.filteModelContent=new G,this.filteModelContent.sortColumn=i,this.filteModelContent.sortType=t,this.categoryModelSelected=e,this.DataGetAll()}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{i.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{i.set(c,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(E=>{i.set(E,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}});let n=JSON.parse(JSON.stringify(this.filteModelContent)),d=new P;d.propertyName="recordStatus",d.value=le.Available,n.filters.push(d),this.contentService.ServiceGetCount(n).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(E=>{i.set(E,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonSendMessage(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorSelected();return}let i={state:{LinkApiPathId:e.linkPrivateConfigId,LinkNumberId:e.linkApiNumberId,ReceiverNumber:e.senderNumber,SenderNumber:e.receiverNumber,Message:e.message}};this.router.navigate(["/sms/action/send-message"],i)}onActionButtonReload(){this.DataGetAll()}onItemTouchStart(e,i){e.stopPropagation();let t=e.touches[0];this.swipeState.set(i,{startX:t.clientX,currentX:t.clientX,offset:0})}onItemTouchMove(e,i){e.stopPropagation();let t=this.swipeState.get(i);if(!t)return;let n=e.touches[0];t.currentX=n.clientX;let d=t.currentX-t.startX,c=document.documentElement.dir==="rtl",E=c?this.SWIPE_MAX_OFFSET:-this.SWIPE_MAX_OFFSET,$=c?-this.SWIPE_MAX_OFFSET:this.SWIPE_MAX_OFFSET;t.offset=Math.max($,Math.min(E,d))}onItemTouchEnd(e,i){e.stopPropagation();let t=this.swipeState.get(i);if(!t)return;let n=document.documentElement.dir==="rtl",d=n?this.SWIPE_THRESHOLD:-this.SWIPE_THRESHOLD;n&&t.offset>d||!n&&t.offset<d||(t.offset=0),this.swipeState.set(i,t)}onTouchStart(e){let t=e.target.closest(".cms-m-content");t&&t.scrollTop===0&&(this.pullToRefreshState.startY=e.touches[0].clientY,this.pullToRefreshState.isRefreshing=!1)}onTouchMove(e){let t=e.target.closest(".cms-m-content");t&&t.scrollTop===0&&this.pullToRefreshState.startY>0&&(this.pullToRefreshState.currentY=e.touches[0].clientY,this.pullToRefreshState.pullDistance=Math.max(0,this.pullToRefreshState.currentY-this.pullToRefreshState.startY),this.pullToRefreshState.pullDistance>10&&e.preventDefault())}onTouchEnd(e){this.pullToRefreshState.pullDistance>=this.pullToRefreshState.threshold&&!this.pullToRefreshState.isRefreshing?(this.pullToRefreshState.isRefreshing=!0,this.onActionButtonReload(),setTimeout(()=>{this.pullToRefreshState.isRefreshing=!1,this.pullToRefreshState.pullDistance=0,this.pullToRefreshState.startY=0,this.pullToRefreshState.currentY=0},1e3)):(this.pullToRefreshState.pullDistance=0,this.pullToRefreshState.startY=0,this.pullToRefreshState.currentY=0)}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){}onActionButtonNewRow(e){this.cmsToastrService.typeErrorAccessAdd()}};xi.\u0275fac=function(i){return new(i||xi)(h(Rt),h(oe),h(re),h(j),h(se),h(ae),h(J),h(Q),h(q),h(Y),h(de),h(H),h(ne))},xi.\u0275cmp=N({type:xi,selectors:[["app-sms-log-inbox-list-mobile"]],standalone:!1,features:[U],decls:37,vars:31,consts:[["paginator",""],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionOnScrollNearBottom","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplay","optionActionRowDisplayMenu","optionActionRowDisplayMenuAct","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-maximize","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-minimize","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],[1,"cms-m-list"],[1,"cms-m-empty"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],["role","button","tabindex","0",1,"cms-m-list-item","border-highlight",3,"selected","bg-fade-highlight-light"],["role","button","tabindex","0",1,"cms-m-list-item","border-highlight",3,"click","rtclick","mouseenter","mouseleave"],[1,"cms-m-list-item-image-placeholder"],["aria-hidden","true",3,"ngClass"],[1,"cms-m-list-item-content"],[1,"cms-m-list-item-title"],[1,"cms-m-list-item-subtitle"],[1,"cms-m-list-item-expanded"],["aria-hidden","true",1,"fa-solid","fa-hashtag"],["aria-hidden","true",1,"fa-solid","fa-calendar"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none","margin-left","8px",3,"contentService","row"],[1,"navi-icon","pointer",3,"click","cdkCopyToClipboard"],[1,"flaticon2-copy"],["aria-hidden","true",1,"fa-solid","fa-calendar-check"]],template:function(i,t){if(i&1){let n=T();l(0,"app-cms-html-list-mobile",1),B("optionActionGuideNoticeDisplayChange",function(c){return p(n),D(t.viewGuideNotice,c)||(t.viewGuideNotice=c),f(c)}),v("optionOnActionButtonMemoRow",function(){return p(n),f(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return p(n),f(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return p(n),f(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return p(n),f(t.onActionButtonPrintRow())})("optionOnScrollNearBottom",function(){return p(n),f(t.onActionLoadNextPage())}),ee(1,2)(2,3)(3,4),x(4,5),l(5,"a",6),v("click",function(){return p(n),f(t.viewGuideNotice=!t.viewGuideNotice)}),S(6,"i",7),r(),l(7,"a",6),v("click",function(){return p(n),f(t.onActionButtonReload())}),S(8,"i",8),r(),l(9,"a",6),v("click",function(){return p(n),f(t.onActionGridExpandRows(!0))}),S(10,"i",9),r(),l(11,"a",6),v("click",function(){return p(n),f(t.onActionGridExpandRows(!1))}),S(12,"i",10),r(),I(),x(13,11),l(14,"a",12),v("click",function(){return p(n),f(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),S(15,"mat-slide-toggle",13),u(16),_(17,"translate"),r(),l(18,"a",12),v("click",function(){return p(n),f(t.onActionButtonStatist())}),S(19,"mat-slide-toggle",13),u(20),_(21,"translate"),r(),I(),x(22,14),M(23,ts,7,3,"div",15),I(),x(24,16),M(25,is,7,3,"div",15),M(26,os,7,3,"div",15),M(27,ns,7,3,"div",15),I(),x(28,17),l(29,"app-cms-search-list",18),B("optionsChange",function(c){return p(n),D(t.optionsSearch,c)||(t.optionsSearch=c),f(c)}),r(),l(30,"app-cms-statist-list",18),B("optionsChange",function(c){return p(n),D(t.optionsStatist,c)||(t.optionsStatist=c),f(c)}),r(),I(),x(31,19),M(32,us,3,0,"div",20)(33,ps,3,3,"div",21),I(),x(34,22),l(35,"mat-paginator",23,0),v("page",function(c){return p(n),f(t.onTablePageingData(c))}),r(),I(),r()}i&2&&(b("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey","sms.log.inbox.list"),y("optionActionGuideNoticeDisplay",t.viewGuideNotice),b("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplay",(t.tableRowSelected==null?null:t.tableRowSelected.id)>0)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionActionRowDisplayMenuAct",t.tableRowSelectActionMenuClick)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),s(8),F("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),s(7),b("checked",t.optionsSearch.data.show),s(),A(g(17,26,"ACTION.SEARCH")),s(3),b("checked",t.optionsStatist.data.show),s(),A(g(21,28,"ACTION.STATIST")),s(3),w(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessAddRow?23:-1),s(2),w(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow&&(t.tableRowSelected==null?null:t.tableRowSelected.id)>0?25:-1),s(),w(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow&&(t.tableRowSelected==null?null:t.tableRowSelected.id)>0?26:-1),s(),w(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessWatchRow&&(t.tableRowSelected==null?null:t.tableRowSelected.id)>0?27:-1),s(2),y("options",t.optionsSearch),s(),y("options",t.optionsStatist),s(2),w(!(t.dataModelResult==null||t.dataModelResult.listItems==null)&&t.dataModelResult.listItems.length?32:33),s(3),b("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",K(30,Zn)))},dependencies:[Ce,be,ce,me,ze,pe,fe,lt,Se,Fe,W,Pe,Re],encapsulation:2});var ai=xi;var fs=["vform"];function Ss(o,a){if(o&1){let e=T();l(0,"div",7)(1,"button",8),v("click",function(){p(e);let t=m();return f(t.onFormCancel())}),S(2,"i",9),u(3),_(4,"translate"),r()()}o&2&&(s(3),C(" ",g(4,1,"ACTION.CANCEL")," "))}var Ii=class Ii{constructor(a,e,i,t,n,d,c,E,$,ie){this.data=a;this.dialogRef=e;this.coreEnumService=i;this.smsLogOutBoxDetailService=t;this.cmsToastrService=n;this.tokenHelper=d;this.cmsStoreService=c;this.cdr=E;this.publicHelper=$;this.translate=ie;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.tokenInfo=new Et;this.dataModelResult=new k;this.dataModel=new Gt;this.formInfo=new yt;this.dataModelEnumSendSmsStatusTypeResult=new k;this.fieldsInfo=new Map;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,a&&(this.requestId=a.id+"")}ngOnInit(){if(this.translate.get("TITLE.VIEW").subscribe(a=>{this.formInfo.formTitle=a}),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(a=>a.tokenInfoStore).subscribe(a=>z(this,null,function*(){this.tokenInfo=a}))),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:a=>{this.dataModelEnumSendSmsStatusTypeResult=a}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(a=>a.unsubscribe())}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage="";let a=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(a,e,this.constructorInfoAreaId)}),this.smsLogOutBoxDetailService.setAccessLoad(),this.smsLogOutBoxDetailService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModel=e.item,e.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+e.item.id,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(e.errorMessage)),this.publicHelper.processService.processStop(a)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(a,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Ii.\u0275fac=function(e){return new(e||Ii)(h(Te),h(Ie),h(qe),h(Ft),h(j),h(J),h(Y),h(Q),h(H),h(q))},Ii.\u0275cmp=N({type:Ii,selectors:[["app-sms-log-outbox-detail-view"]],viewQuery:function(e,i){if(e&1&&Ae(fs,5),e&2){let t;ye(t=De())&&(i.formGroup=t.first)}},standalone:!1,decls:9,vars:6,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection","loader-container"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[3,"formInfo"],[1,"ntk-cms-html-card-footer"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,i){e&1&&(l(0,"div",0),u(1),r(),l(2,"div",1),S(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),r(),l(5,"div",4),S(6,"app-cms-form-result-message",5),r(),l(7,"div",6),M(8,Ss,5,3,"div",7),r()),e&2&&(s(),C(" ",i.formInfo.formTitle," "),s(2),b("optionsInfoAreaId",i.constructorInfoAreaId),s(),b("dataModel",i.dataModel)("optionMethod",1),s(2),b("formInfo",i.formInfo),s(2),w(i.formInfo.submitButtonEnabled?8:-1))},dependencies:[Ee,Dt,Be,W],encapsulation:2});var Ti=Ii;var hs=()=>[5,10,20,100],_s=(o,a)=>a.id;function gs(o,a){if(o&1){let e=T();l(0,"div",15)(1,"a",24),v("click",function(){p(e);let t=m();return f(t.onActionButtonNewRow())}),S(2,"i",25)(3,"br"),r(),l(4,"p",26),u(5),_(6,"translate"),r()()}o&2&&(s(5),A(g(6,1,"ACTION.ADD")))}function Cs(o,a){if(o&1){let e=T();l(0,"div",15)(1,"a",27),v("click",function(){p(e);let t=m();return f(t.onActionButtonEditRow(t.tableRowSelected))}),S(2,"i",28)(3,"br"),r(),l(4,"p",26),u(5),_(6,"translate"),r()()}o&2&&(s(5),A(g(6,1,"ACTION.EDIT")))}function bs(o,a){if(o&1){let e=T();l(0,"div",15)(1,"a",29),v("click",function(){p(e);let t=m();return f(t.onActionButtonDeleteRow(t.tableRowSelected))}),S(2,"i",30)(3,"br"),r(),l(4,"p",26),u(5),_(6,"translate"),r()()}o&2&&(s(5),A(g(6,1,"ACTION.DELETE")))}function vs(o,a){if(o&1){let e=T();l(0,"div",15)(1,"a",31),v("click",function(){p(e);let t=m();return f(t.onActionButtonViewRow(t.tableRowSelected))}),S(2,"i",32)(3,"br"),r(),l(4,"p",26),u(5),_(6,"translate"),r()()}o&2&&(s(5),A(g(6,1,"ACTION.VIEW")))}function Ms(o,a){if(o&1&&(l(0,"div",39),S(1,"i",41),u(2),r()),o&2){let e=m().$implicit,i=m(2);s(2),R(" ",i.fieldsInfo.id==null?null:i.fieldsInfo.id.fieldTitle,": ",e.id)}}function ws(o,a){if(o&1&&(l(0,"div",39),S(1,"i",42),u(2),_(3,"localeDate"),r()),o&2){let e=m().$implicit,i=m(2);s(2),R(" ",i.fieldsInfo.createdDate==null?null:i.fieldsInfo.createdDate.fieldTitle,": ",g(3,2,e.createdDate))}}function xs(o,a){if(o&1&&S(0,"select",44),o&2){let e=m(2).$implicit,i=m(2);b("contentService",i.contentService)("row",e)}}function Is(o,a){if(o&1&&(l(0,"div",39),S(1,"i",43),_(2,"statusIconClass"),M(3,xs,1,2,"select",44),r()),o&2){let e=m().$implicit,i=m(2);s(),b("ngClass",g(2,2,e.recordStatus)),s(2),w(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessEditRow&&e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?3:-1)}}function Ts(o,a){if(o&1&&(l(0,"div",39),S(1,"i",47),u(2),_(3,"localeDate"),r()),o&2){let e=m(2).$implicit,i=m(2);s(2),R(" ",i.fieldsInfo.updatedDate==null?null:i.fieldsInfo.updatedDate.fieldTitle,": ",g(3,2,e.updatedDate))}}function Es(o,a){if(o&1){let e=T();l(0,"div",40),M(1,Ts,4,4,"div",39),l(2,"div",39)(3,"span",45),v("click",function(t){return p(e),m(3).onActionCopied(),f(t.stopPropagation())}),S(4,"i",46),r(),u(5),r()()}if(o&2){let e=m().$implicit;s(),w(e.updatedDate?1:-1),s(2),b("cdkCopyToClipboard",e.id.toString()),s(2),C(" ID: ",e.id)}}function Rs(o,a){if(o&1){let e=T();l(0,"div",34),v("click",function(t){let n=p(e).$implicit,d=m(2);return f(d.onActionTableRowSelect(n,t))})("rtclick",function(t){let n=p(e).$implicit,d=m(2);return f(d.onActionTableRowSelect(n,t))})("mouseenter",function(){let t=p(e).$implicit,n=m(2);return f(n.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=p(e).$implicit,n=m(2);return f(n.onActionTableRowMouseLeave(t))}),l(1,"div",35),S(2,"i",36),_(3,"statusIconClass"),r(),l(4,"div",37)(5,"div",38),u(6),r(),M(7,Ms,3,2,"div",39),M(8,ws,4,4,"div",39),M(9,Is,4,4,"div",39),M(10,Es,6,3,"div",40),r()()}if(o&2){let e=a.$implicit,i=m(2);F("selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))("bg-fade-highlight-light",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)),Le("aria-label",e.id),s(2),b("ngClass",g(3,11,e.recordStatus)),s(4),A("ID: "+e.id),s(),w(e.id?7:-1),s(),w(e.createdDate?8:-1),s(),w(e.recordStatus!==void 0?9:-1),s(),w(i.getRowExpanded(e)?10:-1)}}function Ls(o,a){if(o&1&&(l(0,"div",20),Ne(1,Rs,11,13,"div",33,_s),r()),o&2){let e=m();s(),Ge(e.dataModelResult.listItems)}}function As(o,a){o&1&&(l(0,"div",21),u(1),_(2,"translate"),r()),o&2&&(s(),A(g(2,1,"MESSAGE.NoRecord")))}var Ei=class Ei extends ue{constructor(e,i,t,n,d,c,E,$,ie,We,dt,he,ut){super(e,new Gt,he,E,We);this.contentService=e;this.activatedRoute=i;this.cmsToastrService=t;this.cmsConfirmationDialogService=n;this.smsMainApiPathService=d;this.router=c;this.tokenHelper=E;this.cdr=$;this.cmsStoreService=ie;this.translate=We;this.pageInfo=dt;this.publicHelper=he;this.dialog=ut;this.requestLinkOutBoxId="";this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new G;this.filterDataModelQueryBuilder=[];this.dataModelCoreCurrencyResult=new k;this.dataModelPrivateResult=new k;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["id","createdDate","SenderNumber","ReceiverNumber","IsSent","recordDetailStatus","getApiDeliveryStatus","action_menu"];this.tabledisplayedColumnsMobileSource=["id","createdDate","SenderNumber","ReceiverNumber","IsSent","recordDetailStatus","getApiDeliveryStatus","action_menu"];this.unsubscribe=[];this.pullToRefreshState={isRefreshing:!1,startY:0,currentY:0,pullDistance:0,threshold:80};this.Math=Math;this.swipeState=new Map;this.SWIPE_THRESHOLD=100;this.SWIPE_MAX_OFFSET=120;this.publicHelper.processService.cdr=this.cdr,this.requestLinkOutBoxId=this.activatedRoute.snapshot.paramMap.get("LinkOutBoxId"),this.optionsSearch.parentMethods={onSubmit:ni=>this.onSubmitOptionsSearch(ni)},this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=O.Descending;let Z=new P;this.requestLinkOutBoxId&&this.requestLinkOutBoxId.length>0&&(Z.propertyName="LinkOutBoxId",Z.value=this.requestLinkOutBoxId,this.filteModelContent.filters.push(Z))}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>z(this,null,function*(){this.tokenInfo=e,this.DataGetAll()}))),this.getPrivateConfig()}getPrivateConfig(){let e=new G;e.rowPerPage=100,this.smsMainApiPathService.ServiceGetAll(e).subscribe({next:i=>{this.dataModelPrivateResult=i}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Gt);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),t.isSuccess?(this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=O.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=O.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=O.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonDeleteRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(n=>{this.cmsToastrService.typeErrorSelected(n)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(n=>{i=n["MESSAGE.Please_Confirm"],t=n["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(n=>{if(n){let d=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(d,c,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(d)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(d,!1)}})}}).catch(()=>{})}onActionSelectorSelect(e){var i=this.filteModelContent.sortColumn,t=this.filteModelContent.sortType;this.filteModelContent=new G,this.filteModelContent.sortColumn=i,this.filteModelContent.sortType=t,this.categoryModelSelected=e,this.DataGetAll()}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{i.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{i.set(c,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(E=>{i.set(E,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}});let n=JSON.parse(JSON.stringify(this.filteModelContent)),d=new P;d.propertyName="recordStatus",d.value=le.Available,n.filters.push(d),this.contentService.ServiceGetCount(n).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(E=>{i.set(E,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonViewRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Ti,{height:"90%",panelClass:i,enterAnimationDuration:V.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:V.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(n=>{n&&n.dialogChangedDate})}onActionButtonReload(){this.DataGetAll()}onItemTouchStart(e,i){e.stopPropagation();let t=e.touches[0];this.swipeState.set(i,{startX:t.clientX,currentX:t.clientX,offset:0})}onItemTouchMove(e,i){e.stopPropagation();let t=this.swipeState.get(i);if(!t)return;let n=e.touches[0];t.currentX=n.clientX;let d=t.currentX-t.startX,c=document.documentElement.dir==="rtl",E=c?this.SWIPE_MAX_OFFSET:-this.SWIPE_MAX_OFFSET,$=c?-this.SWIPE_MAX_OFFSET:this.SWIPE_MAX_OFFSET;t.offset=Math.max($,Math.min(E,d))}onItemTouchEnd(e,i){e.stopPropagation();let t=this.swipeState.get(i);if(!t)return;let n=document.documentElement.dir==="rtl",d=n?this.SWIPE_THRESHOLD:-this.SWIPE_THRESHOLD;n&&t.offset>d||!n&&t.offset<d||(t.offset=0),this.swipeState.set(i,t)}onTouchStart(e){let t=e.target.closest(".cms-m-content");t&&t.scrollTop===0&&(this.pullToRefreshState.startY=e.touches[0].clientY,this.pullToRefreshState.isRefreshing=!1)}onTouchMove(e){let t=e.target.closest(".cms-m-content");t&&t.scrollTop===0&&this.pullToRefreshState.startY>0&&(this.pullToRefreshState.currentY=e.touches[0].clientY,this.pullToRefreshState.pullDistance=Math.max(0,this.pullToRefreshState.currentY-this.pullToRefreshState.startY),this.pullToRefreshState.pullDistance>10&&e.preventDefault())}onTouchEnd(e){this.pullToRefreshState.pullDistance>=this.pullToRefreshState.threshold&&!this.pullToRefreshState.isRefreshing?(this.pullToRefreshState.isRefreshing=!0,this.onActionButtonReload(),setTimeout(()=>{this.pullToRefreshState.isRefreshing=!1,this.pullToRefreshState.pullDistance=0,this.pullToRefreshState.startY=0,this.pullToRefreshState.currentY=0},1e3)):(this.pullToRefreshState.pullDistance=0,this.pullToRefreshState.startY=0,this.pullToRefreshState.currentY=0)}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/sms/log/outbox"])}onActionButtonNewRow(e){this.cmsToastrService.typeErrorAccessAdd()}onActionButtonEditRow(e){this.cmsToastrService.typeErrorAccessEdit()}};Ei.\u0275fac=function(i){return new(i||Ei)(h(Ft),h(re),h(j),h(se),h(oe),h(ae),h(J),h(Q),h(Y),h(q),h(de),h(H),h(ne))},Ei.\u0275cmp=N({type:Ei,selectors:[["app-sms-log-outboxdetail-list-mobile"]],standalone:!1,features:[U],decls:37,vars:31,consts:[["paginator",""],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionOnScrollNearBottom","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplay","optionActionRowDisplayMenu","optionActionRowDisplayMenuAct","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-maximize","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-minimize","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],[1,"cms-m-list"],[1,"cms-m-empty"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],["role","button","tabindex","0",1,"cms-m-list-item","border-highlight",3,"selected","bg-fade-highlight-light"],["role","button","tabindex","0",1,"cms-m-list-item","border-highlight",3,"click","rtclick","mouseenter","mouseleave"],[1,"cms-m-list-item-image-placeholder"],["aria-hidden","true",3,"ngClass"],[1,"cms-m-list-item-content"],[1,"cms-m-list-item-title"],[1,"cms-m-list-item-subtitle"],[1,"cms-m-list-item-expanded"],["aria-hidden","true",1,"fa-solid","fa-hashtag"],["aria-hidden","true",1,"fa-solid","fa-calendar"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none","margin-left","8px",3,"contentService","row"],[1,"navi-icon","pointer",3,"click","cdkCopyToClipboard"],[1,"flaticon2-copy"],["aria-hidden","true",1,"fa-solid","fa-calendar-check"]],template:function(i,t){if(i&1){let n=T();l(0,"app-cms-html-list-mobile",1),B("optionActionGuideNoticeDisplayChange",function(c){return p(n),D(t.viewGuideNotice,c)||(t.viewGuideNotice=c),f(c)}),v("optionOnActionButtonMemoRow",function(){return p(n),f(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return p(n),f(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return p(n),f(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return p(n),f(t.onActionButtonPrintRow())})("optionOnScrollNearBottom",function(){return p(n),f(t.onActionLoadNextPage())}),ee(1,2)(2,3)(3,4),x(4,5),l(5,"a",6),v("click",function(){return p(n),f(t.viewGuideNotice=!t.viewGuideNotice)}),S(6,"i",7),r(),l(7,"a",6),v("click",function(){return p(n),f(t.onActionButtonReload())}),S(8,"i",8),r(),l(9,"a",6),v("click",function(){return p(n),f(t.onActionGridExpandRows(!0))}),S(10,"i",9),r(),l(11,"a",6),v("click",function(){return p(n),f(t.onActionGridExpandRows(!1))}),S(12,"i",10),r(),I(),x(13,11),l(14,"a",12),v("click",function(){return p(n),f(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),S(15,"mat-slide-toggle",13),u(16),_(17,"translate"),r(),l(18,"a",12),v("click",function(){return p(n),f(t.onActionButtonStatist())}),S(19,"mat-slide-toggle",13),u(20),_(21,"translate"),r(),I(),x(22,14),M(23,gs,7,3,"div",15),I(),x(24,16),M(25,Cs,7,3,"div",15),M(26,bs,7,3,"div",15),M(27,vs,7,3,"div",15),I(),x(28,17),l(29,"app-cms-search-list",18),B("optionsChange",function(c){return p(n),D(t.optionsSearch,c)||(t.optionsSearch=c),f(c)}),r(),l(30,"app-cms-statist-list",18),B("optionsChange",function(c){return p(n),D(t.optionsStatist,c)||(t.optionsStatist=c),f(c)}),r(),I(),x(31,19),M(32,Ls,3,0,"div",20)(33,As,3,3,"div",21),I(),x(34,22),l(35,"mat-paginator",23,0),v("page",function(c){return p(n),f(t.onTablePageingData(c))}),r(),I(),r()}i&2&&(b("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey","sms.log.outbox-detail.list"),y("optionActionGuideNoticeDisplay",t.viewGuideNotice),b("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplay",(t.tableRowSelected==null?null:t.tableRowSelected.id)>0)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionActionRowDisplayMenuAct",t.tableRowSelectActionMenuClick)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),s(8),F("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),s(7),b("checked",t.optionsSearch.data.show),s(),A(g(17,26,"ACTION.SEARCH")),s(3),b("checked",t.optionsStatist.data.show),s(),A(g(21,28,"ACTION.STATIST")),s(3),w(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessAddRow?23:-1),s(2),w(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow&&(t.tableRowSelected==null?null:t.tableRowSelected.id)>0?25:-1),s(),w(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow&&(t.tableRowSelected==null?null:t.tableRowSelected.id)>0?26:-1),s(),w(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessWatchRow&&(t.tableRowSelected==null?null:t.tableRowSelected.id)>0?27:-1),s(2),y("options",t.optionsSearch),s(),y("options",t.optionsStatist),s(2),w(!(t.dataModelResult==null||t.dataModelResult.listItems==null)&&t.dataModelResult.listItems.length?32:33),s(3),b("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",K(30,hs)))},dependencies:[Ce,be,ce,me,ze,pe,fe,lt,Se,Fe,W,Pe,Re],encapsulation:2});var Ao=Ei;var ys=["vform"];function Ds(o,a){if(o&1){let e=T();l(0,"app-cms-enum-record-status-selector",14),B("modelChange",function(t){p(e);let n=m();return D(n.dataModel.recordStatus,t)||(n.dataModel.recordStatus=t),f(t)}),r()}if(o&2){let e=m();y("model",e.dataModel.recordStatus),b("optionDisabled",!((e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.accessEditField)??!1))("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Bs(o,a){if(o&1){let e=T();l(0,"app-cms-enum-record-admin-status-selector",14),B("modelChange",function(t){p(e);let n=m();return D(n.dataModel.adminRecordStatus,t)||(n.dataModel.adminRecordStatus=t),f(t)}),r()}if(o&2){let e=m();y("model",e.dataModel.adminRecordStatus),b("optionDisabled",!(e.fieldsInfo.adminRecordStatus!=null&&e.fieldsInfo.adminRecordStatus.accessEditField))("optionLabel",e.fieldsInfo.adminRecordStatus==null?null:e.fieldsInfo.adminRecordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function ks(o,a){if(o&1){let e=T();l(0,"div",11)(1,"label",15),u(2),r(),l(3,"input",16),B("ngModelChange",function(t){p(e);let n=m();return D(n.dataModel.scheduleSendStart,t)||(n.dataModel.scheduleSendStart=t),f(t)}),r(),S(4,"mat-datepicker-toggle",17)(5,"mat-datepicker",18,1),r()}if(o&2){let e=X(6),i=m();s(2),A(i.fieldsInfo.receiverDate==null?null:i.fieldsInfo.receiverDate.fieldTitle),s(),b("placeholder",Ve(i.fieldsInfo.scheduleSendStart==null?null:i.fieldsInfo.scheduleSendStart.fieldTitle))("matDatepicker",e),y("ngModel",i.dataModel.scheduleSendStart),b("readonly",!(i.fieldsInfo.scheduleSendStart!=null&&i.fieldsInfo.scheduleSendStart.accessEditField)),s(),b("for",e),s(),b("calendarHeaderComponent",i.datapickerHeader)}}function Os(o,a){if(o&1){let e=T();l(0,"div",12)(1,"label",19),u(2),r(),l(3,"input",20,2),B("ngModelChange",function(t){p(e);let n=m();return D(n.dataModel.toNumbers,t)||(n.dataModel.toNumbers=t),f(t)}),r(),l(5,"em",21),u(6),r()()}if(o&2){let e=X(4),i=m();s(2),A(i.fieldsInfo.toNumbers==null?null:i.fieldsInfo.toNumbers.fieldTitle),s(),y("ngModel",i.dataModel.toNumbers),b("readonly",!(i.fieldsInfo.toNumbers!=null&&i.fieldsInfo.toNumbers.accessEditField)),s(3),C("",e.value.length," / 100")}}function Ps(o,a){if(o&1){let e=T();l(0,"div",12)(1,"label",22),u(2),r(),l(3,"textarea",23,3),B("ngModelChange",function(t){p(e);let n=m();return D(n.dataModel.message,t)||(n.dataModel.message=t),f(t)}),r(),l(5,"em",21),u(6),r()()}if(o&2){let e=X(4),i=m();s(2),A(i.fieldsInfo.message==null?null:i.fieldsInfo.message.fieldTitle),s(),y("ngModel",i.dataModel.message),b("readonly",!(i.fieldsInfo.message!=null&&i.fieldsInfo.message.accessEditField)),s(3),C("",e.value.length," ")}}function Vs(o,a){if(o&1){let e=T();l(0,"div",13)(1,"button",24),v("click",function(){p(e);let t=m();return f(t.onFormCancel())}),S(2,"i",25),u(3),_(4,"translate"),r(),l(5,"button",26),S(6,"i",27),u(7),_(8,"translate"),r()()}if(o&2){m();let e=X(10);s(3),C(" ",g(4,3,"ACTION.CANCEL")," "),s(2),b("disabled",!e.form.valid),s(2),C(" ",g(8,5,"ACTION.SAVE")," ")}}var Ri=class Ri extends ii{constructor(e,i,t,n,d,c,E,$){super(n,new St,c,$);this.data=e;this.dialogRef=i;this.smsEnumService=t;this.smsLogOutBoxQueueService=n;this.cmsToastrService=d;this.publicHelper=c;this.cdr=E;this.translate=$;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new Nt;this.dataModel=new St;this.dataModelSmsMessageTypeEnumResult=new k;this.dataModelSmsOutBoxTypeEnumResult=new k;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,e&&e.id&&(this.requestId=e.id),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e});else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.getSmsMessageTypeEnum(),this.getSmsOutBoxTypeEnum()}getSmsMessageTypeEnum(){this.smsEnumService.ServiceSmsMessageTypeEnum().subscribe(e=>{this.dataModelSmsMessageTypeEnumResult=e})}getSmsOutBoxTypeEnum(){this.smsEnumService.ServiceSmsOutBoxTypeEnum().subscribe(e=>{this.dataModelSmsOutBoxTypeEnumResult=e})}DataGetOneContent(){if(this.requestId.length<=0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.smsLogOutBoxQueueService.setAccessLoad(),this.smsLogOutBoxQueueService.setAccessDataType(Tt.Editor),this.smsLogOutBoxQueueService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.smsLogOutBoxQueueService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success}),this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Ri.\u0275fac=function(i){return new(i||Ri)(h(Te),h(Ie),h(Ht),h(Lt),h(j),h(H),h(Q),h(q))},Ri.\u0275cmp=N({type:Ri,selectors:[["app-sms-log-outboxqueue-edit"]],viewQuery:function(i,t){if(i&1&&Ae(ys,5),i&2){let n;ye(n=De())&&(t.formGroup=n.first)}},standalone:!1,features:[U],decls:17,vars:12,consts:[["vform","ngForm"],["ScheduleSendStart",""],["ToNumbers",""],["Message",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],[1,"form-actions"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.scheduleSendStart",1,"color-highlight"],["matInput","","type","text","name","dataModel.scheduleSendStart","id","dataModel.scheduleSendStart",1,"form-control","validate-name",3,"ngModelChange","matDatepicker","ngModel","placeholder","readonly"],["matSuffix","",3,"for"],["touchUi","",3,"calendarHeaderComponent"],["for","dataModel.toNumbers",1,"color-highlight"],["matInput","","type","text","name","dataModel.toNumbers","placeholder","123","id","dataModel.toNumbers",1,"form-control","validate-name",3,"ngModelChange","ngModel","readonly"],[2,"text-align","right"],["for","dataModel.message",1,"color-highlight"],["matInput","","rows","20","type","text","name","dataModel.message","placeholder","123","id","dataModel.message",1,"form-control","validate-name",3,"ngModelChange","ngModel","readonly"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let n=T();l(0,"div",4),S(1,"app-progress-spinner",5),l(2,"div",6)(3,"p",7),u(4),r(),l(5,"p"),u(6),_(7,"translate"),r(),S(8,"app-cms-form-result-message",8),l(9,"form",9,0),v("ngSubmit",function(){return p(n),f(t.onFormSubmit())}),M(11,Ds,1,5,"app-cms-enum-record-status-selector",10),M(12,Bs,1,5,"app-cms-enum-record-admin-status-selector",10),M(13,ks,7,8,"div",11),M(14,Os,7,4,"div",12),M(15,Ps,7,4,"div",12),M(16,Vs,9,7,"div",13),r()()()}i&2&&(s(),b("optionsInfoAreaId",t.constructorInfoAreaId),s(3),C(" ",t.formInfo.formTitle," "),s(2),C(" ",g(7,10,"TITLE.Be_Careful_When_Entering_Information")," "),s(2),b("formInfo",t.formInfo),s(3),w(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?11:-1),s(),w(t.fieldsInfo.adminRecordStatus!=null&&t.fieldsInfo.adminRecordStatus.accessWatchField?12:-1),s(),w(t.fieldsInfo.scheduleSendStart!=null&&t.fieldsInfo.scheduleSendStart.accessWatchField?13:-1),s(),w(t.fieldsInfo.toNumbers!=null&&t.fieldsInfo.toNumbers.accessWatchField?14:-1),s(),w(t.fieldsInfo.message!=null&&t.fieldsInfo.message.accessWatchField?15:-1),s(),w(t.formInfo.submitButtonEnabled?16:-1))},dependencies:[zt,Qt,Wt,jt,$t,qt,Yt,Jt,Ut,Xt,be,ti,gn,Ee,Be,W],encapsulation:2});var Li=Ri;var Ns=["vform"];function Gs(o,a){if(o&1){let e=T();l(0,"div",7)(1,"button",8),v("click",function(){p(e);let t=m();return f(t.onFormCancel())}),S(2,"i",9),u(3),_(4,"translate"),r()()}o&2&&(s(3),C(" ",g(4,1,"ACTION.CANCEL")," "))}var Ai=class Ai{constructor(a,e,i,t,n,d,c,E,$,ie){this.data=a;this.dialogRef=e;this.coreEnumService=i;this.smsLogOutBoxQueueService=t;this.cmsToastrService=n;this.tokenHelper=d;this.cmsStoreService=c;this.cdr=E;this.publicHelper=$;this.translate=ie;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.tokenInfo=new Et;this.dataModelResult=new k;this.dataModel=new St;this.formInfo=new yt;this.dataModelEnumSendSmsStatusTypeResult=new k;this.fieldsInfo=new Map;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,a&&(this.requestId=a.id+"")}ngOnInit(){if(this.translate.get("TITLE.VIEW").subscribe(a=>{this.formInfo.formTitle=a}),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(a=>a.tokenInfoStore).subscribe(a=>z(this,null,function*(){this.tokenInfo=a}))),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:a=>{this.dataModelEnumSendSmsStatusTypeResult=a}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(a=>a.unsubscribe())}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage="";let a=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(a,e,this.constructorInfoAreaId)}),this.smsLogOutBoxQueueService.setAccessLoad(),this.smsLogOutBoxQueueService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModel=e.item,e.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+e.item.id,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(e.errorMessage)),this.publicHelper.processService.processStop(a)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(a,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Ai.\u0275fac=function(e){return new(e||Ai)(h(Te),h(Ie),h(qe),h(Lt),h(j),h(J),h(Y),h(Q),h(H),h(q))},Ai.\u0275cmp=N({type:Ai,selectors:[["app-sms-log-outboxqueue-view"]],viewQuery:function(e,i){if(e&1&&Ae(Ns,5),e&2){let t;ye(t=De())&&(i.formGroup=t.first)}},standalone:!1,decls:9,vars:6,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection","loader-container"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[3,"formInfo"],[1,"ntk-cms-html-card-footer"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,i){e&1&&(l(0,"div",0),u(1),r(),l(2,"div",1),S(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),r(),l(5,"div",4),S(6,"app-cms-form-result-message",5),r(),l(7,"div",6),M(8,Gs,5,3,"div",7),r()),e&2&&(s(),C(" ",i.formInfo.formTitle," "),s(2),b("optionsInfoAreaId",i.constructorInfoAreaId),s(),b("dataModel",i.dataModel)("optionMethod",1),s(2),b("formInfo",i.formInfo),s(2),w(i.formInfo.submitButtonEnabled?8:-1))},dependencies:[Ee,Dt,Be,W],encapsulation:2});var yi=Ai;var Hs=()=>[5,10,20,100],Fs=(o,a)=>a.id;function Qs(o,a){if(o&1){let e=T();l(0,"div",15)(1,"a",24),v("click",function(){p(e);let t=m();return f(t.onActionButtonNewRow())}),S(2,"i",25)(3,"br"),r(),l(4,"p",26),u(5),_(6,"translate"),r()()}o&2&&(s(5),A(g(6,1,"ACTION.ADD")))}function Ws(o,a){if(o&1){let e=T();l(0,"div",15)(1,"a",27),v("click",function(){p(e);let t=m();return f(t.onActionButtonEditRow(t.tableRowSelected))}),S(2,"i",28)(3,"br"),r(),l(4,"p",26),u(5),_(6,"translate"),r()()}o&2&&(s(5),A(g(6,1,"ACTION.EDIT")))}function js(o,a){if(o&1){let e=T();l(0,"div",15)(1,"a",29),v("click",function(){p(e);let t=m();return f(t.onActionButtonDeleteRow(t.tableRowSelected))}),S(2,"i",30)(3,"br"),r(),l(4,"p",26),u(5),_(6,"translate"),r()()}o&2&&(s(5),A(g(6,1,"ACTION.DELETE")))}function qs(o,a){if(o&1){let e=T();l(0,"div",15)(1,"a",31),v("click",function(){p(e);let t=m();return f(t.onActionButtonViewRow(t.tableRowSelected))}),S(2,"i",32)(3,"br"),r(),l(4,"p",26),u(5),_(6,"translate"),r()()}o&2&&(s(5),A(g(6,1,"ACTION.VIEW")))}function $s(o,a){if(o&1&&(l(0,"div",39),S(1,"i",41),u(2),r()),o&2){let e=m().$implicit,i=m(2);s(2),R(" ",i.fieldsInfo.id==null?null:i.fieldsInfo.id.fieldTitle,": ",e.id)}}function zs(o,a){if(o&1&&(l(0,"div",39),S(1,"i",42),u(2),_(3,"localeDate"),r()),o&2){let e=m().$implicit,i=m(2);s(2),R(" ",i.fieldsInfo.createdDate==null?null:i.fieldsInfo.createdDate.fieldTitle,": ",g(3,2,e.createdDate))}}function Xs(o,a){if(o&1&&S(0,"select",44),o&2){let e=m(2).$implicit,i=m(2);b("contentService",i.contentService)("row",e)}}function Ys(o,a){if(o&1&&(l(0,"div",39),S(1,"i",43),_(2,"statusIconClass"),M(3,Xs,1,2,"select",44),r()),o&2){let e=m().$implicit,i=m(2);s(),b("ngClass",g(2,2,e.recordStatus)),s(2),w(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessEditRow&&e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?3:-1)}}function Js(o,a){if(o&1&&(l(0,"div",39),S(1,"i",47),u(2),_(3,"localeDate"),r()),o&2){let e=m(2).$implicit,i=m(2);s(2),R(" ",i.fieldsInfo.updatedDate==null?null:i.fieldsInfo.updatedDate.fieldTitle,": ",g(3,2,e.updatedDate))}}function Us(o,a){if(o&1){let e=T();l(0,"div",40),M(1,Js,4,4,"div",39),l(2,"div",39)(3,"span",45),v("click",function(t){return p(e),m(3).onActionCopied(),f(t.stopPropagation())}),S(4,"i",46),r(),u(5),r()()}if(o&2){let e=m().$implicit;s(),w(e.updatedDate?1:-1),s(2),b("cdkCopyToClipboard",e.id.toString()),s(2),C(" ID: ",e.id)}}function Ks(o,a){if(o&1){let e=T();l(0,"div",34),v("click",function(t){let n=p(e).$implicit,d=m(2);return f(d.onActionTableRowSelect(n,t))})("rtclick",function(t){let n=p(e).$implicit,d=m(2);return f(d.onActionTableRowSelect(n,t))})("mouseenter",function(){let t=p(e).$implicit,n=m(2);return f(n.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=p(e).$implicit,n=m(2);return f(n.onActionTableRowMouseLeave(t))}),l(1,"div",35),S(2,"i",36),_(3,"statusIconClass"),r(),l(4,"div",37)(5,"div",38),u(6),r(),M(7,$s,3,2,"div",39),M(8,zs,4,4,"div",39),M(9,Ys,4,4,"div",39),M(10,Us,6,3,"div",40),r()()}if(o&2){let e=a.$implicit,i=m(2);F("selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))("bg-fade-highlight-light",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)),Le("aria-label",e.id),s(2),b("ngClass",g(3,11,e.recordStatus)),s(4),A("ID: "+e.id),s(),w(e.id?7:-1),s(),w(e.createdDate?8:-1),s(),w(e.recordStatus!==void 0?9:-1),s(),w(i.getRowExpanded(e)?10:-1)}}function Zs(o,a){if(o&1&&(l(0,"div",20),Ne(1,Ks,11,13,"div",33,Fs),r()),o&2){let e=m();s(),Ge(e.dataModelResult.listItems)}}function er(o,a){o&1&&(l(0,"div",21),u(1),_(2,"translate"),r()),o&2&&(s(),A(g(2,1,"MESSAGE.NoRecord")))}var Di=class Di extends ue{constructor(e,i,t,n,d,c,E,$,ie,We,dt,he,ut){super(e,new St,he,E,ie);this.contentService=e;this.smsMainApiPathService=i;this.activatedRoute=t;this.cmsToastrService=n;this.cmsConfirmationDialogService=d;this.router=c;this.tokenHelper=E;this.cdr=$;this.translate=ie;this.cmsStoreService=We;this.pageInfo=dt;this.publicHelper=he;this.dialog=ut;this.requestLinkApiPathId="";this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new G;this.filterDataModelQueryBuilder=[];this.dataModelCoreCurrencyResult=new k;this.dataModelPrivateResult=new k;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["id","recordStatus","adminRecordStatus","createdBy","scheduleSendStart","scheduleSendExpire","queueAllowNextRun","queueCompleted","queueCompleteDate","createdDate","updatedDate"];this.tabledisplayedColumnsMobileSource=["id","recordStatus","adminRecordStatus","createdBy","scheduleSendStart","scheduleSendExpire","queueAllowNextRun","queueCompleted","queueCompleteDate"];this.unsubscribe=[];this.pullToRefreshState={isRefreshing:!1,startY:0,currentY:0,pullDistance:0,threshold:80};this.Math=Math;this.swipeState=new Map;this.SWIPE_THRESHOLD=100;this.SWIPE_MAX_OFFSET=120;this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:Z=>this.onSubmitOptionsSearch(Z)},this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=O.Descending}ngOnInit(){this.activatedRoute.snapshot.paramMap.get("LinkApiPathId")&&(this.requestLinkApiPathId=this.activatedRoute.snapshot.paramMap.get("LinkApiPathId"));let e=new P;this.requestLinkApiPathId?.length>0&&(e.propertyName="LinkApiPathId",e.value=this.requestLinkApiPathId,this.filteModelContent.filters.push(e)),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(i=>i.tokenInfoStore).subscribe(i=>z(this,null,function*(){this.tokenInfo=i,this.DataGetAll()}))),this.getPrivateConfig()}getPrivateConfig(){let e=new G;e.rowPerPage=100,this.smsMainApiPathService.ServiceGetAll(e).subscribe({next:i=>{this.dataModelPrivateResult=i}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new St);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));if(this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.categoryModelSelected&&this.categoryModelSelected.id.length>0){let t=new P;t.propertyName="LinkPrivateConfigId",t.value=this.categoryModelSelected.id,i.filters.push(t)}this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=O.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=O.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=O.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonEditRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Li,{height:"90%",panelClass:i,enterAnimationDuration:V.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:V.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(n=>{n&&n.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(n=>{this.cmsToastrService.typeErrorSelected(n)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(n=>{i=n["MESSAGE.Please_Confirm"],t=n["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(n=>{if(n){let d=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(d,c,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(d)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(d,!1)}})}}).catch(()=>{})}onActionButtonViewRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(yi,{height:"90%",panelClass:i,enterAnimationDuration:V.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:V.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(n=>{n&&n.dialogChangedDate})}onActionSelectorSelect(e){var i=this.filteModelContent.sortColumn,t=this.filteModelContent.sortType;this.filteModelContent=new G,this.filteModelContent.sortColumn=i,this.filteModelContent.sortType=t,this.categoryModelSelected=e,this.DataGetAll()}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{i.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{i.set(c,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(E=>{i.set(E,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}});let n=JSON.parse(JSON.stringify(this.filteModelContent)),d=new P;d.propertyName="recordStatus",d.value=le.Available,n.filters.push(d),this.contentService.ServiceGetCount(n).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(E=>{i.set(E,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonReload(){this.DataGetAll()}onItemTouchStart(e,i){e.stopPropagation();let t=e.touches[0];this.swipeState.set(i,{startX:t.clientX,currentX:t.clientX,offset:0})}onItemTouchMove(e,i){e.stopPropagation();let t=this.swipeState.get(i);if(!t)return;let n=e.touches[0];t.currentX=n.clientX;let d=t.currentX-t.startX,c=document.documentElement.dir==="rtl",E=c?this.SWIPE_MAX_OFFSET:-this.SWIPE_MAX_OFFSET,$=c?-this.SWIPE_MAX_OFFSET:this.SWIPE_MAX_OFFSET;t.offset=Math.max($,Math.min(E,d))}onItemTouchEnd(e,i){e.stopPropagation();let t=this.swipeState.get(i);if(!t)return;let n=document.documentElement.dir==="rtl",d=n?this.SWIPE_THRESHOLD:-this.SWIPE_THRESHOLD;n&&t.offset>d||!n&&t.offset<d||(t.offset=0),this.swipeState.set(i,t)}onTouchStart(e){let t=e.target.closest(".cms-m-content");t&&t.scrollTop===0&&(this.pullToRefreshState.startY=e.touches[0].clientY,this.pullToRefreshState.isRefreshing=!1)}onTouchMove(e){let t=e.target.closest(".cms-m-content");t&&t.scrollTop===0&&this.pullToRefreshState.startY>0&&(this.pullToRefreshState.currentY=e.touches[0].clientY,this.pullToRefreshState.pullDistance=Math.max(0,this.pullToRefreshState.currentY-this.pullToRefreshState.startY),this.pullToRefreshState.pullDistance>10&&e.preventDefault())}onTouchEnd(e){this.pullToRefreshState.pullDistance>=this.pullToRefreshState.threshold&&!this.pullToRefreshState.isRefreshing?(this.pullToRefreshState.isRefreshing=!0,this.onActionButtonReload(),setTimeout(()=>{this.pullToRefreshState.isRefreshing=!1,this.pullToRefreshState.pullDistance=0,this.pullToRefreshState.startY=0,this.pullToRefreshState.currentY=0},1e3)):(this.pullToRefreshState.pullDistance=0,this.pullToRefreshState.startY=0,this.pullToRefreshState.currentY=0)}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){}onActionButtonNewRow(e){this.cmsToastrService.typeErrorAccessAdd()}};Di.\u0275fac=function(i){return new(i||Di)(h(Lt),h(oe),h(re),h(j),h(se),h(ae),h(J),h(Q),h(q),h(Y),h(de),h(H),h(ne))},Di.\u0275cmp=N({type:Di,selectors:[["app-sms-log-outboxqueue-list-mobile"]],standalone:!1,features:[U],decls:37,vars:31,consts:[["paginator",""],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionOnScrollNearBottom","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplay","optionActionRowDisplayMenu","optionActionRowDisplayMenuAct","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-maximize","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-minimize","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],[1,"cms-m-list"],[1,"cms-m-empty"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],["role","button","tabindex","0",1,"cms-m-list-item","border-highlight",3,"selected","bg-fade-highlight-light"],["role","button","tabindex","0",1,"cms-m-list-item","border-highlight",3,"click","rtclick","mouseenter","mouseleave"],[1,"cms-m-list-item-image-placeholder"],["aria-hidden","true",3,"ngClass"],[1,"cms-m-list-item-content"],[1,"cms-m-list-item-title"],[1,"cms-m-list-item-subtitle"],[1,"cms-m-list-item-expanded"],["aria-hidden","true",1,"fa-solid","fa-hashtag"],["aria-hidden","true",1,"fa-solid","fa-calendar"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none","margin-left","8px",3,"contentService","row"],[1,"navi-icon","pointer",3,"click","cdkCopyToClipboard"],[1,"flaticon2-copy"],["aria-hidden","true",1,"fa-solid","fa-calendar-check"]],template:function(i,t){if(i&1){let n=T();l(0,"app-cms-html-list-mobile",1),B("optionActionGuideNoticeDisplayChange",function(c){return p(n),D(t.viewGuideNotice,c)||(t.viewGuideNotice=c),f(c)}),v("optionOnActionButtonMemoRow",function(){return p(n),f(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return p(n),f(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return p(n),f(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return p(n),f(t.onActionButtonPrintRow())})("optionOnScrollNearBottom",function(){return p(n),f(t.onActionLoadNextPage())}),ee(1,2)(2,3)(3,4),x(4,5),l(5,"a",6),v("click",function(){return p(n),f(t.viewGuideNotice=!t.viewGuideNotice)}),S(6,"i",7),r(),l(7,"a",6),v("click",function(){return p(n),f(t.onActionButtonReload())}),S(8,"i",8),r(),l(9,"a",6),v("click",function(){return p(n),f(t.onActionGridExpandRows(!0))}),S(10,"i",9),r(),l(11,"a",6),v("click",function(){return p(n),f(t.onActionGridExpandRows(!1))}),S(12,"i",10),r(),I(),x(13,11),l(14,"a",12),v("click",function(){return p(n),f(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),S(15,"mat-slide-toggle",13),u(16),_(17,"translate"),r(),l(18,"a",12),v("click",function(){return p(n),f(t.onActionButtonStatist())}),S(19,"mat-slide-toggle",13),u(20),_(21,"translate"),r(),I(),x(22,14),M(23,Qs,7,3,"div",15),I(),x(24,16),M(25,Ws,7,3,"div",15),M(26,js,7,3,"div",15),M(27,qs,7,3,"div",15),I(),x(28,17),l(29,"app-cms-search-list",18),B("optionsChange",function(c){return p(n),D(t.optionsSearch,c)||(t.optionsSearch=c),f(c)}),r(),l(30,"app-cms-statist-list",18),B("optionsChange",function(c){return p(n),D(t.optionsStatist,c)||(t.optionsStatist=c),f(c)}),r(),I(),x(31,19),M(32,Zs,3,0,"div",20)(33,er,3,3,"div",21),I(),x(34,22),l(35,"mat-paginator",23,0),v("page",function(c){return p(n),f(t.onTablePageingData(c))}),r(),I(),r()}i&2&&(b("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey","sms.log.outbox-queue.list"),y("optionActionGuideNoticeDisplay",t.viewGuideNotice),b("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplay",(t.tableRowSelected==null?null:t.tableRowSelected.id)>0)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionActionRowDisplayMenuAct",t.tableRowSelectActionMenuClick)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),s(8),F("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),s(7),b("checked",t.optionsSearch.data.show),s(),A(g(17,26,"ACTION.SEARCH")),s(3),b("checked",t.optionsStatist.data.show),s(),A(g(21,28,"ACTION.STATIST")),s(3),w(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessAddRow?23:-1),s(2),w(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow&&(t.tableRowSelected==null?null:t.tableRowSelected.id)>0?25:-1),s(),w(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow&&(t.tableRowSelected==null?null:t.tableRowSelected.id)>0?26:-1),s(),w(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessWatchRow&&(t.tableRowSelected==null?null:t.tableRowSelected.id)>0?27:-1),s(2),y("options",t.optionsSearch),s(),y("options",t.optionsStatist),s(2),w(!(t.dataModelResult==null||t.dataModelResult.listItems==null)&&t.dataModelResult.listItems.length?32:33),s(3),b("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",K(30,Hs)))},dependencies:[Ce,be,ce,me,ze,pe,fe,lt,Se,Fe,W,Pe,Re],encapsulation:2});var lo=Di;var tr=["vform"];function ir(o,a){if(o&1){let e=T();l(0,"app-cms-enum-record-status-selector",14),B("modelChange",function(t){p(e);let n=m();return D(n.dataModel.recordStatus,t)||(n.dataModel.recordStatus=t),f(t)}),r()}if(o&2){let e=m();y("model",e.dataModel.recordStatus),b("optionDisabled",!((e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.accessEditField)??!1))("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function or(o,a){if(o&1){let e=T();l(0,"div",11)(1,"label",15),u(2),r(),l(3,"input",16),B("ngModelChange",function(t){p(e);let n=m();return D(n.dataModel.scheduleSendStart,t)||(n.dataModel.scheduleSendStart=t),f(t)}),r(),S(4,"mat-datepicker-toggle",17)(5,"mat-datepicker",18,1),r()}if(o&2){let e=X(6),i=m();s(2),A(i.fieldsInfo.receiverDate==null?null:i.fieldsInfo.receiverDate.fieldTitle),s(),b("placeholder",Ve(i.fieldsInfo.scheduleSendStart==null?null:i.fieldsInfo.scheduleSendStart.fieldTitle))("matDatepicker",e),y("ngModel",i.dataModel.scheduleSendStart),b("readonly",!(i.fieldsInfo.scheduleSendStart!=null&&i.fieldsInfo.scheduleSendStart.accessEditField)),s(),b("for",e),s(),b("calendarHeaderComponent",i.datapickerHeader)}}function nr(o,a){if(o&1){let e=T();l(0,"div",12)(1,"label",19),u(2),r(),l(3,"input",20,2),B("ngModelChange",function(t){p(e);let n=m();return D(n.dataModel.toNumbers,t)||(n.dataModel.toNumbers=t),f(t)}),r(),l(5,"em",21),u(6),r()()}if(o&2){let e=X(4),i=m();s(2),A(i.fieldsInfo.toNumbers==null?null:i.fieldsInfo.toNumbers.fieldTitle),s(),y("ngModel",i.dataModel.toNumbers),b("readonly",!(i.fieldsInfo.toNumbers!=null&&i.fieldsInfo.toNumbers.accessEditField)),s(3),C("",e.value.length," / 100")}}function sr(o,a){if(o&1){let e=T();l(0,"div",12)(1,"label",22),u(2),r(),l(3,"input",23,3),B("ngModelChange",function(t){p(e);let n=m();return D(n.dataModel.message,t)||(n.dataModel.message=t),f(t)}),r(),l(5,"em",21),u(6),r()()}if(o&2){let e=X(4),i=m();s(2),A(i.fieldsInfo.message==null?null:i.fieldsInfo.message.fieldTitle),s(),y("ngModel",i.dataModel.message),b("readonly",!(i.fieldsInfo.message!=null&&i.fieldsInfo.message.accessEditField)),s(3),C("",e.value.length," / 100")}}function rr(o,a){if(o&1){let e=T();l(0,"div",13)(1,"button",24),v("click",function(){p(e);let t=m();return f(t.onFormCancel())}),S(2,"i",25),u(3),_(4,"translate"),r(),l(5,"button",26),S(6,"i",27),u(7),_(8,"translate"),r()()}if(o&2){m();let e=X(10);s(3),C(" ",g(4,3,"ACTION.CANCEL")," "),s(2),b("disabled",!e.form.valid),s(2),C(" ",g(8,5,"ACTION.SAVE")," ")}}var Bi=class Bi extends ii{constructor(e,i,t,n,d,c,E,$){super(n,new ht,c,$);this.data=e;this.dialogRef=i;this.smsEnumService=t;this.smsLogOutBoxTaskSchedulerService=n;this.cmsToastrService=d;this.publicHelper=c;this.cdr=E;this.translate=$;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new Nt;this.dataModel=new ht;this.dataModelSmsMessageTypeEnumResult=new k;this.dataModelSmsOutBoxTypeEnumResult=new k;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,e&&e.id&&(this.requestId=e.id),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e});else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.getSmsMessageTypeEnum(),this.getSmsOutBoxTypeEnum()}getSmsMessageTypeEnum(){this.smsEnumService.ServiceSmsMessageTypeEnum().subscribe(e=>{this.dataModelSmsMessageTypeEnumResult=e})}getSmsOutBoxTypeEnum(){this.smsEnumService.ServiceSmsOutBoxTypeEnum().subscribe(e=>{this.dataModelSmsOutBoxTypeEnumResult=e})}DataGetOneContent(){if(this.requestId.length<=0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.smsLogOutBoxTaskSchedulerService.setAccessLoad(),this.smsLogOutBoxTaskSchedulerService.setAccessDataType(Tt.Editor),this.smsLogOutBoxTaskSchedulerService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.smsLogOutBoxTaskSchedulerService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success}),this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Bi.\u0275fac=function(i){return new(i||Bi)(h(Te),h(Ie),h(Ht),h(At),h(j),h(H),h(Q),h(q))},Bi.\u0275cmp=N({type:Bi,selectors:[["app-sms-log-outbox-task-scheduler-edit"]],viewQuery:function(i,t){if(i&1&&Ae(tr,5),i&2){let n;ye(n=De())&&(t.formGroup=n.first)}},standalone:!1,features:[U],decls:16,vars:11,consts:[["vform","ngForm"],["ScheduleSendStart",""],["ToNumbers",""],["Message",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],[1,"form-actions"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.scheduleSendStart",1,"color-highlight"],["matInput","","type","text","name","dataModel.scheduleSendStart","id","dataModel.scheduleSendStart",1,"form-control","validate-name",3,"ngModelChange","matDatepicker","ngModel","placeholder","readonly"],["matSuffix","",3,"for"],["touchUi","",3,"calendarHeaderComponent"],["for","dataModel.toNumbers",1,"color-highlight"],["matInput","","type","text","name","dataModel.toNumbers","placeholder","123","id","dataModel.toNumbers",1,"form-control","validate-name",3,"ngModelChange","ngModel","readonly"],[2,"text-align","right"],["for","dataModel.message",1,"color-highlight"],["matInput","","type","text","name","dataModel.message","placeholder","123","id","dataModel.message",1,"form-control","validate-name",3,"ngModelChange","ngModel","readonly"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let n=T();l(0,"div",4),S(1,"app-progress-spinner",5),l(2,"div",6)(3,"p",7),u(4),r(),l(5,"p"),u(6),_(7,"translate"),r(),S(8,"app-cms-form-result-message",8),l(9,"form",9,0),v("ngSubmit",function(){return p(n),f(t.onFormSubmit())}),M(11,ir,1,5,"app-cms-enum-record-status-selector",10),M(12,or,7,8,"div",11),M(13,nr,7,4,"div",12),M(14,sr,7,4,"div",12),M(15,rr,9,7,"div",13),r()()()}i&2&&(s(),b("optionsInfoAreaId",t.constructorInfoAreaId),s(3),C(" ",t.formInfo.formTitle," "),s(2),C(" ",g(7,9,"TITLE.Be_Careful_When_Entering_Information")," "),s(2),b("formInfo",t.formInfo),s(3),w(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?11:-1),s(),w(t.fieldsInfo.scheduleSendStart!=null&&t.fieldsInfo.scheduleSendStart.accessWatchField?12:-1),s(),w(t.fieldsInfo.toNumbers!=null&&t.fieldsInfo.toNumbers.accessWatchField?13:-1),s(),w(t.fieldsInfo.message!=null&&t.fieldsInfo.message.accessWatchField?14:-1),s(),w(t.formInfo.submitButtonEnabled?15:-1))},dependencies:[zt,Qt,Wt,jt,$t,qt,Yt,Jt,Ut,Xt,be,ti,Ee,Be,W],encapsulation:2});var ki=Bi;function ar(o,a){o&1&&(S(0,"i",19),_(1,"translate")),o&2&&b("title",g(1,1,"MESSAGE.Success"))}function lr(o,a){o&1&&(S(0,"i",20),_(1,"translate")),o&2&&b("title",g(1,1,"MESSAGE.Failed"))}function cr(o,a){if(o&1&&(l(0,"span",21),u(1),r()),o&2){let e=m().$implicit;s(),A(e.errorMessage)}}function mr(o,a){o&1&&(l(0,"span",22),u(1,"-"),r())}function dr(o,a){if(o&1&&(l(0,"tr")(1,"td",15),u(2),r(),l(3,"td")(4,"span",16),u(5),r()(),l(6,"td")(7,"span",17),u(8),_(9,"localeDateTime"),r()(),l(10,"td")(11,"span",17),u(12),_(13,"localeDateTime"),r()(),l(14,"td")(15,"span",18),u(16),r()(),l(17,"td",15),M(18,ar,2,3,"i",19)(19,lr,2,3,"i",20),r(),l(20,"td"),M(21,cr,2,1,"span",21)(22,mr,2,0,"span",22),r()()),o&2){let e=a.$implicit,i=a.$index;s(2),A(i+1),s(3),A(e.scheduleLockerId),s(3),C(" ",g(9,7,e.scheduleLockedRun)," "),s(4),C(" ",g(13,9,e.scheduleLockedEnd)," "),s(4),A(e.scheduleLockerMicroservice),s(2),w(e.isSuccess?18:19),s(3),w(!e.isSuccess&&e.errorMessage?21:22)}}function ur(o,a){if(o&1&&(l(0,"div",6)(1,"table",11)(2,"thead",12)(3,"tr")(4,"th",13),u(5,"#"),r(),l(6,"th",14),u(7),_(8,"translate"),r(),l(9,"th",14),u(10),_(11,"translate"),r(),l(12,"th",14),u(13),_(14,"translate"),r(),l(15,"th",14),u(16),_(17,"translate"),r(),l(18,"th",13),u(19),_(20,"translate"),r(),l(21,"th",14),u(22),_(23,"translate"),r()()(),l(24,"tbody"),Ne(25,dr,23,11,"tr",null,Jo),r()()()),o&2){let e=m();s(7),C(" ",g(8,6,"TITLE.Schedule_Locker_Id")," "),s(3),C(" ",g(11,8,"TITLE.Schedule_Locked_Run")," "),s(3),C(" ",g(14,10,"TITLE.Schedule_Locked_End")," "),s(3),C(" ",g(17,12,"TITLE.Schedule_Locker_Microservice")," "),s(3),C(" ",g(20,14,"TITLE.Status")," "),s(3),C(" ",g(23,16,"TITLE.Error_Message")," "),s(3),Ge(e.scheduleRunInfos)}}function pr(o,a){o&1&&(l(0,"div",7),S(1,"i",23),l(2,"p",24),u(3),_(4,"translate"),r()()),o&2&&(s(3),C(" ",g(4,1,"MESSAGE.No_Schedule_Run_Infos")," "))}var Oi=class Oi{constructor(a,e,i){this.data=a;this.dialogRef=e;this.publicHelper=i;this.scheduleRunInfos=[];this.taskSchedulerId="";a&&(this.scheduleRunInfos=a.scheduleRunInfos||[],this.taskSchedulerId=a.taskSchedulerId||"")}ngOnInit(){}onClose(){this.dialogRef.close()}};Oi.\u0275fac=function(e){return new(e||Oi)(h(Te),h(Ie),h(H))},Oi.\u0275cmp=N({type:Oi,selectors:[["app-schedule-run-info-list"]],standalone:!1,decls:17,vars:11,consts:[[1,"card","border-0","shadow-sm","rounded-m"],[1,"card-header","bg-gradient-highlight","text-white"],[1,"mb-0"],[1,"fa-solid","fa-list-check","me-2"],[1,"mb-0","font-12","opacity-80"],[1,"card-body","p-0"],[1,"table-responsive"],[1,"text-center","p-5"],[1,"card-footer","bg-light","text-end"],["type","button",1,"btn","btn-secondary","btn-sm","rounded-s","shadow-sm",3,"click"],[1,"fa-solid","fa-times","me-1"],[1,"table","table-hover","table-striped","mb-0"],[1,"table-light"],["scope","col",1,"text-center"],["scope","col"],[1,"text-center"],[1,"font-12","text-muted"],[1,"font-12",2,"direction","ltr","display","block"],[1,"badge","bg-info","text-white"],[1,"fa-solid","fa-circle-check","text-success","font-18",3,"title"],[1,"fa-solid","fa-circle-xmark","text-danger","font-18",3,"title"],[1,"text-danger","font-12"],[1,"text-muted","font-12"],[1,"fa-solid","fa-inbox","font-48","text-muted","mb-3"],[1,"text-muted"]],template:function(e,i){e&1&&(l(0,"div",0)(1,"div",1)(2,"h5",2),S(3,"i",3),u(4),_(5,"translate"),r(),l(6,"p",4),u(7),_(8,"translate"),r()(),l(9,"div",5),M(10,ur,27,18,"div",6)(11,pr,5,3,"div",7),r(),l(12,"div",8)(13,"button",9),v("click",function(){return i.onClose()}),S(14,"i",10),u(15),_(16,"translate"),r()()()),e&2&&(s(4),C(" ",g(5,5,"TITLE.Schedule_Run_Infos")," "),s(3),R(" ",g(8,7,"TITLE.Task_Scheduler_ID"),": ",i.taskSchedulerId," "),s(3),w(i.scheduleRunInfos&&i.scheduleRunInfos.length>0?10:11),s(5),C(" ",g(16,9,"ACTION.CLOSE")," "))},dependencies:[W,He],encapsulation:2});var Pi=Oi;var fr=["vform"];function Sr(o,a){if(o&1){let e=T();l(0,"div",7)(1,"button",8),v("click",function(){p(e);let t=m();return f(t.onFormCancel())}),S(2,"i",9),u(3),_(4,"translate"),r()()}o&2&&(s(3),C(" ",g(4,1,"ACTION.CANCEL")," "))}var Ni=class Ni{constructor(a,e,i,t,n,d,c,E,$,ie){this.data=a;this.dialogRef=e;this.coreEnumService=i;this.smsLogOutBoxTaskSchedulerService=t;this.cmsToastrService=n;this.tokenHelper=d;this.cmsStoreService=c;this.cdr=E;this.publicHelper=$;this.translate=ie;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.tokenInfo=new Et;this.dataModelResult=new k;this.dataModel=new ht;this.formInfo=new yt;this.dataModelEnumSendSmsStatusTypeResult=new k;this.fieldsInfo=new Map;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,a&&(this.requestId=a.id+"")}ngOnInit(){if(this.translate.get("TITLE.VIEW").subscribe(a=>{this.formInfo.formTitle=a}),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(a=>a.tokenInfoStore).subscribe(a=>z(this,null,function*(){this.tokenInfo=a}))),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:a=>{this.dataModelEnumSendSmsStatusTypeResult=a}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(a=>a.unsubscribe())}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage="";let a=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(a,e,this.constructorInfoAreaId)}),this.smsLogOutBoxTaskSchedulerService.setAccessLoad(),this.smsLogOutBoxTaskSchedulerService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModel=e.item,e.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+e.item.id,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(e.errorMessage)),this.publicHelper.processService.processStop(a)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(a,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Ni.\u0275fac=function(e){return new(e||Ni)(h(Te),h(Ie),h(qe),h(At),h(j),h(J),h(Y),h(Q),h(H),h(q))},Ni.\u0275cmp=N({type:Ni,selectors:[["app-sms-log-outbox-task-scheduler-view"]],viewQuery:function(e,i){if(e&1&&Ae(fr,5),e&2){let t;ye(t=De())&&(i.formGroup=t.first)}},standalone:!1,decls:9,vars:6,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection","loader-container"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[3,"formInfo"],[1,"ntk-cms-html-card-footer"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,i){e&1&&(l(0,"div",0),u(1),r(),l(2,"div",1),S(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),r(),l(5,"div",4),S(6,"app-cms-form-result-message",5),r(),l(7,"div",6),M(8,Sr,5,3,"div",7),r()),e&2&&(s(),C(" ",i.formInfo.formTitle," "),s(2),b("optionsInfoAreaId",i.constructorInfoAreaId),s(),b("dataModel",i.dataModel)("optionMethod",1),s(2),b("formInfo",i.formInfo),s(2),w(i.formInfo.submitButtonEnabled?8:-1))},dependencies:[Ee,Dt,Be,W],encapsulation:2});var Gi=Ni;var hr=()=>[5,10,20,100],_r=(o,a)=>a.id;function gr(o,a){if(o&1){let e=T();l(0,"div",15)(1,"a",24),v("click",function(){p(e);let t=m();return f(t.onActionButtonNewRow())}),S(2,"i",25)(3,"br"),r(),l(4,"p",26),u(5),_(6,"translate"),r()()}o&2&&(s(5),A(g(6,1,"ACTION.ADD")))}function Cr(o,a){if(o&1){let e=T();l(0,"div",15)(1,"a",27),v("click",function(){p(e);let t=m();return f(t.onActionButtonEditRow(t.tableRowSelected))}),S(2,"i",28)(3,"br"),r(),l(4,"p",26),u(5),_(6,"translate"),r()()}o&2&&(s(5),A(g(6,1,"ACTION.EDIT")))}function br(o,a){if(o&1){let e=T();l(0,"div",15)(1,"a",29),v("click",function(){p(e);let t=m();return f(t.onActionButtonDeleteRow(t.tableRowSelected))}),S(2,"i",30)(3,"br"),r(),l(4,"p",26),u(5),_(6,"translate"),r()()}o&2&&(s(5),A(g(6,1,"ACTION.DELETE")))}function vr(o,a){if(o&1){let e=T();l(0,"div",15)(1,"a",31),v("click",function(){p(e);let t=m();return f(t.onActionButtonViewRow(t.tableRowSelected))}),S(2,"i",32)(3,"br"),r(),l(4,"p",26),u(5),_(6,"translate"),r()()}o&2&&(s(5),A(g(6,1,"ACTION.VIEW")))}function Mr(o,a){if(o&1&&(l(0,"div",39),S(1,"i",41),u(2),r()),o&2){let e=m().$implicit,i=m(2);s(2),R(" ",i.fieldsInfo.id==null?null:i.fieldsInfo.id.fieldTitle,": ",e.id)}}function wr(o,a){if(o&1&&(l(0,"div",39),S(1,"i",42),u(2),_(3,"localeDate"),r()),o&2){let e=m().$implicit,i=m(2);s(2),R(" ",i.fieldsInfo.createdDate==null?null:i.fieldsInfo.createdDate.fieldTitle,": ",g(3,2,e.createdDate))}}function xr(o,a){if(o&1&&S(0,"select",44),o&2){let e=m(2).$implicit,i=m(2);b("contentService",i.contentService)("row",e)}}function Ir(o,a){if(o&1&&(l(0,"div",39),S(1,"i",43),_(2,"statusIconClass"),M(3,xr,1,2,"select",44),r()),o&2){let e=m().$implicit,i=m(2);s(),b("ngClass",g(2,2,e.recordStatus)),s(2),w(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessEditRow&&e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?3:-1)}}function Tr(o,a){if(o&1&&(l(0,"div",39),S(1,"i",47),u(2),_(3,"localeDate"),r()),o&2){let e=m(2).$implicit,i=m(2);s(2),R(" ",i.fieldsInfo.updatedDate==null?null:i.fieldsInfo.updatedDate.fieldTitle,": ",g(3,2,e.updatedDate))}}function Er(o,a){if(o&1){let e=T();l(0,"div",40),M(1,Tr,4,4,"div",39),l(2,"div",39)(3,"span",45),v("click",function(t){return p(e),m(3).onActionCopied(),f(t.stopPropagation())}),S(4,"i",46),r(),u(5),r()()}if(o&2){let e=m().$implicit;s(),w(e.updatedDate?1:-1),s(2),b("cdkCopyToClipboard",e.id.toString()),s(2),C(" ID: ",e.id)}}function Rr(o,a){if(o&1){let e=T();l(0,"div",34),v("click",function(t){let n=p(e).$implicit,d=m(2);return f(d.onActionTableRowSelect(n,t))})("rtclick",function(t){let n=p(e).$implicit,d=m(2);return f(d.onActionTableRowSelect(n,t))})("mouseenter",function(){let t=p(e).$implicit,n=m(2);return f(n.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=p(e).$implicit,n=m(2);return f(n.onActionTableRowMouseLeave(t))}),l(1,"div",35),S(2,"i",36),_(3,"statusIconClass"),r(),l(4,"div",37)(5,"div",38),u(6),r(),M(7,Mr,3,2,"div",39),M(8,wr,4,4,"div",39),M(9,Ir,4,4,"div",39),M(10,Er,6,3,"div",40),r()()}if(o&2){let e=a.$implicit,i=m(2);F("selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))("bg-fade-highlight-light",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)),Le("aria-label",e.id),s(2),b("ngClass",g(3,11,e.recordStatus)),s(4),A("ID: "+e.id),s(),w(e.id?7:-1),s(),w(e.createdDate?8:-1),s(),w(e.recordStatus!==void 0?9:-1),s(),w(i.getRowExpanded(e)?10:-1)}}function Lr(o,a){if(o&1&&(l(0,"div",20),Ne(1,Rr,11,13,"div",33,_r),r()),o&2){let e=m();s(),Ge(e.dataModelResult.listItems)}}function Ar(o,a){o&1&&(l(0,"div",21),u(1),_(2,"translate"),r()),o&2&&(s(),A(g(2,1,"MESSAGE.NoRecord")))}var Hi=class Hi extends ue{constructor(e,i,t,n,d,c,E,$,ie,We,dt,he,ut){super(e,new ht,he,E,ie);this.contentService=e;this.smsMainApiPathService=i;this.activatedRoute=t;this.cmsToastrService=n;this.cmsConfirmationDialogService=d;this.router=c;this.tokenHelper=E;this.cdr=$;this.translate=ie;this.cmsStoreService=We;this.pageInfo=dt;this.publicHelper=he;this.dialog=ut;this.requestLinkApiPathId="";this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new G;this.filterDataModelQueryBuilder=[];this.dataModelCoreCurrencyResult=new k;this.dataModelPrivateResult=new k;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["id","recordStatus","createdBy","scheduleCron","scheduleSendStart","scheduleSendExpire","scheduleSendAllowNextRun","scheduleRunInfos","createdDate","updatedDate"];this.tabledisplayedColumnsMobileSource=["id","recordStatus","createdBy","scheduleCron","scheduleSendStart","scheduleSendExpire","scheduleSendAllowNextRun","scheduleRunInfos","createdDate","updatedDate"];this.unsubscribe=[];this.pullToRefreshState={isRefreshing:!1,startY:0,currentY:0,pullDistance:0,threshold:80};this.Math=Math;this.swipeState=new Map;this.SWIPE_THRESHOLD=100;this.SWIPE_MAX_OFFSET=120;this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:Z=>this.onSubmitOptionsSearch(Z)},this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=O.Descending}ngOnInit(){this.activatedRoute.snapshot.paramMap.get("LinkApiPathId")&&(this.requestLinkApiPathId=this.activatedRoute.snapshot.paramMap.get("LinkApiPathId"));let e=new P;this.requestLinkApiPathId?.length>0&&(e.propertyName="LinkApiPathId",e.value=this.requestLinkApiPathId,this.filteModelContent.filters.push(e)),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(i=>i.tokenInfoStore).subscribe(i=>z(this,null,function*(){this.tokenInfo=i,this.DataGetAll()}))),this.getPrivateConfig()}getPrivateConfig(){let e=new G;e.rowPerPage=100,this.smsMainApiPathService.ServiceGetAll(e).subscribe({next:i=>{this.dataModelPrivateResult=i}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new ht);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));if(this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.categoryModelSelected&&this.categoryModelSelected.id.length>0){let t=new P;t.propertyName="LinkPrivateConfigId",t.value=this.categoryModelSelected.id,i.filters.push(t)}this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=O.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=O.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=O.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonEditRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(ki,{height:"90%",panelClass:i,enterAnimationDuration:V.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:V.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(n=>{n&&n.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(n=>{this.cmsToastrService.typeErrorSelected(n)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(n=>{i=n["MESSAGE.Please_Confirm"],t=n["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(n=>{if(n){let d=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(d,c,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(d)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(d,!1)}})}}).catch(()=>{})}onActionButtonViewRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Gi,{height:"90%",panelClass:i,enterAnimationDuration:V.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:V.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(n=>{n&&n.dialogChangedDate})}onActionSelectorSelect(e){var i=this.filteModelContent.sortColumn,t=this.filteModelContent.sortType;this.filteModelContent=new G,this.filteModelContent.sortColumn=i,this.filteModelContent.sortType=t,this.categoryModelSelected=e,this.DataGetAll()}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{i.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{i.set(c,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(E=>{i.set(E,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}});let n=JSON.parse(JSON.stringify(this.filteModelContent)),d=new P;d.propertyName="recordStatus",d.value=le.Available,n.filters.push(d),this.contentService.ServiceGetCount(n).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(E=>{i.set(E,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonReload(){this.DataGetAll()}onItemTouchStart(e,i){e.stopPropagation();let t=e.touches[0];this.swipeState.set(i,{startX:t.clientX,currentX:t.clientX,offset:0})}onItemTouchMove(e,i){e.stopPropagation();let t=this.swipeState.get(i);if(!t)return;let n=e.touches[0];t.currentX=n.clientX;let d=t.currentX-t.startX,c=document.documentElement.dir==="rtl",E=c?this.SWIPE_MAX_OFFSET:-this.SWIPE_MAX_OFFSET,$=c?-this.SWIPE_MAX_OFFSET:this.SWIPE_MAX_OFFSET;t.offset=Math.max($,Math.min(E,d))}onItemTouchEnd(e,i){e.stopPropagation();let t=this.swipeState.get(i);if(!t)return;let n=document.documentElement.dir==="rtl",d=n?this.SWIPE_THRESHOLD:-this.SWIPE_THRESHOLD;n&&t.offset>d||!n&&t.offset<d||(t.offset=0),this.swipeState.set(i,t)}onTouchStart(e){let t=e.target.closest(".cms-m-content");t&&t.scrollTop===0&&(this.pullToRefreshState.startY=e.touches[0].clientY,this.pullToRefreshState.isRefreshing=!1)}onTouchMove(e){let t=e.target.closest(".cms-m-content");t&&t.scrollTop===0&&this.pullToRefreshState.startY>0&&(this.pullToRefreshState.currentY=e.touches[0].clientY,this.pullToRefreshState.pullDistance=Math.max(0,this.pullToRefreshState.currentY-this.pullToRefreshState.startY),this.pullToRefreshState.pullDistance>10&&e.preventDefault())}onTouchEnd(e){this.pullToRefreshState.pullDistance>=this.pullToRefreshState.threshold&&!this.pullToRefreshState.isRefreshing?(this.pullToRefreshState.isRefreshing=!0,this.onActionButtonReload(),setTimeout(()=>{this.pullToRefreshState.isRefreshing=!1,this.pullToRefreshState.pullDistance=0,this.pullToRefreshState.startY=0,this.pullToRefreshState.currentY=0},1e3)):(this.pullToRefreshState.pullDistance=0,this.pullToRefreshState.startY=0,this.pullToRefreshState.currentY=0)}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){}onActionButtonNewRow(e){this.cmsToastrService.typeErrorAccessAdd()}onActionButtonScheduleRunInfos(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(!e.scheduleRunInfos||e.scheduleRunInfos.length===0){this.translate.get("MESSAGE.No_Schedule_Run_Infos").subscribe(n=>{this.cmsToastrService.typeWarning(n)});return}this.onActionTableRowSelect(e);var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Pi,{height:"90%",panelClass:i,enterAnimationDuration:V.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:V.cmsViewConfig.exitAnimationDuration,data:{scheduleRunInfos:e.scheduleRunInfos,taskSchedulerId:e.id}}).afterClosed().subscribe(n=>{})}};Hi.\u0275fac=function(i){return new(i||Hi)(h(At),h(oe),h(re),h(j),h(se),h(ae),h(J),h(Q),h(q),h(Y),h(de),h(H),h(ne))},Hi.\u0275cmp=N({type:Hi,selectors:[["app-sms-log-outbox-task-scheduler-list-mobile"]],standalone:!1,features:[U],decls:37,vars:31,consts:[["paginator",""],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionOnScrollNearBottom","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplay","optionActionRowDisplayMenu","optionActionRowDisplayMenuAct","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-maximize","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-minimize","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],[1,"cms-m-list"],[1,"cms-m-empty"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],["role","button","tabindex","0",1,"cms-m-list-item","border-highlight",3,"selected","bg-fade-highlight-light"],["role","button","tabindex","0",1,"cms-m-list-item","border-highlight",3,"click","rtclick","mouseenter","mouseleave"],[1,"cms-m-list-item-image-placeholder"],["aria-hidden","true",3,"ngClass"],[1,"cms-m-list-item-content"],[1,"cms-m-list-item-title"],[1,"cms-m-list-item-subtitle"],[1,"cms-m-list-item-expanded"],["aria-hidden","true",1,"fa-solid","fa-hashtag"],["aria-hidden","true",1,"fa-solid","fa-calendar"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none","margin-left","8px",3,"contentService","row"],[1,"navi-icon","pointer",3,"click","cdkCopyToClipboard"],[1,"flaticon2-copy"],["aria-hidden","true",1,"fa-solid","fa-calendar-check"]],template:function(i,t){if(i&1){let n=T();l(0,"app-cms-html-list-mobile",1),B("optionActionGuideNoticeDisplayChange",function(c){return p(n),D(t.viewGuideNotice,c)||(t.viewGuideNotice=c),f(c)}),v("optionOnActionButtonMemoRow",function(){return p(n),f(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return p(n),f(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return p(n),f(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return p(n),f(t.onActionButtonPrintRow())})("optionOnScrollNearBottom",function(){return p(n),f(t.onActionLoadNextPage())}),ee(1,2)(2,3)(3,4),x(4,5),l(5,"a",6),v("click",function(){return p(n),f(t.viewGuideNotice=!t.viewGuideNotice)}),S(6,"i",7),r(),l(7,"a",6),v("click",function(){return p(n),f(t.onActionButtonReload())}),S(8,"i",8),r(),l(9,"a",6),v("click",function(){return p(n),f(t.onActionGridExpandRows(!0))}),S(10,"i",9),r(),l(11,"a",6),v("click",function(){return p(n),f(t.onActionGridExpandRows(!1))}),S(12,"i",10),r(),I(),x(13,11),l(14,"a",12),v("click",function(){return p(n),f(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),S(15,"mat-slide-toggle",13),u(16),_(17,"translate"),r(),l(18,"a",12),v("click",function(){return p(n),f(t.onActionButtonStatist())}),S(19,"mat-slide-toggle",13),u(20),_(21,"translate"),r(),I(),x(22,14),M(23,gr,7,3,"div",15),I(),x(24,16),M(25,Cr,7,3,"div",15),M(26,br,7,3,"div",15),M(27,vr,7,3,"div",15),I(),x(28,17),l(29,"app-cms-search-list",18),B("optionsChange",function(c){return p(n),D(t.optionsSearch,c)||(t.optionsSearch=c),f(c)}),r(),l(30,"app-cms-statist-list",18),B("optionsChange",function(c){return p(n),D(t.optionsStatist,c)||(t.optionsStatist=c),f(c)}),r(),I(),x(31,19),M(32,Lr,3,0,"div",20)(33,Ar,3,3,"div",21),I(),x(34,22),l(35,"mat-paginator",23,0),v("page",function(c){return p(n),f(t.onTablePageingData(c))}),r(),I(),r()}i&2&&(b("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey","sms.log.outbox-task-scheduler.list"),y("optionActionGuideNoticeDisplay",t.viewGuideNotice),b("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplay",(t.tableRowSelected==null?null:t.tableRowSelected.id)>0)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionActionRowDisplayMenuAct",t.tableRowSelectActionMenuClick)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),s(8),F("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),s(7),b("checked",t.optionsSearch.data.show),s(),A(g(17,26,"ACTION.SEARCH")),s(3),b("checked",t.optionsStatist.data.show),s(),A(g(21,28,"ACTION.STATIST")),s(3),w(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessAddRow?23:-1),s(2),w(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow&&(t.tableRowSelected==null?null:t.tableRowSelected.id)>0?25:-1),s(),w(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow&&(t.tableRowSelected==null?null:t.tableRowSelected.id)>0?26:-1),s(),w(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessWatchRow&&(t.tableRowSelected==null?null:t.tableRowSelected.id)>0?27:-1),s(2),y("options",t.optionsSearch),s(),y("options",t.optionsStatist),s(2),w(!(t.dataModelResult==null||t.dataModelResult.listItems==null)&&t.dataModelResult.listItems.length?32:33),s(3),b("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",K(30,hr)))},dependencies:[Ce,be,ce,me,ze,pe,fe,lt,Se,Fe,W,Pe,Re],encapsulation:2});var co=Hi;var yr=["vform"];function Dr(o,a){if(o&1){let e=T();l(0,"app-cms-enum-record-status-selector",14),B("modelChange",function(t){p(e);let n=m();return D(n.dataModel.recordStatus,t)||(n.dataModel.recordStatus=t),f(t)}),r()}if(o&2){let e=m();y("model",e.dataModel.recordStatus),b("optionDisabled",!((e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.accessEditField)??!1))("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Br(o,a){if(o&1){let e=T();l(0,"div",11)(1,"label",15),u(2),r(),l(3,"input",16),B("ngModelChange",function(t){p(e);let n=m();return D(n.dataModel.sendDate,t)||(n.dataModel.sendDate=t),f(t)}),r(),S(4,"mat-datepicker-toggle",17)(5,"mat-datepicker",18,1),r()}if(o&2){let e=X(6),i=m();s(2),A(i.fieldsInfo.sendDate==null?null:i.fieldsInfo.sendDate.fieldTitle),s(),b("placeholder",Ve(i.fieldsInfo.sendDate==null?null:i.fieldsInfo.sendDate.fieldTitle))("disabled",Ve(!(i.fieldsInfo.sendDate!=null&&i.fieldsInfo.sendDate.accessEditField)))("matDatepicker",e),y("ngModel",i.dataModel.sendDate),s(),b("for",e),s(),b("calendarHeaderComponent",i.datapickerHeader)}}function kr(o,a){if(o&1){let e=T();l(0,"div",12)(1,"label",19),u(2),r(),l(3,"input",20,2),B("ngModelChange",function(t){p(e);let n=m();return D(n.dataModel.message,t)||(n.dataModel.message=t),f(t)}),r(),l(5,"em",21),u(6),r()()}if(o&2){let e=X(4),i=m();s(2),A(i.fieldsInfo.message==null?null:i.fieldsInfo.message.fieldTitle),s(),b("disabled",Ve(!(i.fieldsInfo.message!=null&&i.fieldsInfo.message.accessEditField))),y("ngModel",i.dataModel.message),s(3),C("",e.value.length," / 100")}}function Or(o,a){if(o&1){let e=T();l(0,"div",12)(1,"label",22),u(2),r(),l(3,"input",23,3),B("ngModelChange",function(t){p(e);let n=m();return D(n.dataModel.memo,t)||(n.dataModel.memo=t),f(t)}),r(),l(5,"em",21),u(6),r()()}if(o&2){let e=X(4),i=m();s(2),A(i.fieldsInfo.message==null?null:i.fieldsInfo.message.fieldTitle),s(),b("disabled",Ve(!(i.fieldsInfo.memo!=null&&i.fieldsInfo.memo.accessEditField))),y("ngModel",i.dataModel.memo),s(3),C("",e.value.length," / 100")}}function Pr(o,a){if(o&1){let e=T();l(0,"div",13)(1,"button",24),v("click",function(){p(e);let t=m();return f(t.onFormCancel())}),S(2,"i",25),u(3),_(4,"translate"),r(),l(5,"button",26),S(6,"i",27),u(7),_(8,"translate"),r()()}if(o&2){m();let e=X(10);s(3),C(" ",g(4,3,"ACTION.CANCEL")," "),s(2),b("disabled",!e.form.valid),s(2),C(" ",g(8,5,"ACTION.SAVE")," ")}}var Fi=class Fi extends ii{constructor(e,i,t,n,d,c,E,$){super(n,new ft,c,$);this.data=e;this.dialogRef=i;this.smsEnumService=t;this.smsLogOutBoxService=n;this.cmsToastrService=d;this.publicHelper=c;this.cdr=E;this.translate=$;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new Nt;this.dataModel=new ft;this.dataModelSmsMessageTypeEnumResult=new k;this.dataModelSmsOutBoxTypeEnumResult=new k;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,e&&e.id&&(this.requestId=e.id),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e});else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.getSmsMessageTypeEnum(),this.getSmsOutBoxTypeEnum()}getSmsMessageTypeEnum(){this.smsEnumService.ServiceSmsMessageTypeEnum().subscribe(e=>{this.dataModelSmsMessageTypeEnumResult=e})}getSmsOutBoxTypeEnum(){this.smsEnumService.ServiceSmsOutBoxTypeEnum().subscribe(e=>{this.dataModelSmsOutBoxTypeEnumResult=e})}DataGetOneContent(){if(this.requestId.length<=0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.smsLogOutBoxService.setAccessLoad(),this.smsLogOutBoxService.setAccessDataType(Tt.Editor),this.smsLogOutBoxService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.smsLogOutBoxService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success}),this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success,this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorSelectLinkApiNumberId(e){if(!e||e.id.length<=0){this.cmsToastrService.typeErrorSelected("\u0645\u0633\u06CC\u0631 \u0633\u0631\u0648\u06CC\u0633 \u062F\u0647\u0646\u062F\u0647 \u0645\u0634\u062E\u0635 \u0646\u06CC\u0633\u062A");return}this.dataModel.linkApiNumberId=e.id}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Fi.\u0275fac=function(i){return new(i||Fi)(h(Te),h(Ie),h(Ht),h($e),h(j),h(H),h(Q),h(q))},Fi.\u0275cmp=N({type:Fi,selectors:[["app-sms-log-inbox-edit"]],viewQuery:function(i,t){if(i&1&&Ae(yr,5),i&2){let n;ye(n=De())&&(t.formGroup=n.first)}},standalone:!1,features:[U],decls:16,vars:11,consts:[["vform","ngForm"],["SendDate",""],["Message",""],["Memo",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],[1,"form-actions"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.sendDate",1,"color-highlight"],["matInput","","type","text","name","dataModel.sendDate","id","dataModel.sendDate",1,"form-control","validate-name",3,"ngModelChange","matDatepicker","ngModel","placeholder","disabled"],["matSuffix","",3,"for"],["touchUi","",3,"calendarHeaderComponent"],["for","dataModel.message",1,"color-highlight"],["matInput","","type","text","name","dataModel.message","placeholder","123","id","dataModel.message",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],[2,"text-align","right"],["for","dataModel.memo",1,"color-highlight"],["matInput","","type","text","name","dataModel.memo","placeholder","123","id","dataModel.memo",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let n=T();l(0,"div",4),S(1,"app-progress-spinner",5),l(2,"div",6)(3,"p",7),u(4),r(),l(5,"p"),u(6),_(7,"translate"),r(),S(8,"app-cms-form-result-message",8),l(9,"form",9,0),v("ngSubmit",function(){return p(n),f(t.onFormSubmit())}),M(11,Dr,1,5,"app-cms-enum-record-status-selector",10),M(12,Br,7,9,"div",11),M(13,kr,7,5,"div",12),M(14,Or,7,5,"div",12),M(15,Pr,9,7,"div",13),r()()()}i&2&&(s(),b("optionsInfoAreaId",t.constructorInfoAreaId),s(3),C(" ",t.formInfo.formTitle," "),s(2),C(" ",g(7,9,"TITLE.Be_Careful_When_Entering_Information")," "),s(2),b("formInfo",t.formInfo),s(3),w(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?11:-1),s(),w(t.fieldsInfo.sendDate!=null&&t.fieldsInfo.sendDate.accessWatchField?12:-1),s(),w(t.fieldsInfo.message!=null&&t.fieldsInfo.message.accessWatchField?13:-1),s(),w(t.fieldsInfo.memo!=null&&t.fieldsInfo.memo.accessWatchField?14:-1),s(),w(t.formInfo.submitButtonEnabled?15:-1))},dependencies:[zt,Qt,Wt,jt,$t,qt,Yt,Jt,Ut,Xt,be,ti,Ee,Be,W],encapsulation:2});var Qi=Fi;var Vr=["vform"];function Nr(o,a){if(o&1){let e=T();l(0,"div",7)(1,"button",8),v("click",function(){p(e);let t=m();return f(t.onFormCancel())}),S(2,"i",9),u(3),_(4,"translate"),r()()}o&2&&(s(3),C(" ",g(4,1,"ACTION.CANCEL")," "))}var Wi=class Wi{constructor(a,e,i,t,n,d,c,E,$,ie){this.data=a;this.dialogRef=e;this.coreEnumService=i;this.smsLogOutBoxService=t;this.cmsToastrService=n;this.tokenHelper=d;this.cmsStoreService=c;this.cdr=E;this.publicHelper=$;this.translate=ie;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.tokenInfo=new Et;this.dataModelResult=new k;this.dataModel=new ft;this.formInfo=new yt;this.dataModelEnumSendSmsStatusTypeResult=new k;this.fieldsInfo=new Map;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,a&&(this.requestId=a.id+"")}ngOnInit(){if(this.translate.get("TITLE.VIEW").subscribe(a=>{this.formInfo.formTitle=a}),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(a=>a.tokenInfoStore).subscribe(a=>z(this,null,function*(){this.tokenInfo=a}))),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:a=>{this.dataModelEnumSendSmsStatusTypeResult=a}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(a=>a.unsubscribe())}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage="";let a=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(a,e,this.constructorInfoAreaId)}),this.smsLogOutBoxService.setAccessLoad(),this.smsLogOutBoxService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModel=e.item,e.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+e.item.id,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(e.errorMessage)),this.publicHelper.processService.processStop(a)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(a,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Wi.\u0275fac=function(e){return new(e||Wi)(h(Te),h(Ie),h(qe),h($e),h(j),h(J),h(Y),h(Q),h(H),h(q))},Wi.\u0275cmp=N({type:Wi,selectors:[["app-sms-log-outbox-view"]],viewQuery:function(e,i){if(e&1&&Ae(Vr,5),e&2){let t;ye(t=De())&&(i.formGroup=t.first)}},standalone:!1,decls:9,vars:6,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection","loader-container"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[3,"formInfo"],[1,"ntk-cms-html-card-footer"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,i){e&1&&(l(0,"div",0),u(1),r(),l(2,"div",1),S(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),r(),l(5,"div",4),S(6,"app-cms-form-result-message",5),r(),l(7,"div",6),M(8,Nr,5,3,"div",7),r()),e&2&&(s(),C(" ",i.formInfo.formTitle," "),s(2),b("optionsInfoAreaId",i.constructorInfoAreaId),s(),b("dataModel",i.dataModel)("optionMethod",1),s(2),b("formInfo",i.formInfo),s(2),w(i.formInfo.submitButtonEnabled?8:-1))},dependencies:[Ee,Dt,Be,W],encapsulation:2});var ji=Wi;var Gr=()=>[5,10,20,100],Hr=(o,a)=>a.id;function Fr(o,a){if(o&1){let e=T();l(0,"a",26),v("click",function(){p(e);let t=m();return f(t.onActionBackToParent())}),S(1,"i",27),r()}}function Qr(o,a){if(o&1){let e=T();l(0,"div",16)(1,"a",8),v("click",function(){p(e);let t=m();return f(t.onActionButtonViewRow(t.tableRowSelected))}),S(2,"i",28)(3,"br"),r(),l(4,"p",29),u(5),_(6,"translate"),r()()}o&2&&(s(5),C(" ",g(6,1,"ACTION.VIEW")," "))}function Wr(o,a){if(o&1){let e=T();l(0,"div",16)(1,"a",8),v("click",function(){p(e);let t=m();return f(t.onActionButtonDetailRow(t.tableRowSelected))}),S(2,"i",30)(3,"br"),r(),l(4,"p",29),u(5),_(6,"translate"),r()()}o&2&&(s(5),C(" ",g(6,1,"ACTION.DETAIL")," "))}function jr(o,a){if(o&1){let e=T();l(0,"div",16)(1,"a",31),v("click",function(){p(e);let t=m();return f(t.onActionButtonEditRow(t.tableRowSelected))}),S(2,"i",32)(3,"br"),r(),l(4,"p",29),u(5),_(6,"translate"),r()()}o&2&&(s(5),C(" ",g(6,1,"ACTION.EDIT")," "))}function qr(o,a){if(o&1){let e=T();l(0,"div",16)(1,"a",33),v("click",function(){p(e);let t=m();return f(t.onActionButtonDeleteRow(t.tableRowSelected))}),S(2,"i",34)(3,"br"),r(),l(4,"p",29),u(5),_(6,"translate"),r()()}o&2&&(s(5),C(" ",g(6,1,"ACTION.DELETE")," "))}function $r(o,a){if(o&1&&(l(0,"div",35),S(1,"i",36),l(2,"span"),u(3),_(4,"translate"),_(5,"translate"),r()()),o&2){let e=m();Po("transform","translateY("+(e.pullToRefreshState.pullDistance>80?80:e.pullToRefreshState.pullDistance)+"px)"),F("refreshing",e.pullToRefreshState.isRefreshing),s(),F("rotation360",e.pullToRefreshState.isRefreshing),s(2),A(e.pullToRefreshState.isRefreshing?g(4,7,"ACTION.RELOADING"):g(5,9,"ACTION.PULL_TO_REFRESH"))}}function zr(o,a){if(o&1&&(l(0,"div",44),S(1,"i",47),u(2),r()),o&2){let e=m().$implicit,i=m(2);s(2),R(" ",i.fieldsInfo.linkApiNumberId==null?null:i.fieldsInfo.linkApiNumberId.fieldTitle,": ",e.linkApiNumberId," ")}}function Xr(o,a){if(o&1&&(l(0,"div",45),S(1,"i",48),u(2),r()),o&2){let e=m().$implicit;s(2),C(" ",e.message," ")}}function Yr(o,a){if(o&1&&(l(0,"div",44),S(1,"i",49),u(2),_(3,"localeDate"),r()),o&2){let e=m().$implicit,i=m(2);s(2),R(" ",i.fieldsInfo.sendDate==null?null:i.fieldsInfo.sendDate.fieldTitle,": ",g(3,2,e.sendDate)," ")}}function Jr(o,a){if(o&1&&(l(0,"div",44),S(1,"i",50),u(2),_(3,"localeDate"),r()),o&2){let e=m().$implicit,i=m(2);s(2),R(" ",i.fieldsInfo.createdDate==null?null:i.fieldsInfo.createdDate.fieldTitle,": ",g(3,2,e.createdDate)," ")}}function Ur(o,a){if(o&1&&(l(0,"div",44),S(1,"i",51),u(2),_(3,"localeDate"),r()),o&2){let e=m().$implicit,i=m(2);s(2),R(" ",i.fieldsInfo.updatedDate==null?null:i.fieldsInfo.updatedDate.fieldTitle,": ",g(3,2,e.updatedDate)," ")}}function Kr(o,a){if(o&1&&(l(0,"div",44),S(1,"i",52),_(2,"statusIconClass"),r()),o&2){let e=m().$implicit;s(),b("ngClass",g(2,1,e.recordStatus))}}function Zr(o,a){if(o&1&&(l(0,"div",46)(1,"div",44)(2,"span",53),S(3,"i",54),r(),u(4),r()()),o&2){let e=m().$implicit;s(2),b("cdkCopyToClipboard",e.id.toString()),s(2),C(" ID: ",e.id," ")}}function ea(o,a){if(o&1){let e=T();l(0,"div",38)(1,"div",39),v("click",function(t){let n=p(e).$implicit,d=m(2);return f(d.onActionTableRowSelect(n,t))})("rtclick",function(t){let n=p(e).$implicit,d=m(2);return f(d.onActionTableRowSelect(n,t))})("mouseenter",function(){let t=p(e).$implicit,n=m(2);return f(n.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=p(e).$implicit,n=m(2);return f(n.onActionTableRowMouseLeave(t))})("touchstart",function(t){let n=p(e).$implicit,d=m(2);return f(d.onItemTouchStart(t,n.id))})("touchmove",function(t){let n=p(e).$implicit,d=m(2);return f(d.onItemTouchMove(t,n.id))})("touchend",function(t){let n=p(e).$implicit,d=m(2);return f(d.onItemTouchEnd(t,n.id))}),l(2,"div",40),S(3,"i",41),_(4,"statusIconClass"),r(),l(5,"div",42)(6,"div",43),u(7),_(8,"cmstitle"),_(9,"translate"),r(),M(10,zr,3,2,"div",44),M(11,Xr,3,1,"div",45),M(12,Yr,4,4,"div",44),M(13,Jr,4,4,"div",44),M(14,Ur,4,4,"div",44),M(15,Kr,3,3,"div",44),M(16,Zr,5,2,"div",46),r()()()}if(o&2){let e,i=a.$implicit,t=m(2);Po("transform","translateX("+(((e=t.swipeState.get(i.id))==null?null:e.offset)||0)+"px)"),s(),F("selected",i.id===(t.tableRowSelected==null?null:t.tableRowSelected.id)),Le("aria-label",i.id),s(2),b("ngClass",g(4,14,i.recordStatus)),s(4),C(" ",i.linkApiPathId?si(8,16,i.linkApiPathId,t.dataModelPrivateResult.listItems):g(9,19,"TITLE.ApiPath")," "),s(3),w(i.linkApiNumberId?10:-1),s(),w(i.message!=null&&i.message.length?11:-1),s(),w(i.sendDate?12:-1),s(),w(i.createdDate?13:-1),s(),w(i.updatedDate?14:-1),s(),w(i.recordStatus!==void 0?15:-1),s(),w(t.getRowExpanded(i)?16:-1)}}function ta(o,a){if(o&1&&(l(0,"div",22),Ne(1,ea,17,21,"div",37,Hr),r()),o&2){let e=m();s(),Ge(e.dataModelResult.listItems)}}function ia(o,a){o&1&&(l(0,"div",23)(1,"div",55),S(2,"i",49),r(),l(3,"div",56),u(4),_(5,"translate"),r()()),o&2&&(s(4),C(" ",g(5,1,"MESSAGE.no_information")," "))}var qi=class qi extends ue{constructor(e,i,t,n,d,c,E,$,ie,We,dt,he,ut){super(e,new ft,he,E,ie);this.contentService=e;this.activatedRoute=i;this.cmsToastrService=t;this.cmsConfirmationDialogService=n;this.smsMainApiPathService=d;this.router=c;this.tokenHelper=E;this.cdr=$;this.translate=ie;this.cmsStoreService=We;this.pageInfo=dt;this.publicHelper=he;this.dialog=ut;this.requestLinkSiteId=0;this.requestLinkApiPathId="";this.requestLinkApiNumberId="";this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new G;this.filterDataModelQueryBuilder=[];this.dataModelCoreCurrencyResult=new k;this.dataModelPrivateResult=new k;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["LinkApiPathId","createdDate","SendDate","updatedDate"];this.tabledisplayedColumnsMobileSource=["createdDate","SendDate","updatedDate"];this.unsubscribe=[];this.pullToRefreshState={isRefreshing:!1,startY:0,currentY:0,pullDistance:0,threshold:80};this.Math=Math;this.swipeState=new Map;this.SWIPE_THRESHOLD=100;this.SWIPE_MAX_OFFSET=120;this.actionMenuOpen=null;this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:Z=>this.onSubmitOptionsSearch(Z)},this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=O.Descending}ngOnInit(){this.activatedRoute.snapshot.paramMap.get("LinkSiteId")&&(this.requestLinkSiteId=+this.activatedRoute.snapshot.paramMap.get("LinkSiteId")||0),this.activatedRoute.snapshot.paramMap.get("LinkApiPathId")&&(this.requestLinkApiPathId=this.activatedRoute.snapshot.paramMap.get("LinkApiPathId")),this.activatedRoute.snapshot.paramMap.get("LinkApiNumberId")&&(this.requestLinkApiNumberId=this.activatedRoute.snapshot.paramMap.get("LinkApiNumberId"));let e=new P;if(this.requestLinkApiPathId?.length>0&&(e.propertyName="LinkApiPathId",e.value=this.requestLinkApiPathId,this.filteModelContent.filters.push(e)),this.requestLinkApiNumberId?.length>0){let i=new P;i.propertyName="LinkApiNumberId",i.value=this.requestLinkApiNumberId,this.filteModelContent.filters.push(i)}if(this.requestLinkSiteId>0){let i=new P;i.propertyName="linkSiteId",i.value=this.requestLinkSiteId,this.filteModelContent.filters.push(i)}this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(i=>i.tokenInfoStore).subscribe(i=>z(this,null,function*(){this.tokenInfo=i,this.DataGetAll()}))),this.getPrivateConfig()}getPrivateConfig(){let e=new G;e.rowPerPage=100,this.smsMainApiPathService.ServiceGetAll(e).subscribe({next:i=>{this.dataModelPrivateResult=i}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new ft);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));if(this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.categoryModelSelected&&this.categoryModelSelected.id.length>0){let t=new P;t.propertyName="LinkApiPathId",t.value=this.categoryModelSelected.id,i.filters.push(t)}this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=O.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=O.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=O.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonEditRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Qi,{height:"90%",panelClass:i,enterAnimationDuration:V.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:V.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(n=>{n&&n.dialogChangedDate&&this.DataGetAll()})}onActionButtonViewRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(ji,{height:"90%",panelClass:i,enterAnimationDuration:V.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:V.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(n=>{n&&n.dialogChangedDate})}onActionButtonDetailRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null){this.cmsToastrService.typeErrorAccessEdit();return}this.router.navigate(["/sms/log/outbox-detail/LinkOutBoxId",this.tableRowSelected.id])}onActionButtonDeleteRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(n=>{this.cmsToastrService.typeErrorSelected(n)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(n=>{i=n["MESSAGE.Please_Confirm"],t=n["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(n=>{if(n){let d=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(d,c,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(d)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(d,!1)}})}}).catch(()=>{})}onActionSelectorSelect(e){var i=this.filteModelContent.sortColumn,t=this.filteModelContent.sortType;if(this.filteModelContent=new G,this.filteModelContent.sortColumn=i,this.filteModelContent.sortType=t,this.categoryModelSelected=e,this.requestLinkApiPathId?.length>0){let n=new P;n.propertyName="LinkApiPathId",n.value=this.requestLinkApiPathId,this.filteModelContent.filters.push(n)}if(this.requestLinkApiNumberId?.length>0){let n=new P;n.propertyName="LinkApiNumberId",n.value=this.requestLinkApiNumberId,this.filteModelContent.filters.push(n)}if(this.requestLinkSiteId>0){let n=new P;n.propertyName="linkSiteId",n.value=this.requestLinkSiteId,this.filteModelContent.filters.push(n)}this.DataGetAll()}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{i.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{i.set(c,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(E=>{i.set(E,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}});let n=JSON.parse(JSON.stringify(this.filteModelContent)),d=new P;d.propertyName="recordStatus",d.value=le.Available,n.filters.push(d),this.contentService.ServiceGetCount(n).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(E=>{i.set(E,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonPriceServicesList(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorSelected();return}this.router.navigate(["/sms/main/api-path-pagination/LinkApiPathId",this.tableRowSelected.linkApiPathId])}onActionButtonReload(){this.DataGetAll()}onItemTouchStart(e,i){e.stopPropagation();let t=e.touches[0];this.swipeState.set(i,{startX:t.clientX,currentX:t.clientX,offset:0})}onItemTouchMove(e,i){e.stopPropagation();let t=this.swipeState.get(i);if(!t)return;let n=e.touches[0];t.currentX=n.clientX;let d=t.currentX-t.startX,c=document.documentElement.dir==="rtl",E=c?this.SWIPE_MAX_OFFSET:-this.SWIPE_MAX_OFFSET,$=c?-this.SWIPE_MAX_OFFSET:this.SWIPE_MAX_OFFSET;t.offset=Math.max($,Math.min(E,d))}onItemTouchEnd(e,i){e.stopPropagation();let t=this.swipeState.get(i);if(!t)return;let n=document.documentElement.dir==="rtl",d=n?this.SWIPE_THRESHOLD:-this.SWIPE_THRESHOLD;n&&t.offset>d||!n&&t.offset<d||(t.offset=0),this.swipeState.set(i,t)}onTouchStart(e){let t=e.target.closest(".cms-m-content");t&&t.scrollTop===0&&(this.pullToRefreshState.startY=e.touches[0].clientY,this.pullToRefreshState.isRefreshing=!1)}onTouchMove(e){let t=e.target.closest(".cms-m-content");t&&t.scrollTop===0&&this.pullToRefreshState.startY>0&&(this.pullToRefreshState.currentY=e.touches[0].clientY,this.pullToRefreshState.pullDistance=Math.max(0,this.pullToRefreshState.currentY-this.pullToRefreshState.startY),this.pullToRefreshState.pullDistance>10&&e.preventDefault())}onTouchEnd(e){this.pullToRefreshState.pullDistance>=this.pullToRefreshState.threshold&&!this.pullToRefreshState.isRefreshing?(this.pullToRefreshState.isRefreshing=!0,this.onActionButtonReload(),setTimeout(()=>{this.pullToRefreshState.isRefreshing=!1,this.pullToRefreshState.pullDistance=0,this.pullToRefreshState.startY=0,this.pullToRefreshState.currentY=0},1e3)):(this.pullToRefreshState.pullDistance=0,this.pullToRefreshState.startY=0,this.pullToRefreshState.currentY=0)}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/sms/main/api-path-company"])}toggleActionMenu(e){let i=String(e);this.actionMenuOpen===i?this.actionMenuOpen=null:this.actionMenuOpen=i}closeActionMenu(){this.actionMenuOpen=null}toString(e){return String(e)}onDocumentClick(e){let i=e.target;!i.closest(".cms-m-action-menu")&&!i.closest(".cms-m-action-menu-dropdown")&&this.closeActionMenu()}getRowExpanded(e){return e.expanded===!0}};qi.\u0275fac=function(i){return new(i||qi)(h($e),h(re),h(j),h(se),h(oe),h(ae),h(J),h(Q),h(q),h(Y),h(de),h(H),h(ne))},qi.\u0275cmp=N({type:qi,selectors:[["app-sms-log-outbox-list-mobile"]],hostBindings:function(i,t){i&1&&v("click",function(d){return t.onDocumentClick(d)},Xo)},standalone:!1,features:[U],decls:37,vars:33,consts:[["paginator",""],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionOnScrollNearBottom","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplay","optionActionRowDisplayMenu","optionActionRowDisplayMenuAct","optionSelectRowItemTitle"],["cms-tree",""],[3,"optionChange"],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],[1,"col-4"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],[1,"cms-m-pull-refresh-indicator",3,"transform","refreshing"],[1,"cms-m-content",3,"touchstart","touchmove","touchend"],[1,"cms-m-list"],[1,"cms-m-empty-state"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-list","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],[1,"cms-m-pull-refresh-indicator"],["aria-hidden","true",1,"fa-solid","fa-rotate-right"],[1,"cms-m-list-item-wrapper",3,"transform"],[1,"cms-m-list-item-wrapper"],["role","button","tabindex","0",1,"cms-m-list-item",3,"click","rtclick","mouseenter","mouseleave","touchstart","touchmove","touchend"],[1,"cms-m-list-item-image-placeholder"],["aria-hidden","true",3,"ngClass"],[1,"cms-m-list-item-content"],[1,"cms-m-list-item-title"],[1,"cms-m-list-item-subtitle"],[1,"cms-m-list-item-description"],[1,"cms-m-list-item-expanded"],["aria-hidden","true",1,"fa-solid","fa-sim-card"],["aria-hidden","true",1,"fa-solid","fa-comment-dots"],["aria-hidden","true",1,"fa-solid","fa-paper-plane"],["aria-hidden","true",1,"fa-solid","fa-clock"],["aria-hidden","true",1,"fa-solid","fa-clock-rotate-left"],[3,"ngClass"],[1,"navi-icon","pointer",3,"cdkCopyToClipboard"],[1,"flaticon2-copy"],[1,"cms-m-empty-state-icon"],[1,"cms-m-empty-state-text"]],template:function(i,t){if(i&1){let n=T();l(0,"app-cms-html-list-mobile",1),B("optionActionGuideNoticeDisplayChange",function(c){return p(n),D(t.viewGuideNotice,c)||(t.viewGuideNotice=c),f(c)}),v("optionOnActionButtonMemoRow",function(){return p(n),f(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return p(n),f(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return p(n),f(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return p(n),f(t.onActionButtonPrintRow())})("optionOnScrollNearBottom",function(){return p(n),f(t.onActionLoadNextPage())}),x(1,2),l(2,"app-sms-apipath-tree",3),v("optionChange",function(c){return p(n),f(t.onActionSelectorSelect(c))}),r(),I(),ee(3,4)(4,5),x(5,6),M(6,Fr,2,0,"a",7),l(7,"a",8),v("click",function(){return p(n),f(t.viewGuideNotice=!t.viewGuideNotice)}),S(8,"i",9),r(),l(9,"a",8),v("click",function(){return p(n),f(t.onActionButtonReload())}),S(10,"i",10),r(),I(),x(11,11),l(12,"a",12),v("click",function(){return p(n),f(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),S(13,"mat-slide-toggle",13),u(14),_(15,"translate"),r(),l(16,"a",12),v("click",function(){return p(n),f(t.onActionButtonStatist())}),S(17,"mat-slide-toggle",13),u(18),_(19,"translate"),r(),I(),ee(20,14),x(21,15),M(22,Qr,7,3,"div",16),M(23,Wr,7,3,"div",16),M(24,jr,7,3,"div",16),M(25,qr,7,3,"div",16),I(),x(26,17),l(27,"app-cms-search-list",18),B("optionsChange",function(c){return p(n),D(t.optionsSearch,c)||(t.optionsSearch=c),f(c)}),r(),l(28,"app-cms-statist-list",18),B("optionsChange",function(c){return p(n),D(t.optionsStatist,c)||(t.optionsStatist=c),f(c)}),r(),I(),x(29,19),M(30,$r,6,11,"div",20),l(31,"div",21),v("touchstart",function(c){return p(n),f(t.onTouchStart(c))})("touchmove",function(c){return p(n),f(t.onTouchMove(c))})("touchend",function(c){return p(n),f(t.onTouchEnd(c))}),M(32,ta,3,0,"div",22)(33,ia,6,3,"div",23),r(),I(),x(34,24),l(35,"mat-paginator",25,0),v("page",function(c){return p(n),f(t.onTablePageingData(c))}),r(),I(),r()}i&2&&(b("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey","sms.log.outbox.list"),y("optionActionGuideNoticeDisplay",t.viewGuideNotice),b("optionTreeDisplay",!t.requestLinkApiPathId||t.requestLinkApiPathId.length===0)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplay",(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionActionRowDisplayMenuAct",t.tableRowSelectActionMenuClick)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.message),s(6),w((t.requestLinkApiPathId==null?null:t.requestLinkApiPathId.length)>0||(t.requestLinkApiNumberId==null?null:t.requestLinkApiNumberId.length)>0?6:-1),s(4),F("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),s(3),b("checked",t.optionsSearch.data.show),s(),C("",g(15,28,"ACTION.SEARCH")," "),s(3),b("checked",t.optionsStatist.data.show),s(),C("",g(19,30,"ACTION.STATIST")," "),s(4),w(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessWatchRow&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0?22:-1),s(),w(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessWatchRow&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0?23:-1),s(),w(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0?24:-1),s(),w(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0?25:-1),s(2),y("options",t.optionsSearch),s(),y("options",t.optionsStatist),s(2),w(t.pullToRefreshState.pullDistance>0?30:-1),s(2),w(t.dataModelResult!=null&&t.dataModelResult.listItems&&t.dataModelResult.listItems.length>0?32:33),s(3),b("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",K(32,Gr)))},dependencies:[Ce,ce,me,ze,pe,fe,lt,Se,Qe,W,_i,Pe,Re],encapsulation:2});var li=qi;var zi=class zi{constructor(){this.constructorInfoAreaId=this.constructor.name}ngOnInit(){}};zi.\u0275fac=function(e){return new(e||zi)},zi.\u0275cmp=N({type:zi,selectors:[["app-sms-log"]],standalone:!1,decls:1,vars:0,template:function(e,i){e&1&&S(0,"router-outlet")},dependencies:[Zo],encapsulation:2});var Xi=zi;var wn=[{path:"",component:Xi,data:{title:"ROUTE.SMS.LOG"},children:[{path:"inbox",component:ai,data:{title:"ROUTE.SMS.LOG"}},{path:"inbox/list/LinkPrivateConfigId/:LinkPrivateConfigId",component:ai,data:{title:"ROUTE.SMS.LOG"}},{path:"inbox/list/LinkApiNumberId/:LinkApiNumberId",component:ai,data:{title:"ROUTE.SMS.LOG"}},{path:"inbox/list/LinkSiteId/:LinkSiteId",component:ai,data:{title:"ROUTE.SMS.LOG"}},{path:"outbox",component:li,data:{title:"ROUTE.SMS.LOG"}},{path:"outbox/list/LinkPrivateConfigId/:LinkPrivateConfigId",component:li,data:{title:"ROUTE.SMS.LOG"}},{path:"outbox/list/LinkApiNumberId/:LinkApiNumberId",component:li,data:{title:"ROUTE.SMS.LOG"}},{path:"outbox/list/LinkSiteId/:LinkSiteId",component:li,data:{title:"ROUTE.SMS.LOG"}},{path:"outbox-detail/LinkOutBoxId/:LinkOutBoxId",component:Ao,data:{title:"ROUTE.SMS.LOG"}},{path:"api-path/LinkApiPathId/:LinkApiPathId",component:Eo,data:{title:"ROUTE.SMS.LOG"}},{path:"outbox-queue",component:lo,data:{title:"ROUTE.SMS.LOG"}},{path:"outbox-queue/LinkApiPathId/:LinkApiPathId",component:lo,data:{title:"ROUTE.SMS.LOG"}},{path:"outbox-task-scheduler",component:co,data:{title:"ROUTE.SMS.LOG"}},{path:"outbox-task-scheduler/LinkApiPathId/:LinkApiPathId",component:co,data:{title:"ROUTE.SMS.LOG"}}]}];var oa=()=>["expandedTitle"],na=()=>["expandedDetail"],sa=()=>[5,10,20,100],ra=o=>({display:o});function aa(o,a){if(o&1){let e=T();l(0,"div",18)(1,"a",44),v("click",function(){p(e);let t=m();return f(t.onActionButtonDeleteRow(t.tableRowSelected))}),S(2,"i",45)(3,"br"),r(),l(4,"p",46),u(5),_(6,"translate"),r()()}o&2&&(s(5),C(" ",g(6,1,"ACTION.DELETE")," "))}function la(o,a){o&1&&(l(0,"mat-header-cell"),u(1),_(2,"translate"),r()),o&2&&(s(),C(" ",g(2,1,"TITLE.MENU")," "))}function ca(o,a){if(o&1){let e=T();l(0,"mat-cell")(1,"button",47),v("click",function(){let t=p(e).$implicit,n=m();return f(n.onActionTableRowSelectActionMenu(t))}),S(2,"i",48),r()()}}function ma(o,a){if(o&1&&(l(0,"mat-header-cell",49),u(1),r()),o&2){let e=m();s(),C(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function da(o,a){if(o&1&&(l(0,"mat-cell"),u(1),r()),o&2){let e=a.$implicit;s(),C(" ",e.id," ")}}function ua(o,a){if(o&1&&(l(0,"mat-header-cell",49),u(1),r()),o&2){let e=m();s(),C(" ",e.fieldsInfo.statusInfo==null?null:e.fieldsInfo.statusInfo.fieldTitle," ")}}function pa(o,a){if(o&1&&(l(0,"mat-cell"),u(1),r()),o&2){let e=a.$implicit;s(),C(" ",e.statusInfo," ")}}function fa(o,a){if(o&1&&(l(0,"mat-header-cell",49),u(1),r()),o&2){let e=m();s(),C(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function Sa(o,a){if(o&1&&(l(0,"mat-cell",50),u(1),_(2,"localeDateTime"),r()),o&2){let e=a.$implicit;s(),C(" ",g(2,1,e.createdDate)," ")}}function ha(o,a){if(o&1&&(l(0,"mat-header-cell",49),u(1),r()),o&2){let e=m();s(),C(" ",e.fieldsInfo.statusOutOfServiceActive==null?null:e.fieldsInfo.statusOutOfServiceActive.fieldTitle," ")}}function _a(o,a){if(o&1&&(l(0,"mat-cell"),S(1,"i",51),_(2,"statusIconClass"),r()),o&2){let e=a.$implicit;s(),b("ngClass",g(2,1,e.statusOutOfServiceActive))}}function ga(o,a){if(o&1&&(l(0,"mat-header-cell",49),u(1),r()),o&2){let e=m();s(),C(" ",e.fieldsInfo.statusOutOfServiceExpire==null?null:e.fieldsInfo.statusOutOfServiceExpire.fieldTitle," ")}}function Ca(o,a){if(o&1&&(l(0,"mat-cell",50),u(1),_(2,"localeDateTime"),r()),o&2){let e=a.$implicit;s(),C(" ",g(2,1,e.statusOutOfServiceExpire)," ")}}function ba(o,a){if(o&1&&(l(0,"mat-header-cell",49),u(1),r()),o&2){let e=m();s(),C(" ",e.fieldsInfo.statusNotStableActive==null?null:e.fieldsInfo.statusNotStableActive.fieldTitle," ")}}function va(o,a){if(o&1&&(l(0,"mat-cell"),S(1,"i",51),_(2,"statusIconClass"),r()),o&2){let e=a.$implicit;s(),b("ngClass",g(2,1,e.statusNotStableActive))}}function Ma(o,a){if(o&1&&(l(0,"mat-header-cell",49),u(1),r()),o&2){let e=m();s(),C(" ",e.fieldsInfo.statusNotStableExpire==null?null:e.fieldsInfo.statusNotStableExpire.fieldTitle," ")}}function wa(o,a){if(o&1&&(l(0,"mat-cell"),u(1),_(2,"localeDate"),r()),o&2){let e=a.$implicit;s(),C(" ",g(2,1,e.statusNotStableExpire)," ")}}function xa(o,a){if(o&1&&(l(0,"mat-header-cell",49),u(1),r()),o&2){let e=m();s(),C(" ",e.fieldsInfo.statusNotStableCount==null?null:e.fieldsInfo.statusNotStableCount.fieldTitle," ")}}function Ia(o,a){if(o&1&&(l(0,"mat-cell"),u(1),r()),o&2){let e=a.$implicit;s(),C(" ",e.statusNotStableCount," ")}}function Ta(o,a){if(o&1&&(l(0,"mat-cell"),u(1),r()),o&2){let e=a.$implicit;s(),C(" ",e.title," ")}}function Ea(o,a){if(o&1&&(l(0,"mat-cell")(1,"div")(2,"table")(3,"tr"),S(4,"td"),l(5,"td"),u(6),_(7,"number"),r()(),l(8,"tr"),S(9,"td"),l(10,"td"),u(11),_(12,"number"),r()()()()()),o&2){let e=a.$implicit,i=m();s(6),R(" ",i.fieldsInfo.credit==null?null:i.fieldsInfo.credit.fieldTitle," : ",g(7,4,e.credit)," "),s(5),R(" ",i.fieldsInfo.giveBackCredit==null?null:i.fieldsInfo.giveBackCredit.fieldTitle," : ",g(12,6,e.giveBackCredit)," ")}}function Ra(o,a){o&1&&S(0,"mat-header-row")}function La(o,a){if(o&1){let e=T();l(0,"mat-row",52),v("click",function(t){let n=p(e).$implicit,d=m();return f(d.onActionTableRowSelect(n,t))})("rtclick",function(t){let n=p(e).$implicit,d=m();return f(d.onActionTableRowSelect(n,t))})("mouseenter",function(){let t=p(e).$implicit,n=m();return f(n.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=p(e).$implicit,n=m();return f(n.onActionTableRowMouseLeave(t))}),r()}if(o&2){let e=a.$implicit,i=m();F("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}function Aa(o,a){if(o&1){let e=T();l(0,"mat-row",53),v("click",function(t){let n=p(e).$implicit,d=m();return f(d.onActionTableRowSelect(n,t))})("rtclick",function(t){let n=p(e).$implicit,d=m();return f(d.onActionTableRowSelect(n,t))})("mouseenter",function(){let t=p(e).$implicit,n=m();return f(n.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=p(e).$implicit,n=m();return f(n.onActionTableRowMouseLeave(t))}),r()}if(o&2){let e=a.$implicit,i=m();F("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}function ya(o,a){if(o&1){let e=T();l(0,"mat-row",54),v("click",function(t){let n=p(e).$implicit,d=m();return f(d.onActionTableRowSelect(n,t))})("rtclick",function(t){let n=p(e).$implicit,d=m();return f(d.onActionTableRowSelect(n,t))})("mouseenter",function(){let t=p(e).$implicit,n=m();return f(n.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=p(e).$implicit,n=m();return f(n.onActionTableRowMouseLeave(t))}),r()}if(o&2){let e=a.$implicit,i=m();F("ntk-row-expanded",e.expanded===!0)("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)),b("ngStyle",kt(5,ra,e.expanded===!0?"":"none"))}}var Yi=class Yi extends ue{constructor(e,i,t,n,d,c,E,$,ie,We,dt,he,ut){super(e,new fi,he,E,ie);this.contentService=e;this.activatedRoute=i;this.cmsToastrService=t;this.cmsConfirmationDialogService=n;this.smsMainApiPathService=d;this.router=c;this.tokenHelper=E;this.cdr=$;this.translate=ie;this.cmsStoreService=We;this.pageInfo=dt;this.publicHelper=he;this.dialog=ut;this.requestLinkApiPathId="";this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new G;this.filterDataModelQueryBuilder=[];this.dataModelCoreCurrencyResult=new k;this.dataModelPrivateResult=new k;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["id","createdDate","StatusInfo","StatusOutOfServiceActive","StatusOutOfServiceExpire","StatusNotStableActive","StatusNotStableExpire","StatusNotStableCount","action_menu"];this.tabledisplayedColumnsMobileSource=["id","createdDate","StatusInfo","StatusOutOfServiceActive","StatusOutOfServiceExpire","StatusNotStableActive","StatusNotStableExpire","StatusNotStableCount","action_menu"];this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.requestLinkApiPathId=this.activatedRoute.snapshot.paramMap.get("LinkApiPathId"),this.optionsSearch.parentMethods={onSubmit:ni=>this.onSubmitOptionsSearch(ni)},this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=O.Descending;let Z=new P;this.requestLinkApiPathId?.length>0&&(Z.propertyName="LinkApiPathId",Z.value=this.requestLinkApiPathId,this.filteModelContent.filters.push(Z))}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>z(this,null,function*(){this.tokenInfo=e,this.DataGetAll()}))),this.getPrivateConfig()}getPrivateConfig(){let e=new G;e.rowPerPage=100,this.smsMainApiPathService.ServiceGetAll(e).subscribe({next:i=>{this.dataModelPrivateResult=i}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new fi);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),t.isSuccess?(this.applyDataGetAllResult(t),this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=O.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=O.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=O.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize}onActionButtonDeleteRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(n=>{this.cmsToastrService.typeErrorSelected(n)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(n=>{i=n["MESSAGE.Please_Confirm"],t=n["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(n=>{if(n){let d=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(d,c,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(d)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(d,!1)}})}}).catch(()=>{})}onActionSelectorSelect(e){var i=this.filteModelContent.sortColumn,t=this.filteModelContent.sortType;this.filteModelContent=new G,this.filteModelContent.sortColumn=i,this.filteModelContent.sortType=t,this.categoryModelSelected=e,this.DataGetAll()}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{i.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{i.set(c,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(E=>{i.set(E,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}});let n=JSON.parse(JSON.stringify(this.filteModelContent)),d=new P;d.propertyName="recordStatus",d.value=le.Available,n.filters.push(d),this.contentService.ServiceGetCount(n).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(E=>{i.set(E,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/sms/main/api-path"])}onActionButtonNewRow(e){this.cmsToastrService.typeErrorAccessAdd()}onActionButtonEditRow(e){this.cmsToastrService.typeErrorAccessEdit()}};Yi.\u0275fac=function(i){return new(i||Yi)(h(Si),h(re),h(j),h(se),h(oe),h(ae),h(J),h(Q),h(q),h(Y),h(de),h(H),h(ne))},Yi.\u0275cmp=N({type:Yi,selectors:[["app-sms-log-apipath-list"]],standalone:!1,features:[U],decls:68,vars:33,consts:[["tableSort","matSort"],["paginator",""],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionActionRowDisplayMenuAct","optionSelectRowItemTitle"],["cms-tree",""],[3,"optionChange"],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],[1,"col-4"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","","multiTemplateDataRows","",3,"matSortChange","dataSource"],["matColumnDef","action_menu"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","StatusInfo"],["matColumnDef","createdDate"],["style","direction: ltr",4,"matCellDef"],["matColumnDef","StatusOutOfServiceActive"],["matColumnDef","StatusOutOfServiceExpire"],["matColumnDef","StatusNotStableActive"],["matColumnDef","StatusNotStableExpire"],["matColumnDef","StatusNotStableCount"],["matColumnDef","expandedTitle"],["matColumnDef","expandedDetail"],[4,"matHeaderRowDef"],["class","ntk-row-expandedTitle",3,"ntk-row-selected","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["class","ntk-row-expandedDetail",3,"ntk-row-expanded","ntk-row-selected","ngStyle","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"click"],[1,"fa","fa-bars","font-18"],["mat-sort-header",""],[2,"direction","ltr"],[3,"ngClass"],[1,"ntk-row-expandedTitle",3,"click","rtclick","mouseenter","mouseleave"],[1,"ntk-row-mainfild",3,"click","rtclick","mouseenter","mouseleave"],[1,"ntk-row-expandedDetail",3,"click","rtclick","mouseenter","mouseleave","ngStyle"]],template:function(i,t){if(i&1){let n=T();l(0,"app-cms-html-list",2),B("optionActionGuideNoticeDisplayChange",function(c){return p(n),D(t.viewGuideNotice,c)||(t.viewGuideNotice=c),f(c)}),v("optionOnActionButtonMemoRow",function(){return p(n),f(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return p(n),f(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return p(n),f(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return p(n),f(t.onActionButtonPrintRow())}),x(1,3),l(2,"app-sms-apipath-tree",4),v("optionChange",function(c){return p(n),f(t.onActionSelectorSelect(c))}),r(),I(),ee(3,5)(4,6),x(5,7),l(6,"a",8),v("click",function(){return p(n),f(t.onActionBackToParent())}),S(7,"i",9),r(),l(8,"a",10),v("click",function(){return p(n),f(t.viewGuideNotice=!t.viewGuideNotice)}),S(9,"i",11),r(),l(10,"a",10),v("click",function(){return p(n),f(t.onActionButtonReload())}),S(11,"i",12),r(),I(),x(12,13),l(13,"a",14),v("click",function(){return p(n),f(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),S(14,"mat-slide-toggle",15),u(15),_(16,"translate"),r(),l(17,"a",14),v("click",function(){return p(n),f(t.onActionButtonStatist())}),S(18,"mat-slide-toggle",15),u(19),_(20,"translate"),r(),I(),ee(21,16),x(22,17),M(23,aa,7,3,"div",18),I(),x(24,19),l(25,"app-cms-search-list",20),B("optionsChange",function(c){return p(n),D(t.optionsSearch,c)||(t.optionsSearch=c),f(c)}),r(),l(26,"app-cms-statist-list",20),B("optionsChange",function(c){return p(n),D(t.optionsStatist,c)||(t.optionsStatist=c),f(c)}),r(),I(),x(27,21),l(28,"mat-table",22,0),v("matSortChange",function(){p(n);let c=X(29);return f(t.onTableSortData(c))}),x(30,23),L(31,la,3,3,"mat-header-cell",24)(32,ca,3,0,"mat-cell",25),I(),x(33,26),L(34,ma,2,1,"mat-header-cell",27)(35,da,2,1,"mat-cell",25),I(),x(36,28),L(37,ua,2,1,"mat-header-cell",27)(38,pa,2,1,"mat-cell",25),I(),x(39,29),L(40,fa,2,1,"mat-header-cell",27)(41,Sa,3,3,"mat-cell",30),I(),x(42,31),L(43,ha,2,1,"mat-header-cell",27)(44,_a,3,3,"mat-cell",25),I(),x(45,32),L(46,ga,2,1,"mat-header-cell",27)(47,Ca,3,3,"mat-cell",30),I(),x(48,33),L(49,ba,2,1,"mat-header-cell",27)(50,va,3,3,"mat-cell",25),I(),x(51,34),L(52,Ma,2,1,"mat-header-cell",27)(53,wa,3,3,"mat-cell",25),I(),x(54,35),L(55,xa,2,1,"mat-header-cell",27)(56,Ia,2,1,"mat-cell",25),I(),x(57,36),L(58,Ta,2,1,"mat-cell",25),I(),x(59,37),L(60,Ea,13,8,"mat-cell",25),I(),L(61,Ra,1,0,"mat-header-row",38)(62,La,1,2,"mat-row",39)(63,Aa,1,2,"mat-row",40)(64,ya,1,7,"mat-row",41),r(),I(),x(65,42),l(66,"mat-paginator",43,1),v("page",function(c){return p(n),f(t.onTablePageingData(c))}),r(),I(),r()}i&2&&(b("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),y("optionActionGuideNoticeDisplay",t.viewGuideNotice),b("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionActionRowDisplayMenuAct",t.tableRowSelectActionMenuClick)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),s(11),F("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),s(3),b("checked",t.optionsSearch.data.show),s(),C("",g(16,26,"ACTION.SEARCH")," "),s(3),b("checked",t.optionsStatist.data.show),s(),C("",g(20,28,"ACTION.STATIST")," "),s(4),w(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0?23:-1),s(2),y("options",t.optionsSearch),s(),y("options",t.optionsStatist),s(2),b("dataSource",t.tableSource),s(33),b("matHeaderRowDef",t.tabledisplayedColumns),s(),b("matRowDefColumns",K(30,oa)),s(),b("matRowDefColumns",t.tabledisplayedColumns),s(),b("matRowDefColumns",K(31,na)),s(2),b("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",K(32,sa)))},dependencies:[Ce,Vt,Xe,ce,me,Ye,Je,Ue,Ze,ot,et,Ke,nt,tt,it,st,rt,pe,fe,at,Se,Qe,pi,W,Pe,He,Re],encapsulation:2});var yo=Yi;var je=class je{constructor(a,e,i){this.elementRef=a;this.renderer=e;this.contactContentService=i;this.tooltipPosition="above";this.subscription=null;this.tooltipElement=null}onMouseEnter(){this.loadAndShowTooltip()}onClick(){this.loadAndShowTooltip()}onMouseLeave(){this.hideTooltip(),this.subscription&&(this.subscription.unsubscribe(),this.subscription=null)}loadAndShowTooltip(){if(!this.contactContentByNumberTooltip)return;let a=this.contactContentByNumberTooltip.trim();if(!a||a.length===0)return;let e=je.cache.get(a);if(e){this.showTooltip(e);return}if(je.loadingCache.has(a)){this.showTooltip("\u062F\u0631 \u062D\u0627\u0644 \u0628\u0627\u0631\u06AF\u0630\u0627\u0631\u06CC...");return}this.showTooltip("\u062F\u0631 \u062D\u0627\u0644 \u0628\u0627\u0631\u06AF\u0630\u0627\u0631\u06CC..."),je.loadingCache.add(a),this.subscription=this.contactContentService.ServiceFindByNumber(a).pipe(qo(i=>{let t=a;if(i?.isSuccess){let n=[];i.item&&n.push(i.item),Array.isArray(i.listItems)&&n.push(...i.listItems);let d=n.map(c=>{if(!c)return"";let E=[c.firstName,c.lastName].filter($=>!!$&&$.trim().length>0).join(" ").trim();return E.length>0?E:c.title&&c.title.trim().length>0?c.title.trim():""}).filter(c=>c.length>0);d.length>0&&(t=a+": "+d.join(" | "))}return t}),$o(()=>jo(a))).subscribe(i=>{je.cache.set(a,i),je.loadingCache.delete(a),this.showTooltip(i)})}showTooltip(a){if(!a||a.trim().length===0)return;this.hideTooltip(),this.tooltipElement=this.renderer.createElement("span"),this.renderer.addClass(this.tooltipElement,"mat-tooltip"),this.renderer.addClass(this.tooltipElement,`mat-tooltip-${this.tooltipPosition}`),this.renderer.setStyle(this.tooltipElement,"position","absolute"),this.renderer.setStyle(this.tooltipElement,"z-index","1000"),this.renderer.setStyle(this.tooltipElement,"background-color","#616161"),this.renderer.setStyle(this.tooltipElement,"color","#fff"),this.renderer.setStyle(this.tooltipElement,"padding","8px 12px"),this.renderer.setStyle(this.tooltipElement,"border-radius","4px"),this.renderer.setStyle(this.tooltipElement,"font-size","12px"),this.renderer.setStyle(this.tooltipElement,"max-width","250px"),this.renderer.setStyle(this.tooltipElement,"word-wrap","break-word"),this.renderer.setStyle(this.tooltipElement,"opacity","0"),this.renderer.setStyle(this.tooltipElement,"transition","opacity 0.2s");let e=this.renderer.createText(a);this.renderer.appendChild(this.tooltipElement,e),this.renderer.appendChild(document.body,this.tooltipElement),this.setTooltipPosition(),setTimeout(()=>{this.tooltipElement&&this.renderer.setStyle(this.tooltipElement,"opacity","1")},10)}setTooltipPosition(){if(!this.tooltipElement)return;let e=this.elementRef.nativeElement.getBoundingClientRect(),i=this.tooltipElement.getBoundingClientRect(),t=window.pageYOffset||document.documentElement.scrollTop,n=window.pageXOffset||document.documentElement.scrollLeft,d=0,c=0;switch(this.tooltipPosition){case"above":d=e.top+t-i.height-8,c=e.left+n+(e.width-i.width)/2;break;case"below":d=e.bottom+t+8,c=e.left+n+(e.width-i.width)/2;break;case"left":d=e.top+t+(e.height-i.height)/2,c=e.left+n-i.width-8;break;case"right":d=e.top+t+(e.height-i.height)/2,c=e.right+n+8;break}this.renderer.setStyle(this.tooltipElement,"top",`${d}px`),this.renderer.setStyle(this.tooltipElement,"left",`${c}px`)}hideTooltip(){this.tooltipElement&&(this.renderer.setStyle(this.tooltipElement,"opacity","0"),setTimeout(()=>{this.tooltipElement&&this.tooltipElement.parentNode&&this.renderer.removeChild(document.body,this.tooltipElement),this.tooltipElement=null},200))}ngOnDestroy(){this.hideTooltip(),this.subscription&&this.subscription.unsubscribe()}};je.cache=new Map,je.loadingCache=new Set,je.\u0275fac=function(e){return new(e||je)(h(Co),h(bo),h(an))},je.\u0275dir=Mo({type:je,selectors:[["","contactContentByNumberTooltip",""]],hostBindings:function(e,i){e&1&&v("mouseenter",function(){return i.onMouseEnter()})("click",function(){return i.onClick()})("mouseleave",function(){return i.onMouseLeave()})},inputs:{contactContentByNumberTooltip:"contactContentByNumberTooltip",tooltipPosition:"tooltipPosition"},standalone:!1});var Ji=je;var Da=()=>["expandedTitle"],Ba=()=>[5,10,20,100];function ka(o,a){if(o&1){let e=T();l(0,"a",48),v("click",function(){p(e);let t=m();return f(t.onActionBackToParent())}),S(1,"i",49),r()}}function Oa(o,a){if(o&1){let e=T();l(0,"div",18)(1,"a",50),v("click",function(){p(e);let t=m();return f(t.onActionButtonEditRow(t.tableRowSelected))}),S(2,"i",51)(3,"br"),r(),l(4,"p",21),u(5),_(6,"translate"),r()()}o&2&&(s(5),C(" ",g(6,1,"ACTION.EDIT")," "))}function Pa(o,a){if(o&1){let e=T();l(0,"div",18)(1,"a",52),v("click",function(){p(e);let t=m();return f(t.onActionButtonDeleteRow(t.tableRowSelected))}),S(2,"i",53)(3,"br"),r(),l(4,"p",21),u(5),_(6,"translate"),r()()}o&2&&(s(5),C(" ",g(6,1,"ACTION.DELETE")," "))}function Va(o,a){if(o&1){let e=T();l(0,"div",18)(1,"a",54),v("click",function(){p(e);let t=m();return f(t.onActionButtonViewRow(t.tableRowSelected))}),S(2,"i",55)(3,"br"),r(),l(4,"p",21),u(5),_(6,"translate"),r()()}o&2&&(s(5),C(" ",g(6,1,"ACTION.VIEW")," "))}function Na(o,a){if(o&1){let e=T();l(0,"mat-row",56),v("click",function(t){let n=p(e).$implicit,d=m();return f(d.onActionTableRowSelect(n,t))})("rtclick",function(t){let n=p(e).$implicit,d=m();return f(d.onActionTableRowSelect(n,t))})("mouseenter",function(){let t=p(e).$implicit,n=m();return f(n.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=p(e).$implicit,n=m();return f(n.onActionTableRowMouseLeave(t))}),r()}if(o&2){let e=a.$implicit,i=m();F("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}function Ga(o,a){if(o&1&&(l(0,"mat-header-cell",57),u(1),r()),o&2){let e=m();s(),C(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function Ha(o,a){if(o&1&&(l(0,"mat-cell"),u(1),r()),o&2){let e=a.$implicit;s(),C(" ",e.id," ")}}function Fa(o,a){if(o&1&&(l(0,"mat-header-cell",57),u(1),r()),o&2){let e=m();s(),C(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function Qa(o,a){if(o&1&&(l(0,"mat-cell",58),_(1,"statusCellClass"),S(2,"i",58),_(3,"statusIconClass"),r()),o&2){let e=a.$implicit;b("ngClass",g(1,2,e.recordStatus)),s(2),b("ngClass",g(3,4,e.recordStatus))}}function Wa(o,a){if(o&1&&(l(0,"mat-header-cell",57),u(1),r()),o&2){let e=m();s(),C(" ",e.fieldsInfo.message==null?null:e.fieldsInfo.message.fieldTitle," ")}}function ja(o,a){if(o&1&&(l(0,"mat-cell"),u(1),r()),o&2){let e=a.$implicit;s(),C(" ",e.message," ")}}function qa(o,a){if(o&1&&(l(0,"mat-header-cell",57),u(1),r()),o&2){let e=m();s(),C("",e.fieldsInfo.senderNumber==null?null:e.fieldsInfo.senderNumber.fieldTitle," ")}}function $a(o,a){if(o&1&&(l(0,"mat-cell",59)(1,"span",60),u(2),r()()),o&2){let e=a.$implicit;s(),b("contactContentByNumberTooltip",e.senderNumber)("tooltipPosition","above"),s(),C(" ",e.senderNumber," ")}}function za(o,a){if(o&1&&(l(0,"mat-header-cell",57),u(1),r()),o&2){let e=m();s(),C(" ",e.fieldsInfo.receiverNumber==null?null:e.fieldsInfo.receiverNumber.fieldTitle," ")}}function Xa(o,a){if(o&1&&(l(0,"mat-cell"),u(1),r()),o&2){let e=a.$implicit;s(),C(" ",e.receiverNumber," ")}}function Ya(o,a){if(o&1&&(l(0,"mat-header-cell",57),u(1),r()),o&2){let e=m();s(),C(" ",e.fieldsInfo.linkPrivateConfigId==null?null:e.fieldsInfo.linkPrivateConfigId.fieldTitle," ")}}function Ja(o,a){if(o&1&&(l(0,"mat-cell"),u(1),_(2,"cmstitle"),r()),o&2){let e=a.$implicit,i=m();s(),C(" ",si(2,1,e.linkPrivateConfigId,i.dataModelPrivateResult.listItems)," ")}}function Ua(o,a){if(o&1&&(l(0,"mat-header-cell",57),u(1),r()),o&2){let e=m();s(),C(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function Ka(o,a){if(o&1&&(l(0,"mat-cell",61),u(1),_(2,"localeDate"),r()),o&2){let e=a.$implicit,i=m();s(),R(" ",g(2,2,e.createdDate)," ",i.publicHelper.getTime(e.createdDate)," ")}}function Za(o,a){if(o&1&&(l(0,"mat-header-cell",57),u(1),r()),o&2){let e=m();s(),C(" ",e.fieldsInfo.updatedDate==null?null:e.fieldsInfo.updatedDate.fieldTitle," ")}}function el(o,a){if(o&1&&(l(0,"mat-cell",61),u(1),_(2,"localeDate"),r()),o&2){let e=a.$implicit,i=m();s(),R(" ",g(2,2,e.updatedDate)," ",i.publicHelper.getTime(e.updatedDate)," ")}}function tl(o,a){o&1&&(l(0,"mat-header-cell"),u(1),_(2,"translate"),r()),o&2&&(s(),C(" ",g(2,1,"TITLE.OPTION")," "))}function il(o,a){if(o&1&&(l(0,"mat-cell",62)(1,"button",63)(2,"mat-icon"),u(3,"more_vert"),r()(),S(4,"mat-menu",null,2),r()),o&2){let e=X(5);s(),b("matMenuTriggerFor",e)}}function ol(o,a){o&1&&S(0,"mat-header-row")}function nl(o,a){if(o&1){let e=T();l(0,"mat-row",64),v("click",function(t){let n=p(e).$implicit,d=m();return f(d.onActionTableRowSelect(n,t))})("rtclick",function(t){let n=p(e).$implicit,d=m();return f(d.onActionTableRowSelect(n,t))}),r()}if(o&2){let e=a.$implicit,i=m();F("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}function sl(o,a){if(o&1&&(l(0,"mat-cell"),u(1),_(2,"translate"),S(3,"br"),u(4),_(5,"translate"),_(6,"cmstitle"),S(7,"br"),u(8),_(9,"translate"),_(10,"localeDate"),S(11,"br"),u(12),_(13,"translate"),_(14,"localeDate"),S(15,"br"),r()),o&2){let e=a.$implicit,i=m();s(),R(" ",g(2,8,"TITLE.Id")," : ",e.id," "),s(3),R(" ",g(5,10,"TITLE.LinkPrivateConfigurationId")," : ",si(6,12,e.linkPrivateConfigId,i.dataModelPrivateResult.listItems)," "),s(4),R(" ",g(9,15,"TITLE.CreationDate")," : ",g(10,17,e.createdDate)," "),s(4),R(" ",g(13,19,"TITLE.DateOfUpdate")," : ",g(14,21,e.updatedDate)," ")}}var Ui=class Ui extends ue{constructor(e,i,t,n,d,c,E,$,ie,We,dt,he,ut){super(e,new pt,he,E,ie);this.contentService=e;this.smsMainApiPathService=i;this.activatedRoute=t;this.cmsToastrService=n;this.cmsConfirmationDialogService=d;this.router=c;this.tokenHelper=E;this.cdr=$;this.translate=ie;this.cmsStoreService=We;this.pageInfo=dt;this.publicHelper=he;this.dialog=ut;this.requestLinkSiteId=0;this.requestLinkPrivateConfigId="";this.requestLinkApiNumberId="";this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new G;this.filterDataModelQueryBuilder=[];this.dataModelCoreCurrencyResult=new k;this.dataModelPrivateResult=new k;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["Message","SenderNumber","ReceiverNumber"];this.tabledisplayedColumnsMobileSource=["Message","SenderNumber","ReceiverNumber"];this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:Z=>this.onSubmitOptionsSearch(Z)},this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=O.Descending}ngOnInit(){this.activatedRoute.snapshot.paramMap.get("LinkSiteId")&&(this.requestLinkSiteId=+this.activatedRoute.snapshot.paramMap.get("LinkSiteId")||0),this.activatedRoute.snapshot.paramMap.get("LinkPrivateConfigId")&&(this.requestLinkPrivateConfigId=this.activatedRoute.snapshot.paramMap.get("LinkPrivateConfigId")),this.activatedRoute.snapshot.paramMap.get("LinkApiNumberId")&&(this.requestLinkApiNumberId=this.activatedRoute.snapshot.paramMap.get("LinkApiNumberId"));let e=new P;if(this.requestLinkPrivateConfigId?.length>0&&(e.propertyName="LinkPrivateConfigId",e.value=this.requestLinkPrivateConfigId,this.filteModelContent.filters.push(e)),this.requestLinkApiNumberId?.length>0&&(e.propertyName="LinkApiNumberId",e.value=this.requestLinkApiNumberId,this.filteModelContent.filters.push(e)),this.requestLinkSiteId>0){let i=new P;i.propertyName="linkSiteId",i.value=this.requestLinkSiteId,this.filteModelContent.filters.push(i)}this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(i=>i.tokenInfoStore).subscribe(i=>z(this,null,function*(){this.tokenInfo=i,this.DataGetAll()}))),this.getPrivateConfig()}getPrivateConfig(){let e=new G;e.rowPerPage=100,this.smsMainApiPathService.ServiceGetAll(e).subscribe({next:i=>{this.dataModelPrivateResult=i}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new pt);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));if(this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.categoryModelSelected&&this.categoryModelSelected.id.length>0){let t=new P;t.propertyName="LinkPrivateConfigId",t.value=this.categoryModelSelected.id,i.filters.push(t)}this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.applyDataGetAllResult(t),this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=O.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=O.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=O.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonEditRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(vi,{height:"90%",panelClass:i,enterAnimationDuration:V.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:V.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(n=>{n&&n.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(n=>{this.cmsToastrService.typeErrorSelected(n)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(n=>{i=n["MESSAGE.Please_Confirm"],t=n["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(n=>{if(n){let d=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(d,c,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(d)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(d,!1)}})}}).catch(()=>{})}onActionButtonViewRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(wi,{height:"90%",panelClass:i,enterAnimationDuration:V.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:V.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(n=>{n&&n.dialogChangedDate})}onActionSelectorSelect(e){var i=this.filteModelContent.sortColumn,t=this.filteModelContent.sortType;this.filteModelContent=new G,this.filteModelContent.sortColumn=i,this.filteModelContent.sortType=t,this.categoryModelSelected=e,this.DataGetAll()}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{i.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{i.set(c,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(E=>{i.set(E,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}});let n=JSON.parse(JSON.stringify(this.filteModelContent)),d=new P;d.propertyName="recordStatus",d.value=le.Available,n.filters.push(d),this.contentService.ServiceGetCount(n).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(E=>{i.set(E,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonSendMessage(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorSelected();return}let i={state:{LinkApiPathId:e.linkPrivateConfigId,LinkNumberId:e.linkApiNumberId,ReceiverNumber:e.senderNumber,SenderNumber:e.receiverNumber,Message:e.message}};this.router.navigate(["/sms/action/send-message"],i)}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){}onActionButtonNewRow(e){this.cmsToastrService.typeErrorAccessAdd()}};Ui.\u0275fac=function(i){return new(i||Ui)(h(Rt),h(oe),h(re),h(j),h(se),h(ae),h(J),h(Q),h(q),h(Y),h(de),h(H),h(ne))},Ui.\u0275cmp=N({type:Ui,selectors:[["app-sms-log-inbox-list"]],standalone:!1,features:[U],decls:73,vars:37,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],[3,"optionChange"],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-message","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","","multiTemplateDataRows","",3,"matSortChange","dataSource"],["class","ntk-row-expandedTitle",3,"ntk-row-selected","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","recordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","Message"],["matColumnDef","SenderNumber"],["class","cursor-pointer",4,"matCellDef"],["matColumnDef","ReceiverNumber"],["matColumnDef","LinkPrivateConfigId"],["matColumnDef","createdDate"],["style","direction: ltr",4,"matCellDef"],["matColumnDef","updatedDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["matColumnDef","expandedTitle"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","target","_blank","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],[1,"ntk-row-expandedTitle",3,"click","rtclick","mouseenter","mouseleave"],["mat-sort-header",""],[3,"ngClass"],[1,"cursor-pointer"],[3,"contactContentByNumberTooltip","tooltipPosition"],[2,"direction","ltr"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(i,t){if(i&1){let n=T();l(0,"app-cms-html-list",3),B("optionActionGuideNoticeDisplayChange",function(c){return p(n),D(t.viewGuideNotice,c)||(t.viewGuideNotice=c),f(c)}),v("optionOnActionButtonMemoRow",function(){return p(n),f(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return p(n),f(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return p(n),f(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return p(n),f(t.onActionButtonPrintRow())}),x(1,4),l(2,"app-sms-apipath-tree",5),v("optionChange",function(c){return p(n),f(t.onActionSelectorSelect(c))}),r(),I(),ee(3,6)(4,7),x(5,8),M(6,ka,2,0,"a",9),l(7,"a",10),v("click",function(){return p(n),f(t.viewGuideNotice=!t.viewGuideNotice)}),S(8,"i",11),r(),l(9,"a",10),v("click",function(){return p(n),f(t.onActionButtonReload())}),S(10,"i",12),r(),I(),x(11,13),l(12,"a",14),v("click",function(){return p(n),f(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),S(13,"mat-slide-toggle",15),u(14),_(15,"translate"),r(),l(16,"a",14),v("click",function(){return p(n),f(t.onActionButtonStatist())}),S(17,"mat-slide-toggle",15),u(18),_(19,"translate"),r(),I(),ee(20,16),x(21,17),l(22,"div",18)(23,"a",19),v("click",function(){return p(n),f(t.onActionButtonSendMessage(t.tableRowSelected))}),S(24,"i",20)(25,"br"),r(),l(26,"p",21),u(27),_(28,"translate"),r()(),M(29,Oa,7,3,"div",18),M(30,Pa,7,3,"div",18),M(31,Va,7,3,"div",18),I(),x(32,22),l(33,"app-cms-search-list",23),B("optionsChange",function(c){return p(n),D(t.optionsSearch,c)||(t.optionsSearch=c),f(c)}),r(),l(34,"app-cms-statist-list",23),B("optionsChange",function(c){return p(n),D(t.optionsStatist,c)||(t.optionsStatist=c),f(c)}),r(),I(),x(35,24),l(36,"mat-table",25,0),v("matSortChange",function(){p(n);let c=X(37);return f(t.onTableSortData(c))}),L(38,Na,1,2,"mat-row",26),x(39,27),L(40,Ga,2,1,"mat-header-cell",28)(41,Ha,2,1,"mat-cell",29),I(),x(42,30),L(43,Fa,2,1,"mat-header-cell",28)(44,Qa,4,6,"mat-cell",31),I(),x(45,32),L(46,Wa,2,1,"mat-header-cell",28)(47,ja,2,1,"mat-cell",29),I(),x(48,33),L(49,qa,2,1,"mat-header-cell",28)(50,$a,3,3,"mat-cell",34),I(),x(51,35),L(52,za,2,1,"mat-header-cell",28)(53,Xa,2,1,"mat-cell",29),I(),x(54,36),L(55,Ya,2,1,"mat-header-cell",28)(56,Ja,3,4,"mat-cell",29),I(),x(57,37),L(58,Ua,2,1,"mat-header-cell",28)(59,Ka,3,4,"mat-cell",38),I(),x(60,39),L(61,Za,2,1,"mat-header-cell",28)(62,el,3,4,"mat-cell",38),I(),x(63,40),L(64,tl,3,3,"mat-header-cell",41)(65,il,6,1,"mat-cell",42),I(),L(66,ol,1,0,"mat-header-row",43)(67,nl,1,2,"mat-row",44),x(68,45),L(69,sl,16,23,"mat-cell",29),I(),r(),I(),x(70,46),l(71,"mat-paginator",47,1),v("page",function(c){return p(n),f(t.onTablePageingData(c))}),r(),I(),r()}i&2&&(b("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),y("optionActionGuideNoticeDisplay",t.viewGuideNotice),b("optionTreeDisplay",!1)("optionTreeDisplay",!t.requestLinkPrivateConfigId||t.requestLinkPrivateConfigId.length===0)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.senderNumber),s(6),w((t.requestLinkPrivateConfigId==null?null:t.requestLinkPrivateConfigId.length)>0?6:-1),s(4),F("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),s(3),b("checked",t.optionsSearch.data.show),s(),C("",g(15,29,"ACTION.SEARCH")," "),s(3),b("checked",t.optionsStatist.data.show),s(),C("",g(19,31,"ACTION.STATIST")," "),s(9),C(" ",g(28,33,"ACTION.SEND_ANSWER")," "),s(2),w(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?29:-1),s(),w(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?30:-1),s(),w(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessWatchRow&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0?31:-1),s(2),y("options",t.optionsSearch),s(),y("options",t.optionsStatist),s(2),b("dataSource",t.tableSource),s(2),b("matRowDefColumns",K(35,Da)),s(28),b("matHeaderRowDef",t.tabledisplayedColumns),s(),b("matRowDefColumns",t.tabledisplayedColumns),s(4),b("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",K(36,Ba)))},dependencies:[Ce,Xe,Kt,Zt,ei,ce,me,Ye,Je,Ue,Ze,ot,et,Ke,nt,tt,it,st,rt,pe,fe,at,Ji,Se,Qe,W,_i,Pe,Re,hi],encapsulation:2});var ci=Ui;var Ki=class Ki{constructor(a){this.sanitizer=a}transform(a){return a?.length>0?a.replace(/(?:\r\n|\r|\n)/g,"<br>"):a}};Ki.\u0275fac=function(e){return new(e||Ki)(h(Ko,16))},Ki.\u0275pipe=Yo({name:"prettyLine",type:Ki,pure:!0,standalone:!1});var mt=Ki;var Zi=class Zi{constructor(a,e,i,t,n,d,c,E){this.headerService=a;this.publicHelper=e;this.cdr=i;this.cmsToastrService=t;this.dialog=n;this.translate=d;this.cmsStoreService=c;this.tokenHelper=E;this.constructorInfoAreaId=this.constructor.name;this.optionId="";this.dataModelResult=new k;this.fieldsInfo=new Map;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr}ngOnInit(){this.optionId?.length>0&&this.DataGetOneContent(),this.unsubscribe.push(this.cmsStoreService.getState(a=>a.tokenInfoStore).subscribe(a=>z(this,null,function*(){this.DataGetOneContent()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(a=>a.unsubscribe())}DataGetOneContent(){let a=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(a,e,this.constructorInfoAreaId)}),this.headerService.setAccessLoad(),this.headerService.ServiceGetOneById(this.optionId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),e.isSuccess?this.dataModelResult=e:this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(a)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(a,!1)}})}};Zi.\u0275fac=function(e){return new(e||Zi)(h($e),h(H),h(Q),h(j),h(ne),h(q),h(Y),h(J))},Zi.\u0275cmp=N({type:Zi,selectors:[["app-sms-log-outbox-header"]],inputs:{optionId:"optionId"},standalone:!1,decls:113,vars:31,consts:[[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content"],[1,"table"],[1,"tr"],[1,"td","small-width"],[1,"svg-icon","svg-icon-3x","svg-icon-primary",3,"inlineSVG"],[1,"td","large-width",2,"color","darkblue"],[1,"td",2,"text-align","left"],[1,"td","large-width"],[1,"td"],[2,"clear","both"],[1,"td","large-width",3,"innerHTML"],[1,"divider","divider-margins"]],template:function(e,i){e&1&&(l(0,"div",0),S(1,"app-progress-spinner",1),l(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),S(6,"span",6),r(),l(7,"div",7)(8,"h5")(9,"b"),u(10),_(11,"translate"),r()()(),S(12,"div",8),r(),l(13,"div",4)(14,"div",9)(15,"b"),u(16),r(),u(17,": "),r(),l(18,"div",9),u(19),r(),S(20,"div",10)(21,"div",11),r(),l(22,"div",4)(23,"div",9)(24,"b"),u(25),r(),u(26,": "),r(),S(27,"div",12),_(28,"prettyLine"),S(29,"div",11),r(),l(30,"div",4)(31,"div",9)(32,"b"),u(33),r(),u(34,": "),r(),l(35,"div",9),u(36),r(),S(37,"div",10)(38,"div",11),r(),l(39,"div",4)(40,"div",9)(41,"b"),u(42),r(),u(43,": "),r(),l(44,"div",9),u(45),r(),S(46,"div",10)(47,"div",11),r(),l(48,"div",4)(49,"div",9)(50,"b"),u(51),r(),u(52,": "),r(),l(53,"div",9),u(54),_(55,"localeDateTime"),r(),S(56,"div",10)(57,"div",11),r(),l(58,"div",4)(59,"div",9)(60,"b"),u(61),r(),u(62,": "),r(),l(63,"div",9),u(64),r(),S(65,"div",10)(66,"div",11),r(),l(67,"div",4)(68,"div",9)(69,"b"),u(70),r(),u(71,": "),r(),l(72,"div",9),u(73),r(),S(74,"div",10)(75,"div",11),r(),l(76,"div",4)(77,"div",9)(78,"b"),u(79),r(),u(80,": "),r(),l(81,"div",9),u(82),r(),S(83,"div",10)(84,"div",11),r(),l(85,"div",4)(86,"div",9)(87,"b"),u(88),r(),u(89,": "),r(),l(90,"div",9),u(91),r(),S(92,"div",10)(93,"div",11),r(),l(94,"div",4)(95,"div",9)(96,"b"),u(97),r(),u(98,": "),r(),l(99,"div",9),u(100),r(),S(101,"div",10)(102,"div",11),r(),l(103,"div",4)(104,"div",9)(105,"b"),u(106),r(),u(107,": "),r(),l(108,"div",9),u(109),r(),S(110,"div",10)(111,"div",11),r()()()(),S(112,"div",13)),e&2&&(s(),b("optionsInfoAreaId",i.constructorInfoAreaId),s(5),b("inlineSVG","./assets/media/svg/icons/Communication/Flag.svg"),s(4),C(" ",g(11,25,"TITLE.Selected_Message")," "),s(6),C("",i.fieldsInfo.id==null?null:i.fieldsInfo.id.fieldTitle," "),s(3),A(i.dataModelResult==null||i.dataModelResult.item==null?null:i.dataModelResult.item.id),s(6),C("",i.fieldsInfo.message==null?null:i.fieldsInfo.message.fieldTitle," "),s(2),b("innerHTML",g(28,27,i.dataModelResult==null||i.dataModelResult.item==null?null:i.dataModelResult.item.message),It),s(6),C("",i.fieldsInfo.linkApiPathId==null?null:i.fieldsInfo.linkApiPathId.fieldTitle," "),s(3),C(" ",i.dataModelResult==null||i.dataModelResult.item==null?null:i.dataModelResult.item.linkApiPathId," "),s(6),C("",i.fieldsInfo.linkApiNumberId==null?null:i.fieldsInfo.linkApiNumberId.fieldTitle," "),s(3),C(" ",i.dataModelResult==null||i.dataModelResult.item==null?null:i.dataModelResult.item.linkApiNumberId," "),s(6),C("",i.fieldsInfo.sendDate==null?null:i.fieldsInfo.sendDate.fieldTitle," "),s(3),C(" ",g(55,29,i.dataModelResult==null||i.dataModelResult.item==null?null:i.dataModelResult.item.sendDate)," "),s(7),C("",i.fieldsInfo.countRow==null?null:i.fieldsInfo.countRow.fieldTitle," "),s(3),A(i.dataModelResult==null||i.dataModelResult.item==null?null:i.dataModelResult.item.countRow),s(6),C("",i.fieldsInfo.countSent==null?null:i.fieldsInfo.countSent.fieldTitle," "),s(3),A(i.dataModelResult==null||i.dataModelResult.item==null?null:i.dataModelResult.item.countSent),s(6),C("",i.fieldsInfo.countDelivery==null?null:i.fieldsInfo.countDelivery.fieldTitle," "),s(3),C(" ",i.dataModelResult==null||i.dataModelResult.item==null?null:i.dataModelResult.item.countDelivery," "),s(6),C("",i.fieldsInfo.countCreditBacked==null?null:i.fieldsInfo.countCreditBacked.fieldTitle," "),s(3),C(" ",i.dataModelResult==null||i.dataModelResult.item==null?null:i.dataModelResult.item.countCreditBacked," "),s(6),C("",i.fieldsInfo.sumCredit==null?null:i.fieldsInfo.sumCredit.fieldTitle," "),s(3),A(i.dataModelResult==null||i.dataModelResult.item==null?null:i.dataModelResult.item.sumCredit),s(6),C("",i.fieldsInfo.sumCreditBacked==null?null:i.fieldsInfo.sumCreditBacked.fieldTitle," "),s(3),C(" ",i.dataModelResult==null||i.dataModelResult.item==null?null:i.dataModelResult.item.sumCreditBacked," "))},dependencies:[Ee,Sn,W,He,mt],styles:[".table[_ngcontent-%COMP%]{display:table;border:1px solid #40a1f5;padding:2px;background:#fff;border-radius:5px}.table[_ngcontent-%COMP%]   .th[_ngcontent-%COMP%]{display:table-row;background-color:#40a1f577;color:#fff;font-weight:700}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f9f9f9}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]{display:table-row;border-bottom:1px solid #000}.table[_ngcontent-%COMP%]   .td[_ngcontent-%COMP%]{display:table-cell;padding:15px;border-bottom:1px solid #40a1f5;color:#3d7c7a}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:last-child   .td[_ngcontent-%COMP%]{border:0}.small-width[_ngcontent-%COMP%]{width:90px}.large-width[_ngcontent-%COMP%]{width:400px}.clear[_ngcontent-%COMP%]{clear:both}"]});var Do=Zi;var ll=()=>["expandedTitle"],cl=()=>["expandedDetail"],ml=()=>[5,10,20,100],dl=o=>({display:o});function ul(o,a){if(o&1&&S(0,"app-sms-log-outbox-header",2),o&2){let e=m();b("optionId",e.requestLinkOutBoxId)}}function pl(o,a){if(o&1){let e=T();l(0,"div",19)(1,"a",44),v("click",function(){p(e);let t=m();return f(t.onActionButtonViewRow(t.tableRowSelected))}),S(2,"i",45)(3,"br"),r(),l(4,"p",46),u(5),_(6,"translate"),r()()}o&2&&(s(5),C(" ",g(6,1,"ACTION.VIEW")," "))}function fl(o,a){if(o&1){let e=T();l(0,"div",19)(1,"a",47),v("click",function(){p(e);let t=m();return f(t.onActionButtonDeleteRow(t.tableRowSelected))}),S(2,"i",48)(3,"br"),r(),l(4,"p",46),u(5),_(6,"translate"),r()()}o&2&&(s(5),C(" ",g(6,1,"ACTION.DELETE")," "))}function Sl(o,a){o&1&&(l(0,"mat-header-cell"),u(1),_(2,"translate"),r()),o&2&&(s(),C(" ",g(2,1,"TITLE.MENU")," "))}function hl(o,a){if(o&1){let e=T();l(0,"mat-cell")(1,"button",49),v("click",function(){let t=p(e).$implicit,n=m();return f(n.onActionTableRowSelectActionMenu(t))}),S(2,"i",50),r()()}}function _l(o,a){if(o&1&&(l(0,"mat-header-cell",51),u(1),r()),o&2){let e=m();s(),C(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function gl(o,a){if(o&1&&(l(0,"mat-cell"),u(1),r()),o&2){let e=a.$implicit;s(),C(" ",e.id," ")}}function Cl(o,a){if(o&1&&(l(0,"mat-header-cell",51),u(1),r()),o&2){let e=m();s(),C(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function bl(o,a){if(o&1&&(l(0,"mat-cell"),u(1),_(2,"localeDateTime"),r()),o&2){let e=a.$implicit;s(),C(" ",g(2,1,e.createdDate)," ")}}function vl(o,a){if(o&1&&(l(0,"mat-header-cell",51),u(1),r()),o&2){let e=m();s(),C(" ",e.fieldsInfo.senderNumber==null?null:e.fieldsInfo.senderNumber.fieldTitle," ")}}function Ml(o,a){if(o&1&&(l(0,"mat-cell",52),u(1),r()),o&2){let e=a.$implicit;s(),C(" ",e.senderNumber," ")}}function wl(o,a){if(o&1&&(l(0,"mat-header-cell",51),u(1),r()),o&2){let e=m();s(),C(" ",e.fieldsInfo.receiverNumber==null?null:e.fieldsInfo.receiverNumber.fieldTitle," ")}}function xl(o,a){if(o&1&&(l(0,"mat-cell",52)(1,"span",53),u(2),r()()),o&2){let e=a.$implicit;s(),b("contactContentByNumberTooltip",e.receiverNumber)("tooltipPosition","above"),s(),C(" ",e.receiverNumber," ")}}function Il(o,a){if(o&1&&(l(0,"mat-header-cell",51),u(1),r()),o&2){let e=m();s(),C(" ",e.fieldsInfo.isSent==null?null:e.fieldsInfo.isSent.fieldTitle," ")}}function Tl(o,a){if(o&1&&(l(0,"mat-cell"),S(1,"i",54),_(2,"boolclass"),r()),o&2){let e=a.$implicit;s(),b("ngClass",g(2,1,e.isSent))}}function El(o,a){if(o&1&&(l(0,"mat-header-cell",51),u(1),r()),o&2){let e=m();s(),C(" ",e.fieldsInfo.recordDetailStatus==null?null:e.fieldsInfo.recordDetailStatus.fieldTitle," ")}}function Rl(o,a){if(o&1&&(l(0,"mat-cell"),u(1),r()),o&2){let e=a.$implicit;s(),C(" ",e.recordDetailStatusTitle)}}function Ll(o,a){if(o&1&&(l(0,"mat-header-cell",51),u(1),r()),o&2){let e=m();s(),C(" ",e.fieldsInfo.getApiDeliveryStatus==null?null:e.fieldsInfo.getApiDeliveryStatus.fieldTitle," ")}}function Al(o,a){if(o&1&&(l(0,"mat-cell"),u(1),r()),o&2){let e=a.$implicit;s(),C(" ",e.getApiDeliveryStatusTitle)}}function yl(o,a){if(o&1&&(l(0,"mat-cell"),u(1),r()),o&2){let e=a.$implicit;s(),C(" ",e.title," ")}}function Dl(o,a){if(o&1&&(l(0,"tr"),S(1,"td"),l(2,"td"),u(3),r()()),o&2){let e=m().$implicit,i=m();s(3),R(" ",i.fieldsInfo.slaLinkId==null?null:i.fieldsInfo.slaLinkId.fieldTitle," : ",e.slaLinkId," ")}}function Bl(o,a){if(o&1&&(l(0,"tr"),S(1,"td"),l(2,"td"),u(3),r()()),o&2){let e=m().$implicit,i=m();s(3),R(" ",i.fieldsInfo.slaChanceCount==null?null:i.fieldsInfo.slaChanceCount.fieldTitle," : ",e.slaChanceCount," ")}}function kl(o,a){if(o&1&&(l(0,"mat-cell")(1,"div")(2,"table")(3,"tr"),S(4,"th"),l(5,"th"),u(6),r()(),l(7,"tr"),S(8,"td"),l(9,"td"),u(10),_(11,"number"),r()(),l(12,"tr"),S(13,"td"),l(14,"td"),u(15),_(16,"number"),r()(),M(17,Dl,4,2,"tr"),M(18,Bl,4,2,"tr"),r()(),S(19,"div",55),_(20,"prettyLine"),r()),o&2){let e=a.$implicit,i=m();s(6),R("",i.fieldsInfo.id==null?null:i.fieldsInfo.id.fieldTitle," : ",e.id),s(4),R(" ",i.fieldsInfo.credit==null?null:i.fieldsInfo.credit.fieldTitle," : ",g(11,9,e.credit)," "),s(5),R(" ",i.fieldsInfo.giveBackCredit==null?null:i.fieldsInfo.giveBackCredit.fieldTitle," : ",g(16,11,e.giveBackCredit)," "),s(2),w(e.slaLink?17:-1),s(),w(e.slaChanceCount?18:-1),s(),b("innerHTML",g(20,13,e.message),It)}}function Ol(o,a){o&1&&S(0,"mat-header-row")}function Pl(o,a){if(o&1){let e=T();l(0,"mat-row",56),v("click",function(t){let n=p(e).$implicit,d=m();return f(d.onActionTableRowSelect(n,t))})("rtclick",function(t){let n=p(e).$implicit,d=m();return f(d.onActionTableRowSelect(n,t))})("mouseenter",function(){let t=p(e).$implicit,n=m();return f(n.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=p(e).$implicit,n=m();return f(n.onActionTableRowMouseLeave(t))}),r()}if(o&2){let e=a.$implicit,i=m();F("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}function Vl(o,a){if(o&1){let e=T();l(0,"mat-row",57),v("click",function(t){let n=p(e).$implicit,d=m();return f(d.onActionTableRowSelect(n,t))})("rtclick",function(t){let n=p(e).$implicit,d=m();return f(d.onActionTableRowSelect(n,t))})("mouseenter",function(){let t=p(e).$implicit,n=m();return f(n.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=p(e).$implicit,n=m();return f(n.onActionTableRowMouseLeave(t))}),r()}if(o&2){let e=a.$implicit,i=m();F("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}function Nl(o,a){if(o&1){let e=T();l(0,"mat-row",58),v("click",function(t){let n=p(e).$implicit,d=m();return f(d.onActionTableRowSelect(n,t))})("rtclick",function(t){let n=p(e).$implicit,d=m();return f(d.onActionTableRowSelect(n,t))})("mouseenter",function(){let t=p(e).$implicit,n=m();return f(n.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=p(e).$implicit,n=m();return f(n.onActionTableRowMouseLeave(t))}),r()}if(o&2){let e=a.$implicit,i=m();F("ntk-row-expanded",e.expanded===!0)("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)),b("ngStyle",kt(5,dl,e.expanded===!0?"":"none"))}}var eo=class eo extends ue{constructor(e,i,t,n,d,c,E,$,ie,We,dt,he,ut){super(e,new Gt,he,E,We);this.contentService=e;this.activatedRoute=i;this.cmsToastrService=t;this.cmsConfirmationDialogService=n;this.smsMainApiPathService=d;this.router=c;this.tokenHelper=E;this.cdr=$;this.cmsStoreService=ie;this.translate=We;this.pageInfo=dt;this.publicHelper=he;this.dialog=ut;this.requestLinkOutBoxId="";this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new G;this.filterDataModelQueryBuilder=[];this.dataModelCoreCurrencyResult=new k;this.dataModelPrivateResult=new k;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["id","createdDate","SenderNumber","ReceiverNumber","IsSent","recordDetailStatus","getApiDeliveryStatus","action_menu"];this.tabledisplayedColumnsMobileSource=["id","createdDate","SenderNumber","ReceiverNumber","IsSent","recordDetailStatus","getApiDeliveryStatus","action_menu"];this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.requestLinkOutBoxId=this.activatedRoute.snapshot.paramMap.get("LinkOutBoxId"),this.optionsSearch.parentMethods={onSubmit:ni=>this.onSubmitOptionsSearch(ni)},this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=O.Descending;let Z=new P;this.requestLinkOutBoxId&&this.requestLinkOutBoxId.length>0&&(Z.propertyName="LinkOutBoxId",Z.value=this.requestLinkOutBoxId,this.filteModelContent.filters.push(Z))}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>z(this,null,function*(){this.tokenInfo=e,this.DataGetAll()}))),this.getPrivateConfig()}getPrivateConfig(){let e=new G;e.rowPerPage=100,this.smsMainApiPathService.ServiceGetAll(e).subscribe({next:i=>{this.dataModelPrivateResult=i}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Gt);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),t.isSuccess?(this.applyDataGetAllResult(t),this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=O.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=O.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=O.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize}onActionButtonDeleteRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(n=>{this.cmsToastrService.typeErrorSelected(n)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(n=>{i=n["MESSAGE.Please_Confirm"],t=n["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(n=>{if(n){let d=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(d,c,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(d)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(d,!1)}})}}).catch(()=>{})}onActionSelectorSelect(e){var i=this.filteModelContent.sortColumn,t=this.filteModelContent.sortType;this.filteModelContent=new G,this.filteModelContent.sortColumn=i,this.filteModelContent.sortType=t,this.categoryModelSelected=e,this.DataGetAll()}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{i.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{i.set(c,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(E=>{i.set(E,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}});let n=JSON.parse(JSON.stringify(this.filteModelContent)),d=new P;d.propertyName="recordStatus",d.value=le.Available,n.filters.push(d),this.contentService.ServiceGetCount(n).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(E=>{i.set(E,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonViewRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Ti,{height:"90%",panelClass:i,enterAnimationDuration:V.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:V.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(n=>{n&&n.dialogChangedDate})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/sms/log/outbox"])}onActionButtonNewRow(e){this.cmsToastrService.typeErrorAccessAdd()}onActionButtonEditRow(e){this.cmsToastrService.typeErrorAccessEdit()}};eo.\u0275fac=function(i){return new(i||eo)(h(Ft),h(re),h(j),h(se),h(oe),h(ae),h(J),h(Q),h(Y),h(q),h(de),h(H),h(ne))},eo.\u0275cmp=N({type:eo,selectors:[["app-sms-log-outboxdetail-list"]],standalone:!1,features:[U],decls:67,vars:35,consts:[["tableSort","matSort"],["paginator",""],[3,"optionId"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionActionRowDisplayMenuAct","optionSelectRowItemTitle"],["cms-tree",""],[3,"optionChange"],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],[1,"col-4"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","","multiTemplateDataRows","",3,"matSortChange","dataSource"],["matColumnDef","action_menu"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","createdDate"],["matColumnDef","SenderNumber"],["class","input-ltr-center",4,"matCellDef"],["matColumnDef","ReceiverNumber"],["matColumnDef","IsSent"],["matColumnDef","recordDetailStatus"],["matColumnDef","getApiDeliveryStatus"],["matColumnDef","expandedTitle"],["matColumnDef","expandedDetail"],[4,"matHeaderRowDef"],["class","ntk-row-expandedTitle",3,"ntk-row-selected","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["class","ntk-row-expandedDetail",3,"ntk-row-expanded","ntk-row-selected","ngStyle","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"click"],[1,"fa","fa-bars","font-18"],["mat-sort-header",""],[1,"input-ltr-center"],[3,"contactContentByNumberTooltip","tooltipPosition"],[3,"ngClass"],[1,"col-sm-12","col-md-6",3,"innerHTML"],[1,"ntk-row-expandedTitle",3,"click","rtclick","mouseenter","mouseleave"],[1,"ntk-row-mainfild",3,"click","rtclick","mouseenter","mouseleave"],[1,"ntk-row-expandedDetail",3,"click","rtclick","mouseenter","mouseleave","ngStyle"]],template:function(i,t){if(i&1){let n=T();M(0,ul,1,1,"app-sms-log-outbox-header",2),l(1,"app-cms-html-list",3),B("optionActionGuideNoticeDisplayChange",function(c){return p(n),D(t.viewGuideNotice,c)||(t.viewGuideNotice=c),f(c)}),v("optionOnActionButtonMemoRow",function(){return p(n),f(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return p(n),f(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return p(n),f(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return p(n),f(t.onActionButtonPrintRow())}),x(2,4),l(3,"app-sms-apipath-tree",5),v("optionChange",function(c){return p(n),f(t.onActionSelectorSelect(c))}),r(),I(),ee(4,6)(5,7),x(6,8),l(7,"a",9),v("click",function(){return p(n),f(t.onActionBackToParent())}),S(8,"i",10),r(),l(9,"a",11),v("click",function(){return p(n),f(t.viewGuideNotice=!t.viewGuideNotice)}),S(10,"i",12),r(),l(11,"a",11),v("click",function(){return p(n),f(t.onActionButtonReload())}),S(12,"i",13),r(),I(),x(13,14),l(14,"a",15),v("click",function(){return p(n),f(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),S(15,"mat-slide-toggle",16),u(16),_(17,"translate"),r(),l(18,"a",15),v("click",function(){return p(n),f(t.onActionButtonStatist())}),S(19,"mat-slide-toggle",16),u(20),_(21,"translate"),r(),I(),ee(22,17),x(23,18),M(24,pl,7,3,"div",19),M(25,fl,7,3,"div",19),I(),x(26,20),l(27,"app-cms-search-list",21),B("optionsChange",function(c){return p(n),D(t.optionsSearch,c)||(t.optionsSearch=c),f(c)}),r(),l(28,"app-cms-statist-list",21),B("optionsChange",function(c){return p(n),D(t.optionsStatist,c)||(t.optionsStatist=c),f(c)}),r(),I(),x(29,22),l(30,"mat-table",23,0),v("matSortChange",function(){p(n);let c=X(31);return f(t.onTableSortData(c))}),x(32,24),L(33,Sl,3,3,"mat-header-cell",25)(34,hl,3,0,"mat-cell",26),I(),x(35,27),L(36,_l,2,1,"mat-header-cell",28)(37,gl,2,1,"mat-cell",26),I(),x(38,29),L(39,Cl,2,1,"mat-header-cell",28)(40,bl,3,3,"mat-cell",26),I(),x(41,30),L(42,vl,2,1,"mat-header-cell",28)(43,Ml,2,1,"mat-cell",31),I(),x(44,32),L(45,wl,2,1,"mat-header-cell",28)(46,xl,3,3,"mat-cell",31),I(),x(47,33),L(48,Il,2,1,"mat-header-cell",28)(49,Tl,3,3,"mat-cell",26),I(),x(50,34),L(51,El,2,1,"mat-header-cell",28)(52,Rl,2,1,"mat-cell",26),I(),x(53,35),L(54,Ll,2,1,"mat-header-cell",28)(55,Al,2,1,"mat-cell",26),I(),x(56,36),L(57,yl,2,1,"mat-cell",26),I(),x(58,37),L(59,kl,21,15,"mat-cell",26),I(),L(60,Ol,1,0,"mat-header-row",38)(61,Pl,1,2,"mat-row",39)(62,Vl,1,2,"mat-row",40)(63,Nl,1,7,"mat-row",41),r(),I(),x(64,42),l(65,"mat-paginator",43,1),v("page",function(c){return p(n),f(t.onTablePageingData(c))}),r(),I(),r()}i&2&&(w((t.requestLinkOutBoxId==null?null:t.requestLinkOutBoxId.length)>0?0:-1),s(),b("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),y("optionActionGuideNoticeDisplay",t.viewGuideNotice),b("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionActionRowDisplayMenuAct",t.tableRowSelectActionMenuClick)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),s(11),F("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),s(3),b("checked",t.optionsSearch.data.show),s(),C("",g(17,28,"ACTION.SEARCH")," "),s(3),b("checked",t.optionsStatist.data.show),s(),C("",g(21,30,"ACTION.STATIST")," "),s(4),w(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessWatchRow&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0?24:-1),s(),w(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0?25:-1),s(2),y("options",t.optionsSearch),s(),y("options",t.optionsStatist),s(2),b("dataSource",t.tableSource),s(30),b("matHeaderRowDef",t.tabledisplayedColumns),s(),b("matRowDefColumns",K(32,ll)),s(),b("matRowDefColumns",t.tabledisplayedColumns),s(),b("matRowDefColumns",K(33,cl)),s(2),b("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",K(34,ml)))},dependencies:[Ce,Vt,Xe,ce,me,Ye,Je,Ue,Ze,ot,et,Ke,nt,tt,it,st,rt,pe,fe,at,Ji,Se,Qe,Do,pi,W,He,mt,Io],encapsulation:2});var Bo=eo;var Gl="https://i.pinimg.com/originals/7b/dd/1b/7bdd1bc7db7fd48025d4e39a0e2f0fd8.jpg",Hl="https://www.seekpng.com/png/detail/334-3345964_error-icon-download-attention-symbol.png",Fl="https://replit.com/public/images/loading_dots.gif",to=class to{constructor(a,e,i,t,n,d){this.elRef=a;this.renderer=e;this.publicHelper=i;this.cmsToastrService=t;this.cdr=n;this.document=d;this.DataEnumRecordAdminStatus()}DataEnumRecordAdminStatus(){return z(this,null,function*(){(yield this.publicHelper.getEnumRecordAdminStatus()).listItems.forEach(e=>{let i=document.createElement("option");i.innerHTML=" "+e.title+' <i Class="'+this.iconAdminStatus(e.value)+'"></i>',i.value=e.value.toString(),this.elRef.nativeElement.add(i)}),this.elRef.nativeElement.options.length>0&&this.row&&this.row.adminRecordStatus&&this.renderer.setProperty(this.elRef.nativeElement,"value",this.row.adminRecordStatus)})}onChange(){let a=this.elRef.nativeElement,e=a.value;this.addLoader(a),this.contentService.setAccessDataType(Tt.Editor),this.contentService.ServiceSetAdminStatus(this.row.id,e).subscribe({next:i=>{i.isSuccess?(this.handleSuccessCase(a),this.cmsToastrService.typeSuccessSetStatus(i.errorMessage),this.row.adminRecordStatus=e|0,this.cdr.markForCheck()):(this.renderer.setProperty(this.elRef.nativeElement,"value",this.row.adminRecordStatus),this.cmsToastrService.typeErrorSetStatus(i.errorMessage),this.handleErrorCase(a))},error:i=>{this.renderer.setProperty(this.elRef.nativeElement,"value",this.row.adminRecordStatus),this.cmsToastrService.typeError(i),this.handleErrorCase(a)}})}handleSuccessCase(a){this.removeBackground(a),this.addSuccess(a),setTimeout(()=>{this.removeBackground(a)},1e3)}handleErrorCase(a){this.removeBackground(a);let e=this.document.createElement("img");e.style.width="20px",e.src=Hl;let i=this.renderer.parentNode(this.elRef.nativeElement);this.renderer.appendChild(i,e),setTimeout(()=>{this.renderer.removeChild(i,e)},1e3)}addLoader(a){this.addBackground(a,Fl,20)}addSuccess(a){this.addBackground(a,Gl,20)}addBackground(a,e,i){a.style.background=`#fff url("${e}") no-repeat right 20px center`,a.style.backgroundSize=`${i}px`}removeBackground(a){a.style.background="none"}iconAdminStatus(a){let e="";switch(a){case so.Pending:e="fa fa-hourglass-half";break;case so.Accept:e="fa fa-check";break;case so.Denied:e="fa fa-eye-slash";break;case so.NeedToCheck:e="fa fa-times";break;default:e="fa fa-hourglass-half"}return e}};to.\u0275fac=function(e){return new(e||to)(h(Co),h(bo),h(H),h(j),h(Q),h(zo))},to.\u0275dir=Mo({type:to,selectors:[["","cmsRecordAdminStatusSelfSave",""]],hostBindings:function(e,i){e&1&&v("change",function(){return i.onChange()})},inputs:{row:"row",contentService:"contentService"},standalone:!1});var ko=to;var ql=()=>["expandedTitle"],$l=()=>[5,10,20,100],Tn=o=>({display:o});function zl(o,a){if(o&1){let e=T();l(0,"a",10),v("click",function(){p(e);let t=m();return f(t.onActionButtonBulkDelete())}),S(1,"i",48),u(2),_(3,"translate"),r()}if(o&2){let e=m();s(2),R(" ",g(3,2,"ACTION.DELETE_SELECTED")," (",e.getSelectedCount(),") ")}}function Xl(o,a){if(o&1){let e=T();l(0,"div",17)(1,"a",49),v("click",function(){p(e);let t=m();return f(t.onActionButtonBulkDelete())}),S(2,"i",50)(3,"br"),r(),l(4,"p",51),u(5),_(6,"translate"),r()()}if(o&2){let e=m();s(5),R(" ",g(6,2,"ACTION.DELETE_SELECTED")," (",e.getSelectedCount(),") ")}}function Yl(o,a){if(o&1){let e=T();l(0,"div",17)(1,"a",52),v("click",function(){p(e);let t=m();return f(t.onActionButtonEditRow(t.tableRowSelected))}),S(2,"i",53)(3,"br"),r(),l(4,"p",51),u(5),_(6,"translate"),r()()}o&2&&(s(5),C(" ",g(6,1,"ACTION.EDIT")," "))}function Jl(o,a){if(o&1){let e=T();l(0,"div",17)(1,"a",49),v("click",function(){p(e);let t=m();return f(t.onActionButtonDeleteRow(t.tableRowSelected))}),S(2,"i",54)(3,"br"),r(),l(4,"p",51),u(5),_(6,"translate"),r()()}o&2&&(s(5),C(" ",g(6,1,"ACTION.DELETE")," "))}function Ul(o,a){if(o&1){let e=T();l(0,"div",17)(1,"a",55),v("click",function(){p(e);let t=m();return f(t.onActionButtonViewRow(t.tableRowSelected))}),S(2,"i",56)(3,"br"),r(),l(4,"p",51),u(5),_(6,"translate"),r()()}o&2&&(s(5),C(" ",g(6,1,"ACTION.VIEW")," "))}function Kl(o,a){if(o&1&&(l(0,"mat-header-cell",57),u(1),r()),o&2){let e=m();s(),C(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function Zl(o,a){if(o&1&&(l(0,"mat-cell"),u(1),r()),o&2){let e=a.$implicit;s(),C(" ",e.id," ")}}function ec(o,a){if(o&1&&(l(0,"mat-header-cell",57),u(1),r()),o&2){let e=m();s(),C(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function tc(o,a){if(o&1&&S(0,"select",59),o&2){let e=m(2).$implicit,i=m();b("contentService",i.contentService)("row",e)("ngStyle",kt(3,Tn,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function ic(o,a){if(o&1&&M(0,tc,1,5,"select",59),o&2){let e=m(2);w(!(e.dataModelResult==null||e.dataModelResult.access==null)&&e.dataModelResult.access.accessEditRow?0:-1)}}function oc(o,a){if(o&1&&(l(0,"mat-cell",58),_(1,"statusCellClass"),S(2,"i",58),_(3,"statusIconClass"),M(4,ic,1,1),r()),o&2){let e=a.$implicit,i=m();b("ngClass",g(1,3,e.recordStatus)),s(2),b("ngClass",g(3,5,e.recordStatus)),s(2),w(i.fieldsInfo.recordStatus!=null&&i.fieldsInfo.recordStatus.accessEditField&&!e.queueCompleted&&!e.queueLockedRun?4:-1)}}function nc(o,a){if(o&1&&(l(0,"mat-header-cell",57),u(1),r()),o&2){let e=m();s(),C(" ",e.fieldsInfo.adminRecordStatus==null?null:e.fieldsInfo.adminRecordStatus.fieldTitle," ")}}function sc(o,a){if(o&1&&S(0,"select",60),o&2){let e=m().$implicit,i=m();b("contentService",i.contentService)("row",e)("ngStyle",kt(3,Tn,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function rc(o,a){if(o&1&&(l(0,"mat-cell"),S(1,"i",58),_(2,"adminStatusIconClass"),M(3,sc,1,5,"select",60),r()),o&2){let e=a.$implicit,i=m();s(),b("ngClass",g(2,2,e.adminRecordStatus)),s(2),w(i.fieldsInfo.adminRecordStatus!=null&&i.fieldsInfo.adminRecordStatus.accessEditField&&!e.queueCompleted&&!e.queueLockedRun?3:-1)}}function ac(o,a){if(o&1&&(l(0,"mat-header-cell",57),u(1),r()),o&2){let e=m();s(),C(" ",e.fieldsInfo.createdBy==null?null:e.fieldsInfo.createdBy.fieldTitle," ")}}function lc(o,a){if(o&1&&(l(0,"mat-cell"),u(1),_(2,"cmsuserinfo"),_(3,"async"),r()),o&2){let e=a.$implicit;s(),C(" ",g(3,3,g(2,1,e.createdBy))," ")}}function cc(o,a){if(o&1&&(l(0,"mat-header-cell",57),u(1),r()),o&2){let e=m();s(),C(" ",e.fieldsInfo.scheduleSendStart==null?null:e.fieldsInfo.scheduleSendStart.fieldTitle," ")}}function mc(o,a){if(o&1&&(l(0,"mat-cell",61),u(1),_(2,"localeDateTime"),r()),o&2){let e=a.$implicit;s(),C(" ",g(2,1,e.scheduleSendStart))}}function dc(o,a){if(o&1&&(l(0,"mat-header-cell",57),u(1),r()),o&2){let e=m();s(),C(" ",e.fieldsInfo.scheduleSendExpire==null?null:e.fieldsInfo.scheduleSendExpire.fieldTitle," ")}}function uc(o,a){if(o&1&&(l(0,"mat-cell",61),u(1),_(2,"localeDateTime"),r()),o&2){let e=a.$implicit;s(),C(" ",g(2,1,e.scheduleSendExpire))}}function pc(o,a){if(o&1&&(l(0,"mat-header-cell",57),u(1),r()),o&2){let e=m();s(),C(" ",e.fieldsInfo.queueAllowNextRun==null?null:e.fieldsInfo.queueAllowNextRun.fieldTitle," ")}}function fc(o,a){if(o&1&&(l(0,"mat-cell",61),u(1),_(2,"localeDateTime"),r()),o&2){let e=a.$implicit;s(),C(" ",g(2,1,e.queueAllowNextRun))}}function Sc(o,a){if(o&1&&(l(0,"mat-header-cell",57),u(1),r()),o&2){let e=m();s(),C(" ",e.fieldsInfo.queueCompleted==null?null:e.fieldsInfo.queueCompleted.fieldTitle," ")}}function hc(o,a){if(o&1&&(l(0,"mat-cell"),S(1,"i",58),_(2,"boolclass"),r()),o&2){let e=a.$implicit;s(),b("ngClass",g(2,1,e.queueCompleted))}}function _c(o,a){if(o&1&&(l(0,"mat-header-cell",57),u(1),r()),o&2){let e=m();s(),C(" ",e.fieldsInfo.queueCompleteDate==null?null:e.fieldsInfo.queueCompleteDate.fieldTitle," ")}}function gc(o,a){if(o&1&&(l(0,"mat-cell",61),u(1),_(2,"localeDateTime"),r()),o&2){let e=a.$implicit;s(),C(" ",g(2,1,e.queueCompleteDate))}}function Cc(o,a){if(o&1&&(l(0,"mat-header-cell",57),u(1),r()),o&2){let e=m();s(),C(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function bc(o,a){if(o&1&&(l(0,"mat-cell",61),u(1),_(2,"localeDateTime"),r()),o&2){let e=a.$implicit;s(),C(" ",g(2,1,e.createdDate))}}function vc(o,a){if(o&1&&(l(0,"mat-header-cell",57),u(1),r()),o&2){let e=m();s(),C(" ",e.fieldsInfo.updatedDate==null?null:e.fieldsInfo.updatedDate.fieldTitle," ")}}function Mc(o,a){if(o&1&&(l(0,"mat-cell",61),u(1),_(2,"localeDateTime"),r()),o&2){let e=a.$implicit,i=m();s(),R(" ",g(2,2,e.updatedDate)," ",i.publicHelper.getTime(e.updatedDate)," ")}}function wc(o,a){o&1&&(l(0,"mat-header-cell"),u(1),_(2,"translate"),r()),o&2&&(s(),C(" ",g(2,1,"TITLE.OPTION")," "))}function xc(o,a){if(o&1&&(l(0,"mat-cell",62)(1,"button",63)(2,"mat-icon"),u(3,"more_vert"),r()(),S(4,"mat-menu",null,2),r()),o&2){let e=X(5);s(),b("matMenuTriggerFor",e)}}function Ic(o,a){if(o&1){let e=T();l(0,"mat-header-cell")(1,"mat-checkbox",64),_(2,"translate"),v("change",function(t){p(e);let n=m();return f(n.onSelectAllChange(t))}),r()()}if(o&2){let e=m();s(),b("checked",e.isAllSelected)("indeterminate",e.selectedRowsForBulkDelete.size>0&&e.selectedRowsForBulkDelete.size<e.tableSource.data.length),Le("aria-label",g(2,3,"ACTION.SELECT"))}}function Tc(o,a){if(o&1){let e=T();l(0,"mat-cell")(1,"mat-checkbox",65),_(2,"translate"),v("change",function(t){let n=p(e).$implicit,d=m();return f(d.onCheckboxChange(n,t))})("click",function(t){return p(e),f(t.stopPropagation())}),r()()}if(o&2){let e=a.$implicit,i=m();s(),b("checked",i.isRowSelected(e.id)),Le("aria-label",g(2,2,"ACTION.SELECT"))}}function Ec(o,a){if(o&1&&(u(0),_(1,"cmsuserinfo"),_(2,"async"),S(3,"br")),o&2){let e=m().$implicit,i=m();R(" ",i.fieldsInfo.updatedBy==null?null:i.fieldsInfo.updatedBy.fieldTitle," : ",g(2,4,g(1,2,e.updatedBy))," ")}}function Rc(o,a){if(o&1&&(u(0),_(1,"translate"),_(2,"translate"),S(3,"br")),o&2){let e=m().$implicit,i=m();R(" ",i.fieldsInfo.statusTextFiltering==null?null:i.fieldsInfo.statusTextFiltering.fieldTitle," : ",e.statusTextFiltering?g(1,2,"MESSAGE.Yes"):g(2,4,"MESSAGE.No")," ")}}function Lc(o,a){if(o&1&&(u(0),_(1,"translate"),_(2,"translate"),S(3,"br")),o&2){let e=m().$implicit,i=m();R(" ",i.fieldsInfo.statusNumberFiltering==null?null:i.fieldsInfo.statusNumberFiltering.fieldTitle," : ",e.statusNumberFiltering?g(1,2,"MESSAGE.Yes"):g(2,4,"MESSAGE.No")," ")}}function Ac(o,a){if(o&1&&(u(0),S(1,"br")),o&2){let e=m().$implicit,i=m();R(" ",i.fieldsInfo.textFilteringChar==null?null:i.fieldsInfo.textFilteringChar.fieldTitle," : ",e.textFilteringChar," ")}}function yc(o,a){if(o&1&&(u(0),S(1,"br")),o&2){let e=m().$implicit,i=m();R(" ",i.fieldsInfo.queueLockerId==null?null:i.fieldsInfo.queueLockerId.fieldTitle," : ",e.queueLockerId," ")}}function Dc(o,a){if(o&1&&(u(0),S(1,"br")),o&2){let e=m().$implicit,i=m();R(" ",i.fieldsInfo.queueLockerMicroservice==null?null:i.fieldsInfo.queueLockerMicroservice.fieldTitle," : ",e.queueLockerMicroservice," ")}}function Bc(o,a){if(o&1&&(u(0),S(1,"br")),o&2){let e=m().$implicit,i=m();R(" ",i.fieldsInfo.queueAllowNextRun==null?null:i.fieldsInfo.queueAllowNextRun.fieldTitle," : ",e.queueAllowNextRun," ")}}function kc(o,a){if(o&1&&(u(0),_(1,"translate"),_(2,"translate"),S(3,"br")),o&2){let e=m().$implicit,i=m();R(" ",i.fieldsInfo.isFlash==null?null:i.fieldsInfo.isFlash.fieldTitle," : ",e.isFlash?g(1,2,"MESSAGE.Yes"):g(2,4,"MESSAGE.No")," ")}}function Oc(o,a){if(o&1&&(u(0),S(1,"br")),o&2){let e=m().$implicit,i=m();R(" ",i.fieldsInfo.linkApiPathId==null?null:i.fieldsInfo.linkApiPathId.fieldTitle," : ",e.linkApiPathId," ")}}function Pc(o,a){if(o&1&&(u(0),S(1,"br")),o&2){let e=m().$implicit,i=m();R(" ",i.fieldsInfo.linkFromNumber==null?null:i.fieldsInfo.linkFromNumber.fieldTitle," : ",e.linkFromNumber," ")}}function Vc(o,a){if(o&1&&(u(0),_(1,"localeDateTime"),S(2,"br")),o&2){let e=m().$implicit,i=m();R(" ",i.fieldsInfo.scheduleSendStart==null?null:i.fieldsInfo.scheduleSendStart.fieldTitle," : ",g(1,2,e.scheduleSendStart)," ")}}function Nc(o,a){if(o&1&&(u(0),_(1,"localeDateTime"),S(2,"br")),o&2){let e=m().$implicit,i=m();R(" ",i.fieldsInfo.scheduleSendExpire==null?null:i.fieldsInfo.scheduleSendExpire.fieldTitle," : ",g(1,2,e.scheduleSendExpire)," ")}}function Gc(o,a){if(o&1&&(u(0),S(1,"br")),o&2){let e=m().$implicit,i=m();R(" ",i.fieldsInfo.toNumbers==null?null:i.fieldsInfo.toNumbers.fieldTitle," : ",e.toNumbers," ")}}function Hc(o,a){if(o&1&&(u(0),_(1,"translate"),_(2,"translate"),S(3,"br")),o&2){let e=m().$implicit,i=m();R(" ",i.fieldsInfo.statusNotStableApi==null?null:i.fieldsInfo.statusNotStableApi.fieldTitle," : ",e.statusNotStableApi?g(1,2,"MESSAGE.Yes"):g(2,4,"MESSAGE.No")," ")}}function Fc(o,a){if(o&1&&(u(0),_(1,"translate"),_(2,"translate"),S(3,"br")),o&2){let e=m().$implicit,i=m();R(" ",i.fieldsInfo.statusOutOfServiceApi==null?null:i.fieldsInfo.statusOutOfServiceApi.fieldTitle," : ",e.statusOutOfServiceApi?g(1,2,"MESSAGE.Yes"):g(2,4,"MESSAGE.No")," ")}}function Qc(o,a){if(o&1&&(u(0),S(1,"br")),o&2){let e=m().$implicit,i=m();R(" ",i.fieldsInfo.numberFilteringChar==null?null:i.fieldsInfo.numberFilteringChar.fieldTitle," : ",e.numberFilteringChar," ")}}function Wc(o,a){if(o&1&&(u(0),S(1,"br")),o&2){let e=m().$implicit,i=m();R(" ",i.fieldsInfo.queueCountRun==null?null:i.fieldsInfo.queueCountRun.fieldTitle," : ",e.queueCountRun," ")}}function jc(o,a){if(o&1&&(u(0),_(1,"localeDateTime"),S(2,"br")),o&2){let e=m().$implicit,i=m();R(" ",i.fieldsInfo.queueLockedRun==null?null:i.fieldsInfo.queueLockedRun.fieldTitle," : ",g(1,2,e.queueLockedRun)," ")}}function qc(o,a){if(o&1&&(u(0),_(1,"localeDateTime"),S(2,"br")),o&2){let e=m().$implicit,i=m();R(" ",i.fieldsInfo.queueLockerExpire==null?null:i.fieldsInfo.queueLockerExpire.fieldTitle," : ",g(1,2,e.queueLockerExpire)," ")}}function $c(o,a){if(o&1&&(u(0),_(1,"translate"),_(2,"translate"),S(3,"br")),o&2){let e=m().$implicit,i=m();R(" ",i.fieldsInfo.queueCompleted==null?null:i.fieldsInfo.queueCompleted.fieldTitle," : ",e.queueCompleted?g(1,2,"MESSAGE.Yes"):g(2,4,"MESSAGE.No")," ")}}function zc(o,a){if(o&1&&(u(0),_(1,"localeDateTime"),S(2,"br")),o&2){let e=m().$implicit,i=m();R(" ",i.fieldsInfo.queueCompleteDate==null?null:i.fieldsInfo.queueCompleteDate.fieldTitle," : ",g(1,2,e.queueCompleteDate)," ")}}function Xc(o,a){if(o&1&&(u(0),S(1,"br")),o&2){let e=m().$implicit,i=m();R(" ",i.fieldsInfo.queueLockerMicroservice==null?null:i.fieldsInfo.queueLockerMicroservice.fieldTitle," : ",e.queueLockerMicroservice," ")}}function Yc(o,a){if(o&1&&(l(0,"mat-cell")(1,"div"),S(2,"span",66),_(3,"prettyLine"),S(4,"hr"),M(5,Ec,4,6),M(6,Rc,4,6),M(7,Lc,4,6),M(8,Ac,2,2),M(9,yc,2,2),M(10,Dc,2,2),M(11,Bc,2,2),M(12,kc,4,6),M(13,Oc,2,2),M(14,Pc,2,2),M(15,Vc,3,4),M(16,Nc,3,4),M(17,Gc,2,2),M(18,Hc,4,6),M(19,Fc,4,6),M(20,Qc,2,2),M(21,Wc,2,2),M(22,jc,3,4),M(23,qc,3,4),M(24,$c,4,6),M(25,zc,3,4),M(26,Xc,2,2),r()()),o&2){let e=a.$implicit;s(2),b("innerHTML",g(3,23,e.message),It),s(3),w(e.updatedBy?5:-1),s(),w(e.statusTextFiltering?6:-1),s(),w(e.statusNumberFiltering?7:-1),s(),w(e.textFilteringChar?8:-1),s(),w(e.queueLockerId?9:-1),s(),w(e.queueLockerMicroservice?10:-1),s(),w(e.queueAllowNextRun?11:-1),s(),w(e.isFlash?12:-1),s(),w(e.linkApiPathId?13:-1),s(),w(e.linkFromNumber?14:-1),s(),w(e.scheduleSendStart?15:-1),s(),w(e.scheduleSendExpire?16:-1),s(),w(e.toNumbers?17:-1),s(),w(e.statusNotStableApi?18:-1),s(),w(e.statusOutOfServiceApi?19:-1),s(),w(e.numberFilteringChar?20:-1),s(),w(e.queueCountRun?21:-1),s(),w(e.queueLockedRun?22:-1),s(),w(e.queueLockerExpire?23:-1),s(),w(e.queueCompleted?24:-1),s(),w(e.queueCompleteDate?25:-1),s(),w(e.queueLockerMicroservice?26:-1)}}function Jc(o,a){o&1&&S(0,"mat-header-row")}function Uc(o,a){if(o&1){let e=T();l(0,"mat-row",67),v("click",function(t){let n=p(e).$implicit,d=m();return f(d.onActionTableRowSelect(n,t))})("rtclick",function(t){let n=p(e).$implicit,d=m();return f(d.onActionTableRowSelect(n,t))}),r()}if(o&2){let e=a.$implicit,i=m();F("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}function Kc(o,a){if(o&1){let e=T();l(0,"mat-row",68),v("click",function(t){let n=p(e).$implicit,d=m();return f(d.onActionTableRowSelect(n,t))})("rtclick",function(t){let n=p(e).$implicit,d=m();return f(d.onActionTableRowSelect(n,t))})("mouseenter",function(){let t=p(e).$implicit,n=m();return f(n.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=p(e).$implicit,n=m();return f(n.onActionTableRowMouseLeave(t))}),r()}if(o&2){let e=a.$implicit,i=m();F("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var io=class io extends ue{constructor(e,i,t,n,d,c,E,$,ie,We,dt,he,ut){super(e,new St,he,E,ie);this.contentService=e;this.smsMainApiPathService=i;this.activatedRoute=t;this.cmsToastrService=n;this.cmsConfirmationDialogService=d;this.router=c;this.tokenHelper=E;this.cdr=$;this.translate=ie;this.cmsStoreService=We;this.pageInfo=dt;this.publicHelper=he;this.dialog=ut;this.requestLinkApiPathId="";this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new G;this.filterDataModelQueryBuilder=[];this.dataModelCoreCurrencyResult=new k;this.dataModelPrivateResult=new k;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["id","recordStatus","adminRecordStatus","createdBy","scheduleSendStart","scheduleSendExpire","queueAllowNextRun","queueCompleted","queueCompleteDate","createdDate","updatedDate"];this.tabledisplayedColumnsMobileSource=["id","recordStatus","adminRecordStatus","createdBy","scheduleSendStart","scheduleSendExpire","queueAllowNextRun","queueCompleted","queueCompleteDate"];this.unsubscribe=[];this.selectedRowsForBulkDelete=new Set;this.isAllSelected=!1;this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:Z=>this.onSubmitOptionsSearch(Z)},this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=O.Descending}ngOnInit(){this.activatedRoute.snapshot.paramMap.get("LinkApiPathId")&&(this.requestLinkApiPathId=this.activatedRoute.snapshot.paramMap.get("LinkApiPathId"));let e=new P;this.requestLinkApiPathId?.length>0&&(e.propertyName="LinkApiPathId",e.value=this.requestLinkApiPathId,this.filteModelContent.filters.push(e)),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(i=>i.tokenInfoStore).subscribe(i=>z(this,null,function*(){this.tokenInfo=i,this.DataGetAll()}))),this.getPrivateConfig()}getPrivateConfig(){let e=new G;e.rowPerPage=100,this.smsMainApiPathService.ServiceGetAll(e).subscribe({next:i=>{this.dataModelPrivateResult=i}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tabledisplayedColumns.indexOf("select")===-1&&this.tabledisplayedColumns.push("select"),this.tableRowsSelected=[],this.selectedRowsForBulkDelete.clear(),this.isAllSelected=!1,this.onActionTableRowSelect(new St);let i=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(n=>{this.publicHelper.processService.processStart(i,n,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let t=JSON.parse(JSON.stringify(this.filteModelContent));if(this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(t.filters=[...this.filterDataModelQueryBuilder]),this.categoryModelSelected&&this.categoryModelSelected.id.length>0){let n=new P;n.propertyName="LinkPrivateConfigId",n.value=this.categoryModelSelected.id,t.filters.push(n)}this.contentService.ServiceGetAllEditor(t).subscribe({next:n=>{n.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(n.access),this.applyDataGetAllResult(n),this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(n.access)},1e3)):this.cmsToastrService.typeErrorMessage(n.errorMessage),this.publicHelper.processService.processStop(i)},error:n=>{this.cmsToastrService.typeError(n),this.publicHelper.processService.processStop(i,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=O.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=O.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=O.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonEditRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Li,{height:"90%",panelClass:i,enterAnimationDuration:V.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:V.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(n=>{n&&n.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(n=>{this.cmsToastrService.typeErrorSelected(n)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(n=>{i=n["MESSAGE.Please_Confirm"],t=n["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(n=>{if(n){let d=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(d,c,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(d)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(d,!1)}})}}).catch(()=>{})}onActionButtonViewRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(yi,{height:"90%",panelClass:i,enterAnimationDuration:V.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:V.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(n=>{n&&n.dialogChangedDate})}onActionSelectorSelect(e){var i=this.filteModelContent.sortColumn,t=this.filteModelContent.sortType;this.filteModelContent=new G,this.filteModelContent.sortColumn=i,this.filteModelContent.sortType=t,this.categoryModelSelected=e,this.DataGetAll()}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{i.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{i.set(c,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(E=>{i.set(E,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}});let n=JSON.parse(JSON.stringify(this.filteModelContent)),d=new P;d.propertyName="recordStatus",d.value=le.Available,n.filters.push(d),this.contentService.ServiceGetCount(n).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(E=>{i.set(E,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){}onActionButtonNewRow(e){this.cmsToastrService.typeErrorAccessAdd()}onCheckboxChange(e,i){i.checked?this.selectedRowsForBulkDelete.add(e.id):this.selectedRowsForBulkDelete.delete(e.id),this.updateSelectAllState()}isRowSelected(e){return this.selectedRowsForBulkDelete.has(e)}onSelectAllChange(e){this.isAllSelected=e.checked,this.isAllSelected?this.tableSource.data.forEach(i=>{i.id&&this.selectedRowsForBulkDelete.add(i.id)}):this.selectedRowsForBulkDelete.clear()}updateSelectAllState(){if(this.tableSource.data.length===0){this.isAllSelected=!1;return}let e=this.tableSource.data.every(i=>this.selectedRowsForBulkDelete.has(i.id));this.isAllSelected=e}getSelectedCount(){return this.selectedRowsForBulkDelete.size}onActionButtonBulkDelete(){if(this.selectedRowsForBulkDelete.size===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(n=>{this.cmsToastrService.typeErrorSelected(n)});return}if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var e="",i="";let t=this.selectedRowsForBulkDelete.size;this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(n=>{e=n["MESSAGE.Please_Confirm"],i=n["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+t+" \u0622\u06CC\u062A\u0645 \u0627\u0646\u062A\u062E\u0627\u0628 \u0634\u062F\u0647 ) "}),this.cmsConfirmationDialogService.confirm(e,i).then(n=>{if(n){let d=this.constructor.name+"BulkDelete";this.translate.get("MESSAGE.Receiving_information").subscribe(E=>{this.publicHelper.processService.processStart(d,E,this.constructorInfoAreaId)});let c=Array.from(this.selectedRowsForBulkDelete);this.contentService.ServiceDeleteList(c).subscribe({next:E=>{E.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.selectedRowsForBulkDelete.clear(),this.isAllSelected=!1,this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(d)},error:E=>{this.cmsToastrService.typeError(E),this.publicHelper.processService.processStop(d,!1)}})}}).catch(()=>{})}};io.\u0275fac=function(i){return new(i||io)(h(Lt),h(oe),h(re),h(j),h(se),h(ae),h(J),h(Q),h(q),h(Y),h(de),h(H),h(ne))},io.\u0275cmp=N({type:io,selectors:[["app-sms-log-outboxqueue-list"]],standalone:!1,features:[U],decls:79,vars:34,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],[3,"optionChange"],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","","multiTemplateDataRows","",3,"matSortChange","dataSource"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","recordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","adminRecordStatus"],["matColumnDef","createdBy"],["matColumnDef","scheduleSendStart"],["style","direction: ltr",4,"matCellDef"],["matColumnDef","scheduleSendExpire"],["matColumnDef","queueAllowNextRun"],["matColumnDef","queueCompleted"],["matColumnDef","queueCompleteDate"],["matColumnDef","createdDate"],["matColumnDef","updatedDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],["matColumnDef","select"],["matColumnDef","expandedTitle"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["class","ntk-row-expandedTitle",3,"ntk-row-selected","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],[1,"fa-solid","fa-trash-can","font-18",2,"color","#ff0000"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash-can","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","target","_blank","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],["matNativeControl","","cmsRecordAdminStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[2,"direction","ltr"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[3,"change","checked","indeterminate"],[3,"change","click","checked"],[3,"innerHTML"],[1,"ntk-row-mainfild",3,"click","rtclick"],[1,"ntk-row-expandedTitle",3,"click","rtclick","mouseenter","mouseleave"]],template:function(i,t){if(i&1){let n=T();l(0,"app-cms-html-list",3),B("optionActionGuideNoticeDisplayChange",function(c){return p(n),D(t.viewGuideNotice,c)||(t.viewGuideNotice=c),f(c)}),v("optionOnActionButtonMemoRow",function(){return p(n),f(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return p(n),f(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return p(n),f(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return p(n),f(t.onActionButtonPrintRow())}),x(1,4),l(2,"app-sms-apipath-tree",5),v("optionChange",function(c){return p(n),f(t.onActionSelectorSelect(c))}),r(),I(),ee(3,6)(4,7),x(5,8),M(6,zl,4,4,"a",9),l(7,"a",10),v("click",function(){return p(n),f(t.viewGuideNotice=!t.viewGuideNotice)}),S(8,"i",11),r(),l(9,"a",10),v("click",function(){return p(n),f(t.onActionButtonReload())}),S(10,"i",12),r(),I(),x(11,13),l(12,"a",14),v("click",function(){return p(n),f(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),S(13,"mat-slide-toggle",15),u(14),_(15,"translate"),r(),l(16,"a",14),v("click",function(){return p(n),f(t.onActionButtonStatist())}),S(17,"mat-slide-toggle",15),u(18),_(19,"translate"),r(),I(),x(20,16),M(21,Xl,7,4,"div",17),I(),x(22,18),M(23,Yl,7,3,"div",17),M(24,Jl,7,3,"div",17),M(25,Ul,7,3,"div",17),I(),x(26,19),l(27,"app-cms-search-list",20),B("optionsChange",function(c){return p(n),D(t.optionsSearch,c)||(t.optionsSearch=c),f(c)}),r(),l(28,"app-cms-statist-list",20),B("optionsChange",function(c){return p(n),D(t.optionsStatist,c)||(t.optionsStatist=c),f(c)}),r(),I(),x(29,21),l(30,"mat-table",22,0),v("matSortChange",function(){p(n);let c=X(31);return f(t.onTableSortData(c))}),x(32,23),L(33,Kl,2,1,"mat-header-cell",24)(34,Zl,2,1,"mat-cell",25),I(),x(35,26),L(36,ec,2,1,"mat-header-cell",24)(37,oc,5,7,"mat-cell",27),I(),x(38,28),L(39,nc,2,1,"mat-header-cell",24)(40,rc,4,4,"mat-cell",25),I(),x(41,29),L(42,ac,2,1,"mat-header-cell",24)(43,lc,4,5,"mat-cell",25),I(),x(44,30),L(45,cc,2,1,"mat-header-cell",24)(46,mc,3,3,"mat-cell",31),I(),x(47,32),L(48,dc,2,1,"mat-header-cell",24)(49,uc,3,3,"mat-cell",31),I(),x(50,33),L(51,pc,2,1,"mat-header-cell",24)(52,fc,3,3,"mat-cell",31),I(),x(53,34),L(54,Sc,2,1,"mat-header-cell",24)(55,hc,3,3,"mat-cell",25),I(),x(56,35),L(57,_c,2,1,"mat-header-cell",24)(58,gc,3,3,"mat-cell",31),I(),x(59,36),L(60,Cc,2,1,"mat-header-cell",24)(61,bc,3,3,"mat-cell",31),I(),x(62,37),L(63,vc,2,1,"mat-header-cell",24)(64,Mc,3,4,"mat-cell",31),I(),x(65,38),L(66,wc,3,3,"mat-header-cell",39)(67,xc,6,1,"mat-cell",40),I(),x(68,41),L(69,Ic,3,5,"mat-header-cell",39)(70,Tc,3,4,"mat-cell",25),I(),x(71,42),L(72,Yc,27,25,"mat-cell",25),I(),L(73,Jc,1,0,"mat-header-row",43)(74,Uc,1,2,"mat-row",44)(75,Kc,1,2,"mat-row",45),r(),I(),x(76,46),l(77,"mat-paginator",47,1),v("page",function(c){return p(n),f(t.onTablePageingData(c))}),r(),I(),r()}i&2&&(b("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),y("optionActionGuideNoticeDisplay",t.viewGuideNotice),b("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),s(6),w(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow&&t.selectedRowsForBulkDelete.size>0?6:-1),s(4),F("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),s(3),b("checked",t.optionsSearch.data.show),s(),C("",g(15,28,"ACTION.SEARCH")," "),s(3),b("checked",t.optionsStatist.data.show),s(),C("",g(19,30,"ACTION.STATIST")," "),s(3),w(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow&&t.selectedRowsForBulkDelete.size>0?21:-1),s(2),w(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?23:-1),s(),w(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?24:-1),s(),w(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessWatchRow&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0?25:-1),s(2),y("options",t.optionsSearch),s(),y("options",t.optionsStatist),s(2),b("dataSource",t.tableSource),s(43),b("matHeaderRowDef",t.tabledisplayedColumns),s(),b("matRowDefColumns",t.tabledisplayedColumns),s(),b("matRowDefColumns",K(32,ql)),s(2),b("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",K(33,$l)))},dependencies:[Ce,Vt,Xe,xo,Kt,be,Zt,ei,ce,me,Ye,Je,Ue,Ze,ot,et,Ke,nt,tt,it,st,rt,pe,fe,at,Se,Fe,ko,Qe,wo,W,To,He,mt,Re,_n,hi,Io],encapsulation:2});var ho=io;var Zc=()=>["expandedTitle"],em=()=>[5,10,20,100],tm=o=>({display:o});function im(o,a){if(o&1){let e=T();l(0,"a",10),v("click",function(){p(e);let t=m();return f(t.onActionButtonBulkDelete())}),S(1,"i",48),u(2),_(3,"translate"),r()}if(o&2){let e=m();s(2),R(" ",g(3,2,"ACTION.DELETE_SELECTED")," (",e.getSelectedCount(),") ")}}function om(o,a){if(o&1){let e=T();l(0,"div",17)(1,"a",49),v("click",function(){p(e);let t=m();return f(t.onActionButtonBulkDelete())}),S(2,"i",50)(3,"br"),r(),l(4,"p",51),u(5),_(6,"translate"),r()()}if(o&2){let e=m();s(5),R(" ",g(6,2,"ACTION.DELETE_SELECTED")," (",e.getSelectedCount(),") ")}}function nm(o,a){if(o&1){let e=T();l(0,"div",17)(1,"a",52),v("click",function(){p(e);let t=m();return f(t.onActionButtonEditRow(t.tableRowSelected))}),S(2,"i",53)(3,"br"),r(),l(4,"p",51),u(5),_(6,"translate"),r()()}o&2&&(s(5),C(" ",g(6,1,"ACTION.EDIT")," "))}function sm(o,a){if(o&1){let e=T();l(0,"div",17)(1,"a",49),v("click",function(){p(e);let t=m();return f(t.onActionButtonDeleteRow(t.tableRowSelected))}),S(2,"i",54)(3,"br"),r(),l(4,"p",51),u(5),_(6,"translate"),r()()}o&2&&(s(5),C(" ",g(6,1,"ACTION.DELETE")," "))}function rm(o,a){if(o&1){let e=T();l(0,"div",17)(1,"a",55),v("click",function(){p(e);let t=m();return f(t.onActionButtonViewRow(t.tableRowSelected))}),S(2,"i",56)(3,"br"),r(),l(4,"p",51),u(5),_(6,"translate"),r()()}o&2&&(s(5),C(" ",g(6,1,"ACTION.VIEW")," "))}function am(o,a){if(o&1&&(l(0,"mat-header-cell",57),u(1),r()),o&2){let e=m();s(),C(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function lm(o,a){if(o&1&&(l(0,"mat-cell"),u(1),r()),o&2){let e=a.$implicit;s(),C(" ",e.id," ")}}function cm(o,a){if(o&1&&(l(0,"mat-header-cell",57),u(1),r()),o&2){let e=m();s(),C(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function mm(o,a){if(o&1&&S(0,"select",59),o&2){let e=m().$implicit,i=m();b("contentService",i.contentService)("row",e)("ngStyle",kt(3,tm,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function dm(o,a){if(o&1&&(l(0,"mat-cell",58),_(1,"statusCellClass"),S(2,"i",58),_(3,"statusIconClass"),M(4,mm,1,5,"select",59),r()),o&2){let e=a.$implicit,i=m();b("ngClass",g(1,3,e.recordStatus)),s(2),b("ngClass",g(3,5,e.recordStatus)),s(2),w(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessEditRow?4:-1)}}function um(o,a){if(o&1&&(l(0,"mat-header-cell",57),u(1),r()),o&2){let e=m();s(),C(" ",e.fieldsInfo.createdBy==null?null:e.fieldsInfo.createdBy.fieldTitle," ")}}function pm(o,a){if(o&1&&(l(0,"mat-cell"),u(1),_(2,"cmsuserinfo"),_(3,"async"),r()),o&2){let e=a.$implicit;s(),C(" ",g(3,3,g(2,1,e.createdBy))," ")}}function fm(o,a){if(o&1&&(l(0,"mat-header-cell",57),u(1),r()),o&2){let e=m();s(),C(" ",e.fieldsInfo.scheduleCron==null?null:e.fieldsInfo.scheduleCron.fieldTitle," ")}}function Sm(o,a){if(o&1&&(l(0,"mat-cell"),u(1),r()),o&2){let e=a.$implicit;s(),C(" ",e.scheduleCron," ")}}function hm(o,a){if(o&1&&(l(0,"mat-header-cell",57),u(1),r()),o&2){let e=m();s(),C(" ",e.fieldsInfo.scheduleSendStart==null?null:e.fieldsInfo.scheduleSendStart.fieldTitle," ")}}function _m(o,a){if(o&1&&(l(0,"mat-cell",60),u(1),_(2,"localeDateTime"),r()),o&2){let e=a.$implicit;s(),C(" ",g(2,1,e.scheduleSendStart))}}function gm(o,a){if(o&1&&(l(0,"mat-header-cell",57),u(1),r()),o&2){let e=m();s(),C(" ",e.fieldsInfo.scheduleSendExpire==null?null:e.fieldsInfo.scheduleSendExpire.fieldTitle," ")}}function Cm(o,a){if(o&1&&(l(0,"mat-cell",60),u(1),_(2,"localeDateTime"),r()),o&2){let e=a.$implicit;s(),C(" ",g(2,1,e.scheduleSendExpire))}}function bm(o,a){if(o&1&&(l(0,"mat-header-cell",57),u(1),r()),o&2){let e=m();s(),C(" ",e.fieldsInfo.scheduleSendAllowNextRun==null?null:e.fieldsInfo.scheduleSendAllowNextRun.fieldTitle," ")}}function vm(o,a){if(o&1&&(l(0,"mat-cell",60),u(1),_(2,"localeDateTime"),r()),o&2){let e=a.$implicit;s(),C(" ",g(2,1,e.scheduleSendAllowNextRun))}}function Mm(o,a){if(o&1&&(l(0,"mat-header-cell",57),u(1),r()),o&2){let e=m();s(),C(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function wm(o,a){if(o&1&&(l(0,"mat-cell",60),u(1),_(2,"localeDateTime"),r()),o&2){let e=a.$implicit;s(),C(" ",g(2,1,e.createdDate))}}function xm(o,a){if(o&1&&(l(0,"mat-header-cell",57),u(1),r()),o&2){let e=m();s(),C(" ",e.fieldsInfo.updatedDate==null?null:e.fieldsInfo.updatedDate.fieldTitle," ")}}function Im(o,a){if(o&1&&(l(0,"mat-cell",60),u(1),_(2,"localeDateTime"),r()),o&2){let e=a.$implicit,i=m();s(),R(" ",g(2,2,e.updatedDate)," ",i.publicHelper.getTime(e.updatedDate)," ")}}function Tm(o,a){o&1&&(l(0,"mat-header-cell"),u(1),_(2,"translate"),r()),o&2&&(s(),C(" ",g(2,1,"TITLE.Schedule_Run_Infos")," "))}function Em(o,a){if(o&1){let e=T();l(0,"button",64),_(1,"translate"),v("click",function(t){p(e);let n=m().$implicit;return m().onActionButtonScheduleRunInfos(n),f(t.stopPropagation())}),S(2,"i",65),l(3,"span",66),u(4),r()()}if(o&2){let e=m().$implicit;b("title",g(1,2,"ACTION.View_Schedule_Run_Infos")),s(4),A(e.scheduleRunInfos.length)}}function Rm(o,a){o&1&&(l(0,"span",63),u(1,"-"),r())}function Lm(o,a){if(o&1&&(l(0,"mat-cell",61),M(1,Em,5,4,"button",62)(2,Rm,2,0,"span",63),r()),o&2){let e=a.$implicit;s(),w(e.scheduleRunInfos&&e.scheduleRunInfos.length>0?1:2)}}function Am(o,a){o&1&&(l(0,"mat-header-cell"),u(1),_(2,"translate"),r()),o&2&&(s(),C(" ",g(2,1,"TITLE.OPTION")," "))}function ym(o,a){if(o&1&&(l(0,"mat-cell",67)(1,"button",68)(2,"mat-icon"),u(3,"more_vert"),r()(),S(4,"mat-menu",null,2),r()),o&2){let e=X(5);s(),b("matMenuTriggerFor",e)}}function Dm(o,a){if(o&1){let e=T();l(0,"mat-header-cell")(1,"mat-checkbox",69),_(2,"translate"),v("change",function(t){p(e);let n=m();return f(n.onSelectAllChange(t))}),r()()}if(o&2){let e=m();s(),b("checked",e.isAllSelected)("indeterminate",e.selectedRowsForBulkDelete.size>0&&e.selectedRowsForBulkDelete.size<e.tableSource.data.length),Le("aria-label",g(2,3,"ACTION.SELECT"))}}function Bm(o,a){if(o&1){let e=T();l(0,"mat-cell")(1,"mat-checkbox",70),_(2,"translate"),v("change",function(t){let n=p(e).$implicit,d=m();return f(d.onCheckboxChange(n,t))})("click",function(t){return p(e),f(t.stopPropagation())}),r()()}if(o&2){let e=a.$implicit,i=m();s(),b("checked",i.isRowSelected(e.id)),Le("aria-label",g(2,2,"ACTION.SELECT"))}}function km(o,a){if(o&1&&(u(0),_(1,"cmsuserinfo"),_(2,"async"),S(3,"br")),o&2){let e=m().$implicit,i=m();R(" ",i.fieldsInfo.updatedBy==null?null:i.fieldsInfo.updatedBy.fieldTitle," : ",g(2,4,g(1,2,e.updatedBy))," ")}}function Om(o,a){if(o&1&&(u(0),S(1,"br")),o&2){let e=m().$implicit,i=m();R(" ",i.fieldsInfo.linkApiPathId==null?null:i.fieldsInfo.linkApiPathId.fieldTitle," : ",e.linkApiPathId," ")}}function Pm(o,a){if(o&1&&(u(0),S(1,"br")),o&2){let e=m().$implicit,i=m();R(" ",i.fieldsInfo.scheduleLockerId==null?null:i.fieldsInfo.scheduleLockerId.fieldTitle," : ",e.scheduleLockerId," ")}}function Vm(o,a){if(o&1&&(u(0),S(1,"br")),o&2){let e=m().$implicit,i=m();R(" ",i.fieldsInfo.linkFromNumber==null?null:i.fieldsInfo.linkFromNumber.fieldTitle," : ",e.linkFromNumber," ")}}function Nm(o,a){if(o&1&&(u(0),S(1,"br")),o&2){let e=m().$implicit,i=m();R(" ",i.fieldsInfo.toNumbers==null?null:i.fieldsInfo.toNumbers.fieldTitle," : ",e.toNumbers," ")}}function Gm(o,a){if(o&1&&(u(0),S(1,"br")),o&2){let e=m().$implicit,i=m();R(" ",i.fieldsInfo.toContactCategories==null?null:i.fieldsInfo.toContactCategories.fieldTitle," : ",e.toContactCategories.join(", ")," ")}}function Hm(o,a){if(o&1&&(u(0),S(1,"br")),o&2){let e=m().$implicit,i=m();R(" ",i.fieldsInfo.toContactContents==null?null:i.fieldsInfo.toContactContents.fieldTitle," : ",e.toContactContents.join(", ")," ")}}function Fm(o,a){if(o&1&&(u(0),_(1,"translate"),_(2,"translate"),S(3,"br")),o&2){let e=m().$implicit,i=m();R(" ",i.fieldsInfo.sendByQueue==null?null:i.fieldsInfo.sendByQueue.fieldTitle," : ",e.sendByQueue?g(1,2,"MESSAGE.Yes"):g(2,4,"MESSAGE.No")," ")}}function Qm(o,a){if(o&1&&(u(0),_(1,"translate"),_(2,"translate"),S(3,"br")),o&2){let e=m().$implicit,i=m();R(" ",i.fieldsInfo.isFlash==null?null:i.fieldsInfo.isFlash.fieldTitle," : ",e.isFlash?g(1,2,"MESSAGE.Yes"):g(2,4,"MESSAGE.No")," ")}}function Wm(o,a){if(o&1&&(u(0),_(1,"localeDateTime"),S(2,"br")),o&2){let e=m().$implicit,i=m();R(" ",i.fieldsInfo.scheduleSendStart==null?null:i.fieldsInfo.scheduleSendStart.fieldTitle," : ",g(1,2,e.scheduleSendStart)," ")}}function jm(o,a){if(o&1&&(u(0),_(1,"localeDateTime"),S(2,"br")),o&2){let e=m().$implicit,i=m();R(" ",i.fieldsInfo.scheduleSendExpire==null?null:i.fieldsInfo.scheduleSendExpire.fieldTitle," : ",g(1,2,e.scheduleSendExpire)," ")}}function qm(o,a){if(o&1&&(u(0),_(1,"localeDateTime"),S(2,"br")),o&2){let e=m().$implicit,i=m();R(" ",i.fieldsInfo.scheduleSendAllowNextRun==null?null:i.fieldsInfo.scheduleSendAllowNextRun.fieldTitle," : ",g(1,2,e.scheduleSendAllowNextRun)," ")}}function $m(o,a){if(o&1&&(u(0),_(1,"localeDateTime"),S(2,"br")),o&2){let e=m().$implicit,i=m();R(" ",i.fieldsInfo.scheduleLockerExpire==null?null:i.fieldsInfo.scheduleLockerExpire.fieldTitle," : ",g(1,2,e.scheduleLockerExpire)," ")}}function zm(o,a){if(o&1&&(u(0),_(1,"localeDateTime"),S(2,"br")),o&2){let e=m().$implicit,i=m();R(" ",i.fieldsInfo.ScheduleLockedRun==null?null:i.fieldsInfo.ScheduleLockedRun.fieldTitle," : ",g(1,2,e.ScheduleLockedRun)," ")}}function Xm(o,a){if(o&1&&(u(0),S(1,"br")),o&2){let e=m().$implicit,i=m();R(" ",i.fieldsInfo.scheduleCron==null?null:i.fieldsInfo.scheduleCron.fieldTitle," : ",e.scheduleCron," ")}}function Ym(o,a){if(o&1&&(u(0),S(1,"br")),o&2){let e=m().$implicit,i=m();R(" ",i.fieldsInfo.scheduleCountRun==null?null:i.fieldsInfo.scheduleCountRun.fieldTitle," : ",e.scheduleCountRun," ")}}function Jm(o,a){if(o&1&&(u(0),_(1,"translate"),_(2,"translate"),S(3,"br")),o&2){let e=m().$implicit,i=m();R(" ",i.fieldsInfo.scheduleLockedRunIsSuccess==null?null:i.fieldsInfo.scheduleLockedRunIsSuccess.fieldTitle," : ",e.scheduleLockedRunIsSuccess?g(1,2,"MESSAGE.Yes"):g(2,4,"MESSAGE.No")," ")}}function Um(o,a){if(o&1&&(l(0,"mat-cell")(1,"div"),S(2,"span",71),_(3,"prettyLine"),S(4,"hr"),M(5,km,4,6),M(6,Om,2,2),M(7,Pm,2,2),M(8,Vm,2,2),M(9,Nm,2,2),M(10,Gm,2,2),M(11,Hm,2,2),M(12,Fm,4,6),M(13,Qm,4,6),M(14,Wm,3,4),M(15,jm,3,4),M(16,qm,3,4),M(17,$m,3,4),M(18,zm,3,4),M(19,Xm,2,2),M(20,Ym,2,2),M(21,Jm,4,6),r()()),o&2){let e=a.$implicit;s(2),b("innerHTML",g(3,18,e.message),It),s(3),w(e.updatedBy?5:-1),s(),w(e.linkApiPathId?6:-1),s(),w(e.scheduleLockerId?7:-1),s(),w(e.linkFromNumber?8:-1),s(),w(e.toNumbers?9:-1),s(),w(e.toContactCategories!=null&&e.toContactCategories.length?10:-1),s(),w(e.toContactContents!=null&&e.toContactContents.length?11:-1),s(),w(e.sendByQueue?12:-1),s(),w(e.isFlash?13:-1),s(),w(e.scheduleSendStart?14:-1),s(),w(e.scheduleSendExpire?15:-1),s(),w(e.scheduleSendAllowNextRun?16:-1),s(),w(e.scheduleLockerExpire?17:-1),s(),w(e.ScheduleLockedRun?18:-1),s(),w(e.scheduleCron?19:-1),s(),w(e.scheduleCountRun?20:-1),s(),w(e.scheduleLockedRunIsSuccess?21:-1)}}function Km(o,a){o&1&&S(0,"mat-header-row")}function Zm(o,a){if(o&1){let e=T();l(0,"mat-row",72),v("click",function(t){let n=p(e).$implicit,d=m();return f(d.onActionTableRowSelect(n,t))})("rtclick",function(t){let n=p(e).$implicit,d=m();return f(d.onActionTableRowSelect(n,t))}),r()}if(o&2){let e=a.$implicit,i=m();F("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}function ed(o,a){if(o&1){let e=T();l(0,"mat-row",73),v("click",function(t){let n=p(e).$implicit,d=m();return f(d.onActionTableRowSelect(n,t))})("rtclick",function(t){let n=p(e).$implicit,d=m();return f(d.onActionTableRowSelect(n,t))})("mouseenter",function(){let t=p(e).$implicit,n=m();return f(n.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=p(e).$implicit,n=m();return f(n.onActionTableRowMouseLeave(t))}),r()}if(o&2){let e=a.$implicit,i=m();F("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var oo=class oo extends ue{constructor(e,i,t,n,d,c,E,$,ie,We,dt,he,ut){super(e,new ht,he,E,ie);this.contentService=e;this.smsMainApiPathService=i;this.activatedRoute=t;this.cmsToastrService=n;this.cmsConfirmationDialogService=d;this.router=c;this.tokenHelper=E;this.cdr=$;this.translate=ie;this.cmsStoreService=We;this.pageInfo=dt;this.publicHelper=he;this.dialog=ut;this.requestLinkApiPathId="";this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new G;this.filterDataModelQueryBuilder=[];this.dataModelCoreCurrencyResult=new k;this.dataModelPrivateResult=new k;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["id","recordStatus","createdBy","scheduleCron","scheduleSendStart","scheduleSendExpire","scheduleSendAllowNextRun","scheduleRunInfos","createdDate","updatedDate"];this.tabledisplayedColumnsMobileSource=["id","recordStatus","createdBy","scheduleCron","scheduleSendStart","scheduleSendExpire","scheduleSendAllowNextRun","scheduleRunInfos","createdDate","updatedDate"];this.unsubscribe=[];this.selectedRowsForBulkDelete=new Set;this.isAllSelected=!1;this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:Z=>this.onSubmitOptionsSearch(Z)},this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=O.Descending}ngOnInit(){this.activatedRoute.snapshot.paramMap.get("LinkApiPathId")&&(this.requestLinkApiPathId=this.activatedRoute.snapshot.paramMap.get("LinkApiPathId"));let e=new P;this.requestLinkApiPathId?.length>0&&(e.propertyName="LinkApiPathId",e.value=this.requestLinkApiPathId,this.filteModelContent.filters.push(e)),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(i=>i.tokenInfoStore).subscribe(i=>z(this,null,function*(){this.tokenInfo=i,this.DataGetAll()}))),this.getPrivateConfig()}getPrivateConfig(){let e=new G;e.rowPerPage=100,this.smsMainApiPathService.ServiceGetAll(e).subscribe({next:i=>{this.dataModelPrivateResult=i}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tabledisplayedColumns.indexOf("select")===-1&&this.tabledisplayedColumns.push("select"),this.tableRowsSelected=[],this.selectedRowsForBulkDelete.clear(),this.isAllSelected=!1,this.onActionTableRowSelect(new ht);let i=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(n=>{this.publicHelper.processService.processStart(i,n,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let t=JSON.parse(JSON.stringify(this.filteModelContent));if(this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(t.filters=[...this.filterDataModelQueryBuilder]),this.categoryModelSelected&&this.categoryModelSelected.id.length>0){let n=new P;n.propertyName="LinkPrivateConfigId",n.value=this.categoryModelSelected.id,t.filters.push(n)}this.contentService.ServiceGetAllEditor(t).subscribe({next:n=>{n.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(n.access),this.applyDataGetAllResult(n),this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(n.access)},1e3)):this.cmsToastrService.typeErrorMessage(n.errorMessage),this.publicHelper.processService.processStop(i)},error:n=>{this.cmsToastrService.typeError(n),this.publicHelper.processService.processStop(i,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=O.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=O.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=O.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonEditRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(ki,{height:"90%",panelClass:i,enterAnimationDuration:V.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:V.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(n=>{n&&n.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(n=>{this.cmsToastrService.typeErrorSelected(n)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(n=>{i=n["MESSAGE.Please_Confirm"],t=n["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(n=>{if(n){let d=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(d,c,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(d)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(d,!1)}})}}).catch(()=>{})}onActionButtonViewRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Gi,{height:"90%",panelClass:i,enterAnimationDuration:V.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:V.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(n=>{n&&n.dialogChangedDate})}onActionSelectorSelect(e){var i=this.filteModelContent.sortColumn,t=this.filteModelContent.sortType;this.filteModelContent=new G,this.filteModelContent.sortColumn=i,this.filteModelContent.sortType=t,this.categoryModelSelected=e,this.DataGetAll()}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{i.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{i.set(c,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(E=>{i.set(E,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}});let n=JSON.parse(JSON.stringify(this.filteModelContent)),d=new P;d.propertyName="recordStatus",d.value=le.Available,n.filters.push(d),this.contentService.ServiceGetCount(n).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(E=>{i.set(E,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonSupersedesList(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorSelected();return}this.router.navigate(["/bankpayment/privatesiteconfig/LinkPrivateConfigId",this.tableRowSelected.id])}onActionButtonMustSupersedesList(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorSelected();return}this.router.navigate(["/bankpayment/privatesiteconfig/LinkPrivateConfigId",this.tableRowSelected.id])}onActionButtonNumbersList(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorSelected();return}this.router.navigate(["/bankpayment/privatesiteconfig/LinkPrivateConfigId",this.tableRowSelected.id])}onActionButtonPermitionList(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorSelected();return}this.router.navigate(["/sms/main/api-path-permission/LinkApiPathId",this.tableRowSelected.id])}onActionButtonPriceServicesList(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorSelected();return}this.router.navigate(["/sms/main/api-path-pagination/LinkApiPathId",this.tableRowSelected.id])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){}onActionButtonNewRow(e){this.cmsToastrService.typeErrorAccessAdd()}onActionButtonScheduleRunInfos(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(!e.scheduleRunInfos||e.scheduleRunInfos.length===0){this.translate.get("MESSAGE.No_Schedule_Run_Infos").subscribe(n=>{this.cmsToastrService.typeWarning(n)});return}this.onActionTableRowSelect(e);var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Pi,{height:"90%",panelClass:i,enterAnimationDuration:V.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:V.cmsViewConfig.exitAnimationDuration,data:{scheduleRunInfos:e.scheduleRunInfos,taskSchedulerId:e.id}}).afterClosed().subscribe(n=>{})}onCheckboxChange(e,i){i.checked?this.selectedRowsForBulkDelete.add(e.id):this.selectedRowsForBulkDelete.delete(e.id),this.updateSelectAllState()}isRowSelected(e){return this.selectedRowsForBulkDelete.has(e)}onSelectAllChange(e){this.isAllSelected=e.checked,this.isAllSelected?this.tableSource.data.forEach(i=>{i.id&&this.selectedRowsForBulkDelete.add(i.id)}):this.selectedRowsForBulkDelete.clear()}updateSelectAllState(){if(this.tableSource.data.length===0){this.isAllSelected=!1;return}let e=this.tableSource.data.every(i=>this.selectedRowsForBulkDelete.has(i.id));this.isAllSelected=e}getSelectedCount(){return this.selectedRowsForBulkDelete.size}onActionButtonBulkDelete(){if(this.selectedRowsForBulkDelete.size===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(n=>{this.cmsToastrService.typeErrorSelected(n)});return}if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var e="",i="";let t=this.selectedRowsForBulkDelete.size;this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(n=>{e=n["MESSAGE.Please_Confirm"],i=n["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+t+" \u0622\u06CC\u062A\u0645 \u0627\u0646\u062A\u062E\u0627\u0628 \u0634\u062F\u0647 ) "}),this.cmsConfirmationDialogService.confirm(e,i).then(n=>{if(n){let d=this.constructor.name+"BulkDelete";this.translate.get("MESSAGE.Receiving_information").subscribe(E=>{this.publicHelper.processService.processStart(d,E,this.constructorInfoAreaId)});let c=Array.from(this.selectedRowsForBulkDelete);this.contentService.ServiceDeleteList(c).subscribe({next:E=>{E.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.selectedRowsForBulkDelete.clear(),this.isAllSelected=!1,this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(d)},error:E=>{this.cmsToastrService.typeError(E),this.publicHelper.processService.processStop(d,!1)}})}}).catch(()=>{})}};oo.\u0275fac=function(i){return new(i||oo)(h(At),h(oe),h(re),h(j),h(se),h(ae),h(J),h(Q),h(q),h(Y),h(de),h(H),h(ne))},oo.\u0275cmp=N({type:oo,selectors:[["app-sms-log-outbox-task-scheduler-list"]],standalone:!1,features:[U],decls:76,vars:34,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],[3,"optionChange"],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","","multiTemplateDataRows","",3,"matSortChange","dataSource"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","recordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","createdBy"],["matColumnDef","scheduleCron"],["matColumnDef","scheduleSendStart"],["style","direction: ltr",4,"matCellDef"],["matColumnDef","scheduleSendExpire"],["matColumnDef","scheduleSendAllowNextRun"],["matColumnDef","createdDate"],["matColumnDef","updatedDate"],["matColumnDef","scheduleRunInfos"],[4,"matHeaderCellDef"],["class","text-center",4,"matCellDef"],["matColumnDef","Action"],["class","Action",4,"matCellDef"],["matColumnDef","select"],["matColumnDef","expandedTitle"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["class","ntk-row-expandedTitle",3,"ntk-row-selected","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],[1,"fa-solid","fa-trash-can","font-18",2,"color","#ff0000"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash-can","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","target","_blank","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[2,"direction","ltr"],[1,"text-center"],["type","button","mat-icon-button","",1,"btn-icon-action",3,"title"],[1,"text-muted","font-12"],["type","button","mat-icon-button","",1,"btn-icon-action",3,"click","title"],[1,"fa-solid","fa-list-check","text-primary","font-18"],[1,"badge","bg-primary","rounded-circle","ms-1"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[3,"change","checked","indeterminate"],[3,"change","click","checked"],[3,"innerHTML"],[1,"ntk-row-mainfild",3,"click","rtclick"],[1,"ntk-row-expandedTitle",3,"click","rtclick","mouseenter","mouseleave"]],template:function(i,t){if(i&1){let n=T();l(0,"app-cms-html-list",3),B("optionActionGuideNoticeDisplayChange",function(c){return p(n),D(t.viewGuideNotice,c)||(t.viewGuideNotice=c),f(c)}),v("optionOnActionButtonMemoRow",function(){return p(n),f(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return p(n),f(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return p(n),f(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return p(n),f(t.onActionButtonPrintRow())}),x(1,4),l(2,"app-sms-apipath-tree",5),v("optionChange",function(c){return p(n),f(t.onActionSelectorSelect(c))}),r(),I(),ee(3,6)(4,7),x(5,8),M(6,im,4,4,"a",9),l(7,"a",10),v("click",function(){return p(n),f(t.viewGuideNotice=!t.viewGuideNotice)}),S(8,"i",11),r(),l(9,"a",10),v("click",function(){return p(n),f(t.onActionButtonReload())}),S(10,"i",12),r(),I(),x(11,13),l(12,"a",14),v("click",function(){return p(n),f(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),S(13,"mat-slide-toggle",15),u(14),_(15,"translate"),r(),l(16,"a",14),v("click",function(){return p(n),f(t.onActionButtonStatist())}),S(17,"mat-slide-toggle",15),u(18),_(19,"translate"),r(),I(),x(20,16),M(21,om,7,4,"div",17),I(),x(22,18),M(23,nm,7,3,"div",17),M(24,sm,7,3,"div",17),M(25,rm,7,3,"div",17),I(),x(26,19),l(27,"app-cms-search-list",20),B("optionsChange",function(c){return p(n),D(t.optionsSearch,c)||(t.optionsSearch=c),f(c)}),r(),l(28,"app-cms-statist-list",20),B("optionsChange",function(c){return p(n),D(t.optionsStatist,c)||(t.optionsStatist=c),f(c)}),r(),I(),x(29,21),l(30,"mat-table",22,0),v("matSortChange",function(){p(n);let c=X(31);return f(t.onTableSortData(c))}),x(32,23),L(33,am,2,1,"mat-header-cell",24)(34,lm,2,1,"mat-cell",25),I(),x(35,26),L(36,cm,2,1,"mat-header-cell",24)(37,dm,5,7,"mat-cell",27),I(),x(38,28),L(39,um,2,1,"mat-header-cell",24)(40,pm,4,5,"mat-cell",25),I(),x(41,29),L(42,fm,2,1,"mat-header-cell",24)(43,Sm,2,1,"mat-cell",25),I(),x(44,30),L(45,hm,2,1,"mat-header-cell",24)(46,_m,3,3,"mat-cell",31),I(),x(47,32),L(48,gm,2,1,"mat-header-cell",24)(49,Cm,3,3,"mat-cell",31),I(),x(50,33),L(51,bm,2,1,"mat-header-cell",24)(52,vm,3,3,"mat-cell",31),I(),x(53,34),L(54,Mm,2,1,"mat-header-cell",24)(55,wm,3,3,"mat-cell",31),I(),x(56,35),L(57,xm,2,1,"mat-header-cell",24)(58,Im,3,4,"mat-cell",31),I(),x(59,36),L(60,Tm,3,3,"mat-header-cell",37)(61,Lm,3,1,"mat-cell",38),I(),x(62,39),L(63,Am,3,3,"mat-header-cell",37)(64,ym,6,1,"mat-cell",40),I(),x(65,41),L(66,Dm,3,5,"mat-header-cell",37)(67,Bm,3,4,"mat-cell",25),I(),x(68,42),L(69,Um,22,20,"mat-cell",25),I(),L(70,Km,1,0,"mat-header-row",43)(71,Zm,1,2,"mat-row",44)(72,ed,1,2,"mat-row",45),r(),I(),x(73,46),l(74,"mat-paginator",47,1),v("page",function(c){return p(n),f(t.onTablePageingData(c))}),r(),I(),r()}i&2&&(b("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),y("optionActionGuideNoticeDisplay",t.viewGuideNotice),b("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),s(6),w(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow&&t.selectedRowsForBulkDelete.size>0?6:-1),s(4),F("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),s(3),b("checked",t.optionsSearch.data.show),s(),C("",g(15,28,"ACTION.SEARCH")," "),s(3),b("checked",t.optionsStatist.data.show),s(),C("",g(19,30,"ACTION.STATIST")," "),s(3),w(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow&&t.selectedRowsForBulkDelete.size>0?21:-1),s(2),w(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?23:-1),s(),w(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?24:-1),s(),w(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessWatchRow&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0?25:-1),s(2),y("options",t.optionsSearch),s(),y("options",t.optionsStatist),s(2),b("dataSource",t.tableSource),s(40),b("matHeaderRowDef",t.tabledisplayedColumns),s(),b("matRowDefColumns",t.tabledisplayedColumns),s(),b("matRowDefColumns",K(32,Zc)),s(2),b("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",K(33,em)))},dependencies:[Ce,Vt,Xe,xo,Kt,be,Zt,ei,ce,me,Ye,Je,Ue,Ze,ot,et,Ke,nt,tt,it,st,rt,pe,fe,at,Se,Fe,Qe,wo,W,To,He,mt,Re,hi],encapsulation:2});var _o=oo;var td=()=>["expandedTitle"],id=()=>[5,10,20,100];function od(o,a){if(o&1){let e=T();l(0,"a",46),v("click",function(){p(e);let t=m();return f(t.onActionBackToParent())}),S(1,"i",47),r()}}function nd(o,a){if(o&1){let e=T();l(0,"div",20)(1,"a",48),v("click",function(){p(e);let t=m();return f(t.onActionButtonEditRow(t.tableRowSelected))}),S(2,"i",49)(3,"br"),r(),l(4,"p",23),u(5),_(6,"translate"),r()()}o&2&&(s(5),C(" ",g(6,1,"ACTION.EDIT")," "))}function sd(o,a){if(o&1){let e=T();l(0,"div",20)(1,"a",12),v("click",function(){p(e);let t=m();return f(t.onActionButtonDetailRow(t.tableRowSelected))}),S(2,"i",50)(3,"br"),r(),l(4,"p",23),u(5),_(6,"translate"),r()()}o&2&&(s(5),C(" ",g(6,1,"ACTION.DETAIL")," "))}function rd(o,a){if(o&1){let e=T();l(0,"div",20)(1,"a",51),v("click",function(){p(e);let t=m();return f(t.onActionButtonViewRow())}),S(2,"i",52)(3,"br"),r(),l(4,"p",23),u(5),_(6,"translate"),r()()}o&2&&(s(5),C(" ",g(6,1,"ACTION.VIEW")," "))}function ad(o,a){if(o&1){let e=T();l(0,"div",20)(1,"a",53),v("click",function(){p(e);let t=m();return f(t.onActionButtonDeleteRow(t.tableRowSelected))}),S(2,"i",54)(3,"br"),r(),l(4,"p",23),u(5),_(6,"translate"),r()()}o&2&&(s(5),C(" ",g(6,1,"ACTION.DELETE")," "))}function ld(o,a){if(o&1){let e=T();l(0,"mat-row",55),v("click",function(t){let n=p(e).$implicit,d=m();return f(d.onActionTableRowSelect(n,t))})("rtclick",function(t){let n=p(e).$implicit,d=m();return f(d.onActionTableRowSelect(n,t))})("mouseenter",function(){let t=p(e).$implicit,n=m();return f(n.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=p(e).$implicit,n=m();return f(n.onActionTableRowMouseLeave(t))}),r()}if(o&2){let e=a.$implicit,i=m();F("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}function cd(o,a){if(o&1&&(l(0,"mat-header-cell",56),u(1),r()),o&2){let e=m();s(),C(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function md(o,a){if(o&1&&(l(0,"mat-cell"),u(1),r()),o&2){let e=a.$implicit;s(),C(" ",e.id," ")}}function dd(o,a){if(o&1&&(l(0,"mat-header-cell",56),u(1),r()),o&2){let e=m();s(),C(" ",e.fieldsInfo.linkApiPathId==null?null:e.fieldsInfo.linkApiPathId.fieldTitle," ")}}function ud(o,a){if(o&1&&(l(0,"mat-cell"),u(1),_(2,"cmstitle"),r()),o&2){let e=a.$implicit,i=m();s(),C(" ",si(2,1,e.linkApiPathId,i.dataModelPrivateResult.listItems)," ")}}function pd(o,a){if(o&1&&(l(0,"mat-header-cell",56),u(1),r()),o&2){let e=m();s(),C(" ",e.fieldsInfo.message==null?null:e.fieldsInfo.message.fieldTitle," ")}}function fd(o,a){if(o&1&&(l(0,"mat-cell"),u(1),r()),o&2){let e=a.$implicit;s(),C(" ",e.message," ")}}function Sd(o,a){if(o&1&&(l(0,"mat-header-cell",56),u(1),r()),o&2){let e=m();s(),C(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function hd(o,a){if(o&1&&(l(0,"mat-cell",57),u(1),_(2,"localeDateTime"),r()),o&2){let e=a.$implicit;s(),C(" ",g(2,1,e.createdDate)," ")}}function _d(o,a){if(o&1&&(l(0,"mat-header-cell",56),u(1),r()),o&2){let e=m();s(),C(" ",e.fieldsInfo.sendDate==null?null:e.fieldsInfo.sendDate.fieldTitle," ")}}function gd(o,a){if(o&1&&(l(0,"mat-cell",57),u(1),_(2,"localeDateTime"),r()),o&2){let e=a.$implicit;s(),C(" ",g(2,1,e.sendDate)," ")}}function Cd(o,a){if(o&1&&(l(0,"mat-header-cell",56),u(1),r()),o&2){let e=m();s(),C(" ",e.fieldsInfo.updatedDate==null?null:e.fieldsInfo.updatedDate.fieldTitle," ")}}function bd(o,a){if(o&1&&(l(0,"mat-cell",57),u(1),_(2,"localeDateTime"),r()),o&2){let e=a.$implicit;s(),C(" ",g(2,1,e.updatedDate)," ")}}function vd(o,a){o&1&&(l(0,"mat-header-cell"),u(1),_(2,"translate"),r()),o&2&&(s(),C(" ",g(2,1,"TITLE.OPTION")," "))}function Md(o,a){if(o&1&&(l(0,"mat-cell",58)(1,"button",59)(2,"mat-icon"),u(3,"more_vert"),r()(),S(4,"mat-menu",null,2),r()),o&2){let e=X(5);s(),b("matMenuTriggerFor",e)}}function wd(o,a){o&1&&S(0,"mat-header-row")}function xd(o,a){if(o&1){let e=T();l(0,"mat-row",60),v("click",function(t){let n=p(e).$implicit,d=m();return f(d.onActionTableRowSelect(n,t))})("rtclick",function(t){let n=p(e).$implicit,d=m();return f(d.onActionTableRowSelect(n,t))}),r()}if(o&2){let e=a.$implicit,i=m();F("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}function Id(o,a){if(o&1&&(l(0,"mat-cell")(1,"div",61),u(2),_(3,"translate"),S(4,"br"),u(5),S(6,"br"),u(7),_(8,"number"),S(9,"br"),u(10),_(11,"number"),S(12,"br"),u(13),_(14,"number"),S(15,"br"),u(16),_(17,"number"),S(18,"br"),u(19),_(20,"number"),S(21,"br"),u(22),_(23,"number"),S(24,"br"),u(25),_(26,"number"),r(),S(27,"div",62),_(28,"prettyLine"),r()),o&2){let e=a.$implicit,i=m();s(2),R(" ",g(3,19,"TITLE.Id")," : ",e.id," "),s(3),R(" ",i.fieldsInfo.countRow==null?null:i.fieldsInfo.countRow.fieldTitle," : ",e.countRow," "),s(2),R(" ",i.fieldsInfo.countSent==null?null:i.fieldsInfo.countSent.fieldTitle," : ",g(8,21,e.countSent)," "),s(3),R(" ",i.fieldsInfo.countDelivery==null?null:i.fieldsInfo.countDelivery.fieldTitle," : ",g(11,23,e.countDelivery)," "),s(3),R(" ",i.fieldsInfo.countCreditBacked==null?null:i.fieldsInfo.countCreditBacked.fieldTitle," : ",g(14,25,e.countCreditBacked)," "),s(3),R(" ",i.fieldsInfo.sumCredit==null?null:i.fieldsInfo.sumCredit.fieldTitle," : ",g(17,27,e.sumCredit)," "),s(3),R(" ",i.fieldsInfo.sumCreditBacked==null?null:i.fieldsInfo.sumCreditBacked.fieldTitle," : ",g(20,29,e.sumCreditBacked)," "),s(3),R(" ",i.fieldsInfo.creditOverPlus==null?null:i.fieldsInfo.creditOverPlus.fieldTitle," : ",g(23,31,e.creditOverPlus)," "),s(3),R(" ",i.fieldsInfo.creditUserBefor==null?null:i.fieldsInfo.creditUserBefor.fieldTitle," : ",g(26,33,e.creditUserBefor)," "),s(2),b("innerHTML",g(28,35,e.message),It)}}var no=class no extends ue{constructor(e,i,t,n,d,c,E,$,ie,We,dt,he,ut){super(e,new ft,he,E,ie);this.contentService=e;this.activatedRoute=i;this.cmsToastrService=t;this.cmsConfirmationDialogService=n;this.smsMainApiPathService=d;this.router=c;this.tokenHelper=E;this.cdr=$;this.translate=ie;this.cmsStoreService=We;this.pageInfo=dt;this.publicHelper=he;this.dialog=ut;this.requestLinkSiteId=0;this.requestLinkApiPathId="";this.requestLinkApiNumberId="";this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new G;this.filterDataModelQueryBuilder=[];this.dataModelCoreCurrencyResult=new k;this.dataModelPrivateResult=new k;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["LinkApiPathId","createdDate","SendDate","updatedDate"];this.tabledisplayedColumnsMobileSource=["createdDate","SendDate","updatedDate"];this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:Z=>this.onSubmitOptionsSearch(Z)},this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=O.Descending}ngOnInit(){this.activatedRoute.snapshot.paramMap.get("LinkSiteId")&&(this.requestLinkSiteId=+this.activatedRoute.snapshot.paramMap.get("LinkSiteId")||0),this.activatedRoute.snapshot.paramMap.get("LinkApiPathId")&&(this.requestLinkApiPathId=this.activatedRoute.snapshot.paramMap.get("LinkApiPathId")),this.activatedRoute.snapshot.paramMap.get("LinkApiNumberId")&&(this.requestLinkApiNumberId=this.activatedRoute.snapshot.paramMap.get("LinkApiNumberId"));let e=new P;if(this.requestLinkApiPathId?.length>0&&(e.propertyName="LinkApiPathId",e.value=this.requestLinkApiPathId,this.filteModelContent.filters.push(e)),this.requestLinkApiNumberId?.length>0&&(e.propertyName="LinkApiNumberId",e.value=this.requestLinkApiNumberId,this.filteModelContent.filters.push(e)),this.requestLinkSiteId>0){let i=new P;i.propertyName="linkSiteId",i.value=this.requestLinkSiteId,this.filteModelContent.filters.push(i)}this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(i=>i.tokenInfoStore).subscribe(i=>z(this,null,function*(){this.tokenInfo=i,this.DataGetAll()}))),this.getPrivateConfig()}getPrivateConfig(){let e=new G;e.rowPerPage=100,this.smsMainApiPathService.ServiceGetAll(e).subscribe({next:i=>{this.dataModelPrivateResult=i}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new ft);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));if(this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.categoryModelSelected&&this.categoryModelSelected.id.length>0){let t=new P;t.propertyName="LinkApiPathId",t.value=this.categoryModelSelected.id,i.filters.push(t)}this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.applyDataGetAllResult(t),this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=O.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=O.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=O.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonEditRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Qi,{height:"90%",panelClass:i,enterAnimationDuration:V.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:V.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(n=>{n&&n.dialogChangedDate&&this.DataGetAll()})}onActionButtonViewRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(ji,{height:"90%",panelClass:i,enterAnimationDuration:V.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:V.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(n=>{n&&n.dialogChangedDate})}onActionButtonDetailRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null){this.cmsToastrService.typeErrorAccessEdit();return}this.router.navigate(["/sms/log/outbox-detail/LinkOutBoxId",this.tableRowSelected.id])}onActionButtonDeleteRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(n=>{this.cmsToastrService.typeErrorSelected(n)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(n=>{i=n["MESSAGE.Please_Confirm"],t=n["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(n=>{if(n){let d=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(d,c,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(d)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(d,!1)}})}}).catch(()=>{})}onActionSelectorSelect(e){var i=this.filteModelContent.sortColumn,t=this.filteModelContent.sortType;this.filteModelContent=new G,this.filteModelContent.sortColumn=i,this.filteModelContent.sortType=t,this.categoryModelSelected=e,this.DataGetAll()}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{i.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{i.set(c,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(E=>{i.set(E,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}});let n=JSON.parse(JSON.stringify(this.filteModelContent)),d=new P;d.propertyName="recordStatus",d.value=le.Available,n.filters.push(d),this.contentService.ServiceGetCount(n).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(E=>{i.set(E,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonPriceServicesList(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorSelected();return}this.router.navigate(["/sms/main/api-path-pagination/LinkApiPathId",this.tableRowSelected.linkApiPathId])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/sms/main/api-path-company"])}};no.\u0275fac=function(i){return new(i||no)(h($e),h(re),h(j),h(se),h(oe),h(ae),h(J),h(Q),h(q),h(Y),h(de),h(H),h(ne))},no.\u0275cmp=N({type:no,selectors:[["app-sms-log-outbox-list"]],standalone:!1,features:[U],decls:72,vars:41,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],[3,"optionChange"],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"],[1,"badge","bg-red-dark","ms-2","me-2","px-2","py-1","rounded-s","font-11"],[1,"fa-solid","fa-paper-plane","me-1"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-list","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","","multiTemplateDataRows","",3,"matSortChange","dataSource"],["class","ntk-row-expandedTitle",3,"ntk-row-selected","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkApiPathId"],["matColumnDef","Message"],["matColumnDef","createdDate"],["style","direction: ltr",4,"matCellDef"],["matColumnDef","SendDate"],["matColumnDef","updatedDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["matColumnDef","expandedTitle"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-memo-circle-info","font-18",2,"color","#ffffff"],["type","button","target","_blank","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],[1,"ntk-row-expandedTitle",3,"click","rtclick","mouseenter","mouseleave"],["mat-sort-header",""],[2,"direction","ltr"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"],[1,"col-sm-12","col-md-6"],[1,"col-sm-12","col-md-6",3,"innerHTML"]],template:function(i,t){if(i&1){let n=T();l(0,"app-cms-html-list",3),B("optionActionGuideNoticeDisplayChange",function(c){return p(n),D(t.viewGuideNotice,c)||(t.viewGuideNotice=c),f(c)}),v("optionOnActionButtonMemoRow",function(){return p(n),f(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return p(n),f(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return p(n),f(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return p(n),f(t.onActionButtonPrintRow())}),x(1,4),l(2,"app-sms-apipath-tree",5),v("optionChange",function(c){return p(n),f(t.onActionSelectorSelect(c))}),r(),I(),ee(3,6)(4,7),x(5,8),M(6,od,2,0,"a",9),l(7,"span",10),S(8,"i",11),u(9),_(10,"translate"),r(),l(11,"a",12),v("click",function(){return p(n),f(t.viewGuideNotice=!t.viewGuideNotice)}),S(12,"i",13),r(),l(13,"a",12),v("click",function(){return p(n),f(t.onActionButtonReload())}),S(14,"i",14),r(),I(),x(15,15),l(16,"a",16),v("click",function(){return p(n),f(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),S(17,"mat-slide-toggle",17),u(18),_(19,"translate"),r(),l(20,"a",16),v("click",function(){return p(n),f(t.onActionButtonStatist())}),S(21,"mat-slide-toggle",17),u(22),_(23,"translate"),r(),I(),ee(24,18),x(25,19),M(26,nd,7,3,"div",20),M(27,sd,7,3,"div",20),M(28,rd,7,3,"div",20),M(29,ad,7,3,"div",20),l(30,"div",20)(31,"a",21),v("click",function(){return p(n),f(t.onActionButtonPriceServicesList(t.tableRowSelected))}),S(32,"i",22)(33,"br"),r(),l(34,"p",23),u(35),_(36,"translate"),r()(),I(),x(37,24),l(38,"app-cms-search-list",25),B("optionsChange",function(c){return p(n),D(t.optionsSearch,c)||(t.optionsSearch=c),f(c)}),r(),l(39,"app-cms-statist-list",25),B("optionsChange",function(c){return p(n),D(t.optionsStatist,c)||(t.optionsStatist=c),f(c)}),r(),I(),x(40,26),l(41,"mat-table",27,0),v("matSortChange",function(){p(n);let c=X(42);return f(t.onTableSortData(c))}),L(43,ld,1,2,"mat-row",28),x(44,29),L(45,cd,2,1,"mat-header-cell",30)(46,md,2,1,"mat-cell",31),I(),x(47,32),L(48,dd,2,1,"mat-header-cell",30)(49,ud,3,4,"mat-cell",31),I(),x(50,33),L(51,pd,2,1,"mat-header-cell",30)(52,fd,2,1,"mat-cell",31),I(),x(53,34),L(54,Sd,2,1,"mat-header-cell",30)(55,hd,3,3,"mat-cell",35),I(),x(56,36),L(57,_d,2,1,"mat-header-cell",30)(58,gd,3,3,"mat-cell",35),I(),x(59,37),L(60,Cd,2,1,"mat-header-cell",30)(61,bd,3,3,"mat-cell",35),I(),x(62,38),L(63,vd,3,3,"mat-header-cell",39)(64,Md,6,1,"mat-cell",40),I(),L(65,wd,1,0,"mat-header-row",41)(66,xd,1,2,"mat-row",42),x(67,43),L(68,Id,29,37,"mat-cell",31),I(),r(),I(),x(69,44),l(70,"mat-paginator",45,1),v("page",function(c){return p(n),f(t.onTablePageingData(c))}),r(),I(),r()}i&2&&(b("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),y("optionActionGuideNoticeDisplay",t.viewGuideNotice),b("optionTreeDisplay",!1)("optionTreeDisplay",!t.requestLinkApiPathId||t.requestLinkApiPathId.length===0)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.message),s(6),w((t.requestLinkApiPathId==null?null:t.requestLinkApiPathId.length)>0?6:-1),s(3),C(" ",g(10,31,"ROUTE.SMS.LOG")," "),s(5),F("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),s(3),b("checked",t.optionsSearch.data.show),s(),C("",g(19,33,"ACTION.SEARCH")," "),s(3),b("checked",t.optionsStatist.data.show),s(),C("",g(23,35,"ACTION.STATIST")," "),s(4),w(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?26:-1),s(),w(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessWatchRow&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0?27:-1),s(),w(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessWatchRow&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0?28:-1),s(),w(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?29:-1),s(6),C(" ",g(36,37,"ACTION.PRICE_LIST")," "),s(3),y("options",t.optionsSearch),s(),y("options",t.optionsStatist),s(2),b("dataSource",t.tableSource),s(2),b("matRowDefColumns",K(39,td)),s(22),b("matHeaderRowDef",t.tabledisplayedColumns),s(),b("matRowDefColumns",t.tabledisplayedColumns),s(4),b("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",K(40,id)))},dependencies:[Xe,Kt,Zt,ei,ce,me,Ye,Je,Ue,Ze,ot,et,Ke,nt,tt,it,st,rt,pe,fe,at,Se,Qe,pi,W,_i,He,mt],encapsulation:2});var mi=no;var En=[{path:"",component:Xi,data:{title:"ROUTE.SMS.LOG"},children:[{path:"inbox",component:ci,data:{title:"ROUTE.SMS.LOG"}},{path:"inbox/list/LinkPrivateConfigId/:LinkPrivateConfigId",component:ci,data:{title:"ROUTE.SMS.LOG"}},{path:"inbox/list/LinkApiNumberId/:LinkApiNumberId",component:ci,data:{title:"ROUTE.SMS.LOG"}},{path:"inbox/list/LinkSiteId/:LinkSiteId",component:ci,data:{title:"ROUTE.SMS.LOG"}},{path:"outbox",component:mi,data:{title:"ROUTE.SMS.LOG"}},{path:"outbox/list/LinkPrivateConfigId/:LinkPrivateConfigId",component:mi,data:{title:"ROUTE.SMS.LOG"}},{path:"outbox/list/LinkApiNumberId/:LinkApiNumberId",component:mi,data:{title:"ROUTE.SMS.LOG"}},{path:"outbox/list/LinkSiteId/:LinkSiteId",component:mi,data:{title:"ROUTE.SMS.LOG"}},{path:"outbox-detail/LinkOutBoxId/:LinkOutBoxId",component:Bo,data:{title:"ROUTE.SMS.LOG"}},{path:"api-path/LinkApiPathId/:LinkApiPathId",component:yo,data:{title:"ROUTE.SMS.LOG"}},{path:"outbox-queue",component:ho,data:{title:"ROUTE.SMS.LOG"}},{path:"outbox-queue/LinkApiPathId/:LinkApiPathId",component:ho,data:{title:"ROUTE.SMS.LOG"}},{path:"outbox-task-scheduler",component:_o,data:{title:"ROUTE.SMS.LOG"}},{path:"outbox-task-scheduler/LinkApiPathId/:LinkApiPathId",component:_o,data:{title:"ROUTE.SMS.LOG"}}]}];var di=class di{};di.\u0275fac=function(e){return new(e||di)},di.\u0275mod=vo({type:di}),di.\u0275inj=go({imports:[Vo.forChild(window.innerWidth<1e3?wn:En),Vo]});var Oo=di;var ui=class ui{};ui.\u0275fac=function(e){return new(e||ui)},ui.\u0275mod=vo({type:ui}),ui.\u0275inj=go({providers:[en,qe,tn,se,rn,on,Rt,$e,Ft,Lt,At,Si,nn,sn,oe],imports:[Uo,Oo,ln,cn.withConfig({warnOnNgModelWithFormControl:"never"}),fn,hn,dn,mn,un,Cn,pn,bn,vn]});var Rn=ui;export{Rn as SmsLogModule};
