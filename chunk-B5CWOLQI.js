import{a as Ho}from"./chunk-5EPFCLE4.js";import{a as Ze}from"./chunk-XWFZ3L2H.js";import{a as st}from"./chunk-5ZOJ6FYI.js";import{a as Ye}from"./chunk-XKUKUWSY.js";import{a as Xe}from"./chunk-YJOP3S3T.js";import{a as Go}from"./chunk-4CVLFNJO.js";import{a as vt}from"./chunk-Q6XMJFCC.js";import{a as _t}from"./chunk-K33TURJC.js";import{a as ht}from"./chunk-5XVZV6M6.js";import{a as Ct}from"./chunk-BLP2IXTD.js";import{a as Je}from"./chunk-JEF4OJ24.js";import{a as ft}from"./chunk-TQPHF322.js";import{d as Qe,e as $e,f as ze,i as Ke}from"./chunk-L2MDIT3B.js";import{a as St}from"./chunk-JGF2I6KA.js";import{a as Ce}from"./chunk-A4MVKAYT.js";import{a as ut}from"./chunk-NKVR7DNS.js";import{b as qe,d as We}from"./chunk-WJ7SXTGT.js";import{a as bt}from"./chunk-4NXYJRHA.js";import"./chunk-7DUNEHBM.js";import{a as pi}from"./chunk-T2SWGMVG.js";import"./chunk-V5RHHWLX.js";import{a as rt}from"./chunk-HNLXB3RO.js";import"./chunk-HGNWVODT.js";import{a as ie,d as nt}from"./chunk-AQCXI2UP.js";import{b as ot,e as je,f as W}from"./chunk-MZCEX4RF.js";import{A as Me,Ab as G,Ba as Ae,Bb as H,Da as lt,Ia as ke,Ja as Ee,Ma as Re,R as No,Sa as ye,Ua as De,Va as Le,cb as xe,db as Ue,eb as Be,fb as Ve,gb as Oe,hb as Ne,ib as Pe,jb as Ge,kb as He,lb as Fe,ma as ee,na as te,oa as we,pc as F,s as Oo,sc as j,uc as q,xc as Po}from"./chunk-XYT3HHVP.js";import{F as Bo,G as Vo,c as Ro,h as yo,m as Do,u as Lo,v as xo,x as Uo}from"./chunk-QRBNL5ZA.js";import{$,Fn as Q,H as x,K as pt,Ka as kt,La as mi,Na as Tt,Oa as Et,Pa as Rt,Qa as di,Rb as xt,Sb as Gi,Tb as Ut,Ub as it,V as wt,Vb as Hi,W as At,d as ge,da as ko,db as yt,e as Ao,eb as Dt,f as Te,fb as gt,gb as Lt,l as To,m as be,na as Eo,p as Ji,q as D,u as A,v as Ie}from"./chunk-RBCLPN4V.js";import{Ab as y,Ad as wo,Cb as bo,Db as Io,Dc as h,Eb as Mo,Ec as v,Fb as T,Fc as re,Gb as a,Hb as s,Ib as g,Mb as b,Nb as I,Ob as ne,Pb as E,Qa as ci,Sb as M,Ub as u,Va as r,Xc as P,Yb as X,Zb as Y,_b as Z,cb as S,cc as K,ec as J,ga as zi,hc as m,ib as O,ic as go,jb as Ki,jc as p,kc as at,ld as tt,mb as z,nc as U,ob as w,oc as B,pa as C,pc as V,qa as _,rd as dt,td as ve,xb as vo,xc as he,yc as _e,zb as R}from"./chunk-2AL2II5Z.js";import{i as N}from"./chunk-SEDBTTTN.js";var qo=["vform"];function Wo(i,n){if(i&1){let e=E();a(0,"app-cms-enum-record-status-selector",7),V("modelChange",function(t){C(e);let l=u();return B(l.dataModel.recordStatus,t)||(l.dataModel.recordStatus=t),_(t)}),s()}if(i&2){let e=u();U("model",e.dataModel.recordStatus),T("optionDisabled",!((e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.accessEditField)??!1))("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Qo(i,n){if(i&1){let e=E();a(0,"div",6)(1,"button",8),M("click",function(){C(e);let t=u();return _(t.onFormCancel())}),g(2,"i",9),m(3),h(4,"translate"),s()()}i&2&&(r(3),p(" ",v(4,1,"ACTION.CANCEL")," "))}var ui=class ui extends ft{constructor(e,o,t,l,d,f,c,L,oe,Se){super(l,new xt,Se,oe);this.data=e;this.dialogRef=o;this.coreEnumService=t;this.coreTokenActivationService=l;this.cmsToastrService=d;this.tokenHelper=f;this.cmsStoreService=c;this.cdr=L;this.translate=oe;this.publicHelper=Se;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new D;this.dataModel=new xt;this.dataModelEnumManageUserAccessAreaTypesResult=new D;this.dataModelEnumManageUserAccessUserTypesResult=new D;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id)}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>N(this,null,function*(){this.tokenInfo=e}))),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){this.coreEnumService.ServiceManageUserAccessAreaTypesEnum().subscribe({next:e=>{this.dataModelEnumManageUserAccessAreaTypesResult=e}})}getEnumManageUserAccessUserTypes(){this.coreEnumService.ServiceManageUserAccessUserTypesEnum().subscribe({next:e=>{this.dataModelEnumManageUserAccessUserTypesResult=e}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(o=>{this.formInfo.submitResultMessage=o}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(o=>{this.publicHelper.processService.processStart(e,o,this.constructorInfoAreaId)}),this.coreTokenActivationService.setAccessLoad(),this.coreTokenActivationService.setAccessDataType(pt.Editor),this.coreTokenActivationService.ServiceGetOneById(this.requestId).subscribe({next:o=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModel=o.item,o.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+o.item.id,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=o.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(o.errorMessage)),this.publicHelper.processService.processStop(e)},error:o=>{this.cmsToastrService.typeError(o),this.publicHelper.processService.processStop(e,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};ui.\u0275fac=function(o){return new(o||ui)(S(te),S(ee),S($),S(kt),S(q),S(j),S(F),S(P),S(G),S(W))},ui.\u0275cmp=O({type:ui,selectors:[["app-core-site-domainalias-edit"]],viewQuery:function(o,t){if(o&1&&X(qo,5),o&2){let l;Y(l=Z())&&(t.formGroup=l.first)}},standalone:!1,features:[z],decls:14,vars:17,consts:[[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],[1,"form-actions"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(o,t){o&1&&(a(0,"div",0),g(1,"app-progress-spinner",1),a(2,"div",2)(3,"p",3),m(4),s(),a(5,"p"),m(6),h(7,"translate"),s(),R(8,Wo,1,5,"app-cms-enum-record-status-selector",4),g(9,"app-cms-site-selector",5),h(10,"translate"),g(11,"app-cms-user-selector",5),h(12,"translate"),R(13,Qo,5,3,"div",6),s()()),o&2&&(r(),T("optionsInfoAreaId",t.constructorInfoAreaId),r(3),p(" ",t.formInfo.formTitle," "),r(2),p(" ",v(7,11,"TITLE.Be_Careful_When_Entering_Information")," "),r(2),y(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?8:-1),r(),T("optionDisabled",!0)("optionSelectForce",t.dataModel.linkSiteId)("optionPlaceholder",v(10,13,"TITLE.WEBSITE")),r(2),T("optionDisabled",!0)("optionSelectForce",t.dataModel.linkUserId)("optionPlaceholder",v(12,15,"TITLE.USER")),r(2),y(t.formInfo.submitButtonEnabled?13:-1))},dependencies:[ut,bt,St,ie,H],encapsulation:2});var Xi=ui;var $o=["vform"];function zo(i,n){if(i&1){let e=E();a(0,"div",7)(1,"button",8),M("click",function(){C(e);let t=u();return _(t.onFormCancel())}),g(2,"i",9),m(3),h(4,"translate"),s()()}i&2&&(r(3),p(" ",v(4,1,"ACTION.CANCEL")," "))}var fi=class fi{constructor(n,e,o,t,l,d,f,c,L,oe){this.data=n;this.dialogRef=e;this.coreEnumService=o;this.coreTokenActivationService=t;this.cmsToastrService=l;this.tokenHelper=d;this.cmsStoreService=f;this.cdr=c;this.publicHelper=L;this.translate=oe;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.tokenInfo=new it;this.dataModelResult=new D;this.dataModel=new xt;this.formInfo=new nt;this.dataModelEnumSendSmsStatusTypeResult=new D;this.fieldsInfo=new Map;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,n&&(this.requestId=n.id+"")}ngOnInit(){if(this.translate.get("aaaaaaaaaTITLE.VIEWaaaaa").subscribe(n=>{this.formInfo.formTitle=n}),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(n=>n.tokenInfoStore).subscribe(n=>N(this,null,function*(){this.tokenInfo=n}))),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:n=>{this.dataModelEnumSendSmsStatusTypeResult=n}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(n=>n.unsubscribe())}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage="";let n=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(n,e,this.constructorInfoAreaId)}),this.coreTokenActivationService.setAccessLoad(),this.coreTokenActivationService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModel=e.item,e.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+e.item.id,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(o=>{this.formInfo.submitResultMessage=o}),this.formInfo.submitResultMessage=e.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(e.errorMessage)),this.publicHelper.processService.processStop(n)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(n,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};fi.\u0275fac=function(e){return new(e||fi)(S(te),S(ee),S($),S(kt),S(q),S(j),S(F),S(P),S(W),S(G))},fi.\u0275cmp=O({type:fi,selectors:[["app-bankpayment-transactionlog-view"]],viewQuery:function(e,o){if(e&1&&X($o,5),e&2){let t;Y(t=Z())&&(o.formGroup=t.first)}},standalone:!1,decls:9,vars:6,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection","loader-container"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[3,"formInfo"],[1,"ntk-cms-html-card-footer"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,o){e&1&&(a(0,"div",0),m(1),s(),a(2,"div",1),g(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),s(),a(5,"div",4),g(6,"app-cms-form-result-message",5),s(),a(7,"div",6),R(8,zo,5,3,"div",7),s()),e&2&&(r(),p(" ",o.formInfo.formTitle," "),r(2),T("optionsInfoAreaId",o.constructorInfoAreaId),r(),T("dataModel",o.dataModel)("optionMethod",1),r(2),T("formInfo",o.formInfo),r(2),y(o.formInfo.submitButtonEnabled?8:-1))},dependencies:[ie,st,rt,H],encapsulation:2});var Zi=fi;var Ko=()=>[5,10,20,100],Jo=i=>({display:i}),Xo=i=>({background:i});function Yo(i,n){if(i&1&&g(0,"app-core-user-header",3),i&2){let e=u();T("optionId",e.requestLinkUserId)}}function Zo(i,n){if(i&1){let e=E();a(0,"a",51),M("click",function(){C(e);let t=u();return _(t.onActionBackToParent())}),g(1,"i",52),s()}}function en(i,n){if(i&1){let e=E();a(0,"div",18)(1,"a",53),M("click",function(){C(e);let t=u();return _(t.onActionButtonEditRow(t.tableRowSelected))}),g(2,"i",54)(3,"br"),s(),a(4,"p",21),m(5),h(6,"translate"),s()()}i&2&&(r(5),p(" ",v(6,1,"ACTION.EDIT")," "))}function tn(i,n){if(i&1){let e=E();a(0,"div",18)(1,"a",55),M("click",function(){C(e);let t=u();return _(t.onActionButtonDeleteRow(t.tableRowSelected))}),g(2,"i",56)(3,"br"),s(),a(4,"p",21),m(5),h(6,"translate"),s()()}i&2&&(r(5),p(" ",v(6,1,"ACTION.DELETE")," "))}function on(i,n){if(i&1){let e=E();a(0,"div",18)(1,"a",57),M("click",function(){C(e);let t=u();return _(t.onActionButtonViewRow(t.tableRowSelected))}),g(2,"i",58)(3,"br"),s(),a(4,"p",21),m(5),h(6,"translate"),s()()}i&2&&(r(5),p(" ",v(6,1,"ACTION.VIEW")," "))}function nn(i,n){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();r(),p(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function rn(i,n){if(i&1&&(a(0,"mat-cell"),m(1),s()),i&2){let e=n.$implicit;r(),p(" ",e.id," ")}}function sn(i,n){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();r(),p(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function an(i,n){if(i&1&&(a(0,"mat-cell"),m(1),h(2,"cmssiteinfo"),h(3,"async"),s()),i&2){let e=n.$implicit;r(),p(" ",v(3,3,v(2,1,e.linkSiteId))," ")}}function ln(i,n){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();r(),p(" ",e.fieldsInfo.linkUserId==null?null:e.fieldsInfo.linkUserId.fieldTitle," ")}}function cn(i,n){if(i&1&&(a(0,"mat-cell"),m(1),h(2,"cmsuserinfo"),h(3,"async"),s()),i&2){let e=n.$implicit;r(),p(" ",v(3,3,v(2,1,e.linkUserId))," ")}}function mn(i,n){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();r(),p(" ",e.fieldsInfo.linkMemberUserId==null?null:e.fieldsInfo.linkMemberUserId.fieldTitle," ")}}function dn(i,n){if(i&1&&(a(0,"mat-cell"),m(1),s()),i&2){let e=n.$implicit;r(),p(" ",e.linkMemberUserId," ")}}function pn(i,n){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();r(),p(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function un(i,n){if(i&1&&g(0,"select",61),i&2){let e=u().$implicit,o=u();T("contentService",o.contentService)("row",e)("ngStyle",_e(3,Jo,e.id===(o.tableRowSelected==null?null:o.tableRowSelected.id)?"":"none"))}}function fn(i,n){if(i&1&&(a(0,"mat-cell",60),h(1,"statusCellClass"),g(2,"i",60),h(3,"statusIconClass"),R(4,un,1,5,"select",61),s()),i&2){let e=n.$implicit,o=u();T("ngClass",v(1,3,e.recordStatus)),r(2),T("ngClass",v(3,5,e.recordStatus)),r(2),y(!(o.dataModelResult==null||o.dataModelResult.access==null)&&o.dataModelResult.access.accessEditRow?4:-1)}}function Sn(i,n){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();r(),p(" ",e.fieldsInfo.userAccessAreaType==null?null:e.fieldsInfo.userAccessAreaType.fieldTitle," ")}}function hn(i,n){if(i&1&&(a(0,"mat-cell"),m(1),h(2,"enums"),s()),i&2){let e=n.$implicit,o=u();r(),p(" ",re(2,1,e.userAccessAreaType,o.dataModelEnumManageUserAccessAreaTypesResult.listItems)," ")}}function Cn(i,n){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();r(),p(" ",e.fieldsInfo.userType==null?null:e.fieldsInfo.userType.fieldTitle," ")}}function _n(i,n){if(i&1&&(a(0,"mat-cell"),m(1),h(2,"enums"),s()),i&2){let e=n.$implicit,o=u();r(),p(" ",re(2,1,e.userType,o.dataModelEnumManageUserAccessUserTypesResult.listItems)," ")}}function vn(i,n){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();r(),p(" ",e.fieldsInfo.userAccessAdminAllowToAllData==null?null:e.fieldsInfo.userAccessAdminAllowToAllData.fieldTitle," ")}}function gn(i,n){if(i&1&&(a(0,"mat-cell"),g(1,"i",60),h(2,"boolclass"),s()),i&2){let e=n.$implicit;r(),T("ngClass",v(2,1,e.userAccessAdminAllowToAllData))}}function Tn(i,n){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();r(),p(" ",e.fieldsInfo.userAccessAdminAllowToProfessionalData==null?null:e.fieldsInfo.userAccessAdminAllowToProfessionalData.fieldTitle," ")}}function bn(i,n){if(i&1&&(a(0,"mat-cell"),g(1,"i",60),h(2,"boolclass"),s()),i&2){let e=n.$implicit;r(),T("ngClass",v(2,1,e.userAccessAdminAllowToProfessionalData))}}function In(i,n){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();r(),p(" ",e.fieldsInfo.rememberOnDevice==null?null:e.fieldsInfo.rememberOnDevice.fieldTitle," ")}}function Mn(i,n){if(i&1&&(a(0,"mat-cell"),g(1,"i",60),h(2,"boolclass"),s()),i&2){let e=n.$implicit;r(),T("ngClass",v(2,1,e.rememberOnDevice))}}function wn(i,n){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();r(),p(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function An(i,n){if(i&1&&(a(0,"mat-cell",62),m(1),h(2,"localeDateTime"),s()),i&2){let e=n.$implicit;r(),p(" ",v(2,1,e.createdDate)," ")}}function kn(i,n){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();r(),p(" ",e.fieldsInfo.expireDate==null?null:e.fieldsInfo.expireDate.fieldTitle," ")}}function En(i,n){if(i&1&&(a(0,"mat-cell",63),m(1),h(2,"persianDate"),s()),i&2){let e=n.$implicit,o=u();T("ngStyle",_e(4,Xo,o.publicHelper.RowStyleExpireDate(e.expireDate))),r(),p(" ",v(2,2,e.expireDate)," ")}}function Rn(i,n){i&1&&(a(0,"mat-header-cell"),m(1),h(2,"translate"),s()),i&2&&(r(),p(" ",v(2,1,"TITLE.OPTION")," "))}function yn(i,n){if(i&1&&(a(0,"mat-cell",64)(1,"button",65)(2,"mat-icon"),m(3,"more_vert"),s()(),g(4,"mat-menu",null,2),s()),i&2){let e=K(5);r(),T("matMenuTriggerFor",e)}}function Dn(i,n){i&1&&g(0,"mat-header-row")}function Ln(i,n){if(i&1){let e=E();a(0,"mat-row",66),M("click",function(t){let l=C(e).$implicit,d=u();return _(d.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=C(e).$implicit,d=u();return _(d.onActionTableRowSelect(l,t))}),s()}if(i&2){let e=n.$implicit,o=u();J("ntk-row-selected",e.id===(o.tableRowSelected==null?null:o.tableRowSelected.id))}}var Si=class Si extends Qe{constructor(e,o,t,l,d,f,c,L,oe,Se,et,It){super(e,new xt,et,d,c);this.contentService=e;this.cmsToastrService=o;this.cmsConfirmationDialogService=t;this.activatedRoute=l;this.tokenHelper=d;this.cdr=f;this.translate=c;this.cmsStoreService=L;this.router=oe;this.pageInfo=Se;this.publicHelper=et;this.dialog=It;this.requestLinkSiteId=0;this.requestLinkUserId=0;this.requestLinkDeviceId=0;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new Ie;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["id","linkSiteId","linkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","createdDate","ExpireDate"];this.tabledisplayedColumnsMobileSource=["id","linkSiteId","linkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","createdDate","ExpireDate"];this.dataModelEnumManageUserAccessAreaTypesResult=new D;this.dataModelEnumManageUserAccessUserTypesResult=new D;this.unsubscribe=[];if(this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkDeviceId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkDeviceId")),this.requestLinkSiteId>0){let k=new A;k.propertyName="LinkCmsSiteId",k.value=this.requestLinkSiteId,this.filteModelContent.filters.push(k)}if(this.requestLinkUserId>0){let k=new A;k.propertyName="linkUserId",k.value=this.requestLinkUserId,this.filteModelContent.filters.push(k)}if(this.requestLinkDeviceId>0){let k=new A;k.propertyName="LinkDeviceId",k.value=this.requestLinkDeviceId,this.filteModelContent.filters.push(k)}this.optionsSearch.parentMethods={onSubmit:k=>this.onSubmitOptionsSearch(k)},this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=x.Descending,this.optionsSearch.data.filterModelContent=this.filteModelContent,this.optionsSearch.data.filterActionSearchRecordStatusShow=!0,this.tokenHelper.isAdminSite?(this.optionsSearch.data.filterActionSearchLinkUserIdShow=!0,this.optionsSearch.data.filterActionSearchLinkSiteIdShow=!0):(this.optionsSearch.data.filterActionSearchLinkSiteIdShow=!1,this.optionsSearch.data.filterActionSearchLinkUserIdShow=!1)}ngOnInit(){this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=x.Descending,this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>N(this,null,function*(){this.tokenInfo=e,this.DataGetAll()}))),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){}getEnumManageUserAccessUserTypes(){}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}filterModelCompiler(e){let o=JSON.parse(JSON.stringify(e));return this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(o.filters=[...this.filterDataModelQueryBuilder]),o}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new xt);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let o=this.filterModelCompiler(this.filteModelContent);if(this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(o.filters=[...this.filterDataModelQueryBuilder]),this.filteModelContent.filterActionSearchRecordStatus>0){let t=new A;t.propertyName="recordStatus",t.value=this.filteModelContent.filterActionSearchRecordStatus,o.filters.push(t)}if(this.filteModelContent.filterActionSearchLinkSiteId>0){let t=new A;t.propertyName="linkSiteId",t.value=this.filteModelContent.filterActionSearchLinkSiteId,o.filters.push(t)}if(this.filteModelContent.filterActionSearchLinkUserId>0){let t=new A;t.propertyName="linkUserId",t.value=this.filteModelContent.filterActionSearchLinkUserId,o.filters.push(t)}this.contentService.ServiceGetAllEditor(o).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=x.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=x.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=x.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonViewRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var o="";this.publicHelper.isMobile?o="dialog-fullscreen":o="dialog-min",this.dialog.open(Zi,{height:"90%",panelClass:o,enterAnimationDuration:Q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate})}onActionButtonEditRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var o="";this.publicHelper.isMobile?o="dialog-fullscreen":o="dialog-min",this.dialog.open(Xi,{height:"90%",panelClass:o,enterAnimationDuration:Q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(l=>{this.cmsToastrService.typeErrorSelected(l)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var o="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(l=>{o=l["MESSAGE.Please_Confirm"],t=l["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(o,t).then(l=>{if(l){let d=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(f=>{this.publicHelper.processService.processStart(d,f,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:f=>{f.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(d)},error:f=>{this.cmsToastrService.typeError(f),this.publicHelper.processService.processStop(d,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let o=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{o.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{o.set(c,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructorInfoAreaId)});let l=this.filterModelCompiler(this.filteModelContent);if(this.filteModelContent.filterActionSearchRecordStatus>0){let c=new A;c.propertyName="recordStatus",c.value=this.filteModelContent.filterActionSearchRecordStatus,l.filters.push(c)}if(this.filteModelContent.filterActionSearchLinkSiteId>0){let c=new A;c.propertyName="linkSiteId",c.value=this.filteModelContent.filterActionSearchLinkSiteId,l.filters.push(c)}if(this.filteModelContent.filterActionSearchLinkUserId>0){let c=new A;c.propertyName="linkUserId",c.value=this.filteModelContent.filterActionSearchLinkUserId,l.filters.push(c)}this.contentService.ServiceGetCount(l).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(L=>{o.set(L,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}});let d=this.filterModelCompiler(this.filteModelContent);if(this.filteModelContent.filterActionSearchRecordStatus>0){let c=new A;c.propertyName="recordStatus",c.value=this.filteModelContent.filterActionSearchRecordStatus,d.filters.push(c)}if(this.filteModelContent.filterActionSearchLinkSiteId>0){let c=new A;c.propertyName="linkSiteId",c.value=this.filteModelContent.filterActionSearchLinkSiteId,d.filters.push(c)}if(this.filteModelContent.filterActionSearchLinkUserId>0){let c=new A;c.propertyName="linkUserId",c.value=this.filteModelContent.filterActionSearchLinkUserId,d.filters.push(c)}let f=new A;f.propertyName="recordStatus",f.value=be.Available,d.filters.push(f),this.contentService.ServiceGetCount(d).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(L=>{o.set(L,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonViewUserRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkUserId||this.tableRowSelected.linkUserId===0){this.translate.get("MESSAGE.content_does_not_contain_user_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId])}onActionButtonViewSiteRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkSiteId||this.tableRowSelected.linkSiteId===0){this.translate.get("MESSAGE.content_does_not_include_site_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};Si.\u0275fac=function(o){return new(o||Si)(S(kt),S(q),S(Ce),S(ge),S(j),S(P),S(G),S(F),S(Te),S(je),S(W),S(we))},Si.\u0275cmp=O({type:Si,selectors:[["app-coretoken-user-list"]],standalone:!1,features:[z],decls:89,vars:38,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionId"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-globe","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","linkSiteId"],["matColumnDef","linkUserId"],["matColumnDef","LinkMemberUserId"],["matColumnDef","recordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","UserAccessAreaType"],["matColumnDef","UserType"],["matColumnDef","UserAccessAdminAllowToAllData"],["matColumnDef","UserAccessAdminAllowToProfessionalData"],["matColumnDef","RememberOnDevice"],["matColumnDef","createdDate"],["style","direction: ltr",4,"matCellDef"],["matColumnDef","ExpireDate"],[3,"ngStyle",4,"matCellDef"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","target","_blank","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[2,"direction","ltr"],[3,"ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(o,t){if(o&1){let l=E();R(0,Yo,1,1,"app-core-user-header",3),a(1,"app-cms-html-list",4),V("optionActionGuideNoticeDisplayChange",function(f){return C(l),B(t.viewGuideNotice,f)||(t.viewGuideNotice=f),_(f)}),M("optionOnActionButtonMemoRow",function(){return C(l),_(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return C(l),_(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return C(l),_(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return C(l),_(t.onActionButtonPrintRow())}),b(2,5),m(3," -------------------------------------- "),I(),ne(4,6)(5,7),b(6,8),R(7,Zo,2,0,"a",9),a(8,"a",10),M("click",function(){return C(l),_(t.viewGuideNotice=!t.viewGuideNotice)}),g(9,"i",11),s(),a(10,"a",10),M("click",function(){return C(l),_(t.onActionButtonReload())}),g(11,"i",12),s(),I(),b(12,13),a(13,"a",14),M("click",function(){return C(l),_(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),g(14,"mat-slide-toggle",15),m(15),h(16,"translate"),s(),a(17,"a",14),M("click",function(){return C(l),_(t.onActionButtonStatist())}),g(18,"mat-slide-toggle",15),m(19),h(20,"translate"),s(),I(),ne(21,16),b(22,17),R(23,en,7,3,"div",18),R(24,tn,7,3,"div",18),a(25,"div",18)(26,"a",19),M("click",function(){return C(l),_(t.onActionButtonViewSiteRow(t.tableRowSelected))}),g(27,"i",20),s(),a(28,"p",21),m(29),h(30,"translate"),s()(),a(31,"div",18)(32,"a",19),M("click",function(){return C(l),_(t.onActionButtonViewUserRow(t.tableRowSelected))}),g(33,"i",22)(34,"br"),s(),a(35,"p",21),m(36),h(37,"translate"),s()(),R(38,on,7,3,"div",18),I(),b(39,23),a(40,"app-cms-search-list",24),V("optionsChange",function(f){return C(l),B(t.optionsSearch,f)||(t.optionsSearch=f),_(f)}),s(),a(41,"app-cms-statist-list",24),V("optionsChange",function(f){return C(l),B(t.optionsStatist,f)||(t.optionsStatist=f),_(f)}),s(),I(),b(42,25),a(43,"mat-table",26,0),M("matSortChange",function(){C(l);let f=K(44);return _(t.onTableSortData(f))}),b(45,27),w(46,nn,2,1,"mat-header-cell",28)(47,rn,2,1,"mat-cell",29),I(),b(48,30),w(49,sn,2,1,"mat-header-cell",28)(50,an,4,5,"mat-cell",29),I(),b(51,31),w(52,ln,2,1,"mat-header-cell",28)(53,cn,4,5,"mat-cell",29),I(),b(54,32),w(55,mn,2,1,"mat-header-cell",28)(56,dn,2,1,"mat-cell",29),I(),b(57,33),w(58,pn,2,1,"mat-header-cell",28)(59,fn,5,7,"mat-cell",34),I(),b(60,35),w(61,Sn,2,1,"mat-header-cell",28)(62,hn,3,4,"mat-cell",29),I(),b(63,36),w(64,Cn,2,1,"mat-header-cell",28)(65,_n,3,4,"mat-cell",29),I(),b(66,37),w(67,vn,2,1,"mat-header-cell",28)(68,gn,3,3,"mat-cell",29),I(),b(69,38),w(70,Tn,2,1,"mat-header-cell",28)(71,bn,3,3,"mat-cell",29),I(),b(72,39),w(73,In,2,1,"mat-header-cell",28)(74,Mn,3,3,"mat-cell",29),I(),b(75,40),w(76,wn,2,1,"mat-header-cell",28)(77,An,3,3,"mat-cell",41),I(),b(78,42),w(79,kn,2,1,"mat-header-cell",28)(80,En,3,6,"mat-cell",43),I(),b(81,44),w(82,Rn,3,3,"mat-header-cell",45)(83,yn,6,1,"mat-cell",46),I(),w(84,Dn,1,0,"mat-header-row",47)(85,Ln,1,2,"mat-row",48),s(),I(),b(86,49),a(87,"mat-paginator",50,1),M("page",function(f){return C(l),_(t.onTablePageingData(f))}),s(),I(),s()}o&2&&(y(t.requestLinkUserId>0?0:-1),r(),T("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),U("optionActionGuideNoticeDisplay",t.viewGuideNotice),T("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),r(6),y(t.requestLinkSiteId>0?7:-1),r(4),J("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),r(3),T("checked",t.optionsSearch.data.show),r(),p("",v(16,29,"ACTION.SEARCH")," "),r(3),T("checked",t.optionsStatist.data.show),r(),p("",v(20,31,"ACTION.STATIST")," "),r(4),y(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?23:-1),r(),y(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?24:-1),r(5),p(" ",v(30,33,"ACTION.SITE")," "),r(7),p(" ",v(37,35,"ACTION.USER")," "),r(2),y(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessWatchRow&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0?38:-1),r(2),U("options",t.optionsSearch),r(),U("options",t.optionsStatist),r(2),T("dataSource",t.tableSource),r(41),T("matHeaderRowDef",t.tabledisplayedColumns),r(),T("matRowDefColumns",t.tabledisplayedColumns),r(2),T("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",he(37,Ko)))},dependencies:[tt,dt,Me,Ae,lt,ke,Ee,Re,ye,De,Le,xe,Be,Pe,Ve,Ue,Ge,Oe,Ne,He,Fe,$e,ze,Ke,Je,ht,Ye,ve,H,vt,Ze,qe,Xe,We,Ct,_t,ot],encapsulation:2});var eo=Si;var Ci=class Ci{constructor(){this.constructorInfoAreaId=this.constructor.name}ngOnInit(){}};Ci.\u0275fac=function(e){return new(e||Ci)},Ci.\u0275cmp=O({type:Ci,selectors:[["app-core-token"]],standalone:!1,decls:1,vars:0,template:function(e,o){e&1&&g(0,"router-outlet")},dependencies:[Ao],encapsulation:2});var to=Ci;var xn=["vform"];function Un(i,n){if(i&1){let e=E();a(0,"app-cms-enum-record-status-selector",7),V("modelChange",function(t){C(e);let l=u();return B(l.dataModel.recordStatus,t)||(l.dataModel.recordStatus=t),_(t)}),s()}if(i&2){let e=u();U("model",e.dataModel.recordStatus),T("optionDisabled",!((e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.accessEditField)??!1))("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Bn(i,n){if(i&1){let e=E();a(0,"div",6)(1,"button",8),M("click",function(){C(e);let t=u();return _(t.onFormCancel())}),g(2,"i",9),m(3),h(4,"translate"),s()()}i&2&&(r(3),p(" ",v(4,1,"ACTION.CANCEL")," "))}var _i=class _i extends ft{constructor(e,o,t,l,d,f,c,L,oe,Se){super(l,new Dt,f,Se);this.data=e;this.dialogRef=o;this.coreEnumService=t;this.coreLogTokenMicroServiceService=l;this.cmsToastrService=d;this.publicHelper=f;this.cdr=c;this.tokenHelper=L;this.cmsStoreService=oe;this.translate=Se;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new D;this.dataModel=new Dt;this.dataModelEnumManageUserAccessAreaTypesResult=new D;this.dataModelEnumManageUserAccessUserTypesResult=new D;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id)}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>N(this,null,function*(){this.tokenInfo=e}))),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){this.coreEnumService.ServiceManageUserAccessAreaTypesEnum().subscribe({next:e=>{this.dataModelEnumManageUserAccessAreaTypesResult=e}})}getEnumManageUserAccessUserTypes(){this.coreEnumService.ServiceManageUserAccessUserTypesEnum().subscribe({next:e=>{this.dataModelEnumManageUserAccessUserTypesResult=e}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(o=>{this.formInfo.submitResultMessage=o}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(o=>{this.publicHelper.processService.processStart(e,o,this.constructorInfoAreaId)}),this.coreLogTokenMicroServiceService.setAccessLoad(),this.coreLogTokenMicroServiceService.setAccessDataType(pt.Editor),this.coreLogTokenMicroServiceService.ServiceGetOneById(this.requestId).subscribe({next:o=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModel=o.item,o.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+o.item.id,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=o.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(o.errorMessage)),this.publicHelper.processService.processStop(e)},error:o=>{this.cmsToastrService.typeError(o),this.publicHelper.processService.processStop(e,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};_i.\u0275fac=function(o){return new(o||_i)(S(te),S(ee),S($),S(At),S(q),S(W),S(P),S(j),S(F),S(G))},_i.\u0275cmp=O({type:_i,selectors:[["app-coretoken-microservicelog-edit"]],viewQuery:function(o,t){if(o&1&&X(xn,5),o&2){let l;Y(l=Z())&&(t.formGroup=l.first)}},standalone:!1,features:[z],decls:14,vars:17,consts:[[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],[1,"form-actions"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(o,t){o&1&&(a(0,"div",0),g(1,"app-progress-spinner",1),a(2,"div",2)(3,"p",3),m(4),s(),a(5,"p"),m(6),h(7,"translate"),s(),R(8,Un,1,5,"app-cms-enum-record-status-selector",4),g(9,"app-cms-site-selector",5),h(10,"translate"),g(11,"app-cms-user-selector",5),h(12,"translate"),R(13,Bn,5,3,"div",6),s()()),o&2&&(r(),T("optionsInfoAreaId",t.constructorInfoAreaId),r(3),p(" ",t.formInfo.formTitle," "),r(2),p(" ",v(7,11,"TITLE.Be_Careful_When_Entering_Information")," "),r(2),y(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?8:-1),r(),T("optionDisabled",!0)("optionSelectForce",t.dataModel.linkSiteId)("optionPlaceholder",v(10,13,"TITLE.WEBSITE")),r(2),T("optionDisabled",!0)("optionSelectForce",t.dataModel.linkUserId)("optionPlaceholder",v(12,15,"TITLE.USER")),r(2),y(t.formInfo.submitButtonEnabled?13:-1))},dependencies:[ut,bt,St,ie,H],encapsulation:2});var io=_i;var Vn=["vform"];function On(i,n){if(i&1){let e=E();a(0,"div",7)(1,"button",8),M("click",function(){C(e);let t=u();return _(t.onFormCancel())}),g(2,"i",9),m(3),h(4,"translate"),s()()}i&2&&(r(3),p(" ",v(4,1,"ACTION.CANCEL")," "))}var vi=class vi{constructor(n,e,o,t,l,d,f,c,L,oe){this.data=n;this.dialogRef=e;this.coreEnumService=o;this.coreLogTokenMicroServiceService=t;this.cmsToastrService=l;this.tokenHelper=d;this.cmsStoreService=f;this.cdr=c;this.publicHelper=L;this.translate=oe;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.tokenInfo=new it;this.dataModelResult=new D;this.dataModel=new Dt;this.formInfo=new nt;this.dataModelEnumSendSmsStatusTypeResult=new D;this.fieldsInfo=new Map;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,n&&(this.requestId=n.id+"")}ngOnInit(){if(this.translate.get("TITLE.VIEW").subscribe(n=>{this.formInfo.formTitle=n}),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(n=>n.tokenInfoStore).subscribe(n=>N(this,null,function*(){this.tokenInfo=n}))),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:n=>{this.dataModelEnumSendSmsStatusTypeResult=n}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(n=>n.unsubscribe())}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage="";let n=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(n,e,this.constructorInfoAreaId)}),this.coreLogTokenMicroServiceService.setAccessLoad(),this.coreLogTokenMicroServiceService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModel=e.item,e.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+e.item.id,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(o=>{this.formInfo.submitResultMessage=o}),this.formInfo.submitResultMessage=e.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(e.errorMessage)),this.publicHelper.processService.processStop(n)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(n,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};vi.\u0275fac=function(e){return new(e||vi)(S(te),S(ee),S($),S(At),S(q),S(j),S(F),S(P),S(W),S(G))},vi.\u0275cmp=O({type:vi,selectors:[["app-core-token-microservicelog-view"]],viewQuery:function(e,o){if(e&1&&X(Vn,5),e&2){let t;Y(t=Z())&&(o.formGroup=t.first)}},standalone:!1,decls:9,vars:6,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection","loader-container"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[3,"formInfo"],[1,"ntk-cms-html-card-footer"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,o){e&1&&(a(0,"div",0),m(1),s(),a(2,"div",1),g(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),s(),a(5,"div",4),g(6,"app-cms-form-result-message",5),s(),a(7,"div",6),R(8,On,5,3,"div",7),s()),e&2&&(r(),p(" ",o.formInfo.formTitle," "),r(2),T("optionsInfoAreaId",o.constructorInfoAreaId),r(),T("dataModel",o.dataModel)("optionMethod",1),r(2),T("formInfo",o.formInfo),r(2),y(o.formInfo.submitButtonEnabled?8:-1))},dependencies:[ie,st,rt,H],encapsulation:2});var oo=vi;var Nn=()=>[5,10,20,100],Pn=i=>({display:i}),Gn=i=>({background:i});function Hn(i,n){if(i&1&&g(0,"app-core-user-header",3),i&2){let e=u();T("optionId",e.requestLinkUserId)}}function Fn(i,n){if(i&1){let e=E();a(0,"a",51),M("click",function(){C(e);let t=u();return _(t.onActionBackToParent())}),g(1,"i",52),s()}}function jn(i,n){if(i&1){let e=E();a(0,"div",18)(1,"a",53),M("click",function(){C(e);let t=u();return _(t.onActionButtonEditRow(t.tableRowSelected))}),g(2,"i",54)(3,"br"),s(),a(4,"p",21),m(5),h(6,"translate"),s()()}i&2&&(r(5),p(" ",v(6,1,"ACTION.EDIT")," "))}function qn(i,n){if(i&1){let e=E();a(0,"div",18)(1,"a",55),M("click",function(){C(e);let t=u();return _(t.onActionButtonDeleteRow(t.tableRowSelected))}),g(2,"i",56)(3,"br"),s(),a(4,"p",21),m(5),h(6,"translate"),s()()}i&2&&(r(5),p(" ",v(6,1,"ACTION.DELETE")," "))}function Wn(i,n){if(i&1){let e=E();a(0,"div",18)(1,"a",57),M("click",function(){C(e);let t=u();return _(t.onActionButtonViewRow(t.tableRowSelected))}),g(2,"i",58)(3,"br"),s(),a(4,"p",21),m(5),h(6,"translate"),s()()}i&2&&(r(5),p(" ",v(6,1,"ACTION.VIEW")," "))}function Qn(i,n){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();r(),p(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function $n(i,n){if(i&1&&(a(0,"mat-cell"),m(1),s()),i&2){let e=n.$implicit;r(),p(" ",e.id," ")}}function zn(i,n){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();r(),p(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function Kn(i,n){if(i&1&&(a(0,"mat-cell"),m(1),h(2,"cmssiteinfo"),h(3,"async"),s()),i&2){let e=n.$implicit;r(),p(" ",v(3,3,v(2,1,e.linkSiteId))," ")}}function Jn(i,n){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();r(),p(" ",e.fieldsInfo.linkUserId==null?null:e.fieldsInfo.linkUserId.fieldTitle," ")}}function Xn(i,n){if(i&1&&(a(0,"mat-cell"),m(1),h(2,"cmsuserinfo"),h(3,"async"),s()),i&2){let e=n.$implicit;r(),p(" ",v(3,3,v(2,1,e.linkUserId))," ")}}function Yn(i,n){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();r(),p(" ",e.fieldsInfo.linkMemberUserId==null?null:e.fieldsInfo.linkMemberUserId.fieldTitle," ")}}function Zn(i,n){if(i&1&&(a(0,"mat-cell"),m(1),s()),i&2){let e=n.$implicit;r(),p(" ",e.linkMemberUserId," ")}}function er(i,n){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();r(),p(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function tr(i,n){if(i&1&&g(0,"select",61),i&2){let e=u().$implicit,o=u();T("contentService",o.contentService)("row",e)("ngStyle",_e(3,Pn,e.id===(o.tableRowSelected==null?null:o.tableRowSelected.id)?"":"none"))}}function ir(i,n){if(i&1&&(a(0,"mat-cell",60),h(1,"statusCellClass"),g(2,"i",60),h(3,"statusIconClass"),R(4,tr,1,5,"select",61),s()),i&2){let e=n.$implicit,o=u();T("ngClass",v(1,3,e.recordStatus)),r(2),T("ngClass",v(3,5,e.recordStatus)),r(2),y(!(o.dataModelResult==null||o.dataModelResult.access==null)&&o.dataModelResult.access.accessEditRow?4:-1)}}function or(i,n){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();r(),p(" ",e.fieldsInfo.userAccessAreaType==null?null:e.fieldsInfo.userAccessAreaType.fieldTitle," ")}}function nr(i,n){if(i&1&&(a(0,"mat-cell"),m(1),h(2,"enums"),s()),i&2){let e=n.$implicit,o=u();r(),p(" ",re(2,1,e.userAccessAreaType,o.dataModelEnumManageUserAccessAreaTypesResult.listItems)," ")}}function rr(i,n){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();r(),p(" ",e.fieldsInfo.userType==null?null:e.fieldsInfo.userType.fieldTitle," ")}}function sr(i,n){if(i&1&&(a(0,"mat-cell"),m(1),h(2,"enums"),s()),i&2){let e=n.$implicit,o=u();r(),p(" ",re(2,1,e.userType,o.dataModelEnumManageUserAccessUserTypesResult.listItems)," ")}}function ar(i,n){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();r(),p(" ",e.fieldsInfo.userAccessAdminAllowToAllData==null?null:e.fieldsInfo.userAccessAdminAllowToAllData.fieldTitle," ")}}function lr(i,n){if(i&1&&(a(0,"mat-cell"),g(1,"i",60),h(2,"boolclass"),s()),i&2){let e=n.$implicit;r(),T("ngClass",v(2,1,e.userAccessAdminAllowToAllData))}}function cr(i,n){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();r(),p(" ",e.fieldsInfo.userAccessAdminAllowToProfessionalData==null?null:e.fieldsInfo.userAccessAdminAllowToProfessionalData.fieldTitle," ")}}function mr(i,n){if(i&1&&(a(0,"mat-cell"),g(1,"i",60),h(2,"boolclass"),s()),i&2){let e=n.$implicit;r(),T("ngClass",v(2,1,e.userAccessAdminAllowToProfessionalData))}}function dr(i,n){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();r(),p(" ",e.fieldsInfo.rememberOnDevice==null?null:e.fieldsInfo.rememberOnDevice.fieldTitle," ")}}function pr(i,n){if(i&1&&(a(0,"mat-cell"),g(1,"i",60),h(2,"boolclass"),s()),i&2){let e=n.$implicit;r(),T("ngClass",v(2,1,e.rememberOnDevice))}}function ur(i,n){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();r(),p(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function fr(i,n){if(i&1&&(a(0,"mat-cell",62),m(1),h(2,"localeDateTime"),s()),i&2){let e=n.$implicit;r(),p(" ",v(2,1,e.createdDate)," ")}}function Sr(i,n){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();r(),p(" ",e.fieldsInfo.expireDate==null?null:e.fieldsInfo.expireDate.fieldTitle," ")}}function hr(i,n){if(i&1&&(a(0,"mat-cell",63),m(1),h(2,"persianDate"),s()),i&2){let e=n.$implicit,o=u();T("ngStyle",_e(4,Gn,o.publicHelper.RowStyleExpireDate(e.expireDate))),r(),p(" ",v(2,2,e.expireDate)," ")}}function Cr(i,n){i&1&&(a(0,"mat-header-cell"),m(1),h(2,"translate"),s()),i&2&&(r(),p(" ",v(2,1,"TITLE.OPTION")," "))}function _r(i,n){if(i&1&&(a(0,"mat-cell",64)(1,"button",65)(2,"mat-icon"),m(3,"more_vert"),s()(),g(4,"mat-menu",null,2),s()),i&2){let e=K(5);r(),T("matMenuTriggerFor",e)}}function vr(i,n){i&1&&g(0,"mat-header-row")}function gr(i,n){if(i&1){let e=E();a(0,"mat-row",66),M("click",function(t){let l=C(e).$implicit,d=u();return _(d.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=C(e).$implicit,d=u();return _(d.onActionTableRowSelect(l,t))}),s()}if(i&2){let e=n.$implicit,o=u();J("ntk-row-selected",e.id===(o.tableRowSelected==null?null:o.tableRowSelected.id))}}var gi=class gi extends Qe{constructor(e,o,t,l,d,f,c,L,oe,Se,et,It){super(e,new Dt,et,d,c);this.contentService=e;this.cmsToastrService=o;this.cmsConfirmationDialogService=t;this.activatedRoute=l;this.tokenHelper=d;this.cdr=f;this.translate=c;this.cmsStoreService=L;this.router=oe;this.pageInfo=Se;this.publicHelper=et;this.dialog=It;this.requestLinkSiteId=0;this.requestLinkUserId=0;this.requestLinkDeviceId=0;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new Ie;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["id","linkSiteId","linkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","createdDate","ExpireDate"];this.tabledisplayedColumnsMobileSource=["id","linkSiteId","linkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","createdDate","ExpireDate"];this.dataModelEnumManageUserAccessAreaTypesResult=new D;this.dataModelEnumManageUserAccessUserTypesResult=new D;this.unsubscribe=[];if(this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkDeviceId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkDeviceId")),this.requestLinkSiteId>0){let k=new A;k.propertyName="LinkCmsSiteId",k.value=this.requestLinkSiteId,this.filteModelContent.filters.push(k)}if(this.requestLinkUserId>0){let k=new A;k.propertyName="linkUserId",k.value=this.requestLinkUserId,this.filteModelContent.filters.push(k)}if(this.requestLinkDeviceId>0){let k=new A;k.propertyName="LinkDeviceId",k.value=this.requestLinkDeviceId,this.filteModelContent.filters.push(k)}this.optionsSearch.parentMethods={onSubmit:k=>this.onSubmitOptionsSearch(k)},this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=x.Descending,this.optionsSearch.data.filterModelContent=this.filteModelContent,this.optionsSearch.data.filterActionSearchRecordStatusShow=!0,this.tokenHelper.isAdminSite?(this.optionsSearch.data.filterActionSearchLinkUserIdShow=!0,this.optionsSearch.data.filterActionSearchLinkSiteIdShow=!0):(this.optionsSearch.data.filterActionSearchLinkSiteIdShow=!1,this.optionsSearch.data.filterActionSearchLinkUserIdShow=!1)}ngOnInit(){this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=x.Descending,this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>N(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}filterModelCompiler(e){let o=JSON.parse(JSON.stringify(e));return this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(o.filters=[...this.filterDataModelQueryBuilder]),o}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Dt);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let o=this.filterModelCompiler(this.filteModelContent);if(this.filteModelContent.filterActionSearchRecordStatus>0){let t=new A;t.propertyName="recordStatus",t.value=this.filteModelContent.filterActionSearchRecordStatus,o.filters.push(t)}if(this.filteModelContent.filterActionSearchLinkSiteId>0){let t=new A;t.propertyName="linkSiteId",t.value=this.filteModelContent.filterActionSearchLinkSiteId,o.filters.push(t)}if(this.filteModelContent.filterActionSearchLinkUserId>0){let t=new A;t.propertyName="linkUserId",t.value=this.filteModelContent.filterActionSearchLinkUserId,o.filters.push(t)}this.contentService.ServiceGetAllEditor(o).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=x.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=x.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=x.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonViewRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var o="";this.publicHelper.isMobile?o="dialog-fullscreen":o="dialog-min",this.dialog.open(oo,{height:"90%",panelClass:o,enterAnimationDuration:Q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate})}onActionButtonEditRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var o="";this.publicHelper.isMobile?o="dialog-fullscreen":o="dialog-min",this.dialog.open(io,{height:"90%",panelClass:o,enterAnimationDuration:Q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(l=>{this.cmsToastrService.typeErrorSelected(l)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var o="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(l=>{o=l["MESSAGE.Please_Confirm"],t=l["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(o,t).then(l=>{if(l){let d=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(f=>{this.publicHelper.processService.processStart(d,f,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:f=>{f.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(d)},error:f=>{this.cmsToastrService.typeError(f),this.publicHelper.processService.processStop(d,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let o=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{o.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{o.set(c,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructorInfoAreaId)});let l=this.filterModelCompiler(this.filteModelContent);if(this.filteModelContent.filterActionSearchRecordStatus>0){let c=new A;c.propertyName="recordStatus",c.value=this.filteModelContent.filterActionSearchRecordStatus,l.filters.push(c)}if(this.filteModelContent.filterActionSearchLinkSiteId>0){let c=new A;c.propertyName="linkSiteId",c.value=this.filteModelContent.filterActionSearchLinkSiteId,l.filters.push(c)}if(this.filteModelContent.filterActionSearchLinkUserId>0){let c=new A;c.propertyName="linkUserId",c.value=this.filteModelContent.filterActionSearchLinkUserId,l.filters.push(c)}this.contentService.ServiceGetCount(l).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(L=>{o.set(L,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}});let d=this.filterModelCompiler(this.filteModelContent);if(this.filteModelContent.filterActionSearchRecordStatus>0){let c=new A;c.propertyName="recordStatus",c.value=this.filteModelContent.filterActionSearchRecordStatus,d.filters.push(c)}if(this.filteModelContent.filterActionSearchLinkSiteId>0){let c=new A;c.propertyName="linkSiteId",c.value=this.filteModelContent.filterActionSearchLinkSiteId,d.filters.push(c)}if(this.filteModelContent.filterActionSearchLinkUserId>0){let c=new A;c.propertyName="linkUserId",c.value=this.filteModelContent.filterActionSearchLinkUserId,d.filters.push(c)}let f=new A;f.propertyName="recordStatus",f.value=be.Available,d.filters.push(f),this.contentService.ServiceGetCount(d).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(L=>{o.set(L,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonViewUserRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkUserId||this.tableRowSelected.linkUserId===0){this.translate.get("MESSAGE.content_does_not_contain_user_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId])}onActionButtonViewSiteRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkSiteId||this.tableRowSelected.linkSiteId===0){this.translate.get("MESSAGE.content_does_not_include_site_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};gi.\u0275fac=function(o){return new(o||gi)(S(At),S(q),S(Ce),S(ge),S(j),S(P),S(G),S(F),S(Te),S(je),S(W),S(we))},gi.\u0275cmp=O({type:gi,selectors:[["app-coretoken-microservicelog-list"]],standalone:!1,features:[z],decls:86,vars:34,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionId"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-globe","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","linkSiteId"],["matColumnDef","linkUserId"],["matColumnDef","LinkMemberUserId"],["matColumnDef","recordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","UserAccessAreaType"],["matColumnDef","UserType"],["matColumnDef","UserAccessAdminAllowToAllData"],["matColumnDef","UserAccessAdminAllowToProfessionalData"],["matColumnDef","RememberOnDevice"],["matColumnDef","createdDate"],["style","direction: ltr",4,"matCellDef"],["matColumnDef","ExpireDate"],[3,"ngStyle",4,"matCellDef"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","target","_blank","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[2,"direction","ltr"],[3,"ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(o,t){if(o&1){let l=E();R(0,Hn,1,1,"app-core-user-header",3),a(1,"app-cms-html-list",4),V("optionActionGuideNoticeDisplayChange",function(f){return C(l),B(t.viewGuideNotice,f)||(t.viewGuideNotice=f),_(f)}),M("optionOnActionButtonMemoRow",function(){return C(l),_(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return C(l),_(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return C(l),_(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return C(l),_(t.onActionButtonPrintRow())}),b(2,5),m(3," -------------------------------------- "),I(),ne(4,6)(5,7),b(6,8),R(7,Fn,2,0,"a",9),a(8,"a",10),M("click",function(){return C(l),_(t.viewGuideNotice=!t.viewGuideNotice)}),g(9,"i",11),s(),a(10,"a",10),M("click",function(){return C(l),_(t.onActionButtonReload())}),g(11,"i",12),s(),I(),b(12,13),a(13,"a",14),M("click",function(){return C(l),_(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),g(14,"mat-slide-toggle",15),m(15),h(16,"translate"),s(),I(),ne(17,16),b(18,17),R(19,jn,7,3,"div",18),R(20,qn,7,3,"div",18),a(21,"div",18)(22,"a",19),M("click",function(){return C(l),_(t.onActionButtonViewSiteRow(t.tableRowSelected))}),g(23,"i",20)(24,"br"),s(),a(25,"p",21),m(26),h(27,"translate"),s()(),a(28,"div",18)(29,"a",19),M("click",function(){return C(l),_(t.onActionButtonViewUserRow(t.tableRowSelected))}),g(30,"i",22)(31,"br"),s(),a(32,"p",21),m(33),h(34,"translate"),s()(),R(35,Wn,7,3,"div",18),I(),b(36,23),a(37,"app-cms-search-list",24),V("optionsChange",function(f){return C(l),B(t.optionsSearch,f)||(t.optionsSearch=f),_(f)}),s(),a(38,"app-cms-statist-list",24),V("optionsChange",function(f){return C(l),B(t.optionsStatist,f)||(t.optionsStatist=f),_(f)}),s(),I(),b(39,25),a(40,"mat-table",26,0),M("matSortChange",function(){C(l);let f=K(41);return _(t.onTableSortData(f))}),b(42,27),w(43,Qn,2,1,"mat-header-cell",28)(44,$n,2,1,"mat-cell",29),I(),b(45,30),w(46,zn,2,1,"mat-header-cell",28)(47,Kn,4,5,"mat-cell",29),I(),b(48,31),w(49,Jn,2,1,"mat-header-cell",28)(50,Xn,4,5,"mat-cell",29),I(),b(51,32),w(52,Yn,2,1,"mat-header-cell",28)(53,Zn,2,1,"mat-cell",29),I(),b(54,33),w(55,er,2,1,"mat-header-cell",28)(56,ir,5,7,"mat-cell",34),I(),b(57,35),w(58,or,2,1,"mat-header-cell",28)(59,nr,3,4,"mat-cell",29),I(),b(60,36),w(61,rr,2,1,"mat-header-cell",28)(62,sr,3,4,"mat-cell",29),I(),b(63,37),w(64,ar,2,1,"mat-header-cell",28)(65,lr,3,3,"mat-cell",29),I(),b(66,38),w(67,cr,2,1,"mat-header-cell",28)(68,mr,3,3,"mat-cell",29),I(),b(69,39),w(70,dr,2,1,"mat-header-cell",28)(71,pr,3,3,"mat-cell",29),I(),b(72,40),w(73,ur,2,1,"mat-header-cell",28)(74,fr,3,3,"mat-cell",41),I(),b(75,42),w(76,Sr,2,1,"mat-header-cell",28)(77,hr,3,6,"mat-cell",43),I(),b(78,44),w(79,Cr,3,3,"mat-header-cell",45)(80,_r,6,1,"mat-cell",46),I(),w(81,vr,1,0,"mat-header-row",47)(82,gr,1,2,"mat-row",48),s(),I(),b(83,49),a(84,"mat-paginator",50,1),M("page",function(f){return C(l),_(t.onTablePageingData(f))}),s(),I(),s()}o&2&&(y(t.requestLinkUserId>0?0:-1),r(),T("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),U("optionActionGuideNoticeDisplay",t.viewGuideNotice),T("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),r(6),y(t.requestLinkSiteId>0?7:-1),r(4),J("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),r(3),T("checked",t.optionsSearch.data.show),r(),p("",v(16,27,"ACTION.SEARCH")," "),r(4),y(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?19:-1),r(),y(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?20:-1),r(6),p(" ",v(27,29,"ACTION.SITE")," "),r(7),p(" ",v(34,31,"ACTION.USER")," "),r(2),y(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessWatchRow&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0?35:-1),r(2),U("options",t.optionsSearch),r(),U("options",t.optionsStatist),r(2),T("dataSource",t.tableSource),r(41),T("matHeaderRowDef",t.tabledisplayedColumns),r(),T("matRowDefColumns",t.tabledisplayedColumns),r(2),T("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",he(33,Nn)))},dependencies:[tt,dt,Me,Ae,lt,ke,Ee,Re,ye,De,Le,xe,Be,Pe,Ve,Ue,Ge,Oe,Ne,He,Fe,$e,ze,Ke,Je,ht,Ye,ve,H,vt,Ze,qe,Xe,We,Ct,_t,ot],encapsulation:2});var no=gi;var Tr=["vform"];function br(i,n){if(i&1){let e=E();a(0,"app-cms-enum-record-status-selector",7),V("modelChange",function(t){C(e);let l=u();return B(l.dataModel.recordStatus,t)||(l.dataModel.recordStatus=t),_(t)}),s()}if(i&2){let e=u();U("model",e.dataModel.recordStatus),T("optionDisabled",!((e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.accessEditField)??!1))("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Ir(i,n){if(i&1&&(a(0,"div"),g(1,"div",8),h(2,"prettyjson"),s()),i&2){let e=u();r(),T("innerHTML",v(2,1,e.dataModel),ci)}}function Mr(i,n){if(i&1){let e=E();a(0,"div",6)(1,"button",9),M("click",function(){C(e);let t=u();return _(t.onFormCancel())}),g(2,"i",10),m(3),h(4,"translate"),s()()}i&2&&(r(3),p(" ",v(4,1,"ACTION.CANCEL")," "))}var Ti=class Ti extends ft{constructor(e,o,t,l,d,f,c,L,oe,Se){super(l,new yt,oe,Se);this.data=e;this.dialogRef=o;this.coreEnumService=t;this.coreTokenMicroServiceService=l;this.cmsToastrService=d;this.tokenHelper=f;this.cmsStoreService=c;this.cdr=L;this.publicHelper=oe;this.translate=Se;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new Ji;this.dataModel=new yt;this.dataModelEnumManageUserAccessAreaTypesResult=new D;this.dataModelEnumManageUserAccessUserTypesResult=new D;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id)}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>N(this,null,function*(){this.tokenInfo=e}))),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){this.coreEnumService.ServiceManageUserAccessAreaTypesEnum().subscribe({next:e=>{this.dataModelEnumManageUserAccessAreaTypesResult=e}})}getEnumManageUserAccessUserTypes(){this.coreEnumService.ServiceManageUserAccessUserTypesEnum().subscribe({next:e=>{this.dataModelEnumManageUserAccessUserTypesResult=e}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(o=>{this.formInfo.submitResultMessage=o}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(o=>{this.publicHelper.processService.processStart(e,o,this.constructorInfoAreaId)}),this.coreTokenMicroServiceService.setAccessLoad(),this.coreTokenMicroServiceService.setAccessDataType(pt.Editor),this.coreTokenMicroServiceService.ServiceGetOneById(this.requestId).subscribe({next:o=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModel=o.item,o.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+o.item.id,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=o.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(o.errorMessage)),this.publicHelper.processService.processStop(e)},error:o=>{this.cmsToastrService.typeError(o),this.publicHelper.processService.processStop(e,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Ti.\u0275fac=function(o){return new(o||Ti)(S(te),S(ee),S($),S(Et),S(q),S(j),S(F),S(P),S(W),S(G))},Ti.\u0275cmp=O({type:Ti,selectors:[["app-coretoken-microservice-edit"]],viewQuery:function(o,t){if(o&1&&X(Tr,5),o&2){let l;Y(l=Z())&&(t.formGroup=l.first)}},standalone:!1,features:[z],decls:15,vars:18,consts:[[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],[1,"form-actions"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"innerHTML"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(o,t){o&1&&(a(0,"div",0),g(1,"app-progress-spinner",1),a(2,"div",2)(3,"p",3),m(4),s(),a(5,"p"),m(6),h(7,"translate"),s(),R(8,br,1,5,"app-cms-enum-record-status-selector",4),g(9,"app-cms-site-selector",5),h(10,"translate"),g(11,"app-cms-user-selector",5),h(12,"translate"),R(13,Ir,3,3,"div"),R(14,Mr,5,3,"div",6),s()()),o&2&&(r(),T("optionsInfoAreaId",t.constructorInfoAreaId),r(3),p(" ",t.formInfo.formTitle," "),r(2),p(" ",v(7,12,"TITLE.Be_Careful_When_Entering_Information")," "),r(2),y(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?8:-1),r(),T("optionDisabled",!0)("optionSelectForce",t.dataModel.linkSiteId)("optionPlaceholder",v(10,14,"TITLE.WEBSITE")),r(2),T("optionDisabled",!0)("optionSelectForce",t.dataModel.linkUserId)("optionPlaceholder",v(12,16,"TITLE.USER")),r(2),y(t.tokenInfo.access.userAccessAdminAllowToProfessionalData?13:-1),r(),y(t.formInfo.submitButtonEnabled?14:-1))},dependencies:[ut,bt,St,ie,H,pi],encapsulation:2});var ro=Ti;var wr=["vform"];function Ar(i,n){if(i&1){let e=E();a(0,"div",7)(1,"button",8),M("click",function(){C(e);let t=u();return _(t.onFormCancel())}),g(2,"i",9),m(3),h(4,"translate"),s()()}i&2&&(r(3),p(" ",v(4,1,"ACTION.CANCEL")," "))}var bi=class bi{constructor(n,e,o,t,l,d,f,c,L,oe){this.data=n;this.dialogRef=e;this.coreEnumService=o;this.coreTokenMicroServiceService=t;this.cmsToastrService=l;this.tokenHelper=d;this.cmsStoreService=f;this.cdr=c;this.publicHelper=L;this.translate=oe;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.tokenInfo=new it;this.dataModelResult=new D;this.dataModel=new yt;this.formInfo=new nt;this.dataModelEnumSendSmsStatusTypeResult=new D;this.fieldsInfo=new Map;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,n&&(this.requestId=n.id+"")}ngOnInit(){if(this.translate.get("TITLE.VIEW").subscribe(n=>{this.formInfo.formTitle=n}),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(n=>n.tokenInfoStore).subscribe(n=>N(this,null,function*(){this.tokenInfo=n}))),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:n=>{this.dataModelEnumSendSmsStatusTypeResult=n}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(n=>n.unsubscribe())}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage="";let n=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(n,e,this.constructorInfoAreaId)}),this.coreTokenMicroServiceService.setAccessLoad(),this.coreTokenMicroServiceService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModel=e.item,e.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+e.item.id,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(o=>{this.formInfo.submitResultMessage=o}),this.formInfo.submitResultMessage=e.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(e.errorMessage)),this.publicHelper.processService.processStop(n)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(n,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};bi.\u0275fac=function(e){return new(e||bi)(S(te),S(ee),S($),S(Et),S(q),S(j),S(F),S(P),S(W),S(G))},bi.\u0275cmp=O({type:bi,selectors:[["app-coretoken-microservice-view"]],viewQuery:function(e,o){if(e&1&&X(wr,5),e&2){let t;Y(t=Z())&&(o.formGroup=t.first)}},standalone:!1,decls:9,vars:6,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection","loader-container"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[3,"formInfo"],[1,"ntk-cms-html-card-footer"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,o){e&1&&(a(0,"div",0),m(1),s(),a(2,"div",1),g(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),s(),a(5,"div",4),g(6,"app-cms-form-result-message",5),s(),a(7,"div",6),R(8,Ar,5,3,"div",7),s()),e&2&&(r(),p(" ",o.formInfo.formTitle," "),r(2),T("optionsInfoAreaId",o.constructorInfoAreaId),r(),T("dataModel",o.dataModel)("optionMethod",1),r(2),T("formInfo",o.formInfo),r(2),y(o.formInfo.submitButtonEnabled?8:-1))},dependencies:[ie,st,rt,H],encapsulation:2});var so=bi;var kr=()=>[5,10,20,100],Er=i=>({display:i}),Rr=i=>({background:i});function yr(i,n){if(i&1&&g(0,"app-core-user-header",3),i&2){let e=u();T("optionId",e.requestLinkUserId)}}function Dr(i,n){if(i&1){let e=E();a(0,"a",51),M("click",function(){C(e);let t=u();return _(t.onActionBackToParent())}),g(1,"i",52),s()}}function Lr(i,n){if(i&1){let e=E();a(0,"div",18)(1,"a",53),M("click",function(){C(e);let t=u();return _(t.onActionButtonEditRow(t.tableRowSelected))}),g(2,"i",54)(3,"br"),s(),a(4,"p",21),m(5),h(6,"translate"),s()()}i&2&&(r(5),p(" ",v(6,1,"ACTION.EDIT")," "))}function xr(i,n){if(i&1){let e=E();a(0,"div",18)(1,"a",55),M("click",function(){C(e);let t=u();return _(t.onActionButtonDeleteRow(t.tableRowSelected))}),g(2,"i",56)(3,"br"),s(),a(4,"p",21),m(5),h(6,"translate"),s()()}i&2&&(r(5),p(" ",v(6,1,"ACTION.DELETE")," "))}function Ur(i,n){if(i&1){let e=E();a(0,"div",18)(1,"a",57),M("click",function(){C(e);let t=u();return _(t.onActionButtonViewRow(t.tableRowSelected))}),g(2,"i",58)(3,"br"),s(),a(4,"p",21),m(5),h(6,"translate"),s()()}i&2&&(r(5),p(" ",v(6,1,"ACTION.VIEW")," "))}function Br(i,n){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();r(),p(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function Vr(i,n){if(i&1&&(a(0,"mat-cell"),m(1),s()),i&2){let e=n.$implicit;r(),p(" ",e.id," ")}}function Or(i,n){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();r(),p(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function Nr(i,n){if(i&1&&(a(0,"mat-cell"),m(1),h(2,"cmssiteinfo"),h(3,"async"),s()),i&2){let e=n.$implicit;r(),p(" ",v(3,3,v(2,1,e.linkSiteId))," ")}}function Pr(i,n){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();r(),p(" ",e.fieldsInfo.linkUserId==null?null:e.fieldsInfo.linkUserId.fieldTitle," ")}}function Gr(i,n){if(i&1&&(a(0,"mat-cell"),m(1),h(2,"cmsuserinfo"),h(3,"async"),s()),i&2){let e=n.$implicit;r(),p(" ",v(3,3,v(2,1,e.linkUserId))," ")}}function Hr(i,n){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();r(),p(" ",e.fieldsInfo.linkMemberUserId==null?null:e.fieldsInfo.linkMemberUserId.fieldTitle," ")}}function Fr(i,n){if(i&1&&(a(0,"mat-cell"),m(1),s()),i&2){let e=n.$implicit;r(),p(" ",e.linkMemberUserId," ")}}function jr(i,n){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();r(),p(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function qr(i,n){if(i&1&&g(0,"select",61),i&2){let e=u().$implicit,o=u();T("contentService",o.contentService)("row",e)("ngStyle",_e(3,Er,e.id===(o.tableRowSelected==null?null:o.tableRowSelected.id)?"":"none"))}}function Wr(i,n){if(i&1&&(a(0,"mat-cell",60),h(1,"statusCellClass"),g(2,"i",60),h(3,"statusIconClass"),R(4,qr,1,5,"select",61),s()),i&2){let e=n.$implicit,o=u();T("ngClass",v(1,3,e.recordStatus)),r(2),T("ngClass",v(3,5,e.recordStatus)),r(2),y(!(o.dataModelResult==null||o.dataModelResult.access==null)&&o.dataModelResult.access.accessEditRow?4:-1)}}function Qr(i,n){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();r(),p(" ",e.fieldsInfo.userAccessAreaType==null?null:e.fieldsInfo.userAccessAreaType.fieldTitle," ")}}function $r(i,n){if(i&1&&(a(0,"mat-cell"),m(1),h(2,"enums"),s()),i&2){let e=n.$implicit,o=u();r(),p(" ",re(2,1,e.userAccessAreaType,o.dataModelEnumManageUserAccessAreaTypesResult.listItems)," ")}}function zr(i,n){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();r(),p(" ",e.fieldsInfo.userType==null?null:e.fieldsInfo.userType.fieldTitle," ")}}function Kr(i,n){if(i&1&&(a(0,"mat-cell"),m(1),h(2,"enums"),s()),i&2){let e=n.$implicit,o=u();r(),p(" ",re(2,1,e.userType,o.dataModelEnumManageUserAccessUserTypesResult.listItems)," ")}}function Jr(i,n){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();r(),p(" ",e.fieldsInfo.userAccessAdminAllowToAllData==null?null:e.fieldsInfo.userAccessAdminAllowToAllData.fieldTitle," ")}}function Xr(i,n){if(i&1&&(a(0,"mat-cell"),g(1,"i",60),h(2,"boolclass"),s()),i&2){let e=n.$implicit;r(),T("ngClass",v(2,1,e.userAccessAdminAllowToAllData))}}function Yr(i,n){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();r(),p(" ",e.fieldsInfo.userAccessAdminAllowToProfessionalData==null?null:e.fieldsInfo.userAccessAdminAllowToProfessionalData.fieldTitle," ")}}function Zr(i,n){if(i&1&&(a(0,"mat-cell"),g(1,"i",60),h(2,"boolclass"),s()),i&2){let e=n.$implicit;r(),T("ngClass",v(2,1,e.userAccessAdminAllowToProfessionalData))}}function es(i,n){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();r(),p(" ",e.fieldsInfo.rememberOnDevice==null?null:e.fieldsInfo.rememberOnDevice.fieldTitle," ")}}function ts(i,n){if(i&1&&(a(0,"mat-cell"),g(1,"i",60),h(2,"boolclass"),s()),i&2){let e=n.$implicit;r(),T("ngClass",v(2,1,e.rememberOnDevice))}}function is(i,n){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();r(),p(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function os(i,n){if(i&1&&(a(0,"mat-cell",62),m(1),h(2,"localeDateTime"),s()),i&2){let e=n.$implicit;r(),p(" ",v(2,1,e.createdDate)," ")}}function ns(i,n){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();r(),p(" ",e.fieldsInfo.expireDate==null?null:e.fieldsInfo.expireDate.fieldTitle," ")}}function rs(i,n){if(i&1&&(a(0,"mat-cell",63),m(1),h(2,"persianDate"),s()),i&2){let e=n.$implicit,o=u();T("ngStyle",_e(4,Rr,o.publicHelper.RowStyleExpireDate(e.expireDate))),r(),p(" ",v(2,2,e.expireDate)," ")}}function ss(i,n){i&1&&(a(0,"mat-header-cell"),m(1),h(2,"translate"),s()),i&2&&(r(),p(" ",v(2,1,"TITLE.OPTION")," "))}function as(i,n){if(i&1&&(a(0,"mat-cell",64)(1,"button",65)(2,"mat-icon"),m(3,"more_vert"),s()(),g(4,"mat-menu",null,2),s()),i&2){let e=K(5);r(),T("matMenuTriggerFor",e)}}function ls(i,n){i&1&&g(0,"mat-header-row")}function cs(i,n){if(i&1){let e=E();a(0,"mat-row",66),M("click",function(t){let l=C(e).$implicit,d=u();return _(d.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=C(e).$implicit,d=u();return _(d.onActionTableRowSelect(l,t))}),s()}if(i&2){let e=n.$implicit,o=u();J("ntk-row-selected",e.id===(o.tableRowSelected==null?null:o.tableRowSelected.id))}}var Ii=class Ii extends Qe{constructor(e,o,t,l,d,f,c,L,oe,Se,et,It){super(e,new yt,et,d,c);this.contentService=e;this.cmsToastrService=o;this.cmsConfirmationDialogService=t;this.activatedRoute=l;this.tokenHelper=d;this.cdr=f;this.translate=c;this.cmsStoreService=L;this.router=oe;this.pageInfo=Se;this.publicHelper=et;this.dialog=It;this.requestLinkSiteId=0;this.requestLinkUserId=0;this.requestLinkDeviceId=0;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new Ie;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["id","linkSiteId","linkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","createdDate","ExpireDate"];this.tabledisplayedColumnsMobileSource=["id","linkSiteId","linkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","createdDate","ExpireDate"];this.dataModelEnumManageUserAccessAreaTypesResult=new D;this.dataModelEnumManageUserAccessUserTypesResult=new D;this.unsubscribe=[];if(this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkDeviceId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkDeviceId")),this.requestLinkSiteId>0){let k=new A;k.propertyName="LinkCmsSiteId",k.value=this.requestLinkSiteId,this.filteModelContent.filters.push(k)}if(this.requestLinkUserId>0){let k=new A;k.propertyName="linkUserId",k.value=this.requestLinkUserId,this.filteModelContent.filters.push(k)}if(this.requestLinkDeviceId>0){let k=new A;k.propertyName="LinkDeviceId",k.value=this.requestLinkDeviceId,this.filteModelContent.filters.push(k)}this.optionsSearch.parentMethods={onSubmit:k=>this.onSubmitOptionsSearch(k)},this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=x.Descending,this.optionsSearch.data.filterModelContent=this.filteModelContent,this.optionsSearch.data.filterActionSearchRecordStatusShow=!0,this.tokenHelper.isAdminSite?(this.optionsSearch.data.filterActionSearchLinkUserIdShow=!0,this.optionsSearch.data.filterActionSearchLinkSiteIdShow=!0):(this.optionsSearch.data.filterActionSearchLinkSiteIdShow=!1,this.optionsSearch.data.filterActionSearchLinkUserIdShow=!1)}ngOnInit(){this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=x.Descending,this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>N(this,null,function*(){this.tokenInfo=e,this.DataGetAll()}))),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){}getEnumManageUserAccessUserTypes(){}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}filterModelCompiler(e){let o=JSON.parse(JSON.stringify(e));return this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(o.filters=[...this.filterDataModelQueryBuilder]),o}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new yt);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let o=this.filterModelCompiler(this.filteModelContent);if(this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(o.filters=[...this.filterDataModelQueryBuilder]),this.filteModelContent.filterActionSearchRecordStatus>0){let t=new A;t.propertyName="recordStatus",t.value=this.filteModelContent.filterActionSearchRecordStatus,o.filters.push(t)}if(this.filteModelContent.filterActionSearchLinkSiteId>0){let t=new A;t.propertyName="linkSiteId",t.value=this.filteModelContent.filterActionSearchLinkSiteId,o.filters.push(t)}if(this.filteModelContent.filterActionSearchLinkUserId>0){let t=new A;t.propertyName="linkUserId",t.value=this.filteModelContent.filterActionSearchLinkUserId,o.filters.push(t)}this.contentService.ServiceGetAllEditor(o).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=x.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=x.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=x.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonViewRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var o="";this.publicHelper.isMobile?o="dialog-fullscreen":o="dialog-min",this.dialog.open(so,{height:"90%",panelClass:o,enterAnimationDuration:Q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate})}onActionButtonEditRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var o="";this.publicHelper.isMobile?o="dialog-fullscreen":o="dialog-min",this.dialog.open(ro,{height:"90%",panelClass:o,enterAnimationDuration:Q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(l=>{this.cmsToastrService.typeErrorSelected(l)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var o="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(l=>{o=l["MESSAGE.Please_Confirm"],t=l["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(o,t).then(l=>{if(l){let d=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(f=>{this.publicHelper.processService.processStart(d,f,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:f=>{f.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(d)},error:f=>{this.cmsToastrService.typeError(f),this.publicHelper.processService.processStop(d,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let o=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{o.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{o.set(c,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructorInfoAreaId)});let l=this.filterModelCompiler(this.filteModelContent);if(this.filteModelContent.filterActionSearchRecordStatus>0){let c=new A;c.propertyName="recordStatus",c.value=this.filteModelContent.filterActionSearchRecordStatus,l.filters.push(c)}if(this.filteModelContent.filterActionSearchLinkSiteId>0){let c=new A;c.propertyName="linkSiteId",c.value=this.filteModelContent.filterActionSearchLinkSiteId,l.filters.push(c)}if(this.filteModelContent.filterActionSearchLinkUserId>0){let c=new A;c.propertyName="linkUserId",c.value=this.filteModelContent.filterActionSearchLinkUserId,l.filters.push(c)}this.contentService.ServiceGetCount(l).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(L=>{o.set(L,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}});let d=this.filterModelCompiler(this.filteModelContent);if(this.filteModelContent.filterActionSearchRecordStatus>0){let c=new A;c.propertyName="recordStatus",c.value=this.filteModelContent.filterActionSearchRecordStatus,d.filters.push(c)}if(this.filteModelContent.filterActionSearchLinkSiteId>0){let c=new A;c.propertyName="linkSiteId",c.value=this.filteModelContent.filterActionSearchLinkSiteId,d.filters.push(c)}if(this.filteModelContent.filterActionSearchLinkUserId>0){let c=new A;c.propertyName="linkUserId",c.value=this.filteModelContent.filterActionSearchLinkUserId,d.filters.push(c)}let f=new A;f.propertyName="recordStatus",f.value=be.Available,d.filters.push(f),this.contentService.ServiceGetCount(d).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(L=>{o.set(L,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonViewUserRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkUserId||this.tableRowSelected.linkUserId===0){this.translate.get("MESSAGE.content_does_not_contain_user_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId])}onActionButtonViewSiteRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkSiteId||this.tableRowSelected.linkSiteId===0){this.translate.get("MESSAGE.content_does_not_include_site_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};Ii.\u0275fac=function(o){return new(o||Ii)(S(Et),S(q),S(Ce),S(ge),S(j),S(P),S(G),S(F),S(Te),S(je),S(W),S(we))},Ii.\u0275cmp=O({type:Ii,selectors:[["app-coretoken-microservice-list"]],standalone:!1,features:[z],decls:90,vars:38,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionId"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-globe","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","linkSiteId"],["matColumnDef","linkUserId"],["matColumnDef","LinkMemberUserId"],["matColumnDef","recordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","UserAccessAreaType"],["matColumnDef","UserType"],["matColumnDef","UserAccessAdminAllowToAllData"],["matColumnDef","UserAccessAdminAllowToProfessionalData"],["matColumnDef","RememberOnDevice"],["matColumnDef","createdDate"],["style","direction: ltr",4,"matCellDef"],["matColumnDef","ExpireDate"],[3,"ngStyle",4,"matCellDef"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","target","_blank","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[2,"direction","ltr"],[3,"ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(o,t){if(o&1){let l=E();R(0,yr,1,1,"app-core-user-header",3),a(1,"app-cms-html-list",4),V("optionActionGuideNoticeDisplayChange",function(f){return C(l),B(t.viewGuideNotice,f)||(t.viewGuideNotice=f),_(f)}),M("optionOnActionButtonMemoRow",function(){return C(l),_(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return C(l),_(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return C(l),_(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return C(l),_(t.onActionButtonPrintRow())}),b(2,5),m(3," -------------------------------------- "),I(),ne(4,6)(5,7),b(6,8),R(7,Dr,2,0,"a",9),a(8,"a",10),M("click",function(){return C(l),_(t.viewGuideNotice=!t.viewGuideNotice)}),g(9,"i",11),s(),a(10,"a",10),M("click",function(){return C(l),_(t.onActionButtonReload())}),g(11,"i",12),s(),I(),b(12,13),a(13,"a",14),M("click",function(){return C(l),_(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),g(14,"mat-slide-toggle",15),m(15),h(16,"translate"),s(),a(17,"a",14),M("click",function(){return C(l),_(t.onActionButtonStatist())}),g(18,"mat-slide-toggle",15),m(19),h(20,"translate"),s(),I(),ne(21,16),b(22,17),R(23,Lr,7,3,"div",18),R(24,xr,7,3,"div",18),a(25,"div",18)(26,"a",19),M("click",function(){return C(l),_(t.onActionButtonViewSiteRow(t.tableRowSelected))}),g(27,"i",20)(28,"br"),s(),a(29,"p",21),m(30),h(31,"translate"),s()(),a(32,"div",18)(33,"a",19),M("click",function(){return C(l),_(t.onActionButtonViewUserRow(t.tableRowSelected))}),g(34,"i",22)(35,"br"),s(),a(36,"p",21),m(37),h(38,"translate"),s()(),R(39,Ur,7,3,"div",18),I(),b(40,23),a(41,"app-cms-search-list",24),V("optionsChange",function(f){return C(l),B(t.optionsSearch,f)||(t.optionsSearch=f),_(f)}),s(),a(42,"app-cms-statist-list",24),V("optionsChange",function(f){return C(l),B(t.optionsStatist,f)||(t.optionsStatist=f),_(f)}),s(),I(),b(43,25),a(44,"mat-table",26,0),M("matSortChange",function(){C(l);let f=K(45);return _(t.onTableSortData(f))}),b(46,27),w(47,Br,2,1,"mat-header-cell",28)(48,Vr,2,1,"mat-cell",29),I(),b(49,30),w(50,Or,2,1,"mat-header-cell",28)(51,Nr,4,5,"mat-cell",29),I(),b(52,31),w(53,Pr,2,1,"mat-header-cell",28)(54,Gr,4,5,"mat-cell",29),I(),b(55,32),w(56,Hr,2,1,"mat-header-cell",28)(57,Fr,2,1,"mat-cell",29),I(),b(58,33),w(59,jr,2,1,"mat-header-cell",28)(60,Wr,5,7,"mat-cell",34),I(),b(61,35),w(62,Qr,2,1,"mat-header-cell",28)(63,$r,3,4,"mat-cell",29),I(),b(64,36),w(65,zr,2,1,"mat-header-cell",28)(66,Kr,3,4,"mat-cell",29),I(),b(67,37),w(68,Jr,2,1,"mat-header-cell",28)(69,Xr,3,3,"mat-cell",29),I(),b(70,38),w(71,Yr,2,1,"mat-header-cell",28)(72,Zr,3,3,"mat-cell",29),I(),b(73,39),w(74,es,2,1,"mat-header-cell",28)(75,ts,3,3,"mat-cell",29),I(),b(76,40),w(77,is,2,1,"mat-header-cell",28)(78,os,3,3,"mat-cell",41),I(),b(79,42),w(80,ns,2,1,"mat-header-cell",28)(81,rs,3,6,"mat-cell",43),I(),b(82,44),w(83,ss,3,3,"mat-header-cell",45)(84,as,6,1,"mat-cell",46),I(),w(85,ls,1,0,"mat-header-row",47)(86,cs,1,2,"mat-row",48),s(),I(),b(87,49),a(88,"mat-paginator",50,1),M("page",function(f){return C(l),_(t.onTablePageingData(f))}),s(),I(),s()}o&2&&(y(t.requestLinkUserId>0?0:-1),r(),T("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),U("optionActionGuideNoticeDisplay",t.viewGuideNotice),T("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),r(6),y(t.requestLinkSiteId>0?7:-1),r(4),J("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),r(3),T("checked",t.optionsSearch.data.show),r(),p("",v(16,29,"ACTION.SEARCH")," "),r(3),T("checked",t.optionsStatist.data.show),r(),p("",v(20,31,"ACTION.STATIST")," "),r(4),y(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?23:-1),r(),y(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?24:-1),r(6),p(" ",v(31,33,"ACTION.SITE")," "),r(7),p(" ",v(38,35,"ACTION.USER")," "),r(2),y(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessWatchRow&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0?39:-1),r(2),U("options",t.optionsSearch),r(),U("options",t.optionsStatist),r(2),T("dataSource",t.tableSource),r(41),T("matHeaderRowDef",t.tabledisplayedColumns),r(),T("matRowDefColumns",t.tabledisplayedColumns),r(2),T("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",he(37,kr)))},dependencies:[tt,dt,Me,Ae,lt,ke,Ee,Re,ye,De,Le,xe,Be,Pe,Ve,Ue,Ge,Oe,Ne,He,Fe,$e,ze,Ke,Je,ht,Ye,ve,H,vt,Ze,qe,Xe,We,Ct,_t,ot],encapsulation:2});var ao=Ii;var ms=["vform"];function ds(i,n){if(i&1){let e=E();a(0,"app-cms-enum-record-status-selector",7),V("modelChange",function(t){C(e);let l=u();return B(l.dataModel.recordStatus,t)||(l.dataModel.recordStatus=t),_(t)}),s()}if(i&2){let e=u();U("model",e.dataModel.recordStatus),T("optionDisabled",!((e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.accessEditField)??!1))("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function ps(i,n){if(i&1){let e=E();a(0,"div",6)(1,"button",8),M("click",function(){C(e);let t=u();return _(t.onFormCancel())}),g(2,"i",9),m(3),h(4,"translate"),s()()}i&2&&(r(3),p(" ",v(4,1,"ACTION.CANCEL")," "))}var Mi=class Mi extends ft{constructor(e,o,t,l,d,f,c,L,oe,Se){super(l,new Lt,f,Se);this.data=e;this.dialogRef=o;this.coreEnumService=t;this.coreLogTokenConnectionService=l;this.cmsToastrService=d;this.publicHelper=f;this.cdr=c;this.tokenHelper=L;this.cmsStoreService=oe;this.translate=Se;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new D;this.dataModel=new Lt;this.dataModelEnumManageUserAccessAreaTypesResult=new D;this.dataModelEnumManageUserAccessUserTypesResult=new D;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id)}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>N(this,null,function*(){this.tokenInfo=e}))),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){this.coreEnumService.ServiceManageUserAccessAreaTypesEnum().subscribe({next:e=>{this.dataModelEnumManageUserAccessAreaTypesResult=e}})}getEnumManageUserAccessUserTypes(){this.coreEnumService.ServiceManageUserAccessUserTypesEnum().subscribe({next:e=>{this.dataModelEnumManageUserAccessUserTypesResult=e}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(o=>{this.formInfo.submitResultMessage=o}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(o=>{this.publicHelper.processService.processStart(e,o,this.constructorInfoAreaId)}),this.coreLogTokenConnectionService.setAccessLoad(),this.coreLogTokenConnectionService.setAccessDataType(pt.Editor),this.coreLogTokenConnectionService.ServiceGetOneById(this.requestId).subscribe({next:o=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModel=o.item,o.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+o.item.id,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=o.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(o.errorMessage)),this.publicHelper.processService.processStop(e)},error:o=>{this.cmsToastrService.typeError(o),this.publicHelper.processService.processStop(e,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Mi.\u0275fac=function(o){return new(o||Mi)(S(te),S(ee),S($),S(wt),S(q),S(W),S(P),S(j),S(F),S(G))},Mi.\u0275cmp=O({type:Mi,selectors:[["app-coretoken-notificationlog-edit"]],viewQuery:function(o,t){if(o&1&&X(ms,5),o&2){let l;Y(l=Z())&&(t.formGroup=l.first)}},standalone:!1,features:[z],decls:14,vars:17,consts:[[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],[1,"form-actions"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(o,t){o&1&&(a(0,"div",0),g(1,"app-progress-spinner",1),a(2,"div",2)(3,"p",3),m(4),s(),a(5,"p"),m(6),h(7,"translate"),s(),R(8,ds,1,5,"app-cms-enum-record-status-selector",4),g(9,"app-cms-site-selector",5),h(10,"translate"),g(11,"app-cms-user-selector",5),h(12,"translate"),R(13,ps,5,3,"div",6),s()()),o&2&&(r(),T("optionsInfoAreaId",t.constructorInfoAreaId),r(3),p(" ",t.formInfo.formTitle," "),r(2),p(" ",v(7,11,"TITLE.Be_Careful_When_Entering_Information")," "),r(2),y(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?8:-1),r(),T("optionDisabled",!0)("optionSelectForce",t.dataModel.linkSiteId)("optionPlaceholder",v(10,13,"TITLE.WEBSITE")),r(2),T("optionDisabled",!0)("optionSelectForce",t.dataModel.linkUserId)("optionPlaceholder",v(12,15,"TITLE.USER")),r(2),y(t.formInfo.submitButtonEnabled?13:-1))},dependencies:[ut,bt,St,ie,H],encapsulation:2});var lo=Mi;var us=["vform"];function fs(i,n){if(i&1){let e=E();a(0,"div",7)(1,"button",8),M("click",function(){C(e);let t=u();return _(t.onFormCancel())}),g(2,"i",9),m(3),h(4,"translate"),s()()}i&2&&(r(3),p(" ",v(4,1,"ACTION.CANCEL")," "))}var wi=class wi{constructor(n,e,o,t,l,d,f,c,L,oe){this.data=n;this.dialogRef=e;this.coreEnumService=o;this.coreLogTokenConnectionService=t;this.cmsToastrService=l;this.tokenHelper=d;this.cmsStoreService=f;this.cdr=c;this.publicHelper=L;this.translate=oe;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.tokenInfo=new it;this.dataModelResult=new D;this.dataModel=new Lt;this.formInfo=new nt;this.dataModelEnumSendSmsStatusTypeResult=new D;this.fieldsInfo=new Map;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,n&&(this.requestId=n.id+"")}ngOnInit(){if(this.translate.get("TITLE.VIEW").subscribe(n=>{this.formInfo.formTitle=n}),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(n=>n.tokenInfoStore).subscribe(n=>N(this,null,function*(){this.tokenInfo=n}))),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:n=>{this.dataModelEnumSendSmsStatusTypeResult=n}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(n=>n.unsubscribe())}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage="";let n=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(n,e,this.constructorInfoAreaId)}),this.coreLogTokenConnectionService.setAccessLoad(),this.coreLogTokenConnectionService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModel=e.item,e.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+e.item.id,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(o=>{this.formInfo.submitResultMessage=o}),this.formInfo.submitResultMessage=e.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(e.errorMessage)),this.publicHelper.processService.processStop(n)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(n,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};wi.\u0275fac=function(e){return new(e||wi)(S(te),S(ee),S($),S(wt),S(q),S(j),S(F),S(P),S(W),S(G))},wi.\u0275cmp=O({type:wi,selectors:[["app-core-token-notificationlog-view"]],viewQuery:function(e,o){if(e&1&&X(us,5),e&2){let t;Y(t=Z())&&(o.formGroup=t.first)}},standalone:!1,decls:9,vars:6,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection","loader-container"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[3,"formInfo"],[1,"ntk-cms-html-card-footer"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,o){e&1&&(a(0,"div",0),m(1),s(),a(2,"div",1),g(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),s(),a(5,"div",4),g(6,"app-cms-form-result-message",5),s(),a(7,"div",6),R(8,fs,5,3,"div",7),s()),e&2&&(r(),p(" ",o.formInfo.formTitle," "),r(2),T("optionsInfoAreaId",o.constructorInfoAreaId),r(),T("dataModel",o.dataModel)("optionMethod",1),r(2),T("formInfo",o.formInfo),r(2),y(o.formInfo.submitButtonEnabled?8:-1))},dependencies:[ie,st,rt,H],encapsulation:2});var co=wi;var Ss=()=>[5,10,20,100],hs=i=>({display:i}),Cs=i=>({background:i});function _s(i,n){if(i&1&&g(0,"app-core-user-header",3),i&2){let e=u();T("optionId",e.requestLinkUserId)}}function vs(i,n){if(i&1){let e=E();a(0,"a",51),M("click",function(){C(e);let t=u();return _(t.onActionBackToParent())}),g(1,"i",52),s()}}function gs(i,n){if(i&1){let e=E();a(0,"div",18)(1,"a",53),M("click",function(){C(e);let t=u();return _(t.onActionButtonEditRow(t.tableRowSelected))}),g(2,"i",54)(3,"br"),s(),a(4,"p",21),m(5),h(6,"translate"),s()()}i&2&&(r(5),p(" ",v(6,1,"ACTION.EDIT")," "))}function Ts(i,n){if(i&1){let e=E();a(0,"div",18)(1,"a",55),M("click",function(){C(e);let t=u();return _(t.onActionButtonDeleteRow(t.tableRowSelected))}),g(2,"i",56)(3,"br"),s(),a(4,"p",21),m(5),h(6,"translate"),s()()}i&2&&(r(5),p(" ",v(6,1,"ACTION.DELETE")," "))}function bs(i,n){if(i&1){let e=E();a(0,"div",18)(1,"a",57),M("click",function(){C(e);let t=u();return _(t.onActionButtonViewRow(t.tableRowSelected))}),g(2,"i",58)(3,"br"),s(),a(4,"p",21),m(5),h(6,"translate"),s()()}i&2&&(r(5),p(" ",v(6,1,"ACTION.VIEW")," "))}function Is(i,n){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();r(),p(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function Ms(i,n){if(i&1&&(a(0,"mat-cell"),m(1),s()),i&2){let e=n.$implicit;r(),p(" ",e.id," ")}}function ws(i,n){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();r(),p(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function As(i,n){if(i&1&&(a(0,"mat-cell"),m(1),h(2,"cmssiteinfo"),h(3,"async"),s()),i&2){let e=n.$implicit;r(),p(" ",v(3,3,v(2,1,e.linkSiteId))," ")}}function ks(i,n){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();r(),p(" ",e.fieldsInfo.linkUserId==null?null:e.fieldsInfo.linkUserId.fieldTitle," ")}}function Es(i,n){if(i&1&&(a(0,"mat-cell"),m(1),h(2,"cmsuserinfo"),h(3,"async"),s()),i&2){let e=n.$implicit;r(),p(" ",v(3,3,v(2,1,e.linkUserId))," ")}}function Rs(i,n){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();r(),p(" ",e.fieldsInfo.linkMemberUserId==null?null:e.fieldsInfo.linkMemberUserId.fieldTitle," ")}}function ys(i,n){if(i&1&&(a(0,"mat-cell"),m(1),s()),i&2){let e=n.$implicit;r(),p(" ",e.linkMemberUserId," ")}}function Ds(i,n){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();r(),p(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function Ls(i,n){if(i&1&&g(0,"select",61),i&2){let e=u().$implicit,o=u();T("contentService",o.contentService)("row",e)("ngStyle",_e(3,hs,e.id===(o.tableRowSelected==null?null:o.tableRowSelected.id)?"":"none"))}}function xs(i,n){if(i&1&&(a(0,"mat-cell",60),h(1,"statusCellClass"),g(2,"i",60),h(3,"statusIconClass"),R(4,Ls,1,5,"select",61),s()),i&2){let e=n.$implicit,o=u();T("ngClass",v(1,3,e.recordStatus)),r(2),T("ngClass",v(3,5,e.recordStatus)),r(2),y(!(o.dataModelResult==null||o.dataModelResult.access==null)&&o.dataModelResult.access.accessEditRow?4:-1)}}function Us(i,n){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();r(),p(" ",e.fieldsInfo.userAccessAreaType==null?null:e.fieldsInfo.userAccessAreaType.fieldTitle," ")}}function Bs(i,n){if(i&1&&(a(0,"mat-cell"),m(1),h(2,"enums"),s()),i&2){let e=n.$implicit,o=u();r(),p(" ",re(2,1,e.userAccessAreaType,o.dataModelEnumManageUserAccessAreaTypesResult.listItems)," ")}}function Vs(i,n){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();r(),p(" ",e.fieldsInfo.userType==null?null:e.fieldsInfo.userType.fieldTitle," ")}}function Os(i,n){if(i&1&&(a(0,"mat-cell"),m(1),h(2,"enums"),s()),i&2){let e=n.$implicit,o=u();r(),p(" ",re(2,1,e.userType,o.dataModelEnumManageUserAccessUserTypesResult.listItems)," ")}}function Ns(i,n){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();r(),p(" ",e.fieldsInfo.userAccessAdminAllowToAllData==null?null:e.fieldsInfo.userAccessAdminAllowToAllData.fieldTitle," ")}}function Ps(i,n){if(i&1&&(a(0,"mat-cell"),g(1,"i",60),h(2,"boolclass"),s()),i&2){let e=n.$implicit;r(),T("ngClass",v(2,1,e.userAccessAdminAllowToAllData))}}function Gs(i,n){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();r(),p(" ",e.fieldsInfo.userAccessAdminAllowToProfessionalData==null?null:e.fieldsInfo.userAccessAdminAllowToProfessionalData.fieldTitle," ")}}function Hs(i,n){if(i&1&&(a(0,"mat-cell"),g(1,"i",60),h(2,"boolclass"),s()),i&2){let e=n.$implicit;r(),T("ngClass",v(2,1,e.userAccessAdminAllowToProfessionalData))}}function Fs(i,n){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();r(),p(" ",e.fieldsInfo.rememberOnDevice==null?null:e.fieldsInfo.rememberOnDevice.fieldTitle," ")}}function js(i,n){if(i&1&&(a(0,"mat-cell"),g(1,"i",60),h(2,"boolclass"),s()),i&2){let e=n.$implicit;r(),T("ngClass",v(2,1,e.rememberOnDevice))}}function qs(i,n){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();r(),p(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function Ws(i,n){if(i&1&&(a(0,"mat-cell",62),m(1),h(2,"localeDateTime"),s()),i&2){let e=n.$implicit;r(),p(" ",v(2,1,e.createdDate)," ")}}function Qs(i,n){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();r(),p(" ",e.fieldsInfo.expireDate==null?null:e.fieldsInfo.expireDate.fieldTitle," ")}}function $s(i,n){if(i&1&&(a(0,"mat-cell",63),m(1),h(2,"persianDate"),s()),i&2){let e=n.$implicit,o=u();T("ngStyle",_e(4,Cs,o.publicHelper.RowStyleExpireDate(e.expireDate))),r(),p(" ",v(2,2,e.expireDate)," ")}}function zs(i,n){i&1&&(a(0,"mat-header-cell"),m(1),h(2,"translate"),s()),i&2&&(r(),p(" ",v(2,1,"TITLE.OPTION")," "))}function Ks(i,n){if(i&1&&(a(0,"mat-cell",64)(1,"button",65)(2,"mat-icon"),m(3,"more_vert"),s()(),g(4,"mat-menu",null,2),s()),i&2){let e=K(5);r(),T("matMenuTriggerFor",e)}}function Js(i,n){i&1&&g(0,"mat-header-row")}function Xs(i,n){if(i&1){let e=E();a(0,"mat-row",66),M("click",function(t){let l=C(e).$implicit,d=u();return _(d.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=C(e).$implicit,d=u();return _(d.onActionTableRowSelect(l,t))}),s()}if(i&2){let e=n.$implicit,o=u();J("ntk-row-selected",e.id===(o.tableRowSelected==null?null:o.tableRowSelected.id))}}var Ai=class Ai extends Qe{constructor(e,o,t,l,d,f,c,L,oe,Se,et,It){super(e,new Lt,et,d,c);this.contentService=e;this.cmsToastrService=o;this.cmsConfirmationDialogService=t;this.activatedRoute=l;this.tokenHelper=d;this.cdr=f;this.translate=c;this.cmsStoreService=L;this.router=oe;this.pageInfo=Se;this.publicHelper=et;this.dialog=It;this.requestLinkSiteId=0;this.requestLinkUserId=0;this.requestLinkDeviceId=0;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new Ie;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["id","linkSiteId","linkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","createdDate","ExpireDate"];this.tabledisplayedColumnsMobileSource=["id","linkSiteId","linkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","createdDate","ExpireDate"];this.dataModelEnumManageUserAccessAreaTypesResult=new D;this.dataModelEnumManageUserAccessUserTypesResult=new D;this.unsubscribe=[];if(this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkDeviceId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkDeviceId")),this.requestLinkSiteId>0){let k=new A;k.propertyName="LinkCmsSiteId",k.value=this.requestLinkSiteId,this.filteModelContent.filters.push(k)}if(this.requestLinkUserId>0){let k=new A;k.propertyName="linkUserId",k.value=this.requestLinkUserId,this.filteModelContent.filters.push(k)}if(this.requestLinkDeviceId>0){let k=new A;k.propertyName="LinkDeviceId",k.value=this.requestLinkDeviceId,this.filteModelContent.filters.push(k)}this.optionsSearch.parentMethods={onSubmit:k=>this.onSubmitOptionsSearch(k)},this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=x.Descending,this.optionsSearch.data.filterModelContent=this.filteModelContent,this.optionsSearch.data.filterActionSearchRecordStatusShow=!0,this.tokenHelper.isAdminSite?(this.optionsSearch.data.filterActionSearchLinkUserIdShow=!0,this.optionsSearch.data.filterActionSearchLinkSiteIdShow=!0):(this.optionsSearch.data.filterActionSearchLinkSiteIdShow=!1,this.optionsSearch.data.filterActionSearchLinkUserIdShow=!1)}ngOnInit(){this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=x.Descending,this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>N(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}filterModelCompiler(e){let o=JSON.parse(JSON.stringify(e));return this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(o.filters=[...this.filterDataModelQueryBuilder]),o}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Lt);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let o=this.filterModelCompiler(this.filteModelContent);if(this.filteModelContent.filterActionSearchRecordStatus>0){let t=new A;t.propertyName="recordStatus",t.value=this.filteModelContent.filterActionSearchRecordStatus,o.filters.push(t)}if(this.filteModelContent.filterActionSearchLinkSiteId>0){let t=new A;t.propertyName="linkSiteId",t.value=this.filteModelContent.filterActionSearchLinkSiteId,o.filters.push(t)}if(this.filteModelContent.filterActionSearchLinkUserId>0){let t=new A;t.propertyName="linkUserId",t.value=this.filteModelContent.filterActionSearchLinkUserId,o.filters.push(t)}this.contentService.ServiceGetAllEditor(o).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=x.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=x.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=x.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonViewRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var o="";this.publicHelper.isMobile?o="dialog-fullscreen":o="dialog-min",this.dialog.open(co,{height:"90%",panelClass:o,enterAnimationDuration:Q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate})}onActionButtonEditRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var o="";this.publicHelper.isMobile?o="dialog-fullscreen":o="dialog-min",this.dialog.open(lo,{height:"90%",panelClass:o,enterAnimationDuration:Q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(l=>{this.cmsToastrService.typeErrorSelected(l)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var o="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(l=>{o=l["MESSAGE.Please_Confirm"],t=l["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(o,t).then(l=>{if(l){let d=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(f=>{this.publicHelper.processService.processStart(d,f,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:f=>{f.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(d)},error:f=>{this.cmsToastrService.typeError(f),this.publicHelper.processService.processStop(d,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let o=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{o.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{o.set(c,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructorInfoAreaId)});let l=this.filterModelCompiler(this.filteModelContent);if(this.filteModelContent.filterActionSearchRecordStatus>0){let c=new A;c.propertyName="recordStatus",c.value=this.filteModelContent.filterActionSearchRecordStatus,l.filters.push(c)}if(this.filteModelContent.filterActionSearchLinkSiteId>0){let c=new A;c.propertyName="linkSiteId",c.value=this.filteModelContent.filterActionSearchLinkSiteId,l.filters.push(c)}if(this.filteModelContent.filterActionSearchLinkUserId>0){let c=new A;c.propertyName="linkUserId",c.value=this.filteModelContent.filterActionSearchLinkUserId,l.filters.push(c)}this.contentService.ServiceGetCount(l).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(L=>{o.set(L,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}});let d=this.filterModelCompiler(this.filteModelContent);if(this.filteModelContent.filterActionSearchRecordStatus>0){let c=new A;c.propertyName="recordStatus",c.value=this.filteModelContent.filterActionSearchRecordStatus,d.filters.push(c)}if(this.filteModelContent.filterActionSearchLinkSiteId>0){let c=new A;c.propertyName="linkSiteId",c.value=this.filteModelContent.filterActionSearchLinkSiteId,d.filters.push(c)}if(this.filteModelContent.filterActionSearchLinkUserId>0){let c=new A;c.propertyName="linkUserId",c.value=this.filteModelContent.filterActionSearchLinkUserId,d.filters.push(c)}let f=new A;f.propertyName="recordStatus",f.value=be.Available,d.filters.push(f),this.contentService.ServiceGetCount(d).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(L=>{o.set(L,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonViewUserRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkUserId||this.tableRowSelected.linkUserId===0){this.translate.get("MESSAGE.content_does_not_contain_user_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId])}onActionButtonViewSiteRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkSiteId||this.tableRowSelected.linkSiteId===0){this.translate.get("MESSAGE.content_does_not_include_site_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};Ai.\u0275fac=function(o){return new(o||Ai)(S(wt),S(q),S(Ce),S(ge),S(j),S(P),S(G),S(F),S(Te),S(je),S(W),S(we))},Ai.\u0275cmp=O({type:Ai,selectors:[["app-coretoken-notificationlog-list"]],standalone:!1,features:[z],decls:90,vars:38,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionId"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-globe","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","linkSiteId"],["matColumnDef","linkUserId"],["matColumnDef","LinkMemberUserId"],["matColumnDef","recordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","UserAccessAreaType"],["matColumnDef","UserType"],["matColumnDef","UserAccessAdminAllowToAllData"],["matColumnDef","UserAccessAdminAllowToProfessionalData"],["matColumnDef","RememberOnDevice"],["matColumnDef","createdDate"],["style","direction: ltr",4,"matCellDef"],["matColumnDef","ExpireDate"],[3,"ngStyle",4,"matCellDef"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","target","_blank","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[2,"direction","ltr"],[3,"ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(o,t){if(o&1){let l=E();R(0,_s,1,1,"app-core-user-header",3),a(1,"app-cms-html-list",4),V("optionActionGuideNoticeDisplayChange",function(f){return C(l),B(t.viewGuideNotice,f)||(t.viewGuideNotice=f),_(f)}),M("optionOnActionButtonMemoRow",function(){return C(l),_(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return C(l),_(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return C(l),_(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return C(l),_(t.onActionButtonPrintRow())}),b(2,5),m(3," -------------------------------------- "),I(),ne(4,6)(5,7),b(6,8),R(7,vs,2,0,"a",9),a(8,"a",10),M("click",function(){return C(l),_(t.viewGuideNotice=!t.viewGuideNotice)}),g(9,"i",11),s(),a(10,"a",10),M("click",function(){return C(l),_(t.onActionButtonReload())}),g(11,"i",12),s(),I(),b(12,13),a(13,"a",14),M("click",function(){return C(l),_(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),g(14,"mat-slide-toggle",15),m(15),h(16,"translate"),s(),a(17,"a",14),M("click",function(){return C(l),_(t.onActionButtonStatist())}),g(18,"mat-slide-toggle",15),m(19),h(20,"translate"),s(),I(),ne(21,16),b(22,17),R(23,gs,7,3,"div",18),R(24,Ts,7,3,"div",18),a(25,"div",18)(26,"a",19),M("click",function(){return C(l),_(t.onActionButtonViewSiteRow(t.tableRowSelected))}),g(27,"i",20)(28,"br"),s(),a(29,"p",21),m(30),h(31,"translate"),s()(),a(32,"div",18)(33,"a",19),M("click",function(){return C(l),_(t.onActionButtonViewUserRow(t.tableRowSelected))}),g(34,"i",22)(35,"br"),s(),a(36,"p",21),m(37),h(38,"translate"),s()(),R(39,bs,7,3,"div",18),I(),b(40,23),a(41,"app-cms-search-list",24),V("optionsChange",function(f){return C(l),B(t.optionsSearch,f)||(t.optionsSearch=f),_(f)}),s(),a(42,"app-cms-statist-list",24),V("optionsChange",function(f){return C(l),B(t.optionsStatist,f)||(t.optionsStatist=f),_(f)}),s(),I(),b(43,25),a(44,"mat-table",26,0),M("matSortChange",function(){C(l);let f=K(45);return _(t.onTableSortData(f))}),b(46,27),w(47,Is,2,1,"mat-header-cell",28)(48,Ms,2,1,"mat-cell",29),I(),b(49,30),w(50,ws,2,1,"mat-header-cell",28)(51,As,4,5,"mat-cell",29),I(),b(52,31),w(53,ks,2,1,"mat-header-cell",28)(54,Es,4,5,"mat-cell",29),I(),b(55,32),w(56,Rs,2,1,"mat-header-cell",28)(57,ys,2,1,"mat-cell",29),I(),b(58,33),w(59,Ds,2,1,"mat-header-cell",28)(60,xs,5,7,"mat-cell",34),I(),b(61,35),w(62,Us,2,1,"mat-header-cell",28)(63,Bs,3,4,"mat-cell",29),I(),b(64,36),w(65,Vs,2,1,"mat-header-cell",28)(66,Os,3,4,"mat-cell",29),I(),b(67,37),w(68,Ns,2,1,"mat-header-cell",28)(69,Ps,3,3,"mat-cell",29),I(),b(70,38),w(71,Gs,2,1,"mat-header-cell",28)(72,Hs,3,3,"mat-cell",29),I(),b(73,39),w(74,Fs,2,1,"mat-header-cell",28)(75,js,3,3,"mat-cell",29),I(),b(76,40),w(77,qs,2,1,"mat-header-cell",28)(78,Ws,3,3,"mat-cell",41),I(),b(79,42),w(80,Qs,2,1,"mat-header-cell",28)(81,$s,3,6,"mat-cell",43),I(),b(82,44),w(83,zs,3,3,"mat-header-cell",45)(84,Ks,6,1,"mat-cell",46),I(),w(85,Js,1,0,"mat-header-row",47)(86,Xs,1,2,"mat-row",48),s(),I(),b(87,49),a(88,"mat-paginator",50,1),M("page",function(f){return C(l),_(t.onTablePageingData(f))}),s(),I(),s()}o&2&&(y(t.requestLinkUserId>0?0:-1),r(),T("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),U("optionActionGuideNoticeDisplay",t.viewGuideNotice),T("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),r(6),y(t.requestLinkSiteId>0?7:-1),r(4),J("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),r(3),T("checked",t.optionsSearch.data.show),r(),p("",v(16,29,"ACTION.SEARCH")," "),r(3),T("checked",t.optionsStatist.data.show),r(),p("",v(20,31,"ACTION.STATIST")," "),r(4),y(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?23:-1),r(),y(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?24:-1),r(6),p(" ",v(31,33,"ACTION.SITE")," "),r(7),p(" ",v(38,35,"ACTION.USER")," "),r(2),y(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessWatchRow&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0?39:-1),r(2),U("options",t.optionsSearch),r(),U("options",t.optionsStatist),r(2),T("dataSource",t.tableSource),r(41),T("matHeaderRowDef",t.tabledisplayedColumns),r(),T("matRowDefColumns",t.tabledisplayedColumns),r(2),T("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",he(37,Ss)))},dependencies:[tt,dt,Me,Ae,lt,ke,Ee,Re,ye,De,Le,xe,Be,Pe,Ve,Ue,Ge,Oe,Ne,He,Fe,$e,ze,Ke,Je,ht,Ye,ve,H,vt,Ze,qe,Xe,We,Ct,_t,ot],encapsulation:2});var mo=Ai;var Ys=["vform"];function Zs(i,n){if(i&1){let e=E();a(0,"app-cms-enum-record-status-selector",7),V("modelChange",function(t){C(e);let l=u();return B(l.dataModel.recordStatus,t)||(l.dataModel.recordStatus=t),_(t)}),s()}if(i&2){let e=u();U("model",e.dataModel.recordStatus),T("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function ea(i,n){if(i&1&&(a(0,"div"),g(1,"div",8),h(2,"prettyjson"),s()),i&2){let e=u();r(),T("innerHTML",v(2,1,e.dataModel),ci)}}function ta(i,n){if(i&1){let e=E();a(0,"div",6)(1,"button",9),M("click",function(){C(e);let t=u();return _(t.onFormCancel())}),g(2,"i",10),m(3),h(4,"translate"),s()()}i&2&&(r(3),p(" ",v(4,1,"ACTION.CANCEL")," "))}var ki=class ki extends ft{constructor(e,o,t,l,d,f,c,L,oe,Se){super(l,new gt,oe,Se);this.data=e;this.dialogRef=o;this.coreEnumService=t;this.coreTokenConnectionService=l;this.cmsToastrService=d;this.tokenHelper=f;this.cmsStoreService=c;this.cdr=L;this.publicHelper=oe;this.translate=Se;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new Ji;this.dataModel=new gt;this.dataModelEnumManageUserAccessAreaTypesResult=new D;this.dataModelEnumManageUserAccessUserTypesResult=new D;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id)}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>N(this,null,function*(){this.tokenInfo=e}))),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){this.coreEnumService.ServiceManageUserAccessAreaTypesEnum().subscribe({next:e=>{this.dataModelEnumManageUserAccessAreaTypesResult=e}})}getEnumManageUserAccessUserTypes(){this.coreEnumService.ServiceManageUserAccessUserTypesEnum().subscribe({next:e=>{this.dataModelEnumManageUserAccessUserTypesResult=e}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(o=>{this.formInfo.submitResultMessage=o}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(o=>{this.publicHelper.processService.processStart(e,o,this.constructorInfoAreaId)}),this.coreTokenConnectionService.setAccessLoad(),this.coreTokenConnectionService.setAccessDataType(pt.Editor),this.coreTokenConnectionService.ServiceGetOneById(this.requestId).subscribe({next:o=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModel=o.item,o.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+o.item.id,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=o.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(o.errorMessage)),this.publicHelper.processService.processStop(e)},error:o=>{this.cmsToastrService.typeError(o),this.publicHelper.processService.processStop(e,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};ki.\u0275fac=function(o){return new(o||ki)(S(te),S(ee),S($),S(Tt),S(q),S(j),S(F),S(P),S(W),S(G))},ki.\u0275cmp=O({type:ki,selectors:[["app-coretoken-notification-edit"]],viewQuery:function(o,t){if(o&1&&X(Ys,5),o&2){let l;Y(l=Z())&&(t.formGroup=l.first)}},standalone:!1,features:[z],decls:15,vars:18,consts:[[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],[1,"form-actions"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"innerHTML"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(o,t){o&1&&(a(0,"div",0),g(1,"app-progress-spinner",1),a(2,"div",2)(3,"p",3),m(4),s(),a(5,"p"),m(6),h(7,"translate"),s(),R(8,Zs,1,5,"app-cms-enum-record-status-selector",4),g(9,"app-cms-site-selector",5),h(10,"translate"),g(11,"app-cms-user-selector",5),h(12,"translate"),R(13,ea,3,3,"div"),R(14,ta,5,3,"div",6),s()()),o&2&&(r(),T("optionsInfoAreaId",t.constructorInfoAreaId),r(3),p(" ",t.formInfo.formTitle," "),r(2),p(" ",v(7,12,"TITLE.Be_Careful_When_Entering_Information")," "),r(2),y(t.fieldsInfo.recordStatus!=null&&t.fieldsInfo.recordStatus.accessWatchField?8:-1),r(),T("optionDisabled",!0)("optionSelectForce",t.dataModel.linkSiteId)("optionPlaceholder",v(10,14,"TITLE.WEBSITE")),r(2),T("optionDisabled",!0)("optionSelectForce",t.dataModel.linkUserId)("optionPlaceholder",v(12,16,"TITLE.USER")),r(2),y(t.tokenInfo.access.userAccessAdminAllowToProfessionalData?13:-1),r(),y(t.formInfo.submitButtonEnabled?14:-1))},dependencies:[ut,bt,St,ie,H,pi],encapsulation:2});var Ei=ki;var ia=["vform"];function oa(i,n){if(i&1){let e=E();a(0,"div",7)(1,"button",8),M("click",function(){C(e);let t=u();return _(t.onFormCancel())}),g(2,"i",9),m(3),h(4,"translate"),s()()}i&2&&(r(3),p(" ",v(4,1,"ACTION.CANCEL")," "))}var Ri=class Ri{constructor(n,e,o,t,l,d,f,c,L,oe){this.data=n;this.dialogRef=e;this.coreEnumService=o;this.coreTokenConnectionService=t;this.cmsToastrService=l;this.tokenHelper=d;this.cmsStoreService=f;this.cdr=c;this.publicHelper=L;this.translate=oe;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.tokenInfo=new it;this.dataModelResult=new D;this.dataModel=new gt;this.formInfo=new nt;this.dataModelEnumSendSmsStatusTypeResult=new D;this.fieldsInfo=new Map;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,n&&(this.requestId=n.id+"")}ngOnInit(){if(this.translate.get("TITLE.VIEW").subscribe(n=>{this.formInfo.formTitle=n}),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(n=>n.tokenInfoStore).subscribe(n=>N(this,null,function*(){this.tokenInfo=n}))),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:n=>{this.dataModelEnumSendSmsStatusTypeResult=n}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(n=>n.unsubscribe())}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage="";let n=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(n,e,this.constructorInfoAreaId)}),this.coreTokenConnectionService.setAccessLoad(),this.coreTokenConnectionService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModel=e.item,e.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+e.item.id,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(o=>{this.formInfo.submitResultMessage=o}),this.formInfo.submitResultMessage=e.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(e.errorMessage)),this.publicHelper.processService.processStop(n)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(n,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Ri.\u0275fac=function(e){return new(e||Ri)(S(te),S(ee),S($),S(Tt),S(q),S(j),S(F),S(P),S(W),S(G))},Ri.\u0275cmp=O({type:Ri,selectors:[["app-coretoken-notification-view"]],viewQuery:function(e,o){if(e&1&&X(ia,5),e&2){let t;Y(t=Z())&&(o.formGroup=t.first)}},standalone:!1,decls:9,vars:6,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection","loader-container"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[3,"formInfo"],[1,"ntk-cms-html-card-footer"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,o){e&1&&(a(0,"div",0),m(1),s(),a(2,"div",1),g(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),s(),a(5,"div",4),g(6,"app-cms-form-result-message",5),s(),a(7,"div",6),R(8,oa,5,3,"div",7),s()),e&2&&(r(),p(" ",o.formInfo.formTitle," "),r(2),T("optionsInfoAreaId",o.constructorInfoAreaId),r(),T("dataModel",o.dataModel)("optionMethod",1),r(2),T("formInfo",o.formInfo),r(2),y(o.formInfo.submitButtonEnabled?8:-1))},dependencies:[ie,st,rt,H],encapsulation:2});var yi=Ri;var na=()=>[5,10,20,100],ra=i=>({display:i}),sa=i=>({background:i});function aa(i,n){if(i&1&&g(0,"app-core-user-header",3),i&2){let e=u();T("optionId",e.requestLinkUserId)}}function la(i,n){if(i&1){let e=E();a(0,"a",51),M("click",function(){C(e);let t=u();return _(t.onActionBackToParent())}),g(1,"i",52),s()}}function ca(i,n){if(i&1){let e=E();a(0,"div",18)(1,"a",53),M("click",function(){C(e);let t=u();return _(t.onActionButtonEditRow(t.tableRowSelected))}),g(2,"i",54)(3,"br"),s(),a(4,"p",21),m(5),h(6,"translate"),s()()}i&2&&(r(5),p(" ",v(6,1,"ACTION.EDIT")," "))}function ma(i,n){if(i&1){let e=E();a(0,"div",18)(1,"a",55),M("click",function(){C(e);let t=u();return _(t.onActionButtonDeleteRow(t.tableRowSelected))}),g(2,"i",56)(3,"br"),s(),a(4,"p",21),m(5),h(6,"translate"),s()()}i&2&&(r(5),p(" ",v(6,1,"ACTION.DELETE")," "))}function da(i,n){if(i&1){let e=E();a(0,"div",18)(1,"a",57),M("click",function(){C(e);let t=u();return _(t.onActionButtonViewRow(t.tableRowSelected))}),g(2,"i",58)(3,"br"),s(),a(4,"p",21),m(5),h(6,"translate"),s()()}i&2&&(r(5),p(" ",v(6,1,"ACTION.VIEW")," "))}function pa(i,n){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();r(),p(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function ua(i,n){if(i&1&&(a(0,"mat-cell"),m(1),s()),i&2){let e=n.$implicit;r(),p(" ",e.id," ")}}function fa(i,n){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();r(),p(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function Sa(i,n){if(i&1&&(a(0,"mat-cell"),m(1),h(2,"cmssiteinfo"),h(3,"async"),s()),i&2){let e=n.$implicit;r(),p(" ",v(3,3,v(2,1,e.linkSiteId))," ")}}function ha(i,n){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();r(),p(" ",e.fieldsInfo.linkUserId==null?null:e.fieldsInfo.linkUserId.fieldTitle," ")}}function Ca(i,n){if(i&1&&(a(0,"mat-cell"),m(1),h(2,"cmsuserinfo"),h(3,"async"),s()),i&2){let e=n.$implicit;r(),p(" ",v(3,3,v(2,1,e.linkUserId))," ")}}function _a(i,n){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();r(),p(" ",e.fieldsInfo.linkMemberUserId==null?null:e.fieldsInfo.linkMemberUserId.fieldTitle," ")}}function va(i,n){if(i&1&&(a(0,"mat-cell"),m(1),s()),i&2){let e=n.$implicit;r(),p(" ",e.linkMemberUserId," ")}}function ga(i,n){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();r(),p(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function Ta(i,n){if(i&1&&g(0,"select",61),i&2){let e=u().$implicit,o=u();T("contentService",o.contentService)("row",e)("ngStyle",_e(3,ra,e.id===(o.tableRowSelected==null?null:o.tableRowSelected.id)?"":"none"))}}function ba(i,n){if(i&1&&(a(0,"mat-cell",60),h(1,"statusCellClass"),g(2,"i",60),h(3,"statusIconClass"),R(4,Ta,1,5,"select",61),s()),i&2){let e=n.$implicit,o=u();T("ngClass",v(1,3,e.recordStatus)),r(2),T("ngClass",v(3,5,e.recordStatus)),r(2),y(!(o.dataModelResult==null||o.dataModelResult.access==null)&&o.dataModelResult.access.accessEditRow?4:-1)}}function Ia(i,n){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();r(),p(" ",e.fieldsInfo.userAccessAreaType==null?null:e.fieldsInfo.userAccessAreaType.fieldTitle," ")}}function Ma(i,n){if(i&1&&(a(0,"mat-cell"),m(1),h(2,"enums"),s()),i&2){let e=n.$implicit,o=u();r(),p(" ",re(2,1,e.userAccessAreaType,o.dataModelEnumManageUserAccessAreaTypesResult.listItems)," ")}}function wa(i,n){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();r(),p(" ",e.fieldsInfo.userType==null?null:e.fieldsInfo.userType.fieldTitle," ")}}function Aa(i,n){if(i&1&&(a(0,"mat-cell"),m(1),h(2,"enums"),s()),i&2){let e=n.$implicit,o=u();r(),p(" ",re(2,1,e.userType,o.dataModelEnumManageUserAccessUserTypesResult.listItems)," ")}}function ka(i,n){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();r(),p(" ",e.fieldsInfo.userAccessAdminAllowToAllData==null?null:e.fieldsInfo.userAccessAdminAllowToAllData.fieldTitle," ")}}function Ea(i,n){if(i&1&&(a(0,"mat-cell"),g(1,"i",60),h(2,"boolclass"),s()),i&2){let e=n.$implicit;r(),T("ngClass",v(2,1,e.userAccessAdminAllowToAllData))}}function Ra(i,n){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();r(),p(" ",e.fieldsInfo.userAccessAdminAllowToProfessionalData==null?null:e.fieldsInfo.userAccessAdminAllowToProfessionalData.fieldTitle," ")}}function ya(i,n){if(i&1&&(a(0,"mat-cell"),g(1,"i",60),h(2,"boolclass"),s()),i&2){let e=n.$implicit;r(),T("ngClass",v(2,1,e.userAccessAdminAllowToProfessionalData))}}function Da(i,n){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();r(),p(" ",e.fieldsInfo.rememberOnDevice==null?null:e.fieldsInfo.rememberOnDevice.fieldTitle," ")}}function La(i,n){if(i&1&&(a(0,"mat-cell"),g(1,"i",60),h(2,"boolclass"),s()),i&2){let e=n.$implicit;r(),T("ngClass",v(2,1,e.rememberOnDevice))}}function xa(i,n){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();r(),p(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function Ua(i,n){if(i&1&&(a(0,"mat-cell",62),m(1),h(2,"localeDateTime"),s()),i&2){let e=n.$implicit;r(),p(" ",v(2,1,e.createdDate)," ")}}function Ba(i,n){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();r(),p(" ",e.fieldsInfo.expireDate==null?null:e.fieldsInfo.expireDate.fieldTitle," ")}}function Va(i,n){if(i&1&&(a(0,"mat-cell",63),m(1),h(2,"persianDate"),s()),i&2){let e=n.$implicit,o=u();T("ngStyle",_e(4,sa,o.publicHelper.RowStyleExpireDate(e.expireDate))),r(),p(" ",v(2,2,e.expireDate)," ")}}function Oa(i,n){i&1&&(a(0,"mat-header-cell"),m(1),h(2,"translate"),s()),i&2&&(r(),p(" ",v(2,1,"TITLE.OPTION")," "))}function Na(i,n){if(i&1&&(a(0,"mat-cell",64)(1,"button",65)(2,"mat-icon"),m(3,"more_vert"),s()(),g(4,"mat-menu",null,2),s()),i&2){let e=K(5);r(),T("matMenuTriggerFor",e)}}function Pa(i,n){i&1&&g(0,"mat-header-row")}function Ga(i,n){if(i&1){let e=E();a(0,"mat-row",66),M("click",function(t){let l=C(e).$implicit,d=u();return _(d.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=C(e).$implicit,d=u();return _(d.onActionTableRowSelect(l,t))}),s()}if(i&2){let e=n.$implicit,o=u();J("ntk-row-selected",e.id===(o.tableRowSelected==null?null:o.tableRowSelected.id))}}var Di=class Di extends Qe{constructor(e,o,t,l,d,f,c,L,oe,Se,et,It){super(e,new gt,et,d,c);this.contentService=e;this.cmsToastrService=o;this.cmsConfirmationDialogService=t;this.activatedRoute=l;this.tokenHelper=d;this.cdr=f;this.translate=c;this.cmsStoreService=L;this.router=oe;this.pageInfo=Se;this.publicHelper=et;this.dialog=It;this.requestLinkSiteId=0;this.requestLinkUserId=0;this.requestLinkDeviceId=0;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new Ie;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["id","linkSiteId","linkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","createdDate","ExpireDate"];this.tabledisplayedColumnsMobileSource=["id","linkSiteId","linkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","createdDate","ExpireDate"];this.dataModelEnumManageUserAccessAreaTypesResult=new D;this.dataModelEnumManageUserAccessUserTypesResult=new D;this.unsubscribe=[];if(this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkDeviceId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkDeviceId")),this.requestLinkSiteId>0){let k=new A;k.propertyName="LinkCmsSiteId",k.value=this.requestLinkSiteId,this.filteModelContent.filters.push(k)}if(this.requestLinkUserId>0){let k=new A;k.propertyName="linkUserId",k.value=this.requestLinkUserId,this.filteModelContent.filters.push(k)}if(this.requestLinkDeviceId>0){let k=new A;k.propertyName="LinkDeviceId",k.value=this.requestLinkDeviceId,this.filteModelContent.filters.push(k)}this.optionsSearch.parentMethods={onSubmit:k=>this.onSubmitOptionsSearch(k)},this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=x.Descending,this.optionsSearch.data.filterModelContent=this.filteModelContent,this.optionsSearch.data.filterActionSearchRecordStatusShow=!0,this.tokenHelper.isAdminSite?(this.optionsSearch.data.filterActionSearchLinkUserIdShow=!0,this.optionsSearch.data.filterActionSearchLinkSiteIdShow=!0):(this.optionsSearch.data.filterActionSearchLinkSiteIdShow=!1,this.optionsSearch.data.filterActionSearchLinkUserIdShow=!1)}filterModelCompiler(e){let o=JSON.parse(JSON.stringify(e));return this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(o.filters=[...this.filterDataModelQueryBuilder]),o}ngOnInit(){this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=x.Descending,this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>N(this,null,function*(){this.tokenInfo=e,this.DataGetAll()}))),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.processOrderStore).subscribe(e=>N(this,null,function*(){var o=e.find(t=>t.contentAction=="core_token_online_update_list"&&!t.isRun);o&&o?.id?.length>0&&(o.isRun=!0,this.publicHelper.setProcessOrder(o),this.DataGetAll(t=>{o.isComplate=!0,o.isSuccess=t,this.publicHelper.setProcessOrder(o)}))})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(e=()=>{}){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new gt);let o=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(l=>{this.publicHelper.processService.processStart(o,l,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let t=this.filterModelCompiler(this.filteModelContent);if(this.filteModelContent.filterActionSearchRecordStatus>0){let l=new A;l.propertyName="recordStatus",l.value=this.filteModelContent.filterActionSearchRecordStatus,t.filters.push(l)}if(this.filteModelContent.filterActionSearchLinkSiteId>0){let l=new A;l.propertyName="linkSiteId",l.value=this.filteModelContent.filterActionSearchLinkSiteId,t.filters.push(l)}if(this.filteModelContent.filterActionSearchLinkUserId>0){let l=new A;l.propertyName="linkUserId",l.value=this.filteModelContent.filterActionSearchLinkUserId,t.filters.push(l)}this.contentService.ServiceGetAllLiveConnection(t).subscribe({next:l=>{l.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(l.access),this.dataModelResult=l,this.tableSource.data=l.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(l.access)},1e3)):this.cmsToastrService.typeErrorMessage(l.errorMessage),this.publicHelper.processService.processStop(o),e&&e(!0)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(o,!1),e&&e(!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=x.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=x.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=x.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonViewRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var o="";this.publicHelper.isMobile?o="dialog-fullscreen":o="dialog-min",this.dialog.open(yi,{height:"90%",panelClass:o,enterAnimationDuration:Q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate})}onActionButtonEditRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var o="";this.publicHelper.isMobile?o="dialog-fullscreen":o="dialog-min",this.dialog.open(Ei,{height:"90%",panelClass:o,enterAnimationDuration:Q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(l=>{this.cmsToastrService.typeErrorSelected(l)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var o="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(l=>{o=l["MESSAGE.Please_Confirm"],t=l["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(o,t).then(l=>{if(l){let d=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(f=>{this.publicHelper.processService.processStart(d,f,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:f=>{f.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(d)},error:f=>{this.cmsToastrService.typeError(f),this.publicHelper.processService.processStop(d,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let o=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{o.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{o.set(c,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructorInfoAreaId)});let l=this.filterModelCompiler(this.filteModelContent);if(this.filteModelContent.filterActionSearchRecordStatus>0){let c=new A;c.propertyName="recordStatus",c.value=this.filteModelContent.filterActionSearchRecordStatus,l.filters.push(c)}if(this.filteModelContent.filterActionSearchLinkSiteId>0){let c=new A;c.propertyName="linkSiteId",c.value=this.filteModelContent.filterActionSearchLinkSiteId,l.filters.push(c)}if(this.filteModelContent.filterActionSearchLinkUserId>0){let c=new A;c.propertyName="linkUserId",c.value=this.filteModelContent.filterActionSearchLinkUserId,l.filters.push(c)}this.contentService.ServiceGetCount(l).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(L=>{o.set(L,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}});let d=this.filterModelCompiler(this.filteModelContent);if(this.filteModelContent.filterActionSearchRecordStatus>0){let c=new A;c.propertyName="recordStatus",c.value=this.filteModelContent.filterActionSearchRecordStatus,d.filters.push(c)}if(this.filteModelContent.filterActionSearchLinkSiteId>0){let c=new A;c.propertyName="linkSiteId",c.value=this.filteModelContent.filterActionSearchLinkSiteId,d.filters.push(c)}if(this.filteModelContent.filterActionSearchLinkUserId>0){let c=new A;c.propertyName="linkUserId",c.value=this.filteModelContent.filterActionSearchLinkUserId,d.filters.push(c)}let f=new A;f.propertyName="recordStatus",f.value=be.Available,d.filters.push(f),this.contentService.ServiceGetCount(d).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(L=>{o.set(L,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonViewUserRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkUserId||this.tableRowSelected.linkUserId===0){this.translate.get("MESSAGE.content_does_not_contain_user_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId])}onActionButtonViewSiteRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkSiteId||this.tableRowSelected.linkSiteId===0){this.translate.get("MESSAGE.content_does_not_include_site_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};Di.\u0275fac=function(o){return new(o||Di)(S(Tt),S(q),S(Ce),S(ge),S(j),S(P),S(G),S(F),S(Te),S(je),S(W),S(we))},Di.\u0275cmp=O({type:Di,selectors:[["app-coretoken-notification-list-online"]],standalone:!1,features:[z],decls:90,vars:38,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionId"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-globe","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","linkSiteId"],["matColumnDef","linkUserId"],["matColumnDef","LinkMemberUserId"],["matColumnDef","recordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","UserAccessAreaType"],["matColumnDef","UserType"],["matColumnDef","UserAccessAdminAllowToAllData"],["matColumnDef","UserAccessAdminAllowToProfessionalData"],["matColumnDef","RememberOnDevice"],["matColumnDef","createdDate"],["style","direction: ltr",4,"matCellDef"],["matColumnDef","ExpireDate"],[3,"ngStyle",4,"matCellDef"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","target","_blank","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[2,"direction","ltr"],[3,"ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(o,t){if(o&1){let l=E();R(0,aa,1,1,"app-core-user-header",3),a(1,"app-cms-html-list",4),V("optionActionGuideNoticeDisplayChange",function(f){return C(l),B(t.viewGuideNotice,f)||(t.viewGuideNotice=f),_(f)}),M("optionOnActionButtonMemoRow",function(){return C(l),_(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return C(l),_(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return C(l),_(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return C(l),_(t.onActionButtonPrintRow())}),b(2,5),m(3," -------------------------------------- "),I(),ne(4,6)(5,7),b(6,8),R(7,la,2,0,"a",9),a(8,"a",10),M("click",function(){return C(l),_(t.viewGuideNotice=!t.viewGuideNotice)}),g(9,"i",11),s(),a(10,"a",10),M("click",function(){return C(l),_(t.onActionButtonReload())}),g(11,"i",12),s(),I(),b(12,13),a(13,"a",14),M("click",function(){return C(l),_(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),g(14,"mat-slide-toggle",15),m(15),h(16,"translate"),s(),a(17,"a",14),M("click",function(){return C(l),_(t.onActionButtonStatist())}),g(18,"mat-slide-toggle",15),m(19),h(20,"translate"),s(),I(),ne(21,16),b(22,17),R(23,ca,7,3,"div",18),R(24,ma,7,3,"div",18),a(25,"div",18)(26,"a",19),M("click",function(){return C(l),_(t.onActionButtonViewSiteRow(t.tableRowSelected))}),g(27,"i",20)(28,"br"),s(),a(29,"p",21),m(30),h(31,"translate"),s()(),a(32,"div",18)(33,"a",19),M("click",function(){return C(l),_(t.onActionButtonViewUserRow(t.tableRowSelected))}),g(34,"i",22)(35,"br"),s(),a(36,"p",21),m(37),h(38,"translate"),s()(),R(39,da,7,3,"div",18),I(),b(40,23),a(41,"app-cms-search-list",24),V("optionsChange",function(f){return C(l),B(t.optionsSearch,f)||(t.optionsSearch=f),_(f)}),s(),a(42,"app-cms-statist-list",24),V("optionsChange",function(f){return C(l),B(t.optionsStatist,f)||(t.optionsStatist=f),_(f)}),s(),I(),b(43,25),a(44,"mat-table",26,0),M("matSortChange",function(){C(l);let f=K(45);return _(t.onTableSortData(f))}),b(46,27),w(47,pa,2,1,"mat-header-cell",28)(48,ua,2,1,"mat-cell",29),I(),b(49,30),w(50,fa,2,1,"mat-header-cell",28)(51,Sa,4,5,"mat-cell",29),I(),b(52,31),w(53,ha,2,1,"mat-header-cell",28)(54,Ca,4,5,"mat-cell",29),I(),b(55,32),w(56,_a,2,1,"mat-header-cell",28)(57,va,2,1,"mat-cell",29),I(),b(58,33),w(59,ga,2,1,"mat-header-cell",28)(60,ba,5,7,"mat-cell",34),I(),b(61,35),w(62,Ia,2,1,"mat-header-cell",28)(63,Ma,3,4,"mat-cell",29),I(),b(64,36),w(65,wa,2,1,"mat-header-cell",28)(66,Aa,3,4,"mat-cell",29),I(),b(67,37),w(68,ka,2,1,"mat-header-cell",28)(69,Ea,3,3,"mat-cell",29),I(),b(70,38),w(71,Ra,2,1,"mat-header-cell",28)(72,ya,3,3,"mat-cell",29),I(),b(73,39),w(74,Da,2,1,"mat-header-cell",28)(75,La,3,3,"mat-cell",29),I(),b(76,40),w(77,xa,2,1,"mat-header-cell",28)(78,Ua,3,3,"mat-cell",41),I(),b(79,42),w(80,Ba,2,1,"mat-header-cell",28)(81,Va,3,6,"mat-cell",43),I(),b(82,44),w(83,Oa,3,3,"mat-header-cell",45)(84,Na,6,1,"mat-cell",46),I(),w(85,Pa,1,0,"mat-header-row",47)(86,Ga,1,2,"mat-row",48),s(),I(),b(87,49),a(88,"mat-paginator",50,1),M("page",function(f){return C(l),_(t.onTablePageingData(f))}),s(),I(),s()}o&2&&(y(t.requestLinkUserId>0?0:-1),r(),T("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),U("optionActionGuideNoticeDisplay",t.viewGuideNotice),T("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),r(6),y(t.requestLinkSiteId>0?7:-1),r(4),J("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),r(3),T("checked",t.optionsSearch.data.show),r(),p("",v(16,29,"ACTION.SEARCH")," "),r(3),T("checked",t.optionsStatist.data.show),r(),p("",v(20,31,"ACTION.STATIST")," "),r(4),y(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?23:-1),r(),y(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?24:-1),r(6),p(" ",v(31,33,"ACTION.SITE")," "),r(7),p(" ",v(38,35,"ACTION.USER")," "),r(2),y(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessWatchRow&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0?39:-1),r(2),U("options",t.optionsSearch),r(),U("options",t.optionsStatist),r(2),T("dataSource",t.tableSource),r(41),T("matHeaderRowDef",t.tabledisplayedColumns),r(),T("matRowDefColumns",t.tabledisplayedColumns),r(2),T("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",he(37,na)))},dependencies:[tt,dt,Me,Ae,lt,ke,Ee,Re,ye,De,Le,xe,Be,Pe,Ve,Ue,Ge,Oe,Ne,He,Fe,$e,ze,Ke,Je,ht,Ye,ve,H,vt,Ze,qe,Xe,We,Ct,_t,ot],encapsulation:2});var po=Di;var Ha=()=>[5,10,20,100],Fa=i=>({display:i}),ja=i=>({background:i});function qa(i,n){if(i&1&&g(0,"app-core-user-header",3),i&2){let e=u();T("optionId",e.requestLinkUserId)}}function Wa(i,n){if(i&1){let e=E();a(0,"a",51),M("click",function(){C(e);let t=u();return _(t.onActionBackToParent())}),g(1,"i",52),s()}}function Qa(i,n){if(i&1){let e=E();a(0,"div",18)(1,"a",53),M("click",function(){C(e);let t=u();return _(t.onActionButtonEditRow(t.tableRowSelected))}),g(2,"i",54)(3,"br"),s(),a(4,"p",21),m(5),h(6,"translate"),s()()}i&2&&(r(5),p(" ",v(6,1,"ACTION.EDIT")," "))}function $a(i,n){if(i&1){let e=E();a(0,"div",18)(1,"a",55),M("click",function(){C(e);let t=u();return _(t.onActionButtonDeleteRow(t.tableRowSelected))}),g(2,"i",56)(3,"br"),s(),a(4,"p",21),m(5),h(6,"translate"),s()()}i&2&&(r(5),p(" ",v(6,1,"ACTION.DELETE")," "))}function za(i,n){if(i&1){let e=E();a(0,"div",18)(1,"a",57),M("click",function(){C(e);let t=u();return _(t.onActionButtonViewRow(t.tableRowSelected))}),g(2,"i",58)(3,"br"),s(),a(4,"p",21),m(5),h(6,"translate"),s()()}i&2&&(r(5),p(" ",v(6,1,"ACTION.VIEW")," "))}function Ka(i,n){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();r(),p(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function Ja(i,n){if(i&1&&(a(0,"mat-cell"),m(1),s()),i&2){let e=n.$implicit;r(),p(" ",e.id," ")}}function Xa(i,n){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();r(),p(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function Ya(i,n){if(i&1&&(a(0,"mat-cell"),m(1),h(2,"cmssiteinfo"),h(3,"async"),s()),i&2){let e=n.$implicit;r(),p(" ",v(3,3,v(2,1,e.linkSiteId))," ")}}function Za(i,n){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();r(),p(" ",e.fieldsInfo.linkUserId==null?null:e.fieldsInfo.linkUserId.fieldTitle," ")}}function el(i,n){if(i&1&&(a(0,"mat-cell"),m(1),h(2,"cmsuserinfo"),h(3,"async"),s()),i&2){let e=n.$implicit;r(),p(" ",v(3,3,v(2,1,e.linkUserId))," ")}}function tl(i,n){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();r(),p(" ",e.fieldsInfo.linkMemberUserId==null?null:e.fieldsInfo.linkMemberUserId.fieldTitle," ")}}function il(i,n){if(i&1&&(a(0,"mat-cell"),m(1),s()),i&2){let e=n.$implicit;r(),p(" ",e.linkMemberUserId," ")}}function ol(i,n){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();r(),p(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function nl(i,n){if(i&1&&g(0,"select",61),i&2){let e=u().$implicit,o=u();T("contentService",o.contentService)("row",e)("ngStyle",_e(3,Fa,e.id===(o.tableRowSelected==null?null:o.tableRowSelected.id)?"":"none"))}}function rl(i,n){if(i&1&&(a(0,"mat-cell",60),h(1,"statusCellClass"),g(2,"i",60),h(3,"statusIconClass"),R(4,nl,1,5,"select",61),s()),i&2){let e=n.$implicit,o=u();T("ngClass",v(1,3,e.recordStatus)),r(2),T("ngClass",v(3,5,e.recordStatus)),r(2),y(!(o.dataModelResult==null||o.dataModelResult.access==null)&&o.dataModelResult.access.accessEditRow?4:-1)}}function sl(i,n){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();r(),p(" ",e.fieldsInfo.userAccessAreaType==null?null:e.fieldsInfo.userAccessAreaType.fieldTitle," ")}}function al(i,n){if(i&1&&(a(0,"mat-cell"),m(1),h(2,"enums"),s()),i&2){let e=n.$implicit,o=u();r(),p(" ",re(2,1,e.userAccessAreaType,o.dataModelEnumManageUserAccessAreaTypesResult.listItems)," ")}}function ll(i,n){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();r(),p(" ",e.fieldsInfo.userType==null?null:e.fieldsInfo.userType.fieldTitle," ")}}function cl(i,n){if(i&1&&(a(0,"mat-cell"),m(1),h(2,"enums"),s()),i&2){let e=n.$implicit,o=u();r(),p(" ",re(2,1,e.userType,o.dataModelEnumManageUserAccessUserTypesResult.listItems)," ")}}function ml(i,n){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();r(),p(" ",e.fieldsInfo.userAccessAdminAllowToAllData==null?null:e.fieldsInfo.userAccessAdminAllowToAllData.fieldTitle," ")}}function dl(i,n){if(i&1&&(a(0,"mat-cell"),g(1,"i",60),h(2,"boolclass"),s()),i&2){let e=n.$implicit;r(),T("ngClass",v(2,1,e.userAccessAdminAllowToAllData))}}function pl(i,n){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();r(),p(" ",e.fieldsInfo.userAccessAdminAllowToProfessionalData==null?null:e.fieldsInfo.userAccessAdminAllowToProfessionalData.fieldTitle," ")}}function ul(i,n){if(i&1&&(a(0,"mat-cell"),g(1,"i",60),h(2,"boolclass"),s()),i&2){let e=n.$implicit;r(),T("ngClass",v(2,1,e.userAccessAdminAllowToProfessionalData))}}function fl(i,n){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();r(),p(" ",e.fieldsInfo.rememberOnDevice==null?null:e.fieldsInfo.rememberOnDevice.fieldTitle," ")}}function Sl(i,n){if(i&1&&(a(0,"mat-cell"),g(1,"i",60),h(2,"boolclass"),s()),i&2){let e=n.$implicit;r(),T("ngClass",v(2,1,e.rememberOnDevice))}}function hl(i,n){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();r(),p(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function Cl(i,n){if(i&1&&(a(0,"mat-cell",62),m(1),h(2,"localeDateTime"),s()),i&2){let e=n.$implicit;r(),p(" ",v(2,1,e.createdDate)," ")}}function _l(i,n){if(i&1&&(a(0,"mat-header-cell",59),m(1),s()),i&2){let e=u();r(),p(" ",e.fieldsInfo.expireDate==null?null:e.fieldsInfo.expireDate.fieldTitle," ")}}function vl(i,n){if(i&1&&(a(0,"mat-cell",63),m(1),h(2,"persianDate"),s()),i&2){let e=n.$implicit,o=u();T("ngStyle",_e(4,ja,o.publicHelper.RowStyleExpireDate(e.expireDate))),r(),p(" ",v(2,2,e.expireDate)," ")}}function gl(i,n){i&1&&(a(0,"mat-header-cell"),m(1),h(2,"translate"),s()),i&2&&(r(),p(" ",v(2,1,"TITLE.OPTION")," "))}function Tl(i,n){if(i&1&&(a(0,"mat-cell",64)(1,"button",65)(2,"mat-icon"),m(3,"more_vert"),s()(),g(4,"mat-menu",null,2),s()),i&2){let e=K(5);r(),T("matMenuTriggerFor",e)}}function bl(i,n){i&1&&g(0,"mat-header-row")}function Il(i,n){if(i&1){let e=E();a(0,"mat-row",66),M("click",function(t){let l=C(e).$implicit,d=u();return _(d.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=C(e).$implicit,d=u();return _(d.onActionTableRowSelect(l,t))}),s()}if(i&2){let e=n.$implicit,o=u();J("ntk-row-selected",e.id===(o.tableRowSelected==null?null:o.tableRowSelected.id))}}var Li=class Li extends Qe{constructor(e,o,t,l,d,f,c,L,oe,Se,et,It){super(e,new gt,et,d,c);this.contentService=e;this.cmsToastrService=o;this.cmsConfirmationDialogService=t;this.activatedRoute=l;this.tokenHelper=d;this.cdr=f;this.translate=c;this.cmsStoreService=L;this.router=oe;this.pageInfo=Se;this.publicHelper=et;this.dialog=It;this.requestLinkSiteId=0;this.requestLinkUserId=0;this.requestLinkDeviceId=0;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new Ie;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["id","linkSiteId","linkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","createdDate","ExpireDate"];this.tabledisplayedColumnsMobileSource=["id","linkSiteId","linkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","createdDate","ExpireDate"];this.dataModelEnumManageUserAccessAreaTypesResult=new D;this.dataModelEnumManageUserAccessUserTypesResult=new D;this.unsubscribe=[];if(this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkDeviceId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkDeviceId")),this.requestLinkSiteId>0){let k=new A;k.propertyName="LinkCmsSiteId",k.value=this.requestLinkSiteId,this.filteModelContent.filters.push(k)}if(this.requestLinkUserId>0){let k=new A;k.propertyName="linkUserId",k.value=this.requestLinkUserId,this.filteModelContent.filters.push(k)}if(this.requestLinkDeviceId>0){let k=new A;k.propertyName="LinkDeviceId",k.value=this.requestLinkDeviceId,this.filteModelContent.filters.push(k)}this.optionsSearch.parentMethods={onSubmit:k=>this.onSubmitOptionsSearch(k)},this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=x.Descending,this.optionsSearch.data.filterModelContent=this.filteModelContent,this.optionsSearch.data.filterActionSearchRecordStatusShow=!0,this.tokenHelper.isAdminSite?(this.optionsSearch.data.filterActionSearchLinkUserIdShow=!0,this.optionsSearch.data.filterActionSearchLinkSiteIdShow=!0):(this.optionsSearch.data.filterActionSearchLinkSiteIdShow=!1,this.optionsSearch.data.filterActionSearchLinkUserIdShow=!1)}ngOnInit(){this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=x.Descending,this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>N(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}filterModelCompiler(e){let o=JSON.parse(JSON.stringify(e));return this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(o.filters=[...this.filterDataModelQueryBuilder]),o}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new gt);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let o=this.filterModelCompiler(this.filteModelContent);if(this.filteModelContent.filterActionSearchRecordStatus>0){let t=new A;t.propertyName="recordStatus",t.value=this.filteModelContent.filterActionSearchRecordStatus,o.filters.push(t)}if(this.filteModelContent.filterActionSearchLinkSiteId>0){let t=new A;t.propertyName="linkSiteId",t.value=this.filteModelContent.filterActionSearchLinkSiteId,o.filters.push(t)}if(this.filteModelContent.filterActionSearchLinkUserId>0){let t=new A;t.propertyName="linkUserId",t.value=this.filteModelContent.filterActionSearchLinkUserId,o.filters.push(t)}this.contentService.ServiceGetAllEditor(o).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=x.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=x.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=x.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonViewRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var o="";this.publicHelper.isMobile?o="dialog-fullscreen":o="dialog-min",this.dialog.open(yi,{height:"90%",panelClass:o,enterAnimationDuration:Q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate})}onActionButtonEditRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var o="";this.publicHelper.isMobile?o="dialog-fullscreen":o="dialog-min",this.dialog.open(Ei,{height:"90%",panelClass:o,enterAnimationDuration:Q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(l=>{this.cmsToastrService.typeErrorSelected(l)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var o="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(l=>{o=l["MESSAGE.Please_Confirm"],t=l["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(o,t).then(l=>{if(l){let d=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(f=>{this.publicHelper.processService.processStart(d,f,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:f=>{f.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(d)},error:f=>{this.cmsToastrService.typeError(f),this.publicHelper.processService.processStop(d,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let o=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{o.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{o.set(c,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructorInfoAreaId)});let l=this.filterModelCompiler(this.filteModelContent);if(this.filteModelContent.filterActionSearchRecordStatus>0){let c=new A;c.propertyName="recordStatus",c.value=this.filteModelContent.filterActionSearchRecordStatus,l.filters.push(c)}if(this.filteModelContent.filterActionSearchLinkSiteId>0){let c=new A;c.propertyName="linkSiteId",c.value=this.filteModelContent.filterActionSearchLinkSiteId,l.filters.push(c)}if(this.filteModelContent.filterActionSearchLinkUserId>0){let c=new A;c.propertyName="linkUserId",c.value=this.filteModelContent.filterActionSearchLinkUserId,l.filters.push(c)}this.contentService.ServiceGetCount(l).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(L=>{o.set(L,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}});let d=this.filterModelCompiler(this.filteModelContent);if(this.filteModelContent.filterActionSearchRecordStatus>0){let c=new A;c.propertyName="recordStatus",c.value=this.filteModelContent.filterActionSearchRecordStatus,d.filters.push(c)}if(this.filteModelContent.filterActionSearchLinkSiteId>0){let c=new A;c.propertyName="linkSiteId",c.value=this.filteModelContent.filterActionSearchLinkSiteId,d.filters.push(c)}if(this.filteModelContent.filterActionSearchLinkUserId>0){let c=new A;c.propertyName="linkUserId",c.value=this.filteModelContent.filterActionSearchLinkUserId,d.filters.push(c)}let f=new A;f.propertyName="recordStatus",f.value=be.Available,d.filters.push(f),this.contentService.ServiceGetCount(d).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(L=>{o.set(L,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonViewUserRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkUserId||this.tableRowSelected.linkUserId===0){this.translate.get("MESSAGE.content_does_not_contain_user_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId])}onActionButtonViewSiteRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkSiteId||this.tableRowSelected.linkSiteId===0){this.translate.get("MESSAGE.content_does_not_include_site_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};Li.\u0275fac=function(o){return new(o||Li)(S(Tt),S(q),S(Ce),S(ge),S(j),S(P),S(G),S(F),S(Te),S(je),S(W),S(we))},Li.\u0275cmp=O({type:Li,selectors:[["app-coretoken-notification-list"]],standalone:!1,features:[z],decls:90,vars:38,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionId"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-globe","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","linkSiteId"],["matColumnDef","linkUserId"],["matColumnDef","LinkMemberUserId"],["matColumnDef","recordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","UserAccessAreaType"],["matColumnDef","UserType"],["matColumnDef","UserAccessAdminAllowToAllData"],["matColumnDef","UserAccessAdminAllowToProfessionalData"],["matColumnDef","RememberOnDevice"],["matColumnDef","createdDate"],["style","direction: ltr",4,"matCellDef"],["matColumnDef","ExpireDate"],[3,"ngStyle",4,"matCellDef"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","target","_blank","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[2,"direction","ltr"],[3,"ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(o,t){if(o&1){let l=E();R(0,qa,1,1,"app-core-user-header",3),a(1,"app-cms-html-list",4),V("optionActionGuideNoticeDisplayChange",function(f){return C(l),B(t.viewGuideNotice,f)||(t.viewGuideNotice=f),_(f)}),M("optionOnActionButtonMemoRow",function(){return C(l),_(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return C(l),_(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return C(l),_(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return C(l),_(t.onActionButtonPrintRow())}),b(2,5),m(3," -------------------------------------- "),I(),ne(4,6)(5,7),b(6,8),R(7,Wa,2,0,"a",9),a(8,"a",10),M("click",function(){return C(l),_(t.viewGuideNotice=!t.viewGuideNotice)}),g(9,"i",11),s(),a(10,"a",10),M("click",function(){return C(l),_(t.onActionButtonReload())}),g(11,"i",12),s(),I(),b(12,13),a(13,"a",14),M("click",function(){return C(l),_(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),g(14,"mat-slide-toggle",15),m(15),h(16,"translate"),s(),a(17,"a",14),M("click",function(){return C(l),_(t.onActionButtonStatist())}),g(18,"mat-slide-toggle",15),m(19),h(20,"translate"),s(),I(),ne(21,16),b(22,17),R(23,Qa,7,3,"div",18),R(24,$a,7,3,"div",18),a(25,"div",18)(26,"a",19),M("click",function(){return C(l),_(t.onActionButtonViewSiteRow(t.tableRowSelected))}),g(27,"i",20)(28,"br"),s(),a(29,"p",21),m(30),h(31,"translate"),s()(),a(32,"div",18)(33,"a",19),M("click",function(){return C(l),_(t.onActionButtonViewUserRow(t.tableRowSelected))}),g(34,"i",22)(35,"br"),s(),a(36,"p",21),m(37),h(38,"translate"),s()(),R(39,za,7,3,"div",18),I(),b(40,23),a(41,"app-cms-search-list",24),V("optionsChange",function(f){return C(l),B(t.optionsSearch,f)||(t.optionsSearch=f),_(f)}),s(),a(42,"app-cms-statist-list",24),V("optionsChange",function(f){return C(l),B(t.optionsStatist,f)||(t.optionsStatist=f),_(f)}),s(),I(),b(43,25),a(44,"mat-table",26,0),M("matSortChange",function(){C(l);let f=K(45);return _(t.onTableSortData(f))}),b(46,27),w(47,Ka,2,1,"mat-header-cell",28)(48,Ja,2,1,"mat-cell",29),I(),b(49,30),w(50,Xa,2,1,"mat-header-cell",28)(51,Ya,4,5,"mat-cell",29),I(),b(52,31),w(53,Za,2,1,"mat-header-cell",28)(54,el,4,5,"mat-cell",29),I(),b(55,32),w(56,tl,2,1,"mat-header-cell",28)(57,il,2,1,"mat-cell",29),I(),b(58,33),w(59,ol,2,1,"mat-header-cell",28)(60,rl,5,7,"mat-cell",34),I(),b(61,35),w(62,sl,2,1,"mat-header-cell",28)(63,al,3,4,"mat-cell",29),I(),b(64,36),w(65,ll,2,1,"mat-header-cell",28)(66,cl,3,4,"mat-cell",29),I(),b(67,37),w(68,ml,2,1,"mat-header-cell",28)(69,dl,3,3,"mat-cell",29),I(),b(70,38),w(71,pl,2,1,"mat-header-cell",28)(72,ul,3,3,"mat-cell",29),I(),b(73,39),w(74,fl,2,1,"mat-header-cell",28)(75,Sl,3,3,"mat-cell",29),I(),b(76,40),w(77,hl,2,1,"mat-header-cell",28)(78,Cl,3,3,"mat-cell",41),I(),b(79,42),w(80,_l,2,1,"mat-header-cell",28)(81,vl,3,6,"mat-cell",43),I(),b(82,44),w(83,gl,3,3,"mat-header-cell",45)(84,Tl,6,1,"mat-cell",46),I(),w(85,bl,1,0,"mat-header-row",47)(86,Il,1,2,"mat-row",48),s(),I(),b(87,49),a(88,"mat-paginator",50,1),M("page",function(f){return C(l),_(t.onTablePageingData(f))}),s(),I(),s()}o&2&&(y(t.requestLinkUserId>0?0:-1),r(),T("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),U("optionActionGuideNoticeDisplay",t.viewGuideNotice),T("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),r(6),y(t.requestLinkSiteId>0?7:-1),r(4),J("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),r(3),T("checked",t.optionsSearch.data.show),r(),p("",v(16,29,"ACTION.SEARCH")," "),r(3),T("checked",t.optionsStatist.data.show),r(),p("",v(20,31,"ACTION.STATIST")," "),r(4),y(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?23:-1),r(),y(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?24:-1),r(6),p(" ",v(31,33,"ACTION.SITE")," "),r(7),p(" ",v(38,35,"ACTION.USER")," "),r(2),y(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessWatchRow&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0?39:-1),r(2),U("options",t.optionsSearch),r(),U("options",t.optionsStatist),r(2),T("dataSource",t.tableSource),r(41),T("matHeaderRowDef",t.tabledisplayedColumns),r(),T("matRowDefColumns",t.tabledisplayedColumns),r(2),T("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",he(37,Ha)))},dependencies:[tt,dt,Me,Ae,lt,ke,Ee,Re,ye,De,Le,xe,Be,Pe,Ve,Ue,Ge,Oe,Ne,He,Fe,$e,ze,Ke,Je,ht,Ye,ve,H,vt,Ze,qe,Xe,We,Ct,_t,ot],encapsulation:2});var uo=Li;var Ml=["vform"];function wl(i,n){if(i&1&&(a(0,"option",17),m(1),s()),i&2){let e=n.$implicit;T("value",e.value),r(),p(" ",e.description," ")}}function Al(i,n){i&1&&(a(0,"mat-error"),m(1," UserAccessAreaType is "),a(2,"strong"),m(3),h(4,"translate"),s()()),i&2&&(r(3),go(v(4,1,"MESSAGE.required")))}function kl(i,n){if(i&1&&(a(0,"div"),g(1,"div",26),h(2,"prettyjson"),s()),i&2){let e=u();r(),T("innerHTML",v(2,1,e.dataModel),ci)}}function El(i,n){if(i&1){let e=E();a(0,"div",25)(1,"button",27),M("click",function(){C(e);let t=u();return _(t.onFormCancel())}),g(2,"i",28),m(3),h(4,"translate"),s()()}i&2&&(r(3),p(" ",v(4,1,"ACTION.CANCEL")," "))}var xi=class xi extends ft{constructor(e,o,t,l,d,f,c,L,oe,Se){super(l,new Ut,oe,Se);this.data=e;this.dialogRef=o;this.coreEnumService=t;this.coreTokenUserBadLoginService=l;this.cmsToastrService=d;this.tokenHelper=f;this.cmsStoreService=c;this.cdr=L;this.publicHelper=oe;this.translate=Se;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new D;this.dataModel=new Ut;this.dataModelEnumManageUserAccessAreaTypesResult=new D;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id)}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>N(this,null,function*(){this.tokenInfo=e}))),this.getEnumManageUserAccessAreaTypes()}getEnumManageUserAccessAreaTypes(){this.coreEnumService.ServiceManageUserAccessAreaTypesEnum().subscribe({next:e=>{this.dataModelEnumManageUserAccessAreaTypesResult=e}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(o=>{this.formInfo.submitResultMessage=o}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(o=>{this.publicHelper.processService.processStart(e,o,this.constructorInfoAreaId)}),this.coreTokenUserBadLoginService.setAccessLoad(),this.coreTokenUserBadLoginService.setAccessDataType(pt.Editor),this.coreTokenUserBadLoginService.ServiceGetOneById(this.requestId).subscribe({next:o=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModel=o.item,o.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+o.item.id,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=o.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(o.errorMessage)),this.publicHelper.processService.processStop(e)},error:o=>{this.cmsToastrService.typeError(o),this.publicHelper.processService.processStop(e,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};xi.\u0275fac=function(o){return new(o||xi)(S(te),S(ee),S($),S(Rt),S(q),S(j),S(F),S(P),S(W),S(G))},xi.\u0275cmp=O({type:xi,selectors:[["app-core-site-domainalias-edit"]],viewQuery:function(o,t){if(o&1&&X(Ml,5),o&2){let l;Y(l=Z())&&(t.formGroup=l.first)}},standalone:!1,features:[z],decls:50,vars:32,consts:[["UsedUsername",""],["UsedPwd",""],["UserAccessAreaType","ngModel"],["LinkDeviceId",""],["LinkApplicationId",""],["DeviceClientMAC",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.usedUsername",1,"color-highlight"],["matInput","","type","text","name","dataModel.usedUsername","placeholder","UsedUsername","id","dataModel.usedUsername",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.usedPwd",1,"color-highlight"],["matInput","","type","text","name","dataModel.usedPwd","placeholder","UsedPwd","id","dataModel.usedPwd",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[1,"input-style","has-borders","input-style-always-active","validate-field","no-icon","mb-4"],["id","dataModel.userAccessAreaType","name","dataModel.userAccessAreaType",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[3,"value"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],["for","dataModel.linkDeviceId",1,"color-highlight"],["matInput","","type","text","name","dataModel.linkDeviceId","placeholder","LinkDeviceId","id","dataModel.linkDeviceId",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.linkApplicationId",1,"color-highlight"],["matInput","","type","text","name","dataModel.linkApplicationId","placeholder","LinkApplicationId","id","dataModel.linkApplicationId",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.deviceClientMAC",1,"color-highlight"],["matInput","","type","text","name","dataModel.deviceClientMAC","placeholder","DeviceClientMAC","id","dataModel.deviceClientMAC",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[1,"form-actions"],[3,"innerHTML"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(o,t){if(o&1){let l=E();a(0,"div",6),g(1,"app-progress-spinner",7),a(2,"div",8)(3,"p",9),m(4),s(),a(5,"p"),m(6),h(7,"translate"),s(),a(8,"div",10)(9,"label",11),m(10,"UsedUsername"),s(),a(11,"input",12,0),V("ngModelChange",function(f){return C(l),B(t.dataModel.usedUsername,f)||(t.dataModel.usedUsername=f),_(f)}),s()(),a(13,"div",10)(14,"label",13),m(15,"UsedPwd"),s(),a(16,"input",14,1),V("ngModelChange",function(f){return C(l),B(t.dataModel.usedPwd,f)||(t.dataModel.usedPwd=f),_(f)}),s()(),a(18,"div",15)(19,"select",16,2),V("ngModelChange",function(f){return C(l),B(t.dataModel.userAccessAreaType,f)||(t.dataModel.userAccessAreaType=f),_(f)}),Io(21,wl,2,2,"option",17,bo),s(),a(23,"em"),m(24),h(25,"translate"),s(),R(26,Al,5,3,"mat-error"),s(),g(27,"app-cms-site-selector",18),h(28,"translate"),g(29,"app-cms-user-selector",18),h(30,"translate"),g(31,"app-cms-member-selector",18),h(32,"translate"),a(33,"div",10)(34,"label",19),m(35,"LinkDeviceId"),s(),a(36,"input",20,3),V("ngModelChange",function(f){return C(l),B(t.dataModel.linkDeviceId,f)||(t.dataModel.linkDeviceId=f),_(f)}),s()(),a(38,"div",10)(39,"label",21),m(40,"LinkApplicationId"),s(),a(41,"input",22,4),V("ngModelChange",function(f){return C(l),B(t.dataModel.linkApplicationId,f)||(t.dataModel.linkApplicationId=f),_(f)}),s()(),a(43,"div",10)(44,"label",23),m(45,"DeviceClientMAC"),s(),a(46,"input",24,5),V("ngModelChange",function(f){return C(l),B(t.dataModel.deviceClientMAC,f)||(t.dataModel.deviceClientMAC=f),_(f)}),s()(),R(48,kl,3,3,"div"),R(49,El,5,3,"div",25),s()()}if(o&2){let l=K(20);r(),T("optionsInfoAreaId",t.constructorInfoAreaId),r(3),p(" ",t.formInfo.formTitle," "),r(2),p(" ",v(7,22,"TITLE.Be_Careful_When_Entering_Information")," "),r(5),U("ngModel",t.dataModel.usedUsername),r(5),U("ngModel",t.dataModel.usedPwd),r(3),U("ngModel",t.dataModel.userAccessAreaType),r(2),Mo(t.dataModelEnumManageUserAccessAreaTypesResult.listItems),r(3),go(v(25,24,"TITLE.SELECT_STATUS")),r(2),y(l.errors!=null&&l.errors.required?26:-1),r(),T("optionDisabled",!0)("optionSelectForce",t.dataModel.linkSiteId)("optionPlaceholder",v(28,26,"TITLE.WEBSITE")),r(2),T("optionDisabled",!0)("optionSelectForce",t.dataModel.linkUserId)("optionPlaceholder",v(30,28,"TITLE.USER")),r(2),T("optionDisabled",!0)("optionSelectForce",t.dataModel.linkMemberId)("optionPlaceholder",v(32,30,"TITLE.Member")),r(5),U("ngModel",t.dataModel.linkDeviceId),r(5),U("ngModel",t.dataModel.linkApplicationId),r(5),U("ngModel",t.dataModel.deviceClientMAC),r(2),y(t.tokenInfo.access.userAccessAdminAllowToProfessionalData?48:-1),r(),y(t.formInfo.submitButtonEnabled?49:-1)}},dependencies:[xo,Uo,Ro,Lo,yo,Do,Oo,lt,ut,St,Ho,ie,H,pi],encapsulation:2});var fo=xi;var Rl=["vform"];function yl(i,n){if(i&1){let e=E();a(0,"div",7)(1,"button",8),M("click",function(){C(e);let t=u();return _(t.onFormCancel())}),g(2,"i",9),m(3),h(4,"translate"),s()()}i&2&&(r(3),p(" ",v(4,1,"ACTION.CANCEL")," "))}var Ui=class Ui{constructor(n,e,o,t,l,d,f,c,L,oe){this.data=n;this.dialogRef=e;this.coreEnumService=o;this.coreTokenUserBadLoginService=t;this.cmsToastrService=l;this.tokenHelper=d;this.cmsStoreService=f;this.cdr=c;this.publicHelper=L;this.translate=oe;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.tokenInfo=new it;this.dataModelResult=new D;this.dataModel=new Ut;this.formInfo=new nt;this.dataModelEnumSendSmsStatusTypeResult=new D;this.fieldsInfo=new Map;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,n&&(this.requestId=n.id+"")}ngOnInit(){if(this.translate.get("TITLE.VIEW").subscribe(n=>{this.formInfo.formTitle=n}),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(n=>n.tokenInfoStore).subscribe(n=>N(this,null,function*(){this.tokenInfo=n}))),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:n=>{this.dataModelEnumSendSmsStatusTypeResult=n}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(n=>n.unsubscribe())}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage="";let n=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(n,e,this.constructorInfoAreaId)}),this.coreTokenUserBadLoginService.setAccessLoad(),this.coreTokenUserBadLoginService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModel=e.item,e.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+e.item.id,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(o=>{this.formInfo.submitResultMessage=o}),this.formInfo.submitResultMessage=e.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(e.errorMessage)),this.publicHelper.processService.processStop(n)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(n,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Ui.\u0275fac=function(e){return new(e||Ui)(S(te),S(ee),S($),S(Rt),S(q),S(j),S(F),S(P),S(W),S(G))},Ui.\u0275cmp=O({type:Ui,selectors:[["app-bankpayment-transactionlog-view"]],viewQuery:function(e,o){if(e&1&&X(Rl,5),e&2){let t;Y(t=Z())&&(o.formGroup=t.first)}},standalone:!1,decls:9,vars:6,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection","loader-container"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[3,"formInfo"],[1,"ntk-cms-html-card-footer"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,o){e&1&&(a(0,"div",0),m(1),s(),a(2,"div",1),g(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),s(),a(5,"div",4),g(6,"app-cms-form-result-message",5),s(),a(7,"div",6),R(8,yl,5,3,"div",7),s()),e&2&&(r(),p(" ",o.formInfo.formTitle," "),r(2),T("optionsInfoAreaId",o.constructorInfoAreaId),r(),T("dataModel",o.dataModel)("optionMethod",1),r(2),T("formInfo",o.formInfo),r(2),y(o.formInfo.submitButtonEnabled?8:-1))},dependencies:[ie,st,rt,H],encapsulation:2});var So=Ui;var Dl=()=>[5,10,20,100];function Ll(i,n){if(i&1&&g(0,"app-core-user-header",3),i&2){let e=u();T("optionId",e.requestLinkUserId)}}function xl(i,n){if(i&1){let e=E();a(0,"a",46),M("click",function(){C(e);let t=u();return _(t.onActionBackToParent())}),g(1,"i",47),s()}}function Ul(i,n){if(i&1){let e=E();a(0,"div",18)(1,"a",48),M("click",function(){C(e);let t=u();return _(t.onActionButtonEditRow(t.tableRowSelected))}),g(2,"i",49)(3,"br"),s(),a(4,"p",21),m(5),h(6,"translate"),s()()}i&2&&(r(5),p(" ",v(6,1,"ACTION.EDIT")," "))}function Bl(i,n){if(i&1){let e=E();a(0,"div",18)(1,"a",50),M("click",function(){C(e);let t=u();return _(t.onActionButtonDeleteRow(t.tableRowSelected))}),g(2,"i",51)(3,"br"),s(),a(4,"p",21),m(5),h(6,"translate"),s()()}i&2&&(r(5),p(" ",v(6,1,"ACTION.DELETE")," "))}function Vl(i,n){if(i&1){let e=E();a(0,"div",18)(1,"a",52),M("click",function(){C(e);let t=u();return _(t.onActionButtonViewRow(t.tableRowSelected))}),g(2,"i",53)(3,"br"),s(),a(4,"p",21),m(5),h(6,"translate"),s()()}i&2&&(r(5),p(" ",v(6,1,"ACTION.VIEW")," "))}function Ol(i,n){if(i&1&&(a(0,"mat-header-cell",54),m(1),s()),i&2){let e=u();r(),p(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function Nl(i,n){if(i&1&&(a(0,"mat-cell"),m(1),s()),i&2){let e=n.$implicit;r(),p(" ",e.id," ")}}function Pl(i,n){if(i&1&&(a(0,"mat-header-cell",54),m(1),s()),i&2){let e=u();r(),p(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function Gl(i,n){if(i&1&&(a(0,"mat-cell"),m(1),h(2,"cmssiteinfo"),h(3,"async"),s()),i&2){let e=n.$implicit;r(),p(" ",v(3,3,v(2,1,e.linkSiteId))," ")}}function Hl(i,n){if(i&1&&(a(0,"mat-header-cell",54),m(1),s()),i&2){let e=u();r(),p(" ",e.fieldsInfo.linkUserId==null?null:e.fieldsInfo.linkUserId.fieldTitle," ")}}function Fl(i,n){if(i&1&&(a(0,"mat-cell"),m(1),h(2,"cmsuserinfo"),h(3,"async"),s()),i&2){let e=n.$implicit;r(),p(" ",v(3,3,v(2,1,e.linkUserId))," ")}}function jl(i,n){if(i&1&&(a(0,"mat-header-cell",54),m(1),s()),i&2){let e=u();r(),p(" ",e.fieldsInfo.linkMemberId==null?null:e.fieldsInfo.linkMemberId.fieldTitle," ")}}function ql(i,n){if(i&1&&(a(0,"mat-cell"),m(1),s()),i&2){let e=n.$implicit;r(),p(" ",e.linkMemberId," ")}}function Wl(i,n){if(i&1&&(a(0,"mat-header-cell",54),m(1),s()),i&2){let e=u();r(),p(" ",e.fieldsInfo.userAccessAreaType==null?null:e.fieldsInfo.userAccessAreaType.fieldTitle," ")}}function Ql(i,n){if(i&1&&(a(0,"mat-cell"),m(1),h(2,"enums"),s()),i&2){let e=n.$implicit,o=u();r(),p(" ",re(2,1,e.userAccessAreaType,o.dataModelEnumManageUserAccessAreaTypesResult.listItems)," ")}}function $l(i,n){if(i&1&&(a(0,"mat-header-cell",54),m(1),s()),i&2){let e=u();r(),p(" ",e.fieldsInfo.usedUsername==null?null:e.fieldsInfo.usedUsername.fieldTitle," ")}}function zl(i,n){if(i&1&&(a(0,"mat-cell"),m(1),s()),i&2){let e=n.$implicit;r(),p(" ",e.usedUsername," ")}}function Kl(i,n){if(i&1&&(a(0,"mat-header-cell",54),m(1),s()),i&2){let e=u();r(),p(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function Jl(i,n){if(i&1&&(a(0,"mat-cell",55),m(1),h(2,"localeDateTime"),s()),i&2){let e=n.$implicit;r(),p(" ",v(2,1,e.createdDate)," ")}}function Xl(i,n){i&1&&(a(0,"mat-header-cell"),m(1),h(2,"translate"),s()),i&2&&(r(),p(" ",v(2,1,"TITLE.OPTION")," "))}function Yl(i,n){if(i&1&&(a(0,"mat-cell",56)(1,"button",57)(2,"mat-icon"),m(3,"more_vert"),s()(),g(4,"mat-menu",null,2),s()),i&2){let e=K(5);r(),T("matMenuTriggerFor",e)}}function Zl(i,n){i&1&&g(0,"mat-header-row")}function ec(i,n){if(i&1){let e=E();a(0,"mat-row",58),M("click",function(t){let l=C(e).$implicit,d=u();return _(d.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=C(e).$implicit,d=u();return _(d.onActionTableRowSelect(l,t))}),s()}if(i&2){let e=n.$implicit,o=u();J("ntk-row-selected",e.id===(o.tableRowSelected==null?null:o.tableRowSelected.id))}}var Bi=class Bi extends Qe{constructor(e,o,t,l,d,f,c,L,oe,Se,et,It,k){super(o,new Ut,It,f,L);this.coreEnumService=e;this.contentService=o;this.cmsToastrService=t;this.cmsConfirmationDialogService=l;this.activatedRoute=d;this.tokenHelper=f;this.cdr=c;this.translate=L;this.cmsStoreService=oe;this.router=Se;this.pageInfo=et;this.publicHelper=It;this.dialog=k;this.requestLinkSiteId=0;this.requestLinkUserId=0;this.requestLinkDeviceId=0;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new Ie;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["id","linkSiteId","linkUserId","linkMemberId","UserAccessAreaType","UsedUsername","createdDate"];this.tabledisplayedColumnsMobileSource=["id","linkSiteId","linkUserId","linkMemberId","UserAccessAreaType","UsedUsername","createdDate"];this.dataModelEnumManageUserAccessAreaTypesResult=new D;this.unsubscribe=[];if(this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkDeviceId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkDeviceId")),this.requestLinkSiteId>0){let ct=new A;ct.propertyName="LinkCmsSiteId",ct.value=this.requestLinkSiteId,this.filteModelContent.filters.push(ct)}if(this.requestLinkUserId>0){let ct=new A;ct.propertyName="linkUserId",ct.value=this.requestLinkUserId,this.filteModelContent.filters.push(ct)}if(this.requestLinkDeviceId>0){let ct=new A;ct.propertyName="LinkDeviceId",ct.value=this.requestLinkDeviceId,this.filteModelContent.filters.push(ct)}this.optionsSearch.parentMethods={onSubmit:ct=>this.onSubmitOptionsSearch(ct)},this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=x.Descending,this.optionsSearch.data.filterModelContent=this.filteModelContent,this.optionsSearch.data.filterActionSearchRecordStatusShow=!0,this.tokenHelper.isAdminSite?(this.optionsSearch.data.filterActionSearchLinkUserIdShow=!0,this.optionsSearch.data.filterActionSearchLinkSiteIdShow=!0):(this.optionsSearch.data.filterActionSearchLinkSiteIdShow=!1,this.optionsSearch.data.filterActionSearchLinkUserIdShow=!1)}ngOnInit(){this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=x.Descending,this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>N(this,null,function*(){this.tokenInfo=e,this.DataGetAll()}))),this.getEnumManageUserAccessAreaTypes()}getEnumManageUserAccessAreaTypes(){this.coreEnumService.ServiceManageUserAccessAreaTypesEnum().subscribe({next:e=>{this.dataModelEnumManageUserAccessAreaTypesResult=e}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}filterModelCompiler(e){let o=JSON.parse(JSON.stringify(e));return this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(o.filters=[...this.filterDataModelQueryBuilder]),o}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Ut);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let o=this.filterModelCompiler(this.filteModelContent);if(this.filteModelContent.filterActionSearchRecordStatus>0){let t=new A;t.propertyName="recordStatus",t.value=this.filteModelContent.filterActionSearchRecordStatus,o.filters.push(t)}if(this.filteModelContent.filterActionSearchLinkSiteId>0){let t=new A;t.propertyName="linkSiteId",t.value=this.filteModelContent.filterActionSearchLinkSiteId,o.filters.push(t)}if(this.filteModelContent.filterActionSearchLinkUserId>0){let t=new A;t.propertyName="linkUserId",t.value=this.filteModelContent.filterActionSearchLinkUserId,o.filters.push(t)}this.contentService.ServiceGetAllEditor(o).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=x.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=x.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=x.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonViewRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var o="";this.publicHelper.isMobile?o="dialog-fullscreen":o="dialog-min",this.dialog.open(So,{height:"90%",panelClass:o,enterAnimationDuration:Q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate})}onActionButtonEditRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var o="";this.publicHelper.isMobile?o="dialog-fullscreen":o="dialog-min",this.dialog.open(fo,{height:"90%",panelClass:o,enterAnimationDuration:Q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(l=>{this.cmsToastrService.typeErrorSelected(l)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var o="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(l=>{o=l["MESSAGE.Please_Confirm"],t=l["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(o,t).then(l=>{if(l){let d=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(f=>{this.publicHelper.processService.processStart(d,f,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:f=>{f.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(d)},error:f=>{this.cmsToastrService.typeError(f),this.publicHelper.processService.processStop(d,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let o=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{o.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{o.set(c,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructorInfoAreaId)});let l=this.filterModelCompiler(this.filteModelContent);if(this.filteModelContent.filterActionSearchRecordStatus>0){let c=new A;c.propertyName="recordStatus",c.value=this.filteModelContent.filterActionSearchRecordStatus,l.filters.push(c)}if(this.filteModelContent.filterActionSearchLinkSiteId>0){let c=new A;c.propertyName="linkSiteId",c.value=this.filteModelContent.filterActionSearchLinkSiteId,l.filters.push(c)}if(this.filteModelContent.filterActionSearchLinkUserId>0){let c=new A;c.propertyName="linkUserId",c.value=this.filteModelContent.filterActionSearchLinkUserId,l.filters.push(c)}this.contentService.ServiceGetCount(l).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(L=>{o.set(L,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}});let d=this.filterModelCompiler(this.filteModelContent);if(this.filteModelContent.filterActionSearchRecordStatus>0){let c=new A;c.propertyName="recordStatus",c.value=this.filteModelContent.filterActionSearchRecordStatus,d.filters.push(c)}if(this.filteModelContent.filterActionSearchLinkSiteId>0){let c=new A;c.propertyName="linkSiteId",c.value=this.filteModelContent.filterActionSearchLinkSiteId,d.filters.push(c)}if(this.filteModelContent.filterActionSearchLinkUserId>0){let c=new A;c.propertyName="linkUserId",c.value=this.filteModelContent.filterActionSearchLinkUserId,d.filters.push(c)}let f=new A;f.propertyName="recordStatus",f.value=be.Available,d.filters.push(f),this.contentService.ServiceGetCount(d).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(L=>{o.set(L,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonViewUserRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkUserId||this.tableRowSelected.linkUserId===0){this.translate.get("MESSAGE.content_does_not_contain_user_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId])}onActionButtonViewMemberRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkDeviceId||this.tableRowSelected.linkDeviceId===0){this.translate.get("MESSAGE.Content_does_not_include_device_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/member/user/edit",this.tableRowSelected.linkMemberId])}onActionButtonViewSiteRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkSiteId||this.tableRowSelected.linkSiteId===0){this.translate.get("MESSAGE.content_does_not_include_site_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId])}onActionButtonViewDeviceRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkDeviceId||this.tableRowSelected.linkDeviceId===0){this.translate.get("MESSAGE.Content_does_not_include_device_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkDeviceId])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};Bi.\u0275fac=function(o){return new(o||Bi)(S($),S(Rt),S(q),S(Ce),S(ge),S(j),S(P),S(G),S(F),S(Te),S(je),S(W),S(we))},Bi.\u0275cmp=O({type:Bi,selectors:[["app-coretoken-user-list"]],standalone:!1,features:[z],decls:89,vars:44,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionId"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-globe","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-id-card-clip","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-mobile","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","linkSiteId"],["matColumnDef","linkUserId"],["matColumnDef","linkMemberId"],["matColumnDef","UserAccessAreaType"],["matColumnDef","UsedUsername"],["matColumnDef","createdDate"],["style","direction: ltr",4,"matCellDef"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","target","_blank","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],["mat-sort-header",""],[2,"direction","ltr"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(o,t){if(o&1){let l=E();R(0,Ll,1,1,"app-core-user-header",3),a(1,"app-cms-html-list",4),V("optionActionGuideNoticeDisplayChange",function(f){return C(l),B(t.viewGuideNotice,f)||(t.viewGuideNotice=f),_(f)}),M("optionOnActionButtonMemoRow",function(){return C(l),_(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return C(l),_(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return C(l),_(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return C(l),_(t.onActionButtonPrintRow())}),b(2,5),m(3," -------------------------------------- "),I(),ne(4,6)(5,7),b(6,8),R(7,xl,2,0,"a",9),a(8,"a",10),M("click",function(){return C(l),_(t.viewGuideNotice=!t.viewGuideNotice)}),g(9,"i",11),s(),a(10,"a",10),M("click",function(){return C(l),_(t.onActionButtonReload())}),g(11,"i",12),s(),I(),b(12,13),a(13,"a",14),M("click",function(){return C(l),_(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),g(14,"mat-slide-toggle",15),m(15),h(16,"translate"),s(),a(17,"a",14),M("click",function(){return C(l),_(t.onActionButtonStatist())}),g(18,"mat-slide-toggle",15),m(19),h(20,"translate"),s(),I(),ne(21,16),b(22,17),R(23,Ul,7,3,"div",18),R(24,Bl,7,3,"div",18),a(25,"div",18)(26,"a",19),M("click",function(){return C(l),_(t.onActionButtonViewSiteRow(t.tableRowSelected))}),g(27,"i",20)(28,"br"),s(),a(29,"p",21),m(30),h(31,"translate"),s()(),a(32,"div",18)(33,"a",19),M("click",function(){return C(l),_(t.onActionButtonViewUserRow(t.tableRowSelected))}),g(34,"i",22)(35,"br"),s(),a(36,"p",21),m(37),h(38,"translate"),s()(),a(39,"div",18)(40,"a",19),M("click",function(){return C(l),_(t.onActionButtonViewMemberRow(t.tableRowSelected))}),g(41,"i",23)(42,"br"),s(),a(43,"p",21),m(44),h(45,"translate"),s()(),a(46,"div",18)(47,"a",19),M("click",function(){return C(l),_(t.onActionButtonViewDeviceRow(t.tableRowSelected))}),g(48,"i",24)(49,"br"),s(),a(50,"p",21),m(51),h(52,"translate"),s()(),R(53,Vl,7,3,"div",18),I(),b(54,25),a(55,"app-cms-search-list",26),V("optionsChange",function(f){return C(l),B(t.optionsSearch,f)||(t.optionsSearch=f),_(f)}),s(),a(56,"app-cms-statist-list",26),V("optionsChange",function(f){return C(l),B(t.optionsStatist,f)||(t.optionsStatist=f),_(f)}),s(),I(),b(57,27),a(58,"mat-table",28,0),M("matSortChange",function(){C(l);let f=K(59);return _(t.onTableSortData(f))}),b(60,29),w(61,Ol,2,1,"mat-header-cell",30)(62,Nl,2,1,"mat-cell",31),I(),b(63,32),w(64,Pl,2,1,"mat-header-cell",30)(65,Gl,4,5,"mat-cell",31),I(),b(66,33),w(67,Hl,2,1,"mat-header-cell",30)(68,Fl,4,5,"mat-cell",31),I(),b(69,34),w(70,jl,2,1,"mat-header-cell",30)(71,ql,2,1,"mat-cell",31),I(),b(72,35),w(73,Wl,2,1,"mat-header-cell",30)(74,Ql,3,4,"mat-cell",31),I(),b(75,36),w(76,$l,2,1,"mat-header-cell",30)(77,zl,2,1,"mat-cell",31),I(),b(78,37),w(79,Kl,2,1,"mat-header-cell",30)(80,Jl,3,3,"mat-cell",38),I(),b(81,39),w(82,Xl,3,3,"mat-header-cell",40)(83,Yl,6,1,"mat-cell",41),I(),w(84,Zl,1,0,"mat-header-row",42)(85,ec,1,2,"mat-row",43),s(),I(),b(86,44),a(87,"mat-paginator",45,1),M("page",function(f){return C(l),_(t.onTablePageingData(f))}),s(),I(),s()}o&2&&(y(t.requestLinkUserId>0?0:-1),r(),T("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),U("optionActionGuideNoticeDisplay",t.viewGuideNotice),T("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),r(6),y(t.requestLinkSiteId>0?7:-1),r(4),J("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),r(3),T("checked",t.optionsSearch.data.show),r(),p("",v(16,31,"ACTION.SEARCH")," "),r(3),T("checked",t.optionsStatist.data.show),r(),p("",v(20,33,"ACTION.STATIST")," "),r(4),y(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?23:-1),r(),y(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?24:-1),r(6),p(" ",v(31,35,"ACTION.SITE")," "),r(7),p(" ",v(38,37,"ACTION.USER")," "),r(7),p(" ",v(45,39,"ACTION.MEMBER")," "),r(7),p(" ",v(52,41,"ACTION.DEVICE")," "),r(2),y(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessWatchRow&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0?53:-1),r(2),U("options",t.optionsSearch),r(),U("options",t.optionsStatist),r(2),T("dataSource",t.tableSource),r(26),T("matHeaderRowDef",t.tabledisplayedColumns),r(),T("matRowDefColumns",t.tabledisplayedColumns),r(2),T("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",he(43,Dl)))},dependencies:[Me,Ae,ke,Ee,Re,ye,De,Le,xe,Be,Pe,Ve,Ue,Ge,Oe,Ne,He,Fe,$e,ze,Ke,Je,Ye,ve,H,Ze,qe,Xe,We],encapsulation:2});var ni=Bi;var tc=["vform"];function ic(i,n){if(i&1){let e=E();a(0,"div",7)(1,"button",8),M("click",function(){C(e);let t=u();return _(t.onFormCancel())}),g(2,"i",9),m(3),h(4,"translate"),s()()}i&2&&(r(3),p(" ",v(4,1,"ACTION.CANCEL")," "))}var Vi=class Vi{constructor(n,e,o,t,l,d,f,c,L,oe){this.data=n;this.dialogRef=e;this.coreEnumService=o;this.coreTokenAuthUserService=t;this.cmsToastrService=l;this.tokenHelper=d;this.cmsStoreService=f;this.cdr=c;this.publicHelper=L;this.translate=oe;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.tokenInfo=new it;this.dataModelResult=new D;this.dataModel=new Gi;this.formInfo=new nt;this.dataModelEnumSendSmsStatusTypeResult=new D;this.fieldsInfo=new Map;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,n&&(this.requestId=n.id+"")}ngOnInit(){if(this.translate.get("TITLE.VIEW").subscribe(n=>{this.formInfo.formTitle=n}),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(n=>n.tokenInfoStore).subscribe(n=>N(this,null,function*(){this.tokenInfo=n}))),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:n=>{this.dataModelEnumSendSmsStatusTypeResult=n}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(n=>n.unsubscribe())}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage="";let n=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(n,e,this.constructorInfoAreaId)}),this.coreTokenAuthUserService.setAccessLoad(),this.coreTokenAuthUserService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModel=e.item,e.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+e.item.id,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(o=>{this.formInfo.submitResultMessage=o}),this.formInfo.submitResultMessage=e.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(e.errorMessage)),this.publicHelper.processService.processStop(n)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(n,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Vi.\u0275fac=function(e){return new(e||Vi)(S(te),S(ee),S($),S(mi),S(q),S(j),S(F),S(P),S(W),S(G))},Vi.\u0275cmp=O({type:Vi,selectors:[["app-bankpayment-transactionlog-view"]],viewQuery:function(e,o){if(e&1&&X(tc,5),e&2){let t;Y(t=Z())&&(o.formGroup=t.first)}},standalone:!1,decls:9,vars:6,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection","loader-container"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[3,"formInfo"],[1,"ntk-cms-html-card-footer"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,o){e&1&&(a(0,"div",0),m(1),s(),a(2,"div",1),g(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),s(),a(5,"div",4),g(6,"app-cms-form-result-message",5),s(),a(7,"div",6),R(8,ic,5,3,"div",7),s()),e&2&&(r(),p(" ",o.formInfo.formTitle," "),r(2),T("optionsInfoAreaId",o.constructorInfoAreaId),r(),T("dataModel",o.dataModel)("optionMethod",1),r(2),T("formInfo",o.formInfo),r(2),y(o.formInfo.submitButtonEnabled?8:-1))},dependencies:[ie,st,rt,H],encapsulation:2});var ho=Vi;var oc=()=>["expandedTitle"],nc=()=>[5,10,20,100];function rc(i,n){if(i&1&&g(0,"app-core-user-header",3),i&2){let e=u();T("optionId",e.requestLinkUserId)}}function sc(i,n){if(i&1){let e=E();a(0,"a",48),M("click",function(){C(e);let t=u();return _(t.onActionBackToParent())}),g(1,"i",49),s()}}function ac(i,n){if(i&1){let e=E();a(0,"a",11),M("click",function(){C(e);let t=u();return _(t.onActionButtonBulkDelete())}),g(1,"i",50),m(2),h(3,"translate"),s()}if(i&2){let e=u();r(2),at(" ",v(3,2,"ACTION.DELETE_SELECTED")," (",e.getSelectedCount(),") ")}}function lc(i,n){if(i&1){let e=E();a(0,"div",18)(1,"a",51),M("click",function(){C(e);let t=u();return _(t.onActionButtonBulkDelete())}),g(2,"i",52)(3,"br"),s(),a(4,"p",53),m(5),h(6,"translate"),s()()}if(i&2){let e=u();r(5),at(" ",v(6,2,"ACTION.DELETE_SELECTED")," (",e.getSelectedCount(),") ")}}function cc(i,n){if(i&1){let e=E();a(0,"div",18)(1,"a",51),M("click",function(){C(e);let t=u();return _(t.onActionButtonDeleteRow(t.tableRowSelected))}),g(2,"i",54)(3,"br"),s(),a(4,"p",53),m(5),h(6,"translate"),s()()}i&2&&(r(5),p(" ",v(6,1,"ACTION.DELETE")," "))}function mc(i,n){if(i&1){let e=E();a(0,"div",18)(1,"a",55),M("click",function(){C(e);let t=u();return _(t.onActionButtonViewSiteRow(t.tableRowSelected))}),g(2,"i",56)(3,"br"),s(),a(4,"p",53),m(5),h(6,"translate"),s()()}i&2&&(r(5),p(" ",v(6,1,"ACTION.SITE")," "))}function dc(i,n){if(i&1){let e=E();a(0,"div",18)(1,"a",55),M("click",function(){C(e);let t=u();return _(t.onActionButtonViewUserRow(t.tableRowSelected))}),g(2,"i",57)(3,"br"),s(),a(4,"p",53),m(5),h(6,"translate"),s()()}i&2&&(r(5),p(" ",v(6,1,"ACTION.USER")," "))}function pc(i,n){if(i&1){let e=E();a(0,"div",18)(1,"a",55),M("click",function(){C(e);let t=u();return _(t.onActionButtonViewDeviceRow(t.tableRowSelected))}),g(2,"i",58)(3,"br"),s(),a(4,"p",53),m(5),h(6,"translate"),s()()}i&2&&(r(5),p(" ",v(6,1,"ACTION.DEVICE")," "))}function uc(i,n){if(i&1){let e=E();a(0,"div",18)(1,"a",59),M("click",function(){C(e);let t=u();return _(t.onActionButtonViewRow(t.tableRowSelected))}),g(2,"i",60)(3,"br"),s(),a(4,"p",53),m(5),h(6,"translate"),s()()}i&2&&(r(5),p(" ",v(6,1,"ACTION.VIEW")," "))}function fc(i,n){if(i&1){let e=E();a(0,"mat-row",61),M("click",function(t){let l=C(e).$implicit,d=u();return _(d.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=C(e).$implicit,d=u();return _(d.onActionTableRowSelect(l,t))})("mouseenter",function(){let t=C(e).$implicit,l=u();return _(l.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=C(e).$implicit,l=u();return _(l.onActionTableRowMouseLeave(t))}),s()}if(i&2){let e=n.$implicit,o=u();J("ntk-row-selected",e.id===(o.tableRowSelected==null?null:o.tableRowSelected.id))}}function Sc(i,n){if(i&1&&(a(0,"mat-header-cell",62),m(1),s()),i&2){let e=u();r(),p(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function hc(i,n){if(i&1&&(a(0,"mat-cell"),m(1),s()),i&2){let e=n.$implicit;r(),p(" ",e.id," ")}}function Cc(i,n){if(i&1&&(a(0,"mat-header-cell",62),m(1),s()),i&2){let e=u();r(),p(" ",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle," ")}}function _c(i,n){if(i&1&&(a(0,"mat-cell"),m(1),s()),i&2){let e=n.$implicit;r(),p(" ",e.description," ")}}function vc(i,n){if(i&1&&(a(0,"mat-header-cell",62),m(1),s()),i&2){let e=u();r(),p(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function gc(i,n){if(i&1&&(a(0,"mat-cell"),m(1),h(2,"cmssiteinfo"),h(3,"async"),s()),i&2){let e=n.$implicit;r(),p(" ",v(3,3,v(2,1,e.linkSiteId))," ")}}function Tc(i,n){if(i&1&&(a(0,"mat-header-cell",62),m(1),s()),i&2){let e=u();r(),p(" ",e.fieldsInfo.linkUserId==null?null:e.fieldsInfo.linkUserId.fieldTitle," ")}}function bc(i,n){if(i&1&&(a(0,"mat-cell"),m(1),h(2,"cmsuserinfo"),h(3,"async"),s()),i&2){let e=n.$implicit;r(),p(" ",v(3,3,v(2,1,e.linkUserId))," ")}}function Ic(i,n){if(i&1&&(a(0,"mat-header-cell",62),m(1),s()),i&2){let e=u();r(),p(" ",e.fieldsInfo.linkMemberUserId==null?null:e.fieldsInfo.linkMemberUserId.fieldTitle," ")}}function Mc(i,n){if(i&1&&(a(0,"mat-cell"),m(1),s()),i&2){let e=n.$implicit;r(),p(" ",e.linkMemberUserId," ")}}function wc(i,n){if(i&1&&(a(0,"mat-header-cell",62),m(1),s()),i&2){let e=u();r(),p(" ",e.fieldsInfo.userAccessAreaType==null?null:e.fieldsInfo.userAccessAreaType.fieldTitle," ")}}function Ac(i,n){if(i&1&&(a(0,"mat-cell"),m(1),h(2,"enums"),s()),i&2){let e=n.$implicit,o=u();r(),p(" ",re(2,1,e.userAccessAreaType,o.dataModelEnumManageUserAccessAreaTypesResult.listItems)," ")}}function kc(i,n){if(i&1&&(a(0,"mat-header-cell",62),m(1),s()),i&2){let e=u();r(),p(" ",e.fieldsInfo.userType==null?null:e.fieldsInfo.userType.fieldTitle," ")}}function Ec(i,n){if(i&1&&(a(0,"mat-cell"),m(1),h(2,"enums"),s()),i&2){let e=n.$implicit,o=u();r(),p(" ",re(2,1,e.userType,o.dataModelEnumManageUserAccessUserTypesResult.listItems)," ")}}function Rc(i,n){if(i&1&&(a(0,"mat-header-cell",62),m(1),s()),i&2){let e=u();r(),p(" ",e.fieldsInfo.userAccessAdminAllowToAllData==null?null:e.fieldsInfo.userAccessAdminAllowToAllData.fieldTitle," ")}}function yc(i,n){if(i&1&&(a(0,"mat-cell"),g(1,"i",63),h(2,"boolclass"),s()),i&2){let e=n.$implicit;r(),T("ngClass",v(2,1,e.userAccessAdminAllowToAllData))}}function Dc(i,n){if(i&1&&(a(0,"mat-header-cell",62),m(1),s()),i&2){let e=u();r(),p(" ",e.fieldsInfo.userAccessAdminAllowToProfessionalData==null?null:e.fieldsInfo.userAccessAdminAllowToProfessionalData.fieldTitle," ")}}function Lc(i,n){if(i&1&&(a(0,"mat-cell"),g(1,"i",63),h(2,"boolclass"),s()),i&2){let e=n.$implicit;r(),T("ngClass",v(2,1,e.userAccessAdminAllowToProfessionalData))}}function xc(i,n){if(i&1&&(a(0,"mat-header-cell",62),m(1),s()),i&2){let e=u();r(),p(" ",e.fieldsInfo.rememberOnDevice==null?null:e.fieldsInfo.rememberOnDevice.fieldTitle," ")}}function Uc(i,n){if(i&1&&(a(0,"mat-cell"),g(1,"i",63),h(2,"boolclass"),s()),i&2){let e=n.$implicit;r(),T("ngClass",v(2,1,e.rememberOnDevice))}}function Bc(i,n){if(i&1&&(a(0,"mat-header-cell",62),m(1),s()),i&2){let e=u();r(),p(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function Vc(i,n){if(i&1&&(a(0,"mat-cell",64),m(1),h(2,"localeDateTime"),s()),i&2){let e=n.$implicit;r(),p(" ",v(2,1,e.createdDate)," ")}}function Oc(i,n){i&1&&(a(0,"mat-header-cell"),m(1),h(2,"translate"),s()),i&2&&(r(),p(" ",v(2,1,"TITLE.OPTION")," "))}function Nc(i,n){if(i&1&&(a(0,"mat-cell",65)(1,"button",66)(2,"mat-icon"),m(3,"more_vert"),s()(),g(4,"mat-menu",null,2),s()),i&2){let e=K(5);r(),T("matMenuTriggerFor",e)}}function Pc(i,n){if(i&1){let e=E();a(0,"mat-header-cell")(1,"mat-checkbox",67),h(2,"translate"),M("change",function(t){C(e);let l=u();return _(l.onSelectAllChange(t))}),s()()}if(i&2){let e=u();r(),T("checked",e.isAllSelected)("indeterminate",e.selectedRowsForBulkDelete.size>0&&e.selectedRowsForBulkDelete.size<e.tableSource.data.length),vo("aria-label",v(2,3,"ACTION.SELECT"))}}function Gc(i,n){if(i&1){let e=E();a(0,"mat-cell")(1,"mat-checkbox",68),h(2,"translate"),M("change",function(t){let l=C(e).$implicit,d=u();return _(d.onCheckboxChange(l,t))})("click",function(t){return C(e),_(t.stopPropagation())}),s()()}if(i&2){let e=n.$implicit,o=u();r(),T("checked",o.isRowSelected(e.id)),vo("aria-label",v(2,2,"ACTION.SELECT"))}}function Hc(i,n){i&1&&g(0,"mat-header-row")}function Fc(i,n){if(i&1){let e=E();a(0,"mat-row",69),M("click",function(t){let l=C(e).$implicit,d=u();return _(d.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=C(e).$implicit,d=u();return _(d.onActionTableRowSelect(l,t))}),s()}if(i&2){let e=n.$implicit,o=u();J("ntk-row-selected",e.id===(o.tableRowSelected==null?null:o.tableRowSelected.id))}}function jc(i,n){if(i&1&&(a(0,"mat-cell"),m(1),h(2,"translate"),g(3,"br"),m(4),h(5,"translate"),g(6,"br"),m(7),h(8,"translate"),h(9,"cmssiteinfo"),h(10,"async"),g(11,"br"),m(12),h(13,"translate"),h(14,"cmsuserinfo"),h(15,"async"),g(16,"br"),m(17),h(18,"translate"),h(19,"localeDateTime"),s()),i&2){let e=n.$implicit;r(),at(" ",v(2,10,"TITLE.Id")," : ",e.id," "),r(3),at(" ",v(5,12,"TITLE.Description")," : ",e.description," "),r(3),at(" ",v(8,14,"TITLE.Site_Id")," : ",v(10,18,v(9,16,e.linkSiteId))," "),r(5),at(" ",v(13,20,"TITLE.User_Id")," : ",v(15,24,v(14,22,e.linkUserId))," "),r(5),at(" ",v(18,26,"TITLE.CreationDate")," : ",v(19,28,e.createdDate)," ")}}var Oi=class Oi extends Qe{constructor(e,o,t,l,d,f,c,L,oe,Se,et,It){super(e,new Gi,et,d,L);this.contentService=e;this.cmsToastrService=o;this.cmsConfirmationDialogService=t;this.activatedRoute=l;this.tokenHelper=d;this.cdr=f;this.cmsStoreService=c;this.translate=L;this.router=oe;this.pageInfo=Se;this.publicHelper=et;this.dialog=It;this.requestLinkSiteId=0;this.requestLinkUserId=0;this.requestLinkDeviceId=0;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new Ie;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["UserAccessAreaType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice"];this.tabledisplayedColumnsMobileSource=["UserAccessAreaType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice"];this.dataModelEnumManageUserAccessAreaTypesResult=new D;this.dataModelEnumManageUserAccessUserTypesResult=new D;this.unsubscribe=[];this.selectedRowsForBulkDelete=new Set;this.isAllSelected=!1;if(this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkDeviceId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkDeviceId")),this.requestLinkSiteId>0){let k=new A;k.propertyName="LinkCmsSiteId",k.value=this.requestLinkSiteId,this.filteModelContent.filters.push(k)}if(this.requestLinkUserId>0){let k=new A;k.propertyName="linkUserId",k.value=this.requestLinkUserId,this.filteModelContent.filters.push(k)}if(this.requestLinkDeviceId>0){let k=new A;k.propertyName="LinkDeviceId",k.value=this.requestLinkDeviceId,this.filteModelContent.filters.push(k)}this.optionsSearch.parentMethods={onSubmit:k=>this.onSubmitOptionsSearch(k)},this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=x.Descending,this.optionsSearch.data.filterModelContent=this.filteModelContent,this.optionsSearch.data.filterActionSearchRecordStatusShow=!0,this.tokenHelper.isAdminSite?(this.optionsSearch.data.filterActionSearchLinkUserIdShow=!0,this.optionsSearch.data.filterActionSearchLinkSiteIdShow=!0):(this.optionsSearch.data.filterActionSearchLinkSiteIdShow=!1,this.optionsSearch.data.filterActionSearchLinkUserIdShow=!1)}ngOnInit(){this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=x.Descending,this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>N(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}filterModelCompiler(e){let o=JSON.parse(JSON.stringify(e));return this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(o.filters=[...this.filterDataModelQueryBuilder]),o}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tabledisplayedColumns.indexOf("select")===-1&&this.tabledisplayedColumns.push("select"),this.tableRowsSelected=[],this.selectedRowsForBulkDelete.clear(),this.isAllSelected=!1,this.onActionTableRowSelect(new Gi);let o=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(l=>{this.publicHelper.processService.processStart(o,l,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let t=this.filterModelCompiler(this.filteModelContent);if(this.filteModelContent.filterActionSearchRecordStatus>0){let l=new A;l.propertyName="recordStatus",l.value=this.filteModelContent.filterActionSearchRecordStatus,t.filters.push(l)}if(this.filteModelContent.filterActionSearchLinkSiteId>0){let l=new A;l.propertyName="linkSiteId",l.value=this.filteModelContent.filterActionSearchLinkSiteId,t.filters.push(l)}if(this.filteModelContent.filterActionSearchLinkUserId>0){let l=new A;l.propertyName="linkUserId",l.value=this.filteModelContent.filterActionSearchLinkUserId,t.filters.push(l)}this.contentService.ServiceGetAllEditor(t).subscribe({next:l=>{l.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(l.access),this.dataModelResult=l,this.tableSource.data=l.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(l.access)},1e3)):this.cmsToastrService.typeErrorMessage(l.errorMessage),this.publicHelper.processService.processStop(o)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(o,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=x.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=x.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=x.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonViewRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var o="";this.publicHelper.isMobile?o="dialog-fullscreen":o="dialog-min",this.dialog.open(ho,{height:"90%",panelClass:o,enterAnimationDuration:Q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(l=>{this.cmsToastrService.typeErrorSelected(l)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var o="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(l=>{o=l["MESSAGE.Please_Confirm"],t=l["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(o,t).then(l=>{if(l){let d=this.constructor.name+"ServiceDelete";this.translate.get("MESSAGE.Receiving_information").subscribe(f=>{this.publicHelper.processService.processStart(d,f,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:f=>{f.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(d)},error:f=>{this.cmsToastrService.typeError(f),this.publicHelper.processService.processStop(d,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let o=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{o.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{o.set(c,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructorInfoAreaId)});let l=this.filterModelCompiler(this.filteModelContent);if(this.filteModelContent.filterActionSearchRecordStatus>0){let c=new A;c.propertyName="recordStatus",c.value=this.filteModelContent.filterActionSearchRecordStatus,l.filters.push(c)}if(this.filteModelContent.filterActionSearchLinkSiteId>0){let c=new A;c.propertyName="linkSiteId",c.value=this.filteModelContent.filterActionSearchLinkSiteId,l.filters.push(c)}if(this.filteModelContent.filterActionSearchLinkUserId>0){let c=new A;c.propertyName="linkUserId",c.value=this.filteModelContent.filterActionSearchLinkUserId,l.filters.push(c)}this.contentService.ServiceGetCount(l).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(L=>{o.set(L,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}});let d=this.filterModelCompiler(this.filteModelContent);if(this.filteModelContent.filterActionSearchRecordStatus>0){let c=new A;c.propertyName="recordStatus",c.value=this.filteModelContent.filterActionSearchRecordStatus,d.filters.push(c)}if(this.filteModelContent.filterActionSearchLinkSiteId>0){let c=new A;c.propertyName="linkSiteId",c.value=this.filteModelContent.filterActionSearchLinkSiteId,d.filters.push(c)}if(this.filteModelContent.filterActionSearchLinkUserId>0){let c=new A;c.propertyName="linkUserId",c.value=this.filteModelContent.filterActionSearchLinkUserId,d.filters.push(c)}let f=new A;f.propertyName="recordStatus",f.value=be.Available,d.filters.push(f),this.contentService.ServiceGetCount(d).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(L=>{o.set(L,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonViewUserRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkUserId||this.tableRowSelected.linkUserId===0){this.translate.get("MESSAGE.content_does_not_contain_user_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId])}onActionButtonViewMemberRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkDeviceId||this.tableRowSelected.linkDeviceId===0){this.translate.get("MESSAGE.Content_does_not_include_device_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/member/user/edit",this.tableRowSelected.linkMemberId])}onActionButtonViewSiteRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkSiteId||this.tableRowSelected.linkSiteId===0){this.translate.get("MESSAGE.content_does_not_include_site_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId])}onActionButtonViewDeviceRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkDeviceId||this.tableRowSelected.linkDeviceId===0){this.translate.get("MESSAGE.Content_does_not_include_device_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkDeviceId])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}onCheckboxChange(e,o){o.checked?this.selectedRowsForBulkDelete.add(e.id):this.selectedRowsForBulkDelete.delete(e.id),this.updateSelectAllState()}isRowSelected(e){return this.selectedRowsForBulkDelete.has(e)}onSelectAllChange(e){this.isAllSelected=e.checked,this.isAllSelected?this.tableSource.data.forEach(o=>{o.id&&this.selectedRowsForBulkDelete.add(o.id)}):this.selectedRowsForBulkDelete.clear()}updateSelectAllState(){if(this.tableSource.data.length===0){this.isAllSelected=!1;return}let e=this.tableSource.data.every(o=>this.selectedRowsForBulkDelete.has(o.id));this.isAllSelected=e}getSelectedCount(){return this.selectedRowsForBulkDelete.size}onActionButtonBulkDelete(){if(this.selectedRowsForBulkDelete.size===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(l=>{this.cmsToastrService.typeErrorSelected(l)});return}if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var e="",o="";let t=this.selectedRowsForBulkDelete.size;this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(l=>{e=l["MESSAGE.Please_Confirm"],o=l["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+t+" \u0622\u06CC\u062A\u0645 \u0627\u0646\u062A\u062E\u0627\u0628 \u0634\u062F\u0647 ) "}),this.cmsConfirmationDialogService.confirm(e,o).then(l=>{if(l){let d=this.constructor.name+"BulkDelete";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(d,c,this.constructorInfoAreaId)});let f=Array.from(this.selectedRowsForBulkDelete);this.contentService.ServiceDeleteList(f).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.selectedRowsForBulkDelete.clear(),this.isAllSelected=!1,this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(d)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(d,!1)}})}}).catch(()=>{})}};Oi.\u0275fac=function(o){return new(o||Oi)(S(mi),S(q),S(Ce),S(ge),S(j),S(P),S(F),S(G),S(Te),S(je),S(W),S(we))},Oi.\u0275cmp=O({type:Oi,selectors:[["app-coretoken-user-list"]],standalone:!1,features:[z],decls:83,vars:38,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionId"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],[1,"col-4"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","","multiTemplateDataRows","",3,"matSortChange","dataSource"],["class","ntk-row-expandedTitle",3,"ntk-row-selected","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","Description"],["matColumnDef","linkSiteId"],["matColumnDef","linkUserId"],["matColumnDef","LinkMemberUserId"],["matColumnDef","UserAccessAreaType"],["matColumnDef","UserType"],["matColumnDef","UserAccessAdminAllowToAllData"],["matColumnDef","UserAccessAdminAllowToProfessionalData"],["matColumnDef","RememberOnDevice"],["matColumnDef","createdDate"],["style","direction: ltr",4,"matCellDef"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],["matColumnDef","select"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["matColumnDef","expandedTitle"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-trash-can","font-18",2,"color","#ff0000"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash-can","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-globe","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-mobile","font-18",2,"color","#ffffff"],["type","button","target","_blank","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],[1,"ntk-row-expandedTitle",3,"click","rtclick","mouseenter","mouseleave"],["mat-sort-header",""],[3,"ngClass"],[2,"direction","ltr"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[3,"change","checked","indeterminate"],[3,"change","click","checked"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(o,t){if(o&1){let l=E();R(0,rc,1,1,"app-core-user-header",3),a(1,"app-cms-html-list",4),V("optionActionGuideNoticeDisplayChange",function(f){return C(l),B(t.viewGuideNotice,f)||(t.viewGuideNotice=f),_(f)}),M("optionOnActionButtonMemoRow",function(){return C(l),_(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return C(l),_(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return C(l),_(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return C(l),_(t.onActionButtonPrintRow())}),b(2,5),m(3," -------------------------------------- "),I(),ne(4,6)(5,7),b(6,8),R(7,sc,2,0,"a",9),R(8,ac,4,4,"a",10),a(9,"a",11),M("click",function(){return C(l),_(t.viewGuideNotice=!t.viewGuideNotice)}),g(10,"i",12),s(),a(11,"a",11),M("click",function(){return C(l),_(t.onActionButtonReload())}),g(12,"i",13),s(),I(),b(13,14),a(14,"a",15),M("click",function(){return C(l),_(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),g(15,"mat-slide-toggle",16),m(16),h(17,"translate"),s(),a(18,"a",15),M("click",function(){return C(l),_(t.onActionButtonStatist())}),g(19,"mat-slide-toggle",16),m(20),h(21,"translate"),s(),I(),b(22,17),R(23,lc,7,4,"div",18),I(),b(24,19),R(25,cc,7,3,"div",18),R(26,mc,7,3,"div",18),R(27,dc,7,3,"div",18),R(28,pc,7,3,"div",18),R(29,uc,7,3,"div",18),I(),b(30,20),a(31,"app-cms-search-list",21),V("optionsChange",function(f){return C(l),B(t.optionsSearch,f)||(t.optionsSearch=f),_(f)}),s(),a(32,"app-cms-statist-list",21),V("optionsChange",function(f){return C(l),B(t.optionsStatist,f)||(t.optionsStatist=f),_(f)}),s(),I(),b(33,22),a(34,"mat-table",23,0),M("matSortChange",function(){C(l);let f=K(35);return _(t.onTableSortData(f))}),w(36,fc,1,2,"mat-row",24),b(37,25),w(38,Sc,2,1,"mat-header-cell",26)(39,hc,2,1,"mat-cell",27),I(),b(40,28),w(41,Cc,2,1,"mat-header-cell",26)(42,_c,2,1,"mat-cell",27),I(),b(43,29),w(44,vc,2,1,"mat-header-cell",26)(45,gc,4,5,"mat-cell",27),I(),b(46,30),w(47,Tc,2,1,"mat-header-cell",26)(48,bc,4,5,"mat-cell",27),I(),b(49,31),w(50,Ic,2,1,"mat-header-cell",26)(51,Mc,2,1,"mat-cell",27),I(),b(52,32),w(53,wc,2,1,"mat-header-cell",26)(54,Ac,3,4,"mat-cell",27),I(),b(55,33),w(56,kc,2,1,"mat-header-cell",26)(57,Ec,3,4,"mat-cell",27),I(),b(58,34),w(59,Rc,2,1,"mat-header-cell",26)(60,yc,3,3,"mat-cell",27),I(),b(61,35),w(62,Dc,2,1,"mat-header-cell",26)(63,Lc,3,3,"mat-cell",27),I(),b(64,36),w(65,xc,2,1,"mat-header-cell",26)(66,Uc,3,3,"mat-cell",27),I(),b(67,37),w(68,Bc,2,1,"mat-header-cell",26)(69,Vc,3,3,"mat-cell",38),I(),b(70,39),w(71,Oc,3,3,"mat-header-cell",40)(72,Nc,6,1,"mat-cell",41),I(),b(73,42),w(74,Pc,3,5,"mat-header-cell",40)(75,Gc,3,4,"mat-cell",27),I(),w(76,Hc,1,0,"mat-header-row",43)(77,Fc,1,2,"mat-row",44),b(78,45),w(79,jc,20,30,"mat-cell",27),I(),s(),I(),b(80,46),a(81,"mat-paginator",47,1),M("page",function(f){return C(l),_(t.onTablePageingData(f))}),s(),I(),s()}o&2&&(y(t.requestLinkUserId>0?0:-1),r(),T("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),U("optionActionGuideNoticeDisplay",t.viewGuideNotice),T("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),r(6),y(t.requestLinkSiteId>0?7:-1),r(),y(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow&&t.selectedRowsForBulkDelete.size>0?8:-1),r(4),J("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),r(3),T("checked",t.optionsSearch.data.show),r(),p("",v(17,32,"ACTION.SEARCH")," "),r(3),T("checked",t.optionsStatist.data.show),r(),p("",v(21,34,"ACTION.STATIST")," "),r(3),y(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow&&t.selectedRowsForBulkDelete.size>0?23:-1),r(2),y(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?25:-1),r(),y((t.tableRowSelected==null?null:t.tableRowSelected.linkSiteId)>0?26:-1),r(),y((t.tableRowSelected==null?null:t.tableRowSelected.linkUserId)>0?27:-1),r(),y((t.tableRowSelected==null||t.tableRowSelected.deviceClientMAC==null?null:t.tableRowSelected.deviceClientMAC.length)>0?28:-1),r(),y(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessWatchRow&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0?29:-1),r(2),U("options",t.optionsSearch),r(),U("options",t.optionsStatist),r(2),T("dataSource",t.tableSource),r(2),T("matRowDefColumns",he(36,oc)),r(40),T("matHeaderRowDef",t.tabledisplayedColumns),r(),T("matRowDefColumns",t.tabledisplayedColumns),r(4),T("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",he(37,nc)))},dependencies:[tt,Me,No,Ae,ke,Ee,Re,ye,De,Le,xe,Be,Pe,Ve,Ue,Ge,Oe,Ne,He,Fe,$e,ze,Ke,Je,Ye,ve,H,Ze,qe,Xe,We,ot],encapsulation:2});var ri=Oi;var qc=["vform"];function Wc(i,n){if(i&1){let e=E();a(0,"div",7)(1,"button",8),M("click",function(){C(e);let t=u();return _(t.onFormCancel())}),g(2,"i",9),m(3),h(4,"translate"),s()()}i&2&&(r(3),p(" ",v(4,1,"ACTION.CANCEL")," "))}var Ni=class Ni{constructor(n,e,o,t,l,d,f,c,L,oe){this.data=n;this.dialogRef=e;this.coreEnumService=o;this.CoreTokenAuthUserLogService=t;this.cmsToastrService=l;this.tokenHelper=d;this.cmsStoreService=f;this.cdr=c;this.publicHelper=L;this.translate=oe;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.tokenInfo=new it;this.dataModelResult=new D;this.dataModel=new Hi;this.formInfo=new nt;this.dataModelEnumSendSmsStatusTypeResult=new D;this.fieldsInfo=new Map;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,n&&(this.requestId=n.id+"")}ngOnInit(){if(this.translate.get("TITLE.VIEW").subscribe(n=>{this.formInfo.formTitle=n}),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(n=>n.tokenInfoStore).subscribe(n=>N(this,null,function*(){this.tokenInfo=n}))),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:n=>{this.dataModelEnumSendSmsStatusTypeResult=n}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(n=>n.unsubscribe())}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage="";let n=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(n,e,this.constructorInfoAreaId)}),this.CoreTokenAuthUserLogService.setAccessLoad(),this.CoreTokenAuthUserLogService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModel=e.item,e.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+e.item.id,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(o=>{this.formInfo.submitResultMessage=o}),this.formInfo.submitResultMessage=e.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(e.errorMessage)),this.publicHelper.processService.processStop(n)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(n,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Ni.\u0275fac=function(e){return new(e||Ni)(S(te),S(ee),S($),S(di),S(q),S(j),S(F),S(P),S(W),S(G))},Ni.\u0275cmp=O({type:Ni,selectors:[["app-bankpayment-transactionlog-view"]],viewQuery:function(e,o){if(e&1&&X(qc,5),e&2){let t;Y(t=Z())&&(o.formGroup=t.first)}},standalone:!1,decls:9,vars:6,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection","loader-container"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[3,"formInfo"],[1,"ntk-cms-html-card-footer"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,o){e&1&&(a(0,"div",0),m(1),s(),a(2,"div",1),g(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),s(),a(5,"div",4),g(6,"app-cms-form-result-message",5),s(),a(7,"div",6),R(8,Wc,5,3,"div",7),s()),e&2&&(r(),p(" ",o.formInfo.formTitle," "),r(2),T("optionsInfoAreaId",o.constructorInfoAreaId),r(),T("dataModel",o.dataModel)("optionMethod",1),r(2),T("formInfo",o.formInfo),r(2),y(o.formInfo.submitButtonEnabled?8:-1))},dependencies:[ie,st,rt,H],encapsulation:2});var Co=Ni;var Qc=()=>["expandedTitle"],$c=()=>[5,10,20,100];function zc(i,n){if(i&1&&g(0,"app-core-user-header",3),i&2){let e=u();T("optionId",e.requestLinkUserId)}}function Kc(i,n){if(i&1){let e=E();a(0,"a",46),M("click",function(){C(e);let t=u();return _(t.onActionBackToParent())}),g(1,"i",47),s()}}function Jc(i,n){if(i&1){let e=E();a(0,"div",18)(1,"a",48),M("click",function(){C(e);let t=u();return _(t.onActionButtonDeleteRow(t.tableRowSelected))}),g(2,"i",49)(3,"br"),s(),a(4,"p",50),m(5),h(6,"translate"),s()()}i&2&&(r(5),p(" ",v(6,1,"ACTION.DELETE")," "))}function Xc(i,n){if(i&1){let e=E();a(0,"div",18)(1,"a",51),M("click",function(){C(e);let t=u();return _(t.onActionButtonViewSiteRow(t.tableRowSelected))}),g(2,"i",52)(3,"br"),s(),a(4,"p",50),m(5),h(6,"translate"),s()()}i&2&&(r(5),p(" ",v(6,1,"ACTION.SITE")," "))}function Yc(i,n){if(i&1){let e=E();a(0,"div",18)(1,"a",51),M("click",function(){C(e);let t=u();return _(t.onActionButtonViewUserRow(t.tableRowSelected))}),g(2,"i",53)(3,"br"),s(),a(4,"p",50),m(5),h(6,"translate"),s()()}i&2&&(r(5),p(" ",v(6,1,"ACTION.USER")," "))}function Zc(i,n){if(i&1){let e=E();a(0,"div",18)(1,"a",51),M("click",function(){C(e);let t=u();return _(t.onActionButtonViewDeviceRow(t.tableRowSelected))}),g(2,"i",54)(3,"br"),s(),a(4,"p",50),m(5),h(6,"translate"),s()()}i&2&&(r(5),p(" ",v(6,1,"ACTION.DEVICE")," "))}function em(i,n){if(i&1){let e=E();a(0,"div",18)(1,"a",55),M("click",function(){C(e);let t=u();return _(t.onActionButtonViewRow(t.tableRowSelected))}),g(2,"i",56)(3,"br"),s(),a(4,"p",50),m(5),h(6,"translate"),s()()}i&2&&(r(5),p(" ",v(6,1,"ACTION.VIEW")," "))}function tm(i,n){if(i&1){let e=E();a(0,"mat-row",57),M("click",function(t){let l=C(e).$implicit,d=u();return _(d.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=C(e).$implicit,d=u();return _(d.onActionTableRowSelect(l,t))})("mouseenter",function(){let t=C(e).$implicit,l=u();return _(l.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=C(e).$implicit,l=u();return _(l.onActionTableRowMouseLeave(t))}),s()}if(i&2){let e=n.$implicit,o=u();J("ntk-row-selected",e.id===(o.tableRowSelected==null?null:o.tableRowSelected.id))}}function im(i,n){if(i&1&&(a(0,"mat-header-cell",58),m(1),s()),i&2){let e=u();r(),p(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function om(i,n){if(i&1&&(a(0,"mat-cell"),m(1),s()),i&2){let e=n.$implicit;r(),p(" ",e.id," ")}}function nm(i,n){if(i&1&&(a(0,"mat-header-cell",58),m(1),s()),i&2){let e=u();r(),p(" ",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle," ")}}function rm(i,n){if(i&1&&(a(0,"mat-cell"),m(1),s()),i&2){let e=n.$implicit;r(),p(" ",e.description," ")}}function sm(i,n){if(i&1&&(a(0,"mat-header-cell",58),m(1),s()),i&2){let e=u();r(),p(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function am(i,n){if(i&1&&(a(0,"mat-cell"),m(1),h(2,"cmssiteinfo"),h(3,"async"),s()),i&2){let e=n.$implicit;r(),p(" ",v(3,3,v(2,1,e.linkSiteId))," ")}}function lm(i,n){if(i&1&&(a(0,"mat-header-cell",58),m(1),s()),i&2){let e=u();r(),p(" ",e.fieldsInfo.linkUserId==null?null:e.fieldsInfo.linkUserId.fieldTitle," ")}}function cm(i,n){if(i&1&&(a(0,"mat-cell"),m(1),h(2,"cmsuserinfo"),h(3,"async"),s()),i&2){let e=n.$implicit;r(),p(" ",v(3,3,v(2,1,e.linkUserId))," ")}}function mm(i,n){if(i&1&&(a(0,"mat-header-cell",58),m(1),s()),i&2){let e=u();r(),p(" ",e.fieldsInfo.linkMemberUserId==null?null:e.fieldsInfo.linkMemberUserId.fieldTitle," ")}}function dm(i,n){if(i&1&&(a(0,"mat-cell"),m(1),s()),i&2){let e=n.$implicit;r(),p(" ",e.linkMemberUserId," ")}}function pm(i,n){if(i&1&&(a(0,"mat-header-cell",58),m(1),s()),i&2){let e=u();r(),p(" ",e.fieldsInfo.userAccessAreaType==null?null:e.fieldsInfo.userAccessAreaType.fieldTitle," ")}}function um(i,n){if(i&1&&(a(0,"mat-cell"),m(1),h(2,"enums"),s()),i&2){let e=n.$implicit,o=u();r(),p(" ",re(2,1,e.userAccessAreaType,o.dataModelEnumManageUserAccessAreaTypesResult.listItems)," ")}}function fm(i,n){if(i&1&&(a(0,"mat-header-cell",58),m(1),s()),i&2){let e=u();r(),p(" ",e.fieldsInfo.userType==null?null:e.fieldsInfo.userType.fieldTitle," ")}}function Sm(i,n){if(i&1&&(a(0,"mat-cell"),m(1),h(2,"enums"),s()),i&2){let e=n.$implicit,o=u();r(),p(" ",re(2,1,e.userType,o.dataModelEnumManageUserAccessUserTypesResult.listItems)," ")}}function hm(i,n){if(i&1&&(a(0,"mat-header-cell",58),m(1),s()),i&2){let e=u();r(),p(" ",e.fieldsInfo.userAccessAdminAllowToAllData==null?null:e.fieldsInfo.userAccessAdminAllowToAllData.fieldTitle," ")}}function Cm(i,n){if(i&1&&(a(0,"mat-cell"),g(1,"i",59),h(2,"boolclass"),s()),i&2){let e=n.$implicit;r(),T("ngClass",v(2,1,e.userAccessAdminAllowToAllData))}}function _m(i,n){if(i&1&&(a(0,"mat-header-cell",58),m(1),s()),i&2){let e=u();r(),p(" ",e.fieldsInfo.userAccessAdminAllowToProfessionalData==null?null:e.fieldsInfo.userAccessAdminAllowToProfessionalData.fieldTitle," ")}}function vm(i,n){if(i&1&&(a(0,"mat-cell"),g(1,"i",59),h(2,"boolclass"),s()),i&2){let e=n.$implicit;r(),T("ngClass",v(2,1,e.userAccessAdminAllowToProfessionalData))}}function gm(i,n){if(i&1&&(a(0,"mat-header-cell",58),m(1),s()),i&2){let e=u();r(),p(" ",e.fieldsInfo.rememberOnDevice==null?null:e.fieldsInfo.rememberOnDevice.fieldTitle," ")}}function Tm(i,n){if(i&1&&(a(0,"mat-cell"),g(1,"i",59),h(2,"boolclass"),s()),i&2){let e=n.$implicit;r(),T("ngClass",v(2,1,e.rememberOnDevice))}}function bm(i,n){if(i&1&&(a(0,"mat-header-cell",58),m(1),s()),i&2){let e=u();r(),p(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function Im(i,n){if(i&1&&(a(0,"mat-cell",60),m(1),h(2,"localeDateTime"),s()),i&2){let e=n.$implicit;r(),p(" ",v(2,1,e.createdDate)," ")}}function Mm(i,n){i&1&&(a(0,"mat-header-cell"),m(1),h(2,"translate"),s()),i&2&&(r(),p(" ",v(2,1,"TITLE.OPTION")," "))}function wm(i,n){if(i&1&&(a(0,"mat-cell",61)(1,"button",62)(2,"mat-icon"),m(3,"more_vert"),s()(),g(4,"mat-menu",null,2),s()),i&2){let e=K(5);r(),T("matMenuTriggerFor",e)}}function Am(i,n){i&1&&g(0,"mat-header-row")}function km(i,n){if(i&1){let e=E();a(0,"mat-row",63),M("click",function(t){let l=C(e).$implicit,d=u();return _(d.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=C(e).$implicit,d=u();return _(d.onActionTableRowSelect(l,t))}),s()}if(i&2){let e=n.$implicit,o=u();J("ntk-row-selected",e.id===(o.tableRowSelected==null?null:o.tableRowSelected.id))}}function Em(i,n){if(i&1&&(a(0,"mat-cell"),m(1),h(2,"translate"),g(3,"br"),m(4),h(5,"translate"),g(6,"br"),m(7),h(8,"translate"),h(9,"cmssiteinfo"),h(10,"async"),g(11,"br"),m(12),h(13,"translate"),h(14,"cmsuserinfo"),h(15,"async"),g(16,"br"),m(17),h(18,"translate"),h(19,"localeDateTime"),s()),i&2){let e=n.$implicit;r(),at(" ",v(2,10,"TITLE.Id")," : ",e.id," "),r(3),at(" ",v(5,12,"TITLE.Description")," : ",e.description," "),r(3),at(" ",v(8,14,"TITLE.Site_Id")," : ",v(10,18,v(9,16,e.linkSiteId))," "),r(5),at(" ",v(13,20,"TITLE.User_Id")," : ",v(15,24,v(14,22,e.linkUserId))," "),r(5),at(" ",v(18,26,"TITLE.CreationDate")," : ",v(19,28,e.createdDate)," ")}}var Pi=class Pi extends Qe{constructor(e,o,t,l,d,f,c,L,oe,Se,et,It){super(e,new Hi,et,d,L);this.contentService=e;this.cmsToastrService=o;this.cmsConfirmationDialogService=t;this.activatedRoute=l;this.tokenHelper=d;this.cdr=f;this.cmsStoreService=c;this.translate=L;this.router=oe;this.pageInfo=Se;this.publicHelper=et;this.dialog=It;this.requestLinkSiteId=0;this.requestLinkUserId=0;this.requestLinkDeviceId=0;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new Ie;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["UserAccessAreaType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice"];this.tabledisplayedColumnsMobileSource=["UserAccessAreaType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice"];this.dataModelEnumManageUserAccessAreaTypesResult=new D;this.dataModelEnumManageUserAccessUserTypesResult=new D;this.unsubscribe=[];if(this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkDeviceId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkDeviceId")),this.requestLinkSiteId>0){let k=new A;k.propertyName="LinkCmsSiteId",k.value=this.requestLinkSiteId,this.filteModelContent.filters.push(k)}if(this.requestLinkUserId>0){let k=new A;k.propertyName="linkUserId",k.value=this.requestLinkUserId,this.filteModelContent.filters.push(k)}if(this.requestLinkDeviceId>0){let k=new A;k.propertyName="LinkDeviceId",k.value=this.requestLinkDeviceId,this.filteModelContent.filters.push(k)}this.optionsSearch.parentMethods={onSubmit:k=>this.onSubmitOptionsSearch(k)},this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=x.Descending,this.optionsSearch.data.filterModelContent=this.filteModelContent,this.optionsSearch.data.filterActionSearchRecordStatusShow=!0,this.tokenHelper.isAdminSite?(this.optionsSearch.data.filterActionSearchLinkUserIdShow=!0,this.optionsSearch.data.filterActionSearchLinkSiteIdShow=!0):(this.optionsSearch.data.filterActionSearchLinkSiteIdShow=!1,this.optionsSearch.data.filterActionSearchLinkUserIdShow=!1)}ngOnInit(){this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=x.Descending,this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>N(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}filterModelCompiler(e){let o=JSON.parse(JSON.stringify(e));return this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(o.filters=[...this.filterDataModelQueryBuilder]),o}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Hi);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let o=this.filterModelCompiler(this.filteModelContent);if(this.filteModelContent.filterActionSearchRecordStatus>0){let t=new A;t.propertyName="recordStatus",t.value=this.filteModelContent.filterActionSearchRecordStatus,o.filters.push(t)}if(this.filteModelContent.filterActionSearchLinkSiteId>0){let t=new A;t.propertyName="linkSiteId",t.value=this.filteModelContent.filterActionSearchLinkSiteId,o.filters.push(t)}if(this.filteModelContent.filterActionSearchLinkUserId>0){let t=new A;t.propertyName="linkUserId",t.value=this.filteModelContent.filterActionSearchLinkUserId,o.filters.push(t)}this.contentService.ServiceGetAllEditor(o).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=x.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=x.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=x.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonViewRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var o="";this.publicHelper.isMobile?o="dialog-fullscreen":o="dialog-min",this.dialog.open(Co,{height:"90%",panelClass:o,enterAnimationDuration:Q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(l=>{this.cmsToastrService.typeErrorSelected(l)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var o="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(l=>{o=l["MESSAGE.Please_Confirm"],t=l["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(o,t).then(l=>{if(l){let d=this.constructor.name+"ServiceDelete";this.translate.get("MESSAGE.Receiving_information").subscribe(f=>{this.publicHelper.processService.processStart(d,f,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:f=>{f.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(d)},error:f=>{this.cmsToastrService.typeError(f),this.publicHelper.processService.processStop(d,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let o=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{o.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{o.set(c,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructorInfoAreaId)});let l=this.filterModelCompiler(this.filteModelContent);if(this.filteModelContent.filterActionSearchRecordStatus>0){let c=new A;c.propertyName="recordStatus",c.value=this.filteModelContent.filterActionSearchRecordStatus,l.filters.push(c)}if(this.filteModelContent.filterActionSearchLinkSiteId>0){let c=new A;c.propertyName="linkSiteId",c.value=this.filteModelContent.filterActionSearchLinkSiteId,l.filters.push(c)}if(this.filteModelContent.filterActionSearchLinkUserId>0){let c=new A;c.propertyName="linkUserId",c.value=this.filteModelContent.filterActionSearchLinkUserId,l.filters.push(c)}this.contentService.ServiceGetCount(l).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(L=>{o.set(L,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}});let d=this.filterModelCompiler(this.filteModelContent);if(this.filteModelContent.filterActionSearchRecordStatus>0){let c=new A;c.propertyName="recordStatus",c.value=this.filteModelContent.filterActionSearchRecordStatus,d.filters.push(c)}if(this.filteModelContent.filterActionSearchLinkSiteId>0){let c=new A;c.propertyName="linkSiteId",c.value=this.filteModelContent.filterActionSearchLinkSiteId,d.filters.push(c)}if(this.filteModelContent.filterActionSearchLinkUserId>0){let c=new A;c.propertyName="linkUserId",c.value=this.filteModelContent.filterActionSearchLinkUserId,d.filters.push(c)}let f=new A;f.propertyName="recordStatus",f.value=be.Available,d.filters.push(f),this.contentService.ServiceGetCount(d).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(L=>{o.set(L,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonViewUserRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkUserId||this.tableRowSelected.linkUserId===0){this.translate.get("MESSAGE.content_does_not_contain_user_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId])}onActionButtonViewMemberRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkDeviceId||this.tableRowSelected.linkDeviceId===0){this.translate.get("MESSAGE.Content_does_not_include_device_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/member/user/edit",this.tableRowSelected.linkMemberId])}onActionButtonViewSiteRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkSiteId||this.tableRowSelected.linkSiteId===0){this.translate.get("MESSAGE.content_does_not_include_site_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId])}onActionButtonViewDeviceRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkDeviceId||this.tableRowSelected.linkDeviceId===0){this.translate.get("MESSAGE.Content_does_not_include_device_information").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkDeviceId])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};Pi.\u0275fac=function(o){return new(o||Pi)(S(di),S(q),S(Ce),S(ge),S(j),S(P),S(F),S(G),S(Te),S(je),S(W),S(we))},Pi.\u0275cmp=O({type:Pi,selectors:[["app-coretoken-auth-user-log-list"]],standalone:!1,features:[z],decls:78,vars:36,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionId"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],[1,"col-4"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","","multiTemplateDataRows","",3,"matSortChange","dataSource"],["class","ntk-row-expandedTitle",3,"ntk-row-selected","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","Description"],["matColumnDef","linkSiteId"],["matColumnDef","linkUserId"],["matColumnDef","LinkMemberUserId"],["matColumnDef","UserAccessAreaType"],["matColumnDef","UserType"],["matColumnDef","UserAccessAdminAllowToAllData"],["matColumnDef","UserAccessAdminAllowToProfessionalData"],["matColumnDef","RememberOnDevice"],["matColumnDef","createdDate"],["style","direction: ltr",4,"matCellDef"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["matColumnDef","expandedTitle"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-globe","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-mobile","font-18",2,"color","#ffffff"],["type","button","target","_blank","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],[1,"ntk-row-expandedTitle",3,"click","rtclick","mouseenter","mouseleave"],["mat-sort-header",""],[3,"ngClass"],[2,"direction","ltr"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(o,t){if(o&1){let l=E();R(0,zc,1,1,"app-core-user-header",3),a(1,"app-cms-html-list",4),V("optionActionGuideNoticeDisplayChange",function(f){return C(l),B(t.viewGuideNotice,f)||(t.viewGuideNotice=f),_(f)}),M("optionOnActionButtonMemoRow",function(){return C(l),_(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return C(l),_(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return C(l),_(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return C(l),_(t.onActionButtonPrintRow())}),b(2,5),m(3," -------------------------------------- "),I(),ne(4,6)(5,7),b(6,8),R(7,Kc,2,0,"a",9),a(8,"a",10),M("click",function(){return C(l),_(t.viewGuideNotice=!t.viewGuideNotice)}),g(9,"i",11),s(),a(10,"a",10),M("click",function(){return C(l),_(t.onActionButtonReload())}),g(11,"i",12),s(),I(),b(12,13),a(13,"a",14),M("click",function(){return C(l),_(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),g(14,"mat-slide-toggle",15),m(15),h(16,"translate"),s(),a(17,"a",14),M("click",function(){return C(l),_(t.onActionButtonStatist())}),g(18,"mat-slide-toggle",15),m(19),h(20,"translate"),s(),I(),ne(21,16),b(22,17),R(23,Jc,7,3,"div",18),R(24,Xc,7,3,"div",18),R(25,Yc,7,3,"div",18),R(26,Zc,7,3,"div",18),R(27,em,7,3,"div",18),I(),b(28,19),a(29,"app-cms-search-list",20),V("optionsChange",function(f){return C(l),B(t.optionsSearch,f)||(t.optionsSearch=f),_(f)}),s(),a(30,"app-cms-statist-list",20),V("optionsChange",function(f){return C(l),B(t.optionsStatist,f)||(t.optionsStatist=f),_(f)}),s(),I(),b(31,21),a(32,"mat-table",22,0),M("matSortChange",function(){C(l);let f=K(33);return _(t.onTableSortData(f))}),w(34,tm,1,2,"mat-row",23),b(35,24),w(36,im,2,1,"mat-header-cell",25)(37,om,2,1,"mat-cell",26),I(),b(38,27),w(39,nm,2,1,"mat-header-cell",25)(40,rm,2,1,"mat-cell",26),I(),b(41,28),w(42,sm,2,1,"mat-header-cell",25)(43,am,4,5,"mat-cell",26),I(),b(44,29),w(45,lm,2,1,"mat-header-cell",25)(46,cm,4,5,"mat-cell",26),I(),b(47,30),w(48,mm,2,1,"mat-header-cell",25)(49,dm,2,1,"mat-cell",26),I(),b(50,31),w(51,pm,2,1,"mat-header-cell",25)(52,um,3,4,"mat-cell",26),I(),b(53,32),w(54,fm,2,1,"mat-header-cell",25)(55,Sm,3,4,"mat-cell",26),I(),b(56,33),w(57,hm,2,1,"mat-header-cell",25)(58,Cm,3,3,"mat-cell",26),I(),b(59,34),w(60,_m,2,1,"mat-header-cell",25)(61,vm,3,3,"mat-cell",26),I(),b(62,35),w(63,gm,2,1,"mat-header-cell",25)(64,Tm,3,3,"mat-cell",26),I(),b(65,36),w(66,bm,2,1,"mat-header-cell",25)(67,Im,3,3,"mat-cell",37),I(),b(68,38),w(69,Mm,3,3,"mat-header-cell",39)(70,wm,6,1,"mat-cell",40),I(),w(71,Am,1,0,"mat-header-row",41)(72,km,1,2,"mat-row",42),b(73,43),w(74,Em,20,30,"mat-cell",26),I(),s(),I(),b(75,44),a(76,"mat-paginator",45,1),M("page",function(f){return C(l),_(t.onTablePageingData(f))}),s(),I(),s()}o&2&&(y(t.requestLinkUserId>0?0:-1),r(),T("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),U("optionActionGuideNoticeDisplay",t.viewGuideNotice),T("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),r(6),y(t.requestLinkSiteId>0?7:-1),r(4),J("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),r(3),T("checked",t.optionsSearch.data.show),r(),p("",v(16,30,"ACTION.SEARCH")," "),r(3),T("checked",t.optionsStatist.data.show),r(),p("",v(20,32,"ACTION.STATIST")," "),r(4),y(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?23:-1),r(),y((t.tableRowSelected==null?null:t.tableRowSelected.linkSiteId)>0?24:-1),r(),y((t.tableRowSelected==null?null:t.tableRowSelected.linkUserId)>0?25:-1),r(),y((t.tableRowSelected==null||t.tableRowSelected.deviceClientMAC==null?null:t.tableRowSelected.deviceClientMAC.length)>0?26:-1),r(),y(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessWatchRow&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0?27:-1),r(2),U("options",t.optionsSearch),r(),U("options",t.optionsStatist),r(2),T("dataSource",t.tableSource),r(2),T("matRowDefColumns",he(34,Qc)),r(37),T("matHeaderRowDef",t.tabledisplayedColumns),r(),T("matRowDefColumns",t.tabledisplayedColumns),r(4),T("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",he(35,$c)))},dependencies:[tt,Me,Ae,ke,Ee,Re,ye,De,Le,xe,Be,Pe,Ve,Ue,Ge,Oe,Ne,He,Fe,$e,ze,Ke,Je,Ye,ve,H,Ze,qe,Xe,We,ot],encapsulation:2});var si=Pi;var Rm=[{path:"",component:to,data:{title:"ROUTE.CORETOKEN"},children:[{path:"auth-user",component:ri,data:{title:"ROUTE.CORETOKEN.USERLOG"}},{path:"auth-user/LinkSiteId/:LinkSiteId",component:ri,data:{title:"ROUTE.CORETOKEN.USERLOG"}},{path:"auth-user/LinkUserId/:LinkUserId",component:ri,data:{title:"ROUTE.CORETOKEN.USERLOG"}},{path:"auth-user/LinkDeviceId/:LinkDeviceId",component:ri,data:{title:"ROUTE.CORETOKEN.USERLOG"}},{path:"auth-user-log",component:si,data:{title:"ROUTE.CORETOKEN.USERLOG"}},{path:"auth-user-log/LinkSiteId/:LinkSiteId",component:si,data:{title:"ROUTE.CORETOKEN.USERLOG"}},{path:"auth-user-log/LinkUserId/:LinkUserId",component:si,data:{title:"ROUTE.CORETOKEN.USERLOG"}},{path:"auth-user-log/LinkDeviceId/:LinkDeviceId",component:si,data:{title:"ROUTE.CORETOKEN.USERLOG"}},{path:"userbadlogin",component:ni,data:{title:"ROUTE.CORETOKEN.USERBADLOGIN"}},{path:"userbadlogin/LinkSiteId/:LinkSiteId",component:ni,data:{title:"ROUTE.CORETOKEN.USERBADLOGIN"}},{path:"userbadlogin/LinkUserId/:LinkUserId",component:ni,data:{title:"ROUTE.CORETOKEN.USERBADLOGIN"}},{path:"userbadlogin/LinkDeviceId/:LinkDeviceId",component:ni,data:{title:"ROUTE.CORETOKEN.USERBADLOGIN"}},{path:"activation",component:eo,data:{title:"ROUTE.CORETOKEN.ACTIVATION"}},{path:"microservice",component:ao,data:{title:"ROUTE.CORETOKEN.MICROSERVICE"}},{path:"microservicelog",component:no,data:{title:"ROUTE.CORETOKEN.MICROSERVICELOG"}},{path:"notification",component:uo,data:{title:"ROUTE.CORETOKEN.NOTIFICATION"}},{path:"online",component:po,data:{title:"ROUTE.CORETOKEN.NOTIFICATION"}},{path:"notificationlog",component:mo,data:{title:"ROUTE.CORETOKEN.NOTIFICATIONLOG"}}]}],ai=class ai{};ai.\u0275fac=function(e){return new(e||ai)},ai.\u0275mod=Ki({type:ai}),ai.\u0275inj=zi({imports:[To.forChild(Rm),To]});var _o=ai;var li=class li{};li.\u0275fac=function(e){return new(e||li)},li.\u0275mod=Ki({type:li}),li.\u0275inj=zi({providers:[ko,$,mi,di,Rt,kt,Et,At,Tt,wt,Eo,Ce],imports:[_o,wo,Bo,Vo.withConfig({warnOnNgModelWithFormControl:"never"}),Po,Go]});var jo=li;export{jo as CoreTokenModule};
