import{a as St,b as er}from"./chunk-J4OLTXIV.js";import{a as vi}from"./chunk-NRW3SBJE.js";import{a as Ti}from"./chunk-DINUNOGF.js";import{a as $o}from"./chunk-IKMMAGYE.js";import{a as Ci}from"./chunk-K5M7O5OK.js";import{a as Ii}from"./chunk-OYOMZOBJ.js";import{a as wi}from"./chunk-WKA4LGER.js";import{c as ft,d as ht,e as bt,g as gt,h as _t}from"./chunk-GFETQR3F.js";import{a as ut,b as yi}from"./chunk-SLHM7D7Z.js";import"./chunk-5RLG4HNP.js";import{a as pt}from"./chunk-YWQ3AJEF.js";import{b as Zo}from"./chunk-PD6TIULX.js";import{a as Re}from"./chunk-SFC66NH4.js";import"./chunk-25E3XYYJ.js";import{a as dt}from"./chunk-CN4IZOYA.js";import{a as be}from"./chunk-G7VDKBAZ.js";import{a as j,d as ae}from"./chunk-KIW7CZRO.js";import{e as mt,f as B}from"./chunk-FMAO4WAT.js";import{$ as Oo,$a as N,A as Fo,Ab as at,Bb as lt,Cb as st,D as pi,Db as ct,E as di,Fc as Be,G as ui,Ib as qo,Ic as Oe,J as oe,Ja as Gt,Jb as Uo,K as ue,Ka as re,Kb as Qo,Kc as L,L as fe,La as ne,Lb as Ko,Ma as Le,Mb as zo,N as Vo,Nb as Jo,Nc as Xo,O as Lo,Q as Bo,Qb as F,Rb as V,V as fi,W as he,Ya as Ho,Za as we,_ as hi,_a as Wo,aa as No,ba as Ve,bc as Mi,cc as Yo,eb as ze,fb as Je,hb as Ye,lb as Xe,m as mi,mb as Ze,n as Q,nb as $e,q as K,r as me,t as pe,tb as jo,u as ko,ua as bi,ub as et,v as ie,va as gi,vb as tt,w as de,wb as it,x as Ae,xa as _i,xb as ot,ya as Si,yb as rt,zb as nt}from"./chunk-7O4ZVAVH.js";import{$b as $,Ab as ho,Ad as So,Ap as We,Bb as Ki,Bp as ce,Bq as J,Cp as je,Db as Y,Eb as X,F as mo,Fa as r,Fb as Z,Fd as Yi,Ha as ai,I as po,Id as Ue,Jb as R,Jc as ee,Kb as yt,Kc as Rt,Lb as q,Lc as k,Ld as te,Oa as _,Ob as p,Od as De,P as uo,Pb as A,Pc as ci,Q as fo,Qb as h,Rb as si,Rc as xt,Sa as P,Sd as Qe,Ta as li,Td as W,Ub as T,Vb as E,Wa as H,Wb as D,Wk as vo,Xb as x,Xc as bo,Xd as _e,Y as ni,Ya as M,Yb as zi,Yd as se,Ye as yo,ac as At,da as u,db as ei,dc as y,de as U,ea as f,ec as I,fc as ti,he as Mo,kb as m,kp as Co,lb as a,lp as wo,mb as l,mp as ke,nb as g,np as To,op as Eo,p as so,pp as Fe,q as co,qg as Io,qp as Ke,rb as C,rd as go,rp as Ce,sb as w,sd as _o,sp as Do,tb as Ge,td as qe,tp as Ao,ub as v,up as Pt,vp as Ro,wc as G,wp as xo,xb as S,xp as Po,yp as Go,zb as d,zd as Ji,zp as He}from"./chunk-BCKV57LG.js";import{i as Ee}from"./chunk-SEDBTTTN.js";var cr=["vform"];function mr(o,s){o&1&&g(0,"i",15)}function pr(o,s){o&1&&g(0,"i",16)}function dr(o,s){if(o&1&&(a(0,"mat-error"),p(1),a(2,"strong"),p(3),y(4,"translate"),l()()),o&2){let e=d();r(),h(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," is "),r(2),A(I(4,2,"MESSAGE.required"))}}function ur(o,s){if(o&1){let e=v();a(0,"div",17)(1,"button",18),S("click",function(){u(e);let t=d();return f(t.onFormCancel())}),g(2,"i",19),p(3),y(4,"translate"),l(),a(5,"button",20),g(6,"i",21),p(7),y(8,"translate"),l()()}if(o&2){d();let e=R(10);r(3),h(" ",I(4,3,"ACTION.CANCEL")," "),r(2),m("disabled",!e.form.valid),r(2),h(" ",I(8,5,"ACTION.SAVE")," ")}}var kt=class kt extends pt{constructor(e,i,t,n,b,c,O,z){super(n,new He,c,z);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.memberGroupService=n;this.cmsToastrService=b;this.publicHelper=c;this.cdr=O;this.translate=z;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new W;this.dataModel=new He;this.formInfo=new ae;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess()}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.memberGroupService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e),this.formInfo.submitButtonEnabled=!0},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};kt.\u0275fac=function(i){return new(i||kt)(_(ne),_(re),_(U),_(ke),_(L),_(B),_(G),_(F))},kt.\u0275cmp=P({type:kt,selectors:[["app-member-group-add"]],viewQuery:function(i,t){if(i&1&&Y(cr,5),i&2){let n;X(n=Z())&&(t.formGroup=n.first)}},standalone:!1,features:[H],decls:22,vars:15,consts:[["vform","ngForm"],["Title",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","fa fa-times invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],[4,"ngIf"],["class","form-actions",4,"ngIf"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let n=v();a(0,"div",2),g(1,"app-progress-spinner",3),a(2,"div",4)(3,"p",5),p(4),l(),a(5,"p"),p(6),y(7,"translate"),l(),g(8,"app-cms-form-result-message",6),a(9,"form",7,0),S("ngSubmit",function(){return u(n),f(t.onFormSubmit())}),a(11,"div",8)(12,"label",9),p(13),l(),a(14,"input",10,1),D("ngModelChange",function(c){return u(n),E(t.dataModel.title,c)||(t.dataModel.title=c),f(c)}),l(),M(16,mr,1,0,"i",11)(17,pr,1,0,"i",12),a(18,"em"),p(19),l(),M(20,dr,5,4,"mat-error",13),l(),M(21,ur,9,7,"div",14),l()()()}if(i&2){let n=R(15);r(),m("optionsInfoAreaId",t.constructorInfoAreaId),r(3),h(" ",t.formInfo.formTitle," "),r(2),h(" ",I(7,13,"TITLE.Be_Careful_When_Entering_Information")," "),r(2),m("formInfo",t.formInfo),r(5),A(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),r(),m("placeholder",x(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),T("ngModel",t.dataModel.title),r(2),m("ngIf",!n.value),r(),m("ngIf",n.value),r(2),h("",n.value.length," / 100"),r(),m("ngIf",n.errors==null?null:n.errors.required),r(),m("ngIf",t.formInfo.submitButtonEnabled)}},dependencies:[k,de,Q,K,me,oe,ue,fe,ie,pe,he,N,j,be,V],encapsulation:2});var Ei=kt;var fr=["vform"];function hr(o,s){if(o&1){let e=v();C(0),a(1,"div",7)(2,"label",8),p(3),l(),a(4,"input",9,0),D("ngModelChange",function(t){u(e);let n=d();return E(n.dataModelResultContent.item.title,t)||(n.dataModelResultContent.item.title=t),f(t)}),l()(),w()}if(o&2){let e=d();r(3),A(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),r(),m("placeholder",x(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle)),T("ngModel",e.dataModelResultContent.item.title)}}function br(o,s){if(o&1){let e=v();a(0,"div",10)(1,"button",11),S("click",function(){u(e);let t=d();return f(t.onFormCancel())}),g(2,"i",12),p(3),y(4,"translate"),l(),a(5,"button",13),S("click",function(){u(e);let t=d();return f(t.onFormDelete())}),g(6,"i",14),p(7),y(8,"translate"),l()()}if(o&2){let e=d();r(3),h(" ",I(4,3,"ACTION.CANCEL")," "),r(2),m("disabled",!e.formInfo.submitButtonEnabled),r(2),h(" ",I(8,5,"ACTION.DELETE")," ")}}var Ft=class Ft{constructor(s,e,i,t,n,b,c){this.data=s;this.dialogRef=e;this.publicHelper=i;this.contentService=t;this.cdr=n;this.cmsToastrService=b;this.translate=c;this.requestId=0;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.dataModelResultContent=new W;this.formInfo=new ae;this.publicHelper.processService.cdr=this.cdr,s&&(this.requestId=s.id)}ngOnInit(){if(this.requestId<=0){this.cmsToastrService.typeErrorDeleteRowIsNull(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOne()}DataGetOne(){if(this.requestId===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.translate.get("TITLE.Loading_Information").subscribe(e=>{this.formInfo.submitResultMessage=e});let s=this.constructor.name+"fieldInfoConvertor";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(s,e,this.constructorInfoAreaId)}),this.contentService.setAccessLoad(),this.contentService.setAccessDataType(De.Editor),this.contentService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModelResultContent=e,e.isSuccess?this.formInfo.submitResultMessage="":(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.formInfo.submitResultMessageType=FormSubmitedStatusEnum.Success,this.cmsToastrService.typeErrorGetOne()),this.publicHelper.processService.processStop(s)},error:e=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessageType=FormSubmitedStatusEnum.Success,this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(s,!1)}})}onFormDelete(){if(this.requestId===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.formInfo.submitButtonEnabled=!1,this.formInfo.submitButtonEnabled=!1;let s=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(s,e,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.requestId).subscribe({next:e=>{this.formInfo.submitButtonEnabled=!e.isSuccess,e.isSuccess?(this.translate.get("MESSAGE.Deletion_Was_Successful").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.cmsToastrService.typeSuccessRemove(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.cmsToastrService.typeErrorRemove()),this.formInfo.submitButtonEnabled=!0,this.publicHelper.processService.processStop(s)},error:e=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(e),this.formInfo.submitButtonEnabled=!0,this.publicHelper.processService.processStop(s)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Ft.\u0275fac=function(e){return new(e||Ft)(_(ne),_(re),_(B),_(ke),_(G),_(L),_(F))},Ft.\u0275cmp=P({type:Ft,selectors:[["app-estate-property-project-delete"]],viewQuery:function(e,i){if(e&1&&Y(fr,5),e&2){let t;X(t=Z())&&(i.formGroup=t.first)}},standalone:!1,decls:11,vars:7,consts:[["Writer",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[4,"ngIf"],["class","form-actions",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModelResultContent.item.title",1,"color-highlight"],["matInput","","name","dataModelResultContent.item.title","type","text","required","","id","dataModelResultContent.item.title","readonly","",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click","disabled"],[1,"fa","fa-check-square-o"]],template:function(e,i){e&1&&(a(0,"div",1),g(1,"app-progress-spinner",2),a(2,"div",3)(3,"p",4),p(4," \u062D\u0633\u0627\u0628 \u06A9\u0627\u0631\u0628\u0631\u06CC \u062E\u0648\u062F \u0631\u0627 \u0648\u06CC\u0631\u0627\u06CC\u0634 \u06A9\u0646\u06CC\u062F "),l(),a(5,"p"),p(6),y(7,"translate"),l(),p(8),M(9,hr,6,4,"ng-container",5)(10,br,9,7,"div",6),l()()),e&2&&(r(),m("optionsInfoAreaId",i.constructorInfoAreaId),r(5),h(" ",I(7,5,"TITLE.Be_Careful_When_Entering_Information")," "),r(2),h(" ",i.formInfo.formTitle," "),r(),m("ngIf",i.dataModelResultContent==null?null:i.dataModelResultContent.item),r(),m("ngIf",i.formInfo.submitButtonEnabled))},dependencies:[k,Q,K,oe,ie,N,j,V],encapsulation:2});var Di=Ft;var gr=["vform"];function _r(o,s){o&1&&g(0,"i",15)}function Sr(o,s){o&1&&g(0,"i",16)}function Mr(o,s){if(o&1&&(a(0,"mat-error"),p(1),a(2,"strong"),p(3),y(4,"translate"),l()()),o&2){let e=d();r(),h(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," is "),r(2),A(I(4,2,"MESSAGE.required"))}}function yr(o,s){if(o&1){let e=v();a(0,"div",17)(1,"button",18),S("click",function(){u(e);let t=d();return f(t.onFormCancel())}),g(2,"i",19),p(3),y(4,"translate"),l(),a(5,"button",20),g(6,"i",21),p(7),y(8,"translate"),l()()}if(o&2){d();let e=R(10);r(3),h(" ",I(4,3,"ACTION.CANCEL")," "),r(2),m("disabled",!e.form.valid),r(2),h(" ",I(8,5,"ACTION.SAVE")," ")}}var Vt=class Vt extends ut{constructor(e,i,t,n,b,c,O,z){super(n,new He,c,z);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.memberGroupService=n;this.cmsToastrService=b;this.publicHelper=c;this.cdr=O;this.translate=z;this.requestId=0;this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new Qe;this.dataModel=new He;this.formInfo=new ae;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),!this.requestId||this.requestId===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.memberGroupService.setAccessLoad(),this.memberGroupService.setAccessDataType(De.Editor),this.memberGroupService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.memberGroupService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e),this.formInfo.submitButtonEnabled=!0},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Vt.\u0275fac=function(i){return new(i||Vt)(_(ne),_(re),_(U),_(ke),_(L),_(B),_(G),_(F))},Vt.\u0275cmp=P({type:Vt,selectors:[["app-member-group-edit"]],viewQuery:function(i,t){if(i&1&&Y(gr,5),i&2){let n;X(n=Z())&&(t.formGroup=n.first)}},standalone:!1,features:[H],decls:22,vars:15,consts:[["vform","ngForm"],["Title",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","fa fa-times invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],[4,"ngIf"],["class","form-actions",4,"ngIf"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let n=v();a(0,"div",2),g(1,"app-progress-spinner",3),a(2,"div",4)(3,"p",5),p(4),l(),a(5,"p"),p(6),y(7,"translate"),l(),g(8,"app-cms-form-result-message",6),a(9,"form",7,0),S("ngSubmit",function(){return u(n),f(t.onFormSubmit())}),a(11,"div",8)(12,"label",9),p(13),l(),a(14,"input",10,1),D("ngModelChange",function(c){return u(n),E(t.dataModel.title,c)||(t.dataModel.title=c),f(c)}),l(),M(16,_r,1,0,"i",11)(17,Sr,1,0,"i",12),a(18,"em"),p(19),l(),M(20,Mr,5,4,"mat-error",13),l(),M(21,yr,9,7,"div",14),l()()()}if(i&2){let n=R(15);r(),m("optionsInfoAreaId",t.constructorInfoAreaId),r(3),h(" ",t.formInfo.formTitle," "),r(2),h(" ",I(7,13,"TITLE.Be_Careful_When_Entering_Information")," "),r(2),m("formInfo",t.formInfo),r(5),A(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),r(),m("placeholder",x(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),T("ngModel",t.dataModel.title),r(2),m("ngIf",!n.value),r(),m("ngIf",n.value),r(2),h("",n.value.length," / 100"),r(),m("ngIf",n.errors==null?null:n.errors.required),r(),m("ngIf",t.formInfo.submitButtonEnabled)}},dependencies:[k,de,Q,K,me,oe,ue,fe,ie,pe,he,N,j,be,V],encapsulation:2});var Ai=Vt;var Tr=()=>["expandedTitle"],Er=()=>["expandedDetail"],Dr=()=>[5,10,20,100],tr=o=>({display:o});function Ar(o,s){if(o&1){let e=v();a(0,"a",44)(1,"mat-slide-toggle",45),S("click",function(){u(e);let t=d();return f(t.onActionButtonWithHierarchy())}),l(),p(2),y(3,"translate"),l()}o&2&&(r(2),h("",I(3,1,"ACTION.BATCHVIEW")," "))}function Rr(o,s){if(o&1){let e=v();a(0,"div",46)(1,"a",47),S("click",function(){u(e);let t=d();return f(t.onActionButtonNewRow())}),g(2,"i",48)(3,"br"),l(),a(4,"p",49),p(5),y(6,"translate"),l()()}o&2&&(r(5),h(" ",I(6,1,"ACTION.ADD")," "))}function xr(o,s){if(o&1){let e=v();a(0,"div",46)(1,"a",50),S("click",function(){u(e);let t=d();return f(t.onActionButtonEditRow(t.tableRowSelected))}),g(2,"i",51)(3,"br"),l(),a(4,"p",49),p(5),y(6,"translate"),l()()}o&2&&(r(5),h(" ",I(6,1,"ACTION.EDIT")," "))}function Pr(o,s){if(o&1){let e=v();a(0,"div",46)(1,"a",52),S("click",function(){u(e);let t=d();return f(t.onActionButtonDeleteRow(t.tableRowSelected))}),g(2,"i",53)(3,"br"),l(),a(4,"p",49),p(5),y(6,"translate"),l()()}o&2&&(r(5),h(" ",I(6,1,"ACTION.DELETE")," "))}function Gr(o,s){o&1&&(a(0,"mat-header-cell"),p(1),y(2,"translate"),l()),o&2&&(r(),h(" ",I(2,1,"TITLE.MENU")," "))}function kr(o,s){if(o&1){let e=v();a(0,"mat-cell")(1,"button",54),S("click",function(){let t=u(e).$implicit,n=d();return f(n.onActionTableRowSelectActionMenu(t))}),g(2,"i",55),l()()}}function Fr(o,s){if(o&1&&(a(0,"mat-header-cell",56),p(1),l()),o&2){let e=d();r(),h(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function Vr(o,s){if(o&1&&(a(0,"mat-cell"),p(1),l()),o&2){let e=s.$implicit;r(),h(" ",e.id," ")}}function Lr(o,s){if(o&1&&(a(0,"mat-header-cell",56),p(1),l()),o&2){let e=d();r(),h(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function Br(o,s){if(o&1&&(a(0,"mat-cell"),p(1),y(2,"cmssiteinfo"),y(3,"async"),l()),o&2){let e=s.$implicit;r(),h(" ",I(3,3,I(2,1,e.linkSiteId))," ")}}function Or(o,s){if(o&1&&(a(0,"mat-header-cell",56),p(1),l()),o&2){let e=d();r(),h(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function Nr(o,s){if(o&1&&g(0,"select",59),o&2){let e=d().$implicit,i=d();m("contentService",i.contentService)("row",e)("ngStyle",At(3,tr,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function Hr(o,s){if(o&1&&(a(0,"mat-cell"),g(1,"i",57),y(2,"statusIconClass"),M(3,Nr,1,5,"select",58),l()),o&2){let e=s.$implicit,i=d();r(),m("ngClass",I(2,2,e.recordStatus)),r(2),m("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessEditRow)}}function Wr(o,s){if(o&1&&(a(0,"mat-header-cell",56),p(1),l()),o&2){let e=d();r(),h(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," ")}}function jr(o,s){if(o&1&&(a(0,"mat-cell"),p(1),l()),o&2){let e=s.$implicit;r(),h(" ",e.title," ")}}function qr(o,s){if(o&1&&(a(0,"mat-header-cell",56),p(1),l()),o&2){let e=d();r(),h(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function Ur(o,s){if(o&1&&(a(0,"mat-cell"),p(1),y(2,"localeDate"),l()),o&2){let e=s.$implicit;r(),h(" ",I(2,1,e.createdDate)," ")}}function Qr(o,s){o&1&&(a(0,"mat-header-cell"),p(1),y(2,"translate"),l()),o&2&&(r(),h(" ",I(2,1,"TITLE.OPTION")," "))}function Kr(o,s){if(o&1&&(a(0,"mat-cell",60)(1,"button",61)(2,"mat-icon"),p(3,"more_vert"),l()(),g(4,"mat-menu",null,2),l()),o&2){let e=R(5);r(),m("matMenuTriggerFor",e)}}function zr(o,s){if(o&1&&(a(0,"mat-cell"),p(1),l()),o&2){let e=s.$implicit;r(),h(" ",e.title," ")}}function Jr(o,s){if(o&1&&(a(0,"tr"),g(1,"td"),a(2,"td"),p(3),y(4,"localeDate"),l()()),o&2){let e=d().$implicit,i=d();r(3),si(" ",i.fieldsInfo.updatedDate==null?null:i.fieldsInfo.updatedDate.fieldTitle," : ",I(4,2,e.updatedDate)," ")}}function Yr(o,s){if(o&1&&(a(0,"mat-cell")(1,"div")(2,"table"),M(3,Jr,5,4,"tr",62),a(4,"tr"),g(5,"td"),a(6,"td"),p(7),l()(),a(8,"tr"),g(9,"td"),a(10,"td"),p(11),l()(),a(12,"tr"),g(13,"td")(14,"td"),l()()()()),o&2){let e=s.$implicit;r(3),m("ngIf",e.updatedDate),r(4),A(e.title),r(4),A(e.description)}}function Xr(o,s){o&1&&g(0,"mat-header-row")}function Zr(o,s){if(o&1){let e=v();a(0,"mat-row",63),S("click",function(t){let n=u(e).$implicit,b=d();return f(b.onActionTableRowSelect(n,t))})("rtclick",function(t){let n=u(e).$implicit,b=d();return f(b.onActionTableRowSelect(n,t))})("mouseenter",function(){let t=u(e).$implicit,n=d();return f(n.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=u(e).$implicit,n=d();return f(n.onActionTableRowMouseLeave(t))}),l()}if(o&2){let e=s.$implicit,i=d();q("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}function $r(o,s){if(o&1){let e=v();a(0,"mat-row",64),S("click",function(t){let n=u(e).$implicit,b=d();return f(b.onActionTableRowSelect(n,t))})("rtclick",function(t){let n=u(e).$implicit,b=d();return f(b.onActionTableRowSelect(n,t))})("mouseenter",function(){let t=u(e).$implicit,n=d();return f(n.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=u(e).$implicit,n=d();return f(n.onActionTableRowMouseLeave(t))}),l()}if(o&2){let e=s.$implicit,i=d();q("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}function en(o,s){if(o&1){let e=v();a(0,"mat-row",65),S("click",function(t){let n=u(e).$implicit,b=d();return f(b.onActionTableRowSelect(n,t))})("rtclick",function(t){let n=u(e).$implicit,b=d();return f(b.onActionTableRowSelect(n,t))})("mouseenter",function(){let t=u(e).$implicit,n=d();return f(n.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=u(e).$implicit,n=d();return f(n.onActionTableRowMouseLeave(t))}),l()}if(o&2){let e=s.$implicit,i=d();q("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)),m("ngStyle",At(3,tr,e.expanded===!0?"":"none"))}}var Lt=class Lt extends ft{constructor(e,i,t,n,b,c,O,z,Et,ri){super(e,new He,Et,n,c);this.contentService=e;this.cmsToastrService=i;this.router=t;this.tokenHelper=n;this.cdr=b;this.translate=c;this.cmsStoreService=O;this.pageInfo=z;this.publicHelper=Et;this.dialog=ri;this.constructorInfoAreaId=this.constructor.name;this.filteModelContent=new se;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["id","recordStatus","createdDate","action_menu"];this.tabledisplayedColumnsMobileSource=["id","recordStatus","createdDate","action_menu"];this.unsubscribe=[];this.GetAllWithHierarchyCategoryId=!1;this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:Dt=>this.onSubmitOptionsSearch(Dt)},this.filteModelContent.sortColumn="id",this.filteModelContent.sortType=te.Descending}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>Ee(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new He);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),t.isSuccess?(this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=te.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=te.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=te.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}let e=new Gt;e.disableClose=!0,e.autoFocus=!0,e.height="90%",e.data={},this.dialog.open(Ei,e).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}let i=new Gt;i.disableClose=!0,i.autoFocus=!0,i.height="90%",i.data={id:this.tableRowSelected.id},this.dialog.open(Ai,i).afterClosed().subscribe(n=>{n&&n.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(n=>{this.cmsToastrService.typeErrorSelected(n)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Di,{height:"90%",panelClass:i,enterAnimationDuration:J.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:J.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(n=>{n&&n.dialogChangedDate&&this.DataGetAll()})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{i.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{i.set(c,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(O=>{i.set(O,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}});let n=JSON.parse(JSON.stringify(this.filteModelContent)),b=new _e;b.propertyName="recordStatus",b.value=Ue.Available,n.filters.push(b),this.contentService.ServiceGetCount(n).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(O=>{i.set(O,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonWithHierarchy(){this.GetAllWithHierarchyCategoryId=!this.GetAllWithHierarchyCategoryId,this.DataGetAll()}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}};Lt.\u0275fac=function(i){return new(i||Lt)(_(ke),_(L),_(qe),_(Oe),_(G),_(F),_(Be),_(mt),_(B),_(Le))},Lt.\u0275cmp=P({type:Lt,selectors:[["app-member-group-list"]],standalone:!1,features:[H],decls:66,vars:36,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionActionRowDisplayMenuAct","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-maximize","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-minimize","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-highlight","target","_blank",4,"ngIf"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","","multiTemplateDataRows","",3,"matSortChange","dataSource"],["matColumnDef","action_menu"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","linkSiteId"],["matColumnDef","recordStatus"],["matColumnDef","title"],["matColumnDef","createdDate"],["matColumnDef","Action"],["class","Action",4,"matCellDef"],["matColumnDef","expandedTitle"],["matColumnDef","expandedDetail"],[4,"matHeaderRowDef"],["class","ntk-row-expandedTitle",3,"ntk-row-selected","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["class","ntk-row-expandedDetail",3,"ntk-row-selected","ngStyle","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[3,"click"],[1,"col-4"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"click"],[1,"fa","fa-bars","font-18"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[4,"ngIf"],[1,"ntk-row-expandedTitle",3,"click","rtclick","mouseenter","mouseleave"],[1,"ntk-row-mainfild",3,"click","rtclick","mouseenter","mouseleave"],[1,"ntk-row-expandedDetail",3,"click","rtclick","mouseenter","mouseleave","ngStyle"]],template:function(i,t){if(i&1){let n=v();a(0,"app-cms-html-list",3),D("optionActionGuideNoticeDisplayChange",function(c){return u(n),E(t.viewGuideNotice,c)||(t.viewGuideNotice=c),f(c)}),S("optionOnActionButtonMemoRow",function(){return u(n),f(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return u(n),f(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return u(n),f(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return u(n),f(t.onActionButtonPrintRow())}),Ge(1,4)(2,5)(3,6),C(4,7),a(5,"a",8),S("click",function(){return u(n),f(t.viewGuideNotice=!t.viewGuideNotice)}),g(6,"i",9),l(),a(7,"a",8),S("click",function(){return u(n),f(t.onActionButtonReload())}),g(8,"i",10),l(),a(9,"a",11),S("click",function(){return u(n),f(t.onActionGridExpandRows(!0))}),g(10,"i",12),l(),a(11,"a",11),S("click",function(){return u(n),f(t.onActionGridExpandRows(!1))}),g(12,"i",13),l(),w(),C(13,14),a(14,"a",15),S("click",function(){return u(n),f(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),g(15,"mat-slide-toggle",16),p(16),y(17,"translate"),l(),a(18,"a",15),S("click",function(){return u(n),f(t.onActionButtonStatist())}),g(19,"mat-slide-toggle",16),p(20),y(21,"translate"),l(),M(22,Ar,4,3,"a",17),w(),C(23,18),M(24,Rr,7,3,"div",19),w(),C(25,20),M(26,xr,7,3,"div",19)(27,Pr,7,3,"div",19),w(),C(28,21),a(29,"app-cms-search-list",22),D("optionsChange",function(c){return u(n),E(t.optionsSearch,c)||(t.optionsSearch=c),f(c)}),l(),a(30,"app-cms-statist-list",22),D("optionsChange",function(c){return u(n),E(t.optionsStatist,c)||(t.optionsStatist=c),f(c)}),l(),w(),C(31,23),a(32,"mat-table",24,0),S("matSortChange",function(){u(n);let c=R(33);return f(t.onTableSortData(c))}),C(34,25),M(35,Gr,3,3,"mat-header-cell",26)(36,kr,3,0,"mat-cell",27),w(),C(37,28),M(38,Fr,2,1,"mat-header-cell",29)(39,Vr,2,1,"mat-cell",27),w(),C(40,30),M(41,Lr,2,1,"mat-header-cell",29)(42,Br,4,5,"mat-cell",27),w(),C(43,31),M(44,Or,2,1,"mat-header-cell",29)(45,Hr,4,4,"mat-cell",27),w(),C(46,32),M(47,Wr,2,1,"mat-header-cell",29)(48,jr,2,1,"mat-cell",27),w(),C(49,33),M(50,qr,2,1,"mat-header-cell",29)(51,Ur,3,3,"mat-cell",27),w(),C(52,34),M(53,Qr,3,3,"mat-header-cell",26)(54,Kr,6,1,"mat-cell",35),w(),C(55,36),M(56,zr,2,1,"mat-cell",27),w(),C(57,37),M(58,Yr,15,3,"mat-cell",27),w(),M(59,Xr,1,0,"mat-header-row",38)(60,Zr,1,2,"mat-row",39)(61,$r,1,2,"mat-row",40)(62,en,1,5,"mat-row",41),l(),w(),C(63,42),a(64,"mat-paginator",43,1),S("page",function(c){return u(n),f(t.onTablePageingData(c))}),l(),w(),l()}i&2&&(m("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),T("optionActionGuideNoticeDisplay",t.viewGuideNotice),m("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionActionRowDisplayMenuAct",t.tableRowSelectActionMenuClick)("optionSelectRowItemTitle",(t.tableRowSelected==null||t.tableRowSelected.title==null?null:t.tableRowSelected.title.length)>0?t.tableRowSelected==null?null:t.tableRowSelected.title:t.tableRowSelected==null?null:t.tableRowSelected.id),r(8),q("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),r(7),m("checked",t.optionsSearch.data.show),r(),h("",I(17,29,"ACTION.SEARCH")," "),r(3),m("checked",t.optionsStatist.data.show),r(),h("",I(21,31,"ACTION.STATIST")," "),r(2),m("ngIf",(t.tableRowSelected==null?null:t.tableRowSelected.id)>0),r(2),m("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessAddRow),r(2),m("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),r(),m("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),r(2),T("options",t.optionsSearch),r(),T("options",t.optionsStatist),r(2),m("dataSource",t.tableSource),r(27),m("matHeaderRowDef",t.tabledisplayedColumns),r(),m("matRowDefColumns",$(33,Tr)),r(),m("matRowDefColumns",t.tabledisplayedColumns),r(),m("matRowDefColumns",$(34,Er)),r(2),m("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",$(35,Dr)))},dependencies:[ee,k,ci,Ve,we,N,ze,Je,Ye,Xe,Ze,$e,et,it,at,ot,tt,lt,rt,nt,st,ct,ht,bt,gt,_t,Ii,xt,V,vi,Ci,wi],encapsulation:2});var Ri=Lt;var Ot=class Ot{constructor(){this.constructorInfoAreaId=this.constructor.name}ngOnInit(){}};Ot.\u0275fac=function(e){return new(e||Ot)},Ot.\u0275cmp=P({type:Ot,selectors:[["app-member"]],standalone:!1,decls:1,vars:0,template:function(e,i){e&1&&g(0,"router-outlet")},dependencies:[_o],encapsulation:2});var Fi=Ot;var rn=["vform"];function nn(o,s){if(o&1){let e=v();a(0,"div",14)(1,"label",28),S("click",function(){u(e);let t=d();return f(t.fileManagerOpenForm=!0)}),p(2),l(),a(3,"input",29,5),y(5,"translate"),D("ngModelChange",function(t){u(e);let n=d();return E(n.dataModel.linkMainImageId,t)||(n.dataModel.linkMainImageId=t),f(t)}),S("click",function(){u(e);let t=d();return f(t.fileManagerOpenForm=!0)}),l(),a(6,"cms-file-manager",30),S("itemSelected",function(t){u(e);let n=d();return f(n.onActionFileSelectedLinkMainImageId(t))}),D("openFormChange",function(t){u(e);let n=d();return E(n.fileManagerOpenForm,t)||(n.fileManagerOpenForm=t),f(t)}),l()()}if(o&2){let e=d();r(2),A(e.fieldsInfo.linkMainImageId==null?null:e.fieldsInfo.linkMainImageId.fieldTitle),r(),m("placeholder",x(I(5,12,"TITLE.Original_File_ID"))),T("ngModel",e.dataModel.linkMainImageId),r(3),m("language",e.appLanguage)("isPopup",!0),T("openForm",e.fileManagerOpenForm),m("tree",e.fileManagerTree)("openDirectUploadView",!0)("openFilemanagerButtonLabelKey","select")("selectFileType",e.selectFileTypeMainImage)("openFilemanagerButtonView",!1)}}function an(o,s){o&1&&g(0,"i",31)}function ln(o,s){o&1&&g(0,"i",32)}function sn(o,s){if(o&1&&(a(0,"mat-error"),p(1),a(2,"strong"),p(3),y(4,"translate"),l()()),o&2){let e=d();r(),h(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," is "),r(2),A(I(4,2,"MESSAGE.required"))}}function cn(o,s){if(o&1&&(a(0,"mat-error"),p(1),a(2,"strong"),p(3),y(4,"translate"),l()()),o&2){let e=d();r(),h(" ",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle," is "),r(2),A(I(4,2,"MESSAGE.required"))}}function mn(o,s){o&1&&g(0,"i",31)}function pn(o,s){o&1&&g(0,"i",32)}function dn(o,s){if(o&1&&(a(0,"mat-error"),p(1),a(2,"strong"),p(3),y(4,"translate"),l()()),o&2){let e=d();r(),h(" ",e.fieldsInfo.Address==null?null:e.fieldsInfo.Address.fieldTitle," is "),r(2),A(I(4,2,"MESSAGE.required"))}}function un(o,s){if(o&1){let e=v();a(0,"div",33)(1,"button",34),S("click",function(){u(e);let t=d();return f(t.onFormCancel())}),g(2,"i",35),p(3),y(4,"translate"),l(),a(5,"button",36),g(6,"i",37),p(7),y(8,"translate"),l()()}if(o&2){d();let e=R(10);r(3),h(" ",I(4,3,"ACTION.CANCEL")," "),r(2),m("disabled",!e.form.valid),r(2),h(" ",I(8,5,"ACTION.SAVE")," ")}}var Nt=class Nt extends pt{constructor(e,i,t,n,b,c,O,z){super(n,new We,c,z);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.memberPropertyAliasService=n;this.cmsToastrService=b;this.publicHelper=c;this.cdr=O;this.translate=z;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new W;this.dataModel=new We;this.formInfo=new ae;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess()}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.memberPropertyAliasService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e),this.formInfo.submitButtonEnabled=!0},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorUser(e){this.dataModel.linkCmsUserId=null,e&&e.id>0&&(this.dataModel.linkCmsUserId=e.id)}onActionFileSelectedLinkMainImageId(e){this.dataModel.linkMainImageId=e.id}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Nt.\u0275fac=function(i){return new(i||Nt)(_(ne),_(re),_(U),_(Fe),_(L),_(B),_(G),_(F))},Nt.\u0275cmp=P({type:Nt,selectors:[["app-member-propertyalias-add"]],viewQuery:function(i,t){if(i&1&&Y(rn,5),i&2){let n;X(n=Z())&&(t.formGroup=n.first)}},standalone:!1,features:[H],decls:50,vars:37,consts:[["vform","ngForm"],["Title",""],["Description",""],["Address",""],["ViewCount",""],["LinkMainImageId",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[1,"mb-3"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","fa fa-times invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],[4,"ngIf"],[3,"optionChange","optionSelectForce","optionPlaceholder","optionDisabled"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.address",1,"color-highlight"],["matInput","","type","text","name","dataModel.address","type","text","minlength","3","maxlength","100","required","","id","dataModel.address",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.viewCount",1,"color-highlight"],["matInput","","name","dataModel.viewCount","type","number","placeholder","0","minlength","3","maxlength","100","required","","id","dataModel.viewCount",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["class","form-actions",4,"ngIf"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openDirectUploadView","openFilemanagerButtonLabelKey","selectFileType","openFilemanagerButtonView"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let n=v();a(0,"div",6),g(1,"app-progress-spinner",7),a(2,"div",8)(3,"p",9),p(4),l(),a(5,"p"),p(6),y(7,"translate"),l(),g(8,"app-cms-form-result-message",10),a(9,"form",11,0),S("ngSubmit",function(){return u(n),f(t.onFormSubmit())}),g(11,"div",12),M(12,nn,7,14,"div",13),a(13,"div",14)(14,"label",15),p(15),l(),a(16,"input",16,1),D("ngModelChange",function(c){return u(n),E(t.dataModel.title,c)||(t.dataModel.title=c),f(c)}),l(),M(18,an,1,0,"i",17)(19,ln,1,0,"i",18),a(20,"em"),p(21),l(),M(22,sn,5,4,"mat-error",19),l(),a(23,"app-cms-user-selector",20),y(24,"translate"),S("optionChange",function(c){return u(n),f(t.onActionSelectorUser(c))}),l(),a(25,"div",14)(26,"label",21),p(27),l(),a(28,"textarea",22,2),D("ngModelChange",function(c){return u(n),E(t.dataModel.description,c)||(t.dataModel.description=c),f(c)}),p(30,"        "),l(),a(31,"em"),p(32),l(),M(33,cn,5,4,"mat-error",19),l(),a(34,"div",14)(35,"label",23),p(36),l(),a(37,"input",24,3),D("ngModelChange",function(c){return u(n),E(t.dataModel.address,c)||(t.dataModel.address=c),f(c)}),l(),M(39,mn,1,0,"i",17)(40,pn,1,0,"i",18),a(41,"em"),p(42),l(),M(43,dn,5,4,"mat-error",19),l(),a(44,"div",14)(45,"label",25),p(46),l(),a(47,"input",26,4),D("ngModelChange",function(c){return u(n),E(t.dataModel.viewCount,c)||(t.dataModel.viewCount=c),f(c)}),l()(),M(49,un,9,7,"div",27),l()()()}if(i&2){let n=R(17),b=R(29),c=R(38);r(),m("optionsInfoAreaId",t.constructorInfoAreaId),r(3),h(" ",t.formInfo.formTitle," "),r(2),h(" ",I(7,33,"TITLE.Be_Careful_When_Entering_Information")," "),r(2),m("formInfo",t.formInfo),r(4),m("ngIf",t.fieldsInfo.linkMainImageId==null?null:t.fieldsInfo.linkMainImageId.accessWatchField),r(3),A(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),r(),m("placeholder",x(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),T("ngModel",t.dataModel.title),r(2),m("ngIf",!n.value),r(),m("ngIf",n.value),r(2),h("",n.value.length," / 100"),r(),m("ngIf",n.errors==null?null:n.errors.required),r(),m("optionSelectForce",t.dataModel.linkCmsUserId)("optionPlaceholder",I(24,35,"TITLE.USER"))("optionDisabled",!(t.fieldsInfo.linkCmsUserId!=null&&t.fieldsInfo.linkCmsUserId.accessEditField)),r(4),A(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),r(),m("placeholder",x(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),T("ngModel",t.dataModel.description),r(4),h("",b.value.length," / 500"),r(),m("ngIf",b.errors==null?null:b.errors.required),r(3),A(t.fieldsInfo.address==null?null:t.fieldsInfo.address.fieldTitle),r(),m("placeholder",x(t.fieldsInfo.address==null?null:t.fieldsInfo.address.fieldTitle)),T("ngModel",t.dataModel.address),r(2),m("ngIf",!c.value),r(),m("ngIf",c.value),r(2),h("",c.value.length," / 100"),r(),m("ngIf",c.errors==null?null:c.errors.required),r(3),A(t.fieldsInfo.viewCount==null?null:t.fieldsInfo.viewCount.fieldTitle),r(),T("ngModel",t.dataModel.viewCount),r(2),m("ngIf",t.formInfo.submitButtonEnabled)}},dependencies:[k,de,Q,Ae,K,me,oe,ue,fe,ie,pe,he,N,yi,j,be,Re,Mi,V],encapsulation:2});var Vi=Nt;var fn=["vform"];function hn(o,s){if(o&1){let e=v();C(0),a(1,"div",7)(2,"label",8),p(3),l(),a(4,"input",9,0),D("ngModelChange",function(t){u(e);let n=d();return E(n.dataModelResultContent.item.title,t)||(n.dataModelResultContent.item.title=t),f(t)}),l()(),w()}if(o&2){let e=d();r(3),A(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),r(),m("placeholder",x(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle)),T("ngModel",e.dataModelResultContent.item.title)}}function bn(o,s){if(o&1){let e=v();a(0,"div",10)(1,"button",11),S("click",function(){u(e);let t=d();return f(t.onFormCancel())}),g(2,"i",12),p(3),y(4,"translate"),l(),a(5,"button",13),S("click",function(){u(e);let t=d();return f(t.onFormDelete())}),g(6,"i",14),p(7),y(8,"translate"),l()()}if(o&2){let e=d();r(3),h(" ",I(4,3,"ACTION.CANCEL")," "),r(2),m("disabled",!e.formInfo.submitButtonEnabled),r(2),h(" ",I(8,5,"ACTION.DELETE")," ")}}var Ht=class Ht{constructor(s,e,i,t,n,b,c){this.data=s;this.dialogRef=e;this.publicHelper=i;this.contentService=t;this.cdr=n;this.cmsToastrService=b;this.translate=c;this.requestId=0;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.dataModelResultContent=new W;this.formInfo=new ae;this.publicHelper.processService.cdr=this.cdr,s&&(this.requestId=s.id)}ngOnInit(){if(this.requestId<=0){this.cmsToastrService.typeErrorDeleteRowIsNull(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOne()}DataGetOne(){if(this.requestId===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.translate.get("TITLE.Loading_Information").subscribe(e=>{this.formInfo.submitResultMessage=e});let s=this.constructor.name+"fieldInfoConvertor";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(s,e,this.constructorInfoAreaId)}),this.contentService.setAccessLoad(),this.contentService.setAccessDataType(De.Editor),this.contentService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModelResultContent=e,e.isSuccess?this.formInfo.submitResultMessage="":(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.formInfo.submitResultMessageType=FormSubmitedStatusEnum.Success,this.cmsToastrService.typeErrorGetOne()),this.publicHelper.processService.processStop(s)},error:e=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessageType=FormSubmitedStatusEnum.Success,this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(s,!1)}})}onFormDelete(){if(this.requestId===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.formInfo.submitButtonEnabled=!1,this.formInfo.submitButtonEnabled=!1;let s=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(s,e,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.requestId).subscribe({next:e=>{this.formInfo.submitButtonEnabled=!e.isSuccess,e.isSuccess?(this.translate.get("MESSAGE.Deletion_Was_Successful").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.cmsToastrService.typeSuccessRemove(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.cmsToastrService.typeErrorRemove()),this.formInfo.submitButtonEnabled=!0,this.publicHelper.processService.processStop(s)},error:e=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(e),this.formInfo.submitButtonEnabled=!0,this.publicHelper.processService.processStop(s)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Ht.\u0275fac=function(e){return new(e||Ht)(_(ne),_(re),_(B),_(Fe),_(G),_(L),_(F))},Ht.\u0275cmp=P({type:Ht,selectors:[["app-member-propertyalias-delete"]],viewQuery:function(e,i){if(e&1&&Y(fn,5),e&2){let t;X(t=Z())&&(i.formGroup=t.first)}},standalone:!1,decls:11,vars:7,consts:[["Writer",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[4,"ngIf"],["class","form-actions",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModelResultContent.item.title",1,"color-highlight"],["matInput","","name","dataModelResultContent.item.title","type","text","id","dataModelResultContent.item.title","readonly","",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click","disabled"],[1,"fa","fa-check-square-o"]],template:function(e,i){e&1&&(a(0,"div",1),g(1,"app-progress-spinner",2),a(2,"div",3)(3,"p",4),p(4," \u062D\u0633\u0627\u0628 \u06A9\u0627\u0631\u0628\u0631\u06CC \u062E\u0648\u062F \u0631\u0627 \u0648\u06CC\u0631\u0627\u06CC\u0634 \u06A9\u0646\u06CC\u062F "),l(),a(5,"p"),p(6),y(7,"translate"),l(),p(8),M(9,hn,6,4,"ng-container",5)(10,bn,9,7,"div",6),l()()),e&2&&(r(),m("optionsInfoAreaId",i.constructorInfoAreaId),r(5),h(" ",I(7,5,"TITLE.Be_Careful_When_Entering_Information")," "),r(2),h(" ",i.formInfo.formTitle," "),r(),m("ngIf",i.dataModelResultContent==null?null:i.dataModelResultContent.item),r(),m("ngIf",i.formInfo.submitButtonEnabled))},dependencies:[k,Q,K,ie,N,j,V],encapsulation:2});var Li=Ht;var gn=["vform"];function _n(o,s){if(o&1){let e=v();a(0,"div",14)(1,"label",28),S("click",function(){u(e);let t=d();return f(t.fileManagerOpenForm=!0)}),p(2),l(),a(3,"input",29,5),y(5,"translate"),D("ngModelChange",function(t){u(e);let n=d();return E(n.dataModel.linkMainImageId,t)||(n.dataModel.linkMainImageId=t),f(t)}),S("click",function(){u(e);let t=d();return f(t.fileManagerOpenForm=!0)}),l(),a(6,"cms-file-manager",30),S("itemSelected",function(t){u(e);let n=d();return f(n.onActionFileSelectedLinkMainImageId(t))}),D("openFormChange",function(t){u(e);let n=d();return E(n.fileManagerOpenForm,t)||(n.fileManagerOpenForm=t),f(t)}),l()()}if(o&2){let e=d();r(2),A(e.fieldsInfo.linkMainImageId==null?null:e.fieldsInfo.linkMainImageId.fieldTitle),r(),m("placeholder",x(I(5,12,"TITLE.Original_File_ID"))),T("ngModel",e.dataModel.linkMainImageId),r(3),m("language",e.appLanguage)("isPopup",!0),T("openForm",e.fileManagerOpenForm),m("tree",e.fileManagerTree)("openDirectUploadView",!0)("openFilemanagerButtonLabelKey","select")("selectFileType",e.selectFileTypeMainImage)("openFilemanagerButtonView",!1)}}function Sn(o,s){o&1&&g(0,"i",31)}function Mn(o,s){o&1&&g(0,"i",32)}function yn(o,s){if(o&1&&(a(0,"mat-error"),p(1),a(2,"strong"),p(3),y(4,"translate"),l()()),o&2){let e=d();r(),h(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," is "),r(2),A(I(4,2,"MESSAGE.required"))}}function In(o,s){if(o&1&&(a(0,"mat-error"),p(1),a(2,"strong"),p(3),y(4,"translate"),l()()),o&2){let e=d();r(),h(" ",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle," is "),r(2),A(I(4,2,"MESSAGE.required"))}}function vn(o,s){o&1&&g(0,"i",31)}function Cn(o,s){o&1&&g(0,"i",32)}function wn(o,s){if(o&1&&(a(0,"mat-error"),p(1),a(2,"strong"),p(3),y(4,"translate"),l()()),o&2){let e=d();r(),h(" ",e.fieldsInfo.Address==null?null:e.fieldsInfo.Address.fieldTitle," is "),r(2),A(I(4,2,"MESSAGE.required"))}}function Tn(o,s){if(o&1){let e=v();a(0,"div",33)(1,"button",34),S("click",function(){u(e);let t=d();return f(t.onFormCancel())}),g(2,"i",35),p(3),y(4,"translate"),l(),a(5,"button",36),g(6,"i",37),p(7),y(8,"translate"),l()()}if(o&2){d();let e=R(10);r(3),h(" ",I(4,3,"ACTION.CANCEL")," "),r(2),m("disabled",!e.form.valid),r(2),h(" ",I(8,5,"ACTION.SAVE")," ")}}var Wt=class Wt extends ut{constructor(e,i,t,n,b,c,O,z){super(n,new We,c,z);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.memberPropertyAliasService=n;this.cmsToastrService=b;this.publicHelper=c;this.cdr=O;this.translate=z;this.requestId=0;this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new Qe;this.dataModel=new We;this.formInfo=new ae;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),!this.requestId||this.requestId===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.memberPropertyAliasService.setAccessLoad(),this.memberPropertyAliasService.setAccessDataType(De.Editor),this.memberPropertyAliasService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.memberPropertyAliasService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e),this.formInfo.submitButtonEnabled=!0},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorUser(e){this.dataModel.linkCmsUserId=null,e&&e.id>0&&(this.dataModel.linkCmsUserId=e.id)}onActionFileSelectedLinkMainImageId(e){this.dataModel.linkMainImageId=e.id}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Wt.\u0275fac=function(i){return new(i||Wt)(_(ne),_(re),_(U),_(Fe),_(L),_(B),_(G),_(F))},Wt.\u0275cmp=P({type:Wt,selectors:[["app-member-propertyalias-edit"]],viewQuery:function(i,t){if(i&1&&Y(gn,5),i&2){let n;X(n=Z())&&(t.formGroup=n.first)}},standalone:!1,features:[H],decls:50,vars:39,consts:[["vform","ngForm"],["Title",""],["Description",""],["Address",""],["ViewCount",""],["LinkMainImageId",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[1,"mb-3"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","fa fa-times invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],[4,"ngIf"],[3,"optionChange","optionSelectForce","optionPlaceholder","optionDisabled"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.address",1,"color-highlight"],["matInput","","type","text","name","dataModel.address","type","text","minlength","1","maxlength","500","rows","5","required","","id","dataModel.address",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.viewCount",1,"color-highlight"],["matInput","","name","dataModel.viewCount","type","number","placeholder","0","minlength","3","maxlength","100","required","","id","dataModel.viewCount",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["class","form-actions",4,"ngIf"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openDirectUploadView","openFilemanagerButtonLabelKey","selectFileType","openFilemanagerButtonView"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let n=v();a(0,"div",6),g(1,"app-progress-spinner",7),a(2,"div",8)(3,"p",9),p(4),l(),a(5,"p"),p(6),y(7,"translate"),l(),g(8,"app-cms-form-result-message",10),a(9,"form",11,0),S("ngSubmit",function(){return u(n),f(t.onFormSubmit())}),g(11,"div",12),M(12,_n,7,14,"div",13),a(13,"div",14)(14,"label",15),p(15),l(),a(16,"input",16,1),D("ngModelChange",function(c){return u(n),E(t.dataModel.title,c)||(t.dataModel.title=c),f(c)}),l(),M(18,Sn,1,0,"i",17)(19,Mn,1,0,"i",18),a(20,"em"),p(21),l(),M(22,yn,5,4,"mat-error",19),l(),a(23,"app-cms-user-selector",20),y(24,"translate"),S("optionChange",function(c){return u(n),f(t.onActionSelectorUser(c))}),l(),a(25,"div",14)(26,"label",21),p(27),l(),a(28,"textarea",22,2),D("ngModelChange",function(c){return u(n),E(t.dataModel.description,c)||(t.dataModel.description=c),f(c)}),p(30,"        "),l(),a(31,"em"),p(32),l(),M(33,In,5,4,"mat-error",19),l(),a(34,"div",14)(35,"label",23),p(36),l(),a(37,"textarea",24,3),D("ngModelChange",function(c){return u(n),E(t.dataModel.address,c)||(t.dataModel.address=c),f(c)}),l(),M(39,vn,1,0,"i",17)(40,Cn,1,0,"i",18),a(41,"em"),p(42),l(),M(43,wn,5,4,"mat-error",19),l(),a(44,"div",14)(45,"label",25),p(46),l(),a(47,"input",26,4),D("ngModelChange",function(c){return u(n),E(t.dataModel.viewCount,c)||(t.dataModel.viewCount=c),f(c)}),l()(),M(49,Tn,9,7,"div",27),l()()()}if(i&2){let n=R(17),b=R(29),c=R(38);r(),m("optionsInfoAreaId",t.constructorInfoAreaId),r(3),h(" ",t.formInfo.formTitle," "),r(2),h(" ",I(7,35,"TITLE.Be_Careful_When_Entering_Information")," "),r(2),m("formInfo",t.formInfo),r(4),m("ngIf",t.fieldsInfo.linkMainImageId==null?null:t.fieldsInfo.linkMainImageId.accessWatchField),r(3),A(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),r(),m("placeholder",x(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),T("ngModel",t.dataModel.title),r(2),m("ngIf",!n.value),r(),m("ngIf",n.value),r(2),h("",n.value.length," / 100"),r(),m("ngIf",n.errors==null?null:n.errors.required),r(),m("optionSelectForce",t.dataModel.linkCmsUserId)("optionPlaceholder",I(24,37,"TITLE.USER"))("optionDisabled",!(t.fieldsInfo.linkCmsUserId!=null&&t.fieldsInfo.linkCmsUserId.accessEditField)),r(4),A(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),r(),m("placeholder",x(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle)),T("ngModel",t.dataModel.description),m("disabled",!(t.fieldsInfo.description!=null&&t.fieldsInfo.description.accessEditField)),r(4),h("",b.value.length," / 500"),r(),m("ngIf",b.errors==null?null:b.errors.required),r(3),A(t.fieldsInfo.address==null?null:t.fieldsInfo.address.fieldTitle),r(),m("placeholder",x(t.fieldsInfo.address==null?null:t.fieldsInfo.address.fieldTitle)),T("ngModel",t.dataModel.address),m("disabled",!(t.fieldsInfo.address!=null&&t.fieldsInfo.address.accessEditField)),r(2),m("ngIf",!c.value),r(),m("ngIf",c.value),r(2),h("",c.value.length," / 100"),r(),m("ngIf",c.errors==null?null:c.errors.required),r(3),A(t.fieldsInfo.viewCount==null?null:t.fieldsInfo.viewCount.fieldTitle),r(),T("ngModel",t.dataModel.viewCount),r(2),m("ngIf",t.formInfo.submitButtonEnabled)}},dependencies:[k,de,Q,Ae,K,me,oe,ue,fe,ie,pe,he,N,yi,j,be,Re,Mi,V],encapsulation:2});var Bi=Wt;var En=()=>["expandedTitle"],Dn=()=>["expandedDetail"],An=()=>[5,10,20,100],ir=o=>({display:o});function Rn(o,s){if(o&1){let e=v();a(0,"a",48)(1,"mat-slide-toggle",49),S("click",function(){u(e);let t=d();return f(t.onActionButtonWithHierarchy())}),l(),p(2),y(3,"translate"),l()}o&2&&(r(2),h("",I(3,1,"ACTION.BATCHVIEW")," "))}function xn(o,s){if(o&1){let e=v();a(0,"div",50)(1,"a",51),S("click",function(){u(e);let t=d();return f(t.onActionButtonNewRow())}),g(2,"i",52)(3,"br"),l(),a(4,"p",53),p(5),y(6,"translate"),l()()}o&2&&(r(5),h(" ",I(6,1,"ACTION.ADD")," "))}function Pn(o,s){if(o&1){let e=v();a(0,"div",50)(1,"a",54),S("click",function(){u(e);let t=d();return f(t.onActionButtonEditRow(t.tableRowSelected))}),g(2,"i",55)(3,"br"),l(),a(4,"p",53),p(5),y(6,"translate"),l()()}o&2&&(r(5),h(" ",I(6,1,"ACTION.EDIT")," "))}function Gn(o,s){if(o&1){let e=v();a(0,"div",50)(1,"a",56),S("click",function(){u(e);let t=d();return f(t.onActionButtonDeleteRow(t.tableRowSelected))}),g(2,"i",57)(3,"br"),l(),a(4,"p",53),p(5),y(6,"translate"),l()()}o&2&&(r(5),h(" ",I(6,1,"ACTION.DELETE")," "))}function kn(o,s){o&1&&(a(0,"mat-header-cell"),p(1),y(2,"translate"),l()),o&2&&(r(),h(" ",I(2,1,"TITLE.MENU")," "))}function Fn(o,s){if(o&1){let e=v();a(0,"mat-cell")(1,"button",58),S("click",function(){let t=u(e).$implicit,n=d();return f(n.onActionTableRowSelectActionMenu(t))}),g(2,"i",59),l()()}}function Vn(o,s){if(o&1&&(a(0,"mat-header-cell",60),p(1),l()),o&2){let e=d();r(),h(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function Ln(o,s){if(o&1&&(a(0,"mat-cell"),p(1),l()),o&2){let e=s.$implicit;r(),h(" ",e.id," ")}}function Bn(o,s){if(o&1&&(a(0,"mat-header-cell",60),p(1),l()),o&2){let e=d();r(),h(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function On(o,s){if(o&1&&(a(0,"mat-cell"),p(1),y(2,"cmssiteinfo"),y(3,"async"),l()),o&2){let e=s.$implicit;r(),h(" ",I(3,3,I(2,1,e.linkSiteId))," ")}}function Nn(o,s){if(o&1&&(a(0,"mat-header-cell",60),p(1),l()),o&2){let e=d();r(),h(" ",e.fieldsInfo.linkCmsUserId==null?null:e.fieldsInfo.linkCmsUserId.fieldTitle," ")}}function Hn(o,s){if(o&1&&(a(0,"mat-cell"),p(1),l()),o&2){let e=s.$implicit;r(),h(" ",e.linkCmsUserId," ")}}function Wn(o,s){if(o&1&&(a(0,"mat-header-cell",60),p(1),l()),o&2){let e=d();r(),h(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function jn(o,s){if(o&1&&g(0,"select",63),o&2){let e=d().$implicit,i=d();m("contentService",i.contentService)("row",e)("ngStyle",At(3,ir,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function qn(o,s){if(o&1&&(a(0,"mat-cell"),g(1,"i",61),y(2,"statusIconClass"),M(3,jn,1,5,"select",62),l()),o&2){let e=s.$implicit,i=d();r(),m("ngClass",I(2,2,e.recordStatus)),r(2),m("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessEditRow)}}function Un(o,s){if(o&1&&(a(0,"mat-header-cell",60),p(1),l()),o&2){let e=d();r(),h(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," ")}}function Qn(o,s){if(o&1&&(a(0,"mat-cell"),p(1),l()),o&2){let e=s.$implicit;r(),h(" ",e.title," ")}}function Kn(o,s){if(o&1&&(a(0,"mat-header-cell",60),p(1),l()),o&2){let e=d();r(),h(" ",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle," ")}}function zn(o,s){if(o&1&&(a(0,"mat-cell"),p(1),l()),o&2){let e=s.$implicit;r(),h(" ",e.description," ")}}function Jn(o,s){if(o&1&&(a(0,"mat-header-cell",60),p(1),l()),o&2){let e=d();r(),h(" ",e.fieldsInfo.address==null?null:e.fieldsInfo.address.fieldTitle," ")}}function Yn(o,s){if(o&1&&(a(0,"mat-cell"),p(1),l()),o&2){let e=s.$implicit;r(),h(" ",e.address," ")}}function Xn(o,s){if(o&1&&(a(0,"mat-header-cell",60),p(1),l()),o&2){let e=d();r(),h(" ",e.fieldsInfo.viewCount==null?null:e.fieldsInfo.viewCount.fieldTitle," ")}}function Zn(o,s){if(o&1&&(a(0,"mat-cell"),p(1),l()),o&2){let e=s.$implicit;r(),h(" ",e.viewCount," ")}}function $n(o,s){if(o&1&&(a(0,"mat-header-cell",60),p(1),l()),o&2){let e=d();r(),h(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function ea(o,s){if(o&1&&(a(0,"mat-cell"),p(1),y(2,"localeDate"),l()),o&2){let e=s.$implicit;r(),h(" ",I(2,1,e.createdDate)," ")}}function ta(o,s){o&1&&(a(0,"mat-header-cell"),p(1),y(2,"translate"),l()),o&2&&(r(),h(" ",I(2,1,"TITLE.OPTION")," "))}function ia(o,s){if(o&1&&(a(0,"mat-cell",64)(1,"button",65)(2,"mat-icon"),p(3,"more_vert"),l()(),g(4,"mat-menu",null,2),l()),o&2){let e=R(5);r(),m("matMenuTriggerFor",e)}}function oa(o,s){if(o&1&&(a(0,"mat-cell"),p(1),l()),o&2){let e=s.$implicit;r(),h(" ",e.title," ")}}function ra(o,s){if(o&1&&(a(0,"tr"),g(1,"td"),a(2,"td"),p(3),y(4,"localeDate"),l()()),o&2){let e=d().$implicit,i=d();r(3),si(" ",i.fieldsInfo.updatedDate==null?null:i.fieldsInfo.updatedDate.fieldTitle," : ",I(4,2,e.updatedDate)," ")}}function na(o,s){if(o&1&&(a(0,"mat-cell")(1,"div")(2,"table"),M(3,ra,5,4,"tr",66),a(4,"tr"),g(5,"td"),a(6,"td"),p(7),l()(),a(8,"tr"),g(9,"td"),a(10,"td"),p(11),l()(),a(12,"tr"),g(13,"td")(14,"td"),l()()()()),o&2){let e=s.$implicit;r(3),m("ngIf",e.updatedDate),r(4),A(e.title),r(4),A(e.description)}}function aa(o,s){o&1&&g(0,"mat-header-row")}function la(o,s){if(o&1){let e=v();a(0,"mat-row",67),S("click",function(t){let n=u(e).$implicit,b=d();return f(b.onActionTableRowSelect(n,t))})("rtclick",function(t){let n=u(e).$implicit,b=d();return f(b.onActionTableRowSelect(n,t))})("mouseenter",function(){let t=u(e).$implicit,n=d();return f(n.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=u(e).$implicit,n=d();return f(n.onActionTableRowMouseLeave(t))}),l()}if(o&2){let e=s.$implicit,i=d();q("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}function sa(o,s){if(o&1){let e=v();a(0,"mat-row",68),S("click",function(t){let n=u(e).$implicit,b=d();return f(b.onActionTableRowSelect(n,t))})("rtclick",function(t){let n=u(e).$implicit,b=d();return f(b.onActionTableRowSelect(n,t))})("mouseenter",function(){let t=u(e).$implicit,n=d();return f(n.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=u(e).$implicit,n=d();return f(n.onActionTableRowMouseLeave(t))}),l()}if(o&2){let e=s.$implicit,i=d();q("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}function ca(o,s){if(o&1){let e=v();a(0,"mat-row",69),S("click",function(t){let n=u(e).$implicit,b=d();return f(b.onActionTableRowSelect(n,t))})("rtclick",function(t){let n=u(e).$implicit,b=d();return f(b.onActionTableRowSelect(n,t))})("mouseenter",function(){let t=u(e).$implicit,n=d();return f(n.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=u(e).$implicit,n=d();return f(n.onActionTableRowMouseLeave(t))}),l()}if(o&2){let e=s.$implicit,i=d();q("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)),m("ngStyle",At(3,ir,e.expanded===!0?"":"none"))}}var jt=class jt extends ft{constructor(e,i,t,n,b,c,O,z,Et,ri){super(e,new We,Et,n,b);this.contentService=e;this.cmsToastrService=i;this.router=t;this.tokenHelper=n;this.translate=b;this.cmsStoreService=c;this.cdr=O;this.pageInfo=z;this.publicHelper=Et;this.dialog=ri;this.constructorInfoAreaId=this.constructor.name;this.filteModelContent=new se;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["id","linkSiteId","LinkCmsUserId","recordStatus","Description","Address","ViewCount","createdDate","action_menu"];this.tabledisplayedColumnsMobileSource=["id","linkSiteId","LinkCmsUserId","recordStatus","Description","Address","ViewCount","createdDate","action_menu"];this.unsubscribe=[];this.GetAllWithHierarchyCategoryId=!1;this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:Dt=>this.onSubmitOptionsSearch(Dt)},this.filteModelContent.sortColumn="id",this.filteModelContent.sortType=te.Descending}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>Ee(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new We);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),t.isSuccess?(this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=te.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=te.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=te.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}let e=new Gt;e.disableClose=!0,e.autoFocus=!0,e.height="90%",e.data={},this.dialog.open(Vi,e).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}let i=new Gt;i.disableClose=!0,i.autoFocus=!0,i.height="90%",i.data={id:this.tableRowSelected.id},this.dialog.open(Bi,i).afterClosed().subscribe(n=>{n&&n.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(n=>{this.cmsToastrService.typeErrorSelected(n)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Li,{height:"90%",panelClass:i,enterAnimationDuration:J.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:J.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(n=>{n&&n.dialogChangedDate&&this.DataGetAll()})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{i.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{i.set(c,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(O=>{i.set(O,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}});let n=JSON.parse(JSON.stringify(this.filteModelContent)),b=new _e;b.propertyName="recordStatus",b.value=Ue.Available,n.filters.push(b),this.contentService.ServiceGetCount(n).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(O=>{i.set(O,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonWithHierarchy(){this.GetAllWithHierarchyCategoryId=!this.GetAllWithHierarchyCategoryId,this.DataGetAll()}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}};jt.\u0275fac=function(i){return new(i||jt)(_(Fe),_(L),_(qe),_(Oe),_(F),_(Be),_(G),_(mt),_(B),_(Le))},jt.\u0275cmp=P({type:jt,selectors:[["app-member-propertyalias-list"]],standalone:!1,features:[H],decls:78,vars:36,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionActionRowDisplayMenuAct","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-maximize","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-minimize","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-highlight","target","_blank",4,"ngIf"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","","multiTemplateDataRows","",3,"matSortChange","dataSource"],["matColumnDef","action_menu"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","linkSiteId"],["matColumnDef","LinkCmsUserId"],["matColumnDef","recordStatus"],["matColumnDef","title"],["matColumnDef","Description"],["matColumnDef","Address"],["matColumnDef","ViewCount"],["matColumnDef","createdDate"],["matColumnDef","Action"],["class","Action",4,"matCellDef"],["matColumnDef","expandedTitle"],["matColumnDef","expandedDetail"],[4,"matHeaderRowDef"],["class","ntk-row-expandedTitle",3,"ntk-row-selected","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["class","ntk-row-expandedDetail",3,"ntk-row-selected","ngStyle","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[3,"click"],[1,"col-4"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"click"],[1,"fa","fa-bars","font-18"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[4,"ngIf"],[1,"ntk-row-expandedTitle",3,"click","rtclick","mouseenter","mouseleave"],[1,"ntk-row-mainfild",3,"click","rtclick","mouseenter","mouseleave"],[1,"ntk-row-expandedDetail",3,"click","rtclick","mouseenter","mouseleave","ngStyle"]],template:function(i,t){if(i&1){let n=v();a(0,"app-cms-html-list",3),D("optionActionGuideNoticeDisplayChange",function(c){return u(n),E(t.viewGuideNotice,c)||(t.viewGuideNotice=c),f(c)}),S("optionOnActionButtonMemoRow",function(){return u(n),f(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return u(n),f(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return u(n),f(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return u(n),f(t.onActionButtonPrintRow())}),Ge(1,4)(2,5)(3,6),C(4,7),a(5,"a",8),S("click",function(){return u(n),f(t.viewGuideNotice=!t.viewGuideNotice)}),g(6,"i",9),l(),a(7,"a",8),S("click",function(){return u(n),f(t.onActionButtonReload())}),g(8,"i",10),l(),a(9,"a",11),S("click",function(){return u(n),f(t.onActionGridExpandRows(!0))}),g(10,"i",12),l(),a(11,"a",11),S("click",function(){return u(n),f(t.onActionGridExpandRows(!1))}),g(12,"i",13),l(),w(),C(13,14),a(14,"a",15),S("click",function(){return u(n),f(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),g(15,"mat-slide-toggle",16),p(16),y(17,"translate"),l(),a(18,"a",15),S("click",function(){return u(n),f(t.onActionButtonStatist())}),g(19,"mat-slide-toggle",16),p(20),y(21,"translate"),l(),M(22,Rn,4,3,"a",17),w(),C(23,18),M(24,xn,7,3,"div",19),w(),C(25,20),M(26,Pn,7,3,"div",19)(27,Gn,7,3,"div",19),w(),C(28,21),a(29,"app-cms-search-list",22),D("optionsChange",function(c){return u(n),E(t.optionsSearch,c)||(t.optionsSearch=c),f(c)}),l(),a(30,"app-cms-statist-list",22),D("optionsChange",function(c){return u(n),E(t.optionsStatist,c)||(t.optionsStatist=c),f(c)}),l(),w(),C(31,23),a(32,"mat-table",24,0),S("matSortChange",function(){u(n);let c=R(33);return f(t.onTableSortData(c))}),C(34,25),M(35,kn,3,3,"mat-header-cell",26)(36,Fn,3,0,"mat-cell",27),w(),C(37,28),M(38,Vn,2,1,"mat-header-cell",29)(39,Ln,2,1,"mat-cell",27),w(),C(40,30),M(41,Bn,2,1,"mat-header-cell",29)(42,On,4,5,"mat-cell",27),w(),C(43,31),M(44,Nn,2,1,"mat-header-cell",29)(45,Hn,2,1,"mat-cell",27),w(),C(46,32),M(47,Wn,2,1,"mat-header-cell",29)(48,qn,4,4,"mat-cell",27),w(),C(49,33),M(50,Un,2,1,"mat-header-cell",29)(51,Qn,2,1,"mat-cell",27),w(),C(52,34),M(53,Kn,2,1,"mat-header-cell",29)(54,zn,2,1,"mat-cell",27),w(),C(55,35),M(56,Jn,2,1,"mat-header-cell",29)(57,Yn,2,1,"mat-cell",27),w(),C(58,36),M(59,Xn,2,1,"mat-header-cell",29)(60,Zn,2,1,"mat-cell",27),w(),C(61,37),M(62,$n,2,1,"mat-header-cell",29)(63,ea,3,3,"mat-cell",27),w(),C(64,38),M(65,ta,3,3,"mat-header-cell",26)(66,ia,6,1,"mat-cell",39),w(),C(67,40),M(68,oa,2,1,"mat-cell",27),w(),C(69,41),M(70,na,15,3,"mat-cell",27),w(),M(71,aa,1,0,"mat-header-row",42)(72,la,1,2,"mat-row",43)(73,sa,1,2,"mat-row",44)(74,ca,1,5,"mat-row",45),l(),w(),C(75,46),a(76,"mat-paginator",47,1),S("page",function(c){return u(n),f(t.onTablePageingData(c))}),l(),w(),l()}i&2&&(m("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),T("optionActionGuideNoticeDisplay",t.viewGuideNotice),m("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionActionRowDisplayMenuAct",t.tableRowSelectActionMenuClick)("optionSelectRowItemTitle",(t.tableRowSelected==null||t.tableRowSelected.title==null?null:t.tableRowSelected.title.length)>0?t.tableRowSelected==null?null:t.tableRowSelected.title:t.tableRowSelected==null?null:t.tableRowSelected.id),r(8),q("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),r(7),m("checked",t.optionsSearch.data.show),r(),h("",I(17,29,"ACTION.SEARCH")," "),r(3),m("checked",t.optionsStatist.data.show),r(),h("",I(21,31,"ACTION.STATIST")," "),r(2),m("ngIf",(t.tableRowSelected==null?null:t.tableRowSelected.id)>0),r(2),m("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessAddRow),r(2),m("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),r(),m("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),r(2),T("options",t.optionsSearch),r(),T("options",t.optionsStatist),r(2),m("dataSource",t.tableSource),r(39),m("matHeaderRowDef",t.tabledisplayedColumns),r(),m("matRowDefColumns",$(33,En)),r(),m("matRowDefColumns",t.tabledisplayedColumns),r(),m("matRowDefColumns",$(34,Dn)),r(2),m("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",$(35,An)))},dependencies:[ee,k,ci,Ve,we,N,ze,Je,Ye,Xe,Ze,$e,et,it,at,ot,tt,lt,rt,nt,st,ct,ht,bt,gt,_t,Ii,xt,V,vi,Ci,wi],encapsulation:2});var Oi=jt;var ma=["vform"],pa=()=>["fa"];function da(o,s){o&1&&g(0,"i",18)}function ua(o,s){o&1&&g(0,"i",19)}function fa(o,s){if(o&1&&(a(0,"mat-error"),p(1),a(2,"strong"),p(3),y(4,"translate"),l()()),o&2){let e=d();r(),h(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," is "),r(2),A(I(4,2,"MESSAGE.required"))}}function ha(o,s){if(o&1){let e=v();a(0,"div",10)(1,"label",20),p(2),l(),a(3,"input",21,2),D("ngModelChange",function(t){u(e);let n=d();return E(n.dataModel.iconFont,t)||(n.dataModel.iconFont=t),f(t)}),S("iconPickerSelect",function(t){u(e);let n=d();return f(n.onIconPickerSelect(t))}),l(),a(5,"span",22),g(6,"i",23),l()()}if(o&2){let e=d();r(2),A(e.fieldsInfo.iconFont==null?null:e.fieldsInfo.iconFont.fieldTitle),r(),m("placeholder",x(e.fieldsInfo.iconFont==null?null:e.fieldsInfo.iconFont.fieldTitle)),T("ngModel",e.dataModel.iconFont),m("iconPicker",e.dataModel.iconFont)("ipIconPack",$(10,pa))("ipPosition","top")("disabled",!(e.fieldsInfo.iconFont!=null&&e.fieldsInfo.iconFont.accessEditField))("disabled",!(e.fieldsInfo.iconFont!=null&&e.fieldsInfo.iconFont.accessAddField)),r(3),m("ngClass",e.dataModel.iconFont)}}function ba(o,s){if(o&1){let e=v();a(0,"div",10)(1,"label",24),p(2),l(),a(3,"input",25,3),D("ngModelChange",function(t){u(e);let n=d();return E(n.dataModel.showInFormOrder,t)||(n.dataModel.showInFormOrder=t),f(t)}),l()()}if(o&2){let e=d();r(2),A(e.fieldsInfo.showInFormOrder==null?null:e.fieldsInfo.showInFormOrder.fieldTitle),r(),m("placeholder",x(e.fieldsInfo.showInFormOrder==null?null:e.fieldsInfo.showInFormOrder.fieldTitle)),T("ngModel",e.dataModel.showInFormOrder),m("disabled",!(e.fieldsInfo.showInFormOrder!=null&&e.fieldsInfo.showInFormOrder.accessEditField))}}function ga(o,s){if(o&1){let e=v();a(0,"div",26)(1,"button",27),S("click",function(){u(e);let t=d();return f(t.onFormCancel())}),g(2,"i",28),p(3),y(4,"translate"),l(),a(5,"button",29),g(6,"i",30),p(7),y(8,"translate"),l()()}if(o&2){d();let e=R(10);r(3),h(" ",I(4,3,"ACTION.CANCEL")," "),r(2),m("disabled",!e.form.valid),r(2),h(" ",I(8,5,"ACTION.SAVE")," ")}}var qt=class qt extends pt{constructor(e,i,t,n,b,c,O,z){super(n,new ce,c,z);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.memberPropertyDetailGroupService=n;this.cmsToastrService=b;this.publicHelper=c;this.cdr=O;this.translate=z;this.requestLinkPropertyTypeId=0;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new W;this.dataModel=new ce;this.formInfo=new ae;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),e&&(this.requestLinkPropertyTypeId=+e.linkPropertyTypeId),this.requestLinkPropertyTypeId>0&&(this.dataModel.linkPropertyTypeId=this.requestLinkPropertyTypeId)}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess()}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.memberPropertyDetailGroupService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e),this.formInfo.submitButtonEnabled=!0},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorSelect(e){if(!e||!e.id||e.id<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkPropertyTypeId=e.id}onIconPickerSelect(e){this.dataModel.iconFont=e}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};qt.\u0275fac=function(i){return new(i||qt)(_(ne),_(re),_(U),_(Ce),_(L),_(B),_(G),_(F))},qt.\u0275cmp=P({type:qt,selectors:[["app-member-propertydetailgroup-add"]],viewQuery:function(i,t){if(i&1&&Y(ma,5),i&2){let n;X(n=Z())&&(t.formGroup=n.first)}},standalone:!1,features:[H],decls:24,vars:17,consts:[["vform","ngForm"],["Title",""],["IconFont",""],["ShowInFormOrder",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","fa fa-times invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],[4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["class","form-actions",4,"ngIf"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.iconFont",1,"color-highlight"],["matInput","","type","text","name","dataModel.iconFont","type","text","id","dataModel.iconFont",1,"form-control","validate-name",3,"ngModelChange","iconPickerSelect","ngModel","iconPicker","ipIconPack","ipPosition","placeholder","disabled"],[1,"input-group-addon"],[3,"ngClass"],["for","dataModel.showInFormOrder",1,"color-highlight"],["matInput","","type","number","name","dataModel.showInFormOrder","id","dataModel.showInFormOrder",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled","placeholder"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let n=v();a(0,"div",4),g(1,"app-progress-spinner",5),a(2,"div",6)(3,"p",7),p(4),l(),a(5,"p"),p(6),y(7,"translate"),l(),g(8,"app-cms-form-result-message",8),a(9,"form",9,0),S("ngSubmit",function(){return u(n),f(t.onFormSubmit())}),a(11,"div",10)(12,"label",11),p(13),l(),a(14,"input",12,1),D("ngModelChange",function(c){return u(n),E(t.dataModel.title,c)||(t.dataModel.title=c),f(c)}),l(),M(16,da,1,0,"i",13)(17,ua,1,0,"i",14),a(18,"em"),p(19),l(),M(20,fa,5,4,"mat-error",15),l(),M(21,ha,7,11,"div",16)(22,ba,5,5,"div",16)(23,ga,9,7,"div",17),l()()()}if(i&2){let n=R(15);r(),m("optionsInfoAreaId",t.constructorInfoAreaId),r(3),h(" ",t.formInfo.formTitle," "),r(2),h(" ",I(7,15,"TITLE.Be_Careful_When_Entering_Information")," "),r(2),m("formInfo",t.formInfo),r(5),A(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),r(),m("placeholder",x(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),T("ngModel",t.dataModel.title),r(2),m("ngIf",!n.value),r(),m("ngIf",n.value),r(2),h("",n.value.length," / 100"),r(),m("ngIf",n.errors==null?null:n.errors.required),r(),m("ngIf",t.fieldsInfo.iconFont==null?null:t.fieldsInfo.iconFont.accessWatchField),r(),m("ngIf",t.fieldsInfo.showInFormOrder==null?null:t.fieldsInfo.showInFormOrder.accessWatchField),r(),m("ngIf",t.formInfo.submitButtonEnabled)}},dependencies:[ee,k,de,Q,Ae,K,me,oe,ue,fe,ie,pe,he,N,j,be,Re,St,V],encapsulation:2});var Ut=qt;var _a=["vform"],Sa=()=>["fa"];function Ma(o,s){o&1&&g(0,"i",18)}function ya(o,s){o&1&&g(0,"i",19)}function Ia(o,s){if(o&1&&(a(0,"mat-error"),p(1),a(2,"strong"),p(3),y(4,"translate"),l()()),o&2){let e=d();r(),h(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," is "),r(2),A(I(4,2,"MESSAGE.required"))}}function va(o,s){if(o&1){let e=v();a(0,"div",10)(1,"label",20),p(2),l(),a(3,"input",21,2),D("ngModelChange",function(t){u(e);let n=d();return E(n.dataModel.iconFont,t)||(n.dataModel.iconFont=t),f(t)}),S("iconPickerSelect",function(t){u(e);let n=d();return f(n.onIconPickerSelect(t))}),l(),a(5,"span",22),g(6,"i",23),l()()}if(o&2){let e=d();r(2),A(e.fieldsInfo.iconFont==null?null:e.fieldsInfo.iconFont.fieldTitle),r(),m("placeholder",x(e.fieldsInfo.iconFont==null?null:e.fieldsInfo.iconFont.fieldTitle)),T("ngModel",e.dataModel.iconFont),m("iconPicker",e.dataModel.iconFont)("ipIconPack",$(10,Sa))("ipPosition","top")("disabled",!(e.fieldsInfo.iconFont!=null&&e.fieldsInfo.iconFont.accessEditField))("disabled",!(e.fieldsInfo.iconFont!=null&&e.fieldsInfo.iconFont.accessAddField)),r(3),m("ngClass",e.dataModel.iconFont)}}function Ca(o,s){if(o&1){let e=v();a(0,"div",10)(1,"label",24),p(2),l(),a(3,"input",25,3),D("ngModelChange",function(t){u(e);let n=d();return E(n.dataModel.showInFormOrder,t)||(n.dataModel.showInFormOrder=t),f(t)}),l()()}if(o&2){let e=d();r(2),A(e.fieldsInfo.showInFormOrder==null?null:e.fieldsInfo.showInFormOrder.fieldTitle),r(),m("placeholder",x(e.fieldsInfo.showInFormOrder==null?null:e.fieldsInfo.showInFormOrder.fieldTitle)),T("ngModel",e.dataModel.showInFormOrder),m("disabled",!(e.fieldsInfo.showInFormOrder!=null&&e.fieldsInfo.showInFormOrder.accessEditField))}}function wa(o,s){if(o&1){let e=v();a(0,"div",26)(1,"button",27),S("click",function(){u(e);let t=d();return f(t.onFormCancel())}),g(2,"i",28),p(3),y(4,"translate"),l(),a(5,"button",29),g(6,"i",30),p(7),y(8,"translate"),l()()}if(o&2){d();let e=R(10);r(3),h(" ",I(4,3,"ACTION.CANCEL")," "),r(2),m("disabled",!e.form.valid),r(2),h(" ",I(8,5,"ACTION.SAVE")," ")}}var Qt=class Qt extends ut{constructor(e,i,t,n,b,c,O,z){super(n,new ce,c,z);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.memberPropertyDetailGroupService=n;this.cmsToastrService=b;this.publicHelper=c;this.cdr=O;this.translate=z;this.requestId=0;this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new Qe;this.dataModel=new ce;this.formInfo=new ae;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=+e.id),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),!this.requestId||this.requestId===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.memberPropertyDetailGroupService.setAccessLoad(),this.memberPropertyDetailGroupService.setAccessDataType(De.Editor),this.memberPropertyDetailGroupService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.memberPropertyDetailGroupService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e),this.formInfo.submitButtonEnabled=!0},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorSelect(e){if(!e||!e.id||e.id<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkPropertyTypeId=e.id}onIconPickerSelect(e){this.dataModel.iconFont=e}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Qt.\u0275fac=function(i){return new(i||Qt)(_(ne),_(re),_(U),_(Ce),_(L),_(B),_(G),_(F))},Qt.\u0275cmp=P({type:Qt,selectors:[["app-member-propertydetailgroup-edit"]],viewQuery:function(i,t){if(i&1&&Y(_a,5),i&2){let n;X(n=Z())&&(t.formGroup=n.first)}},standalone:!1,features:[H],decls:25,vars:17,consts:[["vform","ngForm"],["Title",""],["IconFont",""],["ShowInFormOrder",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","fa fa-times invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],[4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["class","form-actions",4,"ngIf"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.iconFont",1,"color-highlight"],["matInput","","type","text","name","dataModel.iconFont","type","text","id","dataModel.iconFont",1,"form-control","validate-name",3,"ngModelChange","iconPickerSelect","ngModel","iconPicker","ipIconPack","ipPosition","placeholder","disabled"],[1,"input-group-addon"],[3,"ngClass"],["for","dataModel.showInFormOrder",1,"color-highlight"],["matInput","","type","number","name","dataModel.showInFormOrder","id","dataModel.showInFormOrder",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled","placeholder"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let n=v();a(0,"div",4),g(1,"app-progress-spinner",5),a(2,"div",6)(3,"p",7),p(4),l(),a(5,"p"),p(6),y(7,"translate"),l(),g(8,"app-cms-form-result-message",8),a(9,"form",9,0),S("ngSubmit",function(){return u(n),f(t.onFormSubmit())}),p(11," \\ "),a(12,"div",10)(13,"label",11),p(14),l(),a(15,"input",12,1),D("ngModelChange",function(c){return u(n),E(t.dataModel.title,c)||(t.dataModel.title=c),f(c)}),l(),M(17,Ma,1,0,"i",13)(18,ya,1,0,"i",14),a(19,"em"),p(20),l(),M(21,Ia,5,4,"mat-error",15),l(),M(22,va,7,11,"div",16)(23,Ca,5,5,"div",16)(24,wa,9,7,"div",17),l()()()}if(i&2){let n=R(16);r(),m("optionsInfoAreaId",t.constructorInfoAreaId),r(3),h(" ",t.formInfo.formTitle," "),r(2),h(" ",I(7,15,"TITLE.Be_Careful_When_Entering_Information")," "),r(2),m("formInfo",t.formInfo),r(6),A(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),r(),m("placeholder",x(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),T("ngModel",t.dataModel.title),r(2),m("ngIf",!n.value),r(),m("ngIf",n.value),r(2),h("",n.value.length," / 100"),r(),m("ngIf",n.errors==null?null:n.errors.required),r(),m("ngIf",t.fieldsInfo.iconFont==null?null:t.fieldsInfo.iconFont.accessWatchField),r(),m("ngIf",t.fieldsInfo.showInFormOrder==null?null:t.fieldsInfo.showInFormOrder.accessWatchField),r(),m("ngIf",t.formInfo.submitButtonEnabled)}},dependencies:[ee,k,de,Q,Ae,K,me,oe,ue,fe,ie,pe,he,N,j,be,Re,St,V],encapsulation:2});var Kt=Qt;var Ea=()=>[5,10,20,100];function Da(o,s){if(o&1){let e=v();a(0,"div",17)(1,"a",40),S("click",function(){u(e);let t=d();return f(t.onActionButtonNewRow())}),g(2,"i",41)(3,"br"),l(),a(4,"p",20),p(5),y(6,"translate"),l()()}o&2&&(r(5),h(" ",I(6,1,"ACTION.ADD")," "))}function Aa(o,s){if(o&1){let e=v();a(0,"div",17)(1,"a",42),S("click",function(){u(e);let t=d();return f(t.onActionButtonEditRow(t.tableRowSelected))}),g(2,"i",43)(3,"br"),l(),a(4,"p",20),p(5),y(6,"translate"),l()()}o&2&&(r(5),h(" ",I(6,1,"ACTION.EDIT")," "))}function Ra(o,s){if(o&1){let e=v();a(0,"div",17)(1,"a",44),S("click",function(){u(e);let t=d();return f(t.onActionButtonDeleteRow(t.tableRowSelected))}),g(2,"i",45)(3,"br"),l(),a(4,"p",20),p(5),y(6,"translate"),l()()}o&2&&(r(5),h(" ",I(6,1,"ACTION.DELETE")," "))}function xa(o,s){if(o&1&&(a(0,"mat-header-cell",46),p(1),l()),o&2){let e=d();r(),h(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function Pa(o,s){if(o&1&&(a(0,"mat-cell"),p(1),l()),o&2){let e=s.$implicit;r(),h(" ",e.id," ")}}function Ga(o,s){if(o&1&&(a(0,"mat-header-cell",46),p(1),l()),o&2){let e=d();r(),h(" ",e.fieldsInfo.iconFont==null?null:e.fieldsInfo.iconFont.fieldTitle," ")}}function ka(o,s){if(o&1&&(a(0,"mat-cell"),g(1,"i",47),l()),o&2){let e=s.$implicit;r(),yt("color",e.iconColor),m("ngClass",e.iconFont)}}function Fa(o,s){if(o&1&&(a(0,"mat-header-cell",46),p(1),l()),o&2){let e=d();r(),h(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," ")}}function Va(o,s){if(o&1&&(a(0,"mat-cell"),p(1),l()),o&2){let e=s.$implicit;r(),h(" ",e.title," ")}}function La(o,s){if(o&1&&(a(0,"mat-header-cell",46),p(1),l()),o&2){let e=d();r(),h(" ",e.fieldsInfo.showInFormOrder==null?null:e.fieldsInfo.showInFormOrder.fieldTitle," ")}}function Ba(o,s){if(o&1&&(a(0,"mat-cell"),p(1),l()),o&2){let e=s.$implicit;r(),h(" ",e.showInFormOrder," ")}}function Oa(o,s){if(o&1&&(a(0,"mat-header-cell",46),p(1),l()),o&2){let e=d();r(),h(" ",e.fieldsInfo.linkPropertyTypeId==null?null:e.fieldsInfo.linkPropertyTypeId.fieldTitle," ")}}function Na(o,s){if(o&1&&(a(0,"mat-cell"),p(1),y(2,"cmstitle"),l()),o&2){let e=s.$implicit,i=d();r(),h(" ",ti(2,1,e.linkPropertyTypeId,i.dataModelMemberPropertyTypeResult.listItems)," ")}}function Ha(o,s){o&1&&(a(0,"mat-header-cell"),p(1),y(2,"translate"),l()),o&2&&(r(),h(" ",I(2,1,"TITLE.OPTION")," "))}function Wa(o,s){if(o&1&&(a(0,"mat-cell",48)(1,"button",49)(2,"mat-icon"),p(3,"more_vert"),l()(),g(4,"mat-menu",null,2),l()),o&2){let e=R(5);r(),m("matMenuTriggerFor",e)}}function ja(o,s){o&1&&(a(0,"mat-header-cell",46),p(1,". "),l())}function qa(o,s){o&1&&(a(0,"mat-cell")(1,"mat-icon",50),p(2,"reorder"),l()())}function Ua(o,s){o&1&&g(0,"mat-header-row")}function Qa(o,s){if(o&1){let e=v();a(0,"mat-row",51),S("click",function(t){let n=u(e).$implicit,b=d();return f(b.onActionTableRowSelect(n,t))})("rtclick",function(t){let n=u(e).$implicit,b=d();return f(b.onActionTableRowSelect(n,t))}),l()}if(o&2){let e=s.$implicit,i=d();q("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var zt=class zt extends ft{constructor(e,i,t,n,b,c,O,z,Et,ri,Dt,lr){super(e,new ce,Dt,b,z);this.contentService=e;this.memberPropertyTypeService=i;this.cmsConfirmationDialogService=t;this.cmsToastrService=n;this.tokenHelper=b;this.router=c;this.cdr=O;this.translate=z;this.cmsStoreService=Et;this.pageInfo=ri;this.publicHelper=Dt;this.dialog=lr;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new se;this.filterDataModelQueryBuilder=[];this.dataModelMemberPropertyTypeResult=new W;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["IconFont","ShowInFormOrder","LinkPropertyTypeId"];this.tabledisplayedColumnsMobileSource=["IconFont","ShowInFormOrder","LinkPropertyTypeId"];this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:Ui=>this.onSubmitOptionsSearch(Ui)},this.filteModelContent.sortColumn="id",this.filteModelContent.sortType=te.Descending}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>Ee(this,null,function*(){this.tokenInfo=e,this.DataGetAll()}))),this.getPropertyType()}getPropertyType(){let e=new se;e.rowPerPage=100,this.memberPropertyTypeService.ServiceGetAll(e).subscribe({next:i=>{this.dataModelMemberPropertyTypeResult=i}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new ce);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),t.isSuccess?(this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=te.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=te.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=te.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(Ut,{height:"90%",panelClass:e,enterAnimationDuration:J.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:J.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Kt,{height:"90%",panelClass:i,enterAnimationDuration:J.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:J.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(n=>{n&&n.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(n=>{this.cmsToastrService.typeErrorSelected(n)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(n=>{i=n["MESSAGE.Please_Confirm"],t=n["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(n=>{if(n){let b=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(b,c,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(b)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(b,!1)}})}}).catch(()=>{})}onActionButtonContentList(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.onActionTableRowSelect(e),this.router.navigate(["/hypershop/content/PareintId/",this.tableRowSelected.id])}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{i.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{i.set(c,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(O=>{i.set(O,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}});let n=JSON.parse(JSON.stringify(this.filteModelContent)),b=new _e;b.propertyName="recordStatus",b.value=Ue.Available,n.filters.push(b),this.contentService.ServiceGetCount(n).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(O=>{i.set(O,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}};zt.\u0275fac=function(i){return new(i||zt)(_(Ce),_(Pt),_(dt),_(L),_(Oe),_(qe),_(G),_(F),_(Be),_(mt),_(B),_(Le))},zt.\u0275cmp=P({type:zt,selectors:[["app-member-propertydetailgroup-list"]],standalone:!1,features:[H],decls:63,vars:33,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-cubes","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","IconFont"],["matColumnDef","title"],["matColumnDef","ShowInFormOrder"],["matColumnDef","LinkPropertyTypeId"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],["matColumnDef","position"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],["aria-hidden","true",3,"ngClass"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],["cdkDragHandle","",2,"pointer-events","all"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(i,t){if(i&1){let n=v();a(0,"app-cms-html-list",3),D("optionActionGuideNoticeDisplayChange",function(c){return u(n),E(t.viewGuideNotice,c)||(t.viewGuideNotice=c),f(c)}),S("optionOnActionButtonMemoRow",function(){return u(n),f(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return u(n),f(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return u(n),f(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return u(n),f(t.onActionButtonPrintRow())}),C(1,4),p(2," -------------------------------------- "),w(),Ge(3,5)(4,6),C(5,7),a(6,"a",8),S("click",function(){return u(n),f(t.viewGuideNotice=!t.viewGuideNotice)}),g(7,"i",9),l(),a(8,"a",8),S("click",function(){return u(n),f(t.onActionButtonReload())}),g(9,"i",10),l(),w(),C(10,11),a(11,"a",12),S("click",function(){return u(n),f(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),g(12,"mat-slide-toggle",13),p(13),y(14,"translate"),l(),a(15,"a",12),S("click",function(){return u(n),f(t.onActionButtonStatist())}),g(16,"mat-slide-toggle",13),p(17),y(18,"translate"),l(),w(),C(19,14),M(20,Da,7,3,"div",15),w(),C(21,16),M(22,Aa,7,3,"div",15)(23,Ra,7,3,"div",15),a(24,"div",17)(25,"a",18),S("click",function(){return u(n),f(t.onActionButtonContentList(t.tableRowSelected))}),g(26,"i",19)(27,"br"),l(),a(28,"p",20),p(29),y(30,"translate"),l()(),w(),C(31,21),a(32,"app-cms-search-list",22),D("optionsChange",function(c){return u(n),E(t.optionsSearch,c)||(t.optionsSearch=c),f(c)}),l(),a(33,"app-cms-statist-list",22),D("optionsChange",function(c){return u(n),E(t.optionsStatist,c)||(t.optionsStatist=c),f(c)}),l(),w(),C(34,23),a(35,"mat-table",24,0),S("matSortChange",function(){u(n);let c=R(36);return f(t.onTableSortData(c))}),C(37,25),M(38,xa,2,1,"mat-header-cell",26)(39,Pa,2,1,"mat-cell",27),w(),C(40,28),M(41,Ga,2,1,"mat-header-cell",26)(42,ka,2,3,"mat-cell",27),w(),C(43,29),M(44,Fa,2,1,"mat-header-cell",26)(45,Va,2,1,"mat-cell",27),w(),C(46,30),M(47,La,2,1,"mat-header-cell",26)(48,Ba,2,1,"mat-cell",27),w(),C(49,31),M(50,Oa,2,1,"mat-header-cell",26)(51,Na,3,4,"mat-cell",27),w(),C(52,32),M(53,Ha,3,3,"mat-header-cell",33)(54,Wa,6,1,"mat-cell",34),w(),C(55,35),M(56,ja,2,0,"mat-header-cell",26)(57,qa,3,0,"mat-cell",27),w(),M(58,Ua,1,0,"mat-header-row",36)(59,Qa,1,2,"mat-row",37),l(),w(),C(60,38),a(61,"mat-paginator",39,1),S("page",function(c){return u(n),f(t.onTablePageingData(c))}),l(),w(),l()}i&2&&(m("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),T("optionActionGuideNoticeDisplay",t.viewGuideNotice),m("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",(t.tableRowSelected==null||t.tableRowSelected.title==null?null:t.tableRowSelected.title.length)>0?t.tableRowSelected==null?null:t.tableRowSelected.title:t.tableRowSelected==null?null:t.tableRowSelected.id),r(9),q("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),r(3),m("checked",t.optionsSearch.data.show),r(),h("",I(14,26,"ACTION.SEARCH")," "),r(3),m("checked",t.optionsStatist.data.show),r(),h("",I(18,28,"ACTION.STATIST")," "),r(3),m("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessAddRow),r(2),m("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),r(),m("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),r(6),h(" ",I(30,30,"ACTION.PRODUCTS")," "),r(3),T("options",t.optionsSearch),r(),T("options",t.optionsStatist),r(2),m("dataSource",t.tableSource),r(23),m("matHeaderRowDef",t.tabledisplayedColumns),r(),m("matRowDefColumns",t.tabledisplayedColumns),r(2),m("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",$(32,Ea)))},dependencies:[ee,k,Ve,we,ze,Je,Ye,Xe,Ze,$e,et,it,at,ot,tt,lt,rt,nt,st,ct,ht,bt,gt,_t,V,Ti],encapsulation:2});var Ni=zt;var rr=["*","*"];function Ka(o,s){if(o&1&&(a(0,"label",14),p(1),l()),o&2){let e=d(2);m("for",zi("app-cms-site-selector-",e.id)),r(),A(e.optionLabel)}}function za(o,s){if(o&1&&(a(0,"mat-option",15)(1,"span"),p(2),l()()),o&2){let e=s.$implicit,i=d(2);m("value",e)("disabled",i.optionDisabled),r(2),A(i.displayOption(e))}}function Ja(o,s){o&1&&g(0,"i",16)}function Ya(o,s){o&1&&g(0,"i",17)}function Xa(o,s){if(o&1){let e=v();a(0,"i",18),S("click",function(){u(e);let t=d(2);return f(t.onActionSelectClear())}),l()}}function Za(o,s){o&1&&(a(0,"em"),p(1),y(2,"translate"),l()),o&2&&(r(),h("(",I(2,1,"TITLE.Necessary"),")"))}function $a(o,s){if(o&1){let e=v();a(0,"div",3),g(1,"app-progress-spinner",4),M(2,Ka,2,3,"label",5),g(3,"input",6),a(4,"mat-autocomplete",7,0),S("optionSelected",function(t){u(e);let n=d();return f(n.onActionSelect(t.option.value))}),M(6,za,3,3,"mat-option",8),y(7,"async"),l(),M(8,Ja,1,0,"i",9)(9,Ya,1,0,"i",10)(10,Xa,1,0,"i",11),a(11,"i",12),y(12,"translate"),S("click",function(){u(e);let t=d();return f(t.onActionButtonReload())}),l(),M(13,Za,3,3,"em",13),Ki(14),l()}if(o&2){let e=R(5),i=d();r(),m("optionsInfoAreaId",i.constructorInfoAreaId),r(),m("ngIf",(i.optionLabel==null?null:i.optionLabel.length)>0),r(),m("placeholder",x(i.optionPlaceholder))("id",zi("app-cms-site-selector-",i.id))("formControl",i.formControl)("matAutocomplete",e)("required",i.optionRequired),ei("disabled",i.optionDisabled?!0:null),r(),m("displayWith",i.displayFn),r(2),m("ngForOf",I(7,20,i.filteredOptions)),r(2),m("ngIf",!i.formControl.valid),r(),m("ngIf",i.optionRequired&&i.formControl.valid),r(),m("ngIf",(i.dataModelSelect==null?null:i.dataModelSelect.id)>0),r(),q("rotation360",i.publicHelper.processService.process.inRunArea[i.constructorInfoAreaId]),m("title",x(I(12,22,"ACTION.RELOAD"))),r(2),m("ngIf",i.optionRequired&&(!i.dataModelSelect||!i.dataModelSelect.id||i.dataModelSelect.id==0))}}function el(o,s){if(o&1){let e=v();a(0,"div",21)(1,"a",22),S("click",function(){let t=u(e).$implicit,n=d(2);return f(n.onActionSelect(t))}),p(2),l()()}if(o&2){let e=s.$implicit,i=d(2);r(),m("ngClass",e.id===(i.dataModelSelect==null?null:i.dataModelSelect.id)?"btn font-13 font-600 btn-s m-1 rounded-xl shadow-xl border-0 gradient-highlight btn-full":"btn font-13 font-600 btn-s m-1 rounded-xl shadow-xl border-blue-dark color-blue-dark bg-theme btn-border btn-full"),ei("disabled",i.optionDisabled?!0:null),r(),A(i.displayOption(e))}}function tl(o,s){if(o&1&&(a(0,"div",19),M(1,el,3,3,"div",20),y(2,"async"),Ki(3,1),l()),o&2){let e=d();r(),m("ngForOf",I(2,1,e.filteredOptions))}}var Mt=class Mt{constructor(s,e,i,t,n,b){this.coreEnumService=s;this.cmsToastrService=e;this.translate=i;this.cdr=t;this.publicHelper=n;this.categoryService=b;this.id=++Mt.nextId;this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new W;this.dataModelSelect=new ce;this.formControl=new ko;this.optionTypeView=1;this.optionDisabled=!1;this.optionRequired=!1;this.optionSelectFirstItem=!1;this.optionPlaceholder="";this.optionLabel="";this.optionChange=new ai;this.optionReload=()=>this.onActionButtonReload();this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(s){this.onActionSelectForce(s)}ngOnInit(){this.loadOptions(),(!this.optionLabel||this.optionLabel.length==0&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder)}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(uo(""),mo(1500),po(),fo(s=>typeof s=="string"||typeof s=="number"?this.DataGetAll(s||""):[]))}displayFn(s){return s?s.title:void 0}displayOption(s){return s?s.title:void 0}DataGetAll(s){return Ee(this,null,function*(){let e=new se;if(e.rowPerPage=20,e.accessLoad=!0,typeof s=="string"&&s.length>0){let t=new _e;t.propertyName="Name",t.value=s,t.searchType=Yi.Contains,e.filters.push(t),t=new _e,t.propertyName="id",t.value=s,t.searchType=Yi.Equal,t.clauseType=So.Or,e.filters.push(t)}let i=this.constructor.name+"main";return this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructorInfoAreaId)}),yield so(this.categoryService.ServiceGetAll(e)).then(t=>(this.dataModelResult=t,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||this.dataModelSelect.id===0)&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0])},1e3),this.onActionSelect(this.dataModelResult.listItems[0])),this.publicHelper.processService.processStop(i),t.listItems))})}onActionSelect(s){this.optionDisabled||(this.dataModelSelect=s,this.optionChange.emit(this.dataModelSelect))}onActionSelectClear(){this.optionDisabled||(this.formControl.setValue(null),this.optionChange.emit(null))}push(s){return this.filteredOptions.pipe(co(e=>(e.find(i=>i.id===s.id)||e.push(s),e)))}onActionSelectForce(s){if(typeof s=="number"&&s>0){if(this.dataModelSelect&&this.dataModelSelect.id===s)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(e=>e.id===s)){let e=this.dataModelResult.listItems.find(i=>i.id===s);this.dataModelSelect=e,this.formControl.setValue(e);return}this.categoryService.ServiceGetOneById(s).subscribe({next:e=>{e.isSuccess?(this.filteredOptions=this.push(e.item),this.dataModelSelect=e.item,this.formControl.setValue(e.item),this.optionChange.emit(e.item)):this.cmsToastrService.typeErrorMessage(e.errorMessage)}});return}if(typeof s==typeof ce){this.filteredOptions=this.push(s),this.dataModelSelect=s,this.formControl.setValue(s);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new ce,this.loadOptions()}};Mt.nextId=0,Mt.\u0275fac=function(e){return new(e||Mt)(_(U),_(L),_(F),_(G),_(B),_(Ce))},Mt.\u0275cmp=P({type:Mt,selectors:[["app-member-propertydetailgroup-selector"]],inputs:{optionTypeView:"optionTypeView",optionDisabled:"optionDisabled",optionRequired:"optionRequired",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionLabel:"optionLabel",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange"},standalone:!1,ngContentSelectors:rr,decls:2,vars:2,consts:[["matauto","matAutocomplete"],["class","input-style has-borders has-icon input-style-always-active validate-field mb-4 loader-container",4,"ngIf"],["class","row mb-0",4,"ngIf"],[1,"input-style","has-borders","has-icon","input-style-always-active","validate-field","mb-4","loader-container"],[3,"optionsInfoAreaId"],["class","color-highlight",3,"for",4,"ngIf"],["type","text","aria-label","Assignee","matInput","",3,"placeholder","formControl","matAutocomplete","required","id"],[3,"optionSelected","displayWith"],[3,"value","disabled",4,"ngFor","ngForOf"],["class","fa fa-info invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],["class","fa fa-times action color-red-dark",3,"click",4,"ngIf"],[1,"fa","fa-rotate-right","action","color-green-dark",2,"margin-left","20px",3,"click","title"],[4,"ngIf"],[1,"color-highlight",3,"for"],[3,"value","disabled"],[1,"fa","fa-info","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"fa","fa-times","action","color-red-dark",3,"click"],[1,"row","mb-0"],["class","col-xl-2 col-lg-3 col-md-4 col-sm-12 pe-1",4,"ngFor","ngForOf"],[1,"col-xl-2","col-lg-3","col-md-4","col-sm-12","pe-1"],[3,"click","ngClass"]],template:function(e,i){e&1&&(ho(rr),M(0,$a,15,24,"div",1)(1,tl,4,3,"div",2)),e&2&&(m("ngIf",i.optionTypeView===1),r(),m("ngIf",i.optionTypeView===2))},dependencies:[ee,Rt,k,Q,K,oe,Fo,Oo,Bo,No,N,j,xt,V],encapsulation:2});var Jt=Mt;var rl=["vform"],nl=()=>["fa"];function al(o,s){o&1&&g(0,"i",32)}function ll(o,s){o&1&&g(0,"i",33)}function sl(o,s){if(o&1&&(a(0,"mat-error"),p(1),a(2,"strong"),p(3),y(4,"translate"),l()()),o&2){let e=d();r(),h(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," is "),r(2),A(I(4,2,"MESSAGE.required"))}}function cl(o,s){if(o&1){let e=v();a(0,"div",14)(1,"label",34),p(2),l(),a(3,"input",35,6),D("ngModelChange",function(t){u(e);let n=d();return E(n.dataModel.iconFont,t)||(n.dataModel.iconFont=t),f(t)}),S("iconPickerSelect",function(t){u(e);let n=d();return f(n.onIconPickerSelect(t))}),l(),a(5,"span",36),g(6,"i",37),l()()}if(o&2){let e=d();r(2),A(e.fieldsInfo.iconFont==null?null:e.fieldsInfo.iconFont.fieldTitle),r(),m("placeholder",x(e.fieldsInfo.iconFont==null?null:e.fieldsInfo.iconFont.fieldTitle)),T("ngModel",e.dataModel.iconFont),m("iconPicker",e.dataModel.iconFont)("ipIconPack",$(10,nl))("ipPosition","top")("disabled",!(e.fieldsInfo.iconFont!=null&&e.fieldsInfo.iconFont.accessAddField))("disabled",!(e.fieldsInfo.iconFont!=null&&e.fieldsInfo.iconFont.accessAddField)),r(3),m("ngClass",e.dataModel.iconFont)}}function ml(o,s){if(o&1){let e=v();a(0,"div",14)(1,"label",38),p(2),l(),a(3,"input",39,7),D("ngModelChange",function(t){u(e);let n=d();return E(n.dataModel.showInFormOrder,t)||(n.dataModel.showInFormOrder=t),f(t)}),l()()}if(o&2){let e=d();r(2),A(e.fieldsInfo.showInFormOrder==null?null:e.fieldsInfo.showInFormOrder.fieldTitle),r(),m("placeholder",x(e.fieldsInfo.showInFormOrder==null?null:e.fieldsInfo.showInFormOrder.fieldTitle)),T("ngModel",e.dataModel.showInFormOrder),m("disabled",!(e.fieldsInfo.showInFormOrder!=null&&e.fieldsInfo.showInFormOrder.accessAddField))}}function pl(o,s){if(o&1&&(a(0,"option",40),p(1),l()),o&2){let e=s.$implicit;m("value",e.value),r(),h(" ",e.description," ")}}function dl(o,s){if(o&1){let e=v();a(0,"div",41)(1,"div",42)(2,"h5",43),p(3),l()(),a(4,"div",44)(5,"div",45)(6,"input",46),D("ngModelChange",function(t){u(e);let n=d();return E(n.dataModel.invisibleForEndUser,t)||(n.dataModel.invisibleForEndUser=t),f(t)}),l(),g(7,"label",47),l()()()}if(o&2){let e=d();r(3),h(" ",e.fieldsInfo.invisibleForEndUser==null?null:e.fieldsInfo.invisibleForEndUser.fieldTitle," "),r(3),T("ngModel",e.dataModel.invisibleForEndUser)}}function ul(o,s){if(o&1){let e=v();a(0,"div",41)(1,"div",42)(2,"h5",48),p(3),l()(),a(4,"div",44)(5,"div",45)(6,"input",49),D("ngModelChange",function(t){u(e);let n=d();return E(n.dataModel.invisibleForSubmiter,t)||(n.dataModel.invisibleForSubmiter=t),f(t)}),l(),g(7,"label",50),l()()()}if(o&2){let e=d();r(3),h(" ",e.fieldsInfo.invisibleForSubmiter==null?null:e.fieldsInfo.invisibleForSubmiter.fieldTitle," "),r(3),T("ngModel",e.dataModel.invisibleForSubmiter)}}function fl(o,s){if(o&1){let e=v();a(0,"div",41)(1,"div",42)(2,"h5",51),p(3),l()(),a(4,"div",44)(5,"div",45)(6,"input",52),D("ngModelChange",function(t){u(e);let n=d();return E(n.dataModel.required,t)||(n.dataModel.required=t),f(t)}),l(),g(7,"label",53),l()()()}if(o&2){let e=d();r(3),h(" ",e.fieldsInfo.required==null?null:e.fieldsInfo.required.fieldTitle," "),r(3),T("ngModel",e.dataModel.required)}}function hl(o,s){if(o&1){let e=v();a(0,"div",41)(1,"div",42)(2,"h5",54),p(3),l()(),a(4,"div",44)(5,"div",45)(6,"input",55),D("ngModelChange",function(t){u(e);let n=d();return E(n.dataModel.isHistoryable,t)||(n.dataModel.isHistoryable=t),f(t)}),l(),g(7,"label",56),l()()()}if(o&2){let e=d();r(3),h(" ",e.fieldsInfo.isHistoryable==null?null:e.fieldsInfo.isHistoryable.fieldTitle," "),r(3),T("ngModel",e.dataModel.isHistoryable)}}function bl(o,s){if(o&1){let e=v();a(0,"div",41)(1,"div",42)(2,"h5",57),p(3),l()(),a(4,"div",44)(5,"div",45)(6,"input",58),D("ngModelChange",function(t){u(e);let n=d();return E(n.dataModel.isSearchable,t)||(n.dataModel.isSearchable=t),f(t)}),l(),g(7,"label",59),l()()()}if(o&2){let e=d();r(3),h(" ",e.fieldsInfo.isSearchable==null?null:e.fieldsInfo.isSearchable.fieldTitle," "),r(3),T("ngModel",e.dataModel.isSearchable)}}function gl(o,s){if(o&1){let e=v();a(0,"mat-chip",60),S("removed",function(){let t=u(e).$implicit,n=d();return f(n.removeTag(t))}),p(1),a(2,"button",61)(3,"mat-icon"),p(4,"cancel"),l()()()}if(o&2){let e=s.$implicit;r(),h(" ",e," ")}}function _l(o,s){if(o&1){let e=v();a(0,"div",62)(1,"button",63),S("click",function(){u(e);let t=d();return f(t.onFormCancel())}),g(2,"i",64),p(3),y(4,"translate"),l(),a(5,"button",65),g(6,"i",66),p(7),y(8,"translate"),l()()}if(o&2){d();let e=R(10);r(3),h(" ",I(4,3,"ACTION.CANCEL")," "),r(2),m("disabled",!e.form.valid),r(2),h(" ",I(8,5,"ACTION.SAVE")," ")}}var Yt=class Yt extends pt{constructor(e,i,t,n,b,c,O,z){super(n,new je,c,z);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.memberPropertyDetailService=n;this.cmsToastrService=b;this.publicHelper=c;this.cdr=O;this.translate=z;this.requestLinkPropertyTypeId=0;this.requestLinkPropertyDetailGroupId=0;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new W;this.dataModel=new je;this.formInfo=new ae;this.fileManagerOpenForm=!1;this.dataModelEnumInputDataTypeResult=new W;this.keywordDataModel=[];this.addOnBlurTag=!0;this.separatorKeysCodes=[13];this.publicHelper.processService.cdr=this.cdr,e&&(this.requestLinkPropertyTypeId=+e.linkPropertyTypeId,this.requestLinkPropertyDetailGroupId=+e.linkPropertyDetailGroupId),this.requestLinkPropertyTypeId&&this.requestLinkPropertyTypeId>0&&(this.dataModel.linkPropertyTypeId=this.requestLinkPropertyTypeId),this.requestLinkPropertyDetailGroupId&&this.requestLinkPropertyDetailGroupId>0&&(this.dataModel.linkPropertyDetailGroupId=this.requestLinkPropertyDetailGroupId),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess()}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.memberPropertyDetailService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e),this.formInfo.submitButtonEnabled=!0},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorSelect(e){if(!e||!e.id||e.id<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkPropertyTypeId=e.id}onActionSelectorDetailGroup(e){if(!e||!e.id||e.id<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkPropertyDetailGroupId=e.id}onIconPickerSelect(e){this.dataModel.iconFont=e}onFormSubmit(){if(this.formGroup.valid){if(this.formInfo.submitButtonEnabled=!1,this.keywordDataModel&&this.keywordDataModel.length>0){let e=[];this.keywordDataModel.forEach(i=>{i.display?e.push(i.display):e.push(i)})}this.DataAddContent()}}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}addTag(e){let i=(e.value||"").trim();i&&this.keywordDataModel.push(i),e.chipInput.clear()}removeTag(e){let i=this.keywordDataModel.indexOf(e);i>=0&&this.keywordDataModel.splice(i,1)}};Yt.\u0275fac=function(i){return new(i||Yt)(_(ne),_(re),_(U),_(Ke),_(L),_(B),_(G),_(F))},Yt.\u0275cmp=P({type:Yt,selectors:[["app-member-propertydetail-add"]],viewQuery:function(i,t){if(i&1&&Y(rl,5),i&2){let n;X(n=Z())&&(t.formGroup=n.first)}},standalone:!1,features:[H],decls:52,vars:43,consts:[["vform","ngForm"],["Title",""],["InputDataType","ngModel"],["Unit",""],["chipList",""],["tagInput",""],["IconFont",""],["ShowInFormOrder",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","fa fa-times invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],[4,"ngIf"],[3,"optionChange","optionSelectForce","optionPlaceholder"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["id","dataModel.inputDataType","name","dataModel.inputDataType",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],["for","dataModel.unit",1,"color-highlight"],["matInput","","type","text","name","dataModel.unit","minlength","1","maxlength","64","id","dataModel.unit",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","d-flex mb-3",4,"ngIf"],["appearance","fill",2,"width","100%"],["aria-label","'TITLE.key_word'|translate"],[3,"removed",4,"ngFor","ngForOf"],[3,"matChipInputTokenEnd","placeholder","matChipInputAddOnBlur","matChipInputFor","matChipInputSeparatorKeyCodes"],["class","form-actions",4,"ngIf"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.iconFont",1,"color-highlight"],["matInput","","type","text","name","dataModel.iconFont","type","text","id","dataModel.iconFont",1,"form-control","validate-name",3,"ngModelChange","iconPickerSelect","ngModel","iconPicker","ipIconPack","ipPosition","placeholder","disabled"],[1,"input-group-addon"],[3,"ngClass"],["for","dataModel.showInFormOrder",1,"color-highlight"],["matInput","","type","number","name","dataModel.showInFormOrder","id","dataModel.showInFormOrder",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled","placeholder"],[3,"value"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.invisibleForEndUser",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.invisibleForEndUser","name","dataModel.invisibleForEndUser",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.invisibleForEndUser",1,"custom-control-label"],["data-trigger-switch","dataModel.invisibleForSubmiter",1,"font-600","font-14"],["type","checkbox","id","dataModel.invisibleForSubmiter","name","dataModel.invisibleForSubmiter",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.invisibleForSubmiter",1,"custom-control-label"],["data-trigger-switch","dataModel.required",1,"font-600","font-14"],["type","checkbox","id","dataModel.required","name","dataModel.required",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.required",1,"custom-control-label"],["data-trigger-switch","dataModel.isHistoryable",1,"font-600","font-14"],["type","checkbox","id","dataModel.isHistoryable","name","dataModel.isHistoryable",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.isHistoryable",1,"custom-control-label"],["data-trigger-switch","dataModel.isSearchable",1,"font-600","font-14"],["type","checkbox","id","dataModel.isSearchable","name","dataModel.isSearchable",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.isSearchable",1,"custom-control-label"],[3,"removed"],["type","button","matChipRemove","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let n=v();a(0,"div",8),g(1,"app-progress-spinner",9),a(2,"div",10)(3,"p",11),p(4),l(),a(5,"p"),p(6),y(7,"translate"),l(),g(8,"app-cms-form-result-message",12),a(9,"form",13,0),S("ngSubmit",function(){return u(n),f(t.onFormSubmit())}),a(11,"div",14)(12,"label",15),p(13),l(),a(14,"input",16,1),D("ngModelChange",function(c){return u(n),E(t.dataModel.title,c)||(t.dataModel.title=c),f(c)}),l(),M(16,al,1,0,"i",17)(17,ll,1,0,"i",18),a(18,"em"),p(19),l(),M(20,sl,5,4,"mat-error",19),l(),a(21,"app-member-propertydetailgroup-selector",20),y(22,"translate"),S("optionChange",function(c){return u(n),f(t.onActionSelectorDetailGroup(c))}),l(),M(23,cl,7,11,"div",21)(24,ml,5,5,"div",21),a(25,"div",14)(26,"select",22,2),D("ngModelChange",function(c){return u(n),E(t.dataModel.inputDataType,c)||(t.dataModel.inputDataType=c),f(c)}),M(28,pl,2,2,"option",23),l()(),a(29,"div",14)(30,"label",24),p(31),l(),a(32,"input",25,3),D("ngModelChange",function(c){return u(n),E(t.dataModel.unit,c)||(t.dataModel.unit=c),f(c)}),l(),a(34,"em"),p(35),l()(),M(36,dl,8,2,"div",26)(37,ul,8,2,"div",26)(38,fl,8,2,"div",26)(39,hl,8,2,"div",26)(40,bl,8,2,"div",26),a(41,"mat-form-field",27)(42,"mat-label"),p(43),y(44,"translate"),l(),a(45,"mat-chip-grid",28,4),M(47,gl,5,1,"mat-chip",29),a(48,"input",30,5),y(50,"translate"),S("matChipInputTokenEnd",function(c){return u(n),f(t.addTag(c))}),l()()(),M(51,_l,9,7,"div",31),l()()()}if(i&2){let n=R(15),b=R(33),c=R(46);r(),m("optionsInfoAreaId",t.constructorInfoAreaId),r(3),h(" ",t.formInfo.formTitle," "),r(2),h(" ",I(7,35,"TITLE.Be_Careful_When_Entering_Information")," "),r(2),m("formInfo",t.formInfo),r(5),A(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),r(),m("placeholder",x(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),T("ngModel",t.dataModel.title),r(2),m("ngIf",!n.value),r(),m("ngIf",n.value),r(2),h("",n.value.length," / 100"),r(),m("ngIf",n.errors==null?null:n.errors.required),r(),m("optionSelectForce",t.dataModel.linkPropertyDetailGroupId)("optionPlaceholder",I(22,37,"TITLE.Category")),r(2),m("ngIf",t.fieldsInfo.iconFont==null?null:t.fieldsInfo.iconFont.accessWatchField),r(),m("ngIf",t.fieldsInfo.showInFormOrder==null?null:t.fieldsInfo.showInFormOrder.accessWatchField),r(2),T("ngModel",t.dataModel.inputDataType),r(2),m("ngForOf",t.dataModelEnumInputDataTypeResult.listItems),r(3),A(t.fieldsInfo.unit==null?null:t.fieldsInfo.unit.fieldTitle),r(),m("placeholder",x(t.fieldsInfo.unit==null?null:t.fieldsInfo.unit.fieldTitle)),T("ngModel",t.dataModel.unit),r(3),h("",b.value.length," / 64"),r(),m("ngIf",t.fieldsInfo.invisibleForEndUser==null?null:t.fieldsInfo.invisibleForEndUser.accessWatchField),r(),m("ngIf",t.fieldsInfo.invisibleForSubmiter==null?null:t.fieldsInfo.invisibleForSubmiter.accessWatchField),r(),m("ngIf",t.fieldsInfo.required==null?null:t.fieldsInfo.required.accessWatchField),r(),m("ngIf",t.fieldsInfo.isHistoryable==null?null:t.fieldsInfo.isHistoryable.accessWatchField),r(),m("ngIf",t.fieldsInfo.isSearchable==null?null:t.fieldsInfo.isSearchable.accessWatchField),r(3),A(I(44,39,"TITLE.Choose_keywords_relative_to_the_content")),r(4),m("ngForOf",t.keywordDataModel),r(),m("placeholder",I(50,41,"TITLE.key_word"))("matChipInputAddOnBlur",t.addOnBlurTag)("matChipInputFor",c)("matChipInputSeparatorKeyCodes",t.separatorKeysCodes),r(3),m("ngIf",t.formInfo.submitButtonEnabled)}},dependencies:[ee,Rt,k,de,di,ui,Q,Ae,mi,pi,K,me,oe,ue,fe,ie,pe,gi,_i,Si,bi,hi,fi,he,we,N,j,be,Re,St,Jt,V],encapsulation:2});var Hi=Yt;var Sl=["vform"],Ml=()=>["fa"];function yl(o,s){o&1&&g(0,"i",32)}function Il(o,s){o&1&&g(0,"i",33)}function vl(o,s){if(o&1&&(a(0,"mat-error"),p(1),a(2,"strong"),p(3),y(4,"translate"),l()()),o&2){let e=d();r(),h(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," is "),r(2),A(I(4,2,"MESSAGE.required"))}}function Cl(o,s){if(o&1){let e=v();a(0,"div",14)(1,"label",34),p(2),l(),a(3,"input",35,6),D("ngModelChange",function(t){u(e);let n=d();return E(n.dataModel.iconFont,t)||(n.dataModel.iconFont=t),f(t)}),S("iconPickerSelect",function(t){u(e);let n=d();return f(n.onIconPickerSelect(t))}),l(),a(5,"span",36),g(6,"i",37),l()()}if(o&2){let e=d();r(2),A(e.fieldsInfo.iconFont==null?null:e.fieldsInfo.iconFont.fieldTitle),r(),m("placeholder",x(e.fieldsInfo.iconFont==null?null:e.fieldsInfo.iconFont.fieldTitle)),T("ngModel",e.dataModel.iconFont),m("iconPicker",e.dataModel.iconFont)("ipIconPack",$(10,Ml))("ipPosition","top")("disabled",!(e.fieldsInfo.iconFont!=null&&e.fieldsInfo.iconFont.accessAddField))("disabled",!(e.fieldsInfo.iconFont!=null&&e.fieldsInfo.iconFont.accessAddField)),r(3),m("ngClass",e.dataModel.iconFont)}}function wl(o,s){if(o&1){let e=v();a(0,"div",14)(1,"label",38),p(2),l(),a(3,"input",39,7),D("ngModelChange",function(t){u(e);let n=d();return E(n.dataModel.showInFormOrder,t)||(n.dataModel.showInFormOrder=t),f(t)}),l()()}if(o&2){let e=d();r(2),A(e.fieldsInfo.showInFormOrder==null?null:e.fieldsInfo.showInFormOrder.fieldTitle),r(),m("placeholder",x(e.fieldsInfo.showInFormOrder==null?null:e.fieldsInfo.showInFormOrder.fieldTitle)),T("ngModel",e.dataModel.showInFormOrder),m("disabled",!(e.fieldsInfo.showInFormOrder!=null&&e.fieldsInfo.showInFormOrder.accessEditField))}}function Tl(o,s){if(o&1&&(a(0,"option",40),p(1),l()),o&2){let e=s.$implicit;m("value",e.value),r(),h(" ",e.description," ")}}function El(o,s){if(o&1){let e=v();a(0,"div",41)(1,"div",42)(2,"h5",43),p(3),l()(),a(4,"div",44)(5,"div",45)(6,"input",46),D("ngModelChange",function(t){u(e);let n=d();return E(n.dataModel.invisibleForEndUser,t)||(n.dataModel.invisibleForEndUser=t),f(t)}),l(),g(7,"label",47),l()()()}if(o&2){let e=d();r(3),h(" ",e.fieldsInfo.invisibleForEndUser==null?null:e.fieldsInfo.invisibleForEndUser.fieldTitle," "),r(3),T("ngModel",e.dataModel.invisibleForEndUser)}}function Dl(o,s){if(o&1){let e=v();a(0,"div",41)(1,"div",42)(2,"h5",48),p(3),l()(),a(4,"div",44)(5,"div",45)(6,"input",49),D("ngModelChange",function(t){u(e);let n=d();return E(n.dataModel.invisibleForSubmiter,t)||(n.dataModel.invisibleForSubmiter=t),f(t)}),l(),g(7,"label",50),l()()()}if(o&2){let e=d();r(3),h(" ",e.fieldsInfo.invisibleForSubmiter==null?null:e.fieldsInfo.invisibleForSubmiter.fieldTitle," "),r(3),T("ngModel",e.dataModel.invisibleForSubmiter)}}function Al(o,s){if(o&1){let e=v();a(0,"div",41)(1,"div",42)(2,"h5",51),p(3),l()(),a(4,"div",44)(5,"div",45)(6,"input",52),D("ngModelChange",function(t){u(e);let n=d();return E(n.dataModel.required,t)||(n.dataModel.required=t),f(t)}),l(),g(7,"label",53),l()()()}if(o&2){let e=d();r(3),h(" ",e.fieldsInfo.required==null?null:e.fieldsInfo.required.fieldTitle," "),r(3),T("ngModel",e.dataModel.required)}}function Rl(o,s){if(o&1){let e=v();a(0,"div",41)(1,"div",42)(2,"h5",54),p(3),l()(),a(4,"div",44)(5,"div",45)(6,"input",55),D("ngModelChange",function(t){u(e);let n=d();return E(n.dataModel.isHistoryable,t)||(n.dataModel.isHistoryable=t),f(t)}),l(),g(7,"label",56),l()()()}if(o&2){let e=d();r(3),h(" ",e.fieldsInfo.isHistoryable==null?null:e.fieldsInfo.isHistoryable.fieldTitle," "),r(3),T("ngModel",e.dataModel.isHistoryable)}}function xl(o,s){if(o&1){let e=v();a(0,"div",41)(1,"div",42)(2,"h5",57),p(3),l()(),a(4,"div",44)(5,"div",45)(6,"input",58),D("ngModelChange",function(t){u(e);let n=d();return E(n.dataModel.isSearchable,t)||(n.dataModel.isSearchable=t),f(t)}),l(),g(7,"label",59),l()()()}if(o&2){let e=d();r(3),h(" ",e.fieldsInfo.isSearchable==null?null:e.fieldsInfo.isSearchable.fieldTitle," "),r(3),T("ngModel",e.dataModel.isSearchable)}}function Pl(o,s){if(o&1){let e=v();a(0,"mat-chip",60),S("removed",function(){let t=u(e).$implicit,n=d();return f(n.removeTag(t))}),p(1),a(2,"button",61)(3,"mat-icon"),p(4,"cancel"),l()()()}if(o&2){let e=s.$implicit;r(),h(" ",e," ")}}function Gl(o,s){if(o&1){let e=v();a(0,"div",62)(1,"button",63),S("click",function(){u(e);let t=d();return f(t.onFormCancel())}),g(2,"i",64),p(3),y(4,"translate"),l(),a(5,"button",65),g(6,"i",66),p(7),y(8,"translate"),l()()}if(o&2){d();let e=R(10);r(3),h(" ",I(4,3,"ACTION.CANCEL")," "),r(2),m("disabled",!e.form.valid),r(2),h(" ",I(8,5,"ACTION.SAVE")," ")}}var Xt=class Xt extends ut{constructor(e,i,t,n,b,c,O,z){super(n,new je,c,z);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.memberPropertyDetailService=n;this.cmsToastrService=b;this.publicHelper=c;this.cdr=O;this.translate=z;this.requestId=0;this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new Qe;this.dataModel=new je;this.formInfo=new ae;this.dataModelEnumInputDataTypeResult=new W;this.keywordDataModel=[];this.fileManagerOpenForm=!1;this.addOnBlurTag=!0;this.separatorKeysCodes=[13];this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),!this.requestId||this.requestId===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.memberPropertyDetailService.setAccessLoad(),this.memberPropertyDetailService.setAccessDataType(De.Editor),this.memberPropertyDetailService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.memberPropertyDetailService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e),this.formInfo.submitButtonEnabled=!0},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorSelect(e){if(!e||!e.id||e.id<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkPropertyTypeId=e.id}onActionSelectorDetailGroup(e){if(!e||!e.id||e.id<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkPropertyDetailGroupId=e.id}onIconPickerSelect(e){this.dataModel.iconFont=e}onFormSubmit(){if(this.formGroup.valid){if(this.keywordDataModel&&this.keywordDataModel.length>0){let e=[];this.keywordDataModel.forEach(i=>{i.display?e.push(i.display):e.push(i)})}this.formInfo.submitButtonEnabled=!1,this.DataEditContent()}}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}addTag(e){let i=(e.value||"").trim();i&&this.keywordDataModel.push(i),e.chipInput.clear()}removeTag(e){let i=this.keywordDataModel.indexOf(e);i>=0&&this.keywordDataModel.splice(i,1)}};Xt.\u0275fac=function(i){return new(i||Xt)(_(ne),_(re),_(U),_(Ke),_(L),_(B),_(G),_(F))},Xt.\u0275cmp=P({type:Xt,selectors:[["app-member-propertydetail-edit"]],viewQuery:function(i,t){if(i&1&&Y(Sl,5),i&2){let n;X(n=Z())&&(t.formGroup=n.first)}},standalone:!1,features:[H],decls:52,vars:44,consts:[["vform","ngForm"],["Title",""],["InputDataType","ngModel"],["Unit",""],["chipList",""],["tagInput",""],["IconFont",""],["ShowInFormOrder",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","fa fa-times invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],[4,"ngIf"],[3,"optionChange","optionSelectForce","optionPlaceholder","optionDisabled"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["id","dataModel.inputDataType","name","dataModel.inputDataType",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],["for","dataModel.unit",1,"color-highlight"],["matInput","","type","text","name","dataModel.unit","minlength","1","maxlength","64","id","dataModel.unit",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","d-flex mb-3",4,"ngIf"],["appearance","fill",2,"width","100%"],["aria-label","'TITLE.key_word'|translate"],[3,"removed",4,"ngFor","ngForOf"],[3,"matChipInputTokenEnd","placeholder","matChipInputAddOnBlur","matChipInputFor","matChipInputSeparatorKeyCodes"],["class","form-actions",4,"ngIf"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.iconFont",1,"color-highlight"],["matInput","","type","text","name","dataModel.iconFont","type","text","id","dataModel.iconFont",1,"form-control","validate-name",3,"ngModelChange","iconPickerSelect","ngModel","iconPicker","ipIconPack","ipPosition","placeholder","disabled"],[1,"input-group-addon"],[3,"ngClass"],["for","dataModel.showInFormOrder",1,"color-highlight"],["matInput","","type","number","name","dataModel.showInFormOrder","id","dataModel.showInFormOrder",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled","placeholder"],[3,"value"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.invisibleForEndUser",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.invisibleForEndUser","name","dataModel.invisibleForEndUser",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.invisibleForEndUser",1,"custom-control-label"],["data-trigger-switch","dataModel.invisibleForSubmiter",1,"font-600","font-14"],["type","checkbox","id","dataModel.invisibleForSubmiter","name","dataModel.invisibleForSubmiter",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.invisibleForSubmiter",1,"custom-control-label"],["data-trigger-switch","dataModel.required",1,"font-600","font-14"],["type","checkbox","id","dataModel.required","name","dataModel.required",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.required",1,"custom-control-label"],["data-trigger-switch","dataModel.isHistoryable",1,"font-600","font-14"],["type","checkbox","id","dataModel.isHistoryable","name","dataModel.isHistoryable",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.isHistoryable",1,"custom-control-label"],["data-trigger-switch","dataModel.isSearchable",1,"font-600","font-14"],["type","checkbox","id","dataModel.isSearchable","name","dataModel.isSearchable",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.isSearchable",1,"custom-control-label"],[3,"removed"],["type","button","matChipRemove","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let n=v();a(0,"div",8),g(1,"app-progress-spinner",9),a(2,"div",10)(3,"p",11),p(4),l(),a(5,"p"),p(6),y(7,"translate"),l(),g(8,"app-cms-form-result-message",12),a(9,"form",13,0),S("ngSubmit",function(){return u(n),f(t.onFormSubmit())}),a(11,"div",14)(12,"label",15),p(13),l(),a(14,"input",16,1),D("ngModelChange",function(c){return u(n),E(t.dataModel.title,c)||(t.dataModel.title=c),f(c)}),l(),M(16,yl,1,0,"i",17)(17,Il,1,0,"i",18),a(18,"em"),p(19),l(),M(20,vl,5,4,"mat-error",19),l(),a(21,"app-member-propertydetailgroup-selector",20),y(22,"translate"),S("optionChange",function(c){return u(n),f(t.onActionSelectorDetailGroup(c))}),l(),M(23,Cl,7,11,"div",21)(24,wl,5,5,"div",21),a(25,"div",14)(26,"select",22,2),D("ngModelChange",function(c){return u(n),E(t.dataModel.inputDataType,c)||(t.dataModel.inputDataType=c),f(c)}),M(28,Tl,2,2,"option",23),l()(),a(29,"div",14)(30,"label",24),p(31),l(),a(32,"input",25,3),D("ngModelChange",function(c){return u(n),E(t.dataModel.unit,c)||(t.dataModel.unit=c),f(c)}),l(),a(34,"em"),p(35),l()(),M(36,El,8,2,"div",26)(37,Dl,8,2,"div",26)(38,Al,8,2,"div",26)(39,Rl,8,2,"div",26)(40,xl,8,2,"div",26),a(41,"mat-form-field",27)(42,"mat-label"),p(43),y(44,"translate"),l(),a(45,"mat-chip-grid",28,4),M(47,Pl,5,1,"mat-chip",29),a(48,"input",30,5),y(50,"translate"),S("matChipInputTokenEnd",function(c){return u(n),f(t.addTag(c))}),l()()(),M(51,Gl,9,7,"div",31),l()()()}if(i&2){let n=R(15),b=R(33),c=R(46);r(),m("optionsInfoAreaId",t.constructorInfoAreaId),r(3),h(" ",t.formInfo.formTitle," "),r(2),h(" ",I(7,36,"TITLE.Be_Careful_When_Entering_Information")," "),r(2),m("formInfo",t.formInfo),r(5),A(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),r(),m("placeholder",x(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),T("ngModel",t.dataModel.title),r(2),m("ngIf",!n.value),r(),m("ngIf",n.value),r(2),h("",n.value.length," / 100"),r(),m("ngIf",n.errors==null?null:n.errors.required),r(),m("optionSelectForce",t.dataModel.linkPropertyDetailGroupId)("optionPlaceholder",I(22,38,"TITLE.Category"))("optionDisabled",!(t.fieldsInfo.linkPropertyDetailGroupId!=null&&t.fieldsInfo.linkPropertyDetailGroupId.accessEditField)),r(2),m("ngIf",t.fieldsInfo.iconFont==null?null:t.fieldsInfo.iconFont.accessWatchField),r(),m("ngIf",t.fieldsInfo.showInFormOrder==null?null:t.fieldsInfo.showInFormOrder.accessWatchField),r(2),T("ngModel",t.dataModel.inputDataType),r(2),m("ngForOf",t.dataModelEnumInputDataTypeResult.listItems),r(3),A(t.fieldsInfo.unit==null?null:t.fieldsInfo.unit.fieldTitle),r(),m("placeholder",x(t.fieldsInfo.unit==null?null:t.fieldsInfo.unit.fieldTitle)),T("ngModel",t.dataModel.unit),r(3),h("",b.value.length," / 64"),r(),m("ngIf",t.fieldsInfo.invisibleForEndUser==null?null:t.fieldsInfo.invisibleForEndUser.accessWatchField),r(),m("ngIf",t.fieldsInfo.invisibleForSubmiter==null?null:t.fieldsInfo.invisibleForSubmiter.accessWatchField),r(),m("ngIf",t.fieldsInfo.required==null?null:t.fieldsInfo.required.accessWatchField),r(),m("ngIf",t.fieldsInfo.isHistoryable==null?null:t.fieldsInfo.isHistoryable.accessWatchField),r(),m("ngIf",t.fieldsInfo.isSearchable==null?null:t.fieldsInfo.isSearchable.accessWatchField),r(3),A(I(44,40,"TITLE.Choose_keywords_relative_to_the_content")),r(4),m("ngForOf",t.keywordDataModel),r(),m("placeholder",I(50,42,"TITLE.key_word"))("matChipInputAddOnBlur",t.addOnBlurTag)("matChipInputFor",c)("matChipInputSeparatorKeyCodes",t.separatorKeysCodes),r(3),m("ngIf",t.formInfo.submitButtonEnabled)}},dependencies:[ee,Rt,k,de,di,ui,Q,Ae,mi,pi,K,me,oe,ue,fe,ie,pe,gi,_i,Si,bi,hi,fi,he,we,N,j,be,Re,St,Jt,V],encapsulation:2});var Wi=Xt;function kl(o,s){if(o&1){let e=v();a(0,"button",14),S("click",function(){u(e);let t=d();return f(t.onActionAdd())}),p(1),y(2,"translate"),l()}o&2&&(r(),h(" ",I(2,1,"ACTION.ADD")," "))}function Fl(o,s){if(o&1){let e=v();a(0,"button",15),S("click",function(){u(e);let t=d();return f(t.onActionEdit())}),p(1),y(2,"translate"),l()}o&2&&(r(),h(" ",I(2,1,"ACTION.EDIT")," "))}function Vl(o,s){if(o&1){let e=v();a(0,"button",16),S("click",function(){u(e);let t=d();return f(t.onActionDelete())}),p(1),y(2,"translate"),l()}o&2&&(r(),h(" ",I(2,1,"ACTION.DELETE")," "))}function Ll(o,s){if(o&1){let e=v();a(0,"button",17),S("click",function(){u(e);let t=d();return f(t.onActionButtonReload())}),a(1,"mat-icon",18),y(2,"translate"),p(3,"refresh"),l()()}if(o&2){let e=d();r(),q("rotation360",e.publicHelper.processService.process.inRunArea[e.constructorInfoAreaId]),m("title",x(I(2,4,"ACTION.RELOAD")))}}function Bl(o,s){if(o&1){let e=v();a(0,"mat-tree-node",19),g(1,"button",20),a(2,"span",21),S("click",function(){let t=u(e).$implicit,n=d();return f(n.onActionSelect(t))}),g(3,"i",22),p(4),l()()}if(o&2){let e=s.$implicit,i=d();q("ntk-tree-selected",i.dataModelSelect.id>0&&i.dataModelSelect.id===e.id),r(3),yt("color",e.IconColor),m("ngClass",e.IconFont),r(),h(" ",e.title)}}function Ol(o,s){if(o&1){let e=v();a(0,"mat-tree-node",23)(1,"button",24)(2,"mat-icon",25),p(3),l()(),a(4,"span",21),S("click",function(){let t=u(e).$implicit,n=d();return f(n.onActionSelect(t))}),g(5,"i",22),p(6),l()()}if(o&2){let e=s.$implicit,i=d(),t=R(12);q("ntk-tree-selected",i.dataModelSelect.id>0&&i.dataModelSelect.id===e.id),m("cdkTreeNodeTypeaheadLabel",e.title)("isExpanded",e.isExpanded??!1),r(),ei("type","button")("aria-label","Toggle "+e.title),r(2),h(" ",t.isExpanded(e)?"expand_more":"chevron_right"," "),r(2),yt("color",e.IconColor),m("ngClass",e.IconFont),r(),h(" ",e.title)}}var Zt=class Zt{constructor(s,e,i,t,n,b,c,O,z,Et){this.cmsToastrService=s;this.coreEnumService=e;this.categoryService=i;this.cmsConfirmationDialogService=t;this.dialog=n;this.cdr=b;this.publicHelper=c;this.translate=O;this.tokenHelper=z;this.cmsStoreService=Et;this.requestLinkPropertyTypeId=0;this.constructorInfoAreaId=this.constructor.name;this.dataModelSelect=new ce;this.dataModelResult=new W;this.filterModel=new se;this.dataSource=new Jo;this.optionChange=new ai;this.unsubscribe=[];this.optionReload=()=>this.onActionButtonReload();this.hasChild=(s,e)=>!1;this.childrenAccessor=s=>[];this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(s){this.onActionSelectForce(s)}set optionLinkPropertyTypeId(s){if(this.requestLinkPropertyTypeId=s,this.filterModel=new se,s&&s>0){let e=new _e;e.propertyName="LinkPropertyTypeId",e.value=s,this.filterModel.filters.push(e)}}ngOnInit(){this.unsubscribe.push(this.cmsStoreService.getState(s=>s.tokenInfoStore).subscribe(s=>Ee(this,null,function*(){this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(s=>s.unsubscribe())}DataGetAll(){this.filterModel.rowPerPage=200,this.filterModel.accessLoad=!0;let s=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(s,e,this.constructorInfoAreaId)}),this.categoryService.ServiceGetAll(this.filterModel).subscribe({next:e=>{e.isSuccess?(this.dataModelResult=e,this.dataSource.data=this.dataModelResult.listItems):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(s)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(s,!1)}})}onActionSelect(s){this.dataModelSelect=s,this.optionChange.emit(this.dataModelSelect)}onActionButtonReload(){this.onActionSelect(null),this.dataModelSelect=new ce,this.DataGetAll()}onActionSelectForce(s){}onActionAdd(){var s="";this.publicHelper.isMobile?s="dialog-fullscreen":s="dialog-min",this.dialog.open(Ut,{height:"90%",panelClass:s,enterAnimationDuration:J.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:J.cmsViewConfig.exitAnimationDuration,data:{linkPropertyTypeId:this.requestLinkPropertyTypeId}}).afterClosed().subscribe(i=>{i&&i.dialogChangedDate&&this.DataGetAll()})}onActionEdit(){let s=0;if(this.dataModelSelect&&this.dataModelSelect.id&&this.dataModelSelect.id>0&&(s=this.dataModelSelect.id),s===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorCategoryNotSelected").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(Kt,{height:"90%",panelClass:e,enterAnimationDuration:J.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:J.cmsViewConfig.exitAnimationDuration,data:{id:s}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionDelete(){let s=0;if(this.dataModelSelect&&this.dataModelSelect.id&&this.dataModelSelect.id>0&&(s=this.dataModelSelect.id),s===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorCategoryNotSelected").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}var e="",i="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(t=>{e=t["MESSAGE.Please_Confirm"],i=t["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.dataModelSelect.title+" ) "}),this.cmsConfirmationDialogService.confirm(e,i).then(t=>{if(t){let n=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(b=>{this.publicHelper.processService.processStart(n,b,this.constructorInfoAreaId)}),this.categoryService.ServiceDelete(this.dataModelSelect.id).subscribe({next:b=>{b.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(n)},error:b=>{this.cmsToastrService.typeError(b),this.publicHelper.processService.processStop(n,!1)}})}}).catch(()=>{})}};Zt.\u0275fac=function(e){return new(e||Zt)(_(L),_(U),_(Ce),_(dt),_(Le),_(G),_(B),_(F),_(Oe),_(Be))},Zt.\u0275cmp=P({type:Zt,selectors:[["app-member-propertydetailgroup-tree"]],inputs:{optionSelectForce:"optionSelectForce",optionLinkPropertyTypeId:"optionLinkPropertyTypeId",optionReload:"optionReload"},outputs:{optionChange:"optionChange"},standalone:!1,decls:16,vars:14,consts:[["treeTagControl",""],[3,"optionHeaderDisplay","optionActionMainDisplay","optionFooterDisplay"],["cms-tree-header",""],["cms-tree-action",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-teal",3,"click",4,"ngIf"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-magenta",3,"click",4,"ngIf"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-red",3,"click",4,"ngIf"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-highlight",3,"click",4,"ngIf"],["cms-tree-body","",1,"loader-container"],[3,"optionsInfoAreaId"],[3,"dataSource","childrenAccessor"],["matTreeNodePadding","",3,"ntk-tree-selected",4,"matTreeNodeDef"],["matTreeNodePadding","","matTreeNodeToggle","","isExpandable","",3,"cdkTreeNodeTypeaheadLabel","isExpanded","ntk-tree-selected",4,"matTreeNodeDef","matTreeNodeDefWhen"],["cms-tree-footer",""],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[2,"font-size","20px","margin","-6px",3,"title"],["matTreeNodePadding",""],["matIconButton","","disabled",""],[3,"click"],["aria-hidden","true",3,"ngClass"],["matTreeNodePadding","","matTreeNodeToggle","","isExpandable","",3,"cdkTreeNodeTypeaheadLabel","isExpanded"],["matIconButton","","matTreeNodeToggle",""],[1,"mat-icon-rtl-mirror"]],template:function(e,i){e&1&&(a(0,"app-cms-html-tree",1),C(1,2),p(2),y(3,"translate"),w(),C(4,3),M(5,kl,3,3,"button",4)(6,Fl,3,3,"button",5)(7,Vl,3,3,"button",6)(8,Ll,4,6,"button",7),w(),C(9,8),g(10,"app-progress-spinner",9),a(11,"mat-tree",10,0),M(13,Bl,5,6,"mat-tree-node",11)(14,Ol,7,11,"mat-tree-node",12),l(),w(),Ge(15,13),l()),e&2&&(m("optionHeaderDisplay",!0)("optionActionMainDisplay",!0)("optionFooterDisplay",!1),r(2),h(" ",I(3,12,"TABLE."+(i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.moduleEntityName))," "),r(3),m("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessAddRow),r(),m("ngIf",(i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessEditRow)&&i.dataModelSelect.id>0),r(),m("ngIf",(i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessDeleteRow)&&i.dataModelSelect.id>0),r(),m("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessWatchRow),r(2),m("optionsInfoAreaId",i.constructorInfoAreaId),r(),m("dataSource",i.dataSource)("childrenAccessor",i.childrenAccessor),r(3),m("matTreeNodeDefWhen",i.hasChild))},dependencies:[ee,k,Ve,we,Uo,Qo,zo,Ko,qo,j,$o,V],encapsulation:2});var ji=Zt;var Hl=()=>[5,10,20,100];function Wl(o,s){if(o&1){let e=v();a(0,"div",18)(1,"a",43),S("click",function(){u(e);let t=d();return f(t.onActionButtonNewRow())}),g(2,"i",44)(3,"br"),l(),a(4,"p",21),p(5),y(6,"translate"),l()()}o&2&&(r(5),h(" ",I(6,1,"ACTION.ADD")," "))}function jl(o,s){if(o&1){let e=v();a(0,"div",18)(1,"a",45),S("click",function(){u(e);let t=d();return f(t.onActionButtonEditRow(t.tableRowSelected))}),g(2,"i",46)(3,"br"),l(),a(4,"p",21),p(5),y(6,"translate"),l()()}o&2&&(r(5),h(" ",I(6,1,"ACTION.EDIT")," "))}function ql(o,s){if(o&1){let e=v();a(0,"div",18)(1,"a",47),S("click",function(){u(e);let t=d();return f(t.onActionButtonDeleteRow(t.tableRowSelected))}),g(2,"i",48)(3,"br"),l(),a(4,"p",21),p(5),y(6,"translate"),l()()}o&2&&(r(5),h(" ",I(6,1,"ACTION.DELETE")," "))}function Ul(o,s){if(o&1&&(a(0,"mat-header-cell",49),p(1),l()),o&2){let e=d();r(),h(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function Ql(o,s){if(o&1&&(a(0,"mat-cell"),p(1),l()),o&2){let e=s.$implicit;r(),h(" ",e.id," ")}}function Kl(o,s){if(o&1&&(a(0,"mat-header-cell",49),p(1),l()),o&2){let e=d();r(),h(" ",e.fieldsInfo.iconFont==null?null:e.fieldsInfo.iconFont.fieldTitle," ")}}function zl(o,s){if(o&1&&(a(0,"mat-cell"),g(1,"i",50),l()),o&2){let e=s.$implicit;r(),yt("color",e.iconColor),m("ngClass",e.iconFont)}}function Jl(o,s){if(o&1&&(a(0,"mat-header-cell",49),p(1),l()),o&2){let e=d();r(),h(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," ")}}function Yl(o,s){if(o&1&&(a(0,"mat-cell"),p(1),l()),o&2){let e=s.$implicit;r(),h(" ",e.title," ")}}function Xl(o,s){if(o&1&&(a(0,"mat-header-cell",49),p(1),l()),o&2){let e=d();r(),h(" ",e.fieldsInfo.unit==null?null:e.fieldsInfo.unit.fieldTitle," ")}}function Zl(o,s){if(o&1&&(a(0,"mat-cell"),p(1),l()),o&2){let e=s.$implicit;r(),h(" ",e.unit," ")}}function $l(o,s){if(o&1&&(a(0,"mat-header-cell",49),p(1),l()),o&2){let e=d();r(),h(" ",e.fieldsInfo.showInFormOrder==null?null:e.fieldsInfo.showInFormOrder.fieldTitle," ")}}function es(o,s){if(o&1&&(a(0,"mat-cell"),p(1),l()),o&2){let e=s.$implicit;r(),h(" ",e.showInFormOrder," ")}}function ts(o,s){if(o&1&&(a(0,"mat-header-cell",49),p(1),l()),o&2){let e=d();r(),h(" ",e.fieldsInfo.linkPropertyTypeId==null?null:e.fieldsInfo.linkPropertyTypeId.fieldTitle," ")}}function is(o,s){if(o&1&&(a(0,"mat-cell"),p(1),y(2,"cmstitle"),l()),o&2){let e=s.$implicit,i=d();r(),h(" ",ti(2,1,e.linkPropertyTypeId,i.dataModelMemberPropertyTypeResult.listItems)," ")}}function os(o,s){if(o&1&&(a(0,"mat-header-cell",49),p(1),l()),o&2){let e=d();r(),h(" ",e.fieldsInfo.linkPropertyDetailGroupId==null?null:e.fieldsInfo.linkPropertyDetailGroupId.fieldTitle," ")}}function rs(o,s){if(o&1&&(a(0,"mat-cell"),p(1),y(2,"cmstitle"),l()),o&2){let e=s.$implicit,i=d();r(),h(" ",ti(2,1,e.linkPropertyDetailGroupId,i.dataModelMemberPropertyDetailGroupResult.listItems)," ")}}function ns(o,s){o&1&&(a(0,"mat-header-cell"),p(1),y(2,"translate"),l()),o&2&&(r(),h(" ",I(2,1,"TITLE.OPTION")," "))}function as(o,s){if(o&1&&(a(0,"mat-cell",51)(1,"button",52)(2,"mat-icon"),p(3,"more_vert"),l()(),g(4,"mat-menu",null,2),l()),o&2){let e=R(5);r(),m("matMenuTriggerFor",e)}}function ls(o,s){o&1&&(a(0,"mat-header-cell",49),p(1,". "),l())}function ss(o,s){o&1&&(a(0,"mat-cell")(1,"mat-icon",53),p(2,"reorder"),l()())}function cs(o,s){o&1&&g(0,"mat-header-row")}function ms(o,s){if(o&1){let e=v();a(0,"mat-row",54),S("click",function(t){let n=u(e).$implicit,b=d();return f(b.onActionTableRowSelect(n,t))})("rtclick",function(t){let n=u(e).$implicit,b=d();return f(b.onActionTableRowSelect(n,t))}),l()}if(o&2){let e=s.$implicit,i=d();q("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var $t=class $t extends ft{constructor(e,i,t,n,b,c,O,z,Et,ri,Dt,lr,Ui,ds){super(e,new je,Ui,O,ri);this.contentService=e;this.memberPropertyDetailGroupService=i;this.memberPropertyTypeService=t;this.cmsConfirmationDialogService=n;this.activatedRoute=b;this.cmsToastrService=c;this.tokenHelper=O;this.router=z;this.cdr=Et;this.translate=ri;this.cmsStoreService=Dt;this.pageInfo=lr;this.publicHelper=Ui;this.dialog=ds;this.requestLinkPropertyTypeId=0;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new se;this.filterDataModelQueryBuilder=[];this.dataModelMemberPropertyTypeResult=new W;this.dataModelMemberPropertyDetailGroupResult=new W;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["IconFont","Unit","ShowInFormOrder","LinkPropertyTypeId","LinkPropertyDetailGroupId"];this.tabledisplayedColumnsMobileSource=["IconFont","Unit","ShowInFormOrder","LinkPropertyTypeId","LinkPropertyDetailGroupId"];this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.requestLinkPropertyTypeId=+this.activatedRoute.snapshot.paramMap.get("LinkPropertyId"),this.optionsSearch.parentMethods={onSubmit:sr=>this.onSubmitOptionsSearch(sr)},this.filteModelContent.sortColumn="id",this.filteModelContent.sortType=te.Descending;let Qi=new _e;this.requestLinkPropertyTypeId&&this.requestLinkPropertyTypeId>0&&(Qi.propertyName="LinkPropertyTypeId",Qi.value=this.requestLinkPropertyTypeId,this.filteModelContent.filters.push(Qi))}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>Ee(this,null,function*(){this.tokenInfo=e,this.DataGetAll()}))),this.getPropertyType(),this.getPropertyDetailGroup()}getPropertyType(){let e=new se;e.rowPerPage=100,this.memberPropertyTypeService.ServiceGetAll(e).subscribe({next:i=>{this.dataModelMemberPropertyTypeResult=i}})}getPropertyDetailGroup(){let e=new se;e.rowPerPage=100,this.memberPropertyDetailGroupService.ServiceGetAll(e).subscribe({next:i=>{this.dataModelMemberPropertyDetailGroupResult=i}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new je);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));if(this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.categoryModelSelected&&this.categoryModelSelected.id>0){let t=new _e;t.propertyName="LinkPropertyDetailGroupId",t.value=this.categoryModelSelected.id,i.filters.push(t)}this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),t.isSuccess?(this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=te.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=te.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=te.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionSelectorSelect(e){var i=this.filteModelContent.sortColumn,t=this.filteModelContent.sortType;this.filteModelContent=new se,this.filteModelContent.sortColumn=i,this.filteModelContent.sortType=t,this.categoryModelSelected=e,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(Hi,{height:"90%",panelClass:e,enterAnimationDuration:J.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:J.cmsViewConfig.exitAnimationDuration,data:{linkPropertyTypeId:this.requestLinkPropertyTypeId,linkPropertyDetailGroupId:this.categoryModelSelected.id}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Wi,{height:"90%",panelClass:i,enterAnimationDuration:J.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:J.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(n=>{n&&n.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(n=>{this.cmsToastrService.typeErrorSelected(n)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(n=>{i=n["MESSAGE.Please_Confirm"],t=n["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(n=>{if(n){let b=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(b,c,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(b)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(b,!1)}})}}).catch(()=>{})}onActionButtonContentList(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.onActionTableRowSelect(e),this.router.navigate(["/hypershop/content/PareintId/",this.tableRowSelected.id])}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{i.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{i.set(c,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(O=>{i.set(O,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}});let n=JSON.parse(JSON.stringify(this.filteModelContent)),b=new _e;b.propertyName="recordStatus",b.value=Ue.Available,n.filters.push(b),this.contentService.ServiceGetCount(n).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(O=>{i.set(O,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}};$t.\u0275fac=function(i){return new(i||$t)(_(Ke),_(Ce),_(Pt),_(dt),_(go),_(L),_(Oe),_(qe),_(G),_(F),_(Be),_(mt),_(B),_(Le))},$t.\u0275cmp=P({type:$t,selectors:[["app-member-propertydetail-list"]],standalone:!1,features:[H],decls:69,vars:34,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],[3,"optionChange","optionLinkPropertyTypeId"],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-cubes","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","IconFont"],["matColumnDef","title"],["matColumnDef","Unit"],["matColumnDef","ShowInFormOrder"],["matColumnDef","LinkPropertyTypeId"],["matColumnDef","LinkPropertyDetailGroupId"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],["matColumnDef","position"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],["aria-hidden","true",3,"ngClass"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],["cdkDragHandle","",2,"pointer-events","all"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(i,t){if(i&1){let n=v();a(0,"app-cms-html-list",3),D("optionActionGuideNoticeDisplayChange",function(c){return u(n),E(t.viewGuideNotice,c)||(t.viewGuideNotice=c),f(c)}),S("optionOnActionButtonMemoRow",function(){return u(n),f(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return u(n),f(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return u(n),f(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return u(n),f(t.onActionButtonPrintRow())}),C(1,4),a(2,"app-member-propertydetailgroup-tree",5),S("optionChange",function(c){return u(n),f(t.onActionSelectorSelect(c))}),l(),w(),Ge(3,6)(4,7),C(5,8),a(6,"a",9),S("click",function(){return u(n),f(t.viewGuideNotice=!t.viewGuideNotice)}),g(7,"i",10),l(),a(8,"a",9),S("click",function(){return u(n),f(t.onActionButtonReload())}),g(9,"i",11),l(),w(),C(10,12),a(11,"a",13),S("click",function(){return u(n),f(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),g(12,"mat-slide-toggle",14),p(13),y(14,"translate"),l(),a(15,"a",13),S("click",function(){return u(n),f(t.onActionButtonStatist())}),g(16,"mat-slide-toggle",14),p(17),y(18,"translate"),l(),w(),C(19,15),M(20,Wl,7,3,"div",16),w(),C(21,17),M(22,jl,7,3,"div",16)(23,ql,7,3,"div",16),a(24,"div",18)(25,"a",19),S("click",function(){return u(n),f(t.onActionButtonContentList(t.tableRowSelected))}),g(26,"i",20)(27,"br"),l(),a(28,"p",21),p(29),y(30,"translate"),l()(),w(),C(31,22),a(32,"app-cms-search-list",23),D("optionsChange",function(c){return u(n),E(t.optionsSearch,c)||(t.optionsSearch=c),f(c)}),l(),a(33,"app-cms-statist-list",23),D("optionsChange",function(c){return u(n),E(t.optionsStatist,c)||(t.optionsStatist=c),f(c)}),l(),w(),C(34,24),a(35,"mat-table",25,0),S("matSortChange",function(){u(n);let c=R(36);return f(t.onTableSortData(c))}),C(37,26),M(38,Ul,2,1,"mat-header-cell",27)(39,Ql,2,1,"mat-cell",28),w(),C(40,29),M(41,Kl,2,1,"mat-header-cell",27)(42,zl,2,3,"mat-cell",28),w(),C(43,30),M(44,Jl,2,1,"mat-header-cell",27)(45,Yl,2,1,"mat-cell",28),w(),C(46,31),M(47,Xl,2,1,"mat-header-cell",27)(48,Zl,2,1,"mat-cell",28),w(),C(49,32),M(50,$l,2,1,"mat-header-cell",27)(51,es,2,1,"mat-cell",28),w(),C(52,33),M(53,ts,2,1,"mat-header-cell",27)(54,is,3,4,"mat-cell",28),w(),C(55,34),M(56,os,2,1,"mat-header-cell",27)(57,rs,3,4,"mat-cell",28),w(),C(58,35),M(59,ns,3,3,"mat-header-cell",36)(60,as,6,1,"mat-cell",37),w(),C(61,38),M(62,ls,2,0,"mat-header-cell",27)(63,ss,3,0,"mat-cell",28),w(),M(64,cs,1,0,"mat-header-row",39)(65,ms,1,2,"mat-row",40),l(),w(),C(66,41),a(67,"mat-paginator",42,1),S("page",function(c){return u(n),f(t.onTablePageingData(c))}),l(),w(),l()}i&2&&(m("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),T("optionActionGuideNoticeDisplay",t.viewGuideNotice),m("optionTreeDisplay",!0)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",(t.tableRowSelected==null||t.tableRowSelected.title==null?null:t.tableRowSelected.title.length)>0?t.tableRowSelected==null?null:t.tableRowSelected.title:t.tableRowSelected==null?null:t.tableRowSelected.id),r(2),m("optionLinkPropertyTypeId",t.requestLinkPropertyTypeId),r(7),q("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),r(3),m("checked",t.optionsSearch.data.show),r(),h("",I(14,27,"ACTION.SEARCH")," "),r(3),m("checked",t.optionsStatist.data.show),r(),h("",I(18,29,"ACTION.STATIST")," "),r(3),m("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessAddRow),r(2),m("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),r(),m("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),r(6),h(" ",I(30,31,"ACTION.PRODUCTS")," "),r(3),T("options",t.optionsSearch),r(),T("options",t.optionsStatist),r(2),m("dataSource",t.tableSource),r(29),m("matHeaderRowDef",t.tabledisplayedColumns),r(),m("matRowDefColumns",t.tabledisplayedColumns),r(2),m("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",$(33,Hl)))},dependencies:[ee,k,Ve,we,ze,Je,Ye,Xe,Ze,$e,et,it,at,ot,tt,lt,rt,nt,st,ct,ht,bt,gt,_t,ji,V,Ti],encapsulation:2});var oi=$t;var ps=[{path:"",component:Fi,data:{title:"ROUTE.MEMBER"},children:[{path:"group",component:Ri,data:{title:"ROUTE.MEMBER.GROUP"}},{path:"property-alias",component:Oi,data:{title:"ROUTE.MEMBER.PROPERTYALIAS"}},{path:"property-detail-group",component:Ni,data:{title:"ROUTE.MEMBER.PROPERTYDETAILGROUP"}},{path:"property-detail",component:oi,data:{title:"ROUTE.MEMBER.PROPERTYDETAIL"}},{path:"property-detail/LinkPropertyId/:LinkPropertyId",component:oi,data:{title:"ROUTE.MEMBER.PROPERTYDETAIL"}}]}],wt=class wt{};wt.\u0275fac=function(e){return new(e||wt)},wt.\u0275mod=li({type:wt}),wt.\u0275inj=ni({imports:[Ji.forChild(ps),Ji]});var qi=wt;var Tt=class Tt{};Tt.\u0275fac=function(e){return new(e||Tt)},Tt.\u0275mod=li({type:Tt}),Tt.\u0275inj=ni({providers:[Mo,U,yo,Co,ke,To,Eo,Fe,Ke,Ce,Do,Ao,Pt,Ro,wo,xo,Po,Go,dt,vo,Io],imports:[bo,qi,Vo,Lo.withConfig({warnOnNgModelWithFormControl:"never"}),Xo,Zo,Wo,Ho,jo,er,Yo]});var ar=Tt;export{ar as MemberModule};
