import{a as yr}from"./chunk-KXF5QFDM.js";import{a as Tr}from"./chunk-QSCEJ4GX.js";import{a as Er}from"./chunk-NTSERGXW.js";import{a as Rt}from"./chunk-B5OL3OAO.js";import{a as an}from"./chunk-LHYK5FY3.js";import{a as Dt}from"./chunk-D4TAFX23.js";import{a as Zt}from"./chunk-C34GJYOP.js";import{a as Bt}from"./chunk-7JXE27EF.js";import{c as wt,d as kt,e as Lt,g as At,h as xt}from"./chunk-PABV5BJR.js";import{a as et,b as vo}from"./chunk-W3AWGRTF.js";import{j as So,k as bo,l as Io}from"./chunk-QJO5PKGP.js";import{a as _e,e as ho}from"./chunk-3VWCKOZ7.js";import{a as Et}from"./chunk-ACEVUKUC.js";import{a as Oi}from"./chunk-TOEKW4VH.js";import{a as we}from"./chunk-TZ5YAZ3X.js";import{b as vr}from"./chunk-ZGL4BCHJ.js";import{a as Fe}from"./chunk-3AXYO2KP.js";import{a as Fi}from"./chunk-IXPEP4O3.js";import"./chunk-JEZ23GV4.js";import{a as Co}from"./chunk-RCOF3V7S.js";import{a as Ee}from"./chunk-2F5KGFS2.js";import{a as q,d as ie}from"./chunk-3VVF5I2I.js";import{b as Mo,e as yt,f as F}from"./chunk-K67ENK5R.js";import{$ as ki,$a as G,A as yi,Ab as It,Ba as Ai,Bb as Ct,Ca as xi,Cb as vt,D as Kt,Da as Ri,Db as Tt,E as Jt,Fc as He,G as Xt,Hb as br,Ib as $i,Ic as qe,J as z,Ja as Yt,Jb as en,K as fe,Ka as ae,Kb as tn,Kc as N,L as ge,La as le,Lb as nn,Ma as Qe,Mb as on,N as ur,Nb as rn,Nc as Cr,O as fr,Q as Ei,Qb as P,Rb as V,W as ye,Y as _o,Ya as Mr,Z as wi,Za as xe,_a as hr,a as vi,aa as Li,ba as Ue,bc as $e,cc as Ir,eb as ct,fa as gr,fb as dt,hb as mt,lb as pt,m as zt,mb as ut,n as U,nb as ft,ob as Di,pb as Bi,q as Q,qb as Pi,r as Ce,rb as Vi,sa as _r,sb as Ni,t as ve,tb as Sr,u as Ti,ub as gt,v as te,vb as _t,w as Te,wb as Mt,x as Ne,xb as ht,yb as St,zb as bt}from"./chunk-KB3A6DM2.js";import{$b as Ve,Ab as Si,Ad as at,Bb as bi,Bq as oe,Ca as K,Ch as ci,Db as Y,Dh as Ft,Eb as Z,Eh as di,F as gi,Fa as o,Fb as $,Fd as jt,Fh as Ze,Gh as Xi,Ha as Je,Hh as Ot,I as _i,Id as nt,Ih as Yi,Jb as x,Jc as rt,Jh as Gt,Kb as uo,Kc as je,Kh as mi,Lb as J,Lc as O,Ld as ce,Lh as Zi,Mh as fo,Nh as go,Oa as b,Ob as d,Od as be,P as Mi,Pb as v,Pc as qt,Q as hi,Qb as h,Rb as Be,Rc as Ge,Sa as D,Sb as ar,Sd as Ye,Ta as po,Td as W,Ub as y,Vb as E,Wa as X,Wb as w,Xb as k,Xc as sr,Xd as ne,Y as mo,Ya as I,Yb as Ht,Yd as Ie,Ye as mr,ac as Ke,da as u,db as ot,dc as g,de as ee,ea as f,ec as _,fc as lr,he as dr,kb as c,lb as r,mb as a,mh as pr,nb as S,nh as ze,oh as Ut,p as ui,ph as ni,q as fi,qh as oi,rb as L,rd as Xe,rh as lt,sb as A,sd as cr,sh as Ki,tb as Oe,td as We,th as Qt,ub as T,uh as Ii,vh as Ci,wc as B,wh as st,xb as C,xh as Ji,zb as p,zd as Yo}from"./chunk-SAEPMAIS.js";import{i as Ae}from"./chunk-SEDBTTTN.js";var Fr=["*"];function Or(n,l){if(n&1&&(r(0,"label",12),d(1),a()),n&2){let e=p();c("for",Ht("app-cms-site-selector-",e.id)),o(),v(e.optionLabel)}}function Gr(n,l){if(n&1&&(r(0,"mat-option",13)(1,"span"),d(2),a()()),n&2){let e=l.$implicit,i=p();c("value",e)("disabled",i.optionDisabled),o(2),v(i.displayOption(e))}}function Wr(n,l){n&1&&S(0,"i",14)}function Hr(n,l){n&1&&S(0,"i",15)}function qr(n,l){if(n&1){let e=T();r(0,"i",16),C("click",function(){u(e);let t=p();return f(t.onActionSelectClear())}),a()}}function jr(n,l){n&1&&(r(0,"em"),d(1),g(2,"translate"),a()),n&2&&(o(),h("(",_(2,1,"TITLE.Necessary"),")"))}var Gi=class Gi{constructor(l,e,i,t,s,M){this.coreEnumService=l;this.cmsToastrService=e;this.translate=i;this.cdr=t;this.publicHelper=s;this.categoryService=M;this.id=++Gi.nextId;this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new W;this.dataModelSelect=new Ft;this.formControl=new Ti;this.optionDisabled=!1;this.optionRequired=!1;this.optionPlaceholder="";this.optionLabel="";this.optionSelectFirstItem=!1;this.optionChange=new Je;this.optionReload=()=>this.onActionButtonReload();this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(l){this.onActionSelectForce(l)}ngOnInit(){this.loadOptions(),(!this.optionLabel||this.optionLabel.length==0&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder)}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(Mi(""),gi(1500),_i(),hi(l=>typeof l=="string"||typeof l=="number"?this.DataGetAll(l||""):[]))}displayFn(l){return l?l.id+"":void 0}displayOption(l){return l?l.id+"":void 0}DataGetAll(l){return Ae(this,null,function*(){let e=new Ie;e.rowPerPage=20,e.accessLoad=!0;let i=new ne;i.propertyName="title",i.value=l,i.searchType=jt.Contains,i.clauseType=at.Or,e.filters.push(i),l&&typeof+l=="number"&&+l>0&&(i=new ne,i.propertyName="id",i.value=l,i.searchType=jt.Equal,i.clauseType=at.Or,e.filters.push(i));let t=this.constructor.name+"main";return this.translate.get("MESSAGE.Receiving_information").subscribe(s=>{this.publicHelper.processService.processStart(t,s,this.constructorInfoAreaId)}),yield ui(this.categoryService.ServiceGetAll(e)).then(s=>(this.dataModelResult=s,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||this.dataModelSelect.id<=0)&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0])},1e3),this.onActionSelect(this.dataModelResult.listItems[0])),this.publicHelper.processService.processStop(t),s.listItems))})}onActionSelect(l){this.dataModelSelect=l,this.optionChange.emit(this.dataModelSelect)}onActionSelectClear(){this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null)}push(l){return this.filteredOptions.pipe(fi(e=>(e.find(i=>i.id===l.id)||e.push(l),e)))}onActionSelectForce(l){if(typeof l=="number"&&l>0){if(this.dataModelSelect&&this.dataModelSelect.id===l)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(e=>e.id===l)){let e=this.dataModelResult.listItems.find(i=>i.id===l);this.dataModelSelect=e,this.formControl.setValue(e);return}this.categoryService.ServiceGetOneById(l).subscribe({next:e=>{e.isSuccess?(this.filteredOptions=this.push(e.item),this.dataModelSelect=e.item,this.formControl.setValue(e.item),this.optionChange.emit(e.item)):this.cmsToastrService.typeErrorMessage(e.errorMessage)}});return}if(typeof l==typeof Ft){this.filteredOptions=this.push(l),this.dataModelSelect=l,this.formControl.setValue(l);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new Ft,this.loadOptions()}};Gi.nextId=0,Gi.\u0275fac=function(e){return new(e||Gi)(b(ee),b(N),b(P),b(B),b(F),b(Ut))},Gi.\u0275cmp=D({type:Gi,selectors:[["app-linkmanagement-accounting-selector"]],inputs:{optionDisabled:"optionDisabled",optionRequired:"optionRequired",optionPlaceholder:"optionPlaceholder",optionLabel:"optionLabel",optionSelectFirstItem:"optionSelectFirstItem",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange"},standalone:!1,ngContentSelectors:Fr,decls:15,vars:24,consts:[["matauto","matAutocomplete"],[1,"input-style","has-borders","has-icon","input-style-always-active","validate-field","mb-4","loader-container"],[3,"optionsInfoAreaId"],["class","color-highlight",3,"for",4,"ngIf"],["type","text","aria-label","Assignee","matInput","",3,"placeholder","formControl","matAutocomplete","required","id"],[3,"optionSelected","displayWith"],[3,"value","disabled",4,"ngFor","ngForOf"],["class","fa fa-info invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],["class","fa fa-times action color-red-dark",3,"click",4,"ngIf"],[1,"fa","fa-rotate-right","action","color-green-dark",2,"margin-left","20px",3,"click","title"],[4,"ngIf"],[1,"color-highlight",3,"for"],[3,"value","disabled"],[1,"fa","fa-info","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"fa","fa-times","action","color-red-dark",3,"click"]],template:function(e,i){if(e&1){let t=T();Si(),r(0,"div",1),S(1,"app-progress-spinner",2),I(2,Or,2,3,"label",3),S(3,"input",4),r(4,"mat-autocomplete",5,0),C("optionSelected",function(M){return u(t),f(i.onActionSelect(M.option.value))}),I(6,Gr,3,3,"mat-option",6),g(7,"async"),a(),I(8,Wr,1,0,"i",7)(9,Hr,1,0,"i",8)(10,qr,1,0,"i",9),r(11,"i",10),g(12,"translate"),C("click",function(){return u(t),f(i.onActionButtonReload())}),a(),I(13,jr,3,3,"em",11),bi(14),a()}if(e&2){let t=x(5);o(),c("optionsInfoAreaId",i.constructorInfoAreaId),o(),c("ngIf",(i.optionLabel==null?null:i.optionLabel.length)>0),o(),c("placeholder",k(i.optionPlaceholder))("id",Ht("app-cms-site-selector-",i.id))("formControl",i.formControl)("matAutocomplete",t)("required",i.optionRequired),ot("disabled",i.optionDisabled?!0:null),o(),c("displayWith",i.displayFn),o(2),c("ngForOf",_(7,20,i.filteredOptions)),o(2),c("ngIf",!i.formControl.valid),o(),c("ngIf",i.optionRequired&&i.formControl.valid),o(),c("ngIf",(i.dataModelSelect==null?null:i.dataModelSelect.id)>0),o(),J("rotation360",i.publicHelper.processService.process.inRunArea[i.constructorInfoAreaId]),c("title",k(_(12,22,"ACTION.RELOAD"))),o(2),c("ngIf",i.optionRequired&&(!i.dataModelSelect||!i.dataModelSelect.id||i.dataModelSelect.id<=0))}},dependencies:[je,O,U,Q,z,yi,ki,Ei,Li,G,q,Ge,V],encapsulation:2});var ln=Gi;var Ur=["vform"];function Qr(n,l){if(n&1){let e=T();r(0,"app-cms-enum-record-status-selector",40),w("modelChange",function(t){u(e);let s=p();return E(s.dataModel.recordStatus,t)||(s.dataModel.recordStatus=t),f(t)}),a()}if(n&2){let e=p();y("model",e.dataModel.recordStatus),c("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function zr(n,l){if(n&1&&(r(0,"option",41),d(1),a()),n&2){let e=l.$implicit;c("value",e.value),o(),h(" ",e.description," ")}}function Kr(n,l){n&1&&(r(0,"mat-error"),d(1," AccountingType is "),r(2,"strong"),d(3),g(4,"translate"),a()()),n&2&&(o(3),v(_(4,1,"MESSAGE.required")))}function Jr(n,l){if(n&1&&(r(0,"mat-error"),d(1),r(2,"strong"),d(3),g(4,"translate"),a()()),n&2){let e=p(2);o(),h(" ",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle," is "),o(2),v(_(4,2,"MESSAGE.required"))}}function Xr(n,l){if(n&1){let e=T();r(0,"div",18)(1,"label",42),d(2),a(),r(3,"textarea",43,9),w("ngModelChange",function(t){u(e);let s=p();return E(s.dataModel.description,t)||(s.dataModel.description=t),f(t)}),d(5,"        "),a(),r(6,"em"),d(7),a(),I(8,Jr,5,4,"mat-error",21),a()}if(n&2){let e=x(4),i=p();o(2),v(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle),o(),c("placeholder",k(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle)),y("ngModel",i.dataModel.description),o(4),h("",e.value.length," / 500"),o(),c("ngIf",e.errors==null?null:e.errors.required)}}function Yr(n,l){n&1&&S(0,"i",44)}function Zr(n,l){n&1&&S(0,"i",45)}function $r(n,l){n&1&&(r(0,"mat-error"),d(1," Debtor is "),r(2,"strong"),d(3),g(4,"translate"),a()()),n&2&&(o(3),v(_(4,1,"MESSAGE.required")))}function ea(n,l){n&1&&S(0,"i",44)}function ta(n,l){n&1&&S(0,"i",45)}function ia(n,l){n&1&&(r(0,"mat-error"),d(1," Creditor is "),r(2,"strong"),d(3),g(4,"translate"),a()()),n&2&&(o(3),v(_(4,1,"MESSAGE.required")))}function na(n,l){n&1&&(r(0,"mat-error"),d(1," FishNumber is "),r(2,"strong"),d(3),g(4,"translate"),a()()),n&2&&(o(3),v(_(4,1,"MESSAGE.required")))}function oa(n,l){n&1&&(r(0,"mat-error"),d(1," TokenNumber is "),r(2,"strong"),d(3),g(4,"translate"),a()()),n&2&&(o(3),v(_(4,1,"MESSAGE.required")))}function ra(n,l){n&1&&(r(0,"mat-error"),d(1," ReceiptCode is "),r(2,"strong"),d(3),g(4,"translate"),a()()),n&2&&(o(3),v(_(4,1,"MESSAGE.required")))}function aa(n,l){if(n&1){let e=T();r(0,"div",46)(1,"button",47),C("click",function(){u(e);let t=p();return f(t.onFormCancel())}),S(2,"i",48),d(3),g(4,"translate"),a(),r(5,"button",49),S(6,"i",50),d(7),g(8,"translate"),a()()}if(n&2){p();let e=x(10);o(3),h(" ",_(4,3,"ACTION.CANCEL")," "),o(2),c("disabled",!e.form.valid),o(2),h(" ",_(8,5,"ACTION.SAVE")," ")}}var sn=class sn extends Et{constructor(e,i,t,s,M,m,R,H,j){super(s,new ci,R,j);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.categoryService=s;this.linkManagementEnumService=M;this.cmsToastrService=m;this.publicHelper=R;this.cdr=H;this.translate=j;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new W;this.dataModel=new ci;this.formInfo=new ie;this.dataModelEnumSharingAccountingTypeResult=new W;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.translate.get("TITLE.Register_New_Categories").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess(),this.getEnumSharingAccountingType()}getEnumSharingAccountingType(){this.linkManagementEnumService.ServiceSharingAccountingTypeEnum().subscribe(e=>{this.dataModelEnumSharingAccountingTypeResult=e})}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.categoryService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorAccount(e){if(!e||!e.id||e.id<=0){this.translate.get("MESSAGE.Account_information_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkManagementAccountingId=e.id}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};sn.\u0275fac=function(i){return new(i||sn)(b(le),b(ae),b(ee),b(ni),b(ze),b(N),b(F),b(B),b(P))},sn.\u0275cmp=D({type:sn,selectors:[["app-linkmanagement-accounting-detail-add"]],viewQuery:function(i,t){if(i&1&&Y(Ur,5),i&2){let s;Z(s=$())&&(t.formGroup=s.first)}},standalone:!1,features:[X],decls:76,vars:64,consts:[["vform","ngForm"],["AccountingType","ngModel"],["Debtor",""],["Creditor",""],["LinkExternalShopInvoiceSaleDetailId",""],["RowNumber",""],["FishNumber",""],["TokenNumber",""],["ReceiptCode",""],["Description",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["id","dataModel.accountingType","name","dataModel.accountingType",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["for","dataModel.debtor",1,"color-highlight"],["matInput","","type","number","name","dataModel.debtor","minlength","0","required","","id","dataModel.debtor",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","fa fa-times invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],["for","dataModel.creditor",1,"color-highlight"],["matInput","","type","number","name","dataModel.creditor","minlength","0","required","","id","dataModel.creditor",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.linkExternalShopInvoiceSaleDetailId",1,"color-highlight"],["matInput","","type","number","name","dataModel.linkExternalShopInvoiceSaleDetailId","id","dataModel.linkExternalShopInvoiceSaleDetailId",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.rowNumber",1,"color-highlight"],["matInput","","type","number","name","dataModel.rowNumber","id","dataModel.rowNumber",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.fishNumber",1,"color-highlight"],["matInput","","type","text","name","dataModel.fishNumber","minlength","3","maxlength","100","required","","id","dataModel.fishNumber",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.tokenNumber",1,"color-highlight"],["matInput","","type","text","name","dataModel.tokenNumber","minlength","3","maxlength","100","required","","id","dataModel.tokenNumber",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.receiptCode",1,"color-highlight"],["matInput","","type","text","name","dataModel.receiptCode","minlength","3","maxlength","100","required","","id","dataModel.receiptCode",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"value"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=T();r(0,"div",10),S(1,"app-progress-spinner",11),r(2,"div",12)(3,"p",13),d(4),a(),r(5,"p"),d(6),g(7,"translate"),a(),S(8,"app-cms-form-result-message",14),r(9,"form",15,0),C("ngSubmit",function(){return u(s),f(t.onFormSubmit())}),I(11,Qr,1,5,"app-cms-enum-record-status-selector",16),r(12,"app-linkmanagement-accounting-selector",17),g(13,"translate"),C("optionChange",function(m){return u(s),f(t.onActionSelectorAccount(m))}),a(),r(14,"div",18)(15,"select",19,1),w("ngModelChange",function(m){return u(s),E(t.dataModel.accountingType,m)||(t.dataModel.accountingType=m),f(m)}),I(17,zr,2,2,"option",20),a(),r(18,"em"),d(19),g(20,"translate"),a(),I(21,Kr,5,3,"mat-error",21),a(),I(22,Xr,9,6,"div",22),r(23,"div",18)(24,"label",23),d(25),a(),r(26,"input",24,2),g(28,"translate"),w("ngModelChange",function(m){return u(s),E(t.dataModel.debtor,m)||(t.dataModel.debtor=m),f(m)}),a(),I(29,Yr,1,0,"i",25)(30,Zr,1,0,"i",26)(31,$r,5,3,"mat-error",21),a(),r(32,"div",18)(33,"label",27),d(34),a(),r(35,"input",28,3),g(37,"translate"),w("ngModelChange",function(m){return u(s),E(t.dataModel.creditor,m)||(t.dataModel.creditor=m),f(m)}),a(),I(38,ea,1,0,"i",25)(39,ta,1,0,"i",26)(40,ia,5,3,"mat-error",21),a(),r(41,"div",18)(42,"label",29),d(43),a(),r(44,"input",30,4),w("ngModelChange",function(m){return u(s),E(t.dataModel.linkExternalShopInvoiceSaleDetailId,m)||(t.dataModel.linkExternalShopInvoiceSaleDetailId=m),f(m)}),a()(),r(46,"div",18)(47,"label",31),d(48),a(),r(49,"input",32,5),w("ngModelChange",function(m){return u(s),E(t.dataModel.rowNumber,m)||(t.dataModel.rowNumber=m),f(m)}),a()(),r(51,"div",18)(52,"label",33),d(53),a(),r(54,"input",34,6),w("ngModelChange",function(m){return u(s),E(t.dataModel.fishNumber,m)||(t.dataModel.fishNumber=m),f(m)}),a(),r(56,"em"),d(57),a(),I(58,na,5,3,"mat-error",21),a(),r(59,"div",18)(60,"label",35),d(61),a(),r(62,"input",36,7),w("ngModelChange",function(m){return u(s),E(t.dataModel.tokenNumber,m)||(t.dataModel.tokenNumber=m),f(m)}),a(),r(64,"em"),d(65),a(),I(66,oa,5,3,"mat-error",21),a(),r(67,"div",18)(68,"label",37),d(69),a(),r(70,"input",38,8),w("ngModelChange",function(m){return u(s),E(t.dataModel.receiptCode,m)||(t.dataModel.receiptCode=m),f(m)}),a(),r(72,"em"),d(73),a(),I(74,ra,5,3,"mat-error",21),a(),I(75,aa,9,7,"div",39),a()()()}if(i&2){let s=x(16),M=x(27),m=x(36),R=x(55),H=x(63),j=x(71);o(),c("optionsInfoAreaId",t.constructorInfoAreaId),o(3),h(" ",t.formInfo.formTitle," "),o(2),h(" ",_(7,54,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),c("formInfo",t.formInfo),o(3),c("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),o(),c("optionDisabled",!(t.fieldsInfo.linkManagementAccountingId!=null&&t.fieldsInfo.linkManagementAccountingId.accessAddField))("optionSelectForce",t.dataModel.linkManagementAccountingId)("optionPlaceholder",_(13,56,"TITLE.Account")),o(3),y("ngModel",t.dataModel.accountingType),o(2),c("ngForOf",t.dataModelEnumSharingAccountingTypeResult.listItems),o(2),v(_(20,58,"TITLE.Select_type_of_content")),o(2),c("ngIf",s.errors==null?null:s.errors.required),o(),c("ngIf",t.fieldsInfo.description==null?null:t.fieldsInfo.description.accessWatchField),o(3),v(t.fieldsInfo.debtor==null?null:t.fieldsInfo.debtor.fieldTitle),o(),c("placeholder",k(_(28,60,"TITLE.Debtor_Credit"))),y("ngModel",t.dataModel.debtor),o(3),c("ngIf",!M.value),o(),c("ngIf",M.value),o(),c("ngIf",M.errors==null?null:M.errors.required),o(3),v(t.fieldsInfo.creditor==null?null:t.fieldsInfo.creditor.fieldTitle),o(),c("placeholder",k(_(37,62,"TITLE.Creditor_Credit"))),y("ngModel",t.dataModel.creditor),o(3),c("ngIf",!m.value),o(),c("ngIf",m.value),o(),c("ngIf",m.errors==null?null:m.errors.required),o(3),v(t.fieldsInfo.linkExternalShopInvoiceSaleDetailId==null?null:t.fieldsInfo.linkExternalShopInvoiceSaleDetailId.fieldTitle),o(),c("placeholder",k(t.fieldsInfo.linkExternalShopInvoiceSaleDetailId==null?null:t.fieldsInfo.linkExternalShopInvoiceSaleDetailId.fieldTitle)),y("ngModel",t.dataModel.linkExternalShopInvoiceSaleDetailId),o(4),v(t.fieldsInfo.rowNumber==null?null:t.fieldsInfo.rowNumber.fieldTitle),o(),c("placeholder",k(t.fieldsInfo.rowNumber==null?null:t.fieldsInfo.rowNumber.fieldTitle)),y("ngModel",t.dataModel.rowNumber),o(4),v(t.fieldsInfo.fishNumber==null?null:t.fieldsInfo.fishNumber.fieldTitle),o(),c("placeholder",k(t.fieldsInfo.fishNumber==null?null:t.fieldsInfo.fishNumber.fieldTitle)),y("ngModel",t.dataModel.fishNumber),o(3),h("",R.value.length," / 100"),o(),c("ngIf",R.errors==null?null:R.errors.required),o(3),v(t.fieldsInfo.tokenNumber==null?null:t.fieldsInfo.tokenNumber.fieldTitle),o(),c("placeholder",k(t.fieldsInfo.tokenNumber==null?null:t.fieldsInfo.tokenNumber.fieldTitle)),y("ngModel",t.dataModel.tokenNumber),o(3),h("",H.value.length," / 100"),o(),c("ngIf",H.errors==null?null:H.errors.required),o(3),v(t.fieldsInfo.receiptCode==null?null:t.fieldsInfo.receiptCode.fieldTitle),o(),c("placeholder",k(t.fieldsInfo.receiptCode==null?null:t.fieldsInfo.receiptCode.fieldTitle)),y("ngModel",t.dataModel.receiptCode),o(3),h("",j.value.length," / 100"),o(),c("ngIf",j.errors==null?null:j.errors.required),o(),c("ngIf",t.formInfo.submitButtonEnabled)}},dependencies:[je,O,Te,Jt,Xt,U,Ne,Kt,Q,Ce,z,fe,ge,te,ve,ye,G,we,q,Ee,Fe,ln,V],encapsulation:2});var To=sn;var la=["vform"];function sa(n,l){if(n&1){let e=T();L(0),r(1,"div",7)(2,"label",8),d(3),a(),r(4,"input",9,0),w("ngModelChange",function(t){u(e);let s=p();return E(s.dataModelResultContent.item.id,t)||(s.dataModelResultContent.item.id=t),f(t)}),a()(),A()}if(n&2){let e=p();o(3),v(e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle),o(),c("placeholder",k(e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle)),y("ngModel",e.dataModelResultContent.item.id)}}function ca(n,l){if(n&1){let e=T();r(0,"div",10)(1,"button",11),C("click",function(){u(e);let t=p();return f(t.onFormDelete())}),S(2,"i",12),d(3),g(4,"translate"),a(),r(5,"button",13),C("click",function(){u(e);let t=p();return f(t.onFormCancel())}),S(6,"i",14),d(7),g(8,"translate"),a()()}if(n&2){let e=p();o(),c("disabled",!e.formInfo.submitButtonEnabled),o(2),h(" ",_(4,3,"ACTION.DELETE")," "),o(4),h(" ",_(8,5,"ACTION.CANCEL")," ")}}var cn=class cn{constructor(l,e,i,t,s,M,m){this.data=l;this.dialogRef=e;this.publicHelper=i;this.linkManagementAccountingDetailService=t;this.cdr=s;this.translate=M;this.cmsToastrService=m;this.requestId=0;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.dataModelResultContent=new W;this.formInfo=new ie;this.publicHelper.processService.cdr=this.cdr,l&&(this.requestId=+l.id||0)}ngOnInit(){if(this.requestId<=0){this.cmsToastrService.typeErrorDeleteRowIsNull(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOne()}DataGetOne(){if(this.requestId===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.translate.get("TITLE.Loading_Information").subscribe(e=>{this.formInfo.submitResultMessage=e});let l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(l,e,this.constructorInfoAreaId)}),this.linkManagementAccountingDetailService.setAccessLoad(),this.linkManagementAccountingDetailService.setAccessDataType(be.Editor),this.linkManagementAccountingDetailService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModelResultContent=e,e.isSuccess?this.formInfo.submitResultMessage="":(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.formInfo.submitResultMessageType=FormSubmitedStatusEnum.Success,this.cmsToastrService.typeErrorGetOne()),this.publicHelper.processService.processStop(l)},error:e=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessageType=FormSubmitedStatusEnum.Success,this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(l,!1)}})}onFormDelete(){if(this.requestId===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.formInfo.submitButtonEnabled=!1,this.formInfo.submitButtonEnabled=!1;let l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(l,e,this.constructorInfoAreaId)}),this.linkManagementAccountingDetailService.ServiceDelete(this.requestId).subscribe({next:e=>{this.formInfo.submitButtonEnabled=!e.isSuccess,e.isSuccess?(this.translate.get("MESSAGE.Deletion_Was_Successful").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.cmsToastrService.typeSuccessRemove(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.cmsToastrService.typeErrorRemove()),this.formInfo.submitButtonEnabled=!0,this.publicHelper.processService.processStop(l)},error:e=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(e),this.formInfo.submitButtonEnabled=!0,this.publicHelper.processService.processStop(l)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};cn.\u0275fac=function(e){return new(e||cn)(b(le),b(ae),b(F),b(ni),b(B),b(P),b(N))},cn.\u0275cmp=D({type:cn,selectors:[["app-linkmanagement-accounting-detail-delete"]],viewQuery:function(e,i){if(e&1&&Y(la,5),e&2){let t;Z(t=$())&&(i.formGroup=t.first)}},standalone:!1,decls:12,vars:10,consts:[["Writer",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[4,"ngIf"],["class","form-actions",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModelResultContent.item.id",1,"color-highlight"],["matInput","","name","dataModelResultContent.item.id","type","text","required","","id","dataModelResultContent.item.id","readonly","",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click","disabled"],[1,"fa","fa-check-square-o"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,i){e&1&&(r(0,"div",1),S(1,"app-progress-spinner",2),r(2,"div",3)(3,"p",4),d(4),g(5,"translate"),a(),r(6,"p"),d(7),g(8,"translate"),a(),d(9),I(10,sa,6,4,"ng-container",5)(11,ca,9,7,"div",6),a()()),e&2&&(o(),c("optionsInfoAreaId",i.constructorInfoAreaId),o(3),h(" ",_(5,6,"TITLE.EDIT_USER_ACCOUNT")," "),o(3),h(" ",_(8,8,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),h(" ",i.formInfo.formTitle," "),o(),c("ngIf",i.dataModelResultContent==null?null:i.dataModelResultContent.item),o(),c("ngIf",i.formInfo.submitButtonEnabled))},dependencies:[O,U,Q,z,te,G,q,V],encapsulation:2});var yo=cn;var da=["vform"];function ma(n,l){if(n&1){let e=T();r(0,"app-cms-enum-record-status-selector",40),w("modelChange",function(t){u(e);let s=p();return E(s.dataModel.recordStatus,t)||(s.dataModel.recordStatus=t),f(t)}),a()}if(n&2){let e=p();y("model",e.dataModel.recordStatus),c("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function pa(n,l){if(n&1&&(r(0,"option",41),d(1),a()),n&2){let e=l.$implicit;c("value",e.value),o(),h(" ",e.description," ")}}function ua(n,l){n&1&&(r(0,"mat-error"),d(1," AccountingType is "),r(2,"strong"),d(3),g(4,"translate"),a()()),n&2&&(o(3),v(_(4,1,"MESSAGE.required")))}function fa(n,l){if(n&1&&(r(0,"mat-error"),d(1),r(2,"strong"),d(3),g(4,"translate"),a()()),n&2){let e=p(2);o(),h(" ",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle," is "),o(2),v(_(4,2,"MESSAGE.required"))}}function ga(n,l){if(n&1){let e=T();r(0,"div",18)(1,"label",42),d(2),a(),r(3,"textarea",43,9),w("ngModelChange",function(t){u(e);let s=p();return E(s.dataModel.description,t)||(s.dataModel.description=t),f(t)}),d(5,"        "),a(),r(6,"em"),d(7),a(),I(8,fa,5,4,"mat-error",21),a()}if(n&2){let e=x(4),i=p();o(2),v(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle),o(),c("placeholder",k(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle)),y("ngModel",i.dataModel.description),o(4),h("",e.value.length," / 500"),o(),c("ngIf",e.errors==null?null:e.errors.required)}}function _a(n,l){n&1&&S(0,"i",44)}function Ma(n,l){n&1&&S(0,"i",45)}function ha(n,l){n&1&&(r(0,"mat-error"),d(1," Debtor is "),r(2,"strong"),d(3),g(4,"translate"),a()()),n&2&&(o(3),v(_(4,1,"MESSAGE.required")))}function Sa(n,l){n&1&&S(0,"i",44)}function ba(n,l){n&1&&S(0,"i",45)}function Ia(n,l){n&1&&(r(0,"mat-error"),d(1," Creditor is "),r(2,"strong"),d(3),g(4,"translate"),a()()),n&2&&(o(3),v(_(4,1,"MESSAGE.required")))}function Ca(n,l){n&1&&(r(0,"mat-error"),d(1," FishNumber is "),r(2,"strong"),d(3),g(4,"translate"),a()()),n&2&&(o(3),v(_(4,1,"MESSAGE.required")))}function va(n,l){n&1&&(r(0,"mat-error"),d(1," TokenNumber is "),r(2,"strong"),d(3),g(4,"translate"),a()()),n&2&&(o(3),v(_(4,1,"MESSAGE.required")))}function Ta(n,l){n&1&&(r(0,"mat-error"),d(1," ReceiptCode is "),r(2,"strong"),d(3),g(4,"translate"),a()()),n&2&&(o(3),v(_(4,1,"MESSAGE.required")))}function ya(n,l){if(n&1){let e=T();r(0,"div",46)(1,"button",47),C("click",function(){u(e);let t=p();return f(t.onFormCancel())}),S(2,"i",48),d(3),g(4,"translate"),a(),r(5,"button",49),S(6,"i",50),d(7),g(8,"translate"),a()()}if(n&2){p();let e=x(10);o(3),h(" ",_(4,3,"ACTION.CANCEL")," "),o(2),c("disabled",!e.form.valid),o(2),h(" ",_(8,5,"ACTION.SAVE")," ")}}var dn=class dn extends et{constructor(e,i,t,s,M,m,R,H,j){super(s,new ci,R,j);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.categoryService=s;this.cmsToastrService=M;this.linkManagementEnumService=m;this.publicHelper=R;this.cdr=H;this.translate=j;this.requestId=0;this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new Ye;this.dataModel=new ci;this.formInfo=new ie;this.dataModelEnumSharingAccountingTypeResult=new W;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=+e.id||0),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.requestId>0)this.translate.get("TITLE.Edit_Categories").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.getEnumSharingAccountingType()}getEnumSharingAccountingType(){this.linkManagementEnumService.ServiceSharingAccountingTypeEnum().subscribe(e=>{this.dataModelEnumSharingAccountingTypeResult=e})}DataGetOneContent(){if(this.requestId<=0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.categoryService.setAccessLoad(),this.categoryService.setAccessDataType(be.Editor),this.categoryService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.categoryService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorAccount(e){if(!e||!e.id||e.id<=0){this.translate.get("MESSAGE.Account_information_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkManagementAccountingId=e.id}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};dn.\u0275fac=function(i){return new(i||dn)(b(le),b(ae),b(ee),b(ni),b(N),b(ze),b(F),b(B),b(P))},dn.\u0275cmp=D({type:dn,selectors:[["app-linkmanagement-accounting-detail-edit"]],viewQuery:function(i,t){if(i&1&&Y(da,5),i&2){let s;Z(s=$())&&(t.formGroup=s.first)}},standalone:!1,features:[X],decls:76,vars:64,consts:[["vform","ngForm"],["AccountingType","ngModel"],["Debtor",""],["Creditor",""],["LinkExternalShopInvoiceSaleDetailId",""],["RowNumber",""],["FishNumber",""],["TokenNumber",""],["ReceiptCode",""],["Description",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["id","dataModel.accountingType","name","dataModel.accountingType",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["for","dataModel.debtor",1,"color-highlight"],["matInput","","type","number","name","dataModel.debtor","minlength","0","required","","id","dataModel.debtor",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","fa fa-times invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],["for","dataModel.creditor",1,"color-highlight"],["matInput","","type","number","name","dataModel.creditor","minlength","0","required","","id","dataModel.creditor",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.linkExternalShopInvoiceSaleDetailId",1,"color-highlight"],["matInput","","type","number","name","dataModel.linkExternalShopInvoiceSaleDetailId","id","dataModel.linkExternalShopInvoiceSaleDetailId",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.rowNumber",1,"color-highlight"],["matInput","","type","number","name","dataModel.rowNumber","id","dataModel.rowNumber",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.fishNumber",1,"color-highlight"],["matInput","","type","text","name","dataModel.fishNumber","minlength","3","maxlength","100","required","","id","dataModel.fishNumber",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.tokenNumber",1,"color-highlight"],["matInput","","type","text","name","dataModel.tokenNumber","minlength","3","maxlength","100","required","","id","dataModel.tokenNumber",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.receiptCode",1,"color-highlight"],["matInput","","type","text","name","dataModel.receiptCode","minlength","3","maxlength","100","required","","id","dataModel.receiptCode",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"value"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=T();r(0,"div",10),S(1,"app-progress-spinner",11),r(2,"div",12)(3,"p",13),d(4),a(),r(5,"p"),d(6),g(7,"translate"),a(),S(8,"app-cms-form-result-message",14),r(9,"form",15,0),C("ngSubmit",function(){return u(s),f(t.onFormSubmit())}),I(11,ma,1,5,"app-cms-enum-record-status-selector",16),r(12,"app-linkmanagement-accounting-selector",17),g(13,"translate"),C("optionChange",function(m){return u(s),f(t.onActionSelectorAccount(m))}),a(),r(14,"div",18)(15,"select",19,1),w("ngModelChange",function(m){return u(s),E(t.dataModel.accountingType,m)||(t.dataModel.accountingType=m),f(m)}),I(17,pa,2,2,"option",20),a(),r(18,"em"),d(19),g(20,"translate"),a(),I(21,ua,5,3,"mat-error",21),a(),I(22,ga,9,6,"div",22),r(23,"div",18)(24,"label",23),d(25),a(),r(26,"input",24,2),g(28,"translate"),w("ngModelChange",function(m){return u(s),E(t.dataModel.debtor,m)||(t.dataModel.debtor=m),f(m)}),a(),I(29,_a,1,0,"i",25)(30,Ma,1,0,"i",26)(31,ha,5,3,"mat-error",21),a(),r(32,"div",18)(33,"label",27),d(34),a(),r(35,"input",28,3),g(37,"translate"),w("ngModelChange",function(m){return u(s),E(t.dataModel.creditor,m)||(t.dataModel.creditor=m),f(m)}),a(),I(38,Sa,1,0,"i",25)(39,ba,1,0,"i",26)(40,Ia,5,3,"mat-error",21),a(),r(41,"div",18)(42,"label",29),d(43),a(),r(44,"input",30,4),w("ngModelChange",function(m){return u(s),E(t.dataModel.linkExternalShopInvoiceSaleDetailId,m)||(t.dataModel.linkExternalShopInvoiceSaleDetailId=m),f(m)}),a()(),r(46,"div",18)(47,"label",31),d(48),a(),r(49,"input",32,5),w("ngModelChange",function(m){return u(s),E(t.dataModel.rowNumber,m)||(t.dataModel.rowNumber=m),f(m)}),a()(),r(51,"div",18)(52,"label",33),d(53),a(),r(54,"input",34,6),w("ngModelChange",function(m){return u(s),E(t.dataModel.fishNumber,m)||(t.dataModel.fishNumber=m),f(m)}),a(),r(56,"em"),d(57),a(),I(58,Ca,5,3,"mat-error",21),a(),r(59,"div",18)(60,"label",35),d(61),a(),r(62,"input",36,7),w("ngModelChange",function(m){return u(s),E(t.dataModel.tokenNumber,m)||(t.dataModel.tokenNumber=m),f(m)}),a(),r(64,"em"),d(65),a(),I(66,va,5,3,"mat-error",21),a(),r(67,"div",18)(68,"label",37),d(69),a(),r(70,"input",38,8),w("ngModelChange",function(m){return u(s),E(t.dataModel.receiptCode,m)||(t.dataModel.receiptCode=m),f(m)}),a(),r(72,"em"),d(73),a(),I(74,Ta,5,3,"mat-error",21),a(),I(75,ya,9,7,"div",39),a()()()}if(i&2){let s=x(16),M=x(27),m=x(36),R=x(55),H=x(63),j=x(71);o(),c("optionsInfoAreaId",t.constructorInfoAreaId),o(3),h(" ",t.formInfo.formTitle," "),o(2),h(" ",_(7,54,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),c("formInfo",t.formInfo),o(3),c("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),o(),c("optionDisabled",!(t.fieldsInfo.linkManagementAccountingId!=null&&t.fieldsInfo.linkManagementAccountingId.accessAddField))("optionSelectForce",t.dataModel.linkManagementAccountingId)("optionPlaceholder",_(13,56,"TITLE.Account")),o(3),y("ngModel",t.dataModel.accountingType),o(2),c("ngForOf",t.dataModelEnumSharingAccountingTypeResult.listItems),o(2),v(_(20,58,"TITLE.Select_type_of_content")),o(2),c("ngIf",s.errors==null?null:s.errors.required),o(),c("ngIf",t.fieldsInfo.description==null?null:t.fieldsInfo.description.accessWatchField),o(3),v(t.fieldsInfo.debtor==null?null:t.fieldsInfo.debtor.fieldTitle),o(),c("placeholder",k(_(28,60,"TITLE.Debtor_Credit"))),y("ngModel",t.dataModel.debtor),o(3),c("ngIf",!M.value),o(),c("ngIf",M.value),o(),c("ngIf",M.errors==null?null:M.errors.required),o(3),v(t.fieldsInfo.creditor==null?null:t.fieldsInfo.creditor.fieldTitle),o(),c("placeholder",k(_(37,62,"TITLE.Creditor_Credit"))),y("ngModel",t.dataModel.creditor),o(3),c("ngIf",!m.value),o(),c("ngIf",m.value),o(),c("ngIf",m.errors==null?null:m.errors.required),o(3),v(t.fieldsInfo.linkExternalShopInvoiceSaleDetailId==null?null:t.fieldsInfo.linkExternalShopInvoiceSaleDetailId.fieldTitle),o(),c("placeholder",k(t.fieldsInfo.linkExternalShopInvoiceSaleDetailId==null?null:t.fieldsInfo.linkExternalShopInvoiceSaleDetailId.fieldTitle)),y("ngModel",t.dataModel.linkExternalShopInvoiceSaleDetailId),o(4),v(t.fieldsInfo.rowNumber==null?null:t.fieldsInfo.rowNumber.fieldTitle),o(),c("placeholder",k(t.fieldsInfo.rowNumber==null?null:t.fieldsInfo.rowNumber.fieldTitle)),y("ngModel",t.dataModel.rowNumber),o(4),v(t.fieldsInfo.fishNumber==null?null:t.fieldsInfo.fishNumber.fieldTitle),o(),c("placeholder",k(t.fieldsInfo.fishNumber==null?null:t.fieldsInfo.fishNumber.fieldTitle)),y("ngModel",t.dataModel.fishNumber),o(3),h("",R.value.length," / 100"),o(),c("ngIf",R.errors==null?null:R.errors.required),o(3),v(t.fieldsInfo.tokenNumber==null?null:t.fieldsInfo.tokenNumber.fieldTitle),o(),c("placeholder",k(t.fieldsInfo.tokenNumber==null?null:t.fieldsInfo.tokenNumber.fieldTitle)),y("ngModel",t.dataModel.tokenNumber),o(3),h("",H.value.length," / 100"),o(),c("ngIf",H.errors==null?null:H.errors.required),o(3),v(t.fieldsInfo.receiptCode==null?null:t.fieldsInfo.receiptCode.fieldTitle),o(),c("placeholder",k(t.fieldsInfo.receiptCode==null?null:t.fieldsInfo.receiptCode.fieldTitle)),y("ngModel",t.dataModel.receiptCode),o(3),h("",j.value.length," / 100"),o(),c("ngIf",j.errors==null?null:j.errors.required),o(),c("ngIf",t.formInfo.submitButtonEnabled)}},dependencies:[je,O,Te,Jt,Xt,U,Ne,Kt,Q,Ce,z,fe,ge,te,ve,ye,G,we,q,Ee,Fe,ln,V],encapsulation:2});var Eo=dn;var Ea=()=>["expandedTitle"],wa=()=>["expandedDetail"],ka=()=>[5,10,20,100],kr=n=>({display:n});function La(n,l){if(n&1){let e=T();r(0,"div",42)(1,"a",43),C("click",function(){u(e);let t=p();return f(t.onActionButtonNewRow())}),S(2,"i",44)(3,"br"),a(),r(4,"p",45),d(5),g(6,"translate"),a()()}n&2&&(o(5),h(" ",_(6,1,"ACTION.ADD")," "))}function Aa(n,l){if(n&1){let e=T();r(0,"div",42)(1,"a",46),C("click",function(){u(e);let t=p();return f(t.onActionButtonEditRow(t.tableRowSelected))}),S(2,"i",47)(3,"br"),a(),r(4,"p",45),d(5),g(6,"translate"),a()()}n&2&&(o(5),h(" ",_(6,1,"ACTION.EDIT")," "))}function xa(n,l){if(n&1){let e=T();r(0,"div",42)(1,"a",48),C("click",function(){u(e);let t=p();return f(t.onActionButtonDeleteRow(t.tableRowSelected))}),S(2,"i",49)(3,"br"),a(),r(4,"p",45),d(5),g(6,"translate"),a()()}n&2&&(o(5),h(" ",_(6,1,"ACTION.DELETE")," "))}function Ra(n,l){n&1&&(r(0,"mat-header-cell"),d(1),g(2,"translate"),a()),n&2&&(o(),h(" ",_(2,1,"TITLE.MENU")," "))}function Da(n,l){if(n&1){let e=T();r(0,"mat-cell")(1,"button",50),C("click",function(){let t=u(e).$implicit,s=p();return f(s.onActionTableRowSelectActionMenu(t))}),S(2,"i",51),a()()}}function Ba(n,l){if(n&1&&(r(0,"mat-header-cell",52),d(1),a()),n&2){let e=p();o(),h(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function Pa(n,l){if(n&1&&(r(0,"mat-cell"),d(1),a()),n&2){let e=l.$implicit;o(),h(" ",e.id," ")}}function Va(n,l){if(n&1&&(r(0,"mat-header-cell",52),d(1),a()),n&2){let e=p();o(),h(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function Na(n,l){if(n&1&&(r(0,"mat-cell"),d(1),g(2,"cmssiteinfo"),g(3,"async"),a()),n&2){let e=l.$implicit;o(),h(" ",_(3,3,_(2,1,e.linkSiteId))," ")}}function Fa(n,l){if(n&1&&(r(0,"mat-header-cell",52),d(1),a()),n&2){let e=p();o(),h(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function Oa(n,l){if(n&1&&S(0,"select",55),n&2){let e=p().$implicit,i=p();c("contentService",i.contentService)("row",e)("ngStyle",Ke(3,kr,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function Ga(n,l){if(n&1&&(r(0,"mat-cell"),S(1,"i",53),g(2,"statusIconClass"),I(3,Oa,1,5,"select",54),a()),n&2){let e=l.$implicit,i=p();o(),c("ngClass",_(2,2,e.recordStatus)),o(2),c("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessEditRow)}}function Wa(n,l){if(n&1&&(r(0,"mat-header-cell",52),d(1),a()),n&2){let e=p();o(),h(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function Ha(n,l){if(n&1&&(r(0,"mat-cell"),d(1),g(2,"localeDate"),a()),n&2){let e=l.$implicit;o(),h(" ",_(2,1,e.createdDate)," ")}}function qa(n,l){if(n&1&&(r(0,"mat-header-cell",52),d(1),a()),n&2){let e=p();o(),h(" ",e.fieldsInfo.updatedDate==null?null:e.fieldsInfo.updatedDate.fieldTitle," ")}}function ja(n,l){if(n&1&&(r(0,"mat-cell"),d(1),g(2,"localeDate"),a()),n&2){let e=l.$implicit;o(),h(" ",_(2,1,e.updatedDate)," ")}}function Ua(n,l){if(n&1&&(r(0,"mat-header-cell",52),d(1),a()),n&2){let e=p();o(),h(" ",e.fieldsInfo.debtor==null?null:e.fieldsInfo.debtor.fieldTitle," ")}}function Qa(n,l){if(n&1&&(r(0,"mat-cell"),d(1),a()),n&2){let e=l.$implicit;o(),h(" ",e.debtor," ")}}function za(n,l){if(n&1&&(r(0,"mat-header-cell",52),d(1),a()),n&2){let e=p();o(),h(" ",e.fieldsInfo.creditor==null?null:e.fieldsInfo.creditor.fieldTitle," ")}}function Ka(n,l){if(n&1&&(r(0,"mat-cell"),d(1),a()),n&2){let e=l.$implicit;o(),h(" ",e.creditor," ")}}function Ja(n,l){n&1&&(r(0,"mat-header-cell"),d(1),g(2,"translate"),a()),n&2&&(o(),h(" ",_(2,1,"TITLE.OPTION")," "))}function Xa(n,l){if(n&1&&(r(0,"mat-cell",56)(1,"button",57)(2,"mat-icon"),d(3,"more_vert"),a()(),S(4,"mat-menu",null,2),a()),n&2){let e=x(5);o(),c("matMenuTriggerFor",e)}}function Ya(n,l){if(n&1&&(r(0,"mat-cell"),d(1),a()),n&2){let e=l.$implicit;o(),h(" ",e.title," ")}}function Za(n,l){if(n&1&&(S(0,"img",62),g(1,"cmsthumbnail")),n&2){let e=p().$implicit;c("src",k(_(1,2,e.linkMainImageIdSrc)),K)}}function $a(n,l){if(n&1&&(r(0,"tr"),S(1,"td"),r(2,"td"),d(3),a()()),n&2){let e=p().$implicit,i=p();o(3),Be(" ",i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle," : ",e.description," ")}}function el(n,l){if(n&1){let e=T();r(0,"mat-cell")(1,"div")(2,"table")(3,"tr")(4,"th"),I(5,Za,2,4,"img",58),a(),r(6,"th"),d(7),r(8,"span",59),C("click",function(){u(e);let t=p();return f(t.onActionCopied())}),S(9,"i",60),a()()(),I(10,$a,4,2,"tr",61),r(11,"tr"),S(12,"td")(13,"td"),a()()()()}if(n&2){let e=l.$implicit;o(5),c("ngIf",(e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0),o(2),h(" ",e.id," "),o(),c("cdkCopyToClipboard",e.id),o(2),c("ngIf",e.description)}}function tl(n,l){n&1&&S(0,"mat-header-row")}function il(n,l){if(n&1){let e=T();r(0,"mat-row",63),C("click",function(t){let s=u(e).$implicit,M=p();return f(M.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=u(e).$implicit,M=p();return f(M.onActionTableRowSelect(s,t))})("mouseenter",function(){let t=u(e).$implicit,s=p();return f(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=u(e).$implicit,s=p();return f(s.onActionTableRowMouseLeave(t))}),a()}if(n&2){let e=l.$implicit,i=p();J("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}function nl(n,l){if(n&1){let e=T();r(0,"mat-row",64),C("click",function(t){let s=u(e).$implicit,M=p();return f(M.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=u(e).$implicit,M=p();return f(M.onActionTableRowSelect(s,t))})("mouseenter",function(){let t=u(e).$implicit,s=p();return f(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=u(e).$implicit,s=p();return f(s.onActionTableRowMouseLeave(t))}),a()}if(n&2){let e=l.$implicit,i=p();J("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}function ol(n,l){if(n&1){let e=T();r(0,"mat-row",65),C("click",function(t){let s=u(e).$implicit,M=p();return f(M.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=u(e).$implicit,M=p();return f(M.onActionTableRowSelect(s,t))})("mouseenter",function(){let t=u(e).$implicit,s=p();return f(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=u(e).$implicit,s=p();return f(s.onActionTableRowMouseLeave(t))}),a()}if(n&2){let e=l.$implicit,i=p();J("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)),c("ngStyle",Ke(3,kr,e.expanded===!0?"":"none"))}}var mn=class mn extends wt{constructor(e,i,t,s,M,m,R,H,j,he,ke){super(e,new ci,he,M,m);this.contentService=e;this.cmsToastrService=i;this.activatedRoute=t;this.router=s;this.tokenHelper=M;this.translate=m;this.cmsStoreService=R;this.cdr=H;this.pageInfo=j;this.publicHelper=he;this.dialog=ke;this.requestLinkManagementAccountingId=0;this.constructorInfoAreaId=this.constructor.name;this.filteModelContent=new Ie;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["id","recordStatus","createdDate","updatedDate","action_menu"];this.tabledisplayedColumnsMobileSource=["id","recordStatus","createdDate","updatedDate","action_menu"];this.unsubscribe=[];if(this.publicHelper.processService.cdr=this.cdr,this.requestLinkManagementAccountingId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkManagementAccountingId")),this.optionsSearch.parentMethods={onSubmit:Le=>this.onSubmitOptionsSearch(Le)},this.filteModelContent.sortColumn="id",this.filteModelContent.sortType=ce.Descending,this.requestLinkManagementAccountingId>0){let Le=new ne;Le.propertyName="LinkManagementAccountingId",Le.value=this.requestLinkManagementAccountingId,this.filteModelContent.filters.push(Le)}}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>Ae(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new ci);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.contentService.setAccessLoad(),this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),t.isSuccess?(this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=ce.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=ce.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=ce.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(){let e=new Yt;e.height="90%",e.disableClose=!0,e.autoFocus=!0,e.data={},this.dialog.open(To,e).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Eo,{height:"90%",panelClass:i,enterAnimationDuration:oe.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:oe.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(s=>{this.cmsToastrService.typeErrorSelected(s)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(yo,{height:"90%",panelClass:i,enterAnimationDuration:oe.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:oe.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate&&this.DataGetAll()})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(m=>{i.set(m,0)}),this.translate.get("MESSAGE.All").subscribe(m=>{i.set(m,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(m=>{this.publicHelper.processService.processStart(t,m,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:m=>{m.isSuccess?(this.translate.get("MESSAGE.All").subscribe(R=>{i.set(R,m.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(m.errorMessage),this.publicHelper.processService.processStop(t)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(t,!1)}});let s=JSON.parse(JSON.stringify(this.filteModelContent)),M=new ne;M.propertyName="recordStatus",M.value=nt.Available,s.filters.push(M),this.contentService.ServiceGetCount(s).subscribe({next:m=>{m.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(R=>{i.set(R,m.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(m.errorMessage),this.publicHelper.processService.processStop(t)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonReload(){this.DataGetAll()}onActionCopied(){this.cmsToastrService.typeSuccessCopedToClipboard()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}};mn.\u0275fac=function(i){return new(i||mn)(b(ni),b(N),b(Xe),b(We),b(qe),b(P),b(He),b(B),b(yt),b(F),b(Qe))},mn.\u0275cmp=D({type:mn,selectors:[["app-linkmanagement-accountingdetail-list"]],standalone:!1,features:[X],decls:68,vars:35,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionActionRowDisplayMenuAct","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","","multiTemplateDataRows","",3,"matSortChange","dataSource"],["matColumnDef","action_menu"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","linkSiteId"],["matColumnDef","recordStatus"],["matColumnDef","createdDate"],["matColumnDef","updatedDate"],["matColumnDef","Debtor"],["matColumnDef","Creditor"],["matColumnDef","Action"],["class","Action",4,"matCellDef"],["matColumnDef","expandedTitle"],["matColumnDef","expandedDetail"],[4,"matHeaderRowDef"],["class","ntk-row-expandedTitle",3,"ntk-row-selected","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["class","ntk-row-expandedDetail",3,"ntk-row-selected","ngStyle","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],[1,"col-4"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"click"],[1,"fa","fa-bars","font-18"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],["style","vertical-align: middle","class","ntk-hover-zoom","aria-hidden","","height","80","width","80",3,"src",4,"ngIf"],[1,"navi-icon","pointer",3,"click","cdkCopyToClipboard"],[1,"flaticon2-copy"],[4,"ngIf"],["aria-hidden","","height","80","width","80",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"ntk-row-expandedTitle",3,"click","rtclick","mouseenter","mouseleave"],[1,"ntk-row-mainfild",3,"click","rtclick","mouseenter","mouseleave"],[1,"ntk-row-expandedDetail",3,"click","rtclick","mouseenter","mouseleave","ngStyle"]],template:function(i,t){if(i&1){let s=T();r(0,"app-cms-html-list",3),w("optionActionGuideNoticeDisplayChange",function(m){return u(s),E(t.viewGuideNotice,m)||(t.viewGuideNotice=m),f(m)}),C("optionOnActionButtonMemoRow",function(){return u(s),f(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return u(s),f(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return u(s),f(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return u(s),f(t.onActionButtonPrintRow())}),L(1,4),d(2," ---------------------- "),A(),Oe(3,5)(4,6),L(5,7),r(6,"a",8),C("click",function(){return u(s),f(t.viewGuideNotice=!t.viewGuideNotice)}),S(7,"i",9),a(),r(8,"a",8),C("click",function(){return u(s),f(t.onActionButtonReload())}),S(9,"i",10),a(),A(),L(10,11),r(11,"a",12),C("click",function(){return u(s),f(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),S(12,"mat-slide-toggle",13),d(13),g(14,"translate"),a(),r(15,"a",12),C("click",function(){return u(s),f(t.onActionButtonStatist())}),S(16,"mat-slide-toggle",13),d(17),g(18,"translate"),a(),A(),L(19,14),I(20,La,7,3,"div",15),A(),L(21,16),I(22,Aa,7,3,"div",15)(23,xa,7,3,"div",15),A(),L(24,17),r(25,"app-cms-search-list",18),w("optionsChange",function(m){return u(s),E(t.optionsSearch,m)||(t.optionsSearch=m),f(m)}),a(),r(26,"app-cms-statist-list",18),w("optionsChange",function(m){return u(s),E(t.optionsStatist,m)||(t.optionsStatist=m),f(m)}),a(),A(),L(27,19),r(28,"mat-table",20,0),C("matSortChange",function(){u(s);let m=x(29);return f(t.onTableSortData(m))}),L(30,21),I(31,Ra,3,3,"mat-header-cell",22)(32,Da,3,0,"mat-cell",23),A(),L(33,24),I(34,Ba,2,1,"mat-header-cell",25)(35,Pa,2,1,"mat-cell",23),A(),L(36,26),I(37,Va,2,1,"mat-header-cell",25)(38,Na,4,5,"mat-cell",23),A(),L(39,27),I(40,Fa,2,1,"mat-header-cell",25)(41,Ga,4,4,"mat-cell",23),A(),L(42,28),I(43,Wa,2,1,"mat-header-cell",25)(44,Ha,3,3,"mat-cell",23),A(),L(45,29),I(46,qa,2,1,"mat-header-cell",25)(47,ja,3,3,"mat-cell",23),A(),L(48,30),I(49,Ua,2,1,"mat-header-cell",25)(50,Qa,2,1,"mat-cell",23),A(),L(51,31),I(52,za,2,1,"mat-header-cell",25)(53,Ka,2,1,"mat-cell",23),A(),L(54,32),I(55,Ja,3,3,"mat-header-cell",22)(56,Xa,6,1,"mat-cell",33),A(),L(57,34),I(58,Ya,2,1,"mat-cell",23),A(),L(59,35),I(60,el,14,4,"mat-cell",23),A(),I(61,tl,1,0,"mat-header-row",36)(62,il,1,2,"mat-row",37)(63,nl,1,2,"mat-row",38)(64,ol,1,5,"mat-row",39),a(),A(),L(65,40),r(66,"mat-paginator",41,1),C("page",function(m){return u(s),f(t.onTablePageingData(m))}),a(),A(),a()}i&2&&(c("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),y("optionActionGuideNoticeDisplay",t.viewGuideNotice),c("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionActionRowDisplayMenuAct",t.tableRowSelectActionMenuClick)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),o(9),J("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(3),c("checked",t.optionsSearch.data.show),o(),h("",_(14,28,"ACTION.SEARCH")," "),o(3),c("checked",t.optionsStatist.data.show),o(),h("",_(18,30,"ACTION.STATIST")," "),o(3),c("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessAddRow),o(2),c("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),o(),c("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),o(2),y("options",t.optionsSearch),o(),y("options",t.optionsStatist),o(2),c("dataSource",t.tableSource),o(33),c("matHeaderRowDef",t.tabledisplayedColumns),o(),c("matRowDefColumns",Ve(32,Ea)),o(),c("matRowDefColumns",t.tabledisplayedColumns),o(),c("matRowDefColumns",Ve(33,wa)),o(2),c("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",Ve(34,ka)))},dependencies:[rt,O,qt,Ue,xe,G,ct,dt,mt,pt,ut,ft,gt,Mt,It,ht,_t,Ct,St,bt,vt,Tt,vi,kt,Lt,At,xt,Zt,Ge,V,Rt,_e,Dt,Bt],encapsulation:2});var ro=mn;var rl=["*"];function al(n,l){if(n&1&&(r(0,"label",12),d(1),a()),n&2){let e=p();c("for",Ht("app-cms-site-selector-",e.id)),o(),v(e.optionLabel)}}function ll(n,l){if(n&1&&(r(0,"mat-option",13)(1,"span"),d(2),a()()),n&2){let e=l.$implicit,i=p();c("value",e)("disabled",i.optionDisabled),o(2),v(i.displayOption(e))}}function sl(n,l){n&1&&S(0,"i",14)}function cl(n,l){n&1&&S(0,"i",15)}function dl(n,l){if(n&1){let e=T();r(0,"i",16),C("click",function(){u(e);let t=p();return f(t.onActionSelectClear())}),a()}}function ml(n,l){n&1&&(r(0,"em"),d(1),g(2,"translate"),a()),n&2&&(o(),h("(",_(2,1,"TITLE.Necessary"),")"))}var Wi=class Wi{constructor(l,e,i,t,s,M){this.coreEnumService=l;this.cmsToastrService=e;this.cdr=i;this.publicHelper=t;this.translate=s;this.categoryService=M;this.id=++Wi.nextId;this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new W;this.dataModelSelect=new Ot;this.formControl=new Ti;this.optionPlaceholder="";this.optionLabel="";this.optionSelectFirstItem=!1;this.optionDisabled=!1;this.optionRequired=!1;this.optionChange=new Je;this.optionReload=()=>this.onActionButtonReload();this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(l){this.onActionSelectForce(l)}ngOnInit(){this.loadOptions(),(!this.optionLabel||this.optionLabel.length==0&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder)}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(Mi(""),gi(1500),_i(),hi(l=>typeof l=="string"||typeof l=="number"?this.DataGetAll(l||""):[]))}displayFn(l){return l?l.id+"":void 0}displayOption(l){return l?l.id+"":void 0}DataGetAll(l){return Ae(this,null,function*(){let e=new Ie;e.rowPerPage=20,e.accessLoad=!0;let i=new ne;i.propertyName="title",i.value=l,i.searchType=jt.Contains,i.clauseType=at.Or,e.filters.push(i),l&&typeof+l=="number"&&+l>0&&(i=new ne,i.propertyName="id",i.value=l,i.searchType=jt.Equal,i.clauseType=at.Or,e.filters.push(i));let t=this.constructor.name+"main";return this.translate.get("MESSAGE.Receiving_information").subscribe(s=>{this.publicHelper.processService.processStart(t,s,this.constructorInfoAreaId)}),yield ui(this.categoryService.ServiceGetAll(e)).then(s=>(this.dataModelResult=s,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||this.dataModelSelect.id<=0)&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0])},1e3),this.onActionSelect(this.dataModelResult.listItems[0])),this.publicHelper.processService.processStop(t),s.listItems))})}onActionSelect(l){this.dataModelSelect=l,this.optionChange.emit(this.dataModelSelect)}onActionSelectClear(){this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null)}push(l){return this.filteredOptions.pipe(fi(e=>(e.find(i=>i.id===l.id)||e.push(l),e)))}onActionSelectForce(l){if(typeof l=="number"&&l>0){if(this.dataModelSelect&&this.dataModelSelect.id===l)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(e=>e.id===l)){let e=this.dataModelResult.listItems.find(i=>i.id===l);this.dataModelSelect=e,this.formControl.setValue(e);return}this.categoryService.ServiceGetOneById(l).subscribe({next:e=>{e.isSuccess?(this.filteredOptions=this.push(e.item),this.dataModelSelect=e.item,this.formControl.setValue(e.item),this.optionChange.emit(e.item)):this.cmsToastrService.typeErrorMessage(e.errorMessage)}});return}if(typeof l==typeof Ot){this.filteredOptions=this.push(l),this.dataModelSelect=l,this.formControl.setValue(l);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new Ot,this.loadOptions()}};Wi.nextId=0,Wi.\u0275fac=function(e){return new(e||Wi)(b(ee),b(N),b(B),b(F),b(P),b(Qt))},Wi.\u0275cmp=D({type:Wi,selectors:[["app-linkmanagement-member-selector"]],inputs:{optionPlaceholder:"optionPlaceholder",optionLabel:"optionLabel",optionSelectFirstItem:"optionSelectFirstItem",optionDisabled:"optionDisabled",optionRequired:"optionRequired",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange"},standalone:!1,ngContentSelectors:rl,decls:15,vars:24,consts:[["matauto","matAutocomplete"],[1,"input-style","has-borders","has-icon","input-style-always-active","validate-field","mb-4","loader-container"],[3,"optionsInfoAreaId"],["class","color-highlight",3,"for",4,"ngIf"],["type","text","aria-label","Assignee","matInput","",3,"placeholder","formControl","matAutocomplete","required","id"],[3,"optionSelected","displayWith"],[3,"value","disabled",4,"ngFor","ngForOf"],["class","fa fa-info invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],["class","fa fa-times action color-red-dark",3,"click",4,"ngIf"],[1,"fa","fa-rotate-right","action","color-green-dark",2,"margin-left","20px",3,"click","title"],[4,"ngIf"],[1,"color-highlight",3,"for"],[3,"value","disabled"],[1,"fa","fa-info","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"fa","fa-times","action","color-red-dark",3,"click"]],template:function(e,i){if(e&1){let t=T();Si(),r(0,"div",1),S(1,"app-progress-spinner",2),I(2,al,2,3,"label",3),S(3,"input",4),r(4,"mat-autocomplete",5,0),C("optionSelected",function(M){return u(t),f(i.onActionSelect(M.option.value))}),I(6,ll,3,3,"mat-option",6),g(7,"async"),a(),I(8,sl,1,0,"i",7)(9,cl,1,0,"i",8)(10,dl,1,0,"i",9),r(11,"i",10),g(12,"translate"),C("click",function(){return u(t),f(i.onActionButtonReload())}),a(),I(13,ml,3,3,"em",11),bi(14),a()}if(e&2){let t=x(5);o(),c("optionsInfoAreaId",i.constructorInfoAreaId),o(),c("ngIf",(i.optionLabel==null?null:i.optionLabel.length)>0),o(),c("placeholder",k(i.optionPlaceholder))("id",Ht("app-cms-site-selector-",i.id))("formControl",i.formControl)("matAutocomplete",t)("required",i.optionRequired),ot("disabled",i.optionDisabled?!0:null),o(),c("displayWith",i.displayFn),o(2),c("ngForOf",_(7,20,i.filteredOptions)),o(2),c("ngIf",!i.formControl.valid),o(),c("ngIf",i.optionRequired&&i.formControl.valid),o(),c("ngIf",(i.dataModelSelect==null?null:i.dataModelSelect.id)>0),o(),J("rotation360",i.publicHelper.processService.process.inRunArea[i.constructorInfoAreaId]),c("title",k(_(12,22,"ACTION.RELOAD"))),o(2),c("ngIf",i.optionRequired&&(!i.dataModelSelect||!i.dataModelSelect.id||i.dataModelSelect.id<=0))}},dependencies:[je,O,U,Q,z,yi,ki,Ei,Li,G,q,Ge,V],encapsulation:2});var li=Wi;var pl=["vform"];function ul(n,l){if(n&1){let e=T();r(0,"app-cms-enum-record-status-selector",31),w("modelChange",function(t){u(e);let s=p();return E(s.dataModel.recordStatus,t)||(s.dataModel.recordStatus=t),f(t)}),a()}if(n&2){let e=p();y("model",e.dataModel.recordStatus),c("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function fl(n,l){if(n&1){let e=T();r(0,"div",32)(1,"div",33)(2,"h5",34),d(3),a()(),r(4,"div",35)(5,"div",36)(6,"input",37),w("ngModelChange",function(t){u(e);let s=p();return E(s.dataModel.isCertainDocument,t)||(s.dataModel.isCertainDocument=t),f(t)}),a(),S(7,"label",38),a()()()}if(n&2){let e=p();o(3),h(" ",e.fieldsInfo.isCertainDocument==null?null:e.fieldsInfo.isCertainDocument.fieldTitle," "),o(3),y("ngModel",e.dataModel.isCertainDocument)}}function gl(n,l){if(n&1&&(r(0,"mat-error"),d(1),r(2,"strong"),d(3),g(4,"translate"),a()()),n&2){let e=p(2);o(),h(" ",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle," is "),o(2),v(_(4,2,"MESSAGE.required"))}}function _l(n,l){if(n&1){let e=T();r(0,"div",16)(1,"label",39),d(2),a(),r(3,"textarea",40,4),w("ngModelChange",function(t){u(e);let s=p();return E(s.dataModel.description,t)||(s.dataModel.description=t),f(t)}),d(5,"        "),a(),r(6,"em"),d(7),a(),I(8,gl,5,4,"mat-error",21),a()}if(n&2){let e=x(4),i=p();o(2),v(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle),o(),c("placeholder",k(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle)),y("ngModel",i.dataModel.description),o(4),h("",e.value.length," / 500"),o(),c("ngIf",e.errors==null?null:e.errors.required)}}function Ml(n,l){n&1&&S(0,"i",41)}function hl(n,l){n&1&&S(0,"i",42)}function Sl(n,l){n&1&&(r(0,"mat-error"),d(1," Debtor is "),r(2,"strong"),d(3),g(4,"translate"),a()()),n&2&&(o(3),v(_(4,1,"MESSAGE.required")))}function bl(n,l){n&1&&S(0,"i",41)}function Il(n,l){n&1&&S(0,"i",42)}function Cl(n,l){n&1&&(r(0,"mat-error"),d(1," Creditor is "),r(2,"strong"),d(3),g(4,"translate"),a()()),n&2&&(o(3),v(_(4,1,"MESSAGE.required")))}function vl(n,l){if(n&1){let e=T();r(0,"div",24)(1,"label",43),d(2),a(),r(3,"input",44),w("ngModelChange",function(t){u(e);let s=p();return E(s.dataModel.endDate,t)||(s.dataModel.endDate=t),f(t)}),a(),S(4,"mat-datepicker-toggle",27)(5,"mat-datepicker",28,5),a()}if(n&2){let e=x(6),i=p();o(2),v(i.fieldsInfo.endDate==null?null:i.fieldsInfo.endDate.fieldTitle),o(),c("matDatepicker",e),y("ngModel",i.dataModel.endDate),o(),c("for",e)}}function Tl(n,l){if(n&1){let e=T();r(0,"div",45)(1,"button",46),C("click",function(){u(e);let t=p();return f(t.onFormCancel())}),S(2,"i",47),d(3),g(4,"translate"),a(),r(5,"button",48),S(6,"i",49),d(7),g(8,"translate"),a()()}if(n&2){p();let e=x(10);o(3),h(" ",_(4,3,"ACTION.CANCEL")," "),o(2),c("disabled",!e.form.valid),o(2),h(" ",_(8,5,"ACTION.SAVE")," ")}}var yn=class yn extends Et{constructor(e,i,t,s,M,m,R,H){super(s,new Ft,m,H);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.categoryService=s;this.cmsToastrService=M;this.publicHelper=m;this.cdr=R;this.translate=H;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new W;this.dataModel=new Ft;this.formInfo=new ie;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.translate.get("TITLE.Register_New_Categories").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess()}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.categoryService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorSelectLinkManagementMemberId(e){if(!e||e.id<=0){this.translate.get("MESSAGE.Type_of_User_account_is_not_known").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkManagementMemberId=e.id}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};yn.\u0275fac=function(i){return new(i||yn)(b(le),b(ae),b(ee),b(Ut),b(N),b(F),b(B),b(P))},yn.\u0275cmp=D({type:yn,selectors:[["app-linkmanagement-accounting-add"]],viewQuery:function(i,t){if(i&1&&Y(pl,5),i&2){let s;Z(s=$())&&(t.formGroup=s.first)}},standalone:!1,features:[X],decls:43,vars:37,consts:[["vform","ngForm"],["Debtor",""],["Creditor",""],["BeginDate",""],["Description",""],["EndDate",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionChange","optionSelectForce","optionPlaceholder"],["class","d-flex mb-3",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.debtor",1,"color-highlight"],["matInput","","type","number","name","dataModel.debtor","minlength","0","required","","id","dataModel.debtor",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","fa fa-times invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],[4,"ngIf"],["for","dataModel.creditor",1,"color-highlight"],["matInput","","type","number","name","dataModel.creditor","minlength","0","required","","id","dataModel.creditor",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],["for","dataModel.beginDate",1,"color-highlight"],["matInput","","name","dataModel.beginDate","id","dataModel.beginDate",1,"form-control","validate-name",3,"ngModelChange","matDatepicker","ngModel"],["matSuffix","",3,"for"],["touchUi",""],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4 cms-input-group",4,"ngIf"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.isCertainDocument",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.isCertainDocument","name","dataModel.isCertainDocument",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.isCertainDocument",1,"custom-control-label"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.endDate",1,"color-highlight"],["matInput","","name","dataModel.endDate","id","dataModel.endDate",1,"form-control","validate-name",3,"ngModelChange","matDatepicker","ngModel"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=T();r(0,"div",6),S(1,"app-progress-spinner",7),r(2,"div",8)(3,"p",9),d(4),a(),r(5,"p"),d(6),g(7,"translate"),a(),S(8,"app-cms-form-result-message",10),r(9,"form",11,0),C("ngSubmit",function(){return u(s),f(t.onFormSubmit())}),I(11,ul,1,5,"app-cms-enum-record-status-selector",12),r(12,"app-linkmanagement-member-selector",13),g(13,"translate"),C("optionChange",function(m){return u(s),f(t.onActionSelectorSelectLinkManagementMemberId(m))}),a(),I(14,fl,8,2,"div",14)(15,_l,9,6,"div",15),r(16,"div",16)(17,"label",17),d(18),a(),r(19,"input",18,1),g(21,"translate"),w("ngModelChange",function(m){return u(s),E(t.dataModel.debtor,m)||(t.dataModel.debtor=m),f(m)}),a(),I(22,Ml,1,0,"i",19)(23,hl,1,0,"i",20)(24,Sl,5,3,"mat-error",21),a(),r(25,"div",16)(26,"label",22),d(27),a(),r(28,"input",23,2),g(30,"translate"),w("ngModelChange",function(m){return u(s),E(t.dataModel.creditor,m)||(t.dataModel.creditor=m),f(m)}),a(),I(31,bl,1,0,"i",19)(32,Il,1,0,"i",20)(33,Cl,5,3,"mat-error",21),a(),r(34,"div",24)(35,"label",25),d(36),a(),r(37,"input",26),w("ngModelChange",function(m){return u(s),E(t.dataModel.beginDate,m)||(t.dataModel.beginDate=m),f(m)}),a(),S(38,"mat-datepicker-toggle",27)(39,"mat-datepicker",28,3),a(),I(41,vl,7,4,"div",29)(42,Tl,9,7,"div",30),a()()()}if(i&2){let s=x(20),M=x(29),m=x(40);o(),c("optionsInfoAreaId",t.constructorInfoAreaId),o(3),h(" ",t.formInfo.formTitle," "),o(2),h(" ",_(7,29,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),c("formInfo",t.formInfo),o(3),c("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),o(),c("optionSelectForce",t.dataModel.linkManagementMemberId)("optionPlaceholder",_(13,31,"TITLE.User_Account")),o(2),c("ngIf",t.fieldsInfo.isCertainDocument==null?null:t.fieldsInfo.isCertainDocument.accessWatchField),o(),c("ngIf",t.fieldsInfo.description==null?null:t.fieldsInfo.description.accessWatchField),o(3),v(t.fieldsInfo.debtor==null?null:t.fieldsInfo.debtor.fieldTitle),o(),c("placeholder",k(_(21,33,"TITLE.Debtor_Credit"))),y("ngModel",t.dataModel.debtor),o(3),c("ngIf",!s.value),o(),c("ngIf",s.value),o(),c("ngIf",s.errors==null?null:s.errors.required),o(3),v(t.fieldsInfo.creditor==null?null:t.fieldsInfo.creditor.fieldTitle),o(),c("placeholder",k(_(30,35,"TITLE.Creditor_Credit"))),y("ngModel",t.dataModel.creditor),o(3),c("ngIf",!M.value),o(),c("ngIf",M.value),o(),c("ngIf",M.errors==null?null:M.errors.required),o(3),v(t.fieldsInfo.beginDate==null?null:t.fieldsInfo.beginDate.fieldTitle),o(),c("matDatepicker",m),y("ngModel",t.dataModel.beginDate),o(),c("for",m),o(3),c("ngIf",t.fieldsInfo.endDate==null?null:t.fieldsInfo.endDate.accessWatchField),o(),c("ngIf",t.formInfo.submitButtonEnabled)}},dependencies:[O,Te,U,Ne,zt,Q,Ce,z,fe,ge,te,ve,Ai,xi,Ri,ye,wi,G,we,q,Ee,Fe,li,V],encapsulation:2});var ko=yn;var yl=["vform"];function El(n,l){if(n&1){let e=T();L(0),r(1,"div",7)(2,"label",8),d(3),a(),r(4,"input",9,0),w("ngModelChange",function(t){u(e);let s=p();return E(s.dataModelResultContent.item.id,t)||(s.dataModelResultContent.item.id=t),f(t)}),a()(),A()}if(n&2){let e=p();o(3),v(e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle),o(),c("placeholder",k(e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle)),y("ngModel",e.dataModelResultContent.item.id)}}function wl(n,l){if(n&1){let e=T();r(0,"div",10)(1,"button",11),C("click",function(){u(e);let t=p();return f(t.onFormDelete())}),S(2,"i",12),d(3),g(4,"translate"),a(),r(5,"button",13),C("click",function(){u(e);let t=p();return f(t.onFormCancel())}),S(6,"i",14),d(7),g(8,"translate"),a()()}if(n&2){let e=p();o(),c("disabled",!e.formInfo.submitButtonEnabled),o(2),h(" ",_(4,3,"ACTION.DELETE")," "),o(4),h(" ",_(8,5,"ACTION.CANCEL")," ")}}var En=class En{constructor(l,e,i,t,s,M,m){this.data=l;this.dialogRef=e;this.publicHelper=i;this.linkManagementAccountingService=t;this.cdr=s;this.cmsToastrService=M;this.translate=m;this.requestId=0;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.dataModelResultContent=new W;this.formInfo=new ie;this.publicHelper.processService.cdr=this.cdr,l&&(this.requestId=+l.id||0)}ngOnInit(){if(this.requestId<=0){this.cmsToastrService.typeErrorDeleteRowIsNull(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOne()}DataGetOne(){if(this.requestId===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.translate.get("TITLE.Loading_Information").subscribe(e=>{this.formInfo.submitResultMessage=e});let l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(l,e,this.constructorInfoAreaId)}),this.linkManagementAccountingService.setAccessLoad(),this.linkManagementAccountingService.setAccessDataType(be.Editor),this.linkManagementAccountingService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModelResultContent=e,e.isSuccess?this.formInfo.submitResultMessage="":(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.formInfo.submitResultMessageType=FormSubmitedStatusEnum.Success,this.cmsToastrService.typeErrorGetOne()),this.publicHelper.processService.processStop(l)},error:e=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessageType=FormSubmitedStatusEnum.Success,this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(l,!1)}})}onFormDelete(){if(this.requestId===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.formInfo.submitButtonEnabled=!1,this.formInfo.submitButtonEnabled=!1;let l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(l,e,this.constructorInfoAreaId)}),this.linkManagementAccountingService.ServiceDelete(this.requestId).subscribe({next:e=>{this.formInfo.submitButtonEnabled=!e.isSuccess,e.isSuccess?(this.translate.get("MESSAGE.Deletion_Was_Successful").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.cmsToastrService.typeSuccessRemove(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.cmsToastrService.typeErrorRemove()),this.formInfo.submitButtonEnabled=!0,this.publicHelper.processService.processStop(l)},error:e=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(e),this.formInfo.submitButtonEnabled=!0,this.publicHelper.processService.processStop(l)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};En.\u0275fac=function(e){return new(e||En)(b(le),b(ae),b(F),b(Ut),b(B),b(N),b(P))},En.\u0275cmp=D({type:En,selectors:[["app-linkmanagement-accounting-delete"]],viewQuery:function(e,i){if(e&1&&Y(yl,5),e&2){let t;Z(t=$())&&(i.formGroup=t.first)}},standalone:!1,decls:12,vars:10,consts:[["Writer",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[4,"ngIf"],["class","form-actions",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModelResultContent.item.id",1,"color-highlight"],["matInput","","name","dataModelResultContent.item.id","type","text","required","","id","dataModelResultContent.item.id","readonly","",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click","disabled"],[1,"fa","fa-check-square-o"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,i){e&1&&(r(0,"div",1),S(1,"app-progress-spinner",2),r(2,"div",3)(3,"p",4),d(4),g(5,"translate"),a(),r(6,"p"),d(7),g(8,"translate"),a(),d(9),I(10,El,6,4,"ng-container",5)(11,wl,9,7,"div",6),a()()),e&2&&(o(),c("optionsInfoAreaId",i.constructorInfoAreaId),o(3),h(" ",_(5,6,"TITLE.EDIT_USER_ACCOUNT")," "),o(3),h(" ",_(8,8,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),h(" ",i.formInfo.formTitle," "),o(),c("ngIf",i.dataModelResultContent==null?null:i.dataModelResultContent.item),o(),c("ngIf",i.formInfo.submitButtonEnabled))},dependencies:[O,U,Q,z,te,G,q,V],encapsulation:2});var Lo=En;var kl=["vform"];function Ll(n,l){if(n&1){let e=T();r(0,"app-cms-enum-record-status-selector",31),w("modelChange",function(t){u(e);let s=p();return E(s.dataModel.recordStatus,t)||(s.dataModel.recordStatus=t),f(t)}),a()}if(n&2){let e=p();y("model",e.dataModel.recordStatus),c("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Al(n,l){if(n&1){let e=T();r(0,"div",32)(1,"div",33)(2,"h5",34),d(3),a()(),r(4,"div",35)(5,"div",36)(6,"input",37),w("ngModelChange",function(t){u(e);let s=p();return E(s.dataModel.isCertainDocument,t)||(s.dataModel.isCertainDocument=t),f(t)}),a(),S(7,"label",38),a()()()}if(n&2){let e=p();o(3),h(" ",e.fieldsInfo.isCertainDocument==null?null:e.fieldsInfo.isCertainDocument.fieldTitle," "),o(3),y("ngModel",e.dataModel.isCertainDocument)}}function xl(n,l){if(n&1&&(r(0,"mat-error"),d(1),r(2,"strong"),d(3),g(4,"translate"),a()()),n&2){let e=p(2);o(),h(" ",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle," is "),o(2),v(_(4,2,"MESSAGE.required"))}}function Rl(n,l){if(n&1){let e=T();r(0,"div",16)(1,"label",39),d(2),a(),r(3,"textarea",40,4),w("ngModelChange",function(t){u(e);let s=p();return E(s.dataModel.description,t)||(s.dataModel.description=t),f(t)}),d(5,"        "),a(),r(6,"em"),d(7),a(),I(8,xl,5,4,"mat-error",21),a()}if(n&2){let e=x(4),i=p();o(2),v(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle),o(),c("placeholder",k(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle)),y("ngModel",i.dataModel.description),o(4),h("",e.value.length," / 500"),o(),c("ngIf",e.errors==null?null:e.errors.required)}}function Dl(n,l){n&1&&S(0,"i",41)}function Bl(n,l){n&1&&S(0,"i",42)}function Pl(n,l){n&1&&(r(0,"mat-error"),d(1," Debtor is "),r(2,"strong"),d(3),g(4,"translate"),a()()),n&2&&(o(3),v(_(4,1,"MESSAGE.required")))}function Vl(n,l){n&1&&S(0,"i",41)}function Nl(n,l){n&1&&S(0,"i",42)}function Fl(n,l){n&1&&(r(0,"mat-error"),d(1," Creditor is "),r(2,"strong"),d(3),g(4,"translate"),a()()),n&2&&(o(3),v(_(4,1,"MESSAGE.required")))}function Ol(n,l){if(n&1){let e=T();r(0,"div",24)(1,"label",43),d(2),a(),r(3,"input",44),w("ngModelChange",function(t){u(e);let s=p();return E(s.dataModel.endDate,t)||(s.dataModel.endDate=t),f(t)}),a(),S(4,"mat-datepicker-toggle",27)(5,"mat-datepicker",28,5),a()}if(n&2){let e=x(6),i=p();o(2),v(i.fieldsInfo.endDate==null?null:i.fieldsInfo.endDate.fieldTitle),o(),c("matDatepicker",e),y("ngModel",i.dataModel.endDate),o(),c("for",e)}}function Gl(n,l){if(n&1){let e=T();r(0,"div",45)(1,"button",46),C("click",function(){u(e);let t=p();return f(t.onFormCancel())}),S(2,"i",47),d(3),g(4,"translate"),a(),r(5,"button",48),S(6,"i",49),d(7),g(8,"translate"),a()()}if(n&2){p();let e=x(10);o(3),h(" ",_(4,3,"ACTION.CANCEL")," "),o(2),c("disabled",!e.form.valid),o(2),h(" ",_(8,5,"ACTION.SAVE")," ")}}var wn=class wn extends et{constructor(e,i,t,s,M,m,R,H){super(s,new Ft,m,H);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.categoryService=s;this.cmsToastrService=M;this.publicHelper=m;this.cdr=R;this.translate=H;this.requestId=0;this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new Ye;this.dataModel=new Ft;this.formInfo=new ie;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=+e.id||0),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.requestId>0)this.translate.get("TITLE.Edit_Categories").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}}DataGetOneContent(){if(this.requestId<=0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.categoryService.setAccessLoad(),this.categoryService.setAccessDataType(be.Editor),this.categoryService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.categoryService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorSelectLinkManagementMemberId(e){if(!e||e.id<=0){this.translate.get("MESSAGE.Type_of_User_account_is_not_known").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkManagementMemberId=e.id}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};wn.\u0275fac=function(i){return new(i||wn)(b(le),b(ae),b(ee),b(Ut),b(N),b(F),b(B),b(P))},wn.\u0275cmp=D({type:wn,selectors:[["app-linkmanagement-accounting-edit"]],viewQuery:function(i,t){if(i&1&&Y(kl,5),i&2){let s;Z(s=$())&&(t.formGroup=s.first)}},standalone:!1,features:[X],decls:43,vars:37,consts:[["vform","ngForm"],["Debtor",""],["Creditor",""],["BeginDate",""],["Description",""],["EndDate",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionChange","optionSelectForce","optionPlaceholder"],["class","d-flex mb-3",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.debtor",1,"color-highlight"],["matInput","","type","number","name","dataModel.debtor","minlength","0","required","","id","dataModel.debtor",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","fa fa-times invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],[4,"ngIf"],["for","dataModel.creditor",1,"color-highlight"],["matInput","","type","number","name","dataModel.creditor","minlength","0","required","","id","dataModel.creditor",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],["for","dataModel.beginDate",1,"color-highlight"],["matInput","","name","dataModel.beginDate","id","dataModel.beginDate",1,"form-control","validate-name",3,"ngModelChange","matDatepicker","ngModel"],["matSuffix","",3,"for"],["touchUi",""],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4 cms-input-group",4,"ngIf"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.isCertainDocument",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.isCertainDocument","name","dataModel.isCertainDocument",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.isCertainDocument",1,"custom-control-label"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.endDate",1,"color-highlight"],["matInput","","name","dataModel.endDate","id","dataModel.endDate",1,"form-control","validate-name",3,"ngModelChange","matDatepicker","ngModel"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=T();r(0,"div",6),S(1,"app-progress-spinner",7),r(2,"div",8)(3,"p",9),d(4),a(),r(5,"p"),d(6),g(7,"translate"),a(),S(8,"app-cms-form-result-message",10),r(9,"form",11,0),C("ngSubmit",function(){return u(s),f(t.onFormSubmit())}),I(11,Ll,1,5,"app-cms-enum-record-status-selector",12),r(12,"app-linkmanagement-member-selector",13),g(13,"translate"),C("optionChange",function(m){return u(s),f(t.onActionSelectorSelectLinkManagementMemberId(m))}),a(),I(14,Al,8,2,"div",14)(15,Rl,9,6,"div",15),r(16,"div",16)(17,"label",17),d(18),a(),r(19,"input",18,1),g(21,"translate"),w("ngModelChange",function(m){return u(s),E(t.dataModel.debtor,m)||(t.dataModel.debtor=m),f(m)}),a(),I(22,Dl,1,0,"i",19)(23,Bl,1,0,"i",20)(24,Pl,5,3,"mat-error",21),a(),r(25,"div",16)(26,"label",22),d(27),a(),r(28,"input",23,2),g(30,"translate"),w("ngModelChange",function(m){return u(s),E(t.dataModel.creditor,m)||(t.dataModel.creditor=m),f(m)}),a(),I(31,Vl,1,0,"i",19)(32,Nl,1,0,"i",20)(33,Fl,5,3,"mat-error",21),a(),r(34,"div",24)(35,"label",25),d(36),a(),r(37,"input",26),w("ngModelChange",function(m){return u(s),E(t.dataModel.beginDate,m)||(t.dataModel.beginDate=m),f(m)}),a(),S(38,"mat-datepicker-toggle",27)(39,"mat-datepicker",28,3),a(),I(41,Ol,7,4,"div",29)(42,Gl,9,7,"div",30),a()()()}if(i&2){let s=x(20),M=x(29),m=x(40);o(),c("optionsInfoAreaId",t.constructorInfoAreaId),o(3),h(" ",t.formInfo.formTitle," "),o(2),h(" ",_(7,29,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),c("formInfo",t.formInfo),o(3),c("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),o(),c("optionSelectForce",t.dataModel.linkManagementMemberId)("optionPlaceholder",_(13,31,"TITLE.User_Account")),o(2),c("ngIf",t.fieldsInfo.isCertainDocument==null?null:t.fieldsInfo.isCertainDocument.accessWatchField),o(),c("ngIf",t.fieldsInfo.description==null?null:t.fieldsInfo.description.accessWatchField),o(3),v(t.fieldsInfo.debtor==null?null:t.fieldsInfo.debtor.fieldTitle),o(),c("placeholder",k(_(21,33,"TITLE.Debtor_Credit"))),y("ngModel",t.dataModel.debtor),o(3),c("ngIf",!s.value),o(),c("ngIf",s.value),o(),c("ngIf",s.errors==null?null:s.errors.required),o(3),v(t.fieldsInfo.creditor==null?null:t.fieldsInfo.creditor.fieldTitle),o(),c("placeholder",k(_(30,35,"TITLE.Creditor_Credit"))),y("ngModel",t.dataModel.creditor),o(3),c("ngIf",!M.value),o(),c("ngIf",M.value),o(),c("ngIf",M.errors==null?null:M.errors.required),o(3),v(t.fieldsInfo.beginDate==null?null:t.fieldsInfo.beginDate.fieldTitle),o(),c("matDatepicker",m),y("ngModel",t.dataModel.beginDate),o(),c("for",m),o(3),c("ngIf",t.fieldsInfo.endDate==null?null:t.fieldsInfo.endDate.accessWatchField),o(),c("ngIf",t.formInfo.submitButtonEnabled)}},dependencies:[O,Te,U,Ne,zt,Q,Ce,z,fe,ge,te,ve,Ai,xi,Ri,ye,wi,G,we,q,Ee,Fe,li,V],encapsulation:2});var Ao=wn;var Wl=()=>["expandedTitle"],Hl=()=>["expandedDetail"],ql=()=>[5,10,20,100],Lr=n=>({display:n});function jl(n,l){if(n&1){let e=T();r(0,"div",17)(1,"a",48),C("click",function(){u(e);let t=p();return f(t.onActionButtonNewRow())}),S(2,"i",49)(3,"br"),a(),r(4,"p",20),d(5),g(6,"translate"),a()()}n&2&&(o(5),h(" ",_(6,1,"ACTION.ADD")," "))}function Ul(n,l){if(n&1){let e=T();r(0,"div",17)(1,"a",8),C("click",function(){u(e);let t=p();return f(t.onActionButtonAccountingDetail())}),S(2,"i",21)(3,"br"),a(),r(4,"p",20),d(5),g(6,"translate"),a()()}n&2&&(o(5),h(" ",_(6,1,"ACTION.DETAILS")," "))}function Ql(n,l){if(n&1){let e=T();r(0,"div",17)(1,"a",50),C("click",function(){u(e);let t=p();return f(t.onActionButtonEditRow(t.tableRowSelected))}),S(2,"i",51)(3,"br"),a(),r(4,"p",20),d(5),g(6,"translate"),a()()}n&2&&(o(5),h(" ",_(6,1,"ACTION.EDIT")," "))}function zl(n,l){if(n&1){let e=T();r(0,"div",17)(1,"a",52),C("click",function(){u(e);let t=p();return f(t.onActionButtonDeleteRow(t.tableRowSelected))}),S(2,"i",53)(3,"br"),a(),r(4,"p",20),d(5),g(6,"translate"),a()()}n&2&&(o(5),h(" ",_(6,1,"ACTION.DELETE")," "))}function Kl(n,l){n&1&&(r(0,"mat-header-cell"),d(1),g(2,"translate"),a()),n&2&&(o(),h(" ",_(2,1,"TITLE.MENU")," "))}function Jl(n,l){if(n&1){let e=T();r(0,"mat-cell")(1,"button",54),C("click",function(){let t=u(e).$implicit,s=p();return f(s.onActionTableRowSelectActionMenu(t))}),S(2,"i",55),a()()}}function Xl(n,l){if(n&1&&(r(0,"mat-header-cell",56),d(1),a()),n&2){let e=p();o(),h(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function Yl(n,l){if(n&1&&(r(0,"mat-cell"),d(1),a()),n&2){let e=l.$implicit;o(),h(" ",e.id," ")}}function Zl(n,l){if(n&1&&(r(0,"mat-header-cell",56),d(1),a()),n&2){let e=p();o(),h(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function $l(n,l){if(n&1&&(r(0,"mat-cell"),d(1),g(2,"cmssiteinfo"),g(3,"async"),a()),n&2){let e=l.$implicit;o(),h(" ",_(3,3,_(2,1,e.linkSiteId))," ")}}function es(n,l){if(n&1&&(r(0,"mat-header-cell",56),d(1),a()),n&2){let e=p();o(),h(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function ts(n,l){if(n&1&&S(0,"select",59),n&2){let e=p().$implicit,i=p();c("contentService",i.contentService)("row",e)("ngStyle",Ke(3,Lr,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function is(n,l){if(n&1&&(r(0,"mat-cell"),S(1,"i",57),g(2,"statusIconClass"),I(3,ts,1,5,"select",58),a()),n&2){let e=l.$implicit,i=p();o(),c("ngClass",_(2,2,e.recordStatus)),o(2),c("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessEditRow)}}function ns(n,l){if(n&1&&(r(0,"mat-header-cell",56),d(1),a()),n&2){let e=p();o(),h(" ",e.fieldsInfo.linkManagementMemberId==null?null:e.fieldsInfo.linkManagementMemberId.fieldTitle," ")}}function os(n,l){if(n&1&&(r(0,"mat-cell"),d(1),a()),n&2){let e=l.$implicit;o(),h(" ",e.linkManagementMemberId," ")}}function rs(n,l){if(n&1&&(r(0,"mat-header-cell",56),d(1),a()),n&2){let e=p();o(),h(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function as(n,l){if(n&1&&(r(0,"mat-cell"),d(1),g(2,"localeDate"),a()),n&2){let e=l.$implicit;o(),h(" ",_(2,1,e.createdDate)," ")}}function ls(n,l){if(n&1&&(r(0,"mat-header-cell",56),d(1),a()),n&2){let e=p();o(),h(" ",e.fieldsInfo.updatedDate==null?null:e.fieldsInfo.updatedDate.fieldTitle," ")}}function ss(n,l){if(n&1&&(r(0,"mat-cell"),d(1),g(2,"localeDate"),a()),n&2){let e=l.$implicit;o(),h(" ",_(2,1,e.updatedDate)," ")}}function cs(n,l){if(n&1&&(r(0,"mat-header-cell",56),d(1),a()),n&2){let e=p();o(),h(" ",e.fieldsInfo.debtor==null?null:e.fieldsInfo.debtor.fieldTitle," ")}}function ds(n,l){if(n&1&&(r(0,"mat-cell"),d(1),a()),n&2){let e=l.$implicit;o(),h(" ",e.debtor," ")}}function ms(n,l){if(n&1&&(r(0,"mat-header-cell",56),d(1),a()),n&2){let e=p();o(),h(" ",e.fieldsInfo.creditor==null?null:e.fieldsInfo.creditor.fieldTitle," ")}}function ps(n,l){if(n&1&&(r(0,"mat-cell"),d(1),a()),n&2){let e=l.$implicit;o(),h(" ",e.creditor," ")}}function us(n,l){n&1&&(r(0,"mat-header-cell"),d(1),g(2,"translate"),a()),n&2&&(o(),h(" ",_(2,1,"TITLE.OPTION")," "))}function fs(n,l){if(n&1&&(r(0,"mat-cell",60)(1,"button",61)(2,"mat-icon"),d(3,"more_vert"),a()(),S(4,"mat-menu",null,2),a()),n&2){let e=x(5);o(),c("matMenuTriggerFor",e)}}function gs(n,l){if(n&1&&(r(0,"mat-cell"),d(1),g(2,"translate"),g(3,"localeDate"),S(4,"br"),d(5),g(6,"translate"),g(7,"localeDate"),a()),n&2){let e=l.$implicit;o(),Be(" ",_(2,4,"TITLE.CreationDate")," : ",_(3,6,e.createdDate)," "),o(4),Be(" ",_(6,8,"TITLE.DateOfUpdate")," : ",_(7,10,e.updatedDate)," ")}}function _s(n,l){if(n&1&&(S(0,"img",66),g(1,"cmsthumbnail")),n&2){let e=p().$implicit;c("src",k(_(1,2,e.linkMainImageIdSrc)),K)}}function Ms(n,l){if(n&1&&(r(0,"tr"),S(1,"td"),r(2,"td"),d(3),a()()),n&2){let e=p().$implicit,i=p();o(3),Be(" ",i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle," : ",e.description," ")}}function hs(n,l){if(n&1&&(r(0,"tr"),S(1,"td"),r(2,"td"),d(3),g(4,"localeDate"),a()()),n&2){let e=p().$implicit,i=p();o(3),Be(" ",i.fieldsInfo.beginDate==null?null:i.fieldsInfo.beginDate.fieldTitle," : ",_(4,2,e.beginDate)," ")}}function Ss(n,l){if(n&1&&(r(0,"tr"),S(1,"td"),r(2,"td"),d(3),g(4,"localeDate"),a()()),n&2){let e=p().$implicit,i=p();o(3),Be(" ",i.fieldsInfo.endDate==null?null:i.fieldsInfo.endDate.fieldTitle," : ",_(4,2,e.endDate)," ")}}function bs(n,l){if(n&1){let e=T();r(0,"mat-cell")(1,"div")(2,"table")(3,"tr")(4,"th"),I(5,_s,2,4,"img",62),a(),r(6,"th")(7,"span",63),C("click",function(){u(e);let t=p();return f(t.onActionCopied())}),S(8,"i",64),a(),d(9),a()(),I(10,Ms,4,2,"tr",65)(11,hs,5,4,"tr",65)(12,Ss,5,4,"tr",65),r(13,"tr"),S(14,"td")(15,"td"),a()()()()}if(n&2){let e=l.$implicit;o(5),c("ngIf",(e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0),o(2),c("cdkCopyToClipboard",e.id),o(2),h(" ",e.id," "),o(),c("ngIf",e.description),o(),c("ngIf",e.beginDate),o(),c("ngIf",e.endDate)}}function Is(n,l){n&1&&S(0,"mat-header-row")}function Cs(n,l){if(n&1){let e=T();r(0,"mat-row",67),C("click",function(t){let s=u(e).$implicit,M=p();return f(M.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=u(e).$implicit,M=p();return f(M.onActionTableRowSelect(s,t))})("mouseenter",function(){let t=u(e).$implicit,s=p();return f(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=u(e).$implicit,s=p();return f(s.onActionTableRowMouseLeave(t))}),a()}if(n&2){let e=l.$implicit,i=p();J("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}function vs(n,l){if(n&1){let e=T();r(0,"mat-row",68),C("click",function(t){let s=u(e).$implicit,M=p();return f(M.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=u(e).$implicit,M=p();return f(M.onActionTableRowSelect(s,t))})("mouseenter",function(){let t=u(e).$implicit,s=p();return f(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=u(e).$implicit,s=p();return f(s.onActionTableRowMouseLeave(t))}),a()}if(n&2){let e=l.$implicit,i=p();J("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}function Ts(n,l){if(n&1){let e=T();r(0,"mat-row",69),C("click",function(t){let s=u(e).$implicit,M=p();return f(M.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=u(e).$implicit,M=p();return f(M.onActionTableRowSelect(s,t))})("mouseenter",function(){let t=u(e).$implicit,s=p();return f(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=u(e).$implicit,s=p();return f(s.onActionTableRowMouseLeave(t))}),a()}if(n&2){let e=l.$implicit,i=p();J("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)),c("ngStyle",Ke(3,Lr,e.expanded===!0?"":"none"))}}var kn=class kn extends wt{constructor(e,i,t,s,M,m,R,H,j,he){super(e,new Ft,j,s,m);this.contentService=e;this.cmsToastrService=i;this.router=t;this.tokenHelper=s;this.cdr=M;this.translate=m;this.cmsStoreService=R;this.pageInfo=H;this.publicHelper=j;this.dialog=he;this.constructorInfoAreaId=this.constructor.name;this.filteModelContent=new Ie;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["id","recordStatus","LinkManagementMemberId","Debtor","Creditor","action_menu"];this.tabledisplayedColumnsMobileSource=["id","recordStatus","LinkManagementMemberId","Debtor","Creditor","action_menu"];this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:ke=>this.onSubmitOptionsSearch(ke)},this.filteModelContent.sortColumn="id",this.filteModelContent.sortType=ce.Descending}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>Ae(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Ft);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.contentService.setAccessLoad(),this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),t.isSuccess?(this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=ce.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=ce.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=ce.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(){let e=new Yt;e.height="90%",e.disableClose=!0,e.autoFocus=!0,e.data={},this.dialog.open(ko,e).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Ao,{height:"90%",panelClass:i,enterAnimationDuration:oe.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:oe.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(s=>{this.cmsToastrService.typeErrorSelected(s)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Lo,{height:"90%",panelClass:i,enterAnimationDuration:oe.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:oe.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate&&this.DataGetAll()})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(m=>{i.set(m,0)}),this.translate.get("MESSAGE.All").subscribe(m=>{i.set(m,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(m=>{this.publicHelper.processService.processStart(t,m,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:m=>{m.isSuccess?(this.translate.get("MESSAGE.All").subscribe(R=>{i.set(R,m.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(m.errorMessage),this.publicHelper.processService.processStop(t)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(t,!1)}});let s=JSON.parse(JSON.stringify(this.filteModelContent)),M=new ne;M.propertyName="recordStatus",M.value=nt.Available,s.filters.push(M),this.contentService.ServiceGetCount(s).subscribe({next:m=>{m.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(R=>{i.set(R,m.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(m.errorMessage),this.publicHelper.processService.processStop(t)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonReload(){this.DataGetAll()}onActionCopied(){this.cmsToastrService.typeSuccessCopedToClipboard()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionButtonAccountingDetail(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.onActionTableRowSelect(e),this.router.navigate(["/linkmanagement/accountingdetail/LinkManagementAccountingId",this.tableRowSelected.id])}};kn.\u0275fac=function(i){return new(i||kn)(b(Ut),b(N),b(We),b(qe),b(B),b(P),b(He),b(yt),b(F),b(Qe))},kn.\u0275cmp=D({type:kn,selectors:[["app-linkmanagement-accounting-list"]],standalone:!1,features:[X],decls:86,vars:42,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionActionRowDisplayMenuAct","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-chart-simple","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-memo-circle-info","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","","multiTemplateDataRows","",3,"matSortChange","dataSource"],["matColumnDef","action_menu"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","linkSiteId"],["matColumnDef","recordStatus"],["matColumnDef","LinkManagementMemberId"],["matColumnDef","createdDate"],["matColumnDef","updatedDate"],["matColumnDef","Debtor"],["matColumnDef","Creditor"],["matColumnDef","Action"],["class","Action",4,"matCellDef"],["matColumnDef","expandedTitle"],["matColumnDef","expandedDetail"],[4,"matHeaderRowDef"],["class","ntk-row-expandedTitle",3,"ntk-row-selected","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["class","ntk-row-expandedDetail",3,"ntk-row-selected","ngStyle","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"click"],[1,"fa","fa-bars","font-18"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],["style","vertical-align: middle","class","ntk-hover-zoom","aria-hidden","","height","80","width","80",3,"src",4,"ngIf"],[1,"navi-icon","pointer",3,"click","cdkCopyToClipboard"],[1,"flaticon2-copy"],[4,"ngIf"],["aria-hidden","","height","80","width","80",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"ntk-row-expandedTitle",3,"click","rtclick","mouseenter","mouseleave"],[1,"ntk-row-mainfild",3,"click","rtclick","mouseenter","mouseleave"],[1,"ntk-row-expandedDetail",3,"click","rtclick","mouseenter","mouseleave","ngStyle"]],template:function(i,t){if(i&1){let s=T();r(0,"app-cms-html-list",3),w("optionActionGuideNoticeDisplayChange",function(m){return u(s),E(t.viewGuideNotice,m)||(t.viewGuideNotice=m),f(m)}),C("optionOnActionButtonMemoRow",function(){return u(s),f(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return u(s),f(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return u(s),f(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return u(s),f(t.onActionButtonPrintRow())}),L(1,4),d(2," ---------------------- "),A(),Oe(3,5)(4,6),L(5,7),r(6,"a",8),C("click",function(){return u(s),f(t.viewGuideNotice=!t.viewGuideNotice)}),S(7,"i",9),a(),r(8,"a",8),C("click",function(){return u(s),f(t.onActionButtonReload())}),S(9,"i",10),a(),A(),L(10,11),r(11,"a",12),C("click",function(){return u(s),f(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),S(12,"mat-slide-toggle",13),d(13),g(14,"translate"),a(),r(15,"a",12),C("click",function(){return u(s),f(t.onActionButtonStatist())}),S(16,"mat-slide-toggle",13),d(17),g(18,"translate"),a(),A(),L(19,14),I(20,jl,7,3,"div",15)(21,Ul,7,3,"div",15),A(),L(22,16),I(23,Ql,7,3,"div",15)(24,zl,7,3,"div",15),r(25,"div",17)(26,"a",18),C("click",function(){return u(s),f(t.onActionButtonComment(t.tableRowSelected))}),S(27,"i",19)(28,"br"),a(),r(29,"p",20),d(30),g(31,"translate"),a()(),r(32,"div",17)(33,"a",18),C("click",function(){return u(s),f(t.onActionButtonAccountingDetail(t.tableRowSelected))}),S(34,"i",21)(35,"br"),a(),r(36,"p",20),d(37),g(38,"translate"),a()(),A(),L(39,22),r(40,"app-cms-search-list",23),w("optionsChange",function(m){return u(s),E(t.optionsSearch,m)||(t.optionsSearch=m),f(m)}),a(),r(41,"app-cms-statist-list",23),w("optionsChange",function(m){return u(s),E(t.optionsStatist,m)||(t.optionsStatist=m),f(m)}),a(),A(),L(42,24),r(43,"mat-table",25,0),C("matSortChange",function(){u(s);let m=x(44);return f(t.onTableSortData(m))}),L(45,26),I(46,Kl,3,3,"mat-header-cell",27)(47,Jl,3,0,"mat-cell",28),A(),L(48,29),I(49,Xl,2,1,"mat-header-cell",30)(50,Yl,2,1,"mat-cell",28),A(),L(51,31),I(52,Zl,2,1,"mat-header-cell",30)(53,$l,4,5,"mat-cell",28),A(),L(54,32),I(55,es,2,1,"mat-header-cell",30)(56,is,4,4,"mat-cell",28),A(),L(57,33),I(58,ns,2,1,"mat-header-cell",30)(59,os,2,1,"mat-cell",28),A(),L(60,34),I(61,rs,2,1,"mat-header-cell",30)(62,as,3,3,"mat-cell",28),A(),L(63,35),I(64,ls,2,1,"mat-header-cell",30)(65,ss,3,3,"mat-cell",28),A(),L(66,36),I(67,cs,2,1,"mat-header-cell",30)(68,ds,2,1,"mat-cell",28),A(),L(69,37),I(70,ms,2,1,"mat-header-cell",30)(71,ps,2,1,"mat-cell",28),A(),L(72,38),I(73,us,3,3,"mat-header-cell",27)(74,fs,6,1,"mat-cell",39),A(),L(75,40),I(76,gs,8,12,"mat-cell",28),A(),L(77,41),I(78,bs,16,6,"mat-cell",28),A(),I(79,Is,1,0,"mat-header-row",42)(80,Cs,1,2,"mat-row",43)(81,vs,1,2,"mat-row",44)(82,Ts,1,5,"mat-row",45),a(),A(),L(83,46),r(84,"mat-paginator",47,1),C("page",function(m){return u(s),f(t.onTablePageingData(m))}),a(),A(),a()}i&2&&(c("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),y("optionActionGuideNoticeDisplay",t.viewGuideNotice),c("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionActionRowDisplayMenuAct",t.tableRowSelectActionMenuClick)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),o(9),J("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(3),c("checked",t.optionsSearch.data.show),o(),h("",_(14,31,"ACTION.SEARCH")," "),o(3),c("checked",t.optionsStatist.data.show),o(),h("",_(18,33,"ACTION.STATIST")," "),o(3),c("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessAddRow),o(),c("ngIf",(t.tableRowSelected==null?null:t.tableRowSelected.id)>0),o(2),c("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),o(),c("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),o(6),h(" ",_(31,35,"ACTION.STATIST")," "),o(7),h(" ",_(38,37,"ACTION.DETAILS")," "),o(3),y("options",t.optionsSearch),o(),y("options",t.optionsStatist),o(2),c("dataSource",t.tableSource),o(36),c("matHeaderRowDef",t.tabledisplayedColumns),o(),c("matRowDefColumns",Ve(39,Wl)),o(),c("matRowDefColumns",t.tabledisplayedColumns),o(),c("matRowDefColumns",Ve(40,Hl)),o(2),c("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",Ve(41,ql)))},dependencies:[rt,O,qt,Ue,xe,G,ct,dt,mt,pt,ut,ft,gt,Mt,It,ht,_t,Ct,St,bt,vt,Tt,vi,kt,Lt,At,xt,Zt,Ge,V,Rt,_e,Dt,Bt],encapsulation:2});var xo=kn;var ys=["vform"];function Es(n,l){if(n&1){let e=T();r(0,"app-cms-enum-record-status-selector",42),w("modelChange",function(t){u(e);let s=p();return E(s.dataModel.recordStatus,t)||(s.dataModel.recordStatus=t),f(t)}),a()}if(n&2){let e=p();y("model",e.dataModel.recordStatus),c("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function ws(n,l){n&1&&S(0,"i",43)}function ks(n,l){n&1&&S(0,"i",44)}function Ls(n,l){if(n&1&&(r(0,"mat-error"),d(1),r(2,"strong"),d(3),g(4,"translate"),a()()),n&2){let e=p();o(),h(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," is "),o(2),v(_(4,2,"MESSAGE.required"))}}function As(n,l){if(n&1&&(r(0,"option",45),d(1),a()),n&2){let e=l.$implicit;c("value",e.value),o(),h(" ",e.description," ")}}function xs(n,l){n&1&&(r(0,"mat-error"),d(1," SettingType is "),r(2,"strong"),d(3),g(4,"translate"),a()()),n&2&&(o(3),v(_(4,1,"MESSAGE.required")))}function Rs(n,l){if(n&1&&(r(0,"option",45),d(1),a()),n&2){let e=l.$implicit;c("value",e.value),o(),h(" ",e.description," ")}}function Ds(n,l){n&1&&(r(0,"mat-error"),d(1," SharingLinkType is "),r(2,"strong"),d(3),g(4,"translate"),a()()),n&2&&(o(3),v(_(4,1,"MESSAGE.required")))}function Bs(n,l){n&1&&S(0,"i",43)}function Ps(n,l){n&1&&S(0,"i",44)}function Vs(n,l){n&1&&(r(0,"mat-error"),d(1," ClickPrice is "),r(2,"strong"),d(3),g(4,"translate"),a()()),n&2&&(o(3),v(_(4,1,"MESSAGE.required")))}function Ns(n,l){n&1&&S(0,"i",43)}function Fs(n,l){n&1&&S(0,"i",44)}function Os(n,l){n&1&&(r(0,"mat-error"),d(1," ViewPrice is "),r(2,"strong"),d(3),g(4,"translate"),a()()),n&2&&(o(3),v(_(4,1,"MESSAGE.required")))}function Gs(n,l){n&1&&S(0,"i",43)}function Ws(n,l){n&1&&S(0,"i",44)}function Hs(n,l){n&1&&(r(0,"mat-error"),d(1," Width is "),r(2,"strong"),d(3),g(4,"translate"),a()()),n&2&&(o(3),v(_(4,1,"MESSAGE.required")))}function qs(n,l){n&1&&S(0,"i",43)}function js(n,l){n&1&&S(0,"i",44)}function Us(n,l){n&1&&(r(0,"mat-error"),d(1," Height is "),r(2,"strong"),d(3),g(4,"translate"),a()()),n&2&&(o(3),v(_(4,1,"MESSAGE.required")))}function Qs(n,l){n&1&&(r(0,"mat-error"),d(1," PatternScript is "),r(2,"strong"),d(3),g(4,"translate"),a()()),n&2&&(o(3),v(_(4,1,"MESSAGE.required")))}function zs(n,l){if(n&1&&(S(0,"img",46),g(1,"cmsthumbnail")),n&2){let e=p();c("src",k(_(1,2,e.dataModel.linkMainImageIdSrc)),K)}}function Ks(n,l){if(n&1){let e=T();r(0,"div",18)(1,"label",47),C("click",function(){u(e);let t=p();return f(t.fileManagerOpenForm=!0)}),d(2),g(3,"translate"),a(),r(4,"input",48,9),g(6,"translate"),w("ngModelChange",function(t){u(e);let s=p();return E(s.dataModel.linkMainImageId,t)||(s.dataModel.linkMainImageId=t),f(t)}),C("click",function(){u(e);let t=p();return f(t.fileManagerOpenForm=!0)}),a(),r(7,"cms-file-manager",49),C("itemSelected",function(t){u(e);let s=p();return f(s.onActionFileSelected(t))}),w("openFormChange",function(t){u(e);let s=p();return E(s.fileManagerOpenForm,t)||(s.fileManagerOpenForm=t),f(t)}),a()()}if(n&2){let e=p();o(2),v(_(3,12,"TITLE.EXAMPLE_OF_BANNER_PHOTO")),o(2),c("placeholder",k(_(6,14,"TITLE.ID_OF_BANNER_PHOTO_FILE"))),y("ngModel",e.dataModel.linkMainImageId),o(3),c("language",e.appLanguage)("isPopup",!0)("openDirectUploadView",!0),y("openForm",e.fileManagerOpenForm),c("tree",e.fileManagerTree)("openFilemanagerButtonLabelKey","select")("selectFileType",e.selectFileTypeMainImage)("openFilemanagerButtonView",!1)}}function Js(n,l){if(n&1&&(S(0,"img",46),g(1,"cmsthumbnail")),n&2){let e=p();c("src",k(_(1,2,e.dataModel.linkBackgroundIdSrc)),K)}}function Xs(n,l){if(n&1){let e=T();r(0,"div",18)(1,"label",50),C("click",function(){u(e);let t=p();return f(t.fileManagerOpenForm=!0)}),d(2),g(3,"translate"),a(),r(4,"input",51,10),g(6,"translate"),w("ngModelChange",function(t){u(e);let s=p();return E(s.dataModel.linkBackgroundId,t)||(s.dataModel.linkBackgroundId=t),f(t)}),C("click",function(){u(e);let t=p();return f(t.fileManagerOpenForm=!0)}),a(),r(7,"cms-file-manager",49),C("itemSelected",function(t){u(e);let s=p();return f(s.onActionFileSelectedLinkBackgroundId(t))}),w("openFormChange",function(t){u(e);let s=p();return E(s.fileManagerOpenForm,t)||(s.fileManagerOpenForm=t),f(t)}),a()()}if(n&2){let e=p();o(2),v(_(3,12,"TITLE.BANNER_BACKGROUND")),o(2),c("placeholder",k(_(6,14,"TITLE.ID_OF_BANNER_BACKGROUND_FILE"))),y("ngModel",e.dataModel.linkBackgroundId),o(3),c("language",e.appLanguage)("isPopup",!0)("openDirectUploadView",!0),y("openForm",e.fileManagerOpenForm),c("tree",e.fileManagerTree)("openFilemanagerButtonLabelKey","select")("selectFileType",e.selectFileTypeMainImage)("openFilemanagerButtonView",!1)}}function Ys(n,l){if(n&1){let e=T();r(0,"div",52)(1,"button",53),C("click",function(){u(e);let t=p();return f(t.onFormCancel())}),S(2,"i",54),d(3),g(4,"translate"),a(),r(5,"button",55),S(6,"i",56),d(7),g(8,"translate"),a()()}if(n&2){p();let e=x(10);o(3),h(" ",_(4,3,"ACTION.CANCEL")," "),o(2),c("disabled",!e.form.valid),o(2),h(" ",_(8,5,"ACTION.SAVE")," ")}}var Ln=class Ln extends Et{constructor(e,i,t,s,M,m,R,H,j){super(s,new Ze,R,j);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.categoryService=s;this.linkManagementEnumService=M;this.cmsToastrService=m;this.publicHelper=R;this.cdr=H;this.translate=j;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new W;this.dataModel=new Ze;this.formInfo=new ie;this.dataModelEnumManagementContentSettingTypeResult=new W;this.dataModelEnumSharingPriceTypeResult=new W;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}onActionFileSelected(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}onActionFileSelectedLinkBackgroundId(e){this.dataModel.linkBackgroundId=e.id,this.dataModel.linkBackgroundIdSrc=e.downloadLinksrc}ngOnInit(){this.translate.get("TITLE.Register_New_Categories").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess(),this.getEnumSharingPriceType(),this.getEnumManagementContentSettingType()}getEnumManagementContentSettingType(){this.linkManagementEnumService.ServiceManagementContentSettingTypeEnum().subscribe(e=>{this.dataModelEnumManagementContentSettingTypeResult=e})}getEnumSharingPriceType(){this.linkManagementEnumService.ServiceSharingPriceTypeEnum().subscribe(e=>{this.dataModelEnumSharingPriceTypeResult=e})}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.categoryService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Ln.\u0275fac=function(i){return new(i||Ln)(b(le),b(ae),b(ee),b(lt),b(ze),b(N),b(F),b(B),b(P))},Ln.\u0275cmp=D({type:Ln,selectors:[["app-linkmanagement-billboard-pattern-add"]],viewQuery:function(i,t){if(i&1&&Y(ys,5),i&2){let s;Z(s=$())&&(t.formGroup=s.first)}},standalone:!1,features:[X],decls:92,vars:78,consts:[["vform","ngForm"],["Title",""],["SettingType","ngModel"],["SharingLinkType","ngModel"],["ClickPrice",""],["ViewPrice",""],["Width",""],["Height",""],["PatternScript",""],["LinkMainImageId",""],["LinkBackgroundId",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","fa fa-times invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],[4,"ngIf"],["id","dataModel.settingType","name","dataModel.settingType",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],["id","dataModel.sharingLinkType","name","dataModel.sharingLinkType",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.clickPrice",1,"color-highlight"],["matInput","","type","number","name","dataModel.clickPrice","minlength","0","required","","id","dataModel.clickPrice",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.viewPrice",1,"color-highlight"],["matInput","","type","number","name","dataModel.viewPrice","minlength","0","required","","id","dataModel.viewPrice",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.width",1,"color-highlight"],["matInput","","type","number","name","dataModel.width","minlength","0","required","","id","dataModel.width",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.height",1,"color-highlight"],["matInput","","type","number","name","dataModel.height","minlength","0","required","","id","dataModel.height",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.patternScript",1,"color-highlight"],["matInput","","name","dataModel.patternScript","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.patternScript",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align: middle","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[3,"value"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openDirectUploadView","openForm","tree","openFilemanagerButtonLabelKey","selectFileType","openFilemanagerButtonView"],["for","dataModel.linkBackgroundId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkBackgroundId","autocomplete","off","id","dataModel.linkBackgroundId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=T();r(0,"div",11),S(1,"app-progress-spinner",12),r(2,"div",13)(3,"p",14),d(4),a(),r(5,"p"),d(6),g(7,"translate"),a(),S(8,"app-cms-form-result-message",15),r(9,"form",16,0),C("ngSubmit",function(){return u(s),f(t.onFormSubmit())}),I(11,Es,1,5,"app-cms-enum-record-status-selector",17),r(12,"div",18)(13,"label",19),d(14),a(),r(15,"input",20,1),w("ngModelChange",function(m){return u(s),E(t.dataModel.title,m)||(t.dataModel.title=m),f(m)}),a(),I(17,ws,1,0,"i",21)(18,ks,1,0,"i",22),r(19,"em"),d(20),a(),I(21,Ls,5,4,"mat-error",23),a(),r(22,"div",18)(23,"select",24,2),w("ngModelChange",function(m){return u(s),E(t.dataModel.settingType,m)||(t.dataModel.settingType=m),f(m)}),I(25,As,2,2,"option",25),a(),r(26,"em"),d(27),g(28,"translate"),a(),I(29,xs,5,3,"mat-error",23),a(),r(30,"div",18)(31,"select",26,3),w("ngModelChange",function(m){return u(s),E(t.dataModel.sharingLinkType,m)||(t.dataModel.sharingLinkType=m),f(m)}),I(33,Rs,2,2,"option",25),a(),r(34,"em"),d(35),g(36,"translate"),a(),I(37,Ds,5,3,"mat-error",23),a(),r(38,"div",18)(39,"label",27),d(40),a(),r(41,"input",28,4),g(43,"translate"),w("ngModelChange",function(m){return u(s),E(t.dataModel.clickPrice,m)||(t.dataModel.clickPrice=m),f(m)}),a(),I(44,Bs,1,0,"i",21)(45,Ps,1,0,"i",22)(46,Vs,5,3,"mat-error",23),a(),r(47,"div",18)(48,"label",29),d(49),a(),r(50,"input",30,5),g(52,"translate"),w("ngModelChange",function(m){return u(s),E(t.dataModel.viewPrice,m)||(t.dataModel.viewPrice=m),f(m)}),a(),I(53,Ns,1,0,"i",21)(54,Fs,1,0,"i",22)(55,Os,5,3,"mat-error",23),a(),r(56,"div",18)(57,"label",31),d(58),a(),r(59,"input",32,6),g(61,"translate"),w("ngModelChange",function(m){return u(s),E(t.dataModel.width,m)||(t.dataModel.width=m),f(m)}),a(),I(62,Gs,1,0,"i",21)(63,Ws,1,0,"i",22)(64,Hs,5,3,"mat-error",23),a(),r(65,"div",18)(66,"label",33),d(67),a(),r(68,"input",34,7),g(70,"translate"),w("ngModelChange",function(m){return u(s),E(t.dataModel.height,m)||(t.dataModel.height=m),f(m)}),a(),I(71,qs,1,0,"i",21)(72,js,1,0,"i",22)(73,Us,5,3,"mat-error",23),a(),r(74,"div",18)(75,"label",35),d(76),a(),r(77,"textarea",36,8),w("ngModelChange",function(m){return u(s),E(t.dataModel.patternScript,m)||(t.dataModel.patternScript=m),f(m)}),d(79,"        "),a(),r(80,"em"),d(81),a(),I(82,Qs,5,3,"mat-error",23),a(),r(83,"div",37)(84,"a",38),g(85,"cmsthumbnail"),I(86,zs,2,4,"img",39),a()(),I(87,Ks,8,16,"div",40),r(88,"div",37),I(89,Js,2,4,"img",39),a(),I(90,Xs,8,16,"div",40)(91,Ys,9,7,"div",41),a()()()}if(i&2){let s=x(16),M=x(24),m=x(32),R=x(42),H=x(51),j=x(60),he=x(69),ke=x(78);o(),c("optionsInfoAreaId",t.constructorInfoAreaId),o(3),h(" ",t.formInfo.formTitle," "),o(2),h(" ",_(7,62,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),c("formInfo",t.formInfo),o(3),c("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),o(3),v(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),c("placeholder",k(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),y("ngModel",t.dataModel.title),o(2),c("ngIf",!s.value),o(),c("ngIf",s.value),o(2),h("",s.value.length," / 100"),o(),c("ngIf",s.errors==null?null:s.errors.required),o(2),y("ngModel",t.dataModel.settingType),o(2),c("ngForOf",t.dataModelEnumManagementContentSettingTypeResult.listItems),o(2),v(_(28,64,"TITLE.Select_type_of_content")),o(2),c("ngIf",M.errors==null?null:M.errors.required),o(2),y("ngModel",t.dataModel.sharingLinkType),o(2),c("ngForOf",t.dataModelEnumSharingPriceTypeResult.listItems),o(2),v(_(36,66,"TITLE.Select_type_of_content")),o(2),c("ngIf",m.errors==null?null:m.errors.required),o(3),v(t.fieldsInfo.clickPrice==null?null:t.fieldsInfo.clickPrice.fieldTitle),o(),c("placeholder",k(_(43,68,"TITLE.Amount_Per_Click"))),y("ngModel",t.dataModel.clickPrice),o(3),c("ngIf",!R.value),o(),c("ngIf",R.value),o(),c("ngIf",R.errors==null?null:R.errors.required),o(3),v(t.fieldsInfo.viewPrice==null?null:t.fieldsInfo.viewPrice.fieldTitle),o(),c("placeholder",k(_(52,70,"TITLE.Amount_Per_Show"))),y("ngModel",t.dataModel.viewPrice),o(3),c("ngIf",!H.value),o(),c("ngIf",H.value),o(),c("ngIf",H.errors==null?null:H.errors.required),o(3),v(t.fieldsInfo.width==null?null:t.fieldsInfo.width.fieldTitle),o(),c("placeholder",k(_(61,72,"TITLE.Width"))),y("ngModel",t.dataModel.width),o(3),c("ngIf",!j.value),o(),c("ngIf",j.value),o(),c("ngIf",j.errors==null?null:j.errors.required),o(3),v(t.fieldsInfo.height==null?null:t.fieldsInfo.height.fieldTitle),o(),c("placeholder",k(_(70,74,"TITLE.length"))),y("ngModel",t.dataModel.height),o(3),c("ngIf",!he.value),o(),c("ngIf",he.value),o(),c("ngIf",he.errors==null?null:he.errors.required),o(3),v(t.fieldsInfo.patternScript==null?null:t.fieldsInfo.patternScript.fieldTitle),o(),c("placeholder",k(t.fieldsInfo.patternScript==null?null:t.fieldsInfo.patternScript.fieldTitle)),y("ngModel",t.dataModel.patternScript),o(4),h("",ke.value.length," / 500"),o(),c("ngIf",ke.errors==null?null:ke.errors.required),o(2),c("href",k(_(85,76,t.dataModel.linkMainImageIdSrc)),K),o(2),c("ngIf",(t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0),o(),c("ngIf",t.fieldsInfo.linkMainImageId==null?null:t.fieldsInfo.linkMainImageId.accessWatchField),o(2),c("ngIf",(t.dataModel==null||t.dataModel.linkBackgroundIdSrc==null?null:t.dataModel.linkBackgroundIdSrc.length)>0),o(),c("ngIf",t.fieldsInfo.linkMainImageId==null?null:t.fieldsInfo.linkMainImageId.accessWatchField),o(),c("ngIf",t.formInfo.submitButtonEnabled)}},dependencies:[je,O,Te,Jt,Xt,U,Ne,Kt,Q,Ce,z,fe,ge,te,ve,ye,G,we,q,Ee,Fe,$e,V,_e],encapsulation:2});var An=Ln;var Zs=["*"];function $s(n,l){if(n&1&&(r(0,"label",14),d(1),a()),n&2){let e=p();c("for",Ht("app-cms-site-selector-",e.id)),o(),v(e.optionLabel)}}function ec(n,l){if(n&1&&(S(0,"img",15),g(1,"cmsthumbnail")),n&2){let e=p();c("src",k(_(1,2,e.dataModelSelect==null?null:e.dataModelSelect.linkMainImageIdSrc)),K)}}function tc(n,l){if(n&1&&(S(0,"img",15),g(1,"cmsthumbnail")),n&2){let e=p().$implicit;c("src",k(_(1,2,e.linkMainImageIdSrc)),K)}}function ic(n,l){if(n&1&&(r(0,"mat-option",16),I(1,tc,2,4,"img",5),r(2,"span"),d(3),a()()),n&2){let e=l.$implicit,i=p();c("value",e)("disabled",i.optionDisabled),o(),c("ngIf",e.linkMainImageIdSrc),o(2),v(i.displayOption(e))}}function nc(n,l){n&1&&S(0,"i",17)}function oc(n,l){n&1&&S(0,"i",18)}function rc(n,l){if(n&1){let e=T();r(0,"i",19),C("click",function(){u(e);let t=p();return f(t.onActionSelectClear())}),a()}}function ac(n,l){n&1&&(r(0,"em"),d(1),g(2,"translate"),a()),n&2&&(o(),h("(",_(2,1,"TITLE.Necessary"),")"))}var Hi=class Hi{constructor(l,e,i,t,s,M,m){this.coreEnumService=l;this.cmsToastrService=e;this.cdr=i;this.publicHelper=t;this.translate=s;this.linkManagementEnumService=M;this.categoryService=m;this.id=++Hi.nextId;this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new W;this.dataModelSelect=new Ze;this.formControl=new Ti;this.dataModelManagementContentSettingTypeEnumResult=new W;this.optionPlaceholder="";this.optionSelectFirstItem=!1;this.optionDisabled=!1;this.optionRequired=!1;this.optionLabel="";this.optionChange=new Je;this.optionReload=()=>this.onActionButtonReload();this.publicHelper.processService.cdr=this.cdr,this.getManagementContentSettingTypeEnum()}getManagementContentSettingTypeEnum(){this.linkManagementEnumService.ServiceManagementContentSettingTypeEnum().subscribe({next:l=>{this.dataModelManagementContentSettingTypeEnumResult=l}})}set optionSelectForce(l){this.onActionSelectForce(l)}ngOnInit(){this.loadOptions(),(!this.optionLabel||this.optionLabel.length==0&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder)}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(Mi(""),gi(1500),_i(),hi(l=>typeof l=="string"||typeof l=="number"?this.DataGetAll(l||""):[]))}displayFn(l){if(this.dataModelManagementContentSettingTypeEnumResult?.listItems&&this.dataModelManagementContentSettingTypeEnumResult.listItems.length>0){let e=this.dataModelManagementContentSettingTypeEnumResult.listItems.find(i=>i.key===l.settingType.toString()||i.value===l.settingType);if(e)return l?l.title+"-"+e.description:void 0}return l?l.title:void 0}displayOption(l){if(this.dataModelManagementContentSettingTypeEnumResult?.listItems&&this.dataModelManagementContentSettingTypeEnumResult.listItems.length>0){let e=this.dataModelManagementContentSettingTypeEnumResult.listItems.find(i=>i.key===l.settingType.toString()||i.value===l.settingType);if(e)return l?l.title+"-"+e.description:void 0}return l?l.title:void 0}DataGetAll(l){return Ae(this,null,function*(){let e=new Ie;e.rowPerPage=20,e.accessLoad=!0;let i=new ne;i.propertyName="title",i.value=l,i.searchType=jt.Contains,i.clauseType=at.Or,e.filters.push(i),l&&typeof+l=="number"&&+l>0&&(i=new ne,i.propertyName="id",i.value=l,i.searchType=jt.Equal,i.clauseType=at.Or,e.filters.push(i));let t=this.constructor.name+"main";return this.translate.get("MESSAGE.Receiving_information").subscribe(s=>{this.publicHelper.processService.processStart(t,s,this.constructorInfoAreaId)}),yield ui(this.categoryService.ServiceGetAll(e)).then(s=>(this.dataModelResult=s,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||this.dataModelSelect.id<=0)&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0])},1e3),this.onActionSelect(this.dataModelResult.listItems[0])),this.publicHelper.processService.processStop(t),s.listItems))})}onActionSelect(l){this.dataModelSelect=l,this.optionChange.emit(this.dataModelSelect)}onActionSelectClear(){this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null)}push(l){return this.filteredOptions.pipe(fi(e=>(e.find(i=>i.id===l.id)||e.push(l),e)))}onActionSelectForce(l){if(typeof l=="number"&&l>0){if(this.dataModelSelect&&this.dataModelSelect.id===l)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(e=>e.id===l)){let e=this.dataModelResult.listItems.find(i=>i.id===l);this.dataModelSelect=e,this.formControl.setValue(e);return}this.categoryService.ServiceGetOneById(l).subscribe({next:e=>{e.isSuccess?(this.filteredOptions=this.push(e.item),this.dataModelSelect=e.item,this.formControl.setValue(e.item),this.optionChange.emit(e.item)):this.cmsToastrService.typeErrorMessage(e.errorMessage)}});return}if(typeof l==typeof Ze){this.filteredOptions=this.push(l),this.dataModelSelect=l,this.formControl.setValue(l);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new Ze,this.loadOptions()}};Hi.nextId=0,Hi.\u0275fac=function(e){return new(e||Hi)(b(ee),b(N),b(B),b(F),b(P),b(ze),b(lt))},Hi.\u0275cmp=D({type:Hi,selectors:[["app-linkmanagement-billboard-pattern-selector"]],inputs:{optionPlaceholder:"optionPlaceholder",optionSelectFirstItem:"optionSelectFirstItem",optionDisabled:"optionDisabled",optionRequired:"optionRequired",optionLabel:"optionLabel",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange"},standalone:!1,ngContentSelectors:Zs,decls:18,vars:25,consts:[["matauto","matAutocomplete"],[1,"input-style","has-borders","has-icon","input-style-always-active","validate-field","mb-4","loader-container"],[3,"optionsInfoAreaId"],["class","color-highlight",3,"for",4,"ngIf"],["matPrefix",""],["style","vertical-align: middle","class","ntk-hover-zoom","aria-hidden","","height","25","width","25",3,"src",4,"ngIf"],["type","text","aria-label","Assignee","matInput","",3,"placeholder","formControl","matAutocomplete","required","id"],[3,"optionSelected","displayWith"],[3,"value","disabled",4,"ngFor","ngForOf"],["class","fa fa-info invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],["class","fa fa-times action color-red-dark",3,"click",4,"ngIf"],[1,"fa","fa-rotate-right","action","color-green-dark",2,"margin-left","20px",3,"click","title"],[4,"ngIf"],[1,"color-highlight",3,"for"],["aria-hidden","","height","25","width","25",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"value","disabled"],[1,"fa","fa-info","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"fa","fa-times","action","color-red-dark",3,"click"]],template:function(e,i){if(e&1){let t=T();Si(),r(0,"div",1),S(1,"app-progress-spinner",2),I(2,$s,2,3,"label",3),r(3,"span",4),I(4,ec,2,4,"img",5),d(5," \xA0"),a(),S(6,"input",6),r(7,"mat-autocomplete",7,0),C("optionSelected",function(M){return u(t),f(i.onActionSelect(M.option.value))}),I(9,ic,4,4,"mat-option",8),g(10,"async"),a(),I(11,nc,1,0,"i",9)(12,oc,1,0,"i",10)(13,rc,1,0,"i",11),r(14,"i",12),g(15,"translate"),C("click",function(){return u(t),f(i.onActionButtonReload())}),a(),I(16,ac,3,3,"em",13),bi(17),a()}if(e&2){let t=x(8);o(),c("optionsInfoAreaId",i.constructorInfoAreaId),o(),c("ngIf",(i.optionLabel==null?null:i.optionLabel.length)>0),o(2),c("ngIf",i.dataModelSelect&&(i.dataModelSelect==null?null:i.dataModelSelect.linkMainImageIdSrc)),o(2),c("placeholder",k(i.optionPlaceholder))("id",Ht("app-cms-site-selector-",i.id))("formControl",i.formControl)("matAutocomplete",t)("required",i.optionRequired),ot("disabled",i.optionDisabled?!0:null),o(),c("displayWith",i.displayFn),o(2),c("ngForOf",_(10,21,i.filteredOptions)),o(2),c("ngIf",!i.formControl.valid),o(),c("ngIf",i.optionRequired&&i.formControl.valid),o(),c("ngIf",(i.dataModelSelect==null?null:i.dataModelSelect.id)>0),o(),J("rotation360",i.publicHelper.processService.process.inRunArea[i.constructorInfoAreaId]),c("title",k(_(15,23,"ACTION.RELOAD"))),o(2),c("ngIf",i.optionRequired&&(!i.dataModelSelect||!i.dataModelSelect.id||i.dataModelSelect.id<=0))}},dependencies:[je,O,U,Q,z,yi,ki,Ei,Li,_o,G,q,Ge,V,_e],encapsulation:2});var $t=Hi;var lc=["vform"];function sc(n,l){if(n&1){let e=T();L(0),r(1,"div",7)(2,"label",8),d(3),a(),r(4,"input",9,0),w("ngModelChange",function(t){u(e);let s=p();return E(s.dataModelResultCategory.item.title,t)||(s.dataModelResultCategory.item.title=t),f(t)}),a()(),S(6,"app-linkmanagement-billboard-pattern-selector",10),g(7,"translate"),A()}if(n&2){let e=p();o(3),v(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),o(),c("placeholder",k(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle)),y("ngModel",e.dataModelResultCategory.item.title),o(2),c("optionPlaceholder",_(7,5,"TITLE.Alternative_classification_to_move_information_to_this_branch"))}}function cc(n,l){if(n&1){let e=T();r(0,"div",11)(1,"button",12),C("click",function(){u(e);let t=p();return f(t.onFormCancel())}),S(2,"i",13),d(3),g(4,"translate"),a(),r(5,"button",14),C("click",function(){u(e);let t=p();return f(t.onFormDelete())}),S(6,"i",15),d(7),g(8,"translate"),a(),r(9,"button",16),C("click",function(){u(e);let t=p();return f(t.onFormMove())}),S(10,"i",13),d(11),g(12,"translate"),a()()}if(n&2){let e=p();o(3),h(" ",_(4,5,"ACTION.CANCEL")," "),o(2),c("disabled",!e.formInfo.submitButtonEnabled),o(2),h(" ",_(8,7,"ACTION.DELETE")," "),o(2),c("disabled",!e.formInfo.submitButtonEnabled),o(2),h(" ",_(12,9,"TITLE.MOVE_DATA")," ")}}var xn=class xn{constructor(l,e,i,t,s,M,m){this.data=l;this.dialogRef=e;this.publicHelper=i;this.categoryService=t;this.cdr=s;this.translate=M;this.cmsToastrService=m;this.requestId=0;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.dataModelResultCategory=new W;this.dataModelResultCategoryAllData=new W;this.dataModel={};this.formInfo=new ie;this.publicHelper.processService.cdr=this.cdr,l&&(this.requestId=+l.id||0)}ngOnInit(){if(this.requestId<=0){this.cmsToastrService.typeErrorDeleteRowIsNull(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOne(),this.DataGetAll()}DataGetOne(){if(this.requestId===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.translate.get("TITLE.Loading_Information").subscribe(e=>{this.formInfo.submitResultMessage=e});let l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(l,e,this.constructorInfoAreaId)}),this.categoryService.setAccessLoad(),this.categoryService.setAccessDataType(be.Editor),this.categoryService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModelResultCategory=e,e.isSuccess?this.formInfo.submitResultMessage="":(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.formInfo.submitResultMessageType=FormSubmitedStatusEnum.Success,this.cmsToastrService.typeErrorGetOne()),this.publicHelper.processService.processStop(l)},error:e=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessageType=FormSubmitedStatusEnum.Success,this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(l,!1)}})}DataGetAll(){this.translate.get("TITLE.Loading_Information").subscribe(i=>{this.formInfo.submitResultMessage=i});let l=new Ie;l.rowPerPage=100;let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.categoryService.ServiceGetAll(l).subscribe({next:i=>{this.dataModelResultCategoryAllData=i,i.isSuccess?this.formInfo.submitResultMessage="":(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=FormSubmitedStatusEnum.Success,this.cmsToastrService.typeErrorGetAll()),this.publicHelper.processService.processStop(e)},error:i=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessageType=FormSubmitedStatusEnum.Success,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormMove(){if(this.requestId===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}if(!this.formGroup.valid)return;this.formInfo.submitButtonEnabled=!0,this.dataModel.newCatId===this.requestId&&(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.translate.get("ERRORMESSAGE.MESSAGE.The_delete_category_ID_is_the_same_as_the_alternate_category").subscribe(e=>{this.formInfo.submitResultMessage=e,this.formInfo.submitButtonEnabled=!0})),this.formInfo.submitButtonEnabled=!1;let l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(l,e,this.constructorInfoAreaId)})}onFormDelete(){if(this.requestId===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.formInfo.submitButtonEnabled=!1,this.formInfo.submitButtonEnabled=!1;let l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(l,e,this.constructorInfoAreaId)}),this.categoryService.ServiceDelete(this.requestId).subscribe({next:e=>{this.formInfo.submitButtonEnabled=!e.isSuccess,e.isSuccess?(this.translate.get("MESSAGE.Deletion_Was_Successful").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.cmsToastrService.typeSuccessRemove(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.cmsToastrService.typeErrorRemove()),this.formInfo.submitButtonEnabled=!0,this.publicHelper.processService.processStop(l)},error:e=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(e),this.formInfo.submitButtonEnabled=!0,this.publicHelper.processService.processStop(l)}})}onFormChangeNewCatId(l){if(this.formInfo.submitResultMessage="",this.requestId===0||!l||l.id<=0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.dataModel.newCatId=l.id,this.dataModel.newCatId===this.requestId?(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.translate.get("ERRORMESSAGE.MESSAGE.The_delete_category_ID_is_the_same_as_the_alternate_category").subscribe(e=>{this.formInfo.submitResultMessage=e,this.formInfo.submitButtonEnabled=!1})):(this.formInfo.submitButtonEnabled=!0,this.formInfo.submitResultMessage="")}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};xn.\u0275fac=function(e){return new(e||xn)(b(le),b(ae),b(F),b(lt),b(B),b(P),b(N))},xn.\u0275cmp=D({type:xn,selectors:[["app-linkmanagement-billboard-pattern-delete"]],viewQuery:function(e,i){if(e&1&&Y(lc,5),e&2){let t;Z(t=$())&&(i.formGroup=t.first)}},standalone:!1,decls:12,vars:10,consts:[["Title",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[4,"ngIf"],["class","form-actions",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModelResultCategory.item.title",1,"color-highlight"],["matInput","","name","dataModelResultCategory.item.title","type","text","minlength","3","maxlength","50","required","","id","dataModelResultCategory.item.title","readonly","",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[3,"optionPlaceholder"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click","disabled"],[1,"fa","fa-check-square-o"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click","disabled"]],template:function(e,i){e&1&&(r(0,"div",1),S(1,"app-progress-spinner",2),r(2,"div",3)(3,"p",4),d(4),g(5,"translate"),a(),r(6,"p"),d(7),g(8,"translate"),a(),d(9),I(10,sc,8,7,"ng-container",5)(11,cc,13,11,"div",6),a()()),e&2&&(o(),c("optionsInfoAreaId",i.constructorInfoAreaId),o(3),h(" ",_(5,6,"TITLE.EDIT_USER_ACCOUNT")," "),o(3),h(" ",_(8,8,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),h(" ",i.formInfo.formTitle," "),o(),c("ngIf",i.dataModelResultCategory==null?null:i.dataModelResultCategory.item),o(),c("ngIf",i.formInfo.submitButtonEnabled))},dependencies:[O,U,Q,z,fe,ge,te,G,q,$t,V],encapsulation:2});var Rn=xn;var dc=["vform"];function mc(n,l){if(n&1){let e=T();r(0,"app-cms-enum-record-status-selector",42),w("modelChange",function(t){u(e);let s=p();return E(s.dataModel.recordStatus,t)||(s.dataModel.recordStatus=t),f(t)}),a()}if(n&2){let e=p();y("model",e.dataModel.recordStatus),c("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function pc(n,l){n&1&&S(0,"i",43)}function uc(n,l){n&1&&S(0,"i",44)}function fc(n,l){if(n&1&&(r(0,"mat-error"),d(1),r(2,"strong"),d(3),g(4,"translate"),a()()),n&2){let e=p();o(),h(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," is "),o(2),v(_(4,2,"MESSAGE.required"))}}function gc(n,l){if(n&1&&(r(0,"option",45),d(1),a()),n&2){let e=l.$implicit;c("value",e.value),o(),h(" ",e.description," ")}}function _c(n,l){n&1&&(r(0,"mat-error"),d(1," SettingType is "),r(2,"strong"),d(3),g(4,"translate"),a()()),n&2&&(o(3),v(_(4,1,"MESSAGE.required")))}function Mc(n,l){if(n&1&&(r(0,"option",45),d(1),a()),n&2){let e=l.$implicit;c("value",e.value),o(),h(" ",e.description," ")}}function hc(n,l){n&1&&(r(0,"mat-error"),d(1," SharingLinkType is "),r(2,"strong"),d(3),g(4,"translate"),a()()),n&2&&(o(3),v(_(4,1,"MESSAGE.required")))}function Sc(n,l){n&1&&S(0,"i",43)}function bc(n,l){n&1&&S(0,"i",44)}function Ic(n,l){n&1&&(r(0,"mat-error"),d(1," ClickPrice is "),r(2,"strong"),d(3),g(4,"translate"),a()()),n&2&&(o(3),v(_(4,1,"MESSAGE.required")))}function Cc(n,l){n&1&&S(0,"i",43)}function vc(n,l){n&1&&S(0,"i",44)}function Tc(n,l){n&1&&(r(0,"mat-error"),d(1," ViewPrice is "),r(2,"strong"),d(3),g(4,"translate"),a()()),n&2&&(o(3),v(_(4,1,"MESSAGE.required")))}function yc(n,l){n&1&&S(0,"i",43)}function Ec(n,l){n&1&&S(0,"i",44)}function wc(n,l){n&1&&(r(0,"mat-error"),d(1," Width is "),r(2,"strong"),d(3),g(4,"translate"),a()()),n&2&&(o(3),v(_(4,1,"MESSAGE.required")))}function kc(n,l){n&1&&S(0,"i",43)}function Lc(n,l){n&1&&S(0,"i",44)}function Ac(n,l){n&1&&(r(0,"mat-error"),d(1," Height is "),r(2,"strong"),d(3),g(4,"translate"),a()()),n&2&&(o(3),v(_(4,1,"MESSAGE.required")))}function xc(n,l){n&1&&(r(0,"mat-error"),d(1," PatternScript is "),r(2,"strong"),d(3),g(4,"translate"),a()()),n&2&&(o(3),v(_(4,1,"MESSAGE.required")))}function Rc(n,l){if(n&1&&(S(0,"img",46),g(1,"cmsthumbnail")),n&2){let e=p();c("src",k(_(1,2,e.dataModel.linkMainImageIdSrc)),K)}}function Dc(n,l){if(n&1){let e=T();r(0,"div",18)(1,"label",47),C("click",function(){u(e);let t=p();return f(t.fileManagerOpenForm=!0)}),d(2),g(3,"translate"),a(),r(4,"input",48,9),g(6,"translate"),w("ngModelChange",function(t){u(e);let s=p();return E(s.dataModel.linkMainImageId,t)||(s.dataModel.linkMainImageId=t),f(t)}),C("click",function(){u(e);let t=p();return f(t.fileManagerOpenForm=!0)}),a(),r(7,"cms-file-manager",49),C("itemSelected",function(t){u(e);let s=p();return f(s.onActionFileSelected(t))}),w("openFormChange",function(t){u(e);let s=p();return E(s.fileManagerOpenForm,t)||(s.fileManagerOpenForm=t),f(t)}),a()()}if(n&2){let e=p();o(2),v(_(3,12,"TITLE.EXAMPLE_OF_BANNER_PHOTO")),o(2),c("placeholder",k(_(6,14,"TITLE.ID_OF_BANNER_PHOTO_FILE"))),y("ngModel",e.dataModel.linkMainImageId),o(3),c("language",e.appLanguage)("isPopup",!0)("openDirectUploadView",!0),y("openForm",e.fileManagerOpenForm),c("tree",e.fileManagerTree)("openFilemanagerButtonLabelKey","select")("selectFileType",e.selectFileTypeMainImage)("openFilemanagerButtonView",!1)}}function Bc(n,l){if(n&1&&(S(0,"img",46),g(1,"cmsthumbnail")),n&2){let e=p();c("src",k(_(1,2,e.dataModel.linkBackgroundIdSrc)),K)}}function Pc(n,l){if(n&1){let e=T();r(0,"div",18)(1,"label",50),C("click",function(){u(e);let t=p();return f(t.fileManagerOpenForm=!0)}),d(2),g(3,"translate"),a(),r(4,"input",51,10),g(6,"translate"),w("ngModelChange",function(t){u(e);let s=p();return E(s.dataModel.linkBackgroundId,t)||(s.dataModel.linkBackgroundId=t),f(t)}),C("click",function(){u(e);let t=p();return f(t.fileManagerOpenForm=!0)}),a(),r(7,"cms-file-manager",49),C("itemSelected",function(t){u(e);let s=p();return f(s.onActionFileSelectedLinkBackgroundId(t))}),w("openFormChange",function(t){u(e);let s=p();return E(s.fileManagerOpenForm,t)||(s.fileManagerOpenForm=t),f(t)}),a()()}if(n&2){let e=p();o(2),v(_(3,12,"TITLE.BANNER_BACKGROUND")),o(2),c("placeholder",k(_(6,14,"TITLE.ID_OF_BANNER_BACKGROUND_FILE"))),y("ngModel",e.dataModel.linkBackgroundId),o(3),c("language",e.appLanguage)("isPopup",!0)("openDirectUploadView",!0),y("openForm",e.fileManagerOpenForm),c("tree",e.fileManagerTree)("openFilemanagerButtonLabelKey","select")("selectFileType",e.selectFileTypeMainImage)("openFilemanagerButtonView",!1)}}function Vc(n,l){if(n&1){let e=T();r(0,"div",52)(1,"button",53),C("click",function(){u(e);let t=p();return f(t.onFormCancel())}),S(2,"i",54),d(3),g(4,"translate"),a(),r(5,"button",55),S(6,"i",56),d(7),g(8,"translate"),a()()}if(n&2){p();let e=x(10);o(3),h(" ",_(4,3,"ACTION.CANCEL")," "),o(2),c("disabled",!e.form.valid),o(2),h(" ",_(8,5,"ACTION.SAVE")," ")}}var Dn=class Dn extends et{constructor(e,i,t,s,M,m,R,H,j){super(s,new Ze,R,j);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.categoryService=s;this.linkManagementEnumService=M;this.cmsToastrService=m;this.publicHelper=R;this.cdr=H;this.translate=j;this.requestId=0;this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new Ye;this.dataModel=new Ze;this.formInfo=new ie;this.dataModelEnumManagementContentSettingTypeResult=new W;this.dataModelEnumSharingPriceTypeResult=new W;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=+e.id||0),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}onActionFileSelected(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}onActionFileSelectedLinkBackgroundId(e){this.dataModel.linkBackgroundId=e.id,this.dataModel.linkBackgroundIdSrc=e.downloadLinksrc}ngOnInit(){if(this.requestId>0)this.translate.get("TITLE.Edit_Categories").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.getEnumSharingPriceType(),this.getEnumManagementContentSettingType()}getEnumManagementContentSettingType(){this.linkManagementEnumService.ServiceManagementContentSettingTypeEnum().subscribe(e=>{this.dataModelEnumManagementContentSettingTypeResult=e})}getEnumSharingPriceType(){this.linkManagementEnumService.ServiceSharingPriceTypeEnum().subscribe(e=>{this.dataModelEnumSharingPriceTypeResult=e})}DataGetOneContent(){if(this.requestId<=0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.categoryService.setAccessLoad(),this.categoryService.setAccessDataType(be.Editor),this.categoryService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.categoryService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Dn.\u0275fac=function(i){return new(i||Dn)(b(le),b(ae),b(ee),b(lt),b(ze),b(N),b(F),b(B),b(P))},Dn.\u0275cmp=D({type:Dn,selectors:[["app-linkmanagement-billboard-pattern-edit"]],viewQuery:function(i,t){if(i&1&&Y(dc,5),i&2){let s;Z(s=$())&&(t.formGroup=s.first)}},standalone:!1,features:[X],decls:92,vars:78,consts:[["vform","ngForm"],["Title",""],["SettingType","ngModel"],["SharingLinkType","ngModel"],["ClickPrice",""],["ViewPrice",""],["Width",""],["Height",""],["PatternScript",""],["LinkMainImageId",""],["LinkBackgroundId",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","fa fa-times invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],[4,"ngIf"],["id","dataModel.settingType","name","dataModel.settingType",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],["id","dataModel.sharingLinkType","name","dataModel.sharingLinkType",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.clickPrice",1,"color-highlight"],["matInput","","type","number","name","dataModel.clickPrice","minlength","0","required","","id","dataModel.clickPrice",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.viewPrice",1,"color-highlight"],["matInput","","type","number","name","dataModel.viewPrice","minlength","0","required","","id","dataModel.viewPrice",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.width",1,"color-highlight"],["matInput","","type","number","name","dataModel.width","minlength","0","required","","id","dataModel.width",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.height",1,"color-highlight"],["matInput","","type","number","name","dataModel.height","minlength","0","required","","id","dataModel.height",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.patternScript",1,"color-highlight"],["matInput","","name","dataModel.patternScript","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.patternScript",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align: middle","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[3,"value"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openDirectUploadView","openForm","tree","openFilemanagerButtonLabelKey","selectFileType","openFilemanagerButtonView"],["for","dataModel.linkBackgroundId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkBackgroundId","autocomplete","off","id","dataModel.linkBackgroundId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=T();r(0,"div",11),S(1,"app-progress-spinner",12),r(2,"div",13)(3,"p",14),d(4),a(),r(5,"p"),d(6),g(7,"translate"),a(),S(8,"app-cms-form-result-message",15),r(9,"form",16,0),C("ngSubmit",function(){return u(s),f(t.onFormSubmit())}),I(11,mc,1,5,"app-cms-enum-record-status-selector",17),r(12,"div",18)(13,"label",19),d(14),a(),r(15,"input",20,1),w("ngModelChange",function(m){return u(s),E(t.dataModel.title,m)||(t.dataModel.title=m),f(m)}),a(),I(17,pc,1,0,"i",21)(18,uc,1,0,"i",22),r(19,"em"),d(20),a(),I(21,fc,5,4,"mat-error",23),a(),r(22,"div",18)(23,"select",24,2),w("ngModelChange",function(m){return u(s),E(t.dataModel.settingType,m)||(t.dataModel.settingType=m),f(m)}),I(25,gc,2,2,"option",25),a(),r(26,"em"),d(27),g(28,"translate"),a(),I(29,_c,5,3,"mat-error",23),a(),r(30,"div",18)(31,"select",26,3),w("ngModelChange",function(m){return u(s),E(t.dataModel.sharingLinkType,m)||(t.dataModel.sharingLinkType=m),f(m)}),I(33,Mc,2,2,"option",25),a(),r(34,"em"),d(35),g(36,"translate"),a(),I(37,hc,5,3,"mat-error",23),a(),r(38,"div",18)(39,"label",27),d(40),a(),r(41,"input",28,4),g(43,"translate"),w("ngModelChange",function(m){return u(s),E(t.dataModel.clickPrice,m)||(t.dataModel.clickPrice=m),f(m)}),a(),I(44,Sc,1,0,"i",21)(45,bc,1,0,"i",22)(46,Ic,5,3,"mat-error",23),a(),r(47,"div",18)(48,"label",29),d(49),a(),r(50,"input",30,5),g(52,"translate"),w("ngModelChange",function(m){return u(s),E(t.dataModel.viewPrice,m)||(t.dataModel.viewPrice=m),f(m)}),a(),I(53,Cc,1,0,"i",21)(54,vc,1,0,"i",22)(55,Tc,5,3,"mat-error",23),a(),r(56,"div",18)(57,"label",31),d(58),a(),r(59,"input",32,6),g(61,"translate"),w("ngModelChange",function(m){return u(s),E(t.dataModel.width,m)||(t.dataModel.width=m),f(m)}),a(),I(62,yc,1,0,"i",21)(63,Ec,1,0,"i",22)(64,wc,5,3,"mat-error",23),a(),r(65,"div",18)(66,"label",33),d(67),a(),r(68,"input",34,7),g(70,"translate"),w("ngModelChange",function(m){return u(s),E(t.dataModel.height,m)||(t.dataModel.height=m),f(m)}),a(),I(71,kc,1,0,"i",21)(72,Lc,1,0,"i",22)(73,Ac,5,3,"mat-error",23),a(),r(74,"div",18)(75,"label",35),d(76),a(),r(77,"textarea",36,8),w("ngModelChange",function(m){return u(s),E(t.dataModel.patternScript,m)||(t.dataModel.patternScript=m),f(m)}),d(79,"        "),a(),r(80,"em"),d(81),a(),I(82,xc,5,3,"mat-error",23),a(),r(83,"div",37)(84,"a",38),g(85,"cmsthumbnail"),I(86,Rc,2,4,"img",39),a()(),I(87,Dc,8,16,"div",40),r(88,"div",37),I(89,Bc,2,4,"img",39),a(),I(90,Pc,8,16,"div",40)(91,Vc,9,7,"div",41),a()()()}if(i&2){let s=x(16),M=x(24),m=x(32),R=x(42),H=x(51),j=x(60),he=x(69),ke=x(78);o(),c("optionsInfoAreaId",t.constructorInfoAreaId),o(3),h(" ",t.formInfo.formTitle," "),o(2),h(" ",_(7,62,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),c("formInfo",t.formInfo),o(3),c("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),o(3),v(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),c("placeholder",k(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),y("ngModel",t.dataModel.title),o(2),c("ngIf",!s.value),o(),c("ngIf",s.value),o(2),h("",s.value.length," / 100"),o(),c("ngIf",s.errors==null?null:s.errors.required),o(2),y("ngModel",t.dataModel.settingType),o(2),c("ngForOf",t.dataModelEnumManagementContentSettingTypeResult.listItems),o(2),v(_(28,64,"TITLE.Select_type_of_content")),o(2),c("ngIf",M.errors==null?null:M.errors.required),o(2),y("ngModel",t.dataModel.sharingLinkType),o(2),c("ngForOf",t.dataModelEnumSharingPriceTypeResult.listItems),o(2),v(_(36,66,"TITLE.Select_type_of_content")),o(2),c("ngIf",m.errors==null?null:m.errors.required),o(3),v(t.fieldsInfo.clickPrice==null?null:t.fieldsInfo.clickPrice.fieldTitle),o(),c("placeholder",k(_(43,68,"TITLE.Amount_Per_Click"))),y("ngModel",t.dataModel.clickPrice),o(3),c("ngIf",!R.value),o(),c("ngIf",R.value),o(),c("ngIf",R.errors==null?null:R.errors.required),o(3),v(t.fieldsInfo.viewPrice==null?null:t.fieldsInfo.viewPrice.fieldTitle),o(),c("placeholder",k(_(52,70,"TITLE.Amount_Per_Show"))),y("ngModel",t.dataModel.viewPrice),o(3),c("ngIf",!H.value),o(),c("ngIf",H.value),o(),c("ngIf",H.errors==null?null:H.errors.required),o(3),v(t.fieldsInfo.width==null?null:t.fieldsInfo.width.fieldTitle),o(),c("placeholder",k(_(61,72,"TITLE.Width"))),y("ngModel",t.dataModel.width),o(3),c("ngIf",!j.value),o(),c("ngIf",j.value),o(),c("ngIf",j.errors==null?null:j.errors.required),o(3),v(t.fieldsInfo.height==null?null:t.fieldsInfo.height.fieldTitle),o(),c("placeholder",k(_(70,74,"TITLE.length"))),y("ngModel",t.dataModel.height),o(3),c("ngIf",!he.value),o(),c("ngIf",he.value),o(),c("ngIf",he.errors==null?null:he.errors.required),o(3),v(t.fieldsInfo.patternScript==null?null:t.fieldsInfo.patternScript.fieldTitle),o(),c("placeholder",k(t.fieldsInfo.patternScript==null?null:t.fieldsInfo.patternScript.fieldTitle)),y("ngModel",t.dataModel.patternScript),o(4),h("",ke.value.length," / 500"),o(),c("ngIf",ke.errors==null?null:ke.errors.required),o(2),c("href",k(_(85,76,t.dataModel.linkMainImageIdSrc)),K),o(2),c("ngIf",(t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0),o(),c("ngIf",t.fieldsInfo.linkMainImageId==null?null:t.fieldsInfo.linkMainImageId.accessWatchField),o(2),c("ngIf",(t.dataModel==null||t.dataModel.linkBackgroundIdSrc==null?null:t.dataModel.linkBackgroundIdSrc.length)>0),o(),c("ngIf",t.fieldsInfo.linkMainImageId==null?null:t.fieldsInfo.linkMainImageId.accessWatchField),o(),c("ngIf",t.formInfo.submitButtonEnabled)}},dependencies:[je,O,Te,Jt,Xt,U,Ne,Kt,Q,Ce,z,fe,ge,te,ve,ye,G,we,q,Ee,Fe,$e,V,_e],encapsulation:2});var Bn=Dn;var Nc=()=>[5,10,20,100];function Fc(n,l){if(n&1){let e=T();r(0,"div",38)(1,"a",39),C("click",function(){u(e);let t=p();return f(t.onActionButtonNewRow())}),S(2,"i",40)(3,"br"),a(),r(4,"p",41),d(5),g(6,"translate"),a()()}n&2&&(o(5),h(" ",_(6,1,"ACTION.ADD")," "))}function Oc(n,l){if(n&1){let e=T();r(0,"div",38)(1,"a",42),C("click",function(t){u(e);let s=p();return f(s.onActionButtonRowBillboard(s.tableRowSelected,t))}),S(2,"i",43)(3,"br"),a(),r(4,"p",41),d(5),g(6,"translate"),a()()}n&2&&(o(5),h(" ",_(6,1,"ACTION.BILLBOARD")," "))}function Gc(n,l){if(n&1){let e=T();r(0,"div",38)(1,"a",42),C("click",function(t){u(e);let s=p();return f(s.onActionButtonRowTarget(s.tableRowSelected,t))}),S(2,"i",44)(3,"br"),a(),r(4,"p",41),d(5),g(6,"translate"),a()()}n&2&&(o(5),h(" ",_(6,1,"ACTION.ADS")," "))}function Wc(n,l){if(n&1){let e=T();r(0,"div",38)(1,"a",45),C("click",function(){u(e);let t=p();return f(t.onActionButtonEditRow(t.tableRowSelected))}),S(2,"i",46)(3,"br"),a(),r(4,"p",41),d(5),g(6,"translate"),a()()}n&2&&(o(5),h(" ",_(6,1,"ACTION.EDIT")," "))}function Hc(n,l){if(n&1){let e=T();r(0,"div",38)(1,"a",47),C("click",function(){u(e);let t=p();return f(t.onActionButtonDeleteRow(t.tableRowSelected))}),S(2,"i",48)(3,"br"),a(),r(4,"p",41),d(5),g(6,"translate"),a()()}n&2&&(o(5),h(" ",_(6,1,"ACTION.DELETE")," "))}function qc(n,l){n&1&&(r(0,"mat-header-cell",49),d(1),g(2,"translate"),a()),n&2&&(o(),h(" ",_(2,1,"TITLE.PICTURE")," "))}function jc(n,l){if(n&1&&(S(0,"img",51),g(1,"cmsthumbnail")),n&2){let e=p().$implicit;c("src",k(_(1,2,e.linkMainImageIdSrc)),K)}}function Uc(n,l){if(n&1&&(r(0,"mat-cell"),I(1,jc,2,4,"img",50),a()),n&2){let e=l.$implicit;o(),c("ngIf",(e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0)}}function Qc(n,l){if(n&1&&(r(0,"mat-header-cell",49),d(1),a()),n&2){let e=p();o(),h(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function zc(n,l){if(n&1&&(r(0,"mat-cell"),d(1),a()),n&2){let e=l.$implicit;o(),h(" ",e.id," ")}}function Kc(n,l){if(n&1&&(r(0,"mat-header-cell",49),d(1),a()),n&2){let e=p();o(),h(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function Jc(n,l){if(n&1&&(r(0,"mat-cell"),d(1),g(2,"cmssiteinfo"),g(3,"async"),a()),n&2){let e=l.$implicit;o(),h(" ",_(3,3,_(2,1,e.linkSiteId))," ")}}function Xc(n,l){if(n&1&&(r(0,"mat-header-cell",49),d(1),a()),n&2){let e=p();o(),h(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function Yc(n,l){if(n&1&&(r(0,"mat-cell"),S(1,"i",52),g(2,"statusIconClass"),a()),n&2){let e=l.$implicit;o(),c("ngClass",_(2,1,e.recordStatus))}}function Zc(n,l){if(n&1&&(r(0,"mat-header-cell",49),d(1),a()),n&2){let e=p();o(),h(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," ")}}function $c(n,l){if(n&1&&(r(0,"mat-cell"),d(1),a()),n&2){let e=l.$implicit;o(),h(" ",e.title," ")}}function ed(n,l){if(n&1&&(r(0,"mat-header-cell",49),d(1),a()),n&2){let e=p();o(),h(" ",e.fieldsInfo.settingType==null?null:e.fieldsInfo.settingType.fieldTitle," ")}}function td(n,l){if(n&1&&(r(0,"mat-cell"),d(1),g(2,"enums"),a()),n&2){let e=l.$implicit,i=p();o(),h(" ",lr(2,1,e.settingType,i.dataModelManagementContentSettingTypeEnumResult.listItems)," ")}}function id(n,l){if(n&1&&(r(0,"mat-header-cell",49),d(1),a()),n&2){let e=p();o(),h(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function nd(n,l){if(n&1&&(r(0,"mat-cell"),d(1),g(2,"localeDate"),a()),n&2){let e=l.$implicit;o(),h(" ",_(2,1,e.createdDate)," ")}}function od(n,l){if(n&1&&(r(0,"mat-header-cell",49),d(1),a()),n&2){let e=p();o(),h(" ",e.fieldsInfo.updatedDate==null?null:e.fieldsInfo.updatedDate.fieldTitle," ")}}function rd(n,l){if(n&1&&(r(0,"mat-cell"),d(1),g(2,"localeDate"),a()),n&2){let e=l.$implicit;o(),h(" ",_(2,1,e.updatedDate)," ")}}function ad(n,l){n&1&&(r(0,"mat-header-cell"),d(1),g(2,"translate"),a()),n&2&&(o(),h(" ",_(2,1,"TITLE.OPTION")," "))}function ld(n,l){if(n&1&&(r(0,"mat-cell",53)(1,"button",54)(2,"mat-icon"),d(3,"more_vert"),a()(),S(4,"mat-menu",null,2),a()),n&2){let e=x(5);o(),c("matMenuTriggerFor",e)}}function sd(n,l){n&1&&S(0,"mat-header-row")}function cd(n,l){if(n&1){let e=T();r(0,"mat-row",55),C("click",function(t){let s=u(e).$implicit,M=p();return f(M.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=u(e).$implicit,M=p();return f(M.onActionTableRowSelect(s,t))}),a()}if(n&2){let e=l.$implicit,i=p();J("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var Pn=class Pn extends wt{constructor(e,i,t,s,M,m,R,H,j,he,ke){super(e,new Ze,he,M,m);this.contentService=e;this.cmsToastrService=i;this.linkManagementEnumService=t;this.router=s;this.tokenHelper=M;this.translate=m;this.cmsStoreService=R;this.cdr=H;this.pageInfo=j;this.publicHelper=he;this.dialog=ke;this.constructorInfoAreaId=this.constructor.name;this.filteModelContent=new Ie;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["linkMainImageIdSrc","id","recordStatus","settingType","createdDate","updatedDate"];this.tabledisplayedColumnsMobileSource=["linkMainImageIdSrc","id","recordStatus","settingType","createdDate","updatedDate"];this.dataModelManagementContentSettingTypeEnumResult=new W;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:Le=>this.onSubmitOptionsSearch(Le)},this.filteModelContent.sortColumn="id",this.filteModelContent.sortType=ce.Descending,this.getManagementContentSettingTypeEnum()}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>Ae(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}getManagementContentSettingTypeEnum(){this.linkManagementEnumService.ServiceManagementContentSettingTypeEnum().subscribe({next:e=>{this.dataModelManagementContentSettingTypeEnumResult=e}})}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Ze);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.contentService.setAccessLoad(),this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),t.isSuccess?(this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=ce.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=ce.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=ce.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}let e=new Yt;e.disableClose=!0,e.autoFocus=!0,e.height="90%",e.data={},this.dialog.open(An,e).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Bn,{height:"90%",panelClass:i,enterAnimationDuration:oe.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:oe.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(s=>{this.cmsToastrService.typeErrorSelected(s)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Rn,{height:"90%",panelClass:i,enterAnimationDuration:oe.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:oe.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate&&this.DataGetAll()})}onActionButtonRowTarget(e=this.tableRowSelected,i){if(!e||!e.id||e.id===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),i?.ctrlKey){var t="/#/linkmanagement/target/list/LinkBillboardPatternId/"+e.id;window.open(t,"_blank")}else this.router.navigate(["/linkmanagement/target/list/LinkBillboardPatternId/",e.id])}onActionButtonRowBillboard(e=this.tableRowSelected,i){if(!e||!e.id||e.id===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),i?.ctrlKey){var t="/#/linkmanagement/billboard/list/LinkBillboardPatternId/"+e.id;window.open(t,"_blank")}else this.router.navigate(["/linkmanagement/billboard/list/LinkBillboardPatternId/",e.id])}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(m=>{i.set(m,0)}),this.translate.get("MESSAGE.All").subscribe(m=>{i.set(m,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(m=>{this.publicHelper.processService.processStart(t,m,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:m=>{m.isSuccess?(this.translate.get("MESSAGE.All").subscribe(R=>{i.set(R,m.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(m.errorMessage),this.publicHelper.processService.processStop(t)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(t,!1)}});let s=JSON.parse(JSON.stringify(this.filteModelContent)),M=new ne;M.propertyName="recordStatus",M.value=nt.Available,s.filters.push(M),this.contentService.ServiceGetCount(s).subscribe({next:m=>{m.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(R=>{i.set(R,m.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(m.errorMessage),this.publicHelper.processService.processStop(t)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}};Pn.\u0275fac=function(i){return new(i||Pn)(b(lt),b(N),b(ze),b(We),b(qe),b(P),b(He),b(B),b(yt),b(F),b(Qe))},Pn.\u0275cmp=D({type:Pn,selectors:[["app-linkmanagement-billboard-pattern-list"]],standalone:!1,features:[X],decls:63,vars:32,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","linkMainImageIdSrc"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","id"],["matColumnDef","linkSiteId"],["matColumnDef","recordStatus"],["matColumnDef","title"],["matColumnDef","settingType"],["matColumnDef","createdDate"],["matColumnDef","updatedDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],[1,"col-4"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-billboard","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-bullseye-pointer","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],["style","vertical-align: middle","class","ntk-hover-zoom","aria-hidden","","height","40","width","40",3,"src",4,"ngIf"],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"ngClass"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(i,t){if(i&1){let s=T();r(0,"app-cms-html-list",3),w("optionActionGuideNoticeDisplayChange",function(m){return u(s),E(t.viewGuideNotice,m)||(t.viewGuideNotice=m),f(m)}),C("optionOnActionButtonMemoRow",function(){return u(s),f(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return u(s),f(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return u(s),f(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return u(s),f(t.onActionButtonPrintRow())}),Oe(1,4)(2,5)(3,6),L(4,7),r(5,"a",8),C("click",function(){return u(s),f(t.viewGuideNotice=!t.viewGuideNotice)}),S(6,"i",9),a(),r(7,"a",8),C("click",function(){return u(s),f(t.onActionButtonReload())}),S(8,"i",10),a(),A(),L(9,11),r(10,"a",12),C("click",function(){return u(s),f(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),S(11,"mat-slide-toggle",13),d(12),g(13,"translate"),a(),r(14,"a",12),C("click",function(){return u(s),f(t.onActionButtonStatist())}),S(15,"mat-slide-toggle",13),d(16),g(17,"translate"),a(),A(),L(18,14),I(19,Fc,7,3,"div",15),A(),L(20,16),I(21,Oc,7,3,"div",15)(22,Gc,7,3,"div",15)(23,Wc,7,3,"div",15)(24,Hc,7,3,"div",15),A(),L(25,17),r(26,"app-cms-search-list",18),w("optionsChange",function(m){return u(s),E(t.optionsSearch,m)||(t.optionsSearch=m),f(m)}),a(),r(27,"app-cms-statist-list",18),w("optionsChange",function(m){return u(s),E(t.optionsStatist,m)||(t.optionsStatist=m),f(m)}),a(),A(),L(28,19),r(29,"mat-table",20,0),C("matSortChange",function(){u(s);let m=x(30);return f(t.onTableSortData(m))}),L(31,21),I(32,qc,3,3,"mat-header-cell",22)(33,Uc,2,1,"mat-cell",23),A(),L(34,24),I(35,Qc,2,1,"mat-header-cell",22)(36,zc,2,1,"mat-cell",23),A(),L(37,25),I(38,Kc,2,1,"mat-header-cell",22)(39,Jc,4,5,"mat-cell",23),A(),L(40,26),I(41,Xc,2,1,"mat-header-cell",22)(42,Yc,3,3,"mat-cell",23),A(),L(43,27),I(44,Zc,2,1,"mat-header-cell",22)(45,$c,2,1,"mat-cell",23),A(),L(46,28),I(47,ed,2,1,"mat-header-cell",22)(48,td,3,4,"mat-cell",23),A(),L(49,29),I(50,id,2,1,"mat-header-cell",22)(51,nd,3,3,"mat-cell",23),A(),L(52,30),I(53,od,2,1,"mat-header-cell",22)(54,rd,3,3,"mat-cell",23),A(),L(55,31),I(56,ad,3,3,"mat-header-cell",32)(57,ld,6,1,"mat-cell",33),A(),I(58,sd,1,0,"mat-header-row",34)(59,cd,1,2,"mat-row",35),a(),A(),L(60,36),r(61,"mat-paginator",37,1),C("page",function(m){return u(s),f(t.onTablePageingData(m))}),a(),A(),a()}i&2&&(c("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),y("optionActionGuideNoticeDisplay",t.viewGuideNotice),c("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",(t.tableRowSelected==null||t.tableRowSelected.title==null?null:t.tableRowSelected.title.length)>0?t.tableRowSelected==null?null:t.tableRowSelected.title:t.tableRowSelected==null?null:t.tableRowSelected.id),o(8),J("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(3),c("checked",t.optionsSearch.data.show),o(),h("",_(13,27,"ACTION.SEARCH")," "),o(3),c("checked",t.optionsStatist.data.show),o(),h("",_(17,29,"ACTION.STATIST")," "),o(3),c("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessAddRow),o(2),c("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),o(),c("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),o(),c("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),o(),c("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),o(2),y("options",t.optionsSearch),o(),y("options",t.optionsStatist),o(2),c("dataSource",t.tableSource),o(29),c("matHeaderRowDef",t.tabledisplayedColumns),o(),c("matRowDefColumns",t.tabledisplayedColumns),o(2),c("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",Ve(31,Nc)))},dependencies:[rt,O,Ue,xe,ct,dt,mt,pt,ut,ft,gt,Mt,It,ht,_t,Ct,St,bt,vt,Tt,kt,Lt,At,xt,Ge,V,Er,Rt,_e,Dt,Bt],encapsulation:2});var Ro=Pn;function dd(n,l){if(n&1){let e=T();r(0,"mat-tree-node",10),S(1,"button",11),r(2,"mat-checkbox",12),C("change",function(){let t=u(e).$implicit,s=p();return f(s.todoItemSelectionToggle(t))}),d(3),a()()}if(n&2){let e=l.$implicit,i=p();o(2),c("checked",i.checklistSelection.isSelected(e))("indeterminate",i.descendantsPartiallySelected(e)),o(),v(e.title)}}function md(n,l){if(n&1){let e=T();r(0,"mat-tree-node",13)(1,"button",14)(2,"mat-icon",15),d(3),a()(),r(4,"mat-checkbox",16),C("change",function(){let t=u(e).$implicit,s=p();return f(s.checklistSelection.toggle(t))}),d(5),a()()}if(n&2){let e=l.$implicit,i=p(),t=x(8);c("cdkTreeNodeTypeaheadLabel",e.title)("isExpanded",e.isExpanded??!1),o(),ot("type","button")("aria-label","Toggle "+e.title),o(2),h(" ",t.isExpanded(e)?"expand_more":"chevron_right"," "),o(),c("checked",i.checklistSelection.isSelected(e)),o(),v(e.title)}}var Vn=class Vn{constructor(l,e,i,t,s,M,m,R,H){this.cmsToastrService=l;this.coreEnumService=e;this.categoryService=i;this.cdr=t;this.publicHelper=s;this.tokenHelper=M;this.cmsStoreService=m;this.translate=R;this.dialog=H;this.constructorInfoAreaId=this.constructor.name;this.dataModelSelect=[];this.dataModelResult=new W;this.filterModel=new Ie;this.dataSource=new rn;this.runComplate=!1;this.optionSelectChecked=new Je;this.optionSelectDisChecked=new Je;this.optionModelChange=new Je;this.unsubscribe=[];this.checklistSelection=new gr(!0);this.hasChild=(l,e)=>!!e.children&&e.children.length>0;this.childrenAccessor=l=>l.children??[];this.hasNoContent=(l,e)=>e.children;this.treeControl=new br(l=>l.children);this.publicHelper.processService.cdr=this.cdr,this.checklistSelection.changed.subscribe(j=>{if(!this.runComplate)return;let he=[];this.checklistSelection.selected.forEach(ke=>{he.push(ke.id)}),this.optionModelChange.emit(he),j.added&&j.added.length>0&&j.added.forEach(ke=>{this.optionSelectChecked.emit(ke.id)}),j.removed&&j.removed.length>0&&j.removed.forEach(ke=>{this.optionSelectDisChecked.emit(ke.id)})})}set optionModel(l){this.dataModelSelect=l,this.loadCheked()}ngOnInit(){this.unsubscribe.push(this.cmsStoreService.getState(l=>l.tokenInfoStore).subscribe(l=>Ae(this,null,function*(){this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(l=>l.unsubscribe())}loadCheked(){this.runComplate=!1,this.CompileDataByCheked(this.dataModelResult.listItems,this.dataModelSelect),this.runComplate=!0}CompileDataByCheked(l,e){if(!(l?.length>0))return!1;let i=!1;for(let t of l){let s=!1;e?.includes(t.id)?(this.checklistSelection.select(t),i=!0):this.checklistSelection.deselect(t),t.children?.length>0&&(s=this.CompileDataByCheked(t.children,e),s&&(i=!0,t.isExpanded=!0))}return i}DataGetAll(){this.filterModel.rowPerPage=200,this.filterModel.accessLoad=!0;let l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(l,e,this.constructorInfoAreaId)}),this.categoryService.ServiceGetAll(this.filterModel).subscribe({next:e=>{e.isSuccess?(this.dataModelResult=e,this.dataSource.data=this.dataModelResult.listItems,this.loadCheked()):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(l)},error:e=>{this.publicHelper.processService.processStop(l),this.cmsToastrService.typeError(e)}})}descendantsAllSelected(l){return this.treeControl.getDescendants(l).every(i=>this.checklistSelection.isSelected(i))}descendantsPartiallySelected(l){return this.treeControl.getDescendants(l).some(t=>this.checklistSelection.isSelected(t))&&!this.descendantsAllSelected(l)}todoItemSelectionToggle(l){this.checklistSelection.toggle(l);let e=this.treeControl.getDescendants(l);this.checklistSelection.isSelected(l)?this.checklistSelection.select(...e):this.checklistSelection.deselect(...e)}};Vn.\u0275fac=function(e){return new(e||Vn)(b(N),b(ee),b(st),b(B),b(F),b(qe),b(He),b(P),b(Qe))},Vn.\u0275cmp=D({type:Vn,selectors:[["app-linkmanagement-category-treeselector"]],inputs:{optionModel:"optionModel"},outputs:{optionSelectChecked:"optionSelectChecked",optionSelectDisChecked:"optionSelectDisChecked",optionModelChange:"optionModelChange"},standalone:!1,decls:12,vars:10,consts:[["treeTagControl",""],[3,"optionHeaderDisplay","optionActionMainDisplay","optionFooterDisplay"],["cms-tree-header",""],["cms-tree-action",""],["cms-tree-body","",1,"loader-container"],[3,"optionsInfoAreaId"],[3,"dataSource","childrenAccessor"],["matTreeNodePadding","",4,"matTreeNodeDef"],["matTreeNodePadding","","matTreeNodeToggle","","isExpandable","",3,"cdkTreeNodeTypeaheadLabel","isExpanded",4,"matTreeNodeDef","matTreeNodeDefWhen"],["cms-tree-footer",""],["matTreeNodePadding",""],["matIconButton","","disabled",""],[3,"change","checked","indeterminate"],["matTreeNodePadding","","matTreeNodeToggle","","isExpandable","",3,"cdkTreeNodeTypeaheadLabel","isExpanded"],["matIconButton","","matTreeNodeToggle",""],[1,"mat-icon-rtl-mirror"],[1,"checklist-leaf-node",3,"change","checked"]],template:function(e,i){e&1&&(r(0,"app-cms-html-tree",1),L(1,2),d(2),g(3,"translate"),A(),Oe(4,3),L(5,4),S(6,"app-progress-spinner",5),r(7,"mat-tree",6,0),I(9,dd,4,3,"mat-tree-node",7)(10,md,6,7,"mat-tree-node",8),a(),A(),Oe(11,9),a()),e&2&&(c("optionHeaderDisplay",!0)("optionActionMainDisplay",!0)("optionFooterDisplay",!1),o(2),h(" ",_(3,8,"TABLE."+(i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.moduleEntityName))," "),o(4),c("optionsInfoAreaId",i.constructorInfoAreaId),o(),c("dataSource",i.dataSource)("childrenAccessor",i.childrenAccessor),o(3),c("matTreeNodeDefWhen",i.hasChild))},dependencies:[Ue,_r,xe,en,tn,on,nn,$i,q,an,V],encapsulation:2});var si=Vn;var ud=["vform"];function fd(n,l){if(n&1){let e=T();r(0,"app-cms-enum-record-status-selector",41),w("modelChange",function(t){u(e);let s=p();return E(s.dataModel.recordStatus,t)||(s.dataModel.recordStatus=t),f(t)}),a()}if(n&2){let e=p();y("model",e.dataModel.recordStatus),c("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function gd(n,l){n&1&&S(0,"i",42)}function _d(n,l){n&1&&S(0,"i",43)}function Md(n,l){if(n&1&&(r(0,"mat-error"),d(1),r(2,"strong"),d(3),g(4,"translate"),a()()),n&2){let e=p();o(),h(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," is "),o(2),v(_(4,2,"MESSAGE.required"))}}function hd(n,l){if(n&1){let e=T();r(0,"div",24)(1,"label",44),d(2),a(),r(3,"input",45,4),w("ngModelChange",function(t){u(e);let s=p();return E(s.dataModel.bgColor,t)||(s.dataModel.bgColor=t),f(t)}),a(),S(5,"ngx-mat-color-toggle",27)(6,"ngx-mat-color-picker",46,5),a()}if(n&2){let e=x(7),i=p();o(2),v(i.fieldsInfo.bgColor==null?null:i.fieldsInfo.bgColor.fieldTitle),o(),uo("background",i.dataModel.bgColor),c("placeholder",k(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle)),y("ngModel",i.dataModel.bgColor),c("ngxMatColorPicker",e)("disabled",!(i.fieldsInfo.bgColor!=null&&i.fieldsInfo.bgColor.accessAddField)),o(2),c("for",e),o(),c("touchUi",!0)("color","primary")}}function Sd(n,l){if(n&1){let e=T();r(0,"div",47)(1,"button",48),C("click",function(){u(e);let t=p();return f(t.onActionBackToParent())}),d(2),g(3,"translate"),a(),r(4,"button",49),d(5),g(6,"translate"),a()()}if(n&2){p();let e=x(10);o(2),h(" ",_(3,3,"ACTION.BACK")," "),o(2),c("disabled",!e.form.valid),o(),h(" ",_(6,5,"ACTION.NEXT")," ")}}function bd(n,l){if(n&1&&(r(0,"div",47)(1,"button",50),d(2),g(3,"translate"),a(),r(4,"button",49),d(5),g(6,"translate"),a()()),n&2){p();let e=x(10);o(2),h(" ",_(3,3,"ACTION.BEFOR")," "),o(2),c("disabled",!e.form.valid),o(),h(" ",_(6,5,"ACTION.NEXT")," ")}}function Id(n,l){if(n&1&&(S(0,"img",51),g(1,"cmsthumbnail")),n&2){let e=p();c("src",k(_(1,2,e.dataModel.linkMainImageIdSrc)),K)}}function Cd(n,l){if(n&1){let e=T();r(0,"div",16)(1,"label",52),C("click",function(){u(e);let t=p();return f(t.fileManagerOpenForm=!0)}),d(2),g(3,"translate"),a(),r(4,"input",53,6),g(6,"translate"),w("ngModelChange",function(t){u(e);let s=p();return E(s.dataModel.linkMainImageId,t)||(s.dataModel.linkMainImageId=t),f(t)}),C("click",function(){u(e);let t=p();return f(t.fileManagerOpenForm=!0)}),a(),r(7,"cms-file-manager",54),C("itemSelected",function(t){u(e);let s=p();return f(s.onActionFileSelectedLinkMainImageId(t))}),w("openFormChange",function(t){u(e);let s=p();return E(s.fileManagerOpenForm,t)||(s.fileManagerOpenForm=t),f(t)}),a()()}if(n&2){let e=p();o(2),v(_(3,12,"TITLE.Original_Photo")),o(2),c("placeholder",k(_(6,14,"TITLE.Original_File_ID"))),y("ngModel",e.dataModel.linkMainImageId),o(3),c("language",e.appLanguage)("isPopup",!0),y("openForm",e.fileManagerOpenForm),c("tree",e.fileManagerTree)("openDirectUploadView",!0)("openFilemanagerButtonLabelKey","select")("selectFileType",e.selectFileTypeMainImage)("openFilemanagerButtonView",!1)}}function vd(n,l){if(n&1&&(r(0,"div",47)(1,"button",50),d(2),g(3,"translate"),a(),r(4,"button",55),S(5,"i",56),d(6),g(7,"translate"),a()()),n&2){p();let e=x(10);o(2),h(" ",_(3,3,"ACTION.BEFOR")," "),o(2),c("disabled",!e.form.valid),o(2),h(" ",_(7,5,"ACTION.SAVE")," ")}}function Td(n,l){n&1&&(r(0,"mat-icon"),d(1,"call_end"),a())}function yd(n,l){n&1&&(r(0,"mat-icon"),d(1,"call_end"),a())}function Ed(n,l){n&1&&(r(0,"mat-icon"),d(1,"forum"),a())}function wd(n,l){n&1&&(r(0,"mat-icon"),d(1,"forum"),a())}var Nn=class Nn extends Et{constructor(e,i,t,s,M,m,R,H,j){super(M,new di,s,j);this.activatedRoute=e;this.coreEnumService=i;this.contentCategoryService=t;this.publicHelper=s;this.linkManagementBillboardService=M;this.cmsToastrService=m;this.router=R;this.cdr=H;this.translate=j;this.requestLinkBillboardPatternId=0;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.dataModel=new di;this.dataModelResult=new W;this.optionActionTitle="";this.optionActionButtomEnable=!0;this.optionTabledisplayedColumns=["id","Option","OptionAnswer","IsCorrectAnswer","NumberOfVotes","ScoreOfVotes","Action"];this.dataContentCategoryModel=[];this.selectFileTypeMainImage=["jpg","jpeg","png"];this.selectFileTypePodcast=["mp3"];this.selectFileTypeMovie=["mp4","webm"];this.formInfo=new ie;this.fileManagerOpenForm=!1;this.fileManagerOpenFormPodcast=!1;this.fileManagerOpenFormMovie=!1;this.appLanguage="fa";this.viewMap=!1;this.mapMarkerPoints=[];this.mapOptonCenter=new Fi;this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),this.translate.get("ACTION.Add_To_List").subscribe(he=>{this.optionActionTitle=he})}ngOnInit(){if(this.requestLinkBillboardPatternId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkBillboardPatternId")),this.requestLinkBillboardPatternId===0){this.cmsToastrService.typeErrorAddRowParentIsNull();return}this.dataModel.linkBillboardPatternId=this.requestLinkBillboardPatternId,this.DataGetAccess()}onActionFileSelectedLinkMainImageId(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}onFormSubmit(){if(this.requestLinkBillboardPatternId<=0){this.cmsToastrService.typeErrorAddRowParentIsNull();return}if(!this.formGroup.valid){this.cmsToastrService.typeErrorFormInvalid();return}this.DataEditContent()}DataGetOne(){this.formInfo.submitButtonEnabled=!1,this.translate.get("MESSAGE.get_information_from_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.linkManagementBillboardService.ServiceGetOneById(this.dataModelResult.item.id).subscribe({next:i=>{this.publicHelper.processService.processStop(e),this.dataModelResult=i,this.formInfo.submitButtonEnabled=!0,i.isSuccess?(this.dataModel=i.item,this.publicHelper.processService.processStop(e)):this.cmsToastrService.typeErrorGetOne(i.errorMessage)},error:i=>{this.publicHelper.processService.processStop(e),this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeErrorGetOne(i)}})}DataAddContent(){this.dataModel.bgColor=this.dataModel.bgColor?.toString(),this.formInfo.submitButtonEnabled=!1,this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.linkManagementBillboardService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.publicHelper.processService.processStop(e),this.dataModelResult=i,i.isSuccess?(this.cmsToastrService.typeSuccessAdd(),this.dataModel=i.item):this.cmsToastrService.typeErrorAdd(i.errorMessage),this.formInfo.submitResultMessage="",this.formInfo.submitButtonEnabled=!0},error:i=>{this.publicHelper.processService.processStop(e),this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeErrorAdd(i)}})}DataEditContent(){this.formInfo.submitButtonEnabled=!1,this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.linkManagementBillboardService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.publicHelper.processService.processStop(e),this.formInfo.submitButtonEnabled=!0,i.isSuccess?(this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.linkManagementBillboardService.ServiceGetOneById(this.dataModelResult.item.id).subscribe({next:t=>{this.publicHelper.processService.processStop(e),this.formInfo.submitButtonEnabled=!0,this.dataModelResult=t,t.isSuccess?this.dataModel=t.item:this.cmsToastrService.typeErrorEdit(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.publicHelper.processService.processStop(e),this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(t)}}),this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.cmsToastrService.typeSuccessEdit(),setTimeout(()=>this.router.navigate(["/linkmanagement/billboard"]),1e3)):this.cmsToastrService.typeErrorEdit(i.errorMessage),this.publicHelper.processService.processStop(e)},error:i=>{this.publicHelper.processService.processStop(e),this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i)}})}onActionSelectorSelectLinkManagementMemberId(e){if(!e||e.id<=0){this.translate.get("MESSAGE.Type_of_User_account_is_not_known").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkBillboardPatternId=e.id}onActionSelectorSelectLinkBillboardPatternId(e){if(!e||e.id<=0){this.translate.get("MESSAGE.Category_of_billboard_information_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkBillboardPatternId=e.id}onActionCategorySelectChecked(e){if(!e||e<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}if(this.dataModel.id>0){let i=new Xi;i.linkCategoryId=e,i.linkManagementBillboardId=this.dataModel.id,this.contentCategoryService.ServiceAdd(i).subscribe({next:t=>{t.isSuccess?(this.translate.get("MESSAGE.registration_in_this_group_was_successful").subscribe(s=>{this.formInfo.submitResultMessage=s,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessEdit()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(s=>{this.formInfo.submitResultMessage=s}),this.formInfo.submitResultMessage=t.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(t.errorMessage))},error:t=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(t)}})}}onActionCategorySelectDisChecked(e){if(!e||e<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}let i=new Xi;i.linkCategoryId=e,i.linkManagementBillboardId=this.dataModel.id,this.contentCategoryService.ServiceDeleteEntity(i).subscribe({next:t=>{t.isSuccess?(this.translate.get("MESSAGE.registration_in_this_group_was_successful").subscribe(s=>{this.formInfo.submitResultMessage=s,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessEdit()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(s=>{this.formInfo.submitResultMessage=s}),this.formInfo.submitResultMessage=t.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(t.errorMessage))},error:t=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(t)}})}onStepClick(e,i){e.previouslySelectedIndex<e.selectedIndex&&(this.formGroup.valid||(this.cmsToastrService.typeErrorFormInvalid(),setTimeout(()=>{i.selectedIndex=e.previouslySelectedIndex},10))),(!this.dataModelResult||!this.dataModelResult.item||this.dataModelResult.item.id<=0)&&this.DataAddContent()}onActionBackToParent(){this.router.navigate(["/linkmanagement/billboard/"])}};Nn.\u0275fac=function(i){return new(i||Nn)(b(Xe),b(ee),b(Ki),b(F),b(oi),b(N),b(We),b(B),b(P))},Nn.\u0275cmp=D({type:Nn,selectors:[["app-linkmanagement-billboard-add"]],viewQuery:function(i,t){if(i&1&&Y(ud,5),i&2){let s;Z(s=$())&&(t.formGroup=s.first)}},standalone:!1,features:[X],decls:66,vars:57,consts:[["vform","ngForm"],["stepper",""],["Title",""],["FromDate",""],["bgColor",""],["bgColorPicker",""],["LinkMainImageId",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"selectionChange"],["state","main",3,"label"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","fa fa-times invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],[4,"ngIf"],[3,"optionChange","optionSelectForce","optionPlaceholder"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4 cms-input-group",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],["for","dataModel.fromDate",1,"color-highlight"],["matInput","","type","text","name","dataModel.bgColor","id","dataModel.fromDate",1,"form-control","validate-name",3,"ngModelChange","ngModel","matDatepicker"],["matSuffix","",3,"for"],["touchUi",""],["class","form-actions",4,"ngIf"],["state","seo",3,"label"],[3,"optionModelChange","optionSelectChecked","optionSelectDisChecked","optionModel"],["state","file",3,"label"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align: middle","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["matStepperIcon","main"],["matStepperIcon","seo"],["matStepperIcon","file"],["matStepperIcon","loaction"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.bgColor",1,"color-highlight"],["matInput","","type","text","name","dataModel.bgColor","minlength","3","maxlength","100","required","","id","dataModel.bgColor",1,"form-control","validate-name",3,"ngModelChange","ngModel","ngxMatColorPicker","placeholder","disabled"],[3,"touchUi","color"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],["type","button","matStepperNext","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue",3,"disabled"],["type","button","matStepperPrevious","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openDirectUploadView","openFilemanagerButtonLabelKey","selectFileType","openFilemanagerButtonView"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=T();r(0,"div",7),S(1,"app-progress-spinner",8),r(2,"div",9)(3,"p",10),d(4),a(),r(5,"p"),d(6),g(7,"translate"),a(),S(8,"app-cms-form-result-message",11),r(9,"form",12,0),C("ngSubmit",function(){return u(s),f(t.onFormSubmit())}),r(11,"mat-vertical-stepper",13,1),C("selectionChange",function(m){u(s);let R=x(12);return f(t.onStepClick(m,R))}),r(13,"mat-step",14),g(14,"translate"),I(15,fd,1,5,"app-cms-enum-record-status-selector",15),r(16,"div",16)(17,"label",17),d(18),a(),r(19,"input",18,2),w("ngModelChange",function(m){return u(s),E(t.dataModel.title,m)||(t.dataModel.title=m),f(m)}),a(),I(21,gd,1,0,"i",19)(22,_d,1,0,"i",20),r(23,"em"),d(24),a(),I(25,Md,5,4,"mat-error",21),a(),r(26,"app-linkmanagement-member-selector",22),g(27,"translate"),C("optionChange",function(m){return u(s),f(t.onActionSelectorSelectLinkManagementMemberId(m))}),a(),r(28,"app-linkmanagement-billboard-pattern-selector",22),g(29,"translate"),C("optionChange",function(m){return u(s),f(t.onActionSelectorSelectLinkBillboardPatternId(m))}),a(),I(30,hd,8,11,"div",23),r(31,"div",24)(32,"label",25),d(33),a(),r(34,"input",26),w("ngModelChange",function(m){return u(s),E(t.dataModel.fromDate,m)||(t.dataModel.fromDate=m),f(m)}),a(),S(35,"mat-datepicker-toggle",27)(36,"mat-datepicker",28,3),a(),I(38,Sd,7,7,"div",29),a(),r(39,"mat-step",30),g(40,"translate"),r(41,"app-linkmanagement-category-treeselector",31),w("optionModelChange",function(m){return u(s),E(t.dataContentCategoryModel,m)||(t.dataContentCategoryModel=m),f(m)}),C("optionSelectChecked",function(m){return u(s),f(t.onActionCategorySelectChecked(m))})("optionSelectDisChecked",function(m){return u(s),f(t.onActionCategorySelectDisChecked(m))}),a(),S(42,"br"),I(43,bd,7,7,"div",29),a(),r(44,"mat-step",32),g(45,"translate"),r(46,"p"),d(47),g(48,"translate"),a(),r(49,"div",33)(50,"a",34),g(51,"cmsthumbnail"),I(52,Id,2,4,"img",35),a()(),I(53,Cd,8,16,"div",36)(54,vd,8,7,"div",29),a(),I(55,Td,2,0,"ng-template",37)(56,yd,2,0,"ng-template",38)(57,Ed,2,0,"ng-template",39)(58,wd,2,0,"ng-template",40),a(),S(59,"hr"),d(60),g(61,"translate"),S(62,"br"),r(63,"div")(64,"pre"),d(65),a()()()()()}if(i&2){let s=x(20),M=x(37);o(),c("optionsInfoAreaId",t.constructorInfoAreaId),o(3),h(" ",t.formInfo.formTitle," "),o(2),h(" ",_(7,39,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),c("formInfo",t.formInfo),o(5),c("label",k(_(14,41,"TITLE.REQUIRED_INFORMATION"))),o(2),c("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),o(3),v(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),c("placeholder",k(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),y("ngModel",t.dataModel.title),o(2),c("ngIf",!s.value),o(),c("ngIf",s.value),o(2),h("",s.value.length," / 100"),o(),c("ngIf",s.errors==null?null:s.errors.required),o(),c("optionSelectForce",t.dataModel.linkManagementMemberId)("optionPlaceholder",_(27,43,"TITLE.User_Account")),o(2),c("optionSelectForce",t.dataModel.linkBillboardPatternId)("optionPlaceholder",_(29,45,"TITLE.Billboard_Pattern")),o(2),c("ngIf",t.fieldsInfo.bgColor==null?null:t.fieldsInfo.bgColor.accessWatchField),o(3),v(t.fieldsInfo.fromDate==null?null:t.fieldsInfo.fromDate.fieldTitle),o(),y("ngModel",t.dataModel.fromDate),c("matDatepicker",M),o(),c("for",M),o(3),c("ngIf",t.formInfo.submitButtonEnabled),o(),c("label",k(_(40,47,"TITLE.TARGET_SELECTION"))),o(2),y("optionModel",t.dataContentCategoryModel),o(2),c("ngIf",t.formInfo.submitButtonEnabled),o(),c("label",k(_(45,49,"TITLE.ATTACH_FILES"))),o(3),v(_(48,51,"TITLE.CONTENT_ATTACH_FILES")),o(3),c("href",k(_(51,53,t.dataModel.linkMainImageIdSrc)),K),o(2),c("ngIf",(t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0),o(),c("ngIf",t.fieldsInfo.linkMainImageId==null?null:t.fieldsInfo.linkMainImageId.accessWatchField),o(),c("ngIf",t.formInfo.submitButtonEnabled),o(6),h(" ",_(61,55,"TITLE.HTML_CODE")," "),o(5),h("      ",t.dataModel.billboardScript)}},dependencies:[O,Te,U,Q,Ce,z,fe,ge,te,ve,Ai,xi,Ri,ye,wi,xe,G,Bi,Pi,Vi,Ni,Di,we,q,Ee,Oi,Io,bo,So,$e,si,$t,li,V,_e],encapsulation:2});var Bo=Nn;var kd=["vform"];function Ld(n,l){if(n&1){let e=T();r(0,"app-cms-enum-record-status-selector",47),w("modelChange",function(t){u(e);let s=p();return E(s.dataModel.recordStatus,t)||(s.dataModel.recordStatus=t),f(t)}),a()}if(n&2){let e=p();y("model",e.dataModel.recordStatus),c("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Ad(n,l){n&1&&S(0,"i",48)}function xd(n,l){n&1&&S(0,"i",49)}function Rd(n,l){if(n&1&&(r(0,"mat-error"),d(1),r(2,"strong"),d(3),g(4,"translate"),a()()),n&2){let e=p();o(),h(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," is "),o(2),v(_(4,2,"MESSAGE.required"))}}function Dd(n,l){if(n&1){let e=T();r(0,"div",30)(1,"label",50),d(2),a(),r(3,"input",51,6),w("ngModelChange",function(t){u(e);let s=p();return E(s.dataModel.bgColor,t)||(s.dataModel.bgColor=t),f(t)}),a(),S(5,"ngx-mat-color-toggle",33)(6,"ngx-mat-color-picker",52,7),a()}if(n&2){let e=x(7),i=p();o(2),v(i.fieldsInfo.bgColor==null?null:i.fieldsInfo.bgColor.fieldTitle),o(),uo("background",i.dataModel.bgColor),c("placeholder",k(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle)),y("ngModel",i.dataModel.bgColor),c("ngxMatColorPicker",e)("disabled",!(i.fieldsInfo.bgColor!=null&&i.fieldsInfo.bgColor.accessEditField)),o(2),c("for",e),o(),c("touchUi",!0)("color","primary")}}function Bd(n,l){n&1&&S(0,"i",48)}function Pd(n,l){n&1&&S(0,"i",49)}function Vd(n,l){n&1&&(r(0,"mat-error"),d(1," CurrentClickCount is "),r(2,"strong"),d(3),g(4,"translate"),a()()),n&2&&(o(3),v(_(4,1,"MESSAGE.required")))}function Nd(n,l){n&1&&S(0,"i",48)}function Fd(n,l){n&1&&S(0,"i",49)}function Od(n,l){n&1&&(r(0,"mat-error"),d(1," CurrentViewCount is "),r(2,"strong"),d(3),g(4,"translate"),a()()),n&2&&(o(3),v(_(4,1,"MESSAGE.required")))}function Gd(n,l){if(n&1){let e=T();r(0,"div",53)(1,"button",54),C("click",function(){u(e);let t=p();return f(t.onActionBackToParent())}),d(2),g(3,"translate"),a(),r(4,"button",55),S(5,"i",56),d(6),g(7,"translate"),a(),r(8,"button",57),d(9),g(10,"translate"),a()()}if(n&2){p();let e=x(10);o(2),h(" ",_(3,5,"ACTION.BACK")," "),o(2),c("disabled",!e.form.valid),o(2),h(" ",_(7,7,"ACTION.SAVE")," "),o(2),c("disabled",!e.form.valid),o(),h(" ",_(10,9,"ACTION.NEXT")," ")}}function Wd(n,l){if(n&1){let e=T();r(0,"div",53)(1,"button",54),C("click",function(){u(e);let t=p();return f(t.onActionBackToParent())}),d(2),g(3,"translate"),a(),r(4,"button",58),d(5),g(6,"translate"),a(),r(7,"button",55),S(8,"i",56),d(9),g(10,"translate"),a(),r(11,"button",57),d(12),g(13,"translate"),a()()}if(n&2){p();let e=x(10);o(2),h(" ",_(3,6,"ACTION.BACK")," "),o(3),h(" ",_(6,8,"ACTION.BEFOR")," "),o(2),c("disabled",!e.form.valid),o(2),h(" ",_(10,10,"ACTION.SAVE")," "),o(2),c("disabled",!e.form.valid),o(),h(" ",_(13,12,"ACTION.NEXT")," ")}}function Hd(n,l){if(n&1&&(S(0,"img",59),g(1,"cmsthumbnail")),n&2){let e=p();c("src",k(_(1,2,e.dataModel.linkMainImageIdSrc)),K)}}function qd(n,l){if(n&1){let e=T();r(0,"div",18)(1,"label",60),C("click",function(){u(e);let t=p();return f(t.fileManagerOpenForm=!0)}),d(2),g(3,"translate"),a(),r(4,"input",61,8),g(6,"translate"),w("ngModelChange",function(t){u(e);let s=p();return E(s.dataModel.linkMainImageId,t)||(s.dataModel.linkMainImageId=t),f(t)}),C("click",function(){u(e);let t=p();return f(t.fileManagerOpenForm=!0)}),a(),r(7,"cms-file-manager",62),C("itemSelected",function(t){u(e);let s=p();return f(s.onActionFileSelectedLinkMainImageId(t))}),w("openFormChange",function(t){u(e);let s=p();return E(s.fileManagerOpenForm,t)||(s.fileManagerOpenForm=t),f(t)}),a()()}if(n&2){let e=p();o(2),v(_(3,12,"TITLE.Original_Photo")),o(2),c("placeholder",k(_(6,14,"TITLE.Original_File_ID"))),y("ngModel",e.dataModel.linkMainImageId),o(3),c("language",e.appLanguage)("isPopup",!0),y("openForm",e.fileManagerOpenForm),c("tree",e.fileManagerTree)("openDirectUploadView",!0)("openFilemanagerButtonLabelKey","select")("selectFileType",e.selectFileTypeMainImage)("openFilemanagerButtonView",!1)}}function jd(n,l){if(n&1){let e=T();r(0,"div",53)(1,"button",54),C("click",function(){u(e);let t=p();return f(t.onActionBackToParent())}),d(2),g(3,"translate"),a(),r(4,"button",58),d(5),g(6,"translate"),a(),r(7,"button",55),S(8,"i",56),d(9),g(10,"translate"),a()()}if(n&2){p();let e=x(10);o(2),h(" ",_(3,4,"ACTION.BACK")," "),o(3),h(" ",_(6,6,"ACTION.BEFOR")," "),o(2),c("disabled",!e.form.valid),o(2),h(" ",_(10,8,"ACTION.SAVE")," ")}}function Ud(n,l){n&1&&(r(0,"mat-icon"),d(1,"call_end"),a())}function Qd(n,l){n&1&&(r(0,"mat-icon"),d(1,"call_end"),a())}function zd(n,l){n&1&&(r(0,"mat-icon"),d(1,"forum"),a())}function Kd(n,l){n&1&&(r(0,"mat-icon"),d(1,"forum"),a())}var Fn=class Fn extends et{constructor(e,i,t,s,M,m,R,H){super(s,new di,i,H);this.activatedRoute=e;this.publicHelper=i;this.contentCategoryService=t;this.linkManagementBillboardService=s;this.cmsToastrService=M;this.router=m;this.cdr=R;this.translate=H;this.requestId=0;this.constructorInfoAreaId=this.constructor.name;this.dataModel=new di;this.dataModelResult=new Ye;this.dataModelEnumManagementContentSettingTypeResult=new W;this.dataModelEnumSharingPriceTypeResult=new W;this.optionActionTitle="";this.optionActionButtomEnable=!0;this.optionTabledisplayedColumns=["id","Option","OptionAnswer","IsCorrectAnswer","NumberOfVotes","ScoreOfVotes","Action"];this.dataContentCategoryModel=[];this.selectFileTypeMainImage=["jpg","jpeg","png"];this.selectFileTypePodcast=["mp3"];this.selectFileTypeMovie=["mp4","webm"];this.formInfo=new ie;this.fileManagerOpenForm=!1;this.fileManagerOpenFormPodcast=!1;this.fileManagerOpenFormMovie=!1;this.appLanguage="fa";this.viewMap=!1;this.mapMarkerPoints=[];this.mapOptonCenter=new Fi;this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),this.translate.get("ACTION.Add_To_List").subscribe(j=>{this.optionActionTitle=j})}ngOnInit(){if(this.requestId=+Number(this.activatedRoute.snapshot.paramMap.get("id")),this.requestId===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.DataGetOne(),this.DataCategoryGetAll()}onActionFileSelectedLinkMainImageId(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}onFormSubmit(){if(this.requestId<=0){this.cmsToastrService.typeErrorEditRowIsNull();return}if(!this.formGroup.valid){this.cmsToastrService.typeErrorFormInvalid();return}this.DataEditContent()}DataGetOne(){this.formInfo.submitButtonEnabled=!1,this.translate.get("MESSAGE.get_information_from_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.linkManagementBillboardService.setAccessLoad(),this.linkManagementBillboardService.setAccessDataType(be.Editor),this.linkManagementBillboardService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.dataAccessModel=i.access,this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModelResult=i,this.formInfo.submitButtonEnabled=!0,i.isSuccess?this.dataModel=i.item:this.cmsToastrService.typeErrorGetOne(i.errorMessage),this.publicHelper.processService.processStop(e)},error:i=>{this.publicHelper.processService.processStop(e),this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeErrorGetOne(i)}})}DataEditContent(){this.dataModel.bgColor=this.dataModel.bgColor?.toString(),this.formInfo.submitButtonEnabled=!1,this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.linkManagementBillboardService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.publicHelper.processService.processStop(e),this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessEdit()):this.cmsToastrService.typeErrorEdit(i.errorMessage),this.publicHelper.processService.processStop(e)},error:i=>{this.publicHelper.processService.processStop(e),this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i)}})}onActionSelectorSelectLinkManagementMemberId(e){if(!e||e.id<=0){this.translate.get("MESSAGE.Type_of_User_account_is_not_known").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkBillboardPatternId=e.id}onActionSelectorSelectLinkBillboardPatternId(e){if(!e||e.id<=0){this.translate.get("MESSAGE.Category_of_billboard_information_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkBillboardPatternId=e.id}DataCategoryGetAll(){this.formInfo.submitButtonEnabled=!1,this.translate.get("MESSAGE.get_category_information_from_the_server").subscribe(s=>{this.formInfo.submitResultMessage=s}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(s=>{this.publicHelper.processService.processStart(e,s,this.constructorInfoAreaId)});let i=new Ie,t=new ne;t.propertyName="LinkManagementBillboardId",t.value=this.requestId,t.clauseType=at.And,i.filters.push(t),this.tagIdsData=[],this.contentCategoryService.ServiceGetAll(i).subscribe({next:s=>{let M=[];s.listItems.forEach(m=>{M.push(m.linkCategoryId)}),this.dataContentCategoryModel=M,this.formInfo.submitButtonEnabled=!0,this.publicHelper.processService.processStop(e)},error:s=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeErrorGetAll(s),this.publicHelper.processService.processStop(e)}})}onActionCategorySelectChecked(e){if(!e||e<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}let i=new Xi;i.linkCategoryId=e,i.linkManagementBillboardId=this.dataModel.id,this.contentCategoryService.ServiceAdd(i).subscribe({next:t=>{t.isSuccess?(this.translate.get("MESSAGE.registration_in_this_group_was_successful").subscribe(s=>{this.formInfo.submitResultMessage=s,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessEdit()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(s=>{this.formInfo.submitResultMessage=s}),this.formInfo.submitResultMessage=t.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(t.errorMessage))},error:t=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(t)}})}onActionCategorySelectDisChecked(e){if(!e||e<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}let i=new Xi;i.linkCategoryId=e,i.linkManagementBillboardId=this.dataModel.id,this.contentCategoryService.ServiceDeleteEntity(i).subscribe({next:t=>{t.isSuccess?(this.translate.get("MESSAGE.registration_in_this_group_was_successful").subscribe(s=>{this.formInfo.submitResultMessage=s,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessEdit()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(s=>{this.formInfo.submitResultMessage=s}),this.formInfo.submitResultMessage=t.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(t.errorMessage))},error:t=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(t)}})}onStepClick(e,i){e.previouslySelectedIndex<e.selectedIndex&&(this.formGroup.valid||(this.cmsToastrService.typeErrorFormInvalid(),setTimeout(()=>{i.selectedIndex=e.previouslySelectedIndex},10)))}onActionBackToParent(){this.router.navigate(["/linkmanagement/billboard/"])}};Fn.\u0275fac=function(i){return new(i||Fn)(b(Xe),b(F),b(Ki),b(oi),b(N),b(We),b(B),b(P))},Fn.\u0275cmp=D({type:Fn,selectors:[["app-linkmanagement-billboard-edit"]],viewQuery:function(i,t){if(i&1&&Y(kd,5),i&2){let s;Z(s=$())&&(t.formGroup=s.first)}},standalone:!1,features:[X],decls:84,vars:75,consts:[["vform","ngForm"],["stepper",""],["Title",""],["CurrentClickCount",""],["CurrentViewCount",""],["FromDate",""],["bgColor",""],["bgColorPicker",""],["LinkMainImageId",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"selectionChange"],["state","main",3,"label"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","fa fa-times invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],[4,"ngIf"],[3,"optionChange","optionSelectForce","optionPlaceholder"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4 cms-input-group",4,"ngIf"],["for","dataModel.currentClickCount",1,"color-highlight"],["matInput","","type","number","name","dataModel.currentClickCount","minlength","0","required","","id","dataModel.currentClickCount",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.currentViewCount",1,"color-highlight"],["matInput","","type","number","name","dataModel.currentViewCount","minlength","0","required","","id","dataModel.currentViewCount",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","cms-input-group"],["for","dataModel.fromDate",1,"color-highlight"],["matInput","","type","text","name","dataModel.bgColor","id","dataModel.fromDate",1,"form-control","validate-name",3,"ngModelChange","ngModel","matDatepicker"],["matSuffix","",3,"for"],["touchUi",""],["class","form-actions",4,"ngIf"],["state","seo",3,"label"],[3,"optionModelChange","optionSelectChecked","optionSelectDisChecked","optionModel"],["state","file",3,"label"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align: middle","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["matStepperIcon","main"],["matStepperIcon","seo"],["matStepperIcon","file"],["matStepperIcon","loaction"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.bgColor",1,"color-highlight"],["matInput","","type","text","name","dataModel.bgColor","minlength","3","maxlength","100","required","","id","dataModel.bgColor",1,"form-control","validate-name",3,"ngModelChange","ngModel","ngxMatColorPicker","placeholder","disabled"],[3,"touchUi","color"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"],["type","button","matStepperNext","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue",3,"disabled"],["type","button","matStepperPrevious","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openDirectUploadView","openFilemanagerButtonLabelKey","selectFileType","openFilemanagerButtonView"]],template:function(i,t){if(i&1){let s=T();r(0,"div",9),S(1,"app-progress-spinner",10),r(2,"div",11)(3,"p",12),d(4),a(),r(5,"p"),d(6),g(7,"translate"),a(),S(8,"app-cms-form-result-message",13),r(9,"form",14,0),C("ngSubmit",function(){return u(s),f(t.onFormSubmit())}),r(11,"mat-vertical-stepper",15,1),C("selectionChange",function(m){u(s);let R=x(12);return f(t.onStepClick(m,R))}),r(13,"mat-step",16),g(14,"translate"),I(15,Ld,1,5,"app-cms-enum-record-status-selector",17),r(16,"div",18)(17,"label",19),d(18),a(),r(19,"input",20,2),w("ngModelChange",function(m){return u(s),E(t.dataModel.title,m)||(t.dataModel.title=m),f(m)}),a(),I(21,Ad,1,0,"i",21)(22,xd,1,0,"i",22),r(23,"em"),d(24),a(),I(25,Rd,5,4,"mat-error",23),a(),r(26,"app-linkmanagement-member-selector",24),g(27,"translate"),C("optionChange",function(m){return u(s),f(t.onActionSelectorSelectLinkManagementMemberId(m))}),a(),r(28,"app-linkmanagement-billboard-pattern-selector",24),g(29,"translate"),C("optionChange",function(m){return u(s),f(t.onActionSelectorSelectLinkBillboardPatternId(m))}),a(),I(30,Dd,8,11,"div",25),r(31,"div",18)(32,"label",26),d(33),a(),r(34,"input",27,3),g(36,"translate"),w("ngModelChange",function(m){return u(s),E(t.dataModel.currentClickCount,m)||(t.dataModel.currentClickCount=m),f(m)}),a(),I(37,Bd,1,0,"i",21)(38,Pd,1,0,"i",22)(39,Vd,5,3,"mat-error",23),a(),r(40,"div",18)(41,"label",28),d(42),a(),r(43,"input",29,4),g(45,"translate"),w("ngModelChange",function(m){return u(s),E(t.dataModel.currentViewCount,m)||(t.dataModel.currentViewCount=m),f(m)}),a(),I(46,Nd,1,0,"i",21)(47,Fd,1,0,"i",22)(48,Od,5,3,"mat-error",23),a(),r(49,"div",30)(50,"label",31),d(51),a(),r(52,"input",32),w("ngModelChange",function(m){return u(s),E(t.dataModel.fromDate,m)||(t.dataModel.fromDate=m),f(m)}),a(),S(53,"mat-datepicker-toggle",33)(54,"mat-datepicker",34,5),a(),I(56,Gd,11,11,"div",35),a(),r(57,"mat-step",36),g(58,"translate"),r(59,"app-linkmanagement-category-treeselector",37),w("optionModelChange",function(m){return u(s),E(t.dataContentCategoryModel,m)||(t.dataContentCategoryModel=m),f(m)}),C("optionSelectChecked",function(m){return u(s),f(t.onActionCategorySelectChecked(m))})("optionSelectDisChecked",function(m){return u(s),f(t.onActionCategorySelectDisChecked(m))}),a(),S(60,"br"),I(61,Wd,14,14,"div",35),a(),r(62,"mat-step",38),g(63,"translate"),r(64,"p"),d(65),g(66,"translate"),a(),r(67,"div",39)(68,"a",40),g(69,"cmsthumbnail"),I(70,Hd,2,4,"img",41),a()(),I(71,qd,8,16,"div",42)(72,jd,11,10,"div",35),a(),I(73,Ud,2,0,"ng-template",43)(74,Qd,2,0,"ng-template",44)(75,zd,2,0,"ng-template",45)(76,Kd,2,0,"ng-template",46),a(),S(77,"hr"),d(78),g(79,"translate"),S(80,"br"),r(81,"div")(82,"pre"),d(83),a()()()()()}if(i&2){let s=x(20),M=x(35),m=x(44),R=x(55);o(),c("optionsInfoAreaId",t.constructorInfoAreaId),o(3),h(" ",t.formInfo.formTitle," "),o(2),h(" ",_(7,53,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),c("formInfo",t.formInfo),o(5),c("label",k(_(14,55,"TITLE.REQUIRED_INFORMATION"))),o(2),c("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),o(3),v(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),c("placeholder",k(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),y("ngModel",t.dataModel.title),o(2),c("ngIf",!s.value),o(),c("ngIf",s.value),o(2),h("",s.value.length," / 100"),o(),c("ngIf",s.errors==null?null:s.errors.required),o(),c("optionSelectForce",t.dataModel.linkManagementMemberId)("optionPlaceholder",_(27,57,"TITLE.User_Account")),o(2),c("optionSelectForce",t.dataModel.linkBillboardPatternId)("optionPlaceholder",_(29,59,"TITLE.Billboard_Pattern")),o(2),c("ngIf",t.fieldsInfo.bgColor==null?null:t.fieldsInfo.bgColor.accessWatchField),o(3),v(t.fieldsInfo.currentClickCount==null?null:t.fieldsInfo.currentClickCount.fieldTitle),o(),c("placeholder",k(_(36,61,"TITLE.Number_of_click_so_far"))),y("ngModel",t.dataModel.currentClickCount),o(3),c("ngIf",!M.value),o(),c("ngIf",M.value),o(),c("ngIf",M.errors==null?null:M.errors.required),o(3),v(t.fieldsInfo.currentViewCount==null?null:t.fieldsInfo.currentViewCount.fieldTitle),o(),c("placeholder",k(_(45,63,"TITLE.Number_of_views_so_far"))),y("ngModel",t.dataModel.currentViewCount),o(3),c("ngIf",!m.value),o(),c("ngIf",m.value),o(),c("ngIf",m.errors==null?null:m.errors.required),o(3),v(t.fieldsInfo.fromDate==null?null:t.fieldsInfo.fromDate.fieldTitle),o(),y("ngModel",t.dataModel.fromDate),c("matDatepicker",R),o(),c("for",R),o(3),c("ngIf",t.formInfo.submitButtonEnabled),o(),c("label",k(_(58,65,"TITLE.TARGET_SELECTION"))),o(2),y("optionModel",t.dataContentCategoryModel),o(2),c("ngIf",t.formInfo.submitButtonEnabled),o(),c("label",k(_(63,67,"TITLE.ATTACH_FILES"))),o(3),v(_(66,69,"TITLE.CONTENT_ATTACH_FILES")),o(3),c("href",k(_(69,71,t.dataModel.linkMainImageIdSrc)),K),o(2),c("ngIf",(t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0),o(),c("ngIf",t.fieldsInfo.linkMainImageId==null?null:t.fieldsInfo.linkMainImageId.accessWatchField),o(),c("ngIf",t.formInfo.submitButtonEnabled),o(6),h(" ",_(79,73,"TITLE.HTML_CODE")," "),o(5),h("      ",t.dataModel.billboardScript)}},dependencies:[O,Te,U,Ne,Q,Ce,z,fe,ge,te,ve,Ai,xi,Ri,ye,wi,xe,G,Bi,Pi,Vi,Ni,Di,we,q,Ee,Oi,Fe,Io,bo,So,$e,si,$t,li,V,_e],encapsulation:2});var Po=Fn;var Jd=["vform"];function Xd(n,l){if(n&1){let e=T();L(0),r(1,"div",7)(2,"label",8),d(3),a(),r(4,"input",9,0),w("ngModelChange",function(t){u(e);let s=p();return E(s.dataModelResultContent.item.title,t)||(s.dataModelResultContent.item.title=t),f(t)}),a()(),A()}if(n&2){let e=p();o(3),v(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),o(),c("placeholder",k(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle)),y("ngModel",e.dataModelResultContent.item.title)}}function Yd(n,l){if(n&1){let e=T();r(0,"div",10)(1,"button",11),C("click",function(){u(e);let t=p();return f(t.onFormDelete())}),S(2,"i",12),d(3),g(4,"translate"),a(),r(5,"button",13),C("click",function(){u(e);let t=p();return f(t.onFormCancel())}),S(6,"i",14),d(7),g(8,"translate"),a()()}if(n&2){let e=p();o(),c("disabled",!e.formInfo.submitButtonEnabled),o(2),h(" ",_(4,3,"ACTION.DELETE")," "),o(4),h(" ",_(8,5,"ACTION.CANCEL")," ")}}var On=class On{constructor(l,e,i,t,s,M,m){this.data=l;this.dialogRef=e;this.publicHelper=i;this.linkManagementBillboardService=t;this.cdr=s;this.translate=M;this.cmsToastrService=m;this.requestId=0;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.dataModelResultContent=new W;this.formInfo=new ie;this.publicHelper.processService.cdr=this.cdr,l&&(this.requestId=+l.id||0)}ngOnInit(){if(this.requestId<=0){this.cmsToastrService.typeErrorDeleteRowIsNull(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOne()}DataGetOne(){if(this.requestId===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.translate.get("TITLE.Loading_Information").subscribe(e=>{this.formInfo.submitResultMessage=e});let l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(l,e,this.constructorInfoAreaId)}),this.linkManagementBillboardService.setAccessLoad(),this.linkManagementBillboardService.setAccessDataType(be.Editor),this.linkManagementBillboardService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModelResultContent=e,e.isSuccess?this.formInfo.submitResultMessage="":(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.formInfo.submitResultMessageType=FormSubmitedStatusEnum.Success,this.cmsToastrService.typeErrorGetOne()),this.publicHelper.processService.processStop(l)},error:e=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessageType=FormSubmitedStatusEnum.Success,this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(l,!1)}})}onFormDelete(){if(this.requestId===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.formInfo.submitButtonEnabled=!1,this.formInfo.submitButtonEnabled=!1;let l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(l,e,this.constructorInfoAreaId)}),this.linkManagementBillboardService.ServiceDelete(this.requestId).subscribe({next:e=>{this.formInfo.submitButtonEnabled=!e.isSuccess,e.isSuccess?(this.translate.get("MESSAGE.Deletion_Was_Successful").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.cmsToastrService.typeSuccessRemove(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.cmsToastrService.typeErrorRemove()),this.formInfo.submitButtonEnabled=!0,this.publicHelper.processService.processStop(l)},error:e=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(e),this.formInfo.submitButtonEnabled=!0,this.publicHelper.processService.processStop(l)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};On.\u0275fac=function(e){return new(e||On)(b(le),b(ae),b(F),b(oi),b(B),b(P),b(N))},On.\u0275cmp=D({type:On,selectors:[["app-linkmanagement-billboard-delete"]],viewQuery:function(e,i){if(e&1&&Y(Jd,5),e&2){let t;Z(t=$())&&(i.formGroup=t.first)}},standalone:!1,decls:12,vars:10,consts:[["Writer",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[4,"ngIf"],["class","form-actions",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModelResultContent.item.title",1,"color-highlight"],["matInput","","name","dataModelResultContent.item.title","type","text","required","","id","dataModelResultContent.item.title","readonly","",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click","disabled"],[1,"fa","fa-check-square-o"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,i){e&1&&(r(0,"div",1),S(1,"app-progress-spinner",2),r(2,"div",3)(3,"p",4),d(4),g(5,"translate"),a(),r(6,"p"),d(7),g(8,"translate"),a(),d(9),I(10,Xd,6,4,"ng-container",5)(11,Yd,9,7,"div",6),a()()),e&2&&(o(),c("optionsInfoAreaId",i.constructorInfoAreaId),o(3),h(" ",_(5,6,"TITLE.EDIT_USER_ACCOUNT")," "),o(3),h(" ",_(8,8,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),h(" ",i.formInfo.formTitle," "),o(),c("ngIf",i.dataModelResultContent==null?null:i.dataModelResultContent.item),o(),c("ngIf",i.formInfo.submitButtonEnabled))},dependencies:[O,U,Q,z,te,G,q,V],encapsulation:2});var Vo=On;var Zd=["vform"];function $d(n,l){if(n&1){let e=T();r(0,"app-cms-enum-record-status-selector",22),w("modelChange",function(t){u(e);let s=p();return E(s.dataModel.recordStatus,t)||(s.dataModel.recordStatus=t),f(t)}),a()}if(n&2){let e=p();y("model",e.dataModel.recordStatus),c("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function em(n,l){n&1&&S(0,"i",23)}function tm(n,l){n&1&&S(0,"i",24)}function im(n,l){if(n&1&&(r(0,"mat-error"),d(1),r(2,"strong"),d(3),g(4,"translate"),a()()),n&2){let e=p();o(),h(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," is "),o(2),v(_(4,2,"MESSAGE.required"))}}function nm(n,l){if(n&1&&(r(0,"mat-error"),d(1),r(2,"strong"),d(3),g(4,"translate"),a()()),n&2){let e=p(2);o(),h(" ",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle," is "),o(2),v(_(4,2,"MESSAGE.required"))}}function om(n,l){if(n&1){let e=T();r(0,"div",11)(1,"label",25),d(2),a(),r(3,"textarea",26,2),w("ngModelChange",function(t){u(e);let s=p();return E(s.dataModel.description,t)||(s.dataModel.description=t),f(t)}),d(5,"        "),a(),r(6,"em"),d(7),a(),I(8,nm,5,4,"mat-error",16),a()}if(n&2){let e=x(4),i=p();o(2),v(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle),o(),c("placeholder",k(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle)),y("ngModel",i.dataModel.description),o(4),h("",e.value.length," / 500"),o(),c("ngIf",e.errors==null?null:e.errors.required)}}function rm(n,l){if(n&1&&(S(0,"img",27),g(1,"cmsthumbnail")),n&2){let e=p();c("src",k(_(1,2,e.dataModel.linkMainImageIdSrc)),K)}}function am(n,l){if(n&1){let e=T();r(0,"div",11)(1,"label",28),C("click",function(){u(e);let t=p();return f(t.fileManagerOpenForm=!0)}),d(2),g(3,"translate"),a(),r(4,"input",29,3),g(6,"translate"),w("ngModelChange",function(t){u(e);let s=p();return E(s.dataModel.linkMainImageId,t)||(s.dataModel.linkMainImageId=t),f(t)}),C("click",function(){u(e);let t=p();return f(t.fileManagerOpenForm=!0)}),a(),r(7,"cms-file-manager",30),C("itemSelected",function(t){u(e);let s=p();return f(s.onActionFileSelected(t))}),w("openFormChange",function(t){u(e);let s=p();return E(s.fileManagerOpenForm,t)||(s.fileManagerOpenForm=t),f(t)}),a()()}if(n&2){let e=p();o(2),v(_(3,12,"TITLE.Icon_File")),o(2),c("placeholder",k(_(6,14,"TITLE.Original_File_ID"))),y("ngModel",e.dataModel.linkMainImageId),o(3),c("language",e.appLanguage)("isPopup",!0)("openDirectUploadView",!0),y("openForm",e.fileManagerOpenForm),c("tree",e.fileManagerTree)("openFilemanagerButtonLabelKey","select")("selectFileType",e.selectFileTypeMainImage)("openFilemanagerButtonView",!1)}}function lm(n,l){if(n&1){let e=T();r(0,"div",31)(1,"button",32),C("click",function(){u(e);let t=p();return f(t.onFormCancel())}),S(2,"i",33),d(3),g(4,"translate"),a(),r(5,"button",34),S(6,"i",35),d(7),g(8,"translate"),a()()}if(n&2){p();let e=x(10);o(3),h(" ",_(4,3,"ACTION.CANCEL")," "),o(2),c("disabled",!e.form.valid),o(2),h(" ",_(8,5,"ACTION.SAVE")," ")}}var Gn=class Gn extends Et{constructor(e,i,t,s,M,m,R,H){super(s,new Gt,m,H);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.categoryService=s;this.cmsToastrService=M;this.publicHelper=m;this.cdr=R;this.translate=H;this.requestParentId=0;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new W;this.dataModel=new Gt;this.formInfo=new ie;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,e&&(this.requestParentId=+e.parentId||0),this.requestParentId>0&&(this.dataModel.linkParentId=this.requestParentId),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}onActionFileSelected(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}ngOnInit(){this.translate.get("TITLE.Register_New_Categories").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess()}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.categoryService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Gn.\u0275fac=function(i){return new(i||Gn)(b(le),b(ae),b(ee),b(st),b(N),b(F),b(B),b(P))},Gn.\u0275cmp=D({type:Gn,selectors:[["app-linkmanagement-category-add"]],viewQuery:function(i,t){if(i&1&&Y(Zd,5),i&2){let s;Z(s=$())&&(t.formGroup=s.first)}},standalone:!1,features:[X],decls:29,vars:23,consts:[["vform","ngForm"],["Title",""],["Description",""],["LinkMainImageId",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","fa fa-times invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],[4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align: middle","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openDirectUploadView","openForm","tree","openFilemanagerButtonLabelKey","selectFileType","openFilemanagerButtonView"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=T();r(0,"div",4),S(1,"app-progress-spinner",5),r(2,"div",6)(3,"p",7),d(4),a(),r(5,"p"),d(6),g(7,"translate"),a(),S(8,"app-cms-form-result-message",8),r(9,"form",9,0),C("ngSubmit",function(){return u(s),f(t.onFormSubmit())}),I(11,$d,1,5,"app-cms-enum-record-status-selector",10),r(12,"div",11)(13,"label",12),d(14),a(),r(15,"input",13,1),w("ngModelChange",function(m){return u(s),E(t.dataModel.title,m)||(t.dataModel.title=m),f(m)}),a(),I(17,em,1,0,"i",14)(18,tm,1,0,"i",15),r(19,"em"),d(20),a(),I(21,im,5,4,"mat-error",16),a(),I(22,om,9,6,"div",17),r(23,"div",18)(24,"a",19),g(25,"cmsthumbnail"),I(26,rm,2,4,"img",20),a()(),I(27,am,8,16,"div",17)(28,lm,9,7,"div",21),a()()()}if(i&2){let s=x(16);o(),c("optionsInfoAreaId",t.constructorInfoAreaId),o(3),h(" ",t.formInfo.formTitle," "),o(2),h(" ",_(7,19,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),c("formInfo",t.formInfo),o(3),c("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),o(3),v(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),c("placeholder",k(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),y("ngModel",t.dataModel.title),o(2),c("ngIf",!s.value),o(),c("ngIf",s.value),o(2),h("",s.value.length," / 100"),o(),c("ngIf",s.errors==null?null:s.errors.required),o(),c("ngIf",t.fieldsInfo.description==null?null:t.fieldsInfo.description.accessWatchField),o(2),c("href",k(_(25,21,t.dataModel.linkMainImageIdSrc)),K),o(2),c("ngIf",(t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0),o(),c("ngIf",t.fieldsInfo.linkMainImageId==null?null:t.fieldsInfo.linkMainImageId.accessWatchField),o(),c("ngIf",t.formInfo.submitButtonEnabled)}},dependencies:[O,Te,U,Q,Ce,z,fe,ge,te,ve,ye,G,we,q,Ee,$e,V,_e],encapsulation:2});var No=Gn;var sm=["*"];function cm(n,l){if(n&1&&(r(0,"label",14),d(1),a()),n&2){let e=p();c("for",Ht("app-cms-site-selector-",e.id)),o(),v(e.optionLabel)}}function dm(n,l){if(n&1&&(S(0,"img",15),g(1,"cmsthumbnail")),n&2){let e=p();c("src",k(_(1,2,e.dataModelSelect==null?null:e.dataModelSelect.linkMainImageIdSrc)),K)}}function mm(n,l){if(n&1&&(S(0,"img",15),g(1,"cmsthumbnail")),n&2){let e=p().$implicit;c("src",k(_(1,2,e.linkMainImageIdSrc)),K)}}function pm(n,l){if(n&1&&(r(0,"mat-option",16),I(1,mm,2,4,"img",5),r(2,"span"),d(3),a()()),n&2){let e=l.$implicit,i=p();c("value",e)("disabled",i.optionDisabled),o(),c("ngIf",e.linkMainImageIdSrc),o(2),v(i.displayOption(e))}}function um(n,l){n&1&&S(0,"i",17)}function fm(n,l){n&1&&S(0,"i",18)}function gm(n,l){if(n&1){let e=T();r(0,"i",19),C("click",function(){u(e);let t=p();return f(t.onActionSelectClear())}),a()}}function _m(n,l){n&1&&(r(0,"em"),d(1),g(2,"translate"),a()),n&2&&(o(),h("(",_(2,1,"TITLE.Necessary"),")"))}var qi=class qi{constructor(l,e,i,t,s,M){this.coreEnumService=l;this.cmsToastrService=e;this.cdr=i;this.publicHelper=t;this.translate=s;this.categoryService=M;this.id=++qi.nextId;this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new W;this.dataModelSelect=new Gt;this.formControl=new Ti;this.optionPlaceholder="";this.optionSelectFirstItem=!1;this.optionDisabled=!1;this.optionRequired=!1;this.optionLabel="";this.optionChange=new Je;this.optionReload=()=>this.onActionButtonReload();this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(l){this.onActionSelectForce(l)}ngOnInit(){this.loadOptions(),(!this.optionLabel||this.optionLabel.length==0&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder)}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(Mi(""),gi(1500),_i(),hi(l=>typeof l=="string"||typeof l=="number"?this.DataGetAll(l||""):[]))}displayFn(l){return l?l.title:void 0}displayOption(l){return l?l.title:void 0}DataGetAll(l){return Ae(this,null,function*(){let e=new Ie;e.rowPerPage=20,e.accessLoad=!0;let i=new ne;i.propertyName="title",i.value=l,i.searchType=jt.Contains,i.clauseType=at.Or,e.filters.push(i),l&&typeof+l=="number"&&+l>0&&(i=new ne,i.propertyName="id",i.value=l,i.searchType=jt.Equal,i.clauseType=at.Or,e.filters.push(i));let t=this.constructor.name+"main";return this.translate.get("MESSAGE.Receiving_information").subscribe(s=>{this.publicHelper.processService.processStart(t,s,this.constructorInfoAreaId)}),yield ui(this.categoryService.ServiceGetAll(e)).then(s=>(this.dataModelResult=s,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||this.dataModelSelect.id<=0)&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0])},1e3),this.onActionSelect(this.dataModelResult.listItems[0])),this.publicHelper.processService.processStop(t),s.listItems))})}onActionSelect(l){this.dataModelSelect=l,this.optionChange.emit(this.dataModelSelect)}onActionSelectClear(){this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null)}push(l){return this.filteredOptions.pipe(fi(e=>(e.find(i=>i.id===l.id)||e.push(l),e)))}onActionSelectForce(l){if(typeof l=="number"&&l>0){if(this.dataModelSelect&&this.dataModelSelect.id===l)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(e=>e.id===l)){let e=this.dataModelResult.listItems.find(i=>i.id===l);this.dataModelSelect=e,this.formControl.setValue(e);return}this.categoryService.ServiceGetOneById(l).subscribe({next:e=>{e.isSuccess?(this.filteredOptions=this.push(e.item),this.dataModelSelect=e.item,this.formControl.setValue(e.item),this.optionChange.emit(e.item)):this.cmsToastrService.typeErrorMessage(e.errorMessage)}});return}if(typeof l==typeof Gt){this.filteredOptions=this.push(l),this.dataModelSelect=l,this.formControl.setValue(l);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new Gt,this.loadOptions()}};qi.nextId=0,qi.\u0275fac=function(e){return new(e||qi)(b(ee),b(N),b(B),b(F),b(P),b(st))},qi.\u0275cmp=D({type:qi,selectors:[["app-linkmanagement-category-selector"]],inputs:{optionPlaceholder:"optionPlaceholder",optionSelectFirstItem:"optionSelectFirstItem",optionDisabled:"optionDisabled",optionRequired:"optionRequired",optionLabel:"optionLabel",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange"},standalone:!1,ngContentSelectors:sm,decls:18,vars:25,consts:[["matauto","matAutocomplete"],[1,"input-style","has-borders","has-icon","input-style-always-active","validate-field","mb-4","loader-container"],[3,"optionsInfoAreaId"],["class","color-highlight",3,"for",4,"ngIf"],["matPrefix",""],["style","vertical-align: middle","class","ntk-hover-zoom","aria-hidden","","height","25","width","25",3,"src",4,"ngIf"],["type","text","aria-label","Assignee","matInput","",3,"placeholder","formControl","matAutocomplete","required","id"],[3,"optionSelected","displayWith"],[3,"value","disabled",4,"ngFor","ngForOf"],["class","fa fa-info invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],["class","fa fa-times action color-red-dark",3,"click",4,"ngIf"],[1,"fa","fa-rotate-right","action","color-green-dark",2,"margin-left","20px",3,"click","title"],[4,"ngIf"],[1,"color-highlight",3,"for"],["aria-hidden","","height","25","width","25",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"value","disabled"],[1,"fa","fa-info","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"fa","fa-times","action","color-red-dark",3,"click"]],template:function(e,i){if(e&1){let t=T();Si(),r(0,"div",1),S(1,"app-progress-spinner",2),I(2,cm,2,3,"label",3),r(3,"span",4),I(4,dm,2,4,"img",5),d(5," \xA0"),a(),S(6,"input",6),r(7,"mat-autocomplete",7,0),C("optionSelected",function(M){return u(t),f(i.onActionSelect(M.option.value))}),I(9,pm,4,4,"mat-option",8),g(10,"async"),a(),I(11,um,1,0,"i",9)(12,fm,1,0,"i",10)(13,gm,1,0,"i",11),r(14,"i",12),g(15,"translate"),C("click",function(){return u(t),f(i.onActionButtonReload())}),a(),I(16,_m,3,3,"em",13),bi(17),a()}if(e&2){let t=x(8);o(),c("optionsInfoAreaId",i.constructorInfoAreaId),o(),c("ngIf",(i.optionLabel==null?null:i.optionLabel.length)>0),o(2),c("ngIf",i.dataModelSelect&&(i.dataModelSelect==null?null:i.dataModelSelect.linkMainImageIdSrc)),o(2),c("placeholder",k(i.optionPlaceholder))("id",Ht("app-cms-site-selector-",i.id))("formControl",i.formControl)("matAutocomplete",t)("required",i.optionRequired),ot("disabled",i.optionDisabled?!0:null),o(),c("displayWith",i.displayFn),o(2),c("ngForOf",_(10,21,i.filteredOptions)),o(2),c("ngIf",!i.formControl.valid),o(),c("ngIf",i.optionRequired&&i.formControl.valid),o(),c("ngIf",(i.dataModelSelect==null?null:i.dataModelSelect.id)>0),o(),J("rotation360",i.publicHelper.processService.process.inRunArea[i.constructorInfoAreaId]),c("title",k(_(15,23,"ACTION.RELOAD"))),o(2),c("ngIf",i.optionRequired&&(!i.dataModelSelect||!i.dataModelSelect.id||i.dataModelSelect.id<=0))}},dependencies:[je,O,U,Q,z,yi,ki,Ei,Li,_o,G,q,Ge,V,_e],encapsulation:2});var Fo=qi;var hm=["vform"];function Sm(n,l){if(n&1){let e=T();L(0),r(1,"div",8)(2,"label",9),d(3),a(),r(4,"input",10,0),w("ngModelChange",function(t){u(e);let s=p();return E(s.dataModelResultCategory.item.title,t)||(s.dataModelResultCategory.item.title=t),f(t)}),a()(),r(6,"div",8)(7,"label",11),d(8),a(),r(9,"textarea",12,1),w("ngModelChange",function(t){u(e);let s=p();return E(s.dataModelResultCategory.item.description,t)||(s.dataModelResultCategory.item.description=t),f(t)}),a()(),S(11,"app-linkmanagement-category-selector",13),g(12,"translate"),A()}if(n&2){let e=p();o(3),v(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),o(),c("placeholder",k(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle)),y("ngModel",e.dataModelResultCategory.item.title),o(4),v(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),o(),c("placeholder",k(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle)),y("ngModel",e.dataModelResultCategory.item.description),o(2),c("optionPlaceholder",_(12,9,"TITLE.Alternative_classification_to_move_information_to_this_branch"))}}function bm(n,l){if(n&1){let e=T();r(0,"div",14)(1,"button",15),C("click",function(){u(e);let t=p();return f(t.onFormCancel())}),S(2,"i",16),d(3),g(4,"translate"),a(),r(5,"button",17),C("click",function(){u(e);let t=p();return f(t.onFormDelete())}),S(6,"i",18),d(7),g(8,"translate"),a(),r(9,"button",19),C("click",function(){u(e);let t=p();return f(t.onFormMove())}),S(10,"i",16),d(11),g(12,"translate"),a()()}if(n&2){let e=p();o(3),h(" ",_(4,5,"ACTION.CANCEL")," "),o(2),c("disabled",!e.formInfo.submitButtonEnabled),o(2),h(" ",_(8,7,"ACTION.DELETE")," "),o(2),c("disabled",!e.formInfo.submitButtonEnabled),o(2),h(" ",_(12,9,"TITLE.MOVE_DATA")," ")}}var Wn=class Wn{constructor(l,e,i,t,s,M,m){this.data=l;this.dialogRef=e;this.publicHelper=i;this.categoryService=t;this.cdr=s;this.translate=M;this.cmsToastrService=m;this.requestId=0;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.dataModelResultCategory=new W;this.dataModelResultCategoryAllData=new W;this.dataModel={};this.formInfo=new ie;this.publicHelper.processService.cdr=this.cdr,l&&(this.requestId=+l.id||0)}ngOnInit(){if(this.requestId<=0){this.cmsToastrService.typeErrorDeleteRowIsNull(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOne(),this.DataGetAll()}DataGetOne(){if(this.requestId===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.translate.get("TITLE.Loading_Information").subscribe(e=>{this.formInfo.submitResultMessage=e});let l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(l,e,this.constructorInfoAreaId)}),this.categoryService.setAccessLoad(),this.categoryService.setAccessDataType(be.Editor),this.categoryService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModelResultCategory=e,e.isSuccess?this.formInfo.submitResultMessage="":(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.formInfo.submitResultMessageType=FormSubmitedStatusEnum.Success,this.cmsToastrService.typeErrorGetOne()),this.publicHelper.processService.processStop(l)},error:e=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessageType=FormSubmitedStatusEnum.Success,this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(l,!1)}})}DataGetAll(){this.translate.get("TITLE.Loading_Information").subscribe(i=>{this.formInfo.submitResultMessage=i});let l=new Ie;l.rowPerPage=100;let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.categoryService.ServiceGetAll(l).subscribe({next:i=>{this.dataModelResultCategoryAllData=i,i.isSuccess?this.formInfo.submitResultMessage="":(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=FormSubmitedStatusEnum.Success,this.cmsToastrService.typeErrorGetAll()),this.publicHelper.processService.processStop(e)},error:i=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessageType=FormSubmitedStatusEnum.Success,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormMove(){if(this.requestId===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}if(!this.formGroup.valid)return;this.formInfo.submitButtonEnabled=!0,this.dataModel.newCatId===this.requestId&&(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.translate.get("ERRORMESSAGE.MESSAGE.The_delete_category_ID_is_the_same_as_the_alternate_category").subscribe(e=>{this.formInfo.submitResultMessage=e,this.formInfo.submitButtonEnabled=!0})),this.formInfo.submitButtonEnabled=!1;let l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(l,e,this.constructorInfoAreaId)})}onFormDelete(){if(this.requestId===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.formInfo.submitButtonEnabled=!1,this.formInfo.submitButtonEnabled=!1;let l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(l,e,this.constructorInfoAreaId)}),this.categoryService.ServiceDelete(this.requestId).subscribe({next:e=>{this.formInfo.submitButtonEnabled=!e.isSuccess,e.isSuccess?(this.translate.get("MESSAGE.Deletion_Was_Successful").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.cmsToastrService.typeSuccessRemove(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.cmsToastrService.typeErrorRemove()),this.formInfo.submitButtonEnabled=!0,this.publicHelper.processService.processStop(l)},error:e=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(e),this.formInfo.submitButtonEnabled=!0,this.publicHelper.processService.processStop(l)}})}onFormChangeNewCatId(l){if(this.formInfo.submitResultMessage="",this.requestId===0||!l||l.id<=0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.dataModel.newCatId=l.id,this.dataModel.newCatId===this.requestId?(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.translate.get("ERRORMESSAGE.MESSAGE.The_delete_category_ID_is_the_same_as_the_alternate_category").subscribe(e=>{this.formInfo.submitResultMessage=e,this.formInfo.submitButtonEnabled=!1})):(this.formInfo.submitButtonEnabled=!0,this.formInfo.submitResultMessage="")}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Wn.\u0275fac=function(e){return new(e||Wn)(b(le),b(ae),b(F),b(st),b(B),b(P),b(N))},Wn.\u0275cmp=D({type:Wn,selectors:[["app-linkmanagement-category-delete"]],viewQuery:function(e,i){if(e&1&&Y(hm,5),e&2){let t;Z(t=$())&&(i.formGroup=t.first)}},standalone:!1,decls:10,vars:7,consts:[["Title",""],["Description",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[4,"ngIf"],["class","form-actions",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModelResultCategory.item.title",1,"color-highlight"],["matInput","","name","dataModelResultCategory.item.title","type","text","minlength","3","maxlength","50","required","","readonly","","id","dataModelResultCategory.item.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModelResultCategory.item.description",1,"color-highlight"],["matInput","","name","dataModelResultCategory.item.description","type","text","minlength","1","maxlength","100","readonly","","required","","rows","5","id","dataModelResultCategory.item.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[3,"optionPlaceholder"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click","disabled"],[1,"fa","fa-check-square-o"],["type","button","c","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click","disabled"]],template:function(e,i){e&1&&(r(0,"div",2),S(1,"app-progress-spinner",3),r(2,"div",4)(3,"p",5),d(4),a(),r(5,"p"),d(6),g(7,"translate"),a(),I(8,Sm,13,11,"ng-container",6)(9,bm,13,11,"div",7),a()()),e&2&&(o(),c("optionsInfoAreaId",i.constructorInfoAreaId),o(3),h(" ",i.formInfo.formTitle," "),o(2),h(" ",_(7,5,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),c("ngIf",i.dataModelResultCategory==null?null:i.dataModelResultCategory.item),o(),c("ngIf",i.formInfo.submitButtonEnabled))},dependencies:[O,U,Q,z,fe,ge,te,G,q,Fo,V],encapsulation:2});var Oo=Wn;var Im=["vform"];function Cm(n,l){if(n&1){let e=T();r(0,"app-cms-enum-record-status-selector",22),w("modelChange",function(t){u(e);let s=p();return E(s.dataModel.recordStatus,t)||(s.dataModel.recordStatus=t),f(t)}),a()}if(n&2){let e=p();y("model",e.dataModel.recordStatus),c("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function vm(n,l){n&1&&S(0,"i",23)}function Tm(n,l){n&1&&S(0,"i",24)}function ym(n,l){if(n&1&&(r(0,"mat-error"),d(1),r(2,"strong"),d(3),g(4,"translate"),a()()),n&2){let e=p();o(),h(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," is "),o(2),v(_(4,2,"MESSAGE.required"))}}function Em(n,l){if(n&1&&(r(0,"mat-error"),d(1),r(2,"strong"),d(3),g(4,"translate"),a()()),n&2){let e=p(2);o(),h(" ",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle," is "),o(2),v(_(4,2,"MESSAGE.required"))}}function wm(n,l){if(n&1){let e=T();r(0,"div",11)(1,"label",25),d(2),a(),r(3,"textarea",26,2),w("ngModelChange",function(t){u(e);let s=p();return E(s.dataModel.description,t)||(s.dataModel.description=t),f(t)}),d(5,"        "),a(),r(6,"em"),d(7),a(),I(8,Em,5,4,"mat-error",16),a()}if(n&2){let e=x(4),i=p();o(2),v(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle),o(),c("placeholder",k(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle)),y("ngModel",i.dataModel.description),o(4),h("",e.value.length," / 500"),o(),c("ngIf",e.errors==null?null:e.errors.required)}}function km(n,l){if(n&1&&(S(0,"img",27),g(1,"cmsthumbnail")),n&2){let e=p();c("src",k(_(1,2,e.dataModel.linkMainImageIdSrc)),K)}}function Lm(n,l){if(n&1){let e=T();r(0,"div",11)(1,"label",28),C("click",function(){u(e);let t=p();return f(t.fileManagerOpenForm=!0)}),d(2),g(3,"translate"),a(),r(4,"input",29,3),g(6,"translate"),w("ngModelChange",function(t){u(e);let s=p();return E(s.dataModel.linkMainImageId,t)||(s.dataModel.linkMainImageId=t),f(t)}),C("click",function(){u(e);let t=p();return f(t.fileManagerOpenForm=!0)}),a(),r(7,"cms-file-manager",30),C("itemSelected",function(t){u(e);let s=p();return f(s.onActionFileSelected(t))}),w("openFormChange",function(t){u(e);let s=p();return E(s.fileManagerOpenForm,t)||(s.fileManagerOpenForm=t),f(t)}),a()()}if(n&2){let e=p();o(2),v(_(3,12,"TITLE.Icon_File")),o(2),c("placeholder",k(_(6,14,"TITLE.Original_File_ID"))),y("ngModel",e.dataModel.linkMainImageId),o(3),c("language",e.appLanguage)("isPopup",!0)("openDirectUploadView",!0),y("openForm",e.fileManagerOpenForm),c("tree",e.fileManagerTree)("openFilemanagerButtonLabelKey","select")("selectFileType",e.selectFileTypeMainImage)("openFilemanagerButtonView",!1)}}function Am(n,l){if(n&1){let e=T();r(0,"div",31)(1,"button",32),C("click",function(){u(e);let t=p();return f(t.onFormCancel())}),S(2,"i",33),d(3),g(4,"translate"),a(),r(5,"button",34),S(6,"i",35),d(7),g(8,"translate"),a()()}if(n&2){p();let e=x(10);o(3),h(" ",_(4,3,"ACTION.CANCEL")," "),o(2),c("disabled",!e.form.valid),o(2),h(" ",_(8,5,"ACTION.SAVE")," ")}}var Hn=class Hn extends et{constructor(e,i,t,s,M,m,R,H){super(s,new Gt,m,H);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.categoryService=s;this.cmsToastrService=M;this.publicHelper=m;this.cdr=R;this.translate=H;this.requestId=0;this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new Ye;this.dataModel=new Gt;this.formInfo=new ie;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=+e.id||0),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}onActionFileSelected(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}ngOnInit(){if(this.requestId>0)this.translate.get("TITLE.Edit_Categories").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}}DataGetOneContent(){if(this.requestId<=0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.categoryService.setAccessLoad(),this.categoryService.setAccessDataType(be.Editor),this.categoryService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.categoryService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Hn.\u0275fac=function(i){return new(i||Hn)(b(le),b(ae),b(ee),b(st),b(N),b(F),b(B),b(P))},Hn.\u0275cmp=D({type:Hn,selectors:[["app-linkmanagement-category-edit"]],viewQuery:function(i,t){if(i&1&&Y(Im,5),i&2){let s;Z(s=$())&&(t.formGroup=s.first)}},standalone:!1,features:[X],decls:29,vars:23,consts:[["vform","ngForm"],["Title",""],["Description",""],["LinkMainImageId",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","fa fa-times invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],[4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align: middle","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openDirectUploadView","openForm","tree","openFilemanagerButtonLabelKey","selectFileType","openFilemanagerButtonView"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=T();r(0,"div",4),S(1,"app-progress-spinner",5),r(2,"div",6)(3,"p",7),d(4),a(),r(5,"p"),d(6),g(7,"translate"),a(),S(8,"app-cms-form-result-message",8),r(9,"form",9,0),C("ngSubmit",function(){return u(s),f(t.onFormSubmit())}),I(11,Cm,1,5,"app-cms-enum-record-status-selector",10),r(12,"div",11)(13,"label",12),d(14),a(),r(15,"input",13,1),w("ngModelChange",function(m){return u(s),E(t.dataModel.title,m)||(t.dataModel.title=m),f(m)}),a(),I(17,vm,1,0,"i",14)(18,Tm,1,0,"i",15),r(19,"em"),d(20),a(),I(21,ym,5,4,"mat-error",16),a(),I(22,wm,9,6,"div",17),r(23,"div",18)(24,"a",19),g(25,"cmsthumbnail"),I(26,km,2,4,"img",20),a()(),I(27,Lm,8,16,"div",17)(28,Am,9,7,"div",21),a()()()}if(i&2){let s=x(16);o(),c("optionsInfoAreaId",t.constructorInfoAreaId),o(3),h(" ",t.formInfo.formTitle," "),o(2),h(" ",_(7,19,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),c("formInfo",t.formInfo),o(3),c("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),o(3),v(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),c("placeholder",k(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),y("ngModel",t.dataModel.title),o(2),c("ngIf",!s.value),o(),c("ngIf",s.value),o(2),h("",s.value.length," / 100"),o(),c("ngIf",s.errors==null?null:s.errors.required),o(),c("ngIf",t.fieldsInfo.description==null?null:t.fieldsInfo.description.accessWatchField),o(2),c("href",k(_(25,21,t.dataModel.linkMainImageIdSrc)),K),o(2),c("ngIf",(t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0),o(),c("ngIf",t.fieldsInfo.linkMainImageId==null?null:t.fieldsInfo.linkMainImageId.accessWatchField),o(),c("ngIf",t.formInfo.submitButtonEnabled)}},dependencies:[O,Te,U,Q,Ce,z,fe,ge,te,ve,ye,G,we,q,Ee,$e,V,_e],encapsulation:2});var Go=Hn;function xm(n,l){if(n&1){let e=T();r(0,"button",14),C("click",function(){u(e);let t=p();return f(t.onActionAdd())}),d(1),g(2,"translate"),a()}n&2&&(o(),h(" ",_(2,1,"ACTION.ADD")," "))}function Rm(n,l){if(n&1){let e=T();r(0,"button",15),C("click",function(){u(e);let t=p();return f(t.onActionEdit())}),d(1),g(2,"translate"),a()}n&2&&(o(),h(" ",_(2,1,"ACTION.EDIT")," "))}function Dm(n,l){if(n&1){let e=T();r(0,"button",16),C("click",function(){u(e);let t=p();return f(t.onActionDelete())}),d(1),g(2,"translate"),a()}n&2&&(o(),h(" ",_(2,1,"ACTION.DELETE")," "))}function Bm(n,l){if(n&1){let e=T();r(0,"button",17),C("click",function(){u(e);let t=p();return f(t.onActionButtonReload())}),r(1,"mat-icon",18),g(2,"translate"),d(3,"refresh"),a()()}if(n&2){let e=p();o(),J("rotation360",e.publicHelper.processService.process.inRunArea[e.constructorInfoAreaId]),c("title",k(_(2,4,"ACTION.RELOAD")))}}function Pm(n,l){if(n&1){let e=T();r(0,"mat-tree-node",19),S(1,"button",20),r(2,"span",21),C("click",function(){let t=u(e).$implicit,s=p();return f(s.onActionSelect(t))}),d(3),a()()}if(n&2){let e=l.$implicit,i=p();J("ntk-tree-selected",i.dataModelSelect.id>0&&i.dataModelSelect.id===e.id),o(3),v(e.title)}}function Vm(n,l){if(n&1){let e=T();r(0,"mat-tree-node",22)(1,"button",23)(2,"mat-icon",24),d(3),a()(),r(4,"span",21),C("click",function(){let t=u(e).$implicit,s=p();return f(s.onActionSelect(t))}),d(5),a()()}if(n&2){let e=l.$implicit,i=p(),t=x(12);J("ntk-tree-selected",i.dataModelSelect.id>0&&i.dataModelSelect.id===e.id),c("cdkTreeNodeTypeaheadLabel",e.title)("isExpanded",e.isExpanded??!1),o(),ot("type","button")("aria-label","Toggle "+e.title),o(2),h(" ",t.isExpanded(e)?"expand_more":"chevron_right"," "),o(2),v(e.title)}}var qn=class qn{constructor(l,e,i,t,s,M,m,R,H){this.cmsToastrService=l;this.coreEnumService=e;this.categoryService=i;this.dialog=t;this.tokenHelper=s;this.cmsStoreService=M;this.translate=m;this.cdr=R;this.publicHelper=H;this.constructorInfoAreaId=this.constructor.name;this.dataModelSelect=new Gt;this.dataModelResult=new W;this.filterModel=new Ie;this.dataSource=new rn;this.optionChange=new Je;this.unsubscribe=[];this.optionReload=()=>this.onActionButtonReload();this.hasChild=(l,e)=>!!e.children&&e.children.length>0;this.childrenAccessor=l=>l.children??[];this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(l){this.onActionSelectForce(l)}ngOnInit(){this.unsubscribe.push(this.cmsStoreService.getState(l=>l.tokenInfoStore).subscribe(l=>Ae(this,null,function*(){this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(l=>l.unsubscribe())}DataGetAll(){this.filterModel.rowPerPage=200,this.filterModel.accessLoad=!0;let l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(l,e,this.constructorInfoAreaId)}),this.categoryService.ServiceGetAll(this.filterModel).subscribe({next:e=>{e.isSuccess?(this.dataModelResult=e,this.dataSource.data=this.dataModelResult.listItems):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(l)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(l,!1)}})}onActionSelect(l){this.dataModelSelect=l,this.optionChange.emit(this.dataModelSelect)}onActionButtonReload(){this.onActionSelect(null),this.dataModelSelect=new Gt,this.DataGetAll()}onActionSelectForce(l){}onActionAdd(){let l=0;this.dataModelSelect&&this.dataModelSelect.id>0&&(l=this.dataModelSelect.id);let e=new Yt;e.disableClose=!0,e.autoFocus=!0,e.data={parentId:l},this.dialog.open(No,e).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionEdit(){let l=0;if(this.dataModelSelect&&this.dataModelSelect.id>0&&(l=this.dataModelSelect.id),l===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorCategoryNotSelected").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(Go,{height:"90%",panelClass:e,enterAnimationDuration:oe.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:oe.cmsViewConfig.exitAnimationDuration,data:{id:l}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionDelete(){let l=0;if(this.dataModelSelect&&this.dataModelSelect.id>0&&(l=this.dataModelSelect.id),l===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorCategoryNotSelected").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(Oo,{height:"90%",panelClass:e,enterAnimationDuration:oe.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:oe.cmsViewConfig.exitAnimationDuration,data:{id:l}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}};qn.\u0275fac=function(e){return new(e||qn)(b(N),b(ee),b(st),b(Qe),b(qe),b(He),b(P),b(B),b(F))},qn.\u0275cmp=D({type:qn,selectors:[["app-linkmanagement-category-tree"]],inputs:{optionSelectForce:"optionSelectForce",optionReload:"optionReload"},outputs:{optionChange:"optionChange"},standalone:!1,decls:16,vars:14,consts:[["treeTagControl",""],[3,"optionHeaderDisplay","optionActionMainDisplay","optionFooterDisplay"],["cms-tree-header",""],["cms-tree-action",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-teal",3,"click",4,"ngIf"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-magenta",3,"click",4,"ngIf"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-red",3,"click",4,"ngIf"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-highlight",3,"click",4,"ngIf"],["cms-tree-body","",1,"loader-container"],[3,"optionsInfoAreaId"],[3,"dataSource","childrenAccessor"],["matTreeNodePadding","",3,"ntk-tree-selected",4,"matTreeNodeDef"],["matTreeNodePadding","","matTreeNodeToggle","","isExpandable","",3,"cdkTreeNodeTypeaheadLabel","isExpanded","ntk-tree-selected",4,"matTreeNodeDef","matTreeNodeDefWhen"],["cms-tree-footer",""],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[2,"font-size","20px","margin","-6px",3,"title"],["matTreeNodePadding",""],["matIconButton","","disabled",""],[3,"click"],["matTreeNodePadding","","matTreeNodeToggle","","isExpandable","",3,"cdkTreeNodeTypeaheadLabel","isExpanded"],["matIconButton","","matTreeNodeToggle",""],[1,"mat-icon-rtl-mirror"]],template:function(e,i){e&1&&(r(0,"app-cms-html-tree",1),L(1,2),d(2),g(3,"translate"),A(),L(4,3),I(5,xm,3,3,"button",4)(6,Rm,3,3,"button",5)(7,Dm,3,3,"button",6)(8,Bm,4,6,"button",7),A(),L(9,8),S(10,"app-progress-spinner",9),r(11,"mat-tree",10,0),I(13,Pm,4,3,"mat-tree-node",11)(14,Vm,6,8,"mat-tree-node",12),a(),A(),Oe(15,13),a()),e&2&&(c("optionHeaderDisplay",!0)("optionActionMainDisplay",!0)("optionFooterDisplay",!1),o(2),h(" ",_(3,12,"TABLE."+(i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.moduleEntityName))," "),o(3),c("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessAddRow),o(),c("ngIf",(i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessEditRow)&&(i.dataModelSelect==null?null:i.dataModelSelect.id)>0),o(),c("ngIf",(i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessDeleteRow)&&(i.dataModelSelect==null?null:i.dataModelSelect.id)>0),o(),c("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessWatchRow),o(2),c("optionsInfoAreaId",i.constructorInfoAreaId),o(),c("dataSource",i.dataSource)("childrenAccessor",i.childrenAccessor),o(3),c("matTreeNodeDefWhen",i.hasChild))},dependencies:[O,Ue,xe,en,tn,on,nn,$i,q,an,V],encapsulation:2});var jn=qn;function Nm(n,l){if(n&1){let e=T();r(0,"button",14),C("click",function(){u(e);let t=p();return f(t.onActionAdd())}),d(1),g(2,"translate"),a()}n&2&&(o(),h(" ",_(2,1,"ACTION.ADD")," "))}function Fm(n,l){if(n&1){let e=T();r(0,"button",15),C("click",function(){u(e);let t=p();return f(t.onActionEdit())}),d(1),g(2,"translate"),a()}n&2&&(o(),h(" ",_(2,1,"ACTION.EDIT")," "))}function Om(n,l){if(n&1){let e=T();r(0,"button",16),C("click",function(){u(e);let t=p();return f(t.onActionDelete())}),d(1),g(2,"translate"),a()}n&2&&(o(),h(" ",_(2,1,"ACTION.DELETE")," "))}function Gm(n,l){if(n&1){let e=T();r(0,"button",17),C("click",function(){u(e);let t=p();return f(t.onActionButtonReload())}),r(1,"mat-icon",18),g(2,"translate"),d(3,"refresh"),a()()}if(n&2){let e=p();o(),J("rotation360",e.publicHelper.processService.process.inRunArea[e.constructorInfoAreaId]),c("title",k(_(2,4,"ACTION.RELOAD")))}}function Wm(n,l){if(n&1){let e=T();r(0,"mat-tree-node",19),S(1,"button",20),r(2,"span",21),C("click",function(){let t=u(e).$implicit,s=p();return f(s.onActionSelect(t))}),d(3),a()()}if(n&2){let e=l.$implicit,i=p();J("ntk-tree-selected",i.dataModelSelect.id>0&&i.dataModelSelect.id===e.id),o(3),v(e.title)}}function Hm(n,l){if(n&1){let e=T();r(0,"mat-tree-node",22)(1,"button",23)(2,"mat-icon",24),d(3),a()(),r(4,"span",21),C("click",function(){let t=u(e).$implicit,s=p();return f(s.onActionSelect(t))}),d(5),a()()}if(n&2){let e=l.$implicit,i=p(),t=x(12);J("ntk-tree-selected",i.dataModelSelect.id>0&&i.dataModelSelect.id===e.id),c("cdkTreeNodeTypeaheadLabel",e.title)("isExpanded",e.isExpanded??!1),o(),ot("type","button")("aria-label","Toggle "+e.title),o(2),h(" ",t.isExpanded(e)?"expand_more":"chevron_right"," "),o(2),v(e.title)}}var Un=class Un{constructor(l,e,i,t,s,M,m,R,H){this.cmsToastrService=l;this.coreEnumService=e;this.categoryService=i;this.dialog=t;this.tokenHelper=s;this.cmsStoreService=M;this.translate=m;this.cdr=R;this.publicHelper=H;this.constructorInfoAreaId=this.constructor.name;this.dataModelSelect=new Ze;this.dataModelResult=new W;this.filterModel=new Ie;this.dataSource=new rn;this.optionChange=new Je;this.unsubscribe=[];this.optionReload=()=>this.onActionButtonReload();this.hasChild=(l,e)=>!1;this.childrenAccessor=l=>[];this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(l){this.onActionSelectForce(l)}ngOnInit(){this.unsubscribe.push(this.cmsStoreService.getState(l=>l.tokenInfoStore).subscribe(l=>Ae(this,null,function*(){this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(l=>l.unsubscribe())}DataGetAll(){this.filterModel.rowPerPage=200,this.filterModel.accessLoad=!0;let l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(l,e,this.constructorInfoAreaId)}),this.categoryService.ServiceGetAll(this.filterModel).subscribe({next:e=>{e.isSuccess?(this.dataModelResult=e,this.dataSource.data=this.dataModelResult.listItems):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(l)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(l,!1)}})}onActionSelect(l){this.dataModelSelect=l,this.optionChange.emit(this.dataModelSelect)}onActionButtonReload(){this.onActionSelect(null),this.dataModelSelect=new Ze,this.DataGetAll()}onActionSelectForce(l){}onActionAdd(){let l=0;this.dataModelSelect&&this.dataModelSelect.id>0&&(l=this.dataModelSelect.id);let e=new Yt;e.height="90%",e.disableClose=!0,e.autoFocus=!0,e.data={parentId:l},this.dialog.open(An,e).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionEdit(){let l=0;if(this.dataModelSelect&&this.dataModelSelect.id>0&&(l=this.dataModelSelect.id),l===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorCategoryNotSelected").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(Bn,{height:"90%",panelClass:e,enterAnimationDuration:oe.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:oe.cmsViewConfig.exitAnimationDuration,data:{id:l}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionDelete(){let l=0;if(this.dataModelSelect&&this.dataModelSelect.id>0&&(l=this.dataModelSelect.id),l===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorCategoryNotSelected").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}var e="";this.publicHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(Rn,{height:"90%",panelClass:e,enterAnimationDuration:oe.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:oe.cmsViewConfig.exitAnimationDuration,data:{id:l}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}};Un.\u0275fac=function(e){return new(e||Un)(b(N),b(ee),b(lt),b(Qe),b(qe),b(He),b(P),b(B),b(F))},Un.\u0275cmp=D({type:Un,selectors:[["app-linkmanagement-billboard-pattern-tree"]],inputs:{optionSelectForce:"optionSelectForce",optionReload:"optionReload"},outputs:{optionChange:"optionChange"},standalone:!1,decls:16,vars:14,consts:[["treeTagControl",""],[3,"optionHeaderDisplay","optionActionMainDisplay","optionFooterDisplay"],["cms-tree-header",""],["cms-tree-action",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-teal",3,"click",4,"ngIf"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-magenta",3,"click",4,"ngIf"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-red",3,"click",4,"ngIf"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-highlight",3,"click",4,"ngIf"],["cms-tree-body","",1,"loader-container"],[3,"optionsInfoAreaId"],[3,"dataSource","childrenAccessor"],["matTreeNodePadding","",3,"ntk-tree-selected",4,"matTreeNodeDef"],["matTreeNodePadding","","matTreeNodeToggle","","isExpandable","",3,"cdkTreeNodeTypeaheadLabel","isExpanded","ntk-tree-selected",4,"matTreeNodeDef","matTreeNodeDefWhen"],["cms-tree-footer",""],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[2,"font-size","20px","margin","-6px",3,"title"],["matTreeNodePadding",""],["matIconButton","","disabled",""],[3,"click"],["matTreeNodePadding","","matTreeNodeToggle","","isExpandable","",3,"cdkTreeNodeTypeaheadLabel","isExpanded"],["matIconButton","","matTreeNodeToggle",""],[1,"mat-icon-rtl-mirror"]],template:function(e,i){e&1&&(r(0,"app-cms-html-tree",1),L(1,2),d(2),g(3,"translate"),A(),L(4,3),I(5,Nm,3,3,"button",4)(6,Fm,3,3,"button",5)(7,Om,3,3,"button",6)(8,Gm,4,6,"button",7),A(),L(9,8),S(10,"app-progress-spinner",9),r(11,"mat-tree",10,0),I(13,Wm,4,3,"mat-tree-node",11)(14,Hm,6,8,"mat-tree-node",12),a(),A(),Oe(15,13),a()),e&2&&(c("optionHeaderDisplay",!0)("optionActionMainDisplay",!0)("optionFooterDisplay",!1),o(2),h(" ",_(3,12,"TABLE."+(i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.moduleEntityName))," "),o(3),c("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessAddRow),o(),c("ngIf",(i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessEditRow)&&(i.dataModelSelect==null?null:i.dataModelSelect.id)>0),o(),c("ngIf",(i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessDeleteRow)&&(i.dataModelSelect==null?null:i.dataModelSelect.id)>0),o(),c("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessWatchRow),o(2),c("optionsInfoAreaId",i.constructorInfoAreaId),o(),c("dataSource",i.dataSource)("childrenAccessor",i.childrenAccessor),o(3),c("matTreeNodeDefWhen",i.hasChild))},dependencies:[O,Ue,xe,en,tn,on,nn,$i,q,an,V],encapsulation:2});var Qn=Un;var qm=()=>[5,10,20,100],jm=n=>({display:n});function Um(n,l){if(n&1){let e=T();r(0,"div",18)(1,"a",42),C("click",function(){u(e);let t=p();return f(t.onActionButtonNewRow())}),S(2,"i",43)(3,"br"),a(),r(4,"p",21),d(5),g(6,"translate"),a()()}n&2&&(o(5),h(" ",_(6,1,"ACTION.ADD")," "))}function Qm(n,l){if(n&1){let e=T();r(0,"div",18)(1,"a",9),C("click",function(){u(e);let t=p();return f(t.onActionButtonLog())}),S(2,"i",44)(3,"br"),a(),r(4,"p",21),d(5),g(6,"translate"),a()()}n&2&&(o(5),h(" ",_(6,1,"ACTION.REPORTS")," "))}function zm(n,l){if(n&1){let e=T();r(0,"div",18)(1,"a",45),C("click",function(){u(e);let t=p();return f(t.onActionButtonEditRow(t.tableRowSelected))}),S(2,"i",46)(3,"br"),a(),r(4,"p",21),d(5),g(6,"translate"),a()()}n&2&&(o(5),h(" ",_(6,1,"ACTION.EDIT")," "))}function Km(n,l){if(n&1){let e=T();r(0,"div",18)(1,"a",47),C("click",function(){u(e);let t=p();return f(t.onActionButtonDeleteRow(t.tableRowSelected))}),S(2,"i",48)(3,"br"),a(),r(4,"p",21),d(5),g(6,"translate"),a()()}n&2&&(o(5),h(" ",_(6,1,"ACTION.DELETE")," "))}function Jm(n,l){n&1&&(r(0,"mat-header-cell",49),d(1),g(2,"translate"),a()),n&2&&(o(),h(" ",_(2,1,"TITLE.PICTURE")," "))}function Xm(n,l){if(n&1&&(S(0,"img",51),g(1,"cmsthumbnail")),n&2){let e=p().$implicit;c("src",k(_(1,2,e.linkMainImageIdSrc)),K)}}function Ym(n,l){if(n&1&&(r(0,"mat-cell"),I(1,Xm,2,4,"img",50),a()),n&2){let e=l.$implicit;o(),c("ngIf",(e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0)}}function Zm(n,l){if(n&1&&(r(0,"mat-header-cell",49),d(1),a()),n&2){let e=p();o(),h(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function $m(n,l){if(n&1&&(r(0,"mat-cell"),d(1),a()),n&2){let e=l.$implicit;o(),h(" ",e.id," ")}}function ep(n,l){if(n&1&&(r(0,"mat-header-cell",49),d(1),a()),n&2){let e=p();o(),h(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function tp(n,l){if(n&1&&(r(0,"mat-cell"),d(1),g(2,"cmssiteinfo"),g(3,"async"),a()),n&2){let e=l.$implicit;o(),h(" ",_(3,3,_(2,1,e.linkSiteId))," ")}}function ip(n,l){if(n&1&&(r(0,"mat-header-cell",49),d(1),a()),n&2){let e=p();o(),h(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function np(n,l){if(n&1&&S(0,"select",54),n&2){let e=p().$implicit,i=p();c("contentService",i.contentService)("row",e)("ngStyle",Ke(3,jm,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function op(n,l){if(n&1&&(r(0,"mat-cell"),S(1,"i",52),g(2,"statusIconClass"),I(3,np,1,5,"select",53),a()),n&2){let e=l.$implicit,i=p();o(),c("ngClass",_(2,2,e.recordStatus)),o(2),c("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessEditRow)}}function rp(n,l){if(n&1&&(r(0,"mat-header-cell",49),d(1),a()),n&2){let e=p();o(),h(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," ")}}function ap(n,l){if(n&1&&(r(0,"mat-cell"),d(1),a()),n&2){let e=l.$implicit;o(),h(" ",e.title," ")}}function lp(n,l){if(n&1&&(r(0,"mat-header-cell",49),d(1),a()),n&2){let e=p();o(),h(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function sp(n,l){if(n&1&&(r(0,"mat-cell"),d(1),g(2,"localeDate"),a()),n&2){let e=l.$implicit;o(),h(" ",_(2,1,e.createdDate)," ")}}function cp(n,l){if(n&1&&(r(0,"mat-header-cell",49),d(1),a()),n&2){let e=p();o(),h(" ",e.fieldsInfo.updatedDate==null?null:e.fieldsInfo.updatedDate.fieldTitle," ")}}function dp(n,l){if(n&1&&(r(0,"mat-cell"),d(1),g(2,"localeDate"),a()),n&2){let e=l.$implicit;o(),h(" ",_(2,1,e.updatedDate)," ")}}function mp(n,l){n&1&&(r(0,"mat-header-cell"),d(1),g(2,"translate"),a()),n&2&&(o(),h(" ",_(2,1,"TITLE.OPTION")," "))}function pp(n,l){if(n&1&&(r(0,"mat-cell",55)(1,"button",56)(2,"mat-icon"),d(3,"more_vert"),a()(),S(4,"mat-menu",null,2),a()),n&2){let e=x(5);o(),c("matMenuTriggerFor",e)}}function up(n,l){n&1&&S(0,"mat-header-row")}function fp(n,l){if(n&1){let e=T();r(0,"mat-row",57),C("click",function(t){let s=u(e).$implicit,M=p();return f(M.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=u(e).$implicit,M=p();return f(M.onActionTableRowSelect(s,t))}),a()}if(n&2){let e=l.$implicit,i=p();J("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var zn=class zn extends wt{constructor(e,i,t,s,M,m,R,H,j,he,ke){super(e,new di,he,m,H);this.contentService=e;this.cmsToastrService=i;this.router=t;this.activatedRoute=s;this.cmsStoreService=M;this.tokenHelper=m;this.cdr=R;this.translate=H;this.pageInfo=j;this.publicHelper=he;this.dialog=ke;this.requestLinkBillboardPatternId=0;this.constructorInfoAreaId=this.constructor.name;this.filteModelContent=new go;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["linkMainImageIdSrc","id","recordStatus","createdDate","updatedDate"];this.tabledisplayedColumnsMobileSource=["linkMainImageIdSrc","id","recordStatus","createdDate","updatedDate"];this.unsubscribe=[];if(this.publicHelper.processService.cdr=this.cdr,this.requestLinkBillboardPatternId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkBillboardPatternId")),this.optionsSearch.parentMethods={onSubmit:Le=>this.onSubmitOptionsSearch(Le)},this.filteModelContent.sortColumn="id",this.filteModelContent.sortType=ce.Descending,this.requestLinkBillboardPatternId>0){let Le=new ne;Le.propertyName="LinkBillboardPatternId",Le.value=this.requestLinkBillboardPatternId,this.filteModelContent.filters.push(Le)}this.optionsSearch.data.filterModelContent=this.filteModelContent,this.optionsSearch.data.filterActionSearchRecordStatusShow=!0,this.tokenHelper.isAdminSite?(this.optionsSearch.data.filterActionSearchLinkUserIdShow=!0,this.optionsSearch.data.filterActionSearchLinkSiteIdShow=!0):(this.optionsSearch.data.filterActionSearchLinkSiteIdShow=!1,this.optionsSearch.data.filterActionSearchLinkUserIdShow=!1)}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>Ae(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new di);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));if(this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.filteModelContent.filterActionSearchRecordStatus>0){let t=new ne;t.propertyName="recordStatus",t.value=this.filteModelContent.filterActionSearchRecordStatus,i.filters.push(t)}if(this.filteModelContent.filterActionSearchLinkSiteId>0){let t=new ne;t.propertyAnyName="linkSiteId",t.propertyName="SiteUsers",t.value=this.filteModelContent.filterActionSearchLinkSiteId,i.filters.push(t)}if(this.filteModelContent.filterActionSearchLinkUserId>0){let t=new ne;t.propertyAnyName="linkUserId",t.value=this.filteModelContent.filterActionSearchLinkUserId,i.filters.push(t)}if(this.categoryModelSelected&&this.categoryModelSelected.id>0){let t=new ne;t.propertyName="linkBillboardPatternId",t.value=this.categoryModelSelected.id,i.filters.push(t)}if(this.categoryPatternModelSelected&&this.categoryPatternModelSelected.id>0){let t=new ne;t.propertyName="billboardCategories",t.propertyAnyName="linkCategoryId",t.value=this.categoryPatternModelSelected.id,i.filters.push(t)}this.contentService.setAccessLoad(),this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),t.isSuccess?(this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=ce.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=ce.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=ce.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionSelectorSelectPattern(e){var i=this.filteModelContent.sortColumn,t=this.filteModelContent.sortType;this.filteModelContent=new go,this.filteModelContent.sortColumn=i,this.filteModelContent.sortType=t,this.categoryPatternModelSelected=e,this.DataGetAll()}onActionSelectorSelectCategory(e){var i=this.filteModelContent.sortColumn,t=this.filteModelContent.sortType;this.filteModelContent=new go,this.filteModelContent.sortColumn=i,this.filteModelContent.sortType=t,this.categoryModelSelected=e,this.DataGetAll()}onActionButtonNewRow(){if(this.categoryPatternModelSelected==null||this.categoryPatternModelSelected.id===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorCategoryNotSelected").subscribe(e=>{this.cmsToastrService.typeErrorSelected(e)});return}if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}this.router.navigate(["/linkmanagement/billboard/add",this.categoryPatternModelSelected.id])}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}this.router.navigate(["/linkmanagement/billboard/edit",this.tableRowSelected.id])}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(s=>{this.cmsToastrService.typeErrorSelected(s)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Vo,{height:"90%",panelClass:i,enterAnimationDuration:oe.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:oe.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate&&this.DataGetAll()})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(m=>{i.set(m,0)}),this.translate.get("MESSAGE.All").subscribe(m=>{i.set(m,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(m=>{this.publicHelper.processService.processStart(t,m,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:m=>{m.isSuccess?(this.translate.get("MESSAGE.All").subscribe(R=>{i.set(R,m.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(m.errorMessage),this.publicHelper.processService.processStop(t)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(t,!1)}});let s=JSON.parse(JSON.stringify(this.filteModelContent)),M=new ne;M.propertyName="recordStatus",M.value=nt.Available,s.filters.push(M),this.contentService.ServiceGetCount(s).subscribe({next:m=>{m.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(R=>{i.set(R,m.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(m.errorMessage),this.publicHelper.processService.processStop(t)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionButtonLog(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.router.navigate(["/linkmanagement/target-billboard-log/LinkManagementBillboardId",e.id])}};zn.\u0275fac=function(i){return new(i||zn)(b(oi),b(N),b(We),b(Xe),b(He),b(qe),b(B),b(P),b(yt),b(F),b(Qe))},zn.\u0275cmp=D({type:zn,selectors:[["app-linkmanagement-billboard-list"]],standalone:!1,features:[X],decls:68,vars:34,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],[3,"optionChange"],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-memo","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","linkMainImageIdSrc"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","id"],["matColumnDef","linkSiteId"],["matColumnDef","recordStatus"],["matColumnDef","title"],["matColumnDef","createdDate"],["matColumnDef","updatedDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-file-chart-column","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],["style","vertical-align: middle","class","ntk-hover-zoom","aria-hidden","","height","40","width","40",3,"src",4,"ngIf"],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(i,t){if(i&1){let s=T();r(0,"app-cms-html-list",3),w("optionActionGuideNoticeDisplayChange",function(m){return u(s),E(t.viewGuideNotice,m)||(t.viewGuideNotice=m),f(m)}),C("optionOnActionButtonMemoRow",function(){return u(s),f(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return u(s),f(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return u(s),f(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return u(s),f(t.onActionButtonPrintRow())}),L(1,4),r(2,"app-linkmanagement-billboard-pattern-tree",5),C("optionChange",function(m){return u(s),f(t.onActionSelectorSelectPattern(m))}),a(),r(3,"app-linkmanagement-category-tree",5),C("optionChange",function(m){return u(s),f(t.onActionSelectorSelectCategory(m))}),a(),A(),Oe(4,6)(5,7),L(6,8),r(7,"a",9),C("click",function(){return u(s),f(t.viewGuideNotice=!t.viewGuideNotice)}),S(8,"i",10),a(),r(9,"a",9),C("click",function(){return u(s),f(t.onActionButtonReload())}),S(10,"i",11),a(),A(),L(11,12),r(12,"a",13),C("click",function(){return u(s),f(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),S(13,"mat-slide-toggle",14),d(14),g(15,"translate"),a(),r(16,"a",13),C("click",function(){return u(s),f(t.onActionButtonStatist())}),S(17,"mat-slide-toggle",14),d(18),g(19,"translate"),a(),A(),L(20,15),I(21,Um,7,3,"div",16)(22,Qm,7,3,"div",16),A(),L(23,17),I(24,zm,7,3,"div",16)(25,Km,7,3,"div",16),r(26,"div",18)(27,"a",19),C("click",function(){return u(s),f(t.onActionButtonLog(t.tableRowSelected))}),S(28,"i",20)(29,"br"),a(),r(30,"p",21),d(31),g(32,"translate"),a()(),A(),L(33,22),r(34,"app-cms-search-list",23),w("optionsChange",function(m){return u(s),E(t.optionsSearch,m)||(t.optionsSearch=m),f(m)}),a(),r(35,"app-cms-statist-list",23),w("optionsChange",function(m){return u(s),E(t.optionsStatist,m)||(t.optionsStatist=m),f(m)}),a(),A(),L(36,24),r(37,"mat-table",25,0),C("matSortChange",function(){u(s);let m=x(38);return f(t.onTableSortData(m))}),L(39,26),I(40,Jm,3,3,"mat-header-cell",27)(41,Ym,2,1,"mat-cell",28),A(),L(42,29),I(43,Zm,2,1,"mat-header-cell",27)(44,$m,2,1,"mat-cell",28),A(),L(45,30),I(46,ep,2,1,"mat-header-cell",27)(47,tp,4,5,"mat-cell",28),A(),L(48,31),I(49,ip,2,1,"mat-header-cell",27)(50,op,4,4,"mat-cell",28),A(),L(51,32),I(52,rp,2,1,"mat-header-cell",27)(53,ap,2,1,"mat-cell",28),A(),L(54,33),I(55,lp,2,1,"mat-header-cell",27)(56,sp,3,3,"mat-cell",28),A(),L(57,34),I(58,cp,2,1,"mat-header-cell",27)(59,dp,3,3,"mat-cell",28),A(),L(60,35),I(61,mp,3,3,"mat-header-cell",36)(62,pp,6,1,"mat-cell",37),A(),I(63,up,1,0,"mat-header-row",38)(64,fp,1,2,"mat-row",39),a(),A(),L(65,40),r(66,"mat-paginator",41,1),C("page",function(m){return u(s),f(t.onTablePageingData(m))}),a(),A(),a()}i&2&&(c("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),y("optionActionGuideNoticeDisplay",t.viewGuideNotice),c("optionTreeDisplay",!0)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",(t.tableRowSelected==null||t.tableRowSelected.title==null?null:t.tableRowSelected.title.length)>0?t.tableRowSelected==null?null:t.tableRowSelected.title:t.tableRowSelected==null?null:t.tableRowSelected.id),o(10),J("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(3),c("checked",t.optionsSearch.data.show),o(),h("",_(15,27,"ACTION.SEARCH")," "),o(3),c("checked",t.optionsStatist.data.show),o(),h("",_(19,29,"ACTION.STATIST")," "),o(3),c("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessAddRow),o(),c("ngIf",(t.tableRowSelected==null?null:t.tableRowSelected.id)>0),o(2),c("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),o(),c("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),o(6),h(" ",_(32,31,"ACTION.LOG")," "),o(3),y("options",t.optionsSearch),o(),y("options",t.optionsStatist),o(2),c("dataSource",t.tableSource),o(26),c("matHeaderRowDef",t.tabledisplayedColumns),o(),c("matRowDefColumns",t.tabledisplayedColumns),o(2),c("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",Ve(33,qm)))},dependencies:[rt,O,qt,Ue,xe,G,ct,dt,mt,pt,ut,ft,gt,Mt,It,ht,_t,Ct,St,bt,vt,Tt,kt,Lt,At,xt,Zt,jn,Qn,Ge,V,Rt,_e,Dt,Bt],encapsulation:2});var so=zn;var Kn=class Kn{constructor(){this.constructorInfoAreaId=this.constructor.name}ngOnInit(){}};Kn.\u0275fac=function(e){return new(e||Kn)},Kn.\u0275cmp=D({type:Kn,selectors:[["app-linkmanagement"]],standalone:!1,decls:1,vars:0,template:function(e,i){e&1&&S(0,"router-outlet")},dependencies:[cr],encapsulation:2});var Wo=Kn;var _p=["vform"];function Mp(n,l){if(n&1){let e=T();r(0,"app-cms-enum-record-status-selector",23),w("modelChange",function(t){u(e);let s=p();return E(s.dataModel.recordStatus,t)||(s.dataModel.recordStatus=t),f(t)}),a()}if(n&2){let e=p();y("model",e.dataModel.recordStatus),c("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function hp(n,l){if(n&1){let e=T();r(0,"div",24)(1,"div",25)(2,"h5",26),d(3),a()(),r(4,"div",27)(5,"div",28)(6,"input",29),w("ngModelChange",function(t){u(e);let s=p();return E(s.dataModel.isInBlackList,t)||(s.dataModel.isInBlackList=t),f(t)}),a(),S(7,"label",30),a()()()}if(n&2){let e=p();o(3),h(" ",e.fieldsInfo.isInBlackList==null?null:e.fieldsInfo.isInBlackList.fieldTitle," "),o(3),y("ngModel",e.dataModel.isInBlackList)}}function Sp(n,l){if(n&1&&(r(0,"mat-error"),d(1),r(2,"strong"),d(3),g(4,"translate"),a()()),n&2){let e=p(2);o(),h(" ",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle," is "),o(2),v(_(4,2,"MESSAGE.required"))}}function bp(n,l){if(n&1){let e=T();r(0,"div",14)(1,"label",31),d(2),a(),r(3,"textarea",32,3),w("ngModelChange",function(t){u(e);let s=p();return E(s.dataModel.description,t)||(s.dataModel.description=t),f(t)}),d(5,"        "),a(),r(6,"em"),d(7),a(),I(8,Sp,5,4,"mat-error",19),a()}if(n&2){let e=x(4),i=p();o(2),v(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle),o(),c("placeholder",k(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle)),y("ngModel",i.dataModel.description),o(4),h("",e.value.length," / 500"),o(),c("ngIf",e.errors==null?null:e.errors.required)}}function Ip(n,l){n&1&&S(0,"i",33)}function Cp(n,l){n&1&&S(0,"i",34)}function vp(n,l){n&1&&(r(0,"mat-error"),d(1," CurrentDebtor is "),r(2,"strong"),d(3),g(4,"translate"),a()()),n&2&&(o(3),v(_(4,1,"MESSAGE.required")))}function Tp(n,l){n&1&&S(0,"i",33)}function yp(n,l){n&1&&S(0,"i",34)}function Ep(n,l){n&1&&(r(0,"mat-error"),d(1," CurrentCreditor is "),r(2,"strong"),d(3),g(4,"translate"),a()()),n&2&&(o(3),v(_(4,1,"MESSAGE.required")))}function wp(n,l){if(n&1){let e=T();r(0,"div",35)(1,"button",36),C("click",function(){u(e);let t=p();return f(t.onFormCancel())}),S(2,"i",37),d(3),g(4,"translate"),a(),r(5,"button",38),S(6,"i",39),d(7),g(8,"translate"),a()()}if(n&2){p();let e=x(10);o(3),h(" ",_(4,3,"ACTION.CANCEL")," "),o(2),c("disabled",!e.form.valid),o(2),h(" ",_(8,5,"ACTION.SAVE")," ")}}var Jn=class Jn extends Et{constructor(e,i,t,s,M,m,R,H){super(s,new Ot,m,H);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.categoryService=s;this.cmsToastrService=M;this.publicHelper=m;this.cdr=R;this.translate=H;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new W;this.dataModel=new Ot;this.formInfo=new ie;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.translate.get("TITLE.Register_New_Categories").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess()}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.categoryService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorCmsUser(e){if(!e||!e.id||e.id<=0){this.translate.get("MESSAGE.Information_user_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkExternalCmsUserId=e.id}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Jn.\u0275fac=function(i){return new(i||Jn)(b(le),b(ae),b(ee),b(Qt),b(N),b(F),b(B),b(P))},Jn.\u0275cmp=D({type:Jn,selectors:[["app-linkmanagement-member-add"]],viewQuery:function(i,t){if(i&1&&Y(_p,5),i&2){let s;Z(s=$())&&(t.formGroup=s.first)}},standalone:!1,features:[X],decls:35,vars:33,consts:[["vform","ngForm"],["CurrentDebtor",""],["CurrentCreditor",""],["Description",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],["class","d-flex mb-3",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.currentDebtor",1,"color-highlight"],["matInput","","type","number","name","dataModel.currentDebtor","minlength","0","required","","id","dataModel.currentDebtor",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","fa fa-times invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],[4,"ngIf"],["for","dataModel.currentCreditor",1,"color-highlight"],["matInput","","type","number","name","dataModel.currentCreditor","minlength","0","required","","id","dataModel.currentCreditor",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.isInBlackList",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.isInBlackList","name","dataModel.isInBlackList",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.isInBlackList",1,"custom-control-label"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=T();r(0,"div",4),S(1,"app-progress-spinner",5),r(2,"div",6)(3,"p",7),d(4),a(),r(5,"p"),d(6),g(7,"translate"),a(),S(8,"app-cms-form-result-message",8),r(9,"form",9,0),C("ngSubmit",function(){return u(s),f(t.onFormSubmit())}),I(11,Mp,1,5,"app-cms-enum-record-status-selector",10),r(12,"app-cms-user-selector",11),g(13,"translate"),C("optionChange",function(m){return u(s),f(t.onActionSelectorCmsUser(m))}),a(),I(14,hp,8,2,"div",12)(15,bp,9,6,"div",13),r(16,"div",14)(17,"label",15),d(18),a(),r(19,"input",16,1),g(21,"translate"),w("ngModelChange",function(m){return u(s),E(t.dataModel.currentDebtor,m)||(t.dataModel.currentDebtor=m),f(m)}),a(),I(22,Ip,1,0,"i",17)(23,Cp,1,0,"i",18)(24,vp,5,3,"mat-error",19),a(),r(25,"div",14)(26,"label",20),d(27),a(),r(28,"input",21,2),g(30,"translate"),w("ngModelChange",function(m){return u(s),E(t.dataModel.currentCreditor,m)||(t.dataModel.currentCreditor=m),f(m)}),a(),I(31,Tp,1,0,"i",17)(32,yp,1,0,"i",18)(33,Ep,5,3,"mat-error",19),a(),I(34,wp,9,7,"div",22),a()()()}if(i&2){let s=x(20),M=x(29);o(),c("optionsInfoAreaId",t.constructorInfoAreaId),o(3),h(" ",t.formInfo.formTitle," "),o(2),h(" ",_(7,25,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),c("formInfo",t.formInfo),o(3),c("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),o(),c("optionDisabled",!(t.fieldsInfo.linkExternalCmsUserId!=null&&t.fieldsInfo.linkExternalCmsUserId.accessAddField))("optionSelectForce",t.dataModel.linkExternalCmsUserId)("optionPlaceholder",_(13,27,"TITLE.Account")),o(2),c("ngIf",t.fieldsInfo.isInBlackList==null?null:t.fieldsInfo.isInBlackList.accessWatchField),o(),c("ngIf",t.fieldsInfo.description==null?null:t.fieldsInfo.description.accessWatchField),o(3),v(t.fieldsInfo.currentDebtor==null?null:t.fieldsInfo.currentDebtor.fieldTitle),o(),c("placeholder",k(_(21,29,"TITLE.Current_Credit_Of_Debtor"))),y("ngModel",t.dataModel.currentDebtor),o(3),c("ngIf",!s.value),o(),c("ngIf",s.value),o(),c("ngIf",s.errors==null?null:s.errors.required),o(3),v(t.fieldsInfo.currentCreditor==null?null:t.fieldsInfo.currentCreditor.fieldTitle),o(),c("placeholder",k(_(30,31,"TITLE.Current_Credit_Of_Creditor"))),y("ngModel",t.dataModel.currentCreditor),o(3),c("ngIf",!M.value),o(),c("ngIf",M.value),o(),c("ngIf",M.errors==null?null:M.errors.required),o(),c("ngIf",t.formInfo.submitButtonEnabled)}},dependencies:[O,Te,U,Ne,zt,Q,Ce,z,fe,ge,te,ve,ye,G,we,vo,q,Ee,Fe,V],encapsulation:2});var Ho=Jn;var kp=["vform"];function Lp(n,l){if(n&1){let e=T();L(0),r(1,"div",7)(2,"label",8),d(3),a(),r(4,"input",9,0),w("ngModelChange",function(t){u(e);let s=p();return E(s.dataModelResultContent.item.id,t)||(s.dataModelResultContent.item.id=t),f(t)}),a()(),A()}if(n&2){let e=p();o(3),v(e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle),o(),c("placeholder",k(e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle)),y("ngModel",e.dataModelResultContent.item.id)}}function Ap(n,l){if(n&1){let e=T();r(0,"div",10)(1,"button",11),C("click",function(){u(e);let t=p();return f(t.onFormCancel())}),S(2,"i",12),d(3),g(4,"translate"),a(),r(5,"button",13),C("click",function(){u(e);let t=p();return f(t.onFormDelete())}),S(6,"i",14),d(7),g(8,"translate"),a()()}if(n&2){let e=p();o(3),h(" ",_(4,3,"ACTION.CANCEL")," "),o(2),c("disabled",!e.formInfo.submitButtonEnabled),o(2),h(" ",_(8,5,"ACTION.DELETE")," ")}}var Xn=class Xn{constructor(l,e,i,t,s,M,m){this.data=l;this.dialogRef=e;this.publicHelper=i;this.linkManagementMemberService=t;this.cdr=s;this.translate=M;this.cmsToastrService=m;this.requestId=0;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.dataModelResultContent=new W;this.formInfo=new ie;this.publicHelper.processService.cdr=this.cdr,l&&(this.requestId=+l.id||0)}ngOnInit(){if(this.requestId<=0){this.cmsToastrService.typeErrorDeleteRowIsNull(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOne()}DataGetOne(){if(this.requestId===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.translate.get("TITLE.Loading_Information").subscribe(e=>{this.formInfo.submitResultMessage=e});let l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(l,e,this.constructorInfoAreaId)}),this.linkManagementMemberService.setAccessLoad(),this.linkManagementMemberService.setAccessDataType(be.Editor),this.linkManagementMemberService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModelResultContent=e,e.isSuccess?this.formInfo.submitResultMessage="":(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.formInfo.submitResultMessageType=FormSubmitedStatusEnum.Success,this.cmsToastrService.typeErrorGetOne()),this.publicHelper.processService.processStop(l)},error:e=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessageType=FormSubmitedStatusEnum.Success,this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(l,!1)}})}onFormDelete(){if(this.requestId===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.formInfo.submitButtonEnabled=!1,this.formInfo.submitButtonEnabled=!1;let l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(l,e,this.constructorInfoAreaId)}),this.linkManagementMemberService.ServiceDelete(this.requestId).subscribe({next:e=>{this.formInfo.submitButtonEnabled=!e.isSuccess,e.isSuccess?(this.translate.get("MESSAGE.Deletion_Was_Successful").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.cmsToastrService.typeSuccessRemove(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.cmsToastrService.typeErrorRemove()),this.formInfo.submitButtonEnabled=!0,this.publicHelper.processService.processStop(l)},error:e=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(e),this.formInfo.submitButtonEnabled=!0,this.publicHelper.processService.processStop(l)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Xn.\u0275fac=function(e){return new(e||Xn)(b(le),b(ae),b(F),b(Qt),b(B),b(P),b(N))},Xn.\u0275cmp=D({type:Xn,selectors:[["app-linkmanagement-member-delete"]],viewQuery:function(e,i){if(e&1&&Y(kp,5),e&2){let t;Z(t=$())&&(i.formGroup=t.first)}},standalone:!1,decls:11,vars:7,consts:[["Writer",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[4,"ngIf"],["class","form-actions",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModelResultContent.item.id",1,"color-highlight"],["matInput","","name","dataModelResultContent.item.id","type","text","required","","id","dataModelResultContent.item.id","readonly","",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click","disabled"],[1,"fa","fa-check-square-o"]],template:function(e,i){e&1&&(r(0,"div",1),S(1,"app-progress-spinner",2),r(2,"div",3)(3,"p",4),d(4," \u062D\u0633\u0627\u0628 \u06A9\u0627\u0631\u0628\u0631\u06CC \u062E\u0648\u062F \u0631\u0627 \u0648\u06CC\u0631\u0627\u06CC\u0634 \u06A9\u0646\u06CC\u062F "),a(),r(5,"p"),d(6),g(7,"translate"),a(),d(8),I(9,Lp,6,4,"ng-container",5)(10,Ap,9,7,"div",6),a()()),e&2&&(o(),c("optionsInfoAreaId",i.constructorInfoAreaId),o(5),h(" ",_(7,5,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),h(" ",i.formInfo.formTitle," "),o(),c("ngIf",i.dataModelResultContent==null?null:i.dataModelResultContent.item),o(),c("ngIf",i.formInfo.submitButtonEnabled))},dependencies:[O,U,Q,z,te,G,q,V],encapsulation:2});var qo=Xn;var xp=["vform"];function Rp(n,l){if(n&1){let e=T();r(0,"app-cms-enum-record-status-selector",23),w("modelChange",function(t){u(e);let s=p();return E(s.dataModel.recordStatus,t)||(s.dataModel.recordStatus=t),f(t)}),a()}if(n&2){let e=p();y("model",e.dataModel.recordStatus),c("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Dp(n,l){if(n&1){let e=T();r(0,"div",24)(1,"div",25)(2,"h5",26),d(3),a()(),r(4,"div",27)(5,"div",28)(6,"input",29),w("ngModelChange",function(t){u(e);let s=p();return E(s.dataModel.isInBlackList,t)||(s.dataModel.isInBlackList=t),f(t)}),a(),S(7,"label",30),a()()()}if(n&2){let e=p();o(3),h(" ",e.fieldsInfo.isInBlackList==null?null:e.fieldsInfo.isInBlackList.fieldTitle," "),o(3),y("ngModel",e.dataModel.isInBlackList)}}function Bp(n,l){if(n&1&&(r(0,"mat-error"),d(1),r(2,"strong"),d(3),g(4,"translate"),a()()),n&2){let e=p(2);o(),h(" ",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle," is "),o(2),v(_(4,2,"MESSAGE.required"))}}function Pp(n,l){if(n&1){let e=T();r(0,"div",14)(1,"label",31),d(2),a(),r(3,"textarea",32,3),w("ngModelChange",function(t){u(e);let s=p();return E(s.dataModel.description,t)||(s.dataModel.description=t),f(t)}),d(5,"        "),a(),r(6,"em"),d(7),a(),I(8,Bp,5,4,"mat-error",19),a()}if(n&2){let e=x(4),i=p();o(2),v(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle),o(),c("placeholder",k(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle)),y("ngModel",i.dataModel.description),o(4),h("",e.value.length," / 500"),o(),c("ngIf",e.errors==null?null:e.errors.required)}}function Vp(n,l){n&1&&S(0,"i",33)}function Np(n,l){n&1&&S(0,"i",34)}function Fp(n,l){n&1&&(r(0,"mat-error"),d(1," CurrentDebtor is "),r(2,"strong"),d(3),g(4,"translate"),a()()),n&2&&(o(3),v(_(4,1,"MESSAGE.required")))}function Op(n,l){n&1&&S(0,"i",33)}function Gp(n,l){n&1&&S(0,"i",34)}function Wp(n,l){n&1&&(r(0,"mat-error"),d(1," CurrentCreditor is "),r(2,"strong"),d(3),g(4,"translate"),a()()),n&2&&(o(3),v(_(4,1,"MESSAGE.required")))}function Hp(n,l){if(n&1){let e=T();r(0,"div",35)(1,"button",36),C("click",function(){u(e);let t=p();return f(t.onFormCancel())}),S(2,"i",37),d(3),g(4,"translate"),a(),r(5,"button",38),S(6,"i",39),d(7),g(8,"translate"),a()()}if(n&2){p();let e=x(10);o(3),h(" ",_(4,3,"ACTION.CANCEL")," "),o(2),c("disabled",!e.form.valid),o(2),h(" ",_(8,5,"ACTION.SAVE")," ")}}var Yn=class Yn extends et{constructor(e,i,t,s,M,m,R,H){super(s,new Ot,m,H);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.categoryService=s;this.cmsToastrService=M;this.publicHelper=m;this.cdr=R;this.translate=H;this.requestId=0;this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new Ye;this.dataModel=new Ot;this.formInfo=new ie;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=+e.id||0),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.requestId>0)this.translate.get("TITLE.Edit_Categories").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}}DataGetOneContent(){if(this.requestId<=0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.categoryService.setAccessLoad(),this.categoryService.setAccessDataType(be.Editor),this.categoryService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.categoryService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorCmsUser(e){if(!e||!e.id||e.id<=0){this.translate.get("MESSAGE.Information_user_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkExternalCmsUserId=e.id}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Yn.\u0275fac=function(i){return new(i||Yn)(b(le),b(ae),b(ee),b(Qt),b(N),b(F),b(B),b(P))},Yn.\u0275cmp=D({type:Yn,selectors:[["app-linkmanagement-member-edit"]],viewQuery:function(i,t){if(i&1&&Y(xp,5),i&2){let s;Z(s=$())&&(t.formGroup=s.first)}},standalone:!1,features:[X],decls:35,vars:33,consts:[["vform","ngForm"],["CurrentDebtor",""],["CurrentCreditor",""],["Description",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],["class","d-flex mb-3",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.currentDebtor",1,"color-highlight"],["matInput","","type","number","name","dataModel.currentDebtor","minlength","0","required","","id","dataModel.currentDebtor",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","fa fa-times invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],[4,"ngIf"],["for","dataModel.currentCreditor",1,"color-highlight"],["matInput","","type","number","name","dataModel.currentCreditor","minlength","0","required","","id","dataModel.currentCreditor",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.isInBlackList",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.isInBlackList","name","dataModel.isInBlackList",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.isInBlackList",1,"custom-control-label"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=T();r(0,"div",4),S(1,"app-progress-spinner",5),r(2,"div",6)(3,"p",7),d(4),a(),r(5,"p"),d(6),g(7,"translate"),a(),S(8,"app-cms-form-result-message",8),r(9,"form",9,0),C("ngSubmit",function(){return u(s),f(t.onFormSubmit())}),I(11,Rp,1,5,"app-cms-enum-record-status-selector",10),r(12,"app-cms-user-selector",11),g(13,"translate"),C("optionChange",function(m){return u(s),f(t.onActionSelectorCmsUser(m))}),a(),I(14,Dp,8,2,"div",12)(15,Pp,9,6,"div",13),r(16,"div",14)(17,"label",15),d(18),a(),r(19,"input",16,1),g(21,"translate"),w("ngModelChange",function(m){return u(s),E(t.dataModel.currentDebtor,m)||(t.dataModel.currentDebtor=m),f(m)}),a(),I(22,Vp,1,0,"i",17)(23,Np,1,0,"i",18)(24,Fp,5,3,"mat-error",19),a(),r(25,"div",14)(26,"label",20),d(27),a(),r(28,"input",21,2),g(30,"translate"),w("ngModelChange",function(m){return u(s),E(t.dataModel.currentCreditor,m)||(t.dataModel.currentCreditor=m),f(m)}),a(),I(31,Op,1,0,"i",17)(32,Gp,1,0,"i",18)(33,Wp,5,3,"mat-error",19),a(),I(34,Hp,9,7,"div",22),a()()()}if(i&2){let s=x(20),M=x(29);o(),c("optionsInfoAreaId",t.constructorInfoAreaId),o(3),h(" ",t.formInfo.formTitle," "),o(2),h(" ",_(7,25,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),c("formInfo",t.formInfo),o(3),c("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),o(),c("optionDisabled",!(t.fieldsInfo.linkExternalCmsUserId!=null&&t.fieldsInfo.linkExternalCmsUserId.accessAddField))("optionSelectForce",t.dataModel.linkExternalCmsUserId)("optionPlaceholder",_(13,27,"TITLE.Account")),o(2),c("ngIf",t.fieldsInfo.isInBlackList==null?null:t.fieldsInfo.isInBlackList.accessWatchField),o(),c("ngIf",t.fieldsInfo.description==null?null:t.fieldsInfo.description.accessWatchField),o(3),v(t.fieldsInfo.currentDebtor==null?null:t.fieldsInfo.currentDebtor.fieldTitle),o(),c("placeholder",k(_(21,29,"TITLE.Current_Credit_Of_Debtor"))),y("ngModel",t.dataModel.currentDebtor),o(3),c("ngIf",!s.value),o(),c("ngIf",s.value),o(),c("ngIf",s.errors==null?null:s.errors.required),o(3),v(t.fieldsInfo.currentCreditor==null?null:t.fieldsInfo.currentCreditor.fieldTitle),o(),c("placeholder",k(_(30,31,"TITLE.Current_Credit_Of_Creditor"))),y("ngModel",t.dataModel.currentCreditor),o(3),c("ngIf",!M.value),o(),c("ngIf",M.value),o(),c("ngIf",M.errors==null?null:M.errors.required),o(),c("ngIf",t.formInfo.submitButtonEnabled)}},dependencies:[O,Te,U,Ne,zt,Q,Ce,z,fe,ge,te,ve,ye,G,we,vo,q,Ee,Fe,V],encapsulation:2});var jo=Yn;var jp=()=>["expandedTitle"],Up=()=>["expandedDetail"],Qp=()=>[5,10,20,100],Br=n=>({display:n});function zp(n,l){if(n&1){let e=T();r(0,"div",43)(1,"a",44),C("click",function(){u(e);let t=p();return f(t.onActionButtonNewRow())}),S(2,"i",45)(3,"br"),a(),r(4,"p",46),d(5),g(6,"translate"),a()()}n&2&&(o(5),h(" ",_(6,1,"ACTION.ADD")," "))}function Kp(n,l){if(n&1){let e=T();r(0,"div",43)(1,"a",47),C("click",function(){u(e);let t=p();return f(t.onActionButtonEditRow(t.tableRowSelected))}),S(2,"i",48)(3,"br"),a(),r(4,"p",46),d(5),g(6,"translate"),a()()}n&2&&(o(5),h(" ",_(6,1,"ACTION.EDIT")," "))}function Jp(n,l){if(n&1){let e=T();r(0,"div",43)(1,"a",49),C("click",function(){u(e);let t=p();return f(t.onActionButtonDeleteRow(t.tableRowSelected))}),S(2,"i",50)(3,"br"),a(),r(4,"p",46),d(5),g(6,"translate"),a()()}n&2&&(o(5),h(" ",_(6,1,"ACTION.DELETE")," "))}function Xp(n,l){n&1&&(r(0,"mat-header-cell"),d(1),g(2,"translate"),a()),n&2&&(o(),h(" ",_(2,1,"TITLE.MENU")," "))}function Yp(n,l){if(n&1){let e=T();r(0,"mat-cell")(1,"button",51),C("click",function(){let t=u(e).$implicit,s=p();return f(s.onActionTableRowSelectActionMenu(t))}),S(2,"i",52),a()()}}function Zp(n,l){if(n&1&&(r(0,"mat-header-cell",53),d(1),a()),n&2){let e=p();o(),h(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function $p(n,l){if(n&1&&(r(0,"mat-cell"),d(1),a()),n&2){let e=l.$implicit;o(),h(" ",e.id," ")}}function eu(n,l){if(n&1&&(r(0,"mat-header-cell",53),d(1),a()),n&2){let e=p();o(),h(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function tu(n,l){if(n&1&&(r(0,"mat-cell"),d(1),g(2,"cmssiteinfo"),g(3,"async"),a()),n&2){let e=l.$implicit;o(),h(" ",_(3,3,_(2,1,e.linkSiteId))," ")}}function iu(n,l){if(n&1&&(r(0,"mat-header-cell",53),d(1),a()),n&2){let e=p();o(),h(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function nu(n,l){if(n&1&&S(0,"select",56),n&2){let e=p().$implicit,i=p();c("contentService",i.contentService)("row",e)("ngStyle",Ke(3,Br,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function ou(n,l){if(n&1&&(r(0,"mat-cell"),S(1,"i",54),g(2,"statusIconClass"),I(3,nu,1,5,"select",55),a()),n&2){let e=l.$implicit,i=p();o(),c("ngClass",_(2,2,e.recordStatus)),o(2),c("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessEditRow)}}function ru(n,l){if(n&1&&(r(0,"mat-header-cell",53),d(1),a()),n&2){let e=p();o(),h(" ",e.fieldsInfo.isInBlackList==null?null:e.fieldsInfo.isInBlackList.fieldTitle," ")}}function au(n,l){if(n&1&&(r(0,"mat-cell"),S(1,"i",54),g(2,"boolclass"),a()),n&2){let e=l.$implicit;o(),c("ngClass",_(2,1,e.isInBlackList))}}function lu(n,l){if(n&1&&(r(0,"mat-header-cell",53),d(1),a()),n&2){let e=p();o(),h(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function su(n,l){if(n&1&&(r(0,"mat-cell"),d(1),g(2,"localeDate"),a()),n&2){let e=l.$implicit;o(),h(" ",_(2,1,e.createdDate)," ")}}function cu(n,l){if(n&1&&(r(0,"mat-header-cell",53),d(1),a()),n&2){let e=p();o(),h(" ",e.fieldsInfo.updatedDate==null?null:e.fieldsInfo.updatedDate.fieldTitle," ")}}function du(n,l){if(n&1&&(r(0,"mat-cell"),d(1),g(2,"localeDate"),a()),n&2){let e=l.$implicit;o(),h(" ",_(2,1,e.updatedDate)," ")}}function mu(n,l){if(n&1&&(r(0,"mat-header-cell",53),d(1),a()),n&2){let e=p();o(),h(" ",e.fieldsInfo.currentDebtor==null?null:e.fieldsInfo.currentDebtor.fieldTitle," ")}}function pu(n,l){if(n&1&&(r(0,"mat-cell"),d(1),a()),n&2){let e=l.$implicit;o(),h(" ",e.currentDebtor," ")}}function uu(n,l){if(n&1&&(r(0,"mat-header-cell",53),d(1),a()),n&2){let e=p();o(),h(" ",e.fieldsInfo.currentCreditor==null?null:e.fieldsInfo.currentCreditor.fieldTitle," ")}}function fu(n,l){if(n&1&&(r(0,"mat-cell"),d(1),a()),n&2){let e=l.$implicit;o(),h(" ",e.currentCreditor," ")}}function gu(n,l){n&1&&(r(0,"mat-header-cell"),d(1),g(2,"translate"),a()),n&2&&(o(),h(" ",_(2,1,"TITLE.OPTION")," "))}function _u(n,l){if(n&1&&(r(0,"mat-cell",57)(1,"button",58)(2,"mat-icon"),d(3,"more_vert"),a()(),S(4,"mat-menu",null,2),a()),n&2){let e=x(5);o(),c("matMenuTriggerFor",e)}}function Mu(n,l){if(n&1&&(r(0,"mat-cell"),d(1),g(2,"translate"),g(3,"localeDate"),S(4,"br"),d(5),g(6,"translate"),g(7,"localeDate"),a()),n&2){let e=l.$implicit;o(),Be(" ",_(2,4,"TITLE.CreationDate")," : ",_(3,6,e.createdDate)," "),o(4),Be(" ",_(6,8,"TITLE.DateOfUpdate")," : ",_(7,10,e.updatedDate)," ")}}function hu(n,l){if(n&1&&(S(0,"img",63),g(1,"cmsthumbnail")),n&2){let e=p().$implicit;c("src",k(_(1,2,e.linkMainImageIdSrc)),K)}}function Su(n,l){if(n&1&&(r(0,"tr"),S(1,"td"),r(2,"td"),d(3),a()()),n&2){let e=p().$implicit,i=p();o(3),Be(" ",i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle," : ",e.description," ")}}function bu(n,l){if(n&1){let e=T();r(0,"mat-cell")(1,"div")(2,"table")(3,"tr")(4,"th"),I(5,hu,2,4,"img",59),a(),r(6,"th")(7,"span",60),C("click",function(){u(e);let t=p();return f(t.onActionCopied())}),S(8,"i",61),a(),d(9),a()(),I(10,Su,4,2,"tr",62),r(11,"tr"),S(12,"td")(13,"td"),a()()()()}if(n&2){let e=l.$implicit;o(5),c("ngIf",(e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0),o(2),c("cdkCopyToClipboard",e.id),o(2),h(" ",e.id," "),o(),c("ngIf",e.description)}}function Iu(n,l){n&1&&S(0,"mat-header-row")}function Cu(n,l){if(n&1){let e=T();r(0,"mat-row",64),C("click",function(t){let s=u(e).$implicit,M=p();return f(M.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=u(e).$implicit,M=p();return f(M.onActionTableRowSelect(s,t))})("mouseenter",function(){let t=u(e).$implicit,s=p();return f(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=u(e).$implicit,s=p();return f(s.onActionTableRowMouseLeave(t))}),a()}if(n&2){let e=l.$implicit,i=p();J("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}function vu(n,l){if(n&1){let e=T();r(0,"mat-row",65),C("click",function(t){let s=u(e).$implicit,M=p();return f(M.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=u(e).$implicit,M=p();return f(M.onActionTableRowSelect(s,t))})("mouseenter",function(){let t=u(e).$implicit,s=p();return f(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=u(e).$implicit,s=p();return f(s.onActionTableRowMouseLeave(t))}),a()}if(n&2){let e=l.$implicit,i=p();J("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}function Tu(n,l){if(n&1){let e=T();r(0,"mat-row",66),C("click",function(t){let s=u(e).$implicit,M=p();return f(M.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=u(e).$implicit,M=p();return f(M.onActionTableRowSelect(s,t))})("mouseenter",function(){let t=u(e).$implicit,s=p();return f(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=u(e).$implicit,s=p();return f(s.onActionTableRowMouseLeave(t))}),a()}if(n&2){let e=l.$implicit,i=p();J("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)),c("ngStyle",Ke(3,Br,e.expanded===!0?"":"none"))}}var Zn=class Zn extends wt{constructor(e,i,t,s,M,m,R,H,j,he){super(e,new Ot,j,s,M);this.contentService=e;this.cmsToastrService=i;this.router=t;this.tokenHelper=s;this.translate=M;this.cmsStoreService=m;this.cdr=R;this.pageInfo=H;this.publicHelper=j;this.dialog=he;this.constructorInfoAreaId=this.constructor.name;this.filteModelContent=new Ie;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["id","recordStatus","CurrentDebtor","CurrentCreditor","action_menu"];this.tabledisplayedColumnsMobileSource=["id","recordStatus","CurrentDebtor","CurrentCreditor","action_menu"];this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:ke=>this.onSubmitOptionsSearch(ke)},this.filteModelContent.sortColumn="id",this.filteModelContent.sortType=ce.Descending}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>Ae(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Ot);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.contentService.setAccessLoad(),this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),t.isSuccess?(this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=ce.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=ce.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=ce.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(){let e=new Yt;e.disableClose=!0,e.autoFocus=!0,e.data={},this.dialog.open(Ho,e).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(jo,{height:"90%",panelClass:i,enterAnimationDuration:oe.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:oe.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(s=>{this.cmsToastrService.typeErrorSelected(s)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(qo,{height:"90%",panelClass:i,enterAnimationDuration:oe.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:oe.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate&&this.DataGetAll()})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(m=>{i.set(m,0)}),this.translate.get("MESSAGE.All").subscribe(m=>{i.set(m,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(m=>{this.publicHelper.processService.processStart(t,m,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:m=>{m.isSuccess&&(this.translate.get("MESSAGE.All").subscribe(R=>{i.set(R,m.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)),this.publicHelper.processService.processStop(t)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(t,!1)}});let s=JSON.parse(JSON.stringify(this.filteModelContent)),M=new ne;M.propertyName="recordStatus",M.value=nt.Available,s.filters.push(M),this.contentService.ServiceGetCount(s).subscribe({next:m=>{m.isSuccess&&(this.translate.get("MESSAGE.Active").subscribe(R=>{i.set(R,m.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)),this.publicHelper.processService.processStop(t)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonReload(){this.DataGetAll()}onActionCopied(){this.cmsToastrService.typeSuccessCopedToClipboard()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}};Zn.\u0275fac=function(i){return new(i||Zn)(b(Qt),b(N),b(We),b(qe),b(P),b(He),b(B),b(yt),b(F),b(Qe))},Zn.\u0275cmp=D({type:Zn,selectors:[["app-linkmanagement-member-list"]],standalone:!1,features:[X],decls:71,vars:35,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionActionRowDisplayMenuAct","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","","multiTemplateDataRows","",3,"matSortChange","dataSource"],["matColumnDef","action_menu"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","linkSiteId"],["matColumnDef","recordStatus"],["matColumnDef","IsInBlackList"],["matColumnDef","createdDate"],["matColumnDef","updatedDate"],["matColumnDef","CurrentDebtor"],["matColumnDef","CurrentCreditor"],["matColumnDef","Action"],["class","Action",4,"matCellDef"],["matColumnDef","expandedTitle"],["matColumnDef","expandedDetail"],[4,"matHeaderRowDef"],["class","ntk-row-expandedTitle",3,"ntk-row-selected","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["class","ntk-row-expandedDetail",3,"ntk-row-selected","ngStyle","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],[1,"col-4"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"click"],[1,"fa","fa-bars","font-18"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],["style","vertical-align: middle","class","ntk-hover-zoom","aria-hidden","","height","80","width","80",3,"src",4,"ngIf"],[1,"navi-icon","pointer",3,"click","cdkCopyToClipboard"],[1,"flaticon2-copy"],[4,"ngIf"],["aria-hidden","","height","80","width","80",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"ntk-row-expandedTitle",3,"click","rtclick","mouseenter","mouseleave"],[1,"ntk-row-mainfild",3,"click","rtclick","mouseenter","mouseleave"],[1,"ntk-row-expandedDetail",3,"click","rtclick","mouseenter","mouseleave","ngStyle"]],template:function(i,t){if(i&1){let s=T();r(0,"app-cms-html-list",3),w("optionActionGuideNoticeDisplayChange",function(m){return u(s),E(t.viewGuideNotice,m)||(t.viewGuideNotice=m),f(m)}),C("optionOnActionButtonMemoRow",function(){return u(s),f(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return u(s),f(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return u(s),f(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return u(s),f(t.onActionButtonPrintRow())}),L(1,4),d(2," ---------------------- "),A(),Oe(3,5)(4,6),L(5,7),r(6,"a",8),C("click",function(){return u(s),f(t.viewGuideNotice=!t.viewGuideNotice)}),S(7,"i",9),a(),r(8,"a",8),C("click",function(){return u(s),f(t.onActionButtonReload())}),S(9,"i",10),a(),A(),L(10,11),r(11,"a",12),C("click",function(){return u(s),f(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),S(12,"mat-slide-toggle",13),d(13),g(14,"translate"),a(),r(15,"a",12),C("click",function(){return u(s),f(t.onActionButtonStatist())}),S(16,"mat-slide-toggle",13),d(17),g(18,"translate"),a(),A(),L(19,14),I(20,zp,7,3,"div",15),A(),L(21,16),I(22,Kp,7,3,"div",15)(23,Jp,7,3,"div",15),A(),L(24,17),r(25,"app-cms-search-list",18),w("optionsChange",function(m){return u(s),E(t.optionsSearch,m)||(t.optionsSearch=m),f(m)}),a(),r(26,"app-cms-statist-list",18),w("optionsChange",function(m){return u(s),E(t.optionsStatist,m)||(t.optionsStatist=m),f(m)}),a(),A(),L(27,19),r(28,"mat-table",20,0),C("matSortChange",function(){u(s);let m=x(29);return f(t.onTableSortData(m))}),L(30,21),I(31,Xp,3,3,"mat-header-cell",22)(32,Yp,3,0,"mat-cell",23),A(),L(33,24),I(34,Zp,2,1,"mat-header-cell",25)(35,$p,2,1,"mat-cell",23),A(),L(36,26),I(37,eu,2,1,"mat-header-cell",25)(38,tu,4,5,"mat-cell",23),A(),L(39,27),I(40,iu,2,1,"mat-header-cell",25)(41,ou,4,4,"mat-cell",23),A(),L(42,28),I(43,ru,2,1,"mat-header-cell",25)(44,au,3,3,"mat-cell",23),A(),L(45,29),I(46,lu,2,1,"mat-header-cell",25)(47,su,3,3,"mat-cell",23),A(),L(48,30),I(49,cu,2,1,"mat-header-cell",25)(50,du,3,3,"mat-cell",23),A(),L(51,31),I(52,mu,2,1,"mat-header-cell",25)(53,pu,2,1,"mat-cell",23),A(),L(54,32),I(55,uu,2,1,"mat-header-cell",25)(56,fu,2,1,"mat-cell",23),A(),L(57,33),I(58,gu,3,3,"mat-header-cell",22)(59,_u,6,1,"mat-cell",34),A(),L(60,35),I(61,Mu,8,12,"mat-cell",23),A(),L(62,36),I(63,bu,14,4,"mat-cell",23),A(),I(64,Iu,1,0,"mat-header-row",37)(65,Cu,1,2,"mat-row",38)(66,vu,1,2,"mat-row",39)(67,Tu,1,5,"mat-row",40),a(),A(),L(68,41),r(69,"mat-paginator",42,1),C("page",function(m){return u(s),f(t.onTablePageingData(m))}),a(),A(),a()}i&2&&(c("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),y("optionActionGuideNoticeDisplay",t.viewGuideNotice),c("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionActionRowDisplayMenuAct",t.tableRowSelectActionMenuClick)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),o(9),J("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(3),c("checked",t.optionsSearch.data.show),o(),h("",_(14,28,"ACTION.SEARCH")," "),o(3),c("checked",t.optionsStatist.data.show),o(),h("",_(18,30,"ACTION.STATIST")," "),o(3),c("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessAddRow),o(2),c("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),o(),c("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),o(2),y("options",t.optionsSearch),o(),y("options",t.optionsStatist),o(2),c("dataSource",t.tableSource),o(36),c("matHeaderRowDef",t.tabledisplayedColumns),o(),c("matRowDefColumns",Ve(32,jp)),o(),c("matRowDefColumns",t.tabledisplayedColumns),o(),c("matRowDefColumns",Ve(33,Up)),o(2),c("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",Ve(34,Qp)))},dependencies:[rt,O,qt,Ue,xe,G,ct,dt,mt,pt,ut,ft,gt,Mt,It,ht,_t,Ct,St,bt,vt,Tt,vi,kt,Lt,At,xt,Zt,Ge,V,Rt,_e,Dt,Bt,Mo],encapsulation:2});var Uo=Zn;var yu=["vform"];function Eu(n,l){if(n&1){let e=T();L(0),r(1,"div",7)(2,"label",8),d(3),a(),r(4,"input",9,0),w("ngModelChange",function(t){u(e);let s=p();return E(s.dataModelResultContent.item.id,t)||(s.dataModelResultContent.item.id=t),f(t)}),a()(),A()}if(n&2){let e=p();o(3),v(e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle),o(),c("placeholder",k(e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle)),y("ngModel",e.dataModelResultContent.item.id)}}function wu(n,l){if(n&1){let e=T();r(0,"div",10)(1,"button",11),C("click",function(){u(e);let t=p();return f(t.onFormCancel())}),S(2,"i",12),d(3),g(4,"translate"),a(),r(5,"button",13),C("click",function(){u(e);let t=p();return f(t.onFormDelete())}),S(6,"i",14),d(7),g(8,"translate"),a()()}if(n&2){let e=p();o(3),h(" ",_(4,3,"ACTION.CANCEL")," "),o(2),c("disabled",!e.formInfo.submitButtonEnabled),o(2),h(" ",_(8,5,"ACTION.DELETE")," ")}}var $n=class $n{constructor(l,e,i,t,s,M,m){this.data=l;this.dialogRef=e;this.publicHelper=i;this.linkManagementTargetBillboardLogService=t;this.cdr=s;this.translate=M;this.cmsToastrService=m;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.dataModelResultContent=new W;this.formInfo=new ie;this.publicHelper.processService.cdr=this.cdr,l&&l.id&&(this.requestId=l.id)}ngOnInit(){if(this.requestId.length<=0){this.cmsToastrService.typeErrorDeleteRowIsNull(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOne()}DataGetOne(){if(this.requestId.length===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.translate.get("TITLE.Loading_Information").subscribe(e=>{this.formInfo.submitResultMessage=e});let l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(l,e,this.constructorInfoAreaId)}),this.linkManagementTargetBillboardLogService.setAccessLoad(),this.linkManagementTargetBillboardLogService.setAccessDataType(be.Editor),this.linkManagementTargetBillboardLogService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModelResultContent=e,e.isSuccess?this.formInfo.submitResultMessage="":(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.formInfo.submitResultMessageType=FormSubmitedStatusEnum.Success,this.cmsToastrService.typeErrorGetOne()),this.publicHelper.processService.processStop(l)},error:e=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessageType=FormSubmitedStatusEnum.Success,this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(l,!1)}})}onFormDelete(){if(this.requestId.length===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.formInfo.submitButtonEnabled=!1,this.formInfo.submitButtonEnabled=!1;let l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(l,e,this.constructorInfoAreaId)}),this.linkManagementTargetBillboardLogService.ServiceDelete(this.requestId).subscribe({next:e=>{this.formInfo.submitButtonEnabled=!e.isSuccess,e.isSuccess?(this.translate.get("MESSAGE.Deletion_Was_Successful").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.cmsToastrService.typeSuccessRemove(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.cmsToastrService.typeErrorRemove()),this.formInfo.submitButtonEnabled=!0,this.publicHelper.processService.processStop(l)},error:e=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(e),this.formInfo.submitButtonEnabled=!0,this.publicHelper.processService.processStop(l)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};$n.\u0275fac=function(e){return new(e||$n)(b(le),b(ae),b(F),b(Ci),b(B),b(P),b(N))},$n.\u0275cmp=D({type:$n,selectors:[["app-linkmanagement-target-billboard-log-delete"]],viewQuery:function(e,i){if(e&1&&Y(yu,5),e&2){let t;Z(t=$())&&(i.formGroup=t.first)}},standalone:!1,decls:11,vars:7,consts:[["Writer",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[4,"ngIf"],["class","form-actions",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModelResultContent.item.id",1,"color-highlight"],["matInput","","name","dataModelResultContent.item.id","type","text","required","","id","dataModelResultContent.item.id","readonly","",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click","disabled"],[1,"fa","fa-check-square-o"]],template:function(e,i){e&1&&(r(0,"div",1),S(1,"app-progress-spinner",2),r(2,"div",3)(3,"p",4),d(4," \u062D\u0633\u0627\u0628 \u06A9\u0627\u0631\u0628\u0631\u06CC \u062E\u0648\u062F \u0631\u0627 \u0648\u06CC\u0631\u0627\u06CC\u0634 \u06A9\u0646\u06CC\u062F "),a(),r(5,"p"),d(6),g(7,"translate"),a(),d(8),I(9,Eu,6,4,"ng-container",5)(10,wu,9,7,"div",6),a()()),e&2&&(o(),c("optionsInfoAreaId",i.constructorInfoAreaId),o(5),h(" ",_(7,5,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),h(" ",i.formInfo.formTitle," "),o(),c("ngIf",i.dataModelResultContent==null?null:i.dataModelResultContent.item),o(),c("ngIf",i.formInfo.submitButtonEnabled))},dependencies:[O,U,Q,z,te,G,q,V],encapsulation:2});var Qo=$n;var ku=["vform"];function Lu(n,l){if(n&1){let e=T();r(0,"app-cms-enum-record-status-selector",32),w("modelChange",function(t){u(e);let s=p();return E(s.dataModel.recordStatus,t)||(s.dataModel.recordStatus=t),f(t)}),a()}if(n&2){let e=p();y("model",e.dataModel.recordStatus),c("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Au(n,l){n&1&&(r(0,"mat-error"),d(1," ClickPrice is "),r(2,"strong"),d(3),g(4,"translate"),a()()),n&2&&(o(3),v(_(4,1,"MESSAGE.required")))}function xu(n,l){n&1&&(r(0,"mat-error"),d(1," ViewPrice is "),r(2,"strong"),d(3),g(4,"translate"),a()()),n&2&&(o(3),v(_(4,1,"MESSAGE.required")))}function Ru(n,l){n&1&&(r(0,"mat-error"),d(1," DeviceId is "),r(2,"strong"),d(3),g(4,"translate"),a()()),n&2&&(o(3),v(_(4,1,"MESSAGE.required")))}function Du(n,l){n&1&&(r(0,"mat-error"),d(1," IpAddress is "),r(2,"strong"),d(3),g(4,"translate"),a()()),n&2&&(o(3),v(_(4,1,"MESSAGE.required")))}function Bu(n,l){n&1&&(r(0,"mat-error"),d(1," BrowserName is "),r(2,"strong"),d(3),g(4,"translate"),a()()),n&2&&(o(3),v(_(4,1,"MESSAGE.required")))}function Pu(n,l){if(n&1){let e=T();r(0,"div",33)(1,"button",34),C("click",function(){u(e);let t=p();return f(t.onFormCancel())}),S(2,"i",35),d(3),g(4,"translate"),a(),r(5,"button",36),S(6,"i",37),d(7),g(8,"translate"),a()()}if(n&2){p();let e=x(10);o(3),h(" ",_(4,3,"ACTION.CANCEL")," "),o(2),c("disabled",!e.form.valid),o(2),h(" ",_(8,5,"ACTION.SAVE")," ")}}var eo=class eo extends et{constructor(e,i,t,s,M,m,R,H){super(s,new Yi,m,H);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.categoryService=s;this.cmsToastrService=M;this.publicHelper=m;this.cdr=R;this.translate=H;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.selectFileTypeMainImage=["jpg","jpeg","png"];this.appLanguage="fa";this.dataModelResult=new Ye;this.dataModel=new Yi;this.formInfo=new ie;this.fileManagerOpenForm=!1;this.publicHelper.processService.cdr=this.cdr,e&&e.id&&(this.requestId=e.id+""),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.requestId.length>0)this.translate.get("TITLE.Edit_Categories").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}}DataGetOneContent(){if(this.requestId.length<=0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.categoryService.setAccessLoad(),this.categoryService.setAccessDataType(be.Editor),this.categoryService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.categoryService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelectorLinkManagementBillboardId(e){if(!e||!e.id||e.id<=0){this.translate.get("MESSAGE.Information_billboard_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkManagementBillboardId=e.id}onActionSelectorLinkManagementTargetId(e){if(!e||!e.id||e.id<=0){this.translate.get("MESSAGE.Information_target_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkManagementTargetId=e.id}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};eo.\u0275fac=function(i){return new(i||eo)(b(le),b(ae),b(ee),b(Ci),b(N),b(F),b(B),b(P))},eo.\u0275cmp=D({type:eo,selectors:[["app-linkmanagement-target-billboard-log-edit"]],viewQuery:function(i,t){if(i&1&&Y(ku,5),i&2){let s;Z(s=$())&&(t.formGroup=s.first)}},standalone:!1,features:[X],decls:61,vars:48,consts:[["vform","ngForm"],["LinkManagementBillboardId",""],["LinkManagementTargetId",""],["ClickPrice",""],["ViewPrice",""],["DeviceId",""],["IpAddress",""],["BrowserName",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.linkManagementBillboardId",1,"color-highlight"],["matInput","","type","number","name","dataModel.linkManagementBillboardId","id","dataModel.linkManagementBillboardId",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.linkManagementTargetId",1,"color-highlight"],["matInput","","type","number","name","dataModel.linkManagementTargetId","id","dataModel.linkManagementTargetId",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.clickPrice",1,"color-highlight"],["matInput","","type","number","name","dataModel.clickPrice","minlength","0","id","dataModel.clickPrice",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[4,"ngIf"],["for","dataModel.viewPrice",1,"color-highlight"],["matInput","","type","number","name","dataModel.viewPrice","minlength","0","id","dataModel.viewPrice",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.deviceId",1,"color-highlight"],["matInput","","type","number","name","dataModel.deviceId","minlength","3","maxlength","100","required","","id","dataModel.deviceId",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.ipAddress",1,"color-highlight"],["matInput","","type","text","name","dataModel.ipAddress","minlength","3","maxlength","100","required","","id","dataModel.ipAddress",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.browserName",1,"color-highlight"],["matInput","","type","text","name","dataModel.browserName","minlength","3","maxlength","100","required","","id","dataModel.browserName",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let s=T();r(0,"div",8),S(1,"app-progress-spinner",9),r(2,"div",10)(3,"p",11),d(4),a(),r(5,"p"),d(6),g(7,"translate"),a(),S(8,"app-cms-form-result-message",12),r(9,"form",13,0),C("ngSubmit",function(){return u(s),f(t.onFormSubmit())}),I(11,Lu,1,5,"app-cms-enum-record-status-selector",14),r(12,"div",15)(13,"label",16),d(14),a(),r(15,"input",17,1),w("ngModelChange",function(m){return u(s),E(t.dataModel.linkManagementBillboardId,m)||(t.dataModel.linkManagementBillboardId=m),f(m)}),a()(),r(17,"div",15)(18,"label",18),d(19),a(),r(20,"input",19,2),w("ngModelChange",function(m){return u(s),E(t.dataModel.linkManagementTargetId,m)||(t.dataModel.linkManagementTargetId=m),f(m)}),a()(),r(22,"div",15)(23,"label",20),d(24),a(),r(25,"input",21,3),g(27,"translate"),w("ngModelChange",function(m){return u(s),E(t.dataModel.clickPrice,m)||(t.dataModel.clickPrice=m),f(m)}),a(),I(28,Au,5,3,"mat-error",22),a(),r(29,"div",15)(30,"label",23),d(31),a(),r(32,"input",24,4),g(34,"translate"),w("ngModelChange",function(m){return u(s),E(t.dataModel.viewPrice,m)||(t.dataModel.viewPrice=m),f(m)}),a(),I(35,xu,5,3,"mat-error",22),a(),r(36,"div",15)(37,"label",25),d(38),a(),r(39,"input",26,5),w("ngModelChange",function(m){return u(s),E(t.dataModel.deviceId,m)||(t.dataModel.deviceId=m),f(m)}),a(),r(41,"em"),d(42),a(),I(43,Ru,5,3,"mat-error",22),a(),r(44,"div",15)(45,"label",27),d(46),a(),r(47,"input",28,6),w("ngModelChange",function(m){return u(s),E(t.dataModel.ipAddress,m)||(t.dataModel.ipAddress=m),f(m)}),a(),r(49,"em"),d(50),a(),I(51,Du,5,3,"mat-error",22),a(),r(52,"div",15)(53,"label",29),d(54),a(),r(55,"input",30,7),w("ngModelChange",function(m){return u(s),E(t.dataModel.browserName,m)||(t.dataModel.browserName=m),f(m)}),a(),r(57,"em"),d(58),a(),I(59,Bu,5,3,"mat-error",22),a(),I(60,Pu,9,7,"div",31),a()()()}if(i&2){let s=x(26),M=x(33),m=x(40),R=x(48),H=x(56);o(),c("optionsInfoAreaId",t.constructorInfoAreaId),o(3),h(" ",t.formInfo.formTitle," "),o(2),h(" ",_(7,42,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),c("formInfo",t.formInfo),o(3),c("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),o(3),v(t.fieldsInfo.linkManagementBillboardId==null?null:t.fieldsInfo.linkManagementBillboardId.fieldTitle),o(),c("placeholder",k(t.fieldsInfo.linkManagementBillboardId==null?null:t.fieldsInfo.linkManagementBillboardId.fieldTitle)),y("ngModel",t.dataModel.linkManagementBillboardId),o(4),v(t.fieldsInfo.linkManagementTargetId==null?null:t.fieldsInfo.linkManagementTargetId.fieldTitle),o(),c("placeholder",k(t.fieldsInfo.linkManagementTargetId==null?null:t.fieldsInfo.linkManagementTargetId.fieldTitle)),y("ngModel",t.dataModel.linkManagementTargetId),o(4),v(t.fieldsInfo.clickPrice==null?null:t.fieldsInfo.clickPrice.fieldTitle),o(),c("placeholder",k(_(27,44,"TITLE.Amount_Per_Click"))),y("ngModel",t.dataModel.clickPrice),o(3),c("ngIf",s.errors==null?null:s.errors.required),o(3),v(t.fieldsInfo.viewPrice==null?null:t.fieldsInfo.viewPrice.fieldTitle),o(),c("placeholder",k(_(34,46,"TITLE.Amount_Per_Show"))),y("ngModel",t.dataModel.viewPrice),o(3),c("ngIf",M.errors==null?null:M.errors.required),o(3),v(t.fieldsInfo.deviceId==null?null:t.fieldsInfo.deviceId.fieldTitle),o(),c("placeholder",k(t.fieldsInfo.deviceId==null?null:t.fieldsInfo.deviceId.fieldTitle)),y("ngModel",t.dataModel.deviceId),o(3),h("",m.value.length," / 100"),o(),c("ngIf",m.errors==null?null:m.errors.required),o(3),v(t.fieldsInfo.ipAddress==null?null:t.fieldsInfo.ipAddress.fieldTitle),o(),c("placeholder",k(t.fieldsInfo.ipAddress==null?null:t.fieldsInfo.ipAddress.fieldTitle)),y("ngModel",t.dataModel.ipAddress),o(3),h("",R.value.length," / 100"),o(),c("ngIf",R.errors==null?null:R.errors.required),o(3),v(t.fieldsInfo.browserName==null?null:t.fieldsInfo.browserName.fieldTitle),o(),c("placeholder",k(t.fieldsInfo.browserName==null?null:t.fieldsInfo.browserName.fieldTitle)),y("ngModel",t.dataModel.browserName),o(3),h("",H.value.length," / 100"),o(),c("ngIf",H.errors==null?null:H.errors.required),o(),c("ngIf",t.formInfo.submitButtonEnabled)}},dependencies:[O,Te,U,Ne,Q,Ce,z,fe,ge,te,ve,ye,G,we,q,Ee,Fe,V],encapsulation:2});var zo=eo;var Nu=()=>["expandedTitle"],Fu=()=>["expandedDetail"],Ou=()=>[5,10,20,100],Pr=n=>({display:n});function Gu(n,l){if(n&1){let e=T();r(0,"a",45),C("click",function(){u(e);let t=p();return f(t.onActionBackToParent())}),S(1,"i",46),a()}}function Wu(n,l){if(n&1){let e=T();r(0,"div",47)(1,"a",48),C("click",function(){u(e);let t=p();return f(t.onActionButtonEditRow(t.tableRowSelected))}),S(2,"i",49)(3,"br"),a(),r(4,"p",50),d(5),g(6,"translate"),a()()}n&2&&(o(5),h(" ",_(6,1,"ACTION.EDIT")," "))}function Hu(n,l){if(n&1){let e=T();r(0,"div",47)(1,"a",51),C("click",function(){u(e);let t=p();return f(t.onActionButtonDeleteRow(t.tableRowSelected))}),S(2,"i",52)(3,"br"),a(),r(4,"p",50),d(5),g(6,"translate"),a()()}n&2&&(o(5),h(" ",_(6,1,"ACTION.DELETE")," "))}function qu(n,l){if(n&1){let e=T();r(0,"div",47)(1,"a",53),C("click",function(){u(e);let t=p();return f(t.onActionButtonViewRowLinkTargetId(t.tableRowSelected))}),S(2,"i",54)(3,"br"),a(),r(4,"p",50),d(5),g(6,"translate"),a()()}n&2&&(o(5),h(" ",_(6,1,"ACTION.BANNER")," "))}function ju(n,l){if(n&1){let e=T();r(0,"div",47)(1,"a",53),C("click",function(){u(e);let t=p();return f(t.onActionButtonViewRowLinkbillboardId(t.tableRowSelected))}),S(2,"i",55)(3,"br"),a(),r(4,"p",50),d(5),g(6,"translate"),a()()}n&2&&(o(5),h(" ",_(6,1,"ACTION.BILLBOARD")," "))}function Uu(n,l){n&1&&(r(0,"mat-header-cell"),d(1),g(2,"translate"),a()),n&2&&(o(),h(" ",_(2,1,"TITLE.MENU")," "))}function Qu(n,l){if(n&1){let e=T();r(0,"mat-cell")(1,"button",56),C("click",function(){let t=u(e).$implicit,s=p();return f(s.onActionTableRowSelectActionMenu(t))}),S(2,"i",57),a()()}}function zu(n,l){if(n&1&&(r(0,"mat-header-cell",58),d(1),a()),n&2){let e=p();o(),h(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function Ku(n,l){if(n&1&&(r(0,"mat-cell"),d(1),a()),n&2){let e=l.$implicit;o(),h(" ",e.id," ")}}function Ju(n,l){if(n&1&&(r(0,"mat-header-cell",58),d(1),a()),n&2){let e=p();o(),h(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function Xu(n,l){if(n&1&&(r(0,"mat-cell"),d(1),g(2,"cmssiteinfo"),g(3,"async"),a()),n&2){let e=l.$implicit;o(),h(" ",_(3,3,_(2,1,e.linkSiteId))," ")}}function Yu(n,l){if(n&1&&(r(0,"mat-header-cell",58),d(1),a()),n&2){let e=p();o(),h(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function Zu(n,l){if(n&1&&S(0,"select",61),n&2){let e=p().$implicit,i=p();c("contentService",i.contentService)("row",e)("ngStyle",Ke(3,Pr,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function $u(n,l){if(n&1&&(r(0,"mat-cell"),S(1,"i",59),g(2,"statusIconClass"),I(3,Zu,1,5,"select",60),a()),n&2){let e=l.$implicit,i=p();o(),c("ngClass",_(2,2,e.recordStatus)),o(2),c("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessEditRow)}}function e0(n,l){if(n&1&&(r(0,"mat-header-cell",58),d(1),a()),n&2){let e=p();o(),h(" ",e.fieldsInfo.clickPrice==null?null:e.fieldsInfo.clickPrice.fieldTitle," ")}}function t0(n,l){if(n&1&&(r(0,"mat-cell"),d(1),a()),n&2){let e=l.$implicit;o(),h(" ",e.clickPrice," ")}}function i0(n,l){if(n&1&&(r(0,"mat-header-cell",58),d(1),a()),n&2){let e=p();o(),h(" ",e.fieldsInfo.viewPrice==null?null:e.fieldsInfo.viewPrice.fieldTitle," ")}}function n0(n,l){if(n&1&&(r(0,"mat-cell"),d(1),a()),n&2){let e=l.$implicit;o(),h(" ",e.viewPrice," ")}}function o0(n,l){if(n&1&&(r(0,"mat-header-cell",58),d(1),a()),n&2){let e=p();o(),h(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function r0(n,l){if(n&1&&(r(0,"mat-cell",62),d(1),g(2,"localeDateTime"),a()),n&2){let e=l.$implicit;o(),h(" ",_(2,1,e.createdDate)," ")}}function a0(n,l){if(n&1&&(r(0,"mat-header-cell",58),d(1),a()),n&2){let e=p();o(),h(" ",e.fieldsInfo.linkManagementBillboardId==null?null:e.fieldsInfo.linkManagementBillboardId.fieldTitle," ")}}function l0(n,l){if(n&1&&(r(0,"mat-cell"),d(1),a()),n&2){let e=l.$implicit;o(),h(" ",e.linkManagementBillboardId," ")}}function s0(n,l){if(n&1&&(r(0,"mat-header-cell",58),d(1),a()),n&2){let e=p();o(),h(" ",e.fieldsInfo.linkManagementTargetId==null?null:e.fieldsInfo.linkManagementTargetId.fieldTitle," ")}}function c0(n,l){if(n&1&&(r(0,"mat-cell"),d(1),a()),n&2){let e=l.$implicit;o(),h(" ",e.linkManagementTargetId," ")}}function d0(n,l){n&1&&(r(0,"mat-header-cell"),d(1),g(2,"translate"),a()),n&2&&(o(),h(" ",_(2,1,"TITLE.OPTION")," "))}function m0(n,l){if(n&1&&(r(0,"mat-cell",63)(1,"button",64)(2,"mat-icon"),d(3,"more_vert"),a()(),S(4,"mat-menu",null,2),a()),n&2){let e=x(5);o(),c("matMenuTriggerFor",e)}}function p0(n,l){if(n&1&&(r(0,"mat-cell"),d(1),g(2,"translate"),g(3,"localeDate"),S(4,"br"),d(5),g(6,"translate"),a()),n&2){let e=l.$implicit;o(),Be(" ",_(2,4,"TITLE.CreationDate")," : ",_(3,6,e.createdDate)," "),o(4),Be(" ",_(6,8,"TITLE.Id")," : ",e.id," ")}}function u0(n,l){if(n&1&&(S(0,"img",66),g(1,"cmsthumbnail")),n&2){let e=p().$implicit;c("src",k(_(1,2,e.linkMainImageIdSrc)),K)}}function f0(n,l){if(n&1&&(r(0,"mat-cell")(1,"div")(2,"table")(3,"tr")(4,"th"),I(5,u0,2,4,"img",65),a(),r(6,"th"),d(7),a()(),r(8,"tr"),S(9,"td"),r(10,"td"),d(11),a()(),r(12,"tr"),S(13,"td"),r(14,"td"),d(15),a()(),r(16,"tr"),S(17,"td"),r(18,"td"),d(19),a()(),r(20,"tr"),S(21,"td")(22,"td"),a()()()()),n&2){let e=l.$implicit,i=p();o(5),c("ngIf",(e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0),o(2),Be("",i.fieldsInfo.id==null?null:i.fieldsInfo.id.fieldTitle," : ",e.id),o(4),Be(" ",i.fieldsInfo.ipAddress==null?null:i.fieldsInfo.ipAddress.fieldTitle," : ",e.ipAddress," "),o(4),Be(" ",i.fieldsInfo.deviceId==null?null:i.fieldsInfo.deviceId.fieldTitle," : ",e.deviceId," "),o(4),Be(" ",i.fieldsInfo.browserName==null?null:i.fieldsInfo.browserName.fieldTitle," : ",e.browserName," ")}}function g0(n,l){n&1&&S(0,"mat-header-row")}function _0(n,l){if(n&1){let e=T();r(0,"mat-row",67),C("click",function(t){let s=u(e).$implicit,M=p();return f(M.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=u(e).$implicit,M=p();return f(M.onActionTableRowSelect(s,t))})("mouseenter",function(){let t=u(e).$implicit,s=p();return f(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=u(e).$implicit,s=p();return f(s.onActionTableRowMouseLeave(t))}),a()}if(n&2){let e=l.$implicit,i=p();J("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}function M0(n,l){if(n&1){let e=T();r(0,"mat-row",68),C("click",function(t){let s=u(e).$implicit,M=p();return f(M.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=u(e).$implicit,M=p();return f(M.onActionTableRowSelect(s,t))})("mouseenter",function(){let t=u(e).$implicit,s=p();return f(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=u(e).$implicit,s=p();return f(s.onActionTableRowMouseLeave(t))}),a()}if(n&2){let e=l.$implicit,i=p();J("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}function h0(n,l){if(n&1){let e=T();r(0,"mat-row",69),C("click",function(t){let s=u(e).$implicit,M=p();return f(M.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=u(e).$implicit,M=p();return f(M.onActionTableRowSelect(s,t))})("mouseenter",function(){let t=u(e).$implicit,s=p();return f(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=u(e).$implicit,s=p();return f(s.onActionTableRowMouseLeave(t))}),a()}if(n&2){let e=l.$implicit,i=p();J("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)),c("ngStyle",Ke(3,Pr,e.expanded===!0?"":"none"))}}var to=class to extends wt{constructor(e,i,t,s,M,m,R,H,j,he,ke){super(e,new Yi,he,M,R);this.contentService=e;this.cmsToastrService=i;this.activatedRoute=t;this.router=s;this.tokenHelper=M;this.cdr=m;this.translate=R;this.cmsStoreService=H;this.pageInfo=j;this.publicHelper=he;this.dialog=ke;this.requestLinkManagementBillboardId=0;this.requestLinkManagementTargetId=0;this.requestKey="";this.constructorInfoAreaId=this.constructor.name;this.filteModelContent=new Ie;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["ClickPrice","ViewPrice","LinkManagementBillboardId","LinkManagementTargetId","action_menu"];this.tabledisplayedColumnsMobileSource=["ClickPrice","ViewPrice","LinkManagementBillboardId","LinkManagementTargetId","action_menu"];this.unsubscribe=[];if(this.publicHelper.processService.cdr=this.cdr,this.requestLinkManagementBillboardId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkManagementBillboardId")),this.requestLinkManagementTargetId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkManagementTargetId")),this.activatedRoute.snapshot.paramMap.get("Key")&&(this.requestKey=this.activatedRoute.snapshot.paramMap.get("Key")),this.requestLinkManagementBillboardId>0){let Le=new ne;Le.propertyName="LinkManagementBillboardId",Le.value=this.requestLinkManagementBillboardId,this.filteModelContent.filters.push(Le)}if(this.requestLinkManagementTargetId>0){let Le=new ne;Le.propertyName="LinkManagementTargetId",Le.value=this.requestLinkManagementTargetId,this.filteModelContent.filters.push(Le)}this.optionsSearch.parentMethods={onSubmit:Le=>this.onSubmitOptionsSearch(Le)},this.filteModelContent.sortColumn="id",this.filteModelContent.sortType=ce.Descending,this.optionsSearch.data.filterModelContent=this.filteModelContent,this.optionsSearch.data.filterActionSearchRecordStatusShow=!0,this.tokenHelper.isAdminSite?(this.optionsSearch.data.filterActionSearchLinkUserIdShow=!0,this.optionsSearch.data.filterActionSearchLinkSiteIdShow=!0):(this.optionsSearch.data.filterActionSearchLinkSiteIdShow=!1,this.optionsSearch.data.filterActionSearchLinkUserIdShow=!1)}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>Ae(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Yi);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));if(this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.filteModelContent.filterActionSearchRecordStatus>0){let t=new ne;t.propertyName="recordStatus",t.value=this.filteModelContent.filterActionSearchRecordStatus,i.filters.push(t)}if(this.filteModelContent.filterActionSearchLinkSiteId>0){let t=new ne;t.propertyAnyName="linkSiteId",t.propertyName="SiteUsers",t.value=this.filteModelContent.filterActionSearchLinkSiteId,i.filters.push(t)}if(this.filteModelContent.filterActionSearchLinkUserId>0){let t=new ne;t.propertyAnyName="linkUserId",t.value=this.filteModelContent.filterActionSearchLinkUserId,i.filters.push(t)}this.contentService.setAccessLoad(),this.requestKey&&this.requestKey.length>0?this.contentService.ServiceGetAllByKey(this.requestKey,i).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),t.isSuccess&&(this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}}):this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),t.isSuccess&&(this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=ce.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=ce.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=ce.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(zo,{height:"90%",panelClass:i,enterAnimationDuration:oe.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:oe.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(s=>{this.cmsToastrService.typeErrorSelected(s)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Qo,{height:"90%",panelClass:i,enterAnimationDuration:oe.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:oe.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate&&this.DataGetAll()})}onActionButtonViewRowLinkbillboardId(e=this.tableRowSelected,i){if(!e||!e.id||e.id.length===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}this.onActionTableRowSelect(e),i?.ctrlKey?(this.link="/#/linkmanagement/billboard/edit/"+this.tableRowSelected.linkManagementBillboardId,window.open(this.link,"_blank")):this.router.navigate(["/linkmanagement/billboard/edit",this.tableRowSelected.linkManagementBillboardId])}onActionButtonViewRowLinkTargetId(e=this.tableRowSelected,i){if(!e||!e.id||e.id.length===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}this.onActionTableRowSelect(e),i?.ctrlKey?(this.link="/#/linkmanagement/target/edit/"+this.tableRowSelected.linkManagementTargetId,window.open(this.link,"_blank")):this.router.navigate(["/linkmanagement/target/edit",this.tableRowSelected.linkManagementTargetId])}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(m=>{i.set(m,0)}),this.translate.get("MESSAGE.All").subscribe(m=>{i.set(m,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(m=>{this.publicHelper.processService.processStart(t,m,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:m=>{m.isSuccess?(this.translate.get("MESSAGE.All").subscribe(R=>{i.set(R,m.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(m.errorMessage),this.publicHelper.processService.processStop(t)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(t,!1)}});let s=JSON.parse(JSON.stringify(this.filteModelContent)),M=new ne;M.propertyName="recordStatus",M.value=nt.Available,s.filters.push(M),this.contentService.ServiceGetCount(s).subscribe({next:m=>{m.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(R=>{i.set(R,m.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(m.errorMessage),this.publicHelper.processService.processStop(t)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.requestLinkManagementBillboardId>0&&this.router.navigate(["/linkmanagement/billboard/"]),this.requestLinkManagementTargetId>0&&this.router.navigate(["/linkmanagement/target/"])}};to.\u0275fac=function(i){return new(i||to)(b(Ci),b(N),b(Xe),b(We),b(qe),b(B),b(P),b(He),b(yt),b(F),b(Qe))},to.\u0275cmp=D({type:to,selectors:[["app-linkmanagement-target-billboard-log-list"]],standalone:!1,features:[X],decls:73,vars:37,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionActionRowDisplayMenuAct","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","","multiTemplateDataRows","",3,"matSortChange","dataSource"],["matColumnDef","action_menu"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","linkSiteId"],["matColumnDef","recordStatus"],["matColumnDef","ClickPrice"],["matColumnDef","ViewPrice"],["matColumnDef","createdDate"],["style","direction: ltr",4,"matCellDef"],["matColumnDef","LinkManagementBillboardId"],["matColumnDef","LinkManagementTargetId"],["matColumnDef","Action"],["class","Action",4,"matCellDef"],["matColumnDef","expandedTitle"],["matColumnDef","expandedDetail"],[4,"matHeaderRowDef"],["class","ntk-row-expandedTitle",3,"ntk-row-selected","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["class","ntk-row-expandedDetail",3,"ntk-row-selected","ngStyle","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-flag","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-billboard","font-18",2,"color","#ffffff"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"click"],[1,"fa","fa-bars","font-18"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[2,"direction","ltr"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],["style","vertical-align: middle","class","ntk-hover-zoom","aria-hidden","","height","80","width","80",3,"src",4,"ngIf"],["aria-hidden","","height","80","width","80",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"ntk-row-expandedTitle",3,"click","rtclick","mouseenter","mouseleave"],[1,"ntk-row-mainfild",3,"click","rtclick","mouseenter","mouseleave"],[1,"ntk-row-expandedDetail",3,"click","rtclick","mouseenter","mouseleave","ngStyle"]],template:function(i,t){if(i&1){let s=T();r(0,"app-cms-html-list",3),w("optionActionGuideNoticeDisplayChange",function(m){return u(s),E(t.viewGuideNotice,m)||(t.viewGuideNotice=m),f(m)}),C("optionOnActionButtonMemoRow",function(){return u(s),f(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return u(s),f(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return u(s),f(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return u(s),f(t.onActionButtonPrintRow())}),L(1,4),d(2," ---------------------- "),A(),Oe(3,5)(4,6),L(5,7),r(6,"a",8),C("click",function(){return u(s),f(t.viewGuideNotice=!t.viewGuideNotice)}),S(7,"i",9),a(),r(8,"a",8),C("click",function(){return u(s),f(t.onActionButtonReload())}),S(9,"i",10),a(),I(10,Gu,2,0,"a",11),A(),L(11,12),r(12,"a",13),C("click",function(){return u(s),f(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),S(13,"mat-slide-toggle",14),d(14),g(15,"translate"),a(),r(16,"a",13),C("click",function(){return u(s),f(t.onActionButtonStatist())}),S(17,"mat-slide-toggle",14),d(18),g(19,"translate"),a(),A(),Oe(20,15),L(21,16),I(22,Wu,7,3,"div",17)(23,Hu,7,3,"div",17)(24,qu,7,3,"div",17)(25,ju,7,3,"div",17),A(),L(26,18),r(27,"app-cms-search-list",19),w("optionsChange",function(m){return u(s),E(t.optionsSearch,m)||(t.optionsSearch=m),f(m)}),a(),r(28,"app-cms-statist-list",19),w("optionsChange",function(m){return u(s),E(t.optionsStatist,m)||(t.optionsStatist=m),f(m)}),a(),A(),L(29,20),r(30,"mat-table",21,0),C("matSortChange",function(){u(s);let m=x(31);return f(t.onTableSortData(m))}),L(32,22),I(33,Uu,3,3,"mat-header-cell",23)(34,Qu,3,0,"mat-cell",24),A(),L(35,25),I(36,zu,2,1,"mat-header-cell",26)(37,Ku,2,1,"mat-cell",24),A(),L(38,27),I(39,Ju,2,1,"mat-header-cell",26)(40,Xu,4,5,"mat-cell",24),A(),L(41,28),I(42,Yu,2,1,"mat-header-cell",26)(43,$u,4,4,"mat-cell",24),A(),L(44,29),I(45,e0,2,1,"mat-header-cell",26)(46,t0,2,1,"mat-cell",24),A(),L(47,30),I(48,i0,2,1,"mat-header-cell",26)(49,n0,2,1,"mat-cell",24),A(),L(50,31),I(51,o0,2,1,"mat-header-cell",26)(52,r0,3,3,"mat-cell",32),A(),L(53,33),I(54,a0,2,1,"mat-header-cell",26)(55,l0,2,1,"mat-cell",24),A(),L(56,34),I(57,s0,2,1,"mat-header-cell",26)(58,c0,2,1,"mat-cell",24),A(),L(59,35),I(60,d0,3,3,"mat-header-cell",23)(61,m0,6,1,"mat-cell",36),A(),L(62,37),I(63,p0,7,10,"mat-cell",24),A(),L(64,38),I(65,f0,23,9,"mat-cell",24),A(),I(66,g0,1,0,"mat-header-row",39)(67,_0,1,2,"mat-row",40)(68,M0,1,2,"mat-row",41)(69,h0,1,5,"mat-row",42),a(),A(),L(70,43),r(71,"mat-paginator",44,1),C("page",function(m){return u(s),f(t.onTablePageingData(m))}),a(),A(),a()}i&2&&(c("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),y("optionActionGuideNoticeDisplay",t.viewGuideNotice),c("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionActionRowDisplayMenuAct",t.tableRowSelectActionMenuClick)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),o(9),J("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(),c("ngIf",t.requestLinkManagementBillboardId>0||t.requestLinkManagementTargetId>0),o(3),c("checked",t.optionsSearch.data.show),o(),h("",_(15,30,"ACTION.SEARCH")," "),o(3),c("checked",t.optionsStatist.data.show),o(),h("",_(19,32,"ACTION.STATIST")," "),o(4),c("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),o(),c("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),o(),c("ngIf",(t.tableRowSelected==null?null:t.tableRowSelected.linkManagementTargetId)>0),o(),c("ngIf",(t.tableRowSelected==null?null:t.tableRowSelected.linkManagementBillboardId)>0),o(2),y("options",t.optionsSearch),o(),y("options",t.optionsStatist),o(2),c("dataSource",t.tableSource),o(36),c("matHeaderRowDef",t.tabledisplayedColumns),o(),c("matRowDefColumns",Ve(34,Nu)),o(),c("matRowDefColumns",t.tabledisplayedColumns),o(),c("matRowDefColumns",Ve(35,Fu)),o(2),c("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",Ve(36,Ou)))},dependencies:[rt,O,qt,Ue,xe,G,ct,dt,mt,pt,ut,ft,gt,Mt,It,ht,_t,Ct,St,bt,vt,Tt,kt,Lt,At,xt,Zt,Ge,V,Rt,_e,Dt,ho,Bt],encapsulation:2});var Ui=to;var S0=["vform"];function b0(n,l){if(n&1){let e=T();r(0,"app-cms-enum-record-status-selector",49),w("modelChange",function(t){u(e);let s=p();return E(s.dataModel.recordStatus,t)||(s.dataModel.recordStatus=t),f(t)}),a()}if(n&2){let e=p();y("model",e.dataModel.recordStatus),c("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function I0(n,l){n&1&&S(0,"i",50)}function C0(n,l){n&1&&S(0,"i",51)}function v0(n,l){if(n&1&&(r(0,"mat-error"),d(1),r(2,"strong"),d(3),g(4,"translate"),a()()),n&2){let e=p();o(),h(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," is "),o(2),v(_(4,2,"MESSAGE.required"))}}function T0(n,l){if(n&1){let e=T();r(0,"app-linkmanagement-billboard-pattern-selector",52),g(1,"translate"),C("optionChange",function(t){u(e);let s=p();return f(s.onActionSelectorSelectLinkBillboardPatternId(t))}),a()}if(n&2){let e=p();c("optionSelectForce",e.dataModel.linkBillboardPatternId)("optionPlaceholder",_(1,2,"TITLE.Billboard_Pattern"))}}function y0(n,l){if(n&1&&(r(0,"option",55),d(1),a()),n&2){let e=l.$implicit;c("value",e.value),o(),h(" ",e.description," ")}}function E0(n,l){n&1&&(r(0,"mat-error"),d(1," SharingLinkType is "),r(2,"strong"),d(3),g(4,"translate"),a()()),n&2&&(o(3),v(_(4,1,"MESSAGE.required")))}function w0(n,l){if(n&1){let e=T();r(0,"div",29)(1,"select",53,3),w("ngModelChange",function(t){u(e);let s=p();return E(s.dataModel.sharingLinkType,t)||(s.dataModel.sharingLinkType=t),f(t)}),I(3,y0,2,2,"option",54),a(),r(4,"em"),d(5),g(6,"translate"),a(),I(7,E0,5,3,"mat-error",34),a()}if(n&2){let e=x(2),i=p();o(),y("ngModel",i.dataModel.sharingLinkType),o(2),c("ngForOf",i.dataModelEnumSharingPriceTypeResult.listItems),o(2),v(_(6,4,"TITLE.Select_type_of_content")),o(2),c("ngIf",e.errors==null?null:e.errors.required)}}function k0(n,l){if(n&1){let e=T();r(0,"div",56)(1,"div",22)(2,"h5",57),d(3),a()(),r(4,"div",24)(5,"div",25)(6,"input",58),w("ngModelChange",function(t){u(e);let s=p();return E(s.dataModel.isPublic,t)||(s.dataModel.isPublic=t),f(t)}),a(),S(7,"label",59),a()()()}if(n&2){let e=p();o(3),h(" ",e.fieldsInfo.isPublic==null?null:e.fieldsInfo.isPublic.fieldTitle," "),o(3),y("ngModel",e.dataModel.isPublic)}}function L0(n,l){n&1&&(r(0,"mat-error"),d(1," ToWebAddress is "),r(2,"strong"),d(3),g(4,"translate"),a()()),n&2&&(o(3),v(_(4,1,"MESSAGE.required")))}function A0(n,l){if(n&1){let e=T();r(0,"div",29)(1,"label",60),d(2),a(),r(3,"input",61,4),w("ngModelChange",function(t){u(e);let s=p();return E(s.dataModel.toWebAddress,t)||(s.dataModel.toWebAddress=t),f(t)}),a(),r(5,"em"),d(6),a(),I(7,L0,5,3,"mat-error",34),a()}if(n&2){let e=x(4),i=p();o(2),v(i.fieldsInfo.toWebAddress==null?null:i.fieldsInfo.toWebAddress.fieldTitle),o(),c("placeholder",k(i.fieldsInfo.toWebAddress==null?null:i.fieldsInfo.toWebAddress.fieldTitle)),y("ngModel",i.dataModel.toWebAddress),o(3),h("",e.value.length," / 100"),o(),c("ngIf",e.errors==null?null:e.errors.required)}}function x0(n,l){n&1&&(r(0,"mat-error"),d(1," WebAddress is "),r(2,"strong"),d(3),g(4,"translate"),a()()),n&2&&(o(3),v(_(4,1,"MESSAGE.required")))}function R0(n,l){if(n&1){let e=T();r(0,"div",29)(1,"label",62),d(2),a(),r(3,"input",63,5),w("ngModelChange",function(t){u(e);let s=p();return E(s.dataModel.webAddress,t)||(s.dataModel.webAddress=t),f(t)}),a(),r(5,"em"),d(6),a(),I(7,x0,5,3,"mat-error",34),a()}if(n&2){let e=x(4),i=p();o(2),v(i.fieldsInfo.webAddress==null?null:i.fieldsInfo.webAddress.fieldTitle),o(),c("placeholder",k(i.fieldsInfo.webAddress==null?null:i.fieldsInfo.webAddress.fieldTitle)),y("ngModel",i.dataModel.webAddress),o(3),h("",e.value.length," / 100"),o(),c("ngIf",e.errors==null?null:e.errors.required)}}function D0(n,l){n&1&&(r(0,"mat-error"),d(1," SmallPreview is "),r(2,"strong"),d(3),g(4,"translate"),a()()),n&2&&(o(3),v(_(4,1,"MESSAGE.required")))}function B0(n,l){if(n&1){let e=T();r(0,"div",29)(1,"label",64),d(2),a(),r(3,"input",65,6),w("ngModelChange",function(t){u(e);let s=p();return E(s.dataModel.smallPreview,t)||(s.dataModel.smallPreview=t),f(t)}),a(),r(5,"em"),d(6),a(),I(7,D0,5,3,"mat-error",34),a()}if(n&2){let e=x(4),i=p();o(2),v(i.fieldsInfo.smallPreview==null?null:i.fieldsInfo.smallPreview.fieldTitle),o(),c("placeholder",k(i.fieldsInfo.smallPreview==null?null:i.fieldsInfo.smallPreview.fieldTitle)),y("ngModel",i.dataModel.smallPreview),o(3),h("",e.value.length," / 100"),o(),c("ngIf",e.errors==null?null:e.errors.required)}}function P0(n,l){n&1&&(r(0,"mat-error"),d(1," ClickPrice is "),r(2,"strong"),d(3),g(4,"translate"),a()()),n&2&&(o(3),v(_(4,1,"MESSAGE.required")))}function V0(n,l){if(n&1){let e=T();r(0,"div",29)(1,"label",66),d(2),a(),r(3,"input",67,7),g(5,"translate"),w("ngModelChange",function(t){u(e);let s=p();return E(s.dataModel.clickPrice,t)||(s.dataModel.clickPrice=t),f(t)}),a(),I(6,P0,5,3,"mat-error",34),a()}if(n&2){let e=x(4),i=p();o(2),v(i.fieldsInfo.clickPrice==null?null:i.fieldsInfo.clickPrice.fieldTitle),o(),c("placeholder",k(_(5,5,"TITLE.Amount_Per_Click"))),y("ngModel",i.dataModel.clickPrice),o(3),c("ngIf",e.errors==null?null:e.errors.required)}}function N0(n,l){n&1&&(r(0,"mat-error"),d(1," ViewPrice is "),r(2,"strong"),d(3),g(4,"translate"),a()()),n&2&&(o(3),v(_(4,1,"MESSAGE.required")))}function F0(n,l){if(n&1){let e=T();r(0,"div",29)(1,"label",68),d(2),a(),r(3,"input",69,8),g(5,"translate"),w("ngModelChange",function(t){u(e);let s=p();return E(s.dataModel.viewPrice,t)||(s.dataModel.viewPrice=t),f(t)}),a(),I(6,N0,5,3,"mat-error",34),a()}if(n&2){let e=x(4),i=p();o(2),v(i.fieldsInfo.viewPrice==null?null:i.fieldsInfo.viewPrice.fieldTitle),o(),c("placeholder",k(_(5,5,"TITLE.Amount_Per_Show"))),y("ngModel",i.dataModel.viewPrice),o(3),c("ngIf",e.errors==null?null:e.errors.required)}}function O0(n,l){n&1&&(r(0,"mat-error"),d(1," MaxPriceOfSharePerDay is "),r(2,"strong"),d(3),g(4,"translate"),a()()),n&2&&(o(3),v(_(4,1,"MESSAGE.required")))}function G0(n,l){if(n&1){let e=T();r(0,"div",29)(1,"label",70),d(2),a(),r(3,"input",71,9),g(5,"translate"),w("ngModelChange",function(t){u(e);let s=p();return E(s.dataModel.maxPriceOfSharePerDay,t)||(s.dataModel.maxPriceOfSharePerDay=t),f(t)}),a(),I(6,O0,5,3,"mat-error",34),a()}if(n&2){let e=x(4),i=p();o(2),v(i.fieldsInfo.maxPriceOfSharePerDay==null?null:i.fieldsInfo.maxPriceOfSharePerDay.fieldTitle),o(),c("placeholder",k(_(5,5,"TITLE.Number_of_views_so_far"))),y("ngModel",i.dataModel.maxPriceOfSharePerDay),o(3),c("ngIf",e.errors==null?null:e.errors.required)}}function W0(n,l){n&1&&(r(0,"mat-error"),d(1," MaxPriceOfShareTotal is "),r(2,"strong"),d(3),g(4,"translate"),a()()),n&2&&(o(3),v(_(4,1,"MESSAGE.required")))}function H0(n,l){if(n&1){let e=T();r(0,"div",29)(1,"label",72),d(2),a(),r(3,"input",73,10),g(5,"translate"),w("ngModelChange",function(t){u(e);let s=p();return E(s.dataModel.maxPriceOfShareTotal,t)||(s.dataModel.maxPriceOfShareTotal=t),f(t)}),a(),I(6,W0,5,3,"mat-error",34),a()}if(n&2){let e=x(4),i=p();o(2),v(i.fieldsInfo.maxPriceOfShareTotal==null?null:i.fieldsInfo.maxPriceOfShareTotal.fieldTitle),o(),c("placeholder",k(_(5,5,"TITLE.Number_of_click_so_far"))),y("ngModel",i.dataModel.maxPriceOfShareTotal),o(3),c("ngIf",e.errors==null?null:e.errors.required)}}function q0(n,l){n&1&&(r(0,"mat-error"),d(1," FormulaPercent is "),r(2,"strong"),d(3),g(4,"translate"),a()()),n&2&&(o(3),v(_(4,1,"MESSAGE.required")))}function j0(n,l){if(n&1){let e=T();r(0,"div",29)(1,"label",74),d(2),a(),r(3,"input",75,11),g(5,"translate"),w("ngModelChange",function(t){u(e);let s=p();return E(s.dataModel.formulaPercent,t)||(s.dataModel.formulaPercent=t),f(t)}),a(),I(6,q0,5,3,"mat-error",34),a()}if(n&2){let e=x(4),i=p();o(2),v(i.fieldsInfo.formulaPercent==null?null:i.fieldsInfo.formulaPercent.fieldTitle),o(),c("placeholder",k(_(5,5,"TITLE.Number_of_views_so_far"))),y("ngModel",i.dataModel.formulaPercent),o(3),c("ngIf",e.errors==null?null:e.errors.required)}}function U0(n,l){if(n&1){let e=T();r(0,"div",76)(1,"button",77),C("click",function(){u(e);let t=p();return f(t.onActionBackToParent())}),d(2),g(3,"translate"),a(),r(4,"button",78),d(5),g(6,"translate"),a()()}if(n&2){p();let e=x(10);o(2),h(" ",_(3,3,"ACTION.BACK")," "),o(2),c("disabled",!e.form.valid),o(),h(" ",_(6,5,"ACTION.NEXT")," ")}}function Q0(n,l){if(n&1&&(r(0,"div",76)(1,"button",79),d(2),g(3,"translate"),a(),r(4,"button",78),d(5),g(6,"translate"),a()()),n&2){p();let e=x(10);o(2),h(" ",_(3,3,"ACTION.BEFOR")," "),o(2),c("disabled",!e.form.valid),o(),h(" ",_(6,5,"ACTION.NEXT")," ")}}function z0(n,l){if(n&1&&(S(0,"img",80),g(1,"cmsthumbnail")),n&2){let e=p();c("src",k(_(1,2,e.dataModel.linkMainImageIdSrc)),K)}}function K0(n,l){if(n&1){let e=T();r(0,"div",29)(1,"label",81),C("click",function(){u(e);let t=p();return f(t.fileManagerOpenForm=!0)}),d(2),g(3,"translate"),a(),r(4,"input",82,12),g(6,"translate"),w("ngModelChange",function(t){u(e);let s=p();return E(s.dataModel.linkMainImageId,t)||(s.dataModel.linkMainImageId=t),f(t)}),C("click",function(){u(e);let t=p();return f(t.fileManagerOpenForm=!0)}),a(),r(7,"cms-file-manager",83),C("itemSelected",function(t){u(e);let s=p();return f(s.onActionFileSelectedLinkMainImageId(t))}),w("openFormChange",function(t){u(e);let s=p();return E(s.fileManagerOpenForm,t)||(s.fileManagerOpenForm=t),f(t)}),a()()}if(n&2){let e=p();o(2),v(_(3,12,"TITLE.Original_Photo")),o(2),c("placeholder",k(_(6,14,"TITLE.Original_File_ID"))),y("ngModel",e.dataModel.linkMainImageId),o(3),c("language",e.appLanguage)("isPopup",!0),y("openForm",e.fileManagerOpenForm),c("tree",e.fileManagerTree)("openDirectUploadView",!0)("openFilemanagerButtonLabelKey","select")("selectFileType",e.selectFileTypeMainImage)("openFilemanagerButtonView",!1)}}function J0(n,l){if(n&1&&(r(0,"div",76)(1,"button",79),d(2),g(3,"translate"),a(),r(4,"button",84),d(5),g(6,"translate"),a()()),n&2){p();let e=x(10);o(2),h(" ",_(3,3,"ACTION.BEFOR")," "),o(2),c("disabled",!e.form.valid),o(),h(" ",_(6,5,"ACTION.SAVE")," ")}}function X0(n,l){n&1&&(r(0,"mat-icon"),d(1,"call_end"),a())}function Y0(n,l){n&1&&(r(0,"mat-icon"),d(1,"call_end"),a())}function Z0(n,l){n&1&&(r(0,"mat-icon"),d(1,"forum"),a())}function $0(n,l){n&1&&(r(0,"mat-icon"),d(1,"forum"),a())}var io=class io extends Et{constructor(e,i,t,s,M,m,R,H,j,he){super(M,new mi,s,he);this.activatedRoute=e;this.coreEnumService=i;this.linkManagementEnumService=t;this.publicHelper=s;this.linkManagementTargetService=M;this.contentCategoryService=m;this.cmsToastrService=R;this.router=H;this.cdr=j;this.translate=he;this.requestLinkBillboardPatternId=0;this.constructorInfoAreaId=this.constructor.name;this.fieldsInfo=new Map;this.dataModel=new mi;this.dataModelResult=new W;this.dataModelEnumManagementContentSettingTypeResult=new W;this.dataModelEnumSharingPriceTypeResult=new W;this.optionActionTitle="";this.optionActionButtomEnable=!0;this.dataProfessional=!0;this.optionTabledisplayedColumns=["id","Option","OptionAnswer","IsCorrectAnswer","NumberOfVotes","ScoreOfVotes","Action"];this.dataContentCategoryModel=[];this.selectFileTypeMainImage=["jpg","jpeg","png"];this.selectFileTypePodcast=["mp3"];this.selectFileTypeMovie=["mp4","webm"];this.formInfo=new ie;this.fileManagerOpenForm=!1;this.fileManagerOpenFormPodcast=!1;this.fileManagerOpenFormMovie=!1;this.appLanguage="fa";this.viewMap=!1;this.mapMarkerPoints=[];this.mapOptonCenter=new Fi;this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),this.translate.get("ACTION.Add_To_List").subscribe(ke=>{this.optionActionTitle=ke})}ngOnInit(){if(this.requestLinkBillboardPatternId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkBillboardPatternId")),this.requestLinkBillboardPatternId===0){this.cmsToastrService.typeErrorAddRowParentIsNull();return}this.dataModel.linkBillboardPatternId=this.requestLinkBillboardPatternId,this.DataGetAccess(),this.getEnumSharingPriceType(),this.getEnumManagementContentSettingType()}getEnumManagementContentSettingType(){this.linkManagementEnumService.ServiceManagementContentSettingTypeEnum().subscribe(e=>{this.dataModelEnumManagementContentSettingTypeResult=e})}getEnumSharingPriceType(){this.linkManagementEnumService.ServiceSharingPriceTypeEnum().subscribe(e=>{this.dataModelEnumSharingPriceTypeResult=e})}onActionFileSelectedLinkMainImageId(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}onFormSubmit(){if(this.requestLinkBillboardPatternId<=0){this.cmsToastrService.typeErrorAddRowParentIsNull();return}if(!this.formGroup.valid){this.cmsToastrService.typeErrorFormInvalid();return}this.DataEditContent()}DataGetOne(){this.formInfo.submitButtonEnabled=!1,this.translate.get("MESSAGE.get_information_from_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.linkManagementTargetService.ServiceGetOneById(this.dataModelResult.item.id).subscribe({next:i=>{this.publicHelper.processService.processStop(e),this.dataModelResult=i,this.formInfo.submitButtonEnabled=!0,i.isSuccess?(this.dataModel=i.item,this.publicHelper.processService.processStop(e)):this.cmsToastrService.typeErrorGetOne(i.errorMessage)},error:i=>{this.publicHelper.processService.processStop(e),this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeErrorGetOne(i)}})}DataAddContent(){this.formInfo.submitButtonEnabled=!1,this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.linkManagementTargetService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.publicHelper.processService.processStop(e),this.dataModelResult=i,i.isSuccess?(this.cmsToastrService.typeSuccessAdd(),this.dataModel=i.item):this.cmsToastrService.typeErrorAdd(i.errorMessage),this.formInfo.submitResultMessage="",this.formInfo.submitButtonEnabled=!0},error:i=>{this.publicHelper.processService.processStop(e),this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeErrorAdd(i)}})}DataEditContent(){this.formInfo.submitButtonEnabled=!1,this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.linkManagementTargetService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.publicHelper.processService.processStop(e),this.formInfo.submitButtonEnabled=!0,i.isSuccess?(this.linkManagementTargetService.ServiceGetOneById(this.dataModel.id).subscribe({next:t=>{this.publicHelper.processService.processStop(e),this.formInfo.submitButtonEnabled=!0,this.dataModelResult=t,t.isSuccess?this.dataModel=t.item:this.cmsToastrService.typeErrorEdit(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.publicHelper.processService.processStop(e),this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(t)}}),this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.cmsToastrService.typeSuccessEdit(),setTimeout(()=>this.router.navigate(["/linkmanagement/target"]),1e3)):this.cmsToastrService.typeErrorEdit(i.errorMessage),this.publicHelper.processService.processStop(e)},error:i=>{this.publicHelper.processService.processStop(e),this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i)}})}onActionSelectorSelectLinkBillboardPatternId(e){if(!e||e.id<=0){this.translate.get("MESSAGE.Category_of_billboard_information_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkBillboardPatternId=e.id}onActionCategorySelectChecked(e){if(!e||e<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}let i=new Zi;i.linkCategoryId=e,i.linkManagementTargetId=this.dataModel.id,this.contentCategoryService.ServiceAdd(i).subscribe({next:t=>{t.isSuccess?(this.translate.get("MESSAGE.registration_in_this_group_was_successful").subscribe(s=>{this.formInfo.submitResultMessage=s,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessEdit()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(s=>{this.formInfo.submitResultMessage=s}),this.formInfo.submitResultMessage=t.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(t.errorMessage))},error:t=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(t)}})}onActionCategorySelectDisChecked(e){if(!e||e<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}let i=new Zi;i.linkCategoryId=e,i.linkManagementTargetId=this.dataModel.id,this.contentCategoryService.ServiceDeleteEntity(i).subscribe({next:t=>{t.isSuccess?(this.translate.get("MESSAGE.registration_in_this_group_was_successful").subscribe(s=>{this.formInfo.submitResultMessage=s,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessEdit()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(s=>{this.formInfo.submitResultMessage=s}),this.formInfo.submitResultMessage=t.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(t.errorMessage))},error:t=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(t)}})}onStepClick(e,i){e.previouslySelectedIndex<e.selectedIndex&&(this.formGroup.valid||(this.cmsToastrService.typeErrorFormInvalid(),setTimeout(()=>{i.selectedIndex=e.previouslySelectedIndex},10))),(!this.dataModelResult||!this.dataModelResult.item||this.dataModelResult.item.id<=0)&&this.DataAddContent()}onActionBackToParent(){this.router.navigate(["/linkmanagement/target/"])}};io.\u0275fac=function(i){return new(i||io)(b(Xe),b(ee),b(ze),b(F),b(Ii),b(Ji),b(N),b(We),b(B),b(P))},io.\u0275cmp=D({type:io,selectors:[["app-linkmanagement-target-add"]],viewQuery:function(i,t){if(i&1&&Y(S0,5),i&2){let s;Z(s=$())&&(t.formGroup=s.first)}},standalone:!1,features:[X],decls:69,vars:55,consts:[["vform","ngForm"],["stepper",""],["Title",""],["SharingLinkType","ngModel"],["ToWebAddress",""],["WebAddress",""],["SmallPreview",""],["ClickPrice",""],["ViewPrice",""],["MaxPriceOfSharePerDay",""],["MaxPriceOfShareTotal",""],["FormulaPercent",""],["LinkMainImageId",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"selectionChange"],["state","main",3,"label"],[1,"d-flex","mb-3",2,"position","inherit"],[1,"pt-1"],["data-trigger-switch","dataProfessional",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataProfessional","name","dataProfessionalt",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataProfessional",1,"custom-control-label"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","fa fa-times invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],[4,"ngIf"],[3,"optionSelectForce","optionPlaceholder","optionChange",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["class","d-flex mb-3",4,"ngIf"],["class","form-actions",4,"ngIf"],["state","seo",3,"label"],[3,"optionModelChange","optionSelectChecked","optionSelectDisChecked","optionModel"],["state","file",3,"label"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align: middle","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],["matStepperIcon","main"],["matStepperIcon","seo"],["matStepperIcon","file"],["matStepperIcon","loaction"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[3,"optionChange","optionSelectForce","optionPlaceholder"],["id","dataModel.sharingLinkType","name","dataModel.sharingLinkType",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"d-flex","mb-3"],["data-trigger-switch","dataModel.isPublic",1,"font-600","font-14"],["type","checkbox","id","dataModel.isPublic","name","dataModel.isPublic",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.isPublic",1,"custom-control-label"],["for","dataModel.toWebAddress",1,"color-highlight"],["matInput","","type","text","name","dataModel.toWebAddress","minlength","3","maxlength","2000","id","dataModel.toWebAddress",1,"form-control","validate-name",2,"direction","ltr","text-align","left !important",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.webAddress",1,"color-highlight"],["matInput","","type","text","name","dataModel.webAddress","minlength","3","maxlength","100","id","dataModel.webAddress",1,"form-control","validate-name",2,"direction","ltr","text-align","left !important",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.smallPreview",1,"color-highlight"],["matInput","","type","text","name","dataModel.smallPreview","minlength","3","maxlength","100","id","dataModel.smallPreview",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.clickPrice",1,"color-highlight"],["matInput","","type","number","name","dataModel.clickPrice","minlength","0","id","dataModel.clickPrice",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.viewPrice",1,"color-highlight"],["matInput","","type","number","name","dataModel.viewPrice","minlength","0","id","dataModel.viewPrice",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.maxPriceOfSharePerDay",1,"color-highlight"],["matInput","","type","number","name","dataModel.maxPriceOfSharePerDay","minlength","0","id","dataModel.maxPriceOfSharePerDay",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.maxPriceOfShareTotal",1,"color-highlight"],["matInput","","type","number","name","dataModel.maxPriceOfShareTotal","minlength","0","id","dataModel.maxPriceOfShareTotal",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.formulaPercent",1,"color-highlight"],["matInput","","type","number","name","dataModel.formulaPercent","minlength","1","id","dataModel.formulaPercent",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],["type","button","matStepperNext","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue",3,"disabled"],["type","button","matStepperPrevious","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openDirectUploadView","openFilemanagerButtonLabelKey","selectFileType","openFilemanagerButtonView"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"]],template:function(i,t){if(i&1){let s=T();r(0,"div",13),S(1,"app-progress-spinner",14),r(2,"div",15)(3,"p",16),d(4),a(),r(5,"p"),d(6),g(7,"translate"),a(),S(8,"app-cms-form-result-message",17),r(9,"form",18,0),C("ngSubmit",function(){return u(s),f(t.onFormSubmit())}),r(11,"mat-vertical-stepper",19,1),C("selectionChange",function(m){u(s);let R=x(12);return f(t.onStepClick(m,R))}),r(13,"mat-step",20),g(14,"translate"),S(15,"br"),r(16,"div",21)(17,"div",22)(18,"h5",23),d(19),g(20,"translate"),a()(),r(21,"div",24)(22,"div",25)(23,"input",26),w("ngModelChange",function(m){return u(s),E(t.dataProfessional,m)||(t.dataProfessional=m),f(m)}),a(),S(24,"label",27),a()()(),S(25,"br"),I(26,b0,1,5,"app-cms-enum-record-status-selector",28),r(27,"div",29)(28,"label",30),d(29),a(),r(30,"input",31,2),w("ngModelChange",function(m){return u(s),E(t.dataModel.title,m)||(t.dataModel.title=m),f(m)}),a(),I(32,I0,1,0,"i",32)(33,C0,1,0,"i",33),r(34,"em"),d(35),a(),I(36,v0,5,4,"mat-error",34),a(),I(37,T0,2,4,"app-linkmanagement-billboard-pattern-selector",35)(38,w0,8,6,"div",36)(39,k0,8,2,"div",37)(40,A0,8,6,"div",36)(41,R0,8,6,"div",36)(42,B0,8,6,"div",36)(43,V0,7,7,"div",36)(44,F0,7,7,"div",36)(45,G0,7,7,"div",36)(46,H0,7,7,"div",36)(47,j0,7,7,"div",36)(48,U0,7,7,"div",38),a(),r(49,"mat-step",39),g(50,"translate"),r(51,"app-linkmanagement-category-treeselector",40),w("optionModelChange",function(m){return u(s),E(t.dataContentCategoryModel,m)||(t.dataContentCategoryModel=m),f(m)}),C("optionSelectChecked",function(m){return u(s),f(t.onActionCategorySelectChecked(m))})("optionSelectDisChecked",function(m){return u(s),f(t.onActionCategorySelectDisChecked(m))}),a(),S(52,"br"),I(53,Q0,7,7,"div",38),a(),r(54,"mat-step",41),g(55,"translate"),r(56,"p"),d(57),g(58,"translate"),a(),r(59,"div",42)(60,"a",43),g(61,"cmsthumbnail"),I(62,z0,2,4,"img",44),a()(),I(63,K0,8,16,"div",36)(64,J0,7,7,"div",38),a(),I(65,X0,2,0,"ng-template",45)(66,Y0,2,0,"ng-template",46)(67,Z0,2,0,"ng-template",47)(68,$0,2,0,"ng-template",48),a()()()()}if(i&2){let s=x(31);o(),c("optionsInfoAreaId",t.constructorInfoAreaId),o(3),h(" ",t.formInfo.formTitle," "),o(2),h(" ",_(7,41,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),c("formInfo",t.formInfo),o(5),c("label",k(_(14,43,"TITLE.REQUIRED_INFORMATION"))),o(6),h(" ",_(20,45,"TITLE.Would_you_like_to_complete_your_information")," "),o(4),y("ngModel",t.dataProfessional),o(3),c("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),o(3),v(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),c("placeholder",k(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),y("ngModel",t.dataModel.title),o(2),c("ngIf",!s.value),o(),c("ngIf",s.value),o(2),h("",s.value.length," / 100"),o(),c("ngIf",s.errors==null?null:s.errors.required),o(),c("ngIf",t.dataProfessional),o(),c("ngIf",t.dataProfessional),o(),c("ngIf",t.fieldsInfo.isPublic==null?null:t.fieldsInfo.isPublic.accessWatchField),o(),c("ngIf",t.dataProfessional),o(),c("ngIf",t.dataProfessional),o(),c("ngIf",t.dataProfessional),o(),c("ngIf",t.dataProfessional),o(),c("ngIf",t.dataProfessional),o(),c("ngIf",t.dataProfessional),o(),c("ngIf",t.dataProfessional),o(),c("ngIf",t.dataProfessional),o(),c("ngIf",t.formInfo.submitButtonEnabled),o(),c("label",k(_(50,47,"TITLE.TARGET_SELECTION"))),o(2),y("optionModel",t.dataContentCategoryModel),o(2),c("ngIf",t.formInfo.submitButtonEnabled),o(),c("label",k(_(55,49,"TITLE.ATTACH_FILES"))),o(3),v(_(58,51,"TITLE.CONTENT_ATTACH_FILES")),o(3),c("href",k(_(61,53,t.dataModel.linkMainImageIdSrc)),K),o(2),c("ngIf",(t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0),o(),c("ngIf",t.fieldsInfo.linkMainImageId==null?null:t.fieldsInfo.linkMainImageId.accessWatchField),o(),c("ngIf",t.formInfo.submitButtonEnabled)}},dependencies:[je,O,Te,Jt,Xt,U,Ne,zt,Kt,Q,Ce,z,fe,ge,te,ve,ye,xe,G,Bi,Pi,Vi,Ni,Di,we,q,Ee,Oi,Fe,$e,si,$t,V,_e],encapsulation:2});var Ko=io;var ef=["vform"];function tf(n,l){if(n&1){let e=T();r(0,"app-cms-enum-record-status-selector",69),w("modelChange",function(t){u(e);let s=p();return E(s.dataModel.recordStatus,t)||(s.dataModel.recordStatus=t),f(t)}),a()}if(n&2){let e=p();y("model",e.dataModel.recordStatus),c("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function nf(n,l){n&1&&S(0,"i",70)}function of(n,l){n&1&&S(0,"i",71)}function rf(n,l){if(n&1&&(r(0,"mat-error"),d(1),r(2,"strong"),d(3),g(4,"translate"),a()()),n&2){let e=p();o(),h(" ",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," is "),o(2),v(_(4,2,"MESSAGE.required"))}}function af(n,l){if(n&1&&(r(0,"option",72),d(1),a()),n&2){let e=l.$implicit;c("value",e.value),o(),h(" ",e.description," ")}}function lf(n,l){n&1&&(r(0,"mat-error"),d(1," SharingLinkType is "),r(2,"strong"),d(3),g(4,"translate"),a()()),n&2&&(o(3),v(_(4,1,"MESSAGE.required")))}function sf(n,l){if(n&1){let e=T();r(0,"div",73)(1,"div",74)(2,"h5",75),d(3),a()(),r(4,"div",76)(5,"div",77)(6,"input",78),w("ngModelChange",function(t){u(e);let s=p();return E(s.dataModel.isPublic,t)||(s.dataModel.isPublic=t),f(t)}),a(),S(7,"label",79),a()()()}if(n&2){let e=p();o(3),h(" ",e.fieldsInfo.isPublic==null?null:e.fieldsInfo.isPublic.fieldTitle," "),o(3),y("ngModel",e.dataModel.isPublic)}}function cf(n,l){n&1&&(r(0,"mat-error"),d(1," ToWebAddress is "),r(2,"strong"),d(3),g(4,"translate"),a()()),n&2&&(o(3),v(_(4,1,"MESSAGE.required")))}function df(n,l){n&1&&(r(0,"mat-error"),d(1," WebAddress is "),r(2,"strong"),d(3),g(4,"translate"),a()()),n&2&&(o(3),v(_(4,1,"MESSAGE.required")))}function mf(n,l){n&1&&(r(0,"mat-error"),d(1," CarryToWebAddress is "),r(2,"strong"),d(3),g(4,"translate"),a()()),n&2&&(o(3),v(_(4,1,"MESSAGE.required")))}function pf(n,l){n&1&&(r(0,"mat-error"),d(1," SmallPreview is "),r(2,"strong"),d(3),g(4,"translate"),a()()),n&2&&(o(3),v(_(4,1,"MESSAGE.required")))}function uf(n,l){n&1&&(r(0,"mat-error"),d(1," ClickPrice is "),r(2,"strong"),d(3),g(4,"translate"),a()()),n&2&&(o(3),v(_(4,1,"MESSAGE.required")))}function ff(n,l){n&1&&(r(0,"mat-error"),d(1," ViewPrice is "),r(2,"strong"),d(3),g(4,"translate"),a()()),n&2&&(o(3),v(_(4,1,"MESSAGE.required")))}function gf(n,l){n&1&&(r(0,"mat-error"),d(1," MaxPriceOfSharePerDay is "),r(2,"strong"),d(3),g(4,"translate"),a()()),n&2&&(o(3),v(_(4,1,"MESSAGE.required")))}function _f(n,l){n&1&&(r(0,"mat-error"),d(1," MaxPriceOfShareTotal is "),r(2,"strong"),d(3),g(4,"translate"),a()()),n&2&&(o(3),v(_(4,1,"MESSAGE.required")))}function Mf(n,l){n&1&&(r(0,"mat-error"),d(1," FormulaPercent is "),r(2,"strong"),d(3),g(4,"translate"),a()()),n&2&&(o(3),v(_(4,1,"MESSAGE.required")))}function hf(n,l){n&1&&(r(0,"mat-error"),d(1," CurrentClickCount is "),r(2,"strong"),d(3),g(4,"translate"),a()()),n&2&&(o(3),v(_(4,1,"MESSAGE.required")))}function Sf(n,l){n&1&&(r(0,"mat-error"),d(1," CurrentViewCount is "),r(2,"strong"),d(3),g(4,"translate"),a()()),n&2&&(o(3),v(_(4,1,"MESSAGE.required")))}function bf(n,l){if(n&1){let e=T();r(0,"div",80)(1,"button",81),C("click",function(){u(e);let t=p();return f(t.onActionBackToParent())}),d(2),g(3,"translate"),a(),r(4,"button",82),d(5),g(6,"translate"),a()()}if(n&2){p();let e=x(10);o(2),h(" ",_(3,3,"ACTION.BACK")," "),o(2),c("disabled",!e.form.valid),o(),h(" ",_(6,5,"ACTION.NEXT")," ")}}function If(n,l){if(n&1&&(r(0,"div",80)(1,"button",83),d(2),g(3,"translate"),a(),r(4,"button",82),d(5),g(6,"translate"),a()()),n&2){p();let e=x(10);o(2),h(" ",_(3,3,"ACTION.BEFOR")," "),o(2),c("disabled",!e.form.valid),o(),h(" ",_(6,5,"ACTION.NEXT")," ")}}function Cf(n,l){if(n&1&&(S(0,"img",84),g(1,"cmsthumbnail")),n&2){let e=p();c("src",k(_(1,2,e.dataModel.linkMainImageIdSrc)),K)}}function vf(n,l){if(n&1){let e=T();r(0,"div",25)(1,"label",85),C("click",function(){u(e);let t=p();return f(t.fileManagerOpenForm=!0)}),d(2),g(3,"translate"),a(),r(4,"input",86,15),g(6,"translate"),w("ngModelChange",function(t){u(e);let s=p();return E(s.dataModel.linkMainImageId,t)||(s.dataModel.linkMainImageId=t),f(t)}),C("click",function(){u(e);let t=p();return f(t.fileManagerOpenForm=!0)}),a(),r(7,"cms-file-manager",87),C("itemSelected",function(t){u(e);let s=p();return f(s.onActionFileSelectedLinkMainImageId(t))}),w("openFormChange",function(t){u(e);let s=p();return E(s.fileManagerOpenForm,t)||(s.fileManagerOpenForm=t),f(t)}),a()()}if(n&2){let e=p();o(2),v(_(3,12,"TITLE.Original_Photo")),o(2),c("placeholder",k(_(6,14,"TITLE.Original_File_ID"))),y("ngModel",e.dataModel.linkMainImageId),o(3),c("language",e.appLanguage)("isPopup",!0),y("openForm",e.fileManagerOpenForm),c("tree",e.fileManagerTree)("openDirectUploadView",!0)("openFilemanagerButtonLabelKey","select")("selectFileType",e.selectFileTypeMainImage)("openFilemanagerButtonView",!1)}}function Tf(n,l){if(n&1&&(r(0,"div",80)(1,"button",83),d(2),g(3,"translate"),a(),r(4,"button",88),d(5),g(6,"translate"),a()()),n&2){p();let e=x(10);o(2),h(" ",_(3,3,"ACTION.BEFOR")," "),o(2),c("disabled",!e.form.valid),o(),h(" ",_(6,5,"ACTION.SAVE")," ")}}function yf(n,l){n&1&&(r(0,"mat-icon"),d(1,"call_end"),a())}function Ef(n,l){n&1&&(r(0,"mat-icon"),d(1,"call_end"),a())}function wf(n,l){n&1&&(r(0,"mat-icon"),d(1,"forum"),a())}function kf(n,l){n&1&&(r(0,"mat-icon"),d(1,"forum"),a())}var no=class no extends et{constructor(e,i,t,s,M,m,R,H,j,he,ke,Le){super(M,new mi,t,Le);this.activatedRoute=e;this.coreEnumService=i;this.publicHelper=t;this.linkManagementEnumService=s;this.linkManagementTargetService=M;this.contentCategoryService=m;this.cmsToastrService=R;this.tokenHelper=H;this.cmsStoreService=j;this.router=he;this.cdr=ke;this.translate=Le;this.requestId=0;this.constructorInfoAreaId=this.constructor.name;this.dataModel=new mi;this.dataModelResult=new Ye;this.dataModelEnumManagementContentSettingTypeResult=new W;this.dataModelEnumSharingPriceTypeResult=new W;this.optionActionTitle="";this.optionActionButtomEnable=!0;this.optionTabledisplayedColumns=["id","Option","OptionAnswer","IsCorrectAnswer","NumberOfVotes","ScoreOfVotes","Action"];this.dataContentCategoryModel=[];this.selectFileTypeMainImage=["jpg","jpeg","png"];this.selectFileTypePodcast=["mp3"];this.selectFileTypeMovie=["mp4","webm"];this.formInfo=new ie;this.fileManagerOpenForm=!1;this.fileManagerOpenFormPodcast=!1;this.fileManagerOpenFormMovie=!1;this.appLanguage="fa";this.viewMap=!1;this.mapMarkerPoints=[];this.mapOptonCenter=new Fi;this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),this.translate.get("ACTION.Add_To_List").subscribe(ii=>{this.optionActionTitle=ii})}ngOnInit(){if(this.requestId=+Number(this.activatedRoute.snapshot.paramMap.get("id")),this.requestId===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetOne(),this.getEnumSharingPriceType(),this.getEnumManagementContentSettingType()}getEnumManagementContentSettingType(){this.linkManagementEnumService.ServiceManagementContentSettingTypeEnum().subscribe(e=>{this.dataModelEnumManagementContentSettingTypeResult=e})}getEnumSharingPriceType(){this.linkManagementEnumService.ServiceSharingPriceTypeEnum().subscribe(e=>{this.dataModelEnumSharingPriceTypeResult=e})}onActionFileSelectedLinkMainImageId(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}onFormSubmit(){if(this.requestId<=0){this.cmsToastrService.typeErrorEditRowIsNull();return}if(!this.formGroup.valid){this.cmsToastrService.typeErrorFormInvalid();return}this.DataEditContent()}DataGetOne(){this.formInfo.submitButtonEnabled=!1,this.translate.get("MESSAGE.get_information_from_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.linkManagementTargetService.setAccessLoad(),this.linkManagementTargetService.setAccessDataType(be.Editor),this.linkManagementTargetService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.dataAccessModel=i.access,this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModelResult=i,this.formInfo.submitButtonEnabled=!0,i.isSuccess?this.dataModel=i.item:this.cmsToastrService.typeErrorGetOne(i.errorMessage),this.publicHelper.processService.processStop(e)},error:i=>{this.publicHelper.processService.processStop(e),this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeErrorGetOne(i)}})}DataEditContent(){this.formInfo.submitButtonEnabled=!1,this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.linkManagementTargetService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.publicHelper.processService.processStop(e),this.formInfo.submitButtonEnabled=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessEdit(),setTimeout(()=>this.router.navigate(["/linkmanagement/target"]),1e3)):this.cmsToastrService.typeErrorEdit(i.errorMessage),this.publicHelper.processService.processStop(e)},error:i=>{this.publicHelper.processService.processStop(e),this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i)}})}onActionSelectorSelectLinkBillboardPatternId(e){if(!e||e.id<=0){this.translate.get("MESSAGE.Category_of_billboard_information_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkBillboardPatternId=e.id}onActionCategorySelectChecked(e){if(!e||e<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}let i=new Zi;i.linkCategoryId=e,i.linkManagementTargetId=this.dataModel.id,this.contentCategoryService.ServiceAdd(i).subscribe({next:t=>{t.isSuccess?(this.translate.get("MESSAGE.registration_in_this_group_was_successful").subscribe(s=>{this.formInfo.submitResultMessage=s,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessEdit()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(s=>{this.formInfo.submitResultMessage=s}),this.formInfo.submitResultMessage=t.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(t.errorMessage))},error:t=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(t)}})}onActionCategorySelectDisChecked(e){if(!e||e<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}let i=new Zi;i.linkCategoryId=e,i.linkManagementTargetId=this.dataModel.id,this.contentCategoryService.ServiceDeleteEntity(i).subscribe({next:t=>{t.isSuccess?(this.translate.get("MESSAGE.registration_in_this_group_was_successful").subscribe(s=>{this.formInfo.submitResultMessage=s,this.formInfo.submitResultMessageType=1}),this.cmsToastrService.typeSuccessEdit()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(s=>{this.formInfo.submitResultMessage=s}),this.formInfo.submitResultMessage=t.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(t.errorMessage))},error:t=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(t)}})}onStepClick(e,i){e.previouslySelectedIndex<e.selectedIndex&&(this.formGroup.valid||(this.cmsToastrService.typeErrorFormInvalid(),setTimeout(()=>{i.selectedIndex=e.previouslySelectedIndex},10)))}onActionBackToParent(){this.router.navigate(["/linkmanagement/target/"])}onActionSelectSite(e){if(!e||e.id<=0){this.translate.get(["MESSAGE.Specify_the_site","MESSAGE.Information_site_is_not_clear"]).subscribe(i=>{this.cmsToastrService.typeErrorMessage(i["MESSAGE.Information_site_is_not_clear"],i["MESSAGE.Specify_the_site"])});return}this.dataModel.linkSiteId=e.id}};no.\u0275fac=function(i){return new(i||no)(b(Xe),b(ee),b(F),b(ze),b(Ii),b(Ji),b(N),b(qe),b(He),b(We),b(B),b(P))},no.\u0275cmp=D({type:no,selectors:[["app-linkmanagement-target-edit"]],viewQuery:function(i,t){if(i&1&&Y(ef,5),i&2){let s;Z(s=$())&&(t.formGroup=s.first)}},standalone:!1,features:[X],decls:139,vars:124,consts:[["vform","ngForm"],["stepper",""],["Title",""],["SharingLinkType","ngModel"],["ToWebAddress",""],["WebAddress",""],["CarryToWebAddress",""],["SmallPreview",""],["ClickPrice",""],["ViewPrice",""],["MaxPriceOfSharePerDay",""],["MaxPriceOfShareTotal",""],["FormulaPercent",""],["CurrentClickCount",""],["CurrentViewCount",""],["LinkMainImageId",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[3,"selectionChange"],["state","main",3,"label"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","fa fa-times invalid color-red-dark",4,"ngIf"],["class","fa fa-check valid color-green-dark",4,"ngIf"],[4,"ngIf"],[3,"optionChange","optionSelectForce","optionPlaceholder"],["id","dataModel.sharingLinkType","name","dataModel.sharingLinkType",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],["class","d-flex mb-3",4,"ngIf"],["for","dataModel.toWebAddress",1,"color-highlight"],["matInput","","type","text","name","dataModel.toWebAddress","minlength","3","maxlength","2000","id","dataModel.toWebAddress",1,"form-control","validate-name",2,"direction","ltr","text-align","left !important",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.webAddress",1,"color-highlight"],["matInput","","type","text","name","dataModel.webAddress","minlength","3","maxlength","100","id","dataModel.webAddress",1,"form-control","validate-name",2,"direction","ltr","text-align","left !important",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.carryToWebAddress",1,"color-highlight"],["matInput","","type","text","name","dataModel.carryToWebAddress","minlength","3","maxlength","100","id","dataModel.carryToWebAddress",1,"form-control","validate-name",2,"direction","ltr","text-align","left !important",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.smallPreview",1,"color-highlight"],["matInput","","type","text","name","dataModel.smallPreview","minlength","3","maxlength","100","id","dataModel.smallPreview",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.clickPrice",1,"color-highlight"],["matInput","","type","number","name","dataModel.clickPrice","minlength","0","id","dataModel.clickPrice",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.viewPrice",1,"color-highlight"],["matInput","","type","number","name","dataModel.viewPrice","minlength","0","id","dataModel.viewPrice",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.maxPriceOfSharePerDay",1,"color-highlight"],["matInput","","type","number","name","dataModel.maxPriceOfSharePerDay","minlength","0","id","dataModel.maxPriceOfSharePerDay",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.maxPriceOfShareTotal",1,"color-highlight"],["matInput","","type","number","name","dataModel.maxPriceOfShareTotal","minlength","0","id","dataModel.maxPriceOfShareTotal",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.formulaPercent",1,"color-highlight"],["matInput","","type","number","name","dataModel.formulaPercent","minlength","1","id","dataModel.formulaPercent",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.currentClickCount",1,"color-highlight"],["matInput","","type","number","name","dataModel.currentClickCount","minlength","1","disabled","","id","dataModel.currentClickCount",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.currentViewCount",1,"color-highlight"],["matInput","","type","number","name","dataModel.currentViewCount","minlength","0","disabled","","id","dataModel.currentViewCount",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","form-actions",4,"ngIf"],["state","seo",3,"label"],[3,"optionModelChange","optionSelectChecked","optionSelectDisChecked","optionModel"],["state","file",3,"label"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align: middle","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["matStepperIcon","main"],["matStepperIcon","seo"],["matStepperIcon","file"],["matStepperIcon","loaction"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[3,"value"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.isPublic",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.isPublic","name","dataModel.isPublic",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.isPublic",1,"custom-control-label"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],["type","button","matStepperNext","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue",3,"disabled"],["type","button","matStepperPrevious","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openDirectUploadView","openFilemanagerButtonLabelKey","selectFileType","openFilemanagerButtonView"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"]],template:function(i,t){if(i&1){let s=T();r(0,"div",16),S(1,"app-progress-spinner",17),r(2,"div",18)(3,"p",19),d(4),a(),r(5,"p"),d(6),g(7,"translate"),a(),S(8,"app-cms-form-result-message",20),r(9,"form",21,0),C("ngSubmit",function(){return u(s),f(t.onFormSubmit())}),r(11,"mat-vertical-stepper",22,1),C("selectionChange",function(m){u(s);let R=x(12);return f(t.onStepClick(m,R))}),r(13,"mat-step",23),g(14,"translate"),I(15,tf,1,5,"app-cms-enum-record-status-selector",24),r(16,"div",25)(17,"label",26),d(18),a(),r(19,"input",27,2),w("ngModelChange",function(m){return u(s),E(t.dataModel.title,m)||(t.dataModel.title=m),f(m)}),a(),I(21,nf,1,0,"i",28)(22,of,1,0,"i",29),r(23,"em"),d(24),a(),I(25,rf,5,4,"mat-error",30),a(),r(26,"app-linkmanagement-billboard-pattern-selector",31),g(27,"translate"),C("optionChange",function(m){return u(s),f(t.onActionSelectorSelectLinkBillboardPatternId(m))}),a(),r(28,"div",25)(29,"select",32,3),w("ngModelChange",function(m){return u(s),E(t.dataModel.sharingLinkType,m)||(t.dataModel.sharingLinkType=m),f(m)}),I(31,af,2,2,"option",33),a(),r(32,"em"),d(33),g(34,"translate"),a(),I(35,lf,5,3,"mat-error",30),a(),I(36,sf,8,2,"div",34),r(37,"div",25)(38,"label",35),d(39),a(),r(40,"input",36,4),w("ngModelChange",function(m){return u(s),E(t.dataModel.toWebAddress,m)||(t.dataModel.toWebAddress=m),f(m)}),a(),r(42,"em"),d(43),a(),I(44,cf,5,3,"mat-error",30),a(),r(45,"div",25)(46,"label",37),d(47),a(),r(48,"input",38,5),w("ngModelChange",function(m){return u(s),E(t.dataModel.webAddress,m)||(t.dataModel.webAddress=m),f(m)}),a(),r(50,"em"),d(51),a(),I(52,df,5,3,"mat-error",30),a(),r(53,"div",25)(54,"label",39),d(55),a(),r(56,"input",40,6),w("ngModelChange",function(m){return u(s),E(t.dataModel.carryToWebAddress,m)||(t.dataModel.carryToWebAddress=m),f(m)}),a(),r(58,"em"),d(59),a(),I(60,mf,5,3,"mat-error",30),a(),r(61,"div",25)(62,"label",41),d(63),a(),r(64,"input",42,7),w("ngModelChange",function(m){return u(s),E(t.dataModel.smallPreview,m)||(t.dataModel.smallPreview=m),f(m)}),a(),r(66,"em"),d(67),a(),I(68,pf,5,3,"mat-error",30),a(),r(69,"div",25)(70,"label",43),d(71),a(),r(72,"input",44,8),g(74,"translate"),w("ngModelChange",function(m){return u(s),E(t.dataModel.clickPrice,m)||(t.dataModel.clickPrice=m),f(m)}),a(),I(75,uf,5,3,"mat-error",30),a(),r(76,"div",25)(77,"label",45),d(78),a(),r(79,"input",46,9),g(81,"translate"),w("ngModelChange",function(m){return u(s),E(t.dataModel.viewPrice,m)||(t.dataModel.viewPrice=m),f(m)}),a(),I(82,ff,5,3,"mat-error",30),a(),r(83,"div",25)(84,"label",47),d(85),a(),r(86,"input",48,10),g(88,"translate"),w("ngModelChange",function(m){return u(s),E(t.dataModel.maxPriceOfSharePerDay,m)||(t.dataModel.maxPriceOfSharePerDay=m),f(m)}),a(),I(89,gf,5,3,"mat-error",30),a(),r(90,"div",25)(91,"label",49),d(92),a(),r(93,"input",50,11),g(95,"translate"),w("ngModelChange",function(m){return u(s),E(t.dataModel.maxPriceOfShareTotal,m)||(t.dataModel.maxPriceOfShareTotal=m),f(m)}),a(),I(96,_f,5,3,"mat-error",30),a(),r(97,"div",25)(98,"label",51),d(99),a(),r(100,"input",52,12),g(102,"translate"),w("ngModelChange",function(m){return u(s),E(t.dataModel.formulaPercent,m)||(t.dataModel.formulaPercent=m),f(m)}),a(),I(103,Mf,5,3,"mat-error",30),a(),r(104,"div",25)(105,"label",53),d(106),a(),r(107,"input",54,13),g(109,"translate"),w("ngModelChange",function(m){return u(s),E(t.dataModel.currentClickCount,m)||(t.dataModel.currentClickCount=m),f(m)}),a(),I(110,hf,5,3,"mat-error",30),a(),r(111,"div",25)(112,"label",55),d(113),a(),r(114,"input",56,14),g(116,"translate"),w("ngModelChange",function(m){return u(s),E(t.dataModel.currentViewCount,m)||(t.dataModel.currentViewCount=m),f(m)}),a(),I(117,Sf,5,3,"mat-error",30),a(),I(118,bf,7,7,"div",57),a(),r(119,"mat-step",58),g(120,"translate"),r(121,"app-linkmanagement-category-treeselector",59),w("optionModelChange",function(m){return u(s),E(t.dataContentCategoryModel,m)||(t.dataContentCategoryModel=m),f(m)}),C("optionSelectChecked",function(m){return u(s),f(t.onActionCategorySelectChecked(m))})("optionSelectDisChecked",function(m){return u(s),f(t.onActionCategorySelectDisChecked(m))}),a(),S(122,"br"),I(123,If,7,7,"div",57),a(),r(124,"mat-step",60),g(125,"translate"),r(126,"p"),d(127),g(128,"translate"),a(),r(129,"div",61)(130,"a",62),g(131,"cmsthumbnail"),I(132,Cf,2,4,"img",63),a()(),I(133,vf,8,16,"div",64)(134,Tf,7,7,"div",57),a(),I(135,yf,2,0,"ng-template",65)(136,Ef,2,0,"ng-template",66)(137,wf,2,0,"ng-template",67)(138,kf,2,0,"ng-template",68),a()()()()}if(i&2){let s=x(20),M=x(30),m=x(41),R=x(49),H=x(57),j=x(65),he=x(73),ke=x(80),Le=x(87),ii=x(94),nr=x(101),or=x(108),rr=x(115);o(),c("optionsInfoAreaId",t.constructorInfoAreaId),o(3),h(" ",t.formInfo.formTitle," "),o(2),h(" ",_(7,94,"TITLE.Be_Careful_When_Entering_Information")," "),o(2),c("formInfo",t.formInfo),o(5),c("label",k(_(14,96,"TITLE.REQUIRED_INFORMATION"))),o(2),c("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),o(3),v(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),o(),c("placeholder",k(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle)),y("ngModel",t.dataModel.title),o(2),c("ngIf",!s.value),o(),c("ngIf",s.value),o(2),h("",s.value.length," / 100"),o(),c("ngIf",s.errors==null?null:s.errors.required),o(),c("optionSelectForce",t.dataModel.linkBillboardPatternId)("optionPlaceholder",_(27,98,"TITLE.Billboard_Pattern")),o(3),y("ngModel",t.dataModel.sharingLinkType),o(2),c("ngForOf",t.dataModelEnumSharingPriceTypeResult.listItems),o(2),v(_(34,100,"TITLE.Select_type_of_content")),o(2),c("ngIf",M.errors==null?null:M.errors.required),o(),c("ngIf",t.fieldsInfo.isPublic==null?null:t.fieldsInfo.isPublic.accessWatchField),o(3),v(t.fieldsInfo.toWebAddress==null?null:t.fieldsInfo.toWebAddress.fieldTitle),o(),c("placeholder",k(t.fieldsInfo.toWebAddress==null?null:t.fieldsInfo.toWebAddress.fieldTitle)),y("ngModel",t.dataModel.toWebAddress),o(3),h("",m.value.length," / 100"),o(),c("ngIf",m.errors==null?null:m.errors.required),o(3),v(t.fieldsInfo.webAddress==null?null:t.fieldsInfo.webAddress.fieldTitle),o(),c("placeholder",k(t.fieldsInfo.webAddress==null?null:t.fieldsInfo.webAddress.fieldTitle)),y("ngModel",t.dataModel.webAddress),o(3),h("",R.value.length," / 100"),o(),c("ngIf",R.errors==null?null:R.errors.required),o(3),v(t.fieldsInfo.carryToWebAddress==null?null:t.fieldsInfo.carryToWebAddress.fieldTitle),o(),c("placeholder",k(t.fieldsInfo.carryToWebAddress==null?null:t.fieldsInfo.carryToWebAddress.fieldTitle)),y("ngModel",t.dataModel.carryToWebAddress),o(3),h("",H.value.length," / 100"),o(),c("ngIf",H.errors==null?null:H.errors.required),o(3),v(t.fieldsInfo.smallPreview==null?null:t.fieldsInfo.smallPreview.fieldTitle),o(),c("placeholder",k(t.fieldsInfo.smallPreview==null?null:t.fieldsInfo.smallPreview.fieldTitle)),y("ngModel",t.dataModel.smallPreview),o(3),h("",j.value.length," / 100"),o(),c("ngIf",j.errors==null?null:j.errors.required),o(3),v(t.fieldsInfo.clickPrice==null?null:t.fieldsInfo.clickPrice.fieldTitle),o(),c("placeholder",k(_(74,102,"TITLE.Amount_Per_Click"))),y("ngModel",t.dataModel.clickPrice),o(3),c("ngIf",he.errors==null?null:he.errors.required),o(3),v(t.fieldsInfo.viewPrice==null?null:t.fieldsInfo.viewPrice.fieldTitle),o(),c("placeholder",k(_(81,104,"TITLE.Amount_Per_Show"))),y("ngModel",t.dataModel.viewPrice),o(3),c("ngIf",ke.errors==null?null:ke.errors.required),o(3),v(t.fieldsInfo.maxPriceOfSharePerDay==null?null:t.fieldsInfo.maxPriceOfSharePerDay.fieldTitle),o(),c("placeholder",k(_(88,106,"TITLE.Number_of_views_so_far"))),y("ngModel",t.dataModel.maxPriceOfSharePerDay),o(3),c("ngIf",Le.errors==null?null:Le.errors.required),o(3),v(t.fieldsInfo.maxPriceOfShareTotal==null?null:t.fieldsInfo.maxPriceOfShareTotal.fieldTitle),o(),c("placeholder",k(_(95,108,"TITLE.Number_of_click_so_far"))),y("ngModel",t.dataModel.maxPriceOfShareTotal),o(3),c("ngIf",ii.errors==null?null:ii.errors.required),o(3),v(t.fieldsInfo.formulaPercent==null?null:t.fieldsInfo.formulaPercent.fieldTitle),o(),c("placeholder",k(_(102,110,"TITLE.Number_of_views_so_far"))),y("ngModel",t.dataModel.formulaPercent),o(3),c("ngIf",nr.errors==null?null:nr.errors.required),o(3),v(t.fieldsInfo.currentClickCount==null?null:t.fieldsInfo.currentClickCount.fieldTitle),o(),c("placeholder",k(_(109,112,"TITLE.Number_of_click_so_far"))),y("ngModel",t.dataModel.currentClickCount),o(3),c("ngIf",or.errors==null?null:or.errors.required),o(3),v(t.fieldsInfo.currentViewCount==null?null:t.fieldsInfo.currentViewCount.fieldTitle),o(),c("placeholder",k(_(116,114,"TITLE.Number_of_views_so_far"))),y("ngModel",t.dataModel.currentViewCount),o(3),c("ngIf",rr.errors==null?null:rr.errors.required),o(),c("ngIf",t.formInfo.submitButtonEnabled),o(),c("label",k(_(120,116,"TITLE.TARGET_SELECTION"))),o(2),y("optionModel",t.dataContentCategoryModel),o(2),c("ngIf",t.formInfo.submitButtonEnabled),o(),c("label",k(_(125,118,"TITLE.ATTACH_FILES"))),o(3),v(_(128,120,"TITLE.CONTENT_ATTACH_FILES")),o(3),c("href",k(_(131,122,t.dataModel.linkMainImageIdSrc)),K),o(2),c("ngIf",(t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0),o(),c("ngIf",t.fieldsInfo.linkMainImageId==null?null:t.fieldsInfo.linkMainImageId.accessWatchField),o(),c("ngIf",t.formInfo.submitButtonEnabled)}},dependencies:[je,O,Te,Jt,Xt,U,Ne,zt,Kt,Q,Ce,z,fe,ge,te,ve,ye,xe,G,Bi,Pi,Vi,Ni,Di,we,q,Ee,Oi,Fe,$e,si,$t,V,_e],styles:["@media (max-width: 1399px){.wizard.wizard-4[_ngcontent-%COMP%]   .wizard-nav[_ngcontent-%COMP%]   .wizard-steps[_ngcontent-%COMP%]   .wizard-step[_ngcontent-%COMP%]{flex:0 0 calc(25% - .25rem)}}form[_ngcontent-%COMP%]{text-align:right}.wizard[_ngcontent-%COMP%]{margin-top:20%}.wrapper[_ngcontent-%COMP%]{display:flex;padding-top:15px}.lbl-status[_ngcontent-%COMP%]{width:100px;display:flex;align-items:flex-end;justify-content:center;margin-top:5px}.status-select[_ngcontent-%COMP%]{width:970px}textarea[_ngcontent-%COMP%]{resize:none}.calender-select[_ngcontent-%COMP%]{width:252px}.next-modal[_ngcontent-%COMP%]{width:100px;margin-right:15px}.pb-4[_ngcontent-%COMP%], .py-4[_ngcontent-%COMP%]{padding-bottom:7px!important;padding-top:7px!important}tag-input[_ngcontent-%COMP%]{width:1000px}#map[_ngcontent-%COMP%]{width:100%;height:600px}.lbl-content[_ngcontent-%COMP%]{width:100px;display:flex;align-items:flex-end;justify-content:center;margin-top:25px}"]});var Jo=no;var Lf=()=>["expandedTitle"],Af=()=>["expandedDetail"],xf=()=>[5,10,20,100],Vr=n=>({display:n});function Rf(n,l){if(n&1){let e=T();r(0,"div",18)(1,"a",52),C("click",function(){u(e);let t=p();return f(t.onActionButtonNewRow())}),S(2,"i",53)(3,"br"),a(),r(4,"p",21),d(5),g(6,"translate"),a()()}n&2&&(o(5),h(" ",_(6,1,"ACTION.ADD")," "))}function Df(n,l){if(n&1){let e=T();r(0,"div",18)(1,"a",9),C("click",function(){u(e);let t=p();return f(t.onActionButtonLog())}),S(2,"i",54)(3,"br"),a(),r(4,"p",21),d(5),g(6,"translate"),a()()}n&2&&(o(5),h(" ",_(6,1,"ACTION.REPORTS")," "))}function Bf(n,l){if(n&1){let e=T();r(0,"div",18)(1,"a",55),C("click",function(){u(e);let t=p();return f(t.onActionButtonEditRow(t.tableRowSelected))}),S(2,"i",56)(3,"br"),a(),r(4,"p",21),d(5),g(6,"translate"),a()()}n&2&&(o(5),h(" ",_(6,1,"ACTION.EDIT")," "))}function Pf(n,l){if(n&1){let e=T();r(0,"div",18)(1,"a",57),C("click",function(){u(e);let t=p();return f(t.onActionButtonDeleteRow(t.tableRowSelected))}),S(2,"i",58)(3,"br"),a(),r(4,"p",21),d(5),g(6,"translate"),a()()}n&2&&(o(5),h(" ",_(6,1,"ACTION.DELETE")," "))}function Vf(n,l){n&1&&(r(0,"mat-header-cell"),d(1),g(2,"translate"),a()),n&2&&(o(),h(" ",_(2,1,"TITLE.MENU")," "))}function Nf(n,l){if(n&1){let e=T();r(0,"mat-cell")(1,"button",59),C("click",function(){let t=u(e).$implicit,s=p();return f(s.onActionTableRowSelectActionMenu(t))}),S(2,"i",60),a()()}}function Ff(n,l){n&1&&(r(0,"mat-header-cell",61),d(1),g(2,"translate"),a()),n&2&&(o(),h(" ",_(2,1,"TITLE.PICTURE")," "))}function Of(n,l){if(n&1&&(S(0,"img",63),g(1,"cmsthumbnail")),n&2){let e=p().$implicit;c("src",k(_(1,2,e.linkMainImageIdSrc)),K)}}function Gf(n,l){if(n&1&&(r(0,"mat-cell"),I(1,Of,2,4,"img",62),a()),n&2){let e=l.$implicit;o(),c("ngIf",(e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0)}}function Wf(n,l){if(n&1&&(r(0,"mat-header-cell",61),d(1),a()),n&2){let e=p();o(),h(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function Hf(n,l){if(n&1&&(r(0,"mat-cell"),d(1),a()),n&2){let e=l.$implicit;o(),h(" ",e.id," ")}}function qf(n,l){if(n&1&&(r(0,"mat-header-cell",61),d(1),a()),n&2){let e=p();o(),h(" ",e.fieldsInfo.linkSiteId==null?null:e.fieldsInfo.linkSiteId.fieldTitle," ")}}function jf(n,l){if(n&1&&(r(0,"mat-cell"),d(1),g(2,"cmssiteinfo"),g(3,"async"),a()),n&2){let e=l.$implicit;o(),h(" ",_(3,3,_(2,1,e.linkSiteId))," ")}}function Uf(n,l){if(n&1&&(r(0,"mat-header-cell",61),d(1),a()),n&2){let e=p();o(),h(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function Qf(n,l){if(n&1&&S(0,"select",66),n&2){let e=p().$implicit,i=p();c("contentService",i.contentService)("row",e)("ngStyle",Ke(3,Vr,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function zf(n,l){if(n&1&&(r(0,"mat-cell"),S(1,"i",64),g(2,"statusIconClass"),I(3,Qf,1,5,"select",65),a()),n&2){let e=l.$implicit,i=p();o(),c("ngClass",_(2,2,e.recordStatus)),o(2),c("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessEditRow)}}function Kf(n,l){if(n&1&&(r(0,"mat-header-cell",61),d(1),a()),n&2){let e=p();o(),h(" ",e.fieldsInfo.isPublic==null?null:e.fieldsInfo.isPublic.fieldTitle," ")}}function Jf(n,l){if(n&1&&(r(0,"mat-cell"),S(1,"i",64),g(2,"boolclass"),a()),n&2){let e=l.$implicit;o(),c("ngClass",_(2,1,e.isPublic))}}function Xf(n,l){if(n&1&&(r(0,"mat-header-cell",61),d(1),a()),n&2){let e=p();o(),h(" ",e.fieldsInfo.currentViewCount==null?null:e.fieldsInfo.currentViewCount.fieldTitle," ")}}function Yf(n,l){if(n&1&&(r(0,"mat-cell"),d(1),a()),n&2){let e=l.$implicit;o(),h(" ",e.currentViewCount," ")}}function Zf(n,l){if(n&1&&(r(0,"mat-header-cell",61),d(1),a()),n&2){let e=p();o(),h(" ",e.fieldsInfo.currentClickCount==null?null:e.fieldsInfo.currentClickCount.fieldTitle," ")}}function $f(n,l){if(n&1&&(r(0,"mat-cell"),d(1),a()),n&2){let e=l.$implicit;o(),h(" ",e.currentClickCount," ")}}function eg(n,l){if(n&1&&(r(0,"mat-header-cell",61),d(1),a()),n&2){let e=p();o(),h(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function tg(n,l){if(n&1&&(r(0,"mat-cell",67),d(1),g(2,"localeDateTime"),a()),n&2){let e=l.$implicit;o(),h(" ",_(2,1,e.createdDate)," ")}}function ig(n,l){if(n&1&&(r(0,"mat-header-cell",61),d(1),a()),n&2){let e=p();o(),h(" ",e.fieldsInfo.updatedDate==null?null:e.fieldsInfo.updatedDate.fieldTitle," ")}}function ng(n,l){if(n&1&&(r(0,"mat-cell"),d(1),g(2,"localeDate"),a()),n&2){let e=l.$implicit;o(),h(" ",_(2,1,e.updatedDate)," ")}}function og(n,l){n&1&&(r(0,"mat-header-cell"),d(1),g(2,"translate"),a()),n&2&&(o(),h(" ",_(2,1,"TITLE.OPTION")," "))}function rg(n,l){if(n&1&&(r(0,"mat-cell",68)(1,"button",69)(2,"mat-icon"),d(3,"more_vert"),a()(),S(4,"mat-menu",null,2),a()),n&2){let e=x(5);o(),c("matMenuTriggerFor",e)}}function ag(n,l){n&1&&(r(0,"mat-header-cell",61),d(1),g(2,"translate"),a()),n&2&&(o(),h(" ",_(2,1,"TITLE.LINKTO")," "))}function lg(n,l){if(n&1){let e=T();r(0,"mat-cell")(1,"button",70),C("click",function(){let t=u(e).$implicit,s=p();return f(s.onActionButtonLinkTo(t))}),r(2,"mat-icon",71),d(3,"\u2197"),a()()()}}function sg(n,l){if(n&1&&(r(0,"mat-cell"),d(1),g(2,"translate"),g(3,"localeDateTime"),S(4,"br"),d(5),g(6,"translate"),S(7,"br"),d(8),g(9,"translate"),a()),n&2){let e=l.$implicit;o(),Be(" ",_(2,7,"TITLE.CreationDate")," : ",_(3,9,e.createdDate)," "),o(4),Be(" ",_(6,11,"TITLE.CurrentNumberOfClicks")," : ",e.currentClickCount," "),o(3),ar(" ",_(9,13,"TITLE.CurrentViewCount")," : ",e.CurrentViewCount," ",e.currentViewCount," ")}}function cg(n,l){if(n&1&&(S(0,"img",74),g(1,"cmsthumbnail")),n&2){let e=p().$implicit;c("src",k(_(1,2,e.linkMainImageIdSrc)),K)}}function dg(n,l){if(n&1&&(r(0,"tr"),S(1,"td"),r(2,"td"),d(3),a()()),n&2){let e=p().$implicit,i=p();o(3),Be("",i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle," : ",e.title)}}function mg(n,l){if(n&1){let e=T();r(0,"tr"),S(1,"td"),r(2,"td"),d(3),r(4,"span",75),C("click",function(){u(e);let t=p(2);return f(t.onActionCopied())}),S(5,"i",76),a(),r(6,"a",77),d(7),a()()()}if(n&2){let e=p().$implicit,i=p();o(3),h(" ",i.fieldsInfo.webAddress==null?null:i.fieldsInfo.webAddress.fieldTitle," : "),o(),c("cdkCopyToClipboard",e.toWebAddress),o(2),c("href",k(e.toWebAddress),K),o(),v(e.toWebAddress)}}function pg(n,l){if(n&1){let e=T();r(0,"tr"),S(1,"td"),r(2,"td"),d(3),g(4,"translate"),r(5,"span",78),C("click",function(){u(e);let t=p(2);return f(t.onActionCopied())}),S(6,"i",76),a(),d(7,"\xA0 "),r(8,"a",79),d(9),a()()()}if(n&2){let e=p().$implicit;o(3),h(" ",_(4,5,"TITLE.Short_link")," : "),o(2),c("cdkCopyToClipboard",e.carryToWebAddress),o(3),c("href",k(e.carryToWebAddress),K),o(),v(e.carryToWebAddress)}}function ug(n,l){if(n&1&&(r(0,"mat-cell")(1,"div")(2,"table")(3,"tr")(4,"th"),I(5,cg,2,4,"img",72),a(),r(6,"th"),d(7),a()(),I(8,dg,4,2,"tr",73)(9,mg,8,5,"tr",73)(10,pg,10,7,"tr",73),r(11,"tr"),S(12,"td"),r(13,"td"),d(14),a()(),r(15,"tr"),S(16,"td")(17,"td"),a()()()()),n&2){let e=l.$implicit,i=p();o(5),c("ngIf",(e==null||e.linkMainImageIdSrc==null?null:e.linkMainImageIdSrc.length)>0),o(2),Be("",i.fieldsInfo.id==null?null:i.fieldsInfo.id.fieldTitle," : ",e.id),o(),c("ngIf",e.title),o(),c("ngIf",e.toWebAddress),o(),c("ngIf",e.carryToWebAddress),o(4),Be(" ",i.fieldsInfo.currentClickCount==null?null:i.fieldsInfo.currentClickCount.fieldTitle," : ",e.currentClickCount," ")}}function fg(n,l){n&1&&S(0,"mat-header-row")}function gg(n,l){if(n&1){let e=T();r(0,"mat-row",80),C("click",function(t){let s=u(e).$implicit,M=p();return f(M.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=u(e).$implicit,M=p();return f(M.onActionTableRowSelect(s,t))})("mouseenter",function(){let t=u(e).$implicit,s=p();return f(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=u(e).$implicit,s=p();return f(s.onActionTableRowMouseLeave(t))}),a()}if(n&2){let e=l.$implicit,i=p();J("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}function _g(n,l){if(n&1){let e=T();r(0,"mat-row",81),C("click",function(t){let s=u(e).$implicit,M=p();return f(M.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=u(e).$implicit,M=p();return f(M.onActionTableRowSelect(s,t))})("mouseenter",function(){let t=u(e).$implicit,s=p();return f(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=u(e).$implicit,s=p();return f(s.onActionTableRowMouseLeave(t))}),a()}if(n&2){let e=l.$implicit,i=p();J("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}function Mg(n,l){if(n&1){let e=T();r(0,"mat-row",82),C("click",function(t){let s=u(e).$implicit,M=p();return f(M.onActionTableRowSelect(s,t))})("rtclick",function(t){let s=u(e).$implicit,M=p();return f(M.onActionTableRowSelect(s,t))})("mouseenter",function(){let t=u(e).$implicit,s=p();return f(s.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=u(e).$implicit,s=p();return f(s.onActionTableRowMouseLeave(t))}),a()}if(n&2){let e=l.$implicit,i=p();J("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)),c("ngStyle",Ke(3,Vr,e.expanded===!0?"":"none"))}}var oo=class oo extends wt{constructor(e,i,t,s,M,m,R,H,j,he,ke,Le){super(e,new mi,ke,m,j);this.contentService=e;this.cmsToastrService=i;this.cmsConfirmationDialogService=t;this.router=s;this.activatedRoute=M;this.tokenHelper=m;this.cmsStoreService=R;this.cdr=H;this.translate=j;this.pageInfo=he;this.publicHelper=ke;this.dialog=Le;this.requestLinkBillboardPatternId=0;this.constructorInfoAreaId=this.constructor.name;this.filteModelContent=new fo;this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["linkMainImageIdSrc","id","recordStatus","IsPublic","LinkTo","action_menu"];this.tabledisplayedColumnsMobileSource=["linkMainImageIdSrc","id","recordStatus","IsPublic","LinkTo","action_menu"];this.unsubscribe=[];if(this.publicHelper.processService.cdr=this.cdr,this.requestLinkBillboardPatternId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkBillboardPatternId")),this.optionsSearch.parentMethods={onSubmit:ii=>this.onSubmitOptionsSearch(ii)},this.filteModelContent.sortColumn="id",this.filteModelContent.sortType=ce.Descending,this.requestLinkBillboardPatternId>0){let ii=new ne;ii.propertyName="LinkBillboardPatternId",ii.value=this.requestLinkBillboardPatternId,this.filteModelContent.filters.push(ii)}}ngOnInit(){this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>Ae(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new mi);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));if(this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),this.categoryModelSelected&&this.categoryModelSelected.id>0){let t=new ne;t.propertyName="linkBillboardPatternId",t.value=this.categoryModelSelected.id,i.filters.push(t)}if(this.categoryPatternModelSelected&&this.categoryPatternModelSelected.id>0){let t=new ne;t.propertyName="TargetCategories",t.propertyAnyName="linkCategoryId",t.value=this.categoryPatternModelSelected.id,i.filters.push(t)}this.contentService.setAccessLoad(),this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),t.isSuccess?(this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=ce.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=ce.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=ce.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionSelectorSelectPattern(e){var i=this.filteModelContent.sortColumn,t=this.filteModelContent.sortType;this.filteModelContent=new fo,this.filteModelContent.sortColumn=i,this.filteModelContent.sortType=t,this.categoryPatternModelSelected=e,this.DataGetAll()}onActionSelectorSelectCategory(e){var i=this.filteModelContent.sortColumn,t=this.filteModelContent.sortType;this.filteModelContent=new fo,this.filteModelContent.sortColumn=i,this.filteModelContent.sortType=t,this.categoryModelSelected=e,this.DataGetAll()}onActionButtonNewRow(){if(this.categoryPatternModelSelected==null||this.categoryPatternModelSelected.id===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorCategoryNotSelected").subscribe(e=>{this.cmsToastrService.typeErrorSelected(e)});return}if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}this.router.navigate(["/linkmanagement/target/add",this.categoryPatternModelSelected.id])}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}this.router.navigate(["/linkmanagement/target/edit",this.tableRowSelected.id])}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(s=>{this.cmsToastrService.typeErrorSelected(s)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(s=>{i=s["MESSAGE.Please_Confirm"],t=s["MESSAGE.Do_you_want_to_delete_this_content"]+"?"}),this.cmsConfirmationDialogService.confirm(i,t).then(s=>{if(s){let M=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(m=>{this.publicHelper.processService.processStart(M,m,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:m=>{m.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(M)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(M,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(m=>{i.set(m,0)}),this.translate.get("MESSAGE.All").subscribe(m=>{i.set(m,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(m=>{this.publicHelper.processService.processStart(t,m,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:m=>{m.isSuccess?(this.translate.get("MESSAGE.All").subscribe(R=>{i.set(R,m.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(m.errorMessage),this.publicHelper.processService.processStop(t)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(t,!1)}});let s=JSON.parse(JSON.stringify(this.filteModelContent)),M=new ne;M.propertyName="recordStatus",M.value=nt.Available,s.filters.push(M),this.contentService.ServiceGetCount(s).subscribe({next:m=>{m.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(R=>{i.set(R,m.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(m.errorMessage),this.publicHelper.processService.processStop(t)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonLinkTo(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.cmsToastrService.typeErrorSelectedRow();return}if(e.recordStatus!=nt.Available){this.cmsToastrService.typeWarningRecordStatusNoAvailable();return}this.tableRowSelected=e;let i=this.constructor.name+"ServiceGetOneById";this.translate.get("MESSAGE.get_news_information").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructorInfoAreaId)}),this.contentService.ServiceGetOneById(e.id).subscribe({next:t=>{if(t.isSuccess){var s="";this.publicHelper.isMobile?s="dialog-fullscreen":s="dialog-min",this.dialog.open(yr,{height:"90%",width:"90%",panelClass:s,enterAnimationDuration:oe.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:oe.cmsViewConfig.exitAnimationDuration,data:{title:t.item.title,urlViewContentQRCodeBase64:t.item.urlViewContentQRCodeBase64,urlViewContent:t.item.urlViewContent}}).afterClosed().subscribe(m=>{m&&m.dialogChangedDate&&this.DataGetAll()})}else this.cmsToastrService.typeErrorMessage(t.errorMessage);this.publicHelper.processService.processStop(i)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(i,!1)}})}onActionCopied(){this.cmsToastrService.typeSuccessCopedToClipboard()}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionButtonLog(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.router.navigate(["/linkmanagement/target-billboard-log/LinkManagementTargetId",e.id])}};oo.\u0275fac=function(i){return new(i||oo)(b(Ii),b(N),b(Co),b(We),b(Xe),b(qe),b(He),b(B),b(P),b(yt),b(F),b(Qe))},oo.\u0275cmp=D({type:oo,selectors:[["app-linkmanagement-target-list"]],standalone:!1,features:[X],decls:93,vars:42,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionActionRowDisplayMenuAct","optionSelectRowItemTitle"],["cms-tree",""],[3,"optionChange"],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-memo","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-share","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","","multiTemplateDataRows","",3,"matSortChange","dataSource"],["matColumnDef","action_menu"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","linkMainImageIdSrc"],["mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","id"],["matColumnDef","linkSiteId"],["matColumnDef","recordStatus"],["matColumnDef","IsPublic"],["matColumnDef","CurrentViewCount"],["matColumnDef","CurrentClickCount"],["matColumnDef","createdDate"],["style","direction: ltr",4,"matCellDef"],["matColumnDef","updatedDate"],["matColumnDef","Action"],["class","Action",4,"matCellDef"],["matColumnDef","LinkTo"],["matColumnDef","expandedTitle"],["matColumnDef","expandedDetail"],[4,"matHeaderRowDef"],["class","ntk-row-expandedTitle",3,"ntk-row-selected","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["class","ntk-row-expandedDetail",3,"ntk-row-selected","ngStyle","click","rtclick","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-file-chart-column","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"click"],[1,"fa","fa-bars","font-18"],["mat-sort-header",""],["style","vertical-align: middle","class","ntk-hover-zoom","aria-hidden","","height","40","width","40",3,"src",4,"ngIf"],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[2,"direction","ltr"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],["type","button","mat-icon-button","",3,"click"],[2,"color","#ff671f"],["style","vertical-align: middle","class","ntk-hover-zoom","aria-hidden","","height","80","width","80",3,"src",4,"ngIf"],[4,"ngIf"],["aria-hidden","","height","80","width","80",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"navi-icon","style","cursor",3,"click","cdkCopyToClipboard"],[1,"flaticon2-copy"],["target","_blank",1,"short-link",3,"href"],[1,"navi-icon","cursor",3,"click","cdkCopyToClipboard"],["target","_blank",3,"href"],[1,"ntk-row-expandedTitle",3,"click","rtclick","mouseenter","mouseleave"],[1,"ntk-row-mainfild",3,"click","rtclick","mouseenter","mouseleave"],[1,"ntk-row-expandedDetail",3,"click","rtclick","mouseenter","mouseleave","ngStyle"]],template:function(i,t){if(i&1){let s=T();r(0,"app-cms-html-list",3),w("optionActionGuideNoticeDisplayChange",function(m){return u(s),E(t.viewGuideNotice,m)||(t.viewGuideNotice=m),f(m)}),C("optionOnActionButtonMemoRow",function(){return u(s),f(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return u(s),f(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return u(s),f(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return u(s),f(t.onActionButtonPrintRow())}),L(1,4),r(2,"app-linkmanagement-billboard-pattern-tree",5),C("optionChange",function(m){return u(s),f(t.onActionSelectorSelectPattern(m))}),a(),r(3,"app-linkmanagement-category-tree",5),C("optionChange",function(m){return u(s),f(t.onActionSelectorSelectCategory(m))}),a(),A(),Oe(4,6)(5,7),L(6,8),r(7,"a",9),C("click",function(){return u(s),f(t.viewGuideNotice=!t.viewGuideNotice)}),S(8,"i",10),a(),r(9,"a",9),C("click",function(){return u(s),f(t.onActionButtonReload())}),S(10,"i",11),a(),A(),L(11,12),r(12,"a",13),C("click",function(){return u(s),f(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),S(13,"mat-slide-toggle",14),d(14),g(15,"translate"),a(),r(16,"a",13),C("click",function(){return u(s),f(t.onActionButtonStatist())}),S(17,"mat-slide-toggle",14),d(18),g(19,"translate"),a(),A(),L(20,15),I(21,Rf,7,3,"div",16)(22,Df,7,3,"div",16),A(),L(23,17),I(24,Bf,7,3,"div",16)(25,Pf,7,3,"div",16),r(26,"div",18)(27,"a",19),C("click",function(){return u(s),f(t.onActionButtonLog(t.tableRowSelected))}),S(28,"i",20)(29,"br"),a(),r(30,"p",21),d(31),g(32,"translate"),a()(),r(33,"div",18)(34,"a",9),C("click",function(){return u(s),f(t.onActionButtonLinkTo(t.tableRowSelected))}),S(35,"i",22)(36,"br"),a(),r(37,"p",21),d(38),g(39,"translate"),a()(),A(),L(40,23),r(41,"app-cms-search-list",24),w("optionsChange",function(m){return u(s),E(t.optionsSearch,m)||(t.optionsSearch=m),f(m)}),a(),r(42,"app-cms-statist-list",24),w("optionsChange",function(m){return u(s),E(t.optionsStatist,m)||(t.optionsStatist=m),f(m)}),a(),A(),L(43,25),r(44,"mat-table",26,0),C("matSortChange",function(){u(s);let m=x(45);return f(t.onTableSortData(m))}),L(46,27),I(47,Vf,3,3,"mat-header-cell",28)(48,Nf,3,0,"mat-cell",29),A(),L(49,30),I(50,Ff,3,3,"mat-header-cell",31)(51,Gf,2,1,"mat-cell",29),A(),L(52,32),I(53,Wf,2,1,"mat-header-cell",31)(54,Hf,2,1,"mat-cell",29),A(),L(55,33),I(56,qf,2,1,"mat-header-cell",31)(57,jf,4,5,"mat-cell",29),A(),L(58,34),I(59,Uf,2,1,"mat-header-cell",31)(60,zf,4,4,"mat-cell",29),A(),L(61,35),I(62,Kf,2,1,"mat-header-cell",31)(63,Jf,3,3,"mat-cell",29),A(),L(64,36),I(65,Xf,2,1,"mat-header-cell",31)(66,Yf,2,1,"mat-cell",29),A(),L(67,37),I(68,Zf,2,1,"mat-header-cell",31)(69,$f,2,1,"mat-cell",29),A(),L(70,38),I(71,eg,2,1,"mat-header-cell",31)(72,tg,3,3,"mat-cell",39),A(),L(73,40),I(74,ig,2,1,"mat-header-cell",31)(75,ng,3,3,"mat-cell",29),A(),L(76,41),I(77,og,3,3,"mat-header-cell",28)(78,rg,6,1,"mat-cell",42),A(),L(79,43),I(80,ag,3,3,"mat-header-cell",31)(81,lg,4,0,"mat-cell",29),A(),L(82,44),I(83,sg,10,15,"mat-cell",29),A(),L(84,45),I(85,ug,18,8,"mat-cell",29),A(),I(86,fg,1,0,"mat-header-row",46)(87,gg,1,2,"mat-row",47)(88,_g,1,2,"mat-row",48)(89,Mg,1,5,"mat-row",49),a(),A(),L(90,50),r(91,"mat-paginator",51,1),C("page",function(m){return u(s),f(t.onTablePageingData(m))}),a(),A(),a()}i&2&&(c("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),y("optionActionGuideNoticeDisplay",t.viewGuideNotice),c("optionTreeDisplay",!0)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionActionRowDisplayMenuAct",t.tableRowSelectActionMenuClick)("optionSelectRowItemTitle",(t.tableRowSelected==null||t.tableRowSelected.title==null?null:t.tableRowSelected.title.length)>0?t.tableRowSelected==null?null:t.tableRowSelected.title:t.tableRowSelected==null?null:t.tableRowSelected.id),o(10),J("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),o(3),c("checked",t.optionsSearch.data.show),o(),h("",_(15,31,"ACTION.SEARCH")," "),o(3),c("checked",t.optionsStatist.data.show),o(),h("",_(19,33,"ACTION.STATIST")," "),o(3),c("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessAddRow),o(),c("ngIf",(t.tableRowSelected==null?null:t.tableRowSelected.id)>0),o(2),c("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),o(),c("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),o(6),h(" ",_(32,35,"ACTION.LOG")," "),o(7),h(" ",_(39,37,"TITLE.LINKTO")," "),o(3),y("options",t.optionsSearch),o(),y("options",t.optionsStatist),o(2),c("dataSource",t.tableSource),o(42),c("matHeaderRowDef",t.tabledisplayedColumns),o(),c("matRowDefColumns",Ve(39,Lf)),o(),c("matRowDefColumns",t.tabledisplayedColumns),o(),c("matRowDefColumns",Ve(40,Af)),o(2),c("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",Ve(41,xf)))},dependencies:[rt,O,qt,Ue,xe,G,ct,dt,mt,pt,ut,ft,gt,Mt,It,ht,_t,Ct,St,bt,vt,Tt,vi,kt,Lt,At,xt,Zt,jn,Qn,Ge,V,Rt,_e,Dt,ho,Bt,Mo],styles:[".float-left[_ngcontent-%COMP%]{float:left!important}.pointer[_ngcontent-%COMP%]{cursor:pointer}.short-link[_ngcontent-%COMP%]{max-width:300px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;display:block;direction:ltr}.cursor[_ngcontent-%COMP%]{cursor:pointer}"]});var co=oo;var hg=[{path:"",component:Wo,data:{title:"ROUTE.LINKMANAGMENT"},children:[{path:"config",loadChildren:()=>import("./chunk-52FRBYM7.js").then(n=>n.LinkManagementConfigModule),data:{title:"ROUTE.LINKMANAGMENT"}},{path:"target",component:co,data:{title:"ROUTE.LINKMANAGMENT.TARGET"}},{path:"target/list/LinkBillboardPatternId/:LinkBillboardPatternId",component:co,data:{title:"ROUTE.LINKMANAGMENT.TARGET"}},{path:"target/add/:LinkBillboardPatternId",component:Ko,data:{title:"ROUTE.LINKMANAGMENT.TARGET"}},{path:"target/edit/:Id",component:Jo,data:{title:"ROUTE.LINKMANAGMENT.TARGET"}},{path:"billboard",component:so,data:{title:"ROUTE.LINKMANAGMENT.BILLBOARD"}},{path:"billboard/list/LinkBillboardPatternId/:LinkBillboardPatternId",component:so,data:{title:"ROUTE.LINKMANAGMENT.BILLBOARD"}},{path:"billboard/add/:LinkBillboardPatternId",component:Bo,data:{title:"ROUTE.LINKMANAGMENT.BILLBOARD"}},{path:"billboard/edit/:Id",component:Po,data:{title:"ROUTE.LINKMANAGMENT.BILLBOARD"}},{path:"target-billboard-log",component:Ui,data:{title:"ROUTE.LINKMANAGMENT.TARGETBILLBOARD"}},{path:"target-billboard-log/LinkManagementBillboardId/:LinkManagementBillboardId",component:Ui,data:{title:"ROUTE.LINKMANAGMENT.TARGETBILLBOARD"}},{path:"target-billboard-log/LinkManagementTargetId/:LinkManagementTargetId",component:Ui,data:{title:"ROUTE.LINKMANAGMENT.TARGETBILLBOARD"}},{path:"target-billboard-log/Key/:Key",component:Ui,data:{title:"ROUTE.LINKMANAGMENT.TARGETBILLBOARD"}},{path:"billboard-pattern",component:Ro,data:{title:"ROUTE.LINKMANAGMENT.BILLBOARDPATTERN"}},{path:"accounting",component:xo,data:{title:"ROUTE.LINKMANAGMENT.ACCOUNTING"}},{path:"accountingdetail",component:ro,data:{title:"ROUTE.LINKMANAGMENT.ACCOUNTINGDETAIL"}},{path:"accountingdetail/LinkManagementAccountingId/:LinkManagementAccountingId",component:ro,data:{title:"ROUTE.LINKMANAGMENT.ACCOUNTINGDETAIL"}},{path:"member",component:Uo,data:{title:"ROUTE.LINKMANAGMENT.MEMBER"}}]}],Qi=class Qi{};Qi.\u0275fac=function(e){return new(e||Qi)},Qi.\u0275mod=po({type:Qi}),Qi.\u0275inj=mo({imports:[Yo.forChild(hg),Yo]});var Xo=Qi;var zi=class zi{};zi.\u0275fac=function(e){return new(e||zi)},zi.\u0275mod=po({type:zi}),zi.\u0275inj=mo({providers:[dr,ee,mr,pr,Co,ze,Ut,ni,oi,lt,Ki,Qt,Ii,Ji,Ci,st],imports:[sr,Xo,ur,fr.withConfig({warnOnNgModelWithFormControl:"never"}),Cr,vr,hr,Mr,Sr,Tr,Ir]});var Nr=zi;export{Nr as LinkManagementModule};
