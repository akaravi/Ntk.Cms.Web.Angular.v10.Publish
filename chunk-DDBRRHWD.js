import{a as Tt}from"./chunk-HC32IMH6.js";import{a as gt}from"./chunk-EM6C465B.js";import{a as ce}from"./chunk-K33TURJC.js";import{a as Dt}from"./chunk-NMFX3PJE.js";import{a as Et}from"./chunk-JEF4OJ24.js";import{a as _t}from"./chunk-QGWAMGAE.js";import{d as bt,e as vt,f as It,i as wt}from"./chunk-SY5ASTU2.js";import{a as se}from"./chunk-7RXKLOGL.js";import"./chunk-AY4XP33B.js";import{a as ve}from"./chunk-CI46G5RR.js";import"./chunk-57KTCDM3.js";import{d as le}from"./chunk-5A7PFONV.js";import{b as eo}from"./chunk-3RHHJRHJ.js";import"./chunk-7DUNEHBM.js";import"./chunk-T2SWGMVG.js";import"./chunk-2UR3ITVJ.js";import{a as ae}from"./chunk-JM7AUYWU.js";import"./chunk-HGNWVODT.js";import{a as re,d as Mt}from"./chunk-XBBMWE56.js";import{e as ht,f as Q}from"./chunk-LID2Z6NB.js";import{A as Ye,Ba as et,Cb as F,Da as ne,Db as B,Ka as tt,La as it,Oa as ot,Qb as Yi,Ua as nt,Wa as rt,Xa as at,eb as lt,fb as st,gb as ct,hb as mt,ib as dt,jb as ut,kb as pt,lb as ft,ma as ie,mb as St,na as oe,nb as Ct,oa as Ze,rc as W,uc as q,wc as U,zc as Zi}from"./chunk-TSM5A4DZ.js";import{F as Ji,G as Xi,c as Qe,h as ze,i as Ke,k as $e,m as Je,n as Xe}from"./chunk-QRBNL5ZA.js";import{Cc as Qi,Dc as zi,H,Hc as Ki,K as Ve,Lc as $i,Mc as Fe,Mn as $,Nc as We,Oc as qe,Pc as Ue,Wb as Pe,ba as j,d as xe,e as qi,f as ke,fa as Ui,kc as Oe,l as wi,m as Le,mc as Ge,oc as He,p as Ne,q as fe,qc as je,u as A,v as Be}from"./chunk-VH4FEZX5.js";import{Ab as y,Ad as Wi,Db as Ee,Dc as g,Eb as De,Ec as v,Fb as _,Ga as Ie,Gb as a,Hb as r,Ib as M,Mb as w,Nb as E,Ob as ue,Pb as D,Sb as b,Ua as we,Ub as f,Va as n,Xc as G,Yb as Y,Zb as Z,_b as ee,cb as p,cc as pe,ec as K,ga as ai,hc as c,ib as N,ic as I,jb as li,jc as h,ld as te,mb as O,nc as x,nd as Re,ob as R,oc as k,pa as S,pc as L,qa as C,rd as Ae,xc as Te,yc as ye,zb as T}from"./chunk-2AL2II5Z.js";import{i as P}from"./chunk-SEDBTTTN.js";var no=["vform"];function ro(o,s){if(o&1){let e=D();a(0,"div",23)(1,"button",24),b("click",function(){S(e);let t=f();return C(t.onFormCancel())}),M(2,"i",25),c(3),g(4,"translate"),r(),a(5,"button",26),M(6,"i",25),c(7),g(8,"translate"),r()()}o&2&&(n(3),h(" ",v(4,2,"ACTION.CANCEL")," "),n(4),h(" ",v(8,4,"ACTION.SAVE")," "))}var Ft=class Ft extends _t{constructor(e,i,t,l,u,m,d,V,X,Se){super(l,new Fe,X,Se);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.coreModuleDataCommentService=l;this.cmsToastrService=u;this.tokenHelper=m;this.cmsStoreService=d;this.cdr=V;this.publicHelper=X;this.translate=Se;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new Ne;this.dataModel=new Fe;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id)}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>P(this,null,function*(){this.tokenInfo=e})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.coreModuleDataCommentService.setAccessLoad(),this.coreModuleDataCommentService.setAccessDataType(Ve.Editor),this.coreModuleDataCommentService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.coreModuleDataCommentService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e),this.formInfo.submitButtonEnabled=!0},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Ft.\u0275fac=function(i){return new(i||Ft)(p(oe),p(ie),p(j),p(Oe),p(U),p(q),p(W),p(G),p(Q),p(F))},Ft.\u0275cmp=N({type:Ft,selectors:[["app-coremodule-data-comment-edit"]],viewQuery:function(i,t){if(i&1&&Y(no,5),i&2){let l;Z(l=ee())&&(t.formGroup=l.first)}},standalone:!1,features:[O],decls:37,vars:12,consts:[["vform","ngForm"],["ModuleName",""],["ModuleEntityName",""],["ModuleEntityId",""],["Writer",""],["comment",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.moduleName",1,"color-highlight"],["matInput","","type","text","name","dataModel.moduleName","placeholder","ModuleName","id","dataModel.moduleName",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.moduleEntityName",1,"color-highlight"],["matInput","","type","text","name","dataModel.moduleEntityName","placeholder","moduleEntityName","id","dataModel.moduleEntityName",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.moduleEntityId",1,"color-highlight"],["matInput","","type","text","name","dataModel.moduleEntityId","placeholder","ModuleEntityId","id","dataModel.moduleEntityId",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.writer",1,"color-highlight"],["matInput","","type","text","name","dataModel.writer","placeholder","writer","id","dataModel.writer",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.comment",1,"color-highlight"],["matInput","","type","text","name","dataModel.comment","placeholder","comment","id","dataModel.comment",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green"]],template:function(i,t){if(i&1){let l=D();a(0,"div",6),M(1,"app-progress-spinner",7),a(2,"div",8)(3,"p",9),c(4),r(),a(5,"p"),c(6),g(7,"translate"),r(),M(8,"app-cms-form-result-message",10),a(9,"form",11,0),b("ngSubmit",function(){return S(l),C(t.onFormSubmit())}),a(11,"div",12)(12,"label",13),c(13,"ModuleName"),r(),a(14,"input",14,1),L("ngModelChange",function(m){return S(l),k(t.dataModel.moduleName,m)||(t.dataModel.moduleName=m),C(m)}),r()(),a(16,"div",12)(17,"label",15),c(18,"ModuleEntityName"),r(),a(19,"input",16,2),L("ngModelChange",function(m){return S(l),k(t.dataModel.moduleEntityName,m)||(t.dataModel.moduleEntityName=m),C(m)}),r()(),a(21,"div",12)(22,"label",17),c(23,"ModuleEntityId"),r(),a(24,"input",18,3),L("ngModelChange",function(m){return S(l),k(t.dataModel.moduleEntityId,m)||(t.dataModel.moduleEntityId=m),C(m)}),r()(),a(26,"div",12)(27,"label",19),c(28,"writer"),r(),a(29,"input",20,4),L("ngModelChange",function(m){return S(l),k(t.dataModel.writer,m)||(t.dataModel.writer=m),C(m)}),r()(),a(31,"div",12)(32,"label",21),c(33,"comment"),r(),a(34,"input",22,5),L("ngModelChange",function(m){return S(l),k(t.dataModel.comment,m)||(t.dataModel.comment=m),C(m)}),r()(),T(36,ro,9,6,"div",23),r()()()}i&2&&(n(),_("optionsInfoAreaId",t.constructorInfoAreaId),n(3),h(" ",t.formInfo.formTitle," "),n(2),h(" ",v(7,10,"TITLE.Be_Careful_When_Entering_Information")," "),n(2),_("formInfo",t.formInfo),n(6),x("ngModel",t.dataModel.moduleName),n(5),x("ngModel",t.dataModel.moduleEntityName),n(5),x("ngModel",t.dataModel.moduleEntityId),n(5),x("ngModel",t.dataModel.writer),n(5),x("ngModel",t.dataModel.comment),n(2),y(t.formInfo.submitButtonEnabled?36:-1))},dependencies:[Xe,Qe,ze,Ke,Je,$e,ne,re,ae,B],encapsulation:2});var si=Ft;var ao=["vform"];function lo(o,s){if(o&1){let e=D();a(0,"div",7)(1,"button",8),b("click",function(){S(e);let t=f();return C(t.onFormCancel())}),M(2,"i",9),c(3),g(4,"translate"),r()()}o&2&&(n(3),h(" ",v(4,1,"ACTION.CANCEL")," "))}var Wt=class Wt{constructor(s,e,i,t,l,u,m,d,V,X){this.data=s;this.dialogRef=e;this.coreEnumService=i;this.coreModuleDataCommentService=t;this.cmsToastrService=l;this.tokenHelper=u;this.cmsStoreService=m;this.cdr=d;this.publicHelper=V;this.translate=X;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.tokenInfo=new Pe;this.dataModelResult=new fe;this.dataModel=new Fe;this.formInfo=new Mt;this.dataModelEnumSendSmsStatusTypeResult=new fe;this.fieldsInfo=new Map;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,s&&(this.requestId=s.id+"")}ngOnInit(){if(this.translate.get("aaaaaaaaaTITLE.VIEWaaaaa").subscribe(s=>{this.formInfo.formTitle=s}),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(s=>s.tokenInfoStore).subscribe(s=>P(this,null,function*(){this.tokenInfo=s}))),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:s=>{this.dataModelEnumSendSmsStatusTypeResult=s}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(s=>s.unsubscribe())}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage="";let s=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(s,e,this.constructorInfoAreaId)}),this.coreModuleDataCommentService.setAccessLoad(),this.coreModuleDataCommentService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModel=e.item,e.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+e.item.id,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(e.errorMessage)),this.publicHelper.processService.processStop(s)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(s,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Wt.\u0275fac=function(e){return new(e||Wt)(p(oe),p(ie),p(j),p(Oe),p(U),p(q),p(W),p(G),p(Q),p(F))},Wt.\u0275cmp=N({type:Wt,selectors:[["app-coremodule-data-comment-view"]],viewQuery:function(e,i){if(e&1&&Y(ao,5),e&2){let t;Z(t=ee())&&(i.formGroup=t.first)}},standalone:!1,decls:9,vars:6,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection","loader-container"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[3,"formInfo"],[1,"ntk-cms-html-card-footer"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,i){e&1&&(a(0,"div",0),c(1),r(),a(2,"div",1),M(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),r(),a(5,"div",4),M(6,"app-cms-form-result-message",5),r(),a(7,"div",6),T(8,lo,5,3,"div",7),r()),e&2&&(n(),h(" ",i.formInfo.formTitle," "),n(2),_("optionsInfoAreaId",i.constructorInfoAreaId),n(),_("dataModel",i.dataModel)("optionMethod",1),n(2),_("formInfo",i.formInfo),n(2),y(i.formInfo.submitButtonEnabled?8:-1))},dependencies:[re,gt,ae,B],encapsulation:2});var ci=Wt;var so=()=>[5,10,20,100],co=o=>({display:o});function mo(o,s){if(o&1){let e=D();a(0,"a",41),b("click",function(){S(e);let t=f();return C(t.onActionBackToParent())}),M(1,"i",42),r()}}function uo(o,s){if(o&1){let e=D();a(0,"div",17)(1,"a",43),b("click",function(){S(e);let t=f();return C(t.onActionButtonViewRow(t.tableRowSelected))}),M(2,"i",44)(3,"br"),r(),a(4,"p",45),c(5),g(6,"translate"),r()()}o&2&&(n(5),h(" ",v(6,1,"ACTION.VIEW")," "))}function po(o,s){if(o&1){let e=D();a(0,"div",17)(1,"a",46),b("click",function(){S(e);let t=f();return C(t.onActionButtonEditRow(t.tableRowSelected))}),M(2,"i",47)(3,"br"),r(),a(4,"p",45),c(5),g(6,"translate"),r()()}o&2&&(n(5),h(" ",v(6,1,"ACTION.EDIT")," "))}function fo(o,s){if(o&1){let e=D();a(0,"div",17)(1,"a",48),b("click",function(){S(e);let t=f();return C(t.onActionButtonDeleteRow(t.tableRowSelected))}),M(2,"i",49)(3,"br"),r(),a(4,"p",45),c(5),g(6,"translate"),r()()}o&2&&(n(5),h(" ",v(6,1,"ACTION.DELETE")," "))}function So(o,s){if(o&1&&(a(0,"mat-header-cell",50),c(1),r()),o&2){let e=f();n(),h(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function Co(o,s){if(o&1&&(a(0,"mat-cell"),c(1),r()),o&2){let e=s.$implicit;n(),h(" ",e.id," ")}}function ho(o,s){if(o&1&&(a(0,"mat-header-cell",50),c(1),r()),o&2){let e=f();n(),h(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function Mo(o,s){if(o&1&&M(0,"select",52),o&2){let e=f().$implicit,i=f();_("contentService",i.contentService)("row",e)("ngStyle",ye(3,co,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function _o(o,s){if(o&1&&(a(0,"mat-cell",51),g(1,"statusCellClass"),M(2,"i",51),g(3,"statusIconClass"),T(4,Mo,1,5,"select",52),r()),o&2){let e=s.$implicit,i=f();_("ngClass",v(1,3,e.recordStatus)),n(2),_("ngClass",v(3,5,e.recordStatus)),n(2),y(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessEditRow?4:-1)}}function bo(o,s){if(o&1&&(a(0,"mat-header-cell",50),c(1),r()),o&2){let e=f();n(),h(" ",e.fieldsInfo.moduleName==null?null:e.fieldsInfo.moduleName.fieldTitle," ")}}function go(o,s){if(o&1&&(a(0,"mat-cell"),c(1),r()),o&2){let e=s.$implicit;n(),h(" ",e.moduleName," ")}}function vo(o,s){if(o&1&&(a(0,"mat-header-cell",50),c(1),r()),o&2){let e=f();n(),h(" ",e.fieldsInfo.moduleEntityName==null?null:e.fieldsInfo.moduleEntityName.fieldTitle," ")}}function Io(o,s){if(o&1&&(a(0,"mat-cell"),c(1),r()),o&2){let e=s.$implicit;n(),h(" ",e.moduleEntityName," ")}}function wo(o,s){if(o&1&&(a(0,"mat-header-cell",50),c(1),r()),o&2){let e=f();n(),h(" ",e.fieldsInfo.moduleEntityId==null?null:e.fieldsInfo.moduleEntityId.fieldTitle," ")}}function Eo(o,s){if(o&1&&(a(0,"mat-cell"),c(1),r()),o&2){let e=s.$implicit;n(),h(" ",e.moduleEntityId," ")}}function Do(o,s){if(o&1&&(a(0,"mat-header-cell",50),c(1),r()),o&2){let e=f();n(),h(" ",e.fieldsInfo.subjectBody==null?null:e.fieldsInfo.subjectBody.fieldTitle," ")}}function To(o,s){if(o&1&&(a(0,"mat-cell"),c(1),r()),o&2){let e=s.$implicit;n(),h(" ",e.subjectBody," ")}}function yo(o,s){if(o&1&&(a(0,"mat-header-cell",50),c(1),r()),o&2){let e=f();n(),h(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function Ro(o,s){if(o&1&&(a(0,"mat-cell",53),c(1),g(2,"localeDateTime"),r()),o&2){let e=s.$implicit;n(),h(" ",v(2,1,e.createdDate)," ")}}function Ao(o,s){o&1&&(a(0,"mat-header-cell"),c(1),g(2,"translate"),r()),o&2&&(n(),h(" ",v(2,1,"TITLE.OPTION")," "))}function xo(o,s){if(o&1&&(a(0,"mat-cell",54)(1,"button",55)(2,"mat-icon"),c(3,"more_vert"),r()(),M(4,"mat-menu",null,2),r()),o&2){let e=pe(5);n(),_("matMenuTriggerFor",e)}}function ko(o,s){if(o&1&&(a(0,"mat-cell")(1,"div")(2,"table")(3,"tr")(4,"td"),c(5),r(),a(6,"td"),c(7),r()()()()()),o&2){let e=s.$implicit;n(5),I(e.writer),n(2),I(e.comment)}}function Lo(o,s){o&1&&M(0,"mat-header-row")}function No(o,s){if(o&1){let e=D();a(0,"mat-row",56),b("click",function(t){let l=S(e).$implicit,u=f();return C(u.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=S(e).$implicit,u=f();return C(u.onActionTableRowSelect(l,t))}),r()}if(o&2){let e=s.$implicit,i=f();K("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var qt=class qt extends bt{constructor(e,i,t,l,u,m,d,V,X,Se,vi,yt,Ii){super(i,new Fe,yt,m,V);this.coreEnumService=e;this.contentService=i;this.cmsToastrService=t;this.cmsConfirmationDialogService=l;this.activatedRoute=u;this.tokenHelper=m;this.cdr=d;this.translate=V;this.router=X;this.cmsStoreService=Se;this.pageInfo=vi;this.publicHelper=yt;this.dialog=Ii;this.requestLinkSiteId=0;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new Be;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["recordStatus","ModuleName","ModuleEntityName","ModuleEntityId","SubjectBody","createdDate"];this.tabledisplayedColumnsMobileSource=["recordStatus","ModuleName","ModuleEntityName","ModuleEntityId","SubjectBody","createdDate"];this.unsubscribe=[];if(this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkSiteId>0){let z=new A;z.propertyName="LinkCmsSiteId",z.value=this.requestLinkSiteId,this.filteModelContent.filters.push(z)}this.optionsSearch.parentMethods={onSubmit:z=>this.onSubmitOptionsSearch(z)},this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=H.Descending,this.optionsSearch.data.filterModelContent=this.filteModelContent,this.optionsSearch.data.filterActionSearchRecordStatusShow=!0,this.tokenHelper.isAdminSite?(this.optionsSearch.data.filterActionSearchLinkUserIdShow=!0,this.optionsSearch.data.filterActionSearchLinkSiteIdShow=!0):(this.optionsSearch.data.filterActionSearchLinkSiteIdShow=!1,this.optionsSearch.data.filterActionSearchLinkUserIdShow=!1)}ngOnInit(){this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=H.Descending,this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>P(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}filterModelCompiler(e){let i=JSON.parse(JSON.stringify(e));return this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),i}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Fe);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=this.filterModelCompiler(this.filteModelContent);if(this.filteModelContent.filterActionSearchRecordStatus>0){let t=new A;t.propertyName="recordStatus",t.value=this.filteModelContent.filterActionSearchRecordStatus,i.filters.push(t)}if(this.filteModelContent.filterActionSearchLinkSiteId>0){let t=new A;t.propertyName="linkSiteId",t.value=this.filteModelContent.filterActionSearchLinkSiteId,i.filters.push(t)}if(this.filteModelContent.filterActionSearchLinkUserId>0){let t=new A;t.propertyName="linkUserId",t.value=this.filteModelContent.filterActionSearchLinkUserId,i.filters.push(t)}this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.applyDataGetAllResult(t),this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=H.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=H.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=H.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonViewRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(ci,{height:"90%",panelClass:i,enterAnimationDuration:$.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:$.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate})}onActionButtonEditRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(si,{height:"90%",panelClass:i,enterAnimationDuration:$.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:$.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(l=>{this.cmsToastrService.typeErrorSelected(l)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(l=>{i=l["MESSAGE.Please_Confirm"],t=l["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(l=>{if(l){let u=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(m=>{this.publicHelper.processService.processStart(u,m,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:m=>{m.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(u)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(u,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(d=>{i.set(d,0)}),this.translate.get("MESSAGE.All").subscribe(d=>{i.set(d,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(d=>{this.publicHelper.processService.processStart(t,d,this.constructorInfoAreaId)});let l=this.filterModelCompiler(this.filteModelContent);if(this.filteModelContent.filterActionSearchRecordStatus>0){let d=new A;d.propertyName="recordStatus",d.value=this.filteModelContent.filterActionSearchRecordStatus,l.filters.push(d)}if(this.filteModelContent.filterActionSearchLinkSiteId>0){let d=new A;d.propertyName="linkSiteId",d.value=this.filteModelContent.filterActionSearchLinkSiteId,l.filters.push(d)}if(this.filteModelContent.filterActionSearchLinkUserId>0){let d=new A;d.propertyName="linkUserId",d.value=this.filteModelContent.filterActionSearchLinkUserId,l.filters.push(d)}this.contentService.ServiceGetCount(l).subscribe({next:d=>{d.isSuccess?(this.translate.get("MESSAGE.All").subscribe(V=>{i.set(V,d.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(d.errorMessage),this.publicHelper.processService.processStop(t)},error:d=>{this.cmsToastrService.typeError(d),this.publicHelper.processService.processStop(t,!1)}});let u=this.filterModelCompiler(this.filteModelContent);if(this.filteModelContent.filterActionSearchRecordStatus>0){let d=new A;d.propertyName="recordStatus",d.value=this.filteModelContent.filterActionSearchRecordStatus,u.filters.push(d)}if(this.filteModelContent.filterActionSearchLinkSiteId>0){let d=new A;d.propertyName="linkSiteId",d.value=this.filteModelContent.filterActionSearchLinkSiteId,u.filters.push(d)}if(this.filteModelContent.filterActionSearchLinkUserId>0){let d=new A;d.propertyName="linkUserId",d.value=this.filteModelContent.filterActionSearchLinkUserId,u.filters.push(d)}let m=new A;m.propertyName="recordStatus",m.value=Le.Available,u.filters.push(m),this.contentService.ServiceGetCount(u).subscribe({next:d=>{d.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(V=>{i.set(V,d.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(d.errorMessage),this.publicHelper.processService.processStop(t)},error:d=>{this.cmsToastrService.typeError(d),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};qt.\u0275fac=function(i){return new(i||qt)(p(j),p(Oe),p(U),p(ve),p(xe),p(q),p(G),p(F),p(ke),p(W),p(ht),p(Q),p(Ze))},qt.\u0275cmp=N({type:qt,selectors:[["app-coremodule-data-comment-list"]],standalone:!1,features:[O],decls:62,vars:31,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],[1,"col-4"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","recordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","ModuleName"],["matColumnDef","ModuleEntityName"],["matColumnDef","ModuleEntityId"],["matColumnDef","SubjectBody"],["matColumnDef","createdDate"],["style","direction: ltr",4,"matCellDef"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],["matColumnDef","expandedDetail"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[2,"direction","ltr"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(i,t){if(i&1){let l=D();a(0,"app-cms-html-list",3),L("optionActionGuideNoticeDisplayChange",function(m){return S(l),k(t.viewGuideNotice,m)||(t.viewGuideNotice=m),C(m)}),b("optionOnActionButtonMemoRow",function(){return S(l),C(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return S(l),C(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return S(l),C(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return S(l),C(t.onActionButtonPrintRow())}),w(1,4),c(2," -------------------------------------- "),E(),ue(3,5)(4,6),w(5,7),T(6,mo,2,0,"a",8),a(7,"a",9),b("click",function(){return S(l),C(t.viewGuideNotice=!t.viewGuideNotice)}),M(8,"i",10),r(),a(9,"a",9),b("click",function(){return S(l),C(t.onActionButtonReload())}),M(10,"i",11),r(),E(),w(11,12),a(12,"a",13),b("click",function(){return S(l),C(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),M(13,"mat-slide-toggle",14),c(14),g(15,"translate"),r(),a(16,"a",13),b("click",function(){return S(l),C(t.onActionButtonStatist())}),M(17,"mat-slide-toggle",14),c(18),g(19,"translate"),r(),E(),ue(20,15),w(21,16),T(22,uo,7,3,"div",17),T(23,po,7,3,"div",17),T(24,fo,7,3,"div",17),E(),w(25,18),a(26,"app-cms-search-list",19),L("optionsChange",function(m){return S(l),k(t.optionsSearch,m)||(t.optionsSearch=m),C(m)}),r(),a(27,"app-cms-statist-list",19),L("optionsChange",function(m){return S(l),k(t.optionsStatist,m)||(t.optionsStatist=m),C(m)}),r(),E(),w(28,20),a(29,"mat-table",21,0),b("matSortChange",function(){S(l);let m=pe(30);return C(t.onTableSortData(m))}),w(31,22),R(32,So,2,1,"mat-header-cell",23)(33,Co,2,1,"mat-cell",24),E(),w(34,25),R(35,ho,2,1,"mat-header-cell",23)(36,_o,5,7,"mat-cell",26),E(),w(37,27),R(38,bo,2,1,"mat-header-cell",23)(39,go,2,1,"mat-cell",24),E(),w(40,28),R(41,vo,2,1,"mat-header-cell",23)(42,Io,2,1,"mat-cell",24),E(),w(43,29),R(44,wo,2,1,"mat-header-cell",23)(45,Eo,2,1,"mat-cell",24),E(),w(46,30),R(47,Do,2,1,"mat-header-cell",23)(48,To,2,1,"mat-cell",24),E(),w(49,31),R(50,yo,2,1,"mat-header-cell",23)(51,Ro,3,3,"mat-cell",32),E(),w(52,33),R(53,Ao,3,3,"mat-header-cell",34)(54,xo,6,1,"mat-cell",35),E(),w(55,36),R(56,ko,8,2,"mat-cell",24),E(),R(57,Lo,1,0,"mat-header-row",37)(58,No,1,2,"mat-row",38),r(),E(),w(59,39),a(60,"mat-paginator",40,1),b("page",function(m){return S(l),C(t.onTablePageingData(m))}),r(),E(),r()}i&2&&(_("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),x("optionActionGuideNoticeDisplay",t.viewGuideNotice),_("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),n(6),y(t.requestLinkSiteId>0?6:-1),n(4),K("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),n(3),_("checked",t.optionsSearch.data.show),n(),h("",v(15,26,"ACTION.SEARCH")," "),n(3),_("checked",t.optionsStatist.data.show),n(),h("",v(19,28,"ACTION.STATIST")," "),n(4),y(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessWatchRow?22:-1),n(),y(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?23:-1),n(),y(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?24:-1),n(2),x("options",t.optionsSearch),n(),x("options",t.optionsStatist),n(2),_("dataSource",t.tableSource),n(28),_("matHeaderRowDef",t.tabledisplayedColumns),n(),_("matRowDefColumns",t.tabledisplayedColumns),n(2),_("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",Te(30,so)))},dependencies:[te,Ae,Ye,et,ne,tt,it,ot,nt,rt,at,lt,ct,pt,mt,st,ft,dt,ut,St,Ct,vt,It,wt,Et,Dt,B,le,se,ce],encapsulation:2});var Ut=qt;var Bo=(o,s)=>s.id;function Vo(o,s){if(o&1&&(a(0,"div",17)(1,"label"),c(2,"Writer"),r(),a(3,"span"),c(4),r()(),a(5,"div",17)(6,"label"),c(7,"Comment"),r(),a(8,"span"),c(9),r()()),o&2){let e=f(2).$implicit;n(4),I(e.writer),n(5),I(e.comment)}}function Po(o,s){if(o&1&&(a(0,"div",16)(1,"div",17)(2,"label"),c(3),r(),a(4,"span"),c(5),r()(),a(6,"div",17)(7,"label"),c(8),r(),a(9,"span",9),g(10,"statusCellClass"),M(11,"i",9),g(12,"statusIconClass"),r()(),a(13,"div",17)(14,"label"),c(15),r(),a(16,"span"),c(17),r()(),a(18,"div",17)(19,"label"),c(20),r(),a(21,"span"),c(22),r()(),a(23,"div",17)(24,"label"),c(25),r(),a(26,"span"),c(27),r()(),a(28,"div",17)(29,"label"),c(30),r(),a(31,"span"),c(32),r()(),a(33,"div",17)(34,"label"),c(35),r(),a(36,"span",18),c(37),g(38,"localeDateTime"),r()(),T(39,Vo,10,2),r()),o&2){let e=f().$implicit,i=f();n(3),I(i.fieldsInfo.id==null?null:i.fieldsInfo.id.fieldTitle),n(2),I(e.id),n(3),I(i.fieldsInfo.recordStatus==null?null:i.fieldsInfo.recordStatus.fieldTitle),n(),_("ngClass",v(10,16,e.recordStatus)),n(2),_("ngClass",v(12,18,e.recordStatus)),n(4),I(i.fieldsInfo.moduleName==null?null:i.fieldsInfo.moduleName.fieldTitle),n(2),I(e.moduleName),n(3),I(i.fieldsInfo.moduleEntityName==null?null:i.fieldsInfo.moduleEntityName.fieldTitle),n(2),I(e.moduleEntityName),n(3),I(i.fieldsInfo.moduleEntityId==null?null:i.fieldsInfo.moduleEntityId.fieldTitle),n(2),I(e.moduleEntityId),n(3),I(i.fieldsInfo.subjectBody==null?null:i.fieldsInfo.subjectBody.fieldTitle),n(2),I(e.subjectBody),n(3),I(i.fieldsInfo.createdDate==null?null:i.fieldsInfo.createdDate.fieldTitle),n(2),I(v(38,20,e.createdDate)),n(2),y(e.writer||e.comment?39:-1)}}function Oo(o,s){if(o&1){let e=D();a(0,"button",20),b("click",function(){S(e);let t=f(2).$implicit,l=f();return l.onActionButtonViewRow(t),C(l.closeActionMenu())}),M(1,"i",21),c(2),g(3,"translate"),r()}o&2&&(n(2),h(" ",v(3,1,"ACTION.VIEW")," "))}function Go(o,s){if(o&1){let e=D();a(0,"button",20),b("click",function(){S(e);let t=f(2).$implicit,l=f();return l.onActionButtonEditRow(t),C(l.closeActionMenu())}),M(1,"i",22),c(2),g(3,"translate"),r()}o&2&&(n(2),h(" ",v(3,1,"ACTION.EDIT")," "))}function Ho(o,s){if(o&1){let e=D();a(0,"button",20),b("click",function(){S(e);let t=f(2).$implicit,l=f();return l.onActionButtonDeleteRow(t),C(l.closeActionMenu())}),M(1,"i",23),c(2),g(3,"translate"),r()}o&2&&(n(2),h(" ",v(3,1,"ACTION.DELETE")," "))}function jo(o,s){if(o&1&&(a(0,"div",19),T(1,Oo,4,3,"button"),T(2,Go,4,3,"button"),T(3,Ho,4,3,"button"),r()),o&2){let e=f(2);n(),y(!(e.dataModelResult==null||e.dataModelResult.access==null)&&e.dataModelResult.access.accessWatchRow?1:-1),n(),y(!(e.dataModelResult==null||e.dataModelResult.access==null)&&e.dataModelResult.access.accessEditRow?2:-1),n(),y(!(e.dataModelResult==null||e.dataModelResult.access==null)&&e.dataModelResult.access.accessDeleteRow?3:-1)}}function Fo(o,s){if(o&1){let e=D();a(0,"div",3)(1,"div",4),b("click",function(t){let l=S(e).$implicit,u=f();return C(u.onActionTableRowSelect(l,t))}),a(2,"div",5)(3,"div",6)(4,"span",7),c(5),r(),a(6,"span",8),g(7,"statusCellClass"),M(8,"i",9),g(9,"statusIconClass"),r()(),a(10,"div",10)(11,"span"),c(12),r(),a(13,"span"),c(14),r()()(),a(15,"div",11)(16,"button",12),b("click",function(t){let l=S(e).$implicit;return f().toggleActionMenu(l.id),C(t.stopPropagation())}),M(17,"i",13),r()()(),R(18,Po,40,22,"div",14)(19,jo,4,3,"div",15),r()}if(o&2){let e=s.$implicit,i=f();K("cms-m-row-expanded",i.getRowExpanded(e)),n(5),h("#",e.id),n(),_("ngClass",v(7,9,e.recordStatus)),n(2),_("ngClass",v(9,11,e.recordStatus)),n(4),I(e.moduleName),n(2),I(e.moduleEntityName),n(4),_("ngIf",i.getRowExpanded(e)),n(),_("ngIf",i.actionMenuOpen===i.toString(e.id))}}var Vt=class Vt extends Ut{constructor(){super(...arguments);this.actionMenuOpen=null}toggleActionMenu(e){let i=String(e);this.actionMenuOpen===i?this.actionMenuOpen=null:this.actionMenuOpen=i}closeActionMenu(){this.actionMenuOpen=null}toString(e){return String(e)}onDocumentClick(e){let i=e.target;!i.closest(".cms-m-action-menu")&&!i.closest(".cms-m-action-menu-dropdown")&&this.closeActionMenu()}};Vt.\u0275fac=(()=>{let e;return function(t){return(e||(e=Ie(Vt)))(t||Vt)}})(),Vt.\u0275cmp=N({type:Vt,selectors:[["app-coremodule-data-comment-list-mobile"]],hostBindings:function(i,t){i&1&&b("click",function(u){return t.onDocumentClick(u)},we)},standalone:!1,features:[O],decls:4,vars:7,consts:[[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionOnScrollNearBottom","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-mobile-content",""],[1,"cms-m-row",3,"cms-m-row-expanded"],[1,"cms-m-row"],[1,"cms-m-row-header",3,"click"],[1,"cms-m-row-main"],[1,"cms-m-row-title"],[1,"cms-m-row-id"],[1,"cms-m-row-status",3,"ngClass"],[3,"ngClass"],[1,"cms-m-row-subtitle"],[1,"cms-m-row-actions"],["type","button",1,"cms-m-action-menu",3,"click"],[1,"fa-solid","fa-ellipsis-vertical"],["class","cms-m-row-content",4,"ngIf"],["class","cms-m-action-menu-dropdown",4,"ngIf"],[1,"cms-m-row-content"],[1,"cms-m-row-field"],[2,"direction","ltr"],[1,"cms-m-action-menu-dropdown"],[3,"click"],[1,"fa-solid","fa-eye"],[1,"fa-solid","fa-pen"],[1,"fa-solid","fa-trash"]],template:function(i,t){i&1&&(a(0,"app-cms-html-list-mobile",0),L("optionActionGuideNoticeDisplayChange",function(u){return k(t.viewGuideNotice,u)||(t.viewGuideNotice=u),u}),b("optionOnActionButtonMemoRow",function(){return t.onActionButtonMemoRow()})("optionOnActionButtonMemo",function(){return t.onActionButtonMemo()})("optionOnActionButtonExport",function(){return t.onActionButtonExport()})("optionOnActionButtonPrintRow",function(){return t.onActionButtonPrintRow()})("optionOnScrollNearBottom",function(){return t.onActionLoadNextPage()}),w(1,1),Ee(2,Fo,20,13,"div",2,Bo),E(),r()),i&2&&(_("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),x("optionActionGuideNoticeDisplay",t.viewGuideNotice),_("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),n(2),De(t.dataModelResult==null?null:t.dataModelResult.listItems))},dependencies:[te,Re,Tt,B,le,se,ce],encapsulation:2});var di=Vt;var Qt=class Qt{constructor(){this.constructorInfoAreaId=this.constructor.name}ngOnInit(){}};Qt.\u0275fac=function(e){return new(e||Qt)},Qt.\u0275cmp=N({type:Qt,selectors:[["app-coremoduledata"]],standalone:!1,decls:1,vars:0,template:function(e,i){e&1&&M(0,"router-outlet")},dependencies:[qi],encapsulation:2});var zt=Qt;var Wo=["vform"];function qo(o,s){if(o&1){let e=D();a(0,"div",23)(1,"button",24),b("click",function(){S(e);let t=f();return C(t.onFormCancel())}),M(2,"i",25),c(3),g(4,"translate"),r(),a(5,"button",26),M(6,"i",25),c(7),g(8,"translate"),r()()}o&2&&(n(3),h(" ",v(4,2,"ACTION.CANCEL")," "),n(4),h(" ",v(8,4,"ACTION.SAVE")," "))}var Kt=class Kt extends _t{constructor(e,i,t,l,u,m,d,V,X,Se){super(l,new We,X,Se);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.coreModuleDataMemoService=l;this.cmsToastrService=u;this.tokenHelper=m;this.cmsStoreService=d;this.cdr=V;this.publicHelper=X;this.translate=Se;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new Ne;this.dataModel=new We;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id)}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>P(this,null,function*(){this.tokenInfo=e})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.coreModuleDataMemoService.setAccessLoad(),this.coreModuleDataMemoService.setAccessDataType(Ve.Editor),this.coreModuleDataMemoService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.coreModuleDataMemoService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e),this.formInfo.submitButtonEnabled=!0},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Kt.\u0275fac=function(i){return new(i||Kt)(p(oe),p(ie),p(j),p(Ge),p(U),p(q),p(W),p(G),p(Q),p(F))},Kt.\u0275cmp=N({type:Kt,selectors:[["app-coremodule-data-memo-edit"]],viewQuery:function(i,t){if(i&1&&Y(Wo,5),i&2){let l;Z(l=ee())&&(t.formGroup=l.first)}},standalone:!1,features:[O],decls:37,vars:12,consts:[["vform","ngForm"],["ModuleName",""],["ModuleEntityName",""],["ModuleEntityId",""],["SubjectBody",""],["SubjectTitle",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.moduleName",1,"color-highlight"],["matInput","","type","text","name","dataModel.moduleName","placeholder","ModuleName","id","dataModel.moduleName",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.moduleEntityName",1,"color-highlight"],["matInput","","type","text","name","dataModel.moduleEntityName","placeholder","moduleEntityName","id","dataModel.moduleEntityName",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.moduleEntityId",1,"color-highlight"],["matInput","","type","text","name","dataModel.moduleEntityId","placeholder","ModuleEntityId","id","dataModel.moduleEntityId",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.subjectBody",1,"color-highlight"],["matInput","","type","text","name","dataModel.subjectBody","placeholder","SubjectBody","id","dataModel.subjectBody",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.subjectTitle",1,"color-highlight"],["matInput","","type","text","name","dataModel.subjectTitle","placeholder","SubjectTitle","id","dataModel.subjectTitle",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green"]],template:function(i,t){if(i&1){let l=D();a(0,"div",6),M(1,"app-progress-spinner",7),a(2,"div",8)(3,"p",9),c(4),r(),a(5,"p"),c(6),g(7,"translate"),r(),M(8,"app-cms-form-result-message",10),a(9,"form",11,0),b("ngSubmit",function(){return S(l),C(t.onFormSubmit())}),a(11,"div",12)(12,"label",13),c(13,"ModuleName"),r(),a(14,"input",14,1),L("ngModelChange",function(m){return S(l),k(t.dataModel.moduleName,m)||(t.dataModel.moduleName=m),C(m)}),r()(),a(16,"div",12)(17,"label",15),c(18,"ModuleEntityName"),r(),a(19,"input",16,2),L("ngModelChange",function(m){return S(l),k(t.dataModel.moduleEntityName,m)||(t.dataModel.moduleEntityName=m),C(m)}),r()(),a(21,"div",12)(22,"label",17),c(23,"ModuleEntityId"),r(),a(24,"input",18,3),L("ngModelChange",function(m){return S(l),k(t.dataModel.moduleEntityId,m)||(t.dataModel.moduleEntityId=m),C(m)}),r()(),a(26,"div",12)(27,"label",19),c(28,"SubjectBody"),r(),a(29,"input",20,4),L("ngModelChange",function(m){return S(l),k(t.dataModel.subjectBody,m)||(t.dataModel.subjectBody=m),C(m)}),r()(),a(31,"div",12)(32,"label",21),c(33,"SubjectTitle"),r(),a(34,"input",22,5),L("ngModelChange",function(m){return S(l),k(t.dataModel.subjectTitle,m)||(t.dataModel.subjectTitle=m),C(m)}),r()(),T(36,qo,9,6,"div",23),r()()()}i&2&&(n(),_("optionsInfoAreaId",t.constructorInfoAreaId),n(3),h(" ",t.formInfo.formTitle," "),n(2),h(" ",v(7,10,"TITLE.Be_Careful_When_Entering_Information")," "),n(2),_("formInfo",t.formInfo),n(6),x("ngModel",t.dataModel.moduleName),n(5),x("ngModel",t.dataModel.moduleEntityName),n(5),x("ngModel",t.dataModel.moduleEntityId),n(5),x("ngModel",t.dataModel.subjectBody),n(5),x("ngModel",t.dataModel.subjectTitle),n(2),y(t.formInfo.submitButtonEnabled?36:-1))},dependencies:[Xe,Qe,ze,Ke,Je,$e,ne,re,ae,B],encapsulation:2});var ui=Kt;var Uo=["vform"];function Qo(o,s){if(o&1){let e=D();a(0,"div",7)(1,"button",8),b("click",function(){S(e);let t=f();return C(t.onFormCancel())}),M(2,"i",9),c(3),g(4,"translate"),r()()}o&2&&(n(3),h(" ",v(4,1,"ACTION.CANCEL")," "))}var $t=class $t{constructor(s,e,i,t,l,u,m,d,V,X){this.data=s;this.dialogRef=e;this.coreEnumService=i;this.coreModuleDataMemoService=t;this.cmsToastrService=l;this.tokenHelper=u;this.cmsStoreService=m;this.cdr=d;this.publicHelper=V;this.translate=X;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.tokenInfo=new Pe;this.dataModelResult=new fe;this.dataModel=new We;this.formInfo=new Mt;this.dataModelEnumSendSmsStatusTypeResult=new fe;this.fieldsInfo=new Map;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,s&&(this.requestId=s.id+"")}ngOnInit(){if(this.translate.get("aaaaaaaaaTITLE.VIEWaaaaa").subscribe(s=>{this.formInfo.formTitle=s}),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(s=>s.tokenInfoStore).subscribe(s=>P(this,null,function*(){this.tokenInfo=s}))),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:s=>{this.dataModelEnumSendSmsStatusTypeResult=s}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(s=>s.unsubscribe())}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage="";let s=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(s,e,this.constructorInfoAreaId)}),this.coreModuleDataMemoService.setAccessLoad(),this.coreModuleDataMemoService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModel=e.item,e.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+e.item.id,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(e.errorMessage)),this.publicHelper.processService.processStop(s)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(s,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};$t.\u0275fac=function(e){return new(e||$t)(p(oe),p(ie),p(j),p(Ge),p(U),p(q),p(W),p(G),p(Q),p(F))},$t.\u0275cmp=N({type:$t,selectors:[["app-coremodule-data-memo-view"]],viewQuery:function(e,i){if(e&1&&Y(Uo,5),e&2){let t;Z(t=ee())&&(i.formGroup=t.first)}},standalone:!1,decls:9,vars:6,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection","loader-container"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[3,"formInfo"],[1,"ntk-cms-html-card-footer"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,i){e&1&&(a(0,"div",0),c(1),r(),a(2,"div",1),M(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),r(),a(5,"div",4),M(6,"app-cms-form-result-message",5),r(),a(7,"div",6),T(8,Qo,5,3,"div",7),r()),e&2&&(n(),h(" ",i.formInfo.formTitle," "),n(2),_("optionsInfoAreaId",i.constructorInfoAreaId),n(),_("dataModel",i.dataModel)("optionMethod",1),n(2),_("formInfo",i.formInfo),n(2),y(i.formInfo.submitButtonEnabled?8:-1))},dependencies:[re,gt,ae,B],encapsulation:2});var pi=$t;var zo=()=>[5,10,20,100],Ko=o=>({display:o});function $o(o,s){if(o&1){let e=D();a(0,"a",41),b("click",function(){S(e);let t=f();return C(t.onActionBackToParent())}),M(1,"i",42),r()}}function Jo(o,s){if(o&1){let e=D();a(0,"div",17)(1,"a",43),b("click",function(){S(e);let t=f();return C(t.onActionButtonViewRow(t.tableRowSelected))}),M(2,"i",44)(3,"br"),r(),a(4,"p",45),c(5),g(6,"translate"),r()()}o&2&&(n(5),h(" ",v(6,1,"ACTION.VIEW")," "))}function Xo(o,s){if(o&1){let e=D();a(0,"div",17)(1,"a",46),b("click",function(){S(e);let t=f();return C(t.onActionButtonEditRow(t.tableRowSelected))}),M(2,"i",47)(3,"br"),r(),a(4,"p",45),c(5),g(6,"translate"),r()()}o&2&&(n(5),h(" ",v(6,1,"ACTION.EDIT")," "))}function Yo(o,s){if(o&1){let e=D();a(0,"div",17)(1,"a",48),b("click",function(){S(e);let t=f();return C(t.onActionButtonDeleteRow(t.tableRowSelected))}),M(2,"span")(3,"i",49)(4,"br"),r(),a(5,"p",45),c(6),g(7,"translate"),r()()}o&2&&(n(6),h(" ",v(7,1,"ACTION.DELETE")," "))}function Zo(o,s){if(o&1&&(a(0,"mat-header-cell",50),c(1),r()),o&2){let e=f();n(),h(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function en(o,s){if(o&1&&(a(0,"mat-cell"),c(1),r()),o&2){let e=s.$implicit;n(),h(" ",e.id," ")}}function tn(o,s){if(o&1&&(a(0,"mat-header-cell",50),c(1),r()),o&2){let e=f();n(),h(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function on(o,s){if(o&1&&M(0,"select",52),o&2){let e=f().$implicit,i=f();_("contentService",i.contentService)("row",e)("ngStyle",ye(3,Ko,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function nn(o,s){if(o&1&&(a(0,"mat-cell",51),g(1,"statusCellClass"),M(2,"i",51),g(3,"statusIconClass"),T(4,on,1,5,"select",52),r()),o&2){let e=s.$implicit,i=f();_("ngClass",v(1,3,e.recordStatus)),n(2),_("ngClass",v(3,5,e.recordStatus)),n(2),y(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessEditRow?4:-1)}}function rn(o,s){if(o&1&&(a(0,"mat-header-cell",50),c(1),r()),o&2){let e=f();n(),h(" ",e.fieldsInfo.moduleName==null?null:e.fieldsInfo.moduleName.fieldTitle," ")}}function an(o,s){if(o&1&&(a(0,"mat-cell"),c(1),r()),o&2){let e=s.$implicit;n(),h(" ",e.moduleName," ")}}function ln(o,s){if(o&1&&(a(0,"mat-header-cell",50),c(1),r()),o&2){let e=f();n(),h(" ",e.fieldsInfo.moduleEntityName==null?null:e.fieldsInfo.moduleEntityName.fieldTitle," ")}}function sn(o,s){if(o&1&&(a(0,"mat-cell"),c(1),r()),o&2){let e=s.$implicit;n(),h(" ",e.moduleEntityName," ")}}function cn(o,s){if(o&1&&(a(0,"mat-header-cell",50),c(1),r()),o&2){let e=f();n(),h(" ",e.fieldsInfo.moduleEntityId==null?null:e.fieldsInfo.moduleEntityId.fieldTitle," ")}}function mn(o,s){if(o&1&&(a(0,"mat-cell"),c(1),r()),o&2){let e=s.$implicit;n(),h(" ",e.moduleEntityId," ")}}function dn(o,s){if(o&1&&(a(0,"mat-header-cell",50),c(1),r()),o&2){let e=f();n(),h(" ",e.fieldsInfo.subjectBody==null?null:e.fieldsInfo.subjectBody.fieldTitle," ")}}function un(o,s){if(o&1&&(a(0,"mat-cell"),c(1),r()),o&2){let e=s.$implicit;n(),h(" ",e.subjectBody," ")}}function pn(o,s){if(o&1&&(a(0,"mat-header-cell",50),c(1),r()),o&2){let e=f();n(),h(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function fn(o,s){if(o&1&&(a(0,"mat-cell",53),c(1),g(2,"localeDateTime"),r()),o&2){let e=s.$implicit;n(),h(" ",v(2,1,e.createdDate)," ")}}function Sn(o,s){o&1&&(a(0,"mat-header-cell"),c(1),g(2,"translate"),r()),o&2&&(n(),h(" ",v(2,1,"TITLE.OPTION")," "))}function Cn(o,s){if(o&1&&(a(0,"mat-cell",54)(1,"button",55)(2,"mat-icon"),c(3,"more_vert"),r()(),M(4,"mat-menu",null,2),r()),o&2){let e=pe(5);n(),_("matMenuTriggerFor",e)}}function hn(o,s){if(o&1&&(a(0,"mat-cell")(1,"div")(2,"table")(3,"tr"),M(4,"td"),a(5,"td"),c(6),r()()()()()),o&2){let e=s.$implicit;n(6),I(e.subjectTitle)}}function Mn(o,s){o&1&&M(0,"mat-header-row")}function _n(o,s){if(o&1){let e=D();a(0,"mat-row",56),b("click",function(t){let l=S(e).$implicit,u=f();return C(u.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=S(e).$implicit,u=f();return C(u.onActionTableRowSelect(l,t))}),r()}if(o&2){let e=s.$implicit,i=f();K("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var Jt=class Jt extends bt{constructor(e,i,t,l,u,m,d,V,X,Se,vi,yt,Ii){super(i,new We,yt,m,V);this.coreEnumService=e;this.contentService=i;this.cmsToastrService=t;this.cmsConfirmationDialogService=l;this.activatedRoute=u;this.tokenHelper=m;this.cdr=d;this.translate=V;this.cmsStoreService=X;this.router=Se;this.pageInfo=vi;this.publicHelper=yt;this.dialog=Ii;this.requestLinkSiteId=0;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new Be;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["recordStatus","ModuleName","ModuleEntityName","ModuleEntityId","SubjectBody","createdDate"];this.tabledisplayedColumnsMobileSource=["recordStatus","ModuleName","ModuleEntityName","ModuleEntityId","SubjectBody","createdDate"];this.unsubscribe=[];if(this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkSiteId>0){let z=new A;z.propertyName="LinkCmsSiteId",z.value=this.requestLinkSiteId,this.filteModelContent.filters.push(z)}this.optionsSearch.parentMethods={onSubmit:z=>this.onSubmitOptionsSearch(z)},this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=H.Descending,this.optionsSearch.data.filterModelContent=this.filteModelContent,this.optionsSearch.data.filterActionSearchRecordStatusShow=!0,this.tokenHelper.isAdminSite?(this.optionsSearch.data.filterActionSearchLinkUserIdShow=!0,this.optionsSearch.data.filterActionSearchLinkSiteIdShow=!0):(this.optionsSearch.data.filterActionSearchLinkSiteIdShow=!1,this.optionsSearch.data.filterActionSearchLinkUserIdShow=!1)}ngOnInit(){this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=H.Descending,this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>P(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}filterModelCompiler(e){let i=JSON.parse(JSON.stringify(e));return this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),i}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new We);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=this.filterModelCompiler(this.filteModelContent);if(this.filteModelContent.filterActionSearchRecordStatus>0){let t=new A;t.propertyName="recordStatus",t.value=this.filteModelContent.filterActionSearchRecordStatus,i.filters.push(t)}if(this.filteModelContent.filterActionSearchLinkSiteId>0){let t=new A;t.propertyName="linkSiteId",t.value=this.filteModelContent.filterActionSearchLinkSiteId,i.filters.push(t)}if(this.filteModelContent.filterActionSearchLinkUserId>0){let t=new A;t.propertyName="linkUserId",t.value=this.filteModelContent.filterActionSearchLinkUserId,i.filters.push(t)}this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.applyDataGetAllResult(t),this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=H.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=H.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=H.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonViewRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(pi,{height:"90%",panelClass:i,enterAnimationDuration:$.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:$.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate})}onActionButtonEditRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(ui,{height:"90%",panelClass:i,enterAnimationDuration:$.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:$.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(l=>{this.cmsToastrService.typeErrorSelected(l)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(l=>{i=l["MESSAGE.Please_Confirm"],t=l["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(l=>{if(l){let u=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(m=>{this.publicHelper.processService.processStart(u,m,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:m=>{m.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(u)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(u,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(d=>{i.set(d,0)}),this.translate.get("MESSAGE.All").subscribe(d=>{i.set(d,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(d=>{this.publicHelper.processService.processStart(t,d,this.constructorInfoAreaId)});let l=this.filterModelCompiler(this.filteModelContent);if(this.filteModelContent.filterActionSearchRecordStatus>0){let d=new A;d.propertyName="recordStatus",d.value=this.filteModelContent.filterActionSearchRecordStatus,l.filters.push(d)}if(this.filteModelContent.filterActionSearchLinkSiteId>0){let d=new A;d.propertyName="linkSiteId",d.value=this.filteModelContent.filterActionSearchLinkSiteId,l.filters.push(d)}if(this.filteModelContent.filterActionSearchLinkUserId>0){let d=new A;d.propertyName="linkUserId",d.value=this.filteModelContent.filterActionSearchLinkUserId,l.filters.push(d)}this.contentService.ServiceGetCount(l).subscribe({next:d=>{d.isSuccess?(this.translate.get("MESSAGE.All").subscribe(V=>{i.set(V,d.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(d.errorMessage),this.publicHelper.processService.processStop(t)},error:d=>{this.cmsToastrService.typeError(d),this.publicHelper.processService.processStop(t,!1)}});let u=this.filterModelCompiler(this.filteModelContent);if(this.filteModelContent.filterActionSearchRecordStatus>0){let d=new A;d.propertyName="recordStatus",d.value=this.filteModelContent.filterActionSearchRecordStatus,u.filters.push(d)}if(this.filteModelContent.filterActionSearchLinkSiteId>0){let d=new A;d.propertyName="linkSiteId",d.value=this.filteModelContent.filterActionSearchLinkSiteId,u.filters.push(d)}if(this.filteModelContent.filterActionSearchLinkUserId>0){let d=new A;d.propertyName="linkUserId",d.value=this.filteModelContent.filterActionSearchLinkUserId,u.filters.push(d)}let m=new A;m.propertyName="recordStatus",m.value=Le.Available,u.filters.push(m),this.contentService.ServiceGetCount(u).subscribe({next:d=>{d.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(V=>{i.set(V,d.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(d.errorMessage),this.publicHelper.processService.processStop(t)},error:d=>{this.cmsToastrService.typeError(d),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};Jt.\u0275fac=function(i){return new(i||Jt)(p(j),p(Ge),p(U),p(ve),p(xe),p(q),p(G),p(F),p(W),p(ke),p(ht),p(Q),p(Ze))},Jt.\u0275cmp=N({type:Jt,selectors:[["app-coremodule-data-memo-list"]],standalone:!1,features:[O],decls:62,vars:31,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],[1,"col-4"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","recordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","ModuleName"],["matColumnDef","ModuleEntityName"],["matColumnDef","ModuleEntityId"],["matColumnDef","SubjectBody"],["matColumnDef","createdDate"],["style","direction: ltr",4,"matCellDef"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],["matColumnDef","expandedDetail"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[2,"direction","ltr"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(i,t){if(i&1){let l=D();a(0,"app-cms-html-list",3),L("optionActionGuideNoticeDisplayChange",function(m){return S(l),k(t.viewGuideNotice,m)||(t.viewGuideNotice=m),C(m)}),b("optionOnActionButtonMemoRow",function(){return S(l),C(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return S(l),C(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return S(l),C(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return S(l),C(t.onActionButtonPrintRow())}),w(1,4),c(2," -------------------------------------- "),E(),ue(3,5)(4,6),w(5,7),T(6,$o,2,0,"a",8),a(7,"a",9),b("click",function(){return S(l),C(t.viewGuideNotice=!t.viewGuideNotice)}),M(8,"i",10),r(),a(9,"a",9),b("click",function(){return S(l),C(t.onActionButtonReload())}),M(10,"i",11),r(),E(),w(11,12),a(12,"a",13),b("click",function(){return S(l),C(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),M(13,"mat-slide-toggle",14),c(14),g(15,"translate"),r(),a(16,"a",13),b("click",function(){return S(l),C(t.onActionButtonStatist())}),M(17,"mat-slide-toggle",14),c(18),g(19,"translate"),r(),E(),ue(20,15),w(21,16),T(22,Jo,7,3,"div",17),T(23,Xo,7,3,"div",17),T(24,Yo,8,3,"div",17),E(),w(25,18),a(26,"app-cms-search-list",19),L("optionsChange",function(m){return S(l),k(t.optionsSearch,m)||(t.optionsSearch=m),C(m)}),r(),a(27,"app-cms-statist-list",19),L("optionsChange",function(m){return S(l),k(t.optionsStatist,m)||(t.optionsStatist=m),C(m)}),r(),E(),w(28,20),a(29,"mat-table",21,0),b("matSortChange",function(){S(l);let m=pe(30);return C(t.onTableSortData(m))}),w(31,22),R(32,Zo,2,1,"mat-header-cell",23)(33,en,2,1,"mat-cell",24),E(),w(34,25),R(35,tn,2,1,"mat-header-cell",23)(36,nn,5,7,"mat-cell",26),E(),w(37,27),R(38,rn,2,1,"mat-header-cell",23)(39,an,2,1,"mat-cell",24),E(),w(40,28),R(41,ln,2,1,"mat-header-cell",23)(42,sn,2,1,"mat-cell",24),E(),w(43,29),R(44,cn,2,1,"mat-header-cell",23)(45,mn,2,1,"mat-cell",24),E(),w(46,30),R(47,dn,2,1,"mat-header-cell",23)(48,un,2,1,"mat-cell",24),E(),w(49,31),R(50,pn,2,1,"mat-header-cell",23)(51,fn,3,3,"mat-cell",32),E(),w(52,33),R(53,Sn,3,3,"mat-header-cell",34)(54,Cn,6,1,"mat-cell",35),E(),w(55,36),R(56,hn,7,1,"mat-cell",24),E(),R(57,Mn,1,0,"mat-header-row",37)(58,_n,1,2,"mat-row",38),r(),E(),w(59,39),a(60,"mat-paginator",40,1),b("page",function(m){return S(l),C(t.onTablePageingData(m))}),r(),E(),r()}i&2&&(_("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),x("optionActionGuideNoticeDisplay",t.viewGuideNotice),_("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),n(6),y(t.requestLinkSiteId>0?6:-1),n(4),K("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),n(3),_("checked",t.optionsSearch.data.show),n(),h("",v(15,26,"ACTION.SEARCH")," "),n(3),_("checked",t.optionsStatist.data.show),n(),h("",v(19,28,"ACTION.STATIST")," "),n(4),y(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessWatchRow?22:-1),n(),y(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?23:-1),n(),y(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?24:-1),n(2),x("options",t.optionsSearch),n(),x("options",t.optionsStatist),n(2),_("dataSource",t.tableSource),n(28),_("matHeaderRowDef",t.tabledisplayedColumns),n(),_("matRowDefColumns",t.tabledisplayedColumns),n(2),_("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",Te(30,zo)))},dependencies:[te,Ae,Ye,et,ne,tt,it,ot,nt,rt,at,lt,ct,pt,mt,st,ft,dt,ut,St,Ct,vt,It,wt,Et,Dt,B,le,se,ce],encapsulation:2});var Xt=Jt;var bn=(o,s)=>s.id;function gn(o,s){if(o&1&&(a(0,"div",17)(1,"label"),c(2,"Subject Title"),r(),a(3,"span"),c(4),r()()),o&2){let e=f(2).$implicit;n(4),I(e.subjectTitle)}}function vn(o,s){if(o&1&&(a(0,"div",16)(1,"div",17)(2,"label"),c(3),r(),a(4,"span"),c(5),r()(),a(6,"div",17)(7,"label"),c(8),r(),a(9,"span",9),g(10,"statusCellClass"),M(11,"i",9),g(12,"statusIconClass"),r()(),a(13,"div",17)(14,"label"),c(15),r(),a(16,"span"),c(17),r()(),a(18,"div",17)(19,"label"),c(20),r(),a(21,"span"),c(22),r()(),a(23,"div",17)(24,"label"),c(25),r(),a(26,"span"),c(27),r()(),a(28,"div",17)(29,"label"),c(30),r(),a(31,"span"),c(32),r()(),a(33,"div",17)(34,"label"),c(35),r(),a(36,"span",18),c(37),g(38,"localeDateTime"),r()(),T(39,gn,5,1,"div",17),r()),o&2){let e=f().$implicit,i=f();n(3),I(i.fieldsInfo.id==null?null:i.fieldsInfo.id.fieldTitle),n(2),I(e.id),n(3),I(i.fieldsInfo.recordStatus==null?null:i.fieldsInfo.recordStatus.fieldTitle),n(),_("ngClass",v(10,16,e.recordStatus)),n(2),_("ngClass",v(12,18,e.recordStatus)),n(4),I(i.fieldsInfo.moduleName==null?null:i.fieldsInfo.moduleName.fieldTitle),n(2),I(e.moduleName),n(3),I(i.fieldsInfo.moduleEntityName==null?null:i.fieldsInfo.moduleEntityName.fieldTitle),n(2),I(e.moduleEntityName),n(3),I(i.fieldsInfo.moduleEntityId==null?null:i.fieldsInfo.moduleEntityId.fieldTitle),n(2),I(e.moduleEntityId),n(3),I(i.fieldsInfo.subjectBody==null?null:i.fieldsInfo.subjectBody.fieldTitle),n(2),I(e.subjectBody),n(3),I(i.fieldsInfo.createdDate==null?null:i.fieldsInfo.createdDate.fieldTitle),n(2),I(v(38,20,e.createdDate)),n(2),y(e.subjectTitle?39:-1)}}function In(o,s){if(o&1){let e=D();a(0,"button",20),b("click",function(){S(e);let t=f(2).$implicit,l=f();return l.onActionButtonViewRow(t),C(l.closeActionMenu())}),M(1,"i",21),c(2),g(3,"translate"),r()}o&2&&(n(2),h(" ",v(3,1,"ACTION.VIEW")," "))}function wn(o,s){if(o&1){let e=D();a(0,"button",20),b("click",function(){S(e);let t=f(2).$implicit,l=f();return l.onActionButtonEditRow(t),C(l.closeActionMenu())}),M(1,"i",22),c(2),g(3,"translate"),r()}o&2&&(n(2),h(" ",v(3,1,"ACTION.EDIT")," "))}function En(o,s){if(o&1){let e=D();a(0,"button",20),b("click",function(){S(e);let t=f(2).$implicit,l=f();return l.onActionButtonDeleteRow(t),C(l.closeActionMenu())}),M(1,"i",23),c(2),g(3,"translate"),r()}o&2&&(n(2),h(" ",v(3,1,"ACTION.DELETE")," "))}function Dn(o,s){if(o&1&&(a(0,"div",19),T(1,In,4,3,"button"),T(2,wn,4,3,"button"),T(3,En,4,3,"button"),r()),o&2){let e=f(2);n(),y(!(e.dataModelResult==null||e.dataModelResult.access==null)&&e.dataModelResult.access.accessWatchRow?1:-1),n(),y(!(e.dataModelResult==null||e.dataModelResult.access==null)&&e.dataModelResult.access.accessEditRow?2:-1),n(),y(!(e.dataModelResult==null||e.dataModelResult.access==null)&&e.dataModelResult.access.accessDeleteRow?3:-1)}}function Tn(o,s){if(o&1){let e=D();a(0,"div",3)(1,"div",4),b("click",function(t){let l=S(e).$implicit,u=f();return C(u.onActionTableRowSelect(l,t))}),a(2,"div",5)(3,"div",6)(4,"span",7),c(5),r(),a(6,"span",8),g(7,"statusCellClass"),M(8,"i",9),g(9,"statusIconClass"),r()(),a(10,"div",10)(11,"span"),c(12),r(),a(13,"span"),c(14),r()()(),a(15,"div",11)(16,"button",12),b("click",function(t){let l=S(e).$implicit;return f().toggleActionMenu(l.id),C(t.stopPropagation())}),M(17,"i",13),r()()(),R(18,vn,40,22,"div",14)(19,Dn,4,3,"div",15),r()}if(o&2){let e=s.$implicit,i=f();K("cms-m-row-expanded",i.getRowExpanded(e)),n(5),h("#",e.id),n(),_("ngClass",v(7,9,e.recordStatus)),n(2),_("ngClass",v(9,11,e.recordStatus)),n(4),I(e.moduleName),n(2),I(e.moduleEntityName),n(4),_("ngIf",i.getRowExpanded(e)),n(),_("ngIf",i.actionMenuOpen===i.toString(e.id))}}var Pt=class Pt extends Xt{constructor(){super(...arguments);this.actionMenuOpen=null}toggleActionMenu(e){let i=String(e);this.actionMenuOpen===i?this.actionMenuOpen=null:this.actionMenuOpen=i}closeActionMenu(){this.actionMenuOpen=null}toString(e){return String(e)}onDocumentClick(e){let i=e.target;!i.closest(".cms-m-action-menu")&&!i.closest(".cms-m-action-menu-dropdown")&&this.closeActionMenu()}};Pt.\u0275fac=(()=>{let e;return function(t){return(e||(e=Ie(Pt)))(t||Pt)}})(),Pt.\u0275cmp=N({type:Pt,selectors:[["app-coremodule-data-memo-list-mobile"]],hostBindings:function(i,t){i&1&&b("click",function(u){return t.onDocumentClick(u)},we)},standalone:!1,features:[O],decls:4,vars:7,consts:[[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionOnScrollNearBottom","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-mobile-content",""],[1,"cms-m-row",3,"cms-m-row-expanded"],[1,"cms-m-row"],[1,"cms-m-row-header",3,"click"],[1,"cms-m-row-main"],[1,"cms-m-row-title"],[1,"cms-m-row-id"],[1,"cms-m-row-status",3,"ngClass"],[3,"ngClass"],[1,"cms-m-row-subtitle"],[1,"cms-m-row-actions"],["type","button",1,"cms-m-action-menu",3,"click"],[1,"fa-solid","fa-ellipsis-vertical"],["class","cms-m-row-content",4,"ngIf"],["class","cms-m-action-menu-dropdown",4,"ngIf"],[1,"cms-m-row-content"],[1,"cms-m-row-field"],[2,"direction","ltr"],[1,"cms-m-action-menu-dropdown"],[3,"click"],[1,"fa-solid","fa-eye"],[1,"fa-solid","fa-pen"],[1,"fa-solid","fa-trash"]],template:function(i,t){i&1&&(a(0,"app-cms-html-list-mobile",0),L("optionActionGuideNoticeDisplayChange",function(u){return k(t.viewGuideNotice,u)||(t.viewGuideNotice=u),u}),b("optionOnActionButtonMemoRow",function(){return t.onActionButtonMemoRow()})("optionOnActionButtonMemo",function(){return t.onActionButtonMemo()})("optionOnActionButtonExport",function(){return t.onActionButtonExport()})("optionOnActionButtonPrintRow",function(){return t.onActionButtonPrintRow()})("optionOnScrollNearBottom",function(){return t.onActionLoadNextPage()}),w(1,1),Ee(2,Tn,20,13,"div",2,bn),E(),r()),i&2&&(_("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),x("optionActionGuideNoticeDisplay",t.viewGuideNotice),_("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),n(2),De(t.dataModelResult==null?null:t.dataModelResult.listItems))},dependencies:[te,Re,Tt,B,le,se,ce],encapsulation:2});var fi=Pt;var yn=["vform"];function Rn(o,s){if(o&1){let e=D();a(0,"div",17)(1,"button",18),b("click",function(){S(e);let t=f();return C(t.onFormCancel())}),M(2,"i",19),c(3),g(4,"translate"),r(),a(5,"button",20),M(6,"i",19),c(7),g(8,"translate"),r()()}o&2&&(n(3),h(" ",v(4,2,"ACTION.CANCEL")," "),n(4),h(" ",v(8,4,"ACTION.SAVE")," "))}var Yt=class Yt extends _t{constructor(e,i,t,l,u,m,d,V,X,Se){super(l,new Ue,X,Se);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.coreModuleDataPinService=l;this.cmsToastrService=u;this.tokenHelper=m;this.cmsStoreService=d;this.cdr=V;this.publicHelper=X;this.translate=Se;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new Ne;this.dataModel=new Ue;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id)}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>P(this,null,function*(){this.tokenInfo=e})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.coreModuleDataPinService.setAccessLoad(),this.coreModuleDataPinService.setAccessDataType(Ve.Editor),this.coreModuleDataPinService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.coreModuleDataPinService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e),this.formInfo.submitButtonEnabled=!0},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Yt.\u0275fac=function(i){return new(i||Yt)(p(oe),p(ie),p(j),p(je),p(U),p(q),p(W),p(G),p(Q),p(F))},Yt.\u0275cmp=N({type:Yt,selectors:[["app-coremodule-data-pin-edit"]],viewQuery:function(i,t){if(i&1&&Y(yn,5),i&2){let l;Z(l=ee())&&(t.formGroup=l.first)}},standalone:!1,features:[O],decls:27,vars:10,consts:[["vform","ngForm"],["ModuleName",""],["ModuleEntityName",""],["ModuleEntityId",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.moduleName",1,"color-highlight"],["matInput","","type","text","name","dataModel.moduleName","placeholder","ModuleName","id","dataModel.moduleName",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.moduleEntityName",1,"color-highlight"],["matInput","","type","text","name","dataModel.moduleEntityName","placeholder","moduleEntityName","id","dataModel.moduleEntityName",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.moduleEntityId",1,"color-highlight"],["matInput","","type","text","name","dataModel.moduleEntityId","placeholder","ModuleEntityId","id","dataModel.moduleEntityId",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green"]],template:function(i,t){if(i&1){let l=D();a(0,"div",4),M(1,"app-progress-spinner",5),a(2,"div",6)(3,"p",7),c(4),r(),a(5,"p"),c(6),g(7,"translate"),r(),M(8,"app-cms-form-result-message",8),a(9,"form",9,0),b("ngSubmit",function(){return S(l),C(t.onFormSubmit())}),a(11,"div",10)(12,"label",11),c(13,"ModuleName"),r(),a(14,"input",12,1),L("ngModelChange",function(m){return S(l),k(t.dataModel.moduleName,m)||(t.dataModel.moduleName=m),C(m)}),r()(),a(16,"div",10)(17,"label",13),c(18,"ModuleEntityName"),r(),a(19,"input",14,2),L("ngModelChange",function(m){return S(l),k(t.dataModel.moduleEntityName,m)||(t.dataModel.moduleEntityName=m),C(m)}),r()(),a(21,"div",10)(22,"label",15),c(23,"ModuleEntityId"),r(),a(24,"input",16,3),L("ngModelChange",function(m){return S(l),k(t.dataModel.moduleEntityId,m)||(t.dataModel.moduleEntityId=m),C(m)}),r()(),T(26,Rn,9,6,"div",17),r()()()}i&2&&(n(),_("optionsInfoAreaId",t.constructorInfoAreaId),n(3),h(" ",t.formInfo.formTitle," "),n(2),h(" ",v(7,8,"TITLE.Be_Careful_When_Entering_Information")," "),n(2),_("formInfo",t.formInfo),n(6),x("ngModel",t.dataModel.moduleName),n(5),x("ngModel",t.dataModel.moduleEntityName),n(5),x("ngModel",t.dataModel.moduleEntityId),n(2),y(t.formInfo.submitButtonEnabled?26:-1))},dependencies:[Xe,Qe,ze,Ke,Je,$e,ne,re,ae,B],encapsulation:2});var Si=Yt;var An=["vform"];function xn(o,s){if(o&1){let e=D();a(0,"div",7)(1,"button",8),b("click",function(){S(e);let t=f();return C(t.onFormCancel())}),M(2,"i",9),c(3),g(4,"translate"),r()()}o&2&&(n(3),h(" ",v(4,1,"ACTION.CANCEL")," "))}var Zt=class Zt{constructor(s,e,i,t,l,u,m,d,V,X){this.data=s;this.dialogRef=e;this.coreEnumService=i;this.coreModuleDataPinService=t;this.cmsToastrService=l;this.tokenHelper=u;this.cmsStoreService=m;this.cdr=d;this.publicHelper=V;this.translate=X;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.tokenInfo=new Pe;this.dataModelResult=new fe;this.dataModel=new Ue;this.formInfo=new Mt;this.dataModelEnumSendSmsStatusTypeResult=new fe;this.fieldsInfo=new Map;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,s&&(this.requestId=s.id+"")}ngOnInit(){if(this.translate.get("aaaaaaaaaTITLE.VIEWaaaaa").subscribe(s=>{this.formInfo.formTitle=s}),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(s=>s.tokenInfoStore).subscribe(s=>P(this,null,function*(){this.tokenInfo=s}))),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:s=>{this.dataModelEnumSendSmsStatusTypeResult=s}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(s=>s.unsubscribe())}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage="";let s=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(s,e,this.constructorInfoAreaId)}),this.coreModuleDataPinService.setAccessLoad(),this.coreModuleDataPinService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModel=e.item,e.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+e.item.id,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(e.errorMessage)),this.publicHelper.processService.processStop(s)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(s,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};Zt.\u0275fac=function(e){return new(e||Zt)(p(oe),p(ie),p(j),p(je),p(U),p(q),p(W),p(G),p(Q),p(F))},Zt.\u0275cmp=N({type:Zt,selectors:[["app-coremodule-data-pin-view"]],viewQuery:function(e,i){if(e&1&&Y(An,5),e&2){let t;Z(t=ee())&&(i.formGroup=t.first)}},standalone:!1,decls:9,vars:6,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection","loader-container"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[3,"formInfo"],[1,"ntk-cms-html-card-footer"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,i){e&1&&(a(0,"div",0),c(1),r(),a(2,"div",1),M(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),r(),a(5,"div",4),M(6,"app-cms-form-result-message",5),r(),a(7,"div",6),T(8,xn,5,3,"div",7),r()),e&2&&(n(),h(" ",i.formInfo.formTitle," "),n(2),_("optionsInfoAreaId",i.constructorInfoAreaId),n(),_("dataModel",i.dataModel)("optionMethod",1),n(2),_("formInfo",i.formInfo),n(2),y(i.formInfo.submitButtonEnabled?8:-1))},dependencies:[re,gt,ae,B],encapsulation:2});var Ci=Zt;var kn=()=>[5,10,20,100],Ln=o=>({display:o});function Nn(o,s){if(o&1){let e=D();a(0,"a",41),b("click",function(){S(e);let t=f();return C(t.onActionBackToParent())}),M(1,"i",42),r()}}function Bn(o,s){if(o&1){let e=D();a(0,"div",17)(1,"a",43),b("click",function(){S(e);let t=f();return C(t.onActionButtonViewRow(t.tableRowSelected))}),M(2,"i",44)(3,"br"),r(),a(4,"p",45),c(5),g(6,"translate"),r()()}o&2&&(n(5),h(" ",v(6,1,"ACTION.VIEW")," "))}function Vn(o,s){if(o&1){let e=D();a(0,"div",17)(1,"a",46),b("click",function(){S(e);let t=f();return C(t.onActionButtonEditRow(t.tableRowSelected))}),M(2,"i",47)(3,"br"),r(),a(4,"p",45),c(5),g(6,"translate"),r()()}o&2&&(n(5),h(" ",v(6,1,"ACTION.EDIT")," "))}function Pn(o,s){if(o&1){let e=D();a(0,"div",17)(1,"a",48),b("click",function(){S(e);let t=f();return C(t.onActionButtonDeleteRow(t.tableRowSelected))}),M(2,"i",49)(3,"br"),r(),a(4,"p",45),c(5),g(6,"translate"),r()()}o&2&&(n(5),h(" ",v(6,1,"ACTION.DELETE")," "))}function On(o,s){if(o&1&&(a(0,"mat-header-cell",50),c(1),r()),o&2){let e=f();n(),h(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function Gn(o,s){if(o&1&&(a(0,"mat-cell"),c(1),r()),o&2){let e=s.$implicit;n(),h(" ",e.id," ")}}function Hn(o,s){if(o&1&&(a(0,"mat-header-cell",50),c(1),r()),o&2){let e=f();n(),h(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function jn(o,s){if(o&1&&M(0,"select",52),o&2){let e=f().$implicit,i=f();_("contentService",i.contentService)("row",e)("ngStyle",ye(3,Ln,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function Fn(o,s){if(o&1&&(a(0,"mat-cell",51),g(1,"statusCellClass"),M(2,"i",51),g(3,"statusIconClass"),T(4,jn,1,5,"select",52),r()),o&2){let e=s.$implicit,i=f();_("ngClass",v(1,3,e.recordStatus)),n(2),_("ngClass",v(3,5,e.recordStatus)),n(2),y(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessEditRow?4:-1)}}function Wn(o,s){if(o&1&&(a(0,"mat-header-cell",50),c(1),r()),o&2){let e=f();n(),h(" ",e.fieldsInfo.moduleName==null?null:e.fieldsInfo.moduleName.fieldTitle," ")}}function qn(o,s){if(o&1&&(a(0,"mat-cell"),c(1),r()),o&2){let e=s.$implicit;n(),h(" ",e.moduleName," ")}}function Un(o,s){if(o&1&&(a(0,"mat-header-cell",50),c(1),r()),o&2){let e=f();n(),h(" ",e.fieldsInfo.moduleEntityName==null?null:e.fieldsInfo.moduleEntityName.fieldTitle," ")}}function Qn(o,s){if(o&1&&(a(0,"mat-cell"),c(1),r()),o&2){let e=s.$implicit;n(),h(" ",e.moduleEntityName," ")}}function zn(o,s){if(o&1&&(a(0,"mat-header-cell",50),c(1),r()),o&2){let e=f();n(),h(" ",e.fieldsInfo.moduleEntityId==null?null:e.fieldsInfo.moduleEntityId.fieldTitle," ")}}function Kn(o,s){if(o&1&&(a(0,"mat-cell"),c(1),r()),o&2){let e=s.$implicit;n(),h(" ",e.moduleEntityId," ")}}function $n(o,s){if(o&1&&(a(0,"mat-header-cell",50),c(1),r()),o&2){let e=f();n(),h(" ",e.fieldsInfo.subjectBody==null?null:e.fieldsInfo.subjectBody.fieldTitle," ")}}function Jn(o,s){if(o&1&&(a(0,"mat-cell"),c(1),r()),o&2){let e=s.$implicit;n(),h(" ",e.subjectBody," ")}}function Xn(o,s){if(o&1&&(a(0,"mat-header-cell",50),c(1),r()),o&2){let e=f();n(),h(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function Yn(o,s){if(o&1&&(a(0,"mat-cell",53),c(1),g(2,"localeDateTime"),r()),o&2){let e=s.$implicit;n(),h(" ",v(2,1,e.createdDate)," ")}}function Zn(o,s){o&1&&(a(0,"mat-header-cell"),c(1),g(2,"translate"),r()),o&2&&(n(),h(" ",v(2,1,"TITLE.OPTION")," "))}function er(o,s){if(o&1&&(a(0,"mat-cell",54)(1,"button",55)(2,"mat-icon"),c(3,"more_vert"),r()(),M(4,"mat-menu",null,2),r()),o&2){let e=pe(5);n(),_("matMenuTriggerFor",e)}}function tr(o,s){if(o&1&&(a(0,"mat-cell")(1,"div")(2,"table")(3,"tr"),M(4,"td"),a(5,"td"),c(6),r()()()()()),o&2){let e=s.$implicit;n(6),I(e.subjectTitle)}}function ir(o,s){o&1&&M(0,"mat-header-row")}function or(o,s){if(o&1){let e=D();a(0,"mat-row",56),b("click",function(t){let l=S(e).$implicit,u=f();return C(u.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=S(e).$implicit,u=f();return C(u.onActionTableRowSelect(l,t))}),r()}if(o&2){let e=s.$implicit,i=f();K("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var ei=class ei extends bt{constructor(e,i,t,l,u,m,d,V,X,Se,vi,yt,Ii){super(i,new Ue,yt,m,X);this.coreEnumService=e;this.contentService=i;this.cmsToastrService=t;this.cmsConfirmationDialogService=l;this.activatedRoute=u;this.tokenHelper=m;this.cdr=d;this.cmsStoreService=V;this.translate=X;this.router=Se;this.pageInfo=vi;this.publicHelper=yt;this.dialog=Ii;this.requestLinkSiteId=0;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new Be;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["recordStatus","ModuleName","ModuleEntityName","ModuleEntityId","SubjectBody","createdDate"];this.tabledisplayedColumnsMobileSource=["recordStatus","ModuleName","ModuleEntityName","ModuleEntityId","SubjectBody","createdDate"];this.unsubscribe=[];if(this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkSiteId>0){let z=new A;z.propertyName="LinkCmsSiteId",z.value=this.requestLinkSiteId,this.filteModelContent.filters.push(z)}this.optionsSearch.parentMethods={onSubmit:z=>this.onSubmitOptionsSearch(z)},this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=H.Descending,this.optionsSearch.data.filterModelContent=this.filteModelContent,this.optionsSearch.data.filterActionSearchRecordStatusShow=!0,this.tokenHelper.isAdminSite?(this.optionsSearch.data.filterActionSearchLinkUserIdShow=!0,this.optionsSearch.data.filterActionSearchLinkSiteIdShow=!0):(this.optionsSearch.data.filterActionSearchLinkSiteIdShow=!1,this.optionsSearch.data.filterActionSearchLinkUserIdShow=!1)}ngOnInit(){this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=H.Descending,this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>P(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}filterModelCompiler(e){let i=JSON.parse(JSON.stringify(e));return this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),i}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Ue);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=this.filterModelCompiler(this.filteModelContent);if(this.filteModelContent.filterActionSearchRecordStatus>0){let t=new A;t.propertyName="recordStatus",t.value=this.filteModelContent.filterActionSearchRecordStatus,i.filters.push(t)}if(this.filteModelContent.filterActionSearchLinkSiteId>0){let t=new A;t.propertyName="linkSiteId",t.value=this.filteModelContent.filterActionSearchLinkSiteId,i.filters.push(t)}if(this.filteModelContent.filterActionSearchLinkUserId>0){let t=new A;t.propertyName="linkUserId",t.value=this.filteModelContent.filterActionSearchLinkUserId,i.filters.push(t)}this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.applyDataGetAllResult(t),this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=H.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=H.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=H.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonViewRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Ci,{height:"90%",panelClass:i,enterAnimationDuration:$.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:$.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate})}onActionButtonEditRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Si,{height:"90%",panelClass:i,enterAnimationDuration:$.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:$.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(l=>{this.cmsToastrService.typeErrorSelected(l)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(l=>{i=l["MESSAGE.Please_Confirm"],t=l["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(l=>{if(l){let u=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(m=>{this.publicHelper.processService.processStart(u,m,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:m=>{m.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(u)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(u,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(d=>{i.set(d,0)}),this.translate.get("MESSAGE.All").subscribe(d=>{i.set(d,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(d=>{this.publicHelper.processService.processStart(t,d,this.constructorInfoAreaId)});let l=this.filterModelCompiler(this.filteModelContent);if(this.filteModelContent.filterActionSearchRecordStatus>0){let d=new A;d.propertyName="recordStatus",d.value=this.filteModelContent.filterActionSearchRecordStatus,l.filters.push(d)}if(this.filteModelContent.filterActionSearchLinkSiteId>0){let d=new A;d.propertyName="linkSiteId",d.value=this.filteModelContent.filterActionSearchLinkSiteId,l.filters.push(d)}if(this.filteModelContent.filterActionSearchLinkUserId>0){let d=new A;d.propertyName="linkUserId",d.value=this.filteModelContent.filterActionSearchLinkUserId,l.filters.push(d)}this.contentService.ServiceGetCount(l).subscribe({next:d=>{d.isSuccess?(this.translate.get("MESSAGE.All").subscribe(V=>{i.set(V,d.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(d.errorMessage),this.publicHelper.processService.processStop(t)},error:d=>{this.cmsToastrService.typeError(d),this.publicHelper.processService.processStop(t,!1)}});let u=this.filterModelCompiler(this.filteModelContent);if(this.filteModelContent.filterActionSearchRecordStatus>0){let d=new A;d.propertyName="recordStatus",d.value=this.filteModelContent.filterActionSearchRecordStatus,u.filters.push(d)}if(this.filteModelContent.filterActionSearchLinkSiteId>0){let d=new A;d.propertyName="linkSiteId",d.value=this.filteModelContent.filterActionSearchLinkSiteId,u.filters.push(d)}if(this.filteModelContent.filterActionSearchLinkUserId>0){let d=new A;d.propertyName="linkUserId",d.value=this.filteModelContent.filterActionSearchLinkUserId,u.filters.push(d)}let m=new A;m.propertyName="recordStatus",m.value=Le.Available,u.filters.push(m),this.contentService.ServiceGetCount(u).subscribe({next:d=>{d.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(V=>{i.set(V,d.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(d.errorMessage),this.publicHelper.processService.processStop(t)},error:d=>{this.cmsToastrService.typeError(d),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};ei.\u0275fac=function(i){return new(i||ei)(p(j),p(je),p(U),p(ve),p(xe),p(q),p(G),p(W),p(F),p(ke),p(ht),p(Q),p(Ze))},ei.\u0275cmp=N({type:ei,selectors:[["app-coremodule-data-pin-list"]],standalone:!1,features:[O],decls:62,vars:31,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],[1,"col-4"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","recordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","ModuleName"],["matColumnDef","ModuleEntityName"],["matColumnDef","ModuleEntityId"],["matColumnDef","SubjectBody"],["matColumnDef","createdDate"],["style","direction: ltr",4,"matCellDef"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],["matColumnDef","expandedDetail"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[2,"direction","ltr"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(i,t){if(i&1){let l=D();a(0,"app-cms-html-list",3),L("optionActionGuideNoticeDisplayChange",function(m){return S(l),k(t.viewGuideNotice,m)||(t.viewGuideNotice=m),C(m)}),b("optionOnActionButtonMemoRow",function(){return S(l),C(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return S(l),C(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return S(l),C(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return S(l),C(t.onActionButtonPrintRow())}),w(1,4),c(2," -------------------------------------- "),E(),ue(3,5)(4,6),w(5,7),T(6,Nn,2,0,"a",8),a(7,"a",9),b("click",function(){return S(l),C(t.viewGuideNotice=!t.viewGuideNotice)}),M(8,"i",10),r(),a(9,"a",9),b("click",function(){return S(l),C(t.onActionButtonReload())}),M(10,"i",11),r(),E(),w(11,12),a(12,"a",13),b("click",function(){return S(l),C(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),M(13,"mat-slide-toggle",14),c(14),g(15,"translate"),r(),a(16,"a",13),b("click",function(){return S(l),C(t.onActionButtonStatist())}),M(17,"mat-slide-toggle",14),c(18),g(19,"translate"),r(),E(),ue(20,15),w(21,16),T(22,Bn,7,3,"div",17),T(23,Vn,7,3,"div",17),T(24,Pn,7,3,"div",17),E(),w(25,18),a(26,"app-cms-search-list",19),L("optionsChange",function(m){return S(l),k(t.optionsSearch,m)||(t.optionsSearch=m),C(m)}),r(),a(27,"app-cms-statist-list",19),L("optionsChange",function(m){return S(l),k(t.optionsStatist,m)||(t.optionsStatist=m),C(m)}),r(),E(),w(28,20),a(29,"mat-table",21,0),b("matSortChange",function(){S(l);let m=pe(30);return C(t.onTableSortData(m))}),w(31,22),R(32,On,2,1,"mat-header-cell",23)(33,Gn,2,1,"mat-cell",24),E(),w(34,25),R(35,Hn,2,1,"mat-header-cell",23)(36,Fn,5,7,"mat-cell",26),E(),w(37,27),R(38,Wn,2,1,"mat-header-cell",23)(39,qn,2,1,"mat-cell",24),E(),w(40,28),R(41,Un,2,1,"mat-header-cell",23)(42,Qn,2,1,"mat-cell",24),E(),w(43,29),R(44,zn,2,1,"mat-header-cell",23)(45,Kn,2,1,"mat-cell",24),E(),w(46,30),R(47,$n,2,1,"mat-header-cell",23)(48,Jn,2,1,"mat-cell",24),E(),w(49,31),R(50,Xn,2,1,"mat-header-cell",23)(51,Yn,3,3,"mat-cell",32),E(),w(52,33),R(53,Zn,3,3,"mat-header-cell",34)(54,er,6,1,"mat-cell",35),E(),w(55,36),R(56,tr,7,1,"mat-cell",24),E(),R(57,ir,1,0,"mat-header-row",37)(58,or,1,2,"mat-row",38),r(),E(),w(59,39),a(60,"mat-paginator",40,1),b("page",function(m){return S(l),C(t.onTablePageingData(m))}),r(),E(),r()}i&2&&(_("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),x("optionActionGuideNoticeDisplay",t.viewGuideNotice),_("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),n(6),y(t.requestLinkSiteId>0?6:-1),n(4),K("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),n(3),_("checked",t.optionsSearch.data.show),n(),h("",v(15,26,"ACTION.SEARCH")," "),n(3),_("checked",t.optionsStatist.data.show),n(),h("",v(19,28,"ACTION.STATIST")," "),n(4),y(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessWatchRow?22:-1),n(),y(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?23:-1),n(),y(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?24:-1),n(2),x("options",t.optionsSearch),n(),x("options",t.optionsStatist),n(2),_("dataSource",t.tableSource),n(28),_("matHeaderRowDef",t.tabledisplayedColumns),n(),_("matRowDefColumns",t.tabledisplayedColumns),n(2),_("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",Te(30,kn)))},dependencies:[te,Ae,Ye,et,ne,tt,it,ot,nt,rt,at,lt,ct,pt,mt,st,ft,dt,ut,St,Ct,vt,It,wt,Et,Dt,B,le,se,ce],encapsulation:2});var ti=ei;var nr=(o,s)=>s.id;function rr(o,s){if(o&1&&(a(0,"div",17)(1,"label"),c(2,"Subject Title"),r(),a(3,"span"),c(4),r()()),o&2){let e=f(2).$implicit;n(4),I(e.subjectTitle)}}function ar(o,s){if(o&1&&(a(0,"div",16)(1,"div",17)(2,"label"),c(3),r(),a(4,"span"),c(5),r()(),a(6,"div",17)(7,"label"),c(8),r(),a(9,"span",9),g(10,"statusCellClass"),M(11,"i",9),g(12,"statusIconClass"),r()(),a(13,"div",17)(14,"label"),c(15),r(),a(16,"span"),c(17),r()(),a(18,"div",17)(19,"label"),c(20),r(),a(21,"span"),c(22),r()(),a(23,"div",17)(24,"label"),c(25),r(),a(26,"span"),c(27),r()(),a(28,"div",17)(29,"label"),c(30),r(),a(31,"span"),c(32),r()(),a(33,"div",17)(34,"label"),c(35),r(),a(36,"span",18),c(37),g(38,"localeDateTime"),r()(),T(39,rr,5,1,"div",17),r()),o&2){let e=f().$implicit,i=f();n(3),I(i.fieldsInfo.id==null?null:i.fieldsInfo.id.fieldTitle),n(2),I(e.id),n(3),I(i.fieldsInfo.recordStatus==null?null:i.fieldsInfo.recordStatus.fieldTitle),n(),_("ngClass",v(10,16,e.recordStatus)),n(2),_("ngClass",v(12,18,e.recordStatus)),n(4),I(i.fieldsInfo.moduleName==null?null:i.fieldsInfo.moduleName.fieldTitle),n(2),I(e.moduleName),n(3),I(i.fieldsInfo.moduleEntityName==null?null:i.fieldsInfo.moduleEntityName.fieldTitle),n(2),I(e.moduleEntityName),n(3),I(i.fieldsInfo.moduleEntityId==null?null:i.fieldsInfo.moduleEntityId.fieldTitle),n(2),I(e.moduleEntityId),n(3),I(i.fieldsInfo.subjectBody==null?null:i.fieldsInfo.subjectBody.fieldTitle),n(2),I(e.subjectBody),n(3),I(i.fieldsInfo.createdDate==null?null:i.fieldsInfo.createdDate.fieldTitle),n(2),I(v(38,20,e.createdDate)),n(2),y(e.subjectTitle?39:-1)}}function lr(o,s){if(o&1){let e=D();a(0,"button",20),b("click",function(){S(e);let t=f(2).$implicit,l=f();return l.onActionButtonViewRow(t),C(l.closeActionMenu())}),M(1,"i",21),c(2),g(3,"translate"),r()}o&2&&(n(2),h(" ",v(3,1,"ACTION.VIEW")," "))}function sr(o,s){if(o&1){let e=D();a(0,"button",20),b("click",function(){S(e);let t=f(2).$implicit,l=f();return l.onActionButtonEditRow(t),C(l.closeActionMenu())}),M(1,"i",22),c(2),g(3,"translate"),r()}o&2&&(n(2),h(" ",v(3,1,"ACTION.EDIT")," "))}function cr(o,s){if(o&1){let e=D();a(0,"button",20),b("click",function(){S(e);let t=f(2).$implicit,l=f();return l.onActionButtonDeleteRow(t),C(l.closeActionMenu())}),M(1,"i",23),c(2),g(3,"translate"),r()}o&2&&(n(2),h(" ",v(3,1,"ACTION.DELETE")," "))}function mr(o,s){if(o&1&&(a(0,"div",19),T(1,lr,4,3,"button"),T(2,sr,4,3,"button"),T(3,cr,4,3,"button"),r()),o&2){let e=f(2);n(),y(!(e.dataModelResult==null||e.dataModelResult.access==null)&&e.dataModelResult.access.accessWatchRow?1:-1),n(),y(!(e.dataModelResult==null||e.dataModelResult.access==null)&&e.dataModelResult.access.accessEditRow?2:-1),n(),y(!(e.dataModelResult==null||e.dataModelResult.access==null)&&e.dataModelResult.access.accessDeleteRow?3:-1)}}function dr(o,s){if(o&1){let e=D();a(0,"div",3)(1,"div",4),b("click",function(t){let l=S(e).$implicit,u=f();return C(u.onActionTableRowSelect(l,t))}),a(2,"div",5)(3,"div",6)(4,"span",7),c(5),r(),a(6,"span",8),g(7,"statusCellClass"),M(8,"i",9),g(9,"statusIconClass"),r()(),a(10,"div",10)(11,"span"),c(12),r(),a(13,"span"),c(14),r()()(),a(15,"div",11)(16,"button",12),b("click",function(t){let l=S(e).$implicit;return f().toggleActionMenu(l.id),C(t.stopPropagation())}),M(17,"i",13),r()()(),R(18,ar,40,22,"div",14)(19,mr,4,3,"div",15),r()}if(o&2){let e=s.$implicit,i=f();K("cms-m-row-expanded",i.getRowExpanded(e)),n(5),h("#",e.id),n(),_("ngClass",v(7,9,e.recordStatus)),n(2),_("ngClass",v(9,11,e.recordStatus)),n(4),I(e.moduleName),n(2),I(e.moduleEntityName),n(4),_("ngIf",i.getRowExpanded(e)),n(),_("ngIf",i.actionMenuOpen===i.toString(e.id))}}var Ot=class Ot extends ti{constructor(){super(...arguments);this.actionMenuOpen=null}toggleActionMenu(e){let i=String(e);this.actionMenuOpen===i?this.actionMenuOpen=null:this.actionMenuOpen=i}closeActionMenu(){this.actionMenuOpen=null}toString(e){return String(e)}onDocumentClick(e){let i=e.target;!i.closest(".cms-m-action-menu")&&!i.closest(".cms-m-action-menu-dropdown")&&this.closeActionMenu()}};Ot.\u0275fac=(()=>{let e;return function(t){return(e||(e=Ie(Ot)))(t||Ot)}})(),Ot.\u0275cmp=N({type:Ot,selectors:[["app-coremodule-data-pin-list-mobile"]],hostBindings:function(i,t){i&1&&b("click",function(u){return t.onDocumentClick(u)},we)},standalone:!1,features:[O],decls:4,vars:7,consts:[[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionOnScrollNearBottom","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-mobile-content",""],[1,"cms-m-row",3,"cms-m-row-expanded"],[1,"cms-m-row"],[1,"cms-m-row-header",3,"click"],[1,"cms-m-row-main"],[1,"cms-m-row-title"],[1,"cms-m-row-id"],[1,"cms-m-row-status",3,"ngClass"],[3,"ngClass"],[1,"cms-m-row-subtitle"],[1,"cms-m-row-actions"],["type","button",1,"cms-m-action-menu",3,"click"],[1,"fa-solid","fa-ellipsis-vertical"],["class","cms-m-row-content",4,"ngIf"],["class","cms-m-action-menu-dropdown",4,"ngIf"],[1,"cms-m-row-content"],[1,"cms-m-row-field"],[2,"direction","ltr"],[1,"cms-m-action-menu-dropdown"],[3,"click"],[1,"fa-solid","fa-eye"],[1,"fa-solid","fa-pen"],[1,"fa-solid","fa-trash"]],template:function(i,t){i&1&&(a(0,"app-cms-html-list-mobile",0),L("optionActionGuideNoticeDisplayChange",function(u){return k(t.viewGuideNotice,u)||(t.viewGuideNotice=u),u}),b("optionOnActionButtonMemoRow",function(){return t.onActionButtonMemoRow()})("optionOnActionButtonMemo",function(){return t.onActionButtonMemo()})("optionOnActionButtonExport",function(){return t.onActionButtonExport()})("optionOnActionButtonPrintRow",function(){return t.onActionButtonPrintRow()})("optionOnScrollNearBottom",function(){return t.onActionLoadNextPage()}),w(1,1),Ee(2,dr,20,13,"div",2,nr),E(),r()),i&2&&(_("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),x("optionActionGuideNoticeDisplay",t.viewGuideNotice),_("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),n(2),De(t.dataModelResult==null?null:t.dataModelResult.listItems))},dependencies:[te,Re,Tt,B,le,se,ce],encapsulation:2});var hi=Ot;var ur=["vform"];function pr(o,s){if(o&1){let e=D();a(0,"div",23)(1,"button",24),b("click",function(){S(e);let t=f();return C(t.onFormCancel())}),M(2,"i",25),c(3),g(4,"translate"),r(),a(5,"button",26),M(6,"i",25),c(7),g(8,"translate"),r()()}o&2&&(n(3),h(" ",v(4,2,"ACTION.CANCEL")," "),n(4),h(" ",v(8,4,"ACTION.SAVE")," "))}var ii=class ii extends _t{constructor(e,i,t,l,u,m,d,V,X,Se){super(l,new qe,X,Se);this.data=e;this.dialogRef=i;this.coreEnumService=t;this.coreModuleDataTaskService=l;this.cmsToastrService=u;this.tokenHelper=m;this.cmsStoreService=d;this.cdr=V;this.publicHelper=X;this.translate=Se;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.dataModelResult=new Ne;this.dataModel=new qe;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id)}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>P(this,null,function*(){this.tokenInfo=e})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.coreModuleDataTaskService.setAccessLoad(),this.coreModuleDataTaskService.setAccessDataType(Ve.Editor),this.coreModuleDataTaskService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.coreModuleDataTaskService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.submitResultMessage=t,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Success}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.submitResultMessage=t}),this.formInfo.submitResultMessage=i.errorMessage,this.formInfo.submitResultMessageType=this.formSubmitedStatusEnum.Error,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e),this.formInfo.submitButtonEnabled=!0},error:i=>{this.formInfo.submitButtonEnabled=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.submitButtonEnabled=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};ii.\u0275fac=function(i){return new(i||ii)(p(oe),p(ie),p(j),p(He),p(U),p(q),p(W),p(G),p(Q),p(F))},ii.\u0275cmp=N({type:ii,selectors:[["app-coremodule-data-task-edit"]],viewQuery:function(i,t){if(i&1&&Y(ur,5),i&2){let l;Z(l=ee())&&(t.formGroup=l.first)}},standalone:!1,features:[O],decls:37,vars:12,consts:[["vform","ngForm"],["ModuleName",""],["ModuleEntityName",""],["ModuleEntityId",""],["SubjectBody",""],["SubjectTitle",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"formInfo"],[3,"ngSubmit"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.moduleName",1,"color-highlight"],["matInput","","type","text","name","dataModel.moduleName","placeholder","ModuleName","id","dataModel.moduleName",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.moduleEntityName",1,"color-highlight"],["matInput","","type","text","name","dataModel.moduleEntityName","placeholder","moduleEntityName","id","dataModel.moduleEntityName",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.moduleEntityId",1,"color-highlight"],["matInput","","type","text","name","dataModel.moduleEntityId","placeholder","ModuleEntityId","id","dataModel.moduleEntityId",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.subjectBody",1,"color-highlight"],["matInput","","type","text","name","dataModel.subjectBody","placeholder","SubjectBody","id","dataModel.subjectBody",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.subjectTitle",1,"color-highlight"],["matInput","","type","text","name","dataModel.subjectTitle","placeholder","SubjectTitle","id","dataModel.subjectTitle",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green"]],template:function(i,t){if(i&1){let l=D();a(0,"div",6),M(1,"app-progress-spinner",7),a(2,"div",8)(3,"p",9),c(4),r(),a(5,"p"),c(6),g(7,"translate"),r(),M(8,"app-cms-form-result-message",10),a(9,"form",11,0),b("ngSubmit",function(){return S(l),C(t.onFormSubmit())}),a(11,"div",12)(12,"label",13),c(13,"ModuleName"),r(),a(14,"input",14,1),L("ngModelChange",function(m){return S(l),k(t.dataModel.moduleName,m)||(t.dataModel.moduleName=m),C(m)}),r()(),a(16,"div",12)(17,"label",15),c(18,"ModuleEntityName"),r(),a(19,"input",16,2),L("ngModelChange",function(m){return S(l),k(t.dataModel.moduleEntityName,m)||(t.dataModel.moduleEntityName=m),C(m)}),r()(),a(21,"div",12)(22,"label",17),c(23,"ModuleEntityId"),r(),a(24,"input",18,3),L("ngModelChange",function(m){return S(l),k(t.dataModel.moduleEntityId,m)||(t.dataModel.moduleEntityId=m),C(m)}),r()(),a(26,"div",12)(27,"label",19),c(28,"SubjectBody"),r(),a(29,"input",20,4),L("ngModelChange",function(m){return S(l),k(t.dataModel.subjectBody,m)||(t.dataModel.subjectBody=m),C(m)}),r()(),a(31,"div",12)(32,"label",21),c(33,"SubjectTitle"),r(),a(34,"input",22,5),L("ngModelChange",function(m){return S(l),k(t.dataModel.subjectTitle,m)||(t.dataModel.subjectTitle=m),C(m)}),r()(),T(36,pr,9,6,"div",23),r()()()}i&2&&(n(),_("optionsInfoAreaId",t.constructorInfoAreaId),n(3),h(" ",t.formInfo.formTitle," "),n(2),h(" ",v(7,10,"TITLE.Be_Careful_When_Entering_Information")," "),n(2),_("formInfo",t.formInfo),n(6),x("ngModel",t.dataModel.moduleName),n(5),x("ngModel",t.dataModel.moduleEntityName),n(5),x("ngModel",t.dataModel.moduleEntityId),n(5),x("ngModel",t.dataModel.subjectBody),n(5),x("ngModel",t.dataModel.subjectTitle),n(2),y(t.formInfo.submitButtonEnabled?36:-1))},dependencies:[Xe,Qe,ze,Ke,Je,$e,ne,re,ae,B],encapsulation:2});var Mi=ii;var fr=["vform"];function Sr(o,s){if(o&1){let e=D();a(0,"div",7)(1,"button",8),b("click",function(){S(e);let t=f();return C(t.onFormCancel())}),M(2,"i",9),c(3),g(4,"translate"),r()()}o&2&&(n(3),h(" ",v(4,1,"ACTION.CANCEL")," "))}var oi=class oi{constructor(s,e,i,t,l,u,m,d,V,X){this.data=s;this.dialogRef=e;this.coreEnumService=i;this.coreModuleDataTaskService=t;this.cmsToastrService=l;this.tokenHelper=u;this.cmsStoreService=m;this.cdr=d;this.publicHelper=V;this.translate=X;this.requestId="";this.constructorInfoAreaId=this.constructor.name;this.tokenInfo=new Pe;this.dataModelResult=new fe;this.dataModel=new qe;this.formInfo=new Mt;this.dataModelEnumSendSmsStatusTypeResult=new fe;this.fieldsInfo=new Map;this.fileManagerOpenForm=!1;this.unsubscribe=[];this.publicHelper.processService.cdr=this.cdr,s&&(this.requestId=s.id+"")}ngOnInit(){if(this.translate.get("aaaaaaaaaTITLE.VIEWaaaaa").subscribe(s=>{this.formInfo.formTitle=s}),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.unsubscribe.push(this.cmsStoreService.getState(s=>s.tokenInfoStore).subscribe(s=>P(this,null,function*(){this.tokenInfo=s}))),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:s=>{this.dataModelEnumSendSmsStatusTypeResult=s}})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(s=>s.unsubscribe())}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(e=>{this.formInfo.submitResultMessage=e}),this.formInfo.submitResultMessage="";let s=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(s,e,this.constructorInfoAreaId)}),this.coreModuleDataTaskService.setAccessLoad(),this.coreModuleDataTaskService.ServiceGetOneById(this.requestId).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModel=e.item,e.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+e.item.id,this.formInfo.submitResultMessage="",this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1,this.formInfo.submitResultMessageType=1):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.submitResultMessage=i}),this.formInfo.submitResultMessage=e.errorMessage,this.formInfo.submitResultMessageType=3,this.cmsToastrService.typeErrorMessage(e.errorMessage)),this.publicHelper.processService.processStop(s)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(s,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};oi.\u0275fac=function(e){return new(e||oi)(p(oe),p(ie),p(j),p(He),p(U),p(q),p(W),p(G),p(Q),p(F))},oi.\u0275cmp=N({type:oi,selectors:[["app-coremodule-data-task-view"]],viewQuery:function(e,i){if(e&1&&Y(fr,5),e&2){let t;Z(t=ee())&&(i.formGroup=t.first)}},standalone:!1,decls:9,vars:6,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection","loader-container"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[3,"formInfo"],[1,"ntk-cms-html-card-footer"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(e,i){e&1&&(a(0,"div",0),c(1),r(),a(2,"div",1),M(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),r(),a(5,"div",4),M(6,"app-cms-form-result-message",5),r(),a(7,"div",6),T(8,Sr,5,3,"div",7),r()),e&2&&(n(),h(" ",i.formInfo.formTitle," "),n(2),_("optionsInfoAreaId",i.constructorInfoAreaId),n(),_("dataModel",i.dataModel)("optionMethod",1),n(2),_("formInfo",i.formInfo),n(2),y(i.formInfo.submitButtonEnabled?8:-1))},dependencies:[re,gt,ae,B],encapsulation:2});var _i=oi;var Cr=()=>[5,10,20,100],hr=o=>({display:o});function Mr(o,s){if(o&1){let e=D();a(0,"a",41),b("click",function(){S(e);let t=f();return C(t.onActionBackToParent())}),M(1,"i",42),r()}}function _r(o,s){if(o&1){let e=D();a(0,"div",17)(1,"a",43),b("click",function(){S(e);let t=f();return C(t.onActionButtonViewRow(t.tableRowSelected))}),M(2,"i",44)(3,"br"),r(),a(4,"p",45),c(5),g(6,"translate"),r()()}o&2&&(n(5),h(" ",v(6,1,"ACTION.VIEW")," "))}function br(o,s){if(o&1){let e=D();a(0,"div",17)(1,"a",46),b("click",function(){S(e);let t=f();return C(t.onActionButtonEditRow(t.tableRowSelected))}),M(2,"i",47)(3,"br"),r(),a(4,"p",45),c(5),g(6,"translate"),r()()}o&2&&(n(5),h(" ",v(6,1,"ACTION.EDIT")," "))}function gr(o,s){if(o&1){let e=D();a(0,"div",17)(1,"a",48),b("click",function(){S(e);let t=f();return C(t.onActionButtonDeleteRow(t.tableRowSelected))}),M(2,"i",49)(3,"br"),r(),a(4,"p",45),c(5),g(6,"translate"),r()()}o&2&&(n(5),h(" ",v(6,1,"ACTION.DELETE")," "))}function vr(o,s){if(o&1&&(a(0,"mat-header-cell",50),c(1),r()),o&2){let e=f();n(),h(" ",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," ")}}function Ir(o,s){if(o&1&&(a(0,"mat-cell"),c(1),r()),o&2){let e=s.$implicit;n(),h(" ",e.id," ")}}function wr(o,s){if(o&1&&(a(0,"mat-header-cell",50),c(1),r()),o&2){let e=f();n(),h(" ",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle," ")}}function Er(o,s){if(o&1&&M(0,"select",52),o&2){let e=f().$implicit,i=f();_("contentService",i.contentService)("row",e)("ngStyle",ye(3,hr,e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function Dr(o,s){if(o&1&&(a(0,"mat-cell",51),g(1,"statusCellClass"),M(2,"i",51),g(3,"statusIconClass"),T(4,Er,1,5,"select",52),r()),o&2){let e=s.$implicit,i=f();_("ngClass",v(1,3,e.recordStatus)),n(2),_("ngClass",v(3,5,e.recordStatus)),n(2),y(!(i.dataModelResult==null||i.dataModelResult.access==null)&&i.dataModelResult.access.accessEditRow?4:-1)}}function Tr(o,s){if(o&1&&(a(0,"mat-header-cell",50),c(1),r()),o&2){let e=f();n(),h(" ",e.fieldsInfo.moduleName==null?null:e.fieldsInfo.moduleName.fieldTitle," ")}}function yr(o,s){if(o&1&&(a(0,"mat-cell"),c(1),r()),o&2){let e=s.$implicit;n(),h(" ",e.moduleName," ")}}function Rr(o,s){if(o&1&&(a(0,"mat-header-cell",50),c(1),r()),o&2){let e=f();n(),h(" ",e.fieldsInfo.moduleEntityName==null?null:e.fieldsInfo.moduleEntityName.fieldTitle," ")}}function Ar(o,s){if(o&1&&(a(0,"mat-cell"),c(1),r()),o&2){let e=s.$implicit;n(),h(" ",e.moduleEntityName," ")}}function xr(o,s){if(o&1&&(a(0,"mat-header-cell",50),c(1),r()),o&2){let e=f();n(),h(" ",e.fieldsInfo.moduleEntityId==null?null:e.fieldsInfo.moduleEntityId.fieldTitle," ")}}function kr(o,s){if(o&1&&(a(0,"mat-cell"),c(1),r()),o&2){let e=s.$implicit;n(),h(" ",e.moduleEntityId," ")}}function Lr(o,s){if(o&1&&(a(0,"mat-header-cell",50),c(1),r()),o&2){let e=f();n(),h(" ",e.fieldsInfo.subjectBody==null?null:e.fieldsInfo.subjectBody.fieldTitle," ")}}function Nr(o,s){if(o&1&&(a(0,"mat-cell"),c(1),r()),o&2){let e=s.$implicit;n(),h(" ",e.subjectBody," ")}}function Br(o,s){if(o&1&&(a(0,"mat-header-cell",50),c(1),r()),o&2){let e=f();n(),h(" ",e.fieldsInfo.createdDate==null?null:e.fieldsInfo.createdDate.fieldTitle," ")}}function Vr(o,s){if(o&1&&(a(0,"mat-cell",53),c(1),g(2,"localeDateTime"),r()),o&2){let e=s.$implicit;n(),h(" ",v(2,1,e.createdDate)," ")}}function Pr(o,s){o&1&&(a(0,"mat-header-cell"),c(1),g(2,"translate"),r()),o&2&&(n(),h(" ",v(2,1,"TITLE.OPTION")," "))}function Or(o,s){if(o&1&&(a(0,"mat-cell",54)(1,"button",55)(2,"mat-icon"),c(3,"more_vert"),r()(),M(4,"mat-menu",null,2),r()),o&2){let e=pe(5);n(),_("matMenuTriggerFor",e)}}function Gr(o,s){if(o&1&&(a(0,"mat-cell")(1,"div")(2,"table")(3,"tr"),M(4,"td"),a(5,"td"),c(6),r()()()()()),o&2){let e=s.$implicit;n(6),I(e.subjectTitle)}}function Hr(o,s){o&1&&M(0,"mat-header-row")}function jr(o,s){if(o&1){let e=D();a(0,"mat-row",56),b("click",function(t){let l=S(e).$implicit,u=f();return C(u.onActionTableRowSelect(l,t))})("rtclick",function(t){let l=S(e).$implicit,u=f();return C(u.onActionTableRowSelect(l,t))}),r()}if(o&2){let e=s.$implicit,i=f();K("ntk-row-selected",e.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var ni=class ni extends bt{constructor(e,i,t,l,u,m,d,V,X,Se,vi,yt,Ii){super(i,new qe,yt,m,X);this.coreEnumService=e;this.contentService=i;this.cmsToastrService=t;this.cmsConfirmationDialogService=l;this.activatedRoute=u;this.tokenHelper=m;this.cdr=d;this.cmsStoreService=V;this.translate=X;this.router=Se;this.pageInfo=vi;this.publicHelper=yt;this.dialog=Ii;this.requestLinkSiteId=0;this.constructorInfoAreaId=this.constructor.name;this.flag=!1;this.tableContentSelected=[];this.filteModelContent=new Be;this.filterDataModelQueryBuilder=[];this.tabledisplayedColumns=[];this.tabledisplayedColumnsSource=["recordStatus","ModuleName","ModuleEntityName","ModuleEntityId","SubjectBody","createdDate"];this.tabledisplayedColumnsMobileSource=["recordStatus","ModuleName","ModuleEntityName","ModuleEntityId","SubjectBody","createdDate"];this.unsubscribe=[];if(this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkSiteId>0){let z=new A;z.propertyName="LinkCmsSiteId",z.value=this.requestLinkSiteId,this.filteModelContent.filters.push(z)}this.optionsSearch.parentMethods={onSubmit:z=>this.onSubmitOptionsSearch(z)},this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=H.Descending,this.optionsSearch.data.filterModelContent=this.filteModelContent,this.optionsSearch.data.filterActionSearchRecordStatusShow=!0,this.tokenHelper.isAdminSite?(this.optionsSearch.data.filterActionSearchLinkUserIdShow=!0,this.optionsSearch.data.filterActionSearchLinkSiteIdShow=!0):(this.optionsSearch.data.filterActionSearchLinkSiteIdShow=!1,this.optionsSearch.data.filterActionSearchLinkUserIdShow=!1)}ngOnInit(){this.filteModelContent.sortColumn="createdDate",this.filteModelContent.sortType=H.Descending,this.tokenInfo=this.cmsStoreService.getStateAll.tokenInfoStore,this.tokenInfo&&this.DataGetAll(),this.unsubscribe.push(this.cmsStoreService.getState(e=>e.tokenInfoStore).subscribe(e=>P(this,null,function*(){this.tokenInfo=e,this.DataGetAll()})))}ngOnDestroy(){this.unsubscribe&&this.unsubscribe.forEach(e=>e.unsubscribe())}filterModelCompiler(e){let i=JSON.parse(JSON.stringify(e));return this.filterDataModelQueryBuilder&&this.filterDataModelQueryBuilder.length>0&&(i.filters=[...this.filterDataModelQueryBuilder]),i}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new qe);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=this.filterModelCompiler(this.filteModelContent);if(this.filteModelContent.filterActionSearchRecordStatus>0){let t=new A;t.propertyName="recordStatus",t.value=this.filteModelContent.filterActionSearchRecordStatus,i.filters.push(t)}if(this.filteModelContent.filterActionSearchLinkSiteId>0){let t=new A;t.propertyName="linkSiteId",t.value=this.filteModelContent.filterActionSearchLinkSiteId,i.filters.push(t)}if(this.filteModelContent.filterActionSearchLinkUserId>0){let t=new A;t.propertyName="linkUserId",t.value=this.filteModelContent.filterActionSearchLinkUserId,i.filters.push(t)}this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.applyDataGetAllResult(t),this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=H.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=H.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=H.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonViewRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(_i,{height:"90%",panelClass:i,enterAnimationDuration:$.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:$.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate})}onActionButtonEditRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Mi,{height:"90%",panelClass:i,enterAnimationDuration:$.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:$.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!(e?.id?.length>0)){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(l=>{this.cmsToastrService.typeErrorSelected(l)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(l=>{i=l["MESSAGE.Please_Confirm"],t=l["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(l=>{if(l){let u=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(m=>{this.publicHelper.processService.processStart(u,m,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:m=>{m.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(u)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(u,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(d=>{i.set(d,0)}),this.translate.get("MESSAGE.All").subscribe(d=>{i.set(d,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(d=>{this.publicHelper.processService.processStart(t,d,this.constructorInfoAreaId)});let l=this.filterModelCompiler(this.filteModelContent);if(this.filteModelContent.filterActionSearchRecordStatus>0){let d=new A;d.propertyName="recordStatus",d.value=this.filteModelContent.filterActionSearchRecordStatus,l.filters.push(d)}if(this.filteModelContent.filterActionSearchLinkSiteId>0){let d=new A;d.propertyName="linkSiteId",d.value=this.filteModelContent.filterActionSearchLinkSiteId,l.filters.push(d)}if(this.filteModelContent.filterActionSearchLinkUserId>0){let d=new A;d.propertyName="linkUserId",d.value=this.filteModelContent.filterActionSearchLinkUserId,l.filters.push(d)}this.contentService.ServiceGetCount(l).subscribe({next:d=>{d.isSuccess?(this.translate.get("MESSAGE.All").subscribe(V=>{i.set(V,d.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(d.errorMessage),this.publicHelper.processService.processStop(t)},error:d=>{this.cmsToastrService.typeError(d),this.publicHelper.processService.processStop(t,!1)}});let u=this.filterModelCompiler(this.filteModelContent);if(this.filteModelContent.filterActionSearchRecordStatus>0){let d=new A;d.propertyName="recordStatus",d.value=this.filteModelContent.filterActionSearchRecordStatus,u.filters.push(d)}if(this.filteModelContent.filterActionSearchLinkSiteId>0){let d=new A;d.propertyName="linkSiteId",d.value=this.filteModelContent.filterActionSearchLinkSiteId,u.filters.push(d)}if(this.filteModelContent.filterActionSearchLinkUserId>0){let d=new A;d.propertyName="linkUserId",d.value=this.filteModelContent.filterActionSearchLinkUserId,u.filters.push(d)}let m=new A;m.propertyName="recordStatus",m.value=Le.Available,u.filters.push(m),this.contentService.ServiceGetCount(u).subscribe({next:d=>{d.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(V=>{i.set(V,d.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(d.errorMessage),this.publicHelper.processService.processStop(t)},error:d=>{this.cmsToastrService.typeError(d),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){e&&e.length>0?this.filterDataModelQueryBuilder=[...e]:this.filterDataModelQueryBuilder=[],this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};ni.\u0275fac=function(i){return new(i||ni)(p(j),p(He),p(U),p(ve),p(xe),p(q),p(G),p(W),p(F),p(ke),p(ht),p(Q),p(Ze))},ni.\u0275cmp=N({type:ni,selectors:[["app-coremodule-data-task-list"]],standalone:!1,features:[O],decls:62,vars:31,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],[1,"col-4"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","recordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","ModuleName"],["matColumnDef","ModuleEntityName"],["matColumnDef","ModuleEntityId"],["matColumnDef","SubjectBody"],["matColumnDef","createdDate"],["style","direction: ltr",4,"matCellDef"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],["matColumnDef","expandedDetail"],[4,"matHeaderRowDef"],["class","ntk-row-mainfild",3,"ntk-row-selected","click","rtclick",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[2,"direction","ltr"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[1,"ntk-row-mainfild",3,"click","rtclick"]],template:function(i,t){if(i&1){let l=D();a(0,"app-cms-html-list",3),L("optionActionGuideNoticeDisplayChange",function(m){return S(l),k(t.viewGuideNotice,m)||(t.viewGuideNotice=m),C(m)}),b("optionOnActionButtonMemoRow",function(){return S(l),C(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return S(l),C(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return S(l),C(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return S(l),C(t.onActionButtonPrintRow())}),w(1,4),c(2," -------------------------------------- "),E(),ue(3,5)(4,6),w(5,7),T(6,Mr,2,0,"a",8),a(7,"a",9),b("click",function(){return S(l),C(t.viewGuideNotice=!t.viewGuideNotice)}),M(8,"i",10),r(),a(9,"a",9),b("click",function(){return S(l),C(t.onActionButtonReload())}),M(10,"i",11),r(),E(),w(11,12),a(12,"a",13),b("click",function(){return S(l),C(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),M(13,"mat-slide-toggle",14),c(14),g(15,"translate"),r(),a(16,"a",13),b("click",function(){return S(l),C(t.onActionButtonStatist())}),M(17,"mat-slide-toggle",14),c(18),g(19,"translate"),r(),E(),ue(20,15),w(21,16),T(22,_r,7,3,"div",17),T(23,br,7,3,"div",17),T(24,gr,7,3,"div",17),E(),w(25,18),a(26,"app-cms-search-list",19),L("optionsChange",function(m){return S(l),k(t.optionsSearch,m)||(t.optionsSearch=m),C(m)}),r(),a(27,"app-cms-statist-list",19),L("optionsChange",function(m){return S(l),k(t.optionsStatist,m)||(t.optionsStatist=m),C(m)}),r(),E(),w(28,20),a(29,"mat-table",21,0),b("matSortChange",function(){S(l);let m=pe(30);return C(t.onTableSortData(m))}),w(31,22),R(32,vr,2,1,"mat-header-cell",23)(33,Ir,2,1,"mat-cell",24),E(),w(34,25),R(35,wr,2,1,"mat-header-cell",23)(36,Dr,5,7,"mat-cell",26),E(),w(37,27),R(38,Tr,2,1,"mat-header-cell",23)(39,yr,2,1,"mat-cell",24),E(),w(40,28),R(41,Rr,2,1,"mat-header-cell",23)(42,Ar,2,1,"mat-cell",24),E(),w(43,29),R(44,xr,2,1,"mat-header-cell",23)(45,kr,2,1,"mat-cell",24),E(),w(46,30),R(47,Lr,2,1,"mat-header-cell",23)(48,Nr,2,1,"mat-cell",24),E(),w(49,31),R(50,Br,2,1,"mat-header-cell",23)(51,Vr,3,3,"mat-cell",32),E(),w(52,33),R(53,Pr,3,3,"mat-header-cell",34)(54,Or,6,1,"mat-cell",35),E(),w(55,36),R(56,Gr,7,1,"mat-cell",24),E(),R(57,Hr,1,0,"mat-header-row",37)(58,jr,1,2,"mat-row",38),r(),E(),w(59,39),a(60,"mat-paginator",40,1),b("page",function(m){return S(l),C(t.onTablePageingData(m))}),r(),E(),r()}i&2&&(_("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),x("optionActionGuideNoticeDisplay",t.viewGuideNotice),_("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),n(6),y(t.requestLinkSiteId>0?6:-1),n(4),K("rotation360",t.publicHelper.processService.process.inRunArea[t.constructorInfoAreaId]),n(3),_("checked",t.optionsSearch.data.show),n(),h("",v(15,26,"ACTION.SEARCH")," "),n(3),_("checked",t.optionsStatist.data.show),n(),h("",v(19,28,"ACTION.STATIST")," "),n(4),y(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessWatchRow?22:-1),n(),y(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessEditRow?23:-1),n(),y(!(t.dataModelResult==null||t.dataModelResult.access==null)&&t.dataModelResult.access.accessDeleteRow?24:-1),n(2),x("options",t.optionsSearch),n(),x("options",t.optionsStatist),n(2),_("dataSource",t.tableSource),n(28),_("matHeaderRowDef",t.tabledisplayedColumns),n(),_("matRowDefColumns",t.tabledisplayedColumns),n(2),_("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",Te(30,Cr)))},dependencies:[te,Ae,Ye,et,ne,tt,it,ot,nt,rt,at,lt,ct,pt,mt,st,ft,dt,ut,St,Ct,vt,It,wt,Et,Dt,B,le,se,ce],encapsulation:2});var ri=ni;var Fr=(o,s)=>s.id;function Wr(o,s){if(o&1&&(a(0,"div",17)(1,"label"),c(2,"Subject Title"),r(),a(3,"span"),c(4),r()()),o&2){let e=f(2).$implicit;n(4),I(e.subjectTitle)}}function qr(o,s){if(o&1&&(a(0,"div",16)(1,"div",17)(2,"label"),c(3),r(),a(4,"span"),c(5),r()(),a(6,"div",17)(7,"label"),c(8),r(),a(9,"span",9),g(10,"statusCellClass"),M(11,"i",9),g(12,"statusIconClass"),r()(),a(13,"div",17)(14,"label"),c(15),r(),a(16,"span"),c(17),r()(),a(18,"div",17)(19,"label"),c(20),r(),a(21,"span"),c(22),r()(),a(23,"div",17)(24,"label"),c(25),r(),a(26,"span"),c(27),r()(),a(28,"div",17)(29,"label"),c(30),r(),a(31,"span"),c(32),r()(),a(33,"div",17)(34,"label"),c(35),r(),a(36,"span",18),c(37),g(38,"localeDateTime"),r()(),T(39,Wr,5,1,"div",17),r()),o&2){let e=f().$implicit,i=f();n(3),I(i.fieldsInfo.id==null?null:i.fieldsInfo.id.fieldTitle),n(2),I(e.id),n(3),I(i.fieldsInfo.recordStatus==null?null:i.fieldsInfo.recordStatus.fieldTitle),n(),_("ngClass",v(10,16,e.recordStatus)),n(2),_("ngClass",v(12,18,e.recordStatus)),n(4),I(i.fieldsInfo.moduleName==null?null:i.fieldsInfo.moduleName.fieldTitle),n(2),I(e.moduleName),n(3),I(i.fieldsInfo.moduleEntityName==null?null:i.fieldsInfo.moduleEntityName.fieldTitle),n(2),I(e.moduleEntityName),n(3),I(i.fieldsInfo.moduleEntityId==null?null:i.fieldsInfo.moduleEntityId.fieldTitle),n(2),I(e.moduleEntityId),n(3),I(i.fieldsInfo.subjectBody==null?null:i.fieldsInfo.subjectBody.fieldTitle),n(2),I(e.subjectBody),n(3),I(i.fieldsInfo.createdDate==null?null:i.fieldsInfo.createdDate.fieldTitle),n(2),I(v(38,20,e.createdDate)),n(2),y(e.subjectTitle?39:-1)}}function Ur(o,s){if(o&1){let e=D();a(0,"button",20),b("click",function(){S(e);let t=f(2).$implicit,l=f();return l.onActionButtonViewRow(t),C(l.closeActionMenu())}),M(1,"i",21),c(2),g(3,"translate"),r()}o&2&&(n(2),h(" ",v(3,1,"ACTION.VIEW")," "))}function Qr(o,s){if(o&1){let e=D();a(0,"button",20),b("click",function(){S(e);let t=f(2).$implicit,l=f();return l.onActionButtonEditRow(t),C(l.closeActionMenu())}),M(1,"i",22),c(2),g(3,"translate"),r()}o&2&&(n(2),h(" ",v(3,1,"ACTION.EDIT")," "))}function zr(o,s){if(o&1){let e=D();a(0,"button",20),b("click",function(){S(e);let t=f(2).$implicit,l=f();return l.onActionButtonDeleteRow(t),C(l.closeActionMenu())}),M(1,"i",23),c(2),g(3,"translate"),r()}o&2&&(n(2),h(" ",v(3,1,"ACTION.DELETE")," "))}function Kr(o,s){if(o&1&&(a(0,"div",19),T(1,Ur,4,3,"button"),T(2,Qr,4,3,"button"),T(3,zr,4,3,"button"),r()),o&2){let e=f(2);n(),y(!(e.dataModelResult==null||e.dataModelResult.access==null)&&e.dataModelResult.access.accessWatchRow?1:-1),n(),y(!(e.dataModelResult==null||e.dataModelResult.access==null)&&e.dataModelResult.access.accessEditRow?2:-1),n(),y(!(e.dataModelResult==null||e.dataModelResult.access==null)&&e.dataModelResult.access.accessDeleteRow?3:-1)}}function $r(o,s){if(o&1){let e=D();a(0,"div",3)(1,"div",4),b("click",function(t){let l=S(e).$implicit,u=f();return C(u.onActionTableRowSelect(l,t))}),a(2,"div",5)(3,"div",6)(4,"span",7),c(5),r(),a(6,"span",8),g(7,"statusCellClass"),M(8,"i",9),g(9,"statusIconClass"),r()(),a(10,"div",10)(11,"span"),c(12),r(),a(13,"span"),c(14),r()()(),a(15,"div",11)(16,"button",12),b("click",function(t){let l=S(e).$implicit;return f().toggleActionMenu(l.id),C(t.stopPropagation())}),M(17,"i",13),r()()(),R(18,qr,40,22,"div",14)(19,Kr,4,3,"div",15),r()}if(o&2){let e=s.$implicit,i=f();K("cms-m-row-expanded",i.getRowExpanded(e)),n(5),h("#",e.id),n(),_("ngClass",v(7,9,e.recordStatus)),n(2),_("ngClass",v(9,11,e.recordStatus)),n(4),I(e.moduleName),n(2),I(e.moduleEntityName),n(4),_("ngIf",i.getRowExpanded(e)),n(),_("ngIf",i.actionMenuOpen===i.toString(e.id))}}var Gt=class Gt extends ri{constructor(){super(...arguments);this.actionMenuOpen=null}toggleActionMenu(e){let i=String(e);this.actionMenuOpen===i?this.actionMenuOpen=null:this.actionMenuOpen=i}closeActionMenu(){this.actionMenuOpen=null}toString(e){return String(e)}onDocumentClick(e){let i=e.target;!i.closest(".cms-m-action-menu")&&!i.closest(".cms-m-action-menu-dropdown")&&this.closeActionMenu()}};Gt.\u0275fac=(()=>{let e;return function(t){return(e||(e=Ie(Gt)))(t||Gt)}})(),Gt.\u0275cmp=N({type:Gt,selectors:[["app-coremodule-data-task-list-mobile"]],hostBindings:function(i,t){i&1&&b("click",function(u){return t.onDocumentClick(u)},we)},standalone:!1,features:[O],decls:4,vars:7,consts:[[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionOnScrollNearBottom","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-mobile-content",""],[1,"cms-m-row",3,"cms-m-row-expanded"],[1,"cms-m-row"],[1,"cms-m-row-header",3,"click"],[1,"cms-m-row-main"],[1,"cms-m-row-title"],[1,"cms-m-row-id"],[1,"cms-m-row-status",3,"ngClass"],[3,"ngClass"],[1,"cms-m-row-subtitle"],[1,"cms-m-row-actions"],["type","button",1,"cms-m-action-menu",3,"click"],[1,"fa-solid","fa-ellipsis-vertical"],["class","cms-m-row-content",4,"ngIf"],["class","cms-m-action-menu-dropdown",4,"ngIf"],[1,"cms-m-row-content"],[1,"cms-m-row-field"],[2,"direction","ltr"],[1,"cms-m-action-menu-dropdown"],[3,"click"],[1,"fa-solid","fa-eye"],[1,"fa-solid","fa-pen"],[1,"fa-solid","fa-trash"]],template:function(i,t){i&1&&(a(0,"app-cms-html-list-mobile",0),L("optionActionGuideNoticeDisplayChange",function(u){return k(t.viewGuideNotice,u)||(t.viewGuideNotice=u),u}),b("optionOnActionButtonMemoRow",function(){return t.onActionButtonMemoRow()})("optionOnActionButtonMemo",function(){return t.onActionButtonMemo()})("optionOnActionButtonExport",function(){return t.onActionButtonExport()})("optionOnActionButtonPrintRow",function(){return t.onActionButtonPrintRow()})("optionOnScrollNearBottom",function(){return t.onActionLoadNextPage()}),w(1,1),Ee(2,$r,20,13,"div",2,Fr),E(),r()),i&2&&(_("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),x("optionActionGuideNoticeDisplay",t.viewGuideNotice),_("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelect2Click)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),n(2),De(t.dataModelResult==null?null:t.dataModelResult.listItems))},dependencies:[te,Re,Tt,B,le,se,ce],encapsulation:2});var bi=Gt;var to=[{path:"",component:zt,data:{title:"ROUTE.COREMODULELOG"},children:[{path:"memo",component:fi,data:{title:"ROUTE.COREMODULELOG.MEMO"}},{path:"pin",component:hi,data:{title:"ROUTE.COREMODULELOG.PIN"}},{path:"task",component:bi,data:{title:"ROUTE.COREMODULELOG.TASK"}},{path:"comment",component:di,data:{title:"ROUTE.COREMODULELOG.COMMENT"}}]}];var io=[{path:"",component:zt,data:{title:"ROUTE.COREMODULELOG"},children:[{path:"memo",component:Xt,data:{title:"ROUTE.COREMODULELOG.MEMO"}},{path:"pin",component:ti,data:{title:"ROUTE.COREMODULELOG.PIN"}},{path:"task",component:ri,data:{title:"ROUTE.COREMODULELOG.TASK"}},{path:"comment",component:Ut,data:{title:"ROUTE.COREMODULELOG.COMMENT"}}]}];var Ht=class Ht{};Ht.\u0275fac=function(e){return new(e||Ht)},Ht.\u0275mod=li({type:Ht}),Ht.\u0275inj=ai({imports:[wi.forChild(window.innerWidth<1e3?to:io),wi]});var gi=Ht;var jt=class jt{};jt.\u0275fac=function(e){return new(e||jt)},jt.\u0275mod=li({type:jt}),jt.\u0275inj=ai({providers:[Ui,Qi,zi,Ki,$i,Oe,Ge,je,He,ve],imports:[gi,Wi,Ji,Xi.withConfig({warnOnNgModelWithFormControl:"never"}),Zi,eo,Yi]});var oo=jt;export{oo as CoreModuleDataModule};
